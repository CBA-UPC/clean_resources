/*! For license information please see app.5cb20c9a17a28749adeb.js.LICENSE.txt */
(()=>{var e,t={191:(e,t,r)=>{var n={"./cert2.json":64960,"./dev-prod.json":1743,"./dev.json":92306,"./env.json":87401,"./local-cert2.json":41089,"./local-prod.json":37786,"./local.json":15330,"./prod.json":1628,"./uat-prod.json":73827,"./uat.json":37428};function webpackContext(e){var t=webpackContextResolve(e);return r(t)}function webpackContextResolve(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(n)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=191},83525:(e,t)=>{"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var r=0,n={},o={};unction defaultEqualityCheck(e,t){if(Array.isArray(e)&&Array.isArray(t)){var r=!0,n=e.length;if(n!==t.length)return!1;for(var o=0;o<n;o++){if(!t[o]){r=!1;break}if(!defaultEqualityCheck(e[o],t[o])){r=!1;break}}return r}return e===t}function defaultMemoize(e,t,n){var o=arguments.length<=3||void 0===arguments[3]?defaultEqualityCheck:arguments[3],i=null,a=null;return function(){for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return null!==i&&i.length===c.length&&c.every(()||(t(c,n.wrappedFunc),a=n.apply(void 0,c)),i=c,e&&2===r&&console.log("[RESELECT] ",e," returned ",a," for call with args ",c),a}}function getDependencies(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(()){var r=t.map((function(e){return _typeof(e)})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}function createSelectorCreator(e,t){for(var i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return function(){for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];var l="";"string"==typeof s[0]&&(l=s.shift()),l&&(1===r&&console.log("[RESELECT] Creating selector ",l),n[l]=0);var u=0,f=s.pop(),d=getDependencies(s),p=function insider(){return u++,f.apply(void 0,arguments)};p.wrappedFunc=f;var h=e.apply(void 0,[l,function(e,t){l&&(!o[l]&&r>0&&(o[l]=t),o[l]&&o[l]!==t&&(console.error('[@stejar/reselect ERROR]: There are at least 2 Selectors with the name "'+l+'" (the name is used multiple times by different selectors'),console.error(o[l]),console.error(t)),1===r&&console.log("[RESELECT] Running ",l," with args ",e),n[l]+=1)},p,t].concat(a)),y=function selector(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var i=d.map(();return h.apply(void 0,_toConsumableArray(i))};return y.resultFunc=f,y.recomputations=y.resetRecomputations=y}}window.debugTable=n,t.mR=function(){var e=[];Object.keys(n).forEach((function(t){var r=t.split(".");if(r.length>1){var o={};r.forEach((),o["# runs"]=n[t],e.push(o)}else e.push({"Selector Name":t,"# runs":n[t]})})),console.table(e)};var i=t.P1=createSelectorCreator(defaultMemoize,defaultEqualityCheck)},63568:(e,t,r)=>{"use strict";var n=r(58971),o=r.n(n),i=r(30381),a=r.n(i),s=r(96486);function injectableForJs(e){return var c,l=r(48521);function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=injectableForJs([])(c=function(){function CacheService(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o();_classCallCheck(this,CacheService),this.storeInstance=e,this.debug=!1,this.enabled=!1}return function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(CacheService,[{key:"canCache",value:,{key:"log",value:function log(){if(this.debug){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((function(e){return console.log(e)}))}}},{key:"get",value:function get(e){if(this.canCache()){this.log("Trying to get item "+e);var t=this.storeInstance.get(e);return!t||this.isExpired(t)?(this.log("No data found or expired for  "+e),null):(this.log("Got data from cache for  "+e,JSON.parse(t.value)),JSON.parse(t.value))}}},{key:"clear",value:function clear(){this.log("Cache cleared"),this.storeInstance.clear()}},{key:"debugEnabled",value:function debugEnabled(){return this.debug}},{key:"getByTag",value:function getByTag(e){var t=this;this.log("Get item by tag: "+e);var r=[];return(0,s.each)(this.storeInstance.getAll(),(function(n){-1!==n.tags.includes(e)&&(t.isExpired(n)||r.push(JSON.parse(n.value)))})),this.log("Got items by tag: "+e,r),r}},{key:"clearByTag",value:function clearByTag(e){var t=this;this.log("Clear items by tag: "+e),(0,s.each)(this.storeInstance.getAll(),(function(r,n){-1!==r.tags.includes(e)&&t.remove(n)})),this.log("Cleared items by tag: "+e)}},{key:"remove",value:function remove(e){this.log("Removing item "+e),this.storeInstance.remove(e)}},{key:"clearByTags",value:function clearByTags(e){var t=this;this.log("Clear items by tags: "+e.join(", ")),(0,s.each)(this.storeInstance.getAll(),(function(r,n){(0,s.each)(e,(function(e){-1!==r.tags.includes(e)&&t.remove(n)}))})),this.log("Cleared items by tags: "+e.join(", "))}},{key:"enableDebug",value:function enableDebug(){this.debug=!0,this.log("Cache debug enabled"),this.storeInstance.enabled?this.enabled?this.log("Cache is enabled"):this.log("Cache is disabled due to settings"):this.log("Cache is disabled due to browser")}},{key:"disable",value:function disable(){this.enabled=!1,this.log("Cache is disabled due to settings")}},{key:"isEnabled",value:function isEnabled(){return this.enabled}},{key:"enable",value:,{key:"isExpired",value:function isExpired(e){return 0!=e.forcedExpirationDate&&e.forcedExpirationDate<a()().unix()?(this.log("Item "+e.name+" is expired."),this.remove(e.name),!0):(0!=e.expiration&&e.expiration<a()().unix()&&(this.log("Item "+e.name+" is expired but can still use it for now."),this.remove(e.name)),!1)}},{key:"set",value:function set(e,t,r,n,o){if(r||(r=0),n||(n=0),this.canCache()){var s=r?a()().add(r,"seconds"):0,c=n?a()().add(n,"seconds"):0;this.log("Setting item into cache "+e+" with expiration date: "+(s?(0,l.jsx)(i.Moment,{children:"expirationDate"}).format("YYYY-MM-DD HH:mm:ss"):"never")+" and a forced expiration date: "+(c?(0,l.jsx)(i.Moment,{children:"forcedExpirationDate"}).format("YYYY-MM-DD HH:mm:ss"):"never"),t);var u={name:e,value:JSON.stringify(t),expiration:0!==s?(0,l.jsx)(i.Moment,{children:"expirationDate"}).unix():s,forcedExpirationDate:0!==c?(0,l.jsx)(i.Moment,{children:"forcedExpirationDate"}).unix():c,tags:o||[]};this.storeInstance.set(e,u)}}}]),CacheService}())||c;function LoadedConfigurationAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedConfigurationAction_createClass(e,t,r){return t&&LoadedConfigurationAction_defineProperties(e.prototype,t),r&&LoadedConfigurationAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var f=LoadedConfigurationAction_createClass((function LoadedConfigurationAction(e){!function LoadedConfigurationAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedConfigurationAction),this.configuration=e}));function ConfigurationService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d,p=function(){function ConfigurationService(e,t){!function ConfigurationService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ConfigurationService),this.store=e,this.configurationLoaderContract=t}return function ConfigurationService_createClass(e,t,r){return t&&ConfigurationService_defineProperties(e.prototype,t),r&&ConfigurationService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ConfigurationService,[{key:"getLoader",value:function getLoader(){return this.configurationLoaderContract}},{key:"loadConfiguration",value:function loadConfiguration(e){var t=this;return this.configurationLoaderContract.loadConfiguration(e).then((function(e){if(!e)throw new Error("[Stejar.ConfigurationService] Could not load configuration");return t.store.dispatch(new f(e)),!0}))}}]),ConfigurationService}(),h=r(20745);r(28660);function namespace(e){return function getNamespacedName(e){var t="function"==typeof e?e.name:e.constructor.name;return e.namespace&&(t=e.namespace+"/"+t),e.constructor.namespace&&(t=e.constructor.namespace+"/"+t),t}function _construct(e,t,r){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&_setPrototypeOf(o,r.prototype),o},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function OldServiceManager_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y,g=r(41143),v=namespace("Stejar/Core")(d=function(){function ServiceManager(){!function OldServiceManager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ServiceManager),this.container={},this.providers={},this.implementsList={},this.bind(ServiceManager,this)}return function OldServiceManager_createClass(e,t,r){return t&&OldServiceManager_defineProperties(e.prototype,t),r&&OldServiceManager_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ServiceManager,[{key:"bind",value:function bind(e,t){return this.container[this.getNameFromResource(e)]=t,this}},{key:"alias",value:function alias(e,t){var r=this;return this.providers[this.getNameFromResource(e)]=this}},{key:"bindToMethod",value:function bindToMethod(e,t){return this.implementsList[e]=t,this}},{key:"factory",value:function factory(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.map((function(t){return t(e)})),this}},{key:"provide",value:function provide(e,t){var r=this;return this.providers[this.getNameFromResource(e)]=function(){var n=t(r);if(!n)throw new Error('The provider for the class "'.concat(e.name,'" must provide an instance of this class when initialized.'));return r.bind(r.getNameFromResource(e),n),n},this}},{key:"provider",value:function provider(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.map((function(t){var r=new t;e.provide(r.provides(),r.provide.bind(r))})),this}},{key:"get",value:function get(e){if(!e)return Object.assign({},this.container);if(this.container[this.getNameFromResource(e)])return this.container[this.getNameFromResource(e)];if(this.providers[this.getNameFromResource(e)])return this.providers[this.getNameFromResource(e)](this);var t=this.instantiate(e);return g(t,'Could not "get" '.concat(this.getNameFromResource(e))),this.bind(e,t),t}},{key:"instantiate",value:function instantiate(e){var t=this,r=Reflect.getMetadata("design:paramtypes",e);if(void 0===r)throw new Error("Could not get constructor dependencies for ".concat(e.name,". Did you forget to decorate it with @injectable ?"));if(!r)return new e;var n=[];try{r.forEach((function(e){return n.push(t.get(e))}))}catch(t){throw console.warn("Could not get constructor dependencies for ".concat(e.name,". Please check the bellow error for more details.")),t}var o=_construct(e,n);return Object.keys(this.implementsList).forEach((function(e){if(e in o)o[e](t.get(t.implementsList[e]));else for(var r in o)e===r&&o[e](t.get(t.implementsList[e]))})),o}},{key:"getNameFromResource",value:function getNameFromResource(e){return"string"==typeof e?e:getNamespacedName(e)}}]),ServiceManager}())||d;function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function ServiceManager_construct(e,t,r){return ServiceManager_construct=ServiceManager_isNativeReflectConstruct()?Reflect.construct.bind():ServiceManager_construct.apply(null,arguments)}function ServiceManager_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ServiceManager_setPrototypeOf(e,t){return ServiceManager_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ServiceManager_setPrototypeOf(e,t)}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}unction _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}var m=r(41143),b=namespace("Stejar/Core")(y=function(e){!function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ServiceManager_setPrototypeOf(e,t)}(ServiceManager,e);var t=ServiceManager);function ServiceManager(){var e;return function ServiceManager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ServiceManager),(e=t.call(this)).container={},e.providers={},e.implementsList={},e.bind(ServiceManager,_assertThisInitialized(e)),e}return function ServiceManager_createClass(e,t,r){return t&&ServiceManager_defineProperties(e.prototype,t),r&&ServiceManager_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ServiceManager,[{key:"bind",value:function bind(e,t){return this.container[this.getNameFromResource(e)]=t,this}},{key:"alias",value:function alias(e,t){var r=this;return this.providers[this.getNameFromResource(e)]=function(){return r.get(t)},this}},{key:"bindToMethod",value:,{key:"factory",value:function factory(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.map((function(t){return t(e)})),this}},{key:"provide",value:function provide(e,t){var r=this;return this.providers[this.getNameFromResource(e)]=function(){var n=t(r);if(!n)throw new Error('The provider for the class "'.concat(e.name,'" must provide an instance of this class when initialized.'));return r.bind(r.getNameFromResource(e),n),n},this}},{key:"provider",value:function provider(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.map((function(t){var r=new t;e.provide(r.provides(),r.provide.bind(r))})),this}},{key:"get",value:function get(e){if(!e)return Object.assign({},this.container);if(this.container[this.getNameFromResource(e)])return this.container[this.getNameFromResource(e)];if(this.providers[this.getNameFromResource(e)])return this.providers[this.getNameFromResource(e)](this);var t=this.instantiate(e);return m(t,'Could not "get" '.concat(this.getNameFromResource(e))),this.bind(e,t),t}},{key:"instantiate",value:function instantiate(e){var t=this,r=Reflect.getMetadata("design:paramtypes",e);if(void 0===r){if(void 0===e.reflectParamTypes)throw new Error("Could not get constructor dependencies for ".concat(e.name,". Did you forget to decorate it with @injectable ?"));r=e.reflectParamTypes}if(!r)return new e;var n=[];try{r.forEach(()}catch(t){throw console.warn("Could not get constructor dependencies for ".concat(e.name,". Please check the bellow error for more details.")),t}var o=ServiceManager_construct(e,n);return Object.keys(this.implementsList).forEach((function(e){if(e in o)o[e](t.get(t.implementsList[e]));else for(var r in o)e===r&&o[e](t.get(t.implementsList[e]))})),o}},{key:"getNameFromResource",value:]),ServiceManager}(v))||y;function BrowserApplication_typeof(e){return BrowserApplication_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BrowserApplication_typeof(e)}function BrowserApplication_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BrowserApplication_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BrowserApplication_setPrototypeOf(e,t){return BrowserApplication_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},BrowserApplication_setPrototypeOf(e,t)}function BrowserApplication_createSuper(e){var t=function BrowserApplication_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=BrowserApplication_getPrototypeOf(e);if(t){var o=BrowserApplication_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return BrowserApplication_possibleConstructorReturn(this,r)}}function BrowserApplication_possibleConstructorReturn(e,t){if(t&&("object"===BrowserApplication_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function BrowserApplication_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function BrowserApplication_getPrototypeOf(e){return BrowserApplication_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},BrowserApplication_getPrototypeOf(e)}r(76124),r(24362);var S,w=function(e){!function BrowserApplication_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BrowserApplication_setPrototypeOf(e,t)}(BrowserApplication,e);var t=BrowserApplication_createSuper(BrowserApplication);function BrowserApplication(){return BrowserApplication_classCallCheck(this,BrowserApplication),t.apply(this,arguments)}return function BrowserApplication_createClass(e,t,r){return t&&BrowserApplication_defineProperties(e.prototype,t),r&&BrowserApplication_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(BrowserApplication,[{key:"render",value:function render(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.getElementById(".root"),r=(0,h.s)(t);return r.render((0,l.jsx)(e,{serviceManager:this}))}}]),BrowserApplication}(b),P=r(41143),_=r.n(P);function Store_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function checkStore(e){_()(e,'[Stejar-Redux] You must "bootRedux()" before using the Store() class.')}var C=injectableForJs([])(S=function(){function Store(){!function Store_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Store),this.dispatch=this.dispatch.bind(this),this.bootRedux=this.bootRedux.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.replaceReducer=this.replaceReducer.bind(this),this.store=void 0}return function Store_createClass(e,t,r){return t&&Store_defineProperties(e.prototype,t),r&&Store_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(Store,[{key:"bootRedux",value:function bootRedux(e){this.store=e}},{key:"dispatch",value:function dispatch(e,t){return checkStore(this.store),"string"!=typeof e&&e.constructor&&e.constructor.name&&"Object"!==e.constructor.name&&(e={type:e.constructor.name,payload:e}),this.store.dispatch(t||"string"==typeof e?{type:e,payload:t}:e)}},{key:"getState",value:function getState(){return checkStore(this.store),this.store.getState()}},{key:"subscribe",value:function subscribe(e){return checkStore(this.store),this.store.subscribe(e)}},{key:"replaceReducer",value:function replaceReducer(e){return checkStore(this.store),this.store.replaceReducer(e)}}]),Store}())||S;function HttpResponse_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HttpResponse_createClass(e,t,r){return t&&HttpResponse_defineProperties(e.prototype,t),r&&HttpResponse_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var O=HttpResponse_createClass((function HttpResponse(e,t,r,n,o){!function HttpResponse_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HttpResponse),this.statusCode=e,this.statusText=t,this.request=r,this.data=n,this.headers=o}));function FetchAdapter_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var A=function(){function FetchAdapter(){if(function FetchAdapter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FetchAdapter),!window.fetch)throw console.warn('fetch() not found. Try to "npm i isomorphic-fetch" and then " import "isomorphic-fetch" before constructing the FetchAdapter"'),new Error("Fetch() is not defined. Did you forget to polyfill it?")}return function FetchAdapter_createClass(e,t,r){return t&&FetchAdapter_defineProperties(e.prototype,t),r&&FetchAdapter_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(FetchAdapter,[{key:"send",value:function send(e){var t={cache:"no-cache",method:e.getMethod()},r=e.getPath(),n=e.getTimeout();return e.getBodyParams()&&(t.body=e.getBodyParams()),(0,s.isEmpty)(e.getHeaderParams())||(t.headers||(t.headers={}),(0,s.each)(e.getHeaderParams(),()),(0,s.isEmpty)(e.getQueryParams())||(r+="?",(0,s.each)(e.getQueryParams(),(function(e,t){(0,s.isArray)(e)?e.forEach(():r+="".concat(t,"=").concat(e,"&")})),r=(0,s.trimEnd)(r,"&")),new Promise((function(o,i){var a=!1,s=setTimeout((function(){a=!0,i(new O(0,"Application error",e,"Timeout of "+n+"ms exceeded for "+r,{}))}),n);function returnAsJSON(e,t,r){e.clone().text().then((function(n){var o=n;try{o=JSON.parse(n)}catch(e){}r(new O(e.status,e.statusText,t,o,e.headers))}))}fetch(r,t).then((function(t){a||(clearTimeout(s),t.status>=200&&t.status<300?returnAsJSON(t,e,o):returnAsJSON(t,e,i))}),(function(t){a||i(new O(0,"Fetch error",e,t,{}))}))}))}}]),FetchAdapter}();function HttpService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HttpService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var k=function(){function HttpService(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new A;HttpService_classCallCheck(this,HttpService),this.adapter=e,this.requestsInProgress={},this.requestInterceptors=[],this.responseInterceptors=[],this.responseErrorInterceptors=[]}return function HttpService_createClass(e,t,r){return t&&HttpService_defineProperties(e.prototype,t),r&&HttpService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(HttpService,[{key:"addRequestInterceptor",value:function addRequestInterceptor(e){var t=this;return this.requestInterceptors.push(e),function(){var r=t.requestInterceptors.indexOf(e);t.requestInterceptors.splice(r,1)}}},{key:"addResponseInterceptor",value:function addResponseInterceptor(e){var t=this;return this.responseInterceptors.push(e),function(){var r=t.responseInterceptors.indexOf(e);t.responseInterceptors.splice(r,1)}}},{key:"addResponseErrorInterceptor",value:function addResponseErrorInterceptor(e){var t=this;return this.responseErrorInterceptors.push(e),},{key:"send",value:function send(e){for(var t=this,r=Promise.resolve(e),n=0;n<this.requestInterceptors.length;n++)r=r.then(this.requestInterceptors[n]);var o=[];return r.then((function(e){var r=JSON.stringify(e);return t.requestsInProgress[r]?t.requestsInProgress[r]:(o.push(r),e instanceof O?e:(t.requestsInProgress[r]=t.adapter.send(e),t.requestsInProgress[r]))})).then((function(e){return o.forEach((function(e){return delete t.requestsInProgress[e]})),e})).then((function(e){for(var r=Promise.resolve(e),n=0;n<t.responseInterceptors.length;n++)r=r.then(t.responseInterceptors[n]);return r})).catch((function(e){if(o.forEach((),0===t.responseErrorInterceptors.length)return Promise.reject(e);for(var r=Promise.resolve(e),n=0;n<t.responseErrorInterceptors.length;n++)r=r.then(t.responseErrorInterceptors[n]).catch(();return r}))}}]),HttpService}();function HttpProvider_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var x=function(){function HttpProvider(){!function HttpProvider_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HttpProvider)}return function HttpProvider_createClass(e,t,r){return t&&HttpProvider_defineProperties(e.prototype,t),r&&HttpProvider_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(HttpProvider,[{key:"provides",value:function provides(){return k}},{key:"provide",value:function provide(){return window.fetch||r(94301),new k(new A)}}]),HttpProvider}(),I=r(83525);function ReducerStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var j,L=function(){function ReducerStore(e){!function ReducerStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReducerStore),this._store=e,this.bindings={}}return function ReducerStore_createClass(e,t,r){return t&&ReducerStore_defineProperties(e.prototype,t),r&&ReducerStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ReducerStore,[{key:"setStore",value:function setStore(e){this._store=e}},{key:"getState",value:function getState(){return this._store.getState()}},{key:"bind",value:function bind(e,t){return e||(e="@STORE_INIT"),this.bindings[e]=t.bind(this),this}}]),ReducerStore}();function ConfigurationStore_typeof(e){return ConfigurationStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ConfigurationStore_typeof(e)}function ConfigurationStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ConfigurationStore_setPrototypeOf(e,t){return ConfigurationStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ConfigurationStore_setPrototypeOf(e,t)}function ConfigurationStore_createSuper(e){var t=function ConfigurationStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ConfigurationStore_getPrototypeOf(e);if(t){var o=ConfigurationStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ConfigurationStore_possibleConstructorReturn(this,r)}}function ConfigurationStore_possibleConstructorReturn(e,t){if(t&&("object"===ConfigurationStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ConfigurationStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ConfigurationStore_getPrototypeOf(e){return ConfigurationStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ConfigurationStore_getPrototypeOf(e)}var E=injectableForJs([])(j=function(e){!function ConfigurationStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ConfigurationStore_setPrototypeOf(e,t)}(ConfigurationStore,e);var t=ConfigurationStore_createSuper(ConfigurationStore);function ConfigurationStore(){var e;return function ConfigurationStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ConfigurationStore),(e=t.call(this)).bind(f.name,e.loadedConfiguration),e}return function ConfigurationStore_createClass(e,t,r){return t&&ConfigurationStore_defineProperties(e.prototype,t),r&&ConfigurationStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ConfigurationStore,[{key:"loadedConfiguration",value:function loadedConfiguration(e,t){return Object.assign({},e,t.configuration)}},{key:"getConfig",value:function getConfig(){return F.getConfiguration(this.getState())}}]),ConfigurationStore}(L))||j,F={getConfiguration:(0,I.P1)((function(e){return e[E.name]}),(function(e){return e}))};function LoadedEnvAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedEnvAction_createClass(e,t,r){return t&&LoadedEnvAction_defineProperties(e.prototype,t),r&&LoadedEnvAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var G,T,R=LoadedEnvAction_createClass((function LoadedEnvAction(e){!function LoadedEnvAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedEnvAction),this.env=e}));function EnvironmentStore_typeof(e){return EnvironmentStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EnvironmentStore_typeof(e)}function EnvironmentStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function EnvironmentStore_setPrototypeOf(e,t){return EnvironmentStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},EnvironmentStore_setPrototypeOf(e,t)}function EnvironmentStore_createSuper(e){var t=function EnvironmentStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=EnvironmentStore_getPrototypeOf(e);if(t){var o=EnvironmentStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return EnvironmentStore_possibleConstructorReturn(this,r)}}function EnvironmentStore_possibleConstructorReturn(e,t){if(t&&("object"===EnvironmentStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function EnvironmentStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function EnvironmentStore_getPrototypeOf(e){return EnvironmentStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},EnvironmentStore_getPrototypeOf(e)}var N=injectableForJs([])((T=function(e){!function EnvironmentStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EnvironmentStore_setPrototypeOf(e,t)}(EnvironmentStore,e);var t=EnvironmentStore_createSuper(EnvironmentStore);function EnvironmentStore(){var e;return function EnvironmentStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnvironmentStore),(e=t.call(this)).bind(R.name,e.loadedConfiguration),e}return function EnvironmentStore_createClass(e,t,r){return t&&EnvironmentStore_defineProperties(e.prototype,t),r&&EnvironmentStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(EnvironmentStore,[{key:"loadedConfiguration",value:function loadedConfiguration(e,t){return Object.assign({},e,{currentEnv:t.env})}}]),EnvironmentStore}(L),T,"getCurrentEnv",(function(e){return e.EnvironmentStore.currentEnv})),G=T))||G;function LoggedOutAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoggedOutAction_createClass(e,t,r){return t&&LoggedOutAction_defineProperties(e.prototype,t),r&&LoggedOutAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var U=LoggedOutAction_createClass((function LoggedOutAction(){!function LoggedOutAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoggedOutAction)}));function ToggleShowAvatarComponentAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleShowAvatarComponentAction_createClass(e,t,r){return t&&ToggleShowAvatarComponentAction_defineProperties(e.prototype,t),r&&ToggleShowAvatarComponentAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var D=ToggleShowAvatarComponentAction_createClass((function ToggleShowAvatarComponentAction(e){!function ToggleShowAvatarComponentAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleShowAvatarComponentAction),this.show=e}));function ChangeAvatarGameAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeAvatarGameAction_createClass(e,t,r){return t&&ChangeAvatarGameAction_defineProperties(e.prototype,t),r&&ChangeAvatarGameAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var M=ChangeAvatarGameAction_createClass((function ChangeAvatarGameAction(e){!function ChangeAvatarGameAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeAvatarGameAction),this.gameCode=e}));function ChangeAvatarSelectedAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeAvatarSelectedAction_createClass(e,t,r){return t&&ChangeAvatarSelectedAction_defineProperties(e.prototype,t),r&&ChangeAvatarSelectedAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var B=ChangeAvatarSelectedAction_createClass((function ChangeAvatarSelectedAction(e){!function ChangeAvatarSelectedAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeAvatarSelectedAction),this.avatarId=e}));function ChangeAvatarInputValueAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeAvatarInputValueAction_createClass(e,t,r){return t&&ChangeAvatarInputValueAction_defineProperties(e.prototype,t),r&&ChangeAvatarInputValueAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var V=ChangeAvatarInputValueAction_createClass((function ChangeAvatarInputValueAction(e){!function ChangeAvatarInputValueAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeAvatarInputValueAction),this.input=e}));function ToggleShowSelecteAvatarOverlayAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleShowSelecteAvatarOverlayAction_createClass(e,t,r){return t&&ToggleShowSelecteAvatarOverlayAction_defineProperties(e.prototype,t),r&&ToggleShowSelecteAvatarOverlayAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var W=ToggleShowSelecteAvatarOverlayAction_createClass((function ToggleShowSelecteAvatarOverlayAction(e){!function ToggleShowSelecteAvatarOverlayAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleShowSelecteAvatarOverlayAction),this.toggle=e}));function ToggleStopAvatarEventPropagationAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleStopAvatarEventPropagationAction_createClass(e,t,r){return t&&ToggleStopAvatarEventPropagationAction_defineProperties(e.prototype,t),r&&ToggleStopAvatarEventPropagationAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var H=ToggleStopAvatarEventPropagationAction_createClass((function ToggleStopAvatarEventPropagationAction(e){!function ToggleStopAvatarEventPropagationAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleStopAvatarEventPropagationAction),this.toggle=e}));function ToggleShowAvatarSelectorAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleShowAvatarSelectorAction_createClass(e,t,r){return t&&ToggleShowAvatarSelectorAction_defineProperties(e.prototype,t),r&&ToggleShowAvatarSelectorAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var q=ToggleShowAvatarSelectorAction_createClass((function ToggleShowAvatarSelectorAction(e){!function ToggleShowAvatarSelectorAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleShowAvatarSelectorAction),this.toggle=e}));function AvatarGalleryFailedAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AvatarGalleryFailedAction_createClass(e,t,r){return t&&AvatarGalleryFailedAction_defineProperties(e.prototype,t),r&&AvatarGalleryFailedAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var z=AvatarGalleryFailedAction_createClass((function AvatarGalleryFailedAction(e){!function AvatarGalleryFailedAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AvatarGalleryFailedAction),this.toggle=e}));function CheckIntervalAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CheckIntervalAction_createClass(e,t,r){return t&&CheckIntervalAction_defineProperties(e.prototype,t),r&&CheckIntervalAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Q=CheckIntervalAction_createClass((function CheckIntervalAction(){!function CheckIntervalAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CheckIntervalAction)}));function AvatarImageLoadingAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AvatarImageLoadingAction_createClass(e,t,r){return t&&AvatarImageLoadingAction_defineProperties(e.prototype,t),r&&AvatarImageLoadingAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Y=AvatarImageLoadingAction_createClass((function AvatarImageLoadingAction(e){!function AvatarImageLoadingAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AvatarImageLoadingAction),this.isAvatarImageLoadin=e}));function PurgeAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PurgeAction_createClass(e,t,r){return t&&PurgeAction_defineProperties(e.prototype,t),r&&PurgeAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var X,K,$=PurgeAction_createClass((function PurgeAction(){!function PurgeAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PurgeAction)}));function ChangeAvatarStore_typeof(e){return ChangeAvatarStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ChangeAvatarStore_typeof(e)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){ChangeAvatarStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ChangeAvatarStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeAvatarStore_setPrototypeOf(e,t){return ChangeAvatarStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ChangeAvatarStore_setPrototypeOf(e,t)}function ChangeAvatarStore_createSuper(e){var t=function ChangeAvatarStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ChangeAvatarStore_getPrototypeOf(e);if(t){var o=ChangeAvatarStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ChangeAvatarStore_possibleConstructorReturn(this,r)}}function ChangeAvatarStore_possibleConstructorReturn(e,t){if(t&&("object"===ChangeAvatarStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ChangeAvatarStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ChangeAvatarStore_getPrototypeOf(e){return ChangeAvatarStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ChangeAvatarStore_getPrototypeOf(e)}function ChangeAvatarStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var J=injectableForJs([])((K=function(e){!function ChangeAvatarStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ChangeAvatarStore_setPrototypeOf(e,t)}(ChangeAvatarStore,e);var t=ChangeAvatarStore_createSuper(ChangeAvatarStore);function ChangeAvatarStore(){var e;return function ChangeAvatarStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeAvatarStore),(e=t.call(this)).bind(null,(function(){return{showAvatarComponent:!1,selectedGameCode:null,writtenGameName:null,avatarId:null,showResizeAvatar:!1,showSelectedAvatarOverlay:!1,stopEventPropagation:!1,showGameSelectorTooltip:!1,hasGalleryServiceError:!1,avatarIntervalCheck:!1,isAvatarImageLoadin:!1}})),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(M.name,e.handleChangeAvatarGameAction),e.bind(V.name,e.handleChangeAvatarInputValueAction),e.bind(B.name,e.handleChangeAvatarSelectedAction),e.bind(D.name,e.handleToggleShowAvatarComponentAction),e.bind(W.name,e.handleToggleShowSelecteAvatarOverlayAction),e.bind(H.name,e.handleToggleStopAvatarEventPropagationAction),e.bind(q.name,e.handleToggleShowAvatarSelectorAction),e.bind(z.name,e.handleAvatarGalleryFailedAction),e.bind(Q.name,e.handleCheckIntervalAction),e.bind(Y.name,e.handleAvatarImageLoadingAction),e}return function ChangeAvatarStore_createClass(e,t,r){return t&&ChangeAvatarStore_defineProperties(e.prototype,t),r&&ChangeAvatarStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ChangeAvatarStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{showAvatarComponent:!1,selectedGameCode:null,writtenGameName:null,avatarId:null,showSelectedAvatarOverlay:!1,stopEventPropagation:!1,showGameSelectorTooltip:!0,hasGalleryServiceError:!1,avatarIntervalCheck:!1,isAvatarImageLoadin:!1}}},{key:"handleToggleShowAvatarComponentAction",value:function handleToggleShowAvatarComponentAction(e,t){return _objectSpread(_objectSpread({},e),{showAvatarComponent:t.show})}},{key:"handleChangeAvatarGameAction",value:function handleChangeAvatarGameAction(e,t){return _objectSpread(_objectSpread({},e),{selectedGameCode:t.gameCode})}},{key:"handleChangeAvatarInputValueAction",value:function handleChangeAvatarInputValueAction(e,t){return _objectSpread(_objectSpread({},e),{writtenGameName:t.input})}},{key:"handleChangeAvatarSelectedAction",value:function handleChangeAvatarSelectedAction(e,t){return _objectSpread(_objectSpread({},e),{avatarId:t.avatarId})}},{key:"handleToggleShowSelecteAvatarOverlayAction",value:function handleToggleShowSelecteAvatarOverlayAction(e,t){return _objectSpread(_objectSpread({},e),{showSelectedAvatarOverlay:t.toggle})}},{key:"handleToggleStopAvatarEventPropagationAction",value:function handleToggleStopAvatarEventPropagationAction(e,t){return _objectSpread(_objectSpread({},e),{stopEventPropagation:t.toggle})}},{key:"handleToggleShowAvatarSelectorAction",value:function handleToggleShowAvatarSelectorAction(e,t){return _objectSpread(_objectSpread({},e),{showGameSelectorTooltip:t.toggle})}},{key:"handleAvatarGalleryFailedAction",value:function handleAvatarGalleryFailedAction(e,t){return _objectSpread(_objectSpread({},e),{hasGalleryServiceError:t.toggle})}},{key:"handleCheckIntervalAction",value:function handleCheckIntervalAction(e){return _objectSpread(_objectSpread({},e),{avatarIntervalCheck:!e.avatarIntervalCheck})}},{key:"handleAvatarImageLoadingAction",value:function handleAvatarImageLoadingAction(e,t){return _objectSpread(_objectSpread({},e),{isAvatarImageLoadin:t.isAvatarImageLoadin})}}]),ChangeAvatarStore}(L),ChangeAvatarStore_defineProperty(K,"getState",(function(e){return e.ChangeAvatarStore})),ChangeAvatarStore_defineProperty(K,"getShowAvatarComponent",(function(e){return e.ChangeAvatarStore.showAvatarComponent})),ChangeAvatarStore_defineProperty(K,"getAvatarId",(function(e){return e.ChangeAvatarStore.avatarId})),ChangeAvatarStore_defineProperty(K,"getSelectedGameCode",(function(e){return e.ChangeAvatarStore.selectedGameCode})),ChangeAvatarStore_defineProperty(K,"getWrittenGameName",(function(e){return e.ChangeAvatarStore.writtenGameName})),ChangeAvatarStore_defineProperty(K,"getShowSelectedAvatarOverlay",(function(e){return e.ChangeAvatarStore.showSelectedAvatarOverlay})),ChangeAvatarStore_defineProperty(K,"getStopEventPropagation",(function(e){return e.ChangeAvatarStore.stopEventPropagation})),ChangeAvatarStore_defineProperty(K,"getShowGameSelectorTooltip",(function(e){return e.ChangeAvatarStore.showGameSelectorTooltip})),ChangeAvatarStore_defineProperty(K,"getHasGalleryServiceError",(function(e){return e.ChangeAvatarStore.hasGalleryServiceError})),ChangeAvatarStore_defineProperty(K,"getAvatarIntervalCheck",(function(e){return e.ChangeAvatarStore.avatarIntervalCheck})),ChangeAvatarStore_defineProperty(K,"getIsAvatarImageLoadin",(function(e){return e.ChangeAvatarStore.isAvatarImageLoadin})),X=K))||X,Z="modal",ee="popup",te={LOGIN_NONE:"none",LOGIN_PSN:"psn",LOGIN_XBOX:"xbox",LOGIN_TWITCH:"twitch"},re="REDIRECT",ne="OPEN_NEW_TAB",oe="OPEN_POPUP",ie="Self",ae="Blank",se="PostMessage",ce="account",le="support",ue="store";function LoadedIntegratorConfigurationAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedIntegratorConfigurationAction_createClass(e,t,r){return t&&LoadedIntegratorConfigurationAction_defineProperties(e.prototype,t),r&&LoadedIntegratorConfigurationAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var fe,de=LoadedIntegratorConfigurationAction_createClass((function LoadedIntegratorConfigurationAction(e){!function LoadedIntegratorConfigurationAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedIntegratorConfigurationAction),this.configuration=e}));function IntegratorConfigurationStore_typeof(e){return IntegratorConfigurationStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IntegratorConfigurationStore_typeof(e)}function IntegratorConfigurationStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function IntegratorConfigurationStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IntegratorConfigurationStore_ownKeys(Object(r),!0).forEach((function(t){IntegratorConfigurationStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IntegratorConfigurationStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function IntegratorConfigurationStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IntegratorConfigurationStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IntegratorConfigurationStore_setPrototypeOf(e,t){return IntegratorConfigurationStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},IntegratorConfigurationStore_setPrototypeOf(e,t)}function IntegratorConfigurationStore_createSuper(e){var t=function IntegratorConfigurationStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=IntegratorConfigurationStore_getPrototypeOf(e);if(t){var o=IntegratorConfigurationStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return IntegratorConfigurationStore_possibleConstructorReturn(this,r)}}function IntegratorConfigurationStore_possibleConstructorReturn(e,t){if(t&&("object"===IntegratorConfigurationStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function IntegratorConfigurationStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function IntegratorConfigurationStore_getPrototypeOf(e){return IntegratorConfigurationStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},IntegratorConfigurationStore_getPrototypeOf(e)}var pe=injectableForJs([])(fe=function(e){!function IntegratorConfigurationStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IntegratorConfigurationStore_setPrototypeOf(e,t)}(IntegratorConfigurationStore,e);var t=IntegratorConfigurationStore_createSuper(IntegratorConfigurationStore);function IntegratorConfigurationStore(){var e;return function IntegratorConfigurationStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,IntegratorConfigurationStore),(e=t.call(this)).bind(de.name,e.loadedConfiguration),e}return function IntegratorConfigurationStore_createClass(e,t,r){return t&&IntegratorConfigurationStore_defineProperties(e.prototype,t),r&&IntegratorConfigurationStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(IntegratorConfigurationStore,[{key:"loadedConfiguration",value:function loadedConfiguration(e,t){return IntegratorConfigurationStore_objectSpread(IntegratorConfigurationStore_objectSpread({},e),t.configuration)}}]),IntegratorConfigurationStore}(L))||fe;function ChangedLocaleAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangedLocaleAction_createClass(e,t,r){return t&&ChangedLocaleAction_defineProperties(e.prototype,t),r&&ChangedLocaleAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var he=ChangedLocaleAction_createClass((function ChangedLocaleAction(e){!function ChangedLocaleAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangedLocaleAction),this.locale=e}));function LoadedLocaleAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedLocaleAction_createClass(e,t,r){return t&&LoadedLocaleAction_defineProperties(e.prototype,t),r&&LoadedLocaleAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ye,ge=LoadedLocaleAction_createClass((function LoadedLocaleAction(e,t){!function LoadedLocaleAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedLocaleAction),this.locale=e,this.catalog=t}));function LocaleStore_typeof(e){return LocaleStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LocaleStore_typeof(e)}function LocaleStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LocaleStore_setPrototypeOf(e,t){return LocaleStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},LocaleStore_setPrototypeOf(e,t)}function LocaleStore_createSuper(e){var t=function LocaleStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=LocaleStore_getPrototypeOf(e);if(t){var o=LocaleStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return LocaleStore_possibleConstructorReturn(this,r)}}function LocaleStore_possibleConstructorReturn(e,t){if(t&&("object"===LocaleStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function LocaleStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function LocaleStore_getPrototypeOf(e){return LocaleStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},LocaleStore_getPrototypeOf(e)}var ve=injectableForJs([])(ye=function(e){!function LocaleStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LocaleStore_setPrototypeOf(e,t)}(LocaleStore,e);var t=LocaleStore_createSuper(LocaleStore);function LocaleStore(){var e;return function LocaleStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LocaleStore),(e=t.call(this)).bind(null,(),e.bind(ge.name,e.loadedLocale),e.bind(he.name,e.changedLocale),e}return function LocaleStore_createClass(e,t,r){return t&&LocaleStore_defineProperties(e.prototype,t),r&&LocaleStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(LocaleStore,[{key:"loadedLocale",value:function loadedLocale(e,t){return Object.assign({},e,{catalogs:Object.assign({},e.catalogs||{},(r={},n=t.locale,o=t.catalog,n in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r))});var r,n,o}},{key:"changedLocale",value:function changedLocale(e,t){return Object.assign({},e,{currentLocale:t.locale})}}]),LocaleStore}(L))||ye,me={getCurrentLocale:(0,I.P1)((function(e){return e[ve.name]}),(function(e){return e.currentLocale})),hasLocaleBeenLoaded:(0,I.P1)((function(e){return e[ve.name]}),(function(e,t){return t.locale}),(),getLocaleCatalog:(0,I.P1)((function(e){return e[ve.name]}),(function(e,t){return t.locale}),(),getLocaleCatalogs:(0,I.P1)((function(e){return e[ve.name]}),(function(e){return e.catalogs}))},be=["ar-AE","zh-CN","zh-TW","zh-HK","cs-CZ","da-DK","nl-NL","en-GB","en-CA","en-US","fi-FI","fr-FR","fr-CA","de-DE","hu-HU","it-IT","ja-JP","ko-KR","nb-NO","pl-PL","pt-PT","pt-BR","ru-RU","es-ES","es-MX","sv-SE","th-TH","tr-TR","uk-UA"],Se={"ar-AE":"ar-AE","zh-CN":"zh-CN","zh-TW":"zh-TW","zh-HK":"zh-TW","cs-CZ":"cs-CZ","da-DK":"da-DK","nl-NL":"nl-NL","en-GB":"en-GB","en-CA":"en-CA","en-US":"en-US","fi-FI":"fi-FI","fr-FR":"fr-FR","fr-CA":"fr-CA","de-DE":"de-DE","hu-HU":"hu-HU","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","nb-NO":"nb-NO","pl-PL":"pl-PL","pt-PT":"pt-PT","pt-BR":"pt-BR","ru-RU":"ru-RU","es-ES":"es-ES","es-MX":"es-MX","sv-SE":"sv-SE","th-TH":"th-TH","tr-TR":"tr-TR","uk-UA":"uk-UA"};function IntegratorConfigurationQueries_typeof(e){return IntegratorConfigurationQueries_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IntegratorConfigurationQueries_typeof(e)}var we=(0,I.P1)("IntegratorConfigurationQueries.getConfiguration",(function(e){return e[pe.name]}),(function(e){return e})),Pe=(0,I.P1)("IntegratorConfigurationQueries.getLoginType",we,(),_e=(0,I.P1)("IntegratorConfigurationQueries.getLocaleCode",we,(),Ce=(0,I.P1)("IntegratorConfigurationQueries.getApplicationId",we,(function(e){return e.appId})),Oe=(0,I.P1)("IntegratorConfigurationQueries.getGenomeId",we,(function(e){return e.genomeId})),Ae=(0,I.P1)("IntegratorConfigurationQueries.getHeight",we,(),ke=(0,I.P1)("IntegratorConfigurationQueries.getBackgroundColor",we,(function(){return"transparent"})),xe=(0,I.P1)("IntegratorConfigurationQueries.getLoginBackgroundColor",we,(function(){return"#000"})),Ie=(0,I.P1)("IntegratorConfigurationQueries.getTrackingSiteSection",we,(function(){return"web overlay"})),je=(0,I.P1)("IntegratorConfigurationQueries.getTrackingSiteName",we,(function(e){return e.trackingSiteName})),Le=(0,I.P1)("IntegratorConfigurationQueries.getTrackingSiteType",we,(function(){return"overlay"})),Ee=(0,I.P1)("IntegratorConfigurationQueries.getHasCustomerSupportLinks",we,(function(e){return!!e.customerSupportLinks&&e.customerSupportLinks.length>0})),Fe=(0,I.P1)("IntegratorConfigurationQueries.getHasOverwrittenLinks",we,(function(e){return!!e.overwrittenLinks&&Object.keys(e.overwrittenLinks).length>0})),Ge=(0,I.P1)("IntegratorConfigurationQueries.getOverwrittenAccountLinks",we,Fe,(function(e,t){return t&&e.overwrittenLinks[ce]?"string"==typeof e.overwrittenLinks[ce]?e.overwrittenLinks[ce]:"object"===IntegratorConfigurationQueries_typeof(e.overwrittenLinks[ce])?e.overwrittenLinks[ce].link:null:null})),Te=(0,I.P1)("IntegratorConfigurationQueries.isOverwrittenAccountLink",we,Fe,(function(e,t){return!!t&&"object"===IntegratorConfigurationQueries_typeof(e.overwrittenLinks[ce])})),Re=(0,I.P1)("IntegratorConfigurationQueries.isOverwrittenAccountLink",we,Fe,me.getCurrentLocale,(function(e,t,r){return dt(r,t,e,ce)})),Ne=(0,I.P1)("IntegratorConfigurationQueries.getOverwrittenAccountLinkAction",we,Fe,(function(e,t){return t&&"object"===IntegratorConfigurationQueries_typeof(e.overwrittenLinks[ce])?e.overwrittenLinks[ce].action:null})),Ue=(0,I.P1)("IntegratorConfigurationQueries.getOverwrittenSupportLinks",we,Fe,(function(e,t){return t&&e.overwrittenLinks[ce]?"string"==typeof e.overwrittenLinks[le]?e.overwrittenLinks[le]:"object"===IntegratorConfigurationQueries_typeof(e.overwrittenLinks[le])?e.overwrittenLinks[le].link:null:null})),De=(0,I.P1)("IntegratorConfigurationQueries.isSupportLinkOverwritten",we,Fe,(function(e,t){return!!t&&"object"===IntegratorConfigurationQueries_typeof(e.overwrittenLinks[le])})),Me=(0,I.P1)("IntegratorConfigurationQueries.isOverwrittenAccountLink",we,Fe,me.getCurrentLocale,(function(e,t,r){return dt(r,t,e,le)})),Be=(0,I.P1)("IntegratorConfigurationQueries.getOverwrittenSupportLinkAction",we,Fe,(function(e,t){return t&&"object"===IntegratorConfigurationQueries_typeof(e.overwrittenLinks[le])?e.overwrittenLinks[le].action:null})),Ve=(0,I.P1)("IntegratorConfigurationQueries.getOverwrittenStoreLink",we,Fe,(function(e,t){return t&&e.overwrittenLinks[ce]?"string"==typeof e.overwrittenLinks[ue]?e.overwrittenLinks[ue]:"object"===IntegratorConfigurationQueries_typeof(e.overwrittenLinks[ue])?e.overwrittenLinks[ue].link:null:null})),We=(0,I.P1)("IntegratorConfigurationQueries.isStoreLinkOverwritten",we,Fe,(function(e,t){return!!t&&"object"===IntegratorConfigurationQueries_typeof(e.overwrittenLinks[ue])})),He=(0,I.P1)("IntegratorConfigurationQueries.getOverwrittenStoreLinkString",we,Fe,me.getCurrentLocale,(),qe=(0,I.P1)("IntegratorConfigurationQueries.getOverwrittenStoreLinkAction",we,Fe,me.getCurrentLocale,me.getCurrentLocale,(function(e,t){return t&&"object"===IntegratorConfigurationQueries_typeof(e.overwrittenLinks[ue])?e.overwrittenLinks[ue].action:null})),ze=(0,I.P1)("IntegratorConfigurationQueries.getCustomerSupportLinks",we,Ee,me.getCurrentLocale,(function(e,t,r){return t?e.customerSupportLinks.map((function(e,t){return{id:e.locs["en-GB"]?e.locs["en-GB"]:t.toString(),name:"zh-hk"===r.toLowerCase()&&e.locs["zh-HK"]?e.locs["zh-HK"]:Se[r]&&e.locs[Se[r]]?e.locs[Se[r]]:e.locs["en-GB"]?e.locs["en-GB"]:"link",url:e.link?e.link:null,action:e.action?e.action:ne}})):[]})),Qe=(0,I.P1)("IntegratorConfigurationQueries.getCustomerSupportLinks",we,(),Ye=(0,I.P1)("IntegratorConfigurationQueries.getTrackingSiteType",we,(function(e){var t=null;return e.installmentId&&(t=pt.isUUID(e.installmentId)?e.installmentId:null),e.spaceId&&(t=pt.isUUID(e.spaceId)?e.spaceId:null),t})),Xe=(0,I.P1)("IntegratorConfigurationQueries.getTrackingSiteType",we,(function(e){return e.clickFriendsProfileType&&(e.clickFriendsProfileType===ie||e.clickFriendsProfileType===ae||e.clickFriendsProfileType===se)?e.clickFriendsProfileType:ie})),Ke=(0,I.P1)("IntegratorConfigurationQueries.getHasExternalLoginType",we,(function(e){return!!e.loginExternalType&&-1!==[te.LOGIN_PSN,te.LOGIN_XBOX,te.LOGIN_TWITCH].indexOf(e.loginExternalType)})),$e=(0,I.P1)("IntegratorConfigurationQueries.getExternalLoginType",we,(),Je=(0,I.P1)("IntegratorConfigurationQueries.getShowSignInText",we,(function(e){return e.showSignInText})),Ze=(0,I.P1)("IntegratorConfigurationQueries.getShowSignInText",we,(function(e){return!!e.locale&&"ar-AE"==e.locale})),et=(0,I.P1)("IntegratorConfigurationQueries.getShowSignInText",we,(function(e){return e.isInDesktopResize})),tt=(0,I.P1)("IntegratorConfigurationQueries.getMobileHeight",we,(function(e){return e.mobileHeight})),rt=(0,I.P1)("IntegratorConfigurationQueries.getHasParentSiteTrackingIntegrate",we,(function(e){return e.hasParentSiteTrackingIntegrate})),nt=(0,I.P1)("IntegratorConfigurationQueries.getHasParentSiteTcOptoutSdkCookieSet",we,(function(e){return e.hasParentSiteTcOptoutSdkCookieSet})),ot=(0,I.P1)("IntegratorConfigurationQueries.getHasParentSiteUbiPrivacyPolicyAcceptedCookieSet",we,(function(e){return e.hasParentSiteUbiPrivacyPolicyAcceptedCookieSet})),it=(0,I.P1)("IntegratorConfigurationQueries.getHasParentSiteUbiPrivacyAaOptoutCookieSet",we,(function(e){return e.hasParentSiteUbiPrivacyAaOptoutCookieSet})),at=(0,I.P1)("IntegratorConfigurationQueries.getScrollbarWidth",we,(function(e){return e.browserScrollbarWidth})),st=(0,I.P1)("IntegratorConfigurationQueries.getScrollbarNegativeMargin",we,(function(e){return e.scrollbarNegativeMarginValue})),ct=(0,I.P1)("IntegratorConfigurationQueries.getEnableDebug",we,(function(e){return e.enableDebug})),lt=(0,I.P1)("IntegratorConfigurationQueries.getHasCustomStoreBuyButton",we,(function(e){return!!e.customStoreBuyButton})),ut=(0,I.P1)("IntegratorConfigurationQueries.getThirdPartyCookiesSupport",we,(function(e){return e.thirdPartyCookiesSupport})),ft=(0,I.P1)("IntegratorConfigurationQueries.getCustomStoreBuyButton",we,(function(e){return e.customStoreBuyButton})),dt=function computeLinkString(e,t,r,n){var o=Se[e]?Se[e]:"en-GB";return t?"object"!==IntegratorConfigurationQueries_typeof(r.overwrittenLinks[le])?null:r.overwrittenLinks[n].locs?"zh-hk"===e.toLowerCase()&&r.overwrittenLinks[n].locs["zh-HK"]?r.overwrittenLinks[n].locs["zh-HK"]:r.overwrittenLinks[n].locs[o]?r.overwrittenLinks[n].locs[o]:r.overwrittenLinks[n].locs["en-GB"]:null:null},pt={getConfiguration:we,getLoginType:Pe,getLocaleCode:_e,getApplicationId:Ce,getGenomeId:Oe,getHeight:Ae,getBackgroundColor:ke,getLoginBackgroundColor:xe,getTrackingSiteSection:Ie,getTrackingSiteName:je,getTrackingSiteType:Le,getHasCustomerSupportLinks:Ee,getHasOverwrittenLinks:Fe,getOverwrittenAccountLink:Ge,isAccountLinkOverwritten:Te,getOverwrittenAccountLinkString:Re,getOverwrittenAccountLinkAction:Ne,getOverwrittenSupportLink:Ue,isSupportLinkOverwritten:De,getOverwrittenSupportLinkString:Me,getOverwrittenSupportLinkAction:Be,getOverwrittenStoreLink:Ve,isStoreLinkOverwritten:We,getOverwrittenStoreLinkString:He,getOverwrittenStoreLinkAction:qe,getCustomerSupportLinks:ze,getHasDarkBackground:Qe,getInstallmentId:Ye,getClickFriendsProfileType:Xe,getHasExternalLoginType:Ke,getExternalLoginType:$e,getShowSignInText:Je,getHasArabLanguage:Ze,getIsInDesktopResize:et,getMobileHeight:tt,getHasParentSiteTrackingIntegrate:rt,getHasParentSiteTcOptoutSdkCookieSet:nt,getHasParentSiteUbiPrivacyPolicyAcceptedCookieSet:ot,getHasParentSiteUbiPrivacyAaOptoutCookieSet:it,getScrollbarWidth:at,getScrollbarNegativeMargin:st,getEnableDebug:ct,getHasCustomStoreBuyButton:lt,getThirdPartyCookiesSupport:ut,getCustomStoreBuyButton:ft,isUUID:function isUUID(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",r={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},n=r[t];return n&&n.test(e)},computeLinkString:dt},ht=(0,I.P1)("ConfigurationQueries.getConfiguration",F.getConfiguration,(function(e){return e})),yt=(0,I.P1)("ConfigurationQueries.getEnv",(function(e){return e.ConfigurationStore}),(function(e){return e.env})),gt=(0,I.P1)("ConfigurationQueries.getRewardsBaseUrl",F.getConfiguration,(function(e){return e.rewardsUrl})),vt=(0,I.P1)("ConfigurationQueries.getClubUrl",F.getConfiguration,(function(e){return e.clubUrl})),mt=(0,I.P1)("ConfigurationQueries.getAccountUrl",F.getConfiguration,(function(e){return e.accountUrl})),bt=(0,I.P1)("ConfigurationQueries.getCustomerSupportUrl",F.getConfiguration,(function(e){return e.customerSupportUrl})),St=(0,I.P1)("ConfigurationQueries.getAnalyticsSdkUrl",F.getConfiguration,(function(e){return e.analyticsSdkUrl})),wt=(0,I.P1)("ConfigurationQueries.getTwitchClientId",F.getConfiguration,(function(e){return e.twitchClientId})),Pt=(0,I.P1)("ConfigurationQueries.getAvatarsUrl",F.getConfiguration,(function(e){return e.avatarsUrl})),_t=(0,I.P1)("ConfigurationQueries.getCurrentEnv",N.getCurrentEnv,(function(e){return e})),Ct=(0,I.P1)("ConfigurationQueries.enableDebug",F.getConfiguration,pt.getEnableDebug,(function(e,t){return void 0!==t?t:e.enableDebug})),Ot=(0,I.P1)("ConfigurationQueries.getStatsCDNUrl",F.getConfiguration,(function(e){return e.statsCDNUrl})),At=(0,I.P1)("ConfigurationQueries.getWebcenterAssetsUrl",F.getConfiguration,(function(e){return e.webcenterAssetsUrl})),kt=(0,I.P1)("ConfigurationQueries.getBetaPopulationsSpaceId",F.getConfiguration,(function(e){return e.betaPopulationsSpaceId})),xt=(0,I.P1)("ConfigurationQueries.getBetaEnitySpaceId",F.getConfiguration,(function(e){return e.betaEnitySpaceId})),It=(0,I.P1)("ConfigurationQueries.getBetaType",F.getConfiguration,(function(e){return e.betaType})),jt=(0,I.P1)("ConfigurationQueries.getOverlayIndexUrl",F.getConfiguration,(function(e){return e.overlayIndexUrl})),Lt=(0,I.P1)("ConfigurationQueries.getAvatarsMaintenanceStartDate",F.getConfiguration,(function(e){return e.avatarsMaintenanceStartDate})),Et=(0,I.P1)("ConfigurationQueries.getAvatarsMaintenanceEndDate",F.getConfiguration,(function(e){return e.avatarsMaintenanceEndDate})),Ft={getConfiguration:ht,getEnv:yt,getRewardsBaseUrl:gt,getClubUrl:vt,getAccountUrl:mt,getCustomerSupportUrl:bt,getAnalyticsSdkUrl:St,getTwitchClientId:wt,getAvatarsUrl:Pt,getCurrentEnv:_t,getEnableDebug:Ct,getStatsCDNUrl:Ot,getWebcenterAssetsUrl:At,getBetaPopulationsSpaceId:kt,getBetaEnitySpaceId:xt,getBetaType:It,getOverlayIndexUrl:jt,getAvatarsMaintenanceStartDate:Lt,getAvatarsMaintenanceEndDate:Et,getUbiServicesEndpoint:(0,I.P1)("ConfigurationQueries.getUbiServicesEndpoint",F.getConfiguration,(function(e){return e.ubiServicesEndpoint})),getUplayWebcenterEndpoint:(0,I.P1)("ConfigurationQueries.getUplayWebcenterEndpoint",F.getConfiguration,(function(e){return e.uplayWebcenterEndpoint})),getLinkedAccountsApiEndpoint:(0,I.P1)("ConfigurationQueries.getLinkedAccountsApiEndpoint",F.getConfiguration,(function(e){return e.linkedAccountsApiEndpoint})),getConnectEndpoint:(0,I.P1)("ConfigurationQueries.getConnectEndpoint",F.getConfiguration,(function(e){return e.connectEndpoint})),getConnectEnv:(0,I.P1)("ConfigurationQueries.connectEnv",F.getConfiguration,(function(e){return e.connectEnv})),getUbiStoreUrl:(0,I.P1)("ConfigurationQueries.getUbiStoreUrl",F.getConfiguration,(function(e){return e.ubiStoreUrl})),getAreAvatarsInMaintenance:(0,I.P1)("ConfigurationQueries.getAvatarsMaintenanceEndDate",J.getAvatarIntervalCheck,Lt,Et,(function(e,t,r){return a().utc().isBetween(a().utc(t),a().utc(r))})),getThirdPartyCookiesErrorUrl:(0,I.P1)("ConfigurationQueries.getThirdPartyCookiesErrorUrl",F.getConfiguration,(function(e){return e.thirdPartyCookiesErrorUrl})),getLoginNextUrl:(0,I.P1)("ConfigurationQueries.getLoginNextUrl",F.getConfiguration,(function(e){return e.loginNextUrl})),getLoginUrl:(0,I.P1)("ConfigurationQueries.getLoginUrl",F.getConfiguration,(function(e){return e.loginUrl})),getWebsocketEndpoint:(0,I.P1)("ConfigurationQueries.getWebsocketEndpoint",F.getConfiguration,(function(e){return e.websocketEndpoint})),getWebsocketNotificationTypes:(0,I.P1)("ConfigurationQueries.getWebsocketNotificationTypes",F.getConfiguration,(function(e){return e.websocketNotificationTypes?e.websocketNotificationTypes.join(","):null})),getWebsocketSpaceIds:(0,I.P1)("ConfigurationQueries.getWebsocketSpaceIds",F.getConfiguration,(),isExpired:function isExpired(e,t){return!a().unix(e).isAfter(a()().subtract(t,"seconds"))}};function CacheProvider_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Gt=function(){function CacheProvider(){!function CacheProvider_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CacheProvider)}return function CacheProvider_createClass(e,t,r){return t&&CacheProvider_defineProperties(e.prototype,t),r&&CacheProvider_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(CacheProvider,[{key:"provides",value:function provides(){return u}},{key:"provide",value:function provide(e){var t=new u;return t.enable(),Ft.getEnableDebug(e.get(C).getState())&&t.enableDebug(),t}}]),CacheProvider}();function LoadedSpacesAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedSpacesAction_createClass(e,t,r){return t&&LoadedSpacesAction_defineProperties(e.prototype,t),r&&LoadedSpacesAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Tt,Rt,Nt=LoadedSpacesAction_createClass((function LoadedSpacesAction(e,t){!function LoadedSpacesAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedSpacesAction),this.bySpaceId=e,this.expirations=t}));function SpacesStore_typeof(e){return SpacesStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SpacesStore_typeof(e)}function SpacesStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function SpacesStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SpacesStore_ownKeys(Object(r),!0).forEach((function(t){SpacesStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SpacesStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function SpacesStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SpacesStore_setPrototypeOf(e,t){return SpacesStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},SpacesStore_setPrototypeOf(e,t)}function SpacesStore_createSuper(e){var t=function SpacesStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=SpacesStore_getPrototypeOf(e);if(t){var o=SpacesStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return SpacesStore_possibleConstructorReturn(this,r)}}function SpacesStore_possibleConstructorReturn(e,t){if(t&&("object"===SpacesStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function SpacesStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function SpacesStore_getPrototypeOf(e){return SpacesStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},SpacesStore_getPrototypeOf(e)}function SpacesStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ut=injectableForJs([])((Rt=function(e){!function SpacesStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SpacesStore_setPrototypeOf(e,t)}(SpacesStore,e);var t=SpacesStore_createSuper(SpacesStore);function SpacesStore(){var e;return function SpacesStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SpacesStore),(e=t.call(this)).bind(null,(),e.bind(Nt.name,e.handleLoadedSpacesAction),e.bind($.name,e.handlePurgeAction),e.bind(U.name,e.handleLoggedOutAction),e}return function SpacesStore_createClass(e,t,r){return t&&SpacesStore_defineProperties(e.prototype,t),r&&SpacesStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(SpacesStore,[{key:"handlePurgeAction",value:,{key:"handleLoggedOutAction",value:function handleLoggedOutAction(e){return SpacesStore_objectSpread({},e)}},{key:"handleLoadedSpacesAction",value:function handleLoadedSpacesAction(e,t){return SpacesStore_objectSpread(SpacesStore_objectSpread({},e),{},{bySpaceId:SpacesStore_objectSpread(SpacesStore_objectSpread({},e.bySpaceId),t.bySpaceId),expirations:SpacesStore_objectSpread(SpacesStore_objectSpread({},e.expirations),t.expirations)})}}]),SpacesStore}(L),SpacesStore_defineProperty(Rt,"getState",(function(e){return e.SpacesStore})),SpacesStore_defineProperty(Rt,"getBySpaceId",(function(e){return e.SpacesStore.bySpaceId})),SpacesStore_defineProperty(Rt,"getExpirations",(function(e){return e.SpacesStore.expirations})),Tt=Rt))||Tt,Dt=r(14890);function AuthenticatedAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AuthenticatedAction_createClass(e,t,r){return t&&AuthenticatedAction_defineProperties(e.prototype,t),r&&AuthenticatedAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Mt=AuthenticatedAction_createClass((function AuthenticatedAction(e){!function AuthenticatedAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AuthenticatedAction),this.identity=e}));function AuthenticationQueries_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AuthenticationQueries_createClass(e,t,r){return t&&AuthenticationQueries_defineProperties(e.prototype,t),r&&AuthenticationQueries_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AuthenticationQueries_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bt,Vt=AuthenticationQueries_createClass((function AuthenticationQueries(){!function AuthenticationQueries_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AuthenticationQueries)}));function AuthenticationStore_typeof(e){return AuthenticationStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AuthenticationStore_typeof(e)}function AuthenticationStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AuthenticationStore_setPrototypeOf(e,t){return AuthenticationStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},AuthenticationStore_setPrototypeOf(e,t)}function AuthenticationStore_createSuper(e){var t=function AuthenticationStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=AuthenticationStore_getPrototypeOf(e);if(t){var o=AuthenticationStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return AuthenticationStore_possibleConstructorReturn(this,r)}}function AuthenticationStore_possibleConstructorReturn(e,t){if(t&&("object"===AuthenticationStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function AuthenticationStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function AuthenticationStore_getPrototypeOf(e){return AuthenticationStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},AuthenticationStore_getPrototypeOf(e)}AuthenticationQueries_defineProperty(Vt,"hasIdentity",(0,I.P1)((function(e){return e[Wt.name]}),(function(e){return!!e}))),AuthenticationQueries_defineProperty(Vt,"getIdentity",(0,I.P1)((function(e){return e[Wt.name]}),(function(e){return e})));var Wt=injectableForJs([])(Bt=function(e){!function AuthenticationStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AuthenticationStore_setPrototypeOf(e,t)}(AuthenticationStore,e);var t=AuthenticationStore_createSuper(AuthenticationStore);function AuthenticationStore(){var e;return function AuthenticationStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AuthenticationStore),(e=t.call(this)).bind(null,(function(){return null})),e.bind(Mt.name,e.authenticated),e.bind(U.name,e.loggedOut),e}return function AuthenticationStore_createClass(e,t,r){return t&&AuthenticationStore_defineProperties(e.prototype,t),r&&AuthenticationStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(AuthenticationStore,[{key:"authenticated",value:function authenticated(e,t){return Object.assign({},e,t.identity)}},{key:"loggedOut",value:function loggedOut(){return null}},{key:"hasIdentity",value:function hasIdentity(){return Vt.hasIdentity(this.getState())}},{key:"getIdentity",value:]),AuthenticationStore}(L))||Bt;function OverlayOpenAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OverlayOpenAction_createClass(e,t,r){return t&&OverlayOpenAction_defineProperties(e.prototype,t),r&&OverlayOpenAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ht=OverlayOpenAction_createClass((function OverlayOpenAction(){!function OverlayOpenAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OverlayOpenAction)}));function OverlayCloseAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OverlayCloseAction_createClass(e,t,r){return t&&OverlayCloseAction_defineProperties(e.prototype,t),r&&OverlayCloseAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var qt=OverlayCloseAction_createClass((function OverlayCloseAction(){!function OverlayCloseAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OverlayCloseAction)}));function OverlayStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function OverlayStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OverlayStore_ownKeys(Object(r),!0).forEach((function(t){OverlayStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OverlayStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function OverlayStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zt={isActive:!1},Qt="OverlayStore";unction overlayReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ht.name:return handleOverlayOpenEvent(e);case qt.name:return handleOverlayCloseEvent(e)}return e}function handleOverlayOpenEvent(e){return OverlayStore_objectSpread(OverlayStore_objectSpread({},e),{},{isActive:!0})}unction LoadedUbisoftGamesAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedUbisoftGamesAction_createClass(e,t,r){return t&&LoadedUbisoftGamesAction_defineProperties(e.prototype,t),r&&LoadedUbisoftGamesAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Yt,Xt,Kt=LoadedUbisoftGamesAction_createClass((function LoadedUbisoftGamesAction(e,t,r,n,o,i,a,s,c){!function LoadedUbisoftGamesAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedUbisoftGamesAction),this.bySpaceId=e,this.platformsByApplicationId=t,this.byPlatformApplicationId=r,this.platformsApplicationsIdsByParentSpaceId=n,this.byInstallmentSpaceId=o,this.bySiblingSpaceId=i,this.siblingsSpaceIdsByParentSpaceId=a,this.spaceIds=s,this.expiration=c}));function UbisoftGamesStore_typeof(e){return UbisoftGamesStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UbisoftGamesStore_typeof(e)}function UbisoftGamesStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function UbisoftGamesStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UbisoftGamesStore_ownKeys(Object(r),!0).forEach((function(t){UbisoftGamesStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UbisoftGamesStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function UbisoftGamesStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UbisoftGamesStore_setPrototypeOf(e,t){return UbisoftGamesStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},UbisoftGamesStore_setPrototypeOf(e,t)}function UbisoftGamesStore_createSuper(e){var t=function UbisoftGamesStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=UbisoftGamesStore_getPrototypeOf(e);if(t){var o=UbisoftGamesStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return UbisoftGamesStore_possibleConstructorReturn(this,r)}}function UbisoftGamesStore_possibleConstructorReturn(e,t){if(t&&("object"===UbisoftGamesStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function UbisoftGamesStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function UbisoftGamesStore_getPrototypeOf(e){return UbisoftGamesStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},UbisoftGamesStore_getPrototypeOf(e)}function UbisoftGamesStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $t=injectableForJs([])((Xt=function(e){!function UbisoftGamesStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UbisoftGamesStore_setPrototypeOf(e,t)}(UbisoftGamesStore,e);var t=UbisoftGamesStore_createSuper(UbisoftGamesStore);function UbisoftGamesStore(){var e;return function UbisoftGamesStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UbisoftGamesStore),(e=t.call(this)).bind(null,(function(){return{bySpaceId:{},byPlatformApplicationId:{},platformsApplicationsIdsByParentSpaceId:{},platformsByApplicationId:{},byInstallmentSpaceId:{},bySiblingSpaceId:{},siblingsSpaceIdsByParentSpaceId:{},spaceIds:[],expiration:{}}})),e.bind(Kt.name,e.handleLoadedGamesAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handlePurgeAction),e}return function UbisoftGamesStore_createClass(e,t,r){return t&&UbisoftGamesStore_defineProperties(e.prototype,t),r&&UbisoftGamesStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(UbisoftGamesStore,[{key:"handleLoggedOutAction",value:,{key:"handlePurgeAction",value:function handlePurgeAction(){return{bySpaceId:{},byPlatformApplicationId:{},platformsApplicationsIdsByParentSpaceId:{},platformsByApplicationId:{},byInstallmentSpaceId:{},bySiblingSpaceId:{},siblingsSpaceIdsByParentSpaceId:{},spaceIds:[],expiration:{}}}},{key:"handleLoadedGamesAction",value:function handleLoadedGamesAction(e,t){var r={};Object.keys(t.platformsApplicationsIdsByParentSpaceId).forEach((function(n){r[n]=e.platformsApplicationsIdsByParentSpaceId[n]?e.platformsApplicationsIdsByParentSpaceId[n].filter((function(e){return!t.platformsApplicationsIdsByParentSpaceId[n].includes(e)})).concat(t.platformsApplicationsIdsByParentSpaceId[n]):t.platformsApplicationsIdsByParentSpaceId[n]}));var n={};return Object.keys(t.siblingsSpaceIdsByParentSpaceId).forEach((function(r){n[r]=e.siblingsSpaceIdsByParentSpaceId[r]?e.siblingsSpaceIdsByParentSpaceId[r].filter(().concat(t.siblingsSpaceIdsByParentSpaceId[r]):t.siblingsSpaceIdsByParentSpaceId[r]})),UbisoftGamesStore_objectSpread(UbisoftGamesStore_objectSpread({},e),{bySpaceId:UbisoftGamesStore_objectSpread(UbisoftGamesStore_objectSpread({},e.bySpaceId),t.bySpaceId),platformsByApplicationId:UbisoftGamesStore_objectSpread(UbisoftGamesStore_objectSpread({},e.platformsByApplicationId),t.platformsByApplicationId),byPlatformApplicationId:UbisoftGamesStore_objectSpread(UbisoftGamesStore_objectSpread({},e.byPlatformApplicationId),t.byPlatformApplicationId),platformsApplicationsIdsByParentSpaceId:UbisoftGamesStore_objectSpread(UbisoftGamesStore_objectSpread({},e.platformsApplicationsIdsByParentSpaceId),r),byInstallmentSpaceId:UbisoftGamesStore_objectSpread(UbisoftGamesStore_objectSpread({},e.byInstallmentSpaceId),t.byInstallmentSpaceId),bySiblingSpaceId:UbisoftGamesStore_objectSpread(UbisoftGamesStore_objectSpread({},e.bySiblingSpaceId),t.bySiblingSpaceId),siblingsSpaceIdsByParentSpaceId:UbisoftGamesStore_objectSpread(UbisoftGamesStore_objectSpread({},e.siblingsSpaceIdsByParentSpaceId),n),spaceIds:e.spaceIds.filter((function(e){return!t.spaceIds.includes(e)})).concat(t.spaceIds),expiration:UbisoftGamesStore_objectSpread(UbisoftGamesStore_objectSpread({},e.expiration),t.expiration)})}}]),UbisoftGamesStore}(L),UbisoftGamesStore_defineProperty(Xt,"getState",(function(e){return e.UbisoftGamesStore})),UbisoftGamesStore_defineProperty(Xt,"getBySpaceId",(function(e){return e.UbisoftGamesStore.bySpaceId})),UbisoftGamesStore_defineProperty(Xt,"getPlatformsByApplicationId",(function(e){return e.UbisoftGamesStore.platformsByApplicationId})),UbisoftGamesStore_defineProperty(Xt,"getByPlatformApplicationId",(function(e){return e.UbisoftGamesStore.byPlatformApplicationId})),UbisoftGamesStore_defineProperty(Xt,"getPlatformsApplicationsIdsByParentSpaceId",(function(e){return e.UbisoftGamesStore.platformsApplicationsIdsByParentSpaceId})),UbisoftGamesStore_defineProperty(Xt,"getByInstallmentSpaceId",(function(e){return e.UbisoftGamesStore.byInstallmentSpaceId})),UbisoftGamesStore_defineProperty(Xt,"getBySiblingSpaceId",(function(e){return e.UbisoftGamesStore.bySiblingSpaceId})),UbisoftGamesStore_defineProperty(Xt,"getSiblingsSpaceIdsByParentSpaceId",(function(e){return e.UbisoftGamesStore.siblingsSpaceIdsByParentSpaceId})),UbisoftGamesStore_defineProperty(Xt,"getSpaceIds",(function(e){return e.UbisoftGamesStore.spaceIds})),UbisoftGamesStore_defineProperty(Xt,"getExpiration",(function(e){return e.UbisoftGamesStore.expiration})),UbisoftGamesStore_defineProperty(Xt,"loaded",(function(e){return e.LoadersStore.UbisoftGamesStore})),Yt=Xt))||Yt;function LoadedMyUserProfilesAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedMyUserProfilesAction_createClass(e,t,r){return t&&LoadedMyUserProfilesAction_defineProperties(e.prototype,t),r&&LoadedMyUserProfilesAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Jt=LoadedMyUserProfilesAction_createClass((function LoadedMyUserProfilesAction(e,t,r,n,o,i){!function LoadedMyUserProfilesAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedMyUserProfilesAction),this.byId=e,this.byNameOnPlatform=t,this.byUserId=r,this.ids=n,this.hasError=o,this.expiration=i}));function LoadedGamesAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedGamesAction_createClass(e,t,r){return t&&LoadedGamesAction_defineProperties(e.prototype,t),r&&LoadedGamesAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Zt=LoadedGamesAction_createClass((function LoadedGamesAction(e,t,r,n,o,i,a,s,c,l){!function LoadedGamesAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedGamesAction),this.gamesByIds=e,this.gamesIds=t,this.platformsBySpaceId=r,this.platformsSpaceIds=n,this.platformsByGameId=o,this.platformsByUserId=i,this.lastSessionDates=a,this.gamesByPlatformId=s,this.byUserId=c,this.expiration=l}));function LoadedFriendsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedFriendsAction_createClass(e,t,r){return t&&LoadedFriendsAction_defineProperties(e.prototype,t),r&&LoadedFriendsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var er=LoadedFriendsAction_createClass((function LoadedFriendsAction(e,t,r,n){!function LoadedFriendsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedFriendsAction),this.byId=e,this.ids=t,this.ownershipByUserId=r,this.expiration=n}));function LoadedFriendsUserProfilesAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedFriendsUserProfilesAction_createClass(e,t,r){return t&&LoadedFriendsUserProfilesAction_defineProperties(e.prototype,t),r&&LoadedFriendsUserProfilesAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var tr=LoadedFriendsUserProfilesAction_createClass((function LoadedFriendsUserProfilesAction(e,t,r,n,o,i){!function LoadedFriendsUserProfilesAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedFriendsUserProfilesAction),this.byId=e,this.byNameOnPlatform=t,this.byUserId=r,this.ids=n,this.hasError=o,this.expiration=i}));function LoadedConnectionsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedConnectionsAction_createClass(e,t,r){return t&&LoadedConnectionsAction_defineProperties(e.prototype,t),r&&LoadedConnectionsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var rr=LoadedConnectionsAction_createClass((function LoadedConnectionsAction(e,t,r,n,o,i){!function LoadedConnectionsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedConnectionsAction),this.byId=e,this.byProfileId=t,this.bySpaceId=r,this.ids=n,this.profileIdsForCall=o,this.expiration=i}));function LoadedRewardsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedRewardsAction_createClass(e,t,r){return t&&LoadedRewardsAction_defineProperties(e.prototype,t),r&&LoadedRewardsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var nr=LoadedRewardsAction_createClass((function LoadedRewardsAction(e,t,r,n,o,i){!function LoadedRewardsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedRewardsAction),this.rewards=e,this.byId=t,this.bySpaceId=r,this.rewardsIds=n,this.units=o,this.expiration=i}));function LoadedGameStatsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedGameStatsAction_createClass(e,t,r){return t&&LoadedGameStatsAction_defineProperties(e.prototype,t),r&&LoadedGameStatsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var or=LoadedGameStatsAction_createClass((function LoadedGameStatsAction(e,t,r,n){!function LoadedGameStatsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedGameStatsAction),this.stats=e,this.bySpaceId=t,this.ids=r,this.expiration=n}));function LoadingRewardsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadingRewardsAction_createClass(e,t,r){return t&&LoadingRewardsAction_defineProperties(e.prototype,t),r&&LoadingRewardsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ir=LoadingRewardsAction_createClass((function LoadingRewardsAction(){!function LoadingRewardsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadingRewardsAction)}));function LoadingGameStatsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadingGameStatsAction_createClass(e,t,r){return t&&LoadingGameStatsAction_defineProperties(e.prototype,t),r&&LoadingGameStatsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ar=LoadingGameStatsAction_createClass((function LoadingGameStatsAction(){!function LoadingGameStatsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadingGameStatsAction)}));function LoadingGamesAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadingGamesAction_createClass(e,t,r){return t&&LoadingGamesAction_defineProperties(e.prototype,t),r&&LoadingGamesAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var sr=LoadingGamesAction_createClass((function LoadingGamesAction(e){!function LoadingGamesAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadingGamesAction),this.loading=e}));function LoadedAvatarAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedAvatarAction_createClass(e,t,r){return t&&LoadedAvatarAction_defineProperties(e.prototype,t),r&&LoadedAvatarAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var cr=LoadedAvatarAction_createClass((function LoadedAvatarAction(e,t,r,n){!function LoadedAvatarAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedAvatarAction),this.byId=e,this.detailsById=t,this.imagesById=r,this.expiration=n}));function LoadedFriendsPlayingGame_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedFriendsPlayingGame_createClass(e,t,r){return t&&LoadedFriendsPlayingGame_defineProperties(e.prototype,t),r&&LoadedFriendsPlayingGame_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var lr=LoadedFriendsPlayingGame_createClass((function LoadedFriendsPlayingGame(e,t){!function LoadedFriendsPlayingGame_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedFriendsPlayingGame),this.friendsByInstallmentId=e,this.expiration=t}));function LoadedFriendsStatsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedFriendsStatsAction_createClass(e,t,r){return t&&LoadedFriendsStatsAction_defineProperties(e.prototype,t),r&&LoadedFriendsStatsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ur=LoadedFriendsStatsAction_createClass((function LoadedFriendsStatsAction(e,t){!function LoadedFriendsStatsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedFriendsStatsAction),this.friendsStates=e,this.friendsExpiration=t}));function LoadedRecentlyMetAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedRecentlyMetAction_createClass(e,t,r){return t&&LoadedRecentlyMetAction_defineProperties(e.prototype,t),r&&LoadedRecentlyMetAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var fr=LoadedRecentlyMetAction_createClass((function LoadedRecentlyMetAction(e,t){!function LoadedRecentlyMetAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedRecentlyMetAction),this.entities=e,this.expiration=t}));function LoadedGalleryAvatarsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedGalleryAvatarsAction_createClass(e,t,r){return t&&LoadedGalleryAvatarsAction_defineProperties(e.prototype,t),r&&LoadedGalleryAvatarsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var dr=LoadedGalleryAvatarsAction_createClass((function LoadedGalleryAvatarsAction(e,t,r){!function LoadedGalleryAvatarsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedGalleryAvatarsAction),this.byInstallmentSpaceId=e,this.configsByCountryCode=t,this.expirations=r}));function LoadingAvatarsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadingAvatarsAction_createClass(e,t,r){return t&&LoadingAvatarsAction_defineProperties(e.prototype,t),r&&LoadingAvatarsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var pr=LoadingAvatarsAction_createClass((function LoadingAvatarsAction(){!function LoadingAvatarsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadingAvatarsAction)}));function LoadedPopulationsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedPopulationsAction_createClass(e,t,r){return t&&LoadedPopulationsAction_defineProperties(e.prototype,t),r&&LoadedPopulationsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var hr=LoadedPopulationsAction_createClass((function LoadedPopulationsAction(e,t,r,n,o,i,a,s){!function LoadedPopulationsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedPopulationsAction),this.populations=e,this.byUniqueName=t,this.byType=r,this.byBetaName=n,this.byPhaseName=o,this.byPlatformCode=i,this.bySpaceId=a,this.expiration=s}));function LoadedProfileEntitiesAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedProfileEntitiesAction_createClass(e,t,r){return t&&LoadedProfileEntitiesAction_defineProperties(e.prototype,t),r&&LoadedProfileEntitiesAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var yr=LoadedProfileEntitiesAction_createClass((function LoadedProfileEntitiesAction(e,t,r){!function LoadedProfileEntitiesAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedProfileEntitiesAction),this.entities=e,this.byEntityId=t,this.bySpaceId=r}));function LoadedGamesNewsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedGamesNewsAction_createClass(e,t,r){return t&&LoadedGamesNewsAction_defineProperties(e.prototype,t),r&&LoadedGamesNewsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var gr=LoadedGamesNewsAction_createClass((function LoadedGamesNewsAction(e,t,r,n){!function LoadedGamesNewsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedGamesNewsAction),this.news=e,this.byId=t,this.bySpaceId=r,this.expiration=n}));function LoadingFriendsPlayingGameAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadingFriendsPlayingGameAction_createClass(e,t,r){return t&&LoadingFriendsPlayingGameAction_defineProperties(e.prototype,t),r&&LoadingFriendsPlayingGameAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var vr=LoadingFriendsPlayingGameAction_createClass((function LoadingFriendsPlayingGameAction(){!function LoadingFriendsPlayingGameAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadingFriendsPlayingGameAction)}));function LoadedFriendGamesAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedFriendGamesAction_createClass(e,t,r){return t&&LoadedFriendGamesAction_defineProperties(e.prototype,t),r&&LoadedFriendGamesAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var mr=LoadedFriendGamesAction_createClass((function LoadedFriendGamesAction(e){!function LoadedFriendGamesAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedFriendGamesAction),this.loading=e}));function LoadedUserAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedUserAction_createClass(e,t,r){return t&&LoadedUserAction_defineProperties(e.prototype,t),r&&LoadedUserAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var br=LoadedUserAction_createClass((function LoadedUserAction(e,t){!function LoadedUserAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedUserAction),this.byId=e,this.expiration=t}));function LoadedGamesPlayedAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedGamesPlayedAction_createClass(e,t,r){return t&&LoadedGamesPlayedAction_defineProperties(e.prototype,t),r&&LoadedGamesPlayedAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Sr=LoadedGamesPlayedAction_createClass((function LoadedGamesPlayedAction(e,t,r,n,o,i,a,s,c){!function LoadedGamesPlayedAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedGamesPlayedAction),this.bySpaceId=e,this.applicationsByApplicationId=t,this.byApplicationId=r,this.applicationsByUserId=n,this.spaceIdsByUserId=o,this.spaceIds=i,this.applicationIds=a,this.lastSessionDates=s,this.expiration=c}));function LoadingGamesPlayedAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadingGamesPlayedAction_createClass(e,t,r){return t&&LoadingGamesPlayedAction_defineProperties(e.prototype,t),r&&LoadingGamesPlayedAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var wr=LoadingGamesPlayedAction_createClass((function LoadingGamesPlayedAction(){!function LoadingGamesPlayedAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadingGamesPlayedAction)}));function LoadingUbisoftGamesAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadingUbisoftGamesAction_createClass(e,t,r){return t&&LoadingUbisoftGamesAction_defineProperties(e.prototype,t),r&&LoadingUbisoftGamesAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Pr=LoadingUbisoftGamesAction_createClass((function LoadingUbisoftGamesAction(e){!function LoadingUbisoftGamesAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadingUbisoftGamesAction),this.loading=e}));function LoadedApplicationsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedApplicationsAction_createClass(e,t,r){return t&&LoadedApplicationsAction_defineProperties(e.prototype,t),r&&LoadedApplicationsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var _r=LoadedApplicationsAction_createClass((function LoadedApplicationsAction(e,t,r){!function LoadedApplicationsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedApplicationsAction),this.bySpaceId=e,this.byAppId=t,this.expiration=r}));function LoadingApplicationsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadingApplicationsAction_createClass(e,t,r){return t&&LoadingApplicationsAction_defineProperties(e.prototype,t),r&&LoadingApplicationsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Cr=LoadingApplicationsAction_createClass((function LoadingApplicationsAction(){!function LoadingApplicationsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadingApplicationsAction)}));function MarkLoadedGamesNewsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MarkLoadedGamesNewsAction_createClass(e,t,r){return t&&MarkLoadedGamesNewsAction_defineProperties(e.prototype,t),r&&MarkLoadedGamesNewsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Or,Ar=MarkLoadedGamesNewsAction_createClass((function MarkLoadedGamesNewsAction(){!function MarkLoadedGamesNewsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MarkLoadedGamesNewsAction)}));function LoadersStore_typeof(e){return LoadersStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LoadersStore_typeof(e)}function LoadersStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function LoadersStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?LoadersStore_ownKeys(Object(r),!0).forEach((function(t){LoadersStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LoadersStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function LoadersStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LoadersStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadersStore_setPrototypeOf(e,t){return LoadersStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},LoadersStore_setPrototypeOf(e,t)}function LoadersStore_createSuper(e){var t=function LoadersStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=LoadersStore_getPrototypeOf(e);if(t){var o=LoadersStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return LoadersStore_possibleConstructorReturn(this,r)}}function LoadersStore_possibleConstructorReturn(e,t){if(t&&("object"===LoadersStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function LoadersStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function LoadersStore_getPrototypeOf(e){return LoadersStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},LoadersStore_getPrototypeOf(e)}var kr=injectableForJs([])(Or=function(e){!function LoadersStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LoadersStore_setPrototypeOf(e,t)}(LoadersStore,e);var t=LoadersStore_createSuper(LoadersStore);function LoadersStore(){var e;return function LoadersStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadersStore),(e=t.call(this)).iniitalState={MyUserProfiles:!1,FriendsUserProfiles:!1,Games:!1,GamesStats:!1,Rewards:!1,Friends:!1,Connections:!1,Avatars:!1,FriendsPlayingGame:!1,GamesFriendsStats:!1,RecentlyMet:!1,GalleryAvatars:!1,Populations:!1,ProfileEntities:!1,News:!1,FriendGames:!1,UserStore:!1,UbisoftGamesStore:!1,GamesPlayedStore:!1,ApplicationsStore:!1,SpacesStore:!1},e.bind(null,(),e.bind(Jt.name,e.handleLoadedUserProfilesAction),e.bind(Zt.name,e.handleLoadedGamesAction),e.bind(or.name,e.handleLoadedGameStatsAction),e.bind(ar.name,e.handleLoadingGameStatsAction),e.bind(sr.name,e.handleLoadingGamesAction),e.bind(nr.name,e.handleLoadedRewardsAction),e.bind(ir.name,e.handleLoadingRewardsAction),e.bind(er.name,e.handleLoadedFriendsAction),e.bind(tr.name,e.handleLoadedFriendsUserProfilesAction),e.bind(rr.name,e.handleLoadedConnectionsAction),e.bind(cr.name,e.handleLoadedAvatarAction),e.bind(lr.name,e.handleLoadedFriendsPlayingGame),e.bind(ur.name,e.handleLoadedFriendsStatsAction),e.bind(fr.name,e.handleLoadedRecentlyMetAction),e.bind(dr.name,e.handleLoadedGalleryAvatarsAction),e.bind(pr.name,e.handleLoadingGalleryAvatarsAction),e.bind(hr.name,e.handleLoadedPopulationsAction),e.bind(yr.name,e.handleLoadedProfileEntitiesAction),e.bind(Ar.name,e.handleLoadedGamesNewsAction),e.bind(gr.name,e.handleLoadedGamesNewsAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(vr.name,e.handleLoadingFriendsPlayingGame),e.bind(mr.name,e.handleLoadFriendGamesAction),e.bind(br.name,e.handleLoadedUserAction),e.bind(Kt.name,e.handleLoadedUbisoftGamesAction),e.bind(Sr.name,e.handleLoadedUserGamesAction),e.bind(wr.name,e.handleLoadingGamesPlayedAction),e.bind(Pr.name,e.handleLoadingUbisoftGamesAction),e.bind(_r.name,e.handleLoadedApplicationsAction),e.bind(Cr.name,e.handleLoadingApplicationsAction),e.bind(Nt.name,e.handleLoadedSpacesAction),e}return function LoadersStore_createClass(e,t,r){return t&&LoadersStore_defineProperties(e.prototype,t),r&&LoadersStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(LoadersStore,[{key:"handleLoggedOutAction",value:,{key:"handleLoadedUserProfilesAction",value:function handleLoadedUserProfilesAction(e){return Object.assign({},e,{MyUserProfiles:!0})}},{key:"handleLoadedGamesAction",value:function handleLoadedGamesAction(e){return Object.assign({},e,{Games:!0})}},{key:"handleLoadingGamesAction",value:function handleLoadingGamesAction(e,t){return Object.assign({},e,{Games:!t.loading})}},{key:"handleLoadedGameStatsAction",value:function handleLoadedGameStatsAction(e){return Object.assign({},e,{GamesStats:!0})}},{key:"handleLoadingGameStatsAction",value:function handleLoadingGameStatsAction(e){return Object.assign({},e,{GamesStats:!1})}},{key:"handleLoadedRewardsAction",value:function handleLoadedRewardsAction(e){return Object.assign({},e,{Rewards:!0})}},{key:"handleLoadingRewardsAction",value:function handleLoadingRewardsAction(e){return Object.assign({},e,{Rewards:!1})}},{key:"handleLoadedFriendsAction",value:function handleLoadedFriendsAction(e){return Object.assign({},e,{Friends:!0})}},{key:"handleLoadedFriendsUserProfilesAction",value:function handleLoadedFriendsUserProfilesAction(e){return Object.assign({},e,{FriendsUserProfiles:!0})}},{key:"handleLoadedConnectionsAction",value:function handleLoadedConnectionsAction(e){return Object.assign({},e,{Connections:!0})}},{key:"handleLoadedAvatarAction",value:function handleLoadedAvatarAction(e){return Object.assign({},e,{Avatars:!0})}},{key:"handleLoadedFriendsPlayingGame",value:function handleLoadedFriendsPlayingGame(e){return Object.assign({},e,{FriendsPlayingGame:!0})}},{key:"handleLoadedRecentlyMetAction",value:function handleLoadedRecentlyMetAction(e){return Object.assign({},e,{RecentlyMet:!0})}},{key:"handleLoadedFriendsStatsAction",value:function handleLoadedFriendsStatsAction(e){return Object.assign({},e,{GamesFriendsStats:!0})}},{key:"handleLoadedGalleryAvatarsAction",value:function handleLoadedGalleryAvatarsAction(e){return Object.assign({},e,{GalleryAvatars:!0})}},{key:"handleLoadingGalleryAvatarsAction",value:function handleLoadingGalleryAvatarsAction(e){return Object.assign({},e,{Avatars:!1})}},{key:"handleLoadedPopulationsAction",value:function handleLoadedPopulationsAction(e){return Object.assign({},e,{Populations:!0})}},{key:"handleLoadedProfileEntitiesAction",value:function handleLoadedProfileEntitiesAction(e){return Object.assign({},e,{ProfileEntities:!0})}},{key:"handleLoadedGamesNewsAction",value:function handleLoadedGamesNewsAction(e){return Object.assign({},e,{News:!0})}},{key:"handleLoadingFriendsPlayingGame",value:,{key:"handleLoadFriendGamesAction",value:function handleLoadFriendGamesAction(e,t){return LoadersStore_objectSpread(LoadersStore_objectSpread({},e),{},{FriendGames:t.loading})}},{key:"handleLoadedUserAction",value:function handleLoadedUserAction(e){return LoadersStore_objectSpread(LoadersStore_objectSpread({},e),{},{UserStore:!0})}},{key:"handleLoadedUbisoftGamesAction",value:function handleLoadedUbisoftGamesAction(e){return LoadersStore_objectSpread(LoadersStore_objectSpread({},e),{},{UbisoftGamesStore:!0})}},{key:"handleLoadingUbisoftGamesAction",value:function handleLoadingUbisoftGamesAction(e,t){return LoadersStore_objectSpread(LoadersStore_objectSpread({},e),{},{UbisoftGamesStore:!t.loading})}},{key:"handleLoadedUserGamesAction",value:function handleLoadedUserGamesAction(e){return LoadersStore_objectSpread(LoadersStore_objectSpread({},e),{},{GamesPlayedStore:!0})}},{key:"handleLoadingGamesPlayedAction",value:function handleLoadingGamesPlayedAction(e){return LoadersStore_objectSpread(LoadersStore_objectSpread({},e),{},{GamesPlayedStore:!1})}},{key:"handleLoadedApplicationsAction",value:function handleLoadedApplicationsAction(e){return LoadersStore_objectSpread(LoadersStore_objectSpread({},e),{},{ApplicationsStore:!0})}},{key:"handleLoadingApplicationsAction",value:function handleLoadingApplicationsAction(e){return LoadersStore_objectSpread(LoadersStore_objectSpread({},e),{},{ApplicationsStore:!1})}},{key:"handleLoadedSpacesAction",value:]),LoadersStore}(L))||Or;function ReloadAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ReloadAction_createClass(e,t,r){return t&&ReloadAction_defineProperties(e.prototype,t),r&&ReloadAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var xr=ReloadAction_createClass((function ReloadAction(){!function ReloadAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReloadAction)}));function FailedFriendsApiAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FailedFriendsApiAction_createClass(e,t,r){return t&&FailedFriendsApiAction_defineProperties(e.prototype,t),r&&FailedFriendsApiAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ir,jr,Lr=FailedFriendsApiAction_createClass((function FailedFriendsApiAction(e){!function FailedFriendsApiAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FailedFriendsApiAction),this.hasError=e}));function FriendsStore_typeof(e){return FriendsStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FriendsStore_typeof(e)}function FriendsStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function FriendsStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FriendsStore_ownKeys(Object(r),!0).forEach((function(t){FriendsStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FriendsStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||e)||e)||)}unction FriendsStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FriendsStore_setPrototypeOf(e,t){return FriendsStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},FriendsStore_setPrototypeOf(e,t)}function FriendsStore_createSuper(e){var t=function FriendsStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=FriendsStore_getPrototypeOf(e);if(t){var o=FriendsStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return FriendsStore_possibleConstructorReturn(this,r)}}function FriendsStore_possibleConstructorReturn(e,t){if(t&&("object"===FriendsStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function FriendsStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function FriendsStore_getPrototypeOf(e){return FriendsStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},FriendsStore_getPrototypeOf(e)}function FriendsStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Er,Fr,Gr=injectableForJs([])((jr=function(e){!function FriendsStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FriendsStore_setPrototypeOf(e,t)}(FriendsStore,e);var t=FriendsStore_createSuper(FriendsStore);function FriendsStore(){var e;return function FriendsStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FriendsStore),(e=t.call(this)).bind(null,(function(){return{byId:{},ids:[],expiration:{},ownershipByUserId:{},hasApiError:!1}})),e.bind(er.name,e.handleLoadedFriendsAction),e.bind(Lr.name,e.handleFailedFriendsApiAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(xr.name,e.handleLoggedOutAction),e}return function FriendsStore_createClass(e,t,r){return t&&FriendsStore_defineProperties(e.prototype,t),r&&FriendsStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(FriendsStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{byId:{},ids:[],expiration:{},ownershipByUserId:{},hasApiError:!1}}},{key:"handleLoadedFriendsAction",value:function handleLoadedFriendsAction(e,t){var r={};return Object.keys(t.ownershipByUserId).forEach((function(n){r[n]=t.ownershipByUserId[n]&&t.ownershipByUserId[n].length?e.ownershipByUserId[n]?[].concat(_toConsumableArray(e.ownershipByUserId[n]),_toConsumableArray(t.ownershipByUserId[n])):t.ownershipByUserId[n]:e.ownershipByUserId[n]})),FriendsStore_objectSpread(FriendsStore_objectSpread({},e),{byId:Object.keys(t.byId).length?FriendsStore_objectSpread(FriendsStore_objectSpread({},e.byId),t.byId):{},ids:t.ids.length?e.ids.filter((function(e){return!t.ids.includes(e)})).concat(t.ids):e.ids,ownershipByUserId:FriendsStore_objectSpread(FriendsStore_objectSpread({},e.ownershipByUserId),r),expiration:FriendsStore_objectSpread(FriendsStore_objectSpread({},e.expiration),t.expiration)})}},{key:"handleFailedFriendsApiAction",value:function handleFailedFriendsApiAction(e,t){return FriendsStore_objectSpread(FriendsStore_objectSpread({},e),{hasApiError:t.hasError})}}]),FriendsStore}(L),FriendsStore_defineProperty(jr,"getState",(function(e){return e.FriendsStore})),FriendsStore_defineProperty(jr,"getByIds",(function(e){return e.FriendsStore.byId})),FriendsStore_defineProperty(jr,"getIds",(function(e){return e.FriendsStore.ids})),FriendsStore_defineProperty(jr,"gethHasApiError",(function(e){return e.FriendsStore.hasApiError})),FriendsStore_defineProperty(jr,"getOwnershipByUserId",(function(e){return e.FriendsStore.ownershipByUserId})),FriendsStore_defineProperty(jr,"getExpiration",(function(e){return e.FriendsStore.expiration})),FriendsStore_defineProperty(jr,"loaded",(function(e){return e.LoadersStore.Friends})),Ir=jr))||Ir;function ConnectionsStore_typeof(e){return ConnectionsStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ConnectionsStore_typeof(e)}function ConnectionsStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ConnectionsStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ConnectionsStore_ownKeys(Object(r),!0).forEach((function(t){ConnectionsStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ConnectionsStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ConnectionsStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ConnectionsStore_setPrototypeOf(e,t){return ConnectionsStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ConnectionsStore_setPrototypeOf(e,t)}function ConnectionsStore_createSuper(e){var t=function ConnectionsStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ConnectionsStore_getPrototypeOf(e);if(t){var o=ConnectionsStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ConnectionsStore_possibleConstructorReturn(this,r)}}function ConnectionsStore_possibleConstructorReturn(e,t){if(t&&("object"===ConnectionsStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ConnectionsStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ConnectionsStore_getPrototypeOf(e){return ConnectionsStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ConnectionsStore_getPrototypeOf(e)}function ConnectionsStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Tr=injectableForJs([])((Fr=function(e){!function ConnectionsStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ConnectionsStore_setPrototypeOf(e,t)}(ConnectionsStore,e);var t=ConnectionsStore_createSuper(ConnectionsStore);function ConnectionsStore(){var e;return function ConnectionsStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ConnectionsStore),(e=t.call(this)).bind(null,(function(){return{byId:{},byProfileId:{},bySpaceId:{},ids:[],profileIdsForCall:[],expiration:{}}})),e.bind(rr.name,e.handleLoadedConnectionsAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(xr.name,e.handleLoggedOutAction),e}return function ConnectionsStore_createClass(e,t,r){return t&&ConnectionsStore_defineProperties(e.prototype,t),r&&ConnectionsStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ConnectionsStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{byId:{},byProfileId:{},bySpaceId:{},ids:[],profileIdsForCall:[],expiration:{}}}},{key:"handleLoadedConnectionsAction",value:function handleLoadedConnectionsAction(e,t){return ConnectionsStore_objectSpread(ConnectionsStore_objectSpread({},e),{byId:ConnectionsStore_objectSpread(ConnectionsStore_objectSpread({},e.byId),t.byId),byProfileId:ConnectionsStore_objectSpread(ConnectionsStore_objectSpread({},e.byProfileId),t.byProfileId),bySpaceId:ConnectionsStore_objectSpread(ConnectionsStore_objectSpread({},e.bySpaceId),t.bySpaceId),ids:e.ids.filter((function(e){return!t.ids.includes(e)})).concat(t.ids),profileIdsForCall:e.profileIdsForCall.filter(().concat(t.profileIdsForCall),expiration:ConnectionsStore_objectSpread(ConnectionsStore_objectSpread({},e.expiration),t.expiration)})}}]),ConnectionsStore}(L),ConnectionsStore_defineProperty(Fr,"getState",(function(e){return e.ConnectionsStore})),ConnectionsStore_defineProperty(Fr,"getByProfileId",(function(e){return e.ConnectionsStore.byProfileId})),ConnectionsStore_defineProperty(Fr,"getById",(function(e){return e.ConnectionsStore.byId})),ConnectionsStore_defineProperty(Fr,"getIds",(function(e){return e.ConnectionsStore.ids})),ConnectionsStore_defineProperty(Fr,"getProfileIdsForCall",(function(e){return e.ConnectionsStore.profileIdsForCall})),ConnectionsStore_defineProperty(Fr,"getBySpaceId",(function(e){return e.ConnectionsStore.bySpaceId})),ConnectionsStore_defineProperty(Fr,"getExpiration",(function(e){return e.ConnectionsStore.expiration})),ConnectionsStore_defineProperty(Fr,"loaded",(function(e){return e.LoadersStore.Connections})),Er=Fr))||Er;function ShowFriendsActivityAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ShowFriendsActivityAction_createClass(e,t,r){return t&&ShowFriendsActivityAction_defineProperties(e.prototype,t),r&&ShowFriendsActivityAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Rr=ShowFriendsActivityAction_createClass((function ShowFriendsActivityAction(){!function ShowFriendsActivityAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ShowFriendsActivityAction)}));function HideFriendsActivityAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HideFriendsActivityAction_createClass(e,t,r){return t&&HideFriendsActivityAction_defineProperties(e.prototype,t),r&&HideFriendsActivityAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Nr=HideFriendsActivityAction_createClass((function HideFriendsActivityAction(){!function HideFriendsActivityAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HideFriendsActivityAction)}));function BootedWidgetAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BootedWidgetAction_createClass(e,t,r){return t&&BootedWidgetAction_defineProperties(e.prototype,t),r&&BootedWidgetAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ur=BootedWidgetAction_createClass((function BootedWidgetAction(){!function BootedWidgetAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BootedWidgetAction)}));function ResizeWidgetAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ResizeWidgetAction_createClass(e,t,r){return t&&ResizeWidgetAction_defineProperties(e.prototype,t),r&&ResizeWidgetAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Dr=ResizeWidgetAction_createClass((function ResizeWidgetAction(e){!function ResizeWidgetAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ResizeWidgetAction),this.isInMobileView=e}));function ShowMobileTabsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ShowMobileTabsAction_createClass(e,t,r){return t&&ShowMobileTabsAction_defineProperties(e.prototype,t),r&&ShowMobileTabsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Mr=ShowMobileTabsAction_createClass((function ShowMobileTabsAction(){!function ShowMobileTabsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ShowMobileTabsAction)}));function HideMobileTabsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HideMobileTabsAction_createClass(e,t,r){return t&&HideMobileTabsAction_defineProperties(e.prototype,t),r&&HideMobileTabsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Br=HideMobileTabsAction_createClass((function HideMobileTabsAction(){!function HideMobileTabsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HideMobileTabsAction)}));function ToggleOnClickActiveMenuAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleOnClickActiveMenuAction_createClass(e,t,r){return t&&ToggleOnClickActiveMenuAction_defineProperties(e.prototype,t),r&&ToggleOnClickActiveMenuAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Vr=ToggleOnClickActiveMenuAction_createClass((function ToggleOnClickActiveMenuAction(e){!function ToggleOnClickActiveMenuAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleOnClickActiveMenuAction),this.active=e}));function ChangeLastPlayedGameAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeLastPlayedGameAction_createClass(e,t,r){return t&&ChangeLastPlayedGameAction_defineProperties(e.prototype,t),r&&ChangeLastPlayedGameAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Wr=ChangeLastPlayedGameAction_createClass((function ChangeLastPlayedGameAction(e){!function ChangeLastPlayedGameAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeLastPlayedGameAction),this.installmentId=e}));function HideNotificationsPanelAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HideNotificationsPanelAction_createClass(e,t,r){return t&&HideNotificationsPanelAction_defineProperties(e.prototype,t),r&&HideNotificationsPanelAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Hr=HideNotificationsPanelAction_createClass((function HideNotificationsPanelAction(){!function HideNotificationsPanelAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HideNotificationsPanelAction)}));function ShowNotificationsPanelAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ShowNotificationsPanelAction_createClass(e,t,r){return t&&ShowNotificationsPanelAction_defineProperties(e.prototype,t),r&&ShowNotificationsPanelAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var qr=ShowNotificationsPanelAction_createClass((function ShowNotificationsPanelAction(){!function ShowNotificationsPanelAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ShowNotificationsPanelAction)}));function DeselectArabLanguageAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DeselectArabLanguageAction_createClass(e,t,r){return t&&DeselectArabLanguageAction_defineProperties(e.prototype,t),r&&DeselectArabLanguageAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var zr=DeselectArabLanguageAction_createClass((function DeselectArabLanguageAction(){!function DeselectArabLanguageAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DeselectArabLanguageAction)}));function SelectArabLanguageAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SelectArabLanguageAction_createClass(e,t,r){return t&&SelectArabLanguageAction_defineProperties(e.prototype,t),r&&SelectArabLanguageAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Qr=SelectArabLanguageAction_createClass((function SelectArabLanguageAction(){!function SelectArabLanguageAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SelectArabLanguageAction)}));function SetParentUrlAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SetParentUrlAction_createClass(e,t,r){return t&&SetParentUrlAction_defineProperties(e.prototype,t),r&&SetParentUrlAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Yr=SetParentUrlAction_createClass((function SetParentUrlAction(e){!function SetParentUrlAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SetParentUrlAction),this.parentUrl=e}));function SetSsoIdAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SetSsoIdAction_createClass(e,t,r){return t&&SetSsoIdAction_defineProperties(e.prototype,t),r&&SetSsoIdAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Xr=SetSsoIdAction_createClass((function SetSsoIdAction(e){!function SetSsoIdAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SetSsoIdAction),this.ssoId=e}));function ConnectLoginUrlAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ConnectLoginUrlAction_createClass(e,t,r){return t&&ConnectLoginUrlAction_defineProperties(e.prototype,t),r&&ConnectLoginUrlAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Kr=ConnectLoginUrlAction_createClass(();function WritteCONNECTloginDataAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function WritteCONNECTloginDataAction_createClass(e,t,r){return t&&WritteCONNECTloginDataAction_defineProperties(e.prototype,t),r&&WritteCONNECTloginDataAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var $r=WritteCONNECTloginDataAction_createClass((function WritteCONNECTloginDataAction(e){!function WritteCONNECTloginDataAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WritteCONNECTloginDataAction),this.CONNECTloginData=e}));function DeleteCONNECTloginDataAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DeleteCONNECTloginDataAction_createClass(e,t,r){return t&&DeleteCONNECTloginDataAction_defineProperties(e.prototype,t),r&&DeleteCONNECTloginDataAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Jr=DeleteCONNECTloginDataAction_createClass((function DeleteCONNECTloginDataAction(){!function DeleteCONNECTloginDataAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DeleteCONNECTloginDataAction)}));function ToggleShowOverviewTabDetailsViewAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleShowOverviewTabDetailsViewAction_createClass(e,t,r){return t&&ToggleShowOverviewTabDetailsViewAction_defineProperties(e.prototype,t),r&&ToggleShowOverviewTabDetailsViewAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Zr=ToggleShowOverviewTabDetailsViewAction_createClass((function ToggleShowOverviewTabDetailsViewAction(e){!function ToggleShowOverviewTabDetailsViewAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleShowOverviewTabDetailsViewAction),this.show=e}));function ToggleShowFriendsTabDetailsViewAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleShowFriendsTabDetailsViewAction_createClass(e,t,r){return t&&ToggleShowFriendsTabDetailsViewAction_defineProperties(e.prototype,t),r&&ToggleShowFriendsTabDetailsViewAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var en=ToggleShowFriendsTabDetailsViewAction_createClass((function ToggleShowFriendsTabDetailsViewAction(e){!function ToggleShowFriendsTabDetailsViewAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleShowFriendsTabDetailsViewAction),this.show=e}));function ShowDetailsViewAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ShowDetailsViewAction_createClass(e,t,r){return t&&ShowDetailsViewAction_defineProperties(e.prototype,t),r&&ShowDetailsViewAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var tn=ShowDetailsViewAction_createClass((function ShowDetailsViewAction(e){!function ShowDetailsViewAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ShowDetailsViewAction),this.toggle=e}));function ToggleShowMobileViewOnDesktopAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleShowMobileViewOnDesktopAction_createClass(e,t,r){return t&&ToggleShowMobileViewOnDesktopAction_defineProperties(e.prototype,t),r&&ToggleShowMobileViewOnDesktopAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var rn=ToggleShowMobileViewOnDesktopAction_createClass((function ToggleShowMobileViewOnDesktopAction(e){!function ToggleShowMobileViewOnDesktopAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleShowMobileViewOnDesktopAction),this.showMobileViewOnDesktop=e}));function StartedPanelFlowAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function StartedPanelFlowAction_createClass(e,t,r){return t&&StartedPanelFlowAction_defineProperties(e.prototype,t),r&&StartedPanelFlowAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var nn=StartedPanelFlowAction_createClass((function StartedPanelFlowAction(e){!function StartedPanelFlowAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StartedPanelFlowAction),this.startedPanelFlow=e}));function ToggleShowStatsHeaderOnPlayerCardDetails_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleShowStatsHeaderOnPlayerCardDetails_createClass(e,t,r){return t&&ToggleShowStatsHeaderOnPlayerCardDetails_defineProperties(e.prototype,t),r&&ToggleShowStatsHeaderOnPlayerCardDetails_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var on=ToggleShowStatsHeaderOnPlayerCardDetails_createClass((function ToggleShowStatsHeaderOnPlayerCardDetails(e){!function ToggleShowStatsHeaderOnPlayerCardDetails_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleShowStatsHeaderOnPlayerCardDetails),this.toggle=e}));function ToggleShowStatsHeaderOnFriendsDetails_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleShowStatsHeaderOnFriendsDetails_createClass(e,t,r){return t&&ToggleShowStatsHeaderOnFriendsDetails_defineProperties(e.prototype,t),r&&ToggleShowStatsHeaderOnFriendsDetails_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var an=ToggleShowStatsHeaderOnFriendsDetails_createClass((function ToggleShowStatsHeaderOnFriendsDetails(e){!function ToggleShowStatsHeaderOnFriendsDetails_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleShowStatsHeaderOnFriendsDetails),this.toggle=e}));function ToggleShowNameHeaderOnFriendsDetails_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleShowNameHeaderOnFriendsDetails_createClass(e,t,r){return t&&ToggleShowNameHeaderOnFriendsDetails_defineProperties(e.prototype,t),r&&ToggleShowNameHeaderOnFriendsDetails_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var sn=ToggleShowNameHeaderOnFriendsDetails_createClass((function ToggleShowNameHeaderOnFriendsDetails(e){!function ToggleShowNameHeaderOnFriendsDetails_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleShowNameHeaderOnFriendsDetails),this.toggle=e}));function ResizeWindowInnerHeightAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ResizeWindowInnerHeightAction_createClass(e,t,r){return t&&ResizeWindowInnerHeightAction_defineProperties(e.prototype,t),r&&ResizeWindowInnerHeightAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var cn=ResizeWindowInnerHeightAction_createClass((function ResizeWindowInnerHeightAction(e){!function ResizeWindowInnerHeightAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ResizeWindowInnerHeightAction),this.windowInnerHeight=e}));function ThirdPartyCookiesSupportAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ThirdPartyCookiesSupportAction_createClass(e,t,r){return t&&ThirdPartyCookiesSupportAction_defineProperties(e.prototype,t),r&&ThirdPartyCookiesSupportAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ln=ThirdPartyCookiesSupportAction_createClass((function ThirdPartyCookiesSupportAction(e){!function ThirdPartyCookiesSupportAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ThirdPartyCookiesSupportAction),this.thirdPartyCookiesSupport=e}));function IframeScrollWidthAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IframeScrollWidthAction_createClass(e,t,r){return t&&IframeScrollWidthAction_defineProperties(e.prototype,t),r&&IframeScrollWidthAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var un,fn=IframeScrollWidthAction_createClass((function IframeScrollWidthAction(e){!function IframeScrollWidthAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,IframeScrollWidthAction),this.iframeScrollWidth=e}));function WidgetStore_typeof(e){return WidgetStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WidgetStore_typeof(e)}function WidgetStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function WidgetStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WidgetStore_ownKeys(Object(r),!0).forEach((function(t){WidgetStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WidgetStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function WidgetStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WidgetStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function WidgetStore_setPrototypeOf(e,t){return WidgetStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},WidgetStore_setPrototypeOf(e,t)}function WidgetStore_createSuper(e){var t=function WidgetStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=WidgetStore_getPrototypeOf(e);if(t){var o=WidgetStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return WidgetStore_possibleConstructorReturn(this,r)}}function WidgetStore_possibleConstructorReturn(e,t){if(t&&("object"===WidgetStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function WidgetStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function WidgetStore_getPrototypeOf(e){return WidgetStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},WidgetStore_getPrototypeOf(e)}var dn,pn,hn=injectableForJs([])(un=function(e){!function WidgetStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WidgetStore_setPrototypeOf(e,t)}(WidgetStore,e);var t=WidgetStore_createSuper(WidgetStore);function WidgetStore(){var e;return function WidgetStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WidgetStore),(e=t.call(this)).bind(null,(function(){return{booted:!1,showFriends:!1,showPlayerCard:!1,isInMobileView:!1,showMobileTabs:!1,noActiveClickOnMenu:!1,newLastPlayGameInstallmentId:null,showNotifications:!1,isOnArabLocale:null,parentUrl:null,ssoId:null,connectLoginUrl:null,connectUrl:null,CONNECTloginData:null,showPlayerCardDetails:!1,showFriendsDetails:!1,showDetailsView:!1,showMobileViewOnDesktop:!1,startedPanelFlow:!1,showStatsHeaderOnPlayerCardDetails:!1,showStatsHeaderOnFriendsDetails:!1,showNameHeaderOnFriendsDetails:!1,trackingBannerHeight:0,windowInnerHeight:0,thirdPartyCookiesSupport:!0,iframeScrollWidth:0}})),e.bind(Rr.name,e.handleShowFriendsActivityAction),e.bind(Nr.name,e.handleHideFriendsActivityAction),e.bind(Mr.name,e.handleShowMobileTabs),e.bind(Br.name,e.handleHideMobileTabs),e.bind(Ur.name,e.handleBootedWidgetAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(Dr.name,e.handleResizeWidget),e.bind(Vr.name,e.handleNoActiveClickMenu),e.bind(Wr.name,e.handleChangeLastPlayedGame),e.bind(qr.name,e.handleShowNotificationsAction),e.bind(Hr.name,e.handleHideNotificationsAction),e.bind(Qr.name,e.handleSelectedArabLanguageAction),e.bind(zr.name,e.handleDeselectArabLanguageAction),e.bind(Yr.name,e.handleSetParentUrlAction),e.bind(Xr.name,e.handleSetSsoIdAction),e.bind(Kr.name,e.handleSetConnectLoginUrlAction),e.bind($r.name,e.handleWritteCONNECTloginDataAction),e.bind(Jr.name,e.handleDeleteCONNECTloginDataAction),e.bind(Zr.name,e.handleToggleShowOverviewTabDetailsViewAction),e.bind(en.name,e.handleToggleShowFriendsTabDetailsViewAction),e.bind(tn.name,e.handleShowDetailsViewAction),e.bind(rn.name,e.handleToggleShowMobileViewOnDesktopAction),e.bind(nn.name,e.handleStartedPanelFlowAction),e.bind(on.name,e.handleToggleShowStatsHeaderOnPlayerCardDetails),e.bind(an.name,e.handleToggleShowStatsHeaderOnFriendsDetails),e.bind(sn.name,e.handleToggleShowNameHeaderOnFriendsDetails),e.bind(cn.name,e.handleResizeWindowInnerHeightAction),e.bind(ln.name,e.handleThirdPartyCookiesSupportAction),e.bind(fn.name,e.handleSetIframeScrollWidth),e}return function WidgetStore_createClass(e,t,r){return t&&WidgetStore_defineProperties(e.prototype,t),r&&WidgetStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(WidgetStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(e){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{showFriends:!1,showPlayerCard:!1,showNotifications:!1,height:null,windowHeight:50,showPlayerCardDetails:!1,showFriendsDetails:!1,detailsViewWidth:0,showMobileViewOnDesktop:!1})}},{key:"handleShowFriendsActivityAction",value:function handleShowFriendsActivityAction(e){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{showFriends:!0})}},{key:"handleSetIframeScrollWidth",value:function handleSetIframeScrollWidth(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{iframeScrollWidth:t.iframeScrollWidth})}},{key:"handleHideFriendsActivityAction",value:function handleHideFriendsActivityAction(e){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{showFriends:!1})}},{key:"handleBootedWidgetAction",value:function handleBootedWidgetAction(e){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{booted:!0})}},{key:"handleResizeWidget",value:function handleResizeWidget(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{isInMobileView:t.isInMobileView})}},{key:"handleShowMobileTabs",value:function handleShowMobileTabs(e){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{showMobileTabs:!0})}},{key:"handleHideMobileTabs",value:function handleHideMobileTabs(e){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{showMobileTabs:!1})}},{key:"handleNoActiveClickMenu",value:function handleNoActiveClickMenu(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{noActiveClickOnMenu:t.active})}},{key:"handleChangeLastPlayedGame",value:function handleChangeLastPlayedGame(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{newLastPlayGameInstallmentId:t.installmentId})}},{key:"handleShowNotificationsAction",value:function handleShowNotificationsAction(e){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{showNotifications:!0})}},{key:"handleHideNotificationsAction",value:function handleHideNotificationsAction(e){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{showNotifications:!1})}},{key:"handleSelectedArabLanguageAction",value:function handleSelectedArabLanguageAction(e){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{isOnArabLocale:!0})}},{key:"handleDeselectArabLanguageAction",value:function handleDeselectArabLanguageAction(e){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{isOnArabLocale:!1})}},{key:"handleSetParentUrlAction",value:function handleSetParentUrlAction(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{parentUrl:t.parentUrl})}},{key:"handleSetSsoIdAction",value:function handleSetSsoIdAction(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{ssoId:t.ssoId})}},{key:"handleSetConnectLoginUrlAction",value:function handleSetConnectLoginUrlAction(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{connectLoginUrl:t.loginUrl,connectUrl:t.connectUrl})}},{key:"handleWritteCONNECTloginDataAction",value:function handleWritteCONNECTloginDataAction(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{CONNECTloginData:t.CONNECTloginData})}},{key:"handleDeleteCONNECTloginDataAction",value:,{key:"handleToggleShowOverviewTabDetailsViewAction",value:function handleToggleShowOverviewTabDetailsViewAction(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{showPlayerCardDetails:t.show})}},{key:"handleToggleShowFriendsTabDetailsViewAction",value:function handleToggleShowFriendsTabDetailsViewAction(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{showFriendsDetails:t.show})}},{key:"handleShowDetailsViewAction",value:function handleShowDetailsViewAction(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{showDetailsView:t.toggle})}},{key:"handleToggleShowMobileViewOnDesktopAction",value:function handleToggleShowMobileViewOnDesktopAction(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{showMobileViewOnDesktop:t.showMobileViewOnDesktop})}},{key:"handleStartedPanelFlowAction",value:function handleStartedPanelFlowAction(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{startedPanelFlow:t.startedPanelFlow})}},{key:"handleToggleShowStatsHeaderOnPlayerCardDetails",value:function handleToggleShowStatsHeaderOnPlayerCardDetails(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{showStatsHeaderOnPlayerCardDetails:t.toggle})}},{key:"handleToggleShowStatsHeaderOnFriendsDetails",value:function handleToggleShowStatsHeaderOnFriendsDetails(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{showStatsHeaderOnFriendsDetails:t.toggle})}},{key:"handleToggleShowNameHeaderOnFriendsDetails",value:function handleToggleShowNameHeaderOnFriendsDetails(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{showNameHeaderOnFriendsDetails:t.toggle})}},{key:"handleResizeWindowInnerHeightAction",value:function handleResizeWindowInnerHeightAction(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{windowInnerHeight:t.windowInnerHeight})}},{key:"handleThirdPartyCookiesSupportAction",value:function handleThirdPartyCookiesSupportAction(e,t){return WidgetStore_objectSpread(WidgetStore_objectSpread({},e),{},{thirdPartyCookiesSupport:t.thirdPartyCookiesSupport})}}]),WidgetStore}(L))||un;function GamesPlayedStore_typeof(e){return GamesPlayedStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GamesPlayedStore_typeof(e)}function GamesPlayedStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function GamesPlayedStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GamesPlayedStore_ownKeys(Object(r),!0).forEach((function(t){GamesPlayedStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GamesPlayedStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function GamesPlayedStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GamesPlayedStore_setPrototypeOf(e,t){return GamesPlayedStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},GamesPlayedStore_setPrototypeOf(e,t)}function GamesPlayedStore_createSuper(e){var t=function GamesPlayedStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=GamesPlayedStore_getPrototypeOf(e);if(t){var o=GamesPlayedStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return GamesPlayedStore_possibleConstructorReturn(this,r)}}function GamesPlayedStore_possibleConstructorReturn(e,t){if(t&&("object"===GamesPlayedStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function GamesPlayedStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function GamesPlayedStore_getPrototypeOf(e){return GamesPlayedStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},GamesPlayedStore_getPrototypeOf(e)}function GamesPlayedStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yn,gn,vn=injectableForJs([])((pn=function(e){!function GamesPlayedStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GamesPlayedStore_setPrototypeOf(e,t)}(GamesPlayedStore,e);var t=GamesPlayedStore_createSuper(GamesPlayedStore);function GamesPlayedStore(){var e;return function GamesPlayedStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GamesPlayedStore),(e=t.call(this)).bind(null,(function(){return{bySpaceId:{},applicationsByApplicationId:{},byApplicationId:{},applicationsByUserId:{},spaceIdsByUserId:{},lastSessionDates:{},applicationIds:[],spaceIds:[],expiration:{}}})),e.bind(Sr.name,e.handleLoadedUserGamesAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e}return function GamesPlayedStore_createClass(e,t,r){return t&&GamesPlayedStore_defineProperties(e.prototype,t),r&&GamesPlayedStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(GamesPlayedStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{bySpaceId:{},applicationsByApplicationId:{},byApplicationId:{},applicationsByUserId:{},spaceIdsByUserId:{},lastSessionDates:{},applicationIds:[],spaceIds:[],expiration:{}}}},{key:"handleLoadedUserGamesAction",value:function handleLoadedUserGamesAction(e,t){var r={};Object.keys(t.applicationsByUserId).forEach((function(n){r[n]=e.applicationsByUserId[n]?e.applicationsByUserId[n].filter((function(e){return!t.applicationsByUserId[n].includes(e)})).concat(t.applicationsByUserId[n]):t.applicationsByUserId[n]}));var n={};Object.keys(t.spaceIdsByUserId).forEach((function(r){n[r]=e.spaceIdsByUserId[r]?e.spaceIdsByUserId[r].filter((function(e){return!t.spaceIdsByUserId[r].includes(e)})).concat(t.spaceIdsByUserId[r]):t.spaceIdsByUserId[r]}));var o=e.lastSessionDates;return Object.keys(t.lastSessionDates).forEach((function(e){o[e]=GamesPlayedStore_objectSpread(GamesPlayedStore_objectSpread({},o[e]),t.lastSessionDates[e])})),GamesPlayedStore_objectSpread(GamesPlayedStore_objectSpread({},e),{bySpaceId:GamesPlayedStore_objectSpread(GamesPlayedStore_objectSpread({},e.bySpaceId),t.bySpaceId),applicationsByApplicationId:GamesPlayedStore_objectSpread(GamesPlayedStore_objectSpread({},e.applicationsByApplicationId),t.applicationsByApplicationId),applicationsByUserId:GamesPlayedStore_objectSpread(GamesPlayedStore_objectSpread({},e.applicationsByUserId),r),spaceIdsByUserId:GamesPlayedStore_objectSpread(GamesPlayedStore_objectSpread({},e.spaceIdsByUserId),n),lastSessionDates:GamesPlayedStore_objectSpread(GamesPlayedStore_objectSpread({},e.lastSessionDates),o),applicationIds:e.applicationIds.filter((function(e){return!t.applicationIds.includes(e)})).concat(t.applicationIds),spaceIds:e.spaceIds.filter((function(e){return!t.spaceIds.includes(e)})).concat(t.spaceIds),expiration:GamesPlayedStore_objectSpread(GamesPlayedStore_objectSpread({},e.expiration),t.expiration)})}}]),GamesPlayedStore}(L),GamesPlayedStore_defineProperty(pn,"getState",(function(e){return e.GamesPlayedStore})),GamesPlayedStore_defineProperty(pn,"getBySpaceId",(function(e){return e.GamesPlayedStore.bySpaceId})),GamesPlayedStore_defineProperty(pn,"getApplicationsByApplicationId",(function(e){return e.GamesPlayedStore.applicationsByApplicationId})),GamesPlayedStore_defineProperty(pn,"getByApplicationId",(function(e){return e.GamesPlayedStore.byApplicationId})),GamesPlayedStore_defineProperty(pn,"getApplicationsByUserId",(function(e){return e.GamesPlayedStore.applicationsByUserId})),GamesPlayedStore_defineProperty(pn,"getSpaceIdsByUserId",(function(e){return e.GamesPlayedStore.spaceIdsByUserId})),GamesPlayedStore_defineProperty(pn,"getApplicationIds",(function(e){return e.GamesPlayedStore.applicationIds})),GamesPlayedStore_defineProperty(pn,"getSpaceIds",(function(e){return e.GamesPlayedStore.spaceIds})),GamesPlayedStore_defineProperty(pn,"getLastSessionDates",(function(e){return e.GamesPlayedStore.lastSessionDates})),GamesPlayedStore_defineProperty(pn,"getExpiration",(function(e){return e.GamesPlayedStore.expiration})),GamesPlayedStore_defineProperty(pn,"loaded",(function(e){return e.LoadersStore.GamesPlayedStore})),dn=pn))||dn;function GameStatsStore_typeof(e){return GameStatsStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GameStatsStore_typeof(e)}function GameStatsStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function GameStatsStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GameStatsStore_ownKeys(Object(r),!0).forEach((function(t){GameStatsStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GameStatsStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function GameStatsStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GameStatsStore_setPrototypeOf(e,t){return GameStatsStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},GameStatsStore_setPrototypeOf(e,t)}function GameStatsStore_createSuper(e){var t=function GameStatsStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=GameStatsStore_getPrototypeOf(e);if(t){var o=GameStatsStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return GameStatsStore_possibleConstructorReturn(this,r)}}function GameStatsStore_possibleConstructorReturn(e,t){if(t&&("object"===GameStatsStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function GameStatsStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function GameStatsStore_getPrototypeOf(e){return GameStatsStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},GameStatsStore_getPrototypeOf(e)}function GameStatsStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mn=injectableForJs([])((gn=function(e){!function GameStatsStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GameStatsStore_setPrototypeOf(e,t)}(GamesStatsStore,e);var t=GameStatsStore_createSuper(GamesStatsStore);function GamesStatsStore(){var e;return function GameStatsStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GamesStatsStore),(e=t.call(this)).bind(null,(function(){return{byId:{},byFriendProfileId:{},bySpaceId:{},ids:[],expiration:{},friendsExpiration:{}}})),e.bind(or.name,e.handleLoadedGameStatsAction),e.bind(ur.name,e.handleLoadedFriendsStatsAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e}return function GameStatsStore_createClass(e,t,r){return t&&GameStatsStore_defineProperties(e.prototype,t),r&&GameStatsStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(GamesStatsStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{byId:{},byFriendProfileId:{},bySpaceId:{},ids:[],expiration:{},friendsExpiration:{}}}},{key:"handleLoadedGameStatsAction",value:function handleLoadedGameStatsAction(e,t){var r=e.byId;Object.keys(t.stats).forEach((function(n){var o=e.byId[n]?e.byId[n]:{};Object.keys(t.stats[n]).forEach((function(e){o[e]?o[e]=GameStatsStore_objectSpread(GameStatsStore_objectSpread({},o[e]),t.stats[n][e]):o[e]=GameStatsStore_objectSpread({},t.stats[n][e])})),r[n]=GameStatsStore_objectSpread(GameStatsStore_objectSpread({},r[n]),o)}));var n=e.expiration;return Object.keys(t.expiration).forEach((function(e){n[e]=GameStatsStore_objectSpread(GameStatsStore_objectSpread({},n[e]),t.expiration[e])})),GameStatsStore_objectSpread(GameStatsStore_objectSpread({},e),{},{byId:GameStatsStore_objectSpread(GameStatsStore_objectSpread({},e.byId),r),bySpaceId:GameStatsStore_objectSpread(GameStatsStore_objectSpread({},e.bySpaceId),t.bySpaceId),ids:e.ids.filter((function(e){return!t.ids.includes(e)})).concat(t.ids),expiration:GameStatsStore_objectSpread(GameStatsStore_objectSpread({},e.expiration),n)})}},{key:"handleLoadedFriendsStatsAction",value:function handleLoadedFriendsStatsAction(e,t){var r=e.friendsExpiration;return Object.keys(t.friendsExpiration).forEach((function(e){r[e]=GameStatsStore_objectSpread(GameStatsStore_objectSpread({},r[e]),t.friendsExpiration[e])})),GameStatsStore_objectSpread(GameStatsStore_objectSpread({},e),{},{byFriendProfileId:GameStatsStore_objectSpread(GameStatsStore_objectSpread({},e.byFriendProfileId),t.friendsStates),friendsExpiration:GameStatsStore_objectSpread(GameStatsStore_objectSpread({},e.friendsExpiration),r)})}}]),GamesStatsStore}(L),GameStatsStore_defineProperty(gn,"getState",(function(e){return e.GamesStatsStore})),GameStatsStore_defineProperty(gn,"getById",(function(e){return e.GamesStatsStore.byId})),GameStatsStore_defineProperty(gn,"getByFriendProfileId",(function(e){return e.GamesStatsStore.byFriendProfileId})),GameStatsStore_defineProperty(gn,"getIds",(function(e){return e.GamesStatsStore.ids})),GameStatsStore_defineProperty(gn,"getBySpaceId",(function(e){return e.GamesStatsStore.bySpaceId})),GameStatsStore_defineProperty(gn,"getExpiration",(function(e){return e.GamesStatsStore.expiration})),GameStatsStore_defineProperty(gn,"getFriendsExpiration",(function(e){return e.GamesStatsStore.friendsExpiration})),GameStatsStore_defineProperty(gn,"loaded",(function(e){return e.LoadersStore.GamesStats})),GameStatsStore_defineProperty(gn,"loadedFriendsStats",(function(e){return e.LoadersStore.GamesFriendsStats})),yn=gn))||yn;function LoadedFriendsRewardsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedFriendsRewardsAction_createClass(e,t,r){return t&&LoadedFriendsRewardsAction_defineProperties(e.prototype,t),r&&LoadedFriendsRewardsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var bn,Sn,wn=LoadedFriendsRewardsAction_createClass((function LoadedFriendsRewardsAction(e,t,r,n,o){!function LoadedFriendsRewardsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedFriendsRewardsAction),this.profilesRewardsById=e,this.profileIdsByRewardId=t,this.byProfileId=r,this.expiration=n,this.loadedFriendsRewards=o}));function RewardsStore_typeof(e){return RewardsStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RewardsStore_typeof(e)}function RewardsStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function RewardsStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RewardsStore_ownKeys(Object(r),!0).forEach((function(t){RewardsStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RewardsStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function RewardsStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RewardsStore_setPrototypeOf(e,t){return RewardsStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},RewardsStore_setPrototypeOf(e,t)}function RewardsStore_createSuper(e){var t=function RewardsStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=RewardsStore_getPrototypeOf(e);if(t){var o=RewardsStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return RewardsStore_possibleConstructorReturn(this,r)}}function RewardsStore_possibleConstructorReturn(e,t){if(t&&("object"===RewardsStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function RewardsStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function RewardsStore_getPrototypeOf(e){return RewardsStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},RewardsStore_getPrototypeOf(e)}function RewardsStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pn=injectableForJs([])((Sn=function(e){!function RewardsStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RewardsStore_setPrototypeOf(e,t)}(RewardsStore,e);var t=RewardsStore_createSuper(RewardsStore);function RewardsStore(){var e;return function RewardsStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RewardsStore),(e=t.call(this)).bind(null,(function(){return{rewards:[],byId:{},bySpaceId:{},ids:[],byUserId:{},profileIdsByRewardId:{},profilesRewardsById:{},unitsByProfileId:{},expiration:{},loadedFriendsRewards:!1}})),e.bind(nr.name,e.handleLoadedRewardsAction),e.bind(wn.name,e.handleLoadedFriendsRewardsAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e}return function RewardsStore_createClass(e,t,r){return t&&RewardsStore_defineProperties(e.prototype,t),r&&RewardsStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(RewardsStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{rewards:[],byId:{},bySpaceId:{},ids:[],byUserId:{},profileIdsByRewardId:{},profilesRewardsById:{},unitsByProfileId:{},expiration:{},loadedFriendsRewards:!1}}},{key:"handleLoadedRewardsAction",value:function handleLoadedRewardsAction(e,t){var r={};Object.keys(t.bySpaceId).forEach((function(n){r[n]=e.bySpaceId[n]?e.bySpaceId[n].filter((function(e){return!t.bySpaceId[n].includes(e)})).concat(t.bySpaceId[n]):t.bySpaceId[n]}));var n=e.expiration;return Object.keys(t.expiration).forEach((function(e){n[e]=RewardsStore_objectSpread(RewardsStore_objectSpread({},n[e]),t.expiration[e])})),RewardsStore_objectSpread(RewardsStore_objectSpread({},e),{},{rewards:t.rewards,byId:RewardsStore_objectSpread(RewardsStore_objectSpread({},e.byId),t.byId),bySpaceId:RewardsStore_objectSpread(RewardsStore_objectSpread({},e.bySpaceId),r),ids:e.ids.filter((function(e){return!t.rewardsIds.includes(e)})).concat(t.rewardsIds),unitsByProfileId:RewardsStore_objectSpread(RewardsStore_objectSpread({},e.unitsByProfileId),t.units),expiration:RewardsStore_objectSpread(RewardsStore_objectSpread({},e.expiration),n)})}},{key:"handleLoadedFriendsRewardsAction",value:function handleLoadedFriendsRewardsAction(e,t){var r={};Object.keys(t.byProfileId).forEach((function(n){r[n]=e.byUserId[n]?e.byUserId[n].filter((function(e){return!t.byProfileId[n].includes(e)})).concat(t.byProfileId[n]):t.byProfileId[n]}));var n={};Object.keys(t.profileIdsByRewardId).forEach((function(r){n[r]=e.profileIdsByRewardId[r]?e.profileIdsByRewardId[r].filter((function(e){return!t.profileIdsByRewardId[r].includes(e)})).concat(t.profileIdsByRewardId[r]):t.profileIdsByRewardId[r]}));var o=e.expiration;return Object.keys(t.expiration).forEach((function(e){o[e]=RewardsStore_objectSpread(RewardsStore_objectSpread({},o[e]),t.expiration[e])})),RewardsStore_objectSpread(RewardsStore_objectSpread({},e),{},{profilesRewardsById:RewardsStore_objectSpread(RewardsStore_objectSpread({},e.profilesRewardsById),t.profilesRewardsById),byUserId:RewardsStore_objectSpread(RewardsStore_objectSpread({},e.byUserId),r),profileIdsByRewardId:RewardsStore_objectSpread(RewardsStore_objectSpread({},e.profileIdsByRewardId),n),loadedFriendsRewards:t.loadedFriendsRewards,expiration:RewardsStore_objectSpread(RewardsStore_objectSpread({},e.expiration),o)})}}]),RewardsStore}(L),RewardsStore_defineProperty(Sn,"getState",(function(e){return e.RewardsStore})),RewardsStore_defineProperty(Sn,"getRewards",(function(e){return e.RewardsStore.rewards})),RewardsStore_defineProperty(Sn,"getById",(function(e){return e.RewardsStore.byId})),RewardsStore_defineProperty(Sn,"getBySpaceId",(function(e){return e.RewardsStore.bySpaceId})),RewardsStore_defineProperty(Sn,"getUnitsByProfileId",(function(e){return e.RewardsStore.unitsByProfileId})),RewardsStore_defineProperty(Sn,"getIds",(function(e){return e.RewardsStore.ids})),RewardsStore_defineProperty(Sn,"getProfilesRewardsbyId",(function(e){return e.RewardsStore.profilesRewardsById})),RewardsStore_defineProperty(Sn,"getProfileIdsByRewardId",(function(e){return e.RewardsStore.profileIdsByRewardId})),RewardsStore_defineProperty(Sn,"getByUserId",(function(e){return e.RewardsStore.byUserId})),RewardsStore_defineProperty(Sn,"getExpiration",(function(e){return e.RewardsStore.expiration})),RewardsStore_defineProperty(Sn,"loaded",(function(e){return e.LoadersStore.Rewards})),RewardsStore_defineProperty(Sn,"getLoadedFriendsRewards",(function(e){return e.RewardsStore.loadedFriendsRewards})),bn=Sn))||bn;function UpdateScreenNameAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UpdateScreenNameAction_createClass(e,t,r){return t&&UpdateScreenNameAction_defineProperties(e.prototype,t),r&&UpdateScreenNameAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var _n,Cn,On=UpdateScreenNameAction_createClass((function UpdateScreenNameAction(e,t){!function UpdateScreenNameAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UpdateScreenNameAction),this.userName=e,this.userId=t}));function UserProfilesStore_typeof(e){return UserProfilesStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UserProfilesStore_typeof(e)}function UserProfilesStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function UserProfilesStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UserProfilesStore_ownKeys(Object(r),!0).forEach((function(t){UserProfilesStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UserProfilesStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function UserProfilesStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserProfilesStore_setPrototypeOf(e,t){return UserProfilesStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},UserProfilesStore_setPrototypeOf(e,t)}function UserProfilesStore_createSuper(e){var t=function UserProfilesStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=UserProfilesStore_getPrototypeOf(e);if(t){var o=UserProfilesStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return UserProfilesStore_possibleConstructorReturn(this,r)}}function UserProfilesStore_possibleConstructorReturn(e,t){if(t&&("object"===UserProfilesStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function UserProfilesStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function UserProfilesStore_getPrototypeOf(e){return UserProfilesStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},UserProfilesStore_getPrototypeOf(e)}function UserProfilesStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var An=injectableForJs([])((Cn=function(e){!function UserProfilesStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UserProfilesStore_setPrototypeOf(e,t)}(UserProfilesStore,e);var t=UserProfilesStore_createSuper(UserProfilesStore);function UserProfilesStore(){var e;return function UserProfilesStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserProfilesStore),(e=t.call(this)).bind(null,(function(){return{byId:{},byNameOnPlatform:{},byUserId:{},ids:[],hasError:!1,expiration:{}}})),e.bind(Jt.name,e.handleLoadedMyUserProfilesAction),e.bind(tr.name,e.handleLoadedFriendsUserProfilesAction),e.bind(On.name,e.handleUpdateScreenNameAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(xr.name,e.handleLoggedOutAction),e}return function UserProfilesStore_createClass(e,t,r){return t&&UserProfilesStore_defineProperties(e.prototype,t),r&&UserProfilesStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(UserProfilesStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{byId:{},byNameOnPlatform:{},byUserId:{},ids:[],hasError:!1,expiration:{}}}},{key:"handleLoadedMyUserProfilesAction",value:function handleLoadedMyUserProfilesAction(e,t){return UserProfilesStore_objectSpread(UserProfilesStore_objectSpread({},e),{byId:UserProfilesStore_objectSpread(UserProfilesStore_objectSpread({},e.byId),t.byId),byNameOnPlatform:UserProfilesStore_objectSpread(UserProfilesStore_objectSpread({},e.byNameOnPlatform),t.byNameOnPlatform),byUserId:UserProfilesStore_objectSpread(UserProfilesStore_objectSpread({},e.byUserId),t.byUserId),ids:e.ids.filter((function(e){return!t.ids.includes(e)})).concat(t.ids),hasError:t.hasError,expiration:null!==t.expiration?UserProfilesStore_objectSpread(UserProfilesStore_objectSpread({},e.expiration),t.expiration):e.expiration})}},{key:"handleLoadedFriendsUserProfilesAction",value:function handleLoadedFriendsUserProfilesAction(e,t){return UserProfilesStore_objectSpread(UserProfilesStore_objectSpread({},e),{byId:UserProfilesStore_objectSpread(UserProfilesStore_objectSpread({},e.byId),t.byId),byNameOnPlatform:UserProfilesStore_objectSpread(UserProfilesStore_objectSpread({},e.byNameOnPlatform),t.byNameOnPlatform),byUserId:UserProfilesStore_objectSpread(UserProfilesStore_objectSpread({},e.byUserId),t.byUserId),ids:e.ids.filter((function(e){return!t.ids.includes(e)})).concat(t.ids),hasError:t.hasError,expiration:null!==t.expiration?UserProfilesStore_objectSpread(UserProfilesStore_objectSpread({},e.expiration),t.expiration):e.expiration})}},{key:"handleUpdateScreenNameAction",value:function handleUpdateScreenNameAction(e,t){var r=e.byId[t.userId].nameOnPlatform,n=UserProfilesStore_objectSpread(UserProfilesStore_objectSpread({},e.byId[t.userId]),{nameOnPlatform:t.userName}),o=UserProfilesStore_objectSpread(UserProfilesStore_objectSpread({},e),{byId:UserProfilesStore_objectSpread(UserProfilesStore_objectSpread({},e.byId),UserProfilesStore_defineProperty({},t.userId,n)),byNameOnPlatform:UserProfilesStore_objectSpread(UserProfilesStore_objectSpread({},e.byNameOnPlatform),UserProfilesStore_defineProperty({},t.userName,n))});return delete o.byNameOnPlatform[r],o}}]),UserProfilesStore}(L),UserProfilesStore_defineProperty(Cn,"getState",(function(e){return e.UserProfilesStore})),UserProfilesStore_defineProperty(Cn,"getById",(function(e){return e.UserProfilesStore.byId})),UserProfilesStore_defineProperty(Cn,"getByUserId",(function(e){return e.UserProfilesStore.byUserId})),UserProfilesStore_defineProperty(Cn,"getByNameOnPlatform",(function(e){return e.UserProfilesStore.byNameOnPlatform})),UserProfilesStore_defineProperty(Cn,"getIds",(function(e){return e.UserProfilesStore.ids})),UserProfilesStore_defineProperty(Cn,"loadedMyProfiles",(function(e){return e.LoadersStore.MyUserProfiles})),UserProfilesStore_defineProperty(Cn,"loadedFriendsProfiles",(function(e){return e.LoadersStore.FriendsUserProfiles})),UserProfilesStore_defineProperty(Cn,"getExpiration",(function(e){return e.UserProfilesStore.expiration})),UserProfilesStore_defineProperty(Cn,"getHasError",(function(e){return e.UserProfilesStore.hasError})),_n=Cn))||_n;function LoadingAddFriendsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadingAddFriendsAction_createClass(e,t,r){return t&&LoadingAddFriendsAction_defineProperties(e.prototype,t),r&&LoadingAddFriendsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var kn=LoadingAddFriendsAction_createClass((function LoadingAddFriendsAction(e,t){!function LoadingAddFriendsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadingAddFriendsAction),this.isLoading=e,this.userName=t}));function LoadedAddFriendsStatAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedAddFriendsStatAction_createClass(e,t,r){return t&&LoadedAddFriendsStatAction_defineProperties(e.prototype,t),r&&LoadedAddFriendsStatAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var xn=LoadedAddFriendsStatAction_createClass((function LoadedAddFriendsStatAction(e){!function LoadedAddFriendsStatAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedAddFriendsStatAction),this.friendsSate=e}));function ChangeAddFriendStateAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeAddFriendStateAction_createClass(e,t,r){return t&&ChangeAddFriendStateAction_defineProperties(e.prototype,t),r&&ChangeAddFriendStateAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var In=ChangeAddFriendStateAction_createClass((function ChangeAddFriendStateAction(e,t){!function ChangeAddFriendStateAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeAddFriendStateAction),this.pid=e,this.state=t}));function ShowNotFoundFriendAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ShowNotFoundFriendAction_createClass(e,t,r){return t&&ShowNotFoundFriendAction_defineProperties(e.prototype,t),r&&ShowNotFoundFriendAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var jn,Ln,En=ShowNotFoundFriendAction_createClass((function ShowNotFoundFriendAction(e){!function ShowNotFoundFriendAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ShowNotFoundFriendAction),this.show=e}));function AddFriendStore_typeof(e){return AddFriendStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AddFriendStore_typeof(e)}function AddFriendStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AddFriendStore_setPrototypeOf(e,t){return AddFriendStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},AddFriendStore_setPrototypeOf(e,t)}function AddFriendStore_createSuper(e){var t=function AddFriendStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=AddFriendStore_getPrototypeOf(e);if(t){var o=AddFriendStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return AddFriendStore_possibleConstructorReturn(this,r)}}function AddFriendStore_possibleConstructorReturn(e,t){if(t&&("object"===AddFriendStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function AddFriendStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function AddFriendStore_getPrototypeOf(e){return AddFriendStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},AddFriendStore_getPrototypeOf(e)}function AddFriendStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fn=injectableForJs([])((Ln=function(e){!function AddFriendStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AddFriendStore_setPrototypeOf(e,t)}(AddFriendStore,e);var t=AddFriendStore_createSuper(AddFriendStore);function AddFriendStore(){var e;return function AddFriendStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AddFriendStore),(e=t.call(this)).bind(null,(),e.bind(kn.name,e.handleLoadedFriendsAction),e.bind(xn.name,e.handleLoadedFriendsSateAction),e.bind(In.name,e.handleChangeFriendSateAction),e.bind(En.name,e.handleShowNotFoundFriendAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e}return function AddFriendStore_createClass(e,t,r){return t&&AddFriendStore_defineProperties(e.prototype,t),r&&AddFriendStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(AddFriendStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{userNameToSearch:null,isLoading:!1,showNotFoundFriend:!1,friendsSate:{}}}},{key:"handleLoadedFriendsAction",value:function handleLoadedFriendsAction(e,t){return Object.assign({},e,{userNameToSearch:t.userName,isLoading:t.isLoading})}},{key:"handleShowNotFoundFriendAction",value:function handleShowNotFoundFriendAction(e,t){return Object.assign({},e,{showNotFoundFriend:t.show})}},{key:"handleLoadedFriendsSateAction",value:function handleLoadedFriendsSateAction(e,t){return Object.assign({},e,{friendsSate:Object.assign({},e.friendsSate,t.friendsSate)})}},{key:"handleChangeFriendSateAction",value:function handleChangeFriendSateAction(e,t){var r=Object.assign({},e.friendsSate);return r[t.pid]=t.state,Object.assign({},e,{friendsSate:Object.assign({},e.friendsSate,r)})}}]),AddFriendStore}(L),AddFriendStore_defineProperty(Ln,"getState",(function(e){return e.AddFriendStore})),AddFriendStore_defineProperty(Ln,"getUserNameToSearch",(function(e){return e.AddFriendStore.userNameToSearch})),AddFriendStore_defineProperty(Ln,"getFriendsSate",(function(e){return e.AddFriendStore.friendsSate})),AddFriendStore_defineProperty(Ln,"getIsLoading",(function(e){return e.AddFriendStore.isLoading})),AddFriendStore_defineProperty(Ln,"getShowNotFoundFriend",(function(e){return e.AddFriendStore.showNotFoundFriend})),jn=Ln))||jn;function UserEmailVerificationAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserEmailVerificationAction_createClass(e,t,r){return t&&UserEmailVerificationAction_defineProperties(e.prototype,t),r&&UserEmailVerificationAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Gn,Tn,Rn=UserEmailVerificationAction_createClass((function UserEmailVerificationAction(e,t){!function UserEmailVerificationAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserEmailVerificationAction),this.showUserEmailVerificationButton=e,this.isEmailVerificationSent=t}));function UserEmailVerificationStore_typeof(e){return UserEmailVerificationStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UserEmailVerificationStore_typeof(e)}function UserEmailVerificationStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserEmailVerificationStore_setPrototypeOf(e,t){return UserEmailVerificationStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},UserEmailVerificationStore_setPrototypeOf(e,t)}function UserEmailVerificationStore_createSuper(e){var t=function UserEmailVerificationStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=UserEmailVerificationStore_getPrototypeOf(e);if(t){var o=UserEmailVerificationStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return UserEmailVerificationStore_possibleConstructorReturn(this,r)}}function UserEmailVerificationStore_possibleConstructorReturn(e,t){if(t&&("object"===UserEmailVerificationStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function UserEmailVerificationStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function UserEmailVerificationStore_getPrototypeOf(e){return UserEmailVerificationStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},UserEmailVerificationStore_getPrototypeOf(e)}function UserEmailVerificationStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Nn=injectableForJs([])((Tn=function(e){!function UserEmailVerificationStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UserEmailVerificationStore_setPrototypeOf(e,t)}(UserEmailVerificationStore,e);var t=UserEmailVerificationStore_createSuper(UserEmailVerificationStore);function UserEmailVerificationStore(){var e;return function UserEmailVerificationStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserEmailVerificationStore),(e=t.call(this)).bind(null,(function(){return{showUserEmailVerificationButton:!1,isEmailVerificationSent:!1}})),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(Rn.name,e.handleUserEmailVerificationAction),e}return function UserEmailVerificationStore_createClass(e,t,r){return t&&UserEmailVerificationStore_defineProperties(e.prototype,t),r&&UserEmailVerificationStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(UserEmailVerificationStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{showUserEmailVerificationButton:!1,isEmailVerificationSent:!1}}},{key:"handleUserEmailVerificationAction",value:function handleUserEmailVerificationAction(e,t){return Object.assign({},e,{showUserEmailVerificationButton:t.showUserEmailVerificationButton,isEmailVerificationSent:t.isEmailVerificationSent})}}]),UserEmailVerificationStore}(L),UserEmailVerificationStore_defineProperty(Tn,"getState",(function(e){return e.UserEmailVerificationStore})),UserEmailVerificationStore_defineProperty(Tn,"getShowUserEmailVerificationButton",(function(e){return e.UserEmailVerificationStore.showUserEmailVerificationButton})),UserEmailVerificationStore_defineProperty(Tn,"getIsEmailVerificationSent",(function(e){return e.UserEmailVerificationStore.isEmailVerificationSent})),Gn=Tn))||Gn;function ChangeFilterFriendsByNameAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeFilterFriendsByNameAction_createClass(e,t,r){return t&&ChangeFilterFriendsByNameAction_defineProperties(e.prototype,t),r&&ChangeFilterFriendsByNameAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Un,Dn,Mn=ChangeFilterFriendsByNameAction_createClass((function ChangeFilterFriendsByNameAction(e){!function ChangeFilterFriendsByNameAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeFilterFriendsByNameAction),this.userNameToFilterBy=e}));function FilterFriendStore_typeof(e){return FilterFriendStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FilterFriendStore_typeof(e)}function FilterFriendStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function FilterFriendStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FilterFriendStore_ownKeys(Object(r),!0).forEach((function(t){FilterFriendStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FilterFriendStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function FilterFriendStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FilterFriendStore_setPrototypeOf(e,t){return FilterFriendStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},FilterFriendStore_setPrototypeOf(e,t)}function FilterFriendStore_createSuper(e){var t=function FilterFriendStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=FilterFriendStore_getPrototypeOf(e);if(t){var o=FilterFriendStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return FilterFriendStore_possibleConstructorReturn(this,r)}}function FilterFriendStore_possibleConstructorReturn(e,t){if(t&&("object"===FilterFriendStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function FilterFriendStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function FilterFriendStore_getPrototypeOf(e){return FilterFriendStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},FilterFriendStore_getPrototypeOf(e)}function FilterFriendStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bn=injectableForJs([])((Dn=function(e){!function FilterFriendStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FilterFriendStore_setPrototypeOf(e,t)}(FilterFriendStore,e);var t=FilterFriendStore_createSuper(FilterFriendStore);function FilterFriendStore(){var e;return function FilterFriendStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FilterFriendStore),(e=t.call(this)).bind(null,(),e.bind(Mn.name,e.handleChangeFriendSateAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e}return function FilterFriendStore_createClass(e,t,r){return t&&FilterFriendStore_defineProperties(e.prototype,t),r&&FilterFriendStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(FilterFriendStore,[{key:"handleLoggedOutAction",value:,{key:"handleChangeFriendSateAction",value:function handleChangeFriendSateAction(e,t){return FilterFriendStore_objectSpread(FilterFriendStore_objectSpread({},e),{userNameToFilterBy:t.userNameToFilterBy})}}]),FilterFriendStore}(L),FilterFriendStore_defineProperty(Dn,"getState",(function(e){return e.FilterFriendStore})),FilterFriendStore_defineProperty(Dn,"getUserNameToFilterBy",(function(e){return e.FilterFriendStore.userNameToFilterBy})),Un=Dn))||Un;function ChangeFriendStateAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeFriendStateAction_createClass(e,t,r){return t&&ChangeFriendStateAction_defineProperties(e.prototype,t),r&&ChangeFriendStateAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Vn=ChangeFriendStateAction_createClass((function ChangeFriendStateAction(e,t,r,n,o,i){!function ChangeFriendStateAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeFriendStateAction),this.userId=e,this.isStillLoading=t,this.isRightAfterLoad=r,this.isAccepted=n,this.isDeclined=o,this.isCanceled=i}));function ChangeShowFriendRequestsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeShowFriendRequestsAction_createClass(e,t,r){return t&&ChangeShowFriendRequestsAction_defineProperties(e.prototype,t),r&&ChangeShowFriendRequestsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Wn=ChangeShowFriendRequestsAction_createClass((function ChangeShowFriendRequestsAction(e){!function ChangeShowFriendRequestsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeShowFriendRequestsAction),this.toggle=e}));function ChangeShowFriendInvitationsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeShowFriendInvitationsAction_createClass(e,t,r){return t&&ChangeShowFriendInvitationsAction_defineProperties(e.prototype,t),r&&ChangeShowFriendInvitationsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Hn=ChangeShowFriendInvitationsAction_createClass((function ChangeShowFriendInvitationsAction(e){!function ChangeShowFriendInvitationsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeShowFriendInvitationsAction),this.toggle=e}));function ChangeFriendDeclineStateAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeFriendDeclineStateAction_createClass(e,t,r){return t&&ChangeFriendDeclineStateAction_defineProperties(e.prototype,t),r&&ChangeFriendDeclineStateAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var qn=ChangeFriendDeclineStateAction_createClass((function ChangeFriendDeclineStateAction(e){!function ChangeFriendDeclineStateAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeFriendDeclineStateAction),this.userId=e}));function ToggleAddFriendsTabAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleAddFriendsTabAction_createClass(e,t,r){return t&&ToggleAddFriendsTabAction_defineProperties(e.prototype,t),r&&ToggleAddFriendsTabAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var zn,Qn,Yn=ToggleAddFriendsTabAction_createClass((function ToggleAddFriendsTabAction(e){!function ToggleAddFriendsTabAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleAddFriendsTabAction),this.showAddFriendsTab=e}));function FriendsActionsStore_typeof(e){return FriendsActionsStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FriendsActionsStore_typeof(e)}function FriendsActionsStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FriendsActionsStore_setPrototypeOf(e,t){return FriendsActionsStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},FriendsActionsStore_setPrototypeOf(e,t)}function FriendsActionsStore_createSuper(e){var t=function FriendsActionsStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=FriendsActionsStore_getPrototypeOf(e);if(t){var o=FriendsActionsStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return FriendsActionsStore_possibleConstructorReturn(this,r)}}function FriendsActionsStore_possibleConstructorReturn(e,t){if(t&&("object"===FriendsActionsStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function FriendsActionsStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function FriendsActionsStore_getPrototypeOf(e){return FriendsActionsStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},FriendsActionsStore_getPrototypeOf(e)}function FriendsActionsStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xn=injectableForJs([])((Qn=function(e){!function FriendsActionsStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FriendsActionsStore_setPrototypeOf(e,t)}(FriendsActionsStore,e);var t=FriendsActionsStore_createSuper(FriendsActionsStore);function FriendsActionsStore(){var e;return function FriendsActionsStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FriendsActionsStore),(e=t.call(this)).bind(null,(function(){return{currentUserId:null,currentDeclineUserId:null,isStillLoading:!1,isRightAfterLoad:!1,showMoreFriendRequests:!0,showMoreFriendInvitations:!0,showAddFriendsTab:!1,isAccepted:!1,isDeclined:!1,isCanceled:!1}})),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(Vn.name,e.handleChangeFriendStateAction),e.bind(Wn.name,e.handleChangeShowFriendRequestsAction),e.bind(Hn.name,e.handleChangeShowFriendInvitationsAction),e.bind(qn.name,e.handleChangeFriendDeclineStateAction),e.bind(Yn.name,e.handleShowAddFriendsTab),e}return function FriendsActionsStore_createClass(e,t,r){return t&&FriendsActionsStore_defineProperties(e.prototype,t),r&&FriendsActionsStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(FriendsActionsStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{currentUserId:null,currentDeclineUserId:null,isStillLoading:!1,isRightAfterLoad:!1,showMoreFriendRequests:!0,showMoreFriendInvitations:!0,showAddFriendsTab:!1,isAccepted:!1,isDeclined:!1,isCanceled:!1}}},{key:"handleChangeFriendStateAction",value:function handleChangeFriendStateAction(e,t){return Object.assign({},e,{currentUserId:t.userId,isStillLoading:t.isStillLoading,isRightAfterLoad:t.isRightAfterLoad,isAccepted:t.isAccepted,isDeclined:t.isDeclined,isCanceled:t.isCanceled})}},{key:"handleChangeShowFriendRequestsAction",value:function handleChangeShowFriendRequestsAction(e,t){return Object.assign({},e,{showMoreFriendRequests:t.toggle})}},{key:"handleChangeShowFriendInvitationsAction",value:function handleChangeShowFriendInvitationsAction(e,t){return Object.assign({},e,{showMoreFriendInvitations:t.toggle})}},{key:"handleChangeFriendDeclineStateAction",value:function handleChangeFriendDeclineStateAction(e,t){return Object.assign({},e,{currentDeclineUserId:t.userId})}},{key:"handleShowAddFriendsTab",value:function handleShowAddFriendsTab(e,t){return Object.assign({},e,{showAddFriendsTab:t.showAddFriendsTab})}}]),FriendsActionsStore}(L),FriendsActionsStore_defineProperty(Qn,"getState",(function(e){return e.FriendsActionsStore})),FriendsActionsStore_defineProperty(Qn,"getCurrentUserId",(function(e){return e.FriendsActionsStore.currentUserId})),FriendsActionsStore_defineProperty(Qn,"getCurrentDeclineUserId",(function(e){return e.FriendsActionsStore.currentDeclineUserId})),FriendsActionsStore_defineProperty(Qn,"getIsStillLoading",(function(e){return e.FriendsActionsStore.isStillLoading})),FriendsActionsStore_defineProperty(Qn,"getIsRightAfterLoad",(function(e){return e.FriendsActionsStore.isRightAfterLoad})),FriendsActionsStore_defineProperty(Qn,"getIsAccepted",(function(e){return e.FriendsActionsStore.isAccepted})),FriendsActionsStore_defineProperty(Qn,"getIsDeclined",(function(e){return e.FriendsActionsStore.isDeclined})),FriendsActionsStore_defineProperty(Qn,"getIsCanceled",(function(e){return e.FriendsActionsStore.isCanceled})),FriendsActionsStore_defineProperty(Qn,"getShowMoreFriendRequests",(function(e){return e.FriendsActionsStore.showMoreFriendRequests})),FriendsActionsStore_defineProperty(Qn,"getShowMoreFriendInvitations",(function(e){return e.FriendsActionsStore.showMoreFriendInvitations})),FriendsActionsStore_defineProperty(Qn,"getShowAddFriendsTab",(function(e){return e.FriendsActionsStore.showAddFriendsTab})),zn=Qn))||zn;function ChangeSocialNetworkTabAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeSocialNetworkTabAction_createClass(e,t,r){return t&&ChangeSocialNetworkTabAction_defineProperties(e.prototype,t),r&&ChangeSocialNetworkTabAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Kn=ChangeSocialNetworkTabAction_createClass((function ChangeSocialNetworkTabAction(e){!function ChangeSocialNetworkTabAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeSocialNetworkTabAction),this.tab=e}));function ErrorLoadingPsnAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ErrorLoadingPsnAction_createClass(e,t,r){return t&&ErrorLoadingPsnAction_defineProperties(e.prototype,t),r&&ErrorLoadingPsnAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var $n=ErrorLoadingPsnAction_createClass((function ErrorLoadingPsnAction(e){!function ErrorLoadingPsnAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ErrorLoadingPsnAction),this.error=e}));function ErrorLoadingXboxAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ErrorLoadingXboxAction_createClass(e,t,r){return t&&ErrorLoadingXboxAction_defineProperties(e.prototype,t),r&&ErrorLoadingXboxAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Jn=ErrorLoadingXboxAction_createClass((function ErrorLoadingXboxAction(e){!function ErrorLoadingXboxAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ErrorLoadingXboxAction),this.error=e}));function IsReloadFailedXboxAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IsReloadFailedXboxAction_createClass(e,t,r){return t&&IsReloadFailedXboxAction_defineProperties(e.prototype,t),r&&IsReloadFailedXboxAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Zn=IsReloadFailedXboxAction_createClass((function IsReloadFailedXboxAction(e){!function IsReloadFailedXboxAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,IsReloadFailedXboxAction),this.error=e}));function IsReloadFailedPsnAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IsReloadFailedPsnAction_createClass(e,t,r){return t&&IsReloadFailedPsnAction_defineProperties(e.prototype,t),r&&IsReloadFailedPsnAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var eo=IsReloadFailedPsnAction_createClass((function IsReloadFailedPsnAction(e){!function IsReloadFailedPsnAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,IsReloadFailedPsnAction),this.error=e}));function ToggleMoreFriendsOnPsnAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleMoreFriendsOnPsnAction_createClass(e,t,r){return t&&ToggleMoreFriendsOnPsnAction_defineProperties(e.prototype,t),r&&ToggleMoreFriendsOnPsnAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var to=ToggleMoreFriendsOnPsnAction_createClass((function ToggleMoreFriendsOnPsnAction(e){!function ToggleMoreFriendsOnPsnAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleMoreFriendsOnPsnAction),this.toggle=e}));function ToggleMoreFriendsOnXboxAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleMoreFriendsOnXboxAction_createClass(e,t,r){return t&&ToggleMoreFriendsOnXboxAction_defineProperties(e.prototype,t),r&&ToggleMoreFriendsOnXboxAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ro,no,oo=ToggleMoreFriendsOnXboxAction_createClass((function ToggleMoreFriendsOnXboxAction(e){!function ToggleMoreFriendsOnXboxAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleMoreFriendsOnXboxAction),this.toggle=e}));function SocialNetworkStore_typeof(e){return SocialNetworkStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SocialNetworkStore_typeof(e)}function SocialNetworkStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SocialNetworkStore_setPrototypeOf(e,t){return SocialNetworkStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},SocialNetworkStore_setPrototypeOf(e,t)}function SocialNetworkStore_createSuper(e){var t=function SocialNetworkStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=SocialNetworkStore_getPrototypeOf(e);if(t){var o=SocialNetworkStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return SocialNetworkStore_possibleConstructorReturn(this,r)}}function SocialNetworkStore_possibleConstructorReturn(e,t){if(t&&("object"===SocialNetworkStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function SocialNetworkStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function SocialNetworkStore_getPrototypeOf(e){return SocialNetworkStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},SocialNetworkStore_getPrototypeOf(e)}function SocialNetworkStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var io=injectableForJs([])((no=function(e){!function SocialNetworkStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SocialNetworkStore_setPrototypeOf(e,t)}(SocialNetworkStore,e);var t=SocialNetworkStore_createSuper(SocialNetworkStore);function SocialNetworkStore(){var e;return function SocialNetworkStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SocialNetworkStore),(e=t.call(this)).bind(null,(function(){return{selectedTab:"PSN",errorLoadingPsn:!1,errorLoadingXbox:!1,isReloadFailedPsn:!1,isReloadFailedXbox:!1,showMoreFriendsOnPsn:!0,showMoreFriendsOnXbox:!0}})),e.bind(Kn.name,e.handleChangeSocialNetworkTabAction),e.bind($n.name,e.handleErrorLoadingPsnAction),e.bind(Jn.name,e.handleErrorLoadingXboxAction),e.bind(Zn.name,e.handleIsReloadFailedXboxAction),e.bind(eo.name,e.handleIsReloadFailedPsnAction),e.bind(to.name,e.handleToggleMoreFriendsOnPsnAction),e.bind(oo.name,e.handleToggleMoreFriendsOnXboxAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e}return function SocialNetworkStore_createClass(e,t,r){return t&&SocialNetworkStore_defineProperties(e.prototype,t),r&&SocialNetworkStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(SocialNetworkStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{selectedTab:"PSN",errorLoadingPsn:!1,errorLoadingXbox:!1,isReloadFailedPsn:!1,isReloadFailedXbox:!1,showMoreFriendsOnPsn:!0,showMoreFriendsOnXbox:!0}}},{key:"handleChangeSocialNetworkTabAction",value:function handleChangeSocialNetworkTabAction(e,t){return Object.assign({},e,{selectedTab:t.tab})}},{key:"handleErrorLoadingPsnAction",value:function handleErrorLoadingPsnAction(e,t){return Object.assign({},e,{errorLoadingPsn:t.error})}},{key:"handleErrorLoadingXboxAction",value:function handleErrorLoadingXboxAction(e,t){return Object.assign({},e,{errorLoadingXbox:t.error})}},{key:"handleIsReloadFailedPsnAction",value:function handleIsReloadFailedPsnAction(e,t){return Object.assign({},e,{isReloadFailedPsn:t.error})}},{key:"handleIsReloadFailedXboxAction",value:function handleIsReloadFailedXboxAction(e,t){return Object.assign({},e,{isReloadFailedXbox:t.error})}},{key:"handleToggleMoreFriendsOnPsnAction",value:function handleToggleMoreFriendsOnPsnAction(e,t){return Object.assign({},e,{showMoreFriendsOnPsn:t.toggle})}},{key:"handleToggleMoreFriendsOnXboxAction",value:function handleToggleMoreFriendsOnXboxAction(e,t){return Object.assign({},e,{showMoreFriendsOnXbox:t.toggle})}}]),SocialNetworkStore}(L),SocialNetworkStore_defineProperty(no,"getState",(function(e){return e.SocialNetworkStore})),SocialNetworkStore_defineProperty(no,"getSelectedTab",(function(e){return e.SocialNetworkStore.selectedTab})),SocialNetworkStore_defineProperty(no,"getErrorLoadingPsn",(function(e){return e.SocialNetworkStore.errorLoadingPsn})),SocialNetworkStore_defineProperty(no,"getErrorLoadingXbox",(function(e){return e.SocialNetworkStore.errorLoadingXbox})),SocialNetworkStore_defineProperty(no,"getIsReloadFailedPsn",(function(e){return e.SocialNetworkStore.isReloadFailedPsn})),SocialNetworkStore_defineProperty(no,"getIsReloadFailedXbox",(function(e){return e.SocialNetworkStore.isReloadFailedXbox})),SocialNetworkStore_defineProperty(no,"getShowMoreFriendsOnPsn",(function(e){return e.SocialNetworkStore.showMoreFriendsOnPsn})),SocialNetworkStore_defineProperty(no,"getShowMoreFriendsOnXbox",(function(e){return e.SocialNetworkStore.showMoreFriendsOnXbox})),ro=no))||ro;function LoadedPsnFriendsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedPsnFriendsAction_createClass(e,t,r){return t&&LoadedPsnFriendsAction_defineProperties(e.prototype,t),r&&LoadedPsnFriendsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ao=LoadedPsnFriendsAction_createClass((function LoadedPsnFriendsAction(e){!function LoadedPsnFriendsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedPsnFriendsAction),this.psnFriends=e}));function LoadingPsnAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadingPsnAction_createClass(e,t,r){return t&&LoadingPsnAction_defineProperties(e.prototype,t),r&&LoadingPsnAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var so=LoadingPsnAction_createClass((function LoadingPsnAction(e){!function LoadingPsnAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadingPsnAction),this.loading=e}));function PsnExpirationAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PsnExpirationAction_createClass(e,t,r){return t&&PsnExpirationAction_defineProperties(e.prototype,t),r&&PsnExpirationAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var co,lo,uo=PsnExpirationAction_createClass((function PsnExpirationAction(e){!function PsnExpirationAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PsnExpirationAction),this.expiration=e}));function PsnAccountsStore_typeof(e){return PsnAccountsStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PsnAccountsStore_typeof(e)}function PsnAccountsStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function PsnAccountsStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PsnAccountsStore_ownKeys(Object(r),!0).forEach((function(t){PsnAccountsStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PsnAccountsStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function PsnAccountsStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PsnAccountsStore_setPrototypeOf(e,t){return PsnAccountsStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},PsnAccountsStore_setPrototypeOf(e,t)}function PsnAccountsStore_createSuper(e){var t=function PsnAccountsStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=PsnAccountsStore_getPrototypeOf(e);if(t){var o=PsnAccountsStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return PsnAccountsStore_possibleConstructorReturn(this,r)}}function PsnAccountsStore_possibleConstructorReturn(e,t){if(t&&("object"===PsnAccountsStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function PsnAccountsStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function PsnAccountsStore_getPrototypeOf(e){return PsnAccountsStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},PsnAccountsStore_getPrototypeOf(e)}function PsnAccountsStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fo=injectableForJs([])((lo=function(e){!function PsnAccountsStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PsnAccountsStore_setPrototypeOf(e,t)}(PsnAccountsStore,e);var t=PsnAccountsStore_createSuper(PsnAccountsStore);function PsnAccountsStore(){var e;return function PsnAccountsStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PsnAccountsStore),(e=t.call(this)).bind(null,(function(){return{psnFriends:[],isLoading:!0,expiration:0}})),e.bind(ao.name,e.handleLoadedPsnFriendsAction),e.bind(so.name,e.handleLoadingPsnAction),e.bind(uo.name,e.handlePsnExpirationAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(xr.name,e.handleLoggedOutAction),e}return function PsnAccountsStore_createClass(e,t,r){return t&&PsnAccountsStore_defineProperties(e.prototype,t),r&&PsnAccountsStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(PsnAccountsStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{psnFriends:[],isLoading:!0,expiration:0}}},{key:"handleLoadedPsnFriendsAction",value:function handleLoadedPsnFriendsAction(e,t){return PsnAccountsStore_objectSpread(PsnAccountsStore_objectSpread({},e),{},{psnFriends:e.psnFriends.concat([t.psnFriends])})}},{key:"handleLoadingPsnAction",value:function handleLoadingPsnAction(e,t){return PsnAccountsStore_objectSpread(PsnAccountsStore_objectSpread({},e),{},{isLoading:t.loading})}},{key:"handlePsnExpirationAction",value:function handlePsnExpirationAction(e,t){return PsnAccountsStore_objectSpread(PsnAccountsStore_objectSpread({},e),{},{expiration:null!==t.expiration?t.expiration:e.expiration})}}]),PsnAccountsStore}(L),PsnAccountsStore_defineProperty(lo,"getState",(function(e){return e.PsnAccountsStore})),PsnAccountsStore_defineProperty(lo,"getPsnFriends",(function(e){return e.PsnAccountsStore.psnFriends})),PsnAccountsStore_defineProperty(lo,"getExpiration",(function(e){return e.PsnAccountsStore.expiration})),PsnAccountsStore_defineProperty(lo,"getIsLoading",(function(e){return e.PsnAccountsStore.isLoading})),co=lo))||co;function LoadedXboxFriendsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedXboxFriendsAction_createClass(e,t,r){return t&&LoadedXboxFriendsAction_defineProperties(e.prototype,t),r&&LoadedXboxFriendsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var po=LoadedXboxFriendsAction_createClass((function LoadedXboxFriendsAction(e){!function LoadedXboxFriendsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedXboxFriendsAction),this.xboxFriends=e}));function LoadingXboxAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadingXboxAction_createClass(e,t,r){return t&&LoadingXboxAction_defineProperties(e.prototype,t),r&&LoadingXboxAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ho=LoadingXboxAction_createClass((function LoadingXboxAction(e){!function LoadingXboxAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadingXboxAction),this.loading=e}));function XboxExpirationAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function XboxExpirationAction_createClass(e,t,r){return t&&XboxExpirationAction_defineProperties(e.prototype,t),r&&XboxExpirationAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var yo,go,vo=XboxExpirationAction_createClass((function XboxExpirationAction(e){!function XboxExpirationAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,XboxExpirationAction),this.expiration=e}));function XboxAccountsStore_typeof(e){return XboxAccountsStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XboxAccountsStore_typeof(e)}function XboxAccountsStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function XboxAccountsStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XboxAccountsStore_ownKeys(Object(r),!0).forEach((function(t){XboxAccountsStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XboxAccountsStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function XboxAccountsStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function XboxAccountsStore_setPrototypeOf(e,t){return XboxAccountsStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},XboxAccountsStore_setPrototypeOf(e,t)}function XboxAccountsStore_createSuper(e){var t=function XboxAccountsStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=XboxAccountsStore_getPrototypeOf(e);if(t){var o=XboxAccountsStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return XboxAccountsStore_possibleConstructorReturn(this,r)}}function XboxAccountsStore_possibleConstructorReturn(e,t){if(t&&("object"===XboxAccountsStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function XboxAccountsStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function XboxAccountsStore_getPrototypeOf(e){return XboxAccountsStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},XboxAccountsStore_getPrototypeOf(e)}function XboxAccountsStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mo,bo,So=injectableForJs([])((go=function(e){!function XboxAccountsStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XboxAccountsStore_setPrototypeOf(e,t)}(XboxAccountsStore,e);var t=XboxAccountsStore_createSuper(XboxAccountsStore);function XboxAccountsStore(){var e;return function XboxAccountsStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,XboxAccountsStore),(e=t.call(this)).bind(null,(),e.bind(po.name,e.handleLoadedXboxFriendsAction),e.bind(ho.name,e.handleLoadingXboxAction),e.bind(vo.name,e.handleXboxExpirationAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(xr.name,e.handleLoggedOutAction),e}return function XboxAccountsStore_createClass(e,t,r){return t&&XboxAccountsStore_defineProperties(e.prototype,t),r&&XboxAccountsStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(XboxAccountsStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{xboxFriends:[],isLoading:!0,expiration:0}}},{key:"handleLoadedXboxFriendsAction",value:function handleLoadedXboxFriendsAction(e,t){return XboxAccountsStore_objectSpread(XboxAccountsStore_objectSpread({},e),{},{xboxFriends:e.xboxFriends.concat([t.xboxFriends])})}},{key:"handleLoadingXboxAction",value:function handleLoadingXboxAction(e,t){return XboxAccountsStore_objectSpread(XboxAccountsStore_objectSpread({},e),{},{isLoading:t.loading})}},{key:"handleXboxExpirationAction",value:function handleXboxExpirationAction(e,t){return XboxAccountsStore_objectSpread(XboxAccountsStore_objectSpread({},e),{},{expiration:null!==t.expiration?t.expiration:e.expiration})}}]),XboxAccountsStore}(L),XboxAccountsStore_defineProperty(go,"getState",(function(e){return e.XboxAccountsStore})),XboxAccountsStore_defineProperty(go,"getXboxFriends",(function(e){return e.XboxAccountsStore.xboxFriends})),XboxAccountsStore_defineProperty(go,"getExpiration",(function(e){return e.XboxAccountsStore.expiration})),XboxAccountsStore_defineProperty(go,"getIsLoading",(function(e){return e.XboxAccountsStore.isLoading})),yo=go))||yo;function FriendsGamesPlayedStore_typeof(e){return FriendsGamesPlayedStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FriendsGamesPlayedStore_typeof(e)}function FriendsGamesPlayedStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function FriendsGamesPlayedStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FriendsGamesPlayedStore_ownKeys(Object(r),!0).forEach((function(t){FriendsGamesPlayedStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FriendsGamesPlayedStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function FriendsGamesPlayedStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FriendsGamesPlayedStore_setPrototypeOf(e,t){return FriendsGamesPlayedStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},FriendsGamesPlayedStore_setPrototypeOf(e,t)}function FriendsGamesPlayedStore_createSuper(e){var t=function FriendsGamesPlayedStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=FriendsGamesPlayedStore_getPrototypeOf(e);if(t){var o=FriendsGamesPlayedStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return FriendsGamesPlayedStore_possibleConstructorReturn(this,r)}}function FriendsGamesPlayedStore_possibleConstructorReturn(e,t){if(t&&("object"===FriendsGamesPlayedStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function FriendsGamesPlayedStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function FriendsGamesPlayedStore_getPrototypeOf(e){return FriendsGamesPlayedStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},FriendsGamesPlayedStore_getPrototypeOf(e)}function FriendsGamesPlayedStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wo=injectableForJs([])((bo=function(e){!function FriendsGamesPlayedStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FriendsGamesPlayedStore_setPrototypeOf(e,t)}(FriendsGamesPlayedStore,e);var t=FriendsGamesPlayedStore_createSuper(FriendsGamesPlayedStore);function FriendsGamesPlayedStore(){var e;return function FriendsGamesPlayedStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FriendsGamesPlayedStore),(e=t.call(this)).bind(null,(),e.bind(lr.name,e.handleLoadedFriendsPlayingGame),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e}return function FriendsGamesPlayedStore_createClass(e,t,r){return t&&FriendsGamesPlayedStore_defineProperties(e.prototype,t),r&&FriendsGamesPlayedStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(FriendsGamesPlayedStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{friendsByInstallmentId:{},expiration:{}}}},{key:"handleLoadedFriendsPlayingGame",value:function handleLoadedFriendsPlayingGame(e,t){var r=e.friendsByInstallmentId;Object.keys(t.expiration).forEach((function(e){r[e]=FriendsGamesPlayedStore_objectSpread(FriendsGamesPlayedStore_objectSpread({},r[e]),t.friendsByInstallmentId[e])}));var n=e.expiration;return Object.keys(t.expiration).forEach((function(e){n[e]=FriendsGamesPlayedStore_objectSpread(FriendsGamesPlayedStore_objectSpread({},n[e]),t.expiration[e])})),FriendsGamesPlayedStore_objectSpread(FriendsGamesPlayedStore_objectSpread({},e),{},{friendsByInstallmentId:FriendsGamesPlayedStore_objectSpread(FriendsGamesPlayedStore_objectSpread({},e.friendsByInstallmentId),t.friendsByInstallmentId),expiration:FriendsGamesPlayedStore_objectSpread(FriendsGamesPlayedStore_objectSpread({},e.expiration),n)})}}]),FriendsGamesPlayedStore}(L),FriendsGamesPlayedStore_defineProperty(bo,"getState",(function(e){return e.FriendsGamesPlayedStore})),FriendsGamesPlayedStore_defineProperty(bo,"getFriendsByInstallmentId",(function(e){return e.FriendsGamesPlayedStore.friendsByInstallmentId})),FriendsGamesPlayedStore_defineProperty(bo,"getExpiration",(function(e){return e.FriendsGamesPlayedStore.expiration})),FriendsGamesPlayedStore_defineProperty(bo,"loaded",(function(e){return e.LoadersStore.FriendsPlayingGame})),mo=bo))||mo;function ChangeLPGPlatformAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeLPGPlatformAction_createClass(e,t,r){return t&&ChangeLPGPlatformAction_defineProperties(e.prototype,t),r&&ChangeLPGPlatformAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Po,_o,Co=ChangeLPGPlatformAction_createClass((function ChangeLPGPlatformAction(e,t,r){!function ChangeLPGPlatformAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeLPGPlatformAction),this.gameId=e,this.spaceId=t,this.appId=r}));function ChangePlatformStore_typeof(e){return ChangePlatformStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ChangePlatformStore_typeof(e)}function ChangePlatformStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ChangePlatformStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ChangePlatformStore_ownKeys(Object(r),!0).forEach((function(t){ChangePlatformStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ChangePlatformStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ChangePlatformStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangePlatformStore_setPrototypeOf(e,t){return ChangePlatformStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ChangePlatformStore_setPrototypeOf(e,t)}function ChangePlatformStore_createSuper(e){var t=function ChangePlatformStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ChangePlatformStore_getPrototypeOf(e);if(t){var o=ChangePlatformStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ChangePlatformStore_possibleConstructorReturn(this,r)}}function ChangePlatformStore_possibleConstructorReturn(e,t){if(t&&("object"===ChangePlatformStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ChangePlatformStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ChangePlatformStore_getPrototypeOf(e){return ChangePlatformStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ChangePlatformStore_getPrototypeOf(e)}function ChangePlatformStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Oo=injectableForJs([])((_o=function(e){!function ChangePlatformStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ChangePlatformStore_setPrototypeOf(e,t)}(ChangePlatformStore,e);var t=ChangePlatformStore_createSuper(ChangePlatformStore);function ChangePlatformStore(){var e;return function ChangePlatformStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangePlatformStore),(e=t.call(this)).bind(null,(),e.bind(Co.name,e.handleChangedPlatfrom),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e}return function ChangePlatformStore_createClass(e,t,r){return t&&ChangePlatformStore_defineProperties(e.prototype,t),r&&ChangePlatformStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ChangePlatformStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(e){return ChangePlatformStore_objectSpread(ChangePlatformStore_objectSpread({},e),{selectedSpaceAppByGameId:{}})}},{key:"handleChangedPlatfrom",value:function handleChangedPlatfrom(e,t){return ChangePlatformStore_objectSpread(ChangePlatformStore_objectSpread({},e),{selectedSpaceAppByGameId:ChangePlatformStore_objectSpread(ChangePlatformStore_objectSpread({},e.selectedSpaceAppByGameId),ChangePlatformStore_defineProperty({},t.gameId,{spaceId:t.spaceId,appId:t.appId}))})}}]),ChangePlatformStore}(L),ChangePlatformStore_defineProperty(_o,"getState",(function(e){return e.ChangePlatformStore})),ChangePlatformStore_defineProperty(_o,"getSelectedSpaceAppByGameId",(function(e){return e.ChangePlatformStore.selectedSpaceAppByGameId})),Po=_o))||Po;function ChangeUserNameAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeUserNameAction_createClass(e,t,r){return t&&ChangeUserNameAction_defineProperties(e.prototype,t),r&&ChangeUserNameAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ao=ChangeUserNameAction_createClass((function ChangeUserNameAction(e,t,r){!function ChangeUserNameAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeUserNameAction),this.showChangeUserName=e,this.userName=t,this.isValidating=r}));function ChangeUserNameShowRulesAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeUserNameShowRulesAction_createClass(e,t,r){return t&&ChangeUserNameShowRulesAction_defineProperties(e.prototype,t),r&&ChangeUserNameShowRulesAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ko=ChangeUserNameShowRulesAction_createClass((function ChangeUserNameShowRulesAction(e){!function ChangeUserNameShowRulesAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeUserNameShowRulesAction),this.showRules=e}));function ChangeUserNameErrorAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeUserNameErrorAction_createClass(e,t,r){return t&&ChangeUserNameErrorAction_defineProperties(e.prototype,t),r&&ChangeUserNameErrorAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var xo=ChangeUserNameErrorAction_createClass((function ChangeUserNameErrorAction(e){!function ChangeUserNameErrorAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeUserNameErrorAction),this.hasError=e}));function ChangeUserNameErrorTypeAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeUserNameErrorTypeAction_createClass(e,t,r){return t&&ChangeUserNameErrorTypeAction_defineProperties(e.prototype,t),r&&ChangeUserNameErrorTypeAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Io=ChangeUserNameErrorTypeAction_createClass((function ChangeUserNameErrorTypeAction(e){!function ChangeUserNameErrorTypeAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeUserNameErrorTypeAction),this.errorType=e}));function LocalizedMessageAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LocalizedMessageAction_createClass(e,t,r){return t&&LocalizedMessageAction_defineProperties(e.prototype,t),r&&LocalizedMessageAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var jo=LocalizedMessageAction_createClass((function LocalizedMessageAction(e){!function LocalizedMessageAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LocalizedMessageAction),this.error=e}));function UserNameErrorTimeLimitAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserNameErrorTimeLimitAction_createClass(e,t,r){return t&&UserNameErrorTimeLimitAction_defineProperties(e.prototype,t),r&&UserNameErrorTimeLimitAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Lo=UserNameErrorTimeLimitAction_createClass((function UserNameErrorTimeLimitAction(e){!function UserNameErrorTimeLimitAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserNameErrorTimeLimitAction),this.hasError=e}));function UserNameErrorGeneralAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserNameErrorGeneralAction_createClass(e,t,r){return t&&UserNameErrorGeneralAction_defineProperties(e.prototype,t),r&&UserNameErrorGeneralAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Eo=UserNameErrorGeneralAction_createClass((function UserNameErrorGeneralAction(e){!function UserNameErrorGeneralAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserNameErrorGeneralAction),this.hasError=e}));function ValidationCallAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ValidationCallAction_createClass(e,t,r){return t&&ValidationCallAction_defineProperties(e.prototype,t),r&&ValidationCallAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Fo=ValidationCallAction_createClass((function ValidationCallAction(e){!function ValidationCallAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ValidationCallAction),this.start=e}));function UserNameErrorAvailableAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserNameErrorAvailableAction_createClass(e,t,r){return t&&UserNameErrorAvailableAction_defineProperties(e.prototype,t),r&&UserNameErrorAvailableAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Go=UserNameErrorAvailableAction_createClass((function UserNameErrorAvailableAction(e){!function UserNameErrorAvailableAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserNameErrorAvailableAction),this.hasError=e}));function UserNameErrorRequiredAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserNameErrorRequiredAction_createClass(e,t,r){return t&&UserNameErrorRequiredAction_defineProperties(e.prototype,t),r&&UserNameErrorRequiredAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var To=UserNameErrorRequiredAction_createClass((function UserNameErrorRequiredAction(e){!function UserNameErrorRequiredAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserNameErrorRequiredAction),this.hasError=e}));function UserNameErrorRestrictedAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserNameErrorRestrictedAction_createClass(e,t,r){return t&&UserNameErrorRestrictedAction_defineProperties(e.prototype,t),r&&UserNameErrorRestrictedAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ro=UserNameErrorRestrictedAction_createClass((function UserNameErrorRestrictedAction(e){!function UserNameErrorRestrictedAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserNameErrorRestrictedAction),this.hasError=e}));function UserNameErrorLocalizedAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserNameErrorLocalizedAction_createClass(e,t,r){return t&&UserNameErrorLocalizedAction_defineProperties(e.prototype,t),r&&UserNameErrorLocalizedAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var No=UserNameErrorLocalizedAction_createClass((function UserNameErrorLocalizedAction(e){!function UserNameErrorLocalizedAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserNameErrorLocalizedAction),this.hasError=e}));function StartErrorAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function StartErrorAction_createClass(e,t,r){return t&&StartErrorAction_defineProperties(e.prototype,t),r&&StartErrorAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Uo=StartErrorAction_createClass((function StartErrorAction(e){!function StartErrorAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StartErrorAction),this.start=e}));function UserNameLengthErrorAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserNameLengthErrorAction_createClass(e,t,r){return t&&UserNameLengthErrorAction_defineProperties(e.prototype,t),r&&UserNameLengthErrorAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Do=UserNameLengthErrorAction_createClass((function UserNameLengthErrorAction(e){!function UserNameLengthErrorAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserNameLengthErrorAction),this.hasError=e}));function CharacterErrorAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CharacterErrorAction_createClass(e,t,r){return t&&CharacterErrorAction_defineProperties(e.prototype,t),r&&CharacterErrorAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Mo=CharacterErrorAction_createClass((function CharacterErrorAction(e){!function CharacterErrorAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CharacterErrorAction),this.start=e}));function CompanyErrorAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CompanyErrorAction_createClass(e,t,r){return t&&CompanyErrorAction_defineProperties(e.prototype,t),r&&CompanyErrorAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Bo=CompanyErrorAction_createClass((function CompanyErrorAction(e){!function CompanyErrorAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CompanyErrorAction),this.start=e}));function ValidationErrorCodeAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ValidationErrorCodeAction_createClass(e,t,r){return t&&ValidationErrorCodeAction_defineProperties(e.prototype,t),r&&ValidationErrorCodeAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Vo=ValidationErrorCodeAction_createClass((function ValidationErrorCodeAction(e,t){!function ValidationErrorCodeAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ValidationErrorCodeAction),this.error=e,this.hasError=t}));function LoadedTwoFactorAuthStatusAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedTwoFactorAuthStatusAction_createClass(e,t,r){return t&&LoadedTwoFactorAuthStatusAction_defineProperties(e.prototype,t),r&&LoadedTwoFactorAuthStatusAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Wo=LoadedTwoFactorAuthStatusAction_createClass((function LoadedTwoFactorAuthStatusAction(e,t){!function LoadedTwoFactorAuthStatusAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedTwoFactorAuthStatusAction),this.active=e,this.optin=t}));function UserNameUbisoftErrorAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserNameUbisoftErrorAction_createClass(e,t,r){return t&&UserNameUbisoftErrorAction_defineProperties(e.prototype,t),r&&UserNameUbisoftErrorAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ho,qo,zo=UserNameUbisoftErrorAction_createClass((function UserNameUbisoftErrorAction(e){!function UserNameUbisoftErrorAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserNameUbisoftErrorAction),this.hasError=e}));function UserNameStore_typeof(e){return UserNameStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UserNameStore_typeof(e)}function UserNameStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function UserNameStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UserNameStore_ownKeys(Object(r),!0).forEach((function(t){UserNameStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UserNameStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function UserNameStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserNameStore_setPrototypeOf(e,t){return UserNameStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},UserNameStore_setPrototypeOf(e,t)}function UserNameStore_createSuper(e){var t=function UserNameStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=UserNameStore_getPrototypeOf(e);if(t){var o=UserNameStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return UserNameStore_possibleConstructorReturn(this,r)}}function UserNameStore_possibleConstructorReturn(e,t){if(t&&("object"===UserNameStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function UserNameStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function UserNameStore_getPrototypeOf(e){return UserNameStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},UserNameStore_getPrototypeOf(e)}function UserNameStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qo,Yo,Xo=injectableForJs([])((qo=function(e){!function UserNameStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UserNameStore_setPrototypeOf(e,t)}(UserNameStore,e);var t=UserNameStore_createSuper(UserNameStore);function UserNameStore(){var e;return function UserNameStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserNameStore),(e=t.call(this)).bind(null,(function(){return{hasError:!1,hasValidationErrors:!1,validationErrorCode:null,validationErrorLocalizedMessage:null,showChangeUserName:!1,userName:null,isValidating:!1,showRules:!1,errorType:null,hasUserNameErrorTimeLimit:null,hasUserNameErrorGeneral:null,hasUserNameErrorAvailable:null,hasUserNameErrorRequired:null,hasUserNameErrorRestricted:null,hasUserNameErrorLocalized:null,hasUserNameUbisoftError:null,hasStartError:null,hasUserNameLengthError:null,hasCharacterError:null,hasCompanyError:null,isCallingValidation:!1,twoFactorAuthStatus:!1}})),e.bind(Vo.name,e.handleValidationErrorCodeAction),e.bind(Bo.name,e.handleCompanyErrorAction),e.bind(Mo.name,e.handleCharacterErrorAction),e.bind(Do.name,e.handleUserNameLengthErrorAction),e.bind(Uo.name,e.handleStartErrorAction),e.bind(No.name,e.handleUserNameErrorLocalizedAction),e.bind(Ro.name,e.handleUserNameErrorRestrictedAction),e.bind(To.name,e.handleUserNameErrorRequiredAction),e.bind(Go.name,e.handleUserNameErrorAvailableAction),e.bind(zo.name,e.handleUserNameUbisoftErrorAction),e.bind(Fo.name,e.handleValidationCallAction),e.bind(Eo.name,e.handleUserNameErrorGeneralAction),e.bind(Lo.name,e.handleUserNameErrorTimeLimitAction),e.bind(jo.name,e.handleLocalizedMessageAction),e.bind(Io.name,e.handleChangeUserNameErrorType),e.bind(xo.name,e.handleChangeUserNameError),e.bind(Ao.name,e.handleChangeUserNameAction),e.bind(ko.name,e.handleChangeUserNameShowRules),e.bind(Wo.name,e.handleLoadedTwoFactorAuthStatusAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e}return function UserNameStore_createClass(e,t,r){return t&&UserNameStore_defineProperties(e.prototype,t),r&&UserNameStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(UserNameStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{hasError:!1,hasValidationErrors:!1,validationErrorCode:null,validationErrorLocalizedMessage:null,showChangeUserName:!1,userName:null,isValidating:!1,showRules:!1,errorType:null,hasUserNameErrorTimeLimit:null,hasUserNameErrorGeneral:null,hasUserNameErrorAvailable:null,hasUserNameErrorRequired:null,hasUserNameErrorRestricted:null,hasUserNameErrorLocalized:null,hasUserNameUbisoftError:null,hasStartError:null,hasUserNameLengthError:null,hasCharacterError:null,hasCompanyError:null,isCallingValidation:!1,twoFactorAuthStatus:!1}}},{key:"handleChangeUserNameAction",value:function handleChangeUserNameAction(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{showChangeUserName:t.showChangeUserName,userName:t.userName,isValidating:t.isValidating})}},{key:"handleChangeUserNameShowRules",value:function handleChangeUserNameShowRules(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{showRules:t.showRules})}},{key:"handleChangeUserNameError",value:function handleChangeUserNameError(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{hasError:t.hasError})}},{key:"handleChangeUserNameErrorType",value:function handleChangeUserNameErrorType(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{errorType:t.errorType})}},{key:"handleLocalizedMessageAction",value:function handleLocalizedMessageAction(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{validationErrorLocalizedMessage:t.error})}},{key:"handleUserNameErrorTimeLimitAction",value:function handleUserNameErrorTimeLimitAction(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{hasUserNameErrorTimeLimit:t.hasError})}},{key:"handleUserNameErrorGeneralAction",value:function handleUserNameErrorGeneralAction(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{hasUserNameErrorGeneral:t.hasError})}},{key:"handleValidationCallAction",value:function handleValidationCallAction(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{isCallingValidation:t.start})}},{key:"handleUserNameErrorAvailableAction",value:function handleUserNameErrorAvailableAction(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{hasUserNameErrorAvailable:t.hasError})}},{key:"handleUserNameErrorRequiredAction",value:function handleUserNameErrorRequiredAction(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{hasUserNameErrorRequired:t.hasError})}},{key:"handleUserNameErrorRestrictedAction",value:function handleUserNameErrorRestrictedAction(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{hasUserNameErrorRestricted:t.hasError})}},{key:"handleUserNameErrorLocalizedAction",value:function handleUserNameErrorLocalizedAction(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{hasUserNameErrorLocalized:t.hasError})}},{key:"handleStartErrorAction",value:function handleStartErrorAction(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{hasStartError:t.start})}},{key:"handleUserNameLengthErrorAction",value:function handleUserNameLengthErrorAction(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{hasUserNameLengthError:t.hasError})}},{key:"handleCharacterErrorAction",value:function handleCharacterErrorAction(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{hasCharacterError:t.start})}},{key:"handleCompanyErrorAction",value:function handleCompanyErrorAction(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{hasCompanyError:t.start})}},{key:"handleValidationErrorCodeAction",value:function handleValidationErrorCodeAction(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{validationErrorCode:t.error,hasValidationErrors:t.hasError})}},{key:"handleLoadedTwoFactorAuthStatusAction",value:function handleLoadedTwoFactorAuthStatusAction(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{twoFactorAuthStatus:t.optin})}},{key:"handleUserNameUbisoftErrorAction",value:function handleUserNameUbisoftErrorAction(e,t){return UserNameStore_objectSpread(UserNameStore_objectSpread({},e),{hasUserNameUbisoftError:t.hasError})}}]),UserNameStore}(L),UserNameStore_defineProperty(qo,"getState",(function(e){return e.UserNameStore})),UserNameStore_defineProperty(qo,"getHasError",(function(e){return e.UserNameStore.hasError})),UserNameStore_defineProperty(qo,"getHasValidationErrors",(function(e){return e.UserNameStore.hasValidationErrors})),UserNameStore_defineProperty(qo,"getValidationErrorCode",(function(e){return e.UserNameStore.validationErrorCode})),UserNameStore_defineProperty(qo,"getValidationErrorLocalizedMessage",(function(e){return e.UserNameStore.validationErrorLocalizedMessage})),UserNameStore_defineProperty(qo,"getShowChangeUserName",(function(e){return e.UserNameStore.showChangeUserName})),UserNameStore_defineProperty(qo,"getIsCallingValidation",(function(e){return e.UserNameStore.isCallingValidation})),UserNameStore_defineProperty(qo,"getShowRules",(function(e){return e.UserNameStore.showRules})),UserNameStore_defineProperty(qo,"getErrorType",(function(e){return e.UserNameStore.errorType})),UserNameStore_defineProperty(qo,"getHasUserNameErrorTimeLimit",(function(e){return e.UserNameStore.hasUserNameErrorTimeLimit})),UserNameStore_defineProperty(qo,"getHasUserNameErrorGeneral",(function(e){return e.UserNameStore.hasUserNameErrorGeneral})),UserNameStore_defineProperty(qo,"getHasUserNameErrorAvailable",(function(e){return e.UserNameStore.hasUserNameErrorAvailable})),UserNameStore_defineProperty(qo,"getHasUserNameErrorRequired",(function(e){return e.UserNameStore.hasUserNameErrorRequired})),UserNameStore_defineProperty(qo,"getHasUserNameErrorRestricted",(function(e){return e.UserNameStore.hasUserNameErrorRestricted})),UserNameStore_defineProperty(qo,"getHasUserNameErrorLocalized",(function(e){return e.UserNameStore.hasUserNameErrorLocalized})),UserNameStore_defineProperty(qo,"getHasStartError",(function(e){return e.UserNameStore.hasStartError})),UserNameStore_defineProperty(qo,"getHasUserNameLengthError",(function(e){return e.UserNameStore.hasUserNameLengthError})),UserNameStore_defineProperty(qo,"getHasCharacterError",(function(e){return e.UserNameStore.hasCharacterError})),UserNameStore_defineProperty(qo,"getHasCompanyError",(function(e){return e.UserNameStore.hasCompanyError})),UserNameStore_defineProperty(qo,"getHasUserNameUbisoftError",(function(e){return e.UserNameStore.hasUserNameUbisoftError})),UserNameStore_defineProperty(qo,"getIsValidating",(function(e){return e.UserNameStore.isValidating})),UserNameStore_defineProperty(qo,"getTwoFactorAuthStatus",(function(e){return e.UserNameStore.twoFactorAuthStatus})),UserNameStore_defineProperty(qo,"getUserName",(function(e){return e.UserNameStore.userName})),Ho=qo))||Ho;function RecentlyMetStore_typeof(e){return RecentlyMetStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RecentlyMetStore_typeof(e)}function RecentlyMetStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function RecentlyMetStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RecentlyMetStore_ownKeys(Object(r),!0).forEach((function(t){RecentlyMetStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RecentlyMetStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function RecentlyMetStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RecentlyMetStore_setPrototypeOf(e,t){return RecentlyMetStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},RecentlyMetStore_setPrototypeOf(e,t)}function RecentlyMetStore_createSuper(e){var t=function RecentlyMetStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=RecentlyMetStore_getPrototypeOf(e);if(t){var o=RecentlyMetStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return RecentlyMetStore_possibleConstructorReturn(this,r)}}function RecentlyMetStore_possibleConstructorReturn(e,t){if(t&&("object"===RecentlyMetStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function RecentlyMetStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function RecentlyMetStore_getPrototypeOf(e){return RecentlyMetStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},RecentlyMetStore_getPrototypeOf(e)}function RecentlyMetStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ko,$o,Jo=injectableForJs([])((Yo=function(e){!function RecentlyMetStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RecentlyMetStore_setPrototypeOf(e,t)}(RecentlyMetStore,e);var t=RecentlyMetStore_createSuper(RecentlyMetStore);function RecentlyMetStore(){var e;return function RecentlyMetStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RecentlyMetStore),(e=t.call(this)).bind(null,(),e.bind(fr.name,e.handleLoadedRecentlyMetAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e}return function RecentlyMetStore_createClass(e,t,r){return t&&RecentlyMetStore_defineProperties(e.prototype,t),r&&RecentlyMetStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(RecentlyMetStore,[{key:"handleLoggedOutAction",value:,{key:"handleLoadedRecentlyMetAction",value:function handleLoadedRecentlyMetAction(e,t){return RecentlyMetStore_objectSpread(RecentlyMetStore_objectSpread({},e),{},{entities:e.entities.filter(().concat(t.entities),expiration:RecentlyMetStore_objectSpread(RecentlyMetStore_objectSpread({},e.expiration),t.expiration)})}}]),RecentlyMetStore}(L),RecentlyMetStore_defineProperty(Yo,"getState",(function(e){return e.RecentlyMetStore})),RecentlyMetStore_defineProperty(Yo,"getEntities",(function(e){return e.RecentlyMetStore.entities})),RecentlyMetStore_defineProperty(Yo,"getExpiration",(function(e){return e.RecentlyMetStore.expiration})),RecentlyMetStore_defineProperty(Yo,"loaded",(function(e){return e.LoadersStore.RecentlyMet})),Qo=Yo))||Qo;function AvatarStore_typeof(e){return AvatarStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AvatarStore_typeof(e)}function AvatarStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function AvatarStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AvatarStore_ownKeys(Object(r),!0).forEach((function(t){AvatarStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AvatarStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function AvatarStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AvatarStore_setPrototypeOf(e,t){return AvatarStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},AvatarStore_setPrototypeOf(e,t)}function AvatarStore_createSuper(e){var t=function AvatarStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=AvatarStore_getPrototypeOf(e);if(t){var o=AvatarStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return AvatarStore_possibleConstructorReturn(this,r)}}function AvatarStore_possibleConstructorReturn(e,t){if(t&&("object"===AvatarStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function AvatarStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function AvatarStore_getPrototypeOf(e){return AvatarStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},AvatarStore_getPrototypeOf(e)}function AvatarStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zo=injectableForJs([])(($o=function(e){!function AvatarStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AvatarStore_setPrototypeOf(e,t)}(AvatarStore,e);var t=AvatarStore_createSuper(AvatarStore);function AvatarStore(){var e;return function AvatarStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AvatarStore),(e=t.call(this)).bind(null,(),e.bind(cr.name,e.handleLoadedAvatarAction),e.bind(dr.name,e.handleLoadedGalleryAvatarsAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e}return function AvatarStore_createClass(e,t,r){return t&&AvatarStore_defineProperties(e.prototype,t),r&&AvatarStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(AvatarStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{byId:null,detailsById:null,imagesById:null,byInstallmentSpaceId:null,configsByCountryCode:null,expirations:{avatar:null,galleries:null}}}},{key:"handleLoadedAvatarAction",value:function handleLoadedAvatarAction(e,t){return t.detailsById||t.imagesById?t.detailsById&&!t.imagesById?AvatarStore_objectSpread(AvatarStore_objectSpread(AvatarStore_objectSpread({},e),{byId:AvatarStore_objectSpread(AvatarStore_objectSpread({},e.byId),t.byId)}),{detailsById:AvatarStore_objectSpread(AvatarStore_objectSpread({},e.detailsById),t.detailsById)}):!t.detailsById&&t.imagesById?AvatarStore_objectSpread(AvatarStore_objectSpread(AvatarStore_objectSpread({},e),{byId:AvatarStore_objectSpread(AvatarStore_objectSpread({},e.byId),t.byId)}),{imagesById:AvatarStore_objectSpread(AvatarStore_objectSpread({},e.imagesById),t.imagesById)}):AvatarStore_objectSpread(AvatarStore_objectSpread(AvatarStore_objectSpread(AvatarStore_objectSpread(AvatarStore_objectSpread({},e),{byId:AvatarStore_objectSpread(AvatarStore_objectSpread({},e.byId),t.byId)}),{detailsById:AvatarStore_objectSpread(AvatarStore_objectSpread({},e.detailsById),t.detailsById)}),{imagesById:AvatarStore_objectSpread(AvatarStore_objectSpread({},e.imagesById),t.imagesById)}),{expirations:AvatarStore_objectSpread(AvatarStore_objectSpread({},e.expirations),{avatar:t.expiration})}):AvatarStore_objectSpread(AvatarStore_objectSpread({},e),{byId:AvatarStore_objectSpread(AvatarStore_objectSpread({},e.byId),t.byId)})}},{key:"handleLoadedGalleryAvatarsAction",value:function handleLoadedGalleryAvatarsAction(e,t){return AvatarStore_objectSpread(AvatarStore_objectSpread({},e),AvatarStore_objectSpread({byInstallmentSpaceId:AvatarStore_objectSpread(AvatarStore_objectSpread({},e.byInstallmentSpaceId),t.byInstallmentSpaceId),configsByCountryCode:AvatarStore_objectSpread(AvatarStore_objectSpread({},e.configsByCountryCode),t.configsByCountryCode)},{expirations:AvatarStore_objectSpread(AvatarStore_objectSpread({},e.expirations),{galleries:t.expirations.galleries})}))}}]),AvatarStore}(L),AvatarStore_defineProperty($o,"getState",(function(e){return e.AvatarStore})),AvatarStore_defineProperty($o,"getById",(function(e){return e.AvatarStore.byId})),AvatarStore_defineProperty($o,"getDetailsById",(function(e){return e.AvatarStore.detailsById})),AvatarStore_defineProperty($o,"getImagesById",(function(e){return e.AvatarStore.imagesById})),AvatarStore_defineProperty($o,"getByInstallmentSpaceId",(function(e){return e.AvatarStore.byInstallmentSpaceId})),AvatarStore_defineProperty($o,"getConfigsByCountryCode",(function(e){return e.AvatarStore.configsByCountryCode})),AvatarStore_defineProperty($o,"getExpirations",(function(e){return e.AvatarStore.expirations})),AvatarStore_defineProperty($o,"getLoaded",(function(e){return e.LoadersStore.Avatars})),AvatarStore_defineProperty($o,"getLoadedGalleryAvatars",(function(e){return e.LoadersStore.GalleryAvatars})),Ko=$o))||Ko;function ChangeCarouselLPGAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeCarouselLPGAction_createClass(e,t,r){return t&&ChangeCarouselLPGAction_defineProperties(e.prototype,t),r&&ChangeCarouselLPGAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ei=ChangeCarouselLPGAction_createClass((function ChangeCarouselLPGAction(e,t,r,n,o){!function ChangeCarouselLPGAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeCarouselLPGAction),this.currentLastPlayedGameOffset=e,this.currentLastPlayedGameId=t,this.currentLastPlayedGameSpaceId=r,this.currentLastPlayedGameAppId=n,this.currentLastPlayedGamePlatformCode=o}));function ToggleShowGameContentAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleShowGameContentAction_createClass(e,t,r){return t&&ToggleShowGameContentAction_defineProperties(e.prototype,t),r&&ToggleShowGameContentAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ti,ri,ni=ToggleShowGameContentAction_createClass((function ToggleShowGameContentAction(e){!function ToggleShowGameContentAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleShowGameContentAction),this.show=e}));function OtherGamesCarouselStore_typeof(e){return OtherGamesCarouselStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OtherGamesCarouselStore_typeof(e)}function OtherGamesCarouselStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function OtherGamesCarouselStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OtherGamesCarouselStore_ownKeys(Object(r),!0).forEach((function(t){OtherGamesCarouselStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OtherGamesCarouselStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function OtherGamesCarouselStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OtherGamesCarouselStore_setPrototypeOf(e,t){return OtherGamesCarouselStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},OtherGamesCarouselStore_setPrototypeOf(e,t)}function OtherGamesCarouselStore_createSuper(e){var t=function OtherGamesCarouselStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=OtherGamesCarouselStore_getPrototypeOf(e);if(t){var o=OtherGamesCarouselStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return OtherGamesCarouselStore_possibleConstructorReturn(this,r)}}function OtherGamesCarouselStore_possibleConstructorReturn(e,t){if(t&&("object"===OtherGamesCarouselStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function OtherGamesCarouselStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function OtherGamesCarouselStore_getPrototypeOf(e){return OtherGamesCarouselStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},OtherGamesCarouselStore_getPrototypeOf(e)}function OtherGamesCarouselStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oi=injectableForJs([])((ri=function(e){!function OtherGamesCarouselStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OtherGamesCarouselStore_setPrototypeOf(e,t)}(OtherGamesCarouselStore,e);var t=OtherGamesCarouselStore_createSuper(OtherGamesCarouselStore);function OtherGamesCarouselStore(){var e;return function OtherGamesCarouselStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OtherGamesCarouselStore),(e=t.call(this)).bind(null,(),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(ei.name,e.handleChangeCarouselLPGAction),e.bind(ni.name,e.handleToggleShowGameContentAction),e}return function OtherGamesCarouselStore_createClass(e,t,r){return t&&OtherGamesCarouselStore_defineProperties(e.prototype,t),r&&OtherGamesCarouselStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(OtherGamesCarouselStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{currentLastPlayedGameOffset:0,currentLastPlayedGameId:null,currentLastPlayedGameSpaceId:null,currentLastPlayedGameAppId:null,currentLastPlayedGamePlatformCode:null,showGameContent:!1}}},{key:"handleChangeCarouselLPGAction",value:function handleChangeCarouselLPGAction(e,t){return OtherGamesCarouselStore_objectSpread(OtherGamesCarouselStore_objectSpread({},e),{currentLastPlayedGameOffset:t.currentLastPlayedGameOffset,currentLastPlayedGameId:t.currentLastPlayedGameId,currentLastPlayedGameSpaceId:t.currentLastPlayedGameSpaceId,currentLastPlayedGameAppId:t.currentLastPlayedGameAppId,currentLastPlayedGamePlatformCode:t.currentLastPlayedGamePlatformCode})}},{key:"handleToggleShowGameContentAction",value:function handleToggleShowGameContentAction(e,t){return OtherGamesCarouselStore_objectSpread(OtherGamesCarouselStore_objectSpread({},e),{showGameContent:t.show})}}]),OtherGamesCarouselStore}(L),OtherGamesCarouselStore_defineProperty(ri,"getState",(function(e){return e.OtherGamesCarouselStore})),OtherGamesCarouselStore_defineProperty(ri,"getCurrentLastPlayedGameOffset",(function(e){return e.OtherGamesCarouselStore.currentLastPlayedGameOffset})),OtherGamesCarouselStore_defineProperty(ri,"getCurrentLastPlayedGameId",(function(e){return e.OtherGamesCarouselStore.currentLastPlayedGameId})),OtherGamesCarouselStore_defineProperty(ri,"getCurrentLastPlayedGameSpaceId",(function(e){return e.OtherGamesCarouselStore.currentLastPlayedGameSpaceId})),OtherGamesCarouselStore_defineProperty(ri,"getCurrentLastPlayedGameAppId",(function(e){return e.OtherGamesCarouselStore.currentLastPlayedGameAppId})),OtherGamesCarouselStore_defineProperty(ri,"getCurrentLastPlayedGamePlatformCode",(function(e){return e.OtherGamesCarouselStore.currentLastPlayedGamePlatformCode})),OtherGamesCarouselStore_defineProperty(ri,"getShowGameContent",(function(e){return e.OtherGamesCarouselStore.showGameContent})),ti=ri))||ti;function ChangeFriendStatsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeFriendStatsAction_createClass(e,t,r){return t&&ChangeFriendStatsAction_defineProperties(e.prototype,t),r&&ChangeFriendStatsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ii=ChangeFriendStatsAction_createClass((function ChangeFriendStatsAction(e,t){!function ChangeFriendStatsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeFriendStatsAction),this.selectedFriendId=e,this.selectedFriendName=t}));function ToggleShowGameStatsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleShowGameStatsAction_createClass(e,t,r){return t&&ToggleShowGameStatsAction_defineProperties(e.prototype,t),r&&ToggleShowGameStatsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ai=ToggleShowGameStatsAction_createClass((function ToggleShowGameStatsAction(e){!function ToggleShowGameStatsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleShowGameStatsAction),this.show=e}));function ToggleShowFriendsSelectorTooltipWarningAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleShowFriendsSelectorTooltipWarningAction_createClass(e,t,r){return t&&ToggleShowFriendsSelectorTooltipWarningAction_defineProperties(e.prototype,t),r&&ToggleShowFriendsSelectorTooltipWarningAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var si=ToggleShowFriendsSelectorTooltipWarningAction_createClass((function ToggleShowFriendsSelectorTooltipWarningAction(e){!function ToggleShowFriendsSelectorTooltipWarningAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleShowFriendsSelectorTooltipWarningAction),this.toggle=e}));function ChangeFriendStatsInputValueAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeFriendStatsInputValueAction_createClass(e,t,r){return t&&ChangeFriendStatsInputValueAction_defineProperties(e.prototype,t),r&&ChangeFriendStatsInputValueAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ci,li,ui=ChangeFriendStatsInputValueAction_createClass((function ChangeFriendStatsInputValueAction(e){!function ChangeFriendStatsInputValueAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeFriendStatsInputValueAction),this.input=e}));function StatsComparisonStore_typeof(e){return StatsComparisonStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},StatsComparisonStore_typeof(e)}function StatsComparisonStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function StatsComparisonStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?StatsComparisonStore_ownKeys(Object(r),!0).forEach((function(t){StatsComparisonStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):StatsComparisonStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function StatsComparisonStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function StatsComparisonStore_setPrototypeOf(e,t){return StatsComparisonStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},StatsComparisonStore_setPrototypeOf(e,t)}function StatsComparisonStore_createSuper(e){var t=function StatsComparisonStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=StatsComparisonStore_getPrototypeOf(e);if(t){var o=StatsComparisonStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return StatsComparisonStore_possibleConstructorReturn(this,r)}}function StatsComparisonStore_possibleConstructorReturn(e,t){if(t&&("object"===StatsComparisonStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function StatsComparisonStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function StatsComparisonStore_getPrototypeOf(e){return StatsComparisonStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},StatsComparisonStore_getPrototypeOf(e)}function StatsComparisonStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fi,di,pi=injectableForJs([])((li=function(e){!function StatsComparisonStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&StatsComparisonStore_setPrototypeOf(e,t)}(StatsComparisonStore,e);var t=StatsComparisonStore_createSuper(StatsComparisonStore);function StatsComparisonStore(){var e;return function StatsComparisonStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StatsComparisonStore),(e=t.call(this)).bind(null,(),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(ii.name,e.handleChangeFriendStatsAction),e.bind(ai.name,e.handleToggleShowGameStatsAction),e.bind(si.name,e.handleToggleShowFriendsSelectorTooltipWarningAction),e.bind(ui.name,e.handleChangeFriendStatsInputValueAction),e}return function StatsComparisonStore_createClass(e,t,r){return t&&StatsComparisonStore_defineProperties(e.prototype,t),r&&StatsComparisonStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(StatsComparisonStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{selectedFriendId:null,selectedFriendName:null,isShownGameStats:!1,showFriendSelectorTooltip:!0,writtenFriendName:null}}},{key:"handleChangeFriendStatsAction",value:function handleChangeFriendStatsAction(e,t){return StatsComparisonStore_objectSpread(StatsComparisonStore_objectSpread({},e),{selectedFriendId:t.selectedFriendId,selectedFriendName:t.selectedFriendName})}},{key:"handleToggleShowGameStatsAction",value:function handleToggleShowGameStatsAction(e,t){return StatsComparisonStore_objectSpread(StatsComparisonStore_objectSpread({},e),{isShownGameStats:t.show})}},{key:"handleToggleShowFriendsSelectorTooltipWarningAction",value:function handleToggleShowFriendsSelectorTooltipWarningAction(e,t){return StatsComparisonStore_objectSpread(StatsComparisonStore_objectSpread({},e),{showFriendSelectorTooltip:t.toggle})}},{key:"handleChangeFriendStatsInputValueAction",value:function handleChangeFriendStatsInputValueAction(e,t){return StatsComparisonStore_objectSpread(StatsComparisonStore_objectSpread({},e),{writtenFriendName:t.input})}}]),StatsComparisonStore}(L),StatsComparisonStore_defineProperty(li,"getState",(function(e){return e.StatsComparisonStore})),StatsComparisonStore_defineProperty(li,"getSelectedFriendId",(function(e){return e.StatsComparisonStore.selectedFriendId})),StatsComparisonStore_defineProperty(li,"getSelectedFriendName",(function(e){return e.StatsComparisonStore.selectedFriendName})),StatsComparisonStore_defineProperty(li,"getIsShownGameStats",(function(e){return e.StatsComparisonStore.isShownGameStats})),StatsComparisonStore_defineProperty(li,"getShowFriendSelectorTooltip",(function(e){return e.StatsComparisonStore.showFriendSelectorTooltip})),StatsComparisonStore_defineProperty(li,"getWrittenFriendName",(function(e){return e.StatsComparisonStore.writtenFriendName})),ci=li))||ci;function PopulationsStore_typeof(e){return PopulationsStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PopulationsStore_typeof(e)}nction PopulationsStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PopulationsStore_setPrototypeOf(e,t){return PopulationsStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},PopulationsStore_setPrototypeOf(e,t)}function PopulationsStore_createSuper(e){var t=function PopulationsStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=PopulationsStore_getPrototypeOf(e);if(t){var o=PopulationsStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return PopulationsStore_possibleConstructorReturn(this,r)}}function PopulationsStore_possibleConstructorReturn(e,t){if(t&&("object"===PopulationsStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function PopulationsStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function PopulationsStore_getPrototypeOf(e){return PopulationsStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},PopulationsStore_getPrototypeOf(e)}function PopulationsStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hi=injectableForJs([])((di=function(e){!function PopulationsStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PopulationsStore_setPrototypeOf(e,t)}(PopulationsStore,e);var t=PopulationsStore_createSuper(PopulationsStore);function PopulationsStore(){var e;return function PopulationsStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PopulationsStore),(e=t.call(this)).bind(null,(function(){return{populations:[],byUniqueName:{},byType:{},byBetaName:{},byPhaseName:{},byPlatformCode:{},bySpaceId:{},expiration:0}})),e.bind(hr.name,e.handleLoadedPopulationsAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e}return function PopulationsStore_createClass(e,t,r){return t&&PopulationsStore_defineProperties(e.prototype,t),r&&PopulationsStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(PopulationsStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{populations:[],byUniqueName:{},byType:{},byBetaName:{},byPhaseName:{},byPlatformCode:{},bySpaceId:{},expiration:0}}},{key:"handleLoadedPopulationsAction",value:function handleLoadedPopulationsAction(e,t){return PopulationsStore_objectSpread(PopulationsStore_objectSpread({},e),{populations:e.populations.concat(t.populations),byUniqueName:PopulationsStore_objectSpread(PopulationsStore_objectSpread({},e.byUniqueName),t.byUniqueName),byType:PopulationsStore_objectSpread(PopulationsStore_objectSpread({},e.byType),t.byType),byBetaName:PopulationsStore_objectSpread(PopulationsStore_objectSpread({},e.byBetaName),t.byBetaName),byPhaseName:PopulationsStore_objectSpread(PopulationsStore_objectSpread({},e.byPhaseName),t.byPhaseName),byPlatformCode:PopulationsStore_objectSpread(PopulationsStore_objectSpread({},e.byPlatformCode),t.byPlatformCode),bySpaceId:PopulationsStore_objectSpread(PopulationsStore_objectSpread({},e.bySpaceId),t.bySpaceId),expiration:null!==t.expiration?t.expiration:e.expiration})}}]),PopulationsStore}(L),PopulationsStore_defineProperty(di,"getState",(),PopulationsStore_defineProperty(di,"getPopulations",(function(e){return e.PopulationsStore.populations})),PopulationsStore_defineProperty(di,"getByUniqueName",(function(e){return e.PopulationsStore.byUniqueName})),PopulationsStore_defineProperty(di,"getByType",(function(e){return e.PopulationsStore.byType})),PopulationsStore_defineProperty(di,"getByBetaName",(function(e){return e.PopulationsStore.byBetaName})),PopulationsStore_defineProperty(di,"getByPhaseName",(function(e){return e.PopulationsStore.byPhaseName})),PopulationsStore_defineProperty(di,"getByPlatformCode",(function(e){return e.PopulationsStore.byPlatformCode})),PopulationsStore_defineProperty(di,"getBySpaceId",(function(e){return e.PopulationsStore.bySpaceId})),PopulationsStore_defineProperty(di,"getExpiration",(function(e){return e.PopulationsStore.expiration})),PopulationsStore_defineProperty(di,"loaded",(),fi=di))||fi;r yi=ChangeFriendGamesCarouselLPGAction_createClass((function ChangeFriendGamesCarouselLPGAction(e,t,r,n,o){!this,ChangeFriendGamesCarouselLPGAction),this.currentLastPlayedGameOffset=e,this.currentLastPlayedGameId=t,this.currentLastPlayedGameSpaceId=r,this.currentLastPlayedGameAppId=n,this.currentLastPlayedGamePlatformCode=o}));function ToggleShowFriendProfileContentAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleShowFriendProfileContentAction_createClass(e,t,r){return t&&ToggleShowFriendProfileContentAction_defineProperties(e.prototype,t),r&&ToggleShowFriendProfileContentAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var gi=ToggleShowFriendProfileContentAction_createClass((function ToggleShowFriendProfileContentAction(e,t,r){!function ToggleShowFriendProfileContentAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleShowFriendProfileContentAction),this.show=e,this.pid=t,this.name=r}));function ChangeFriendPlatformAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeFriendPlatformAction_createClass(e,t,r){return t&&ChangeFriendPlatformAction_defineProperties(e.prototype,t),r&&ChangeFriendPlatformAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var vi=ChangeFriendPlatformAction_createClass((function ChangeFriendPlatformAction(e,t,r){!function ChangeFriendPlatformAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeFriendPlatformAction),this.gameId=e,this.spaceId=t,this.appId=r}));function ToggleShowFrindProfileStatsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleShowFrindProfileStatsAction_createClass(e,t,r){return t&&ToggleShowFrindProfileStatsAction_defineProperties(e.prototype,t),r&&ToggleShowFrindProfileStatsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var mi=ToggleShowFrindProfileStatsAction_createClass((function ToggleShowFrindProfileStatsAction(e){!function ToggleShowFrindProfileStatsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleShowFrindProfileStatsAction),this.show=e}));function ChangeFriendToDeleteIdAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeFriendToDeleteIdAction_createClass(e,t,r){return t&&ChangeFriendToDeleteIdAction_defineProperties(e.prototype,t),r&&ChangeFriendToDeleteIdAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ChangeFriendToDeleteIdAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var bi,Si,wi=ChangeFriendToDeleteIdAction_createClass(();function FriendProfileStore_typeof(e){return FriendProfileStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FriendProfileStore_typeof(e)}function FriendProfileStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function FriendProfileStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FriendProfileStore_ownKeys(Object(r),!0).forEach((function(t){FriendProfileStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FriendProfileStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function FriendProfileStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FriendProfileStore_setPrototypeOf(e,t){return FriendProfileStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},FriendProfileStore_setPrototypeOf(e,t)}function FriendProfileStore_createSuper(e){var t=function FriendProfileStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=FriendProfileStore_getPrototypeOf(e);if(t){var o=FriendProfileStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return FriendProfileStore_possibleConstructorReturn(this,r)}}function FriendProfileStore_possibleConstructorReturn(e,t){if(t&&("object"===FriendProfileStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function FriendProfileStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function FriendProfileStore_getPrototypeOf(e){return FriendProfileStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},FriendProfileStore_getPrototypeOf(e)}function FriendProfileStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pi,_i,Ci=injectableForJs([])((Si=function(e){!function FriendProfileStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FriendProfileStore_setPrototypeOf(e,t)}(FriendProfileStore,e);var t=FriendProfileStore_createSuper(FriendProfileStore);function FriendProfileStore(){var e;return function FriendProfileStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FriendProfileStore),(e=t.call(this)).bind(null,(function(){return{currentFriendId:null,currentFriendName:null,currentLastPlayedGameOffset:0,currentLastPlayedGameId:null,currentLastPlayedGameSpaceId:null,currentLastPlayedGameAppId:null,currentLastPlayedGamePlatformCode:null,showFriendProfileContent:!1,selectedSpaceAndAppByGameId:{},isShownGameStats:!1,currentFriendToDeleteId:null}})),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(yi.name,e.handleChangeFriendGamesCarouselLPGAction),e.bind(gi.name,e.handleToggleShowFriendProfileContentAction),e.bind(vi.name,e.handleChangedPlatfrom),e.bind(mi.name,e.handleToggleShowFrindProfileStatsAction),e.bind(wi.name,e.handleChangeFriendToDeleteIdAction),e}return function FriendProfileStore_createClass(e,t,r){return t&&FriendProfileStore_defineProperties(e.prototype,t),r&&FriendProfileStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(FriendProfileStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{currentFriendId:null,currentFriendName:null,currentLastPlayedGameOffset:0,currentLastPlayedGameId:null,currentLastPlayedGameSpaceId:null,currentLastPlayedGameAppId:null,currentLastPlayedGamePlatformCode:null,showFriendProfileContent:!1,selectedSpaceAndAppByGameId:{},isShownGameStats:!1,currentFriendToDeleteId:null}}},{key:"handleChangeFriendGamesCarouselLPGAction",value:function handleChangeFriendGamesCarouselLPGAction(e,t){return FriendProfileStore_objectSpread(FriendProfileStore_objectSpread({},e),{currentLastPlayedGameOffset:t.currentLastPlayedGameOffset,currentLastPlayedGameId:t.currentLastPlayedGameId,currentLastPlayedGameSpaceId:t.currentLastPlayedGameSpaceId,currentLastPlayedGameAppId:t.currentLastPlayedGameAppId,currentLastPlayedGamePlatformCode:t.currentLastPlayedGamePlatformCode})}},{key:"handleToggleShowFriendProfileContentAction",value:function handleToggleShowFriendProfileContentAction(e,t){return FriendProfileStore_objectSpread(FriendProfileStore_objectSpread({},e),{showFriendProfileContent:t.show,currentFriendId:t.pid,currentFriendName:t.name})}},{key:"handleChangedPlatfrom",value:function handleChangedPlatfrom(e,t){return FriendProfileStore_objectSpread(FriendProfileStore_objectSpread({},e),{selectedSpaceAndAppByGameId:FriendProfileStore_objectSpread(FriendProfileStore_objectSpread({},e.selectedSpaceAndAppByGameId),FriendProfileStore_defineProperty({},t.gameId,{spaceId:t.spaceId,appId:t.appId}))})}},{key:"handleToggleShowFrindProfileStatsAction",value:function handleToggleShowFrindProfileStatsAction(e,t){return FriendProfileStore_objectSpread(FriendProfileStore_objectSpread({},e),{isShownGameStats:t.show})}},{key:"handleChangeFriendToDeleteIdAction",value:function handleChangeFriendToDeleteIdAction(e,t){return FriendProfileStore_objectSpread(FriendProfileStore_objectSpread({},e),{currentFriendToDeleteId:t.currentFriendId})}}]),FriendProfileStore}(L),FriendProfileStore_defineProperty(Si,"getState",(function(e){return e.FriendProfileStore})),FriendProfileStore_defineProperty(Si,"getCurrentFriendId",(function(e){return e.FriendProfileStore.currentFriendId})),FriendProfileStore_defineProperty(Si,"getCurrentFriendName",(function(e){return e.FriendProfileStore.currentFriendName})),FriendProfileStore_defineProperty(Si,"getCurrentLastPlayedGameOffset",(function(e){return e.FriendProfileStore.currentLastPlayedGameOffset})),FriendProfileStore_defineProperty(Si,"getCurrentLastPlayedGameId",(function(e){return e.FriendProfileStore.currentLastPlayedGameId})),FriendProfileStore_defineProperty(Si,"getCurrentLastPlayedGameSpaceId",(function(e){return e.FriendProfileStore.currentLastPlayedGameSpaceId})),FriendProfileStore_defineProperty(Si,"getCurrentLastPlayedGameAppId",(function(e){return e.FriendProfileStore.currentLastPlayedGameAppId})),FriendProfileStore_defineProperty(Si,"getCurrentLastPlayedGamePlatformCode",(function(e){return e.FriendProfileStore.currentLastPlayedGamePlatformCode})),FriendProfileStore_defineProperty(Si,"getShowGameContent",(function(e){return e.FriendProfileStore.showFriendProfileContent})),FriendProfileStore_defineProperty(Si,"getSelectedSpaceAndAppByGameId",(function(e){return e.FriendProfileStore.selectedSpaceAndAppByGameId})),FriendProfileStore_defineProperty(Si,"getIsShownGameStats",(function(e){return e.FriendProfileStore.isShownGameStats})),FriendProfileStore_defineProperty(Si,"getCurrentFriendToDeleteId",(function(e){return e.FriendProfileStore.currentFriendToDeleteId})),bi=Si))||bi;function ProfileEntitiesStore_typeof(e){return ProfileEntitiesStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ProfileEntitiesStore_typeof(e)}function ProfileEntitiesStore_toConsumableArray(e){return function ProfileEntitiesStore_arrayWithoutHoles(e){if(Array.isArray(e))return ProfileEntitiesStore_arrayLikeToArray(e)}(e)||function ProfileEntitiesStore_iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function ProfileEntitiesStore_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return ProfileEntitiesStore_arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ProfileEntitiesStore_arrayLikeToArray(e,t)}(e)||function ProfileEntitiesStore_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ProfileEntitiesStore_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ProfileEntitiesStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ProfileEntitiesStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ProfileEntitiesStore_ownKeys(Object(r),!0).forEach((function(t){ProfileEntitiesStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ProfileEntitiesStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ProfileEntitiesStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ProfileEntitiesStore_setPrototypeOf(e,t){return ProfileEntitiesStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ProfileEntitiesStore_setPrototypeOf(e,t)}function ProfileEntitiesStore_createSuper(e){var t=function ProfileEntitiesStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ProfileEntitiesStore_getPrototypeOf(e);if(t){var o=ProfileEntitiesStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ProfileEntitiesStore_possibleConstructorReturn(this,r)}}function ProfileEntitiesStore_possibleConstructorReturn(e,t){if(t&&("object"===ProfileEntitiesStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ProfileEntitiesStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ProfileEntitiesStore_getPrototypeOf(e){return ProfileEntitiesStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ProfileEntitiesStore_getPrototypeOf(e)}function ProfileEntitiesStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Oi,Ai,ki=injectableForJs([])((_i=function(e){!function ProfileEntitiesStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ProfileEntitiesStore_setPrototypeOf(e,t)}(ProfileEntitiesStore,e);var t=ProfileEntitiesStore_createSuper(ProfileEntitiesStore);function ProfileEntitiesStore(){var e;return function ProfileEntitiesStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProfileEntitiesStore),(e=t.call(this)).bind(null,(),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(yr.name,e.handleLoadedProfileEntitiesAction),e}return function ProfileEntitiesStore_createClass(e,t,r){return t&&ProfileEntitiesStore_defineProperties(e.prototype,t),r&&ProfileEntitiesStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ProfileEntitiesStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{entities:[],byEntityId:{},bySpaceId:{}}}},{key:"handleLoadedProfileEntitiesAction",value:function handleLoadedProfileEntitiesAction(e,t){return ProfileEntitiesStore_objectSpread(ProfileEntitiesStore_objectSpread({},e),{entities:[].concat(ProfileEntitiesStore_toConsumableArray(e.entities),ProfileEntitiesStore_toConsumableArray(t.entities)),byEntityId:ProfileEntitiesStore_objectSpread(ProfileEntitiesStore_objectSpread({},e.byEntityId),t.byEntityId),bySpaceId:ProfileEntitiesStore_objectSpread(ProfileEntitiesStore_objectSpread({},e.bySpaceId),t.bySpaceId)})}}]),ProfileEntitiesStore}(L),ProfileEntitiesStore_defineProperty(_i,"getState",(function(e){return e.ProfileEntitiesStore})),ProfileEntitiesStore_defineProperty(_i,"getByEntityId",(function(e){return e.ProfileEntitiesStore.byEntityId})),ProfileEntitiesStore_defineProperty(_i,"getBySpaceId",(function(e){return e.ProfileEntitiesStore.bySpaceId})),ProfileEntitiesStore_defineProperty(_i,"loaded",(function(e){return e.LoadersStore.ProfileEntities})),Pi=_i))||Pi;function NewsStore_typeof(e){return NewsStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NewsStore_typeof(e)}function NewsStore_toConsumableArray(e){return function NewsStore_arrayWithoutHoles(e){if(Array.isArray(e))return NewsStore_arrayLikeToArray(e)}(e)||function NewsStore_iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function NewsStore_unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return NewsStore_arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NewsStore_arrayLikeToArray(e,t)}(e)||function NewsStore_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NewsStore_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NewsStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function NewsStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NewsStore_ownKeys(Object(r),!0).forEach((function(t){NewsStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NewsStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function NewsStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function NewsStore_setPrototypeOf(e,t){return NewsStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},NewsStore_setPrototypeOf(e,t)}function NewsStore_createSuper(e){var t=function NewsStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=NewsStore_getPrototypeOf(e);if(t){var o=NewsStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return NewsStore_possibleConstructorReturn(this,r)}}function NewsStore_possibleConstructorReturn(e,t){if(t&&("object"===NewsStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function NewsStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function NewsStore_getPrototypeOf(e){return NewsStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},NewsStore_getPrototypeOf(e)}function NewsStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xi=injectableForJs([])((Ai=function(e){!function NewsStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NewsStore_setPrototypeOf(e,t)}(NewsStore,e);var t=NewsStore_createSuper(NewsStore);function NewsStore(){var e;return function NewsStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NewsStore),(e=t.call(this)).bind(null,(function(){return{news:[],byId:{},bySpaceId:{},expiration:{}}})),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(gr.name,e.handleLoadedGamesNewsAction),e}return function NewsStore_createClass(e,t,r){return t&&NewsStore_defineProperties(e.prototype,t),r&&NewsStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(NewsStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{news:[],byId:{},bySpaceId:{},expiration:{}}}},{key:"handleLoadedGamesNewsAction",value:function handleLoadedGamesNewsAction(e,t){return NewsStore_objectSpread(NewsStore_objectSpread({},e),{news:[].concat(NewsStore_toConsumableArray(e.news),NewsStore_toConsumableArray(t.news)),byId:NewsStore_objectSpread(NewsStore_objectSpread({},e.byId),t.byId),bySpaceId:NewsStore_objectSpread(NewsStore_objectSpread({},e.bySpaceId),t.bySpaceId),expiration:NewsStore_objectSpread(NewsStore_objectSpread({},e.expiration),t.expiration)})}}]),NewsStore}(L),NewsStore_defineProperty(Ai,"getState",(function(e){return e.NewsStore})),NewsStore_defineProperty(Ai,"getById",(function(e){return e.NewsStore.byId})),NewsStore_defineProperty(Ai,"getBySpaceId",(function(e){return e.NewsStore.bySpaceId})),NewsStore_defineProperty(Ai,"getExpiration",(function(e){return e.NewsStore.expiration})),NewsStore_defineProperty(Ai,"loaded",(function(e){return e.LoadersStore.News})),Oi=Ai))||Oi;function LoadedIpLocationAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedIpLocationAction_createClass(e,t,r){return t&&LoadedIpLocationAction_defineProperties(e.prototype,t),r&&LoadedIpLocationAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ii=LoadedIpLocationAction_createClass((function LoadedIpLocationAction(e,t){!function LoadedIpLocationAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedIpLocationAction),this.byIp=e,this.byProfileId=t}));function ResetLocationByIp_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ResetLocationByIp_createClass(e,t,r){return t&&ResetLocationByIp_defineProperties(e.prototype,t),r&&ResetLocationByIp_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ji,Li,Ei=ResetLocationByIp_createClass((function ResetLocationByIp(){!function ResetLocationByIp_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ResetLocationByIp)}));function IpLocationStore_typeof(e){return IpLocationStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IpLocationStore_typeof(e)}function IpLocationStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function IpLocationStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IpLocationStore_ownKeys(Object(r),!0).forEach((function(t){IpLocationStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IpLocationStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function IpLocationStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IpLocationStore_setPrototypeOf(e,t){return IpLocationStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},IpLocationStore_setPrototypeOf(e,t)}function IpLocationStore_createSuper(e){var t=function IpLocationStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=IpLocationStore_getPrototypeOf(e);if(t){var o=IpLocationStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return IpLocationStore_possibleConstructorReturn(this,r)}}function IpLocationStore_possibleConstructorReturn(e,t){if(t&&("object"===IpLocationStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function IpLocationStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function IpLocationStore_getPrototypeOf(e){return IpLocationStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},IpLocationStore_getPrototypeOf(e)}function IpLocationStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fi=injectableForJs([])((Li=function(e){!function IpLocationStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IpLocationStore_setPrototypeOf(e,t)}(IpLocationStore,e);var t=IpLocationStore_createSuper(IpLocationStore);function IpLocationStore(){var e;return function IpLocationStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,IpLocationStore),(e=t.call(this)).bind(null,(function(){return{byIp:null,byProfileId:null}})),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(Ii.name,e.handleLoadedIpLocationAction),e.bind(Ei.name,e.handleResetLocationByIp),e}return function IpLocationStore_createClass(e,t,r){return t&&IpLocationStore_defineProperties(e.prototype,t),r&&IpLocationStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(IpLocationStore,[{key:"handleLoggedOutAction",value:,{key:"handleResetLocationByIp",value:function handleResetLocationByIp(){return{byIp:null,byProfileId:null}}},{key:"handleLoadedIpLocationAction",value:function handleLoadedIpLocationAction(e,t){return IpLocationStore_objectSpread(IpLocationStore_objectSpread({},e),{},{byIp:IpLocationStore_objectSpread(IpLocationStore_objectSpread({},e.byIp),t.byIp),byProfileId:IpLocationStore_objectSpread(IpLocationStore_objectSpread({},e.byProfileId),t.byProfileId)})}}]),IpLocationStore}(L),IpLocationStore_defineProperty(Li,"getState",(function(e){return e.IpLocationStore})),IpLocationStore_defineProperty(Li,"getByIp",(function(e){return e.IpLocationStore.byIp})),IpLocationStore_defineProperty(Li,"getByProfileId",(function(e){return e.IpLocationStore.byProfileId})),ji=Li))||ji;function LoadedMetaProgressionProfileAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadedMetaProgressionProfileAction_createClass(e,t,r){return t&&LoadedMetaProgressionProfileAction_defineProperties(e.prototype,t),r&&LoadedMetaProgressionProfileAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Gi=LoadedMetaProgressionProfileAction_createClass((function LoadedMetaProgressionProfileAction(e,t,r,n){!function LoadedMetaProgressionProfileAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadedMetaProgressionProfileAction),this.byId=e,this.hasProfileCallError=t,this.expiration=r,this.loaded=n}));function LoadingMetaProgressionProfileAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoadingMetaProgressionProfileAction_createClass(e,t,r){return t&&LoadingMetaProgressionProfileAction_defineProperties(e.prototype,t),r&&LoadingMetaProgressionProfileAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ti=LoadingMetaProgressionProfileAction_createClass((function LoadingMetaProgressionProfileAction(e){!function LoadingMetaProgressionProfileAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadingMetaProgressionProfileAction),this.loaded=e}));function DeleteLoadKeyMetaProgressionProfileAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DeleteLoadKeyMetaProgressionProfileAction_createClass(e,t,r){return t&&DeleteLoadKeyMetaProgressionProfileAction_defineProperties(e.prototype,t),r&&DeleteLoadKeyMetaProgressionProfileAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ri=DeleteLoadKeyMetaProgressionProfileAction_createClass((function DeleteLoadKeyMetaProgressionProfileAction(e){!function DeleteLoadKeyMetaProgressionProfileAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DeleteLoadKeyMetaProgressionProfileAction),this.key=e}));function UpdateExpirationMetaProgressionProfileAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UpdateExpirationMetaProgressionProfileAction_createClass(e,t,r){return t&&UpdateExpirationMetaProgressionProfileAction_defineProperties(e.prototype,t),r&&UpdateExpirationMetaProgressionProfileAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ni,Ui,Di=UpdateExpirationMetaProgressionProfileAction_createClass((function UpdateExpirationMetaProgressionProfileAction(e){!function UpdateExpirationMetaProgressionProfileAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UpdateExpirationMetaProgressionProfileAction),this.oldKey=e}));function MetaProgressionProfileStore_typeof(e){return MetaProgressionProfileStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MetaProgressionProfileStore_typeof(e)}function MetaProgressionProfileStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function MetaProgressionProfileStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MetaProgressionProfileStore_ownKeys(Object(r),!0).forEach((function(t){MetaProgressionProfileStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MetaProgressionProfileStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function MetaProgressionProfileStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MetaProgressionProfileStore_setPrototypeOf(e,t){return MetaProgressionProfileStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},MetaProgressionProfileStore_setPrototypeOf(e,t)}function MetaProgressionProfileStore_createSuper(e){var t=function MetaProgressionProfileStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=MetaProgressionProfileStore_getPrototypeOf(e);if(t){var o=MetaProgressionProfileStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return MetaProgressionProfileStore_possibleConstructorReturn(this,r)}}function MetaProgressionProfileStore_possibleConstructorReturn(e,t){if(t&&("object"===MetaProgressionProfileStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function MetaProgressionProfileStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function MetaProgressionProfileStore_getPrototypeOf(e){return MetaProgressionProfileStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},MetaProgressionProfileStore_getPrototypeOf(e)}function MetaProgressionProfileStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mi,Bi,Vi=injectableForJs([])((Ui=function(e){!function MetaProgressionProfileStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MetaProgressionProfileStore_setPrototypeOf(e,t)}(MetaProgressionProfileStore,e);var t=MetaProgressionProfileStore_createSuper(MetaProgressionProfileStore);function MetaProgressionProfileStore(){var e;return function MetaProgressionProfileStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MetaProgressionProfileStore),(e=t.call(this)).bind(null,(function(){return{byId:null,hasProfileCallError:null,expiration:{},loaded:{}}})),e.bind(Gi.name,e.handleLoadedPlayerProfileAction),e.bind(Ti.name,e.handleLoadingMetaProgressionProfileAction),e.bind(Ri.name,e.handleDeleteLoadKeyMetaProgressionProfileAction),e.bind(Di.name,e.handleUpdateExpirationMetaProgressionProfileAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e}return function MetaProgressionProfileStore_createClass(e,t,r){return t&&MetaProgressionProfileStore_defineProperties(e.prototype,t),r&&MetaProgressionProfileStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(MetaProgressionProfileStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{byId:null,hasProfileCallError:null,expiration:{},loaded:{}}}},{key:"handleLoadedPlayerProfileAction",value:function handleLoadedPlayerProfileAction(e,t){return MetaProgressionProfileStore_objectSpread(MetaProgressionProfileStore_objectSpread({},e),{},{byId:MetaProgressionProfileStore_objectSpread(MetaProgressionProfileStore_objectSpread({},e.byId),t.byId),hasProfileCallError:MetaProgressionProfileStore_objectSpread(MetaProgressionProfileStore_objectSpread({},e.hasProfileCallError),t.hasProfileCallError),expiration:MetaProgressionProfileStore_objectSpread(MetaProgressionProfileStore_objectSpread({},e.expiration),t.expiration),loaded:MetaProgressionProfileStore_objectSpread(MetaProgressionProfileStore_objectSpread({},e.loaded),t.loaded)})}},{key:"handleLoadingMetaProgressionProfileAction",value:function handleLoadingMetaProgressionProfileAction(e,t){return MetaProgressionProfileStore_objectSpread(MetaProgressionProfileStore_objectSpread({},e),{},{loaded:MetaProgressionProfileStore_objectSpread(MetaProgressionProfileStore_objectSpread({},e.loaded),t.loaded)})}},{key:"handleDeleteLoadKeyMetaProgressionProfileAction",value:function handleDeleteLoadKeyMetaProgressionProfileAction(e,t){return delete e.loaded[t.key],e}},{key:"handleUpdateExpirationMetaProgressionProfileAction",value:function handleUpdateExpirationMetaProgressionProfileAction(e,t){return MetaProgressionProfileStore_objectSpread(MetaProgressionProfileStore_objectSpread({},e),{},{expiration:MetaProgressionProfileStore_objectSpread(MetaProgressionProfileStore_objectSpread({},e.expiration),{},MetaProgressionProfileStore_defineProperty({},t.oldKey,0))})}}]),MetaProgressionProfileStore}(L),MetaProgressionProfileStore_defineProperty(Ui,"getState",(function(e){return e.MetaProgressionProfileStore})),MetaProgressionProfileStore_defineProperty(Ui,"getById",(function(e){return e.MetaProgressionProfileStore.byId})),MetaProgressionProfileStore_defineProperty(Ui,"getHasProfileCallError",(function(e){return e.MetaProgressionProfileStore.hasProfileCallError})),MetaProgressionProfileStore_defineProperty(Ui,"getExpiration",(function(e){return e.MetaProgressionProfileStore.expiration})),MetaProgressionProfileStore_defineProperty(Ui,"getLoaded",(function(e){return e.MetaProgressionProfileStore.loaded})),Ni=Ui))||Ni;function UserStore_typeof(e){return UserStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UserStore_typeof(e)}function UserStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function UserStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UserStore_ownKeys(Object(r),!0).forEach((function(t){UserStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UserStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function UserStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserStore_setPrototypeOf(e,t){return UserStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},UserStore_setPrototypeOf(e,t)}function UserStore_createSuper(e){var t=function UserStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=UserStore_getPrototypeOf(e);if(t){var o=UserStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return UserStore_possibleConstructorReturn(this,r)}}function UserStore_possibleConstructorReturn(e,t){if(t&&("object"===UserStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function UserStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function UserStore_getPrototypeOf(e){return UserStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},UserStore_getPrototypeOf(e)}function UserStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wi=injectableForJs([])((Bi=function(e){!function UserStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UserStore_setPrototypeOf(e,t)}(UserStore,e);var t=UserStore_createSuper(UserStore);function UserStore(){var e;return function UserStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserStore),(e=t.call(this)).bind(null,(function(){return{byId:{},expiration:{}}})),e.bind(br.name,e.handleLoadedUserAction),e.bind(On.name,e.handleUpdateScreenNameAction),e.bind(U.name,e.handleLoggedOutAction),e.bind(xr.name,e.handleLoggedOutAction),e}return function UserStore_createClass(e,t,r){return t&&UserStore_defineProperties(e.prototype,t),r&&UserStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(UserStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{byId:{},expiration:{}}}},{key:"handleLoadedUserAction",value:function handleLoadedUserAction(e,t){return UserStore_objectSpread(UserStore_objectSpread({},e),{},{byId:UserStore_objectSpread(UserStore_objectSpread({},e.byId),t.byId),expiration:UserStore_objectSpread(UserStore_objectSpread({},e.expiration),t.expiration)})}},{key:"handleUpdateScreenNameAction",value:function handleUpdateScreenNameAction(e,t){var r=UserStore_objectSpread(UserStore_objectSpread({},e.byId[t.userId]),{nameOnPlatform:t.userName});return UserStore_objectSpread(UserStore_objectSpread({},e),{byId:UserStore_objectSpread(UserStore_objectSpread({},e.byId),UserStore_defineProperty({},t.userId,r))})}}]),UserStore}(L),UserStore_defineProperty(Bi,"getState",(function(e){return e.UserStore})),UserStore_defineProperty(Bi,"getById",(function(e){return e.UserStore.byId})),UserStore_defineProperty(Bi,"getExpiration",(function(e){return e.UserStore.expiration})),UserStore_defineProperty(Bi,"loadedUser",(function(e){return e.LoadersStore.UserStore})),Mi=Bi))||Mi;function ToggleShowGameRewardsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleShowGameRewardsAction_createClass(e,t,r){return t&&ToggleShowGameRewardsAction_defineProperties(e.prototype,t),r&&ToggleShowGameRewardsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Hi=ToggleShowGameRewardsAction_createClass((function ToggleShowGameRewardsAction(e){!function ToggleShowGameRewardsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleShowGameRewardsAction),this.show=e}));function ChangeSelectedRewardAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeSelectedRewardAction_createClass(e,t,r){return t&&ChangeSelectedRewardAction_defineProperties(e.prototype,t),r&&ChangeSelectedRewardAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var qi=ChangeSelectedRewardAction_createClass((function ChangeSelectedRewardAction(e,t,r){!function ChangeSelectedRewardAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeSelectedRewardAction),this.rewardId=e,this.spaceId=t,this.offset=r}));function ToggleShowSingleRewardAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleShowSingleRewardAction_createClass(e,t,r){return t&&ToggleShowSingleRewardAction_defineProperties(e.prototype,t),r&&ToggleShowSingleRewardAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var zi=ToggleShowSingleRewardAction_createClass((function ToggleShowSingleRewardAction(e){!function ToggleShowSingleRewardAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleShowSingleRewardAction),this.show=e}));function PurchaseRewardAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PurchaseRewardAction_createClass(e,t,r){return t&&PurchaseRewardAction_defineProperties(e.prototype,t),r&&PurchaseRewardAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Qi,Yi,Xi=PurchaseRewardAction_createClass((function PurchaseRewardAction(e,t,r,n){!function PurchaseRewardAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PurchaseRewardAction),this.rewardId=e,this.showApiLoader=t,this.showMessageAfterPurchase=r,this.hasApiError=n}));function RewardsViewStore_typeof(e){return RewardsViewStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RewardsViewStore_typeof(e)}function RewardsViewStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function RewardsViewStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RewardsViewStore_ownKeys(Object(r),!0).forEach((function(t){RewardsViewStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RewardsViewStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function RewardsViewStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RewardsViewStore_setPrototypeOf(e,t){return RewardsViewStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},RewardsViewStore_setPrototypeOf(e,t)}function RewardsViewStore_createSuper(e){var t=function RewardsViewStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=RewardsViewStore_getPrototypeOf(e);if(t){var o=RewardsViewStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return RewardsViewStore_possibleConstructorReturn(this,r)}}function RewardsViewStore_possibleConstructorReturn(e,t){if(t&&("object"===RewardsViewStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function RewardsViewStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function RewardsViewStore_getPrototypeOf(e){return RewardsViewStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},RewardsViewStore_getPrototypeOf(e)}function RewardsViewStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ki,$i,Ji=injectableForJs([])((Yi=function(e){!function RewardsViewStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RewardsViewStore_setPrototypeOf(e,t)}(RewardsViewStore,e);var t=RewardsViewStore_createSuper(RewardsViewStore);function RewardsViewStore(){var e;return function RewardsViewStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RewardsViewStore),(e=t.call(this)).bind(null,(function(){return{isShownGameRewards:!1,rewardId:null,spaceId:null,offset:0,showSingleReward:!1,purchase:{}}})),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(Hi.name,e.handleToggleShowGameRewardsAction),e.bind(qi.name,e.handleChangeSelectedRewardAction),e.bind(zi.name,e.handleToggleShowSingleRewardAction),e.bind(Xi.name,e.handlePurchaseRewardAction),e}return function RewardsViewStore_createClass(e,t,r){return t&&RewardsViewStore_defineProperties(e.prototype,t),r&&RewardsViewStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(RewardsViewStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{isShownGameRewards:!1,rewardId:null,spaceId:null,offset:0,showSingleReward:!1,purchase:{}}}},{key:"handleToggleShowGameRewardsAction",value:function handleToggleShowGameRewardsAction(e,t){return RewardsViewStore_objectSpread(RewardsViewStore_objectSpread({},e),{isShownGameRewards:t.show})}},{key:"handleChangeSelectedRewardAction",value:function handleChangeSelectedRewardAction(e,t){return RewardsViewStore_objectSpread(RewardsViewStore_objectSpread({},e),{},{rewardId:t.rewardId,spaceId:t.spaceId,offset:t.offset})}},{key:"handleToggleShowSingleRewardAction",value:function handleToggleShowSingleRewardAction(e,t){return RewardsViewStore_objectSpread(RewardsViewStore_objectSpread({},e),{},{showSingleReward:t.show})}},{key:"handlePurchaseRewardAction",value:function handlePurchaseRewardAction(e,t){return RewardsViewStore_objectSpread(RewardsViewStore_objectSpread({},e),{},{purchase:RewardsViewStore_objectSpread(RewardsViewStore_objectSpread({},e.purchase),RewardsViewStore_defineProperty({},t.rewardId,{showApiLoader:t.showApiLoader,showMessageAfterPurchase:t.showMessageAfterPurchase,hasApiError:t.hasApiError}))})}}]),RewardsViewStore}(L),RewardsViewStore_defineProperty(Yi,"getState",(function(e){return e.RewardsViewStore})),RewardsViewStore_defineProperty(Yi,"getIsShownGameRewards",(function(e){return e.RewardsViewStore.isShownGameRewards})),RewardsViewStore_defineProperty(Yi,"getRewardId",(function(e){return e.RewardsViewStore.rewardId})),RewardsViewStore_defineProperty(Yi,"getSpaceId",(function(e){return e.RewardsViewStore.spaceId})),RewardsViewStore_defineProperty(Yi,"getOffset",(function(e){return e.RewardsViewStore.offset})),RewardsViewStore_defineProperty(Yi,"getShowSingleReward",(function(e){return e.RewardsViewStore.showSingleReward})),RewardsViewStore_defineProperty(Yi,"getPurchase",(function(e){return e.RewardsViewStore.purchase})),Qi=Yi))||Qi;function ApplicationsStore_typeof(e){return ApplicationsStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ApplicationsStore_typeof(e)}function ApplicationsStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ApplicationsStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ApplicationsStore_ownKeys(Object(r),!0).forEach((function(t){ApplicationsStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ApplicationsStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ApplicationsStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ApplicationsStore_setPrototypeOf(e,t){return ApplicationsStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ApplicationsStore_setPrototypeOf(e,t)}function ApplicationsStore_createSuper(e){var t=function ApplicationsStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ApplicationsStore_getPrototypeOf(e);if(t){var o=ApplicationsStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ApplicationsStore_possibleConstructorReturn(this,r)}}function ApplicationsStore_possibleConstructorReturn(e,t){if(t&&("object"===ApplicationsStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ApplicationsStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ApplicationsStore_getPrototypeOf(e){return ApplicationsStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ApplicationsStore_getPrototypeOf(e)}function ApplicationsStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zi=injectableForJs([])(($i=function(e){!function ApplicationsStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ApplicationsStore_setPrototypeOf(e,t)}(ApplicationsStore,e);var t=ApplicationsStore_createSuper(ApplicationsStore);function ApplicationsStore(){var e;return function ApplicationsStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ApplicationsStore),(e=t.call(this)).bind(null,(),e.bind(_r.name,e.handleLoadedApplicationsAction),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e}return function ApplicationsStore_createClass(e,t,r){return t&&ApplicationsStore_defineProperties(e.prototype,t),r&&ApplicationsStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ApplicationsStore,[{key:"handleLoggedOutAction",value:function handleLoggedOutAction(){return{bySpaceId:{},byAppId:{},expiration:{}}}},{key:"handleLoadedApplicationsAction",value:function handleLoadedApplicationsAction(e,t){return ApplicationsStore_objectSpread(ApplicationsStore_objectSpread({},e),{bySpaceId:ApplicationsStore_objectSpread(ApplicationsStore_objectSpread({},e.bySpaceId),t.bySpaceId),byAppId:ApplicationsStore_objectSpread(ApplicationsStore_objectSpread({},e.byAppId),t.byAppId),expiration:ApplicationsStore_objectSpread(ApplicationsStore_objectSpread({},e.expiration),t.expiration)})}}]),ApplicationsStore}(L),ApplicationsStore_defineProperty($i,"getState",(function(e){return e.ApplicationsStore})),ApplicationsStore_defineProperty($i,"getBySpaceId",(function(e){return e.ApplicationsStore.bySpaceId})),ApplicationsStore_defineProperty($i,"getByAppId",(function(e){return e.ApplicationsStore.byAppId})),ApplicationsStore_defineProperty($i,"getExpiration",(function(e){return e.ApplicationsStore.expiration})),ApplicationsStore_defineProperty($i,"loaded",(function(e){return e.LoadersStore.ApplicationsStore})),Ki=$i))||Ki;function PageLoaderAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PageLoaderAction_createClass(e,t,r){return t&&PageLoaderAction_defineProperties(e.prototype,t),r&&PageLoaderAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ea,ta,ra=PageLoaderAction_createClass((function PageLoaderAction(e,t){!function PageLoaderAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PageLoaderAction),this.show=e,this.display=t}));function PageLoaderStore_typeof(e){return PageLoaderStore_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PageLoaderStore_typeof(e)}function PageLoaderStore_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function PageLoaderStore_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PageLoaderStore_ownKeys(Object(r),!0).forEach((function(t){PageLoaderStore_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PageLoaderStore_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function PageLoaderStore_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PageLoaderStore_setPrototypeOf(e,t){return PageLoaderStore_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},PageLoaderStore_setPrototypeOf(e,t)}function PageLoaderStore_createSuper(e){var t=function PageLoaderStore_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=PageLoaderStore_getPrototypeOf(e);if(t){var o=PageLoaderStore_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return PageLoaderStore_possibleConstructorReturn(this,r)}}function PageLoaderStore_possibleConstructorReturn(e,t){if(t&&("object"===PageLoaderStore_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function PageLoaderStore_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function PageLoaderStore_getPrototypeOf(e){return PageLoaderStore_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},PageLoaderStore_getPrototypeOf(e)}function PageLoaderStore_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var na=injectableForJs([])((ta=function(e){!function PageLoaderStore_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PageLoaderStore_setPrototypeOf(e,t)}(PageLoaderStore,e);var t=PageLoaderStore_createSuper(PageLoaderStore);function PageLoaderStore(){var e;return function PageLoaderStore_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PageLoaderStore),(e=t.call(this)).bind(null,(),e.bind(U.name,e.handleLoggedOutAction),e.bind($.name,e.handleLoggedOutAction),e.bind(ra.name,e.handlePageLoaderAction),e}return function PageLoaderStore_createClass(e,t,r){return t&&PageLoaderStore_defineProperties(e.prototype,t),r&&PageLoaderStore_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(PageLoaderStore,[{key:"handleLoggedOutAction",value:,{key:"handlePageLoaderAction",value:function handlePageLoaderAction(e,t){return PageLoaderStore_objectSpread(PageLoaderStore_objectSpread({},e),{},{show:t.show,display:t.display})}}]),PageLoaderStore}(L),PageLoaderStore_defineProperty(ta,"getState",(function(e){return e.PageLoaderStore})),PageLoaderStore_defineProperty(ta,"getShowPageLoader",(function(e){return e.PageLoaderStore.show})),PageLoaderStore_defineProperty(ta,"getDisplayPageLoader",(function(e){return e.PageLoaderStore.display})),ea=ta))||ea;function StoreProvider_typeof(e){return StoreProvider_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},StoreProvider_typeof(e)}function StoreProvider_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function StoreProvider_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?StoreProvider_ownKeys(Object(r),!0).forEach((function(t){StoreProvider_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):StoreProvider_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function StoreProvider_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function StoreProvider_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var oa,ia=r(68812).p5,aa=r(68812).$A,sa=function(){function StoreProvider(){!function StoreProvider_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StoreProvider)}return function StoreProvider_createClass(e,t,r){return t&&StoreProvider_defineProperties(e.prototype,t),r&&StoreProvider_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(StoreProvider,[{key:"provides",value:function provides(){return C}},{key:"provide",value:function provide(e){var t=new C;e.bind(C,t),window.showDebugTable=I.mR;var r=(0,Dt.MT)((0,Dt.UY)(StoreProvider_objectSpread(StoreProvider_objectSpread({},function combineStores(e){return function storesCombiner(){for(var t={},r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return n.forEach((function(r){t[r.name]=function(t,n){var o=e.get(r),i=void 0;return i=void 0===t?"@STORE_INIT":n.type,Object.keys(o.bindings).includes(i)?o.bindings[i](t,n.payload?n.payload:n):void 0===t?{}:t}})),t}}(e)(E,Wt,ve,pe,An,kr,mn,vn,Gr,Tr,hn,Pn,Fn,N,Nn,Bn,Xn,io,fo,So,wo,Oo,Xo,Jo,J,Zo,oi,pi,hi,Ci,ki,xi,Fi,Wi,$t,Ji,Vi,Wi,Zi,Ut,na)),{},StoreProvider_defineProperty({},getMountPoint(),overlayReducer))),"object"===("undefined"==typeof window?"undefined":StoreProvider_typeof(window))&&void 0!==window._initialState?window._initialState:{},(0,Dt.qC)(aa(),"object"===("undefined"==typeof window?"undefined":StoreProvider_typeof(window))&&void 0!==window.devToolsExtension?window.devToolsExtension():function(e){return e}));return window.clearStores=ia(r,{whitelist:["EnvironmentStore","UserEmailVerificationStore","FriendsStore","ConnectionsStore","UserProfilesStore","AuthenticationStore","ConfigurationStore","UserStore","RewardsStore","UbisoftGamesStore","GamesPlayedStore","FriendsGamesPlayedStore","GamesStatsStore","MetaProgressionProfileStore","ApplicationsStore","AvatarStore","RecentlyMetStore","PsnAccountsStore","XboxAccountsStore","SpacesStore","NewsStore"]},(function(){if(t.bootRedux(r),t.getState().ConfigurationStore&&t.getState().ConfigurationStore.version&&"5.0.3"!==t.getState().ConfigurationStore.version)try{t.dispatch(new $),window.clearStores.purge()}catch(e){console.error(e)}return!0})),t.bootRedux(r),t}}]),StoreProvider}();function HttpRequest_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}!oa||(oa={}));var ca=function(){function HttpRequest(e){!function HttpRequest_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HttpRequest),this.path=e,this.timeoutValue=3e4,this.method=oa.GET,this.queryParams={},this.headerParams={},this.bodyParams=null}return function HttpRequest_createClass(e,t,r){return t&&HttpRequest_defineProperties(e.prototype,t),r&&HttpRequest_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(HttpRequest,[{key:"getPath",value:function getPath(){return this.path}},{key:"getMethod",value:function getMethod(){return this.method}},{key:"getTimeout",value:function getTimeout(){return this.timeoutValue}},{key:"getBodyParams",value:function getBodyParams(){return this.bodyParams}},{key:"getHeaderParams",value:function getHeaderParams(){return this.headerParams}},{key:"getQueryParams",value:function getQueryParams(){return this.queryParams}},{key:"url",value:function url(e){var t=Object.assign(Object.create(this),this);return t.path=e,t}},{key:"timeout",value:function timeout(e){var t=Object.assign(Object.create(this),this);return t.timeoutValue=e,t}},{key:"post",value:function post(){var e=Object.assign(Object.create(this),this);return e.method=oa.POST,e}},{key:"get",value:function get(){var e=Object.assign(Object.create(this),this);return e.method=oa.GET,e}},{key:"patch",value:function patch(){var e=Object.assign(Object.create(this),this);return e.method=oa.PATCH,e}},{key:"put",value:function put(){var e=Object.assign(Object.create(this),this);return e.method=oa.PUT,e}},{key:"delete",value:function _delete(){var e=Object.assign(Object.create(this),this);return e.method=oa.DELETE,e}},{key:"options",value:function options(){var e=Object.assign(Object.create(this),this);return e.method=oa.OPTIONS,e}},{key:"query",value:function query(e,t){var r=Object.assign(Object.create(this),this);return r.queryParams[e]=t,r}},{key:"header",value:function header(e,t){var r=Object.assign(Object.create(this),this);return r.headerParams[e]=t,r}},{key:"jsonHeaders",value:,{key:"body",value:function body(e){var t=Object.assign(Object.create(this),this);return t.bodyParams=e,t}}]),HttpRequest}();function postMessage(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window;t=JSON.stringify(t),n.postMessage({topic:e,payload:t},r)}function addCrossDomainEventListener(e,t){var r=function listener(r){if(r&&r.data&&r.data.topic&&r.data.topic==e){var n=r.data.payload;void 0===n&&(n=null),t(n?"string"==typeof n?JSON.parse(n):n:{})}},n=window.addEventListener?"addEventListener":"attachEvent";return(0,window[n])("attachEvent"==n?"onmessage":"message",r,!1),r}function removeCrossDomainEventListener(e){var t=window.removeEventListener?"removeEventListener":"detachEvent";(0,window[t])("detachEvent"==t?"onmessage":"message",e,!1)}function Channel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Channel_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var la=function(){function Channel(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Channel_classCallCheck(this,Channel),this.origin=e,this.target=t,this.debug=r}return function Channel_createClass(e,t,r){return t&&Channel_defineProperties(e.prototype,t),r&&Channel_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(Channel,[{key:"subscribe",value:function subscribe(e,t){var r=this;return this.debug&&console.log('Subscribing to "'.concat(e,'" ...')),addCrossDomainEventListener(e,(function(n){return r.debug&&console.log('Received message for topic "'.concat(e,'" and payload: '),n),t(n)}))}},{key:"unsuscribe",value:function unsuscribe(e){return removeCrossDomainEventListener(e)}},{key:"send",value:function send(e,t){return this.debug&&console.log('Sending message for "'.concat(e,'" with payload: '),t),postMessage(e,t,this.origin,this.target)}},{key:"setDebug",value:function setDebug(e){this.debug=e}}]),Channel}();function WidgetChannelService_typeof(e){return WidgetChannelService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WidgetChannelService_typeof(e)}function WidgetChannelService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function WidgetChannelService_setPrototypeOf(e,t){return WidgetChannelService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},WidgetChannelService_setPrototypeOf(e,t)}function WidgetChannelService_createSuper(e){var t=function WidgetChannelService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=WidgetChannelService_getPrototypeOf(e);if(t){var o=WidgetChannelService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return WidgetChannelService_possibleConstructorReturn(this,r)}}function WidgetChannelService_possibleConstructorReturn(e,t){if(t&&("object"===WidgetChannelService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function WidgetChannelService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function WidgetChannelService_getPrototypeOf(e){return WidgetChannelService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},WidgetChannelService_getPrototypeOf(e)}var ua,fa=function(e){!function WidgetChannelService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WidgetChannelService_setPrototypeOf(e,t)}(WidgetChannelService,e);var t=WidgetChannelService_createSuper(WidgetChannelService);function WidgetChannelService(e,r,n){return function WidgetChannelService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WidgetChannelService),t.call(this,e,r,n)}return function WidgetChannelService_createClass(e,t,r){return t&&WidgetChannelService_defineProperties(e.prototype,t),r&&WidgetChannelService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(WidgetChannelService)}(la),da="INTEGRATOR_INITIALIZE",pa="INTEGRATOR_SHOW_BACKDROP",ha="INTEGRATOR_HIDE_BACKDROP",ya="INTEGRATOR_SHOW_MOBILE_TABS",ga="INTEGRATOR_HIDE_MOBILE_TABS",va="INTEGRATOR_EXPAND",ma="INTEGRATOR_COLLAPSE",ba="INTEGRATOR_LOGGED_OUT",Sa="INTEGRATOR_LOGGED_IN",wa="INTEGRATOR_RESIZE",Pa="INTEGRATOR_OPEN_LOGIN_MODAL",_a="INTEGRATOR_CLOSE_LOGIN_MODAL",Ca="INTEGRATOR_CHANGE_LOCALE",Oa="INTEGRATOR_CHANGE_IFRAME_HEIGHT",Aa="INTEGRATOR_ENV_LOADED",ka="INTEGRATOR_CHANGE_IFRAME_URL",xa="INTEGRATOR_TRIGGER_EMAIL_VERIFICATION",Ia="INTEGRATOR_TRIGGER_LOGOUT",ja="INTEGRATOR_TRIGGER_CHANGE_CONFIG",La="INTEGRATOR_TRIGGER_USER_DATA",Ea="INTEGRATOR_TRIGGER_REFRESH_IDENTITY",Fa="INTEGRATOR_401_FLOW",Ga="INTEGRATOR_GET_TICKET",Ta="INTEGRATOR_GET_CONNECT_CALLBACKS_PARAMS",Ra="INTEGRATOR_GET_ENV",Na="INTEGRATOR_GET_IFRAME_BOUNDING_CLIENT_RECT",Ua="INTEGRATOR_OPEN_POPUP_WINDOW",Da="INTEGRATOR_GET_THIRD_PARTY_STATUS_FOR_LOGIN",Ma="INTEGRATOR_ON_FRIEND_ACTION",Ba="WIDGET_BOOTSTRAP",Va="WIDGET_CHANGE_LOCALE",Wa="WIDGET_CHANGE_GAME",Ha="WIDGET_HANDLE_BACKDROP_CLICK",qa="WIDGET_COLLAPSE",za="WIDGET_EXPAND_FRIENDS",Qa="WIDGET_EXPAND_PLAYER_CARD",Ya="WIDGET_EXPAND_NOTIFICATIONS",Xa="WIDGET_RESIZED_WINDOW",Ka=640,$a=490,Ja="WIDGET_CHANGE_ENV",Za="WIDGET_RE_INIT",es="WIDGET_CHANGE_FRIEND_PROFILE_TYPE",ts="WIDGET_CHANGE_EXTERNAL_LOGIN_TYPE",rs="WIDGET_CHANGE_DARK_BACKGROUND",ns="WIDGET_TOGGLE_SIGN_IN_TEXT",os="WIDGET_TOGGLE_DESKTOP_RESIZE",is="WIDGET_TOGGLE_LOGIN_TYPE",as="WIDGET_URL",ss="WIDGET_SOS_ID",cs="WIDGET_TICKET_SUCESS",ls="WIDGET_TICKET_ERROR",us="WIDGET_TRIGGER_EMAIL_VERIFICATION",fs="WIDGET_TRIGGER_LOGOUT",ds="WIDGET_TRIGGER_USER_DATA_SUCCESS",ps="WIDGET_TRIGGER_USER_DATA_ERROR",hs="WIDGET_SET_CONNECT_LOGIN_URL",ys="WIDGET_401_FLOW_GOT_TICKET",gs="WIDGET_401_FLOW_NO_TICKET",vs="WIDGET_GET_TICKET",ms="WIDGET_GET_CONNECT_CALLBACKS_PARAMS",bs="WIDGET_INITIAL_WINDOW_HEIGHT",Ss="WIDGET_GET_ENV",ws="WIDGET_GET_IFRAME_BOUNDING_CLIENT_RECT",Ps="WIDGET_LOGIN",_s="WIDGET_LOGOUT",Cs="WIDGET_TRIGGER_EMAIL_ACTIVATION",Os="WIDGET_OPEN_POPUP_WINDOW",As="WIDGET_UPDATE_INTEGRATOR_CONFIG",ks="WIDGET_THIRD_PARTY_COOKIES_SUPPORT",xs="ANALYTICS_SDK_LOADED",Is="S_CODE_READY",js="S_CODE_REMOVED",Ls="PRIVACY_POLICY_VIEWED",Es="PRIVACY_POLICY_ACCEPTED",Fs="PRIVACY_POLICY_REFUSED",Gs="PRIVACY_POLICY_ANALYTICS_OFF",Ts="PRIVACY_POLICY_CUSTOMIZATION_OFF",Rs="PRIVACY_POLICY_MEDIA_ANALYTICS_OFF",Ns="PRIVACY_POLICY_VIDEOS_OFF",Us="PRIVACY_POLICY_ANALYTICS_ON",Ds="PRIVACY_POLICY_CUSTOMIZATION_ON",Ms="PRIVACY_POLICY_MEDIA_ANALYTICS_ON",Bs="PRIVACY_POLICY_VIDEOS_ON",Vs="THIRD_PARTY_OPT_IN",Ws="PLAYER_CARD",Hs="FRIENDS",qs="NOTIFICATIONS",zs="DEFAULT",Qs="AVATAR_SIGN_IN",Ys="SIGN_IN",Xs="true",Ks="init",$s="login",Js="logout",Zs="reInit";function ConfigurationFromRequestAdapter_typeof(e){return ConfigurationFromRequestAdapter_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ConfigurationFromRequestAdapter_typeof(e)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==ConfigurationFromRequestAdapter_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ConfigurationFromRequestAdapter_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ec;injectableForJs([])(ua=function(){function ConfigurationFromRequestAdapter(e,t,r,n){!function ConfigurationFromRequestAdapter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ConfigurationFromRequestAdapter),this.version=e,this.build=t,this.httpService=r,this.serviceManager=n}var e;return function ConfigurationFromRequestAdapter_createClass(e,t,r){return t&&ConfigurationFromRequestAdapter_defineProperties(e.prototype,t),r&&ConfigurationFromRequestAdapter_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ConfigurationFromRequestAdapter,[{key:"loadConfiguration",value:(e=function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(e){var t,n,o=this;return _regeneratorRuntime().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:t=new ca(r(87401)),i.prev=1,localStorage.getItem("overlay-env-v3")&&(n="local"==(n=localStorage.getItem("overlay-env-v3").replace(/"/g,""))?"env":n,t=new ca(r(191)("./".concat(n,".json")))),i.next=10;break;case 5:return i.prev=5,i.t0=i.catch(1),this.serviceManager.get(fa).send(Ra),i.next=10,new Promise((function(e){o.serviceManager.get(fa).subscribe(Ss,(function(n){if(n){var o=n.replace(/"/g,"");return o="local"==o?"env":o,t=new ca(r(191)("./".concat(o,".json"))),e()}e()}))}));case 10:return e&&(t=new ca(r(191)("./".concat("local"==e?"env":e,".json")))),console.warn(t),i.abrupt("return",this.httpService.send(t).then((function(e){return e.data})).then((function(e){try{localStorage.getItem("@configVersion"),e.version,localStorage.getItem("@npmVersion"),o.version,localStorage.getItem("@buildVersion"),o.build,localStorage.setItem("@configVersion",e.version||"default"),localStorage.setItem("@npmVersion",o.version||"default"),localStorage.setItem("@buildVersion",o.build||"default")}catch(e){console.warn(e)}return e})).catch((function(e){console.warn(e)})));case 13:case"end":return i.stop()}}),_callee,this,[[1,5]])}))),function loadConfiguration(t){return e.apply(this,arguments)})}]),ConfigurationFromRequestAdapter}());function ConfigurationFromWebpackAdapter_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var tc=injectableForJs([])(ec=function(){eturn function ConfigurationFromWebpackAdapter_createClass(e,t,r){return t&&ConfigurationFromWebpackAdapter_defineProperties(e.prototype,t),r&&ConfigurationFromWebpackAdapter_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ConfigurationFromWebpackAdapter,[{key:"loadConfiguration",value:function loadConfiguration(){var e=this,t=this.config;return new Promise((function(r){try{localStorage.getItem("@configVersion"),t.version,localStorage.getItem("@npmVersion"),e.version,localStorage.getItem("@buildVersion"),e.build,localStorage.setItem("@configVersion",t.version||"default"),localStorage.setItem("@npmVersion",e.version||"default"),localStorage.setItem("@buildVersion",e.build||"default")}catch(e){return r(t)}return r(t)}))}}]),ConfigurationFromWebpackAdapter}())||ec;function AbstractProvider_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var rc=function(){function AbstractProvider(){!function AbstractProvider_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AbstractProvider)}return function AbstractProvider_createClass(e,t,r){return t&&AbstractProvider_defineProperties(e.prototype,t),r&&AbstractProvider_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(AbstractProvider,[{key:"provides",value:function provides(){}},{key:"provide",value:function provide(){}}]),AbstractProvider}();function ConfigurationProvider_typeof(e){return ConfigurationProvider_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ConfigurationProvider_typeof(e)}function ConfigurationProvider_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ConfigurationProvider_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ConfigurationProvider_setPrototypeOf(e,t){return ConfigurationProvider_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ConfigurationProvider_setPrototypeOf(e,t)}function ConfigurationProvider_createSuper(e){var t=function ConfigurationProvider_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ConfigurationProvider_getPrototypeOf(e);if(t){var o=ConfigurationProvider_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ConfigurationProvider_possibleConstructorReturn(this,r)}}function ConfigurationProvider_possibleConstructorReturn(e,t){if(t&&("object"===ConfigurationProvider_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ConfigurationProvider_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ConfigurationProvider_getPrototypeOf(e){return ConfigurationProvider_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ConfigurationProvider_getPrototypeOf(e)}var nc=function(e){!function ConfigurationProvider_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ConfigurationProvider_setPrototypeOf(e,t)}(ConfigurationProvider,e);var t=ConfigurationProvider_createSuper(ConfigurationProvider);function ConfigurationProvider(){return ConfigurationProvider_classCallCheck(this,ConfigurationProvider),t.apply(this,arguments)}return function ConfigurationProvider_createClass(e,t,r){return t&&ConfigurationProvider_defineProperties(e.prototype,t),r&&ConfigurationProvider_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ConfigurationProvider,[{key:"provides",value:function provides(){return p}},{key:"provide",value:function provide(e){var t="5.0.3",r=1700039194;return new p(e.get(C),new tc(t,r,{env:"prod",assetsUrl:"https://static-overlay.ubisoft.com/overlay/overlay-connect-integration/prod/public",overlayApplicationUrl:"https://overlay.ubisoft.com/overlay-connect-integration",overlayIndexUrl:"https://connect.ubisoft.com/indexOverlay.html",baseUrl:"/",version:"5.0.3",rewardsUrl:"//static8.cdn.ubi.com/u/Uplay",apiEnv:"prod",avatarsEnv:"prod",avatarsUrl:"https://avatars.ubisoft.com",connectEnv:"prod",connectEndpoint:"https://connect.ubisoft.com",linkedAccountsApiEndpoint:"https://connect.ubisoft.com",connectJsUrl:"https://ubistatic2-a.ubisoft.com/uplay-connect/v3/prod/default/sdk/connectSdkPublic.js",loginUrl:"https://connect.ubisoft.com/login",loginNextUrl:"https://connect.ubisoft.com/logged-in.html",thirdPartyCookiesErrorUrl:"https://ubistatic2-a.ubisoft.com/overlay/overlay-connect-integration/prod/public/third-party-cookies-error.html",twitchUrl:"https://api.twitch.tv/kraken/oauth2/authorize",twitchID:"ik4kgnclcg9gv59ft7voz7ho5zzyuo2",twitchConnectUrl:"https://connect.ubi.com/Default/TwitchCallback",analyticsEnv:"prod",badgesSpaceId:"348db1b4-8cdd-400c-97bd-228e6b5a3fa3",clubUrl:"https://ubisoftconnect.com",accountUrl:"https://account.ubisoft.com",customerSupportUrl:"https://www.ubisoft.com/{locale}/help",analyticsSdkUrl:"https://ubistatic-a.ubisoft.com/0106/prod/global/tracking/analyticssdk.js",twitchClientId:"6a9lcgtz1vpt9l49p1ib6alx86lczpz",statsCDNUrl:"https://ubiservices.cdn.ubi.com",webcenterAssetsUrl:"https://ubistatic2-a.ubisoft.com/uplay-webcenter/prod",betaPopulationsSpaceId:"d1035aa9-be98-4295-8184-39a53d3aae10",betaEnitySpaceId:"dc451c3a-d711-4751-95eb-53cea444f7fd",betaType:"Overlay_Notifications",enableDebug:!1,avatarsMaintenanceStartDate:"2020-05-18 06:58:00",avatarsMaintenanceEndDate:"2020-05-18 11:00:00",ubiServicesEndpoint:"https://public-ubiservices.ubi.com",uplayWebcenterEndpoint:"https://uplaywebcenter.ubi.com",websocketEndpoint:"wss://public-ws-ubiservices.ubi.com",websocketNotificationTypes:["FRIENDS_RELATIONSHIP_UPDATE","FRIENDS_RELATIONSHIP_TRIGGER"],websocketSpaceIds:["45d58365-547f-4b45-ab5b-53ed14cc79ed"],ubiStoreUrl:"https://store.ubisoft.com",localLoginExpirationMinutes:10}))}}]),ConfigurationProvider}(rc);function AuthenticationService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var oc,ic=function(){eturn function AuthenticationService_createClass(e,t,r){return t&&AuthenticationService_defineProperties(e.prototype,t),r&&AuthenticationService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(AuthenticationService,[{key:"getAdapter",value:function getAdapter(){return this.authenticationAdapter}},{key:"refreshIdentity",value:function refreshIdentity(){var e=this;return this.authenticationAdapter.refreshIdentity().then((function(t){if(!t)throw new Error("[Stejar.AuthenticationService] Could not Refresh Identity");return e.store.dispatch(new Mt(t)),!0}))}},{key:"authenticate",value:function authenticate(e){var t=this;return this.authenticationAdapter.authenticate(e).then((function(e){return t.store.dispatch(new Mt(e)),!0}))}},{key:"logout",value:function logout(){var e=this;return this.authenticationAdapter.logout(Vt.getIdentity(this.store.getState())).then((function(t){if(!t)throw new Error("[Stejar.AuthenticationService] Could not Logout");return e.store.dispatch(new U),!0}))}}]),AuthenticationService}(),ac=function computeScrollbarHeight(e,t,r,n,o,i){return e?"calc(".concat(t,"px - 4.8rem - ").concat(r,"px - ").concat(n,"px)"):i?o?"calc(100vh - 4.8rem - ".concat(r,"px - ").concat(n,"px)"):"calc(100vh - ".concat(r,"px - ").concat(n,"px)"):"0px"},sc=function computeScrollbarContainerHeight(e,t,r,n,o){return e?"calc(".concat(t,"px - 4.8rem - ").concat(r,"px)"):o?n?"calc(100vh - 4.8rem - ".concat(r,"px)"):"calc(100vh - ".concat(r,"px)"):"0px"},cc=(0,I.P1)("WidgetQueries.getShowFriends",(function(e){return e.WidgetStore}),(function(e){return e.showFriends})),lc=(0,I.P1)("WidgetQueries.getShowMobileTabs",(function(e){return e.WidgetStore}),(function(e){return e.showMobileTabs})),uc=(0,I.P1)("WidgetQueries.getBooted",(function(e){return e.WidgetStore}),(function(e){return e.booted})),fc=(0,I.P1)("WidgetQueries.getIsInMobileView",(function(e){return e.WidgetStore}),(function(e){return e.isInMobileView})),dc=(0,I.P1)("WidgetQueries.getNoActiveClickOnMenu",(function(e){return e.WidgetStore}),(function(e){return e.noActiveClickOnMenu})),pc=(0,I.P1)("WidgetQueries.getNewLastPlayGameInstallmentId",(function(e){return e.WidgetStore}),(function(e){return e.newLastPlayGameInstallmentId})),hc=(0,I.P1)("WidgetQueries.getShowNotifications",(function(e){return e.WidgetStore}),(function(e){return e.showNotifications})),yc=(0,I.P1)("WidgetQueries.getIsOnArabLocale",(function(e){return e.WidgetStore}),pt.getHasArabLanguage,(),gc=(0,I.P1)("WidgetQueries.getShowPlayerCardDetails",(function(e){return e.WidgetStore}),(function(e){return e.showPlayerCardDetails})),vc=(0,I.P1)("WidgetQueries.getIframeScrollWidth",(function(e){return e.WidgetStore}),(function(e){return e.iframeScrollWidth})),mc=(0,I.P1)("WidgetQueries.getShowFriendsDetails",(function(e){return e.WidgetStore}),(function(e){return e.showFriendsDetails})),bc=(0,I.P1)("WidgetQueries.getShowDetailsView",(function(e){return e.WidgetStore}),(function(e){return e.showDetailsView})),Sc=(0,I.P1)("WidgetQueries.getShowMobileViewOnDesktop",(function(e){return e.WidgetStore}),(function(e){return e.showMobileViewOnDesktop})),wc=(0,I.P1)("WidgetQueries.getParentUrl",(function(e){return e.WidgetStore}),(function(e){return e.parentUrl})),Pc=(0,I.P1)("WidgetQueries.getSsoId",(function(e){return e.WidgetStore}),(function(e){return e.ssoId})),_c=(0,I.P1)("WidgetQueries.getConnectUrl",(function(e){return e.WidgetStore}),(function(e){return e.connectUrl})),Cc=(0,I.P1)("WidgetQueries.getCONNECTloginData",(function(e){return e.WidgetStore}),(function(e){return e.CONNECTloginData})),Oc=(0,I.P1)("WidgetQueries.getStartedPanelFlow",(function(e){return e.WidgetStore}),(function(e){return e.startedPanelFlow})),Ac=(0,I.P1)("WidgetQueries.getShowStatsHeaderOnPlayerCardDetails",(function(e){return e.WidgetStore}),(function(e){return e.showStatsHeaderOnPlayerCardDetails})),kc=(0,I.P1)("WidgetQueries.getShowStatsHeaderOnFriendsDetails",(function(e){return e.WidgetStore}),(function(e){return e.showStatsHeaderOnFriendsDetails})),xc=(0,I.P1)("WidgetQueries.getShowNameHeaderOnFriendsDetails",(function(e){return e.WidgetStore}),(function(e){return e.showNameHeaderOnFriendsDetails})),Ic=(0,I.P1)("WidgetQueries.getTrackingBannerHeight",(function(e){return e.WidgetStore}),(function(e){return e.trackingBannerHeight})),jc=(0,I.P1)("WidgetQueries.getScrollbarWidth",fc,pt.getHeight,pt.getMobileHeight,(function(e,t,r){return e&&r||t||50})),Lc=(0,I.P1)("WidgetQueries.getWindowInnerHeight",(function(e){return e.WidgetStore}),(function(e){return e.windowInnerHeight})),Ec=(0,I.P1)("WidgetQueries.getThirdPartyCookiesSupport",(function(e){return e.WidgetStore}),(function(e){return e.thirdPartyCookiesSupport})),Fc=(0,I.P1)("WidgetQueries.getScrollbarContainerHeightForFriendsView",fc,Lc,jc,pt.getIsInDesktopResize,cc,sc),Gc=(0,I.P1)("WidgetQueries.getScrollbarContainerMaxHeightForFriendsView",fc,Fc,(function(e,t){return e?null:t})),Tc=(0,I.P1)("WidgetQueries.getTopPositionForScrollbarContainer",pt.getIsInDesktopResize,fc,jc,(function(e,t,r){return e||t?"calc(".concat(r,"px + 4.8rem)"):"".concat(r,"px")})),Rc=(0,I.P1)("WidgetQueries.getScrollbarHeightForFriendsView",fc,Lc,jc,Ic,pt.getIsInDesktopResize,cc,ac),Nc=(0,I.P1)("WidgetQueries.getScrollbarContainerHeightForNotificationsView",fc,Lc,jc,pt.getIsInDesktopResize,hc,sc),Uc={getShowFriends:cc,getShowMobileTabs:lc,getBooted:uc,getIsInMobileView:fc,getNoActiveClickOnMenu:dc,getNewLastPlayGameInstallmentId:pc,getShowNotifications:hc,getIsOnArabLocale:yc,isSafari:getShowPlayerCardDetails:gc,getIframeScrollWidth:vc,getShowFriendsDetails:mc,getShowDetailsView:bc,getShowMobileViewOnDesktop:Sc,getIosVersion:function getIosVersion(){var e=null;if(/iP(hone|od|ad)/.test(navigator.platform)){var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(null!=t)e=[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)][0]}return e},getisOnIpad:function getisOnIpad(){return/iPad/.test(navigator.platform)},getIsIsoVersionLowerThanNine:function getIsIsoVersionLowerThanNine(){return null!==Uc.getIosVersion()&&Uc.getIosVersion()<=9},getIsIos:getParentUrl:wc,getSsoId:Pc,getConnectUrl:_c,getCONNECTloginData:Cc,getStartedPanelFlow:Oc,getShowStatsHeaderOnPlayerCardDetails:Ac,getShowStatsHeaderOnFriendsDetails:kc,getShowNameHeaderOnFriendsDetails:xc,getTrackingBannerHeight:Ic,getCollapsedHeight:jc,getWindowInnerHeight:Lc,getThirdPartyCookiesSupport:Ec,getScrollbarContainerHeightForFriendsView:Fc,getScrollbarContainerMaxHeightForFriendsView:Gc,getTopPositionForScrollbarContainer:Tc,getScrollbarHeightForFriendsView:Rc,getScrollbarContainerHeightForNotificationsView:Nc,getScrollbarContainerMaxHeightForNotificationsView:(0,I.P1)("WidgetQueries.getScrollbarContainerMaxHeightForNotificationsView",fc,Nc,(function(e,t){return e?null:t})),getScrollbarHeightForNotificationsView:(0,I.P1)("WidgetQueries.getScrollbarHeightForNotificationsView",fc,Lc,jc,Ic,pt.getIsInDesktopResize,hc,ac),computeScrollbarHeight:ac,computeScrollbarContainerHeight:sc};function AuthenticationAdapter_typeof(e){return AuthenticationAdapter_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AuthenticationAdapter_typeof(e)}function AuthenticationAdapter_regeneratorRuntime(){AuthenticationAdapter_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==AuthenticationAdapter_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function AuthenticationAdapter_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function AuthenticationAdapter_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){AuthenticationAdapter_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){AuthenticationAdapter_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function AuthenticationAdapter_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Dc=injectableForJs([b])(oc=function(){ar e,t,r;return function AuthenticationAdapter_createClass(e,t,r){return t&&AuthenticationAdapter_defineProperties(e.prototype,t),r&&AuthenticationAdapter_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(AuthenticationAdapter,[{key:"refreshIdentity",value:(r=AuthenticationAdapter_asyncToGenerator(AuthenticationAdapter_regeneratorRuntime().mark((function _callee(){return AuthenticationAdapter_regeneratorRuntime().wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.authenticate();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),_callee,this)}))),function refreshIdentity(){return r.apply(this,arguments)})},{key:"authenticate",value:(t=AuthenticationAdapter_asyncToGenerator(AuthenticationAdapter_regeneratorRuntime().mark((function _callee2(){var e=this;return AuthenticationAdapter_regeneratorRuntime().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(!Uc.getCONNECTloginData(this.serviceManager.get(C).getState())){t.next=6;break}return t.next=3,new Promise((function(t){return t(Uc.getCONNECTloginData(e.serviceManager.get(C).getState()))}));case 3:case 8:return t.abrupt("return",t.sent);case 6:return t.next=8,new Promise(();case 9:case"end":return t.stop()}}),_callee2,this)}))),function authenticate(){return t.apply(this,arguments)})},{key:"logout",value:(e=AuthenticationAdapter_asyncToGenerator(AuthenticationAdapter_regeneratorRuntime().mark((function _callee3(){return AuthenticationAdapter_regeneratorRuntime().wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return this.serviceManager.get(C).dispatch(new Jr),e.abrupt("return",new Promise(());case 2:case"end":return e.stop()}}),_callee3,this)}))),function logout(){return e.apply(this,arguments)})},{key:"getRole",value:function getRole(){return"member"}}]),AuthenticationAdapter}())||oc;function AuthenticationProvider_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Mc,Bc=function(){function AuthenticationProvider(){!function AuthenticationProvider_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AuthenticationProvider)}return function AuthenticationProvider_createClass(e,t,r){return t&&AuthenticationProvider_defineProperties(e.prototype,t),r&&AuthenticationProvider_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(AuthenticationProvider,[{key:"provides",value:function provides(){return ic}},{key:"provide",value:function provide(e){return new ic(e.get(C),new Dc(e))}}]),AuthenticationProvider}(),Vc=r(94316),Wc=r.n(Vc);function TranslatorService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Hc=injectableForJs([])(Mc=function(){function TranslatorService(e,t){!function TranslatorService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TranslatorService),this.store=e,this.adapter=t,this.debug=!1}return function TranslatorService_createClass(e,t,r){return t&&TranslatorService_defineProperties(e.prototype,t),r&&TranslatorService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(TranslatorService,[{key:"enableDebug",value:,{key:"disableDebug",value:,{key:"isLocaleLoaded",value:function isLocaleLoaded(e){return me.hasLocaleBeenLoaded(this.store.getState(),{locale:e})}},{key:"registerNumbersLocale",value:function registerNumbersLocale(e,t){return Wc().setLanguage(e,t),this.debug&&console.log("[Stejar-Translate][TranslatorService] - Registered Numbers Locale: ".concat(e)),this}},{key:"registerDateLocale",value:function registerDateLocale(e,t){return a().locale(e,t),this.debug&&console.log("[Stejar-Translate][TranslatorService] - Registered Date Locale: ".concat(e)),this}},{key:"changeLocale",value:function changeLocale(e){if(Se[e]||(e="en-GB"),!this.isLocaleLoaded(e))throw new Error('Locale "'.concat(e,'" has not been loaded'));this.store.dispatch(new he(e));var t=e.split("-")[0];a().locale(t),Wc().setLanguage(Se[e]),this.debug&&console.log("[Stejar-Translate][TranslatorService] - Changed locale to ".concat(e))}},{key:"loadLocale",value:function loadLocale(e){var t=this;return this.adapter.load(e).then((function(r){t.store.dispatch(new ge(e,r)),t.debug&&console.log("[Stejar-Translate][TranslatorService] - Loaded locale: ".concat(e))}))}},{key:"translate",value:function translate(e){var t=me.getCurrentLocale(this.store.getState());if(!t)throw new Error("[Stejar-Translate][TranslatorService] There is no active locale to fallback to.");var r=me.getLocaleCatalog(this.store.getState(),{locale:t});return r[e]?r[e]:(this.debug&&console.warn('[Stejar-Translate][TranslatorService] Label "'.concat(e,'" does not exist')),e)}}]),TranslatorService}())||Mc;function TranslatorProvider_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var qc=function(){function TranslatorProvider(){!function TranslatorProvider_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TranslatorProvider),this.localeMappings={"ar-AE":r(17206),"zh-CN":r(58780),"zh-TW":r(74376),"zh-HK":r(74376),"cs-CZ":r(37422),"da-DK":r(90349),"nl-NL":r(14925),"en-GB":r(22249),"en-CA":r(221),"en-US":r(46345),"fi-FI":r(50187),"fr-FR":r(70352),"fr-CA":r(77938),"de-DE":r(94351),"hu-HU":r(16478),"it-IT":r(86053),"ja-JP":r(14018),"ko-KR":r(79009),"nb-NO":r(2424),"pl-PL":r(76836),"pt-PT":r(25334),"pt-BR":r(69337),"ru-RU":r(61500),"es-ES":r(4269),"es-MX":r(17031),"sv-SE":r(26982),"th-TH":r(81920),"tr-TR":r(77984),"uk-UA":r(522)},this.numbroMap={"ar-AE":r(95920),"en-GB":r(95920),"en-US":r(95920),"en-CA":r(95920),"zh-CN":r(15007),"zh-TW":r(57418),"zh-HK":r(57418),"cs-CZ":r(42589),"da-DK":r(60768),"nl-NL":r(20411),"fr-FR":r(27814),"fr-CA":r(27814),"fi-FI":r(9602),"de-DE":r(46138),"hu-HU":r(87727),"it-IT":r(3520),"ja-JP":r(45042),"ko-KR":r(98998),"nb-NO":r(73779),"pl-PL":r(12471),"pt-PT":r(88684),"pt-BR":r(82296),"ru-RU":r(94349),"es-ES":r(84020),"es-MX":r(84020),"sv-SE":r(12107),"th-TH":r(34777),"tr-TR":r(5949),"uk-UA":r(94322)}}return function TranslatorProvider_createClass(e,t,r){return t&&TranslatorProvider_defineProperties(e.prototype,t),r&&TranslatorProvider_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(TranslatorProvider,[{key:"provides",value:function provides(){return Hc}},{key:"provide",value:function provide(e){var t=this,r=this.localeMappings,n=be,o=new Hc(e.get(C),{load:function load(t){var o=t.split("-")[1]?"".concat(t.split("-")[0].toLowerCase(),"-").concat(t.split("-")[1].toUpperCase()):t;-1===n.indexOf(o)&&(o="en-GB");var i=new ca(r[o]);return e.get(k).send(i).then((function(e){var t={};return e.data.forEach((),t}))}});return Ft.getEnableDebug(e.get(C).getState())&&o.enableDebug(),Object.keys(this.localeMappings).forEach((function(e){var t=e.split("-")[0];switch(e="".concat(e.split("-")[0],"-").concat(e.split("-")[1].toUpperCase()),-1===n.indexOf(e)&&(e="en-GB"),e){case"en-GB":t="en-gb",a().defineLocale("en-gb",{parentLocale:"en",longDateFormat:{L:"DD/MM/YYYY"}});break;case"en-US":case"en-CA":t="en";break;case"pt-BR":t="pt-br";break;case"zh-CN":t="zh-cn";break;case"zh-TW":case"zh-HK":t="zh-tw"}try{o.registerDateLocale(t)}catch(e){console.warn(e)}})),Object.keys(this.numbroMap).forEach((),o}}]),TranslatorProvider}(),zc=r(24362),Qc=r(45697),Yc=r.n(Qc),Xc=Qc.PropTypes.object;function ServiceProvider_typeof(e){return ServiceProvider_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ServiceProvider_typeof(e)}function ServiceProvider_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ServiceProvider_setPrototypeOf(e,t){return ServiceProvider_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ServiceProvider_setPrototypeOf(e,t)}function ServiceProvider_createSuper(e){var t=function ServiceProvider_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ServiceProvider_getPrototypeOf(e);if(t){var o=ServiceProvider_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ServiceProvider_possibleConstructorReturn(this,r)}}function ServiceProvider_possibleConstructorReturn(e,t){if(t&&("object"===ServiceProvider_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ServiceProvider_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ServiceProvider_getPrototypeOf(e){return ServiceProvider_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ServiceProvider_getPrototypeOf(e)}function ServiceProvider_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Kc=function(e){!function ServiceProvider_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ServiceProvider_setPrototypeOf(e,t)}(ServiceProvider,e);var t=ServiceProvider_createSuper(ServiceProvider);function ServiceProvider(e,r){var n;return function ServiceProvider_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ServiceProvider),(n=t.call(this,e,r)).serviceManager=e.serviceManager,n}return function ServiceProvider_createClass(e,t,r){return t&&ServiceProvider_defineProperties(e.prototype,t),r&&ServiceProvider_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ServiceProvider,[{key:"getChildContext",value:,{key:"render",value:]),ServiceProvider}(zc.Component);function PureComponent_typeof(e){return PureComponent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PureComponent_typeof(e)}function PureComponent_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PureComponent_setPrototypeOf(e,t){return PureComponent_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},PureComponent_setPrototypeOf(e,t)}function PureComponent_createSuper(e){var t=function PureComponent_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=PureComponent_getPrototypeOf(e);if(t){var o=PureComponent_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return PureComponent_possibleConstructorReturn(this,r)}}function PureComponent_possibleConstructorReturn(e,t){if(t&&("object"===PureComponent_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return PureComponent_assertThisInitialized(e)}function PureComponent_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PureComponent_getPrototypeOf(e){return PureComponent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},PureComponent_getPrototypeOf(e)}ServiceProvider_defineProperty(Kc,"propTypes",{serviceManager:Xc.isRequired,children:Yc().element.isRequired}),ServiceProvider_defineProperty(Kc,"childContextTypes",{serviceManager:Xc.isRequired});var $c=function(e){!function PureComponent_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PureComponent_setPrototypeOf(e,t)}(PureComponent,e);var t=PureComponent_createSuper(PureComponent);function PureComponent(e,r){var n;!function PureComponent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PureComponent);var o=[];return(n=t.call(this,e,r)).props=e,"undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys?o=Reflect.ownKeys(n.constructor.prototype):(o=Object.getOwnPropertyNames(n.constructor.prototype),"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n.constructor.prototype)))),o.forEach((function(e){"constructor"!==e&&"function"==typeof n[e]&&(n[e]=n[e].bind(PureComponent_assertThisInitialized(n)))})),n}return function PureComponent_createClass(e,t,r){return t&&PureComponent_defineProperties(e.prototype,t),r&&PureComponent_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(PureComponent,[{key:"componentWillMount",value:function componentWillMount(){return null}},{key:"componentDidMount",value:function componentDidMount(){return null}},{key:"componentWillReceiveProps",value:,{key:"shouldComponentUpdate",value:,{key:"componentWillUpdate",value:function componentWillUpdate(e,t){return null}},{key:"componentDidUpdate",value:,{key:"componentWillUnmount",value:]),PureComponent}(zc.Component),Jc=r(36113),Zc=r(94184),el=r.n(Zc);function inject_typeof(e){return inject_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},inject_typeof(e)}function inject_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function inject_setPrototypeOf(e,t){return inject_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},inject_setPrototypeOf(e,t)}function inject_createSuper(e){var t=function inject_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=inject_getPrototypeOf(e);if(t){var o=inject_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return inject_possibleConstructorReturn(this,r)}}function inject_possibleConstructorReturn(e,t){if(t&&("object"===inject_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return inject_assertThisInitialized(e)}function inject_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function inject_getPrototypeOf(e){return inject_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},inject_getPrototypeOf(e)}function inject_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tl=r(8679);function inject(e){return function wrapWithConnect(t){var r="Inject(".concat(t),")"),n=function(n){!function inject_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&inject_setPrototypeOf(e,t)}(Connect,n);var o=inject_createSuper(Connect);function Connect(t,n){var i;!function inject_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Connect),inject_defineProperty(inject_assertThisInitialized(i=o.call(this,t,n)),"serviceManager",void 0),i.serviceManager=t.serviceManager||n.serviceManager,i.state={hasEverythingItNeeds:!1};var a=0===Object.keys(t).length&&Object.keys(e).length>0;return Object.keys(t).forEach((function(t){-1===Object.keys(e).indexOf(t)&&(a=!0)})),a?_()(i.serviceManager,'Could not find "serviceManager" in either the context or '+'props of "'.concat(r,'". ')+"Either wrap the root component in a <Provider>, "+'or explicitly pass "serviceManager" as a prop to "'.concat(r,'".')):i.state.hasEverythingItNeeds=!0,i}return function inject_createClass(e,t,r){return t&&inject_defineProperties(e.prototype,t),r&&inject_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(Connect,[{key:"render",value:function render(){var r=this,n={};if(this.state.hasEverythingItNeeds)n=this.props;else{var o={};Object.keys(e).forEach((),n=(0,s.assign)({},this.props,o)}return(0,zc.createElement)(t,n)}}]),Connect}(zc.Component);return inject_defineProperty(n,"displayName",r),inject_defineProperty(n,"WrappedComponent",t),inject_defineProperty(n,"contextTypes",{serviceManager:Xc}),inject_defineProperty(n,"propTypes",{serviceManager:Xc}),tl(n,t)}}function Selector_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rl=function customIf(e,t,r){return function(n,o){return e(n,o)?t&&t(n,o)||{}:r?r(n,o):{}}},nl=function fromState(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e,r){var n={};return t.forEach((function(t){"function"!=typeof t?Object.keys(t).forEach((function(o){if("function"==typeof t[o])n[o]=t[o](e,r);else if(Array.isArray(t[o])&&t[o].length>0){Object.assign(n,Selector_defineProperty({},o,function combiner(e,r){var n=!0;return t[o].forEach((),n}(e,r)))}else n[o]=t[o]})):Object.assign(n,t(e,r))})),n}};function AbstractActions_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ol=function(){function AbstractActions(){var e=this;!function AbstractActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AbstractActions),this.store=null;var t=[];"undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys?t=Reflect.ownKeys(this.constructor.prototype):(t=Object.getOwnPropertyNames(this.constructor.prototype),"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(this.constructor.prototype)))),this.dispatch=this.dispatch.bind(this),t.forEach((function(t){"constructor"!==t&&"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}return function AbstractActions_createClass(e,t,r){return t&&AbstractActions_defineProperties(e.prototype,t),r&&AbstractActions_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(AbstractActions,[{key:"getState",value:function getState(){return this.store.getState()}},{key:"state",get:,{key:"dispatch",value:,{key:"setStore",value:function setStore(e){this.store=e}}]),AbstractActions}(),il="psn",al="uplay",sl="xbl",cl="steam",ll="wiiu",ul="switch",fl="googlestream",dl={psn:"PlayStation",fb:"FaceBook",uplay:"Uplay",xbl:"Xbox",steam:"Steam",customersupportsalesforce:"Customer Support SalesForce",rightnow:"Right Now",wiiu:"WIIU",ubimobile:"Ubi Mobile",owlient:"Owlient",google:"Google",gamecenter:"GameCenter",oculus:"Oculus",twitch:"Twitch",nvdia:"Nvdia",switch:"Switch",googlestream:"Google Stream"},pl="NoRelationship",hl="PendingSentInvite",yl="PendingReceivedInvite",gl="Friends";function IdentityQueries_typeof(e){return IdentityQueries_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IdentityQueries_typeof(e)}function IdentityQueries_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IdentityQueries_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IdentityQueries_setPrototypeOf(e,t){return IdentityQueries_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},IdentityQueries_setPrototypeOf(e,t)}function IdentityQueries_createSuper(e){var t=function IdentityQueries_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=IdentityQueries_getPrototypeOf(e);if(t){var o=IdentityQueries_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return IdentityQueries_possibleConstructorReturn(this,r)}}function IdentityQueries_possibleConstructorReturn(e,t){if(t&&("object"===IdentityQueries_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function IdentityQueries_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function IdentityQueries_getPrototypeOf(e){return IdentityQueries_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},IdentityQueries_getPrototypeOf(e)}function IdentityQueries_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vl=function(e){!function IdentityQueries_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IdentityQueries_setPrototypeOf(e,t)}(IdentityQueries,e);var t=IdentityQueries_createSuper(IdentityQueries);function IdentityQueries(){return IdentityQueries_classCallCheck(this,IdentityQueries),t.apply(this,arguments)}return function IdentityQueries_createClass(e,t,r){return t&&IdentityQueries_defineProperties(e.prototype,t),r&&IdentityQueries_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(IdentityQueries)}(Vt);IdentityQueries_defineProperty(vl,"getIdentity",(0,I.P1)("IdentityQueries.getIdentity",Vt.getIdentity,(function(e){return e}))),IdentityQueries_defineProperty(vl,"getHasIdentity",(0,I.P1)("IdentityQueries.getIdentity",Vt.hasIdentity,(function(e){return e}))),IdentityQueries_defineProperty(vl,"getUserId",(0,I.P1)("IdentityQueries.getUserId",Vt.getIdentity,());var ml=function sortGames(e,t){return!wl.isValidDate(e.lastPlayedDate)&&wl.isValidDate(t.lastPlayedDate)?1:wl.isValidDate(e.lastPlayedDate)&&!wl.isValidDate(t.lastPlayedDate)?-1:wl.isValidDate(e.lastPlayedDate)||wl.isValidDate(t.lastPlayedDate)?a()(e.lastPlayedDate).isBefore(a()(t.lastPlayedDate))?1:-1:!wl.isValidDate(e.publishedAt)&&wl.isValidDate(t.publishedAt)?1:wl.isValidDate(e.publishedAt)&&!wl.isValidDate(t.publishedAt)?-1:wl.isValidDate(e.publishedAt)||wl.isValidDate(t.publishedAt)?a()(e.publishedAt).isBefore(a()(t.publishedAt))?1:-1:e.gameName>t.gameName?1:-1},bl=function getOwnedAppIds(e,t,r,n){return e[t]?e[t].filter((function(e){return-1!==r[n.spaceId].indexOf(e)})):[]},Sl=function getShopUrl(e,t){return e.links&&e.links.store?e.links.store:"string"==typeof t&&"true"!==t&&"false"!==t?"".concat(t,"?q=").concat(encodeURIComponent(e.cleanUrl.replace(/-/g," "))):"//store.ubisoft.com/search?q="+encodeURIComponent(e.cleanUrl.replace(/-/g," "))},wl={sortPlatforms:function sortPlatforms(e,t,r,n){return e&&e[t]?!wl.isValidDate(e[t][r.applicationId])&&wl.isValidDate(e[t][n.applicationId])?1:wl.isValidDate(e[t][r.applicationId])&&!wl.isValidDate(e[t][n.applicationId])?-1:wl.isValidDate(e[t][r.applicationId])||wl.isValidDate(e[t][n.applicationId])?a()(e[t][r.applicationId]).isBefore(a()(e[t][n.applicationId]))?1:-1:0:0},sortGames:ml,isValidDate:function isValidDate(e){return!!e&&(a()(e).isValid()&&1!==a()(e).year())},isInSiblingsSpaceIds:function isInSiblingsSpaceIds(e,t,r){return!!e[t]&&!!e[t].find(()},getOwnedAppIds:bl,getShopUrl:Sl,getGamesPlayed:function getGamesPlayed(e,t,r,n,o,i,a,c,l){if(!e||!e[t]||e[t]&&!Object.keys(e[t]).length)return[];var u=e[t].filter(().map((function(e){return r[e]})).map(();if(u.length<=0)return[];var f={};return u.forEach((function(r){var s=bl(e,t,o,r),u=s.length?s.map((function(e){return i[e]})).sort((function(e,r){return wl.sortPlatforms(a,t,e,r)})):o[r.spaceId]?o[r.spaceId].map((function(e){return i[e]})).sort((function(e,r){return wl.sortPlatforms(a,t,e,r)})):[],d=c[r.spaceId]?c[r.spaceId].find(():null;f[r.id]={spaceId:r.spaceId,gameName:r.title,gameCleanUrl:r.cleanUrl,id:r.id,publishedAt:r.publishedAt?r.publishedAt:d?n[d].publishedAt:null,platformCode:u.length?u[0].displayName:"",platformType:u.length?u[0].type:"",installmentId:r.id,userId:t,imageUrl:r.thumbUrl,lastPlayedDate:a[t]&&u.length?a[t][u[0].applicationId]:null,isOwned:s.length>0,applicationId:u.length?u[0].applicationId:null,coverUrl:r.coverUrl,shopUrl:Sl(r,l)}})),(0,s.map)(f,(function(e){return e})).sort((function(e,t){return ml(e,t)}))}},Pl="ready",_l="error",Cl="ok",Ol="invalidDomain",Al="agaGateFailed",kl="2faFailed",xl="invalidConfig",Il="missingTicket",jl="missingSessionId",Ll="missingUserId",El="thirdPartyCookiesDisabled",Fl="ssoRetrieveError",Gl="noLoginData",Tl="ok",Rl="noLoginData",Nl="ssoError",Ul="ageGate",Dl="invalidConfig",Ml="invalidTwoFaStatus",Bl="activated",Vl="pendingActivation",Wl="none",Hl="psn",ql="xbox",zl="twitch";function getLoginUrl_getLoginUrl(e,t,r,n){var o=e;if(n||n!==Wl)switch(n){case Hl:o="".concat(t,"/psn-external");break;case ql:o="".concat(t,"/xbox-external");break;case zl:o="".concat(t,"/twitch-external");break;default:o=e}var i="".concat(o,"?appId=").concat(r.appId,"&lang=").concat(r.lang,"&nextUrl=").concat(encodeURIComponent(r.nextUrl));return r.genomeId&&(i="".concat(o,"?appId=").concat(r.appId,"&genomeId=").concat(r.genomeId,"&lang=").concat(r.lang,"&nextUrl=").concat(encodeURIComponent(r.nextUrl))),i}function getLoginNextUrl_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function getLoginNextUrl_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?getLoginNextUrl_ownKeys(Object(r),!0).forEach((function(t){getLoginNextUrl_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):getLoginNextUrl_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function getLoginNextUrl_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function getLoginNextUrl_getLoginNextUrl(e,t,r){var n={appId:t.appId,lang:t.lang};"genomeId"in t&&(n=getLoginNextUrl_objectSpread(getLoginNextUrl_objectSpread({},n),{},{genomeId:t.genomeId})),null!=r&&(n=getLoginNextUrl_objectSpread(getLoginNextUrl_objectSpread({},n),{},{thirdPartyCookiesSupport:r}));var o=Object.keys(n).reduce((function(e,t){return e?"".concat(e,"&").concat(t,"=").concat(n[t]):"".concat(t,"=").concat(n[t])}),"");return"".concat(t.nextUrl,"?").concat(o)}function selectors_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function selectors_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?selectors_ownKeys(Object(r),!0).forEach((function(t){selectors_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):selectors_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function selectors_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ql=function defaultLoadedSelector(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(()};function isActive$(e){return e[getMountPoint()].isActive}(0,I.P1)("gamesBySpaceId$",$t.getByPlatformApplicationId,$t.getBySpaceId,(function(e,t){var r={};return Object.keys(e).forEach((function(n){r[n]=t[e[n].siblingSpaceId]})),r}));var Yl,Xl=(0,I.P1)("myUserProfiles$",vl.getUserId,An.getIds,An.getById,(function(e,t,r){return t.filter(().map((function(e){return r[e]}))})),Kl=(0,I.P1)("getFriendsWithNameOnPlatforByIds$",Gr.getByIds,An.getById,(function(e,t){var r={};return(0,s.map)(e,(function(e){return selectors_objectSpread(selectors_objectSpread({},e),{},{nameOnPlatform:t[e.pid]?t[e.pid].nameOnPlatform:e.nickname})})).forEach((),r})),$l=(0,I.P1)("getOwnedFriendsByIds$",Kl,Gr.getOwnershipByUserId,vl.getUserId,(function(e,t,r){var n={};return t[r]?(t[r].forEach((),n):n})),Jl=(0,I.P1)("friendsInFriendsState$",$l,(function(e){return(0,s.filter)(e,(function(e){return e.state===gl}))})),Zl=(0,I.P1)("friendsInFriendsStateIds$",Jl,(function(e){return e.map((function(e){return e.pid}))})),eu=(0,I.P1)("friendsInRequestState$",$l,(function(e){return(0,s.filter)(e,(function(e){return e.state===yl}))})),tu=(0,I.P1)("friendsInSentInviteState$",$l,(),ru=(0,I.P1)("friendsInRequestStateIds$",eu,(function(e){return e.map((function(e){return e.pid}))})),nu=(0,I.P1)("friendsUserProfiles$",Zl,An.getIds,An.getById,(function(e,t,r){return t.filter((function(t){return e.includes(r[t].userId)})).map((function(e){return r[e]}))})),ou=(0,I.P1)("friendsUserProfilesByPropsIds$",nu,(,(function(e,t){return t&&t.length?e.filter(():[]})),iu=(0,I.P1)("myUserProfilesIds$",Xl,(function(e){return e.map((function(e){return e.profileId}))})),au=(0,I.P1)("friendsUserProfilesIds$",nu,(function(e){return e.map((function(e){return e.profileId}))})),su=(0,I.P1)("friendsUserProfilesIdsString$",au,(),cu=(0,I.P1)("friendsUserProfilesIdsByUserId$",nu,(function(e){var t={};return e.forEach((),t})),lu=(0,I.P1)("getUsername$",vl.getUserId,Wi.getById,(),uu=(0,I.P1)("getUsernameForEditTool$",lu,Xo.getUserName,(),fu=((0,I.P1)("myProfileIdsByUserId$",iu,vl.getUserId,(),(0,I.P1)("getLoadedNbOfFriendsOnline$",Tr.loaded,Gr.loaded,Ql),(0,I.P1)("getNbOfFriendsOnline$",Tr.getById,An.getById,(function(e,t){return Object.keys(e).filter((function(r,n,o){return o.map(().indexOf(t[e[r].profileId].userId)===n})).length}))),du=(0,I.P1)("getOnlineFeed$",Tr.getById,An.getById,An.getByUserId,au,$t.getBySpaceId,$t.getByPlatformApplicationId,Ft.getAvatarsUrl,pt.getApplicationId,(function(e,t,r,n,o,i,a,s){var c=Object.keys(o),l=Object.keys(e).filter((),u=l.filter((),f=l.filter((function(t){return!c.includes(e[t].spaceIds[0])})).filter((function(t){return!u.map((function(t){return e[t].profileId})).includes(e[t].profileId)})),d=[];u.forEach((function(n){d.find((function(t){return r[t.userId].includes(e[n].profileId)}))||d.push({userId:t[e[n].profileId].userId,username:t[t[e[n].profileId].userId].nameOnPlatform,avatarUrl:"".concat(a,"/").concat(t[e[n].profileId].userId,"/default_146_146.png?appId=").concat(s),isOnline:!0,isCurrentlyPlayingAGame:!0})})),d=d.slice(0);var p=[];return f.forEach((function(n){p.find((function(t){return r[t.userId].includes(e[n].profileId)}))||p.push({userId:t[e[n].profileId].userId,username:t[t[e[n].profileId].userId].nameOnPlatform,avatarUrl:"".concat(a,"/").concat(t[e[n].profileId].userId,"/default_146_146.png?appId=").concat(s),isOnline:!0,isCurrentlyPlayingAGame:!1})})),p=p.slice(0),d.concat(p)})),pu=(0,I.P1)("offlineFriendsIds$",Zl,Tr.getByProfileId,(function(e,t){return e.filter((function(e){return!Object.keys(t).includes(e)}))})),hu=(0,I.P1)("getOfflineFriendsWithLPG",pu,cu,vn.getApplicationsByUserId,vn.getLastSessionDates,$t.getBySpaceId,$t.getByPlatformApplicationId,$t.getPlatformsApplicationsIdsByParentSpaceId,$t.getPlatformsByApplicationId,(function computeLpgByUserIds(e,t,r,n,o,i,c,l){return(0,s.keyBy)(e.map((function(e){var s=t[e]||[],u=[];if(s.length&&(u=s.map(().reduce(().sort((function(t,r){return a()(n[e][t]).isBefore(a()(n[e][r]))?1:-1})).map((function(e){return i[e]?o[i[e].parentSpaceId]:null}))),0==u.length)return null;if(!u[0])return null;var f=c[u[0].spaceId]?c[u[0].spaceId].map((function(e){return l[e]})).sort(():[];return{id:u[0].id,gameName:u[0].title,publishedAt:u[0].publishedAt,gameCleanUrl:u[0].cleanUrl,lastPlayedDate:n[e]&&f.length?n[e][f[0].applicationId]:null,platformCode:f.length?f[0].displayName:null,platformType:f.length?f[0].type:null,imageUrl:u[0].thumbUrl,userId:e,spaceId:u[0].spaceId,coverUrl:u[0].coverUrl}})).filter((),"userId")})),yu=(0,I.P1)("getOfflineFeed$",$l,pu,hu,Ft.getAvatarsUrl,pt.getApplicationId,(function(e,t,r,n,o){var i=Object.keys(r).map((function(t){return{userId:t,username:e[r[t].userId].nameOnPlatform,avatarUrl:"".concat(n,"/").concat(t,"/default_146_146.png?appId=").concat(o),isOnline:!1,isCurrentlyPlayingAGame:!1}})).slice(0),a=t.filter(().map((function(t){return{userId:t,username:e[t].nameOnPlatform,avatarUrl:"".concat(n,"/").concat(t,"/default_146_146.png?appId=").concat(o),isOnline:!1,isCurrentlyPlayingAGame:!1}})).slice(0);return i.concat(a)})),gu=(0,I.P1)("getLoadedFriendsActivityFeed$",Gr.loaded,An.loadedFriendsProfiles,Tr.loaded,Ql),vu=(0,I.P1)("getLoadedFriendsRequestsMetaProgressions$",Vi.getLoaded,ru,(function(e,t){return!t.length||t.every(()})),mu=(0,I.P1)("getLoadedFriendsRequests$",Gr.loaded,vu,Ql),bu=(0,I.P1)("getLoadedOnlineFriends$",Tr.loaded,Gr.loaded,An.loadedFriendsProfiles,Ql),Su=(0,I.P1)("getFriendsActivityFeed$",du,yu,(function(e,t){return e.concat(t.filter((function(t){return-1===e.map((function(e){return e.username})).indexOf(t.username)}))).sort(()})),wu=(0,I.P1)("getFriendsRequestsNb$",$l,(function(e){return(0,s.filter)(e,(function(e){return e.state==yl})).length})),Pu=(0,I.P1)("getNotificationsNb$",wu,(function(e){return e})),_u=(0,I.P1)("getFriendsRequests$",$l,Vi.getById,Ft.getAvatarsUrl,pt.getApplicationId,Pu,(function(e,t,r,n,o){return(0,s.filter)(e,(function(e){return e.state==yl})).sort((function(e,t){return a()(e.lastModified).isBefore(a()(t.lastModified))?1:-1})).map((function(e,i){return{userId:e.pid,userAvatarUrl:"".concat(r,"/").concat(e.pid,"/default_146_146.png?appId=").concat(n),userAvatarName:e.nameOnPlatform,userLevel:t&&t[e.pid]?t[e.pid].level:0,invitationRequestDate:e.lastModified,friendState:e.state,isLatestNotification:i<o}}))})),Cu=(0,I.P1)("getFriendsInvitations$",$l,Vi.getById,Ft.getAvatarsUrl,pt.getApplicationId,Pu,(function(e,t,r,n,o){return(0,s.filter)(e,(function(e){return e.state==hl})).sort((function(e,t){return a()(e.lastModified).isBefore(a()(t.lastModified))?1:-1})).map((function(e,i){return{userId:e.pid,userAvatarUrl:"".concat(r,"/").concat(e.pid,"/default_146_146.png?appId=").concat(n),userAvatarName:e.nameOnPlatform,userLevel:t&&t[e.pid]?t[e.pid].level:0,invitationRequestDate:e.lastModified,friendState:e.state,isLatestNotification:i<o}}))})),Ou=(0,I.P1)("foundProfilesByName$",An.getById,Fn.getUserNameToSearch,(function(e,t){return(0,s.filter)(e,(function(e){return e.nameOnPlatform==t}))})),Au=(0,I.P1)("hasFoundProfilesByName$",Ou,(function(e){return e.length>=1})),ku=(0,I.P1)("foundProfilesByNameIds$",Ou,(),xu=(0,I.P1)("foundProfilesByNameIds$",Ou,Au,(function(e,t){return t?e[0].userId:null})),Iu=(0,I.P1)("friendsToAdd$",$l,An.getById,Vi.getById,Ft.getAvatarsUrl,pt.getApplicationId,Ou,Au,(function(e,t,r,n,o,i,a){var c=i.slice();if(a||(c=i.filter(()),c.length){var l=c.map((function(i){var a=(0,s.find)(e,(),c=r?(0,s.find)(r,():null;return{pid:i.userId?i.userId:i.profileId,friendState:a?a.state:pl,userAvatarUrl:"".concat(n,"/").concat(i.userId?i.userId:i.profileId,"/default_146_146.png?appId=").concat(o),userName:t[i.userId]?t[i.userId].nameOnPlatform:i.nameOnPlatform,level:c&&c.level?c.level:0,invitationRequestDate:a&&a.state===yl?a.lastModified:null,hasPsnProfile:i.platformType==il,psnName:i.platformType==il?i.nameOnPlatform:null,hasSteamProfile:i.platformType==cl,steamName:i.platformType==cl?i.nameOnPlatform:null,hasXboxProfile:i.platformType==sl,xboxName:i.platformType==sl?i.nameOnPlatform:null}})).sort(();return l.length?[l[0]]:[]}return[]})),ju=(0,I.P1)("hasFoundFriendsToAdd$",Iu,(),Lu=(0,I.P1)("friendsToAddState$",Iu,(function(e){var t={};return e.map((),t})),Eu=(0,I.P1)("showUserEmailVerificationButton$",Nn.getShowUserEmailVerificationButton,(function(e){return e})),Fu=(0,I.P1)("isEmailVerificationSent$",Nn.getIsEmailVerificationSent,(function(e){return e})),Gu=(0,I.P1)("getTotalNotificationsNb$",Eu,Fu,(),Tu=(0,I.P1)("getAllFriends$",$l,(function(e){return(0,s.map)(e,(function(e){return e}))})),Ru=(0,I.P1)("getHasFriendsInFriendsState$",Jl,(function(e){return e&&e.length>0})),Nu=(0,I.P1)("getHasFriendsInRequestState$",eu,(function(e){return e&&e.length>0})),Uu=((0,I.P1)("getHasFriendsInSentInviteState$",tu,(),(0,I.P1)("getFriendsActivityFeedFiltered$",Su,Bn.getUserNameToFilterBy,(function(e,t){return t?e.filter((function(e){return-1!==e.username.toLowerCase().indexOf(t.toLowerCase())})):e}))),Du=((0,I.P1)("getFriendsActivityFeedFilteredToShow$",Uu,Su,Bn.getUserNameToFilterBy,(function(e,t,r){return r&&0==e.length&&t.length>=1?t:e})),(0,I.P1)("getOnlineFeedFiltered$",du,Bn.getUserNameToFilterBy,()),Mu=(0,I.P1)("getOnlineFeedFilteredToShow$",Du,du,Bn.getUserNameToFilterBy,(function(e,t,r){return r&&0==e.length&&t.length>=1?t.sort((function(e,t){return Ju(e,t)})):e.sort((function(e,t){return Ju(e,t)}))})),Bu=(0,I.P1)("getHasOnlineFeedAfterFiltered$",Du,(function(e){return e.length>=1})),Vu=(0,I.P1)("getHasFriendsActivityFeedAfterFiltered$",Uu,(function(e){return e.length>=1})),Wu=(0,I.P1)("getNbFriendsInActivityFeed$",Su,(function(e){return e.length})),Hu=(0,I.P1)("getFriendsRequestsRelatedToTooggleParam$",_u,Xn.getShowMoreFriendRequests,(function(e,t){return t?e.slice(0,2):e})),qu=((0,I.P1)("getFriendsInvitationsRelatedToTooggleParam$",Cu,Xn.getShowMoreFriendInvitations,(function(e,t){return t?e.slice(0,2):e})),(0,I.P1)("getFriendsRequestsLength$",_u,(function(e){return e.length}))),zu=((0,I.P1)("getFriendsInvitationsLength$",Cu,(function(e){return e.length})),(0,I.P1)("nbConnections$",qu,fu,(),(0,I.P1)($t.getBySpaceId,$t.getPlatformsApplicationsIdsByParentSpaceId,(function(e,t){return(0,s.map)(e,(function(e){return e})).filter((function(e){return t[e.spaceId].length>0})).filter((function(e){return a()(e.publishedAt).isBefore(a()())})).sort((function(e,t){return a()(e.publishedAt).isAfter(a()(t.publishedAt))?-1:1}))}))),Qu=((0,I.P1)("getUserPlatformType$",iu,An.getById,(function(e,t){return(0,s.filter)(t,()})),(0,I.P1)("gamesBySpaceInstallmentId$",$t.getBySpaceId,()),Yu=(0,I.P1)("friendUserProfilesByFriendId$",(function(e,t){return t.friendId}),An.getIds,An.getById,(function(e,t,r){return t.filter((function(t){return r[t].userId===e})).map((function(e){return r[e]}))})),Xu=(0,I.P1)("friendUserProfilesIdsByFriendId$",Yu,(function(e){return e.map((function(e){return e.profileId}))})),Ku=(0,I.P1)("myCountryCode$",Fi.getByProfileId,Fi.getByIp,vl.getUserId,(function(e,t,r){return e&&t&&t[e[r]]?t[e[r]].countryCode:null})),$u=(0,I.P1)("loginUrl$",(function(e,t){return t.status}),(function(e,t){return t.overwriteConfig}),pt.getApplicationId,pt.getGenomeId,me.getCurrentLocale,Ft.getLoginNextUrl,Ft.getConnectEnv,pt.getThirdPartyCookiesSupport,Ft.getThirdPartyCookiesErrorUrl,Ft.getLoginUrl,Ft.getConnectEndpoint,pt.getExternalLoginType,(function(e,t,r,n,o,i,a,s,c,l,u,f){var d={appId:r,genomeId:n,lang:o,nextUrl:i},p=getLoginNextUrl_getLoginNextUrl(0,d,s);return!1===e&&!1===s?"".concat(c,"?locale=").concat(o):getLoginUrl_getLoginUrl(l,u,t?selectors_objectSpread(selectors_objectSpread({},d),{},{nextUrl:p},t):selectors_objectSpread(selectors_objectSpread({},d),{},{nextUrl:p}),f,navigator.userAgent.match(/Trident.*rv[ :]*11\./))})),Ju=function sortFriends(e,t){return e.isCurrentlyPlayingAGame&&t.isCurrentlyPlayingAGame?e.username.toLowerCase()>t.username.toLowerCase()?1:-1:e.isCurrentlyPlayingAGame&&t.isOnline?-1:e.isOnline&&t.isCurrentlyPlayingAGame?1:e.isOnline&&t.isOnline?e.username.toLowerCase()>t.username.toLowerCase()?1:-1:!e.isOnline&&!e.isCurrentlyPlayingAGame||t.isOnline||t.isCurrentlyPlayingAGame?e.isOnline||e.isCurrentlyPlayingAGame||!t.isOnline&&!t.isCurrentlyPlayingAGame?e.username.toLowerCase()>t.username.toLowerCase()?1:-1:1:-1},Zu=(0,I.P1)(Fi.getByIp,(function(e){if(e){var t=Object.values(e)[0].countryCode;return["US","CA","MX","BR","AR","CL","CO","CR","PE","BO","EC","PY","VE","DO","GT","HN","NI","PA","SV"].includes(t)}return null}));function UserProfilesApi_typeof(e){return UserProfilesApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UserProfilesApi_typeof(e)}function UserProfilesApi_regeneratorRuntime(){UserProfilesApi_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==UserProfilesApi_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function UserProfilesApi_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function UserProfilesApi_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){UserProfilesApi_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){UserProfilesApi_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function UserProfilesApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserProfilesApi_setPrototypeOf(e,t){return UserProfilesApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},UserProfilesApi_setPrototypeOf(e,t)}function UserProfilesApi_createSuper(e){var t=function UserProfilesApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=UserProfilesApi_getPrototypeOf(e);if(t){var o=UserProfilesApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return UserProfilesApi_possibleConstructorReturn(this,r)}}function UserProfilesApi_possibleConstructorReturn(e,t){if(t&&("object"===UserProfilesApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function UserProfilesApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function UserProfilesApi_getPrototypeOf(e){return UserProfilesApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},UserProfilesApi_getPrototypeOf(e)}var ef,tf=injectableForJs([k])(Yl=function(e){!function UserProfilesApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UserProfilesApi_setPrototypeOf(e,t)}(UserProfilesApi,e);var t,r,n,o=UserProfilesApi_createSuper(UserProfilesApi);function UserProfilesApi(e){var t;return function UserProfilesApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserProfilesApi),(t=o.call(this)).httpService=e,t}return function UserProfilesApi_createClass(e,t,r){return t&&UserProfilesApi_defineProperties(e.prototype,t),r&&UserProfilesApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(UserProfilesApi,[{key:"getUserProfilesByUserIds",value:(n=UserProfilesApi_asyncToGenerator(UserProfilesApi_regeneratorRuntime().mark((function _callee(e){var t,r,n,o=this;return UserProfilesApi_regeneratorRuntime().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:for(t=e.slice(),r=[];t.length>0;)n=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v2/profiles")).query("userId",t.splice(0,50).join(",")).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)),r.push(n);return i.abrupt("return",Promise.all(r.map((function(e){return o.httpService.send(e)}))).then((function(e){return e.map((function(e){return e.data.profiles})).reduce((function(e,t){return e.concat(t)}),[])})));case 4:case"end":return i.stop()}}),_callee,this)}))),function getUserProfilesByUserIds(e){return n.apply(this,arguments)})},{key:"getProfilesByPlatformIdsAndPlatformType",value:(r=UserProfilesApi_asyncToGenerator(UserProfilesApi_regeneratorRuntime().mark((function _callee2(e,t){var r,n,o,i=this;return UserProfilesApi_regeneratorRuntime().wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:for(r=e.slice(),n=[];r.length>0;)o=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v2/profiles")).query("idOnPlatform",r.splice(0,50).join(",")).query("platformType",t).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)),n.push(o);return a.abrupt("return",Promise.all(n.map((function(e){return i.httpService.send(e)}))).then((function(e){return e.map((function(e){return e.data.profiles})).reduce((function(e,t){return e.concat(t)}),[])})));case 4:case"end":return a.stop()}}),_callee2,this)}))),function getProfilesByPlatformIdsAndPlatformType(e,t){return r.apply(this,arguments)})},{key:"getProfilesByUserNameAndPlatformTypes",value:(t=UserProfilesApi_asyncToGenerator(UserProfilesApi_regeneratorRuntime().mark((function _callee3(e,t){var r,n,o,i=this;return UserProfilesApi_regeneratorRuntime().wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:for(r=e.slice(),n=[];r.length>0;)o=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v2/profiles")).query("nameOnPlatform",r.splice(0,50).join(",")).query("platformType",t).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)),n.push(o);return a.abrupt("return",Promise.all(n.map((function(e){return i.httpService.send(e)}))).then((function(e){return e.map((function(e){return e.data.profiles})).reduce((function(e,t){return e.concat(t)}),[])})));case 4:case"end":return a.stop()}}),_callee3,this)}))),function getProfilesByUserNameAndPlatformTypes(e,r){return t.apply(this,arguments)})}]),UserProfilesApi}(ol))||Yl,rf=60,nf=120,of=300,af=900,sf=3600;function ProfilesService_typeof(e){return ProfilesService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ProfilesService_typeof(e)}function ProfilesService_regeneratorRuntime(){ProfilesService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==ProfilesService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function ProfilesService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ProfilesService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ProfilesService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){ProfilesService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){ProfilesService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function ProfilesService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ProfilesService_setPrototypeOf(e,t){return ProfilesService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ProfilesService_setPrototypeOf(e,t)}function ProfilesService_createSuper(e){var t=function ProfilesService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ProfilesService_getPrototypeOf(e);if(t){var o=ProfilesService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ProfilesService_possibleConstructorReturn(this,r)}}function ProfilesService_possibleConstructorReturn(e,t){if(t&&("object"===ProfilesService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ProfilesService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ProfilesService_getPrototypeOf(e){return ProfilesService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ProfilesService_getPrototypeOf(e)}var cf=injectableForJs([tf,Wt])(ef=function(e){!function ProfilesService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ProfilesService_setPrototypeOf(e,t)}(ProfilesService,e);var t,r,n,o,i,s,c=ProfilesService_createSuper(ProfilesService);function ProfilesService(e,t){var r;return function ProfilesService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProfilesService),(r=c.call(this)).userProfilesApi=e,r.authenticationStore=t,r}return function ProfilesService_createClass(e,t,r){return t&&ProfilesService_defineProperties(e.prototype,t),r&&ProfilesService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ProfilesService,[{key:"loadMyUserProfile",value:(s=ProfilesService_asyncToGenerator(ProfilesService_regeneratorRuntime().mark((function _callee(){var e,t,r;return ProfilesService_regeneratorRuntime().wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(this.authenticationStore.hasIdentity()){n.next=3;break}return this.afterLoadedProfiles([],Jt,!0),n.abrupt("return",Promise.reject("no identity"));case 3:if(e=vl.getUserId(this.getState()),t=An.getExpiration(this.getState())[e]?An.getExpiration(this.getState())[e]:0,Ft.isExpired(t,af)){n.next=8;break}return this.dispatch(new Jt({},{},{},[],!1,{})),n.abrupt("return");case 8:return n.prev=8,n.next=11,this.userProfilesApi.getUserProfilesByUserIds([this.authenticationStore.getIdentity().user_id]);case 11:r=n.sent,this.afterLoadedProfiles(r,Jt,!1,ProfilesService_defineProperty({},e,a()().unix())),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(8),this.afterLoadedProfiles([],Jt,!0,ProfilesService_defineProperty({},e,0));case 18:case"end":return n.stop()}}),_callee,this,[[8,15]])}))),function loadMyUserProfile(){return s.apply(this,arguments)})},{key:"loadMyFriendsUserProfiles",value:(i=ProfilesService_asyncToGenerator(ProfilesService_regeneratorRuntime().mark((function _callee2(){var e,t,r,n;return ProfilesService_regeneratorRuntime().wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:if(e=Zl(this.getState()).concat(ru(this.getState())),t=e.sort().join(","),r=An.getExpiration(this.getState())[t]?An.getExpiration(this.getState())[t]:0,Ft.isExpired(r,af)){o.next=6;break}return this.dispatch(new tr({},{},{},[],!1,{})),o.abrupt("return");case 6:return o.prev=6,o.next=9,this.userProfilesApi.getUserProfilesByUserIds(e);case 9:n=o.sent,this.afterLoadedProfiles(n,tr,!1,ProfilesService_defineProperty({},t,a()().unix())),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(6),this.afterLoadedProfiles([],tr,!0,ProfilesService_defineProperty({},t,0));case 16:case"end":return o.stop()}}),_callee2,this,[[6,13]])}))),function loadMyFriendsUserProfiles(){return i.apply(this,arguments)})},{key:"loadFriendUserProfiles",value:(o=ProfilesService_asyncToGenerator(ProfilesService_regeneratorRuntime().mark((function _callee3(e){var t,r;return ProfilesService_regeneratorRuntime().wrap((function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:if(t=An.getExpiration(this.getState())[e]?An.getExpiration(this.getState())[e]:0,Ft.isExpired(t,af)){n.next=4;break}return this.dispatch(new tr({},{},{},[],!1,{})),n.abrupt("return");case 4:return n.prev=4,n.next=7,this.userProfilesApi.getUserProfilesByUserIds([e]);case 7:r=n.sent,this.afterLoadedProfiles(r,tr,!1,ProfilesService_defineProperty({},e,a()().unix())),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),this.afterLoadedProfiles([],tr,!0,ProfilesService_defineProperty({},e,0));case 14:case"end":return n.stop()}}),_callee3,this,[[4,11]])}))),function loadFriendUserProfiles(e){return o.apply(this,arguments)})},{key:"loadMyFriendProfilesByUserNameAndPlatforms",value:(n=ProfilesService_asyncToGenerator(ProfilesService_regeneratorRuntime().mark((function _callee4(e,t){var r;return ProfilesService_regeneratorRuntime().wrap((function _callee4$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.userProfilesApi.getProfilesByUserNameAndPlatformTypes(e,t);case 3:return r=n.sent,this.afterLoadedProfiles(r,tr,!1,null),n.abrupt("return",r);case 8:return n.prev=8,n.t0=n.catch(0),this.afterLoadedProfiles([],tr,!0,null),n.abrupt("return",Promise.reject(n.t0));case 12:case"end":return n.stop()}}),_callee4,this,[[0,8]])}))),function loadMyFriendProfilesByUserNameAndPlatforms(e,t){return n.apply(this,arguments)})},{key:"loadFriendsProfilesByIds",value:(r=ProfilesService_asyncToGenerator(ProfilesService_regeneratorRuntime().mark((function _callee5(e){var t,r,n;return ProfilesService_regeneratorRuntime().wrap((function _callee5$(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.sort().join(","),r=An.getExpiration(this.getState())[t]?An.getExpiration(this.getState())[t]:0,Ft.isExpired(r,af)){o.next=5;break}return this.dispatch(new tr({},{},{},[],!1,{})),o.abrupt("return",ou(this.getState(),{ids:e}));case 5:return o.prev=5,o.next=8,this.userProfilesApi.getUserProfilesByUserIds(e);case 8:return n=o.sent,this.afterLoadedProfiles(n,tr,!1,ProfilesService_defineProperty({},t,a()().unix())),o.abrupt("return",n);case 13:return o.prev=13,o.t0=o.catch(5),this.afterLoadedProfiles([],tr,!0,ProfilesService_defineProperty({},t,0)),o.abrupt("return",Promise.reject(o.t0));case 17:case"end":return o.stop()}}),_callee5,this,[[5,13]])}))),function loadFriendsProfilesByIds(e){return r.apply(this,arguments)})},{key:"getProfilesByPlatformIdsAndPlatformType",value:(t=ProfilesService_asyncToGenerator(ProfilesService_regeneratorRuntime().mark((function _callee6(e,t){var r;return ProfilesService_regeneratorRuntime().wrap((function _callee6$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.userProfilesApi.getProfilesByPlatformIdsAndPlatformType(e,t);case 3:return r=n.sent,this.afterLoadedProfiles(r,tr,!1,null),n.abrupt("return",r);case 8:return n.prev=8,n.t0=n.catch(0),this.afterLoadedProfiles([],tr,!0,null),n.abrupt("return",Promise.reject(n.t0));case 12:case"end":return n.stop()}}),_callee6,this,[[0,8]])}))),function getProfilesByPlatformIdsAndPlatformType(e,r){return t.apply(this,arguments)})},{key:"afterLoadedProfiles",value:function afterLoadedProfiles(e,t,r,n){var o={},i={},a={},s=[];e.forEach((function(e){o[e.profileId]=e,a[e.nameOnPlatform]=e,i[e.userId]||(i[e.userId]=[]),i[e.userId].push(e.profileId),s.push(e.profileId)})),n?this.dispatch(new t(o,a,i,s,r,n)):this.dispatch(new t(o,a,i,s,r))}}]),ProfilesService}(ol))||ef,lf=(0,I.P1)("OtherGamesCarouselQueries.getOtherGamesPlayed",vn.getApplicationsByUserId,$t.getByPlatformApplicationId,$t.getBySpaceId,vn.getLastSessionDates,$t.getPlatformsApplicationsIdsByParentSpaceId,$t.getPlatformsByApplicationId,vl.getUserId,Uc.getNewLastPlayGameInstallmentId,pt.getInstallmentId,$t.getSiblingsSpaceIdsByParentSpaceId,pt.getCustomStoreBuyButton,(function(e,t,r,n,o,i,a,s,c,l,u){var f=wl.getGamesPlayed(e,a,t,r,o,i,n,l,u);if(!c&&!s)return f;if(c||s){var d=null,p=null,h=s||c;f.find((function(e,t){return(e.installmentId==h||e.spaceId==h||wl.isInSiblingsSpaceIds(l,e.spaceId,h))&&(d=t,p=e),e.installmentId==h||e.spaceId==h||wl.isInSiblingsSpaceIds(l,e.spaceId,h)})),p&&(f.splice(d,1),f.unshift(p))}return f})),uf=(0,I.P1)("OtherGamesCarouselQueries.getCurrentLastPlayedGameSpaceId",oi.getCurrentLastPlayedGameSpaceId,oi.getCurrentLastPlayedGameId,Oo.getSelectedSpaceAppByGameId,lf,(function(e,t,r,n){return t&&r[t]?r[t].spaceId:e||(n.length?n[0].spaceId:null)})),ff=(0,I.P1)("OtherGamesCarouselQueries.getCurrentLastPlayedGameInstallmentDefaultSpaceId",uf,$t.getSiblingsSpaceIdsByParentSpaceId,$t.getBySpaceId,(function(e,t){return t&&t.spaceId?t.spaceId:null}),(function(e,t,r,n){var o=e;return!n||e&&e==n||(o=n),o&&r&&r[o]&&r[o].installmentDefault?o:o&&t&&t[o]?t[o].find((function(e){return r[e]&&r[e].installmentDefault})):null})),df=(0,I.P1)("OtherGamesCarouselQueries.getCurrentLastPlayedGameSpaceId",oi.getCurrentLastPlayedGameAppId,oi.getCurrentLastPlayedGameId,Oo.getSelectedSpaceAppByGameId,lf,vn.getApplicationsByUserId,vl.getUserId,$t.getPlatformsApplicationsIdsByParentSpaceId,(function(e,t,r,n,o,i,a){var s=n.length?wl.getOwnedAppIds(o,i,a,n[0]):[];return t&&r[t]&&r[t].appId?r[t].appId:e||(n.length&&s.length?s[0]:null)})),pf=(0,I.P1)("OtherGamesCarouselQueries.getCurrentLastPlayedGameId",oi.getCurrentLastPlayedGameId,lf,(function(e,t){return e||(t.length?t[0].id:null)})),hf=(0,I.P1)("OtherGamesCarouselQueries.getCurrentGameSpaceIds",uf,lf,Uc.getNewLastPlayGameInstallmentId,$t.getBySpaceId,vl.getUserId,$t.getSiblingsSpaceIdsByParentSpaceId,(function(e,t,r,n,o,i){var a=null;return(0,s.find)(n,(function(e){var t=e.id==r||e.spaceId==r||wl.isInSiblingsSpaceIds(i,e.spaceId,r);return t&&(a=e.spaceId),t})),a?i[a]?i[a].concat(a):[a]:e?i[e]?i[e].concat(e):[e]:t.length?i[t[0].spaceId].concat(t[0].spaceId):[]})),yf=(0,I.P1)("OtherGamesCarouselQueries.getCurrentGamePlatforms",uf,$t.getPlatformsApplicationsIdsByParentSpaceId,$t.getPlatformsByApplicationId,(function(e,t,r){return e&&t[e]?t[e].map((function(e){return r[e]})):[]})),gf=(0,I.P1)("OtherGamesCarouselQueries.getComputedGameByInstallmentId",Uc.getNewLastPlayGameInstallmentId,pt.getInstallmentId,lf,Qu,vl.getUserId,zu,vn.getLastSessionDates,$t.getPlatformsApplicationsIdsByParentSpaceId,$t.getPlatformsByApplicationId,$t.getBySpaceId,$t.getSiblingsSpaceIdsByParentSpaceId,$t.getBySiblingSpaceId,vn.getApplicationsByUserId,pt.getCustomStoreBuyButton,(function(e,t,r,n,o,i,a,s,c,l,u,f,d,p){var h=e||t;if(r.find((function(e){return e.installmentId==h||e.spaceId==h||wl.isInSiblingsSpaceIds(u,e.spaceId,h)})))return null;var y=null;if(i.length>0){var g=i.find(();g||(g=i[0]);var v=wl.getOwnedAppIds(d,o,s,g),m=v.length?c[v[0]]:c[s[g.spaceId][0]];y={spaceId:g.spaceId,gameName:g.title,gameCleanUrl:g.cleanUrl,id:g.id,publishedAt:g.publishedAt,platformCode:m?m.displayName:"",platformType:m?m.type:"",installmentId:g.id,userId:o,imageUrl:g.thumbUrl,lastPlayedDate:a[o]&&m?a[o][m.applicationId]:null,isOwned:v.length>0,applicationId:m?m.applicationId:null,coverUrl:g.coverUrl,shopUrl:wl.getShopUrl(g,p)}}if(r.length<=0&&i.length>0&&!e&&!t)return y;var b=rd.computeGameByInstallmentIdOrSpaceId(h,n,l,f,s,c,a,o,d,p);return b||(r.length<=0?y:null)})),vf=(0,I.P1)("OtherGamesCarouselQueries.getHasComputedGameByInstallmentId",Uc.getNewLastPlayGameInstallmentId,pt.getInstallmentId,gf,(function(e,t,r){return!(!e&&!t||!r)})),mf=(0,I.P1)("OtherGamesCarouselQueries.getCurrentLastPlayedGame",lf,oi.getCurrentLastPlayedGameId,vf,gf,(function(e,t,r,n){return e.length?e.find((function(e){return e.id===t}))?e.find((function(e){return e.id===t})):e[0]:r?n:null})),bf=(0,I.P1)("OtherGamesCarouselQueries.getCurrentGameId",mf,(function(e){return e?e.id:null})),Sf=(0,I.P1)("OtherGamesCarouselQueries.getCurrentGameId",mf,(function(e){return e?e.spaceId:null})),wf=(0,I.P1)("OtherGamesCarouselQueries.getCurrentGameCleanUrl",mf,(function(e){return e?e.gameCleanUrl:null})),Pf=(0,I.P1)("OtherGamesCarouselQueries.getCurrentGameName",mf,(function(e){return e?e.gameName:null})),_f=(0,I.P1)("OtherGamesCarouselQueries.getCurrentCoverUrl",mf,(function(e){return e?e.coverUrl:null})),Cf=(0,I.P1)("OtherGamesCarouselQueries.getCurrentImageUrl",mf,(function(e){return e?e.imageUrl:null})),Of=(0,I.P1)("OtherGamesCarouselQueries.getCurrentLastPlayedDate",mf,(function(e){return e?e.lastPlayedDate:null})),Af=(0,I.P1)("OtherGamesCarouselQueries.getCurrentLastPlayedInstallmentId",mf,(function(e){return e?e.installmentId:null})),kf=(0,I.P1)("OtherGamesCarouselQueries.getCurrentGamePlatform",mf,Oo.getSelectedSpaceAppByGameId,$t.getPlatformsByApplicationId,(function(e,t,r){return e&&t[e.id]&&r[t[e.id].appId]?r[t[e.id].appId]:null})),xf=(0,I.P1)("OtherGamesCarouselQueries.getCurrentGamePlatformAppId",kf,(function(e){return e?e.applicationId:null})),If=(0,I.P1)("OtherGamesCarouselQueries.getCurrentGamePlatform",kf,mf,(function(e,t){return e?e.type:t?t.platformType:"PC"})),jf=(0,I.P1)("OtherGamesCarouselQueries.getIsOwnedCurrentGame",pf,$t.getByInstallmentSpaceId,$t.getBySpaceId,$t.getPlatformsApplicationsIdsByParentSpaceId,vl.getUserId,vn.getApplicationsByUserId,(function(e,t,r,n,o,i){return!(!t[e]||!r[t[e]])&&wl.getOwnedAppIds(i,o,n,r[t[e]]).length>0})),Lf=(0,I.P1)("OtherGamesCarouselQueries.getMyUserIdByLastPlayedGamePlatform",If,Xl,vl.getUserId,xf,uf,Zi.getByAppId,(),Ef=(0,I.P1)("OtherGamesCarouselQueries.getMyLastPlayedGamePlatforms",mf,$t.getPlatformsApplicationsIdsByParentSpaceId,$t.getPlatformsByApplicationId,(function(e,t,r){return e?t[e.spaceId].map((function(e){return r[e]})):[]})),Ff=(0,I.P1)("OtherGamesCarouselQueries.getNotOwnedGames",$t.getBySpaceId,vn.getApplicationsByUserId,$t.getPlatformsApplicationsIdsByParentSpaceId,vl.getUserId,pt.getCustomStoreBuyButton,(function(e,t,r,n,o){var i=[];return(i=t[n]?(0,s.filter)(e,(function(e){return!r[e.spaceId].find((function(e){return-1!==t[n].indexOf(e)}))})):(0,s.map)(e,(function(e){return e}))).length?(i=(0,s.uniqBy)(i,"id")).map((function(e){return{spaceId:e.spaceId,gameName:e.title,gameCleanUrl:e.cleanUrl,id:e.id,publishedAt:e.publishedAt,platformCode:"",platformType:"",installmentId:e.installmentId,userId:null,imageUrl:e.thumbUrl,lastPlayedDate:null,coverUrl:e.coverUrl,applicationId:"",isOwned:!1,shopUrl:wl.getShopUrl(e,o)}})).sort(():[]})),Gf=(0,I.P1)("OtherGamesCarouselQueries.getYouMightLikeGame",vf,gf,Ff,(function(e,t,r){return e?t:r.length?r.filter((function(e){return a()(e.publishedAt).isBefore(a()())}))[0]:null})),Tf=(0,I.P1)("OtherGamesCarouselQueries.getYouMightAlsoLikeGames",Ff,vf,gf,(function(e,t,r){return e.length?t?e.filter((function(e){return!!e&&e.id!==r.id})).filter((function(e){return a()(e.publishedAt).isBefore(a()())})).slice(0,3):e.filter((function(e){return a()(e.publishedAt).isBefore(a()())})).slice(1,4):[]})),Rf=(0,I.P1)("OtherGamesCarouselQueries.getHasYouMightAlsoLikeGames",Tf,(),Nf=(0,I.P1)("OtherGamesCarouselQueries.getYouMightLikeGamePlatforms",Gf,$t.getPlatformsApplicationsIdsByParentSpaceId,$t.getPlatformsByApplicationId,(function(e,t,r){return e&&t[e.spaceId]?(0,s.uniqBy)(t[e.spaceId].map((function(e){return r[e]})),"applicationId"):[]})),Uf=(0,I.P1)("OtherGamesCarouselQueries.getYouMightLikeGamePlatformsMapedNames",Nf,(function(e){return e.map((function(e){return"switch"!==e.displayName.toLowerCase()?e.displayName:"NINTENDO SWITCH"}))})),Df=(0,I.P1)("OtherGamesCarouselQueries.getHasYouMightLikeGameOnlyOnePlatform",Uf,(function(e){return 1==e.length})),Mf=(0,I.P1)("OtherGamesCarouselQueries.getHasOnlyOneGame",lf,(function(e){return 1==e.length})),Bf=(0,I.P1)("OtherGamesCarouselQueries.getOnlyGamePlayed",lf,(function(e){return e[0]})),Vf=(0,I.P1)("OtherGamesCarouselQueries.getHasNoGamesPlayed",lf,(function(e){return 0===e.length})),Wf=(0,I.P1)("OtherGamesCarouselQueries.getHasOtherGamesPlayed",lf,(function(e){return e.length>0})),Hf=(0,I.P1)("OtherGamesCarouselQueries.getHasOtherGamesPlayed",Gf,(function(e){return!!e})),qf=(0,I.P1)("OtherGamesCarouselQueries.getGameSiblingSpaceIdByParentSpaceId",(function(e,t){return t.spaceId}),lf,$t.getByPlatformApplicationId,$t.getPlatformsApplicationsIdsByParentSpaceId,(function(e,t,r,n){var o=t.find((function(t){return t.spaceId==e})),i=n[e]&&n[e].length?r[n[e][0]].siblingSpaceId:e;return o&&r[o.applicationId]?r[o.applicationId].siblingSpaceId:i})),zf=(0,I.P1)("OtherGamesCarouselQueries.getGameSiblingSpaceIdByParentSpaceId",(function(e,t){return t.spaceId}),$t.getBySiblingSpaceId,$t.getSiblingsSpaceIdsByParentSpaceId,(function(e,t,r){return t[e]?r[t[e]]?r[t[e]]:[e]:r[e]?r[e]:[e]})),Qf=(0,I.P1)("OtherGamesCarouselQueries.getGameSiblingSpaceIdByAppId",(function(e,t){return t.appId}),(function(e,t){return t.gameId}),$t.getByPlatformApplicationId,$t.getByInstallmentSpaceId,(function(e,t,r,n){return r[e]?r[e].siblingSpaceId:n[t]})),Yf=(0,I.P1)("OtherGamesCarouselQueries.getGameNameByGameId",(function(e,t){return t.gameId}),$t.getByInstallmentSpaceId,$t.getBySpaceId,(function(e,t,r){return t[e]&&r[t[e]]?r[t[e]].title:null})),Xf=(0,I.P1)("OtherGamesCarouselQueries.getMyNbOfGamesOwned",lf,(function(e){return e.length})),Kf=(0,I.P1)("OtherGamesCarouselQueries.getMyPlayedSpaceIds",vn.getApplicationsByUserId,vl.getUserId,(function(e,t){return e[t]?e[t]:[]})),$f=(0,I.P1)("OtherGamesCarouselQueries.getMyPlayedSpaceIdsFromGamesPlayed",vn.getSpaceIdsByUserId,vl.getUserId,(function(e,t){return e[t]?e[t]:[]})),Jf=(0,I.P1)("OtherGamesCarouselQueries.getMyPlayedSpaceIds",Kf,Zi.getByAppId,(function(e,t){return e.length?e.filter((function(e){return!!t[e]})).map((function(e){return t[e].spaceId})):[]})),Zf=function getUserProfileIdByPlatformType(e,t,r,n,o,i){if(!e)return i;if(r&&t[r]&&t[r].spaceId!==n)return i;var a=o.find((function(t){return t.platformType==ed(e,al)}));return a?a.profileId:i},ed=function getProfilePlatformCode(e,t){var r=t;switch(e.toUpperCase()){case"PS5":case"PS4":case"PS3":case"ORBIS":r=il;break;case"XONE":case"DURANGO":case"XBOXSCARLETT":r=sl;break;case"PC":case"PROJECTSTREAM":case"SWITCHSTREAM":case"SWITCHSTREAMING":r=al;break;case"SWITCH":case"NX":r=ul;break;case"STADIA":case"GOOGLESTREAM":r=fl;break;case"WIIU":r=ll}return r},td=(0,I.P1)("OtherGamesCarouselQueries.getHasNoSessionData",vn.getApplicationsByUserId,vn.getApplicationsByApplicationId,vl.getUserId,(function(e,t,r){return!!e[r]&&e[r].every((function(e){return null===t[e].sessionsCount&&null===t[e].firstPlayed.createdAt&&null===t[e].firstPlayed.countryCode&&null===t[e].lastPlayed.updatedAt&&null===t[e].firstPlayed.countryCode}))})),rd={getOtherGamesPlayed:lf,getCurrentLastPlayedGameSpaceId:uf,getCurrentLastPlayedGameInstallmentDefaultSpaceId:ff,getCurrentLastPlayedGameAppId:df,getCurrentLastPlayedGameId:pf,getCurrentGameSpaceIds:hf,getCurrentGamePlatforms:yf,getComputedGameByInstallmentId:gf,getHasComputedGameByInstallmentId:vf,getCurrentLastPlayedGame:mf,getCurrentGameId:bf,getCurrentGameSpaceId:Sf,getCurrentGameCleanUrl:wf,getCurrentGameName:Pf,getCurrentCoverUrl:_f,getCurrentImageUrl:Cf,getCurrentLastPlayedDate:Of,getCurrentLastPlayedInstallmentId:Af,getCurrentGamePlatform:kf,getCurrentGamePlatformAppId:xf,getCurrentGamePlatformType:If,getIsOwnedCurrentGame:jf,getMyUserIdByLastPlayedGamePlatform:Lf,getMyLastPlayedGamePlatforms:Ef,getNotOwnedGames:Ff,getYouMightLikeGame:Gf,getYouMightAlsoLikeGames:Tf,getHasYouMightAlsoLikeGames:Rf,getYouMightLikeGamePlatforms:Nf,getYouMightLikeGamePlatformsMapedNames:Uf,getHasYouMightLikeGameOnlyOnePlatform:Df,getHasOnlyOneGame:Mf,getOnlyGamePlayed:Bf,getHasNoGamesPlayed:Vf,getHasOtherGamesPlayed:Wf,getHasYouMightLikeGame:Hf,getGameSiblingSpaceIdByParentSpaceId:qf,getGameAllSpaceIdsByParentSpaceId:zf,getGameSiblingSpaceIdByAppId:Qf,getGameNameByGameId:Yf,getMyNbOfGamesOwned:Xf,getMyPlayedAppIds:Kf,getMyPlayedSpaceIdsFromGamesPlayed:$f,getMyPlayedSpaceIds:Jf,computeGameByInstallmentIdOrSpaceId:function computeGameByInstallmentIdOrSpaceId(e,t,r,n,o,i,a,s,c,l){var u=t[e];if(u||(u=r[e]),u||(u=n[e]?r[n[e]]:null),!u)return null;var f=wl.getOwnedAppIds(c,s,o,u),d=f.length?i[f[0]]:i[o[u.spaceId][0]];return{spaceId:u.spaceId,gameName:u.title,gameCleanUrl:u.cleanUrl,id:u.id,publishedAt:u.publishedAt,platformCode:d?d.displayName:"",platformType:d?d.type:"",installmentId:u.installmentId,userId:s,imageUrl:u.thumbUrl,lastPlayedDate:a[s]&&d?a[s][d.applicationId]:null,isOwned:f.length>0,applicationId:d?d.applicationId:null,coverUrl:u.coverUrl,shopUrl:wl.getShopUrl(u,l)}},getUserProfileIdByPlatformType:Zf,getProfilePlatformCode:ed,getHasNoSessionData:td},nd=(0,I.P1)("FriendsOwnedGamesQueries.getFriendsGamesPlayed",rd.getCurrentLastPlayedInstallmentId,wo.getFriendsByInstallmentId,su,(function(e,t,r){return t[e]&&t[e][r]?t[e][r]:[]})),od=(0,I.P1)("FriendsOwnedGamesQueries.getFriendsGamesPlayedProfileIds",nd,(function(e){return e.map((function(e){return e.profileId}))})),id=(0,I.P1)("FriendsOwnedGamesQueries.getFriendsPlayingGame",Jl,od,An.getById,(function(e,t,r){return e.filter((function(e){return!!t.find((function(t){return e.pid==r[t].userId}))}))})),ad={getFriendsGamesPlayed:nd,getFriendsGamesPlayedProfileIds:od,getFriendsPlayingGame:id,getFriendsPlayingGameNames:(0,I.P1)("FriendsOwnedGamesQueries.getFriendsPlayingGameNames",id,(function(e){return e.map((function(e){return e.nameOnPlatform}))})),getNbOfFriendsPlaying:(0,I.P1)("FriendsOwnedGamesQueries.getNbOfFriendsPlaying",id,(function(e){return e.length})),getHasFriendsPlaying:(0,I.P1)("FriendsOwnedGamesQueries.getHasFriendsPlaying",id,(function(e){return e.length>0})),getFriendsPlayingIds:(0,I.P1)("FriendsOwnedGamesQueries.getHasFriendsPlaying",id,(function(e){return e.map((function(e){return e.pid}))})),getFriendsPlayingGameForSelect:(0,I.P1)("FriendsOwnedGamesQueries.getFriendsPlayingGameForSelect",id,pi.getWrittenFriendName,(function(e,t){return t?e.map((function(e){return{key:e.pid,value:e.nameOnPlatform}})).filter(():e.map(()}))},sd="String",cd="Integer",ld="Decimal",ud="Percentage",fd="LongTimespan",dd="Milliseconds",pd="Seconds",hd="Minutes",yd="Hours",gd="Days",vd="m",md="km",bd="Meters",Sd="Kilometers",wd="%";function GameStatsQueries_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function GameStatsQueries_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GameStatsQueries_ownKeys(Object(r),!0).forEach((function(t){GameStatsQueries_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GameStatsQueries_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function GameStatsQueries_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pd,_d=function getGameStatsMap(e,t,r,n){return e[t]&&r[n]&&r[n][t]?(0,s.uniqBy)(e[t].filter((function(e){return!r[n][t]||!!r[n][t][e]})).map(().sort(Rd.statsSortingFunction),"id"):[]},Cd=(0,I.P1)("GameStatsQueries.hasLastPlayedGameStats",rd.getCurrentLastPlayedGameSpaceId,mn.getBySpaceId,(function(e,t){return!!t[e]&&t[e].length>0})),Od=(0,I.P1)("GameStatsQueries.getGameStats",mn.getBySpaceId,rd.getCurrentLastPlayedGameSpaceId,mn.getById,rd.getMyUserIdByLastPlayedGamePlatform,_d),Ad=(0,I.P1)("GameStatsQueries.getLastPlayedGameStats",Od,(function(e){return e.slice(0,3)})),kd=(0,I.P1)("GameStatsQueries.getAllProfileIds",An.getByUserId,(function(e){return Object.keys(e).map((function(t){return e[t]})).reduce((function(e,t){return e.concat(t)}))})),xd=(0,I.P1)("GameStatsQueries.getFrindsStatsByPlatform",kd,rd.getCurrentGamePlatforms,mn.getByFriendProfileId,$t.getByPlatformApplicationId,An.getById,(),Id=(0,I.P1)("GameStatsQueries.getLastPlayedGameStatsWithRank",Ad,mn.getByFriendProfileId,lu,xd,(function(e,t,r,n){return Fd(e,t,r,n)})),jd=(0,I.P1)("GameStatsQueries.getGameStatsWithRank",Od,mn.getByFriendProfileId,lu,xd,(),Ld=(0,I.P1)("GameStatsQueries.getGameStatsWithRank",Od,mn.getByFriendProfileId,An.getById,An.getByUserId,rd.getCurrentGamePlatforms,pi.getSelectedFriendId,$t.getByPlatformApplicationId,(function(e,t,r,n,o,i,a){return Gd(e,t,r,n,o.map((function(e){return a[e.applicationId].siblingSpaceId})),i)})),Ed=(0,I.P1)("GameStatsQueries.getFriendAvatar",pi.getSelectedFriendId,pt.getApplicationId,Ft.getAvatarsUrl,(function(e,t,r){return"".concat(r,"/").concat(e,"/default_146_146.png?appId=").concat(t)})),Fd=function computeGameStatsWithRank(e,t,r,n){return Object.keys(t).length&&n.length?e.map((function(e){var t=[];if(n.forEach((function(r){r.statsValuesDictionary[e.id]&&t.push({value:r.statsValuesDictionary[e.id],username:r.username})})),t.length){t.push({value:e.value,username:r});var o=1;return t.sort((function(e,t){return parseFloat(e.value)!=parseFloat(t.value)&&parseFloat(e.value)&&parseFloat(t.value)?parseFloat(e.value)>parseFloat(t.value)?-1:1:e.username.toLowerCase()<t.username.toLowerCase()?-1:e.username.toLowerCase()>t.username.toLowerCase()?1:0})).find((function(t,r){return o=r+1,t.value==e.value})),GameStatsQueries_objectSpread(GameStatsQueries_objectSpread({},e),{},{rank:o})}return GameStatsQueries_objectSpread(GameStatsQueries_objectSpread({},e),{},{rank:1})})):e.map(()},Gd=function computeGameStatsToCompareWithAFriend(e,t,r,n,o,i){return e.map((function(e){var a=[],c=n[i],l=[];if((0,s.forEach)(c,(function(n){o.forEach((function(o){t["".concat(n,"_").concat(o)]&&t["".concat(n,"_").concat(o)].stats[e.id]&&l.push({value:t["".concat(n,"_").concat(o)].stats[e.id].value,username:r[n].nameOnPlatform})}))})),l.length&&(l=l.sort((function(e,t){return parseFloat(e.value)&&parseFloat(t.value)?parseFloat(e.value)>parseFloat(t.value)?-1:1:0})),a.push(l[0])),a.length){var u=Rd.computeGameStatsValue(a[0].value,e.format,e.unit,e.statName);return GameStatsQueries_objectSpread(GameStatsQueries_objectSpread({},e),{},{value:Rd.computeDefaultValue(e.format,e.value)},{friendFormattedValue:u,friendValue:Rd.computeDefaultValue(e.format,a[0].value)})}var f=Rd.computeGameStatsValue(null,e.format,e.unit,e.statName);return GameStatsQueries_objectSpread(GameStatsQueries_objectSpread({},e),{},{value:Rd.computeDefaultValue(e.format,e.value)},{friendFormattedValue:f,friendValue:Rd.computeDefaultValue(e.format,null)})}))},Td=function computeFrindsStatsByPlatform(e,t,r,n,o){if(!(e&&t&&r&&e.length&&t.length&&Object.keys(r).length))return[];var i=[];return e.forEach((function(e){var a={};t.forEach((function(t){var o=r["".concat(e,"_").concat(n[t.applicationId].siblingSpaceId)];o&&o.stats&&Object.keys(o.stats).length&&Object.keys(o.stats).forEach((function(e){var t=o.stats[e].value;a[e]||(a[e]=t),a[e]&&parseFloat(t)&&a[e]<t&&(a[e]=t)}))})),Object.keys(a).length&&i.push({statsValuesDictionary:a,username:o[e].nameOnPlatform})})),i},Rd={hasLastPlayedGameStats:Cd,getGameStats:Od,getLastPlayedGameStats:Ad,getAllProfileIds:kd,getFrindsStatsByPlatform:xd,getLastPlayedGameStatsWithRank:Id,getGameStatsWithRank:jd,getGameStatsToCompareWithAFriend:Ld,getFriendAvatarUrl:Ed,computeGameStatsWithRank:Fd,computeGameStatsToCompareWithAFriend:Gd,computeGameStatsValue:function computeGameStatsValue(e,t,r,n){if(!e&&!t&&!n)return[{value:"0",isUnit:!1}];if(t==cd&&(r===bd||r===vd||r===Sd||r===md)){var o=null;return r!==bd&&r!==vd||(o="m"),r!==Sd&&r!==md||(o="km"),e?[{value:r===bd||r===vd?Rd.roundValue((parseFloat(e)/1e3).toString()).toString():Rd.roundValue(e).toString(),isUnit:!1},{value:o,isUnit:!0}]:[{value:"0",isUnit:!1},{value:o,isUnit:!0}]}switch(t){case ud:return e?"1.0"==e?[{value:"100",isUnit:!1}]:parseFloat(e)<=1?[{value:Math.round(100*Rd.roundValue(e)).toString(),isUnit:!1},{value:"%",isUnit:!0}]:parseFloat(e)>1&&parseFloat(e)<=10?[{value:Math.round(10*Rd.roundValue(e)).toString(),isUnit:!1},{value:"%",isUnit:!0}]:parseFloat(e)>10&&parseFloat(e)<=100?[{value:Rd.roundValue(e).toString(),isUnit:!1},{value:"%",isUnit:!0}]:parseFloat(e)>100&&parseFloat(e)<=1e3?[{value:Math.round(Rd.roundValue(e)/10).toString(),isUnit:!1},{value:"%",isUnit:!0}]:[{value:e,isUnit:!1},{value:"%",isUnit:!0}]:[{value:"0",isUnit:!1},{value:"%",isUnit:!0}];case fd:if(!e)return[{value:"0",isUnit:!1},{value:"m",isUnit:!0}];if(r==dd&&parseFloat(e)<6e4||r==pd&&parseFloat(e)<60||r==hd&&parseFloat(e)<1||r==yd&&parseFloat(e)<1/60||r==gd&&parseFloat(e)<1/1440)return[{value:"<",isUnit:!0},{value:"1",isUnit:!1},{value:"m",isUnit:!0}];switch(r){case dd:return Rd.computeDuration(e,r,6e4,36e5,36e6);case pd:return Rd.computeDuration(e,r,60,3600,36e3);case hd:return Rd.computeDuration(e,r,1,60,600);case yd:return Rd.computeDuration(e,r,1/60,1,10);case gd:return Rd.computeDuration(e,r,1/1440,1/60,1/60*10);default:return[{value:a().duration(parseFloat(e),r.toLowerCase()).format("h"),isUnit:!1},{value:"h",isUnit:!0}]}case cd:return e?(e=e.replace(/[\s,]+/g,""),parseFloat(e)/1e6>=1?[{value:Math.floor(parseFloat(e)/1e6).toString(),isUnit:!1},{value:"M",isUnit:!0}]:Math.floor(parseFloat(e)/1e3)>=10&&Math.floor(parseFloat(e)/1e3)<1e3?[{value:Math.floor(parseFloat(e)/1e3).toString(),isUnit:!1},{value:"k",isUnit:!0}]:[{value:Rd.roundValue(e).toString(),isUnit:!1}]):[{value:"0",isUnit:!1}];case ld:return e?[{value:Rd.roundValue(e).toString(),isUnit:!1}]:[{value:"0",isUnit:!1}];default:return e?[{value:e,isUnit:!1}]:[{value:"0",isUnit:!1}]}},computeDuration:function computeDuration(e,t,r,n,o){if(parseFloat(e)>=r&&parseFloat(e)<n)return[{value:a().duration(parseFloat(e),t.toLowerCase()).format("m"),isUnit:!1},{value:"m",isUnit:!0}];if(parseFloat(e)>=n&&parseFloat(e)<o){var i=a().duration(parseFloat(e),t.toLowerCase()).format("h[h]-m[m]").split("-");return i=(i=i.map((function(e){return[{value:e.split("_")[0],isUnit:!1},{value:e.split("_")[1],isUnit:!0}]}))).reduce((function(e,t){return e.concat(t)}))}return[{value:a().duration(parseFloat(e),t.toLowerCase()).format("h"),isUnit:!1},{value:"h",isUnit:!0}]},roundValue:function roundValue(e){return Math.round(100*(parseFloat(e)+1e-15))/100},computeDefaultValue:function computeDefaultValue(e,t){return e!==sd?t?parseFloat(t):0:t},computeFrindsStatsByPlatform:Td,getGameStatsMap:_d,statsSortingFunction:function statsSortingFunction(e,t){return e.ordinal===t.ordinal?e.name.toLowerCase()<t.name.toLowerCase()?-1:1:e.ordinal-t.ordinal}};function StatsApi_typeof(e){return StatsApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},StatsApi_typeof(e)}function StatsApi_regeneratorRuntime(){StatsApi_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==StatsApi_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function StatsApi_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function StatsApi_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function StatsApi_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?StatsApi_ownKeys(Object(r),!0).forEach((function(t){StatsApi_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):StatsApi_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function StatsApi_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function StatsApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function StatsApi_setPrototypeOf(e,t){return StatsApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},StatsApi_setPrototypeOf(e,t)}function StatsApi_createSuper(e){var t=function StatsApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=StatsApi_getPrototypeOf(e);if(t){var o=StatsApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return StatsApi_possibleConstructorReturn(this,r)}}function StatsApi_possibleConstructorReturn(e,t){if(t&&("object"===StatsApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function StatsApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function StatsApi_getPrototypeOf(e){return StatsApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},StatsApi_getPrototypeOf(e)}var Nd,Ud=injectableForJs([k])(Pd=function(e){!function StatsApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&StatsApi_setPrototypeOf(e,t)}(StatsApi,e);var t,r=StatsApi_createSuper(StatsApi);function StatsApi(e){var t;return function StatsApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StatsApi),(t=r.call(this)).httpService=e,t}return function StatsApi_createClass(e,t,r){return t&&StatsApi_defineProperties(e.prototype,t),r&&StatsApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(StatsApi,[{key:"getStatsCard",value:function getStatsCard(e,t){var r=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/profiles/").concat(t,"/statscard")).query("spaceId",e).header("Ubi-LocaleCode",me.getCurrentLocale(this.getState())).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket));return this.httpService.send(r).then((function(r){return r.data.Statscards.map(()}))}},{key:"getStatsByProfileIds",value:(t=function StatsApi_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){StatsApi_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){StatsApi_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(StatsApi_regeneratorRuntime().mark((function _callee(e,t){var r,n,o,i=this;return StatsApi_regeneratorRuntime().wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:for(r=t.slice(),n=[];r.length>0;)o=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/profiles/stats")).query("spaceId",e).query("profileIds",r.splice(0,50).join(",")).header("Ubi-LocaleCode",me.getCurrentLocale(this.getState())).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)),n.push(o);return a.abrupt("return",Promise.all(n.map((function(e){return i.httpService.send(e)}))).then((function(t){return t.map((function(t){return t.data.profiles.map(()})).reduce((function(e,t){return e.concat(t)}),[])})));case 4:case"end":return a.stop()}}),_callee,this)}))),function getStatsByProfileIds(e,r){return t.apply(this,arguments)})}]),StatsApi}(ol))||Pd;function GamesApi_typeof(e){return GamesApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GamesApi_typeof(e)}function GamesApi_regeneratorRuntime(){GamesApi_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==GamesApi_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function GamesApi_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function GamesApi_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){GamesApi_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){GamesApi_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function GamesApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GamesApi_setPrototypeOf(e,t){return GamesApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},GamesApi_setPrototypeOf(e,t)}function GamesApi_createSuper(e){var t=function GamesApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=GamesApi_getPrototypeOf(e);if(t){var o=GamesApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return GamesApi_possibleConstructorReturn(this,r)}}function GamesApi_possibleConstructorReturn(e,t){if(t&&("object"===GamesApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function GamesApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function GamesApi_getPrototypeOf(e){return GamesApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},GamesApi_getPrototypeOf(e)}var Dd,Md=injectableForJs([k])(Nd=function(e){!function GamesApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GamesApi_setPrototypeOf(e,t)}(GamesApi,e);var t,r,n,o,i,a=GamesApi_createSuper(GamesApi);function GamesApi(e){var t;return function GamesApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GamesApi),(t=a.call(this)).httpService=e,t}return function GamesApi_createClass(e,t,r){return t&&GamesApi_defineProperties(e.prototype,t),r&&GamesApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(GamesApi,[{key:"getUbisoftGamesList",value:(i=GamesApi_asyncToGenerator(GamesApi_regeneratorRuntime().mark((function _callee(){var e,t,r,n,o,i,a,s=this,c=arguments;return GamesApi_regeneratorRuntime().wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:0,t=c.length>1&&void 0!==c[1]?c[1]:100,r=c.length>2&&void 0!==c[2]?c[2]:[],n=c.length>3&&void 0!==c[3]?c[3]:[],o=c.length>4&&void 0!==c[4]?c[4]:0,i=!(c.length>5&&void 0!==c[5])||c[5],a=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/spaces/global/ubiconnect/games/api/catalog")).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)).header("Ubi-LocaleCode",me.getCurrentLocale(this.getState())).query("defaultOnly",i),r.length&&a.query("spaceIds",r.join(",")),r.length||a.query("offset",e),r.length||a.query("limit",t),n.length&&a.query("platformType",n.join(",")),l.abrupt("return",this.httpService.send(a).then((function(i){return i.data.games.length>=t&&!r.length&&o<5?(o++,s.getUbisoftGamesList(e+t,t,r,n,o).then((function(e){return i.data.games.concat(e)}))):i.data.games||[]})));case 12:case"end":return l.stop()}}),_callee,this)}))),function getUbisoftGamesList(){return i.apply(this,arguments)})},{key:"getUbisoftGamesListBySpaceId",value:(o=GamesApi_asyncToGenerator(GamesApi_regeneratorRuntime().mark((function _callee2(e){var t,r,n,o=this;return GamesApi_regeneratorRuntime().wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:for(t=e.slice(),r=[];t.length>0;)n=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/spaces/global/ubiconnect/games/api/catalog")).query("spaceIds",t.splice(0,50).join(",")).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)).header("Ubi-LocaleCode",me.getCurrentLocale(this.getState())),r.push(n);return i.abrupt("return",Promise.all(r.map((function(e){return o.httpService.send(e)}))).then((function(e){return e.map((function(e){return e.data.games})).reduce((function(e,t){return e.concat(t)}),[])})));case 4:case"end":return i.stop()}}),_callee2,this)}))),function getUbisoftGamesListBySpaceId(e){return o.apply(this,arguments)})},{key:"getMyGamesPlayed",value:(n=GamesApi_asyncToGenerator(GamesApi_regeneratorRuntime().mark((function _callee3(e,t,r,n){var o;return GamesApi_regeneratorRuntime().wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return o=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/profiles/me/gamesplayed")).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId),e&&e.length&&o.query("spaceIds",e.join(",")),t&&t.length&&o.query("spacePlatformTypes",t.join(",")),r&&r.length&&o.query("applicationPlatformTypes",r.join(",")),n&&o.query("limit",n),i.abrupt("return",this.httpService.send(o).then(());case 6:case"end":return i.stop()}}),_callee3,this)}))),function getMyGamesPlayed(e,t,r,o){return n.apply(this,arguments)})},{key:"getGamesPlayedByProfilesIdsAndSpaceIds",value:(r=GamesApi_asyncToGenerator(GamesApi_regeneratorRuntime().mark((function _callee4(e,t,r,n,o){var i,a,s,c,l,u=this;return GamesApi_regeneratorRuntime().wrap((function _callee4$(f){for(;;)switch(f.prev=f.next){case 0:for(i=e.slice(),a=[];i.length>0;)for(s=i.splice(0,20),c=t.slice();c.length>0;)l=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/profiles/gamesplayed")).query("profileIds",s.join(",")).query("spaceIds",c.splice(0,5).join(",")).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId),r&&r.length&&l.query("spacePlatformTypes",r.join(",")),n&&n.length&&l.query("applicationPlatformTypes",n.join(",")),o&&l.query("limit",o),a.push(l);return f.abrupt("return",Promise.all(a.map((function(e){return u.httpService.send(e)}))).then((function(e){return e.map((function(e){return e.data.gamesPlayed})).reduce((function(e,t){return e.concat(t)}),[])})));case 4:case"end":return f.stop()}}),_callee4,this)}))),function getGamesPlayedByProfilesIdsAndSpaceIds(e,t,n,o,i){return r.apply(this,arguments)})},{key:"getGamesPlayedByProfilesIds",value:(t=GamesApi_asyncToGenerator(GamesApi_regeneratorRuntime().mark((function _callee5(e,t,r,n){var o,i,a,s,c=this;return GamesApi_regeneratorRuntime().wrap((function _callee5$(l){for(;;)switch(l.prev=l.next){case 0:for(o=e.slice(),i=[];o.length>0;)a=o.splice(0,20),s=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/profiles/gamesplayed")).query("profileIds",a.join(",")).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId),t&&t.length&&s.query("spacePlatformTypes",t.join(",")),r&&r.length&&s.query("applicationPlatformTypes",r.join(",")),n&&s.query("limit",n),i.push(s);return l.abrupt("return",Promise.all(i.map((function(e){return c.httpService.send(e)}))).then((function(e){return e.map((function(e){return e.data.gamesPlayed})).reduce((function(e,t){return e.concat(t)}),[])})));case 4:case"end":return l.stop()}}),_callee5,this)}))),}]),GamesApi}(ol))||Nd,Bd="background",Vd="lowBoxArt";function ApplicationsApi_typeof(e){return ApplicationsApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ApplicationsApi_typeof(e)}function ApplicationsApi_regeneratorRuntime(){ApplicationsApi_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==ApplicationsApi_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function ApplicationsApi_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ApplicationsApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ApplicationsApi_setPrototypeOf(e,t){return ApplicationsApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ApplicationsApi_setPrototypeOf(e,t)}function ApplicationsApi_createSuper(e){var t=function ApplicationsApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ApplicationsApi_getPrototypeOf(e);if(t){var o=ApplicationsApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ApplicationsApi_possibleConstructorReturn(this,r)}}function ApplicationsApi_possibleConstructorReturn(e,t){if(t&&("object"===ApplicationsApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ApplicationsApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ApplicationsApi_getPrototypeOf(e){return ApplicationsApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ApplicationsApi_getPrototypeOf(e)}var Wd,Hd=50,qd=injectableForJs([k])(Dd=function(e){!function ApplicationsApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ApplicationsApi_setPrototypeOf(e,t)}(ApplicationsApi,e);var t,r=ApplicationsApi_createSuper(ApplicationsApi);function ApplicationsApi(e){var t;return function ApplicationsApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ApplicationsApi),(t=r.call(this)).httpService=e,t}return function ApplicationsApi_createClass(e,t,r){return t&&ApplicationsApi_defineProperties(e.prototype,t),r&&ApplicationsApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ApplicationsApi,[{key:"getApplications",value:(t=function ApplicationsApi_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){ApplicationsApi_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){ApplicationsApi_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(ApplicationsApi_regeneratorRuntime().mark((function _callee(e){var t,r,n,o,i,a,s=this,c=arguments;return ApplicationsApi_regeneratorRuntime().wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:for(t=c.length>1&&void 0!==c[1]?c[1]:0,r=c.length>2&&void 0!==c[2]?c[2]:Hd,n=c.length>3&&void 0!==c[3]?c[3]:0,o=e.slice(),i=[];o.length>0;)a=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/applications")).query("applicationIds",o.splice(0,Hd).join(",")).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)),i.push(a);return l.abrupt("return",Promise.all(i.map((function(e){return e=e.query("offset",t).query("limit",r),s.httpService.send(e).then((function(e){return e.data.applications.length>=Hd&&n<5?(n++,s.getApplications(e.request.getQueryParams().applicationIds.split(","),e.request.getQueryParams().offset+Hd,r,n).then((function(t){return e.data.applications.concat(t)}))):e.data.applications}))}))).then((function(e){return e.reduce((function(e,t){return e.concat(t)}),[])})));case 7:case"end":return l.stop()}}),_callee,this)}))),function getApplications(e){return t.apply(this,arguments)})}]),ApplicationsApi}(ol))||Dd;function ApplicationsService_typeof(e){return ApplicationsService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ApplicationsService_typeof(e)}function ApplicationsService_regeneratorRuntime(){ApplicationsService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==ApplicationsService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function ApplicationsService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ApplicationsService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ApplicationsService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ApplicationsService_setPrototypeOf(e,t){return ApplicationsService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ApplicationsService_setPrototypeOf(e,t)}function ApplicationsService_createSuper(e){var t=function ApplicationsService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ApplicationsService_getPrototypeOf(e);if(t){var o=ApplicationsService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ApplicationsService_possibleConstructorReturn(this,r)}}function ApplicationsService_possibleConstructorReturn(e,t){if(t&&("object"===ApplicationsService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ApplicationsService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ApplicationsService_getPrototypeOf(e){return ApplicationsService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ApplicationsService_getPrototypeOf(e)}var zd=injectableForJs([qd])(Wd=function(e){!function ApplicationsService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ApplicationsService_setPrototypeOf(e,t)}(ApplicationsService,e);var t,r=ApplicationsService_createSuper(ApplicationsService);function ApplicationsService(e){var t;return function ApplicationsService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ApplicationsService),(t=r.call(this)).applicationsApi=e,t}return function ApplicationsService_createClass(e,t,r){return t&&ApplicationsService_defineProperties(e.prototype,t),r&&ApplicationsService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ApplicationsService,[{key:"loadApplicationsByAppIds",value:(t=function ApplicationsService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){ApplicationsService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){ApplicationsService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(ApplicationsService_regeneratorRuntime().mark((function _callee(e){var t,r,n,o;return ApplicationsService_regeneratorRuntime().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(t={},r={},n=e.sort().join(","),o=Zi.getExpiration(this.getState())[n]?Zi.getExpiration(this.getState())[n]:0,Ft.isExpired(o,af)){i.next=7;break}return this.dispatch(new _r(t,r,{})),i.abrupt("return");case 7:return this.dispatch(new Cr),i.prev=8,i.next=11,this.applicationsApi.getApplications(e);case 11:i.sent.forEach((),this.dispatch(new _r(t,r,ApplicationsService_defineProperty({},n,a()().unix()))),i.next=20;break;case 16:i.prev=16,i.t0=i.catch(8),console.log(i.t0),this.dispatch(new _r({},{},ApplicationsService_defineProperty({},n,0)));case 20:case"end":return i.stop()}}),_callee,this,[[8,16]])}))),function loadApplicationsByAppIds(e){return t.apply(this,arguments)})}]),ApplicationsService}(ol))||Wd;function FriendProfileQueries_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function FriendProfileQueries_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FriendProfileQueries_ownKeys(Object(r),!0).forEach((function(t){FriendProfileQueries_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FriendProfileQueries_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function FriendProfileQueries_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qd,Yd=(0,I.P1)("FriendProfileQueries.getFriendDefaultAvatar",Ci.getCurrentFriendId,pt.getApplicationId,Ft.getAvatarsUrl,(),Xd=(0,I.P1)("FriendProfileQueries.getFriendLargeAvatar",Yd,(function(e){return e.replace("[size]","256_256")})),Kd=(0,I.P1)("FriendProfileQueries.getFriendSmallAvatar",Yd,(),$d=(0,I.P1)("FriendProfileQueries.getCurrentFriendProfileIds",Ci.getCurrentFriendId,An.getByUserId,An.getById,(function(e,t,r){return e&&t[e]?t[e].map((function(e){return r[e]})):[]})),Jd=(0,I.P1)("FriendProfileQueries.getCurrentFriendProfilesIds",$d,(function(e){return e.map((function(e){return e.profileId}))})),Zd=(0,I.P1)("FriendProfileQueries.getFriendGamesPlayed",vn.getApplicationsByUserId,$t.getByPlatformApplicationId,$t.getBySpaceId,vn.getLastSessionDates,$t.getPlatformsApplicationsIdsByParentSpaceId,$t.getPlatformsByApplicationId,Ci.getCurrentFriendId,$t.getSiblingsSpaceIdsByParentSpaceId,pt.getCustomStoreBuyButton,(),ep=(0,I.P1)("FriendProfileQueries.getHasGamesPlayed",Zd,Ci.getCurrentFriendId,vn.getApplicationsByUserId,(function(e,t,r){return!(!r[t]||!r[t].length)&&e.length>0})),tp=(0,I.P1)("FriendProfileQueries.getFriendCurrenGamePlayed",ep,Zd,Ci.getCurrentLastPlayedGameId,(function(e,t,r){return e?t.find((function(e){return e.id===r})):null})),rp=(0,I.P1)("FriendProfileQueries.getFriendCurrenGamePlayedGameDate",tp,(function(e){return e?e.lastPlayedDate:null})),np=(0,I.P1)("FriendProfileQueries.getFriendCurrenGamePlayedGameTitle",tp,(function(e){return e?e.gameName:null})),op=(0,I.P1)("FriendProfileQueries.getFriendCurrenGamePlayedGameId",tp,(function(e){return e?e.id:null})),ip=(0,I.P1)("FriendProfileQueries.getFriendCurrenGamePlayedGameId",tp,(function(e){return e?e.imageUrl:null})),ap=(0,I.P1)("FriendProfileQueries.getFriendCurrenGamePlayedGameId",tp,(function(e){return e?e.coverUrl:null})),sp=(0,I.P1)("FriendProfileQueries.getFriendCurrenGamePlayedSpaceId",Ci.getCurrentLastPlayedGameId,Ci.getCurrentLastPlayedGameSpaceId,Ci.getSelectedSpaceAndAppByGameId,(function(e,t,r){return r[e]&&r[e].spaceId?r[e].spaceId:t})),cp=(0,I.P1)("FriendProfileQueries.getCurrentLastPlayedGameInstallmentDefaultSpaceId",sp,$t.getSiblingsSpaceIdsByParentSpaceId,$t.getBySpaceId,(function(e,t,r){return e&&r&&r[e]&&r[e].installmentDefault?e:e&&t&&t[e]?t[e].find(():null})),lp=(0,I.P1)("FriendProfileQueries.getFriendCurrenGamePlayedAppId",Ci.getCurrentLastPlayedGameId,Ci.getCurrentLastPlayedGameAppId,Ci.getSelectedSpaceAndAppByGameId,(function(e,t,r){return r[e].appId?r[e].appId:t})),up=(0,I.P1)("FriendProfileQueries.getSelectedPlatformCode",Ci.getSelectedSpaceAndAppByGameId,Ci.getCurrentLastPlayedGameId,$t.getPlatformsByApplicationId,(function(e,t,r){return Object.keys(e).length&&t&&e[t]&&r[e[t].appId]?"switch"!==r[e[t].appId].displayName.toLowerCase()?r[e[t].appId].displayName:"NINTENDO SWITCH":null})),fp=(0,I.P1)("FriendProfileQueries.getSelectedPlatformType",Ci.getSelectedSpaceAndAppByGameId,Ci.getCurrentLastPlayedGameId,$t.getPlatformsByApplicationId,(function(e,t,r){return Object.keys(e).length&&t&&e[t]&&r[e[t].appId]?r[e[t].appId].type:null})),dp=(0,I.P1)("FriendProfileQueries.getSelectedPlatformType",Ci.getSelectedSpaceAndAppByGameId,Ci.getCurrentLastPlayedGameId,$t.getPlatformsByApplicationId,(function(e,t,r){return Object.keys(e).length&&t&&e[t]&&r[e[t].appId]?r[e[t].appId].applicationId:null})),pp=(0,I.P1)("FriendProfileQueries.getCurrentGamePlatforms",sp,$t.getPlatformsApplicationsIdsByParentSpaceId,$t.getPlatformsByApplicationId,(function(e,t,r){return e&&t[e]?t[e].map((function(e){return r[e]})):[]})),hp=(0,I.P1)("FriendProfileQueries.getMyLastPlayedGameOwnedPlatfroms",Ci.getCurrentLastPlayedGameSpaceId,vn.getApplicationsByUserId,$t.getBySpaceId,$t.getBySiblingSpaceId,$t.getPlatformsApplicationsIdsByParentSpaceId,$t.getPlatformsByApplicationId,Ci.getCurrentFriendId,(function(e,t,r,n,o,i,a){return e&&t[a]?(e=r[e]?r[e].spaceId:n[e]?n[e]:e,o[e]?t[a].filter(().map((function(e){return{key:e,value:"switch"!==i[e].displayName.toLowerCase()?i[e].displayName:"NINTENDO SWITCH"}})):[]):[]})),yp=(0,I.P1)("FriendProfileQueries.getMyLastPlayedGameFilteredOwnedPlatfroms",Ci.getSelectedSpaceAndAppByGameId,Ci.getCurrentLastPlayedGameId,hp,(function(e,t,r){return e[t]?r.filter(():[]})),gp=(0,I.P1)("FriendProfileQueries.getCurrentGameSpaceIds",Ci.getCurrentLastPlayedGameSpaceId,Zd,$t.getSiblingsSpaceIdsByParentSpaceId,(function(e,t,r){return e?r[e]?r[e].concat(e):[e]:t.length?r[t[0].spaceId]?r[t[0].spaceId].concat(t[0].spaceId):[t[0].spaceId]:[]})),vp=(0,I.P1)("FriendProfileQueries.getCurrentFriendIsOnline",Jd,Tr.getById,vn.getBySpaceId,gp,(function(e,t,r,n){var o=Object.keys(t).filter((function(r){return e.includes(t[r].profileId)})),i=o.filter(();return{isOnline:o.filter((function(e){return!n.includes(t[e].spaceIds[0])})).filter((function(e){return!i.map((function(e){return t[e].profileId})).includes(t[e].profileId)})).length>0||i.length>0,isCurrentlyPlayingAGame:i.length>0}})),mp=(0,I.P1)("FriendProfileQueries.getCurrentFriendIsOnline",vp,(function(e){return e.isOnline})),bp=(0,I.P1)("FriendProfileQueries.getCurrentFriendIsCurrentlyPlayingAGame",vp,(function(e){return e.isCurrentlyPlayingAGame})),Sp=(0,I.P1)("FriendProfileQueries.getHasMyLastPlayedGameOnlyOnePlatform",hp,(function(e){return 1==e.length})),wp=(0,I.P1)("FriendProfileQueries.getHasMyLastPlayedGameOwnedPlatform",hp,(),Pp=(0,I.P1)("FriendProfileQueries.getFriendsGamesPlayed",Ci.getCurrentLastPlayedGameId,wo.getFriendsByInstallmentId,su,(function(e,t,r){return t[e]&&t[e][r]?t[e][r]:[]})),_p=(0,I.P1)("FriendProfileQueries.getFriendsGamesPlayedProfileIds",Pp,(function(e){return e.map((function(e){return e.profileId}))})),Cp=(0,I.P1)("FriendProfileQueries.getFriendsPlayingGame",Jl,_p,An.getById,(function(e,t,r){return e.filter((function(e){return!!t.find(()}))})),Op=(0,I.P1)("FriendProfileQueries.getFriendsPlayingGame",Cp,(function(e){return e.map((function(e){return e.pid}))})),Ap=(0,I.P1)("FriendProfileQueries.getUsersPlayingFriendGameIds",Op,(function(e,t){return t.friendId}),(),kp=(0,I.P1)("FriendProfileQueries.getFriendsPlayingGameNames",Cp,Ci.getCurrentFriendName,(function(e,t){return e.map((function(e){return e.nameOnPlatform})).filter(()})),xp=(0,I.P1)("FriendProfileQueries.getFriendsPlayingGameNames",Cp,(function(e){return e.length})),Ip=(0,I.P1)("friendUserProfilesByFriendId$",Ci.getCurrentFriendId,An.getIds,An.getById,(function(e,t,r){return t.filter((function(t){return r[t].userId===e})).map((function(e){return r[e]}))})),jp=(0,I.P1)("FriendProfileQueries.hasLastPlayedGameStats",gp,mn.getBySpaceId,(function(e,t){return!!e.find(()})),Lp=(0,I.P1)("FriendProfileQueries.getGameStats",sp,cp,fp,Ip,Ci.getCurrentFriendId,mn.getBySpaceId,mn.getById,Zi.getByAppId,dp,(function(e,t,r,n,o,i,a,s,c){var l=rd.getUserProfileIdByPlatformType(r,s,c,e,n,o),u=Rd.getGameStatsMap(i,e,a,l);return u.length?u:Rd.getGameStatsMap(i,t,a,l)})),Ep=(0,I.P1)("FriendProfileQueries.getLastPlayedGameStats",Lp,Uc.getIsInMobileView,Uc.getShowMobileViewOnDesktop,(function(e,t,r){return e.slice(0,t||r?3:4)})),Fp=(0,I.P1)("FriendProfileQueries.getFrindsStatsByPlatform",Rd.getAllProfileIds,pp,mn.getByFriendProfileId,$t.getByPlatformApplicationId,An.getById,(),Gp=(0,I.P1)("FriendProfileQueries.getLastPlayedGameStatsWithRank",Ep,mn.getByFriendProfileId,Ci.getCurrentFriendName,Fp,(),Tp=(0,I.P1)("FriendProfileQueries.getGameStatsWithRank",Lp,mn.getByFriendProfileId,An.getById,An.getByUserId,pp,vl.getUserId,$t.getByPlatformApplicationId,(function(e,t,r,n,o,i,a){return Rd.computeGameStatsToCompareWithAFriend(e,t,r,n,o.map((),i).map((function(e){return FriendProfileQueries_objectSpread(FriendProfileQueries_objectSpread({},e),{friendFormattedValue:e.formattedValue,formattedValue:e.friendFormattedValue,friendValue:e.value,value:e.friendValue})}))})),Rp=(0,I.P1)("FriendProfileQueries.getGameStatsWithRank",vn.loaded,(function(e){return e})),Np=(0,I.P1)("FriendProfileQueries.getHasOnlyOneGame",Zd,(),Up=(0,I.P1)("FriendProfileQueries.getOnlyGamePlayed",Zd,(),Dp=(0,I.P1)("FriendProfileQueries.getFriendPlayedAppIds",vn.getApplicationsByUserId,Ci.getCurrentFriendId,(function(e,t){return e[t]?e[t]:[]})),Mp={getFriendDefaultAvatar:Yd,getFriendLargeAvatar:Xd,getFriendSmallAvatar:Kd,getCurrentFriendProfiles:$d,getCurrentFriendProfilesIds:Jd,getFriendGamesPlayed:Zd,getHasGamesPlayed:ep,getFriendCurrenGamePlayed:tp,getFriendCurrenGamePlayedGameDate:rp,getFriendCurrenGamePlayedGameTitle:np,getFriendCurrenGamePlayedGameId:op,getFriendCurrenGamePlayedGameImageUrl:ip,getFriendCurrenGamePlayedGameCoverUrl:ap,getFriendCurrenGamePlayedSpaceId:sp,getCurrentLastPlayedGameInstallmentDefaultSpaceId:cp,getFriendCurrenGamePlayedAppId:lp,getSelectedPlatformCode:up,getSelectedPlatformType:fp,getSelectedPlatformAppId:dp,getCurrentGamePlatforms:pp,getLastPlayedGameOwnedPlatforms:hp,getLastPlayedGameFilteredOwnedPlatfroms:yp,getCurrentGameSpaceIds:gp,getCurrentFriendConnections:vp,getCurrentFriendIsOnline:mp,getCurrentFriendIsCurrentlyPlayingAGame:bp,getHasOnlyOnePlatform:Sp,getHasOwnedPlatforms:wp,getFriendsGamesPlayed:Pp,getFriendsGamesPlayedProfileIds:_p,getFriendsPlayingGame:Cp,getFriendsPlayingGameIds:Op,getUsersPlayingFriendGameIds:Ap,getFriendsPlayingGameNames:kp,getNbOfFriendsPlayingGame:xp,getFriendUserProfiles:Ip,hasLastPlayedGameStats:jp,getGameStats:Lp,getLastPlayedGameStats:Ep,getFrindsStatsByPlatform:Fp,getLastPlayedGameStatsWithRank:Gp,getGameStatsToCompareWithAFriend:Tp,getLoadedFriendGames:Rp,getHasOnlyOneGame:Np,getOnlyGamePlayed:Up,getFriendPlayedAppIds:Dp,getFriendPlayedSpaceIdsFromGamesPlayed:(0,I.P1)("FriendProfileQueries.getMyPlayedSpaceIdsFromGamesPlayed",vn.getSpaceIdsByUserId,Ci.getCurrentFriendId,(),getFriendPlayedSpaceIds:(0,I.P1)("FriendProfileQueries.getFriendPlayedSpaceIds",Dp,Zi.getByAppId,(function(e,t){return e.length?e.filter((function(e){return!!t[e]})).map((function(e){return t[e].spaceId})):[]})),getPlatformTypeByPlatformCode:(0,I.P1)("FriendProfileQueries.getPlatformTypeByPlatformCode",$t.getPlatformsByApplicationId,(function(e,t){return t.platformCode}),(function(e,t){return(0,s.find)(e,(function(e){return e.displayName==t}))?(0,s.find)(e,(function(e){return e.displayName==t})).type:"PC"})),getGameNameByGameId:(0,I.P1)("FriendProfileQueries.getGameNameByGameId",(function(e,t){return t.gameId}),$t.getByInstallmentSpaceId,$t.getBySpaceId,(function(e,t,r){return t[e]&&r[t[e]]?r[t[e]].title:null})),getPlatformNameByAppId:(0,I.P1)("FriendProfileQueries.getPlatformNameByAppId",(function(e,t){return t.appId}),$t.getPlatformsByApplicationId,(),getHasNoSessionData:(0,I.P1)("OtherGamesCarouselQueries.getHasNoSessionData",vn.getApplicationsByUserId,vn.getApplicationsByApplicationId,Ci.getCurrentFriendId,(function(e,t,r){return!e[r]&&e[r].every((function(e){return null===t[e].sessionsCount&&null===t[e].firstPlayed.createdAt&&null===t[e].firstPlayed.countryCode&&null===t[e].lastPlayed.updatedAt&&null===t[e].firstPlayed.countryCode}))}))};function AllSettledService_typeof(e){return AllSettledService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AllSettledService_typeof(e)}function AllSettledService_regeneratorRuntime(){AllSettledService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==AllSettledService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function AllSettledService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function AllSettledService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Bp,Vp=r(79678),Wp=injectableForJs([])(Qd=function(){ar e;return function AllSettledService_createClass(e,t,r){return t&&AllSettledService_defineProperties(e.prototype,t),r&&AllSettledService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(AllSettledService,[{key:"allSettled",value:(e=function AllSettledService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){AllSettledService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){AllSettledService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(AllSettledService_regeneratorRuntime().mark((function _callee(e){var t;return AllSettledService_regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Vp(e);case 2:return t=r.sent,r.abrupt("return",t.filter(().map((function(e){return e.result})));case 4:case"end":return r.stop()}}),_callee)}))),function allSettled(t){return e.apply(this,arguments)})}]),AllSettledService}())||Qd;function GamesService_typeof(e){return GamesService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GamesService_typeof(e)}function GamesService_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function GamesService_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GamesService_ownKeys(Object(r),!0).forEach((function(t){GamesService_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GamesService_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function GamesService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GamesService_regeneratorRuntime(){GamesService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==GamesService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}unction GamesService_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GamesService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function GamesService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){GamesService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){GamesService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function GamesService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GamesService_setPrototypeOf(e,t){return GamesService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},GamesService_setPrototypeOf(e,t)}function GamesService_createSuper(e){var t=function GamesService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=GamesService_getPrototypeOf(e);if(t){var o=GamesService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return GamesService_possibleConstructorReturn(this,r)}}function GamesService_possibleConstructorReturn(e,t){if(t&&("object"===GamesService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function GamesService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function GamesService_getPrototypeOf(e){return GamesService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},GamesService_getPrototypeOf(e)}r(83704);var Hp,qp=injectableForJs([Ud,cf,Md,zd,Wp])(Bp=function(e){!function GamesService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GamesService_setPrototypeOf(e,t)}(GamesService,e);var t,r,n,o,i,c,l,u,f,d,p,h=GamesService_createSuper(GamesService);function GamesService(e,t,r,n,o){var i;return function GamesService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GamesService),(i=h.call(this)).statsApi=e,i.profilesService=t,i.gamesApi=r,i.applicationsService=n,i.allSettledService=o,i}return function GamesService_createClass(e,t,r){return t&&GamesService_defineProperties(e.prototype,t),r&&GamesService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(GamesService,[{key:"loadUbisoftGamesBySpaceIds",value:(p=GamesService_asyncToGenerator(GamesService_regeneratorRuntime().mark((function _callee(e){var t,r,n,o,i,s,c,l,u,f,d=this;return GamesService_regeneratorRuntime().wrap((function _callee$(p){for(;;)switch(p.prev=p.next){case 0:if(this.dispatch(new Pr(!0)),(e=GamesService_toConsumableArray(e.filter((function(e){return Ft.isExpired($t.getExpiration(d.getState())[e],af)})))).length){p.next=5;break}return this.dispatch(new Pr(!1)),p.abrupt("return");case 5:return t=[],r={},n={},o={},i={},s={},c={},l={},u=[],f=this.mapExpirationBySpaceIds(e,0),p.prev=15,p.next=18,this.gamesApi.getUbisoftGamesListBySpaceId(e);case 18:return t=p.sent,this.mapGames(t,r,u,n,o,i,c,l,s,f),this.dispatch(new Kt(r,n,o,i,s,c,l,u,this.mapExpirationBySpaceIds(e,a()().unix()))),p.abrupt("return",Promise.resolve([]));case 24:return p.prev=24,p.t0=p.catch(15),this.dispatch(new Kt({},{},{},{},{},{},{},[],f)),p.abrupt("return",Promise.reject(p.t0));case 28:case"end":return p.stop()}}),_callee,this,[[15,24]])}))),function loadUbisoftGamesBySpaceIds(e){return p.apply(this,arguments)})},{key:"loadUbisoftGamesCatalog",value:(d=GamesService_asyncToGenerator(GamesService_regeneratorRuntime().mark((function _callee2(){var e,t,r,n,o,i,s,c,l,u,f;return GamesService_regeneratorRuntime().wrap((function _callee2$(d){for(;;)switch(d.prev=d.next){case 0:if(e=$t.getExpiration(this.getState()).all?$t.getExpiration(this.getState()).all:0,Ft.isExpired(e,sf)){d.next=4;break}return this.dispatch(new Pr(!1)),d.abrupt("return");case 4:return t=[],r={},n={},o={},i={},s={},c={},l={},u=[],f={},d.prev=14,d.next=17,this.gamesApi.getUbisoftGamesList();case 17:return t=d.sent,this.mapGames(t,r,u,n,o,i,c,l,s,f),this.dispatch(new Kt(r,n,o,i,s,c,l,u,GamesService_objectSpread({all:a()().unix()},f))),d.abrupt("return",Promise.resolve([]));case 23:return d.prev=23,d.t0=d.catch(14),this.dispatch(new Kt({},{},{},{},{},{},{},[],{all:0})),d.abrupt("return",Promise.reject(d.t0));case 27:case"end":return d.stop()}}),_callee2,this,[[14,23]])}))),function loadUbisoftGamesCatalog(){return d.apply(this,arguments)})},{key:"mapExpirationBySpaceIds",value:function mapExpirationBySpaceIds(e,t){return e.map(().reduce((function(e,t){return GamesService_objectSpread(GamesService_objectSpread({},e),t)}))}},{key:"mapGamePlatforms",value:function mapGamePlatforms(e,t,r,n,o){e.platforms.forEach((function(i){t[i.applicationId]=i,r[i.applicationId]={parentSpaceId:o.spaceId,siblingSpaceId:e.spaceId},n[o.spaceId]?n[o.spaceId].push(i.applicationId):n[o.spaceId]=[i.applicationId]}))}},{key:"mapGames",value:function mapGames(e,t,r,n,o,i,s,c,l,u){var f=this;e.forEach((function(e){t[e.spaceId]={id:e.installmentSpaceId,title:e.displayName,installmentId:e.installmentSpaceId,cleanUrl:e.displayName,thumbUrl:e.imageUrls[Vd],publishedAt:e.releaseAt,coverUrl:e.imageUrls[Bd],spaceId:e.spaceId,links:e.linkUrls,installmentDefault:e.installmentDefault},r.push(e.spaceId),u[e.spaceId]=a()().unix(),f.mapGamePlatforms(e,n,o,i,e),e.siblingGames.forEach((function(t){s[t.spaceId]=e.spaceId,c[e.spaceId]?c[e.spaceId].push(t.spaceId):c[e.spaceId]=[t.spaceId],f.mapGamePlatforms(t,n,o,i,e)})),l[e.installmentSpaceId]=e.spaceId}))}},{key:"loadMyGames",value:(f=GamesService_asyncToGenerator(GamesService_regeneratorRuntime().mark((function _callee3(){return GamesService_regeneratorRuntime().wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadGamesPlayed(vl.getUserId(this.getState()),!0);case 2:return e.next=4,this.applicationsService.loadApplicationsByAppIds(rd.getMyPlayedAppIds(this.getState()));case 4:return e.next=6,this.loadUbisoftGamesCatalog();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),_callee3,this)}))),function loadMyGames(){return f.apply(this,arguments)})},{key:"loadGamesByUserId",value:(u=GamesService_asyncToGenerator(GamesService_regeneratorRuntime().mark((function _callee4(e){var t;return GamesService_regeneratorRuntime().wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.loadGamesPlayed(e,!1);case 2:return r.next=4,this.applicationsService.loadApplicationsByAppIds(Mp.getFriendPlayedAppIds(this.getState()));case 4:return t=(0,s.uniq)(Mp.getFriendPlayedSpaceIds(this.getState()).concat(Mp.getFriendPlayedSpaceIdsFromGamesPlayed(this.getState()))),r.next=7,this.loadUbisoftGamesBySpaceIds(t);case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}}),_callee4,this)}))),function loadGamesByUserId(e){return u.apply(this,arguments)})},{key:"loadGamesPlayed",value:(l=GamesService_asyncToGenerator(GamesService_regeneratorRuntime().mark((function _callee5(e,t){var r,n,o,i,s,c,l,u,f,d;return GamesService_regeneratorRuntime().wrap((function _callee5$(p){for(;;)switch(p.prev=p.next){case 0:if(r=vn.getExpiration(this.getState())[e]?vn.getExpiration(this.getState())[e]:0,Ft.isExpired(r,af)){p.next=4;break}return this.dispatch(new Sr({},{},{},{},{},[],[],{},{})),p.abrupt("return");case 4:if(n=[],o={},i={},s={},c=GamesService_defineProperty({},e,[]),l=GamesService_defineProperty({},e,[]),u=[],f=[],d=GamesService_defineProperty({},e,{}),p.prev=13,!t){p.next=20;break}return p.next=17,this.gamesApi.getMyGamesPlayed();case 17:n=p.sent,p.next=23;break;case 20:return p.next=22,this.gamesApi.getGamesPlayedByProfilesIds(Xu(this.getState(),{friendId:e}));case 22:n=p.sent;case 23:return n.forEach((function(t){o[t.spaceId]=t,u.push(t.spaceId),l[e]?l[e].push(t.spaceId):l[e]=[t.spaceId],t.applications.forEach((function(r){i[r.applicationId]=r,s[r.applicationId]=t.spaceId,f.push(r.applicationId),d[e][r.applicationId]=r.lastPlayed.updatedAt,c[e]?-1===c[e].indexOf(r.applicationId)&&c[e].push(r.applicationId):c[e]=[r.applicationId]}))})),this.dispatch(new Sr(o,i,s,c,l,u,f,d,GamesService_defineProperty({},e,a()().unix()))),p.abrupt("return",Promise.resolve([]));case 28:return p.prev=28,p.t0=p.catch(13),this.dispatch(new Sr({},{},{},{},{},[],[],{},GamesService_defineProperty({},e,0))),p.abrupt("return",Promise.reject(p.t0));case 32:case"end":return p.stop()}}),_callee5,this,[[13,28]])}))),function loadGamesPlayed(e,t){return l.apply(this,arguments)})},{key:"loadMyLastPlayedGameStatsWithFriends",value:(c=GamesService_asyncToGenerator(GamesService_regeneratorRuntime().mark((function _callee6(e){var t,r;return GamesService_regeneratorRuntime().wrap((function _callee6$(n){for(;;)switch(n.prev=n.next){case 0:return t=rd.getMyUserIdByLastPlayedGamePlatform(this.getState()),r=vl.getUserId(this.getState()),n.next=4,this.loadLastPlayedGameStatsCard(e,t,r);case 4:return n.next=6,this.loadFriendsPlayedGameStats();case 6:case"end":return n.stop()}}),_callee6,this)}))),function loadMyLastPlayedGameStatsWithFriends(e){return c.apply(this,arguments)})},{key:"loadMyLastPlayedGameStatsCard",value:(i=GamesService_asyncToGenerator(GamesService_regeneratorRuntime().mark((function _callee7(){var e,t,r;return GamesService_regeneratorRuntime().wrap((function _callee7$(n){for(;;)switch(n.prev=n.next){case 0:return e=rd.getMyUserIdByLastPlayedGamePlatform(this.getState()),t=rd.getCurrentLastPlayedGameSpaceId(this.getState()),r=vl.getUserId(this.getState()),n.next=5,this.loadLastPlayedGameStatsCard(t,e,r);case 5:case"end":return n.stop()}}),_callee7,this)}))),function loadMyLastPlayedGameStatsCard(){return i.apply(this,arguments)})},{key:"loadFriendLastPlayedGameStatsCard",value:(o=GamesService_asyncToGenerator(GamesService_regeneratorRuntime().mark((function _callee8(e,t,r){return GamesService_regeneratorRuntime().wrap((function _callee8$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadLastPlayedGameStatsCard(e,t,r);case 2:case"end":return n.stop()}}),_callee8,this)}))),function loadFriendLastPlayedGameStatsCard(e,t,r){return o.apply(this,arguments)})},{key:"loadLastPlayedGameStatsCard",value:(n=GamesService_asyncToGenerator(GamesService_regeneratorRuntime().mark((function _callee9(e,t,r){var n,o,i,s,c,l,u,f,d,p,h;return GamesService_regeneratorRuntime().wrap((function _callee9$(y){for(;;)switch(y.prev=y.next){case 0:if(n=t||rd.getMyUserIdByLastPlayedGamePlatform(this.getState()),o=e||rd.getCurrentLastPlayedGameSpaceId(this.getState()),i=rd.getCurrentLastPlayedGameInstallmentDefaultSpaceId(this.getState(),{spaceId:o}),s=[],c={},l={},u=[],$t.getBySpaceId(this.getState())[o]||$t.getBySiblingSpaceId(this.getState())[o]){y.next=11;break}return this.dispatch(new or({},{},[],{})),this.dispatch(new ur({},{})),y.abrupt("return");case 11:if(f={},y.prev=12,d=[],p=mn.getExpiration(this.getState())[n]&&mn.getExpiration(this.getState())[n][o]?mn.getExpiration(this.getState())[n][o]:0,Ft.isExpired(p,af)&&(d.push(this.statsApi.getStatsCard(o,n)),f[n]?f[n][o]=a()().unix():f[n]=GamesService_defineProperty({},o,a()().unix())),i&&i!=o&&(h=mn.getExpiration(this.getState())[r]&&mn.getExpiration(this.getState())[r][i]?mn.getExpiration(this.getState())[r][i]:0,Ft.isExpired(h,af)&&(d.push(this.statsApi.getStatsCard(i,r)),f[r]?f[r][i]=a()().unix():f[r]=GamesService_defineProperty({},i,a()().unix()))),!d.length){y.next=21;break}return y.next=20,this.allSettledService.allSettled(d);case 20:s=y.sent;case 21:y.next=27;break;case 23:return y.prev=23,y.t0=y.catch(12),this.dispatch(new or(c,l,u,f)),y.abrupt("return");case 27:s.forEach((function(e){e.forEach((function(e){u.push(e.statName),l[e.spaceId]?l[e.spaceId].push(e.statName):l[e.spaceId]=[e.statName];var t=Rd.computeGameStatsValue(e.value,e.format,e.unit,e.statName);c[e.userId]||(c[e.userId]=GamesService_defineProperty({},e.spaceId,{})),c[e.userId][e.spaceId]||(c[e.userId]=GamesService_objectSpread(GamesService_objectSpread({},c[e.userId]),{},GamesService_defineProperty({},e.spaceId,{}))),c[e.userId][e.spaceId]=GamesService_objectSpread(GamesService_objectSpread({},c[e.userId][e.spaceId]),{},GamesService_defineProperty({},e.statName,{id:e.statName,formattedValue:t,iconUrl:null,name:e.displayName,ordinal:e.ordinal,profileId:e.userId,spaceId:e.spaceId,value:e.value,format:e.format,unit:e.unit,statName:e.statName,semantic:e.semantic}))}))})),this.dispatch(new or(c,l,u,f));case 29:case"end":return y.stop()}}),_callee9,this,[[12,23]])}))),function loadLastPlayedGameStatsCard(e,t,r){return n.apply(this,arguments)})},{key:"loadFriendsPlayedGameStats",value:(r=GamesService_asyncToGenerator(GamesService_regeneratorRuntime().mark((function _callee10(){var e,t,r,n;return GamesService_regeneratorRuntime().wrap((function _callee10$(o){for(;;)switch(o.prev=o.next){case 0:return e=rd.getIsOwnedCurrentGame(this.getState()),t=ad.getFriendsPlayingIds(this.getState()),r=rd.getMyLastPlayedGamePlatforms(this.getState()),n=rd.getCurrentLastPlayedGameInstallmentDefaultSpaceId(this.getState()),o.next=6,this.loadFriendGameStatsCommon(e,t,r,n);case 6:case"end":return o.stop()}}),_callee10,this)}))),function loadFriendsPlayedGameStats(){return r.apply(this,arguments)})},{key:"loadFriendGameStatsCommon",value:(t=GamesService_asyncToGenerator(GamesService_regeneratorRuntime().mark((function _callee11(e,t,r,n){var o,i,c,l,u,f,d,p,h=this;return GamesService_regeneratorRuntime().wrap((function _callee11$(y){for(;;)switch(y.prev=y.next){case 0:if(o={},i=[],e&&!(t.length<=0)){y.next=5;break}return this.dispatch(new ur(o,{})),y.abrupt("return");case 5:return y.prev=5,y.next=8,this.profilesService.loadFriendsProfilesByIds(t);case 8:i=y.sent,y.next=15;break;case 11:return y.prev=11,y.t0=y.catch(5),this.dispatch(new ur(o,{})),y.abrupt("return");case 15:if(c=(0,s.filter)(i,(),l=(0,s.mapValues)((0,s.groupBy)(c,"platformType"),(function(e){return(0,s.mapValues)((0,s.mapKeys)(e,(function(e){return e.profileId})),(function(e){return e.userId}))})),u={},r.forEach((function(e){var r=[],n=l[rd.getProfilePlatformCode(e.type,al)];if(n&&(r=Object.keys(n)).length<t.length){var o=(0,s.filter)(l[al],(function(e){return!(0,s.find)(n,(function(t){return t==e}))}));o.length&&(r=r.concat(o))}r.length>0&&(u[$t.getByPlatformApplicationId(h.getState())[e.applicationId].siblingSpaceId]=r)})),n&&(u[n]=t),f=[],d={},(0,s.forEach)(u,(function(e,t){var r=e.sort().join(","),n=mn.getFriendsExpiration(h.getState())[r]&&mn.getFriendsExpiration(h.getState())[r][t]?mn.getFriendsExpiration(h.getState())[r][t]:0;Ft.isExpired(n,af)&&(f.push(h.statsApi.getStatsByProfileIds(t,e)),d[r]?d[r][t]=a()().unix():d[r]=GamesService_defineProperty({},t,a()().unix()))})),!(f.length>0)){y.next=36;break}return p=[],y.prev=25,y.next=28,this.allSettledService.allSettled(f);case 28:p=y.sent,y.next=35;break;case 31:return y.prev=31,y.t1=y.catch(25),this.dispatch(new ur(o,{})),y.abrupt("return");case 35:p.forEach((function(e){e.forEach(()}));case 36:this.dispatch(new ur(o,d));case 37:case"end":return y.stop()}}),_callee11,this,[[5,11],[25,31]])}))),function loadFriendGameStatsCommon(e,r,n,o){return t.apply(this,arguments)})}]),GamesService}(ol))||Bp;function PageLoaderService_typeof(e){return PageLoaderService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PageLoaderService_typeof(e)}function PageLoaderService_regeneratorRuntime(){PageLoaderService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==PageLoaderService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function PageLoaderService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function PageLoaderService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){PageLoaderService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){PageLoaderService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function PageLoaderService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PageLoaderService_setPrototypeOf(e,t){return PageLoaderService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},PageLoaderService_setPrototypeOf(e,t)}function PageLoaderService_createSuper(e){var t=function PageLoaderService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=PageLoaderService_getPrototypeOf(e);if(t){var o=PageLoaderService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return PageLoaderService_possibleConstructorReturn(this,r)}}function PageLoaderService_possibleConstructorReturn(e,t){if(t&&("object"===PageLoaderService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function PageLoaderService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function PageLoaderService_getPrototypeOf(e){return PageLoaderService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},PageLoaderService_getPrototypeOf(e)}var zp,Qp=injectableForJs([])(Hp=function(e){!function PageLoaderService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PageLoaderService_setPrototypeOf(e,t)}(PageLoaderService,e);var t,r,n=PageLoaderService_createSuper(PageLoaderService);function PageLoaderService(){return function PageLoaderService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PageLoaderService),n.call(this)}return function PageLoaderService_createClass(e,t,r){return t&&PageLoaderService_defineProperties(e.prototype,t),r&&PageLoaderService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(PageLoaderService,[{key:"showPageLoader",value:(r=PageLoaderService_asyncToGenerator(PageLoaderService_regeneratorRuntime().mark((function _callee(){return PageLoaderService_regeneratorRuntime().wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return this.dispatch(new ra(na.getShowPageLoader(this.getState()),!0)),e.next=3,new Promise((function(e){return setTimeout((function(){return e()}),1)}));case 3:return this.dispatch(new ra(!0,na.getDisplayPageLoader(this.getState()))),e.abrupt("return",new Promise((function(e){return setTimeout((function(){return e()}),200)})));case 5:case"end":return e.stop()}}),_callee,this)}))),function showPageLoader(){return r.apply(this,arguments)})},{key:"hidePageLoader",value:(t=PageLoaderService_asyncToGenerator(PageLoaderService_regeneratorRuntime().mark((function _callee2(){return PageLoaderService_regeneratorRuntime().wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return this.dispatch(new ra(!1,na.getDisplayPageLoader(this.getState()))),e.next=3,new Promise((function(e){return setTimeout((function(){return e()}),200)}));case 3:return this.dispatch(new ra(na.getShowPageLoader(this.getState()),!1)),e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}}),_callee2,this)}))),function hidePageLoader(){return t.apply(this,arguments)})}]),PageLoaderService}(ol))||Hp;function IntegratorConfigurationService_typeof(e){return IntegratorConfigurationService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IntegratorConfigurationService_typeof(e)}function IntegratorConfigurationService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IntegratorConfigurationService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IntegratorConfigurationService_setPrototypeOf(e,t){return IntegratorConfigurationService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},IntegratorConfigurationService_setPrototypeOf(e,t)}function IntegratorConfigurationService_createSuper(e){var t=function IntegratorConfigurationService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=IntegratorConfigurationService_getPrototypeOf(e);if(t){var o=IntegratorConfigurationService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return IntegratorConfigurationService_possibleConstructorReturn(this,r)}}function IntegratorConfigurationService_possibleConstructorReturn(e,t){if(t&&("object"===IntegratorConfigurationService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function IntegratorConfigurationService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function IntegratorConfigurationService_getPrototypeOf(e){return IntegratorConfigurationService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},IntegratorConfigurationService_getPrototypeOf(e)}var Yp=injectableForJs([])(zp=function(e){!function IntegratorConfigurationService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IntegratorConfigurationService_setPrototypeOf(e,t)}(IntegratorConfigurationService,e);var t=IntegratorConfigurationService_createSuper(IntegratorConfigurationService);function IntegratorConfigurationService(){return IntegratorConfigurationService_classCallCheck(this,IntegratorConfigurationService),t.apply(this,arguments)}return function IntegratorConfigurationService_createClass(e,t,r){return t&&IntegratorConfigurationService_defineProperties(e.prototype,t),r&&IntegratorConfigurationService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(IntegratorConfigurationService,[{key:"loadConfiguration",value:function loadConfiguration(e){this.dispatch(new de(e))}}]),IntegratorConfigurationService}(ol))||zp;function loadScript(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;return new Promise((function(r,n){var o=document.createElement("script"),i=document.getElementsByTagName("script")[0];o.async=1,i.parentNode.insertBefore(o,i);var a=!1,s=setTimeout((function(){a||n()}),t);o.onload=o.onreadystatechange=function(e,t){(t||!o.readyState||/loaded|complete/.test(o.readyState))&&(o.onload=o.onreadystatechange=null,o=void 0,t||(a=!0,clearTimeout(s),r()))},o.src=e}))}var Xp="UBI_PRIVACY_POLICY_VIEWED",Kp="UBI_PRIVACY_POLICY_ACCEPTED",$p="UBI_PRIVACY_AA_OPTOUT",Jp="UBI_PRIVACY_ADS_OPTOUT",Zp="UBI_PRIVACY_CUSTOMIZATION_OPTOUT",eh="UBI_PRIVACY_VIDEO_OPTOUT",th="TC_OPTOUT_SDK";function getCookie(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n+=1){for(var o=r[n];" "===o.charAt(0);)o=o.substring(1);if(-1!==o.indexOf(t))return o.substring(t.length,o.length)}return""}function AnalyticsService_typeof(e){return AnalyticsService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AnalyticsService_typeof(e)}function AnalyticsService_regeneratorRuntime(){AnalyticsService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==AnalyticsService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function AnalyticsService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function AnalyticsService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){AnalyticsService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){AnalyticsService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function AnalyticsService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var rh,nh=function(){function AnalyticsService(e,t,r){!function AnalyticsService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AnalyticsService),this.store=e,this.ipLocationService=t,this.debugService=r,this.currentPageName=null,this.currentSiteSubSection=null,this.cookieExpiration=null,this.tcWindow=window}var e,t,r;return function AnalyticsService_createClass(e,t,r){return t&&AnalyticsService_defineProperties(e.prototype,t),r&&AnalyticsService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(AnalyticsService,[{key:"enableDebug",value:,{key:"setDebug",value:function setDebug(e){this.debugService.setDebug(e)}},{key:"canRun",value:function canRun(){return"undefined"!=typeof window}},{key:"boot",value:(r=AnalyticsService_asyncToGenerator(AnalyticsService_regeneratorRuntime().mark((function _callee(){var e,t,r,n;return AnalyticsService_regeneratorRuntime().wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:if(this.canRun()){o.next=3;break}return this.debugService.log("[Ubisoft Analytics] Cannot boot since cannot run."),o.abrupt("return",new Promise((function(e){return e()})));case 3:return o.prev=3,o.next=6,this.ipLocationService.loadIpLocation();case 6:this.setCookieExpiration(),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(3),this.debugService.error(o.t0);case 12:return e=me.getCurrentLocale(this.store.getState())?me.getCurrentLocale(this.store.getState()):pt.getLocaleCode(this.store.getState()),t=Ku(this.store.getState())?Ku(this.store.getState()):e?e.split("-")[1]:"GB",r="prod"===Ft.getEnv(this.store.getState())?"prod":"uat",n=vl.hasIdentity(this.store.getState()),this.tcWindow.wa_data={siteName:pt.getTrackingSiteName(this.store.getState()),siteType:pt.getTrackingSiteType(this.store.getState()),environment:r,siteSection:pt.getTrackingSiteSection(this.store.getState()),siteSubSection:"user tab",pageName:vl.hasIdentity(this.store.getState())?"all pages":"player card",country:t,language:e?e.split("-")[0]:"en",genomeId:pt.getGenomeId(this.store.getState()),appId:pt.getApplicationId(this.store.getState()),ubisoftId:n?vl.getUserId(this.store.getState()):null,disableMedia:!0},o.prev=17,o.next=20,loadScript("".concat(Ft.getAnalyticsSdkUrl(this.store.getState()),"?t=").concat((new Date).getTime()),1e3);case 20:this.debugService.log("[Ubisoft Analytics] Loaded script: ".concat(Ft.getAnalyticsSdkUrl(this.store.getState()))),window.adobeAnalytics?window.adobeAnalytics.init(this.tcWindow.wa_data):this.debugService.warn("[Ubisoft Analytics] THERE IS NO window.adobeAnalytics"),o.next=27;break;case 24:o.prev=24,o.t1=o.catch(17),this.debugService.log("[Ubisoft Analytics] Failed to loaded script");case 27:return o.abrupt("return",new Promise((function(e){return e()})));case 28:case"end":return o.stop()}}),_callee,this,[[3,9],[17,24]])}))),function boot(){return r.apply(this,arguments)})},{key:"setCookieExpiration",value:function setCookieExpiration(){this.cookieExpiration=Zu(this.store.getState())?365:730,this.debugService.log("[Ubisoft Analytics] Cookie Expiration: ".concat(this.cookieExpiration," days"))}},{key:"trackEvent",value:function trackEvent(e,t,r,n,o){if(this.canRun())if(this.tcWindow.adobeAnalytics){this.debugService.log("[Ubisoft Analytics] Start tracking click: ".concat(r," - ").concat(n," - ").concat(o));try{e===this.currentSiteSubSection&&t===this.currentPageName||this.trackPage(e,t),this.tcWindow.adobeAnalytics.track("clickevent",{action:o,location:r,category:n})}catch(e){this.debugService.warn("[Ubisoft Analytics] Analytics click event error:"),this.debugService.warn(e)}}else this.debugService.warn("[Ubisoft Analytics] THERE IS NO window.adobeAnalytics")}},{key:"trackPage",value:function trackPage(e,t){if(this.canRun())if(this.tcWindow.adobeAnalytics){this.debugService.log("[Ubisoft Analytics] Start tracking page: ".concat(e," - ").concat(t));var r=me.getCurrentLocale(this.store.getState())?me.getCurrentLocale(this.store.getState()):pt.getLocaleCode(this.store.getState()),n=Ku(this.store.getState())?Ku(this.store.getState()):r?r.split("-")[1]:"GB";try{this.tcWindow.adobeAnalytics.track("pageevent",{siteName:pt.getTrackingSiteName(this.store.getState()),siteType:pt.getTrackingSiteType(this.store.getState()),siteSection:pt.getTrackingSiteSection(this.store.getState()),country:n,language:r?r.split("-")[0]:"en",ubisoftId:vl.hasIdentity(this.store.getState())?vl.getUserId(this.store.getState()):null,genomeId:pt.getGenomeId(this.store.getState()),errorType:null,siteSubSection:e,pageName:t}),this.currentPageName=t,this.currentSiteSubSection=e}catch(e){this.debugService.warn("[Ubisoft Analytics] Analytics page event error:"),this.debugService.warn(e)}}else this.debugService.warn("[Ubisoft Analytics] THERE IS NO window.adobeAnalytics")}},{key:"changeLanguage",value:function changeLanguage(){var e=me.getCurrentLocale(this.store.getState())?me.getCurrentLocale(this.store.getState()):pt.getLocaleCode(this.store.getState()),t=Ku(this.store.getState())?Ku(this.store.getState()):e?e.split("-")[1]:"GB";this.tcWindow.wa_data.country=t,this.tcWindow.wa_data.language=e?e.split("-")[0]:"en"}},{key:"setCookie",value:function setCookie(e,t,r,n){var o="",i="";if(r){var a=new Date;a.setTime(a.getTime()+24*r*60*60*1e3),o="; expires=".concat(a.toUTCString())}n&&(i="; domain=".concat(n,"; SameSite=None; Secure")),document.cookie="".concat(e,"=").concat(t||"").concat(o,"; path=/").concat(i)}},{key:"attachSCode",value:(t=AnalyticsService_asyncToGenerator(AnalyticsService_regeneratorRuntime().mark((function _callee2(){var e;return AnalyticsService_regeneratorRuntime().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.getSCodeScripUrl(),getCookie($p)||this.hasScript(e)||this.tcWindow.sCode){t.next=16;break}return t.prev=2,this.debugService.log("[Ubisoft Analytics] Attached sCode"),window.adobeAnalytics&&window.adobeAnalytics.init(this.tcWindow.wa_data),t.next=7,new Promise((function(e){return e()}));case 7:case 15:case 19:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(2),this.debugService.log("[Ubisoft Analytics] Failed to loaded attach sCode"),t.next=15,new Promise((function(e){return e()}));case 16:return this.debugService.log("[Ubisoft Analytics] sCode already attached"),t.next=19,new Promise(();case 20:case"end":return t.stop()}}),_callee2,this,[[2,10]])}))),function attachSCode(){return t.apply(this,arguments)})},{key:"detachSCode",value:function detachSCode(){if(this.tcWindow.s&&this.tcWindow.s.constructor&&"AppMeasurement"===this.tcWindow.s.constructor.name)return this.debugService.log("[Ubisoft Analytics] detached sCode"),this.tcWindow.s={},this.tcWindow.sCode=!1,void this.removeScript(this.getSCodeScripUrl());this.debugService.log("[Ubisoft Analytics] sCode already detached")}},{key:"getSCodeScripUrl",value:function getSCodeScripUrl(){var e="prod"===Ft.getEnv(this.store.getState())?"prod":"uat";return"https://ubistatic-a.ubisoft.com/0106/".concat(e,"/global/tracking/scode.js")}},{key:"removeScript",value:function removeScript(e){var t=document.querySelector('script[src="'.concat(e,'"]'));return t&&t.remove(),!1}},{key:"hasScript",value:function hasScript(e){return null!=document.querySelector('script[src="'.concat(e,'"]'))}},{key:"loadSCodeScript",value:(e=AnalyticsService_asyncToGenerator(AnalyticsService_regeneratorRuntime().mark((function _callee3(){var e,t,r,n,o,i,a;return AnalyticsService_regeneratorRuntime().wrap((function _callee3$(s){for(;;)switch(s.prev=s.next){case 0:if(e=getCookie(th),t=getCookie(Kp),r=getCookie($p),n=pt.getHasParentSiteTrackingIntegrate(this.store.getState()),o=pt.getHasParentSiteTcOptoutSdkCookieSet(this.store.getState()),i=pt.getHasParentSiteUbiPrivacyPolicyAcceptedCookieSet(this.store.getState()),a=pt.getHasParentSiteUbiPrivacyAaOptoutCookieSet(this.store.getState()),n){s.next=13;break}if(r||!e&&!t){s.next=12;break}return this.debugService.log("[Ubisoft Analytics] Load sCode script"),s.next=12,this.attachSCode();case 12:return s.abrupt("return");case 13:if(!a){s.next=15;break}return s.abrupt("return");case 15:if(!o&&!i||r){s.next=20;break}return this.debugService.log("[Ubisoft Analytics] Load sCode script"),window.adobeAnalytics&&window.adobeAnalytics.init(this.tcWindow.wa_data),s.next=20,this.attachSCode();case 20:case"end":return s.stop()}}),_callee3,this)}))),function loadSCodeScript(){return e.apply(this,arguments)})},{key:"getCookieExpiration",value:function getCookieExpiration(){return this.cookieExpiration}}]),AnalyticsService}(),oh="Locked",ih="Purchased",ah="LimitReached";function RewardsApi_typeof(e){return RewardsApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RewardsApi_typeof(e)}function RewardsApi_regeneratorRuntime(){RewardsApi_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==RewardsApi_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function RewardsApi_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function RewardsApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RewardsApi_setPrototypeOf(e,t){return RewardsApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},RewardsApi_setPrototypeOf(e,t)}function RewardsApi_createSuper(e){var t=function RewardsApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=RewardsApi_getPrototypeOf(e);if(t){var o=RewardsApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return RewardsApi_possibleConstructorReturn(this,r)}}function RewardsApi_possibleConstructorReturn(e,t){if(t&&("object"===RewardsApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function RewardsApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function RewardsApi_getPrototypeOf(e){return RewardsApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},RewardsApi_getPrototypeOf(e)}var sh,ch=injectableForJs([k])(rh=function(e){!function RewardsApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RewardsApi_setPrototypeOf(e,t)}(RewardsApi,e);var t,r=RewardsApi_createSuper(RewardsApi);function RewardsApi(e){var t;return function RewardsApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RewardsApi),(t=r.call(this)).httpService=e,t}return function RewardsApi_createClass(e,t,r){return t&&RewardsApi_defineProperties(e.prototype,t),r&&RewardsApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(RewardsApi,[{key:"getRewardsBySpaceId",value:(t=function RewardsApi_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){RewardsApi_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){RewardsApi_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(RewardsApi_regeneratorRuntime().mark((function _callee(e){var t;return RewardsApi_regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/spaces/").concat(e,"/global/ubiconnect/rewards/api")).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)).header("Ubi-LocaleCode",me.getCurrentLocale(this.getState())),r.abrupt("return",this.httpService.send(t).then((function(e){return e.data.rewards})));case 2:case"end":return r.stop()}}),_callee,this)}))),function getRewardsBySpaceId(e){return t.apply(this,arguments)})},{key:"getProfileRewardsByProfileIdAndSpaceId",value:function getProfileRewardsByProfileIdAndSpaceId(e,t){var r=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/profiles/").concat(e,"/global/ubiconnect/rewards/api")).query("spaceId",t).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)).header("Ubi-LocaleCode",me.getCurrentLocale(this.getState()));return this.httpService.send(r).then((function(e){return e.data.rewards}))}},{key:"getProfileRewardsByProfilesIdsAndSpaceId",value:function getProfileRewardsByProfilesIdsAndSpaceId(e,t){for(var r=this,n=e.slice(),o=[];n.length>0;){var i=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/profiles/global/ubiconnect/rewards/api")).query("profileIds",n.splice(0,20).join(",")).query("spaceId",t).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)).header("Ubi-LocaleCode",me.getCurrentLocale(this.getState()));o.push(i)}return Promise.all(o.map((function(e){return r.httpService.send(e)}))).then((function(e){return e.map((function(e){return e.data.rewards})).reduce((function(e,t){return e.concat(t)}),[])}))}},{key:"purchaseReward",value:function purchaseReward(e,t){var r=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/profiles/me/global/ubiconnect/rewards/api")).post().body(JSON.stringify({rewardId:e,spaceId:t})).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)).header("Content-Type","application/json").header("Ubi-LocaleCode",me.getCurrentLocale(this.getState()));return this.httpService.send(r).then((function(e){return e.data}))}}]),RewardsApi}(ol))||rh;function EconomyApi_typeof(e){return EconomyApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EconomyApi_typeof(e)}function EconomyApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function EconomyApi_setPrototypeOf(e,t){return EconomyApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},EconomyApi_setPrototypeOf(e,t)}function EconomyApi_createSuper(e){var t=function EconomyApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=EconomyApi_getPrototypeOf(e);if(t){var o=EconomyApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return EconomyApi_possibleConstructorReturn(this,r)}}function EconomyApi_possibleConstructorReturn(e,t){if(t&&("object"===EconomyApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function EconomyApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function EconomyApi_getPrototypeOf(e){return EconomyApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},EconomyApi_getPrototypeOf(e)}var lh=injectableForJs([k])(sh=function(e){!function EconomyApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EconomyApi_setPrototypeOf(e,t)}(EconomyApi,e);var t=EconomyApi_createSuper(EconomyApi);function EconomyApi(e){var r;return function EconomyApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EconomyApi),(r=t.call(this)).httpService=e,r}return function EconomyApi_createClass(e,t,r){return t&&EconomyApi_defineProperties(e.prototype,t),r&&EconomyApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(EconomyApi,[{key:"getProfileUnitsByProfileId",value:function getProfileUnitsByProfileId(e){var t=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/profiles/").concat(e,"/global/ubiconnect/economy/api/units")).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket));return this.httpService.send(t).then((function(e){return e.data})).catch((function(e){return e}))}}]),EconomyApi}(ol))||sh;function UserRewardsQueries_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function UserRewardsQueries_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UserRewardsQueries_ownKeys(Object(r),!0).forEach((function(t){UserRewardsQueries_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UserRewardsQueries_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function UserRewardsQueries_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var uh,fh=(0,I.P1)("UserRewardsQueries.getGameRewards",rd.getCurrentLastPlayedGameSpaceId,Pn.getById,Pn.getBySpaceId,(function(e,t,r){return r[e]&&r[e].length?r[e].map((function(e){return t[e]})):[]})),dh=(0,I.P1)("UserRewardsQueries.getRewardsOwned",fh,(function(e){return e.filter((function(e){return e.purchaseQuantity>0&&!!e.purchasedAt}))})),ph=(0,I.P1)("UserRewardsQueries.getNbRewardsOwned",dh,(function(e){return e.length})),hh=(0,I.P1)("UserRewardsQueries.getNbOfTotalRewards",fh,(function(e){return e.length})),yh=(0,I.P1)("UserRewardsQueries.getNbOfUnits",Pn.getUnitsByProfileId,vl.getUserId,(function(e,t){return e[t]})),gh=(0,I.P1)("UserRewardsQueries.getGameRewaredsRarities",fh,(function(e){return(0,s.uniqBy)(e.map((function(e){return e.rarity})),"id")})),vh=(0,I.P1)("UserRewardsQueries.getGameRewaredsRarities",gh,fh,(function(e,t){return e.map((function(e){var r=0,n=0;return t.forEach((function(t){t.rarity.id===e.id&&(r++,t.purchaseQuantity>0&&t.purchasedAt&&n++)})),UserRewardsQueries_objectSpread(UserRewardsQueries_objectSpread({},e),{},{nbOfRewards:r,nbOfRewardsOwned:n})}))})),mh=(0,I.P1)("UserRewardsQueries.getSingleRewardByRewardId",(function(e,t){return t.rewardId}),Pn.getById,(function(e,t){return t[e]?t[e]:null})),bh=(0,I.P1)("UserRewardsQueries.getRewardByOffset",(function(e,t){return t.offset}),fh,(function(e,t){return t[e]?t[e]:null})),Sh=(0,I.P1)("UserRewardsQueries.getRewardIdByOffset",bh,(function(e){return e?e.rewardId:null})),wh=(0,I.P1)("UserRewardsQueries.getRewardSpaceIdByOffset",bh,(function(e){return e?e.spaceId:null})),Ph=(0,I.P1)("UserRewardsQueries.getFriendsOwningReward",Ji.getRewardId,Pn.getProfileIdsByRewardId,Pn.getProfilesRewardsbyId,pt.getApplicationId,Ft.getAvatarsUrl,An.getById,ad.getFriendsGamesPlayedProfileIds,(function(e,t,r,n,o,i,a){return t[e]?(0,s.uniqBy)(t[e].filter((function(e){return!!i[e]})).filter((function(e){return-1!==a.indexOf(e)})).filter((function(t){return!!r["".concat(e,"__").concat(t)]&&r["".concat(e,"__").concat(t)].purchaseQuantity>0})).map((function(e){return{avatarUrl:"".concat(o,"/").concat(e,"/default_146_146.png?appId=").concat(n),userName:i[e].nameOnPlatform,userId:e}})),"userId"):[]})),_h={getGameRewards:fh,getRewardsOwned:dh,getNbRewardsOwned:ph,getNbOfTotalRewards:hh,getNbOfUnits:yh,getGameRewaredsRarityTipies:gh,getGameRewaredsRarityNumbers:vh,getSingleRewardByRewardId:mh,getRewardByOffset:bh,getRewardIdByOffset:Sh,getRewardSpaceIdByOffset:wh,getFriendsOwningReward:Ph,getHasFriendsOwningReward:(0,I.P1)("UserRewardsQueries.getHasFriendsOwningReward",Ph,(function(e){return e.length>0})),getNbFriendsOwningReward:(0,I.P1)("UserRewardsQueries.getNbFriendsOwningReward",Ph,(function(e){return e.length}))};function RewardsService_typeof(e){return RewardsService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RewardsService_typeof(e)}function RewardsService_regeneratorRuntime(){RewardsService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==RewardsService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function RewardsService_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function RewardsService_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RewardsService_ownKeys(Object(r),!0).forEach((function(t){RewardsService_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RewardsService_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function RewardsService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RewardsService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function RewardsService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){RewardsService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){RewardsService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function RewardsService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RewardsService_setPrototypeOf(e,t){return RewardsService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},RewardsService_setPrototypeOf(e,t)}function RewardsService_createSuper(e){var t=function RewardsService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=RewardsService_getPrototypeOf(e);if(t){var o=RewardsService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return RewardsService_possibleConstructorReturn(this,r)}}function RewardsService_possibleConstructorReturn(e,t){if(t&&("object"===RewardsService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function RewardsService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function RewardsService_getPrototypeOf(e){return RewardsService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},RewardsService_getPrototypeOf(e)}var Ch=injectableForJs([ch,lh])(uh=function(e){!function RewardsService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RewardsService_setPrototypeOf(e,t)}(RewardsService,e);var t,r,n,o=RewardsService_createSuper(RewardsService);function RewardsService(e,t){var r;return function RewardsService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RewardsService),(r=o.call(this)).rewardsApi=e,r.economyApi=t,r}return function RewardsService_createClass(e,t,r){return t&&RewardsService_defineProperties(e.prototype,t),r&&RewardsService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(RewardsService,[{key:"loadUserRewards",value:(n=RewardsService_asyncToGenerator(RewardsService_regeneratorRuntime().mark((function _callee(e){var t,r,n,o,i,c,l,u,f,d,p,h,y,g,v;return RewardsService_regeneratorRuntime().wrap((function _callee$(m){for(;;)switch(m.prev=m.next){case 0:if(t=vl.getUserId(this.getState()),r=[],n={},o=RewardsService_defineProperty({},e,[]),i=[],c=null,l=Pn.getExpiration(this.getState())[t]&&Pn.getExpiration(this.getState())[t][e]?Pn.getExpiration(this.getState())[t][e]:0,Ft.isExpired(l,af)){m.next=10;break}return this.dispatch(new nr(r,n,o,i,c,{})),m.abrupt("return");case 10:return m.prev=10,u=$t.getByPlatformApplicationId(this.getState()),f=null,d=null,p=null,(0,s.find)(u,(),h=[this.rewardsApi.getRewardsBySpaceId(e),this.economyApi.getProfileUnitsByProfileId(t),this.rewardsApi.getProfileRewardsByProfileIdAndSpaceId(t,e)],f&&(d=rd.getProfilePlatformCode($t.getPlatformsByApplicationId(this.getState())[f].type,al),p=dl[d]),m.next=20,Promise.all(h);case 20:y=m.sent,g=y[0],c=y[1]?RewardsService_defineProperty({},y[1].profileId,y[1].units):null,v=y[2]||[],r=g.filter((function(t){return t.spaceId===e})).map((function(r){i.push(r.rewardId);var a=v.find((function(n){return n.profileId===t&&n.spaceId===e&&n.rewardId===r.rewardId}));if(a){var s=RewardsService_objectSpread(RewardsService_objectSpread(RewardsService_objectSpread({},r),a),{},{profilePlatformCode:d,profilePlatformDisplayName:p});return n[r.rewardId]=RewardsService_objectSpread(RewardsService_objectSpread({},s),{},{profilePlatformCode:d,profilePlatformDisplayName:p}),o[r.spaceId]?o[r.spaceId].push(r.rewardId):o[r.spaceId]=[r.rewardId],s}var c=RewardsService_objectSpread(RewardsService_objectSpread({},r),{profileId:t,status:oh,purchaseQuantity:0,purchasedAt:"",profilePlatformCode:d,profilePlatformDisplayName:p});return n[r.rewardId]=c,o[r.spaceId]?o[r.spaceId].push(r.rewardId):o[r.spaceId]=[r.rewardId],c})),this.dispatch(new nr(r,n,o,i,c,RewardsService_defineProperty({},t,RewardsService_defineProperty({},e,a()().unix())))),m.next=32;break;case 28:m.prev=28,m.t0=m.catch(10),this.dispatch(new nr(r,n,o,i,c,RewardsService_defineProperty({},t,RewardsService_defineProperty({},e,0)))),console.error(m.t0);case 32:case"end":return m.stop()}}),_callee,this,[[10,28]])}))),function loadUserRewards(e){return n.apply(this,arguments)})},{key:"loadFriendsRewards",value:(r=RewardsService_asyncToGenerator(RewardsService_regeneratorRuntime().mark((function _callee2(e,t){var r,n,o,i,s,c,l,u=this;return RewardsService_regeneratorRuntime().wrap((function _callee2$(f){for(;;)switch(f.prev=f.next){case 0:if(r={},n={},o={},i={},[],s=rd.getGameAllSpaceIdsByParentSpaceId(this.getState(),{spaceId:t}),c=e.sort().join(","),l=Pn.getExpiration(this.getState())[c]&&Pn.getExpiration(this.getState())[c][t]?Pn.getExpiration(this.getState())[c][t]:0,this.dispatch(new wn(r,o,n,{},!1)),Ft.isExpired(l,af)){f.next=13;break}return this.dispatch(new wn(Pn.getProfilesRewardsbyId(this.getState()),Pn.getProfileIdsByRewardId(this.getState()),Pn.getByUserId(this.getState()),Pn.getExpiration(this.getState()),!0)),f.abrupt("return");case 13:return f.prev=13,i[c]=RewardsService_defineProperty({},t,a()().unix()),f.next=17,Promise.all(s.map(());case 17:f.sent.reduce((function(e,t){return e.concat(t)})).forEach((function(e){r["".concat(e.rewardId,"__").concat(e.profileId)]=e,n[e.profileId]?n[e.profileId].push(e.rewardId):n[e.profileId]=[e.rewardId],o[e.rewardId]?o[e.rewardId].push(e.profileId):o[e.rewardId]=[e.profileId]})),this.dispatch(new wn(r,o,n,i,!0)),f.next=26;break;case 23:f.prev=23,f.t0=f.catch(13),this.dispatch(new wn(r,o,n,RewardsService_defineProperty({},c,RewardsService_defineProperty({},t,0)),!0));case 26:case"end":return f.stop()}}),_callee2,this,[[13,23]])}))),function loadFriendsRewards(e,t){return r.apply(this,arguments)})},{key:"purchaseReward",value:(t=RewardsService_asyncToGenerator(RewardsService_regeneratorRuntime().mark((function _callee3(e,t){var r,n,o,i;return RewardsService_regeneratorRuntime().wrap((function _callee3$(s){for(;;)switch(s.prev=s.next){case 0:return this.dispatch(new Xi(e,!0,!1,!1)),s.prev=1,s.next=4,this.rewardsApi.purchaseReward(e,t);case 4:return r=vl.getUserId(this.getState()),n=_h.getSingleRewardByRewardId(this.getState(),{rewardId:e}),o=Pn.getRewards(this.getState()).filter((function(t){return t.rewardId==e})),i=Pn.getUnitsByProfileId(this.getState()),n=RewardsService_objectSpread(RewardsService_objectSpread({},n),{},{profileId:r,status:1===n.purchaseLimit?ah:ih,purchaseQuantity:n.purchaseQuantity+1,purchasedAt:a()().format()}),o.push(n),this.dispatch(new nr(o,RewardsService_objectSpread(RewardsService_objectSpread({},Pn.getById(this.getState())),RewardsService_defineProperty({},e,n)),Pn.getBySpaceId(this.getState()),Pn.getIds(this.getState()),RewardsService_objectSpread(RewardsService_objectSpread({},i),RewardsService_defineProperty({},r,i[r]-n.units)),RewardsService_defineProperty({},r,RewardsService_defineProperty({},t,0)))),this.dispatch(new Xi(e,!1,!0,!1)),s.next=14,new Promise((function(e){return setTimeout((function(){return e()}),2e3)}));case 14:this.dispatch(new Xi(e,!1,!1,!1)),s.next=21;break;case 17:s.prev=17,s.t0=s.catch(1),this.dispatch(new Xi(e,!1,!1,!0)),console.error(s.t0);case 21:case"end":return s.stop()}}),_callee3,this,[[1,17]])}))),function purchaseReward(e,r){return t.apply(this,arguments)})}]),RewardsService}(ol))||uh;function HtmlEvents_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Oh=function(){function HtmlEvents(){!function HtmlEvents_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HtmlEvents)}return function HtmlEvents_createClass(e,t,r){return t&&HtmlEvents_defineProperties(e.prototype,t),r&&HtmlEvents_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(HtmlEvents,null,[{key:"add",value:function add(e,t,r){return e.attachEvent?e.attachEvent("on"+t,r):e.addEventListener(t,r,!1)}},{key:"remove",value:function remove(e,t,r){return e.removeEvent?e.removeEvent("on"+t,r):e.removeEventListener(t,r)}}]),HtmlEvents}();function DebugService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ah="LOG",kh="INFO",xh="WARN",Ih="ERROR",jh=function(){function DebugService(e){!function DebugService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DebugService),this.debug=!1,this.debug=!1,null!=e&&(this.debug=e)}return function DebugService_createClass(e,t,r){return t&&DebugService_defineProperties(e.prototype,t),r&&DebugService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(DebugService,[{key:"enableDebug",value:function enableDebug(){this.debug=!0}},{key:"disableDebug",value:function disableDebug(){this.debug=!1}},{key:"setDebug",value:function setDebug(e){this.debug=e}},{key:"log",value:function log(e){this.consoleCall(e,Ah)}},{key:"info",value:function info(e){this.consoleCall(e,kh)}},{key:"warn",value:function warn(e){this.consoleCall(e,xh)}},{key:"error",value:,{key:"consoleCall",value:function consoleCall(e,t){var r=this;this.debug&&(e&&Array.isArray(e)?e.forEach(():this.switchByType(e,t))}},{key:"switchByType",value:function switchByType(e,t){if(e)switch(t){case Ah:console.log(e);break;case kh:console.info(e);break;case xh:console.warn(e);break;case Ih:console.error(e);break;default:console.log(e)}}}]),DebugService}();function ScriptLoaderService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Lh=function(){function ScriptLoaderService(){!function ScriptLoaderService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ScriptLoaderService)}return function ScriptLoaderService_createClass(e,t,r){return t&&ScriptLoaderService_defineProperties(e.prototype,t),r&&ScriptLoaderService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ScriptLoaderService,[{key:"loadScript",value:function loadScript(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;return new Promise((function(a,s){var c=r.scriptAlreadyLoaded(i&&i.length?i:[e]);if(c&&!o)return a();var l=document.getElementsByTagName("head")[0];c&&o&&l.removeChild(c);var u=document.createElement("script");u.setAttribute("id",t),u.async=1,l.appendChild(u);var f=!1,d=setTimeout((,n);u.onload=u.onreadystatechange=function(e,t){(t||!u.readyState||/loaded|complete/.test(u.readyState))&&(u.onload=u.onreadystatechange=null,u=void 0,t||(f=!0,clearTimeout(d),a()))},u.src=e}))}},{key:"scriptAlreadyLoaded",value:function scriptAlreadyLoaded(e){for(var t=document.getElementsByTagName("script"),r=null,n=function _loop(n){if(t.item(n).getAttribute("src")&&e.find((function(e){var r=e.split("://").length>1?e.split("://")[1]:e,o=t.item(n).getAttribute("src").split("://").length>1?t.item(n).getAttribute("src").split("://")[1]:t.item(n).getAttribute("src");return!(!r||!o)&&(-1!==o.indexOf(r)||-1!==r.indexOf(o))})))return r=t.item(n),"break"},o=0;o<t.length;o++){if("break"===n(o))break}return r}}]),ScriptLoaderService}();function UbisoftConnectService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Eh=function(){function UbisoftConnectService(e,t,r){!function UbisoftConnectService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UbisoftConnectService),this.debugService=e,this.config=t,this.integratorConfig=r,this.scriptsLoaded=!1,this.isInitialized=!1,this.getTicketTimeout=3e3,this.scriptsTimeout=3e4,this.jqueryUrl="https://code.jquery.com/jquery-2.2.4.min.js",this.scriptLoader=new Lh,this.localLogoutExpirationSeconds=30}return function UbisoftConnectService_createClass(e,t,r){return t&&UbisoftConnectService_defineProperties(e.prototype,t),r&&UbisoftConnectService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(UbisoftConnectService,[{key:"enableDebug",value:function enableDebug(){this.debugService.enableDebug()}},{key:"disableDebug",value:,{key:"changeScriptsTimeoutTo",value:function changeScriptsTimeoutTo(e){return this.scriptsTimeout=e,this}},{key:"changeGetTicketTimeout",value:,{key:"loadScripts",value:function loadScripts(){var e=this;if(this.scriptsLoaded)return this.debugService.log("[Ubisoft Connect] Scripts already loaded. Continue..."),Promise.resolve();if(!UbisoftConnectService.isBrowser())return this.debugService.log("[Ubisoft Connect] Cannot load scripts. Not in browser mode."),Promise.reject(null);var t=Promise.resolve();return window.jQuery||(this.debugService.log('[Ubisoft Connect] No jQuery present. Loading jquery from "'+this.jqueryUrl+'" ...'),t=this.scriptLoader.loadScript(this.jqueryUrl,"overlay-jquery",this.scriptsTimeout)),t.then((function(){return e.debugService.log(["[Ubisoft Connect] Loaded jQuery.","[Ubisoft Connect] Loading Connect JS."]),e.scriptLoader.loadScript("".concat(e.config.connectJsUrl,"?t=").concat(1700039194),"overlay-connectJs",e.scriptsTimeout,!1,["https://ubistatic2-a.ubisoft.com/uplay-connect/v3/test/default/sdk/connectSdkPublic.js","https://ubistatic2-a.ubisoft.com/uplay-connect/v3/dev/default/sdk/connectSdkPublic.js","https://ubistatic2-a.ubisoft.com/uplay-connect/v3/uat/default/sdk/connectSdkPublic.js","https://ubistatic2-a.ubisoft.com/uplay-connect/v3/cert2/default/sdk/connectSdkPublic.js","https://ubistatic2-a.ubisoft.com/uplay-connect/v3/prod/default/sdk/connectSdkPublic.js"]).then(().catch(()}))}},{key:"getLoginUrl",value:function getLoginUrl(e,t,r,n){getLoginUrl_getLoginUrl(this.config.loginUrl,this.config.connectEndpoint,{appId:this.integratorConfig.appId,genomeId:this.integratorConfig.genomeId,lang:t,nextUrl:e},r)}},{key:"initialize",value:function initialize(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!this.scriptsLoaded)throw new Error("You must first load the Ubisoft Connect scripts via the method loadScripts() before calling the 'initialize' method");return this.isInitialized?(this.debugService.log("[Ubisoft Connect] Initialized already. Continue..."),Promise.resolve()):UbisoftConnectService.isBrowser()?new Promise((function(i,a){var s=setTimeout((function(){t.debugService.log("[Ubisoft Connect] Cannot initialize for ".concat(o,". Tiemout exceeded.")),a("[Ubisoft Connect] Timeout exceeded")}),1e4);if(!window.Connect)return clearTimeout(s),t.debugService.log("[Ubisoft Connect] Connect does not exist"),a();if(window.Connect&&window.Connect._sdk&&window.Connect._sdk.sdkStatus&&window.Connect._sdk.sdkStatus.sdkReady){var c=window.Connect._sdk.configService.config.sender;return window.overlayConnectSDK=window.Connect._sdk,window.overlayConnectSDK.setAllConfig(t.config.connectEnv.toUpperCase(),t.integratorConfig.appId,t.integratorConfig.genomeId,t.integratorConfig.locale,e,r,n),window.overlayConnectSDK.configService.config.sender=c,clearTimeout(s),t.debugService.log("[Ubisoft Connect] Saved connect SDK obj "+o),t.isInitialized=!0,i()}if(t.debugService.log("[Ubisoft Connect] Initialize"),window.Connect.init({env:t.config.connectEnv.toUpperCase(),appId:t.integratorConfig.appId,genomeId:t.integratorConfig.genomeId,lang:t.integratorConfig.locale,nextUrl:e,thirdPartyCookiesSupport:r,localLoginExpirationMinutes:n}),!window.Connect.sdk||window.overlayConnectSDK)return clearTimeout(s),t.debugService.log("[Ubisoft Connect] connectSDK does not exist"),a();window.Connect.sdk.subscribe((function(e){return console.warn("window.Connect.sdk.subscribe"),console.warn(e),window.overlayConnectSDK=e,clearTimeout(s),t.debugService.log("[Ubisoft Connect] Subscribed and aved connect SDK obj for "+o),t.isInitialized=!0,i()}))})):(this.debugService.log("[Ubisoft Connect] Cannot initialize. Not in browser mode."),Promise.reject(null))}},{key:"getTicket",value:function getTicket(){var e=this;return UbisoftConnectService.isBrowser()?new Promise((function(t,r){var n=!1,o=setTimeout((function(){if(!n)return e.debugService.warn("[Ubisoft Connect] Get ticket timeout."),r({opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:e.getConnectSsoExpirationDate(60*e.config.localLoginExpirationMinutes*1e3)})}),e.getTicketTimeout);if(!window.overlayConnectSDK||!window.overlayConnectSDK.getTicket)return e.debugService.error("[Ubisoft Connect] Could not find getTicket."),r({opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:e.getConnectSsoExpirationDate(60*e.config.localLoginExpirationMinutes*1e3)});var i=window.overlayConnectSDK.getTicket();if(!i)return e.debugService.error("[Ubisoft Connect] Could not find getTicket."),r({opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:e.getConnectSsoExpirationDate(60*e.config.localLoginExpirationMinutes*1e3)});i.subscribe((function(i){return n=!0,clearTimeout(o),i&&i.status==Cl?(e.debugService.log(["[Ubisoft Connect] Got ticket",i]),t({opId:i.opId,status:i.status,sessionId:i.payload.sessionId,ticket:i.payload.ticket,token:i.payload.token,user_id:i.payload.userId,expiration:i.payload.expiration||i.expirationDate})):(e.debugService.log(["[Ubisoft Connect] Could not get ticket.",i]),r(i))}))})):(this.debugService.error("[Ubisoft Connect] Cannot getTicket. Not in browser mode."),Promise.reject(null))}},{key:"logout",value:function logout(e,t){var r=this;return UbisoftConnectService.isBrowser()?new Promise((function(n,o){var i=!1,a=setTimeout((,r.getTicketTimeout);if(!window.overlayConnectSDK||!window.overlayConnectSDK.logout)return r.debugService.log("[Ubisoft Connect] Could not find logout."),o(!1);window.overlayConnectSDK.logout(e,t).subscribe((function(e){if(e&&e.status==Cl)return i=!0,clearTimeout(a),r.debugService.log("[Ubisoft Connect] logout"),n(!0);o(!1)}))})):Promise.reject(null)}},{key:"resetScriptLoading",value:,{key:"getUserData",value:function getUserData(e,t,r,n){var o=this;return UbisoftConnectService.isBrowser()?new Promise((function(i,a){var s=!1,c=setTimeout((function(){s||(o.debugService.log("[Ubisoft Connect] Get user Data timeout."),n(null),a())}),o.getTicketTimeout);if(!window.overlayConnectSDK||!window.overlayConnectSDK.getUserStatus)return o.debugService.log("[Ubisoft Connect] Could not find getUserStatus."),n(null),a();window.overlayConnectSDK.getUserStatus(e,t,r).subscribe((function(e){return s=!0,clearTimeout(c),e&&e.status==Cl?(o.debugService.log(["[Ubisoft Connect] Got user data",e]),n(e),i(e)):(o.debugService.log(["[Ubisoft Connect] Could not get user data.",e]),n(e),a())}))})):(this.debugService.log("[Ubisoft Connect] Cannot getUserData. Not in browser mode."),Promise.reject(null))}},{key:"triggerEmailActivation",value:function triggerEmailActivation(e,t,r,n){var o=this;return UbisoftConnectService.isBrowser()?new Promise((function(i,a){var s=!1,c=setTimeout((function(){s||(o.debugService.log("[Ubisoft Connect] Triggered email activation timeout."),n(null),a())}),o.getTicketTimeout);if(!window.overlayConnectSDK||!window.overlayConnectSDK.triggerEmailActivation)return o.debugService.log("[Ubisoft Connect] Could not find triggerEmailActivation."),n(null),a();window.overlayConnectSDK.triggerEmailActivation(e,t,r).subscribe((function(e){return s=!0,clearTimeout(c),e&&e.status==Cl?(o.debugService.log(["[Ubisoft Connect] Triggered email activation",e]),n(e),i(e)):(o.debugService.log(["[Ubisoft Connect] Could not triggered email activation.",e]),n(e),a())}))})):(this.debugService.log("[Ubisoft Connect] Cannot triggerEmailActivation. Not in browser mode."),Promise.reject(null))}},{key:"setTicket",value:function setTicket(e){var t=this;return UbisoftConnectService.isBrowser()?new Promise((function(r,n){var o=!1,i=setTimeout((function(){o||(t.debugService.log("[Ubisoft Connect] Set ticket timeout."),n())}),t.getTicketTimeout);if(!window.overlayConnectSDK||!window.overlayConnectSDK.setTicket)return t.debugService.log("[Ubisoft Connect] Could not set ticket."),n();window.overlayConnectSDK.setTicket(e).subscribe((function(e){return o=!0,clearTimeout(i),e&&e.status==Cl?(t.debugService.log(["[Ubisoft Connect] Set ticket",e]),r({sessionId:e.payload.sessionId,ticket:e.payload.ticket,token:e.payload.token,user_id:e.payload.userId})):(t.debugService.log(["[Ubisoft Connect] Could not set ticket.",e]),n())}))})):(this.debugService.log("[Ubisoft Connect] Cannot setTicket. Not in browser mode."),Promise.reject(null))}},{key:"getProfiles",value:function getProfiles(e,t,r,n){var o=this;return UbisoftConnectService.isBrowser()?new Promise((function(i,a){var s=!1,c=setTimeout((function(){s||(o.debugService.log("[Ubisoft Connect] get profiles timeout."),n(null),a())}),o.getTicketTimeout);if(!window.overlayConnectSDK||!window.overlayConnectSDK.getProfiles)return o.debugService.log("[Ubisoft Connect] Could not get profiles."),n(null),a();window.overlayConnectSDK.getProfiles(e,t,r).subscribe((function(e){return s=!0,clearTimeout(c),e&&e.status==Cl?(o.debugService.log(["[Ubisoft Connect] Get profiles",e]),n(e),i(e)):(o.debugService.log(["[Ubisoft Connect] Could not get profiles.",e]),n(e),a(e))}))})):(this.debugService.log("[Ubisoft Connect] Cannot getProfiles. Not in browser mode."),Promise.reject(null))}},{key:"getTicketFromSsoId",value:function getTicketFromSsoId(){var e=this;return UbisoftConnectService.isBrowser()?new Promise((function(t,r){var n=setTimeout((function(){e.debugService.log("[Ubisoft Connect] get ticket from SSO ID timeout."),r({opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:e.getConnectSsoExpirationDate(60*e.config.localLoginExpirationMinutes*1e3)})}),e.getTicketTimeout);if(!window.overlayConnectSDK||!window.overlayConnectSDK.getTicketFromSsoId)return e.debugService.log("[Ubisoft Connect] Could not get ticket from SSO ID."),r({opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:e.getConnectSsoExpirationDate(60*e.config.localLoginExpirationMinutes*1e3)});window.overlayConnectSDK.getTicketFromSsoId((function(o){return clearTimeout(n),o&&o.status==Cl?(e.debugService.log(["[Ubisoft Connect] Get ticket from SSO ID",o]),t({opId:o.opId,status:o.status,sessionId:o.payload.sessionId,ticket:o.payload.ticket,token:o.payload.token,user_id:o.payload.userId,expiration:o.payload.expiration||o.expirationDate})):(e.debugService.log(["[Ubisoft Connect] Could not get ticket from SSO ID.",o]),r(o))}))})):(this.debugService.log("[Ubisoft Connect] Cannot getTicketFromSsoId. Not in browser mode."),Promise.reject(null))}},{key:"getConnectUrl",value:,{key:"getThirdPartyStatus",value:function getThirdPartyStatus(){var e=this;return UbisoftConnectService.isBrowser()?new Promise((function(t,r){var n=setTimeout((,e.getTicketTimeout);if(!window.overlayConnectSDK||!window.overlayConnectSDK.getThirdPartyStatus)return e.debugService.log("[Ubisoft Connect] Could not get third party status."),r();window.overlayConnectSDK.getThirdPartyStatus().subscribe((function(r){return e.debugService.log("[Ubisoft Connect] Got third party status: ".concat(r.status,".")),clearTimeout(n),r.status===Cl?t(!0):t(!1)}))})):(this.debugService.log("[Ubisoft Connect] Cannot get third party status. Not in browser mode."),Promise.reject(null))}},{key:"getConnectSsoExpirationDate",value:function getConnectSsoExpirationDate(e){var t=new Date;return t.setTime(t.getTime()+e),t.getTime().toString()}}],[{key:"isBrowser",value:]),UbisoftConnectService}();function getQueryParameters_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function getQueryParameters_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?getQueryParameters_ownKeys(Object(r),!0).forEach((function(t){getQueryParameters_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):getQueryParameters_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function getQueryParameters_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function getQueryParameters(e){return(e||(window.self.location.search?window.self.location.search:window.location.href.split("?").length>1?"?".concat(window.location.href.split("?")[1]):"")).replace(/(^\?)/,"").split("&").map((function(e){var t={};return(e=e.split("="))[0]&&(t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])),t})).reduce((function(e,t){return e?getQueryParameters_objectSpread(getQueryParameters_objectSpread({},e),t):t}))}function ConnectService_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ConnectService_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ConnectService_ownKeys(Object(r),!0).forEach((function(t){ConnectService_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ConnectService_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ConnectService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ConnectService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Fh,Gh=function(){function ConnectService(e,t,r,n){!function ConnectService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ConnectService),this.CONNECTerror="OverlayConnectError",this.CONNECTloginData="OverlayConnectLoginData",this.CONNECTssoExpiration="OverlayConnectSsoExpiration",this.CONNECTLogOut="OverlayConnectLogOut",this.CONNECTFormerSsoID="OverlayFormerSsoID",this.CONNECTFormerUrl="OverlayFormerUrl",this.ubisoftConnectService,this.debugService,this.config,this.thirdPartyStatus,this.config=r,this.debugService=new jh,this.ubisoftConnectService=new Eh(this.debugService,this.config,n),this.ubisoftConnectService.changeGetTicketTimeout(3e3),this.ubisoftConnectService.changeScriptsTimeoutTo(3e4),(void 0!==n.enableDebug?n.enableDebug:r.enableDebug)?this.ubisoftConnectService.enableDebug():this.ubisoftConnectService.disableDebug()}return function ConnectService_createClass(e,t,r){return t&&ConnectService_defineProperties(e.prototype,t),r&&ConnectService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ConnectService,[{key:"refreshIdentityFlow",value:function refreshIdentityFlow(e,t,r,n){var o=this;try{return this.check(e,!1,r,"refreshIdentityFlow").then((function(){return o.ubisoftConnectService.getThirdPartyStatus().then((function(i){return o.thirdPartyStatus=i,i?o.authenticate(e,!1,r,n,t):o.refreshIdentityFlowWhenThirdPartyStatusDisabled(e,t,r,n)}))}))}catch(e){return this.debugService.info("[ConnectService] refreshIdentityFlow error"),this.debugService.error(e),Promise.reject(e)}}},{key:"refreshIdentityFlowWhenThirdPartyStatusDisabled",value:function refreshIdentityFlowWhenThirdPartyStatusDisabled(e,t,r,n,o){var i=this.getItemFromLocalStorage(this.CONNECTerror),a=this.getItemFromLocalStorage(this.CONNECTloginData);if((a||i)&&!t.afterLogin&&!t.isReInit){this.debugService.info("[ConnectService] refreshIdentityFlow: has connectLoginDataFromLocalStorage & not afterLogin & not isReInit");var s=this.getCONNECTssoExpiration()?this.getCONNECTssoExpiration():a?a.expiration:i?i.expirationDate:null;return s&&!this.getIsExpired(s)?(this.debugService.info("[ConnectService] refreshIdentityFlow: is not expired"),console.log("connectLoginDataFromLocalStorage"),console.log(a),Promise.resolve(a)):(this.debugService.info("[ConnectService] refreshIdentityFlow: expired"),this.removeItemFromLocalStorage(this.CONNECTerror),this.removeItemFromLocalStorage(this.CONNECTloginData),this.removeCONNECTssoExpiration(),o?Promise.reject({opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:this.ubisoftConnectService.getConnectSsoExpirationDate(1e3*this.ubisoftConnectService.localLogoutExpirationSeconds)}):this.authenticate(e,!1,r,n))}return(t.afterLogin||t.isReInit)&&(this.debugService.info("[ConnectService] refreshIdentityFlow: is afterLogin: ".concat(t.afterLogin," | is isReInit: ").concat(t.isReInit)),this.removeItemFromLocalStorage(this.CONNECTerror),this.removeItemFromLocalStorage(this.CONNECTloginData),this.removeCONNECTssoExpiration()),o?Promise.reject({opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:this.ubisoftConnectService.getConnectSsoExpirationDate(1e3*this.ubisoftConnectService.localLogoutExpirationSeconds)}):this.authenticate(e,!1,r,n)}},{key:"ssoFlow",value:function ssoFlow(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.debugService.info("[ConnectService] ssoFlow"),getQueryParameters().connectSsoId&&this.setItemInLocalStorage(this.CONNECTFormerSsoID,getQueryParameters().connectSsoId),this.authenticate(e,!0,r).then((function(e){return t.debugService.log(["[ConnectService] ssoFlow success",e]),Promise.resolve(e)})).catch(()}},{key:"refreshStatusFlow",value:function refreshStatusFlow(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return this.debugService.info("[ConnectService] refreshStatusFlow"),this.check(e,!1,r,"refreshStatusFlow").then((function(){var e=t.getItemFromLocalStorage(t.CONNECTloginData)?t.getItemFromLocalStorage(t.CONNECTloginData):null;if(t.getIsExpired(n)&&(t.debugService.info("[ConnectService] refreshStatusFlow is expired"),t.removeItemFromLocalStorage(t.CONNECTloginData)),e)return t.debugService.log(["[ConnectService] refreshStatusFlow success",e]),new Promise((function(t){return t(e)}));var r={opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:n};return n&&(t.debugService.info("[ConnectService] refreshStatusFlow set error"),t.setItemInLocalStorage(t.CONNECTerror,ConnectService_objectSpread({},r))),t.debugService.log(["[ConnectService] refreshStatusFlow error",r]),new Promise((function(e,t){return t(r)}))}))}},{key:"authenticate",value:function authenticate(e,t){var r=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;return this.debugService.info("[ConnectService] authenticate"),this.check(e,t,n,"authenticate").then((function(){return t?r.ubisoftConnectService.getTicketFromSsoId().then((function(e){return r.debugService.log("[ConnectService] authenticate getTicketFromSsoId success"),r.onAuthSuccess(e,o),Promise.resolve(e)})).catch((function(t){return r.debugService.log(["[ConnectService] authenticate getTicketFromSsoId error",t]),r.authenticateWhenGetThirdPartyStatusInconsistency(t,e,n,o,i).catch((function(e){return console.log("[ConnectService] error",e)}))})):r.ubisoftConnectService.getTicket().then((function(e){return r.debugService.log("[ConnectService] authenticate getTicket success"),r.onAuthSuccess(e,o),Promise.resolve(e)})).catch((function(t){return r.debugService.log(["[ConnectService] authenticate getTicket error",t]),r.authenticateWhenGetThirdPartyStatusInconsistency(t,e,n,o,i).catch(()}))}))}},{key:"authenticateWhenGetThirdPartyStatusInconsistency",value:function authenticateWhenGetThirdPartyStatusInconsistency(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;return this.thirdPartyStatus&&e.status===El?(this.debugService.log(["[ConnectService] authenticate third party status inconsistency",e]),this.refreshIdentityFlowWhenThirdPartyStatusDisabled(t,o,r,n,!0)):(this.onAuthError(e,n),Promise.reject(e))}},{key:"triggerEmailActivation",value:function triggerEmailActivation(e,t,r,n,o,i){var a=this,s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return this.debugService.info("[ConnectService] triggerEmailActivation"),this.check(n,!1,s,"triggerEmailActivation").then((function(){return a.ubisoftConnectService.triggerEmailActivation(e,t,r,(function(e){e?(o(e),i()):o({errorMessage:"missingTicket",opId:"TriggerEmailActivation",status:"missingTicket"})}))}))}},{key:"logout",value:function logout(e,t,r){var n=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.debugService.info("[ConnectService] logout"),this.removeAllOverlayDataFromLocaleStorage(),this.setItemInLocalStorage(this.CONNECTLogOut,"true"),this.setItemInLocalStorage(this.CONNECTerror,{opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:this.ubisoftConnectService.getConnectSsoExpirationDate(1e3*this.ubisoftConnectService.localLogoutExpirationSeconds)}),this.check(r,!1,o,"logout").then(()}},{key:"lgdOutFlow",value:function lgdOutFlow(e,t,r){var n=this;return this.check(e,!1,t,"refreshIdentity lgdOut").then((function(){return n.removeItemFromLocalStorage(n.CONNECTLogOut),r(Js,{opId:"GetTicket",status:"error",errorMessage:"no login data available"}),new Promise(()}))}},{key:"changeConfig",value:function changeConfig(e){this.removeAllOverlayDataFromLocaleStorage(),this.ubisoftConnectService.resetScriptLoading(),this.config=e}},{key:"getUserData",value:function getUserData(e,t,r,n,o){var i=this,a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return this.debugService.info("[ConnectService] getUserData"),this.check(n,!1,a,"getUserData").then((function(){return i.ubisoftConnectService.getUserData(e,t,r,(function(e){e?(i.debugService.info(["[ConnectService] got user data"]),o(e)):(i.debugService.info(["[ConnectService] no user data"]),o({errorMessage:"missingTicket",opId:"GetUserStatus",status:"missingTicket"}))}))}))}},{key:"getLoginUrl",value:function getLoginUrl(e,t,r,n){return this.debugService.info("[ConnectService] getLoginUrl"),this.ubisoftConnectService.getLoginUrl(e,t,r,n)}},{key:"_401Flow",value:function _401Flow(e,t,r){var n=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.debugService.info("[ConnectService] _401Flow"),this.check(e,!1,o,"_401Flow").then((function(){if(!window.overlayConnectSDK.getTicket())return console.error("Error"),t();window.overlayConnectSDK.getTicket().subscribe((function(e){n.debugService.warn(["[401] IN 401_stuff...",e]),e.status===Cl?r(e):t()}))}))}},{key:"check",value:function check(e){var t=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"check";this.debugService.info("[ConnectService] check: ".concat(n));var o=Promise.resolve();return window.Connect&&window.overlayConnectSDK?(this.debugService.log("[ConnectService] Connect || overlayConnectSDK already created"),this.debugService.log(window.Connect),this.debugService.log(window.overlayConnectSDK)):(this.debugService.warn("[ConnectService] Connect || overlayConnectSDK objects not found"),o=this.ubisoftConnectService.loadScripts().then((function(){return t.ubisoftConnectService.initialize(e,r,t.config.localLoginExpirationMinutes,n)}))),o}},{key:"getConnectUrl",value:function getConnectUrl(){return this.ubisoftConnectService.getConnectUrl()}},{key:"getTicket",value:function getTicket(e,t,r){var n=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.debugService.info("[ConnectService] getTicket"),this.check(e,!1,o,"getTicket").then((function(){return n.ubisoftConnectService.getThirdPartyStatus().then((function(e){return n.getItemFromLocalStorage(n.CONNECTLogOut)?(n.removeItemFromLocalStorage(n.CONNECTLogOut),t({errorMessage:"no login data available",opId:"GetTicket",status:"error"}),Promise.resolve()):n.getItemFromLocalStorage(n.CONNECTerror)?(t(n.getItemFromLocalStorage(n.CONNECTerror)),Promise.resolve()):n.getItemFromLocalStorage(n.CONNECTloginData)?(n.getTicketCallbackOnSuccess(t,r,n.getItemFromLocalStorage(n.CONNECTloginData)),Promise.resolve()):(n.thirdPartyStatus=e,n.getTicketWithCallback(t,r))}))}))}},{key:"getTicketWithCallback",value:function getTicketWithCallback(e,t){var r=this;return this.ubisoftConnectService.getTicket().then(().catch((function(t){e({opId:t&&t.opId?t.opId:"GetTicket",status:t&&t.status?t.status:"no login data available",errorMessage:t&&t.errorMessage?t.errorMessage:"error"})}))}},{key:"getTicketCallbackOnSuccess",value:function getTicketCallbackOnSuccess(e,t,r){e({opId:r.opId,status:r.status?r.status:"ok",payload:{expiration:r.expiration,sessionId:r.sessionId,ticket:r.ticket,userId:r.user_id,nameOnPlatform:t.nameOnPlatform}})}},{key:"getProfiles",value:function getProfiles(e,t,r,n,o){var i=this,a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return this.debugService.info("[ConnectService] getProfiles"),this.check(o,!1,a,"getProfiles").then((function(){return i.ubisoftConnectService.getProfiles(e,t,r,(function(e){n(e||{errorMessage:"missingTicket",opId:"GetProfiles",status:"missingTicket"})}))}))}},{key:"getLocalStorageKey",value:function getLocalStorageKey(e){return"".concat(this.config.env.toUpperCase()).concat(e)}},{key:"removeItemFromLocalStorage",value:,{key:"getItemFromLocalStorage",value:function getItemFromLocalStorage(e){var t=localStorage.getItem(this.getLocalStorageKey(e));return t?JSON.parse(t):null}},{key:"setItemInLocalStorage",value:function setItemInLocalStorage(e,t){try{localStorage.setItem(this.getLocalStorageKey(e),JSON.stringify(t))}catch(t){this.removeItemFromLocalStorage(e),console.error(t),console.warn("Removing the item "+e+" from local storage since its full")}}},{key:"getIsExpired",value:function getIsExpired(e){return e&&new Date(parseInt(e)).getTime()<=(new Date).getTime()}},{key:"removeAllOverlayDataFromLocaleStorage",value:function removeAllOverlayDataFromLocaleStorage(){this.removeItemFromLocalStorage(this.CONNECTloginData),this.removeItemFromLocalStorage(this.CONNECTerror),this.removeItemFromLocalStorage(this.CONNECTssoExpiration),this.removeItemFromLocalStorage(this.CONNECTFormerSsoID),this.removeItemFromLocalStorage(this.CONNECTLogOut)}},{key:"removeAllDataFromLocaleStorage",value:function removeAllDataFromLocaleStorage(){this.removeItemFromLocalStorage("errorRefreshData"),this.removeItemFromLocalStorage("ssoCallBackStatusKey"),this.removeItemFromLocalStorage("loginData"),this.removeAllOverlayDataFromLocaleStorage()}},{key:"onAuthSuccess",value:function onAuthSuccess(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.debugService.info("[ConnectService] onAuthSuccess"),t||(this.setItemInLocalStorage(this.CONNECTloginData,{opId:e.opId,ticket:e.ticket,user_id:e.user_id,sessionId:e.sessionId,token:e.token,expiration:e.expiration}),this.setCONNECTssoExpirationInLocalStorage(Tl))}},{key:"onAuthError",value:function onAuthError(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.debugService.info("[ConnectService] onAuthError"),!t){this.setItemInLocalStorage(this.CONNECTloginData,null),this.setItemInLocalStorage(this.CONNECTerror,e);var r=null;if(e&&e.status)switch(e.status){case Pl:case Cl:r=Tl;break;case _l:case Ol:case Il:case jl:case Ll:case El:case Gl:r=Rl;break;case Fl:r=Nl;break;case Al:r=Ul;break;case xl:r=Dl;break;case kl:r=Ml;break;default:r=Rl}this.setCONNECTssoExpirationInLocalStorage(r)}}},{key:"setCONNECTssoExpirationInLocalStorage",value:function setCONNECTssoExpirationInLocalStorage(e,t){var r=this,n=this.getItemFromLocalStorage(this.CONNECTssoExpiration);if(getQueryParameters().refreshStatus||e){var o=e?[e]:getQueryParameters().refreshStatus?[getQueryParameters().refreshStatus]:["ok","noLoginData"],i={};if(o.forEach((function(e){i[e]=t||r.ubisoftConnectService.getConnectSsoExpirationDate(60*r.config.localLoginExpirationMinutes*1e3)})),!n)return console.warn(i),void this.setItemInLocalStorage(this.CONNECTssoExpiration,i);console.warn(i),this.setItemInLocalStorage(this.CONNECTssoExpiration,ConnectService_objectSpread(ConnectService_objectSpread({},n),i))}}},{key:"getCONNECTssoExpiration",value:function getCONNECTssoExpiration(e){var t=this.getItemFromLocalStorage(this.CONNECTssoExpiration);if(!t)return null;if(e)return t[e];var r=getQueryParameters().refreshStatus;return r&&t[r]?t[r]:t.ok||t.noLoginData}},{key:"removeCONNECTssoExpiration",value:function removeCONNECTssoExpiration(){var e=this.getItemFromLocalStorage(this.CONNECTssoExpiration);if(e){var t=getQueryParameters().refreshStatus;if(t)return delete e[t],void this.setItemInLocalStorage(this.CONNECTssoExpiration,e);this.removeItemFromLocalStorage(this.CONNECTssoExpiration)}}}]),ConnectService}();function WidgetService_typeof(e){return WidgetService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WidgetService_typeof(e)}function WidgetService_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function WidgetService_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WidgetService_ownKeys(Object(r),!0).forEach((function(t){WidgetService_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WidgetService_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function WidgetService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WidgetService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Th=function isMobileDevice(){/Mobi/i.test(navigator.userAgent)||/Android/i.test(navigator.userAgent)};injectableForJs([])(Fh=function(){function WidgetService(e,t,r){!function WidgetService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WidgetService),this.channel=void 0,this.backdrop=void 0,this.iframe=void 0,this.container=void 0,this.backdropListener=void 0,this.connectService=void 0,this.subscriptions=[],this.listeners=[],this.isReInit=!1,this.debugService=void 0,this.locale=void 0,this.config=e,this.options=t,this.hasInitializedCallback=r;var n=void 0!==t.enableDebug?t.enableDebug:e.enableDebug;this.debugService=new jh(n),this.debugService.log("[Overlay Widget] Loaded"),this.locale=t.locale,this.connectService=new Gh(t.appId,t.genomeId,e,t)}return function WidgetService_createClass(e,t,r){return t&&WidgetService_defineProperties(e.prototype,t),r&&WidgetService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(WidgetService,[{key:"cssUrl",get:function get(){return"".concat(this.config.assetsUrl,"/widget.css")}},{key:"appendDocumentHeadHtml",value:function appendDocumentHeadHtml(){var e=document.getElementsByTagName("head")[0],t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=this.cssUrl,t.id="overlay-widget-css",e.appendChild(t),null}},{key:"appendContainer",value:function appendContainer(e){var t=this,r=document.createElement("iframe");r.id="overlay-iframe",r.name="overlayIframe",r.style.display="none",r.scrolling="no",r.style.border="0",r.style.width="954px",r.title="My Ubisoft Space",r.onload=function(){r.style.display="","ar-ae"===t.locale.toLowerCase()&&r.classList.add("overlay-iframe-arab-language")},this.iframe=r;var n=document.createElement("div");n.id="overlay-container",n.style.height=(this.options.height||50)+"px",n.style.width="50px",n.appendChild(r);var o=document.createElement("div");o.id="overlay-backdrop",this.backdrop=o;var i=document.getElementById(this.options.container);if(i||(i=document.getElementById(this.options.container.replace("#",""))),i||!(i=document.getElementsByClassName(this.options.container.replace(".","")))&&i[0]||(i=void 0),i.style.position="relative",i.style.zIndex=this.options.zIndex?this.options.zIndex:"1000",o.style.zIndex=this.options.zIndex?(parseFloat(this.options.zIndex)-1).toString():"999",!i)throw new Error("Could not find container element '"+this.options.container+"'");i.appendChild(n),i.parentElement.appendChild(o),this.container=i,e(r);var a="".concat(this.config.overlayIndexUrl,"?t=").concat(1700039194,"&");a+="owner=".concat(window.self.location.protocol,"//").concat(window.self.location.host),r.src=a}},{key:"appendModalContainer",value:function appendModalContainer(){var e=document.createElement("div"),t=document.createElement("div"),r=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),i=document.createElement("i"),a=document.getElementsByTagName("body")[0];e.classList.add("ReactModalPortal"),t.classList.add("ReactModalPortal__Container"),e.style.display="none",r.classList.add("ReactModal__Overlay"),n.classList.add("ReactModal__Content"),o.classList.add("ReactModal__Close__Button"),i.className+="ubico ubico-close",o.appendChild(i),n.appendChild(o),r.appendChild(n),t.appendChild(r),e.appendChild(t),a.appendChild(e)}},{key:"bootstrap",value:function bootstrap(e){var t=this;if(e.nextUrl&&-1===window.location.href.indexOf(e.nextUrl))try{this.connectService.setItemInLocalStorage(this.connectService.CONNECTFormerUrl,window.location.href)}catch(e){this.debugService.error(e)}e.nextUrl&&-1!==window.location.href.indexOf(this.options.nextUrl)?this.refreshIdentity({afterLogin:!1,isReInit:!1,loginParams:{}}):(0==e.darkBackground&&console.warn("Light theme is disabled for the moment"),this.options=WidgetService_objectSpread(WidgetService_objectSpread({},e),{},{browserScrollbarWidth:this.getCustomScrollbarSpecs().browserScrollbarWidth,scrollbarNegativeMarginValue:this.getCustomScrollbarSpecs().scrollbarNegativeMarginValue,darkBackground:!0}),this.appendDocumentHeadHtml(),this.appendContainer((function(r){t.changeLocaleClassOnOverlayContainer(e.locale),t.changeIsInDesktopResizeClassOnOverlayContainer(e.isInDesktopResize),t.changeShowSignInTextClassOnOverlayContainer(e.showSignInText);var n=t.config.overlayIndexUrl;t.channel=new la(n,r.contentWindow,void 0!==t.options.enableDebug?t.options.enableDebug:t.config.enableDebug),t.setupSubscriptions()})),this.appendModalContainer())}},{key:"setupSubscriptions",value:function setupSubscriptions(){var e=this;this.subscriptions=[this.channel.subscribe(da,this.handleInitilize.bind(this)),this.channel.subscribe(pa,this.handleShowBackdrop.bind(this)),this.channel.subscribe(ha,this.handleHideBackdrop.bind(this)),this.channel.subscribe(ya,this.handleShowMobileTabs.bind(this)),this.channel.subscribe(ga,this.handleHideMobileTabs.bind(this)),this.channel.subscribe(ba,this.handleLoggedOut.bind(this)),this.channel.subscribe(wa,this.handleResize.bind(this)),this.channel.subscribe(Pa,this.handleOpenLoginModal.bind(this)),this.channel.subscribe(va,this.handleExpand.bind(this)),this.channel.subscribe(ma,this.handleCollapse.bind(this)),this.channel.subscribe(Sa,this.handleLoggedIn.bind(this)),this.channel.subscribe(_a,this.handleCloseLoginModalAndConnect.bind(this)),this.channel.subscribe(Ca,this.handleChangeLocaleFromCommunicationService.bind(this)),this.channel.subscribe(Aa,this.handleInitEnv.bind(this)),this.channel.subscribe(Oa,this.handleChangeIframeHeight.bind(this)),this.channel.subscribe(ka,this.changeIframeUrl.bind(this)),this.channel.subscribe(xa,this.triggerEmailActivation.bind(this)),this.channel.subscribe(ja,this.changeWidgetConfig.bind(this)),this.channel.subscribe(La,this.getUserData.bind(this)),this.channel.subscribe(Ea,this.refreshIdentity.bind(this)),this.channel.subscribe(Fa,this._401Flow.bind(this)),this.channel.subscribe(Ra,this.getEnv.bind(this)),this.channel.subscribe(Na,this.handleGetIframeBoundingClientRect.bind(this)),this.channel.subscribe(Ua,this.handleOpenPopupWindow.bind(this)),this.channel.subscribe(Da,this.handleGetThirdPartyStatusForLogin.bind(this)),this.channel.subscribe(Ia,this.logout.bind(this)),this.channel.subscribe(Ma,this.handleOnFriendAction.bind(this))],this.options.collapse&&this.options.collapse((function(){e.channel.send(qa)})),this.options.expandFriends&&this.options.expandFriends((function(){e.channel.send(za)})),this.options.expandPlayerCard&&this.options.expandPlayerCard((function(){e.channel.send(Qa)})),this.options.expandNotifications&&this.options.expandNotifications((function(){e.channel.send(Ya)})),this.listeners=[this.addCrossDomainEventListener(this.config.connectEndpoint,"connectRoute","/twitch-callback?code=",(),this.addCrossDomainEventListenerWithTopic(xs,window.location.origin,(function(){e.channel.send(xs)})),this.addCrossDomainEventListenerWithTopic(Is,window.location.origin,(function(){e.channel.send(Is)})),this.addCrossDomainEventListenerWithTopic(js,window.location.origin,(function(){e.channel.send(js)})),this.addCrossDomainEventListenerWithTopic(Ls,window.location.origin,(function(){e.channel.send(Ls)})),this.addCrossDomainEventListenerWithTopic(Es,window.location.origin,(function(){e.channel.send(Es)})),this.addCrossDomainEventListenerWithTopic(Fs,window.location.origin,(function(){e.channel.send(Fs)})),this.addCrossDomainEventListenerWithTopic(Gs,window.location.origin,(function(){e.channel.send(Gs)})),this.addCrossDomainEventListenerWithTopic(Us,window.location.origin,(function(){e.channel.send(Us)})),this.addCrossDomainEventListenerWithTopic(Rs,window.location.origin,(function(){e.channel.send(Rs)})),this.addCrossDomainEventListenerWithTopic(Ms,window.location.origin,(function(){e.channel.send(Ms)})),this.addCrossDomainEventListenerWithTopic(Ts,window.location.origin,(function(){e.channel.send(Ts)})),this.addCrossDomainEventListenerWithTopic(Ds,window.location.origin,(function(){e.channel.send(Ds)})),this.addCrossDomainEventListenerWithTopic(Ns,window.location.origin,(function(){e.channel.send(Ns)})),this.addCrossDomainEventListenerWithTopic(Bs,window.location.origin,(function(){e.channel.send(Bs)})),this.addCrossDomainEventListenerWithTopic(Vs,window.location.origin,(function(){e.channel.send(Vs)}))]}},{key:"handleInitilize",value:function handleInitilize(){var e=this;this.debugService.log("[Overlay Widget] handleInitilize");var t=window.self.location.href,r=this.connectService.getLoginUrl(this.getLoginNextUrl(this.locale,this.config.connectEnv),this.locale,this.options.loginExternalType,!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),n=this.connectService.getConnectUrl(),o=this.options;window.adobeAnalytics?o.hasParentSiteTrackingIntegrate=!0:o.hasParentSiteTrackingIntegrate=!1,getCookie("TC_OPTOUT_SDK")?o.hasParentSiteTcOptoutSdkCookieSet=!0:o.hasParentSiteTcOptoutSdkCookieSet=!1,getCookie("UBI_PRIVACY_POLICY_ACCEPTED")?o.hasParentSiteUbiPrivacyPolicyAcceptedCookieSet=!0:o.hasParentSiteUbiPrivacyPolicyAcceptedCookieSet=!1,getCookie("UBI_PRIVACY_AA_OPTOUT")?o.hasParentSiteUbiPrivacyAaOptoutCookieSet=!0:o.hasParentSiteUbiPrivacyAaOptoutCookieSet=!1,this.channel.send(Ba,o),this.channel.send(hs,{loginUrl:r,connectUrl:n}),this.channel.send(as,t),this.channel.send(bs,window.innerHeight),this.channel.send(ws,{innerWidth:window.innerWidth,innerHeight:window.innerHeight,iframeBoundingClientRect:this.getIframeBoundingClientRect()}),this.handleOnResize(!0),window.addEventListener("resize",this.debounce((,250)),document.getElementsByClassName("ReactModal__Close__Button")[0].addEventListener("click",this.handleCloseLoginModal.bind(this))}},{key:"handleOnResize",value:function handleOnResize(e){this.sendOnResizeEvent(e),this.isInMobileView(window.innerWidth)?(this.iframe.style.width="100vw",document.body.classList.remove("overlay-expanded-on-desktop"),document.body.style.marginRight&&!this.options.disableScrollMargin&&(document.body.style.marginRight=null)):(document.body.classList.remove("overlay-expanded-on-mobile"),document.body.classList.remove("ios-scroll-fix"),this.iframe.style.width="954px",this.options.onShowHideScrollOnMobile&&this.options.onShowHideScrollOnMobile(!1),this.iframe.classList.contains("overlay-iframe--expanded")&&(document.body.classList.add("overlay-expanded-on-desktop"),this.getCustomScrollbarSpecs().browserScrollbarWidth&&!this.options.disableScrollMargin&&(document.body.style.marginRight="".concat(this.getCustomScrollbarSpecs().scrollbarNegativeMarginValue,"px"))))}},{key:"sendOnResizeEvent",value:function sendOnResizeEvent(e){this.channel.send(Xa,{innerWidth:window.innerWidth,innerHeight:window.innerHeight,iframeHeight:this.iframe.offsetHeight,iframeBoundingClientRect:this.iframe.getBoundingClientRect(),firstTime:e})}},{key:"handleShowBackdrop",value:function handleShowBackdrop(){var e=this;this.options.onShowHide&&this.options.onShowHide(!0),this.backdrop.classList.add("overlay-backdrop--show"),this.backdropListener=function(){e.channel.send(Ha)},Oh.add(this.backdrop,"click",this.backdropListener)}},{key:"handleHideBackdrop",value:function handleHideBackdrop(){this.options.onShowHide&&this.options.onShowHide(!1),this.isInMobileView(window.innerWidth)||(this.backdrop.classList.remove("overlay-backdrop--show"),Oh.remove(this.backdrop,"click",this.backdropListener))}},{key:"handleShowMobileTabs",value:function handleShowMobileTabs(){this.options.onShowHideScrollOnMobile&&this.isInMobileView(window.innerWidth)&&this.options.onShowHideScrollOnMobile(!0),this.isInMobileView(window.innerWidth)&&(document.body.classList.add("overlay-expanded-on-mobile"),)&&document.body.classList.add("ios-scroll-fix"),document.getElementById("overlay-container").classList.add("mobileActive"))}},{key:"handleHideMobileTabs",value:function handleHideMobileTabs(){this.options.onShowHideScrollOnMobile&&this.isInMobileView(window.innerWidth)&&this.options.onShowHideScrollOnMobile(!1),this.isInMobileView(window.innerWidth)&&(document.body.classList.remove("overlay-expanded-on-mobile"),document.body.classList.remove("ios-scroll-fix"),document.getElementById("overlay-container").classList.remove("mobileActive")),this.backdrop.classList.remove("overlay-backdrop--show"),Oh.remove(this.backdrop,"click",this.backdropListener)}},{key:"handleExpand",value:function handleExpand(){this.iframe.classList.add("overlay-iframe--expanded"),this.isInMobileView(window.innerWidth)?document.getElementById("overlay-container").classList.add("mobileActive"):(document.body.classList.add("overlay-expanded-on-desktop"),this.getCustomScrollbarSpecs().browserScrollbarWidth&&!this.options.disableScrollMargin&&(document.body.style.marginRight="".concat(this.getCustomScrollbarSpecs().scrollbarNegativeMarginValue,"px")))}},{key:"handleLoggedIn",value:function handleLoggedIn(e){this.findByKey(getQueryParameters(),"lgdOut")&&this.connectService.getItemFromLocalStorage(this.connectService.CONNECTLogOut)||(e.action==Ks&&this.hasInitializedCallback(!0),this.options.onConnect&&(this.options.onConnect(this.isReInit?Zs:e.action,e.getTicket),this.isReInit=!1))}},{key:"handleLoggedOut",value:function handleLoggedOut(e){var t=this;this.connectService.check(this.getNextUrl(),!1,this.options.thirdPartyCookiesSupport,"handleLoggedOut").then((function(){!window.overlayConnectSDK.sdkStatus.thirdPartyCookiesEnabled&&window.overlayConnectSDK.configService.config.thirdPartyCookieSupport||!t.options.onConnect||t.options.onConnect(Js,e)})),this.options.onShowHideScrollOnMobile&&this.options.onShowHideScrollOnMobile(!1),document.body.classList.remove("overlay-expanded-on-mobile"),document.body.classList.remove("ios-scroll-fix"),document.getElementById("overlay-container").classList.remove("mobileActive"),this.backdrop.classList.remove("overlay-backdrop--show"),Oh.remove(this.backdrop,"click",this.backdropListener)}},{key:"handleCollapse",value:function handleCollapse(){this.iframe.classList.remove("overlay-iframe--expanded"),this.isInMobileView(window.innerWidth)||(document.getElementById("overlay-container").classList.remove("mobileActive"),document.body.classList.contains("overlay-expanded-on-desktop")&&(document.body.classList.remove("overlay-expanded-on-desktop"),this.getCustomScrollbarSpecs().browserScrollbarWidth&&!this.options.disableScrollMargin&&(document.body.style.marginRight=null)))}},{key:"handleResize",value:function handleResize(e){this.isInMobileView(window.innerWidth)?(this.iframe.style.height=null,this.options.mobileHeight&&(this.container.style.height="".concat(this.options.mobileHeight,"px")),this.container&&(this.container.style.width="50px",!e.showSignInText||e.showSignInText!=Ys&&e.showSignInText!=Qs&&1!=e.showSignInText&&"true"!=e.showSignInText||(this.container.style.width="132px")),document.getElementById("overlay-iframe").classList.add("overlay-iframe-mobile"),e.isInExpandedMode&&document.getElementById("overlay-container").classList.add("mobileActive")):(this.container&&(this.container.style.width=null,this.options.mobileHeight&&(this.container.style.height="".concat(this.options.height,"px"))),document.getElementById("overlay-iframe").classList.contains("overlay-iframe--expanded")?this.iframe.style.height="100vh":this.iframe.style.height="".concat(this.options.height,"px"),document.getElementById("overlay-iframe").classList.remove("overlay-iframe-mobile"),document.getElementById("overlay-container").classList.remove("mobileActive"))}},{key:"handleOpenLoginModal",value:function handleOpenLoginModal(e){document.getElementsByTagName("body")[0].classList.add("ReactModal__Body--open"),navigator.userAgent.match(/Version\/[\d.]+.*Safari/)&&(document.getElementsByTagName("body")[0].classList.add("safari-modal-opened"),document.body.style.top="0px"),document.getElementsByClassName("ReactModalPortal")[0].removeAttribute("style");var t=document.getElementsByClassName("ReactModal__Content")[0],r=document.createElement("iframe");r.id="connect-iframe",r.style.height="100%",r.style.border="0px",r.src=e,t.appendChild(r)}},{key:"handleCloseLoginModal",value:function handleCloseLoginModal(){document.getElementsByTagName("body")[0].classList.remove("ReactModal__Body--open","safari-modal-opened");var e=document.getElementById("connect-iframe");document.body.hasAttribute("style")&&document.body.removeAttribute("style"),e&&e.parentNode.removeChild(e)}},{key:"handleCloseLoginModalAndConnect",value:function handleCloseLoginModalAndConnect(){this.handleCloseLoginModal()}},{key:"handleChangeLocale",value:function handleChangeLocale(e){this.options.onChangeLocale&&this.options.onChangeLocale(e),e||(e=this.options.locale),this.locale=e,"ar-ae"==e.toLowerCase()?this.iframe.classList.add("overlay-iframe-arab-language"):this.iframe.classList.remove("overlay-iframe-arab-language"),this.channel.send(Va,e);var t=this.connectService.getLoginUrl(this.getLoginNextUrl(e,this.config.connectEnv),e,this.options.loginExternalType,!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),r=this.connectService.getConnectUrl();this.channel.send(hs,{loginUrl:t,connectUrl:r})}},{key:"handleChangeLocaleFromCommunicationService",value:function handleChangeLocaleFromCommunicationService(e){this.changeLocaleClassOnOverlayContainer(e.locale),this.isInMobileView(window.innerWidth)&&(!e.showSignInText||e.showSignInText!=Ys&&e.showSignInText!=Qs||(this.container.style.width="132px"))}},{key:"handleChangeGame",value:function handleChangeGame(e){this.channel.send(Wa,e)}},{key:"reInit",value:function reInit(){var e=this;this.debugService.log("[Overlay Widget] reInit"),document.getElementById("overlay-iframe")?(this.debugService.info("[Overlay Widget] reInit: #overlay-iframe exists"),this.channel.send(Za)):(this.debugService.info("[Overlay Widget] reInit: #overlay-iframe does not exist"),this.isReInit=!0,this.removeEventListners(),this.appendContainer((function(t){var r=e.config.overlayIndexUrl;e.channel=new la(r,t.contentWindow,void 0!==e.options.enableDebug?e.options.enableDebug:e.config.enableDebug),e.setupSubscriptions()})))}},{key:"isInMobileView",value:function isInMobileView(e){return e<=Ka||e<=$a&&window.innerHeight<e&&Th()}},{key:"handleChangeEnv",value:function handleChangeEnv(e){0}},{key:"handleInitEnv",value:,{key:"handleChangeFriendsProfileType",value:function handleChangeFriendsProfileType(e){this.channel.send(es,e)}},{key:"handleChangeIframeHeight",value:function handleChangeIframeHeight(e){this.isInMobileView(window.innerWidth)||(this.iframe.style.height=e)}},{key:"handleToggleDarkBackground",value:,{key:"handleChangeExternalLoginType",value:function handleChangeExternalLoginType(e){this.channel.send(ts,e);var t=this.connectService.getLoginUrl(this.getLoginNextUrl(this.locale,this.config.connectEnv),this.locale,e,!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),r=this.connectService.getConnectUrl();this.channel.send(hs,{loginUrl:t,connectUrl:r})}},{key:"handleToggleSignInText",value:function handleToggleSignInText(e){this.isInMobileView(window.innerWidth)&&(!e||e!=Ys&&e!=Qs||(this.container.style.width="132px")),this.changeShowSignInTextClassOnOverlayContainer(e),this.channel.send(ns,e)}},{key:"toggleDesktopResize",value:,{key:"changeIframeUrl",value:function changeIframeUrl(){var e=this.iframe.src.split("?")[0],t=getQueryParameters(this.iframe.src.split("?")[1]);this.iframe.src="".concat(e,"?owner=").concat(t.owner)}},{key:"triggerEmailActivation",value:function triggerEmailActivation(e){var t=this;this.connectService.triggerEmailActivation(e.ticket,e.sessionId,e.userId,this.getNextUrl(),(function(e){t.channel.send(us,e)}),(function(){}))}},{key:"logout",value:function logout(e){var t=this,r=this.connectService.logout(e.ticket,e.sessionId,this.getNextUrl(),this.options.thirdPartyCookiesSupport).then(r).catch(r)}},{key:"changeWidgetConfig",value:function changeWidgetConfig(e){this.connectService.changeConfig(e);var t=this.connectService.getLoginUrl(this.getLoginNextUrl(this.locale,e.connectEnv),this.locale,this.options.loginExternalType,!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),r=this.connectService.getConnectUrl();this.channel.send(hs,{loginUrl:t,connectUrl:r}),location.reload()}},{key:"getUserData",value:function getUserData(e){var t=this;this.debugService.log("[Overlay Widget] getUserData");return this.connectService.getUserData(e.ticket,e.sessionId,e.userId,this.getNextUrl(),(,this.options.thirdPartyCookiesSupport).catch((function(){return function errorCallback(){t.channel.send(ps)}()}))}},{key:"refreshIdentity",value:function refreshIdentity(e){console.warn("x1");try{console.warn("x2"),localStorage.setItem("hasLocalStorage","true")}catch(e){return console.warn("x3"),console.warn(e),this.channel.send(ls),this.changeLoggedClassOnOverlayContainer(!1),new Promise(()}console.warn("x4");var t=this.getNextUrl(),r=this.checkIfLoginParamsExist(e),n=e.afterLogin&&!r;if(this.getIsSsoPage()){if(e.afterLogin||e.isReInit)return n&&this.connectService.removeAllDataFromLocaleStorage(),e.isReInit&&this.connectService.removeAllOverlayDataFromLocaleStorage(),this.normalGetTicketFlow(t,WidgetService_objectSpread(WidgetService_objectSpread({},e),{},{afterLogin:n}));if(this.findByKey(getQueryParameters(),"refreshStatus"))return this.checkIfLocalStorageDataIsExpiredFlow(t,e);if(this.findByKey(getQueryParameters(),"lgdOut"))return this.connectService.getItemFromLocalStorage(this.connectService.CONNECTLogOut)?(this.channel.send(ls),this.changeLoggedClassOnOverlayContainer(!1),this.connectService.lgdOutFlow(t,this.options.thirdPartyCookiesSupport,this.options.onConnect).then(this.handleCustomNextUrlFlowRedirect).catch(this.handleCustomNextUrlFlowRedirect)):this.normalGetTicketFlow(t,WidgetService_objectSpread(WidgetService_objectSpread({},e),{},{afterLogin:n}))}return(n||e.isReInit)&&this.connectService.removeAllDataFromLocaleStorage(),this.normalGetTicketFlow(t,WidgetService_objectSpread(WidgetService_objectSpread({},e),{},{afterLogin:n}))}},{key:"checkIfLocalStorageDataIsExpiredFlow",value:function checkIfLocalStorageDataIsExpiredFlow(e,t){var r=this.connectService.getItemFromLocalStorage(this.connectService.CONNECTFormerSsoID);if("ok"===getQueryParameters().refreshStatus&&getQueryParameters().connectSsoId&&getQueryParameters().connectSsoId!==r)return this.connectService.setCONNECTssoExpirationInLocalStorage(Tl),this.ssoFlow(e);var n=this.connectService.getCONNECTssoExpiration();return n?this.connectService.getIsExpired(n)?(this.connectService.removeAllOverlayDataFromLocaleStorage(),this.normalGetTicketFlow(e,t,!0)):this.refreshStatusFlow(e,n):(this.connectService.setCONNECTssoExpirationInLocalStorage(),"ok"===getQueryParameters().refreshStatus&&getQueryParameters().connectSsoId?this.ssoFlow(e):this.refreshStatusFlow(e,this.connectService.getCONNECTssoExpiration()))}},{key:"ssoFlow",value:function ssoFlow(e){var t=this;this.connectService.ssoFlow(e,this.options.thirdPartyCookiesSupport).then((function(e){return t.handleTicketSuccess(e)})).catch((function(e){return t.handleTicketError(e,!1)}))}},{key:"refreshStatusFlow",value:function refreshStatusFlow(e,t){var r=this;return this.connectService.refreshStatusFlow(e,this.options.thirdPartyCookiesSupport,t).then((function(e){return r.handleTicketSuccess(e)})).catch(()}},{key:"normalGetTicketFlow",value:function normalGetTicketFlow(e,t,r){var n=this;return this.connectService.refreshIdentityFlow(e,t,this.options.thirdPartyCookiesSupport,r).then((function(e){return n.handleTicketSuccess(e)})).catch(()}},{key:"handleCustomNextUrlFlowRedirect",value:function handleCustomNextUrlFlowRedirect(){var e="";try{e=this.connectService.getItemFromLocalStorage(this.connectService.CONNECTFormerUrl)}catch(e){console.error(e)}return!(!this.options.nextUrl||"string"!=typeof this.options.nextUrl||-1===window.location.href.indexOf(this.options.nextUrl)||!e)&&(window.location.href=e,!0)}},{key:"handleTicketSuccess",value:function handleTicketSuccess(e){return this.handleCustomNextUrlFlowRedirect()?Promise.resolve(e):e&&Object.keys(e).length?(this.channel.send(cs,e),this.changeLoggedClassOnOverlayContainer(!0),Promise.resolve(e)):(this.channel.send(ls),this.changeLoggedClassOnOverlayContainer(!1),Promise.resolve(e))}},{key:"handleTicketError",value:function handleTicketError(e,t){return this.handleCustomNextUrlFlowRedirect()?e:(e&&e.status&&e.status===El&&!this.options.thirdPartyCookiesSupport&&t&&this.channel.send(Ps,{status:!1}),this.channel.send(ls,e),this.changeLoggedClassOnOverlayContainer(!1),Promise.reject(e))}},{key:"_401Flow",value:function _401Flow(){var e=this;this.connectService._401Flow(this.getNextUrl(),(function(){e.channel.send(gs)}),(,this.options.thirdPartyCookiesSupport)}},{key:"getLoginNextUrl",value:function getLoginNextUrl(e,t){return getLoginNextUrl_getLoginNextUrl(0,{appId:this.options.appId,genomeId:this.options.genomeId,lang:e,nextUrl:this.config.loginNextUrl},this.options.thirdPartyCookiesSupport)}},{key:"getSsoUrl",value:function getSsoUrl(){return"".concat(window.location.href.split("?")[0]).concat(this.getQueryStringWithAddedParam("isSso","true"))}},{key:"getNextUrl",value:function getNextUrl(){return this.options.nextUrl&&"string"==typeof this.options.nextUrl&&-1===window.location.href.indexOf(this.options.nextUrl)?encodeURIComponent(this.options.nextUrl):encodeURIComponent(this.getSsoUrl())}},{key:"getTicketCallback",value:function getTicketCallback(e){var t=this;this.channel.send(vs);var r=this.channel.subscribe(Ga,(function(n){t.connectService.getTicket(t.getNextUrl(),e,n,t.options.thirdPartyCookiesSupport),t.channel.unsuscribe(r)}))}},{key:"getProfileCallback",value:function getProfileCallback(e){var t=this;this.channel.send(ms);var r=this.channel.subscribe(Ta,(function(n){t.connectService.getProfiles(n.ticket,n.sessionId,n.userId,e,t.getNextUrl(),t.options.thirdPartyCookiesSupport),console.warn(r),t.channel.unsuscribe(r)}))}},{key:"debounce",value:function debounce(e,t){var r=arguments,n=this,o=null;return function(){var i=n,a=r;clearTimeout(o),o=setTimeout((,t)}}},{key:"getEnv",value:function getEnv(){try{this.channel.send(Ss,localStorage.getItem("overlay-env-v3"))}catch(e){this.channel.send(Ss,null)}}},{key:"getQueryString",value:function getQueryString(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=getQueryParameters(),n="";return e&&delete r.refreshStatus,t&&(r.refreshStatus="toDel"),r.isSso&&delete r.isSso,r.lgdOut&&delete r.lgdOut,r.connectSsoId&&delete r.connectSsoId,Object.keys(r).length&&(n+="?".concat(Object.keys(r).map(().join("&"))),n}},{key:"getQueryStringWithAddedParam",value:function getQueryStringWithAddedParam(e,t){return this.getQueryString(!0)?"".concat(this.getQueryString(!0),"&").concat(e,"=").concat(t):"?".concat(e,"=").concat(t)}},{key:"handleGetIframeBoundingClientRect",value:function handleGetIframeBoundingClientRect(){this.channel.send(ws,{innerWidth:window.innerWidth,innerHeight:window.innerHeight,iframeBoundingClientRect:this.iframe.getBoundingClientRect()})}},{key:"getIframeBoundingClientRect",value:function getIframeBoundingClientRect(){var e=this.iframe.getBoundingClientRect();return 0==e.width&&(e=document.getElementById("overlay-container").getBoundingClientRect(),e="ar-ae"===this.locale.toLowerCase()?{bottom:e.bottom,height:e.height,left:e.left,right:e.left+954-334,top:e.top,width:e.width}:{bottom:e.bottom,height:e.height,left:e.left-954+334,right:e.right,top:e.top,width:e.width}),e}},{key:"getCustomScrollbarSpecs",value:function getCustomScrollbarSpecs(){var e=0;if("undefined"!=typeof document){var t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.position="absolute",t.style.top="-9999",t.style.left="-9999",t.style.zIndex="-1000",t.style.overflow="scroll",t.style.MsOverflowStyle="scrollbar",document.body.appendChild(t),e=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return{browserScrollbarWidth:e||15,scrollbarNegativeMarginValue:e||0}}},{key:"findByKey",value:function findByKey(e,t){for(var r=!1,n=Object.keys(e),o=0;o<n.length;o++)if(n[o]===t)return r=!0;return r}},{key:"getEmailVerificationStatusCallback",value:function getEmailVerificationStatusCallback(e){var t=this;this.channel.send(ms);var r=this.channel.subscribe(Ta,(function(n){t.connectService.getUserData(n.ticket,n.sessionId,n.userId,t.getNextUrl(),e,t.options.thirdPartyCookiesSupport),t.channel.unsuscribe(r)}))}},{key:"triggerEmailVerificationCallback",value:function triggerEmailVerificationCallback(e){var t=this;this.channel.send(ms);var r=this.channel.subscribe(Ta,(function(n){t.connectService.triggerEmailActivation(n.ticket,n.sessionId,n.userId,t.getNextUrl(),e,(,t.options.thirdPartyCookiesSupport),t.channel.unsuscribe(r)}))}},{key:"handleLogin",value:function handleLogin(e){var t=this;this.connectService.ubisoftConnectService.getThirdPartyStatus().then((function(r){t.channel.send(Ps,{status:r,config:e})}))}},{key:"handleLogout",value:,{key:"handleOpenPopupWindow",value:function handleOpenPopupWindow(e){this.openPopupWindow({url:e.url,title:e.title,width:e.width,height:e.height,availWidth:window.top.screen.availWidth,availLeft:window.top.screen.availLeft?window.top.screen.availLeft:0,availHeight:window.top.screen.availHeight,availTop:window.top.screen.availTop?window.top.screen.availTop:0})}},{key:"addCrossDomainEventListenerWithTopic",value:function addCrossDomainEventListenerWithTopic(e,t,r){var n=function listener(n){if(n&&n.origin&&n.origin==t&&n.data&&n.data==e){var o=n.data.payload;void 0===o&&(o=null),r(o?"string"==typeof o?JSON.parse(o):o:{})}},o=window.addEventListener?"addEventListener":"attachEvent";return(0,window[o])("attachEvent"==o?"onmessage":"message",n,!1),n}},{key:"addCrossDomainEventListener",value:function addCrossDomainEventListener(e,t,r,n){var o=function listener(o){if(o&&o.origin&&o.origin==e&&o.data&&o.data&&"string"==typeof o.data)try{JSON.parse(o.data)[t]&&-1!==JSON.parse(o.data)[t].indexOf(r)&&n()}catch(e){}},i=window.addEventListener?"addEventListener":"attachEvent";return(0,window[i])("attachEvent"==i?"onmessage":"message",o,!1),o}},{key:"removeEventListners",value:function removeEventListners(){var e=this;this.subscriptions.length&&this.subscriptions.forEach((),this.listeners.length&&this.listeners.forEach(()}},{key:"toggleLoginType",value:,{key:"changeLocaleClassOnOverlayContainer",value:function changeLocaleClassOnOverlayContainer(e){var t=document.getElementById("overlay-container");t&&(Se[e]||(e="en-GB"),be.map((function(r){t.classList.contains(r)&&r!==e&&t.classList.remove(r)})),t.classList.contains(e)||t.classList.add(e))}},{key:"changeLoggedClassOnOverlayContainer",value:function changeLoggedClassOnOverlayContainer(e){var t=document.getElementById("overlay-container");t&&(e?(t.classList.add("logged-in"),t.classList.remove("logged-out")):(t.classList.add("logged-out"),t.classList.remove("logged-in")))}},{key:"changeIsInDesktopResizeClassOnOverlayContainer",value:function changeIsInDesktopResizeClassOnOverlayContainer(e){var t=document.getElementById("overlay-container");t&&("true"==e||1==e?t.classList.add("desktop-resize"):t.classList.remove("desktop-resize"))}},{key:"changeShowSignInTextClassOnOverlayContainer",value:function changeShowSignInTextClassOnOverlayContainer(e){var t=document.getElementById("overlay-container");t&&(e==Qs||e==Ys||e==Xs||1==e?t.classList.add("with-login-text"):t.classList.remove("with-login-text"),e==Qs||e==Xs||1==e?t.classList.add("with-avatar"):t.classList.remove("with-avatar"))}},{key:"handleUpdateIntegratorConfiguration",value:function handleUpdateIntegratorConfiguration(e){var t={appId:"string",zIndex:"string",trackingSiteType:"string",trackingSiteName:"string",trackingSiteSection:"string",genomeId:"string",container:"string",locale:"string",height:"number",mobileHeight:"number",themeColor:"string",darkBackground:"boolean",installmentId:"string",loginType:"string",loginExternalType:"string",customerSupportLinks:"Array",overwrittenLinks:"object",clickFriendsProfileType:"string",isInDesktopResize:"boolean",showSignInText:"string",thirdPartyCookiesSupport:"boolean",spaceId:"string",hasParentSiteTrackingIntegrate:"boolean",hasParentSiteTcOptoutSdkCookieSet:"boolean",browserScrollbarWidth:"number",scrollbarNegativeMarginValue:"number",enableDebug:"boolean",customStoreBuyButton:"boolean",onConnect:"function",onShowHide:"function",onShowHideScrollOnMobile:"function",onChangeLocale:"function",collapse:"function",expandFriends:"function",expandPlayerCard:"function",expandNotifications:"function",onFriendAction:"function"};"object"===WidgetService_typeof(e)&&(!Object.keys(e).find((function(r){return!t[r]||("Array"===t[r]?!Array.isArray(e[r]):WidgetService_typeof(e[r])!==t[r])}))&&(this.options=WidgetService_objectSpread(WidgetService_objectSpread({},this.options),e),this.channel.send(As,this.options),Object.prototype.hasOwnProperty.call(e,"enableDebug")&&(this.connectService.debugService.setDebug(e.enableDebug),this.channel.setDebug(e.enableDebug))))}},{key:"checkIfLoginParamsExist",value:function checkIfLoginParamsExist(e){var t=!1;if(!e.loginParams)return t;if(Object.keys(e.loginParams).forEach((function(r){["loginData","lastProfile","rememberMe","rememberDevice","errorRefreshData","lockRequestsKey","ssoCallBackStatusKey"].find(()&&(t=!0,localStorage.setItem(r,JSON.stringify(e.loginParams[r])))})),-1!==Object.keys(e.loginParams).indexOf("".concat(this.config.connectEnv.toUpperCase(),"loginData"))&&-1!==Object.keys(e.loginParams).indexOf("".concat(this.config.connectEnv.toUpperCase(),"ssoCallBackStatusKey"))){this.connectService.removeAllOverlayDataFromLocaleStorage();var r=e.loginParams["".concat(this.config.connectEnv.toUpperCase(),"loginData")];r.status&&"ok"===r.status&&this.connectService.setItemInLocalStorage(this.connectService.CONNECTloginData,{opId:r.opId,sessionId:r.payload.sessionId,ticket:r.payload.ticket,token:r.payload.token,user_id:r.payload.userId,expiration:r.payload.expiration||r.expirationDate}),this.connectService.setCONNECTssoExpirationInLocalStorage(Tl,e.loginParams["".concat(this.config.connectEnv.toUpperCase(),"ssoCallBackStatusKey")].expirationDate),localStorage.getItem("".concat(this.config.connectEnv.toUpperCase(),"errorRefreshData"))&&localStorage.removeItem("".concat(this.config.connectEnv.toUpperCase(),"errorRefreshData")),localStorage.getItem(this.connectService.CONNECTerror)&&localStorage.removeItem(this.connectService.CONNECTerror)}return t}},{key:"openPopupWindow",value:function openPopupWindow(e){var t=(e.availWidth-e.width)/2+e.availLeft,r=(e.availHeight-e.height)/2+e.availTop;this.debugService.log("openPopupWindow: left: ".concat(t)),this.debugService.log("openPopupWindow: top: ".concat(r)),this.debugService.log("openPopupWindow pop up features: toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,width=".concat(e.width,",height=").concat(e.height,",left=").concat(Math.ceil(t),",top=").concat(Math.ceil(r)));try{var n=window.open(e.url,e.title,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,width=".concat(e.width,",height=").concat(e.height,",left=").concat(Math.ceil(t),",top=").concat(Math.ceil(r)));window.focus&&n.focus()}catch(e){console.error(e)}}},{key:"getIsSsoPage",value:function getIsSsoPage(){return this.findByKey(getQueryParameters(),"isSso")||this.findByKey(getQueryParameters(),"refreshStatus")||this.findByKey(getQueryParameters(),"connectSsoId")}},{key:"handleGetThirdPartyStatusForLogin",value:function handleGetThirdPartyStatusForLogin(e){var t=this;this.connectService.ubisoftConnectService.getThirdPartyStatus().then(()}},{key:"handleOnFriendAction",value:function handleOnFriendAction(e){this.options.onFriendAction&&this.options.onFriendAction(e.pid,e.state)}}]),WidgetService}());function ToggleVisitedNotificationsAction_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleVisitedNotificationsAction_createClass(e,t,r){return t&&ToggleVisitedNotificationsAction_defineProperties(e.prototype,t),r&&ToggleVisitedNotificationsAction_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Rh,Nh=ToggleVisitedNotificationsAction_createClass((function ToggleVisitedNotificationsAction(e){!function ToggleVisitedNotificationsAction_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleVisitedNotificationsAction),this.visited=e}));function EmailVerificationService_typeof(e){return EmailVerificationService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EmailVerificationService_typeof(e)}function EmailVerificationService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function EmailVerificationService_setPrototypeOf(e,t){return EmailVerificationService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},EmailVerificationService_setPrototypeOf(e,t)}function EmailVerificationService_createSuper(e){var t=function EmailVerificationService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=EmailVerificationService_getPrototypeOf(e);if(t){var o=EmailVerificationService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return EmailVerificationService_possibleConstructorReturn(this,r)}}function EmailVerificationService_possibleConstructorReturn(e,t){if(t&&("object"===EmailVerificationService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function EmailVerificationService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function EmailVerificationService_getPrototypeOf(e){return EmailVerificationService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},EmailVerificationService_getPrototypeOf(e)}var Uh=injectableForJs([fa])(Rh=function(e){!function EmailVerificationService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EmailVerificationService_setPrototypeOf(e,t)}(EmailVerificationService,e);var t=EmailVerificationService_createSuper(EmailVerificationService);function EmailVerificationService(e){var r;return function EmailVerificationService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmailVerificationService),(r=t.call(this)).channel=e,r}return function EmailVerificationService_createClass(e,t,r){return t&&EmailVerificationService_defineProperties(e.prototype,t),r&&EmailVerificationService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(EmailVerificationService,[{key:"onTriggerEmailActivation",value:function onTriggerEmailActivation(){this.channel.send(xa,{ticket:vl.getIdentity(this.state).ticket,sessionId:vl.getIdentity(this.state).sessionId,userId:vl.getIdentity(this.state).user_id})}},{key:"callback",value:function callback(){var e=this;this.dispatch(new Rn(Eu(this.state),!0)),new Promise(().then((function(){e.dispatch(new Rn(!1,!1))}))}},{key:"afterTriggeredEmailVerification",value:function afterTriggeredEmailVerification(){this.dispatch(new Rn(!1,!0))}}]),EmailVerificationService}(ol))||Rh;function GeneralChannelService_typeof(e){return GeneralChannelService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GeneralChannelService_typeof(e)}function GeneralChannelService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GeneralChannelService_setPrototypeOf(e,t){return GeneralChannelService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},GeneralChannelService_setPrototypeOf(e,t)}function GeneralChannelService_createSuper(e){var t=function GeneralChannelService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=GeneralChannelService_getPrototypeOf(e);if(t){var o=GeneralChannelService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return GeneralChannelService_possibleConstructorReturn(this,r)}}function GeneralChannelService_possibleConstructorReturn(e,t){if(t&&("object"===GeneralChannelService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function GeneralChannelService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function GeneralChannelService_getPrototypeOf(e){return GeneralChannelService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},GeneralChannelService_getPrototypeOf(e)}var Dh,Mh=function(e){!function GeneralChannelService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GeneralChannelService_setPrototypeOf(e,t)}(GeneralChannelService,e);var t=GeneralChannelService_createSuper(GeneralChannelService);function GeneralChannelService(e,r,n){return function GeneralChannelService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GeneralChannelService),t.call(this,e,r,n)}return function GeneralChannelService_createClass(e,t,r){return t&&GeneralChannelService_defineProperties(e.prototype,t),r&&GeneralChannelService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(GeneralChannelService)}(la);function PopulationsApi_typeof(e){return PopulationsApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PopulationsApi_typeof(e)}function PopulationsApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PopulationsApi_setPrototypeOf(e,t){return PopulationsApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},PopulationsApi_setPrototypeOf(e,t)}function PopulationsApi_createSuper(e){var t=function PopulationsApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=PopulationsApi_getPrototypeOf(e);if(t){var o=PopulationsApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return PopulationsApi_possibleConstructorReturn(this,r)}}function PopulationsApi_possibleConstructorReturn(e,t){if(t&&("object"===PopulationsApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function PopulationsApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function PopulationsApi_getPrototypeOf(e){return PopulationsApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},PopulationsApi_getPrototypeOf(e)}var Bh,Vh=injectableForJs([k])(Dh=function(e){!function PopulationsApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PopulationsApi_setPrototypeOf(e,t)}(PopulationsApi,e);var t=PopulationsApi_createSuper(PopulationsApi);function PopulationsApi(e){var r;return function PopulationsApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PopulationsApi),(r=t.call(this)).httpService=e,r}return function PopulationsApi_createClass(e,t,r){return t&&PopulationsApi_defineProperties(e.prototype,t),r&&PopulationsApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(PopulationsApi,[{key:"getMyPopulations",value:function getMyPopulations(e,t){for(var r=this,n=e.slice(),o=[];n.length>0;){var i=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/profiles/me/populations")).query("spaceIds",n.splice(0,50).join(",")).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId);t&&0!==t.length&&i.query("subjects",t.join(",")),o.push(i)}return Promise.all(o.map(()).then((function(e){return e.map((function(e){return e.data.populations})).reduce((function(e,t){return e.concat(t)}),[])}))}}]),PopulationsApi}(ol))||Dh;function PopulationsService_typeof(e){return PopulationsService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PopulationsService_typeof(e)}function PopulationsService_regeneratorRuntime(){PopulationsService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==PopulationsService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function PopulationsService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function PopulationsService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PopulationsService_setPrototypeOf(e,t){return PopulationsService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},PopulationsService_setPrototypeOf(e,t)}function PopulationsService_createSuper(e){var t=function PopulationsService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=PopulationsService_getPrototypeOf(e);if(t){var o=PopulationsService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return PopulationsService_possibleConstructorReturn(this,r)}}function PopulationsService_possibleConstructorReturn(e,t){if(t&&("object"===PopulationsService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function PopulationsService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function PopulationsService_getPrototypeOf(e){return PopulationsService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},PopulationsService_getPrototypeOf(e)}var Wh,Hh=injectableForJs([Vh])(Bh=function(e){!function PopulationsService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PopulationsService_setPrototypeOf(e,t)}(PopulationsService,e);var t,r=PopulationsService_createSuper(PopulationsService);function PopulationsService(e){var t;return function PopulationsService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PopulationsService),(t=r.call(this)).populationsApi=e,t}return function PopulationsService_createClass(e,t,r){return t&&PopulationsService_defineProperties(e.prototype,t),r&&PopulationsService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(PopulationsService,[{key:"loadMyBetaPopulations",value:(t=function PopulationsService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){PopulationsService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){PopulationsService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(PopulationsService_regeneratorRuntime().mark((function _callee(){var e,t,r,n,o,i,s;return PopulationsService_regeneratorRuntime().wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if(e=[],t={},r={},n={},o={},i={},s={},Ft.isExpired(hi.getExpiration(this.getState()),af)){c.next=10;break}return this.dispatch(new hr(hi.getPopulations(this.getState()),hi.getByUniqueName(this.getState()),hi.getByType(this.getState()),hi.getByBetaName(this.getState()),hi.getByPhaseName(this.getState()),hi.getByPlatformCode(this.getState()),hi.getBySpaceId(this.getState()),hi.getExpiration(this.getState()))),c.abrupt("return");case 10:return c.prev=10,c.next=13,this.populationsApi.getMyPopulations([Ft.getBetaPopulationsSpaceId(this.getState())]);case 13:(e=c.sent).forEach((function(e){t["".concat(e.name,"__").concat(e.subject)]=e,s[e.spaceId]?s[e.spaceId].push("".concat(e.name,"__").concat(e.subject)):s[e.spaceId]=["".concat(e.name,"__").concat(e.subject)],Object.keys(e.obj).length&&(r[e.obj.type]?r[e.obj.type].push(e):r[e.obj.type]=[e],n[e.obj.betaName]?n[e.obj.betaName].push(e):n[e.obj.betaName]=[e],o[e.obj.phaseName]?o[e.obj.phaseName].push(e):o[e.obj.phaseName]=[e],i[e.obj.platform]?i[e.obj.platform].push(e):i[e.obj.platform]=[e])})),this.dispatch(new hr(e,t,r,n,o,i,s,a()().unix())),c.next=21;break;case 18:c.prev=18,c.t0=c.catch(10),this.dispatch(new hr(e,t,r,n,o,i,s,0));case 21:case"end":return c.stop()}}),_callee,this,[[10,18]])}))),function loadMyBetaPopulations(){return t.apply(this,arguments)})}]),PopulationsService}(ol))||Bh;function ProfileEntitiesApi_typeof(e){return ProfileEntitiesApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ProfileEntitiesApi_typeof(e)}function ProfileEntitiesApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ProfileEntitiesApi_setPrototypeOf(e,t){return ProfileEntitiesApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ProfileEntitiesApi_setPrototypeOf(e,t)}function ProfileEntitiesApi_createSuper(e){var t=function ProfileEntitiesApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ProfileEntitiesApi_getPrototypeOf(e);if(t){var o=ProfileEntitiesApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ProfileEntitiesApi_possibleConstructorReturn(this,r)}}function ProfileEntitiesApi_possibleConstructorReturn(e,t){if(t&&("object"===ProfileEntitiesApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ProfileEntitiesApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ProfileEntitiesApi_getPrototypeOf(e){return ProfileEntitiesApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ProfileEntitiesApi_getPrototypeOf(e)}var qh,zh=injectableForJs([k])(Wh=function(e){!function ProfileEntitiesApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ProfileEntitiesApi_setPrototypeOf(e,t)}(ProfileEntitiesApi,e);var t=ProfileEntitiesApi_createSuper(ProfileEntitiesApi);function ProfileEntitiesApi(e){var r;return function ProfileEntitiesApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProfileEntitiesApi),(r=t.call(this)).httpService=e,r}return function ProfileEntitiesApi_createClass(e,t,r){return t&&ProfileEntitiesApi_defineProperties(e.prototype,t),r&&ProfileEntitiesApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ProfileEntitiesApi,[{key:"getProfileEntities",value:function getProfileEntities(e,t,r){var n=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v2/profiles/").concat(e,"/entities")).query("type",r).query("spaceId",t).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)).header("Content-Type","application/json");return this.httpService.send(n).then((function(e){return e.data.entities}))}},{key:"createProfileEntity",value:function createProfileEntity(e,t,r,n,o){var i={entityId:"",extendedStorage:{fileExtension:"json"},name:r,obj:n,spaceId:t,tags:[],type:o||r},a=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v2/profiles/").concat(e,"/entities")).post().body(JSON.stringify(i)).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)).header("Content-Type","application/json");return this.httpService.send(a).then((function(e){return e.data}))}},{key:"updateProfileEntity",value:function updateProfileEntity(e,t,r,n,o,i){var a={extendedStorage:{fileExtension:"json"},name:r,obj:n,spaceId:t,revision:o,tags:[],type:i||r},s=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v2/profiles/entities/").concat(e)).put().body(JSON.stringify(a)).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)).header("Content-Type","application/json");return this.httpService.send(s).then((function(e){return e.data}))}}]),ProfileEntitiesApi}(ol))||Wh;function ProfileEntitiesService_typeof(e){return ProfileEntitiesService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ProfileEntitiesService_typeof(e)}function ProfileEntitiesService_regeneratorRuntime(){ProfileEntitiesService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==ProfileEntitiesService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function ProfileEntitiesService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ProfileEntitiesService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){ProfileEntitiesService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){ProfileEntitiesService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function ProfileEntitiesService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ProfileEntitiesService_setPrototypeOf(e,t){return ProfileEntitiesService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ProfileEntitiesService_setPrototypeOf(e,t)}function ProfileEntitiesService_createSuper(e){var t=function ProfileEntitiesService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ProfileEntitiesService_getPrototypeOf(e);if(t){var o=ProfileEntitiesService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ProfileEntitiesService_possibleConstructorReturn(this,r)}}function ProfileEntitiesService_possibleConstructorReturn(e,t){if(t&&("object"===ProfileEntitiesService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ProfileEntitiesService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ProfileEntitiesService_getPrototypeOf(e){return ProfileEntitiesService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ProfileEntitiesService_getPrototypeOf(e)}var Qh,Yh=injectableForJs([zh])(qh=function(e){!function ProfileEntitiesService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ProfileEntitiesService_setPrototypeOf(e,t)}(ProfileEntitiesService,e);var t,r,n,o,i=ProfileEntitiesService_createSuper(ProfileEntitiesService);function ProfileEntitiesService(e){var t;return function ProfileEntitiesService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProfileEntitiesService),(t=i.call(this)).profileEntitiesApi=e,t}return function ProfileEntitiesService_createClass(e,t,r){return t&&ProfileEntitiesService_defineProperties(e.prototype,t),r&&ProfileEntitiesService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ProfileEntitiesService,[{key:"loadMyProfileEntities",value:(o=ProfileEntitiesService_asyncToGenerator(ProfileEntitiesService_regeneratorRuntime().mark((function _callee(){return ProfileEntitiesService_regeneratorRuntime().wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.common(this.profileEntitiesApi.getProfileEntities(vl.getUserId(this.getState()),Ft.getBetaEnitySpaceId(this.getState()),Ft.getBetaType(this.getState())));case 2:case"end":return e.stop()}}),_callee,this)}))),function loadMyProfileEntities(){return o.apply(this,arguments)})},{key:"createProfileEntity",value:(n=ProfileEntitiesService_asyncToGenerator(ProfileEntitiesService_regeneratorRuntime().mark((function _callee2(e){return ProfileEntitiesService_regeneratorRuntime().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.common(this.profileEntitiesApi.createProfileEntity(vl.getUserId(this.getState()),Ft.getBetaEnitySpaceId(this.getState()),"Beta",e,Ft.getBetaType(this.getState())));case 2:case"end":return t.stop()}}),_callee2,this)}))),function createProfileEntity(e){return n.apply(this,arguments)})},{key:"updateProfileEntity",value:(r=ProfileEntitiesService_asyncToGenerator(ProfileEntitiesService_regeneratorRuntime().mark((function _callee3(e,t,r){return ProfileEntitiesService_regeneratorRuntime().wrap((function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:if(e&&t&&r){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,this.common(this.profileEntitiesApi.updateProfileEntity(e,Ft.getBetaEnitySpaceId(this.getState()),"Beta",t,r,Ft.getBetaType(this.getState())));case 4:case"end":return n.stop()}}),_callee3,this)}))),function updateProfileEntity(e,t,n){return r.apply(this,arguments)})},{key:"common",value:(t=ProfileEntitiesService_asyncToGenerator(ProfileEntitiesService_regeneratorRuntime().mark((function _callee4(e){var t,r,n;return ProfileEntitiesService_regeneratorRuntime().wrap((function _callee4$(o){for(;;)switch(o.prev=o.next){case 0:return t=[],r={},n={},o.prev=3,o.next=6,e;case 6:t=o.sent,Array.isArray(t)?t.map((function(e){r[e.entityId]=e,n[e.spaceId]?n[e.spaceId].push(e.entityId):n[e.spaceId]=[e.entityId]})):(r[t.entityId]=t,n[t.applicationId]?n[t.applicationId].push(t.entityId):n[t.applicationId]=[t.entityId],t=[t]),this.dispatch(new yr(t,r,n)),o.next=15;break;case 11:o.prev=11,o.t0=o.catch(3),console.error(o.t0),this.dispatch(new yr(t,r,n));case 15:case"end":return o.stop()}}),_callee4,this,[[3,11]])}))),function common(e){return t.apply(this,arguments)})}]),ProfileEntitiesService}(ol))||qh;function NewsApi_typeof(e){return NewsApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NewsApi_typeof(e)}function NewsApi_regeneratorRuntime(){NewsApi_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==NewsApi_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function NewsApi_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function NewsApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function NewsApi_setPrototypeOf(e,t){return NewsApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},NewsApi_setPrototypeOf(e,t)}function NewsApi_createSuper(e){var t=function NewsApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=NewsApi_getPrototypeOf(e);if(t){var o=NewsApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return NewsApi_possibleConstructorReturn(this,r)}}function NewsApi_possibleConstructorReturn(e,t){if(t&&("object"===NewsApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function NewsApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function NewsApi_getPrototypeOf(e){return NewsApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},NewsApi_getPrototypeOf(e)}var Xh,Kh=injectableForJs([k])(Qh=function(e){!function NewsApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NewsApi_setPrototypeOf(e,t)}(NewsApi,e);var t,r=NewsApi_createSuper(NewsApi);function NewsApi(e){var t;return function NewsApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NewsApi),(t=r.call(this)).httpService=e,t}return function NewsApi_createClass(e,t,r){return t&&NewsApi_defineProperties(e.prototype,t),r&&NewsApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(NewsApi,[{key:"getNews",value:(t=function NewsApi_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){NewsApi_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){NewsApi_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(NewsApi_regeneratorRuntime().mark((function _callee(e,t,r,n,o){var i,a,s,c,l=this;return NewsApi_regeneratorRuntime().wrap((function _callee$(u){for(;;)switch(u.prev=u.next){case 0:for(i=e.slice(),a=[],s=function callback(e){var i=new ca("".concat(Ft.getUbiServicesEndpoint(l.getState()),"/v1/spaces/news")).query("spaceId",e.join(",")).header("Ubi-Appid",pt.getApplicationId(l.getState())).header("Ubi-localeCode",o||me.getCurrentLocale(l.getState())).header("Content-Type","application/json");return t&&i.header("Ubi-SessionId",vl.getIdentity(l.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(l.getState()).ticket)),null!=r&&i.query("placement",r),null!=n&&i.query("info",n),i};i.length>0;)a.push(s(i.splice(0,50)));return c=a.map((function(e){return l.httpService.send(e)})),u.abrupt("return",Promise.all(c).then((function(e){return null!=n&&e[0].data.AvailablePlacementsList?e.reduce((function(e,t){return e.concat(t.data.AvailablePlacementsList)}),[]):e.reduce((,[])})));case 6:case"end":return u.stop()}}),_callee)}))),function getNews(e,r,n,o,i){return t.apply(this,arguments)})}]),NewsApi}(ol))||Qh;function NewsService_typeof(e){return NewsService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NewsService_typeof(e)}function NewsService_regeneratorRuntime(){NewsService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==NewsService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function NewsService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NewsService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function NewsService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function NewsService_setPrototypeOf(e,t){return NewsService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},NewsService_setPrototypeOf(e,t)}function NewsService_createSuper(e){var t=function NewsService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=NewsService_getPrototypeOf(e);if(t){var o=NewsService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return NewsService_possibleConstructorReturn(this,r)}}function NewsService_possibleConstructorReturn(e,t){if(t&&("object"===NewsService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function NewsService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function NewsService_getPrototypeOf(e){return NewsService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},NewsService_getPrototypeOf(e)}var $h,Jh=injectableForJs([Kh])(Xh=function(e){!function NewsService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NewsService_setPrototypeOf(e,t)}(NewsService,e);var t,r=NewsService_createSuper(NewsService);function NewsService(e){var t;return function NewsService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NewsService),(t=r.call(this)).newsApi=e,t}return function NewsService_createClass(e,t,r){return t&&NewsService_defineProperties(e.prototype,t),r&&NewsService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(NewsService,[{key:"loadNews",value:(t=function NewsService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){NewsService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){NewsService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(NewsService_regeneratorRuntime().mark((function _callee(e){var t,r,n,o,i;return NewsService_regeneratorRuntime().wrap((function _callee$(s){for(;;)switch(s.prev=s.next){case 0:if(t=[],r={},n={},o=e.sort().join(","),i=xi.getExpiration(this.getState())&&xi.getExpiration(this.getState())[o]?xi.getExpiration(this.getState())[o]:0,Ft.isExpired(i,af)){s.next=8;break}return this.dispatch(new Ar),s.abrupt("return");case 8:return s.prev=8,s.next=11,this.newsApi.getNews(e,!0);case 11:if(0!=(t=s.sent).length||"en-US"===me.getCurrentLocale(this.store.getState())){s.next=16;break}return s.next=15,this.newsApi.getNews(e,!0,null,null,"en-US");case 15:t=s.sent;case 16:t.map((function(e){r[e.newsId]=e,n[e.spaceId]?n[e.spaceId].push(e.newsId):n[e.spaceId]=[e.newsId]})),this.dispatch(new gr(t,r,n,NewsService_defineProperty({},o,a()().unix()))),s.next=23;break;case 20:s.prev=20,s.t0=s.catch(8),this.dispatch(new gr(t,r,n,NewsService_defineProperty({},o,0)));case 23:case"end":return s.stop()}}),_callee,this,[[8,20]])}))),function loadNews(e){return t.apply(this,arguments)})}]),NewsService}(ol))||Xh,Zh=function mapPopulationTypeToNewsType(e,t,r){if(!Object.keys(r.obj).length)return!1;if("2"==e&&!t)return e==r.obj.type;if("2"==e&&t){var n="PC"==t?"pc"==r.obj.platform:"console"==r.obj.platform;return e==r.obj.type&&n}return e==r.obj.type},ey=(0,I.P1)("NotificationsQueries.getHasBetaPopulations",hi.getBySpaceId,hi.getByUniqueName,Ft.getBetaPopulationsSpaceId,(function(e,t,r){return!!e[r]&&(e[r].length>0&&!!e[r].map((function(e){return t[e]})).find(())})),ty=(0,I.P1)("NotificationsQueries.getHasBetaPopulations",hi.getBySpaceId,Ft.getBetaPopulationsSpaceId,(function(e,t){return e[t]?e[t].length:0})),ry=(0,I.P1)("NotificationsQueries.getHasBetaPopulations",ey,hi.getBySpaceId,hi.getByUniqueName,Ft.getBetaPopulationsSpaceId,(function(e,t,r,n){return e?t[n].map((function(e){return r[e]})):[]})),ny=(0,I.P1)("NotificationsQueries.getHasBetaPopulations",ry,(function(e){return e.length?e.filter((function(e){return!!e.obj&&a()().isBetween(a()(e.obj.PhaseStartDate),a()(e.obj.PhaseEndDate))})):[]})),oy=(0,I.P1)("NotificationsQueries.getHasBetaNews",ny,(function(e){return e.length})),iy=(0,I.P1)("NotificationsQueries.getHasBetaEntities",ki.getBySpaceId,Ft.getBetaEnitySpaceId,(function(e,t){return!!e[t]&&e[t].length>0})),ay=(0,I.P1)("NotificationsQueries.getHasBetaEntities",ki.getBySpaceId,Ft.getBetaEnitySpaceId,(function(e,t){return e[t]?e[t].length:0})),sy=(0,I.P1)("NotificationsQueries.getHasBetaPopulations",iy,ki.getBySpaceId,ki.getByEntityId,Ft.getBetaEnitySpaceId,(function(e,t,r,n){return e?t[n].map((function(e){return r[e]})).filter((function(e){return"Beta"==e.name})):[]})),cy=(0,I.P1)("NotificationsQueries.getHasBetaPopulations",iy,sy,(function(e,t){return e?t[0]:null})),ly=(0,I.P1)("NotificationsQueries.getHasBetaPopulations",iy,cy,(function(e,t){return e&&t?t.revision:1})),uy=(0,I.P1)("NotificationsQueries.getHasBetaPopulations",iy,cy,(function(e,t){return e&&t?t.entityId:null})),fy=(0,I.P1)("NotificationsQueries.getHasBetaPopulations",iy,cy,(),dy=(0,I.P1)("NotificationsQueries.getHasBetaNews",xi.getBySpaceId,Ft.getBetaPopulationsSpaceId,(function(e,t){return!!e[t]&&e[t].length>0})),py=(0,I.P1)("NotificationsQueries.getHasBetaNews",xi.getBySpaceId,Ft.getBetaPopulationsSpaceId,(),hy=(0,I.P1)("NotificationsQueries.getHasBetaPopulations",dy,xi.getBySpaceId,xi.getById,Ft.getBetaPopulationsSpaceId,(function(e,t,r,n){return e?t[n].map((function(e){return r[e]})):[]})),yy=(0,I.P1)("NotificationsQueries.getHasBetaPopulations",ey,iy,dy,ny,hy,fy,(function(e,t,r,n,o,i){return e||t||r?(t||r)&&t?n.map((function(e){var t=(0,s.find)(i,(function(t){return t.name==e.name}));if(t){var r=e.obj.type!==t.type||e.obj.betaName!==t.betaName||e.obj.PhaseEndDate!==t.eraseDate;return{name:e.name,betaName:e.obj.betaName,type:e.obj.type,firstDisplayDate:t.firstDisplayDate,lastDisplayDate:t.lastDisplayDate,userAction:r?null:t.userAction,actionDate:r?null:t.actionDate,seen:r?null:t.seen,seenNb:r?null:t.seenNb,eraseDate:e.obj.PhaseEndDate,version:"1.0"}}return{name:e.name,betaName:e.obj.betaName,type:e.obj.type,firstDisplayDate:a()().utc().format("YYYY-MM-DD HH:mm:ss"),lastDisplayDate:null,userAction:null,actionDate:null,seen:!1,seenNb:!1,eraseDate:e.obj.PhaseEndDate,version:"1.0"}})):n.map((function(e){return{name:e.name,betaName:e.obj.betaName,type:e.obj.type,firstDisplayDate:a()().utc().format("YYYY-MM-DD HH:mm:ss"),lastDisplayDate:null,userAction:null,actionDate:null,seen:!1,seenNb:!1,eraseDate:e.obj.PhaseEndDate,version:"1.0"}})):[]})),gy={getHasBetaPopulations:ey,getNbOfBetaPopulations:ty,getBetaPopulations:ry,getBetaPopulationsWithinDate:ny,getNbOfBetaPopulationsWithinDate:oy,getHasBetaEntities:iy,getNbOfBetaEntities:ay,getProfileEntities:sy,getProfileEntity:cy,getProfileEntityRevison:ly,getProfileEntityId:uy,getProfileEntityObj:fy,getHasBetaNews:dy,getNbOfBetaNews:py,getNews:hy,getComputedEntities:yy,getComputedEntitiesObj:(0,I.P1)("NotificationsQueries.getComputedEntities",yy,(function(e){var t={};return e.length?(e.forEach((function(e,r){t[(r+1).toString()]=e})),t):t})),getComputedNotifications:(0,I.P1)("NotificationsQueries.getHasBetaPopulations",yy,ny,hy,(function(e,t,r){return e.map((function(e){var n=t.find((function(t){return t.name==e.name}));return{betaId:e.name,betaNotSeen:!e.seen,betaName:n?n.obj.betaName:null,betaPhase:n?n.obj.phaseName:null,betaUrl:n?n.obj.url:null,betaType:n?n.obj.type:null,betaPlatform:n?n.obj.platform:null,betaText:r.find((function(t){return Zh(e.type,n?n.obj.platform:null,t)}))?gy.changNewsBodyRelatedToPopulationsTypeAndPlatform(e.type,n?n.obj.platform:null,r.find((function(t){return Zh(e.type,n?n.obj.platform:null,t)})).body):null}}))})),getNbOfNotifications:(0,I.P1)("NotificationsQueries.getNbOfNotifications",yy,Gu,(function(e,t){return e.filter((function(e){return!e.seenNb})).length+t})),mapPopulationTypeToNewsType:Zh,changNewsBodyRelatedToPopulationsTypeAndPlatform:function changNewsBodyRelatedToPopulationsTypeAndPlatform(e,t,r){var n=r;if("2"===e){if("PC"!==t){var o=r.split(". ");n=(o=o.filter((function(e){return-1===e.indexOf("%(link)")}))).join(". ")}}else{var i=r.split(". ");n=(i=i.filter(()).join(". ")}return n}};function BetaNotificationsService_typeof(e){return BetaNotificationsService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BetaNotificationsService_typeof(e)}function BetaNotificationsService_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function BetaNotificationsService_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?BetaNotificationsService_ownKeys(Object(r),!0).forEach((function(t){BetaNotificationsService_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BetaNotificationsService_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function BetaNotificationsService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BetaNotificationsService_regeneratorRuntime(){BetaNotificationsService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==BetaNotificationsService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function BetaNotificationsService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function BetaNotificationsService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){BetaNotificationsService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){BetaNotificationsService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function BetaNotificationsService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BetaNotificationsService_setPrototypeOf(e,t){return BetaNotificationsService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},BetaNotificationsService_setPrototypeOf(e,t)}function BetaNotificationsService_createSuper(e){var t=function BetaNotificationsService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=BetaNotificationsService_getPrototypeOf(e);if(t){var o=BetaNotificationsService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return BetaNotificationsService_possibleConstructorReturn(this,r)}}function BetaNotificationsService_possibleConstructorReturn(e,t){if(t&&("object"===BetaNotificationsService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function BetaNotificationsService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function BetaNotificationsService_getPrototypeOf(e){return BetaNotificationsService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},BetaNotificationsService_getPrototypeOf(e)}var vy,my=injectableForJs([Hh,Yh,Jh,nh])($h=function(e){!function BetaNotificationsService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BetaNotificationsService_setPrototypeOf(e,t)}(BetaNotificationsService,e);var t,r,n,o=BetaNotificationsService_createSuper(BetaNotificationsService);eturn function BetaNotificationsService_createClass(e,t,r){return t&&BetaNotificationsService_defineProperties(e.prototype,t),r&&BetaNotificationsService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(BetaNotificationsService,[{key:"getBetaNotifications",value:(n=BetaNotificationsService_asyncToGenerator(BetaNotificationsService_regeneratorRuntime().mark((function _callee(){return BetaNotificationsService_regeneratorRuntime().wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.populationsService.loadMyBetaPopulations();case 2:if(!gy.getHasBetaPopulations(this.getState())){e.next=12;break}return e.next=5,Promise.all([this.profileEntitiesService.loadMyProfileEntities(),this.newsService.loadNews([Ft.getBetaPopulationsSpaceId(this.getState())])]);case 5:if(!gy.getHasBetaEntities(this.getState())){e.next=10;break}return e.next=8,this.profileEntitiesService.updateProfileEntity(gy.getProfileEntityId(this.getState()),gy.getComputedEntitiesObj(this.getState()),gy.getProfileEntityRevison(this.getState()));case 8:e.next=12;break;case 10:return e.next=12,this.profileEntitiesService.createProfileEntity(gy.getComputedEntitiesObj(this.getState()));case 12:case"end":return e.stop()}}),_callee,this)}))),function getBetaNotifications(){return n.apply(this,arguments)})},{key:"seenAllNotifications",value:(r=BetaNotificationsService_asyncToGenerator(BetaNotificationsService_regeneratorRuntime().mark((function _callee2(e,t,r){var n;return BetaNotificationsService_regeneratorRuntime().wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:if(e){o.next=2;break}return o.abrupt("return");case 2:if(n=gy.getComputedEntitiesObj(this.getState()),!(0,s.find)(n,()){o.next=7;break}return(0,s.each)(n,(function(e,o){n[o]=BetaNotificationsService_objectSpread(BetaNotificationsService_objectSpread({},e),{seen:t,seenNb:r,lastDisplayDate:a()().utc().format("YYYY-MM-DD HH:mm:ss")})})),o.next=7,this.profileEntitiesService.updateProfileEntity(gy.getProfileEntityId(this.getState()),n,gy.getProfileEntityRevison(this.getState()));case 7:case"end":return o.stop()}}),_callee2,this)}))),function seenAllNotifications(e,t,n){return r.apply(this,arguments)})},{key:"onClickBeta",value:(t=BetaNotificationsService_asyncToGenerator(BetaNotificationsService_regeneratorRuntime().mark((function _callee3(e){var t,r,n,o,i,c;return BetaNotificationsService_regeneratorRuntime().wrap((function _callee3$(l){for(;;)switch(l.prev=l.next){case 0:if(t=gy.getComputedEntitiesObj(this.getState()),r=null,!(n=(0,s.find)(t,(function(t,n){return r=n,t.name==e})))){l.next=11;break}return o=gy.getBetaPopulations(this.getState()),(i=o.find((function(e){return e.name==n.name})))&&(c="","2"==i.obj.type&&"PC"==i.obj.platform?c="Preload now":"1"==i.obj.type?c="Accept the NDA":"2"==i.obj.type?c="Get my key":"3"==i.obj.type&&(c="Get my access"),this.analyticsService.trackEvent("notifications tab","notifications panel","global nav","action","".concat(i.obj.betaName," : ").concat(i.obj.phaseName," : ").concat(c))),n=BetaNotificationsService_objectSpread(BetaNotificationsService_objectSpread({},n),{userAction:"link",lastDisplayDate:a()().utc().format("YYYY-MM-DD HH:mm:ss"),actionDate:a()().utc().format("YYYY-MM-DD HH:mm:ss"),seen:!0,seenNb:!0}),t[r]=n,l.next=11,this.profileEntitiesService.updateProfileEntity(gy.getProfileEntityId(this.getState()),t,gy.getProfileEntityRevison(this.getState()));case 11:case"end":return l.stop()}}),_callee3,this)}))),function onClickBeta(e){return t.apply(this,arguments)})}]),BetaNotificationsService}(ol))||$h;function MetaProgressionProfileApi_typeof(e){return MetaProgressionProfileApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MetaProgressionProfileApi_typeof(e)}function MetaProgressionProfileApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MetaProgressionProfileApi_setPrototypeOf(e,t){return MetaProgressionProfileApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},MetaProgressionProfileApi_setPrototypeOf(e,t)}function MetaProgressionProfileApi_createSuper(e){var t=function MetaProgressionProfileApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=MetaProgressionProfileApi_getPrototypeOf(e);if(t){var o=MetaProgressionProfileApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return MetaProgressionProfileApi_possibleConstructorReturn(this,r)}}function MetaProgressionProfileApi_possibleConstructorReturn(e,t){if(t&&("object"===MetaProgressionProfileApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function MetaProgressionProfileApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function MetaProgressionProfileApi_getPrototypeOf(e){return MetaProgressionProfileApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},MetaProgressionProfileApi_getPrototypeOf(e)}var by,Sy=injectableForJs([k])(vy=function(e){!function MetaProgressionProfileApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MetaProgressionProfileApi_setPrototypeOf(e,t)}(MetaProgressionProfileApi,e);var t=MetaProgressionProfileApi_createSuper(MetaProgressionProfileApi);function MetaProgressionProfileApi(e){var r;return function MetaProgressionProfileApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MetaProgressionProfileApi),(r=t.call(this)).httpService=e,r}return function MetaProgressionProfileApi_createClass(e,t,r){return t&&MetaProgressionProfileApi_defineProperties(e.prototype,t),r&&MetaProgressionProfileApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(MetaProgressionProfileApi,[{key:"getMyMetaProgression",value:function getMyMetaProgression(){var e=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/profiles/me/global/ubiconnect/economy/api/metaprogression")).get().header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket));return this.httpService.send(e).then((function(e){return e.data})).catch((function(e){return e}))}},{key:"getProfileMetaProgressionByProfileId",value:function getProfileMetaProgressionByProfileId(e){var t=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/profiles/").concat(e,"/global/ubiconnect/economy/api/metaprogression")).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket));return this.httpService.send(t).then((function(e){return e.data})).catch((function(e){return e}))}}]),MetaProgressionProfileApi}(ol))||vy;function MetaProgressionProfileService_typeof(e){return MetaProgressionProfileService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MetaProgressionProfileService_typeof(e)}function MetaProgressionProfileService_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function MetaProgressionProfileService_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MetaProgressionProfileService_ownKeys(Object(r),!0).forEach((function(t){MetaProgressionProfileService_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MetaProgressionProfileService_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function MetaProgressionProfileService_regeneratorRuntime(){MetaProgressionProfileService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==MetaProgressionProfileService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function MetaProgressionProfileService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MetaProgressionProfileService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function MetaProgressionProfileService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){MetaProgressionProfileService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){MetaProgressionProfileService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function MetaProgressionProfileService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MetaProgressionProfileService_setPrototypeOf(e,t){return MetaProgressionProfileService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},MetaProgressionProfileService_setPrototypeOf(e,t)}function MetaProgressionProfileService_createSuper(e){var t=function MetaProgressionProfileService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=MetaProgressionProfileService_getPrototypeOf(e);if(t){var o=MetaProgressionProfileService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return MetaProgressionProfileService_possibleConstructorReturn(this,r)}}function MetaProgressionProfileService_possibleConstructorReturn(e,t){if(t&&("object"===MetaProgressionProfileService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function MetaProgressionProfileService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function MetaProgressionProfileService_getPrototypeOf(e){return MetaProgressionProfileService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},MetaProgressionProfileService_getPrototypeOf(e)}var wy,Py=injectableForJs([Sy])(by=function(e){!function MetaProgressionProfileService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MetaProgressionProfileService_setPrototypeOf(e,t)}(MetaProgressionProfileService,e);var t,r,n,o=MetaProgressionProfileService_createSuper(MetaProgressionProfileService);function MetaProgressionProfileService(e){var t;return function MetaProgressionProfileService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MetaProgressionProfileService),(t=o.call(this)).metaProgressionProfileApi=e,t}return function MetaProgressionProfileService_createClass(e,t,r){return t&&MetaProgressionProfileService_defineProperties(e.prototype,t),r&&MetaProgressionProfileService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(MetaProgressionProfileService,[{key:"loadMyMetaProgression",value:(n=MetaProgressionProfileService_asyncToGenerator(MetaProgressionProfileService_regeneratorRuntime().mark((function _callee(){var e,t,r,n,o;return MetaProgressionProfileService_regeneratorRuntime().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(Ft.isExpired(Vi.getExpiration(this.getState())[vl.getUserId(this.getState())],af)){i.next=3;break}return this.dispatch(new Gi(Vi.getById(this.getState()),Vi.getHasProfileCallError(this.getState()),Vi.getExpiration(this.getState()),Vi.getLoaded(this.getState()))),i.abrupt("return");case 3:return this.dispatch(new Ti(MetaProgressionProfileService_defineProperty({},vl.getUserId(this.getState()),!1))),e={},t={},r={},n={},i.prev=8,i.next=11,this.metaProgressionProfileApi.getMyMetaProgression();case 11:o=i.sent,e[o.profileId]=o,t[o.profileId]=!1,r[o.profileId]=a()().unix(),n[o.profileId]=!0,this.dispatch(new Gi(e,t,r,n)),i.next=23;break;case 19:i.prev=19,i.t0=i.catch(8),this.dispatch(new Gi(e,MetaProgressionProfileService_defineProperty({},vl.getUserId(this.getState()),!0),Vi.getExpiration(this.getState()),MetaProgressionProfileService_defineProperty({},vl.getUserId(this.getState()),!0))),console.error(i.t0);case 23:case"end":return i.stop()}}),_callee,this,[[8,19]])}))),function loadMyMetaProgression(){return n.apply(this,arguments)})},{key:"loadFriendMetaProgression",value:(r=MetaProgressionProfileService_asyncToGenerator(MetaProgressionProfileService_regeneratorRuntime().mark((function _callee2(e){var t,r,n,o,i;return MetaProgressionProfileService_regeneratorRuntime().wrap((function _callee2$(s){for(;;)switch(s.prev=s.next){case 0:if(Ft.isExpired(Vi.getExpiration(this.getState())[e],af)){s.next=3;break}return this.dispatch(new Gi(Vi.getById(this.getState()),Vi.getHasProfileCallError(this.getState()),Vi.getExpiration(this.getState()),Vi.getLoaded(this.getState()))),s.abrupt("return");case 3:return this.dispatch(new Ti(MetaProgressionProfileService_defineProperty({},e,!1))),t={},r={},n={},o={},s.prev=8,s.next=11,this.metaProgressionProfileApi.getProfileMetaProgressionByProfileId(e);case 11:i=s.sent,t[i.profileId]=i,r[i.profileId]=!1,n[i.profileId]=a()().unix(),o[i.profileId]=!0,this.dispatch(new Gi(t,r,n,o)),s.next=23;break;case 19:s.prev=19,s.t0=s.catch(8),this.dispatch(new Gi(t,MetaProgressionProfileService_defineProperty({},e,!0),Vi.getExpiration(this.getState()),MetaProgressionProfileService_defineProperty({},e,!0))),console.error(s.t0);case 23:case"end":return s.stop()}}),_callee2,this,[[8,19]])}))),function loadFriendMetaProgression(e){return r.apply(this,arguments)})},{key:"loadFriendsMetaProgressions",value:(t=MetaProgressionProfileService_asyncToGenerator(MetaProgressionProfileService_regeneratorRuntime().mark((function _callee3(e){var t,r,n,o,i,s=this;return MetaProgressionProfileService_regeneratorRuntime().wrap((function _callee3$(c){for(;;)switch(c.prev=c.next){case 0:if((t=e.filter((function(e){return Ft.isExpired(Vi.getExpiration(s.getState())[e],af)}))).length){c.next=4;break}return this.dispatch(new Gi(Vi.getById(this.getState()),Vi.getHasProfileCallError(this.getState()),Vi.getExpiration(this.getState()),Vi.getLoaded(this.getState()))),c.abrupt("return");case 4:return this.dispatch(new Ti(t.map((function(e){return MetaProgressionProfileService_defineProperty({},e,!1)})).reduce((function(e,t){return MetaProgressionProfileService_objectSpread(MetaProgressionProfileService_objectSpread({},e),t)})))),r={},n={},o={},i={},c.prev=9,c.next=12,Promise.all(t.map((function(e){return s.metaProgressionProfileApi.getProfileMetaProgressionByProfileId(e)})));case 12:c.sent.forEach((function(e){r[e.profileId]=e,n[e.profileId]=!1,o[e.profileId]=a()().unix(),i[e.profileId]=!0})),this.dispatch(new Gi(r,n,o,i)),c.next=21;break;case 17:c.prev=17,c.t0=c.catch(9),this.dispatch(new Gi(r,{},Vi.getExpiration(this.getState()),t.map((function(e){return MetaProgressionProfileService_defineProperty({},e,!0)})).reduce((function(e,t){return MetaProgressionProfileService_objectSpread(MetaProgressionProfileService_objectSpread({},e),t)})))),console.error(c.t0);case 21:case"end":return c.stop()}}),_callee3,this,[[9,17]])}))),function loadFriendsMetaProgressions(e){return t.apply(this,arguments)})}]),MetaProgressionProfileService}(ol))||by,_y="FRIENDS_RELATIONSHIP_UPDATE",Cy="FRIENDS_RELATIONSHIP_TRIGGER",Oy="FRIENDS_INFO_UPDATED",Ay="invite_received";function ConnectionsApi_typeof(e){return ConnectionsApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ConnectionsApi_typeof(e)}function ConnectionsApi_regeneratorRuntime(){ConnectionsApi_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==ConnectionsApi_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function ConnectionsApi_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ConnectionsApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ConnectionsApi_setPrototypeOf(e,t){return ConnectionsApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ConnectionsApi_setPrototypeOf(e,t)}function ConnectionsApi_createSuper(e){var t=function ConnectionsApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ConnectionsApi_getPrototypeOf(e);if(t){var o=ConnectionsApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ConnectionsApi_possibleConstructorReturn(this,r)}}function ConnectionsApi_possibleConstructorReturn(e,t){if(t&&("object"===ConnectionsApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ConnectionsApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ConnectionsApi_getPrototypeOf(e){return ConnectionsApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ConnectionsApi_getPrototypeOf(e)}var ky,xy=injectableForJs([k])(wy=function(e){!function ConnectionsApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ConnectionsApi_setPrototypeOf(e,t)}(ConnectionsApi,e);var t,r=ConnectionsApi_createSuper(ConnectionsApi);function ConnectionsApi(e){var t;return function ConnectionsApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ConnectionsApi),(t=r.call(this)).httpService=e,t}return function ConnectionsApi_createClass(e,t,r){return t&&ConnectionsApi_defineProperties(e.prototype,t),r&&ConnectionsApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ConnectionsApi,[{key:"getConnectionsByProfileIds",value:(t=function ConnectionsApi_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){ConnectionsApi_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){ConnectionsApi_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(ConnectionsApi_regeneratorRuntime().mark((function _callee(e){var t,r,n,o,i,a,s=this,c=arguments;return ConnectionsApi_regeneratorRuntime().wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:for(t=c.length>1&&void 0!==c[1]?c[1]:0,r=c.length>2&&void 0!==c[2]?c[2]:50,n=c.length>3&&void 0!==c[3]?c[3]:0,o=e.slice(),i=[];o.length>0;)a=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/profiles/connections")).query("profileIds",o.splice(0,50).join(",")).query("locale",me.getCurrentLocale(this.getState())).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)),i.push(a);return l.abrupt("return",Promise.all(i.map((function(e){return e=e.query("offset",t).query("limit",r),s.httpService.send(e).then((function(e){return e.data.connections.length>=r&&n<5?(n++,s.getConnectionsByProfileIds(e.request.getQueryParams().profileIds.split(","),e.request.getQueryParams().offset+50,r,n)):e.data.connections}))}))).then((function(e){return e.map((function(e){return e})).reduce((function(e,t){return e.concat(t)}),[])})));case 7:case"end":return l.stop()}}),_callee,this)}))),function getConnectionsByProfileIds(e){return t.apply(this,arguments)})}]),ConnectionsApi}(ol))||wy;function ConnectionsService_typeof(e){return ConnectionsService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ConnectionsService_typeof(e)}function ConnectionsService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ConnectionsService_regeneratorRuntime(){ConnectionsService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==ConnectionsService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function ConnectionsService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ConnectionsService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){ConnectionsService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){ConnectionsService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function ConnectionsService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ConnectionsService_setPrototypeOf(e,t){return ConnectionsService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ConnectionsService_setPrototypeOf(e,t)}function ConnectionsService_createSuper(e){var t=function ConnectionsService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ConnectionsService_getPrototypeOf(e);if(t){var o=ConnectionsService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ConnectionsService_possibleConstructorReturn(this,r)}}function ConnectionsService_possibleConstructorReturn(e,t){if(t&&("object"===ConnectionsService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ConnectionsService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ConnectionsService_getPrototypeOf(e){return ConnectionsService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ConnectionsService_getPrototypeOf(e)}var Iy,jy=injectableForJs([xy])(ky=function(e){!function ConnectionsService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ConnectionsService_setPrototypeOf(e,t)}(ConnectionsService,e);var t,r,n,o,i=ConnectionsService_createSuper(ConnectionsService);function ConnectionsService(e){var t;return function ConnectionsService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ConnectionsService),(t=i.call(this)).connectionsApi=e,t}return function ConnectionsService_createClass(e,t,r){return t&&ConnectionsService_defineProperties(e.prototype,t),r&&ConnectionsService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ConnectionsService,[{key:"loadMyFriendsConnections",value:(o=ConnectionsService_asyncToGenerator(ConnectionsService_regeneratorRuntime().mark((function _callee(){return ConnectionsService_regeneratorRuntime().wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadConnections(au(this.getState()));case 2:case"end":return e.stop()}}),_callee,this)}))),function loadMyFriendsConnections(){return o.apply(this,arguments)})},{key:"loadFriendConnections",value:(n=ConnectionsService_asyncToGenerator(ConnectionsService_regeneratorRuntime().mark((function _callee2(e){return ConnectionsService_regeneratorRuntime().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadConnections([e]);case 2:case"end":return t.stop()}}),_callee2,this)}))),function loadFriendConnections(e){return n.apply(this,arguments)})},{key:"loadConnections",value:(r=ConnectionsService_asyncToGenerator(ConnectionsService_regeneratorRuntime().mark((function _callee3(e){var t,r,n,o,i,a,s,c,l,u,f;return ConnectionsService_regeneratorRuntime().wrap((function _callee3$(d){for(;;)switch(d.prev=d.next){case 0:if(t=[al,il,sl],r=An.getById(this.getState()),n=e.filter((),o={},i=[],a={},s={},c=Tr.getExpiration(this.getState())[n.join(",")]?Tr.getExpiration(this.getState())[n.join(",")]:0,l=Ft.isExpired(c,nf),u=Tr.getProfileIdsForCall(this.getState()),f=!1,u.length>0&&(f=!n.length||!n.map((function(e){return-1!==u.indexOf(e)})).reduce((function(e,t){return e&&t}))),!l&&!f){d.next=17;break}return d.next=15,this.connectionsCall(n,o,a,s,i);case 15:d.next=22;break;case 17:o=Tr.getById(this.getState()),a=Tr.getByProfileId(this.getState()),s=Tr.getBySpaceId(this.getState()),i=Tr.getIds(this.getState()),this.dispatch(new rr(o,a,s,i,n,{}));case 22:case"end":return d.stop()}}),_callee3,this)}))),function loadConnections(e){return r.apply(this,arguments)})},{key:"connectionsCall",value:(t=ConnectionsService_asyncToGenerator(ConnectionsService_regeneratorRuntime().mark((function _callee4(e,t,r,n,o){return ConnectionsService_regeneratorRuntime().wrap((function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,this.connectionsApi.getConnectionsByProfileIds(e);case 3:i.sent.forEach((function(e){t[e.connectionId]=e,r[e.profileId]=e.connectionId,e.spaceIds.forEach((),o.push(e.connectionId)})),this.dispatch(new rr(t,r,n,o,e,ConnectionsService_defineProperty({},e.join(","),a()().unix()))),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(0),this.dispatch(new rr({},{},{},[],[],ConnectionsService_defineProperty({},e.join(","),0)));case 11:case"end":return i.stop()}}),_callee4,this,[[0,8]])}))),function connectionsCall(e,r,n,o,i){return t.apply(this,arguments)})}]),ConnectionsService}(ol))||ky;function WebsocketService_typeof(e){return WebsocketService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WebsocketService_typeof(e)}function WebsocketService_regeneratorRuntime(){WebsocketService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==WebsocketService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function WebsocketService_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function WebsocketService_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WebsocketService_ownKeys(Object(r),!0).forEach((function(t){WebsocketService_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WebsocketService_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function WebsocketService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WebsocketService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function WebsocketService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function WebsocketService_setPrototypeOf(e,t){return WebsocketService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},WebsocketService_setPrototypeOf(e,t)}function WebsocketService_createSuper(e){var t=function WebsocketService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=WebsocketService_getPrototypeOf(e);if(t){var o=WebsocketService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return WebsocketService_possibleConstructorReturn(this,r)}}function WebsocketService_possibleConstructorReturn(e,t){if(t&&("object"===WebsocketService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function WebsocketService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function WebsocketService_getPrototypeOf(e){return WebsocketService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},WebsocketService_getPrototypeOf(e)}var Ly,Ey=injectableForJs([Py,cf,jy,jh])(Iy=function(e){!function WebsocketService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WebsocketService_setPrototypeOf(e,t)}(WebsocketService,e);var t,r=WebsocketService_createSuper(WebsocketService);function WebsocketService(e,t,n,o){var i;return function WebsocketService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WebsocketService),(i=r.call(this)).metaProgressionProfileService=e,i.profilesService=t,i.connectionsService=n,i.debugService=o,i.socket=void 0,i.handleOnFriendAction=void 0,i}return function WebsocketService_createClass(e,t,r){return t&&WebsocketService_defineProperties(e.prototype,t),r&&WebsocketService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(WebsocketService,[{key:"start",value:function start(e,t){var r=this;if(this.handleOnFriendAction=t,vl.getHasIdentity(this.getState())&&(!this.socket||this.socket.readyState!==WebSocket.CONNECTING&&this.socket.readyState!==WebSocket.CLOSING)){var n=Ft.getWebsocketNotificationTypes(this.getState()),o=Ft.getWebsocketSpaceIds(this.getState()),i=Ft.getWebsocketEndpoint(this.getState());if(n&&o&&i){var a={NotificationTypes:n,SpaceIds:o,"Ubi-AppId":pt.getApplicationId(this.getState()),"Ubi-SessionId":e.sessionId,Authorization:encodeURIComponent("Ubi_v1 t=".concat(e.ticket))},s=Object.keys(a).reduce((function(e,t,r){return r?"".concat(e,"&").concat(t,"=").concat(a[t]):"".concat(e).concat(t,"=").concat(a[t])}),"?"),c="".concat(i,"/v2/websocket").concat(s);if(!this.socket||this.socket.url!==c)return this.socket&&this.socket.url!==c?(this.socket.onclose=function(){r.debugService.log("old socket.onclose"),r.socket=null,r.openNewSocketConnection(c)},void this.socket.close()):void this.openNewSocketConnection(c);this.debugService.warn("Trying to open same socket connection")}}}},{key:"close",value:function close(){this.socket&&this.socket.readyState!==WebSocket.CLOSED&&this.socket.readyState!==WebSocket.CLOSING&&this.socket.close()}},{key:"openNewSocketConnection",value:function openNewSocketConnection(e){var t=this;try{this.socket=new WebSocket(e),this.socket.onopen=function(e){t.debugService.log("socket.onopen"),t.debugService.log(e)},this.socket.onerror=this.socket.onmessage=this.socket.onclose=catch(e){console.error(e)}}},{key:"onSuccess",value:(t=function WebsocketService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){WebsocketService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){WebsocketService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(WebsocketService_regeneratorRuntime().mark((function _callee(e){var t,r,n,o,i,s,c,l,u=this;return WebsocketService_regeneratorRuntime().wrap((function _callee$(f){for(;;)switch(f.prev=f.next){case 0:if(e.data){f.next=2;break}return f.abrupt("return");case 2:if(f.prev=2,(t=JSON.parse(e.data)).content){f.next=6;break}return f.abrupt("return");case 6:r="",f.t0=t.notificationType,f.next=f.t0===Oy||f.t0===Cy?10:f.t0===_y?12:14;break;case 10:return r=t.content.friendProfileId||"",f.abrupt("break",14);case 12:return r=t.content.fromProfileId||"",f.abrupt("break",14);case 14:if(r){f.next=16;break}return f.abrupt("return");case 16:if((r!==Xn.getCurrentUserId(this.getState())||t.content.action===Ay)&&r!==Xn.getCurrentDeclineUserId(this.getState())){f.next=19;break}return this.handleOnFriendAction&&this.handleOnFriendAction(r,t.content.state||pl),f.abrupt("return");case 19:if(r!==Xn.getCurrentUserId(this.getState())||t.content.action!==Ay){f.next=22;break}return f.next=22,new Promise((function(e){return setTimeout((function(){return e()}),3e3)}));case 22:if(n=WebsocketService_objectSpread({},Gr.getByIds(this.state)),o={pid:r,nickname:"",isFavorite:!1,lastModified:t.content.lastModified?a().utc(t.content.lastModified).format("YYYY-MM-DDTHH:mm:ss.SSSS"):a().utc().format("YYYY-MM-DDTHH:mm:ss.SSSS"),state:pl,stillInRequests:!1},n[r]&&(o=n[r]),n[r]=WebsocketService_objectSpread(WebsocketService_objectSpread({},o),{},{state:t.content.state||pl}),i=vl.getUserId(this.getState()),this.dispatch(new er(n,[r],WebsocketService_defineProperty({},i,[r]),WebsocketService_defineProperty({},i,a()().unix()))),this.handleOnFriendAction&&this.handleOnFriendAction(r,n[r].state),s=[],c=Vi.getById(this.getState()),l=An.getById(this.getState()),c[r]&&!Ft.isExpired(Vi.getExpiration(this.getState())[r],af)||s.push(this.metaProgressionProfileService.loadFriendMetaProgression(r)),l[r]&&!Ft.isExpired(An.getExpiration(this.getState())[r],af)||s.push(this.profilesService.loadFriendUserProfiles(r)),s.length){f.next=36;break}return f.abrupt("return");case 36:Promise.all(s).then((function(){return!Tr.getByProfileId(u.getState())[r]||Ft.isExpired(Tr.getExpiration(u.getState())[r],af)?u.connectionsService.loadFriendConnections(r):Promise.resolve()})),f.next=42;break;case 39:f.prev=39,f.t1=f.catch(2),console.error(f.t1);case 42:case"end":return f.stop()}}),_callee,this,[[2,39]])}))),function onSuccess(e){return t.apply(this,arguments)})}]),WebsocketService}(ol))||Iy;function FriendsApi_typeof(e){return FriendsApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FriendsApi_typeof(e)}function FriendsApi_regeneratorRuntime(){FriendsApi_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==FriendsApi_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function FriendsApi_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function FriendsApi_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){FriendsApi_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){FriendsApi_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function FriendsApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FriendsApi_setPrototypeOf(e,t){return FriendsApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},FriendsApi_setPrototypeOf(e,t)}function FriendsApi_createSuper(e){var t=function FriendsApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=FriendsApi_getPrototypeOf(e);if(t){var o=FriendsApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return FriendsApi_possibleConstructorReturn(this,r)}}function FriendsApi_possibleConstructorReturn(e,t){if(t&&("object"===FriendsApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function FriendsApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function FriendsApi_getPrototypeOf(e){return FriendsApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},FriendsApi_getPrototypeOf(e)}var Fy,Gy=injectableForJs([k])(Ly=function(e){!function FriendsApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FriendsApi_setPrototypeOf(e,t)}(FriendsApi,e);var t,r,n=FriendsApi_createSuper(FriendsApi);function FriendsApi(e){var t;return function FriendsApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FriendsApi),(t=n.call(this)).httpService=e,t}return function FriendsApi_createClass(e,t,r){return t&&FriendsApi_defineProperties(e.prototype,t),r&&FriendsApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(FriendsApi,[{key:"getMyFriends",value:(r=FriendsApi_asyncToGenerator(FriendsApi_regeneratorRuntime().mark((function _callee(e){var t;return FriendsApi_regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v3/profiles/").concat(e,"/friends")).query("locale",me.getCurrentLocale(this.getState())).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)),r.abrupt("return",this.httpService.send(t).then((function(e){return e.data.friends})));case 2:case"end":return r.stop()}}),_callee,this)}))),function getMyFriends(e){return r.apply(this,arguments)})},{key:"deleteFriend",value:function deleteFriend(e,t){var r=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v3/profiles/").concat(e,"/friends/").concat(t)).delete().header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket));return this.httpService.send(r).then((function(e){return e.data.friends}))}},{key:"acceptFriend",value:function acceptFriend(e,t){var r=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v3/profiles/").concat(e,"/friends/").concat(t)).put().body(JSON.stringify({state:gl})).header("Content-Type","application/json;charset=UTF-8").header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket));return this.httpService.send(r).then((function(e){return e.data.friends}))}},{key:"sendInviteFriend",value:(t=FriendsApi_asyncToGenerator(FriendsApi_regeneratorRuntime().mark((function _callee2(e,t){var r;return FriendsApi_regeneratorRuntime().wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return r=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v3/profiles/").concat(e,"/friends")).post().body(JSON.stringify({friends:[t]})).header("Content-Type","application/json;charset=UTF-8").header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)),n.abrupt("return",this.httpService.send(r).then((function(e){return e.data.friends})));case 2:case"end":return n.stop()}}),_callee2,this)}))),}]),FriendsApi}(ol))||Ly;function FriendsService_typeof(e){return FriendsService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FriendsService_typeof(e)}function FriendsService_regeneratorRuntime(){FriendsService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==FriendsService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function FriendsService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FriendsService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}unction FriendsService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FriendsService_setPrototypeOf(e,t){return FriendsService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},FriendsService_setPrototypeOf(e,t)}function FriendsService_createSuper(e){var t=function FriendsService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=FriendsService_getPrototypeOf(e);if(t){var o=FriendsService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return FriendsService_possibleConstructorReturn(this,r)}}function FriendsService_possibleConstructorReturn(e,t){if(t&&("object"===FriendsService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function FriendsService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function FriendsService_getPrototypeOf(e){return FriendsService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},FriendsService_getPrototypeOf(e)}var Ty,Ry=injectableForJs([Gy])(Fy=function(e){!function FriendsService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FriendsService_setPrototypeOf(e,t)}(FriendsService,e);var t,r,n,o,i=FriendsService_createSuper(FriendsService);eturn function FriendsService_createClass(e,t,r){return t&&FriendsService_defineProperties(e.prototype,t),r&&FriendsService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(FriendsService,[{key:"loadMyFriends",value:(o=FriendsService_asyncToGenerator(FriendsService_regeneratorRuntime().mark((function _callee(){var e,t;return FriendsService_regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(e=vl.getUserId(this.getState()),Ft.isExpired(Gr.getExpiration(this.getState())[e],of)){r.next=4;break}return this.afterLoadedFriends(Tu(this.getState()),e,Gr.getExpiration(this.getState())),r.abrupt("return",Promise.resolve());case 4:return r.prev=4,r.next=7,this.friendsApi.getMyFriends(vl.getUserId(this.getState()));case 7:return t=r.sent,this.afterLoadedFriends(t,e,FriendsService_defineProperty({},e,a()().unix())),r.abrupt("return",t);case 12:return r.prev=12,r.t0=r.catch(4),this.afterLoadedFriends(Tu(this.getState()),e,FriendsService_defineProperty({},e,0)),r.abrupt("return",Promise.resolve());case 16:case"end":return r.stop()}}),_callee,this,[[4,12]])}))),},{key:"sendFriendInvite",value:(n=FriendsService_asyncToGenerator(FriendsService_regeneratorRuntime().mark((function _callee2(e){var t;return FriendsService_regeneratorRuntime().wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return this.dispatch(new Lr(!1)),r.prev=1,r.next=4,this.friendsApi.sendInviteFriend(vl.getUserId(this.getState()),e);case 4:return t=r.sent,r.abrupt("return",t);case 8:r.prev=8,r.t0=r.catch(1),this.dispatch(new Lr(!0));case 11:return r.abrupt("return",Promise.reject({}));case 12:case"end":return r.stop()}}),_callee2,this,[[1,8]])}))),function sendFriendInvite(e){return n.apply(this,arguments)})},{key:"acceptFriend",value:(r=FriendsService_asyncToGenerator(FriendsService_regeneratorRuntime().mark((function _callee3(e){var t;return FriendsService_regeneratorRuntime().wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return this.dispatch(new Lr(!1)),r.prev=1,r.next=4,this.friendsApi.acceptFriend(vl.getUserId(this.getState()),e);case 4:return t=r.sent,r.abrupt("return",t);case 8:r.prev=8,r.t0=r.catch(1),this.dispatch(new Lr(!0));case 11:return r.abrupt("return",Promise.reject({}));case 12:case"end":return r.stop()}}),_callee3,this,[[1,8]])}))),function acceptFriend(e){return r.apply(this,arguments)})},{key:"declineFriend",value:(t=FriendsService_asyncToGenerator(FriendsService_regeneratorRuntime().mark((function _callee4(e){var t;return FriendsService_regeneratorRuntime().wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return this.dispatch(new Lr(!1)),r.prev=1,r.next=4,this.friendsApi.deleteFriend(vl.getUserId(this.getState()),e);case 4:return t=r.sent,this.resetMetProgressionProfileLoaded(Vi.getLoaded(this.getState()),Vi.getExpiration(this.getState()),e),r.abrupt("return",t);case 9:r.prev=9,r.t0=r.catch(1),this.dispatch(new Lr(!0));case 12:return r.abrupt("return",Promise.resolve({}));case 13:case"end":return r.stop()}}),_callee4,this,[[1,9]])}))),},{key:"afterLoadedFriends",value:function afterLoadedFriends(e,t,r){var n={},o=[];e.forEach((function(e){return(n[e.pid]=e)&&o.push(e.pid)})),this.dispatch(new er(n,o,FriendsService_defineProperty({},t,o),r))}},{key:"resetMetProgressionProfileLoaded",value:function resetMetProgressionProfileLoaded(e,t,r){e[r]&&this.dispatch(new Ti(FriendsService_defineProperty({},r,!0))),t[r]&&this.dispatch(new Di(r))}}]),FriendsService}(ol))||Fy;function FriendsPlayingGameService_typeof(e){return FriendsPlayingGameService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FriendsPlayingGameService_typeof(e)}function FriendsPlayingGameService_regeneratorRuntime(){FriendsPlayingGameService_regeneratorRuntime=var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";ry{define({},"")}catch(e){define=wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}ar c={};define(c,o,();var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==FriendsPlayingGameService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function FriendsPlayingGameService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FriendsPlayingGameService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function FriendsPlayingGameService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FriendsPlayingGameService_setPrototypeOf(e,t){return FriendsPlayingGameService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},FriendsPlayingGameService_setPrototypeOf(e,t)}function FriendsPlayingGameService_createSuper(e){var t=function FriendsPlayingGameService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=FriendsPlayingGameService_getPrototypeOf(e);if(t){var o=FriendsPlayingGameService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return FriendsPlayingGameService_possibleConstructorReturn(this,r)}}function FriendsPlayingGameService_possibleConstructorReturn(e,t){if(t&&("object"===FriendsPlayingGameService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function FriendsPlayingGameService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function FriendsPlayingGameService_getPrototypeOf(e){return FriendsPlayingGameService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},FriendsPlayingGameService_getPrototypeOf(e)}var Ny,Uy=injectableForJs([Md])(Ty=function(e){!function FriendsPlayingGameService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FriendsPlayingGameService_setPrototypeOf(e,t)}(FriendsPlayingGameService,e);var t,r=FriendsPlayingGameService_createSuper(FriendsPlayingGameService);function FriendsPlayingGameService(e){var t;return function FriendsPlayingGameService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FriendsPlayingGameService),(t=r.call(this)).gamesApi=e,t}return function FriendsPlayingGameService_createClass(e,t,r){return t&&FriendsPlayingGameService_defineProperties(e.prototype,t),r&&FriendsPlayingGameService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(FriendsPlayingGameService,[{key:"loadFriendsPlayingGame",value:(t=function FriendsPlayingGameService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){FriendsPlayingGameService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){FriendsPlayingGameService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(FriendsPlayingGameService_regeneratorRuntime().mark((function _callee(e){var t,r,n,o,i,s,c,l;return FriendsPlayingGameService_regeneratorRuntime().wrap((function _callee$(u){for(;;)switch(u.prev=u.next){case 0:if(t=au(this.getState()),r=su(this.getState()),n=wo.getExpiration(this.getState())[e]&&wo.getExpiration(this.getState())[e][r]?wo.getExpiration(this.getState())[e][r]:0,Ft.isExpired(n,af)){u.next=6;break}return this.dispatch(new lr({},{})),u.abrupt("return");case 6:if(u.prev=6,o=$t.getByInstallmentSpaceId(this.getState())[e]){u.next=11;break}return this.dispatch(new lr(FriendsPlayingGameService_defineProperty({},e,FriendsPlayingGameService_defineProperty({},r,null)),wo.getExpiration(this.getState()))),u.abrupt("return");case 11:if(i=$t.getBySpaceId(this.getState())[$t.getByInstallmentSpaceId(this.getState())[e]]){u.next=15;break}return this.dispatch(new lr(FriendsPlayingGameService_defineProperty({},e,FriendsPlayingGameService_defineProperty({},r,null)),wo.getExpiration(this.getState()))),u.abrupt("return");case 15:return(s=$t.getSiblingsSpaceIdsByParentSpaceId(this.getState())[i.spaceId])||(s=[]),c=s.concat([o]),u.next=20,this.gamesApi.getGamesPlayedByProfilesIdsAndSpaceIds(t,c);case 20:l=u.sent,this.dispatch(new lr(FriendsPlayingGameService_defineProperty({},e,FriendsPlayingGameService_defineProperty({},r,l)),FriendsPlayingGameService_defineProperty({},e,FriendsPlayingGameService_defineProperty({},r,a()().unix())))),u.next=27;break;case 24:u.prev=24,u.t0=u.catch(6),this.dispatch(new lr(FriendsPlayingGameService_defineProperty({},e,null),FriendsPlayingGameService_defineProperty({},e,FriendsPlayingGameService_defineProperty({},r,0))));case 27:case"end":return u.stop()}}),_callee,this,[[6,24]])}))),function loadFriendsPlayingGame(e){return t.apply(this,arguments)})}]),FriendsPlayingGameService}(ol))||Ty,Dy=11,My="OVERVIEW_VIEW",By="FRIEND_VIEW",Vy="MAIN_VIEW",Wy="STATS_VIEW";function CommonActionsService_typeof(e){return CommonActionsService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CommonActionsService_typeof(e)}function CommonActionsService_regeneratorRuntime(){CommonActionsService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==CommonActionsService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function CommonActionsService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function CommonActionsService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){CommonActionsService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){CommonActionsService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function CommonActionsService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CommonActionsService_setPrototypeOf(e,t){return CommonActionsService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},CommonActionsService_setPrototypeOf(e,t)}function CommonActionsService_createSuper(e){var t=function CommonActionsService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=CommonActionsService_getPrototypeOf(e);if(t){var o=CommonActionsService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return CommonActionsService_possibleConstructorReturn(this,r)}}function CommonActionsService_possibleConstructorReturn(e,t){if(t&&("object"===CommonActionsService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function CommonActionsService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function CommonActionsService_getPrototypeOf(e){return CommonActionsService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},CommonActionsService_getPrototypeOf(e)}var Hy,qy=injectableForJs([qp,Ch,Ry,cf,Uy,jy,Py,nh])(Ny=function(e){!function CommonActionsService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CommonActionsService_setPrototypeOf(e,t)}(CommonActionsService,e);var t,r,n,o,i,a,s,c,l,u=CommonActionsService_createSuper(CommonActionsService);function CommonActionsService(e,t,r,n,o,i,a,s){var c;return function CommonActionsService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CommonActionsService),(c=u.call(this)).gamesService=e,c.rewardsService=t,c.friendsService=r,c.profilesService=n,c.friendsPlayingGameService=o,c.connectionsService=i,c.metaProgressionProfileService=a,c.analyticsService=s,c}return function CommonActionsService_createClass(e,t,r){return t&&CommonActionsService_defineProperties(e.prototype,t),r&&CommonActionsService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(CommonActionsService,[{key:"changeLastPlayedGame",value:(l=CommonActionsService_asyncToGenerator(CommonActionsService_regeneratorRuntime().mark((function _callee(e){var t,r,n,o,i,a,s,c=this;return CommonActionsService_regeneratorRuntime().wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:if(t=rd.getOtherGamesPlayed(this.getState()),r=rd.computeGameByInstallmentIdOrSpaceId(e,Qu(this.getState()),$t.getBySpaceId(this.getState()),$t.getBySiblingSpaceId(this.getState()),$t.getPlatformsApplicationsIdsByParentSpaceId(this.getState()),$t.getPlatformsByApplicationId(this.getState()),vn.getLastSessionDates(this.getState()),vl.getUserId(this.getState()),vn.getApplicationsByUserId(this.getState()),pt.getCustomStoreBuyButton(this.getState())),n=null,t.find((function(t,r){return n=r,t.installmentId==e||t.spaceId==e||wl.isInSiblingsSpaceIds($t.getSiblingsSpaceIdsByParentSpaceId(c.getState()),t.spaceId,e)})),o=r?r.id:null,i=r?r.applicationId:null,a=r?rd.getGameSiblingSpaceIdByAppId(this.getState(),{gameId:o,appId:i}):null,s=r?r.platformCode:null,this.dispatch(new sr(!0)),this.dispatch(new ar),this.dispatch(new ir),this.dispatch(new Wr(e||null)),n){l.next=17;break}return l.next=15,this.gamesService.loadUbisoftGamesBySpaceIds([e]);case 15:l.next=19;break;case 17:return l.next=19,new Promise((function(e){return setTimeout((function(){return e()}),100)}));case 19:if(this.dispatch(new ei(null===n?0:n,o,a,i,s)),this.dispatch(new Co(o,a,i)),this.dispatch(new sr(!1)),!vl.getHasIdentity(this.getState())){l.next=25;break}return l.next=25,Promise.all([this.loadFriendsPalyingGame(o).then((function(){return c.gamesService.loadMyLastPlayedGameStatsWithFriends(a)})).catch((function(){return c.gamesService.loadMyLastPlayedGameStatsWithFriends(a)})),this.rewardsService.loadUserRewards(a)]);case 25:case"end":return l.stop()}}),_callee,this)}))),function changeLastPlayedGame(e){return l.apply(this,arguments)})},{key:"loadFriendsPalyingGame",value:function loadFriendsPalyingGame(e){var t=this;return this.friendsService.loadMyFriends().then((function(){return t.profilesService.loadMyFriendsUserProfiles().then((function(){return t.friendsPlayingGameService.loadFriendsPlayingGame(e||rd.getCurrentGameId(t.getState()))}))}))}},{key:"onChangeLPGPltform",value:(c=CommonActionsService_asyncToGenerator(CommonActionsService_regeneratorRuntime().mark((function _callee2(e,t){var r,n=this;return CommonActionsService_regeneratorRuntime().wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return r=rd.getGameSiblingSpaceIdByAppId(this.getState(),{gameId:e,appId:t}),this.dispatch(new Co(e,r,t)),this.dispatch(new ar),this.dispatch(new ir),o.next=6,Promise.all([this.loadFriendsPalyingGame().then((function(){return n.gamesService.loadMyLastPlayedGameStatsWithFriends(r)})).catch((function(){return n.gamesService.loadMyLastPlayedGameStatsWithFriends(r)})),this.rewardsService.loadUserRewards(r)]);case 6:case"end":return o.stop()}}),_callee2,this)}))),function onChangeLPGPltform(e,t){return c.apply(this,arguments)})},{key:"toggleOpenDetailsViewState",value:(s=CommonActionsService_asyncToGenerator(CommonActionsService_regeneratorRuntime().mark((function _callee3(e,t,r,n){var o=this;return CommonActionsService_regeneratorRuntime().wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:if(!Uc.getStartedPanelFlow(this.getState())){i.next=2;break}return i.abrupt("return");case 2:e?this.changeIframeWidthInCorelationToParentWindowWidth(t,r,n):Promise.all([this.dispatch(new nn(!0)),this.dispatch(new tn(!1)),this.dispatch(new Zr(!1)),this.dispatch(new en(!1)),this.hideOverviewDetailsGameContent(),this.hideOverviewDetailsUserNameContent(),this.hideOverviewDetailsAvatarContent(),this.hideFriendsDetailsAddContent(),this.hideFriendsDetailsProfileContent()]).then((function(){return o.dispatch(new nn(!1))}));case 3:case"end":return i.stop()}}),_callee3,this)}))),function toggleOpenDetailsViewState(e,t,r,n){return s.apply(this,arguments)})},{key:"changeIframeWidthInCorelationToParentWindowWidth",value:function changeIframeWidthInCorelationToParentWindowWidth(e,t,r){var n=this;null!=e&&null!=t&&null!=r&&(e<=Ka||e<=$a&&t<e&&Th()||(Uc.getShowPlayerCardDetails(this.getState())||Uc.getShowFriendsDetails(this.getState()))&&(this.getIframeWidthInCorelationToParentWindowWidth(e,r),this.dispatch(new nn(!0)),this.dispatch(new tn(!0)),new Promise((function(e){return setTimeout((function(){return e()}),301)})).then((function(){n.dispatch(new nn(!1))}))))}},{key:"hideOverviewDetailsGameContent",value:(a=CommonActionsService_asyncToGenerator(CommonActionsService_regeneratorRuntime().mark((function _callee4(){return CommonActionsService_regeneratorRuntime().wrap((function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.dispatch(new ni(!1)),this.dispatch(new ei(oi.getCurrentLastPlayedGameOffset(this.getState()),null,oi.getCurrentLastPlayedGameSpaceId(this.getState()),oi.getCurrentLastPlayedGameAppId(this.getState()),oi.getCurrentLastPlayedGamePlatformCode(this.getState())))]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),_callee4,this)}))),function hideOverviewDetailsGameContent(){return a.apply(this,arguments)})},{key:"hideOverviewDetailsUserNameContent",value:(i=CommonActionsService_asyncToGenerator(CommonActionsService_regeneratorRuntime().mark((function _callee5(){return CommonActionsService_regeneratorRuntime().wrap((function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.dispatch(new Ao(!1,null,!1)),this.dispatch(new ko(!1))]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),_callee5,this)}))),function hideOverviewDetailsUserNameContent(){return i.apply(this,arguments)})},{key:"hideOverviewDetailsAvatarContent",value:(o=CommonActionsService_asyncToGenerator(CommonActionsService_regeneratorRuntime().mark((function _callee6(){return CommonActionsService_regeneratorRuntime().wrap((function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.dispatch(new D(!1)),this.dispatch(new W(!1)),this.dispatch(new B(null)),this.dispatch(new W(!1))]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),_callee6,this)}))),function hideOverviewDetailsAvatarContent(){return o.apply(this,arguments)})},{key:"hideFriendsDetailsAddContent",value:(n=CommonActionsService_asyncToGenerator(CommonActionsService_regeneratorRuntime().mark((function _callee7(){return CommonActionsService_regeneratorRuntime().wrap((function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.dispatch(new xn({})),this.dispatch(new kn(!1,null)),this.dispatch(new En(!1)),this.dispatch(new Yn(!1)),this.dispatch(new Lr(!1))]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),_callee7,this)}))),function hideFriendsDetailsAddContent(){return n.apply(this,arguments)})},{key:"hideFriendsDetailsProfileContent",value:(r=CommonActionsService_asyncToGenerator(CommonActionsService_regeneratorRuntime().mark((function _callee8(){return CommonActionsService_regeneratorRuntime().wrap((function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.dispatch(new gi(!1,null,null)),this.dispatch(new yi(0,null,null,null,null)),this.dispatch(new vi(null,null,null)),this.dispatch(new mi(!1))]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),_callee8,this)}))),function hideFriendsDetailsProfileContent(){return r.apply(this,arguments)})},{key:"getIframeWidthInCorelationToParentWindowWidth",value:function getIframeWidthInCorelationToParentWindowWidth(e,t){var r=954;return e>Ka&&Uc.getIsOnArabLocale(this.getState())&&t.right>e&&(r=334),e>Ka&&!Uc.getIsOnArabLocale(this.getState())&&t.left<0&&(r=334),e>954&&-15===t.left&&(r=954),r<954?this.dispatch(new rn(!0)):this.dispatch(new rn(!1)),r}},{key:"onExpandFriends",value:(t=CommonActionsService_asyncToGenerator(CommonActionsService_regeneratorRuntime().mark((function _callee9(){var e,t=this;return CommonActionsService_regeneratorRuntime().wrap((function _callee9$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.friendsService.loadMyFriends();case 2:if(e=[],Ru(this.getState())||Nu(this.getState())?e.push(this.profilesService.loadMyFriendsUserProfiles().then((function(){return t.connectionsService.loadMyFriendsConnections()}))):(e.push(this.dispatch(new tr(An.getById(this.getState()),An.getByNameOnPlatform(this.getState()),An.getByUserId(this.getState()),An.getIds(this.getState()),An.getHasError(this.getState()),An.getExpiration(this.getState())))),e.push(this.dispatch(new rr(Tr.getById(this.getState()),Tr.getByProfileId(this.getState()),Tr.getBySpaceId(this.getState()),Tr.getIds(this.getState()),Tr.getProfileIdsForCall(this.getState()),Tr.getExpiration(this.getState()))))),!(e.length>0)){r.next=7;break}return r.next=7,Promise.all(e);case 7:if(!Nu(this.getState())){r.next=10;break}return r.next=10,this.metaProgressionProfileService.loadFriendsMetaProgressions(ru(this.getState()));case 10:case"end":return r.stop()}}),_callee9,this)}))),function onExpandFriends(){return t.apply(this,arguments)})},{key:"handleOnScrollUpdate",value:function handleOnScrollUpdate(e,t){switch(t){case My:return void(oi.getShowGameContent(this.getState())&&pi.getIsShownGameStats(this.getState())&&(Dy<e.scrollTop&&!Uc.getShowStatsHeaderOnPlayerCardDetails(this.getState())&&this.dispatch(new on(!0)),Dy>=e.scrollTop&&Uc.getShowStatsHeaderOnPlayerCardDetails(this.getState())&&this.dispatch(new on(!1))));case By:return Ci.getShowGameContent(this.getState())&&Ci.getIsShownGameStats(this.getState())&&(Dy<e.scrollTop&&!Uc.getShowStatsHeaderOnFriendsDetails(this.getState())&&this.dispatch(new an(!0)),Dy>=e.scrollTop&&Uc.getShowStatsHeaderOnFriendsDetails(this.getState())&&this.dispatch(new an(!1))),void(Ci.getShowGameContent(this.getState())&&!Ci.getIsShownGameStats(this.getState())&&(Dy<e.scrollTop&&!Uc.getShowNameHeaderOnFriendsDetails(this.getState())&&this.dispatch(new sn(!0)),Dy>=e.scrollTop&&Uc.getShowNameHeaderOnFriendsDetails(this.getState())&&this.dispatch(new sn(!1))))}}},{key:"getIframeCheckThirdPartyCookiesSupport",value:function getIframeCheckThirdPartyCookiesSupport(){var e=!1;return this.analyticsService.setCookie("testThirdPartyCookiesSupport","true",1,"ubisoft.com"),getCookie("testThirdPartyCookiesSupport")&&(e=!0,this.analyticsService.setCookie("testThirdPartyCookiesSupport","",-1,"ubisoft.com")),e}}]),CommonActionsService}(ol))||Ny;function CommunicationService_typeof(e){return CommunicationService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CommunicationService_typeof(e)}function CommunicationService_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function CommunicationService_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CommunicationService_ownKeys(Object(r),!0).forEach((function(t){CommunicationService_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CommunicationService_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function CommunicationService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CommunicationService_regeneratorRuntime(){CommunicationService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==CommunicationService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function CommunicationService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function CommunicationService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){CommunicationService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){CommunicationService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function CommunicationService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CommunicationService_setPrototypeOf(e,t){return CommunicationService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},CommunicationService_setPrototypeOf(e,t)}function CommunicationService_createSuper(e){var t=function CommunicationService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=CommunicationService_getPrototypeOf(e);if(t){var o=CommunicationService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return CommunicationService_possibleConstructorReturn(this,r)}}function CommunicationService_possibleConstructorReturn(e,t){if(t&&("object"===CommunicationService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function CommunicationService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function CommunicationService_getPrototypeOf(e){return CommunicationService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},CommunicationService_getPrototypeOf(e)}var zy,Qy=injectableForJs([Yp,Qp,Hc,qp,Ch,nh,cf,k,Uh,fa,Mh,p,my,Py,jh,Ey,qy])(Hy=function(e){!function CommunicationService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CommunicationService_setPrototypeOf(e,t)}(CommunicationService,e);var t,n,o,i,s,c,l,u,f,d,p,h,y,g,v,m,b,S,w,P=CommunicationService_createSuper(CommunicationService);function CommunicationService(e,t,r,n,o,i,a,s,c,l,u,f,d,p,h,y,g){var v;return function CommunicationService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CommunicationService),(v=P.call(this)).windowsHeight=null,v.windowsWidth=null,v.iframeBoundingClientRect=null,v.integratorConfigurationService=e,v.pageLoaderService=t,v.translatorService=r,v.gamesService=n,v.rewardsService=o,v.analyticsService=i,v.profilesService=a,v.httpService=s,v.emailVerificationService=c,v.channel=l,v.generalChannel=u,v.configurationService=f,v.betaNotificationsService=d,v.metaProgressionProfileService=p,v.debugService=h,v.websocketService=y,v.commonActionsService=g,v}return function CommunicationService_createClass(e,t,r){return t&&CommunicationService_defineProperties(e.prototype,t),r&&CommunicationService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(CommunicationService,[{key:"startCommunication",value:function startCommunication(){var e=this;return new Promise((function(t){if(e.channel.subscribe(Ba,(function(r){var n=void 0!==r.enableDebug?r.enableDebug:Ft.getEnableDebug(e.getState());return e.channel.setDebug(n),e.generalChannel.setDebug(n),e.debugService.setDebug(n),e.integratorConfigurationService.loadConfiguration(r),e.hideAllTabs(),t()})),e.channel.subscribe(Ha,(function(){e.hideFriends(),e.hidePlayerCard(),e.hideNotifications()})),e.channel.subscribe(qa,(),e.channel.subscribe(za,(function(){return e.showFriends()})),e.channel.subscribe(Qa,(function(){return e.showPlayerCard()})),e.channel.subscribe(Ya,(function(){return e.showNotifications()})),e.channel.subscribe(Xa,(function(t){return e.addMobileClass(t)})),e.channel.subscribe(Va,(function(t){return e.changeLocale(t)})),e.channel.subscribe(Wa,(function(t){return e.changeLastPlayedGame(t)})),e.channel.subscribe(Ja,(function(t){return e.changeEnv(t)})),e.channel.subscribe(es,(function(t){return e.changeFriendsProfileType(t)})),e.channel.subscribe(ts,(function(t){return e.changeExternalLoginType(t)})),e.channel.subscribe(rs,(function(t){return e.handleToggleDarkBackground(t)})),e.channel.subscribe(os,(function(t){return e.toggleDesktopResize(t)})),e.channel.subscribe(ns,(function(t){return e.toggleSignInText(t)})),e.channel.subscribe(as,(function(t){return e.setParentUrl(t)})),e.channel.subscribe(ss,(function(t){return e.setSsoId(t)})),e.channel.subscribe(ls,(function(){return e.deleteTicket()})),e.channel.subscribe(us,(function(t){return e.onTriggerEmailActivation(t)})),e.channel.subscribe(fs,(function(){return e.onTriggerLogout()})),e.channel.subscribe(ds,(function(t){return e.onUserDataSuccess(t)})),e.channel.subscribe(ps,(function(){return e.onUserDataFailure()})),e.channel.subscribe(hs,(function(t){return e.onSetConnectLoginUrl(t.loginUrl,t.connectUrl)})),e.channel.subscribe(vs,(function(){return e.getTicket()})),e.channel.subscribe(ms,(function(){return e.getConnectCallbacksParams()})),e.channel.subscribe(bs,(function(t){return e.setInitalWindowHeight(t)})),e.channel.subscribe(Ps,(function(t){return e.triggerLogin(t.status,t.config)})),e.channel.subscribe(_s,(function(){return e.triggerLogout()})),e.channel.subscribe(ws,(),e.channel.subscribe(Os,(function(t){return e.openPopupWindow(t)})),e.channel.subscribe(Is,(function(){return e.analyticsService.attachSCode()})),e.channel.subscribe(js,(),e.channel.subscribe(is,(function(t){return e.toggleLoginType(t)})),e.channel.subscribe(As,(function(t){return e.handleUpdateIntegratorConfiguration(t)})),e.channel.subscribe(ks,(),e.channel.send(da),window.parent.parent===window)return t()}))}},{key:"startAnalytics",value:function startAnalytics(){var e=this;this.channel.subscribe(Ls,(function(){return e.viewPrivacyPolicyForTracking()})),this.channel.subscribe(Es,(function(){return e.acceptPrivacyPolicyForTracking()})),this.channel.subscribe(Fs,(function(){return e.refusePrivacyPolicyForTracking()})),this.channel.subscribe(Gs,(function(){return e.removeAdobeAnalyticsTracking()})),this.channel.subscribe(Us,(function(){return e.addAdobeAnalyticsTracking()})),this.channel.subscribe(Rs,(function(){return e.removeMediaAnalyticsTracking()})),this.channel.subscribe(Ms,(function(){return e.addMediaAnalyticsTracking()})),this.channel.subscribe(Ts,(function(){return e.removeCustomizationTracking()})),this.channel.subscribe(Ds,(function(){return e.addCustomizationTracking()})),this.channel.subscribe(Ns,(function(){return e.removeVideosTracking()})),this.channel.subscribe(Bs,()}},{key:"clickedOnLogout",value:(w=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee(e){return CommunicationService_regeneratorRuntime().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(this.hidePlayerCard(),this.websocketService.close(),e){t.next=5;break}return t.next=5,this.pageLoaderService.showPageLoader();case 5:this.channel.send(Ia,{ticket:vl.getIdentity(this.getState()).ticket,sessionId:vl.getIdentity(this.getState()).sessionId});case 6:case"end":return t.stop()}}),_callee,this)}))),function clickedOnLogout(e){return w.apply(this,arguments)})},{key:"loggedIn",value:function loggedIn(e,t,r){var n=Ks,o={op:"getTicket",status:"error"};t&&(n=$s),r&&(n=Zs),e?o={op:e.opId,status:"ok",payload:{expiration:e.expiration,ticket:e.ticket,userId:e.user_id,sessionId:e.sessionId,nameOnPlatform:lu(this.getState())}}:o.errorMessage="no login data available",this.hidePlayerCard(),this.channel.send(Sa,{action:n,getTicket:o})}},{key:"clickedOnFriends",value:function clickedOnFriends(){return Uc.getShowFriends(this.getState())?this.hideFriends():(this.analyticsService.trackPage("friends tab","manage friends"),this.showFriends())}},{key:"clickedOnMobileFriends",value:function clickedOnMobileFriends(){var e=this;if(!Uc.getShowFriends(this.getState()))return this.dispatch(new Vr(!0)),setTimeout((function(){e.dispatch(new Vr(!1))}),500),this.analyticsService.trackPage("friends tab","manage friends"),this.showFriends()}},{key:"clickedOnPlayerCard",value:function clickedOnPlayerCard(){return isActive$(this.getState())?this.hidePlayerCard():(this.analyticsService.trackPage("user tab","player card"),this.showPlayerCard())}},{key:"clickedOnMobilePlayerCardTab",value:function clickedOnMobilePlayerCardTab(){var e=this;if(!isActive$(this.getState()))return this.dispatch(new Vr(!0)),setTimeout((function(){e.dispatch(new Vr(!1))}),500),this.analyticsService.trackPage("user tab","player card"),this.showPlayerCard()}},{key:"clickedOnMobilePlayerCard",value:function clickedOnMobilePlayerCard(){if(!isActive$(this.getState())&&!Uc.getShowFriends(this.getState())&&!Uc.getShowNotifications(this.getState()))return this.analyticsService.trackPage("user tab","player card"),this.showPlayerCard();this.dispatch(new Br),this.hideMobileTabs(),isActive$(this.getState())&&this.hidePlayerCard(),Uc.getShowFriends(this.getState())&&this.hideFriends(),Uc.getShowNotifications(this.getState())&&this.hideNotifications()}},{key:"clickedOnNotifications",value:function clickedOnNotifications(){return Uc.getShowNotifications(this.getState())?this.hideNotifications():(this.analyticsService.trackPage("notifications tab","notifications panel"),this.showNotifications())}},{key:"clickedOnMobileNotifications",value:function clickedOnMobileNotifications(){var e=this;if(!Uc.getShowNotifications(this.getState()))return this.dispatch(new Vr(!0)),setTimeout((function(){e.dispatch(new Vr(!1))}),500),this.analyticsService.trackPage("notifications tab","notifications panel"),this.showNotifications()}},{key:"clickedOnMenu",value:function clickedOnMenu(){return this.dispatch(new Br),this.dispatch(new on(!1)),this.dispatch(new an(!1)),this.hideMobileTabs(),isActive$(this.getState())?this.hidePlayerCard():Uc.getShowFriends(this.getState())?this.hideFriends():Uc.getShowNotifications(this.getState())?this.hideNotifications():void 0}},{key:"clickedOnClosePlayerCard",value:function clickedOnClosePlayerCard(){return this.hidePlayerCard()}},{key:"clickedOnCloseFriends",value:function clickedOnCloseFriends(){return this.hideFriends()}},{key:"clickedOnCloseNotifications",value:,{key:"doShowFriends",value:(S=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee2(){return CommunicationService_regeneratorRuntime().wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(!Uc.getShowPlayerCardDetails(this.getState())&&!Uc.getShowFriendsDetails(this.getState())){e.next=3;break}return e.next=3,this.commonActionsService.toggleOpenDetailsViewState(!1,this.windowsWidth,this.windowsHeight,this.iframeBoundingClientRect);case 3:this.dispatch(new Rr),this.dispatch(new Mr),this.showBackdrop(),this.expand(Hs),this.commonActionsService.onExpandFriends(),this.showMobileTabs();case 9:case"end":return e.stop()}}),_callee2,this)}))),function doShowFriends(){return S.apply(this,arguments)})},{key:"showFriends",value:(b=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee3(){return CommunicationService_regeneratorRuntime().wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(vl.hasIdentity(this.getState())){e.next=2;break}return e.abrupt("return");case 2:if(!isActive$(this.getState())){e.next=5;break}return e.next=5,this.hidePlayerCard(!0);case 5:Uc.getShowNotifications(this.getState())&&this.hideNotifications(!0),Uc.getShowFriendsDetails(this.getState())&&this.dispatchIntegratorGetIframeBoundingClientRect(),this.doShowFriends();case 8:case"end":return e.stop()}}),_callee3,this)}))),function showFriends(){return b.apply(this,arguments)})},{key:"hideFriends",value:(m=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee4(e){return CommunicationService_regeneratorRuntime().wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:if(Uc.getShowFriends(this.getState())){t.next=2;break}return t.abrupt("return");case 2:if(!Uc.getShowPlayerCardDetails(this.getState())&&!Uc.getShowFriendsDetails(this.getState())){t.next=5;break}return t.next=5,this.commonActionsService.toggleOpenDetailsViewState(!1,this.windowsWidth,this.windowsHeight,this.iframeBoundingClientRect);case 5:return t.next=7,this.dispatch(new Nr);case 7:if(!e){t.next=10;break}return document.body.classList.remove("expanded"),t.abrupt("return");case 10:this.hideBackdrop(),this.collapse();case 12:case"end":return t.stop()}}),_callee4,this)}))),function hideFriends(e){return m.apply(this,arguments)})},{key:"doShowPlayerCard",value:(v=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee5(){return CommunicationService_regeneratorRuntime().wrap((function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:this.dispatch(new Ht),this.dispatch(new Mr),this.showBackdrop(),this.expand(Ws),this.showMobileTabs();case 5:case"end":return e.stop()}}),_callee5,this)}))),function doShowPlayerCard(){return v.apply(this,arguments)})},{key:"showPlayerCard",value:(g=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee6(){return CommunicationService_regeneratorRuntime().wrap((function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:if(vl.hasIdentity(this.getState())){e.next=2;break}return e.abrupt("return");case 2:if(!Uc.getShowFriends(this.getState())){e.next=5;break}return e.next=5,this.hideFriends(!0);case 5:Uc.getShowNotifications(this.getState())&&this.hideNotifications(!0),Uc.getShowPlayerCardDetails(this.getState())&&this.dispatchIntegratorGetIframeBoundingClientRect(),this.doShowPlayerCard();case 8:case"end":return e.stop()}}),_callee6,this)}))),function showPlayerCard(){return g.apply(this,arguments)})},{key:"hidePlayerCard",value:(y=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee7(e){return CommunicationService_regeneratorRuntime().wrap((function _callee7$(t){for(;;)switch(t.prev=t.next){case 0:if(isActive$(this.getState())){t.next=2;break}return t.abrupt("return");case 2:if(!Uc.getShowPlayerCardDetails(this.getState())&&!Uc.getShowFriendsDetails(this.getState())){t.next=5;break}return t.next=5,this.commonActionsService.toggleOpenDetailsViewState(!1,this.windowsWidth,this.windowsHeight,this.iframeBoundingClientRect);case 5:return t.next=7,this.dispatch(new qt);case 7:if(!e){t.next=10;break}return document.body.classList.remove("expanded"),t.abrupt("return");case 10:this.hideBackdrop(),this.collapse();case 12:case"end":return t.stop()}}),_callee7,this)}))),function hidePlayerCard(e){return y.apply(this,arguments)})},{key:"doShowNotifications",value:(h=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee8(){return CommunicationService_regeneratorRuntime().wrap((function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:if(hi.loaded(this.getState())&&ki.loaded(this.getState())&&xi.loaded(this.getState())&&this.betaNotificationsService.seenAllNotifications(!0,!1,!0),!Uc.getShowPlayerCardDetails(this.getState())&&!Uc.getShowFriendsDetails(this.getState())){e.next=4;break}return e.next=4,this.commonActionsService.toggleOpenDetailsViewState(!1,this.windowsWidth,this.windowsHeight,this.iframeBoundingClientRect);case 4:return this.dispatch(new qr),this.dispatch(new Mr),this.dispatch(new Nh(!0)),this.showBackdrop(),this.expand(qs),this.showMobileTabs(),e.abrupt("return");case 11:case"end":return e.stop()}}),_callee8,this)}))),function doShowNotifications(){return h.apply(this,arguments)})},{key:"showNotifications",value:(p=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee9(){return CommunicationService_regeneratorRuntime().wrap((function _callee9$(e){for(;;)switch(e.prev=e.next){case 0:if(vl.hasIdentity(this.getState())){e.next=2;break}return e.abrupt("return");case 2:if(!Uc.getShowFriends(this.getState())){e.next=5;break}return e.next=5,this.hideFriends(!0);case 5:if(!isActive$(this.getState())){e.next=8;break}return e.next=8,this.hidePlayerCard(!0);case 8:this.doShowNotifications();case 9:case"end":return e.stop()}}),_callee9,this)}))),function showNotifications(){return p.apply(this,arguments)})},{key:"hideNotifications",value:function hideNotifications(e){Uc.getShowNotifications(this.getState())&&(this.dispatch(new Hr),this.betaNotificationsService.seenAllNotifications(!0,!0,!0),e?document.body.classList.remove("expanded"):(this.hideBackdrop(),this.collapse()))}},{key:"hideAllTabs",value:(d=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee10(){return CommunicationService_regeneratorRuntime().wrap((function _callee10$(e){for(;;)switch(e.prev=e.next){case 0:if(!Uc.getShowPlayerCardDetails(this.getState())&&!Uc.getShowFriendsDetails(this.getState())){e.next=3;break}return e.next=3,this.commonActionsService.toggleOpenDetailsViewState(!1,this.windowsWidth,this.windowsHeight,this.iframeBoundingClientRect);case 3:this.dispatch(new qt),this.dispatch(new Nr),this.dispatch(new Hr),this.hideBackdrop(),this.collapse(),this.hideMobileTabs();case 9:case"end":return e.stop()}}),_callee10,this)}))),function hideAllTabs(){return d.apply(this,arguments)})},{key:"showBackdrop",value:function showBackdrop(){return this.debugService.log("[NCSA-debugging] has UBI_PRIVACY_POLICY_ACCEPTED? ".concat(pt.getHasParentSiteUbiPrivacyPolicyAcceptedCookieSet(this.getState()))),this.debugService.log("[NCSA-debugging] is from NCSA? ".concat(Zu(this.getState()))),!pt.getHasParentSiteUbiPrivacyPolicyAcceptedCookieSet(this.getState())&&Zu(this.getState())?(this.debugService.log("[NCSA-debugging] sending post message with ".concat(Es)),this.channel.send(Es)):this.debugService.log("[NCSA-debugging] NOT sending post message with ".concat(Es)),this.channel.send(pa)}},{key:"hideBackdrop",value:function hideBackdrop(){this.channel.send(ha)}},{key:"expand",value:(f=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee11(){return CommunicationService_regeneratorRuntime().wrap((function _callee11$(e){for(;;)switch(e.prev=e.next){case 0:return this.channel.send(va),e.next=3,new Promise((function(e){return setTimeout((function(){return e()}),301)}));case 3:document.body.classList.add("expanded"),Uc.getIsIos()&&document.body.classList.add("is-ios"),this.channel.send(Oa,"100vh");case 6:case"end":return e.stop()}}),_callee11,this)}))),function expand(){return f.apply(this,arguments)})},{key:"collapse",value:(u=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee12(){return CommunicationService_regeneratorRuntime().wrap((function _callee12$(e){for(;;)switch(e.prev=e.next){case 0:this.dispatch(new Br),this.dispatch(new on(!1)),this.dispatch(new an(!1)),this.channel.send(ma),this.channel.send(Oa,"".concat(Uc.getCollapsedHeight(this.getState()),"px")),document.body.classList.remove("expanded");case 6:case"end":return e.stop()}}),_callee12,this)}))),function collapse(){return u.apply(this,arguments)})},{key:"showMobileTabs",value:function showMobileTabs(){this.channel.send(ya)}},{key:"hideMobileTabs",value:function hideMobileTabs(){this.channel.send(ga)}},{key:"addMobileClass",value:function addMobileClass(e){return this.windowsHeight=e.innerHeight,this.windowsWidth=e.innerWidth,this.iframeBoundingClientRect=e.iframeBoundingClientRect,this.commonActionsService.changeIframeWidthInCorelationToParentWindowWidth(e.innerWidth,e.innerHeight,e.iframeBoundingClientRect),e.innerWidth<=Ka||e.innerWidth<=$a&&e.innerHeight<e.innerWidth&&Th()?(document.body.classList.contains("mobile")||document.body.classList.add("mobile"),this.dispatch(new Dr(!0))):(document.body.classList.contains("mobile")&&document.body.classList.remove("mobile"),this.dispatch(new Dr(!1))),Uc.getShowMobileTabs(this.state)&&this.showMobileTabs(),this.dispatch(new cn(e.innerHeight)),this.channel.send(wa,{isInExpandedMode:isActive$(this.getState())||Uc.getShowNotifications(this.getState())||Uc.getShowFriends(this.getState()),showSignInText:pt.getConfiguration(this.state).showSignInText,locale:me.getCurrentLocale(this.getState())})}},{key:"openLoginModal",value:function openLoginModal(e){this.debugService.log("[NCSA-debugging] has UBI_PRIVACY_POLICY_ACCEPTED? ".concat(pt.getHasParentSiteUbiPrivacyPolicyAcceptedCookieSet(this.getState()))),this.debugService.log("[NCSA-debugging] is from NCSA? ".concat(Zu(this.getState()))),!pt.getHasParentSiteUbiPrivacyPolicyAcceptedCookieSet(this.getState())&&Zu(this.getState())?(this.debugService.log("[NCSA-debugging] sending post message with ".concat(Es)),this.channel.send(Es)):this.debugService.log("[NCSA-debugging] NOT sending post message with ".concat(Es)),this.store.dispatch(new Ei),this.channel.send(Pa,e)}},{key:"changeLocale",value:(l=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee13(e){return CommunicationService_regeneratorRuntime().wrap((function _callee13$(t){for(;;)switch(t.prev=t.next){case 0:return"ar-ae"===e.toLowerCase()?this.dispatch(new Qr):this.dispatch(new zr),this.dispatchIntegratorGetIframeBoundingClientRect(),t.prev=2,t.next=5,this.translatorService.loadLocale(e);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e="en-GB";case 10:this.translatorService.changeLocale(e),t.prev=11,t.t1=e,t.next="en-GB"===t.t1?15:"en-US"===t.t1||"en-CA"===t.t1?18:"pt-BR"===t.t1?20:"zh-CN"===t.t1?22:"zh-TW"===t.t1||"zh-HK"===t.t1?24:26;break;case 15:return a().defineLocale("en-gb",{parentLocale:"en",longDateFormat:{L:"DD/MM/YYYY"}}),this.translatorService.registerDateLocale("en-gb"),t.abrupt("break",26);case 18:return this.translatorService.registerDateLocale("en"),t.abrupt("break",26);case 20:return this.translatorService.registerDateLocale("pt-br"),t.abrupt("break",26);case 22:return this.translatorService.registerDateLocale("zh-cn"),t.abrupt("break",26);case 24:return this.translatorService.registerDateLocale("zh-tw"),t.abrupt("break",26);case 26:t.next=31;break;case 28:t.prev=28,t.t2=t.catch(11),console.warn(t.t2);case 31:if(this.analyticsService.changeLanguage(),this.channel.send(Ca,{locale:e,showSignInText:pt.getConfiguration(this.state).showSignInText}),!vl.hasIdentity(this.getState())||!rd.getHasOtherGamesPlayed(this.getState())){t.next=38;break}return this.dispatch(new ar),this.dispatch(new ir),t.next=38,Promise.all([this.gamesService.loadMyLastPlayedGameStatsCard(),this.rewardsService.loadUserRewards(rd.getCurrentLastPlayedGameSpaceId(this.getState()))]);case 38:case"end":return t.stop()}}),_callee13,this,[[2,7],[11,28]])}))),function changeLocale(e){return l.apply(this,arguments)})},{key:"changeLastPlayedGame",value:(c=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee14(e){return CommunicationService_regeneratorRuntime().wrap((function _callee14$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.commonActionsService.changeLastPlayedGame(e);case 2:case"end":return t.stop()}}),_callee14,this)}))),function changeLastPlayedGame(e){return c.apply(this,arguments)})},{key:"changeEnv",value:(s=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee15(e){return CommunicationService_regeneratorRuntime().wrap((function _callee15$(t){for(;;)switch(t.prev=t.next){case 0:t.next=12;break;case 3:t.t0=e,t.next="cert2"===t.t0||"dev"===t.t0||"dev-prod"===t.t0||"local-prod"===t.t0||"prod"===t.t0||"uat"===t.t0||"uat-prod"===t.t0?6:9;break;case 6:return t.next=8,this.resetSateForConfigChange(new ca(r(191)("./".concat(e,".json"))));case 8:case 11:case 12:return t.abrupt("return");case 9:return t.next=11,this.resetSateForConfigChange(new ca(r(87401)));case 13:case"end":return t.stop()}}),_callee15,this)}))),function changeEnv(e){return s.apply(this,arguments)})},{key:"resetSateForConfigChange",value:(i=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee16(e){var t;return CommunicationService_regeneratorRuntime().wrap((function _callee16$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve());case 2:return r.next=4,this.pageLoaderService.showPageLoader();case 4:if(!Vt.hasIdentity(this.state)){r.next=7;break}return r.next=7,this.clickedOnLogout();case 7:return r.next=9,this.loadConfig(e);case 9:return t=r.sent,this.channel.send(ja,t),r.next=13,this.pageLoaderService.hidePageLoader();case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}}),_callee16,this)}))),function resetSateForConfigChange(e){return i.apply(this,arguments)})},{key:"loadConfig",value:(o=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee18(e){var t=this;return CommunicationService_regeneratorRuntime().wrap((function _callee18$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve());case 2:return r.next=4,this.httpService.send(e).then((function(e){return e.data})).then(function(){var e=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee17(e){return CommunicationService_regeneratorRuntime().wrap((function _callee17$(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,localStorage.setItem("overlay-env-v3",JSON.stringify(e.env)),t.channel.send(Aa,e),t.dispatch(new R(e.env)),r.next=6,t.configurationService.loadConfiguration();case 6:case 15:return r.abrupt("return",e);case 9:return r.prev=9,r.t0=r.catch(0),t.channel.send(Aa,e),t.dispatch(new R(e.env)),r.next=15,t.configurationService.loadConfiguration();case 16:case"end":return r.stop()}}),_callee17,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}());case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),_callee18,this)}))),function loadConfig(e){return o.apply(this,arguments)})},{key:"changeFriendsProfileType",value:function changeFriendsProfileType(e){var t=pt.getConfiguration(this.state);t=Object.assign({},t,{clickFriendsProfileType:e}),this.integratorConfigurationService.loadConfiguration(t)}},{key:"changeExternalLoginType",value:function changeExternalLoginType(e){var t=pt.getConfiguration(this.state);t=Object.assign({},t,{loginExternalType:e}),this.integratorConfigurationService.loadConfiguration(t)}},{key:"toggleSignInText",value:function toggleSignInText(e){var t=e||zs,r=pt.getConfiguration(this.state);r=Object.assign({},r,{showSignInText:t}),this.integratorConfigurationService.loadConfiguration(r)}},{key:"handleToggleDarkBackground",value:function handleToggleDarkBackground(e){var t=pt.getConfiguration(this.state),r="true"===e;t=Object.assign({},t,{darkBackground:r}),this.integratorConfigurationService.loadConfiguration(t)}},{key:"toggleDesktopResize",value:function toggleDesktopResize(e){var t="true"==e,r=pt.getConfiguration(this.state);r=Object.assign({},r,{isInDesktopResize:t}),this.integratorConfigurationService.loadConfiguration(r)}},{key:"setParentUrl",value:function setParentUrl(e){this.dispatch(new Yr(e))}},{key:"setSsoId",value:,{key:"deleteTicket",value:function deleteTicket(){this.dispatch(new Jr),this.dispatch(new U)}},{key:"changeIframeUrl",value:function changeIframeUrl(){}},{key:"onTriggerEmailActivation",value:function onTriggerEmailActivation(e){this.emailVerificationService.callback(e)}},{key:"onTriggerLogout",value:(n=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee19(){var e,t;return CommunicationService_regeneratorRuntime().wrap((function _callee19$(r){for(;;)switch(r.prev=r.next){case 0:e=vl.getIdentity(this.getState()).opId,t=Ft.getCurrentEnv(this.state),this.channel.send(ba,{opId:e,status:"error",errorMessage:"no login data available"}),this.dispatch(new Jr),this.dispatch(new U);try{window.clearStores.purge()}catch(e){console.error(e)}return this.dispatch(new R(t)),this.channel.send(Oa,"".concat(Uc.getCollapsedHeight(this.getState()),"px")),r.next=10,this.pageLoaderService.hidePageLoader();case 10:return r.abrupt("return",r.sent);case 11:case"end":return r.stop()}}),_callee19,this)}))),function onTriggerLogout(){return n.apply(this,arguments)})},{key:"onUserDataSuccess",value:function onUserDataSuccess(e){e&&e.payload&&e.payload.status&&e.payload.status.generalStatus==Vl&&this.dispatch(new Rn(!0,!1)),e&&e.payload&&e.payload.status&&e.payload.status.generalStatus==Bl&&this.dispatch(new Rn(!1,!1))}},{key:"onUserDataFailure",value:function onUserDataFailure(){this.dispatch(new Rn(!1,!1))}},{key:"onSetConnectLoginUrl",value:function onSetConnectLoginUrl(e,t){this.dispatch(new Kr(e,t))}},{key:"getTicket",value:function getTicket(){var e={nameOnPlatform:lu(this.getState())};vl.getHasIdentity(this.getState())&&(e={opId:vl.getIdentity(this.getState()).opId,status:"ok",expiration:vl.getIdentity(this.getState()).expiration,sessionId:vl.getIdentity(this.getState()).sessionId,ticket:vl.getIdentity(this.getState()).ticket,user_id:vl.getIdentity(this.getState()).user_id,nameOnPlatform:lu(this.getState())}),this.channel.send(Ga,e)}},{key:"getConnectCallbacksParams",value:function getConnectCallbacksParams(){var e={ticket:vl.hasIdentity(this.getState())?vl.getIdentity(this.getState()).ticket:null,userId:vl.hasIdentity(this.getState())?vl.getIdentity(this.getState()).user_id:null,sessionId:vl.hasIdentity(this.getState())?vl.getIdentity(this.getState()).sessionId:null};this.channel.send(Ta,e)}},{key:"setInitalWindowHeight",value:function setInitalWindowHeight(e){this.windowsHeight=e}},{key:"dispatchIntegratorGetIframeBoundingClientRect",value:function dispatchIntegratorGetIframeBoundingClientRect(){this.channel.send(Na)}},{key:"setInitalWindowsParams",value:,{key:"triggerLogin",value:function triggerLogin(e,t){vl.getHasIdentity(this.getState())||this.login($u(this.getState(),{status:this.commonActionsService.getIframeCheckThirdPartyCookiesSupport(),overwriteConfig:t}),pt.getHasExternalLoginType(this.getState()),pt.getLoginType(this.getState()))}},{key:"triggerLogout",value:function triggerLogout(){vl.getHasIdentity(this.getState())&&this.clickedOnLogout()}},{key:"popupWindow",value:function popupWindow(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:800,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600;this.debugService.log("[NCSA-debugging] has UBI_PRIVACY_POLICY_ACCEPTED? ".concat(pt.getHasParentSiteUbiPrivacyPolicyAcceptedCookieSet(this.getState()))),this.debugService.log("[NCSA-debugging] is from NCSA? ".concat(Zu(this.getState()))),!pt.getHasParentSiteUbiPrivacyPolicyAcceptedCookieSet(this.getState())&&Zu(this.getState())?(this.debugService.log("[NCSA-debugging] sending post message with ".concat(Es)),this.channel.send(Es)):this.debugService.log("[NCSA-debugging] NOT sending post message with ".concat(Es)),this.store.dispatch(new Ei),this.channel.send(Ua,{url:e,title:t,width:r,height:n})}},{key:"login",value:function login(e,t,r){try{if(localStorage.setItem("hasLocalStorage","true"),t)return void this.popupWindow(e,"Ubisoft Connect",480,800);if(navigator.userAgent.match(/Trident.*rv[ :]*11\./)||-1!==navigator.userAgent.indexOf("Instagram")||-1!==navigator.userAgent.indexOf("FBAV")||-1!==navigator.userAgent.indexOf("FBAN"))return void this.openLoginModal(e);if(navigator.userAgent.match("CriOS")&&navigator.userAgent.match(/iphone|ipod|ipad/i))return void this.openLoginModal(e);if(navigator.userAgent.match(/Version\/[\d.]+.*Safari/))return navigator.userAgent.match(/iphone|ipod|ipad/i)?void window.open(e):void this.popupWindow(e,"Ubisoft Connect",480,800);switch(r){case Z:this.openLoginModal(e);break;case ee:this.popupWindow(e,"Ubisoft Connect",480,800)}return}catch(t){return void this.popupWindow(e,"Ubisoft Connect",480,800)}}},{key:"openPopupWindow",value:function openPopupWindow(e){var t=(e.availWidth-e.width)/2+e.availLeft,r=(e.availHeight-e.height)/2+e.availTop;try{var n=window.open(e.url,e.title,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,width=".concat(e.width,",height=").concat(e.height,",left=").concat(Math.ceil(t),",top=").concat(Math.ceil(r)));window.focus&&n.focus()}catch(e){console.error(e)}}},{key:"viewPrivacyPolicyForTracking",value:function viewPrivacyPolicyForTracking(){this.debugService.log("[Ubisoft Analytics] Viewd privacy policy"),this.analyticsService.setCookie(Xp,"true",this.analyticsService.getCookieExpiration(),"ubisoft.com")}},{key:"acceptPrivacyPolicyForTracking",value:function acceptPrivacyPolicyForTracking(){this.debugService.log("[Ubisoft Analytics] Accept privacy policy"),this.analyticsService.setCookie(Kp,"true",this.analyticsService.getCookieExpiration(),"ubisoft.com")}},{key:"refusePrivacyPolicyForTracking",value:function refusePrivacyPolicyForTracking(){this.debugService.log("[Ubisoft Analytics] Refuse privacy policy"),this.analyticsService.setCookie(Kp,"false",this.analyticsService.getCookieExpiration(),"ubisoft.com")}},{key:"removeAdobeAnalyticsTracking",value:function removeAdobeAnalyticsTracking(){this.debugService.log("[Ubisoft Analytics] Refuse adobe analytics privacy"),this.analyticsService.setCookie($p,"true",this.analyticsService.getCookieExpiration(),"ubisoft.com"),this.analyticsService.detachSCode()}},{key:"addAdobeAnalyticsTracking",value:(t=CommunicationService_asyncToGenerator(CommunicationService_regeneratorRuntime().mark((function _callee20(){return CommunicationService_regeneratorRuntime().wrap((function _callee20$(e){for(;;)switch(e.prev=e.next){case 0:return this.debugService.log("[Ubisoft Analytics] Accept adobe analytics privacy"),this.analyticsService.setCookie($p,"false",this.analyticsService.getCookieExpiration(),"ubisoft.com"),e.next=4,this.analyticsService.attachSCode();case 4:case"end":return e.stop()}}),_callee20,this)}))),function addAdobeAnalyticsTracking(){return t.apply(this,arguments)})},{key:"removeMediaAnalyticsTracking",value:function removeMediaAnalyticsTracking(){this.debugService.log("[Ubisoft Analytics] Refuse ads privacy"),this.analyticsService.setCookie(Jp,"true",this.analyticsService.getCookieExpiration(),"ubisoft.com")}},{key:"addMediaAnalyticsTracking",value:function addMediaAnalyticsTracking(){this.debugService.log("[Ubisoft Analytics] Accept ads privacy"),this.analyticsService.setCookie(Jp,"false",this.analyticsService.getCookieExpiration(),"ubisoft.com")}},{key:"removeCustomizationTracking",value:function removeCustomizationTracking(){this.debugService.log("[Ubisoft Analytics] Refuse customization privacy"),this.analyticsService.setCookie(Zp,"true",this.analyticsService.getCookieExpiration(),"ubisoft.com")}},{key:"addCustomizationTracking",value:function addCustomizationTracking(){this.debugService.log("[Ubisoft Analytics] Accept customization privacy"),this.analyticsService.setCookie(Zp,"false",this.analyticsService.getCookieExpiration(),"ubisoft.com")}},{key:"removeVideosTracking",value:function removeVideosTracking(){this.debugService.log("[Ubisoft Analytics] Refuse video privacy"),this.analyticsService.setCookie(eh,"true",this.analyticsService.getCookieExpiration(),"ubisoft.com")}},{key:"addVideosTracking",value:function addVideosTracking(){this.debugService.log("[Ubisoft Analytics] Accept video privacy"),this.analyticsService.setCookie(eh,"false",this.analyticsService.getCookieExpiration(),"ubisoft.com")}},{key:"toggleLoginType",value:function toggleLoginType(e){if(e===Z||e===ee){var t=pt.getConfiguration(this.state);t=CommunicationService_objectSpread(CommunicationService_objectSpread({},t),{},{loginType:e}),this.integratorConfigurationService.loadConfiguration(t)}}},{key:"handleUpdateIntegratorConfiguration",value:function handleUpdateIntegratorConfiguration(e){Object.prototype.hasOwnProperty.call(e,"enableDebug")&&(this.channel.setDebug(e.enableDebug),this.generalChannel.setDebug(e.enableDebug),this.debugService.setDebug(e.enableDebug)),this.integratorConfigurationService.loadConfiguration(e)}},{key:"handleThirdPartyCookiesSupport",value:function handleThirdPartyCookiesSupport(e,t){this.dispatch(new ln(e)),t&&this.login($u(this.getState(),{status:this.commonActionsService.getIframeCheckThirdPartyCookiesSupport()}),pt.getHasExternalLoginType(this.getState()),pt.getLoginType(this.getState()))}},{key:"triggerThirdPartyStatusCheckAndLogin",value:,{key:"handleOnFriendAction",value:,{key:"getWindowsWidth",value:function getWindowsWidth(){return this.windowsWidth}},{key:"getWindowsHeight",value:function getWindowsHeight(){return this.windowsHeight}},{key:"getIframeBoundingClientRect",value:function getIframeBoundingClientRect(){return this.iframeBoundingClientRect}}]),CommunicationService}(ol))||Hy;function TwoFactorAuthApi_typeof(e){return TwoFactorAuthApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TwoFactorAuthApi_typeof(e)}function TwoFactorAuthApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TwoFactorAuthApi_setPrototypeOf(e,t){return TwoFactorAuthApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},TwoFactorAuthApi_setPrototypeOf(e,t)}function TwoFactorAuthApi_createSuper(e){var t=function TwoFactorAuthApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=TwoFactorAuthApi_getPrototypeOf(e);if(t){var o=TwoFactorAuthApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return TwoFactorAuthApi_possibleConstructorReturn(this,r)}}function TwoFactorAuthApi_possibleConstructorReturn(e,t){if(t&&("object"===TwoFactorAuthApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function TwoFactorAuthApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function TwoFactorAuthApi_getPrototypeOf(e){return TwoFactorAuthApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},TwoFactorAuthApi_getPrototypeOf(e)}var Yy,Xy=injectableForJs([k])(zy=function(e){!function TwoFactorAuthApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TwoFactorAuthApi_setPrototypeOf(e,t)}(TwoFactorAuthApi,e);var t=TwoFactorAuthApi_createSuper(TwoFactorAuthApi);function TwoFactorAuthApi(e){var r;return function TwoFactorAuthApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TwoFactorAuthApi),(r=t.call(this)).httpService=e,r}return function TwoFactorAuthApi_createClass(e,t,r){return t&&TwoFactorAuthApi_defineProperties(e.prototype,t),r&&TwoFactorAuthApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(TwoFactorAuthApi,[{key:"getTwoFactorAuthStatus",value:function getTwoFactorAuthStatus(){var e=new ca("".concat(Ft.getConnectEndpoint(this.getState()),"/api/default/check2fa")).header("Ubi-AppId",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Content-Type","application/json").header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket));return this.httpService.send(e).then((function(e){return e.data}))}}]),TwoFactorAuthApi}(ol))||zy;function TwoFactorAuthService_typeof(e){return TwoFactorAuthService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TwoFactorAuthService_typeof(e)}function TwoFactorAuthService_regeneratorRuntime(){TwoFactorAuthService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==TwoFactorAuthService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function TwoFactorAuthService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function TwoFactorAuthService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TwoFactorAuthService_setPrototypeOf(e,t){return TwoFactorAuthService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},TwoFactorAuthService_setPrototypeOf(e,t)}function TwoFactorAuthService_createSuper(e){var t=function TwoFactorAuthService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=TwoFactorAuthService_getPrototypeOf(e);if(t){var o=TwoFactorAuthService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return TwoFactorAuthService_possibleConstructorReturn(this,r)}}function TwoFactorAuthService_possibleConstructorReturn(e,t){if(t&&("object"===TwoFactorAuthService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function TwoFactorAuthService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function TwoFactorAuthService_getPrototypeOf(e){return TwoFactorAuthService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},TwoFactorAuthService_getPrototypeOf(e)}var Ky,$y=injectableForJs([Xy])(Yy=function(e){!function TwoFactorAuthService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TwoFactorAuthService_setPrototypeOf(e,t)}(TwoFactorAuthService,e);var t,r=TwoFactorAuthService_createSuper(TwoFactorAuthService);function TwoFactorAuthService(e){var t;return function TwoFactorAuthService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TwoFactorAuthService),(t=r.call(this)).twoFactorAuthApi=e,t}return function TwoFactorAuthService_createClass(e,t,r){return t&&TwoFactorAuthService_defineProperties(e.prototype,t),r&&TwoFactorAuthService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(TwoFactorAuthService,[{key:"getTwoFactorAuthStatus",value:(t=function TwoFactorAuthService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){TwoFactorAuthService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){TwoFactorAuthService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(TwoFactorAuthService_regeneratorRuntime().mark((function _callee(){var e;return TwoFactorAuthService_regeneratorRuntime().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.twoFactorAuthApi.getTwoFactorAuthStatus();case 3:e=t.sent,this.dispatch(new Wo(e.active,e.optin)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),this.dispatch(new Wo(!1,!1));case 10:case"end":return t.stop()}}),_callee,this,[[0,7]])}))),function getTwoFactorAuthStatus(){return t.apply(this,arguments)})}]),TwoFactorAuthService}(ol))||Yy,Jy=(0,I.P1)(Wi.getById,vl.getHasIdentity,vl.getUserId,(),Zy=(0,I.P1)(Jy,(function(e){return e?e.status:null})),eg=(0,I.P1)(Zy,(),tg=(0,I.P1)(Jy,(function(e){return e?e.dateCreated:null})),rg={getMyUserDetails:Jy,getMyStatus:Zy,getMyMinorStatus:eg,getMyAccountCreationDate:tg,getMyNbOfYearsWithUbi:(0,I.P1)(tg,(function(e){return e?a()().diff(e,"years",!1):0})),getMyCountryCode:(0,I.P1)(Jy,(function(e){return e?e.country:null}))},ng=(0,I.P1)("AvatarsQueries.getMyDefaultAvatar",vl.getUserId,pt.getApplicationId,Ft.getAvatarsUrl,(function(e,t){return!(!t||null===t.noAppId||void 0===t.noAppId)&&t.noAppId}),(function(e,t,r,n){return n?"".concat(r,"/").concat(e,"/default_[size].png"):"".concat(r,"/").concat(e,"/default_[size].png?appId=").concat(t)})),og=(0,I.P1)("AvatarsQueries.getMyAvatarSmall",ng,(function(e){return e.replace("[size]","146_146")})),ig=(0,I.P1)("AvatarsQueries.getMyAvatarLarge",ng,(function(e){return e.replace("[size]","256_256")})),ag=(0,I.P1)("AvatarsQueries.getMyAvatarTall",ng,(function(e){return e.replace("[size]","tall")})),sg=(0,I.P1)("AvatarsQueries.getMyAvatarData",Zo.getById,vl.getUserId,(),cg=(0,I.P1)("AvatarsQueries.getMyAvatarData",Zo.getDetailsById,vl.getUserId,(function(e,t){return e?e[t]:null})),lg=(0,I.P1)("AvatarsQueries.getMyAvatarData",Zo.getImagesById,vl.getUserId,(),ug=(0,I.P1)("AvatarsQueries.getMyAvatar",lg,og,pt.getApplicationId,sg,(function(e,t,r){return e?-1!==e[146].indexOf("?")?"".concat(e[146],"&appId=").concat(r):"".concat(e[146],"?appId=").concat(r,"&tm=").concat((new Date).getTime()):"".concat(t,"&tm=").concat((new Date).getTime())})),fg=(0,I.P1)("AvatarsQueries.getCountryCode",rg.getMyCountryCode,Ku,me.getCurrentLocale,(function(e,t,r){return e||(t||r.split("-")[1])})),dg=(0,I.P1)("AvatarsQueries.getAvatarsFromGallery",Zo.getByInstallmentSpaceId,Zo.getConfigsByCountryCode,fg,(function(e,t,r){return t&&t[r]?(0,s.map)(e,(function(e,n){var o=t[r].spaces.find((function(e){return e.spaceId===n})),i=o?o.displayName:null;return{key:n,value:i}})):[]})),pg=(0,I.P1)("AvatarsQueries.getFirstAvatarFromGallery",dg,(),hg=(0,I.P1)("AvatarsQueries.getFirstAvatarsFromGallery",pg,J.getSelectedGameCode,(function(e,t){return t||(e?e.key:null)})),yg={getMyDefaultAvatar:ng,getMyAvatarSmall:og,getMyAvatarLarge:ig,getMyAvatarTall:ag,getMyAvatarData:sg,getMyAvatarDataDetails:cg,getMyAvatarDataImages:lg,getMyAvatar:ug,getCountryCode:fg,getAvatarsFromGallery:dg,getFirstAvatarFromGallery:pg,getDefaultInstallmentSpaceIdFromGallery:hg,getDefaultGameNameFromGallery:(0,I.P1)("AvatarsQueries.getDefaultGameNameFromGallery",hg,dg,(function(e,t){return e&&t.find((function(t){return t.key==e}))?t.find((function(t){return t.key==e})).value:null})),getFilteredAvatarsFromGallery:(0,I.P1)("AvatarsQueries.getFilteredAvatarsFromGallery",dg,J.getWrittenGameName,(function(e,t){return t?e.filter((function(e){return e.value&&-1!==e.value.toLowerCase().indexOf(t.toLowerCase())})):e})),getAvatarsFromGalleryByInstallmentSpaceId:(0,I.P1)("AvatarsQueries.getAvatarsFromGalleryByInstallmentSpaceId",Zo.getByInstallmentSpaceId,hg,(function(e,t){return t?e[t]:[]}))};function AvatarsApi_typeof(e){return AvatarsApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AvatarsApi_typeof(e)}function AvatarsApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AvatarsApi_setPrototypeOf(e,t){return AvatarsApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},AvatarsApi_setPrototypeOf(e,t)}function AvatarsApi_createSuper(e){var t=function AvatarsApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=AvatarsApi_getPrototypeOf(e);if(t){var o=AvatarsApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return AvatarsApi_possibleConstructorReturn(this,r)}}function AvatarsApi_possibleConstructorReturn(e,t){if(t&&("object"===AvatarsApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function AvatarsApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function AvatarsApi_getPrototypeOf(e){return AvatarsApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},AvatarsApi_getPrototypeOf(e)}var gg,vg=injectableForJs([k])(Ky=function(e){!function AvatarsApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AvatarsApi_setPrototypeOf(e,t)}(AvatarsApi,e);var t=AvatarsApi_createSuper(AvatarsApi);function AvatarsApi(e){var r;return function AvatarsApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AvatarsApi),(r=t.call(this)).httpService=e,r}return function AvatarsApi_createClass(e,t,r){return t&&AvatarsApi_defineProperties(e.prototype,t),r&&AvatarsApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(AvatarsApi,[{key:"getAvatarsConfigs",value:function getAvatarsConfigs(e,t){var r=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/spaces/configs/avatars")).query("countryCode",e).header("Ubi-AppId",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket));return t&&r.header("Accept-Encoding",t),this.httpService.send(r).then((function(e){return e.data||{}}))}},{key:"getUserAvatarById",value:function getUserAvatarById(e){var t=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/profiles/").concat(e,"/avatars")).header("Ubi-AppId",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket));return this.httpService.send(t).then((function(e){return e.data||{}}))}},{key:"getAvatarsFromGallery",value:function getAvatarsFromGallery(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(!t||!t.length){var s=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/spaces/avatars/galleries")).query("countryCode",e).query("offset",n).query("limit",o).header("Ubi-AppId",pt.getApplicationId(this.getState())).header("Ubi-SessionId",pt.getApplicationId(this.getState())).header("Authorization","ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket));return i&&s.header("Accept-Encoding",i),this.httpService.send(s).then((function(t){return t.data.galleryAvatars.length>=o&&a<5?(a++,r.getAvatarsFromGallery(e,[],n+o,o,i,a).then((function(e){return t.data.galleryAvatars.concat(e)}))):t.data.galleryAvatars||[]}))}for(var c=t.slice(),l=[];c.length>0;){var u=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/spaces/avatars/galleries")).query("countryCode",e).query("spaceIds",c.splice(0,20).join(",")).query("offset",n).query("limit",o).header("Ubi-AppId",pt.getApplicationId(this.getState())).header("Ubi-SessionId",pt.getApplicationId(this.getState())).header("Authorization","ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket));i&&u.header("Accept-Encoding",i),l.push(u)}return Promise.all(l.map((function(t){return r.httpService.send(t).then((function(s){return s.data.galleryAvatars.length>=o&&a<5?(a++,r.getAvatarsFromGallery(e,t.getQueryParams().spaceIds,n+o,o,i,a).then(()):s.data.galleryAvatars||[]}))}))).then(()}},{key:"saveAvatarFromGallery",value:function saveAvatarFromGallery(e,t){var r=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/profiles/").concat(e,"/avatars/galleries")).post().body(JSON.stringify({galleryAvatarId:t})).header("Content-Type","application/json").header("Ubi-AppId",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket));return this.httpService.send(r).then(()}}]),AvatarsApi}(ol))||Ky;function AvatarService_typeof(e){return AvatarService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AvatarService_typeof(e)}function AvatarService_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function AvatarService_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AvatarService_ownKeys(Object(r),!0).forEach((function(t){AvatarService_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AvatarService_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function AvatarService_regeneratorRuntime(){AvatarService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==AvatarService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function AvatarService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AvatarService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function AvatarService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){AvatarService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){AvatarService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function AvatarService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AvatarService_setPrototypeOf(e,t){return AvatarService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},AvatarService_setPrototypeOf(e,t)}function AvatarService_createSuper(e){var t=function AvatarService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=AvatarService_getPrototypeOf(e);if(t){var o=AvatarService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return AvatarService_possibleConstructorReturn(this,r)}}function AvatarService_possibleConstructorReturn(e,t){if(t&&("object"===AvatarService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function AvatarService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function AvatarService_getPrototypeOf(e){return AvatarService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},AvatarService_getPrototypeOf(e)}var mg,bg=injectableForJs([vg])(gg=function(e){!function AvatarService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AvatarService_setPrototypeOf(e,t)}(AvatarService,e);var t,r,n,o,i=AvatarService_createSuper(AvatarService);function AvatarService(e){var t;return function AvatarService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AvatarService),(t=i.call(this)).avatarsApi=e,t}return function AvatarService_createClass(e,t,r){return t&&AvatarService_defineProperties(e.prototype,t),r&&AvatarService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(AvatarService,[{key:"getMyAvatar",value:(o=AvatarService_asyncToGenerator(AvatarService_regeneratorRuntime().mark((function _callee(){var e,t,r,n,o,i;return AvatarService_regeneratorRuntime().wrap((function _callee$(s){for(;;)switch(s.prev=s.next){case 0:if(e=null,t={},r={},n={},o=vl.getUserId(this.getState()),i=Zo.getExpirations(this.getState()).avatar&&Zo.getExpirations(this.getState()).avatar[o]?Zo.getExpirations(this.getState()).avatar[o]:0,Ft.isExpired(i,rf)){s.next=9;break}return this.dispatch(new cr(Zo.getById(this.getState()),Zo.getDetailsById(this.getState()),AvatarService_defineProperty({},o,this.getImagesById(Zo.getById(this.getState()))),Zo.getExpirations(this.getState()).avatar)),s.abrupt("return",Promise.resolve());case 9:return s.prev=9,s.next=12,this.avatarsApi.getUserAvatarById(o);case 12:e=s.sent,s.next=20;break;case 15:return s.prev=15,s.t0=s.catch(9),console.error(s.t0),this.dispatch(new cr(t,r,n,AvatarService_defineProperty({},o,0))),s.abrupt("return",Promise.resolve());case 20:return t[o]=e,r[o]={profileId:e.profileId,isAvatarBanned:e.isAvatarBanned,isProfileBanned:e.isProfileBanned,type:e.type,spaceId:e.spaceId},n[o]=this.getImagesById(AvatarService_defineProperty({},o,e)),this.dispatch(new cr(t,r,n,AvatarService_defineProperty({},o,a()().unix()))),s.abrupt("return",e);case 25:case"end":return s.stop()}}),_callee,this,[[9,15]])}))),function getMyAvatar(){return o.apply(this,arguments)})},{key:"loadAvatarsFromGallery",value:(n=AvatarService_asyncToGenerator(AvatarService_regeneratorRuntime().mark((function _callee2(){var e,t,r,n,o,i,c,l,u;return AvatarService_regeneratorRuntime().wrap((function _callee2$(f){for(;;)switch(f.prev=f.next){case 0:if(e=yg.getCountryCode(this.getState()),t=rg.getMyMinorStatus(this.getState()).toString(),r=vl.getUserId(this.getState()),n={},o={},i=[],c={},l=Zo.getExpirations(this.getState()).galleries&&Zo.getExpirations(this.getState()).galleries[r]&&Zo.getExpirations(this.getState()).galleries[r][e]&&Zo.getExpirations(this.getState()).galleries[r][e][t]?Zo.getExpirations(this.getState()).galleries[r][e][t]:0,Ft.isExpired(l,af)){f.next=11;break}return this.dispatch(new dr(Zo.getByInstallmentSpaceId(this.getState()),{},Zo.getExpirations(this.getState()))),f.abrupt("return",(0,s.map)(Zo.getByInstallmentSpaceId(this.getState()),(function(e){return e})).reduce((function(e,t){return e.concat(t)}),[]));case 11:return f.prev=11,f.next=14,Promise.all([this.avatarsApi.getAvatarsConfigs(e),this.avatarsApi.getAvatarsFromGallery(e)]);case 14:u=f.sent,c=u[0],i=u[1],f.next=23;break;case 19:return f.prev=19,f.t0=f.catch(11),console.error(f.t0),f.abrupt("return",Promise.reject(f.t0));case 23:return o[e]=c,i.forEach((),this.dispatch(new dr(n,o,{galleries:AvatarService_defineProperty({},r,AvatarService_defineProperty({},e,AvatarService_defineProperty({},t,a()().unix())))})),f.abrupt("return",i);case 27:case"end":return f.stop()}}),_callee2,this,[[11,19]])}))),function loadAvatarsFromGallery(){return n.apply(this,arguments)})},{key:"saveAvatarFromGallery",value:(r=AvatarService_asyncToGenerator(AvatarService_regeneratorRuntime().mark((function _callee3(e){var t,r,n,o,i;return AvatarService_regeneratorRuntime().wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return this.dispatch(new pr),t=null,r={},n={},o={},i=vl.getUserId(this.getState()),a.prev=6,a.next=9,this.avatarsApi.saveAvatarFromGallery(i,e);case 9:t=a.sent,a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(6),console.error(a.t0),a.abrupt("return");case 16:return r[i]=t,n[i]={profileId:t.profileId,isAvatarBanned:t.isAvatarBanned,isProfileBanned:t.isProfileBanned,type:t.type,spaceId:t.spaceId},o[i]=t.imageVariations.map(().reduce((function(e,t){return AvatarService_objectSpread(AvatarService_objectSpread({},e),t)})),a.next=21,this.loadAvatarImage(i,r,n,o,o[i][146]);case 21:return a.abrupt("return",a.sent);case 22:case"end":return a.stop()}}),_callee3,this,[[6,12]])}))),function saveAvatarFromGallery(e){return r.apply(this,arguments)})},{key:"loadAvatarImage",value:(t=AvatarService_asyncToGenerator(AvatarService_regeneratorRuntime().mark((function _callee4(e,t,r,n,o){var i=this;return AvatarService_regeneratorRuntime().wrap((function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,new Promise((function(a){var s=new Image;s.onload=function(){i.dispatch(new cr(t,r,n,AvatarService_defineProperty({},e,0))),a()},s.onerror=function(){i.dispatch(new cr(t,r,n,AvatarService_defineProperty({},e,0))),a()};var c=pt.getApplicationId(i.getState());s.src=-1!==o.indexOf("?")?"".concat(o,"&appId=").concat(c):"".concat(o,"?appId=").concat(c)}));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),_callee4)}))),},{key:"getImagesById",value:function getImagesById(e){var t=this;return e&&e[vl.getUserId(this.getState())]&&e[vl.getUserId(this.getState())].imageVariations?e[vl.getUserId(this.getState())].imageVariations.map((function(e){var r=yg.getMyAvatarLarge(t.getState(),{noAppId:!0});switch(e.width){case 146:r=yg.getMyAvatarSmall(t.getState(),{noAppId:!0});break;case 256:default:r=yg.getMyAvatarLarge(t.getState(),{noAppId:!0});break;case 500:r=yg.getMyAvatarTall(t.getState(),{noAppId:!0})}return AvatarService_defineProperty({},e.width,r)})).reduce(():null}}]),AvatarService}(ol))||gg;function UserApi_typeof(e){return UserApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UserApi_typeof(e)}function UserApi_regeneratorRuntime(){UserApi_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==UserApi_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function UserApi_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function UserApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserApi_setPrototypeOf(e,t){return UserApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},UserApi_setPrototypeOf(e,t)}function UserApi_createSuper(e){var t=function UserApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=UserApi_getPrototypeOf(e);if(t){var o=UserApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return UserApi_possibleConstructorReturn(this,r)}}function UserApi_possibleConstructorReturn(e,t){if(t&&("object"===UserApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function UserApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function UserApi_getPrototypeOf(e){return UserApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},UserApi_getPrototypeOf(e)}var Sg,wg=injectableForJs([k])(mg=function(e){!function UserApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UserApi_setPrototypeOf(e,t)}(UserApi,e);var t,r=UserApi_createSuper(UserApi);function UserApi(e){var t;return function UserApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserApi),(t=r.call(this)).httpService=e,t}return function UserApi_createClass(e,t,r){return t&&UserApi_defineProperties(e.prototype,t),r&&UserApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(UserApi,[{key:"getCurrentUser",value:(t=UserApi_regeneratorRuntime().mark((function _callee(e){var t;return UserApi_regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v3/users/me")).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket)),e&&e.length&&t.query("fields",e.join(",")),r.abrupt("return",this.httpService.send(t).then((function(e){return e.data})));case 3:case"end":return r.stop()}}),_callee,this)}))),function getCurrentUser(e){return t.apply(this,arguments)})}]),UserApi}(ol))||mg;function UserService_typeof(e){return UserService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UserService_typeof(e)}function UserService_regeneratorRuntime(){UserService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);eneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function UserService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UserService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function UserService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserService_setPrototypeOf(e,t){return UserService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},UserService_setPrototypeOf(e,t)}function UserService_createSuper(e){var t=function UserService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=UserService_getPrototypeOf(e);if(t){var o=UserService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return UserService_possibleConstructorReturn(this,r)}}function UserService_possibleConstructorReturn(e,t){if(t&&("object"===UserService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function UserService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function UserService_getPrototypeOf(e){return UserService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},UserService_getPrototypeOf(e)}var Pg,_g=injectableForJs([wg])(Sg=function(e){!function UserService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UserService_setPrototypeOf(e,t)}(UserService,e);var t,r=UserService_createSuper(UserService);function UserService(e){var t;return function UserService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserService),(t=r.call(this)).userApi=e,t}return function UserService_createClass(e,t,r){return t&&UserService_defineProperties(e.prototype,t),r&&UserService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(UserService,[{key:"loadCurrentUser",value:(t=function UserService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){UserService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){UserService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(UserService_regeneratorRuntime().mark((function _callee(){var e,t,r;return UserService_regeneratorRuntime().wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(e=vl.getUserId(this.getState()),t=Wi.getExpiration(this.getState())[e]?Wi.getExpiration(this.getState())[e]:0,Ft.isExpired(t,af)){n.next=5;break}return this.dispatch(new br({},{})),n.abrupt("return");case 5:return n.prev=5,n.next=8,this.userApi.getCurrentUser(["userId","status","dateCreated","country","nameOnPlatform"]);case 8:r=n.sent,this.dispatch(new br(UserService_defineProperty({},r.userId,r),UserService_defineProperty({},r.userId,a()().unix()))),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),this.dispatch(new br({},UserService_defineProperty({},vl.getUserId(this.getState()),0)));case 15:case"end":return n.stop()}}),_callee,this,[[5,12]])}))),function loadCurrentUser(){return t.apply(this,arguments)})}]),UserService}(ol))||Sg;function BootstrapService_typeof(e){return BootstrapService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BootstrapService_typeof(e)}function BootstrapService_regeneratorRuntime(){BootstrapService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==BootstrapService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function BootstrapService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function BootstrapService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){BootstrapService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){BootstrapService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function BootstrapService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BootstrapService_setPrototypeOf(e,t){return BootstrapService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},BootstrapService_setPrototypeOf(e,t)}function BootstrapService_createSuper(e){var t=function BootstrapService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=BootstrapService_getPrototypeOf(e);if(t){var o=BootstrapService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return BootstrapService_possibleConstructorReturn(this,r)}}function BootstrapService_possibleConstructorReturn(e,t){if(t&&("object"===BootstrapService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function BootstrapService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function BootstrapService_getPrototypeOf(e){return BootstrapService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},BootstrapService_getPrototypeOf(e)}var Cg=injectableForJs([ic,cf,qp,Hc,Qp,Qy,fa,$y,my,Py,bg,_g,Ry,Ey,qy])(Pg=function(e){!function BootstrapService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BootstrapService_setPrototypeOf(e,t)}(BootstrapService,e);var t,r,n=BootstrapService_createSuper(BootstrapService);function BootstrapService(e,t,r,o,i,a,s,c,l,u,f,d,p,h,y){var g;return function BootstrapService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BootstrapService),(g=n.call(this)).isInitializing=!1,g.authenticationService=e,g.profilesService=t,g.gamesService=r,g.translatorService=o,g.pageLoaderService=i,g.communicationService=a,g.channel=s,g.twoFactorAuthService=c,g.betaNotificationsService=l,g.metaProgressionProfileService=u,g.avatarService=f,g.userService=d,g.friendsService=p,g.websocketService=h,g.commonActionsService=y,g}return function BootstrapService_createClass(e,t,r){return t&&BootstrapService_defineProperties(e.prototype,t),r&&BootstrapService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(BootstrapService,[{key:"bootstrap",value:(r=BootstrapService_asyncToGenerator(BootstrapService_regeneratorRuntime().mark((function _callee(e,t,r){var n,o,i,a,s=this;return BootstrapService_regeneratorRuntime().wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if(r&&r.query&&r.query.isSafari&&this.communicationService.changeIframeUrl(),c.prev=1,"ar-ae"===(n=me.getCurrentLocale(this.store.getState())?me.getCurrentLocale(this.store.getState()):pt.getLocaleCode(this.store.getState())).toLowerCase()?this.dispatch(new Qr):this.dispatch(new zr),o=n.split("-")[1]?"".concat(n.split("-")[0].toLowerCase(),"-").concat(n.split("-")[1].toUpperCase()):n,be.find(()||-1===be.indexOf(o)||console.warn("".concat(n," is an invalid locale. Therefore ").concat(o," will be used")),-1===be.indexOf(o)&&(console.warn("".concat(n," is an invalid locale. Pleas set locale on init with one of the following: ").concat(be.join(", "))),o="en-GB"),na.getDisplayPageLoader(this.getState())){c.next=10;break}return c.next=10,this.pageLoaderService.showPageLoader();case 10:return c.next=12,this.translatorService.loadLocale(o);case 12:if(this.translatorService.changeLocale(o),!(r&&r.query&&r.query.payload)){c.next=18;break}return c.next=16,this.refreshIdentity(r.query.payload);case 16:c.next=21;break;case 18:return this.channel.send(Ea,{afterLogin:e,isReInit:t,loginParams:r?r.query:null}),c.next=21,new Promise((function(e,t){s.channel.subscribe(cs,(function(r){return s.dispatch(new $r(r)),s.websocketService.start(r,s.communicationService.handleOnFriendAction),s.authenticationService.refreshIdentity().then((function(){return e()})).catch((function(){return t()}))})),s.channel.subscribe(ls,(function(){return s.dispatch(new Jr),s.dispatch(new U),t({opId:"GetTicket",errorMessage:"no login data available",status:"error"})}))}));case 21:if(i=!1,!(r&&r.query&&r.query.platform&&r.query.formerUserId!==vl.getUserId(this.getState()))){c.next=26;break}return i=!0,c.next=26,this.dispatch(new xr);case 26:return this.dispatch(new Ur),c.next=29,this.pageLoaderService.hidePageLoader();case 29:return this.channel.send(La,{ticket:vl.getIdentity(this.getState()).ticket,sessionId:vl.getIdentity(this.state).sessionId,userId:vl.getUserId(this.getState())}),this.dispatch(new cr(Zo.getById(this.getState()),Zo.getDetailsById(this.getState()),(l={},u=vl.getUserId(this.getState()),f=this.avatarService.getImagesById(Zo.getById(this.getState())),u in l?Object.defineProperty(l,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):l[u]=f,l),Zo.getExpirations(this.getState()).avatar)),c.next=33,this.userService.loadCurrentUser().then((function(){s.communicationService.loggedIn(vl.getIdentity(s.getState()),e,t)}));case 33:return a=[],i?a.push(this.commonActionsService.onExpandFriends()):a.push(this.friendsService.loadMyFriends()),t&&a.push(this.avatarService.getMyAvatar()),this.gamesService.loadMyGames().then((function(){rd.getHasOtherGamesPlayed(s.getState())&&s.dispatch(new Co(rd.getCurrentGameId(s.getState()),rd.getCurrentLastPlayedGameSpaceId(s.getState()),rd.getCurrentLastPlayedGameAppId(s.getState())))})),a.push(this.betaNotificationsService.getBetaNotifications()),c.next=40,Promise.all([this.profilesService.loadMyUserProfile(),this.metaProgressionProfileService.loadMyMetaProgression(),this.twoFactorAuthService.getTwoFactorAuthStatus()].concat(a));case 40:return c.abrupt("return",c.sent);case 43:return c.prev=43,c.t0=c.catch(1),c.t0&&console.log("[BootsrapService] error",c.t0),this.dispatch(new Ur),c.next=49,this.pageLoaderService.hidePageLoader();case 49:return this.communicationService.loggedIn(null,e,t),c.abrupt("return",Promise.reject(c.t0));case 51:case"end":return c.stop()}var l,u,f}),_callee,this,[[1,43]])}))),function bootstrap(e,t,n){return r.apply(this,arguments)})},{key:"refreshIdentity",value:function refreshIdentity(e){return this.dispatch(new $r({user_id:e.payload.userId,ticket:e.payload.ticket,token:e.payload.token,sessionId:e.payload.sessionId,expiration:e.payload.expiration,opId:e.opId})),this.authenticationService.refreshIdentity()}},{key:"setIframeScrollWidth",value:function setIframeScrollWidth(){var e,t=document.getElementById("root"),r=document.createElement("div");r.style.width="100px",r.style.height="100px",r.style.position="absolute",r.style.top="-9999",r.style.left="-9999",r.style.zIndex="-1000",r.style.overflow="scroll",r.style.MsOverflowStyle="scrollbar",t.appendChild(r),e=r.offsetWidth-r.clientWidth,t.removeChild(r),this.dispatch(new fn(e))}},{key:"initialize",value:(t=BootstrapService_asyncToGenerator(BootstrapService_regeneratorRuntime().mark((function _callee2(e,t,r){var n;return BootstrapService_regeneratorRuntime().wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:if(n=Promise.resolve(),this.isInitializing){o.next=14;break}return this.isInitializing=!0,o.prev=3,o.next=6,this.bootstrap(e,t,r);case 6:n=o.sent,this.isInitializing=!1,o.next=14;break;case 10:o.prev=10,o.t0=o.catch(3),console.log("[BoostrapService] error: ".concat(o.t0.errorMessage)),this.isInitializing=!1;case 14:return this.setIframeScrollWidth(),o.abrupt("return",n);case 16:case"end":return o.stop()}}),_callee2,this,[[3,10]])}))),function initialize(e,r,n){return t.apply(this,arguments)})}]),BootstrapService}(ol))||Pg;function Component_typeof(e){return Component_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Component_typeof(e)}function Component_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Component_setPrototypeOf(e,t){return Component_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},Component_setPrototypeOf(e,t)}function Component_createSuper(e){var t=function Component_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=Component_getPrototypeOf(e);if(t){var o=Component_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Component_possibleConstructorReturn(this,r)}}function Component_possibleConstructorReturn(e,t){if(t&&("object"===Component_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Component_assertThisInitialized(e)}function Component_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Component_getPrototypeOf(e){return Component_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},Component_getPrototypeOf(e)}var Og,Ag=function(e){!function Component_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Component_setPrototypeOf(e,t)}(Component,e);var t=Component_createSuper(Component);function Component(e,r){var n;!function Component_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Component);var o=[];return(n=t.call(this,e,r)).props=e,"undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys?o=Reflect.ownKeys(n.constructor.prototype):(o=Object.getOwnPropertyNames(n.constructor.prototype),"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n.constructor.prototype)))),o.forEach((function(e){"constructor"!==e&&"function"==typeof n[e]&&(n[e]=n[e].bind(Component_assertThisInitialized(n)))})),n}return function Component_createClass(e,t,r){return t&&Component_defineProperties(e.prototype,t),r&&Component_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(Component,[{key:"componentWillMount",value:function componentWillMount(){return null}},{key:"componentDidMount",value:function componentDidMount(){return null}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){return null}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,t){return!0}},{key:"componentWillUpdate",value:function componentWillUpdate(e,t){return null}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){return null}},{key:"componentWillUnmount",value:function componentWillUnmount(){return null}}]),Component}(zc.Component);function DangerousHtml(e){var t=Object.assign({},e);t.dangerouslySetInnerHTML={__html:e.children},delete t.children;var r=t.type;return delete t.type,t.className?t.className+=" dangerousHtml":t.className="dangerousHtml",(0,zc.createElement)(r||"span",t)}function Translate_typeof(e){return Translate_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Translate_typeof(e)}function Translate_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Translate_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Translate_setPrototypeOf(e,t){return Translate_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},Translate_setPrototypeOf(e,t)}function Translate_createSuper(e){var t=function Translate_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=Translate_getPrototypeOf(e);if(t){var o=Translate_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Translate_possibleConstructorReturn(this,r)}}function Translate_possibleConstructorReturn(e,t){if(t&&("object"===Translate_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function Translate_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Translate_getPrototypeOf(e){return Translate_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},Translate_getPrototypeOf(e)}var kg,xg=(0,Jc.$j)(nl({catalogs:me.getLocaleCatalogs,_$locale:me.getCurrentLocale}))(Og=function(e){!function Translate_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Translate_setPrototypeOf(e,t)}(Translate,e);var t=Translate_createSuper(Translate);function Translate(){return Translate_classCallCheck(this,Translate),t.apply(this,arguments)}return function Translate_createClass(e,t,r){return t&&Translate_defineProperties(e.prototype,t),r&&Translate_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(Translate,[{key:"render",value:function render(){var e,t=Object.assign({},this.props);delete t.children,delete t.catalogs,delete t._$locale;try{(e=this.props.catalogs[this.props._$locale][this.props.children])||(e=this.props.children)}catch(t){e=this.props.children}if(!e)return console.warn("Nothing to translate."),null;var r=[];if(Object.keys(t).filter(().forEach((function(n){if((0,s.isObject)(t[n])){r.push({term:t[n],orderLevel:e.indexOf(n)});try{e=e.replace("[".concat(n,"]"),"{REACT}")}catch(e){console.error(e)}}else e=e.replace("[".concat(n,"]"),t[n])})),r.length>0){r=r.sort(();var n=e.split("{REACT}"),o=[],i=0;return n.forEach((function(e){i++,o.push((0,l.jsx)(DangerousHtml,{children:e},i)),r.length>0&&(i++,o.push((0,l.jsx)("span",{children:r.shift().term},i)))})),"ar-AE"===this.props._$locale?(0,l.jsx)("span",{children:[null].concat(o.reverse())}):(0,l.jsx)("span",{children:[null].concat(o)})}return-1!==e.indexOf("&")||-1!==e.indexOf("<")&&-1!==e.indexOf(">")?(this.props._$locale,(0,l.jsx)(DangerousHtml,{children:e})):(this.props._$locale,(0,l.jsx)("span",{children:e}))}}]),Translate}($c))||Og;function LoginView(e){return(0,l.jsxs)("button",{tabIndex:"0",type:"button","aria-label":"Log in or create an account",className:el()("LoginView",{"is-loading":e.show&&e.display,"with-login-text":e.showSignInText==Qs||e.showSignInText==Ys||e.showSignInText==Xs||1==e.showSignInText}),style:{backgroundColor:e.bgColor,height:e.height+"px"},onKeyUp:function onKeyUp(t){return 13!=t.keyCode&&32!=t.keyCode||e.onClickLogin(t)},onClick:e.onClickLogin,children:[e.showSignInText!=Qs&&e.showSignInText!=Xs&&1!=e.showSignInText||e.isInMobileView?null:(0,l.jsx)("div",{className:"login-avatar"}),e.showSignInText==Qs||e.showSignInText==Ys||e.showSignInText==Xs||1==e.showSignInText?(0,l.jsx)("span",{className:"login-text",children:(0,l.jsx)(xg,{children:"Log In"})}):null]})}function LoginController_typeof(e){return LoginController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LoginController_typeof(e)}function LoginController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LoginController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LoginController_setPrototypeOf(e,t){return LoginController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},LoginController_setPrototypeOf(e,t)}function LoginController_createSuper(e){var t=function LoginController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=LoginController_getPrototypeOf(e);if(t){var o=LoginController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return LoginController_possibleConstructorReturn(this,r)}}function LoginController_possibleConstructorReturn(e,t){if(t&&("object"===LoginController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function LoginController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function LoginController_getPrototypeOf(e){return LoginController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},LoginController_getPrototypeOf(e)}var Ig=inject({bootstrapService:Cg,communicationService:Qy,pageLoaderService:Qp,analyticsService:nh})(kg=(0,Jc.$j)(nl({showSignInText:pt.getShowSignInText,isInMobileView:Uc.getIsInMobileView,show:na.getShowPageLoader,display:na.getDisplayPageLoader,bgColor:pt.getLoginBackgroundColor,height:Uc.getCollapsedHeight}))(kg=function(e){!function LoginController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LoginController_setPrototypeOf(e,t)}(LoginController,e);var t=LoginController_createSuper(LoginController);function LoginController(){return LoginController_classCallCheck(this,LoginController),t.apply(this,arguments)}return function LoginController_createClass(e,t,r){return t&&LoginController_defineProperties(e.prototype,t),r&&LoginController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(LoginController,[{key:"render",value:function render(){return(0,l.jsx)(LoginView,{onClickLogin:this.handleOnClickLogin,show:this.props.show,display:this.props.display,showSignInText:this.props.showSignInText,isInMobileView:this.props.isInMobileView,bgColor:this.props.bgColor,height:this.props.height})}},{key:"handleOnClickLogin",value:function handleOnClickLogin(){this.props.analyticsService.trackEvent("user tab","player card","global nav","login","signing in"),this.props.communicationService.triggerThirdPartyStatusCheckAndLogin()}}]),LoginController}($c))||kg)||kg;function FriendsNotificationView(e){return(0,l.jsxs)("ul",{className:"menu_container_content_notification",children:[e.isInDesktopResize?null:[e.isOnArabLocale?null:[(0,l.jsx)("li",{className:el()("notifPanel notif",{active:e.showNotifications}),children:(0,l.jsxs)("a",{tabIndex:0,role:"button",onClick:e.handleNotificationsOnClick,onKeyUp:function onKeyUp(t){return 13!=t.keyCode&&32!=t.keyCode||e.handleNotificationsOnClick(t)},children:[(0,l.jsx)("div",{className:"ico",children:(0,l.jsx)("i",{})}),e.loadedNotifications&&e.nbNotifications>0?(0,l.jsx)("div",{className:"num",children:e.nbNotifications}):null]})},"0-0"),(0,l.jsx)("li",{className:el()("notif-friends notif",{active:e.showFriends}),children:(0,l.jsxs)("a",{tabIndex:0,role:"button",onClick:e.handleFriendsOnClick,onKeyUp:function onKeyUp(t){return 13!=t.keyCode&&32!=t.keyCode||e.handleFriendsOnClick(t)},children:[(0,l.jsx)("div",{className:"ico",children:(0,l.jsx)("i",{})}),e.loaded&&e.nbFriends>0?(0,l.jsx)("div",{className:"num",children:e.nbFriends}):null]})},"0-1")],e.isOnArabLocale?[(0,l.jsx)("li",{className:el()("notif-friends notif",{active:e.showFriends}),children:(0,l.jsxs)("a",{tabIndex:0,role:"button",onClick:e.handleFriendsOnClick,onKeyUp:function onKeyUp(t){return 13!=t.keyCode&&32!=t.keyCode||e.handleFriendsOnClick(t)},children:[(0,l.jsx)("div",{className:"ico",children:(0,l.jsx)("i",{})}),e.loaded&&e.nbFriends>0?(0,l.jsx)("div",{className:"num",children:e.nbFriends}):null]})},"1-0"),(0,l.jsx)("li",{className:el()("notifPanel notif",{active:e.showNotifications}),children:(0,l.jsxs)("a",{tabIndex:0,role:"button",onClick:e.handleNotificationsOnClick,onKeyUp:function onKeyUp(t){return 13!=t.keyCode&&32!=t.keyCode||e.handleNotificationsOnClick(t)},children:[(0,l.jsx)("div",{className:"ico",children:(0,l.jsx)("i",{})}),e.loadedNotifications&&e.nbNotifications>0?(0,l.jsx)("div",{className:"num",children:e.nbNotifications}):null]})},"1-1")]:null],e.children]})}function TooltipView_typeof(e){return TooltipView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TooltipView_typeof(e)}function TooltipView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TooltipView_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TooltipView_setPrototypeOf(e,t){return TooltipView_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},TooltipView_setPrototypeOf(e,t)}function TooltipView_createSuper(e){var t=function TooltipView_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=TooltipView_getPrototypeOf(e);if(t){var o=TooltipView_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return TooltipView_possibleConstructorReturn(this,r)}}function TooltipView_possibleConstructorReturn(e,t){if(t&&("object"===TooltipView_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return TooltipView_assertThisInitialized(e)}function TooltipView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TooltipView_getPrototypeOf(e){return TooltipView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},TooltipView_getPrototypeOf(e)}function TooltipView_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jg=function(e){!function TooltipView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TooltipView_setPrototypeOf(e,t)}(TooltipView,e);var t=TooltipView_createSuper(TooltipView);function TooltipView(){var e;TooltipView_classCallCheck(this,TooltipView);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return TooltipView_defineProperty(TooltipView_assertThisInitialized(e=t.call.apply(t,[this].concat(n))),"state",{showTooltip:e.props.showTooltip}),e}return function TooltipView_createClass(e,t,r){return t&&TooltipView_defineProperties(e.prototype,t),r&&TooltipView_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(TooltipView,[{key:"render",value:function render(){return this.props.noTooltip?this.props.children:(0,l.jsxs)("div",{className:el()("tooltip-parent",this.props.className),children:[this.props.hasTrigger?(0,l.jsx)("div",{onClick:this.onClickToggleShowTooltip.bind(this),style:{cursor:"pointer"},children:this.props.children}):null,this.props.hasTrigger?null:this.props.children,(0,l.jsx)("div",{className:el()("tooltip",this.props.className,{show:this.state.showTooltip}),children:(0,l.jsxs)("div",{className:"tooltip-container",children:[(0,l.jsx)("div",{className:"tooltip-close",children:(0,l.jsx)("i",{className:"close-icon",onClick:this.onClickCloseTooltip.bind(this)})}),(0,l.jsx)("div",{className:el()("tooltip-inner",{"is-arabic":"ar-AE"===this.props.locale}),children:this.props.content})]})})]})}},{key:"componentDidMount",value:function componentDidMount(){this.props.changeTooltipState&&this.props.changeTooltipState(this.setState.bind(this))}},{key:"onClickCloseTooltip",value:function onClickCloseTooltip(e){this.onClickToggleShowTooltip(e),this.props.onClickCloseTooltip&&this.props.onClickCloseTooltip.bind(null,this.state.showTooltip)}},{key:"onClickToggleShowTooltip",value:function onClickToggleShowTooltip(e){e.preventDefault(),this.setState({showTooltip:!this.state.showTooltip})}}]),TooltipView}(zc.PureComponent);function AvatarView_typeof(e){return AvatarView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AvatarView_typeof(e)}function AvatarView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AvatarView_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AvatarView_setPrototypeOf(e,t){return AvatarView_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},AvatarView_setPrototypeOf(e,t)}function AvatarView_createSuper(e){var t=function AvatarView_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=AvatarView_getPrototypeOf(e);if(t){var o=AvatarView_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return AvatarView_possibleConstructorReturn(this,r)}}function AvatarView_possibleConstructorReturn(e,t){if(t&&("object"===AvatarView_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return AvatarView_assertThisInitialized(e)}function AvatarView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AvatarView_getPrototypeOf(e){return AvatarView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},AvatarView_getPrototypeOf(e)}function AvatarView_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Lg=r(64652),Eg=function(e){!function AvatarView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AvatarView_setPrototypeOf(e,t)}(AvatarView,e);var t=AvatarView_createSuper(AvatarView);function AvatarView(){var e;AvatarView_classCallCheck(this,AvatarView);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return AvatarView_defineProperty(AvatarView_assertThisInitialized(e=t.call.apply(t,[this].concat(n))),"state",{isLoadedImage:!1,isLoadedSuccessfully:!1}),AvatarView_defineProperty(AvatarView_assertThisInitialized(e),"mountedComponent",!1),e}return function AvatarView_createClass(e,t,r){return t&&AvatarView_defineProperties(e.prototype,t),r&&AvatarView_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(AvatarView,[{key:"render",value:function render(){return this.props.onClick&&this.props.editAvatar?(0,l.jsx)(jg,{className:"avatar-maintenance-tooltip",showTooltip:!1,locale:this.props.locale,hasTrigger:this.props.avatarMaintenance,content:(0,l.jsx)(xg,{children:"Avatars are currently down for technical maintenance"}),changeTooltipState:this.props.changeTooltipState,children:(0,l.jsxs)("div",{className:el()(this.props.className||"avatar",{"edit-avatar":this.props.editAvatar&&!this.props.avatarMaintenance,active:this.props.isActive}),onClick:this.props.onClick.bind(null),children:[(0,l.jsxs)("div",{children:[!this.state.isLoadedImage||this.state.isLoadedSuccessfully?(0,l.jsx)("img",{src:this.props.avatarUrl}):null,this.state.isLoadedImage&&!this.state.isLoadedSuccessfully?(0,l.jsx)("img",{src:Lg}):null]}),(0,l.jsx)("div",{className:"icon-container",children:(0,l.jsx)("i",{className:"icon-edit"})})]})}):(0,l.jsxs)("div",{className:el()(this.props.className||"avatar"),children:[!this.state.isLoadedImage||this.state.isLoadedSuccessfully?(0,l.jsx)("img",{src:this.props.avatarUrl}):null,this.state.isLoadedImage&&!this.state.isLoadedSuccessfully?(0,l.jsx)("img",{src:Lg}):null]})}},{key:"componentDidMount",value:function componentDidMount(){var e=this;this.mountedComponent=!0;var t=new Image;t.onload=function(){e.mountedComponent&&e.setState({isLoadedImage:!0,isLoadedSuccessfully:!0})},t.onerror=function(){e.mountedComponent&&e.setState({isLoadedImage:!0,isLoadedSuccessfully:!1})},t.src=this.props.avatarUrl}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mountedComponent=!1}}]),AvatarView}(zc.PureComponent);function CollapsedView(e){return(0,l.jsx)("div",{className:el()("menu_container_content_user",{"no-upper-blue-line":e.isInDesktopResize&&(e.showPlayerCard||e.showFriends||e.showNotifications),active:e.isActive||e.isInMobileView&&e.showMobileTabs||e.isInDesktopResize&&(e.showPlayerCard||e.showFriends||e.showNotifications)}),children:(0,l.jsxs)("div",{className:"avatar-button",role:"button",tabIndex:0,onClick:e.onClick,onKeyUp:function onKeyUp(t){return 13!=t.keyCode&&32!=t.keyCode||e.onClick(t)},style:{height:"100%",display:"flex",position:"relative"},children:[(0,l.jsx)(Eg,{avatarUrl:e.avatarUrl}),e.hasNotifications&&e.isInMobileView&&!e.showMobileTabs||e.hasNotifications&&e.isInDesktopResize&&!e.showPlayerCard&&!e.showFriends&&!e.showNotifications?(0,l.jsx)("div",{className:"user-notif-container",children:(0,l.jsx)("div",{className:"user-notif"})}):null]})})}function MobileNavView(e){return(0,l.jsxs)("div",{className:el()("mobileNav",{visible:e.isVisible&&e.showMobileTabs||e.isInDesktopResize&&(e.showNotifications||e.showFriends||e.showPlayerCard)}),ref:e.swipeRef,children:[(0,l.jsx)("div",{className:"mobileNav-extended",onClick:e.handleOnClickMenu.bind(null)}),(0,l.jsxs)("div",{className:"mobileNav-content",children:[(0,l.jsxs)("div",{className:el()("notificationsPanelBtn",{active:e.showNotifications}),onClick:e.handleNotificationsOnClick,children:[(0,l.jsx)("div",{className:"ico",children:(0,l.jsx)("i",{className:"icon-notification"})}),e.nbNotifications>0?(0,l.jsx)("div",{className:"num",children:e.nbNotifications}):null]}),(0,l.jsxs)("div",{className:el()("friendsPanelBtn",{active:e.showFriends}),onClick:e.handleFriendsOnClick,children:[(0,l.jsx)("div",{className:"ico",children:(0,l.jsx)("i",{className:"icon-friends"})}),e.nbFriends>0?(0,l.jsx)("div",{className:"num",children:e.nbFriends}):null]}),(0,l.jsx)("div",{className:el()("userPanelBtn",{active:e.showPlayerCard}),onClick:e.onClickPlayerCard,children:(0,l.jsx)("div",{className:"ico",children:(0,l.jsx)("i",{className:"icon-friend"})})})]})]})}function newWindow(e){var t=window.open(e,"_blank");window.focus&&t.focus()}function popupWindow(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:800,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600,o=window.outerHeight/2+window.screenY-n/2,i=window.outerWidth/2+window.screenX-r/2,a=window.open(e,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+r+", height="+n+", top="+o+", left="+i);window.focus&&a.focus()}function Swiper_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Fg,Gg=function(){function Swiper(e,t,r){!function Swiper_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Swiper),this.touchSurface=e,this.swipeStartCallback=t,this.swipeEndCallback=r,this.addEvents(),this.touchSurface,this.swipeStartCallback,this.swipeEndCallback,this.xDown,this.yDown,this.xUp,this.yUp}return function Swiper_createClass(e,t,r){return t&&Swiper_defineProperties(e.prototype,t),r&&Swiper_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(Swiper,[{key:"addEvents",value:function addEvents(){this.touchSurface&&(this.touchSurface.addEventListener("touchstart",this.onTouchStart.bind(this),!1),this.touchSurface.addEventListener("touchmove",this.onTouchMove.bind(this),!1),this.touchSurface.addEventListener("touchend",this.onTouchEnd.bind(this),!1))}},{key:"onTouchStart",value:function onTouchStart(e){this.xDown=e.touches[0].clientX,this.yDown=e.touches[0].clientY}},{key:"onTouchMove",value:function onTouchMove(e){if(this.xDown&&this.yDown){this.xUp=e.touches[0].clientX,this.yUp=e.touches[0].clientY;var t=this.xDown-this.xUp,r=this.yDown-this.yUp,n=!1,o=!1;Math.abs(t)>Math.abs(r)&&(o=t>0,n=t<=0),this.swipeStartCallback({swipeRight:n,swipeLeft:o}),this.xDown=null,this.yDown=null,this.xUp=null,this.yUp=null}}},{key:"onTouchEnd",value:function onTouchEnd(){this.xDown&&this.yDown||this.swipeEndCallback&&this.swipeEndCallback()}},{key:"removeEvents",value:function removeEvents(){this.touchSurface&&(this.touchSurface.removeEventListener("touchstart",this.onTouchStart.bind(this),!1),this.touchSurface.removeEventListener("touchmove",this.onTouchMove.bind(this),!1),this.touchSurface.removeEventListener("touchend",this.onTouchEnd.bind(this),!1))}}]),Swiper}();function TrackClick_typeof(e){return TrackClick_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TrackClick_typeof(e)}function TrackClick_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TrackClick_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TrackClick_setPrototypeOf(e,t){return TrackClick_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},TrackClick_setPrototypeOf(e,t)}function TrackClick_createSuper(e){var t=function TrackClick_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=TrackClick_getPrototypeOf(e);if(t){var o=TrackClick_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return TrackClick_possibleConstructorReturn(this,r)}}function TrackClick_possibleConstructorReturn(e,t){if(t&&("object"===TrackClick_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function TrackClick_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function TrackClick_getPrototypeOf(e){return TrackClick_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},TrackClick_getPrototypeOf(e)}var Tg=inject({analyticsService:nh})(Fg=function(e){!function TrackClick_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TrackClick_setPrototypeOf(e,t)}(TrackClick,e);var t=TrackClick_createSuper(TrackClick);function TrackClick(){return TrackClick_classCallCheck(this,TrackClick),t.apply(this,arguments)}return function TrackClick_createClass(e,t,r){return t&&TrackClick_defineProperties(e.prototype,t),r&&TrackClick_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(TrackClick,[{key:"render",value:function render(){var e=this,t=Object.assign({},this.props,{onMouseDown:function onMouseDown(t){0!==t.button&&1!==t.button||(e.props.analyticsService.trackEvent(e.props.aaSiteSubSection,e.props.aaPageName,e.props.aaLocation,e.props.aaCategory,e.props.aaAction),e.props.onClick&&e.props.onClick(t))}});return delete t.element,delete t.aaPageName,delete t.aaSiteSubSection,delete t.aaLocation,delete t.aaAction,delete t.aaCategory,delete t.analyticsService,delete t.value,(0,zc.createElement)(this.props.element||"div",t,this.props.children)}}]),TrackClick}($c))||Fg;function UserNameView_typeof(e){return UserNameView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UserNameView_typeof(e)}function UserNameView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UserNameView_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserNameView_setPrototypeOf(e,t){return UserNameView_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},UserNameView_setPrototypeOf(e,t)}function UserNameView_createSuper(e){var t=function UserNameView_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=UserNameView_getPrototypeOf(e);if(t){var o=UserNameView_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return UserNameView_possibleConstructorReturn(this,r)}}function UserNameView_possibleConstructorReturn(e,t){if(t&&("object"===UserNameView_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return UserNameView_assertThisInitialized(e)}function UserNameView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UserNameView_getPrototypeOf(e){return UserNameView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},UserNameView_getPrototypeOf(e)}function UserNameView_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rg=function(e){!function UserNameView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UserNameView_setPrototypeOf(e,t)}(UserNameView,e);var t=UserNameView_createSuper(UserNameView);function UserNameView(){var e;UserNameView_classCallCheck(this,UserNameView);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return UserNameView_defineProperty(UserNameView_assertThisInitialized(e=t.call.apply(t,[this].concat(n))),"state",{isHovering:!1}),e}return function UserNameView_createClass(e,t,r){return t&&UserNameView_defineProperties(e.prototype,t),r&&UserNameView_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(UserNameView,[{key:"render",value:function render(){var e=this.props.twoFactorAuthStatus?{pointerEvents:"none"}:{};return(0,l.jsxs)("div",{className:el()("user-name-container",{hovered:this.state.isHovering&&!this.props.twoFactorAuthStatus}),children:[(0,l.jsx)("div",{className:el()({name:!this.state.isHovering||this.props.twoFactorAuthStatus,"edit-name":this.state.isHovering&&!this.props.twoFactorAuthStatus}),style:e,onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onClick:this.props.onClickChangeUserName.bind(null),children:this.props.userName}),this.props.twoFactorAuthStatus?null:(0,l.jsx)("div",{className:"icon-container",onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onClick:this.props.onClickChangeUserName.bind(null),children:(0,l.jsx)("i",{className:"icon icon-edit"})})]})}},{key:"onMouseEnter",value:function onMouseEnter(){this.setState({isHovering:!0})}},{key:"onMouseLeave",value:]),UserNameView}(zc.PureComponent);function YouMightLikeGameView(e){var t=0!=e.gamePlatforms.length?e.gamePlatforms.slice(0,e.gamePlatforms.length-1).map((function(t,r){return(0,l.jsxs)("span",{children:[t,r<e.gamePlatforms.slice(0,e.gamePlatforms.length-1).length-1?[","," "]:null]},t)})):null;return(0,l.jsxs)("section",{className:"menu_container_user_section currently-playing",children:[(0,l.jsxs)("div",{className:"currently-playing_title",children:[e.hasNoGamesPlayed?null:(0,l.jsx)("h1",{children:(0,l.jsx)(xg,{children:"You might also like"})}),e.hasNoGamesPlayed?(0,l.jsx)("h1",{children:(0,l.jsx)(xg,{children:"You might like"})}):null]}),(0,l.jsx)("div",{className:"lpg-container",children:(0,l.jsxs)("div",{className:"currently-playing_container",children:[(0,l.jsx)("div",{className:"currently-playing_cover img-holder",children:(0,l.jsx)("div",{children:(0,l.jsxs)(Tg,{element:"a",href:e.gameShopUrl,onClick:e.onClickYouMightAlsoLikeGame.bind(null,e.gameShopUrl),aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"action",aaAction:e.hasNoGamesPlayed?"you might like : ".concat(e.gameName):"you might also like : ".concat(e.gameName),children:[e.gameImage?(0,l.jsx)("img",{src:e.gameImage}):null,e.gameImage?null:(0,l.jsx)("div",{className:"other-game-no-image"})]})})}),(0,l.jsx)("div",{className:"currently-playing_content notOwned",children:(0,l.jsxs)("div",{className:"currently-playing_content_title",children:[(0,l.jsx)(Tg,{element:"a",href:e.gameShopUrl,onClick:e.onClickYouMightAlsoLikeGame.bind(null,e.gameShopUrl),aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"action",aaAction:e.hasNoGamesPlayed?"you might like : view more":"you might also like : view more",children:(0,l.jsxs)("span",{className:"text",children:[e.gameName,"",""]})}),e.hasOnlyOnePlatform?(0,l.jsx)("div",{className:"not-owned-game-platforms",children:(0,l.jsx)(xg,{firstPlatform:e.gamePlatforms[0],children:"Available on [firstPlatform]."})}):null,e.hasOnlyOnePlatform?null:(0,l.jsx)("div",{className:"not-owned-game-platforms",children:(0,l.jsx)(xg,{firstPlatform:t,secondPlatform:e.gamePlatforms[e.gamePlatforms.length-1],children:"Available on [firstPlatform] and [secondPlatform]."})})]})}),(0,l.jsx)("div",{className:"currently-playing_content_shop_button",children:(0,l.jsxs)(Tg,{element:"a",href:e.gameShopUrl,onClick:e.onClickYouMightAlsoLikeGame.bind(null,e.gameShopUrl),className:"btn primary",aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"action",aaAction:e.hasNoGamesPlayed?"you might like : go to the store":"you might also like : go to the store",children:[e.hasCustomStoreBuyButton?(0,l.jsx)(xg,{children:"Buy now"}):null,e.hasCustomStoreBuyButton?null:(0,l.jsx)(xg,{children:"Go to the Store"})]})})]})}),(0,l.jsx)("div",{className:"separator"})]})}var Ng=r(39257);function CarosuelView_typeof(e){return CarosuelView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CarosuelView_typeof(e)}function CarosuelView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CarosuelView_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CarosuelView_setPrototypeOf(e,t){return CarosuelView_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},CarosuelView_setPrototypeOf(e,t)}function CarosuelView_createSuper(e){var t=function CarosuelView_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=CarosuelView_getPrototypeOf(e);if(t){var o=CarosuelView_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return CarosuelView_possibleConstructorReturn(this,r)}}function CarosuelView_possibleConstructorReturn(e,t){if(t&&("object"===CarosuelView_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function CarosuelView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function CarosuelView_getPrototypeOf(e){return CarosuelView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},CarosuelView_getPrototypeOf(e)}var Ug,Dg=function(e){!function CarosuelView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CarosuelView_setPrototypeOf(e,t)}(CarosuelView,e);var t=CarosuelView_createSuper(CarosuelView);function CarosuelView(){return CarosuelView_classCallCheck(this,CarosuelView),t.apply(this,arguments)}return function CarosuelView_createClass(e,t,r){return t&&CarosuelView_defineProperties(e.prototype,t),r&&CarosuelView_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(CarosuelView,[{key:"render",value:function render(){var e=this.props.hideNavigationAndPagination?{visibility:"hidden",opacity:0,height:"0px"}:{width:this.props.isInMobileView?"100px":"96px"},t=this.props.hideNavigationAndPagination?{visibility:"hidden",opacity:0,height:"0px"}:{},r=this.props.hideNavigationAndPagination?{paddingBottom:"1.5rem"}:{};return(0,l.jsxs)("div",{className:el()("swiper-container",this.props.className),style:r,children:[(0,l.jsx)("div",{className:"swiper-wrapper",children:this.props.children}),(0,l.jsx)("div",{className:"swiper-pagination swiper-pagination-custom",style:e}),(0,l.jsx)("div",{className:"swiper-button-first",style:t,onClick:this.handleOnClickSlideToFirst.bind(null)}),(0,l.jsx)("div",{className:"swiper-button-prev",style:t,onClick:this.handleOnClickSlidePrev.bind(this)}),(0,l.jsx)("div",{className:"swiper-button-next",style:t,onClick:this.handleOnClickSlideNext.bind(this)}),(0,l.jsx)("div",{className:"swiper-button-last",style:t,onClick:this.handleOnClickSlideToLast.bind(null)})]})}},{key:"componentDidMount",value:function componentDidMount(){Ng.ZP.use([Ng.W_,Ng.tl,Ng.oM,Ng.N1]),this.initSwiper()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.swiper&&this.swiper.destroy&&(this.swiper.destroy(),this.swiper=null)}},{key:"handleOnClickSlidePrev",value:function handleOnClickSlidePrev(){this.swiper&&this.props.onSlidePrev&&this.props.onSlidePrev()}},{key:"handleOnClickSlideNext",valu}},{key:"handleOnClickSlideToFirst",value:function handleOnClickSlideToFirst(){this.swiper&&this.swiper.slideTo&&(this.swiper.slideTo(0),this.props.onSlideToFirst&&this.props.onSlideToFirst())}},{key:"handleOnClickSlideToLast",value:function handleOnClickSlideToLast(){this.props.children&&this.props.children.length&&this.swiper&&this.swiper.slideTo&&(this.swiper.slideTo(this.props.children.length-1),this.props.onSlideToLast&&this.props.onSlideToLast())}},{key:"initSwiper",value:function initSwiper(){var e=this;this.swiper=new Ng.ZP(".swiper-container.".concat(this.props.className),{spaceBetween:10|this.props.spaceBetween,autoHeight:this.props.autoHeight||!0,slidesPerView:1|this.props.slidesPerView,slidesPerGroup:1|this.props.slidesPerGroup,slidesPerColumn:1|this.props.slidesPerColumn,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",hideOnClick:!1,clickable:!0},breakpoints:{640:{spaceBetween:20|this.props.spaceBetween},1024:{spaceBetween:10|this.props.spaceBetween}},initialSlide:null!==this.props.initialSlide&&void 0!==this.props.initialSlide?this.props.initialSlide:0,keyboard:{enabled:null!==this.props.initialSlide&&void 0!==this.props.initialSlide&&this.props.keyboardEnabled},preloadImages:!1,lazy:!0}),this.props.onChangeSlide&&this.swiper.on("slideChange"})),this.props.onSwipeCallback&&(this.swiper.on("touchStart",(function(t,r){t&&e.props.onSwipeCallback(!0)})),this.swiper.on("touchEnd",(function(t,r){t&&e.props.onSwipeCallback(!1)})),this.swiper.on("transitionEnd",(function(t,r){t&&e.props.onSwipeCallback(!1)}))),this.props.setSwiper&&this.props.setSwiper(this.swiper),this.swiper.on("paginationUpdate",(function(e){var t=null,r=6*Math.floor(e.pagination.bullets.length/6);e.pagination.bullets.forEach})),(null===t||t<=5)&&e.pagination.bullets.forEach((function(t,r){e.pagination.bullets[r].style.left="0px"})),null!==t&&t>5&&t<r&&e.pagination.bullets.forEach((function(r,n){e.pagination.bullets[n].style.left="-".concat(6*Math.floor(t/6)*16,"px")})),null!==t&&t>=r&&e.pagination.bullets.forEach((function(n,o){e.pagination.bullets[o].style.left="-".concat(6*(Math.floor(t/6)-1)*16+16*(e.pagination.bullets.length-r),"px")}))}))}}]),CarosuelView}($c);function OtherGameView(e){return(0,l.jsx)("div",{className:"swiper-slide other-game",children:(0,l.jsxs)("div",{className:el()("other-game-image",{selected:e.currentLastPlayedGameId==e.gameId}),onClick:e.onClickGameImage.bind(null,e.offset,e.gameId,e.spaceId,e.applicationId,e.platformCode),children:[e.imageUrl?(0,l.jsx)("img",{src:e.imageUrl}):null,e.imageUrl?null:(0,l.jsx)("div",{className:"other-game-no-image"})]})})}function LoaderView(e){return(0,l.jsx)("div",{className:el()("load-element-container",{in:!e.loaded,hidden:e.loaded}),children:e.loaded?null:(0,l.jsx)("svg",{viewBox:"0 0 80 80",className:"css-gzkt9r",children:(0,l.jsx)("circle",{fill:"none",strokeWidth:"15",strokeLinecap:"round",cx:"40",cy:"40",r:"30",className:"css-1x3cl5m"})})})}function PlatformsSelectorView_typeof(e){return PlatformsSelectorView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PlatformsSelectorView_typeof(e)}function PlatformsSelectorView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PlatformsSelectorView_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PlatformsSelectorView_setPrototypeOf(e,t){return PlatformsSelectorView_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},PlatformsSelectorView_setPrototypeOf(e,t)}function PlatformsSelectorView_createSuper(e){var t=function PlatformsSelectorView_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=PlatformsSelectorView_getPrototypeOf(e);if(t){var o=PlatformsSelectorView_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return PlatformsSelectorView_possibleConstructorReturn(this,r)}}function PlatformsSelectorView_possibleConstructorReturn(e,t){if(t&&("object"===PlatformsSelectorView_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return PlatformsSelectorView_assertThisInitialized(e)}function PlatformsSelectorView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PlatformsSelectorView_getPrototypeOf(e){return PlatformsSelectorView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},PlatformsSelectorView_getPrototypeOf(e)}function PlatformsSelectorView_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mg,Bg=(0,Jc.$j)}))(Ug=function(e){!function PlatformsSelectorView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PlatformsSelectorView_setPrototypeOf(e,t)}(PlatformsSelectorView,e);var t=PlatformsSelectorView_createSuper(PlatformsSelectorView);function PlatformsSelectorView(){var e;PlatformsSelectorView_classCallCheck(this,PlatformsSelectorView);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return PlatformsSelectorView_defineProperty(PlatformsSelectorView_assertThisInitialized(e=t.call.apply(t,[this].concat(n))),"dropdownMenuRef",null),PlatformsSelectorView_defineProperty(PlatformsSelectorView_assertThisInitialized(e),"platformBtnRef",null),PlatformsSelectorView_defineProperty(PlatformsSelectorView_assertThisInitialized(e),"state",{isOpenedDropdown:!1,dropdownMenuWidth:0}),e}return function PlatformsSelectorView_createClass(e,t,r){return t&&PlatformsSelectorView_defineProperties(e.prototype,t),r&&PlatformsSelectorView_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(PlatformsSelectorView,[{key:"setDropdownMenuRef",value:function setDropdownMenuRef(e){this.dropdownMenuRef=e}},{key:"setPlatformBtnRef",value:function setPlatformBtnRef(e){this.platformBtnRef=e}},{key:"render",value:function render(){var e=this;return(0,l.jsxs)("div",{className:el()("platform-selected-container",{"only-one-platform":this.props.hasOnlyOnePlatform}),children:[this.props.hasOnlyOnePlatform?(0,l.jsx)("span",{className:"platform-only-one",children:this.props.selectedPlatformCode}):null,this.props.hasOnlyOnePlatform?null:(0,l.jsxs)("div",{className:el()("platform-selector in-back load-element",{in:!this.props.loadedLastPlayedGame,hidden:this.props.loadedLastPlayedGame&&!this.props.hasLastPlayedGame||!this.props.hasOwnedPlatforms,"is-opened":this.state.isOpenedDropdown}),style:{width:this.state.dropdownMenuWidth?"".concat(this.state.dropdownMenuWidth,"px"):"100%"},children:[(0,l.jsx)(LoaderView,{loaded:this.props.loadedLastPlayedGame}),(0,l.jsxs)("div",{className:"platform-selected-btn",onClick:this.onClickDropDown.bind(this),ref:this.setPlatformBtnRef.bind(this),children:[(0,l.jsx)("div",{className:"platform-selected-txt",children:this.props.selectedPlatformCode}),(0,l.jsx)("i",{className:"icon-angle-down"})]}),this.props.platformsForSelect?(0,l.jsxs)("div",{className:"select-component-view",ref:this.setDropdownMenuRef.bind(this),children:[(0,l.jsx)("div",{className:"select-component-value",style:{visibility:"hidden",opacity:0,height:"0px",paddingTop:"0px",paddingBottom:"0px",border:"none"},children:this.props.selectedPlatformCode},this.props.selectedPlatformCode),this.props.platformsForSelect.map((function(t){return(0,l.jsx)("div",{className:"select-component-value",onClick:e.onChangePlatform.bind(e,e.props.lastPlayedGameId,t.key),children:t.value},t.key)}))]}):null]})]})}},{key:"componentDidMount",value:function componentDidMount(){this.calculateElementLength()}},{key:"componentDidUpdate",valu}},{key:"onClickDropDown",value:function onClickDropDown(e){e.preventDefault(),this.setState({isOpenedDropdown:!this.state.isOpenedDropdown})}},{key:"onChangePlatform",value:function onChangePlatform(e,t){this.setState({isOpenedDropdown:!1}),this.props.onChangePlatform(e,t)}},{key:"calculateElementLength",value:function calculateElementLength(){this.props.platformsForSelect.length>0&&this.dropdownMenuRef&&this.setState({dropdownMenuWidth:this.dropdownMenuRef.offsetWidth})}}]),PlatformsSelectorView}(zc.PureComponent))||Ug;function FormattedLastDatePlayedView(e){if(e.hasNoSessionData&&e.showGameTitle)return(0,l.jsx)("span",{children:e.gameTitle});if(e.hasNoSessionData&&!e.showGameTitle)return(0,l.jsx)("noscript",{});if(!e.gameDate)return(0,l.jsx)("span",{children:(0,l.jsx)(xg,{children:"Not played yet"})});var t=a()(e.gameDate);return t.isBetween(a()().subtract(1,"minute"),a()())?(0,l.jsx)("span",{children:(0,l.jsx)(xg,{children:"Currently Playing"})}):t.isBetween(a()().subtract(12,"hour"),a()())?(0,l.jsx)("span",{children:(0,l.jsx)(xg,{timeAgo:t.fromNow(),children:"Played today [timeAgo]"})}):t.isBetween(a()().subtract(1,"day"),a()())?(0,l.jsx)("span",{children:(0,l.jsx)(xg,{children:"Played Yesterday"})}):t.isBetween(a()().startOf("week"),a()())?(0,l.jsx)("span",{children:(0,l.jsx)(xg,{children:"Played This Week"})}):t.isBetween(a()().startOf("week").subtract(7,"day"),a()())||1==a()().diff(t,"weeks")?(0,l.jsx)("span",{children:(0,l.jsx)(xg,{day:t.fromNow(),children:"Played a week ago"})}):t.isBetween(a()().subtract(1,"month"),a()())?(0,l.jsx)("span",{children:(0,l.jsx)(xg,{weeks:a()().diff(t,"weeks"),children:"Played [weeks] weeks ago"})}):t.isBetween(a()().subtract(1,"year"),a()())?(0,l.jsx)("span",{children:(0,l.jsx)(xg,{day:t.fromNow(),children:"Played [day]"})}):t.isBefore(a()().subtract(1,"year"))?(0,l.jsx)(xg,{time:a()("2000-01-01").from(a()("2001-01-01"),!0),children:"Played more than [time]"}):(0,l.jsx)("span",{children:(0,l.jsx)(xg,{children:"Last Game Played"})})}function OtherGamesCarouselView(e){return(0,l.jsxs)("div",{className:el()("contentBlock other-games in-back load-element",{in:!e.loadedLastPlayedGame}),children:[(0,l.jsx)(LoaderView,{loaded:e.loadedLastPlayedGame}),!e.hasOtherGamesPlayed||e.hasOnlyOneGame&&!e.isFriendView?null:[(0,l.jsx)("h1",{className:"other-games-title",children:(0,l.jsx)(xg,{children:"Last played games"})},"0"),(0,l.jsx)("div",{className:"carousel-container",children:(0,l.jsx)(Dg,{slidesPerView:e.nbSlidesPerView,slidesPerGroup:e.nbSlidesPerView,className:"games-swiper_".concat(e.carouselClassName),hideNavigationAndPagination:e.hideNavigationAndPagination,onSlidePrev:e.onSlidePrev,onSlideNext:e.onSlideNext,onSlideToFirst:e.onSlideToFirst,onSlideToLast:e.onSlideToLast,onSwipeCallback:e.onSwipeOtherGames,isInMobileView:e.isInMobileView,children:e.otherGames.map((function(t,r){return(0,l.jsx)(OtherGameView,{offset:r,gameId:t.id,spaceId:t.spaceId,applicationId:t.applicationId,platformCode:t.platformCode,imageUrl:t.imageUrl,onClickGameImage:e.onClickGameImage,currentLastPlayedGameId:e.currentLastPlayedGameId},t.id)}))})},"1")],e.hasOtherGamesPlayed&&e.hasOnlyOneGame&&!e.isFriendView?(0,l.jsxs)("section",{className:el()("menu_container_user_section currently-playing",{selected:e.currentLastPlayedGameId==e.gamePlayed.id}),children:[(0,l.jsx)("div",{className:"currently-playing_title",children:(0,l.jsx)("h1",{children:(0,l.jsx)(FormattedLastDatePlayedView,{gameDate:e.gamePlayed.lastPlayedDate,gameTitle:(0,l.jsx)(xg,{children:"Last played games"}),hasNoSessionData:e.hasNoSessionData,showGameTitle:!0})})}),(0,l.jsxs)("div",{className:"lpg-container is-owned",children:[(0,l.jsxs)("div",{className:"currently-playing_cover img-holder",children:[e.gamePlayed.imageUrl?(0,l.jsx)("img",{src:e.gamePlayed.imageUrl,onClick:e.onClickGameImage.bind(null,0,e.gamePlayed.id,e.gamePlayed.spaceId,e.gamePlayed.applicationId,e.gamePlayed.platformCode)}):null,e.gamePlayed.imageUrl?null:(0,l.jsx)("div",{className:"other-game-no-image",onClick:e.onClickGameImage.bind(null,0,e.gamePlayed.id,e.gamePlayed.spaceId,e.gamePlayed.applicationId,e.gamePlayed.platformCode)})]}),(0,l.jsx)("div",{className:"currently-playing_content",children:(0,l.jsx)("div",{className:"currently-playing_content_title",children:(0,l.jsxs)("div",{className:"title",children:[(0,l.jsxs)("span",{className:"text",children:[e.gamePlayed.gameName,"",""]}),(0,l.jsx)(Bg,{lastPlayedGameId:e.gamePlayed.id,selectedPlatformCode:e.selectedPlatformCode,platformsForSelect:e.platformsForSelect,onChangePlatform:e.onChangePlatform,loadedLastPlayedGame:!0,hasLastPlayedGame:!0,hasOwnedPlatforms:e.hasOwnedPlatforms,hasOnlyOnePlatform:e.hasOnlyOnePlatform})]})})})]})]}):null,e.loadedLastPlayedGame&&e.hasOtherGamesPlayed?(0,l.jsx)("div",{className:"separator"}):null]})}function OtherGamesView(e){return(0,l.jsx)(OtherGamesCarouselView,{otherGames:e.otherGames,hasOtherGamesPlayed:e.hasOtherGamesPlayed,loadedLastPlayedGame:e.loadedLastPlayedGame,onClickGameImage:e.onClickGameImage,currentLastPlayedGameId:e.currentLastPlayedGameId,nbSlidesPerView:3,carouselClassName:"last-played-games-swiper",hasOnlyOneGame:e.hasOnlyOneGame,gamePlayed:e.gamePlayed,hasOnlyOnePlatform:e.hasOnlyOnePlatform,selectedPlatformCode:e.selectedPlatformCode,platformsForSelect:e.platformsForSelect,hasOwnedPlatforms:e.hasOwnedPlatforms,onChangePlatform:e.onChangePlatform,isFriendView:!1,hideNavigationAndPagination:!!e.otherGames&&e.otherGames.length<=3,onSlidePrev:e.onSlidePrev,onSlideNext:e.onSlideNext,onSlideToFirst:e.onSlideToFirst,onSlideToLast:e.onSlideToLast,hasNoSessionData:e.hasNoSessionData,onSwipeOtherGames:e.onSwipeOtherGames,isInMobileView:e.isInMobileView})}function StatsComparisonService_typeof(e){return StatsComparisonService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},StatsComparisonService_typeof(e)}function StatsComparisonService_regeneratorRuntime(){StatsComparisonService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==StatsComparisonService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function StatsComparisonService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function StatsComparisonService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function StatsComparisonService_setPrototypeOf(e,t){return StatsComparisonService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},StatsComparisonService_setPrototypeOf(e,t)}function StatsComparisonService_createSuper(e){var t=function StatsComparisonService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=StatsComparisonService_getPrototypeOf(e);if(t){var o=StatsComparisonService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return StatsComparisonService_possibleConstructorReturn(this,r)}}function StatsComparisonService_possibleConstructorReturn(e,t){if(t&&("object"===StatsComparisonService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function StatsComparisonService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function StatsComparisonService_getPrototypeOf(e){return StatsComparisonService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},StatsComparisonService_getPrototypeOf(e)}var Vg,Wg=injectableForJs([])(Mg=function(e){!function StatsComparisonService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&StatsComparisonService_setPrototypeOf(e,t)}(StatsComparisonService,e);var t,r=StatsComparisonService_createSuper(StatsComparisonService);function StatsComparisonService(){return function StatsComparisonService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StatsComparisonService),r.call(this)}return function StatsComparisonService_createClass(e,t,r){return t&&StatsComparisonService_defineProperties(e.prototype,t),r&&StatsComparisonService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(StatsComparisonService,[{key:"onToggleShowGameStats",value:function onToggleShowGameStats(e,t){e||(this.dispatch(new ui(null)),this.dispatch(new ii(null,null)),this.dispatch(new on(!1))),e&&t&&(Dy<t.getScrollTop()?this.dispatch(new on(!0)):this.dispatch(new on(!1))),this.dispatch(new ai(e))}},{key:"onToggleShowFriendsSelectorTooltipWarning",value:function onToggleShowFriendsSelectorTooltipWarning(e){this.dispatch(new si(!e))}},{key:"onTypeFriendName",value:function onTypeFriendName(e){var t=this;(0,s.debounc))}),100)()}},{key:"onChangeFriend",value:function onChangeFriend(e){var t=ad.getFriendsPlayingGame(this.getState()).find((function(t){return t.pid==e}));t&&this.dispatch(new ii(e,t.nameOnPlatform))}},{key:"resetComponent",value:(t=function StatsComparisonService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){StatsComparisonService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){StatsComparisonService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(StatsComparisonService_regeneratorRuntime().mark((function _callee(){return StatsComparisonService_regeneratorRuntime().wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.dispatch(new ni(!0)),this.dispatch(new ai(!1)),this.dispatch(new si(!1)),this.dispatch(new ui(null)),this.dispatch(new ii(null,null))]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),_callee,this)}))),function resetComponent(){return t.apply(this,arguments)})}]),StatsComparisonService}(ol))||Mg;function UserNameApi_typeof(e){return UserNameApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UserNameApi_typeof(e)}function UserNameApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserNameApi_setPrototypeOf(e,t){return UserNameApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},UserNameApi_setPrototypeOf(e,t)}function UserNameApi_createSuper(e){var t=function UserNameApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=UserNameApi_getPrototypeOf(e);if(t){var o=UserNameApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return UserNameApi_possibleConstructorReturn(this,r)}}function UserNameApi_possibleConstructorReturn(e,t){if(t&&("object"===UserNameApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function UserNameApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function UserNameApi_getPrototypeOf(e){return UserNameApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},UserNameApi_getPrototypeOf(e)}var Hg,qg=injectableForJs([k])(Vg=function(e){!function UserNameApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UserNameApi_setPrototypeOf(e,t)}(UserNameApi,e);var t=UserNameApi_createSuper(UserNameApi);function UserNameApi(e){var r;return function UserNameApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserNameApi),(r=t.call(this)).httpService=e,r}return function UserNameApi_createClass(e,t,r){return t&&UserNameApi_defineProperties(e.prototype,t),r&&UserNameApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(UserNameApi,[{key:"validateScreenName",value:function validateScreenName(e,t){var r=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v2/profiles/").concat(e,"/validateUpdate")).post().body(JSON.stringify({nameOnPlatform:t})).header("Content-Type","application/json;charset=UTF-8").header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket));return this.httpService.send(r).then((function(e){return e.data}))}},{key:"updateScreenName",value:function updateScreenName(e,t){var r=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v2/profiles/").concat(e)).put().body(JSON.stringify({nameOnPlatform:t})).header("Content-Type","application/json;charset=UTF-8").header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket));return this.httpService.send(r).then((function(e){return e.data}))}}]),UserNameApi}(ol))||Vg;function UserNameService_typeof(e){return UserNameService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UserNameService_typeof(e)}function UserNameService_regeneratorRuntime(){UserNameService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==UserNameService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function UserNameService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function UserNameService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){UserNameService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){UserNameService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function UserNameService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserNameService_setPrototypeOf(e,t){return UserNameService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},UserNameService_setPrototypeOf(e,t)}function UserNameService_createSuper(e){var t=function UserNameService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=UserNameService_getPrototypeOf(e);if(t){var o=UserNameService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return UserNameService_possibleConstructorReturn(this,r)}}function UserNameService_possibleConstructorReturn(e,t){if(t&&("object"===UserNameService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function UserNameService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function UserNameService_getPrototypeOf(e){return UserNameService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},UserNameService_getPrototypeOf(e)}var zg,Qg="1011",Yg="1213",Xg="USER_NAME_ERROR_START",Kg=injectableForJs([qg])(Hg=function(e){!function UserNameService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UserNameService_setPrototypeOf(e,t)}(UserNameService,e);var t,r,n=UserNameService_createSuper(UserNameService);function UserNameService(e){var t;return function UserNameService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserNameService),(t=n.call(this)).userNameApi=e,t}return function UserNameService_createClass(e,t,r){return t&&UserNameService_defineProperties(e.prototype,t),r&&UserNameService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(UserNameService,[{key:"validateUserName",value:(r=UserNameService_asyncToGenerator(UserNameService_regeneratorRuntime().mark((function _callee(e){var t;return UserNameService_regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.userNameApi.validateScreenName(vl.getUserId(this.getState()),e);case 2:return(t=r.sent).validationReports.length>0?(this.dispatch(new jo(t.validationReports[0].Message)),this.dispatch(new Vo(t.validationReports[0].ErrorCode,!0))):(this.dispatch(new jo(null)),this.dispatch(new Vo(null,!1))),r.abrupt("return",t);case 5:case"end":return r.stop()}}),_callee,this)}))),function validateUserName(e){return r.apply(this,arguments)})},{key:"updateScreenName",value:(t=UserNameService_asyncToGenerator(UserNameService_regeneratorRuntime().mark((function _callee2(e){return UserNameService_regeneratorRuntime().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userNameApi.updateScreenName(vl.getUserId(this.getState()),e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),_callee2,this)}))),function updateScreenName(e){return t.apply(this,arguments)})}]),UserNameService}(ol))||Hg,$g={getHasAnyError:(0,I.P1)(Xo.getHasUserNameErrorAvailable,Xo.getHasStartError,Xo.getHasUserNameLengthError,Xo.getHasCharacterError,Xo.getHasCompanyError,Xo.getHasUserNameErrorTimeLimit,Xo.getHasUserNameErrorGeneral,Xo.getHasUserNameUbisoftError,(function(e,t,r,n,o,i,a,s){return e||t||r||n||o||i||a||s})),getHasUserNameLengthError:(0,I.P1)(Xo.getHasError,Xo.getHasUserNameLengthError,(function(e,t){return t})),getHasStartError:(0,I.P1)(Xo.getHasError,Xo.getHasStartError,(function(e,t){return t})),getHasCharacterError:(0,I.P1)(Xo.getHasError,Xo.getHasCharacterError,(function(e,t){return t})),getHasCompanyError:(0,I.P1)(Xo.getHasError,Xo.getHasCompanyError,(function(e,t){return t})),getHasUserNameErrorAvailable:(0,I.P1)(Xo.getHasError,Xo.getHasUserNameErrorAvailable,(function(e,t){return t})),getHasUserNameErrorRequired:(0,I.P1)(Xo.getHasError,Xo.getHasUserNameErrorRequired,(function(e,t){return t})),getHasUserNameErrorRestricted:(0,I.P1)(Xo.getHasError,Xo.getHasUserNameErrorRestricted,(function(e,t){return t})),getHasUserNameErrorLocalized:(0,I.P1)(Xo.getHasError,Xo.getHasUserNameErrorLocalized,(function(e,t){return t})),getHasUserNameErrorGeneral:(0,I.P1)(Xo.getHasError,Xo.getHasUserNameErrorGeneral,(function(e,t){return t})),getHasUserNameErrorTimeLimit:(0,I.P1)(Xo.getHasError,Xo.getHasUserNameErrorTimeLimit,(function(e,t){return t})),getHasUserNameUbisoftError:(0,I.P1)(Xo.getHasError,Xo.getHasUserNameUbisoftErr t}))};function NameChangeService_typeof(e){return NameChangeService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NameChangeService_typeof(e)}function NameChangeService_regeneratorRuntime(){NameChangeService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==NameChangeService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function NameChangeService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function NameChangeService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){NameChangeService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){NameChangeService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function NameChangeService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function NameChangeService_setPrototypeOf(e,t){return NameChangeService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},NameChangeService_setPrototypeOf(e,t)}function NameChangeService_createSuper(e){var t=function NameChangeService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=NameChangeService_getPrototypeOf(e);if(t){var o=NameChangeService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return NameChangeService_possibleConstructorReturn(this,r)}}function NameChangeService_possibleConstructorReturn(e,t){if(t&&("object"===NameChangeService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function NameChangeService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function NameChangeService_getPrototypeOf(e){return NameChangeService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},NameChangeService_getPrototypeOf(e)}var Jg=injectableForJs([Kg,Qy,nh,qy])(zg=function(e){!function NameChangeService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NameChangeService_setPrototypeOf(e,t)}(NameChangeService,e);var t,r,n,o,i=NameChangeService_createSuper(NameChangeService);function NameChangeService(e,t,r,n){var o;return function NameChangeService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NameChangeService),(o=i.call(this)).userNameService=e,o.communicationService=t,o.analyticsService=r,o.commonActionsService=n,o}return function NameChangeService_createClass(e,t,r){return t&&NameChangeService_defineProperties(e.prototype,t),r&&NameChangeService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(NameChangeService,[{key:"handleClickChangeUserName",value:(o=NameChangeService_asyncToGenerator(NameChangeService_regeneratorRuntime().mark((function _callee(e){var t;return NameChangeService_regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(!Xo.getTwoFactorAuthStatus(this.getState())){r.next=2;break}return r.abrupt("return");case 2:if(!Xo.getShowChangeUserName(this.getState())){r.next=7;break}return this.goBackToValidateState(),r.next=6,this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 6:return r.abrupt("return");case 7:return this.analyticsService.trackEvent("user tab","player card","global nav","interaction","edit your username"),this.analyticsService.trackPage("user tab","player card : username"),t=[this.dispatch(new Zr(!0))],oi.getShowGameContent(this.getState())&&t.push(this.commonActionsService.hideOverviewDetailsGameContent()),J.getShowAvatarComponent(this.getState())&&t.push(this.commonActionsService.hideOverviewDetailsAvatarContent()),t.length&&Promise.all(t),r.next=15,this.commonActionsService.toggleOpenDetailsViewState(!0,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 15:this.resetServiceErrors(),this.dispatch(new Ao(!0,e,!1));case 17:case"end":return r.stop()}}),_callee,this)}))),function handleClickChangeUserName(e){return o.apply(this,arguments)})},{key:"handleCloseUserName",value:(n=NameChangeService_asyncToGenerator(NameChangeService_regeneratorRuntime().mark((function _callee2(){return NameChangeService_regeneratorRuntime().wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return Uc.getIsInMobileView(this.getState())||Uc.getShowMobileViewOnDesktop(this.getState())?this.analyticsService.trackEvent("user tab","player card : username","global nav","interaction","close edit username popup"):this.analyticsService.trackEvent("user tab","player card : username","global nav","interaction","edit username popup : cancel"),this.analyticsService.trackPage("user tab","player card"),this.resetServiceErrors(),e.next=5,this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 5:this.dispatch(new Ao(!1,null,!1)),this.dispatch(new ko(!1));case 7:case"end":return e.stop()}}),_callee2,this)}))),function handleCloseUserName(){return n.apply(this,arguments)})},{key:"handleToggleShowRules",value:function handleToggleShowRules(e){this.dispatch(new ko(!e))}},{key:"saveUserName",value:(r=NameChangeService_asyncToGenerator(NameChangeService_regeneratorRuntime().mark((function _callee3(e){return NameChangeService_regeneratorRuntime().wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return this.analyticsService.trackEvent("user tab","player card : username","global nav","interaction","edit username popup : save"),t.next=3,this.callValidation(e);case 3:if(!$g.getHasAnyError(this.getState())&&!Xo.getHasValidationErrors(this.getState())){t.next=5;break}return t.abrupt("return");case 5:return this.resetServiceErrors(),this.dispatch(new Fo(!0)),this.dispatch(new xo(!1)),this.dispatch(new Io(null)),this.dispatch(new jo(null)),t.prev=10,t.next=13,this.userNameService.updateScreenName(e);case 13:return this.dispatch(new On(e,vl.getUserId(this.getState()))),this.dispatch(new Ao(!1,null,!1)),this.dispatch(new Fo(!1)),t.next=18,this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 18:t.next=33;break;case 20:t.prev=20,t.t0=t.catch(10),this.dispatch(new xo(!0)),t.t1=t.t0.data.errorCode.toString(),t.next=t.t1===Yg||"4"===t.t1?26:29;break;case 26:return this.dispatch(new Lo(!0)),this.dispatch(new ko(!1)),t.abrupt("break",32);case 29:return this.dispatch(new Eo(!0)),this.dispatch(new ko(!0)),t.abrupt("break",32);case 32:this.dispatch(new Fo(!1));case 33:case"end":return t.stop()}}),_callee3,this,[[10,20]])}))),function saveUserName(e){return r.apply(this,arguments)})},{key:"callValidation",value:(t=NameChangeService_asyncToGenerator(NameChangeService_regeneratorRuntime().mark((function _callee4(e){return NameChangeService_regeneratorRuntime().wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:if(this.resetServiceErrors(),!this.validateUserName(e)){t.next=4;break}return t.abrupt("return");case 4:return this.dispatch(new Fo(!0)),t.next=7,this.userNameService.validateUserName(e);case 7:if(this.dispatch(new Fo(!1)),!Xo.getHasValidationErrors(this.getState())){t.next=32;break}this.dispatch(new xo(!0)),t.t0=Xo.getValidationErrorCode(this.getState()).toString(),t.next=t.t0===Qg?13:"Required"===t.t0?15:"1013"===t.t0?17:"1010"===t.t0?19:"general"===t.t0?21:t.t0===Yg||"4"===t.t0?23:25;break;case 13:return this.dispatch(new Go(!0)),t.abrupt("break",27);case 15:return this.dispatch(new To(!0)),t.abrupt("break",27);case 17:return this.dispatch(new Ro(!0)),t.abrupt("break",27);case 19:return this.dispatch(new No(!0)),t.abrupt("break",27);case 21:return this.dispatch(new Eo(!0)),t.abrupt("break",27);case 23:return this.dispatch(new Lo(!0)),t.abrupt("break",27);case 25:return this.dispatch(new Eo(!0)),t.abrupt("break",27);case 27:this.dispatch(new Io(Xo.getValidationErrorCode(this.getState()))),this.dispatch(new jo(Xo.getValidationErrorLocalizedMessage(this.getState()))),this.dispatch(new ko(!0)),t.next=33;break;case 32:this.noServiceErrors();case 33:case"end":return t.stop()}}),_callee4,this)}))),function callValidation(e){return t.apply(this,arguments)})},{key:"checkIfUserNameIsValid",value:function checkIfUserNameIsValid(e){this.dispatch(new Fo(!1)),this.validateUserName(e),$g.getHasAnyError(this.getState())||(this.resetServiceErrors(),this.dispatch(new xo(!1)),this.dispatch(new Io(null)))}},{key:"validateUserName",value:function validateUserName(e,t){var r=!1;return this.dispatch(new Ao(!0,e,!0)),this.dispatch(new Io(null)),this.dispatch(new xo(!1)),e!==lu(this.getState())||t?this.dispatch(new Go(null)):(this.dispatch(new xo(!0)),this.dispatch(new Go(!0)),this.dispatch(new Io(Qg)),this.dispatch(new ko(!0)),r=!0),""==e||null==e?(this.dispatch(new xo(!0)),this.dispatch(new Uo(!0)),this.dispatch(new Io(Xg)),t||this.dispatch(new ko(!0)),r=!0):this.dispatch(new Uo(!1)),e.length<3||e.length>15?(this.dispatch(new xo(!0)),this.dispatch(new Do(!0)),this.dispatch(new Io("USER_NAME_ERROR_LENGTH")),t||this.dispatch(new ko(!0)),r=!0):this.dispatch(new Do(!1)),/^[a-zA-Z]+$/.test(e.substring(0,1))?this.dispatch(new Uo(!1)):(this.dispatch(new xo(!0)),this.dispatch(new Uo(!0)),this.dispatch(new Io(Xg)),t||this.dispatch(new ko(!0)),r=!0),/^[a-zA-Z0-9_.-]*$/.test(e)?this.dispatch(new Mo(!1)):(this.dispatch(new xo(!0)),this.dispatch(new Mo(!0)),this.dispatch(new Io("USER_NAME_ERROR_CHARACTER")),t||this.dispatch(new ko(!0)),r=!0),r}},{key:"resetServiceErrors",value:function resetServiceErrors(){this.dispatch(new Go(null)),this.dispatch(new To(null)),this.dispatch(new Ro(null)),this.dispatch(new No(null)),this.dispatch(new Lo(null)),this.dispatch(new Eo(null))}},{key:"noServiceErrors",value:function noServiceErrors(){this.dispatch(new Go(!1)),this.dispatch(new To(!1)),this.dispatch(new Ro(!1)),this.dispatch(new No(!1)),this.dispatch(new Lo(!1)),this.dispatch(new Eo(!1))}},{key:"resetErrors",value:function resetErrors(){this.dispatch(new Go(null)),this.dispatch(new Uo(null)),this.dispatch(new Do(null)),this.dispatch(new Mo(null)),this.dispatch(new Bo(null)),this.dispatch(new zo(null))}},{key:"goBackToValidateState",value:function goBackToValidateState(){this.resetErrors(),this.resetServiceErrors(),this.dispatch(new Fo(!1))}},{key:"handleChangeUserName",value:function handleChangeUserName(e){this.dispatch(new Ao(Xo.getShowChangeUserName(this.getState()),e,Xo.getIsValidating(this.getState())))}}]),NameChangeService}(ol))||zg;function ToggleShowRewardsHeader_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ToggleShowRewardsHeader_createClass(e,t,r){return t&&ToggleShowRewardsHeader_defineProperties(e.prototype,t),r&&ToggleShowRewardsHeader_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Zg,ev=ToggleShowRewardsHeader_createClass((function ToggleShowRewardsHeader(e){!function ToggleShowRewardsHeader_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ToggleShowRewardsHeader),this.toggle=e}));function RewardsViewService_typeof(e){return RewardsViewService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RewardsViewService_typeof(e)}function RewardsViewService_regeneratorRuntime(){RewardsViewService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==RewardsViewService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function RewardsViewService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function RewardsViewService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){RewardsViewService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){RewardsViewService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function RewardsViewService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RewardsViewService_setPrototypeOf(e,t){return RewardsViewService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},RewardsViewService_setPrototypeOf(e,t)}function RewardsViewService_createSuper(e){var t=function RewardsViewService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=RewardsViewService_getPrototypeOf(e);if(t){var o=RewardsViewService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return RewardsViewService_possibleConstructorReturn(this,r)}}function RewardsViewService_possibleConstructorReturn(e,t){if(t&&("object"===RewardsViewService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function RewardsViewService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function RewardsViewService_getPrototypeOf(e){return RewardsViewService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},RewardsViewService_getPrototypeOf(e)}var tv,rv=injectableForJs([Ch])(Zg=function(e){!function RewardsViewService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RewardsViewService_setPrototypeOf(e,t)}(RewardsViewService,e);var t,r,n=RewardsViewService_createSuper(RewardsViewService);function RewardsViewService(e){var t;return function RewardsViewService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RewardsViewService),(t=n.call(this)).rewardsService=e,t}return function RewardsViewService_createClass(e,t,r){return t&&RewardsViewService_defineProperties(e.prototype,t),r&&RewardsViewService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(RewardsViewService,[{key:"onToggleShowGameRewards",value:function onToggleShowGameRewards(e,t){e||(this.dispatch(new ev(!1)),this.dispatch(new zi(!1))),e&&t&&(Dy<t.getScrollTop()?this.dispatch(new ev(!0)):this.dispatch(new ev(!1))),this.dispatch(new Hi(e)),this.rewardsService.loadFriendsRewards(Zl(this.getState()),rd.getCurrentGameSpaceId(this.getState()))}},{key:"resetComponent",value:(r=RewardsViewService_asyncToGenerator(RewardsViewService_regeneratorRuntime().mark((function _callee(){return RewardsViewService_regeneratorRuntime().wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.dispatch(new ni(!0)),this.dispatch(new Hi(!1)),this.dispatch(new zi(!1)),this.dispatch(new qi(null,null,0))]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),_callee,this)}))),function resetComponent(){return r.apply(this,arguments)})},{key:"onClickReward",value:(t=RewardsViewService_asyncToGenerator(RewardsViewService_regeneratorRuntime().mark((function _callee2(e,t,r){return RewardsViewService_regeneratorRuntime().wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:this.dispatch(new zi(!0)),this.dispatch(new qi(e,t,r));case 2:case"end":return n.stop()}}),_callee2,this)}))),function onClickReward(e,r,n){return t.apply(this,arguments)})},{key:"onClickGoBackFromSelectedReward",value:function onClickGoBackFromSelectedReward(){this.dispatch(new zi(!1)),this.dispatch(new qi(null,null,0))}},{key:"onChangeSlide",value:function onChangeSlide(e){this.dispatch(new qi(_h.getRewardIdByOffset(this.getState(),{offset:e}),_h.getRewardSpaceIdByOffset(this.getState(),{offset:e}),e))}},{key:"onClickGetIt",vat)}}]),RewardsViewService}(ol))||Zg;function OtherGamesCarouselService_typeof(e){return OtherGamesCarouselService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OtherGamesCarouselService_typeof(e)}function OtherGamesCarouselService_regeneratorRuntime(){OtherGamesCarouselService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==OtherGamesCarouselService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function OtherGamesCarouselService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function OtherGamesCarouselService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OtherGamesCarouselService_setPrototypeOf(e,t){return OtherGamesCarouselService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},OtherGamesCarouselService_setPrototypeOf(e,t)}function OtherGamesCarouselService_createSuper(e){var t=function OtherGamesCarouselService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=OtherGamesCarouselService_getPrototypeOf(e);if(t){var o=OtherGamesCarouselService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return OtherGamesCarouselService_possibleConstructorReturn(this,r)}}function OtherGamesCarouselService_possibleConstructorReturn(e,t){if(t&&("object"===OtherGamesCarouselService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function OtherGamesCarouselService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function OtherGamesCarouselService_getPrototypeOf(e){return OtherGamesCarouselService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},OtherGamesCarouselService_getPrototypeOf(e)}var nv,ov=injectableForJs([Ch,Qy,qp,Wg,Jg,rv,nh,qy])(tv=function(e){!function OtherGamesCarouselService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OtherGamesCarouselService_setPrototypeOf(e,t)}(OtherGamesCarouselService,e);var t,r=OtherGamesCarouselService_createSuper(OtherGamesCarouselService);function OtherGamesCarouselService(e,t,n,o,i,a,s,c){var l;return function OtherGamesCarouselService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OtherGamesCarouselService),(l=r.call(this)).rewardsService=e,l.communicationService=t,l.gamesService=n,l.statsComparisonService=o,l.nameChangeService=i,l.rewardsViewService=a,l.analyticsService=s,l.commonActionsService=c,l}return function OtherGamesCarouselService_createClass(e,t,r){return t&&OtherGamesCarouselService_defineProperties(e.prototype,t),r&&OtherGamesCarouselService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(OtherGamesCarouselService,[{key:"onClickGame",value:(t=function OtherGamesCarouselService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){OtherGamesCarouselService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){OtherGamesCarouselService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(OtherGamesCarouselService_regeneratorRuntime().mark((function _callee(e,t,r,n,o){var i,a,s=this;return OtherGamesCarouselService_regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(!oi.getCurrentLastPlayedGameId(this.getState())||oi.getCurrentLastPlayedGameId(this.getState())!=t||!oi.getShowGameContent(this.getState())){r.next=4;break}return r.next=3,this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 3:return r.abrupt("return");case 4:return i=rd.getGameSiblingSpaceIdByAppId(this.getState(),{gameId:t,appId:n}),this.analyticsService.trackEvent("user tab","player card","global nav","interaction","last played games : ".concat(rd.getGameNameByGameId(this.getState(),{gameId:t}))),this.analyticsService.trackPage("user tab","game panel"),a=[this.dispatch(new Zr(!0)),this.statsComparisonService.resetComponent(),this.rewardsViewService.resetComponent(),this.dispatch(new ir),this.dispatch(new ar),this.dispatch(new Co(t,i,n)),this.dispatch(new ei(e,t,i,n,o))],J.getShowAvatarComponent(this.getState())&&a.push(this.commonActionsService.hideOverviewDetailsAvatarContent()),Xo.getShowChangeUserName(this.getState())&&(this.nameChangeService.goBackToValidateState(),a.push(this.commonActionsService.hideOverviewDetailsUserNameContent())),r.next=12,Promise.all(a);case 12:return r.next=14,this.commonActionsService.toggleOpenDetailsViewState(!0,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 14:return r.next=16,Promise.all([this.commonActionsService.loadFriendsPalyingGame().then((function(){return s.gamesService.loadMyLastPlayedGameStatsWithFriends(i)})).cati)})),this.rewardsService.loadUserRewards(i)]);case 16:ad.getNbOfFriendsPlaying(this.getState())<=0?this.dispatch(new si(!0)):this.dispatch(new si(!1));case 17:case"end":return r.stop()}}),_callee,this)}))),function onClickGame(e,r,n,o,i){return t.apply(this,arguments)})}]),OtherGamesCarouselService}(ol))||tv,iv=(0,I.P1)("ChangePlatformsQueries.getMyLastPlayedGameOwnedPlatfroms",rd.getCurrentLastPlayedGame,vl.getUserId,vn.getApplicationsByUserId,$t.getPlatformsApplicationsIdsByParentSpaceId,$t.getPlatformsByApplicationId,(function(e,t,r,n,o){return e&&r[t]?wl.getOwnedAppIds(r,t,n,e).map((function(e){return{key:e,value:"switch"!==o[e].displayName.toLowerCase()?o[e].displayName:"NINTENDO SWITCH"}})):[]})),av={getMyLastPlayedGameOwnedPlatfroms:iv,getHasOnlyOneOwnedPlatform:(0,I.P1)("ChangePlatformsQueries.getHasMyLastPlayedGameOnlyOnePlatform",iv,(function(e){return 1==e.length})),getHasOwnedPlatforms:(0,I.P1)("ChangePlatformsQueries.getHasMyLastPlayedGameOwnedPlatform",iv,(function(e){return e.length>0})),getSelectedPlatformCode:(0,I.P1)("ChangePlatformsQueries.getSelectedPlatformCode",Oo.getSelectedSpaceAppByGameId,rd.getCurrentGameId,$t.getPlatformsByApplicationId,(function(e,t,r){return e[t]&&r[e[t].appId]?"switch"!==r[e[t].appId].displayName.toLowerCase()?r[e[t].appId].displayName:"NINTENDO SWITCH":null})),getMyLastPlayedGameFilteredOwnedPlatfroms:(0,I.P1)("ChangePlatformsQueries.getMyLastPlayedGameFilteredOwnedPlatfroms",Oo.getSelectedSpaceAppByGameId,rd.getCurrentGameId,iv,(function(e,t,r){return r.filtId}))}))};function scrollToTop(e,t,r,n){e&&e.scrollToTop(),t&&(r||n)&&t.scrollToTop()}function OtherGamesController_typeof(e){return OtherGamesController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OtherGamesController_typeof(e)}function OtherGamesController_regeneratorRuntime(){OtherGamesController_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==OtherGamesController_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function OtherGamesController_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function OtherGamesController_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){OtherGamesController_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){OtherGamesController_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function OtherGamesController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OtherGamesController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OtherGamesController_setPrototypeOf(e,t){return OtherGamesController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},OtherGamesController_setPrototypeOf(e,t)}function OtherGamesController_createSuper(e){var t=function OtherGamesController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=OtherGamesController_getPrototypeOf(e);if(t){var o=OtherGamesController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return OtherGamesController_possibleConstructorReturn(this,r)}}function OtherGamesController_possibleConstructorReturn(e,t){if(t&&("object"===OtherGamesController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function OtherGamesController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function OtherGamesController_getPrototypeOf(e){return OtherGamesController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},OtherGamesController_getPrototypeOf(e)}var sv=inject({otherGamesCarouselService:ov,communicationService:Qy,analyticsService:nh,commonActionsService:qy})(nv=(0,Jc.$j)(nl({isInMobileView:Uc.getIsInMobileView,showMobileViewOnDesktop:Uc.getShowMobileViewOnDesktop},rl((function(e){return $t.loaded(e)&&Zi.loaded(e)&&vn.loaded(e)}),nl({otherGames:rd.getOtherGamesPlayed,hasOtherGamesPlayed:rd.getHasOtherGamesPlayed,hasComputedGameByInstallmentId:rd.getHasComputedGameByInstallmentId,loadedLastPlayedGame:function loadedLastPlayedGame(e){return $t.loaded(e)&&Zi.loaded(e)&&vn.loaded(e)},currentLastPlayedGameId:oi.getCurrentLastPlayedGameId,hasOnlyOneGame:rd.getHasOnlyOneGame,gamePlayed:rd.getOnlyGamePlayed,hasOnlyOnePlatform:av.getHasOnlyOneOwnedPlatform,selectedPlatformCode:av.getSelectedPlatformCode,platformsForSelect:av.getMyLastPlayedGameFilteredOwnedPlatfroms,hasOwnedPlatforms:av.getHasOwnedPlatforms,hasNoSessionData:rd.getHasNoSessionData}),nl({loadedLastPlayedGame:!1,hasOtherGamesPlayed:!1,otherGames:[],currentLastPlayedGameId:null,hasOnlyOneGame:!1}))))(nv=function(e){!function OtherGamesController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OtherGamesController_setPrototypeOf(e,t)}(OtherGamesController,e);var t,r,n=OtherGamesController_createSuper(OtherGamesController);function OtherGamesController(){return OtherGamesController_classCallCheck(this,OtherGamesController),n.apply(this,arguments)}return function OtherGamesController_createClass(e,t,r){return t&&OtherGamesController_defineProperties(e.prototype,t),r&&OtherGamesController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(OtherGamesController,[{key:"render",value:function render(){return(0,l.jsx)(OtherGamesView,{otherGames:this.props.otherGames,hasOtherGamesPlayed:this.props.hasOtherGamesPlayed,loadedLastPlayedGame:this.props.loadedLastPlayedGame,onClickGameImage:this.onClickGameImage,currentLastPlayedGameId:this.props.currentLastPlayedGameId,hasOnlyOneGame:this.props.hasOnlyOneGame,gamePlayed:this.props.gamePlayed,hasOnlyOnePlatform:this.props.hasOnlyOnePlatform,selectedPlatformCode:this.props.selectedPlatformCode,platformsForSelect:this.props.platformsForSelect,hasOwnedPlatforms:this.props.hasOwnedPlatforms,onChangePlatform:this.onChangePlatform,onSlidePrev:this.onSlidePrev,onSlideNext:this.onSlideNext,onSlideToFirst:this.onSlideToFirst,onSlideToLast:this.onSlideToLast,hasNoSessionData:this.props.hasNoSessionData,onSwipeOtherGames:this.props.onSwipeOtherGames,isInMobileView:this.props.isInMobileView})}},{key:"onClickGameImage",value:(r=OtherGamesController_asyncToGenerator(OtherGamesController_regeneratorRuntime().mark((function _callee(e,t,r,n,o,i){return OtherGamesController_regeneratorRuntime().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return scrollToTop(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),i.next=3,this.props.otherGamesCarouselService.onClickGame(e,t,r,n,o);case 3:case"end":return i.stop()}}),_callee,this)}))),function onClickGameImage(e,t,n,o,i,a){return r.apply(this,arguments)})},{key:"onChangePlatform",value:(t=OtherGamesController_asyncToGenerator(OtherGamesController_regeneratorRuntime().mark((function _callee2(e,t){return OtherGamesController_regeneratorRuntime().wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.props.commonActionsService.onChangeLPGPltform(e,t);case 2:case"end":return r.stop()}}),_callee2,this)}))),function onChangePlatform(e,r){return t.apply(this,arguments)})},{key:"onSlidePrev",value:function onSlidePrev(){this.props.analyticsService.trackEvent("user tab","player card","global nav","interaction","last played games : carousel : previous")}},{key:"onSlideNext",value:function onSlideNext(){this.props.analyticsService.trackEvent("user tab","player card","global nav","interaction","last played games : carousel : next")}},{key:"onSlideToFirst",value:function onSlideToFirst(){this.props.analyticsService.trackEvent("user tab","player card","global nav","interaction","last played games : carousel : go to first")}},{key:"onSlideToLast",value:function onSlideToLast(){this.props.analyticsService.trackEvent("user tab","player card","global nav","interaction","last played games : carousel : go to last")}}]),OtherGamesController}($c))||nv)||nv;function YouMightAlsoLikeGamesView(e){return(0,l.jsxs)("section",{className:"menu_container_user_section currently-playing",children:[(0,l.jsx)("div",{className:"you-might-also-like-title-text",children:(0,l.jsx)("h1",{children:(0,l.jsx)(xg,{children:"You might also like"})})}),(0,l.jsx)("div",{className:"lpg-container",children:(0,l.jsxs)("div",{className:"you-might-also-like-container",children:[(0,l.jsx)("div",{className:"you-might-also-like-games more-games",children:e.youMightAlsoLikeGames.map((function(t){return(0,l.jsx)("div",{className:"currently-playing_cover img-holder",children:(0,l.jsx)("div",{children:(0,l.jsxs)(Tg,{element:"a",href:t.shopUrl,onClick:e.onClickYouMightAlsoLikeGame.bind(null,t.shopUrl),aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"action",aaAction:"you might also like : ".concat(t.gameName),children:[t.imageUrl?(0,l.jsx)("img",{src:t.imageUrl}):null,t.imageUrl?null:(0,l.jsx)("div",{className:"other-game-no-image"})]})})},t.id)}))}),(0,l.jsx)("div",{className:"you-might-also-like-button",children:(0,l.jsx)(Tg,{element:"a",href:e.ubiStoreUrl,target:"_blank",className:"btn secondary",aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"action",aaAction:"you might also like : view more",children:(0,l.jsx)(xg,{children:"View more"})})})]})}),(0,l.jsx)("div",{className:"separator"})]})}var cv=r(92416),lv=r(30469);function ExpandedContentView(e){return(0,l.jsxs)("div",{className:el()("content content-start"),children:[(e.showAvatarComponent||e.showGameContent||e.showChangeUserName)&&(e.isInMobileView||e.showMobileViewOnDesktop)?null:[(0,l.jsx)("div",{className:el()("contentBlock playerCard",{"is-xp-translation-too-long":e.isLocaleXpTranslationTooLong}),children:(0,l.jsx)("div",{className:"for-mobile",children:(0,l.jsxs)("div",{className:"menu_container_user-info",children:[(0,l.jsxs)("div",{className:"img-holder",children:[e.avatarUrl?(0,l.jsx)(Eg,{avatarUrl:e.avatarUrl,onClick:e.onClickAvatar,editAvatar:!0,isActive:e.showAvatarComponent,locale:e.locale,avatarMaintenance:e.avatarMaintenance,changeTooltipState:e.changeTooltipState}):null,e.avatarUrl?null:(0,l.jsx)("div",{className:"avatar empty",children:(0,l.jsx)("img",{src:null})}),(0,l.jsxs)("div",{className:"username-view-wrapper",children:[(0,l.jsx)(Rg,{twoFactorAuthStatus:e.twoFactorAuthStatus,userName:e.username,onClickChangeUserName:e.onClickChangeUserName}),e.hasProfileCallError?null:(0,l.jsx)("div",{className:"level",children:(0,l.jsx)(xg,{level:e.level,children:"Level [level]"})})]})]}),e.hasProfileCallError?null:(0,l.jsxs)("div",{className:"user-progression-details",children:[(0,l.jsxs)("div",{className:el()("detail",{newPlayer:e.myNbOfYearsOfMemebership<=0}),children:[e.myNbOfYearsOfMemebership<=0?[(0,l.jsx)("img",{src:lv,className:"swirl-icon",alt:"swirl"},"0"),(0,l.jsx)("span",{className:"textContainer",children:(0,l.jsx)("span",{className:"text",children:(0,l.jsx)(xg,{children:"new player"})})},"1")]:null,1==e.myNbOfYearsOfMemebership?[(0,l.jsx)("span",{className:"num",children:e.myNbOfYearsOfMemebership},"0"),(0,l.jsxs)("span",{className:"textContainer",children:[(0,l.jsx)("span",{className:"text",children:(0,l.jsx)(xg,{children:"year"})}),(0,l.jsx)("span",{className:"text",children:(0,l.jsx)(xg,{children:"with Ubi"})})]},"1")]:null,e.myNbOfYearsOfMemebership>1?[(0,l.jsx)("span",{className:"num",children:e.myNbOfYearsOfMemebership},"0"),(0,l.jsxs)("span",{className:"textContainer",children:[(0,l.jsx)("span",{className:"text",children:(0,l.jsx)(xg,{children:"years"})}),(0,l.jsx)("span",{className:"text",children:(0,l.jsx)(xg,{children:"with Ubi"})})]},"1")]:null]}),(0,l.jsxs)("div",{className:el()("detail",{noGames:e.myNbOfGamesOwned<=0}),children:[e.myNbOfGamesOwned<=0?[(0,l.jsx)("img",{src:cv,className:"games-icon",alt:"games"},"0"),(0,l.jsx)("span",{className:"textContainer",children:(0,l.jsx)("span",{className:"text",children:(0,l.jsx)(xg,{children:"No games yet"})})},"1")]:null,1==e.myNbOfGamesOwned?[(0,l.jsx)("span",{className:"num",children:e.myNbOfGamesOwned},"0"),(0,l.jsxs)("span",{className:"textContainer",children:[(0,l.jsx)("span",{className:"text",children:(0,l.jsx)(xg,{children:"game"})}),(0,l.jsx)("span",{className:"text",children:(0,l.jsx)(xg,{children:"owned"})})]},"1")]:null,e.myNbOfGamesOwned>1?[(0,l.jsx)("span",{className:"num",children:e.myNbOfGamesOwned},"0"),(0,l.jsxs)("span",{className:"textContainer",children:[(0,l.jsx)("span",{className:"text",children:(0,l.jsx)(xg,{children:"games"})}),(0,l.jsx)("span",{className:"text",children:(0,l.jsx)(xg,{children:"owned"})})]},"1")]:null]})]})]})})},"0"),(0,l.jsx)(sv,{onSwipeOtherGames:e.onSwipeOtherGames,_detailsScrollableRef:e._detailsScrollableRef,_scrollableRef:e._scrollableRef},"1"),(0,l.jsx)("div",{className:el()("contentBlock","youMightAlsoLikeSection",{hidden:!e.loadedGames||!e.hasYouMightLikeGame}),children:e.hasYouMightLikeGame?(0,l.jsx)(YouMightLikeGameView,{onClickYouMightAlsoLikeGame:e.onClickYouMightAlsoLikeGame,gameName:e.youMightLikeGame.gameName,gameImage:e.youMightLikeGame.imageUrl,hasOnlyOnePlatform:e.hasOnlyOnePlatform,gameShopUrl:e.youMightLikeGame.shopUrl,gamePlatforms:e.youMightLikeGamePlatformsMapedNames,hasNoGamesPlayed:e.hasNoGamesPlayed,hasCustomStoreBuyButton:e.hasCustomStoreBuyButton}):null},"2"),(0,l.jsx)("div",{className:el()("contentBlock","youMightAlsoLikeSection",{hidden:!e.loadedGames||!e.hasYouMightAlsoLikeGames||!e.hasNoGamesPlayed}),children:e.hasYouMightAlsoLikeGames&&e.hasNoGamesPlayed?(0,l.jsx)(YouMightAlsoLikeGamesView,{youMightAlsoLikeGames:e.youMightAlsoLikeGames,ubiStoreUrl:e.ubiStoreUrl,onClickYouMightAlsoLikeGame:e.onClickYouMightAlsoLikeGame}):null},"3"),(0,l.jsx)("section",{className:el()("menu_container_user_section links",{"margin-bottom-mobile":e.isInMobileView}),children:(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsxs)(Tg,{element:"a",href:e.accountUrl,className:"arrow link-account-info",onClick:e.onClickAccountInformation,aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"action",aaAction:"go to account management",children:[e.isAccountLinkOverwritten&&e.overwrittenAccountLinkUrl?(0,l.jsx)("span",{children:e.overwrittenAccountLinkUrl}):null,e.isAccountLinkOverwritten&&e.overwrittenAccountLinkUrl?null:(0,l.jsx)(xg,{children:"Account Information"}),e.overwrittenAccountLinkAction&&e.overwrittenAccountLinkAction!==ne?null:(0,l.jsx)("i",{className:"icon-external-link"})]})}),(0,l.jsx)("li",{children:(0,l.jsxs)(Tg,{element:"a",className:"arrow link-help",href:e.customerSupportUrl,onClick:e.onClickHelpAndSupport,aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"action",aaAction:"go to customer support",children:[e.isSupportLinkOverwritten&&e.overwrittenSupportLinkUrl?(0,l.jsx)("span",{children:e.overwrittenSupportLinkUrl}):null,e.isSupportLinkOverwritten&&e.overwrittenSupportLinkUrl?null:(0,l.jsx)(xg,{children:"Help and Support"}),e.overwrittenSupportLinkAction&&e.overwrittenSupportLinkAction!==ne?null:(0,l.jsx)("i",{className:"icon-external-link"})]})}),(0,l.jsx)("li",{children:(0,l.jsxs)(Tg,{element:"a",className:"arrow link-help",href:e.storeUrl,onClick:e.onClickStore,aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"action",aaAction:"go to ubisoft store",children:[e.isStoreLinkOverwritten&&e.overwrittenStoreLinkUrl?(0,l.jsx)("span",{children:e.overwrittenStoreLinkUrl}):null,e.isStoreLinkOverwritten&&e.overwrittenStoreLinkUrl?null:(0,l.jsx)(xg,{children:"Ubisoft Store"}),e.overwrittenStoreLinkAction&&e.overwrittenStoreLinkAction!==ne?null:(0,l.jsx)("i",{className:"icon-external-link"})]})}),e.integratorCustomerSupportUrls.map((function(t){return(0,l.jsx)("li",{children:(0,l.jsxs)("a",{className:"arrow",href:t.url,onClick:e.onClickCustomLink.bind(null,t.url,t.action),children:[t.name,t.action&&t.action!==ne?null:(0,l.jsx)("i",{className:"icon-external-link"})]})},t.id)})),(0,l.jsx)("li",{className:"logout",children:(0,l.jsxs)(Tg,{"aria-label":"Logout",element:"button",type:"button",className:"logout-button",onClick:e.onClickLogout,aaSiteSubSection:"user tab",aaPageName:"player card",aaLocation:"global nav",aaCategory:"login",aaAction:"loging out",tabIndex:0,onKeyUp:function onKeyUp(t){return 13!=t.keyCode&&32!=t.keyCode||e.onClickLogout(t)},children:[(0,l.jsx)(xg,{children:"Logout"}),(0,l.jsx)("i",{className:"icon-logout"})]})})]})},"4")],e.isInMobileView||e.showMobileViewOnDesktop?e.children:null1}function getInnerWidth(e){var t=e.clientWidth,r=getComputedStyle(e),n=r.paddingLeft,o=r.paddingRight;return t-parseFloat(n)-parseFloat(o)}function getInnerHeight(e){var t=e.clientHeight,r=getComputedStyle(e),n=r.paddingTop,o=r.paddingBottom;return t-parseFloat(n)-parseFloat(o)}var uv={position:"relative",overflow:"hidden",width:"100%",height:"100%"},fv={height:"auto"},dv={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},pv={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},hv={overflow:"hidden",marginRight:0,marginBottom:0},yv={position:"absolute",height:6},gv={position:"absolute",width:6},vv={position:"relative",display:"block",height:"100%"},mv={position:"relative",display:"block",width:"100%"},bv={userSelect:"none"},Sv={userSelect:""};function CustomScrollbarController_typeof(e){return CustomScrollbarController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CustomScrollbarController_typeof(e)}var wv=["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"];function CustomScrollbarController_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function CustomScrollbarController_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CustomScrollbarController_ownKeys(Object(r),!0).forEach((function(t){CustomScrollbarController_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CustomScrollbarController_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function CustomScrollbarController_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]= o}function CustomScrollbarController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CustomScrollbarController_setPrototypeOf(e,t){return CustomScrollbarController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},CustomScrollbarController_setPrototypeOf(e,t)}function CustomScrollbarController_createSuper(e){var t=function CustomScrollbarController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=CustomScrollbarController_getPrototypeOf(e);if(t){var o=CustomScrollbarController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return CustomScrollbarController_possibleConstructorReturn(this,r)}}function CustomScrollbarController_possibleConstructorReturn(e,t){if(t&&("object"===CustomScrollbarController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return CustomScrollbarController_assertThisInitialized(e)}function CustomScrollbarController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CustomScrollbarController_getPrototypeOf(e){return CustomScrollbarController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},CustomScrollbarController_getPrototypeOf(e)}var Pv=r(54087),_v=r(54087).cancel,Cv=r(53879),Ov=function(e){!function CustomScrollbarController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CustomScrollbarController_setPrototypeOf(e,t)}(CustomScrollbarController,e);var t=CustomScrollbarController_createSuper(CustomScrollbarController);function CustomScrollbarController(e,r){var n;return function CustomScrollbarController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CustomScrollbarController),(n=t.call(this,e,r)).requestFrame,n.hideTracksTimeout,n.detectScrollingInterval,n.view,n.trackHorizontal,n.trackVertical,n.thumbHorizontal,n.thumbVertical,n.dragging,n.scrolling,n.prevPageX,n.prevPageY,n.trackMouseOver,n.container,n.lastViewScrollLeft,n.viewScrollLeft,n.lastViewScrollTop,n.viewScrollTop,n.getScrollLeft=n.getScrollLeft.bind(CustomScrollbarController_assertThisInitialized(n)),n.getScrollTop=n.getScrollTop.bind(CustomScrollbarController_assertThisInitialized(n)),n.getScrollWidth=n.getScrollWidth.bind(CustomScrollbarController_assertThisInitialized(n)),n.getScrollHeight=n.getScrollHeight.bind(CustomScrollbarController_assertThisInitialized(n)),n.getClientWidth=n.getClientWidth.bind(CustomScrollbarController_assertThisInitialized(n)),n.getClientHeight=n.getClientHeight.bind(CustomScrollbarController_assertThisInitialized(n)),n.getValues=n.getValues.bind(CustomScrollbarController_assertThisInitialized(n)),n.getThumbHorizontalWidth=n.getThumbHorizontalWidth.bind(CustomScrollbarController_assertThisInitialized(n)),n.getThumbVerticalHeight=n.getThumbVerticalHeight.bind(CustomScrollbarController_assertThisInitialized(n)),n.getScrollLeftForOffset=n.getScrollLeftForOffset.bind(CustomScrollbarController_assertThisInitialized(n)),n.getScrollTopForOffset=n.getScrollTopForOffset.bind(CustomScrollbarController_assertThisInitialized(n)),n.scrollLeft=n.scrollLeft.bind(CustomScrollbarController_assertThisInitialized(n)),n.scrollTop=n.scrollTop.bind(CustomScrollbarController_assertThisInitialized(n)),n.scrollToLeft=n.scrollToLeft.bind(CustomScrollbarController_assertThisInitialized(n)),n.scrollToTop=n.scrollToTop.bind(CustomScrollbarController_assertThisInitialized(n)),n.scrollToRight=n.scrollToRight.bind(CustomScrollbarController_assertThisInitialized(n)),n.scrollToBottom=n.scrollToBottom.bind(CustomScrollbarController_assertThisInitialized(n)),n.handleTrackMouseEnter=n.handleTrackMouseEnter.bind(CustomScrollbarController_assertThisInitialized(n)),n.handleTrackMouseLeave=n.handleTrackMouseLeave.bind(CustomScrollbarController_assertThisInitialized(n)),n.handleHorizontalTrackMouseDown=n.handleHorizontalTrackMouseDown.bind(CustomScrollbarController_assertThisInitialized(n)),n.handleVerticalTrackMouseDown=n.handleVerticalTrackMouseDown.bind(CustomScrollbarController_assertThisInitialized(n)),n.handleHorizontalThumbMouseDown=n.handleHorizontalThumbMouseDown.bind(CustomScrollbarController_assertThisInitialized(n)),n.handleVerticalThumbMouseDown=n.handleVerticalThumbMouseDown.bind(CustomScrollbarController_assertThisInitialized(n)),n.handleWindowResize=n.handleWindowResize.bind(CustomScrollbarController_assertThisInitialized(n)),n.handleScroll=n.handleScroll.bind(CustomScrollbarController_assertThisInitialized(n)),n.handleDrag=n.handleDrag.bind(CustomScrollbarController_assertThisInitialized(n)),n.handleDragEnd=n.handleDragEnd.bind(CustomScrollbarController_assertThisInitialized(n)),n.state={didMountUniversal:!1},n}return function CustomScrollbarController_createClass(e,t,r){return t&&CustomScrollbarController_defineProperties(e.prototype,t),r&&CustomScrollbarController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(CustomScrollbarController,[{key:"componentDidMount",va()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.update()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.removeListeners(),_v(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"componentDidMountUniversal",va})}},{key:"getScrollLeft",value:function getScrollLeft(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function getScrollTop(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function getScrollWidth(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function getScrollHeight(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function getClientWidth(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",va:0}},{key:"getValues",vad}}},{key:"getThumbHorizontalWidth",value:function getThumbHorizontalWidth(){var e=this.props,t=e.thumbSize,r=e.thumbMinSize,n=this.view,o=n.scrollWidth,i=n.clientWidth,a=getInnerWidth(this.trackHorizontal),s=Math.ceil(i/o*a);return a===s?0:t||Math.max(s,r)}},{key:"getThumbVerticalHeight",value:function getThumbVerticalHeight(){var e=this.props,t=e.thumbSize,r=e.thumbMinSize,n=this.view,o=n.scrollHeight,i=n.clientHeight,a=getInnerHeight(this.trackVertical),s=Math.ceil(i/o*a);return a===s?0:t||Math.max(s,r)}},{key:"getScrollLeftForOffset",value:function getScrollLeftForOffset(e){var t=this.view,r=t.scrollWidth,n=t.clientWidth;return e/(getInnerWidth(this.trackHorizontal)-this.getThumbHorizontalWidth())*(r-n)}},{key:"getScrollTopForOffset",value:function getScrollTopForOffset(e){var t=this.view,r=t.scrollHeight,n=t.clientHeight;return e/(getInnerHeight(this.trackVertical)-this.getThumbVerticalHeight())*(r-n)}},{key:"scrollLeft",value:function scrollLeft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=e)}},{key:"scrollTop",vae)}},{key:"scrollToLeft",value:function scrollToLeft(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",va0)}},{key:"scrollToRight",value:function scrollToRight(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",vat)}},{key:"addListeners",value:function addListeners(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,r=this.trackVertical,n=this.thumbHorizontal,o=this.thumbVertical;e.addEventListener("scroll",this.handleScroll),this.props.scrollbarWidth&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),r.addEventListener("mouseenter",this.handleTrackMouseEnter),r.addEventListener("mouseleave",this.handleTrackMouseLeave),r.addEventListener("mousedown",this.handleVerticalTrackMouseDown),n.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),o.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function removeListeners(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,r=this.trackVertical,n=this.thumbHorizontal,o=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),this.props.scrollbarWidth&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),r.removeEventListener("mouseenter",this.handleTrackMouseEnter),r.removeEventListener("mouseleave",this.handleTrackMouseLeave),r.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),n.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),o.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",va()}},{key:"handleScrollStart",value:function handleScrollStart(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function handleScrollStartAutoHide(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",va()}},{key:"handleScrollStopAutoHide",va()}},{key:"handleWindowResize",va()}},{key:"handleHorizontalTrackMouseDown",value:function handleHorizontalTrackMouseDown(e){e.preventDefault();var t=e.target,r=e.clientX,n=t.getBoundingClientRect().left,o=this.getThumbHorizontalWidth(),i=Math.abs(n-r)-o/2;this.view.scrollLeft=this.getScrollLeftForOffset(i)}},{key:"handleVerticalTrackMouseDown",vai)}},{key:"handleHorizontalThumbMouseDown",value:function handleHorizontalThumbMouseDown(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,r=e.clientX,n=t.offsetWidth,o=t.getBoundingClientRect().left;this.prevPageX=n-(r-o)}},{key:"handleVerticalThumbMouseDown",vao)}},{key:"setupDragging",value:function setupDragging(){Cv(document.body,bv),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=returnFalse}},{key:"teardownDragging",value:function teardownDragging(){Cv(document.body,Sv),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",va()}},{key:"handleDrag",va!1}},{key:"handleDragEnd",va()}},{key:"handleDragEndAutoHide",value:function handleDragEndAutoHide(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function handleTrackMouseEnter(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function handleTrackMouseEnterAutoHide(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",va()}},{key:"handleTrackMouseLeaveAutoHide",value:function handleTrackMouseLeaveAutoHide(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function showTracks(){clearTimeout(this.hideTracksTimeout),Cv(this.trackHorizontal,{opacity:1}),Cv(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function hideTracks(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout((function(){Cv(e.trackHorizontal,{opacity:0}),Cv(e.trackVertical,{opacity:0})}),t)}}},{key:"detectScrolling",va))}},{key:"raf",value:function raf(e){var t=this;this.requestFrame&&Pv.cancel(this.requestFrame),this.requestFrame=()}))}},{key:"update",va))}},{key:"updateTracksAndThumbs",value:function updateTracksAndThumbs(e){var t=this.props,r=t.onUpdate,n=t.hideTracksWhenNotNeeded,o=this.getValues();if(this.props.scrollbarWidth){var i=o.scrollLeft,a=o.clientWidth,s=o.scrollWidth,c=getInnerWidth(this.trackHorizontal),l=this.getThumbHorizontalWidth(),u={width:l,transform:"translateX(".concat(i/(s-a)*(c-l),"px)")},f=o.scrollTop,d=o.clientHeight,p=o.scrollHeight,h=getInnerHeight(this.trackVertical),y=this.getThumbVerticalHeight(),g={height:y,transform:"translateY(".concat(f/(p-d)*(h-y),"px)")};if(n){var v={visibility:s>a?"visible":"hidden"},m={visibility:p>d?"visible":"hidden"};Cv(this.trackHorizontal,v),Cv(this.trackVertical,m)}Cv(this.thumbHorizontal,u),Cv(this.thumbVertical,g)}r&&r(o),"function"==typeof e&&e(o)}},{key:"render",value:function render(){var e=this,t=this.props.scrollbarNegativeMargin,r=this.props,n=(r.onScroll,r.onScrollFrame,r.onScrollStart,r.onScrollStop,r.onUpdate,r.renderView),o=r.renderTrackHorizontal,i=r.renderTrackVertical,a=r.renderThumbHorizontal,s=r.renderThumbVertical,c=r.tagName,l=(r.hideTracksWhenNotNeeded,r.autoHide),u=(r.autoHideTimeout,r.autoHideDuration),f=(r.thumbSize,r.thumbMinSize,r.universal),d=r.autoHeight,p=r.autoHeightMin,h=r.autoHeightMax,y=r.style,g=r.children,v=_objectWithoutProperties(r,wv);delete v.scrollbarWidth,delete v.scrollbarNegativeMargin;var m=this.state.didMountUniversal,b=CustomScrollbarController_objectSpread(CustomScrollbarController_objectSpread(CustomScrollbarController_objectSpread({},uv),d&&CustomScrollbarController_objectSpread(CustomScrollbarController_objectSpread({},fv),{},{minHeight:p,maxHeight:h})),y),S=CustomScrollbarController_objectSpread(CustomScrollbarController_objectSpread(CustomScrollbarController_objectSpread(CustomScrollbarController_objectSpread({},dv),{},{marginRight:t?-t:0,marginBottom:t?-t:0},d&&CustomScrollbarController_objectSpread(CustomScrollbarController_objectSpread({},pv),{},{minHeight:isString(p)?"calc(".concat(p," + ").concat(t,"px)"):p+t,maxHeight:isString(h)?"calc(".concat(h," + ").concat(t,"px)"):h+t})),d&&f&&!m&&{minHeight:p,maxHeight:h}),f&&!m&&hv),w={transition:"opacity ".concat(u,"ms"),opacity:0},P=CustomScrollbarController_objectSpread(CustomScrollbarController_objectSpread(CustomScrollbarController_objectSpread({},yv),l&&w),f&&!m&&{display:"none"}),_=CustomScrollbarController_objectSpread(CustomScrollbarController_objectSpread(CustomScrollbarController_objectSpread({},gv),l&&w),f&&!m&&{display:"none"});return(0,zc.createElement)(c,CustomScrollbarController_objectSpread(CustomScrollbarController_objectSpread({},v),{},{style:b,ref:function ref(t){e.container=t}}),[(0,zc.cloneElement)(n({style:S}),{key:"view",ref:function ref(t){e.view=t}},g),(0,zc.cloneElement)(o({style:P}),{key:"trackHorizontal",ref:function ref(t){e.trackHorizontal=t}},(0,zc.cloneElement)(a({style:vv}),{ref:function ref(t){e.thumbHorizontal=t}})),(0,zc.cloneElement)(i({style:_}),{key:"trackVertical",ref:function ref(t){e.trackVertical=t}},(0,zc.cloneElement)(s({style:mv}),{=t}}))])}}]),CustomScrollbarController}($c);function RenderThumbHorizontalDefault_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function RenderThumbHorizontalDefault_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RenderThumbHorizontalDefault_ownKeys(Object(r),!0).forEach((function(t){RenderThumbHorizontalDefault_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RenderThumbHorizontalDefault_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function RenderThumbHorizontalDefault_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RenderThumbHorizontalDefault(e){var t=RenderThumbHorizontalDefault_objectSpread(RenderThumbHorizontalDefault_objectSpread({},e.style),{},{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return(0,l.jsx)("div",RenderThumbHorizontalDefault_objectSpread({style:t},e))}function ScrollbarsView_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ScrollbarsView_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ScrollbarsView_ownKeys(Object(r),!0).forEach((function(t){ScrollbarsView_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ScrollbarsView_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ScrollbarsView_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=s)}function ScrollbarsView(e){return(0,l.jsx)(Ov,{style:{height:e.scrollbarHeight},scrollbarWidth:e.scrollbarWidth,autoHide:e.autoHide,autoHideTimeout:e.autoHideTimeout,autoHideDuration:e.autoHideDuration,hideTracksWhenNotNeeded:e.hideTracksWhenNotNeeded,ref:e.scrollableRef,universal:!0,scrollbarNegativeMargin:e.scrollbarNegativeMargin,onUpdate:e.handleOnScrollUpdate?e.handleOnScrollUpdate:function(){},renderTrackHorizontal:function renderTrackHorizontal(e){var t=_extends({},e);return(0,l.jsx)("div",ScrollbarsView_objectSpread({style:ScrollbarsView_objectSpread(ScrollbarsView_objectSpread({},t.style),{opacity:0})},t.props))},renderTrackVertical:function renderTrackVertical(e){var t=_extends({},e);return(0,l.jsx)("div",ScrollbarsView_objectSpread({className:"custom-scroll-box-vertical-track",style:t.style},t.props))},renderThumbVertical:function renderThumbVertical(e){var t=_extends({},e);return(0,l.jsx)("div",ScrollbarsView_objectSpread({className:"custom-scroll-box-vertical-thumb",style:t.style},t.props))},renderView:function renderView(t){var r=_extends({},t);return(0,l.jsx)("div",ScrollbarsView_objectSpread({className:"custom-scroll-box",style:ScrollbarsView_objectSpread(ScrollbarsView_objectSpread({},r.style),{},{marginRight:0!==r.style.marginRight?r.style.marginRight:e.scrollbarNegativeMargin?-e.scrollbarNegativeMargin:0,marginBottom:0!==r.style.marginBottom?r.style.marginRight:e.scrollbarNegativeMargin?-e.scrollbarNegativeMargin:0})},r.props))},renderThumbHorizontal:RenderThumbHorizontalDefault,tagName:"div",thumbMinSize:30,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,children:e.children})}function TabDetailsView(e){return e.isInMobileView||e.showMobileViewOnDesktop?!e.isInMobileView&&e.showMobileViewOnDesktop?(0,l.jsx)("div",{className:"details-view-container",style:{height:e.height,maxHeight:e.maxHeight},onClick:e.handleOnClickMenu.bind(null),children:(0,l.jsx)("div",{className:el()("details-view",e.className),style:{height:e.height,maxHeight:e.maxHeight}})}):(0,l.jsx)("noscript",{}):(0,l.jsx)("div",{className:"details-view-container",style:{height:e.height,maxHeight:e.maxHeight},onClick:e.handleOnClickMenu.bind(null),children:(0,l.jsxs)("div",{className:el()("details-view",e.className,{visible:e.show&&e.showDetailsView&&!e.isInMobileView}),style:{height:e.height,maxHeight:e.maxHeight},children:[e.showStatsHeaderOnPlayerCardDetails||e.showStatsHeaderOnFriendsDetails||e.showNameHeaderOnFriendsDetails?null:(0,l.jsx)("i",{className:"icon-close closeIcon",onClick:e.onClickClose.bind(null)}),(0,l.jsx)(ScrollbarsView,{scrollbarHeight:e.height,scrollableRef:e.scrollableRef,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,hideTracksWhenNotNeeded:!0,handleOnScrollUpdate:e.handleOnScrollUpdate,scrollbarWidth:e.scrollbarWidth,scrollbarNegativeMargin:e.scrollbarNegativeMargin,children:(0,l.jsx)("div",{className:"details-view-content",style:{minHeight:e.height},children:e.children})}),e.hasAvatarComponent?e.avatarComponent:null]})})}function AvatarsConfirmationContainerView(e){return(0,l.jsx)("div",{className:el()("avatars-confirmation-container in-back load-element",{"always-display":e.alwaysDisplay,positioned:e.isPositionedAbsolute||e.isPositionedFixed,"positioned-absolute":e.isPositionedAbsolute,"positioned-fixed":e.isPositionedFixed}),children:(0,l.jsxs)("div",{className:el()("in-back load-element",{in:!e.loadedAvatar}),children:[(0,l.jsx)(LoaderView,{loaded:e.loadedAvatar}),e.loadedAvatar?(0,l.jsxs)("div",{className:"btns-container",children:[(0,l.jsx)("div",{className:"btn secondary latPadding",onClick:e.onClickCancelSaveAvatar.bind(null),children:(0,l.jsx)(xg,{children:"Cancel"})}),(0,l.jsx)("div",{className:"btn primary latPadding",onClick:e.onClickSaveAvatar.bind(null),children:(0,l.jsx)(xg,{children:"Save"})})]}):null]})})}function OverviewTabDetailsView(e){var t=e.selectedAvatarId&&e.showAvatarComponent?(0,l.jsx)(AvatarsConfirmationContainerView,{isPositionedAbsolute:!0,isPositionedFixed:!1,alwaysDisplay:!1,loadedAvatar:e.loadedAvatar,onClickCancelSaveAvatar:e.onClickCancelSaveAvatar,onClickSaveAvatar:e.onClickSaveAvatar}):null;return(0,l.jsx)(TabDetailsView,{isInMobileView:e.isInMobileView,show:e.show,showDetailsView:e.showDetailsView,className:"overview-tab-details",onClickClose:e.onClickCloseDetailsTabView,hasAvatarComponent:!0,avatarComponent:t,showMobileViewOnDesktop:e.showMobileViewOnDesktop,scrollableRef:e.scrollableRef,scrollbarWidth:e.scrollbarWidth,handleOnClickMenu:e.handleOnClickMenu,handleOnScrollUpdate:e.handleOnScrollUpdate,showStatsHeaderOnPlayerCardDetails:e.showStatsHeaderOnPlayerCardDetails,showStatsHeaderOnFriendsDetails:!1,showNameHeaderOnFriendsDetails:!1,scrollbarNegativeMargin:e.scrollbarNegativeMargin,height:e.height,maxHeight:e.maxHeight,children:e.children})}function ExpandedView(e){return(0,l.jsxs)("div",{className:el()("menu_user-panel-container panel-container expanding-details",{visible:e.show}),style:{height:e.height,maxHeight:e.maxHeight,top:e.top},children:[(0,l.jsxs)("div",{className:el()("menu_user-panel",{"is-in-mobile":e.isInMobileView}),ref:e.swipeRef,children:[(0,l.jsx)(ScrollbarsView,{scrollbarHeight:e.scrollbarHeight,scrollbarWidth:e.scrollbarWidth,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,hideTracksWhenNotNeeded:!0,scrollableRef:e.scrollableRef,scrollbarNegativeMargin:e.scrollbarNegativeMargin,children:(0,l.jsx)(ExpandedContentView,{avatarUrl:e.avatarUrl,username:e.username,level:e.level,onClickAccountInformation:e.onClickAccountInformation,onClickHelpAndSupport:e.onClickHelpAndSupport,onClickYouMightAlsoLikeGame:e.onClickYouMightAlsoLikeGame,onClickLogout:e.onClickLogout,onClickCustomLink:e.onClickCustomLink,onClickStore:e.onClickStore,loadedGames:e.loadedGames,isInMobileView:e.isInMobileView,locale:e.locale,customerSupportUrl:e.customerSupportUrl,accountUrl:e.accountUrl,integratorCustomerSupportUrls:e.integratorCustomerSupportUrls,youMightLikeGamePlatformsMapedNames:e.youMightLikeGamePlatformsMapedNames,isLocaleXpTranslationTooLong:e.isLocaleXpTranslationTooLong,hasProfileCallError:e.hasProfileCallError,hasOnlyOnePlatform:e.hasOnlyOnePlatform,onClickChangeUserName:e.onClickChangeUserName,showChangeUserName:e.showChangeUserName,onClickAvatar:e.onClickAvatar,showAvatarComponent:e.showAvatarComponent,onSwipeOtherGames:e.onSwipeOtherGames,twoFactorAuthStatus:e.twoFactorAuthStatus,hasYouMightLikeGame:e.hasYouMightLikeGame,youMightLikeGame:e.youMightLikeGame,myNbOfGamesOwned:e.myNbOfGamesOwned,myNbOfYearsOfMemebership:e.myNbOfYearsOfMemebership,showGameContent:e.showGameContent,showMobileViewOnDesktop:e.showMobileViewOnDesktop,avatarMaintenance:e.avatarMaintenance,changeTooltipState:e.changeTooltipState,storeUrl:e.storeUrl,hasNoGamesPlayed:e.hasNoGamesPlayed,hasYouMightAlsoLikeGames:e.hasYouMightAlsoLikeGames,youMightAlsoLikeGames:e.youMightAlsoLikeGames,ubiStoreUrl:e.ubiStoreUrl,isAccountLinkOverwritten:e.isAccountLinkOverwritten,isSupportLinkOverwritten:e.isSupportLinkOverwritten,isStoreLinkOverwritten:e.isStoreLinkOverwritten,overwrittenAccountLinkUrl:e.overwrittenAccountLinkUrl,overwrittenSupportLinkUrl:e.overwrittenSupportLinkUrl,overwrittenStoreLinkUrl:e.overwrittenStoreLinkUrl,hasCustomStoreBuyButton:e.hasCustomStoreBuyButton,overwrittenAccountLinkAction:e.overwrittenAccountLinkAction,overwrittenSupportLinkAction:e.overwrittenSupportLinkAction,overwrittenStoreLinkAction:e.overwrittenStoreLinkAction,_detailsScrollableRef:e._detailsScrollableRef,_scrollableRef:e._scrollableRef,children:e.children})}),e.selectedAvatarId&&(e.showAvatarComponent&&e.isInMobileView||e.showMobileViewOnDesktop)?(0,l.jsx)(AvatarsConfirmationContainerView,{isPositionedAbsolute:!0,isPositionedFixed:!1,alwaysDisplay:!1,loadedAvatar:e.loadedAvatar,onClickCancelSaveAvatar:e.onClickCancelSaveAvatar,onClickSaveAvatar:e.onClickSaveAvatar}):null]}),(0,l.jsx)(OverviewTabDetailsView,{show:e.showPlayerCardDetails,isInMobileView:e.isInMobileView,showDetailsView:e.showDetailsView,onClickCloseDetailsTabView:e.onClickCloseDetailsTabView,loadedAvatar:e.loadedAvatar,onClickCancelSaveAvatar:e.onClickCancelSaveAvatar,onClickSaveAvatar:e.onClickSaveAvatar,selectedAvatarId:e.selectedAvatarId,showAvatarComponent:e.showAvatarComponent,showMobileViewOnDesktop:e.showMobileViewOnDesktop,scrollableRef:e.detailsScrollableRef,handleOnClickMenu:e.handleOnClickMenu,scrollbarWidth:e.scrollbarWidth,handleOnScrollUpdate:e.handleOnScrollUpdate,showStatsHeaderOnPlayerCardDetails:e.showStatsHeaderOnPlayerCardDetails,scrollbarNegativeMargin:e.scrollbarNegativeMargin,height:e.height,maxHeight:e.maxHeight,children:e.children})]})}var Av,kv={getAddFriendTranslatedText:function getAddFriendTranslatedText(e){return kv.getTranslatedText(e,{valueToTranslate:"Enter full player name",locale:me.getCurrentLocale(e)})},getFilterTranslatedText:function getFilterTranslatedText(e){return kv.getTranslatedText(e,{valueToTranslate:"Filter",locale:me.getCurrentLocale(e)})},getFriendsSelectorTranslatedText:function getFriendsSelectorTranslatedText(e){return kv.getTranslatedText(e,{valueToTranslate:"Compare with",locale:me.getCurrentLocale(e)})},getTranslatedText:(0,I.P1)("CustomTranslateQueries.getTranslatedText",me.getLocaleCatalog,(function(e,t){return t.valueToTranslate}),(function(e,t){var r=null;try{r=e[t]||t}catch(e){r=t,console.error("[LOCALE MISSING] "+r)}return e&&Object.keys(e).forEa])})),r})),getIsLocaleXpTranslationTooLong:(0,I.P1)("CustomTranslateQueries.getTranslatedText",me.getCurrentLocae)}))};function GoBackView(e){return(0,l.jsx)("div",{className:"contentBlock arrowMobileBlock",children:(0,l.jsx)("div",{className:"go-back-container",children:(0,l.jsxs)("a",{className:"link go-back-button",onClick:e.onClickGoBack.bind(null),children:[(0,l.jsx)("i",{className:"icon-angle-left"}),e.showGoBackText?(0,l.jsx)(xg,{children:"Back"}):null,e.showChangeAvatarText?(0,l.jsx)("div",{className:"title",children:(0,l.jsx)(xg,{children:"Back"})}):null]})})})}function SearchElementsSelectorView_typeof(e){return SearchElementsSelectorView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SearchElementsSelectorView_typeof(e)}function SearchElementsSelectorView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SearchElementsSelectorView_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SearchElementsSelectorView_setPrototypeOf(e,t){return SearchElementsSelectorView_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},SearchElementsSelectorView_setPrototypeOf(e,t)}function SearchElementsSelectorView_createSuper(e){var t=function SearchElementsSelectorView_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=SearchElementsSelectorView_getPrototypeOf(e);if(t){var o=SearchElementsSelectorView_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return SearchElementsSelectorView_possibleConstructorReturn(this,r)}}function SearchElementsSelectorView_possibleConstructorReturn(e,t){if(t&&("object"===SearchElementsSelectorView_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return SearchElementsSelectorView_assertThisInitialized(e)}function SearchElementsSelectorView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SearchElementsSelectorView_getPrototypeOf(e){return SearchElementsSelectorView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},SearchElementsSelectorView_getPrototypeOf(e)}function SearchElementsSelectorView_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xv,Iv=(0,Jc.$j)((function(){return nl({isInMobileView:Uc.getIsInMobileView,showMobileViewOnDesktop:Uc.getShowMobileViewOnDesktop})}))(Av=function(e){!function SearchElementsSelectorView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SearchElementsSelectorView_setPrototypeOf(e,t)}(SearchElementsSelectorView,e);var t=SearchElementsSelectorView_createSuper(SearchElementsSelectorView);function SearchElementsSelectorView(){var e;SearchElementsSelectorView_classCallCheck(this,SearchElementsSelectorView);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return SearchElementsSelectorView_defineProperty(SearchElementsSelectorView_assertThisInitialized(e=t.call.apply(t,[this].concat(n))),"selectorRef",null),SearchElementsSelectorView_defineProperty(SearchElementsSelectorView_assertThisInitialized(e),"dropdownMenuRef",null),SearchElementsSelectorView_defineProperty(SearchElementsSelectorView_assertThisInitialized(e),"state",{isOpenedDropdown:!1,dropdownMenuWidth:0}),e}return function SearchElementsSelectorView_createClass(e,t,r){return t&&SearchElementsSelectorView_defineProperties(e.prototype,t),r&&SearchElementsSelectorView_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(SearchElementsSelectorView,[{key:"setElementRef",value:function setElementRef(e){this.selectorRef=e}},{key:"setDropdownMenuRef",value:function setDropdownMenuRef(e){this.dropdownMenuRef=e}},{key:"render",value:function render(){var e=this;return(0,l.jsx)(jg,{className:"for-selector",showTooltip:this.props.showTooltip,locale:this.props.locale,onClickCloseTooltip:this.props.onClickCloseTooltip,content:(0,l.jsx)("div",{className:"input-selector-tooltip",children:this.props.tooltipText}),children:(0,l.jsxs)("div",{className:el()("platform-input-selector in-back load-element",{in:!this.props.loadedElements,"is-opened":this.state.isOpenedDropdown}),ref:this.setElementRef.bind(this),style:{width:!this.state.dropdownMenuWidth||this.props.isInMobileView||this.props.showMobileViewOnDesktop?"100%":"".concat(this.state.dropdownMenuWidth,"px")},children:[(0,l.jsx)(LoaderView,{loaded:this.props.loadedElements}),(0,l.jsxs)("div",{className:el()("platform-input-selected-btn",{"is-disabled":!this.props.elementsForSelect||this.props.elementsForSelect.length<=0}),onClick:this.onClickDropDown.bind(this),children:[(0,l.jsx)("input",{className:"platform-input-selected-txt",type:"text",onChange:this.props.onTypeOption,placeholder:this.props.selectedOption||this.props.placeholderText}),(0,l.jsx)("i",{className:"icon-angle-down"})]}),this.props.elementsForSelect&&this.props.elementsForSelect.length>0?(0,l.jsxs)("div",{className:"platform-input-component-view",ref:this.setDropdownMenuRef.bind(this),children:[(0,l.jsx)("div",{className:"platform-input-component-value",style:{visibility:"hidden",opacity:0,height:"0px",paddingTop:"0px",paddingBottom:"0px",border:"none"},children:this.props.placeholderText},this.props.placeholderText),this.props.elementsForSelect.map((function(t){return(0,l.jsx)("div",{className:el()("platform-input-component-value",{"is-selected":t.key==e.props.selectedOptionKey}),onClick:e.onChangeElement.bind(e,t.key),children:t.value},t.key)}))]}):null]})})}},{key:"componentDidMount",value:function componentDidMount(){this.calculateElementLength()}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){e.isInMobileView===this.props.isInMobileView&&e.showMobileViewOnDesktop===this.props.showMobileViewOnDesktop&&e.placeholderText===this.props.placeholderText&&e.selectedOptionKey===this.props.selectedOptionKey&&e.selectedOption===this.props.selectedOption&&e.loadedElements===this.props.loadedElements&&e.locale===this.props.locale&&t.isOpenedDropdown===this.state.isOpenedDropdown||this.calculateElementLength()}},{key:"onClickDropDown",value:function onClickDropDown(e){var t=this;if(e.preventDefault(),this.props.elementsForSelect&&!(this.props.elementsForSelect.length<=0)){var r=function closeMenu(e){t.selectorRef&&!t.selectorRef.contains(e.target)?t.setState({isOpenedDropdown:!1},(function(){t.props.onToggleStopEventPropagation(!1),document.removeEventListener("click",closeMenu)})):(t.props.onToggleStopEventPropagation(!1),document.removeEventListener("click",closeMenu))};this.setState({isOpenedDropdown:!this.state.isOpenedDropdown},(function(){t.props.onToggleStopEventPropagation(!0),document.addEventListener("click",r)}))}}},{key:"onChangeElement",value:function onChangeElement(e){!this.props.elementsForSelect||this.props.elementsForSelect.length<=0||(this.setState({isOpenedDropdown:!1}),this.props.onChangeElement(e))}},{key:"calculateElementLength",value:function calculateElementLength(){this.props.elementsForSelect.length>0&&this.dropdownMenuRef&&this.setState({dropdownMenuWidth:this.dropdownMenuRef.offsetWidth})}}]),SearchElementsSelectorView}(zc.PureComponent))||Av,jv=r(7997);function InfoDropdownView(e){return(0,l.jsxs)("div",{className:el()("infos",{"hide-info":!e.showDropdown,"warning-info":!e.warningTypeDropdown,rejected:e.rejectedTypeDropdown,banned:e.bannedTypeDropdown,"arrow-icon-info":!e.arrowIconTypeDropdown,"no-drop-down":e.noDropDown}),children:[e.warningTypeDropdown?null:(0,l.jsx)("img",{className:"warning-icon",src:jv,alt:"warning",title:"warning"}),e.rejectedTypeDropdown?(0,l.jsx)("img",{className:"warning-icon",src:jv,alt:"warning",title:"warning"}):null,(0,l.jsxs)("div",{className:"info-rules-visible",children:[e.dropdownText?[e.onClickToggleShowDropdown?(0,l.jsxs)("span",{className:"title link-hide-rules",onClick:e.onClickToggleShowDropdown.bind(null,e.showDropdown),children:[(0,l.jsx)("span",{children:e.dropdownText}),(0,l.jsx)("i",{className:"icon-less"})]},"0"):null,e.onClickToggleShowDropdown?null:(0,l.jsx)("span",{className:"title",children:e.dropdownText},"1")]:null,(0,l.jsx)("ul",{className:"info-rules-rule",children:e.children})]}),e.dropdownText?(0,l.jsxs)("div",{className:"info-rules-hidden",children:[e.onClickToggleShowDropdown?(0,l.jsxs)("span",{className:"title link-show-rules",onClick:e.onClickToggleShowDropdown.bind(null,e.showDropdown),children:[(0,l.jsx)("span",{children:e.dropdownText}),(0,l.jsx)("i",{className:"icon-add"})]}):null,e.onClickToggleShowDropdown?null:(0,l.jsx)("span",{className:"title link-show-rules",children:e.dropdownText})]}):null]})}function AvatarInfoDropdownView(e){return(0,l.jsx)(InfoDropdownView,{showDropdown:!0,warningTypeDropdown:!1,arrowIconTypeDropdown:!1,onClickToggleShowDropdown:function onClickToggleShowDropdown(){},dropdownText:null,children:e.hasGalleryServiceError?(0,l.jsx)("li",{className:el()({ko:e.hasGalleryServiceError}),children:(0,l.jsx)(xg,{children:"An error has occurred, please try again later."})}):null})}function ChangeAvatarFromGalleryView(e){return(0,l.jsxs)("div",{className:"choose-from-gallery-container",children:[e.isInMobileView?(0,l.jsx)("h2",{children:(0,l.jsx)(xg,{children:"Choose from gallery"})}):null,e.hasServiceError?(0,l.jsx)(AvatarInfoDropdownView,{hasGalleryServiceError:e.hasServiceError}):null,(0,l.jsx)(Iv,{selectedOptionKey:e.selectedGameCode,selectedOption:e.selectedGameName,elementsForSelect:e.avatarsForSelect,onChangeElement:e.onChangeGame,onTypeOption:e.onTypeGameName,loadedElements:e.loadedAvatars,onToggleStopEventPropagation:e.onToggleStopEventPropagation,showTooltip:e.showGameSelectorTooltip,locale:e.locale,onClickCloseTooltip:e.onClickCloseGameSelectorTooltip,tooltipText:(0,l.jsx)(xg,{gamesOwned:0,children:"[gamesOwned] games owned"})}),(0,l.jsx)("div",{className:"avatars-container",children:e.avatarsFromGalleryByGameCode.map((function(t){return(0,l.jsx)("div",{className:el()("avatar-img-container",{"is-selected":t.avatarId==e.selectedAvatarId}),onClick:e.onClickAvatar.bind(null,t.avatarId),children:(0,l.jsx)("img",{src:t.imageVariations.find((function(e){return 146===e.width})).url})},t.avatarId)}))}),e.selectedAvatarId?(0,l.jsxs)("div",{className:"avatars-confirmation-container",children:[(0,l.jsx)("h1",{children:"Placeholder"}),(0,l.jsx)("div",{className:"decline-btn cta",children:"Placeholder"})]}):null]})}function ChangeAvatarView(e){return(0,l.jsxs)("div",{className:"contentBlock avatarEdit",children:[e.isInMobileView||e.showMobileViewOnDesktop?(0,l.jsxs)("div",{className:"change-avatar-mobile",children:[(0,l.jsxs)("div",{className:"change-avatar-mobile-header",children:[(0,l.jsx)(GoBackView,{onClickGoBack:e.onClickGoBack,showChangeAvatarText:!1}),(0,l.jsx)("div",{className:"sectionTitle",children:(0,l.jsx)(xg,{children:"Avatar edition"})})]}),(0,l.jsx)(ChangeAvatarFromGalleryView,{selectedGameCode:e.selectedGameCode,selectedGameName:e.selectedGameName,avatarsForSelect:e.avatarsForSelect,onChangeGame:e.onChangeGame,onTypeGameName:e.onTypeGameName,loadedAvatars:e.loadedAvatars,avatarsFromGalleryByGameCode:e.avatarsFromGalleryByGameCode,onClickAvatar:e.onClickAvatar,selectedAvatarId:e.selectedAvatarId,onClickCancelSaveAvatar:e.onClickCancelSaveAvatar,onClickSaveAvatar:e.onClickSaveAvatar,loadedAvatar:e.loadedAvatar,showSelectedAvatarOverlay:e.showSelectedAvatarOverlay,onToggleStopEventPropagation:e.onToggleStopEventPropagation,showGameSelectorTooltip:e.showGameSelectorTooltip,locale:e.locale,onClickCloseGameSelectorTooltip:e.onClickCloseGameSelectorTooltip,isInMobileView:e.isInMobileView||e.showMobileViewOnDesktop,hasServiceError:e.hasGalleryServiceError})]}):null,e.isInMobileView||e.showMobileViewOnDesktop?null:(0,l.jsxs)("div",{className:"change-avatar-desktop",children:[(0,l.jsx)("div",{className:"sectionTitle",children:(0,l.jsx)(xg,{children:"Avatar edition"})}),(0,l.jsx)("div",{className:"change-avatar-subtitle",children:(0,l.jsx)(xg,{children:"Choose from gallery"})}),(0,l.jsx)(ChangeAvatarFromGalleryView,{selectedGameCode:e.selectedGameCode,selectedGameName:e.selectedGameName,avatarsForSelect:e.avatarsForSelect,onChangeGame:e.onChangeGame,onTypeGameName:e.onTypeGameName,loadedAvatars:e.loadedAvatars,avatarsFromGalleryByGameCode:e.avatarsFromGalleryByGameCode,onClickAvatar:e.onClickAvatar,selectedAvatarId:e.selectedAvatarId,onClickCancelSaveAvatar:e.onClickCancelSaveAvatar,onClickSaveAvatar:e.onClickSaveAvatar,loadedAvatar:e.loadedAvatar,showSelectedAvatarOverlay:e.showSelectedAvatarOverlay,onToggleStopEventPropagation:e.onToggleStopEventPropagation,showGameSelectorTooltip:e.showGameSelectorTooltip,locale:e.locale,onClickCloseGameSelectorTooltip:e.onClickCloseGameSelectorTooltip,isInMobileView:e.isInMobileView||e.showMobileViewOnDesktop,hasServiceError:e.hasGalleryServiceError})]})]})}function ChangeAvatarService_typeof(e){return ChangeAvatarService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ChangeAvatarService_typeof(e)}function ChangeAvatarService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ChangeAvatarService_regeneratorRuntime(){ChangeAvatarService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==ChangeAvatarService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function ChangeAvatarService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ChangeAvatarService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){ChangeAvatarService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){ChangeAvatarService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function ChangeAvatarService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeAvatarService_setPrototypeOf(e,t){return ChangeAvatarService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ChangeAvatarService_setPrototypeOf(e,t)}function ChangeAvatarService_createSuper(e){var t=function ChangeAvatarService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ChangeAvatarService_getPrototypeOf(e);if(t){var o=ChangeAvatarService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ChangeAvatarService_possibleConstructorReturn(this,r)}}function ChangeAvatarService_possibleConstructorReturn(e,t){if(t&&("object"===ChangeAvatarService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ChangeAvatarService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ChangeAvatarService_getPrototypeOf(e){return ChangeAvatarService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ChangeAvatarService_getPrototypeOf(e)}var Lv,Ev=injectableForJs([bg,Qy,nh,Jg,qy])(xv=function(e){!function ChangeAvatarService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ChangeAvatarService_setPrototypeOf(e,t)}(ChangeAvatarService,e);var t,r,n,o,i,a=ChangeAvatarService_createSuper(ChangeAvatarService);function ChangeAvatarService(e,t,r,n,o){var i;return function ChangeAvatarService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChangeAvatarService),(i=a.call(this)).avatarService=e,i.communicationService=t,i.analyticsService=r,i.nameChangeService=n,i.commonActionsService=o,i}return function ChangeAvatarService_createClass(e,t,r){return t&&ChangeAvatarService_defineProperties(e.prototype,t),r&&ChangeAvatarService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ChangeAvatarService,[{key:"handleGoBack",value:(i=ChangeAvatarService_asyncToGenerator(ChangeAvatarService_regeneratorRuntime().mark((function _callee(){return ChangeAvatarService_regeneratorRuntime().wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(!J.getStopEventPropagation(this.getState())){e.next=2;break}return e.abrupt("return");case 2:return this.analyticsService.trackEvent("user tab","player card : avatar","global nav","interaction","close edit avatar popup"),this.analyticsService.trackPage("user tab","player card"),e.next=6,this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 6:this.dispatch(new D(!1)),this.dispatch(new W(!1)),this.dispatch(new B(null)),this.dispatch(new W(!1));case 10:case"end":return e.stop()}}),_callee,this)}))),function handleGoBack(){return i.apply(this,arguments)})},{key:"handleShowAvatarComponent",value:(o=ChangeAvatarService_asyncToGenerator(ChangeAvatarService_regeneratorRuntime().mark((function _callee2(){var e;return ChangeAvatarService_regeneratorRuntime().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(!J.getShowAvatarComponent(this.getState())){t.next=4;break}return t.next=3,this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 3:return t.abrupt("return");case 4:return this.analyticsService.trackEvent("user tab","player card","global nav","interaction","edit your avatar"),this.analyticsService.trackPage("user tab","player card : avatar"),e=[this.dispatch(new Zr(!0))],oi.getShowGameContent(this.getState())&&e.push(this.commonActionsService.hideOverviewDetailsGameContent()),Xo.getShowChangeUserName(this.getState())&&(this.nameChangeService.goBackToValidateState(),e.push(this.commonActionsService.hideOverviewDetailsUserNameContent())),e.length&&Promise.all(e),yg.getFilteredAvatarsFromGallery(this.getState())?this.dispatch(new q(!1)):this.dispatch(new q(!0)),t.next=13,this.commonActionsService.toggleOpenDetailsViewState(!0,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 13:this.dispatch(new D(!0));case 14:case"end":return t.stop()}}),_callee2,this)}))),function handleShowAvatarComponent(){return o.apply(this,arguments)})},{key:"loadAvatarsFromGallery",value:(n=ChangeAvatarService_asyncToGenerator(ChangeAvatarService_regeneratorRuntime().mark((function _callee3(){return ChangeAvatarService_regeneratorRuntime().wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.avatarService.loadAvatarsFromGallery();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}),_callee3,this,[[0,6]])}))),function loadAvatarsFromGallery(){return n.apply(this,arguments)})},{key:"onChangeGame",value:function onChangeGame(e){this.dispatch(new M(e)),this.dispatch(new V(null))}},{key:"onTypeGameName",value:function onTypeGameName(e){var t=this;(0,s.debounce)((function(){t.dispatch(new V(e))}),100)()}},{key:"onSlectAvatar",value:function onSlectAvatar(e){J.getStopEventPropagation(this.getState())||(this.dispatch(new W(!0)),this.dispatch(new B(e)))}},{key:"onClickCancelSaveAvatar",value:(r=ChangeAvatarService_asyncToGenerator(ChangeAvatarService_regeneratorRuntime().mark((function _callee4(){return ChangeAvatarService_regeneratorRuntime().wrap((function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:this.analyticsService.trackEvent("user tab","player card : avatar","global nav","interaction","choose from gallery : cancel editing"),this.dispatch(new W(!1)),this.dispatch(new B(null));case 3:case"end":return e.stop()}}),_callee4,this)}))),function onClickCancelSaveAvatar(){return r.apply(this,arguments)})},{key:"onClickSaveAvatar",value:(t=ChangeAvatarService_asyncToGenerator(ChangeAvatarService_regeneratorRuntime().mark((function _callee5(){return ChangeAvatarService_regeneratorRuntime().wrap((function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return this.dispatch(new z(!1)),this.analyticsService.trackEvent("user tab","player card : avatar","global nav","interaction","choose from gallery : save editing"),this.dispatch(new W(!1)),e.prev=3,e.next=6,this.avatarService.saveAvatarFromGallery(J.getAvatarId(this.getState()));case 6:return e.next=8,this.handleGoBack();case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(3),this.dispatch(new z(!0)),e.next=15,this.dispatch(new cr(ChangeAvatarService_defineProperty({},vl.getUserId(this.getState()),yg.getMyAvatarData(this.getState())),ChangeAvatarService_defineProperty({},vl.getUserId(this.getState()),yg.getMyAvatarDataDetails(this.getState())),ChangeAvatarService_defineProperty({},vl.getUserId(this.getState()),yg.getMyAvatarDataImages(this.getState())),ChangeAvatarService_defineProperty({},vl.getUserId(this.getState()),0)));case 15:case"end":return e.stop()}}),_callee5,this,[[3,10]])}))),function onClickSaveAvatar(){return t.apply(this,arguments)})},{key:"onToggleStopEventPropagation",value:function onToggleStopEventPropagation(e){this.dispatch(new H(e))}},{key:"onToggleShowAvatarSelector",value:function onToggleShowAvatarSelector(e){this.dispatch(new q(!e))}},{key:"checkInterval",value:function checkInterval(e){if(this.dispatch(new Q),Ft.getAreAvatarsInMaintenance(this.getState())&&J.getShowAvatarComponent(this.getState())&&(this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect()),e)){e({showTooltip:!0});var t=setTimeot)}),5e3)}}}]),ChangeAvatarService}(ol))||xv;function ChangeAvatarController_typeof(e){return ChangeAvatarController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ChangeAvatarController_typeof(e)}function ChangeAvatarController_regeneratorRuntime(){ChangeAvatarController_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==ChangeAvatarController_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function ChangeAvatarController_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ChangeAvatarController_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){ChangeAvatarController_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){ChangeAvatarController_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function ChangeAvatarController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ChangeAvatarController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeAvatarController_setPrototypeOf(e,t){return ChangeAvatarController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ChangeAvatarController_setPrototypeOf(e,t)}function ChangeAvatarController_createSuper(e){var t=function ChangeAvatarController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ChangeAvatarController_getPrototypeOf(e);if(t){var o=ChangeAvatarController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ChangeAvatarController_possibleConstructorReturn(this,r)}}function ChangeAvatarController_possibleConstructorReturn(e,t){if(t&&("object"===ChangeAvatarController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ChangeAvatarController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ChangeAvatarController_getPrototypeOf(e){return ChangeAvatarController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ChangeAvatarController_getPrototypeOf(e)}var Fv=inject({changeAvatarService:Ev,communicationService:Qy,avatarService:bg})(Lv=(0,Jc.$j)(nl({avatarsFromGallery:[],avatarsFromGalleryByGameCode:[],showAvatarComponent:J.getShowAvatarComponent,locale:me.getCurrentLocale,loadedAvatars:Zo.getLoadedGalleryAvatars,loadedAvatar:Zo.getLoaded,showSelectedAvatarOverlay:J.getShowSelectedAvatarOverlay,stopEventPropagation:J.getStopEventPropagation,isInMobileView:Uc.getIsInMobileView,showGameSelectorTooltip:J.getShowGameSelectorTooltip,showMobileViewOnDesktop:Uc.getShowMobileViewOnDesktop,hasGalleryServiceError:J.getHasGalleryServiceError},rl(Zo.getLoadedGalleryAvatars,nl({avatarsFromGallery:yg.getFilteredAvatarsFromGallery,selectedGameCode:yg.getDefaultInstallmentSpaceIdFromGallery,selectedGameName:yg.getDefaultGameNameFromGallery,avatarsFromGalleryByGameCode:yg.getAvatarsFromGalleryByInstallmentSpaceId,selectedAvatarId:J.getAvatarId}))))(Lv=function(e){!function ChangeAvatarController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ChangeAvatarController_setPrototypeOf(e,t)}(ChangeAvatarController,e);var t,r,n,o,i,a=ChangeAvatarController_createSuper(ChangeAvatarController);function ChangeAvatarController(){return ChangeAvatarController_classCallCheck(this,ChangeAvatarController),a.apply(this,arguments)}return function ChangeAvatarController_createClass(e,t,r){return t&&ChangeAvatarController_defineProperties(e.prototype,t),r&&ChangeAvatarController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ChangeAvatarController,[{key:"render",value:function render(){return(0,l.jsx)(ChangeAvatarView,{showAvatarComponent:this.props.showAvatarComponent,locale:this.props.locale,onClickGoBack:this.onClickGoBack,avatarsForSelect:this.props.avatarsFromGallery,selectedGameCode:this.props.selectedGameCode,selectedGameName:this.props.selectedGameName,onChangeGame:this.onChangeGame,onTypeGameName:this.onTypeGameName,loadedAvatars:this.props.loadedAvatars,avatarsFromGalleryByGameCode:this.props.avatarsFromGalleryByGameCode,onClickAvatar:this.onClickAvatar,selectedAvatarId:this.props.selectedAvatarId,onClickCancelSaveAvatar:this.onClickCancelSaveAvatar,onClickSaveAvatar:this.onClickSaveAvatar,loadedAvatar:this.props.loadedAvatar,showSelectedAvatarOverlay:this.props.showSelectedAvatarOverlay,onToggleStopEventPropagation:this.onToggleStopEventPropagation,isInMobileView:this.props.isInMobileView,showGameSelectorTooltip:this.props.showGameSelectorTooltip,onClickCloseGameSelectorTooltip:this.onClickCloseGameSelectorTooltip,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,hasGalleryServiceError:this.props.hasGalleryServiceError})}},{key:"componentDidMount",value:(i=ChangeAvatarController_asyncToGenerator(ChangeAvatarController_regeneratorRuntime().mark((function _callee(){return ChangeAvatarController_regeneratorRuntime().wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.showAvatarComponent){e.next=5;break}return e.next=3,this.props.avatarService.getMyAvatar();case 3:return e.next=5,this.props.changeAvatarService.loadAvatarsFromGallery();case 5:case"end":return e.stop()}}),_callee,this)}))),function componentDidMount(){return i.apply(this,arguments)})},{key:"componentDidUpdate",value:(o=ChangeAvatarController_asyncToGenerator(ChangeAvatarController_regeneratorRuntime().mark((function _callee2(e){return ChangeAvatarController_regeneratorRuntime().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(!this.props.showAvatarComponent||e.showAvatarComponent===this.props.showAvatarComponent){t.next=3;break}return t.next=3,this.props.changeAvatarService.loadAvatarsFromGallery();case 3:case"end":return t.stop()}}),_callee2,this)}))),function componentDidUpdate(e){return o.apply(this,arguments)})},{key:"onClickGoBack",value:(n=ChangeAvatarController_asyncToGenerator(ChangeAvatarController_regeneratorRuntime().mark((function _callee3(){return ChangeAvatarController_regeneratorRuntime().wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return scrollToTop(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),e.next=3,this.props.changeAvatarService.handleGoBack();case 3:case"end":return e.stop()}}),_callee3,this)}))),function onClickGoBack(){return n.apply(this,arguments)})},{key:"onChangeGame",value:function onChangeGame(e){this.props.changeAvatarService.onChangeGame(e)}},{key:"onTypeGameName",value:function onTypeGameName(e){this.props.changeAvatarService.onTypeGameName(e.target.value)}},{key:"onClickAvatar",value:function onClickAvatar(e){this.props.changeAvatarService.onSlectAvatar(e)}},{key:"onClickCancelSaveAvatar",value:(r=ChangeAvatarController_asyncToGenerator(ChangeAvatarController_regeneratorRuntime().mark((function _callee4(){return ChangeAvatarController_regeneratorRuntime().wrap((function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.changeAvatarService.onClickCancelSaveAvatar();case 2:case"end":return e.stop()}}),_callee4,this)}))),function onClickCancelSaveAvatar(){return r.apply(this,arguments)})},{key:"onClickSaveAvatar",value:(t=ChangeAvatarController_asyncToGenerator(ChangeAvatarController_regeneratorRuntime().mark((function _callee5(){return ChangeAvatarController_regeneratorRuntime().wrap((function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return scrollToTop(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),e.next=3,this.props.changeAvatarService.onClickSaveAvatar();case 3:case"end":return e.stop()}}),_callee5,this)}))),function onClickSaveAvatar(){return t.apply(this,arguments)})},{key:"onToggleStopEventPropagation",value:function onToggleStopEventPropagation(e){this.props.changeAvatarService.onToggleStopEventPropagation(e)}},{key:"onClickCloseGameSelectorTooltip",value:function onClickCloseGameSelectorTooltip(){this.props.changeAvatarService.onToggleShowAvatarSelector(this.props.showGameSelectorTooltip)}}]),ChangeAvatarController}($c))||Lv)||Lv,Gv=r(95774);function NoStatsSvgView(){return(0,l.jsxs)("svg",{width:"209",height:"208",viewBox:"0 0 209 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M94.9231 190.77C142.93 190.77 181.846 193 181.846 195.493C181.846 197.985 142.93 200 94.9231 200C46.9162 200 8 197.985 8 195.493C8 193 46.9162 190.77 94.9231 190.77Z",fill:"#2B2B2B"}),(0,l.jsx)("path",{d:"M108 173.847C148.784 173.847 181.846 140.785 181.846 100C181.846 59.2163 148.784 26.1543 108 26.1543C67.2159 26.1543 34.1538 59.2163 34.1538 100C34.1538 140.785 67.2159 173.847 108 173.847Z",fill:"#2B2B2B"}),(0,l.jsx)("path",{d:"M158.008 170.238H160.146V168.1C160.146 167.596 160.346 167.113 160.703 166.757C161.059 166.4 161.542 166.2 162.046 166.2C162.55 166.2 163.033 166.4 163.39 166.757C163.746 167.113 163.946 167.596 163.946 168.1V170.238H166.085C166.589 170.238 167.072 170.439 167.428 170.795C167.784 171.151 167.985 171.635 167.985 172.138C167.985 172.642 167.784 173.126 167.428 173.482C167.072 173.838 166.589 174.038 166.085 174.038H163.946V176.177C163.946 176.681 163.746 177.164 163.39 177.52C163.033 177.877 162.55 178.077 162.046 178.077C161.542 178.077 161.059 177.877 160.703 177.52C160.346 177.164 160.146 176.681 160.146 176.177V174.038H158.008C157.504 174.038 157.021 173.838 156.664 173.482C156.308 173.126 156.108 172.642 156.108 172.138C156.108 171.635 156.308 171.151 156.664 170.795C157.021 170.439 157.504 170.238 158.008 170.238ZM198.038 94.6077H200.177V92.4692C200.177 91.9653 200.377 91.482 200.733 91.1257C201.09 90.7694 201.573 90.5692 202.077 90.5692C202.581 90.5692 203.064 90.7694 203.42 91.1257C203.777 91.482 203.977 91.9653 203.977 92.4692V94.6077H206.115C206.619 94.6077 207.103 94.8079 207.459 95.1642C207.815 95.5205 208.015 96.0038 208.015 96.5077C208.015 97.0116 207.815 97.4949 207.459 97.8512C207.103 98.2075 206.619 98.4077 206.115 98.4077H203.977V100.546C203.977 101.05 203.777 101.533 203.42 101.89C203.064 102.246 202.581 102.446 202.077 102.446C201.573 102.446 201.09 102.246 200.733 101.89C200.377 101.533 200.177 101.05 200.177 100.546V98.3923H198.038C197.535 98.3923 197.051 98.1921 196.695 97.8358C196.339 97.4795 196.138 96.9962 196.138 96.4923C196.138 95.9884 196.339 95.5051 196.695 95.1488C197.051 94.7925 197.535 94.5923 198.038 94.5923V94.6077ZM143.177 4.02308H145.315V1.9C145.315 1.39609 145.516 0.912816 145.872 0.556497C146.228 0.200178 146.711 0 147.215 0C147.719 0 148.203 0.200178 148.559 0.556497C148.915 0.912816 149.115 1.39609 149.115 1.9V4.02308H151.238C151.742 4.02308 152.226 4.22326 152.582 4.57957C152.938 4.93589 153.138 5.41917 153.138 5.92308C153.138 6.42699 152.938 6.91026 152.582 7.26658C152.226 7.6229 151.742 7.82308 151.238 7.82308H149.1V9.96154C149.1 10.4655 148.9 10.9487 148.543 11.305C148.187 11.6614 147.704 11.8615 147.2 11.8615C146.696 11.8615 146.213 11.6614 145.856 11.305C145.5 10.9487 145.3 10.4655 145.3 9.96154V7.82308H143.177C142.673 7.82308 142.19 7.6229 141.833 7.26658C141.477 6.91026 141.277 6.42699 141.277 5.92308C141.277 5.41917 141.477 4.93589 141.833 4.57957C142.19 4.22326 142.673 4.02308 143.177 4.02308ZM33.9154 23.4231H36.0538V21.2846C36.0538 20.7807 36.254 20.2974 36.6103 19.9411C36.9666 19.5848 37.4499 19.3846 37.9538 19.3846C38.4577 19.3846 38.941 19.5848 39.2973 19.9411C39.6537 20.2974 39.8538 20.7807 39.8538 21.2846V23.4231H41.9923C42.4962 23.4231 42.9795 23.6233 43.3358 23.9796C43.6921 24.3359 43.8923 24.8192 43.8923 25.3231C43.8923 25.827 43.6921 26.3103 43.3358 26.6666C42.9795 27.0229 42.4962 27.2231 41.9923 27.2231H39.8384V29.3615C39.8384 29.8654 39.6383 30.3487 39.2819 30.705C38.9256 31.0614 38.4424 31.2615 37.9384 31.2615C37.4345 31.2615 36.9513 31.0614 36.5949 30.705C36.2386 30.3487 36.0384 29.8654 36.0384 29.3615V27.2077H33.9154C33.4115 27.2077 32.9282 27.0075 32.5719 26.6512C32.2155 26.2949 32.0154 25.8116 32.0154 25.3077C32.0154 24.8038 32.2155 24.3205 32.5719 23.9642C32.9282 23.6079 33.4115 23.4077 33.9154 23.4077V23.4231Z",fill:"#2B2B2B"}),(0,l.jsx)("path",{d:"M9.9 75.3305H12.0385V73.192C12.0385 72.6881 12.2386 72.2048 12.595 71.8485C12.9513 71.4922 13.4346 71.292 13.9385 71.292C14.4424 71.292 14.9256 71.4922 15.282 71.8485C15.6383 72.2048 15.8385 72.6881 15.8385 73.192V75.3305H17.9769C18.4808 75.3305 18.9641 75.5306 19.3204 75.8869C19.6767 76.2433 19.8769 76.7265 19.8769 77.2305C19.8769 77.7344 19.6767 78.2176 19.3204 78.574C18.9641 78.9303 18.4808 79.1304 17.9769 79.1304H15.8385V81.2843C15.8385 81.7882 15.6383 82.2715 15.282 82.6278C14.9256 82.9841 14.4424 83.1843 13.9385 83.1843C13.4346 83.1843 12.9513 82.9841 12.595 82.6278C12.2386 82.2715 12.0385 81.7882 12.0385 81.2843V79.1151H9.9C9.39609 79.1151 8.91282 78.9149 8.5565 78.5586C8.20018 78.2022 8 77.719 8 77.2151C8 76.7112 8.20018 76.2279 8.5565 75.8716C8.91282 75.5152 9.39609 75.3151 9.9 75.3151V75.3305Z",fill:"#2B2B2B"}),(0,l.jsx)("path",{d:"M141.894 71.1533H120.26C118.24 71.1533 116.654 72.7399 116.654 74.7591V85.5764H97.1827C95.1635 85.5764 93.5769 87.1629 93.5769 89.1822V99.9995H74.1058C72.0865 99.9995 70.5 101.586 70.5 103.605V125.24C70.5 127.259 72.0865 128.846 74.1058 128.846H95.7404C95.9567 128.846 96.2452 128.846 96.4615 128.773C96.6779 128.846 96.8942 128.846 97.1827 128.846H118.817C119.106 128.846 119.322 128.846 119.538 128.773C119.755 128.846 120.043 128.846 120.26 128.846H141.894C143.913 128.846 145.5 127.259 145.5 125.24V74.7591C145.5 72.812 143.913 71.1533 141.894 71.1533ZM76.2692 105.769H93.5769V123.076H76.2692V105.769ZM116.654 123.076H99.3462V103.605C99.3462 103.533 99.3462 103.461 99.3462 103.389V91.3456H116.654V123.076ZM139.731 123.076H122.423V76.9225H139.731V123.076Z",fill:"#A8A8A8"}),(0,l.jsx)("path",{d:"M94.3774 156.764L86.6487 132.032L36.814 126.154L21.9264 134.031L14.1538 161.363V176.337L25.8419 180.892L36.8432 169.827L42.6872 161.363H68.5177L77.5759 175.029L86.6341 181.539L95.6923 172.428L94.3774 156.764Z",fill:"#0D0D0D"}),(0,l.jsx)("path",{d:"M21.6263 156.454C19.1495 173.35 29.6865 170.339 35.2698 166.714L38.992 165.501L37.7466 170.325L27.8254 178.774L19.7232 180L14.7696 176.375L14.1538 164.902L17.8761 148.005L25.3205 135.333L29.0148 132.308C25.2272 139.914 22.732 148.069 21.6263 156.454ZM86.6674 156.454C89.1442 173.35 78.6072 170.339 73.0239 166.714L69.3017 165.501L70.603 170.325L80.5243 178.774L88.5845 179.986L93.5381 176.362L94.1538 164.888L90.4316 147.992L82.9871 135.319L79.2229 132.308C83.0299 139.911 85.544 148.066 86.6674 156.454Z",fill:"#2B2B2B"}),(0,l.jsx)("path",{fillRule:"evenodd",d:"M36.3784 125.24C34.7873 125.24 31.8498 125.42 28.7737 126.413C25.6977 127.407 22.4373 129.231 20.2768 132.55C18.1981 135.697 16.3375 140.504 14.6867 145.566C13.3402 149.643 12.2711 154.705 11.5391 159C10.8095 163.281 10.4038 166.867 10.4038 167.981C10.4038 171.641 11.2113 175.66 13.3048 178.784C15.4188 181.937 18.8196 184.134 23.8721 184.134C29.4588 184.134 33.8 180.375 38.0176 173.346C38.7331 172.165 40.4572 168.812 41.5408 166.432L41.5437 166.425C41.9544 165.493 42.8831 164.915 43.8695 164.915H64.4382C65.4813 164.915 66.3505 165.486 66.7639 166.425L66.7669 166.432C67.8508 168.812 69.5756 172.167 70.2907 173.347C74.5687 180.371 78.8471 184.134 84.4355 184.134C89.4881 184.134 92.8888 181.937 95.0028 178.784C97.0964 175.66 97.9038 171.641 97.9038 167.981C97.9038 166.867 97.4982 163.266 96.7686 158.977C96.0367 154.673 94.9676 149.611 93.6209 145.566C91.9701 140.504 90.1096 135.697 88.031 132.55C85.8705 129.231 82.61 127.407 79.534 126.413C76.4578 125.42 73.5204 125.24 71.9292 125.24H36.3784ZM93.6209 145.566L93.6202 145.564L93.0693 145.75L93.6209 145.566ZM25.5005 136.015C26.8455 133.949 29.1879 132.817 31.4497 132.207C33.6989 131.601 35.7698 131.538 36.4419 131.538H71.9292C72.6011 131.538 74.656 131.601 76.8972 132.207C79.149 132.816 81.4946 133.948 82.8723 136.017C84.2876 138.191 85.9179 142.035 87.7565 147.537C88.9497 151.213 89.9437 155.889 90.6401 159.882C91.3398 163.894 91.7264 167.143 91.7264 167.981C91.7264 170.917 91.0426 173.545 89.9221 175.211L89.9195 175.215C88.7798 176.94 87.0782 177.772 84.5625 177.772C83.6233 177.772 82.4923 177.579 81.0709 176.539C79.627 175.482 77.8657 173.537 75.7277 169.984C75.1683 169.042 73.5312 165.929 72.5903 163.714L72.5848 163.701C71.1571 160.545 67.9667 158.489 64.5651 158.489H43.9964C40.529 158.489 37.4036 160.547 35.9769 163.701C34.9764 165.909 33.3493 169.006 32.8287 169.991C30.6004 173.535 28.7948 175.479 27.3275 176.536C25.8802 177.58 24.7472 177.772 23.8086 177.772C22.5055 177.772 21.4539 177.558 20.592 177.141C19.7354 176.727 19.0347 176.097 18.4517 175.215L18.449 175.211C17.3291 173.545 16.6448 170.854 16.6448 167.981C16.6448 167.142 17.0161 163.891 17.7074 159.881C18.396 155.888 19.3899 151.213 20.6139 147.539L20.615 147.536C22.3903 142.097 24.0211 138.254 25.4984 136.018L25.5005 136.015Z",fill:"#4A4A4A"}),(0,l.jsx)("path",{d:"M43.1954 143.252H40.2068V140.236C40.2068 138.762 39.0114 137.556 37.5503 137.556C36.0892 137.556 34.8937 138.762 34.8937 140.236V143.252H31.9051C30.444 143.252 29.2486 144.459 29.2486 145.933C29.2486 147.408 30.444 148.614 31.9051 148.614H34.8937V151.63C34.8937 153.104 36.0892 154.311 37.5503 154.311C39.0114 154.311 40.2068 153.104 40.2068 151.63V148.614H43.1954C44.6565 148.614 45.852 147.408 45.852 145.933C45.852 144.459 44.6565 143.252 43.1954 143.252Z",fill:"#4A4A4A"}),(0,l.jsx)("path",{d:"M66.6066 145.933C64.3237 145.933 62.4558 147.818 62.4558 150.121C62.4558 152.425 64.3237 154.31 66.6066 154.31C68.8896 154.31 70.7575 152.425 70.7575 150.121C70.7575 147.818 68.9934 145.933 66.6066 145.933Z",fill:"#4A4A4A"}),(0,l.jsx)("path",{d:"M73.2476 137.556C70.9647 137.556 69.0968 139.441 69.0968 141.744C69.0968 144.048 70.9647 145.933 73.2476 145.933C75.5306 145.933 77.3985 144.048 77.3985 141.744C77.3985 139.441 75.5306 137.556 73.2476 137.556Z",fill:"#4A4A4A"})]})}function LastPlayedGameStatsView(e){return(0,l.jsxs)("div",{className:"user-game-stats-view",children:[(0,l.jsxs)("ul",{className:el()("currently-playing_content_stats in-back load-element",{in:!e.isLoadedGameStats}),children:[(0,l.jsx)(LoaderView,{loaded:e.isLoadedGameStats}),e.showTitle?(0,l.jsx)("div",{className:"selected-game-stats-title",children:(0,l.jsx)(xg,{children:"Stats"})}):null,e.hasLastPlayedGameStats&&e.lastPlayedGameStats.length?e.lastPlayedGameStats.map((function(e){return(0,l.jsx)("li",{className:el()("currently-playing_content_stats_item",e.format,e.unit,e.semantic,{"play-level":e.format===ud||e.unit===wd,time:e.format!==ud&&e.unit!==wd}),children:e.format===ud||e.unit===wd?[(0,l.jsx)("div",{className:"stats-level-container",children:(0,l.jsx)("span",{className:"stats-level-label",children:e.name})},"0"),(0,l.jsxs)("div",{className:"stats-level-progress-bar-container",children:[(0,l.jsx)("div",{className:"stats-level-range-container",children:(0,l.jsx)("span",{className:"stats-level-number",children:e.formattedValue.map((function(e){return(0,l.jsxs)("span",{children:[e.value,e.isUnit?"":null]},e.value)}))})}),(0,l.jsx)("div",{className:"stats-level-progress-bar",children:e.formattedValue.map((function(e){return e.isUnit?(0,l.jsx)("noscript",{},e.value):(0,l.jsx)("span",{style:{width:"".concat(e.value,"%")}},e.value)}))})]},"1")]:[(0,l.jsx)("span",{className:"stats-time-label",children:e.name},"0"),(0,l.jsx)("span",{className:"stats-level-ammount",children:e.formattedValue.map((function(e){return(0,l.jsxs)("span",{children:[e.value,e.isUnit?"":null]},e.value)}))},"1")]},e.id)})):null,e.hasLastPlayedGameStats&&e.lastPlayedGameStats.length?null:(0,l.jsxs)("li",{className:"noStats",children:[(0,l.jsxs)("span",{children:[(0,l.jsx)(xg,{children:"There are no stats available for this game."}),""]}),e.isFriendGame?(0,l.jsx)("span",{children:(0,l.jsx)(xg,{children:"But we all know there's no way your friend could be better than you. Right?"})}):null,e.isFriendGame?null:(0,l.jsx)("span",{children:(0,l.jsx)(xg,{children:"That's OK, we know you're the best!"})})]})]}),!e.hasLastPlayedGameStats&&e.isLoadedGameStats?(0,l.jsx)("div",{className:el()("noStats-container"),children:(0,l.jsx)("div",{className:"noStats-illustration",children:(0,l.jsx)(NoStatsSvgView,{})})}):null,e.showLink&&e.hasLastPlayedGameStats&&e.lastPlayedGameStats.length?(0,l.jsx)("div",{className:"stats-button-container",children:(0,l.jsx)("button",{className:"btn primary",onClick:e.onClickGameStats.bind(null),children:(0,l.jsx)(xg,{children:"See more stats"})})}):null]})}function FriendsPlayingGameView(e){return(0,l.jsx)("div",{className:"friends-playing-game-view",children:e.nbFriendsPlaying&&(!e.friends||e.friends&&0==e.friends.length)?[1==e.nbFriendsPlaying?(0,l.jsx)(xg,{children:"This is your only friend who plays this game."},"0"):null,e.nbFriendsPlaying>1?(0,l.jsx)(xg,{friends:e.nbFriendsPlaying,children:"[friends] friends are also playing"},"1"):null]:1==e.friends.length?(0,l.jsx)(xg,{friendName:(0,l.jsxs)("span",{className:"friend-playing-game-name",children:[e.friends[0],""]}),children:"[friendName] is also playing this game"}):2==e.friends.length?(0,l.jsx)(xg,{firstFriend:(0,l.jsxs)("span",{className:"friend-playing-game-name",children:[e.friends[0],""]}),secondFriend:(0,l.jsxs)("span",{className:"friend-playing-game-name",children:["",e.friends[1],""]}),children:"[firstFriend] and [secondFriend] are also playing this game"}):3==e.friends.length?(0,l.jsx)(xg,{firstFriend:(0,l.jsx)("span",{className:"friend-playing-game-name",children:e.friends[0]}),secondFriend:(0,l.jsxs)("span",{className:"friend-playing-game-name",children:["",e.friends[1],""]}),thirdFriend:(0,l.jsxs)("span",{className:"friend-playing-game-name",children:["",e.friends[2],""]}),children:"[firstFriend], [secondFriend] and [thirdFriend] are also playing this game"}):e.friends.length>3?(0,l.jsx)(xg,{firstFriend:(0,l.jsx)("span",{className:"friend-playing-game-name",children:e.friends[0]}),secondFriend:(0,l.jsxs)("span",{className:"friend-playing-game-name",children:["",e.friends[1],""]}),remainingFriends:(0,l.jsxs)("span",{children:["",(0,l.jsx)(xg,{numberOfOtherFriends:e.friends.length-2,children:"[numberOfOtherFriends] other friends"}),""]}),children:"[firstFriend], [secondFriend] and [remainingFriends] are also playing this game."}):0==e.friends.length&&e.isFriendGame?(0,l.jsx)(xg,{children:"This is your only friend who plays this game."}):(0,l.jsx)("span",{className:"noFriendsPLaying",children:(0,l.jsx)(xg,{children:"None of your friends have played this game yet. Sharing is caring!"})})})}function GameView(e){var t=e.lastPlayedGameCoverUrl?{background:'url("'.concat(e.lastPlayedGameCoverUrl,'")')}:null;return(0,l.jsxs)("div",{className:el()("selected-content-view selected-game-top-view",{"is-friend":e.isFriendGame}),children:[e.isFriendGame?null:(0,l.jsx)("div",{className:"selected-game-formated-date mobile",children:(0,l.jsx)(FormattedLastDatePlayedView,{gameDate:e.gameDate,gameTitle:e.gameTitle,hasNoSessionData:e.hasNoSessionData,showGameTitle:!0})}),(0,l.jsxs)("div",{className:"selected-game-img",children:[e.gameImageUrl?(0,l.jsx)("img",{src:e.gameImageUrl}):null,e.gameImageUrl?null:(0,l.jsx)("div",{className:"other-game-no-image"})]}),(0,l.jsxs)("div",{className:"selected-game-details",children:[e.isFriendGame?null:(0,l.jsx)("div",{className:"selected-game-formated-date desktop",children:(0,l.jsx)(FormattedLastDatePlayedView,{gameDate:e.gameDate,gameTitle:e.gameTitle,hasNoSessionData:e.hasNoSessionData,showGameTitle:!1})}),(0,l.jsxs)("div",{className:"selected-game-name-and-platform",children:[e.isInMobileView&&e.hasNoSessionData&&!e.isFriendGame?null:(0,l.jsx)("div",{className:"selected-game-name",children:e.gameTitle}),(0,l.jsx)(Bg,{lastPlayedGameId:e.gameId,selectedPlatformCode:e.selectedPlatformCode,platformsForSelect:e.platformsForSelect,onChangePlatform:e.onChangePlatform,loadedLastPlayedGame:e.loadedGame,hasLastPlayedGame:!0,hasOwnedPlatforms:e.hasOwnedPlatforms,hasOnlyOnePlatform:e.hasOnlyOnePlatform})]}),(0,l.jsxs)("div",{className:el()("selected-game-friends in-back load-element",{in:!e.loadedFriends}),children:[(0,l.jsx)(LoaderView,{loaded:e.loadedFriends}),e.loadedFriends?(0,l.jsx)(FriendsPlayingGameView,{friends:e.friendsPlaying,nbFriendsPlaying:e.nbFriendsPlaying,isFriendGame:e.isFriendGame}):null]})]}),(0,l.jsx)("div",{className:"game-big-cover",style:t})]})}function GradientView(e){return(0,l.jsx)("svg",{style:{height:0,width:0},children:(0,l.jsx)("defs",{children:(0,l.jsx)("linearGradient",{id:e.gradientId,gradientTransform:e.gradientTransform,children:e.pColor},e.offset)}))})})})}function NoRewardsSvgView(){return(0,l.jsxs)("svg",{width:"209",height:"208",viewBox:"0 0 209 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M94.9231 190.77C142.93 190.77 181.846 193 181.846 195.493C181.846 197.985 142.93 200 94.9231 200C46.9162 200 8 197.985 8 195.493C8 193 46.9162 190.77 94.9231 190.77Z",fill:"#2B2B2B"}),(0,l.jsx)("path",{d:"M108 173.847C148.784 173.847 181.846 140.785 181.846 100C181.846 59.2163 148.784 26.1543 108 26.1543C67.2159 26.1543 34.1538 59.2163 34.1538 100C34.1538 140.785 67.2159 173.847 108 173.847Z",fill:"#2B2B2B"}),(0,l.jsx)("path",{d:"M158.008 170.238H160.146V168.1C160.146 167.596 160.346 167.113 160.703 166.757C161.059 166.4 161.542 166.2 162.046 166.2C162.55 166.2 163.033 166.4 163.39 166.757C163.746 167.113 163.946 167.596 163.946 168.1V170.238H166.085C166.589 170.238 167.072 170.439 167.428 170.795C167.784 171.151 167.985 171.635 167.985 172.138C167.985 172.642 167.784 173.126 167.428 173.482C167.072 173.838 166.589 174.038 166.085 174.038H163.946V176.177C163.946 176.681 163.746 177.164 163.39 177.52C163.033 177.877 162.55 178.077 162.046 178.077C161.542 178.077 161.059 177.877 160.703 177.52C160.346 177.164 160.146 176.681 160.146 176.177V174.038H158.008C157.504 174.038 157.02 173.838 156.664 173.482C156.308 173.126 156.108 172.642 156.108 172.138C156.108 171.635 156.308 171.151 156.664 170.795C157.02 170.439 157.504 170.238 158.008 170.238ZM198.038 94.6077H200.177V92.4692C200.177 91.9653 200.377 91.482 200.733 91.1257C201.09 90.7694 201.573 90.5692 202.077 90.5692C202.581 90.5692 203.064 90.7694 203.42 91.1257C203.777 91.482 203.977 91.9653 203.977 92.4692V94.6077H206.115C206.619 94.6077 207.103 94.8079 207.459 95.1642C207.815 95.5205 208.015 96.0038 208.015 96.5077C208.015 97.0116 207.815 97.4949 207.459 97.8512C207.103 98.2075 206.619 98.4077 206.115 98.4077H203.977V100.546C203.977 101.05 203.777 101.533 203.42 101.89C203.064 102.246 202.581 102.446 202.077 102.446C201.573 102.446 201.09 102.246 200.733 101.89C200.377 101.533 200.177 101.05 200.177 100.546V98.3923H198.038C197.535 98.3923 197.051 98.1921 196.695 97.8358C196.339 97.4795 196.138 96.9962 196.138 96.4923C196.138 95.9884 196.339 95.5051 196.695 95.1488C197.051 94.7925 197.535 94.5923 198.038 94.5923V94.6077ZM143.177 4.02308H145.315V1.9C145.315 1.39609 145.516 0.912816 145.872 0.556497C146.228 0.200178 146.711 0 147.215 0C147.719 0 148.203 0.200178 148.559 0.556497C148.915 0.912816 149.115 1.39609 149.115 1.9V4.02308H151.238C151.742 4.02308 152.226 4.22326 152.582 4.57957C152.938 4.93589 153.138 5.41917 153.138 5.92308C153.138 6.42699 152.938 6.91026 152.582 7.26658C152.226 7.6229 151.742 7.82308 151.238 7.82308H149.1V9.96154C149.1 10.4655 148.9 10.9487 148.543 11.305C148.187 11.6614 147.704 11.8615 147.2 11.8615C146.696 11.8615 146.213 11.6614 145.856 11.305C145.5 10.9487 145.3 10.4655 145.3 9.96154V7.82308H143.177C142.673 7.82308 142.19 7.6229 141.833 7.26658C141.477 6.91026 141.277 6.42699 141.277 5.92308C141.277 5.41917 141.477 4.93589 141.833 4.57957C142.19 4.22326 142.673 4.02308 143.177 4.02308ZM33.9154 23.4231H36.0538V21.2846C36.0538 20.7807 36.254 20.2974 36.6103 19.9411C36.9666 19.5848 37.4499 19.3846 37.9538 19.3846C38.4577 19.3846 38.941 19.5848 39.2973 19.9411C39.6536 20.2974 39.8538 20.7807 39.8538 21.2846V23.4231H41.9923C42.4962 23.4231 42.9795 23.6233 43.3358 23.9796C43.6921 24.3359 43.8923 24.8192 43.8923 25.3231C43.8923 25.827 43.6921 26.3103 43.3358 26.6666C42.9795 27.0229 42.4962 27.2231 41.9923 27.2231H39.8384V29.3615C39.8384 29.8654 39.6383 30.3487 39.2819 30.705C38.9256 31.0614 38.4423 31.2615 37.9384 31.2615C37.4345 31.2615 36.9512 31.0614 36.5949 30.705C36.2386 30.3487 36.0384 29.8654 36.0384 29.3615V27.2077H33.9154C33.4114 27.2077 32.9282 27.0075 32.5718 26.6512C32.2155 26.2949 32.0154 25.8116 32.0154 25.3077C32.0154 24.8038 32.2155 24.3205 32.5718 23.9642C32.9282 23.6079 33.4114 23.4077 33.9154 23.4077V23.4231Z",fill:"#2B2B2B"}),(0,l.jsx)("path",{d:"M9.9 75.3305H12.0385V73.192C12.0385 72.6881 12.2386 72.2048 12.595 71.8485C12.9513 71.4922 13.4346 71.292 13.9385 71.292C14.4424 71.292 14.9256 71.4922 15.282 71.8485C15.6383 72.2048 15.8385 72.6881 15.8385 73.192V75.3305H17.9769C18.4808 75.3305 18.9641 75.5306 19.3204 75.8869C19.6767 76.2433 19.8769 76.7265 19.8769 77.2305C19.8769 77.7344 19.6767 78.2176 19.3204 78.574C18.9641 78.9303 18.4808 79.1304 17.9769 79.1304H15.8385V81.2843C15.8385 81.7882 15.6383 82.2715 15.282 82.6278C14.9256 82.9841 14.4424 83.1843 13.9385 83.1843C13.4346 83.1843 12.9513 82.9841 12.595 82.6278C12.2386 82.2715 12.0385 81.7882 12.0385 81.2843V79.1151H9.9C9.39609 79.1151 8.91282 78.9149 8.5565 78.5586C8.20018 78.2022 8 77.719 8 77.2151C8 76.7112 8.20018 76.2279 8.5565 75.8716C8.91282 75.5152 9.39609 75.3151 9.9 75.3151V75.3305Z",fill:"#2B2B2B"}),(0,l.jsx)("path",{d:"M117.368 62.157L117.355 62.1585L117.343 62.1607C112.708 62.9617 109.053 66.4894 108.221 70.9982L108 72.1885L107.779 70.9982C106.948 66.4946 103.3 62.9698 98.673 62.1635C97.9853 61.9999 97.2297 62 96.618 62L96.5912 62C93.5987 62 90.8457 63.2083 88.7003 65.2849C86.0497 67.8506 84.8788 71.3878 85.5404 75.0056C86.1409 78.9819 89.1481 82.2144 93.0803 83.4286L80.2356 83.4285C77.7769 83.4285 75.7692 85.1954 75.7692 87.6533V104.018C75.7692 106.264 77.4716 108.25 79.7356 108.507V133.691C79.7356 136.17 81.9935 138 84.4297 138H131.966C134.503 138 136.264 135.862 136.264 133.482V108.506C138.318 108.261 140.231 106.534 140.231 104.018V87.6533V87.6438L140.23 87.6342C140.141 85.2914 138.248 83.4285 135.764 83.4285L122.915 83.4286C126.833 82.21 129.709 78.959 130.452 74.9381C131.116 71.401 129.954 67.7017 127.294 65.2054C125.144 63.1255 122.472 62 119.409 62C118.742 62 118.002 62.0803 117.368 62.157ZM120.192 76.8085L114.469 77.8343L114.752 76.0825L115.464 72.254L115.464 72.251C115.742 70.7035 117.077 69.4012 118.7 69.128L118.735 69.122L118.77 69.1108C118.917 69.0636 119.144 69.0583 119.488 69.0583C120.542 69.0583 121.528 69.4647 122.309 70.2212C123.218 71.1002 123.643 72.3899 123.432 73.6885C123.152 75.2343 121.819 76.5346 120.197 76.8075L120.192 76.8085ZM96.037 76.807C94.3082 76.5281 92.8432 75.2112 92.5694 73.6922C92.3564 72.452 92.7204 71.0905 93.6804 70.2276L93.6873 70.2215L93.6939 70.215C94.4622 69.4714 95.5973 69.0577 96.6704 69.0577C96.6863 69.0577 96.7013 69.0577 96.7155 69.0577C96.854 69.0576 96.9194 69.0576 96.9852 69.0632C97.0483 69.0686 97.1199 69.0802 97.267 69.1158L97.2842 69.1199L97.3016 69.1229C98.9481 69.4 100.42 70.7263 100.694 72.2519L100.695 72.2548L101.408 76.0914L101.408 76.0914L101.409 76.0952L101.745 77.8301L96.0456 76.8085L96.0456 76.8084L96.037 76.807ZM133.942 102.179H111.144V89.7857H133.942V102.179ZM82.0577 89.7857H104.856V102.179H82.0577V89.7857ZM86.024 108.536H104.856V131.643H86.024V108.536ZM129.976 131.643H111.144V108.536H129.976V131.643Z",fill:"#A8A8A8",stroke:"black"}),(0,l.jsx)("path",{d:"M94.3774 156.764L86.6487 132.032L36.814 126.154L21.9264 134.031L14.1538 161.363V176.337L25.8418 180.892L36.8432 169.827L42.6872 161.363H68.5177L77.5759 175.029L86.6341 181.539L95.6923 172.428L94.3774 156.764Z",fill:"#0D0D0D"}),(0,l.jsx)("path",{d:"M21.6263 156.454C19.1495 173.35 29.6865 170.339 35.2698 166.714L38.992 165.501L37.7466 170.325L27.8253 178.774L19.7232 180L14.7695 176.375L14.1538 164.902L17.8761 148.005L25.3205 135.333L29.0148 132.308C25.2272 139.914 22.732 148.069 21.6263 156.454ZM86.6674 156.454C89.1442 173.35 78.6072 170.339 73.0239 166.714L69.3016 165.501L70.603 170.325L80.5243 178.774L88.5845 179.986L93.5381 176.362L94.1538 164.888L90.4316 147.992L82.9871 135.319L79.2229 132.308C83.0298 139.911 85.544 148.066 86.6674 156.454Z",fill:"#2B2B2B"}),(0,l.jsx)("path",{fillRule:"evenodd",d:"M36.3784 125.24C34.7873 125.24 31.8498 125.42 28.7736 126.413C25.6977 127.407 22.4373 129.231 20.2768 132.55C18.1981 135.697 16.3375 140.504 14.6867 145.566C13.3402 149.643 12.2711 154.705 11.539 159C10.8095 163.281 10.4038 166.867 10.4038 167.981C10.4038 171.641 11.2113 175.66 13.3048 178.784C15.4188 181.937 18.8195 184.134 23.8721 184.134C29.4587 184.134 33.7999 180.375 38.0176 173.346C38.7331 172.165 40.4572 168.812 41.5408 166.432L41.5437 166.425C41.9544 165.493 42.8831 164.915 43.8695 164.915H64.4382C65.4813 164.915 66.3505 165.486 66.7639 166.425L66.7669 166.432C67.8508 168.812 69.5756 172.167 70.2907 173.347C74.5687 180.371 78.8471 184.134 84.4355 184.134C89.4881 184.134 92.8888 181.937 95.0028 178.784C97.0964 175.66 97.9038 171.641 97.9038 167.981C97.9038 166.867 97.4982 163.266 96.7686 158.977C96.0367 154.673 94.9676 149.611 93.6208 145.566C91.9701 140.504 90.1095 135.697 88.031 132.55C85.8705 129.231 82.61 127.407 79.534 126.413C76.4578 125.42 73.5204 125.24 71.9292 125.24H36.3784ZM93.6208 145.566L93.6201 145.564L93.0693 145.75L93.6208 145.566ZM25.5005 136.015C26.8454 133.949 29.1879 132.817 31.4497 132.207C33.6989 131.601 35.7697 131.538 36.4419 131.538H71.9292C72.6011 131.538 74.656 131.601 76.8971 132.207C79.1489 132.816 81.4946 133.948 82.8723 136.017C84.2875 138.191 85.9179 142.035 87.7565 147.537C88.9497 151.213 89.9437 155.889 90.6401 159.882C91.3398 163.894 91.7264 167.143 91.7264 167.981C91.7264 170.917 91.0426 173.545 89.9221 175.211L89.9195 175.215C88.7797 176.94 87.0782 177.772 84.5625 177.772C83.6233 177.772 82.4923 177.579 81.0709 176.539C79.627 175.482 77.8657 173.537 75.7277 169.984C75.1683 169.042 73.5312 165.929 72.5903 163.714L72.5848 163.701C71.1571 160.545 67.9666 158.489 64.5651 158.489H43.9964C40.529 158.489 37.4036 160.547 35.9768 163.701C34.9764 165.909 33.3493 169.006 32.8287 169.991C30.6004 173.535 28.7948 175.479 27.3275 176.536C25.8802 177.58 24.7472 177.772 23.8086 177.772C22.5055 177.772 21.4539 177.558 20.592 177.141C19.7354 176.727 19.0346 176.097 18.4517 175.215L18.449 175.211C17.3291 173.545 16.6447 170.854 16.6447 167.981C16.6447 167.142 17.0161 163.891 17.7074 159.881C18.3959 155.888 19.3899 151.213 20.6139 147.539L20.615 147.536C22.3903 142.097 24.0211 138.254 25.4983 136.018L25.5005 136.015Z",fill:"#4A4A4A"}),(0,l.jsx)("path",{d:"M43.1954 143.252H40.2068V140.236C40.2068 138.762 39.0114 137.556 37.5503 137.556C36.0892 137.556 34.8937 138.762 34.8937 140.236V143.252H31.9051C30.444 143.252 29.2486 144.459 29.2486 145.933C29.2486 147.408 30.444 148.614 31.9051 148.614H34.8937V151.63C34.8937 153.104 36.0892 154.311 37.5503 154.311C39.0114 154.311 40.2068 153.104 40.2068 151.63V148.614H43.1954C44.6565 148.614 45.852 147.408 45.852 145.933C45.852 144.459 44.6565 143.252 43.1954 143.252Z",fill:"#4A4A4A"}),(0,l.jsx)("path",{d:"M66.6066 145.933C64.3236 145.933 62.4557 147.818 62.4557 150.121C62.4557 152.425 64.3236 154.31 66.6066 154.31C68.8896 154.31 70.7575 152.425 70.7575 150.121C70.7575 147.818 68.9933 145.933 66.6066 145.933Z",fill:"#4A4A4A"}),(0,l.jsx)("path",{d:"M73.2476 137.556C70.9647 137.556 69.0968 139.441 69.0968 141.744C69.0968 144.048 70.9647 145.933 73.2476 145.933C75.5306 145.933 77.3985 144.048 77.3985 141.744C77.3985 139.441 75.5306 137.556 73.2476 137.556Z",fill:"#4A4A4A"})]})}function SelectedGameView(e){return(0,l.jsxs)("div",{className:el()("selected-game-view in-back load-element",{in:!e.loadedGame}),children:[(0,l.jsx)(LoaderView,{loaded:e.loadedGame}),!e.loadedGame||e.isShownGameStats||e.isShownGameRewards?null:[e.isInMobileView||e.showMobileViewOnDesktop?(0,l.jsx)("div",{className:"selected-game-mobile",children:(0,l.jsxs)("div",{className:"selected-game-mobile-header",children:[(0,l.jsx)(GoBackView,{onClickGoBack:e.onClickGoBack,showGoBackText:!1}),(0,l.jsx)("div",{className:"sectionTitle",children:(0,l.jsx)(FormattedLastDatePlayedView,{gameDate:e.gameDate,gameTitle:e.gameTitle,hasNoSessionData:e.hasNoSessionData,showGameTitle:!0})})]})},"0"):null,(0,l.jsxs)("div",{className:"contentBlock no-boreder-botttom",children:[(0,l.jsx)(GameView,{gameDate:e.gameDate,gameTitle:e.gameTitle,gameId:e.gameId,selectedPlatformCode:e.selectedPlatformCode,platformsForSelect:e.platformsForSelect,hasOnlyOnePlatform:e.hasOnlyOnePlatform,onChangePlatform:e.onChangePlatform,loadedGame:e.loadedGame,hasOwnedPlatforms:e.hasOwnedPlatforms,loadedFriends:e.loadedFriends,friendsPlaying:e.friendsPlaying,gameImageUrl:e.gameImageUrl,isFriendGame:!1,lastPlayedGameCoverUrl:e.gameCoverUrl,isInMobileView:e.isInMobileView||e.showMobileViewOnDesktop,hasNoSessionData:e.hasNoSessionData}),(0,l.jsxs)("div",{className:"selected-content-view selected-game-bottom-view vertical-align-mobile",children:[(0,l.jsx)(LastPlayedGameStatsView,{isLoadedGameStats:e.loadedGameStats,hasLastPlayedGameStats:e.hasGameStats,lastPlayedGameStats:e.gameStats,statsCDNUrl:e.statsCDNUrl,clubUrl:e.clubUrl,locale:e.locale,onClickGameStats:e.onClickGameStats,showTitle:!0,showLink:!0,isFriendGame:!1}),(0,l.jsxs)("div",{className:"selected-game-rewards",children:[(0,l.jsx)("div",{className:"selected-game-rewards-title",children:(0,l.jsx)(xg,{children:"Rewards"})}),(0,l.jsxs)("div",{className:el()("selected-game-rewards-content in-back load-element",{in:!e.loadedRewards}),children:[(0,l.jsx)("div",{className:"rewards-balance-container",children:(0,l.jsx)("span",{className:"rewards-balance-text",children:(0,l.jsx)(xg,{nbOfUnits:(0,l.jsxs)("span",{className:"balance-unit-container",children:[(0,l.jsx)("span",{className:"balance-icon"}),(0,l.jsx)("span",{classID:"balance-units",children:e.nbOfUnits})]}),children:"Balance: [nbOfUnits]"})})}),e.loadedRewards&&e.nbOfRewards>0?(0,l.jsxs)("div",{className:"selected-game-rewards-chart",children:[(0,l.jsx)(GradientView,{gradientId:"gradient-id",gradientTransform:"rotate(90deg)",gradientStops:[{offset:"0%",stopColor:"#188FFC"},{offset:"36.76%",stopColor:"#46AFF5"},{offset:"103.79%",stopColor:"#4BDFFF"}]}),(0,l.jsx)(Gv.Ip,{value:e.nbOfRewardsOwned/e.nbOfRewards*100,initialAnimation:!0,strokeWidth:16,styles:{path:{stroke:"url(#gradient-id)",strokeLinecap:"butt",strokeWidth:"16",transition:"stroke-dashoffset 0.5s ease 0.1s"},trail:{stroke:"#333333",strokeWidth:"8"}}}),(0,l.jsxs)("div",{className:"rewards-chart-text",children:[(0,l.jsx)(xg,{rewardsOwned:(0,l.jsxs)("span",{className:"rewards-chart-nb",children:[(0,l.jsx)("span",{className:"rewards-chart-nb-left",children:e.nbOfRewardsOwned}),"/",(0,l.jsx)("span",{className:"rewards-chart-nb-right",children:e.nbOfRewards})]}),children:"[rewardsOwned]"}),(0,l.jsx)("span",{className:"secondLine",children:(0,l.jsx)(xg,{children:"Redeemed"})})]})]}):null,e.loadedRewards&&e.nbOfRewards<=0?[(0,l.jsx)("div",{className:"selected-game-no-rewards",children:(0,l.jsx)(xg,{children:"There are no rewards available for this game. Except for that feeling of joy when playing it, of course."})},"0"),(0,l.jsx)("div",{className:"no-rewards-illustration",children:(0,l.jsx)(NoRewardsSvgView,{})},"1")]:null]}),e.loadedRewards&&e.nbOfRewards>0?(0,l.jsx)("div",{className:"stats-button-container rewards-section",children:(0,l.jsx)("button",{className:"btn primary",onClick:e.onClickGameRewards.bind(null),children:(0,l.jsx)(xg,{children:"Manage rewards"})})}):null]})]})]},"1")],e.children]})}function ShowTooltipByChildrenLengthView_typeof(e){return ShowTooltipByChildrenLengthView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ShowTooltipByChildrenLengthView_typeof(e)}function ShowTooltipByChildrenLengthView_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ShowTooltipByChildrenLengthView_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ShowTooltipByChildrenLengthView_ownKeys(Object(r),!0).forEach((function(t){ShowTooltipByChildrenLengthView_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ShowTooltipByChildrenLengthView_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ShowTooltipByChildrenLengthView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ShowTooltipByChildrenLengthView_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ShowTooltipByChildrenLengthView_setPrototypeOf(e,t){return ShowTooltipByChildrenLengthView_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ShowTooltipByChildrenLengthView_setPrototypeOf(e,t)}function ShowTooltipByChildrenLengthView_createSuper(e){var t=function ShowTooltipByChildrenLengthView_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ShowTooltipByChildrenLengthView_getPrototypeOf(e);if(t){var o=ShowTooltipByChildrenLengthView_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ShowTooltipByChildrenLengthView_possibleConstructorReturn(this,r)}}function ShowTooltipByChildrenLengthView_possibleConstructorReturn(e,t){if(t&&("object"===ShowTooltipByChildrenLengthView_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ShowTooltipByChildrenLengthView_assertThisInitialized(e)}function ShowTooltipByChildrenLengthView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ShowTooltipByChildrenLengthView_getPrototypeOf(e){return ShowTooltipByChildrenLengthView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ShowTooltipByChildrenLengthView_getPrototypeOf(e)}function ShowTooltipByChildrenLengthView_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Tv,Rv=function(e){!function ShowTooltipByChildrenLengthView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ShowTooltipByChildrenLengthView_setPrototypeOf(e,t)}(ShowTooltipByChildrenLengthView,e);var t=ShowTooltipByChildrenLengthView_createSuper(ShowTooltipByChildrenLengthView);function ShowTooltipByChildrenLengthView(){var e;ShowTooltipByChildrenLengthView_classCallCheck(this,ShowTooltipByChildrenLengthView);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return ShowTooltipByChildrenLengthView_defineProperty(ShowTooltipByChildrenLengthView_assertThisInitialized(e=t.call.apply(t,[this].concat(n))),"state",{showTooltip:!1,parentOffsetWidth:null,childOffsetWidth:null}),ShowTooltipByChildrenLengthView_defineProperty(ShowTooltipByChildrenLengthView_assertThisInitialized(e),"_parentRef",void 0),ShowTooltipByChildrenLengthView_defineProperty(ShowTooltipByChildrenLengthView_assertThisInitialized(e),"_childRef",void 0),ShowTooltipByChildrenLengthView_defineProperty(ShowTooltipByChildrenLengthView_assertThisInitialized(e),"parentRef",(function(t){return e._parentRef=t})),ShowTooltipByChildrenLengthView_defineProperty(ShowTooltipByChildrenLengthView_assertThisInitialized(e),"childRef",(function(t){return e._childRef=t})),e}return function ShowTooltipByChildrenLengthView_createClass(e,t,r){return t&&ShowTooltipByChildrenLengthView_defineProperties(e.prototype,t),r&&ShowTooltipByChildrenLengthView_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ShowTooltipByChildrenLengthView,[{key:"render",value:function render(){return(0,l.jsx)(jg,{className:this.props.tooltipClassName,showTooltip:!1,locale:this.props.locale,content:this.props.children,hasTrigger:!0,noTooltip:!this.state.showTooltip,children:(0,l.jsx)("span",{className:el()(this.props.parentClassName,"length-check-parent"),ref:this.parentRef,children:(0,l.jsx)("span",{className:"length-check-child",ref:this.childRef,children:this.props.children})})})}},{key:"componentDidMount",value:function componentDidMount(){if(this._parentRef&&this._childRef){var e=!1,t=this._parentRef.offsetWidth,r=this._childRef.offsetWidth;t<r&&(e=!0),this.setState({showTooltip:e,parentOffsetWidth:t,childOffsetWidth:r})}}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){if(this._parentRef&&this._childRef&&(this._parentRef.offsetWidth!==this.state.parentOffsetWidth||this._childRef.offsetWidth!==this.state.childOffsetWidth)){var r={parentOffsetWidth:this._parentRef.offsetWidth,childOffsetWidth:this._childRef.offsetWidth};this._parentRef.offsetWidth<this._childRef.offsetWidth&&!t.showTooltip&&this.setState(ShowTooltipByChildrenLengthView_objectSpread({showTooltip:!0},r)),this._parentRef.offsetWidth>=this._childRef.offsetWidth&&t.showTooltip&&this.setState(ShowTooltipByChildrenLengthView_objectSpread({showTooltip:!1},r))}}}]),ShowTooltipByChildrenLengthView}(zc.PureComponent);function CompareFriendStatsView(e){return(0,l.jsx)("div",{className:"compare-friend-stats-view",children:e.gameStatsToCompareWithAFriend.map((function(t){return(0,l.jsxs)("div",{className:"compare-friend-stats-container",children:[(0,l.jsx)("div",{className:"stats-name",children:t.name}),(0,l.jsx)("div",{className:el()("stats-my-value",{"is-bigger":t.format!==sd&&t.value>t.friendValue}),children:(0,l.jsx)(Rv,{parentClassName:"stats-friend-value_formatted-container",tooltipClassName:"stats-compare-tooltip top",locale:e.locale,children:t.formattedValue.map((function(e){return(0,l.jsx)("span",{className:el()({"stats-friend-value_unit":e.isUnit}),children:e.value},e.value)}))})}),(0,l.jsx)("div",{className:el()("stats-friend-value",{"is-bigger":t.format!==sd&&t.friendValue>t.value}),children:(0,l.jsx)(Rv,{tooltipClassName:"stats-compare-tooltip top",parentClassName:"stats-friend-value_formatted-container",locale:e.locale,children:t.friendFormattedValue.map((function(e){return(0,l.jsx)("span",{className:el()({"stats-friend-value_unit":e.isUnit}),children:e.value},e.value)}))})})]},t.id)}))})}function SelectedGameStatsView(e){return(0,l.jsxs)("div",{className:"selected-game-stats-view",children:[e.showStatsHeaderOnPlayerCardDetails?(0,l.jsxs)("div",{className:"game-stats-header",children:[(0,l.jsx)("i",{onClick:e.onClickGoBack,className:"icon-angle-left"}),(0,l.jsx)("div",{onClick:e.onClickGoBack,className:"game-title",children:e.gameName}),(0,l.jsx)("i",{onClick:e.onClickClose.bind(null),className:"icon-close closeIcon"})]}):null,(0,l.jsxs)("div",{className:"game-stats-title",children:[e.isInMobileView||e.showMobileViewOnDesktop?(0,l.jsx)("div",{className:"selected-game-mobile",children:(0,l.jsxs)("div",{className:"selected-game-mobile-header",children:[(0,l.jsx)(GoBackView,{onClickGoBack:e.onClickGoBack,showGoBackText:!1}),(0,l.jsxs)("div",{className:"titles",children:[(0,l.jsx)("div",{className:"sectionSubtitle",children:e.gameName}),(0,l.jsx)("div",{className:"sectionTitle",children:(0,l.jsx)(xg,{children:"Stats details"})})]})]})}):null,e.isInMobileView||e.showMobileViewOnDesktop?null:[(0,l.jsx)("i",{onClick:e.onClickGoBack.bind(null),className:"icon-angle-left"},"0"),(0,l.jsx)("div",{onClick:e.onClickGoBack.bind(null),className:"game-title",children:e.gameName},"1")],(0,l.jsx)("div",{className:"platform-selected-wrapper",children:(0,l.jsx)(Bg,{lastPlayedGameId:e.lastPlayedGameId,selectedPlatformCode:e.selectedPlatformCode,platformsForSelect:e.platformsForSelect,onChangePlatform:e.onChangePlatform,loadedLastPlayedGame:e.loadedLastPlayedGame,hasLastPlayedGame:!0,hasOwnedPlatforms:e.hasOwnedPlatforms,hasOnlyOnePlatform:e.hasOnlyOnePlatform})}),(0,l.jsx)("div",{className:"separator"})]}),(0,l.jsxs)("div",{className:"contentBlock no-boreder-botttom",children:[(0,l.jsxs)("div",{className:"game-stats-friends",children:[(0,l.jsx)("div",{className:"title",children:(0,l.jsx)(xg,{children:"Stats details"})}),(0,l.jsx)(Iv,{selectedOptionKey:e.selectedFriendId,selectedOption:e.selectedFriendName,elementsForSelect:e.friendsPlayingGame,onChangeElement:e.onChangeFriend,onTypeOption:e.onTypeFriendName,loadedElements:e.loadedFriends,onToggleStopEventPropagation:e.onToggleStopEventPropagation,showTooltip:e.showFriendSelectorTooltip,locale:e.locale,onClickCloseTooltip:e.onClickCloseFriendTooltip,tooltipText:(0,l.jsx)(xg,{children:"You don't have any friends who own this game."}),placeholderText:e.friendsSelectorPlaceholder})]}),!e.selectedFriendId||!e.gameStatsToCompareWithAFriend||e.gameStatsToCompareWithAFriend.length<=0?(0,l.jsx)(LastPlayedGameStatsView,{isLoadedGameStats:e.isLoadedGameStats,hasLastPlayedGameStats:e.hasLastPlayedGameStats,lastPlayedGameStats:e.lastPlayedGameStats,statsCDNUrl:e.statsCDNUrl,clubUrl:e.clubUrl,locale:e.locale,onClickGameStats:e.onClickGameStats,showTitle:!1,showLink:!1,isFriendGame:!1}):null,e.selectedFriendId&&e.gameStatsToCompareWithAFriend&&e.gameStatsToCompareWithAFriend.length>0?[(0,l.jsxs)("div",{className:"compareHead",children:[(0,l.jsxs)("div",{className:"compareHead-you",children:[(0,l.jsx)("div",{className:"compareHead-avatar",children:(0,l.jsx)("img",{src:e.myAvatarUrl,alt:"avatar"})}),(0,l.jsx)(xg,{children:"You"})]}),(0,l.jsxs)("div",{className:"compareHead-friend",children:[(0,l.jsx)("div",{className:"compareHead-avatar",children:(0,l.jsx)("img",{src:e.friendAvatarUrl,alt:"avatar"})}),(0,l.jsx)("span",{children:e.selectedFriendName})]})]},"0"),(0,l.jsx)(CompareFriendStatsView,{gameStatsToCompareWithAFriend:e.gameStatsToCompareWithAFriend,locale:e.locale},"1")]:null]})]})}function SelectedGameStatsController_typeof(e){return SelectedGameStatsController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SelectedGameStatsController_typeof(e)}function SelectedGameStatsController_regeneratorRuntime(){SelectedGameStatsController_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==SelectedGameStatsController_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function SelectedGameStatsController_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function SelectedGameStatsController_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){SelectedGameStatsController_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){SelectedGameStatsController_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function SelectedGameStatsController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SelectedGameStatsController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SelectedGameStatsController_setPrototypeOf(e,t){return SelectedGameStatsController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},SelectedGameStatsController_setPrototypeOf(e,t)}function SelectedGameStatsController_createSuper(e){var t=function SelectedGameStatsController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=SelectedGameStatsController_getPrototypeOf(e);if(t){var o=SelectedGameStatsController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return SelectedGameStatsController_possibleConstructorReturn(this,r)}}function SelectedGameStatsController_possibleConstructorReturn(e,t){if(t&&("object"===SelectedGameStatsController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function SelectedGameStatsController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function SelectedGameStatsController_getPrototypeOf(e){return SelectedGameStatsController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},SelectedGameStatsController_getPrototypeOf(e)}var Nv=inject({communicationService:Qy,statsComparisonService:Wg,analyticsService:nh,commonActionsService:qy})(Tv=(0,Jc.$j)(nl({isShownGameStats:pi.getIsShownGameStats,isLoadedGameStats:!1,friendsPlayingGame:[],selectedFriendId:pi.getSelectedFriendId,selectedFriendName:pi.getSelectedFriendName,loadedFriends:!1,lastPlayedGameId:oi.getCurrentLastPlayedGameId,platformsForSelect:[],loadedLastPlayedGame:!1,hasLastPlayedGame:!1,hasOnlyOnePlatform:!1,hasOwnedPlatforms:!1,hasLastPlayedGameStats:!1,lastPlayedGameStats:[],statsCDNUrl:Ft.getStatsCDNUrl,clubUrl:Ft.getClubUrl,locale:me.getCurrentLocale,friendsSelectorPlaceholder:kv.getFriendsSelectorTranslatedText,showFriendSelectorTooltip:pi.getShowFriendSelectorTooltip,gameStatsToCompareWithAFriend:[],isInMobileView:Uc.getIsInMobileView,showMobileViewOnDesktop:Uc.getShowMobileViewOnDesktop,showStatsHeaderOnPlayerCardDetails:Uc.getShowStatsHeaderOnPlayerCardDetails},rl((function(e){return $t.loaded(e)&&Zi.loaded(e)&&vn.loaded(e)&&mn.loaded(e)&&mn.loadedFriendsStats(e)&&Gr.loaded(e)&&wo.loaded(e)}),nl({isLoadedGameStats:!0,gameName:rd.getCurrentGameName,friendsPlayingGame:ad.getFriendsPlayingGameForSelect,loadedFriends:!0,selectedPlatformCode:av.getSelectedPlatformCode,platformsForSelect:av.getMyLastPlayedGameFilteredOwnedPlatfroms,loadedLastPlayedGame:!0,hasLastPlayedGame:rd.getHasOtherGamesPlayed,hasOnlyOnePlatform:av.getHasOnlyOneOwnedPlatform,hasOwnedPlatforms:av.getHasOwnedPlatforms,hasLastPlayedGameStats:Rd.hasLastPlayedGameStats,lastPlayedGameStats:Rd.getGameStatsWithRank,statsCDNUrl:Ft.getStatsCDNUrl,clubUrl:Ft.getClubUrl,locale:me.getCurrentLocale,gameStatsToCompareWithAFriend:Rd.getGameStatsToCompareWithAFriend,myAvatarUrl:yg.getMyAvatar,friendAvatarUrl:Rd.getFriendAvatarUrl,platformsByApplicationId:$t.getPlatformsByApplicationId}))))(Tv=function(e){!function SelectedGameStatsController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SelectedGameStatsController_setPrototypeOf(e,t)}(SelectedGameStatsController,e);var t,r,n=SelectedGameStatsController_createSuper(SelectedGameStatsController);function SelectedGameStatsController(){return SelectedGameStatsController_classCallCheck(this,SelectedGameStatsController),n.apply(this,arguments)}return function SelectedGameStatsController_createClass(e,t,r){return t&&SelectedGameStatsController_defineProperties(e.prototype,t),r&&SelectedGameStatsController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(SelectedGameStatsController,[{key:"render",value:function render(){return(0,l.jsx)(SelectedGameStatsView,{gameName:this.props.gameName,friendsPlayingGame:this.props.friendsPlayingGame,selectedFriendId:this.props.selectedFriendId,selectedFriendName:this.props.selectedFriendName,onChangeFriend:this.onChangeFriend,onTypeFriendName:this.onTypeFriendName,loadedFriends:this.props.loadedFriends,onToggleStopEventPropagation:this.onToggleStopEventPropagation,lastPlayedGameId:this.props.lastPlayedGameId,hasOnlyOnePlatform:this.props.hasOnlyOnePlatform,selectedPlatformCode:this.props.selectedPlatformCode,platformsForSelect:this.props.platformsForSelect,onChangePlatform:this.onChangePlatform,loadedLastPlayedGame:this.props.loadedLastPlayedGame,hasLastPlayedGame:this.props.hasLastPlayedGame,hasOwnedPlatforms:this.props.hasOwnedPlatforms,isLoadedGameStats:this.props.isLoadedGameStats,hasLastPlayedGameStats:this.props.hasLastPlayedGameStats,lastPlayedGameStats:this.props.lastPlayedGameStats,statsCDNUrl:this.props.statsCDNUrl,clubUrl:this.props.clubUrl,locale:this.props.locale,onClickGameStats:this.onClickGameStats,onClickGoBack:this.onClickGoBack,showFriendSelectorTooltip:this.props.showFriendSelectorTooltip,onClickCloseFriendTooltip:this.onClickCloseFriendTooltip,friendsSelectorPlaceholder:this.props.friendsSelectorPlaceholder,gameStatsToCompareWithAFriend:this.props.gameStatsToCompareWithAFriend,isInMobileView:this.props.isInMobileView,isFriendGame:!1,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,showStatsHeaderOnPlayerCardDetails:this.props.showStatsHeaderOnPlayerCardDetails,onClickClose:this.onClickClose,myAvatarUrl:this.props.myAvatarUrl,friendAvatarUrl:this.props.friendAvatarUrl})}},{key:"onChangeFriend",value:function onChangeFriend(e){this.props.analyticsService.trackEvent("user tab","game panel : stats","global nav","interaction","".concat(this.props.gameName," : game card : stats : stats details")),this.props.statsComparisonService.onChangeFriend(e)}},{key:"onTypeFriendName",value:function onTypeFriendName(e){this.props.statsComparisonService.onTypeFriendName(e.target.value)}},{key:"onToggleStopEventPropagation",value:function onToggleStopEventPropagation(){}},{key:"onChangePlatform",value:(r=SelectedGameStatsController_asyncToGenerator(SelectedGameStatsController_regeneratorRuntime().mark((function _callee(e,t){return SelectedGameStatsController_regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return this.props.analyticsService.trackEvent("user tab","game panel : stats","global nav","interaction","".concat(this.props.gameName," : game card : stats : platform selector : ").concat(this.props.platformsByApplicationId[t]?this.props.platformsByApplicationId[t].displayName:null)),r.next=3,this.props.commonActionsService.onChangeLPGPltform(e,t);case 3:case"end":return r.stop()}}),_callee,this)}))),function onChangePlatform(e,t){return r.apply(this,arguments)})},{key:"onClickGameStats",value:function onClickGameStats(){}},{key:"onClickGoBack",value:function onClickGoBack(){this.props.analyticsService.trackEvent("user tab","game panel : stats","global nav","interaction","".concat(this.props.gameName," : game card : stats : go back to main panel")),this.props.analyticsService.trackPage("user tab","game panel"),scrollToTop(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.statsComparisonService.onToggleShowGameStats(!1)}},{key:"onClickCloseFrdSelectorTooltip)}},{key:"onClickClose",value:(t=SelectedGameStatsController_asyncToGenerator(SelectedGameStatsController_regeneratorRuntime().mark((function _callee2(){return SelectedGameStatsController_regeneratorRuntime().wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return this.props.analyticsService.trackEvent("user tab","game panel : stats","global nav","interaction","".concat(this.props.gameName," : game card : stats : close panel")),this.props.analyticsService.trackPage("user tab","player card"),e.next=4,this.props.commonActionsService.toggleOpenDetailsViewState(!1,this.props.communicationService.getWindowsWidth(),this.props.communicationService.getWindowsHeight(),this.props.communicationService.getIframeBoundingClientRect());case 4:case"end":return e.stop()}}),_callee2,this)}))),function onClickClose(){return t.apply(this,arguments)})}]),SelectedGameStatsController}($c))||Tv)||Tv;function ImageLoaderView_typeof(e){return ImageLoaderView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ImageLoaderView_typeof(e)}function ImageLoaderView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ImageLoaderView_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ImageLoaderView_setPrototypeOf(e,t){return ImageLoaderView_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ImageLoaderView_setPrototypeOf(e,t)}function ImageLoaderView_createSuper(e){var t=function ImageLoaderView_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ImageLoaderView_getPrototypeOf(e);if(t){var o=ImageLoaderView_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ImageLoaderView_possibleConstructorReturn(this,r)}}function ImageLoaderView_possibleConstructorReturn(e,t){if(t&&("object"===ImageLoaderView_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ImageLoaderView_assertThisInitialized(e)}function ImageLoaderView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ImageLoaderView_getPrototypeOf(e){return ImageLoaderView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ImageLoaderView_getPrototypeOf(e)}function ImageLoaderView_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Uv=function(e){!function ImageLoaderView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ImageLoaderView_setPrototypeOf(e,t)}(ImageLoaderView,e);var t=ImageLoaderView_createSuper(ImageLoaderView);function ImageLoaderView(){var e;ImageLoaderView_classCallCheck(this,ImageLoaderView);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return ImageLoaderView_defineProperty(ImageLoaderView_assertThisInitialized(e=t.call.apply(t,[this].concat(n))),"state",{isLoadedImage:!1}),ImageLoaderView_defineProperty(ImageLoaderView_assertThisInitialized(e),"mountedComponent",!1),e}return function ImageLoaderView_createClass(e,t,r){return t&&ImageLoaderView_defineProperties(e.prototype,t),r&&ImageLoaderView_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ImageLoaderView,[{key:"render",value:function render(){return(0,l.jsxs)("div",{className:el()(this.props.className,"load-element in-back",{in:!this.state.isLoadedImage}),style:{minHeight:"".concat(this.props.minHeight,"px")},children:[(0,l.jsx)(LoaderView,{loaded:this.state.isLoadedImage}),this.props.imgSrc?null:(0,l.jsx)("img",{src:this.props.placeholderSrc,alt:this.props.alt,title:this.props.title}),this.props.imgSrc?(0,l.jsx)("img",{src:this.props.imgSrc,alt:this.props.alt,title:this.props.title}):null]})}},{key:"componentDidMount",value:function componentDidMount(){var e=this;this.mountedComponent=!0;var t=new Image;t.onload=function(){e.mountedComponent&&e.setState({isLoadedImasLoadedImage:!1})},t.src=this.props.imgSrc?this.props.imgSrc:this.props.placeholderSrc}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mountedComponent=!1}}]),ImageLoaderView}(zc.PureComponent),Dv=r(79557);function RewardItemView(e){return(0,l.jsxs)("div",{className:el()("reward-item-container",{"is-locked":e.isLocked}),onClick:e.onClickReward.bind(null,e.rewardId,e.spaceId,e.offset),children:[(0,l.jsx)(Uv,{imgSrc:e.rewardImg,placeholderSrc:Dv,alt:"reward",title:"reward",className:"reward-item-image",minHeight:e.isInMobileView||e.showMobileViewOnDesktop?204:185}),(0,l.jsxs)("div",{className:el()("reward-label",{"is-redeemed":e.isRedeemed}),children:[e.isFree&&!e.isRedeemed?(0,l.jsx)("span",{className:"reward-label-free",children:(0,l.jsx)(xg,{children:"Free"})}):null,e.isRedeemed?(0,l.jsx)("span",{className:"reward-label-redeemed icon-checkmark"}):null,!e.hasUnits||e.isFree||e.isRedeemed?null:(0,l.jsxs)("div",{className:"reward-unit-label",children:[(0,l.jsx)("span",{className:"reward-unit-icon"}),(0,l.jsx)("span",{className:"reward-unit-text",children:e.units})]})]}),e.hasSlider?(0,l.jsxs)("div",{className:"reward-slider-label",children:[e.purchaseQuantity,"/",e.purchaseLimit]}):null,(0,l.jsxs)("div",{className:"reward-title-container",children:[(0,l.jsx)("div",{className:"reward-type",children:(0,l.jsx)("span",{className:el()("reward-type-label",{"is-legendary":e.isLegendary,"is-epic":e.isEpic,"is-rare":e.isRare,"is-common":e.isCommon,"is-exotic":e.isExotic}),children:e.isExotic?(0,l.jsx)("span",{className:"reward-icon"}):null})}),(0,l.jsxs)("div",{className:"reward-text-title-container",children:[e.hasTags?(0,l.jsx)("span",{className:"reward-title-label",children:e.tags.map((function(e){return e.displayName})).join(", ")}):null,(0,l.jsx)("span",{className:"reward-title-text",children:e.title})]})]}),e.isLocked?(0,l.jsx)("div",{className:"reward-overlay",children:(0,l.jsx)("span",{className:"reward-icon-lock"})}):null]})}var Mv,Bv="exotic",Vv="common",Wv="rare",Hv="epic",qv="legendary",zv=r(79557);function RewardsSlideView(e){return(0,l.jsxs)("div",{className:el()("reward-slide-container",{"is-locked":e.isLocked}),children:[(0,l.jsxs)("div",{className:"reward-slide-image-container",children:[(0,l.jsx)(Uv,{imgSrc:e.rewardImg,placeholderSrc:zv,alt:"reward",title:"reward",className:"reward-item-image",minHeight:e.isInMobileView||e.showMobileViewOnDesktop?205:320}),e.isRedeemed||e.rewardsPurchaseState[e.rewardId]&&e.rewardsPurchaseState[e.rewardId].showMessageAfterPurchase?(0,l.jsx)("div",{className:"reward-label-redeemed",children:(0,l.jsx)("span",{className:"icon-checkmark"})}):null,e.multipleBuys?(0,l.jsx)("div",{className:"reward-label-multiple",children:(0,l.jsxs)("span",{className:"reward-multiple-label",children:[(0,l.jsx)("span",{className:"reward-multiple-label-item",children:e.purchaseQuantity}),"/",(0,l.jsx)("span",{className:"reward-multiple-label-item",children:e.purchaseLimit})]})}):null,(0,l.jsx)("div",{className:"reward-type",children:(0,l.jsx)("span",{className:el()("reward-type-label",{"is-legendary":e.isLegendary,"is-epic":e.isEpic,"is-rare":e.isRare,"is-common":e.isCommon,"is-exotic":e.isExotic}),children:e.isExotic?(0,l.jsx)("span",{className:"reward-icon"}):null})}),e.isLocked?(0,l.jsx)("div",{className:"reward-overlay",children:(0,l.jsx)("span",{className:"reward-icon-lock"})}):null]}),(0,l.jsxs)("div",{className:"reward-title-container",children:[e.hasTags?(0,l.jsx)("span",{className:"reward-title-label",children:e.tags.map((function(e){return e.displayName})).join(", ")}):null,(0,l.jsx)("span",{className:"reward-title-text",children:e.title}),(0,l.jsx)("span",{className:el()("reward-subtitle",{"is-legendary":e.isLegendary,"is-epic":e.isEpic,"is-rare":e.isRare,"is-common":e.isCommon,"is-exotic":e.isExotic}),children:e.rarityDisplayName})]}),(0,l.jsx)("div",{className:"reward-descripton",children:e.description}),e.isLocked?(0,l.jsxs)("div",{className:"reward-locked-container",children:[(0,l.jsx)("span",{className:"icon-lock1 reward-locked-icon"}),e.displayLockedStatusDescription?(0,l.jsx)("span",{className:"reward-locked-indication",children:e.displayLockedStatusDescription}):null,!e.displayLockedStatusDescription&&e.profilePlatformDisplayName?(0,l.jsx)("span",{className:"reward-locked-indication",children:(0,l.jsx)(xg,{platform:e.profilePlatformDisplayName,children:"You need to link your Ubisoft account to a [platform] account to redeem this reward."})}):null]}):null,e.multipleBuys&&e.canRedeemSeveralTimesMore?(0,l.jsxs)("div",{className:"reward-warning-message",children:[(0,l.jsx)("span",{className:"icon-error"}),e.purchaseLimit-e.purchaseQuantity==1?(0,l.jsx)("span",{className:"reward-warning-text",children:(0,l.jsx)(xg,{nbTimes:e.purchaseLimit-e.purchaseQuantity,children:"You can redeem this reward [nbTimes] more time."})}):null,e.purchaseLimit-e.purchaseQuantity>1?(0,l.jsx)("span",{className:"reward-warning-text",children:(0,l.jsx)(xg,{nbTimes:e.purchaseLimit-e.purchaseQuantity,children:"You can redeem this reward [nbTimes] more times."})}):null]}):null,e.notEnoughUnits&&!e.isRedeemed?(0,l.jsxs)("div",{className:"reward-units-message",children:[(0,l.jsx)("span",{className:"icon-warning1"}),(0,l.jsx)("span",{className:"reward-units-text",children:(0,l.jsx)(xg,{units:(0,l.jsx)("strong",{children:(0,l.jsx)(xg,{children:"Units"})}),reward:(0,l.jsx)("strong",{children:(0,l.jsx)(xg,{children:"Reward"})}),children:"You don't have enough [units] to get this [reward]."})})]}):null,(0,l.jsxs)("div",{className:el()("reward-redeemed-container in-back load-element",{in:!e.loadedFriendsRewards}),children:[(0,l.jsx)(LoaderView,{loaded:e.loadedFriendsRewards}),e.hasFriendsOwningReward?null:(0,l.jsx)("div",{className:"rewards-redeemed-text",children:(0,l.jsx)(xg,{children:"None of your friends redeemed this reward."})}),e.hasFriendsOwningReward?(0,l.jsxs)("div",{className:"rewards-redeeemed-avatars",children:[1===e.nbFriendsOwningReward?[(0,l.jsx)("div",{className:"rewards-redeeemed-avatar-container",children:(0,l.jsx)("div",{className:"rewards-redeemed-avatar-image",children:(0,l.jsx)("img",{src:e.friendsOwningReward[0].avatarUrl,alt:"avatar",title:"avatar"})})},"0"),(0,l.jsx)("div",{className:"rewards-redeemed-text",children:(0,l.jsx)(xg,{playerName:(0,l.jsx)("span",{className:"rewards-redeemed-username",children:e.friendsOwningReward[0].userName}),children:"[playerName] redeemed this reward."})},"1")]:null,2===e.nbFriendsOwningReward?[(0,l.jsxs)("div",{className:"rewards-redeeemed-avatar-container",children:[(0,l.jsx)("div",{className:"rewards-redeemed-avatar-image",children:(0,l.jsx)("img",{src:e.friendsOwningReward[0].avatarUrl,alt:"avatar",title:"avatar"})}),(0,l.jsx)("div",{className:"rewards-redeemed-avatar-image",children:(0,l.jsx)("img",{src:e.friendsOwningReward[1].avatarUrl,alt:"avatar",title:"avatar"})})]},"0"),(0,l.jsx)("div",{className:"rewards-redeemed-text",children:(0,l.jsx)(xg,{playerName1:(0,l.jsx)("span",{className:"rewards-redeemed-username",children:e.friendsOwningReward[0].userName}),playerName2:(0,l.jsx)("span",{className:"rewards-redeemed-username",children:e.friendsOwningReward[1].userName}),children:"[playerName1] and [playerName2] redeemed this reward."})},"1")]:null,e.nbFriendsOwningReward>=3?[(0,l.jsxs)("div",{className:"rewards-redeeemed-avatar-container",children:[(0,l.jsx)("div",{className:"rewards-redeemed-avatar-image",children:(0,l.jsx)("img",{src:e.friendsOwningReward[0].avatarUrl,alt:"avatar",title:"avatar"})}),(0,l.jsx)("div",{className:"rewards-redeemed-avatar-image",children:(0,l.jsx)("img",{src:e.friendsOwningReward[1].avatarUrl,alt:"avatar",title:"avatar"})}),(0,l.jsx)("div",{className:"rewards-redeemed-avatar-image",children:(0,l.jsx)("img",{src:e.friendsOwningReward[2].avatarUrl,alt:"avatar",title:"avatar"})})]},"0"),(0,l.jsx)("div",{className:"rewards-redeemed-text",children:(0,l.jsx)(xg,{playerName1:(0,l.jsx)("span",{className:"rewards-redeemed-username",children:e.friendsOwningReward[0].userName}),nbFriends:e.nbFriendsOwningReward-1,children:"[playerName1] and [nbFriends] friends redeemed this reward."})},"1")]:null]}):null]}),!e.isRedeemed&&!e.rewardsPurchaseState[e.rewardId]||!e.isRedeemed&&e.rewardsPurchaseState[e.rewardId]&&!e.rewardsPurchaseState[e.rewardId].showMessageAfterPurchase&&!e.rewardsPurchaseState[e.rewardId].hasApiError?(0,l.jsxs)("div",{className:el()("reward-actions-container in-back load-element",{in:e.rewardsPurchaseState[e.rewardId]&&e.rewardsPurchaseState[e.rewardId].showApiLoader}),children:[(0,l.jsx)(LoaderView,{loaded:!e.rewardsPurchaseState[e.rewardId]||!e.rewardsPurchaseState[e.rewardId].showApiLoader}),!e.isFree||e.rewardsPurchaseState[e.rewardId]&&e.rewardsPurchaseState[e.rewardId].showApiLoader?null:(0,l.jsx)("div",{className:"reward-free",children:(0,l.jsx)(xg,{children:"Free"})}),!e.hasUnits||e.rewardsPurchaseState[e.rewardId]&&e.rewardsPurchaseState[e.rewardId].showApiLoader?null:(0,l.jsxs)("div",{className:"reward-units",children:[(0,l.jsx)("span",{className:"reward-unit-icon"}),(0,l.jsx)("span",{className:"reward-unit-text",children:e.units})]}),e.rewardsPurchaseState[e.rewardId]&&e.rewardsPurchaseState[e.rewardId].showApiLoader?null:(0,l.jsxs)("div",{className:"reward-btn-container",children:[e.isLocked||e.notEnoughUnits?(0,l.jsx)("button",{className:"btn primary disabled",children:(0,l.jsx)(xg,{children:"Get it now"})}):null,e.isLocked||e.notEnoughUnits?null:(0,l.jsx)("button",{className:"btn primary",onClick:e.onClickGetIt.bind(null,e.rewardId,e.spaceId),children:(0,l.jsx)(xg,{children:"Get it now"})})]})]}):null,e.isRedeemed&&!e.rewardsPurchaseState[e.rewardId]||e.isRedeemed&&e.rewardsPurchaseState[e.rewardId]&&!e.rewardsPurchaseState[e.rewardId].showMessageAfterPurchase&&!e.rewardsPurchaseState[e.rewardId].hasApiError?(0,l.jsx)("div",{className:"reward-redeemed-message",children:(0,l.jsx)("span",{className:"reward-redeemed-text",children:(0,l.jsx)(xg,{children:"You've redeemed this reward."})})}):null,e.rewardsPurchaseState[e.rewardId]&&e.rewardsPurchaseState[e.rewardId].showMessageAfterPurchase&&!e.rewardsPurchaseState[e.rewardId].hasApiError?(0,l.jsxs)("div",{className:"reward-redeemed-message",children:[(0,l.jsx)("span",{className:"icon-checkmark"}),(0,l.jsx)("span",{className:"reward-redeemed-text",children:(0,l.jsx)(xg,{children:"You've successfully redeemed this reward."})})]}):null,e.rewardsPurchaseState[e.rewardId]&&e.rewardsPurchaseState[e.rewardId].hasApiError?(0,l.jsxs)("div",{className:"reward-erorr-message",children:[(0,l.jsx)("span",{className:"icon-close"}),(0,l.jsx)("span",{className:"reward-error-text",children:(0,l.jsx)(xg,{children:"Sorry! The reward couldn't be redeemed."})})]}):null]})}function RewardsSliderController_typeof(e){return RewardsSliderController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RewardsSliderController_typeof(e)}function RewardsSliderController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RewardsSliderController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RewardsSliderController_setPrototypeOf(e,t){return RewardsSliderController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},RewardsSliderController_setPrototypeOf(e,t)}function RewardsSliderController_createSuper(e){var t=function RewardsSliderController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=RewardsSliderController_getPrototypeOf(e);if(t){var o=RewardsSliderController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return RewardsSliderController_possibleConstructorReturn(this,r)}}function RewardsSliderController_possibleConstructorReturn(e,t){if(t&&("object"===RewardsSliderController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return RewardsSliderController_assertThisInitialized(e)}function RewardsSliderController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RewardsSliderController_getPrototypeOf(e){return RewardsSliderController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},RewardsSliderController_getPrototypeOf(e)}function RewardsSliderController_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qv,Yv=inject({analyticsService:nh})(Mv=function(e){!function RewardsSliderController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RewardsSliderController_setPrototypeOf(e,t)}(RewardsSliderController,e);var t=RewardsSliderController_createSuper(RewardsSliderController);function RewardsSliderController(){var e;RewardsSliderController_classCallCheck(this,RewardsSliderController);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return RewardsSliderController_defineProperty(RewardsSliderController_assertThisInitialized(e=t.call.apply(t,[this].concat(n))),"userSearchRefHasEventListener",!1),RewardsSliderController_defineProperty(RewardsSliderController_assertThisInitialized(e),"swiper",null),RewardsSliderController_defineProperty(RewardsSliderController_assertThisInitialized(e),"addKeyEvent",(function(t){81==t.keyCode&&(t.preventDefault(),e.swiper&&e.swiper.slidePrev&&e.swiper.slidePrev()),69==t.keyCode&&(t.preventDefault(),e.swiper&&e.swiper.slideNext&&e.swiper.slideNext())})),e}return function RewardsSliderController_createClass(e,t,r){return t&&RewardsSliderController_defineProperties(e.prototype,t),r&&RewardsSliderController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(RewardsSliderController,[{key:"render",value:function render(){var e=this;return(0,l.jsx)("div",{className:"rewards-slider",children:(0,l.jsx)(Dg,{slidesPerView:1,slidesPerGroup:1,initialSlide:this.props.initialSlide,className:"reward-slider",onChangeSlide:this.props.onChangeSlide,keyboardEnabled:!0,hideNavigationAndPagination:this.props.rewards&&this.props.rewards.length<=1,setSwiper:this.setSwiper,onSwipeCallback:this.props.onSwipeRewards,children:this.props.rewards.map((function(t){return(0,l.jsx)("div",{className:"swiper-slide",children:(0,l.jsx)(RewardsSlideView,{rewardId:t.rewardId,spaceId:t.spaceId,rewardImg:t.imageUrls.image,title:t.displayName,isFree:t.units<=0,hasUnits:t.units>0,units:t.units,hasTags:t.tags.length>0,tags:t.tags,description:t.displayDescription,isLocked:t.status===oh||!!t.displayLockedStatusDescription,isRedeemed:t.purchaseQuantity>=1,isLegendary:t.rarity.id===qv,isEpic:t.rarity.id===Hv,isRare:t.rarity.id===Wv,isCommon:t.rarity.id===Vv,isExotic:t.rarity.id===Bv,rarityDisplayName:t.rarity.displayName,displayLockedStatusDescription:t.displayLockedStatusDescription,hasFriendsOwningReward:e.props.hasFriendsOwningReward,nbFriendsOwningReward:e.props.nbFriendsOwningReward,friendsOwningReward:e.props.friendsOwningReward,multipleBuys:t.purchaseLimit>1,purchaseLimit:t.purchaseLimit,purchaseQuantity:t.purchaseQuantity,canRedeemSeveralTimesMore:t.purchaseQuantity<t.purchaseLimit,notEnoughUnits:e.props.nbOfUnits<t.units,loadedFriendsRewards:e.props.loadedFriendsRewards,rewardsPurchaseState:e.props.rewardsPurchaseState,onClickGetIt:e.props.onClickGetIt,profilePlatformDisplayName:t.profilePlatformDisplayName,isInMobileView:e.props.isInMobileView,showMobileViewOnDesktop:e.props.showMobileViewOnDesktop},t.rewardId)},t.rewardId)}))})})}},{key:"componentDidMount",value:function componentDidMount(){this.userSearchRefHasEventListener=!0,document.addEventListener("keyup",this.addKeyEvent)}},{key:"componentDidUpdate",value:function componentDidUpdate(e){return!1===this.userSearchRefHasEventListener&&(this.userSearchRefHasEventListener=!0,document.addEventListener("keyup",this.addKeyEvent)),null}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.userSearchRefHasEventListener=!1,document.removeEventListener("keyup",this.addKeyEvent)}},{key:"setSwiper",value:function setSwiper(e){this.swiper=e}}]),RewardsSliderController}($c))||Mv;function RewardsView(e){return(0,l.jsxs)("div",{className:el()("contentBlock load-element in-back",{in:!e.isLoadedGameRewards}),children:[(0,l.jsx)(LoaderView,{loaded:e.isLoadedGameRewards}),(0,l.jsx)("div",{className:"rewards-panel-header",children:(0,l.jsxs)("div",{className:"rewards-panel-header-content",children:[e.showSingleReward?null:(0,l.jsx)(GoBackView,{onClickGoBack:e.onClickGoBack,showGoBackText:!1}),e.showSingleReward?(0,l.jsx)(GoBackView,{onClickGoBack:e.onClickGoBackFromSelectedReward,showGoBackText:!1}):null,(0,l.jsxs)("div",{className:"titles",children:[(0,l.jsx)("div",{className:"sectionSubtitle",children:e.gameTitle}),(0,l.jsx)("div",{className:"sectionTitle",children:(0,l.jsx)(xg,{children:"Rewards"})})]})]})}),e.isLoadedGameRewards?(0,l.jsx)("div",{className:"balance-container",children:(0,l.jsx)("span",{className:"balance-text",children:(0,l.jsx)(xg,{nbOfUnits:(0,l.jsxs)("span",{className:"balance-unit-container",children:[(0,l.jsx)("span",{className:"balance-icon"}),(0,l.jsx)("span",{classID:"balance-units",children:e.nbOfUnits})]}),children:"Balance: [nbOfUnits]"})})}):null,!e.showSingleReward&&e.isLoadedGameRewards?(0,l.jsx)("div",{className:"rewards-legend-container",children:e.rarities.map((function(e){return(0,l.jsxs)("div",{className:"rewards-legend-item",children:[e.id===Bv?(0,l.jsx)("span",{className:el()("rewards-legend-item-icon","rewards-legend-item-icon--".concat(e.id)),children:(0,l.jsx)("span",{className:"reward-exotic-icon"})}):null,e.id!==Bv?(0,l.jsx)("span",{className:el()("rewards-legend-item-icon","rewards-legend-item-icon--".concat(e.id))}):null,(0,l.jsxs)("div",{className:"rewards-legend-items-icon-container",children:[(0,l.jsxs)("span",{className:"rewards-legend-item-unit",children:[e.nbOfRewardsOwned,"/",e.nbOfRewards]}),(0,l.jsx)("span",{className:"rewards-legend-item-name",children:e.displayName})]})]},e.id)}))}):null,!e.showSingleReward&&e.isLoadedGameRewards?(0,l.jsx)("div",{className:"rewards-grid",children:e.rewards.map((function(t,r){return(0,l.jsx)(RewardItemView,{rewardId:t.rewardId,spaceId:t.spaceId,offset:r,rewardImg:t.imageUrls.image,title:t.displayName,isFree:t.units<=0,hasUnits:t.units>0,units:t.units,hasTags:t.tags.length>0,tags:t.tags,hasSlider:t.purchaseLimit>1,purchaseLimit:t.purchaseLimit,purchaseQuantity:t.purchaseQuantity,isLegendary:t.rarity.id===qv,isEpic:t.rarity.id===Hv,isRare:t.rarity.id===Wv,isCommon:t.rarity.id===Vv,isExotic:t.rarity.id===Bv,isLocked:t.status===oh||!!t.displayLockedStatusDescription,onClickReward:e.onClickReward,isRedeemed:t.purchaseQuantity>=1,isInMobileView:e.isInMobileView,showMobileViewOnDesktop:e.showMobileViewOnDesktop},t.rewardId)}))}):null,e.showSingleReward&&e.isLoadedGameRewards?(0,l.jsx)(Yv,{gameTitle:e.gameTitle,rewards:e.rewards,nbOfUnits:e.nbOfUnits,initialSlide:e.initialSlide,onChangeSlide:e.onChangeSlide,hasFriendsOwningReward:e.hasFriendsOwningReward,nbFriendsOwningReward:e.nbFriendsOwningReward,friendsOwningReward:e.friendsOwningReward,loadedFriendsRewards:e.loadedFriendsRewards,rewardsPurchaseState:e.rewardsPurchaseState,onClickGetIt:e.onClickGetIt,isInMobileView:e.isInMobileView,showMobileViewOnDesktop:e.showMobileViewOnDesktop,onSwipeRewards:e.onSwipeRewards}):null]})}function SelectedGameRewardsController_typeof(e){return SelectedGameRewardsController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SelectedGameRewardsController_typeof(e)}function SelectedGameRewardsController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SelectedGameRewardsController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SelectedGameRewardsController_setPrototypeOf(e,t){return SelectedGameRewardsController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},SelectedGameRewardsController_setPrototypeOf(e,t)}function SelectedGameRewardsController_createSuper(e){var t=function SelectedGameRewardsController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=SelectedGameRewardsController_getPrototypeOf(e);if(t){var o=SelectedGameRewardsController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return SelectedGameRewardsController_possibleConstructorReturn(this,r)}}function SelectedGameRewardsController_possibleConstructorReturn(e,t){if(t&&("object"===SelectedGameRewardsController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function SelectedGameRewardsController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function SelectedGameRewardsController_getPrototypeOf(e){return SelectedGameRewardsController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},SelectedGameRewardsController_getPrototypeOf(e)}var Xv,Kv=inject({rewardsViewService:rv,analyticsService:nh})(Qv=(0,Jc.$j)(nl({isShownGameRewards:Ji.getIsShownGameRewards,showSingleReward:Ji.getShowSingleReward,initialSlide:Ji.getOffset,loadedFriendsRewards:Pn.getLoadedFriendsRewards,rewardsPurchaseState:Ji.getPurchase,isInMobileView:Uc.getIsInMobileView,showMobileViewOnDesktop:Uc.getShowMobileViewOnDesktop},rl((function(e){return $t.loaded(e)&&Zi.loaded(e)&&vn.loaded(e)&&Pn.loaded(e)}),nl({isLoadedGameRewards:!0,gameTitle:rd.getCurrentGameName,nbOfUnits:_h.getNbOfUnits,rarities:_h.getGameRewaredsRarityNumbers,rewards:_h.getGameRewards},rl((function(e){return $t.loaded(e)&&Zi.loaded(e)&&vn.loaded(e)&&Pn.loaded(e)}),nl({hasFriendsOwningReward:_h.getHasFriendsOwningReward,nbFriendsOwningReward:_h.getNbFriendsOwningReward,friendsOwningReward:_h.getFriendsOwningReward}),{hasFriendsOwningReward:!1,nbFriendsOwningReward:0,friendsOwningReward:[]})),nl({isLoadedGameRewards:!1,gameTitle:null,nbOfUnits:0,rarities:[],rewards:[]}))))(Qv=function(e){!function SelectedGameRewardsController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SelectedGameRewardsController_setPrototypeOf(e,t)}(SelectedGameRewardsController,e);var t=SelectedGameRewardsController_createSuper(SelectedGameRewardsController);function SelectedGameRewardsController(){return SelectedGameRewardsController_classCallCheck(this,SelectedGameRewardsController),t.apply(this,arguments)}return function SelectedGameRewardsController_createClass(e,t,r){return t&&SelectedGameRewardsController_defineProperties(e.prototype,t),r&&SelectedGameRewardsController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(SelectedGameRewardsController,[{key:"render",value:function render(){return(0,l.jsx)(RewardsView,{isLoadedGameRewards:this.props.isLoadedGameRewards,onClickGoBack:this.onClickGoBack,gameTitle:this.props.gameTitle,nbOfUnits:this.props.nbOfUnits,rarities:this.props.rarities,rewards:this.props.rewards,showSingleReward:this.props.showSingleReward,onClickReward:this.onClickReward,onClickGoBackFromSelectedReward:this.onClickGoBackFromSelectedReward,initialSlide:this.props.initialSlide,onChangeSlide:this.onChangeSlide,hasFriendsOwningReward:this.props.hasFriendsOwningReward,nbFriendsOwningReward:this.props.nbFriendsOwningReward,friendsOwningReward:this.props.friendsOwningReward,loadedFriendsRewards:this.props.loadedFriendsRewards,rewardsPurchaseState:this.props.rewardsPurchaseState,onClickGetIt:this.onClickGetIt,isInMobileView:this.props.isInMobileView,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,onSwipeRewards:this.props.onSwipeRewards})}},{key:"onClickGoBack",value:function onClickGoBack(){this.props.analyticsService.trackEvent("user tab","game panel : rewards","global nav","interaction","".concat(this.props.gameTitle," : game card : rewards : close panel")),this.props.analyticsService.trackPage("user tab","game panel"),scrollToTop(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.rewardsViewService.onToggleShowGameRewards(!1)}},{key:"onClickReward",value:function onClickReward(e,t,r,n){scrollToTop(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.rewardsViewService.onClickReward(e,t,r)}},{key:"onClickGoBackFromSelectedReward",value:function onClickGoBackFromSelectedReward(){scrollToTop(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.rewardsViewService.onClickGoBackFromSelectedReward()}},{key:"onChangeSlide",value:function onChangeSlide(e){e<this.props.initialSlide&&this.props.analyticsService.trackEvent("user tab","game panel : reward details","global nav","interaction","".concat(this.props.gameTitle," : game card : manage rewards : previous reward")),e>this.props.initialSlide&&this.props.analyticsService.trackEvent("user tab","game panel : reward details","global nav","interaction","".concat(this.props.gameTitle," : game card : manage rewards : next reward")),this.props.rewardsViewService.onChangeSlide(e)}},{key:"onClickGetIt",value:function onClickGetIt(e,t,r){this.props.analyticsService.trackEvent("user tab","game panel : rewards","global nav","interaction","".concat(this.props.gameTitle," : game card : manage rewards : get reward")),this.props.rewardsViewService.onClickGetIt(e,t)}}]),SelectedGameRewardsController}($c))||Qv)||Qv;function SelectedGameController_typeof(e){return SelectedGameController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SelectedGameController_typeof(e)}function SelectedGameController_regeneratorRuntime(){SelectedGameController_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==SelectedGameController_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function SelectedGameController_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function SelectedGameController_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){SelectedGameController_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){SelectedGameController_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function SelectedGameController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SelectedGameController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SelectedGameController_setPrototypeOf(e,t){return SelectedGameController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},SelectedGameController_setPrototypeOf(e,t)}function SelectedGameController_createSuper(e){var t=function SelectedGameController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=SelectedGameController_getPrototypeOf(e);if(t){var o=SelectedGameController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return SelectedGameController_possibleConstructorReturn(this,r)}}function SelectedGameController_possibleConstructorReturn(e,t){if(t&&("object"===SelectedGameController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function SelectedGameController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function SelectedGameController_getPrototypeOf(e){return SelectedGameController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},SelectedGameController_getPrototypeOf(e)}var $v=inject({communicationService:Qy,statsComparisonService:Wg,rewardsViewService:rv,analyticsService:nh,commonActionsService:qy})(Xv=(0,Jc.$j)(nl({loadedGame:!1,loadedFriends:!1,loadedGameStats:!1,loadedRewards:!1,statsCDNUrl:Ft.getStatsCDNUrl,clubUrl:Ft.getClubUrl,locale:me.getCurrentLocale,isShownGameStats:pi.getIsShownGameStats,isShownGameRewards:Ji.getIsShownGameRewards,isInMobileView:Uc.getIsInMobileView,showMobileViewOnDesktop:Uc.getShowMobileViewOnDesktop,showGameContent:oi.getShowGameContent,gameStats:[]},rl((function(e){return $t.loaded(e)&&Zi.loaded(e)&&vn.loaded(e)}),nl(rl((function(e){return rd.getHasOtherGamesPlayed(e)}),nl({loadedGame:!0,selectedPlatformCode:av.getSelectedPlatformCode,platformsForSelect:av.getMyLastPlayedGameFilteredOwnedPlatfroms,hasOnlyOnePlatform:av.getHasOnlyOneOwnedPlatform,hasOwnedPlatforms:av.getHasOwnedPlatforms,gameDate:rd.getCurrentLastPlayedDate,gameTitle:rd.getCurrentGameName,gameId:rd.getCurrentGameId,gameCoverUrl:rd.getCurrentCoverUrl,gameImageUrl:rd.getCurrentImageUrl,gameCleanUrl:rd.getCurrentGameCleanUrl,platformsByApplicationId:$t.getPlatformsByApplicationId,hasNoSessionData:rd.getHasNoSessionData},rl((function(e){return Gr.loaded(e)&&wo.loaded(e)}),nl({friendsPlaying:ad.getFriendsPlayingGameNames,loadedFriends:!0},rl((function(e){return mn.loaded(e)&&mn.loadedFriendsStats(e)}),nl({hasGameStats:Rd.hasLastPlayedGameStats,gameStats:Rd.getLastPlayedGameStatsWithRank,loadedGameStats:!0})))),rl((function(e){return Pn.loaded(e)}),nl({nbOfRewardsOwned:_h.getNbRewardsOwned,nbOfRewards:_h.getNbOfTotalRewards,nbOfUnits:_h.getNbOfUnits,loadedRewards:!0}))))))))(Xv=function(e){!function SelectedGameController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SelectedGameController_setPrototypeOf(e,t)}(SelectedGameController,e);var t,r,n=SelectedGameController_createSuper(SelectedGameController);function SelectedGameController(){return SelectedGameController_classCallCheck(this,SelectedGameController),n.apply(this,arguments)}return function SelectedGameController_createClass(e,t,r){return t&&SelectedGameController_defineProperties(e.prototype,t),r&&SelectedGameController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(SelectedGameController,[{key:"render",value:function render(){return(0,l.jsx)(SelectedGameView,{gameDate:this.props.gameDate,gameTitle:this.props.gameTitle,gameId:this.props.gameId,selectedPlatformCode:this.props.selectedPlatformCode,platformsForSelect:this.props.platformsForSelect,hasOnlyOnePlatform:this.props.hasOnlyOnePlatform,onChangePlatform:this.onChangePlatform,loadedGame:this.props.loadedGame,hasOwnedPlatforms:this.props.hasOwnedPlatforms,friendsPlaying:this.props.friendsPlaying,loadedGameStats:this.props.loadedGameStats,hasGameStats:this.props.hasGameStats,gameStats:this.props.gameStats,statsCDNUrl:this.props.statsCDNUrl,gameCoverUrl:this.props.gameCoverUrl,gameImageUrl:this.props.gameImageUrl,clubUrl:this.props.clubUrl,locale:this.props.locale,gameCleanUrl:this.props.gameCleanUrl,nbOfRewardsOwned:this.props.nbOfRewardsOwned,nbOfRewards:this.props.nbOfRewards,loadedFriends:this.props.loadedFriends,loadedRewards:this.props.loadedRewards,onClickGameStats:this.onClickGameStats,onClickGameRewards:this.onClickGameRewards,isShownGameStats:this.props.isShownGameStats,isInMobileView:this.props.isInMobileView,onClickGoBack:this.onClickGoBack,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,isShownGameRewards:this.props.isShownGameRewards,nbOfUnits:this.props.nbOfUnits,hasNoSessionData:this.props.hasNoSessionData,children:this.props.isShownGameStats?(0,l.jsx)(Nv,{_detailsScrollableRef:this.props._detailsScrollableRef,_scrollableRef:this.props._scrollableRef}):this.props.isShownGameRewards?(0,l.jsx)(Kv,{_detailsScrollableRef:this.props._detailsScrollableRef,_scrollableRef:this.props._scrollableRef,onSwipeRewards:this.props.onSwipeRewards}):(0,l.jsx)("noscript",{})})}},{key:"onChangePlatform",value:(r=SelectedGameController_asyncToGenerator(SelectedGameController_regeneratorRuntime().mark((function _callee(e,t){return SelectedGameController_regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return this.props.analyticsService.trackEvent("user tab","game panel","global nav","interaction","".concat(this.props.gameTitle," : game card : platform selector: ").concat(this.props.platformsByApplicationId[t]?this.props.platformsByApplicationId[t].displayName:null)),r.next=3,this.props.commonActionsService.onChangeLPGPltform(e,t);case 3:case"end":return r.stop()}}),_callee,this)}))),function onChangePlatform(e,t){return r.apply(this,arguments)})},{key:"onClickGameStats",value:function onClickGameStats(){this.props.analyticsService.trackEvent("user tab","game panel","global nav","interaction","".concat(this.props.gameTitle," : game card : show more stats")),this.props.analyticsService.trackPage("user tab","game panel : stats"),scrollToTop(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.statsComparisonService.onToggleShowGameStats(!0,this.props._detailsScrollableRef)}},{key:"onClickGameRewards",value:function onClickGameRewards(){this.props.analyticsService.trackEvent("user tab","game panel","global nav","interaction","".concat(this.props.gameTitle," : game card : manage rewards")),this.props.analyticsService.trackPage("user tab","game panel : rewards"),scrollToTop(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.rewardsViewService.onToggleShowGameRewards(!0,this.props._detailsScrollableRef)}},{key:"onClickGoBack",value:(t=SelectedGameController_asyncToGenerator(SelectedGameController_regeneratorRuntime().mark((function _callee2(){return SelectedGameController_regeneratorRuntime().wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return this.props.analyticsService.trackEvent("user tab","game panel","global nav","interaction","".concat(this.props.gameTitle," : game card : close panel")),this.props.analyticsService.trackPage("user tab","player card"),scrollToTop(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),e.next=5,this.props.commonActionsService.toggleOpenDetailsViewState(!1,this.props.communicationService.getWindowsWidth(),this.props.communicationService.getWindowsHeight(),this.props.communicationService.getIframeBoundingClientRect());case 5:case"end":return e.stop()}}),_callee2,this)}))),function onClickGoBack(){return t.apply(this,arguments)})}]),SelectedGameController}($c))||Xv)||Xv;function UserNameRulesView(e){return(0,l.jsxs)(InfoDropdownView,{showDropdown:!0,warningTypeDropdown:!0,arrowIconTypeDropdown:!0,onClickToggleShowDropdown:null,dropdownText:(0,l.jsxs)("span",{children:[(0,l.jsx)(xg,{children:"Username rules"}),":"]}),noDropDown:!0,children:[(0,l.jsxs)("li",{className:el()("spinner-item",{ko:!0===e.hasUserNameLengthError,ok:!1===e.hasUserNameLengthError}),children:[(0,l.jsx)("i",{className:el()({"icon-close":!0===e.hasUserNameLengthError,"icon-checkmark":!1===e.hasUserNameLengthError,"icon-spinner":null===e.hasUserNameLengthError})}),(0,l.jsx)("span",{className:"spinner-text",children:(0,l.jsx)(xg,{threeToFifteen:(0,l.jsx)("strong",{children:(0,l.jsx)(xg,{children:"3 to 15 characters"})}),children:"Enter [threeToFifteen]."})})]}),(0,l.jsxs)("li",{className:el()("spinner-item",{ko:!0===e.hasUserNameStartError,ok:!1===e.hasUserNameStartError}),children:[(0,l.jsx)("i",{className:el()({"icon-close":!0===e.hasUserNameStartError,"icon-checkmark":!1===e.hasUserNameStartError,"icon-spinner":null===e.hasUserNameStartError})}),(0,l.jsx)("span",{className:"spinner-text",children:(0,l.jsx)("strong",{children:(0,l.jsx)(xg,{children:"Start with a letter."})})})]}),(0,l.jsxs)("li",{className:el()("spinner-item",{ko:!0===e.hasUserNameCharactersError,ok:!1===e.hasUserNameCharactersError,validating:e.callingValidation}),children:[(0,l.jsx)("i",{className:el()({"icon-close":!0===e.hasUserNameCharactersError,"icon-checkmark":!1===e.hasUserNameCharactersError,validating:e.callingValidation,"icon-spinner":null===e.hasUserNameCharactersError})}),(0,l.jsx)("span",{className:"spinner-text",children:(0,l.jsx)(xg,{letters:(0,l.jsx)("strong",{children:(0,l.jsx)(xg,{children:"letters"})}),numerals:(0,l.jsx)("strong",{children:(0,l.jsx)(xg,{children:"numerals"})}),children:"Use only [letters], [numerals], and the following punctuation: underscore (_), dash (-), and period (.)."})})]}),(0,l.jsxs)("li",{className:el()({ko:!0===e.hasUserNameUbisoftError||!0===e.hasUserNameCompanyError||!0===e.hasUserNameLocalizedError,ok:!1===e.hasUserNameUbisoftError||!1===e.hasUserNameCompanyError||!1===e.hasUserNameLocalizedError,validating:e.callingValidation}),children:[(0,l.jsx)("i",{className:el()({"icon-close":!0===e.hasUserNameUbisoftError||!0===e.hasUserNameCompanyError||!0===e.hasUserNameLocalizedError,"icon-checkmark":!1===e.hasUserNameUbisoftError||!1===e.hasUserNameCompanyError||!1===e.hasUserNameLocalizedError,validating:e.callingValidation})}),(0,l.jsx)(xg,{children:'Please don\'t use any variation of "Ubisoft" in your username'})]}),(0,l.jsxs)("li",{className:el()({ko:!0===e.hasUserNameUniqueError,ok:!1===e.hasUserNameUniqueError,validating:e.callingValidation}),children:[(0,l.jsx)("i",{className:el()({"icon-close":!0===e.hasUserNameUniqueError,"icon-checkmark":!1===e.hasUserNameUniqueError,validating:e.callingValidation})}),e.hasUserNameUniqueError?null:(0,l.jsx)(xg,{children:"Try to be unique. Duplicate usernames will be rejected."}),e.hasUserNameUniqueError?[(0,l.jsx)(xg,{children:"Unavailable."},"0"),"",(0,l.jsx)(xg,{children:"Please enter another username."},"2")]:null]}),(0,l.jsxs)("li",{className:el()({ko:!0===e.hasUserNameRestrictedError,ok:!1===e.hasUserNameRestrictedError,validating:e.callingValidation}),children:[(0,l.jsx)("i",{className:el()({"icon-close":!0===e.hasUserNameRestrictedError,"icon-checkmark":!1===e.hasUserNameRestrictedError,validating:e.callingValidation})}),e.hasUserNameRestrictedError?null:(0,l.jsx)(xg,{children:"Don't use offensive words in your username."}),e.hasUserNameRestrictedError?(0,l.jsx)(xg,{children:"Our filters detect the use of restricted words here."}):null]}),e.hasUserNameGeneralError?(0,l.jsx)("li",{className:el()("ko",{validating:e.callingValidation}),children:(0,l.jsx)(xg,{children:"An error has occurred, please try again later."})}):null]})}function UserNameChangeView_typeof(e){return UserNameChangeView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UserNameChangeView_typeof(e)}function UserNameChangeView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UserNameChangeView_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UserNameChangeView_setPrototypeOf(e,t){return UserNameChangeView_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},UserNameChangeView_setPrototypeOf(e,t)}function UserNameChangeView_createSuper(e){var t=function UserNameChangeView_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=UserNameChangeView_getPrototypeOf(e);if(t){var o=UserNameChangeView_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return UserNameChangeView_possibleConstructorReturn(this,r)}}function UserNameChangeView_possibleConstructorReturn(e,t){if(t&&("object"===UserNameChangeView_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return UserNameChangeView_assertThisInitialized(e)}function UserNameChangeView_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UserNameChangeView_getPrototypeOf(e){return UserNameChangeView_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},UserNameChangeView_getPrototypeOf(e)}function UserNameChangeView_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jv,Zv=r(76228),em=function(e){!function UserNameChangeView_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UserNameChangeView_setPrototypeOf(e,t)}(UserNameChangeView,e);var t=UserNameChangeView_createSuper(UserNameChangeView);function UserNameChangeView(){var e;UserNameChangeView_classCallCheck(this,UserNameChangeView);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return UserNameChangeView_defineProperty(UserNameChangeView_assertThisInitialized(e=t.call.apply(t,[this].concat(n))),"state",{userName:e.props.userName}),e}return function UserNameChangeView_createClass(e,t,r){return t&&UserNameChangeView_defineProperties(e.prototype,t),r&&UserNameChangeView_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(UserNameChangeView,[{key:"render",value:function render(){return(0,l.jsxs)("div",{className:"user-name-change-container",children:[this.props.isInMobileView||this.props.showMobileViewOnDesktop?(0,l.jsx)("div",{className:"username-change-mobile",children:(0,l.jsxs)("div",{className:"username-change-mobile-header",children:[(0,l.jsx)(GoBackView,{onClickGoBack:this.props.onClose,showGoBackText:!1}),(0,l.jsx)("div",{className:"titles",children:(0,l.jsx)("div",{className:"sectionTitle",children:(0,l.jsx)(xg,{children:"Username Edition"})})})]})}):null,(0,l.jsxs)("div",{className:"user-name-change",children:[this.props.isInMobileView||this.props.showMobileViewOnDesktop?null:(0,l.jsx)("span",{className:"title",children:(0,l.jsx)(xg,{children:"Username Edition"})}),(0,l.jsxs)("div",{className:el()("input-container",{"has-time-limit-error":this.props.hasUserTimeLimitError}),children:[(0,l.jsx)("input",{type:"text",id:"user-name",className:el()("input-text",{"has-error":this.props.hasError}),onChange:this.handleChangeUserName.bind(this),value:this.state.userName}),this.props.hasUserTimeLimitError?(0,l.jsx)("i",{className:"icon-lock1"}):null]}),(0,l.jsxs)("span",{className:el()("title-warning",{error:this.props.hasUserTimeLimitError}),children:[(0,l.jsx)("img",{src:Zv,alt:"warning",title:"warning",className:"warning-image"}),this.props.hasUserTimeLimitError?null:(0,l.jsx)(xg,{onceEveryThirtyDays:(0,l.jsx)("strong",{children:(0,l.jsx)(xg,{children:"once every 30 days"})}),children:"You can change it no more than [onceEveryThirtyDays]."}),this.props.hasUserTimeLimitError?(0,l.jsx)(xg,{children:"You've already changed your username once within the last 30 days."}):null]})]}),this.props.hasUserTimeLimitError?null:(0,l.jsx)(UserNameRulesView,{showRules:this.props.showRules,hasError:this.props.hasError,errorType:this.props.errorType,localizedMessage:this.props.localizedMessage,onClickToggleShowRules:this.props.onClickToggleShowRules,hasUserNameLengthError:this.props.hasUserNameLengthError,hasUserNameStartError:this.props.hasUserNameStartError,hasUserNameCharactersError:this.props.hasUserNameCharactersError,hasUserNameCompanyError:this.props.hasUserNameCompanyError,hasUserNameUniqueError:this.props.hasUserNameUniqueError,hasUserNameRequiredError:this.props.hasUserNameRequiredError,hasUserNameRestrictedError:this.props.hasUserNameRestrictedError,hasUserNameLocalizedError:this.props.hasUserNameLocalizedError,hasUserNameGeneralError:this.props.hasUserNameGeneralError,hasUserNameUbisoftError:this.props.hasUserNameUbisoftError,callingValidation:this.props.callingValidation}),this.props.hasUserTimeLimitError?null:(0,l.jsxs)("div",{className:"submit",children:[(0,l.jsx)("a",{onClick:this.props.onClose.bind(null),className:"btn secondary latPadding",children:(0,l.jsx)(xg,{children:"Cancel"})}),(0,l.jsx)("a",{onClick:this.props.onClickSaveUserName.bind(null,this.state.userName),className:el()("btn primary latPadding",{disabled:this.props.hasError}),children:(0,l.jsx)(xg,{children:"Save"})})]})]})}},{key:"handleChangeUserName",value:function handleChangeUserName(e){var t=this;e&&e.target&&this.setState({userNa(t.state.userName)}))}},{key:"componenis.state.userName)}}]),UserNameChangeView}(zc.PureComponent);function ChangeUserNameController_typeof(e){return ChangeUserNameController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ChangeUserNameController_typeof(e)}function ChangeUserNameController_regeneratorRuntime(){ChangeUserNameController_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==ChangeUserNameController_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function ChangeUserNameController_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ChangeUserNameController_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){ChangeUserNameController_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){ChangeUserNameController_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function ChangeUserNameController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ChangeUserNameController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ChangeUserNameController_setPrototypeOf(e,t){return ChangeUserNameController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ChangeUserNameController_setPrototypeOf(e,t)}function ChangeUserNameController_createSuper(e){var t=function ChangeUserNameController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ChangeUserNameController_getPrototypeOf(e);if(t){var o=ChangeUserNameController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ChangeUserNameController_possibleConstructorReturn(this,r)}}function ChangeUserNameController_possibleConstructorReturn(e,t){if(t&&("object"===ChangeUserNameController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ChangeUserNameController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ChangeUserNameController_getPrototypeOf(e){return ChangeUserNameController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ChangeUserNameController_getPrototypeOf(e)}var tm,rm=inject({nameChangeService:Jg,communicationService:Qy})(Jv=(0,Jc.$j)((function(){return nl({callingValidation:Xo.getIsCallingValidation,isValidating:Xo.getIsValidating,showRules:Xo.getShowRules,hasError:Xo.getHasError,errorType:Xo.getErrorType,localizedMessage:Xo.getValidationErrorLocalizedMessage,userName:uu,hasUserNameLengthError:$g.getHasUserNameLengthError,hasUserNameStartError:$g.getHasStartError,hasUserNameCharactersError:$g.getHasCharacterError,hasUserNameCompanyError:$g.getHasCompanyError,hasUserNameUniqueError:$g.getHasUserNameErrorAvailable,hasUserNameRequiredError:$g.getHasUserNameErrorRequired,hasUserNameRestrictedError:$g.getHasUserNameErrorRestricted,hasUserNameLocalizedError:$g.getHasUserNameErrorLocalized,hasUserNameGeneralError:$g.getHasUserNameErrorGeneral,hasUserTimeLimitError:$g.getHasUserNameErrorTimeLimit,hasUserNameUbisoftError:$g.getHasUserNameUbisoftError,isInMobileView:Uc.getIsInMobileView,showMobileViewOnDesktop:Uc.getShowMobileViewOnDesktop})}))(Jv=function(e){!function ChangeUserNameController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ChangeUserNameController_setPrototypeOf(e,t)}(ChangeUserNameController,e);var t,r,n=ChangeUserNameController_createSuper(ChangeUserNameController);function ChangeUserNameController(){return ChangeUserNameController_classCallCheck(this,ChangeUserNameController),n.apply(this,arguments)}return function ChangeUserNameController_createClass(e,t,r){return t&&ChangeUserNameController_defineProperties(e.prototype,t),r&&ChangeUserNameController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ChangeUserNameController,[{key:"render",value:function render(){return(0,l.jsx)(em,{callingValidation:this.props.callingValidation,hasUserTimeLimitError:this.props.hasUserTimeLimitError,showRules:this.props.showRules,hasError:this.props.hasError,errorType:this.props.errorType,localizedMessage:this.props.localizedMessage,onClickToggleShowRules:this.onClickToggleShowRules,hasUserNameLengthError:this.props.hasUserNameLengthError,hasUserNameStartError:this.props.hasUserNameStartError,hasUserNameCharactersError:this.props.hasUserNameCharactersError,hasUserNameCompanyError:this.props.hasUserNameCompanyError,hasUserNameUniqueError:this.props.hasUserNameUniqueError,hasUserNameRequiredError:this.props.hasUserNameRequiredError,hasUserNameRestrictedError:this.props.hasUserNameRestrictedError,hasUserNameUbisoftError:this.props.hasUserNameUbisoftError,hasUserNameLocalizedError:this.props.hasUserNameLocalizedError,hasUserNameGeneralError:this.props.hasUserNameGeneralError,onClose:this.onClose,onClickSaveUserName:this.onClickSaveUserName,userName:this.props.userName,checkIfUserNameIsValid:this.checkIfUserNameIsValid,isInMobileView:this.props.isInMobileView,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,handleChangeUserName:this.handleChangeUserName})}},{key:"onClickToggleShowRules",value:function onClickToggleShowRules(e,t){t.preventDefault(),this.props.nameChangeService.handleToggleShowRules(e)}},{key:"onClose",value:(r=ChangeUserNameController_asyncToGenerator(ChangeUserNameController_regeneratorRuntime().mark((function _callee(e){return ChangeUserNameController_regeneratorRuntime().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),scrollToTop(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.nameChangeService.goBackToValidateState(),t.next=5,this.props.nameChangeService.handleCloseUserName();case 5:case"end":return t.stop()}}),_callee,this)}))),function onClose(e){return r.apply(this,arguments)})},{key:"onClickSaveUserName",value:(t=ChangeUserNameController_asyncToGenerator(ChangeUserNameController_regeneratorRuntime().mark((function _callee2(e,t){return ChangeUserNameController_regeneratorRuntime().wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),scrollToTop(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),r.next=4,this.props.nameChangeService.saveUserName(e);case 4:case"end":return r.stop()}}),_callee2,this)}))),function onClickSaveUserName(e,r){return t.apply(this,arguments)})},{key:"checkIfUserNameIsValid",value:function checkIfUserNameIsValid(e){this.props.nameChangeService.checkIfUserNameIsValid(e)}},{key:"handleCheChangeUserName(e)}}]),ChangeUserNameController}($c))||Jv)||Jv,nm=(0,I.P1)("RecentlyMetQueries.getMyRecentlyMetRelations",Jo.getEntities,iu,(function(e,t){return e.filter((function(e){return-1!==t.indexOf(e.profileId)&&e.relationList.length>0}))})),om=(0,I.P1)("RecentlyMetQueries.getRecentlyMetProfileIdsInTheLast2Weeks",nm,(function(e){var t=[];return e.forEach((function(e){e.relationList.map((function(e){t=t.concat(e.relations.filter((function(e){return a()(e.lastTime)>a()().subtract(14,"days").startOf("day")})).map((function(e){return e.userId})))}))})),t&&t.length>0?t:[]})),im=(0,I.P1)("RecentlyMetQueries.getMyRecentlyMetRelationLists",nm,(function(e){var t=[at(e.relationList)})),t})),am=(0,I.P1)("RecentlyMetQueries.getMyRecentlyMetFriends",im,$t.getBySpaceId,An.getById,An.getByUserId,Ft.getAvatarsUrl,pt.getApplicationId,$l,Vi.getById,(function(e,t,r,n,o,i,s,c){var l=[];return e.forEach((function(e){var u=t[e.spaceId]?t[e.spaceId].title:null;e.relations.filter((function(e){return a()(e.lastTime)>a()().subtract(14,"days").startOf("day")})).sort((function(e,t){return a()(t.lastTime).unix()-a()(e.lastTime).unix()})).forEach((function(e){var t=r[e.userId],a=n[e.userId]?n[e.userId].map((function(e){return r[e]})):[],f=s[e.userId];if(!f||f&&(f.state!==gl||!f.state)){var d=a.find((function(e){return e.platformType==il})),p=a.find((function(e){return e.platformType==sl})),h=a.find((function(e){return e.platformType==cl}));l.push({pid:e.userId,userAvatarUrl:"".concat(o,"/").concat(e.userId,"/default_146_146.png?appId=").concat(i),userName:t?t.nameOnPlatform:null,hasPsnProfile:!!d,psnName:d?d.nameOnPlatform:null,hasSteamProfile:!!h,steamName:h?h.nameOnPlatform:null,hasXboxProfile:!!p,xboxName:p?p.nameOnPlatform:null,friendState:f?f.state:pl,invitationRequestDate:null,currentGameTitle:u,gameLastTimeMet:e.lastTime,userLevel:c[e.userId]?c[e.userId].levelastTimeMet).unix()})),l})),sm={getMyRecentlyMetRelations:nm,getRecentlyMetProfileIdsInTheLast2Weeks:om,getMyRecentlyMetRelationLists:im,getMyRecentlyMetFriends:am,getHasRecentlyMetFriends:(0,I.P1)("RecentlyMetQueries.getHasRecentlyMetFriends",am,(function(e){return e.length>0})),getMyRecentlyMetFriendsForCarousel:(0,I.P1)("RecentlyMetQueries.getHasRecentlyMetFriends",am,(function(e){return e}))},cm=(0,I.P1)("MetaProgressionProfileQueries.getIsMyPlayerProfileLoaded",Vi.getLoaded,vl.getHasIdentity,vl.getUserId,(function(e,t,r){return!!t&&(!!e[r]&&e[r])})),lm=(0,I.P1)("MetaProgressionProfileQueries.getMyPlayerProfile",Vi.getById,vl.getHasIdentity,vl.getUserId,(function(e,t,r){return t&&e[r]?e[r]:null})),um=(0,I.P1)("MetaProgressionProfileQueries.getHasProfileCallError",Vi.getHasProfileCallError,vl.getHasIdentity,vl.getUserId,(function(e,t,r){return!!t&&(!!e[r]&&e[r])})),fm=(0,I.P1)("MetaProgressionProfileQueries.getMyLevel",lm,(function(e){return e&&e.level?e.level:0})),dm=(0,I.P1)("MetaProgressionProfileQueries.getFriendPlayerProfile",Vi.getById,Ci.urn e[t]?e[t]:null})),pm={getIsMyPlayerProfileLoaded:cm,getMyPlayerProfile:lm,getHasProfileCallError:um,getMyLevel:fm,getFriendPlayerProfile:dm,getFriendLevel:(0,I.P1)("MetaProgressionProfileQueries.&e.level?e.level:0})),getFriendProfileLoaded:(0,I.P1)("MetaProgressionProfileQueries.getFriendProfileLoaded",Vi.getLoaded,Ci.getCurrentFriendId,(function(e,t){return!!t&&(void 0===e[t]||e[t])})),getRecentlyMetProfilesLoaded:(0,I.P1)("MetaProgressionProfileQueries.getRecentlyMetProfilesLoaded",Vi.getLoaded,sm.getRecentlyMetProfileIdsInTheLast2Weeks,(function(e,t){return!t.length||t.every((function(t){return!0===e[t]}))}))},hm=(0,I.P1)("ExpandedQueries.getAccountUrl",pt.getHasOverwrittenLinks,pt.getOverwrittenAccountLink,Ft.getAccountUrl,(function(e,t,r){return e&&t?t:"".concat(r)})),ym=(0,I.P1)("ExpandedQueries.getCustomerSupportUrl",pt.getHasOverwrittenLinks,pt.getOverwrittenSupportLink,Ft.getCustomerSupportUrl,me.getCurrentLocale,(function(e,t,r,n){return e&&t?t:r.includes("{locale}")?r.replace("{locale}",n):"".concat(r,"/").concat(n)})),gm=(0,I.P1)("ExpandedQueries.getStoreUrl",pt.getHasOverwrittenLinks,pt.getOverwrittenStoreLink,Ft.getUbiStoreUrl,me.getCurrentLocale,(function(e,t,r,n){return e&&t?t:"".concat(r,"/").concat(n.split("-").length?n.split("-")[0]:n)})),vm=(0,I.P1)("ExpandedQueries.getShow",isActive$,Uc.getIsInMobileView,Uc.getShowMobileTabs,(function(e,t,r){return e||t&&r})),mm=(0,I.P1)("ExpandedQueries.getScrollbarContainerHeightForExpandedView",Uc.getIsInMobileView,Uc.getWindowInnerHeight,Uc.getCollapsedHeight,pt.getIsInDesktopResize,vm,Uc.computeScrollbarContainerHeight),bm={getAccountUrl:hm,getCustomerSupportUrl:ym,getStoreUrl:gm,getShow:vm,getScrollbarContainerHeightForExpandedView:mm,getScrollbarContainerMaxHeightForExpandeView:(0,I.P1)("ExpandedQueries.getScrollbarContainerMaxHeightForExpandeView",Uc.get){return e?null:t})),getScrollbarHeightForExpandedView:(0,I.P1)("ExpandedQueries.getScrollbarHeightForExpandedView",Uc.getIsInMobileView,Uc.getWindowInnerHeight,Uc.getCollapsedHeight,Uc.getTrackingBannerHeight,pt.getIsInDesktopResize,vm,Uc.computeScrollbarHeight),gameCustomerSupport:(0,I.P1)("ExpandedQueries.gameCustomerSupport",Uc.getNewLastPlayGameInstallmentId,ym,$t.getByPlatformApplicationId,$t.getBySpaceId,$t.getSiblingsSpaceIdsByParentSpaceId,(function(e,t,r,n,o){if(!e)return t;var i=(0,s.find)(n,(function(t){return t.installmentId==e||t.spaceId==e||wl.isInSiblingsSpaceIds(o,t.spaceId,e)}));return i&&r[i.spaceId]&&n[r[i.spaceId].parentSpaceId]&&n[r[i.spaceId].parentSpaceId].links&&n[r[i.spaceId].parentSpaceId].links.supportLink?n[r[i.spaceId].parentSpaceId].links.supportLink:t}))};function ExpandedController_typeof(e){return ExpandedController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ExpandedController_typeof(e)}function ExpandedController_regeneratorRuntime(){ExpandedController_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==ExpandedController_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function ExpandedController_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ExpandedController_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){ExpandedController_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){ExpandedController_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function ExpandedController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ExpandedController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ExpandedController_setPrototypeOf(e,t){return ExpandedController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ExpandedController_setPrototypeOf(e,t)}function ExpandedController_createSuper(e){var t=function ExpandedController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ExpandedController_getPrototypeOf(e);if(t){var o=ExpandedController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ExpandedController_possibleConstructorReturn(this,r)}}function ExpandedController_possibleConstructorReturn(e,t){if(t&&("object"===ExpandedController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ExpandedController_assertThisInitialized(e)}function ExpandedController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ExpandedController_getPrototypeOf(e){return ExpandedController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ExpandedController_getPrototypeOf(e)}function ExpandedController_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Sm,wm=inject({communicationService:Qy,emailVerificationService:Uh,nameChangeService:Jg,changeAvatarService:Ev,otherGamesCarouselService:ov,analyticsService:nh,commonActionsService:qy})(tm=(0,Jc.$j)((function(e,t){return nl({show:isActive$,clubUrl:Ft.getClubUrl,accountUrl:bm.getAccountUrl,customerSupportUrl:bm.getCustomerSupportUrl,storeUrl:bm.getStoreUrl,locale:me.getCurrentLocale,isLocaleXpTranslationTooLong:kv.getIsLocaleXpTranslationTooLong,integratorCustomerSupportUrls:pt.getCustomerSupportLinks,lastPlayedGamePlatforms:[],youMightLikeGamePlatformsMapedNames:[],hasOverwrittenLinks:pt.getHasOverwrittenLinks,overwrittenAccountLink:pt.getOverwrittenAccountLink,overwrittenSupportLink:pt.getOverwrittenSupportLink,hasOnlyOnePlatform:!1,hasOwnedPlatforms:!1,showChangeUserName:Xo.getShowChangeUserName,showUserNameRules:Xo.getShowRules,showAvatarComponent:J.getShowAvatarComponent,selectedAvatarId:J.getAvatarId,loadedAvatar:Zo.getLoaded,lastPlayedGameCarouselOffset:oi.getCurrentLastPlayedGameOffset,showPlayerCardDetails:Uc.getShowPlayerCardDetails,showDetailsView:Uc.getShowDetailsView,showGameContent:oi.getShowGameContent,loadedGames:!1,showMobileViewOnDesktop:Uc.getShowMobileViewOnDesktop,scrollbarWidth:pt.getScrollbarWidth,noActiveClickOnMenu:Uc.getNoActiveClickOnMenu,showStatsHeaderOnPlayerCardDetails:Uc.getShowStatsHeaderOnPlayerCardDetails,otherGames:[],areAvatarsInMaintenance:Ft.getAreAvatarsInMaintenance,avatarsMaintenanceStartDate:Ft.getAvatarsMaintenanceStartDate,avatarsMaintenanceEndDate:Ft.getAvatarsMaintenanceEndDate,collapsedHeight:Uc.getCollapsedHeight,ubiStoreUrl:Ft.getUbiStoreUrl,windowInnerHeight:Uc.getWindowInnerHeight,scrollbarNegativeMargin:Uc.getIframeScrollWidth,isAccountLinkOverwritten:pt.isAccountLinkOverwritten,isSupportLinkOverwritten:pt.isSupportLinkOverwritten,isStoreLinkOverwritten:pt.isStoreLinkOverwritten,overwrittenAccountLinkUrl:pt.getOverwrittenAccountLinkString,overwrittenSupportLinkUrl:pt.getOverwrittenSupportLinkString,overwrittenStoreLinkUrl:pt.getOverwrittenStoreLinkString,overwrittenAccountLinkAction:pt.getOverwrittenAccountLinkAction,overwrittenSupportLinkAction:pt.getOverwrittenSupportLinkAction,overwrittenStoreLinkAction:pt.getOverwrittenStoreLinkAction,isInMobileView:Uc.getIsInMobileView,hasCustomStoreBuyButton:pt.getHasCustomStoreBuyButton,height:bm.getScrollbarContainerHeightForExpandedView,maxHeight:bm.getScrollbarContainerMaxHeightForExpandeView,top:Uc.getTopPositionForScrollbarContainer,scrollbarHeight:bm.getScrollbarHeightForExpandedView},rl(vl.hasIdentity,nl({userId:vl.getUserId,username:lu,twoFactorAuthStatus:Xo.getTwoFactorAuthStatus},rl((function(e){return pm.getIsMyPlayerProfileLoaded(e)}),nl({level:pm.getMyLevel,myNbOfYearsOfMemebership:rg.getMyNbOfYearsWithUbi,hasProfileCallError:pm.getHasProfileCallError})),rl((function(e){return $t.loaded(e)&&Zi.loaded(e)&&vn.loaded(e)}),nl({customerSupportUrl:bm.gameCustomerSupport})),rl((function(e){return $t.loaded(e)&&Zi.loaded(e)&&vn.loaded(e)}),nl({loadedGames:!0,hasOnlyOnePlatform:rd.getHasYouMightLikeGameOnlyOnePlatform,hasNoGamesPlayed:rd.getHasNoGamesPlayed,youMightLikeGamePlatformsMapedNames:rd.getYouMightLikeGamePlatformsMapedNames,hasYouMightLikeGame:rd.getHasYouMightLikeGame,youMightLikeGame:rd.getYouMightLikeGame,otherGames:rd.getOtherGamesPlayed,hasYouMightAlsoLikeGames:rd.getHasYouMightAlsoLikeGames,youMightAlsoLikeGames:rd.getYouMightAlsoLikeGames,myNbOfGamesOwned:rd.getMyNbOfGamesOwned})))))}))(tm=function(e){!function ExpandedController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ExpandedController_setPrototypeOf(e,t)}(ExpandedController,e);var t,r,n,o,i,s,c,u,f=ExpandedController_createSuper(ExpandedController);function ExpandedController(){var e;ExpandedController_classCallCheck(this,ExpandedController);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ExpandedController_defineProperty(ExpandedController_assertThisInitialized(e=f.call.apply(f,[this].concat(r))),"state",{isSwipeOtherGames:!1,isSwipeRewards:!1,isSwipeAvatar:!1}),ExpandedController_defineProperty(ExpandedController_assertThisInitialized(e),"changeTooltipState",null),ExpandedController_defineProperty(ExpandedController_assertThisInitialized(e),"_swipeRef",void 0),ExpandedController_defineProperty(ExpandedController_assertThisInitialized(e),"_scrollableRef",void 0),ExpandedController_defineProperty(ExpandedController_assertThisInitialized(e),"_detailsScrollableRef",void 0),ExpandedController_defineProperty(ExpandedController_assertThisInitialized(e),"swiper",void 0),ExpandedController_defineProperty(ExpandedController_assertThisInitialized(e),"intervalIds",[]),ExpandedController_defineProperty(ExpandedController_assertThisInitialized(e),"scrollableRef",(function(t){return e._scrollableRef=t})),ExpandedController_defineProperty(ExpandedController_assertThisInitialized(e),"detailsScrollableRef",(function(t){return e._detailsScrollableRef=t})),e}return function ExpandedController_createClass(e,t,r){return t&&ExpandedController_defineProperties(e.prototype,t),r&&ExpandedController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ExpandedController,[{key:"setSwipeRef",value:function setSwipeRef(e){this._swipeRef=e}},{key:"render",value:function render(){return(0,l.jsx)(ExpandedView,{show:this.props.show,swipeRef:this.setSwipeRef,isInMobileView:this.props.isInMobileView,avatarUrl:this.props.avatarUrl,username:this.props.username,level:this.props.level,loadedGames:this.props.loadedGames,locale:this.props.locale,isLocaleXpTranslationTooLong:this.props.isLocaleXpTranslationTooLong,accountUrl:this.props.accountUrl,customerSupportUrl:this.props.customerSupportUrl,storeUrl:this.props.storeUrl,integratorCustomerSupportUrls:this.props.integratorCustomerSupportUrls||[],youMightLikeGamePlatformsMapedNames:this.props.youMightLikeGamePlatformsMapedNames,onClickAccountInformation:this.handleOnClickAccountInformation,onClickHelpAndSupport:this.handleOnClickHelpAndSupport,onClickStore:this.handleOnClickStore,onClickYouMightAlsoLikeGame:this.onClickYouMightAlsoLikeGame,onClickLogout:this.handleOnClickLogout,onClickCustomLink:this.onClickCustomLink,hasProfileCallError:this.props.hasProfileCallError,hasOnlyOnePlatform:this.props.hasOnlyOnePlatform,onClickChangeUserName:this.onClickChangeUserName,showChangeUserName:this.props.showChangeUserName,onClickAvatar:this.onClickAvatar,showAvatarComponent:this.props.showAvatarComponent,scrollableRef:this.scrollableRef,onSwipeOtherGames:this.onSwipeOtherGames,myNbOfGamesOwned:this.props.myNbOfGamesOwned,myNbOfYearsOfMemebership:this.props.myNbOfYearsOfMemebership,twoFactorAuthStatus:this.props.twoFactorAuthStatus,selectedAvatarId:this.props.selectedAvatarId,loadedAvatar:this.props.loadedAvatar,onClickCancelSaveAvatar:this.onClickCancelSaveAvatar,onClickSaveAvatar:this.onClickSaveAvatar,showPlayerCardDetails:this.props.showPlayerCardDetails,showDetailsView:this.props.showDetailsView,hasYouMightLikeGame:this.props.hasYouMightLikeGame,youMightLikeGame:this.props.youMightLikeGame,onClickCloseDetailsTabView:this.onClickCloseDetailsTabView,showGameContent:this.props.showGameContent,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,detailsScrollableRef:this.detailsScrollableRef,scrollbarWidth:this.props.scrollbarWidth,handleOnClickMenu:this.handleOnClickMenu,handleOnScrollUpdate:this.handleOnScrollUpdate,showStatsHeaderOnPlayerCardDetails:this.props.showStatsHeaderOnPlayerCardDetails,avatarMaintenance:this.props.areAvatarsInMaintenance,changeTooltipState:this.changeAvatarTooltipState,collapsedHeight:this.props.collapsedHeight,hasNoGamesPlayed:this.props.hasNoGamesPlayed,hasYouMightAlsoLikeGames:this.props.hasYouMightAlsoLikeGames,youMightAlsoLikeGames:this.props.youMightAlsoLikeGames,ubiStoreUrl:this.props.ubiStoreUrl,windowInnerHeight:this.props.windowInnerHeight,scrollbarNegativeMargin:this.props.scrollbarNegativeMargin,isAccountLinkOverwritten:this.props.isAccountLinkOverwritten,isSupportLinkOverwritten:this.props.isSupportLinkOverwritten,isStoreLinkOverwritten:this.props.isStoreLinkOverwritten,overwrittenAccountLinkUrl:this.props.overwrittenAccountLinkUrl,overwrittenSupportLinkUrl:this.props.overwrittenSupportLinkUrl,overwrittenStoreLinkUrl:this.props.overwrittenStoreLinkUrl,hasCustomStoreBuyButton:this.props.hasCustomStoreBuyButton,overwrittenAccountLinkAction:this.props.overwrittenAccountLinkAction,overwrittenSupportLinkAction:this.props.overwrittenSupportLinkAction,overwrittenStoreLinkAction:this.props.overwrittenStoreLinkAction,height:this.props.height,maxHeight:this.props.maxHeight,top:this.props.top,scrollbarHeight:this.props.scrollbarHeight,_detailsScrollableRef:this._detailsScrollableRef,_scrollableRef:this._scrollableRef,children:this.props.showGameContent?(0,l.jsx)($v,{_detailsScrollableRef:this._detailsScrollableRef,_scrollableRef:this._scrollableRef,onSwipeRewards:this.onSwipeRewards}):this.props.showAvatarComponent?(0,l.jsx)(Fv,{_detailsScrollableRef:this._detailsScrollableRef,_scrollableRef:this._scrollableRef}):this.props.showChangeUserName?(0,l.jsx)(rm,{_detailsScrollableRef:this._detailsScrollableRef,_scrollableRef:this._scrollableRef}):(0,l.jsx)("noscript",{})})}},{key:"componentDidMount",value:function componentDidMount(){this._swipeRef&&(this.swiper=new Gg(this._swipeRef,this.handleSwipe.bind(this)))}},{key:"componentDidUpdate",value:(u=ExpandedController_asyncToGenerator(ExpandedController_regeneratorRuntime().mark((function _callee(e){return ExpandedController_regeneratorRuntime().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:e.show!==this.props.show&&this.props.show&&this._scrollableRef&&this._scrollableRef.scrollToTop(),this.props.showAvatarComponent===e.showAvatarComponent&&this.props.showGameContent===e.showGameContent&&this.props.showChangeUserName===e.showChangeUserName||!this.props.isInMobileView&&!this.props.showMobileViewOnDesktop||!this._scrollableRef||this._scrollableRef.scrollToTop(),e.show!==this.props.show&&this.props.show&&this.clearIntervals(),e.show===this.props.show||this.props.show||this.clearIntervals();case 4:case"end":return t.stop()}}),_callee,this)}))),function componentDidUpdate(e){return u.apply(this,arguments)})},{key:"componentWillUnmount",value:function componentWillUnmount(){this.clearIntervals(),this.swiper&&this.swiper.removeEvents()}},{key:"handleOnClickAccountInformation",value:function handleOnClickAccountInformation(e){e.preventDefault(),this.props.overwrittenAccountLinkAction?this.onClickCustomLink(this.props.accountUrl,this.props.overwrittenAccountLinkAction,e):(newWindow(this.props.accountUrl),this.props.communicationService.clickedOnMenu())}},{key:"handleOnClickHelpAndSupport",value:function handleOnClickHelpAndSupport(e){e.preventDefault(),this.props.overwrittenSupportLinkAction?this.onClickCustomLink(this.props.customerSupportUrl,this.props.overwrittenSupportLinkAction,e):(newWindow(this.props.customerSupportUrl),this.props.communicationService.clickedOnMenu())}},{key:"handleOnClickStore",value:function handleOnClickStore(e){e.preventDefault(),this.props.overwrittenStoreLinkAction?this.onClickCustomLink(this.props.storeUrl,this.props.overwrittenStoreLinkAction,e):(newWindow(this.props.storeUrl),this.props.communicationService.clickedOnMenu())}},{key:"onClickYouMightAlsoLikeGame",value:function onClickYouMightAlsoLikeGame(e,t){t.preventDefault(),this.props.hasCustomStoreBuyButton?window.top.location.href=e:(newWindow(e),this.props.communicationService.clickedOnMenu())}},{key:"onClickCustomLink",value:function onClickCustomLink(e,t,r){switch(r.preventDefault(),t){case re:window.top.location.href=e;break;case oe:popupWindow(e);break;default:newWindow(e)}this.props.communicationService.clickedOnMenu()}},{key:"handleOnClickLogout",value:(c=ExpandedController_asyncToGenerator(ExpandedController_regeneratorRuntime().mark((function _callee2(e){return ExpandedController_regeneratorRuntime().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,this.props.communicationService.clickedOnLogout();case 3:case"end":return t.stop()}}),_callee2,this)}))),function handleOnClickLogout(e){return c.apply(this,arguments)})},{key:"handleSwipe",value:function handleSwipe(e){this.state.isSwipeOtherGames||this.state.isSwipeRewards||this.state.isSwipeAvatar||e.swipeRight&&this.props.communicationService.clickedOnMobileFriends()}},{key:"onClickChangeUserName",value:(s=ExpandedController_asyncToGenerator(ExpandedController_regeneratorRuntime().mark((function _callee3(e){return ExpandedController_regeneratorRuntime().wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),scrollToTop(this._detailsScrollableRef,this._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),t.next=4,this.props.nameChangeService.handleClickChangeUserName(this.props.username);case 4:case"end":return t.stop()}}),_callee3,this)}))),function onClickChangeUserName(e){return s.apply(this,arguments)})},{key:"onClickAvatar",value:(i=ExpandedController_asyncToGenerator(ExpandedController_regeneratorRuntime().mark((function _callee4(){return ExpandedController_regeneratorRuntime().wrap((function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.areAvatarsInMaintenance){e.next=2;break}return e.abrupt("return");case 2:return scrollToTop(this._detailsScrollableRef,this._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),e.next=5,this.props.changeAvatarService.handleShowAvatarComponent();case 5:case"end":return e.stop()}}),_callee4,this)}))),function onClickAvatar(){return i.apply(this,arguments)})},{key:"onSwipeOtherGames",value:function onSwipeOtherGames(e){this.setState({isSwipeOtherGames:e})}},{key:"onisSwipeRewards:e})}},{key:"onClickCancelSaveAvatar",value:(o=ExpandedController_asyncToGenerator(ExpandedController_regeneratorRuntime().mark((function _callee5(){return ExpandedController_regeneratorRuntime().wrap((function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.areAvatarsInMaintenance){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.props.changeAvatarService.onClickCancelSaveAvatar();case 4:case"end":return e.stop()}}),_callee5,this)}))),function onClickCancelSaveAvatar(){return o.apply(this,arguments)})},{key:"onClickSaveAvatar",value:(n=ExpandedController_asyncToGenerator(ExpandedController_regeneratorRuntime().mark((function _callee6(){return ExpandedController_regeneratorRuntime().wrap((function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.areAvatarsInMaintenance){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.props.changeAvatarService.onClickSaveAvatar();case 4:case"end":return e.stop()}}),_callee6,this)}))),function onClickSaveAvatar(){return n.apply(this,arguments)})},{key:"onClickGame",value:(r=ExpandedController_asyncToGenerator(ExpandedController_regeneratorRuntime().mark((function _callee7(e,t,r,n,o,i){return ExpandedController_regeneratorRuntime().wrap((function _callee7$(i){for(;;)switch(i.prev=i.next){case 0:return scrollToTop(this._detailsScrollableRef,this._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),i.next=3,this.props.otherGamesCarouselService.onClickGame(e,t,r,n,o);case 3:case"end":return i.stop()}})ly(this,arguments)})},{key:"onClickCloseDetailsTabView",value:(t=ExpandedController_asyncToGenerator(ExpandedController_regeneratorRuntime().mark((function _callee8(){return ExpandedController_regeneratorRuntime().wrap((function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:return this.props.showAvatarComponent&&this.props.analyticsService.trackEvent("user tab","player card : avatar","global nav","interaction","close edit avatar popup"),this.props.showChangeUserName&&this.props.analyticsService.trackEvent("user tab","player card : username","global nav","interaction","close edit username popup"),this.props.showGameContent&&this.props.analyticsService.trackEvent("user tab","game panel","global nav","interaction","close game panel popup"),this.props.analyticsService.trackPage("user tab","player card"),this.props.nameChangeService.goBackToValidateState(),e.next=7,this.props.commonActionsService.toggleOpenDetailsViewState(!1,this.props.communicationService.getWindowsWidth(),this.props.communicationService.getWindowsHeight(),this.props.communicationService.getIframeBoundingClientRect());case 7:case"end":return e.stop()}}),_callee8,this)}))),function onClickCloseDetailsTabView(){return t.apply(this,arguments)})},{key:"handleOnClickMenu",value:function handleOnClickMenu(e){e.preventDefault(),(this.props.showAvatarComponent||this.props.showChangeUserName||this.props.showGameContent)&&!this.props.showMobileViewOnDesktop||this.props.communicationService.clickedOnMenu()}},{key:"handleOnScrollUpdate(e,My)}},{key:"setIntervals",value:function setIntervals(){var e=this;this.props.changeAvatarService.checkInterval(this.changeTooltipState),a().utc().isBetween(a().utc(this.props.avatarsMaintenanceStartDate).subtract("3","h"),a().utc(this.props.avatarsMaintenanceEndDate))&&this.intervalIds.push(setInterval((function(){e.props.changeAvatarService.checkInterval(e.changeTooltipState),a().utc().isAfter(a().utc(e.props.avatarsMaintenanceEndDate))&&e.clearIntervals()}),6e4))}},{key:"clearIntervals",value:function clearIntervals(){this.intervalIds.length&&this.in clearInterval(e)}))}},{key:"changeAvatarTooltipState",value:function changeAvatarTooltipState(e){this.changeTooltipState=e}}]),ExpandedController}(Ag))||tm)||tm;function UserActionsView(e){return(0,l.jsxs)("div",{className:"user-actions",children:[e.friendState==yl?(0,l.jsxs)("div",{className:"actions action-btn acceptDecline",children:[(0,l.jsx)("a",{className:"btn secondary decline",onClick:e.onClickDeclineRequest.bind(null,e.userId,e.userName),children:(0,l.jsx)("i",{className:"icon-close"})}),(0,l.jsx)("a",{className:"btn primary accept",onClick:e.onClickAcceptRequest.bind(null,e.userId,e.userName),children:(0,l.jsx)("i",{className:"icon-checkmark"})})]}):null,e.friendState==hl?(0,l.jsxs)("div",{className:"actions action-btn invitation-sent",children:[(0,l.jsx)("div",{className:"invitation-sent-text",children:(0,l.jsx)(xg,{children:"Invitation sent"})}),(0,l.jsx)("a",{className:"btn secondary decline",onClick:e.onClickDeclineRequest.bind(null,e.userId,e.userName),children:(0,l.jsx)(xg,{children:"Cancel"})})]}):null,e.friendState==pl?(0,l.jsx)("div",{className:"actions action-btn invite",children:(0,l.jsx)("a",{className:"btn primary latPadding",onClick:e.onClickInviteRequest.bind(null,e.userId),children:(0,l.jsx)(xg,{children:"Invite"})})}):null]})}function DeclineRequestView(e){return e.showDeclineState?(0,l.jsxs)("div",{className:"decline-request-container",children:[e.friendState===yl?(0,l.jsx)("div",{className:"decline-request-text",children:(0,l.jsx)(xg,{children:"Decline this request?"})}):null,e.friendState===hl?(0,l.jsx)("div",{className:"decline-request-text",children:(0,l.jsx)(xg,{children:"Cancel this request?"})}):null,(0,l.jsxs)("div",{className:"decline-request-btn-container",children:[(0,l.jsx)("div",{className:"btn secondary",onClick:e.onClickCancelDeclineRequest.bind(null,e.userId),children:(0,l.jsx)(xg,{children:"No"})}),(0,l.jsx)("div",{className:"btn primary",onClick:e.onClickConfirmDeclineRequest.bind(null,e.userId,e.friendState),children:(0,l.jsx)(xg,{children:"Yes"})})]})]}):null}function FriendActionStateView(e){return(0,l.jsxs)("div",{className:"friend-action-state",children:[e.friendState!=gl||e.isRightAfterLoad?null:(0,l.jsxs)("div",{className:"friends",children:[(0,l.jsx)("i",{className:"icon-accepted"}),(0,l.jsx)(xg,{children:"You're already friends"})]}),e.pid==e.currentFriendInvitationId&&e.isRightAfterLoad&&e.isAcceptedState?(0,l.jsxs)("div",{className:"accepted",children:[(0,l.jsx)("i",{className:"icon-accepted"}),(0,l.jsx)(xg,{children:"Invitation accepted"})]}):null,e.pid==e.currentFriendInvitationId&&e.isRightAfterLoad&&e.isCanceledState?(0,l.jsxs)("div",{className:"declined",children:[(0,l.jsx)("i",{className:"icon-declined"}),(0,l.jsx)(xg,{children:"Invitation canceled"})]}):null,e.pid==e.currentFriendInvitationId&&e.isRightAfterLoad&&e.isDeclinedState?(0,l.jsxs)("div",{className:"declined",children:[(0,l.jsx)("i",{className:"icon-declined"}),(0,l.jsx)(xg,{children:"Invitation declined"})]}):null]})}function FriendRequestNotificationView(e){return(0,l.jsx)("div",{className:el()("friend-request-notification",{"is-latest":e.isLatestNotification}),children:(0,l.jsxs)("div",{className:el()("container-with-border in-back load-element",{in:e.isStillLoading&&e.userId==e.currentFriendInvitationId}),children:[(0,l.jsx)(LoaderView,{loaded:!e.isStillLoading||e.userId!=e.currentFriendInvitationId}),e.userId!==e.currentDeclineUserId?[e.friendState==yl?(0,l.jsxs)("div",{className:"user-details",children:[(0,l.jsx)("a",{href:"".concat(e.clubUrl,"/").concat(e.localisation,"/profile/").concat(e.userName),className:"row-avatar",onClick:e.onClickFriend.bind(null,e.userName),children:(0,l.jsx)(Eg,{avatarUrl:e.userAvatarUrl})}),(0,l.jsxs)("div",{className:"row-details",children:[(0,l.jsx)("a",{href:"".concat(e.clubUrl,"/").concat(e.localisation,"/profile/").concat(e.userName),className:"name",onClick:e.onClickFriend.bind(null,e.userName),children:e.userName}),e.userId===e.currentFriendInvitationId&&e.isRightAfterLoad?null:[e.userLevel?(0,l.jsx)("div",{className:"level",children:(0,l.jsx)(xg,{level:e.userLevel,children:"Level [level]"})},"0"):null,e.invitationRequestDate?(0,l.jsx)("div",{className:"time-stamp",children:a().utc(e.invitationRequestDate).fromNow()},"1"):null],(0,l.jsx)(FriendActionStateView,{friendState:e.friendState,pid:e.userId,currentFriendInvitationId:e.currentFriendInvitationId,isRightAfterLoad:e.isRightAfterLoad,isAcceptedState:e.isAcceptedState,isDeclinedState:e.isDeclinedState,isCanceledState:e.isCanceledState})]})]},"0"):null,e.userId===e.currentFriendInvitationId&&e.isRightAfterLoad?null:(0,l.jsx)(UserActionsView,{friendState:e.friendState,onClickDeclineRequest:e.onClickDeclineRequest,onClickAcceptRequest:e.onClickAcceptRequest,ockInviteRequest(){},userId:e.userId,userName:e.userName},"1")]:null,(0,l.jsx)(DeclineRequestView,{userId:e.userId,showDeclineState:e.userId==e.currentDeclineUserId,onClickCancelDeclineRequest:e.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:e.onClickConfirmDeclineRequest,friendState:e.friendState})]})})}function ShowListLinkView(e){return(0,l.jsxs)("div",{children:[e.showMoreLink&&e.nbFriend>2?(0,l.jsx)("div",{className:"show-list-link show-more",children:(0,l.jsxs)("a",{className:"link arrow right",onClick:e.onClickToggleShowMore.bind(null,!1),children:[(0,l.jsx)(xg,{value:e.nbFriend-2,children:"[value] more"}),(0,l.jsx)("i",{className:"icon-angle-down"})]})}):null,e.showLessLink&&e.nbFriend>2?(0,l.jsx)("div",{className:"show-list-link show-less",children:(0,l.jsxs)("a",{className:"link arrow right",onClick:e.onClickToggleShowMore.bind(null,!0),children:[(0,l.jsx)(xg,{children:"View less"}),(0,l.jsx)("i",{className:"icon-angle-down"})]})}):null]})}function FriendsRequestsSectionView(e){return(0,l.jsxs)("div",{className:el()("border-bottom-container",{hide:e.showAddFriendTab&&e.isInMobileView,"no-border":e.nbFriendRequests<=0}),children:[!e.isLoadingFriendRequests&&e.nbFriendRequests>0?(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"listTitle requestTitle",children:[e.nbFriendRequests<1?(0,l.jsx)(xg,{nbOfFriendsRequest:e.nbFriendRequests,children:"[nbOfFriendsRequest] friends requests"}):null,1==e.nbFriendRequests?(0,l.jsx)(xg,{nbOfFriendsRequest:e.nbFriendRequests,children:"[nbOfFriendsRequest] friend request"}):null,e.nbFriendRequests>1?(0,l.jsx)(xg,{nbOfFriendsRequest:e.nbFriendRequests,children:"[nbOfFriendsRequest] friends requests"}):null]}),e.friendRequests.map((function(t){return(0,l.jsx)(FriendRequestNotificationView,{clubUrl:e.clubUrl,userId:t.userId,userAvatarUrl:t.userAvatarUrl,userName:t.userAvatarName,invitationRequestDate:t.invitationRequestDate,localisation:e.locale,friendState:t.friendState,isLatestNotification:t.isLatestNotification,onClickDeclineRequest:e.onClickDeclineRequest,onClickAcceptRequest:e.onClickAcceptRequest,onClickFriend:e.onClickFriendRequest,currentDeclineUserId:e.currentDeclineUserId,onClickCancelDeclineRequest:e.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:e.onClickConfirmDeclineRequest,isStillLoading:e.isStillLoading,isRightAfterLoad:e.isRightAfterLoad,currentFriendInvitationId:e.currentFriendInvitationId,isAcceptedState:e.isAcceptedState,isDeclinedState:e.isDeclinedState,isCanceledState:e.isCanceledState,userLevel:t.userLevel},t.userId)})),(0,l.jsx)(ShowListLinkView,{showMoreLink:e.showMoreFriendRequestsLink,nbFriend:e.nbFriendRequests,onClickToggleShowMore:e.onClickToggleShowMoreFriendRequests,showLessLink:e.showLessFriendRequestsLink})]}):null,e.isLoadingFriendRequests?(0,l.jsx)("div",{className:el()("in-back load-element",{in:e.isLoadingFriendRequests}),children:(0,l.jsx)(LoaderView,{loaded:!e.isLoadingFriendRequests})}):null]})}function FilterFriendsView(e){return(0,l.jsxs)("div",{className:el()("filter-friend-container"),children:[(0,l.jsxs)("div",{className:"filter-input-container",children:[(0,l.jsx)("input",{className:el()("filter-friend-text"),type:"text",value:e.nameToFilterBy,onChange:e.onChangeNameToFilterBy,placeholder:e.filterText}),(0,l.jsx)("button",{className:"filter-friend-search"})]}),!e.hasFriendsFound&&e.nameToFilterBy?(0,l.jsxs)("div",{className:"filter-friend-error",children:[(0,l.jsx)("div",{className:"filter-friend-gray",children:(0,l.jsx)(xg,{nameToSearch:(0,l.jsx)("span",{className:"text-white",children:e.nameToFilterBy}),children:"You don't have any friend named [nameToSearch] in your list."})}),(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"text-bold",children:(0,l.jsx)(xg,{children:'To add a new friend, click on the "Add a friend" button above.'})})]}):null]})}function OnlineStatusView(e){return(0,l.jsx)("div",{className:el()("column status","offline",{playing:e.isCurrentlyPlayingAGame,online:e.isOnline}),children:e.isCurrentlyPlayingAGame?(0,l.jsxs)("div",{className:"row_status-title",children:[(0,l.jsx)("span",{className:"status-icon",children:(0,l.jsx)("i",{className:"icon-away1"})}),(0,l.jsx)("span",{className:"status-text",children:(0,l.jsx)(xg,{children:"Currently playing"})})]}):e.isOnline&&!e.isCurrentlyPlayingAGame?(0,l.jsxs)("div",{className:"row_status-title",children:[(0,l.jsx)("span",{className:"status-icon"}),(0,l.jsx)("span",{className:"status-text",children:(0,l.jsx)(xg,{children:"Online"})})]}):(0,l.jsxs)("div",{className:"row_status-title",children:[(0,l.jsx)("span",{className:"status-icon-container",children:(0,l.jsx)("span",{className:"icon-inner"})}),(0,l.jsx)("span",{className:"status-text",children:(0,l.jsx)(xg,{children:"Offline"})})]})})}function FriendActivityContentView(e){return(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"column username",children:[(0,l.jsxs)("div",{className:"row_avatar",children:[(0,l.jsx)(Eg,{avatarUrl:e.friend.avatarUrl}),(0,l.jsx)(OnlineStatusView,{isOnline:e.friend.isOnline,isCurrentlyPlayingAGame:e.friend.isCurrentlyPlayingAGame})]}),(0,l.jsxs)("div",{className:"row_username",children:[(0,l.jsx)("div",{className:"name",children:e.friend.username}),(0,l.jsx)(OnlineStatusView,{isOnline:e.friend.isOnline,isCurrentlyPlayingAGame:e.friend.isCurrentlyPlayingAGame})]})]})})}function FriendActivityView(e){return(0,l.jsx)("div",{className:el()("row",{selected:e.friend.userId==e.currentFriendId}),onClick:e.onClickFriend.bind(null,e.friend),children:(0,l.jsx)(FriendActivityContentView,{friend:e.friend,clubUrl:e.clubUrl,locale:e.locale})})}function FriendsListSectionView(e){return(0,l.jsxs)("div",{className:el()("border-bottom-container no-border",{hide:e.showAddFriendTab&&e.isInMobileView}),children:[(0,l.jsxs)("div",{className:"friends-filter-container",children:[(0,l.jsx)("h2",{className:"listTitle",children:(0,l.jsx)(xg,{children:"Friend List"})}),!e.isLoading&&e.numberOfTotalFriends>0?(0,l.jsxs)("div",{children:[(0,l.jsx)(FilterFriendsView,{onChangeNameToFilterBy:e.onChangeNameToFilterBy,hasFriendsFound:e.hasFriendsFound,filterText:e.filterText,nameToFilterBy:e.nameToFilterBy}),e.friends.map((function(t){return(0,l.jsx)(FriendActivityView,{friend:t,clubUrl:e.clubUrl,locale:e.locale,onClickFriend:e.onClickFriend,currentFriendId:e.currentFriendId},t.userId)}))]}):null]}),e.isLoading||0!==e.numberOfTotalFriends?null:(0,l.jsxs)("div",{className:"no-friends-container",children:[(0,l.jsx)("p",{children:(0,l.jsx)(xg,{children:"You don't have any friends yet."})}),(0,l.jsx)("p",{children:(0,l.jsx)("strong",{children:(0,l.jsx)(xg,{children:'Click on the "Add a friend" button to find people you know, and browse suggestions.'})})})]}),e.isLoading?(0,l.jsxs)("div",{className:el()("in-back load-element",{in:e.isLoading}),children:[(0,l.jsx)("div",{className:"row"}),(0,l.jsx)("div",{className:"row"}),(0,l.jsx)(LoaderView,{loaded:!e.isLoading})]}):null]})}function FriendsActivityFeedContentView(e){return(0,l.jsxs)("div",{className:el()("content",{noFriends:!e.isLoading&&0===e.friends.length}),children:[!e.showAddFriendTab&&!e.showFriendProfileContent||!e.isInMobileView&&!e.showMobileViewOnDesktop?[(0,l.jsx)(FriendsRequestsSectionView,{isLoadingFriendRequests:e.isLoadingFriendRequests,nbFriendRequests:e.nbFriendRequests,friendRequests:e.friendRequests,clubUrl:e.clubUrl,locale:e.locale,currentFriendInvitationId:e.currentFriendInvitationId,onClickDeclineRequest:e.onClickDeclineRequest,onClickAcceptRequest:e.onClickAcceptRequest,onClickFriendRequest:e.onClickFriendRequest,showMoreFriendRequestsLink:e.showMoreFriendRequestsLink,onClickToggleShowMoreFriendRequests:e.onClickToggleShowMoreFriendRequests,showLessFriendRequestsLink:e.showLessFriendRequestsLink,currentDeclineUserId:e.currentDeclineUserId,onClickCancelDeclineRequest:e.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:e.onClickConfirmDeclineRequest,showAddFriendTab:e.showAddFriendTab,isStillLoading:e.isStillLoading,isRightAfterLoad:e.isRightAfterLoad,isAcceptedState:e.isAcceptedState,isDeclinedState:e.isDeclinedState,isCanceledState:e.isCanceledState,isInMobileView:e.isInMobileView},"0"),e.showFriendView?(0,l.jsx)("div",{className:el()("border-bottom-container",{hide:e.showAddFriendTab&&e.isInMobileView,"no-border":e.numberOfTotalFriends<=0}),children:(0,l.jsx)("div",{className:"add-friend-button-container",children:(0,l.jsx)("div",{className:"btn primary",onClick:e.onClickAddFriendButton,children:(0,l.jsx)(xg,{children:"Add friends"})})})},"1"):null,(0,l.jsx)(FriendsListSectionView,{numberOfTotalFriends:e.numberOfTotalFriends,friends:e.friends,onChangeNameToFilterBy:e.onChangeNameToFilterBy,hasFriendsFound:e.hasFriendsFound,filterText:e.filterText,nameToFilterBy:e.nameToFilterBy,clubUrl:e.clubUrl,locale:e.locale,onClickFriend:e.onClickFriend,isLoading:e.isLoading,showAddFriendTab:e.showAddFriendTab,isInMobileView:e.isInMobileView,currentFriendId:e.currentFriendId},"2")]:null,e.isInMobileView||e.showMobileViewOnDesktop?e.children:null]})}function FriendsTabDetailsView(e){return(0,l.jsx)(TabDetailsView,{isInMobileView:e.isInMobileView,show:e.show,showDetailsView:e.showDetailsView,className:"friends-tab-details",onClickClose:e.onClickCloseDetailsTabView,hasAvatarComponent:!1,showMobileViewOnDesktop:e.showMobileViewOnDesktop,scrollableRef:e.scrollableRef,handleOnClickMenu:e.handleOnClickMenu,scrollbarWidth:e.scrollbarWidth,handleOnScrollUpdate:e.handleOnScrollUpdate,showStatsHeaderOnFriendsDetails:e.showStatsHeaderOnFriendsDetails,showStatsHeaderOnPlayerCardDetails:!1,showNameHeaderOnFriendsDetails:e.showNameHeaderOnFriendsDetails,scrollbarNegativeMargin:e.scrollbarNegativeMargin,height:e.height,maxHeight:e.maxHeight,children:e.children})}function FriendsActivityFeedView(e){return(0,l.jsxs)("div",{className:el()("menu_friends-panel-container panel-container expanding-details",{visible:e.show,hideInverse:e.showNotifications}),style:{height:e.height,maxHeight:e.maxHeight,top:e.top},children:[(0,l.jsx)("div",{className:el()("menu_friends-panel",{"is-in-mobile":e.isInMobileView}),ref:e.swipeRef,children:(0,l.jsx)(ScrollbarsView,{scrollbarHeight:e.scrollbarHeight,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,hideTracksWhenNotNeeded:!0,scrollableRef:e.scrollableRef,scrollbarWidth:e.scrollbarWidth,scrollbarNegativeMargin:e.scrollbarNegativeMargin,children:(0,l.jsx)(FriendsActivityFeedContentView,{isInMobileView:e.isInMobileView,friends:e.friends,isLoading:e.isLoading,onClickFriend:e.onClickFriend,clubUrl:e.clubUrl,locale:e.locale,showFriendView:e.showFriendView,onClickFriendRequest:e.onClickFriendRequest,onClickDeclineRequest:e.onClickDeclineRequest,onClickAcceptRequest:e.onClickAcceptRequest,currentFriendInvitationId:e.currentFriendInvitationId,isStillLoading:e.isStillLoading,onChangeNameToFilterBy:e.onChangeNameToFilterBy,hasFriendsFound:e.hasFriendsFound,filterText:e.filterText,nameToFilterBy:e.nameToFilterBy,numberOfTotalFriends:e.numberOfTotalFriends,friendRequests:e.friendRequests,isLoadingFriendRequests:e.isLoadingFriendRequests,showMoreFriendRequestsLink:e.showMoreFriendRequestsLink,showLessFriendRequestsLink:e.showLessFriendRequestsLink,nbFriendRequests:e.nbFriendRequests,onClickToggleShowMoreFriendRequests:e.onClickToggleShowMoreFriendRequests,currentDeclineUserId:e.currentDeclineUserId,onClickCancelDeclineRequest:e.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:e.onClickConfirmDeclineRequest,onClickAddFriendButton:e.onClickAddFriendButton,showAddFriendTab:e.showAddFriendTab,isRightAfterLoad:e.isRightAfterLoad,isAcceptedState:e.isAcceptedState,isDeclinedState:e.isDeclinedState,isCanceledState:e.isCanceledState,showFriendProfileContent:e.showFriendProfileContent,showMobileViewOnDesktop:e.showMobileViewOnDesktop,currentFriendId:e.currentFriendId,children:e.children})})}),(0,l.jsx)(FriendsTabDetailsView,{isInMobileView:e.isInMobileView,show:e.showFriendsDetails,showDetailsView:e.showDetailsView,onClickCloseDetailsTabView:e.onClickCloseDetailsTabView,showMobileViewOnDesktop:e.showMobileViewOnDesktop,scrollableRef:e.detailsScrollableRef,scrollbarWidth:e.scrollbarWidth,handleOnClickMenu:e.handleOnClickMenu,handleOnScrollUpdate:e.handleOnScrollUpdate,showStatsHeaderOnFriendsDetails:e.showStatsHeaderOnFriendsDetails,showNameHeaderOnFriendsDetails:e.showNameHeaderOnFriendsDetails,scrollbarNegativeMargin:e.scrollbarNegativeMargin,height:e.height,maxHeight:e.maxHeight,children:e.children})]})}function RecentlyMetApi_typeof(e){return RecentlyMetApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RecentlyMetApi_typeof(e)}function RecentlyMetApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RecentlyMetApi_setPrototypeOf(e,t){return RecentlyMetApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},RecentlyMetApi_setPrototypeOf(e,t)}function RecentlyMetApi_createSuper(e){var t=function RecentlyMetApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=RecentlyMetApi_getPrototypeOf(e);if(t){var o=RecentlyMetApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return RecentlyMetApi_possibleConstructorReturn(this,r)}}function RecentlyMetApi_possibleConstructorReturn(e,t){if(t&&("object"===RecentlyMetApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function RecentlyMetApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function RecentlyMetApi_getPrototypeOf(e){return RecentlyMetApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},RecentlyMetApi_getPrototypeOf(e)}var Pm,_m=injectableForJs([k])(Sm=function(e){!function RecentlyMetApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RecentlyMetApi_setPrototypeOf(e,t)}(RecentlyMetApi,e);var t=RecentlyMetApi_createSuper(RecentlyMetApi);function RecentlyMetApi(e){var r;return function RecentlyMetApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RecentlyMetApi),(r=t.call(this)).httpService=e,r}return function RecentlyMetApi_createClass(e,t,r){return t&&RecentlyMetApi_defineProperties(e.prototype,t),r&&RecentlyMetApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(RecentlyMetApi,[{key:"getRecentlyMetByProfileId",value:function getRecentlyMetByProfileId(e){var t=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v1/profiles/").concat(e,"/club/recentlyMet")).get().header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Ubi-SessionId",vl.getIdentity(this.getState()).sessionId).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket));return this.httpService.send(t).then((function(e){return e.data}))}}]),RecentlyMetApi}(ol))||Sm;function RecentlyMetService_typeof(e){return RecentlyMetService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RecentlyMetService_typeof(e)}function RecentlyMetService_regeneratorRuntime(){RecentlyMetService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==RecentlyMetService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayNamObject.c{return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=As.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),dobject Genext.done=!0,next}},e.values=values,Context.prototype={constr&&(thg;return this.rvale(o.fin):this.cot&&(thiesetTral catch attemthiolve(c).then(n,o)}function RecentlyMetService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.definePtPrototypeOf(e)}var Cm,Om=injectableForJs([cf,_etPrototypeOf(e,t)}(RecentlyMetService,e);var t,r=RecentlyMetService_createSuper(recentlyMetApi=t,n}return function RecentlyMetService_createClass(e,t,r){return t&&RecentlyMetService_defineProperties(e.prototype,t),r&&RecentlyMetService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(RecentlyMetService,[{key:"loadRecentlyMet",value:(t=function RecentlyMetService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){RecentlyMetService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){RecentlyMetService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(RecentlyMetService_regeneratorRuntime().mark((function _callee(){var e,t,r,n,o,i,s=this;return RecentlyMetService_regeneratorRuntime().wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if(e=[],t=[],r=iu(this.getState()),n=r.sort().join(","),o=Jo.getExpiration(this.getState())[n]?Jo.getExpiration(this.getState())[n]:0,Ft.isExpired(o,of)){c.next=8;break}return this.dispatch(new fr([],{})),c.abrupt("return");case 8:return MetByProfileId(e))})),c.next=12,Promise.all(t);case 12:if(e=c.sent,this.dispatch(new fr(e,RecentlyMetService_defineProperty({},n,a()().unix()))),!((i=sm.getRecentlyMetProfileIdsInTheLast2Weeks(this.getState())).length>0)){c.next=19;break}return c.next=18,this.profilesService.loadFriendsProfilesByIds(i);case 18:return c.abrupt("return",e);case 19:c.next=24;break;case 21:c.prev=21,c.t0=c.catch(8),this.dispatch(new fr(e,RecentlyMetService_defineProperty({},n,0)));case 24:return c.abrupt("return",e);case 25:case"end":return c.stop()}}),_callee,this,[[8,21]])}))),function loadRecentlyMet(){return t.apply(this,arguments)})}]),RecentlyMetService}(ol))||Pm,Am={getIsLinkedWithPsn:(0,I.P1)("getIsLinkedWithPsn",Xl,(function(e){return!!e.find((function(e){return e.platformType==il}))})),getIsLinkedWithXbox:(0,I.P1)("getIsLinkedWithXbox",Xl,(function(e){return!!e.find((function(e){return e.platformType==sl}))})),getIsLinkedWithSteam:(0,I.P1)("getIsLinkedWithSteam",Xl,(function(e){return!!e.find((function(e){return e.platformType==cl}))}))};function LinkedAccountsApi_typeof(e){return LinkedAccountsApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LinkedAccountsApi_typeof(e)}function LinkedAccountsApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LinkedAccountsApi_setPrototypeOf(e,t){return LinkedAccountsApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},LinkedAccountsApi_setPrototypeOf(e,t)}function LinkedAccountsApi_createSuper(e){var t=function LinkedAccountsApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=LinkedAccountsApi_getPrototypeOf(e);if(t){var o=LinkedAccountsApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return LinkedAccountsApi_possibleConstructorReturn(this,r)}}function LinkedAccountsApi_possibleConstructorReturn(e,t){if(t&&("object"===LinkedAccountsApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function LinkedAccountsApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function LinkedAccountsApi_getPrototypeOf(e){return LinkedAccountsApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},LinkedAccountsApi_getPrototypeOf(e)}var km,xm=injectableForJs([k])(Cm=function(e){!function LinkedAccountsApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LinkedAccountsApi_setPrototypeOf(e,t)}(LinkedAccountsApi,e);var t=LinkedAccountsApi_createSuper(LinkedAccountsApi);function LinkedAccountsApi(e){var r;return function LinkedAccountsApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LinkedAccountsApi),(r=t.call(this)).httpService=e,r}return function LinkedAccountsApi_createClass(e,t,r){return t&&LinkedAccountsApi_defineProperties(e.prototype,t),r&&LinkedAccountsApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(LinkedAccountsApi,[{key:"getPlayStationFriends",value:function getPlayStationFriends(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=new ca("".concat(Ft.getLinkedAccountsApiEndpoint(this.getState()),"/api/external/v1/psn/friends")).query("offset",e).query("limit",t).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket));return this.httpService.send(r).then((function(e){return e.data}))}},{key:"getXboxFriends",value:function getXboxFriends(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=new ca("".concat(Ft.getLinkedAccountsApiEndpoint(this.getState()),"/api/external/v1/xbl/friends")).query("offset",e).query("limit",t).header("Ubi-Appid",pt.getApplicationId(this.getState())).header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(this.getState()).ticket));return this.httpService.send(r).then((function(e){return e.data}))}}]),LinkedAccountsApi}(ol))||Cm;function LinkedAccountsService_typeof(e){return LinkedAccountsService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LinkedAccountsService_typeof(e)}function LinkedAccountsService_regeneratorRuntime(){LinkedAccountsService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==LinkedAccountsService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function LinkedAccountsService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function LinkedAccountsService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){LinkedAccountsService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){LinkedAccountsService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function LinkedAccountsService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LinkedAccountsService_setPrototypeOf(e,t){return LinkedAccountsService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},LinkedAccountsService_setPrototypeOf(e,t)}function LinkedAccountsService_createSuper(e){var t=function LinkedAccountsService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=LinkedAccountsService_getPrototypeOf(e);if(t){var o=LinkedAccountsService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return LinkedAccountsService_possibleConstructorReturn(this,r)}}function LinkedAccountsService_possibleConstructorReturn(e,t){if(t&&("object"===LinkedAccountsService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function LinkedAccountsService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function LinkedAccountsService_getPrototypeOf(e){return LinkedAccountsService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},LinkedAccountsService_getPrototypeOf(e)}var Im,jm=injectableForJs([xm])(km=function(e){!function LinkedAccountsService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LinkedAccountsService_setPrototypeOf(e,t)}(LinkedAccountsService,e);var t,r,n=LinkedAccountsService_createSuper(LinkedAccountsService);function LinkedAccountsService(e){var t;return function LinkedAccountsService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LinkedAccountsService),(t=n.call(this)).linkedAccountsApi=e,t}return function LinkedAccountsService_createClass(e,t,r){return t&&LinkedAccountsService_defineProperties(e.prototype,t),r&&LinkedAccountsService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(LinkedAccountsService,[{key:"loadPlayStationFriends",value:(r=LinkedAccountsService_asyncToGenerator(LinkedAccountsService_regeneratorRuntime().mark((function _callee(){var e,t,r,n=arguments;return LinkedAccountsService_regeneratorRuntime().wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:0,t=n.length>1&&void 0!==n[1]?n[1]:500,o.prev=2,o.next=5,this.linkedAccountsApi.getPlayStationFriends(e,t);case 5:return r=o.sent,this.dispatch(new ao(r)),o.abrupt("return",r);case 10:return o.prev=10,o.t0=o.catch(2),o.abrupt("return",Promise.reject(o.t0));case 13:case"end":return o.stop()}}),_callee,this,[[2,10]])}))),function loadPlayStationFriends(){return r.apply(this,arguments)})},{key:"loadXboxFriends",value:(t=LinkedAccountsService_asyncToGenerator(LinkedAccountsService_regeneratorRuntime().mark((function _callee2(){var e,t,r,n=arguments;return LinkedAccountsService_regeneratorRuntime().wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:0,t=n.length>1&&void 0!==n[1]?n[1]:500,o.prev=2,o.next=5,this.linkedAccountsApi.getXboxFriends(e,t);case 5:return r=o.sent,this.dispatch(new po(r)),o.abrupt("return",r);case 10:return o.prev=10,o.t0=o.catch(2),o.abrupt("return",Promise.reject(o.t0));case 13:case"end":return o.stop()}}),_callee2,this,[[2,10]])}))),function loadXboxFriends(){return t.apply(this,arguments)})}]),LinkedAccountsService}(ol))||km,Lm=500,Em=500,Fm=(0,I.P1)("PsnAccountsQueries.getPsnProfileForCurrentUser",Xl,(function(e){return e.find((function(e){return e.platformType==il}))})),Gm=(0,I.P1)("PsnAccountsQueries.getPsnFriendsEntitiesForCurrentUser",fo.getPsnFriends,Fm,(function(e,t){return t?e.filter((function(e){return e.user.onlineId==t.nameOnPlatform})):[]})),Tm=(0,I.P1)("PsnAccountsQueries.getPsnFriends",Gm,(function(e){return e.length?e.map((function(e){return e.friends.friendList})).reduce((function(e,t){return e.concat(t)})):[]})),Rm=(0,I.P1)("PsnAccountsQueries.getNbOfPsnFriendsInList",Tm,(function(e){return e.length})),Nm=(0,I.P1)("PsnAccountsQueries.getNbOfPsnFriends",Gm,(function(e){return e.length?e[0].friends.totalResults:0})),Um=(0,I.P1)("PsnAccountsQueries.getOnlyPsnUserProfiles",An.getById,vl.getUserId,(function(e,t){var r={};return(0,s.each)(e,(function(e){e.userId!==t&&e.platformType==il&&(r[e.userId]=e)})),r})),Dm=(0,I.P1)("XboxAccountsQueries.getUplayFriendsWhoAreOnXbox",Tm,Um,$l,An.getById,Vi.getById,(function(e,t,r,n,o){var i=[];return e.length&&Object.keys(t).length?((0,s.each)(t,(function(t,a){var s=e.find((function(e){return e.onlineId==t.nameOnPlatform})),c=!!r[a],l=c?r[a].pid:t.userId;s&&n[a]&&i.push({pid:c?r[a].pid:t.userId,userName:c?r[a].nickname:n[a]?n[a].nameOnPlatform:s.onlineId,userAvatarUrl:s.avatarUrl,hasPsnProfile:!0,psnName:s.onlineId,hasXboxProfile:!1,xboxName:null,friendState:c?r[a].state:pl,invitationRequestDate:c?r[a].lastModified:null,userLevel:o[l]?o[l].level:0})})),i):i})),Mm=(0,I.P1)("PsnAccountsQueries.getNbOfUplayFriendsWhoAreOnXbox",Dm,(function(e){return e.length})),Bm={getPsnProfileForCurrentUser:Fm,getPsnFriendsEntitiesForCurrentUser:Gm,getPsnFriends:Tm,getNbOfPsnFriendsInList:Rm,getNbOfPsnFriends:Nm,getOnlyPsnUserProfiles:Um,getUplayFriendsWhoAreOnPsn:Dm,getNbOfUplayFriendsWhoAreOnPsn:Mm,getHasUplayFriendsWhoAreOnPsn:(0,I.P1)("PsnAccountsQueries.getHasUplayFriendsWhoAreOnPsn",Mm,(function(e){return e>0})),getUplayFriendsWhoAreOnPsnToShow:(0,I.P1)("PsnAccountsQueries.getUplayFriendsWhoAreOnPsnToShow",Dm,io.getShowMoreFriendsOnPsn,(function(e,t){return t?e.slice(0,2):e}))},Vm=(0,I.P1)("XboxAccountsQueries.getXboxProfilelatformType==sl}))})),Wm=(0,I.P1)("XboxAccountsQueries.getXboxFriendsEntitiesForCurrentUser",So.getXboxFriends,Vm,(function(e,t)id==t.idOnPlatform})):[]})),Hm=(0,I.P1)("XboxAccountsQueries.getXboxFriends",Wm,(function(e){return e.length?e.map((function(e){return e.friends.friendList})).reduce((function(e,t){return e.concat(t)})):[]})),qm=(0,I.P1)("XboxAccountsQueries.getNbOfXboxFriendsInList",Hm,(function(e){return e.length})),zm=(0,I.P1)("XboxAccountsQueries.getNbOfXboxFriends",Wm,(function(e){return e.length?e[0].friends.totalResults:0})),Qm=(0,I.P1)("XboxAccountsQueries.getOnlyXboxUserProfiles",An.getById,vl.getUserId,(function(e,t){var r={};return(0,s.each)(e,(function(e){e.userId!==t&&e.platformType==sl&&(r[e.userId]=e)})),r})),Ym=(0,I.P1)("XboxAccountsQueries.getUplayFriendsWhoAreOnXbox",Hm,Qm,$l,An.getById,Vi.getById,(function(e,t,r,n,o){var i=[];return e.length&&Object.keys(t).length?((0,s.each)(t,(function(t,a){var s=e.find((function(e){return e.xuid==t.idOnPlatform})),c=!!r[a],l=c?r[a].pid:t.userId;s&&n[a]&&i.push({pid:l,userName:c?r[a].nickname:n[a].nameOnPlatform,userAvatarUrl:s.avatarUrl,hasPsnProfile:!1,psnName:null,hasXboxProfile:!0,xboxName:s.gamerTag,friendState:c?r[a].state:pl,invitationRequestDate:c?r[a].lastModified:null,userLevel:o[l]?o[l].level:0})})),i):i})),Xm=(0,I.P1)("XboxAccountsQueries.getNbOfUplayFriendsWhoAreOnXbox",Ym,(function(e){return e.length})),Km={getXboxProfileForCurrentUser:Vm,getXboxFriendsEntitiesForCurrentUser:Wm,getXboxFriends:Hm,getNbOfXboxFriendsInList:qm,getNbOfXboxFriends:zm,getOnlyXboxUserProfiles:Qm,getUplayFriendsWhoAreOnXbox:Ym,getNbOfUplayFriendsWhoAreOnXbox:Xm,getHasUplayFriendsWhoAreOnXbox:(0,I.P1)("XboxAccountsQueries.getNbOfUplayFriention(e){return e>0})),getUplayFriendsWhoAreOnXboxToShow:(0,I.P1)("XboxAccountsQueries.getUplayFriendsWhoAreOnXboxToShow",Ym,io.getShon t?e.slice(0,2):e}))};function SocialNetworkService_typeof(e){return SocialNetworkService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SocialNetworkService_typeof(e)}function SocialNetworkService_regeneratorRuntime(){SocialNetworkService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==SocialNetworkService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function SocialNetworkService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function SocialNetworkService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){SocialNetworkService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){SocialNetworkService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function SocialNetworkService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SocialNetworkService_setPrototypeOf(e,t){return SocialNetworkService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},SocialNetworkService_setPrototypeOf(e,t)}function SocialNetworkService_createSuper(e){var t=function SocialNetworkService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=SocialNetworkService_getPrototypeOf(e);if(t){var o=SocialNetworkService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return SocialNetworkService_possibleConstructorReturn(this,r)}}function SocialNetworkService_possibleConstructorReturn(e,t){if(t&&("object"===SocialNetworkService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function SocialNetworkService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function SocialNetworkService_getPrototypeOf(e){return SocialNetworkService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},SocialNetworkService_getPrototypeOf(e)}var $m,Jm=injectableForJs([jm,cf,Py,nh])(Im=function(e){!function SocialNetworkService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SocialNetworkService_setPrototypeOf(e,t)}(SocialNetworkService,e);var t,r,n,o,i=SocialNetworkService_createSuper(SocialNetworkService);function SocialNetworkService(e,t,r,n){var o;return function SocialNetworkService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SocialNetworkService),(o=i.call(this)).linkedAccountsService=e,o.profilesService=t,o.metaProgressionProfileService=r,o.analyticsService=n,o}return function SocialNetworkService_createClass(e,t,r){return t&&SocialNetworkService_defineProperties(e.prototype,t),r&&SocialNetworkService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(SocialNetworkService,[{key:"onChangeTab",value:(o=SocialNetworkService_asyncToGenerator(SocialNetworkService_regeneratorRuntime().mark((function _callee(e){return SocialNetworkService_regeneratorRuntime().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return"PSN"===e&&this.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","find on other network : playstation"),"XBOX"===e&&this.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","find on other network : xbox"),e||(e="PSN"),this.dispatch(new Kn(e)),t.next=6,this.loadFriends(e);case 6:case"end":return t.stop()}}),_callee,this)}))),function onChangeTab(e){return o.apply(this,arguments)})},{key:"onToggleShowMorenPsn",value:function onToggleShowMorenPsn(e){this.dispatch(new to(e))}},{key:"onToggleShowMorenXbox",value:function onToggleShowMorenXbox(e){this.dispatch(new oo(e))}},{key:"onClickLinkPsn",value:function onClickLinkPsn(){this.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","link with playstation"),this.onLink("PSN","psn","Login with PSN")}},{key:"onClickLinkXbox",value:function onClickLinkXbox(){this.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","link with xbox"),this.onLink("XBOX","xbox","Login with Xbox")}},{key:"onLink",value:function onLink(e,t,r){var n=me.getCurrentLocale(this.getState()),o=Ft.getEnv(this.getState());o="dev"==o?"uat":o;var i=Uc.getConnectUrl(this.getState());"PSN"==e&&(i="".concat(i,"/psn-external")),"XBOX"==e&&(i="".concat(i,"/xbox-external"));var a=pt.getApplicationId(this.getState()),s=pt.getGenomeId(this.getState()),c=vl.getUserId(this.getState()),l="".concat(Ft.getConfiguration(this.getState()).loginNextUrl,"?env=").concat(o,"&appId=").concat(a,"&genomeId=").concat(s,"&lang=").concat(me.getCurrentLocale(this.getState()),"&platform=").concat(e,"&formerUserId=").concat(c),u="".concat(i,"?appId=").concat(a,"&genomeId=").concat(s,"&lang=").concat(n,"&nextUrl=").concat(encodeURIComponent(l));s||(l="".concat(Ft.getConfiguration(this.getState()).loginNextUrl,"?env=").concat(o,"&appId=").concat(a,"&lang=").concat(me.getCurrentLocale(this.getState()),"&platform=").concat(e,"&formerUserId=").concat(c),u="".concat(i,"?appId=").concat(a,"&lang=").concat(n,"&nextUrl=").concat(encodeURIComponent(l))),popupWindow(u,r,500,700)}},{key:"loadXboxFriendsAccounts",value:(n=SocialNetworkService_asyncToGenerator(SocialNetworkService_regeneratorRuntime().mark((function _callee2(e,t){var r,n,o,i;return SocialNetworkService_regeneratorRuntime().wrap((function _callee2$(s){for(;;)switch(s.prev=s.next){case 0:if(Am.getIsLinkedWithXbox(this.getState())){s.next=4;break}return this.dispatch(new Jn(!1)),this.dispatch(new ho(!1)),s.abrupt("return");case 4:if(Ft.isExpired(So.getExpiration(this.getState()),af)){s.next=6;break}return s.abrupt("return");case 6:return this.dispatch(new ho(!0)),s.prev=7,s.next=10,this.linkedAccountsService.loadXboxFriends(e,t);case 10:return r=s.sent,n=r.friends.friendList.map((function(e){return e.xuid})),s.next=14,this.profilesService.getProfilesByPlatformIdsAndPlatformType(n,sl);case 14:return o=s.sent,i=o.map((function(e){return e.userId})),s.next=18,Promise.all([this.profilesService.loadFriendsProfilesByIds(i),this.metaProgressionProfileService.loadFriendsMetaProgressions(i)]);case 18:if(0!=e){s.next=23;break}return this.dispatch(new Jn(!1)),this.dispatch(new ho(!1)),this.dispatch(new vo(a()().unix())),s.abrupt("return");case 23:if(!(Km.getNbOfXboxFriendsInList(this.getState())<Km.getNbOfXboxFriends(this.getState()))){s.next=26;break}return s.next=26,this.loadXboxFriendsAccounts(e+Lm,Lm);case 26:s.next=33;break;case 28:s.prev=28,s.t0=s.catch(7),this.dispatch(new Jn(!0)),this.dispatch(new ho(!1)),this.dispatch(new vo(a()().unix()));case 33:case"end":return s.stop()}}),_callee2,this,[[7,28]])}))),function loadXboxFriendsAccounts(e,t){return n.apply(this,arguments)})},{key:"loadPlayStationFriendsAccounts",value:(r=SocialNetworkService_asyncToGenerator(SocialNetworkService_regeneratorRuntime().mark((function _callee3(e,t){var r,n,o,i;return SocialNetworkService_regeneratorRuntime().wrap((function _callee3$(s){for(;;)switch(s.prev=s.next){case 0:if(Am.getIsLinkedWithPsn(this.getState())){s.next=4;break}return this.dispatch(new $n(!1)),this.dispatch(new so(!1)),s.abrupt("return");case 4:if(Ft.isExpired(fo.getExpiration(this.getState()),af)){s.next=6;break}return s.abrupt("return");case 6:return this.dispatch(new so(!0)),s.prev=7,s.next=10,this.linkedAccountsService.loadPlayStationFriends(e,t);case 10:return r=s.sent,n=r.friends.friendList.map((function(e){return e.onlineId})),s.next=14,this.profilesService.loadMyFriendProfilesByUserNameAndPlatforms(n,il);case 14:return o=s.sent,i=o.map((function(e){return e.userId})),s.next=18,Promise.all([this.profilesService.loadFriendsProfilesByIds(i),this.metaProgressionProfileService.loadFriendsMetaProgressions(i)]);case 18:if(0!=e){s.next=23;break}return this.dispatch(new $n(!1)),this.dispatch(new so(!1)),this.dispatch(new uo(a()().unix())),s.abrupt("return");case 23:if(!(Bm.getNbOfPsnFriendsInList(this.getState())<Bm.getNbOfPsnFriends(this.getState()))){s.next=27;break}return s.next=26,this.loadPlayStationFriendsAccounts(e+Em,Em);case 26:return s.abrupt("return");case 27:s.next=34;break;case 29:s.prev=29,s.t0=s.catch(7),this.dispatch(new $n(!0)),this.dispatch(new so(!1)),this.dispatch(new uo(a()().unix()));case 34:case"end":return s.stop()}}),_callee3,this,[[7,29]])}))),function loadPlayStationFriendsAccounts(e,t){return r.apply(this,arguments)})},{key:"loadFriends",value:(t=SocialNetworkService_asyncToGenerator(SocialNetworkService_regeneratorRuntime().mark((function _callee4(e){return SocialNetworkService_regeneratorRuntime().wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next="PSN"===t.t0?3:"XBOX"===t.t0?6:9;break;case 3:return t.next=5,this.loadPlayStationFriendsAccounts(0,Em);case 5:case 8:case 11:return t.abrupt("break",12);case 6:return t.next=8,this.loadXboxFriendsAccounts(0,Lm);case 9:return t.next=11,this.loadPlayStationFriendsAccounts(0,Em);case 12:case"end":return t.stop()}}),_callee4,this)}))),function loadFriends(e){return t.apply(this,arguments)})}]),SocialNetworkService}(ol))||Im;function FriendsCommunicationService_typeof(e){return FriendsCommunicationService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FriendsCommunicationService_typeof(e)}function FriendsCommunicationService_regeneratorRuntime(){FriendsCommunicationService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==FriendsCommunicationService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function FriendsCommunicationService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function FriendsCommunicationService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){FriendsCommunicationService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){FriendsCommunicationService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function FriendsCommunicationService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FriendsCommunicationService_setPrototypeOf(e,t){return FriendsCommunicationService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},FriendsCommunicationService_setPrototypeOf(e,t)}function FriendsCommunicationService_createSuper(e){var t=function FriendsCommunicationService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=FriendsCommunicationService_getPrototypeOf(e);if(t){var o=FriendsCommunicationService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return FriendsCommunicationService_possibleConstructorReturn(this,r)}}function FriendsCommunicationService_possibleConstructorReturn(e,t){if(t&&("object"===FriendsCommunicationService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return FriendsCommunicationService_assertThisInitialized(e)}function FriendsCommunicationService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FriendsCommunicationService_getPrototypeOf(e){return FriendsCommunicationService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},FriendsCommunicationService_getPrototypeOf(e)}function FriendsCommunicationService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zm,eb=injectableForJs([nh,Ry,Qy,Om,Jm,Py,qy])($m=function(e){!function FriendsCommunicationService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FriendsCommunicationService_setPrototypeOf(e,t)}(FriendsCommunicationService,e);var t,r,n,o=FriendsCommunicationService_createSuper(FriendsCommunicationService);function FriendsCommunicationService(e,t,r,n,i,a,c){var l;return function FriendsCommunicationService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FriendsCommunicationService),FriendsCommunicationService_defineProperty(FriendsCommunicationService_assertThisInitialized(l=o.call(this)),"debounceNameFilterCallback",(0,s.debounce)((function(e){e&&e.length>=1&&l.dispatch(new Mn(e)),e||l.dispatch(new Mn(""))}),500)),FriendsCommunicationService_defineProperty(FriendsCommunicationService_assertThisInitialized(l),"debounceTrackingCallback",(0,s.debounce)((function(e){e&&e.length>=1&&l.analyticsService.trackEvent("friends tab","manage friends","global nav","interaction","search for friend")}),1500)),l.analyticsService=e,l.friendsService=t,l.communicationService=r,l.recentlyMetService=n,l.socialNetworkService=i,l.metaProgressionProfileService=a,l.commonActionsService=c,l}return function FriendsCommunicationService_createClass(e,t,r){return t&&FriendsCommunicationService_defineProperties(e.prototype,t),r&&FriendsCommunicationService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(FriendsCommunicationService,[{key:"onRedirectToFriend",value:function onRedirectToFriend(e,t,r,n){e==ie&&(window.parent.location.href="".concat(r,"/").concat(n,"/profile/").concat(t)),e==ae&&newWindow("".concat(r,"/").concat(n,"/profile/").concat(t)),e==se&&(window.parent&&window.parent.postMessage({topic:"CLICKED_ON_FRIENDS_PROFILE",userName:t},"*"),window.parent||window.postMessage({topic:"CLICKED_ON_FRIENDS_PROFILE",userName:t},"*"))}},{key:"onChangeNarackingCallback(e)}},{key:"onToggleShowMoreFriendRequests",value:function onToggleShowMoreFriendRequests(e){this.dispatch(new Wn(e))}},{key:"onToggleShowMoreFriendsInvitations",value:function onToggleShowMoreFriendsInvitations(e){this.dispatch(new Hn(e))}},{key:"onCancelDeclineRequest",value:function onCancelDeclineRequest(){this.dispatch(new qn(null))}},{key:"onConfirmDeclineRequest",value:function onConfirmDeclineRequest(e){this.dispatch(new qn(e))}},{key:"showAddFriendsTab",value:(n=FriendsCommunicationService_asyncToGenerator(FriendsCommunicationService_regeneratorRuntime().mark((function _callee(){var e;return FriendsCommunicationService_regeneratorRuntime().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return this.analyticsService.trackEvent("friends tab","manage friends","global nav","interaction","add friends"),this.analyticsService.trackPage("friends tab","add friends panel"),e=[this.dispatch(new Yn(!0)),this.dispatch(new en(!0)),this.dispatch(new Lr(!1))],Ci.getShowGameContent(this.getState())&&e.push(this.commonActionsService.hideFriendsDetailsProfileContent()),t.next=6,Promise.all(e);case 6:return t.next=8,this.commonActionsService.toggleOpenDetailsViewState(!0,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 8:return t.next=10,this.loadData();case 10:case"end":return t.stop()}}),_callee,this)}))),function showAddFriendsTab(){return n.apply(this,arguments)})},{key:"loadData",value:(r=FriendsCommunicationService_asyncToGenerator(FriendsCommunicationService_regeneratorRuntime().mark((function _callee2(){return FriendsCommunicationService_regeneratorRuntime().wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.recentlyMetService.loadRecentlyMet(),this.socialNetworkService.loadFriends(io.getSelectedTab(this.getState()))]);case 2:if(!sm.getRecentlyMetProfileIdsInTheLast2Weeks(this.getState()).length){e.next=5;break}return e.next=5,this.metaProgressionProfileService.loadFriendsMetaProgressions(sm.getRecentlyMetProfileIdsInTheLast2Weeks(this.getState()));case 5:case"end":return e.stop()}}),_callee2,this)}))),function loadData(){return r.apply(this,arguments)})},{key:"hideAddFriendsTab",value:(t=FriendsCommunicationService_asyncToGenerator(FriendsCommunicationService_regeneratorRuntime().mark((function _callee3(){return FriendsCommunicationService_regeneratorRuntime().wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.commonActionsService.hideFriendsDetailsAddContent();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),_callee3,this)}))),function hideAddFriendsTab(){return t.apply(this,arguments)})}]),FriendsCommunicationService}(ol))||$m;function FriendsActionsService_typeof(e){return FriendsActionsService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FriendsActionsService_typeof(e)}function FriendsActionsService_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function FriendsActionsService_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FriendsActionsService_ownKeys(Object(r),!0).forEach((function(t){FriendsActionsService_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FriendsActionsService_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function FriendsActionsService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FriendsActionsService_regeneratorRuntime(){FriendsActionsService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==FriendsActionsService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function FriendsActionsService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function FriendsActionsService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){FriendsActionsService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){FriendsActionsService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function FriendsActionsService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FriendsActionsService_setPrototypeOf(e,t){return FriendsActionsService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},FriendsActionsService_setPrototypeOf(e,t)}function FriendsActionsService_createSuper(e){var t=function FriendsActionsService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=FriendsActionsService_getPrototypeOf(e);if(t){var o=FriendsActionsService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return FriendsActionsService_possibleConstructorReturn(this,r)}}function FriendsActionsService_possibleConstructorReturn(e,t){if(t&&("object"===FriendsActionsService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function FriendsActionsService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function FriendsActionsService_getPrototypeOf(e){return FriendsActionsService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},FriendsActionsService_getPrototypeOf(e)}var tb,rb=injectableForJs([Ry,cf,jy,Py,Qy])(Zm=function(e){!function FriendsActionsService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FriendsActionsService_setPrototypeOf(e,t)}(FriendsActionsService,e);var t,r,n,o=FriendsActionsService_createSuper(FriendsActionsService);function FriendsActionsService(e,t,r,n,i){var a;return function FriendsActionsService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FriendsActionsService),(a=o.call(this)).friendsService=e,a.profilesService=t,a.connectionsService=r,a.metaProgressionProfileService=n,a.communicationService=i,a}return function FriendsActionsService_createClass(e,t,r){return t&&FriendsActionsService_defineProperties(e.prototype,t),r&&FriendsActionsService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(FriendsActionsService,[{key:"handleDeclineRequest",value:(n=FriendsActionsService_asyncToGenerator(FriendsActionsService_regeneratorRuntime().mark((function _callee(e,t){var r,n;return FriendsActionsService_regeneratorRuntime().wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return r=!t||t!==hl,n=t&&t===hl,this.dispatch(new qn(null)),this.dispatch(new Vn(e,!0,!1,!1,r,n)),o.prev=4,o.next=7,this.friendsService.declineFriend(e);case 7:o.next=13;break;case 9:return o.prev=9,o.t0=o.catch(4),this.dispatch(new Vn(null,!1,!1,!1,!1,!1)),o.abrupt("return");case 13:return this.dispatch(new Vn(e,!1,!0,!1,r,n)),o.next=16,this.map(e,pl);case 16:this.dispatch(new Vn(null,!1,!1,!1,!1,!1));case 17:case"end":return o.stop()}}),_callee,this,[[4,9]])}))),function handleDeclineRequest(e,t){return n.apply(this,arguments)})},{key:"handleAcceptRequest",value:(r=FriendsActionsService_asyncToGenerator(FriendsActionsService_regeneratorRuntime().mark((function _callee2(e){return FriendsActionsService_regeneratorRuntime().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return this.dispatch(new Vn(e,!0,!1,!0,!1,!1)),this.dispatch(new qn(null)),t.prev=2,t.next=5,this.friendsService.acceptFriend(e);case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(2),this.dispatch(new Vn(null,!1,!1,!1,!1,!1)),t.abrupt("return");case 11:return t.next=13,Promise.all([this.metaProgressionProfileService.loadFriendMetaProgression(e),this.profilesService.loadFriendUserProfiles(e)]);case 13:return t.next=15,this.connectionsService.loadFriendConnections(e);case 15:return this.dispatch(new Vn(e,!1,!0,!0,!1,!1)),t.next=18,this.map(e,gl);case 18:this.dispatch(new Vn(null,!1,!1,!1,!1,!1));case 19:case"end":return t.stop()}}),_callee2,this,[[2,7]])}))),function handleAcceptRequest(e){return r.apply(this,arguments)})},{key:"map",value:(t=FriendsActionsService_asyncToGenerator(FriendsActionsService_regeneratorRuntime().mark((function _callee3(e,t){var r,n,o;return FriendsActionsService_regeneratorRuntime().wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,new Promise((function(e){return setTimeout((function(){return e()}),3e3)}));case 2:return r=i.sent,(n=FriendsActionsService_objectSpread({},Gr.getByIds(this.state)))[e]=FriendsActionsService_objectSpread(FriendsActionsService_objectSpread({},n[e]),{},{state:t,lastModified:a().utc().format("YYYY-MM-DDTHH:mm:ss.SSSS"),stillInRequests:!1}),o=vl.getUserId(this.getState()),this.friendsService.afterLoadedFriends((0,s.map)(n,(function(e){return e})),o,FriendsActionsService_defineProperty({},o,a()().unix())),i.abrupt("return",r);case 8:case"end":return i.stop()}}),_callee3,this)}))),function map(e,r){return t.apply(this,arguments)})}]),FriendsActionsService}(ol))||Zm;function AddFriendService_typeof(e){return AddFriendService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AddFriendService_typeof(e)}function AddFriendService_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function AddFriendService_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AddFriendService_ownKeys(Object(r),!0).forEach((function(t){AddFriendService_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AddFriendService_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function AddFriendService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AddFriendService_regeneratorRuntime(){AddFriendService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==AddFriendService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function AddFriendService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function AddFriendService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){AddFriendService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){AddFriendService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function AddFriendService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AddFriendService_setPrototypeOf(e,t){return AddFriendService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},AddFriendService_setPrototypeOf(e,t)}function AddFriendService_createSuper(e){var t=function AddFriendService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=AddFriendService_getPrototypeOf(e);if(t){var o=AddFriendService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return AddFriendService_possibleConstructorReturn(this,r)}}function AddFriendService_possibleConstructorReturn(e,t){if(t&&("object"===AddFriendService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function AddFriendService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function AddFriendService_getPrototypeOf(e){return AddFriendService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},AddFriendService_getPrototypeOf(e)}var nb,ob=injectableForJs([nh,cf,Ry,Py,Qy])(tb=function(e){!function AddFriendService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AddFriendService_setPrototypeOf(e,t)}(AddFriendService,e);var t,r,n=AddFriendService_createSupeicationService=i,a}return function AddFriendService_createClass(e,t,r){return t&&AddFriendService_defineProperties(e.prototype,t),r&&AddFriendService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(AddFriendService,[{key:"onClickUserSearchInput",value:(r=AddFriendService_asyncToGenerator(AddFriendService_regeneratorRuntime().mark((function _callee(e){return AddFriendService_regeneratorRuntime().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(!(e&&e.length>=3&&e.toLowerCase()!=lu(this.state).toLowerCase())){t.next=20;break}return this.dispatch(new kn(!0,e)),this.dispatch(new En(!1)),this.dispatch(new Lr(!1)),t.next=6,Promise.all([this.profilesService.loadMyFriendProfilesByUserNameAndPlatforms([e],al),this.profilesService.loadMyFriendProfilesByUserNameAndPlatforms([e],il),this.profilesService.loadMyFriendProfilesByUserNameAndPlatforms([e],sl)]);case 6:if(!Au(this.state)){t.next=13;break}return t.next=9,Promise.all([this.metaProgressionProfileService.loadFriendMetaProgression(xu(this.state)),this.profilesService.loadFriendsProfilesByIds(ku(this.state))]);case 9:this.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","search for friend"),this.dispatch(new En(!1)),t.next=14;break;case 13:this.dispatch(new En(!0));case 14:return this.dispatch(new xn(Lu(this.state))),t.next=17,new Promise((function(e){return setTimeout((function(){return e()}),100)}));case 17:return this.dispatch(new kn(!1,e)),t.next=20,new Promise((function(e){return setTimeout((function(){return e()}),2)}));case 20:case"end":return t.stop()}}),_callee,this)}))),function onClickUserSearchInput(e){return r.apply(this,arguments)})},{key:"onClickInviteRequest",value:(t=AddFriendService_asyncToGenerator(AddFriendService_regeneratorRuntime().mark((function _callee2(e){var t,r;return AddFriendService_regeneratorRuntime().wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return this.dispatch(new In(e,!0)),this.dispatch(new Vn(e,!0,!1,!0,!1,!1)),n.{return e()}),305)}));case 4:return n.prev=4,n.next=7,this.friendsService.sendFriendInvite(e);case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(4),this.dispatch(new Vn(null,!1,!1,!1,!1,!1)),n.abrupt("return");case 13:(t=AddFriendService_objectSpread({},Gr.getByIds(this.state)))[e]?t[e]=AddFriendService_objectSpread(AddFriendService_objectSpread({},t[e]),{state:hl,stillInRequests:!1}):t[e]={pid:e,nickname:"",isFavorite:!1,lastModified:a().utc().format("YYYY-MM-DDTHH:mm:ss.SSSS"),state:hl,stillInRequests:!1},r=vl.getUserId(this.getState()),this.friendsService.afterLoadedFriends((0,s.map)(t,(function(e){return e})),r,AddFriendService_defineProperty({},r,a()().unix())),this.dispatch(new Vn(null,!1,!1,!1,!1,!1));case 18:case"end":return n.stop()}}),_callee2,this,[[4,9]])}))),function onClickInviteRequest(e){return t.apply(this,arguments)})}]),AddFriendService}(ol))||tb;function OtherUserNamesRowView(e){return(0,l.jsxs)("div",{className:"row_aka",children:[e.hasPsnProfile?(0,l.jsxs)("div",{className:"row_aka_title",children:[(0,l.jsx)("div",{className:"ico psn-img"}),(0,l.jsx)("span",{className:"label",children:e.psnName})]}):null,e.hasXboxProfile?(0,l.jsxs)("div",{className:"row_aka_title",children:[(0,l.jsx)("div",{className:"ico xbox-img"}),(0,l.jsx)("span",{className:"label",children:e.xboxName})]}):null]})}function AddFriendEntityView(e){return(0,l.jsxs)("div",{className:el()("result in-back load-element",{in:e.pid==e.currentFriendInvitationId&&e.isStillLoading,pending:e.pid!==e.currentDeclineUserId}),children:[(0,l.jsx)(LoaderView,{loaded:e.pid!==e.currentFriendInvitationId||!e.isStillLoading}),e.pid!==e.currentDeclineUserId?[(0,l.jsx)("div",{className:el()("player pending-received-invite",{smaller:e.friendState==hl,full:e.friendState==gl}),children:(0,l.jsxs)("div",{className:"username",children:[(0,l.jsx)("div",{className:"row_avatar",onClick:e.onClickFriend.bind(null,e.userName),children:(0,l.jsx)(Eg,{avatarUrl:e.userAvatarUrl})}),(0,l.jsxs)("div",{className:"username-info",children:[(0,l.jsx)("div",{className:"row_username",children:(0,l.jsx)("div",{className:"name",onClick:e.onClickFriend.bind(null,e.userName),children:e.userName})}),e.pid===e.currentFriendInvitationId&&e.isRightAfterLoad?null:[e.userLevel?(0,l.jsx)("div",{className:"level",children:(0,l.jsx)(xg,{level:e.userLevel,children:"Level [level]"})},"0"):null,e.currentGameTitle?(0,l.jsx)("div",{className:"time-stamp",children:(0,l.jsx)(xg,{gameTitle:e.currentGameTitle,children:"Met in [gameTitle]"})},"1"):null,e.invitationRequestDate?(0,l.jsx)("div",{className:"time-stamp",children:a().utc(e.invitationRequestDate).fromNow()},"2"):null,e.hasPsnProfile||e.hasXboxProfile?(0,l.jsx)(OtherUserNamesRowView,{hasPsnProfile:e.hasPsnProfile,psnName:e.psnName,hasXboxProfile:e.hasXboxProfile,xboxName:e.xboxName},"3"):null],(0,l.jsx)(FriendActionStateView,{friendState:e.friendState,pid:e.pid,currentFriendInvitationId:e.currentFriendInvitationId,isRightAfterLoad:e.isRightAfterLoad,isAcceptedState:e.isAcceptedState,isDeclinedState:e.isDeclinedState,isCanceledState:e.isCanceledState})]})]})},"0"),e.pid===e.currentFriendInvitationId&&e.isRightAfterLoad?null:(0,l.jsx)(UserActionsView,{friendState:e.friendState,onClickDeclineRequest:e.onClickDeclineRequest,onClickAcceptRequest:e.onClickAcceptRequest,onClickInviteRequest:e.onClickInviteRequest,userId:e.pid,userName:e.userName},"1")]:null,(0,l.jsx)(DeclineRequestView,{userId:e.pid,showDeclineState:e.pid==e.currentDeclineUserId,onClickCancelDeclineRequest:e.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:e.onClickConfirmDeclineRequest,friendState:e.friendState})]})}function AddFriendView(e){return(0,l.jsxs)("article",{className:el()("addFriendForm in-back",{in:!e.loadedFriendView,error:!e.hasFoundProfilesByName&&e.showNotFoundFriend||e.hasApiError}),children:[(0,l.jsx)("h2",{children:(0,l.jsx)(xg,{children:"Add friends"})}),(0,l.jsx)("h3",{children:(0,l.jsx)(xg,{children:"Search"})}),(0,l.jsxs)("div",{className:"fieldset",children:[(0,l.jsx)("div",{onClick:e.onClickUserSearchInput.bind(null),className:"link-start-search"}),(0,l.jsx)("input",{ref:e.userSearchRef,type:"text",placeholder:e.enterFullPlayerNameText}),(0,l.jsx)("span",{className:"info",children:(0,l.jsx)(xg,{children:"Usernames are case-sensitive"})})]}),(0,l.jsxs)("div",{className:el()("load-element",{in:e.isLoadingSearchFriend}),children:[(0,l.jsx)(LoaderView,{loaded:!e.isLoadingSearchFriend}),!e.hasFoundProfilesByName&&e.showNotFoundFriend||e.hasApiError?[!e.hasFoundProfilesByName&&e.showNotFoundFriend?(0,l.jsxs)("div",{className:"playerNotFound",children:[(0,l.jsxs)("div",{className:"info",children:[(0,l.jsx)("i",{className:" crossIcon"}),(0,l.jsx)(xg,{userName:(0,l.jsx)("b",{children:e.userNameToSearchBy}),children:"We can't find anyone called [userName]."})]}),(0,l.jsx)("div",{className:"enter-again",children:(0,l.jsx)(xg,{children:"Verify the name and enter it again. Remember, usernames are case-sensitive."})})]},"0"):null,e.hasApiError?(0,l.jsx)("div",{className:"playerNotFound",children:(0,l.jsxs)("div",{className:"info",children:[(0,l.jsx)("i",{className:" crossIcon"}),(0,l.jsx)(xg,{children:"An error has occurred, please try again later."})]})},"1"):null]:null,e.isLoadingSearchFriend||e.hasApiError||!e.hasFoundProfilesByName?null:e.friendsToAdd.map((function(t){return(0,l.jsx)(AddFriendEntityView,{pid:t.pid,userName:t.userName,userAvatarUrl:t.userAvatarUrl,hasPsnProfile:t.hasPsnProfile,psnName:t.psnName,hasXboxProfile:t.hasXboxProfile,xboxName:t.xboxName,friendState:t.friendState,invitationRequestDate:t.invitationRequestDate,onClickInviteRequest:e.onClickInviteRequest,onClickFriend:e.onClickFriendRequest,onClickDeclineRequest:e.onClickDeclineRequest,onClickAcceptRequest:e.onClickAcceptRequest,currentFriendInvitationId:e.currentFriendInvitationId,currentDeclineUserId:e.currentDeclineUserId,isStillLoading:e.isStillLoading,onClickCancelDeclineRequest:e.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:e.onClickConfirmDeclineRequest,isRightAfterLoad:e.isRightAfterLoad,isAcceptedState:e.isAcceptedState,isDeclinedState:e.isDeclinedState,isCanceledState:e.isCanceledState,userLevel:t.level},t.pid)}))]})]})}function AddFriendTabView(e){return(0,l.jsxs)("div",{className:el()("add-friend-tab-view",{hide:!e.show}),children:[e.isInMobileView||e.showMobileViewOnDesktop?(0,l.jsxs)("div",{className:"add-friend-mobile-header",children:[(0,l.jsx)(GoBackView,{onClickGoBack:e.onClickGoBack,showGoBackText:!1}),(0,l.jsx)("div",{className:"sectionTitle",children:(0,l.jsx)(xg,{children:"Add Friends"})})]}):null,(0,l.jsx)("div",{children:(0,l.jsx)(AddFriendView,{loadedFriendView:e.loadedFriendView,isLoadingSearchFriend:e.isLoadingSearchFriend,hasFoundProfilesByName:e.hasFoundProfilesByName,showNotFoundFriend:e.showNotFoundFriend,friendsToAdd:e.friendsToAdd,userSearchRef:e.userSearchRef,onClickUserSearchInput:e.onClickUserSearchInput,userNameToSearchBy:e.userNameToSearchBy,enterFullPlayerNameText:e.enterFullPlayerNameText,friendsToAddState:e.friendsToAddState,onClickInviteRequest:e.onClickInviteRequest,onClickFriendRequest:e.onClickFriendRequest,onClickDeclineRequest:e.onClickDeclineRequest,onClickAcceptRequest:e.onClickAcceptRequest,currentFriendInvitationId:e.currentFriendInvitationId,isStillLoading:e.isStillLoading,currentDeclineUserId:e.currentDeclineUserId,onClickCancelDeclineRequest:e.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:e.onClickConfirmDeclineRequest,isRightAfterLoad:e.isRightAfterLoad,isAcceptedState:e.isAcceptedState,isDeclinedState:e.isDeclinedState,isCanceledState:e.isCanceledState,hasApiError:e.hasApiError})}),e.children]})}function SocialNetworkTabView(e){return(0,l.jsxs)("div",{className:el()("social-network-tab in-back load-element",{in:e.isLoadin}),children:[(0,l.jsx)(LoaderView,{loaded:!e.isLoadin}),e.isLinked?null:(0,l.jsxs)("div",{className:"social-network-content not-linked",children:[(0,l.jsx)("div",{className:"text",children:(0,l.jsx)(xg,{platform:e.platform,children:"Link your account to find players among your [platform] friends."})}),(0,l.jsx)("div",{className:"text",children:(0,l.jsx)(xg,{children:"No information will be published or shared."})}),(0,l.jsx)("div",{className:"btn-container",children:(0,l.jsx)("button",{className:"btn primary latPadding",onClick:e.onClickLinkAccount.bind(null),children:(0,l.jsx)(xg,{platform:e.platform,children:"Link with [platform]"})})})]}),e.isLinked&&e.isAuthExpired?(0,l.jsxs)("div",{className:"social-network-content not-linked",children:[(0,l.jsx)("div",{className:"text",children:(0,l.jsx)(xg,{children:"Re-authenticate to check your friends"})}),(0,l.jsx)("div",{className:"btn-container",children:(0,l.jsx)("button",{className:"btn primary latPadding",onClick:e.onClickLinkAccount.bind(null),children:(0,l.jsx)(xg,{platform:e.platform,children:"Link with [platform]"})})})]}):null,e.isLinked&&!e.isAuthExpired&&e.isReloadFailed?(0,l.jsx)("div",{className:"social-network-content not-linked",children:(0,l.jsx)("div",{className:"text",children:(0,l.jsx)(xg,{children:"An error has occurred, please try again later."})})}):null,!e.isLinked||e.isAuthExpired||e.isReloadFailed||e.hasFriends?null:(0,l.jsx)("div",{className:"social-network-content linked-with-no-friends",children:(0,l.jsx)("div",{className:"text",children:(0,l.jsx)(xg,{platform:e.platform,children:"None of your [platform] friends have a Ubisoft account yet."})})}),e.isLinked&&!e.isAuthExpired&&!e.isReloadFailed&&e.hasFriends?(0,l.jsxs)("div",{className:"social-network-content linked-with-friends",children:[e.friends.map((function(t){return(0,l.jsx)(AddFriendEntityView,{pid:t.pid,userName:t.userName,userAvatarUrl:t.userAvatarUrl,hasPsnProfile:t.hasPsnProfile,psnName:t.psnName,hasXboxProfile:t.hasXboxProfile,xboxName:t.xboxName,friendState:t.friendState,invitationRequestDate:t.invitationRequestDate,onClickInviteRequest:e.onClickInviteRequest,onClickFriend:e.onClickFriendRequest,onClickDeclineRequest:e.onClickDeclineRequest,onClickAcceptRequest:e.onClickAcceptRequest,currentFriendInvitationId:e.currentFriendInvitationId,currentDeclineUserId:e.currentDeclineUserId,isStillLoading:e.isStillLoading,isRightAfterLoad:e.isRightAfterLoad,onClickCancelDeclineRequest:e.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:e.onClickConfirmDeclineRequest,isAcceptedState:e.isAcceptedState,isDeclinedState:e.isDeclinedState,isCanceledState:e.isCanceledState,userLevel:t.userLevel},t.pid)})),(0,l.jsx)(ShowListLinkView,{showMoreLink:e.showMoreLink,nbFriend:e.nbFriend,onClickToggleShowMore:e.onClickToggleShowMore,showLessLink:e.showLessLink})]}):null]})}function SocialNetworksView(e){return(0,l.jsxs)("div",{className:"linked-accounts",children:[(0,l.jsx)("h2",{className:"listTitle",children:(0,l.jsx)(xg,{children:"Find on other networks"})}),(0,l.jsxs)("div",{className:"tabs-container",children:[(0,l.jsx)("div",{className:el()("tab",{"is-active":"PSN"==e.activeTab}),onClick:e.onClickChangeTab.bind(null,"PSN"),children:(0,l.jsx)("div",{className:el()("icon",{"psn-active-img":"PSN"==e.activeTab,"psn-img":"PSN"!==e.activeTab})})}),(0,l.jsx)("div",{className:el()("tab",{"is-active":"XBOX"==e.activeTab}),onClick:e.onClickChangeTab.bind(null,"XBOX"),children:(0,l.jsx)("div",{className:el()("icon",{"xbox-active-img":"XBOX"==e.activeTab,"xbox-img":"XBOX"!==e.activeTab})})})]}),"PSN"==e.activeTab?(0,l.jsx)(SocialNetworkTabView,{isLoadin:e.isLoadinPsn,isLinked:e.isLinkedWithPsn,isReloadFailed:e.isReloadFailedPsn,isAuthExpired:e.isAuthExpiredOnPsn,hasFriends:e.hasFriendsOnPsn,platform:"PSN",friends:e.friendsOnPsn,onClickInviteRequest:e.onClickInviteRequest,showMoreLink:e.showMoreLinkPsn,nbFriend:e.nbFriendOnPsn,onClickToggleShowMore:e.onClickToggleShowMorenPsn,showLessLink:e.showLessLinkPsn,clubUrl:e.clubUrl,locale:e.locale,currentFriendInvitationId:e.currentFriendInvitationId,onClickDeclineRequest:e.onClickDeclineRequest,onClickAcceptRequest:e.onClickAcceptRequest,onClickFriendRequest:e.onClickFriendRequest,currentDeclineUserId:e.currentDeclineUserId,onClickCancelDeclineRequest:e.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:e.onClickConfirmDeclineRequest,onClickLinkAccount:e.onClickLinkPsn,isStillLoading:e.isStillLoading,isRightAfterLoad:e.isRightAfterLoad,isAcceptedState:e.isAcceptedState,isDeclinedState:e.isDeclinedState,isCanceledState:e.isCanceledState}):null,"XBOX"==e.activeTab?(0,l.jsx)(SocialNetworkTabView,{isLoadin:e.isLoadinXbox,isLinked:e.isLinkedWithXbox,isReloadFailed:e.isReloadFailedXbox,isAuthExpired:e.isAuthExpiredOnXbox,hasFriends:e.hasFriendsOnXbox,platform:"XBOX",friends:e.friendsOnXbox,onClickInviteRequest:e.onClickInviteRequest,showMoreLink:e.showMoreLinkXbox,nbFriend:e.nbFriendOnXbox,onClickToggleShowMore:e.onClickToggleShowMoreOnXbox,showLessLink:e.showLessLinkXbox,clubUrl:e.clubUrl,locale:e.locale,currentFriendInvitationId:e.currentFriendInvitationId,onClickDeclineRequest:e.onClickDeclineRequest,onClickAcceptRequest:e.onClickAcceptRequest,onClickFriendRequest:e.onClickFriendRequest,currentDeclineUserId:e.currentDeclineUserId,onClickCancelDeclineRequest:e.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:e.onClickConfirmDeclineRequest,onClickLinkAccount:e.onClickLinkXbox,isStillLoading:e.isStillLoading,isRightAfterLoad:e.isRightAfterLoad,isAcceptedState:e.isAcceptedState,isDeclinedState:e.isDeclinedState,isCanceledState:e.isCanceledState}):null]})}function SocialNetworksController_typeof(e){return SocialNetworksController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SocialNetworksController_typeof(e)}function SocialNetworksController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SocialNetworksController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SocialNetworksController_setPrototypeOf(e,t){return SocialNetworksController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},SocialNetworksController_setPrototypeOf(e,t)}function SocialNetworksController_createSuper(e){var t=function SocialNetworksController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=SocialNetworksController_getPrototypeOf(e);if(t){var o=SocialNetworksController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return SocialNetworksController_possibleConstructorReturn(this,r)}}function SocialNetworksController_possibleConstructorReturn(e,t){if(t&&("object"===SocialNetworksController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function SocialNetworksController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function SocialNetworksController_getPrototypeOf(e){return SocialNetworksController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},SocialNetworksController_getPrototypeOf(e)}var ib,ab=inject({friendsActionsService:rb,friendsCommunicationService:eb,communicationService:Qy,analyticsService:nh,addFriendService:ob,socialNetworkService:Jm})(nb=(0,Jc.$j)(nl({activeTab:io.getSelectedTab,clubUrl:Ft.getClubUrl,locale:me.getCurrentLocale,currentFriendInvitationId:Xn.getCurrentUserId,currentDeclineUserId:Xn.getCurrentDeclineUserId,isAuthExpiredOnPsn:io.getErrorLoadingPsn,isAuthExpiredOnXbox:io.getErrorLoadingXbox,isReloadFailedPsn:io.getIsReloadFailedPsn,isReloadFailedXbox:io.getIsReloadFailedXbox,showMoreLinkPsn:io.getShowMoreFriendsOnPsn,showMoreLinkXbox:io.getShowMoreFriendsOnXbox,showAddFriendTab:Xn.getShowAddFriendsTab,isLoadinPsn:fo.getIsLoading,isLoadinXbox:So.getIsLoading,clickFriendsProfileType:pt.getClickFriendsProfileType,isStillLoading:Xn.getIsStillLoading,isRightAfterLoad:Xn.getIsRightAfterLoad,isAcceptedState:Xn.getIsAccepted,isDeclinedState:Xn.getIsDeclined,isCanceledState:Xn.getIsCanceled},rl(vl.getHasIdentity,nl({isLinkedWithPsn:Am.getIsLinkedWithPsn,isLinkedWithXbox:Am.getIsLinkedWithXbox},rl(So.getIsLoading,nl({isAuthExpiredOnXbox:!1,isReloadFailedXbox:!1,hasFriendsOnXbox:!1,friendsOnXbox:[],nbFriendOnXbox:0}),nl({isAuthExpiredOnXbox:io.getErrorLoadingXbox,isReloadFailedXbox:io.getIsReloadFailedXbox,hasFriendsOnXbox:Km.getHasUplayFriendsWhoAreOnXbox,friendsOnXbox:Km.getUplayFriendsWhoAreOnXboxToShow,nbFriendOnXbox:Km.getNbOfUplayFriendsWhoAreOnXbox})),rl(fo.getIsLoading,nl({isAuthExpiredOnPsn:!1,isReloadFailedPsn:!1,hasFriendsOnPsn:!1,friendsOnPsn:[],nbFriendOnPsn:0}),nl({isAuthExpiredOnPsn:io.getErrorLoadingPsn,isReloadFailedPsn:io.getIsReloadFailedPsn,hasFriendsOnPsn:Bm.getHasUplayFriendsWhoAreOnPsn,friendsOnPsn:Bm.getUplayFriendsWhoAreOnPsnToShow,nbFriendOnPsn:Bm.getNbOfUplayFriendsWhoAreOnPsn}))),{isLinkedWithPsn:!1,isLinkedWithXbox:!1})))(nb=function(e){!function SocialNetworksController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SocialNetworksController_setPrototypeOf(e,t)}(SocialNetworksController,e);var t=SocialNetworksController_createSuper(SocialNetworksController);function SocialNetworksController(){return SocialNetworksController_classCallCheck(this,SocialNetworksController),t.apply(this,arguments)}return function SocialNetworksController_createClass(e,t,r){return t&&SocialNetworksController_defineProperties(e.prototype,t),r&&SocialNetworksController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(SocialNetworksController,[{key:"render",value:function render(){return(0,l.jsx)(SocialNetworksView,{activeTab:this.props.activeTab,clubUrl:this.props.clubUrl,locale:this.props.locale,currentFriendInvitationId:this.props.currentFriendInvitationId,currentDeclineUserId:this.props.currentDeclineUserId,showMoreLinkPsn:this.props.showMoreLinkPsn,showMoreLinkXbox:this.props.showMoreLinkXbox,showLessLinkPsn:!this.props.showMoreLinkPsn,showLessLinkXbox:!this.props.showMoreLinkXbox,isLinkedWithPsn:this.props.isLinkedWithPsn,isLinkedWithXbox:this.props.isLinkedWithXbox,isLoadinPsn:this.props.isLoadinPsn,isLoadinXbox:this.props.isLoadinXbox,isAuthExpiredOnPsn:this.props.isAuthExpiredOnPsn,isAuthExpiredOnXbox:this.props.isAuthExpiredOnXbox,isReloadFailedPsn:this.props.isReloadFailedPsn,isReloadFailedXbox:this.props.isReloadFailedXbox,hasFriendsOnPsn:this.props.hasFriendsOnPsn,hasFriendsOnXbox:this.props.hasFriendsOnXbox,friendsOnPsn:this.props.friendsOnPsn||[],friendsOnXbox:this.props.friendsOnXbox||[],nbFriendOnPsn:this.props.nbFriendOnPsn,nbFriendOnXbox:this.props.nbFriendOnXbox,onClickToggleShowMorenPsn:this.onClickToggleShowMorenPsn,onClickToggleShowMoreOnXbox:this.onClickToggleShowMoreOnXbox,onClickDeclineRequest:this.onClickDeclineRequest,onClickFriendRequest:this.onClickFriendRequest,onClickCancelDeclineRequest:this.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:this.onClickConfirmDeclineRequest,onClickLinkPsn:this.onClickLinkPsn,onClickLinkXbox:this.onClickLinkXbox,onClickInviteRequest:this.onClickInviteRequest,onClickAcceptRequest:this.onClickAcceptRequest,onClickChangeTab:this.onClickChangeTab,isRightAfterLoad:this.props.isRightAfterLoad,isStillLoading:this.props.isStillLoading,isAcceptedState:this.props.isAcceptedState,isDeclinedState:this.props.isDeclinedState,isCanceledState:this.props.isCanceledState})}},{key:"onClickToggleShowMorenPsn",value:function onClickToggleShowMorenPsn(e,t){this.props.socialNetworkService.onToggleShowMorenPsn(e)}},{key:"onClickToggleShowMoreOnXbox",value:function onClickToggleShowMoreOnXbox(e,t){this.props.socialNetworkService.onToggleShowMorenXbox(e)}},{key:"onClickDeclineRequest",value:function onClickDeclineRequest(e,t,r){r.preventDefault(),this.props.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","cancel friend invitation"),this.props.friendsCommunicationService.onConfirmDeclineRequest(e)}},{key:"onClickFriendRequest",value:function onClickFriendRequest(e,t){t.preventDefault(),this.onRedirectToFriend(e),this.props.communicationService.clickedOnCloseFriends()}},{key:"onRedirectToFriend",value:function onRedirectToFriend(e){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,e,this.props.clubUrl,this.props.locale)}},{key:"onClickCancelDeclineRequest",value:function onClickCancelDeclineRequest(e,t){this.props.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","cancel friend invitation : no"),this.props.friendsCommunicationService.onCancelDeclineRequest(e)}},{key:"onClickConfirmDeclineRequest",value:function onClickConfirmDeclineRequest(e,t,r){r.preventDefault(),this.props.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","cancel friend invitation : yes"),this.props.friendsActionsService.handleDeclineRequest(e,t)}},{key:"onClickLinkPsn",value:function onClickLinkPsn(e){e.preventDefault(),this.props.socialNetworkService.onClickLinkPsn()}},{key:"onClickLinkXbox",value:function onClickLinkXbox(e){e.preventDefault(),this.props.socialNetworkService.onClickLinkXbox()}},{key:"onClickInviteRequest",value:function onClickInviteRequest(e,t){t.preventDefault(),this.props.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","invite friend"),this.props.addFriendService.onClickInviteRequest(e)}},{key:"onClickAcceptRequest",value:function onClickAcceptRequest(e,t,r){r.preventDefault(),this.props.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","accept friend request"),this.props.friendsActionsService.handleAcceptRequest(e)}},{key:"onClickChangeTab",value:function onClickChangeTab(e,t){this.props.socialNetworkService.onChangeTab(e)}}]),SocialNetworksController}($c))||nb)||nb;function RecentlyMetView(e){return(0,l.jsxs)("div",{className:"border-bottom-container recently-met",children:[(0,l.jsx)("h2",{className:el()("listTitle",{"no-bottom-border":!e.hasFriends}),children:(0,l.jsx)(xg,{children:"Recently met"})}),(0,l.jsxs)("div",{className:el()("recently-met-content in-back load-element",{in:!e.isLoaded}),children:[(0,l.jsx)(LoaderView,{loaded:e.isLoaded}),e.hasFriends?(0,l.jsx)("div",{className:"recently-met-container",children:e.friends.map((function(t){return(0,l.jsx)("div",{className:"recently-met-content",children:(0,l.jsx)(AddFriendEntityView,{pid:t.pid,userName:t.userName,userAvatarUrl:t.userAvatarUrl,hasPsnProfile:t.hasPsnProfile,psnName:t.psnName,hasXboxProfile:t.hasXboxProfile,xboxName:t.xboxName,friendState:t.friendState,invitationRequestDate:t.invitationRequestDate,currentGameTitle:t.currentGameTitle,onClickInviteRequest:e.onClickInviteRequest,onClickFriend:e.onClickFriendRequest,onClickDeclineRequest:e.onClickDeclineRequest,onClickAcceptRequest:e.onClickAcceptRequest,currentFriendInvitationId:e.currentFriendInvitationId,currentDeclineUserId:e.currentDeclineUserId,isStillLoading:e.isStillLoading,onClickCancelDeclineRequest:e.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:e.onClickConfirmDeclineRequest,isRightAfterLoad:e.isRightAfterLoad,isAcceptedState:e.isAcceptedState,isDeclinedState:e.isDeclinedState,isCanceledState:e.isCanceledState,userLevel:t.userLevel},t.pid)},t.pid)}))}):null,e.hasFriends?null:(0,l.jsx)("div",{className:"no-recently-met-container",children:(0,l.jsx)(xg,{children:"Here you can find all the players you've met in game. Play more Ubisoft games with online features to find suggestions."})})]})]})}function RecentlyMetController_typeof(e){return RecentlyMetController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RecentlyMetController_typeof(e)}function RecentlyMetController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RecentlyMetController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RecentlyMetController_setPrototypeOf(e,t){return RecentlyMetController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},RecentlyMetController_setPrototypeOf(e,t)}function RecentlyMetController_createSuper(e){var t=function RecentlyMetController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=RecentlyMetController_getPrototypeOf(e);if(t){var o=RecentlyMetController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return RecentlyMetController_possibleConstructorReturn(this,r)}}function RecentlyMetController_possibleConstructorReturn(e,t){if(t&&("object"===RecentlyMetController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function RecentlyMetController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function RecentlyMetController_getPrototypeOf(e){return RecentlyMetController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},RecentlyMetController_getPrototypeOf(e)}var sb,cb=inject({friendsActionsService:rb,friendsCommunicationService:eb,communicationService:Qy,analyticsService:nh,addFriendService:ob,recentlyMetService:Om})(ib=(0,Jc.$j)(nl({clubUrl:Ft.getClubUrl,locale:me.getCurrentLocale,showAddFriendTab:Xn.getShowAddFriendsTab,clickFriendsProfileType:pt.getClickFriendsProfileType,currentFriendInvitationId:Xn.getCurrentUserId,currentDeclineUserId:Xn.getCurrentDeclineUserId,isRightAfterLoad:Xn.getIsRightAfterLoad,isAcceptedState:Xn.getIsAccepted,isDeclinedState:Xn.getIsDeclined,isCanceledState:Xn.getIsCanceled,isStillLoading:Xn.getIsStillLoading},rl((function(e){return Gr.loaded(e)&&$t.loaded(e)&&Zi.loaded(e)&&vn.loaded(e)&&Jo.loaded(e)&&An.loadedFriendsProfiles(e)}),nl(rl((function(e){return pm.getRecentlyMetProfilesLoaded(e)}),nl({isLoaded:!0,friends:sm.getMyRecentlyMetFriendsForCarousel,hasFriends:sm.getHasRecentlyMetFriends}),nl({isLoaded:!1,friends:[],hasFriends:!1}))),nl({isLoaded:!1,friends:[],hasFriends:!1}))))(ib=function(e){!function RecentlyMetController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RecentlyMetController_setPrototypeOf(e,t)}(RecentlyMetController,e);var t=RecentlyMetController_createSuper(RecentlyMetController);function RecentlyMetController(){return RecentlyMetController_classCallCheck(this,RecentlyMetController),t.apply(this,arguments)}return function RecentlyMetController_createClass(e,t,r){return t&&RecentlyMetController_defineProperties(e.prototype,t),r&&RecentlyMetController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(RecentlyMetController,[{key:"render",value:function render(){return(0,l.jsx)(RecentlyMetView,{friends:this.props.friends,onClickInviteRequest:this.onClickInviteRequest,onClickFriendRequest:this.onClickFriendRequest,onClickDeclineRequest:this.onClickDeclineRequest,onClickAcceptRequest:this.onClickAcceptRequest,onClickCancelDeclineRequest:this.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:this.onClickConfirmDeclineRequest,currentFriendInvitationId:this.props.currentFriendInvitationId,currentDeclineUserId:this.props.currentDeclineUserId,isLoaded:this.props.isLoaded,hasFriends:this.props.hasFriends,isRightAfterLoad:this.props.isRightAfterLoad,isAcceptedState:this.props.isAcceptedState,isDeclinedState:this.props.isDeclinedState,isCanceledState:this.props.isCanceledState,isStillLoading:this.props.isStillLoading})}},{key:"onClickDeclineRequest",value:function onClickDeclineRequest(e,t,r){r.preventDefault(),this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","cancel friend invitation"),this.props.friendsCommunicationService.onConfirmDeclineRequest(e)}},{key:"onClickFriendRequest",value:function onClickFriendRequest(e,t){t.preventDefault(),this.onRedirectToFriend(e),this.props.communicationService.clickedOnCloseFriends()}},{key:"onRedirectToFriend",value:function onRedirectToFriend(e){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,e,this.props.clubUrl,this.props.locale)}},{key:"onClickCancelDeclineRequest",value:function onClickCancelDeclineRequest(e,t){this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","cancel friend invitation : no"),this.props.friendsCommunicationService.onCancelDeclineRequest(e)}},{key:"onClickConfirmDeclineRequest",value:function onClickConfirmDeclineRequest(e,t,r){this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","cancel friend invitation : yes"),this.props.friendsActionsService.handleDeclineRequest(e,t)}},{key:"onClickInviteRequest",value:function onClickInviteRequest(e,t){t.preventDefault(),this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","invite friend"),this.props.addFriendService.onClickInviteRequest(e)}},{key:"onClickAcceptRequest",value:function onClickAcceptRequest(e,t,r){r.preventDefault(),this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","accept friend request"),this.props.friendsActionsService.handleAcceptRequest(e)}}]),RecentlyMetController}($c))||ib)||ib;function AddFriendsController_typeof(e){return AddFriendsController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AddFriendsController_typeof(e)}function AddFriendsController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AddFriendsController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AddFriendsController_setPrototypeOf(e,t){return AddFriendsController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},AddFriendsController_setPrototypeOf(e,t)}function AddFriendsController_createSuper(e){var t=function AddFriendsController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=AddFriendsController_getPrototypeOf(e);if(t){var o=AddFriendsController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return AddFriendsController_possibleConstructorReturn(this,r)}}function AddFriendsController_possibleConstructorReturn(e,t){if(t&&("object"===AddFriendsController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return AddFriendsController_assertThisInitialized(e)}function AddFriendsController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AddFriendsController_getPrototypeOf(e){return AddFriendsController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},AddFriendsController_getPrototypeOf(e)}function AddFriendsController_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lb,ub=inject({communicationService:Qy,addFriendService:ob,friendsCommunicationService:eb,analyticsService:nh,friendsActionsService:rb})(sb=(0,Jc.$j)(nl({isInMobileView:Uc.getIsInMobileView,show:Xn.getShowAddFriendsTab,clickFriendsProfileType:pt.getClickFriendsProfileType,clubUrl:Ft.getClubUrl,locale:me.getCurrentLocale,isLoadingSearchFriend:Fn.getIsLoading,hasFoundProfilesByName:!1,userNameToSearchBy:null,friendsToAddState:{},translatedText:kv.getAddFriendTranslatedText,currentFriendInvitationId:Xn.getCurrentUserId,isStillLoading:Xn.getIsStillLoading,isRightAfterLoad:Xn.getIsRightAfterLoad,currentDeclineUserId:Xn.getCurrentDeclineUserId,isAcceptedState:Xn.getIsAccepted,isDeclinedState:Xn.getIsDeclined,isCanceledState:Xn.getIsCanceled,showMobileViewOnDesktop:Uc.getShowMobileViewOnDesktop,hasApiError:Gr.gethHasApiError,showNotFoundFriend:Fn.getShowNotFoundFriend},rl(Fn.getIsLoading,nl({hasFoundProfilesByName:!1,friendsToAdd:[],userNameToSearchBy:null,friendsToAddState:{}}),nl({hasFoundProfilesByName:ju,friendsToAdd:Iu,userNameToSearchBy:Fn.getUserNameToSearch,friendsToAddState:Fn.getFriendsSate}))))(sb=function(e){!function AddFriendsController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AddFriendsController_setPrototypeOf(e,t)}(AddFriendsController,e);var t=AddFriendsController_createSuper(AddFriendsController);function AddFriendsController(){var e;AddFriendsController_classCallCheck(this,AddFriendsController);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return AddFriendsController_defineProperty(AddFriendsController_assertThisInitialized(e=t.call.apply(t,[this].concat(n))),"userSearchRefHasEventListener",void 0),AddFriendsController_defineProperty(AddFriendsController_assertThisInitialized(e),"userSearchRef",null),AddFriendsController_defineProperty(AddFriendsController_assertThisInitialized(e),"addKeyEvent",(function(t){13==t.keyCode&&(t.preventDefault(),e.props.addFriendService.onClickUserSearchInput(e.userSearchRef.value))})),e}return function AddFriendsController_createClass(e,t,r){return t&&AddFriendsController_defineProperties(e.prototype,t),r&&AddFriendsController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(AddFriendsController,[{key:"setUserSearchRef",value:function setUserSearchRef(e){this.userSearchRef=e}},{key:"render",value:function render(){return(0,l.jsxs)(AddFriendTabView,{show:this.props.show,onClickGoBack:this.onClickGoBack,loadedFriendView:!0,isLoadingSearchFriend:this.props.isLoadingSearchFriend,hasFoundProfilesByName:this.props.hasFoundProfilesByName,showNotFoundFriend:this.props.showNotFoundFriend,friendsToAdd:this.props.friendsToAdd,userSearchRef:this.setUserSearchRef,onClickUserSearchInput:this.onClickUserSearchInput,userNameToSearchBy:this.props.userNameToSearchBy,enterFullPlayerNameText:this.props.translatedText,friendsToAddState:this.props.friendsToAddState,onClickInviteRequest:this.onClickInviteRequest,onClickFriendRequest:this.onClickFriendRequest,onClickDeclineRequest:this.onClickDeclineRequest,onClickAcceptRequest:this.onClickAcceptRequest,currentFriendInvitationId:this.props.currentFriendInvitationId,isStillLoading:this.props.isStillLoading,currentDeclineUserId:this.props.currentDeclineUserId,onClickCancelDeclineRequest:this.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:this.onClickConfirmDeclineRequest,isRightAfterLoad:this.props.isRightAfterLoad,isAcceptedState:this.props.isAcceptedState,isDeclinedState:this.props.isDeclinedState,isCanceledState:this.props.isCanceledState,onSwipeRecentlyMet:this.props.onSwipeRecentlyMet,isInMobileView:this.props.isInMobileView,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,hasApiError:this.props.hasApiError,children:[(0,l.jsx)(ab,{}),(0,l.jsx)(cb,{onSwipeRecentlyMet:this.props.onSwipeRecentlyMet})]})}},{key:"componentDidMount",value:function componentDidMount(){this.userSearchRefHasEventListener=!1,this.userSearchRef&&(this.userSearchRefHasEventListener=!0,this.userSearchRef.addEventListener("keyup",this.addKeyEvent))}},{key:"componentDidUpdate",value:function componentDidUpdate(e){return this.userSearchRef&&!1===this.userSearchRefHasEventListener&&(this.userSearchRefHasEventListener=!0,this.userSearchRef.addEventListener("keyup",this.addKeyEvent)),null}},{key:"onClickUserSearchInput",value:function onClickUserSearchInput(e){e.preventDefault(),this.props.addFriendService.onClickUserSearchInput(this.userSearchRef.value)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.userSearchRefHasEventListener=!1,this.userSearchRef.removeEventListener("keyup",this.addKeyEvent)}},{key:"onRedirectToFriend",value:function onRedirectToFriend(e){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,e,this.props.clubUrl,this.props.locale)}},{key:"onClickGoBack",value:function onClickGoBack(e){e.preventDefault(),this.userSearchRef&&(this.userSearchRef.value=null),scrollToTop(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.friendsCommunicationService.hideAddFriendsTab()}},{key:"onClickInviteRequest",value:function onClickInviteRequest(e,t){t.preventDefault(),this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","invite friend"),this.props.addFriendService.onClickInviteRequest(e)}},{key:"onClickFriendRequest",value:function onClickFriendRequest(e,t){t.preventDefault(),this.onRedirectToFriend(e),this.props.communicationService.clickedOnCloseFriends()}},{key:"onClickDeclineRequest",value:function onClickDeclineRequest(e,t,r){r.preventDefault(),this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","cancel friend invitation"),this.props.friendsCommunicationService.onConfirmDeclineRequest(e)}},{key:"onClickAcceptRequest",value:function onClickAcceptRequest(e,t,r){r.preventDefault(),this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","accept friend request"),this.props.friendsActionsService.handleAcceptRequest(e)}},{key:"onClickCancelDeclineRequest",value:function onClickCancelDeclineRequest(e,t){this.props.analyticsService.trackEvent("friend tab","add friends panel","global nav","interaction","cancel friend invitation : no"),this.props.friendsCommunicationService.onCancelDeclineRequest(e)}},{key:"onClickConfirmDeclineRequest",value:function onClickConfirmDeclineRequest(e,t,r){this.props.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","cancel friend invitation : yes"),this.props.friendsActionsService.handleDeclineRequest(e,t)}}]),AddFriendsController}($c))||sb)||sb;function FriendProfileView(e){return(0,l.jsxs)("div",{className:"friend-profile-view",children:[e.showNameHeaderOnFriendsDetails?(0,l.jsxs)("div",{className:"friend-profile-header",children:[(0,l.jsx)("div",{className:"name-title",children:e.friendName}),(0,l.jsx)("i",{onClick:e.onClickClose.bind(null),className:"icon-close closeIcon"})]}):null,!e.isInMobileView&&!e.showMobileViewOnDesktop||e.isShownGameStats?null:(0,l.jsxs)("div",{className:"friends-list-mobile-header",children:[(0,l.jsx)(GoBackView,{onClickGoBack:e.onClickGoBack,showGoBackText:!1}),(0,l.jsx)("div",{className:"sectionTitle",children:"Friends list"})]}),e.isShownGameStats?null:[(0,l.jsxs)("div",{className:"contentBlock",children:[(0,l.jsxs)("div",{className:"friend-profile-info",children:[(0,l.jsx)(Eg,{avatarUrl:e.friendAvatarUrl}),(0,l.jsxs)("div",{className:"friend-profile-text",children:[(0,l.jsx)("div",{className:"friend-profile-username",children:e.friendName}),(0,l.jsx)("div",{className:"friend-profile-level",children:(0,l.jsx)(xg,{level:e.friendLevel,children:"Level [level]"})})]})]}),e.currentFriendToDeleteId!==e.friendId?(0,l.jsxs)("div",{className:"friend-profile-actions",children:[(0,l.jsx)(Tg,{element:"a",className:"btn primary bold",href:"".concat(e.clubUrl,"/").concat(e.locale,"/profile/").concat(e.friendName),onClick:e.onClickView.bind(null,e.clubUrl,e.locale,e.friendName),aaSiteSubSection:"friends tab",aaPageName:"friend panel",aaLocation:"global nav",aaCategory:"action",aaAction:"go to connect friend's profile page",children:(0,l.jsx)(xg,{children:"View Profile"})}),(0,l.jsx)("div",{className:el()("btn secondary bold"),onClick:function onClick(){return e.onClickRemove(e.friendId)},children:(0,l.jsx)(xg,{children:"Remove from friends list"})})]}):null,e.currentFriendToDeleteId===e.friendId?(0,l.jsxs)("div",{className:el()("friend-profile-actions remove in-back load-element",{in:e.isDeclinedState}),children:[(0,l.jsx)(LoaderView,{loaded:!e.isDeclinedState}),(0,l.jsx)("div",{className:"profile-action-text",children:(0,l.jsx)(xg,{children:"Remove this player from friends list?"})}),(0,l.jsx)("div",{className:"btn secondary bold",onClick:e.onClickConfirmRemove.bind(null,e.friendId,gl),children:(0,l.jsx)(xg,{children:"Yes"})}),(0,l.jsx)("div",{className:"btn primary bold",onClick:function onClick(){return e.onClickCancelRemove(e.friendId)},children:(0,l.jsx)(xg,{children:"No"})})]}):null]},"0"),(0,l.jsxs)("div",{className:el()("contentBlock no-boreder-botttom in-back load-element",{in:!e.loadedLastPlayedGame}),children:[(0,l.jsx)(LoaderView,{loaded:e.loadedLastPlayedGame}),(0,l.jsxs)("div",{className:"friend-profile-lpg",children:[(0,l.jsx)(OnlineStatusView,{isOnline:e.isOnline,isCurrentlyPlayingAGame:e.isCurrentlyPlayingAGame}),!e.loadedGame||e.hasOtherGamesPlayed?(0,l.jsx)(GameView,{gameDate:e.gameDate,gameTitle:e.gameTitle,gameId:e.gameId,selectedPlatformCode:e.selectedPlatformCode,platformsForSelect:e.platformsForSelect,hasOnlyOnePlatform:e.hasOnlyOnePlatform,onChangePlatform:e.onChangePlatform,loadedGame:e.loadedGame,hasOwnedPlatforms:e.hasOwnedPlatforms,loadedFriends:e.loadedFriends,friendsPlaying:e.friendsPlaying,gameImageUrl:e.gameImageUrl,isFriendGame:!0,lastPlayedGameCoverUrl:e.lastPlayedGameCoverUrl,nbFriendsPlaying:e.nbFriendsPlaying,isInMobileView:e.isInMobileView||e.showMobileViewOnDesktop,hasNoSessionData:e.hasNoSessionData}):null]}),e.loadedGame&&e.hasOtherGamesPlayed?null:(0,l.jsx)("div",{className:"selected-game-bottom-view",children:(0,l.jsx)("div",{className:"user-game-stats-view",children:(0,l.jsxs)("ul",{className:"currently-playing_content_stats",children:[(0,l.jsx)("div",{className:"selected-game-stats-title",children:(0,l.jsx)(xg,{children:"This friend has no Ubisoft games yet."})}),(0,l.jsx)("li",{className:"noStats",children:(0,l.jsx)("span",{children:(0,l.jsx)(xg,{children:"That's too bad. How are you going to find out who's better than who?"})})})]})})}),!e.loadedGame||e.hasOtherGamesPlayed?(0,l.jsx)("div",{className:"selected-game-bottom-view",children:(0,l.jsx)(LastPlayedGameStatsView,{isLoadedGameStats:e.isLoadedGameStats,hasLastPlayedGameStats:e.hasLastPlayedGameStats,lastPlayedGameStats:e.lastPlayedGameStats,statsCDNUrl:e.statsCDNUrl,clubUrl:e.clubUrl,locale:e.locale,onClickGameStats:e.onClickGameStats,showTitle:!0,showLink:!0,isFriendGame:!0})}):null,e.isInMobileView||e.showMobileViewOnDesktop?null:(0,l.jsx)("div",{className:"carousel-desktop",children:(0,l.jsx)(OtherGamesCarouselView,{otherGames:e.otherGames,hasOtherGamesPlayed:e.hasOtherGamesPlayed,loadedLastPlayedGame:e.loadedLastPlayedGame,onClickGameImage:e.onClickGameImage,currentLastPlayedGameId:e.currentLastPlayedGameId,nbSlidesPerView:5,carouselClassName:e.friendId,hasOnlyOneGame:e.hasOnlyOneGame,gamePlayed:e.onlyGamePlayed,hasOnlyOnePlatform:!0,selectedPlatformCode:null,platformsForSelect:[],hasOwnedPlatforms:!1,onChangePlatform:function onChangePlatform(){},isFriendView:!0,hideNavigationAndPagination:!!e.otherGames&&e.otherGames.length<=5,onSlidePrev:e.onSlidePrev,onSlideNext:e.onSlideNext,onSlideToFirst:e.onSlideToFirst,onSlideToLast:e.onSlideToLast,hasNoSessionData:e.hasNoSessionData,onSwipeOtherGames:e.onSwipeOtherGames})}),e.isInMobileView||e.showMobileViewOnDesktop?(0,l.jsx)(OtherGamesCarouselView,{otherGames:e.otherGames,hasOtherGamesPlayed:e.hasOtherGamesPlayed,loadedLastPlayedGame:e.loadedLastPlayedGame,onClickGameImage:e.onClickGameImage,currentLastPlayedGameId:e.currentLastPlayedGameId,nbSlidesPerView:3,carouselClassName:e.friendId,hasOnlyOneGame:e.hasOnlyOneGame,gamePlayed:e.onlyGamePlayed,hasOnlyOnePlatform:!0,selectedPlatformCode:null,platformsForSelect:[],hasOwnedPlatforms:!1,onChangePlatform:function onChangePlatform(){},isFriendView:!0,hideNavigationAndPagination:!!e.otherGames&&e.otherGames.length<=3,onSlidePrev:e.onSlidePrev,onSlideNext:e.onSlideNext,onSlideToFirst:e.onSlideToFirst,onSlideToLast:e.onSlideToLast,hasNoSessionData:e.hasNoSessionData,onSwipeOtherGames:e.onSwipeOtherGames}):null]},"1")],e.isShownGameStats?e.children:null]})}function FriendProfileService_typeof(e){return FriendProfileService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FriendProfileService_typeof(e)}function FriendProfileService_regeneratorRuntime(){FriendProfileService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==FriendProfileService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function FriendProfileService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function FriendProfileService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){FriendProfileService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){FriendProfileService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function FriendProfileService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FriendProfileService_setPrototypeOf(e,t){return FriendProfileService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},FriendProfileService_setPrototypeOf(e,t)}function FriendProfileService_createSuper(e){var t=function FriendProfileService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=FriendProfileService_getPrototypeOf(e);if(t){var o=FriendProfileService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return FriendProfileService_possibleConstructorReturn(this,r)}}function FriendProfileService_possibleConstructorReturn(e,t){if(t&&("object"===FriendProfileService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function FriendProfileService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function FriendProfileService_getPrototypeOf(e){return FriendProfileService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},FriendProfileService_getPrototypeOf(e)}var fb,db=injectableForJs([cf,qp,Qy,jy,Uy,rb,Py,nh,qy])(lb=function(e){!function FriendProfileService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FriendProfileService_setPrototypeOf(e,t)}(FriendProfileService,e);var t,r,n,o,i,a,s,c=FriendProfileService_createSuper(FriendProfileService);function FriendProfileService(e,t,r,n,o,i,a,s,l){var u;return function FriendProfileService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FriendProfileService),(u=c.call(this)).profilesService=e,u.gamesService=t,u.communicationService=r,u.connectionsService=n,u.friendsPlayingGameService=o,u.friendsActionsService=i,u.metaProgressionProfileService=a,u.analyticsService=s,u.commonActionsService=l,u}return function FriendProfileService_createClass(e,t,r){return t&&FriendProfileService_defineProperties(e.prototype,t),r&&FriendProfileService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(FriendProfileService,[{key:"onClickFriendProfile",value:(s=FriendProfileService_asyncToGenerator(FriendProfileService_regeneratorRuntime().mark((function _callee(e,t){var r,n,o,i,a,s,c,l,u,f,d=this;return FriendProfileService_regeneratorRuntime().wrap((function _callee$(p){for(;;)switch(p.prev=p.next){case 0:if(e!=Ci.getCurrentFriendId(this.getState())){p.next=5;break}return this.analyticsService.trackPage("friends tab","manage friends"),p.next=4,this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 4:return p.abrupt("return");case 5:return this.analyticsService.trackEvent("friends tab","manage friends","global nav","interaction","see friend's profile"),this.analyticsService.trackPage("friends tab","friend panel"),p.next=9,this.dispatch(new en(!0));case 9:return p.next=11,this.dispatch(new mr(!1));case 11:return r=[this.dispatch(new wr),this.dispatch(new sr(!1)),this.dispatch(new vr),this.dispatch(new ar),this.dispatch(new mi(!1)),this.dispatch(new an(!1)),this.dispatch(new gi(!0,e,t))],Xn.getShowAddFriendsTab(this.getState())&&r.push(this.commonActionsService.hideFriendsDetailsAddContent()),p.next=15,Promise.all(r);case 15:return p.next=17,this.commonActionsService.toggleOpenDetailsViewState(!0,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 17:return p.next=19,Promise.all([this.profilesService.loadFriendUserProfiles(e),this.connectionsService.loadFriendConnections(e),this.metaProgressionProfileService.loadFriendMetaProgression(e)]);case 19:return p.next=21,this.gamesService.loadGamesByUserId(e);case 21:if(!Mp.getHasGamesPlayed(this.getState())){p.next=39;break}if(n=Mp.getFriendGamesPlayed(this.getState()),o=n.length?n[0].applicationId:null,i=n.length?n[0].id:null,a=n.length?n[0].spaceId:null,s=n.length?rd.getGameSiblingSpaceIdByAppId(this.getState(),{gameId:i,appId:o}):null,c=n.length?n[0].platformCode:null,l=n.length?n[0].platformType:null,u=n.length&&$t.getPlatformsApplicationsIdsByParentSpaceId(this.getState())[a]?$t.getPlatformsApplicationsIdsByParentSpaceId(this.getState())[a].map((function(e){return $t.getPlatformsByApplicationId(d.getState())[e]})):[],f=rd.getUserProfileIdByPlatformType(l,Zi.getByAppId(this.getState()),o,s,Yu(this.getState(),{friendId:e}),e),this.dispatch(new yi(0,i,s,o,c)),this.dispatch(new vi(i,s,o)),this.dispatch(new mr(!0)),!n.length){p.next=37;break}return p.next=37,this.loadStats(s,f,e,i,u);case 37:p.next=43;break;case 39:this.dispatch(new mr(!0)),this.dispatch(new lr(wo.getFriendsByInstallmentId(this.getState()),wo.getExpiration(this.getState()))),this.dispatch(new or(mn.getById(this.getState()),mn.getBySpaceId(this.getState()),mn.getIds(this.getState()),{})),this.dispatch(new ur(mn.getByFriendProfileId(this.getState()),mn.getFriendsExpiration(this.getState())));case 43:case"end":return p.stop()}}),_callee,this)}))),function onClickFriendProfile(e,t){return s.apply(this,arguments)})},{key:"onChangePlatform",value:(a=FriendProfileService_asyncToGenerator(FriendProfileService_regeneratorRuntime().mark((function _callee2(e,t,r){var n,o,i;return FriendProfileService_regeneratorRuntime().wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:a.t0=r,a.next=a.t0===Vy?3:a.t0===Wy?5:7;break;case 3:return this.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","".concat(Mp.getGameNameByGameId(this.getState(),{gameId:e})," : platform : ").concat(Mp.getPlatformNameByAppId(this.getState(),{appId:t}))),a.abrupt("break",8);case 5:return this.analyticsService.trackEvent("friends tab","friend panel : stats","global nav","interaction","".concat(Mp.getGameNameByGameId(this.getState(),{gameId:e})," : game card : stats : platform selector : ").concat(Mp.getPlatformNameByAppId(this.getState(),{appId:t}))),a.abrupt("break",8);case 7:this.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","".concat(Mp.getGameNameByGameId(this.getState(),{gameId:e})," : platform : ").concat(Mp.getPlatformNameByAppId(this.getState(),{appId:t})));case 8:return n=rd.getGameSiblingSpaceIdByAppId(this.getState(),{gameId:e,appId:t}),this.dispatch(new vi(e,n,t)),this.dispatch(new ar),o=Ci.getCurrentFriendId(this.getState()),i=rd.getUserProfileIdByPlatformType($t.getPlatformsByApplicationId(this.getState())[t].type,Zi.getByAppId(this.getState()),t,n,Yu(this.getState(),{friendId:o}),o),a.next=15,this.gamesService.loadFriendLastPlayedGameStatsCard($t.getByPlatformApplicationId(this.getState())[t].siblingSpaceId,i,o);case 15:case"end":return a.stop()}}),_callee2,this)}))),function onChangePlatform(e,t,r){return a.apply(this,arguments)})},{key:"onClickGameImage",value:(i=FriendProfileService_asyncToGenerator(FriendProfileService_regeneratorRuntime().mark((function _callee3(e,t,r,n,o){var i,a,s,c,l=this;return FriendProfileService_regeneratorRuntime().wrap((function _callee3$(u){for(;;)switch(u.prev=u.next){case 0:if(!Ci.getCurrentLastPlayedGameId(this.getState())||Ci.getCurrentLastPlayedGameId(this.getState())!==t||!Ci.getShowGameContent(this.getState())){u.next=2;break}return u.abrupt("return");case 2:return i=rd.getGameSiblingSpaceIdByAppId(this.getState(),{gameId:t,appId:n}),this.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","friend played games : ".concat(Mp.getGameNameByGameId(this.getState(),{gameId:t}))),this.dispatch(new yi(e,t,i,n,o)),this.dispatch(new vi(t,i,n)),this.dispatch(new ar),a=$t.getPlatformsApplicationsIdsByParentSpaceId(this.getState())[r]?$t.getPlatformsApplicationsIdsByParentSpaceId(this.d(l.getState())[e]})):[],s=Ci.getCurrentFriendId(this.getState()),c=rd.getUserProfileIdByPlatformType(Mp.getPlatformTypeByPlatformCode(this.getState(),{platformCode:o}),Zi.getByAppId(this.getState()),n,i,Yu(this.getState(),{friendId:s}),s),u.next=12,this.loadStats(i,c,s,t,a);case 12:case"end":return u.stop()}}),_callee3,this)}))),function onClickGameImage(e,t,r,n,o){return i.apply(this,arguments)})},{key:"onToggleShowGameStats",value:function onToggleShowGameStats(e,t){this.dispatch(new mi(e)),e||this.dispatch(new an(!1)),e&&(this.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","see more stats"),this.analyticsService.trackPage("friends tab","friend panel : stats"),this.dispatch(new sn(!1)),t&&(Dy<t.getScrollTop()?this.dispatch(new an(!0)):this.dispatch(new an(!1))))}},{key:"onHandleClickRemove",value:(o=FriendProfileService_asyncToGenerator(FriendProfileService_regeneratorRuntime().mark((function _callee4(e){return FriendProfileService_regeneratorRuntime().wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:this.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","remove from friends list"),this.dispatch(new wi(e));case 2:case"end":return t.stop()}}),_callee4,this)}))),function onHandleClickRemove(e){return o.apply(this,arguments)})},{key:"onHandleClickCancelRemove",value:(n=FriendProfileService_asyncToGenerator(FriendProfileService_regeneratorRuntime().mark((function _callee5(){return FriendProfileService_regeneratorRuntime().wrap((function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:this.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","remove from friends list : cancel"),this.dispatch(new wi);case 2:case"end":return e.stop()}}),_callee5,this)}))),function onHandleClickCancelRemove(){return n.apply(this,arguments)})},{key:"onHandleClickConfirmRemove",value:(r=FriendProfileService_asyncToGenerator(FriendProfileService_regeneratorRuntime().mark((function _callee6(e,t){return FriendProfileService_regeneratorRuntime().wrap((function _callee6$(r){for(;;)switch(r.prev=r.next){case 0:return this.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","remove from friends list : confirmed"),r.next=3,this.friendsActionsService.handleDeclineRequest(e,t);case 3:return r.next=5,this.commonActionsService.toggleOpenDetailsViewState(!1,this.communicationService.getWindowsWidth(),this.communicationService.getWindowsHeight(),this.communicationService.getIframeBoundingClientRect());case 5:this.dispatch(new wi);case 6:case"end":return r.stop()}}),_callee6,this)}))),function onHandleClickConfirmRemove(e,t){return r.apply(this,arguments)})},{key:"loadStats",value:(t=FriendProfileService_asyncToGenerator(FriendProfileService_regeneratorRuntime().mark((function _callee7(e,t,r,n,o){var i;return FriendProfileService_regeneratorRuntime().wrap((function _callee7$(a){for(;;)switch(a.prev=a.next){case 0:return i=[this.gamesService.loadFriendLastPlayedGameStatsCard(e,t,r),this.friendsPlayingGameService.loadFriendsPlayingGame(n)],a.next=3,Promise.all(i);case 3:return a.next=5,this.gamesService.loadFriendGameStatsCommon(!0,Mp.getUsersPlayingFriendGameIds(this.getState(),{friendId:t}).concat([vl.getUserId(this.getState())]),o,Mp.getCurrentLastPlayedGameInstallmentDefaultSpaceId(this.getState()));case 5:case"end":return a.stop()}}),_callee7,this)}))),function loadStats(e,r,n,o,i){return t.apply(this,arguments)})}]),FriendProfileService}(ol))||lb;function CompareGameStatsView(e){return(0,l.jsxs)("div",{className:"selected-game-stats-view",children:[e.showStatsHeaderOnFriendsDetails?(0,l.jsxs)("div",{className:"game-stats-header",children:[(0,l.jsx)("i",{onClick:e.onClickGoBack,className:"icon-angle-left"}),(0,l.jsx)("div",{onClick:e.onClickGoBack,className:"game-title",children:e.gameName}),(0,l.jsx)("i",{onClick:e.onClickClose.bind(null),className:"icon-close closeIcon"})]}):null,(0,l.jsxs)("div",{className:"game-stats-title",children:[e.isInMobileView||e.showMobileViewOnDesktop?(0,l.jsx)("div",{className:"selected-game-mobile",children:(0,l.jsxs)("div",{className:"selected-game-mobile-header",children:[(0,l.jsx)(GoBackView,{onClickGoBack:e.onClickGoBack,showGoBackText:!1}),(0,l.jsxs)("div",{className:"titles",children:[(0,l.jsx)("div",{className:"sectionSubtitle",children:e.gameName}),(0,l.jsx)("div",{className:"sectionTitle",children:(0,l.jsx)(xg,{children:"Stats details"})})]})]})}):null,e.isInMobileView||e.showMobileViewOnDesktop?null:[(0,l.jsx)("i",{onClick:e.onClickGoBack,className:el()({"show-stats-header":e.showStatsHeaderOnFriendsDetails,"icon-angle-left":!0})},"0"),(0,l.jsx)("div",{onClick:e.onClickGoBack,className:el()("game-title",{"show-stats-header":e.showStatsHeaderOnFriendsDetails}),children:e.gameName},"1")],(0,l.jsx)("div",{className:"platform-selected-wrapper",children:(0,l.jsx)(Bg,{lastPlayedGameId:e.lastPlayedGameId,selectedPlatformCode:e.selectedPlatformCode,platformsForSelect:e.platformsForSelect,onChangePlatform:e.onChangePlatform,loadedLastPlayedGame:e.loadedLastPlayedGame,hasLastPlayedGame:!0,hasOwnedPlatforms:e.hasOwnedPlatforms,hasOnlyOnePlatform:e.hasOnlyOnePlatform})}),(0,l.jsx)("div",{className:"separator"})]}),(0,l.jsxs)("div",{className:"contentBlock no-boreder-botttom",children:[(0,l.jsx)("div",{className:"game-stats-friends",children:(0,l.jsx)("div",{className:"title",children:(0,l.jsx)(xg,{children:"Stats details"})})}),e.selectedFriendId&&e.gameStatsToCompareWithAFriend&&e.gameStatsToCompareWithAFriend.length>0?[(0,l.jsxs)("div",{className:"compareHead",children:[(0,l.jsxs)("div",{className:"compareHead-you",children:[(0,l.jsx)("div",{className:"compareHead-avatar",children:(0,l.jsx)("img",{src:e.myAvatarUrl,alt:"avatar"})}),(0,l.jsx)(xg,{children:"You"})]}),(0,l.jsxs)("div",{className:"compareHead-friend",children:[(0,l.jsx)("div",{className:"compareHead-avatar",children:(0,l.jsx)("img",{src:e.friendAvatarUrl,alt:"avatar"})}),(0,l.jsx)("span",{children:e.friendName})]})]},"0"),(0,l.jsx)(CompareFriendStatsView,{gameStatsToCompareWithAFriend:e.gameStatsToCompareWithAFriend,locale:e.locale},"1")]:null]})]})}function SelectedFriendProfileStatsController_typeof(e){return SelectedFriendProfileStatsController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SelectedFriendProfileStatsController_typeof(e)}function SelectedFriendProfileStatsController_regeneratorRuntime(){SelectedFriendProfileStatsController_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==SelectedFriendProfileStatsController_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function SelectedFriendProfileStatsController_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function SelectedFriendProfileStatsController_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){SelectedFriendProfileStatsController_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){SelectedFriendProfileStatsController_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function SelectedFriendProfileStatsController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SelectedFriendProfileStatsController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SelectedFriendProfileStatsController_setPrototypeOf(e,t){return SelectedFriendProfileStatsController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},SelectedFriendProfileStatsController_setPrototypeOf(e,t)}function SelectedFriendProfileStatsController_createSuper(e){var t=function SelectedFriendProfileStatsController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=SelectedFriendProfileStatsController_getPrototypeOf(e);if(t){var o=SelectedFriendProfileStatsController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return SelectedFriendProfileStatsController_possibleConstructorReturn(this,r)}}function SelectedFriendProfileStatsController_possibleConstructorReturn(e,t){if(t&&("object"===SelectedFriendProfileStatsController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function SelectedFriendProfileStatsController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function SelectedFriendProfileStatsController_getPrototypeOf(e){return SelectedFriendProfileStatsController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},SelectedFriendProfileStatsController_getPrototypeOf(e)}var pb,hb=inject({friendProfileService:db,communicationService:Qy,analyticsService:nh,commonActionsService:qy})(fb=(0,Jc.$j)(nl({selectedFriendId:Ci.getCurrentFriendId,lastPlayedGameId:Ci.getCurrentLastPlayedGameId,friendName:Ci.getCurrentFriendName,platformsForSelect:[],loadedLastPlayedGame:!1,hasLastPlayedGame:!1,hasOnlyOnePlatform:!1,hasOwnedPlatforms:!1,gameStatsToCompareWithAFriend:[],isInMobileView:Uc.getIsInMobileView,showMobileViewOnDesktop:Uc.getShowMobileViewOnDesktop,showStatsHeaderOnFriendsDetails:Uc.getShowStatsHeaderOnFriendsDetails,locale:me.getCurrentLocale},rl((function(e){return $t.loaded(e)&&Zi.loaded(e)&&vn.loaded(e)&&mn.loaded(e)&&mn.loadedFriendsStats(e)&&Gr.loaded(e)&&wo.loaded(e)}),nl({gameName:Mp.getFriendCurrenGamePlayedGameTitle,selectedPlatformCode:Mp.getSelectedPlatformCode,platformsForSelect:Mp.getLastPlayedGameFilteredOwnedPlatfroms,loadedLastPlayedGame:!0,hasLastPlayedGame:Mp.getHasGamesPlayed,hasOnlyOnePlatform:Mp.getHasOnlyOnePlatform,hasOwnedPlatforms:Mp.getHasOwnedPlatforms,gameStatsToCompareWithAFriend:Mp.getGameStatsToCompareWithAFriend,myAvatarUrl:yg.getMyAvatar,friendAvatarUrl:Mp.getFriendSmallAvatar}))))(fb=function(e){!function SelectedFriendProfileStatsController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SelectedFriendProfileStatsController_setPrototypeOf(e,t)}(SelectedFriendProfileStatsController,e);var t,r,n=SelectedFriendProfileStatsController_createSuper(SelectedFriendProfileStatsController);function SelectedFriendProfileStatsController(){return SelectedFriendProfileStatsController_classCallCheck(this,SelectedFriendProfileStatsController),n.apply(this,arguments)}return function SelectedFriendProfileStatsController_createClass(e,t,r){return t&&SelectedFriendProfileStatsController_defineProperties(e.prototype,t),r&&SelectedFriendProfileStatsController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(SelectedFriendProfileStatsController,[{key:"render",value:function render(){return(0,l.jsx)(CompareGameStatsView,{gameName:this.props.gameName,selectedFriendId:this.props.selectedFriendId,lastPlayedGameId:this.props.lastPlayedGameId,hasOnlyOnePlatform:this.props.hasOnlyOnePlatform,selectedPlatformCode:this.props.selectedPlatformCode,platformsForSelect:this.props.platformsForSelect,onChangePlatform:this.onChangePlatform,loadedLastPlayedGame:this.props.loadedLastPlayedGame,hasLastPlayedGame:this.props.hasLastPlayedGame,hasOwnedPlatforms:this.props.hasOwnedPlatforms,onClickGoBack:this.onClickGoBack,gameStatsToCompareWithAFriend:this.props.gameStatsToCompareWithAFriend,isInMobileView:this.props.isInMobileView,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,showStatsHeaderOnFriendsDetails:this.props.showStatsHeaderOnFriendsDetails,onClickClose:this.onClickClose,locale:this.props.locale,myAvatarUrl:this.props.myAvatarUrl,friendAvatarUrl:this.props.friendAvatarUrl,friendName:this.props.friendName})}},{key:"onChangePlatform",value:(r=SelectedFriendProfileStatsController_asyncToGenerator(SelectedFriendProfileStatsController_regeneratorRuntime().mark((function _callee(e,t){return SelectedFriendProfileStatsController_regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.props.friendProfileService.onChangePlatform(e,t,Wy);case 2:case"end":return r.stop()}}),_callee,this)}))),function onChangePlatform(e,t){return r.apply(this,arguments)})},{key:"onClickGoBack",value:function onClickGoBack(e){e.preventDefault(),scrollToTop(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.analyticsService.trackEvent("friends tab","friend panel : stats","global nav","interaction","".concat(this.props.gameName," : game card : stats : go back to main panel")),this.props.analyticsService.trackPage("friends tab","friend panel"),this.props.friendProfileService.onToggleShowGameStats(!1)}},{key:"onClickClose",value:(t=SelectedFriendProfileStatsController_asyncToGenerator(SelectedFriendProfileStatsController_regeneratorRuntime().mark((function _callee2(){return SelectedFriendProfileStatsController_regeneratorRuntime().wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.commonActionsService.toggleOpenDetailsViewState(!1,this.props.communicationService.getWindowsWidth(),this.props.communicationService.getWindowsHeight(),this.props.communicationService.getIframeBoundingClientRect());case 2:case"end":return e.stop()}}),_callee2,this)}))),function onClickClose(){return t.apply(this,arguments)})}]),SelectedFriendProfileStatsController}($c))||fb)||fb;function FriendProfileController_typeof(e){return FriendProfileController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FriendProfileController_typeof(e)}function FriendProfileController_regeneratorRuntime(){FriendProfileController_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==FriendProfileController_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function FriendProfileController_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function FriendProfileController_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){FriendProfileController_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){FriendProfileController_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function FriendProfileController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FriendProfileController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FriendProfileController_setPrototypeOf(e,t){return FriendProfileController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},FriendProfileController_setPrototypeOf(e,t)}function FriendProfileController_createSuper(e){var t=function FriendProfileController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=FriendProfileController_getPrototypeOf(e);if(t){var o=FriendProfileController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return FriendProfileController_possibleConstructorReturn(this,r)}}function FriendProfileController_possibleConstructorReturn(e,t){if(t&&("object"===FriendProfileController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return FriendProfileController_assertThisInitialized(e)}function FriendProfileController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FriendProfileController_getPrototypeOf(e){return FriendProfileController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},FriendProfileController_getPrototypeOf(e)}function FriendProfileController_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yb,gb=inject({friendProfileService:db,friendsCommunicationService:eb,friendsActionsService:rb,communicationService:Qy,analyticsService:nh,commonActionsService:qy})(pb=(0,Jc.$j)(nl({clubUrl:Ft.getClubUrl,locale:me.getCurrentLocale,loadedGame:!1,loadedLastPlayedGame:Mp.getLoadedFriendGames,platformsForSelect:[],friendsPlaying:[],lastPlayedGameStats:[],otherGames:[],dots:[],statsCDNUrl:Ft.getStatsCDNUrl,clickFriendsProfileType:pt.getClickFriendsProfileType,isDeclinedState:Xn.getIsDeclined,isShownGameStats:Ci.getIsShownGameStats,isInMobileView:Uc.getIsInMobileView,showMobileViewOnDesktop:Uc.getShowMobileViewOnDesktop,showNameHeaderOnFriendsDetails:Uc.getShowNameHeaderOnFriendsDetails,currentFriendToDeleteId:Ci.getCurrentFriendToDeleteId},rl(vl.getHasIdentity,nl({friendId:Ci.getCurrentFriendId,friendAvatarUrl:Mp.getFriendSmallAvatar,friendName:Ci.getCurrentFriendName})),rl(pm.getFriendProfileLoaded,nl({friendLevel:pm.getFriendLevel}),nl({friendLevel:0})),rl((function(e){return Tr.loaded(e)&&Gr.loaded(e)&&An.loadedFriendsProfiles(e)&&$t.loaded(e)&&Zi.loaded(e)&&vn.loaded(e)}),nl({isOnline:Mp.getCurrentFriendIsOnline,isCurrentlyPlayingAGame:Mp.getCurrentFriendIsCurrentlyPlayingAGame})),rl((function(e){return $t.loaded(e)&&Zi.loaded(e)&&vn.loaded(e)}),nl({loadedGame:!0,hasLastPlayedGame:Mp.getHasGamesPlayed,hasOtherGamesPlayed:Mp.getHasGamesPlayed,gameDate:Mp.getFriendCurrenGamePlayedGameDate,gameTitle:Mp.getFriendCurrenGamePlayedGameTitle,gameId:Mp.getFriendCurrenGamePlayedGameId,gameImageUrl:Mp.getFriendCurrenGamePlayedGameImageUrl,lastPlayedGameCoverUrl:Mp.getFriendCurrenGamePlayedGameCoverUrl,selectedPlatformCode:Mp.getSelectedPlatformCode,platformsForSelect:Mp.getLastPlayedGameFilteredOwnedPlatfroms,hasOnlyOnePlatform:Mp.getHasOnlyOnePlatform,hasOwnedPlatforms:Mp.getHasOwnedPlatforms,otherGames:Mp.getFriendGamesPlayed,currentLastPlayedGameId:Ci.getCurrentLastPlayedGameId,hasOnlyOneGame:Mp.getHasOnlyOneGame,onlyGamePlayed:Mp.getOnlyGamePlayed,hasNoSessionData:Mp.getHasNoSessionData})),rl((function(e){return Gr.loaded(e)&&wo.loaded(e)&&$t.loaded(e)&&Zi.loaded(e)&&vn.loaded(e)}),nl({nbFriendsPlaying:Mp.getNbOfFriendsPlayingGame,loadedFriends:!0})),rl((function(e){return Gr.loaded(e)&&wo.loaded(e)&&$t.loaded(e)&&Zi.loaded(e)&&vn.loaded(e)&&mn.loaded(e)&&mn.loadedFriendsStats(e)}),nl({hasLastPlayedGameStats:Mp.hasLastPlayedGameStats,lastPlayedGameStats:Mp.getLastPlayedGameStatsWithRank,isLoadedGameStats:!0}))))(pb=function(e){!function FriendProfileController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FriendProfileController_setPrototypeOf(e,t)}(FriendProfileController,e);var t,r,n,o,i,a,s,c=FriendProfileController_createSuper(FrieneOtherGames:!1}),e}return function FriendProfileController_createClass(e,t,r){return t&&FriendProfileController_defineProperties(e.prototype,t),r&&FriendProfileController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(FriendProfileController,[{key:"render",value:function render(){return(0,l.jsx)(FriendProfileView,{friendId:this.props.friendId,friendAvatarUrl:this.props.friendAvatarUrl,friendName:this.props.friendName,friendLevel:this.props.friendLevel,onClickRemove:this.onClickRemove,onClickView:this.onClickView,clubUrl:this.props.clubUrl,locale:this.props.locale,hasLastPlayedGame:this.props.hasLastPlayedGame,isOnline:this.props.isOnline,isCurrentlyPlayingAGame:this.props.isCurrentlyPlayingAGame,gameDate:this.props.gameDate,gameTitle:this.props.gameTitle,gameId:this.props.gameId,selectedPlatformCode:this.props.selectedPlatformCode,platformsForSelect:this.props.platformsForSelect,hasOnlyOnePlatform:this.props.hasOnlyOnePlatform,onChangePlatform:this.onChangePlatform,loadedGame:this.props.loadedGame,hasOwnedPlatforms:this.props.hasOwnedPlatforms,loadedFriends:this.props.loadedFriends,friendsPlaying:this.props.friendsPlaying,gameImageUrl:this.props.gameImageUrl,isFriendGame:!0,isLoadedGameStats:this.props.isLoadedGameStats,hasLastPlayedGameStats:this.props.hasLastPlayedGameStats,lastPlayedGameStats:this.props.lastPlayedGameStats,statsCDNUrl:this.props.statsCDNUrl,lastPlayedGameCoverUrl:this.props.lastPlayedGameCoverUrl,onClickGameStats:this.onClickGameStats,otherGames:this.props.otherGames,hasOtherGamesPlayed:this.props.hasOtherGamesPlayed,loadedLastPlayedGame:this.props.loadedLastPlayedGame,onClickGameImage:this.onClickGameImage,isInMobileView:this.props.isInMobileView,onClickGoBack:this.onClickGoBack,isDeclinedState:this.props.isDeclinedState,isShownGameStats:this.props.isShownGameStats,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,showNameHeaderOnFriendsDetails:this.props.showNameHeaderOnFriendsDetails,onClickClose:this.onClickClose,nbFriendsPlaying:this.props.nbFriendsPlaying,currentLastPlayedGameId:this.props.currentLastPlayedGameId,currentFriendToDeleteId:this.props.currentFriendToDeleteId,onClickConfirmRemove:this.onClickConfirmRemove,onClickCancelRemove:this.onClickCancelRemove,hasOnlyOneGame:this.props.hasOnlyOneGame,onlyGamePlayed:this.props.onlyGamePlayed,onSlidePrev:this.onSlidePrev,onSlideNext:this.onSlideNext,onSlideToFirst:this.onSlideToFirst,onSlideToLast:this.onSlideToLast,hasNoSessionData:this.props.hasNoSessionData,onSwipeOtherGames:this.onSwipeOtherGames,children:(0,l.jsx)(hb,{_detailsScrollableRef:this.props._detailsScrollableRef,_scrollableRef:this.props._scrollableRef})})}},{key:"onClickRemove",value:(s=FriendProfileController_asyncToGenerator(FriendProfileController_regeneratorRuntime().mark((function _callee(e){return FriendProfileController_regeneratorRuntime().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return console.warn(e),t.next=3,this.props.friendProfileService.onHandleClickRemove(e);case 3:case"end":return t.stop()}}),_callee,this)}))),function onClickRemove(e){return s.apply(this,arguments)})},{key:"onClickView",value:function onClickView(e,t,r,n){n.preventDefault(),this.onRedirectToFriend(e,t,r)}},{key:"onChangePlatform",value:(a=FriendProfileController_asyncToGenerator(FriendProfileController_regeneratorRuntime().mark((function _callee2(e,t,r){return FriendProfileController_regeneratorRuntime().wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.props.friendProfileService.onChangePlatform(e,t,Vy);case 2:case"end":return r.stop()}})ly(this,arguments)})},{key:"onClickGameStats",value:function onClickGameStats(e){e.preventDefault(),scrollToTop(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),this.props.friendProfileService.onToggleShowGameStats(!0,this.props._detailsScrollableRef)}},{key:"onClickGameImage",value:(i=FriendProfileController_asyncToGenerator(FriendProfileController_regeneratorRuntime().mark((function _callee3(e,t,r,n,o,i){return FriendProfileController_regeneratorRuntime().wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return i.preventDefault(),scrollToTop(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),a.next=4,this.props.friendProfileService.onClickGameImage(e,t,r,n,o);case 4:case"end":return a.stop()}}),_callee3,this)}))),function onClickGameImage(e,t,r,n,o,a){return i.apply(this,arguments)})},{key:"onClickGoBack",value:(o=FriendProfileController_asyncToGenerator(FriendProfileController_regeneratorRuntime().mark((function _callee4(){return FriendProfileController_regeneratorRuntime().wrap((function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return this.props.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","go back to manage friends"),this.props.analyticsService.trackPage("friends tab","manage friends"),e.next=4,this.props.commonActionsService.toggleOpenDetailsViewState(!1,this.props.communicationService.getWindowsWidth(),this.props.communicationService.getWindowsHeight(),this.props.communicationService.getIframeBoundingClientRect());case 4:case"end":return e.stop()}}),_callee4,this)}))),function onClickGoBack(){return o.apply(this,arguments)})},{key:"onRedirectToFriend",value:function onRedirectToFriend(e,t,r){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,r,e,t)}},{key:"onClickClose",value:(n=FriendProfileController_asyncToGenerator(FriendProfileController_regeneratorRuntime().mark((function _callee5(){return FriendProfileController_regeneratorRuntime().wrap((function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return scrollToTop(this.props._detailsScrollableRef,this.props._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),e.next=3,this.props.commonActionsService.toggleOpenDetailsViewState(!1,this.props.communicationService.getWindowsWidth(),this.props.communicationService.getWindowsHeight(),this.props.communicationService.getIframeBoundingClientRect());case 3:case"end":return e.stop()}}),_callee5,this)}))),function onClickClose(){return n.apply(this,arguments)})},{key:"onClickConfirmRemove",value:(r=FriendProfileController_asyncToGenerator(FriendProfileController_regeneratorRuntime().mark((function _callee6(e,t){return FriendProfileController_regeneratorRuntime().wrap((function _callee6$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.props.friendProfileService.onHandleClickConfirmRemove(e,t);case 2:case"end":return r.stop()}}),_callee6,this)}))),function onClickConfirmRemove(e,t){return r.apply(this,arguments)})},{key:"onClickCancelRemove",value:(t=FriendProfileController_asyncToGenerator(FriendProfileController_regeneratorRuntime().mark((function _callee7(e){return FriendProfileController_regeneratorRuntime().wrap((function _callee7$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.friendProfileService.onHandleClickCancelRemove(e);case 2:case"end":return t.stop()}}),_callee7,this)}))),function onClickCancelRemove(e){return t.apply(this,arguments)})},{key:"onSlidePrev",value:function onSlidePrev(){this.props.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","last played games : carousel : previous")}},{key:"onSlideNext",value:function onSlideNext(){this.props.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","last played games : carousel : next")}},{key:"onSlideToFirst",value:function onSlideToFirst(){this.props.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","last played games : carousel : go to first")}},{key:"onSlideToLast",value:function onSlideToLast(){this.props.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","last played games : carousel : go to last")}},{key:"onSwiipeFriendsGames(e)}}]),FriendProfileController}($c))||pb)||pb;function FriendsActivityFeedController_typeof(e){return FriendsActivityFeedController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FriendsActivityFeedController_typeof(e)}function FriendsActivityFeedController_regeneratorRuntime(){FriendsActivityFeedController_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==FriendsActivityFeedController_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function FriendsActivityFeedController_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function FriendsActivityFeedController_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){FriendsActivityFeedController_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){FriendsActivityFeedController_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}function FriendsActivityFeedController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FriendsActivityFeedController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FriendsActivityFeedController_setPrototypeOf(e,t){return FriendsActivityFeedController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},FriendsActivityFeedController_setPrototypeOf(e,t)}function FriendsActivityFeedController_createSuper(e){var t=function FriendsActivityFeedController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=FriendsActivityFeedController_getPrototypeOf(e);if(t){var o=FriendsActivityFeedController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return FriendsActivityFeedController_possibleConstructorReturn(this,r)}}function FriendsActivityFeedController_possibleConstructorReturn(e,t){if(t&&("object"===FriendsActivityFeedController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return FriendsActivityFeedController_assertThisInitialized(e)}function FriendsActivityFeedController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FriendsActivityFeedController_getPrototypeOf(e){return FriendsActivityFeedController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},FriendsActivityFeedController_getPrototypeOf(e)}function FriendsActivityFeedController_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vb,mb=inject({communicationService:Qy,friendsCommunicationService:eb,friendsActionsService:rb,friendProfileService:db,analyticsService:nh,commonActionsService:qy})(yb=(0,Jc.$j)(nl({friends:[],clubUrl:Ft.getClubUrl,friendsToAdd:[],isInMobileView:Uc.getIsInMobileView,showNotifications:Uc.getShowNotifications,clickFriendsProfileType:pt.getClickFriendsProfileType,loadedOnlineFriends:bu,loadedFriendsActivityFeed:gu,currentFriendInvitationId:Xn.getCurrentUserId,isStillLoading:Xn.getIsStillLoading,isRightAfterLoad:Xn.getIsRightAfterLoad,isAcceptedState:Xn.getIsAccepted,isDeclinedState:Xn.getIsDeclined,isCanceledState:Xn.getIsCanceled,hasFriendsFound:!1,filterText:kv.getFilterTranslatedText,numberOfTotalFriends:0,isLoadingFriendRequests:!0,friendRequests:[],showMoreFriendRequests:Xn.getShowMoreFriendRequests,currentDeclineUserId:Xn.getCurrentDeclineUserId,showAddFriendTab:Xn.getShowAddFriendsTab,showDetailsView:Uc.getShowDetailsView,showFriendsDetails:Uc.getShowFriendsDetails,showFriendProfileContent:Ci.getShowGameContent,showMobileViewOnDesktop:Uc.getShowMobileViewOnDesktop,showStatsHeaderOnFriendsDetails:Uc.getShowStatsHeaderOnFriendsDetails,currentFriendId:Ci.getCurrentFriendId,showNameHeaderOnFriendsDetails:Uc.getShowNameHeaderOnFriendsDetails,scrollbarWidth:pt.getScrollbarWidth,collapsedHeight:Uc.getCollapsedHeight,windowInnerHeight:Uc.getWindowInnerHeight,scrollbarNegativeMargin:Uc.getIframeScrollWidth,height:Uc.getScrollbarContainerHeightForFriendsView,maxHeight:Uc.getScrollbarContainerMaxHeightForFriendsView,top:Uc.getTopPositionForScrollbarContainer,scrollbarHeight:Uc.getScrollbarHeightForFriendsView},rl(vl.hasIdentity,nl(rl(bu,rl(gu,nl({isLoading:!1,friends:Uu,locale:me.getCurrentLocale,clubUrl:Ft.getClubUrl,hasFriendsFound:Vu,numberOfTotalFriends:Wu}),nl({isLoading:!0,friends:Mu,locale:me.getCurrentLocale,clubUrl:Ft.getClubUrl,hasFriendsFound:Bu})),nl({isLoading:!0,friends:[],hasFriendsFound:!1,clubUrl:Ft.getClubUrl})),rl(mu,nl({isLoadingFriendRequests:!1,friendRequests:Hu,nbFriendRequests:qu}),nl({isLoadingFriendRequests:!0,friendRequests:[],nbFriendRequests:0}))))))(yb=function(e){!function FriendsActivityFeedController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FriendsActivityFeedController_setPrototypeOf(e,t)}(FriendsActivityFeedController,e);var t,r,n,o=FriendsActivityFeedController_createSuper(FriendsActivityFeedController);function FriendsActivityFeedController(){var e;FriendsActivityFeedController_classCallCheck(this,FriendsActivityFeedController);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return FriendsActivityFeedController_defineProperty(FriendsActivityFeedController_assertThisInitialized(e=o.call.apply(o,[this].concat(r))),"state",{isSwipingRecentlyMet:!1,isSwipingFriendsGames:!1,nameToFilterBy:""}),FriendsActivityFeedController_defineProperty(FriendsActivityFeedController_assertThisInitialized(e),"swiper",void 0),FriendsActivityFeedController_defineProperty(FriendsActivityFeedController_assertThisInitialized(e),"_swipeRef",void 0),FriendsActivityFeedController_defineProperty(FriendsActivityFeedController_assertThisInitialized(e),"_scrollableRef",void 0),FriendsActivityFeedController_defineProperty(FriendsActivityFeedController_assertThisInitialized(e),"_detailsScrollableRef",void 0),FriendsActivityFeedController_defineProperty(FriendsActivityFeedController_assertThisInitialized(e),"scrollableRef",(function(t){return e._scrollableRef=t})),FriendsActivityFeedController_defineProperty(FriendsActivityFeedController_assertThisInitialized(e),"detailsScrollableRef",(function(t){return e._detailsScrollableRef=t})),e}return function FriendsActivityFeedController_createClass(e,t,r){return t&&FriendsActivityFeedController_defineProperties(e.prototype,t),r&&FriendsActivityFeedController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(FriendsActivityFeedController,[{key:"setSwipeRef",value:function setSwipeRef(e){this._swipeRef=e}},{key:"render",value:function render(){return(0,l.jsx)(FriendsActivityFeedView,{swipeRef:this.setSwipeRef,show:this.props.show,isInMobileView:this.props.isInMobileView,isLoading:this.props.isLoading,friends:this.props.friends,clubUrl:this.props.clubUrl,locale:this.props.locale,onClickFriend:this.onClickFriend,showFriendView:!0,showNotifications:this.props.showNotifications,onClickDeclineRequest:this.onClickDeclineRequest,onClickAcceptRequest:this.onClickAcceptRequest,currentFriendInvitationId:this.props.currentFriendInvitationId,isStillLoading:this.props.isStillLoading,hasFriendsFound:this.props.hasFriendsFound,onChangeNameToFilterBy:this.onChangeNameToFilterBy,filterText:this.props.filterText,nameToFilterBy:this.state.nameToFilterBy,numberOfTotalFriends:this.props.numberOfTotalFriends,isLoadingFriendRequests:this.props.isLoadingFriendRequests,friendRequests:this.props.friendRequests||[],showLessFriendRequestsLink:!this.props.showMoreFriendRequests,showMoreFriendRequestsLink:this.props.showMoreFriendRequests,nbFriendRequests:this.props.nbFriendRequests,onClickToggleShowMoreFriendRequests:this.onClickToggleShowMoreFriendRequests,currentDeclineUserId:this.props.currentDeclineUserId,onClickFriendRequest:this.onClickFriendRequest,onClickCancelDeclineRequest:this.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:this.onClickConfirmDeclineRequest,onClickAddFriendButton:this.onClickAddFriendButton,showAddFriendTab:this.props.showAddFriendTab,isRightAfterLoad:this.props.isRightAfterLoad,isAcceptedState:this.props.isAcceptedState,isDeclinedState:this.props.isDeclinedState,isCanceledState:this.props.isCanceledState,scrollableRef:this.scrollableRef,showDetailsView:this.props.showDetailsView,showFriendsDetails:this.props.showFriendsDetails,onClickCloseDetailsTabView:this.onClickCloseDetailsTabView,showFriendProfileContent:this.props.showFriendProfileContent,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,detailsScrollableRef:this.detailsScrollableRef,handleOnScrollUpdate:this.handleOnScrollUpdate,showStatsHeaderOnFriendsDetails:this.props.showStatsHeaderOnFriendsDetails,currentFriendId:this.props.currentFriendId,showNameHeaderOnFriendsDetails:this.props.showNameHeaderOnFriendsDetails,scrollbarWidth:this.props.scrollbarWidth,handleOnClickMenu:this.handleOnClickMenu,collapsedHeight:this.props.collapsedHeight,windowInnerHeight:this.props.windowInnerHeight,scrollbarNegativeMargin:this.props.scrollbarNegativeMargin,height:this.props.height,maxHeight:this.props.maxHeight,top:this.props.top,scrollbarHeight:this.props.scrollbarHeight,children:this.props.showAddFriendTab?(0,l.jsx)(ub,{onSwipeRecentlyMet:this.onSwipeRecentlyMet,_detailsScrollableRef:this._detailsScrollableRef,_scrollableRef:this._scrollableRef}):this.props.showFriendProfileContent?(0,l.jsx)(gb,{onSwipeFriendsGames:this.onSwipeFriendsGames,_detailsScrollableRef:this._detailsScrollableRef,_scrollableRef:this._scrollableRef}):(0,l.jsx)("noscript",{})})}},{key:"componentDidMount",value:function componentDidMount(){this.swiper=new Gg(this._swipeRef,this.handleSwipe.bind(this))}},{key:"componentDidUpdate",value:function componentDidUpdate(e){return e.show!==this.props.show&&this.props.show&&this._scrollableRef&&this._scrollableRef.scrollToTop(),this.props.showAddFriendTab===e.showAddFriendTab&&this.props.showFriendProfileContent===e.showFriendProfileContent||!this.props.isInMobileView&&!this.props.showMobileViewOnDesktop||!this._scrollableRef||this._scrollableRef.scrollToTop(),null}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.swiper&&this.swiper.removeEvents()}},{key:"onClickFriend",value:(n=FriendsActivityFeedController_asyncToGenerator(FriendsActivityFeedController_regeneratorRuntime().mark((function _callee(e,t){return FriendsActivityFeedController_regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),scrollToTop(this._detailsScrollableRef,this._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),r.next=4,this.props.friendProfileService.onClickFriendProfile(e.userId,e.username);case 4:case"end":return r.stop()}}),_callee,this)}))),function onClickFriend(e,t){return n.apply(this,arguments)})},{key:"handleSwipe",value:function handleSwipe(e){this.state.isSwipingRecentlyMet||this.state.isSwipingFriendsGames||(e.swipeLeft?this.props.communicationService.clickedOnMobilePlayerCardTab():e.swipeRight&&this.props.communicationService.clickedOnMobileNotifications())}},{key:"onClickFriendRequest",value:function onClickFriendRequest(e,t){t.preventDefault(),this.onRedirectToFriend(e),this.props.communicationService.clickedOnCloseFriends()}},{key:"onRedirectToFriend",value:function onRedirectToFriend(e){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,e,this.props.clubUrl,this.props.locale)}},{key:"onClickDeclineRequest",value:function onClickDeclineRequest(e,t,r){r.preventDefault(),this.props.analyticsService.trackEvent("friends tab","manage friends","global nav","interaction","refuse friend request"),this.props.friendsCommunicationService.onConfirmDeclineRequest(e,yl)}},{key:"onClickAcceptRequest",value:function onClickAcceptRequest(e,t,r){r.preventDefault(),this.props.analyticsService.trackEvent("friends tab","manage friends","global nav","interaction","accept friend request"),this.props.friendsActionsService.handleAcceptRequest(e)}},{key:"onChangeNameToFilterBy",value:function onChangeNameToFilterBy(e){this.setState({nameToFilterBy:e.target.value}),this.props.friendsCommunicationService.onChangeNameToFilterBy(e.target.value)}},{key:"onClickToggleShowMoreFreFriendRequests(e)}},{key:"onClickCancelDeclineRequest",value:function onClickCancelDeclineRequest(e,t){this.props.analyticsService.trackEvent("friends tab","manage friends","global nav","interaction","refuse friend request : cancel"),this.props.friendsCommunicationService.onCancelDeclineRequest(e,yl)}},{key:"onClickConfirmDeclineRequest",value:function onClickConfirmDeclineRequest(e,t,r){this.props.analyticsService.trackEvent("friends tab","manage friends","global nav","interaction","refuse friend request : confirmed"),this.props.friendsActionsService.handleDeclineRequest(e,t)}},{key:"onClickAddFriendButton",value:(r=FriendsActivityFeedController_asyncToGenerator(FriendsActivityFeedController_regeneratorRuntime().mark((function _callee2(){return FriendsActivityFeedController_regeneratorRuntime().wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return scrollToTop(this._detailsScrollableRef,this._scrollableRef,this.props.isInMobileView,this.props.showMobileViewOnDesktop),e.next=3,this.props.friendsCommunicationService.showAddFriendsTab();case 3:case"end":return e.stop()}}),_callee2,this)}))),function onClickAddFriendButton(){return r.apply(this,arguments)})},{key:"onSwipeRecentlyMet",value:function onSwipeRecentlyMet(e){this.setState({isSwipingRecentlyMet:e})}},{key:"onSwipeFriendsGames",value:function onSwipeFriendsGames(e){this.setState({isSwipingFriendsGames:e})}},{key:"onClickCloseDetailsTabView",value:(t=FriendsActivityFeedController_asyncToGenerator(FriendsActivityFeedController_regeneratorRuntime().mark((function _callee3(){return FriendsActivityFeedController_regeneratorRuntime().wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return this.props.showAddFriendTab&&this.props.analyticsService.trackEvent("friends tab","add friends panel","global nav","interaction","close add friends popup"),this.props.showFriendProfileContent&&this.props.analyticsService.trackEvent("friends tab","friend panel","global nav","interaction","close friend's profile popup"),this.props.analyticsService.trackPage("friends tab","manage friends"),e.next=5,this.props.commonActionsService.toggleOpenDetailsViewState(!1,this.props.communicationService.getWindowsWidth(),this.props.communicationService.getWindowsHeight(),this.props.communicationService.getIframeBoundingClientRect());case 5:case"end":return e.stop()}}),_callee3,this)}))),function onClickCloseDetailsTabView(){return t.apply(this,arguments)})},{key:"handleOnClickMenu",value:function handleOnClickMenu(e){e.preventDefault(),(!this.props.showAddFriendTab&&!this.props.showFriendProfileContent||this.props.showMobileViewOnDesktop)&&this.props.communicationService.clickedOnMenu()}},{key:"handleOnScrollUpdate",value:function handleOnScrollUpdate(e){this.props.commonActionsService.handleOnScrollUpdate(e,By)}}]),FriendsActivityFeedController}($c))||yb)||yb;function BetaNotificationView(e){return e.betaName&&e.betaPhase&&e.betaText?(0,l.jsxs)("div",{className:el()("beta-notification notif",{firstSeen:e.betaNotSeen}),children:[(0,l.jsxs)("div",{className:"title",children:["1"==e.betaType?(0,l.jsx)(xg,{children:"Online Technical Test Invitation"}):null,"2"==e.betaType?(0,l.jsx)(xg,{children:"Play now"}):null,"3"==e.betaType?(0,l.jsx)(xg,{children:"Beta friend invitation"}):null,(0,l.jsx)("span",{className:"notif-dot"})]}),(0,l.jsxs)("div",{className:"beta-notification-content",children:[(0,l.jsx)("div",{className:"notifImg",children:(0,l.jsx)("div",{className:"img-bg"})}),(0,l.jsx)("div",{className:"notifContainer",children:(0,l.jsx)("div",{className:"notifInfo",children:(0,l.jsx)(xg,{BetaName:(0,l.jsx)("span",{className:"title-text-highlight",children:e.betaName}),PhaseName:(0,l.jsx)("span",{className:"title-text-highlight",children:e.betaPhase}),children:e.betaText})})})]}),"2"!=e.betaType||"PC"!=e.betaPlatform?(0,l.jsx)("div",{className:"notifAction",children:(0,l.jsxs)("div",{className:"btn primary",onClick:e.onClickBeta.bind(null,e.betaId,e.betaUrl),children:["1"==e.betaType?(0,l.jsx)(xg,{children:"Accept the NDA"}):null,"2"==e.betaType&&"PC"!=e.betaPlatform?(0,l.jsx)(xg,{children:"Get my key"}):null,"3"==e.betaType?(0,l.jsx)(xg,{children:"Get my access"}):null]})}):null,"2"==e.betaType&&"PC"==e.betaPlatform?(0,l.jsx)("div",{className:"notifAction",children:(0,l.jsx)("div",{className:"btn primary",onClick:function onClick(t){e.onClickBeta(e.betaId,e.betaUrl,t,!1)},children:(0,l.jsx)(xg,{children:"Preload now"})})}):null]}):null}function EmailNotificationView(e){return(0,l.jsxs)("div",{className:el()("email-notification notif",{"only-element":e.isLastElement}),children:[(0,l.jsx)("div",{className:"title",children:(0,l.jsx)(xg,{children:"Your email is not verified yet!"})}),(0,l.jsx)("div",{className:"notifImg",children:(0,l.jsx)("div",{className:"img-bg"})}),(0,l.jsxs)("div",{className:"notifContainer",children:[e.isEmailVerificationSent?null:(0,l.jsx)("div",{className:"notifInfo",children:(0,l.jsx)(xg,{children:"To help ensure your account security, please verify your email"})}),e.isEmailVerificationSent?(0,l.jsx)("div",{className:"notifInfo",children:(0,l.jsx)(xg,{children:"We have sent you an e-mail from AccountSupport@ubi.com to enable you to verify your email address. Please read and follow the instructions provided to complete this process!"})}):null]}),e.isEmailVerificationSent?null:(0,l.jsx)("div",{className:"notifAction",children:e.onClickResendVerificationEmail?[(0,l.jsx)("a",{onClick:e.onClickResendVerificationEmail.bind(null),className:"btn primary",children:(0,l.jsx)(xg,{children:"Verify my email"})},"0"),(0,l.jsx)("a",{onClick:e.onClickLater.bind(null),className:"btn secondary",children:(0,l.jsx)(xg,{children:"Later"})},"1")]:null})]})}function NotificationsPanelContentView(e){return(0,l.jsxs)("div",{className:el()("content in-back load-element",{in:e.isLoading||!e.isLoadedNotifications}),children:[(0,l.jsx)(LoaderView,{loaded:!e.isLoading&&e.isLoadedNotifications}),!e.isLoading&&e.isLoadedNotifications&&(e.notificationsLength>0||e.showUserEmailVerificationButton)?(0,l.jsxs)("div",{children:[e.notifications.map((function(t){return(0,l.jsx)(BetaNotificationView,{betaId:t.betaId,betaNotSeen:t.betaNotSeen,betaName:t.betaName,betaPhase:t.betaPhase,betaUrl:t.betaUrl,betaText:t.betaText,betaType:t.betaType,betaPlatform:t.betaPlatform,onClickBeta:e.onClickBeta},t.betaId)})),e.showUserEmailVerificationButton?(0,l.jsx)(EmailNotificationView,{isEmailVerificationSent:e.isEmailVerificationSent,isLastElement:0==e.notifications.length,onClickResendVerificationEmail:e.onClickResendVerificationEmail,onClickLater:e.onClickLater}):null]}):e.isLoading||!e.isLoadedNotifications||0!==e.notificationsLength||e.showUserEmailVerificationButton?e.isLoading||!e.isLoadedNotifications?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{minHeight:"6.6rem"}}),(0,l.jsx)("div",{style:{minHeight:"6.6rem"}})]}):(0,l.jsx)("noscript",{}):(0,l.jsxs)("div",{className:"no-notifications notif",children:[(0,l.jsx)("div",{className:"title",children:(0,l.jsx)(xg,{children:"This is where you'll find your notifications."})}),(0,l.jsx)("div",{className:"notifImg",children:(0,l.jsx)("div",{className:"img-bg"})}),(0,l.jsx)("div",{className:"notifContainer",children:(0,l.jsx)("div",{className:"notifInfo",children:(0,l.jsx)(xg,{children:"Here you'll get friend requests, open beta alerts, event reminders, and much more!"})})})]})]})}function NotificationsPanelView(e){return(0,l.jsxs)("div",{className:el()("menu_notifications-panel-container panel-container expanding-details",{visible:e.show}),style:{height:e.height,maxHeight:e.maxHeight,top:e.top},children:[(0,l.jsx)("div",{className:el()("menu_notifications-panel",{"is-in-mobile":e.isInMobileView||e.isOnIpad}),ref:e.swipeRef,children:(0,l.jsx)(ScrollbarsView,{scrollbarHeight:e.scrollbarHeight,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,hideTracksWhenNotNeeded:!0,scrollableRef:e.scrollableRef,scrollbarWidth:e.scrollbarWidth,scrollbarNegativeMargin:e.scrollbarNegativeMargin,children:(0,l.jsx)(NotificationsPanelContentView,{notifications:e.notifications,isLoading:e.isLoading,showUserEmailVerificationButton:e.showUserEmailVerificationButton,isEmailVerificationSent:e.isEmailVerificationSent,onClickResendVerificationEmail:e.onClickResendVerificationEmail,notificationsLength:e.notificationsLength,onClickBeta:e.onClickBeta,isLoadedNotifications:e.isLoadedNotifications,onClickLater:e.onClickLater})})}),e.isInMobileView?null:(0,l.jsx)("div",{className:"details-view-container",style:{height:e.height,maxHeight:e.maxHeight},onClick:e.handleOnClickMenu.bind(null),children:(0,l.jsx)("div",{className:el()("details-view"),style:{height:e.height,maxHeight:e.maxHeight}})}),e.isInMobileView?(0,l.jsx)("noscript",{}):null]})}function NotificationsPanelController_typeof(e){return NotificationsPanelController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NotificationsPanelController_typeof(e)}function NotificationsPanelController_regeneratorRuntime(){NotificationsPanelController_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==NotificationsPanelController_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function NotificationsPanelController_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function NotificationsPanelController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NotificationsPanelController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function NotificationsPanelController_setPrototypeOf(e,t){return NotificationsPanelController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},NotificationsPanelController_setPrototypeOf(e,t)}function NotificationsPanelController_createSuper(e){var t=function NotificationsPanelController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=NotificationsPanelController_getPrototypeOf(e);if(t){var o=NotificationsPanelController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return NotificationsPanelController_possibleConstructorReturn(this,r)}}function NotificationsPanelController_possibleConstructorReturn(e,t){if(t&&("object"===NotificationsPanelController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return NotificationsPanelController_assertThisInitialized(e)}function NotificationsPanelController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NotificationsPanelController_getPrototypeOf(e){return NotificationsPanelController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},NotificationsPanelController_getPrototypeOf(e)}function NotificationsPanelController_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bb,Sb=inject({communicationService:Qy,emailVerificationService:Uh,betaNotificationsService:my,analyticsService:nh})(vb=(0,Jc.$j)((function(){return nl({isInMobileView:Uc.getIsInMobileView,show:Uc.getShowNotifications,clickFriendsProfileType:pt.getClickFriendsProfileType,showUserEmailVerificationButton:Eu,isEmailVerificationSent:Fu,isInDesktopResize:pt.getIsInDesktopResize,isOnIpad:Uc.getisOnIpad,isLoading:!1,notifications:[],isLoadedNotifications:!1,scrollbarWidth:pt.getScrollbarWidth,trackingBannerHeight:Uc.getTrackingBannerHeight,collapsedHeight:Uc.getCollapsedHeight,windowInnerHeight:Uc.getWindowInnerHeight,scrollbarNegativeMargin:Uc.getIframeScrollWidth,height:Uc.getScrollbarContainerHeightForNotificationsView,maxHeight:Uc.getScrollbarContainerMaxHeightForNotificationsView,top:Uc.getTopPositionForScrollbarContainer,scrollbarHeight:Uc.getScrollbarHeightForNotificationsView},rl((function(e){return hiBetaPopud(e)&&xi.loaded(e)}),nl({isLoadedNotifications:!0,notifications:gy.getComputedNotifications}),nl({isLoadedNotifications:!0,notifications:[]}))),nl({isLoadedNotifications:!0,notifications:[]}))),nl({isLoadedNotifications:!0,notifications:[]})))}))(vb=function(e){!function NotificationsPanelController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NotificationsPanelController_setPrototypeOf(e,t)}(NotificationsPanelController,e);var t,r=NotificationsPanelController_createSuper(NotificationsPanelController);function NotificationsPanelController(){var e;NotificationsPanelController_classCallCheck(this,NotificationsPanelController);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return NotificationsPanelController_defineProperty(NotificationsPanelController_assertThisInitialized(e=r.call.apply(r,[this].concat(n))),"_swipeRef",void 0),NotificationsPanelController_defineProperty(NotificationsPanelController_assertThisInitialized(e),"swiper",void 0),NotificationsPanelController_defineProperty(NotificationsPanelController_assertThisInitialized(e),"_scrollableRef",void 0),NotificationsPanelController_defineProperty(NotificationsPanelController_assertThisInitialized(e._scrollableRef=t})),e}return function NotificationsPanelController_createClass(e,t,r){return t&&NotificationsPanelController_defineProperties(e.prototype,t),r&&NotificationsPanelController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(NotificationsPanelController,[{key:"setSwipeRef",value:function setSwipeRef(e){this._swipeRef=e}},{key:"render",value:function render(){return(0,l.jsx)(NotificationsPanelView,{show:this.props.show,isInMobileView:this.props.isInMobileView,notifications:this.props.notifications||[],notificationsLength:this.props.notifications?this.props.notifications.length:0,isLoading:this.props.isLoading,swipeRef:this.setSwipeRef,showUserEmailVerificationButton:this.props.showUserEmailVerificationButton,isEmailVerificationSent:this.props.isEmailVerificationSent,onClickResendVerificationEmail:this.onClickResendVerificationEmail,isInDesktopResize:this.props.isInDesktopResize,isOnIpad:this.props.isOnIpad,scrollableRef:this.scrollableRef,onClickBeta:this.onClickBeta,isLoadedNotifications:this.props.isLoadedNotifications,scrollbarWidth:this.props.scrollbarWidth,handleOnClickMenu:this.handleOnClickMenu,trackingBannerHeight:this.props.trackingBannerHeight,collapsedHeight:this.props.collapsedHeight,windowInnerHeight:this.props.windowInnerHeight,onClickLater:this.onClickLater,scrollbarNegativeMargin:this.props.scrollbarNegativeMargin,height:this.props.height,maxHeight:this.props.maxHeight,top:this.props.top,scrollbarHeight:this.props.scrollbarHeight})}},{key:"componentDidMount",value:function componentDidMount(){this._swipeRef&&(this.swiper=new Gg(this._swipeRef,this.handleSwipe.bind(this)))}},{key:"componentDidUpdate",value:(t=function NotificationsPanelController_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){NotificationsPanelController_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){NotificationsPanelController_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(NotificationsPanelController_regeneratorRuntime().mark((function _callee(e){return NotificationsPanelController_regeneratorRuntime().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(e.show!==this.props.show&&this.props.show&&this._scrollableRef&&this._scrollableRef.scrollToTop(),e.isLoadedNotifications===this.props.isLoadedNotifications||!this.props.show){t.next=4;break}return t.next=4,this.props.betaNotificationsService.seenAllNotifications(this.props.show,!1,!0);case 4:return t.abrupt("return",null);case 5:case"end":return t.stop()}}),_callee,this)}))),function componentDidUpdate(e){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function componentWillUnmount(){this.swiper&&this.swiper.removeEvents()}},{key:"handleSwipe",value:function handleSwipe(e){e.swipeLeft&&this.props.communicationService.clickedOnMobileFriends()}},{key:"onClickResendVerificationEmail",value:function onClickResendVerificationEmail(e){e.preventDefault(),this.props.analyticsService.trackEvent("notifications tab","notifications panel","global nav","interaction","verify your email"),this.props.emailVerificationService.onTriggerEmailActivation()}},{key:"onClickBeta",value:function onClickBeta(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];r.preventDefault(),n&&newWindow(t),this.props.betaNotificationsService.onClickBeta(e),n||(window.location.href=t)}},{key:"handleOnClickMenu",value:function handleOnClickMenu(e){e.preventDefault(),this.props.communicationService.clickedOnMenu()}},{key:"onClickLater",value:function onClickLater(){this.props.analyticsService.trackEvent("notifications tab","notifications panel","global nav","interaction","verify your email later"),this.props.emailVerificationService.afterTriggeredEmailVerification()}}]),NotificationsPanelController}($c))||vb)||vb;function OverlayView(e){return(0,l.jsxs)("div",{id:"menu",style:{height:e.collapsedHeight+"px"},children:[(0,l.jsx)("div",{className:"menu_container_extended",style:{height:e.collapsedHeight+"px"},onClick:e.handleOnClickMenu}),(0,l.jsxs)("div",{className:"menu_container",style:{height:e.collapsedHeight+"px",backgroundColor:e.bgColor},children:[(0,l.jsxs)(FriendsNotificationView,{nbFriends:e.nbFriends,loaded:e.loadedNbOfFriendsOnline,handleFriendsOnClick:e.handleFriendsOnClick,showFriends:e.showFriends,showNotifications:e.showNotifications,loadedNotifications:e.loadedNotifications,handleNotificationsOnClick:e.handleNotificationsOnClick,nbNotifications:e.nbNotifications,isInDesktopResize:e.isInDesktopResize,isOnArabLocale:e.isOnArabLocale,children:[(0,l.jsx)(mb,{show:e.showFriends,isInMobileView:e.isInMobileView}),(0,l.jsx)(Sb,{}),(0,l.jsx)(wm,{show:e.showPlayerCard||e.isInMobileView&&e.showMobileTabs,avatarUrl:e.avatarUrl})]}),(0,l.jsx)(CollapsedView,{avatarUrl:e.avatarUrl,username:e.username,isActive:e.showPlayerCard,showMobileTabs:e.showMobileTabs,isInMobileView:e.isInMobileView,onClick:e.onClickPlayerCard,hasNotifications:e.nbNotifications>0||e.nbFriends>0,isInDesktopResize:e.isInDesktopResize,showPlayerCard:e.showPlayerCard,showFriends:e.showFriends,showNotifications:e.showNotifications}),(0,l.jsx)(MobileNavView,{swipeRef:e.swipeRef,handleFriendsOnClick:e.handleFriendsOnMobileClick,onClickPlayerCard:e.onClickMobilePlayerCard,nbFriends:e.nbFriends,isVisible:e.isInMobileView,showPlayerCard:e.showPlayerCard,showFriends:e.showFriends,showMobileTabs:e.showMobileTabs,showNotifications:e.showNotifications,handleNotificationsOnClick:e.handleOnMobileNotifications,nbNotifications:e.nbNotifications,isInDesktopResize:e.isInDesktopResize,handleOnClickMenu:e.handleOnClickMenu})]})]})}function OverlayController_typeof(e){return OverlayController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OverlayController_typeof(e)}function OverlayController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OverlayController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OverlayController_setPrototypeOf(e,t){return OverlayController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},OverlayController_setPrototypeOf(e,t)}function OverlayController_createSuper(e){var t=function OverlayController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=OverlayController_getPrototypeOf(e);if(t){var o=OverlayController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return OverlayController_possibleConstrucalled");return e}function OverlayController_getPrototypeOf(e){return OverlayController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},OverlayController_getPrototypeOf(e)}function OverlayController_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wb,Pb=inject({communicationService:Qy,integratorConfigurationStore:pe,pageLoaderService:Qp,analyticsService:nh,nameChangeService:Jg})(bb=(0,Jc.$j)((function(){return nl({showFriends:Uc.getShowFriends,showPlayerCard:isActive$,showNotifications:Uc.getShowNotifications,isInMobileView:Uc.getIsInMobileView,showMobileTabs:Uc.getShowMobileTabs,noActiveClickOnMenu:Uc.getNoActiveClickOnMenu,collapsedHeight:Uc.getCollapsedHeight,loadedNotifications:function loadedNotifications(e){return hi.loaded(e)&&ki.loaded(e)&&xi.loaded(e)},nbNotifications:0,isInDesktopResize:pt.getIsInDesktopResize,isOnArabLocale:Uc.getIsOnArabLocale,isAvatarImageLoadin:J.getIsAvatarImageLoadin,showMobileViewOnDesktop:Uc.getShowMobileViewOnDesktop},rl(Vt.hasIdentity,nl({bgColor:pt.getBackgroundColor,userId:vl.getUserId,avatarUrl:yg.getMyAvatar,nbNotifications:Gu},rl(An.loadedMyProfiles,nl({username:lu})),rl(Gr.loaded,nl({loadedNbOfFriendsOnline:!0,nbConnections:qu}),nl({loadedNbOfFriendsOnline:!1,nbConnections:0})),rl((function(e){return hi.loaded(e)&&ki.loaded(e)&&xi.loaded(e)}),nl({nbNotifications:gy.getNbOfNotifications}),nl({nbNotifications:0})))))}))(bb=function(e){!function OverlayController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OverlayController_setPrototypeOf(e,t)}(OverlayController,e);var t=OverlayController_createSuper(OverlayController);function OverlayController(){var e;OverlayController_classCallCheck(this,OverlayController);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return OverlayController_defineProperty(OverlayController_assertThisInitialized(e=t.call.apply(t,[this].concat(n))),"_swipeRef",void 0),OverlayController_defineProperty(OverlayController_assertThisInitialized(e),"swiper",void 0),e}return function OverlayController_createClass(e,t,r){return t&&OverlayController_defineProperties(e.prototype,t),r&&OverlayController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(OverlayController,[{key:){this._swipeRef=e}},{key:"render",value:function render(){return(0,l.jsx)(OverlayView,{swipeRef:this.setSwipeRef,collapsedHeight:this.props.collapsedHeight,avatarUrl:this.props.avatarUrl,noActiveClickOnMenu:this.props.noActiveClickOnMenu,userId:this.props.userId,username:this.props.username,bgColor:this.props.bgColor,showFriends:this.props.showFriends,showNotifications:this.props.showNotifications,isInMobileView:this.props.isInMobileView,showMobileTabs:this.props.showMobileTabs,loadedNbOfFriendsOnline:this.props.loadedNbOfFriendsOnline,nbFriends:this.props.nbConnections,showPlayerCard:this.props.showPlayerCard,loadedNotifications:this.props.loadedNotifications,nbNotifications:this.props.nbNotifications,isInDesktopResize:this.props.isInDesktopResize&&!this.props.isInMobileView,onClickPlayerCard:this.handleOnClickPlayerCard,handleFriendsOnClick:this.handleFriendsOnClick,onClickMobilePlayerCard:this.handleOnMobileClickPlayerCard,handleFriendsOnMobileClick:this.handleFriendsOnMobileClick,handleOnClickMenu:this.handleOnClickMenu,handleNotificationsOnClick:this.handleNotificationsOnClick,handleOnMobileNotifications:this.handleOnMobileNotifications,isOnArabLocale:this.props.isOnArabLocale})}},{key:"componentDidMount",value:function componentDidMount(){this._swipeRef&&(this.swiper=new Gg(this._swipeRef,this.handleSwipe.bind(this)))}},{key:"componenper.removeEvents()}},{key:"handleFriendsOnClick",value:function handleFriendsOnClick(e){e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnFriends()}},{key:"handleOnClickPlayerCard",value:function handleOnClickPlayerCard(e){return e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.isInMobileView||this.props.showMobileViewOnDesktop?(this.props.communicationService.clickedOnMobilePlayerCard(),null):(this.props.communicationService.clickedOnPlayerCard(),null)}},{key:"handleOnClickMenu",value:function handleOnClickMenu(e){e.preventDefault(),this.props.noActiveClickOnMenu||(this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnMenu())}},{key:"handleOnMobileClickPlayerCard",value:function handleOnMobileClickPlayerCard(e){e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnMobilePlayerCardTab()}},{key:"handleFriendsOnMobileClick",value:function handleFriendsOnMobileClick(e){e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnMobileFriends()}},{key:"handleSwipe",value:function handleSwipe(e){if(this.props.showPlayerCard&&e.swipeRight||this.props.showNotifications&&e.swipeLeft)this.props.communicationService.clickedOnMobileFriends();else if(this.props.showFriends){if(e.swipeRight)return void this.props.communicationService.clickedOnMobileNotifications();if(e.swipeLeft)return void this.props.communicationService.clickedOnMobilePlayerCardTab()}}},{key:"handleNotificationsOnClick",value:function handleNotificationsOnClick(e){e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnNotifications()}},{key:"handleOnMobileNotifications",value:function handleOnMobileNotifications(e){e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnMobileNotifications()}}]),OverlayController}(Ag))||bb)||bb;function LayoutController_typeof(e){return LayoutController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LayoutController_typeof(e)}function LayoutController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LayoutController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LayoutController_setPrototypeOf(e,t){return LayoutController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},LayoutController_setPrototypeOf(e,t)}function LayoutController_createSuper(e){var t=function LayoutController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=LayoutController_getPrototypeOf(e);if(t){var o=LayoutController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return LayoutController_possibleConstructorReturn(this,r)}}function LayoutController_possibleConstructorReturn(e,t){if(t&&("object"===LayoutController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function LayoutController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function LayoutController_getPrototypeOf(e){return LayoutController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},LayoutController_getPrototypeOf(e)}var _b,Cb=(0,Jc.$j)((function(e,t){return nl({isReady:Vt.hasIdentity})}))(wb=function(e){!function LayoutController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LayoutController_setPrototypeOf(e,t)}(LayoutController,e);var t=LayoutController_createSupely(thi",{writable:!1}),e}(LayoutController,[{key:"render",value:function render(){return this.props.isReady?(0,l.jsx)(Pb,{}):(0,l.jsx)(Ig,{})}}]),LayoutController}(Ag))||wb;function PageLoaderView(e){return(0,l.jsx)("div",{className:el()("PageLoader",{"PageLoader-show":e.show,"PageLoader-display":e.display}),style:{top:"calc(".concat(e.height,"px/2 - 2.5rem)"),height:e.height+"px"},children:(0,l.jsx)("div",{className:el()("PageLoader-container",{"PageLoader-container-blue":e.isBlue}),children:(0,l.jsx)("svg",{viewBox:"0 0 80 80",className:"css-gzkt9r",children:(0,l.jsx)("circle",{fill:"none",strokeWidth:"15",strokeLinecap:"round",cx:"40",cy:"40",r:"30",className:"cs as a function")}function PageLoaderController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PageLoaderController_setPrototypeOf(e,t){return PageLoaderController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},PageLoaderController_setPrototypeOf(e,t)}function PageLoaderController_createSuper(e){var t=function PageLoaderController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=PageLoaderController_getPrototypeOf(e);if(t){var o=PageLoaderController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return PageLoaderController_possibleConstructorReturn(this,r)}}function PageLoaderController_possibleConstructorReturn(e,t){if(t&&("object"===PageLoaderController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function PageLoaderController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function PageLoaderController_getPrototypeOf(e){return PageLoaderController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},PageLoaderController_getPrototypeOf(e)}var Ob,Ab=inject({pageLoaderServiceisplayPageLoader})}))(_b=function(e){!function PageLoaderController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PageLoaderController_setPrototypeOf(e,t)}(PageLoaderController,e);var t=PageLoaderController_createSuper(PageLoaderController);function PageLoaderController(){return PageLoaderController_classCallCheck(this,PageLoaderController),t.apply(this,arguments)}return function PageLoaderController_createClass(e,t,r){return t&&PageLoaderController_defineProperties(e.prototype,t),r&&PageLoaderController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(PageLoaderController,[{key:"render",value:function render(){return(0,l.jsx)(PageLoaderView,{show:this.props.show,display:this.props.display,height:this.props.height,isBlue:!1})}}]),PageLoaderController}($c))||_b)||_b;function BootstrapController_typeof(e){return BootstrapController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BootstrapController_typeof(e)}function BootstrapController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BootstrapController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BootstrapController_setPrototypeOf(e,t){return BootstrapController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},BootstrapController_setPrototypeOf(e,t)}function BootstrapController_createSuper(e){var t=function BootstrapController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=BootstrapController_getPrototypeOf(e);if(t){var o=BootstrapController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return BootstrapController_possibleConstructorReturn(this,r)}}function BootstrapController_possibleConstructorReturn(e,t){if(t&&("object"===BootstrapController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return BootstrapController_assertThisInitialized(e)}function BootstrapController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BootstrapController_getPrototypeOf(e){return BootstrapController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},BootstrapController_getPrototypeOf(e)}function BootstrapController_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kb=inject({bootstrapService:Cg,communicationService:Qy,analyticsService:nh,debugService:jh,websocketService:Ey})(Ob=(0,Jc.$j)(nl({booted:Uc.getBooted,isInMobileView:Uc.getIsInMobileView,showMobileTabs:Uc.getShowMobileTabs,isOnArabLocale:Uc.getIsOnArabLocale,hasDarkBackground:pt.getHasDarkBackground,isInDesktopResize:pt.getIsInDesktopResize,showMobileViewOnDesktop:Uc.getShowMobileViewOnDesktop,hasIdentity:vl.getHasIdentity}))(Ob=function(e){!function BootstrapController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BootstrapController_setPrototypeOf(e,t)}(BootstrapController,e);var t=BootstrapController_createSuper(BootstrapController);function BootstrapController(){var e;BootstrapController_classCallCheck(this,BootstrapController);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return BootstrapController_defineProperty(BootstrapController_assertThisInitialized(e=t.call.apply(t,[this].concat(n))),"resizeDebounce",(0,s.debounce)(e.onResize.bind(BootstrapController_assertThisInitialized(e)),50,!1)),BootstrapController_defineProperty(BootstrapController_assertThisInitialized(e),"timeouts",[]),BootstrapController_defineProperty(BootstrapController_assertThisInitialized(e),"state",{sCodeReady:!1,sCodeRemoved:!1}),BootstrapController_defineProperty(BootstrapController_assertThisInitialized(e),"messageListener",(function(t){t.origin===window.self.location.origin&&t.data===xs&&(e.props.debugService.log("[Ubisoft Analytics] Caught Analytics sdk loaded event"),e.timeouts.push(setTimeout((function(){e.state.sCodeReady||e.state.sCodeRemoved||e.props.analyticsService.loadSCodeScript()}),2e3))),t.origin===window.self.location.origin&&t.data===Is&&(e.props.debugService.log("[Ubisoft Analytics] Caught sCode ready event"),e.setState({sCodeReady:!0})),t.origin===window.self.location.origin&&t.data===js&&(e.props.debugService.log("[Ubisoft Analytics] Caught sCode removed event"),e.setState({sCodeRemoved:!0}))})),e}return function BootstrapController_createClass(e,t,r){return t&&BootstrapController_defineProperties(e.prototype,t),r&&BootstrapController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(BootstrapController,[{key:"render",value:function render(){return(0,l.jsxs)("div",{className:el()({"widget-in-mobile-view":this.props.isInMobileView,"dark-background":this.props.hasDarkBackground,"arab-language":this.props.isOnArabLocale,"desktop-resize":this.props.isInDesktopResize&&!this.props.isInMobileView,"show-mobile-view-on-desktop":this.props.showMobileViewOnDesktop}),children:[(0,l.jsx)(Ab,{}),this.props.booted?(0,l.jsx)(Cb,{}):null]})}},{key:"componentDidMount",value:function componentDidMount(){return this.props.bootstrapService.initialize(!1),window.addEventListener("resize",this.resizeDebounce),window.addEventListener("message",this.messageListener),this.onResize(),null}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.resizeDebounce),window.removeEventListener("message",this.messageListener),this.props.websocketService.close(),this.timeouts.forEach((function(e){return clearTimeout(e)}))}},{key:"onResize",value:function onResize(){var e=document.querySelector("html").offsetWidth;if(0==e)return null;if(this.props.isInMobileView&&this.props.showMobileTabs){var t=e/320;document.querySelector("html").style.fontSize=10*t+"px"}else document.querySelector("html").style.fontSize=null}}]),BootstrapController}($c))||Ob)||Ob;function ApplicationController_typeof(e){return ApplicationController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ApplicationController_typeof(e)}function ApplicationController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ApplicationController_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ApplicationController_setPrototypeOf(e,t){return ApplicationController_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},ApplicationController_setPrototypeOf(e,t)}function ApplicationController_createSuper(e){var t=function ApplicationController_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=ApplicationController_getPrototypeOf(e);if(t){var o=ApplicationController_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ApplicationController_possibleConstructorReturn(this,r)}}function ApplicationController_possibleConstructorReturn(e,t){if(t&&("object"===ApplicationController_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function ApplicationController_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ApplicationController_getPrototypeOf(e){return ApplicationController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},ApplicationController_getPrototypeOf(e)}var xb,Ib=function(e){!function ApplicationController_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ApplicationController_setPrototypeOf(e,t)}(ApplicationController,e);var t=ApplicationController_createSuper(ApplicationController);function ApplicationController(){return ApplicationController_classCallCheck(this,ApplicationController),t.apply(this,arguments)}return function ApplicationController_createClass(e,t,r){return t&&ApplicationController_defineProperties(e.prototype,t),r&&ApplicationController_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(ApplicationController,[{key:"render",value:function render(){return(0,l.jsx)(Kc,{serviceManager:this.props.serviceManager,children:(0,l.jsx)(Jc.zt,{store:this.props.serviceManager.get(C),children:(0,l.jsx)("div",{children:(0,l.jsx)(kb,{})})})})}}]),ApplicationController}($c);function BootstrapCommunicationService_typeof(e){return BootstrapCommunicationService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BootstrapCommunicationService_typeof(e)}function BootstrapCommunicationService_regeneratorRuntime(){BootstrapCommunicationService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==BootstrapCommunicationService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function BootstrapCommunicationService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function BootstrapCommunicationService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BootstrapCommunicationService_setPrototypeOf(e,t){return BootstrapCommunicationService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},BootstrapCommunicationService_setPrototypeOf(e,t)}function BootstrapCommunicationService_createSuper(e){var t=function BootstrapCommunicationService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=BootstrapCommunicationService_getPrototypeOf(e);if(t){var o=BootstrapCommunicationService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return BootstrapCommunicationService_possibleConstructorReturn(this,r)}}function BootstrapCommunicationService_possibleConstructorReturn(e,t){if(t&&("object"===BootstrapCommunicationService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function BootstrapCommunicationService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function BootstrapCommunicationService_getPrototypeOf(e){return BootstrapCommunicationService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},BootstrapCommunicationService_getPrototypeOf(e)}var jb,Lb=r(38437).BroadcastChannel,Eb=injectableForJs([Cg,Uh,Mh,fa,Jm,Qy,nh,cf])(xb=function(e){!function BootstrapCommunicationService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BootstrapCommunicationService_setPrototypeOf(e,t)}(BootstrapCommunicationService,e);var t,r=BootstrapCommunicationService_createSuper(BootstrapCommunicationService);function BootstrapCommunicationService(e,t,n,o,i,a,s,c){var l;return function BootstrapCommunicationService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BootstrapCommunicationService),(l=r.call(this)).bootstrapService=e,l.emailVerificationService=t,l.channel=n,l.overlayChannel=o,l.socialNetworkService=i,l.communicationService=a,l.analyticsService=s,l.profilesService=c,l}return function BootstrapCommunicationService_createClass(e,t,r){return t&&BootstrapCommunicationService_defineProperties(e.prototype,t),r&&BootstrapCommunicationService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(BootstrapCommunicationService,[{key:"startCommunication",value:function startCommunication(){var e=this;return new Promise((function(t){var r=e.channel.subscribe("ubisoft{e.onLoggIn(t),r()})),n=e.overlayChannel.subscribe(Za,(function(){e.bootstrapService.initocialNetwork(null)})),n()})),o=e.overlayChVerification(),o()}));try{new Lb("internal_notification",{webWorkerSupport:!1}).onmessage=function(t){t&&t.data&&t.data.txt&&"ubisoftConnect@LOGGED_IN"===t.data.txt&&e.onLoggIn(t.data)}}catch(e){console.error(e)}return t()}))}},{key:"reloadSocialNetwork",value:(t=function BootstrapCommunicationService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){BootstrapCommunicationService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){BootstrapCommunicationService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(BootstrapCommunicationService_regeneratorRuntime().mark((function _callee(e){return BootstrapCommunicationService_regeneratorRuntime().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.query&&(!e.query||e.query.platform)){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:return t.next=4,this.dispatch(new Jt({},{},{},[],!1,(r={},n=vl.getUserId(this.getState()),o=0,n in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r)));case 4:return t.next=6,this.profilesService.loadMyUserProfile();case 6:t.t0=e.query.platform,t.next="XBOX"===t.t0?9:"PSN"===t.t0?12:15;break;case 9:return t.next=11,this.dispatch(new vo(0));case 11:return t.abrupt("return",this.socialNetworkService.loadXboxFriendsAccounts(0,Lm));case 12:return t.next=14,this.dispatch(new uo(0));case 14:return t.abrupt("return",this.socialNetworkService.loadPlayStationFriendsAccounts(0,Em));case 15:return t.abrupt("return",Promise.resolve());case 16:case"end":return t.stop()}var r,n,o}),_callee,this)}))),function reloadSocialNetwork(e){return t.apply(this,arguments)})},{key:"onLoggIn",value:function onLoggIn(e){var t=this;this.analyticsService.loadSCodeScript(),this.overlayChannel.send(_a),this.bootstrapService.initialize(!0,!1,e).then((function(){return t.reloadSocialNetwork(e)}))}}]),BootstrapCommunicationService}(ol))||xb;function IpLocationApi_typeof(e){return IpLocationApi_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IpLocationApi_typeof(e)}function IpLocationApi_regeneratorRuntime(){IpLocationApi_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==IpLocationApi_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function IpLocationApi_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function IpLocationApi_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IpLocationApi_setPrototypeOf(e,t){return IpLocationApi_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},IpLocationApi_setPrototypeOf(e,t)}function IpLocationApi_createSuper(e){var t=function IpLocationApi_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=IpLocationApi_getPrototypeOf(e);if(t){var o=IpLocationApi_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return IpLocationApi_possibleConstructorReturn(this,r)}}function IpLocationApi_possibleConstructorReturn(e,t){if(t&&("object"===IpLocationApi_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function IpLocationApi_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function IpLocationApi_getPrototypeOf(e){return IpLocationApi_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},IpLocationApi_getPrototypeOf(e)}var Fb,Gb=injectableForJs([k])(jb=function(e){!function IpLocationApi_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IpLocationApi_setPrototypeOf(e,t)}(IpLocationApi,e);var t,r=IpLocationApi_createSuper(IpLocationApi);function IpLocationApi(e){var t;return function IpLocationApi_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,IpLocationApi),(t=r.call(this)).httpService=e,t}return function IpLocationApi_createClass(e,t,r){return t&&IpLocationApi_defineProperties(e.prototype,t),r&&IpLocationApi_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(IpLocationApi,[{key:"getIpLocation",value:(t=function IpLocationApi_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){IpLocationApi_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){IpLocationApi_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(IpLocationApi_regeneratorRuntime().mark((function _callee(){var e;return IpLocationApi_regeneratorRuntime().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return e=new ca("".concat(Ft.getUbiServicesEndpoint(this.getState()),"/v2/profiles/me/iplocation")).header("Ubi-Appid",pt.getApplicationId(this.getState())),t.abrupt("return",this.httpService.send(e).then((function(e){return e.data})));case 2:case"end":return t.stop()}}),_callee,this)}))),function getIpLocation(){return t.apply(this,arguments)})}]),IpLocationApi}(ol))||jb;function IpLocationService_typeof(e){return IpLocationService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IpLocationService_typeof(e)}function IpLocationService_regeneratorRuntime(){IpLocationService_regeneratorRuntime=function _regeneratorRuntime(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function define(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{define({},"")}catch(e){define=function define(e,t,r){return e[t]=r}}function wrap(e,t,r,n){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=maybeInvokeDelegate(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=tryCatch(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var s={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var c={};define(c,o,(function(){return this}));var l=Object.getPrototypeOf,u=l&&l(l(values([])));u&&u!==t&&r.call(u,o)&&(c=u);var f=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function defineIteratorMethods(e){["next","throw","return"].forEach((function(t){define(e,t,(function(e){return this._invoke(t,e)}))}))}function AsyncIterator(e,t){function invoke(n,o,i,a){var s=tryCatch(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==IpLocationService_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){invoke("next",e,i,a)}),(function(e){invoke("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function callInvokeWithMethodAndArg(){return new t((function(t,n){invoke(e,r,t,n)}))}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,maybeInvokeDelegate(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=tryCatch(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function next(){for(;++n<e.length;)if(r.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=void 0,next.done=!0,next};return i.next=i}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(f,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,i,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},defineIteratorMethods(f),define(f,a,"Generator"),define(f,o,(function(){return this})),define(f,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function handle(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),s}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function IpLocationService_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IpLocationService_asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function IpLocationService_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IpLocationService_setPrototypeOf(e,t){return IpLocationService_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},IpLocationService_setPrototypeOf(e,t)}function IpLocationService_createSuper(e){var t=function IpLocationService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=IpLocationService_getPrototypeOf(e);if(t){var o=IpLocationService_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return IpLocationService_possibleConstructorReturn(this,r)}}function IpLocationService_possibleConstructorReturn(e,t){if(t&&("object"===IpLocationService_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function IpLocationService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function IpLocationService_getPrototypeOf(e){return IpLocationService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},IpLocationService_getPrototypeOf(e)}var Tb=injectableForJs([Gb])(Fb=function(e){!function IpLocationService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IpLocationService_setPrototypeOf(e,t)}(IpLocationService,e);var t,r=IpLocationService_createSuper(IpLocationService);function IpLocationService(e){var t;return function IpLocationService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,IpLocationService),(t=r.call(this)).ipLocationApi=e,t}return function IpLocationService_createClass(e,t,r){return t&&IpLocationService_defineProperties(e.prototype,t),r&&IpLocationService_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(IpLocationService,[{key:"loadIpLocation",value:(t=function IpLocationService_asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function _next(e){IpLocationService_asyncGeneratorStep(i,n,o,_next,_throw,"next",e)}function _throw(e){IpLocationService_asyncGeneratorStep(i,n,o,_next,_throw,"throw",e)}_next(void 0)}))}}(IpLocationService_regeneratorRuntime().mark((function _callee(){var e;return IpLocationService_regeneratorRuntime().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ipLocationApi.getIpLocation();case 2:return e=t.sent,this.dispatch(new Ii(IpLocationService_defineProperty({},e.ip,e),IpLocationService_defineProperty({},vl.getUserId(this.getState()),e.ip))),t.abrupt("return",e);case 5:case"end":return t.stop()}}),_callee,this)}))),function loadIpLocation(){return t.apply(this,arguments)})}]),IpLocationService}(ol))||Fb;function AnalyticsProvider_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Rb=function(){function AnalyticsProvider(){!function AnalyticsProvider_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AnalyticsProvider)}return function AnalyticsProvider_createClass(e,t,r){return t&&AnalyticsProvider_defineProperties(e.prototype,t),r&&AnalyticsProvider_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(AnalyticsProvider,[{key:"provides",value:function provides(){return nh}},{key:"provide",value:function provide(e){return new nh(e.get(C),e.get(Tb),e.get(jh))}}]),AnalyticsProvider}();function WidgetChannelProvider_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Nb=function(){function WidgetChannelProvider(){!function WidgetChannelProvider_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WidgetChannelProvider)}return function WidgetChannelProvider_createClass(e,t,r){return t&&WidgetChannelProvider_defineProperties(e.prototype,t),r&&WidgetChannelProvider_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(WidgetChannelProvider,[{key:"provides",value:function provides(){return fa.name}},{key:"provide",value:function provide(e){var t=new fa(window.self.location.href.split("owner=")[1]||"*",window.self.parent,!1);return e.bind(fa,t),t}}]),WidgetChannelProvider}();function GeneralChannelProvider_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ub=function(){function GeneralChannelProvider(){!function GeneralChannelProvider_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GeneralChannelProvider)}return function GeneralChannelProvider_createClass(e,t,r){return t&&GeneralChannelProvider_defineProperties(e.prototype,t),r&&GeneralChannelProvider_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(GeneralChannelProvider,[{key:"provides",value:function provides(){return Mh.name}},{key:"provide",value:function provide(e){var t=new Mh(Ft.getOverlayIndexUrl(e.get(C).getState()),window,!1);return e.bind(Mh,t),t}}]),GeneralChannelProvider}();function DebugServiceProvider_typeof(e){return DebugServiceProvider_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DebugServiceProvider_typeof(e)}function DebugServiceProvider_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DebugServiceProvider_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DebugServiceProvider_setPrototypeOf(e,t){return DebugServiceProvider_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(e,t){return e.__proto__=t,e},DebugServiceProvider_setPrototypeOf(e,t)}function DebugServiceProvider_createSuper(e){var t=function DebugServiceProvider_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=DebugServiceProvider_getPrototypeOf(e);if(t){var o=DebugServiceProvider_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return DebugServiceProvider_possibleConstructorReturn(this,r)}}function DebugServiceProvider_possibleConstructorReturn(e,t){if(t&&("object"===DebugServiceProvider_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function DebugServiceProvider_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function DebugServiceProvider_getPrototypeOf(e){return DebugServiceProvider_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},DebugServiceProvider_getPrototypeOf(e)}var Db=function(e){!function DebugServiceProvider_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DebugServiceProvider_setPrototypeOf(e,t)}(DebugServiceProvider,e);var t=DebugServiceProvider_createSuper(DebugServiceProvider);function DebugServiceProvider(){return DebugServiceProvider_classCallCheck(this,DebugServiceProvider),t.apply(this,arguments)}return function DebugServiceProvider_createClass(e,t,r){return t&&DebugServiceProvider_defineProperties(e.prototype,t),r&&DebugServiceProvider_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(DebugServiceProvider,[{key:"provides",value:function provides(){return jh}},{de(){return new jh}}]),DebugServiceProvider}(rc),Mb=(new w).provider(x,nc,Gt,Bc,qc,sa,Rb,Nb,Ub,Db).factory((function _401Factory(e){var t=!1,r=0,n=e.get(fa),o=e.get(jh);e.get(k).addResponseErrorInterceptor((function(i){if(n.setDebug(Ft.getEnableDebug(e.get(C).getState())),o.setDebug(Ft.getEnableDebug(e.get(C).getState())),401===i.statusCode&&4032===i.data.ErrorCode&&"MissingSso"==i.data.ErrorMessage)return Promise.reject(i);if(401===i.statusCode&&401013===i.data.errorCode&&"Access denied to the service"==i.data.message)return Promise.reject(i);if(401===i.statusCode&&401011===i.data.errorCode&&"Invalid Ubi-AppId"==i.data.message)return Promise.reject(i);if(401===i.statusCode&&4003===i.data.ErrorCode||400===i.statusCode&&4009===i.data.ErrorCode||403===i.statusCode&&1213===i.data.ErrorCode||403===i.statusCode&&3001===i.data.ErrorCode&&"PrivateSteamProfile"==i.data.errorMessage)return Promise.reject(i);if(403===i.statusCode&&"PromotionKeyRewards"===i.data.errorContext)switch(i.data.errorCode){case 1e3:case 1008:switch(i.data.message){case"ticket not valid":case"ticket profile not valid":case"ticket profile request not valid":o.warn("[401] 401 => PromotionKeyRewards => CASES");break;default:return o.warn("[401] 401 => PromotionKeyRewards => Default"),Promise.reject(i)}}return 403===i.statusCode&&1002===i.data.errorCode||401!==i.statusCode&&403!==i.statusCode||0!==r?Promise.reject(i):(o.warn("[401] GOT 401 for "+i.request.getPath()),o.warn("[401] Old ticket was: "+vl.getIdentity(e.get(C).getState()).ticket),o.warn("[401] Headers are: "+JSON.stringify(i.request.getHeaderParams())),t?(o.warn("[401] Is Reconnecting"),new Promise((function(r){setTimeout((function(){t?o.warn("[401] Is **STIL** Reconnecting"):(o.warn("[401] Done"),i.request.getHeaderParams()["Ubi-SessionId"]&&(i.request=i.request.header("Ubi-SessionId",vl.getIdentity(e.get(C).getState()).sessionId)),i.request.getHeaderParams().Authorization&&(i.request=i.request.header("Authorization","Ubi_v1 t=".concat(vl.getIdentity(e.get(C).getState()).ticket))),i.request.getHeaderParams().token&&(i.request=i.request.header("Token",vl.getIdentity(e.get(C).getState()).token)),r(e.get(k).send(i.request)))}),5e3)}))):(t=!0,r++,new Promise((function(a,s){return o.warn("[401] Getting ticket ..."),n.send(Fa),new Promise((function(){n.subscribe(gs,(function(){return o.warn("[401] No ticket from connect"),e.get(Qy).clickedOnLogout(),s(i)})),n.subscribe(ys,(function(n){return o.warn("[401] Got ticket from connect"),o.warn(n),e.get(C).dispatch(new $r({opId:n.opId,status:n.status,sessionId:n.payload.sessionId,ticket:n.payload.ticket,user_id:n.payload.userId,expiration:n.payload.expiration})),e.get(C).dispatch(new Mt({opId:n.opId,status:n.status,sessionId:n.payload.sessionId,ticket:n.payload.ticket,user_id:n.payload.userId,expiration:n.payload.expiration})),t=!1,i.request.getHeaderParams()["Ubi-SessionId"]&&(i.request=i.request.header("Ubi-SessionId",n.payload.sessionId)),i.request.getHeaderParams().token&&(i.request=i.request.header("token",n.payload.token)),i.request.getHeaderParams().Authorization&&(i.request=i.request.header("Authorization","Ubi_v1 t=".concat(n.payload.ticket))),o.warn("[401] Final request:"),o.warn(i.request),a(e.get(k).seon(e){return r=0,e})))}))}))}))))}))})).bindToMethod("setStore",C).bindToMethod("setCacheService",u);Mb.get(Qy).startCommunication().then((function(){return Mb.get(Eb).startCommunication()})).then((function(){return Mb.get(p).loadConfiguration()})).then((function(){return Mb.get().startAnalytics()})).then((function(){return Mb.render(Ib,document.getElementById("root")||void 0)})).catch((function(e){console.error(e)}))},72941:()=>{},46700:(e,t,r)=>{var n={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,ND",t}return n[e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(n)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=46700},64960:(e,t,r)=>{"use strict";e.exports=r.p+"cert2.json"},1743:(e,t,r)=>{"use strict";e.exports=r.p+"dev-prod.json"},92306:(e,t,r)=>{"use strict";e.exports=r.p+"dev.json"},87401:(e,t,r)=>{"use strict";e.exports=r.p+"env.json"},41089:(e,t,r)=>{"use strict";e.exports=r.p+"local-cert2.json"},37786:(e,t,r)=>{"use strict";e.exports=r.p+"local-prod.json"},15330:(e,t,r)=>{"use strict";e.exports=r.p+"local.json"},1628:(e,t,r)=>{"use strict";e.exports=r.p+"prod.json"},73827:(e,t,r)=>{"use strict";e.exports=r.p+"uat-prod.json"},37428:(e,t,r)=>{"use strict";e.exports=r.p+"uat.json"},64652:(e,t,r)=>{"use strict";e.exports=r.p+"b18e67cde9ab1ad5b04f.png"},92416:(e,t,r)=>{"use strict";e.exports=r.p+"3609dfeb657737ecf62d.png"},30469:(e,t,r)=>{"use strict";e.exports=r.p+"09dd184a497975a74026.png"},79557:(e,t,r)=>{"use strict";e.exports=r.p+"4b5bcd1d817fa1f4c643.png"},76228:(e,t,r)=>{"use strict";e.exports=r.p+"4cf692aa8899f4a8a4c9.png"},7997:(e,t,r)=>{"use strict";e.exports=r.p+"f496be7198aab602b531.png"},17206:(e,t,r)=>{"use strict";e.exports=r.p+"d78dd3fe7266008dabf5.json"},58780:(e,t,r)=>{"use strict";e.exports=r.p+"8c9cd8186a5e5dedf999.json"},74376:(e,t,r)=>{"use strict";e.exports=r.p+"9bc15cae09e06d962a7f.json"},37422:(e,t,r)=>{"use strict";e.exports=r.p+"2b5b4e5a51ddf53cd0e7.json"},90349:(e,t,r)=>{"use strict";e.exports=r.p+"3d7abc466b89ede6128c.json"},14925:(e,t,r)=>{"use strict";e.exports=r.p+"c2b05151717a6b21d029.json"},22249:(e,t,r)=>{"use strict";e.exports=r.p+"bb689a2a4c47b5654d07.json"},221:(e,t,r)=>{"use strict";e.exports=r.p+"bb689a2a4c47b5654d07.json"},46345:(e,t,r)=>{"use strict";e.exports=r.p+"bb689a2a4c47b5654d07.json"},50187:(e,t,r)=>{"use strict";e.exports=r.p+"5b2011b83450afee4101.json"},70352:(e,t,r)=>{"use strict";e.exports=r.p+"3dc5f4a21aaaf7cc141f.json"},77938:(e,t,r)=>{"use strict";e.exports=r.p+"3dc5f4a21aaaf7cc141f.json"},94351:(e,t,r)=>{"use strict";e.exports=r.p+"395eb72521d6e95141b3.json"},16478:(e,t,r)=>{"use strict";e.exports=r.p+"c87ee6cb91ae786c2229.json"},86053:(e,t,r)=>{"use strict";e.exports=r.p+"6d1ee8e321339eab736d.json"},14018:(e,t,r)=>{"use strict";e.exports=r.p+"739345915e941dd5ddff.json"},79009:(e,t,r)=>{"use strict";e.exports=r.p+"d1299a2c90dd9fc3ddab.json"},2424:(e,t,r)=>{"use strict";e.exports=r.p+"10614c2386871e57ee25.json"},76836:(e,t,r)=>{"use strict";e.exports=r.p+"95afcee81f1e532fc703.json"},25334:(e,t,r)=>{"use strict";e.exports=r.p+"8aebd5ff8afd37b258e4.json"},69337:(e,t,r)=>{"use strict";e.exports=r.p+"7a88e26e4724be9f2ef8.json"},61500:(e,t,r)=>{"use strict";e.exports=r.p+"539f030e32ed1a96569f.json"},4269:(e,t,r)=>{"use strict";e.exports=r.p+"56e8d9be749e06b63974.json"},17031:(e,t,r)=>{"use strict";e.exports=r.p+"136a7268afa0508bcd77.json"},26982:(e,t,r)=>{"use strict";e.exports=r.p+"3bcabeb1858b506013c5.json"},81920:(e,t,r)=>{"use strict";e.exports=r.p+"9b0397293caa87bfcd03.json"},77984:(e,t,r)=>{"use strict";e.exports=r.p+"6f591f519e4cd837c.jsonoaded=!0,o.exports}__webpack_require__.m=t,e=[],__[l-1];e[l]=[r,n,o]},__ire__.d(t,{a:t}),t},__able:!0,get:t[r]})},__dow)return window}}(),__nProperty.call(e,t),__odule",{value:!0})},__we|(e.children=[]),e),__webpack_require__.p="https://static-overlay.ubisoft.com/overlay/overlay-connect-integrall,t.push.bind(t))})(),__webpack_require__.O(void 0,[736,532],(()=>__webpack_require__(72941)));var n=__webpack_require__.ck_require__(63568)));n=__webpack_require__.O(n)})();