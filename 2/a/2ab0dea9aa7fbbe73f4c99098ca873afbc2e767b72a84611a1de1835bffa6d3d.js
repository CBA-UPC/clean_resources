
<,!0)}();
</script>=i.data.cleanupTimeout||0,"open"===t.type),r=0;a&&(t=o.classList.contains("instant"),e=getComputedStyle(o).height,o.classList.toggle("instant",!0),o.style.display="block",o.style.height="auto",r=o.offsetHeight,o.style.height=e,o.classList.toggle("instant",t)),clearTimeout(i.data.cleanupTimeout),requestAnimationFrame(function(){o.classList.toggle("instant",!!s),n.classList.toggle("active",a),n.setAttribute("aria-expanded",a?"true":"false"),o.style.display="block",requestAnimationFrame(function(){o.style.height=r+"px",a?c.forEach(t=>{t!==i&&t.dispatchEvent(new CustomEvent("close",{detail:{instant:s}}))}):i.data.cleanupTimeout=setTimeout(function(){o.style.display="none"},500)})})}r=i.querySelector(".js-hamburger"),null!==(a=i.querySelector(".js-header-nav"))&&(l=a.querySelectorAll(".js-l1"),c=a.querySelectorAll(".js-l1-link"),d=a.querySelectorAll(".js-l2"),u=a.querySelectorAll(".js-l2-link"),h=document.querySelector("body"),f=i.querySelector(".js-nav-overlay"),v=i.querySelector(".js-nav-menu"),null!==(o=e).closest(".ebi")&&(o=h),r.addEventListener("click",function(t){t.preventDefault(),E()}),c.forEach(t=>{t.addEventListener("mousedown",function(t){y()&&(t.preventDefault(),t=this.closest(".js-l1").classList.contains("active"),this.dispatchEvent(new CustomEvent(t?"close":"open")))}),t.addEventListener("click",t=>{y()&&t.preventDefault()})}),c.forEach(function(t){t.addEventListener("open",s),t.addEventListener("close",s)}),u.forEach(t=>{t.addEventListener("click",function(){d.forEach(t=>{t.classList.remove("current"),t.classList.remove("section")}),this.closest(".js-l2").classList.add("current")})}),h.addEventListener("keyup",function(t){y()&&g()&&27===t.which&&(E(!1),r.focus())}),m(),n=y(),window.addEventListener("resize",()=>{var t=y();t!==n&&(n=t,m())}),y()&&a.querySelectorAll(".has-children").forEach(t=>t.setAttribute("aria-expanded","false")))}}}(),(EBI=EBI||{}).Search=function(){"use strict";return{init:function(t){(t=void 0===t?document:t).querySelectorAll(".js-site-search-form").forEach(function(i){function t(){e.classList.toggle("js-active",""!==n.value)}var n=i.querySelector(".js-site-search-input"),e=i.querySelector(".js-site-search-submit");n.addEventListener("keyup",t),n.addEventListener("update",t),e.addEventListener("click",function(t){if(this.data=this.data||{},!!this.data.ad)return!(this.data.ad=!1);if(t.preventDefault(),!this.classList.contains("js-active"))return t.stopPropagation(),!1;setTimeout(s,1e3);var e=!1;function s(){e||(e=!0,i.submit())}this.data.ad=!0;t=n.value;EBI.Analytics?EBI.Analytics.gaX("send","event","Site Search","Searches",t,{hitCallback:s}):s()})}),t.querySelectorAll(".js-site-search-desktop").forEach(function(t){var e,s=t.querySelector(".js-site-search-input"),i=t.querySelector(".js-site-search-submit");function n(){s.classList.toggle("open",!0),s.setAttribute("tabindex",0)}function o(){e=setTimeout(function(){s.classList.toggle("open",!1),s.setAttribute("tabindex",-1),i.classList.toggle("js-active",!1)},100)}s.setAttribute("tabindex",-1),i.addEventListener("click",function(t){clearTimeout(e),i.classList.contains("js-active")||(t.preventDefault(),t.stopPropagation(),n(),s.focus(),s.dispatchEvent(new Event("update")))}),i.addEventListener("blur",function(t){t.relatedTarget!==s&&o()}),s.addEventListener("blur",function(t){t.relatedTarget!==i&&o()}),s.addEventListener("focus",function(){n(),clearTimeout(e)}),s.addEventListener("keydown",function(t){27===t.which&&(o(),i.focus())})})}}}(),customElements.define("ebi-header",class extends HTMLElement{constructor(){super();var t=document.getElementById("ebi-header-styles").textContent;let e=document.createElement("style"),s=(e.textContent=t,this.attachShadow({mode:"open"}),document.getElementById("ebi-header-template"));this.shadowRoot.appendChild(e),this.shadowRoot.appendChild(s.content.cloneNode(!0))}connectedCallback(){let t=this.getAttribute("api");"string"==typeof t&&t.match(/^https?:\/\//)&&this.updateFromAPI(t,null!==this.getAttribute("creds")),EBI.CareersPromo.init(),EBI.Navigation.init(this.shadowRoot),EBI.Search.init(this.shadowRoot),this.highlightCurrentPage(),this.initSticky(),window.dispatchEvent(new Event("EBI.menuLoaded"))}highlightCurrentPage(){this.shadowRoot.querySelectorAll(".js-l2").forEach(t=>t.classList.remove("current"));let t=this.shadowRoot.querySelector(".js-l1.section");if(null===t&&null===(t=this.shadowRoot.querySelector(".js-header-nav")))console.warn("Can't find a wrapper for L2 links.");else{var s,i=t.querySelectorAll(".js-l2-link"),n=location.protocol+"//"+location.host+a(location.pathname),o=n+location.search;let e="";for(s of i){let t=s.getAttribute("href");a(t.split("?")[0])!==n||""!==e&&t!==o||(e=t)}if(""!==e){let t=this.shadowRoot.querySelectorAll(`a[href="${e}"]`);t.forEach(t=>{let e=t.closest(".js-l2");null!==e&&e.classList.add("current")})}function a(t){return t.replace(/\/+$/g,"")}}}async updateFromAPI(o,a){try{let t=await fetch(o,a?{credentials:"include"}:null);var r=await t.json();if("object"!=typeof r)throw new Error("Object expected from response");if(void 0===r.l1Nav)throw new Error("l1Nav not found in response");if(void 0===r.secondaryNav)throw new Error("secondaryNav not found in response");var l,c,d=r.l1Nav;let e=r.secondaryNav,s=this.shadowRoot.querySelector(".js-desktop-subnav"),i="";""!==(i=null!==s?s.getAttribute("data-l1-id"):i)&&(l=h(i,d),f(s,l));for(c of this.shadowRoot.querySelectorAll(".js-l1")){var u=h(c.getAttribute("data-id"),d);f(c,u)}this.highlightCurrentPage();let n=this.shadowRoot.querySelectorAll(".js-secondary-navigation");n.forEach(t=>{v(t,e,".js-secondary",".js-secondary-link")})}catch(t){console.warn("Error updating from API:",t)}function h(t,e){t=parseInt(t);for(var s of e)if(parseInt(s.id)===t)return s;throw new Error(`Cannot find page ID '${t}' in the API response.`)}function f(t,e){if(void 0===e.l2Nav)throw new Error("Cannot find l2Nav property on the specified L1 page.");v(t,e.l2Nav,".js-l2",".js-l2-link")}function v(t,i,e,n){let o=t.querySelector(e);if(null===o)throw new Error("Cannot find a navigation link wrapper in the DOM to clone.");let a=t.querySelectorAll(e);for(let s=0;s<i.length;s++){var r,l=i[s];let t=a.item(s),e=(null===t&&(t=o.cloneNode(!0),o.parentNode.appendChild(t)),t.querySelector(n));if(null===e&&(r=o.cloneNode(!0),t.replaceWith(r),t=r,e=t.querySelector(n)),null===e)throw new Error("Invalid link selector provided: "+n);e.getAttribute("href")!==l.url&&e.setAttribute("href",l.url),e.textContent!==l.title&&(e.textContent=l.title),l.class&&e.getAttribute("class")!==l.class&&e.setAttribute("class",l.url)}if(a.length>i.length)for(let e=i.length;e<a.length;e++){let t=a.item(e);t.remove()}}}initSticky(){this.header=this.shadowRoot.querySelector(".js-header"),this.headerTop=this.header.querySelector(".main-header-top"),this.desktopSubnav=this.header.querySelector(".js-desktop-subnav"),this.stickyOffsetEl=document.createElement("div"),this.stickyOffsetEl.setAttribute("class","main-header-sticky-offset"),this.header.insertBefore(this.stickyOffsetEl,this.desktopSubnav),this.lastScrollY=0,this.isSticky=!1,this.updateStickyStatus(),window.addEventListener("scroll",()=>this.updateStickyStatus()),this.lastHeight="",this.updateStickyOffsetHeight(),window.addEventListener("resize",()=>this.updateStickyOffsetHeight())}updateStickyStatus(){let t=!1;EBI.Navigation.isMobile()?t=!0:(window.scrollY<this.lastScrollY&&(t=!0,0===window.scrollY&&(t=!1)),this.lastScrollY=window.scrollY),this.isSticky!==t&&(this.headerTop.classList.toggle("is-sticky",t),this.isSticky=t)}updateStickyOffsetHeight(){var t=this.headerTop.offsetHeight+"px";t!==this.lastHeight&&(this.stickyOffsetEl.style.height=t,this.lastHeight=t,this.updateStickyStatus())}});