import{reparentNodes as m}from"../lib/dom.js";import{isPrimitive as u}from"../lib/parts.js";import{directive as t,NodePart as g}from"../lit-html.js";const p=new WeakMap;const v=window.navigator.userAgent.indexOf("Trident/")>0;export const unsafeSVG=t(value=>part=>{if(!(part instanceof g)){throw new Error("unsafeSVG can only be used in text bindings")}const t=p.get(part);if(t!==undefined&&u(value)&&value===t.value&&part.value===t.fragment){return}const o=document.createElement("template");const content=o.content;let i;if(v){o.innerHTML=`<svg>${value}</svg>`;i=content.firstChild}else{i=document.createElementNS("http://www.w3.org/2000/svg","svg");content.appendChild(i);i.innerHTML=value}content.removeChild(i);m(content,i.firstChild);const l=document.importNode(content,true);part.setValue(l);p.set(part,{value:value,fragment:l})});