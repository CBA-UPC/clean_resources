"use strict";(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[4885],{31289:(e,t,r)=>{r.d(t,{QG:()=>v,O4:()=>g,uM:()=>w,et:()=>h});var n=r(66062),a=r(18274),i=r(68858),o=r(66229),d=r(34629),l=r(55752),c=r.n(l);function u(e,t){return c()(e(),["bloggerState","bloggerMap",t],{})}function s(e,t,r,n){var a=u(e,r.amebaId).attribute||{},i=a.isPremium,o=a.isTieup;return!(i||o||!a.isShowAdUser)&&!function(e,t,r){var{adState:n}=e();return!!c()(n,["adLoadMap",t,r])}(e,t,n)}var p="LoadPcAdIds",f="ResetAdsData",y=(e,t)=>({type:d.tB,payload:{id:t,pathname:e}}),m=(e,t)=>({type:d.yX,payload:{id:t,pathname:e}}),b=(e,t,r)=>({type:d.Kt,payload:{id:t,pathname:e,error:r},error:!0}),v=(0,a.H)(((e,t)=>function(){var r=(0,n.Z)((function*(r,n){var a=p;if(s(n,e,t,a)){r(y(e,a)),"[adLoadAction] ".concat(a);try{var{amebaId:d}=t,l=u(n,d).blog||"";yield r((0,o.Mz)(l,i.SU)),r(m(e,a))}catch(c){c instanceof Error&&console.warn(c),r(b(e,a,c))}}}));return function(e,t){return r.apply(this,arguments)}}())),g=(0,a.H)(((e,t,r)=>function(){var a=(0,n.Z)((function*(n,a){var d=f;if(s(a,e,r,d)){n(y(e,d)),"[adLoadAction] ".concat(d);try{var{amebaId:l}=r,c=u(a,l).blog||"",p=[n((0,o.Mz)(c,i.wO))];yield Promise.all(p),n((0,o.gq)(e,c,t)),n(m(e,d))}catch(v){v instanceof Error&&console.warn(v),n(b(e,d,v))}}}));return function(e,t){return a.apply(this,arguments)}}())),h=e=>({type:d.FO,payload:{count:e}}),w=e=>({type:d.YM,payload:{fullPageAdType:e}})},74039:(e,t,r)=>{r.d(t,{J:()=>k});var n=r(66062),a=r(7368),i=r(55752),o=r.n(i),d=r(22050),l=r(90926),c=r(70317),u=r(22811),s={uid2:{apiField:"uid2",cookieKey:"__uid2_advertising_token"},apspa:{apiField:"apspa",cookieKey:"AMZN-Token"}},p=r(46656),f={path:"/",secure:!0,sameSite:"strict"},y=(e,t)=>{e.forEach((e=>{var r=t[e],n=o()(s,[e,"cookieKey"]);if(r){var{token:a,expires:i}=r;n&&(document.cookie=(0,u.serialize)(n,a,Object.assign(Object.assign({},f),{expires:new Date(i)})))}else{var d=new Date((new Date).getTime()+432e5);document.cookie=(0,u.serialize)(n,"",Object.assign(Object.assign({},f),{expires:d}))}}))},m=()=>{var e=new Date(0);Object.keys(s).forEach((t=>{var r=o()(s,[t,"cookieKey"]);r&&(document.cookie=(0,u.serialize)(r,"",Object.assign(Object.assign({},f),{expires:e})))}))},b=r(85029),v=r(89702);function g(){return(g=(0,n.Z)((function*(e){return yield(0,v.Z)("getAdToken",e)}))).apply(this,arguments)}var h=r(92696),w={uid2:"uid2"},I=r(21269),k=()=>function(){var e=(0,n.Z)((function*(e,t){if(![d.x.REQUEST].includes(((t()))){var r=(0,h.Rp)();if((0,h.$l)(r))m();else if(void 0===(0,c.L)(t())&&(yield e((0,l.wn)())),(0,c.jl)(t())){var n=(()=>{var e=(0,u.parse)(document.cookie);return Object.keys(s).map((t=>{var r=s[t];return void 0===e[r.cookieKey]?r.apiField:null})).filter(p.C)})();if(0!==n.length){var i=(0,b.R)(t());if(i){e({type:a.sT});try{var f=yield {token:i,fields:n});if("error"in f)throw new Error(f.error);y(n,f.data),e({type:a.Rv});var v=n.map(().filter(p.C);v.length>0&&(0,I.cr)(v)}catch(k){y(n,{}),e({type:a.Td})}}}}else m()}}));return function(t,r){return e.apply(this,arguments)}}()},92696:(e,t,r)=>{r.d(t,{$l:()=>d,Rp:()=>o,ZS:()=>l});var n=r(55752),a=r.n(n),i=r(22811),o=e=>a()(i.parse(e||document.cookie),["_hm"]),d=l=e=>d(o(e))?null:a()(i.parse(e),"P",null)},66229:(e,t,r)=>{r.d(t,{Mz:()=>b,gq:()=>v});var n=r(41185),a=r(66062),i=r(18274),o=r(20076),d=r(55752),l=r.n(d),c=r(80602),u=r(68858);r f=(e,t)=>({type:c.vg,payload:{blogId:e,data:t}}),y=(e,t,r)=>({type:c.gU,payload:{blogId:e,adsTypes:t,error:r},error:!0}),m=(e,t)=>!!t&&!e.some((),b=(0,i.H)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{ignoreAdNG:!1};return function(){var n=(0,a.Z)((function*(n,a,i){var{fetchr:d}=i,c=m(t,r.ignoreAdNG),u=a(),s=((u.adState||{}).adIdsMap||{})[e]||null,b=s?[]:t;if(0===b.length&&0===(b=t.filter((e=>-1===Object.keys(s).indexOf(e)))).length)return null;try{var v=l()(u,["bloggerState","blogMap",e,"blog_name"],""),g=b.join(","),h=yield d.read("adIds").params({amebaId:v,blogId:e,options:{ads_types:g,ignore_ad_ng_user:c}}).end(),w=(0,o.ZP)(h.data,(e=>{b.forEach((t=>{e.data=p(p({},e.data),{},{[t]:l()(e,["data",t],{})})}))}));return n(f(e,w))}catch(I){return n(y(e,t,I))}}));return ()})),v=,90926:(e,t,r)=>{r.d(t,{h$:()=>k,wn:()=>I,kS:()=>j});var n=r(66062),a=r(18274),i=r(92189),o=r.n(i),d=r(4705),l=r.n(d),c=r(55752),u=r.n(c),s=r(89702);function p(){return(p=(0,n.Z)((function*(){return(yield(0,s.Z)("generateToken",{})).data}))).apply(this,arguments)}unction y(){return(y=(0,n.Z)((function*(e){return(yield(0,s.Z)("checkAmebloToken",{token:e})).data}))).apply(this,arguments)}var m=r(73614),b=r(87615),v=r(70317),g=r(51075),h=w=I=(0,a.H)((()=>function(){var e=(0,n.Z)((function*(e,t){var{userState:r,amebloTokenState:n}=t();if(r.userAttribute)return null;try{if(n.amebloToken){var a=yield o()({times:3},l()(());if(a&&1===a.member)return e(w(a))}var i=yield );if(!i)throw new Error("generate token error.");var d=i.ameblo_token,c=[];if(d){var u=yield o()({times:3},l()(());u&&1===u.member?c.push(e(w(u))):c.push(e(h()))}else c.push(e(h()));return c.push(e(((d,i.ameblo_one_time_token))),Promise.all(c)}catch(s){return e((e=>({type:g.VF,payload:{error:e},error:!0}))(s))}}));return function(t,r){return e.apply(this,arguments)}}()));var k=(0,a.H)((()=>function(){var e=(0,n.Z)((function*(e,t){var r=u()(t(),["userState","sessionUser","amebaId"],"");if(void 0===u()(t(),["userState","userAttribute","member"])&&(yield e(I())),!(!r&&(0,v.jl)(t())))return null;try{var n=u()(t(),["amebloTokenState","amebloToken"],""),a=yield n);if(!a)return null;if(a.error)throw new Error(a.error);var i=(a.session_user||{}).ameba_id||"";if(!i)return null;yield e((0,m.Rs)(i));var o=u()(t(),["bloggerState","bloggerMap",i],{});return e({amebaId:i,profile_image:o.profile.image_filepath,nickname:o.profile.nickname,is_official:!!o.official}))}catch(d){return e(function(e){return{type:g.gt,payload:{error:e},error:!0}}(d))}}));return ())),j=(0,a.H)((()=>(e,t)=>{if((0,v.jl)(t())){e({type:g.dk}),e({type:g.W});try{var r="amebloTokenState",n=JSON.parse(window.localStorage[b.Uf]||"{}");if(!n[r])return;delete n[r],window.localStorage.setItem(b.Uf,JSON.stringify(n))}catch(a){console.warn(a)}}}))},21269:(e,t,r)=>{r.d(t,{FC:()=>f,cr:()=>m,iy:()=>y,mC:()=>p});var n=r(66062),a=r(55752),i=r.n(a),o=r(5663),d=r.n(o),l=r(22698),c=r(92696);unction s(){return(s=(0,n.Z)((function*(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;window.pbjs.que.push((()=>{var n=(0,c.Rp)();window.pbjs.setConfig({deviceAccess:!(0,c.$l)(n)}),window.pbjs.requestBids({adUnits:e,bidsBackHandler:t,timeout:r})}))}))).apply(this,arguments)}function p(e){var t=i()(e,["audienceNetwork","placementId"],"");window.pbjs&&t&&window.pbjs.que.push(()}function f(e){var t=i()(e,["audienceNetwork","placementId"],"");return t?'\n    [data-placementid="'.concat(t,'"] .thirdPartyRoot {\n      background-color: #fff;\n      border: 0;\n      color: #333;\n      font-size: 13px;\n      line-height: 1em;\n      overflow: hidden;\n      position: relative;\n      text-align: left;\n      width: 300px;\n      height: 250px;\n    }\n    [data-placementid="').concat(t,'"] .thirdPartyRoot > a {\n      color: inherit;\n    }\n    [data-placementid="').concat(t,'"] .thirdPartyMediaClass {\n      height: 157.5px;\n      margin: 0 0 16px;\n      width: 300px;\n    }\n    [data-placementid="').concat(t,"\"] .thirdPartyMediaClass > img {\n      vertical-align: top;\n    }\n    [data-placementid='").concat(t,"'] .thirdPartyTitleClass {\n      -webkit-box-orient: vertical;\n      display: -webkit-box;\n      font-weight: 700;\n      height: 38px;\n      -webkit-line-clamp: 2;\n      line-height: 1.5;\n      margin-bottom: 12px;\n      overflow: hidden;\n      overflow-wrap: break-word;\n      padding: 0 16px;\n      text-overflow: ellipsis;\n    }\n    [data-placementid='").concat(t,"'] .thirdPartySubtitleClass {\n      bottom: 12px;\n      color: #757575;\n      font-size: 10px;\n      left: 16px;\n      left: 16px;\n      position: absolute;\n    }\n    [data-placementid='").concat(t,"']\n    .thirdPartyCallToActionClass {\n      bottom: 12px;\n      color: #757575;\n      font-size: 12px;\n      font-weight: 700;\n      position: absolute;\n      right: 16px;\n      text-align: right;\n    }\n  "):""}function y(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1500,a=arguments.length>4?arguments[4]:void 0;return new Promise(((i,o)=>{var c=(0,l.re)(r),s=e.rubicon||{},p={};s.siteId&&s.zoneId&&(p={bidder:"rubicon",params:{accountId:"12364",siteId:s.siteId,zoneId:s.zoneId}});var f=e.yieldone||{},y={};f.placementId&&(y={bidder:"yieldone",params:{placementId:f.placementId}});var m=e.pubmatic||{},b={};m.adSlot&&(b={bidder:"pubmatic",params:{publisherId:"157520",adSlot:m.adSlot}});var v=e.openx||{},g={};v.unit&&(g={bidder:"openx",params:{delDomain:"cyberagent-usd-d.openx.net",unit:v.unit}});var h=e.aja||{},w={};h.asi&&(w={bidder:"aja",params:{asi:h.asi}});var I=e.appnexus||{},k={};I.placementId&&(k={bidder:"appnexus",params:{placementId:I.placementId}});var j=e.adGeneration||{},x={};j.id&&(x={bidder:"adg",params:{id:j.id}});var O=e.microad||{},S={};O.spot&&(S={bidder:"microad",params:{spot:O.spot}});var _=e.logicad||{},T={};_.tid&&(T={bidder:"logicad",params:{tid:_.tid}});var P=e.rtbhouse||{},A={};P.publisherId&&P.region&&(A={bidder:"rtbhouse",params:{publisherId:P.publisherId,region:P.region}});var M=e.unicorn||{},C={};M.placementId&&(C={bidder:"unicorn",params:{accountId:191817,placementId:M.placementId,publisherId:7765,mediaId:"ameba.jp"}});var E=e.ix||{},Z={};E.siteId&&(Z={bidder:"ix",params:{siteId:E.siteId,size:c[0]}});var z=e["media.net"]||{},F={};z.crid&&(F={bidder:"medianet",params:{cid:"8CUB9E21T",crid:z.crid}});var R=e.triplelift||{},U={};R.inventoryCode&&(U={bidder:"triplelift",params:{inventoryCode:R.inventoryCode}});var D=e.discovery||{},N={};if(D.tagid){var{tagid:B,token:G,publisher:H}=D;N={bidder:"discovery",params:{token:G,tagid:B,publisher:H}}}var q=e.fluct||{},L=q.tagId&&q.groupId&&q.dfpUnitCode?{bidder:"fluct",params:{tagId:q.tagId,groupId:q.groupId,dfpUnitCode:q.dfpUnitCode}}:{},K=e.pangle||{},$=K.token&&K.appid&&K.placementid?{bidder:"pangle",params:{token:K.token,appid:K.appid,placementid:K.placementid}}:{},J=!1,Y=e.teads||{},Q={};Y.pageId&&Y.placementId&&(J=!0,Q={bidder:"teads",params:{pageId:Y.pageId,placementId:Y.placementId}});var V={};J&&a&&(V.video={context:"outstream",playerSize:a}),V.banner={sizes:c};var W=[p,y,b,g,w,k,x,S,Q,T,A,C,Z,F,U,N,L,$].filter(();W.length<1?i():u([{code:t,mediaTypes:V,bids:W}],(,n).catch(()}))}function m(e){window.pbjs.que.push(()}},85029:(e,t,r)=>{r.d(t,{R:);var n=r(55752),a=r.n(n),i=e=>a()(e,["amebloTokenState","amebloToken"],"")},4705:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.isAsync)(e))return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.pop(),i=e.apply(this,r);return d(i,a)};return(0,n.default)(()};var n=o(r(30060)),a=o(r(54942)),i=r(77190);xports=t.default},30060:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.pop();return e.call(this,r,a)}},e.exports=t.default},55380:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=Symbol("promiseCallback");t.promiseCallback=function(){var e,t;function n(r){if(r)return t(r);for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];e(a.length>1?a:a[0])}return n[r]=new Promise((),n},t.PROMISE_SYMBOL=r},54942:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fallback=i,t.wrap=o;var r,n=t.hasSetImmediate="function"==typeof setImmediate&&setImmediate,a=t.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;unction o(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return e(()}}r=n?setImmediate:a?process.nextTick:i,t.default=o(r)},77190:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=t.isAsyncGenerator=t.isAsync=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(4705));.default=t.isAsync=a,t.isAsyncGenerator=t.isAsyncIterable=,92189:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var d={times:5,intervalFunc:i(0)};arguments.length<3&&"function"==typeof e?(r=t||(0,a.promiseCallback)(),t=e):(o(d,e),r=r||(0,a.promiseCallback)());if("function"!=typeof t)throw new Error("Invalid arguments for async.retry");var l=(0,n.default)(t),c=1;function u(){l((function(e){if(!1!==e)if(e&&c++<d.times&&("function"!=typeof d.errorFilter||d.errorFilter(e)))setTimeout(u,d.intervalFunc(c-1));else{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r(e,...n)}}))}return u(),r[a.PROMISE_SYMBOL]};var n=r(77190)),a=r(55380);unction o(e,t){if("object"==typeof t)e.times=+t.times||5,e.intervalFunc="function"==typeof t.interval?t.interval:i(+t.interval||0),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||5}}e.exports=t.default}}]);