/*! For license information please see uat-internal.js.LICENSE.txt */
var InternalInvestingChannel;(()=>{var __webpack_modules__={487:12:702:738:821:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){eturn e.prototype.getkeyValues=function(){return this.keyValues},e.prototype.getautoTargetStatus=function(){return this.autoTargetStatus},e.prototype.getdoubleVerify=function(){return this.doubleVerify},e.prototype.getglobalTarget=function(){return this.globalTarget},e.prototype.getpixelSegment=function(){return this.pixelSegment},e}();t.default=i},104:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(973),n=function(){function e(e,t){this.mCallbackid=e.callbackid,this.mScript=e.script,this.mType=e.type,this.registerEvent(t)}return e.prototype.registerEvent=function(e){var t=this;switch(this.mType){case r.CallbackType.PRELOAD:r.Utility.ICJQuery(document).on("Callback_Preload_"+e,(function(){return t.loadScript()}));break;case r.CallbackType.POSTLOAD:r.Utility.ICJQuery(document).on("Callback_Postload_"+e,(function(){return t.loadScript()}));break;case r.CallbackType.ON_VIEWPORT:r.Utility.ICJQuery(document).on("Callback_OnViewport_"+e,(function(i,n){var s=r.Utility.getInstance();s.isInViewport("#"+n,null)?t.loadScript():r.Utility.ICJQuery(document).on("resize scroll."+e,(function(){s.isInViewport("#"+n,null)&&(r.Utility.ICJQuery(document).off("resize scroll."+e),t.loadScript())}))}));break;case r.CallbackType.ON_DOMLOAD:"complete"===document.readyState?this.loadScript():window.onload=function(){t.loadScript()};break;case r.CallbackType.ON_DOMREADY:r.Utility.ICJQuery(document).ready((function(){return t.loadScript()}));break;case r.CallbackType.ON_DOMUNLOAD:r.Utility.ICJQuery(window).on("unload",(function(){return t.loadScript()}));break;case r.CallbackType.ON_BLANK:r.Utility.ICJQuery(document).on("Callback_Blank_"+e,();break;case r.CallbackType.ON_RENDERED:r.Utility.ICJQuery(document).on("Callback_Rendered_"+e,(function(e,i){t.mScript="(function(adData){"+t.mScript+"}("+JSON.stringify(i)+"))",t.loadScript()}))}},e.prototype.loadScript=e.prototype.getType=function(){return this.mType},e.prototype.getScript=function(){return this.mScript},e}();t.default=n},780:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(973),n=function(){function e(e,t,i){this.mIsStorageAccessAllowed=!1,this.mId=e.customvariableid,this.mName=e.name,this.mSource=e.source,this.mSourceVariable=e.sourcevariable,null!=e.defaultvalue&&(this.mValue=e.defaultvalue),this.mIsStorageAccessAllowed=t,this.mTemplate=i,this.setValue()}return e.prototype.setValue=function(){var e=r.Utility.getInstance();switch(this.mSource){case"QueryString":var t=e.getFromQueryString(this.mSourceVariable,this.mTemplate.getUrl());null!=t&&(this.mValue=t);break;case"SessionStorage":if(this.mIsStorageAccessAllowed){var i=e.getFromSessionStorage(this.mSourceVariable);null!=i&&(this.mValue=i)}else this.mValue="";break;case"LocalStorage":if(this.mIsStorageAccessAllowed){var n=e.getFromLocalStorage(this.mSourceVariable);null!=n&&(this.mValue=n)}else this.mValue="";break;case"Cookie":this.mIsStorageAccessAllowed?e.isCookieExists(this.mSourceVariable)&&(this.mValue=e.getFromCookie(this.mSourceVariable)):this.mValue="";break;case"DOM":e.executeJS("function ic_getDOMCustomVariableValue() { return "+this.mSourceVariable+"; }");try{if(window.hasOwnProperty("ic_getDOMCustomVariableValue")){var s=r.Utility.window.ic_getDOMCustomVariableValue.call();null!=s&&(this.mValue=s)}}catch(e){r.Utility.ICJQuery(document).trigger("IC_JSErrorEvent",["Error getting value for custom variable "+this.mId+": "+e])}break;case"CustomJS":e.executeJS("function ic_getCustomJSCustomVariableValue() { "+this.mSourceVariable+" }");try{window.hasOwnProperty("ic_getCustomJSCustomVariableValue")&&(this.mValue=r.Utility.window.ic_getCustomJSCustomVariableValue.call())}catch(e){r.Utility.ICJQuery(document).trigger("IC_JSErrorEvent",["Error getting value for custom variable "+this.mId+": "+e])}}},e.prototype.getId=function(){return this.mId},e.prototype.getName=function(){return this.mName},e.prototype.getValue=function(){return this.mValue},e.prototype.refetchValue=function(){this.setValue()},e}();t.default=n},29:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){eturn e.prototype.getType=function(){return this.mType},e.prototype.getDuration=function(){return this.mDuration},e.prototype.getUnit=function(){return this.mUnit},e.prototype.getCap=function(){return this.mCap},e}();t.default=i},43:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){try{this.mLayout=e.nativelayout.layout}catch(e){throw new Error(e.message)}}return e.prototype.getLayout=function(){return this.mLayout},e.prototype.getNativeLayoutId=function(){return this.mNativeLayoutId},e}();t.default=i},467:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)},n=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(n,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,r,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(i=1,r&&(n=2&a[0]?r.return:a[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,a[1])).done)return n;switch(r=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((n=(n=o.trys).length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){o.label=a[1];break}if(6===a[0]&&o.label<n[1]){o.label=n[1],n=a;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(a);break}n[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{i=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var o,a,l,d,m=i(973),c=i(979),u=i(620),p=i(23),h=function(){function e(e,t,i,r,n){this.mTags=[],this.mWebVitalsConfig={},this.mCssConfig={},this.mCallbacks=[],this.mIsParent=!0,this.mPublisherKval={},this.mTagsTotalWeight=0,this.mDFPSSPParams={},this.mDFPDMPParams={},this.mIsAutoRefreshEnabled=!1,this.mDATRefreshType=m.RefreshType.ONLOAD,this.mDATAdRefreshState=o.STOP,this.mDATSlotRendered=!1,this.mDATRenderedAdSize=[],this.mDATAdRefreshTimerStartTime=0,this.mDATAdRefreshTimerStopTime=0,this.mDATNotInViewTime=0,this.mDATInViewTime=0,this.mIsDATAdIndirectAdvertiser=!1,this.mActiveBrowserWindow=!0,this.mWaitingForTarget=!1,this.mWaitingForNativeLayout=!1,this.mIsImpressionViewable=!1,this.mUnfilledEventListeners=[],this.mRenderedEventListeners=[],this.isProbableLogFired=!1,this.mMaxAutoRefreshWithoutInteractionCounter=0,this.mSSPFetchBidsStartTime=0,this.mCorePlacement=JSON.stringify(e),this.mTemplate=t,this.mPublisherType=i,r&&(this.mWaitingForTarget=r),n&&(this.mWaitingForNativeLayout=n);try{this.mActiveBrowserWindow=document.hasFocus(),this.mTemplate.getDocumentType()!=m.DocumentType.PAGE&&(this.mActiveBrowserWindow=this.mActiveBrowserWindow||parent.document.hasFocus())}catch(e){this.mActiveBrowserWindow=!1}if(this.mRandomNumber=Math.floor(1e16*Math.random()),this.mId=e.id,this.mPriority=e.priority,this.mType=e.placementType,this.mTargeting=void 0,e.targeting)try{this.mTargeting=new c.Targeting(e.targeting,t),this.mTargeting&&this.mTargeting.recalculatePlacementEligibility()}catch(e){this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,0,this.mPublisherType,m.ErrorType.CUSTOM_TARGETING_FAILED,"Not able to serve the tag as targeting is not matched: "+e.message)}if(this.mFrequency=e.frequency?new c.Frequency(e.frequency):void 0,this.mLoadType=e.loadType,this.mWebVitalsConfig=e.webvitalsconfig?JSON.parse(e.webvitalsconfig):void 0,this.mCssConfig=e.cssconfig?JSON.parse(e.cssconfig):void 0,this.mSelector=e.selector?new c.Selector(e.selector):void 0,this.mType==m.PlacementType.HTML&&(null==this.mSelector||null==this.mSelector))throw new Error("Selector does not exists for the placement "+this.mId);this.mIsAutoRefreshEnabled=this.mTemplate.getAutoRefreshEnabled();for(var s=0;s<e.tags.length;++s){var a=new c.Tag(e.tags[s],this.mTagsTotalWeight);if(a.isForcedTargetEnabled()||null==this.mTemplate.getGlobalTarget()||(a.overrideTarget(this.mTemplate.getGlobalTarget().dfpkeyname),a.overrideTargetKval(this.mTemplate.getGlobalTarget().kval)),a.getType()==m.TagType.DISPLAY||a.getType()==m.TagType.NATIVE){if(a.getSizeMapping())if(a.isSizeMappingValid()){if(""==a.getAdSize()){this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,0,this.mPublisherType,m.ErrorType.ADSIZEMAPPING_TARGETING_FAILED);continue}}else this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,0,this.mPublisherType,m.ErrorType.ADSIZEMAPPING_INVALID);if(!this.isAdSizeValid(a.getAdSize())){var l="ADVANCE"==this.mPublisherType?null:this.mId;this.mTemplate.pushPlacementErrorLog(l,this.mType,0,this.mPublisherType,m.ErrorType.ADSIZE_INVALID,m.ErrorType.ADSIZE_INVALID.toString()+" ("+a.getAdSize()+")");continue}if(!a.getTargetName()){this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,0,this.mPublisherType,m.ErrorType.TARGET_INVALID);continue}}this.mTagsTotalWeight+=a.getWeight(),this.mTags.push(a)}if(this.mTags.length<=0)throw new Error("No tag exist for the placement.");this.mTags.sort((function(e,t){return e.getWeight()-t.getWeight()}));for(var d=0;d<e.callbacks.length;++d)this.mCallbacks.push(new c.Callback(e.callbacks[d],this.mRandomNumber))}return e.prototype.isAdSizeValid=function(e){if(!e)return!1;for(var t=0,i=e.replace(/\s/g,"").toLowerCase().split(",");t<i.length;t++){var r=i[t];if(!(r.indexOf("x")>=1||"fluid"==r||"oop"==r||"webinterstitial"==r))return!1}return!0},e.prototype.createDAT=function(e){var t=e.getTargetName(),i=e.getSiteDFPKeyName()+"/"+t;this.mSelector.getIdentifier();for(var r=[],n=function(e){if(e.indexOf("x")>=1){var t=e.split("x");if(t.length>2)return"continue";var i=!1;if(t.forEach((),i)return"continue";r.push(t.map(())}else"fluid"==e&&r.push(e)},s=0,o=e.getAdSize().replace(/\s/g,"").toLowerCase().split(",");s<o.length;s++)n(o[s]);var a,l=e.isCollapseEmptyDivEnabled(),d=e.isCollapseDivBeforeAdFetchEnabled(),m=this.mTemplate.getSite().getDFPConfig();null==l&&m&&"CollapseEmptyDiv"in m&&m.CollapseEmptyDiv&&(l=m.CollapseEmptyDiv),l&&null==d&&(d=!!(m&&"CollapseDivBeforeAdFetch"in m&&m.CollapseDivBeforeAdFetch)&&m.CollapseDivBeforeAdFetch);var c="";try{m&&"NetworkCode"in m&&(c=m.NetworkCode)}catch(e){}return e.isOOPWIUnit()?a=new u.DAT(i,this.mICDivId,this.mTemplate.getSite().getGPTTagType(),!0,c,!0):e.isOOPUnit()?(a=new u.DAT(i,this.mICDivId,this.mTemplate.getSite().getGPTTagType(),!0,c,!1),l&&a.setCollapseEmptyDiv(l,d),a.registerEvent("slotRequested",this.eventDATSlotRequested.bind(this,e)),a.registerEvent("impressionViewable",this.eventDATImpressionViewable.bind(this,e))):(a=new u.DAT(i,this.mICDivId,this.mTemplate.getSite().getGPTTagType(),!0,c,!1,r),l&&a.setCollapseEmptyDiv(l,d),a.registerEvent("slotRenderEnded",this.eventDATSlotRenderEnded.bind(this)),a.registerEvent("impressionViewable",this.eventDATImpressionViewable.bind(this,e)),a.registerEvent("slotVisibilityChanged",this.eventDATSlotVisibilityChanged.bind(this)),a.registerEvent("slotRequested",this.eventDATSlotRequested.bind(this,e)),a.registerEvent("slotResponseReceived",this.eventDATSlotResponseReceived.bind(this)),this.registerWindowEvent()),a},e.prototype.replaceMacros=function(e,t){if(null==e||null==e||""==e)return"";var i=e.match(/%%.*?%%/g);if(!i)return e;var r=m.Utility.getInstance(),n=this.mTemplate.getCustomVariables();if(!n||0==n.length)return m.Utility.ICJQuery(document).trigger("IC_JSErrorEvent",["Placement with id "+this.mId+" has the macros but does not have the custom variable defined."]),e;for(var s=0;s<i.length;++s){var o=i[s];if(o.indexOf("SYSTEM")>-1)switch(o.replace("%%SYSTEM:","").replace("%%","")){case"TARGET":e=e.replace(o,t.getTargetName());break;case"TARGET_KVAL":e=e.replace(o,t.getTargetKval());break;case"PAGE_ID":e=e.replace(o,""+this.mTemplate.getPageId());break;case"VIEW_COUNT":e=this.mTemplate.getUSPStatus()==m.USPStatus.NOT_APPLICABLE?e.replace(o,r.getFromCookie(m.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+r.getTopWindowDomain())):e.replace(o,"-1");break;case"REFERRER_TYPE":e=e.replace(o,this.mTemplate.getReferrerType());break;case"PAGE_TYPE":e=e.replace(o,this.mTemplate.getPageType());break;case"DOCUMENT_TYPE":e=e.replace(o,this.mTemplate.getDocumentType());break;case"EXELATE_ID":e=e.replace(o,"-1");break;case"PAGE_URL":e=e.replace(o,m.Utility.window.top.location.href);break;case"AUTO_KVAL":e=e.replace(o,JSON.stringify(this.mTemplate.getKeyVal()));break;case"PIXEL_SEGMENT":e=e.replace(o,JSON.stringify(this.mTemplate.getPixelSegment()));break;case"USER_ID":e=e.replace(o,p.default.getUserId());break;case"DNT":e=e.replace(o,String(!(this.mTemplate.getUSPStatus()==m.USPStatus.NOT_APPLICABLE)));break;case"COOKIE_TYPE":e=e.replace(o,this.mTemplate.getUserCookieType());break;case"DAY_OF_WEEK":e=e.replace(o,r.getUSDayOfWeek());break;case"NETWORK_CODE":var a="";this.mTemplate.getSite().getDFPConfig()&&"NetworkCode"in this.mTemplate.getSite().getDFPConfig()&&(a=this.mTemplate.getSite().getDFPConfig().NetworkCode),e=e.replace(o,m.Utility.getInstance().getNetWorkCode(a))}else if(o.indexOf("CUSTOM")>-1){var l=o.replace("%%CUSTOM:","").replace("%%",""),d="";n[l]&&null!=n[l].getValue()?d=n[l].getValue():m.Utility.ICJQuery(document).trigger("IC_JSErrorEvent",["Placement with id "+this.mId+": Either the custom variable with the name "+l+" does not exist or can't find the value of variable in a given source."]),e=e.replace(o,d)}}return e},e.prototype.getTagToDrop=function(){for(var e=0;e<this.mTags.length;++e){var t=this.mTags[e];switch(t.getGDPRStatus()){case"SERVE_ALWAYS":return t;case"SERVE_FOR_PERSONALIZED_AD_REQUEST":if(this.mTemplate.getUSPStatus()==m.USPStatus.NOT_APPLICABLE)return t;default:if(!this.mTemplate.isUserFromGDPRCountry()&&!this.mTemplate.isUserFromUSPState())return t}}return null},e.prototype.prepareCustomDiv=function(){var e="",t="0";try{this.mTagToRender.isOOPUnit()||this.mTagToRender.isOOPWIUnit()?(t="1",m.Utility.ICJQuery("#investingchannel_css_style").length||(t="2",m.Utility.ICJQuery("head").prepend("<style id='investingchannel_css_style'>.ic_1x1_css_class{width: 1px;height: 1px;}</style>")),t="3",e="<div id='"+this.mICDivId+"' ic_pageId='"+this.mTemplate.getPageId()+"' ic_placementId='"+this.mId+"' ic_tagId='"+this.mTagToRender.getId()+"' class='ic_1x1_css_class'></div>"):(t="4",e="<div id='"+this.mICDivId+"' ic_pageId='"+this.mTemplate.getPageId()+"' ic_placementId='"+this.mId+"' ic_tagId='"+this.mTagToRender.getId()+"'></div>")}catch(e){console.log(e),m.Utility.getInstance().ic_ga_event("Error","placement.prepareCustomDiv",e.message,this.mId,t)}return e},e.prototype.dropCustomDiv=function(e){var t="0";try{var i=this.mTemplate.getElementForThePlacement(this.mRandomNumber),r=void 0;if(t="1",!i)return;switch(r=m.Utility.ICJQuery(i),t="2",this.mSelector.getInsertionType()){case m.InsertionType.AFTER:r.after(e);break;case m.InsertionType.BEFORE:r.before(e);break;case m.InsertionType.FIRST_CHILD:r.prepend(e);break;case m.InsertionType.LAST_CHILD:r.append(e);break;case m.InsertionType.REPEAT:r.prepend(e)}var n=document.getElementById(this.mICDivId),s=this.mTemplate.getSite().getWebVitalsConfig(),o="";if(n&&this.mWebVitalsConfig&&"IsEnabled"in this.mWebVitalsConfig&&this.mWebVitalsConfig.IsEnabled){var a;for(var l in this.mTags){var d=this.mTags[l];if(null!=d.getAdSize()&&null!=d.getAdSize()){a=d.getMinWidthHeight();break}}"MinWidth"in this.mWebVitalsConfig?o+="min-width:"+this.mWebVitalsConfig.MinWidth+"px;":a&&a.indexOf("x")>0&&(o+="min-width:"+a.split("x")[0]+"px;"),"MinHeight"in this.mWebVitalsConfig?o+="min-height:"+this.mWebVitalsConfig.MinHeight+"px;":a&&a.indexOf("x")>0&&(o+="min-height:"+a.split("x")[1]+"px;"),"ImageLink"in this.mWebVitalsConfig?o+="background: url("+this.mWebVitalsConfig.ImageLink+") no-repeat left;":"ImageLink"in s&&(o+="background: url("+s.ImageLink+") no-repeat left;")}this.mCssConfig&&"Style"in this.mCssConfig&&(o+=this.mCssConfig.Style+";"),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Inside dropCustomDiv Style :"+this.mICDivId+" - "+o),n&&""!=o&&n.setAttribute("style",o),n&&this.mCssConfig&&"ClassName"in this.mCssConfig&&n.setAttribute("class",this.mCssConfig.ClassName)}catch(e){console.log(e),m.Utility.getInstance().ic_ga_event("Error","placement.dropCustomDiv","Error Message: "+e.message+" $# "+this.mSelector.getInsertionType(),this.mId,t)}},e.prototype.setTargetToDFPParams=function(e){if(this.mType!=m.PlacementType.PIXEL&&(e.getType()==m.TagType.DISPLAY||e.getType()==m.TagType.NATIVE)){this.mDFPParams.setTarget(e.getTargetName());var t=[];if(null==e.getTargetKval()){var i=this.mTemplate.getTargetData(e.getTargetName());null!=i&&(t=i.kval)}else t=e.getTargetKval();if("kval"in this.mPublisherKval){var r=this.mPublisherKval.kval;Array.isArray(r)||(r=[r]),t=t.concat(r)}"kval"in this.mTemplate.getPublisherKval()&&(r=this.mTemplate.getPublisherKval().kval,Array.isArray(r)||(r=[r]),t=t.concat(r)),t=m.Utility.getInstance().removeDuplicateFromArray(t),this.mDFPParams.setTargetKval(t)}},e.prototype.setAdRefreshParameters=function(){null==this.mDFPParams.getAdRefreshCount()||isNaN(this.mDFPParams.getAdRefreshCount())?this.mDFPParams.setAdRefreshCount(0):this.mDFPParams.setAdRefreshCount(this.mDFPParams.getAdRefreshCount()+1),this.mDFPParams.setAdRefreshType(this.mDATRefreshType)},e.prototype.updateAdPositionParametersToDFPParams=function(e){if(this.mType!=m.PlacementType.PIXEL&&(e.getType()==m.TagType.DISPLAY||e.getType()==m.TagType.NATIVE)){var t=this.prepareAdPositionsParams();null!=t.browserSize&&this.mTemplate.getDocumentType()==m.DocumentType.PAGE&&this.mDFPParams.setBrowserSize(t.browserSize),null!=t.absolutePosition&&this.mDFPParams.setAbsolutePosition(t.absolutePosition),null!=t.relativePosition&&this.mDFPParams.setRelativePosition(t.relativePosition)}},e.prototype.updateViewabilityAttributesToDFPParams=function(e){if(this.mType!=m.PlacementType.PIXEL&&(e.getType()==m.TagType.DISPLAY||e.getType()==m.TagType.NATIVE))if(this.mTemplate.getDocumentType()==m.DocumentType.FRIENDLYFRAME&&parent==top||this.mTemplate.getDocumentType()==m.DocumentType.PAGE){var t=this.calculateViewabilityAttributes();this.mDFPParams.setFoldPosition(""+t.foldPosition),this.mDFPParams.setVisiblePercentage(""+t.visiblePercentage)}else this.mDFPParams.setFoldPosition("-1"),this.mDFPParams.setVisiblePercentage("-1")},e.prototype.updateAdxParametersToDFPParams=function(){var e="e"+Math.floor(10*Math.random());this.mDFPParams.setAdxRandomNumber(e),this.mDFPParams.setAdxHour((new Date).getUTCHours().toString())},e.prototype.getLogParams=function(e,t){var i=c.Template.getBrowserUrl(),n=e.getId(),s=this.mId;"ADVANCE"==this.mPublisherType&&(n=null,s=null);var o={publisherType:this.mPublisherType,pageId:""+this.mTemplate.getPageId(),rnd:""+this.mRandomNumber,apiKey:c.Template.getAPIKey(),placementId:""+s,placementType:this.mType,tagId:""+n,tagType:e.getType(),logType:t,documentType:this.mTemplate.getDocumentType(),device:this.mTemplate.getDeviceType(),sitename:"",adsize:"",dfpKval:encodeURIComponent("bs:"+m.Utility.getInstance().getBrowserSize()),atStatus:this.mTemplate.getAutoTargetStatus(),version:m.Constant.VERSION,uspstring:this.mTemplate.getUSPString(),refererUrl:encodeURIComponent(this.mTemplate.getReferer()),pageUrl:encodeURIComponent(i),renderType:"",segments:this.mTemplate.getAdFormMatchingSegmentIds().join(",").toString()};if(this.mType==m.PlacementType.HTML&&(o.renderType=this.mSelector.getInsertionType(),e.getType()==m.TagType.DISPLAY||e.getType()==m.TagType.NATIVE)){this.updateViewabilityAttributesToDFPParams(e),this.updateAdPositionParametersToDFPParams(e),o.sitename=e.getSiteDFPKeyName()+"/"+e.getTargetName(),o.adsize=e.getAdSize();var a=this.setDfpParams(e),l=this.getTickerValues(e),d=this.mTemplate.getParametersForDFP(),u=m.Utility.getInstance().getUSDayOfWeek(),h=this.computeUserInactiveTimeForDFP().toString(),g={};p.default.isTagManagerEnabled&&(g={AYV:"UAT"}),a=l.length>0?r(r(r(r(r(r(r(r({},this.mPublisherKval),this.mDFPParams),this.mDFPDMPParams),this.mDFPSSPParams),d),{t:l}),{dow:u,uit:h}),g):r(r(r(r(r(r(r({},this.mPublisherKval),this.mDFPParams),this.mDFPDMPParams),this.mDFPSSPParams),d),{dow:u,uit:h}),g);var f="";for(var S in a)"tl"!=S&&"rnd"!=S&&"pageId"!=S&&"dt"!=S&&"d"!=S&&"referer"!=S&&(f+=S+":"+a[S]+";");o.dfpKval=f.length>0?encodeURIComponent(f.replace(/;\s*$/,"")):f}return o},e.prototype.sspCallback=function(e){if(e&&e.markit)for(var t in e.markit)this.mDFPSSPParams[t]=""+e.markit[t]},e.prototype.setDfpParams=function(e){var t={};try{var i,n=this.getTickerValues(e),s=this.mTemplate.getParametersForDFP();i=r(r({},this.mTemplate.getPublisherKval()),this.mPublisherKval);var o=m.Utility.getInstance().getUSDayOfWeek(),a=c.Template.getTickerKeyValue(),l=this.computeUserInactiveTimeForDFP().toString(),d={};p.default.isTagManagerEnabled&&(d={AYV:"UAT"}),n.length>0?(t=r(r(r(r(r(r(r(r({},i),this.mDFPParams),this.mDFPDMPParams),this.mDFPSSPParams),s),{t:n}),{dow:o,uit:l}),d),t=this.combineKeyValues(t,a)):t=r(r(r(r(r(r(r({},i),this.mDFPParams),this.mDFPDMPParams),this.mDFPSSPParams),s),{dow:o,uit:l}),d)}catch(e){this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("ERROR : setDfpParams :: "+e)}return t},e.prototype.prepareUAT5Key=function(e){"uat5"in this.mPublisherKval||(this.mPublisherKval.uat5=["true"]);try{var t=e.getDAT().mDivId;this.setFPToDfpValue(t)}catch(e){}try{p.default.SovrnDfpKeyValue&&""!=p.default.SovrnDfpKeyValue&&(this.mPublisherKval.uat5=m.Utility.getInstance().removeSovrnDfpKeysFromArray(this.mPublisherKval.uat5),this.mPublisherKval.uat5.push(p.default.SovrnDfpKeyValue))}catch(e){}var i=m.Constant.ENVIRONMENT;"prod"!=i&&-1==this.mPublisherKval.uat5.indexOf(i)&&this.mPublisherKval.uat5.push(i)},e.prototype.setFPToDfpValue=function(e){try{var t=u.SSP.mFpPassedToAdSlot;if(e in t){var i=-1;this.mPublisherKval.uat5.indexOf("bf_y")>-1?i=this.mPublisherKval.uat5.indexOf("bf_y"):this.mPublisherKval.uat5.indexOf("bf_n")>-1&&(i=this.mPublisherKval.uat5.indexOf("bf_n")),"y"==t[e]?i>-1?this.mPublisherKval.uat5[i]="bf_y":this.mPublisherKval.uat5.push("bf_y"):"n"==t[e]?i>-1?this.mPublisherKval.uat5[i]="bf_n":this.mPublisherKval.uat5.push("bf_n"):i>-1&&(this.mPublisherKval.uat5=m.Utility.getInstance().removeElementFromArray(this.mPublisherKval.uat5,i)),t[e]="",this.mPublisherKval.uat5=m.Utility.getInstance().removeDuplicateFromArray(this.mPublisherKval.uat5)}}catch(e){this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("ERROR : prepareUAT5Key :: "+e)}},e.prototype.checkAdhesionPlacement=function(){if(this.mPublisherKval&&"adslot"in this.mPublisherKval){var e=this.mPublisherKval.adslot;if(e&&e.toString().toLowerCase().indexOf("adhesion")>=0)return!0}return!1},e.prototype.getStackSspServeVertical=function(e,t){var i=r({a9:e.a9},e.prebid),n=-2,s=-2,o=-2,a=-2,l="",d="",c="",p="",h=-2,g="";for(var f in i){var S=i[f];if(S){var y=S[(f=m.Utility.getInstance().getBidderNameByCode(f,u.SSP.getInstance().getBidderOldToNewKeys()))+"_sz"];S[f+"_id"]&&(g=S[f+"_id"]);var b=S[f];if("a9"==f){var T=u.SSP.getInstance();h=b,-1!=b&&0!=b&&(h=T.getA9PriceByCode(b))}else h=b;"31"==y?h>n&&(n=h):"36"==y?h>s&&(s=h):"32"==y&&(h>o?(a=o,o=h,d=l,l=f,p=c,c=g):h>a&&(a=h,d=f,p=g))}}if(+o>0&&+a>0&&+o+ +a>+s&&+o+ +a>+n){var I=t.getAdSize(),v=I.split(",");if(v.length>0&&v.indexOf("300x501")<0){v.push("300x501"),I=v.join(","),t.setAdSize(I);var P=t.getSizeMapping();if(P&&P.length>0)for(var E=0;E<P.length;E++){var A=P[E][1];(this.isArrayExistsinList([300,600],A)||this.isArrayExistsinList([300,1050],A))&&A.push([300,501])}var C=t.getDAT().getTargeting();t.getDAT().destroy(),t.setDAT(this.createDAT(t)),t.getSizeMapping()&&t.getDAT().defineSizeMapping(t.getSizeMapping()),C&&t.getDAT().setTargeting(C)}var D=u.SSP.getInstance().getPrebid().getPriceBucketString(""+(+o+ +a),this.mTemplate.getSSPConfig().prebid.priceGranularity);this.mTemplate.isDebugModeEnabled()&&(m.Utility.getInstance().debugConsoleMessage("Stack Ads - 300x501 , Actual Values :: bidder 1 :: "+o+", Bidder 2 :: "+a+", sum :: "+(o+a)),m.Utility.getInstance().debugConsoleMessage("Stack Ads - 300x501, after Price granularity Values :: "+D)),e.tt={tt:""+parseFloat(D),tt_v:l+":"+d,tt_id:c+":"+p}}return e},e.prototype.prepareHorizontalStackBids=function(e,t){var i=u.SSP.getInstance().getStackSspServeHorizontal(e,t,this.mICDivId);if(Object.keys(i).length>0&&"tt"in i&&""!=i.tt){var r=t.getAdSize(),n=r.split(",");if(n.length>0&&n.indexOf("950x250")<0){n.push("950x250"),r=n.join(","),t.setAdSize(r);var s=t.getSizeMapping();if(s&&s.length>0)for(var o=0;o<s.length;o++){var a=s[o][1];this.isArrayExistsinList([970,250],a)&&a.push([950,250])}var l=t.getDAT().getTargeting();t.getDAT().destroy(),t.setDAT(this.createDAT(t)),t.getSizeMapping()&&t.getDAT().defineSizeMapping(t.getSizeMapping()),l&&t.getDAT().setTargeting(l)}var d=i.tt;d=u.SSP.getInstance().getPrebid().getPriceBucketString(""+d,this.mTemplate.getSSPConfig().prebid.priceGranularity),i.tt=parseFloat(d),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Stack Ads - 970x250:: tt ::  "+JSON.stringify(i)),e.tt=i}return e},e.prototype.isArrayExistsinList=function(e,t){for(var i=e.join("x"),r=0;r<t.length;r++)if("object"==typeof t[r]&&i==t[r].join("x"))return!0;return!1},e.prototype.prepareDFPParams=function(e){return n(this,void 0,void 0,(function(){var t,i,r,n,o,a,l,p,h,g,f,S,y,b,T,I,v,P,E;return s(this,(function(s){switch(s.label){case 0:if(this.mDFPSSPParams={},this.prepareUAT5Key(e),"ADVANCE"!=this.mPublisherType&&this.mDFPParams.setTagId(e.getId()),e.isOOPUnit()||e.isOOPWIUnit())return[3,2];if(this.updateViewabilityAttributesToDFPParams(e),this.updateAdPositionParametersToDFPParams(e),t=c.Template.getStackVerticalalEnabled(),i=c.Template.getStackHorizontalEnabled(),null!=(r=u.SSP.getInstance())&&(n=r.getPrebid(),o=!1,n&&(o=n.isDummyStackPlacement(this.mICDivId)),0==o&&(a=void 0,a=u.SSP.getInstance().getBids(this.mICDivId)))){if(1==t&&a.placement&&"size"in a.placement&&a.placement.size.indexOf("300x250")>-1&&(a.placement.size.indexOf("300x600")>-1||a.placement.size.indexOf("300x1050")>-1)&&(a=this.getStackSspServeVertical(a,e)).tt)for(v in a.tt)this.mDFPSSPParams[v]=""+a.tt[v];if(1==i&&a.placement&&"size"in a.placement&&a.placement.size.indexOf("970x250")>-1&&(a=this.prepareHorizontalStackBids(a,e)).tt)for(v in a.tt)this.mDFPSSPParams[v]=""+a.tt[v];if(a.a9)for(v in a.a9)this.mDFPSSPParams[v]=""+a.a9[v];if(a.prebid){for(v in String.prototype.endsWith||(String.prototype.endsWith=,l=-2,p="",h="",g="",f="",S=this.mTemplate.getSSPPrebidIgnoreList(),a.prebid){for(b in y=a.prebid[v])this.mDFPSSPParams[b]=""+y[b];if(S.indexOf(v)<0)for(b in y)if(!(b.endsWith("_id")||b.endsWith("_d")||b.endsWith("_sz"))&&l<y[b]){for(T in l=y[b],p=v,g="",f="",h="",y)T.endsWith("_sz")?g=y[T]:T.endsWith("_id")?h=y[T]:T.endsWith("_d")&&(f=y[T]);break}this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Inside PrepareDFPParam SSP KEY "+v+" - ",[y])}this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("preparedfpparams :: ",a),l>=-1&&(this.mDFPSSPParams["pb_"+g]=""+l,l>0&&(this.mDFPSSPParams.pb_v=p,h&&(this.mDFPSSPParams["pb_"+g+"_id"]=h),f&&(this.mDFPSSPParams["pb_"+g+"_d"]=f)))}if(a.markit)for(v in a.markit)this.mDFPSSPParams[v]=""+a.markit[v]}return this.mTemplate.isPredictiveEnabled()?[4,this.mTemplate.getPredictiveValue(this,this.mDATRefreshType,this.getSSPAdSizes())]:[3,2];case 1:if(I=s.sent(),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Placement getPredictiveValue Response: "+I),I)for(v in I)I[v]&&I.hasOwnProperty(v)&&(P="ml_"+d[v],E=10*Math.round(I[v]/10),this.mDFPSSPParams[P]=""+E);s.label=2;case 2:try{c.Template.mIsAdformEnabled&&c.Template.mIsAdformDropped&&(this.mDFPDMPParams.af=c.Template.getUIDForAdForm(),c.Template.mAdFormSegmentIds.length>0&&(this.mDFPDMPParams.as=this.mTemplate.getAdFormMatchingSegmentIds()))}catch(e){}return[2]}}))}))},e.prototype.validateSSP=function(e,t){return n(this,void 0,void 0,(function(){var i,r,n,o,a,l=this;return s(this,(function(s){switch(s.label){case 0:return this.mTemplate.getUSPStatus()!=m.USPStatus.NOT_APPLICABLE?[3,6]:(i=(new Date).valueOf()-this.mTemplate.getLastDFPCallTime())<this.mTemplate.getDFPCallBufferTime()?(this.mValidateSSPTimeout=setTimeout((,this.mTemplate.getDFPCallBufferTime()-i),[3,5]):[3,1];case 1:return u.SSP.getInstance()&&u.SSP.getInstance().isBidsExpired(this.mICDivId)?(r=!1,this.mTemplate.isPredictiveEnabled()&&this.mDATRefreshType!=m.RefreshType.TIME&&(n=this.mTemplate.getSSPEnabledAdSizes(this))&&n.length>0?[4,this.mTemplate.getPredictiveValue(this,this.mDATRefreshType,n)]:[3,3]):[3,4];case 2:o=s.sent(),r=this.mTemplate.isSspHVPlacement(o),s.label=3;case 3:u.SSP.getInstance().refreshBids(this.mICDivId,this.mDATRefreshType,r,this.mDFPParams.getAdRefreshCount()),this.mSSPFetchBidsStartTime=(new Date).getTime(),s.label=4;case 4:a=t?+this.mTemplate.getSSPConfig().totalDelayRefresh:+this.mTemplate.getSSPConfig().totalDelay,this.waitForSSP(e,a,t,!0),s.label=5;case 5:return[3,7];case 6:t?this.refreshDisplayTag(e):this.renderDisplayTag(e),s.label=7;case 7:return[2]}}))}))},e.prototype.waitForSSP=function(e,t,i,r){var n=this,s=t-((new Date).getTime()-this.mSSPFetchBidsStartTime);if((!u.SSP.getInstance()||"RECEIVED"!=u.SSP.getInstance().getStatus(this.mICDivId)&&"NOT_APPLICABLE"!=u.SSP.getInstance().getStatus(this.mICDivId))&&s>0){var o=+this.mTemplate.getSSPConfig().delayStep;o=r?Math.round(s/2.5):o>s?s:o,this.mWaitForSSPTimeout=setTimeout((,o)}else clearInterval(this.mWaitForSSPTimeout),this.mSSPFetchBidsStartTime=0,i?this.refreshDisplayTag(e):this.renderDisplayTag(e)},e.prototype.getTickerValues=function(t){var i=[];try{"t"in this.mPublisherKval&&(i=i.concat(this.mPublisherKval.t.join().toUpperCase().split(","))),"t"in this.mTemplate.getPublisherKval()&&(i=i.concat(this.mTemplate.getPublisherKval().t.join().toUpperCase().split(",")));try{if(1==c.Template.markitEnabled&&u.SSP.getInstance()){var r=u.SSP.getInstance().getMarkitValueFromWindow();r&&"t"in r&&(i=i.concat(r.t.toUpperCase().split(",")))}}catch(e){this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Error:getTickerValues for Markit :: "+e)}var n=this.mTemplate.getParametersForDFP();"t"in n&&(i=i.concat(n.t.toUpperCase().split(",")))}catch(e){console.log(e)}return i=m.Utility.getInstance().removeDuplicateFromArray(i),e.pTickerValues=i,i},e.prototype.renderDisplayTag=function(e){return n(this,void 0,void 0,(function(){var t,i,r,n,o,a=this;return s(this,(function(s){switch(s.label){case 0:return this.mDATRefreshType=m.RefreshType.ONLOAD,e.getTargetName().indexOf(".bottom")>0&&(this.mTemplate.eligibleForBottomZoning(this)||(e.disableBottomZoning(),e.getDAT()&&(t=e.getDAT(),i=t.getTargeting(),t.destroy(),t=this.createDAT(e),e.setDAT(t),e.getSizeMapping()&&e.getDAT().defineSizeMapping(e.getSizeMapping()),t.setTargeting(i)),this.mDFPParams.setTarget(e.getTargetName()))),e.getDAT()||(e.setDAT(this.createDAT(e)),e.getSizeMapping()&&e.getDAT().defineSizeMapping(e.getSizeMapping())),[4,this.prepareDFPParams(e)];case 1:s.sent(),r=e.getDAT(),n=this.setDfpParams(e),r.setTargeting(n),this.mTemplate.getDocumentType()==m.DocumentType.IFRAME&&(o=[""],r.setTargetingByKey("rft",o));try{this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Calling DFP for "+e.getAdSize()+" with the parameters ",[n])}catch(e){console.log(e)}return this.mTemplate.isSingleRequestEnabled()?this.mLoadType==m.LoadType.ON_VIEW||this.mLoadType==m.LoadType.ONLOAD_ONVIEW?this.mTemplate.readyToRender(this.mICDivId,this.mLoadType,e):this.mTemplate.readyToRender(this.mICDivId,this.mLoadType):r.render(),e.isOOPUnit()||e.isOOPWIUnit()||(this.mTargetRuleTimeoutInstance=setTimeout((,this.mTemplate.getTargetRulesTimeout())),[2]}}))}))},e.prototype.refreshDisplayTag=function(e){return n(this,void 0,void 0,(function(){var t,i;return s(this,(function(r){switch(r.label){case 0:return[4,this.prepareDFPParams(e)];case 1:r.sent(),(t=e.getDAT()).clearTargeting(),i=this.setDfpParams(e),t.setTargeting(i);try{this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Refreshing the tag "+e.getAdSize(),[i])}catch(e){console.log(e)}return this.mTemplate.isSingleRequestEnabled()?this.mTemplate.readyToRefresh(this.mICDivId):(this.mTemplate.setLastDFPCallTime((new Date).valueOf()),t.refresh()),this.mDATAdRefreshTimerStartTime=0,this.mDATAdRefreshTimerStopTime=0,this.mDATNotInViewTime=0,this.mDATInViewTime=0,this.mDATSlotRendered=!1,this.mDATAdRefreshState=o.STOP,this.mIsDATAdIndirectAdvertiser=!1,this.mIsImpressionViewable=!1,[2]}}))}))},e.prototype.dropTag=function(e,t){t&&m.Utility.ICJQuery(document).trigger("Callback_Preload_"+this.mRandomNumber);var i=this.replaceMacros(e.getScript(),e);if(this.mType==m.PlacementType.PIXEL)m.Utility.ICJQuery("head").prepend(i),m.Utility.getInstance().pushToReportLog(this.getLogParams(e,l.SERVED));else{if(null==this.mSelector)return;switch(e.getType()){case m.TagType.CUSTOM:m.Utility.ICJQuery("#"+this.mICDivId).append(i),m.Utility.getInstance().pushToReportLog(this.getLogParams(e,l.SERVED));break;case m.TagType.DISPLAY:case m.TagType.NATIVE:this.validateSSP(e,!t);case m.TagType.VIDEO:}}t&&(m.Utility.ICJQuery(document).trigger("Callback_Postload_"+this.mRandomNumber),m.Utility.ICJQuery(document).trigger("Callback_OnViewport_"+this.mRandomNumber,[this.mICDivId])),this.mState=m.PlacementState.LOADED},e.prototype.saveToStorage=function(e,t){var i=m.Utility.getInstance();i.isLocalStorageSupported()?i.saveToLocalStorage(e,t):i.saveToCookie(e,t)},e.prototype.getFromStorage=function(e){var t=m.Utility.getInstance();return t.isLocalStorageSupported()?t.getFromLocalStorage(e):t.getFromCookie(e)},e.prototype.deleteFromStorage=function(e){var t=m.Utility.getInstance();t.isLocalStorageSupported()?t.deleteFromLocalStorage(e):t.deleteFromCookie(e)},e.prototype.displayTag=function(e){var t=this;if(this.mState=m.PlacementState.INITIALIZED,this.mLastRenderedTagType=this.mTagToRender.getType(),this.mType==m.PlacementType.HTML){if(e&&!m.Utility.ICJQuery("#"+this.mICDivId).length){var i=this.prepareCustomDiv();this.dropCustomDiv(i)}this.mTagToRender.getType()!=m.TagType.DISPLAY&&this.mTagToRender.getType()!=m.TagType.NATIVE||!this.mTemplate.isSingleRequestEnabled()||e||this.mTemplate.addTagToRefreshArray(this.mICDivId,this.mTagToRender)}switch(this.setTargetToDFPParams(this.mTagToRender),this.updateAdxParametersToDFPParams(),this.setAdRefreshParameters(),e&&!this.isProbableLogFired&&(m.Utility.getInstance().pushToReportLog(this.getLogParams(this.mTagToRender,l.PROBABLE)),this.isProbableLogFired=!0),this.mLoadType){case m.LoadType.ON_LOAD:"complete"==document.readyState?this.dropTag(this.mTagToRender,e):m.Utility.ICJQuery(window).on("load",();break;case m.LoadType.ON_VIEW:this.isInViewPort(e);break;case m.LoadType.ON_REALTIME:case m.LoadType.CUSTOM:this.dropTag(this.mTagToRender,e);break;case m.LoadType.ONLOAD_ONVIEW:"complete"==document.readyState?this.isInViewPort(e):m.Utility.ICJQuery(window).on("load",(function(){t.isInViewPort(e)}))}},e.prototype.isInViewPort=function(e){var t=this,i=this.mTemplate.getOnViewBufferPercentage(),r=document.querySelector("#"+this.mICDivId);r&&new IntersectionObserver((function(i,r){i.forEach((function(i){i.isIntersecting&&(r.disconnect(),t.dropTag(t.mTagToRender,e))}))}),{root:null,rootMargin:"0px",threshold:[0,i/100]}).observe(r)},e.prototype.getAbsolutePosition=function(e){var t=0,i=0;if(this.mTemplate.getDocumentType()==m.DocumentType.FRIENDLYFRAME){var r=m.Utility.window.frameElement.getBoundingClientRect();null==r||null==r||0==r.top&&0==r.left&&0==r.right&&0==r.bottom||(void 0!==m.Utility.window.top.pageXOffset?(t=Math.round(r.left+m.Utility.window.top.pageXOffset),i=Math.round(r.top+m.Utility.window.top.pageYOffset)):(t=Math.round(r.left+m.Utility.window.top.document.documentElement.scrollLeft),i=Math.round(r.top+m.Utility.window.top.document.documentElement.scrollTop)))}var n=e.getBoundingClientRect();return null==n||null==n||0==n.top&&0==n.left&&0==n.right&&0==n.bottom?null:void 0!==pageXOffset?(t+=Math.round(n.left+pageXOffset))+"x"+(i+=Math.round(n.top+pageYOffset)):(t+=Math.round(n.left+document.documentElement.scrollLeft))+"x"+(i+=Math.round(n.top+document.documentElement.scrollTop))},e.prototype.getRelativePosition=function(e){var t=0,i=0;if(this.mTemplate.getDocumentType()==m.DocumentType.FRIENDLYFRAME){var r=m.Utility.window.frameElement.getBoundingClientRect();null==r||null==r||0==r.top&&0==r.left&&0==r.right&&0==r.bottom||(t=Math.round(r.left),i=Math.round(r.top))}var n=e.getBoundingClientRect();return null==n||null==n||0==n.top&&0==n.left&&0==n.right&&0==n.bottom?null:(t+=Math.round(n.left))+"x"+(i+=Math.round(n.top))},e.prototype.prepareAdPositionsParams=function(){var e=null,t=null,i=null;if(this.mTemplate.getDocumentType()==m.DocumentType.FRIENDLYFRAME&&parent==top||this.mTemplate.getDocumentType()==m.DocumentType.PAGE){e=m.Utility.getInstance().getBrowserSize();var r=document.getElementById(this.mICDivId),n=this.getAbsolutePosition(r),s=this.getRelativePosition(r);n&&(t=n),s&&(i=s)}return{browserSize:e,absolutePosition:t,relativePosition:i}},e.prototype.getVisibleAreaPercentage=function(e,t,i){t=0==t?1:t,i=0==i?1:i;try{if(!m.Utility.ICJQuery(e).is(":visible"))return-2}catch(e){console.log(e)}var r=e.getBoundingClientRect(),n=m.Utility.getInstance().clientWindowHeight(),s=m.Utility.getInstance().clientWindowWidth(),o=r.top,a=r.left,l=0,d=0;if(this.mTemplate.getDocumentType()==m.DocumentType.FRIENDLYFRAME){var c=m.Utility.window.frameElement.getBoundingClientRect(),u=m.Utility.window.top.innerHeight,p=m.Utility.window.top.innerWidth;if(c.top>u||c.left>p||c.bottom<0||c.right<0||c.top+r.top>u||c.left+r.left>p||r.bottom<0||r.right<0)return 0;c.top<0&&(o+=c.top),c.left<0&&(a+=c.left),u<c.bottom&&u<c.top+r.top+Number(i)?l=Number(i)-(u-(c.top+r.top)):c.bottom<c.top+r.top+Number(i)&&(l=Number(i)-(c.bottom-(c.top+r.top))),p<c.right&&p<c.left+r.left+Number(t)?d=Number(t)-(p-(c.left+r.left)):c.right<c.left+r.left+Number(t)&&(d=Number(t)-(c.right-(c.left+r.left)))}var h=o+Number(i)-l,g=a+Number(t)-d,f=o<0?0:o,S=a<0?0:a,y=h<0?0:h,b=g<0?0:g;return((y=y>n?n:y)-(f=f>n?n:f))*((b=b>s?s:b)-(S=S>s?s:S))/(Number(i)*Number(t))*100},e.prototype.calculateViewabilityAttributes=function(){var e="300x250",t=this.getNonNullPrimaryAdSize(),i=document.getElementById(this.mICDivId);t.indexOf("x")>=0&&!isNaN(+t.split("x")[0])&&!isNaN(+t.split("x")[1])&&(e=t);var r=e.split("x")[0],n=e.split("x")[1],s=this.getVisibleAreaPercentage(i,+r,+n);s>=0&&(s=10*Math.ceil(s/10));var o=0;return s<=-1?o=s:s>=m.Constant.FOLDPOSITION_TOLERANCE&&(o=1),{foldPosition:o,visiblePercentage:s}},e.prototype.setWaitingForTarget=function(e){this.mWaitingForTarget=e},e.prototype.getWaitingForTarget=function(){return this.mWaitingForTarget},e.prototype.setWaitingForNativeLayout=function(e){this.mWaitingForNativeLayout=e},e.prototype.getWaitingForNativeLayout=function(){return this.mWaitingForNativeLayout},e.prototype.initialiseObject=function(e){var t="0";try{this.mICDivId="investingchannel_div_"+this.mRandomNumber,t="1",this.mStorageKey="IC_Placement_"+this.mId,t="2",this.mState=m.PlacementState.UNKNOWN,t="3",this.mDFPParams=new m.DFPPlacementParams,t="4",this.mDFPParams.setRandomNumber(this.mRandomNumber),t="5",this.mDFPParams.setTile(e),t="6",this.mDFPParams.setPosition(this.mTemplate.calculatePosition(this.getNonNullPrimaryAdSize(),this.mRandomNumber)),t="7";for(var i=0;i<this.mTags.length;++i){var r=this.mTags[i];if(t="8."+i,this.mDFPParams.getPosition()>1&&(r.getType()==m.TagType.DISPLAY||r.getType()==m.TagType.NATIVE)&&r.enableBottomZoning(),t="9."+i,t="11."+i,r.getPublisherKVal()){var n=r.getPublisherKVal().split("&");t="12."+i;for(var s=0;s<n.length;++s)if(2==n[s].split("=").length){t="13."+i+"."+s;var o=this.replaceMacros(n[s],r);t="14."+i+"."+s;var a=o.split("=")[0];t="15."+i+"."+s;var l=o.split("=")[1].split(",");t="16."+i+"."+s,null!=this.mPublisherKval&&a in this.mPublisherKval&&(l=l.concat(this.mPublisherKval[a])),t="17."+i+"."+s;var d=m.Utility.getInstance().removeDuplicateFromArray(l);t="18."+i+"."+s,this.mPublisherKval[a]=d,"t"==a.toLowerCase()&&u.DMP.getInstance().addDmpProperty({t:d}),t="18.1."+i+"."+s}}}if(this.mTagToRender=this.getTagToDrop(),t="19",!this.mTagToRender)return this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,this.mRandomNumber,this.mPublisherType,m.ErrorType.GDPR_TARGETING_FAILED),void(this.mState=m.PlacementState.TARGETING_FAILED);if(t="20",this.mType==m.PlacementType.HTML){var c=this.prepareCustomDiv();t="21",this.dropCustomDiv(c),t="22"}}catch(e){console.log(e),m.Utility.getInstance().ic_ga_event("Error","placement.initialiseObject",e.message,null,t)}},e.prototype.startRefreshTimer=function(){var e=this;if(this.mDATAdRefreshState==o.STOP){this.mDATAdRefreshTimerStartTime=(new Date).valueOf();var t=this.mDATAdRefreshTimerStopTime>0?this.mDATAdRefreshTimerStartTime-this.mDATAdRefreshTimerStopTime:0;this.mDATNotInViewTime+=t;var i=this.mAutoRefreshConfig.RefreshTime,r=this.mAutoRefreshConfig.OutOfViewTime;this.mIsDATAdIndirectAdvertiser&&(i=this.mAutoRefreshConfig.RefreshTimeIndirect,r=this.mAutoRefreshConfig.OutOfViewTimeIndirect),this.mDATAdRefreshState=o.START,t>r?(this.mDATRefreshType=m.RefreshType.ACTIVEWINDOW,this.mIsImpressionViewable?this.displayTag(!1):(this.mDATAdRefreshState=o.STOP,this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Placement ==> Imression Viewable not yet tiggered totalOutOfView reached. Placement Id="+this.mId))):this.mDATAdRefreshTimerInstance=setTimeout((function(){e.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("User IsInactive =>"+e.mTemplate.getIsUserInActive(e.mAutoRefreshConfig.ActiveUserTimeoutFromLastInteraction)+" , Inactivity Time=>"+e.mTemplate.getUserInactiveTime(e.mAutoRefreshConfig.ActiveUserTimeoutFromLastInteraction)+" Placement Id="+e.mId+", InactiveCounter:"+e.mMaxAutoRefreshWithoutInteractionCounter+" , condtion: "+e.mAutoRefreshConfig.MaxAutoRefreshWithoutInteraction*i+" > "+e.mTemplate.getUserInactiveTime(e.mAutoRefreshConfig.ActiveUserTimeoutFromLastInteraction)),e.mDATRefreshType=m.RefreshType.TIME,e.mIsDATAdIndirectAdvertiser&&(e.mLoadType=m.LoadType.ON_VIEW),e.mIsImpressionViewable?!e.mTemplate.getIsUserInActive(e.mAutoRefreshConfig.ActiveUserTimeoutFromLastInteraction)||e.mMaxAutoRefreshWithoutInteractionCounter<e.mAutoRefreshConfig.MaxAutoRefreshWithoutInteraction?(e.mTemplate.getIsUserInActive(e.mAutoRefreshConfig.ActiveUserTimeoutFromLastInteraction)?e.mMaxAutoRefreshWithoutInteractionCounter=e.mMaxAutoRefreshWithoutInteractionCounter+1:e.mMaxAutoRefreshWithoutInteractionCounter=0,e.displayTag(!1)):(e.mDATInViewTime=i,e.mDATAdRefreshState=o.STOP,e.mActiveUserEvent&&null!=e.mActiveUserEvent||e.registerActiveUserEvent()):(e.mDATInViewTime=i,e.mDATAdRefreshState=o.STOP,e.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Placement ==> Impression Viewable not yet tiggered timebased. Placement Id="+e.mId))}),i-this.mDATInViewTime)}},e.prototype.stopRefreshTimer=function(){this.mDATAdRefreshState==o.START&&(this.mDATAdRefreshTimerStopTime=(new Date).valueOf(),this.mDATInViewTime=this.mDATInViewTime+(this.mDATAdRefreshTimerStopTime-this.mDATAdRefreshTimerStartTime),clearInterval(this.mDATAdRefreshTimerInstance),this.mDATAdRefreshState=o.STOP)},e.prototype.evaluateAdRefresh=function(e){if(this.mIsAutoRefreshEnabled&&2==this.mDATRenderedAdSize.length&&!(this.mDFPParams.getAdRefreshCount()>=this.mAutoRefreshConfig.MaxRefreshCount)){var t=this.mAutoRefreshConfig.ViewabilityThresholdPercentage;if(this.mIsDATAdIndirectAdvertiser&&(t=this.mAutoRefreshConfig.ViewabilityThresholdPercentageIndirect),"300x1050"==this.mDATRenderedAdSize[0]+"x"+this.mDATRenderedAdSize[1]){if(!this.mIsDATAdIndirectAdvertiser)return void(this.mIsAutoRefreshEnabled=!1);t*=.6}e>=t?(this.startRefreshTimer(),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("evaluateAdRefresh event triggered Start Refresh Timer: Counter="+this.mDATInViewTime+" Placement Id="+this.mId)):this.mIsDATAdIndirectAdvertiser?this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("evaluateAdRefresh event triggered No Active Timer: Indirect="+this.mIsDATAdIndirectAdvertiser+" Placement Id="+this.mId):(this.stopRefreshTimer(),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("evaluateAdRefresh event triggered Stop Refresh Timer: StopCounter="+this.mDATInViewTime+" Placement Id="+this.mId))}},e.prototype.windowEventHandler=function(e){if(this.mIsAutoRefreshEnabled){var t=document.getElementById(this.mICDivId);if(t)if(e==a.BLUR)this.mTemplate.getDocumentType()!=m.DocumentType.PAGE?this.mActiveBrowserWindow=document.hasFocus()||parent.document.hasFocus():this.mActiveBrowserWindow=!1,this.mDATSlotRendered&&!this.mActiveBrowserWindow&&this.evaluateAdRefresh(0);else if(e!=a.FOCUS&&e!=a.SCROLL&&e!=a.RESIZE&&e!=a.MOUSEMOVE||(this.mActiveBrowserWindow=!0),this.mDATSlotRendered&&this.mActiveBrowserWindow){this.mMaxAutoRefreshWithoutInteractionCounter=0;var i=this.getVisibleAreaPercentage(t,this.mDATRenderedAdSize[0],this.mDATRenderedAdSize[1]);this.evaluateAdRefresh(i)}}},e.prototype.registerWindowEvent=function(){var e=this;this.mTemplate.getDocumentType()!=m.DocumentType.IFRAME&&this.mTemplate.getAutoRefreshEnabled()&&(this.mScrollEvent=function(){e.windowEventHandler(a.SCROLL)},this.mResizeEvent=function(){e.windowEventHandler(a.RESIZE)},this.mFocusEvent=function(){e.windowEventHandler(a.FOCUS)},this.mBlurEvent=function(){e.windowEventHandler(a.BLUR)},this.mMouseMoveEvent=m.Utility.window.attachEvent?(m.Utility.window.attachEvent("onscroll",this.mScrollEvent,!0),m.Utility.window.attachEvent("onresize",this.mResizeEvent,!1),m.Utility.window.attachEvent("onfocus",this.mFocusEvent,!1),m.Utility.window.attachEvent("onblur",this.mBlurEvent,!1),m.Utility.window.top.attachEvent("onmousemove",this.mMouseMoveEvent,!1),this.mTemplate.getDocumentType()!=m.DocumentType.PAGE&&(m.Utility.window.top.attachEvent("onscroll",this.mScrollEvent,!0),m.Utility.window.top.attachEvent("onresize",this.mResizeEvent,!1),m.Utility.window.top.attachEvent("onfocus",this.mFocusEvent,!1),m.Utility.window.top.attachEvent("onblur",this.mBlurEvent,!1),m.Utility.window.top.attachEvent("onmousemove",this.mMouseMoveEvent,!1))):(m.Utility.window.addEventListener("scroll",this.mScrollEvent,!0),m.Utility.window.addEventListener("resize",this.mResizeEvent,!1),m.Utility.window.addEventListener("focus",this.mFocusEvent,!1),m.Utility.window.addEventListener("blur",this.mBlurEvent,!1),m.Utility.window.addEventListener("mousemove",this.mMouseMoveEvent,!1),this.mTemplate.getDocumentType()!=m.DocumentType.PAGE&&(m.Utility.window.top.addEventListener("scroll",this.mScrollEvent,!0),m.Utility.window.top.addEventListener("resize",this.mResizeEvent,!1),m.Utility.window.top.addEventListener("focus",this.mFocusEvent,!1),m.Utility.window.top.addEventListener("blur",this.mBlurEvent,!1),m.Utility.window.top.addEventListener("mousemove",this.mMouseMoveEvent,!1))))},e.prototype.unregisterWindowEvent=function(){this.mTemplate.getDocumentType()!=m.DocumentType.IFRAME&&this.mTemplate.getAutoRefreshEnabled()&&(m.Utility.window.detachEvent?(m.Utility.window.detachEvent("onscroll",this.mScrollEvent,!0),m.Utility.window.detachEvent("onresize",this.mResizeEvent,!1),m.Utility.window.detachEvent("onfocus",this.mFocusEvent,!1),m.Utility.window.detachEvent("onblur",this.mBlurEvent,!1),m.Utility.window.detachEvent("onmousemove",this.mMouseMoveEvent,!1),this.mTemplate.getDocumentType()!=m.DocumentType.PAGE&&(m.Utility.window.top.detachEvent("onscroll",this.mScrollEvent,!0),m.Utility.window.top.detachEvent("onresize",this.mResizeEvent,!1),m.Utility.window.top.detachEvent("onfocus",this.mFocusEvent,!1),m.Utility.window.top.detachEvent("onblur",this.mBlurEvent,!1),m.Utility.window.top.detachEvent("onmousemove",this.mMouseMoveEvent,!1))):(m.Utility.window.removeEventListener("scroll",this.mScrollEvent,!0),m.Utility.window.removeEventListener("resize",this.mResizeEvent,!1),m.Utility.window.removeEventListener("focus",this.mFocusEvent,!1),m.Utility.window.removeEventListener("blur",this.mBlurEvent,!1),m.Utility.window.removeEventListener("mousemove",this.mMouseMoveEvent,!1),this.mTemplate.getDocumentType()!=m.DocumentType.PAGE&&(m.Utility.window.top.removeEventListener("scroll",this.mScrollEvent,!0),m.Utility.window.top.removeEventListener("resize",this.mResizeEvent,!1),m.Utility.window.top.removeEventListener("focus",this.mFocusEvent,!1),m.Utility.window.top.removeEventListener("blur",this.mBlurEvent,!1),m.Utility.window.top.removeEventListener("mousemove",this.mMouseMoveEvent,!1))))},e.prototype.registerActiveUserEvent=function(){var e=this;this.mTemplate.getDocumentType()!=m.DocumentType.IFRAME&&this.mAutoRefreshConfig.IsEnabled&&(this.mActiveUserEvent=function(){e.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Placement mActiveUserEvent is called. PlacementId=>"+e.mId),e.unregisterActiveUserEvent(),e.mActiveUserEvent=null,e.displayTag(!1)},this.mTemplate.activateActivityTracker(this.mActiveUserEvent))},e.prototype.unregisterActiveUserEvent=function(){this.mTemplate.deactivateActivityTracker(this.mActiveUserEvent),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Placement unregisterActiveUserEvent called. PlacementId="+this.mId)},e.prototype.executeTargetRules=function(e){if(clearInterval(this.mTargetRuleTimeoutInstance),e.isForcedTargetEnabled()||null==this.mTemplate.getGlobalTarget())if(null!=e.getTargetRule())this.mTemplate.executeTargetRules(e.getTargetName(),e.getTargetRule());else{var t=this.mTemplate.getTargetData(e.getTargetName());null!=t&&this.mTemplate.executeTargetRules(e.getTargetName(),t.rules)}else this.mTemplate.dropGlobalTargetRules()},e.prototype.renderNativeLayout=function(e){for(var t=null,i=null,r=null,n=0,s=this.mTags;n<s.length;n++){if(t=(r=s[n]).getDAT().getDFPSlot(),e.slot===t){i=r.getNativLayout()?r.getNativLayout().layout:null;break}t=null}if(null!=t){var o=t.getSlotElementId(),a=document.querySelector("#"+o),l=""+this.mDFPParams.getRandomNumber();if(!e.isEmpty){var d=a.dataset.googleQueryId;if(this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("tagTrigger - slotRenderEnded event SlotQueryId - ",d),void 0!==m.Utility.window["native_ad"+d]&&m.Utility.window["native_ad"+d])if(null!=i&&""!=i.trim()){var c=document.querySelector("#investingchannel_native_div_"+l);c||((c=document.createElement("div")).id="investingchannel_native_div_"+l,a.insertBefore(c,null));var u=m.Utility.window["native_ad"+d],p=/\\bcta-\\s*([^\\s]*)\\s*-repl\\b/.exec(i);""==u.callToAction&&p&&(u.callToAction=p[1]),i=i.replace('data-id=""','data-id="'+l+'"'),document.querySelector("#investingchannel_native_div_"+l)&&(document.querySelector("#investingchannel_native_div_"+l).innerHTML=this.replaceTemplate(i,u)),a.setAttribute("empty","false");var h=a.children;h.length>=1&&(h[0].style.position="absolute")}else this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,this.mRandomNumber,this.getPublisherType(),m.ErrorType.NATIVE_LAYOUT_NOT_FOUND,m.ErrorType.NATIVE_LAYOUT_NOT_FOUND.toString()+"("+r.getId()+")")}}},e.prototype.replaceTemplate=function(e,t){this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("replateTemplate - advert ojbect - ",t);var i=this.mTemplate.getSponsorPagePath();for(var r in 0!=t.canvasPageAdId&&null!=i&&null!=i&&(0===i.toString().indexOf("http")||0===i.toString().indexOf("//")?t.url=i+"?ic_adid="+t.canvasPageAdId:t.url=window.location.protocol+"//"+window.location.hostname+"/"+i+"?ic_adid="+t.canvasPageAdId),"SCR"!=t.type&&(t.url=t.clickTrackingUrl+t.url),t)if(t.hasOwnProperty(r)){var n=t[r];if(n==t.thumbnail){var s=/\\bpref-\\s*[^\\s]*\\s*-ratio\\b/.exec(e);s&&(n=this.getThumb(n,s[1]))}e=e.replace(new RegExp("{{"+r+"}}","g"),n)}return e},e.prototype.getThumb=function(e,t){var i=t.split("-"),r=[];for(var n in i)for(var s in e)s==i[n]&&""!=e[s]&&r.push(e[s]);if(r[0])var o=r[0];return o},e.prototype.eventDATSlotRenderEnded=function(e){this.mDATSlotRendered=!e.isEmpty,this.mDATRenderedAdSize=e.size;var t=null;e.size&&null!=e.size&&e.size.length>=2&&(t=this.mDATRenderedAdSize[0]+"x"+this.mDATRenderedAdSize[1]),this.mAutoRefreshConfig=this.mTemplate.getAutoRefreshConfig(t),this.mIsAutoRefreshEnabled=this.mAutoRefreshConfig.IsEnabled,this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Inside SlotRender Ended event ",[e]),this.mDATSlotRendered&&this.renderNativeLayout(e),this.mTemplate.getDocumentType()!=m.DocumentType.IFRAME&&this.mAutoRefreshConfig.IsEnabled?(this.mIsDATAdIndirectAdvertiser=this.mAutoRefreshConfig.AdvertisersIndirect.indexOf(e.advertiserId)>=0,this.mAutoRefreshConfig.DisabledCampaigns.indexOf(e.campaignId)>=0&&(this.mIsAutoRefreshEnabled=!1)):this.mIsAutoRefreshEnabled=!1;try{var i={size:e.size,advertiserId:e.advertiserId,campaignId:e.campaignId,companyIds:e.companyIds,creativeId:e.creativeId,creativeTemplateId:e.creativeTemplateId,isBackfill:e.isBackfill,isEmpty:e.isEmpty,labelIds:e.labelIds,lineItemId:e.lineItemId};if(m.Utility.ICJQuery(document).trigger("Callback_Rendered_"+this.mRandomNumber,[i]),this.mRenderedEventListeners.length>0)for(var r=0;r<this.mRenderedEventListeners.length;++r)this.mRenderedEventListeners[r](i);if(!this.mDATSlotRendered)for(m.Utility.ICJQuery(document).trigger("Callback_Blank_"+this.mRandomNumber),r=0;r<this.mUnfilledEventListeners.length;++r)this.mUnfilledEventListeners[r]()}catch(e){console.log("Something wrong in triggering the rendered or blank event: ",e)}},e.prototype.eventDATImpressionViewable=function(e,t){var i=document.getElementById(this.mICDivId);if(i&&(m.Utility.getInstance().pushToReportLog(this.getLogParams(e,l.VIEWED)),this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("eventDATImpressionViewable method: Indirect="+this.mIsDATAdIndirectAdvertiser+" Placement Id="+this.mId),this.mIsImpressionViewable=!0,!e.isOOPUnit()&&!e.isOOPWIUnit()&&this.mDATSlotRendered&&void 0!==this.mDATRenderedAdSize&&this.mDATRenderedAdSize.length>1)){var r=i.querySelectorAll("iframe[id^=google_ads_iframe_]");if(!r||r.length<1)return;var n=r[0];if(n){var s=this.getVisibleAreaPercentage(n,this.mDATRenderedAdSize[0],this.mDATRenderedAdSize[1]);this.evaluateAdRefresh(Math.round(s))}}},e.prototype.eventDATSlotVisibilityChanged=e.prototype.eventDATSlotRequested=function(e,t){m.Utility.getInstance().pushToReportLog(this.getLogParams(e,l.SERVED))},e.prototype.getId=function(){return this.mId},e.prototype.getState=function(){return this.mState},e.prototype.getSelector=function(){return this.mSelector},e.prototype.isParent=function(){return this.mIsParent},e.prototype.makeChild=function(){this.mIsParent=!1},e.prototype.getPriority=function(){return this.mPriority},e.prototype.getLoadType=function(){return this.mLoadType},e.prototype.getDivId=function(){return this.mICDivId},e.prototype.getPublisherType=function(){return this.mPublisherType},e.prototype.getTagToRender=function(){return this.mTagToRender},e.prototype.getNativeLayout=function(){return this.mTags&&this.mTags.length>0?this.mTags[0].getNativLayout():{}},e.prototype.isEligibleForRendering=function(e){if(this.mState!=m.PlacementState.UNKNOWN&&this.mState!=m.PlacementState.SELECTOR_NOT_LOADED&&this.mState!=m.PlacementState.SELECTOR_LOADED)return!1;if(e&&this.mLoadType==m.LoadType.CUSTOM)return!1;if(null!=this.mTargeting&&!this.mTargeting.isIsPlacementEligibleForRendering())return!1;if(this.mFrequency){var t=this.getFromStorage(this.mStorageKey);if(t){t=JSON.parse(t);var i=new Date(t.dateTime);switch(this.mFrequency.getUnit()){case m.FrequencyCapUnit.MILLISECONDS:i.setMilliseconds(i.getMilliseconds()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.SECONDS:i.setSeconds(i.getSeconds()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.MINUTES:i.setMinutes(i.getMinutes()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.HOURS:i.setHours(i.getHours()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.DAYS:i.setDate(i.getDate()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.WEEKS:i.setDate(i.getDate()+7*this.mFrequency.getDuration());break;case m.FrequencyCapUnit.MONTHS:i.setMonth(i.getMonth()+this.mFrequency.getDuration());break;case m.FrequencyCapUnit.YEARS:i.setFullYear(i.getFullYear()+this.mFrequency.getDuration())}if(i>new Date){if(Number(t.count)>=this.mFrequency.getCap())return this.mState=m.PlacementState.CAPPING_EXPIRED,!1}else this.deleteFromStorage(this.mStorageKey)}}if(this.mType!=m.PlacementType.HTML)return!0;if("ADVANCE"==this.mPublisherType&&"COMPLETED"!=this.mTemplate.getTargetStatus(this.mTagToRender.getTargetName())&&!this.mTemplate.getGlobalTarget())return this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Not eligible because of Target"),!1;if((this.mTagToRender.getType()==m.TagType.DISPLAY||this.mTagToRender.getType()==m.TagType.NATIVE)&&""==this.mTagToRender.getAdSize())return this.mState=m.PlacementState.TAG_NOT_AVAILABLE,!1;if(!this.mIsParent)return!0;var r=m.Utility.getInstance();if(null!=this.mSelector&&r.isSelectorLoaded(this.mSelector.getIdentifier(),this.mTemplate.getPageId(),this.mId,this.mRandomNumber)){if(this.mState=m.PlacementState.SELECTOR_LOADED,!m.Utility.ICJQuery("#"+this.mICDivId).length){var n=this.prepareCustomDiv();this.dropCustomDiv(n)}return!0}return this.mState=m.PlacementState.SELECTOR_NOT_LOADED,this.mLoadType==m.LoadType.CUSTOM&&this.mTemplate.pushPlacementErrorLog(this.mId,this.mType,this.mRandomNumber,this.getPublisherType(),m.ErrorType.SELECTOR_NOT_FOUND),!1},e.prototype.isEligibleForRefreshing=function(){return(this.mState==m.PlacementState.LOADED||this.mState==m.PlacementState.VIEWED)&&this.mType==m.PlacementType.HTML},e.prototype.render=function(){var e=u.DATManager.getInstance();if(null==e||!e.initialLoadDisabled()||this.mTagToRender.getType()!=m.TagType.DISPLAY&&this.mTagToRender.getType()!=m.TagType.NATIVE||(this.mTagToRender.getDAT()||this.mTagToRender.setDAT(this.createDAT(this.mTagToRender)),this.mTagToRender.getSizeMapping()&&this.mTagToRender.getDAT().defineSizeMapping(this.mTagToRender.getSizeMapping())),this.mLoadType==m.LoadType.CUSTOM&&this.mTemplate.addTagToRenderArray(this.mICDivId,this.mTagToRender,this.mLoadType),this.mSSPFetchBidsStartTime=this.mTemplate.getSSPFetchBidsStartTime(),this.mFrequency){var t=this.getFromStorage(this.mStorageKey),i={};if(t){t=JSON.parse(decodeURIComponent(t));var r=new Date(t.dateTime),n=Number(t.count);++n,i.count=n,i.dateTime=r}else i.count=1,i.dateTime=new Date;this.saveToStorage(this.mStorageKey,JSON.stringify(i))}this.displayTag(!0)},e.prototype.getLastRenderedTagType=function(){return this.mLastRenderedTagType},e.prototype.refresh=function(){this.mDATRefreshType=m.RefreshType.MANUAL,this.displayTag(!1)},e.prototype.clear=function(){m.Utility.ICJQuery("#"+this.mICDivId).length&&m.Utility.ICJQuery("#"+this.mICDivId).remove()},e.prototype.destroy=function(){for(var e=0,t=this.mTags;e<t.length;e++){var i=t[e];switch(i.getType()){case m.TagType.DISPLAY:case m.TagType.NATIVE:i.getDAT(),null!=u.SSP.getInstance()&&u.SSP.getInstance().deletePlacement(this.mICDivId),this.clear(),this.mDATAdRefreshTimerInstance&&clearInterval(this.mDATAdRefreshTimerInstance),this.mWaitForSSPTimeout&&clearInterval(this.mWaitForSSPTimeout),this.mValidateSSPTimeout&&clearInterval(this.mValidateSSPTimeout),this.mTargetRuleTimeoutInstance&&clearInterval(this.mTargetRuleTimeoutInstance),this.unregisterWindowEvent();break;case m.TagType.CUSTOM:this.clear()}}},e.prototype.setKval=function(e){for(var t in e){var i=e[t];Array.isArray(i)||(i=[i]),i=m.Utility.getInstance().removeDuplicateFromArray(i),this.mPublisherKval[t]=i}},e.prototype.clearKval=function(e){if(null==e)this.mPublisherKval={};else if(Array.isArray(e))for(var t=0;t<e.length;++t){var i=e[t];i in this.mPublisherKval&&delete this.mPublisherKval[i]}},e.prototype.getNonNullPrimaryAdSize=function(){if(this.mType==m.PlacementType.PIXEL)return null;for(var e in this.mTags){var t=this.mTags[e];if(null!=t.getPrimaryAdSize()&&null!=t.getPrimaryAdSize())return t.getPrimaryAdSize()}return null},e.prototype.defineSizeMapping=function(e){for(var t=0;t<this.mTags.length;++t){var i=this.mTags[t];i.getType()!=m.TagType.DISPLAY&&i.getType()!=m.TagType.NATIVE||(i.updateSizeMapping(e),i.isSizeMappingValid()?""==i.getAdSize()&&this.mTemplate.pushPlacementErrorLog(null,this.mType,0,this.mPublisherType,m.ErrorType.ADSIZEMAPPING_TARGETING_FAILED):this.mTemplate.pushPlacementErrorLog(null,this.mType,0,this.mPublisherType,m.ErrorType.ADSIZEMAPPING_INVALID))}},e.prototype.setConfig=function(e){this.mConfig=e},e.prototype.registerEventListener=function(e,t){if("function"==typeof t)switch(e){case"tagUnfilled":return void this.mUnfilledEventListeners.push(t);case"tagRendered":return void this.mRenderedEventListeners.push(t);default:return void c.Template.pushAPILog(m.ErrorType.TAG_ADDEVENTLISTNER_FAILED,"(Invalid parameter passed, Event: "+e+")")}else c.Template.pushAPILog(m.ErrorType.TAG_ADDEVENTLISTNER_FAILED,"(Invalid parameter passed, Event: "+e+")")},e.prototype.eventDATSlotResponseReceived=function(e){this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Inside SlotResponseReceived event ",[e]);var t=document.getElementById(this.mICDivId);t.removeAttribute("style"),this.mCssConfig&&"Style"in this.mCssConfig&&t.setAttribute("style",this.mCssConfig.Style)},e.prototype.combineKeyValues=function(e,t){if(t&&null!==t&&""!=t)for(var i in t)try{if(void 0!==e[i]&&""!=e[i]){var n=e[i],s=!1;"string"==typeof n&&(n=n.split(","),s=!0);for(var o=t[i],a=0;a<o.length;a++)n.indexOf(o[a])<0&&n.push(o[a]);e[i]=s?n.join(","):n}else{var l={};l[i]=t[i],e=r(r({},e),l)}}catch(e){this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Error:combineKeyValues :: "+e)}return e},e.prototype.computeUserInactiveTimeForDFP=function(){var e=0,t=this.mTemplate.getUserInactiveTime(0);try{if(t>36e5)e=60;else{var i=new Date(t).toISOString().slice(14,19).split(":"),r=parseInt(i[0]),n=parseInt(i[1]);r<5?(e=r,n>=30&&(e=r+.5)):r<=10?e=r:r<=30?e=r-r%2:r<=60&&(e=r-r%5)}}catch(e){this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("Error:computeUSerInactiveTimeForDFP :: "+e)}return this.mTemplate.isDebugModeEnabled()&&m.Utility.getInstance().debugConsoleMessage("computeUSerInactiveTimeForDFP :: userInactivetime "+new Date(t).toISOString().slice(11,19)+" :: uit :: "+e),e},e.prototype.getSSPAdSizes=function(){for(var e=[],t=0;t<this.mTags.length;++t)if(this.mTags[t].getType()==m.TagType.DISPLAY||this.mTags[t].getType()==m.TagType.NATIVE){var i=this.mTags[t].getAdSize();e.indexOf(i)>=0||(e=e.concat(i.split(",")))}return e},e.prototype.getPosition=function(){return this.mDFPParams?this.mDFPParams.getPosition():null},e.prototype.getTile=e.prototype.getType=function(){return this.mType},e.prototype.getRandomNumber=function(){return this.mRandomNumber},e.prototype.getRawData=function(){return this.mCorePlacement},e.pTickerValues=[],e}();t.default=h,function(e){e.STOP="STOPPED",e.START="STARTED"}(o||(o={})),function(e){e.SCROLL="SCROLL",e.RESIZE="RESIZE",e.FOCUS="FOCUS",e.BLUR="BLUR",e.MOUSEMOVE="MOUSEMOVE"}(a||(a={})),function(e){e.SERVED="S",e.VIEWED="V",e.PROBABLE="P"}(l||(l={})),function(e){e["160x600"]="16",e["250x250"]="22",e["320x50"]="35",e["300x250"]="32",e["300x600"]="36",e["300x1050"]="31",e["468x60"]="46",e["728x90"]="79",e["970x90"]="99",e["970x250"]="92",e["320x100"]="30"}(d||(d={}))},178:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){eturn e.prototype.getIdentifier=function(){return this.mIdentifier},e.prototype.getInsertionType=function(){return this.mType},e}();t.default=i},934:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.mA9={},this.mAppnexus={},this.mOpenx={},this.mPubmatic={},this.mRubicon={},this.mCriteo={},this.mSovrn={},this.mYieldmo={},this.m33Across={},this.mAol={},this.mGumgum={},this.mTriplelift={},this.mAdaptmx={},this.mSmartAdServer={},this.mImproveDigital={},this.mShareThrough={},this.mMediaNet={},this.mOutbrain={},this.mAutomatad={},this.mGDPRCMP={},this.mUSPPrivacy={},this.mIsAdmiralAdblockerEnabled=!1,this.mDoubleVerify={},this.mKrux={},this.mPredictive={},this.mSSPconfig={},this.mAutoRefreshConfig={},this.mDFPConfig={},this.mAddressability={},this.mWebVitalsConfig={},this.mDmp={},this.mMarkitConfig={},this.mAdtagname=e.adtagname,this.mDfpkeyname=e.dfpkeyname,this.mGPTTagType="GPTA",this.mSiteid=e.siteid,this.mA9=JSON.parse(e.a9),this.mAppnexus=JSON.parse(e.appnexus),this.mOpenx=JSON.parse(e.openx),this.mPubmatic=JSON.parse(e.pubmatic),this.mRubicon=JSON.parse(e.rubicon),this.mCriteo=JSON.parse(e.criteo),this.mSovrn=JSON.parse(e.sovrn),this.mYieldmo=JSON.parse(e.yieldmo),this.m33Across=JSON.parse(e.across33),this.mAol=JSON.parse(e.aol),this.mGumgum=JSON.parse(e.gumgum),this.mTriplelift=JSON.parse(e.triplelift),this.mAdaptmx=JSON.parse(e.adaptmx),this.mSmartAdServer=JSON.parse(e.smartadserver),this.mImproveDigital=JSON.parse(e.improvedigital),this.mShareThrough=JSON.parse(e.sharethrough),this.mMediaNet=JSON.parse(e.medianet),this.mOutbrain=JSON.parse(e.outbrain),this.mAutomatad=JSON.parse(e.automatad),this.mDmp=JSON.parse(e.dmp),this.mGDPRCMP=JSON.parse(e.gdprcmp),this.mUSPPrivacy=JSON.parse(e.usprivacy),this.mIsAdmiralAdblockerEnabled=e.isadmiraladblockerenabled,this.mDoubleVerify=JSON.parse(e.doubleverify),this.mPredictive=JSON.parse(e.predictive),this.mSSPconfig=JSON.parse(e.sspconfig),this.mAutoRefreshConfig=JSON.parse(e.autorefreshconfig),this.mDFPConfig=JSON.parse(e.dfpconfig),this.mAddressability=JSON.parse(e.addressability),this.mWebVitalsConfig=JSON.parse(e.webvitalsconfig),this.mMarkitConfig=JSON.parse(e.markit)}return e.prototype.getAdTagName=function(){return this.mAdtagname},e.prototype.getDFPKeyName=function(){return this.mDfpkeyname},e.prototype.getGPTTagType=function(){return this.mGPTTagType},e.prototype.getSiteId=function(){return this.mSiteid},e.prototype.getA9=function(){return this.mA9},e.prototype.getAppnexus=function(){return this.mAppnexus},e.prototype.getOpenx=function(){return this.mOpenx},e.prototype.getPubmatic=function(){return this.mPubmatic},e.prototype.getRubicon=function(){return this.mRubicon},e.prototype.getCriteo=function(){return this.mCriteo},e.prototype.getSovrn=function(){return this.mSovrn},e.prototype.getYieldmo=function(){return this.mYieldmo},e.prototype.get33Across=function(){return this.m33Across},e.prototype.getAol=function(){return this.mAol},e.prototype.getGumgum=function(){return this.mGumgum},e.prototype.getTriplelift=function(){return this.mTriplelift},e.prototype.getAdaptMx=function(){return this.mAdaptmx},e.prototype.getSmartAdServer=function(){return this.mSmartAdServer},e.prototype.getImproveDigital=function(){return this.mImproveDigital},e.prototype.getShareThrough=function(){return this.mShareThrough},e.prototype.getMediaNet=function(){return this.mMediaNet},e.prototype.getOutbrain=function(){return this.mOutbrain},e.prototype.getAutomatad=function(){return this.mAutomatad},e.prototype.getGDPRCMP=function(){return this.mGDPRCMP},e.prototype.getUSPPrivacy=function(){return this.mUSPPrivacy},e.prototype.isAdmiralAdblockerEnabled=function(){return this.mIsAdmiralAdblockerEnabled},e.prototype.getDoubleVerify=function(){return this.mDoubleVerify},e.prototype.getKrux=function(){return this.mKrux},e.prototype.getPredictive=function(){return this.mPredictive},e.prototype.getSSPConfig=function(){return this.mSSPconfig},e.prototype.getAutoRefreshConfig=function(){return this.mAutoRefreshConfig},e.prototype.getDFPConfig=function(){return this.mDFPConfig},e.prototype.getAddressability=function(){return this.mAddressability},e.prototype.getWebVitalsConfig=function(){return this.mWebVitalsConfig},e.prototype.getDmp=function(){return this.mDmp},e.prototype.getMarkitConfig=function(){return this.mMarkitConfig},e}();t.default=i},461:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Util=__webpack_require__(973),Tag=function(){function Tag(pTag,pTagsTotalWeight){this.mTarget={},this.mDFPConfig={},this.mIsSizeMappingValid=!0,this.mIsOOPUnit=!1,this.mIsOOPWIUnit=!1,this.mPublisherKVal=null,this.mIsCollapseEmptyDivEnabled=void 0,this.mIsCollapseDivBeforeAdFetchEnabled=void 0,this.mId=pTag.tagid,this.mType=pTag.type,this.mScript=pTag.script,this.mWeight=pTag.weight,this.mSiteDFPKeyName=pTag.siteDFPKeyName,this.mNativeLayout=pTag.nativelayout,this.mTarget=pTag.target,null!=this.mTarget&&null!=this.mTarget.kval&&(this.mTarget.kval=this.mTarget.kval.split(";")),this.mIsForcedTargetEnabled=pTag.isforcedtargetenabled,this.mGDPRStatus=pTag.gdprstatus,this.mType!=Util.TagType.DISPLAY&&this.mType!=Util.TagType.NATIVE||(this.mAdSize=pTag.adsize,pTag.sizemapping?this.updateSizeMapping(eval(pTag.sizemapping)):this.mPrimaryAdSize=this.calculatePrimaryAdSize(this.mAdSize),null!=pTag.isOOPUnit?this.mIsOOPUnit=pTag.isOOPUnit:"oop"==this.mAdSize&&(this.mIsOOPUnit=!0),null!=pTag.isOOPWIUnit?this.mIsOOPWIUnit=pTag.isOOPWIUnit:"webinterstitial"==this.mAdSize&&(this.mIsOOPWIUnit=!0)),pTag.dfpconfig&&(this.mDFPConfig=JSON.parse(pTag.dfpconfig),this.mDFPConfig&&"CollapseEmptyDiv"in this.mDFPConfig&&(this.mIsCollapseEmptyDivEnabled=this.mDFPConfig.CollapseEmptyDiv),this.mDFPConfig&&"CollapseDivBeforeAdFetch"in this.mDFPConfig&&(this.mIsCollapseDivBeforeAdFetchEnabled=this.mDFPConfig.CollapseDivBeforeAdFetch)),this.mPublisherKVal=pTag.publisherkval,this.mPublisherKVal&&(this.mPublisherKVal=this.mPublisherKVal.trim()),this.mMinWeight=pTagsTotalWeight,this.mMaxWeight=pTagsTotalWeight+this.mWeight}return Tag.prototype.getRenderSizeFromSizeMapping=function(){for(var e,t=Util.Utility.getInstance().getBrowserSize().split("x").map(Number),i=null,r=0;r<this.mSizeMapping.length;++r){var n=this.mSizeMapping[r][0];2==n.length&&t[0]>=n[0]&&t[1]>=n[1]&&(null==e||n[0]>=e[0]&&n[1]>=e[1])&&(e=n,i=0==this.mSizeMapping[r][1].length?"":Util.Utility.getInstance().convertAdSize(this.mSizeMapping[r][1]))}return i},Tag.prototype.calculatePrimaryAdSize=function(e){if(null==e||null==e)return e;var t=e.indexOf(",");return-1!=t?e.substring(0,t):e},Tag.prototype.updateSizeMapping=function(e){try{var t;this.mSizeMapping=e,null!=(t=this.getRenderSizeFromSizeMapping())?this.mAdSize=t:this.mIsSizeMappingValid=!1}catch(e){this.mIsSizeMappingValid=!1}this.mPrimaryAdSize=this.calculatePrimaryAdSize(this.mAdSize)},Tag.prototype.getId=function(){return this.mId},Tag.prototype.getType=function(){return this.mType},Tag.prototype.getScript=function(){return this.mScript},Tag.prototype.getWeight=function(){return this.mWeight},Tag.prototype.getSiteDFPKeyName=function(){return this.mSiteDFPKeyName},Tag.prototype.getTargetName=function(){return this.mTarget?this.mTarget.dfpkeyname:null},Tag.prototype.isForcedTargetEnabled=function(){return this.mIsForcedTargetEnabled},Tag.prototype.getGDPRStatus=function(){return this.mGDPRStatus},Tag.prototype.getAdSize=function(){return this.mAdSize},Tag.prototype.setAdSize=function(e){this.mAdSize=e},Tag.prototype.getSizeMapping=function(){return this.mSizeMapping},Tag.prototype.getPrimaryAdSize=function(){return this.mPrimaryAdSize},Tag.prototype.getTargetKval=function(){return this.mTarget?this.mTarget.kval:null},Tag.prototype.getTargetRule=Tag.prototype.getMinWeight=function(){return this.mMinWeight},Tag.prototype.getMaxWeight=function(){return this.mMaxWeight},Tag.prototype.getDAT=function(){return this.mDAT},Tag.prototype.isOOPUnit=function(){return this.mIsOOPUnit},Tag.prototype.isOOPWIUnit=function(){return this.mIsOOPWIUnit},Tag.prototype.getPublisherKVal=function(){return this.mPublisherKVal},Tag.prototype.isSizeMappingValid=function(){return this.mIsSizeMappingValid},Tag.prototype.isCollapseEmptyDivEnabled=function(){return this.mIsCollapseEmptyDivEnabled},Tag.prototype.isCollapseDivBeforeAdFetchEnabled=function(){return this.mIsCollapseDivBeforeAdFetchEnabled},Tag.prototype.setDAT=function(e){this.mDAT=e},Tag.prototype.enableBottomZoning=function(){"partnercenter"!=this.mTarget.dfpkeyname.toLowerCase()&&this.mTarget.dfpkeyname.indexOf(".bottom")<0&&(this.mTarget.dfpkeyname=this.mTarget.dfpkeyname+".bottom")},Tag.prototype.disableBottomZoning=function(){"partnercenter"!=this.mTarget.dfpkeyname.toLowerCase()&&this.mTarget.dfpkeyname.indexOf(".bottom")>0&&(this.mTarget.dfpkeyname=this.mTarget.dfpkeyname.replace(".bottom",""))},Tag.prototype.overrideTarget=Tag.prototype.overrideTargetKval=function(e){this.mTarget||(this.mTarget={}),this.mTarget.kval=null==e?[]:e.split(";")},Tag.prototype.getNativLayout=function(){return this.mNativeLayout},Tag.prototype.setNativLayout=Tag.prototype.getMinWidthHeight=function(){if(null==this.mAdSize||null==this.mAdSize)return this.mAdSize;var e=this.mAdSize.split(","),t=0,i=0;return e.length>0&&e.forEach((function(e){if(e&&e.indexOf("x")>0){var r=e.split("x"),n=parseInt(r[0]),s=parseInt(r[1]);(n>10&&n<i||0==i)&&(i=n),(s>10&&s<t||0==t)&&(t=s)}})),t>0&&i>0?i+"x"+t:this.mAdSize},Tag}();exports.default=Tag},756:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.mIsPlacementEligibleForRendering=!1;try{var i=JSON.parse(e);this.mLogicalOperator=i.logicalOperator,this.mChildren=i.children,this.mTemplate=t}catch(e){throw new Error(e.message)}}return e.prototype.calculatePlacementEligibility=function(){var e=this.mTemplate.getCustomVariables();if(e&&0!=e.length)try{for(var t=0;t<this.mChildren.length;++t){for(var i=this.mChildren[t].children,r=this.mChildren[t].logicalOperator,n=!1,s=0;s<i.length;++s){var o=e[i[s].operand];if(o){var a=o.getValue();switch(i[s].operator){case"EQUAL":n=""+a==i[s].comparator;break;case"NOT_EQUAL":n=!(!i[s].comparator||""+a==i[s].comparator);break;case"GRATER_THAN":n=a>i[s].comparator;break;case"LESS_THAN":n=a<i[s].comparator;break;case"REG_EX":n=!(!i[s].comparator||!a.match(new RegExp(i[s].comparator,"g")))}if("OR"==r){if(n)break}else if(!n)break}}if(this.mIsPlacementEligibleForRendering=n,"OR"==this.mLogicalOperator){if(this.mIsPlacementEligibleForRendering)break}else if(!this.mIsPlacementEligibleForRendering)break}}catch(e){throw new Error("Error in Placement Targeting: "+e.message)}},e.prototype.isIsPlacementEligibleForRendering=function(){return this.mIsPlacementEligibleForRendering},e.prototype.recalculatePlacementEligibility=function(){this.calculatePlacementEligibility()},e}();t.default=i},23:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)},n=this&&this.__awaiter||s=this&&this.__generator||o=this&&this.__spreadArray||Object.defineProperty(t,"__esModule",{value:!0});var a,l=i(973),d=i(620),m=i(979),c=i(467),u=function(){function e(t,r,n,s){var o=this;this.sha1=i(738),this.Promise=i(702).Promise,this.mPageUrl="",this.mGlobalConfig={},this.mIsDebugModeEnabled=!1,this.mIsUserFromGDPRCountry=!0,this.mIsUserFromUSPState=!0,this.mUSPStatus=l.USPStatus.NOT_APPLICABLE,this.mShowDFPNonPersonalizedAd=!1,this.mAdmiralGdprConsentsKnownKey="IC_CMP_Admiral_ConsentsKnown",this.mAdmiralDfpApplicableKey="IC_CMP_Admiral_DFPApplicable",this.mUSPCookieName="usprivacy",this.mEncryptedEmailStorageName="IC_EN_HM",this.mSovrnDfpKEyValStorageName="IC_SVN",this.mUserTriggeredEncryptionApi=!1,this.mPVLogInterval={},this.mDisabledSsps=[],this.mSspsLogsParams={},this.mIsSingleRequestEnabled=!0,this.mIsInitialLoadDisabled=!0,this.mPlacements=[],this.mTargetData={},this.mKeyVal={},this.mGlobalTarget=null,this.mICFID="",this.mPixelSegment={},this.mPublisherType="ADVANCE",this.mAutoRefreshConfig={},this.mSSPConfig={},this.mPredictiveConfig={},this.mPrebidSSPIgnoreList=[],this.mSSPFetchBidsStartTime=0,this.mAdFormAudienceToken="",this.mAdFormMatchingSegmentIds=[],this.mPublisherKval={},this.mMaxTile=1,this.mPreloads=[],this.mPostloads=[],this.mCustomVariable={},this.mUnrenderedPlacementIds=[],this.mIsAllPlacementRendered=!1,this.mLastDFPCallTime=null,this.mTargetRulesDropped=[],this.mTargetRuleTimeout=0,this.mDoubleVerifyData={},this.mOnViewBuffer=null,this.mOnLoadTagsRender={},this.mRealTimeTagsRender={},this.mCustomTagsToRender={},this.mTagsToRefresh={},this.mCmpVersion=0,this.mCmpConsentDataObject={},this.mCmpVendorConsentDataObject={},this.mCmpTcString="",this.mCmpVersion2NotSuppostedSSPs=[],this.mWaitingForGdprCmpData=!1,this.mIsGDPRApplicable=!1,this.mIsPredictiveEnabled=!1,this.mWaitingForPredictive=!1,this.mFunctionWaitingForPredictive=[],this.mAdvancePlacementsWaitingForTarget=[],this.mAdvancePlacementsWaitingForGdprCmpData=[],this.mNativeLayout={},this.mSponsorPagePath="",this.cFirstPartyId="IC_FID",this.cThirstPartyId="IC_TID",this.cUserCookie="IC_USER_COOKIE",this.mSspAdapterDownloadInterval=10,this.mSspAdapterDownloadTimeout=200,this.sspRotationEnabledSsps=[],this.fetchBidsDelay=!0,this.mSspAdapterDownloadtimer=0,this.mSspFloorPriceConfig={},this.mFloorPriceUrl="",this.mFloorPriceInterval=60,this.s2sBidders=[],this.IsPrebidS2SEnabled=!0,this.mSovrnScriptDropPercentage=0,this.mSovrnUidModuleEnabled=!1,this.mEmptyHashedEmailExpiry=30,this.mValidHashedEmailExpiry=1440,this.mId5UidModule={},this.mConnectUidModule={},this.mZone="",this.tickerConfig={},this.markitDfpKeyname="",this.mLogInterval=3e4,this.mUserTrackingStartTime=(new Date).getTime(),this.mSoftRefresh=0,this.mUserTrackingStartTimePLogs=(new Date).getTime(),this.myWorker=this.createWorker(l.Constant.PREDICTIVE_BASE_URL+"predictive_worker.js"),this.isPredictiveWorkerLoaded=!1,this.workerPredict=function(e){return new Promise((function(t,i){var r=new MessageChannel;r.port1.onmessage=function(e){var n=e.data;r.port1.close(),n.error?i(n.error):t(n[1])},o.myWorker&&null!=o.myWorker&&o.myWorker.postMessage(["Predict",JSON.stringify(e)],[r.port2])}))},this.mUserInactiveTimeAdRefresh=(new Date).valueOf();var a=l.Utility.getInstance();try{var d=a.getFromSessionStorage("ic_uat_debug");d&&"true"==d&&(this.mIsDebugModeEnabled=!0)}catch(e){console.log(e)}if(a.initializeGA(),e.mApiKey=t,e.isTagManagerEnabled=s,this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Template Constructor Called. ApiKey: "+t),r&&"reset"in r&&1==r.reset){this.mSoftRefresh=1;try{delete r.reset}catch(e){}}if(r&&(this.mGlobalConfig=r),this.mGlobalConfig&&"page_url"in this.mGlobalConfig&&0!=this.mGlobalConfig.page_url.indexOf("%%PATTERN:url%%")?(this.mUrl=this.mGlobalConfig.page_url,this.mPageUrl=this.mGlobalConfig.page_url):this.mUrl=l.Utility.window.location.href,this.mDocumentType=e.calculateDocumentType(),this.mReferer=e.calculateReferer(this.mDocumentType),this.mPageType=this.calculatePageType(),this.evaluateReferrerType(),this.mGlobalConfig&&"show_no_ads"in this.mGlobalConfig&&1==this.mGlobalConfig.show_no_ads){this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("show_no_ads flag passed"),e.mPageId=this.generatePageId();var m=l.Utility.getInstance();this.triggerBasicPageLog(-1,!1),m.setGDPRStatus(!0),m.setUSPStatus(l.USPStatus.INPROGRESS)}else{e.mAPIReady=l.APIStatus.INPROGRESS,this.registerGlobalErrorEvent();var c=a.updateUrlIfTranslator(this.mDocumentType,this.mUrl);c&&(this.mUrl=c),this.mICFID=a.getFromLocalStorage(this.cFirstPartyId);var u=a.getFromLocalStorage(this.cUserCookie);u&&null!=u?e.mUserCookieType=u:navigator.cookieEnabled?e.mUserCookieType="fa":e.mUserCookieType="n",this.mICFID||null!==this.mICFID||(this.mICFID=this.generateUUID()),n?(this.createTemplate(n),this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Prepared the page object."),this.mWaitingForGdprCmpData||this.mIsGDPRApplicable||(e.mAPIReady=l.APIStatus.READY,l.Utility.ICJQuery(document).trigger("Callback_ICAPI_Ready"))):this.getTemplateData(e.mApiKey)}}return e.prototype.predictiveReadyCallback=e.prototype.createWorker=function(e){var t=null;try{var i;try{i=new Blob(["importScripts('"+e+"');"],{type:"application/javascript"})}catch(t){console.log("Exception: Worker loaing failed new Blob([importScripts(URL)])",t);var r=new(l.Utility.window.BlobBuilder||l.Utility.window.WebKitBlobBuilder||l.Utility.window.MozBlobBuilder);r.append("importScripts('"+e+"');"),i=r.getBlob("application/javascript")}var n=(window.URL||window.webkitURL).createObjectURL(i);t=new Worker(n)}catch(e){this.mWaitingForPredictive=!1,console.log("Exception: Worker loaing failed completely",e)}return t},e.prototype.dropPredictiveScript=function(){var t=this;this.myWorker&&null!=this.myWorker&&(this.myWorker.onmessage=function(e){"PredictiveInitialized"===e.data[0]&&(t.mWaitingForPredictive=!1,t.isPredictiveWorkerLoaded=!0,t.executePredictiveTimeout())},this.myWorker.postMessage(["apiKey",e.mApiKey]))},e.prototype.predictiveScriptLoaded=function(){var t=this;"undefined"!=typeof IC_Predictive&&(this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Initiating Predictive."),l.Utility.window.ICPredictiveReadyCallback=function(){t.predictiveReadyCallback()},IC_Predictive.initiate(e.mApiKey,l.Constant.PREDICTIVE_BASE_URL+"model/","ICPredictiveReadyCallback"))},e.prototype.registerGlobalErrorEvent=function(){l.Utility.ICJQuery(document).on("IC_JSErrorEvent",(function(e,t){!t&&e&&e.detail&&(t=e.detail)}))},e.prototype.registerUnloadEvent=function(){var t=this;l.Utility.ICJQuery(window).on("load",(function(){onbeforeunload=function(){var i=t;e.mPrivacy.GDPR!=a.PENDING&&e.mPrivacy.GDPR!=a.DENIED&&i.triggerUserTrackingLogs(!0,i),setTimeout((function(){i.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage(" Windows unloading initiated.")}),1e3)}}))},e.prototype.getTemplateData=function(t){var i=this,r="",n=l.Utility.getInstance();try{r=n.getFromLocalStorage(this.mAdmiralGdprConsentsKnownKey)}catch(e){console.log(e)}var s="";try{s=l.Utility.getInstance().getUspString(this.mUSPCookieName,!0)}catch(e){console.log(e)}try{var o=l.Constant.UAT_DATA_URL+"/"+t+"?browsersize="+l.Utility.getInstance().getBrowserSize();if(-1==navigator.userAgent.toUpperCase().indexOf("TRIDENT/")){var a=window.location.search,d=new URLSearchParams(a),m=d.get("icfiltertype");if(m&&"performance"==m){var c=d.get("icfilter");c&&(o+="&icfilter="+c+"&icfiltertype="+m)}}o+="&consentsknown="+r+"&usprivacy="+s,this.mGlobalConfig&&"gdpr_applies"in this.mGlobalConfig&&(o+="&gdprapplies="+encodeURIComponent(this.mGlobalConfig.gdpr_applies)),this.mGlobalConfig&&"page_category"in this.mGlobalConfig&&(o+="&pagecategory="+encodeURIComponent(this.mGlobalConfig.page_category.toLowerCase())),o+="&pageurl="+encodeURIComponent(this.mUrl),l.Utility.ICJQuery.support.cors=!0,l.Utility.ICJQuery.ajax({url:o,async:!0,dataType:"json",xhrFields:{withCredentials:!0},type:"GET",success:function(t){t?(i.createTemplate(t),i.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Prepared the page object."),i.mWaitingForGdprCmpData||i.mIsGDPRApplicable||(e.mAPIReady=l.APIStatus.READY,l.Utility.ICJQuery(document).trigger("Callback_ICAPI_Ready"))):(i.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Received invalid data from Server"),l.Utility.getInstance().ic_ga_event("Info","Template.getTemplateData","Getting empty data response"))},error:function(e,t,r){i.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Template.getTemplateData: ",r),0===e.status?l.Utility.getInstance().ic_ga_event("Error","Template.getTemplateData","Server returned with status code: "+e.status+" and error message: "+e.statusText):l.Utility.getInstance().ic_ga_event("Error","Template.getTemplateData",e.status+": "+e.statusText+" : "+e.responseText+" $# "+t+" $# "+r)}})}catch(e){console.log("Gettemplatedata :: error: ",e),l.Utility.getInstance().ic_ga_event("Error","Template.getTemplateData",e.message)}},e.triggerTickerApi=function(t,i,r){return n(this,void 0,void 0,(function(){var r;return s(this,(function(n){try{if(i&&l.Utility.getInstance().debugConsoleMessage("getTickerKeyValue :: tickers :: "+t),!t||""==t||null==t||t.length<=0)return[2,e.mTickerKeyValues];if(!(Object.keys(e.mTickerKeyValues).length<=0))return[2,e.mTickerKeyValues];r=l.Constant.UAT_TICKER_KEYVALUE_URL+t,l.Utility.ICJQuery.support.cors=!0,l.Utility.ICJQuery.ajax({url:r,async:!0,dataType:"json",xhrFields:{withCredentials:!0},type:"GET",success:function(r){if(r){try{"keyValues"in r&&(e.mTickerKeyValues=r.keyValues)}catch(e){i&&l.Utility.getInstance().debugConsoleMessage("getTickerKeyValue :: Issue in response Data :: "+r)}return e.mTickerKeyValues}i&&l.Utility.getInstance().debugConsoleMessage("triggerTickerApi :: Received invalid data from Server :: "+r),l.Utility.getInstance().ic_ga_event("Error","Template.triggerTickerApi","Received invalid data from Server for : "+t)},error:function(e,i,r){0===e.status?l.Utility.getInstance().ic_ga_event("Error","Template.triggerTickerApi","Server returned with status code: "+e.status+" and error message: "+e.statusText):l.Utility.getInstance().ic_ga_event("Error","Template.triggerTickerApi","Status: "+e.status+"  Status Text: "+e.statusText+" Response Text: "+e.responseText+" $# "+i+"Ticker: "+t+" $# "+r)}})}catch(t){return i&&l.Utility.getInstance().debugConsoleMessage("ERROR : getTickerKeyValue :: "+t),[2,e.mTickerKeyValues]}return[2]}))}))},e.getTickerKeyValue=function(){return e.mTickerKeyValues},e.prototype.checkAndLoadSSPLib=function(e){try{var t=e+"BidAdapter.js",i="IC_BidAdapterScript_"+e,r=l.Constant.UAT_PREBID_VERSION_URL+t;l.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,i,this.mIsDebugModeEnabled)||l.Utility.getInstance().dropScripts(this.mDocumentType,r,t,this.mIsDebugModeEnabled,i,!0,!1)}catch(e){}},e.prototype.dropSovrnScript=function(e){var t=!1;if(1==e?1==l.Utility.getInstance().calculateRandomAppliedPercentage(this.mSovrnScriptDropPercentage)&&(t=!0):t=!0,1==t&&this.mSovrnUidModuleEnabled)try{var i="sovrnScript",r=l.Constant.SOVRN_UID_SOLTUION_URL;l.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,i,this.mIsDebugModeEnabled)||l.Utility.getInstance().dropScripts(this.mDocumentType,r,"Sovrn Script js",this.mIsDebugModeEnabled,i,!1,!0)}catch(e){}},e.prototype.dropId5Script=function(){if("IsEnabled"in this.mId5UidModule&&1==this.mId5UidModule.IsEnabled)try{var e="Id5Script",t=l.Constant.ID5_UID_SOLTUION_URL;l.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,e,this.mIsDebugModeEnabled)||l.Utility.getInstance().dropScripts(this.mDocumentType,t,"ID5 Script js",this.mIsDebugModeEnabled,e,!1,!0)}catch(e){}},e.prototype.dropConnectUidScript=function(){if("IsEnabled"in this.mConnectUidModule&&1==this.mConnectUidModule.IsEnabled){var t=e.getConnectUserId();if(""==t||null==t)try{this.dropUserIdScript(),e.mConnectUidEnabled=!0;var i="connectIdSystem.js",r="ConnectIDScript",n=l.Constant.UAT_PREBID_VERSION_URL+i;l.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,r,this.mIsDebugModeEnabled)||l.Utility.getInstance().dropScripts(this.mDocumentType,n,i,this.mIsDebugModeEnabled,r,!1,!0)}catch(e){}}},e.prototype.dropUserIdScript=function(){try{var e="userId.js",t="UserIDScript",i=l.Constant.UAT_PREBID_VERSION_URL+e;l.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,t,this.mIsDebugModeEnabled)||l.Utility.getInstance().dropScripts(this.mDocumentType,i,e,this.mIsDebugModeEnabled,t,!1,!0)}catch(e){}},e.getConnectUserId=function(){var e="",t=l.Utility.getInstance();if(t.isLocalStorageSupported())try{var i=t.getFromLocalStorage(this.mConnectIdLocalStorageName);if(null!=i&&""!=i){var r=JSON.parse(decodeURIComponent(i));"connectid"in r&&(e=r.connectid)}}catch(t){console.log("getHashedEmailFromLocalStorage : ERROR :: strHashedEmail "+e+" :: ERROR :: "+t)}return e},e.prototype.getTargetKvalData=function(e,t,i){var r=this;return void 0===t&&(t=!1),null==this.mGlobalTarget&&null==this.mGlobalTarget&&(e in this.mTargetData||(this.mTargetData[e]={Status:"IN-PROGRESS",Data:null},l.Utility.ICJQuery.ajax({url:l.Constant.UAT_TARGET_KVAL_URL+e,async:!0,type:"GET",success:function(e){return n(r,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.updateTargetKval(e)];case 1:return t.sent(),[2]}}))}))},error:function(){r.mTargetData[e].Status="FAILED",t?r.pushPlacementErrorLog(null,l.PlacementType.HTML,null,"ADVANCE",l.ErrorType.PAGE_DEFINEOOPTAG_TARGET_NOT_FOUND,l.ErrorType.PAGE_DEFINEOOPTAG_TARGET_NOT_FOUND.toString()+"("+e+")"):i?r.pushPlacementErrorLog(null,l.PlacementType.HTML,null,"ADVANCE",l.ErrorType.PAGE_DEFINENATIVETAG_TARGET_NOT_FOUND,l.ErrorType.PAGE_DEFINENATIVETAG_TARGET_NOT_FOUND.toString()+"("+e+")"):r.pushPlacementErrorLog(null,l.PlacementType.HTML,null,"ADVANCE",l.ErrorType.PAGE_DEFINETAG_TARGET_NOT_FOUND,l.ErrorType.PAGE_DEFINETAG_TARGET_NOT_FOUND.toString()+"("+e+")")}})),!0)},e.prototype.getNativeLayoutData=function(e){var t=this;return e in this.mNativeLayout||(this.mNativeLayout[e]={Status:"IN-PROGRESS",Data:null},l.Utility.ICJQuery.ajax({url:l.Utility.FormatString(l.Constant.UAT_NATIVELAYOUT_URL,this.mSite.getSiteId().toString(),e.toString()),async:!0,type:"GET",success:function(e){return n(t,void 0,void 0,()},error:function(){t.mNativeLayout[e].Status="FAILED",t.pushPlacementErrorLog(null,l.PlacementType.HTML,null,"ADVANCE",l.ErrorType.PAGE_DEFINENATIVETAG_LAYOUT_NOT_FOUND,l.ErrorType.PAGE_DEFINENATIVETAG_LAYOUT_NOT_FOUND.toString()+"("+e+")")}})),!0},e.prototype.prepareListOfEnabledS2sSsp=function(){try{if(!this.IsPrebidS2SEnabled)return void(this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Prebid S2S is Disabled"));for(var t=d.SSP.getListOfSsps(),i=0;i<t.length;){var r=t[i];if(this.sspRotationEnabledSsps.indexOf(r)>-1)i++;else{switch(r){case"appnexus":var n=this.mSite.getAppnexus();"IsEnabled"in n&&1==n.IsEnabled&&"IsS2SEnabled"in n&&1==n.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareAppnexusConfig(!0));break;case"rubicon":var s=this.mSite.getRubicon();"IsEnabled"in s&&1==s.IsEnabled&&"IsS2SEnabled"in s&&1==s.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareRubiconConfig(!0));break;case"pubmatic":var o=this.mSite.getPubmatic();"IsEnabled"in o&&1==o.IsEnabled&&"IsS2SEnabled"in o&&1==o.IsS2SEnabled&&(this.s2sBidders.push(r),this.preparePubmaticConfig(!0));break;case"openx":var a=this.mSite.getOpenx();"IsEnabled"in a&&1==a.IsEnabled&&"IsS2SEnabled"in a&&1==a.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareOpenxConfig(!0));break;case"criteo":var m=this.mSite.getCriteo();"IsEnabled"in m&&1==m.IsEnabled&&"IsS2SEnabled"in m&&1==m.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareCriteoConfig(!0));break;case"sovrn":var c=this.mSite.getSovrn();"IsEnabled"in c&&1==c.IsEnabled&&"IsS2SEnabled"in c&&1==c.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareSovrnConfig(!0));break;case"yieldmo":var u=this.mSite.getYieldmo();"IsEnabled"in u&&1==u.IsEnabled&&"IsS2SEnabled"in u&&1==u.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareYieldmoConfig(!0));break;case"aol":var p=this.mSite.getAol();"IsEnabled"in p&&1==p.IsEnabled&&"IsS2SEnabled"in p&&1==p.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareAolConfig(!0));break;case"gumgum":var h=this.mSite.getGumgum();"IsEnabled"in h&&1==h.IsEnabled&&"IsS2SEnabled"in h&&1==h.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareGumgumConfig(!0));break;case"triplelift":var g=this.mSite.getTriplelift();"IsEnabled"in g&&1==g.IsEnabled&&"IsS2SEnabled"in g&&1==g.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareTripleliftConfig(!0));break;case"smartadserver":var f=this.mSite.getSmartAdServer();"IsEnabled"in f&&1==f.IsEnabled&&"IsS2SEnabled"in f&&1==f.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareSmartAdServerConfig(!0));break;case"33across":var S=this.mSite.get33Across();"IsEnabled"in S&&1==S.IsEnabled&&"IsS2SEnabled"in S&&1==S.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepare33AcrossConfig(!0));break;case"improvedigital":var y=this.mSite.getImproveDigital();"IsEnabled"in y&&1==y.IsEnabled&&"IsS2SEnabled"in y&&1==y.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareImproveDigitalConfig(!0));break;case"sharethrough":var b=this.mSite.getShareThrough();"IsEnabled"in b&&1==b.IsEnabled&&"IsS2SEnabled"in b&&1==b.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareShareThroughConfig(!0));break;case"medianet":var T=this.mSite.getMediaNet();"IsEnabled"in T&&1==T.IsEnabled&&"IsS2SEnabled"in T&&1==T.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareMediaNetConfig(!0));break;case"outbrain":var I=this.mSite.getOutbrain();"IsEnabled"in I&&1==I.IsEnabled&&"IsS2SEnabled"in I&&1==I.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareOutbrainConfig(!0));break;case"adaptmx":var v=this.mSite.getAdaptMx();"IsEnabled"in v&&1==v.IsEnabled&&"IsS2SEnabled"in v&&1==v.IsS2SEnabled&&(this.s2sBidders.push("amx"),this.prepareAdaptmxConfig(!0));break;case"automatad":var P=this.mSite.getAutomatad();"IsEnabled"in P&&1==P.IsEnabled&&"IsS2SEnabled"in P&&1==P.IsS2SEnabled&&(this.s2sBidders.push(r),this.prepareAutomatAdConfig(!0))}i++}}e.s2sBiddersList=this.s2sBidders,this.s2sBidders.length>0&&this.checkAndLoadSSPLib("prebidServer"),this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("List of Ssp with S2S Enabled ",[this.s2sBidders])}catch(e){}},e.prototype.createTemplate=function(t){var i=this;try{e.setUserActiveTime(),this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("pvlogs initiated at :: "+new Date),e.mPageId&&0!=e.mPageId.length||(e.mPageId=this.generatePageId());var r=t;this.cSite=new m.CSite(r.common),this.uSite=new m.USite(r.user),this.mDeviceType=l.DeviceType[this.uSite.getdevice()],this.mCountryCode=this.uSite.getgeo(),this.mRegions=this.uSite.getregion(),this.mBrowser=this.uSite.getbrowser(),this.mSite=new m.Site(r.site);var n=this.mSite.getSSPConfig();if(this.mPredictiveConfig=this.mSite.getPredictive(),""!=this.cSite.getglobalTarget()&&null!=this.cSite.getglobalTarget())try{var s=this.cSite.getglobalTarget();"dfpkeyname"in s&&(this.mZone=s.dfpkeyname)}catch(e){}try{if("SChain"in n){var o=JSON.parse(n.SChain);"config"in o&&(e.schainConfig=o,this.dropSchainScript())}}catch(e){}try{var d=this.mSite.getMarkitConfig();"IsEnabled"in d&&1==d.IsEnabled&&(e.markitEnabled=!0,"DfpKeyname"in d&&(this.markitDfpKeyname=d.DfpKeyname))}catch(e){}try{"ticker_config"in r.uatConfig&&(this.tickerConfig=JSON.parse(r.uatConfig.ticker_config))}catch(e){}if("PrebidDedicatedDFPKVAL"in n&&(this.mPrebidSSPIgnoreList=n.PrebidDedicatedDFPKVAL.split(",")),"StackedUnit"in n){var c=JSON.parse(n.StackedUnit);c&&"vertical_enabled"in c&&(e.mStackServeVerticalEnabled=c.vertical_enabled),c&&"horizontal_enabled"in c&&(e.mStackServeHorizontalEnabled=c.horizontal_enabled)}"SspAdapterDownloadTimeout"in n&&(this.mSspAdapterDownloadTimeout=JSON.parse(n.SspAdapterDownloadTimeout)),"SspAdapterDownloadInterval"in n&&(this.mSspAdapterDownloadInterval=JSON.parse(n.SspAdapterDownloadInterval));var u=this.mSite.getAddressability();if("IsEnabled"in u&&1==u.IsEnabled&&"SovrnUidModule"in u){var p=u.SovrnUidModule;"IsEnabled"in p&&1==p.IsEnabled&&(this.mSovrnUidModuleEnabled=p.IsEnabled,e.mUid=this.uSite.getuid(),"ScriptDropPercentage"in p&&(this.mSovrnScriptDropPercentage=p.ScriptDropPercentage),"EmptyHashedEmailExpiry"in p&&(this.mEmptyHashedEmailExpiry=p.EmptyHashedEmailExpiry),"ValidHashedEmailExpiry"in p&&(this.mValidHashedEmailExpiry=p.ValidHashedEmailExpiry),"StorageName"in p&&""!=p.StorageName&&(e.mPubCommonIdLocalStorageName=p.StorageName))}"IsEnabled"in u&&1==u.IsEnabled&&"Id5UidModule"in u&&(this.mId5UidModule=u.Id5UidModule),"IsEnabled"in u&&1==u.IsEnabled&&"ConnectUidModule"in u&&(this.mConnectUidModule=u.ConnectUidModule,"IsEnabled"in this.mConnectUidModule&&1==this.mConnectUidModule.IsEnabled&&this.dropUserIdScript()),"FloorConfig"in n&&(this.mSspFloorPriceConfig=n.FloorConfig,"IsEnabled"in this.mSspFloorPriceConfig&&1==this.mSspFloorPriceConfig.IsEnabled&&(e.mIsFloorPriceEnabled=this.mSspFloorPriceConfig.IsEnabled,"UpdateBidFloorInterval"in this.mSspFloorPriceConfig&&(this.mFloorPriceInterval=+this.mSspFloorPriceConfig.UpdateBidFloorInterval),"Sampling"in this.mSspFloorPriceConfig&&(e.mFloorSampling=this.mSspFloorPriceConfig.Sampling),"Url"in this.mSspFloorPriceConfig&&(this.mFloorPriceUrl=this.mSspFloorPriceConfig.Url)));var h=-1;"template"in r&&"templateid"in r.template&&(h=r.template.templateid),e.mUid=this.uSite.getuid(),this.getListOfDisabledSSPs(n),this.mUserActivityThrottlerEvent=function(){i.userActivityThrottler()},this.activateActivityTracker(this.mUserActivityThrottlerEvent),this.calculateIsPredictiveEnable()&&(this.dropPredictiveScript(),"Sizes"in this.mPredictiveConfig&&(this.mPredictiveAdSizes=this.mPredictiveConfig.Sizes.split(",")),"Threshold"in this.mPredictiveConfig&&(this.mSspHVPredictiveThreshold=this.mPredictiveConfig.Threshold),"undefined"!=typeof IC_Predictive&&("undefined"==typeof IC_Predictive||"INPROGRESS"!=IC_Predictive.getStatus()&&"UNKNOWN"!=IC_Predictive.getStatus())||(this.mWaitingForPredictive=!0)),this.mIsUserFromUSPState=JSON.parse(this.uSite.getfromUspState());var g=this.mSite.getUSPPrivacy().IsIcUspEnabled;if(this.mSite.getUSPPrivacy().IsEnabled){var f=this.calculateUspString(this.mIsUserFromUSPState,this.mSite.getUSPPrivacy().IsUspOptoutAvailable,g);this.mUSPString=f.uspString,this.mUSPStatus=this.calculateUspStatus(),f.updateCookie&&this.saveUspStringToStorage(g),this.dropUSPWindowFunction(g)}else this.mUSPString="",this.mUSPStatus=l.USPStatus.NOT_APPLICABLE;e.mPrivacy.CCPA=this.mUSPString;try{this.mIsDebugModeEnabled&&(l.Utility.getInstance().debugConsoleMessage("USP String calculated successfully ",[this.mUSPString]),l.Utility.getInstance().debugConsoleMessage("USP Status is ",[this.mUSPStatus]))}catch(e){}if(this.dropUSPWindowFunction(g),this.mIsUserFromGDPRCountry=JSON.parse(this.uSite.getfromGDPRCountry()),this.mIsUserFromGDPRCountry||this.mGlobalConfig&&"gdpr_applies"in this.mGlobalConfig){if(this.mDocumentType==l.DocumentType.IFRAME)return l.Utility.getInstance().setGDPRStatus(!0),l.Utility.getInstance().setUSPStatus(l.USPStatus.INPROGRESS),e.mPrivacy.GDPR=a.PENDING,void this.triggerBasicPageLog(h,!0);this.processForGdpr(r)}else{e.mPrivacy.GDPR=a.NOTAPPLICABLE;try{this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("GDPR CMP is not applicable.")}catch(e){console.log(e)}this.processData(r,this.uSite.getdevice(),this.mCountryCode),this.queueProcessed()}this.triggerBasicPageLog(h,!0)}catch(e){console.log("create template :: error :: ",e),l.Utility.getInstance().ic_ga_event("Error","Template.createTemplate",e.message)}},e.prototype.fetchFloorPricePeriodically=function(){var t=this;if(this.mFloorPriceInterval>0){var i=60*this.mFloorPriceInterval*1e3;try{clearInterval(e.mfloorPriceFloorIntervalInstance)}catch(e){}e.mfloorPriceFloorIntervalInstance=setInterval((,i)}},e.prototype.processForGdpr=function(t){this.mCmpVersion2NotSuppostedSSPs=this.mSite.getGDPRCMP().non_supported_ssp?this.mSite.getGDPRCMP().non_supported_ssp.toLowerCase().split(","):[];var i=l.Utility.getInstance(),r=this.mSite.getGDPRCMP();r.adTagName=this.mSite.getAdTagName();var n=d.GdprCmp.prepareInstance(r,i,this.mIsDebugModeEnabled,this.mDocumentType,this.mIsUserFromGDPRCountry),s=!1;if(n.isAnyCMPEnabled())if(this.isGdprConsentsKnown())if(this.isGdprDfpApplicable()){e.mPrivacy.GDPR=a.APPROVED;var o=n.getCmpData();this.mCmpVersion=o.cmpVersion,this.mCmpTcString=o.tcString,this.mCmpGdprApplies="true"==o.gdprApplies;try{this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("GDPR CMP is applicable, user has given consent and DFP is also applicable.")}catch(e){console.log(e)}this.processData(t,this.uSite.getdevice(),this.mCountryCode),this.queueProcessed()}else{e.mPrivacy.GDPR=a.DENIED,this.mIsGDPRApplicable=!0,this.mUSPStatus=l.USPStatus.INPROGRESS,s=!0;try{this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("GDPR CMP is applicable, user has given consent but DFP is Not applicable.")}catch(e){console.log(e)}}else{e.mPrivacy.GDPR=a.PENDING,this.mIsGDPRApplicable=!0,this.mUSPStatus=l.USPStatus.INPROGRESS,s=!0;try{this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("GDPR CMP, waiting for user consents.")}catch(e){console.log(e)}this.mWaitingForGdprCmpData=!0,n.registerGdprCmpCallback(this.gdprCmpCallback.bind(this),t)}else{e.mPrivacy.GDPR=a.PENDING,this.mUSPStatus=l.USPStatus.INPROGRESS,this.mWaitingForGdprCmpData=!0,this.mIsGDPRApplicable=!0,s=!0;try{this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Publisher GDPR CMP, waiting for user consents.")}catch(e){console.log(e)}n.publisherCmpGetConsents(this.publisherGdprCmpCallback.bind(this),t)}s&&(l.Utility.getInstance().setGDPRStatus(this.mIsGDPRApplicable),l.Utility.getInstance().setUSPStatus(this.mUSPStatus))},e.prototype.triggerBasicPageLog=function(t,i){var r=e.getDropScriptWindow();if(!r.IC_PAGE_LOG_FIRED||this.mDocumentType==l.DocumentType.IFRAME){var n=l.Utility.getInstance(),s=this.getPageLog(t,i);n.preparePageLog(s),n.triggerPageLog(),r.IC_PAGE_LOG_FIRED=!0}},e.prototype.isGdprConsentsKnown=function(){var e="",t=l.Utility.getInstance();try{e=t.getFromLocalStorage(this.mAdmiralGdprConsentsKnownKey)}catch(e){console.log(e)}return!(!e||"true"!=e.toLowerCase())},e.prototype.isGdprDfpApplicable=function(){var e=l.Utility.getInstance();try{var t=e.getFromLocalStorage(this.mAdmiralDfpApplicableKey);if("true"==t.toLowerCase())return!0;if("false"==t.toLowerCase())return!1}catch(e){console.log(e)}return!0},e.prototype.publisherGdprCmpCallback=function(t,i){this.mCmpVersion=i.cmpVersion,this.mCmpTcString=i.tcString,this.mCmpGdprApplies="true"==i.gdprApplies,this.mWaitingForGdprCmpData=!1,this.mIsGDPRApplicable=!1,l.Utility.getInstance().setGDPRStatus(!1),this.mUSPStatus=l.USPStatus.NOT_APPLICABLE,l.Utility.getInstance().setUSPStatus(this.mUSPStatus),this.mAdvancePlacementsWaitingForGdprCmpData&&this.mAdvancePlacementsWaitingForGdprCmpData.length>0&&this.renderAdvancePlacements(this.mAdvancePlacementsWaitingForGdprCmpData),e.mPrivacy.GDPR=a.APPROVED,this.processData(t,this.uSite.getdevice(),this.mCountryCode),this.queueProcessed(),e.mAPIReady=l.APIStatus.READY,l.Utility.ICJQuery(document).trigger("Callback_ICAPI_Ready")},e.prototype.gdprCmpCallback=function(t){var i=this.isGdprDfpApplicable();try{this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("GDPR CMP, received user consents and DFP is "+(i?"Applicable.":"Not applicable."))}catch(e){console.log(e)}if(i){e.mPrivacy.GDPR=a.APPROVED;var r=d.GdprCmp.getInstance().getCmpData();this.publisherGdprCmpCallback(t,r)}else e.mPrivacy.GDPR=a.DENIED},e.prototype.calculateIsPredictiveEnable=function(){return this.mSite.getPredictive()&&this.mSite.getPredictive().IsEnabled?(this.mIsPredictiveEnabled=!0,!0):(this.mIsPredictiveEnabled=!1,!1)},e.prototype.isPredictiveEnabled=function(){return this.mIsPredictiveEnabled},e.prototype.dropUSPWindowFunction=function(e){var t=this;e&&"function"!=typeof l.Utility.window.__uspapi&&(l.Utility.window.__uspapi=function(e,i,r){if("function"==typeof r)return"getUSPData"!==e?r({},!1):r({version:1,uspString:t.mUSPString},!0)})},e.prototype.calculateUspString=function(e,t,i){var r=l.Utility.getInstance().getUspString(this.mUSPCookieName,i),n=!0;return null!=r&&""!=r?(!t&&e&&"N"===r.substring(2,3)&&(r="1NYY",n=!1),e||(n=!1),{uspString:r,updateCookie:n}):(r="1---",e&&(t?r=i?"1YNY":"1YYY":(r="1NYY",n=!1)),{uspString:r,updateCookie:n})},e.prototype.calculateUspStatus=function(){return this.mUSPString&&"Y"!==this.mUSPString.substring(2,3)?l.USPStatus.NOT_APPLICABLE:l.USPStatus.APPLICABLE},e.prototype.saveUspStringToStorage=function(e){var t=l.Utility.getInstance();if(e){var i=2592e3;this.mUSPStatus==l.USPStatus.APPLICABLE&&(i=31536e3),t.saveToLocalStorage(this.mUSPCookieName,this.mUSPString),t.saveToCookie(this.mUSPCookieName,this.mUSPString,i)}},e.checkAndImplementLiveramIdentityLink=function(e){if(""!=e&&null!=e&&"IsEnabled"in e&&1==e.IsEnabled){if(this.isPubmaticIdSolutionEnabled(e))return!1;if(this.isLiverampEnabled(e))return!0}return!1},e.isLiverampEnabled=function(e){if("liverampidentitylink"in e&&null!=e.liverampidentitylink&&""!=e.liverampidentitylink){var t=e.liverampidentitylink;if("IsEnabled"in t&&1==t.IsEnabled&&"pid"in t&&null!=t.pid&&""!=t.pid&&"url"in t&&""!=t.url&&null!=t.url&&"storage"in t){var i=t.storage;if("expiry"in i&&"refresh"in i&&"type"in i&&"name"in i&&""!=i.name&&null!=i.name&&""!=i.type&&null!=i.type&&""!=i.expiry&&null!=i.expiry&&""!=i.refresh&&null!=i.refresh)return!0}}return!1},e.isPubmaticCookieEnabled=function(e){if("pubmatic_cookie"in e&&null!=e.pubmatic_cookie&&""!=e.pubmatic_cookie){var t=e.pubmatic_cookie;if("IsEnabled"in t&&1==t.IsEnabled&&"cookieurl"in t&&null!=t.cookieurl)return!0}return!1},e.isPubmaticIdSolutionEnabled=function(e){if("pubmatic"in e&&null!=e.pubmatic&&""!=e.pubmatic){var t=e.pubmatic;if("IsEnabled"in t&&1==t.IsEnabled&&"profileId"in t&&null!=t.profileId&&""!=t.profileId&&"partnerId"in t&&""!=t.partnerId&&null!=t.partnerId)return!0}return!1},e.prototype.dropPubmaticCookieScripts=function(){if(""!=this.mSite.getAddressability()&&null!=this.mSite.getAddressability()){var t=this.mSite.getAddressability();if("IsEnabled"in t&&1==t.IsEnabled&&e.isPubmaticCookieEnabled(t)){var i=t.pubmatic_cookie,r=l.Constant.PM_UID_IFRAME_URL+"?pubmaticuid=PM_UID&ord=".concat(this.getPageId(),"&gdprapplicable=").concat(this.mIsGDPRApplicable,"&uspstatus=").concat(this.mUSPStatus);if(document.getElementById("IC_PM_Uid_Iframe"))return;var n=document.createElement("iframe");n.id="IC_PM_Uid_Iframe",n.style.display="none",n.width="1",n.height="1",n.src=i.cookieurl+"&&predirect="+encodeURIComponent(r)+"&userIdMacro=PM_UID",document.body?document.body.appendChild(n):this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("dropPubmaticCookieScripts method failed because document.body is null or undefiened")}}},e.prototype.dropUserIdentityScripts=function(){if(-1==navigator.userAgent.toUpperCase().indexOf("TRIDENT/")&&""!=this.mSite.getAddressability()&&null!=this.mSite.getAddressability()){var t=this.mSite.getAddressability();if("IsEnabled"in t&&1==t.IsEnabled){var i=!1;if(e.isPubmaticIdSolutionEnabled(t)){i=!0;var r=t.pubmatic;this.dropPubmaticIdentityScript(r.partnerId,r.profileId)}if(e.isLiverampEnabled(t)){var n=t.liverampidentitylink;i||this.dropIdentityLinkIdSystemScript(),this.dropLiverampIdentityScript(n.url)}}}},e.prototype.dropLiverampIdentityScript=function(e){try{l.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,"IC_ats",this.mIsDebugModeEnabled)||l.Utility.getInstance().dropScripts(this.mDocumentType,e,"ats.js",this.mIsDebugModeEnabled,"IC_ats",!1,!0)}catch(e){}},e.prototype.dropIdentityLinkIdSystemScript=function(){var e="identityLinkIdSystem.js",t=l.Constant.UAT_PREBID_VERSION_URL+e;l.Utility.getInstance().dropScripts(this.mDocumentType,t,e,this.mIsDebugModeEnabled,"IC_BidAdapterScript_identityLinkIdSystem",!0,!1)},e.prototype.dropPubmaticIdentityScript=function(e,t){try{var i=window.location.href,r="";if(i.indexOf("pwtv=")>0){var n=/pwtv=(.*?)(&|$)/g.exec(i);n.length>=2&&n[1].length>0&&(r="/"+n[1])}if(!l.Utility.getInstance().isJsFileExistsInDom(this.mDocumentType,"IC_pwt",this.mIsDebugModeEnabled)){var s=l.Constant.PUBMATIC_ID_SOLUTION_URL+e+"/"+t+r+"/pwt.js";l.Utility.getInstance().dropScripts(this.mDocumentType,s,"pwt.js",this.mIsDebugModeEnabled,"IC_pwt",!0,!1)}}catch(e){}},e.prototype.dropSchainScript=function(){var e="schain.js",t=l.Constant.UAT_PREBID_VERSION_URL+e;l.Utility.getInstance().dropScripts(this.mDocumentType,t,e,this.mIsDebugModeEnabled,"IC_Schain",!0,!1)},e.prototype.processData=function(t,i,r){var n=this;this.registerUnloadEvent(),this.setSovrnUidDfpKeyVal(!1,!0);var s="0";try{if(l.Utility.getInstance().setUSPStatus(this.mUSPStatus),this.mUSPStatus==l.USPStatus.NOT_APPLICABLE){try{l.Utility.getInstance().dropICUidIframe()}catch(e){this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("dropICUidIframe method failed. Error Msg: "+e.message),this.mDropICUidIframeEvent=document.addEventListener("DOMContentLoaded",this.mDropICUidIframeEvent,!1)}l.Utility.getInstance().requestUid(this.userIdCallback.bind(this),this.mIsDebugModeEnabled)}s="1.1";var o=this.mSite.getDmp();if("AdForm"in o){var a=o.AdForm;"IsEnabled"in a&&1==a.IsEnabled&&(d.DMP.getInstance().dropAdFormUidScript(this.mDocumentType,this.mIsDebugModeEnabled),d.DMP.getInstance().dropAdFormAudienceScript(this.mDocumentType,this.mIsDebugModeEnabled),"Segments"in a&&(e.mAdFormGlobalSegments=a.Segments),"TrackingId"in a&&(e.mAdFormTrackingId=a.TrackingId,d.DMP.getInstance().dropAdFormTrackingScript(this.mDocumentType,this.mIsDebugModeEnabled,this.getPageNameForAdForm(),e.mAdFormTrackingId)),"AudienceToken"in a&&(this.mAdFormAudienceToken=a.AudienceToken),this.activateAdForm(),this.initializeAdForm(),e.mIsAdformEnabled=!0,e.mIsAdformDropped=!0)}s="1.2",this.mGlobalTarget=null,this.mPixelSegment=null,""!=this.cSite.getglobalTarget()&&null!=this.cSite.getglobalTarget()&&(this.mGlobalTarget=this.cSite.getglobalTarget()),this.mAutoTargetStatus=this.cSite.getautoTargetStatus(),null!=this.cSite.getkeyValues()&&""!=this.cSite.getkeyValues()&&(this.mKeyVal=JSON.parse(this.cSite.getkeyValues())),s="2",""!=this.cSite.getpixelSegment()&&null!=this.cSite.getpixelSegment()&&(this.mPixelSegment=this.cSite.getpixelSegment()),s="3";var c=t.template;if(this.mIsSingleRequestEnabled=c.singleRequestEnabled,this.mIsInitialLoadDisabled=c.initialLoadDisabled,this.mSponsorPagePath=c.sponsorPagePath,s="4",d.DATManager.dropDFPScript(this.mIsDebugModeEnabled),this.mDocumentType==l.DocumentType.IFRAME){var u=document.referrer;this.mPageUrl&&this.mPageUrl.length>0&&(u=this.mPageUrl),d.DATManager.createInstance(this.mIsSingleRequestEnabled,this.singleRequestCallback.bind(this),this.mIsInitialLoadDisabled,this.mShowDFPNonPersonalizedAd,this.mUSPStatus!=l.USPStatus.NOT_APPLICABLE,this.mSite.getGPTTagType(),l.Utility.getInstance(),this,u)}else d.DATManager.createInstance(this.mIsSingleRequestEnabled,this.singleRequestCallback.bind(this),this.mIsInitialLoadDisabled,this.mShowDFPNonPersonalizedAd,this.mUSPStatus!=l.USPStatus.NOT_APPLICABLE,this.mSite.getGPTTagType(),l.Utility.getInstance(),this,this.mPageUrl);if(s="4.1","targetrule_timeout"in t.uatConfig&&(this.mTargetRuleTimeout=1e3*+t.uatConfig.targetrule_timeout),"pageview_log_interval"in t.uatConfig){var p=t.uatConfig.pageview_log_interval;try{p&&""!=p&&(this.mPVLogInterval=JSON.parse(p))}catch(e){}}this.triggerUserTrackingLogs(!1,this),this.periodicallyTriggerUserTrackingLogs(),s="5";var h={};if(this.initialiseObject(h),this.createSspReqLogsObject(),this.mSite.isAdmiralAdblockerEnabled()&&this.mDocumentType!=l.DocumentType.IFRAME){d.GdprCmp.dropAdmiralScript(this.mSite.getGDPRCMP().Admiral.url,this.mSite.getAdTagName(),this.mDocumentType,!1,this.mIsUserFromGDPRCountry);var g=window;this.mDocumentType==l.DocumentType.FRIENDLYFRAME&&(g=window.top),"function"==typeof g.admiral&&g.admiral("after","measure.detected",(function(t){e.adBlockerStatus=l.AdBlockerStatus.SK,t.adblocking?e.adBlockerStatus=l.AdBlockerStatus.IP:t.whitelisted?e.adBlockerStatus=l.AdBlockerStatus.WP:t.adblocking||t.whitelisted||(e.adBlockerStatus=l.AdBlockerStatus.NP)}))}else e.adBlockerStatus=l.AdBlockerStatus.NA;s="5.1",this.dropUserIdentityScripts();try{this.dropPubmaticCookieScripts()}catch(e){this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("dropPubmaticCookieScript method failed. Error Msg: "+e.message),this.mDropICPubmaticIframeEvent=function(){n.dropPubmaticCookieScripts()},document.addEventListener("DOMContentLoaded",this.mDropICPubmaticIframeEvent,!1)}if(this.mSSPConfig.addressability=this.mSite.getAddressability(),this.isDoubleVerifyEnabled(this.mSite.getDoubleVerify()))try{this.cSite.getdoubleVerify()&&""!=this.cSite.getdoubleVerify()&&null!=this.cSite.getdoubleVerify()&&(this.mDoubleVerifyData=JSON.parse(this.cSite.getdoubleVerify()),"bsc"in this.mDoubleVerifyData&&(this.mDoubleVerifyData.bsc=this.mDoubleVerifyData.bsc.map(String)))}catch(e){console.log(e)}s="6",this.mOnViewBuffer=t.uatConfig.onview_buffer,s="7",this.mDFPCallBufferTime=t.uatConfig.dfpcall_buffer_time,s="8",this.prepareAutoRefreshConfig(this.mSite.getAutoRefreshConfig()),s="9",this.prepareSSPConfig(this.mSite.getSSPConfig(),t.uatConfig),s="10",this.prepareListOfEnabledS2sSsp(),s="10.1",this.dropMarkit(),s="10.2",this.mPreloads=c.preloads,s="11",this.mPostloads=c.postloads,s="12";for(var f=this.mUSPStatus==l.USPStatus.NOT_APPLICABLE,S=0;S<c.customVariables.length;++S){var y=new m.CustomVariable(c.customVariables[S],f,this);s="13."+S,this.mCustomVariable[y.getName()]=y,s="14."+S}for(var b=0;b<c.placements.length;++b){this.mPlacements.length<=0&&(this.mPublisherType="TAGLESS");var T=c.placements[b];if(s="15."+b,null!=T.devices&&null!=i&&T.devices.indexOf(i)<0)this.pushPlacementErrorLog(T.id,T.placementType,0,this.mPublisherType,l.ErrorType.DEVICE_TARGETING_FAILED);else if(s="16."+b,null!=T.geolocations&&null!=r&&T.geolocations.indexOf(r)<0)this.pushPlacementErrorLog(T.id,T.placementType,0,this.mPublisherType,l.ErrorType.GEO_TARGETING_FAILED);else{s="17."+b;var I=void 0;try{I=new m.Placement(T,this,"TAGLESS"),s="18."+b}catch(e){this.pushPlacementErrorLog(T.id,T.placementType,0,this.mPublisherType,l.ErrorType.UNKNOW_ERROR,"Error creating placment object: "+e.message);continue}this.mPlacements[this.mPlacements.length]=I,s="19."+b,I.getLoadType()!=l.LoadType.CUSTOM&&(this.mUnrenderedPlacementIds[this.mUnrenderedPlacementIds.length]=I.getId()),s="20."+b}}this.mPlacements.sort((),s="21";var v=null;null!=this.mGlobalTarget&&this.mGlobalTarget.dfpkeyname&&(v=this.mGlobalTarget.dfpkeyname);for(var P=0;P<this.mPlacements.length;++P)if(T=this.mPlacements[P]){if(T.initialiseObject(this.getMaxTile()),s="22."+P,null==v&&T.getType()==l.PlacementType.HTML){var E=T.getTagToRender();!E||E.getType()!=l.TagType.DISPLAY&&E.getType()!=l.TagType.NATIVE||null==E.getTargetName()||(v=E.getTargetName())}s="23."+P}h.zone=v,d.DMP.getInstance().addDmpProperty(h)}catch(e){console.log("processData :: error :: ",e),l.Utility.getInstance().ic_ga_event("Error","Template.processData",e.message,null,s)}},e.getDropScriptWindow=function(){return e.calculateDocumentType()===l.DocumentType.FRIENDLYFRAME?l.Utility.window.top:l.Utility.window},e.prototype.dropMarkit=function(){if(0!=e.markitEnabled)try{var t=d.SSP.getInstance();t||(t=d.SSP.createInstance(this.mSSPConfig));var i=t.getMarkit();t.initializedMarkitVariables(),this.isMarkitEnabled&&null!=i&&t.getMarkitStatusFromWindow()==t.getEnumStatus().INITIALIZED&&(i.callMarkit(this.mDocumentType,t.markitCallback.bind(t)),t.setMarkitStatusOnWindow(t.getEnumStatus().INPROGRESS))}catch(e){this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Error: dropMarkit :: "+e)}else this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Markit is disabled, not dropping.")},e.getBrowserUrl=function(){var t=e.calculateDocumentType(),i=l.Utility.window.location.href,r=l.Utility.getInstance().updateUrlIfTranslator(t,i);return r&&(i=r),i},e.prototype.pushPlacementErrorLog=function(t,i,r,n,s,o){var a=s.toString();o&&(a=o);var d=e.getBrowserUrl();l.Utility.getInstance().pushToErrorLog({device:this.getDeviceType(),apiKey:e.getAPIKey(),placementId:""+t,placementType:i,publisherType:n,pageId:""+this.getPageId(),rnd:""+r,documentType:this.mDocumentType,errorCode:l.Utility.getInstance().getErrorTypeKeyFromValue(s),errorDetail:a,kval:encodeURIComponent("bs:"+l.Utility.getInstance().getBrowserSize()),version:l.Constant.VERSION,uspstring:this.mUSPString,refererUrl:encodeURIComponent(this.mReferer),pageUrl:encodeURIComponent(d)})},e.pushAPILog=function(t,i,r){var n=e.getBrowserUrl(),s=e.calculateDocumentType(),o=t.toString();o+=i,r||(r="null"),l.Utility.getInstance().pushToAPILog({apiKey:e.getAPIKey(),publisherType:"ADVANCE",pageId:r,documentType:s,errorCode:l.Utility.getInstance().getErrorTypeKeyFromValue(t),errorDetail:o,kval:encodeURIComponent("bs:"+l.Utility.getInstance().getBrowserSize()),version:l.Constant.VERSION,refererUrl:encodeURIComponent(e.calculateReferer(s)),pageUrl:encodeURIComponent(n)})},e.prototype.getPageLog=function(t,i){var r=e.getBrowserUrl(),n=e.mPrivacy,s=n;try{s="CCPA:"+n.CCPA+";GDPR:"+n.GDPR}catch(e){}var o=this.mICFID;return n.GDPR!=a.PENDING&&n.GDPR!=a.DENIED&&this.mUSPStatus!=l.USPStatus.APPLICABLE&&this.mUSPStatus!=l.USPStatus.INPROGRESS||(o=""),{apiKey:e.getAPIKey(),templateId:t,pageId:e.mPageId,documentType:this.mDocumentType,publisherConfig:JSON.stringify(this.mGlobalConfig),isUatEnabled:i,version:l.Constant.VERSION,refererUrl:encodeURIComponent(this.mReferer),pageUrl:encodeURIComponent(r),referrerType:this.mReferrerType,pageType:this.mPageType,zone:this.mZone,privacy:s,fid:o,softrefresh:this.mSoftRefresh}},e.prototype.prepareAutoRefreshConfig=function(e){try{if(null==e)return;if(this.mDocumentType==l.DocumentType.IFRAME||this.mDocumentType==l.DocumentType.FRIENDLYFRAME&&parent!=top)return void(this.mAutoRefreshConfig.IsEnabled=!1);if(this.mAutoRefreshConfig.AdvertisersIndirect=e.AdvertisersIndirect,this.mAutoRefreshConfig.DisabledCampaigns=e.DisabledCampaigns,this.mAutoRefreshConfig.IsEnabled=e.IsEnabled,"Rules"in e){var t=e.Rules;t&&null!=t&&(this.mAutoRefreshConfig.Rules=t)}}catch(e){console.log(e),l.Utility.getInstance().ic_ga_event("Error","Template.prepareAutoRefreshConfig",e.message)}},e.prototype.loadSSPConfig=function(e,t,i){var r;if(!(e in this.mSSPConfig))return i.isEnabled&&((r={}).IsEnabled=!0,"Stack_HV_Id"in t&&(r.Stack_HV_Id=t.Stack_HV_Id),"Stack_Id"in t&&(r.Stack_Id=t.Stack_Id),"HV_Id"in t&&(r.HV_Id=t.HV_Id),"HV_Tpc_Id"in t&&(r.HV_Tpc_Id=t.HV_Tpc_Id),"Tpc_Id"in t&&(r.Tpc_Id=t.Tpc_Id),"Stack_HV_Tpc_Id"in t&&(r.Stack_HV_Tpc_Id=t.Stack_HV_Tpc_Id),"Stack_Tpc_Id"in t&&(r.Stack_Tpc_Id=t.Stack_Tpc_Id),"Default"in t&&(r.Default=t.Default),"Adhesion"in t&&(r.Adhesion=t.Adhesion),"Adhesion_Tpc_Id"in t&&(r.Adhesion_Tpc_Id=t.Adhesion_Tpc_Id),"Stack_Adhesion"in t&&(r.Stack_Adhesion=t.Stack_Adhesion),"Stack_Adhesion_Tpc_Id"in t&&(r.Stack_Adhesion_Tpc_Id=t.Stack_Adhesion_Tpc_Id),"adSizes"in i&&(r.adSizes=i.adSizes),"adsizes"in t&&(r.globalAdSizes=t.adsizes.split(","))),r},e.prototype.getSSPStatus=function(e,t){if(this.mDocumentType==l.DocumentType.IFRAME||this.mUSPStatus!=l.USPStatus.NOT_APPLICABLE)return{isEnabled:!1};if(!this.mSSPConfig.enabled||this.mDisabledSsps.indexOf(e)>-1)return{isEnabled:!1};if(!this.isSSPSupportsCurrentCMPVersion(e))return{isEnabled:!1};if(t&&!t.IsEnabled)return{isEnabled:!1};var i,r=!0;if("adsizes"in t&&(i=t.adsizes),t&&"SspTargeting"in t){var n=this.parseSspRules(t.SspTargeting,!0);"result"in n&&(r=n.result),"resultArray"in n&&null!=n.resultArray&&n.resultArray.length>0&&(i=n.resultArray.toString())}return r?{isEnabled:!0,adSizes:i}:{isEnabled:!1}},e.prototype.prepareA9Config=function(){if(!("a9"in this.mSSPConfig)){var e=this.getSSPStatus("a9",this.mSite.getA9());e.isEnabled&&(this.mSSPConfig.a9={},this.mSSPConfig.a9.IsEnabled=!0,this.mSSPConfig.a9.timeout=this.mSSPConfig.totalDelay-100,this.mSSPConfig.a9.refreshTimeout=this.mSSPConfig.totalDelayRefresh-100,"deals"in this.mSite.getA9()?this.mSSPConfig.a9.deals=this.mSite.getA9().deals:this.mSSPConfig.a9.deals=!1,"adSizes"in e&&(this.mSSPConfig.a9.adSizes=e.adSizes,"adsizes"in this.mSite.getA9()&&(this.mSSPConfig.a9.globalAdSizes=this.mSite.getA9().adsizes.split(","))))}},e.prototype.isSSPSupportsCurrentCMPVersion=function(e){return!(2==this.mCmpVersion&&this.mCmpVersion2NotSuppostedSSPs.length>0&&this.mCmpVersion2NotSuppostedSSPs.indexOf(e.toLowerCase())>-1)},e.prototype.disableA9=function(){"a9"in this.mSSPConfig||(this.mSSPConfig.a9={},this.mSSPConfig.a9.IsEnabled=!1)},e.prototype.prepareAppnexusConfig=function(e){if(!("appnexus"in this.mSSPConfig)){var t=this.getSSPStatus("appnexus",this.mSite.getAppnexus());t.isEnabled&&(e||this.checkAndLoadSSPLib("appnexus"),this.mSSPConfig.appnexus=this.loadSSPConfig("appnexus",this.mSite.getAppnexus(),t))}},e.prototype.disableAppnexus=function(){"appnexus"in this.mSSPConfig||(this.mSSPConfig.appnexus={},this.mSSPConfig.appnexus.IsEnabled=!1)},e.prototype.prepareOpenxConfig=function(e){if(!("openx"in this.mSSPConfig)){var t=this.getSSPStatus("openx",this.mSite.getOpenx());t.isEnabled&&(e||this.checkAndLoadSSPLib("openx"),this.mSSPConfig.openx=this.loadSSPConfig("openx",this.mSite.getOpenx(),t),this.mSSPConfig.openx.delDomain=this.mSite.getOpenx().DelDomain)}},e.prototype.disableOpnex=function(){"openx"in this.mSSPConfig||(this.mSSPConfig.openx={},this.mSSPConfig.openx.IsEnabled=!1)},e.prototype.prepareRubiconConfig=function(e){if(!("rubicon"in this.mSSPConfig)){var t=this.getSSPStatus("rubicon",this.mSite.getRubicon());t.isEnabled&&"SiteId"in this.mSite.getRubicon()&&(e||this.checkAndLoadSSPLib("rubicon"),this.mSSPConfig.rubicon=this.loadSSPConfig("rubicon",this.mSite.getRubicon(),t),this.mSSPConfig.rubicon.SiteId=this.mSite.getRubicon().SiteId)}},e.prototype.disableRubicon=function(){"rubicon"in this.mSSPConfig||(this.mSSPConfig.rubicon={},this.mSSPConfig.rubicon.IsEnabled=!1)},e.prototype.preparePubmaticConfig=function(e){if(!("pubmatic"in this.mSSPConfig)){var t=this.getSSPStatus("pubmatic",this.mSite.getPubmatic());t.isEnabled&&(e||this.checkAndLoadSSPLib("pubmatic"),this.mSSPConfig.pubmatic={},this.mSSPConfig.pubmatic.IsEnabled=!0,this.mSSPConfig.pubmatic.SlotNamePrefix=this.mSite.getPubmatic().SlotNamePrefix,this.mSSPConfig.pubmatic.PublisherId=this.mSite.getPubmatic().PublisherId,"adSizes"in t&&(this.mSSPConfig.pubmatic.adSizes=t.adSizes,"adsizes"in this.mSite.getPubmatic()&&(this.mSSPConfig.pubmatic.globalAdSizes=this.mSite.getPubmatic().adsizes.split(","))))}},e.prototype.disablePubmatic=function(){"pubmatic"in this.mSSPConfig||(this.mSSPConfig.pubmatic={},this.mSSPConfig.pubmatic.IsEnabled=!1)},e.prototype.prepareCriteoConfig=function(e){if(!("criteo"in this.mSSPConfig)){var t=this.getSSPStatus("criteo",this.mSite.getCriteo());t.isEnabled&&(e||this.checkAndLoadSSPLib("criteo"),this.mSSPConfig.criteo={},this.mSSPConfig.criteo.IsEnabled=!0,"NetworkId"in this.mSite.getCriteo()&&(this.mSSPConfig.criteo.networkId=this.mSite.getCriteo().NetworkId),"adSizes"in t&&(this.mSSPConfig.criteo.adSizes=t.adSizes,"adsizes"in this.mSite.getCriteo()&&(this.mSSPConfig.criteo.globalAdSizes=this.mSite.getCriteo().adsizes.split(","))))}},e.prototype.disableCriteo=function(){"criteo"in this.mSSPConfig||(this.mSSPConfig.criteo={},this.mSSPConfig.criteo.IsEnabled=!1)},e.prototype.prepareSovrnConfig=function(e){if(!("sovrn"in this.mSSPConfig)){var t=this.getSSPStatus("sovrn",this.mSite.getSovrn());t.isEnabled&&(e||this.checkAndLoadSSPLib("sovrn"),this.mSSPConfig.sovrn=this.loadSSPConfig("sovrn",this.mSite.getSovrn(),t))}},e.prototype.disableSovrn=function(){"sovrn"in this.mSSPConfig||(this.mSSPConfig.sovrn={},this.mSSPConfig.sovrn.IsEnabled=!1)},e.prototype.prepareYieldmoConfig=function(e){if(!("yieldmo"in this.mSSPConfig)){var t=this.getSSPStatus("yieldmo",this.mSite.getYieldmo());t.isEnabled&&(e||this.checkAndLoadSSPLib("yieldmo"),this.mSSPConfig.yieldmo=this.loadSSPConfig("yieldmo",this.mSite.getYieldmo(),t))}},e.prototype.disableYieldmo=function(){"yieldmo"in this.mSSPConfig||(this.mSSPConfig.yieldmo={},this.mSSPConfig.yieldmo.IsEnabled=!1)},e.prototype.prepare33AcrossConfig=function(e){if(!("across33"in this.mSSPConfig)){var t=this.getSSPStatus("33across",this.mSite.get33Across());t.isEnabled&&(this.mSSPConfig.across33=this.loadSSPConfig("33across",this.mSite.get33Across(),t),e?("zoneId"in this.mSite.get33Across()&&(this.mSSPConfig.across33.zoneId=this.mSite.get33Across().zoneId),"buyerId"in this.mSite.get33Across()&&(this.mSSPConfig.across33.buyerId=this.mSite.get33Across().buyerId)):this.checkAndLoadSSPLib("33across"))}},e.prototype.disable33Across=function(){"across33"in this.mSSPConfig||(this.mSSPConfig.across33={},this.mSSPConfig.across33.IsEnabled=!1)},e.prototype.prepareAolConfig=function(e){if(!("aol"in this.mSSPConfig)){var t=this.getSSPStatus("aol",this.mSite.getAol());t.isEnabled&&(e||this.checkAndLoadSSPLib("aol"),this.mSSPConfig.aol=this.loadSSPConfig("aol",this.mSite.getAol(),t))}},e.prototype.disableAol=function(){"aol"in this.mSSPConfig||(this.mSSPConfig.aol={},this.mSSPConfig.aol.IsEnabled=!1)},e.prototype.prepareGumgumConfig=function(e){if(!("gumgum"in this.mSSPConfig)){var t=this.getSSPStatus("gumgum",this.mSite.getGumgum());t.isEnabled&&(this.mSSPConfig.gumgum=this.loadSSPConfig("gumgum",this.mSite.getGumgum(),t))}},e.prototype.disableGumgum=function(){"gumgum"in this.mSSPConfig||(this.mSSPConfig.gumgum={},this.mSSPConfig.gumgum.IsEnabled=!1)},e.prototype.prepareTripleliftConfig=function(e){if(!("triplelift"in this.mSSPConfig)){var t=this.getSSPStatus("triplelift",this.mSite.getTriplelift());t.isEnabled&&(e||this.checkAndLoadSSPLib("triplelift"),this.mSSPConfig.triplelift=this.loadSSPConfig("triplelift",this.mSite.getTriplelift(),t))}},e.prototype.disableTriplelift=function(){"triplelift"in this.mSSPConfig||(this.mSSPConfig.triplelift={},this.mSSPConfig.triplelift.IsEnabled=!1)},e.prototype.prepareSmartAdServerConfig=function(e){if(!("smartadserver"in this.mSSPConfig)){var t=this.getSSPStatus("smartadserver",this.mSite.getSmartAdServer());t.isEnabled&&(this.mSSPConfig.smartadserver=this.loadSSPConfig("smartadserver",this.mSite.getSmartAdServer(),t),e?"networkId"in this.mSite.getSmartAdServer()&&(this.mSSPConfig.smartadserver.networkId=+this.mSite.getSmartAdServer().networkId):this.checkAndLoadSSPLib("smartadserver"),"SiteId"in this.mSite.getSmartAdServer()&&(this.mSSPConfig.smartadserver.siteId=+this.mSite.getSmartAdServer().SiteId),this.mSSPConfig.smartadserver.formatId=+this.mSite.getSmartAdServer().FormatId)}},e.prototype.disableSmartAdServer=function(){"smartadserver"in this.mSSPConfig||(this.mSSPConfig.smartadserver={},this.mSSPConfig.smartadserver.IsEnabled=!1)},e.prototype.prepareImproveDigitalConfig=function(e){if(!("improvedigital"in this.mSSPConfig)){var t=this.getSSPStatus("improvedigital",this.mSite.getImproveDigital());t.isEnabled&&(this.mSSPConfig.improvedigital=this.loadSSPConfig("improvedigital",this.mSite.getImproveDigital(),t),"partnerId"in this.mSite.getImproveDigital()&&(this.mSSPConfig.improvedigital.partnerId=+this.mSite.getImproveDigital().partnerId),e||this.checkAndLoadSSPLib("improvedigital"))}},e.prototype.disableImproveDigital=function(){"improvedigital"in this.mSSPConfig||(this.mSSPConfig.improvedigital={},this.mSSPConfig.improvedigital.IsEnabled=!1)},e.prototype.prepareShareThroughConfig=function(e){if(!("sharethrough"in this.mSSPConfig)){var t=this.getSSPStatus("sharethrough",this.mSite.getShareThrough());t.isEnabled&&(e||this.checkAndLoadSSPLib("sharethrough"),this.mSSPConfig.sharethrough=this.loadSSPConfig("sharethrough",this.mSite.getShareThrough(),t))}},e.prototype.disableShareThrough=function(){"sharethrough"in this.mSSPConfig||(this.mSSPConfig.sharethrough={},this.mSSPConfig.sharethrough.IsEnabled=!1)},e.prototype.prepareMediaNetConfig=function(e){if(!("medianet"in this.mSSPConfig)){var t=this.getSSPStatus("medianet",this.mSite.getMediaNet());t.isEnabled&&"customerId"in this.mSite.getMediaNet()&&(e||this.checkAndLoadSSPLib("medianet"),this.mSSPConfig.medianet=this.loadSSPConfig("medianet",this.mSite.getMediaNet(),t),this.mSSPConfig.medianet.customerId=this.mSite.getMediaNet().customerId)}},e.prototype.disableMediaNet=function(){"medianet"in this.mSSPConfig||(this.mSSPConfig.medianet={},this.mSSPConfig.medianet.IsEnabled=!1)},e.prototype.prepareAutomatAdConfig=function(e){if(!("automatad"in this.mSSPConfig)){var t=this.getSSPStatus("automatad",this.mSite.getAutomatad());t.isEnabled&&"siteId"in this.mSite.getAutomatad()&&(e||this.checkAndLoadSSPLib("automatad"),this.mSSPConfig.automatad=this.loadSSPConfig("automatad",this.mSite.getAutomatad(),t),this.mSSPConfig.automatad.siteId=this.mSite.getAutomatad().siteId)}},e.prototype.disableAutomatAd=function(){"automatad"in this.mSSPConfig||(this.mSSPConfig.automatad={},this.mSSPConfig.automatad.IsEnabled=!1)},e.prototype.prepareOutbrainConfig=function(e){if(!("outbrain"in this.mSSPConfig)){var t=this.getSSPStatus("outbrain",this.mSite.getOutbrain());t.isEnabled&&"publisherId"in this.mSite.getOutbrain()&&(e||this.checkAndLoadSSPLib("outbrain"),this.mSSPConfig.outbrain=this.loadSSPConfig("outbrain",this.mSite.getOutbrain(),t),this.mSSPConfig.outbrain.publisherId=this.mSite.getOutbrain().publisherId)}},e.prototype.disableOutbrain=function(){"outbrain"in this.mSSPConfig||(this.mSSPConfig.outbrain={},this.mSSPConfig.outbrain.IsEnabled=!1)},e.prototype.prepareAdaptmxConfig=function(e){if(!("adaptmx"in this.mSSPConfig)){var t=this.getSSPStatus("adaptmx",this.mSite.getAdaptMx());t.isEnabled&&"tagId"in this.mSite.getAdaptMx()?(e||this.checkAndLoadSSPLib("amx"),this.mSSPConfig.adaptmx=this.loadSSPConfig("adaptmx",this.mSite.getAdaptMx(),t),this.mSSPConfig.adaptmx.tagId=this.mSite.getAdaptMx().tagId):t.isEnabled=!1}},e.prototype.disableAdaptmx=function(){"adaptmx"in this.mSSPConfig||(this.mSSPConfig.adaptmx={},this.mSSPConfig.adaptmx.IsEnabled=!1)},e.prototype.isMarkitEnabled=function(t){return 1==e.markitEnabled&&this.mUSPStatus==l.USPStatus.NOT_APPLICABLE},e.prototype.isDoubleVerifyEnabled=function(e){return!(!this.mSite.getDoubleVerify()||!this.mSite.getDoubleVerify().IsEnabled)},e.prototype.getRandomNumber=e.prototype.prepareSSPConfig=function(t,i){var r="0";try{r="1",this.mSSPConfig.bidsExpiry=+t.BidsExpiry,this.mSSPConfig.callBufferTime=+t.CallBufferTime,this.mSSPConfig.deviceType=this.mDeviceType,this.mSSPConfig.countryCode=this.mCountryCode,this.mSSPConfig.delayStep=+t.DelayStep,this.mSSPConfig.dfpSiteName=this.mSite.getDFPKeyName(),this.mSSPConfig.adTagName=this.mSite.getAdTagName(),this.mSSPConfig.globalAdSizes=t.GlobalAdSizes.split(","),this.mSSPConfig.isDebugModeEnabled=this.mIsDebugModeEnabled,r="2",this.mCountryCode&&"US"!=this.mCountryCode?(this.mSSPConfig.totalDelay=+t.TotalDelayInternational,this.mSSPConfig.totalDelayRefresh=+t.TotalDelayInternationalRefresh,r="4"):(this.mSSPConfig.totalDelay=+t.TotalDelay,this.mSSPConfig.totalDelayRefresh=+t.TotalDelayRefresh,r="3"),this.isMarkitEnabled(i)&&(this.mSSPConfig.markit={IsEnabled:e.markitEnabled,DFPKeyName:null==this.markitDfpKeyname?null:this.markitDfpKeyname.split(",")}),r="5",this.mSSPConfig.prebid=this.mSSPConfig.prebid||{},this.mSSPConfig.prebid.priceGranularity=JSON.parse(t.PrebidPriceGranularity),this.mSSPConfig.prebid.passConsentManagementConfig=!1,this.mSSPConfig.prebid.cmpVersion=this.mCmpVersion,1==this.mCmpVersion?(this.mSSPConfig.prebid.cmpConsentData=this.mCmpConsentDataObject,this.mSSPConfig.prebid.cmpVendorConsentData=this.mCmpVendorConsentDataObject):2==this.mCmpVersion&&(this.mSSPConfig.prebid.cmpTcString=this.mCmpTcString,this.mSSPConfig.prebid.cmpGdprApplies=this.mCmpGdprApplies),!this.mIsUserFromGDPRCountry||this.mGlobalConfig&&"show_nonpersonalized_ad"in this.mGlobalConfig||(1==this.mCmpVersion&&this.mCmpConsentDataObject&&this.mCmpVendorConsentDataObject&&!l.Utility.ICJQuery.isEmptyObject(this.mCmpConsentDataObject)&&!l.Utility.ICJQuery.isEmptyObject(this.mCmpVendorConsentDataObject)&&(this.mSSPConfig.prebid.passConsentManagementConfig=!0),2==this.mCmpVersion&&this.mCmpTcString&&(this.mSSPConfig.prebid.passConsentManagementConfig=!0)),this.mSSPConfig.prebid.uspString=this.mUSPString,r="6";var n=!1,s=void 0;if(null!=this.mSite.getSSPConfig()){this.mSite.getSSPConfig(),this.mSSPConfig.enabled=!0,this.mSSPConfig.enabledAdSizes=null;try{var o={};o.Rules=t.SspRotation.Rules;var a=this.parseSspRules(o,!1);if("result"in a&&(n=a.result),"resultArray"in a&&null!=a.resultArray&&a.resultArray.length>0){s=a.maxSsps;for(var m=0;m<a.resultArray.length&&s>0;++m){var c=this.getTheSspsFromTier(a.resultArray[m],s);s-=c.length,this.sspRotationEnabledSsps=this.sspRotationEnabledSsps.concat(c)}this.sspRotationEnabledSsps=l.Utility.getInstance().removeDuplicateFromArray(this.sspRotationEnabledSsps)}}catch(e){console.log("IC SSP Rotation failed ::",e)}r="15"}if(this.mSSPConfig.prebid.timeout=this.mSSPConfig.totalDelay-50,this.mSSPConfig.prebid.refreshTimeout=this.mSSPConfig.totalDelayRefresh-50,n&&s&&s>0)for(var u=d.SSP.getListOfSsps();s>0&&u.length>0;){var p=u.length,h=this.getRandomNumber(0,p-1),g=u[h].toLowerCase();u.splice(h,1),this.sspRotationEnabledSsps.indexOf(g)>-1||this.isSspEnabled(g)&&(this.sspRotationEnabledSsps.push(g),--s)}else n||(this.IsPrebidS2SEnabled=!1,this.prepareA9Config(),r="16",this.prepareAppnexusConfig(),r="17",this.prepareAdaptmxConfig(),r="18",this.prepareRubiconConfig(),r="19",this.preparePubmaticConfig(),r="20",this.prepareCriteoConfig(),r="22",this.prepareOpenxConfig(),r="23",this.prepareSovrnConfig(),r="24",this.prepareYieldmoConfig(),r="25",this.prepare33AcrossConfig(),r="26",this.prepareAolConfig(),r="27",this.prepareGumgumConfig(),r="28",this.prepareImproveDigitalConfig(),r="29",this.prepareTripleliftConfig(),r="30",this.prepareSmartAdServerConfig(),r="31",this.prepareShareThroughConfig(),r="32",this.prepareMediaNetConfig(),r="33",this.prepareOutbrainConfig(),r="34",this.prepareAutomatAdConfig(),r="35");if(this.mSSPConfig.s2sConfig={},"S2SConfig"in t){var f=JSON.parse(t.S2SConfig);"accountId"in f&&(this.mSSPConfig.s2sConfig.accountId=f.accountId),"bidderTimeout"in f&&(this.mSSPConfig.s2sConfig.bidderTimeout=f.bidderTimeout),"auctionTimeout"in f&&(this.mSSPConfig.s2sConfig.auctionTimeout=f.auctionTimeout),"timeoutBuffer"in f&&(this.mSSPConfig.s2sConfig.timeoutBuffer=f.timeoutBuffer),"timeout"in f&&(this.mSSPConfig.s2sConfig.timeout=f.timeout)}r="36";try{this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Enabled SSPs for this page are ",[this.sspRotationEnabledSsps])}catch(e){console.log(e)}r="37"}catch(e){console.log("prepareSSPConfig :: error :: ",e),l.Utility.getInstance().ic_ga_event("Error","Template.prepareSSPConfig",e.message,null,r)}},e.prototype.getTheSspsFromTier=function(e,t){var i=[];try{if("random"==e.rotation.type.toLowerCase())i=this.randomlySelectSspFromArray(e,t);else if("pageview"==e.rotation.type.toLowerCase()){var r=+this.mDFPParams.getViewCount();if(!r)return i;var n=r%e.rotation.pageViewGroupSize;if(0==n&&(n=e.rotation.pageViewGroupSize),e.rotation.pageViewsFromGroup.indexOf(n)>-1)i=this.randomlySelectSspFromArray(e,t);else for(var s=0;s<e.ssps.length;++s)this.disableSsp(e.ssps[s].toLowerCase())}}catch(e){console.log(e)}return i},e.prototype.randomlySelectSspFromArray=function(e,t){for(var i=e.ssps,r=[],n=e.maxSsps;i.length>0;){var s=i.length,o=this.getRandomNumber(0,s-1),a=i[o].toLowerCase();if(i.splice(o,1),this.isSspEnabled(a)&&(r.push(a),--t),r.length==n||0==t)break}return r},e.prototype.isSspEnabled=function(e){switch(e){case"a9":return this.prepareA9Config(),"a9"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.a9&&this.mSSPConfig.a9.IsEnabled;case"appnexus":return this.prepareAppnexusConfig(),"appnexus"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.appnexus&&this.mSSPConfig.appnexus.IsEnabled;case"rubicon":return this.prepareRubiconConfig(),"rubicon"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.rubicon&&this.mSSPConfig.rubicon.IsEnabled;case"pubmatic":return this.preparePubmaticConfig(),"pubmatic"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.pubmatic&&this.mSSPConfig.pubmatic.IsEnabled;case"openx":return this.prepareOpenxConfig(),"openx"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.openx&&this.mSSPConfig.openx.IsEnabled;case"criteo":return this.prepareCriteoConfig(),"criteo"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.criteo&&this.mSSPConfig.criteo.IsEnabled;case"sovrn":return this.prepareSovrnConfig(),"sovrn"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.sovrn&&this.mSSPConfig.sovrn.IsEnabled;case"yieldmo":return this.prepareYieldmoConfig(),"yieldmo"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.yieldmo&&this.mSSPConfig.yieldmo.IsEnabled;case"33across":return this.prepare33AcrossConfig(),"across33"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.across33&&this.mSSPConfig.across33.IsEnabled;case"aol":return this.prepareAolConfig(),"aol"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.aol&&this.mSSPConfig.aol.IsEnabled;case"gumgum":return this.prepareGumgumConfig(),"gumgum"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.gumgum&&this.mSSPConfig.gumgum.IsEnabled;case"triplelift":return this.prepareTripleliftConfig(),"triplelift"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.triplelift&&this.mSSPConfig.triplelift.IsEnabled;case"smartadserver":return this.prepareSmartAdServerConfig(),"smartadserver"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.smartadserver&&this.mSSPConfig.smartadserver.IsEnabled;case"improvedigital":return this.prepareImproveDigitalConfig(),"improvedigital"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.improvedigital&&this.mSSPConfig.improvedigital.IsEnabled;case"sharethrough":return this.prepareShareThroughConfig(),"sharethrough"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.sharethrough&&this.mSSPConfig.sharethrough.IsEnabled;case"medianet":return this.prepareMediaNetConfig(),"medianet"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.medianet&&this.mSSPConfig.medianet.IsEnabled;case"outbrain":return this.prepareOutbrainConfig(),"outbrain"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.outbrain&&this.mSSPConfig.outbrain.IsEnabled;case"adaptmx":return this.prepareAdaptmxConfig(),"adaptmx"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.adaptmx&&this.mSSPConfig.adaptmx.IsEnabled;case"automatad":return this.prepareAutomatAdConfig(),"automatad"in this.mSSPConfig&&"IsEnabled"in this.mSSPConfig.automatad&&this.mSSPConfig.automatad.IsEnabled}},e.prototype.disableSsp=function(e){switch(e){case"a9":return void this.disableA9();case"appnexus":return void this.disableAppnexus();case"rubicon":return void this.disableRubicon();case"pubmatic":return void this.disablePubmatic();case"openx":return void this.disableOpnex();case"criteo":return void this.disableCriteo();case"sovrn":return void this.disableSovrn();case"yieldmo":return void this.disableYieldmo();case"33across":return void this.disable33Across();case"aol":return void this.disableAol();case"gumgum":return void this.disableGumgum();case"triplelift":return void this.disableTriplelift();case"smartadserver":return void this.disableSmartAdServer();case"improvedigital":return void this.disableImproveDigital();case"sharethrough":return void this.disableShareThrough();case"adaptmx":return void this.disableAdaptmx();case"medianet":return void this.disableMediaNet();case"outbrain":return void this.disableOutbrain();case"automatad":return void this.disableAutomatAd()}},e.prototype.createSspReqLogsObject=function(){e.mPageId&&0!=e.mPageId.length||(e.mPageId=this.generatePageId()),this.mSspsLogsParams={pageId:this.getPageId(),apiKey:e.mApiKey,device:this.mDeviceType,siteName:this.mSite.getDFPKeyName(),uspState:this.isUserFromUSPState(),gdprCountry:this.isUserFromGDPRCountry(),region:this.mRegions.join()}},e.prototype.getListOfDisabledSSPs=function(e){var t=[];if("SspTargeting"in e)for(var i=JSON.parse(e.SspTargeting).Rules,r=0;r<i.length;r++){for(var n=i[r].children,s=!1,o=i[r].logicalOperator,a=void 0,d=0;d<n.length;++d)if("DisabledSsps"in n[d])a=n[d].DisabledSsps;else{if(s=this.isChildrenEnable(n[d]),"AND"==o){if(s)continue;break}if("OR"==o){if(s)break;continue}}1==s&&t.push.apply(t,a)}this.mDisabledSsps=t,this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("mDisabledSsps :: ",[this.mDisabledSsps])},e.prototype.parseSspRules=function(e,t){try{for(var i=[],r=!1,n=void 0,s=0;s<e.Rules.length;++s)try{for(var o=e.Rules[s].children,a=e.Rules[s].logicalOperator,d=!0,m=0;m<o.length;++m){if(d=this.isChildrenEnable(o[m]),"AND"==a){if(d)continue;break}if("OR"!=a);else if(d)break}if(r=r||d,d&&(t&&"EnabledAdSizes"in e.Rules[s]&&(i=i.concat(e.Rules[s].EnabledAdSizes)),!t&&"Tiers"in e.Rules[s])){i=e.Rules[s].Tiers,n=e.Rules[s].maxSsps;break}}catch(e){console.log(e)}return i.length>0&&t&&(i=l.Utility.getInstance().removeDuplicateFromArray(i)),{result:r,resultArray:i,maxSsps:n}}catch(e){console.log(e)}return{result:!1}},e.prototype.parseAndGetAutoRefreshConfig=function(t,i){try{var r=null,n=!1;if(!t.Rules||null==t.Rules)return null;for(var s=0;s<t.Rules.length;++s)try{for(var o=t.Rules[s].children,a=t.Rules[s].logicalOperator,l=!0,d=0;d<o.length;++d){if(l=this.isChildrenEnable(o[d],i),"AND"==a){if(l)continue;break}if("OR"!=a);else if(l)break}if(n=n||l,l&&"config"in t.Rules[s]){var m=t.Rules[s].config;r={IsEnabled:this.mAutoRefreshConfig.IsEnabled,DisabledCampaigns:this.mAutoRefreshConfig.DisabledCampaigns,AdvertisersIndirect:this.mAutoRefreshConfig.AdvertisersIndirect,MaxRefreshCount:m.MaxRefreshCount?m.MaxRefreshCount:10,RefreshTime:m.RefreshTime?1e3*m.RefreshTime:12e4,RefreshTimeIndirect:m.RefreshTimeIndirect?1e3*m.RefreshTimeIndirect:35e3,OutOfViewTime:m.OutOfViewTime?1e3*m.OutOfViewTime:18e4,OutOfViewTimeIndirect:m.OutOfViewTimeIndirect?1e3*m.OutOfViewTimeIndirect:18e4,ViewabilityThresholdPercentage:m.ViewabilityThresholdPercentage?m.ViewabilityThresholdPercentage:60,ViewabilityThresholdPercentageIndirect:m.ViewabilityThresholdPercentageIndirect?m.ViewabilityThresholdPercentageIndirect:50,MaxAutoRefreshWithoutInteraction:m.MaxAutoRefreshWithoutInteraction?m.MaxAutoRefreshWithoutInteraction:0,ActiveUserTimeoutFromLastInteraction:m.ActiveUserTimeoutFromLastInteraction?1e3*m.ActiveUserTimeoutFromLastInteraction:3e4},e.mActiveUserTimeoutFromLastInteraction=m.ActiveUserTimeoutFromLastInteraction?1e3*m.ActiveUserTimeoutFromLastInteraction:3e4;break}}catch(e){console.log(e)}return r}catch(e){console.log(e)}return null},e.prototype.isChildrenEnable=function(e,t){void 0===t&&(t=null);try{switch(e.operand){case"Region":if(!this.mRegions&&"NOTIN"==e.operator)return!0;if(!this.mRegions)return!1;if("IN"==e.operator){for(var i=0;i<this.mRegions.length;++i)if(e.comparator.indexOf(this.mRegions[i])>-1)return!0;return!1}if("NOTIN"==e.operator){for(i=0;i<this.mRegions.length;++i)if(e.comparator.indexOf(this.mRegions[i])>-1)return!1;return!0}return!0;case"Device":return"IN"==e.operator?e.comparator.indexOf(this.mDeviceType)>-1:"NOTIN"!=e.operator||e.comparator.indexOf(this.mDeviceType)<=-1;case"Browser":return"IN"==e.operator?e.comparator.indexOf(this.mBrowser)>-1:"NOTIN"!=e.operator||e.comparator.indexOf(this.mBrowser)<=-1;case"Sizes":return!(!t&&null===t)&&("IN"==e.operator?e.comparator.indexOf(t)>-1:"NOTIN"!=e.operator||e.comparator.indexOf(t)<=-1)}}catch(e){console.log(e)}return!1},e.prototype.updateTargetKval=function(e){return n(this,void 0,void 0,(function(){var t,i,r,n,o,a,l,d,m;return s(this,(function(s){switch(s.label){case 0:if(s.trys.push([0,3,,4]),!(t=JSON.parse(e)))return[2];for(i=t.dfpkeyname,this.mTargetData[i].Status="COMPLETED",this.mTargetData[i].Data=t,null!=this.mTargetData[i].Data.kval&&(this.mTargetData[i].Data.kval=this.mTargetData[i].Data.kval.split(";")),r=this.getAllAdvancePlacements(),n=[],l=0;l<r.length;++l)o=r[l],a=o.getTagToRender().getTargetName().replace(".bottom",""),o.getWaitingForTarget()&&a===i&&(o.setWaitingForTarget(!1),this.mAdvancePlacementsWaitingForTarget.indexOf(o.getRandomNumber())>-1&&n.push(o));for(l=0;l<n.length;++l)d=this.mAdvancePlacementsWaitingForTarget.indexOf(n[l].getRandomNumber()),this.mAdvancePlacementsWaitingForTarget.splice(d,1);return n.length>0?[4,this.renderAdvancePlacements(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[3,4];case 3:return m=s.sent(),console.error(m),[3,4];case 4:return[2]}}))}))},e.prototype.updateNativeLayout=function(e){return n(this,void 0,void 0,(function(){var t,i,r,n,o,a,l,d;return s(this,(function(s){try{if(!(t=JSON.parse(e)))return[2];for(i=t.nativelayoutid,this.mNativeLayout[i].Status="COMPLETED",this.mNativeLayout[i].Data=t,r=this.getAllAdvancePlacements(),n=[],l=0;l<r.length;++l)o=r[l],a=o.getTagToRender().getNativLayout(),o.getWaitingForNativeLayout()&&a.nativelayoutid===i&&(o.setWaitingForNativeLayout(!1),o.getTagToRender().setNativLayout(t),this.mAdvancePlacementsWaitingForTarget.indexOf(o.getRandomNumber())>-1&&n.push(o));for(l=0;l<n.length;++l)d=this.mAdvancePlacementsWaitingForTarget.indexOf(n[l].getRandomNumber()),this.mAdvancePlacementsWaitingForTarget.splice(d,1);n.length>0&&this.renderAdvancePlacements(n)}catch(e){console.error(e)}return[2]}))}))},e.prototype.renderPreloads=function(){for(var e=l.Utility.getInstance(),t=0;t<this.mPreloads.length;++t)e.executeJS(this.mPreloads[t])},e.prototype.renderPostloads=function(){for(var e=l.Utility.getInstance(),t=0;t<this.mPostloads.length;++t)e.executeJS(this.mPostloads[t])},e.prototype.renderPlacements=function(t){return n(this,void 0,void 0,(function(){var i,r,n,a,d,m,c,u,p,h,g,f=this;return s(this,(function(s){switch(s.label){case 0:i=[],r=[],n=[],h=0,s.label=1;case 1:return h<t.length?(g=t[h]).isEligibleForRendering("ADVANCE"!=g.getPublisherType())?(g.getType()!=l.PlacementType.HTML||g.getTagToRender().getType()!=l.TagType.DISPLAY&&g.getTagToRender().getType()!=l.TagType.NATIVE||!this.isSingleRequestEnabled()||this.addTagToRenderArray(g.getDivId(),g.getTagToRender(),g.getLoadType()),"ADVANCE"!=g.getPublisherType()?[3,3]:[4,this.preparePlacementForSSP(g)]):[3,4]:[3,7];case 2:(a=s.sent())&&r.push(a),null!=(d=e.checkAndPrepareDummyPlacements(a))&&r.push(d),s.label=3;case 3:return i.push(g),[3,5];case 4:if(g.getState()==l.PlacementState.CAPPING_EXPIRED)this.pushPlacementErrorLog(g.getId(),g.getType(),g.getRandomNumber(),g.getPublisherType(),l.ErrorType.UNKNOW_ERROR,"FREQUENCY CAPPING EXPIRED");else{if(g.getState()!=l.PlacementState.TAG_NOT_AVAILABLE)return[3,6];m=g.getId(),"ADVANCE"==g.getPublisherType()&&(m=null),this.pushPlacementErrorLog(m,g.getType(),g.getRandomNumber(),g.getPublisherType(),l.ErrorType.UNKNOW_ERROR,"No tag exist for the placement")}s.label=5;case 5:this.mUnrenderedPlacementIds.indexOf(g.getId())>-1&&this.mUnrenderedPlacementIds.splice(this.mUnrenderedPlacementIds.indexOf(g.getId()),1);try{(c=g.getTickerValues())&&c.length>0&&(n=o(o([],n,!0),c,!0))}catch(e){this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Error: Getting ticker :: "+e)}s.label=6;case 6:return++h,[3,1];case 7:try{n&&n.length>0&&!e.mIsTickerKeyValueApiTriggered&&(n=l.Utility.getInstance().removeDuplicateFromArray(n),u=n.join(","),"IsEnabled"in this.tickerConfig&&1==this.tickerConfig.IsEnabled&&(e.triggerTickerApi(u,this.mIsDebugModeEnabled,e.mPageId),e.mIsTickerKeyValueApiTriggered=!0))}catch(e){this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Error: Trigger Ticker API :: "+e)}return(p=r.length>0)?[4,this.callSSPToFetchTheBids(r)]:[3,9];case 8:p=s.sent(),s.label=9;case 9:for(p&&(this.mSSPFetchBidsStartTime=(new Date).getTime()),h=0;h<i.length;++h)i[h].render();if("complete"!=document.readyState&&this.mUnrenderedPlacementIds.length>0)setTimeout((,1e3);else if(this.mUnrenderedPlacementIds.length>0)for(h=0;h<t.length;++h)g=t[h],-1!=this.mUnrenderedPlacementIds.indexOf(g.getId())&&(g.getState()==l.PlacementState.SELECTOR_NOT_LOADED?this.pushPlacementErrorLog(g.getId(),g.getType(),g.getRandomNumber(),g.getPublisherType(),l.ErrorType.SELECTOR_NOT_FOUND):g.getState()!=l.PlacementState.TARGETING_FAILED&&g.getState()!=l.PlacementState.TAG_NOT_AVAILABLE&&this.pushPlacementErrorLog(g.getId(),g.getType(),g.getRandomNumber(),g.getPublisherType(),l.ErrorType.UNKNOW_ERROR,"Due to some unknown error, placement is not eligible for rendering."));return[2]}}))}))},e.prototype.calculateViewCount=function(){if(this.mUSPStatus!=l.USPStatus.NOT_APPLICABLE)return"-1";var e=l.Utility.getInstance(),t=NaN,i=e.isCookieEnabled();if(i)t=parseInt(e.getFromCookie(l.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+e.getTopWindowDomain()));else if(o=e.getFromLocalStorage(l.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+e.getTopWindowDomain()))try{if("timestamp"in(o=JSON.parse(o))){var r=o.timestamp;((new Date).getTime()-r)/1e3<1800&&"value"in o&&(t=parseInt(o.value))}}catch(e){console.log(e)}var n=t;if(isNaN(n)&&(n=0),!l.Utility.window.top.IC_VIEW_COUNT_SET){n++,l.Utility.window.top.IC_VIEW_COUNT_SET=!0;var s=void 0;if(i)e.saveToCookie(l.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+e.getTopWindowDomain(),n.toString(),1800),s=parseInt(e.getFromCookie(l.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+e.getTopWindowDomain()));else{var o={value:n.toString(),timestamp:(new Date).getTime()};e.saveToLocalStorage(l.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+e.getTopWindowDomain(),JSON.stringify(o));var a=e.getFromLocalStorage(l.Constant.VIEWCOUNTER_COOKIE_NAME_PREFIX+e.getTopWindowDomain());if(a&&"value"in(a=JSON.parse(a)))try{s=parseInt(a.value)}catch(e){console.log(e)}}if(isNaN(s)||s==t)return"-1"}return 0==n?"-1":n<10?"0"+n:""+n},e.calculateDocumentType=function(){try{return self==l.Utility.window.top?l.DocumentType.PAGE:l.Utility.window.location.hostname==l.Utility.window.top.location.hostname?l.DocumentType.FRIENDLYFRAME:l.DocumentType.IFRAME}catch(e){return l.DocumentType.IFRAME}},e.prototype.extractDomain=function(e){var t=null,i=e.match(/^(?:https?:\/\/)?(?:www\.)?([a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)+)(?:\/|$)/i);return i&&(t=i[0]),t},e.prototype.isReferrerASearchEngine=function(){if(this.mReferer.startsWith("android-app"))return RegExp("(android-app:\\/\\/com\\.google\\.android\\.googlequicksearchbox[^\\/]*|android-app:\\/\\/com\\.google\\.android\\.gm[^\\/]*)").test(this.mReferer);var e=this.extractDomain(this.mReferer);return RegExp("(https?:\\/\\/www\\.google\\.[^\\/]*|https?:\\/\\/[^\\/]*search.yahoo.com[^\\/]*|https?:\\/\\/[^\\/]*\\.bing.com|https?:\\/\\/[^\\/]*duckduckgo.com[^\\/]*|https?:\\/\\/[^\\/]*\\.startpage.com[^\\/]*)").test(e)},e.prototype.isReferrerFromSocialMedia=function(){if(this.mReferer.startsWith("android-app"))return RegExp("(android-app:\\/\\/org\\.telegram\\.[^\\/]*|android-app:\\/\\/com\\.twitter\\.[^\\/]*|android-app:\\/\\/m\\.facebook\\.com[^\\/]*|android-app:\\/\\/com\\.pinterest\\.[^\\/]*|android-app:\\/\\/com\\.linkedin\\.[^\\/]*)").test(this.mReferer);var e=this.extractDomain(this.mReferer);return RegExp("https?:\\/\\/([^\\/]*facebook.[^\\/]*|[^\\/]*.twitter.com[^\\/]*|twitter.[^\\/]*|t.co[^\\/]*|[^\\/]*instagram.com[^\\/]*|[^\\/]*reddit.com[^\\/]*|[^\\/]*youtube\\.com[^\\/]*|[^\\/]*.linkedin.[^\\/]*|[^\\/]*.telegram.[^\\/]*|web.whatsapp.com[^\\/]*|[^\\/]*pinterest.[^\\/]*|[^\\/]*.quora.com[^\\/]*|www.tiktok.com[^\\/]*|teams.microsoft.[^\\/]*|[^\\/]*.teams.microsoft.[^\\/]*|teams.live.[^\\/]*)").test(e)},e.prototype.evaluateReferrerType=function(){this.mDocumentType!=l.DocumentType.IFRAME?this.mReferer?this.isReferrerASearchEngine()?this.mReferrerType=l.ReferrerType.SEARCH_ENGINE:this.isReferrerFromSocialMedia()?this.mReferrerType=l.ReferrerType.SOCIAL_MEDIA:this.mReferer.match(/:\/\/(.[^/]+)/)[1]==l.Utility.window.top.location.hostname?this.mReferrerType=l.ReferrerType.INTERNAL:this.mReferrerType=l.ReferrerType.EXTERNAL:this.mReferrerType=l.ReferrerType.DIRECT:this.mReferrerType=l.ReferrerType.UNKNOWN},e.prototype.calculateReferrerType=function(){this.mDFPParams||(this.mDFPParams=new l.DFPTemplateParams),this.mDFPParams.setReferrerType(this.mReferrerType),d.DMP.getInstance().addDmpProperty({rft:this.mReferrerType})},e.prototype.calculatePageType=function(){var e=this.mDocumentType==l.DocumentType.IFRAME?document.referrer:l.Utility.window.top.location.href;return/^https?\:\/\/[^\/]+\/?$/.test(e)?l.PageType.HOME:-1!=e.indexOf("ic_welcome=1")?l.PageType.WELCOMEAD:l.PageType.UNKNOWN},e.prototype.isTopWindowRefererASearchEngine=function(){return!!RegExp("https?://[^/]*(google)|(askjeeves)|(altavista)|(yahoo)|(bing)|(ask).*").test(this.mReferer)},e.calculateReferer=function(e){if(e==l.DocumentType.IFRAME||e==l.DocumentType.FRIENDLYFRAME)return document.referrer;if(void 0===l.Utility.window.top.IC_PAGE_REFERER){var t=l.Utility.window.top.document.referrer;return l.Utility.window.top.IC_PAGE_REFERER=l.Utility.window.top.location.href,t}var i=l.Utility.window.top.IC_PAGE_REFERER;return l.Utility.window.top.IC_PAGE_REFERER=l.Utility.window.top.location.href,i},e.prototype.generatePageId=function(){if(this.mDocumentType==l.DocumentType.IFRAME)return this.generateUUID();var t=e.getDropScriptWindow();return t.IC_PAGE_ID||(t.IC_PAGE_ID=this.generateUUID()),t.IC_PAGE_ID},e.prototype.generateUUID=e.prototype.getMaxTile=function(){return this.mDocumentType==l.DocumentType.IFRAME?this.mMaxTile++:(l.Utility.window.top.IC_MAX_TILE?this.mMaxTile=l.Utility.window.top.IC_MAX_TILE:l.Utility.window.top.IC_MAX_TILE=this.mMaxTile,l.Utility.window.top.IC_MAX_TILE++)},e.prototype.initialiseObject=function(t){try{this.mDFPParams=new l.DFPTemplateParams;var i=this.mUSPStatus!=l.USPStatus.NOT_APPLICABLE;this.mDFPParams.setDoNotTrack(i),this.mDFPParams.setDeviceType(this.mDeviceType),this.mDocumentType!=l.DocumentType.IFRAME&&this.mDFPParams.setViewCount(this.calculateViewCount()),e.mViewCount=this.mDFPParams.getViewCount(),this.mDFPParams.setPageId(e.mPageId),t.viewcount=this.mDFPParams.getViewCount(),this.mDFPParams.setDocumentType(this.mDocumentType),this.calculateReferrerType(),e.mIsFloorPriceEnabled&&(this.fetchFloorPricePeriodically(),this.fetchFloorPrice(this.mReferrerType,e.mUserCookieType)),this.mDFPParams.setPageType(this.mPageType),this.mDFPParams.setAdTagName(this.mSite.getAdTagName()),t.usn=this.mDFPParams.getAdTagName(),this.mIsSearchEngine=this.isTopWindowRefererASearchEngine(),this.mDFPParams.setIsSearchEngine(this.mIsSearchEngine),this.mDFPParams.setUserCookie(e.mUserCookieType),i||l.Utility.getInstance().saveToLocalStorage(this.cFirstPartyId,this.mICFID),this.mDFPParams.setICFID(this.mICFID);var r=l.Utility.getInstance().getFromLocalStorage(this.cThirstPartyId);r&&null!==r&&this.mDFPParams.setICTID(r),t.cookietype=e.mUserCookieType}catch(e){console.log(e),l.Utility.getInstance().ic_ga_event("Error","Template.initialiseObject",e.message)}},e.prototype.resetObject=e.prototype.getUrl=function(){return this.mUrl},e.prototype.getReferer=function(){return this.mReferer},e.prototype.getUSPStatus=function(){return this.mUSPStatus},e.prototype.getUSPString=function(){return this.mUSPString},e.prototype.isUserFromGDPRCountry=function(){return this.mIsUserFromGDPRCountry},e.prototype.isUserFromUSPState=function(){return this.mIsUserFromUSPState},e.prototype.getGlobalConfig=function(){return this.mGlobalConfig},e.prototype.userIdCallback=function(t,i){e.mICTID=t,t&&""!==t&&null!=this.mDFPParams&&this.mDFPParams.setICTID(t),i&&this.setUserCookieType(i)},e.getICUid=function(){return e.mICTID},e.getUserId=function(){return e.mUid},e.prototype.getAdFormMatchingSegmentIds=function(){return this.mAdFormMatchingSegmentIds},e.prototype.getTargetRulesTimeout=function(){return this.mTargetRuleTimeout},e.prototype.getRepeatPlacementbySelector=function(e){for(var t=0;t<this.mPlacements.length;++t){var i=this.mPlacements[t].getSelector();if(null!=i&&i.getIdentifier()==e&&i.getInsertionType()==l.InsertionType.REPEAT)return this.mPlacements[t]}},e.prototype.getPlacementbySelector=function(e){for(var t=[],i=0;i<this.mPlacements.length;++i){var r=this.mPlacements[i].getSelector();null!=r&&r.getIdentifier()==e&&t.push(this.mPlacements[i])}return t},e.prototype.getAllAdvancePlacements=function(){for(var e=[],t=0;t<this.mPlacements.length;++t)"ADVANCE"==this.mPlacements[t].getPublisherType()&&e.push(this.mPlacements[t]);return e},e.prototype.getPlacementByRandomNumber=e.prototype.render=function(){return n(this,void 0,void 0,(function(){var e,t;return s(this,(function(i){switch(i.label){case 0:for(this.renderPreloads(),e=[],t=0;t<this.mPlacements.length;++t)"ADVANCE"!=this.mPlacements[t].getPublisherType()&&e.push(this.mPlacements[t]);return e.length>0?[4,this.renderPlacements(e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.renderPostloads(),[2]}}))}))},e.prototype.clear=e.prototype.destroy=function(){for(var t=0;t<this.mPlacements.length;++t)this.mPlacements[t].destroy(),delete this.mPlacements[t];var i=e.getDropScriptWindow();e.mAPIReady=l.APIStatus.NOT_READY,i.IC_PAGE_ID=void 0,i.IC_MAX_TILE=void 0,i.IC_PAGE_LOG_FIRED=void 0,i.IC_VIEW_COUNT_SET=void 0,e.mPageId=void 0,this.destroyPageEventLogItems();var r=d.SSP.getInstance();r&&r.destroy(),this.mWaitingForPredictiveTimmer&&clearInterval(this.mWaitingForPredictiveTimmer),this.deactivateActivityTracker(this.mUserActivityThrottlerEvent),l.Utility.getInstance().destroy()},e.prototype.destroyPageEventLogItems=function(){e.mActiveUserTimeoutFromLastInteraction=3e3,e.mActiveUserTimeoutFromLastInteractionPassive=0,e.mUserTrackingTime=0,e.mUserTrackingStartTime=(new Date).valueOf(),e.mUserInactiveTime=(new Date).valueOf(),e.mUserIsInActive=!1,l.Utility.getInstance().resetPageEventGlobalObj();try{clearTimeout(e.mUidLogsIntervalInstance)}catch(e){}},e.prototype.executePredictiveTimeout=function(){if(this.mWaitingForPredictive=!1,this.mWaitingForPredictiveTimmer&&(clearInterval(this.mWaitingForPredictiveTimmer),this.mWaitingForPredictiveTimmer=null),this.mFunctionWaitingForPredictive&&this.mFunctionWaitingForPredictive.length>0){for(var e=0;e<this.mFunctionWaitingForPredictive.length;++e)"function"==typeof this.mFunctionWaitingForPredictive[e]&&this.mFunctionWaitingForPredictive[e]();this.mFunctionWaitingForPredictive=[]}},e.prototype.renderAdvancePlacements=function(e){return n(this,void 0,void 0,(function(){var t,i,r=this;return s(this,(function(n){switch(n.label){case 0:if(this.mWaitingForPredictive)return this.mFunctionWaitingForPredictive.push(this.renderAdvancePlacements.bind(this,e)),this.mWaitingForPredictiveTimmer||(this.mWaitingForPredictiveTimmer=setTimeout((function(){return r.executePredictiveTimeout}),1e3)),[2];if(this.mWaitingForGdprCmpData){for(i=0;i<e.length;++i)this.mAdvancePlacementsWaitingForGdprCmpData.push(e[i]);return[2]}for(t=[],i=0;i<e.length;++i)e[i].getWaitingForTarget()||e[i].getWaitingForNativeLayout()?-1==this.mAdvancePlacementsWaitingForTarget.indexOf(e[i].getRandomNumber())&&this.mAdvancePlacementsWaitingForTarget.push(e[i].getRandomNumber()):t.push(e[i]);return t.length>0?[4,this.renderPlacements(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},e.prototype.clearPlacement=function(e){for(var t=this.getPlacementbySelector(e),i=0;i<t.length;++i)t[i].clear()},e.prototype.refreshPlacement=function(e){for(var t=this.getPlacementbySelector(e),i=0;i<t.length;++i)t[i].isEligibleForRefreshing()&&(t[i].getLastRenderedTagType()==l.TagType.CUSTOM&&t[i].clear(),t[i].refresh())},e.prototype.refreshPlacements=function(){this.mReferer=e.calculateReferer(this.mDocumentType),this.calculateReferrerType();for(var t=0;t<this.mPlacements.length;++t){var i=this.mPlacements[t];i.isEligibleForRefreshing()&&(i.getLastRenderedTagType()==l.TagType.CUSTOM&&i.clear(),i.refresh())}},e.prototype.getCustomVariables=function(){return this.mCustomVariable},e.prototype.setKval=function(e){for(var t in e){var i=e[t];Array.isArray(i)||(i=[i]),i=l.Utility.getInstance().removeDuplicateFromArray(i),this.mPublisherKval[t]=i}},e.prototype.getPublisherKval=function(){return this.mPublisherKval},e.prototype.clearKval=function(e){if(null==e)this.mPublisherKval={};else if(Array.isArray(e))for(var t=0;t<e.length;++t){var i=e[t];i in this.mPublisherKval&&delete this.mPublisherKval[i]}},e.prototype.setLiverampId=function(t,i){var o=this;if(e.mIsCalledFromApi)this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Publisher called setUserId, sovrn uid module for liveramp wont' be applied");else if(e.mIsCalledFromApi=!0,-1==navigator.userAgent.toUpperCase().indexOf("TRIDENT/")&&null!=i&&""!=i&&"{}"!=i)if("phone"==t||"email"==t)var a=0,d=this,m=setInterval((function(){return n(o,void 0,void 0,(function(){var n,o,c;return s(this,(function(s){if(a+=1,this.mSSPConfig&&"addressability"in this.mSSPConfig&&0==e.isLiverampEnabled(this.mSSPConfig.addressability))return this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Liveramp is disabled. Won't Set User ID"),clearInterval(m),[2];if(void 0!==(n=e.getDropScriptWindow()).ats&&"object"==typeof n.ats)try{o="","phone"==t?o="phoneNumber":"email"==t&&(o="emailHashes"),c={type:o,id:i},this.mCmpGdprApplies&&""!=this.mCmpTcString?c=r({consentString:this.mCmpTcString,consentType:"gdpr"},c):this.mUSPStatus==l.USPStatus.APPLICABLE&&(c=r({consentString:this.mUSPString,consentType:"ccpa"},c)),this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Object passed to Liveramp:: "+JSON.stringify(c)),n.ats.setAdditionalData(c),this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("User Identity for Liveramp"),clearInterval(m)}catch(e){this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Error occured for setUserId:: e ::"+e),clearInterval(m)}else a>=60&&(d.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Breaking LiveRamp loop, as system not able to find ATS object for 1 minute."),clearInterval(m));return[2]}))}))}),1e3);else this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("triggerLiveramp : Invalid type : "+t)},e.prototype.defineTag=function(e,t,i,r,n){if(2==e.split("/").length){var s=e.split("/")[0];if(s.toLowerCase()!==this.mSite.getAdTagName().toLowerCase()){var o=r?l.ErrorType.PAGE_DEFINENATIVETAG_SITE_MISMATCH:l.ErrorType.PAGE_DEFINETAG_SITE_MISMATCH;return this.pushPlacementErrorLog(null,l.PlacementType.HTML,null,"ADVANCE",o,o.toString()+"("+s.toLowerCase()+")"),null}var a=!1,d=e.split("/")[1];d&&(d=d.toLowerCase()),this.getGlobalTarget()||this.getTargetKvalData(d,!1,r)&&"COMPLETED"!=this.getTargetStatus(d)&&(a=!0);var c=!1;r&&this.getNativeLayoutData(r)&&"COMPLETED"!=this.getNativeLayoutStatus(r)&&(c=!0);var u={id:null};this.mPlacements?u.id=100+this.mPlacements.length:u.id=100;var p=l.LoadType.CUSTOM,h=!1;if(n&&"object"==typeof n){if(n&&"load_type"in n){var g=n.load_type;g.toUpperCase()in l.LoadType&&(p=g.toUpperCase())}if(n&&"disable_force_zone"in n)try{0!=n.disable_force_zone&&1!=n.disable_force_zone||(h=n.disable_force_zone)}catch(e){}}u.loadType=p,u.devices=null,u.geolocations=null,u.frequency=null,u.callbacks=[],u.placementType=l.PlacementType.HTML,u.priority=0,u.selector={selectorid:null,identifier:"#"+i,type:l.InsertionType.FIRST_CHILD},u.targeting=null,u.tags=[{tagid:null,script:null,weight:1,type:l.TagType.DISPLAY,siteDFPKeyName:this.mSite.getDFPKeyName().toLowerCase(),target:{dfpkeyname:d,kval:null,rules:null},isforcedtargetenabled:h,gdprstatus:"SERVE_ALWAYS",adsize:t,nativelayout:{nativelayoutid:r}}],r&&(!c&&r in this.mNativeLayout&&"Data"in this.mNativeLayout[r]&&(u.tags[0].nativelayout=this.mNativeLayout[r].Data),u.tags[0].type=l.TagType.NATIVE);var f=new m.Placement(u,this,"ADVANCE",a,c);return this.mPlacements.push(f),f.initialiseObject(this.getMaxTile()),f.getLoadType()!=l.LoadType.CUSTOM&&(this.mUnrenderedPlacementIds[this.mUnrenderedPlacementIds.length]=f.getId()),f}},e.prototype.defineOutOfPageTag=function(e,t){if(2==e.split("/").length){var i=e.split("/")[0];if(i.toLowerCase()!==this.mSite.getAdTagName().toLowerCase())return this.pushPlacementErrorLog(null,l.PlacementType.HTML,null,"ADVANCE",l.ErrorType.PAGE_DEFINEOOPTAG_SITE_MISMATCH,l.ErrorType.PAGE_DEFINEOOPTAG_SITE_MISMATCH.toString()+"("+i.toLowerCase()+")"),null;var r=!1,n=e.split("/")[1];n&&(n=n.toLowerCase()),this.getGlobalTarget()||this.getTargetKvalData(n,!0)&&(r=!0);var s={id:null};this.mPlacements?s.id=100+this.mPlacements.length:s.id=100,s.loadType=l.LoadType.CUSTOM,s.devices=null,s.geolocations=null,s.frequency=null,s.callbacks=[],s.placementType=l.PlacementType.HTML,s.priority=0,s.selector={selectorid:null,identifier:"#"+t,type:l.InsertionType.FIRST_CHILD},s.targeting=null,s.tags=[{tagid:null,script:null,weight:1,type:l.TagType.DISPLAY,siteDFPKeyName:this.mSite.getDFPKeyName().toLowerCase(),target:{dfpkeyname:n,kval:null,rules:null},isforcedtargetenabled:!1,gdprstatus:"SERVE_ALWAYS",adsize:"oop",isOOPUnit:!0}];var o=new m.Placement(s,this,"ADVANCE",r);return this.mPlacements.push(o),o.initialiseObject(this.getMaxTile()),o.getLoadType()!=l.LoadType.CUSTOM&&(this.mUnrenderedPlacementIds[this.mUnrenderedPlacementIds.length]=o.getId()),o}},e.prototype.defineWebInterstitialTag=function(e,t){if(2==e.split("/").length){var i=e.split("/")[0];if(i.toLowerCase()!==this.mSite.getAdTagName().toLowerCase())return this.pushPlacementErrorLog(null,l.PlacementType.HTML,null,"ADVANCE",l.ErrorType.PAGE_DEFINEOOPTAG_WI_SITE_MISMATCH,l.ErrorType.PAGE_DEFINEOOPTAG_WI_SITE_MISMATCH.toString()+"("+i.toLowerCase()+")"),null;var r=!1,n=e.split("/")[1];n&&(n=n.toLowerCase()),this.getGlobalTarget()||this.getTargetKvalData(n,!0)&&(r=!0);var s={id:null};this.mPlacements?s.id=100+this.mPlacements.length:s.id=100,s.loadType=l.LoadType.CUSTOM,s.devices=null,s.geolocations=null,s.frequency=null,s.callbacks=[],s.placementType=l.PlacementType.HTML,s.priority=0,s.selector={selectorid:null,identifier:"#"+t,type:l.InsertionType.FIRST_CHILD},s.targeting=null,s.tags=[{tagid:null,script:null,weight:1,type:l.TagType.DISPLAY,siteDFPKeyName:this.mSite.getDFPKeyName().toLowerCase(),target:{dfpkeyname:n,kval:null,rules:null},isforcedtargetenabled:!1,gdprstatus:"SERVE_ALWAYS",adsize:"webinterstitial",isOOPWIUnit:!0}];var o=new m.Placement(s,this,"ADVANCE",r);return this.mPlacements.push(o),o.initialiseObject(this.getMaxTile()),o.getLoadType()!=l.LoadType.CUSTOM&&(this.mUnrenderedPlacementIds[this.mUnrenderedPlacementIds.length]=o.getId()),o}},e.prototype.getElementForThePlacement=function(t){var i;try{if(this.mPlacements&&this.mPlacements.length)for(var r=0;r<this.mPlacements.length;++r){var n=this.mPlacements[r];if(n&&n.getType()===l.PlacementType.HTML&&n.getRandomNumber()===t&&n.getSelector()){i=n.getId();var s=l.Utility.getInstance().getEmptyElementsForSelector(n.getSelector().getIdentifier(),e.mPageId,i);if(s.length>0)return s[0]}}}catch(e){console.log(e),l.Utility.getInstance().ic_ga_event("Error","Template.getElementForThePlacement",e.message,i)}},e.prototype.loadMore=function(){return n(this,void 0,void 0,(function(){var t,i,r,n,o,a,d,m,u;return s(this,(function(s){switch(s.label){case 0:t=[],i=[],u=0,s.label=1;case 1:if(!(u<this.mPlacements.length))return[3,6];if((m=this.mPlacements[u]).getType()==l.PlacementType.PIXEL||m.getSelector().getInsertionType()!=l.InsertionType.REPEAT||!m.isParent())return[3,5];r=l.Utility.getInstance().getEmptyElementsForSelector(m.getSelector().getIdentifier(),e.mPageId,this.mPlacements[u].getId()),n=0,s.label=2;case 2:return n<r.length?(o=new c.default(JSON.parse(m.getRawData()),this,m.getPublisherType()),this.mPlacements.push(o),o.initialiseObject(this.getMaxTile()),o.getSSPAdSizes(),o.makeChild(),t.push(o),[4,this.preparePlacementForSSP(o)]):[3,5];case 3:(a=s.sent())&&i.push(a),s.label=4;case 4:return++n,[3,2];case 5:return++u,[3,1];case 6:return i?[4,this.callSSPToFetchTheBids(i)]:[3,8];case 7:s.sent(),this.mSSPFetchBidsStartTime=(new Date).getTime(),s.label=8;case 8:for(d=[],u=0;u<t.length;++u)(m=t[u]).isEligibleForRendering(!1)&&(m.getType()==l.PlacementType.HTML&&m.getTagToRender().getType()==l.TagType.DISPLAY&&this.isSingleRequestEnabled()&&this.addTagToRenderArray(m.getDivId(),m.getTagToRender(),m.getLoadType()),d.push(m));for(u=0;u<d.length;++u)d[u].render();return[2]}}))}))},e.prototype.getParametersForDFP=function(){var e=r(r(r({},this.mKeyVal),this.mDFPParams),this.mPixelSegment);return this.mDoubleVerifyData&&(e=r(r({},e),this.mDoubleVerifyData)),e},e.markitCallbackAtTemplate=function(e){var t={};for(var i in e)t[i]=e[i];d.DMP.getInstance().addDmpProperty(t)},e.prototype.calculatePosition=function(e,t){for(var i=0,r=0;r<this.mPlacements.length;++r){var n=this.mPlacements[r],s=n.getNonNullPrimaryAdSize();if(null!=s&&s==e&&++i,n.getRandomNumber()==t)break}return i},e.prototype.eligibleForBottomZoning=function(e){for(var t=e.getNonNullPrimaryAdSize(),i=0;i<this.mPlacements.length;++i){var r=this.mPlacements[i];if(r.getId()==e.getId())return!1;if(r.getState()!=l.PlacementState.SELECTOR_NOT_LOADED&&r.getState()!=l.PlacementState.TAG_NOT_AVAILABLE){var n=r.getNonNullPrimaryAdSize();if(null!=n&&n==t)return!0}}return!1},e.getStackHorizontalEnabled=function(){return e.mStackServeHorizontalEnabled},e.getStackVerticalalEnabled=function(){return e.mStackServeVerticalEnabled},e.prototype.getPageId=function(){return e.mPageId},e.getPageIdValue=e.getAPIKey=function(){return this.mApiKey},e.prototype.getDeviceType=function(){return this.mDeviceType},e.prototype.getReferrerType=function(){return this.mReferrerType},e.prototype.getPageType=function(){return this.mPageType},e.prototype.getCountryCode=function(){return this.mCountryCode},e.prototype.getDocumentType=function(){return this.mDocumentType},e.prototype.IsSearchEngine=function(){return this.mIsSearchEngine},e.prototype.getGlobalTarget=function(){return this.mGlobalTarget},e.prototype.getKeyVal=function(){return this.mKeyVal},e.prototype.getAutoTargetStatus=function(){return this.mAutoTargetStatus},e.prototype.getPixelSegment=function(){return this.mPixelSegment},e.prototype.activateAdForm=function(){var t,i;e.getDropScriptWindow().AdformAT=(t=[],i=function(){return t.push([].slice.call(arguments)),i},i.q=t,i)},e.prototype.initializeAdForm=function(){var t=e.getDropScriptWindow(),i=this;t.AdformAT("init",this.mAdFormAudienceToken),t.AdformAT("cookieSegments",(function(t,r){var n=r;if(200==t&&(n=JSON.parse(r)).length>0){var s=[];if(""!=e.mAdFormGlobalSegments){try{s=e.mAdFormGlobalSegments.split(",")}catch(e){}if(s.length>0)for(var o in n)if("SegmentID"in n[o]){var a=n[o].SegmentID;e.mAdFormSegmentIds.push(a),s.indexOf(a.toString())>-1&&i.mAdFormMatchingSegmentIds.push(a)}}}i.mIsDebugModeEnabled&&(l.Utility.getInstance().debugConsoleMessage("AdForm Callback response :: ",n),l.Utility.getInstance().debugConsoleMessage("AdForm Callback mAdFormSegmentIds :: ",e.mAdFormSegmentIds),l.Utility.getInstance().debugConsoleMessage("AdForm Callback mAdFormMatchingSegmentIds :: ",i.mAdFormMatchingSegmentIds))}))},e.prototype.getPageNameForAdForm=function(){var t="WEB|"+this.mSite.getAdTagName()+"|PageView";return e.mAdFormPageName=t,t},e.getUIDForAdForm=function(){var t="",i=e.getDropScriptWindow();if("Adform"in i){var r=i.Adform;"_uid"in r&&(t=r._uid)}return t},e.prototype.getTargetData=function(e){return(e=e.replace(".bottom",""))in this.mTargetData?this.mTargetData[e].Data:null},e.prototype.getTargetStatus=function(e){return(e=e.replace(".bottom",""))in this.mTargetData?this.mTargetData[e].Status:"FAILED"},e.prototype.getNativeLayoutStatus=e.prototype.getAutoRefreshConfig=function(e){var t=null;return this.mAutoRefreshConfig.IsEnabled&&null!=e&&(t=this.parseAndGetAutoRefreshConfig(this.mAutoRefreshConfig,e)),t&&null!=t||(t={IsEnabled:!1}),t},e.prototype.getAutoRefreshEnabled=e.prototype.getSSPConfig=function(){return this.mSSPConfig},e.getAPIStatus=function(){return e.mAPIReady},e.registerAPIReadyCallback=function(t){e.mAPIReady==l.APIStatus.READY?"function"==typeof t&&t():l.Utility.ICJQuery(document).on("Callback_ICAPI_Ready",()},e.prototype.isDebugModeEnabled=function(){return this.mIsDebugModeEnabled},e.prototype.setConfig=function(e){this.mConfig=e},e.prototype.getConfig=function(){return this.mConfig},e.prototype.setLastDFPCallTime=function(e){this.mLastDFPCallTime=e},e.prototype.getLastDFPCallTime=function(){return this.mLastDFPCallTime},e.prototype.getOnViewBufferPercentage=function(){return this.mOnViewBuffer},e.prototype.getDFPCallBufferTime=function(){return this.mDFPCallBufferTime},e.prototype.getSSPPrebidIgnoreList=function(){return this.mPrebidSSPIgnoreList},e.prototype.getSite=function(){return this.mSite},e.getEligibleS2SBidders=function(){return e.s2sBiddersList},e.isFloorPriceApplicable=function(){var t=!1;return e.mIsFloorPriceEnabled&&Object.keys(e.mFloorPrice).length>0&&Math.floor(10*Math.random())+1<=10*e.mFloorSampling&&(t=!0),t},e.getMaxScrollDepth=function(){return e.mMaxScrollDepth},e.getHashSuppliedByPublisher=function(){var t="";for(var i in e.mPublisherSuppliedHash)""!=e.mPublisherSuppliedHash[i]&&(t=t+i+":"+e.mPublisherSuppliedHash[i]+";");return t},e.prototype.dropGlobalTargetRules=function(){null!=this.mGlobalTarget&&null!=this.mGlobalTarget.rules&&this.executeTargetRules(this.mGlobalTarget.dfpkeyname,this.mGlobalTarget.rules)},e.prototype.executeTargetRules=function(e,t){this.mTargetRulesDropped.indexOf(e)>-1||(this.mTargetRulesDropped.push(e),l.Utility.getInstance().executeOnLoad(t))},e.prototype.singleRequestCallback=function(e){if(this.mIsSingleRequestEnabled=e,!this.mIsSingleRequestEnabled){var t=[],i=d.DATManager.getInstance();for(var r in this.mCustomTagsToRender)"ReadyToRender"==this.mCustomTagsToRender[r].Status&&t.push(this.mCustomTagsToRender[r].Tag.getDAT());for(var r in this.mOnLoadTagsRender)"ReadyToRender"==this.mOnLoadTagsRender[r].Status&&t.push(this.mOnLoadTagsRender[r].Tag.getDAT());for(var r in this.mRealTimeTagsRender)"ReadyToRender"==this.mRealTimeTagsRender[r].Status&&t.push(this.mRealTimeTagsRender[r].Tag.getDAT());null!=i&&t.length>0&&(this.setLastDFPCallTime((new Date).valueOf()),i.callDFPRender(t),this.mRealTimeTagsRender={},this.mOnLoadTagsRender={},this.mCustomTagsToRender={})}},e.prototype.isSingleRequestEnabled=function(){return this.mIsSingleRequestEnabled},e.prototype.addTagToRenderArray=function(e,t,i){switch(i){case l.LoadType.CUSTOM:if(e in this.mCustomTagsToRender)return;this.mCustomTagsToRender[e]={Tag:t,Status:"InProgress"};break;case l.LoadType.ON_LOAD:if(e in this.mOnLoadTagsRender)return;this.mOnLoadTagsRender[e]={Tag:t,Status:"InProgress"};break;case l.LoadType.ON_REALTIME:if(e in this.mRealTimeTagsRender)return;this.mRealTimeTagsRender[e]={Tag:t,Status:"InProgress"}}},e.prototype.readyToRender=function(e,t,i){var r=[];switch(t){case l.LoadType.CUSTOM:for(var n in e in this.mCustomTagsToRender&&(this.mCustomTagsToRender[e].Status="ReadyToRender"),this.mCustomTagsToRender){if("ReadyToRender"!=this.mCustomTagsToRender[n].Status)return;r.push(this.mCustomTagsToRender[n].Tag.getDAT())}this.mCustomTagsToRender={};break;case l.LoadType.ON_LOAD:for(var n in e in this.mOnLoadTagsRender&&(this.mOnLoadTagsRender[e].Status="ReadyToRender"),this.mOnLoadTagsRender){if("ReadyToRender"!=this.mOnLoadTagsRender[n].Status)return;r.push(this.mOnLoadTagsRender[n].Tag.getDAT())}this.mOnLoadTagsRender={};break;case l.LoadType.ON_REALTIME:for(var n in e in this.mRealTimeTagsRender&&(this.mRealTimeTagsRender[e].Status="ReadyToRender"),this.mRealTimeTagsRender){if("ReadyToRender"!=this.mRealTimeTagsRender[n].Status)return;r.push(this.mRealTimeTagsRender[n].Tag.getDAT())}this.mRealTimeTagsRender={};break;case l.LoadType.ONLOAD_ONVIEW:case l.LoadType.ON_VIEW:r.push(i.getDAT())}var s=d.DATManager.getInstance();null!=s&&r.length>0&&(this.setLastDFPCallTime((new Date).valueOf()),s.callDFPRender(r))},e.prototype.addTagToRefreshArray=function(e,t){e in this.mTagsToRefresh||(this.mTagsToRefresh[e]={Tag:t,Status:"InProgress"})},e.prototype.readyToRefresh=function(e){e in this.mTagsToRefresh&&(this.mTagsToRefresh[e].Status="ReadyToRefresh");var t=[];for(var i in this.mTagsToRefresh){if("ReadyToRefresh"!=this.mTagsToRefresh[i].Status)return;t.push(this.mTagsToRefresh[i].Tag.getDAT())}var r=d.DATManager.getInstance();r&&t.length>0&&(this.setLastDFPCallTime((new Date).valueOf()),r.callDFPRefresh(t)),this.mTagsToRefresh={}},e.prototype.getSSPFetchBidsStartTime=function(){return this.mSSPFetchBidsStartTime},e.prototype.queueProcessed=function(){return n(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this.mIsAllPlacementRendered?[2]:[4,this.processTaglessPlacements()];case 1:return e.sent(),this.fetchEncryptedEmailFromDom(),this.prepareAndPassHashedEmails(),[2]}}))}))},e.prototype.getSSPEnabledAdSizes=function(e){var t=e.getSSPAdSizes(),i=[];if(!t)return null;for(var r=0;r<t.length;++r)this.mSSPConfig.enabledAdSizes&&this.mSSPConfig.enabledAdSizes.indexOf(t[r])<0||i.push(t[r]);return i},e.prototype.preparePlacementForSSP=function(t){return n(this,void 0,void 0,(function(){var i,r,n;return s(this,(function(s){switch(s.label){case 0:return(i=this.getSSPEnabledAdSizes(t))&&i.length>0?[4,this.getPredictiveValue(t,"o",i)]:[3,2];case 1:return r=s.sent(),this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Inside preparePlacementForSSP :: Predictive Value :: ",r),n=this.isSspHVPlacement(r),[2,{divId:t.getDivId(),adSize:i,position:t.getPosition(),tile:t.getTile(),primaryAdSize:t.getNonNullPrimaryAdSize(),isSspHVPlacement:n,thirdPartyCookie:e.mUserCookieType,isAdhesion:t.checkAdhesionPlacement(),nativeLayout:t.getNativeLayout(),tag:t.getTagToRender()}];case 2:return[2,null]}}))}))},e.getFloorPrice=function(){return e.mFloorPrice},e.filterFloorPriceByCookieType=function(t,i){var r;try{var n="f";"t"==t&&(n="t"),e.mIsFloorPriceEnabled&&i&&""!=i&&void 0!==i[n]&&(r=i[n])}catch(e){console.log(e)}return r},e.prototype.getFloorPRice=function(){return e.mFloorPrice},e.prototype.fetchFloorPrice=function(t,i){if(e.mIsFloorPriceEnabled&&""!=t){var r=this,n=this.mFloorPriceUrl+"_"+t+".json";try{r.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("FloorPrice Requesting API :: "+(new Date).getTime()),l.Utility.ICJQuery.support.cors=!0,l.Utility.ICJQuery.getJSON({url:n,async:!0,dataType:"json",type:"GET",success:function(t){e.mFloorPrice={},t?(r.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("FloorPrice API success :: "+(new Date).getTime()),t&&""!=t&&(e.mFloorPrice=t)):(r.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Not able to fetch floor price file from server"),l.Utility.getInstance().ic_ga_event("Error","Template.fetchFloorPrice","Invalidate Data :: Not getting the response from the server for the url: "+n))},error:function(e,t,i){r.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Error while fetching file :: fetchFloorPrice :: "+n+" : "+e.status+" : "+e.statusText+" :  : "+t+" : "+i),403===e.status?l.Utility.getInstance().ic_ga_event("Info","Template.fetchFloorPrice","Error while fetching file :: fetchFloorPrice :: "+n+" : "+e.status+" : "+e.statusText+" :  : "+t+" : "+i):0===e.status?l.Utility.getInstance().ic_ga_event("Error","Template.fetchFloorPrice","Server returned with status code: "+e.status+" and status message: "+e.statusText):l.Utility.getInstance().ic_ga_event("Error","Template.fetchFloorPrice","Status: "+e.status+" Status Text: "+e.statusText+" Response Text: "+e.responseText+" $# "+t+"floor url: "+n+" $# "+i)}})}catch(e){r.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Template.fetchFloorPrice :: error: ",e),l.Utility.getInstance().ic_ga_event("Error","Template.fetchFloorPrice",e.message+" floorUrl: "+n)}}else this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Floor Price file will not be fetched. mIsFloorPriceEnabled :: "+e.mIsFloorPriceEnabled+" : referrerType : "+t)},e.prototype.callSSPToFetchTheBids=function(e){return n(this,void 0,void 0,(function(){var t,i,r,o,a,d=this;return s(this,(function(m){switch(m.label){case 0:return t=-1!=navigator.userAgent.toUpperCase().indexOf("TRIDENT/"),this.mDocumentType==l.DocumentType.IFRAME||t?[3,4]:(i=0,-1!==this.sspRotationEnabledSsps.indexOf("a9")&&(i=1),r=this.mSspAdapterDownloadTimeout,o=l.Utility.window.top,a=setInterval((function(){return n(d,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this.mSspAdapterDownloadtimer=this.mSspAdapterDownloadtimer+this.mSspAdapterDownloadInterval,this.mSspAdapterDownloadtimer>=r||void 0!==o.ic_pbjs.installedModules&&o.ic_pbjs.installedModules.length-2==this.sspRotationEnabledSsps.length-i?(this.fetchBidsDelay=!1,clearInterval(a),[4,this.callSSPToFetchTheBidsAfterInterval(e)]):[3,2];case 1:return[2,t.sent()];case 2:return[3,4];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}),this.mSspAdapterDownloadInterval),this.fetchBidsDelay?[4,a]:[3,2]);case 1:case 3:return[2,m.sent()];case 2:return clearInterval(a),[4,this.callSSPToFetchTheBidsAfterInterval(e)];case 4:return[2,!1]}}))}))},e.prototype.callSSPToFetchTheBidsAfterInterval=function(e){return n(this,void 0,void 0,(function(){return s(this,(function(t){return d.SSP.getInstance()||d.SSP.createInstance(this.mSSPConfig),e.length>0?(d.SSP.getInstance().fetchBids(e,this.mUrl,this.mSspsLogsParams,this.sspRotationEnabledSsps),[2,!0]):[2,!1]}))}))},e.prototype.processTaglessPlacements=function(){return n(this,void 0,void 0,(function(){var t,i,r,n,o,a=this;return s(this,(function(s){switch(s.label){case 0:if(this.mWaitingForGdprCmpData)return[2];if(this.mIsAllPlacementRendered=!0,t=[],this.mDocumentType==l.DocumentType.IFRAME)return[3,7];if(this.mWaitingForPredictive)return this.mFunctionWaitingForPredictive.push(this.processTaglessPlacements.bind(this)),this.mWaitingForPredictiveTimmer||(this.mWaitingForPredictiveTimmer=setTimeout((function(){return a.executePredictiveTimeout}),1e3)),[2];i=0,s.label=1;case 1:return i<this.mPlacements.length?"ADVANCE"==this.mPlacements[i].getPublisherType()?[3,3]:[4,this.preparePlacementForSSP(this.mPlacements[i])]:[3,4];case 2:(r=s.sent())&&t.push(r),null!=(n=e.checkAndPrepareDummyPlacements(r))&&t.push(n),s.label=3;case 3:return++i,[3,1];case 4:return(o=t)?[4,this.callSSPToFetchTheBids(t)]:[3,6];case 5:o=s.sent(),s.label=6;case 6:o&&(this.mSSPFetchBidsStartTime=(new Date).getTime()),s.label=7;case 7:return this.render(),[2]}}))}))},e.checkAndPrepareDummyPlacements=function(t){if(!t||0===Object.keys(t).length)return null;var i=r({},t);return 1==e.mStackServeHorizontalEnabled&&"primaryAdSize"in t&&"adSize"in t&&i.adSize.indexOf("970x250")>=0?(i.primaryAdSize="300x250",i.adSize=["300x250"],i.divId=t.divId+"_stack32",i.parentAdSize=t.primaryAdSize,i):null},e.prototype.getPredictiveEnabledAdSizes=function(e){for(var t=[],i=0;i<e.length;++i)this.mPredictiveAdSizes.indexOf(e[i])>-1&&t.push(e[i]);return t},e.prototype.getPredictiveValue=function(e,t,i){return n(this,void 0,void 0,(function(){var r,n,o,a,d,m;return s(this,(function(s){switch(s.label){case 0:return r=null,this.isPredictiveWorkerLoaded&&this.mIsPredictiveEnabled?(n=this.getPredictiveEnabledAdSizes(i))&&0!=n.length?(o=null,a=null,this.getDocumentType()==l.DocumentType.PAGE&&(a=l.Utility.getInstance().getBrowserSize(),(d=this.getElementForRelativeHeight(e))&&(o=this.calculateRelativePosition(d))),(m={}).browserSize=a,m.pos=e.getPosition(),m.relativePosition=o,m.pageType=this.getPageType()?this.getPageType():null,m.art=t,m.documentType=this.getDocumentType(),m.deviceType=this.getDeviceType(),m.adSizes=n,[4,this.workerPredict(m)]):[2,r]:[3,2];case 1:(r=s.sent())&&r.response&&(r=r.response);try{this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage('Received value "'+JSON.stringify(r)+'" from Predictive for adsize '+n)}catch(e){console.log(e)}s.label=2;case 2:return[2,r]}}))}))},e.prototype.isSspHVPlacement=function(e){if(!e)return!1;for(var t in e)if(e.hasOwnProperty(t)&&e[t]>this.mSspHVPredictiveThreshold)return!0;return!1},e.prototype.getElementForRelativeHeight=function(e){if(e.getDivId()&&document.getElementById(e.getDivId()))return document.getElementById(e.getDivId());var t=this.getElementForThePlacement(e.getId());return t?l.Utility.ICJQuery(t):null},e.prototype.calculateRelativePosition=function(e){var t=e.getBoundingClientRect();return null==t||null==t||0==t.top&&0==t.left&&0==t.right&&0==t.bottom?null:Math.round(t.left)+"x"+Math.round(t.top)},e.prototype.getSponsorPagePath=function(){return this.mSponsorPagePath},e.prototype.getUserCookieType=function(){return e.mUserCookieType},e.prototype.setUserCookieType=function(t){if(e.mUserCookieType=t,null!=this.mDFPParams){this.mDFPParams.setUserCookie(t);var i={};i.cookietype=t,d.DMP.getInstance().addDmpProperty(i)}},e.prototype.activateActivityTracker=function(e){l.Utility.window.attachEvent?(l.Utility.window.attachEvent("mousemove",e,!1),l.Utility.window.attachEvent("mousedown",e,!1),l.Utility.window.attachEvent("keypress",e,!1),l.Utility.window.attachEvent("resize",e,!1),l.Utility.window.attachEvent("DOMMouseScroll",e,!1),l.Utility.window.attachEvent("mousewheel",e,!1),l.Utility.window.attachEvent("touchmove",e,!1),l.Utility.window.attachEvent("MSPointerMove",e,!1),this.getDocumentType()!=l.DocumentType.PAGE&&this.getDocumentType()!=l.DocumentType.IFRAME&&(l.Utility.window.top.attachEvent("mousemove",e),l.Utility.window.top.attachEvent("mousedown",e),l.Utility.window.top.attachEvent("keypress",e),l.Utility.window.top.attachEvent("resize",e),l.Utility.window.top.attachEvent("DOMMouseScroll",e),l.Utility.window.top.attachEvent("mousewheel",e),l.Utility.window.top.attachEvent("touchmove",e),l.Utility.window.top.attachEvent("pointermove",e))):(l.Utility.window.addEventListener("mousemove",e,!1),l.Utility.window.addEventListener("mousedown",e,!1),l.Utility.window.addEventListener("keypress",e,!1),l.Utility.window.addEventListener("resize",e,!1),l.Utility.window.addEventListener("DOMMouseScroll",e,!1),l.Utility.window.addEventListener("mousewheel",e,!1),l.Utility.window.addEventListener("touchmove",e,!1),l.Utility.window.addEventListener("MSPointerMove",e,!1),this.getDocumentType()!=l.DocumentType.PAGE&&this.getDocumentType()!=l.DocumentType.IFRAME&&(l.Utility.window.top.addEventListener("mousemove",e,!1),l.Utility.window.top.addEventListener("mousedown",e,!1),l.Utility.window.top.addEventListener("keypress",e,!1),l.Utility.window.top.addEventListener("resize",e,!1),l.Utility.window.top.addEventListener("DOMMouseScroll",e,!1),l.Utility.window.top.addEventListener("mousewheel",e,!1),l.Utility.window.top.addEventListener("touchmove",e,!1),l.Utility.window.top.addEventListener("MSPointerMove",e,!1))),this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("activateActivityTracker Register events")},e.prototype.deactivateActivityTracker=function(e){l.Utility.window.detachEvent?(l.Utility.window.detachEvent("mousemove",e),l.Utility.window.detachEvent("mousedown",e),l.Utility.window.detachEvent("keypress",e),l.Utility.window.detachEvent("resize",e),l.Utility.window.detachEvent("DOMMouseScroll",e),l.Utility.window.detachEvent("mousewheel",e),l.Utility.window.detachEvent("touchmove",e),l.Utility.window.detachEvent("pointermove",e),this.getDocumentType()!=l.DocumentType.PAGE&&this.getDocumentType()!=l.DocumentType.IFRAME&&(l.Utility.window.top.detachEvent("mousemove",e),l.Utility.window.top.detachEvent("mousedown",e),l.Utility.window.top.detachEvent("keypress",e),l.Utility.window.top.detachEvent("resize",e),l.Utility.window.top.detachEvent("DOMMouseScroll",e),l.Utility.window.top.detachEvent("mousewheel",e),l.Utility.window.top.detachEvent("touchmove",e),l.Utility.window.top.detachEvent("pointermove",e))):(l.Utility.window.removeEventListener("mousemove",e),l.Utility.window.removeEventListener("mousedown",e),l.Utility.window.removeEventListener("keypress",e),l.Utility.window.removeEventListener("resize",e),l.Utility.window.removeEventListener("DOMMouseScroll",e),l.Utility.window.removeEventListener("mousewheel",e),l.Utility.window.removeEventListener("touchmove",e),l.Utility.window.removeEventListener("MSPointerMove",e),this.getDocumentType()!=l.DocumentType.PAGE&&this.getDocumentType()!=l.DocumentType.IFRAME&&(l.Utility.window.top.removeEventListener("mousemove",e),l.Utility.window.top.removeEventListener("mousedown",e),l.Utility.window.top.removeEventListener("keypress",e),l.Utility.window.top.removeEventListener("resize",e),l.Utility.window.top.removeEventListener("DOMMouseScroll",e),l.Utility.window.top.removeEventListener("mousewheel",e),l.Utility.window.top.removeEventListener("touchmove",e),l.Utility.window.top.removeEventListener("MSPointerMove",e)))},e.prototype.userActivityThrottler=function(){this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("userActivityThrottler  isInactive=true "),e.mUserInactiveTime=(new Date).valueOf(),this.mUserInactiveTimeAdRefresh=(new Date).valueOf(),e.setUserActiveTime();var t=l.Utility.getInstance().getScrollDepth();t&&t>e.mMaxScrollDepth&&(e.mMaxScrollDepth=t)},e.setUserActiveTime=function(){var t=e.mUserInactiveTime-e.mUserActivityStartTime;e.mUserActiveTime=e.mUserActiveTime+t,e.mUserActivityStartTime=e.mUserInactiveTime;var i=(new Date).valueOf()-e.mUserInactiveTime,r=0;i>=e.mActiveUserTimeoutFromLastInteraction?this.mUserIsInActive||(r=e.mActiveUserTimeoutFromLastInteraction-this.mActiveUserTimeoutFromLastInteractionPassive,this.mUserIsInActive=!0):i<e.mActiveUserTimeoutFromLastInteraction&&(r=i,this.mUserIsInActive||(r=r+(e.mUserInactiveTime-e.mUserTrackingStartTime)-this.mActiveUserTimeoutFromLastInteractionPassive),e.mUserTrackingStartTime=e.mUserInactiveTime,this.mUserIsInActive=!1,this.mActiveUserTimeoutFromLastInteractionPassive=i),r&&(e.mUserTrackingTime=e.mUserTrackingTime+r)},e.getUserTrackingTime=e.prototype.getIsUserInActive=function(e){return!!this.mUserInactiveTimeAdRefresh&&(new Date).valueOf()-this.mUserInactiveTimeAdRefresh>e},e.prototype.getUserInactiveTime=function(e){return this.mUserInactiveTimeAdRefresh?(new Date).valueOf()-(this.mUserInactiveTimeAdRefresh+e):0},e.IsLiveRampCalledFromApi=function(){return e.mIsCalledFromApi},e.prototype.setId5Uid=function(t){var i=this;if(-1==navigator.userAgent.toUpperCase().indexOf("TRIDENT/")&&""!=t&&null!=t)var r=0,o=this,a=setInterval((function(){return n(i,void 0,void 0,(function(){var i,n,d,m,c,u;return s(this,(function(s){try{if("IsEnabled"in this.mId5UidModule&&0==this.mId5UidModule.IsEnabled)return clearInterval(a),[2];r+=1,(i=l.Utility.window.top).ID5&&"object"==typeof i.ID5?(clearInterval(a),"IsEnabled"in this.mId5UidModule&&1==this.mId5UidModule.IsEnabled&&"pid"in this.mId5UidModule&&(n=this.mId5UidModule.pid,d=encodeURIComponent(this.uSite.getip()),m=encodeURIComponent(navigator.userAgent),c="1="+encodeURIComponent(t)+"&10="+d+"&12="+m,u=btoa(c),i.ID5.init({partnerId:n,pd:u}).onAvailable((function(t){o.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("ID5 Callback: returned userId : "+t.getUserId().toString()+" :: "+JSON.stringify(t.getUserIdAsEid())),e.mId5UserIds={userId:t.getUserId(),userIdAsEid:t.getUserIdAsEid()}})))):r>=60&&(o.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Breaking Id5 loop, as system not able to find ID5 object for 1 minute."),clearInterval(a))}catch(e){this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Error occured for setId5Uid:: e ::"+e),clearInterval(a)}return[2]}))}))}),1e3)},e.getId5USerIds=function(){return e.mId5UserIds},e.isConnectIdEnabled=function(){return e.mConnectUidEnabled},e.prototype.prepareAndPassHashedEmails=function(){var t=e.getHashedEmailFromLocalStorage(),i=!1;if(""==t)i=!0;else{if("SHA1"in t&&"SHA256"in t&&"MD5"in t&&(""!=t.SHA1||""!=t.SHA256||""!=t.MD5)){var r=[];""!=t.SHA1&&""!=t.SHA256||""!=t.SHA1&&""!=t.MD5||""!=t.MD5&&""!=t.SHA256?(this.dropId5Script(),this.dropConnectUidScript(),""!=t.SHA1&&r.push(t.SHA1),""!=t.SHA256&&r.push(t.SHA256),""!=t.MD5&&r.push(t.MD5),this.setId5Uid(t.SHA256),this.dropSovrnScript(!0)):""!=t.SHA1?(r.push(t.SHA1),this.dropSovrnScript(!1)):""!=t.SHA256?(this.dropId5Script(),this.dropConnectUidScript(),this.dropSovrnScript(!1),this.setId5Uid(t.SHA256),r.push(t.SHA256)):""!=t.MD5&&(r.push(t.MD5),this.dropSovrnScript(!1)),r.length>0&&this.setLiverampId("email",r)}if("e"in t){var n=+t.e;(new Date).getTime()>n&&(i=!0)}}1==i&&this.checkAndSetPubCommId()},e.prototype.checkAndSetPubCommId=function(){var t=this;if(1!=this.mUserTriggeredEncryptionApi){var i=!1,r=e.getPubCommId();if(r&&null!=r&&""!=r?this.setHashedEmailToLocalStorage(r):i=!0,1==i)var n=0,s=setInterval((function(){try{n=+n+1;var i=e.getPubCommId();i&&null!=i&&""!=i&&(clearInterval(s),t.setHashedEmailToLocalStorage(i),t.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage(" isPubCommIdSet :: true")),n>=60&&(clearInterval(s),t.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage(" isPubCommIdSet :: false"))}catch(e){console.log("isPubCommIdSet : ERROR :: "+e),clearInterval(s)}}),1e3)}},e.getPubCommId=function(){var e="",t=l.Utility.getInstance();if(t.isLocalStorageSupported&&(e=t.getFromLocalStorage(this.mPubCommonIdLocalStorageName),t.isCookieExists(this.mPubCommonIdCookieName))){var i=l.Utility.getInstance().getFromCookie(this.mPubCommonIdCookieName);""!=i&&i!=e&&(t.saveToLocalStorage(this.mPubCommonIdLocalStorageName,i),e=i)}return e},e.getHashedEmailFromLocalStorage=function(){var e="",t=l.Utility.getInstance();if(t.isLocalStorageSupported()){var i=t.getFromLocalStorage(this.mICHashedEmailLocalStorageName);if(i&&""!=i)try{e=JSON.parse(i)}catch(e){console.log("getHashedEmailFromLocalStorage : ERROR :: strHashedEmail "+i+" :: ERROR :: "+e)}}return e},e.prototype.setHashedEmailToLocalStorage=function(t){var i=this;if(t&&null!=t&&""!=t){var r=l.Utility.getInstance();l.Utility.ICJQuery.ajax({url:l.Constant.UAT_HASHED_EMAIL_URL+t,async:!0,type:"GET",success:function(t){return n(i,void 0,void 0,(function(){var i,n,o,a,l,d,m;return s(this,(function(s){i=e.mICHashedEmailLocalStorageName,n=(new Date).setMinutes(+this.mEmptyHashedEmailExpiry).toString(),o=e.getHashedEmailFromLocalStorage(),a={SHA1:"",SHA256:"",MD5:"",e:n},""!=o&&("SHA1"in o&&(a.SHA1=o.SHA1),"SHA256"in o&&(a.SHA256=o.SHA256),"MD5"in o&&(a.MD5=o.MD5));try{t&&null!=t&&""!=t&&("SHA1"in(l=JSON.parse(t))&&"SHA256"in l&&"MD5"in l&&(""!=l.SHA1||""!=l.SHA256||""!=l.MD5)?(this.setSovrnUidDfpKeyVal(!0),d=[],m=(new Date).setMinutes(+this.mValidHashedEmailExpiry).toString(),""!=l.SHA1&&""!=l.SHA256||""!=l.SHA1&&""!=l.MD5||""!=l.MD5&&""!=l.SHA256?(this.dropId5Script(),this.dropConnectUidScript(),a.SHA1=l.SHA1,a.SHA256=l.SHA256,a.MD5=l.MD5,a.e=m,""!=l.SHA1&&d.push(l.SHA1),""!=l.SHA256&&d.push(l.SHA256),""!=l.MD5&&d.push(l.MD5),this.setId5Uid(l.SHA256),this.dropSovrnScript(!0)):""!=l.SHA1?(a.SHA1=l.SHA1,a.e=m,d.push(l.SHA1),this.dropSovrnScript(!1)):""!=l.SHA256?(this.dropId5Script(),this.dropConnectUidScript(),a.SHA256=l.SHA256,a.e=m,this.dropSovrnScript(!1),this.setId5Uid(l.SHA256),d.push(l.SHA256)):""!=l.MD5&&(a.MD5=l.MD5,a.e=m,d.push(l.MD5),this.dropSovrnScript(!1)),d.length>0&&this.setLiverampId("email",d)):(this.dropSovrnScript(!1),this.setSovrnUidDfpKeyVal(!1))),r.saveToLocalStorage(i,JSON.stringify(a))}catch(e){console.log("getAndSetHashedEmail, Error :: "+e)}return[2]}))}))},error:)}},e.prototype.setSovrnUidDfpKeyVal=function(t,i){try{if(!this.mSovrnUidModuleEnabled)return;var r="";try{r=l.Utility.getInstance().getFromLocalStorage(this.mSovrnDfpKEyValStorageName)}catch(e){}if(i)r&&""!=r&&(e.SovrnDfpKeyValue=r);else if(t){if(t){var n=Math.floor(10*Math.random())+1;e.SovrnDfpKeyValue=n<=9?"sv_y":"sv_c";try{l.Utility.getInstance().saveToLocalStorage(this.mSovrnDfpKEyValStorageName,e.SovrnDfpKeyValue)}catch(e){}}}else e.SovrnDfpKeyValue="sv_n",this.resetSovrnUidDfpKeyVal()}catch(e){}},e.prototype.resetSovrnUidDfpKeyVal=function(){try{l.Utility.getInstance().removeFromLocalStorage(this.mSovrnDfpKEyValStorageName)}catch(e){}},e.prototype.triggerUserTrackingLogs=function(t,i){var r=this.getPageId(),n=Math.round(e.getUserTrackingTime()/1e3);if(!r||""==r||r.length<=0){var s=e.getDropScriptWindow();if(s.IC_PAGE_ID&&""!=s.IC_PAGE_ID&&(r=s.IC_PAGE_ID),!r||""==r)try{"pageId"in i.mSspsLogsParams&&null!=i.mSspsLogsParams.pageId&&""!=i.mSspsLogsParams.pageId&&(r=i.mSspsLogsParams.pageId)}catch(e){}if(!r||""==r){try{var o={unload:t.toString(),"window.pID":s.IC_PAGE_ID,usrActime:n,SspsLogsParams:i.mSspsLogsParams},a=JSON.stringify(o);l.Utility.getInstance().ic_ga_event("Error","Template.triggerUserTrackingLogs","PageIdNull: "+a)}catch(e){}return}}var m=Math.round(e.getMaxScrollDepth()),u=l.Utility.getInstance().getPageHeight(),p="",h=e.getHashSuppliedByPublisher(),g=e.getUIDForAdForm(),f=e.mAdFormSegmentIds.join(",").toString(),S=e.adBlockerStatus,y=e.mUserCookieType,b=c.default.pTickerValues.join(","),T=e.mViewCount,I=e.mPrivacy,v=I,P={};try{P=d.SSP.getInstance().getMarkitValueNoFilter()}catch(e){}P=JSON.stringify(P);try{v="CCPA:"+I.CCPA+";GDPR:"+I.GDPR}catch(e){}try{var E=d.SSP.getInstance();if(E.getPrebid()){var A=E.getPrebid();if("uidModulesId"in A){var C=A.uidModulesId;for(var D in C)p=p+D+":"+C[D]+";"}}}catch(e){}l.Utility.getInstance().createUidLogs(r,h,n,m,u,p,g,f,S,y,b,T,v,P,t),this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("pvlogs fired :: "+new Date+":: Active Time :: "+n)},e.prototype.periodicallyTriggerUserTrackingLogs=function(){this.getLogInterval();var t=this;try{clearTimeout(e.mUidLogsIntervalInstance)}catch(e){}e.mUidLogsIntervalInstance=setTimeout((function(){t.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("pvlogs PERIODDICALLY :: Interval ::   "+t.mLogInterval.toString()+" :: Date :: "+new Date),t.triggerUserTrackingLogs(!1,t),t.periodicallyTriggerUserTrackingLogs()}),this.mLogInterval)},e.prototype.getLogInterval=function(){var e=(new Date).getTime(),t=Math.floor(Math.abs(e-this.mUserTrackingStartTimePLogs)/1e3),i=this.mPVLogInterval;for(var r in i){var n=i[r];if("duration"in n)if(-1==n.duration){if("loginterval"in n){this.mLogInterval=1e3*n.loginterval;break}}else if(n.duration>=t&&"loginterval"in n){this.mLogInterval=1e3*n.loginterval;break}}},e.getUserIpTarget=e.prototype.setUserId=function(t,i,r,n){try{if("object"==typeof i){var s=[];"SHA1"in i&&""!=i.SHA1&&s.push(i.SHA1),"SHA256"in i&&""!=i.SHA256&&(s.push(i.SHA256),this.dropId5Script(),this.setId5Uid(i.SHA256)),"MD5"in i&&""!=i.MD5&&s.push(i.MD5),s.length>0&&this.setLiverampId("email",s),this.storeHashedEmail(i),"data"in i&&null!=i.data&&""!=i.data&&(l.Utility.getInstance().saveToLocalStorage(this.mEncryptedEmailStorageName,i.data),l.Utility.getInstance().saveToCookie(this.mEncryptedEmailStorageName,i.data)),("SHA1"in i&&""!=i.SHA1||"SHA256"in i&&""!=i.SHA256||"MD5"in i&&""!=i.MD5)&&(e.SovrnDfpKeyValue="",this.resetSovrnUidDfpKeyVal())}else if("string"==typeof i){if("phone"==t)try{if(!r&&null==l.Utility.getInstance().isValidPhone(i))return void(this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("setUserId : incorrect phone number : "+i))}catch(e){}else if("email"==t)if(r)this.storeHashedEmail({SHA1:i});else try{if(!l.Utility.getInstance().isValidEmail(i))return void(this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("setUserId : incorrect Email : "+i));i=this.sha1(i),r=!0,this.storeHashedEmail({SHA1:i})}catch(e){}this.setLiverampId(t,[i])}}catch(e){}},e.prototype.storeHashedEmail=function(t){try{var i=JSON.parse(l.Utility.getInstance().getFromLocalStorage(e.mICHashedEmailLocalStorageName)),r=(new Date).setMinutes(+this.mValidHashedEmailExpiry).toString();null!=i&&null!=t&&"object"==typeof i&&"object"==typeof t&&("SHA1"in t&&""==t.SHA1&&"SHA1"in i&&""!=i.SHA1&&(t.SHA1=i.SHA1),"SHA256"in t&&""==t.SHA256&&"SHA256"in i&&""!=i.SHA256&&(t.SHA256=i.SHA256),"MD5"in t&&""==t.MD5&&"MD5"in i&&""!=i.MD5&&(t.MD5=i.MD5)),t.e=r,l.Utility.getInstance().saveToLocalStorage(e.mICHashedEmailLocalStorageName,JSON.stringify(t))}catch(e){}},e.prototype.fetchEncryptedEmailFromDom=function(){var e="";try{e=l.Utility.getInstance().getFromCookie(this.mEncryptedEmailStorageName)}catch(e){}if(""==e)try{e=l.Utility.getInstance().getFromLocalStorage(this.mEncryptedEmailStorageName)}catch(e){}if(""!=e){var t={data:e};this.setHashedEmail(t,l.HashedEmailType.ENCRYPT,"",!0)}},e.prototype.setHashedEmail=function(e,t,i,r){if(1!=this.mUserTriggeredEncryptionApi){if(t==l.HashedEmailType.RAW)"object"==typeof e&&"data"in e&&null!=e.data&&""!=e.data&&(this.fetchEncryptedEmail(e.data),r&&(this.mUserTriggeredEncryptionApi=!0));else if(t==l.HashedEmailType.HASHED)try{"object"==typeof e&&(this.setUserId("email",e,!0,!1),r&&(this.mUserTriggeredEncryptionApi=!0))}catch(e){}else if(t==l.HashedEmailType.ENCRYPT)try{"object"==typeof e&&"data"in e&&null!=e.data&&""!=e.data&&(this.fetchHashedEmail(e.data,i),r&&(this.mUserTriggeredEncryptionApi=!0))}catch(e){}this.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("processEncrytedEmail :: encryptedEmailObj :: "+e+"type :: "+t+"encryptionAlgo :: "+i)}},e.prototype.fetchHashedEmail=function(e,t){var i=this,r={data:e,type:t},n=!this.mIsGDPRApplicable;l.Utility.ICJQuery.post({url:l.Constant.USER_DECRYPT_EMAIL_API+"?isconsent="+n+"&uspstring="+this.mUSPString,async:!0,data:JSON.stringify(r),contentType:"application/json; charset=UTF-8",xhrFields:{withCredentials:!0},success:function(e){if(e){i.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("fetchHashedEmail :: HashedEmail Obtained.");try{i.setUserId("",JSON.parse(e),!0,!1)}catch(e){}}else i.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("fetchHashedEmail :: Received empty hashedemail response")},error:function(e,t,r){i.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Template.fetchHashedEmail: ",r),0===e.status?l.Utility.getInstance().ic_ga_event("Error","Template.fetchHashedEmail","Server returned with status code: "+e.status+" and error message: "+e.statusText):l.Utility.getInstance().ic_ga_event("Error","Template.fetchHashedEmail",e.status+": "+e.statusText+" : "+e.responseText+" $# "+t+" $# "+r)}})},e.prototype.fetchEncryptedEmail=function(e){var t=this,i={data:e},r=!this.mIsGDPRApplicable;l.Utility.ICJQuery.post({url:l.Constant.USER_ENCRYPT_EMAIL_API+"?isconsent="+r+"&uspstring="+this.mUSPString,async:!0,data:JSON.stringify(i),contentType:"application/json; charset=UTF-8",xhrFields:{withCredentials:!0},success:function(e){if(e){t.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("fetchEncryptedEmail :: Received valid response.");try{t.setUserId("",JSON.parse(e),!0,!1)}catch(e){}}else t.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("fetchEncryptedEmail :: Received empty response")},error:function(e,i,r){t.mIsDebugModeEnabled&&l.Utility.getInstance().debugConsoleMessage("Template.fetchEncryptedEmail: ",r),0===e.status?l.Utility.getInstance().ic_ga_event("Error","Template.fetchEncryptedEmail","Server returned with status code: "+e.status+" and error message: "+e.statusText):l.Utility.getInstance().ic_ga_event("Error","Template.fetchEncryptedEmail",e.status+": "+e.statusText+" : "+e.responseText+" $# "+i+" $# "+r)}})},e.mAPIReady=l.APIStatus.NOT_READY,e.mICHashedEmailLocalStorageName="IC_HM",e.mPubCommonIdCookieName="_pubcid",e.mPubCommonIdLocalStorageName="_pubcid",e.mConnectIdLocalStorageName="connectId",e.mUserActiveTime=0,e.mUserTrackingTime=0,e.mUserActivityStartTime=(new Date).valueOf(),e.mUserTrackingStartTime=(new Date).valueOf(),e.mUserInactiveTime=(new Date).valueOf(),e.mUserIsInActive=!1,e.mStackServeVerticalEnabled=!1,e.mStackServeHorizontalEnabled=!1,e.mFloorPrice={},e.mUserIpTarget={},e.mUid="",e.mICTID="",e.mIsAdformEnabled=!1,e.mIsAdformDropped=!1,e.mAdFormTrackingId="",e.mAdFormGlobalSegments="",e.mAdFormPageName="",e.mAdFormSegmentIds=[],e.mUserCookieType=null,e.mIsFloorPriceEnabled=!1,e.mFloorSampling=0,e.s2sBiddersList=[],e.mConnectUidEnabled=!1,e.mId5UserIds={},e.mIsCalledFromApi=!1,e.mPublisherSuppliedHash={},e.mMaxScrollDepth=0,e.mActiveUserTimeoutFromLastInteraction=3e4,e.mActiveUserTimeoutFromLastInteractionPassive=0,e.adBlockerStatus=l.AdBlockerStatus.NA,e.mTickerKeyValues={},e.mIsTickerKeyValueApiTriggered=!1,e.mViewCount=0,e.mPrivacy={CCPA:"",GDPR:""},e.schainConfig={},e.markitEnabled=!1,e.SovrnDfpKeyValue="",e.isTagManagerEnabled=!1,e}();t.default=u,function(e){e.APPROVED="A",e.DENIED="D",e.NOTAPPLICABLE="",e.PENDING="P"}(a||(a={}))},382:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){eturn e.prototype.getbrowser=function(){return this.browser},e.prototype.getdevice=function(){return this.device},e.prototype.getfromGDPRCountry=function(){return this.fromGDPRCountry},e.prototype.getfromUspState=function(){return this.fromUspState},e.prototype.getgeo=function(){return this.geo},e.prototype.getregion=function(){return this.region},e.prototype.getuid=function(){return this.uid},e.prototype.getip=function(){return this.ip},e}();t.default=i},979:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USite=t.CSite=t.Site=t.Template=t.Placement=t.Targeting=t.Tag=t.NativeLayout=t.Selector=t.Frequency=t.CustomVariable=t.Callback=void 0;var r=i(104);t.Callback=r.default;var n=i(780);t.CustomVariable=n.default;var s=i(29);t.Frequency=s.default;var o=i(178);t.Selector=o.default;var a=i(461);t.Tag=a.default;var l=i(756);t.Targeting=l.default;var d=i(467);t.Placement=d.default;var m=i(23);t.Template=m.default;var c=i(934);t.Site=c.default;var u=i(43);t.NativeLayout=u.default;var p=i(821);t.CSite=p.default;var h=i(382);t.USite=h.default},499:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.APIStatus=void 0,function(e){e.READY="READY",e.NOT_READY="NOT_READY",e.INPROGRESS="INPROGRESS"}(i=t.APIStatus||(t.APIStatus={})),t.default=i},273:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.AdBlockerStatus=void 0,function(e){e.IP="IP",e.WP="WP",e.NP="NP",e.NA="NA",e.SK="SK"}(i=t.AdBlockerStatus||(t.AdBlockerStatus={})),t.default=i},429:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.CallbackType=void 0,function(e){e.PRELOAD="PRELOAD",e.POSTLOAD="POSTLOAD",e.ON_BLANK="ON_BLANK",e.ON_RENDERED="ON_RENDERED",e.ON_DOMLOAD="ON_DOMLOAD",e.ON_DOMREADY="ON_DOMREADY",e.ON_DOMUNLOAD="ON_DOMUNLOAD",e.ON_VIEWPORT="ON_VIEWPORT"}(i=t.CallbackType||(t.CallbackType={})),t.default=i},350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.NETWORK_CODE="5206",e.ENVIRONMENT="prod",e.UAT_BASE_URL="https://uat5-b.investingchannel.com/",e.UAT_DATA_URL=e.UAT_BASE_URL+"data",e.UAT_TARGET_KVAL_URL=e.UAT_BASE_URL+"target/",e.UAT_NATIVELAYOUT_URL=e.UAT_BASE_URL+"site/{0}/nativelayout/{1}",e.UAT_LOG_REPORT_URL=e.UAT_BASE_URL+"log/report/",e.UAT_LOG_ERROR_URL=e.UAT_BASE_URL+"log/error/",e.UAT_LOG_API_URL=e.UAT_BASE_URL+"log/api/",e.UAT_LOG_PAGE_URL=e.UAT_BASE_URL+"log/page/",e.UAT_LOG_URL=e.UAT_BASE_URL+"logs/",e.UAT_EXELATE_PIXEL_URL=e.UAT_BASE_URL+"pixels/vendor/exelate",e.UAT_TICKER_KEYVALUE_URL=e.UAT_BASE_URL+"ticker/",e.SESSION_TEMPLATE_OBJECT_NAME="IC_TemplateObject",e.VIEWCOUNTER_COOKIE_NAME_PREFIX="IC_ViewCounter_",e.FOLDPOSITION_TOLERANCE=1,e.UAT_CDN_URL="https://u5.investingchannel.com/",e.PREDICTIVE_BASE_URL=e.UAT_CDN_URL+"predictive/",e.UID_IFRAME_URL=e.UAT_CDN_URL+"start.html",e.PM_UID_IFRAME_URL=e.UAT_BASE_URL+"user/sync/pubmatic",e.USER_DECRYPT_EMAIL_API=e.UAT_BASE_URL+"user/decrypt",e.USER_ENCRYPT_EMAIL_API=e.UAT_BASE_URL+"user/encrypt",e.UAT_JS_URL=e.UAT_CDN_URL+"static",e.UAT_PREBID_URL=e.UAT_CDN_URL+"prebid/",e.UAT_PREBID_VERSION_URL=e.UAT_PREBID_URL+"7.28.0/v2/",e.VERSION="8.8.0",e.PUBMATIC_ID_SOLUTION_URL="//ads.pubmatic.com/AdServer/js/pwt/",e.PREBID_S2S_URL="//s2s.investingchannel.com",e.PREBID_S2S_AUCTION_URL=e.PREBID_S2S_URL+"/openrtb2/auction",e.PREBID_S2S_COOKIE_SYNC_URL=e.PREBID_S2S_URL+"/cookie_sync",e.UAT_HASHED_EMAIL_URL=e.UAT_BASE_URL+"users/pubcid/",e.SOVRN_UID_SOLTUION_URL="//get.s-onetag.com/5953ed02-1e0b-4cc7-bc8f-26d349047301/tag.min.js",e.ID5_UID_SOLTUION_URL="https://cdn.id5-sync.com/api/1.0/id5-api.js",e.ADFORM_AUDIENCE_TAG_SCRIPT="https://dmp.adform.net/audiencetag/adformat.js",e.ADFORM_UID_SCRIPT="https://track.adform.net/Serving/Cookie/?adfaction=getjs;adfcookname=uid",e.ADFORM_TRACKINGPOINT_SCRIPT="https://s2.adform.net/banners/scripts/st/trackpoint-async.js",e.ADFORM_TRACKINGPOINT_PIXEL_SCRIPT="https://track.adform.net/Serving/TrackPoint/?",e.GTAG_URL="https://www.googletagmanager.com/gtag/js?id=G-5EST90M6PX",e}();t.default=i},369:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){eturn e.prototype.getRandomNumber=function(){return this.rnd},e.prototype.getTile=function(){return this.tile},e.prototype.getPosition=function(){return this.pos},e.prototype.getBrowserSize=function(){return this.bs},e.prototype.getAbsolutePosition=function(){return this.ap},e.prototype.getRelativePosition=function(){return this.rp},e.prototype.getFoldPosition=function(){return this.fp},e.prototype.getVisiblePercentage=function(){return this.ivp},e.prototype.getAdRefreshCount=e.prototype.getAdRefreshType=function(){return this.art},e.prototype.getTarget=function(){return this.tl},e.prototype.getTargetKval=function(){return this.kval},e.prototype.getAdomikRandomNumber=function(){return this.ado_g},e.prototype.getAdomikHour=function(){return this.ado_h},e.prototype.getAdxRandomNumber=function(){return this.adx_b},e.prototype.getAdxHour=function(){return this.h},e.prototype.getTagId=function(){return this.tid},e.prototype.setRandomNumber=function(e){this.rnd=e},e.prototype.setTile=function(e){this.tile=e},e.prototype.setPosition=function(e){this.pos=e},e.prototype.setBrowserSize=function(e){this.bs=e},e.prototype.setAbsolutePosition=function(e){this.ap=e},e.prototype.setRelativePosition=function(e){this.rp=e},e.prototype.setFoldPosition=function(e){this.fp=e},e.prototype.setVisiblePercentage=function(e){this.ivp=e},e.prototype.setAdRefreshCount=e.prototype.setAdRefreshType=function(e){this.art=e},e.prototype.setTarget=function(e){this.tl=e},e.prototype.setTargetKval=function(e){this.kval=e},e.prototype.setAdomikRandomNumber=function(e){this.ado_g=e},e.prototype.setAdomikHour=function(e){this.ado_h=e},e.prototype.setAdxRandomNumber=function(e){this.adx_b=e},e.prototype.setAdxHour=function(e){this.h=e},e.prototype.setTagId=function(e){this.tid=e},e}();t.default=i},918:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){eturn e.prototype.getPageId=function(){return this.ord},e.prototype.getViewCount=function(){return this.viewCount},e.prototype.getDocumentType=function(){return this.dt},e.prototype.getReferrerType=function(){return this.rft},e.prototype.getAdTagName=function(){return this.usn},e.prototype.getPageType=function(){return this.pt},e.prototype.getDeviceType=function(){return this.d},e.prototype.getExeletUId=function(){return this.xu},e.prototype.IsSearchEngine=function(){return"true"==this.is_search},e.prototype.getDoNotTrack=e.prototype.getPageurl=function(){return this.pageurl},e.prototype.getReferer=function(){return this.referer},e.prototype.getUserCookie=function(){return this.uc},e.prototype.setPageId=function(e){this.ord=e},e.prototype.setViewCount=function(e){this.viewCount=e},e.prototype.setDocumentType=function(e){this.dt=e},e.prototype.setReferrerType=function(e){this.rft=e},e.prototype.setAdTagName=function(e){this.usn=e},e.prototype.setPageType=function(e){this.pt=e},e.prototype.setDeviceType=function(e){this.d=e},e.prototype.setExeletUId=function(e){this.xu=e},e.prototype.setIsSearchEngine=function(e){this.is_search=String(e)},e.prototype.setDoNotTrack=e.prototype.setPageurl=function(e){this.pageurl=e},e.prototype.setReferer=function(e){this.referer=e},e.prototype.setUserCookie=function(e){this.uc=e},e.prototype.setICFID=function(e){this.ic_fid=e},e.prototype.setICTID=function(e){this.ic_tid=e},e}();t.default=i},158:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceType=void 0,function(e){e.DESKTOP="d",e.MOBILE="m",e.TABLET="t",e.UNKNOWN="u"}(i=t.DeviceType||(t.DeviceType={})),t.default=i},133:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentType=void 0,function(e){e.UNKNOWN="un",e.PAGE="pg",e.IFRAME="if",e.FRIENDLYFRAME="ff"}(i=t.DocumentType||(t.DocumentType={})),t.default=i},902:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorType=void 0,i=t.ErrorType||(t.ErrorType={})),t.default=i},810:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FrequencyCapUnit=void 0,i=t.FrequencyCapUnit||(t.FrequencyCapUnit={})),t.default=i},479:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FrequencyType=void 0,i=t.FrequencyType||(t.FrequencyType={})),t.default=i},460:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.HashedEmailType=void 0,function(e){e.RAW="raw",e.HASHED="hash",e.ENCRYPT="encrypt"}(i=t.HashedEmailType||(t.HashedEmailType={})),t.default=i},692:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.InsertionType=void 0,function(e){e.BEFORE="BEFORE",e.AFTER="AFTER",e.FIRST_CHILD="FIRST_CHILD",e.LAST_CHILD="LAST_CHILD",e.REPEAT="REPEAT"}(i=t.InsertionType||(t.InsertionType={})),t.default=i},967:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.LoadType=void 0,function(e){e.ON_LOAD="ON_LOAD",e.ON_VIEW="ON_VIEW",e.ON_REALTIME="ON_REALTIME",e.ONLOAD_ONVIEW="ONLOAD_ONVIEW",e.CUSTOM="CUSTOM"}(i=t.LoadType||(t.LoadType={})),t.default=i},584:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.PageType=void 0,i=t.PageType||(t.PageType={})),t.default=i},97:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=,760:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.PlacementState=void 0,i=t.PlacementState||(t.PlacementState={})),t.default=i},812:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.PlacementType=void 0,function(e){e.HTML="HTML",e.PIXEL="PIXEL",e.UNKNOWN=""}(i=t.PlacementType||(t.PlacementType={})),t.default=i},749:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ReferrerType=void 0,i=t.ReferrerType||(t.ReferrerType={})),t.default=i},960:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.RefreshType=void 0,function(e){e.TIME="t",e.ACTIVEWINDOW="w",e.ONLOAD="o",e.MANUAL="m"}(i=t.RefreshType||(t.RefreshType={})),t.default=i},959:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.TagType=void 0,i=t.TagType||(t.TagType={})),t.default=i},889:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){this.allow_Multisize=!1}},243:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.USPStatus=void 0,i=t.USPStatus||(t.USPStatus={})),t.default=i},946:function(e,t,i){"use strict";var r=this&&this.__assign||Object.defineProperty(t,"__esModule",{value:!0});var n=i(620),s=i(973),o=i(350),a=i(243),l=i(979);function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[];var m=function(){function e(){var e=this;this.mErrors=[],this.mReports=[],this.mAPIs=[],this.mPageLog=null,this.mSSPLog=[],this.mUIDLog=[],this.mTriggerPageLog=!1,this.mIsGdprApplicable=!1,this.mUSPStatus=a.USPStatus.NOT_APPLICABLE,this.mUidKeyName="IC_TID",this.mUserCookieName="IC_USER_COOKIE",this.mUid="",this.pageEventGlobalObj={pageId:[],emailHash:[],activeTime:[],scrollDepth:[],pageHeight:[],uids:[],dmpUid:[],segments:[],adBlockerStatus:[],cookieType:[],ticker:[],viewCount:[],privacy:[],markit:[]},this.logs={},this.mIsUidIframeLoaded=!1,this.mIsWaitingUidIframe=!1,this.mUidCallback=null,this.mIsDebugModeEnabled=!1,s.Utility.ICJQuery(window).on("unload",(function(){e.destroy()})),this.mLogIntervalInstance=setInterval((function(){e.postLogsToServer()}),1e3)}return e.prototype.resetPageEventGlobalObj=function(){this.pageEventGlobalObj.pageId=[],this.pageEventGlobalObj.emailHash=[],this.pageEventGlobalObj.activeTime=[],this.pageEventGlobalObj.scrollDepth=[],this.pageEventGlobalObj.pageHeight=[],this.pageEventGlobalObj.uids=[],this.pageEventGlobalObj.dmpUid=[],this.pageEventGlobalObj.segments=[],this.pageEventGlobalObj.adBlockerStatus=[],this.pageEventGlobalObj.cookieType=[],this.pageEventGlobalObj.ticker=[],this.pageEventGlobalObj.viewCount=[],this.pageEventGlobalObj.privacy=[],this.pageEventGlobalObj.markit=[]},e.getInstance=e.prototype.setGDPRStatus=function(e){this.mIsGdprApplicable=e},e.prototype.setUSPStatus=function(e){this.mUSPStatus=e},e.prototype.executeJS=e.prototype.isSelectorLoaded=function(t,i,r,n){return!!e.ICJQuery("#investingchannel_div_"+n).length||this.getEmptyElementsForSelector(t,i,r).length>0},e.prototype.getEmptyElementsForSelector=function(e,t,i){var r="0";try{var n=[];if(!this.isValidSelector(e))throw this.mIsDebugModeEnabled&&this.debugConsoleMessage("getEmptyElementsForSelector :: Invalid selector: "+e),new Error("getEmptyElementsForSelector :: Invalid selector: "+e);var o=document.querySelectorAll(e);r="1";for(var a=0;a<o.length;++a){var l=s.Utility.ICJQuery(o[a]).children();r="1."+a;for(var d=!1,m=0;m<l.length;++m)if(r="1."+a+"."+m,l[m]&&l[m].id&&-1!==l[m].id.indexOf("investingchannel_div_")){if(l[m].getAttribute("ic_pageId")!=t){d=!0;break}if(l[m].getAttribute("ic_placementid")==""+i){d=!0;break}}d||(r="2."+a,n.push(o[a]))}return n}catch(e){s.Utility.getInstance().ic_ga_event("Error","Utility.getEmptyElementsForSelector",e.message,i,r)}},e.prototype.isValidSelector=e.prototype.executeOnLoad=function(e){try{var t=document.readyState;if("interactive"==t||"complete"==t)return void this.executeJS(e);window.addEventListener("DOMContentLoaded",this.executeJS(e),!1)}catch(t){this.executeJS(e)}},e.prototype.clientWindowHeight=function(){var e=0;return"number"==typeof window.innerHeight?e=window.innerHeight:document.documentElement&&document.documentElement.clientHeight?e=document.documentElement.clientHeight:document.body&&document.body.clientHeight&&(e=document.body.clientHeight),e},e.prototype.clientWindowWidth=function(){var e=0;return"number"==typeof window.innerWidth?e=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?e=document.documentElement.clientWidth:document.body&&document.body.clientWidth&&(e=document.body.clientWidth),e},e.prototype.getBrowserSize=e.prototype.convertAdSize=function(e){var t="";if(e.constructor!==Array&&("fluid"==e.toString()||"oop"==e.toString()||"webinterstitial"==e.toString()))return e.toString();if(2==e.length&&"number"==typeof e[0]&&"number"==typeof e[1])return e.join("x");for(var i=0;i<e.length;++i)e[i].constructor===Array&&2==e[i].length?t+=e[i].join("x")+",":"string"==typeof e[i]&&"fluid"==e[i]&&(t+=e[i]+",");return t&&(t=t.replace(/,\s*$/,"")),t},e.prototype.isInViewport=function(t,i){var r=e.ICJQuery(t);if(!r.length)return!1;var n=r[0];if(null===n)return null;var s=n.getBoundingClientRect(),o=this.clientWindowHeight(),a=this.clientWindowWidth(),l=s.bottom,d=s.right,m=s.top,c=s.left;return i&&i>0&&(l+=o*(i/100),d+=a*(i/100),m-=o*(i/100),c-=a*(i/100)),l>=0&&d>=0&&m<=o&&c<=a},e.prototype.isCookieEnabled=function(){try{document.cookie="ic_cookietest=1";var e=-1!=document.cookie.indexOf("ic_cookietest=");return document.cookie="ic_cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){}return!1},e.prototype.getFromLocalStorage=function(e){try{if("undefined"!=typeof Storage)return localStorage.getItem(e)}catch(e){}return null},e.prototype.getFromSessionStorage=function(e){try{if("undefined"!=typeof Storage)return sessionStorage.getItem(e)}catch(e){}return null},e.prototype.getFromCookie=function(e){try{if(navigator.cookieEnabled){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()}}catch(e){}return""},e.prototype.isCookieExists=function(e){if(navigator.cookieEnabled)try{if(2==("; "+document.cookie).split("; "+e+"=").length)return!0}catch(e){}return!1},e.prototype.deleteFromLocalStorage=function(e){try{"undefined"!=typeof Storage&&localStorage.removeItem(e)}catch(e){}},e.prototype.deleteFromSessionStorage=function(e){try{"undefined"!=typeof Storage&&sessionStorage.removeItem(e)}catch(e){}},e.prototype.deleteFromCookie=function(e){try{navigator.cookieEnabled&&(document.cookie=e+"=;expires=Fri, 02-Jan-1970 00:00:00 GMT;path=/")}catch(e){}},e.prototype.saveToLocalStorage=function(e,t){try{"undefined"!=typeof Storage&&localStorage.setItem(e,t)}catch(e){}},e.prototype.removeFromLocalStorage=function(e){try{"undefined"!=typeof Storage&&localStorage.removeItem(e)}catch(e){}},e.prototype.saveToSessionStorage=function(e,t){try{"undefined"!=typeof Storage&&sessionStorage.setItem(e,t)}catch(e){}},e.prototype.saveToCookie=function(e,t,i){if(navigator.cookieEnabled)try{document.cookie=null==i?e+"="+t+";path=/":e+"="+t+"; max-age="+i+";path=/"}catch(e){}},e.prototype.getFromQueryString=function(e,t){var i=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&]*)|&|$)").exec(i);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},e.prototype.getUspString=function(e,t){if("function"==typeof window.__uspapi&&window.__uspapi("getUSPData",1,(function(e,t){return t?"uspString"in e?e.uspString:void 0:null})),t&&this.isLocalStorageSupported()){var i=this.getFromLocalStorage(e);if(i)return i}return this.getFromCookie(e)},e.prototype.pushToErrorLog=function(e){this.mErrors.push(e)},e.prototype.pushToReportLog=function(e){this.mReports.push(e)},e.prototype.pushToAPILog=function(e){this.mAPIs.push(e)},e.prototype.preparePageLog=e.prototype.triggerPageLog=e.prototype.prepareSSPLog=function(e){this.mSSPLog.push(e)},e.prototype.prepareUIDLog=e.prototype.isLocalStorageSupported=function(){try{if("undefined"==typeof Storage)return!1}catch(e){return!1}return!0},e.prototype.removeDuplicateFromArray=function(e){if(!e)return e;for(var t=[],i=[],r=0;r<e.length;++r)t.indexOf(e[r].toLowerCase())>=0||(t.push(e[r].toLowerCase()),i.push(e[r]));return i},e.prototype.removeSovrnDfpKeysFromArray=function(e){if(!e)return e;for(var t=[],i=0;i<e.length;++i){var r=e[i].toLowerCase();"sv_y"!=r&&"sv_c"!=r&&"sv_n"!=r&&t.push(e[i])}return t},e.prototype.removeElementFromArray=function(e,t){var i=e.slice(0,t),r=e(t+1);return i.concat(r)},e.prototype.getTopWindowDomain=function(){try{return s.Utility.window.top.location.hostname}catch(e){}try{return document.referrer.match(/:\/\/(.[^/]+)/)[1]}catch(e){}return""},e.prototype.initializeGA=function(){var e=this.calculateDocumentType(),t="IC_GTagScript",i=this;this.isJsFileExistsInDom(e,t,this.mIsDebugModeEnabled)||this.dropScripts(e,o.default.GTAG_URL,"GTagScript",!1,t,!0,!1,"gtag Script failed to load").addEventListener("load",()},e.prototype.ic_ga_event=function(e,t,i,r,n){var s=l.Template,a="",m="",c="";s&&(a=s.getPageIdValue()?s.getPageIdValue():"",m=s.getAPIKey()?s.getAPIKey():"",c=s.getUserId()?s.getUserId():""),d("js",new Date),d("config","G-5EST90M6PX"),d("event",e,{Environment:o.default.ENVIRONMENT,Version:o.default.VERSION,Source:t,Location:n,Description:i,ApiKey:m,PageId:a,UserId:c,PlacementId:r})},e.prototype.calculateDocumentType=function(){try{return self==window.top?"PG":window.location.hostname==window.top.location.hostname?"FF":"IF"}catch(e){return"IF"}},e.prototype.postLogsToServer=function(){if(this.logs={},this.mReports.length>0){var t=this.mReports;this.mReports=[],this.logs.reportLogs=t}if(this.mErrors.length>0){var i=this.mErrors;this.mErrors=[],this.logs.errorLogs=i}if(this.mAPIs.length>0){var r=this.mAPIs;this.mAPIs=[],this.logs.apiLogs=r}if(null!=this.mPageLog&&this.mTriggerPageLog){var n=[this.mPageLog];this.mPageLog=null,this.mTriggerPageLog=!1,this.logs.pageLogs=n}if(this.mSSPLog.length>0){var o=this.mSSPLog;this.mSSPLog=[],this.logs.sspLogs=o}if(this.mUIDLog.length>0){var a=this.mUIDLog;this.mUIDLog=[],this.logs.uidLogs=a}null!=this.logs&&(this.logs.reportLogs||this.logs.errorLogs||this.logs.apiLogs||this.logs.pageLogs||this.logs.sspLogs||this.logs.uidLogs)&&e.ICJQuery.post({url:s.Constant.UAT_LOG_URL+"?gdprapplicable="+this.mIsGdprApplicable+"&uspstatus="+this.mUSPStatus,async:!0,data:JSON.stringify(this.logs),contentType:"application/json; charset=UTF-8",xhrFields:{withCredentials:!0}})},e.prototype.pushAPILog=function(t,i,r,n,s,o){var a=n.toString();a+=s;var l=e.window.location.href,d=this.updateUrlIfTranslator(t,l);d&&(l=d),o||(o="null"),this.mAPIs.push({apiKey:i,placementId:"null",placementType:"null",publisherType:"ADVANCE",pageId:o,rnd:"null",documentType:t,errorCode:e.getInstance().getErrorTypeKeyFromValue(n),errorDetail:a,kval:encodeURIComponent("bs:"+this.getBrowserSize()),refererUrl:encodeURIComponent(r),pageUrl:encodeURIComponent(l)})},e.prototype.getErrorTypeKeyFromValue=function(e){switch(e){case s.ErrorType.ADSIZE_INVALID:return"ADSIZE_INVALID";case s.ErrorType.CUSTOM_TARGETING_FAILED:return"CUSTOM_TARGETING_FAILED";case s.ErrorType.DEVICE_TARGETING_FAILED:return"DEVICE_TARGETING_FAILED";case s.ErrorType.GDPR_TARGETING_FAILED:return"GDPR_TARGETING_FAILED";case s.ErrorType.GEO_TARGETING_FAILED:return"GEO_TARGETING_FAILED";case s.ErrorType.SELECTOR_INVALID:return"SELECTOR_INVALID";case s.ErrorType.SELECTOR_NOT_FOUND:return"SELECTOR_NOT_FOUND";case s.ErrorType.TAG_NOT_CONFIGURED:return"TAG_NOT_CONFIGURED";case s.ErrorType.TARGET_INVALID:return"TARGET_INVALID";case s.ErrorType.ADSIZEMAPPING_INVALID:return"ADSIZEMAPPING_INVALID";case s.ErrorType.ADSIZEMAPPING_TARGETING_FAILED:return"ADSIZEMAPPING_TARGETING_FAILED";case s.ErrorType.NO_ADS:return"NO_ADS";case s.ErrorType.UNKNOW_ERROR:return"UNKNOW_ERROR";case s.ErrorType.PAGE_OBJECT_NOT_FOUND:return"PAGE_OBJECT_NOT_FOUND";case s.ErrorType.PAGE_DESTROY_TEMPLATE_NOT_FOUND:return"PAGE_DESTROY_TEMPLATE_NOT_FOUND";case s.ErrorType.PAGE_DESTROY_FAILED:return"PAGE_DESTROY_FAILED";case s.ErrorType.PAGE_REFRESHTAG_TAG_NOT_FOUND:return"PAGE_REFRESHTAG_TAG_NOT_FOUND";case s.ErrorType.PAGE_REFRESHTAG_FAILED:return"PAGE_REFRESHTAG_FAILED";case s.ErrorType.ADD_SIZEMAPPING_FAILED:return"ADD_SIZEMAPPING_FAILED";case s.ErrorType.BUILD_SIZEMAPPING_FAILED:return"BUILD_SIZEMAPPING_FAILED";case s.ErrorType.PAGE_DEFINETAG_SITE_MISMATCH:return"PAGE_DEFINETAG_SITE_MISMATCH";case s.ErrorType.PAGE_DEFINETAG_TARGET_NOT_FOUND:return"PAGE_DEFINETAG_TARGET_NOT_FOUND";case s.ErrorType.PAGE_DEFINETAG_INVALID_SIZE:return"PAGE_DEFINETAG_INVALID_SIZE";case s.ErrorType.PAGE_DEFINETAG_FAILED:return"PAGE_DEFINETAG_FAILED";case s.ErrorType.PAGE_DEFINETAG_INVALID_DIVID:return"PAGE_DEFINETAG_INVALID_DIVID";case s.ErrorType.PAGE_DEFINEOOPTAG_SITE_MISMATCH:return"PAGE_DEFINEOOPTAG_SITE_MISMATCH";case s.ErrorType.PAGE_DEFINEOOPTAG_TARGET_NOT_FOUND:return"PAGE_DEFINEOOPTAG_TARGET_NOT_FOUND";case s.ErrorType.PAGE_DEFINEOOPTAG_FAILED:return"PAGE_DEFINEOOPTAG_FAILED";case s.ErrorType.PAGE_DEFINEOOPTAG_INVALID_DIVID:return"PAGE_DEFINEOOPTAG_INVALID_DIVID";case s.ErrorType.PAGE_GETPUBTAG_TAG_NOT_FOUND:return"PAGE_GETPUBTAG_TAG_NOT_FOUND";case s.ErrorType.PAGE_GETPUBTAG_FAILED:return"PAGE_GETPUBTAG_FAILED";case s.ErrorType.PAGE_SETKVAL_FAILED:return"PAGE_SETKVAL_FAILED";case s.ErrorType.PAGE_CLEARKVAL_FAILED:return"PAGE_CLEARKVAL_FAILED";case s.ErrorType.PAGE_RENDERTAG_TAG_NOT_FOUND:return"PAGE_RENDERTAG_TAG_NOT_FOUND";case s.ErrorType.PAGE_RENDERTAG_FAILED:return"PAGE_RENDERTAG_FAILED";case s.ErrorType.TAG_DEFINESIZEMAPPING_FAILED:return"TAG_DEFINESIZEMAPPING_FAILED";case s.ErrorType.TAG_SETKVAL_FAILED:return"TAG_SETKVAL_FAILED";case s.ErrorType.TAG_CLEARKVAL_FAILED:return"TAG_CLEARKVAL_FAILED";case s.ErrorType.TAG_RENDER_FAILED:return"TAG_RENDER_FAILED";case s.ErrorType.TAG_REFRESH_FAILED:return"TAG_REFRESH_FAILED";case s.ErrorType.TAG_CLEAR_FAILED:return"TAG_CLEAR_FAILED";case s.ErrorType.TAG_DESTROY_FAILED:return"TAG_DESTROY_FAILED";case s.ErrorType.TAG_ADDEVENTLISTNER_FAILED:return"TAG_ADDEVENTLISTNER_FAILED";case s.ErrorType.NATIVE_LAYOUT_NOT_FOUND:return"NATIVE_LAYOUT_NOT_FOUND";case s.ErrorType.PAGE_DEFINENATIVETAG_SITE_MISMATCH:return"PAGE_DEFINENATIVETAG_SITE_MISMATCH";case s.ErrorType.PAGE_DEFINENATIVETAG_TARGET_NOT_FOUND:return"PAGE_DEFINENATIVETAG_TARGET_NOT_FOUND";case s.ErrorType.PAGE_DEFINENATIVETAG_FAILED:return"PAGE_DEFINENATIVETAG_FAILED";case s.ErrorType.PAGE_DEFINENATIVETAG_INVALID_DIVID:return"PAGE_DEFINENATIVETAG_INVALID_DIVID";case s.ErrorType.PAGE_DEFINENATIVETAG_LAYOUT_NOT_FOUND:return"PAGE_DEFINENATIVETAG_LAYOUT_NOT_FOUND";default:return"UNKNOWN"}},e.prototype.updateUrlIfTranslator=function(e,t){if(e==s.DocumentType.IFRAME){var i=s.Utility.ICJQuery("<a>").prop("href",t).prop("hostname");if("translate.google.com"==i.toLowerCase()||"translate.googleusercontent.com"==i.toLowerCase()){var r=this.getQueryStringParam("u",t);if(r&&r.length>0)return r[1]}return null}},e.prototype.debugConsoleMessage=function(e,t){try{var i=[];if(i.push("%c IC UAT ","border-radius:4px;background:#8bc43f;color:#fff;font-weight: bold;"),i.push(e),t)for(var r=0;r<t.length;++r)i.push(t[r]);console.log.apply(console,i)}catch(e){}},e.consoleTimeMessage=function(e,t,i){if(void 0===i&&(i=!1),t)try{i?console.time("Time taken: "+e):console.timeEnd("Time taken: "+e)}catch(e){}},e.prototype.getQueryStringParam=function(e,t){return decodeURIComponent(t).match(new RegExp(e+"=(.*?)($|&)","i"))||[][1]},e.prototype.destroy=function(){this.mTriggerPageLog=!0,this.postLogsToServer();try{clearInterval(this.mLogIntervalInstance)}catch(e){}e.mUtil=void 0},e.FormatString=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var r=0;r<t.length;r++)e=e.replace("{".concat(r,"}"),t[r]);return e},e.prototype.dropICUidIframe=function(){var e=this;if(!document.getElementById("ICUid_Iframe")){var t=document.createElement("iframe");t.id="ICUid_Iframe",t.style.display="none",t.src=s.Constant.UID_IFRAME_URL,t.onload=function(){e.mIsUidIframeLoaded=!0,e.mIsWaitingUidIframe&&e.requestUid(e.mUidCallback,e.mIsDebugModeEnabled)},document.body.appendChild(t)}},e.prototype.requestUid=function(e,t){var i=this,r=this.getFromLocalStorage(this.mUidKeyName),n=this.getFromLocalStorage(this.mUserCookieName);if(null!=r&&""!=r){try{t&&this.debugConsoleMessage("Found userid "+r+" in first party local storage")}catch(e){}return this.mUid=r,void("function"==typeof e&&e(r,n))}if(this.mUidCallback=e,!this.mIsUidIframeLoaded)return this.mIsWaitingUidIframe=!0,void(this.mIsDebugModeEnabled=t);var s=document.getElementById("ICUid_Iframe"),o=s.contentWindow||s.contentDocument;s&&o&&o.postMessage("getUid","*"),void 0!==window.addEventListener?window.addEventListener("message",(function(r){r.origin&&i.processUidIframeData(r,e,t)}),!1):void 0!==window.attachEvent&&window.attachEvent("onmessage",()},e.prototype.processUidIframeData=function(e,t,i){if(0==s.Constant.UID_IFRAME_URL.indexOf(e.origin)&&null!=e.data){var r=e.data.split("=");if(2==r.length&&"icuid"==r[0]){var n="",o="f",a="Third party local storage.";""!=r[1]&&null!=r[1]?(n=r[1],o="t"):(a="First party local storage.",o=navigator.cookieEnabled?"f":"n"),this.saveToLocalStorage(this.mUidKeyName,n),this.saveToLocalStorage(this.mUserCookieName,o),this.mUid=n;try{i&&this.debugConsoleMessage("Generated userid is "+n+" and the source is "+a,e)}catch(e){}"function"==typeof t&&t(n,o)}}},e.prototype.getUid=e.createSSPReqObject=function(e,t,i,n,s){var o,a=[];try{t.forEach((),o=t.join(",")}catch(e){}return e.forEach((function(e){var t=e.split(";")[0].split(":")[1],l=e.split(";")[1].split(":")[1],d=e.split(";")[2].split(":")[1],m=e.split(";")[3].split(":")[1],c=e.split(";")[4].split(":")[1],u="",p=n;try{var h=p.split("_");h[2]&&(u=h[2])}catch(e){}var g=r(r({},i),{arc:s,mediaType:t,adslot:n,rnd:u,bidderCode:l,passedAdSizes:o,source:d,floorPrice:m,floorType:c});a.push(g)})),a},e.prototype.resetSSPLogsObject=function(e,t){t[e]&&t[e].length>0&&delete t[e]},e.prototype.createSSPResponseObject=function(e,t,i,n){var s=t.bidderRequests.length>0?t.bidderRequests[0].auctionStart:0,o=t.bidsReceived,a=t.noBids,l=t.winningBids,d=t.adUnitCodes,m=n.join(";");for(var c in d){var u=d[c],p=[],h=e[u],g=e[u];try{for(var f in l)if((I=l[f]).adUnitCode&&u==I.adUnitCode){p.push(I.bidder);var S=this.getSspReqObj(h,I.bidder);if(Object.keys(S).length>0){var y={},b=this.sspLogObject(I.auctionId,s,I.requestId,I.cpm,I.requestTimestamp,I.responseTimestamp,I.timeToRespond,I.ttl,I.adId,I.size,I.currency,I.creativeId,I.netRevenue,I.dealId,I.statusMessage,I.size,m);y=r(r({},S),b),this.prepareSSPLog(y)}}for(var f in o)(I=o[f]).adUnitCode&&u==I.adUnitCode&&(p.push(I.bidder),S=this.getSspReqObj(h,I.bidder),Object.keys(S).length>0&&(y={},b=this.sspLogObject(I.auctionId,s,I.requestId,I.cpm,I.requestTimestamp,I.responseTimestamp,I.timeToRespond,I.ttl,I.adId,I.size,I.currency,I.creativeId,I.netRevenue,I.dealId,I.statusMessage,I.size,m),y=r(r({},S),b),this.prepareSSPLog(y)));for(var f in a)if((I=a[f]).adUnitCode&&u==I.adUnitCode&&(p.push(I.bidder),S=this.getSspReqObj(h,I.bidder),Object.keys(S).length>0)){y={};var T=i-s;b=this.sspLogObject(I.auctionId,s,"","0",s,i,T.toString(),"","",I.size,"","","","","No Bids",I.size,m),y=r(r({},S),b),this.prepareSSPLog(y)}for(var f in g){var I;(I=g[f]).adslot&&u==I.adslot&&p.indexOf(I.bidderCode)<0&&(S=this.getSspReqObj(h,I.bidderCode),Object.keys(S).length>0&&(y={},T=i-s,b=this.sspLogObject("",s,"","-1",s,i,T.toString(),"","","","","","","","Time Out","",m),y=r(r({},S),b),this.prepareSSPLog(y)))}this.resetSSPLogsObject(u,e)}catch(e){console.log("error : ",e)}}},e.prototype.createBidAdapterNotLoadedLogs=function(e,t,i,s){for(var o in e){var a=e[o];for(var l in a){var d=a[l].bids;for(var m in d){var c=n.SSP.getPrebidSource().CLIENT,u=d[m],p={bidderCode:u.bidder};s.indexOf(u.bidder)>-1&&(c=n.SSP.getPrebidSource().S2S);var h,g=i-t,f=this.sspLogObject("","","","-2",t,i,g.toString(),"","","","","","","","Time Out","","");h=r(r(r(r({},{source:c}),a[l].req),p),f),this.prepareSSPLog(h)}}this.resetSSPLogsObject(o,e)}},e.prototype.getBidderNameByCode=e.prototype.getBidderNameByName=function(e,t){var i=e;return null!=typeof t[e]&&(i=t[e]),i},e.prototype.getSspReqObj=function(e,t){var i={};for(var r in e){var n=e[r];n.bidderCode==t&&(i=n)}return i},e.prototype.createA9SSPResponseObject=function(e,t,i,n,s){var o=t[e][0];if(0==s){if(i&&Object.keys(i).length>0){var a={},l=this.sspLogObject(i.auctionId,i.auctionStart,i.amzniid,i.cpm,i.requestTimestamp,i.responseTimestamp,i.timeToRespond,i.ttl,i.adId,i.size,i.currency,i.creativeId,i.netRevenue,i.dealId,i.statusMessage,i.amznsz,"");a=r(r({},o),l),this.prepareSSPLog(a)}n&&Object.keys(n).length>0&&(a={},l=this.sspLogObject(n.auctionId,n.auctionStart,n.requestId,n.cpm,n.requestTimestamp,n.responseTimestamp,n.timeToRespond,n.ttl,n.adId,n.size,n.currency,n.creativeId,n.netRevenue,n.dealId,n.statusMessage,n.amznsz,""),a=r(r({},o),l),this.prepareSSPLog(a)),this.resetSSPLogsObject(e,t)}else a={},l=this.sspLogObject(n.auctionId,n.auctionStart,"","-1",n.requestTimestamp,n.responseTimestamp,n.timeToRespond,n.ttl,"","","","","","","Time Out","",""),a=r(r({},o),l),this.prepareSSPLog(a),this.resetSSPLogsObject(e,t)},e.prototype.sspLogObject=function(e,t,i,r,n,s,o,a,l,d,m,c,u,p,h,g,f){return{auctionID:e||"",auctionStart:t||"",bidderRequestid:i||"",bid_value:r||"",bidder_requestTimestamp:n||"",bidder_responseTimestamp:s||"",bidder_timeToRespond:o||"",bidder_ttl:a||"",adId:l||"",size:d||"",currency:m||"",creativeId:c||"",netrevenue:u||"",dealId:p||"",statusMessage:h||"",receivedAdSizes:g||"",uids:f||""}},e.prototype.createUidLogs=function(e,t,i,r,n,s,o,a,l,d,m,c,u,p,h){var g=this.filterNonRepeatedLogValues(e,t,i,r,n,s,o,a,l,d,m,c,u,p);this.prepareUIDLog(g),h&&this.postLogsToServer()},e.prototype.filterNonRepeatedLogValues=function(e,t,i,r,n,s,o,a,l,d,m,c,u,p){return this.pageEventGlobalObj.emailHash.indexOf(t)>-1?t="":this.pageEventGlobalObj.emailHash.push(t),this.pageEventGlobalObj.activeTime.indexOf(i)>-1?i="":this.pageEventGlobalObj.activeTime.push(i),this.pageEventGlobalObj.scrollDepth.indexOf(r)>-1?r="":this.pageEventGlobalObj.scrollDepth.push(r),this.pageEventGlobalObj.pageHeight.indexOf(n)>-1?n="":this.pageEventGlobalObj.pageHeight.push(n),this.pageEventGlobalObj.uids.indexOf(s)>-1?s="":this.pageEventGlobalObj.uids.push(s),this.pageEventGlobalObj.dmpUid.indexOf(o)>-1?o="":this.pageEventGlobalObj.dmpUid.push(o),this.pageEventGlobalObj.segments.indexOf(a)>-1?a="":this.pageEventGlobalObj.segments.push(a),this.pageEventGlobalObj.adBlockerStatus.indexOf(l)>-1?l="":this.pageEventGlobalObj.adBlockerStatus.push(l),this.pageEventGlobalObj.cookieType.indexOf(d)>-1?d="":this.pageEventGlobalObj.cookieType.push(d),this.pageEventGlobalObj.ticker.indexOf(m)>-1?m="":this.pageEventGlobalObj.ticker.push(m),this.pageEventGlobalObj.viewCount.indexOf(c)>-1?c="":this.pageEventGlobalObj.viewCount.push(c),this.pageEventGlobalObj.privacy.indexOf(u)>-1?u="":this.pageEventGlobalObj.privacy.push(u),this.pageEventGlobalObj.markit.indexOf(p)>-1?p="":this.pageEventGlobalObj.markit.push(p),{pageId:e,emailHash:t,activeTime:i,scrollDepth:r,pageHeight:n,uids:s,dmpUid:o,segments:a,adBlockerStatus:l,cookieType:d,ticker:m,viewCount:c,privacy:u,markit:p}},e.prototype.getEstOffset=function(){return(new Date).getTimezoneOffset()<(e=new Date(0,1),t=new Date(6,1),Math.max(e.getTimezoneOffset(),t.getTimezoneOffset()))?-5:-4;var e,t},e.prototype.getUSDayOfWeek=function(){try{var e=new Date,t=e.getTime()+60*e.getTimezoneOffset()*1e3,i=this.getEstOffset();return["sun","mon","tue","wed","thu","fri","sat"][new Date(t+36e5*i).getDay()]}catch(e){return""}},e.prototype.getNetWorkCode=function(e){var t=o.default.NETWORK_CODE;return e&&null!=e&&e.length>0&&(t=t+","+e),t},e.prototype.dropScripts=function(e,t,i,r,n,o,a,l){var d;try{if(-1==navigator.userAgent.toUpperCase().indexOf("TRIDENT/")){d=document.createElement("script"),o&&(d.async=!0),a&&(d.defer=!0),n&&(d.id=n),d.type="text/javascript",d.src=t;var m=document.getElementsByTagName("script")[0];e==s.DocumentType.FRIENDLYFRAME&&(m=s.Utility.window.top.document.getElementsByTagName("head")[0]),m.parentNode.insertBefore(d,m),r&&s.Utility.getInstance().debugConsoleMessage("Dropped script: "+i)}}catch(e){l?console.log(l+e):console.log("dropScripts : error : "+e)}return d},e.prototype.dropNoScripts=function(e,t,i,r,n){try{if(-1==navigator.userAgent.toUpperCase().indexOf("TRIDENT/")){var o=document.createElement("noscript");n&&(o.id=n),o.innerHTML=t;var a=document.getElementsByTagName("script")[0];e==s.DocumentType.FRIENDLYFRAME&&(a=s.Utility.window.top.document.getElementsByTagName("head")[0]),a.parentNode.insertBefore(o,a),r&&s.Utility.getInstance().debugConsoleMessage("Dropped no-script: "+i)}}catch(e){console.log("dropNoScripts : error : "+e)}},e.prototype.isValidEmail=e.prototype.isValidPhone=function(e){return e.match(/^\d{10}$/)||e.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)||e.match(/^\+?([0-9]{2})\)?[-. ]?([0-9]{4})[-. ]?([0-9]{4})$/)?e=e.replace(/\D/g,""):null},e.prototype.calculateRandomAppliedPercentage=function(e){if(e&&""!=e)try{var t=+e;if(e>=0&&e<=100&&Math.floor(100*Math.random())+1<=t)return!0}catch(t){return console.log("calculateRandomAppliedPercentage :: ERROR ::",e),!1}return!1},e.prototype.isJsFileExistsInDom=function(e,t,i){var r=document;try{if(e==s.DocumentType.FRIENDLYFRAME&&(r=s.Utility.window.top.document),t&&t in r.getElementsByTagName("script"))return i&&s.Utility.getInstance().debugConsoleMessage("Script will not be dropped, as it exists in dom :: Script ID :: "+t+" :: documentType  :: "+e),!0}catch(e){console.log("isJsFileExistsInDom : error : "+e)}return!1},e.prototype.getScrollDepth=e.prototype.getPageHeight=function(){return Math.max(document.body&&document.body.scrollHeight?document.body.scrollHeight:0,document.documentElement&&document.documentElement.scrollHeight?document.documentElement.scrollHeight:0,document.body&&document.body.offsetHeight?document.body.offsetHeight:0,document.documentElement&&document.documentElement.offsetHeight?document.documentElement.offsetHeight:0,document.body&&document.body.clientHeight?document.body.clientHeight:0,document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0)},e.window=window,e.ICJQuery=window.InvestingChannel.JQueryStatic.noConflict(),e}();t.default=m},973:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HashedEmailType=t.AdBlockerStatus=t.APIStatus=t.ErrorType=t.USPStatus=t.PlacementConfig=t.TemplateConfig=t.RefreshType=t.DeviceType=t.DFPPlacementParams=t.DFPTemplateParams=t.TagType=t.ReferrerType=t.PlacementType=t.PlacementState=t.PageType=t.LoadType=t.InsertionType=t.FrequencyType=t.FrequencyCapUnit=t.DocumentType=t.CallbackType=t.Constant=t.Utility=void 0;var r=i(946);t.Utility=r.default;var n=i(350);t.Constant=n.default;var s=i(429);t.CallbackType=s.default;var o=i(133);t.DocumentType=o.default;var a=i(810);t.FrequencyCapUnit=a.default;var l=i(479);t.FrequencyType=l.default;var d=i(692);t.InsertionType=d.default;var m=i(967);t.LoadType=m.default;var c=i(584);t.PageType=c.default;var u=i(760);t.PlacementState=u.default;var p=i(812);t.PlacementType=p.default;var h=i(749);t.ReferrerType=h.default;var g=i(959);t.TagType=g.default;var f=i(918);t.DFPTemplateParams=f.default;var S=i(369);t.DFPPlacementParams=S.default;var y=i(158);t.DeviceType=y.default;var b=i(960);t.RefreshType=b.default;var T=i(889);t.TemplateConfig=T.default;var I=i(97);t.PlacementConfig=I.default;var v=i(243);t.USPStatus=v.default;var P=i(902);t.ErrorType=P.default;var E=i(499);t.APIStatus=E.default;var A=i(273);t.AdBlockerStatus=A.default;var C=i(460);t.HashedEmailType=C.default},575:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(973),n=function(){function e(e,t,i,n,s,o,a){this.mSize=[],this.mIsOOP=!1,this.mEnableServices=!0,this.mIsOOPWI=!1,this.mAdUnit=e,this.mDivId=t,this.mEnableServices=n,this.mGPTTagType="GPTA",o&&(null==a||a.length<=0)?(this.mIsOOPWI=!0,this.mSize=[1,1]):null==a||a.length<=0?(this.mSize=[1,1],this.mIsOOP=!0):this.mSize=a,this.mDFPNetworkId=r.Utility.getInstance().getNetWorkCode(s),this.defineSlot()}return e.prototype.defineSlot=function(){var e=this;this.mIsOOPWI?googletag.cmd.push((function(){e.mDFPSlot=googletag.defineOutOfPageSlot("/"+e.mDFPNetworkId+"/"+e.mAdUnit,googletag.enums.OutOfPageFormat.INTERSTITIAL).addService(googletag.pubads())})):this.mIsOOP?googletag.cmd.push((function(){e.mDFPSlot=googletag.defineOutOfPageSlot("/"+e.mDFPNetworkId+"/"+e.mAdUnit,e.mDivId).addService(googletag.pubads())})):googletag.cmd.push((function(){e.mDFPSlot=googletag.defineSlot("/"+e.mDFPNetworkId+"/"+e.mAdUnit,e.mSize,e.mDivId).addService(googletag.pubads())})),this.mEnableServices&&googletag.cmd.push(()},e.prototype.setTargeting=function(e){var t=this;googletag.cmd.push((function(){for(var i in e)e.hasOwnProperty(i)&&t.mDFPSlot.setTargeting(i,e[i])}))},e.prototype.setTargetingByKey=function(e,t){var i=this;googletag.cmd.push((function(){i.mDFPSlot.setTargeting(e,t)}))},e.prototype.setCollapseEmptyDiv=function(e,t){var i=this;googletag.cmd.push(()},e.prototype.getTargeting=function(){var e=this;googletag.cmd.push((function(){var t=e.mDFPSlot.getTargetingKeys(),i={};for(var r in t)i[t[r]]=e.mDFPSlot.getTargeting(t[r]);return i}))},e.prototype.clearTargeting=e.prototype.clearTargetingByKey=function(e){this.mDFPSlot.clearTargeting(e)},e.prototype.clearTargetingByKeyPrefix=function(e){var t=googletag.pubads().getTargetingKeys();for(var i in t)0==i.indexOf(e)&&this.clearTargetingByKey(i)},e.prototype.render=function(){var e=this;googletag.cmd.push((function(){googletag.display(e.mDivId),googletag.pubads().isInitialLoadDisabled()&&e.refresh()}))},e.prototype.refresh=function(){googletag.pubads().refresh([this.mDFPSlot],{changeCorrelator:!1})},e.prototype.destroy=function(){var e=this;googletag.cmd.push(()},e.prototype.registerEvent=function(e,t){var i=this;googletag.cmd.push((function(){googletag.pubads().addEventListener(e,(function(e){e.slot==i.mDFPSlot&&"function"==typeof t&&t(e)}))}))},e.prototype.defineSizeMapping=function(e){var t=this;googletag.cmd.push(()},e.prototype.buildSizeMapping=function(e){for(var t=googletag.sizeMapping(),i=0,r=e;i<r.length;i++){var n=r[i];t=t.addSize(n[0],n[1])}return t.build()},e.prototype.getDFPSlot=function(){return this.mDFPSlot},e.prototype.getDivId=function(){return this.mDivId},e}();t.default=n},101:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=i(973),s=function(){function e(e,t,i,r,n,s,o,a,l){this.isSingleRequestEnabled=e,this.mSingleRequestCallback=t,this.isInitialLoadDisabled=i,this.isGDPREnabled=r,this.isUSPEnabled=n,this.mGPTTagType="GPTA",this.mUtil=o,this.mTemplate=a,this.isSingleRequestEnabled&&this.enableSingleRequest(),this.isInitialLoadDisabled&&this.disableInitialLoad(),this.isGDPREnabled&&this.configurePersonalizedAd(),this.isUSPEnabled&&this.configureRestrictDataProcessing(),l&&l.length>0&&this.setPageUrl(l)}return e.createInstance=function(t,i,r,n,s,o,a,l,d){return null==this.mDatManager?this.mDatManager=new e(t,i,r,n,s,o,a,l,d):(this.mDatManager.isGDPREnabled=n,this.mDatManager.isGDPREnabled||this.mDatManager.configureNonPersonalizedAd()),this.mDatManager},e.getInstance=function(){return this.mDatManager},e.dropDFPScript=function(e){(r=window.googletag=window.googletag||{}).cmd=r.cmd||[];var t=document.getElementsByTagName("script")?document.getElementsByTagName("script")[0]:null,i=document.createElement("script");i.async=!0,i.type="text/javascript",i.src=this.mDFPScript,t?t.parentNode.insertBefore(i,t):document.head.appendChild(i),1==e&&n.Utility.getInstance().debugConsoleMessage("Dropped script: gpt.js")},e.prototype.enableSingleRequest=function(){var e=this;try{r.cmd.push((function(){e.isSingleRequestEnabled=r.pubads().enableSingleRequest(),"function"==typeof e.mSingleRequestCallback&&e.mSingleRequestCallback(e.isSingleRequestEnabled)}))}catch(e){this.mUtil.ic_ga_event("Error","DATManager.enableSingleRequest",e.message)}},e.prototype.disableInitialLoad=function(){try{r.cmd.push(()}catch(e){this.mUtil.ic_ga_event("Error","DATManager.disableInitialLoad",e.message)}},e.prototype.configurePersonalizedAd=function(){try{r.cmd.push((function(){r.pubads().setRequestNonPersonalizedAds(1)}))}catch(e){this.mUtil.ic_ga_event("Error","DATManager.configurePersonalizedAd",e.message)}},e.prototype.configureNonPersonalizedAd=function(){try{r.cmd.push(()}catch(e){this.mUtil.ic_ga_event("Error","DATManager.configureNonPersonalizedAd",e.message)}},e.prototype.configureRestrictDataProcessing=function(){try{r.cmd.push(()}catch(e){this.mUtil.ic_ga_event("Error","DATManager.configureRestrictDataProcessing",e.message)}},e.prototype.setPageUrl=function(e){try{r.cmd.push(()}catch(e){this.mUtil.ic_ga_event("Error","DATManager.setPageUrl",e.message)}},e.prototype.callDFPRender=function(e){var t=this;r.cmd.push((function(){t.dfpRender(e)}))},e.prototype.dfpRender=function(e){for(var t=[],i=0;i<e.length;++i){var n=e[i].getDFPSlot();n&&t.push(n)}if(t.length>0){for(i=0;i<t.length;++i)r.display(t[i]);r.pubads().isInitialLoadDisabled()&&r.pubads().refresh(t,{changeCorrelator:!1})}},e.prototype.callDFPRefresh=function(e){var t=this;r.cmd.push((function(){t.dfpRefresh(e)}))},e.prototype.initialLoadDisabled=function(){return!(!r||!r.apiReady)&&r.pubads().isInitialLoadDisabled()},e.prototype.dfpRefresh=function(e){for(var t=[],i="",n=0;n<e.length;++n){var s=e[n].getDFPSlot();s&&(""==i&&(i=e[n].getDivId()),t.push(s))}t.length>0&&r.pubads().refresh(t)},e.mDFPScript="https://securepubads.g.doubleclick.net/tag/js/gpt.js",e.mDatManager=null,e}();t.default=s},427:function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(n,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var i,r,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(i=1,r&&(n=2&a[0]?r.return:a[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,a[1])).done)return n;switch(r=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((n=(n=o.trys).length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){o.label=a[1];break}if(6===a[0]&&o.label<n[1]){o.label=n[1],n=a;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(a);break}n[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{i=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s,o=i(979),a=i(973),l=function(){function e(){this.adFormObject={},this.IsADFAvailable=!1,this.adFormWaitTimeout=6e4,this.adFormThresholdfInitiate=0,this.IsAdFormIntervalInitiated=!1}return e.getInstance=e.prototype.dropAdFormAudienceScript=function(e,t){var i="IC_adform_audience";try{a.Utility.getInstance().isJsFileExistsInDom(e,i,t)||a.Utility.getInstance().dropScripts(e,a.Constant.ADFORM_AUDIENCE_TAG_SCRIPT,"adformat.js",t,i,!1,!0)}catch(e){console.log("dropAdFormAudienceScript :error : "+e)}},e.prototype.dropAdFormUidScript=function(e,t){var i="IC_adform_uid";try{a.Utility.getInstance().isJsFileExistsInDom(e,i,t)||a.Utility.getInstance().dropScripts(e,a.Constant.ADFORM_UID_SCRIPT,"adfaction uid",t,i,!1,!0)}catch(e){console.log("dropAdFormUidScript :error : "+e)}},e.prototype.dropAdFormTrackingScript=function(e,t,i,r){var n=o.Template.getDropScriptWindow();n._adftrack="_adftrack"in n?Array.isArray(n._adftrack)?n._adftrack:n._adftrack?[n._adftrack]:[]:[],n._adftrack.push({HttpHost:"track.adform.net",pm:+r,divider:encodeURIComponent("|"),pagename:encodeURIComponent(i)});var s="IC_adform_trackpoint_async";try{a.Utility.getInstance().isJsFileExistsInDom(e,s,t)||a.Utility.getInstance().dropScripts(e,a.Constant.ADFORM_TRACKINGPOINT_SCRIPT,"trackpoint-async.js",t,s,!1,!0)}catch(e){console.log("IC_adform_trackpoint_async :error : "+e)}s="IC_adform_trackpoint";var l='<p style="margin:0;padding:0;border:0;" > <img id="adformimg" src = "'+a.Constant.ADFORM_TRACKINGPOINT_PIXEL_SCRIPT+"?pm="+r+"&ADFPageName="+i+'" width = "1" height = "1" alt = "" />  </p>';try{a.Utility.getInstance().dropNoScripts(e,l,"trackpoint loadimage",t,s)}catch(e){console.log("IC_adform_trackpoint :error : "+e)}},e.prototype.postAdFormVariable=function(){var e=this,t=a.Utility.window.top,i=o.Template.mAdFormTrackingId,s=o.Template.mAdFormPageName;if(this.IsADFAvailable)this.submitAdFormVariable(i,s);else{if(this.IsAdFormIntervalInitiated)return;this.IsAdFormIntervalInitiated=!0;var l=setInterval((function(){return r(e,void 0,void 0,(function(){return n(this,(function(e){try{if(this.adFormThresholdfInitiate=this.adFormThresholdfInitiate+1e3,this.IsADFAvailable||this.adFormThresholdfInitiate>=this.adFormWaitTimeout)return clearInterval(l),[2];o.Template.mIsAdformEnabled&&o.Template.mIsAdformDropped&&t&&t.adf&&(clearInterval(l),this.IsADFAvailable=!0,this.submitAdFormVariable(i,s))}catch(e){}return[2]}))}))}),1e3)}},e.prototype.submitAdFormVariable=function(e,t){a.Utility.window.top.adf.ClickTrack(this,+e,t,this.adFormObject),this.adFormObject={}},e.prototype.addDmpProperty=function(e){var t={usn:"sv1",rft:"sv2",viewcount:"sv3",zone:"sv4",cookietype:"sv5",t:"sv6",contenttype:"sv7",company:"sv8",mccs_key:"sv9",mktvolatile:"sv10",qsearchc:"sv11",sector:"sv12"};for(var i in e){var r=e[i];if(i.toLocaleLowerCase()in t){var n=t[i.toLocaleLowerCase()];if("t"==i.toLowerCase()){var s=[];try{n in this.adFormObject&&Object.keys(this.adFormObject[n]).length>0&&(s=this.adFormObject[n])}catch(e){}if(r.constructor!==Array&&(r=[r]),s=s.concat(r),(s=(s=this.removeDuplicateFromArray(s)).map((function(e){return e.toUpperCase()}))).length>0)try{this.adFormObject[n]=s.join(",")}catch(e){}}else this.adFormObject[n]=r}}Object.keys(this.adFormObject).length>0&&this.postAdFormVariable()},e.prototype.removeDuplicateFromArray=function(e){if(!e)return e;for(var t=[],i=[],r=0;r<e.length;++r)t.indexOf(e[r].toLowerCase())>=0||(t.push(e[r].toLowerCase()),i.push(e[r]));return i},e}();t.default=l},249:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n,s=i(973),o=function(){function e(){this.mEnabledCMP=n.NONE,this.mIsCMPEnabled=!0,this.mIC_Window=window,this.mWaitingForData=!1,this.mAdmiralLocalStorageTCStringKey="IC_CMP_Admiral_tcString",this.mAdmiralLocalStorageGdprAppliesKey="IC_CMP_Admiral_gdprApplies",this.mAdmiralGdprConsentsKnownKey="IC_CMP_Admiral_ConsentsKnown",this.mAdmiralDfpApplicableKey="IC_CMP_Admiral_DFPApplicable",this.mAdmiralScriptLoaded=!1,this.mWaitingToShowAdmiralPopup=!1}return e.prepareInstance=function(t,i,n,s,o){return null==r&&((r=new e).mDocumentType=s,"ff"==s&&(r.mIC_Window=window.top),r.mUtil=i,r.mIsUATDebugModeEnabled=n,r.setConfig(t,o)),r},e.getInstance=function(){return r},e.prototype.isAnyCMPEnabled=function(){return this.mEnabledCMP!=n.NONE},e.prototype.showCmpPopup=function(){this.mEnabledCMP==n.ADMIRAL&&(this.mAdmiralScriptLoaded?this.showAdmiralPopup():this.mWaitingToShowAdmiralPopup=!0)},e.prototype.getCmpData=function(){if(this.mEnabledCMP==n.ADMIRAL)return{cmpVersion:2,tcString:this.mUtil.getFromLocalStorage(this.mAdmiralLocalStorageTCStringKey),gdprApplies:this.mUtil.getFromLocalStorage(this.mAdmiralLocalStorageGdprAppliesKey)}},e.prototype.registerGdprCmpCallback=function(e,t){"function"==typeof e&&(this.mCMPCallback=e,this.mCMPCallbackParams=t)},e.prototype.setConfig=function(e,t){e.IsEnabled&&"if"!=this.mDocumentType?this.mIsCMPEnabled=!0:this.mIsCMPEnabled=!1,this.mIsCMPEnabled&&"Admiral"in e&&"IsEnabled"in e.Admiral&&e.Admiral.IsEnabled&&(this.mEnabledCMP=n.ADMIRAL,this.loadAdmiralCMP(e.Admiral.url,e.adTagName,t))},e.dropAdmiralScript=function(e,t,i,r,n){var s=window;if("ff"==i&&(s=window.top),"function"!=typeof s.admiral){r&&(s.__cmpGdprAppliesGlobally=!0),s.admiral=var o=s.document.getElementsByTagName("script")[0],a=document.createElement("script");a.id="IC_Admiral_Script_Id",a.src=e+t+".js",a.type="text/javascript",1==n?a.async=!0:a.defer=!0,o&&o.parentNode.insertBefore(a,o)}},e.prototype.loadAdmiralCMP=function(t,i,r){var n=this;e.dropAdmiralScript(t,i,this.mDocumentType,!0,r),this.mIC_Window.admiral("after","cmp.loaded",(function(e){n.mAdmiralScriptLoaded=!0,e&&(e.consentKnown?n.receivedAdmiralCmpData():(n.mIC_Window.admiral("after","cmp.updated",(function(e){n.mUtil.saveToLocalStorage(n.mAdmiralGdprConsentsKnownKey,!0),n.receivedAdmiralCmpData()})),n.mWaitingToShowAdmiralPopup&&n.showAdmiralPopup()))}))},e.prototype.receivedAdmiralCmpData=function(){var e=this;"function"==typeof this.mIC_Window.__tcfapi?this.mIC_Window.__tcfapi("addEventListener",2,(function(t,i){if(i){try{e.mIsUATDebugModeEnabled&&e.mUtil.debugConsoleMessage("Admiral GDPR TC Data read successfully ",[t])}catch(e){}var r="",n=!1;try{if(("useractioncomplete"==t.eventStatus||"tcloaded"==t.eventStatus)&&"tcString"in t&&"gdprApplies"in t&&e.mUtil.isLocalStorageSupported()){r=t.tcString,n=t.gdprApplies,e.mUtil.saveToLocalStorage(e.mAdmiralLocalStorageTCStringKey,r),e.mUtil.saveToLocalStorage(e.mAdmiralLocalStorageGdprAppliesKey,n);var s=!1;t.vendor.consents[755]&&t.purpose.consents[1]&&(s=!0),e.mUtil.saveToLocalStorage(e.mAdmiralDfpApplicableKey,s)}}catch(e){}e.mCMPCallback&&e.mCMPCallback(e.mCMPCallbackParams)}})):(this.mIsUATDebugModeEnabled&&this.mUtil.debugConsoleMessage("receivedAdmiralCmpData :: window.__tcfapi function is undefined."),s.Utility.getInstance().ic_ga_event("Warning","GdprCmp.receivedAdmiralCmpData","window.__tcfapi function is undefined"))},e.prototype.showAdmiralPopup=function(){var e=this;this.mIC_Window.admiral("after","cmp.loaded",(function(t){!t||t.euVisitor||t.consentKnown||e.mIC_Window.admiral("show","cmp.main")}))},e.prototype.publisherCmpGetConsents=function(e,t){var i=this;if("function"!=typeof this.mIC_Window.__tcfapi)return this.mIsUATDebugModeEnabled&&this.mUtil.debugConsoleMessage("publisherCmpGetConsents :: window.__tcfapi function is undefined."),void s.Utility.getInstance().ic_ga_event("Warning","GdprCmp.publisherCmpGetConsents","window.__tcfapi function is undefined");this.mIC_Window.__tcfapi("addEventListener",2,(function(r,n){if(n&&("useractioncomplete"==r.eventStatus||"tcloaded"==r.eventStatus)){var s=r.tcString&&r.vendor.consents[755]&&r.purpose.consents[1];try{i.mIsUATDebugModeEnabled&&i.mUtil.debugConsoleMessage("Publisher GDPR CMP, received user consents and DFP is "+(s?"Applicable.":"Not applicable."))}catch(e){}if(s){var o={cmpVersion:2,tcString:r.tcString,gdprApplies:r.gdprApplies};"function"==typeof e&&e(t,o)}}}))},e}();t.default=o,function(e){e.NONE="NONE",e.ADMIRAL="ADMIRAL"}(n||(n={}))},231:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)},n=this&&this.__spreadArray||function(e,t,i){if(i||2===arguments.length)for(var r,n=0,s=t.length;n<s;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var s=i(979),o=i(973),a=function(){function e(e){this.mPlacements={},this.mPlacementCl=s.Placement,this.mTemplateCl=s.Template,this.mA9=null,this.mMarkit=null,this.mMarkitDFPKeys=[],this.mPlacementCallback={},this.mPrebid=null,this.mSspsLogsParams={},this.adRefreshcount=0,this.mLoadedAdapters=[],this.mEnabledSSPS=[],this.mIsS2SEnabled=!1,this.mMarkitKeyValNoFilter={},this.mDeviceType=e.deviceType,this.mBidExpiry=e.bidsExpiry,this.createSSPObjects(e)}return e.prototype.createSSPObjects=function(e){if(I=e.isDebugModeEnabled,z=e.globalAdSizes,null==this.mA9&&e.a9&&e.a9.IsEnabled&&(E=e.a9.globalAdSizes,this.mA9=new f(this.mDeviceType,e.a9)),null==this.mPrebid){var t={};t.appnexusConfig=e.appnexus&&e.appnexus.IsEnabled?e.appnexus:null,t.rubiconConfig=e.rubicon&&e.rubicon.IsEnabled?e.rubicon:null,t.pubmaticConfig=e.pubmatic&&e.pubmatic.IsEnabled?e.pubmatic:null,t.openxConfig=e.openx&&e.openx.IsEnabled?e.openx:null,t.criteoConfig=e.criteo&&e.criteo.IsEnabled?e.criteo:null,t.sovrnConfig=e.sovrn&&e.sovrn.IsEnabled?e.sovrn:null,t.yieldmoConfig=e.yieldmo&&e.yieldmo.IsEnabled?e.yieldmo:null,t.across33Config=e.across33&&e.across33.IsEnabled?e.across33:null,t.aolConfig=e.aol&&e.aol.IsEnabled?e.aol:null,t.gumgumConfig=e.gumgum&&e.gumgum.IsEnabled?e.gumgum:null,t.tripleliftConfig=e.triplelift&&e.triplelift.IsEnabled?e.triplelift:null,t.smartadserverConfig=e.smartadserver&&e.smartadserver.IsEnabled?e.smartadserver:null,t.improveDigitalConfig=e.improvedigital&&e.improvedigital.IsEnabled?e.improvedigital:null,t.shareThroughConfig=e.sharethrough&&e.sharethrough.IsEnabled?e.sharethrough:null,t.mediaNetConfig=e.medianet&&e.medianet.IsEnabled?e.medianet:null,t.adaptmxConfig=e.adaptmx&&e.adaptmx.IsEnabled?e.adaptmx:null,t.outbrainConfig=e.outbrain&&e.outbrain.IsEnabled?e.outbrain:null,t.automatAdConfig=e.automatad&&e.automatad.IsEnabled?e.automatad:null,null==t.appnexusConfig&&null==t.rubiconConfig&&null==t.pubmaticConfig&&null==t.openxConfig&&null==t.criteoConfig&&null==t.sovrnConfig&&null==t.adaptmxConfig&&null==t.yieldmoConfig&&null==t.across33Config&&null==t.aolConfig&&null==t.gumgumConfig&&null==t.improveDigitalConfig&&null==t.tripleliftConfig&&null==t.outbrainConfig&&null==t.smartadserverConfig&&null==t.shareThroughConfig&&null==t.mediaNetConfig&&null==t.automatAdConfig||(this.mPrebid=new g(this.mDeviceType,e,t),this.mPrebid.isAppnexusEnable()&&(A=e.appnexus.globalAdSizes),this.mPrebid.isOpenXEnable()&&(C=e.openx.globalAdSizes),this.mPrebid.isPubmaticEnable()&&(P=e.pubmatic.globalAdSizes),this.mPrebid.isRubiconEnable()&&(v=e.rubicon.globalAdSizes),this.mPrebid.isCriteoEnable()&&(D=e.criteo.globalAdSizes),this.mPrebid.isSovrnEnable()&&(_=e.sovrn.globalAdSizes),this.mPrebid.isYieldmoEnable()&&(U=e.yieldmo.globalAdSizes),this.mPrebid.is33AcrossEnable()&&(R=e.across33.globalAdSizes),this.mPrebid.isAolEnable()&&(O=e.aol.globalAdSizes),this.mPrebid.isGumgumEnable()&&(L=e.gumgum.globalAdSizes),this.mPrebid.isTripleliftEnable()&&(w=e.triplelift.globalAdSizes),this.mPrebid.isAdaptmxEnable()&&(N=e.adaptmx.globalAdSizes),this.mPrebid.isSmartAdServerEnable()&&(F=e.smartadserver.globalAdSizes),this.mPrebid.isImproveDigitalEnable()&&(M=e.improvedigital.globalAdSizes),this.mPrebid.isSharethroughEnable()&&(k=e.sharethrough.globalAdSizes),this.mPrebid.isMedianetEnable()&&(x=e.medianet.globalAdSizes),this.mPrebid.isOutbrainEnable()&&(V=e.outbrain.globalAdSizes),this.mPrebid.isAutomatadEnable()&&(G=e.automatad.globalAdSizes))}null==this.mMarkit&&e.markit&&e.markit.IsEnabled&&(this.mMarkit=new S,this.mMarkitDFPKeys=e.markit.DFPKeyName.map(())},e.createInstance=function(t){return null==e.mSSP?(e.mSSP=new e(t),e.mSSP.mPlacements={}):e.mSSP.createSSPObjects(t),e.mSSP},e.getInstance=function(){return e.mSSP},e.getListOfSsps=e.getRubiconAdSizes=function(){return v},e.getPubmaticAdSizes=function(){return P},e.getA9AdSizes=function(){return E},e.getAppnexusAdSizes=function(){return A},e.getOpenXAdSizes=function(){return C},e.getCriteoAdSizes=function(){return D},e.getSovrnAdSizes=function(){return _},e.getYieldmoAdSizes=function(){return U},e.get33AcrossAdSizes=function(){return R},e.getAolAdSizes=function(){return O},e.getGumgumAdSizes=function(){return L},e.getTripleliftAdSizes=function(){return w},e.getAdaptmxAdSizes=function(){return N},e.getSmartAdServerAdSizes=function(){return F},e.getImproveDigitalAdSizes=function(){return M},e.getShareThroughAdSizes=function(){return k},e.getMediaNetAdSizes=function(){return x},e.getOutbrainAdSizes=function(){return V},e.getAutomatAdAdSizes=function(){return G},e.getGlobalAdSizes=function(){return z},e.prototype.deletePlacement=e.prototype.getLoadedAdapters=function(){return this.mLoadedAdapters},e.prototype.isPrebidS2SEnabled=function(){return e.isPrebidS2SEnabled},e.getPrebidSource=function(){return p},e.prototype.getEnumStatus=function(){return d},e.prototype.createLoadedAdapters=function(t){var i=[];if(t&&t.length>0)for(var r=0;r<t.length;r++)if(t[r].indexOf("BidAdapter")>-1){var n=t[r].split("BidAdapter")[0];i.push(n)}var o=s.Template.getEligibleS2SBidders();return o.length>0&&(t&&t.indexOf("prebidServerBidAdapter")>-1&&(this.mIsS2SEnabled=!0),i=i.concat(o)),I&&y.getInstance().debugConsoleMessage("Prebid S2S adapter loaded for bidding ",[this.mIsS2SEnabled]),e.isPrebidS2SEnabled=this.mIsS2SEnabled,i},e.prototype.fetchBids=function(e,t,i,r){var n=o.Utility.window.top.ic_pbjs.installedModules;this.mEnabledSSPS=r;var s=void 0!==n?this.createLoadedAdapters(n):[];this.mSspsLogsParams=i,(!this.mPageUrl||this.mPageUrl&&this.mPageUrl!=t)&&(this.mPageUrl=t);for(var a=[],d=0;d<e.length;++d){var m=e[d];if(!this.mPlacements[m.divId]){s.length>0&&(this.mLoadedAdapters[m.divId]=s);for(var c=[],u=0;u<m.adSize.length;++u)(l[m.adSize[u]]||0===m.adSize[u].indexOf("3x"))&&(c[c.length]=m.adSize[u]);c.length<=0||(this.mPlacements[m.divId]={size:c,position:m.position,tile:m.tile,primaryAdSize:m.primaryAdSize,isSspHVPlacement:m.isSspHVPlacement,thirdPartyCookie:m.thirdPartyCookie,isAdhesion:m.isAdhesion,nativeLayout:m.nativeLayout,tag:m.tag},this.setDefaultValues(m.divId,!1,s),a.push(m))}}a.length>0&&this.callEnabledSSP(a,!1,this.adRefreshcount)},e.prototype.refreshBids=function(e,t,i,r){var n=o.Utility.window.top.ic_pbjs.installedModules,a=this.createLoadedAdapters(n),l=[],d=this.mPlacements[e];if(d){a.length>0&&(this.mLoadedAdapters[e]=a);var m={adSize:d.size,divId:e,position:d.position,tile:d.tile,primaryAdSize:d.primaryAdSize,isSspHVPlacement:i,thirdPartyCookie:d.thirdPartyCookie,isAdhesion:d.isAdhesion,nativeLayout:d.nativeLayout,tag:d.tag};l.push(m);var c=s.Template.checkAndPrepareDummyPlacements(m);null!=c&&l.push(c),e in this.mLoadedAdapters&&(a=this.mLoadedAdapters[e],this.setDefaultValues(e,!0,a,t)),this.setDefaultValues(e,!0,a,t),this.callEnabledSSP(l,!0,r,t)}},e.prototype.getStatus=function(e){var t=this.mPlacements[e];return t?this.mMarkit&&this.getMarkitStatusFromWindow()==d.INPROGRESS?this.getMarkitStatusFromWindow():t.status:d.NOT_APPLICABLE},e.prototype.destroy=function(){if(null!=this.mMarkit){var t=window.top;t.ic_markit_status=d.INITIALIZED,t.ic_markit_values=null;var i=document.getElementById("IC_MarkitScript");i&&i.parentNode.removeChild(i)}e.mSSP&&delete e.mSSP},e.prototype.initializedMarkitVariables=function(){var e=s.Template.getDropScriptWindow();e.ic_markit_status=e.ic_markit_status||d.INITIALIZED,e.ic_markit_values=e.ic_markit_values||null},e.prototype.getMarkitStatusFromWindow=function(){var e=s.Template.getDropScriptWindow();return e.ic_markit_status?e.ic_markit_status:null},e.prototype.setMarkitStatusOnWindow=function(e){var t=s.Template.getDropScriptWindow();t.ic_markit_status&&(t.ic_markit_status=e)},e.prototype.getMarkitValueFromWindow=function(){var e=s.Template.getDropScriptWindow();return e.ic_markit_values?e.ic_markit_values:null},e.prototype.setMarkitValueOnWindow=e.prototype.isA9BidsExpired=function(e){var t=(new Date).getTime();return!(!e.a9||!(null!=e.a9.bidsReceivedTime&&t-e.a9.bidsReceivedTime>this.mBidExpiry||e.a9.status==d.USED))},e.prototype.isPrebidBidsExpired=function(e){var t=(new Date).getTime();return!(!e.prebid||!(null!=e.prebid.bidsReceivedTime&&t-e.prebid.bidsReceivedTime>this.mBidExpiry||e.prebid.status==d.USED))},e.prototype.isBidsExpired=function(e){var t=this.mPlacements[e];return!(!t||!this.isA9BidsExpired(t)&&!this.isPrebidBidsExpired(t))},e.prototype.getPlacements=e.prototype.getBids=function(e,t){var i=this.mPlacements[e],r={};if(r.placement=i,null!=this.mMarkit&&null!=this.getMarkitValueFromWindow()&&(r.markit=this.getMarkitValueFromWindow()),t&&(this.mPlacementCallback[e]={callback:t}),!i)return r;if(null!=this.mA9){var n=i.a9;r.a9=n.bids,i.a9.status=d.USED}if(null!=this.mPrebid){var s=i.prebid;if(r.prebid=r.prebid||{},this.mPrebid.isAppnexusEnable()){var o=s.appnexus;r.prebid.nx=o.bids}if(this.mPrebid.isRubiconEnable()){var a=s.rubicon;r.prebid.rb=a.bids}if(this.mPrebid.isPubmaticEnable()){var l=s.pubmatic;r.prebid.pm=l.bids}if(this.mPrebid.isOpenXEnable()){var m=s.openx;r.prebid.oxb=m.bids}if(this.mPrebid.isCriteoEnable()){var c=s.criteo;r.prebid.ct=c.bids}if(this.mPrebid.isSovrnEnable()){var u=s.sovrn;r.prebid.sv=u.bids}if(this.mPrebid.isYieldmoEnable()){var p=s.yieldmo;r.prebid.ym=p.bids}if(this.mPrebid.is33AcrossEnable()){var h=s.across33;r.prebid.ta=h.bids}if(this.mPrebid.isAolEnable()){var g=s.aol;r.prebid.aol=g.bids}if(this.mPrebid.isGumgumEnable()){var f=s.gumgum;r.prebid.gg=f.bids}if(this.mPrebid.isTripleliftEnable()){var S=s.triplelift;r.prebid.tl=S.bids}if(this.mPrebid.isAdaptmxEnable()){var y=s.amx;r.prebid.amx=y.bids}if(this.mPrebid.isSmartAdServerEnable()){var b=s.smartadserver;r.prebid.sa=b.bids}if(this.mPrebid.isImproveDigitalEnable()){var T=s.improvedigital;r.prebid.dgt=T.bids}if(this.mPrebid.isSharethroughEnable()){var I=s.sharethrough;r.prebid.st=I.bids}if(this.mPrebid.isMedianetEnable()){var v=s.medianet;r.prebid.mn=v.bids}if(this.mPrebid.isOutbrainEnable()){var P=s.outbrain;r.prebid.ob=P.bids}if(this.mPrebid.isAutomatadEnable()){var E=s.automatad;r.prebid.aa=E.bids}i.prebid.status=d.USED}return r},e.prototype.getDefaultBidValues=function(e,t,i,r){for(var n={},s=0;s<r.size.length;++s)if(!(t.indexOf(r.size[s])<0||i&&i.indexOf(r.size[s])<0)){n[e+l[r.size[s]]]=-1;break}return n},e.prototype.getDefaultBidValuesV2=function(e,t,i,r,n,s){var o={},a=-1;t.indexOf("a9")<0&&(this.isAdapterLoaded(s,t)||(a=-2));for(var d=0;d<n.size.length;++d)if(!(i.indexOf(n.size[d])<0||r&&r.indexOf(n.size[d])<0)){null!=e&&(o[e+l[n.size[d]]]=a),o[t]=a,o[t+"_sz"]=l[n.size[d]];break}return o},e.prototype.isAdapterLoaded=function(e,t){var i=o.Utility.getInstance().getBidderNameByCode(t,c),r=s.Template.getEligibleS2SBidders();return!!(e.indexOf(i)>-1&&r.indexOf(i)<0||r.indexOf(i)>-1&&this.mIsS2SEnabled)},e.prototype.setDefaultValues=function(e,t,i,r){var n=this.mPlacements[e];if(n){n.status=d.INITIALIZED;var s={};null!=this.mA9&&(s.bids=this.getDefaultBidValuesV2("a9_","a9",E,this.mA9.getA9EnabledAdSizes(),n,!0),s.status=d.INITIALIZED,s.bidsReceivedTime=null,n.a9=s);var o={};if(null!=this.mPrebid){var a=this.mPrebid.getAdUnitType(n.isSspHVPlacement,t,r,n),m=-1;this.mPrebid.isAppnexusEnable()&&(o.appnexus={},o.appnexus.bids=this.getDefaultBidValuesV2("nx_","nx",A,this.mPrebid.getAppnexusEnabledAdSizes(),n,i)),this.mPrebid.isRubiconEnable()&&(o.rubicon={},o.rubicon.bids=this.getDefaultBidValuesV2("rb_","rb",v,this.mPrebid.getRubiconEnabledAdSizes(),n,i)),this.mPrebid.isPubmaticEnable()&&(o.pubmatic={},o.pubmatic.bids=this.getDefaultBidValuesV2("pm_","pm",P,this.mPrebid.getPubmaticEnabledAdSizes(),n,i)),this.mPrebid.isOpenXEnable()&&(o.openx={},o.openx.bids=this.getDefaultBidValuesV2("oxb_","ox",C,this.mPrebid.getOpenXEnabledAdSizes(),n,i)),this.mPrebid.isCriteoEnable()&&(o.criteo={},o.criteo.bids=this.getDefaultBidValuesV2("ct_","ct",D,this.mPrebid.getCriteoEnabledAdSizes(),n,i));var c={};if(this.mPrebid.isSovrnEnable()){c.bids={},m=this.isAdapterLoaded(i,"sv")?-1:-2;for(var u=this.mPrebid.getSovrnEnabledAdSizes(),p=0;p<n.size.length;++p)if(!(_.indexOf(n.size[p])<0||u&&u.indexOf(n.size[p])<0)&&(f=this.mPrebid.getSSPPlacementId(this.mPrebid.getSovrnConfig(),a,n.size[p],n.position,!1,n.divId))){c.bids.sv=m,c.bids.sv_sz=l[n.size[p]];break}o.sovrn=c}this.mPrebid.isYieldmoEnable()&&(o.yieldmo={},o.yieldmo.bids=this.getDefaultBidValuesV2(null,"ym",U,this.mPrebid.getYieldmoEnabledAdSizes(),n,i)),this.mPrebid.is33AcrossEnable()&&(o.across33={},o.across33.bids=this.getDefaultBidValuesV2(null,"ta",R,this.mPrebid.get33AcrossEnabledAdSizes(),n,i));var h={};if(this.mPrebid.isAolEnable()){h.bids={},m=this.isAdapterLoaded(i,"aol")?-1:-2;var g=this.mPrebid.getAolEnabledAdSizes();for(p=0;p<n.size.length;++p)if(!(O.indexOf(n.size[p])<0||g&&g.indexOf(n.size[p])<0)){var f=this.mPrebid.getSSPPlacementId(this.mPrebid.getAolConfig(),a,n.size[p],n.position,!0,n.divId),S=this.mPrebid.getSiteIdForDevice(this.mPrebid.getAolConfig(),a);if(f&&S){h.bids.aol=m,h.bids.aol_sz=l[n.size[p]];break}}o.aol=h}var y={};if(this.mPrebid.isGumgumEnable()){y.bids={},m=this.isAdapterLoaded(i,"gg")?-1:-2;var b=this.mPrebid.getGumgumEnabledAdSizes();for(p=0;p<n.size.length;++p)if(!(L.indexOf(n.size[p])<0||b&&b.indexOf(n.size[p])<0)&&this.mPrebid.getSSPPlacementId(this.mPrebid.getGumgumConfig(),a,n.size[p],n.position,!0,n.divId)){y.bids.gg_sz=l[n.size[p]],y.bids.gg=m;break}o.gumgum=y}var T={};if(this.mPrebid.isTripleliftEnable()){T.bids={},m=this.isAdapterLoaded(i,"tpl")?-1:-2;var I=this.mPrebid.getTripleliftEnabledAdSizes();for(p=0;p<n.size.length;++p)if(!(w.indexOf(n.size[p])<0||I&&I.indexOf(n.size[p])<0)&&this.mPrebid.getSSPPlacementId(this.mPrebid.getTripleliftConfig(),a,n.size[p],n.position,!0,n.divId)){T.bids.nat=m,T.bids.tpl=m;break}o.triplelift=T}this.mPrebid.isSmartAdServerEnable()&&(o.smartadserver={},o.smartadserver.bids=this.getDefaultBidValuesV2(null,"sa",F,this.mPrebid.getSmartAdServerEnabledAdSizes(),n,i));var z={};if(this.mPrebid.isImproveDigitalEnable()){z.bids={},m=this.isAdapterLoaded(i,"dgt")?-1:-2;var B=this.mPrebid.getImproveDigitalEnabledAdSizes();for(p=0;p<n.size.length;++p)if(!(M.indexOf(n.size[p])<0||B&&B.indexOf(n.size[p])<0)&&(f=this.mPrebid.getSSPPlacementId(this.mPrebid.getImproveDigitalConfig(),a,n.size[p],n.position,!1,n.divId))){z.bids.dgt=m,z.bids.dgt_sz=l[n.size[p]];break}o.improvedigital=z}this.mPrebid.isSharethroughEnable()&&(o.sharethrough={},o.sharethrough.bids=this.getDefaultBidValuesV2(null,"st",k,this.mPrebid.getShareThroughEnabledAdSizes(),n,i)),this.mPrebid.isMedianetEnable()&&(o.medianet={},o.medianet.bids=this.getDefaultBidValuesV2(null,"mn",x,this.mPrebid.getMediaNetEnabledAdSizes(),n,i)),this.mPrebid.isAutomatadEnable()&&(o.automatad={},o.automatad.bids=this.getDefaultBidValuesV2(null,"aa",G,this.mPrebid.getAutomatAdEnabledAdSizes(),n,i));var W={};if(this.mPrebid.isAdaptmxEnable()){W.bids={},m=this.isAdapterLoaded(i,"amx")?-1:-2;var H=this.mPrebid.getAdaptmxEnabledAdSizes();for(p=0;p<n.size.length;++p)if(!(N.indexOf(n.size[p])<0||H&&H.indexOf(n.size[p])<0)){var j=n.size[p];if(this.mPrebid.getSlotName(n,t,j,r)){W.bids["amx_"+l[n.size[p]]]=m,W.bids.amx=m,W.bids.amx_sz=l[n.size[p]];break}}o.amx=W}var K={};if(this.mPrebid.isOutbrainEnable()){K.bids={},m=this.isAdapterLoaded(i,"ob")?-1:-2;var q=this.mPrebid.getOutbrainEnabledAdSizes();if(n.nativeLayout&&"prebidConfig"in n.nativeLayout&&null!=n.nativeLayout.prebidConfig)for(p=0;p<n.size.length;++p)if(!(V.indexOf(n.size[p])<0||q&&q.indexOf(n.size[p])<0)&&this.mPrebid.getOutbrainTagId(n,t,n.size[p],r)){K.bids.ob=m;break}o.outbrain=K}o.status=d.INITIALIZED,o.bidsReceivedTime=null,n.prebid=o}this.mPlacements[e]=n}},e.prototype.callEnabledSSP=function(e,t,i,r){var n=!1;null!=this.mA9&&(this.mA9.callSSP(e,this.a9Callback.bind(this),this.mSspsLogsParams,i,r),n=!0);var s=!1;null!=this.mPrebid&&(this.mPrebid.callSSP(e,this.prebidCallback.bind(this),t,this.mSspsLogsParams,i,r),s=!0);for(var o=0;o<e.length;++o)this.mPlacements[e[o].divId]&&(this.mPlacements[e[o].divId].status=d.INPROGRESS,n&&(this.mPlacements[e[o].divId].a9.status=d.INPROGRESS),s&&(this.mPlacements[e[o].divId].prebid.status=d.INPROGRESS))},e.prototype.updateOverAllStatus=function(e){var t=this.mPlacements[e];t&&(t.a9&&t.a9.status!=d.RECEIVED||t.prebid&&t.prebid.status!=d.RECEIVED||(t.status=d.RECEIVED))},e.prototype.a9Callback=function(e,t){var i=this.mPlacements[e];if(i){var r={};r.status=d.RECEIVED,r.bidsReceivedTime=(new Date).getTime(),r.bids={};try{if(null!=t&&t.bid_id)r.bids["a9_"+l[t.size]]=t.bid_value,r.bids["a9_"+l[t.size]+"_id"]=t.bid_id,r.bids.a9_sz=l[t.size],r.bids.a9_id=t.bid_id,r.bids.a9=t.bid_value,"deal_id"in t&&(r.bids.a9_d=t.deal_id),"partner_id"in t&&(r.bids.a9_p=t.partner_id);else if(null!=t)for(var n=this.mA9.getA9EnabledAdSizes(),s=0;s<i.size.length;++s)if(!(E.indexOf(i.size[s])<0||n&&n.indexOf(i.size[s])<0)){r.bids["a9_"+l[i.size[s]]]="0",r.bids.a9_sz=l[i.size[s]],r.bids.a9=0;break}}catch(e){var o=new CustomEvent("IC_JSErrorEvent",{detail:"A9 SSP: Error in a9Callback. "+e});document.dispatchEvent(o)}i.a9=r,this.mPlacements[e]=i,this.updateOverAllStatus(e)}},e.prototype.getPrebidResponseV2=function(e,t,i,r,n,s,o){var a=null;if(e[i].bid_id)a={bids:{}},null!=r&&(a.bids[r+l[e[i].size]]=e[i].bid_value,a.bids[r+l[e[i].size]+"_id"]=e[i].bid_id),a.bids[n]=e[i].bid_value,a.bids[n+"_sz"]=l[e[i].size],a.bids[n+"_id"]=e[i].bid_id,e[i].deal_id&&(null!=r&&(a.bids[r+l[e.size]+"_d"]=e[i].deal_id),a.bids[n+"_d"]=e[i].deal_id);else if(s){a={bids:{}};for(var d=0;d<t.size.length;++d)if(!(A.indexOf(t.size[d])<0||o&&o.indexOf(t.size[d])<0)){null!=r&&(a.bids[r+l[t.size[d]]]=0),a.bids[n]=0,a.bids[n+"_sz"]=l[t.size[d]];break}}return a},e.prototype.prebidCallback=function(e,t){var i=this.mPlacements[e];if(i){var r=i.prebid;r.status=d.RECEIVED,r.bidsReceivedTime=(new Date).getTime();try{if(null!=t&&null!=t.appnexus&&(r.appnexus=this.getPrebidResponseV2(t,i,"appnexus","nx_","nx",this.mPrebid.isAppnexusEnable(),this.mPrebid.getAppnexusEnabledAdSizes())),null!=t&&null!=t.rubicon&&(r.rubicon=this.getPrebidResponseV2(t,i,"rubicon","rb_","rb",this.mPrebid.isRubiconEnable(),this.mPrebid.getRubiconEnabledAdSizes())),null!=t&&null!=t.pubmatic&&(r.pubmatic=this.getPrebidResponseV2(t,i,"pubmatic","pm_","pm",this.mPrebid.isPubmaticEnable(),this.mPrebid.getPubmaticEnabledAdSizes())),null!=t&&null!=t.openx&&(r.openx=this.getPrebidResponseV2(t,i,"openx","oxb_","ox",this.mPrebid.isOpenXEnable(),this.mPrebid.getOpenXEnabledAdSizes())),null!=t&&null!=t.criteo&&(r.criteo=this.getPrebidResponseV2(t,i,"criteo","ct_","ct",this.mPrebid.isCriteoEnable(),this.mPrebid.getCriteoEnabledAdSizes())),null!=t&&null!=t.sovrn&&(r.sovrn=this.getPrebidResponseV2(t,i,"sovrn",null,"sv",this.mPrebid.isSovrnEnable(),this.mPrebid.getSovrnEnabledAdSizes())),null!=t&&null!=t.yieldmo&&(r.yieldmo=this.getPrebidResponseV2(t,i,"yieldmo",null,"ym",this.mPrebid.isYieldmoEnable(),this.mPrebid.getYieldmoEnabledAdSizes())),null!=t&&null!=t["33across"]&&(r.across33=this.getPrebidResponseV2(t,i,"33across",null,"ta",this.mPrebid.is33AcrossEnable(),this.mPrebid.get33AcrossEnabledAdSizes())),null!=t&&null!=t.onemobile&&(r.aol=this.getPrebidResponseV2(t,i,"onemobile",null,"aol",this.mPrebid.isAolEnable(),this.mPrebid.getAolEnabledAdSizes())),null!=t&&null!=t.gumgum&&(r.gumgum=this.getPrebidResponseV2(t,i,"gumgum",null,"gg",this.mPrebid.isGumgumEnable(),this.mPrebid.getGumgumEnabledAdSizes())),null!=t&&null!=t.triplelift)if(t.triplelift.bid_id)r.triplelift={bids:{}},r.triplelift.bids.tpl=t.triplelift.bid_value,r.triplelift.bids.tpl_id=t.triplelift.bid_id,r.triplelift.bids.nat=t.triplelift.bid_value,r.triplelift.bids.nat_id=t.triplelift.bid_id,r.triplelift.bids.nat_v="triplelift",t.triplelift.deal_id&&(r.triplelift.bids.tpl_d=t.triplelift.deal_id);else if(this.mPrebid.isTripleliftEnable()){r.triplelift={bids:{}};for(var n=this.mPrebid.getTripleliftEnabledAdSizes(),s=0;s<i.size.length;++s)if(!(w.indexOf(i.size[s])<0||n&&n.indexOf(i.size[s])<0)){r.triplelift.bids.nat=0,r.triplelift.bids.nat_v="triplelift",r.triplelift.bids.tpl=0;break}}if(null!=t&&null!=t.outbrain)if(t.outbrain.bid_id)r.outbrain={bids:{}},r.outbrain.bids.ob=t.outbrain.bid_value,r.outbrain.bids.ob_id=t.outbrain.bid_id,t.outbrain.deal_id&&(r.outbrain.bids.ob_d=t.outbrain.deal_id);else if(this.mPrebid.isOutbrainEnable()){r.outbrain={bids:{}};var o=this.mPrebid.getOutbrainEnabledAdSizes();for(s=0;s<i.size.length;++s)if(!(V.indexOf(i.size[s])<0||o&&o.indexOf(i.size[s])<0)){r.outbrain.bids.ob=0;break}}null!=t&&null!=t.amx&&(r.amx=this.getPrebidResponseV2(t,i,"amx",null,"amx",this.mPrebid.isAdaptmxEnable(),this.mPrebid.getAdaptmxEnabledAdSizes())),null!=t&&null!=t.smartadserver&&(r.smartadserver=this.getPrebidResponseV2(t,i,"smartadserver",null,"sa",this.mPrebid.isSmartAdServerEnable(),this.mPrebid.getSmartAdServerEnabledAdSizes())),null!=t&&null!=t.improvedigital&&(r.improvedigital=this.getPrebidResponseV2(t,i,"improvedigital",null,"dgt",this.mPrebid.isImproveDigitalEnable(),this.mPrebid.getImproveDigitalEnabledAdSizes())),null!=t&&null!=t.sharethrough&&(r.sharethrough=this.getPrebidResponseV2(t,i,"sharethrough",null,"st",this.mPrebid.isSharethroughEnable(),this.mPrebid.getShareThroughEnabledAdSizes())),null!=t&&null!=t.medianet&&(r.medianet=this.getPrebidResponseV2(t,i,"medianet",null,"mn",this.mPrebid.isMedianetEnable(),this.mPrebid.getMediaNetEnabledAdSizes())),null!=t&&null!=t.automatad&&(r.automatad=this.getPrebidResponseV2(t,i,"automatad",null,"aa",this.mPrebid.isAutomatadEnable(),this.mPrebid.getAutomatAdEnabledAdSizes()))}catch(e){console.log("Error in prebidcallback :: ",e)}i.prebid=r,this.mPlacements[e]=i,this.updateOverAllStatus(e)}},e.prototype.getMarkitValueNoFilter=function(){return this.mMarkitKeyValNoFilter},e.prototype.markitCallback=function(e){try{this.mMarkitKeyValNoFilter=e}catch(e){}var t={},i=0;for(var r in this.setMarkitStatusOnWindow(d.RECEIVED),e)this.mMarkitDFPKeys.indexOf(r.toUpperCase())>=0&&(t[r]=e[r],++i);i>0&&this.setMarkitValueOnWindow(t);try{s.Template.markitCallbackAtTemplate(t)}catch(e){I&&o.Utility.getInstance().debugConsoleMessage("Error: While setting markit to dmp ::"+e)}for(var n in this.mPlacementCallback){var a=this.mPlacementCallback[n];if("function"==typeof a.callback){var l={};l.markit=t,a.callback(l)}}},e.prototype.getA9PriceByCode=function(e){var t=-1;try{t=+m[e]}catch(e){}return t},e.prototype.getBidderCodes=function(){return c},e.prototype.getBidderOldToNewKeys=e.prototype.getPrebid=function(){return this.mPrebid},e.prototype.getMarkit=function(){return this.mMarkit},e.prototype.getStackSspServeHorizontal=function(e,t,i){var n={},s=r({a9:e.a9},e.prebid),a=-2,l=-2,d=-2,m=-2,c=-2,p=-2,h="",g="",f="",S="",y="",b="",T=-2,v="";for(var P in s)if(U=s[P]){var E=U[(P=o.Utility.getInstance().getBidderNameByCode(P,u))+"_sz"];U[P+"_id"]&&(v=U[P+"_id"]);var A=U[P];"a9"==P?(T=A,-1!=A&&0!=A&&(T=this.getA9PriceByCode(A))):T=A,"92"==E?T>a&&(a=T):"99"==E?T>l&&(l=T):"79"==E&&T>d&&(d=T)}T=-2,v="";var C=i+"_stack32",D=this.getBids(C);if(D){var _=r({a9:D.a9},D.prebid);for(var P in _){var U;(U=_[P])&&(E=U[(P=o.Utility.getInstance().getBidderNameByCode(P,u))+"_sz"],U[P+"_id"]&&(v=U[P+"_id"]),A=U[P],"a9"==P?(T=A,-1!=A&&0!=A&&(T=this.getA9PriceByCode(A))):T=A,"32"==E&&(T>m?(p=c,c=m,m=T,f=g,g=h,h=P,b=y,y=S,S=v):T>c?(p=c,f=g,b=y,c=T,g=P,y=v):T>p&&(p=T,f=P,b=v)))}}if(+m>0&&+c>0||+c>0&&+p>0||+m>0&&+p>0){var R=0;if(+m>0&&(R+=+m),+c>0&&(R+=+c),+p>0&&(R+=+p),+R>+l&&+R>+a&&+R>d){I&&o.Utility.getInstance().debugConsoleMessage("Stack Ads:: dummyDivId ::"+C+", bidValue32_1:"+h+"="+m+", bidValue32_2:"+g+"="+c+", bidValue32_3:"+f+"="+p+", bidValue99:"+l+", bidValue92:"+a+", bidValue99:"+l);var O=m.toString(),L=c.toString();"a9"==g?L=D.a9.a9:"a9"==h&&(O=D.a9.a9);var w=":"+g+":"+h,N=":"+y+":"+S,F=":"+L+":"+O;if(p>0){w=f+":"+g+":"+h,N=b+":"+y+":"+S;var M=p.toString();"a9"==f&&(M=D.a9.a9),F=M+":"+L+":"+O}n={tt:""+R,tt_v:w,tt_id:N,tt_bid:F}}}return n},e.mSSP=null,e.isPrebidS2SEnabled=!1,e.mFpPassedToAdSlot={},e}();t.default=a;var l,d,m,c,u,p,h,g=function(){function e(e,t,i){this.mPassConsentManagementConfig=!1,this.mUspString=null,this.mAppnexusConfig=null,this.mRubiconConfig=null,this.mPubmaticConfig=null,this.mOpenXConfig=null,this.mCriteoConfig=null,this.mSovrnConfig=null,this.mYieldmoConfig=null,this.m33AcrossConfig=null,this.mAolConfig=null,this.mGumgumConfig=null,this.mTripleliftConfig=null,this.mAdaptmxConfig=null,this.mSmartAdServerConfig=null,this.mImproveDigitalConfig=null,this.mShareThroughConfig=null,this.mMediaNetConfig=null,this.mOutbrainConfig=null,this.mAutomatAdConfig=null,this.mIC_Window=window.top,this.mRubiconAccountId=11832,this.mHVSuffix="_HV",this.mPriceGranularity=null,this.mSSPLogs=null,this.mNotLoadedAdUnits=null,this.mAddressability=null,this.mSspsLogsParams={},this.mAuctionEventEnabled=!1,this.mS2SConfig={},this.uidModuleNamesArr=[],this.uidModulesId={across33id:"",criteo:"",id5:"",liveramp:"",lotame:"",parrable:"",sharedid:"",unified:"",connectid:""},this.mLogInterval=3e4,this.categoryCl=1,this.categoryS2S=1,this.mDeviceType=e,this.mTimeout=t.prebid.timeout,this.mRefreshTimeout=t.prebid.refreshTimeout,this.mPriceGranularity=t.prebid.priceGranularity,this.mPassConsentManagementConfig=t.prebid.passConsentManagementConfig,this.mCmpVersion=t.prebid.cmpVersion,1==this.mCmpVersion?(this.mCmpConsentData=t.prebid.cmpConsentData,this.mCmpVendorConsentData=t.prebid.cmpVendorConsentData):2==this.mCmpVersion&&(this.mCmpTcString=t.prebid.cmpTcString,this.mCmpGdprApplies=t.prebid.cmpGdprApplies),this.mUspString=t.prebid.uspString,this.mAppnexusConfig=i.appnexusConfig,this.mRubiconConfig=i.rubiconConfig,this.mPubmaticConfig=i.pubmaticConfig,this.mOpenXConfig=i.openxConfig,this.mCriteoConfig=i.criteoConfig,this.mSovrnConfig=i.sovrnConfig,this.mYieldmoConfig=i.yieldmoConfig,this.m33AcrossConfig=i.across33Config,this.mAolConfig=i.aolConfig,this.mGumgumConfig=i.gumgumConfig,this.mTripleliftConfig=i.tripleliftConfig,this.mAdaptmxConfig=i.adaptmxConfig,this.mSmartAdServerConfig=i.smartadserverConfig,this.mImproveDigitalConfig=i.improveDigitalConfig,this.mShareThroughConfig=i.shareThroughConfig,this.mMediaNetConfig=i.mediaNetConfig,this.mOutbrainConfig=i.outbrainConfig,this.mAutomatAdConfig=i.automatAdConfig,this.mS2SConfig=t.s2sConfig,this.mIC_Window.ic_pbjs=this.mIC_Window.ic_pbjs||{},this.mIC_Window.ic_pbjs.que=this.mIC_Window.ic_pbjs.que||[],this.mIC_Window.PWT=this.mIC_Window.PWT||{},this.mIC_Window.owpbjs=this.mIC_Window.owpbjs||{},this.mAdTagName=t.adTagName,this.mAddressability=t.addressability,this.mSSPLogs=[],this.mNotLoadedAdUnits=[],this.prepareConfig()}return e.prototype.prepareConfig=function(e){var t=this,i={},r={};try{void 0!==this.mIC_Window.ic_pbjs&&(r=this.mIC_Window.ic_pbjs.getConfig())}catch(e){}i.priceGranularity=this.mPriceGranularity,"rubicon"in r?i.rubicon=r.rubicon:null!=this.mRubiconConfig&&this.mRubiconConfig.IsEnabled&&(i.rubicon={singleRequest:!0}),this.isImproveDigitalEnable()&&(i.improvedigital={singleRequest:!0,usePrebidSizes:!0}),i.userSync={filterSettings:{iframe:{bidders:"*",filter:"include"}},syncDelay:5e3},"consentManagement"in r?i.consentManagement=r.consentManagement:(i.consentManagement={},this.mPassConsentManagementConfig&&(1==this.mCmpVersion?i.consentManagement.gdpr={cmpApi:"static",timeout:1,allowAuctionWithoutConsent:!1,consentData:{getConsentData:this.mCmpConsentData,getVendorConsents:this.mCmpVendorConsentData}}:2==this.mCmpVersion&&(i.consentManagement.gdpr={cmpApi:"static",timeout:1,allowAuctionWithoutConsent:!1,consentData:{getTCData:{tcString:this.mCmpTcString,gdprApplies:this.mCmpGdprApplies}}})),null!=this.mUspString&&"undefined"!=this.mUspString&&(i.consentManagement.usp={cmpApi:"static",consentData:{getUSPData:{uspString:this.mUspString}}})),e&&(i.outbrain={bidderUrl:"https://b1h.zemanta.com/api/bidder/prebid/bid/",usersyncUrl:"https://b1h.zemanta.com/usersync/prebid"});var n=[];if(s.Template.checkAndImplementLiveramIdentityLink(this.mAddressability)){var l=this.mAddressability.liverampidentitylink;if("storage"in l){var d=l.storage;if(l.pid&&d.type&&d.name&&d.expiry&&d.refresh){var m={name:"identityLink",params:{pid:l.pid},storage:{type:d.type,name:d.name,expires:d.expiry,refreshInSeconds:d.refresh}};n.push(m)}}}if(s.Template.isConnectIdEnabled){var c=this.mAddressability.ConnectUidModule,u=1,p="",h="";c&&"Expires"in c&&(u=c.Expires),c&&"PixelId"in c&&(p=c.PixelId);var g=s.Template.getHashedEmailFromLocalStorage();if(""!=g.SHA256&&(h=g.SHA256),""!=p&&""!=h){var f={name:"connectId",params:{pixelId:p,he:h},storage:{type:"html5",name:s.Template.mConnectIdLocalStorageName,expires:u}};n.push(f)}}n.length>0&&(i.userSync={userIds:n});var S=s.Template.getEligibleS2SBidders();if(S.length>0&&a.isPrebidS2SEnabled){var b=this.mS2SConfig.accountId,T=this.mS2SConfig.bidderTimeout,v=this.mS2SConfig.auctionTimeout,P=this.mS2SConfig.timeoutBuffer,E=this.mS2SConfig.timeout;i.s2sConfig=[{accountId:b,bidders:S,bidderTimeout:T,auctionTimeout:v,timeoutBuffer:P,timeout:E,testing:!1,testServerOnly:!1,endpoint:{p1Consent:o.Constant.PREBID_S2S_AUCTION_URL,noP1Consent:o.Constant.PREBID_S2S_AUCTION_URL},syncEndpoint:{p1Consent:o.Constant.PREBID_S2S_COOKIE_SYNC_URL,noP1Consent:o.Constant.PREBID_S2S_COOKIE_SYNC_URL},enabled:!0,targetingControls:{alwaysIncludeDeals:!0},adapter:"prebidServer"}]}try{this.mIC_Window&&this.mIC_Window.ic_pbjs&&this.mIC_Window.ic_pbjs.installedModules&&this.mIC_Window.ic_pbjs.installedModules.indexOf("schain")>-1&&s.Template.schainConfig&&Object.keys(s.Template.schainConfig).length>0&&(i.schain=s.Template.schainConfig,I&&y.getInstance().debugConsoleMessage("Setconfig Schain :: "+JSON.stringify(s.Template.schainConfig)))}catch(e){I&&y.getInstance().debugConsoleMessage("Error :: Setconfig Schain :: "+e)}this.mIC_Window.ic_pbjs.que.push(()},e.prototype.isAppnexusEnable=function(){return!(null==this.mAppnexusConfig||!this.mAppnexusConfig.IsEnabled)},e.prototype.isRubiconEnable=function(){return!(null==this.mRubiconConfig||!this.mRubiconConfig.IsEnabled)},e.prototype.isPubmaticEnable=function(){return!(null==this.mPubmaticConfig||!this.mPubmaticConfig.IsEnabled)},e.prototype.isOpenXEnable=function(){return!(null==this.mOpenXConfig||!this.mOpenXConfig.IsEnabled)},e.prototype.isCriteoEnable=function(){return!(null==this.mCriteoConfig||!this.mCriteoConfig.IsEnabled)},e.prototype.isSovrnEnable=function(){return!(null==this.mSovrnConfig||!this.mSovrnConfig.IsEnabled)},e.prototype.isYieldmoEnable=function(){return!(null==this.mYieldmoConfig||!this.mYieldmoConfig.IsEnabled)},e.prototype.is33AcrossEnable=function(){return!(null==this.m33AcrossConfig||!this.m33AcrossConfig.IsEnabled)},e.prototype.isAolEnable=function(){return!(null==this.mAolConfig||!this.mAolConfig.IsEnabled)},e.prototype.isGumgumEnable=function(){return!(null==this.mGumgumConfig||!this.mGumgumConfig.IsEnabled)},e.prototype.isTripleliftEnable=function(){return!(null==this.mTripleliftConfig||!this.mTripleliftConfig.IsEnabled)},e.prototype.isAdaptmxEnable=function(){return!(null==this.mAdaptmxConfig||!this.mAdaptmxConfig.IsEnabled)},e.prototype.isSmartAdServerEnable=function(){return!(null==this.mSmartAdServerConfig||!this.mSmartAdServerConfig.IsEnabled)},e.prototype.isImproveDigitalEnable=function(){return!(null==this.mImproveDigitalConfig||!this.mImproveDigitalConfig.IsEnabled)},e.prototype.isSharethroughEnable=function(){return!(null==this.mShareThroughConfig||!this.mShareThroughConfig.IsEnabled)},e.prototype.isMedianetEnable=function(){return!(null==this.mMediaNetConfig||!this.mMediaNetConfig.IsEnabled)},e.prototype.isOutbrainEnable=function(){return!(null==this.mOutbrainConfig||!this.mOutbrainConfig.IsEnabled)},e.prototype.isAutomatadEnable=function(){return!(null==this.mAutomatAdConfig||!this.mAutomatAdConfig.IsEnabled)},e.prototype.getAppnexusEnabledAdSizes=function(){return null!=this.mAppnexusConfig&&this.mAppnexusConfig.IsEnabled?this.mAppnexusConfig.adSizes:null},e.prototype.getRubiconEnabledAdSizes=function(){return null!=this.mRubiconConfig&&this.mRubiconConfig.IsEnabled?this.mRubiconConfig.adSizes:null},e.prototype.getPubmaticEnabledAdSizes=function(){return null!=this.mPubmaticConfig&&this.mPubmaticConfig.IsEnabled?this.mPubmaticConfig.adSizes:null},e.prototype.getOpenXEnabledAdSizes=function(){return null!=this.mOpenXConfig&&this.mOpenXConfig.IsEnabled?this.mOpenXConfig.adSizes:null},e.prototype.getCriteoEnabledAdSizes=function(){return null!=this.mCriteoConfig&&this.mCriteoConfig.IsEnabled?this.mCriteoConfig.adSizes:null},e.prototype.getSovrnEnabledAdSizes=function(){return null!=this.mSovrnConfig&&this.mSovrnConfig.IsEnabled?this.mSovrnConfig.adSizes:null},e.prototype.getYieldmoEnabledAdSizes=function(){return null!=this.mYieldmoConfig&&this.mYieldmoConfig.IsEnabled?this.mYieldmoConfig.adSizes:null},e.prototype.get33AcrossEnabledAdSizes=function(){return null!=this.m33AcrossConfig&&this.m33AcrossConfig.IsEnabled?this.m33AcrossConfig.adSizes:null},e.prototype.getAolEnabledAdSizes=function(){return null!=this.mAolConfig&&this.mAolConfig.IsEnabled?this.mAolConfig.adSizes:null},e.prototype.getGumgumEnabledAdSizes=function(){return null!=this.mGumgumConfig&&this.mGumgumConfig.IsEnabled?this.mGumgumConfig.adSizes:null},e.prototype.getTripleliftEnabledAdSizes=function(){return null!=this.mTripleliftConfig&&this.mTripleliftConfig.IsEnabled?this.mTripleliftConfig.adSizes:null},e.prototype.getAdaptmxEnabledAdSizes=function(){return null!=this.mAdaptmxConfig&&this.mAdaptmxConfig.IsEnabled?this.mAdaptmxConfig.adSizes:null},e.prototype.getSmartAdServerEnabledAdSizes=function(){return null!=this.mSmartAdServerConfig&&this.mSmartAdServerConfig.IsEnabled?this.mSmartAdServerConfig.adSizes:null},e.prototype.getImproveDigitalEnabledAdSizes=function(){return null!=this.mImproveDigitalConfig&&this.mImproveDigitalConfig.IsEnabled?this.mImproveDigitalConfig.adSizes:null},e.prototype.getShareThroughEnabledAdSizes=function(){return null!=this.mShareThroughConfig&&this.mShareThroughConfig.IsEnabled?this.mShareThroughConfig.adSizes:null},e.prototype.getMediaNetEnabledAdSizes=function(){return null!=this.mMediaNetConfig&&this.mMediaNetConfig.IsEnabled?this.mMediaNetConfig.adSizes:null},e.prototype.getAutomatAdEnabledAdSizes=function(){return null!=this.mAutomatAdConfig&&this.mAutomatAdConfig.IsEnabled?this.mAutomatAdConfig.adSizes:null},e.prototype.getOutbrainEnabledAdSizes=function(){return null!=this.mOutbrainConfig&&this.mOutbrainConfig.IsEnabled?this.mOutbrainConfig.adSizes:null},e.prototype.getSovrnConfig=function(){return this.mSovrnConfig},e.prototype.getAolConfig=function(){return this.mAolConfig},e.prototype.getGumgumConfig=function(){return this.mGumgumConfig},e.prototype.getTripleliftConfig=function(){return this.mTripleliftConfig},e.prototype.getAdaptmxConfig=function(){return this.mAdaptmxConfig},e.prototype.getSmartAdServerConfig=function(){return this.mSmartAdServerConfig},e.prototype.getImproveDigitalConfig=function(){return this.mImproveDigitalConfig},e.prototype.getShareThroughConfig=function(){return this.mShareThroughConfig},e.prototype.getMediaNetConfig=function(){return this.mMediaNetConfig},e.prototype.getOutbrainConfig=function(){return this.mOutbrainConfig},e.prototype.getAutomatAdConfig=function(){return this.mAutomatAdConfig},e.prototype.callSSP=function(e,t,i,r,n,l){var d=this;this.mSspsLogsParams=r;var m=a.getInstance().getLoadedAdapters();I&&y.getInstance().debugConsoleMessage("Loaded Adapters for bidding ",[m]);try{if(i){for(var c=[],u=this.mIC_Window.ic_pbjs.adUnits,p=0;p<e.length;++p){var h=e[p],g=this.getAdUnitByDivId(u,h.divId);null!=g&&this.mIC_Window.ic_pbjs.removeAdUnit(g.code);var f=this.prepareAdUnit(h,i,n,m,l);f&&(c.push(f.code),this.mIC_Window.ic_pbjs.addAdUnits(f)),I&&y.getInstance().debugConsoleMessage("Refreshed Prebid SSPs for newAdUnit ",[f])}try{I&&y.getInstance().debugConsoleMessage("Refreshed Prebid SSPs for adunitcode ",[c])}catch(e){}if(Object.keys(this.mNotLoadedAdUnits).length>0){var S=(new Date).getTime();o.Utility.getInstance().createBidAdapterNotLoadedLogs(this.mNotLoadedAdUnits,S,S,s.Template.getEligibleS2SBidders())}c.length>0&&(this.prepareConfig(),this.setUserIdToadUnits(u),this.mIC_Window.ic_pbjs.requestBids({timeout:this.mRefreshTimeout,adUnitCodes:c,bidsBackHandler:function(e,i){d.prebidCallback(e,t,i)}}))}else{var b=[],T=[];for(p=0;p<e.length;++p){h=e[p];var v=this.prepareAdUnit(h,i,n,m,l);null!=v&&(T.push(v.code),b.push(v))}Object.keys(this.mNotLoadedAdUnits).length>0&&(S=(new Date).getTime(),o.Utility.getInstance().createBidAdapterNotLoadedLogs(this.mNotLoadedAdUnits,S,S,s.Template.getEligibleS2SBidders()));try{I&&y.getInstance().debugConsoleMessage("Called Prebid SSPs for adunits ",[b])}catch(e){}if(b.length<=0)return;this.prepareConfig(),this.mIC_Window.ic_pbjs.que.push((function(){d.mAuctionEventEnabled||(d.mIC_Window.ic_pbjs.onEvent("auctionEnd",(function(e){var t=(new Date).getTime();o.Utility.getInstance().createSSPResponseObject(d.mSSPLogs,e,t,d.uidModuleNamesArr)})),d.mAuctionEventEnabled=!0),d.setUserIdToadUnits(b),d.mIC_Window.ic_pbjs.addAdUnits(b),d.mIC_Window.ic_pbjs.requestBids({timeout:d.mTimeout,bidsBackHandler:adUnitCodes:T})}))}}catch(e){console.log("Error while fetching Prebid bids :: ",e)}},e.prototype.setUserIdToadUnits=function(e){if(this.mIC_Window.IHPWT&&"function"==typeof this.mIC_Window.IHPWT.getUserIds){var t={};e.forEach((function(e){e.bids.forEach((,this)}),this),t=this.mIC_Window.IHPWT.getUserIds(),null!=(i=s.Template.getPubCommId())&&""!=i&&(t.pubcid=i),this.checkInsertUidNames(t)}else if(this.mIC_Window.PWT&&"function"==typeof this.mIC_Window.PWT.getUserIds){var i;t={},e.forEach((function(e){e.bids.forEach((function(e){e.userId=this.mIC_Window.PWT.getUserIds(),e.userIdAsEids=this.mIC_Window.owpbjs.getUserIdsAsEids()}),this)}),this),t=this.mIC_Window.PWT.getUserIds(),null!=(i=s.Template.getPubCommId())&&""!=i&&(t.pubcid=i),this.checkInsertUidNames(t)}if(Object.keys(s.Template.getId5USerIds()).length>0){var n=s.Template.getId5USerIds(),o=n.userId,a=n.userIdAsEid;e.forEach((function(e){e.bids.forEach((function(e){var t={id5id:{ext:{linkType:2},uid:o}};e.userId=r(r({},e.userId),t);var i=-1;"userIdAsEids"in e?e.userIdAsEids.forEach(():e.userIdAsEids=[],i>-1?e.userIdAsEids[i]=a:e.userIdAsEids.push(a)}),this)}),this),this.checkInsertUidNames({id5id:o})}if(s.Template.isConnectIdEnabled){var l=s.Template.getConnectUserId();if(l&&null!=l&&""!=l){var d={};e.forEach((function(e){e.bids.forEach((function(e){d={connectId:l},e.userId=r(r({},e.userId),d)}),this)}),this),this.checkInsertUidNames(d)}}},e.prototype.checkInsertUidNames=function(e){try{for(var t in e){var i="";"id5id"==t&&"object"==typeof e[t]?"uid"in e[t]&&(i=e[t].uid):"33acrossId"==t&&"object"==typeof e[t]?"envelope"in e[t]&&(i=e[t].envelope):i="object"==typeof e[t]?JSON.stringify(e[t]):e[t];var r=h[t];this.uidModulesId[r]=i}var n=[];for(var t in this.uidModulesId)""!=this.uidModulesId[t]&&n.push(t);this.uidModuleNamesArr=n}catch(e){}},e.prototype.setFPPassedToAdSlot=function(e,t){if(a.mFpPassedToAdSlot)try{e in a.mFpPassedToAdSlot?""==a.mFpPassedToAdSlot[e]&&(a.mFpPassedToAdSlot[e]=t):a.mFpPassedToAdSlot[e]=t}catch(e){}},e.prototype.fetchFloorValueByBidder=function(e,t,i,r,n,o){var a={price:"",type:""};try{var l=void 0,d="cl";if("a9"==i?l=this.calculateCategory():r==p.S2S?(this.categoryS2S=this.calculateCategory(this.categoryS2S),l=this.categoryS2S,d="s2s"):(this.categoryCl=this.calculateCategory(this.categoryCl),l=this.categoryCl),1==t&&b.indexOf(i)>-1&&l>1){var m=s.Template.filterFloorPriceByCookieType(s.Template.mUserCookieType,s.Template.getFloorPrice());if(m&&(o||(o="o"),void 0!==m[o])){var c=m[o];if(void 0!==c[n]){var u=c[n];if(void 0!==u[d]){var h=u[d];if(void 0!==h[i]){var g=h[i];2==l&&"l"in g?(a.price=g.l,a.type=11):3==l&&"h"in g&&(a.price=g.h,a.type=12)}}}}""==a.price&&""==a.type&&(a.type=4)}else s.Template.mIsFloorPriceEnabled?b.indexOf(i)<0?a.type=2:Object.keys(s.Template.mFloorPrice).length<=0?a.type=4:t?1==l&&(a.type=10):a.type=3:a.type=1;I&&y.getInstance().debugConsoleMessage("FloorPrice Cookie :: "+s.Template.mUserCookieType+", SSP: "+i+", adSize: "+n+", source: "+r+", category: "+l+", floorPrice: "+a.price+", floorType: "+a.type)}catch(e){I&&y.getInstance().debugConsoleMessage("error while fetching floor price for ssp :: "+e)}return 11==a.type||12==a.type?this.setFPPassedToAdSlot(e,"y"):3==a.type?this.setFPPassedToAdSlot(e,"n"):this.setFPPassedToAdSlot(e,""),a},e.prototype.calculateCategory=function(e){var t=1;try{t=e?e+1>3?1:e+1:Math.floor(3*Math.random())+1>3?3:Math.floor(3*Math.random())+1}catch(e){console.log("Error while getting random category for flooring")}return t},e.prototype.getFloorPrice=function(e){var t="";if(e&&e.price){t=e.price;try{t=(+t).toFixed(2).toString()}catch(e){I&&y.getInstance().debugConsoleMessage("getFloorPrice Error :: "+e)}}return t},e.prototype.getFloorType=e.prototype.prepareAdUnit=function(e,t,i,l,d){this.categoryCl=this.calculateCategory(),this.categoryS2S=this.calculateCategory();var m=s.Template.isFloorPriceApplicable(),c=this.getAdUnitType(e.isSspHVPlacement,t,d,e),u=s.Template.getEligibleS2SBidders(),h="",g={};"HV"!=c&&"HV_Tpc"!=c||(h=this.mHVSuffix);var f=e.divId+h;I&&y.getInstance().debugConsoleMessage("Floor Applicable :: "+m+" :: for AdUnit:: "+f);var S=[],b=e.adSize,T=[],v=[],P=[],E=[],A=[];e.divId in l&&(A=l[e.divId]);var C=this.getAppnexusSizes(b);if(null!=this.mAppnexusConfig&&this.mAppnexusConfig.IsEnabled&&C.length>0){for(var D=0;D<C.length;++D)if((q=this.getSSPPlacementId(this.mAppnexusConfig,c,C[D][0]+"x"+C[D][1],e.position,!0,e.divId))&&this.convertToInt(q)){if(q){var _=u.indexOf("appnexus")>-1?p.S2S:p.CLIENT;if(A.indexOf("appnexus")>-1&&u.indexOf("appnexus")<0||u.indexOf("appnexus")>-1&&a.isPrebidS2SEnabled){var U={},R={bidder:"appnexus"},O={placementId:this.convertToInt(q)},L=this.fetchFloorValueByBidder(e.divId,m,"nx",_,C[D][0]+"x"+C[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L);w&&""!=w&&(w=+w,O=r(r({},O),{reserve:w})),U=r(r(r({},U),R),{params:O}),P.push(U),S.push("mediatype:banner;bidder:appnexus;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";")}else E.push({bidder:"appnexus"})}break}(A.indexOf("appnexus")>-1&&u.indexOf("appnexus")<0||u.indexOf("appnexus")>-1&&a.isPrebidS2SEnabled)&&(T=T.concat(C),v=v.concat(C))}var F=this.getRubiconSizes(b);if(null!=this.mRubiconConfig&&this.mRubiconConfig.IsEnabled&&F.length>0){for(D=0;D<F.length;++D)if((q=this.getSSPPlacementId(this.mRubiconConfig,c,F[D][0]+"x"+F[D][1],e.position,!0,e.divId))&&this.convertToInt(q)&&this.convertToInt(this.mRubiconConfig.SiteId)){_=u.indexOf("rubicon")>-1?p.S2S:p.CLIENT,A.indexOf("rubicon")>-1&&u.indexOf("rubicon")<0||u.indexOf("rubicon")>-1&&a.isPrebidS2SEnabled?(U={},R={bidder:"rubicon"},O={accountId:this.mRubiconAccountId,siteId:this.convertToInt(this.mRubiconConfig.SiteId),zoneId:this.convertToInt(q)},L=this.fetchFloorValueByBidder(e.divId,m,"rb",_,F[D][0]+"x"+F[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(w=+w,O=r(r({},O),{floor:w})),U=r(r(r({},U),R),{params:O}),P.push(U),S.push("mediatype:banner;bidder:rubicon;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";")):E.push({bidder:"rubicon"});break}(A.indexOf("rubicon")>-1&&u.indexOf("rubicon")<0||u.indexOf("rubicon")>-1&&a.isPrebidS2SEnabled)&&(T=T.concat(F),v=v.concat(F))}var M=this.getPubmaticSizes(b);if(null!=this.mPubmaticConfig&&this.mPubmaticConfig.IsEnabled&&M.length>0&&"SlotNamePrefix"in this.mPubmaticConfig){var k=M[0].join("x"),x=this.getPubmaticSlotNamePrefix(e,t,k,d);_=u.indexOf("pubmatic")>-1?p.S2S:p.CLIENT,A.indexOf("pubmatic")>-1&&u.indexOf("pubmatic")<0||u.indexOf("pubmatic")>-1&&a.isPrebidS2SEnabled?(U={},R={bidder:"pubmatic"},O={adSlot:x,publisherId:this.mPubmaticConfig.PublisherId},L=this.fetchFloorValueByBidder(e.divId,m,"pm",_,k,d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(O=r(r({},O),{kadfloor:w.toString()})),U=r(r(r({},U),R),{params:O}),P.push(U),S.push("mediatype:banner;bidder:pubmatic;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";"),T=T.concat(M),v=v.concat(M)):E.push({bidder:"pubmatic"})}var V=this.getOpenXSizes(b);if(null!=this.mOpenXConfig&&this.mOpenXConfig.IsEnabled&&V.length>0){for(D=0;D<V.length;++D)if(q=this.getSSPPlacementId(this.mOpenXConfig,c,V[D][0]+"x"+V[D][1],e.position,!0,e.divId)){_=u.indexOf("openx")>-1?p.S2S:p.CLIENT,A.indexOf("openx")>-1&&u.indexOf("openx")<0||u.indexOf("openx")>-1&&a.isPrebidS2SEnabled?(U={},R={bidder:"openx"},O={unit:q.toString(),delDomain:this.mOpenXConfig.delDomain},L=this.fetchFloorValueByBidder(e.divId,m,"ox",_,V[D][0]+"x"+V[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(w=+w,O=r(r({},O),{customFloor:w})),U=r(r(r({},U),R),{params:O}),P.push(U),S.push("mediatype:banner;bidder:openx;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";")):E.push({bidder:"openx"});break}(A.indexOf("openx")>-1&&u.indexOf("openx")<0||u.indexOf("openx")>-1&&a.isPrebidS2SEnabled)&&(T=T.concat(V),v=v.concat(V))}var G=this.getCriteoSizes(b);null!=this.mCriteoConfig&&this.mCriteoConfig.IsEnabled&&G.length>0&&(_=u.indexOf("criteo")>-1?p.S2S:p.CLIENT,A.indexOf("criteo")>-1&&u.indexOf("criteo")<0||u.indexOf("criteo")>-1&&a.isPrebidS2SEnabled?(L=this.fetchFloorValueByBidder(e.divId,m,"ct",_,G[0][0]+"x"+G[0][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),P.push({bidder:"criteo",params:{networkId:this.mCriteoConfig.networkId}}),S.push("mediatype:banner;bidder:criteo;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";"),T=T.concat(G),v=v.concat(G)):E.push({bidder:"criteo"}));var z=this.getSovrnSizes(b);if(null!=this.mSovrnConfig&&this.mSovrnConfig.IsEnabled&&z.length>0){for(D=0;D<z.length;++D)if(q=this.getSSPPlacementId(this.mSovrnConfig,c,z[D][0]+"x"+z[D][1],e.position,!1,e.divId)){_=u.indexOf("sovrn")>-1?p.S2S:p.CLIENT,A.indexOf("sovrn")>-1&&u.indexOf("sovrn")<0||u.indexOf("sovrn")>-1&&a.isPrebidS2SEnabled?(U={},R={bidder:"sovrn"},O={tagid:q,size:z[D]},L=this.fetchFloorValueByBidder(e.divId,m,"sv",_,z[D][0]+"x"+z[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(_==p.S2S&&(w=+w),O=r(r({},O),{bidfloor:w})),U=r(r(r({},U),R),{params:O}),P.push(U),S.push("mediatype:banner;bidder:sovrn;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";")):E.push({bidder:"sovrn"});break}(A.indexOf("sovrn")>-1&&u.indexOf("sovrn")<0||u.indexOf("sovrn")>-1&&a.isPrebidS2SEnabled)&&(T=T.concat(z),v=v.concat(z))}var B=this.getYieldmoSizes(b);if(null!=this.mYieldmoConfig&&this.mYieldmoConfig.IsEnabled&&B.length>0){for(D=0;D<B.length;++D)if(q=this.getSSPPlacementId(this.mYieldmoConfig,c,B[D][0]+"x"+B[D][1],e.position,!0,e.divId)){_=u.indexOf("yieldmo")>-1?p.S2S:p.CLIENT,A.indexOf("yieldmo")>-1&&u.indexOf("yieldmo")<0||u.indexOf("yieldmo")>-1&&a.isPrebidS2SEnabled?(U={},R={bidder:"yieldmo"},O={placementId:q.toString()},L=this.fetchFloorValueByBidder(e.divId,m,"ym",_,B[D][0]+"x"+B[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(w=+w,O=r(r({},O),{bidFloor:w})),U=r(r(r({},U),R),{params:O}),P.push(U),S.push("mediatype:banner;bidder:yieldmo;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";")):E.push({bidder:"yieldmo"});break}(A.indexOf("yieldmo")>-1&&u.indexOf("yieldmo")<0||u.indexOf("yieldmo")>-1&&a.isPrebidS2SEnabled)&&(T=T.concat(B),v=v.concat(B))}var W=this.get33AcrossSizes(b);if(null!=this.m33AcrossConfig&&this.m33AcrossConfig.IsEnabled&&W.length>0){for(D=0;D<W.length;++D)if(q=this.getSSPPlacementId(this.m33AcrossConfig,c,W[D][0]+"x"+W[D][1],e.position,!0,e.divId)){_=u.indexOf("33across")>-1?p.S2S:p.CLIENT;var H="siab";if("Adhesion"!=c&&"Adhesion_Tpc"!=c||(H="inview"),A.indexOf("33across")>-1&&u.indexOf("33across")<0||u.indexOf("33across")>-1&&a.isPrebidS2SEnabled){L=this.fetchFloorValueByBidder(e.divId,m,"ta",_,W[D][0]+"x"+W[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L);var j={};j={siteId:q,productId:H},u.indexOf("33across")>-1&&"buyerId"in this.m33AcrossConfig&&"zoneId"in this.m33AcrossConfig&&(j={siteId:this.m33AcrossConfig.buyerId,productId:this.m33AcrossConfig.zoneId}),P.push({bidder:"33across",params:j}),S.push("mediatype:banner;bidder:33across;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";")}else E.push({bidder:"33across"});break}(A.indexOf("33across")>-1&&u.indexOf("33across")<0||u.indexOf("33across")>-1&&a.isPrebidS2SEnabled)&&(T=T.concat(W),v=v.concat(W))}var K=this.getAolSizes(b);if(null!=this.mAolConfig&&this.mAolConfig.IsEnabled&&K.length>0){for(D=0;D<K.length;++D){var q=this.getSSPPlacementId(this.mAolConfig,c,K[D][0]+"x"+K[D][1],e.position,!0,e.divId),J=this.getSiteIdForDevice(this.mAolConfig,c);if(q&&J){_=u.indexOf("aol")>-1?p.S2S:p.CLIENT,A.indexOf("aol")>-1&&u.indexOf("aol")<0||u.indexOf("aol")>-1&&a.isPrebidS2SEnabled?(L=this.fetchFloorValueByBidder(e.divId,m,"aol",_,K[D][0]+"x"+K[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),P.push({bidder:"onemobile",params:{dcn:J,pos:q}}),S.push("mediatype:banner;bidder:onemobile;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";")):E.push({bidder:"onemobile"});break}}(A.indexOf("aol")>-1&&u.indexOf("aol")<0||u.indexOf("aol")>-1&&a.isPrebidS2SEnabled)&&(T=T.concat(K),v=v.concat(K))}var Y=this.getGumgumSizes(b);if(null!=this.mGumgumConfig&&this.mGumgumConfig.IsEnabled&&Y.length>0)for(D=0;D<Y.length;++D)if(q=this.getSSPPlacementId(this.mGumgumConfig,c,Y[D][0]+"x"+Y[D][1],e.position,!0,e.divId)){_=u.indexOf("gumgum")>-1?p.S2S:p.CLIENT,A.indexOf("gumgum")>-1&&u.indexOf("gumgum")<0||u.indexOf("gumgum")>-1&&a.isPrebidS2SEnabled?(L=this.fetchFloorValueByBidder(e.divId,m,"gm",_,Y[D][0]+"x"+Y[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),P.push({bidder:"gumgum",params:{inSlot:q}}),S.push("mediatype:banner;bidder:gumgum;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";"),T=T.concat([Y[D]]),v=v.concat([Y[D]])):E.push({bidder:"gumgum"});break}var Q=this.getTripleliftSizes(b);if(null!=this.mTripleliftConfig&&this.mTripleliftConfig.IsEnabled&&Q.length>0)for(D=0;D<Q.length;++D)if(q=this.getSSPPlacementId(this.mTripleliftConfig,c,Q[D][0]+"x"+Q[D][1],e.position,!0,null)){if(_=u.indexOf("triplelift")>-1?p.S2S:p.CLIENT,A.indexOf("triplelift")>-1&&u.indexOf("triplelift")<0||u.indexOf("triplelift")>-1&&a.isPrebidS2SEnabled){U={},R={bidder:"triplelift"},O={inventoryCode:q},L=this.fetchFloorValueByBidder(e.divId,m,"tpl",_,Q[D][0]+"x"+Q[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(w=+w,O=r(r({},O),{floor:w})),U=r(r(r({},U),R),{params:O}),P.push(U),S.push("mediatype:banner;bidder:triplelift;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";");try{var X=n([],Q[D],!0);v=v.concat([X])}catch(e){v=v.concat([Q[D]])}3==(re=Q[D])[0]&&(re[1]=1),T=T.concat([re])}else E.push({bidder:"triplelift"});break}var Z=this.getSmartAdServerSizes(b);if(null!=this.mSmartAdServerConfig&&this.mSmartAdServerConfig.IsEnabled&&Z.length>0){for(D=0;D<Z.length;++D)if((q=this.getSSPPlacementId(this.mSmartAdServerConfig,c,Z[D][0]+"x"+Z[D][1],e.position,!0,e.divId))&&this.convertToInt(q)){if(_=u.indexOf("smartadserver")>-1?p.S2S:p.CLIENT,A.indexOf("smartadserver")>-1&&u.indexOf("smartadserver")<0||u.indexOf("smartadserver")>-1&&a.isPrebidS2SEnabled){U={},R={bidder:"smartadserver"};var $={formatId:this.convertToInt(this.mSmartAdServerConfig.formatId),siteId:this.convertToInt(this.mSmartAdServerConfig.siteId),pageId:this.convertToInt(q)};u.indexOf("smartadserver")>-1&&"networkId"in this.mSmartAdServerConfig&&($=r(r({},$),{networkId:this.mSmartAdServerConfig.networkId})),L=this.fetchFloorValueByBidder(e.divId,m,"sa",_,Z[D][0]+"x"+Z[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(w=+w,$=r(r({},$),{bidfloor:w})),U=r(r(r({},U),R),{params:$}),P.push(U),S.push("mediatype:banner;bidder:smartadserver;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";")}else E.push({bidder:"smartadserver"});break}(A.indexOf("smartadserver")>-1&&u.indexOf("smartadserver")<0||u.indexOf("smartadserver")>-1)&&(T=T.concat(Z),v=v.concat(Z))}var ee=this.getImproveDigitalSizes(b);if(null!=this.mImproveDigitalConfig&&this.mImproveDigitalConfig.IsEnabled&&ee.length>0)for(D=0;D<ee.length;++D)if((q=this.getSSPPlacementId(this.mImproveDigitalConfig,c,ee[D][0]+"x"+ee[D][1],e.position,!1,e.divId))&&this.convertToInt(q))if(_=u.indexOf("improvedigital")>-1?p.S2S:p.CLIENT,A.indexOf("improvedigital")>-1&&u.indexOf("improvedigital")<0||u.indexOf("improvedigital")>-1&&a.isPrebidS2SEnabled){U={},R={bidder:"improvedigital"};var te={placementId:this.convertToInt(q)};u.indexOf("improvedigital")>-1?"partnerId"in this.mImproveDigitalConfig&&(te=r(r({},te),{partnerId:this.mImproveDigitalConfig.partnerId})):("partnerId"in this.mImproveDigitalConfig&&(te=r(r({},te),{publisherId:this.mImproveDigitalConfig.partnerId})),te=r(r({},te),{size:ee[D]})),L=this.fetchFloorValueByBidder(e.divId,m,"dgt",_,ee[D][0]+"x"+ee[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(w=+w,te=r(r({},te),{bidFloor:w})),U=r(r(r({},U),R),{params:te}),P.push(U),S.push("mediatype:banner;bidder:improvedigital;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";"),T=T.concat([ee[D]]),v=v.concat([ee[D]])}else E.push({bidder:"improvedigital"});var ie=this.getShareThroughSizes(b);if(null!=this.mShareThroughConfig&&this.mShareThroughConfig.IsEnabled&&ie.length>0)for(D=0;D<ie.length;++D)if(q=this.getSSPPlacementId(this.mShareThroughConfig,c,ie[D][0]+"x"+ie[D][1],e.position,!0,e.divId)){if(_=u.indexOf("sharethrough")>-1?p.S2S:p.CLIENT,A.indexOf("sharethrough")>-1&&u.indexOf("sharethrough")<0||u.indexOf("sharethrough")>-1&&a.isPrebidS2SEnabled){L=this.fetchFloorValueByBidder(e.divId,m,"sh",_,ie[D][0]+"x"+ie[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),P.push({bidder:"sharethrough",params:{pkey:q}}),S.push("mediatype:banner;bidder:sharethrough;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";");var re=ie[D];T=T.concat([re]),v=v.concat([re])}else E.push({bidder:"sharethrough"});break}var ne=this.getMediaNetSizes(b);if(null!=this.mMediaNetConfig&&this.mMediaNetConfig.IsEnabled&&ne.length>0)for(D=0;D<ne.length;++D)if(q=this.getSSPPlacementId(this.mMediaNetConfig,c,ne[D][0]+"x"+ne[D][1],e.position,!0,e.divId)){_=u.indexOf("medianet")>-1?p.S2S:p.CLIENT,A.indexOf("medianet")>-1&&u.indexOf("medianet")<0||u.indexOf("medianet")>-1&&a.isPrebidS2SEnabled?(U={},R={bidder:"medianet"},O={cid:this.mMediaNetConfig.customerId,crid:q},L=this.fetchFloorValueByBidder(e.divId,m,"mn",_,ne[D][0]+"x"+ne[D][1],d),w=this.getFloorPrice(L),N=this.getFloorType(L),w&&""!=w&&(w=+w,O=r(r({},O),{bidfloor:w})),U=r(r(r({},U),R),{params:O}),P.push(U),S.push("mediatype:banner;bidder:medianet;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";"),re=ne[D],T=T.concat([re]),v=v.concat([re])):E.push({bidder:"medianet"});break}var se=this.getAutomatAdSizes(b);if(null!=this.mAutomatAdConfig&&this.mAutomatAdConfig.IsEnabled&&se.length>0)for(D=0;D<se.length;++D){k=se[0].join("x"),"primaryAdSize"in e&&(k=e.primaryAdSize);var oe=this.getSlotName(e,t,k,d);if(oe){_=u.indexOf("automatad")>-1?p.S2S:p.CLIENT,A.indexOf("automatad")>-1&&u.indexOf("automatad")<0||u.indexOf("automatad")>-1&&a.isPrebidS2SEnabled?(L=this.fetchFloorValueByBidder(e.divId,m,"aa",_,k,d),w=this.getFloorPrice(L),N=this.getFloorType(L),P.push({bidder:"automatad",params:{siteId:this.mAutomatAdConfig.siteId,placementId:oe}}),S.push("mediatype:banner;bidder:automatad;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";"),re=se[D],T=T.concat([re]),v=v.concat([re])):E.push({bidder:"automatad"});break}}var ae=this.getAdaptmxSizes(b);if(null!=this.mAdaptmxConfig&&this.mAdaptmxConfig.IsEnabled&&ae.length>0)for(D=0;D<ae.length;++D){k=ae[0].join("x");var le=this.getSlotName(e,t,k,d);if(le){_=u.indexOf("amx")>-1?p.S2S:p.CLIENT;var de=o.Utility.getInstance().getFromSessionStorage("ic_uat_amx_test");A.indexOf("amx")>-1&&u.indexOf("amx")<0||u.indexOf("amx")>-1&&a.isPrebidS2SEnabled?(L=this.fetchFloorValueByBidder(e.divId,m,"amx",_,k,d),w=this.getFloorPrice(L),N=this.getFloorType(L),null==de?P.push({bidder:"amx",params:{adUnitId:le,tagId:this.mAdaptmxConfig.tagId}}):P.push({bidder:"amx",params:{testMode:!0,adUnitId:le,tagId:"cHJlYmlkLm9yZw"}}),S.push("mediatype:banner;bidder:amx;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";"),T=T.concat([ae[D]]),v=v.concat([ae[D]])):E.push({bidder:"amx"});break}}var me=this.getOutbrainSizes(b);if(null!=this.mOutbrainConfig&&this.mOutbrainConfig.IsEnabled&&me.length>0&&e.nativeLayout&&"prebidConfig"in e.nativeLayout)for(D=0;D<me.length;++D){k=me[0].join("x"),g={native:JSON.parse(e.nativeLayout.prebidConfig)};var ce=this.getOutbrainTagId(e,t,k,d);if(ce){_=u.indexOf("outbrain")>-1?p.S2S:p.CLIENT,A.indexOf("outbrain")>-1&&u.indexOf("outbrain")<0||u.indexOf("outbrain")>-1&&a.isPrebidS2SEnabled?(L=this.fetchFloorValueByBidder(e.divId,m,"ob",_,k,d),w=this.getFloorPrice(L),N=this.getFloorType(L),P.push({bidder:"outbrain",params:{publisher:{id:this.mOutbrainConfig.publisherId},tagid:ce}}),this.prepareConfig(!0),S.push("mediatype:native;bidder:outbrain;source:"+_+";floorprice:"+w.toString()+";floortype:"+N.toString()+";"),re=me[D],v=v.concat([me[D]]),3==re[0]&&(re[1]=1),T=T.concat([re])):E.push({bidder:"outbrain"});break}}if(E&&E.length>0){var ue="",pe=e.divId.split("_");pe[2]&&(ue=pe[2]),U={code:f,mediaTypes:r({},g),bids:E,req:r(r({},this.mSspsLogsParams),{rnd:ue,adslot:f,arc:i})},f in this.mNotLoadedAdUnits||(this.mNotLoadedAdUnits[f]=[]),this.mNotLoadedAdUnits[f].push(U)}if(T=y.getInstance().removeDuplicateFromArray(T),v=y.getInstance().removeDuplicateFromArray(v),P&&P.length>0){var he=[];try{he=n([],v,!0)}catch(e){}this.mSSPLogs[f]=o.Utility.createSSPReqObject(S,he,this.mSspsLogsParams,f,i);var ge=this.getGpid(e,f),fe={ext:{gpid:ge,data:{pbadslot:ge}}};return{code:f,mediaTypes:r({banner:{sizes:T}},g),bids:P,ortb2Imp:fe}}return null},e.prototype.getGpid=function(e,t){var i="";try{var r="",n=e.tag.getTargetName();e.tag.getTargetName().indexOf(".bottom")>0&&(n=n.replace(".bottom",""));var s=e.primaryAdSize;t.indexOf("stack")>0&&(r="_stack","parentAdSize"in e&&(s=e.parentAdSize)),i="/"+o.Constant.NETWORK_CODE+"/"+e.tag.getSiteDFPKeyName()+"/"+n+"#"+s+"_"+e.position+r}catch(e){}return i},e.prototype.convertToInt=e.prototype.prebidCallback=function(e,t,i){var r=this.mIC_Window.ic_pbjs.getNoBids();try{I&&(y.getInstance().debugConsoleMessage("Received bids from Prebid ",[e]),y.getInstance().debugConsoleMessage("Received no bids from Prebid ",[r]))}catch(e){}var n=[];for(var s in e){var o=e[s];try{I&&y.getInstance().debugConsoleMessage("Received bids from Prebid Values---",[o])}catch(e){}var a={};if(o&&o.bids)for(var l=0;l<o.bids.length;++l)a[(d=o.bids[l]).bidder]={bid_value:parseFloat(d.adserverTargeting.hb_pb),bid_id:d.adserverTargeting.hb_adid,size:d.adserverTargeting.hb_size,deal_id:o.dealId};"function"==typeof t&&(s=s.replace(this.mHVSuffix,""),n.push(s),t(s,a))}for(var s in r){o=r[s];try{I&&y.getInstance().debugConsoleMessage("Received no bids from Prebid Values---",[o])}catch(e){}if(a={},o&&o.bids)for(l=0;l<o.bids.length;++l){var d;a[(d=o.bids[l]).bidder]={}}"function"==typeof t&&t(s=s.replace(this.mHVSuffix,""),a)}},e.prototype.getSupportedAdSizes=function(e,t,i){for(var r=[],n=0;n<e.length;++n)if(!(i.indexOf(e[n])<0||t&&t.indexOf(e[n])<0)){var s=e[n].split("x");s[0]=parseInt(s[0]),s[1]=parseInt(s[1]),r.push(s)}return r},e.prototype.getAppnexusSizes=function(e){return this.getSupportedAdSizes(e,this.getAppnexusEnabledAdSizes(),A)},e.prototype.getRubiconSizes=function(e){return this.getSupportedAdSizes(e,this.getRubiconEnabledAdSizes(),v)},e.prototype.getPubmaticSizes=function(e){return this.getSupportedAdSizes(e,this.getPubmaticEnabledAdSizes(),P)},e.prototype.getOpenXSizes=function(e){return this.getSupportedAdSizes(e,this.getOpenXEnabledAdSizes(),C)},e.prototype.getCriteoSizes=function(e){return this.getSupportedAdSizes(e,this.getCriteoEnabledAdSizes(),D)},e.prototype.getSovrnSizes=function(e){return this.getSupportedAdSizes(e,this.getSovrnEnabledAdSizes(),_)},e.prototype.getYieldmoSizes=function(e){return this.getSupportedAdSizes(e,this.getYieldmoEnabledAdSizes(),U)},e.prototype.get33AcrossSizes=function(e){return this.getSupportedAdSizes(e,this.get33AcrossEnabledAdSizes(),R)},e.prototype.getAolSizes=function(e){return this.getSupportedAdSizes(e,this.getAolEnabledAdSizes(),O)},e.prototype.getGumgumSizes=function(e){return this.getSupportedAdSizes(e,this.getGumgumEnabledAdSizes(),L)},e.prototype.getTripleliftSizes=function(e){return this.getSupportedAdSizes(e,this.getTripleliftEnabledAdSizes(),w)},e.prototype.getAdaptmxSizes=function(e){return this.getSupportedAdSizes(e,this.getAdaptmxEnabledAdSizes(),N)},e.prototype.getSmartAdServerSizes=function(e){return this.getSupportedAdSizes(e,this.getSmartAdServerEnabledAdSizes(),F)},e.prototype.getImproveDigitalSizes=function(e){return this.getSupportedAdSizes(e,this.getImproveDigitalEnabledAdSizes(),M)},e.prototype.getShareThroughSizes=function(e){return this.getSupportedAdSizes(e,this.getShareThroughEnabledAdSizes(),k)},e.prototype.getMediaNetSizes=function(e){return this.getSupportedAdSizes(e,this.getMediaNetEnabledAdSizes(),x)},e.prototype.getOutbrainSizes=function(e){return this.getSupportedAdSizes(e,this.getOutbrainEnabledAdSizes(),V)},e.prototype.getAutomatAdSizes=function(e){return this.getSupportedAdSizes(e,this.getAutomatAdEnabledAdSizes(),G)},e.prototype.getAdUnitType=function(e,t,i,r){var n="NORMAL";return(e||t&&i&&"t"==i)&&(n="HV"),"t"==r.thirdPartyCookie&&(n="HV"==n?"HV_Tpc":"Tpc"),r.isAdhesion&&(n="Tpc"==n||"HV_Tpc"==n?"Adhesion_Tpc":"Adhesion"),n},e.prototype.setPlacementConfig=function(e,t,i){return e&&null!=e?("HV"!=i&&"Adhesion"!=i&&"Adhesion_Tpc"!=i&&"HV_Tpc"!=i||!("HV_Id"in e)||(t=e.HV_Id),"Tpc"==i&&"Tpc_Id"in e&&(t=e.Tpc_Id),"HV_Tpc"==i&&"HV_Tpc_Id"in e&&(t=e.HV_Tpc_Id),"Adhesion"==i&&"Adhesion"in e&&(t=e.Adhesion),"Adhesion_Tpc"==i&&"Adhesion_Tpc_Id"in e&&(t=e.Adhesion_Tpc_Id),t&&null!=t||(t=e.Default),t):null},e.prototype.setStackPlacementConfig=function(e,t,i){return e&&null!=e?("Stack_HV"!=(i="Stack_"+i)&&"Stack_Adhesion"!=i&&"Stack_Adhesion_Tpc"!=i&&"Stack_HV_Tpc"!=i||!("Stack_HV_Id"in e)||(t=e.Stack_HV_Id),"Stack_Tpc"==i&&"Stack_Tpc_Id"in e&&(t=e.Stack_Tpc_Id),"Stack_HV_Tpc"==i&&"Stack_HV_Tpc_Id"in e&&(t=e.Stack_HV_Tpc_Id),"Stack_Adhesion"==i&&"Stack_Adhesion"in e&&(t=e.Stack_Adhesion),"Stack_Adhesion_Tpc"==i&&"Stack_Adhesion_Tpc_Id"in e&&(t=e.Stack_Adhesion_Tpc_Id),t&&null!=t||!("Stack_Id"in e)||(t=e.Stack_Id),t&&null!=t||(t=e.Default),t):null},e.prototype.getSSPPlacementId=function(e,t,i,r,n,s){var o;return void 0===r&&(r=1),void 0===n&&(n=!0),o=1==this.isDummyStackPlacement(s)?this.setStackPlacementConfig(e,o,t):this.setPlacementConfig(e,o,t),this.getPlacementIdForAdSize(o,i,r,n)},e.prototype.getPlacementIdForAdSize=function(e,t,i,r){var n;if(void 0===i&&(i=1),void 0===r&&(r=!0),!e||null==e)return null;t in e?n=e[t]:"Default"in e&&(n=e.Default);var s=null;return n&&null!=n&&n.length>0&&(n.length>=i?s=n[i-1]:r&&(s=n[(i-1)%n.length])),s},e.prototype.getRubiconZoneId=function(e){return"HV"==e&&this.mRubiconConfig.HVZoneId?this.mRubiconConfig.HVZoneId:this.mRubiconConfig.ZoneId},e.prototype.checkAndSetConfigForDummyPlacement=function(e){var t="";if("divId"in e){var i=e.divId;this.isDummyStackPlacement(i)&&(t="Stack_")}return t},e.prototype.getPubmaticSlotNamePrefix=function(e,t,i,r){var n="",s="",o=this.checkAndSetConfigForDummyPlacement(e);switch((e.isSspHVPlacement||t&&"t"==r)&&(n="HV_"),e.isAdhesion&&(n="Adhesion_"),"t"==e.thirdPartyCookie&&(n+="AC_"),this.mDeviceType){case"m":s="Mobile_";break;case"t":s="Tablet_";break;default:s="Desktop_"}return this.mPubmaticConfig.SlotNamePrefix+"_"+o+n+s+i+"_"+e.position},e.prototype.getAdUnitByDivId=function(e,t){for(var i=null,r=0;r<e.length;++r)if(e[r].code.indexOf(t)>=0){i=e[r];break}return i},e.prototype.getTagId=function(e,t,i,r,n,s){if(null==r||!("Config"in r))return null;if((e||n&&"t"==s)&&"HV"in r.Config&&t in r.Config.HV&&r.Config.HV[t].length>=i)return r.Config.HV[t][i-1];switch(this.mDeviceType){case"d":if("Desktop"in r.Config&&t in r.Config.Desktop&&r.Config.Desktop[t].length>=i)return r.Config.Desktop[t][i-1];break;case"m":if("Mobile"in r.Config&&t in r.Config.Mobile&&r.Config.Mobile[t].length>=i)return r.Config.Mobile[t][i-1];break;case"t":if("Tablet"in r.Config&&t in r.Config.Tablet&&r.Config.Tablet[t].length>=i)return r.Config.Tablet[t][i-1]}return null},e.prototype.getPlacementIdForPrimaryAdSize=function(e,t,i,r,n){if(!("Config"in i))return null;if((e||r&&"t"==n)&&"HV"in i.Config&&t in i.Config.HV)return i.Config.HV[t];switch(this.mDeviceType){case"d":if("Desktop"in i.Config&&t in i.Config.Desktop)return i.Config.Desktop[t];break;case"m":if("Mobile"in i.Config&&t in i.Config.Mobile)return i.Config.Mobile[t];break;case"t":if("Tablet"in i.Config&&t in i.Config.Tablet)return i.Config.Tablet[t]}return null},e.prototype.getSiteIdForDevice=function(e,t){var i;return"HV"==t&&"HV_Id"in e&&(i=e.HV_Id),"Tpc"==t&&"Tpc_Id"in e&&(i=e.Tpc_Id),"HV_Tpc"==t&&"HV_Tpc_Id"in e&&(i=e.HV_Tpc_Id),i&&null!=i||(i=e.Default),i&&"SiteId"in i?i.SiteId:null},e.prototype.getSlotName=function(e,t,i,r){var n="",s="",o=this.checkAndSetConfigForDummyPlacement(e);switch((e.isSspHVPlacement||t&&"t"==r)&&(n="HV_"),e.isAdhesion&&(n="Adhesion_"),"t"==e.thirdPartyCookie&&(n+="AC_"),this.mDeviceType){case"m":s+="Mobile_";break;case"t":s+="Tablet_";break;default:s+="Desktop_"}return this.mAdTagName+"_"+o+n+s+i+"_"+e.position},e.prototype.getOutbrainTagId=function(e,t,i,r){var n="",s="";switch((e.isSspHVPlacement||t&&"t"==r)&&(n="HV_"),e.isAdhesion&&(n="Adhesion_"),"t"==e.thirdPartyCookie&&(n+="AC_"),this.mDeviceType){case"m":s+="Mobile_";break;case"t":s+="Tablet_";break;default:s+="Desktop_"}return this.mAdTagName+"_"+n+s+i+"_"+e.position},e.prototype.getPriceBucketString=function(e,t,i){void 0===i&&(i=1);var r=parseFloat(e);return isNaN(r)&&(r=0),this.getCpmStringValue(r,t,i)},e.prototype.getCpmStringValue=function(e,t,i){var r="";if(!this.isValidPriceConfig(t))return r;var n=t.buckets.reduce((,{max:0}),s=0,o=t.buckets.find(();return o&&(r=this.getCpmTarget(e,o,i)),r},e.prototype.isValidPriceConfig=function(e){if(null==e||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((),t},e.prototype.getCpmTarget=e.prototype.isDummyStackPlacement=function(e){if(e){var t=e.split("_");if(t.length>=4){var i=t[3];if(T.indexOf(i)>-1)return!0}}return!1},e}(),f=function(){function e(e,t){this.mA9Script='!function(a9,a,p,s,t,A,g){if(a[a9])return;function q(c,r){a[a9]._Q.push([c,r])}a[a9]={init:function(){q("i",arguments)},fetchBids:function(){q("f",arguments)},setDisplayBids:function(){},_Q:[]};A=p.createElement(s);A.async=!0;A.src=t;g=p.getElementsByTagName(s)[0];g.parentNode.insertBefore(A,g)}("apstag",window,document,"script","//c.amazon-adsystem.com/aax2/apstag.js");',this.mStatus=d.INITIALIZED,this.mSspsLogsParams={},this.mSSPLogs=[],this.mDeals=!1,this.mDeviceType=e,this.mTimeout=t.timeout,this.mRefreshTimeout=t.refreshTimeout,this.mDeals=t.deals,"adSizes"in t&&(this.mA9EnabledAdSizes=t.adSizes);var i=document.createElement("script");i.id="IC_A9Script",i.text=this.mA9Script,document.head.appendChild(i)}return e.prototype.callSSP=function(e,t,i,n,l){var c=this;this.mSspsLogsParams=i;var u=this.mTimeout;l&&(u=this.mRefreshTimeout);var h=[];try{for(var g=0;g<e.length;++g){for(var f=e[g],S=this.getSlotName(f,l),b=f.adSize,T=[],v=0;v<b.length;++v)E.indexOf(b[v])<0||this.mA9EnabledAdSizes&&this.mA9EnabledAdSizes.indexOf(b[v])<0||T.push(b[v].split("x"));if(!(T.length<=0)){var P="",A="1",C=!1;try{if(void 0!==a.getInstance().getPrebid()){var D=a.getInstance().getPrebid(),_=p.CLIENT;C=s.Template.isFloorPriceApplicable();var U=D.fetchFloorValueByBidder(f.divId,C,"a9",_,T[0][0]+"x"+T[0][1],l);P=D.getFloorPrice(U),A=D.getFloorType(U)}}catch(e){}I&&y.getInstance().debugConsoleMessage("Floor Applicable for A9 :: "+C+" :: for AdUnit:: "+f.divId);var R={slotID:f.divId,slotName:S,sizes:T};P&&""!=P&&(R=r(r({},R),{floor:{value:+(100*+P).toFixed(),currency:"USD"}})),h.push(R);var O=["mediatype:banner;bidder:a9;source:"+p.CLIENT+";floorprice:"+P+";floortype:"+A+";"];this.mSSPLogs[f.divId]=o.Utility.createSSPReqObject(O,T,i,f.divId,n)}}try{I&&y.getInstance().debugConsoleMessage("Called A9 SSP for adslots ",[h])}catch(e){}if(h.length<=0)return;var L={pubID:"3310",adServer:"googletag"};"config"in s.Template.schainConfig&&(L=r(r({},L),{schain:s.Template.schainConfig.config})),this.mDeals&&(L=r(r({},L),{deals:!0})),apstag.init(L),this.mStatus=d.INPROGRESS;var w=(new Date).getTime();apstag.fetchBids({slots:h,timeout:u},(function(i,n){c.mStatus=d.RECEIVED;var s=(new Date).getTime();try{I&&y.getInstance().debugConsoleMessage("Received bids from A9 ",[i])}catch(e){}for(var a=[],l=0;l<i.length;++l){var u=JSON.parse(JSON.stringify(i[l])),p={},h="",g="",f="",S="",b="";c.mDeals&&"targeting"in u?("amzndeal_sp"in u.targeting?(h=u.targeting.amzniid_sp,g=u.targeting.amznbid_sp,f=u.targeting.amzndeal_sp,b=u.targeting.amznsz_sp,S=u.targeting.amznp_sp):(h=u.targeting.amzniid,g=u.targeting.amznbid,b=u.targeting.amznsz,"amznp"in u.targeting&&(S=u.targeting.amznp)),u.amzniid=h,u.amznsz=b):(h=u.amzniid,g=u.amznbid,b=u.size,"amznp"in u&&(S=u.amznp)),p={bid_value:g,bid_id:h,size:b},""!=f&&(p=r(r({},p),{deal_id:f})),""!=S&&(p=r(r({},p),{partner_id:S})),"function"==typeof t&&(a.push(u.slotID),t(u.slotID,p));var T=u.slotID,v=[],P=[],E="0";try{if(""!=h){var A=m;void 0!==A[g]&&(E=A[g])}}catch(e){}u.auctionId="",u.auctionStart=w,u.requestTimestamp=w,u.responseTimestamp=s,u.timeToRespond=s-w,u.ttl="",u.adId="",u.currency="",u.creativeId="",u.netRevenue="",u.dealId=f,u.cpm=E,""!=h?((v=u).statusMessage="Bid available",u.netRevenue=!0,u.currency="USD"):""==h&&((P=u).statusMessage="No Bid"),o.Utility.getInstance().createA9SSPResponseObject(T,c.mSSPLogs,v,P,n.fromTimeout)}if("function"==typeof t)for(l=0;l<e.length;++l)a.indexOf(e[l].divId)<0&&t(e[l].divId,null)}))}catch(e){var N=new CustomEvent("IC_JSErrorEvent",{detail:"A9 SSP: Error in callSSP. "+e});document.dispatchEvent(N)}},e.prototype.getStatus=function(){return this.mStatus},e.prototype.getA9EnabledAdSizes=e.prototype.getSlotName=function(e,t){var i="",r=a.getInstance().getPrebid().checkAndSetConfigForDummyPlacement(e);switch((e.isSspHVPlacement||t&&"t"==t)&&(i="HighView_"),e.isAdhesion&&(i="Adhesion_"),"t"==e.thirdPartyCookie&&(i+="ActiveCookie_"),this.mDeviceType){case"d":default:i+="Desktop";break;case"m":i+="Mobile";break;case"t":i+="Tablet"}return r+i},e}(),S=function(){function e(){this.mIC_Window=s.Template.getDropScriptWindow(),this.mMarkitLibrary=("https:"==document.location.protocol?"https://":"http://")+"ad.wsod.com/pub/37693cfc748049e45d87b8c7d8b9aacd/0.0.async/"}return e.prototype.callMarkit=function(e,t){var i=this;if(!this.mIC_Window.document.getElementById("IC_MarkitScript")){self!=this.mIC_Window&&window.location.hostname==this.mIC_Window.location.hostname?this.mIC_Window.document.getElementsByTagName("iframe")[0]:this.mIC_Window.document.getElementsByTagName("script")[0];var r="IC_MarkitScript";o.Utility.getInstance().isJsFileExistsInDom(e,r,I)||o.Utility.getInstance().dropScripts(e,this.mMarkitLibrary,"MarkitScript",I,r,!0,!1),this.mIC_Window.ICMarkitCallback=function(){try{I&&y.getInstance().debugConsoleMessage("Received values from Markit ",[i.mIC_Window.mdjs.targeting.getCustom()])}catch(e){}t&&"function"==typeof t&&t(i.mIC_Window.mdjs.targeting.getCustom())}}},e}(),y=function(){function e(){}return e.getInstance=e.prototype.debugConsoleMessage=function(e,t){try{var i=[];if(i.push("%c IC UAT ","border-radius:4px;background:#8bc43f;color:#fff;font-weight: bold;"),i.push(e),t)for(var r=0;r<t.length;r++)i.push(t[r]);console.log.apply(console,i)}catch(e){}},e.prototype.dropAsyncScript=function(e,t,i,r){var n=document.createElement("script");n.id=i,n.src=e,n.type="text/javascript",n.async=!0,t&&(t.parentNode.insertBefore(n,t),r&&o.Utility.getInstance().debugConsoleMessage("Dropped script: Markit"))},e.prototype.removeDuplicateFromArray=function(e){for(var t=[],i=[],r=0;r<e.length;++r){var n=e[r].toString();i.indexOf(n)>=0||(i.push(n),t.push(e[r]))}return t},e.mCommon=null,e}();!l||(l={})),function(e){e.INITIALIZED="INITIALIZED",e.INPROGRESS="INPROGRESS",e.RECEIVED="RECEIVED",e.USED="USED",e.FAILED="FAILED",e.NOT_APPLICABLE="NOT_APPLICABLE"}(d||(d={})),function(e){e.erg1s="0.00",e.zxbh1c="0.01",e.i61gjk="0.02",e["1holhj4"]="0.03",e["9aegao"]="0.04",e["18syha8"]="0.05",e.r1ogsg="0.06",e["1qk8hs0"]="0.07",e["4uky68"]="0.08",e["14d4z5s"]="0.09",e.mluyo0="0.10",e["1m4eznk"]="0.11",e.dq7yf4="0.12",e["1d8rzeo"]="0.13",e.vhhyww="0.14",e["1v01zwg"]="0.15",e["2mo740"]="0.16",e["125883k"]="0.17",e.kdy7ls="0.18",e["1jwi8lc"]="0.19",e.bib7cw="0.20",e["1b0v8cg"]="0.21",e.t9l7uo="0.22",e["1ss58u8"]="0.23",e["72hp8g"]="0.24",e["16l1q80"]="0.25",e.otrpq8="0.26",e["1ocbqps"]="0.27",e.fy4phc="0.28",e["1fgoqgw"]="0.29",e.xpepz4="0.30",e["1x7yqyo"]="0.31",e["1iptkw"]="0.32",e["1119ukg"]="0.33",e.j9zu2o="0.34",e["1isjv28"]="0.35",e.aectts="0.36",e["19wwutc"]="0.37",e.s5mubk="0.38",e["1ro6vb4"]="0.39",e["5yjbpc"]="0.40",e["15h3cow"]="0.41",e.nptc74="0.42",e["1n8dd6o"]="0.43",e.eu6by8="0.44",e["1ecqcxs"]="0.45",e.wlgcg0="0.46",e["1w40dfk"]="0.47",e["3qmkn4"]="0.48",e["1396lmo"]="0.49",e.lhwl4w="0.50",e["1l0gm4g"]="0.51",e.cm9kw0="0.52",e["1c4tlvk"]="0.53",e.udjlds="0.54",e["1tw3mdc"]="0.55",e["86g2rk"]="0.56",e["17p03r4"]="0.57",e.pxq39c="0.58",e["1pga48w"]="0.59",e.h2330g="0.60",e["1gkn400"]="0.61",e.ytd3i8="0.62",e["1ybx4hs"]="0.63",e.yqmtc="0.64",e["10hansw"]="0.65",e.iq0nb4="0.66",e["1i8koao"]="0.67",e["9udn28"]="0.68",e["19cxo1s"]="0.69",e.rlnnk0="0.70",e["1r47ojk"]="0.71",e["5ek4xs"]="0.72",e["14x45xc"]="0.73",e.n5u5fk="0.74",e["1moe6f4"]="0.75",e.ea756o="0.76",e["1dsr668"]="0.77",e.w1h5og="0.78",e["1vk16o0"]="0.79",e["36ndvk"]="0.80",e["12p7ev4"]="0.81",e.kxxedc="0.82",e["1kghfcw"]="0.83",e.c2ae4g="0.84",e["1bkuf40"]="0.85",e.ttkem8="0.86",e["1tc4fls"]="0.87",e["7mgw00"]="0.88",e["1750wzk"]="0.89",e.pdqwhs="0.90",e["1owaxhc"]="0.91",e.gi3w8w="0.92",e["1g0nx8g"]="0.93",e.y9dwqo="0.94",e["1xrxxq8"]="0.95",e["22p0cg"]="0.96",e["11l91c0"]="0.97",e.jtz0u8="0.98",e["1jcj1ts"]="0.99",e.ayc0lc="1.00",e["1agw1kw"]="1.01",e.spm134="1.02",e["1s8622o"]="1.03",e["6iiigw"]="1.04",e["1612jgg"]="1.05",e.o9siyo="1.06",e["1nscjy8"]="1.07",e.fe5ips="1.08",e["1ewpjpc"]="1.09",e.x5fj7k="1.10",e["1wnzk74"]="1.11",e["4alreo"]="1.12",e["13t5se8"]="1.13",e.m1vrwg="1.14",e["1lkfsw0"]="1.15",e.d68rnk="1.16",e["1cossn4"]="1.17",e.uxis5c="1.18",e["1ug2t4w"]="1.19",e["8qf9j4"]="1.20",e["188zaio"]="1.21",e.qhpa0w="1.22",e["1q09b0g"]="1.23",e.hm29s0="1.24",e["1h4mark"]="1.25",e.zdca9s="1.26",e["1yvwb9c"]="1.27",e["4ruo0"]="1.28",e.znbvnk="1.29",e.hw1v5s="1.30",e["1helw5c"]="1.31",e["90euww"]="1.32",e["18iyvwg"]="1.33",e.qroveo="1.34",e["1qa8we8"]="1.35",e["4klcsg"]="1.36",e["1435ds0"]="1.37",e.mbvda8="1.38",e["1lufe9s"]="1.39",e.dg8d1c="1.40",e["1cyse0w"]="1.41",e.v7idj4="1.42",e["1uq2eio"]="1.43",e["2colq8"]="1.44",e["11v8mps"]="1.45",e.k3ym80="1.46",e["1jmin7k"]="1.47",e.b8blz4="1.48",e["1aqvmyo"]="1.49",e.szlmgw="1.50",e["1si5ngg"]="1.51",e["6si3uo"]="1.52",e["16b24u8"]="1.53",e.ojs4cg="1.54",e["1o2c5c0"]="1.55",e.fo543k="1.56",e["1f6p534"]="1.57",e.xff4lc="1.58",e["1wxz5kw"]="1.59",e["18q874"]="1.60",e["10ra96o"]="1.61",e.j008ow="1.62",e["1iik9og"]="1.63",e.a4d8g0="1.64",e["19mx9fk"]="1.65",e.rvn8xs="1.66",e["1re79xc"]="1.67",e["5ojqbk"]="1.68",e["1573rb4"]="1.69",e.nftqtc="1.70",e["1mydrsw"]="1.71",e.ek6qkg="1.72",e["1e2qrk0"]="1.73",e.wbgr28="1.74",e["1vu0s1s"]="1.75",e["3gmz9c"]="1.76",e["12z708w"]="1.77",e.l7wzr4="1.78",e["1kqh0qo"]="1.79",e.cc9zi8="1.80",e["1buu0hs"]="1.81",e.u3k000="1.82",e["1tm40zk"]="1.83",e["7wghds"]="1.84",e["17f0idc"]="1.85",e.pnqhvk="1.86",e["1p6aiv4"]="1.87",e.gs3hmo="1.88",e["1ganim8"]="1.89",e.yjdi4g="1.90",e["1y1xj40"]="1.91",e.or1fk="1.92",e["107b2f4"]="1.93",e.ig11xc="1.94",e["1hyl2ww"]="1.95",e["9ke1og"]="1.96",e["192y2o0"]="1.97",e.rbo268="1.98",e["1qu835s"]="1.99",e["54kjk0"]="2.00",e["14n4kjk"]="2.01",e.mvuk1s="2.02",e["1meel1c"]="2.03",e.e07jsw="2.04",e["1dirksg"]="2.05",e.vrhkao="2.06",e["1va1la8"]="2.07",e["2wnshs"]="2.08",e["12f7thc"]="2.09",e.knxszk="2.10",e["1k6htz4"]="2.11",e.bsasqo="2.12",e["1bautq8"]="2.13",e.tjkt8g="2.14",e["1t24u80"]="2.15",e["7cham8"]="2.16",e["16v1bls"]="2.17",e.p3rb40="2.18",e["1ombc3k"]="2.19",e.g84av4="2.20",e["1fqobuo"]="2.21",e.xzebcw="2.22",e["1xhyccg"]="2.23",e["1speyo"]="2.24",e["11b9fy8"]="2.25",e.jjzfgg="2.26",e["1j2jgg0"]="2.27",e.aocf7k="2.28",e["1a6wg74"]="2.29",e.sfmfpc="2.30",e["1ry6gow"]="2.31",e["68ix34"]="2.32",e["15r2y2o"]="2.33",e.nzsxkw="2.34",e["1nicykg"]="2.35",e.f45xc0="2.36",e["1empybk"]="2.37",e.wvfxts="2.38",e["1wdzytc"]="2.39",e["40m60w"]="2.40",e["13j670g"]="2.41",e.lrw6io="2.42",e["1lag7i8"]="2.43",e.cw969s="2.44",e["1cet79c"]="2.45",e.unj6rk="2.46",e["1u637r4"]="2.47",e["8gfo5c"]="2.48",e["17yzp4w"]="2.49",e.q7pon4="2.50",e["1pq9pmo"]="2.51",e.hc2oe8="2.52",e["1gumpds"]="2.53",e.z3cow0="2.54",e["1ylwpvk"]="2.55",e.jr8qo="2.56",e["102b9q8"]="2.57",e.ib198g="2.58",e["1htla80"]="2.59",e["9fe8zk"]="2.60",e["18xy9z4"]="2.61",e.r6o9hc="2.62",e["1qp8agw"]="2.63",e["4zkqv4"]="2.64",e["14i4ruo"]="2.65",e.mqurcw="2.66",e["1m9escg"]="2.67",e.dv7r40="2.68",e["1ddrs3k"]="2.69",e.vmhrls="2.70",e["1v51slc"]="2.71",e["2rnzsw"]="2.72",e["12a80sg"]="2.73",e.kiy0ao="2.74",e["1k1i1a8"]="2.75",e.bnb01s="2.76",e["1b5v11c"]="2.77",e.tel0jk="2.78",e["1sx51j4"]="2.79",e["77hhxc"]="2.80",e["16q1iww"]="2.81",e.oyrif4="2.82",e["1ohbjeo"]="2.83",e.g34i68="2.84",e["1floj5s"]="2.85",e.xueio0="2.86",e["1xcyjnk"]="2.87",e["1npm9s"]="2.88",e["1169n9c"]="2.89",e.jezmrk="2.90",e["1ixjnr4"]="2.91",e.ajcmio="2.92",e["1a1wni8"]="2.93",e.samn0g="2.94",e["1rt6o00"]="2.95",e["63j4e8"]="2.96",e["15m35ds"]="2.97",e.nut4w0="2.98",e["1ndd5vk"]="2.99",e.ez64n4="3.00",e.uije2o="3.10",e["13qfi8"]="3.20",e.naty4g="3.30",e.c7a6tc="3.40",e.yedpfk="3.50",e["6nib5s"]="3.60",e.m6vklc="3.70",e.hr22gw="3.80",e.qwoo3k="3.90",e["2hoef4"]="4.00",e.oorx1c="4.10",e.a9d14w="4.20",e.wggjr4="4.30",e["81ga2o"]="4.40",e.il0um8="4.50",e.e57chs="4.60",e.toklxc="4.70",e["1xp7nk"]="4.80",e.o4sq9s="4.90",e.d18yyo="5.00",e.z8chkw="5.10",e["4s31ts"]="5.20",e.kbgb9c="5.30",e.fvmt4w="5.40",e.s34xz4="5.50",e["3o4oao"]="5.60",e.pv86ww="5.70",e["9rvqps"]="5.80",e.vyz9c0="5.90",e["7jyznk"]="6.00",e.jrh4hs="6.10",e.fbnmdc="6.20",e.uv0vsw="6.30",e["29ybk"]="6.40",e.m9dgxs="6.50",e.b5tpmo="6.60",e.xcx88w="6.70",e["5m1tz4"]="6.80",e.l5f3eo="6.90",e.gplla8="7.00",e.r965ts="7.10",e["2u5w5c"]="7.20",e.p19erk="7.30",e.aluiv4="7.40",e.wsy1hc="7.50",e["8dxrsw"]="7.60",e.i8jcw0="7.70",e.dspurk="7.80",e.tc3474="7.90",e["1l7pxc"]="8.00",e.nsb8jk="8.10",e.corh8g="8.20",e.yvuzuo="8.30",e["5h21a8"]="8.40",e.l0faps="8.50",e.gklslc="8.60",e.ss3xfk="8.70",e["4d3nr4"]="8.80",e.qk76dc="8.90",e["92wr9c"]="9.00",e["6v0074"]="9.20",e.emomww="9.40",e.r8xs0="9.60",e.busp34="9.80",e["6b0tfk"]="10.00",e.hekkqo="10.20",e["2lf8xs"]="10.40",e.ad3vnk="10.60",e["8574lc"]="10.80",e.e8y70g="11.00",e["21g268"]="11.20",e.d4zthc="11.40",e["4jcem8"]="11.60",e.fmw5xc="11.80",e["3fe134"]="12.00",e["9j53i8"]="12.20",e["7b8cg0"]="12.40",e.f2wz5s="12.60",e.iiakg="12.80",e.bm21vk="13.00",e["62a680"]="13.20",e.h5txj4="13.40",e["3ae8e8"]="13.60",e.b22v40="13.80",e["8u641s"]="14.00",e.djz7k0="14.20",e["1ch2ps"]="14.40",e.cg0u0w="14.60",e["58be2o"]="14.80",e.gbv5ds="15.00",e.vdr4e8="15.50",e.uzsao="16.00",e.ly4xds="16.50",e.a0mdxc="17.00",e.tftyps="17.50",e["4vtwcg"]="18.00",e.pyz1fk="18.50",e.ffegw0="19.00",e.xgo2rk="19.50",e["2xwqo0"]="20.00",e.cln3sw="21.00",e["6rvmrk"]="22.00",e.hbg7b4="23.00",e["272by8"]="24.00",e["9orda8"]="25.00",e["5vey9s"]="26.00",e.dd3zls="27.00",e["3xhslc"]="28.00",e.c45tds="29.00",e["7ybwn4"]="30.00",e.fw9a80="31.00",e["2wfeo"]="32.00",e.amgzy8="33.00",e["5hoidc"]="34.00",e.enb400="35.00"}(m||(m={})),c||(c={})),u||(u={})),p||(p={})),function(e){e["33acrossId"]="across33id",e.criteoId="criteo",e.id5id="id5",e.idl_env="liveramp",e.lotamePanoramaId="lotame",e.parrableId="parrable",e.pubcid="sharedid",e.tdid="unified",e.connectId="connectid"}(h||(h={}));var b=["rb","nx","dgt","mn","ox","pm","sa","sv","tpl","ym","a9"],T=["stack32"],I=!1,v=[],P=[],E=[],A=[],C=[],D=[],_=[],U=[],R=[],O=[],L=[],w=[],N=[],F=[],M=[],k=[],x=[],V=[],G=[],z=[]},620:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GdprCmp=t.DATManager=t.DMP=t.SSP=t.DAT=void 0;var r=i(575);t.DAT=r.default;var n=i(231);t.SSP=n.default;var s=i(427);t.DMP=s.default;var o=i(101);t.DATManager=o.default;var a=i(249);t.GdprCmp=a.default}},__webpack_module_cache__={};_webpack_require__.g=);var __webpack_exports__=__webpack_require__(979);InternalInvestingChannel=__webpack_exports__})();