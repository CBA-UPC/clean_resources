/*! For license information please see 4.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1:function(t,e,o){"use strict";.r(e),o.d(e,"default",(function(){return n}))},143:function(t,e,o){(function(o){var n,i=function(){this._tweens={},this._tweensAddedDuringUpdate={}};i.prototype={getAll:removeAll:add:remove:update:;var r,s=new i;s.Group=i,s._nextId=0,s.nextId="undefined"==typeof self&&void 0!==o&&o.hrtime?s.now="undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?s.now=self.performance.now.bind(self.performance):void 0!==Date.now?s.now=Date.now:s.now=s.Tween=s.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:duration:function(t){return this._duration=t,this},start:stop:end:stopChainedTweens:group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onRepeat:function(t){return this._onRepeatCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:update:,s.Easing={Linear:{None:,Quadratic:{In:Out:function(t){return t*(2-t)},InOut:,Cubic:{In:Out:InOut:,Quartic:{In:Out:function(t){return 1- --t*t*t*t},InOut:,Quintic:{In:Out:InOut:,Sinusoidal:{In:Out:InOut:,Exponential:{In:Out:InOut:,Circular:{In:Out:InOut:,Elastic:{In:Out:InOut:,Back:{In:Out:InOut:,Bounce:{In:Out:InOut:},s.Interpolation={Linear:Bezier:CatmullRom:Utils:{Linear:Bernstein:Factorial:(r=[1],,CatmullRom:},void 0===(n=(function(){return s}).apply(e,[]))||(t.exports=n)}).call(this,o(32))},39:function(t,e,o){(function(){var t="‎",o="‏",n="ltr",i="rtl",r="bidi",s="",a={Hebrew:["0590","05FF"],Arabic:["0600","06FF"],NKo:["07C0","07FF"],Syriac:["0700","074F"],Thaana:["0780","07BF"],Tifinagh:["2D30","2D7F"]};function l(e){if(void 0===e)throw new Error("TypeError missing argument");if("string"!=typeof e)throw new Error("TypeError getDirection expects strings");if(""===e)return s;if(e.indexOf(t)>-1&&e.indexOf(o)>-1)return r;if(e.indexOf(t)>-1)return n;if(e.indexOf(o)>-1)return i;var a=h(e,i),l=h(e,n);return a&&l?r:l?n:a?i:s}function h(t,e){var o,r,s,l,h=!1,u=!1,p=!1;for(p=t.search(/[0-9]/)>-1,t=t.replace(/[\s\n\0\f\t\v\'\"\-0-9\+\?\!]+/gm,""),o=0;o<t.length;o++){for(s in r=t.charAt(o),l=!1,a)a.hasOwnProperty(s)&&c(r,a[s][0],a[s][1])&&(h=!0,l=!0);!1===l&&(u=!0)}return e===i?h:e===n?u||!h&&p:void 0}function c(t,e,o){var n=t.charCodeAt(0),i=parseInt(e,16),r=parseInt(o,16);return n>i&&n<r}function u(){String.prototype.getDirect))}}e.getDirection=l,e.patch=u}).call(this)},41:function(t,e,o){"use strict";o.r(e),o.d(e,"Behavior",(function(){return It})),o.d(e,"CustomOptions",(function(){return dt})),o.d(e,"Indicators",(function(){return Je})),o.d(e,"InfinityScroll",(function(){return Re})),o.d(e,"MouseWheel",(function(){return Rt})),o.d(e,"Movable",(function(){return We})),o.d(e,"NestedScroll",(function(){return Oe})),o.d(e,"ObserveDom",(function(){return jt})),o.d(e,"ObserveImage",(function(){return Ge})),o.d(e,"PullDownRefresh",(function(){return Kt})),o.d(e,"PullUpLoad",(function(){return te})),o.d(e,"ScrollBar",(function(){return ne})),o.d(e,"Slide",(function(){return ce})),o.d(e,"Wheel",(function(){return ge})),o.d(e,"Zoom",(function(){return be})),o.d(e,"createBScroll",(function(){return Qt})),o.d(e,"default",(function(){return Nt}));vao)}va}var h=[{sourceKey:"scroller.scrollBehaviorX.currentPos",key:"x"},{sourceKey:"scroller.scrollBehaviorY.currentPos",key:"y"},{sourceKey:"scroller.scrollBehaviorX.hasScroll",key:"hasHorizontalScroll"},{sourceKey:"scroller.scrollBehaviorY.hasScroll",key:"hasVerticalScroll"},{sourceKey:"scroller.scrollBehaviorX.contentSize",key:"scrollerWidth"},{sourceKey:"scroller.scrollBehaviorY.contentSize",key:"scrollerHeight"},{sourceKey:"scroller.scrollBehaviorX.maxScrollPos",key:"maxScrollX"},{sourceKey:"scroller.scrollBehaviorY.maxScrollPos",key:"maxScrollY"},{sourceKey:"scroller.scrollBehaviorX.minScrollPos",key:"minScrollX"},{sourceKey:"scroller.scrollBehaviorY.minScrollPos",key:"minScrollY"},{sourceKey:"scroller.scrollBehaviorX.movingDirection",key:"movingDirectionX"},{sourceKey:"scroller.scrollBehaviorY.movingDirection",key:"movingDirectionY"},{sourceKey:"scroller.scrollBehaviorX.direction",key:"directionX"},{sourceKey:"scroller.scrollBehaviorY.direction",key:"directionY"},{sourceKey:"scroller.actions.enabled",key:"enabled"},{sourceKey:"scroller.animater.pending",key:"pending"},{sourceKey:"scroller.animater.stop",key:"stop"},{sourceKey:"scroller.scrollTo",key:"scrollTo"},{sourceKey:"scroller.scrollBy",key:"scrollBy"},{sourceKey:"scroller.scrollToElement",key:"scrollToElement"},{sourceKey:"scroller.resetPosition",key:"resetPosition)}var p="undefined"!=typeof window,f=p&&navigator.userAgent.toLowerCase(),d=!(!f||!/wechatdevtools/.test(f)),g=f&&f.indexOf("android")>!1}(),v=!1;if(p){var m="test-passive";try{var w={};Object.defineProperty(w,"passive",{!0}}),window.addEventListener(m,(function(){}),w)}catch($ete}va}function E(t,e){if(t.findIndex)return t.findIndex(e);var o=-1;return t.some((function(t,n,i){var r=e(t,n,i);if(r)return o=n,r})),o}var P=p&&document.createElement("div").styl!1 Y=x&&"standard"!==x?"-"+x.toLowerCase()+"-":"",H=I("transform"),X=I("transition"),F=p&&I("perspective")in P,L=p&&("ontouchstart"in window||d),z=p&&X in P,Q={transform:H,transition:X,transitionTimingFunction:I("transitionTimingFunction"),transitionDuration:I("transitionDuration"),transitionDelay:I("transitionDelay"),transformOrigin:I("transformOrigin"),transitionEnd:I("transitionEnd"),transitionProperty:I("transitionProperty")},N={touchstart:1,touchmove:1,touchend:1,touchcancel:1,mousedown:2,mousemove:2,mouseup1}var U=j;function W(t,e){var o=document.createEvent("Event");o.initEvent(e,!0,!0),o.pageX=t.pageX,o.pageY=t.pageY,t.target.dispatchEvent)}function V(t,e){var o=e.firstChild;o?K(t,o):e.appendChildar et={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)"*t}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"t)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)"*t}}},ot=1e3/60,nt=p&&window;function it(){}var rt=p?nt.requestAnimationFrame||nt.webkitRequestAnimationFrame||nt.mozRequestAnimationFrame||nt.oRequestAnimationFrat)}:it,st=p?nt.cancelAnimationFrame||nt.webkitCancelAnimationFrame||nt.mozCancelAnimationFrame||nt.oCancelAnimationFrame||function(t){window.clearTimeout(t)}:it,at=function(t){},lt={enumerable:!0,configurable:!0,get:at,set:at}i]}=o};function ut(t,e,o){lt.e)},lt.t)},Object.defineProperty(t,o,lt)}var,t}(),t}() t}(),gt=function,e}return i(e,t),e.prototype.meis},e.prototype.procis},e.prototype.resolveBounce=function(t){var e={top:!0,right:!0,bottom:!0,left:!0},o={top:!1,right:!1,bottom:!1,left:!1};return"object"==typeof t?k(e,t):t?e:o},e}(dt),t}(),vt={x:["translateX","px"],y:["translateY","px"]},t}(),t}()=0},kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.startProbe=function(t,e){var o=this,n=t,i=function(){var r=o.translater.getComputedPosition();bt(t,e,r,n)&&o.hooks.trigger(o.hooks.eventTypes.move,r),o.pending||(o.callStopWhenPending?o.callStopWhenPending=!1:o.hooks.trigger(o.hooks.eventTypes.end,r)),n=r,o.pending&&(o.timer=rt(i))};this.callStopWhenPending&&this.setCallStop(!1),st(this.timer),i()},e.prototype.transitionTt)},e.prototype.transitionTimingFunctt)},e.prototype.transitionProperm},e.prototype.m))},e.prototype.doS t},e.prototype.stop=function(){this.doStop()&&this.hooks.trigger(this.hooks.eventTypes.callStop)},e}(wt),e}(wt);function Tt(t,e,o){var n=o.useTransition,i={};return Object.defineProperty(i,"probeType",{enumerable:!0,configurable:!1,get:function(){return o.probeType}}),n?new kt(t,e,i):new At(t,e,i)}var St,Et,Pt,xt,t}(),Bt=((St={}).!0},St!1},St),Ct=((Et={}).horizontal=((Pt={}).yes="horizontal",Pt.no="vertical",Pt),Et.vertical=((xt={}).yes="vertical",xt.no="horizontal",xt),Et),t}()e]},Ot=functio()}return t.prototype.bindActionsHandler=function(){var t=this;this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.start,(function(e){return!t.enabled||t.handleStart(e)})),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.move,(function(e){var o=e.deltaX,n=e.deltaY,i=e.e;if(!t.enabled)return!0;var r=Mt(o,n,t.options.quadrant),s={deltaX:r[0],deltaY:r[1]};return t.hooks.trigger(t.hooks.eventTypes.coordinateTransformation,s),t.handleMove(s.deltaX,s.deltaY,i)})),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.ee)})),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.clie)}))},t.prototype.handleStt)},t.prototype.handleM}}},t.prototype.dispatchScr))},t.prototype.checkMomence},t.prototype.handle)}},t.prototype.ensureInteger)}},t.prototype.handleClick=function(t){j(t.target,this.options.preventDefaultException)||(M(t),t.stopPropagation())},t.prototype.getCurrent)}},t.prototype.refr=0},t.prototype.dest()},t}();function Dt(t){return["click","bindToWrapper","disableMouse","disableTouch","preventDefault","stopPropagation","tagException","preventDefaultException","autoEndDistance"].reduce((function(e,o){return e[o]=t[o],e}),)}function Xt(t,e){for(var o=0,n=Object.keys(t);o<n.length;o++){var i=n[o];if(t[i]!==e[i])return!1}return!0}var Ft=1,Lt=function(){function t(t,e,o){this.wrapper=t,this.content=e,this.resizeTimeout=0,this.hooks=new pt(["beforeStart","beforeMove","beforeScrollStart","scrollStart","scroll","beforeEnd","scrollEnd","resize","touchEnd","end","flick","scrollCancel","momentum","scrollTo","minDistanceScroll","scrollToElement","beforeRefresh"]),this.options=o;var n=this.options.bounce,i=n.left,r=n.right,s=n.top,a=n.bottom;this.scrollBehaviorX=new It(t,e,Yt(o,"scrollX",[i,r],{size:"width",position:"left"})),this.scrollBehaviorY=new It(t,e,Yt(o,"scrollY",[s,a],{size:"height",position:"top"})),this.translater=new mt(this.content),this.animater=Tt(this.content,this.translater,this.options),this.actionsHandler=new yt(this.options.bindToTarget?this.content:t,Dt(this.options)),this.actions=new Ot(this.scrollBehaviorX,this.scrollBehaviorY,this.actionsHandler,this.animater,this.options);var l=this.resize.bind(this);this.resizeRegister=new ft(window,[{name:"orientationchange",handler:l},{name:"resize",handler:l}]),this.registerTransitionEnd(),this.init()}return t.prototype.i))},t.prototype.registerTransition])},t.prototype.bindTransla))},t.prototype.bindAnima])},t.prototype.bindActi))},t.prototype.checkFlick=function(t,e,o){var n=1;if(this.hooks.events.flick.length>1&&t<this.options.flickLimitTime&&e<this.options.flickLimitDistance&&o<this.options.flickLimitDistance&&(o>n||e>n))return!0},t.prototype.momen!0},t.prototype.checkClick=function(t){var e={preventClick:this.animater.forceStopped};if(this.hooks.trigger(this.hooks.eventTypes.checkClick))return this.animater.setForceStopped(!1),!0;if(!e.preventClick){var o=this.options.dblclick,n=!1;if(o&&this.lastClickTime){var i=o.delay,r=void 0===i?300:i;b()-this.lastClickTime<r&&(n=!0,G(t))}return this.options.tap&&W(t,this.options.tap),this.options.click&&!j(t.target,this.options.preventDefaultException)&&q(t),this.lastClickTime=n?null:b(),!0}return!1},t.prototype.res))},t.prototype.transition))},t.prototype.togglePointerEve)}},t.prototype.refrr)},t.prototype.setCont,e},t.prototype.scroln)},t.prototype.scrollTo=function(t,e,o,n,i){void 0===o&&(o=0),void 0===n&&(n=et.bounce),void 0===i&&(i={start:{},end:{}});var s=this.options.useTransition?n.style:n.fn,a=this.getCurrentPos(),l=r({x:a.x,y:a.y},i.start),h=r({x:t,y:e},i.end);if(this.hooks.trigger(this.hooks.eventTypes.scrollTo,h),!Xt(l,h)){var c=Math.abs(h.x-l.x),u=Math.abs(h.y-l.y);c<Ft&&u<Ft&&(o=0,this.hooks.trigger(this.hooks.eventTypes.minDistanceScroll)),this.animater.move(l,h,o,s)}},t.prototype.scrollToElemi)},t.prototype.resetPosit0)},t.prototype.refht},t.prototype.updatePositiy)},t.prototype.getCurrent()},t.prototype.ena!0},t.prototype.disa!1},t.prototype.dest))},t}(),zt=functionn)}return i(e,t),e.e)},e.prototype.setConte}},e.prototype.iy)},e.prototype.applyPlug))},e.prototype.handleAutoB))},e.prototype.eventBubbl])},e.prototype.refreshWithoutRet)},e.prototype.proxy=function(t){var e=this;t.forEao)}))},e.prototype.refr)}},e.prototype.enable=function(){this.scroller.enable(),this.hooks.trigger(this.hooks.eventTypes.enable),this.trigger(this.eventTypes.enable)},e.prototype.disae)},e.prototype.dest()},e.prototype.eventRegist)},e.plugins=[],e.pluginsMap={},e}(e)}Qt.use=zt.use,Qt.plugins=zt.plugins,Qt.pluginsMap=zt.pluginsMap;var Nt=Qt,Rt=functio()}return t.prototype.i()},t.prototype.handleBScr])},t.prototype.handleOptions=function(){var t=!0===this.scroll.options.mouseWheel?{}:this.scroll.options.mouseWheel,e={speed:20,invert:!1,easeTime:300,discreteTime:400,throttleTime:0,dampingFactor:.1};this.mouseWheelOpt=k(e,t)},t.prototype.handleHoy)},t.prototype.registerEv])},t.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},t.prototype.wheelHand)}},t.prototype.wheelStartHandt)},t.prototype.cleanCa[]},t.prototype.wheelMoveHand)}},t.prototype.wheelEndDetece)},t.prototype.getWheelDelta=function(t){var e=this.mouseWheelOpt,o=e.speed,n=0,i=0,r=e.invert?-1:1;switch(!0){case"deltaX"in t:1===t.deltaMode?(n=-t.deltaX*o,i=-t.deltaY*o):(n=-t.deltaX,i=-t.deltaY);break;case"wheelDeltaX"in t:n=t.wheelDeltaX/120*o,i=t.wheelDeltaY/120*o;break;case"wheelDelta"in t:n=i=t.wheelDelta/120*o;break;case"detail"in t:n=i=-t.detail/3*o}return n*=r,i*=r,this.scroll.hasVerticalScroll||(Math.abs(i)>Math.abs(n)&&(n=i),i=0),this.scroll.hasHorizontalScroll||(n=0),{x:n,y:i,directionX:n>0?-1:n<0?1:0,directionY:i>0?-1:i<0?1:0}},t.prototype.beforeHandler=function(t){var e=this.scroll.options,o=e.preventDefault,n=e.stopPropagation,i=e.preventDefaultException;o&&!j(t.target,i)&&M(t),n&&t.stopPropagation()},t.prototype.getEaseTime=function(){var t=100,e=this.mouseWheelOpt.easeTime;return e<t&&c("easeTime should be greater than 100.If mouseWheel easeTime is too small,scrollEnd will be triggered many times."),Math.max(e,t)},t.prototype.dest))},t.pluginName="mouseWheel",t.applyOrder="pre",t}(),jt=functio()}return t.prototype.i()},t.prototype.handleMutationObserver=function(){var t=this;if("undefined"!=typeof MutationObserver){var e=0;this.observer=new MutationObserve)})),this.startObserve(this.observer)}else this.checkDOMUpdate()},t.prototype.handleHo))},t.prototype.mutationObserverHand)}},t.prototype.startObserve=function(t){var e={attributes:!0,childList:!0,subtree:!0};t.observe(this.scroll.scroller.content,e)},t.prototype.shouldNotRefr|n},t.prototype.checkDOMUpdate=function(){var t=this,e=this.scroll.scroller.content,o=R(e),n=o.width,i=o.heigh)}3)};s()},t.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},t.prototype.stopObse()},t.prototype.dest=0},t.pluginName="observeDOM",t}(),Ut="plugins.pullDownRefresh",Wt=[{key:"finishPullDown",name:"finishPullDown"},{key:"openPullDown",name:"openPullDown"},{key:"closePullDown",name:"closePullDown"},{key:"autoPullDownRefresh",name:"autoPullDownRefresh"}].map((function(t){return{key:t.key,sourceKey:Ut+"."+t.name}})),qt="pullingDown",Gt="enterThreshold",Vt="leaveThreshold",Kt=functio()}return t.prototype.setPulling=function(t){this.pulling=t},t.prototype.setThresholdBound=t},t.prototype.init=function(){this.handleBScroll(),this.handleOptions(this.scroll.options.pullDownRefresh),this.handleHooks(),this.watch()},t.prototype.handleBScroll=function(){this.scroll.registerType([qt,Gt,Vt]),this.scroll.proxy(Wt)},t.prototype.handleOptions=function(t){void 0===t&&(t={}),t=!0===t?{}:t;var e={threshold:90,stop:40};this.options=k(e,t),this.scroll.options.probeType=3},t.prototype.handleHooks=function(){var t=this;this.hooksFn=[];var e=this.scroll.scroller,o=e.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY=o.minScrollPos,this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,(function(){t.finishPullDown()})),this.registerHooks(o.hooks,o.hooks.eventTypes.computeBoundalY})),this.hasMouseWheelPlugin()&&(this.registerHooks(this.scroll,this.scroll.eventTypes.alterOptions,(function(t){var e=300,o=350;t.discreteTime=e,t.easeTime=o})),this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelEd)})))},t.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},t.prototype.hasMouseWheelPluns},t.prototype.watch=function(){var t=this.scroll.scroller;this.watching=!0,this.registerHooks(t.hooks,t.hooks.eventTypes.end,this.checkPullDown),this.registerHooks(this.scroll,this.scroll.eventTypes.scrollStart,this.resetStateBeforeScrollStart),this.registerHooks(this.scroll,this.scroll.eventTypes.scroll,this.checkLocationOfThresholdBoundary),this.hasMouseWheelPlugin()&&this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelStart,this.resetStateBeforeScrollStart)},t.prototype.resetStateBeforeScrollStart=function(){this.isFetchingStatus()||(this.setPulling(1),this.setThresholdBoundary(0))},t.prototype.checkLocationOfThresholdBoundary=function(){if(1===this.pulling){var t=this.scroll,e=1!==this.thresholdBoundary&&this.locateInsideThresholdBoundary(),o=2!==this.thresholdBoundary&&!this.locateInsideThresholdBoundary();e&&(this.setThresholdBoundary(1),t.trigger(Gt)),o&&(this.setThresholdBoundary(2),t.trigger(Vt))}},t.prototype.locateInsideThresholdBoundld},t.prototype.unwatch=function(){var t=this.scroll,e=t.scroller;this.watching=!1,e.hooks.off(e.hooks.eventTypes.end,this.checkPullDown),t.off(t.eventTypes.scrollStart,this.resetStateBeforeScrollStart),t.off(t.eventTypes.scroll,this.checkLocationOfThresholdBoundary),this.hasMouseWheelPlugin()&&t.off(t.eventTypes.mousewheelStart,this.resetStateBeforeScrollStart)},t.prototype.checkPullDown=function(){var t=this.options,e=t.threshold,o=t.stop;return!(this.scroll.y<e)&&(1===this.pulling&&(this.modifyBehaviorYBoundary(o),this.setPulling(2),this.scroll.trigger(qt)),this.scroll.scrollTo(this.scroll.x,o,this.scroll.options.bounceTime,et.bounce),this.isFetchingStatus())},t.prototype.isFetchingStang},t.prototype.modifyBehaviorYBound()},t.prototype.finishPullDown=function(){if(this.isFetchingStatus()){var t=this.scroll.scroller.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY,t.computeBoundary(),this.setPulling(0),this.scroll.resetPosition(this.scroll.options.bounceTime,et.bounce)}},t.prototype.openPullD()},t.prototype.closePullDown=function(){this.unwatch()},t.prototype.autoPullDownRefresh=function(){var t=this.options,e=t.threshold,o=t.stop;!this.isFetchingStatus()&&this.watching&&(this.modifyBehaviorYBoundary(o),this.scroll.trigger(this.scroll.eventTypes.scrollStart),this.scroll.scrollTo(this.scroll.x,e),this.setPulling(2),this.scroll.trigger(qt),this.scroll.scrollTo(this.scroll.x,o,this.scroll.options.bounceTime,et.bounce))},t.pluginName="pullDownRefresh",t}(),Zt="plugins.pullUpLoad",Jt=[{key:"finishPullUp",name:"finishPullUp"},{key:"openPullUp",name:"openPullUp"},{key:"closePullUp",name:"closePullUp"},{key:"autoPullUpLoad",name:"autoPullUpLoad"}].map((function(t){return{key:t.key,sourceKey:Zt+"."+t.name}})),$t="pullingUp",te=functio()}return t.prototype.i()},t.prototype.handleBScroll=function(){this.scroll.registerType([$t]),this.scroll.proxy(Jt)},t.prototype.handleOptions=function(t){void 0===t&&(t={}),t=!0===t?{}:t;var e={threshold:0};this.options=k(e,t),this.scroll.options.probeType=3},t.prototype.handleHo))},t.prototype.registerHo])},t.prototype.wa))},t.prototype.unwap)},t.prototype.checkPullUp=function(t){var e=this,o=this.options.threshold;1===this.scroll.movingDirectionY&&t.y<=this.scroll.maxScrollY+o&&(this.pulling=!0,this.scroll.once(this.scroll.eventTypes.scrollE!1})),this.unwatch(),this.scroll.trigger($t))},t.prototype.finishPul()},t.prototype.openPul()},t.prototype.closePul()},t.prototype.autoPullUpLoad=function(){var t=this.options.threshold,e=this.scroll.scroller.scrollBehaviorY;if(!this.pulling&&this.watching){var o=-1,n=e.maxScrollPos+t+o;this.scroll.scroller.scrollBehaviorY.setMovingDirection(o),this.scroll.scrollTo(this.scroll.x,n,this.scroll.options.bounceTime)}},t.pluginName="pullUpLoad",t}(),ee=functio()}return t.prototype.registerEver)},t.prototype.BScrollIsDisabed},t.prototype.start=function(t){if(!this.BScrollIsDisabled()){var e=t.touches?t.touches[0]:t;M(t),t.stopPropagation(),this.initiated=!0,this.lastPoint=e[this.indicator.keysMap.point],this.hooks.trigger(this.hooks.eventTypes.touchStart)}},t.prototype.move=function(t){if(this.initiated){var e=(t.touches?t.touches[0]:t)[this.indicator.keysMap.point];M(t),t.stopPropagation();var o=e-this.lastPoint;this.lastPoint=e,this.hooks.trigger(this.hooks.eventTypes.touchMove,o)}},t.prototype.end=function(t){this.initiated&&(this.initiated=!1,M(t),t.stopPropagation(),this.hooks.trigger(this.hooks.eventTypes.touchEnd))},t.prototype.dest()},t}(),oe=functio()}return t.prototype.handleF")},t.prototype.handleHo()},t.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},t.prototype.bindCl])},t.prototype.handleCle)},t.prototype.calculateclickOffseto)},t.prototype.getKeys"}},t.prototype.fade=function(t){var e=this.options,o=e.fadeInTime,n=e.fadeOutTime,i=t?o:n,r=this.wrapper;r.style[Q.transitionDuration]=i+"ms",r.style.opacity=t?"1":"0"},t.prototype.refr)}},t.prototype.transitionTime=function(t){void 0===t&&(t=0),this.indicatorEl.style[Q.transitionDuration]=t+"ms"},t.prototype.transitionTimingFunction=function(t){this.indicatorEl.style[Q.transitionTimingFunction]=t},t.prototype.canScr,t},t.prototype.refreshScrollIo}},t.prototype.updatePosit=o},t.prototype.caculatePosAndSo}},t.prototype.refreshStyle=function(t,e){var o=this.keysMap,n=o.translateProperty,i=o.size,r=this.scroll.options.translateZ;this.indicatorEl.style[i]=t+"px",this.indicatorEl.style[Q.transform]=n+"("+e+"px)"+r},t.prototype.startHandt)},t.prototype.moveHand)}},t.prototype.endHand)}},t.prototype.indicatorNotMo=0},t.prototype.syncBScrf)},t.prototype.newi)},t.prototype.dest=0},t}(),ne=functio()}return t.prototype.handleHo))},t.prototype.handleOptions=function(){var t=!0===this.scroll.options.scrollbar?{}:this.scroll.options.scrollbar,e={fade:!0,fadeInTime:250,fadeOutTime:500,interactive:!1,customElements:[],minSize:8,scrollbarTrackClickable:!1,scrollbarTrackOffsetType:"step",scrollbarTrackOffsetTime:300};this.options=k(e,t)},t.prototype.createIndicat=o},t.prototype.createScrollbarElem,o},t.pluginName="scrollbar",t}(),ie=function(){function t(t){this.scroll=t,this.init()}return t.prototype.i:0},t.prototype.getPageSte]},t.prototype.getNearestPageIndex=function(t,e){for(var o=0,n=0,i=this.pages.length;o<i-1&&!(t>=this.pages[o][0].cx);o++);for(i=this.pages[o].length;n<i-1&&!(e>=this.pages[0][n].cy);n++);return{pageX:o,pageY:n}},t.prototype.buildPagesMat s},t}(),re={pageX:0,pageY:0,x:0,y:0},t}(),ae="plugins.slide",le=[{key:"next",name:"next"},{key:"prev",name:"prev"},{key:"goToPage",name:"goToPage"},{key:"getCurrentPage",name:"getCurrentPage"},{key:"startPlay",name:"startPlay"},{key:"pausePlay",name:"pausePlay"}].map((function(t){return{key:t.key,sourceKey:ae+"."+t.name}}))eY},ce=functio()}return t.prototype.satisfyInitializat1)},t.prototype.i()},t.prototype.createPas)},t.prototype.handleBScre)},t.prototype.handleOptit)},t.prototype.handleL))},t.prototype.resetLoopChangedSta!1},t.prototype.handleHor)},t.prototype.startP))},t.prototype.pausePr)},t.prototype.setSlideInlineStyle=function(){var t=[{direction:"scrollX",sizeType:"offsetWidth",styleType:"width"},{direction:"scrollY",sizeType:"offsetHeight",styleType:"height"}],e=this.scroll.scroller,o=e.content,n=e.wrapper,i=this.scroll.options;t.forEa"}}))},t.prototype.next=function(t,e){var o=this.pages.nextPageIndex(),n=o.pageX,i=o.pageY;this.goTo(n,i,t,e)},t.prototype.pe)},t.prototype.goToPn)},t.prototype.getCurrentP0)},t.prototype.setCurrentPt)},t.prototype.nearestP))},t.prototype.satisfyThresh,r},t.prototype.refreshHand)}},t.prototype.computeThresh)}},t.prototype.cloneFirstAndLastSlidePage=function(t){var e=t.children,o=e[e.length-1].cloneNode(!0),n=e[0].cloneNode(!0);V(o,t),t.appendChild(n),this.cachedClonedPageDOM=[o,n]},t.prototype.removeClonedSlidePage=function(t){(t&&t.children||[]).length&&this.cachedClonedPageDOM.forEach((function(e){Z(t,e)})),this.cachedClonedPageDOM=[]},t.prototype.modifyCurrentP!1},t.prototype.g0)},t.prototype.flickHandp)},t.prototype.getEaseT0)},t.prototype.modifyScrollMetaHandce},t.prototype.scrollHand)}},t.prototype.pageWillChangeTo=function(t){var e=this.pages.getWillChangedPage(t);he(this.willChangeToPage,e)||(this.willChangeToPage=e,this.scroll.trigger(this.scroll.eventTypes.slideWillChange,this.willChangeToPage))},t.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},t.prototype.dest=0},t.pluginName="slide",t}(),ue="plugins.wheel",pe=[{key:"wheelTo",name:"wheelTo"},{key:"getSelectedIndex",name:"getSelectedIndex"},{key:"restorePosition",name:"restorePosition"}].map((function(t){return{key:t.key,sourceKey:ue+"."+t.name}})),fe="wheelIndexChanged",de={rate:4},ge=functio()}return t.prototype.init=function(){this.handleBScroll(),this.handleOptions(),this.handleHooks(),this.refreshBoundary(),this.setSelectedIndex(this.options.selectedIndex)},t.prototype.handleBScroll=function(){this.scroll.proxy(pe),this.scroll.registerType([fe])},t.prototype.handleOptions=function(){var t=!0===this.scroll.options.wheel?{}:this.scroll.options.wheel,e={wheelWrapperClass:"wheel-scroll",wheelItemClass:"wheel-item",rotate:25,adjustTime:400,selectedIndex:0,wheelDisabledItemClass:"wheel-disabled-item"};this.options=k(e,t)},t.prototype.handleHooks=function(){var t=this,e=this.scroll,o=this.scroll.scroller,n=o.actionsHandler,i=o.scrollBehaviorX,r=o.scrollBehaviorY,s=o.animater,a=o.content;e.on(e.eventTypes.scrollEnd,(function(e){var n=t.findNearestValidWheel(e.y).index;if(o.animater.forceStopped&&!t.isAdjustingPosition)return t.target=t.items[n],!0;t.setSelectedIndex(n),t.isAdjustingPosition&&(t.isAdjustingPosition=!1)})),this.scroll.hooks.on(this.scroll.hooks.eventTypes.refresh,(function(e){e!==a&&(a=e,t.setSelectedIndex(t.options.selectedIndex,!0)),t.rotateX(t.scroll.y),t.wheelTo(t.selectedIndex,0)})),this.scroll.hooks.on(this.scroll.hooks.eventTypes.beforeInitialScrollTo,(function(e){e.x=0,e.y=-t.selectedIndex*t.itemHeight})),o.hooks.on(o.hooks.eventTypes.checkClick,(function(){var e=$(t.items).indexOf(t.target);return-1===e||t.wheelTo(e,t.options.adjustTime,et.swipe),!0})),o.hooks.on(o.hooks.eventTypes.scroll.y})),o.hooks.on(o.hooks.eventTypes.minDistanceScroll,(function(){var t=o.animater;!0===t.forceStopped&&(t.forceStopped=!1)})),o.hooks.on(o.hooks.eventTypes.scrollToEleme.y})),n.hooks.on(n.hooks.eventTypes.beforeStaet})),i.hooks.on(i.hooks.eventTypes.computeBounda=0})),r.hooks.on(r.hooks.eventTypes.computeBoundary,(function(e){t.items=t.scroll.scroller.content.children,t.checkWheelAllDisabled(),t.itemHeight=t.items.length>0?r.contentSize/t.items.length:0,e.maxScrollPos=-t.itemHeight*(t.items.length-1),e.minScrollPos=0})),r.hooks.on(r.hooks.eventTypes.momentum,(function(e){e.rate=de.rate,e.destination=t.findNearestValidWheel(e.destination).y})),r.hooks.on(r.hooks.eventTypes.end,(function(e){var o=t.findNearestValidWheel(r.currentPos);e.destination=o.y,e.duration=t.options.adjustTime})),s.hooks.on(s.hooks.eventTypes.time,(function(e){t.transitionDuration(e)})),s.hooks.on(s.hooks.eventTypes.timeFunction,(function(e){t.timeFunction(e)})),s.hooks.on(s.hooks.eventTypes.callStop,(function(){var e=t.findNearestValidWheel(t.scroll.y).index;t.isAdjustingPosition=!0,t.wheelTo(e,0)})),s.translater.hooks.on(s.translater.hooks.eventTypes.translay)}))},t.prototype.refreshBoundn)},t.prototype.setSelectedIndex=function(t,e){void 0===e&&(e=!1);var o=this.selectedIndex;this.selectedIndex=t,o===t||e||this.scroll.trigger(fe,t)},t.prototype.getSelectedIndex=function(){return this.selectedIndex},t.prototype.wheelTo=function(t,e,o){void 0===t&&(t=0),void 0===e&&(e=0);var n=-t*this.itemHeight;this.scroll.scrollTo(0,n,e,o)},t.prototype.restorePosition=function(){if(this.scroll.pending){var t=this.getSelectedIndex();this.scroll.scroller.animater.clearTimer(),this.wheelTo(t,0)}},t.prototype.transitionDurats"},t.prototype.timeFunct=t},t.prototype.rota"}},t.prototype.findNearestValidWht}},t.prototype.checkWheelAllDisabk}},t.pluginName="wheel",t}(),ye="plugins.zoom",ve=[{key:"zoomTo",name:"zoomTo"}].map((function(t){return{key:t.key,sourceKey:ye+"."+t.name}})),me=2,we=1,be=function(){function t(t){this.scroll=t,this.scale=we,this.prevScale=1,this.init()}return t.prototype.it)},t.prototype.zoo0)},t.prototype.handleBScr])},t.prototype.handleOptions=function(){var t=!0===this.scroll.options.zoom?{}:this.scroll.options.zoom,e={start:1,min:1,max:4,initialOrigin:[0,0],minimalZoomDistance:5,bounceTime:800};this.zoomOpt=k(e,t)},t.prototype.handleHooks=function(){var t=this,e=this.scroll,o=this.scroll.scroller;this.wrapper=this.scroll.scroller.wrapper,this.setTransformOrigin(this.scroll.scroller.content);var n=o.scrollBehaviorX,i=o.scrollBehaviorY;this.hooksFn=[],this.registerHooks(e.hooks,e.hooks.eventTypes.contentChanged,(function(e){t.setTransformOrigin(e),t.scale=we,t.tryInitialZoomTo(t.zoomOpt)})),this.registerHooks(e.hooks,e.hooks.eventTypes.beforeInitialScrollTo,(function(){if(t.zoomOpt.start!==we)return!0})),this.registerHooks(n.hooks,n.hooks.eventTypes.beforeComputeBoundary,(function(){var e=R(t.scroll.scroller.content);n.contentSize=Math.floor(e.width*t.scale)})),this.registerHooks(i.hooks,i.hooks.eventTypes.beforeComputeBoundae)})),this.registerHooks(o.actions.hooks,o.actions.hooks.eventTypes.start,(function(e){var o=e.touches&&e.touches.length||0;t.fingersOperation(o),o===me&&t.zoomStart(e)})),this.registerHooks(o.actions.hooks,o.actions.hooks.eventTypes.beforeMove,(function(e){var o=e.touches&&e.touches.length||0;if(t.fingersOperation(o),o===me)return t.zoom(e),!0})),this.registerHooks(o.actions.hooks,o.actions.hooks.eventTypes.beforeEnd,(function(e){if(t.fingersOperation()===me)return t.zoomEnd(),!0})),this.registerHooks(o.translater.hooks,o.translater.hooks.eventTypes.beforeTransla")})),this.registerHooks(o.hooks,o.hooks.eventTypes.scrollEnd,(function(){t.fingersOperation()===me&&t.scroll.trigger(t.scroll.eventTypes.zoomEnd,{scale:t.scale})})),this.registerHooks(this.scroll.hooks,"destroy",this.destroy)},t.prototype.setTransformOri0"},t.prototype.tryInitialZoomTo=function(t){var e=t.start,o=t.initialOrigin,n=this.scroll.scroller,i=n.scrollBehaviorX,r=n.scrollBehaviorY;e!==we&&(this.resetBoundaries([i,r]),this.zoomTo(e,o[0],o[1],0))},t.prototype.fingersOperat=t},t.prototype._doZoomTo=function(t,e,o,n){var i=this;void 0===o&&(o=this.zoomOpt.bounceTime),void 0===n&&(n=!1);var r=this.zoomOpt,s=r.min,a=r.max,l=this.scale,h=S(t,s,a);!function(){if(0!==o){if(o>0){var t,e=b(),n=e+o,r=function(){var s=b();if(s>=n)return i.scroll.trigger(i.scroll.eventTypes.zooming,{scale:h}),void st(t);var a=et.bounce.fn((s-e)/o)*(h-l)+l;i.scroll.trigger(i.scroll.eventTypes.zooming,{scale:a}),t=rt(r)};r()}}else i.scroll.trigger(i.scroll.eventTypes.zooming,{scale:h})}(),this.fingersOperation(2),this._zoomTo(h,l,e,o,n)},t.prototype._zoo})},t.prototype.resolveOrigin=function(t,e){var o=this.scroll.scroller,n=o.scrollBehaviorX,i=o.scrollBehaviorY,r={left:function(){return 0},top:function(){return 0},right:function(){return n.contentSize},bottom:function(){return i.contentSize},center:function(t){return(0===t?n.contentSize:i.contentSize)/2}};return{originX:"number"==typeof t?t:r[t](0),originY:"number"==typeof e?e:r[e](1)}},t.prototype.zoomStart=function(t){var e=t.touches[0],o=t.touches[1];this.startDistance=this.getFingerDistance(t),this.startScale=this.scale;var n=D(this.wrapper),i=n.left,r=n.top;this.origin={x:Math.abs(e.pageX+o.pageX)/2+i-this.scroll.x,y:Math.abs(e.pageY+o.pageY)/2+r-this.scroll.y,baseScale:this.startScale},this.scroll.trigger(this.scroll.eventTypes.beforeZoomStart)},t.prototype.zoom=function(t){var e=this.getFingerDistance(t);if(this.zoomed||!(Math.abs(e-this.startDistance)<this.zoomOpt.minimalZoomDistance)){var o=this.dampingScale(e/this.startDistance*this.startScale),n=o/this.startScale;this.setScale(o),this.zoomed||(this.zoomed=!0,this.scroll.trigger(this.scroll.eventTypes.zoomStart));var i=this.scroll.scroller,r=i.scrollBehaviorX,s=i.scrollBehaviorY,a=this.getNewPos(this.origin.x,n,r,!1,!1),l=this.getNewPos(this.origin.y,n,s,!1,!1);this.scroll.trigger(this.scroll.eventTypes.zooming,{scale:this.scale}),i.translater.translate({x:a,y:l,scale:o})}},t.prototype.zoom))},t.prototype.getFingerDistance=function(t){var e=t.touches[0],o=t.touches[1];return T(Math.abs(e.pageX-o.pageX),Math.abs(e.pageY-o.pageY))},t.prototype.shouldRebol)},t.prototype.dampingScale=function(t){var e=this.zoomOpt,o=e.min,n=e.max;return t<o?t=.5*o*Math.pow(2,t/o):t>n&&(t=2*n*Math.pow(.5,n/t)),t},t.prototype.setScale=function(t){this.scale=t},t.prototype.resetBoundar))},t.prototype.getNewPos=function(t,e,o,n,i){void 0===i&&(i=!1);var r=t-t*e+(i?o.currentPos:o.startPos);return n&&(r=S(r,o.maxScrollPos,o.minScrollPos)),r>0?Math.floor(r):Math.ceil(r)},t.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},t.prototype.destroy=function(){this.hooksFn.forEach((function(t){var e=t[0],o=t[1],n=t[2];e.off(o,n)})),this.hooksFn.length=0},t.pluginName="zoom",t}(),ke=function(){function t(t){this.ancestors=[],this.descendants=[],this.hooksManager=[],this.analyzed=!1,this.selfScroll=t}return t.cree)},t.prototype.hasAncestors=function(t){return E(this.ancestors,(function(e){return e[0]===t}))>-1},t.prototype.hasDescendants=function(t){return E(this.descendants,(function(e){return e[0]===t}))>-1},t.prototype.addAncestor=function(t,e){var o=this.ancestors;o.push([t,e]),o.sort((function(t,e){return t[1]-e[1]}))},t.prototype.addDescendant=function(t,e){var o=this.descendants;o.push([t,e]),o.so1]}))},t.prototype.removeAncestor=function(t){var e=this.ancestors;if(e.length){var o=E(this.ancestors,(function(e){return e[0]===t}));if(o>-1)return e.splice(o,1)}},t.prototype.removeDescendant=function(t){var e=this.descendants;if(e.length){var o=E(this.descendan=t}));if(o>-1)return e.splice(o,1)}},t.prototype.registerHo])},t.prototype.setAnaly=t},t.prototype.purge=function(){var t=this;this.ancestors.forEach((function(e){e[0].removeDescendant(t)})),this.descendants.forEat)})),this.hooksManager.forEach((function(t){var e=t[0],o=t[1],n=t[2];e.off(o,n)})),this.hooksManager=[]},t}(),Ae="plugins.nestedScroll",Te=[{key:"purgeNestedScroll",name:"purgeNestedScroll"}].map((function(t){return{key:t.key,sourceKey:Ae+"."+t.name}})),Se="INTERNAL_NESTED_SCROLL"))}))},xe=function(t,e){t.forEa()}))},Ie=function(t){t.forEach((function(t){var e=t.scroller,o=e.actions,n=e.scrollBehaviorX,i=e.scrollBehaviorY;o.fingerMoved=!0,o.contentMoved=!1,o.directionLockAction.reset(),n.start(),i.start(),n.resetStartPos(),i.resetStartPos(),o.startTime=+new Date}))},Be=function(t){var e=t.hasHorizontalScroll,o=t.hasVerticalScroll,n=t.x,i=t.y,r=t.minScrollX,s=t.maxScrollX,a=t.minScrollY,l=t.maxScrollY,h=t.movingDirectionX,c=t.movingDirectionY,u=!1;return o?u=i>=a&&-1===c||i<=l&&1===c:e&&(u=n>=r&&-1===h||n<=s&&1===h),u},Ce=function(t){var e=t.hasHorizontalScroll,o=t.hasVerticalScroll,n=t.x,i=t.y,r=t.minScrollX,s=t.maxScrollX,a=t.minScrollY,l=t.maxScrollY,h=!1;return o?h=i>a||i<l:e&&(h=n>r||n<s),h}0)},Me=function(t,e){for(var o=0,n=t.parentNode;n&&n!==e;)o++,n=n.parentNode;return o},Oe=function(){function t(e){var o=this.handleOptions(e),n=t.instancesMap[o];return n||((n=t.instancesMap[o]=this).store=[],n.hooksFn=[]),n.init(e),n}return t.getAllNestedScro))},t.purgeAllNestedScro))},t.prototype.handleOptions=function(t){var e=!0===t.options.nestedScroll?{}:t.options.nestedScroll,o={groupId:Se};this.options=k(o,e);var n=typeof this.options.groupId;return"string"!==n&&"number"!==n&&c("groupId must be string or number for NestedScroll plugin"),this.options.groupId},t.prototype.init=function(t){t.proxy(Te),this.addBScroll(t),this.buildBScrollGraph(),this.analyzeBScrollGraph(),this.ensureEventInvokeSequence(),this.handleHooks(t)},t.prototype.handleHo))},t.prototype.deleteScroll=function(t){t.wrapper.isBScrollContainer=void 0;var e=this.store,o=this.hooksFn,n=E=t}));n>-1&&(e[n].purge(),e.splice(n,1));var i=Eks}));if(i>-1){var r=o[i],s=r[0],a=r[1],l=r[2];s.off(a,l),o.splice(i,1)}},t.prototype.addBScr))},t.prototype.buildBScrollGraph=function(){for(var t,e,o,n,i=this.store,r=this.store.length,s=0;s<r;s++){o=(t=i[s]).selfScroll.wrapper;for(var a=0;a<r;a++)if(n=(e=i[a]).selfScroll.wrapper,t!==e&&o.contains(n)){var l=Me(n,o);t.hasDescendants(e)||t.addDescendant(e,l),e.hasAncestors(t)||e.addAncestor(t,l)}}},t.prototype.analyzeBScrollGraph=function(){this.store.forEach((function(t){if(!t.analyzed){var e=t.ancestors,o=t.descendants,n=t.selfScroll,i=function(){var t=e.map((function(t){return t[0].selfScroll})),i=o.map((function(t){return t[0].selfScroll}));Ee(l(t,i)),Ce(n)&&_e(n),Ie(t),xe(t,n)},r=function(){var t=e.map((function(t){return t[0].selfScroll})),n=o.map((function(t){return t[0].selfScroll}));Pe(l(t,n))};t.registerHooks(n,n.eventTypes.beforeScrollStart,i),t.registerHooks(n,n.eventTypes.touchEnd,r);var s=n.scroller.actions.hooks;t.registerHooks(s,s.eventTypes.detectMovingDirection,(function(){var t=e.mll})),o=t[0],i=t.slice(1),r=n.scroller.actions.contentMoved,s=0===t.length;if(r)xe(t,n);else if(!s&&Be(n))return xe([n],n),o&&Pe([o]),xe(i,n),!0})),t.setAnalyzed(!0)}}))},t.prototype.ensureEventInvokeSequence=function(){this.store.slice().soth})).forEa()}))},t.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},t.prototype.purgeNestedScroll=function(){var e=this.options.groupId;this.store.forEa()})),this.store=[],this.hooksFn.forEach((function(t){var e=t[0],o=t[1],n=t[2];e.off(o,n)})),this.hooksFn=[],delete t.instancesMap[e]},t.pluginName="nestedScroll",t.instancesMap={},t}(),De=10,Ye=30,He=functio=0}return t.prototype.calculate=function(t,e){var o=t-this.lastPos;this.lastPos=t;var n=this.getDirection(o),i=this.calculateIndex(0,t,e),r=this.calculateIndex(i,t+this.wrapperHeight,e);return 1===n?(i-=De,r+=Ye):(i-=Ye,r+=De),i<0&&(i=0),{start:i,end:r}},t.prototype.getDirection=function(t){var e;if(t>0)e=1;else{if(!(t<0))return this.lastDirection;e=0}return this.lastDirection=e,e},t.prototype.calculateIn=r},t.prototype.resetSt=0},t}() t}(),Fe=function(){function t(t,e,o){this.fetchFn=e,this.onFetchFinish=o,this.loadedNum=0,this.fetching=!1,this.hasMore=!0,this.list=t||[]}return t.prototype.upd))},t.prototype.st},t.prototype.addEmptyDst},t.prototype.fe))},t.prototype.checkToFe))},t.prototype.getList=function(){return this.list},t.prototype.resetSt[]},t}(),Le=function(){function t(t){this.create=t,this.cached=[],this.width=0,this.height=0,this.initialed=!1,this.getSize()}return t.isTombst")},t.prototype.getSize=function(){if(!this.initialed){var t=this.create();t.style.position="absolute",document.body.appendChild(t),t.style.display="",this.height=t.offsetHeight,this.width=t.offsetWidth,document.body.removeChild(t),this.cached.push(t)}},t.prototype.get()},t.prototype.recyed},t.prototype.recycleed},t}(),ze=200,Qe=function(){function t(t,e,o){this.renderFn=e,this.tombstone=o,this.unusedDom=[],this.timers=[],this.setContent(t)}return t.prototype.upds}},t.prototype.collectUnusedDom=function(t,e,o){for(var n=0;n<t.length;n++)if(n!==e){if(t[n].dom){var i=t[n].dom;Le.isTombstone(i)?(this.tombstone.recycleOne(i),i.style.display="none"):this.unusedDom.push(i),t[n].dom=null}}else n=o-1;return t},t.prototype.createDom=function(t,e,o){for(var n=e;n<o;n++){var i=t[n].dom,r=t[n].data;if(i){if(!Le.isTombstone(i)||!r)continue;t[n].tombstone=i,t[n].dom=null}(i=r?this.renderFn(r,this.unusedDom.pop()):this.tombstone.getOne()).style.position="absolute",t[n].dom=i,t[n].pos=-1,this.content.appendChild(i)}},t.prototype.cacheHeit)},t.prototype.positionDom=function(t,e,o){for(var n=this,i=[],r=this.getStartPos(t,e,o),s=r.start,a=r.delta,l=s,h=e;h<o;h++){var c=t[h].tombstone;if(c){var u=c.style;u[Q.transition]=Y+"transform "+ze+"ms, opacity "+ze+"ms",u[Q.transform]="translateY("+l+"px)",u.opacity="0",t[h].tombstone=null,i.push(c)}t[h].dom&&t[h].pos!==l&&(t[h].dom.style[Q.transform]="translateY("+l+"px)",t[h].pos=l),l+=t[h].height||this.tombstone.height}var p=window.setTimeoi)}),ze);return this.timers.push(p),{startPos:s,startDelta:a,endPos:l}},t.prototype.getStartPos=function(t,e,o){if(t[e]&&-1!==t[e].pos)return{start:t[e].pos,delta:0};for(var n=-1===t[0].pos?0:t[0].pos,i=0;i<e;i++)n+=t[i].height||this.tombstone.height;var r,s=n;for(r=e;r<o;r++)if(!Le.isTombstone(t[r].dom)&&-1!==t[r].pos){n=t[r].pos;break}var a=r;if(a<o)for(;a>e;)n-=t[a-1].height,a--;return{start:n,delta:s-n}},t.prototype.removeTombstone=function(){for(var t=this.content.querySelectorAll(".tombstone"),e=t.length-1;e>=0;e--)this.content.removeChild(t[e])},t.prototype.setContt)},t.prototype.dest))},t.prototype.resetSt[]},t}(),Ne=-2e3,Re=function(){function t(t){this.scroll=t,this.start=0,this.end=0,this.init()}return t.prototype.i})},t.prototype.modifyBoundNe},t.prototype.handleOpti=3},t.prototype.upd))},t.prototype.onFetchFin,o},t.prototype.updatei}},t.prototype.desty)},t.pluginName="infinity",t}(),je="plugins.movable",Ue=[{key:"putAt",name:"putAt"}].map((function(t){return{key:t.key,sourceKey:je+"."+t.name}})),We=functio()}return t.prototype.handleBScre)},t.prototype.handleHooks=function(){var t=this;this.hooksFn=[];var e=this.scroll.scroller,o=e.scrollBehaviorX,n=e.scrollBehaviorY,i=function(t,e){t.maxScrollPos>0&&(t.minScrollPos=e.wrapperSize-e.contentSize,t.maxScrollPos=0)};this.registerHooks(o.hooks,o.hooks.eventTypes.ignoreHasScroll,(function(){return!0})),this.registerHooks(o.hooks,o.hooks.eventTypes.computeBoundary,(function(t){i(t,o)})),this.registerHooks(n.hooks,n.hooks.eventTypes.ignoreHasScro!0})),this.registerHooks(n.hooks,n.hooks.eventTypes.computeBoundary,(function(t){i(t,n)})),this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.destroy,(function(){t.destroy()}))},t.prototype.pun)},t.prototype.resolvePost)}},t.prototype.dest=0},t.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},t.pluginName="movable",t.applyOrder="pre",t}()()},Ge=functio()}return t.prototype.i()},t.prototype.handleOptions=function(t){void 0===t&&(t={}),t=!0===t?{}:t;var e={debounceTime:100};this.options=k(e,t)},t.prototype.bindEventsToWrapper=function(){var t=this.scroll.scroller.wrapper;this.imageLoadEventRegister=new ft(t,[{name:"load",handler:this.load.bind(this),capture:!0}]),this.imageErrorEventRegister=new ft(t,[{name:"error",handler:this.load.bind(this),capture:!0}])},t.prototype.load=function(t){var e=this,o=t.target,n=this.options.debounceTime;o&&qe(o)&&(0===n?this.scroll.refresh():(clearTimeout(this.refreshTimer),this.refreshTimer=window.setTimeo()}),this.options.debounceTime)))},t.pluginName="observeImage",t}(),Ve=function(t){var e={ratioX:0,ratioY:0};return t?("number"==typeof t?e.ratioX=e.ratioY=t:"object"==typeof t&&t&&(e.ratioX=t.x||0,e.ratioY=t.y||0),e):e}()},Ze=function(){function t(t,e){this.scroll=t,this.options=e,this.currentPos={x:0,y:0},this.hooksFn=[],this.handleDOM(),this.handleHooks(),this.handleInteractive()}return t.prototype.handleDOM=function(){var t=this.options,e=t.relationElement,o=t.relationElementHandleElementIndex,n=void 0===o?0:o;this.wrapper=e,this.indicatorEl=this.wrapper.children[n]},t.prototype.handleHooks=function(){var t=this,e=this.scroll,o=e.hooks,n=e.scroller.translater.hooks,i=e.scroller.animater.hooks;this.registerHooks(o,o.eventTypes.refresh,this.refresh),this.registerHooks(n,n.eventTypes.translae)})),this.registerHooks(i,i.eventTypes.time,this.transitionTime),this.registerHooks(i,i.eventTypes.timeFunction,this.transitionTimingFunction)},t.prototype.transitionTime=function(t){void 0===t&&(t=0),this.indicatorEl.style[Q.transitionDuration]=t+"ms"},t.prototype.transitionTimingFunct=t},t.prototype.handleInteract()},t.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},t.prototype.registerEvents=function(){var t=this.scroll.options,e=t.disableMouse,o=t.disableTouch,n=[],i=[],r=[];e||(n.push({name:"mousedown",handler:this.start.bind(this)}),i.push({name:"mousemove",handler:this.move.bind(this)}),r.push({name:"mouseup",handler:this.end.bind(this)})),o||(n.push({name:"touchstart",handler:this.start.bind(this)}),i.push({name:"touchmove",handler:this.move.bind(this)}),r.push({name:"touchend",handler:this.end.bind(this)},{name:"touchcancel",handler:this.end.bind(this)})),this.startEventRegister=new ft(this.indicatorEl,n),this.moveEventRegister=new ft(window,i),this.endEventRegister=new ft(window,r)},t.prototype.refresh=function(){var t=this.scroll,e=t.x,o=t.y,n=t.hasHorizontalScroll,i=t.hasVerticalScroll,r=t.maxScrollX,s=t.maxScrollY,a=Ve(this.options.ratio),l=a.ratioX,h=a.ratioY,c=tt(this.wrapper),u=c.width,p=c.height,f=R(this.indicatorEl),d=f.width,g=f.height;n&&(this.maxScrollX=u-d,this.translateXSign=this.maxScrollX>0?-1:1,this.minScrollX=0,this.ratioX=l||Math.abs(this.maxScrollX/r)),i&&(this.maxScrollY=p-g,this.translateYSign=this.maxScrollY>0?-1:1,this.minScrollY=0,this.ratioY=h||Math.abs(this.maxScrollY/s)),this.updatePosition({x:e,y:o})},t.prototype.start=function(t){if(!this.BScrollIsDisabled()){var e=t.touches?t.touches[0]:t;Ke(t),this.initiated=!0,this.moved=!1,this.lastPointX=e.pageX,this.lastPointY=e.pageY,this.startTime=b(),this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.beforeScrollStart)}},t.prototype.BScrollIsDisabed},t.prototype.move=function(t){if(this.initiated){var e=t.touches?t.touches[0]:t,o=e.pageX,n=e.pageY;Ke(t);var i=o-this.lastPointX,r=n-this.lastPointY;if(this.lastPointX=o,this.lastPointY=n,this.moved||this.indicatorNotMoved(i,r)||(this.moved=!0,this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollStart)),this.moved){var s=this.getBScrollPosByRatio(this.currentPos,i,r);this.syncBScroll(s)}}},t.prototype.end=function(t){if(this.initiated&&(this.initiated=!1,Ke(t),this.moved)){var e=this.scroll,o=e.x,n=e.y;this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollEnd,{x:o,y:n})}},t.prototype.getBScrollPosByRatio=function(t,e,o){var n=t.x,i=t.y,r=this.scroll,s=r.hasHorizontalScroll,a=r.hasVerticalScroll,l=r.minScrollX,h=r.maxScrollX,c=r.minScrollY,u=r.maxScrollY,p=this.scroll,f=p.x,d=p.y;if(s){var g=S(n+e,Math.min(this.minScrollX,this.maxScrollX),Math.max(this.minScrollX,this.maxScrollX));f=S(Math.round(g/this.ratioX*this.translateXSign),h,l)}if(a){var y=S(i+o,Math.min(this.minScrollY,this.maxScrollY),Math.max(this.minScrollY,this.maxScrollY));d=S(Math.round(y/this.ratioY*this.translateYSign),u,c)}return{x:f,y:d}},t.prototype.indicatorNotMoved=function(t,e){var o=this.currentPos,n=o.x,i=o.y,r=n===this.minScrollX&&t<=0||n===this.maxScrollX&&t>=0,s=i===this.minScrollY&&e<=0||i===this.maxScrollY&&e>=0;return r&&s},t.prototype.syncBScroll=function(t){var e=b(),o=this.scroll,n=o.options,i=o.scroller,r=n.probeType,s=n.momentumLimitTime;i.translater.translate(t),e-this.startTime>s&&(this.startTime=e,1===r&&i.hooks.trigger(i.hooks.eventTypes.scroll,t)),r>1&&i.hooks.trigger(i.hooks.eventTypes.scroll,t)},t.prototype.updatePosition=function(t){var e=this.getIndicatorPosByRatio(t);this.applyTransformProperty(e),this.currentPos=r({},e)},t.prototype.applyTransformProperty=function(t){var e=this.scroll.options.translateZ,o=["translateX("+t.x+"px)","translateY("+t.y+"px)",""+e];this.indicatorEl.style[Q.transform]=o.join(" ")},t.prototype.getIndicatorPosByRatio=function(t){var e=t.x,o=t.y,n=this.scroll,i=n.hasHorizontalScroll,s=n.hasVerticalScroll,a=r({},this.currentPos);if(i){var l=Math.round(this.ratioX*e*this.translateXSign);a.x=S(l,Math.min(this.minScrollX,this.maxScrollX),Math.max(this.minScrollX,this.maxScrollX))}if(s){var h=Math.round(this.ratioY*o*this.translateYSign);a.y=S(h,Math.min(this.minScrollY,this.maxScrollY),Math.max(this.minScrollY,this.maxScrollY))}return a},t.prototype.destroy=function(){!1!==this.options.interactive&&(this.startEventRegister.destroy(),this.moveEventRegister.destroy(),this.endEventRegister.destroy()),this.hooksFn.forEach((function(t){var e=t[0],o=t[1],n=t[2];e.off(o,n)})),this.hooksFn.length=0},t}(),Je=function(){function t(t){this.scroll=t,this.options=[],this.indicators=[],this.handleOptions(),this.handleHooks()}return t.prototype.handleOptions=function(){var t=this.scroll.options.indicators;u(Array.isArray(t),"'indicators' must be an array.");for(var e=0,o=t;e<o.length;e++){var n=o[e];u(!!n.relationElement,"'relationElement' must be a HTMLElement."),this.createIndicators(n)}},t.prototype.createIndicat))},t.prototype.handleHooks=function(){var t=this,e=this.scroll.hooks;e.on(e.eventTypes.destroy,(function(){for(var e=0,o=t.indicators;e<o.length;e++){o[e].destroy()}t.indicators=[]}))},t.pluginName="indicators",t}();Nt.use(Rt).use(jt).use(Kt).use(te).use(ne).use(ce).use(ge).use(be).use(Oe).use(Re).use(We).use(Ge).use(Je)},73:function(t,e,o){var n;n=function(){ret6)}},function(t,e,o){var n=o}t.exports=r},function(t,e){var o=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelece}}t.exports=i},function(t,e,o){"use strict";o.r(e);var n=o(0),i=o.n(n),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}();function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=functio()}return s(t,[{key:"resolveOptions",va""}},{key:"initSelection",va()}},{key:"selectFake",va()}},{key:"removeFake",val)}},{key:"selectTarget",va()}},{key:"copyText",vat)}},{key:"handleResult",va})}},{key:"clearSelection",va()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",')},get:function(){return this._action}},{key:"target",t}},et}}]),t}(),h=o(1),c=o.n(h),u=o(2),p=o.n(u),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof te}}var m=function,n}return v(e,t),d(e,[{key:"resolveOptions",vady}},{key:"listenClick",va))}},{key:"onClick",va})}},{key:"defaultAction",value:function(t){return w("action",t)}},{key:"defaultTarget",vae)}},{key:"defaultText",vat)}},{key:"destroy",val)}}],[{key:"isSupported",va,o}}]),e}(co)}e.default=m}]).default},t.exports=n()},lt},=n},797:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(o(798));function i(t){return t&&t.__esModule?t:{default:t}}e.defa))},t.exports=e.default},)}},799:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(o(800)),i=a(o(803)),r=a(o(804)),s=a(o(805));function a(t){return t&&t.__esModule?t:{default:t}}var l=(0,n.default)("youtube-player"),h={proxyEve e},promisifyPlayer:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o={)}},r=!0,a=!1,l=void 0;try{for(var h,c=i.default[Symbol.iterator]();!(r=(h=c.next()).done);r=!0){n(h.value)}}catch(u){a=!0,l=u}finally{try{!r&&c.return&&c.return()}finally{if(a)throw l}}return o}};e.default=h,t.exports=e.default},800:function(t,e,o){(functionfunction l(){var t;try{t=e.storage.debug}catch(o){}return!t&&void 0!==n&&"env"in n&&(t=Object({NODE_ENV:"production",VERSION_TAG:"4.5.200",BUILD_NUM:"720"}).DEBUG{}}(e=t.exports=o(801)).log=s,e.formatArgs=r,e.save=a,e.load=l,e.useColors=i,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:h(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formattere}},e.enable(l())}).call(this,o(32))},801:function(t,e,o){va=t.exports=r.debug=r.default=r).coerce=h,e.disable=a,e.enable=s,e.enabled=l,e.humanize=o(802),e.names=[],e.skips=[],e.formatters={}},802:function(t,e){var o=1e3,n=60*o,i=60*n,r=24*i,s=365.2t.expo))}},lt},lt},805:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(o(806));function i(t){return t&&t.__esModule?t:{default:t}}e.default={pauseVideo:{acceptableStates:[n.default.ENDED,n.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[n.default.ENDED,n.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[n.default.ENDED,n.default.PLAYING,n.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default},lt},808:function(t,e,o){"use strict";o.r(e),(function(t,o){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,,t}var s=void 0!==t&&"[object global]"==={}.toString.callrl."))}var p=void 0!==Array.prototype.indexOf,f="undefined"!=typeof window&&void 0!==window.postMessage;if(!(s||p&&f))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof sct(t)===t}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:d);var y=g((function(t){var e,n,i;i=function(){var t,e,n,i=Object.prototype.toString,return o(t)}:setTimeout;try{Object.defineProperty({e:!1!==n})}}}}();var y=t({},"constructor",g,!1);return g.prototype=y,t(y,"__NPO__",0,!1),t(g");e(t)}))})),t(");o(t)}))}))r)}),n)}))})),e)}),n)}))})),g},(n=d)[e="Promise"]=n[e]||i(),t.exports&&(t.exports=n[e])})),v=ete(t)}var T=["autopause","autoplay","background","byline","color","controls","dnt","height","id","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","urch(o)}catch(n){o(n)}}))}function I(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPata[0].bottom,"px");break}};window.addresolve(o)}catcho]]=t[o];return i}return!1}(),e={fullscreenchange:t.fullscreenchange,fullscreenerror:t.ise&&en(i).catch(n)}else e()}))},on:function(t,o){var n=e[t];n&&documentt.removeEventListener(n,o)}};return Object.defineProperties(o,{isFullscreen:{get:function(){return Boolean(document[t.fullscreenElement])}}ument[t.fullscreenElement]}},iment[t.fullscreenEnabled])}}}),o}var O=new WeakMap,D=neenchangeHandler)}return this}return:i}),C(e,t,o)})).cct:n}),C(e,t)})).c:i}),C(o,t,e)})).m(this,"event:".cor",t).catch((function(t){}))}},{key:"loadVideo",value:function(t){return this.callMethod("loadVd."))}));return y.resolve(ddCuePoint",{time:t,data:e})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}}tTrack",{language:t,kind:e})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{lMethod("requestFullscreen")}callMethod("exitFullscreen")reen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"unload",value:function(){return this.callMethod("unlscreenchangeHandler),e()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(t){return this.set("cameraProps",t)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"setMuted",value:function(t){return this.set("muted",t)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(t){return this.set("quality",t)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoU(){return this.get("volu{return this.set("volume",t)}}]),t}();s||(Y=M(),x(),I()),e.default=H}).call(this,o(7),o(352).setImmediate)},819:function(t,e,o){var n,i;i=function(){returnt,e,o,i)}return o[a].exports}for(var s="function"==typeof n&&n,a=0;a<i.length;a++)r(i[a]);return r}return t}()({1:[function(t,e,o){"use strict";var n=t("inherits"),i=t("multimath"),r=t("multimath/lib/unsharp_mask"),s=t("./mm_resize");function a(t){var e=t||[],o={js:e.indexOf("js")>=0,wasm:e.indexOf("wasm")>=0};i.call(this,o),this.features={js:o.js,wasm:o.wasm&&this.has_wasm()},this.use(r),this.use(s)}n(a,i)Radius,t.unsharpThreshold),o},e.exports=a},{"./mm_resize":4,inherits:15,multimath:16,"multimath/lib/unsharp_mask":19}],2:(t){return t<0?0:t>255?255:t}function i(t,e,o,i,r,s){var a,l,h,c,u,p,f,d,g,y,v,m=0,w=0;for(g=0;g<i;g++){for(u=0,y=0;y<r;y++){for(p=s[u++],f=s[u++],d=m+4*p|0,a=l=h=c=0;f>0;f--)c=c+(v=s[u++])*t[d+3]|0,h=h+v*t[d+2]|0,l=l+v*t[d+1]|0,a=a+v*t[d]|0,d=d+4|0;e[w+3]=n(c+8192>>14),e[w+2]=n(h+8192>>14),e[w+1]=n(l+8192>>14),e[w]=n(a+8192>>14),w=w+4*i|0}w=4*(g+1)|0,m=(g+1)*o*4|0}}function r(t,e,o,i,r,s){var a,l,h,c,u,p,f,d,g,y,v,m=0,w=0;for(g=0;g<i;g++){for(u=0,y=0;y<r;y++){for(p=s[u++],f=s[u++],d=m+4*p|0,a=l=h=c=0;f>0;f--)c=c+(v=s[u++])*t[d+3]|0,h=h+v*t[d+2]|0,l=l+v*t[d+1]|0,a=a+v*t[d]|0,d=d+4|0;e[w+3]=n(c+8192>>14),e[w+2]=n(h+8192>>14),e[w+1]=n(l+8192>>14),e[w]=n(a+8192>>14),w=w+4*i|0}w=4*(g+1)|0,m=(g+1)*o*4|0}}e.exports={convolveHorizontally:i,BAAIAJBt("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(t,e,o){"use strict";var n=t("./resize_filter_gen"),i=t("./convolve").convolveHorizontally,r=t("./convolve").convolveVertically;function s(t,e,o){for(var n=3,i=e*o*4|0;n<r(w,d,a,l,h,m),y||s(d,l,h),d}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(t,e,o){"use strict";var n=turn Math.round(t*((1<<i)-1))}e.exports=function(t,e,o,i,s){var a,l,h,c,u,p,f,d,g,y,v,m,w,b,k,A,T,S=n[t].filter,E=1/i,P=Math.min(1,i),x=n[t].win/P,I=Math.floor(2*(x+1)),B=new Int16Array((I+2)*o),C=0,_=!B.subarray||!B.set;for(a=0;a<o;a++){for(l=(a+.5)*E+s,h=Math.max(0,Math.floor(l-x)),u=(c=Math.min(e-1,Math.ceil(l+x)))-h+1,p=new Float32Array(u),f=new Int16Array(u),d=0,g=h,y=0;g<=c;g++,y++)d+=v=S((g+.5-l)*P),p[y]=v;for(m=0,y=0;y<p.length;y++)m+=w=p[y]/d,f[y]=r(w);for(f[o>>1]+=r(1-m),b=0;b<f.length&&0===f[b];)b++;if(b<f.length){for(k=f.length-1;k>0&&0===f[k];)k--;if(A=h+b,T=k-b+1,B[C++]=A,B[C++]=T,_)for(y=b;y<=k;y++)B[C++]=f[y];else B.set(f.subarray(b,k+1),C),C+=T}else B[C++]=0,B[C++]=0}return B}},{(e)/e*Math.sin(e/3)/(e/3)}}]},{}],8:[function(t,e,o){"use strict";vay(t.buffer,0,t.byteLength)}var s=!0;try{s=1===new Uint32Array(new Uint8Array([1[n++]=255&a,e[n++]=a>>8&255}}e.exports=function(t){var e=t.src,o=t.width,r=t.height,s=t.toWidth,l=t.toHeight,h=t.scaleX||t.toWidth/t.width,c=t.scaleY||t.toHeight/t.height,u=t.offsetX||0,p=t.offsetY||0,f=t.dest||new Uint8Array(s*l*4),d=void 0===t.quality?3:t.quality,g=t.alpha||!1,y=n(d,o,s,h,u),v=n(d,r,l,c,p),m=0,w=this.__align(m+Math.max(e.byteLength,f.byteLength)),b=this.__align(w+r*s*4),k=this.__align(b+y.byteLength),A=k+v.byteLength,T=this.__instance("resize",A),S=new Uint8Array(this.__memory.buffer),E=new Uint32Array(this.__memory.buffer),P=new Uint32Array(e.buffer);return E.set(P),a(y,S,b),a(v,S,k),(T.exports.convolveHV||T.exports._convolveHV)(b,k,w,o,r,s,l),new Uint32Array(f.buffer).set(new Uint32Array(this.__memory.buffer,0,l*s)),g||i(f,s,l),f}},{"./resize_filter_gen":6}],9:[function(timeoutId=0,this.idle=e||2e3}i.prototype.acquire=function(){var t,e=this;return 0!==this.available.length?t=this.available.pop():((t=this.create(nction(){return e.release(t)}),this.acquired[t.id]=t,t},i.prototype.release=function(t){var e=this;delete this.acquired[t.id],t.lastUsed=Date.now(),this.available.push(t),0===this.timeoutId&&(this.timeoutId=setTimeout((function(){return e.gc()}),n))},i.prototype.gc=function(){var t=this,e=Date.now();this.available=this.available.filter((function(o){return!(e-o.lastUsed>t.idle&&(o.destroy(),1))})),0!==this.available.lengut((function(){return t.gc()}),n):this.timeoutId=0},e.exports=i},{}],10:[function(t,e,o){"use strict";var n=2;e.exports=function(t,e,o,i,r,s){var a=o/t,l=i/e,h=(2*s+n+1)/r;if(h>.5)return[[o,i]];var c=Math.ceil(Math.log(Math.min(a,l))/Math.log(h));if(c<=1)return[[o,i]];for(var u=[],p=0;p<c;p++){var f=Math.round(Math.pow(Math.pow(t,c-p-1)*Math.pow(o,p+1),1/c)),d=Math.round(Math.pow(Math.pow(e,c-p-1)*Math.pow(i,p+1),1/c));u.push([f,d])}return u}},{}],11:[function(t,e,o){"use strict";var n=1e-5;function i(t){var e=Math.round(t);return Math.abs(t-e)<n?e:Math.ceil(t)}e.exports=function(t){var e,o,n,s,a,l,h=t.toWidth/t.width,c=t.toHeight/t.height,u=i(t.srcTileSize*h)-2*t.destTileBorder,p=i(t.srcTileSize*c)-2*t.destTileBorder;if(u<1||p<1)throw new Error("Internal error in pica: target tile width/height is too small.");var f,d=[];for(s=0;s<t.toHeight;s+=p)for(n=0;n<t.toWidth;n+=u)(e=n-t.destTileBorder)<0&&(e=0),e+(a=n+u+t.destTileBorder-e)>=t.toWidth&&(a=t.toWidth-e),(o=s-t.destTileBorder)<0&&(o=0),o+(l=s+p+t.destTileBorder-o)>=t.toHeight&&(l=t.toHeight-o),f={toX:e,toY:o,toWidth:a,toHeight:l,toInnerX:n,toInnerY:s,toInnerWidth:u,toInnerHeight:p,offsetX:e/h-i(e/h),offsetY:o/c-i(o/c),scaleX:h,scaleY:c,x:i(e/h),y:i(o/c),width:r(a/h),height:r(l/c)},d.push(f);return d}},{}],12:t.prototype.toStri"===e||"[object Cact HTMLImageElement]"===n(t)},e.exports.lim&o.lent){r(t),e--,n()}))})),n()})):return"medium"}returnatch((function(){return!1}))}},{}],13:[function(t,e,o){"use strict";e.exports=function(){varssage({result:i},[i.buffer])}}},{"./mathlib":1}],14:[function(t,e,o){var n,i,r,s,a,l;function h(t){t<.5&&(t=.5);var e=Math.exp(.527076)/t,o=Math.exp(-e),h=Math.exp(-2*e),c=(1-o)*(1-o)/(1+2*e*o-h);return n=c,i=c*(e-1)*o,r=c*(e+1)*o,s=-c*h,a=2*o,l=-h,new Float32Array([n,i,r,s,a,l,,s,e,o,n),c(i,t,r,s,t.prototype.constructor=t}}},{}],16:[function(t,e,o){"use strict";var n=t("object-assign"),i=t("./lib/base64decode"),r=t("./lib/wa_detect"),s={js:!0,wasm:!0};function a(t){if(!(this instanceof a))return new a(t);var e=n({},s,t||{});if(this.options=e,this.__cache={},this.__init_promise=null,this.__modules=e.modules||{},this.__memory=null,this.__wasm={},this.__isLE=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0],!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}a.prototype.has_wasm=r,a.prototype.use=function(t){return this.__modules[t.name]=t,this.options.wasm&&this.has_wasm()&&t.wasm_fn?this[t.name]=t.wasm_fn:this[t.name]=t.fn,this},a.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error('mathlib: only "wasm" was enabled, but it\'s not supported'));var t=this;return this.__init_promise=Promise.all(Object.keys(t.__modules).map((function(e){var o=t.__modules[e];return t.options.wasm&&t.has_wasm()&&o.wasm_fn?t.__wasm[e]?null:WebAssembly.compile(t.__ban((function(o){t.__wasm[e]=o})):null}))).then((function(){return t})),this.__init_promise},a.prototype.__base64deco((t-e)/65536)),this.__m{})})}return this.__cache[t]},a.prototype.__align=function(t,e){var o=t%(e=e||8);return t+(o?e-o:0)},e.exports=a},{"./lib/base64decode":17,"./lib/wa_detect":23,"object-assign":24}],17:[function(t,e,o){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.exports=function(t){for(var e=t.replace(/[\r\n=]/g,""),o=e.length,i=new Uint8Array(3*o>>2),r=0,s=0,a=0;a<o;a++)a%4==0&&a&&(i[s++]=r>>16&255,i[s++]=r>>8&255,i[s++]=255&r),r=r<<6|n.indexOf(e.charAt(a));var l=o%4*6;return 0===l?(i[s++]=r>>16&255,i[s++]=r>>8&255,i[s++]=255&r):18===l?(i[s++]=r>>10&255,i[s++]=r>>2&255):12===l&&,h[c]=257*(a+s)>>1;return h}},{}],19:[function(t,e,o){"use strict";e.exports={name:"unsharp_mask",fn:t("./unsharp_mask"),wasm_fn:t("./unsharp_mask_wasm"),wasm_src:t("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":20,"./unsharp_mask_wasm":21,"./unsharp_mask_wasm_base64":22}],20:[function(t,e,o){"use strict";var n=t("glur/mono16"),i=t("./hsl_l16");e.exports=function(t,e,o,r,s,a){var l,h,c,u,p,f,d,g,y,v,m,w,b;if(!(0===r||s<.5)){s>2&&(s=2);var k=i(t,e,o),A=new Uint16Array(k);n(A,e,o,s);for(var T=r/100*4096+.5|0,S=257*a|0,E=e*o,P=0;P<E;P++)w=2*(k[P]-A[P]),Math.abs(w)>=S&&(l=t[b=4*P],h=t[b+1],c=t[b+2],f=257*((g=l>=h&&l>=c?l:h>=l&&h>=c?h:c)+(d=l<=h&&l<=c?l:h<=l&&h<=c?h:c))>>1,d===g?u=p=0:(p=f<=32767?4095*(g-d)/(g+d)|0:4095*(g-d)/(510-g-d)|0,u=l===g?65535*(h-c)/(6*(g-d))|0:h===g?21845+(65535*(c-l)/(6*(g-d))|0):43690+(65535*(l-h)/(6*(g-d))|0)),(f+=T*w+2048>>12)>65535?f=65535:f<0&&(f=0),0===p?l=h=c=f>>8:(y=2*f-(v=f<=32767?f*(4096+p)+2048>>12:f+((65535-f)*p+2048>>12))>>8,v>>=8,l=(m=u+21845&65535)>=43690?y:m>=32767?y+(6*(v-y)*(43690-m)+32768>>16):m>=10922?v:y+(6*(v-y)*m+32768>>16),h=(m=65535&u)>=43690?y:m>=32767?y+(6*(v-y)*(43690-m)+32768>>16):m>=10922?v:y+(6*(v-y)*m+32768>>16),c=(m=u-21845&65535)>=43690?y:m>=32767?y+(6*(v-y)*(43690-m)+32768>>16):m>=10922?v:y+(6*(v-y)*m+32768>>16)),t[b]=l,t[b+1]=h,t[b+2]=c)}}},{"./hsl_l16":18,"glur/mono16":14}],21:[function(t,e,o){"use strict";e.exports=function(t,e,o,n,i,r){if(!(0===n||i<.5)){i>2&&(i=2);var s=e*o,a=4*s,l=2*s,h=2*s,c=4*Math.max(e,o),u=32,p=0,f=a,d=f+l,g=d+h,y=g+h,v=y+c,m=this.__instance("unsharp_mask",a+l+2*h+c+u,{exp:Math.exp}),w=new Uint32Array(t.buffer);new Uint32Array(this.__memory.buffer).set(w);var b=m.exports.hsl_l16||m.exports._hsl_l16;b(p,f,e,o),(b=m.exports.blurMono16||m.exports._blurMono16)(f,d,g,y,v,e,o,i),(b=m.exports.unsharp||m.exports._unsharp)(p,p,f,d,e,o,n,r),w.set(new Uint32Array(this.__memory.buffer,0,s))}}},{}],22:[function(t,e,o){"use strict";e.exports="AGFzbQEAAAABMQZgAXwBfGACfX8AYAZ/f39/f38AYAh/f39/f39/fQBgBH9/f38AYAh/f39/f39/fwACGQIDZW52A2V4cAAAA2VudgZtZW1vcnkCAAEDBgUBAgMEBQQEAXAAAAdMBRZfX2J1aWxkX2dhdXNzaWFuX2NvZWZzAAEOX19nYXVzczE2X2xpbmUAAgpibHVyTW9ubzE2AAMHaHNsX2wxNgAEB3Vuc2hhcnAABQkBAAqJEAXZAQEGfAJAIAFE24a6Q4Ia+z8gALujIgOaEAAiBCAEoCIGtjgCECABIANEAAAAAAAAAMCiEAAiBbaMOAIUIAFEAAAAAAAA8D8gBKEiAiACoiAEIAMgA6CiRAAAAAAAAPA/oCAFoaMiArY4AgAgASAEIANEAAAAAAAA8L+gIAKioiIHtjgCBCABIAQgA0QAAAAAAADwP6AgAqKiIgO2OAIIIAEgBSACoiIEtow4AgwgASACIAegIAVEAAAAAAAA8D8gBqGgIgKjtjgCGCABIAMgBKEgAqO2OAIcCwu3AwMDfwR9CHwCQCADKgIUIQkgAyoCECEKIAMqAgwhCyADKgIIIQwCQCAEQX9qIgdBAEgiCA0AIAIgAC8BALgiDSADKgIYu6IiDiAJuyIQoiAOIAq7IhGiIA0gAyoCBLsiEqIgAyoCALsiEyANoqCgoCIPtjgCACACQQRqIQIgAEECaiEAIAdFDQAgBCEGA0AgAiAOIBCiIA8iDiARoiANIBKiIBMgAC8BALgiDaKgoKAiD7Y4AgAgAkEEaiECIABBAmohACAGQX9qIgZBAUoNAAsLAkAgCA0AIAEgByAFbEEBdGogAEF+ai8BACIIuCINIAu7IhGiIA0gDLsiEqKgIA0gAyoCHLuiIg4gCrsiE6KgIA4gCbsiFKKgIg8gAkF8aioCALugqzsBACAHRQ0AIAJBeGohAiAAQXxqIQBBACAFQQF0ayEHIAEgBSAEQQF0QXxqbGohBgNAIAghAyAALwEAIQggBiANIBGiIAO4Ig0gEqKgIA8iECAToqAgDiAUoqAiDyACKgIAu6CrOwEAIAYgB2ohBiAAQX5qIQAgAkF8aiECIBAhDiAEQX9qIgRBAUoNAAsLCwvfAgIDfwZ8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIgyaEAAiDSANoCIPtjgCECAEIAxEAAAAAAAAAMCiEAAiDraMOAIUIAREAAAAAAAA8D8gDaEiCyALoiANIAwgDKCiRAAAAAAAAPA/oCAOoaMiC7Y4AgAgBCANIAxEAAAAAAAA8L+gIAuioiIQtjgCBCAEIA0gDEQAAAAAAADwP6AgC6KiIgy2OAIIIAQgDiALoiINtow4AgwgBCALIBCgIA5EAAAAAAAA8D8gD6GgIgujtjgCGCAEIAwgDaEgC6O2OAIcIAYEQCAFQQF0IQogBiEJIAIhCANAIAAgCCADIAQgBSAGEAIgACAKaiEAIAhBAmohCCAJQX9qIgkNAAsLIAVFDQAgBkEBdCEIIAUhAANAIAIgASADIAQgBiAFEAIgAiAIaiECIAFBAmohASAAQX9qIgANAAsLC7wBAQV/IAMgAmwiAwRAQQAgA2shBgNAIAAoAgAiBEEIdiIHQf8BcSECAn8gBEH/AXEiAyAEQRB2IgRB/wFxIgVPBEAgAyIIIAMgAk8NARoLIAQgBCAHIAIgA0kbIAIgBUkbQf8BcQshCAJAIAMgAk0EQCADIAVNDQELIAQgByAEIAMgAk8bIAIgBUsbQf8BcSEDCyAAQQRqIQAgASADIAhqQYECbEEBdjsBACABQQJqIQEgBkEBaiIGDQALCwvTBgEKfwJAIAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6CqIQ0gBSAEbCILBEAgB0GBAmwhDgNAQQAgAi8BACADLwEAayIGQQF0IgdrIAcgBkEASBsgDk8EQCAAQQJqLQAAIQUCfyAALQAAIgYgAEEBai0AACIESSIJRQRAIAYiCCAGIAVPDQEaCyAFIAUgBCAEIAVJGyAGIARLGwshCAJ/IAYgBE0EQCAGIgogBiAFTQ0BGgsgBSAFIAQgBCAFSxsgCRsLIgogCGoiD0GBAmwiEEEBdiERQQAhDAJ/QQAiCSAIIApGDQAaIAggCmsiCUH/H2wgD0H+AyAIayAKayAQQYCABEkbbSEMIAYgCEYEQCAEIAVrQf//A2wgCUEGbG0MAQsgBSAGayAGIARrIAQgCEYiBhtB//8DbCAJQQZsbUHVqgFBqtUCIAYbagshCSARIAcgDWxBgBBqQQx1aiIGQQAgBkEAShsiBkH//wMgBkH//wNIGyEGAkACfwJAIAxB//8DcSIFBEAgBkH//wFKDQEgBUGAIGogBmxBgBBqQQx2DAILIAZBCHYiBiEFIAYhBAwCCyAFIAZB//8Dc2xBgBBqQQx2IAZqCyIFQQh2IQcgBkEBdCAFa0EIdiIGIQQCQCAJQdWqAWpB//8DcSIFQanVAksNACAFQf//AU8EQEGq1QIgBWsgByAGa2xBBmxBgIACakEQdiAGaiEEDAELIAchBCAFQanVAEsNACAFIAcgBmtsQQZsQYCAAmpBEHYgBmohBAsCfyAGIgUgCUH//wNxIghBqdUCSw0AGkGq1QIgCGsgByAGa2xBBmxBgIACakEQdiAGaiAIQf//AU8NABogByIFIAhBqdUASw0AGiAIIAcgBmtsQQZsQYCAAmpBEHYgBmoLIQUgCUGr1QJqQf//A3EiCEGp1QJLDQAgCEH//wFPBEBBqtUCIAhrIAcgBmtsQQZsQYCAAmpBEHYgBmohBgwBCyAIQanVAEsEQCAHIQYMAQsgCCAHIAZrbEEGbEGAgAJqQRB2IAZqIQYLIAEgBDoAACABQQFqIAU6AAAgAUECaiAGOgAACyADQQJqIQMgAkECaiECIABBBGohACABQQRqIQEgC0F/aiILDQALCwsL"},{}],23:[function(t,e,o){"use strict";var n;e.exports=function(){if(void 0!==n)return n;if(n=!1,"undefined"==typeof WebAssembly)return n;try{var t=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),e=new WebAssembly.Module(t);return 0!==new WebAssembly.Instance(e,{}).exports.test(4)&&(n=!0),n(l[a[u]]=o[a[u]])}}return l}},{}],25:[function(t,e,o){var n=arguments[3],i=arguments[4],r=arguments[5],s=JSON.stringify;e.exports=function(t,e){for(var o,a=Object.keys(r),l=0,h=a.length;l<h;l++){var c=a[l],u=r[c].exports;if(u===t||u&&u.default===t){o=c;break}}if(!o){o=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var p={};for(l=0,h=a.length;l<h;l++)p[c=a[l]]=c;i[o]=["function(require,module,exports){"+t+"(self); }",p]}var f=Math.floor(Math.pow(16,8)*Math.random()).toString(16),d={};d[o]=o,i[f]=["function(require,module,exports){var f = require("+s(o)+");(f.default ? f.defavar o=i[t][1][e];g[o]||y(o)}}y(f);var v="("+i[t][0]+","+s(i[t][1])+"]"})).join(",")+"},{},["+s(f)+"])",m=window.URL||window.webkitURL||window.mozURL||window.msURL,w=new Blob([v],{type:"text/javascript"});if(e&&e.bare)return w;var b=m.createObjectURL(w),k=new Worker(b);return k.objectURL=b,k}},{}],"/":ray.isArray(t))return t}var h=t("object-assign"),c=t("webworkify"),u=t("./lib/mathlib"),p=t("./lib/pool"),f=t("./lib/utils"),d=t("./lib/worker"),g=t("./lib/stepper"),y=t("./lib/tiler"),v={},m=!1;try{"undefined"!=typeof navigator&&navigator.userAgent&&(m=navigator.userAgent.indexOf("Safari")>=0)}catch(P){}var w=1;"undefined"!=typeof navigator&&(w=Math.min(navigator.hardwareConcurrency||1,4));var b,k,A={tile:1024,concurrency:w,features:["js","wasm","ww"],idle:2e3},T={quality:3,alpha:!1,unsharpAmount:0,unsharURL(this.value.objectURL)}}}}function E(t){if(!(this instanceof E))return new E(t);this.options=h({},A,t||{});var e="lk_".concat(this.options.concurrency);this.__limit=v[e]||f.limiter(this.options.concurrency),v[e]||(v[e]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}E.prototype.init=function(){var e=this;if(this.__initPromise)return this.__initPromise;if(!1!==b&&!0!==b&&(b=!1,"undefined"!=typeof ImageData&&"undefined"!=typeof Uint8ClampedArray))try{new ImageData(new Uint8ClampedArray(400),10,10),b=!0}catch(s){}!1!==k&&!0!==k&&(k=!1,"undefined"!=typeof ImageBitmap&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?k=!0:this.debug("ImageBitmap does not support .close(), disabled")));var o=this.options.features.slice();if(o.indexOf("all")>=0&&(o=["cib","wasm","js","ww"]),this.__requested_features=o,this.__mathlib=new u(o),o.indexOf("ww")>=0&&"undefined"!=typeof window&&"Worker"in window)try{t("webworkify")((function(){})).terminate(),this.features.ww=!0;var n="wp_".concat(JSON.stringify(this.options));v[n]?this.__workersPool=v[n]:(this.__workersPool=new p(S,this.options.idle),v[n]=this.__workersPool)}catch(s){}var i,(t){h(e.features,t.features)}));retcib")>=0&&(e.features.cib=t)})):Promise.resolve(!1),this.__initPromise=Promise.all([r,i]).then((function(){return e})),this.__initPromise},E.prototype.resize=function(t,e,o){var i=this;this.debug("Start resize...");var r=h({},T);if(isNaN(o)?o&&(r=h(r,o)):r=h(r,{quality:o}),r.toWidth=e.width,r.toHeight=e.height,r.width=t.naturalWidth||t.width,r.height=t.naturalHeight||t.height,0===e.width||0===e.height)return Promise.reject(new Error("Invalid output size: ".concat(e.width,"x").concat(e.height)));r.unsharpRadius>2&&(r.unsharpRadius=2);var s=!1,a=null;r.cancelToken&&(a=r.cancelToken.then}),(function(t){throw s=!0,t})));var l=3,c=Math.ceil(Math.max(l,2.5*r.unsharpRadius|0));return this.init().then((function(){if(s)return a;if(i.features.cib){var o=e.getContext("2d",{alpha:Boolean(r.alpha)});return i.debug("Resize via createImageBitmap()"),createImageBitmap(t,{resizeWidth:r.toWidth,resizeHeight:r.toHeight,resizeQuality:f.cib_qu=null,i.debuglib.resizeAndUnsharp(t,l)}))},p=function(t,e,o){var n,r,l,h=function(e){return i.__limit((function(){if(s)return a;var h;if(f.isCanvas(t))i.debug("Get tile pixel data"),h=n.getImageData(e.x,e.y,e.width,e.height);else{i.debug("Draw tile imageBitmap/image to temporary canvas");var c=document.createElement("canvas");c.width=e.width,c.height=e.height;var p=c.getContext("2d",{alpha:Boolean(o.alpha)});p.globalCompositeOperation="copy",p.drawImage(r||t,e.x,e.y,e.width,e.height,0,0,e.width,e.height),i.debug("Get tile pixel data"),h=p.getImageData(0,0,e.width,e.height),p=c=null}var d={src:h.data,width:e.width,height:e.height,toWidth:e.toWidth,toHeight:e.toHeight,scaleX:e.scaleX,scaleY:e.scaleY,offsetX:e.offsetX,offsetY:e.offsetY,quality:o.quality,alpha:o.alpha,unsharpAmount:o.unsharpAmount,unsharpRadius:o.unsharpRadius,unsharpThreshold:o.unsharpThreshold};return i.debug("Invoke resize mthen((function(){return u(d)})).then((function(t){if(s)return a;var o;if(h=null,i.debug("Convert raw rgba tile result to ImageData"),b)o=new ImageData(new Uint8ClampedArray(t),e.toWidth,e.toHeight);else if((o=l.createImageData(e.toWidth,e.toHeight)).data.set)o.data.set(t);else for(var n=o.data.length-1;n>=0;n--)o.data[n]=t[n];return i.debug("Draw tile"),m?l.putImageData(o,e.toX,e.toY,e.toInnerX-e.toX,e.toInnerY-e.toY,e.toInnerWidth+1e-5,e.toInnerHeight+1e-5):l.putImageData(o,e.toX,e.toY,e.toInnerX-e.toX,e.toInnerY-e.toY,e.toInnerWidth,e.toInnerHeight),null}))}))};return Promise.resolve().then((function(){if(l=e.getContext("2d",{alpha:Boolean(o.alpha)}),f.isCanvas(t))return n=t.getContext("2d",{alpha:Boolean(o.alpha)}),null;if(f.isImage(t))return k?(i.debug("Decode image via createImageBitmapmap(t).thtch((function(t){return null}))):null;throw new Error('".from" should be image or canvas')})).then((function(){if(s)return a;i.debug("Calculate tiles");var t=y({width:o.width,height:o.height,srcTileSize:i.options.tile,toWidth:o.toWidth,toHeight:o.toHeight,destTileBorder:c}).maon n(){r&&(r.close(),r=null)}return i.debug("Processn e}),(function(t){throw n(),t}))}))};return function t(e,o,i,r){if(s)return a;var l,c=n(e.shift(),2),u=c[0],f=c[1],d=0===e.length;return r=h({},r,{toWidth:u,toHeight:f,quality:d?r.quality:Math.min(1,r.quality)}),d||((l=document.createElement("canvas")).width=u,l.height=f),p(o,d?i:l,r).then((function(){return d?i:(r.width=u,r.height=f,t(e,l,i,r))}))}(g(r.width,r.height,r.toWidth,r.toHeight,i.options.tile,c),t,e,r)}))},E.prototype.resizeBuffer=function(t){var e=this,o=h({},_mathlib.resizeAndUnsharp(o)}))},E.prototype.toBlob=function(t,e,o){return e=e||"image/png",new Promise((function(n){if(t.toBlob)t.toBlob((function(t){return n(t)}),e,o);else if(t.convertToBlob)n(t.convertToBlob({type:e,quality:o}));else{for(var i=atob(t.toDataURL(e,o).split(",")[1]),r=i.length,s=new Uint8Array(r),a=0;a<r;a++)s[a]=i.charCodeAt(a);n(new Blob([s],{type:e}))}}))},E.prototype.debug=function(){},e.exports=E},{"./lib/mathlib":1,"./lib/pool":9,"./lib/stepper":10,"./lib/tiler":11,"./lib/utils":12,"./lib/worker":13,"object-assign":24,webworkify:25}]},{},[])("/")},t.exports=i()}}]);