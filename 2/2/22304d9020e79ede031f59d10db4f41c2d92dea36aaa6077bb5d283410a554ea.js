"use strict";(self.webpackChunkphotobucket_web=self.webpackChunkphotobucket_web||[]).push([[1712],{64271:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(46417);function i(e){var t=e.width,n=e.height;return(0,r.jsxs)("svg",{width:t,height:n,viewBox:"0 0 114 98",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M105.708 18.8333H54.8843C53.2152 18.8333 51.6562 18.0005 50.7282 16.6131L44.904 7.90522C44.5121 7.31922 43.9812 6.83872 43.3583 6.50636C42.7354 6.174 42.0399 6.00007 41.3333 6H11.2917C10.1534 6 9.06184 6.45069 8.257 7.25293C7.45216 8.05517 7 9.14324 7 10.2778L7 78.7222C7 79.8568 7.45216 80.9448 8.257 81.7471C9.06184 82.5493 10.1534 83 11.2917 83H105.708C106.847 83 107.938 82.5493 108.743 81.7471C109.548 80.9448 110 79.8568 110 78.7222V23.1111C110 21.9766 109.548 20.8885 108.743 20.0863C107.938 19.284 106.847 18.8333 105.708 18.8333Z",fill:"url(#paint0_linear)",fillOpacity:"0.8"}),(0,r.jsx)("path",{d:"M102.042 12H55.393C53.7127 12 52.1447 11.156 51.2194 9.75345L45.96 1.7815C45.5986 1.23356 45.1089 0.784258 44.5344 0.473482C43.9599 0.162706 43.3183 6.61295e-05 42.6667 0H14.9583C13.9085 0 12.9017 0.421428 12.1594 1.17157C11.417 1.92172 11 2.93913 11 4V68C11 69.0609 11.417 70.0783 12.1594 70.8284C12.9017 71.5786 13.9085 72 14.9583 72H102.042C103.091 72 104.098 71.5786 104.841 70.8284C105.583 70.0783 106 69.0609 106 68V16C106 14.9391 105.583 13.9217 104.841 13.1716C104.098 12.4214 103.091 12 102.042 12Z",fill:"url(#paint1_linear)",fillOpacity:"0.5"}),(0,r.jsx)("path",{d:"M41.5359 14.8928L41.536 14.8929L48.1415 24.8009C49.1616 26.331 50.8788 27.25 52.7177 27.25H109.25C110.377 27.25 111.458 27.6978 112.255 28.4948C113.052 29.2918 113.5 30.3728 113.5 31.5V93.25C113.5 94.3772 113.052 95.4582 112.255 96.2552C111.458 97.0522 110.377 97.5 109.25 97.5H4.75C3.62283 97.5 2.54182 97.0522 1.7448 96.2552C0.947767 95.4582 0.5 94.3772 0.5 93.25V17.25C0.5 16.1228 0.947767 15.0418 1.7448 14.2448C2.54183 13.4478 3.62283 13 4.75 13H38C38.6996 13.0001 39.3884 13.1729 40.0053 13.5031C40.6221 13.8333 41.1479 14.3107 41.5359 14.8928Z",fill:"url(#paint2_linear)",stroke:"url(#paint3_diamond)"}),(0,r.jsx)("path",{d:"M71.2822 49L99.2822 85H38.2822L71.2822 49Z",fill:"url(#paint4_linear)"}),(0,r.jsx)("path",{d:"M37 56L59 85H17L37 56Z",fill:"url(#paint5_linear)"}),(0,r.jsx)("circle",{cx:"99",cy:"44",r:"5",fill:"url(#paint6_linear)",fillOpacity:"0.4"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"paint0_linear",x1:"136.265",y1:"39.7124",x2:"59.7924",y2:"79.8056",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:"0.136937",stopColor:"#B6CEFC"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#C2E4FF"})]}),(0,r.jsxs)("linearGradient",{id:"paint1_linear",x1:"130.225",y1:"31.5233",x2:"59.2782",y2:"68.2128",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:"0.136937",stopColor:"#B6CEFC"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#C2E4FF"})]}),(0,r.jsxs)("linearGradient",{id:"paint2_linear",x1:"143.07",y1:"49.9339",x2:"51.3013",y2:"102.3",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:"0.136937",stopColor:"#9FBEFA"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#C2E4FF"})]}),(0,r.jsxs)("radialGradient",{id:"paint3_diamond",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(6.00001 13) rotate(65.3981) scale(150.128 200.171)",children:[(0,r.jsx)("stop",{stopColor:"white"}),(0,r.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),(0,r.jsxs)("linearGradient",{id:"paint4_linear",x1:"-5.03583e-07",y1:"54",x2:"99",y2:"92.5",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#C5D8FE"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#84A9EF"})]}),(0,r.jsxs)("linearGradient",{id:"paint5_linear",x1:"-5.03583e-07",y1:"54",x2:"99",y2:"92.5",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#C5D8FE"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#84A9EF"})]}),(0,r.jsxs)("linearGradient",{id:"paint6_linear",x1:"94",y1:"43.0446",x2:"100.356",y2:"49.8326",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#7EABFF"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#B0CBFF"})]})]})]})}i.defaultProps={width:114,height:98}},1712:function(e,t,n){n.r(t),n.d(t,{default:function(){return oe}});var r,i=n(61511),o=n(61113),s=n(19655),a=n(16031),l=n(58467),c=n(17455),d=n(28422),u=n(31805),h=n(15861),p=n(1413),x=n(64687),f=n.n(x),v=n(36241),g=n(19860),m=n(24813),j=n(47313),C=n(8566),w=n(17189),b=n(72657),k=n(91345),y=n(29439),Z=n(74866),E=n(22982),I=n(73428),M=n(93405),S=n(47131),T=n(73984),F=n(56854),U=n(61689),L=n(57829),D=n(85281),_=n(70816),B=n.n(_),P=n(28297),A=n(64271),O=n(59824),H=n(27545),R=n(43997),z=n(44590),N=n(85582),G=n(51405),V=n(4906);!r||(r={}));var Y=n(46417),q=(0,V.Z)(o.Z)(();function Q(e){var t=e.share,n=(0,j.useState)(null),i=(0,y.Z)(n,2),o=i[0],s=i[1],a=function l(e){e===r.DELETE&&((0,k.PJ)(t.id),(0,k._$)("bucketMediaShareDelete")),e===r.EDIT&&((0,k.PJ)(t.id),(0,k._$)("bucketMediaShareUpdate")),a()}return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(S.Z,{"aria-label":"Share Link Actions",color:"secondary",onClick:"data-test":"sharelink-actions-".concat(t.id),size:"small",children:(0,Y.jsx)(R.Z,{})}),(0,Y.jsxs)(N.Z,{anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:a,"data-test":"bucket-actions-menu",children:[(0,Y.jsxs)(G.Z,{"data-test":"actions-resend-invite",id:"actions-resend-invite",onClick:function(){return l(r.EDIT)},children:[(0,Y.jsx)(H.Z,{}),(0,Y.jsx)(q,{variant:"subtitle2",children:"Edit Date and Title"})]}),(0,Y.jsxs)(G.Z,{"data-test":"actions-delete",id:"actions-delete",onClick:children:[(0,Y.jsx)(z.Z,{}),(0,Y.jsx)(q,{variant:"subtitle2",children:"Stop Sharing"})]})]})]})}var W=n(69405);function J(e){var t=e.thumbnails,n=e.boundary,r=e.handleClick,i=function(e){e.stopPropagation(),e.currentTarget.src=O.N,e.currentTarget.srcset=O.N};return null!==t&&void 0!==t&&t.length?(0,Y.jsx)(L.Z,{sx:{cursor:"pointer"},onClick:r,children:(0,Y.jsx)(T.Z,{sx:{width:n,height:n,margin:0,overflow:"hidden"},variant:"quilted",cols:2,rowHeight:Math.floor(Number(n||0)/2),children:t.map((function(e,n){var r,o=e.imageUrl,s=function(e,t){var n={0:{cols:1,rows:1},1:{cols:1,rows:1},2:{cols:1,rows:1},3:{cols:1,rows:1}};switch(e){case 1:n[0]={cols:2,rows:2};break;case 2:n[0]={cols:1,rows:2},n[1]={cols:1,rows:2};break;case 3:n[0]={cols:1,rows:1},n[1]={cols:1,rows:2},n[2]={cols:1,rows:1}}return n[t]}(t.length,n),a=s.cols,l=s.rows;return o?(0,Y.jsx)(F.Z,{cols:a,rows:l,children:(0,Y.jsx)("img",{src:o,alt:null!==(r=e.title)&&void 0!==r?r:"",onError:i,loading:"lazy"})},e.id):null}))})}):(0,Y.jsx)(T.Z,{sx:{width:n,height:n,margin:0},cols:1,rowHeight:Number(n||0),onClick:r,children:(0,Y.jsx)(F.Z,{cols:1,rows:1,sx:{justifyContent:"center",alignItems:"center"},children:(0,Y.jsx)(A.Z,{})})})}function $(e){var t,n,r=e.data,i=e.rowIndex,s=e.columnIndex,a=e.style,c=(0,l.s0)(),d=(0,j.useState)(!1),u=(0,y.Z)(d,2),p=u[0],x=u[1],v=r.items,g=r.isAdmin,m=r.userId,C=v[i*r.zoom+s],w=(null===C||void 0===C?void 0:C.userId)===m,b=(0,W.Z)(null===C||void 0===C?void 0:C.id),k=b.items,T=b.loading;if(!C)return null;var F=C.scheduledDeletionAt?B()(C.scheduledDeletionAt).format("MM/DD/YY"):null,L=function(){var e=(0,h.Z)(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://".concat(P.Fd,"/share/").concat(null===C||void 0===C?void 0:C.id),n=new ClipboardItem({"text/plain":new Blob([t],{type:"text/plain"})}),e.next=4,navigator.clipboard.write([n]);case 4:x(!0),setTimeout((,3e3);case 6:case"end":return e.stop()}}),e)})));return ();return(0,Y.jsx)("div",{style:a,children:(0,Y.jsxs)(I.Z,{sx:{margin:"10px"},children:[(0,Y.jsx)(J,{thumbnails:null!==(t=C.thumbnails)&&void 0!==t?t:[],boundary:Number(a.width),handleClick:function(){c("/share/".concat(null===C||void 0===C?void 0:C.id))}}),(0,Y.jsxs)(M.Z,{children:[(0,Y.jsx)(o.Z,{variant:"h6",gutterBottom:!0,sx:{maxWidth:"100%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:C.title?C.title:"Untitled"}),T?(0,Y.jsx)(D.Z,{size:20}):(0,Y.jsxs)(o.Z,{variant:"body2",children:[null!==(n=k.length)&&void 0!==n?n:0," Items"]}),F?(0,Y.jsxs)(o.Z,{variant:"body2",children:["Expires ",F]}):(0,Y.jsx)(o.Z,{variant:"body2",children:"No expiration date"}),(0,Y.jsxs)(o.Z,{variant:"body2",children:["Created By: ",w?"You":C.userId]}),(0,Y.jsxs)("div",{style:{position:"relative",width:"100%",textAlign:"right",marginTop:"5px"},children:[(0,Y.jsx)(S.Z,{size:"small",onClick:function(){window.open("https://".concat(P.Fd,"/share/").concat(null===C||void 0===C?void 0:C.id),"_blank")},children:(0,Y.jsx)(U.Z,{title:"Public Link Page",arrow:!0,children:(0,Y.jsx)(Z.Z,{fontSize:"inherit"})})}),(0,Y.jsx)(S.Z,{size:"small",onClick:L,children:(0,Y.jsx)(U.Z,{title:p?"Copied!":"Copy Link",children:(0,Y.jsx)(E.Z,{fontSize:"inherit",color:p?"success":"inherit"})})}),(g||w)&&(0,Y.jsx)(Q,{share:C})]})]})]})})}var X=(0,j.forwardRef)((function(e,t){var n=e.children,r=e.style,i=e.onScroll,o=(0,j.useRef)(0);return(0,Y.jsx)("div",{id:"gallery",style:(0,p.Z)((0,p.Z)({},r),{},{overflowX:"hidden"}),onScroll:function(e){var t=e.currentTarget.scrollTop;t>100&&t>o.current?(0,k.MD)("down"):(0,k.MD)("up"),o.current=e.currentTarget.scrollTop,i(e)},ref:t,children:n})})),K=(0,j.forwardRef)((function(e,t){var n=e.style,r=e.children;return(0,Y.jsx)("div",{ref:t,style:n,children:r})}));function ee(e){var t=e.items,n=e.fetchMore,r=e.hasMore,i=e.isAdmin,o=e.userId,s=v.isMobile?0:14,a=l=(0,j.useRef)(null),c=(0,g.Z)(),d=(0,m.Z)(c.breakpoints.up("sm")),u=(0,m.Z)(c.breakpoints.up("md")),p=(0,m.Z)(c.breakpoints.up("lg")),x=(0,m.Z)(c.breakpoints.up("xl")),k=function(){var e=(0,h.Z)(f().mark((function e(r,i){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t[i]||n();case 1:case"end":return e.stop()}}),e)})));return (),y=1;return x?y=5:p?y=4:u?y=3:d&&(y=2),(0,Y.jsx)("div",{style:{flex:1,position:"relative"},children:(0,Y.jsx)(C.Z,{children:function(e){var n=e.height,c=e.width;return c&&n?(0,Y.jsx)(b.Z,{isItemLoaded:a,itemCount:t.length+Number(r),loadMoreItems:k,children:function(e){var r=e.onItemsRendered,a=e.ref;return(0,Y.jsx)(w.Ym,{columnCount:y,columnWidth:Math.floor(c/y)-Math.floor(s/y),height:n,innerElementType:K,itemData:{items:t,isAdmin:i,userId:o,zoom:y},ref:outerElementType:X,rowCount:Math.ceil(t.length/y),rowHeight:Math.floor(c/y)-Math.floor(s/y)+200,width:c,onItemsRendered:function(e){var t=e.overscanRowStartIndex*y,n=e.overscanRowStopIndex*y,i=e.visibleRowStartIndex*y,o=e.visibleRowStopIndex*y;r({overscanStartIndex:t,overscanStopIndex:n,visibleStartIndex:i,visibleStopIndex:o})},children:$})}}):(0,Y.jsx)("div",{})}})})}var te=n(72668),ne=n(25258),re=n(80082);function ie(){var e=function(){var e,t,n,r,i,o=(0,re.Z)().createAlert,s=(0,l.UO)().bucketId,c=(0,te.a)(d.Nky,{skip:!s,variables:{bucketId:s},onError:function(e){e.graphQLErrors.length?e.graphQLErrors.forEach((function(e){o(e.message,"error",e)})):(o("There was a problem retrieving your bucket shares. Please try again later."),ne.Z.error(e))}}),u=null!==(e=null===(t=c.data)||void 0===t||null===(n=t.bucketShares)||void 0===n?void 0:n.items)&&void 0!==e?e:[],h=null===(r=c.data)||void 0===r||null===(i=r.bucketShares)||void 0===i?void 0:i.nextToken,p=!c.called||c.loading,x=(0,a.debounce)((function(){h&&c.fetchMore({variables:{nextToken:h}})}),500,{leading:!0});return{items:u,nextToken:h,loading:p,fetchMore:x}}(),t=e.items,n=e.loading,r=e.fetchMore,u=e.nextToken,h=(0,s.v0)().currentUser,p=null===h||void 0===h?void 0:h.uid,x=(0,l.UO)().bucketId,f=(0,i.x)().readFragment({id:"BucketUser:".concat(x,":").concat(p),fragment:d.ezV,fragmentName:"BucketUserFragment"}),v=(null===f||void 0===f?void 0:f.userRole)===d.PMe.Admin||(null===f||void 0===f?void 0:f.userRole)===d.PMe.Owner;return n||!p?(0,Y.jsx)(c.Z,{}):(0,a.isEmpty)(t)?(0,Y.jsx)(o.Z,{align:"center",variant:"h5",sx:{marginTop:12},children:"This bucket has no shares"}):(0,Y.jsx)(ee,{items:t,fetchMore:r,hasMore:!!u,isAdmin:v,userId:p})},88777:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(93433),i=n(90297),o=n(18248),s=n(91345);function a(){var e=(0,i.l)(s.sh);return{createAlert:function(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=t,c=null===(n=(null===a||void 0===a?void 0:a.extensions).http)||void 0===n?void 0:n.status;switch(c){case 400:l="Bad request. Please check your request and try again.";break;case 401:l="You are not authenticated. Please log in to continue.";break;case 403:l="You do not have permission to perform this action.";break;case 404:l="The requested resource was not found.";break;case 408:l="Request timeout. Please try again later.";break;case 500:l="Internal server error. Please try again later.";break;case 502:l="Bad gateway. Please try again later.";break;case 503:l="Service unavailable. Please try again later.";break;case 504:l="Gateway timeout. Please check your network connection."}var d={id:(0,o.Z)(),message:l,severity:i};(0,s.sh)([].concat((0,r.Z)(e),[d]))}}}},69405:function(e,t,n){n.d(t,{Z:);var r=n(72668),i=n(16031),o=n(58467),s=n(28422),a=n(25258),l=n(88777);function c(e){var t,n,c,d,u,h=(0,o.UO)(),p=null!==e&&void 0!==e?e:null===h||void 0===h?void 0:h.shareId,x=(0,l.Z)().createAlert,f=(0,r.a)(s.PNB,{skip:!p,variables:{shareId:p},onError:function(e){e.graphQLErrors.length?e.graphQLErrors.forEach(():(x("There was a problem retrieving your share media. Please try again later."),a.Z.error(e))}}),v=null!==(t=null===(n=f.data)||void 0===n||null===(c=n.bucketMediaByShareId)||void 0===c?void 0:c.items)&&void 0!==t?t:[],g=null===(d=f.data)||void 0===d||null===(u=d.bucketMediaByShareId)||void 0===u?void 0:u.nextToken;return{items:v,loading:!f.called||f.loading,fetchMore:(0,i.debounce)((function(){g&&f.fetchMore({variables:{nextToken:g}})}),500,{leading:!0}),nextToken:g}}}}]);