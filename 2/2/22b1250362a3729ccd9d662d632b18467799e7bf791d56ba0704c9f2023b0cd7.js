_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{"0x2a":function(t,n){function _extends(){return t.exports=_extends=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var y=arguments[n];for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(t[w]=y[w])}return t},_extends.apply(this,arguments)}t.exports=_extends},"3vO/":function(t,n){Promise.prototype.finally=function(t){if("function"!=typeof t)return this.then(t,t);var n=this.constructor||Promise;return this.then((function(y){return n.resolve(t()).then((function(){return y}))}),(function(y){return n.resolve(t()).then((function(){throw y}))}))}},"4F+t":function(t,n,y){"use strict";n.__esModule=!0,n.default=function escapePathDelimiters(t){return t.replace(/[/#?]/g,(function(t){return encodeURIComponent(t)}))}},H3UU:function(t,n,y){"use strict";y.r(n),y.d(n,"getCLS",(function(){return p})),y.d(n,"getFCP",(function(){return m})),y.d(n,"getFID",(function(){return v})),y.d(n,"getLCP",(function(){return g})),y.d(n,"getTTFB",(function(){return h}));var w,_,e=function(){return"".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)},i=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return{name:t,value:n,delta:0,entries:[],id:e(),isFinal:!1}},a=function(t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var y=new PerformanceObserver((function(t){return t.getEntries().map(n)}));return y.observe({type:t,buffered:!0}),y}}catch(t){}},E=!1,x=!1,s=function(t){E=!t.persisted},u=function(){addEventListener("pagehide",s),addEventListener("unload",(function(){}))},c=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];x||(u(),x=!0),addEventListener("visibilitychange",(function(n){var y=n.timeStamp;"hidden"===document.visibilityState&&t({timeStamp:y,isUnloading:E})}),{capture:!0,once:n})},l=function(t,n,y,w){var _;return function(){y&&n.isFinal&&y.disconnect(),n.value>=0&&(w||n.isFinal||"hidden"===document.visibilityState)&&(n.delta=n.value-(_||0),(n.delta||n.isFinal||void 0===_)&&(t(n),_=n.value))}},p=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],y=i("CLS",0),r=function(t){t.hadRecentInput||(y.value+=t.value,y.entries.push(t),_())},w=a("layout-shift",r),_=l(t,y,w,n);c((function(t){var n=t.isUnloading;w&&w.takeRecords().map(r),n&&(y.isFinal=!0),_()}))},d=function(){return void 0===w&&(w="hidden"===document.visibilityState?0:1/0,c((function(t){var n=t.timeStamp;return w=n}),!0)),{get timeStamp(){return w}}},m=function(t){var n=i("FCP"),y=d(),w=a("paint",(function(t){"first-contentful-paint"===t.name&&t.startTime<y.timeStamp&&(n.value=t.startTime,n.isFinal=!0,n.entries.push(t),_())})),_=l(t,n,w)},v=function(t){var n=i("FID"),y=d(),r=function(t){t.startTime<y.timeStamp&&(n.value=t.processingStart-t.startTime,n.entries.push(t),n.isFinal=!0,_())},w=a("first-input",r),_=l(t,n,w);c((function(){w&&(w.takeRecords().map(r),w.disconnect())}),!0),w||window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(t,w){w.timeStamp<y.timeStamp&&(n.value=t,n.isFinal=!0,n.entries=[{entryType:"first-input",name:w.type,target:w.target,cancelable:w.cancelable,startTime:w.timeStamp,processingStart:w.timeStamp+t}],_())}))},f=function(){return _||(_=new Promise((function(t){return["scroll","keydown","pointerdown"].map((function(n){addEventListener(n,t,{once:!0,passive:!0,capture:!0})}))}))),_},g=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],y=i("LCP"),w=d(),o=function(t){var n=t.startTime;n<w.timeStamp?(y.value=n,y.entries.push(t)):y.isFinal=!0,E()},_=a("largest-contentful-paint",o),E=l(t,y,_,n),p=function(){y.isFinal||(_&&_.takeRecords().map(o),y.isFinal=!0,E())};f().then(p),c(p,!0)},h=function(t){var n,y=i("TTFB");n=function(){try{var n=performance.getEntriesByType("navigation")[0]||function(){var t=performance.timing,n={entryType:"navigation",startTime:0};for(var y in t)"navigationStart"!==y&&"toJSON"!==y&&(n[y]=Math.max(t[y]-t.navigationStart,0));return n}();y.value=y.delta=n.responseStart,y.entries=[n],y.isFinal=!0,t(y)}catch(t){}},"complete"===document.readyState?setTimeout(n,0):addEventListener("pageshow",n)}},LPHK:function(t,n,y){"use strict";n.__esModule=!0,n.default=function initHeadManager(){var t=null;return{mountedInstances:new Set,updateHead:function updateHead(n){var y=t=Promise.resolve().then((function(){if(y===t){t=null;var w={};n.forEach((function(t){var n=w[t.type]||[];n.push(t),w[t.type]=n}));var _=w.title?w.title[0]:null,E="";if(_){var x=_.props.children;E="string"==typeof x?x:x.join("")}E!==document.title&&(document.title=E),["meta","base","link","style","script"].forEach((function(t){!function updateElements(t,n){var y=document.getElementsByTagName("head")[0],w=y.querySelector("meta[name=next-head-count]");0;for(var _=Number(w.content),E=[],x=0,S=w.previousElementSibling;x<_;x++,S=S.previousElementSibling)S.tagName.toLowerCase()===t&&E.push(S);var b=n.map(reactElementToDOM).filter((function(t){for(var n=0,y=E.length;n<y;n++){if(E[n].isEqualNode(t))return E.splice(n,1),!1}return!0}));E.forEach((function(t){return t.parentNode.removeChild(t)})),b.forEach((function(t){return y.insertBefore(t,w)})),w.content=(_-E.length+b.length).toString()}(t,w[t]||[])}))}}))}}};var w={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"};function reactElementToDOM(t){var n=t.type,y=t.props,_=document.createElement(n);for(var E in y)if(y.hasOwnProperty(E)&&"children"!==E&&"dangerouslySetInnerHTML"!==E&&void 0!==y[E]){var x=w[E]||E.toLowerCase();_.setAttribute(x,y[E])}var S=y.children,b=y.dangerouslySetInnerHTML;return b?_.innerHTML=b.__html||"":S&&(_.textContent="string"==typeof S?S:S.join("")),_}},LwBP:function(t,n,y){"use strict";var w=y("HIQq")(y("fLxa"));window.next=w,(0,w.default)().catch(console.error)},ShKa:function(t,n,y){"use strict";n.__esModule=!0,n.default=function getAssetPathFromRoute(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",y="/"===t?"/index":/^\/index(\/|$)/.test(t)?"/index".concat(t):"".concat(t);return y+n}},ZQgW:function(t,n,y){"use strict";var w=y("fwM5"),_=y("bkNG"),E=y("mYab");n.__esModule=!0,n.default=n.looseToArray=void 0;var x=E(y("Jxiz")),S=y("a4i1"),b=E(y("4F+t")),P=E(y("ShKa")),k=y("BCwt"),R=y("eU9b"),T=y("PsvV"),C=y("VOyh"),L=y("BukW"),A=function looseToArray(t){return[].slice.call(t)};function hasRel(t,n){try{return document.createElement("link").relList.supports(t)}catch(t){}}function pageLoadError(t){return(0,S.markLoadingError)(new Error("Error loading ".concat(t)))}n.looseToArray=A;var N=hasRel("preload")&&!hasRel("prefetch")?"preload":"prefetch",I=hasRel("preload")?"preload":N;document.createElement("script");function normalizeRoute(t){if("/"!==t[0])throw new Error('Route name should start with a "/", got "'.concat(t,'"'));return"/"===t?t:t.replace(/\/$/,"")}function appendLink(t,n,y,w){return new Promise((function(_,E){w=document.createElement("link"),y&&(w.as=y),w.rel=n,w.crossOrigin="anonymous",w.onload=_,w.onerror=E,w.href=t,document.head.appendChild(w)}))}var F=function(){function PageLoader(t,n,y){w(this,PageLoader),this.initialPage=void 0,this.buildId=void 0,this.assetPrefix=void 0,this.pageCache=void 0,this.pageRegisterEvents=void 0,this.loadingRoutes=void 0,this.promisedBuildManifest=void 0,this.promisedSsgManifest=void 0,this.promisedDevPagesManifest=void 0,this.initialPage=y,this.buildId=t,this.assetPrefix=n,this.pageCache={},this.pageRegisterEvents=(0,x.default)(),this.loadingRoutes={"/_app":!0},"/_error"!==y&&(this.loadingRoutes[y]=!0),this.promisedBuildManifest=new Promise((function(t){window.__BUILD_MANIFEST?t(window.__BUILD_MANIFEST):window.__BUILD_MANIFEST_CB=function(){t(window.__BUILD_MANIFEST)}})),this.promisedSsgManifest=new Promise((function(t){window.__SSG_MANIFEST?t(window.__SSG_MANIFEST):window.__SSG_MANIFEST_CB=function(){t(window.__SSG_MANIFEST)}}))}return _(PageLoader,[{key:"getPageList",value:function getPageList(){return this.promisedBuildManifest.then((function(t){return t.sortedPages}))}},{key:"getDependencies",value:function getDependencies(t){var n=this;return this.promisedBuildManifest.then((function(y){return y[t]?y[t].map((function(t){return"".concat(n.assetPrefix,"/_next/").concat(encodeURI(t))})):Promise.reject(pageLoadError(t))}))}},{key:"getDataHref",value:function getDataHref(t,n,y){var w,_=this,E=(0,R.parseRelativeUrl)(t),x=E.pathname,A=E.searchParams,N=E.search,I=(0,T.searchParamsToUrlQuery)(A),F=(0,R.parseRelativeUrl)(n).pathname,M=normalizeRoute(x),D=function getHrefForSlug(t){var n=(0,P.default)(t,".json");return(0,S.addBasePath)("/_next/data/".concat(_.buildId).concat(n).concat(y?"":N))},B=(0,k.isDynamicRoute)(M);if(B){var O=(0,L.getRouteRegex)(M),G=O.groups,j=(0,C.getRouteMatcher)(O)(F)||I;w=M,Object.keys(G).every((function(t){var n=j[t]||"",y=G[t],_=y.repeat,E=y.optional,x="[".concat(_?"...":"").concat(t,"]");return E&&(x="".concat(n?"":"/","[").concat(x,"]")),_&&!Array.isArray(n)&&(n=[n]),(E||t in j)&&(w=w.replace(x,_?n.map(b.default).join("/"):(0,b.default)(n))||"/")}))||(w="")}return B?w&&D(w):D(M)}},{key:"prefetchData",value:function prefetchData(t,n){var y=this,w=normalizeRoute((0,R.parseRelativeUrl)(t).pathname);return this.promisedSsgManifest.then((function(_,E){return _.has(w)&&(E=y.getDataHref(t,n,!0))&&!document.querySelector('link[rel="'.concat(N,'"][href^="').concat(E,'"]'))&&appendLink(E,N,"fetch").catch((function(){}))}))}},{key:"loadPage",value:function loadPage(t){var n=this;return t=normalizeRoute(t),new Promise((function(y,w){var _=n.pageCache[t];if(_)"error"in _?w(_.error):y(_);else{var E=function fire(_){n.pageRegisterEvents.off(t,fire),delete n.loadingRoutes[t],"error"in _?w(_.error):y(_)};if(n.pageRegisterEvents.on(t,E),!n.loadingRoutes[t])n.loadingRoutes[t]=!0,n.getDependencies(t).then((function(t){var n=[];return t.forEach((function(t){t.endsWith(".js")&&!document.querySelector('script[src^="'.concat(t,'"]'))&&n.push(function loadScript(t){return new Promise((function(n,y){var w=document.createElement("script");w.crossOrigin="anonymous",w.src=t,w.onload=n,w.onerror=function(){return y(pageLoadError(t))},document.body.appendChild(w)}))}(t)),t.endsWith(".css")&&!document.querySelector('link[rel="'.concat(I,'"][href^="').concat(t,'"]'))&&appendLink(t,I,"fetch").catch((function(){}))})),Promise.all(n)})).catch((function(y){n.pageCache[t]={error:y},E({error:y})}))}}))}},{key:"registerPage",value:function registerPage(t,n){var y=this;var w=t===this.initialPage;("/_app"===t?Promise.resolve([]):(w?Promise.resolve(A(document.querySelectorAll("link[data-n-p]")).map((function(t){return t.getAttribute("href")}))):this.getDependencies(t).then((function(t){return t.filter((function(t){return t.endsWith(".css")}))}))).then((function(t){return Promise.all(t.map((function(t){return function fetchStyleSheet(t){return fetch(t).then((function(n){if(!n.ok)throw pageLoadError(t);return n.text().then((function(n){return{href:t,text:n}}))}))}(t)}))).catch((function(t){if(w)return function getInitialStylesheets(){return A(document.styleSheets).filter((function(t){return t.ownerNode&&"LINK"===t.ownerNode.tagName&&t.ownerNode.hasAttribute("data-n-p")})).map((function(t){return{href:t.ownerNode.getAttribute("href"),text:A(t.cssRules).map((function(t){return t.cssText})).join("")}}))}();throw t}))}))).then((function(w){return function register(w){try{var _=n(),E={page:_.default||_,mod:_,styleSheets:w};y.pageCache[t]=E,y.pageRegisterEvents.emit(t,E)}catch(n){y.pageCache[t]={error:n},y.pageRegisterEvents.emit(t,{error:n})}}(w)}),(function(n){y.pageCache[t]={error:n},y.pageRegisterEvents.emit(t,{error:n})}))}},{key:"prefetch",value:function prefetch(t,n){var y,w,_=this;if((y=navigator.connection)&&(y.saveData||/2g/.test(y.effectiveType)))return Promise.resolve();if(n)w=t;else;return Promise.all(document.querySelector('link[rel="'.concat(N,'"][href^="').concat(w,'"]'))?[]:[w&&appendLink(w,N,w.endsWith(".css")?"fetch":"script"),!n&&this.getDependencies(t).then((function(t){return Promise.all(t.map((function(t){return _.prefetch(t,!0)})))}))]).then((function(){}),(function(){}))}}]),PageLoader}();n.default=F},fLxa:function(t,n,y){"use strict";var w=y("ZClQ"),_=y("fwM5"),E=y("bkNG"),x=y("5YB7"),S=y("Y8Bl"),b=y("7osH"),P=y("yXh+");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return t};var t={},n=Object.prototype,y=n.hasOwnProperty,w=Object.defineProperty||function(t,n,y){t[n]=y.value},_="function"==typeof Symbol?Symbol:{},E=_.iterator||"@@iterator",x=_.asyncIterator||"@@asyncIterator",S=_.toStringTag||"@@toStringTag";function define(t,n,y){return Object.defineProperty(t,n,{value:y,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{define({},"")}catch(t){define=function define(t,n,y){return t[n]=y}}function wrap(t,n,y,_){var E=n&&n.prototype instanceof Generator?n:Generator,x=Object.create(E.prototype),S=new Context(_||[]);return w(x,"_invoke",{value:makeInvokeMethod(t,y,S)}),x}function tryCatch(t,n,y){try{return{type:"normal",arg:t.call(n,y)}}catch(t){return{type:"throw",arg:t}}}t.wrap=wrap;var b={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var P={};define(P,E,(function(){return this}));var k=Object.getPrototypeOf,R=k&&k(k(values([])));R&&R!==n&&y.call(R,E)&&(P=R);var T=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(P);function defineIteratorMethods(t){["next","throw","return"].forEach((function(n){define(t,n,(function(t){return this._invoke(n,t)}))}))}function AsyncIterator(t,n){var _;w(this,"_invoke",{value:function value(w,E){function callInvokeWithMethodAndArg(){return new n((function(_,x){!function invoke(w,_,E,x){var S=tryCatch(t[w],t,_);if("throw"!==S.type){var b=S.arg,P=b.value;return P&&"object"==typeof P&&y.call(P,"__await")?n.resolve(P.__await).then((function(t){invoke("next",t,E,x)}),(function(t){invoke("throw",t,E,x)})):n.resolve(P).then((function(t){b.value=t,E(b)}),(function(t){return invoke("throw",t,E,x)}))}x(S.arg)}(w,E,_,x)}))}return _=_?_.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(t,n,y){var w="suspendedStart";return function(_,E){if("executing"===w)throw new Error("Generator is already running");if("completed"===w){if("throw"===_)throw E;return doneResult()}for(y.method=_,y.arg=E;;){var x=y.delegate;if(x){var S=maybeInvokeDelegate(x,y);if(S){if(S===b)continue;return S}}if("next"===y.method)y.sent=y._sent=y.arg;else if("throw"===y.method){if("suspendedStart"===w)throw w="completed",y.arg;y.dispatchException(y.arg)}else"return"===y.method&&y.abrupt("return",y.arg);w="executing";var P=tryCatch(t,n,y);if("normal"===P.type){if(w=y.done?"completed":"suspendedYield",P.arg===b)continue;return{value:P.arg,done:y.done}}"throw"===P.type&&(w="completed",y.method="throw",y.arg=P.arg)}}}function maybeInvokeDelegate(t,n){var y=n.method,w=t.iterator[y];if(void 0===w)return n.delegate=null,"throw"===y&&t.iterator.return&&(n.method="return",n.arg=void 0,maybeInvokeDelegate(t,n),"throw"===n.method)||"return"!==y&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+y+"' method")),b;var _=tryCatch(w,t.iterator,n.arg);if("throw"===_.type)return n.method="throw",n.arg=_.arg,n.delegate=null,b;var E=_.arg;return E?E.done?(n[t.resultName]=E.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,b):E:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function pushTryEntry(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function resetTryEntry(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t){var n=t[E];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var w=-1,_=function next(){for(;++w<t.length;)if(y.call(t,w))return next.value=t[w],next.done=!1,next;return next.value=void 0,next.done=!0,next};return _.next=_}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,w(T,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),w(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,S,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===GeneratorFunction||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,S,"GeneratorFunction")),t.prototype=Object.create(T),t},t.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,x,(function(){return this})),t.AsyncIterator=AsyncIterator,t.async=function(n,y,w,_,E){void 0===E&&(E=Promise);var x=new AsyncIterator(wrap(n,y,w,_),E);return t.isGeneratorFunction(y)?x:x.next().then((function(t){return t.done?t.value:x.next()}))},defineIteratorMethods(T),define(T,S,"Generator"),define(T,E,(function(){return this})),define(T,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=Object(t),y=[];for(var w in n)y.push(w);return y.reverse(),function next(){for(;y.length;){var t=y.pop();if(t in n)return next.value=t,next.done=!1,next}return next.done=!0,next}},t.values=values,Context.prototype={constructor:Context,reset:function reset(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!t)for(var n in this)"t"===n.charAt(0)&&y.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var n=this;function handle(y,w){return E.type="throw",E.arg=t,n.next=y,w&&(n.method="next",n.arg=void 0),!!w}for(var w=this.tryEntries.length-1;w>=0;--w){var _=this.tryEntries[w],E=_.completion;if("root"===_.tryLoc)return handle("end");if(_.tryLoc<=this.prev){var x=y.call(_,"catchLoc"),S=y.call(_,"finallyLoc");if(x&&S){if(this.prev<_.catchLoc)return handle(_.catchLoc,!0);if(this.prev<_.finallyLoc)return handle(_.finallyLoc)}else if(x){if(this.prev<_.catchLoc)return handle(_.catchLoc,!0)}else{if(!S)throw new Error("try statement without catch or finally");if(this.prev<_.finallyLoc)return handle(_.finallyLoc)}}}},abrupt:function abrupt(t,n){for(var w=this.tryEntries.length-1;w>=0;--w){var _=this.tryEntries[w];if(_.tryLoc<=this.prev&&y.call(_,"finallyLoc")&&this.prev<_.finallyLoc){var E=_;break}}E&&("break"===t||"continue"===t)&&E.tryLoc<=n&&n<=E.finallyLoc&&(E=null);var x=E?E.completion:{};return x.type=t,x.arg=n,E?(this.method="next",this.next=E.finallyLoc,b):this.complete(x)},complete:function complete(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),b},finish:function finish(t){for(var n=this.tryEntries.length-1;n>=0;--n){var y=this.tryEntries[n];if(y.finallyLoc===t)return this.complete(y.completion,y.afterLoc),resetTryEntry(y),b}},catch:function _catch(t){for(var n=this.tryEntries.length-1;n>=0;--n){var y=this.tryEntries[n];if(y.tryLoc===t){var w=y.completion;if("throw"===w.type){var _=w.arg;resetTryEntry(y)}return _}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,n,y){return this.delegate={iterator:values(t),resultName:n,nextLoc:y},"next"===this.method&&(this.arg=void 0),b}},t}function _createSuper(t){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var y,w=b(t);if(n){var _=b(this).constructor;y=Reflect.construct(w,arguments,_)}else y=w.apply(this,arguments);return S(this,y)}}var k=y("HIQq"),R=y("mYab");n.__esModule=!0,n.render=render,n.renderError=renderError,n.default=n.emitter=n.router=n.version=void 0;var T=R(y("0x2a")),C=(R(y("HIQq")),R(y("mXGw"))),L=R(y("xARA")),A=y("bxxT"),N=R(y("Jxiz")),I=y("e4Qu"),F=y("a4i1"),M=y("BCwt"),D=k(y("PsvV")),B=k(y("Vt2/")),O=y("z4BS"),G=R(y("LPHK")),j=k(y("ZQgW")),H=R(y("pO+a")),U=y("bBV7");"finally"in Promise.prototype||(Promise.prototype.finally=y("3vO/"));var q=JSON.parse(document.getElementById("__NEXT_DATA__").textContent);window.__NEXT_DATA__=q;n.version="9.5.3";var W=q.props,X=q.err,Q=q.page,Y=q.query,V=q.buildId,z=q.assetPrefix,J=q.runtimeConfig,K=q.dynamicIds,$=q.isFallback,Z=z||"";y.p="".concat(Z,"/_next/"),B.setConfig({serverRuntimeConfig:{},publicRuntimeConfig:J||{}});var ee=(0,O.getURL)();(0,F.hasBasePath)(ee)&&(ee=(0,F.delBasePath)(ee));var te=new j.default(V,Z,Q),re=function register(t){var n=P(t,2),y=n[0],w=n[1];return te.registerPage(y,w)};window.__NEXT_P&&window.__NEXT_P.map((function(t){return setTimeout((function(){return re(t)}),0)})),window.__NEXT_P=[],window.__NEXT_P.push=re;var ne,oe,ae,ie,ce,ue,se,le=(0,G.default)(),fe=document.getElementById("__next");n.router=ae;var de=function(t){x(Container,t);var n=_createSuper(Container);function Container(){return _(this,Container),n.apply(this,arguments)}return E(Container,[{key:"componentDidCatch",value:function componentDidCatch(t,n){this.props.fn(t,n)}},{key:"componentDidMount",value:function componentDidMount(){this.scrollToHash(),ae.isSsr&&($||q.nextExport&&((0,M.isDynamicRoute)(ae.pathname)||location.search)||W&&W.__N_SSG&&location.search)&&ae.replace(ae.pathname+"?"+String(D.assign(D.urlQueryToSearchParams(ae.query),new URLSearchParams(location.search))),ee,{_h:1,shallow:!$})}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.scrollToHash()}},{key:"scrollToHash",value:function scrollToHash(){var t=location.hash;if(t=t&&t.substring(1)){var n=document.getElementById(t);n&&setTimeout((function(){return n.scrollIntoView()}),0)}}},{key:"render",value:function render(){return this.props.children}}]),Container}(C.default.Component),pe=(0,N.default)();n.emitter=pe;var he=function(){var t=w(_regeneratorRuntime().mark((function _callee(){var t,y,w,_,E,x,S=arguments;return _regeneratorRuntime().wrap((function _callee$(b){for(;;)switch(b.prev=b.next){case 0:return S.length>0&&void 0!==S[0]?S[0]:{},b.next=4,te.loadPage("/_app");case 4:return t=b.sent,y=t.page,w=t.mod,ue=y,w&&w.reportWebVitals&&(se=function onPerfEntry(t){var n,y=t.id,_=t.name,E=t.startTime,x=t.value,S=t.duration,b=t.entryType,P=t.entries,k="".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12);P&&P.length&&(n=P[0].startTime),w.reportWebVitals({id:y||k,name:_,startTime:E||n,value:null==x?S:x,label:"mark"===b||"measure"===b?"custom":"web-vital"})}),_=X,b.prev=10,b.next=14,te.loadPage(Q);case 14:E=b.sent,ie=E.page,ce=E.styleSheets,b.next=21;break;case 21:b.next=26;break;case 23:b.prev=23,b.t0=b.catch(10),_=b.t0;case 26:if(!window.__NEXT_PRELOADREADY){b.next=30;break}return b.next=30,window.__NEXT_PRELOADREADY(K);case 30:return n.router=ae=(0,U.createRouter)(Q,Y,ee,{initialProps:W,pageLoader:te,App:ue,Component:ie,initialStyleSheets:ce,wrapApp:ve,err:_,isFallback:Boolean($),subscription:function subscription(t,n){return render({App:n,Component:t.Component,styleSheets:t.styleSheets,props:t.props,err:t.err})}}),render(x={App:ue,Component:ie,styleSheets:ce,props:W,err:_}),b.abrupt("return",pe);case 38:return b.abrupt("return",{emitter:pe,render:render,renderCtx:x});case 39:case"end":return b.stop()}}),_callee,null,[[10,23]])})));return function _default(){return t.apply(this,arguments)}}();function render(t){return _render.apply(this,arguments)}function _render(){return(_render=w(_regeneratorRuntime().mark((function _callee2(t){return _regeneratorRuntime().wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(!t.err){n.next=4;break}return n.next=3,renderError(t);case 3:return n.abrupt("return");case 4:return n.prev=4,n.next=7,doRender(t);case 7:n.next=16;break;case 9:if(n.prev=9,n.t0=n.catch(4),!n.t0.cancelled){n.next=13;break}throw n.t0;case 13:return n.next=16,renderError((0,T.default)({},t,{err:n.t0}));case 16:case"end":return n.stop()}}),_callee2,null,[[4,9]])})))).apply(this,arguments)}function renderError(t){var n=t.App,y=t.err;return console.error(y),te.loadPage("/_error").then((function(w){var _=w.page,E=w.styleSheets,x=ve(n),S={Component:_,AppTree:x,router:ae,ctx:{err:y,pathname:Q,query:Y,asPath:ee,AppTree:x}};return Promise.resolve(t.props?t.props:(0,O.loadGetInitialProps)(n,S)).then((function(n){return doRender((0,T.default)({},t,{err:y,Component:_,styleSheets:E,props:n}))}))}))}n.default=he;var me="function"==typeof L.default.hydrate;function markHydrateComplete(){O.ST&&(performance.mark("afterHydrate"),performance.measure("Next.js-before-hydration","navigationStart","beforeRender"),performance.measure("Next.js-hydration","beforeRender","afterHydrate"),se&&performance.getEntriesByName("Next.js-hydration").forEach(se),clearMarks())}function markRenderComplete(){if(O.ST){performance.mark("afterRender");var t=performance.getEntriesByName("routeChange","mark");t.length&&(performance.measure("Next.js-route-change-to-render",t[0].name,"beforeRender"),performance.measure("Next.js-render","beforeRender","afterRender"),se&&(performance.getEntriesByName("Next.js-render").forEach(se),performance.getEntriesByName("Next.js-route-change-to-render").forEach(se)),clearMarks(),["Next.js-route-change-to-render","Next.js-render"].forEach((function(t){return performance.clearMeasures(t)})))}}function clearMarks(){["beforeRender","afterHydrate","afterRender","routeChange"].forEach((function(t){return performance.clearMarks(t)}))}function AppContainer(t){var n=t.children;return C.default.createElement(de,{fn:function fn(t){return renderError({App:ue,err:t}).catch((function(t){return console.error("Error rendering page: ",t)}))}},C.default.createElement(I.RouterContext.Provider,{value:(0,U.makePublicRouterInstance)(ae)},C.default.createElement(A.HeadManagerContext.Provider,{value:le},n)))}var ve=function wrapApp(t){return function(n){var y=(0,T.default)({},n,{Component:ie,err:X,router:ae});return C.default.createElement(AppContainer,null,C.default.createElement(t,y))}};function doRender(t){var n=t.App,y=t.Component,w=t.props,_=t.err,E=t.styleSheets;y=y||ne.Component,w=w||ne.props;var x=(0,T.default)({},w,{Component:y,err:_,router:ae});ne=x;var S,b=!1,P=new Promise((function(t,n){oe&&oe(),S=function resolvePromise(){oe=null,t()},oe=function lastRenderReject(){b=!0,oe=null;var t=new Error("Cancel rendering route");t.cancelled=!0,n(t)}}));var k=C.default.createElement(Root,{callback:function onCommit(){if(!me&&!b){for(var t=new Set(E.map((function(t){return t.href}))),n=(0,j.looseToArray)(document.querySelectorAll("style[data-n-href]")),y=n.map((function(t){return t.getAttribute("data-n-href")})),w=0;w<y.length;++w)t.has(y[w])?n[w].removeAttribute("media"):n[w].setAttribute("media","x");var _=document.querySelector("noscript[data-n-css]");_&&E.forEach((function(t){var n=t.href,y=document.querySelector('style[data-n-href="'.concat(n,'"]'));y&&(_.parentNode.insertBefore(y,_.nextSibling),_=y)})),(0,j.looseToArray)(document.querySelectorAll("link[data-n-p]")).forEach((function(t){t.parentNode.removeChild(t)})),getComputedStyle(document.body,"height")}S()}},C.default.createElement(AppContainer,null,C.default.createElement(n,x)));return function onStart(){if(me)return!1;var t=(0,j.looseToArray)(document.querySelectorAll("style[data-n-href]")),n=new Set(t.map((function(t){return t.getAttribute("data-n-href")})));return E.forEach((function(t){var y=t.href,w=t.text;if(!n.has(y)){var _=document.createElement("style");_.setAttribute("data-n-href",y),_.setAttribute("media","x"),document.head.appendChild(_),_.appendChild(document.createTextNode(w))}})),!0}(),function renderReactElement(t,n){O.ST&&performance.mark("beforeRender"),me?(L.default.hydrate(t,n,markHydrateComplete),me=!1,se&&O.ST&&(0,H.default)(se)):L.default.render(t,n,markRenderComplete)}(k,fe),P}function Root(t){var n=t.callback,y=t.children;return C.default.useLayoutEffect((function(){return n()}),[n]),y}},"pO+a":function(t,n,y){"use strict";n.__esModule=!0,n.default=void 0;var w=y("H3UU");n.default=function _default(t){(0,w.getCLS)(t),(0,w.getFID)(t),(0,w.getFCP)(t),(0,w.getLCP)(t),(0,w.getTTFB)(t)}}},[["LwBP",1,2,0]]]); from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=n},fireIframeLoadedCallbacks:function(t){this.iframeLoadedCallbacks.forEach(function(e){"function"==typeof e&&e({message:t||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(e){function t(){n.jsonForComparison.push(e),n.jsonWaiting.push(e),n.processSyncOnPage(e)}var a,n=this;if(e===Object(e)&&e.ibs)if(a=JSON.stringify(e.ibs||[]),this.jsonForComparison.length){var i,r,o,s=!1;for(i=0,r=this.jsonForComparison.length;i<r;i++)if(o=this.jsonForComparison[i],a===JSON.stringify(o.ibs||[])){s=!0;break}s?this.jsonDuplicates.push(e):t()}else t();if((this.receivedThirdPartyCookiesNotification||!ne.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var c=this.jsonWaiting.shift();this.process(c),this.requestToProcess()}g.idSyncDisableSyncs||g.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){n.messageSendingInterval=ne.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(e,t){var a=g._getField("MCAAMLH"),n=e.d_region||e.dcs_region;return a?n&&(g._setFieldExpire("MCAAMLH",t),g._setField("MCAAMLH",n),parseInt(a,10)!==n&&(this.regionChanged=!0,this.timesRegionChanged++,g._setField("MCSYNCSOP",""),g._setField("MCSYNCS",""),a=n)):(a=n)&&(g._setFieldExpire("MCAAMLH",t),g._setField("MCAAMLH",a)),a||(a=""),a},processSyncOnPage:function(e){var t,a,n,i;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(n=0;n<a;n++)(i=t[n]).syncOnPage&&this.checkFirstPartyCookie(i,"","syncOnPage")},process:function(e){var t,a,n,i,r,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(s=!0,n=0;n<a;n++)i=t[n],r=[o("ibs"),o(i.id||""),o(i.tag||""),G.encodeAndBuildRequest(i.url||[],","),o(i.ttl||""),"","",i.fireURLSync?"true":"false"],i.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(r.join("|")):i.fireURLSync&&this.checkFirstPartyCookie(i,r.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(e,t,a){var n="syncOnPage"===a,i=n?"MCSYNCSOP":"MCSYNCS";g._readVisitor();var r,o,s=g._getField(i),c=!1,d=!1,l=Math.ceil((new Date).getTime()/ne.MILLIS_PER_DAY);s?(r=s.split("*"),c=(o=this.pruneSyncData(r,e.id,l)).dataPresent,d=o.dataValid,c&&d||this.fireSync(n,e,t,r,i,l)):(r=[],this.fireSync(n,e,t,r,i,l))},pruneSyncData:function(e,t,a){var n,i,r,o=!1,s=!1;for(i=0;i<e.length;i++)n=e[i],r=parseInt(n.split("-")[1],10),n.match("^"+t+"-")?(o=!0,a<r?s=!0:(e.splice(i,1),i--)):r<=a&&(e.splice(i,1),i--);return{dataPresent:o,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(e,t,a,n,l,i){var u=this;if(e){if("img"===t.tag){var r,o,s,c,d=t.url,p=g.loadSSL?"https:":"http:";for(r=0,o=d.length;r<o;r++){s=d[r],c=/^\/\//.test(s);var h=new Image;h.addEventListener("load",function(o,s,c,d){return function(){u.onPagePixels[o]=null,g._readVisitor();var e,t,a,n,i=g._getField(l),r=[];if(i)for(t=0,a=(e=i.split("*")).length;t<a;t++)(n=e[t]).match("^"+s.id+"-")||r.push(n);u.setSyncTrackingData(r,s,c,d)}}(this.onPagePixels.length,t,l,i)),h.src=(c?p:"")+s,this.onPagePixels.push(h)}}}else this.addMessage(a),this.setSyncTrackingData(n,t,l,i)},addMessage:function(e){var t=encodeURIComponent(g._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((ne.POST_MESSAGE_ENABLED?"":t)+e)},setSyncTrackingData:function(e,t,a,n){e.push(t.id+"-"+(n+Math.ceil(t.ttl/60/24))),this.manageSyncsSize(e),g._setField(a,e.join("*"))},sendMessages:function(){var e,t=this,a="",n=encodeURIComponent;this.regionChanged&&(a=n(
"---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?ne.POST_MESSAGE_ENABLED?(e=a+n("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(a+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){ee.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,a=/^---destpub-to-parent---/;"string"==typeof e&&a.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(a,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(e){(null==this.url||e.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof g._subdomain&&g._subdomain.length?this.subdomain=g._subdomain:this.subdomain=e.subdomain||"",this.url=this.getUrl()),e.ibs instanceof Array&&e.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(g.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===i.readyState||"loaded"===i.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof g.idSyncIDCallResult?g.idSyncIDCallResult(e):this.requestToProcess(e),"function"==typeof g.idSyncAfterIDCallResult&&g.idSyncAfterIDCallResult(e)},canMakeSyncIDCall:function(e,t){return g._forceSyncIDCall||!e||t-e>ne.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(i.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},j={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{type:"boolean"},disableThirdPartyCalls:{type:"boolean"},discardTrackingServerECID:{type:"boolean"},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{type:"boolean"},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{type:"boolean"},disableThirdPartyCookies:{type:"boolean"},idSyncDisableSyncs:{type:"boolean"},disableIdSyncs:{type:"boolean"},idSyncIDCallResult:{},idSyncSSLUseAkamai:{type:"boolean"},isCoopSafe:{type:"boolean"},isIabContext:{type:"boolean"},isOptInStorageEnabled:{type:"boolean"},loadSSL:{type:"boolean"},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{type:"boolean"},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{type:"boolean"},sameSiteCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},useLocalStorage:{type:"boolean"},whitelistIframeDomains:{},whitelistParentDomain:{}},F={getConfigNames:function(){return Object.keys(j)},getConfigs:function(){return j},normalizeConfig:function(e,t){return j[e]&&"boolean"===j[e].type?"function"!=typeof t?t:t():t}},H=function(e){var i={};return e.on=function(e,t,a){if(!t||"function"!=typeof t)throw new Error("[ON] Callback should be a function.");i.hasOwnProperty(e)||(i[e]=[]);var n=i[e].push({callback:t,context:a})-1;return function(){i[e].splice(n,1),i[e].length||delete i[e]}},e.off=function(e,t){i.hasOwnProperty(e)&&(i[e]=i[e].filter(function(e){if(e.callback!==t)return e}))},e.publish=function(e){if(i.hasOwnProperty(e)){var t=[].slice.call(arguments,1);i[e].slice(0).forEach(function(e){e.callback.apply(e.context,t)})}},e.publish},U={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},K={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},re=(e(_={},K.AAM,565),e(_,K.ECID,565),_),oe=(e(m={},K.AAM,[1,10]),e(m,K.ECID,[1,10]),m),se=["videoaa","iabConsentHash"],ce=(b=K,Object.keys(b).map(function(e){return b[e]})),de=function(){var n={};return n.callbacks=Object.create(null),n.add=function(e,t){if(!c(t))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");n.callbacks[e]=n.callbacks[e]||[];var a=n.callbacks[e].push(t)-1;return function(){n.callbacks[e].splice(a,1)}},n.execute=function(e,t){if(n.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;n.callbacks[e].length;){var a=n.callbacks[e].shift();"function"==typeof a?a.apply(null,t):a instanceof Array&&a[1].apply(a[0],t)}delete n.callbacks[e]}catch(n){}}},n.executeAll=function(a,e){(e||a&&!s(a))&&Object.keys(n.callbacks).forEach(function(e){var t=void 0!==a[e]?a[e]:"";n.execute(e,t)},n)},n.hasCallbacks=function(){return Boolean(Object.keys(n.callbacks).length)},n},le=function(){},ue=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},pe=function(n,i,e){return e()?function(){if(ue(n)){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];console[n].apply(console,[i].concat(t))}}:le},he=n,ge=function(){for(var i=[],e=0;e<256;e++){for(var t=e,a=0;a<8;a++)t=1&t?3988292384^t>>>1:t>>>1;i.push(t)}return function(e,t){e=unescape(encodeURIComponent(e)),t||(t=0),t^=-1;for(var a=0;a<e.length;a++){var n=255&(t^e.charCodeAt(a));t=t>>>8^i[n]}return(t^=-1)>>>0}}(),fe=new he("[ADOBE OPT-IN]"),_e=function(e,t){return q(e)===t},me=function(e,t){return e instanceof Array?e:_e(e,"string")?[e]:t||[]},be=function(t){var e=Object.keys(t);return!!e.length&&e.every(function(e){return!0===t[e]})},ve=function(e,t){var a=1<arguments.length&&void 0!==t&&arguments[1];return!(!e||Ie(e))&&me(e).every(function(e){return-1<ce.indexOf(e)||a&&-1<se.indexOf(e)})},ye=function(e,a){return e.reduce(function(e,t){return e[t]=a,e},{})},Ae=function(e){return JSON.parse(JSON.stringify(e))},Ie=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},Se=function(e){if(we(e))return e;try{return JSON.parse(e)}catch(e){return{}}},Te=function(e){return void 0===e||(we(e)?ve(Object.keys(e),!0):ke(e))},ke=function(e){try{var t=JSON.parse(e);return!!e&&_e(e,"string")&&ve(Object.keys(t),!0)}catch(e){return!1}},we=function(e){return null!==e&&_e(e,"object")&&!1===Array.isArray(e)},Ee=function(){},Ce=function(e){return _e(e,"function")?e():e},De=function(e,t){Te(e)||fe.error("".concat(t))},Me=function(t){return Object.keys(t).map(function(e){return t[e]})},Pe=function(e){return Me(e).filter(function(e,t,a){return a.indexOf(e)===t})},Oe=function(u){return function(e){var t=0<arguments.length&&void 0!==e?arguments[0]:{},a=t.command,n=t.params,i=void 0===n?{}:n,r=t.callback,o=void 0===r?Ee:r;if(!a||-1===a.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var s=a.split("."),c=u[s[0]],d=s[1];if(!c||"function"!=typeof c[d])throw new Error("Make sure the plugin and API name exist.");var l=Object.assign(i,{callback:o});c[d].call(c,l)}catch(u){fe.error("[execute] Something went wrong: "+u.message)}}};d.prototype=Object.create(Error.prototype),d.prototype.constructor=d;var Ne="fetchPermissions",Re="[OptIn#registerPlugin] Plugin is invalid.";l.Categories=K,l.TimeoutError=d;var Be=Object.freeze({OptIn:l,IabPlugin:f}),Le=function(u,p){u.publishDestinations=function(e,t,a){var n=t,i=a;try{i="function"==typeof i?i:e.callback}catch(u){i=function(){}}var r=p;if(r.readyToAttachIframePreliminary()){if("string"==typeof e){if(!e.length)return void i({error:"subdomain is not a populated string."});if(!(n instanceof Array&&n.length))return void i({error:"messages is not a populated array."});var o=!1;if(n.forEach(function(e){"string"==typeof e&&e.length&&(r.addMessage(e),o=!0)}),!o)return void i({error:"None of the messages are populated strings."})}else{if(!G.isObject(e))return void i({error:"Invalid parameters passed."});var s=e;if("string"!=typeof(e=s.subdomain)||!e.length)return void i({error:"config.subdomain is not a populated string."});var c=s.urlDestinations;if(!(c instanceof Array&&c.length))return void i({error:"config.urlDestinations is not a populated array."});var d=[];c.forEach(function(e){G.isObject(e)&&(e.hideReferrer?e.message&&r.addMessage(e.message):d.push(e))}),function l(){d.length&&setTimeout(function(){var e=new Image,t=d.shift();e.src=t.url,r.onPageDestinationsFired.push(t),l()},100)}()}r.iframe?(i({message:"The destination publishing iframe is already attached and loaded."}),r.requestToProcess()):!u.subdomain&&u._getField("MCMID")?(r.subdomain=e,r.doAttachIframe=!0,r.url=r.getUrl(),r.readyToAttachIframe()?(r.iframeLoadedCallbacks.push(function(e){i({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),r.attachIframe()):i({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):r.iframeLoadedCallbacks.push(function(e){i({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})})}else i({error:"The destination publishing iframe is disabled in the Visitor library."})}},xe=function q(e){function t(e,t){return e>>>t|e<<32-t}for(var a,n,i=Math.pow,r=i(2,32),o="",s=[],c=8*e.length,d=q.h=q.h||[],l=q.k=q.k||[],u=l.length,p={},h=2;u<64;h++)if(!p[h]){for(a=0;a<313;a+=h)p[a]=h;d[u]=i(h,.5)*r|0,l[u++]=i(h,1/3)*r|0}for(e+="\x80";e.length%64-56;)e+="\0";for(a=0;a<e.length;a++){if((n=e.charCodeAt(a))>>8)return;s[a>>2]|=n<<(3-a)%4*8}for(s[s.length]=c/r|0,s[s.length]=c,n=0;n<s.length;){var g=s.slice(n,n+=16),f=d;for(d=d.slice(0,8),a=0;a<64;a++){var _=g[a-15],m=g[a-2],b=d[0],v=d[4],y=d[7]+(t(v,6)^t(v,11)^t(v,25))+(v&d[5]^~v&d[6])+l[a]+(g[a]=a<16?g[a]:g[a-16]+(t(_,7)^t(_,18)^_>>>3)+g[a-7]+(t(m,17)^t(m,19)^m>>>10)|0);(d=[y+((t(b,2)^t(b,13)^t(b,22))+(b&d[1]^b&d[2]^d[1]&d[2]))|0].concat(d))[4]=d[4]+y|0}for(a=0;a<8;a++)d[a]=d[a]+f[a]|0}for(a=0;a<8;a++)for(n=3;n+1;n--){var A=d[a]>>8*n&255;o+=(A<16?0:"")+A.toString(16)}return o},Ve=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=xe(e)),e},je=function(e){return String(e).trim().toLowerCase()},Fe=Be.OptIn;G.defineGlobalNamespace(),window.adobe.OptInCategories=Fe.Categories;var He=function(n,a,e){function p(){m._customerIDsHashChanged=!1}function t(e){var n=e;return function(e){var t=e||S.location.href;try{var a=m._extractParamFromUri(t,n);if(a)return F.parsePipeDelimetedKeyValues(a)}catch(e){}}}function i(e){function t(e,t,a){e&&e.match(ne.VALID_VISITOR_ID_REGEX)&&(a===C&&(I=!0),t(e))}t(e[C],m.setMarketingCloudVisitorID,C),m._setFieldExpire(N,-1),t(e[P],m.setAnalyticsVisitorID)}function r(e){e=e||{},m._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",m._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},m._supplementalDataIDLast=e.supplementalDataIDLast||"",m._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function o(e){function i(e,t,a){return(a=a?a+="|":a)+(e+"=")+encodeURIComponent(t)}function t(e,t){var a=t[0],n=t[1];return null!=n&&n!==R&&(e=i(a,n,e)),e}var a,n=e.reduce(t,"");return(a=(a=n)?a+="|":a)+"TS="+F.getTimestampInSeconds()}function s(e){var t=e.minutesToLive,a="";return(m.idSyncDisableSyncs||m.disableIdSyncs)&&(a=a||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(a=a||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(a=a||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(a=a||"Error: config.minutesToLive needs to be a positive number")),{error:a,ttl:t}}function c(){return!(!m.configs.doesOptInApply||b.optIn.isComplete&&u())}function u(){return m.configs.doesOptInApply&&m.configs.isIabContext?b.optIn.isApproved(b.optIn.Categories.ECID)&&A:b.optIn.isApproved(b.optIn.Categories.ECID)}function d(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var t=e[0],a=2===e.length?e[1]:"",n=m[t];m[t]=function(e){return u()&&m.isAllowed()?n.apply(m,arguments):("function"==typeof e&&m._callCallback(e,[a]),a)}})}function l(){var e=m._getAudienceManagerURLData(),t=e.url;return m._loadData(E,t,null,e)}function h(e,t){if(A=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(v=t.consentString,y=t.hasConsentChangedSinceLastCmpPull?1:0),l(),_()}function g(e,t){if(A=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(v=t.consentString,y=t.hasConsentChangedSinceLastCmpPull?1:0),m.init(),_()}function f(){b.optIn.isComplete&&(b.optIn.isApproved(b.optIn.Categories.ECID)?m.configs.isIabContext?b.optIn.execute({command:"iabPlugin.fetchConsentData",callback:g}):(m.init(),_()):m.configs.isIabContext?b.optIn.execute({command:"iabPlugin.fetchConsentData",callback:h}):(d(),_()))}function _(){b.optIn.off("complete",f)}if(!e||e.split("").reverse().join("")!==n)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var m=this,b=window.adobe,v="",y=0,A=!1,I=!1;m.version="5.2.0";var S=Y,T=S.Visitor;T.version=m.version,T.AuthState=W.AUTH_STATE,T.OptOut=W.OPT_OUT,S.s_c_in||(S.s_c_il=[],S.s_c_in=0),m._c="Visitor",m._il=S.s_c_il,m._in=S.s_c_in,m._il[m._in]=m,S.s_c_in++,m._instanceType="regular",m._log={requests:[]},m.marketingCloudOrgID=n,m.cookieName="AMCV_"+n,m.sessionCookieName="AMCVS_"+n;var k={};a&&a.secureCookie&&a.sameSiteCookie&&(k={sameSite:a.sameSiteCookie,secure:a.secureCookie}),m.cookieDomain=m.useLocalStorage?"":X(null,k),m.loadSSL=!0,m.loadTimeout=3e4,m.CORSErrors=[],m.marketingCloudServer=m.audienceManagerServer="dpm.demdex.net",m.sdidParamExpiry=30;var w=null,E="MC",C="MCMID",D="MCIDTS",M="A",P="MCAID",O="AAM",N="MCAAMB",R="NONE",B=function(e){return!Object.prototype[e]},L=ae(m);m.FIELDS=W.FIELDS,m.cookieRead=function(e){return m.useLocalStorage?e===m.sessionCookieName?sessionStorage.getItem(e):localStorage.getItem(e):$.get(e)},m.cookieWrite=function(e,t,a){var n=""+t;if(m.useLocalStorage)return e===m.sessionCookieName?sessionStorage.setItem(e,n):localStorage.setItem(e,n);var i=m.cookieLifetime?(""+m.cookieLifetime).toUpperCase():"",r={expires:a,domain:m.cookieDomain,cookieLifetime:i};return m.configs&&m.configs.secureCookie&&"https:"===location.protocol&&(r.secure=!0),m.configs&&m.configs.sameSiteCookie&&"https:"===location.protocol&&(r.sameSite=W.SAME_SITE_VALUES[m.configs.sameSiteCookie.toUpperCase()]||"Lax"),$.set(e,n,r)},m.removeCookie=function(e){if(m.useLocalStorage)return e===m.sessionCookieName?sessionStorage.removeItem(e):localStorage.removeItem(e);var t={domain:m.cookieDomain};return m.configs&&m.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),m.configs&&m.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=W.SAME_SITE_VALUES[m.configs.sameSiteCookie.toUpperCase()]||"Lax"),$.remove(e,t)},m.resetState=function(e){e?m._mergeServerState(e):r()},m._isAllowedDone=!1,m._isAllowedFlag=!1,m.isAllowed=function(){return m._isAllowedDone||(m._isAllowedDone=!0,(m.cookieRead(m.cookieName)||m.cookieWrite(m.cookieName,"T",1))&&(m._isAllowedFlag=!0)),"T"===m.cookieRead(m.cookieName)&&m.removeCookie(m.cookieName),m._isAllowedFlag},m.setMarketingCloudVisitorID=function(e){m._setMarketingCloudFields(e)},m._use1stPartyMarketingCloudServer=!1,m.getMarketingCloudVisitorID=function(e,t){m.marketingCloudServer&&m.marketingCloudServer.indexOf(".demdex.net")<0&&(m._use1stPartyMarketingCloudServer=!0);var a=m._getAudienceManagerURLData("_setMarketingCloudFields"),n=a.url;return m._getRemoteField(C,n,e,t,a)};var x=function(t,e){var a={};m.getMarketingCloudVisitorID(function(){e.forEach(function(e){a[e]=m._getField(e,!0)}),-1!==e.indexOf("MCOPTOUT")?m.isOptedOut(function(e){a.MCOPTOUT=e,t(a)},null,!0):t(a)},!0)};m.getVisitorValues=function(e,t){var a={MCMID:{fn:m.getMarketingCloudVisitorID,args:[!0],context:m},MCOPTOUT:{fn:m.isOptedOut,args:[void 0,!0],context:m},MCAID:{fn:m.getAnalyticsVisitorID,args:[!0],context:m},MCAAMLH:{fn:m.getAudienceManagerLocationHint,args:[!0],context:m},MCAAMB:{fn:m.getAudienceManagerBlob,args:[!0],context:m}},n=t&&t.length?G.pluck(a,t):a;t&&-1===t.indexOf("MCAID")?x(e,t):J(n,e)},m._currentCustomerIDs={},m._customerIDsHashChanged=!1,m._newCustomerIDsHash="",m.setCustomerIDs=function(e,t){if(!m.isOptedOut()&&e){if(!G.isObject(e)||G.isObjectEmpty(e))return!1;var a,n,i,r;for(a in m._readVisitor(),e)if(B(a)&&(m._currentCustomerIDs.dataSources=m._currentCustomerIDs.dataSources||{},t=(n=e[a]).hasOwnProperty("hashType")?n.hashType:t,n))if("object"===q(n)){var o={};if(n.id){if(t){if(!(r=Ve(je(n.id),t)))return;n.id=r,o.hashType=t}o.id=n.id}null!=n.authState&&(o.authState=n.authState),m._currentCustomerIDs.dataSources[a]=o}else if(t){if(!(r=Ve(je(n),t)))return;m._currentCustomerIDs.dataSources[a]={id:r,hashType:t}}else m._currentCustomerIDs.dataSources[a]={id:n};var s=m.getCustomerIDs(!0),c=m._getField("MCCIDH"),d="";for(i in c||(c=0),s){var l=s[i];if(!G.isObjectEmpty(l))for(a in l)B(a)&&(d+=(d?"|":"")+a+"|"+((n=l[a]).id?n.id:"")+(n.authState?n.authState:""))}m._newCustomerIDsHash=String(m._hash(d)),m._newCustomerIDsHash!==c&&(m._customerIDsHashChanged=!0,m._mapCustomerIDs(p))}},m.syncIdentity=function(e,t){if(!m.isOptedOut()&&e){if(!G.isObject(e)||G.isObjectEmpty(e))return!1;var a,n,i,r,o;for(a in m._readVisitor(),e)if(B(a)&&(m._currentCustomerIDs.nameSpaces=m._currentCustomerIDs.nameSpaces||{},t=(n=e[a]).hasOwnProperty("hashType")?n.hashType:t,n&&"object"===q(n))){var s={};if(n.id){if(t){if(!(i=Ve(je(n.id),t)))return;n.id=i,s.hashType=t}s.id=n.id}null!=n.authState&&(s.authState=n.authState),n.dataSource&&(m._currentCustomerIDs.dataSources=m._currentCustomerIDs.dataSources||{},r=n.dataSource,m._currentCustomerIDs.dataSources[r]=s),m._currentCustomerIDs.nameSpaces[a]=s}var c=m.getCustomerIDs(!0),d=m._getField("MCCIDH"),l="";for(o in d||(d="0"),c){var u=c[o];if(!G.isObjectEmpty(u))for(a in u)B(a)&&(l+=(l?"|":"")+a+"|"+((n=u[a]).id?n.id:"")+(n.authState?n.authState:""))}m._newCustomerIDsHash=String(m._hash(l)),m._newCustomerIDsHash!==d&&(m._customerIDsHashChanged=!0,m._mapCustomerIDs(p))}},m.getCustomerIDs=function(e){m._readVisitor();var t,a,n={dataSources:{},nameSpaces:{}},i=m._currentCustomerIDs.dataSources;for(t in i)B(t)&&(a=i[t]).id&&(n.dataSources[t]||(n.dataSources[t]={}),n.dataSources[t].id=a.id,null!=a.authState?n.dataSources[t].authState=a.authState:n.dataSources[t].authState=T.AuthState.UNKNOWN,a.hashType&&(n.dataSources[t].hashType=a.hashType));var r=m._currentCustomerIDs.nameSpaces;for(t in r)B(t)&&(a=r[t]).id&&(n.nameSpaces[t]||(n.nameSpaces[t]={}),n.nameSpaces[t].id=a.id,null!=a.authState?n.nameSpaces[t].authState=a.authState:n.nameSpaces[t].authState=T.AuthState.UNKNOWN,a.hashType&&(n.nameSpaces[t].hashType=a.hashType));return e?n:n.dataSources},m.setAnalyticsVisitorID=function(e){m._setAnalyticsFields(e)},m.getAnalyticsVisitorID=function(e,t,a){if(!F.isTrackingServerPopulated()&&!a)return m._callCallback(e,[""]),"";var n="";if(a||(n=m.getMarketingCloudVisitorID(function(){m.getAnalyticsVisitorID(e,!0)})),n||a){var i=a?m.marketingCloudServer:m.trackingServer,r="";m.loadSSL&&(a?m.marketingCloudServerSecure&&(i=m.marketingCloudServerSecure):m.trackingServerSecure&&(i=m.trackingServerSecure));var o={};if(i){var s="http"+(m.loadSSL?"s":"")+"://"+i+"/id",c="d_visid_ver="+m.version+"&mcorgid="+encodeURIComponent(m.marketingCloudOrgID)+(n?"&mid="+encodeURIComponent(n):"")+(m.idSyncDisable3rdPartySyncing||m.disableThirdPartyCookies?"&d_coppa=true":""),d=["s_c_il",m._in,"_set"+(a?"MarketingCloud":"Analytics")+"Fields"];r=s+"?"+c+"&callback=s_c_il%5B"+m._in+"%5D._set"+(a?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+c,o.callback=d}return o.url=r,m._getRemoteField(a?C:P,r,e,t,o)}return""},m.getAudienceManagerLocationHint=function(e,t){if(m.getMarketingCloudVisitorID(function(){m.getAudienceManagerLocationHint(e,!0)})){var a=m._getField(P);if(!a&&F.isTrackingServerPopulated()&&(a=m.getAnalyticsVisitorID(function(){m.getAudienceManagerLocationHint(e,!0)})),a||!F.isTrackingServerPopulated()){var n=m._getAudienceManagerURLData(),i=n.url;return m._getRemoteField("MCAAMLH",i,e,t,n)}}return""},m.getLocationHint=m.getAudienceManagerLocationHint,m.getAudienceManagerBlob=function(e,t){if(m.getMarketingCloudVisitorID(function(){m.getAudienceManagerBlob(e,!0)})){var a=m._getField(P);if(!a&&F.isTrackingServerPopulated()&&(a=m.getAnalyticsVisitorID(function(){m.getAudienceManagerBlob(e,!0)})),a||!F.isTrackingServerPopulated()){var n=m._getAudienceManagerURLData(),i=n.url;return m._customerIDsHashChanged&&m._setFieldExpire(N,-1),m._getRemoteField(N,i,e,t,n)}}return""},m._supplementalDataIDCurrent="",m._supplementalDataIDCurrentConsumed={},m._supplementalDataIDLast="",m._supplementalDataIDLastConsumed={};var V=!(m.getSupplementalDataID=function(e,t){m._supplementalDataIDCurrent||t||(m._supplementalDataIDCurrent=m._generateID(1));var a=m._supplementalDataIDCurrent;return m._supplementalDataIDLast&&!m._supplementalDataIDLastConsumed[e]?(a=m._supplementalDataIDLast,m._supplementalDataIDLastConsumed[e]=!0):a&&(m._supplementalDataIDCurrentConsumed[e]&&(m._supplementalDataIDLast=m._supplementalDataIDCurrent,m._supplementalDataIDLastConsumed=m._supplementalDataIDCurrentConsumed,m._supplementalDataIDCurrent=a=t?"":m._generateID(1),m._supplementalDataIDCurrentConsumed={}),a&&(m._supplementalDataIDCurrentConsumed[e]=!0)),a});m._liberatedOptOut=null,m.getOptOut=function(e,t){var a=m._getAudienceManagerURLData("_setMarketingCloudFields"),n=a.url;if(u())return m._getRemoteField("MCOPTOUT",n,e,t,a);if(m._registerCallback("liberatedOptOut",e),null!==m._liberatedOptOut)return m._callAllCallbacks("liberatedOptOut",[m._liberatedOptOut]),V=!1,m._liberatedOptOut;if(V)return null;V=!0;var i="liberatedGetOptOut";return a.corsUrl=a.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),a.callback=[i],Y[i]=function(e){if(e===Object(e)){var t,a,n=G.parseOptOut(e,t,R);t=n.optOut,a=1e3*n.d_ottl,m._liberatedOptOut=t,setTimeout(function(){m._liberatedOptOut=null},a)}m._callAllCallbacks("liberatedOptOut",[t]),V=!1},L.fireCORS(a),null};var j={subscribed:(m.isOptedOut=function(a,n,e){n||(n=T.OptOut.GLOBAL);var t=m.getOptOut(function(e){var t=e===T.OptOut.GLOBAL||0<=e.indexOf(n);m._callCallback(a,[t])},e);return t?t===T.OptOut.GLOBAL||0<=t.indexOf(n):null},!1),callbacks:[]};m.onReceiveEcid=function(e){if(u())return m.getMarketingCloudVisitorID(e,!0);j.subscribed=!0,e&&"function"==typeof e&&j.callbacks.push(e)},m._fields=null,m._fieldsExpired=null,m._hash=function(e){var t,a=0;if(e)for(t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a&=a;return a},m._generateID=te,m._generateLocalMID=function(){var e=m._generateID(0);return K.isClientSideMarketingCloudVisitorID=!0,e},m._callbackList=null,m._callCallback=function(e,t){try{"function"==typeof e?e.apply(S,t):e[1].apply(e[0],t)}catch(e){}},m._registerCallback=function(e,t){t&&(null==m._callbackList&&(m._callbackList={}),null==m._callbackList[e]&&(m._callbackList[e]=[]),m._callbackList[e].push(t))},m._callAllCallbacks=function(e,t){if(null!=m._callbackList){var a=m._callbackList[e];if(a)for(;0<a.length;)m._callCallback(a.shift(),t)}},m._addQuerystringParam=function(e,t,a,n){var i=encodeURIComponent(t)+"="+encodeURIComponent(a),r=F.parseHash(e),o=F.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+i+r;var s=o.split("?"),c=s[0]+"?",d=s[1];return c+F.addQueryParamAtLocation(d,i,n)+r},m._extractParamFromUri=function(e,t){var a=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(a&&a.length)return decodeURIComponent(a[1])},m._parseAdobeMcFromUrl=t(ne.ADOBE_MC),m._parseAdobeMcSdidFromUrl=t(ne.ADOBE_MC_SDID),m._attemptToPopulateSdidFromUrl=function(e){var t=m._parseAdobeMcSdidFromUrl(e),a=1e9;t&&t.TS&&(a=F.getTimestampInSeconds()-t.TS),t&&t.SDID&&t.MCORGID===n&&a<m.sdidParamExpiry&&(m._supplementalDataIDCurrent=t.SDID,m._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},m._attemptToPopulateIdsFromUrl=function(){var e=m._parseAdobeMcFromUrl();if(e&&e.TS){var t=F.getTimestampInSeconds()-e.TS;if(Math.floor(t/60)>ne.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==n)return;i(e)}},m._mergeServerState=function(e){if(e)try{if(n=e,(e=F.isObject(n)?n:JSON.parse(n))[m.marketingCloudOrgID]){var t=e[m.marketingCloudOrgID];a=t.customerIDs,F.isObject(a)&&m.setCustomerIDs(a),r(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}var a,n},m._timeout=null,m._loadData=function(e,t,a,n){t=m._addQuerystringParam(t,"d_fieldgroup",e,1),n.url=m._addQuerystringParam(n.url,"d_fieldgroup",e,1),n.corsUrl=m._addQuerystringParam(n.corsUrl,"d_fieldgroup",e,1),K.fieldGroupObj[e]=!0,n===Object(n)&&n.corsUrl&&"XMLHttpRequest"===L.corsMetadata.corsType&&L.fireCORS(n,a,e)},m._clearTimeout=function(e){null!=m._timeout&&m._timeout[e]&&(clearTimeout(m._timeout[e]),m._timeout[e]=0)},m._settingsDigest=0,m._getSettingsDigest=function(){if(!m._settingsDigest){var e=m.version;m.audienceManagerServer&&(e+="|"+m.audienceManagerServer),m.audienceManagerServerSecure&&(e+="|"+m.audienceManagerServerSecure),m._settingsDigest=m._hash(e)}return m._settingsDigest},m._readVisitorDone=!1,m._readVisitor=function(){if(!m._readVisitorDone){m._readVisitorDone=!0;var e,t,a,n,i,r,o=m._getSettingsDigest(),s=!1,c=m.cookieRead(m.cookieName),d=new Date;if(c||I||m.discardTrackingServerECID||(c=m.cookieRead(ne.FIRST_PARTY_SERVER_COOKIE)),null==m._fields&&(m._fields={}),c&&"T"!==c)for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==o&&(s=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)a=(t=c[e].split("-"))[0],n=c[e+1],1<t.length?(i=parseInt(t[1],10),r=0<t[1].indexOf("s")):(i=0,r=!1),s&&("MCCIDH"===a&&(n=""),0<i&&(i=d.getTime()/1e3-60)),a&&n&&(m._setField(a,n,1),0<i&&(m._fields["expire"+a]=i+(r?"s":""),(d.getTime()>=1e3*i||r&&!m.cookieRead(m.sessionCookieName))&&(m._fieldsExpired||(m._fieldsExpired={}),m._fieldsExpired[a]=!0)));!m._getField(P)&&F.isTrackingServerPopulated()&&(c=m.cookieRead("s_vi"))&&1<(c=c.split("|")).length&&0<=c[0].indexOf("v1")&&(0<=(e=(n=c[1]).indexOf("["))&&(n=n.substring(0,e)),n&&n.match(ne.VALID_VISITOR_ID_REGEX)&&m._setField(P,n))}},m._appendVersionTo=function(e){var t="vVersion|"+m.version,a=e?m._getCookieVersion(e):null;return a?Z.areVersionsDifferent(a,m.version)&&(e=e.replace(ne.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},m._writeVisitor=function(){var e,t,a=m._getSettingsDigest();for(e in m._fields)B(e)&&m._fields[e]&&"expire"!==e.substring(0,6)&&(t=m._fields[e],a+=(a?"|":"")+e+(m._fields["expire"+e]?"-"+m._fields["expire"+e]:"")+"|"+t);a=m._appendVersionTo(a),m.cookieWrite(m.cookieName,a,1)},m._getField=function(e,t){return null==m._fields||!t&&m._fieldsExpired&&m._fieldsExpired[e]?null:m._fields[e]},m._setField=function(e,t,a){null==m._fields&&(m._fields={}),m._fields[e]=t,a||m._writeVisitor()},m._getFieldList=function(e,t){var a=m._getField(e,t);return a?a.split("*"):null},m._setFieldList=function(e,t,a){m._setField(e,t?t.join("*"):"",a)},m._getFieldMap=function(e,t){var a=m._getFieldList(e,t);if(a){var n,i={};for(n=0;n<a.length;n+=2)i[a[n]]=a[n+1];return i}return null},m._setFieldMap=function(e,t,a){var n,i=null;if(t)for(n in i=[],t)B(n)&&(i.push(n),i.push(t[n]));m._setFieldList(e,i,a)},m._setFieldExpire=function(e,t,a){var n=new Date;n.setTime(n.getTime()+1e3*t),null==m._fields&&(m._fields={}),m._fields["expire"+e]=Math.floor(n.getTime()/1e3)+(a?"s":""),t<0?(m._fieldsExpired||(m._fieldsExpired={}),m._fieldsExpired[e]=!0):m._fieldsExpired&&(m._fieldsExpired[e]=!1),a&&(m.cookieRead(m.sessionCookieName)||m.cookieWrite(m.sessionCookieName,"1"))},m._findVisitorID=function(e){return e&&("object"===q(e)&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&"NOTARGET"===(e=e.toUpperCase())&&(e=R),e&&(e===R||e.match(ne.VALID_VISITOR_ID_REGEX))||(e="")),e},m._setFields=function(e,t){if(m._clearTimeout(e),null!=m._loading&&(m._loading[e]=!1),K.fieldGroupObj[e]&&K.setState(e,!1),e===E){!0!==K.isClientSideMarketingCloudVisitorID&&(K.isClientSideMarketingCloudVisitorID=!1);var a=m._getField(C);if(!a||m.overwriteCrossDomainMCIDAndAID){if(!(a="object"===q(t)&&t.mid?t.mid:m._findVisitorID(t))){if(m._use1stPartyMarketingCloudServer&&!m.tried1stPartyMarketingCloudServer)return m.tried1stPartyMarketingCloudServer=!0,void m.getAnalyticsVisitorID(null,!1,!0);a=m._generateLocalMID()}m._setField(C,a)}a&&a!==R||(a=""),"object"===q(t)&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&m._setFields(O,t),m._use1stPartyMarketingCloudServer&&t.mid&&m._setFields(M,{id:t.id})),m._callAllCallbacks(C,[a])}if(e===O&&"object"===q(t)){var n=604800;null!=t.id_sync_ttl&&t.id_sync_ttl&&(n=parseInt(t.id_sync_ttl,10));var i=H.getRegionAndCheckIfChanged(t,n);m._callAllCallbacks("MCAAMLH",[i]);var r=m._getField(N);(t.d_blob||t.blob)&&((r=t.d_blob)||(r=t.blob),m._setFieldExpire(N,n),m._setField(N,r)),r||(r=""),m._callAllCallbacks(N,[r]),!t.error_msg&&m._newCustomerIDsHash&&m._setField("MCCIDH",m._newCustomerIDsHash)}if(e===M){var o=m._getField(P);o&&!m.overwriteCrossDomainMCIDAndAID||((o=m._findVisitorID(t))?o!==R&&m._setFieldExpire(N,-1):o=R,m._setField(P,o)),o&&o!==R||(o=""),m._callAllCallbacks(P,[o])}if(m.idSyncDisableSyncs||m.disableIdSyncs)H.idCallNotProcesssed=!0;else{H.idCallNotProcesssed=!1;var s={};s.ibs=t.ibs,s.subdomain=t.subdomain,H.processIDCallData(s)}if(t===Object(t)){var c,d;u()&&m.isAllowed()&&(c=m._getField("MCOPTOUT"));var l=G.parseOptOut(t,c,R);c=l.optOut,d=l.d_ottl,m._setFieldExpire("MCOPTOUT",d,!0),m._setField("MCOPTOUT",c),m._callAllCallbacks("MCOPTOUT",[c])}},m._loading=null,m._getRemoteField=function(a,e,t,n,i){var r,o="",s=F.isFirstPartyAnalyticsVisitorIDCall(a),c={MCAAMLH:!0,MCAAMB:!0};if(u()&&m.isAllowed())if(m._readVisitor(),!(!(o=m._getField(a,!0===c[a]))||m._fieldsExpired&&m._fieldsExpired[a])||m.disableThirdPartyCalls&&!s)o||(a===C?(m._registerCallback(a,t),o=m._generateLocalMID(),m.setMarketingCloudVisitorID(o)):a===P?(m._registerCallback(a,t),o="",m.setAnalyticsVisitorID(o)):n=!(o=""));else if(a===C||"MCOPTOUT"===a?r=E:"MCAAMLH"===a||a===N?r=O:a===P&&(r=M),r)return!e||null!=m._loading&&m._loading[r]||(null==m._loading&&(m._loading={}),m._loading[r]=!0,r===O&&(y=0),m._loadData(r,e,function(e){if(!m._getField(a)){e&&K.setState(r,!0);var t="";a===C?t=m._generateLocalMID():r===O&&(t={error_msg:"timeout"}),m._setFields(r,t)}},i)),m._registerCallback(a,t),o||(e||m._setFields(r,{id:R}),"");return a!==C&&a!==P||o!==R||(n=!(o="")),t&&n&&m._callCallback(t,[o]),a===C&&j.subscribed&&(j.callbacks&&j.callbacks.length&&j.callbacks.forEach(function(e){m._callCallback(e,[o])}),j.subscribed=!1,j.callbacks.length=0),o},m._setMarketingCloudFields=function(e){m._readVisitor(),m._setFields(E,e)},m._mapCustomerIDs=function(e){m.getAudienceManagerBlob(e,!0)},m._setAnalyticsFields=function(e){m._readVisitor(),m._setFields(M,e)},m._setAudienceManagerFields=function(e){m._readVisitor(),m._setFields(O,e)},m._getAudienceManagerURLData=function(e){var t=m.audienceManagerServer,a="",n=m._getField(C),i=m._getField(N,!0),r=m._getField(P),o=r&&r!==R?"&d_cid_ic=AVID%01"+encodeURIComponent(r):"";if(m.loadSSL&&m.audienceManagerServerSecure&&(t=m.audienceManagerServerSecure),t){var s,c,d,l=m.getCustomerIDs(!0);if(l)for(c in l){var u=l[c];if(!G.isObjectEmpty(u)){var p="nameSpaces"===c?"&d_cid_ns=":"&d_cid_ic=";for(s in u)B(s)&&(d=u[s],o+=p+encodeURIComponent(s)+"%01"+encodeURIComponent(d.id?d.id:"")+(d.authState?"%01"+d.authState:""))}}e||(e="_setAudienceManagerFields");var h="http"+(m.loadSSL?"s":"")+"://"+t+"/id",g="d_visid_ver="+m.version+(v&&-1!==h.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+v:"")+(y&&-1!==h.indexOf("demdex.net")?"&d_cf="+y:"")+"&d_rtbd=json&d_ver=2"+(!n&&m._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(m.marketingCloudOrgID)+"&d_nsid="+(m.idSyncContainerID||0)+(n?"&d_mid="+encodeURIComponent(n):"")+(m.idSyncDisable3rdPartySyncing||m.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===w?"&d_coop_safe=1":!1===w?"&d_coop_unsafe=1":"")+(i?"&d_blob="+encodeURIComponent(i):"")+o,f=["s_c_il",m._in,e];return{url:a=h+"?"+g+"&d_cb=s_c_il%5B"+m._in+"%5D."+e,corsUrl:h+"?"+g,callback:f}}return{url:a}},m.appendVisitorIDsTo=function(e){try{var t=[[C,m._getField(C)],[P,m._getField(P)],["MCORGID",m.marketingCloudOrgID]];return m._addQuerystringParam(e,ne.ADOBE_MC,o(t))}catch(t){return e}},m.appendSupplementalDataIDTo=function(e,t){if(!(t=t||m.getSupplementalDataID(F.generateRandomString(),!0)))return e;try{var a=o([["SDID",t],["MCORGID",m.marketingCloudOrgID]]);return m._addQuerystringParam(e,ne.ADOBE_MC_SDID,a)}catch(t){return e}};var F={parseHash:function(e){var t=e.indexOf("#");return 0<t?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return 0<t?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,a){var n=e.split("&");return a=null!=a?a:n.length,n.splice(a,0,t),n.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,a){
return e===P&&(t||(t=m.trackingServer),a||(a=m.trackingServerSecure),!("string"!=typeof(n=m.loadSSL?a:t)||!n.length)&&n.indexOf("2o7.net")<0&&n.indexOf("omtrdc.net")<0);var n},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){$.remove(e,{domain:m.cookieDomain})},isTrackingServerPopulated:function(){return!!m.trackingServer||!!m.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var a=t.split("=");return e[a[0]]=decodeURIComponent(a[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",a="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=a[Math.floor(Math.random()*a.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var a in e)e.hasOwnProperty(a)&&"function"==typeof e[a]&&(e[a]=t);return e}};m._helpers=F;var H=ie(m,T);m._destinationPublishing=H,m.timeoutMetricsLog=[];var U,K={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case E:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case M:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case O:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};m.isClientSideMarketingCloudVisitorID=function(){return K.isClientSideMarketingCloudVisitorID},m.MCIDCallTimedOut=function(){return K.MCIDCallTimedOut},m.AnalyticsIDCallTimedOut=function(){return K.AnalyticsIDCallTimedOut},m.AAMIDCallTimedOut=function(){return K.AAMIDCallTimedOut},m.idSyncGetOnPageSyncInfo=function(){return m._readVisitor(),m._getField("MCSYNCSOP")},m.idSyncByURL=function(e){if(!m.isOptedOut()){var t=s(e||{});if(t.error)return t.error;var a,n,i=e.url,r=encodeURIComponent,o=H;return i=i.replace(/^https:/,"").replace(/^http:/,""),a=G.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),n=["ibs",r(e.dpid),"img",r(i),t.ttl,"",a],o.addMessage(n.join("|")),o.requestToProcess(),"Successfully queued"}},m.idSyncByDataSource=function(e){if(!m.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,m.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},Le(m,H),m._getCookieVersion=function(e){e=e||m.cookieRead(m.cookieName);var t=ne.VERSION_REGEX.exec(e);return t&&1<t.length?t[1]:null},m._resetAmcvCookie=function(e){var t=m._getCookieVersion();t&&!Z.isLessThan(t,e)||m.removeCookie(m.cookieName)},m.setAsCoopSafe=function(){w=!0},m.setAsCoopUnsafe=function(){w=!1},function(){if(m.configs=Object.create(null),F.isObject(a))for(var e in a)B(e)&&(m[e]=a[e],m.configs[e]=a[e])}(),d(),m.init=function(){c()&&(b.optIn.fetchPermissions(f,!0),!b.optIn.isApproved(b.optIn.Categories.ECID))||U||(U=!0,function(){if(F.isObject(a)){m.idSyncContainerID=m.idSyncContainerID||0,w="boolean"==typeof m.isCoopSafe?m.isCoopSafe:F.parseBoolean(m.isCoopSafe),m.resetBeforeVersion&&m._resetAmcvCookie(m.resetBeforeVersion),m._attemptToPopulateIdsFromUrl(),m._attemptToPopulateSdidFromUrl(),m._readVisitor();var e=m._getField(D),t=Math.ceil((new Date).getTime()/ne.MILLIS_PER_DAY);m.idSyncDisableSyncs||m.disableIdSyncs||!H.canMakeSyncIDCall(e,t)||(m._setFieldExpire(N,-1),m._setField(D,t)),m.getMarketingCloudVisitorID(),m.getAudienceManagerLocationHint(),m.getAudienceManagerBlob(),m._mergeServerState(m.serverState)}else m._attemptToPopulateIdsFromUrl(),m._attemptToPopulateSdidFromUrl()}(),function(){if(!m.idSyncDisableSyncs&&!m.disableIdSyncs){H.checkDPIframeSrc();var e=function(){var e=H;e.readyToAttachIframe()&&e.attachIframe()};S.addEventListener("load",function(){T.windowLoaded=!0,e()});try{ee.receiveMessage(function(e){H.receiveMessage(e.data)},H.iframeHost)}catch(e){}}}(),m.whitelistIframeDomains&&ne.POST_MESSAGE_ENABLED&&(m.whitelistIframeDomains=m.whitelistIframeDomains instanceof Array?m.whitelistIframeDomains:[m.whitelistIframeDomains],m.whitelistIframeDomains.forEach(function(e){var t=new z(n,e),a=Q(m,t);ee.receiveMessage(a,e)})))}};He.config=F;var Ue=Y.Visitor=He,Ke=function(i){if(G.isObject(i))return Object.keys(i).filter(function(e){return""!==i[e]&&F.getConfigs()[e]}).reduce(function(e,t){var a=F.normalizeConfig(t,i[t]),n=G.normalizeBoolean(a);return e[t]=n,e},Object.create(null))},qe=Be.OptIn,Ye=Be.IabPlugin;Ue.getInstance=function(n,e){if(!n)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");n.indexOf("@")<0&&(n+="@AdobeOrg");var t=function(){var e=Y.s_c_il;if(e)for(var t=0;t<e.length;t++){var a=e[t];if(a&&"Visitor"===a._c&&a.marketingCloudOrgID===n)return a}}();if(t)return t;var i,a=Ke(e)||{};i=a||{},Y.adobe.optIn=Y.adobe.optIn||function(){var e=G.pluck(i,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),t=i.optInCookieDomain||i.cookieDomain;t=(t=t||X())===window.location.hostname?"":t,e.optInCookieDomain=t;var a=new qe(e,{cookies:$});if(e.isIabContext&&e.doesOptInApply){var n=new Ye;a.registerPlugin(n)}return a}();var r=n.split("").reverse().join(""),o=new Ue(n,null,r);a.cookieDomain&&(o.cookieDomain=a.cookieDomain),a.sameSiteCookie&&a.secureCookie&&(o.configs={sameSiteCookie:a.sameSiteCookie,secureCookie:a.secureCookie}),Y.s_c_il.splice(--Y.s_c_in,1);var s=G.getIeVersion();if("number"==typeof s&&s<10)return o._helpers.replaceMethodsWithFunction(o,function(){});var c,d=function(){try{return Y.self!==Y.parent}catch(n){return!0}}()&&((c=o).cookieWrite("TEST_AMCV_COOKIE","T",1),"T"!==c.cookieRead("TEST_AMCV_COOKIE")||(c.removeCookie("TEST_AMCV_COOKIE"),0))&&Y.parent?new O(n,a,o,Y.parent):new Ue(n,a,r);return o=null,d.init(),d},function(){function e(){Ue.windowLoaded=!0}Y.addEventListener?Y.addEventListener("load",e):Y.attachEvent&&Y.attachEvent("onload",e),Ue.codeLoadEnd=(new Date).getTime()}()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){var t={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3};e.exports=t}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://lightning.pogo.tv/launch/7be62238e4c3/c012b89a1fe6/417329434f19/hostedLibFiles/EPc18819a3ae8e447cae97937dd08e60e3/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,a){"use strict";var n=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerPageBottomTrigger(t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,a,r){"use strict";var o,n,i,s,c=a("@adobe/reactor-document"),d=a("@adobe/reactor-promise"),l=a("./helpers/decorateCode"),u=a("./helpers/loadCodeSequentially"),p=a("../../../node_modules/postscribe/dist/postscribe"),h=a("./helpers/unescapeHtmlCode"),g=a("../helpers/findPageScript").getTurbine,f=(n=function(e){p(c.body,e,{beforeWriteToken:function(t){var e=t.tagName&&t.tagName.toLowerCase();return o&&"script"===e&&(t.attrs.nonce=o),"script"!==e&&"style"!==e||(Object.keys(t.attrs||{}).forEach(function(e){t.attrs[e]=h(t.attrs[e])}),t.src&&(t.src=h(t.src))),t},error:function(e){r.logger.error(e.msg)}})},i=[],s=function(){if(c.body)for(;i.length;)n(i.shift());else setTimeout(s,20)},function(e){i.push(e),s()}),_=function(){if(c.currentScript)return c.currentScript.async;var e=g();return!e||e.async}();e.exports=function(e,t){var a;o=r.getExtensionSettings().cspNonce;var n={settings:e,event:t},i=n.settings.source;if(i)return n.settings.isExternal?u(i).then(function(e){return e?(a=l(n,e),f(a.code),a.promise):d.resolve()}):(a=l(n,i),_||"loading"!==c.readyState?f(a.code):c.write&&!1===r.propertySettings.ruleComponentSequencingEnabled?c.write(a.code):f(a.code),a.promise)}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,a){"use strict";var n=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerDomReadyTrigger(t)}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window"),i=a("@adobe/reactor-document"),r=-1!==n.navigator.appVersion.indexOf("MSIE 10"),o="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",d=[c,s,o],l=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};d.forEach(function(e){u[e]=[]});var p=function(e,t){d.slice(0,g(e)+1).forEach(function(e){f(t,e)})},h=function(){return"complete"===i.readyState?o:"interactive"===i.readyState?r?null:s:void 0},g=function(e){return d.indexOf(e)},f=function(t,e){u[e].forEach(function(e){_(t,e)}),u[e]=[]},_=function(e,t){var a=t.trigger,n=t.syntheticEventFn;a(n?n(e):null)};n._satellite=n._satellite||{},n._satellite.pageBottom=p.bind(null,c),i.addEventListener("DOMContentLoaded",p.bind(null,s),!0),n.addEventListener("load",p.bind(null,o),!0),n.setTimeout(function(){var e=h();e&&p(e)},0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[c].push({trigger:e})},registerDomReadyTrigger:function(e){u[s].push({trigger:e,syntheticEventFn:l.bind(null,i)})},registerWindowLoadedTrigger:function(e){u[o].push({trigger:e,syntheticEventFn:l.bind(null,n)})}}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,a){"use strict";var n=a("./decorators/decorateGlobalJavaScriptCode"),i=a("./decorators/decorateNonGlobalJavaScriptCode"),r={javascript:function(e,t){return e.settings.global?n(e,t):i(e,t)},html:a("./decorators/decorateHtmlCode")};e.exports=function(e,t){return r[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise"),i=a("./getSourceByUrl"),r=n.resolve();e.exports=function(t){var e=new n(function(a){var e=i(t);n.all([e,r]).then(function(e){var t=e[0];a(t)})});return r=e}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(a,n){!function i(e,t){"object"==typeof n&&"object"==typeof a?a.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof n?n.postscribe=t():e.postscribe=t()}(this,function(){return function(a){function n(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return a[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var i={};return n.m=a,n.c=i,n.p="",n(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=n(a(1));e.exports=i["default"]},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function d(){}function l(){var e=c.shift();if(e){var t=o.last(e);t.afterDequeue(),e.stream=r.apply(undefined,e),t.afterStreamStart()}}function r(e,t,n){function i(e){e=n.beforeWrite(e),f.write(e),n.afterWrite(e)}(f=new h["default"](e,n)).id=g++,f.name=n.name||f.id,u.streams[f.name]=f;var a=e.ownerDocument,r={close:a.close,open:a.open,write:a.write,writeln:a.writeln};p(a,{close:d,open:d,write:function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return i(t.join(""))},writeln:function c(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return i(t.join("")+"\n")}});var o=f.win.onerror||d;return f.win.onerror=function(e,t,a){n.error({msg:e+" - "+t+": "+a}),o.apply(f.win,[e,t,a])},f.write(t,function(){p(a,r),f.win.onerror=o,n.done(),f=null,l()}),f}function u(e,t,a){if(o.isFunction(a))a={done:a};else if("clear"===a)return c=[],f=null,void(g=0);a=o.defaults(a,s);var n=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,a];return e.postscribe={cancel:function i(){n.stream?n.stream.abort():n[1]=d}},a.beforeEnqueue(n),c.push(n),f||l(),e.postscribe}t.__esModule=!0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t["default"]=u;var h=i(a(2)),o=n(a(4)),s={afterAsync:d,afterDequeue:d,afterStreamStart:d,afterWrite:d,autoFix:!0,beforeEnqueue:d,beforeWriteToken:function _(e){return e},beforeWrite:function m(e){return e},done:d,error:function b(e){throw new Error(e.msg)},releaseAsync:!1},g=0,c=[],f=null;p(u,{streams:{},queue:c,WriteStream:h["default"]})},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){var a=w+t,n=e.getAttribute(a);return T.existy(n)?String(n):n}function A(e,t,a){var n=2<arguments.length&&a!==undefined?arguments[2]:null,i=w+t;T.existy(n)&&""!==n?e.setAttribute(i,n):e.removeAttribute(i)}t.__esModule=!0;var I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},S=i(a(3)),T=n(a(4)),k=!1,w="data-ps-",E="ps-style",C="ps-script",r=function(){function n(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:{};v(this,n),this.root=e,this.options=a,this.doc=e.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new S["default"]("",{autoFix:a.autoFix}),this.actuals=[e],this.proxyHistory="",this.proxyRoot=this.doc.createElement(e.nodeName),this.scriptStack=[],this.writeQueue=[],A(this.proxyRoot,"proxyof",0)}return n.prototype.write=function a(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();T.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},n.prototype._callFunction=function i(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},n.prototype._writeImpl=function r(e){this.parser.append(e);for(var t=void 0,a=void 0,n=void 0,i=[];(t=this.parser.readToken())&&!(a=T.isScript(t))&&!(n=T.isStyle(t));)(t=this.options.beforeWriteToken(t))&&i.push(t);0<i.length&&this._writeStaticTokens(i),a&&this._handleScriptToken(t),n&&this._handleStyleToken(t)},n.prototype._writeStaticTokens=function o(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,k&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),k&&(t.actualInnerHTML=this.root.innerHTML),t):null},n.prototype._buildChunk=function l(e){for(var t=this.actuals.length,a=[],n=[],i=[],r=e.length,o=0;o<r;o++){var s=e[o],c=s.toString();if(a.push(c),s.attrs){if(!/^noscript$/i.test(s.tagName)){var d=t++;n.push(c.replace(/(\/?>)/," "+w+"id="+d+" $1")),s.attrs.id!==C&&s.attrs.id!==E&&i.push("atomicTag"===s.type?"":"<"+s.tagName+" "+w+"proxyof="+d+(s.unary?" />":">"))}}else n.push(c),i.push("endTag"===s.type?c:"")}return{tokens:e,raw:a.join(""),actual:n.join(""),proxy:i.join("")}},n.prototype._walkChunk=function s(){for(var e=void 0,t=[this.proxyRoot];T.existy(e=t.shift());){var a=1===e.nodeType;if(!a||!y(e,"proxyof")){a&&A(this.actuals[y(e,"id")]=e,"id");var n=e.parentNode&&y(e.parentNode,"proxyof");n&&this.actuals[n].appendChild(e)}t.unshift.apply(t,T.toArray(e.childNodes))}},n.prototype._handleScriptToken=function c(e){var t=this,a=this.parser.clear();a&&this.writeQueue.unshift(a),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,function(){t._onScriptDone(e)}))},n.prototype._handleStyleToken=function d(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},n.prototype._writeStyleToken=function u(e){var t=this._buildStyle(e);this._insertCursor(t,E),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},n.prototype._buildStyle=function t(e){var a=this.doc.createElement(e.tagName);return a.setAttribute("type",e.type),T.eachKey(e.attrs,function(e,t){a.setAttribute(e,t)}),a},n.prototype._insertCursor=function p(e,t){this._writeImpl('<span id="'+t+'"/>');var a=this.doc.getElementById(t);a&&a.parentNode.replaceChild(e,a)},n.prototype._onScriptStart=function h(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},n.prototype._onScriptDone=function g(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},n.prototype._writeScriptToken=function f(e,t){var a=this._buildScript(e),n=this._shouldRelease(a),i=this.options.afterAsync;e.src&&(a.src=e.src,this._scriptLoadHandler(a,n?i:function(){t(),i()}));try{this._insertCursor(a,C),a.src&&!n||t()}catch(r){this.options.error(r),t()}},n.prototype._buildScript=function _(e){var a=this.doc.createElement(e.tagName);return T.eachKey(e.attrs,function(e,t){a.setAttribute(e,t)}),e.content&&(a.text=e.content),a},n.prototype._scriptLoadHandler=function m(t,a){function n(){t=t.onload=t.onreadystatechange=t.onerror=null}function i(){n(),null!=a&&a(),a=null}function r(e){n(),o(e),null!=a&&a(),a=null}function e(e,t){var a=e["on"+t];null!=a&&(e["_on"+t]=a)}var o=this.options.error;e(t,"load"),e(t,"error"),I(t,{onload:function s(){if(t._onload)try{t._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){r({msg:"onload handler failed "+e+" @ "+t.src})}i()},onerror:function c(){if(t._onerror)try{t._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){return void r({msg:"onerror handler failed "+e+" @ "+t.src})}r({msg:"remote script failed "+t.src})},onreadystatechange:function d(){/^(loaded|complete)$/.test(t.readyState)&&i()}})},n.prototype._shouldRelease=function b(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},n}();t["default"]=r},function(a){!function n(e,t){a.exports=t()}(0,function(){return function(a){function n(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return a[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var i={};return n.m=a,n.c=i,n.p="",n(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=n(a(1));e.exports=i["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var u=i(a(2)),p=i(a(3)),h=n(a(6)),r=a(5),g={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},o=function(){function c(e,t){var a=this,n=0<arguments.length&&e!==undefined?arguments[0]:"",i=1<arguments.length&&t!==undefined?arguments[1]:{};l(this,c),this.stream=n;var r=!1,o={};for(var s in u)u.hasOwnProperty(s)&&(i.autoFix&&(o[s+"Fix"]=!0),r=r||o[s+"Fix"]);r?(this._readToken=(0,h["default"])(this,o,function(){return a._readTokenImpl()}),this._peekToken=(0,h["default"])(this,o,function(){return a._peekTokenImpl()})):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return c.prototype.append=function t(e){this.stream+=e},c.prototype.prepend=function a(e){this.stream=e+this.stream},c.prototype._readTokenImpl=function n(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},c.prototype._peekTokenImpl=function i(){for(var e in g)if(g.hasOwnProperty(e)&&g[e].test(this.stream)){var t=p[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},c.prototype.peekToken=function e(){return this._peekToken()},c.prototype.readToken=function r(){return this._readToken()},c.prototype.readTokens=function o(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},c.prototype.clear=function s(){var e=this.stream;return this.stream="",e},c.prototype.rest=function d(){return this.stream},c}();for(var s in(t["default"]=o).tokenToString=function(e){return e.toString()},o.escapeAttributes=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=(0,r.escapeQuotes)(e[a],null));return t},o.supports=u)u.hasOwnProperty(s)&&(o.browserHasFlaw=o.browserHasFlaw||!u[s]&&s)},function(e,t){"use strict";var a=!(t.__esModule=!0),n=!1,i=window.document.createElement("div");try{var r="<P><I></P></I>";i.innerHTML=r,t.tagSoup=a=i.innerHTML!==r}catch(o){t.tagSoup=a=!1}try{i.innerHTML="<P><i><P></P></i></P>",t.selfClose=n=2===i.childNodes.length}catch(o){t.selfClose=n=!1}i=null,t.tagSoup=a,t.selfClose=n},function(e,t,a){"use strict";function n(e){var t=e.indexOf("-->");if(0<=t)return new l.CommentToken(e.substr(4,t-1),t+3)}function i(e){var t=e.indexOf("<");return new l.CharsToken(0<=t?t:e.length)}function r(e){var o,s,c;if(-1!==e.indexOf(">")){var t=e.match(u.startTag);if(t){var a=(o={},s={},c=t[2],t[2].replace(u.attr,function(e,t,a,n,i,r){a||n||i||r?arguments[5]?(o[arguments[5]]="",s[arguments[5]]=!0):o[t]=arguments[2]||arguments[3]||arguments[4]||u.fillAttr.test(t)&&t||"":o[t]="",c=c.replace(e,"")}),{v:new l.StartTagToken(t[1],t[0].length,o,s,!!t[3],c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===a?"undefined":d(a)))return a.v}}}function o(e){var t=r(e);if(t){var a=e.slice(t.length);if(a.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var n=a.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(n)return new l.AtomicTagToken(t.tagName,n[0].length+t.length,t.attrs,t.booleanAttrs,n[1])}}}function s(e){var t=e.match(u.endTag);if(t)return new l.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=n,t.chars=i,t.startTag=r,t.atomicTag=o,t.endTag=s;var l=a(4),u={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,a){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=undefined;var c=a(5),n=t.Token=function n(e,t){s(this,n),this.type=e,this.length=t,this.text=""},i=(t.CommentToken=function(){function a(e,t){s(this,a),this.type="comment",this.length=t||(e?e.length:0),this.text="",this.content=e}return a.prototype.toString=function e(){return"<!--"+this.content},a}(),t.CharsToken=function(){function t(e){s(this,t),this.type="chars",this.length=e,this.text=""}return t.prototype.toString=function e(){return this.text},t}(),t.TagToken=function(){function r(e,t,a,n,i){s(this,r),this.type=e,this.length=a,this.text="",this.tagName=t,this.attrs=n,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1}return r.formatTag=function o(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:null,n="<"+e.tagName;for(var i in e.attrs)if(e.attrs.hasOwnProperty(i)){n+=" "+i;var r=e.attrs[i];"undefined"!=typeof e.booleanAttrs&&"undefined"!=typeof e.booleanAttrs[i]||(n+='="'+(0,c.escapeQuotes)(r)+'"')}return e.rest&&(n+=" "+e.rest),e.unary&&!e.html5Unary?n+="/>":n+=">",a!==undefined&&null!==a&&(n+=a+"</"+e.tagName+">"),n},r}());t.StartTagToken=function(){function o(e,t,a,n,i,r){s(this,o),this.type="startTag",this.length=t,this.text="",this.tagName=e,this.attrs=a,this.booleanAttrs=n,this.html5Unary=!1,this.unary=i,this.rest=r}return o.prototype.toString=function e(){return i.formatTag(this)},o}(),t.AtomicTagToken=function(){function r(e,t,a,n,i){s(this,r),this.type="atomicTag",this.length=t,this.text="",this.tagName=e,this.attrs=a,this.booleanAttrs=n,this.unary=!1,this.html5Unary=!1,this.content=i}return r.prototype.toString=function e(){return i.formatTag(this,this.content)},r}(),t.EndTagToken=function(){function a(e,t){s(this,a),this.type="endTag",this.length=t,this.text="",this.tagName=e}return a.prototype.toString=function e(){return"</"+this.tagName+">"},a}()},function(e,t){"use strict";function a(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:"";return e?e.replace(/([^"]*)"/g,function(e,t){return/\\/.test(t)?t+'"':t+'\\"'}):a}t.__esModule=!0,t.escapeQuotes=a},function(e,t){"use strict";function d(e){return e&&"startTag"===e.type&&(e.unary=n.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function l(e,t){var a=e.stream,n=d(t());return e.stream=a,n}function u(e,t){var a=t.pop();e.prepend("</"+a.tagName+">")}function p(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,a=0;t=this[a];a++)if(t.tagName===e)return!0;return!1},e}function a(a,n,t){function i(){var e=l(a,t);e&&o[e.type]&&o[e.type](e)}var r=p(),o={startTag:function s(e){var t=e.tagName;"TR"===t.toUpperCase()&&r.lastTagNameEq("TABLE")?(a.prepend("<TBODY>"),i()):n.selfCloseFix&&h.test(t)&&r.containsTagName(t)?r.lastTagNameEq(t)?u(a,r):(a.prepend("</"+e.tagName+">"),i()):e.unary||r.push(e)},endTag:function c(e){r.last()?n.tagSoupFix&&!r.lastTagNameEq(e.tagName)?u(a,r):r.pop():n.tagSoupFix&&(t(),i())}};return function e(){return i(),d(t())}}t.__esModule=!0,t["default"]=a;var n=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,h=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])})},function(e,t){"use strict";function n(e){return null!=e}function a(e){return"function"==typeof e}function i(e,t,a){var n=void 0,i=e&&e.length||0;for(n=0;n<i;n++)t.call(a,e[n],n)}function r(e,t,a){for(var n in e)e.hasOwnProperty(n)&&t.call(a,n,e[n])}function o(a,e){return a=a||{},r(e,function(e,t){n(a[e])||(a[e]=t)}),a}function s(e){try{return Array.prototype.slice.call(e)}catch(n){var t=(a=[],i(e,function(e){a.push(e)}),{v:a});if("object"===(void 0===t?"undefined":p(t)))return t.v}var a}function c(e){return e[e.length-1]}function d(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function l(e){return d(e,"script")}function u(e){return d(e,"style")}t.__esModule=!0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=n,t.isFunction=a,t.each=i,t.eachKey=r,t.defaults=o,t.toArray=s,t.last=c,t.isTag=d,t.isScript=l,t.isStyle=u}])})}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document").createElement("div");e.exports=function(e){return n.innerHTML=e,n.textContent||n.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,a){"use strict";var i=a("@adobe/reactor-document"),n=function(e){for(var t=i.querySelectorAll("script"),a=0;a<t.length;a++){var n=t[a];if(e.test(n.src))return n}},r=function(){return n(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:r,byRegexPattern:n}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:n.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var r=a("@adobe/reactor-promise"),o=0;e.exports=function(n,e){var i="_runScript"+ ++o,t=new r(function(e,a){_satellite[i]=function(t){delete _satellite[i],new r(function(e){e(t.call(n.event.element,n.event,n.event.target,r))}).then(e,a)}});return{code:'<script>_satellite["'+i+'"](function(event, target, Promise) {\n'+e+"\n});</script>",promise:t}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,a,n){"use strict";var i=a("@adobe/reactor-promise"),r=0,o={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=o[e];t&&(delete o[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=o[e];t&&(delete o[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},d=function(e){return e.settings.isExternal};e.exports=function(e,t){var a;return d(e)&&(t=n.replaceTokens(t,e.event)),s(t)?(a=new i(function(e,t){o[String(r)]={resolve:e,reject:t}}),t=c(t,r),r+=1):a=i.resolve(),{code:t,promise:a}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-load-script"),i=a("@adobe/reactor-promise"),r=a("../../helpers/findPageScript").byRegexPattern,o={},s={},c=function(e){return s[e]||(s[e]=n(e)),s[e]};_satellite.__registerScript=function(e,t){var a;if(document.currentScript)a=document.currentScript.getAttribute("src");else{var n=new RegExp(".*"+e+".*");a=r(n).getAttribute("src")}o[a]=t},e.exports=function(t){return o[t]?i.resolve(o[t]):new i(function(e){c(t).then(function(){e(o[t])},function(){e()})})}}}}},"adobe-analytics":{displayName:"Adobe Analytics",hostedLibFilesBaseUrl:"https://lightning.pogo.tv/launch/7be62238e4c3/c012b89a1fe6/417329434f19/hostedLibFiles/EP6326e4d6b32f4a71ad5204459cc57d66/",settings:{orgId:"7FF852E2556756057F000101@AdobeOrg",libraryCode:{type:"custom",source:"https://lightning.pogo.tv/launch/7be62238e4c3/c012b89a1fe6/417329434f19/EXc57a458dea7441c89c87aed02e145d5e-libraryCode_source.min.js",trackerVariableName:"s"},trackerProperties:{trackInlineStats:!0,trackDownloadLinks:!0,trackExternalLinks:!0,linkDownloadFileTypes:["doc","docx","eps","jpg","png","svg","xls","ppt","pptx","pdf","xlsx","tab","csv","zip","txt","vsd","vxd","xml","js","css","rar","exe","wma","mov","avi","wmv","mp3","wav","m4v"]}},modules:{"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,t,a,n){"use strict";var i,r=a("@adobe/reactor-cookie"),o=a("@adobe/reactor-promise"),s=a("@adobe/reactor-window"),c=a("../helpers/settingsHelper"),d=a("../helpers/augmenters"),l=a("../helpers/applyTrackerVariables"),u=a("../helpers/loadLibrary"),p=a("../helpers/generateVersion")(n.buildInfo.turbineBuildDate),h="beforeSettings",g=n.getSharedModule("adobe-mcid","mcid-instance"),f=function(e){return!e||"true"===r.get(e)},_=function(n){return o.all(d.map(function(e){var t;try{t=e(n)}catch(a){setTimeout(function(){throw a})}return o.resolve(t)})).then(function(){return n})},m=function(e){return g&&(n.logger.info("Setting MCID instance on the tracker."),e.visitor=g),e},b=function(e){return n.logger.info('Setting version on tracker: "'+p+'".'),"undefined"!=typeof e.tagContainerMarker?e.tagContainerMarker=p:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+p&&(e.version+="-"+p),e},v=function(e,t,a){return t.loadPhase===h&&t.source&&(n.logger.info("Calling custom script before settings."),t.source.call(s,a)),l(a,e||{}),t.loadPhase!==h&&t.source&&(n.logger.info("Calling custom script after settings."),t.source.call(s,a)),a},y=function(e,t){return c.isAudienceManagementEnabled(e)&&(t.loadModule("AudienceManagement"),n.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)),t},A=(i=n.getExtensionSettings(),f(i.trackingCookieName)?u(i).then(_).then(m).then(b).then(v.bind(null,i.trackerProperties,i.customSetup||{})).then(y.bind(null,i)):o.reject("EU compliance was not acknowledged by the user."));e.exports=function(){return A}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,
script:function(e,t,a){"use strict";var n=a("../helpers/augmenters");e.exports=function(e){n.push(e)}}},"adobe-analytics/src/lib/helpers/settingsHelper.js":{script:function(e,t,a,n){"use strict";var i=a("@adobe/reactor-window"),r={LIB_TYPES:{MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},MANAGED_LIB_PATHS:{APP_MEASUREMENT:"AppMeasurement.js",ACTIVITY_MAP:"AppMeasurement_Module_ActivityMap.js",AUDIENCE_MANAGEMENT:"AppMeasurement_Module_AudienceManagement.js"},getReportSuites:function(e){var t=e.production;return e[n.environment.stage]&&(t=e[n.environment.stage]),t.join(",")},isActivityMapEnabled:function(e){return!(e.libraryCode&&!e.libraryCode.useActivityMap&&!1===e.libraryCode.useActivityMap)},isAudienceManagementEnabled:function(e){var t=!1;return e&&e.moduleProperties&&e.moduleProperties.audienceManager&&e.moduleProperties.audienceManager.config&&i&&i._satellite&&i._satellite.company&&i._satellite.company.orgId&&(t=!0),t}};e.exports=r}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,a,o){"use strict";var i=a("@adobe/reactor-query-string"),r=a("@adobe/reactor-window"),s=/eVar([0-9]+)/,c=/prop([0-9]+)/,d=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),l=function(e,t,a){return a.indexOf(e)===t},u=function(e,t,a){var n=Object.keys(t).filter(d.test.bind(d));return a&&n.push("events"),(n=n.concat((e.linkTrackVars||"").split(","))).filter(function(e,t){return"None"!==e&&e&&l(e,t,n)}).join(",")},p=function(e,t){var a=t.map(function(e){return e.name});return(a=a.concat((e.linkTrackEvents||"").split(","))).filter(function(e,t){return"None"!==e&&l(e,t,a)}).join(",")},n=function(e,t,a){e[t]=a[t].join(",")},h=function(i,e,t){var r=t.dynamicVariablePrefix||"D=";t[e].forEach(function(e){var t;if("value"===e.type)t=e.value;else{var a=s.exec(e.value);if(a)t=r+"v"+a[1];else{var n=c.exec(e.value);n&&(t=r+"c"+n[1])}}i[e.name]=t})},g={linkDownloadFileTypes:n,linkExternalFilters:n,linkInternalFilters:n,hierarchies:function(t,e,a){a[e].forEach(function(e){t[e.name]=e.sections.join(e.delimiter)})},props:h,eVars:h,campaign:function(e,t,a){if("queryParam"===a[t].type){var n=i.parse(r.location.search);e[t]=n[a[t].value]}else e[t]=a[t].value},events:function(e,t,a){var n=a[t].map(function(e){var t=e.name;return e.id&&(t=[t,e.id].join(":")),e.value&&(t=[t,e.value].join("=")),t});e[t]=n.join(",")}};e.exports=function(t,n){var i={};n=n||{},Object.keys(n).forEach(function(e){var t=g[e],a=n[e];t?t(i,e,n):i[e]=a}),i.events&&t.events&&0<t.events.length&&(i.events=t.events+","+i.events);var e=n&&n.events&&0<n.events.length,a=u(t,i,e);a&&(i.linkTrackVars=a);var r=p(t,n.events||[]);r&&(i.linkTrackEvents=r),o.logger.info('Applying the following properties on tracker: "'+JSON.stringify(i)+'".'),Object.keys(i).forEach(function(e){t[e]=i[e]})}}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,a,n){"use strict";var i=a("@adobe/reactor-load-script"),r=a("@adobe/reactor-window"),o=a("@adobe/reactor-promise"),s=a("./settingsHelper"),c=a("./pollHelper"),d=function(e,t){if(!r.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+r.AppMeasurement);n.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');var a=r.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(n.logger.info("Setting the tracker as window.s"),r.s=a),a},l=function(e){var t=[];switch(e.libraryCode.type){case s.LIB_TYPES.MANAGED:t.push(n.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.APP_MEASUREMENT)),s.isActivityMapEnabled(e)&&t.push(n.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.ACTIVITY_MAP));break;case s.LIB_TYPES.CUSTOM:t.push(e.libraryCode.source);break;case s.LIB_TYPES.REMOTE:t.push("https:"===r.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl)}if(s.isAudienceManagementEnabled(e)){var a={namespace:r._satellite.company.orgId};e.moduleProperties.audienceManager.config.visitorService=a,t.push(n.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT))}return t},u=function(e){return o.all(l(e).map(function(e){return n.logger.info("Loading script: "+e),i(e)}))},p=function(e,t){if(e.libraryCode.accounts)if(t.sa){var a=s.getReportSuites(e.libraryCode.accounts);n.logger.info('Setting the following report suites on the tracker: "'+a+'"'),t.sa(a)}else n.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return t},h=function(e){if(r[e])return n.logger.info('Found tracker located at: "'+e+'".'),r[e];throw new Error('Cannot find the global variable name: "'+e+'".')};e.exports=function(e){var t=u(e);switch(e.libraryCode.type){case s.LIB_TYPES.MANAGED:var a=s.getReportSuites(e.libraryCode.accounts);return t.then(d.bind(null,e,a));case s.LIB_TYPES.PREINSTALLED:return t.then(c.poll.bind(null,r,e.libraryCode.trackerVariableName)).then(p.bind(null,e));case s.LIB_TYPES.CUSTOM:case s.LIB_TYPES.REMOTE:return t.then(h.bind(null,e.libraryCode.trackerVariableName)).then(p.bind(null,e));default:throw new Error("Cannot load library. Type not supported.")}}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";var t=8,a=function(e){return e.getUTCDate().toString(36)},n=function(e){return e.substr(e.length-1)},i=function(e){return Math.floor(e.getUTCHours()/t)},r=function(e){var t=(e.getUTCMonth()+1+12*i(e)).toString(36);return n(t)},o=function(e){return(e.getUTCFullYear()-2010).toString(36)};e.exports=function(e){var t=new Date(e);if(isNaN(t))throw new Error("Invalid date provided");return("L"+o(t)+r(t)+a(t)).toUpperCase()}}},"adobe-analytics/src/lib/helpers/pollHelper.js":{script:function(e,t,a,n){"use strict";var o=a("@adobe/reactor-promise"),s=40,c=250,d=function(e,t,a){n.logger.info('Found property located at: "'+t+'"].'),e(a)},i=function(i,r){return new o(function(e,t){if(i[r])return d(e,r,i[r]);var a=1,n=setInterval(function(){i[r]&&(d(e,r,i[r]),clearInterval(n)),s<=a&&(clearInterval(n),t(new Error('Bailing out. Cannot find the variable name: "'+r+'"].'))),a++},c)})};e.exports={poll:function(e,t){return n.logger.info('Waiting for the property to become accessible at: "'+t+'"].'),i(e,t)}}}}}}},company:{orgId:"7FF852E2556756057F000101@AdobeOrg"},property:{name:"Intl Pogo TV Web",settings:{domains:["pogo.tv"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!0},id:"PRe5ed3d3ccb374b93b5da06f7888207b0"},rules:[{id:"RL092dcac4202b4873acff91b6d4c4be4c",name:"3.1. Adobe Page Events (Page Bottom)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'/* trackMetrics PubSub Publisher */\n!function(){"use strict";function a(a){if("[object String]"!==Object.prototype.toString.call(a))throw new TypeError("Event is not a string.")}function b(a){if("function"!=typeof a)throw new TypeError("Handler is not a function")}var c={},d={};d.publish=d.pub=function(b){if(a(b),c[b])for(var d={event:b,args:Array.prototype.slice.call(arguments,1)},e=0,f=c[b].length;f>e;e++)c[b][e].apply(d,d.args)},d.subscribe=d.sub=function(d,e){a(d),b(e),(c[d]=c[d]||[]).push(e)},d.unsubscribe=d.unsub=function(){var d,e,f,g,h=Array.prototype.slice.call(arguments);if(h.length>=2){if(d=h[0],e=h[1],a(d),b(e),!c[d])return;for(f=0,g=c[d].length;g>f;f++)c[d][f]===e&&c[d].splice(f,1)}else{e=h[0],b(e);for(d in c)for(f=0,g=c[d].length;g>f;f++)c[d][f]===e&&c[d].splice(f,1)}},"function"==typeof define&&define.amd?define(function(){return d}):"object"==typeof module&&module.exports?module.exports=d:window.PubSub=d}();\n\nwindow.trackMetrics = function(idata) {\n    window.PubSub.publish(idata.type, idata.data);\n};\nwindow.trackVideoMetrics = function(vdata) {\n    window.PubSub.publish(vdata.type, vdata.data);\n};\n\n/* page view tracking after page load */\nwindow.PubSub.subscribe("pageview", function(pdata) {\n    var tAAC = ((window.tdi || {}).configuration || {}).adobeAnalytics || {},\n        s = window[tAAC.adobeObj] || window.tdi_s || window.s || {},\n        tm = window.turner_metadata || {},\n        tU = (window.tdi || {}).util || {},\n        hstNme = "",\n        spcLstPub = (((window.tdi || {}).configuration || {}).launch || {}).spaceLastPublished || "";\n\n    /* iterate through data object sent through trackAction push and force to be strings and lower case */\n    for (var x in pdata) {\n        try {\n            pdata[x] = pdata[x].toString();\n            pdata[x] = pdata[x].toLowerCase();\n        } catch (e) {\n            console.log("[WARNING] -- The value of the *" + x.toUpperCase() + "* param has a wrong format or is null/undefined. This is the related error: " + e.message);\n        }\n    }\n\n    function domainFix(a) {\n        if (!/^web\\|/.test(a)) {\n            a = "web|" + a;\n        }\n        return a;\n    }\n    hstNme = !!pdata.domain ? domainFix(pdata.domain) : "web|" + window.location.hostname.replace("www.", "");\n\n    s.pageType = pdata.siteerrors === "pagenotfound" ? "errorPage" : ""; /* indicates 404 page */\n    /* set pageName to empty string if pageType is a 404 page */\n    s.pageName = s.pageType === "errorPage" ? "" : pdata.pageName || tm.pageName || (document.location.hostname.replace(/^www\\w+\\./, \'\') + document.location.pathname);\n    s.channel = pdata.section ? String(pdata.section).toLocaleLowerCase() : "";\n    s.products = pdata.products || "";\n    s.events = pdata.productsevent || "";\n    s.campaign = s.Util.getQueryParam("cid");\n    s.server = hstNme;\n    var transactionID = "";\n    try { transactionID = _satellite.getVar("1.3 transactionID"); } catch(e) {}\n\n    s.contextData = {\n        "domain": hstNme,\n        "ensighten": spcLstPub,\n        "version": spcLstPub,\n        "url": window.location.hostname + window.location.pathname,\n        "platform": "web",\n        "internalcampaign": s.Util.getQueryParam("iid"),\n        "screenorientation": tU.getOrientation ? tU.getOrientation() : "",\n        "transactionid": tAAC.trackTransactionId ? (transactionID ? transactionID : "") : "",\n        "pageviewevent": 1\n    };\n\n    /* filter out data in pageview event according to Configuration file */\n    function pageDataFilterOut(pageKey, tAAC) {\n        if (tAAC.pageViewBlockList && Object.prototype.toString.call(tAAC.pageViewBlockList) === "[object Array]" && tAAC.pageViewBlockList.length > 0) {\n            var pageData = tAAC.pageViewBlockList;\n            for (var x = 0; x < pageData.length; x++) {\n                if (pageData[x] === pageKey) {\n                    return false;\n                }\n            }\n        } else if (typeof tAAC.pageViewBlockList === \'undefined\') {\n            return true;\n        }\n        return true;\n    }\n\n    for (var pKey in pdata) {\n        if (pdata.hasOwnProperty(pKey) && (typeof pdata[pKey] === \'string\' || typeof pdata[pKey] === \'number\' || typeof pdata[pKey] === \'boolean\') && pageDataFilterOut(pKey, tAAC)) {\n            s.contextData[pKey] = typeof pdata[pKey] === \'string\' ? pdata[pKey].toLowerCase() : pdata[pKey];\n        }\n    }\n\n    if (pdata.searchterm && pdata.searchterm != "") {\n        s.contextData.internalsearchevent = 1;\n    }\n\n    s.t();\n\n    s.contextData = {};\n\n    /* Game Tracking Timer Failsafe */\n    /* Assumes Zero Page Views within a Game */\n    /* Stops Game Progress Timer on Page View */\n    if (window.gameprogress) {\n        clearTimeout(window.gameprogress);\n        window.gameprogress = null;\n    }\n});\n\n/* interaction tracking */\nwindow.PubSub.subscribe("interaction", function(idata) {\n    var tAAC = ((window.tdi || {}).configuration || {}).adobeAnalytics || {},\n        s = window[tAAC.adobeObj] || window.tdi_s || window.s || {},\n        tm = window.turner_metadata || {},\n        tU = (window.tdi || {}).util || {},\n        hstNme = "",\n        spcLstPub = (((window.tdi || {}).configuration || {}).launch || {}).spaceLastPublished || "",\n        tempTrackData = {},\n        linkTrackVarArr = [];\n\n    /* iterate through data object sent through trackAction push and force to be strings and lower case */\n    for (var x in idata) {\n        try {\n            idata[x] = idata[x].toString();\n            idata[x] = idata[x].toLowerCase();\n        } catch (e) {\n            console.log("[WARNING] -- The value of the *" + x.toUpperCase() + "* param has a wrong format or is null/undefined. This is the related error: " + e.message);\n        }\n    }\n\n    function domainFix(a) {\n        if (!/^web\\|/.test(a)) {\n            a = "web|" + a;\n        }\n        return a;\n    }\n    hstNme = !!idata.domain ? domainFix(idata.domain) : "web|" + window.location.hostname.replace("www.", "");\n\n    /* used to hold temporary tracking variables */\n    tempTrackData = {\n        /* set pageName to empty string if pageType is a 404 page */\n        /* To prevent issues where logic depends on pageName */\n        "pageName": s.pageType === "errorPage" ? "" : idata.pageName || tm.pageName || (document.location.hostname.replace(/^www\\w+\\./, \'\') + document.location.pathname),\n        "channel": idata.section || "",\n        "products": idata.products || "",\n        "events": idata.productsevent || "",\n        "campaign": s.Util.getQueryParam("cid"),\n        "server": hstNme,\n        "contextData": {\n            "ensighten": spcLstPub,\n            "version": spcLstPub,\n            "url": window.location.hostname + window.location.pathname,\n            "interactionevent": 1,\n            "featuredcontentevent": idata.featuredcontentevent ? 1 : "",\n            "featuredcontent": idata.featuredcontentevent && idata.featuredcontent ? idata.featuredcontent : "",\n            "internalcampaign": idata.featuredcontentevent && idata.internalcampaign ? idata.internalcampaign : "",\n            "gamestart": idata.gamestart ? 1 : "",\n            "gamereplay": idata.gamereplay ? 1 : "",\n            "gameexit": idata.gameexit ? 1 : "",\n            "gamecomplete": idata.gamecomplete ? 1 : "",\n            "registrationevent": idata.registrationevent ? 1 : "",\n            "loginevent": idata.loginevent ? 1 : "",\n            "internalsearchevent": idata.internalsearchevent ? 1 : "",\n            "domain": idata.domain || tm.domain || ("web|" + window.location.hostname.replace("www.", "")),\n            "screenorientation": tU.getOrientation ? tU.getOrientation() : ""\n        },\n        "linkTrackVars": "",\n        "linkTrackEvents": ""\n    };\n\n    /* filter out data in interaction event according to Configuration file */\n    function interactionDataFilterOut(interactionKey, tAAC) {\n        if (tAAC.interactionBlockList && Object.prototype.toString.call(tAAC.interactionBlockList) === "[object Array]" && tAAC.interactionBlockList.length > 0) {\n            var interactionData = tAAC.interactionBlockList;\n            for (var x = 0; x < interactionData.length; x++) {\n                if (interactionData[x] === interactionKey) {\n                    return false;\n                }\n            }\n        } else if (typeof tAAC.interactionBlockList === \'undefined\') {\n            return true;\n        }\n        return true;\n    }\n\n    /* Check if the variable already exist in context Data */\n    function checkContextData(interactionKey) {\n        for (var i in tempTrackData.contextData) {\n            if (i === interactionKey) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /* iterate through data object sent through trackAction push */\n    /* add each variable to the temporary contextData object */\n    for (var iKey in idata) {\n        if (idata.hasOwnProperty(iKey) && (typeof idata[iKey] === \'string\' || typeof idata[iKey] === \'number\' || typeof idata[iKey] === \'boolean\') && interactionDataFilterOut(iKey, tAAC)) {\n            tempTrackData.contextData[iKey] = idata[iKey];\n        }\n    }\n\n    /* iterate through turner metadata object */\n    for (var inKey in tm) {\n        if (tm.hasOwnProperty(inKey) && (typeof tm[inKey] === "string" || typeof tm[inKey] === "number" || typeof tm[inKey] === "boolean") && !checkContextData(inKey) && interactionDataFilterOut(inKey, tAAC)) {\n            // Add check to handle any TM object exclusions\n            // removes *event=1 entries from being saved onto the tempTrackData.contextData object\n            if (!(/.*event$/g.test(inKey))) {\n              tempTrackData.contextData[inKey] = typeof tm[inKey] === "string" ? tm[inKey].toLowerCase() : tm[inKey];\n            }\n        }\n    }  \n\n    /* add non-contextData entries to an array */\n    for (var tKey in tempTrackData) {\n        if (tempTrackData.hasOwnProperty(tKey) && !!tempTrackData[tKey] && tKey !== "contextData" && tKey !== " linkTrackVars" && tKey !== "linkTrackEvents") {\n            linkTrackVarArr.push(cKey);\n        }\n    }\n\n    /* add all entries in the temporary contextData object to an array */\n    for (var cKey in tempTrackData.contextData) {\n        if (tempTrackData.contextData.hasOwnProperty(cKey) && !!tempTrackData.contextData[cKey]) {\n            linkTrackVarArr.push("contextData." + cKey);\n        }\n    }\n\n    /* turn array into temporary linkTrackVars */\n    tempTrackData.linkTrackVars = tempTrackData.linkTrackVars + linkTrackVarArr.toString();\n\n    /* set temporary linkTrackEvents per standard interaction method */\n    /* also set events */\n    tempTrackData.linkTrackEvents = tempTrackData.events = idata.productsevent || "";\n    if (tempTrackData.linkTrackEvents) {\n        tempTrackData.linkTrackEvents = tempTrackData.linkTrackEvents;\n        tempTrackData.linkTrackVars = \'events\' + tempTrackData.linkTrackVars;\n    } else if (!tempTrackData.linkTrackEvents) {\n        tempTrackData.linkTrackEvents = \'None\';\n    }\n\n    s.tl(this, "o", "interaction-" + (idata.interaction || ""), tempTrackData);\n});\n\n/* global game variables for progress tracking */\nwindow.gamelevel = "";\nwindow.gamecharacter = "";\nwindow.gamemode = "";\n\n/* Progress event function */\n/* Tracks every sixty seconds */\nwindow.sendGameProgress = function(gdata) {\n    //fix for introductions level with value zero.\n    if (gdata.gamelevel === 0) {\n      gdata.gamelevel = "0";\n    }\n    /* update global game variables for progress tracking */\n    if (window.gamelevel) gdata.gamelevel = window.gamelevel;\n    if (window.gamecharacter) gdata.gamecharacter = window.gamecharacter;\n    if (window.gamemode) gdata.gamemode = window.gamemode;\n\n    gdata.interactionevent = "";\n    gdata.gamestart = "";\n    gdata.interaction = "game time spent event";\n    gdata.gametimespent = 60;\n    trackMetrics({\n        type: "game",\n        data: gdata\n    });\n    /* Fires function again in another sixty seconds */\n    window.gameprogress = window.setTimeout(sendGameProgress, 60000, gdata);\n};\n\nwindow.PubSub.subscribe("game", function(gdata) {\n    var tAAC = ((window.tdi || {}).configuration || {}).adobeAnalytics || {},\n        s = window[tAAC.adobeObj] || window.tdi_s || window.s || {},\n        tm = window.turner_metadata || {},\n        /* shortcut to turner_metadata object */\n        spcLstPub = (((window.tdi || {}).configuration || {}).launch || {}).spaceLastPublished || "",\n        primaryRSID = s.account,\n        /* temporary storage for Global Standards RSID */\n        gameRSID = gdata.gamersid,\n        /* temporary storage for Game RSID */\n        tempTrackData = {},\n        linkTrackVarArr = []; /* defined for later use */\n\n    /* Holds temporary tracking variables */\n    /* Only variables not passed in the trackAction push call are required in the contextData object */\n    tempTrackData = {\n        "contextData": {\n            "pageName": tm.pageName || "",\n            "domain": tm.domain || "",\n            "section": tm.section || "",\n            "subsection": tm.subsection || "",\n            "country": tm.country || "",\n            "brand": tm.brand || "",\n            "franchise": tm.franchise || "",\n            "ensighten": spcLstPub,\n            "version": spcLstPub,\n            "url": tm.url || "",\n            "region": tm.region || "",\n            "presentationtemplate": tm.presentationtemplate || ""\n        },\n        "linkTrackVars": "",\n        /* defined for later use */\n        "linkTrackEvents": "" /* defined for later use */\n    };\n\n    //fix for introductions level with value zero.\n    if (gdata.gamelevel === 0) {\n        gdata.gamelevel = "0";\n    }\n\n    /* update global game variables for progress tracking */\n    if (gdata.gamelevel) window.gamelevel = gdata.gamelevel;\n    if (gdata.gamecharacter) window.gamecharacter = gdata.gamecharacter;\n    if (gdata.gamemode) window.gamemode = gdata.gamemode;\n\n    /* remove timer on gamecomplete or exit */\n    if (window.gameprogress && (gdata.gamecomplete || gdata.gameexit)) {\n        clearTimeout(window.gameprogress);\n    }\n\n    /* add timer on gamestart */\n    /* fires progress event every sixty seconds */\n    if (gdata.gamestart) {\n        window.gameprogress = window.setTimeout(sendGameProgress, 60000, gdata);\n    }\n\n    /* iterate through data object sent through trackAction push with type game */\n    /* add each variable to the temporary contextData object */\n    for (var gKey in gdata) {\n        if (gdata.hasOwnProperty(gKey) && !!gdata[gKey]) {\n            tempTrackData.contextData[gKey] = String(gdata[gKey]).toLowerCase();\n        }\n    }\n\n    /* add all entries in the temporary contextData object to an array */\n    for (var cKey in tempTrackData.contextData) {\n        if (tempTrackData.contextData.hasOwnProperty(cKey) && !!tempTrackData.contextData[cKey]) {\n            linkTrackVarArr.push("contextData." + cKey);\n        }\n    }\n    /* turn array into temporary linkTrackVars */\n    tempTrackData.linkTrackVars += linkTrackVarArr.toString();\n\n    /* set temporary linkTrackEvents per standard interaction method */\n    /* also set events */\n    tempTrackData.linkTrackEvents = tempTrackData.events = gdata.productsevent || "";\n\n    if (gameRSID) {\n        /* Switch to game specific RSID if one exists */\n        s.sa(gameRSID);\n    }\n\n    s.tl(this, "o", "interaction-" + (gdata.interaction || ""), tempTrackData);\n\n    if (gameRSID) {\n        /* \n         * switch back to global standards report suite \n         * if there was a gameRSID to switch to before the tracking call \n         */\n        s.sa(primaryRSID);\n    }\n});',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLa0284c96731042cc9bbed8f2306d78de",name:"3.3 Comscore (Page Bottom)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:3}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'window.PubSub.subscribe("pageview", function(pdata) {\n    var tCS = (((window.tdi || {}).configuration || {}).comscore || {}) || {};\n    var tCE = (tCS.hasOwnProperty(\'isComscoreEnabled\')) ? tCS.isComscoreEnabled : true;\n    if (tCE) {\n        var c_id = (((window.tdi || {}).configuration || {}).comscore || {}).publisherId || "6035748";\n        var cs_ucfr = "";\n        var tOTObj = (((window.tdi || {}).configuration || {}).oneTrust || {}) || {};\n        var tOT = tOTObj.hasOwnProperty(\'useUserConsent\') ? tOTObj.useUserConsent : false;\n        var tAO = (tCS.hasOwnProperty(\'alwaysOn\')) ? tCS.alwaysOn : false;\n        if (pdata.contentplatform && pdata.contentplatform === "amp") {\n            // Google AMP\n            var sendImagePixel = function(src) {\n                var image = new Image();\n                image.src = src;\n                image.style.display = "none";\n                image.width = 1;\n                image.height = 1;\n            };\n            var comscorePageBeacon = function() {\n                var c7 = pdata.pageName || "";\n                var c8 = "";\n                var c9 = document.referrer;\n                var comscorekw = "amp";\n                var str = "c1=2&c2=" + c_id + "&cv=2.0&cj=1&c7=" + c7 + "&c8=" + c8 + "&c9=" + c9 + "&cs_ucfr=" + cs_ucfr + "&comscorekw=" + comscorekw;\n                var protocol = document.location.protocol == "https:" ? "https://sb" : "http://b";\n                sendImagePixel(protocol + ".scorecardresearch.com/p?" + str);\n            };\n            comscorePageBeacon();\n        } else {\n            var comScoreRequest = function() {\n                if (self.COMSCORE) {\n                    self.COMSCORE && COMSCORE.beacon({\n                        c1: "2",\n                        c2: c_id,\n                        cs_ucfr: cs_ucfr\n                    });\n                } else {\n                    var _comscore = window._comscore = _comscore || [];\n                    _comscore.push({\n                        c1: "2",\n                        c2: c_id,\n                        cs_ucfr: cs_ucfr\n                    });\n                    (function() {\n                        var s = document.createElement("script"), el = document.getElementsByTagName("script")[0]; s.async = true;\n                        s.src = "https://sb.scorecardresearch.com/beacon.js";\n                        el.parentNode.insertBefore(s, el);\n                    })();\n                }\n            }\n            if (tOT) {\n                // OneTrust is enabled on the page\n                if (window.OnetrustActiveGroups) {\n                    var groupCookieList = window.OnetrustActiveGroups.split(\',\').filter(window.tdi.util.filterOT);\n                    if (groupCookieList.indexOf("2") > -1 || groupCookieList.indexOf("pf") > -1) {\n                        // fire Comscore if the user accepts the consent\n                        cs_ucfr = \'1\';\n                        comScoreRequest();\n                    } else if (tAO) {\n                        // if always-on flag is true, fire Comscore without the user consent\n                        try {\n                            if (window.OneTrust.IsAlertBoxClosed()) {\n                                cs_ucfr = \'0\';\n                            }\n                        } catch (e) {}\n                        comScoreRequest();\n                    }\n                }\n            } else {\n                // OneTrust is not enabled\n                comScoreRequest();\n            }\n        }\n    }\n});',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLe9878305c57143999c2c0732b8ca9ab1",name:"3.2 Adobe Video Events (Page Bottom)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:2}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:'/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n * Copyright 2020 Adobe\n * All Rights Reserved.\n *\n * NOTICE: All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n **************************************************************************/\n/*\n * MediaSDK - 2.2.2 - 2020-06-24\n * Copyright (c) 2020 Adobe. All Rights Reserved.\n *\n * Copyright for external libraries used in Media SDK\n * JavaScript MD5 1.0.1\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n *\n *\n * umdjs (commonjsStrict.js)\n * Copyright (c) the UMD contributors\n * Licensed under the MIT license:\n * https://github.com/umdjs/umd/blob/master/LICENSE.md\n */\n(function (root, factory) {\n    if (typeof define === \'function\' && define.amd) {\n      define([\'exports\'], factory);\n    } else if (typeof exports === \'object\' && typeof exports.nodeName !== \'string\') {\n      factory(exports);\n    } else {\n      factory(root.ADB = {});\n    }\n  }(typeof self !== \'undefined\' ? self : this, function (exports) {\n    var lib = {};\n    (function () {\n      \n  \n  // Heartbeat core\n  !function(a){if(void 0===b)var b={};if(void 0===c)var c={};if(void 0===d)var d={};if(d.radio||(d.radio={}),d.plugin||(d.plugin={}),void 0===e)var e={};e.clock||(e.clock={}),function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b);return(a>>16)+(b>>16)+(c>>16)<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[14+(c+64>>>9<<4)]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;c<16;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}a.md5=t}(b),function(a){"use strict";var b={};b.startsWith=function(a,b){return 0==a.indexOf(b)},a.StringUtils=b}(b),function(a){"use strict";var b={};b.clone=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},b.merge=function(a,c){var d=b.clone(a);for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);return d},b.append=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},a.ObjectUtils=b}(b),function(a){"use strict";function b(a){if(null==a)return!0;for(var b=0;b<a.length;++b)if(isNaN(a[b]))return!1;return!0}function c(a,c){if("string"!=typeof a||"string"!=typeof c)return NaN;var d=a.split("."),e=c.split(".");if(!b(d)||!b(e))return NaN;for(var f=Math.max(d.length,e.length),g=0;g<f;++g){var h=void 0!=d[g]?d[g]:"0",i=void 0!=e[g]?e[g]:"0";if(h=Number(h),i=Number(i),h>i)return 1;if(h<i)return-1}return 0}var d={};d.isGreaterThan=function(a,b){return c(a,b)>0},d.isGreaterThanEqual=function(a,b){return c(a,b)>=0},d.isLessThan=function(a,b){return c(a,b)<0},d.isLessThanEqual=function(a,b){return c(a,b)<=0},d.isSame=function(a,b){return 0===c(a,b)},d.isDifferent=function(a,b){return 0!==c(a,b)},a.VersionUtils=d}(b),function(a){"use strict";function b(a,b,c){this.fn=a,this.ctx=b,this.params=c}b.prototype.run=function(){this.params?this.fn.apply(this.ctx,this.params):this.fn.apply(this.ctx)},a.radio.Command=b}(d),function(a){"use strict";function b(a,b){this._queue=[],this._lastTs=0,this._isSuspended=void 0!==a&&a,this._delay=void 0!==b?b:0}b.prototype.addCommand=function(a){this._queue.push(a),this._drain()},b.prototype.cancelAllCommands=function(){this._queue=[]},b.prototype.isEmpty=function(){return 0===this._queue.length},b.prototype.suspend=function(){this._isSuspended=!0},b.prototype.resume=function(){this._isSuspended=!1,this._drain()},b.prototype.flush=function(){this._isSuspended=!1;for(var a=0;a<this._queue.length;a++){this._queue[a].run()}this._queue=[]},b.prototype._drain=function(){if(!this._isSuspended&&!this._drainInProgress){this._drainInProgress=!0;var a=this;!function b(){var c=a._queue.shift();c?a._runCommand(c,function(){a._isSuspended||b()}):a._drainInProgress=!1}()}},b.prototype._runCommand=function(a,b){function c(){a.run(),null!=b&&b.call(d)}var d=this;if(0==this._lastTs)c();else{var e=(new Date).getTime(),f=e-this._lastTs;this._lastTs=e,f<this._delay?setTimeout(c,this._delay-f):c()}},a.radio.CommandQueue=b}(d),function(a){"use strict";function b(a,b){if(this._name=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._listeners={},this._requests={},this._commands={},this._isShutDown=!1}function c(a,c){if(a===c)return!0;for(var d=(a||"").split(b.SEPARATOR),e=(c||"").split(b.SEPARATOR),f=!0,g=0;g<d.length;g++)f=f&&(d[g]===b.WILDCARD||d[g]===e[g]);return f}b.WILDCARD="*",b.SEPARATOR=":",b.prototype.toString=function(){return"<channel: "+this._name+">"},b.prototype.shutdown=function(){this._isShutDown||(this._logger.debug(d,"#shutdown > Shutting down"),this.off(),this._requests={},this._commands={},this._isShutDown=!0)},b.prototype.on=function(a,b,c){this._isShutDown||(this._listeners[a]||(this._listeners[a]=[]),this._listeners[a].push({fn:b,ctx:c}))},b.prototype.off=function(a,b,c){if(!this._isShutDown){if(b="function"==typeof b?b:null,!a&&null==b&&!c)return void(this._listeners={});if(a)this._removeListener(a,b,c);else for(a in this._listeners)this._listeners.hasOwnProperty(a)&&this._removeListener(a,b,c)}},b.prototype.trigger=function(a){if(!this._isShutDown)for(var b in this._listeners)if(this._listeners.hasOwnProperty(b)&&c(b,a.name))for(var d=this._listeners[b].slice(0),e=0;e<d.length;e++){var f=d[e];f.fn.call(f.ctx,a)}},b.prototype.comply=function(a,b,c){this._isShutDown||(this._commands[a]={cmd:b,ctx:c})},b.prototype.command=function(a,b){if(!this._isShutDown){var c=this._commands[a];if(!c)return void this._logger.warn(d,"#command > No command handler for: "+a);c.cmd.call(c.ctx,b)}},b.prototype.reply=function(a,b,c){this._isShutDown||(this._requests[a]={fn:b,ctx:c})},b.prototype.request=function(a){if(!this._isShutDown){var b=this._requests[a];return b?b.fn.call(b.ctx):(this._logger.warn(d,"#request > No request handler for: "+a),null)}},b.prototype._removeListener=function(a,b,c){b="function"==typeof b?b:null;var d=this._listeners[a];if(d){if(!d.length||null==b&&!c)return void delete this._listeners[a];for(var e=0;e<d.length;e++){var f=d[e];null!==b&&b!==f.fn||c&&c!==f.ctx||this._listeners[a].splice(e,1)}}};var d="radio::Channel";a.radio.Channel=b}(d),function(a){"use strict";function b(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._channels={}}var c=a.radio.Channel;b.prototype.channel=function(a){return this._channels[a]||(this._channels[a]=new c(a,this._logger)),this._channels[a]},b.prototype.shutdown=function(){for(var a in this._channels)this._channels.hasOwnProperty(a)&&this._channels[a].shutdown()},a.radio.Radio=b}(d),function(a){"use strict";function b(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a}a.extend=b}(d),function(a){"use strict";function b(){}b.prototype.write=function(a){throw new Error("Implementation error: Method must be overridden.")},a.ILogWriter=b}(d),function(a){"use strict";function b(){}b.prototype.write=function(a){window.console&&window.console.log&&window.console.log(a)},a.LogWriter=b}(d),function(a){"use strict";function b(){}b.prototype.setLogWriter=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getLogWriter=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getEnabled=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.debug=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.info=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.warn=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.error=function(a,b){throw new Error("Implementation error: Method must be overridden.")},a.ILogger=b}(d),function(a){"use strict";function b(){this._logWriter=new d}function c(a){return a<10?"00"+a:a<100?"0"+a:""+a}var d=a.LogWriter;b.prototype.setLogWriter=function(a){if(!a)throw new Error("Reference to the ILogWriter object cannot be NULL");this._logWriter=a,this._enabled=!1},b.prototype.getLogWriter=function(){return this._logWriter},b.prototype.getEnabled=function(){return this._enabled},b.prototype.enable=function(){this._enabled=!0},b.prototype.disable=function(){this._enabled=!1},b.prototype.debug=function(a,b){this._log(a,f,b)},b.prototype.info=function(a,b){this._log(a,e,b)},b.prototype.warn=function(a,b){this._log(a,g,b)},b.prototype.error=function(a,b){this._log(a,h,b)},b.prototype._log=function(a,b,d){if(b==h||this._enabled){var e="",f=new Date;e+="["+f.toTimeString()+"."+c(f.getMilliseconds())+"] ["+b+"] ",e+="["+a+"] "+d,this._logWriter.write(e)}};var e="INFO",f="DEBUG",g="WARN",h="ERROR";a.Logger=b}(d),function(a){"use strict";function b(a,b){this._pluginName=a,this._eventName=b}var c=a.radio.Channel;b.prototype.getPluginName=function(){return this._pluginName},b.prototype.getEventName=function(){return this._eventName},b.prototype.getName=function(){return this._pluginName+c.SEPARATOR+this._eventName},a.Trigger=b}(d),function(a){"use strict";function b(a,b){this.name=a,this.data=b}b.SUCCESS="success",b.ERROR="error",b.createFromTrigger=function(a){return new b(a.getName())},a.Event=b}(d),function(a){"use strict";function b(){this._events={}}b.prototype.addEventListener=function(a,b,c){a&&b&&(c=c||window,this._events[a]=this._events[a]||[],this._events[a].push({cb:b,ctx:c}))},b.prototype.removeEventListener=function(a,b,c){if(a&&b){c=c||window;var d,e,f=!1;for(e in this._events)if(a===e){f=!0;break}if(f){for(d=this._events[e].length-1;d>=0;d--){var g=this._events[e][d];b===g.cb&&c===g.ctx&&this._events[e].splice(d,1)}this._events[e].length||delete this._events[e]}}},b.prototype.dispatchEvent=function(a){if(a.name){var b,c;for(b in this._events)if(this._events.hasOwnProperty(b)&&a.name===b){var d=this._events[b],e=d.slice(0),f=e.length;for(c=0;c<f;c++)e[c].cb.call(e[c].ctx,a);break}}},b.prototype.removeAllListeners=function(a){if(a){var b,c;for(c in this._events)if(this._events.hasOwnProperty(c)){for(b=this._events[c].length-1;b>=0;b--){var d=this._events[c][b];d.ctx===a&&this._events[c].splice(b,1)}this._events[c].length||delete this._events[c]}}else this._events={}},a.EventDispatcher=b}(d),function(a){"use strict";function b(){}function c(a,b){this.url=a||null,this.method=b,this._xmlhttp=null}function d(){d.__super__.constructor.call(this),this._connection=null}var e=a.Event,f=a.EventDispatcher;b.GET="GET",d.RESPONSE="response",d.INSTANCE="instance",a.extend(d,f),d.prototype.close=function(){this.removeAllListeners(null)},d.prototype.load=function(a){a&&a.method&&a.url&&(a._xmlhttp=this._createCORSRequest(a),a._xmlhttp?a._xmlhttp.send():this._loadImage(a))},d.prototype._createCORSRequest=function(a){var b=null;if(void 0!==window.XMLHttpRequest){var c=new window.XMLHttpRequest;"withCredentials"in c&&(b=c,b.open(a.method,a.url,!0))}if(null==b&&void 0!==window.XDomainRequest&&(b=new window.XDomainRequest,b.open(a.method,a.url)),b){var f={};f[d.INSTANCE]=this;var g=this;b.onload=function(){if(b.status&&parseInt(b.status,10)>=400)return this.onerror();f[d.RESPONSE]=b.responseText,g.dispatchEvent(new e(e.SUCCESS,f))},b.onerror=function(){g.dispatchEvent(new e(e.ERROR,f))}}return b},d.prototype._loadImage=function(a){this._connection||(this._connection=new Image,this._connection.alt=""),this._connection.src=a.url;var b={};b[d.RESPONSE]="",b[d.INSTANCE]=this,this.dispatchEvent(new e(e.SUCCESS,b))},a.URLRequestMethod=b,a.URLRequest=c,a.URLLoader=d}(d),function(a){"use strict";var b="2.2.2.230",c="96e624",d={};d.getVersion=function(){return"js-"+b+"-"+c},d.getMajor=function(){return d.getNumberAtPosition(0)},d.getMinor=function(){return d.getNumberAtPosition(1)},d.getMicro=function(){return d.getNumberAtPosition(2)},d.getPatch=function(){return d.getNumberAtPosition(3)},d.getBuild=function(){return c},d.getApiLevel=function(){return 4},d.getNumberAtPosition=function(a){return b.split(".")[a]},a.Version=d}(c),function(a){"use strict";function b(a,b){this._message=a,this._details=b}b.prototype.getMessage=function(){return this._message},b.prototype.getDetails=function(){return this._details},a.ErrorInfo=b}(c),function(a){"use strict";function b(){this.debugLogging=!1}a.HeartbeatConfig=b}(c),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.HeartbeatDelegate=b}(c),function(a){"use strict";function b(){}b.prototype.configure=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.bootstrap=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.setup=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.destroy=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getName=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.isInitialized=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.resolveData=function(a){throw new Error("Implementation error: Method must be overridden.")},a.plugin.IPlugin=b}(d),function(a){"use strict";function b(a,b,c,d){this.trigger=a,this.action=c,this.plugin=b,this._paramMappings={},this.mergeParams(d)}var c=a.plugin.ParamMapping;b.prototype.mergeParams=function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b];this._paramMappings[c.getKeyName()]=c}},b.prototype.getParams=function(){var a=[];for(var b in this._paramMappings)this._paramMappings.hasOwnProperty(b)&&a.push(this._paramMappings[b]);return a},b.prototype.addParam=function(a){this._paramMappings[a.getKeyName()]=a},b.prototype.removeParam=function(a,b){var d=new c(a,b);this._paramMappings.hasOwnProperty(d.getKeyName())&&delete this._paramMappings[d.getKeyName()]},a.plugin.Behaviour=b}(d),function(a){"use strict";function b(a,b,d){this._pluginName=a,this._key=b,this._paramName=d||a+c.SEPARATOR+b}var c=a.radio.Channel;b.prototype.getPluginName=function(){return this._pluginName},b.prototype.getKey=function(){return this._key},b.prototype.getKeyName=function(){return this._pluginName+c.SEPARATOR+this._key},b.prototype.getParamName=function(){return this._paramName},a.plugin.ParamMapping=b}(d),function(a){"use strict";function b(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._plugins={},this._behaviours={},this._radio=new d(this._logger),this._dataChannel=this._radio.channel(g),this._ctrlChannel=this._radio.channel(h)}var c=a.Event,d=a.radio.Radio,e=a.radio.Channel,f=a.plugin.Behaviour;b.ERROR="error",b.prototype.addPlugin=function(a){var b=a.getName();this._plugins[b]&&this._logger.warn(i,"#addPlugin > Replacing plugin: "+b),this._plugins[b]=a,a.bootstrap(this)},b.prototype.setupPlugins=function(){for(var a in this._plugins)this._plugins.hasOwnProperty(a)&&this._plugins[a].setup()},b.prototype.pluginExists=function(a){return!!this._plugins[a]},b.prototype.isPluginInitialized=function(a){return this._plugins[a]&&this._plugins[a].isInitialized()},b.prototype.on=function(a,b,c,d){this._dataChannel.on(a+e.SEPARATOR+b,c,d)},b.prototype.off=function(a,b,c,d){var f=a&&b?a+e.SEPARATOR+b:null;this._dataChannel.off(f,c,d)},b.prototype.trigger=function(a){var b=a.name,c=this._behaviours[b];if(c){var d,e,f,g,h,i={},j={};for(d=0;d<c.length;d++)if(f=c[d],g=f.getParams())for(e=0;e<g.length;e++)h=g[e],i[h.getPluginName()]=i[h.getPluginName()]||[],h.key in i[h.getPluginName()]||i[h.getPluginName()].push(h.getKey());for(var k in i)i.hasOwnProperty(k)&&(j[k]=this.request(k,i[k]));for(d=0;d<c.length;d++){f=c[d];var l={_behaviour:f,_eventData:a.data||{}};if(g=f.getParams()){for(e=0;e<g.length;e++)h=g[e],l[h.getParamName()]=j[h.getPluginName()]?j[h.getPluginName()][h.getKey()]:null;this.command(f.plugin.getName(),f.action,l)}}}this._dataChannel.trigger(a)},b.prototype.request=function(a,b){var c=this._plugins[a];return c&&b&&0!=b.length?c.resolveData(b):null},b.prototype.raise=function(a){this._errorInfo=a;var d=new c(b.ERROR,a);this._ctrlChannel.trigger(d)},b.prototype.getErrorInfo=function(){return this._errorInfo},b.prototype.destroy=function(){this._radio.shutdown();for(var a in this._plugins)this._plugins.hasOwnProperty(a)&&this._plugins[a].destroy()},b.prototype.comply=function(a,b,c){this._dataChannel.comply(a.getName()+e.SEPARATOR+b,c,a)},b.prototype.command=function(a,b,c){this._dataChannel.command(a+e.SEPARATOR+b,c)},b.prototype.registerBehaviour=function(a,b,c,d){var e=a.getName(),g=new f(a,b,c,d);this._behaviours[e]=this._behaviours[e]||[],this._behaviours[e].push(g)};var g="data_channel",h="ctrl_channel",i="plugin::PluginManager";a.plugin.PluginManager=b}(d),function(a,b){"use strict";function c(a){this._name=a,this._isInitialized=!1,this._isDestroyed=!1,this._isEnabled=!0,this._dataResolver={},this._logTag="plugin::"+this.getName(),this._logger=new d}var d=a.Logger,e=a.Trigger,f=a.Event,g=b.ErrorInfo;c.INITIALIZED="initialized",c.prototype.configure=function(a){},c.prototype.bootstrap=function(a){this._pluginManager=a,this._isDestroyed&&this._pluginManager.raise(new g("Invalid state.","Plugin already destroyed."))},c.prototype.setup=function(){this._trigger(c.INITIALIZED),this._isInitialized=!0},c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._teardown())},c.prototype.enable=function(){this._isEnabled=!0,this._enabled()},c.prototype.disable=function(){this._isEnabled=!1,this._disabled()},c.prototype.getName=function(){return this._name},c.prototype.getLogger=function(){return this._logger},c.prototype.isInitialized=function(){return this._isInitialized},c.prototype.resolveData=function(a){if(!this._isEnabled||!this._isInitialized)return this._logger.warn(this._logTag,"Unable to retrieve plugin data. Plugin: "+this._name+". Enabled: "+this._isEnabled+". Initialized: "+this._isInitialized+"."),null;if("function"==typeof this._dataResolver)return this._dataResolver.call(this,a);var b=null;if(a)for(var c=0;c<a.length;c++){var d=a[c];this._dataResolver.hasOwnProperty(d)&&(b=b||{},"function"==typeof this._dataResolver[d]?b[d]=this._dataResolver[d].call(this):b[d]=this._dataResolver[d])}return b},c.prototype.toString=function(){return"<plugin: "+this._name+">"},c.prototype._enabled=function(){},c.prototype._disabled=function(){},c.prototype._teardown=function(){},c.prototype._canProcess=function(){return this._isEnabled?!this._isDestroyed||(this._logger.error(this._logTag,"Plugin destroyed."),!1):(this._logger.error(this._logTag,"Plugin disabled."),!1)},c.prototype._trigger=function(a,b){var c=f.createFromTrigger(new e(this.getName(),a));c.data=b,this._pluginManager.trigger(c)},a.plugin.BasePlugin=c}(d,c),function(a){"use strict";function b(a,b,c){this.name=a,this.interval=b,this.isActive=!1,this.repeatCount=void 0!==c?c:e,this._nextTickTimestamp=0,this.reset()}function c(a,b){if(!a)throw new Error("Reference to the ClockService object cannot be NULL");if(this._service=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._isDestroyed=!1,this._timers={};var c=this;this._clock=window.setInterval(function(){c._onTick()},1e3*f)}b.prototype.reset=function(){this.tick=0,this._createdTimestamp=(new Date).getTime(),this._updateNextTickTimestamp()},b.prototype.shouldTick=function(){return(new Date).getTime()>this._nextTickTimestamp-g/2&&(this.tick++,this._updateNextTickTimestamp(),!0)},b.prototype._updateNextTickTimestamp=function(){var a=(new Date).getTime();this._nextTickTimestamp=a+1e3*this.interval-1},c.prototype.createTimer=function(a,c,d){this._timers[a]=new b(a,c,d)},c.prototype.destroyTimer=function(a){delete this._timers[a]},c.prototype.resumeTimer=function(a,b){b=void 0!==b&&b,this._logger.debug(d,"#resumeTimer(name="+a+", reset="+b+")");var c=this._timers[a];c&&(c.isActive=!0,b&&c.reset())},c.prototype.pauseTimer=function(a,b){b=void 0!==b&&b,this._logger.debug(d,"#pauseTimer(name="+a+", reset="+b+")");var c=this._timers[a];c&&(c.isActive=!1,b&&c.reset())},c.prototype.isTimerPaused=function(a){var b=this._timers[a];return!!b&&!b.isActive},c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._timers={},window.clearInterval(this._clock))},c.prototype._onTick=function(){for(var a in this._timers)if(this._timers.hasOwnProperty(a)){var b=this._timers[a];b.isActive&&b.shouldTick()&&(b.interval>1&&this._logger.debug(d,"#_onTick() > "+b.name+"("+b.tick+" | "+b.repeatCount+")"),0!=b.repeatCount?(this._service.onTick(b.name,b.interval,b.tick),b.repeatCount!=e&&b.repeatCount--):this.destroyTimer(b.name))}};var d="service.clock::TimerManager",e=-1,f=.25,g=1e3*f;a.clock.TimerDescriptor=b,a.clock.TimerManager=c}(e),function(a,b,c){"use strict";function d(a){if(d.__super__.constructor.call(this,h),!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._timerManager=new e(this,this._logger),this._setupDataResolver()}var e=c.clock.TimerManager,f=b.StringUtils,g=a.plugin.BasePlugin;a.extend(d,g),d.prototype.bootstrap=function(a){d.__super__.bootstrap.call(this,a),this._pluginManager.comply(this,i,this._cmdCreate),this._pluginManager.comply(this,k,this._cmdResume),this._pluginManager.comply(this,j,this._cmdPause),this._pluginManager.comply(this,l,this._cmdDestroy)},d.prototype._teardown=function(){this._timerManager.destroy()},d.prototype._cmdCreate=function(a){var b=a[o]||s;this._timerManager.createTimer(a[m],a[n],b)},d.prototype._cmdPause=function(a){this._timerManager.pauseTimer(a[m],!!a[q])},d.prototype._cmdResume=function(a){this._timerManager.resumeTimer(a[m],!!a[q])},d.prototype._cmdDestroy=function(a){this._timerManager.destroyTimer(a[m])},d.prototype.onTick=function(a,b,c){a+=".tick";var d={};d[m]=a,d[n]=b,d[p]=c,this._trigger(a,d)},d.prototype._setupDataResolver=function(){var a={},b=this._timerManager;a[r]=function(a){return b.isTimerPaused(a)},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];if(c=c||{},f.startsWith(e,r)){var g=e.split(r+".");g.length>0&&(c[e]=a[r].call(this,g[1]))}}return c}};var h="service.clock",i="create",j="pause",k="resume",l="destroy",m="name",n="interval",o="repeat_count",p="tick",q="reset",r="is_paused",s=-1;c.clock.ClockService=d}(d,b,e),function(a,b,c){"use strict";function d(a,b){if(this._logger=new e,this._pluginManager=new f(this._logger),this._pluginManager.addPlugin(new g(this._logger)),b)for(var c=0;c<b.length;c++)this._pluginManager.addPlugin(b[c]);this._pluginManager.setupPlugins(),this._isDestroyed=!1}var e=a.Logger,f=a.plugin.PluginManager,g=b.clock.ClockService;d.prototype.configure=function(a){if(!a)throw new Error("Configuration object cannot be NULL.");a.debugLogging?this._logger.enable():this._logger.disable(),this._isDestroyed&&this._logger.error(h,"Instance is destroyed.")},d.prototype.destroy=function(){this._isDestroyed||(this._pluginManager.destroy(),this._isDestroyed=!0)};var h="Heartbeat";c.Heartbeat=d}(d,e,c),a.ADB||(a.ADB={}),a.ADB.core||(a.ADB.core=d),a.ADB.va||(a.ADB.va=c),a.ADB.va.utils||(a.ADB.va.utils=b),a.ADB.va.plugins||(a.ADB.va.plugins={})}(this);\n  \n  // VideoPlayerPlugin\n  !function(a){if(void 0===b)var b={};!function(a){"use strict";var b={};b.ASSET_TYPE_VOD="vod",b.ASSET_TYPE_LIVE="live",b.ASSET_TYPE_LINEAR="linear",a.AssetType=b}(b),function(a){"use strict";function b(){this.playerName=null,this.name=null,this.position=null,this.startTime=null}b.prototype.toString=function(){return"playerName="+this.playerName+", name="+this.name+", position="+this.position+", startTime="+this.startTime},a.AdBreakInfo=b}(b),function(a){"use strict";function b(){this.id=null,this.name=null,this.length=null,this.position=null,this.granularTracking=!0}b.prototype.toString=function(){return"id="+this.id+", name="+this.name+", length="+this.length+", position="+this.position+", granularTracking="+this.granularTracking},a.AdInfo=b}(b),function(a){"use strict";function b(){this.name=null,this.length=null,this.position=null,this.startTime=null}b.prototype.toString=function(){return"name="+this.name+", length="+this.length+", position="+this.position+", startTime="+this.startTime},a.ChapterInfo=b}(b),function(a){"use strict";function b(){this.bitrate=null,this.fps=null,this.droppedFrames=null,this.startupTime=null}b.prototype.toString=function(){return"bitrate="+this.bitrate+", fps="+this.fps+", droppedFrames="+this.droppedFrames+", startupTime="+this.startupTime},a.QoSInfo=b}(b),function(a){"use strict";function b(){this.playerName=null,this.id=null,this.name=null,this.length=null,this.playhead=null,this.mediaType=null,this.streamType=null,this.resumed=!1}b.prototype.toString=function(){return"playerName="+this.playerName+", id="+this.id+", name="+this.name+", length="+this.length+", playhead="+this.playhead+", mediaType="+this.mediaType+", streamType="+this.streamType+", resumed="+this.resumed},a.VideoInfo=b}(b),function(a){"use strict";function b(){this.debugLogging=!1}a.VideoPlayerPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.getVideoInfo=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getAdBreakInfo=function(){return null},b.prototype.getAdInfo=function(){return null},b.prototype.getChapterInfo=function(){return null},b.prototype.getQoSInfo=function(){return null},a.VideoPlayerPluginDelegate=b}(b),function(a,b){"use strict";function c(a){if(c.__super__.constructor.call(this,h),!a)throw new Error("PlayerPlugin delegate cannot be NULL.");this._delegate=a,this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._setupDataResolver()}var d=a.plugin.ParamMapping,e=a.Trigger,f=a.plugin.BasePlugin,g=b.VideoPlayerPluginConfig;a.extend(c,f),c.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof g))throw new Error("Expected config data to be instance of VideoPlayerPluginConfig.");a.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure(debugLogging="+a.debugLogging+")")},c.prototype.bootstrap=function(a){c.__super__.bootstrap.call(this,a),this._registerCommands(),this._registerBehaviours()},c.prototype._cmdVideoIdleStart=function(a){this._logger.info(this._logTag,"#_cmdVideoIdleStart()"),this._videoIdle=!0},c.prototype._cmdVideoIdleResume=function(a){this._logger.info(this._logTag,"#_cmdVideoIdleResume()"),this._videoIdle&&(this._trigger(p),this._trigger(q),a.isInAd&&(this._trigger(x),this._isTrackingAdBreak=!0),a.isInAd&&(this._trigger(z),this._isTrackingAd=!0),a.isInChapter&&this._trigger(G),this._trigger(u)),this._videoIdle=!1},c.prototype.trackSessionStart=function(){if(this._logger.info(this._logTag,"#trackSessionStart()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackSessionStart() > No active tracking session.");if(this._isTrackingSessionStarted)return void this._logger.info(this._logTag,"#trackSessionStart() > Tracking session already started.");this._trigger(p),this._isTrackingSessionStarted=!0;var a=this._dataResolver(["video.resumed"]);a.hasOwnProperty("video.resumed")&&a["video.resumed"]&&this._trigger(q)}},c.prototype.trackVideoLoad=function(){this._logger.info(this._logTag,"#trackVideoLoad()"),this._canProcess()&&(this._isTrackingAdBreak=!1,this._isTrackingAd=!1,this._contentStarted=!1,this._isPaused=!0,this._isBuffering=!1,this._isSeeking=!1,this._playheadTimer=null,this._previousPlayhead=-1,this._stalledPlayheadCount=0,this._playheadStalled=!1,this._videoIdle=!1,this._trigger(m),this._isTrackingSessionActive=!0,this._isTrackingSessionStarted=!1)},c.prototype.trackVideoUnload=function(){if(this._logger.info(this._logTag,"#trackVideoUnload()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackVideoUnload() > No active tracking session.");this._stopPlayheadTimer(),this._trigger(n),this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._contentStarted=!1}},c.prototype.beginReporting=function(){this._logger.info(this._logTag,"#beginReporting()"),this._canProcess()&&this._startSessionIfNeeded("beginReporting")&&this._trigger(N)},c.prototype.trackPlay=function(){this._logger.info(this._logTag,"#trackPlay()"),this._canProcess()&&this._startSessionIfNeeded("trackPlay")&&this._allowPlayerStateChange()&&(this._isPaused=!1,this._trigger(u),this._startPlayheadTimer())},c.prototype.trackPause=function(){if(this._logger.info(this._logTag,"#trackPause()"),this._canProcess()&&this._startSessionIfNeeded("trackPause")&&this._allowPlayerStateChange()){this._stopPlayheadTimer();var a={};a[P]=!1,this._isPaused=!0,this._trigger(v,a)}},c.prototype.trackBufferStart=function(){this._logger.info(this._logTag,"#trackBufferStart()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferStart")&&this._allowPlayerStateChange()&&(this._stopPlayheadTimer(),this._isBuffering=!0,this._trigger(C))},c.prototype.trackBufferComplete=function(){this._logger.info(this._logTag,"#trackBufferComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferComplete")&&this._allowPlayerStateChange()&&(this._isBuffering=!1,this._trigger(D),this._startPlayheadTimer())},c.prototype.trackSeekStart=function(){this._logger.info(this._logTag,"#trackSeekStart()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekStart")&&this._allowPlayerStateChange()&&(this._stopPlayheadTimer(),this._isSeeking=!0,this._trigger(E))},c.prototype.trackSeekComplete=function(){this._logger.info(this._logTag,"#trackSeekComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekComplete")&&this._allowPlayerStateChange()&&(this._isSeeking=!1,this._trigger(F),this._startPlayheadTimer())},c.prototype.trackComplete=function(a,b){if(this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackComplete")){if(this._stopPlayheadTimer(),this._videoIdle)return this._logger.info(this._logTag,"#trackComplete() > Video session is already in Idle State."),void(a&&a());var c={};c[O]=a,b=void 0===b||!!b,b?this._trigger(r,c):(this._trigger(s),this._trigger(o,c))}},c.prototype.trackTimedMetadata=function(a){this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackTimedMetadata")&&this._trigger(t,a)},c.prototype.trackChapterStart=function(){this._logger.info(this._logTag,"#trackChapterStart()"),this._canProcess()&&this._startSessionIfNeeded("#trackChapterStart")&&this._trigger(G)},c.prototype.trackChapterComplete=function(){this._logger.info(this._logTag,"#trackChapterComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterComplete")&&this._trigger(H)},c.prototype.trackChapterSkip=function(){this._logger.info(this._logTag,"#trackChapterSkip()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterSkip")&&this._trigger(I)},c.prototype.trackAdBreakStart=function(){this._logger.info(this._logTag,"#trackAdBreakStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdBreakStart")&&(this._trigger(x),this._isTrackingAdBreak=!0)},c.prototype.trackAdBreakComplete=function(){this._logger.info(this._logTag,"#trackAdBreakComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdBreakComplete")&&(this._trigger(y),this._isTrackingAdBreak=!1)},c.prototype.trackAdStart=function(){this._logger.info(this._logTag,"#trackAdStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdStart")&&(this._trigger(z),this._isTrackingAd=!0)},c.prototype.trackAdComplete=function(){this._logger.info(this._logTag,"#trackAdComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdComplete")&&(this._trigger(A),this._isTrackingAd=!1)},c.prototype.trackAdSkip=function(){this._logger.info(this._logTag,"#trackAdSkip()"),this._canProcess()&&this._startSessionIfNeeded("trackAdSkip")&&(this._trigger(B),this._isTrackingAd=!1)},c.prototype.trackBitrateChange=function(){this._logger.info(this._logTag,"#trackBitrateChange()"),this._canProcess()&&this._startSessionIfNeeded("trackBitrateChange")&&this._trigger(J)},c.prototype.trackVideoPlayerError=function(a){if(this._logger.info(this._logTag,"#trackVideoPlayerError(errorId="+a+")"),this._startSessionIfNeeded("trackVideoPlayerError")){var b={};b[Q]=l,b[R]=a,this._trigger(K,b)}},c.prototype.trackApplicationError=function(a){if(this._logger.info(this._logTag,"#trackApplicationError(errorId="+a+")"),this._startSessionIfNeeded("trackApplicationError")){var b={};b[Q]=k,b[R]=a,this._trigger(K,b)}},c.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoIdleStart",this._cmdVideoIdleStart),this._pluginManager.comply(this,"handleVideoIdleResume",this._cmdVideoIdleResume)},c.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new e(j,L),this,"handleVideoIdleStart"),this._pluginManager.registerBehaviour(new e(j,M),this,"handleVideoIdleResume",[new d(i,"ad.isInAdBreak","isInAdBreak"),new d(i,"ad.isInAd","isInAd"),new d(i,"chapter.isInChapter","isInChapter")])},c.prototype._setupDataResolver=function(){function a(){return g.video?g.video:(g.video=h._delegate.getVideoInfo(),h._logger.info(h._logTag,"Data from delegate > VideoInfo: "+g.video),g.video)}function b(){return g.ad?g.ad:(g.ad=h._delegate.getAdInfo(),h._logger.info(h._logTag,"Data from delegate > AdInfo: "+g.ad),g.ad)}function c(){return g.pod?g.pod:(g.pod=h._delegate.getAdBreakInfo(),h._logger.info(h._logTag,"Data from delegate > AdBreakInfo: "+g.pod),g.pod)}function d(){return g.chapter?g.chapter:(g.chapter=h._delegate.getChapterInfo(),h._logger.info(h._logTag,"Data from delegate > ChapterInfo: "+g.chapter),g.chapter)}function e(){return g.qos?g.qos:(g.qos=h._delegate.getQoSInfo(),h._logger.info(h._logTag,"Data from delegate > QoSInfo: "+g.qos),g.qos)}var f={},g={},h=this;f["video.id"]=function(){var b=a(),c=b?b.id:null;return h._logger.debug(h._logTag,"Resolving video.id: "+c),c},f["video.name"]=function(){var b=a(),c=b?b.name:null;return h._logger.debug(h._logTag,"Resolving video.name: "+c),c},f["video.length"]=function(){var b=a(),c=b?b.length:NaN;return h._logger.debug(h._logTag,"Resolving video.length: "+c),c},f["video.playerName"]=function(){var b=a(),c=b?b.playerName:null;return h._logger.debug(h._logTag,"Resolving video.playerName: "+c),c},f["video.mediaType"]=function(){var b=a(),c=b?b.mediaType:null;return h._logger.debug(h._logTag,"Resolving video.mediaType: "+c),c},f["video.streamType"]=function(){var b=a(),c=b?b.streamType:null;return h._logger.debug(h._logTag,"Resolving video.streamType: "+c),c},f["video.playhead"]=function(){var b=a(),c=b?b.playhead:NaN;return h._logger.debug(h._logTag,"Resolving video.playhead: "+c),c},f["video.resumed"]=function(){var b=a(),c=!!b&&b.resumed;return h._logger.debug(h._logTag,"Resolving video.resumed: "+c),c},f["video.playheadStalled"]=function(){return this._playheadStalled},f["pod.name"]=function(){var a=c(),b=a?a.name:null;return h._logger.debug(h._logTag,"Resolving pod.name: "+b),b},f["pod.playerName"]=function(){var a=c(),b=a?a.playerName:null;return h._logger.debug(h._logTag,"Resolving pod.playerName: "+b),b},f["pod.position"]=function(){var a=c(),b=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving pod.position: "+b),b},f["pod.startTime"]=function(){var a=c(),b=a?a.startTime:NaN;return h._logger.debug(h._logTag,"Resolving pod.startTime: "+b),b},f["ad.isInAd"]=function(){var a=b(),c=null!=a;return h._logger.debug(h._logTag,"Resolving ad.isInAd: "+c),c},f["ad.isInAdBreak"]=function(){var a=c(),b=null!=a;return h._logger.debug(h._logTag,"Resolving ad.isInAdBreak: "+b),b},f["ad.id"]=function(){var a=b(),c=a?a.id:null;return h._logger.debug(h._logTag,"Resolving ad.id: "+c),c},f["ad.name"]=function(){var a=b(),c=a?a.name:null;return h._logger.debug(h._logTag,"Resolving ad.name: "+c),c},f["ad.length"]=function(){var a=b(),c=a?a.length:NaN;return h._logger.debug(h._logTag,"Resolving ad.length: "+c),c},f["ad.position"]=function(){var a=b(),c=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving ad.position: "+c),c},f["ad.granularTracking"]=function(){var a=b(),c=!!a&&a.granularTracking;return h._logger.debug(h._logTag,"Resolving ad.granularTracking: "+c),c},f["ad.trackingInterval"]=function(){var a=T;return h._logger.debug(h._logTag,"Resolving ad.trackingInterval: "+a),a},f["chapter.isInChapter"]=function(){var a=d(),b=null!=a;return h._logger.debug(h._logTag,"Resolving chapter.isInChapter: "+b),b},f["chapter.name"]=function(){var a=d(),b=a?a.name:null;return h._logger.debug(h._logTag,"Resolving chapter.name: "+b),b},f["chapter.length"]=function(){var a=d(),b=a?a.length:NaN;return h._logger.debug(h._logTag,"Resolving chapter.length: "+b),b},f["chapter.position"]=function(){var a=d(),b=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving chapter.position: "+b),b},f["chapter.startTime"]=function(){var a=d(),b=a?a.startTime:NaN;return h._logger.debug(h._logTag,"Resolving chapter.startTime: "+b),b},f["qos.bitrate"]=function(){var a=e(),b=a?a.bitrate:NaN;return h._logger.debug(h._logTag,"Resolving qos.bitrate: "+b),b},f["qos.fps"]=function(){var a=e(),b=a?a.fps:NaN;return h._logger.debug(h._logTag,"Resolving qos.fps: "+b),b},f["qos.droppedFrames"]=function(){var a=e(),b=a?a.droppedFrames:NaN;return h._logger.debug(h._logTag,"Resolving qos.droppedFrames: "+b),b},f["qos.startupTime"]=function(){var a=e(),b=a?1e3*a.startupTime:NaN;return h._logger.debug(h._logTag,"Resolving qos.startupTime: "+b),b},this._dataResolver=function(a){if(!a||0==a.length)return null;g={};for(var b=null,c=0;c<a.length;c++){var d=a[c];b=b||{},b[d]=f.hasOwnProperty(d)?f[d].call(this):null}return b}},c.prototype._trackPlayheadStall=function(){this._canProcess()&&(this._playheadStalled||(this._logger.info(this._logTag,"#_trackPlayheadStall()"),this._stalledPlayheadCount=0,this._playheadStalled=!0,this._trigger(v)))},c.prototype._trackExitStall=function(){this._canProcess()&&(this._stalledPlayheadCount=0,!this._playheadStalled||this._isPaused||this._isSeeking||this._isBuffering||(this._logger.info(this._logTag,"#_trackExitStall()"),this._playheadStalled=!1,this._trigger(u)))},c.prototype._startPlayheadTimer=function(){var a=this;this._playheadTimer||this._isPaused||this._isSeeking||this._isBuffering||(this._playheadTimer=setInterval(function(){if(a._canProcess()){var b=a._dataResolver(["ad.isInAd","video.playhead"]);if(a._isTrackingAdBreak)a._playheadStalled&&a._trackExitStall();else{var c=b["video.playhead"];c!=a._previousPlayhead?a._trackExitStall():a._previousPlayhead>=0&&c==a._previousPlayhead&&++a._stalledPlayheadCount==U&&a._trackPlayheadStall(),c!=a._previousPlayhead&&c>0&&!a._contentStarted&&(a._isPaused||a._isBuffering||a._isSeeking||(a._logger.info(a._logTag,"#_playheadTimer playhead progress to: "+c),a._trigger(w),a._contentStarted=!0)),a._previousPlayhead=c}}},S))},c.prototype._stopPlayheadTimer=function(){this._playheadTimer&&(clearInterval(this._playheadTimer),this._playheadTimer=null),this._trackExitStall()},c.prototype._startSessionIfNeeded=function(a){return this._isTrackingSessionActive?(this._isTrackingSessionStarted||(this._logger.info(this._logTag,"#"+a+"() > Tracking session auto-start."),this.trackSessionStart()),!0):(this._logger.warn(this._logTag,"#"+a+"() > No active tracking session."),!1)},c.prototype._allowPlayerStateChange=function(){return!(this._isTrackingAdBreak&&!this._isTrackingAd)||(this._logger.info(this._logTag,"_allowPlayerStateChange Player plugin does not allow player state changes when in Adbreak and not in Ad."),!1)};var h="player",i=h,j="adobe-heartbeat",k="sourceErrorExternal",l="sourceErrorSDK",m="video_load",n="video_unload",o="video_session_end",p="video_start",q="video_resume",r="video_complete",s="video_skip",t="timed_metadata",u="play",v="pause",w="content_start",x="adbreak_start",y="adbreak_complete",z="ad_start",A="ad_complete",B="ad_skip",C="buffer_start",D="buffer_complete",E="seek_start",F="seek_complete",G="chapter_start",H="chapter_complete",I="chapter_skip",J="bitrate_change",K="track_error",L="video_idle_start",M="video_idle_resume",N="video_begin_reporting",O="callback",P="filter_report",Q="source",R="error_id",S=1001,T=1,U=2;b.VideoPlayerPlugin=c}(a.ADB.core,b),a.ADB.va.plugins.videoplayer||(a.ADB.va.plugins.videoplayer=b)}(this);\n  \n  // AdobeHeartbeatPlugin\n  !function(a){if(void 0===b)var b={};b.clock||(b.clock={}),b.context||(b.context={}),b.filter||(b.filter={}),b.model||(b.model={}),b.network||(b.network={}),function(a,b){"use strict";function c(a,b,c,d,e){if(!b)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=b,!a)throw new Error("Reference to the pluginManager object cannot be NULL");if(this._pluginManager=a,!e)throw new Error("Reference to the logger object cannot be NULL");this._logTag="ah::Timer."+c,this._logger=e,this._isDestroyed=!1,this._createTimer(c,d),this._installHandlers()}var d=a.Event;c.KEY_NAME="name",c.KEY_INTERVAL="interval",c.KEY_RESET="reset",c.prototype.resume=function(a){this._logger.debug(this._logTag,"Starting timer: "+this._name);var b={};b[c.KEY_NAME]=e+"."+this._name,b[c.KEY_RESET]=a,this._pluginManager.command(f,i,b)},c.prototype.pause=function(a){this._logger.debug(this._logTag,"Stopping timer: "+this._name);var b={};b[c.KEY_NAME]=e+"."+this._name,b[c.KEY_RESET]=a,this._pluginManager.command(f,h,b)},c.prototype.destroy=function(){if(!this._isDestroyed){this._isDestroyed=!0,this._uninstallHandlers();var a={};a[c.KEY_NAME]=e+"."+this._name,this._pluginManager.command(f,j,a)}},c.prototype.setInterval=function(a){var b=k+"."+e+"."+this._name,c=this._pluginManager.request(f,[b])[b];this.pause(!0),this._createTimer(this._name,a),c||this.resume(!0)},c.prototype._cmdResume=function(a){var b=!1;null!=a&&a.hasOwnProperty(c.KEY_RESET)&&(b=a[c.KEY_RESET]),this.resume(b)},c.prototype._cmdPause=function(a){var b=!1;null!=a&&a.hasOwnProperty(c.KEY_RESET)&&(b=a[c.KEY_RESET]),this.pause(b)},c.prototype._onTick=function(a,b){this._channel.trigger(new d("clock:"+this._name+".tick",b))},c.prototype._installHandlers=function(){this._channel.comply("clock:"+this._name+".resume",this._cmdResume,this),this._channel.comply("clock:"+this._name+".pause",this._cmdPause,this),this._pluginManager.on(f,e+"."+this._name+".tick",this._onTick,this)},c.prototype._uninstallHandlers=function(){this._channel.off(null,null,this),this._pluginManager.off(null,null,null,this)},c.prototype._createTimer=function(a,b){this._name=a,this._interval=b;var d={};d[c.KEY_NAME]=e+"."+this._name,d[c.KEY_INTERVAL]=this._interval,this._pluginManager.command(f,g,d)};var e="heartbeat",f="service.clock",g="create",h="pause",i="resume",j="destroy",k="is_paused";b.clock.Timer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,f,h,d)}var d=a.Event,e=b.clock.Timer;a.extend(c,e),c.prototype._onCheckStatusComplete=function(a){var b=a.data[l];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+b+")"),b){if(b==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");b>g?(this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Interval value too large: "+b),this.setInterval(g)):(this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+b),this.setInterval(b))}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(h)},c.prototype._getSettings=function(a){this._logger.debug(this._logTag,"#_getSettings()"),this._channel.trigger(new d(i))},c.prototype._installHandlers=function(){c.__super__._installHandlers.call(this),this._channel.on(j,this._getSettings,this),this._channel.on(k,this._onCheckStatusComplete,this),this._channel.reply(l,function(){return this._interval},this)};var f="check_status",g=600,h=180,i="clock:check_status.tick",j="clock:check_status.get_settings",k="net:check_status_complete",l="check_status_interval";b.clock.CheckStatusTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d),this._doNotOverrideInterval=!1}var d=b.clock.Timer;a.extend(c,d),c.prototype._onCheckStatusComplete=function(a){var b=a.data[g];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+b+")"),this._doNotOverrideInterval)this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed. (doNotOverrideInterval = true)");else if(b){if(b==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+b),this.setInterval(b)}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(f)},c.prototype._onUpdateReportingInterval=function(a){var b=a.data[g];if(this._doNotOverrideInterval=!!a.data[h],this._logger.debug(this._logTag,"#_onUpdateReportingInterval(interval="+b+", doNotOverrideInterval="+this._doNotOverrideInterval+")"),b){if(b==this._interval)return void this._logger.debug(this._logTag,"#_onUpdateReportingInterval() > Interval value not changed.");this._logger.debug(this._logTag,"#_onUpdateReportingInterval() > Interval changed to: "+b),this.setInterval(b)}else this._logger.warn(this._logTag,"#_onUpdateReportingInterval() > Invalid interval value."),this.setInterval(f)},c.prototype._installHandlers=function(){c.__super__._installHandlers.call(this),this._channel.on(j,this._onCheckStatusComplete,this),this._channel.on(i,this._onUpdateReportingInterval,this),this._channel.reply(g,function(){return this._interval},this)};var e="reporting",f=10,g="reporting_interval",h="do_not_override_interval",i="reporting:update_interval",j="net:check_status_complete";b.clock.ReportingTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d);var e="idle",f=1800;b.clock.IdleTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d);var e="flush_filter",f=.25;b.clock.FlushFilterTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,c){if(!a)throw new Error("Reference to the pluginManager object cannot be NULL");if(!b)throw new Error("Reference to the channel object cannot be NULL");if(!c)throw new Error("Reference to the logger object cannot be NULL");this._isDestroyed=!1,this._reportingTimer=new f(a,b,c),this._checkStatusTimer=new d(a,b,c),this._flushFilterTimer=new e(a,b,c),this._idleTimer=new g(a,b,c)}var d=b.clock.CheckStatusTimer,e=b.clock.FlushFilterTimer,f=b.clock.ReportingTimer,g=b.clock.IdleTimer;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._reportingTimer.destroy(),this._checkStatusTimer.destroy(),this._flushFilterTimer.destroy(),this._idleTimer.destroy())},b.clock.Clock=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){this.value=a,this.hint=b}function d(a){this.realm=a,this.data={}}c.HINT_SHORT="short",d.prototype.setField=function(a,b,d){this.data[a]=new c(b,d)},d.prototype._createAccessor=function(a,b,c){var d=this;return function(){return arguments.length&&(d[a]=arguments[0],d.setField(b,arguments[0],c)),d[a]}},b.model.Dao=d,b.model.DaoField=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"asset"),this.adId=this._createAccessor("_adId","ad_id",null),this.sid=this._createAccessor("_sid","ad_sid",null),this.resolver=this._createAccessor("_resolver","resolver",null),this.podId=this._createAccessor("_podId","pod_id",null),this.podPosition=this._createAccessor("_podPosition","pod_position",null),this.podOffset=this._createAccessor("_podOffset","pod_offset",null),this.podName=this._createAccessor("_podName","pod_name",null),this.adLength=this._createAccessor("_adLength","ad_length",null),this.adName=this._createAccessor("_adName","ad_name",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.adId(a.adId()),this.sid(a.sid()),this.resolver(a.resolver()),this.podId(a.podId()),this.podPosition(a.podPosition()),this.podOffset(a.podOffset()),this.podName(a.podName()),this.adLength(a.adLength()),this.adName(a.adName())}else this.adId(""),this.sid(""),this.resolver(""),this.podId(""),this.podPosition(""),this.podOffset(0),this.podName(""),this.adLength(0),this.adName("")}var d=b.model.Dao;a.extend(c,d),b.model.AdDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"sc"),this.reportSuiteId=this._createAccessor("_reportSuiteId","rsid",null),this.trackingServer=this._createAccessor("_trackingServer","tracking_server",null),this.ssl=this._createAccessor("_ssl","ssl",e.HINT_SHORT),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.reportSuiteId(a.reportSuiteId()),this.trackingServer(a.trackingServer()),this.ssl(a.ssl())}else this.reportSuiteId(""),this.trackingServer(""),this.ssl(0)}var d=b.model.Dao,e=b.model.DaoField;a.extend(c,d),b.model.AdobeAnalyticsDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.id=this._createAccessor("_id","chapter_id",null),this.sid=this._createAccessor("_sid","chapter_sid",null),this.name=this._createAccessor("_name","chapter_name",null),this.position=this._createAccessor("_position","chapter_pos",null),this.length=this._createAccessor("_length","chapter_length",null),this.offset=this._createAccessor("_offset","chapter_offset",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.id(a.id()),this.sid(a.sid()),this.name(a.name()),this.position(a.position()),this.length(a.length()),this.offset(a.offset())}else this.id(""),this.sid(""),this.name(""),this.position(0),this.length(0),this.offset(0)}var d=b.model.Dao;a.extend(c,d),b.model.ChapterDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"asset"),this.type=this._createAccessor("_type","type",null),this.videoId=this._createAccessor("_videoId","video_id",null),this.publisher=this._createAccessor("_publisher","publisher",null),this.adData=this._createAccessor("_adData","ad_data",null),this.chapterData=this._createAccessor("_chapterData","chapter_data",null),this.length=this._createAccessor("_length","length",null),this.name=this._createAccessor("_name","name",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type()),this.name(a.name()),this.videoId(a.videoId()),this.publisher(a.publisher()),this.length(a.length());var b=a.adData()?new e(a.adData()):null;this.adData(b);var d=a.chapterData()?new f(a.chapterData()):null;this.chapterData(d)}else this.type(""),this.name(""),this.videoId(""),this.publisher(""),this.length(0),this.adData(null),this.chapterData(null)}var d=b.model.Dao,e=b.model.AdDao,f=b.model.ChapterDao;a.extend(c,d),c.TYPE_AD="ad",c.TYPE_MAIN_CONTENT="main",b.model.AssetDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"event"),this.type=this._createAccessor("_type","type",null),this.duration=this._createAccessor("_duration","duration",null),this.playhead=this._createAccessor("_playhead","playhead",null),this.id=this._createAccessor("_id","id",null),this.source=this._createAccessor("_source","source",null),this.ts=this._createAccessor("_ts","ts",null),this.prevTs=this._createAccessor("_prevTs","prev_ts",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type()),this.duration(a.duration()),this.playhead(a.playhead()),this.id(a.id()),this.source(a.source()),this.ts(a.ts()),this.prevTs(a.prevTs())}else this.type(""),this.duration(0),this.playhead(0),this.id(""),this.source(""),this.ts(0),this.prevTs(-1)}var d=b.model.Dao;a.extend(c,d),c.EVENT_TYPE_AA_START="aa_start",c.EVENT_TYPE_AA_AD_START="aa_ad_start",c.EVENT_TYPE_START="start",c.EVENT_TYPE_RESUME="resume",c.EVENT_TYPE_CHAPTER_START="chapter_start",c.EVENT_TYPE_CHAPTER_COMPLETE="chapter_complete",c.EVENT_TYPE_CHAPTER_SKIP="chapter_skip",c.EVENT_TYPE_PLAY="play",c.EVENT_TYPE_PAUSE="pause",c.EVENT_TYPE_STALL="stall",c.EVENT_TYPE_BUFFER="buffer",c.EVENT_TYPE_BITRATE_CHANGE="bitrate_change",c.EVENT_TYPE_ERROR="error",c.EVENT_TYPE_COMPLETE="complete",c.EVENT_TYPE_SKIP="skip",c.EVENT_TYPE_END="end",b.model.EventDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.bitrate=this._createAccessor("_bitrate","bitrate",null),this.fps=this._createAccessor("_fps","fps",null),this.droppedFrames=this._createAccessor("_droppedFrames","dropped_frames",null),this.startupTime=this._createAccessor("_startup_time","startup_time",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.bitrate(a.bitrate()),this.fps(a.fps()),this.droppedFrames(a.droppedFrames()),this.startupTime(a.startupTime()),this.isStartupTimeOverridden=a.isStartupTimeOverridden}else this.bitrate(0),this.fps(0),this.droppedFrames(0),this.startupTime(0),this.isStartupTimeOverridden=!1}var d=b.model.Dao;a.extend(c,d),b.model.QoSDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"sp"),this.ovp=this._createAccessor("_ovp","ovp",null),this.sdk=this._createAccessor("_sdk","sdk",null),this.channel=this._createAccessor("_channel","channel",null),this.playerName=this._createAccessor("_playerName","player_name",null),this.libVersion=this._createAccessor("_libVersion","hb_version",null),this.apiLevel=this._createAccessor("_apiLevel","hb_api_lvl",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.ovp(a.ovp()),this.sdk(a.sdk()),this.channel(a.channel()),this.playerName(a.playerName()),this.libVersion(a.libVersion()),this.apiLevel(a.apiLevel())}else this.ovp(e),this.sdk(e),this.channel(e),this.playerName(""),this.libVersion(""),this.apiLevel(0)}var d=b.model.Dao;a.extend(c,d);var e="unknown";b.model.ServiceProviderDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"event"),this.sessionId=this._createAccessor("_sessionId","sid",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.sessionId(a.sessionId())}else this.sessionId(null)}var d=b.model.Dao;a.extend(c,d),b.model.SessionDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.type=this._createAccessor("_type","type",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type())}else this.type(null)}var d=b.model.Dao;a.extend(c,d),b.model.StreamDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"user"),this.analyticsVisitorId=this._createAccessor("_analyticsVisitorId","aid",null),this.marketingCloudVisitorId=this._createAccessor("_marketingCloudVisitorId","mid",null),this.visitorId=this._createAccessor("_visitorId","id",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.analyticsVisitorId(a.analyticsVisitorId()),this.marketingCloudVisitorId(a.marketingCloudVisitorId()),this.visitorId(a.visitorId())}else this.analyticsVisitorId(null),this.marketingCloudVisitorId(null),this.visitorId(null)}var d=b.model.Dao;a.extend(c,d),b.model.UserDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"aam"),this.audienceManagerBlob=this._createAccessor("_audienceManagerBlob","blob",null),this.audienceManagerLocationHint=this._createAccessor("_audienceManagerLocationHint","loc_hint",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.audienceManagerBlob(a.audienceManagerBlob()),this.audienceManagerLocationHint(a.audienceManagerLocationHint())}else this.audienceManagerBlob(null),this.audienceManagerLocationHint(null)}var d=b.model.Dao;a.extend(c,d),b.model.AudienceManagerDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,c,i,j){this.eventData=new e,this.eventData.type(b),this.eventData.duration(0),this.eventData.ts((new Date).getTime()),this.eventData.playhead(c),this.assetData=new f(a._assetData),this.streamData=new g(a._streamData),this.qosData=new h(a._qosData),this.cuserData=d.clone(a._cuserData),this.meta=i,this.callback=j,this.filterReport=!0}var d=a.ObjectUtils,e=b.model.EventDao,f=b.model.AssetDao,g=b.model.StreamDao,h=b.model.QoSDao;b.model.TrackItem=c}(a.ADB.va.utils,b),function(a,b){"use strict";function c(a,b,c,i,j,k){this.adobeAnalyticsData=a,this.userData=b,this.aamData=c,this.serviceProviderData=i,this.sessionData=j,this.eventData=new e(k.eventData),this.assetData=new f(k.assetData),this.streamData=new g(k.streamData),this.qosData=new h(k.qosData),this.cuserData=d.clone(k.cuserData),this.meta=d.clone(k.meta),this.callback=k.callback,this.filterReport=k.filterReport}var d=a.ObjectUtils,e=b.model.EventDao,f=b.model.AssetDao,g=b.model.StreamDao,h=b.model.QoSDao;b.model.CUserDao;b.model.Report=c}(a.ADB.va.utils,b),function(a){"use strict";function b(){}b.prototype.serializeReport=function(a){},b.prototype.serializeDao=function(a){},b.prototype.serializeMap=function(a){},b.prototype.serializeNumber=function(a,b,c,d){},b.prototype.serializeString=function(a,b,c,d){},a.model.ISerializer=b}(b),function(a,b){"use strict";function c(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a}var d=b.model.Dao,e=b.model.DaoField,f=b.model.ISerializer;a.extend(c,f),c.prototype.serializeReport=function(a){var b=[];return b.push(this.serializeDao(a.adobeAnalyticsData)),b.push(this.serializeDao(a.userData)),b.push(this.serializeDao(a.aamData)),b.push(this.serializeMap(a.cuserData,"cuser")),b.push(this.serializeDao(a.serviceProviderData)),b.push(this.serializeDao(a.sessionData)),b.push(this.serializeDao(a.eventData)),b.push(this.serializeDao(a.assetData)),b.push(this.serializeDao(a.streamData)),b.push(this.serializeDao(a.qosData)),b.push(this.serializeMap(a.meta,"meta")),{serializedOutput:b.filter(function(a){return!!a}).join("&"),callback:a.callback}},c.prototype.serializeDao=function(a){return this._processDao(a).filter(function(a){return!!a}).join("&")},c.prototype.serializeMap=function(a,b){var c=[],d=b||"meta";for(var e in a)a.hasOwnProperty(e)&&a[e]&&c.push("s:"+d+":"+e+"="+window.encodeURIComponent(a[e]));return c.join("&")},c.prototype.serializeNumber=function(a,b,c,d){var f=h;return null==b||isNaN(b)?null:(d===e.HINT_SHORT&&(f=i),f+":"+c+":"+a+"="+Math.floor(b))},c.prototype.serializeString=function(a,b,c,d){return b?j+":"+c+":"+a+"="+window.encodeURIComponent(b):null},c.prototype._processDao=function(a){var b=[];for(var c in a.data)if(a.data.hasOwnProperty(c)){var e=a.data[c],f=e.value,h=e.hint,i=null,j=a.realm;if(null==f)continue;"number"==typeof f?i=this.serializeNumber(c,f,j,h):"string"==typeof f?i=this.serializeString(c,f,j,h):f instanceof d?i=this.serializeDao(f):this._logger.warn(g,"#_processDao() > Unable to serialize DAO. Field: "+c+". Value: "+f+"."),i&&b.push(i)}return b};var g="ah::QuerystringSerializer",h="l",i="h",j="s";b.model.QuerystringSerializer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(!a)throw new Error("Reference to the data object cannot be NULL");if(this._data=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b}c.prototype.parse=function(){var a,b,c,j,k,l;if(window.DOMParser){l=(new window.DOMParser).parseFromString(this._data,"text/xml")}else l=new window.ActiveXObject("Microsoft.XMLDOM"),l.async=!1,l.loadXML(this._data);var m;m=parseInt(l.getElementsByTagName("trackingInterval")[0].childNodes[0].nodeValue,10),m&&(a=m),m=parseInt(l.getElementsByTagName("setupCheckInterval")[0].childNodes[0].nodeValue,10),m&&(b=m),m=parseInt(l.getElementsByTagName("trackExternalErrors")[0].childNodes[0].nodeValue,10),m&&(c=1==m),l.getElementsByTagName("trackingDisabled")[0]&&(m=parseInt(l.getElementsByTagName("trackingDisabled")[0].childNodes[0].nodeValue,10),j=1==m),l.getElementsByTagName("nielsenEnabled")[0]?(m=parseInt(l.getElementsByTagName("nielsenEnabled")[0].childNodes[0].nodeValue,10),k=1==m):k=!0;var n={};return n[e]=a,n[f]=b,n[g]=c,n[i]=j,n[h]=k,this._logger.debug(d,"#parse() > Obtained configuration settings."),n};var d="ah::SettingsParser",e="reporting_interval",f="check_status_interval",g="track_external_errors",h="nielsen_enabled",i="tracking_disabled";b.network.SettingsParser=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(this._trackingServer=null,this._checkStatusServer=null,this._publisher=null,this._isConfigured=!1,this._isDestroyed=!1,this._beginReporting=!1,this._sendingRequest=!1,this._requestsQueue=[],this._quietMode=!1,this._prevReportSent=null,!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._serializer=new i(b),this._installEventListeners()}var d=a.Event,e=a.URLRequestMethod,f=a.URLRequest,g=a.URLLoader,h=b.network.SettingsParser,i=b.model.QuerystringSerializer;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(j,"#destroy()"),this._uninstallEventListeners())},c.prototype._onApiConfig=function(a){var b=a.data;this._logger.debug(j,"#_onApiConfig(sb_server="+b[k]+", check_status_server="+b[l]+", publisher="+b[m]+", quiet_mode="+b[n]+", ssl="+b[o]+")"),this._trackingServer=this._updateRequestProtocol(b[k],b[o]),this._checkStatusServer=this._updateRequestProtocol(b[l],b[o]),this._publisher=b[m],this._quietMode=b[n],this._isConfigured=!0},c.prototype._onBeginReporting=function(a){this._logger.debug(j,"#_onBeginReporting()"),this._beginReporting=!0,this._sendNextRequest(),this._onClockCheckStatusTick()},c.prototype._onFilterReportAvailable=function(a){var b=a.data;if(!this._isConfigured)return void this._logger.warn(j,"#_onFilterReportAvailable() > Unable to send request: not configured.");var c=b[p];if(this._prevReportSent&&this._prevReportSent.eventData&&c.eventData&&this._prevReportSent.eventData.playhead==c.eventData.playhead&&this._prevReportSent.eventData.ts==c.eventData.ts&&this._prevReportSent.eventData.prevTs==c.eventData.prevTs&&this._prevReportSent.eventData.type==c.eventData.type)return void this._logger.debug(j,"#_onFilterReportAvailable() > Duplicate heartbeat report not sent for URL:\\n"+e);this._prevReportSent=c;var d=this._serializer.serializeReport(c),e=this._trackingServer+"/?"+d.serializedOutput;this._processRequest(e,d.callback)},c.prototype._processRequest=function(a,b){this._requestsQueue.push({url:a,callback:b}),this._sendNextRequest()},c.prototype._sendNextRequest=function(){if(!this._beginReporting)return void this._logger.debug(j,"#_sendNextRequest() > Exiting as we have not started reporting.");if(this._sendingRequest)return void this._logger.debug(j,"#_sendNextRequest() > Exiting as we are currently sending a request.");var a=this._requestsQueue.shift();if(!a)return void this._logger.debug(j,"#_sendNextRequest() > Exiting as we have no requests to send.");this._sendingRequest=!0,this._logger.debug(j,"#_sendNextRequest() > "+a.url);var b=this,c=new g,h=function(){c.close(),a.callback&&a.callback.call(null),b._sendingRequest=!1,b._sendNextRequest()},i=function(a){h()},k=function(a){b._logger.warn(j,"#_onFilterReportAvailable() > Failed to send heartbeat report."),h()};if(!this._quietMode){c.addEventListener(d.SUCCESS,i,this),c.addEventListener(d.ERROR,k,this);var l=new f(a.url,e.GET);c.load(l)}},c.prototype._onClockCheckStatusTick=function(a){function b(a){if(a.data)try{var b=new h(a.data.response,i._logger),c=b.parse();c?i._channel.trigger(new d(u,c)):i._logger.warn(j,"#_onClockCheckStatusTick() > Failed to parse the config. settings.")}catch(a){i._logger.warn(j,"#_onClockCheckStatusTick() > Failed to parse the config. settings.")}n.close()}function c(a){i._logger.warn(j,"#_onClockCheckStatusTick() > Failed to obtain the config. settings."),n.close()}if(!this._isConfigured)return void this._logger.warn(j,"#_onClockCheckStatusTick() > Unable to send request: not configured.");if(!this._publisher)return void this._logger.warn(j,"#_onClockCheckStatusTick() > Publisher is NULL.");if(!this._beginReporting)return void this._logger.debug(j,"#_onClockCheckStatusTick() > Exiting as we have not started reporting.");var i=this,k=this._publisher.replace(/[^a-zA-Z0-9]+/,"-").toLocaleLowerCase(),l=this._checkStatusServer+k+".xml?r="+(new Date).getTime(),m=new f(l,e.GET),n=new g;n.addEventListener(d.SUCCESS,b,this),n.addEventListener(d.ERROR,c,this),this._logger.debug(j,"#_onClockCheckStatusTick() > Get new settings from: "+l),n.load(m)},c.prototype._updateRequestProtocol=function(a,b){var c=a;return 0===c.indexOf("http://")?c=c.slice(7):0===c.indexOf("https://")&&(c=c.slice(8)),b?"https://"+c:"http://"+c},c.prototype._installEventListeners=function(){this._channel.on(q,this._onApiConfig,this),this._channel.on(r,this._onBeginReporting,this),this._channel.on(s,this._onFilterReportAvailable,this),this._channel.on(t,this._onClockCheckStatusTick,this)},c.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var j="ah::Network",k="tracking_server",l="check_status_server",m="publisher",n="quiet_mode",o="ssl",p="report",q="api:config",r="api:video_begin_reporting",s="filter:data_available",t="clock:check_status.tick",u="net:check_status_complete";b.network.Network=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._isDestroyed=!1,this._isBufferingInProgress=!1,this._reportBuffer={},this._tsHistory={},this._workQueue=new i,this._installEventListeners()}function d(a){var b=[];return a&&a.forEach(function(a){a.eventData.type()==k.EVENT_TYPE_PAUSE||a.eventData.type()==k.EVENT_TYPE_STALL||a.eventData.type()==k.EVENT_TYPE_BUFFER?(!a.filterReport||a.eventData.duration()>u)&&b.push(a):b.push(a)}),b}function e(a){var b=-1,c=-1,d=[];return a.forEach(function(a){a.eventData.type()==k.EVENT_TYPE_START?a.assetData.type()==l.TYPE_MAIN_CONTENT?-1==b?b=d.push(a)-1:(a.eventData.prevTs(-1),d[b]=a):-1==c?c=d.push(a)-1:(a.eventData.prevTs(-1),d[c]=a):d.push(a)}),d}function f(a){var b=[];return a.forEach(function(c){if(c.eventData.type()==k.EVENT_TYPE_PLAY){if(c.eventData.duration()>t)b.push(c);else if(0==c.eventData.duration()&&c.assetData.type()==l.TYPE_MAIN_CONTENT){var d=g(a);d.indexOf(c)==d.length-1&&b.push(c)}}else b.push(c)}),b}function g(a){var b=[];return a.forEach(function(a){a.eventData.type()!=k.EVENT_TYPE_PLAY&&a.eventData.type()!=k.EVENT_TYPE_BUFFER&&a.eventData.type()!=k.EVENT_TYPE_START||b.push(a)}),b}var h=a.radio.Command,i=a.radio.CommandQueue,j=a.Event,k=b.model.EventDao,l=b.model.AssetDao;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(w,"#destroy()"),this._uninstallEventListeners(),this.clear())},c.prototype.clear=function(){this._logger.debug(w,"#clear()"),this._workQueue.cancelAllCommands(),this._reportBuffer={},this._tsHistory={},this._isBufferingInProgress=!1},c.prototype.flush=function(){this._workQueue.addCommand(new h(this._flushBufferReport,this))},c.prototype._bufferReport=function(a){if(!this._isDestroyed){var b=a[q];if(b){var c=b.sessionData.sessionId();this._reportBuffer[c]=this._reportBuffer[c]||[],this._reportBuffer[c].push(b)}if(!this._isBufferingInProgress){this._isBufferingInProgress=!0;var d={};d[p]=!0,d[r]=1,this._channel.command(s,d)}}},c.prototype._flushBufferReport=function(){function a(a){if(a)for(var c=0;c<a.length;c++){var d=a[c],e=d.sessionData.sessionId();b._tsHistory[e]=b._tsHistory[e]||{};var f=d.eventData.type()+"."+(d.assetData.type()==l.TYPE_AD?d.assetData.adData().adId():d.assetData.videoId());b._tsHistory[e].hasOwnProperty(f)&&d.eventData.prevTs(b._tsHistory[e][f]),b._tsHistory[e][f]=d.eventData.ts()}}if(!this._isDestroyed){var b=this;for(var c in this._reportBuffer)if(this._reportBuffer.hasOwnProperty(c)){var g=f(e(d(this._reportBuffer[c])));a(g);for(var h=0;h<g.length;h++){var i=g[h],k={};k[q]=i,this._channel.trigger(new j(n,k))}}this._reportBuffer={};var m=this._channel.request(v),o=this._tsHistory[m]||{};this._tsHistory={},this._tsHistory[m]=o,this._isBufferingInProgress=!1}},c.prototype._onContextReportAvailable=function(a){var b=a.data;this._workQueue.addCommand(new h(this._bufferReport,this,[b]))},c.prototype._onClockFlushFilterTick=function(a){this.flush()},c.prototype._installEventListeners=function(){this._channel.on(m,this._onContextReportAvailable,this),this._channel.on(o,this._onClockFlushFilterTick,this)},c.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var m="context:report_available",n="filter:data_available",o="clock:flush_filter.tick",p="reset",q="report",r="repeat_count",s="clock:flush_filter.resume",t=250,u=250,v="session_id",w="ah::ReportFilter";b.filter.ReportFilter=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){this._onFail={fn:a,ctx:b}}var d=a.ErrorInfo;c.prototype.validateFields=function(a,b){if(!a)return this._fail("Data cannot be null");if(b)for(var c=0;c<b.length;c++){var d=b[c];switch(d){case"videoId":if(!a.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof a.videoId)return this._fail("The ID for the main video must be a String.");if(""===a.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!a.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof a.streamType)return this._fail("The stream type for the main video must be a String.");if(""===a.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"videoLength":if(!a.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof a.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(a.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"playhead":if(!a.hasOwnProperty("playhead"))return this._fail("The playhead for the main video must be specified.");if("number"!=typeof a.playhead)return this._fail("The playhead for the main video must be a Number.");if(isNaN(a.playhead))return this._fail("The playhead for the main video cannot be NaN.");break;case"playerName":if(!a.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof a.playerName)return this._fail("The player name for the main video must be a String.");if(""===a.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"rsid":if(!a.hasOwnProperty("rsid"))return this._fail("account (rsid) is required and has to be set in the AppMeasurement instance.");if("string"!=typeof a.rsid)return this._fail("account (rsid) of the AppMeasurement instance must be a String.");if(""===a.rsid)return this._fail("account (rsid) of the AppMeasurement instance  cannot be an empty string.");break;case"trackingServer":if(!a.hasOwnProperty("trackingServer"))return this._fail("trackingServer is required and has to be set in the AppMeasurement instance.");if("string"!=typeof a.trackingServer)return this._fail("trackingServer of the AppMeasurement instance must be a String.");if(""===a.trackingServer)return this._fail("trackingServer of the AppMeasurement instance cannot be an empty string.");break;case"podPlayerName":if(!a.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof a.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===a.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!a.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof a.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(a.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!a.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof a.adId)return this._fail("The ad ID must be a String.");if(""===a.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!a.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof a.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(a.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"chapterPosition":if(!a.hasOwnProperty("chapterPosition"))return this._fail("Position (index) of the chapter must be specified.");if("number"!=typeof a.chapterPosition)return this._fail("Position (index) of the chapter must be a Number.");if(isNaN(a.chapterPosition))return this._fail("Position (index) of the chapter cannot be NaN.");break;case"chapterOffset":if(!a.hasOwnProperty("chapterOffset"))return this._fail("Chapter start-time (offset) must be specified.");if("number"!=typeof a.chapterOffset)return this._fail("Chapter start-time (offset) must be a Number.");if(isNaN(a.chapterOffset))return this._fail("Chapter start-time (offset) cannot be NaN.");break;case"chapterLength":if(!a.hasOwnProperty("chapterLength"))return this._fail("The length of the chapter must be specified.");if("number"!=typeof a.chapterLength)return this._fail("The length of the chapter must be a Number.");if(isNaN(a.chapterLength))return this._fail("The length of the chapter cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+d)}}return!0},c.prototype._fail=function(a){var b=new d("Invalid input data",a);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,b),!1},b.context.InputDataValidator=c}(a.ADB.va,b),function(a,b){"use strict";function c(a,b){if(!b)throw new Error("Reference to the logger object cannot be NULL");if(this._logger=b,!a)throw new Error("Reference to the context object cannot be NULL");this._context=a}var d=b.model.Report;c.prototype.createReportForItem=function(a){return this._logger.debug(e,"Creating report for item: "+a.eventData.type()),new d(this._context._adobeAnalyticsData,this._context._userData,this._context._aamData,this._context._serviceProviderData,this._context._sessionData,a)};var e="ah::ReportFactory";b.context.ReportFactory=c}(a.ADB.core,b),function(a,b,c,d){"use strict";function e(a,b){if(!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._lastInBandItem=null,this._stashedLastInBandItem=null,this._stashedMainMetadata=null,this._autoComputedStartupTime=0,this._reportingInterval=ma,this._assetData=null,this._streamData=null,this._qosData=null,this._sessionData=null,this._cuserData=null,this._adobeAnalyticsData=new j,this._serviceProviderData=new k,this._userData=new l,this._aamData=new m,this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._isDestroyed=!1,this._doNotOverrideEventDuration=!1,this._reportFactory=new u(this,this._logger),this._inputDataValidator=new v(function(a){this._logger.error(w,a.getMessage()+" | "+a.getDetails()),this._channel.trigger(new h(y,a))},this),this._trackExternalErrors=!0,this._installEventListeners()}var f=c.md5,g=c.ObjectUtils,h=a.Event,i=d.model.SessionDao,j=d.model.AdobeAnalyticsDao,k=d.model.ServiceProviderDao,l=d.model.UserDao,m=d.model.AudienceManagerDao,n=d.model.EventDao,o=d.model.AssetDao,p=d.model.StreamDao,q=d.model.QoSDao,r=d.model.AdDao,s=d.model.ChapterDao,t=d.model.TrackItem,u=d.context.ReportFactory,v=d.context.InputDataValidator;e.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(w,"#destroy()"),this._uninstallEventListeners())},e.prototype._onApiAnalyticsStart=function(a){this._logger.debug(w,"#_onApiAnalyticsStart()");var b=a.data;if(this._checkCall("_onApiAnalyticsStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._userData.visitorId(b.vid),this._userData.analyticsVisitorId(b.aid),this._userData.marketingCloudVisitorId(b.mid),this._aamData.audienceManagerBlob(b.blob),this._aamData.audienceManagerLocationHint(b.loc_hint),b.customerIDs&&(this._cuserData=b.customerIDs),this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_AA_START,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._cuserData=null,this._sendHit(c)}},e.prototype._onApiAnalyticsAdStart=function(a){this._logger.debug(w,"#_onApiAnalyticsAdStart()");var b=a.data;if(this._checkCall("_onApiAnalyticsAdStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_AA_AD_START,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiVideoLoad=function(a){var b=a.data;this._logger.debug(w,"#_onApiVideoLoad(rsid="+b.rsid+", aa_trackingServer="+b.trackingServer+")"),this._resetInternalState(),this._inputDataValidator.validateFields(b,["rsid","trackingServer"])&&(this._sessionData.sessionId(this._generateSessionId()),this._isTrackingSessionActive=!0)},e.prototype._onApiVideoUnload=function(a){if(this._logger.debug(w,"#_onApiVideoUnload()"),!this._isTrackingSessionActive)return void this._logger.debug(w,"#_onApiVideoUnload() > No active tracking session.");this._isTrackingSessionActive=!1},e.prototype._onApiVideoStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiVideoStart(id="+b.videoId+", name="+b.videoName+", length="+b.videoLength+", type="+b.streamType+", playerName="+b.playerName+")"),this._checkCall("_onApiVideoStart")&&this._inputDataValidator.validateFields(b,["videoId","streamType","videoLength","playhead","playerName"])){this._lastInBandItem=null,this._stashedLastInBandItem=null,this._adobeAnalyticsData.reportSuiteId(b.rsid),this._adobeAnalyticsData.trackingServer(b.trackingServer),this._adobeAnalyticsData.ssl(Number(b.useSsl)),this._serviceProviderData.ovp(b.ovp),this._serviceProviderData.sdk(b.sdk),this._serviceProviderData.channel(b.channel),this._serviceProviderData.libVersion(b.version),this._serviceProviderData.apiLevel(b.apiLvl),this._serviceProviderData.playerName(b.playerName),this._assetData.adData(null),this._assetData.chapterData(null),this._assetData.videoId(b.videoId),this._assetData.length(b.videoLength),this._assetData.type(o.TYPE_MAIN_CONTENT),this._assetData.publisher(b.publisher),this._assetData.name(b.videoName),this._streamData.type(b.streamType),this._updateQoSInfo(b);var c=b.metaNielsen?g.merge(b.metaVideo,b.metaNielsen):b.metaVideo,d=new t(this,n.EVENT_TYPE_START,b.playhead,c,b._eventData[E]);this._sendHit(d)}},e.prototype._onApiVideoResume=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiVideoResume(id="+b.videoId+", name="+b.videoName+", length="+b.videoLength+", type="+b.streamType+", playerName="+b.playerName+")"),this._checkCall("_onApiVideoResume")&&this._inputDataValidator.validateFields(b,["videoId","streamType","videoLength","playhead","playerName"])){this._assetData.videoId(b.videoId),this._assetData.length(b.videoLength),this._assetData.type(o.TYPE_MAIN_CONTENT),this._assetData.name(b.videoName),this._streamData.type(b.streamType);var c=new t(this,n.EVENT_TYPE_RESUME,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiVideoSessionEnd=function(a){this._logger.debug(w,"#_onApiVideoSessionEnd()");var b=a.data;if(this._checkCall("_onApiVideoSessionEnd")&&this._inputDataValidator.validateFields(b,["playhead"])){var c=new t(this,n.EVENT_TYPE_END,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(c)}},e.prototype._onApiVideoComplete=function(a){this._logger.debug(w,"#_onApiVideoComplete()");var b=a.data;if(this._checkCall("_onApiVideoComplete")){var c=new t(this,n.EVENT_TYPE_COMPLETE,this._assetData.length(),null,b._eventData[E]);this._sendHit(c),this._isVideoComplete=!0}},e.prototype._onApiVideoSkip=function(a){this._logger.debug(w,"#_onApiVideoSkip()");var b=a.data;if(this._checkCall("_onApiVideoSkip")){var c=new t(this,n.EVENT_TYPE_SKIP,b.playhead,null,b._eventData[E]);this._sendHit(c),this._isVideoComplete=!0}},e.prototype._onApiPlay=function(a){this._logger.debug(w,"#_onApiPlay()");var b=a.data;if(this._checkCall("_onApiPlay")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_PLAY,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiPause=function(a){this._logger.debug(w,"#_onApiPause()");var b=a.data;if(this._checkCall("_onApiPause")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=b.playheadStalled?n.EVENT_TYPE_STALL:n.EVENT_TYPE_PAUSE,d=new t(this,c,b.playhead,null,b._eventData[E]);b._eventData.hasOwnProperty(F)&&(d.filterReport=b._eventData[F]),this._sendHit(d)}},e.prototype._onApiBufferStart=function(a){this._logger.debug(w,"#_onApiBufferStart()");var b=a.data;if(this._checkCall("_onApiBufferStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_BUFFER,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiAdBreakStart=function(a){this._logger.debug(w,"#_onApiAdBreakStart()");var b=a.data;this._checkCall("_onApiAdBreakStart")&&this._inputDataValidator.validateFields(b,["playhead"])&&(this._flushLastInbandItem(b),this._updateLastInbandItemToBuffering())},e.prototype._onApiAdBreakComplete=function(a){this._logger.debug(w,"#_onApiAdBreakComplete()");var b=a.data;this._checkCall("_onApiAdBreakComplete")&&this._inputDataValidator.validateFields(b,["playhead"])&&(this._flushLastInbandItem(b),this._restoreLastInbandItem())},e.prototype._onApiAdStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiAdStart(id="+b.adId+", player_name="+b.podPlayerName+", parent_name="+this._assetData.videoId()+", pod_pos="+b.adPosition+")"),this._checkCall("_onApiAdStart")&&this._inputDataValidator.validateFields(b,["playhead","podPosition","podPlayerName","adId","adPosition"])){var c=new r;c.adId(b.adId),c.adName(b.adName),c.adLength(b.adLength),c.resolver(b.podPlayerName),c.podId(f(this._assetData.videoId())+"_"+b.podPosition),c.podPosition(b.adPosition+""),c.podName(b.podName),c.podOffset(b.podSecond),c.sid(this._generateSessionId()),this._assetData.adData(c),this._assetData.type(o.TYPE_AD),this._updateQoSInfo(b);var d=g.merge(b.metaVideo,b.metaAd);d=b.metaNielsen?g.merge(d,b.metaNielsen):d,d=b.metaAdNielsen?g.merge(d,b.metaAdNielsen):d;var e=new t(this,n.EVENT_TYPE_START,b.playhead,d,b._eventData[E]);this._sendHit(e),this._restoreLastInbandItem();if(!!b.adGranularTracking){var h=b.adTrackingInterval?b.adTrackingInterval:this._reportingInterval;this._updateReportingInterval(h,!0)}}},e.prototype._onApiAdComplete=function(a){this._logger.debug(w,"#_onApiAdComplete()");var b=a.data;if(this._checkCall("_onApiAdComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(this._assetData.type()!=o.TYPE_AD)return void this._logger.warn(w,"#_onApiAdComplete() > Ignoring the ad complete event, because we are no longer in an ad.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_COMPLETE,b.playhead,null,b._eventData[E]);this._sendHit(c),this._updateLastInbandItemToBuffering(),this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._updateReportingInterval(this._reportingInterval,!1)}},e.prototype._onApiAdSkip=function(a){this._logger.debug(w,"#_onApiAdSkip()");var b=a.data;if(this._checkCall("_onApiAdSkip")&&this._inputDataValidator.validateFields(b,["playhead"])){if(this._assetData.type()!=o.TYPE_AD)return void this._logger.warn(w,"#_onApiAdSkip() > Ignoring the ad skip event, because we are no longer in an ad.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_SKIP,b.playhead,null,b._eventData[E]);this._sendHit(c),this._updateLastInbandItemToBuffering(),this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._updateReportingInterval(this._reportingInterval,!1)}},e.prototype._onApiChapterStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiChapterStart(name="+b.chapterName+", length="+b.chapterLength+", position="+b.chapterPosition+", chapter_offset="+b.chapterOffset+")"),this._checkCall("_onApiChapterStart")&&this._inputDataValidator.validateFields(b,["playhead","chapterPosition","chapterOffset","chapterLength"])){var c=new s;c.id(f(this._assetData.videoId())+"_"+b.chapterPosition),c.name(b.chapterName),c.length(b.chapterLength),c.position(b.chapterPosition),c.offset(b.chapterOffset),c.sid(this._generateSessionId()),this._assetData.chapterData(c),this._updateQoSInfo(b);var d=g.merge(b.metaVideo,b.metaChapter),e=new t(this,n.EVENT_TYPE_CHAPTER_START,b.playhead,d,b._eventData[E]);e.assetData.adData(null),e.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(e)}},e.prototype._onApiChapterComplete=function(a){this._logger.debug(w,"#_onApiChapterComplete()");var b=a.data;if(this._checkCall("_onApiChapterComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(w,"#_onApiChapterComplete() > Ignoring the chapter complete event, because we are no longer in a chapter.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_CHAPTER_COMPLETE,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(c),this._assetData.chapterData(null)}},e.prototype._onApiChapterSkip=function(a){this._logger.debug(w,"#_onApiChapterSkip()");var b=a.data;if(this._checkCall("_onApiChapterSkip")&&this._inputDataValidator.validateFields(b,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(w,"#_onApiChapterSkip() > Ignoring the chapter skip event, because we are no longer in a chapter.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_CHAPTER_SKIP,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(c),this._assetData.chapterData(null)}},e.prototype._onApiBitrateChange=function(a){this._logger.debug(w,"#_onApiBitrateChange()");var b=a.data;if(this._checkCall("_onApiBitrateChange")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_BITRATE_CHANGE,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiTrackError=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiTrackError(source="+b._eventData.source+", err_id="+b._eventData.error_id+")"),!this._isTrackingSessionActive)return void this._logger.warn(w,"#_onApiTrackError() > No active tracking session.");if(this._trackExternalErrors||b._eventData.source===x){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_ERROR,0,null,b._eventData[E]);c.eventData.id(b._eventData.error_id),c.eventData.source(b._eventData.source),this._sendHit(c)}},e.prototype._onApiTrackInternalError=function(a){var b=a.data;this._logger.debug(w,"#_onApiTrackInternalError(source="+b.source+", err_id="+b.error_id+")"),this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_ERROR,0);c.eventData.id(b.error_id),c.eventData.source(b.source),this._sendHit(c)},e.prototype._onApiQuantumEnd=function(a){this._logger.debug(w,"#_onApiQuantumEnd(interval="+this._channel.request(B)+")");var b=a.data;if(this._checkCall("_onApiQuantumEnd")&&this._inputDataValidator.validateFields(b,["playhead"])){var c=this._lastInBandItem;if(c){this._updateQoSInfo(b);var d=new t(this,c.eventData.type(),b.playhead,c.meta,c.callback);d.filterReport=c.filterReport,this._sendHit(d,!0)}}},e.prototype._onNetworkCheckStatusComplete=function(a){var b=a.data;this._trackExternalErrors=b[I],this._reportingInterval=b[J],this._reportingInterval||(this._reportingInterval=ma),this._logger.debug(w,"#_onNetworkCheckStatusComplete(track_ext_err="+this._trackExternalErrors+")")},e.prototype._onResetSessionId=function(a){var b=this._generateSessionId();this._sessionData=new i,this._sessionData.sessionId(b),this._logger.debug(w,"#_resetSessionId(new sessionId="+b+")")},e.prototype._installEventListeners=function(){this._channel.on(L,this._onApiAnalyticsStart,this),this._channel.on(M,this._onApiAnalyticsAdStart,this),this._channel.on(N,this._onApiVideoLoad,this),this._channel.on(O,this._onApiVideoUnload,this),this._channel.on(P,this._onApiVideoStart,this),this._channel.on(Q,this._onApiVideoComplete,this),this._channel.on(R,this._onApiVideoSkip,this),this._channel.on(S,this._onApiVideoResume,this),this._channel.on(T,this._onApiVideoSessionEnd,this),this._channel.on(U,this._onApiAdBreakStart,this),this._channel.on(V,this._onApiAdBreakComplete,this),this._channel.on(W,this._onApiAdStart,this),this._channel.on(X,this._onApiAdComplete,this),this._channel.on(Y,this._onApiAdSkip,this),this._channel.on(Z,this._onApiPlay,this),this._channel.on($,this._onApiPause,this),this._channel.on(_,this._onApiBufferStart,this),this._channel.on(aa,this._onApiChapterStart,this),this._channel.on(ba,this._onApiChapterComplete,this),this._channel.on(ca,this._onApiChapterSkip,this),this._channel.on(fa,this._onApiBitrateChange,this),this._channel.on(da,this._onApiTrackError,this),this._channel.on(ea,this._onApiTrackInternalError,this),this._channel.on(ga,this._onApiQuantumEnd,this),this._channel.on(ia,this._onNetworkCheckStatusComplete,this),this._channel.on(D,this._onResetSessionId,this),this._channel.reply(C,function(){return this._sessionData&&this._sessionData.sessionId()?this._sessionData.sessionId():null},this)},e.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},e.prototype._resetInternalState=function(){this._logger.debug(w,"#_resetInternalState()"),this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._autoComputedStartupTime=0,this._lastInBandItem=null,this._stashedLastInBandItem=null,this._streamData=new p,this._qosData=new q,this._sessionData=new i,this._assetData=new o,this._cuserData=null},e.prototype._generateSessionId=function(){return""+(new Date).getTime()+Math.floor(1e9*Math.random())},e.prototype._updateQoSInfo=function(a){this._qosData.bitrate(a.bitrate||0),this._qosData.fps(a.fps||0),this._qosData.droppedFrames(a.droppedFrames||0),null==a.startupTime||isNaN(a.startupTime)?(this._qosData.startupTime(this._autoComputedStartupTime),this._qosData.isStartupTimeOverridden=!1):(this._qosData.startupTime(a.startupTime),this._qosData.isStartupTimeOverridden=!0)},e.prototype._checkCall=function(a){return this._isTrackingSessionActive?!this._isVideoComplete||"_onApiVideoSessionEnd"===a||(this._logger.warn(w,"#"+a+"() > The video content already completed."),!1):(this._logger.warn(w,"#"+a+"() > No active tracking session."),!1)},e.prototype._updateReportingInterval=function(a,b){var c={};c[K]=!!b,c[J]=a,this._channel.trigger(new h(ja,c))},e.prototype._updateLastInBandItem=function(a){var b=this._lastInBandItem,c=(new Date).getTime(),d=b.assetData.type()===o.TYPE_AD||a.assetData.type()===o.TYPE_AD,e=1e3*Math.abs(a.eventData.playhead()-b.eventData.playhead()),f=Math.abs(c-b.eventData.ts()),g=Math.abs(e-f),h=f;h>ka?(this._logger.warn(w," Resetting duration in lastInBandItem["+b.assetData.type()+":"+b.eventData.type()+"] call to 0 as calculated duration ("+h+")exceeds 10mins"),h=0):b.eventData.type()==n.EVENT_TYPE_PLAY&&!d&&!this._doNotOverrideEventDuration&&g>la&&(h=Math.min(e,f),this._logger.warn(w," Resetting duration in lastInBandItem["+b.assetData.type()+":"+b.eventData.type()+"] call to "+h+" as calculated error delta ("+g+")exceeds 2sec")),this._doNotOverrideEventDuration=!1,b.eventData.duration(h),b.eventData.ts(c),b.eventData.playhead(a.eventData.playhead()),b.qosData.startupTime(a.qosData.startupTime()),b.qosData.isStartupTimeOverridden=a.qosData.isStartupTimeOverridden},e.prototype._updateLastInbandItemToBuffering=function(){this._stashedLastInBandItem=this._lastInBandItem;var a=0;null!=this._lastInBandItem&&(this._lastInBandItem.assetData.type()==o.TYPE_MAIN_CONTENT&&this._lastInBandItem.eventData.type()==n.EVENT_TYPE_START&&(this._stashedMainMetadata=this._lastInBandItem.meta),a=this._lastInBandItem.eventData.playhead());var b=new t(this,n.EVENT_TYPE_BUFFER,a,null,null);b.assetData.adData(null),b.assetData.type(o.TYPE_MAIN_CONTENT),this._lastInBandItem=b},e.prototype._restoreLastInbandItem=function(){if(null!=this._stashedLastInBandItem){var a=null;this._stashedLastInBandItem.eventData.type()==n.EVENT_TYPE_START&&(this._lastInBandItem.assetData.type()==o.TYPE_AD?a=this._lastInBandItem.meta:(a=this._stashedMainMetadata,this._stashedMainMetadata=null));var b=new t(this,this._stashedLastInBandItem.eventData.type(),this._stashedLastInBandItem.eventData.playhead(),a,this._stashedLastInBandItem.callback);b.filterReport=this._stashedLastInBandItem.filterReport,this._lastInBandItem=b,this._stashedLastInBandItem=null}},e.prototype._flushLastInbandItem=function(a){if(this._lastInBandItem){this._updateQoSInfo(a);var b=new t(this,this._lastInBandItem.eventData.type(),a.playhead,this._lastInBandItem.meta,this._lastInBandItem.callback);this._sendHit(b,!0)}},e.prototype._createAndSendReport=function(a){var b=this._reportFactory.createReportForItem(a);b.qosData.isStartupTimeOverridden||b.qosData.startupTime(this._autoComputedStartupTime);var c={};if(c[G]=b,this._channel.trigger(new h(ha,c)),b.eventData.type()==n.EVENT_TYPE_START||b.eventData.type()==n.EVENT_TYPE_PLAY||b.eventData.type()==n.EVENT_TYPE_PAUSE||b.eventData.type()==n.EVENT_TYPE_STALL||b.eventData.type()==n.EVENT_TYPE_BUFFER){var d={};d[H]=!0,this._channel.command(z,d)}},e.prototype._sendHit=function(a,b){switch(a.eventData.type()){case n.EVENT_TYPE_START:case n.EVENT_TYPE_PLAY:case n.EVENT_TYPE_PAUSE:case n.EVENT_TYPE_STALL:case n.EVENT_TYPE_BUFFER:this._lastInBandItem?(this._updateLastInBandItem(a),this._lastInBandItem.eventData.type()==n.EVENT_TYPE_START&&this._lastInBandItem.assetData.type()==o.TYPE_MAIN_CONTENT&&(this._autoComputedStartupTime+=this._lastInBandItem.eventData.duration()),this._createAndSendReport(this._lastInBandItem),b&&this._lastInBandItem.eventData.type()==a.eventData.type()||this._createAndSendReport(a)):this._createAndSendReport(a),this._lastInBandItem=a;break;case n.EVENT_TYPE_COMPLETE:case n.EVENT_TYPE_SKIP:if(this._lastInBandItem&&(this._updateLastInBandItem(a),this._createAndSendReport(this._lastInBandItem)),a.eventData.type()!==n.EVENT_TYPE_SKIP&&this._createAndSendReport(a),a.assetData.type()==o.TYPE_MAIN_CONTENT){this._lastInBandItem=null,this._stashedLastInBandItem=null;var c={};c[H]=!0,this._channel.command(A,c)}else a.assetData.type()==o.TYPE_AD&&(this._lastInBandItem.assetData.adData(null),this._lastInBandItem.assetData.type(o.TYPE_MAIN_CONTENT),this._doNotOverrideEventDuration=!0);break;case n.EVENT_TYPE_CHAPTER_START:case n.EVENT_TYPE_CHAPTER_COMPLETE:case n.EVENT_TYPE_CHAPTER_SKIP:this._lastInBandItem&&(this._updateLastInBandItem(a),this._createAndSendReport(this._lastInBandItem)),a.eventData.type()!==n.EVENT_TYPE_CHAPTER_SKIP&&this._createAndSendReport(a),this._lastInBandItem&&(this._lastInBandItem.assetData.chapterData(a.eventData.type()==n.EVENT_TYPE_CHAPTER_START?new s(a.assetData.chapterData()):null),this._lastInBandItem.eventData.duration(0),this._createAndSendReport(this._lastInBandItem));break;default:this._createAndSendReport(a)}};var w="ah::Context",x="sourceErrorSDK",y="error",z="clock:reporting.resume",A="clock:reporting.pause",B="reporting_interval",C="session_id",D="reset_session_id",E="callback",F="filter_report",G="report",H="reset",I="track_external_errors",J="reporting_interval",K="do_not_override_interval",L="api:aa_start",M="api:aa_ad_start",N="api:video_load",O="api:video_unload",P="api:video_start",Q="api:video_complete",R="api:video_skip",S="api:video_resume",T="api:video_session_end",U="api:adbreak_start",V="api:adbreak_complete",W="api:ad_start",X="api:ad_complete",Y="api:ad_skip",Z="api:play",$="api:pause",_="api:buffer_start",aa="api:chapter_start",ba="api:chapter_complete",ca="api:chapter_skip",da="api:track_error",ea="api:track_internal_error",fa="api:bitrate_change",ga="api:quantum_end",ha="context:report_available",ia="net:check_status_complete",ja="reporting:update_interval",ka=6e5,la=2e3,ma=10;d.context.Context=e}(a.ADB.core,a.ADB.va,a.ADB.va.utils,b),function(a){"use strict";function b(a,b){this.trackingServer=a,this.publisher=b,this.ssl=!1,this.ovp=c,this.sdk=c,this.quietMode=!1,this.debugLogging=!1,this.__isPrimetime=!1,this.__psdkVersion=null}var c="unknown";a.AdobeHeartbeatPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.onError=function(a){},b.prototype.onTrackingDisabled=function(){},a.AdobeHeartbeatPluginDelegate=b}(b),function(a,b,c){"use strict";function d(a){d.__super__.constructor.call(this,q),this._radio=new i(this._logger),this._channel=this._radio.channel(y),this._delegate=a,this._context=new l(this._channel,this._logger),this._filter=new m(this._channel,this._logger),this._network=new n(this._channel,this._logger),this._setupDataResolver()}var e=a.Event,f=a.Trigger,g=a.plugin.BasePlugin,h=a.plugin.ParamMapping,i=a.radio.Radio,j=b.ErrorInfo,k=b.Version,l=c.context.Context,m=c.filter.ReportFilter,n=c.network.Network,o=c.clock.Clock,p=c.AdobeHeartbeatPluginConfig;a.extend(d,g),d.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof p))throw new Error("Expected config data to be instance of AdobeHeartbeatPluginConfig.");this._config=a,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.trackingServer+", publisher="+this._config.publisher+", quietMode="+this._config.quietMode+", ssl="+this._config.ssl+"})");var b=this._config.trackingServer+"/settings/",c={};c[ja]=this._config.trackingServer,c[ka]=b,c[la]=this._config.publisher,c[ma]=this._config.quietMode,c[na]=this._config.ssl,this._channel.trigger(new e(sa,c)),this._isConfigured=!0},d.prototype.bootstrap=function(a){d.__super__.bootstrap.call(this,a),this._channel.on(z,this._onError,this),this._clock=new o(this._pluginManager,this._channel,this._logger),this._channel.command(Ra),this._channel.trigger(new e(Ya)),this._channel.on(pa,this._onCheckStatusComplete,this),this._registerCommands(),this._registerBehaviours()},d.prototype._teardown=function(){this._logger.debug(this._logTag,"#_teardown()"),this._radio.shutdown(),this._context.destroy(),this._clock.destroy(),this._filter.destroy(),this._network.destroy()},d.prototype._canProcess=function(){return this._isConfigured?this._errorInfo?(this._logger.error(this._logTag,"_canProcess() > Plugin in ERROR state."),!1):d.__super__._canProcess.call(this):(this._logger.error(this._logTag,"_canProcess() > Plugin not configured."),!1)},d.prototype._cmdAnalyticsError=function(a){this._errorInfo||(this._errorInfo=new j("Internal error","AdobeAnalyticsPlugin is in ERROR state."),this._trigger(z,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},d.prototype._cmdAnalyticsStart=function(a){this._canProcess()&&this._channel.trigger(new e(qa,a))},d.prototype._cmdAnalyticsAdStart=function(a){this._canProcess()&&this._channel.trigger(new e(ra,a))},d.prototype._cmdVideoLoad=function(a){this._errorInfo=null,this._canProcess()&&(this._isTrackingSessionActive&&this._channel.trigger(new e(ua,a)),this._isTrackingSessionActive=!1,this._isPaused=!0,this._isSeeking=!1,this._isBuffering=!1,this._isVideoIdle=!1,this._filter.clear(),this._channel.trigger(new e(ta,a)),this._isTrackingSessionActive=!0)},d.prototype._cmdVideoUnload=function(a){this._errorInfo=null,this._canProcess()&&(this._channel.trigger(new e(ua,a)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._isTrackingSessionActive=!1)},d.prototype._cmdBeginReporting=function(a){this._canProcess()&&this._channel.trigger(new e(Pa,{}))},d.prototype._cmdVideoSessionEnd=function(a){this._canProcess()&&this._channel.trigger(new e(za,a))},d.prototype._cmdVideoStart=function(a){this._canProcess()&&(this._channel.trigger(new e(va,a)),this._filter.flush())},d.prototype._cmdVideoComplete=function(a){this._canProcess()&&this._channel.trigger(new e(wa,a))},d.prototype._cmdVideoSkip=function(a){this._canProcess()&&this._channel.trigger(new e(xa,a))},d.prototype._cmdVideoResume=function(a){this._canProcess()&&this._channel.trigger(new e(ya,a))},d.prototype._cmdPlay=function(a){this._canProcess()&&(this._isPaused=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdPause=function(a){this._canProcess()&&(this._channel.trigger(new e(Ga,a)),this._isPaused=!0,this._runIdleTimer(!0))},d.prototype._cmdAdBreakStart=function(a){this._canProcess()&&this._channel.trigger(new e(Aa,a))},d.prototype._cmdAdBreakComplete=function(a){this._canProcess()&&(this._channel.trigger(new e(Ba,a)),this._resumePlaybackIfPossible(a))},d.prototype._cmdAdStart=function(a){this._canProcess()&&(this._channel.trigger(new e(Ca,a)),this._resumePlaybackIfPossible(a))},d.prototype._cmdAdComplete=function(a){this._canProcess()&&this._channel.trigger(new e(Da,a))},d.prototype._cmdAdSkip=function(a){this._canProcess()&&this._channel.trigger(new e(Ea,a))},d.prototype._cmdBufferStart=function(a){this._canProcess()&&(this._channel.trigger(new e(Ha,a)),this._isBuffering=!0,this._runIdleTimer(!0))},d.prototype._cmdBufferComplete=function(a){this._canProcess()&&(this._isBuffering=!1,this._isPaused?this._channel.trigger(new e(Ga,a)):this._resumePlaybackIfPossible(a))},d.prototype._cmdSeekStart=function(a){this._canProcess()&&(this._channel.trigger(new e(Ga,a)),this._isSeeking=!0,this._runIdleTimer(!0))},d.prototype._cmdSeekComplete=function(a){this._canProcess()&&(this._isSeeking=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdChapterStart=function(a){this._canProcess()&&this._channel.trigger(new e(Ia,a))},d.prototype._cmdChapterComplete=function(a){this._canProcess()&&this._channel.trigger(new e(Ja,a))},d.prototype._cmdChapterSkip=function(a){this._canProcess()&&this._channel.trigger(new e(Ka,a))},d.prototype._cmdBitrateChange=function(a){this._canProcess()&&this._channel.trigger(new e(Na,a))},d.prototype._cmdTrackError=function(a){this._canProcess()&&this._channel.trigger(new e(La,a))},d.prototype._cmdClockReportingTick=function(a){this._canProcess()&&this._channel.trigger(new e(Oa,a))},d.prototype._onCheckStatusComplete=function(a){if(this._canProcess()){var b=!1;a&&a.data&&a.data[oa]&&(b=a.data[oa]),this._logger.debug(this._logTag,"#_onCheckStatusComplete(trackingDisabled="+b+")"),b&&this._delegate&&this._delegate.onTrackingDisabled()}},d.prototype._cmdIdleTick=function(a){this._canProcess()&&(this._isVideoIdle=!0,this._trigger(aa),this._channel.trigger(new e(za,a)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._trigger($))},d.prototype._onError=function(a){this._errorInfo=a.data;var b={};b[ha]=Qa,b[ia]=this._errorInfo.getMessage()+"|"+this._errorInfo.getDetails(),this._channel.trigger(new e(Ma,b)),this._runReportingTimer(!1),this._trigger(z,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo)},d.prototype._runIdleTimer=function(a){var b={};b[ga]=!0,a?this._channel.command(Wa,b):this._channel.command(Xa,b)},d.prototype._runFlushFilterTimer=function(a){var b={};b[ga]=!0,a?this._channel.command(Ua,b):this._channel.command(Va,b)},d.prototype._runReportingTimer=function(a){var b={};b[ga]=!0,a?this._channel.command(Sa,b):this._channel.command(Ta,b)},d.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleAnalyticsError",this._cmdAnalyticsError),this._pluginManager.comply(this,"handleAnalyticsStart",this._cmdAnalyticsStart),this._pluginManager.comply(this,"handleAnalyticsAdStart",this._cmdAnalyticsAdStart),this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoUnload",this._cmdVideoUnload),this._pluginManager.comply(this,"handleBeginReporting",this._cmdBeginReporting),this._pluginManager.comply(this,"handleVideoSessionEnd",this._cmdVideoSessionEnd),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleVideoComplete",this._cmdVideoComplete),this._pluginManager.comply(this,"handleVideoSkip",this._cmdVideoSkip),this._pluginManager.comply(this,"handleVideoResume",this._cmdVideoResume),this._pluginManager.comply(this,"handlePlay",this._cmdPlay),this._pluginManager.comply(this,"handlePause",this._cmdPause),this._pluginManager.comply(this,"handleAdBreakStart",this._cmdAdBreakStart),this._pluginManager.comply(this,"handleAdBreakComplete",this._cmdAdBreakComplete),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleAdComplete",this._cmdAdComplete),this._pluginManager.comply(this,"handleAdSkip",this._cmdAdSkip),this._pluginManager.comply(this,"handleBufferStart",this._cmdBufferStart),this._pluginManager.comply(this,"handleBufferComplete",this._cmdBufferComplete),this._pluginManager.comply(this,"handleSeekStart",this._cmdSeekStart),this._pluginManager.comply(this,"handleSeekComplete",this._cmdSeekComplete),this._pluginManager.comply(this,"handleChapterStart",this._cmdChapterStart),this._pluginManager.comply(this,"handleChapterComplete",this._cmdChapterComplete),this._pluginManager.comply(this,"handleChapterSkip",this._cmdChapterSkip),this._pluginManager.comply(this,"handleBitrateChange",this._cmdBitrateChange),this._pluginManager.comply(this,"handleTrackError",this._cmdTrackError),this._pluginManager.comply(this,"handleClockReportingTick",this._cmdClockReportingTick),this._pluginManager.comply(this,"handleIdleTick",this._cmdIdleTick)},d.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new f(t,C),this,"handleVideoLoad",[new h(s,"rsid","rsid"),new h(s,"tracking_server","trackingServer")]),this._pluginManager.registerBehaviour(new f(t,D),this,"handleVideoUnload"),this._pluginManager.registerBehaviour(new f(t,ba),this,"handleBeginReporting"),this._pluginManager.registerBehaviour(new f(t,E),this,"handleVideoSessionEnd",[new h(t,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new f(t,F),this,"handleVideoStart",[new h(t,"video.id","videoId"),new h(t,"video.name","videoName"),new h(t,"video.length","videoLength"),new h(t,"video.playhead","playhead"),new h(t,"video.playerName","playerName"),new h(t,"video.streamType","streamType"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"rsid","rsid"),new h(s,"tracking_server","trackingServer"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(s,"ssl","useSsl"),new h(u,"meta","metaNielsen"),new h(r,"publisher","publisher"),new h(r,"sdk","sdk"),new h(r,"ovp","ovp"),new h(r,"version","version"),new h(r,"api_level","apiLvl")]),this._pluginManager.registerBehaviour(new f(t,H),this,"handleVideoComplete",[new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,I),this,"handleVideoSkip",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,G),this,"handleVideoResume",[new h(t,"video.id","videoId"),new h(t,"video.name","videoName"),new h(t,"video.length","videoLength"),new h(t,"video.playhead","playhead"),new h(t,"video.playerName","playerName"),new h(t,"video.streamType","streamType")]),this._pluginManager.registerBehaviour(new f(t,J),this,"handlePlay",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,K),this,"handlePause",[new h(t,"video.playhead","playhead"),new h(t,"video.playheadStalled","playheadStalled"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,M),this,"handleAdBreakStart",[new h(t,"ad.isInAdBreak","isInAdBreak"),new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,N),this,"handleAdBreakComplete",[new h(t,"ad.isInAdBreak","isInAdBreak"),new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,O),this,"handleAdStart",[new h(t,"video.playhead","playhead"),new h(t,"ad.id","adId"),new h(t,"ad.name","adName"),new h(t,"ad.length","adLength"),new h(t,"ad.position","adPosition"),new h(t,"ad.granularTracking","adGranularTracking"),new h(t,"ad.trackingInterval","adTrackingInterval"),new h(t,"pod.name","podName"),new h(t,"pod.playerName","podPlayerName"),new h(t,"pod.position","podPosition"),new h(t,"pod.startTime","podSecond"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.ad.*","metaAd"),new h(u,"meta","metaNielsen"),new h(u,"metaAd","metaAdNielsen")]),this._pluginManager.registerBehaviour(new f(t,P),this,"handleAdComplete",[new h(t,"video.playhead","playhead"),new h(t,"ad.isInAdBreak","isInAdBreak"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,Q),this,"handleAdSkip",[new h(t,"video.playhead","playhead"),new h(t,"ad.isInAdBreak","isInAdBreak"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,R),this,"handleBufferStart",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,S),this,"handleBufferComplete",[new h(t,"video.playhead","playhead"),new h(t,"video.playheadStalled","playheadStalled"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,T),this,"handleSeekStart",[new h(t,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new f(t,U),this,"handleSeekComplete",[new h(t,"video.playhead","playhead"),new h(t,"ad.isInAd","isInAd"),new h(t,"ad.id","adId"),new h(t,"ad.position","adPosition"),new h(t,"pod.playerName","podPlayerName"),new h(t,"pod.position","podPosition"),new h(t,"chapter.isInChapter","isInChapter"),new h(t,"chapter.position","chapterPosition"),new h(t,"chapter.name","chapterName"),new h(t,"chapter.length","chapterLength"),new h(t,"chapter.startTime","chapterOffset"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,V),this,"handleChapterStart",[new h(t,"video.playhead","playhead"),new h(t,"chapter.position","chapterPosition"),new h(t,"chapter.name","chapterName"),new h(t,"chapter.length","chapterLength"),new h(t,"chapter.startTime","chapterOffset"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.chapter.*","metaChapter"),new h(u,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(t,W),this,"handleChapterComplete",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,X),this,"handleChapterSkip",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,Y),this,"handleBitrateChange",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,Z),this,"handleTrackError"),this._pluginManager.registerBehaviour(new f(v,da),this,"handleClockReportingTick",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,L),this,"handleClockReportingTick",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(v,fa),this,"handleIdleTick",[new h(t,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new f(r,aa),this,"handleClockReportingTick",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(s,z),this,"handleAnalyticsError"),this._pluginManager.registerBehaviour(new f(s,A),this,"handleAnalyticsStart",[new h(s,"vid","vid"),new h(s,"aid","aid"),new h(s,"mid","mid"),new h(s,"customerIDs","customerIDs"),new h(s,"blob","blob"),new h(s,"loc_hint","loc_hint"),new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(s,B),this,"handleAnalyticsAdStart",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")])},d.prototype._setupDataResolver=function(){var a={},b=this;a.version=function(){return k.getVersion()},a.api_level=function(){return k.getApiLevel()},a.tracking_server=function(){return b._config?b._config.trackingServer:null},a.publisher=function(){return b._config?b._config.publisher:null},a.quiet_mode=function(){return!!b._config&&b._config.quietMode},a.ovp=function(){return b._config?b._config.ovp:null},a.sdk=function(){return b._config?b._config.sdk:null},a.is_primetime=function(){return!!b._config&&b._config.__isPrimetime},a.psdk_version=function(){return b._config?b._config.__psdkVersion:null},a.session_id=function(){return b._channel.request(w)},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];c=c||{},c[e]=a.hasOwnProperty(e)?a[e].call(this):null}return c}},d.prototype._resumePlaybackIfPossible=function(a){this._errorInfo||this._isPaused||this._isSeeking||this._isBuffering||(this._isVideoIdle?(this._isVideoIdle=!1,this._resumePlaybackFromIdle()):this._channel.trigger(new e(Fa,a)),this._runIdleTimer(!1))},d.prototype._resumePlaybackFromIdle=function(){this._trigger(aa),this._filter.clear(),this._channel.trigger(new e(x)),this._trigger(_),this._runReportingTimer(!0),this._runFlushFilterTimer(!0)};var q="adobe-heartbeat",r=q,s="adobe-analytics",t="player",u="nielsen",v="service.clock",w="session_id",x="reset_session_id",y="heartbeat-channel",z="error",A="aa_start",B="sc_ad_start",C="video_load",D="video_unload",E="video_session_end",F="video_start",G="video_resume",H="video_complete",I="video_skip",J="play",K="pause",L="content_start",M="adbreak_start",N="adbreak_complete",O="ad_start",P="ad_complete",Q="ad_skip",R="buffer_start",S="buffer_complete",T="seek_start",U="seek_complete",V="chapter_start",W="chapter_complete",X="chapter_skip",Y="bitrate_change",Z="track_error",$="video_idle_start",_="video_idle_resume",aa="quantum_close",ba="video_begin_reporting",ca="heartbeat.reporting",da=ca+".tick",ea="heartbeat.idle",fa=ea+".tick",ga="reset",ha="source",ia="error_id",ja="tracking_server",ka="check_status_server",la="publisher",ma="quiet_mode",na="ssl",oa="tracking_disabled",pa="net:check_status_complete",qa="api:aa_start",ra="api:aa_ad_start",sa="api:config",ta="api:video_load",ua="api:video_unload",va="api:video_start",wa="api:video_complete",xa="api:video_skip",ya="api:video_resume",za="api:video_session_end",Aa="api:adbreak_start",Ba="api:adbreak_complete",Ca="api:ad_start",Da="api:ad_complete",Ea="api:ad_skip",Fa="api:play",Ga="api:pause",Ha="api:buffer_start",Ia="api:chapter_start",Ja="api:chapter_complete",Ka="api:chapter_skip",La="api:track_error",Ma="api:track_internal_error",Na="api:bitrate_change",Oa="api:quantum_end",Pa="api:video_begin_reporting",Qa="sourceErrorHeartbeat",Ra="clock:check_status.resume",Sa="clock:reporting.resume",Ta="clock:reporting.pause",Ua="clock:flush_filter.resume",Va="clock:flush_filter.pause",Wa="clock:idle.resume",Xa="clock:idle.pause",Ya="clock:check_status.get_settings";c.AdobeHeartbeatPlugin=d}(a.ADB.core,a.ADB.va,b),a.ADB.va.plugins.ah||(a.ADB.va.plugins.ah=b)}(this);\n  \n  // AdobeAnalyticsPlugin\n  !function(a){if(void 0===b)var b={};!function(a,b){"use strict";function c(a,b){this._onFail={fn:a,ctx:b}}var d=a.ErrorInfo;c.prototype.validateFields=function(a,b){if(!a)return this._fail("Data cannot be null");if(b)for(var c=0;c<b.length;c++){var d=b[c];switch(d){case"videoId":if(!a.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof a.videoId)return this._fail("The ID for the main video must be a String.");if(""===a.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"mediaType":if(!a.hasOwnProperty("mediaType"))return this._fail("The media type for the main video must be specified.");if("string"!=typeof a.mediaType)return this._fail("The media type for the main video must be a String.");if(""===a.mediaType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"streamType":if(!a.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof a.streamType)return this._fail("The stream type for the main video must be a String.");if(""===a.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"playerName":if(!a.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof a.playerName)return this._fail("The player name for the main video must be a String.");if(""===a.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"videoLength":if(!a.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof a.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(a.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"podPlayerName":if(!a.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof a.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===a.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!a.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof a.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(a.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!a.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof a.adId)return this._fail("The ad ID must be a String.");if(""===a.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!a.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof a.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(a.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"adLength":if(!a.hasOwnProperty("adLength"))return this._fail("The length of the ad must be specified.");if("number"!=typeof a.adLength)return this._fail("The length of the ad must be a Number.");if(isNaN(a.adLength))return this._fail("The length of the ad cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+d)}}return!0},c.prototype._fail=function(a){var b=new d("Invalid input data",a);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,b),!1},b.InputDataValidator=c}(a.ADB.va,b),function(a){"use strict";function b(){this.channel=c,this.debugLogging=!1}var c="";a.AdobeAnalyticsPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.AdobeAnalyticsPluginDelegate=b}(b),function(a,b,c,d){"use strict";function e(a){this._aaPlugin=a}function f(a,b){if(f.__super__.constructor.call(this,s),!a)throw new Error("The reference to the AppMeasurement object cannot be NULL.");if(a.unsupportedBrowser)throw new Error("AppMeasurement is not supported in current browser.");this._appMeasurement=a,this._appMeasurementBridge=new e(this),this._delegate=b,this._videoMetadata={},this._adMetadata={},this._chapterMetadata={},this._errorInfo=null,this._appMeasurementReady=!1,this._beginReporting=!1,this._workQueue=new l(!0,x),this._inputDataValidator=new r(function(a){this._errorInfo=a,this._logger.error(this._logTag,a.getMessage()+" | "+a.getDetails());var b=this;setTimeout(function(){b._trigger(y,a),b._delegate&&b._delegate.onError(b._errorInfo)},0)},this),this._appMeasurement.isReadyToTrack(),this._setupDataResolver()}var g=a.Trigger,h=a.plugin.BasePlugin,i=a.plugin.ParamMapping,j=a.radio.Channel,k=a.radio.Command,l=a.radio.CommandQueue,m=b.ErrorInfo,n=c.md5,o=c.StringUtils,p=c.ObjectUtils,q=d.AdobeAnalyticsPluginConfig,r=d.InputDataValidator;e.prototype.onAppMeasurementReady=function(){this._aaPlugin&&this._aaPlugin._onAppMeasurementReady()},e.prototype.release=function(){this._aaPlugin=null},a.extend(f,h),f.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof q))throw new Error("Expected config data to be instance of AdobeAnalyticsPluginConfig.");this._config=a,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.debugLogging+", channel="+this._config.channel+", ssl="+this._appMeasurement.ssl+"})")},f.prototype.bootstrap=function(a){f.__super__.bootstrap.call(this,a),this._registerCommands(),this._registerBehaviours()},f.prototype.setup=function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this._appMeasurementBridge,this._appMeasurementBridge.onAppMeasurementReady,[]),f.__super__.setup.call(this)},f.prototype.setVideoMetadata=function(a){this._videoMetadata=p.clone(a)},f.prototype.setAdMetadata=function(a){this._adMetadata=p.clone(a)},f.prototype.setChapterMetadata=function(a){this._chapterMetadata=p.clone(a)},f.prototype._teardown=function(){this._logger.debug(this._logTag,"#_teardown()"),this._appMeasurementBridge.release()},f.prototype._canProcess=function(){return this._errorInfo?(this._logger.error(this._logTag,"#_canProcess() > In ERROR state."),!1):f.__super__._canProcess.call(this)},f.prototype._cmdVideoLoad=function(a){this._errorInfo=null},f.prototype._cmdBeginReporting=function(a){this._logger.debug(this._logTag,"#_cmdBeginReporting()"),this._beginReporting=!0,this._resumeWorkQueue()},f.prototype._cmdVideoStart=function(a){this._logger.debug(this._logTag,"#_cmdVideoStart()"),this._canProcess()&&this._workQueue.addCommand(new k(this._executeOpen,this,[a]))},f.prototype._cmdAdStart=function(a){this._logger.debug(this._logTag,"#_cmdAdStart()"),this._canProcess()&&this._workQueue.addCommand(new k(this._executeOpenAd,this,[a]))},f.prototype._cmdHeartbeatPluginError=function(a){this._errorInfo||(this._errorInfo=new m("Internal error","HeartbeatPlugin is in ERROR state."),this._trigger(y,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},f.prototype._track=function(a){try{var b=this._appMeasurement.linkTrackVars;this._appMeasurement.linkTrackVars="",this._appMeasurement.track(a),this._appMeasurement.linkTrackVars=b}catch(a){this._logger.warn(this._logTag,"appMeasurement.track() call threw an exception.")}},f.prototype._executeOpen=function(a){if(this._logger.debug(this._logTag,"#_executeOpen(id="+a.videoId+", videoName="+a.videoName+", mediaType="+a.mediaType+", streamType="+a.streamType+", length="+a.videoLength+", playerName="+a.playerName+", channel="+a.channel+", isPrimetime="+a.isPrimetime+", sessionId="+a.sessionId+")"),this._canProcess()&&this._inputDataValidator.validateFields(a,["videoId","mediaType","streamType","videoLength","playerName"])){var b={};for(var c in a.metaVideo)a.metaVideo.hasOwnProperty(c)&&(b[c]=a.metaVideo[c]);if(a.metaNielsen)for(var c in a.metaNielsen)a.metaNielsen.hasOwnProperty(c)&&(b[c]=a.metaNielsen[c]);b["a.contentType"]=a.streamType,b["a.media.name"]=a.videoId,b["a.media.friendlyName"]=a.videoName||"",b["a.media.length"]=Math.floor(a.videoLength)||"0.0",b["a.media.playerName"]=a.playerName,b["a.media.channel"]=a.channel||"",b["a.media.view"]=!0,b["a.media.vsid"]=a.sessionId;var d={};d.contextData=b,"audio"===a.mediaType?(d.pev3=B,d.ms_a="1"):d.pev3=z,d.pe=a.isPrimetime?E:D,this._track(d);var e=this;setTimeout(function(){e._trigger(H,a)},0)}},f.prototype._executeOpenAd=function(a){var b=n(a.videoId)+"_"+a.podPosition;if(this._logger.debug(this._logTag,"#_executeOpenAd(id="+a.adId+", mediaType="+a.mediaType+", streamType="+a.streamType+", length="+a.adLength+", podPlayerName="+a.podPlayerName+", parentId="+a.videoId+", podId="+b+", parentPodPosition="+a.adPosition+", podSecond="+a.podSecond+")"),this._canProcess()&&this._inputDataValidator.validateFields(a,["videoId","mediaType","streamType","playerName","adId","adLength","podPlayerName","adPosition"])){a.podSecond=null==a.podSecond||isNaN(a.podSecond)?a.playhead:a.podSecond;var c,d={};for(c in a.metaVideo)a.metaVideo.hasOwnProperty(c)&&(d[c]=a.metaVideo[c]);for(c in a.metaAd)a.metaAd.hasOwnProperty(c)&&(d[c]=a.metaAd[c]);if(a.metaNielsen)for(var c in a.metaNielsen)a.metaNielsen.hasOwnProperty(c)&&(d[c]=a.metaNielsen[c]);d["a.contentType"]=a.streamType,d["a.media.name"]=a.videoId,d["a.media.playerName"]=a.playerName,d["a.media.channel"]=a.channel||"",d["a.media.vsid"]=a.sessionId,d["a.media.friendlyName"]=a.videoName||"",d["a.media.length"]=Math.floor(a.videoLength)||"0.0",d["a.media.ad.name"]=a.adId,d["a.media.ad.friendlyName"]=a.adName||"",d["a.media.ad.podFriendlyName"]=a.podName||"",d["a.media.ad.length"]=Math.floor(a.adLength)||"0.0",d["a.media.ad.playerName"]=a.podPlayerName,d["a.media.ad.pod"]=b,d["a.media.ad.podPosition"]=Math.floor(a.adPosition)||"0.0",d["a.media.ad.podSecond"]=Math.floor(a.podSecond)||"0.0",d["a.media.ad.view"]=!0;var e={};e.contextData=d,"audio"===a.mediaType?(e.pev3=C,e.ms_a="1"):e.pev3=A,e.pe=a.isPrimetime?G:F,this._track(e);var f=this;setTimeout(function(){f._trigger(I,a)},0)}},f.prototype._setupDataResolver=function(){var a={},b=this;a.rsid=function(){return b._appMeasurement.account},a.tracking_server=function(){return b._appMeasurement.ssl&&b._appMeasurement.trackingServerSecure?b._appMeasurement.trackingServerSecure:b._appMeasurement.trackingServer},a.ssl=function(){return b._appMeasurement.ssl},a.vid=function(){return b._appMeasurement.visitorID},a.aid=function(){return b._appMeasurement.analyticsVisitorID},a.mid=function(){return b._appMeasurement.marketingCloudVisitorID},a.blob=function(){return b._appMeasurement.audienceManagerBlob},a.loc_hint=function(){return b._appMeasurement.audienceManagerLocationHint?parseInt(b._appMeasurement.audienceManagerLocationHint):""},a.customerIDs=function(){var a={},c=b._appMeasurement.visitor.getCustomerIDs();for(var d in c)if(c.hasOwnProperty(d)){var e=c[d];if("object"==typeof e){for(var f in e)e.hasOwnProperty(f)&&("authState"==f?a[d+".as"]=e[f]:a[d+"."+f]=e[f]);a[d+".as"]||(a[d+".as"]="0")}}return a},a.channel=function(){return b._config?b._config.channel:null},a.meta=function(a){var c=a.split(".");if(c.length<2)return null;var d=c.shift();switch(a=c.join("."),d){case"video":return a==j.WILDCARD?b._videoMetadata:b._videoMetadata[a];case"ad":return a==j.WILDCARD?b._adMetadata:b._adMetadata[a];case"chapter":return a==j.WILDCARD?b._chapterMetadata:b._chapterMetadata[a];default:return null}},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];c=c||{},o.startsWith(e,"meta.")?c[e]=a.meta(e.split("meta.")[1]):c[e]=a.hasOwnProperty(e)?a[e].call(this):null}return c}},f.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleBeginReporting",this._cmdBeginReporting),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleHeartbeatPluginError",this._cmdHeartbeatPluginError)},f.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new g(v,J),this,"handleVideoLoad"),this._pluginManager.registerBehaviour(new g(v,M),this,"handleBeginReporting"),this._pluginManager.registerBehaviour(new g(v,K),this,"handleVideoStart",[new i(v,"video.id","videoId"),new i(v,"video.mediaType","mediaType"),new i(v,"video.streamType","streamType"),new i(v,"video.name","videoName"),new i(v,"video.length","videoLength"),new i(v,"video.playerName","playerName"),new i(v,"video.streamType","streamType"),new i(w,"is_primetime","isPrimetime"),new i(w,"session_id","sessionId"),new i(t,"channel","channel"),new i(t,"meta.video.*","metaVideo"),new i(u,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new g(v,L),this,"handleAdStart",[new i(v,"video.id","videoId"),new i(v,"video.mediaType","mediaType"),new i(v,"video.streamType","streamType"),new i(v,"video.playhead","playhead"),new i(v,"video.playerName","playerName"),new i(v,"video.name","videoName"),new i(v,"video.length","videoLength"),new i(v,"ad.id","adId"),new i(v,"ad.length","adLength"),new i(v,"ad.position","adPosition"),new i(v,"ad.name","adName"),new i(v,"pod.name","podName"),new i(v,"pod.position","podPosition"),new i(v,"pod.playerName","podPlayerName"),new i(v,"pod.startTime","podSecond"),new i(w,"is_primetime","isPrimetime"),new i(w,"session_id","sessionId"),new i(t,"channel","channel"),new i(t,"meta.video.*","metaVideo"),new i(t,"meta.ad.*","metaAd"),new i(u,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new g(w,y),this,"handleHeartbeatPluginError")},f.prototype._onAppMeasurementReady=function(){this._logger.debug(this._logTag,"#_onAppMeasurementReady"),this._appMeasurementReady=!0,this._resumeWorkQueue()},f.prototype._resumeWorkQueue=function(){this._appMeasurementReady&&this._beginReporting&&(this._logger.debug(this._logTag,"#_resumeWorkQueue"),this._workQueue.resume())};var s="adobe-analytics",t=s,u="nielsen",v="player",w="adobe-heartbeat",x=2e3,y="error",z="video",A="videoAd",B="audio",C="audioAd",D="ms_s",E="msp_s",F="msa_s",G="mspa_s",H="aa_start",I="sc_ad_start",J="video_load",K="video_start",L="ad_start",M="video_begin_reporting";d.AdobeAnalyticsPlugin=f}(a.ADB.core,a.ADB.va,a.ADB.va.utils,b),function(a){"use strict";var b={SHOW:"a.media.show",SEASON:"a.media.season",EPISODE:"a.media.episode",ASSET_ID:"a.media.asset",GENRE:"a.media.genre",FIRST_AIR_DATE:"a.media.airDate",FIRST_DIGITAL_DATE:"a.media.digitalDate",RATING:"a.media.rating",ORIGINATOR:"a.media.originator",NETWORK:"a.media.network",SHOW_TYPE:"a.media.type",AD_LOAD:"a.media.adLoad",MVPD:"a.media.pass.mvpd",AUTHORIZED:"a.media.pass.auth",DAY_PART:"a.media.dayPart",FEED:"a.media.feed",STREAM_FORMAT:"a.media.format"},c={ARTIST:"a.media.artist",ALBUM:"a.media.album",LABEL:"a.media.label",AUTHOR:"a.media.author",STATION:"a.media.station",PUBLISHER:"a.media.publisher"},d={ADVERTISER:"a.media.ad.advertiser",CAMPAIGN_ID:"a.media.ad.campaign",CREATIVE_ID:"a.media.ad.creative",PLACEMENT_ID:"a.media.ad.placement",SITE_ID:"a.media.ad.site",CREATIVE_URL:"a.media.ad.creativeURL"};a.VideoMetadataKeys=b,a.AudioMetadataKeys=c,a.AdMetadataKeys=d}(b),a.ADB.va.plugins.aa||(a.ADB.va.plugins.aa=b)}(this);\n  \n  // MediaHeartbeat\n  !function(a){!function(a,b){"use strict";function c(){this._processAction=!0,this._store={}}function d(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._rules=[]}c.prototype.setRuleName=function(a){this._ruleName=a},c.prototype.getRuleName=function(a,b){return this._ruleName},c.prototype.setData=function(a,b){this._store[a]=b},c.prototype.getData=function(a){return this._store[a]},c.prototype.shouldProcessAction=function(){return this._processAction},c.prototype.stopProcessingAction=function(){this._processAction=!1},c.prototype.startProcessingAction=function(){this._processAction=!0},d.createContext=function(){return new c},d.createPredicate=function(a,b,c){return{fn:a,expectedValue:b,msg:c}},d.prototype.registerRule=function(a,b,c,d,e){this._rules.push({name:a,desc:b,preconditions:c,actions:d,scope:e})},d.prototype.registerEnterExitAction=function(a,b){this._enterAction=a,this._exitAction=b},d.prototype._handleFailure=function(a,b){this._logger.error(e,a.desc+" -  "+b.msg)},d.prototype._getRule=function(a){for(var b=0;b<this._rules.length;++b)if(this._rules[b].name===a)return this._rules[b];return null},d.prototype.processRule=function(a,b){var c=!0,f=this._getRule(a);if(f){var g=f.scope;b||(b=d.createContext()),b.setRuleName(a);for(var h=!1,i=0;i<f.preconditions.length;++i){var j=f.preconditions[i];if(h=!!j.fn.call(g,b)!==j.expectedValue){this._handleFailure(f,j);break}}if(h)c=!1;else{b.startProcessingAction(),this._enterAction&&this._enterAction.call(g,b);for(var i=0;i<f.actions.length;++i){var k=f.actions[i];if(!b.shouldProcessAction()){this._logger.info(e,"Stopping actions for "+f.desc);break}k.call(g,b)}this._exitAction&&b.shouldProcessAction()&&this._exitAction.call(g,b)}}else this._logger.warn(e,"No registered event found for ruleName "+a),c=!1;return c};var e="RuleEngine";b._RuleEngine=d}(a.ADB.core,a.ADB.va),function(a,b){"use strict";function c(a,b,c){this.taskFn=a,this.scope=b,this.interval=c,this.remainingInterval=c}function d(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._tasks=[],this._pausedTasks=[]}c.prototype.elapsedTime=function(a){this.remainingInterval-=a},c.prototype.shouldExecute=function(){return this.remainingInterval<=0},c.prototype.execute=function(){this.taskFn.call(this.scope)},d.prototype._getCurrentTimeInMS=function(){return(new Date).getTime()},d.prototype._runTasksForTime=function(a){var b=[],c=a-this._lastTickTime;this._lastTickTime=a;for(var d=0;d<this._tasks.length;){var e=this._tasks[d];e.elapsedTime(c),e.shouldExecute()?(b.push(e),this._tasks.splice(d,1)):++d}this._checkStopTimer();for(var d=0;d<b.length;++d)b[d].execute()},d.prototype._onTick=function(){var a=this._getCurrentTimeInMS();this._runTasksForTime(a)},d.prototype._startTimer=function(){var a=this;this._timer||(this._logger.info(e,"#startTimer()"),a._lastTickTime=this._getCurrentTimeInMS(),this._timer=window.setInterval(function(){a._onTick()},f))},d.prototype._stopTimer=function(){this._timer&&(this._logger.info(e,"#stopTimer()"),window.clearInterval(this._timer),this._timer=null)},d.prototype._checkStartTimer=function(){this._tasks.length>0&&this._startTimer()},d.prototype._checkStopTimer=function(){0===this._tasks.length&&this._stopTimer()},d.prototype._removeTask=function(a,b){for(var c=0;c<a.length;++c)if(a[c]===b)return a.splice(c,1),!0;return!1},d.prototype.scheduleTask=function(a,b,d){if(this._logger.info(e,"#scheduleTask()"),!a)throw new Error("Reference to the taskFn cannot be NULL");var f=new c(a,b,d);return this._tasks.push(f),this._checkStartTimer(),f},d.prototype.cancelTask=function(a){this._logger.info(e,"#cancelTask()"),this._removeTask(this._tasks,a),this._checkStopTimer()},d.prototype.pauseTask=function(a){this._logger.info(e,"#pauseTask()"),this._removeTask(this._tasks,a)&&this._pausedTasks.push(a),this._checkStopTimer()},d.prototype.resumeTask=function(a){this._logger.info(e,"#resumeTask()"),this._removeTask(this._pausedTasks,a)&&this._tasks.push(a),this._checkStartTimer()},d.prototype.clearTasks=function(){this._stopTimer(),this._tasks=[],this._pausedTasks=[]};var e="TaskScheduler",f=250;b._TaskScheduler=d}(a.ADB.core,a.ADB.va),function(a){"use strict";function b(){this.trackingServer=void 0,this.channel=void 0,this.ovp=void 0,this.appVersion=void 0,this.playerName=void 0,this.ssl=!1,this.debugLogging=!1}a.MediaHeartbeatConfig=b,a.MediaHeartbeatConfig.sharedInstance=new b}(a.ADB.va),function(a){"use strict";function b(){this.data={}}var c=a.plugins.videoplayer.VideoInfo,d=a.plugins.videoplayer.AdBreakInfo,e=a.plugins.videoplayer.AdInfo,f=a.plugins.videoplayer.ChapterInfo,g=a.plugins.videoplayer.QoSInfo;b.MEDIAINFO_KEY_NAME="a.name",b.MEDIAINFO_KEY_VIDEOID="a.videoId",b.MEDIAINFO_KEY_ADID="a.adId",b.MEDIAINFO_KEY_LENGTH="a.length",b.MEDIAINFO_KEY_PLAYHEAD="a.playhead",b.MEDIAINFO_KEY_MEDIATYPE="a.mediaType",b.MEDIAINFO_KEY_STREAMTYPE="a.streamType",b.MEDIAINFO_KEY_POSITION="a.position",b.MEDIAINFO_KEY_STARTTIME="a.startTime",b.MEDIAINFO_KEY_BITRATE="a.bitrate",b.MEDIAINFO_KEY_FPS="a.fps",b.MEDIAINFO_KEY_DROPPEDFRAMES="a.droppedFrames",b.MEDIAINFO_KEY_STARTUPTIME="a.startupTime",b.MEDIAINFO_KEY_TIMEDMETADATA="a.timedMetadata",b.prototype.setValue=function(a,b){this.data[a]=b},b.prototype.getValue=function(a){return this.data.hasOwnProperty(a)?this.data[a]:null},b.prototype.createVideoInfo=function(){var a=new c;return a.id=null!=this.getValue(b.MEDIAINFO_KEY_VIDEOID)?this.getValue(b.MEDIAINFO_KEY_VIDEOID):"",a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):"",a.length=null!=this.getValue(b.MEDIAINFO_KEY_LENGTH)?this.getValue(b.MEDIAINFO_KEY_LENGTH):0,a.playhead=null!=this.getValue(b.MEDIAINFO_KEY_PLAYHEAD)?this.getValue(b.MEDIAINFO_KEY_PLAYHEAD):0,a.mediaType=null!=this.getValue(b.MEDIAINFO_KEY_MEDIATYPE)?this.getValue(b.MEDIAINFO_KEY_MEDIATYPE):"",a.streamType=null!=this.getValue(b.MEDIAINFO_KEY_STREAMTYPE)?this.getValue(b.MEDIAINFO_KEY_STREAMTYPE):"",a},b.prototype.createAdBreakInfo=function(){var a=new d;return a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):"",a.position=null!=this.getValue(b.MEDIAINFO_KEY_POSITION)?this.getValue(b.MEDIAINFO_KEY_POSITION):0,a.startTime=null!=this.getValue(b.MEDIAINFO_KEY_STARTTIME)?this.getValue(b.MEDIAINFO_KEY_STARTTIME):0,a},b.prototype.createAdInfo=function(){var a=new e;return a.id=null!=this.getValue(b.MEDIAINFO_KEY_ADID)?this.getValue(b.MEDIAINFO_KEY_ADID):"",a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):"",a.length=null!=this.getValue(b.MEDIAINFO_KEY_LENGTH)?this.getValue(b.MEDIAINFO_KEY_LENGTH):0,a.position=null!=this.getValue(b.MEDIAINFO_KEY_POSITION)?this.getValue(b.MEDIAINFO_KEY_POSITION):0,a},b.prototype.createChapterInfo=function(){var a=new f;return a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):"",a.length=null!=this.getValue(b.MEDIAINFO_KEY_LENGTH)?this.getValue(b.MEDIAINFO_KEY_LENGTH):0,a.startTime=null!=this.getValue(b.MEDIAINFO_KEY_STARTTIME)?this.getValue(b.MEDIAINFO_KEY_STARTTIME):0,a.position=null!=this.getValue(b.MEDIAINFO_KEY_POSITION)?this.getValue(b.MEDIAINFO_KEY_POSITION):0,a},b.prototype.createQoSInfo=function(){var a=new g;return a.bitrate=null!=this.getValue(b.MEDIAINFO_KEY_BITRATE)?this.getValue(b.MEDIAINFO_KEY_BITRATE):0,a.fps=null!=this.getValue(b.MEDIAINFO_KEY_FPS)?this.getValue(b.MEDIAINFO_KEY_FPS):0,a.droppedFrames=null!=this.getValue(b.MEDIAINFO_KEY_DROPPEDFRAMES)?this.getValue(b.MEDIAINFO_KEY_DROPPEDFRAMES):0,a.startupTime=null!=this.getValue(b.MEDIAINFO_KEY_STARTUPTIME)?this.getValue(b.MEDIAINFO_KEY_STARTUPTIME):0,a},b.prototype.isEqual=function(a){if(this===a)return!0;if(!a||"object"!=typeof a||"function"!=typeof a.getValue)return!1;for(var c=[b.MEDIAINFO_KEY_NAME,b.MEDIAINFO_KEY_VIDEOID,b.MEDIAINFO_KEY_ADID,b.MEDIAINFO_KEY_LENGTH,b.MEDIAINFO_KEY_PLAYHEAD,b.MEDIAINFO_KEY_STREAMTYPE,b.MEDIAINFO_KEY_MEDIATYPE,b.MEDIAINFO_KEY_POSITION,b.MEDIAINFO_KEY_STARTTIME,b.MEDIAINFO_KEY_BITRATE,b.MEDIAINFO_KEY_FPS,b.MEDIAINFO_KEY_DROPPEDFRAMES,b.MEDIAINFO_KEY_STARTUPTIME,b.MEDIAINFO_KEY_TIMEDMETADATA],d=0;d<c.length;++d){var e=c[d];if(this.getValue(e)!==a.getValue(e))return!1}return!0},a.MediaObject=b}(a.ADB.va),function(a){"use strict";function b(a,c){if(!c)throw new Error("Visitor instance cannot be NULL");this._visitor=c,this._logger=a,this._status=b.OPT_UNKNOWN,this._optInFetchPermissionsCallback=this._optInFetchPermissionsCallback.bind(this)}var c="PrivacyManager";b.prototype.getStatus=function(){return this._status},b.prototype.configure=function(a){this.reset(),this._callback=a,this._optIn=window.adobe&&window.adobe.optIn?window.adobe.optIn:void 0,this._optIn&&this._optIn.doesOptInApply?(this._logger.info(c,"OptIn service enabled"),this._waitingForOptInCallback=!0,this._optInMediaApproved=!1):this._logger.info(c,"OptIn service does not apply"),this._waitingForVisitorCallback=!0,this._visitorOptOut=!1,this._fetchVisitorOptOut(),this._fetchOptIn(),this._updateStatus()},b.prototype.reset=function(){this._unsubscribeOptIn(),this._status=b.OPT_UNKNOWN,this._callback=null},b.prototype._fetchVisitorOptOut=function(){this._logger.info(c,"Fetching Visitor.isOptedOut");try{var a=this;this._visitor.isOptedOut(function(b){a._logger.info(c,"Visitor.isOptedOut : "+b),a._waitingForVisitorCallback=!1,a._visitorOptOut=b,a._updateStatus()},void 0,!0)}catch(a){this._logger.warn(c,"Error fetching Visitor.isOptedOut"),this._waitingForVisitorCallback=!1}},b.prototype._fetchOptIn=function(){try{if(!this._optIn||!this._optIn.doesOptInApply)return;this._logger.info(c,"Fetching permissions from OptIn service"),this._optInListenerRegistered||(this._optIn.fetchPermissions(this._optInFetchPermissionsCallback,!0),this._optInListenerRegistered=!0)}catch(a){this._logger.warn(c,"Error fetching permissions from OptIn service"),this._waitingForOptInCallback=!1}},b.prototype._unsubscribeOptIn=function(){try{this._optIn&&this._optInListenerRegistered&&(this._optIn.off("complete",this._optInFetchPermissionsCallback),this._optInListenerRegistered=!1)}catch(a){this._logger.error(c,"Error unsubscribing from OptIn service")}},b.prototype._optInFetchPermissionsCallback=function(){this._waitingForOptInCallback=!1;var a=this._optIn.isApproved(this._optIn.Categories.ECID),b=this._optIn.isApproved(this._optIn.Categories.ANALYTICS),d=void 0===this._optIn.Categories.MEDIA_ANALYTICS||this._optIn.isApproved(this._optIn.Categories.MEDIA_ANALYTICS);this._optInMediaApproved=a&&b&&d,this._logger.info(c,"OptIn fetchPermissions ECID : "+a+" Analytics : "+b+" Media : "+d),this._updateStatus()},b.prototype._updateStatus=function(){if(!(this._waitingForVisitorCallback||this._optIn&&this._optIn.doesOptInApply&&this._waitingForOptInCallback)){var a=this._visitorOptOut||this._optIn&&this._optIn.doesOptInApply&&!this._optInMediaApproved,d=a?b.OPT_OUT:b.OPT_IN;if(this._status!==d){this._logger.info(c,"Privacy changed from "+this._status+" to "+d),this._status=d;var e=this;setTimeout(function(){try{e._callback&&e._callback(d)}catch(a){}},0)}}},b.OPT_OUT="optout",b.OPT_IN="optin",b.OPT_UNKNOWN="optunknown",a._PrivacyManager=b}(a.ADB.va),function(a,b){"use strict";function c(a){c.__super__.constructor.call(this),this._heartbeat=a}function d(a){d.__super__.constructor.call(this),this._heartbeat=a}function e(a){e.__super__.constructor.call(this),this._heartbeat=a}function f(a){f.__super__.constructor.call(this),this._heartbeat=a}a.extend(c,b.plugins.aa.AdobeAnalyticsPluginDelegate),c.prototype.onError=function(a){this._heartbeat&&this._heartbeat._onDelegateError(a)},a.extend(d,b.plugins.ah.AdobeHeartbeatPluginDelegate),d.prototype.onError=function(a){this._heartbeat&&this._heartbeat._onDelegateError(a)},d.prototype.onTrackingDisabled=function(){this._heartbeat&&this._heartbeat._onDelegateTrackingDisabled()},a.extend(e,b.HeartbeatDelegate),e.prototype.onError=function(a){this._heartbeat&&this._heartbeat._onDelegateError(a)},a.extend(f,b.plugins.videoplayer.VideoPlayerPluginDelegate),f.prototype.getVideoInfo=function(){return this._heartbeat&&this._heartbeat._videoInfo?(this._heartbeat._delegate&&(this._heartbeat._videoInfo.playhead=this._heartbeat._delegate.getCurrentPlaybackTime()),this._heartbeat._videoInfo):null},f.prototype.getAdBreakInfo=function(){return this._heartbeat&&this._heartbeat._adBreakInfo?this._heartbeat._adBreakInfo:null},f.prototype.getAdInfo=function(){return this._heartbeat&&this._heartbeat._adInfo?this._heartbeat._adInfo:null},f.prototype.getChapterInfo=function(){return this._heartbeat&&this._heartbeat._chapterInfo?this._heartbeat._chapterInfo:null},f.prototype.getQoSInfo=function(){if(this._heartbeat&&this._heartbeat._delegate&&this._heartbeat._delegate.getQoSObject()){var a=this._heartbeat._delegate.getQoSObject();if(a&&"object"==typeof a&&a.setValue)return a.createQoSInfo()}return null},b._MediaAnalyticsPluginDelegate=c,b._MediaHeartbeatPluginDelegate=d,b._ADBMediaHeartbeatDelegate=e,b._MediaHeartbeatVideoPlayerPluginDelegate=f}(a.ADB.core,a.ADB.va),function(a,b){"use strict";function c(a,d){c.__super__.constructor.call(this),this._heartbeat=a,this._logger=d,this._validator=new b.plugins.nielsen.MetadataValidator(d)}var d="MediaHeartbeatNielsenPluginDelegate",e={NielsenContentMetadata:"media_nielsen_content_metadata",NielsenChannelMetadata:"media_nielsen_channel_metadata",NielsenAdMetadata:"media_nielsen_ad_metadata"};b.plugins.nielsen&&a.extend(c,b.plugins.nielsen.NielsenPluginDelegate),c.prototype.getMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentMediaObject){var a=this._heartbeat._currentMediaObject.getValue(e.NielsenContentMetadata);if(a&&"object"==typeof a)return this._validator.validateContentMetadata(a,"MediaHeartbeat.NielsenContentMetadataKeys"),a;this._logger.warn(d,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenContentMetadata in MediaObject")}return null},c.prototype.getAdMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentAdObject){var a=this._heartbeat._currentAdObject.getValue(e.NielsenAdMetadata);if(a&&"object"==typeof a)return this._validator.validateAdMetadata(a,"MediaHeartbeat.NielsenAdMetadataKeys"),a;this._logger.warn(d,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenAdMetadata in MediaObject")}return null},c.prototype.getChannelInfo=function(){if(this._heartbeat&&this._heartbeat._currentMediaObject){var a=this._heartbeat._currentMediaObject.getValue(e.NielsenChannelMetadata);if(a&&"object"==typeof a)return this._validator.validateChannelMetadata(a,"MediaHeartbeat.NielsenChannelMetadataKeys"),a;this._logger.warn(d,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenChannelMetadata in MediaObject")}return null},c.prototype.onError=function(a){this._heartbeat&&this._heartbeat._onDelegateError(a)},b.plugins.nielsen&&(b._NielsenObjectKey=e,b._NielsenPluginDelegate=c)}(a.ADB.core,a.ADB.va),function(b,c){"use strict";function d(){}function e(b,d,e){if(this._appMeasurement=e||a.s,!this._appMeasurement)throw new Error("MediaHeartbeat needs a valid AppMeasurement instance.");if(!this._appMeasurement.visitor||!this._appMeasurement.visitor.marketingCloudOrgID)throw new Error("MediaHeartbeat needs a valid visitor instance with marketingCloudOrgId set.");if(!b)throw new Error("MediaHeartbeat needs a valid delegate object.");if(!d||"object"!=typeof d||!d.trackingServer)throw new Error("MediaHeartbeat needs a valid config object with trackingServer set.");this._config=d,this._delegate=b,this._debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._logger=new f,this._debugLogging?this._logger.enable():this._logger.disable(),this._ruleEngine=new t(this._logger),this._taskScheduler=new u(this._logger),this._privacyManager=new v(this._logger,this._appMeasurement.visitor),this._resetState(),this._setupRules()}var f=b.Logger,g=c.MediaObject,h=c.Heartbeat,i=c.HeartbeatConfig,j=c._ADBMediaHeartbeatDelegate,k=c.plugins.videoplayer.VideoPlayerPlugin,l=c.plugins.videoplayer.VideoPlayerPluginConfig,m=c._MediaHeartbeatVideoPlayerPluginDelegate,n=c.plugins.aa.AdobeAnalyticsPlugin,o=c.plugins.aa.AdobeAnalyticsPluginConfig,p=c._MediaAnalyticsPluginDelegate,q=c.plugins.ah.AdobeHeartbeatPlugin,r=c.plugins.ah.AdobeHeartbeatPluginConfig,s=c._MediaHeartbeatPluginDelegate,t=c._RuleEngine,u=c._TaskScheduler,v=c._PrivacyManager,w=c.utils.ObjectUtils,x=c.utils.VersionUtils;if(d.prototype.getCurrentPlaybackTime=function(){return null},d.prototype.getQoSObject=function(){return null},e.MediaType={Video:"video",Audio:"audio"},e.Event={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",TimedMetadataUpdate:"timedMetadataUpdate"},e.StreamType={VOD:"vod",LIVE:"live",LINEAR:"linear",PODCAST:"podcast",AUDIOBOOK:"audiobook",AOD:"aod"},e.MediaObjectKey={StandardVideoMetadata:"media_standard_content_metadata",StandardMediaMetadata:"media_standard_content_metadata",StandardAdMetadata:"media_standard_ad_metadata",VideoResumed:"resumed",MediaResumed:"resumed",PrerollTrackingWaitingTime:"preroll_tracking_waiting_time"},e.VideoMetadataKeys=c.plugins.aa.VideoMetadataKeys,e.AudioMetadataKeys=c.plugins.aa.AudioMetadataKeys,e.AdMetadataKeys=c.plugins.aa.AdMetadataKeys,e.createMediaObject=function(a,b,c,d,f){var h=new g;h.setValue(g.MEDIAINFO_KEY_VIDEOID,b),h.setValue(g.MEDIAINFO_KEY_NAME,a),h.setValue(g.MEDIAINFO_KEY_LENGTH,c),h.setValue(g.MEDIAINFO_KEY_PLAYHEAD,0);var i=d||e.StreamType.VOD;return h.setValue(g.MEDIAINFO_KEY_STREAMTYPE,i),("string"!=typeof f||f!=e.MediaType.Video&&f!=e.MediaType.Audio)&&(f=e.MediaType.Video),h.setValue(g.MEDIAINFO_KEY_MEDIATYPE,f),h},e.createAdBreakObject=function(a,b,c){var d=new g;return d.setValue(g.MEDIAINFO_KEY_NAME,a),d.setValue(g.MEDIAINFO_KEY_POSITION,b),d.setValue(g.MEDIAINFO_KEY_STARTTIME,c),d},e.createAdObject=function(a,b,c,d){var e=new g;return e.setValue(g.MEDIAINFO_KEY_NAME,a),e.setValue(g.MEDIAINFO_KEY_ADID,b),e.setValue(g.MEDIAINFO_KEY_POSITION,c),e.setValue(g.MEDIAINFO_KEY_LENGTH,d),e},e.createChapterObject=function(a,b,c,d){var e=new g;return e.setValue(g.MEDIAINFO_KEY_NAME,a),e.setValue(g.MEDIAINFO_KEY_POSITION,b),e.setValue(g.MEDIAINFO_KEY_LENGTH,c),e.setValue(g.MEDIAINFO_KEY_STARTTIME,d),e},e.createQoSObject=function(a,b,c,d){var e=new g;return e.setValue(g.MEDIAINFO_KEY_BITRATE,a),e.setValue(g.MEDIAINFO_KEY_FPS,c),e.setValue(g.MEDIAINFO_KEY_DROPPEDFRAMES,d),e.setValue(g.MEDIAINFO_KEY_STARTUPTIME,b),e},e.createTimedMetadataObject=function(a){var b=new g;return b.setValue(g.MEDIAINFO_KEY_TIMEDMETADATA,a),b},e.version=function(){return c.Version.getVersion()},e.prototype.trackSessionStart=function(a,b){this._logger.info(D,"#::trackSessionStart()");var c=t.createContext();c.setData(E,a),c.setData(J,this._cleanContextData(b)),this._processRule(B.SessionStart,c)},e.prototype.trackPlay=function(){this._logger.info(D,"#::trackPlay()"),this._processRule(B.Play)},e.prototype.trackPause=function(){this._logger.info(D,"#::trackPause()"),this._processRule(B.Pause)},e.prototype.trackComplete=function(){this._logger.info(D,"#::trackComplete()"),this._processRule(B.VideoComplete)},e.prototype.trackSessionEnd=function(){this._logger.info(D,"#::trackSessionEnd()"),this._processRule(B.SessionEnd)},e.prototype.trackError=function(a){this._logger.info(D,"#::trackError()");var b=t.createContext();b.setData(K,a),this._processRule(B.Error,b)},e.prototype.trackEvent=function(a,b,c){this._logger.info(D,"#::trackEvent() - "+a);var d,f=t.createContext();switch(a){case e.Event.AdBreakStart:f.setData(F,b),f.setData(J,this._cleanContextData(c)),d=B.AdBreakStart;break;case e.Event.AdBreakComplete:d=B.AdBreakComplete;break;case e.Event.AdStart:f.setData(G,b),f.setData(J,this._cleanContextData(c)),d=B.AdStart;break;case e.Event.AdComplete:d=B.AdComplete;break;case e.Event.AdSkip:d=B.AdSkip;break;case e.Event.SeekStart:d=B.SeekStart;break;case e.Event.SeekComplete:d=B.SeekComplete;break;case e.Event.ChapterStart:f.setData(H,b),f.setData(J,this._cleanContextData(c)),d=B.ChapterStart;break;case e.Event.ChapterComplete:d=B.ChapterComplete;break;case e.Event.ChapterSkip:d=B.ChapterSkip;break;case e.Event.BufferStart:d=B.BufferStart;break;case e.Event.BufferComplete:d=B.BufferComplete;break;case e.Event.BitrateChange:d=B.BitrateChange;break;case e.Event.TimedMetadataUpdate:d=B.TimedMetadataUpdate,f.setData(I,b);break;default:return void this._logger.error(D,"Incorrect event name.")}this._processRule(d,f)},c.plugins.nielsen){var y=c.MediaHeartbeatConfig;y.prototype.nielsenConfigKey=void 0,y.prototype.nielsenAppInfo=void 0;var z=c._NielsenObjectKey;e.MediaObjectKey.NielsenContentMetadata=z.NielsenContentMetadata,e.MediaObjectKey.NielsenAdMetadata=z.NielsenAdMetadata,e.MediaObjectKey.NielsenChannelMetadata=z.NielsenChannelMetadata,e.NielsenContentMetadataKeys=c.plugins.nielsen.ContentMetadataKeys,e.NielsenChannelMetadataKeys=c.plugins.nielsen.ChannelMetadataKeys,e.NielsenAdMetadataKeys=c.plugins.nielsen.AdMetadataKeys,e.prototype.nielsenLoadMetadata=function(a){this._nielsenPlugin&&this._nielsenPlugin.loadMetadata(a)}}e.prototype._setState=function(a,b){this._mediaState[a]=b},e.prototype._isInState=function(a){return this._mediaState[a]},e.prototype._isTrackingDisabled=function(a){return this._mediaHeartbeatDisabled},e.prototype._isInSession=function(a){return this._isInState(A.Session)},e.prototype._isInMedia=function(a){return this._isInState(A.Media)},e.prototype._isInAd=function(a){return this._isInState(A.Ad)},e.prototype._isInAdBreak=function(a){return this._isInState(A.AdBreak)},e.prototype._isInChapter=function(a){return this._isInState(A.Chapter)},e.prototype._isInPlay=function(a){return this._isInState(A.PlayPause)},e.prototype._isInPause=function(a){return!this._isInState(A.PlayPause)},e.prototype._isInBuffer=function(a){return this._isInState(A.Buffer)},e.prototype._isInSeek=function(a){return this._isInState(A.Seek)},e.prototype._isPlatformTrackingSupported=function(a){return!this._appMeasurement.unsupportedBrowser},e.prototype._isAudioTrackingSupported=function(a){return a.getData(E).getValue(g.MEDIAINFO_KEY_MEDIATYPE)!==e.MediaType.Audio||x.isGreaterThanEqual(this._appMeasurement.version,"2.11.0")},e.prototype._isValidMediaObject=function(a){var b=a.getData(E);if(b&&b instanceof g){var c=b.getValue(e.MediaObjectKey.MediaResumed);null!=c&&"boolean"!=typeof c&&this._logger.warn(D,"Ignoring value set for MediaHeartbeat.MediaObjectKey.MediaResumed in MediaObject as we expect a boolean value");var d=b.getValue(e.MediaObjectKey.PrerollTrackingWaitingTime);if(null!=d){("string"==typeof d||"number"==typeof d)&&!isNaN(d)||this._logger.warn(D,"Ignoring value set for MediaHeartbeat.MediaObjectKey.PrerollTrackingWaitingTime in MediaObject as we expect a valid duration as number in milliseconds.")}var f=b.getValue(e.MediaObjectKey.StandardMediaMetadata);return null!=f&&"object"!=typeof f&&this._logger.warn(D,"Ignoring value set for MediaHeartbeat.MediaObjectKey.StandardMediaMetadata in MediaObject as we expect a valid object with kv pairs."),!0}return!1},e.prototype._isValidAdBreakObject=function(a){var b=a.getData(F);return b&&b instanceof g},e.prototype._isDifferentAdBreakObject=function(a){var b=a.getData(F);return!(this._currentAdBreakObject&&this._currentAdBreakObject.isEqual(b))},e.prototype._isValidAdObject=function(a){var b=a.getData(G);if(b&&b instanceof g){var c=b.getValue(N);null!=c&&"boolean"!=typeof c&&this._logger.warn(D,"Ignoring value set for MediaHeartbeat.MediaObjectKey.GranularAdTracking in AdObject as we expect a boolean value.");var d=b.getValue(e.MediaObjectKey.StandardAdMetadata);return null!=d&&"object"!=typeof d&&this._logger.warn(D,"Ignoring value set for MediaHeartbeat.MediaObjectKey.StandardAdMetadata in AdObject as we expect a valid object with kv pairs."),!0}return!1},e.prototype._isDifferentAdObject=function(a){var b=a.getData(G);return!(this._currentAdObject&&this._currentAdObject.isEqual(b))},e.prototype._isValidChapterObject=function(a){var b=a.getData(H);return b&&b instanceof g},e.prototype._isDifferentChapterObject=function(a){var b=a.getData(H);return!(this._currentChapterObject&&this._currentChapterObject.isEqual(b))},e.prototype._isValidTimedMetadataObject=function(a){var b=a.getData(I);if(b&&b instanceof g){var c=b.getValue(g.MEDIAINFO_KEY_TIMEDMETADATA);return c&&"string"==typeof c}return!1},e.prototype._shouldAllowPlayerStateChange=function(a){return!(this._isInState(A.AdBreak)&&!this._isInState(A.Ad))},e.prototype._didBeginReporting=function(a){return this._isInState(A.Reporting)},e.prototype._deferredTrackPlay=function(){this._prerollWaitEnabled&&(this._logger.info(D,"Executing deferred API:trackPlay."),this._prerollWaitEnabled=!1,this._playTaskHandle=null,this._processRule(B.Play))},e.prototype._cmdEnterAction=function(a){var b=a.getRuleName();if(this._prerollWaitEnabled)if(this._playReceived)switch(b){case B.SeekStart:case B.BufferStart:this._logger.info(D,"Cancelling scheduled API:trackPlay because of SeekStart/BufferStart event"),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null;break;case B.SeekComplete:case B.BufferComplete:this._logger.info(D,"Rescheduled API:trackPlay after SeekComplete/BufferComplete event"),this._playTaskHandle=this._taskScheduler.scheduleTask(this._deferredTrackPlay,this,this._prerollWaitTime);break;case B.Play:this._logger.info(D,"Dropping API:trackPlay as we already have a API:trackPlay scheduled."),a.stopProcessingAction();break;case B.Pause:this._logger.info(D,"Cancelling scheduled API:trackPlay because of API:trackPause call."),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null,this._prerollWaitEnabled=!1;break;case B.AdBreakStart:this._logger.info(D,"Received API:trackEvent(AdBreakStart) within "+this._prerollWaitTime+" ms after API:trackPlay. We will track this as preroll AdBreak."),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null,this._prerollWaitEnabled=!1,this._playAfterAdStart=!0}else switch(b){case B.Play:this._logger.info(D,"Deferring API:trackPlay for "+this._prerollWaitTime+" ms."),this._playReceived=!0,this._playUnhandledFromPrerollWaitTime=!0,this._playTaskHandle=this._taskScheduler.scheduleTask(this._deferredTrackPlay,this,this._prerollWaitTime),a.stopProcessingAction();break;case B.Pause:this._logger.info(D,"Received trackPause before first trackPlay."),this._prerollWaitEnabled=!1;break;case B.AdBreakStart:this._logger.info(D,"Received trackEvent(AdBreakStart) before first trackPlay."),this._prerollWaitEnabled=!1}},e.prototype._cmdExitAction=function(a){var b=a.getRuleName();this._playAfterAdStart&&(b===B.AdStart?(this._cmdPlay(a),this._playAfterAdStart=!1):b===B.AdBreakComplete&&(this._playAfterAdStart=!1)),b!==B.AdStart||this._isInState(A.FPlayPause)||this._cmdPlay(a),this._prerollWaitEnabled||!this._playUnhandledFromPrerollWaitTime||b!==B.BufferComplete&&b!==B.SeekComplete&&b!==B.AdBreakComplete||this._isInState(A.FPlayPause)||this._isInState(A.Buffer)||this._isInState(A.Seek)||(this._logger.info(D,"Executing pending API:trackPlay. This case most likely happens tracking Preroll AdBreak without any Ads."),this._cmdPlay(a))},e.prototype._cmdConfigure=function(a){this._configureAdobeAnalyticsPlugin(),this._configureAdobeHearbeatPlugin(),this._configureVideoPlayerPlugin(),this._configureOtherPlugins(),this._configureHeartbeat(),this._privacyManager.configure(this._onPrivacyChange.bind(this))},e.prototype._cmdBeginReporting=function(a){this._playerPlugin&&this._playerPlugin.beginReporting(),this._setState(A.Reporting,!0)},e.prototype._cmdSessionStart=function(a){var b=a.getData(E),c=a.getData(J);this._currentMediaObject=b,this._videoInfo=b.createVideoInfo(),this._videoInfo.playerName=this._config.playerName?this._config.playerName:"";var d=b.getValue(e.MediaObjectKey.StandardMediaMetadata);d&&"object"==typeof d||(d=null);var f=b.getValue(e.MediaObjectKey.MediaResumed);"boolean"==typeof f&&(this._videoInfo.resumed=f);var g=b.getValue(e.MediaObjectKey.PrerollTrackingWaitingTime);"string"!=typeof g&&"number"!=typeof g||isNaN(g)||(this._prerollWaitTime=Number(g),this._prerollWaitTime<=0&&(this._prerollWaitEnabled=!1));var h=this._prepareMetadata(d,c);h[L]=this._videoInfo.mediaType,this._aaPlugin.setVideoMetadata(h),this._playerPlugin.trackVideoLoad(),this._playerPlugin.trackSessionStart(),this._setState(A.Session,!0),this._setState(A.Media,!0)},e.prototype._destroyHeartbeat=function(a,b){a&&a.trackVideoUnload(),b&&b.destroy()},e.prototype._cmdVideoEnd=function(a){var b=a.getRuleName()===B.VideoComplete;if(this._isInState(A.Reporting)){var c=this,d=this._heartbeat,e=this._playerPlugin;this._playerPlugin.trackComplete(function(){c._destroyHeartbeat(e,d)},b)}else this._destroyHeartbeat(this._playerPlugin,this._heartbeat);this._setState(A.Media,!1)},e.prototype._cmdHandleMediaComplete=function(a){this._isInMedia(a)||(this._logger.info(D,"API:trackComplete has already cleaned up Heartbeat instance."),this._cmdSessionEnd(a),a.stopProcessingAction())},e.prototype._cmdSessionEnd=function(a){this._setState(A.Session,!1),this._resetState()},e.prototype._cmdDisableTracking=function(a){this._logger.info(D,"#_cmdDisableTracking: ADBMediaHeartbeat Tracking Disabled Remotely."),this._mediaHeartbeatDisabled=!0},e.prototype._cmdBufferStart=function(a){this._playerPlugin.trackBufferStart(),this._setState(A.Buffer,!0)},e.prototype._cmdBufferComplete=function(a){this._isInState(A.Buffer)&&this._playerPlugin.trackBufferComplete(),this._setState(A.Buffer,!1)},e.prototype._cmdSeekStart=function(a){this._playerPlugin.trackSeekStart(),this._setState(A.Seek,!0)},e.prototype._cmdSeekComplete=function(a){this._isInState(A.Seek)&&this._playerPlugin.trackSeekComplete(),this._setState(A.Seek,!1)},e.prototype._cmdPlay=function(a){this._playerPlugin.trackPlay(),this._setState(A.PlayPause,!0),this._setState(A.FPlayPause,!0),this._playUnhandledFromPrerollWaitTime=!1},e.prototype._cmdPause=function(a){this._playerPlugin.trackPause(),this._setState(A.PlayPause,!1),this._setState(A.FPlayPause,!0)},e.prototype._cmdAdBreakStart=function(a){var b=a.getData(F);this._currentAdBreakObject=b,this._adBreakInfo=b.createAdBreakInfo(),this._adBreakInfo.playerName=this._config.playerName?this._config.playerName:"",this._playerPlugin.trackAdBreakStart(),this._setState(A.AdBreak,!0)},e.prototype._cmdAdBreakComplete=function(a){this._currentAdBreakObject=null,this._adBreakInfo=null,this._isInState(A.AdBreak)&&this._playerPlugin.trackAdBreakComplete(),this._setState(A.AdBreak,!1)},e.prototype._cmdAdStart=function(a){var b=a.getData(G),c=a.getData(J);this._currentAdObject=b,this._adInfo=b.createAdInfo();var d=b.getValue(N);"boolean"==typeof d&&(this._adInfo.granularTracking=d);var f=b.getValue(e.MediaObjectKey.StandardAdMetadata);f&&"object"==typeof f||(f=null);var g=this._prepareMetadata(f,c);this._aaPlugin.setAdMetadata(g),this._playerPlugin.trackAdStart(),this._setState(A.Ad,!0)},e.prototype._cmdAdComplete=function(a){this._currentAdObject=null,this._adInfo=null,this._isInState(A.Ad)&&this._playerPlugin.trackAdComplete(),this._setState(A.Ad,!1)},e.prototype._cmdAdSkip=function(a){this._currentAdObject=null,this._adInfo=null,this._isInState(A.Ad)&&this._playerPlugin.trackAdSkip(),this._setState(A.Ad,!1)},e.prototype._cmdChapterStart=function(a){var b=a.getData(H),c=a.getData(J);this._currentChapterObject=b,this._chapterInfo=b.createChapterInfo();var d=this._prepareMetadata(null,c);this._aaPlugin.setChapterMetadata(d),this._playerPlugin.trackChapterStart(),this._setState(A.Chapter,!0)},e.prototype._cmdChapterComplete=function(a){this._currentChapterObject=null,this._chapterInfo=null,this._isInState(A.Chapter)&&this._playerPlugin.trackChapterComplete(),this._setState(A.Chapter,!1)},e.prototype._cmdChapterSkip=function(a){this._currentChapterObject=null,this._chapterInfo=null,this._isInState(A.Chapter)&&this._playerPlugin.trackChapterSkip(),this._setState(A.Chapter,!1)},e.prototype._cmdError=function(a){var b=a.getData(K);b||(b="unknown_error_id"),this._playerPlugin.trackVideoPlayerError(b)},e.prototype._cmdBitrate=function(a){this._playerPlugin.trackBitrateChange()},e.prototype._cmdTimedMetadataUpdate=function(a){var b=a.getData(I),c=b.getValue(g.MEDIAINFO_KEY_TIMEDMETADATA);this._playerPlugin.trackTimedMetadata(c)},e.prototype._processRule=function(a,b){return this._ruleEngine.processRule(a,b)},e.prototype._setupRules=function(){this._ruleEngine.registerEnterExitAction(this._cmdEnterAction,this._cmdExitAction),this._ruleEngine.registerRule(B.SessionStart,"API:trackSessionStart",[t.createPredicate(this._isPlatformTrackingSupported,!0,C.ErrUnSupportedPlatform),t.createPredicate(this._isTrackingDisabled,!1,C.ErrTrackingDisabled),t.createPredicate(this._isInSession,!1,C.ErrInSession),t.createPredicate(this._isValidMediaObject,!0,C.ErrInvalidMediaObject),t.createPredicate(this._isAudioTrackingSupported,!0,C.ErrAudioTrackingNotSupported)],[this._cmdConfigure,this._cmdSessionStart],this),this._ruleEngine.registerRule(B.SessionEnd,"API:trackSessionEnd",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession)],[this._cmdHandleMediaComplete,this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdChapterSkip,this._cmdVideoEnd,this._cmdSessionEnd],this),this._ruleEngine.registerRule(B.VideoComplete,"API:trackComplete",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia)],[this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdChapterSkip,this._cmdVideoEnd],this),this._ruleEngine.registerRule(B.Error,"API:trackError",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia)],[this._cmdError],this),this._ruleEngine.registerRule(B.Play,"API:trackPlay",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,C.ErrInvalidPlayerState)],[this._cmdSeekComplete,this._cmdBufferComplete,this._cmdPlay],this),this._ruleEngine.registerRule(B.Pause,"API:trackPause",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,C.ErrInvalidPlayerState),t.createPredicate(this._isInBuffer,!1,C.ErrInBuffer),t.createPredicate(this._isInSeek,!1,C.ErrInSeek)],[this._cmdPause],this),this._ruleEngine.registerRule(B.BufferStart,"API:trackEvent(BufferStart)",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,C.ErrInvalidPlayerState),t.createPredicate(this._isInBuffer,!1,C.ErrInBuffer),t.createPredicate(this._isInSeek,!1,C.ErrInSeek)],[this._cmdBufferStart],this),this._ruleEngine.registerRule(B.BufferComplete,"API:trackEvent(BufferComplete)",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,C.ErrInvalidPlayerState),t.createPredicate(this._isInBuffer,!0,C.ErrNotInBuffer)],[this._cmdBufferComplete],this),this._ruleEngine.registerRule(B.SeekStart,"API:trackEvent(SeekStart)",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,C.ErrInvalidPlayerState),t.createPredicate(this._isInSeek,!1,C.ErrInSeek),t.createPredicate(this._isInBuffer,!1,C.ErrInBuffer)],[this._cmdSeekStart],this),this._ruleEngine.registerRule(B.SeekComplete,"API:trackEvent(SeekComplete)",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia),t.createPredicate(this._shouldAllowPlayerStateChange,!0,C.ErrInvalidPlayerState),t.createPredicate(this._isInSeek,!0,C.ErrNotInSeek)],[this._cmdSeekComplete],this),this._ruleEngine.registerRule(B.AdBreakStart,"API:trackEvent(AdBreakStart)",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia),t.createPredicate(this._isValidAdBreakObject,!0,C.ErrInvalidAdBreakObject),t.createPredicate(this._isDifferentAdBreakObject,!0,C.ErrDuplicateAdBreakObject)],[this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdAdBreakStart],this),this._ruleEngine.registerRule(B.AdBreakComplete,"API:trackEvent(AdBreakComplete)",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia),t.createPredicate(this._isInAdBreak,!0,C.ErrNotInAdBreak)],[this._cmdAdSkip,this._cmdAdBreakComplete],this),this._ruleEngine.registerRule(B.AdStart,"API:trackEvent(AdStart)",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia),t.createPredicate(this._isInAdBreak,!0,C.ErrNotInAdBreak),t.createPredicate(this._isValidAdObject,!0,C.ErrInvalidAdObject),t.createPredicate(this._isDifferentAdObject,!0,C.ErrDuplicateAdObject)],[this._cmdAdSkip,this._cmdAdStart],this),this._ruleEngine.registerRule(B.AdComplete,"API:trackEvent(AdComplete)",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia),t.createPredicate(this._isInAdBreak,!0,C.ErrNotInAdBreak),t.createPredicate(this._isInAd,!0,C.ErrNotInAd)],[this._cmdAdComplete],this),this._ruleEngine.registerRule(B.AdSkip,"API:trackEvent(AdSkip)",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia),t.createPredicate(this._isInAdBreak,!0,C.ErrNotInAdBreak),t.createPredicate(this._isInAd,!0,C.ErrNotInAd)],[this._cmdAdSkip],this),this._ruleEngine.registerRule(B.ChapterStart,"API:trackEvent(ChapterStart)",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia),t.createPredicate(this._isValidChapterObject,!0,C.ErrInvalidChapterObject),t.createPredicate(this._isDifferentChapterObject,!0,C.ErrDuplicateChapterObject)],[this._cmdChapterSkip,this._cmdChapterStart],this),this._ruleEngine.registerRule(B.ChapterComplete,"API:trackEvent(ChapterComplete)",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia),t.createPredicate(this._isInChapter,!0,C.ErrNotInChapter)],[this._cmdChapterComplete],this),this._ruleEngine.registerRule(B.ChapterSkip,"API:trackEvent(ChapterSkip)",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia),t.createPredicate(this._isInChapter,!0,C.ErrNotInChapter)],[this._cmdChapterSkip],this),this._ruleEngine.registerRule(B.BitrateChange,"API:trackEvent(BitrateChange)",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia)],[this._cmdBitrate],this),this._ruleEngine.registerRule(B.TimedMetadataUpdate,"API:trackEvent(TimedMetadataUpdate)",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia),t.createPredicate(this._isValidTimedMetadataObject,!0,C.ErrInvalidTimedMetadataObject)],[this._cmdTimedMetadataUpdate],this),this._ruleEngine.registerRule(B.DisableTracking,"Internal::DisableTracking",[t.createPredicate(this._isTrackingDisabled,!1,C.ErrTrackingDisabled)],[this._cmdDisableTracking],this),this._ruleEngine.registerRule(B.BeginReporting,"Internal::BeginReporting",[t.createPredicate(this._isInSession,!0,C.ErrNotInSession),t.createPredicate(this._isInMedia,!0,C.ErrNotInMedia),t.createPredicate(this._didBeginReporting,!1,C.ErrBeginReporting)],[this._cmdBeginReporting],this)},e.prototype._configureAdobeAnalyticsPlugin=function(){this._aaPlugin=new n(this._appMeasurement,new p(this));var a=new o;a.channel=this._config.channel?this._config.channel:"",a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._aaPlugin.configure(a),this._plugins.push(this._aaPlugin)},e.prototype._configureAdobeHearbeatPlugin=function(){var a=this._appMeasurement.visitor?this._appMeasurement.visitor.marketingCloudOrgID:"";this._ahPlugin=new q(new s(this));var b=new r(this._config.trackingServer,a);b.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,b.ovp=this._config.ovp?this._config.ovp:"",b.ssl=this._config.ssl,b.sdk=this._config.appVersion?this._config.appVersion:"";var d=this._primetimeTVSDKVersion();d&&d.length>0&&(b.__primetime=!0,b.__psdkVersion=d),this._ahPlugin.configure(b),this._plugins.push(this._ahPlugin)},e.prototype._configureVideoPlayerPlugin=function(){this._playerPlugin=new k(new m(this));var a=new l;a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._playerPlugin.configure(a),this._plugins.push(this._playerPlugin)},e.prototype._configureOtherPlugins=function(){if(c.plugins.nielsen&&this._config.nielsenConfigKey&&this._config.nielsenAppInfo){this._nielsenPlugin=new c.plugins.nielsen.NielsenPlugin(new c._NielsenPluginDelegate(this,this._logger));var a=new c.plugins.nielsen.NielsenPluginConfig;a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,a.appInfo=this._config.nielsenAppInfo,a.configKey=this._config.nielsenConfigKey,this._nielsenPlugin.configure(a),this._plugins.push(this._nielsenPlugin)}},e.prototype._configureHeartbeat=function(){var a=new i;a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._heartbeat=new h(new j(this),this._plugins),this._heartbeat.configure(a)},e.prototype._resetState=function(){this._taskScheduler.clearTasks(),this._privacyManager.reset(),this._mediaState={},this._plugins=[],this._playerPlugin=null,this._aaPlugin=null,this._ahPlugin=null,this._nielsenPlugin=null,this._heartbeat=null,this._currentMediaObject=null,this._currentAdBreakObject=null,this._currentAdObject=null,this._currentChapterObject=null,this._videoInfo=null,this._adBreakInfo=null,this._adInfo=null,this._chapterInfo=null,this._prerollWaitEnabled=!0,this._prerollWaitTime=O,this._playReceived=!1,this._playUnhandledFromPrerollWaitTime=!1,this._playTaskHandle=null,this._playAfterAdStart=!1},e.prototype._primetimeTVSDKVersion=function(){return this._currentMediaObject?this._currentMediaObject.getValue(M):null},e.prototype._cleanContextData=function(a){if(null==a||"object"!=typeof a)return null;var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];"number"!=typeof d&&"string"!=typeof d&&"boolean"!=typeof d||(b[c]=d)}return b},e.prototype._prepareMetadata=function(a,b){var c={};if(b&&w.append(c,b),a){var d=this._cleanContextData(a);w.append(c,d)}return delete c[L],c},e.prototype._onDelegateError=function(a){this._logger.error(D,a.getMessage()+" | "+a.getDetails())},e.prototype._onDelegateTrackingDisabled=function(){this._processRule(B.SessionEnd),this._processRule(B.DisableTracking)},e.prototype._onPrivacyChange=function(a){this._logger.info(D,"#_onPrivacyChange: Privacy Status: "+a),a===v.OPT_IN?this._processRule(B.BeginReporting):a===v.OPT_OUT&&this._processRule(B.SessionEnd)};var A={Session:0,Media:1,AdBreak:2,Ad:3,Chapter:4,PlayPause:5,Buffer:6,Seek:7,FPlayPause:8,Reporting:9},B={SessionStart:0,SessionEnd:1,VideoComplete:2,Play:3,Pause:4,Error:5,AdBreakStart:6,AdBreakComplete:7,AdStart:8,AdComplete:9,AdSkip:10,ChapterStart:11,ChapterComplete:12,ChapterSkip:13,SeekStart:14,SeekComplete:15,BufferStart:16,BufferComplete:17,BitrateChange:18,TimedMetadataUpdate:19,DisableTracking:20,BeginReporting:21},C={ErrUnSupportedPlatform:"MediaHeartbeat does not support tracking due to AppMeasurement or VisitorAPI not supporting the browser.",ErrNotInSession:\'MediaHeartbeat is not in active tracking session, call "API:trackSessionStart" to begin a new tracking session.\',ErrInSession:\'MediaHeartbeat is in active tracking session, call "API:trackSessionEnd" to end current tracking session.\',ErrNotInMedia:\'MediaHeartbeat has completed tracking session, call "API:trackSessionEnd" first to end current session and then begin a new tracking session.\',ErrInBuffer:\'MediaHeartbeat is tracking buffer events, call "API:trackEvent(BufferComplete)" first to stop tracking buffer events.\',ErrNotInBuffer:\'MediaHeartbeat is not tracking buffer events, call "API:trackEvent(BufferStart)" before "API:trackEvent(BufferComplete)".\',ErrInSeek:\'MediaHeartbeat is tracking seek events, call "API:trackEvent(SeekComplete)" first to stop tracking seek events.\',ErrNotInSeek:\'MediaHeartbeat is not tracking seek events, call "API:trackEvent(SeekStart)" before "API:trackEvent(SeekComplete)".\',ErrNotInAdBreak:\'MediaHeartbeat is not tracking any AdBreak, call "API:trackEvent(AdBreakStart)" to begin tracking AdBreak\',ErrNotInAd:\'MediaHeartbeat is not tracking any Ad, call "API:trackEvent(AdStart)" to begin tracking Ad\',ErrNotInChapter:\'MediaHeartbeat is not tracking any Chapter, call "API:trackEvent(ChapterStart)" to begin tracking Chapter\',ErrInvalidMediaObject:\'MediaInfo passed into "API:trackSessionStart" is invalid.\',ErrInvalidAdBreakObject:\'AdBreakInfo passed into "API:trackEvent(AdBreakStart)" is invalid.\',ErrDuplicateAdBreakObject:\'MediaHeartbeat is currently tracking the AdBreak passed into "API:trackEvent(AdBreakStart)".\',ErrInvalidAdObject:\'AdInfo passed into "API:trackEvent(AdStart)" is invalid.\',ErrDuplicateAdObject:\'MediaHeartbeat is currently tracking the Ad passed into "API:trackEvent(AdStart)".\',ErrInvalidChapterObject:\'ChapterInfo passed into "API:trackEvent(ChapterStart)" is invalid.\',ErrDuplicateChapterObject:\'MediaHeartbeat is currently tracking the Chapter passed into "API:trackEvent(ChapterStart)".\',ErrInvalidTimedMetadataObject:\'TimedMetadata passed into "API:trackEvent(TimedMetadataUpdate)" is invalid.\',ErrInvalidPlayerState:"MediaHeartbeat is tracking an AdBreak but not tracking any Ad and will drop any calls to track player state (Play, Pause, Buffer or Seek) in this state.",ErrAudioTrackingNotSupported:"Upgrade your AppMeasurement library to version >= \'2.11.0\' to support tracking audio content.",ErrTrackingDisabled:"MediaHeartbeat tracking is disabled for this publisher. Please contact Adobe Representative to enable tracking.",ErrBeginReporting:"MediaHeartbeat has already started reporting."},D="MediaHeartbeat",E="key_media_object",F="key_adbreak_object",G="key_ad_object",H="key_chapter_object",I="key_timed_metadata_object",J="key_custom_metadata",K="key_error_id",L="a.media.streamType",M="a.__pttvsdkVersion",N="granular_ad_tracking",O=250;c._MediaHeartbeatRule=B,c._MediaHeartbeatErrorMessage=C,c.MediaHeartbeatDelegate=d,c.MediaHeartbeat=e,c.MediaHeartbeat._debugLogging=!1}(a.ADB.core,a.ADB.va),a.ADB||(a.ADB={}),a.ADB.core||(a.ADB.core=core),a.ADB.va||(a.ADB.va=va),a.ADB.va.plugins||(a.ADB.va.plugins={})}(this);\n  \n    }).call(lib);\n    exports.va = lib.ADB.va;\n    exports.core = lib.ADB.core;\n  }));\n  \n  window.PubSub.subscribe("Player_Ready", function(data) {\n      var w = window,\n          s = w.tdi_s || w.s || {},\n          visitor = Visitor.getInstance("7FF852E2556756057F000101@AdobeOrg"),\n          tdi = w.tdi = w.tdi || {},\n          tC = w.tdi.configuration = w.tdi.configuration || {},\n          tCA = w.tdi.configuration.adobeAnalytics = w.tdi.configuration.adobeAnalytics || {},\n          tCM = w.tdi.configuration.media = w.tdi.configuration.media || {},\n          rsid = data.rsid || data.gamersid || (tCA.isProd ? tCA.rsidPROD : tCA.rsidDEV) || s.account,\n          spcLstPub = (((window.tdi || {}).configuration || {}).launch || {}).spaceLastPublished || "";\n    \n      tCM.logger = function(msg) {\n        try {\n            if (typeof window.console !== "undefined" && typeof console.info === "function" && window.localStorage && localStorage.debugMediaFlag === "true")\n                console.info("MediaTrack: " + msg)\n        } catch(e) {}\n      };   \n      tCM.logger(\'Logger Ready\');\n  \n      tCM.resetOpData = function() {\n          var o = tdi.configuration.media.opData || {};\n          if (!o.interval_id) {\n              tdi.configuration.media.opData = {\n                  \'totalPlayTime\': 0,\n                  \'interval_id\': 0,\n                  \'ready\': false\n              };\n          }\n      };\n      tCM.logger(\'Start | Force Data to Lower\');\n  \n      for (var i in data) {\n          if (data.hasOwnProperty(i) && (typeof data[i] === \'string\' || typeof data[i] === \'number\' || typeof data[i] === \'boolean\')) {\n              data[i] = typeof data[i] === \'string\' ? data[i].toLowerCase() : data[i];\n          }\n      }\n      tCM.logger(\'End | Force Data to Lower\');\n  \n      tCM.resetOpData();\n      tCM.logger(\'OpData Setup\');\n  \n      tCM.setTime = function() {\n          var tCM = tdi.configuration.media;\n          tCM.opData.totalPlayTime = tCM.opData.totalPlayTime + 1;\n      };\n  \n      tCM.startTimer = function() {\n          var tCM = tdi.configuration.media;\n          clearInterval(tdi.configuration.media.opData.interval_id);\n          tCM.opData.totalPlayTime = 0;\n          tCM.opData.interval_id = setInterval(tdi.configuration.media.setTime, 1000);\n          tCM.logger(\'Start Timer\');\n      };\n  \n      tCM.resumeTimer = function() {\n          var tCM = tdi.configuration.media;\n          clearInterval(tdi.configuration.media.opData.interval_id);\n          tCM.opData.interval_id = setInterval(tdi.configuration.media.setTime, 1000);\n          tCM.logger(\'Resume Timer\');\n      };\n  \n      tCM.pauseTimer = function() {\n          var tCM = tdi.configuration.media;\n          clearInterval(tCM.opData.interval_id);\n          tCM.logger(\'Pause Timer\');\n      };\n  \n      tCM.logger(\'tCM Methods Defined\')\n  \n      tCM.appMeasurement = new AppMeasurement(rsid);\n      tCM.appMeasurement.visitor = visitor;\n      tCM.appMeasurement.trackingServer = _satellite.getVar("1.1 trackingServer") || "turnerinternational.sc.omtrdc.net";\n      tCM.appMeasurement.trackingServerSecure = _satellite.getVar("1.2 trackingServerSecure") || "turnerinternational.sc.omtrdc.net";\n      tCM.appMeasurement.account = rsid;\n      tCM.appMeasurement.pageName = data.pageName || (document.location.hostname.replace(/^www\\w+\\./, \'\') + document.location.pathname);\n      tCM.appMeasurement.charSet = tCA.charSet || "UTF-8";\n      tCM.logger(\'tCM appMeasurement Configured\')\n  \n      window.MediaHeartbeat = ADB.va.MediaHeartbeat;\n      window.MediaHeartbeatConfig = ADB.va.MediaHeartbeatConfig;\n      window.MediaHeartbeatDelegate = ADB.va.MediaHeartbeatDelegate;\n      tCM.logger(\'Mediaheartbeat Variables Defined\')\n  \n      var mediaConfig = new MediaHeartbeatConfig();\n      mediaConfig.trackingServer = data.trackingServer || tCM.trackingServer || "turnerinternational.hb.omtrdc.net";\n      mediaConfig.playerName = data.playerName || tCM.playerName || "";\n      mediaConfig.channel = data.channel || tCM.channel || "";\n      mediaConfig.debugLogging = data.debugLogging || tCM.debugLogging || false;\n      mediaConfig.appVersion = data.appVersion || tCM.appVersion || "";\n      mediaConfig.ovp = data.ovp || tCM.ovp || "";\n      mediaConfig.ssl = data.ssl || tCM.ssl || true;\n      tCM.logger(\'MediaHeartbeatConfig Setup Complete\');\n  \n      var mediaDelegate = new MediaHeartbeatDelegate();\n      mediaDelegate.getCurrentPlaybackTime = function() {\n          var w = window,\n              /* Default Value for currentTime is zero */\n              cT = 0,\n              /* Reference to JS interval used to track video progression */\n              tcmTPT = ((((w.tdi || {}).configuration || {}).media || {}).opData || {}).totalPlayTime || false,\n              /* External refernce to current video time when avaliable */\n              vmCT = (w.turner_metadata || {}).currentTime || false,\n              /* Method to validate time passed to VHL is a non-negative integer | deployed in Configuration */\n              isValidTime = w.tdi && w.tdi.util && typeof w.tdi.util.isValidVideoTime === "function" ? w.tdi.util.isValidVideoTime : function() {\n                  return false;\n              };\n  \n          /* Overwrite for legacy implementation using video_metadata */\n          var temp_vmCT = vmCT;\n          vmCT = (w.video_metadata || {}).currentTime || temp_vmCT;\n          /* Validate value returned by Interval | Use if proper format */\n          cT = isValidTime(tcmTPT) ? tcmTPT : cT;\n          /* Validate value passed to video_metadata.currentTime by video player | if applicable | preferred source */\n          cT = isValidTime(vmCT) ? vmCT : cT;\n  \n          return cT;\n      };\n      tCM.logger(\'MediaHeartbeatDelegate Setup Complete\');\n  \n      tCM.mediaHeartbeat = new MediaHeartbeat(mediaDelegate, mediaConfig, tdi.configuration.media.appMeasurement);\n      tCM.logger(\'New Instance of MediaHeartbeat\');\n  \n      var videoMetadata = {\n          id: data.content_id || "0",\n          length: data.content_duration || 0,\n          type: data.content_type == "live" ? MediaHeartbeat.StreamType.LIVE : MediaHeartbeat.StreamType.VOD,\n          title: data.content_name || ""\n      };\n      tCM.logger(\'Defined Video Metadata\');\n  \n      var mediaObject = MediaHeartbeat.createMediaObject(videoMetadata.title, videoMetadata.id, videoMetadata.length, videoMetadata.type);\n      tCM.logger(\'Created Media Object\');\n  \n      var standardVideoMetadata = {};\n      standardVideoMetadata[MediaHeartbeat.VideoMetadataKeys.SHOW] = data.content_showName || "";\n      standardVideoMetadata[MediaHeartbeat.VideoMetadataKeys.STREAM_FORMAT] = data.content_type == "live" ? "live" : "vod";\n      standardVideoMetadata[MediaHeartbeat.VideoMetadataKeys.SEASON] = data.content_seasonNumber || "";\n      standardVideoMetadata[MediaHeartbeat.VideoMetadataKeys.EPISODE] = data.content_episodeNumber || "";\n      standardVideoMetadata[MediaHeartbeat.VideoMetadataKeys.ASSET_ID] = data.content_id || "";\n      standardVideoMetadata[MediaHeartbeat.VideoMetadataKeys.GENRE] = data.content_genre || "";\n      standardVideoMetadata[MediaHeartbeat.VideoMetadataKeys.FIRST_AIR_DATE] = data.content_dataAired || data.content_dateAired || "";\n      standardVideoMetadata[MediaHeartbeat.VideoMetadataKeys.FIRST_DIGITAL_DATE] = data.content_dataAired || data.content_dateAired || "";\n      standardVideoMetadata[MediaHeartbeat.VideoMetadataKeys.RATING] = data.content_rating || "";\n      standardVideoMetadata[MediaHeartbeat.VideoMetadataKeys.ORIGINATOR] = data.content_originator || "";\n      standardVideoMetadata[MediaHeartbeat.VideoMetadataKeys.NETWORK] = data.content_network || "";\n      standardVideoMetadata[MediaHeartbeat.VideoMetadataKeys.SHOW_TYPE] = data.content_type || "";\n      standardVideoMetadata[MediaHeartbeat.VideoMetadataKeys.MVPD] = data.content_mvpd || "";\n      standardVideoMetadata[MediaHeartbeat.VideoMetadataKeys.AUTHORIZED] = data.content_authorized || "";\n      standardVideoMetadata[MediaHeartbeat.VideoMetadataKeys.DAY_PART] = data.day_part || "";\n      standardVideoMetadata[MediaHeartbeat.VideoMetadataKeys.FEED] = data.content_feed || "";\n      standardVideoMetadata[MediaHeartbeat.VideoMetadataKeys.AD_LOAD] = data.ad_load || "";\n      tCM.logger(\'Defined Standard Video Metadata\');\n  \n      mediaObject.setValue(MediaHeartbeat.MediaObjectKey.StandardVideoMetadata, standardVideoMetadata);\n      tCM.logger(\'Set Media Object Values\');\n  \n      var customVideoMetadata = {\n          show: data.content_showName || "",\n          domain: "web|" + window.location.hostname.replace("www.", ""),\n          pageName: data.pageName || (document.location.hostname.replace(/^www\\w+\\./, \'\') + document.location.pathname),\n          version: data.version ||\xa0spcLstPub,\n          ensighten: spcLstPub,\n          platform: "web"\n      };\n  \n      function vidDataFilterOut(vidKey, tCM) {\n          if (tCM.videoBlockList && Object.prototype.toString.call(tCM.videoBlockList) === "[object Array]" && tCM.videoBlockList.length > 0) {\n              var videoData = tCM.videoBlockList;\n              for (var x = 0; x < videoData.length; x++) {\n                  if (videoData[x] === vidKey) {\n                      return false;\n                  }\n              }\n          } else if (typeof tCM.videoBlockList === \'undefined\') {\n              return true;\n          }\n          return true;\n      }\n  \n      for (var i in data) {\n          if (data.hasOwnProperty(i) && (typeof data[i] === \'string\' || typeof data[i] === \'number\' || typeof data[i] === \'boolean\') && vidDataFilterOut(i, tCM)) {\n              customVideoMetadata[i] = typeof data[i] === \'string\' ? data[i].toLowerCase() : data[i];\n          }\n      }\n      tCM.logger(\'Defined Custom Video Metadata\');\n  \n      tCM.mediaHeartbeat.trackSessionStart(mediaObject, customVideoMetadata)\n      tCM.logger(\'Called trackSessionStart\');\n  });\n  window.PubSub.subscribe("Ad_Started", function(data) {\n      var tCM = tdi.configuration.media,\n          adMetadata = {},\n          adCustomMetadata = {},\n          standardAdMetadata = {},\n          spcLstPub = (((window.tdi || {}).configuration || {}).launch || {}).spaceLastPublished || "";\n  \n      function adDataFilter(adDataKey, tCM) {\n          if (tCM.adCustomData && Object.prototype.toString.call(tCM.adCustomData) === "[object Array]" && tCM.adCustomData.length > 0) {\n  \n              var adData = tCM.adCustomData;\n              for (var x = 0; x < adData.length; x++) {\n                  if (adData[x] === adDataKey) {\n                      return true;\n                  }\n              }\n          } else if (typeof tCM.adCustomData === \'undefined\') {\n              return true;\n          }\n  \n          return false;\n      }\n  \n      adCustomMetadata.version = data.version ||\xa0spcLstPub;\n  \n      for (var i in data) {\n          if (data.hasOwnProperty(i) && (typeof data[i] === \'string\' || typeof data[i] === \'number\' || typeof data[i] === \'boolean\') && adDataFilter(i, tCM)) {\n              data[i] = adCustomMetadata[i] = typeof data[i] === \'string\' ? data[i].toLowerCase() : data[i];\n          }\n      }\n  \n      adMetadata = {\n          id: data.ad_id || "",\n          position: data.ad_position || 0,\n          length: data.ad_duration || 0,\n          title: data.ad_title || ""\n      };\n  \n      var adBreakObject = MediaHeartbeat.createAdBreakObject(adMetadata.title, adMetadata.position, tCM.opData.totalPlayTime),\n          adObject = MediaHeartbeat.createAdObject(adMetadata.title, adMetadata.id, adMetadata.position, adMetadata.length);\n  \n      standardAdMetadata[MediaHeartbeat.AdMetadataKeys.ADVERTISER] = data.ad_advertiser || "";\n      standardAdMetadata[MediaHeartbeat.AdMetadataKeys.CAMPAIGN_ID] = data.ad_campaign_id || "";\n      standardAdMetadata[MediaHeartbeat.AdMetadataKeys.CREATIVE_ID] = data.ad_creative_id || "";\n      standardAdMetadata[MediaHeartbeat.AdMetadataKeys.SITE_ID] = data.ad_site || "";\n      standardAdMetadata[MediaHeartbeat.AdMetadataKeys.CREATIVE_URL] = data.ad_creative_url || "";\n      standardAdMetadata[MediaHeartbeat.AdMetadataKeys.PLACEMENT_ID] = data.ad_placement_id || "";\n      adObject.setValue(MediaHeartbeat.MediaObjectKey.StandardAdMetadata, standardAdMetadata);\n  \n      tCM.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdBreakStart, adBreakObject);\n      tCM.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdStart, adObject, adCustomMetadata);\n      tCM.startTimer();\n      tCM.logger(\'Ad Started\');\n  });\n  window.PubSub.subscribe("Ad_Skipped", function(data) {\n      var tCM = tdi.configuration.media;\n      tCM.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdSkip);\n      tCM.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdBreakComplete);\n      tCM.pauseTimer();\n      tCM.logger(\'Ad Skipped\');\n  });\n  window.PubSub.subscribe("Ad_Finished", function(data) {\n      var tCM = tdi.configuration.media;\n      tCM.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdComplete);\n      tCM.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdBreakComplete);\n      tCM.pauseTimer();\n      tCM.logger(\'Ad Finished\');\n  });\n  window.PubSub.subscribe("Media_Started", function(data) {\n      var tCM = tdi.configuration.media;\n      tCM.mediaHeartbeat.trackPlay();\n      tCM.startTimer();\n      tCM.logger(\'Media Started\');\n  });\n  window.PubSub.subscribe("Media_Paused", function(data) {\n      var tCM = tdi.configuration.media;\n      tCM.mediaHeartbeat.trackPause();\n      tCM.pauseTimer();\n      tCM.logger(\'Media Paused\');\n  });\n  window.PubSub.subscribe("Media_Resumed", function(data) {\n      var tCM = tdi.configuration.media;\n      tCM.mediaHeartbeat.trackPlay();\n      tCM.resumeTimer();\n      tCM.logger(\'Media Resumed\');\n  });\n  window.PubSub.subscribe("Media_Buffering_Started", function(data) {\n      var tCM = tdi.configuration.media;\n      tCM.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.BufferStart);\n      tCM.pauseTimer()\n      tCM.logger(\'Media Buffering Started\');\n  });\n  window.PubSub.subscribe("Media_Buffering_Finished", function(data) {\n      var tCM = tdi.configuration.media;\n      tCM.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.BufferComplete);\n      tCM.resumeTimer();\n      tCM.logger(\'Media Buffering Finished\');\n  });\n  window.PubSub.subscribe("Media_Chapter_Started", function(data) {\n      var tCM = tdi.configuration.media,\n          chapterMetadata = {},\n          chapterCustomMetadata = {},\n          spcLstPub = (((window.tdi || {}).configuration || {}).launch || {}).spaceLastPublished || "";\n  \n      function chapterDataFilter(chapterKey, tCM) {\n          if (tCM.chapterCustomData && Object.prototype.toString.call(tCM.chapterCustomData) === "[object Array]" && tCM.chapterCustomData.length > 0) {\n              var chapterData = tCM.chapterCustomData;\n              for (var x = 0; x < chapterData.length; x++) {\n                  if (chapterData[x] === chapterKey) {\n                      return true;\n                  }\n              }\n          } else if (typeof tCM.chapterCustomData === \'undefined\') {\n              return true;\n          }\n          return false;\n      }\n  \n      chapterCustomMetadata.version = data.version ||\xa0spcLstPub;\n  \n      for (var i in data) {\n          if (data.hasOwnProperty(i) && (typeof data[i] === \'string\' || typeof data[i] === \'number\' || typeof data[i] === \'boolean\') && chapterDataFilter(i, tCM)) {\n              data[i] = chapterCustomMetadata[i] = typeof data[i] === \'string\' ? data[i].toLowerCase() : data[i];\n          }\n      }\n  \n      chapterMetadata = {\n          cname: data.chapter_name || "",\n          position: data.chapter_position || 0,\n          length: data.chapter_duration || 0\n      };\n  \n      var chapterObject = MediaHeartbeat.createChapterObject(chapterMetadata.cname, chapterMetadata.position, chapterMetadata.length, tCM.opData.totalPlayTime);\n  \n      tCM.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.ChapterStart, chapterObject, chapterCustomMetadata);\n      tCM.logger(\'Media Chapter Started\');\n  });\n  window.PubSub.subscribe("Media_Chapter_Finished", function(data) {\n      var tCM = tdi.configuration.media;\n      tCM.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.ChapterComplete)\n      tCM.logger(\'Media Chapter Started\');\n  });\n  window.PubSub.subscribe("Media_Finished", function(data) {\n      var tCM = tdi.configuration.media;\n      tCM.mediaHeartbeat.trackComplete();\n      tCM.pauseTimer();\n  });\n  window.PubSub.subscribe("Media_Seeking_Started", function(data) {\n      var tCM = tdi.configuration.media;\n      tCM.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.SeekStart);\n  });\n  window.PubSub.subscribe("Media_Seeking_Finished", function(data) {\n      var tCM = tdi.configuration.media;\n      tCM.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.SeekComplete);\n  });\n  window.PubSub.subscribe("Content_Completed", function(data) {\n      var tCM = tdi.configuration.media;\n      tCM.mediaHeartbeat.trackSessionEnd();\n      tCM.pauseTimer();\n  });\n  window.PubSub.subscribe("game-preroll", function(data) {\n      if (data.ad_event === \'start\') {\n          trackVideoMetrics({\n              "type": "Player_Ready",\n              "data": {\n                  "gamersid": data.gamersid || false,\n                  "content_duration": 0,\n                  "content_name": data.gamename || "game preroll",\n                  "content_id": "game preroll",\n                  "playerName": data.playerName || "game player",\n                  "channel": data.channel || "game channel",\n                  "appVersion": data.appVersion || "game version",\n                  "ovp": data.ovp || "game ovp",\n                  "debugLogging": data.debugLogging || false\n              }\n          });\n          trackVideoMetrics({\n              "type": "Ad_Started",\n              "data": {\n                  "gamersid": data.gamersid || false,\n                  "ad_duration": data.ad_duration || 0,\n                  "ad_id": data.ad_id || "game preroll",\n                  "ad_type": "preroll"\n              }\n          });\n      } else if (data.ad_event === "skip" || "complete") {\n          trackVideoMetrics({\n              "type": "Ad_Finished",\n              "data": {}\n          });\n          trackVideoMetrics({\n              "type": "Content_Completed",\n              \'data\': {}\n          });\n      }\n  });',
language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLc46c53667d764ef1916025c80bec89c0",name:"4. Action Tracker (DOM Ready)",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://lightning.pogo.tv/launch/7be62238e4c3/c012b89a1fe6/417329434f19/RC2d5cc0d4cf264846ba659a97ebd0f60d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe65b502b09ce49aabdf0b44e2bbdf17e",name:"GAM/DFP POGOTV (Page Bottom)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"console.log('ADOBELAUNCH DFP POGO 27.04.2021 17:45');\n//11.03.2021 add cms=ensighten and qa/prod detect code\n//21.04.21 fixed issues with show and show:main adunits, readded basic lazyloading from cartoonito, fixed /index to show as home, changed sitePath to dfpPath throughout.\n\nvar dfpEnv;\n//dfpEnv = 'qa-site';\nif(window.location.hostname.includes('qa.')||window.location.hostname.includes('staging')){dfpEnv='qa-site';}else{dfpEnv='prod-site';}\n\n                \nvar dfpAdAcceptedStatus; var dfpBBAcceptedStatus; var dfpPFAcceptedStatus;\n\n\nif(!window.top.document.cookie.includes('OptanonConsent')){\ndfpAdAcceptedStatus = 'noOT';dfpBBAcceptedStatus = 'noOT';dfpPFAcceptedStatus = 'noOT';\n\n}\nelse if(!window.top.document.cookie.includes('OptanonAlertBoxClosed')){\ndfpAdAcceptedStatus = 'pending';dfpBBAcceptedStatus = 'pending';dfpPFAcceptedStatus = 'pending';\n\n}\nelse{\n\tvar dfpOneTrustActiveGroups = window.OnetrustActiveGroups.split(',');\n\tif(dfpOneTrustActiveGroups.includes('4') || dfpOneTrustActiveGroups.includes('ad')){dfpAdAcceptedStatus='yes';}else{dfpAdAcceptedStatus='no';}\n\tif(dfpOneTrustActiveGroups.includes('3') || dfpOneTrustActiveGroups.includes('bb')){dfpBBAcceptedStatus='yes';}else{dfpBBAcceptedStatus='no';}\n\tif(dfpOneTrustActiveGroups.includes('2') || dfpOneTrustActiveGroups.includes('pf')){dfpPFAcceptedStatus='yes';}else{dfpPFAcceptedStatus='no';}\n\t}\n//console.log('dfpAdAcceptedStatus', dfpAdAcceptedStatus);\n//console.log('dfpBBAcceptedStatus', dfpBBAcceptedStatus);\n//console.log('dfpPFAcceptedStatus', dfpPFAcceptedStatus);\n\n\nvar dfpScreenWidth = screen.width;\nvar dfpScreenHeight = screen.height;\nvar dfpResolution = 'W'+dfpScreenWidth+'xH'+dfpScreenHeight;\n\npopresolutionsArray = ['W1024xH600','W600xH1024','W1024xH768','W768xH1024','W1280xH1024','W1024xH1280','W1280xH600','W600xH1280','W1280xH720','W720xH1280','W1280xH768','W768xH1280','W1280xH800','W800xH1280','W1280xH950','W950xH1280','W1280xH960','W960xH1280','W1334xH750','W750xH1334','W1360xH768','W768xH1360','W1366xH1024','W1024xH1366','W1366xH768','W768xH1366','W1400xH1050','W1050xH1400','W1440xH900','W900xH1440','W1536xH864','W864xH1536','W1600xH900','W900xH1600','W1680xH1050','W1050xH1680','W1920xH1080','W1080xH1920','W1920xH1200','W1200xH1920','W2048xH1536','W1536xH2048','W2560xH1440','W1440xH2560','W320xH240','W240xH320','W480xH320','W320xH480','W533xH320','W320xH533','W568xH320','W320xH568','W640xH360','W360xH640','W640xH384','W384xH640','W731xH411','W411xH731','W732xH412','W412xH732','W736xH414','W414xH736','W800xH600','W600xH800','W812xH375','W375xH812','W854xH480','W480xH854','W960xH600','W600xH960','W1112xH834','W834xH1112'];\nif(popresolutionsArray.includes(dfpResolution)==false){\ndfpResolution = 'other';\n}\n\n\n\n\nif (dfpAdAcceptedStatus=='yes') {\nconsole.log('show dfp ads');\n \n(function() {\n    var dfpLoad = document.createElement(\"script\"), dfpEL = document.getElementsByTagName(\"script\")[0]; dfpLoad.async = true;\n    dfpLoad.src = \"https://securepubads.g.doubleclick.net/tag/js/gpt.js\";\n    dfpEL.parentNode.insertBefore(dfpLoad, dfpEL);\n})();\n\n  var dfpNetworkId = '99911224';\n  var dfpDataLayer = turner_metadata;\n  var dfpBrand = 'pogo'; \n  var dfpCountryCode = 'tv';\n  var dfpHL='en';\n  var dfpSite  = dfpBrand+'_'+dfpCountryCode;\n  var dfpSect; var dfpSub='main'; var dfpAdunit; var dfpType;\n  var dfpShow = 'none';\n  var dfpContentTitle= 'none';\n  var dfpContentId = 'none';\n  \n  var dfpPath=window.location.pathname.replace('/','').replace('.html','').split('/'); \n \n  if(dfpPath[0]==''||dfpPath[0]=='index'){dfpSect='home';dfpAdunit= '/'+dfpNetworkId+'/'+dfpSite+'/'+dfpSect;dfpType='main';}\n  else{\n      if(dfpPath[0]=='games'||dfpPath[0]=='videos'){\n      dfpSect=dfpPath[0];\n        if(dfpPath.length>1){dfpSub='detail';dfpType='detail';dfpCat='not-available';dfpContentId='not-available';dfpShow='not-available';dfpContentTitle=dfpPath[1];}else{dfpSub='main';dfpType='main'}\n\t\tdfpAdunit= '/'+dfpNetworkId+'/'+dfpSite+'/'+dfpSect+'/'+dfpSub;\n        }\n      else if(dfpPath[0]=='shows'||dfpPath[0]=='show'){\n        dfpSect='shows';\n\t\tif(dfpPath.length>1){\n        dfpSub='detail';dfpType='detail';dfpShow = dfpPath[1]; \n\t\tdfpAdunit= '/'+dfpNetworkId+'/'+dfpSite+'/'+dfpSect+'/'+dfpShow;\n\t\t}\n\t\telse{\n        dfpSub='main';dfpType='main';dfpShow = 'none'; \n\t\tdfpAdunit= '/'+dfpNetworkId+'/'+dfpSite+'/'+dfpSect+'/main';\n\t\t}\n\n\t\t\n      }\n      else if(dfpPath[0]=='tvschedule'){\n      dfpSect=dfpPath[0];dfpSub='main';dfpType='main';\n\t  dfpAdunit= '/'+dfpNetworkId+'/'+dfpSite+'/'+dfpSect;\n        }\n      else{\n      dfpSect='other';\n      dfpType='main';  \n         if(dfpPath.length>0){dfpSub=dfpPath[0];}\n\tdfpAdunit= '/'+dfpNetworkId+'/'+dfpSite+'/'+dfpSect+'/'+dfpSub;\n           }\n    \n    }\n \tvar dfpPage;\n\tif(dfpSect=='home'){dfpPage = dfpSite+',home'; } else{dfpPage = dfpSite+','+dfpPath; }\n\n  console.log('dfpAdunit:', dfpAdunit);\n  \n\n//define adtest KV\n  var dfpAdTest = 'none';\n  if(window.location.href.split('?adtest=').length>1){\n   dfpAdTest = window.location.href.split('?adtest=')[1];\n }\n \n\n//find ad divs\nvar dfpAdDivArrayInitial = [];\nvar adDivs = document.querySelectorAll('div[id^=ad_]:not(div[id=ad_inner])');\nfor (dfpI=0; dfpI<adDivs.length; dfpI++){\n  var divI = adDivs[dfpI].id;\n  dfpAdDivArrayInitial.push(divI);\n}\nconsole.log('dfp dfpAdDivArrayInitial: ', dfpAdDivArrayInitial);\n\n\n//define mappings\n\nwindow.googletag = window.googletag || {};\nwindow.googletag.cmd = window.googletag.cmd || [];\n\nwindow.googletag.cmd.push(function() {\n  googletag.destroySlots();\n});\n\nwindow.googletag = window.googletag || {};\nwindow.googletag.cmd = window.googletag.cmd || [];\n\nwindow.slots = [];\n\nwindow.googletag = window.googletag || {cmd: []};\n  \ngoogletag.cmd.push(function() {\n  \n  bnr_atf_mapping = googletag.sizeMapping().\n  addSize([1140, 0], [[970, 90],[728,90]]).\n  addSize([730, 0], [728, 90]).\n  addSize([300, 0], [320, 50]).\n  build();\n\n  bnr_btf_mapping = googletag.sizeMapping().\n  addSize([980, 0], [[970, 250], [970, 90] , [728, 90]]).\n  addSize([730, 0], [728, 90]).\n  addSize([300, 0], [320, 50]).\n  build();\n  \n  oop_float_mapping= googletag.sizeMapping().\n  addSize([1, 0], [1, 1]).\n  build();\n  \n  rect_atf_mapping = googletag.sizeMapping().\n  addSize([300, 0], [300, 250]).\n  build();\n\n  rect_btf_mapping = googletag.sizeMapping().\n  addSize([300, 0], [300, 250]).\n  build();\n\n  //define ads short code\n\n  oop_float_sizelist = [1,1];\n  bnr_atf_sizelist = [[970,90],[728,90],[320,50]];\n  bnr_btf_sizelist = [[970,90],[728,90],[320,50]];\n  rect_atf_sizelist = [300,250];\n  rect_btf_sizelist = [300,250];\n  \n  for (dfpN=0; dfpN<dfpAdDivArrayInitial.length; dfpN++){\n  var divN = dfpAdDivArrayInitial[dfpN].replace('ad_','');\n  var divNsizeMapping = eval(divN.replace(divN.split('_')[divN.split('_').length-1],'mapping'));\n  var divNsizeList = eval(divN.replace(divN.split('_')[divN.split('_').length-1],'sizelist'));\n    googletag.defineSlot(dfpAdunit,divNsizeList,'ad_'+divN).setTargeting('pos',divN).setTargeting('loadtype','normal').defineSizeMapping(divNsizeMapping).addService(googletag.pubads());\n  }\n\n\tgoogletag.pubads().setTargeting('adtest', dfpAdTest);\n  googletag.pubads().setTargeting('amp', 'false');\n  googletag.pubads().setTargeting('app', 'false');\n  googletag.pubads().setTargeting('appname', 'none');\n  googletag.pubads().setTargeting('cat', 'none');\n\tgoogletag.pubads().setTargeting('cms', 'adobelaunch');\n\tgoogletag.pubads().setTargeting('contentid', dfpContentId);\n\tgoogletag.pubads().setTargeting('contenttitle', dfpContentTitle);\n\tgoogletag.pubads().setTargeting('hl', dfpHL);\n\tgoogletag.pubads().setTargeting('page', dfpPage);\n\tgoogletag.pubads().setTargeting('screensize',dfpResolution);\n\tgoogletag.pubads().setTargeting('sect', dfpSect);\n\tgoogletag.pubads().setTargeting('show', dfpShow);\n\tgoogletag.pubads().setTargeting('site', dfpSite);\n\tgoogletag.pubads().setTargeting('sub', dfpSub);  \n\tgoogletag.pubads().setTargeting('test', dfpEnv);\n\tgoogletag.pubads().setTargeting('theme', 'kids');\n\tgoogletag.pubads().setTargeting('type', dfpType);\n\t//googletag.pubads().setTargeting('transactionid', );\n\tgoogletag.pubads().setTargeting('transactionIDStatus', 'false');\n\n    googletag.pubads().setTargeting('advertisingcookie', dfpAdAcceptedStatus);\n    googletag.pubads().setTargeting('functionalcookie', dfpBBAcceptedStatus);\n    googletag.pubads().setTargeting('performancecookie', dfpPFAcceptedStatus);\n    googletag.pubads().setTagForChildDirectedTreatment(1); // 1 for kids, 0 for non-kids\n    googletag.pubads().setRequestNonPersonalizedAds(1); // 1 for kids, 0 for non-kids\n\t//googletag.pubads().enableSingleRequest();//comment out for testing\n\t\n  googletag.pubads().enableLazyLoad({\n    fetchMarginPercent: 0, // Fetch slots within 1 viewports.\n    renderMarginPercent: 0, // Render slots within 1 viewports.\n    mobileScaling: 1.0 // the above values on mobile.\n  });\n\n  googletag.enableServices();\n});\n\n  \n   \n //load ads short code\n\ngoogletag.cmd.push(function() {\nfor(dfpC=0;dfpC<dfpAdDivArrayInitial.length;dfpC++)\n{\n var addiv = dfpAdDivArrayInitial[dfpC];\n    googletag.display(addiv);\n\t}\n});\n\n\n  //lazy loading new code\n\nvar dfpIterations=Number(0);\nvar dfpMaxIterations = Number(100); //always\nvar dfpLazyAds = Number(0);  //always\nvar dfpMaxLazyAds = Number(8);  //site specific\n\nfunction checkfornewads(){\n//console.log(dfpIterations, dfpMaxIterations, dfpLazyAds, dfpMaxLazyAds);\n\nif(dfpIterations<dfpMaxIterations &&dfpLazyAds<dfpMaxLazyAds){\n  var adDivArrayCurrent = document.querySelectorAll('div[id^=ad_]:not(div[id=ad_inner])');\n  var adDivArrayNew=[];\n  for(z=0;z<adDivArrayCurrent.length;z++){\n  if(!dfpAdDivArrayInitial.includes(adDivArrayCurrent[z].id)){\n  adDivArrayNew.push(adDivArrayCurrent[z].id);\n  //console.log('adDivArrayNew :', adDivArrayNew);\n  }\n  }\n\t//console.log(adDivArrayNew);\n\tif (adDivArrayNew.length>0){\n    dfpLazyAds = Number(dfpLazyAds+1);  \n\tconsole.log('dfp new ad found:' , adDivArrayNew[0]);\n\tvar divM = adDivArrayNew[0].replace('ad_','');\n\tvar divMsizeMapping = divM.replace(divM.split('_')[divM.split('_').length-1],'mapping');\n    var divMsizeList = divM.replace(divM.split('_')[divM.split('_').length-1],'sizelist');\n\t//console.log('dfp divM:', divM, divMsizeMapping, divMsizeList);\n\t    googletag.cmd.push(function() {\n          googletag.defineSlot(dfpAdunit, eval(divMsizeList), 'ad_'+divM).setTargeting('pos', divM).setTargeting('loadtype', 'lazy').defineSizeMapping(eval(divMsizeMapping)).addService(googletag.pubads());\n           googletag.cmd.push(function() { \n          googletag.display('ad_'+divM);\n          });\n    });\n\t\n\tdfpAdDivArrayInitial.push(adDivArrayNew[0]);\n\t//console.log('dfp dfpAdDivArrayInitial:', dfpAdDivArrayInitial);\n  }\n  dfpIterations=Number(dfpIterations+1);\n } \n else{\n if(dfpIterations>=dfpMaxIterations){ console.log('iterations exceeded: dfp stop lazy loading')}\n if(dfpLazyAds>=dfpMaxLazyAds){console.log('lazy load ads exceeded: dfp stop lazy loading')}\n clearInterval(adcheck);\n }\n}\nvar adcheck = setInterval(checkfornewads,1500); \n\n//end lazy loading\n\n\n\n \n}else {\n    console.log('dont call dfp ads');\n}",language:"javascript"},timeout:2e3,delayNext:!0}]}]};var _satellite=function(){"use strict";function s(e){if(null===e||e===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function e(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}function t(a){if(a.__esModule)return a;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(a).forEach(function(e){var t=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(n,e,t.get?t:{enumerable:!0,get:function(){return a[e]}})}),n}function a(e){var t={exports:{}};return e(t,t.exports),t.exports}function n(t){var a=this.constructor;return this.then(function(e){return a.resolve(t()).then(function(){return e})},function(e){return a.resolve(t()).then(function(){return a.reject(e)})})}function d(e){return Boolean(e&&"undefined"!=typeof e.length)}function i(){}function r(e,t){return function(){e.apply(t,arguments)}}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],g(e,this)}function c(n,i){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,o._immediateFn(function(){var e=1===n._state?i.onFulfilled:i.onRejected;if(null!==e){var t;try{t=e(n._value)}catch(a){return void u(i.promise,a)}l(i.promise,t)}else(1===n._state?l:u)(i.promise,n._value)})):n._deferreds.push(i)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var a=t.then;if(t instanceof o)return e._state=3,e._value=t,void p(e);if("function"==typeof a)return void g(r(a,t),e)}e._state=1,e._value=t,p(e)}catch(n){u(e,n)}}function u(e,t){e._state=2,e._value=t,p(e)}function p(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,a=e._deferreds.length;t<a;t++)c(e,e._deferreds[t]);e._deferreds=null}function h(e,t,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=a}function g(e,t){var a=!1;try{e(function(e){a||(a=!0,l(t,e))},function(e){a||(a=!0,u(t,e))})}catch(n){if(a)return;a=!0,u(t,n)}}function f(e){return!0===Ye(e)&&"[object Object]"===Object.prototype.toString.call(e)}function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function b(e){return e.substr(0,e.indexOf("["))}function v(e,t,a){if(e.length&&We(t)){var n=e[0];if(1!==e.length){var i=e.slice(1);if(!m(n))return v(i,t[n],a);var r=t[n=b(n)];Array.isArray(r)&&r.forEach(function(e){return v(i,e,a)})}else t.hasOwnProperty(n)&&"string"==typeof t[n]&&(t[n]=a(t[n]))}}if(window.atob){var y=document,A=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,T=e()?Object.assign:function(e){for(var t,a,n=s(e),i=1;i<arguments.length;i++){for(var r in t=Object(arguments[i]))I.call(t,r)&&(n[r]=t[r]);if(A){a=A(t);for(var o=0;o<a.length;o++)S.call(t,a[o])&&(n[a[o]]=t[a[o]])}}return n},k=window,w=function(e,t,a){var n,i=Array.isArray(t),r=Boolean(i&&e),o=document.createElement("a");if(o.href=e,(!/^https?:\/\/.*/.test(e)||!o.host)&&i){var s=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw s.code="dynamic_host_resolver_constructor_error",s}if(i&&-1===t.indexOf(o.hostname)){var c=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw c.code="dynamic_host_not_allowed",c}var d=function(){if(null!=n)return n;if(r){var e=o.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),n="https://"+e}else n="";return n},l=function(e){return r&&"string"==typeof e?[d(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},u={getTurbineHost:d,decorateWithDynamicHost:l,get isDynamicEnforced(){return i}};return k&&a.onDebugChanged(function(e){e?k.dynamicHostResolver=u:delete k.dynamicHostResolver}),u},E=function(e){var a=[];return e.forEach(function(t){t.events&&t.events.forEach(function(e){a.push({rule:t,event:e})})}),a.sort(function(e,t){return e.event.ruleOrder-t.event.ruleOrder})},C="debug",D=function(t,e){var a=function(){return"true"===t.getItem(C)},n=function(e){t.setItem(C,e)},i=[],r=function(e){i.push(e)};return e.outputEnabled=a(),{onDebugChanged:r,getDebugEnabled:a,setDebugEnabled:function(t){a()!==t&&(n(t),e.outputEnabled=t,i.forEach(function(e){e(t)}))}}},M="Module did not export a function.",P=function(s,c,d){return function(e,t,a){a=a||[];var n=s.getModuleExports(e.modulePath);if("function"!=typeof n)throw new Error(M);var i=s.getModuleDefinition(e.modulePath),r=e.settings||{};!e.hasTransformedFilePaths&&i.filePaths&&(d(r,i.filePaths,e.modulePath),e.hasTransformedFilePaths=!0);var o=c(r,t);return n.bind(null,o).apply(null,a)}},O=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},N={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},R="\ud83d\ude80",B=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":R,L=!1,x=function(e){if(L&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(B),e!==N.DEBUG||window.console[e]||(e=N.INFO),window.console[e].apply(window.console,t)}},V=x.bind(null,N.LOG),j=x.bind(null,N.INFO),F=x.bind(null,N.DEBUG),H=x.bind(null,N.WARN),U=x.bind(null,N.ERROR),K={log:V,info:j,debug:F,warn:H,error:U,deprecation:function(){var e=L;L=!0,x.apply(null,Array.prototype.concat(N.WARN,Array.prototype.slice.call(arguments))),e||(L=!1)},get outputEnabled(){return L},set outputEnabled(e){L=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:V.bind(null,t),info:j.bind(null,t),debug:F.bind(null,t),warn:H.bind(null,t),error:U.bind(null,t)}}},q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Y=a(function(n){!function(e){if(n.exports=e(),!!0){var t=window.Cookies,a=window.Cookies=e();a.noConflict=function(){return window.Cookies=t,a}}}(function(){function c(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e];for(var n in a)t[n]=a[n]}return t}function l(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function e(d){function s(){}function a(e,t,a){if("undefined"!=typeof document){"number"==typeof(a=c({path:"/"},s.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var n=JSON.stringify(t);/^[\{\[]/.test(n)&&(t=n)}catch(o){}t=d.write?d.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var i="";for(var r in a)a[r]&&(i+="; "+r,!0!==a[r]&&(i+="="+a[r].split(";")[0]));return document.cookie=e+"="+t+i}}function t(e,t){if("undefined"!=typeof document){for(var a={},n=document.cookie?document.cookie.split("; "):[],i=0;i<n.length;i++){var r=n[i].split("="),o=r.slice(1).join("=");t||'"'!==o.charAt(0)||(o=o.slice(1,-1));try{var s=l(r[0]);if(o=(d.read||d)(o,s)||l(o),t)try{o=JSON.parse(o)}catch(c){}if(a[s]=o,e===s)break}catch(c){}}return e?a[e]:a}}return s.set=a,s.get=function(e){return t(e,!1)},s.getJSON=function(e){return t(e,!0)},s.remove=function(e,t){a(e,"",c(t,{expires:-1}))},s.defaults={},s.withConverter=e,s}return e(function(){})})}),W={get:Y.get,set:Y.set,remove:Y.remove},G="com.adobe.reactor.",z=function(n,e){var i=G+(e||"");return{getItem:function(e){try{return k[n].getItem(i+e)}catch(t){return null}},setItem:function(e,t){try{return k[n].setItem(i+e,t),!0}catch(a){return!1}}}},Q="_sdsat_",J="dataElements.",$="dataElementCookiesMigrated",X=z("localStorage"),Z=z("sessionStorage",J),ee=z("localStorage",J),te={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},ae={},ne=function(e){var t;try{t=JSON.stringify(e)}catch(a){}return t},ie=function(e,t,a){var n;switch(t){case te.PAGEVIEW:return void(ae[e]=a);case te.SESSION:return void((n=ne(a))&&Z.setItem(e,n));case te.VISITOR:return void((n=ne(a))&&ee.setItem(e,n))}},re=function(e,t){var a=W.get(Q+e);a!==undefined&&ie(e,t,a)},oe={setValue:ie,getValue:function(e,t){var a;switch(t){case te.PAGEVIEW:return ae.hasOwnProperty(e)?ae[e]:null;case te.SESSION:return null===(a=Z.getItem(e))?a:JSON.parse(a);case te.VISITOR:return null===(a=ee.getItem(e))?a:JSON.parse(a)}},migrateCookieData:function(t){X.getItem($)||(Object.keys(t).forEach(function(e){re(e,t[e].storageDuration)}),X.setItem($,!0))}},se=function(e,t,a,n){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+a+(n?"\n"+n:"")},ce=function(d,l,u,p,h){return function(e,t){var a=l(e);if(!a)return p?"":undefined;var n,i,r=a.storageDuration;try{n=d.getModuleExports(a.modulePath),i=d.getModuleDefinition(a.modulePath)}catch(c){return void K.error(se(a,e,c.message,c.stack))}if("function"==typeof n){var o,s=a.settings||{};!a.hasTransformedFilePaths&&i.filePaths&&(h(s,i.filePaths,a.modulePath),a.hasTransformedFilePaths=!0);try{o=n(u(s,t),t)}catch(c){return void K.error(se(a,e,c.message,c.stack))}return r&&(null!=o?oe.setValue(e,r,o):o=oe.getValue(e,r)),null==o&&null!=a.defaultValue&&(o=a.defaultValue),"string"==typeof o&&(a.cleanText&&(o=O(o)),a.forceLowerCase&&(o=o.toLowerCase())),o}K.error(se(a,e,"Module did not export a function."))}},de={text:function(e){return e.textContent},cleanText:function(e){return O(e.textContent)}},le=function(e,t,a){for(var n,i=e,r=0,o=t.length;r<o;r++){if(null==i)return undefined;var s=t[r];if(a&&"@"===s.charAt(0)){var c=s.slice(1);i=de[c](i)}else if(i.getAttribute&&(n=s.match(/^getAttribute\((.+)\)$/))){var d=n[1];i=i.getAttribute(d)}else i=i[s]}return i},ue=function(r,o,s){return function(e,t){var a;if(o(e))a=s(e,t);else{var n=e.split("."),i=n.shift();"this"===i?t&&(a=le(t.element,n,!0)):"event"===i?t&&(a=le(t,n)):"target"===i?t&&(a=le(t.target,n)):a=le(r[i],n)}return a}},pe=function(a,n){return function(e){var t=e.split(".")[0];return Boolean(n(e)||"this"===t||"event"===t||"target"===t||a.hasOwnProperty(t))}},he=function(e,t,a){var n={exports:{}};return e.call(n.exports,n,n.exports,t,a),n.exports},ge=function(){var o={},a=function(e){var t=o[e];if(!t)throw new Error("Module "+e+" not found.");return t},e=function(){Object.keys(o).forEach(function(e){try{n(e)}catch(a){var t="Error initializing module "+e+". "+a.message+(a.stack?"\n"+a.stack:"");K.error(t)}})},n=function(e){var t=a(e);return t.hasOwnProperty("exports")||(t.exports=he(t.definition.script,t.require,t.turbine)),t.exports};return{registerModule:function(e,t,a,n,i){var r={definition:t,extensionName:a,require:n,turbine:i};r.require=n,o[e]=r},hydrateCache:e,getModuleExports:n,getModuleDefinition:function(e){return a(e).definition},getModuleExtensionName:function(e){return a(e).extensionName}}},fe=!1,_e=function(n){return function(t,a){var e=n._monitors;e&&(fe||(K.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),fe=!0),e.forEach(function(e){e[t]&&e[t](a)}))}},me=function(i,r,o){var a,n,s,c,d=[],l=function(e,t,a){if(!i(t))return e;d.push(t);var n=r(t,a);return d.pop(),null==n&&o?"":n};return a=function(e,a){var t=/^%([^%]+)%$/.exec(e);return t?l(e,t[1],a):e.replace(/%(.+?)%/g,function(e,t){return l(e,t,a)})},n=function(e,t){for(var a={},n=Object.keys(e),i=0;i<n.length;i++){var r=n[i],o=e[r];a[r]=c(o,t)}return a},s=function(e,t){for(var a=[],n=0,i=e.length;n<i;n++)a.push(c(e[n],t));return a},c=function(e,t){return"string"==typeof e?a(e,t):Array.isArray(e)?s(e,t):"object"==typeof e&&null!==e?n(e,t):e},function(e,t){return 10<d.length?(K.error("Data element circular reference detected: "+d.join(" -> ")),e):c(e,t)}},be=function(i){return function(e,t){if("string"==typeof e)i[arguments[0]]=t;else if(arguments[0]){var a=arguments[0];for(var n in a)i[n]=a[n]}}},ve=setTimeout;o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var a=new this.constructor(i);return c(this,new h(e,t,a)),a},o.prototype["finally"]=n,o.all=function(t){return new o(function(i,r){function o(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var a=e.then;if("function"==typeof a)return void a.call(e,function(e){o(t,e)},r)}s[t]=e,0==--c&&i(s)}catch(n){r(n)}}if(!d(t))return r(new TypeError("Promise.all accepts an array"));var s=Array.prototype.slice.call(t);if(0===s.length)return i([]);for(var c=s.length,e=0;e<s.length;e++)o(e,s[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(a){return new o(function(e,t){t(a)})},o.race=function(i){return new o(function(e,t){if(!d(i))return t(new TypeError("Promise.race accepts an array"));for(var a=0,n=i.length;a<n;a++)o.resolve(i[a]).then(e,t)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){ve(e,0)},o._unhandledRejectionFn=function Ht(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var ye=t(Object.freeze({__proto__:null,"default":o})),Ae="undefined"!=typeof window&&window.Promise||void 0!==q&&q.Promise||ye["default"]||ye,Ie=function(d,a,n){return function(s,t,c,e){return e.then(function(){var r,o=s.delayNext;return new Ae(function(e,t){var a=d(s,c,[c]);if(!o)return e();var n=s.timeout,i=new Ae(function(e,t){r=setTimeout(function(){t(new Error("A timeout occurred because the action took longer than "+n/1e3+" seconds to complete. "))},n)});Ae.race([a,i]).then(e,t)})["catch"](function(e){return clearTimeout(r),e=a(e),n(s,t,e),Ae.reject(e)}).then(function(){clearTimeout(r)})})}},Se=function(c,a,n,i,d){return function(o,t,s,e){return e.then(function(){var r;return new Ae(function(e,t){var a=c(o,s,[s]),n=o.timeout,i=new Ae(function(e,t){r=setTimeout(function(){t(new Error("A timeout occurred because the condition took longer than "+n/1e3+" seconds to complete. "))},n)});Ae.race([a,i]).then(e,t)})["catch"](function(e){return clearTimeout(r),e=a(e),i(o,t,e),Ae.reject(e)}).then(function(e){if(clearTimeout(r),!n(o,e))return d(o,t),Ae.reject()})})}},Te=Ae.resolve(),ke=function(n,i,e){return function(t,a){return t.conditions&&t.conditions.forEach(function(e){Te=n(e,t,a,Te)}),t.actions&&t.actions.forEach(function(e){Te=i(e,t,a,Te)}),Te=(Te=Te.then(function(){e(t)}))["catch"](function(){})}},we=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},Ee=function(o,s,c,d){return function(e,t){var a;if(e.conditions)for(var n=0;n<e.conditions.length;n++){a=e.conditions[n];try{var i=o(a,t,[t]);if(we(i))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!s(a,i))return c(a,e),!1}catch(r){return d(a,e,r),!1}}return!0}},Ce=function(a,n){return function(e,t){a(e,t)&&n(e,t)}},De=function(a){return function(e){var t=a.getModuleDefinition(e.modulePath);return t&&t.displayName||e.modulePath}},Me=function(i){return function(e){var t=e.rule,a=e.event,n=i.getModuleDefinition(a.modulePath).name;return{$type:i.getModuleExtensionName(a.modulePath)+"."+n,$rule:{id:t.id,name:t.name}}}},Pe=function(s,c,d,l,u,p){return function(a,e){var n=e.rule,t=e.event;t.settings=t.settings||{};try{var i=u(e);c(t,null,[function r(e){var t=d(i,e);a(function(){s(t,n)})}])}catch(o){p.error(l(t,n,o))}}},Oe=function(i,r,o,s){return function(e,t,a){var n=r(e);o.error(i(n,t.name,a)),s("ruleActionFailed",{rule:t,action:e})}},Ne=function(i,r,o,s){return function(e,t,a){var n=r(e);o.error(i(n,t.name,a)),s("ruleConditionFailed",{rule:t,condition:e})}},Re=function(n,i,r){return function(e,t){var a=n(e);i.log('Condition "'+a+'" for rule "'+t.name+'" was not met.'),r("ruleConditionFailed",{rule:t,condition:e})}},Be=function(t,a){return function(e){t.log('Rule "'+e.name+'" fired.'),a("ruleCompleted",{rule:e})}},Le=function(r,o,s){return function(e,t){var a;if(e.actions)for(var n=0;n<e.actions.length;n++){a=e.actions[n];try{r(a,t,[t])}catch(i){return void o(a,e,i)}}s(e)}},xe=function(a,n,i,r){return function(e,t){r("ruleTriggered",{rule:t}),a?i(t,e):n(t,e)}},Ve=function(e,t,a){return'Failed to execute "'+e+'" for "'+t+'" rule. '+a.message+(a.stack?"\n"+a.stack:"")},je=function(e,t){return t&&!e.negate||!t&&e.negate},Fe=[],He=!1,Ue=function(e){He?e():Fe.push(e)},Ke=function(e,t,a){e(t).forEach(function(e){a(Ue,e)}),He=!0,Fe.forEach(function(e){e()}),Fe=[]},qe=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Ye=function Ut(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},We=function We(e){var t,a;return!1!==f(e)&&("function"==typeof(t=e.constructor)&&(!1!==f(a=t.prototype)&&!1!==a.hasOwnProperty("isPrototypeOf")))},Ge=function(e,t){return We(t=t||{})?t=T({},t,e):T(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return K.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},ze=function(c,d){return function(e,t){var a=c[e];if(a){var n=a.modules;if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var o=i[r],s=n[o];if(s.shared&&s.name===t)return d.getModuleExports(o)}}}},Qe=function(e,t){return function(){return t?e(t):{}}},Je=function(a,n,i){return function(e){if(i){var t=e.split(".");t.splice(t.length-1||1,0,"min"),e=t.join(".")}return a(n)+e}},$e=".js",Xe=function(e){return e.substr(0,e.lastIndexOf("/"))},Ze=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},et=function(e,t){Ze(t,$e)||(t+=$e);var a=t.split("/"),n=Xe(e).split("/");return a.forEach(function(e){e&&"."!==e&&(".."===e?n.length&&n.pop():n.push(e))}),n.join("/")},tt=function(a,n){return new Ae(function(e,t){n.onload=function(){e(n)},n.onerror=function(){t(new Error("Failed to load script "+a))}})},at=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var a=tt(e,t);return document.getElementsByTagName("head")[0].appendChild(t),a},nt=function(e,t,a,n){t=t||"&",a=a||"=";var i={};if("string"!=typeof e||0===e.length)return i;var r=/\+/g;e=e.split(t);var o=1e3;n&&"number"==typeof n.maxKeys&&(o=n.maxKeys);var s=e.length;0<o&&o<s&&(s=o);for(var c=0;c<s;++c){var d,l,u,p,h=e[c].replace(r,"%20"),g=h.indexOf(a);0<=g?(d=h.substr(0,g),l=h.substr(g+1)):(d=h,l=""),u=decodeURIComponent(d),p=decodeURIComponent(l),_(i,u)?Array.isArray(i[u])?i[u].push(p):i[u]=[i[u],p]:i[u]=p}return i},it=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},rt=function(a,n,i,e){return n=n||"&",i=i||"=",null===a&&(a=undefined),"object"==typeof a?Object.keys(a).map(function(e){var t=encodeURIComponent(it(e))+i;return Array.isArray(a[e])?a[e].map(function(e){return t+encodeURIComponent(it(e))}).join(n):t+encodeURIComponent(it(a[e]))}).join(n):e?encodeURIComponent(it(e))+i+encodeURIComponent(it(a)):""},ot=a(function(e,t){t.decode=t.parse=nt,t.encode=t.stringify=rt}),st="@adobe/reactor-",ct={cookie:W,document:y,"load-script":at,"object-assign":T,promise:Ae,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),ot.parse(e)},stringify:function(e){return ot.stringify(e)}},window:k},dt=function(n){return function(e){if(0===e.indexOf(st)){var t=e.substr(st.length),a=ct[t];if(a)return a}if(0===e.indexOf("./")||0===e.indexOf("../"))return n(e);throw new Error('Cannot resolve module "'+e+'".')}},lt=function(s,c,d,l,u,p,h){var g=s.extensions,f=s.buildInfo,_=s.environment,m=s.property.settings;if(g){var b=ze(g,c);Object.keys(g).forEach(function(n){var i=g[n],e=i.settings;Array.isArray(i.filePaths)&&(e=p(e,i.filePaths));var t=Qe(l,e);if(i.modules){var a=K.createPrefixedLogger(i.displayName),r=Je(h,i.hostedLibFilesBaseUrl,f.minified),o={buildInfo:f,environment:_,property:{name:s.property.name,
id:s.property.id},getDataElementValue:u,getExtensionSettings:t,getHostedLibFileUrl:r,getSharedModule:b,logger:a,propertySettings:m,replaceTokens:l,onDebugChanged:d.onDebugChanged,get debugEnabled(){return d.getDebugEnabled()}};Object.keys(i.modules).forEach(function(a){var e=i.modules[a],t=dt(function(e){var t=et(a,e);return c.getModuleExports(t)});c.registerModule(a,e,n,t,o)})}}),c.hydrateCache()}return c},ut=function(e,t,a,n,i){var r=K.createPrefixedLogger("Custom Script");e.track=function(e){K.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=r,e.notify=function(e,t){switch(K.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:r.info(e);break;case 4:r.warn(e);break;case 5:r.error(e);break;default:r.log(e)}},e.getVar=n,e.setVar=i,e.setCookie=function(e,t,a){var n="",i={};a&&(n=", { expires: "+a+" }",i.expires=a);var r='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+n+").";K.deprecation(r),W.set(e,t,i)},e.readCookie=function(e){return K.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),W.get(e)},e.removeCookie=function(e){K.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),W.remove(e)},e.cookie=W,e.pageBottom=function(){},e.setDebug=a;var o=!1;Object.defineProperty(e,"_container",{get:function(){return o||(K.warn("_satellite._container may change at any time and should only be used for debugging."),o=!0),t}})},pt=function(e){for(var t=y.querySelectorAll("script"),a=0;a<t.length;a++){var n=t[a];if(e.test(n.src))return n}},ht=function(n,i){return function(t,e,a){return n&&We(t)&&Object.keys(t).length&&Array.isArray(e)&&e.length&&e.forEach(function(e){Boolean(null!=a&&/^core\/.*actions.*\/customCode\.js$/.test(a))&&"source"===e&&!t.isExternal||v(e.split("."),t,i)}),t}},gt={getTurbine:function(){return pt(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))},byRegexPattern:pt}.getTurbine,ft=window._satellite;if(ft&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var _t=ft.container;delete ft.container;var mt=T({},_t.buildInfo);Object.defineProperty(mt,"environment",{get:function(){return K.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),_t.environment.stage}}),_t.buildInfo=mt;var bt,vt=D(z("localStorage"),K),yt="";y.currentScript&&y.currentScript.getAttribute("src")?yt=y.currentScript.getAttribute("src"):gt()&&(yt=gt().getAttribute("src"));try{bt=w(yt,_t.company.cdnAllowList,vt)}catch(Kt){throw K.warn("Please review the following error:"),Kt}var At,It=ht(bt.isDynamicEnforced,bt.decorateWithDynamicHost),St=ge(),Tt=_t.property.settings.undefinedVarsReturnEmpty,kt=_t.property.settings.ruleComponentSequencingEnabled,wt=_t.dataElements||{};oe.migrateCookieData(wt);var Et=function(e){return wt[e]},Ct=ce(St,Et,function(){return At.apply(null,arguments)},Tt,It),Dt={},Mt=be(Dt),Pt=pe(Dt,Et),Ot=ue(Dt,Et,Ct);At=me(Pt,Ot,Tt),ut(ft,_t,vt.setDebugEnabled,Ot,Mt),lt(_t,St,vt,At,Ct,It,bt.decorateWithDynamicHost);var Nt=_e(ft),Rt=P(St,At,It),Bt=De(St),Lt=Re(Bt,K,Nt),xt=Ne(Ve,Bt,K,Nt),Vt=Oe(Ve,Bt,K,Nt),jt=Be(K,Nt),Ft=Pe(xe(kt,Ce(Ee(Rt,je,Lt,xt),Le(Rt,Vt,jt)),ke(Se(Rt,qe,je,xt,Lt),Ie(Rt,qe,Vt),jt),Nt),Rt,Ge,Ve,Me(St),K);Ke(E,_t.rules||[],Ft)}return ft}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();