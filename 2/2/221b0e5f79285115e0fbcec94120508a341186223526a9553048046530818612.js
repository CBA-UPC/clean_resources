"use strict";(window.webpackChunkNRBA=window.webpackChunkNRBA||[]).push([[736],{4073:(t,e,n)=>{n.d(e,{R:()=>i,z:()=>a});var r=[];function a(t){if(0===r.length)return!0;if(void 0===t.hostname)return!1;for(var e=0;e<r.length;e++){var n=r[e];if("*"===n.hostname)return!1;if(s(n.hostname,t.hostname)&&o(n.pathname,t.pathname))return!1}return!0}function i(t){if(r=[],t&&t.length)for(var e=0;e<t.length;e++){var n=t[e];0===n.indexOf("http://")?n=n.substring(7):0===n.indexOf("https://")&&(n=n.substring(8));var a=n.indexOf("/");a>0?r.push({hostname:n.substring(0,a),pathname:n.substring(a)}):r.push({hostname:n,pathname:""})}}function s(t,e){return!(t.length>e.length)&&e.indexOf(t)===e.length-t.length}function o(t,e){return 0===t.indexOf("/")&&(t=t.substring(1)),0===e.indexOf("/")&&(e=e.substring(1)),""===t||t===e}},470:(t,e,n)=>{n.d(e,{AG:()=>o,FX:()=>u,n1:()=>d,uR:()=>h});var r=n(9599),a=n(5277),i=n(248),s=Object.prototype.hasOwnProperty;function o(t,e,n){return t||0===t||""===t?e(t)+(n?",":""):"!"}function h(t,e){return e?Math.floor(t).toString(36):void 0===t||0===t?"":Math.floor(t).toString(36)}function u(t){var e=Object.hasOwnProperty("create")?Object.create(null):{},n=0;return function(r){if(void 0===r||""===r)return"";var a=new i.RR({agentIdentifier:t});r=String(r),a.shouldObfuscate()&&(r=a.obfuscateString(r));return s.call(e,r)?h(e[r],!0):(e[r]=n++,function(t){return"'"+t.replace(c,"\\$1")}(r))}}function d(t,e){var n=[];return(0,r.D)(t,(function(t,r){if(!(n.length>=64)){var i,s=5;switch(t=e(t),typeof r){case"object":r?i=e((0,a.P)(r)):s=9;break;case"number":s=6,i=r%1?r:r+".";break;case"boolean":s=r?7:8;break;case"undefined":s=9;break;default:i=e(r)}n.push([s,t+(i?","+i:"")])}})),n}var c=/([,\\;])/g},2736:(t,e,n)=>{n.r(e),n.d(e,{Aggregate:()=>c});var r=n(4539),a=n(5277),i=n(470),s=n(3195),o=n(5970),h=n(5569),u=n(4073),d=n(8025);class c extends d.W{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];super(t,e,n);let d,c=[],l={},f=[];const p=this.ee,g=["jserrors"],v=(0,o.Mt)(t,"ajax.harvestTimeSeconds")||10,m=(0,o.Mt)(t,"ajax.maxPayloadSize")||1e6;function b(n,r,i,h,d){var f;if(r.time=i,f=n.cat?(0,a.P)([n.status,n.cat]):(0,a.P)([n.status,n.host,n.pathname]),(0,s.p)("bstXhrAgg",["xhr",f,n,r],void 0,void 0,p),e.store("xhr",f,n,r),j())if((0,u.z)(n)){var g=this,v={method:n.method,status:n.status,domain:n.host,path:n.pathname,requestSize:r.txSize,responseSize:r.rxSize,type:d,startTime:i,endTime:h,callbackDuration:r.cbTime};if(g.dt&&(v.spanId=g.dt.spanId,v.traceId=g.dt.traceId,v.spanTimestamp=g.dt.timestamp),this.spaNode){var m=this.spaNode.interaction.id;l[m]=l[m]||[],l[m].push(v)}else c.push(v)}else n.hostname===(0,o.C5)(t).errorBeacon?(0,s.p)("record-supportability",["Ajax/Events/Excluded/Agent"],void 0,void 0,p):(0,s.p)("record-supportability",["Ajax/Events/Excluded/App"],void 0,void 0,p)}function x(t){if(t=t||{},0===c.length)return null;for(var e=S(c,t.maxPayloadSize||m),n=[],r=0;r<e.length;r++)n.push({body:{e:e[r]}});return t.retry&&(f=c.slice()),c=[],n}function S(t,e,n){n=n||1;for(var r=[],a=function(t,e){e=e||t.length;for(var n=[],r=0,a=t.length;r<a;r+=e)n.push(new y(t.slice(r,r+e)));return n}(t,t.length/n),i=!1,s=0;s<a.length;s++){var o=a[s];if(o.tooBig(e)){if(1!==o.events.length){i=!0;break}}else r.push(o.payload)}return i?S(t,e,++n):r}function y(e){this.addString=(0,i.FX)(t),this.events=e,this.payload="bel.7;";for(var n=0;n<e.length;n++){var r=e[n],a=[(0,i.uR)(r.startTime),(0,i.uR)(r.endTime-r.startTime),(0,i.uR)(0),(0,i.uR)(0),this.addString(r.method),(0,i.uR)(r.status),this.addString(r.domain),this.addString(r.path),(0,i.uR)(r.requestSize),(0,i.uR)(r.responseSize),"fetch"===r.type?1:"",this.addString(0),(0,i.AG)(r.spanId,this.addString,!0)+(0,i.AG)(r.traceId,this.addString,!0)+(0,i.AG)(r.spanTimestamp,i.uR,!1)],s="2,",h=(0,i.n1)((0,o.C5)(t).jsAttributes||{},this.addString);a.unshift((0,i.uR)(h.length)),s+=a.join(","),h&&h.length>0&&(s+=";"+h.join(";")),n+1<e.length&&(s+=";"),this.payload+=s}this.tooBig=function(t){return t=t||m,2*this.payload.length>t}}function j(){return!1!==(0,o.Mt)(t,"ajax.enabled")}this.storeXhr=b,this.prepareHarvest=x,this.getStoredEvents=function(){return{ajaxEvents:c,spaAjaxEvents:l}},p.on("interactionSaved",(t=>{l[t.id]&&delete l[t.id]})),p.on("interactionDiscarded",(t=>{l[t.id]&&j()&&(l[t.id].forEach((function(t){c.push(t)})),delete l[t.id])})),j()&&(0,u.R)((0,o.Mt)(t,"ajax.deny_list")),(0,r.X)("xhr",b,void 0,this.ee),j()&&(d=new h.o("events",{onFinished:function(t){t.retry&&f.length>0&&j()&&(c=c.concat(f),f=[])},getPayload:x},this),n.forEach((t=>{g.forEach((n=>{t?.scheduler?.harvest?.on(n,(()=>({body:e.take(["xhr"])})))}))})),d.startTimer(v))}}}}]);