<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@verge"/><meta property="fb:app_id" content="549923288395304"/><meta property="og:site_name" content="The Verge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="apple-mobile-web-app-title" content="Verge"/><meta name="google-site-verification" content="IucFf_TKtbFFH8_YeFyEteQIwYPdANM1R46_U9DpAr4"/><link rel="alternate" type="application/rss+xml" title="The Verge" href="/rss/index.xml"/><title>I wore the Apple Vision Pro. It’s the best headset demo ever. - The Verge</title><meta name="robots" content="index,follow,max-image-preview:large"/><meta name="description" content="The new Apple Vision Pro is an incredibly impressive VR headset with terrific displays and great video passthrough. But the demos are familiar, and Apple hasn’t found a killer app."/><meta property="og:title" content="I wore the Apple Vision Pro. It’s the best headset demo ever."/><meta property="og:description" content="Apple’s new don’t-call-it-a-VR-headset is the best riff on some very familiar ideas, but still searching for a purpose."/><meta property="og:url" content="https://www.theverge.com/2023/6/5/23750003/apple-vision-pro-hands-on-the-best-headset-demo-ever"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2023-06-06T02:05:19.228Z"/><meta property="article:modified_time" content="2023-06-06T02:05:19.228Z"/><meta property="og:image" content="https://cdn.vox-cdn.com/thumbor/9fXxOcoJwyP5OAJsmpZ9R53xRDo=/0x0:5568x3712/1200x628/filters:focal(2784x1856:2785x1857)/cdn.vox-cdn.com/uploads/chorus_asset/file/24704605/DSC_0911.jpg"/><meta property="og:image:type" content="image/jpeg"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="628"/><link rel="canonical" href="https://www.theverge.com/2023/6/5/23750003/apple-vision-pro-hands-on-the-best-headset-demo-ever"/><meta property="author" content="Nilay Patel"/><script type="application/ld+json">{"@context":"http://schema.org/","@type":"NewsArticle","headline":"I wore the Apple Vision Pro. It’s the best headset demo ever.","description":"The new Apple Vision Pro is an incredibly impressive VR headset with terrific displays and great video passthrough. But the demos are familiar, and Apple hasn’t found a killer app.","datePublished":"2023-06-06T02:05:19.228Z","dateModified":"2023-06-06T02:05:19.228Z","thumbnailUrl":"https://cdn.vox-cdn.com/thumbor/yiAsG9EdBn66MKAgFS50BkO17tY=/0x0:4971x3314/1400x788/filters:focal(2486x1657:2487x1658)/cdn.vox-cdn.com/uploads/chorus_asset/file/24704607/DSC_0912.jpg","author":[{"@type":"Person","name":"Nilay Patel","url":"https://www.theverge.com/authors/nilay-patel"}],"publisher":{"@type":"Organization","name":"The Verge","logo":{"@type":"ImageObject","url":"https://cdn.vox-cdn.com/uploads/chorus_asset/file/24015294/verge_duet_google_news.png","width":250,"height":50}},"image":[{"@type":"ImageObject","url":"https://cdn.vox-cdn.com/thumbor/yiAsG9EdBn66MKAgFS50BkO17tY=/0x0:4971x3314/1400x788/filters:focal(2486x1657:2487x1658)/cdn.vox-cdn.com/uploads/chorus_asset/file/24704607/DSC_0912.jpg","width":1400,"height":788},{"@type":"ImageObject","url":"https://cdn.vox-cdn.com/thumbor/KnZWLGmGv3qslnrHZiTaV8ZV35k=/0x0:4971x3314/1400x1050/filters:focal(2486x1657:2487x1658)/cdn.vox-cdn.com/uploads/chorus_asset/file/24704607/DSC_0912.jpg","width":1400,"height":1050},{"@type":"ImageObject","url":"https://cdn.vox-cdn.com/thumbor/3hAhcHLiii9rTAzkIQU6LALUwDM=/0x0:4971x3314/1400x1400/filters:focal(2486x1657:2487x1658)/cdn.vox-cdn.com/uploads/chorus_asset/file/24704607/DSC_0912.jpg","width":1400,"height":1400}],"url":"https://www.theverge.com/2023/6/5/23750003/apple-vision-pro-hands-on-the-best-headset-demo-ever","articleBody":"I just walked out of a long demo session with Apple’s new $3,499 Vision Pro headset, which the company announced at WWDC 2023 as “the world’s most advanced consumer electronics device.” It’s... a really really nice VR headset with impressive displays and video passthrough. And I mean incredibly impressive displays and video passthrough: I was happily using my phone to take notes while wearing the Vision Pro, something no other headset can realistically allow. \n\nThat said, while Apple would obviously prefer that people think of the Vision Pro as a “powerful spatial computer” or an augmented reality device, there’s really no getting around the essential VR headset nature of the thing, down to the adjustable headstraps which definitely messed up my hair. It looks, feels, and behaves like a VR headset. If you’ve used a Meta Quest, just imagine the best possible Meta Quest running something very much like iPadOS, and you’ll get it.\n\n[Image: The Vision Pro battery pack https://cdn.vox-cdn.com/thumbor/EozV6fp9lgmyfFl-H9rEYOHHjpI=/0x0:2040x1360/2040x1360/filters:focal(1020x680:1021x681)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg]\n\nApple held Vision Pro demos in a large white cube-shaped building it built for WWDC called the Fieldhouse. Upon entry, I was handed an iPhone for a quick setup process: a turn-your-face-in-a-circle scan (very much like the Face ID setup that determined what size face mask to use), and then another side-to-side face scan that looked at my ears to calibrate spatial audio. \n\n[Media: https://www.tiktok.com/@verge/video/7242046046069771566]\n\nAfter that, Apple had me visit a “vision specialist” who asked if I wore glasses — I was wearing my contacts, but glasses-wearers had a quick prescription check so Apple could fit the Vision Pros with the appropriate lenses. (The lenses are made by Zeiss; Apple needed a partner that can legally sell prescription lenses. They snap in magnetically and will be sold separately at launch.) \n\nThe headset itself weighs a little less than a pound — it’s connected by a braided white power cable to a silver battery pack that offers about two hours of use. The cable detaches from the headset with a mechanical latch, but it’s permanently connected to the battery pack. If you want to plug into the wall you plug a USB-C adapter into the battery pack.\n\nThe design language is all brushed aluminum, shiny glass, and soft fabrics; the vibe is closer to iPhone 6 than iPhone 14. That glass on the front is an obviously complex piece of optical engineering: it is perfectly curved but still serves as an appropriate lens for the cameras and the OLED screen that shows your eyes when you’re looking at people. (This feature is called EyeSight; I didn’t get to try it in any way.)\n\nAround the headset itself you’ll count 12 cameras, a LIDAR sensor, and a TrueDepth camera, as well as IR flood illuminators to make sure the cameras can see your hands in dark environments for control purposes. The whole thing runs on a combination of Apple’s M2 and new R1 processors, which unsurprisingly generate a fair amount of heat. The Vision Pro vents that heat by pulling air up through the bottom of the device, and venting it out the top.\n\n[Image: https://cdn.vox-cdn.com/thumbor/GM8-H5phebzBUfvIaORwsZFNp9c=/0x0:5568x3712/5568x3712/filters:focal(2784x1856:2785x1857)/cdn.vox-cdn.com/uploads/chorus_asset/file/24704593/DSC_0924.jpg]\n\nThe top of the Vision Pro has a button on the left that serves as a shutter button to take 3D videos and photos, which I didn’t get to try. The Digital Crown is on the right; clicking it brings up the home screen of app icons, while turning it changes the level of VR immersion in certain modes. I asked why anyone would want to set the immersion level anywhere other than all-on or all-off, and it appears Apple is thinking of the middle immersion setting as a sort of adjustable desktop workspace for apps while leaving the sides open for you to talk to your colleagues.\n\n[Image: The Digital Crown on the Vision Pro. https://cdn.vox-cdn.com/thumbor/LfcrU4YbpXMRTexBVeuRJiCXMHA=/0x0:5568x3712/5568x3712/filters:focal(2784x1856:2785x1857)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705410/DSC_0920.jpg]\n\nWhen you put on the headset, there’s a quick automatic eye adjustment that’s much quicker and more seamless than on something like the Quest Pro — there are no manual dials or sliders for eye settings at all. Apple wouldn’t say anything specific about its field of view this long before launch, but I definitely saw black in my peripheral vision. The Vision Pro is not as totally immersive as the marketing videos would have you believe. \n\nThe display itself is absolutely bonkers: a 4K display for each eye, with pixels just 23 microns in size. In the short time I tried it, it was totally workable for reading text in Safari (I loaded The Verge, of course), looking at photos, and watching movies. It is easily the highest-resolution VR display I have ever seen. There was some green and purple fringing around the edges of the lenses, but I can’t say for certain if that was down to the quick fitment or early demo nature of the device or something else entirely. We’ll have to see when it actually ships.\n\nThe video passthrough was similarly impressive. It appeared with zero latency and was sharp, crisp, and clear. I happily talked to others, walked around the room, and even took notes on my phone while wearing the headset — something I would never be able to do with something like the Meta Quest Pro. That said, it’s still video passthrough. I could see pretty intense compression at times, and loss of detail when people’s faces moved into shadows. I could see the IR light on the front of my iPhone futilely blink as it attempted to unlock with FaceID to no avail. And the display was dimmer than the room itself, so when I took the headset off my eyes had to adjust to how much brighter the room was in reality.\n\n[Image: The homescreen of the Apple Vision Pro https://cdn.vox-cdn.com/thumbor/US-uogi5NOoDj63Rn7nXmhfBUG4=/0x0:1400x934/1400x934/filters:focal(700x467:701x468)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705417/im_794677.jpeg]\n\nSimilarly, Apple’s ability to do mixed reality is seriously impressive. At one point in a full VR Avatar demo I raised my hands to gesture at something, and the headset automatically detected my hands and overlaid them on the screen, then noticed I was talking to someone and had them appear as well. Reader, I gasped. Apple’s also gotten a lot farther with eye tracking and gesture control: eye tracking was pretty solid, and those IR illuminators and side cameras mean you can tap your thumb and index finger together to select things while they’re down in your lap or at your sides. You don’t need to be pointing at anything. It’s pretty cool.\n\nApple has clearly solved a bunch of big hardware interaction problems with VR headsets, mostly by out-engineering and out-spending everyone else that’s tried. But it has emphatically not really answered the question of what these things are really for yet: the main interface is very much a grid of icons, and most of the demos were basically projections of giant screens with very familiar apps on them. Safari. Photos. Movies. The Freeform collaboration app. FaceTime video calls. There was one demo with 3D dinosaurs where a butterfly landed on my outstretched hand, but that was as much “augmented reality” as I really experienced. (Yes, mapping the room and projecting the displays is very complex AR work, but there wasn’t so much as a measuring-things app after years of ARKit demos at WWDC. It was odd.)\n\nI did get to see a quick FaceTime call with someone else in a Vision Pro using an AI-generated 3D “persona” (Apple does not like it when you call them “avatars”) which was both impressive and deeply odd. It was immediately obvious that I was talking to a persona in an uncanny-valley sort of way, especially as most of the person’s face was frozen apart from their mouth and eyes. But even that much was convincing after a while, and certainly much nicer than your average Zoom call. You set up a persona by holding the headset in front of you and letting it scan your face, but I wasn’t able to set one up myself and there’s clearly a lot of refinement yet to come, so I’ll withhold judgement until later.\n\nAll of this was basically a greatest hits reel of VR demos, including some old standbys: Apple showed off 180-degree 3D videos with spatial audio in something called the Apple Immersive Video Format, which the company apparently shot with proprietary cameras it may or may not release. (They looked like the 3D videos we’ve been seeing in VR demos forever.) I looked at a 3D photo of some cute kids shot by the headset’s cameras and watched a 3D video of those kids blowing out a birthday candle. (Same.) I did a one-minute Mindfulness meditation in which a voice commanded me to be grateful while the room darkened and a sphere of colorful triangles expanded all around me. (This looked great, but Supernatural exists, has millions of users on the Quest, and has offered guided meditation since 2020.) And I watched Avatar in what looked like a movie theater, which, well, that’s one of the oldest VR demos ever.\n\n[Image: https://cdn.vox-cdn.com/thumbor/WGuXQf3sJmv41uuXckvZHtcPsao=/0x0:2560x1440/2560x1440/filters:focal(1280x720:1281x721)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705364/apple_vision_pro_screen_058.jpg]\n\nWas all this made better by the wildly superior Vision Pro hardware? Without question. But was it made more compelling? I don’t know, and I’m not sure I can know with just a short time wearing the headset. I do know that wearing this thing felt oddly lonely. How do you watch a movie with other people in a Vision Pro? What if you want to collaborate with people in the room with you and people on FaceTime? What does it mean that Apple wants you to wear a headset at your child’s birthday party? There are just more questions than answers here, and some of those questions get at the very nature of what it means for our lives to be literally mediated by screens.\n\nI also know that Apple still has a long list of things it wants to refine between now and next year when the Vision Pro ships. That’s part of the reason it’s being announced at WWDC: to let developers react to it, figure out what kinds of apps they might build, and get started on them. But that’s the same promise we’ve been hearing about VR headsets for years now, from Meta and others. Apple can clearly outpace everyone in the industry when it comes to hardware, especially when cost is apparently no object. But the most perfect headset demo reel of all time is still just a headset demo reel — whether Apple’s famed developer community can generate a killer app for the Vision Pro is still up in the air.\n"}</script><script type="application/ld+json">{"@context":"http://schema.org/","@type":"VideoObject","name":"Apple Vision Pro first look","description":"We got a first look at Apple’s new Vision Pro headset at WWDC. It features a separate battery pack and is controlled with eyes, hands, and voice. It will start at $3,499 and launch early next year in the US. #apple #wwdc23 #technology \n\nRead more: https://trib.al/nhbaDv2\n\nSubscribe: http://goo.gl/G5RXGs\nLike The Verge on Facebook: https://goo.gl/2P1aGc\nFollow on Twitter: https://goo.gl/XTWX61\nFollow on Instagram: https://goo.gl/7ZeLvX\nFollow on TikTok: http://bit.ly/42VeCVU\n\nThe Vergecast Podcast: https://pod.link/430333725\nDecoder with Nilay Patel: http://apple.co/3v29nDc \nMore about our podcasts: https://www.theverge.com/podcasts\n\nRead More: http://www.theverge.com\nCommunity guidelines: http://bit.ly/2D0hlAv\nWallpapers from The Verge: https://bit.ly/2xQXYJr\n\nSubscribe to The Vergecast on YouTube, new episodes on Wednesday and Friday: https://bit.ly/3I6nJtz","uploadDate":"2023-06-05T23:33:52Z","contentUrl":"https://volume-assets.voxmedia.com/production/311c725172dc354e5bb5890005665a97/Vision2Template.mp4","thumbnailUrl":"https://volume-assets.voxmedia.com/production/f14189002a332e79e678ec1f86a46ef4/Vision_pro_first_look.jpg"}</script><meta name="parsely-type" content="post"/><meta name="parsely-title" content="I wore the Apple Vision Pro. It’s the best headset demo ever."/><meta name="parsely-link" content="https://www.theverge.com/2023/6/5/23750003/apple-vision-pro-hands-on-the-best-headset-demo-ever"/><meta name="parsely-image-url" content="https://cdn.vox-cdn.com/thumbor/9fXxOcoJwyP5OAJsmpZ9R53xRDo=/0x0:5568x3712/1200x628/filters:focal(2784x1856:2785x1857)/cdn.vox-cdn.com/uploads/chorus_asset/file/24704605/DSC_0911.jpg"/><meta name="parsely-pub-date" content="2023-06-06T02:05:19.228Z"/><meta name="parsely-section" content="front-page"/><meta name="parsely-tags" content="verge,front-page,apple-wwdc,apple,tech,augmented-reality,vr-virtual-reality,featured-story,featured-video,stream-23453375,stream-23490979"/><meta name="parsely-author" content="Nilay Patel"/><meta name="next-head-count" content="34"/><meta name="robots" content="nocache"/><link rel="me" href="https://mastodon.social/@verge"/><link rel="shortcut icon" href="/icons/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/icons/apple_touch_icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon_32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon_96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon_16x16.png"/><link rel="mask-icon" href="/icons/safari_pinned_tab.svg" color="#5200ff"/><link rel="icon" type="image/png" href="/icons/android_chrome_192x192.png" sizes="192x192"/><link rel="icon" type="image/png" href="/icons/android_chrome_512x512.png" sizes="512x512"/><link rel="dns-prefetch" href="https://pagead2.googlesyndication.com"/><link rel="dns-prefetch" href="https://micro.rubiconproject.com/prebid/dynamic/7470.js"/><link rel="dns-prefetch" href="https://securepubads.g.doubleclick.net"/><link rel="dns-prefetch" href="https://stats.g.doubleclick.net"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://cdn.permutive.com"/><link rel="preload" href="/_next/static/media/b61d461e2e1d8573-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/af51b8e80b7e5b97-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/4c161430243654b9-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/faa4a7ab7fe4ff34-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/e0d450417c4fcdb2-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/c6806ee6b9a6284f-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/167de315d6f8820c-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/c32d4f9e62509b70-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/8314bd48671746e7-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/1acdcb23bd60cdf8-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/e334064d2786be51-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/dbe24bfb7e9bcd79-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/caa65695070c604f-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/7f8638c9585902a6-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/d2cd5f6e542bad4c-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/857aa1a339c7fe20-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/516340c748fee9da-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/afa7a955b67174eb-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/d2ddd5a6c0493c79-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/70754f98ca969379-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/60369a8d37d9d5b8-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/96fec850ad729c00-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/css/85cf8c08fd5c30da.css" as="style"/><link rel="stylesheet" href="/_next/static/css/85cf8c08fd5c30da.css" data-n-g=""/><link rel="preload" href="/_next/static/css/116716ff2923b1a7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/116716ff2923b1a7.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="https://micro.rubiconproject.com/prebid/dynamic/7470.js" async="" defer="" data-nscript="beforeInteractive"></script><script src="https://c.amazon-adsystem.com/aax2/apstag.js" async="" defer="" data-nscript="beforeInteractive"></script><script src="https://www.googletagservices.com/tag/js/gpt.js" async="" defer="" data-nscript="beforeInteractive"></script><script src="https://cdn.concert.io/lib/concert-ads/v2-latest/concert_ads.js" async="" defer="" data-nscript="beforeInteractive"></script><script src="https://cdn.concert.io/lib/concert-concierge.2.10.1.min.js" async="" defer="" data-nscript="beforeInteractive"></script><script src="https://polyfill.io/v3/polyfill.min.js?features=AbortController,Array.prototype.entries,Array.prototype.keys,Array.prototype.sort,Array.prototype.values,ArrayBuffer,ArrayBuffer.isView,AudioContext,Blob,console,console.error,console.log,console.warn,CustomEvent,DataView,document,Document,DocumentFragment,DocumentFragment.prototype.append,DOMRect,DOMTokenList,DOMTokenList.prototype.forEach,DOMTokenList.prototype.replace,Element,Element.prototype.after,Element.prototype.append,Element.prototype.before,Element.prototype.classList,Element.prototype.closest,Element.prototype.matches,Element.prototype.previousElementSibling,Element.prototype.remove,Element.prototype.scroll,Element.prototype.scrollIntoView,Event,EventSource,getComputedStyle,globalThis,HTMLDocument,HTMLPictureElement,HTMLTemplateElement,IntersectionObserver,IntersectionObserverEntry,Intl,Intl.DateTimeFormat,Intl.NumberFormat,Intl.RelativeTimeFormat,JSON,location.origin,Math.clz32,Math.imul,Math.sign,modernizr:es6string,MutationObserver,Node.prototype.contains,NodeList.prototype.forEach,Object.getOwnPropertySymbols,Object.isExtensible,Object.isFrozen,Object.preventExtensions,Object.setPrototypeOf,queueMicrotask,Reflect.construct,Reflect.defineProperty,Reflect.set,RegExp.prototype.flags,requestAnimationFrame,ResizeObserver,String.prototype.link,String.prototype.normalize,String.prototype.sub,Symbol.for,Symbol.iterator,Symbol.prototype.description,Symbol.toPrimitive,Symbol.toStringTag,TextDecoder,TextEncoder,Uint8Array,Window,XMLHttpRequest,Intl.RelativeTimeFormat,Intl.RelativeTimeFormat.~locale.en" defer="" data-nscript="beforeInteractive"></script><script src="/_next/static/chunks/webpack-64ad8efde40e4094.js" defer=""></script><script src="/_next/static/chunks/framework-1d2b8554342c6a75.js" defer=""></script><script src="/_next/static/chunks/main-a19b11f4c6f53406.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a1797caadff33bd9.js" defer=""></script><script src="/_next/static/chunks/7404-a1bc449f4440a25c.js" defer=""></script><script src="/_next/static/chunks/5833-5ad65b6eeff676da.js" defer=""></script><script src="/_next/static/chunks/4723-ec0bd4ab4f72e2c9.js" defer=""></script><script src="/_next/static/chunks/5271-346d91caff9b1218.js" defer=""></script><script src="/_next/static/chunks/3882-4e711a09aa4476ce.js" defer=""></script><script src="/_next/static/chunks/2156-9dfecef35698cd2a.js" defer=""></script><script src="/_next/static/chunks/996-f415a23a59cde4f1.js" defer=""></script><script src="/_next/static/chunks/2097-67693f881817982c.js" defer=""></script><script src="/_next/static/chunks/1164-d4fd507294850dca.js" defer=""></script><script src="/_next/static/chunks/9219-0ad07bfa7890f358.js" defer=""></script><script src="/_next/static/chunks/7950-082783bd916582f8.js" defer=""></script><script src="/_next/static/chunks/5216-464a4e820d156b8e.js" defer=""></script><script src="/_next/static/chunks/4640-21e1e57bb4ea74ef.js" defer=""></script><script src="/_next/static/chunks/5218-94a1b9a8f0184627.js" defer=""></script><script src="/_next/static/chunks/pages/entry/feature/%5Buid%5D-bb211da07b819f32.js" defer=""></script><script src="/_next/static/IS14jFn_yFOUxubBtmymV/_buildManifest.js" defer=""></script><script src="/_next/static/IS14jFn_yFOUxubBtmymV/_ssgManifest.js" defer=""></script><style id="__jsx-2324231005">:root{--font-fkroman:'__fkRomanStandard_6bdc6d', '__fkRomanStandard_Fallback_6bdc6d', Georgia, serif;--font-manuka:'__manuka_e0d4a3', '__manuka_Fallback_e0d4a3', Impact, Helvetica, sans-serif;--font-polysans:'__polySans_c60300', '__polySans_Fallback_c60300', Helvetica, Arial, sans-serif;--font-polysans-mono:'__polySansMono_0d16dc', '__polySansMono_Fallback_0d16dc', Courier New, Courier, monospace}</style></head><body class="antialiased"><div id="__next"><style>
        *, *::before, *::after {
          transition: none!important;
        }
      </style><div class="jsx-2324231005 duet--app"><a class="text-2xl text-pink-500 border-b-pink-500 focus:outline-pink-500 sr-only z-50 block border-8 bg-white p-7 text-center opacity-0 transition-opacity focus:visible focus:static focus:h-auto focus:w-full focus:overflow-auto focus:opacity-100  focus:outline-dotted" href="#content">Skip to main content</a><div class=""><div class="duet--navigation--navigation"><div class="absolute h-[64px] w-full overflow-x-hidden md:h-[150px]"><div class="relative h-[64px] w-full max-w-container-lg md:left-1/2 md:h-[150px] md:-translate-x-1/2"><a href="/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 309 70" role="img" class="absolute left-[-16px] top-[-3px] z-0 h-[64px] w-[282px] md:h-[174px] md:w-[769px] md:left-[-200px] md:top-[-24px] fill-white md:fill-white/50" width="100%" height="100%" fill="none"><title>The Verge</title><desc>The Verge logo.</desc><path d="m231.196 17.897-.302 9.071c-10.592-.726-13.618 1.996-13.618 10.885V39h-9.078V18.441h9.078v5.866c2.724-4.777 6.416-6.954 13.92-6.41ZM15.131 54.786h9.078V19.71h-9.078v35.075Zm44.968-36.828c-6.355 0-10.228 2.842-12.286 5.986V4.593H0v8.466h39.34V39h8.654c0-7.438 4.298-12.697 9.563-12.697 4.54 0 6.597 2.237 6.597 10.28v18.203h9.078V33.318c0-10.28-5.265-15.36-13.133-15.36ZM95.807 47.83c-5.507 0-9.078-3.326-9.683-8.829H77.59c.847 9.676 7.202 16.51 18.157 16.51 8.473 0 13.254-3.81 15.736-9.555l-7.687-3.387c-1.15 3.447-3.268 5.261-7.989 5.261Zm-.363-29.692a19.226 19.226 0 0 0-9.32 2.177l4.357 6.168c1.634-.846 3.39-1.27 5.266-1.21 5.084 0 7.686 3.327 8.049 7.68H95.02v6.048h17.31c.121-.907.182-1.754.182-2.66.06-13.184-8.655-18.203-17.068-18.203ZM185.32 47.83c-5.507 0-9.078-3.326-9.683-8.829h-8.534c.847 9.676 7.202 16.51 18.157 16.51 8.473 0 13.254-3.81 15.736-9.555l-7.687-3.387c-1.21 3.447-3.328 5.261-7.989 5.261Zm-.302-29.692a19.226 19.226 0 0 0-9.321 2.177l4.358 6.168c1.634-.846 3.389-1.27 5.265-1.21 5.084 0 7.687 3.327 8.05 7.68h-8.776v6.048h17.31c.121-.907.181-1.754.181-2.66.061-13.184-8.655-18.203-17.067-18.203ZM291.416 47.83c-5.507 0-9.078-3.326-9.683-8.829h-8.534c.847 9.676 7.202 16.51 18.157 16.51 8.473 0 13.254-3.81 15.736-9.555l-7.687-3.387c-1.21 3.447-3.328 5.261-7.989 5.261Zm-.484-29.692a19.225 19.225 0 0 0-9.32 2.177l4.357 6.168c1.635-.846 3.39-1.27 5.266-1.21 5.084 0 7.686 3.327 8.049 7.68h-8.775v6.048h17.309c.121-.907.182-1.754.182-2.66.06-13.184-8.655-18.203-17.068-18.203ZM117.172.299 133.5 39h9.926L130.971 8.221h16.099V.36L117.172.3Zm48.418.06L146.888 47.71l-2.784 7.076h9.502L176.06.36h-10.47Zm83.461 53.58c3.873 0 7.081-1.089 9.32-2.963l-3.631-5.745c-1.15.484-2.421.665-3.692.665-4.963 0-7.808-2.963-8.776-6.894h-8.897c1.211 8.406 7.263 14.937 15.676 14.937Zm11.196-30.418c-2.057-3.265-6.234-5.624-12.044-5.624-5.689-.06-10.954 3.024-13.738 8.043l7.565 4.838c1.392-2.903 4.116-4.838 8.292-4.838 5.931 0 9.925 4.596 9.925 10.038 0 1.029-.121 2.057-.423 3.024h9.502v-20.5h-9.079v5.019Zm-8.775 38.642c-5.871 0-8.05-2.842-8.474-6.168h-8.654c.181 6.35 4.418 13.304 17.309 13.304 8.715 0 14.404-4.354 16.765-10.885l-8.171-2.842c-1.15 4.233-4.297 6.591-8.775 6.591Z"></path></svg></a><a class="absolute left-0 top-0 z-10 h-[60px] w-[265px] md:hidden" href="/"><span class="sr-only">The Verge homepage</span></a></div></div><div class="md:px-34 pointer-events-none relative mx-auto mb-16 flex h-[48px] w-full max-w-container-lg items-end px-20 font-polysans text-15 md:mb-80 md:h-80 md:text-20 lg:px-0"><nav class="pointer-events-auto relative ml-auto border-b pb-6 md:pb-8 text-black"><ul class="flex items-end font-light"><li class="hidden md:flex"><a href="/"><span class="sr-only">The Verge homepage</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 309 70" role="img" class="h-[28px] w-[117px] hover:opacity-60 hover:transition-all hover:ease-in-out md:translate-y-2 fill-black" width="100%" height="100%" fill="none"><title>The Verge</title><desc>The Verge logo.</desc><path d="m231.196 17.897-.302 9.071c-10.592-.726-13.618 1.996-13.618 10.885V39h-9.078V18.441h9.078v5.866c2.724-4.777 6.416-6.954 13.92-6.41ZM15.131 54.786h9.078V19.71h-9.078v35.075Zm44.968-36.828c-6.355 0-10.228 2.842-12.286 5.986V4.593H0v8.466h39.34V39h8.654c0-7.438 4.298-12.697 9.563-12.697 4.54 0 6.597 2.237 6.597 10.28v18.203h9.078V33.318c0-10.28-5.265-15.36-13.133-15.36ZM95.807 47.83c-5.507 0-9.078-3.326-9.683-8.829H77.59c.847 9.676 7.202 16.51 18.157 16.51 8.473 0 13.254-3.81 15.736-9.555l-7.687-3.387c-1.15 3.447-3.268 5.261-7.989 5.261Zm-.363-29.692a19.226 19.226 0 0 0-9.32 2.177l4.357 6.168c1.634-.846 3.39-1.27 5.266-1.21 5.084 0 7.686 3.327 8.049 7.68H95.02v6.048h17.31c.121-.907.182-1.754.182-2.66.06-13.184-8.655-18.203-17.068-18.203ZM185.32 47.83c-5.507 0-9.078-3.326-9.683-8.829h-8.534c.847 9.676 7.202 16.51 18.157 16.51 8.473 0 13.254-3.81 15.736-9.555l-7.687-3.387c-1.21 3.447-3.328 5.261-7.989 5.261Zm-.302-29.692a19.226 19.226 0 0 0-9.321 2.177l4.358 6.168c1.634-.846 3.389-1.27 5.265-1.21 5.084 0 7.687 3.327 8.05 7.68h-8.776v6.048h17.31c.121-.907.181-1.754.181-2.66.061-13.184-8.655-18.203-17.067-18.203ZM291.416 47.83c-5.507 0-9.078-3.326-9.683-8.829h-8.534c.847 9.676 7.202 16.51 18.157 16.51 8.473 0 13.254-3.81 15.736-9.555l-7.687-3.387c-1.21 3.447-3.328 5.261-7.989 5.261Zm-.484-29.692a19.225 19.225 0 0 0-9.32 2.177l4.357 6.168c1.635-.846 3.39-1.27 5.266-1.21 5.084 0 7.686 3.327 8.049 7.68h-8.775v6.048h17.309c.121-.907.182-1.754.182-2.66.06-13.184-8.655-18.203-17.068-18.203ZM117.172.299 133.5 39h9.926L130.971 8.221h16.099V.36L117.172.3Zm48.418.06L146.888 47.71l-2.784 7.076h9.502L176.06.36h-10.47Zm83.461 53.58c3.873 0 7.081-1.089 9.32-2.963l-3.631-5.745c-1.15.484-2.421.665-3.692.665-4.963 0-7.808-2.963-8.776-6.894h-8.897c1.211 8.406 7.263 14.937 15.676 14.937Zm11.196-30.418c-2.057-3.265-6.234-5.624-12.044-5.624-5.689-.06-10.954 3.024-13.738 8.043l7.565 4.838c1.392-2.903 4.116-4.838 8.292-4.838 5.931 0 9.925 4.596 9.925 10.038 0 1.029-.121 2.057-.423 3.024h9.502v-20.5h-9.079v5.019Zm-8.775 38.642c-5.871 0-8.05-2.842-8.474-6.168h-8.654c.181 6.35 4.418 13.304 17.309 13.304 8.715 0 14.404-4.354 16.765-10.885l-8.171-2.842c-1.15 4.233-4.297 6.591-8.775 6.591Z"></path></svg></a><span aria-hidden="true" class="hidden px-16 md:inline">/</span></li><li class="hidden md:inline"><a href="/tech" class="hover:opacity-50 hover:transition-all hover:ease-in-out">Tech</a><span aria-hidden="true" class="hidden px-16 md:inline">/</span></li><li class="hidden md:inline"><a href="/reviews" class="hover:opacity-50 hover:transition-all hover:ease-in-out">Reviews</a><span aria-hidden="true" class="hidden px-16 md:inline">/</span></li><li class="hidden md:inline"><a href="/science" class="hover:opacity-50 hover:transition-all hover:ease-in-out">Science</a><span aria-hidden="true" class="hidden px-16 md:inline">/</span></li><li class="hidden md:inline"><a href="/entertainment" class="hover:opacity-50 hover:transition-all hover:ease-in-out">Entertainment</a><span aria-hidden="true" class="hidden px-16 md:inline">/</span></li><li><button class="flex cursor-pointer flex-nowrap items-center hover:opacity-50 hover:transition-all hover:ease-in-out"><span class="hidden md:inline">More</span><span class="md:hidden">Menu</span><svg width="100%" height="100%" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="ml-8 inline-block h-18 w-18 md:mt-2 md:h-[22px] md:w-[22px] fill-black"><title>Expand</title><path d="M28 11.76H16.24V0h-4.48v11.76H0v4.48h11.76V28h4.48V16.24H28v-4.48Z"></path></svg></button></li></ul></nav></div></div><div class="duet--navigation--sticky-nav fixed inset-x-0 top-0 z-40 w-full bg-white drop-shadow-sticky-nav transition-opacity duration-200 pointer-events-none opacity-0"><div class="mx-auto flex h-50 w-full max-w-container-lg items-center justify-between justify-self-start px-12 lg:px-0"><a class="flex" href="/" aria-label="The Verge logo. Click to visit the homepage" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 309 70" role="img" class="w-[141px] fill-black hover:opacity-60 hover:transition-all hover:ease-in-out" width="100%" height="100%" fill="none"><title>The Verge</title><desc>The Verge logo.</desc><path d="m231.196 17.897-.302 9.071c-10.592-.726-13.618 1.996-13.618 10.885V39h-9.078V18.441h9.078v5.866c2.724-4.777 6.416-6.954 13.92-6.41ZM15.131 54.786h9.078V19.71h-9.078v35.075Zm44.968-36.828c-6.355 0-10.228 2.842-12.286 5.986V4.593H0v8.466h39.34V39h8.654c0-7.438 4.298-12.697 9.563-12.697 4.54 0 6.597 2.237 6.597 10.28v18.203h9.078V33.318c0-10.28-5.265-15.36-13.133-15.36ZM95.807 47.83c-5.507 0-9.078-3.326-9.683-8.829H77.59c.847 9.676 7.202 16.51 18.157 16.51 8.473 0 13.254-3.81 15.736-9.555l-7.687-3.387c-1.15 3.447-3.268 5.261-7.989 5.261Zm-.363-29.692a19.226 19.226 0 0 0-9.32 2.177l4.357 6.168c1.634-.846 3.39-1.27 5.266-1.21 5.084 0 7.686 3.327 8.049 7.68H95.02v6.048h17.31c.121-.907.182-1.754.182-2.66.06-13.184-8.655-18.203-17.068-18.203ZM185.32 47.83c-5.507 0-9.078-3.326-9.683-8.829h-8.534c.847 9.676 7.202 16.51 18.157 16.51 8.473 0 13.254-3.81 15.736-9.555l-7.687-3.387c-1.21 3.447-3.328 5.261-7.989 5.261Zm-.302-29.692a19.226 19.226 0 0 0-9.321 2.177l4.358 6.168c1.634-.846 3.389-1.27 5.265-1.21 5.084 0 7.687 3.327 8.05 7.68h-8.776v6.048h17.31c.121-.907.181-1.754.181-2.66.061-13.184-8.655-18.203-17.067-18.203ZM291.416 47.83c-5.507 0-9.078-3.326-9.683-8.829h-8.534c.847 9.676 7.202 16.51 18.157 16.51 8.473 0 13.254-3.81 15.736-9.555l-7.687-3.387c-1.21 3.447-3.328 5.261-7.989 5.261Zm-.484-29.692a19.225 19.225 0 0 0-9.32 2.177l4.357 6.168c1.635-.846 3.39-1.27 5.266-1.21 5.084 0 7.686 3.327 8.049 7.68h-8.775v6.048h17.309c.121-.907.182-1.754.182-2.66.06-13.184-8.655-18.203-17.068-18.203ZM117.172.299 133.5 39h9.926L130.971 8.221h16.099V.36L117.172.3Zm48.418.06L146.888 47.71l-2.784 7.076h9.502L176.06.36h-10.47Zm83.461 53.58c3.873 0 7.081-1.089 9.32-2.963l-3.631-5.745c-1.15.484-2.421.665-3.692.665-4.963 0-7.808-2.963-8.776-6.894h-8.897c1.211 8.406 7.263 14.937 15.676 14.937Zm11.196-30.418c-2.057-3.265-6.234-5.624-12.044-5.624-5.689-.06-10.954 3.024-13.738 8.043l7.565 4.838c1.392-2.903 4.116-4.838 8.292-4.838 5.931 0 9.925 4.596 9.925 10.038 0 1.029-.121 2.057-.423 3.024h9.502v-20.5h-9.079v5.019Zm-8.775 38.642c-5.871 0-8.05-2.842-8.474-6.168h-8.654c.181 6.35 4.418 13.304 17.309 13.304 8.715 0 14.404-4.354 16.765-10.885l-8.171-2.842c-1.15 4.233-4.297 6.591-8.775 6.591Z"></path></svg></a><div class="group flex flex-nowrap"><button class="cursor-pointer items-center font-polysans text-15 flex"><span class="group-hover:opacity-60">Menu</span><svg width="100%" height="100%" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="ml-8 inline-block h-18 w-18 fill-black group-hover:opacity-60 md:mt-2 md:h-[22px] md:w-[22px]"><title>Expand</title><path d="M28 11.76H16.24V0h-4.48v11.76H0v4.48h11.76V28h4.48V16.24H28v-4.48Z"></path></svg></button></div></div></div></div><div class="duet--page-layout--feature-article"><div style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></div><div style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></div><main class="feature px-20"><article class="mx-auto w-full max-w-container-lg"><div class="duet--article--lede duet--article--lede-headline-above-franklin mx-auto md:max-w-container-md lg:max-w-none"><div class="flex flex-col lg:flex-row-reverse lg:justify-end [&amp;_a]:text-black"><div class="lg:mb-32"><div class="mb-18 md:mb-24"><ul class="lg:px-0 article-groups leading-100 mb-8"><li class="inline font-polysans-mono text-12 font-medium uppercase tracking-12 text-blurple"><a class="hover:shadow-underline-inherit" href="/apple-wwdc">WWDC 2023</a></li></ul><div class="mb-8"><h1 class="duet--article--feature-headline sticky-nav-trigger relative bg-[length:1px_1.04em] pb-8 font-polysans text-45 font-medium leading-[1.04] -tracking-2 before:w-full lg:text-65 bg-repeating-lines-dark">I wore the Apple Vision Pro. It’s the best headset demo ever.</h1></div><h2 class="duet--article--dangerously-set-cms-markup duet--article--feature-dek font-polysans text-22 font-light leading-110 lg:text-26">Apple’s new don’t-call-it-a-VR-headset is the best riff on some very familiar ideas, but still searching for a purpose.</h2></div><div class="mb-2 flex w-full justify-between"><div><p class="duet--article--article-byline max-w-[550px] font-polysans text-12 leading-120"><span>By</span> <span><span class="duet--article-byline-and"></span> <span class="font-medium"><a class="hover:shadow-underline-inherit" href="/authors/nilay-patel">Nilay Patel</a></span><span class="text-gray-13">, <span class="duet--article--dangerously-set-cms-markup">editor-in-chief of the Verge, host of the Decoder podcast, and co-host of The Vergecast.</span></span></span></p></div><div class="hidden -translate-y-2 lg:block"><div style="margin:0;min-height:40px;min-width:200px;transform:translateY(-4px)" class="_1gsaw2w0 _1gsaw2w5" data-concert="article_sponsorship_headline_above_desktop"></div></div></div></div><div class="&amp;&amp; lg:mr-32 lg:w-full lg:max-w-[170px] lg:pt-36"><div class="duet--article--date-and-comments mb-18 font-polysans text-12"><span class="mb-4 [&amp;&gt;time]:leading-120 [&amp;&gt;time]:lg:block"><time dateTime="2023-06-06T02:05:19.228Z" class="duet--article--timestamp font-polysans text-12"> <!-- -->Jun 6, 2023, 2:05 AM UTC</time></span><span class="mx-8 inline lg:hidden">|</span><span class="lg:block"><button title="Go to comments" class="duet--article--comments-link inline-block md:inline"><svg class="mr-4 inline" width="12" height="12" fill="none" viewBox="0 0 12 12" stroke-width="1px" xmlns="http://www.w3.org/2000/svg"><title>Comments</title><path d="M2.4 9.1h-.207l-.147.146L.5 10.793V1.2c0-.384.316-.7.7-.7h9.6c.384 0 .7.316.7.7v7.2c0 .384-.316.7-.7.7H2.4Z" stroke="currentColor"></path></svg><span class="font-polysans text-12 underline"><span class="coral-count" data-coral-id="ed5541a3-8fa0-4309-aaa1-0b6a85b24f37" data-coral-url="https://www.theverge.com/2023/6/5/23750003/apple-vision-pro-hands-on-the-best-headset-demo-ever"></span></span></button></span></div><div class="mb-18 md:mb-28 lg:mb-36"><div class="flex justify-between"><div><h2 class="sr-only">Share this story</h2><ul class="duet--article--share-buttons flex leading-[0]"><li class="mr-8"><button aria-label="Share on Twitter" class="rounded-full bg-white transition hover:bg-black"><svg width="30" height="30" class="fill-black transition hover:fill-white" xmlns="http://www.w3.org/2000/svg"><path d="M20.608 13.49c.008.108.008.216.008.326 0 3.336-2.44 7.184-6.9 7.184v-.002A6.667 6.667 0 0 1 10 19.866c.192.024.384.036.577.037a4.747 4.747 0 0 0 3.011-1.083c-1.037-.02-1.947-.725-2.265-1.754.364.073.738.058 1.095-.043-1.131-.238-1.945-1.273-1.945-2.475v-.032c.337.195.714.304 1.1.316-1.065-.742-1.393-2.218-.75-3.371 1.231 1.577 3.047 2.536 4.997 2.637a2.594 2.594 0 0 1 .701-2.412 2.36 2.36 0 0 1 3.431.11 4.75 4.75 0 0 0 1.54-.613 2.518 2.518 0 0 1-1.066 1.396c.48-.059.95-.193 1.392-.397-.325.508-.735.95-1.21 1.307Z"></path></svg></button></li><li class="mr-8"><button aria-label="Share on Facebook" class="rounded-full bg-white transition hover:bg-black"><svg width="30" height="30" class="fill-black transition hover:fill-white" xmlns="http://www.w3.org/2000/svg"><path d="m18.393 16.258.355-2.335H16.53v-1.515c0-.639.31-1.262 1.303-1.262h1.01V9.158S17.926 9 17.051 9c-1.827 0-3.021 1.118-3.021 3.143v1.78H12v2.335h2.031v5.644a7.944 7.944 0 0 0 2.499 0v-5.644h1.863Z"></path></svg></button></li><li><div class="relative flex items-center"><button aria-label="Copy link" class="rounded-full bg-white transition hover:bg-black"><svg width="30" height="30" class="fill-black transition hover:fill-white" xmlns="http://www.w3.org/2000/svg"><path d="M14.187 21.112a3.044 3.044 0 0 1-4.299 0 3.044 3.044 0 0 1 0-4.299l2.388-2.388a3.044 3.044 0 0 1 4.299 0 .507.507 0 1 1-.717.717c-.8-.8-2.065-.8-2.865 0l-2.388 2.388c-.8.8-.8 2.065 0 2.865.8.8 2.065.8 2.865 0l2.269-2.268a.507.507 0 1 1 .716.716l-2.268 2.269Zm4.537-4.537a3.044 3.044 0 0 1-4.299 0 .506.506 0 1 1 .717-.717c.8.8 2.065.8 2.865 0l2.388-2.388c.8-.8.8-2.065 0-2.865-.8-.8-2.065-.8-2.865 0l-2.269 2.268a.507.507 0 1 1-.716-.716l2.268-2.269a3.044 3.044 0 0 1 4.299 0 3.044 3.044 0 0 1 0 4.299l-2.388 2.388Z"></path></svg></button></div></li></ul></div><div class="lg:hidden"><div style="margin:0;min-height:40px;min-width:200px" class="_1gsaw2w0 _1gsaw2w4" data-concert="article_sponsorship_headline_above_mobile_and_tablet"></div></div></div></div></div></div><div class="relative lg:min-w-[37.5rem]"><div class="duet--article--lede-background fullbleed lede-background-positioning absolute -z-20 h-[10000px] bg-franklin"></div><div class="relative w-full bg-black" style="padding-bottom:56.25%"></div></div></div><div class="relative mt-28 md:mx-auto md:flex md:max-w-container-md lg:mt-36 lg:max-w-none"><div class="duet--article--article-body-component-container sm:ml-auto md:ml-100 md:max-w-article-body lg:mx-100"><div id="content" class="clearfix"><div class="duet--article--article-body-component"><p class="duet--article--dangerously-set-cms-markup mb-20 font-fkroman text-22 leading-150 -tracking-1 selection:bg-franklin-20 dark:text-white dark:selection:bg-blurple [&amp;_a:hover]:shadow-highlight-franklin dark:[&amp;_a:hover]:shadow-highlight-franklin [&amp;_a]:shadow-underline-black dark:[&amp;_a]:shadow-underline-white first-letter:float-left first-letter:mr-18 first-letter:font-polysans-mono first-letter:text-[117px] first-letter:font-medium first-letter:leading-[.72] dark:first-letter:text-franklin">I just walked out of a long demo session with <a href="/23747065/apple-vision-pro-headset-hands-on-features-specs-price-release-date">Apple’s new $3,499 Vision Pro headset</a>, which the company <a href="/2023/6/5/23738968/apple-vision-pro-ar-headset-features-specs-price-release-date-wwdc-2023">announced at WWDC 2023</a> as “the world’s most advanced consumer electronics device.” It’s... a really really nice VR headset with impressive displays and video passthrough. And I mean <em>incredibly </em>impressive displays and video passthrough: I was happily using my phone to take notes while wearing the Vision Pro, something no other headset can realistically allow. </p></div><div class="duet--article--article-body-component clear-both block md:float-left md:mr-30 md:w-[320px] lg:-ml-100"><div class="duet--recirculation--related-list mb-40"><h3 class="mb-16 font-polysans-mono text-14 font-medium leading-120 -tracking-1 text-blurple after:pl-8 after:content-[&#x27;/&#x27;]">Related</h3><ul class="list-disc pl-18 font-polysans text-16 font-medium leading-110 marker:text-franklin"><li class="mb-16 pl-12"><a class="hover:shadow-underline-black" href="/23689334/apple-mixed-reality-headset-augmented-virtual-reality-ar-vr-rumors-specs-features">Everything we know about Apple’s Vision Pro headset </a></li></ul></div></div><div class="duet--article--article-body-component"><p class="duet--article--dangerously-set-cms-markup duet--article--standard-paragraph mb-20 font-fkroman text-18 leading-160 -tracking-1 selection:bg-franklin-20 dark:text-white dark:selection:bg-blurple [&amp;_a:hover]:shadow-highlight-franklin dark:[&amp;_a:hover]:shadow-highlight-blurple [&amp;_a]:shadow-underline-black dark:[&amp;_a]:shadow-underline-white">That said, while Apple would obviously prefer that people think of the Vision Pro as a “powerful spatial computer” or an augmented reality device, there’s really no getting around the essential VR headset nature of the thing, down to the adjustable headstraps which definitely messed up my hair. It looks, feels, and behaves like a VR headset. If you’ve used a Meta Quest, just imagine the best possible Meta Quest running something very much like iPadOS, and you’ll get it.</p></div><div class="duet--article--article-body-component clear-both block"><div class="my-9"><div class="transition-all duration-300 ease-in-out"><div class="fixed inset-0 h-[110vh] w-full bg-white transition-all duration-300 ease-in-out z-[-1] cursor-default opacity-0" role="button" aria-label="Close" tabindex="0"></div><div role="button" aria-label="Zoom" tabindex="0" class="visible z-30 w-full origin-center transition-all duration-300 ease-in-out cursor-zoom-in"><figure class="transition-all duration-300 ease-in-out lg:mx-0"><div><div class="duet--media--content-warning relative" style="padding-top:66.66666666666666%"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="The Apple Vision Pro battery pack" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="The Apple Vision Pro battery pack" loading="lazy" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" sizes="(max-width: 1023px) 100vw, 744px" srcSet="https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/376x251/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 376w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/384x256/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 384w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/415x277/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 415w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/480x320/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 480w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/540x360/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 540w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/640x427/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 640w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/750x500/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 750w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/828x552/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 828w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1080x720/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 1080w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1200x800/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 1200w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1440x960/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 1440w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1920x1280/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 1920w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/2048x1365/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 2048w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/2400x1600/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 2400w" src="https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/2400x1600/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg"/></noscript></span></div></div></figure></div><div class="z-1 w-full hidden"><figure class="transition-all duration-300 ease-in-out lg:mx-0"><div><div class="duet--media--content-warning relative" style="padding-top:66.66666666666666%"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="The Apple Vision Pro battery pack" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="The Apple Vision Pro battery pack" loading="lazy" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" sizes="(max-width: 1023px) 100vw, 744px" srcSet="https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/376x251/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 376w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/384x256/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 384w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/415x277/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 415w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/480x320/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 480w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/540x360/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 540w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/640x427/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 640w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/750x500/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 750w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/828x552/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 828w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1080x720/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 1080w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1200x800/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 1200w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1440x960/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 1440w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1920x1280/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 1920w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/2048x1365/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 2048w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/2400x1600/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg 2400w" src="https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/2400x1600/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24705404/DSC00899.jpg"/></noscript></span></div></div></figure></div></div><div class="duet--media--caption pt-6 font-polysans-mono text-12 font-light leading-130 tracking-1"><figcaption class="duet--article--dangerously-set-cms-markup inline text-gray-13 dark:text-gray-e9 [&amp;&gt;a:hover]:text-black [&amp;&gt;a:hover]:shadow-underline-black dark:[&amp;&gt;a:hover]:text-gray-e9 dark:[&amp;&gt;a:hover]:shadow-underline-gray-63 [&amp;&gt;a]:shadow-underline-gray-13 dark:[&amp;&gt;a]:shadow-underline-gray-63">The Vision Pro battery pack</figcaption> <cite class="duet--article--dangerously-set-cms-markup inline not-italic text-gray-63 dark:text-gray-bd [&amp;&gt;a:hover]:text-gray-63 [&amp;&gt;a:hover]:shadow-underline-black dark:[&amp;&gt;a:hover]:text-gray-bd dark:[&amp;&gt;a:hover]:shadow-underline-gray [&amp;&gt;a]:shadow-underline-gray-63 dark:[&amp;&gt;a]:text-gray-bd dark:[&amp;&gt;a]:shadow-underline-gray">Vjeran Pavic</cite></div></div></div><div class="duet--article--article-body-component"><p class="duet--article--dangerously-set-cms-markup duet--article--standard-paragraph mb-20 font-fkroman text-18 leading-160 -tracking-1 selection:bg-franklin-20 dark:text-white dark:selection:bg-blurple [&amp;_a:hover]:shadow-highlight-franklin dark:[&amp;_a:hover]:shadow-highlight-blurple [&amp;_a]:shadow-underline-black dark:[&amp;_a]:shadow-underline-white">Apple held Vision Pro demos in a large white cube-shaped building it built for WWDC called the Fieldhouse. Upon entry, I was handed an iPhone for a quick setup process: a turn-your-face-in-a-circle scan (very much like the Face ID setup that determined what size face mask to use), and then another side-to-side face scan that looked at my ears to calibrate spatial audio. </p></div><div class="duet--article--article-body-component clear-both block md:float-left md:mr-30 md:w-[320px] lg:-ml-100"><div class="duet--media--embed min-h-[700px] [&amp;&gt;div&gt;blockquote]:!min-w-0 mb-20 w-full"></div></div><div class="duet--article--article-body-component"><p class="duet--article--dangerously-set-cms-markup duet--article--standard-paragraph mb-20 font-fkroman text-18 leading-160 -tracking-1 selection:bg-franklin-20 dark:text-white dark:selection:bg-blurple [&amp;_a:hover]:shadow-highlight-franklin dark:[&amp;_a:hover]:shadow-highlight-blurple [&amp;_a]:shadow-underline-black dark:[&amp;_a]:shadow-underline-white">After that, Apple had me visit a “vision specialist” who asked if I wore glasses — I was wearing my contacts, but glasses-wearers had a quick prescription check so Apple cosList[0])||void 0===t?void 0:t.file);null===(e=this.fh.value)||void 0===e||e.updateCaptionSetting(i,!1)}else null===(i=this.fh.value)||void 0===i||i.updateCaptionSetting(null,!1)}}connectedCallback(){if(super.connectedCallback(),this.Xh=this.querySelectorAll("[slot*='icon']").length>0,this.Xh)this.Ph=this.querySelector('[slot="icon-captions-on"]'),this.Uh=this.querySelector('[slot="icon-captions-off"]');else{const{icon:t}=this.ua();this.Ph=Fi(t),this.Uh=Fi(t)}this.subscriptionList.push(this.store.activeCaptionItem.pipe((0,le.x)()).subscribe((()=>{this.tp()})),this.store.onToggleCaptionButtonState.pipe((0,le.x)()).subscribe((t=>{this.shouldToggleCaptionState=t})))}updated(t){var e,i,s,n,o,r;super.update(t);const l=t.get("videoMetadata"),c=t.get("shouldToggleCaptionState");(0,Oe.$K)(c)&&this.ip(),l&&!(0,Zi.BY)(l.captionsList,this.videoMetadata.captionsList)&&(this.store.activeCaptionItem.next(null),null===(i=null===(e=this.Hh)||void 0===e?void 0:e.value)||void 0===i||i.classList.remove(Xe),null===(n=null===(s=this.Hh)||void 0===s?void 0:s.value)||void 0===n||n.updateConfig({tooltipLabel:Ze}),this.settings.shouldShowCaptions&&(null===(o=this.fh.value)||void 0===o||o.updateCaptionSetting(null===(r=this.videoMetadata.captionsList[0])||void 0===r?void 0:r.file,!1))),this.store.playerStates.isMenuOpen.next(this.isMenuOpen)}render(){const t=this.store.activeCaptionItem.value;if(0===this.videoMetadata.captionsList.length)return Y``;const e=t?this.Ph:this.Uh;return Y`<cnx-button .config="${this.ua()}" .isMobile="${this.settings.isMobile}" .templateId="${this.settings.templateUniqueID}" class="${this.breakpointClass} ${t&&!this.Xh?Xe:""}" breakpointClass="${this.breakpointClass}" @click="${this.Yh}" ${Ut(this.Hh)} exportparts="${Yt(this.ua().part)}"><span slot="icon">${e}</span></cnx-button><cnx-captions-menu-list ${Ut(this.fh)} id="cnx-captions-menu" .anchor="${this.Hh.value}" ?isOpen="${this.isMenuOpen}" .onClose="${this.Jh}"></cnx-captions-menu-list>`}};Yi.styles=ve,Xi([be({context:ge}),Ni("design:type",Object)],Yi.prototype,"settings",void 0),Xi([be({context:me}),Ni("design:type",Object)],Yi.prototype,"store",void 0),Xi([be({context:Vi,subscribe:!0}),Gt(),Ni("design:type",Object)],Yi.prototype,"videoMetadata",void 0),Xi([Jt(),Ni("design:type",Object)],Yi.prototype,"isMenuOpen",void 0),Xi([Jt(),Ni("design:type",Object)],Yi.prototype,"shouldToggleCaptionState",void 0),Yi=Xi([qt("cnx-captions-menu")],Yi);var qi,Wi=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},Qi=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};const Gi="cc",Ji="OFF";let Ki=class extends(je(ut)){constructor(){super(...arguments),this.isOpen=!1,this.hasHeader=!1,this.anchor=void 0,this.onClose=()=>{},this.updateCaptionSetting=(t,e=!0)=>{this.store.activeCaptionItem.next(t),this.store.playerActions.updateCaption.next({payload:t,isUiTriggered:e}),this.onClose()}}render(){var t;const e=this.store.activeCaptionItem.value;return 0===this.videoMetadata.captionsList.length?Y``:Y`<cnx-menu id="${this.id}" .anchor="${this.anchor}" menuTitle="${Gi}" ?hasHeader="${this.hasHeader}" ?isOpen="${this.isOpen}" ?isMobile="${this.settings.isMobile}" breakpointClass="${this.breakpointClass}" .onBack="${this.onBack}" .onClose="${this.onClose}"><cnx-menu-item @click="${()=>this.updateCaptionSetting()}" ?selected="${!e}">${Ji}</cnx-menu-item>${null===(t=this.videoMetadata.captionsList)||void 0===t?void 0:t.map((t=>Y`<cnx-menu-item @click="${()=>this.updateCaptionSetting(t.file)}" ?selected="${t.file===e}">${t.title}</cnx-menu-item>`))}</cnx-menu>`}};Wi([be({context:ge}),Qi("design:type",Object)],Ki.prototype,"settings",void 0),Wi([be({context:Vi,subscribe:!0}),Qi("design:type",Object)],Ki.prototype,"videoMetadata",void 0),Wi([be({context:me}),Qi("design:type",Object)],Ki.prototype,"store",void 0),Wi([Gt({type:Boolean}),Qi("design:type",Object)],Ki.prototype,"isOpen",void 0),Wi([Gt({type:Boolean}),Qi("design:type",Object)],Ki.prototype,"hasHeader",void 0),Wi([Gt(),Qi("design:type","function"==typeof(qi="undefined"!=typeof HTMLElement&&HTMLElement)?qi:Object)],Ki.prototype,"anchor",void 0),Wi([Gt({type:Function}),Qi("design:type",Function)],Ki.prototype,"onBack",void 0),Wi([Gt({type:Function}),Qi("design:type",Function)],Ki.prototype,"onClose",void 0),Ki=Wi([qt("cnx-captions-menu-list")],Ki);const ts=c`:host(.always-on){position:absolute!important;top:var(--cnx-container-padding);right:var(--cnx-container-padding);z-index:2}`;var es=i(6404),is=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},ss=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let ns=class extends(Di(je(ut))){constructor(){super(...arguments),this.isFloating=!1,this.cp=()=>{var t;null===(t=this.store)||void 0===t||t.playerActions.close.next()},this.hp=()=>this.isFloating?this.settings.floatingCloseButtonMode:this.settings.closeButtonMode}render(){return this.Rp()?Y`<cnx-button .config="${Je}" .isMobile="${this.settings.isMobile}" .templateId="${this.settings.templateUniqueID}" class="${this.breakpointClass}" breakpointClass="${this.breakpointClass}" @click="${this.cp}" exportparts="${Yt(Je.part)}"><slot slot="icon">${Fi(Je.icon)}</slot></cnx-button>`:Y``}connectedCallback(){super.connectedCallback(),this.subscriptionList.push(this.store.playerStates.isFloating.pipe((0,le.x)()).subscribe((t=>{this.isFloating=t})))}Rp(){const t=this.hp();return t===es.N.OnHover||t===es.N.AlwaysOn}};ns.styles=[ts,ve],is([be({context:ge,subscribe:!0}),ss("design:type",Object)],ns.prototype,"settings",void 0),is([be({context:me}),ss("design:type",Object)],ns.prototype,"store",void 0),is([Jt(),ss("design:type",Object)],ns.prototype,"isFloating",void 0),ns=is([qt("cnx-close-button")],ns);const os=c`:host{position:absolute;top:0;left:0}.context-anchor{position:relative}.logo-wrapper{display:flex}.label{padding-left:4px}`,rs='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M3.28809 14.2693C4.61765 15.3512 6.30644 16.0001 8.14595 16.0001C10.7588 16.0001 13.0683 14.692 14.4736 12.6896L11.4513 10.4686C10.5594 9.8132 9.35191 9.8132 8.46028 10.4686L3.28809 14.2693Z" fill="#14181E"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M14.4736 3.31074C13.0681 1.30811 10.7588 0 8.14595 0C6.30644 0 4.61787 0.648882 3.28809 1.73103L8.48318 5.54855C9.36125 6.19384 10.5503 6.19384 11.4284 5.54855L14.4736 3.31074Z" fill="#14181E"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M15.4953 10.8901C15.8203 10.0244 15.9999 9.08643 15.9999 8.10568C15.9999 7.12471 15.8203 6.18669 15.4953 5.32129L12.958 7.18565C12.3402 7.63982 12.3402 8.57155 12.958 9.02572L15.4953 10.8901Z" fill="#14181E"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M1.56386 3.33249C1.5483 3.32103 1.52652 3.3244 1.51518 3.33991C0.563079 4.64285 0 6.25404 0 7.99856C0 9.74285 0.563079 11.3543 1.51518 12.657C1.52652 12.6725 1.5483 12.6759 1.56386 12.6646L6.83364 8.79201C7.36671 8.40034 7.36671 7.59677 6.83364 7.2051L1.56386 3.33249Z" fill="#14181E"/>\n</svg>\n',ls="resizeObserver";var cs=i(8576),hs=i(7945),as=i(307),ps=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},ds=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let us=class extends(je(ut)){constructor(){super(...arguments),this.isMenuOpen=!1,this.dr=null,this.Hp=zt(),this.Tp=()=>{this.isMenuOpen=!0},this.Bp=()=>{this.isMenuOpen=!1},this.Up=()=>{window.open(as.br,cs.bS.Blank)}}connectedCallback(){super.connectedCallback(),this.dr=window.document.getElementById(`${this.settings.templateUniqueID}`),this.dr&&(this.resizeObserver.on(this.dr,this.Bp),this.dr.addEventListener("contextmenu",(t=>{var e;t.preventDefault(),this.Hp.value&&(this.Hp.value.style.top=`${t.offsetY}px`,this.Hp.value.style.left=`${t.offsetX}px`,this.Tp(),null===(e=this.menu)||void 0===e||e.requestUpdate())})))}disconnectedCallback(){super.disconnectedCallback(),this.dr&&this.resizeObserver.off(this.dr,this.Bp)}updated(){this.store.playerStates.isMenuOpen.next(this.isMenuOpen)}render(){const t=this.isCurrentBreakpointOver(ye.Z.SM);return Y`<div class="context-anchor" ${Ut(this.Hp)}></div><cnx-menu .anchor="${this.Hp.value}" isForcedMenuPositionToAnchor ?isOpen="${this.isMenuOpen}" .onClose="${this.Bp}"><cnx-menu-item exportparts="menu-item-wrapper, menu-item-title, menu-item-label, menu-item-arrow" @click="${this.Up}" .hasLabel="${t}">${t?Y`<div class="logo-wrapper">${Fi(rs)} <span class="label">Connatix</span></div><span slot="label">V${hs.g.version}</span>`:Y`${Fi(rs)}`}</cnx-menu-item></cnx-menu>`}};us.styles=os,ps([Jt(),ds("design:type",Object)],us.prototype,"isMenuOpen",void 0),ps([be({context:ge}),ds("design:type",Object)],us.prototype,"settings",void 0),ps([be({context:me}),ds("design:type",Object)],us.prototype,"store",void 0),ps([be({context:ls}),ds("design:type",Object)],us.prototype,"resizeObserver",void 0),ps([te("cnx-menu"),ds("design:type",Object)],us.prototype,"menu",void 0),us=ps([qt("cnx-context-menu")],us);const fs=c`:host{position:relative;z-index:1}:host .cnx-progress-buttons,:host cnx-cta-button,:host cnx-up-next{position:absolute;right:0;bottom:0}:host cnx-up-next{position:absolute;transition:transform .3s ease-in;visibility:hidden;-moz-transform:translateX(100%) translateX(4px);-o-transform:translateX(100%) translateX(4px);-ms-transform:translateX(100%) translateX(4px);-webkit-transform:translateX(100%) translateX(4px);transform:translateX(100%) translateX(4px)}:host cnx-up-next.show{-moz-transform:translateX(0)!important;-o-transform:translateX(0)!important;-ms-transform:translateX(0)!important;-webkit-transform:translateX(0)!important;transform:translateX(0)!important;visibility:visible}:host(.cnx-bp-lg-lit) cnx-up-next,:host(.cnx-bp-md-lit) cnx-up-next{-moz-transform:translateX(calc(100% + $lgContainerInnerPadding));-o-transform:translateX(calc(100% + $lgContainerInnerPadding));-ms-transform:translateX(calc(100% + $lgContainerInnerPadding));-webkit-transform:translateX(calc(100% + $lgContainerInnerPadding));transform:translateX(calc(100% + $lgContainerInnerPadding))}:host .cnx-progress-buttons{display:flex;gap:5px;width:auto}`;var bs=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},xs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let vs=class extends(Di(je(ut))){constructor(){super(...arguments),this.canShowProgressButtons=!1,this.isUpNextBoxInView=!1,this.isFloating=!1,this.isFullScreen=!1}render(){const t=!this.isFullScreen&&(this.settings.isPinned&&this.isFloating),e=this.settings.playlistLength>1,i=this.canShowProgressButtons&&!this.isUpNextBoxInView,s=e&&!i,n=this.videoMetadata.ctaButton&&!i&&!this.isUpNextBoxInView&&!t,o=this.videoMetadata.ctaButton&&!i;return this.Kp(i,s,n,o)}connectedCallback(){super.connectedCallback();const t=this.store.playerStates.isFloating.subscribe((t=>{this.isFloating=t})),e=this.store.experienceActions.toggleProgressButtons.subscribe((t=>{this.canShowProgressButtons=t})),i=this.store.playerStates.isUpNextBoxInView.subscribe((t=>{this.isUpNextBoxInView=t})),s=this.store.playerActions.toggleFullScreen.pipe((0,le.x)()).subscribe((t=>{this.isFullScreen=t.payload}));this.subscriptionList.push(e,i,t,s)}ld(){return Y`<div class="cnx-progress-buttons show ${this.breakpointClass}"><cnx-stay-progress-button part="buttons stay-button" exportparts="inner-stay-progress-button"></cnx-stay-progress-button><cnx-next-progress-button part="buttons next-progress-button" exportparts="inner-next-progress-button"></cnx-next-progress-button></div>`}ad(){return Y`<cnx-cta-button exportparts="inner-cta-button" ctaIconState="auto"></cnx-cta-button>`}pd(){const t=this.videoMetadata.ctaButton&&this.breakpointClass===ye.Z.XL?"bottom: 44px":"bottom: 0px";return Y`<cnx-up-next style="${t}"></cnx-up-next>`}md(t,e,i=!1){return Y`${e?this.pd():Q} ${t?this.ld():Q} ${i?this.ad():Q}`}Kp(t,e,i=!1,s=!1){return this.breakpointClass===ye.Z.XL?this.md(t,e,s):this.isCurrentBreakpointOver(ye.Z.SM)?this.md(t,e,i):Y``}};vs.styles=fs,bs([be({context:ge}),xs("design:type",Object)],vs.prototype,"settings",void 0),bs([be({context:me}),xs("design:type",Object)],vs.prototype,"store",void 0),bs([be({context:Vi,subscribe:!0}),xs("design:type",Object)],vs.prototype,"videoMetadata",void 0),bs([Jt(),xs("design:type",Object)],vs.prototype,"canShowProgressButtons",void 0),bs([Jt(),xs("design:type",Object)],vs.prototype,"isUpNextBoxInView",void 0),bs([Jt(),xs("design:type",Object)],vs.prototype,"isFloating",void 0),bs([Jt(),xs("design:type",Object)],vs.prototype,"isFullScreen",void 0),vs=bs([qt("cnx-contextual-buttons")],vs);const gs=c`.cta-wrapper{background-color:var(--cnx-cta-background-color,var(--cnx-accent-color));padding:12px,12px,13px,12px;border-radius:4px;border:1px solid #fff;gap:8px}.cta-wrapper slot[slot=label]{color:var(--cnx-cta-font-color,#fff);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.cta-wrapper cnx-button{position:relative;height:40px;width:auto;border-radius:4px}.cta-wrapper slot[slot=icon] svg path{fill:var(--cnx-cta-font-color,#fff)}`;var ms=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},ys=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let ws=class extends(je(ut)){constructor(){super(...arguments),this.ctaIconState="auto",this.No=()=>{this.store.playerActions.cta.next()}}render(){var t,e,i,s,n,o,r;const l=!this.isCurrentBreakpointOver(ye.Z.MD),c=Object.assign(Object.assign({},ii),{displayLabel:null!==(i=null!==(t=this.settings.ctaText)&&void 0!==t?t:null===(e=this.videoMetadata.ctaButton)||void 0===e?void 0:e.text)&&void 0!==i?i:ii.displayLabel});c.tooltipLabel=c.displayLabel+c.tooltipLabel;const h=l?Y`<slot slot="icon">${Fi(c.icon)}</slot>`:Y`<slot slot="label">${c.displayLabel}</slot>`,a={"--cnx-cta-background-color":null!==(s=this.settings.ctaBackgroundColor)&&void 0!==s?s:null===(n=this.videoMetadata.ctaButton)||void 0===n?void 0:n.backgroundColor,"--cnx-cta-font-color":null!==(o=this.settings.ctaFontColor)&&void 0!==o?o:null===(r=this.videoMetadata.ctaButton)||void 0===r?void 0:r.textColor,"font-family":this.settings.pageFont};return Y`<div class="cta-wrapper" style="${It(a)}"><cnx-button .config="${c}" ?isMobile="${this.settings.isMobile}" .templateId="${this.settings.templateUniqueID}" breakpointClass="${this.breakpointClass}" class="${this.breakpointClass}" @click="${this.No}" exportparts="${Yt(c.part)}">${"auto"===this.ctaIconState?h:""} ${"collapsed"===this.ctaIconState?Y`<slot slot="icon">${Fi(c.icon)}</slot>`:""} ${"expanded"===this.ctaIconState?Y`<slot slot="label">${c.displayLabel}</slot>`:""}</cnx-button></div>`}};ws.styles=gs,ms([be({context:me}),ys("design:type",Object)],ws.prototype,"store",void 0),ms([be({context:ge}),ys("design:type",Object)],ws.prototype,"settings",void 0),ms([be({context:Vi,subscribe:!0}),ys("design:type",Object)],ws.prototype,"videoMetadata",void 0),ms([Gt({type:String}),ys("design:type",String)],ws.prototype,"ctaIconState",void 0),ws=ms([qt("cnx-cta-button")],ws);const $s=c`.floating-close-button-wrapper{position:absolute;display:flex;justify-content:center;align-items:center;top:calc(40px * -1);right:calc((40px - 28px)/ 2 * -1);width:40px;height:40px}.floating-close-button-wrapper :hover{background-color:#b3b3b3;cursor:pointer}.floating-close-button-wrapper :active{background:#999}.floating-close-button-wrapper :focus-visible{border:1px solid #0500ff!important;box-shadow:0 0 0 1px rgba(255,255,255,.66)}.floating-close-button{display:flex;justify-content:center;align-items:center;width:28px;height:28px;border-radius:28px;background-color:#c7c7c7}.floating-close-button svg{fill:#fff}.cnx-float-close-hide{display:none}.floating-close-button-tooltip{position:absolute;display:none;z-index:10;right:0;border-radius:4px;padding:4px calc(4px * 2);gap:10px;pointer-events:none;white-space:nowrap;user-select:none;font-family:Roboto,-apple-system,BlinkMacSystemFont,"Segoe UI",Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;font-style:normal;font-weight:400;font-size:13px;line-height:15px;background:var(--cnx-tooltip-background-color);color:var(--cnx-tooltip-text-color)}.floating-close-button-tooltip.tooltip-position-top{top:calc(calc((calc((15px + (4px * 2)))/ 2) + calc(28px - calc((15px + (4px * 2)))) + 7px) * -1)}.floating-close-button-tooltip.tooltip-position-bottom{bottom:calc(calc((calc((15px + (4px * 2)))/ 2) + calc(28px - calc((15px + (4px * 2)))) + 7px) * -1)}.floating-close-button-tooltip.show-tooltip{display:inline}`;var js,Os,Cs=i(5811),ks=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},Rs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Ls=class extends(Li(ut,[ji.Button],".floating-close-button")){constructor(){super(...arguments),this.isUIActive=!1,this.tooltipPosition=Cs.L.Above,this.Tx=()=>this.kd(!0),this.Sx=()=>this.kd(!1)}render(){const t=this.isUIActive?"":"cnx-float-close-hide",e=this.tooltipPosition===Cs.L.Below?"tooltip-position-bottom":"tooltip-position-top";return Y`<div part="floating-close-button-wrapper" class="floating-close-button-wrapper"><div class="floating-close-button-tooltip ${e}">Close Player</div><div part="floating-close-button" aria-label="Close Player" role="button" tabindex="0" class="floating-close-button ${t}">${Fi('<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m15.833 5.341-1.175-1.175L10 8.825 5.342 4.167 4.167 5.341 8.825 10l-4.658 4.658 1.175 1.175L10 11.175l4.658 4.658 1.175-1.175L11.175 10l4.658-4.659z" fill="#fff"/><path d="m16.187 5.695.353-.354-.353-.353-1.175-1.175-.354-.354-.353.354L10 8.118 5.695 3.813l-.353-.354-.354.354-1.175 1.175-.353.353.353.354L8.118 10l-4.305 4.305-.353.353.353.354 1.175 1.175.354.353.353-.353L10 11.882l4.305 4.305.353.353.354-.353 1.175-1.175.353-.354-.353-.353L11.882 10l4.305-4.305z" stroke="#000" stroke-opacity=".27"/></svg>\n')}</div></div>`}firstUpdated(t){super.firstUpdated(t),this.$closeButton.addEventListener("mouseenter",this.Tx),this.$closeButton.addEventListener("mouseleave",this.Sx),this.$closeButton.addEventListener("focus",this.Tx),this.$closeButton.addEventListener("blur",this.Sx)}disconnectedCallback(){super.disconnectedCallback(),this.$closeButton.removeEventListener("mouseenter",this.Tx),this.$closeButton.removeEventListener("mouseleave",this.Sx),this.$closeButton.removeEventListener("focus",this.Tx),this.$closeButton.removeEventListener("blur",this.Sx)}kd(t){(0,Zt.og)(this.$tooltip,"show-tooltip",t)}};Ls.styles=$s,ks([Gt({type:Boolean,attribute:"is-ui-active"}),Rs("design:type",Object)],Ls.prototype,"isUIActive",void 0),ks([Gt({attribute:"tooltip-position"}),Rs("design:type",Object)],Ls.prototype,"tooltipPosition",void 0),ks([te(".floating-close-button-tooltip"),Rs("design:type","function"==typeof(js="undefined"!=typeof HTMLDivElement&&HTMLDivElement)?js:Object)],Ls.prototype,"$tooltip",void 0),ks([te(".floating-close-button"),Rs("design:type","function"==typeof(Os="undefined"!=typeof HTMLDivElement&&HTMLDivElement)?Os:Object)],Ls.prototype,"$closeButton",void 0),Ls=ks([qt("cnx-floating-close-button")],Ls);const Ms='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M14 2.99994H15.9999V7.99994H20.9999L21 9.99994H15.6C15.174 10.0054 14.7639 9.83854 14.4626 9.5373C14.1614 9.23605 13.9946 8.82593 14 8.39994V2.99994ZM8.00013 21.0001H10V15.6001C10.0054 15.1741 9.8386 14.7639 9.53736 14.4627C9.23611 14.1615 8.82599 13.9946 8.4 14.0001H3L3.00013 16.0001H8.00013V21.0001ZM15.9999 21.0001H14V15.6001C13.9946 15.1741 14.1614 14.7639 14.4626 14.4627C14.7639 14.1615 15.174 13.9946 15.6 14.0001H21L20.9999 16.0001H15.9999V21.0001ZM8.00013 2.99994H10V8.39994C10.0054 8.82593 9.8386 9.23605 9.53736 9.5373C9.23611 9.83854 8.82599 10.0054 8.4 9.99994H3L3.00013 7.99994H8.00013V2.99994Z"/>\n</svg>\n';var Ss=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},Hs=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Ts=class extends(Di(je(ut))){constructor(){super(...arguments),this.isFullScreen=!1,this.Ld=null,this.Ed=null,this.Id=()=>{var t;null===(t=this.store)||void 0===t||t.playerActions.toggleFullScreen.next({payload:!this.isFullScreen,isUiTriggered:!0})}}render(){const t=Object.assign(Object.assign({},Qe),{tooltipLabel:this.isFullScreen?Ie:Fe}),e=this.isFullScreen?this.Ld:this.Ed;return Y`<cnx-button .config="${t}" .isMobile="${this.settings.isMobile}" .templateId="${this.settings.templateUniqueID}" class="${this.breakpointClass}" breakpointClass="${this.breakpointClass}" @click="${this.Id}" exportparts="${Yt(t.part)}"><span slot="icon">${e}</span></cnx-button>`}connectedCallback(){var t;super.connectedCallback();this.querySelectorAll("[slot*='icon']").length>0?(this.Ld=this.querySelector('[slot="icon-exit-fullscreen"]')||Fi(Ms),this.Ed=this.querySelector('[slot="icon-enter-fullscreen"]')||Fi(Te)):(this.Ld=Fi(Ms),this.Ed=Fi(Te)),this.subscriptionList.push(null===(t=this.store)||void 0===t?void 0:t.playerActions.toggleFullScreen.pipe((0,le.x)()).subscribe((t=>{this.isFullScreen=t.payload})))}};Ts.styles=ve,Ss([be({context:ge}),Hs("design:type",Object)],Ts.prototype,"settings",void 0),Ss([be({context:me}),Hs("design:type",Object)],Ts.prototype,"store",void 0),Ss([Jt(),Hs("design:type",Object)],Ts.prototype,"isFullScreen",void 0),Ts=Ss([qt("cnx-full-screen-button")],Ts);const Bs=c`@keyframes loading{from{transform:rotate(0)}to{transform:rotate(-360deg)}}:host{display:block;text-align:center}:host([shouldShowAdLoadingLabel]){margin-top:21px}:host([shouldShowAdLoadingLabel].cnx-bp-md-lit){margin-top:17px}.loader{border-radius:50%;opacity:1;transition:opacity .25s ease-in-out .25s}.loader.cnx-bp-xl-lit{width:56px;height:56px}.loader.cnx-bp-lg-lit{width:48px;height:48px}.loader.cnx-bp-md-lit{width:40px;height:40px}.loader.cnx-bp-sm-lit{padding:8px;width:calc($mdPlayButtonSize - 8px);height:calc($mdPlayButtonSize - 8px)}.loader path{animation-duration:1.6s;animation-name:loading;animation-iteration-count:infinite;animation-direction:reverse;transform-origin:center center}.loader-inner{animation-timing-function:cubic-bezier(.649,.412,.585,.693)}.loader-middle{animation-timing-function:cubic-bezier(.298,.36,.462,.266)}.loader-outer{animation-timing-function:cubic-bezier(.386,.184,.316,.705)}.ad-label{color:#fff;font-size:13px;padding-top:8px}.ad-label.cnx-bp-md-lit{padding-top:4px}`;var Es,Vs=i(5919),zs=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},_s=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};const Ps={[ye.Z.XL]:56,[ye.Z.LG]:48,[ye.Z.MD]:40,[ye.Z.SM]:24,[ye.Z.XS]:0},Us={[ye.Z.XL]:2,[ye.Z.LG]:2,[ye.Z.MD]:1.5,[ye.Z.SM]:1,[ye.Z.XS]:0},As="235, 235, 235";let Fs=class extends(Di(je(ut))){constructor(){super(...arguments),this.contentState=Vs.x.Paused,this.qd=(t,e,i)=>`\n        M ${t} ${t}\n        m ${i?e:-e} 0\n        a ${e},${e} 0 1,0 ${i?-2*e:2*e},0\n    `}render(){if(![Vs.x.Buffering,Vs.x.Preroll,Vs.x.Postroll].includes(this.contentState))return Y``;const t=Ps[this.breakpointClass],e=Y`<div class="ad-label ${this.breakpointClass}">${"Ad Loading"}</div>`,i=this.Jd(t),s=[Vs.x.Preroll,Vs.x.Postroll].includes(this.contentState);return Y`<svg height="${t}" width="${t}" viewBox="0 0 ${t} ${t}" class="loader ${this.breakpointClass}">${i}</svg> ${s?e:Y``}`}connectedCallback(){super.connectedCallback();const t=[this.store.playerStates.contentState.pipe((0,le.x)()).subscribe((t=>{this.contentState=t}))];this.subscriptionList.push(...t)}Jd(t){const e=Us[this.breakpointClass],i=t/2,s=i-5*e/2,n=i-3*e/2,o=i-e/2,r=`cnx-loader-tail-${this.settings.templateUniqueID}`,l=`cnx-loader-tip-${this.settings.templateUniqueID}`;return q`<defs><linearGradient id="${r}"><stop offset="0%" stop-color="rgba(${As}, 0.6)"></stop><stop offset="45%" stop-color="rgba(${As}, 0.3)"></stop><stop offset="100%" stop-color="rgba(${As}, 0.3)"></stop></linearGradient><linearGradient id="${l}"><stop offset="0%" stop-color="rgba(${As}, 0.6)"></stop><stop offset="33%" stop-color="rgba(${As}, 0.6)"></stop><stop offset="85%" stop-color="rgba(${As}, 0.9)"></stop><stop offset="100%" stop-color="rgba(${As}, 1)"></stop></linearGradient></defs><g fill="transparent" stroke-width="${e+.01}"><path d="${this.qd(i,s,!1)}" stroke="url(#${r})" class="loader-inner"></path><path d="${this.qd(i,s,!0)}" stroke="url(#${l})" class="loader-inner"></path><path d="${this.qd(i,n,!1)}" stroke="url(#${r})" class="loader-middle"></path><path d="${this.qd(i,n,!0)}" stroke="url(#${l})" class="loader-middle"></path><path d="${this.qd(i,o,!1)}" stroke="url(#${r})" class="loader-outer"></path><path d="${this.qd(i,o,!0)}" stroke="url(#${l})" class="loader-outer"></path></g>`}};Fs.styles=Bs,zs([be({context:ge}),_s("design:type",Object)],Fs.prototype,"settings",void 0),zs([be({context:me}),_s("design:type",Object)],Fs.prototype,"store",void 0),zs([Jt(),_s("design:type","function"==typeof(Es=void 0!==Vs.x&&Vs.x)?Es:Object)],Fs.prototype,"contentState",void 0),Fs=zs([qt("cnx-loader")],Fs);const Is=c`:host{width:80px;height:36px;display:flex;align-items:center;padding:2px}:host img{max-height:100%;max-width:100%}`;var Ds=i(3360);function Zs(t,e,i){return t+Ds.Q.getScaledImageQueryParams(e,i,!1)}var Xs=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},Ns=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Ys=class extends ut{constructor(){super(...arguments),this.eu=160,this.iu=72}render(){return(0,Oe.QM)(this.settings.logoUrl)?Y`<img src="${Zs(this.settings.logoUrl,this.eu,this.iu)}" alt="logo">`:Y``}};Ys.styles=Is,Xs([be({context:ge,subscribe:!0}),Ns("design:type",Object)],Ys.prototype,"settings",void 0),Ys=Xs([qt("cnx-logo")],Ys);const qs=c`:host{display:block;visibility:hidden;opacity:0;transition:opacity .2s,visibility .2s;position:relative;z-index:10}:host([isOpen]){visibility:visible;opacity:1}.menu{display:flex;flex-direction:column;position:absolute;background-color:#f4f4f4;box-shadow:0 4px 4px rgba(0,0,0,.25);border-radius:4px;--cnx-icons-color:#718096}.menu--header{display:flex;justify-content:space-between;align-items:center;padding-left:16px}.menu--header div:first-child{display:flex;align-items:center}.menu--title{font-size:13px;font-weight:500;color:#6b6b6b;text-transform:uppercase}.menu--title:focus-visible{outline:0;border:1px solid #0500ff}.menu--items-wrapper{position:relative}`,Ws=c`.cnx-scrollbar-prevent-select{-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none;user-select:none}.cnx-scrollbar .cnx-scrollbar-wrapper{overflow:hidden;width:100%;height:100%;position:relative;z-index:1;float:left;display:inherit;flex:inherit;flex-direction:inherit}.cnx-scrollbar .cnx-scrollbar-content{height:100%;width:calc(100% + 19px);padding:0 19px 0 0;position:relative;overflow:auto;box-sizing:border-box;display:inherit;flex:inherit;flex-direction:inherit}.cnx-scrollbar.cnx-scrollbar-horizontal .cnx-scrollbar-content{width:100%;height:calc(100% + 19px);overflow-y:hidden}.cnx-scrollbar.cnx-scrollbar-horizontal .cnx-scrollbar-handle{height:4px;position:absolute}.cnx-scrollbar .cnx-scrollbar-handle{position:relative;background:linear-gradient(0deg,rgba(255,255,255,.4),rgba(255,255,255,.4)),#c1c1c1;border-radius:10px;width:6px;height:4px;top:0;z-index:2;cursor:pointer;opacity:0;transition:opacity 250ms linear,left 50ms ease-in-out 0s}.cnx-scrollbar .cnx-scrollbar-handle:active,.cnx-scrollbar .cnx-scrollbar-handle:hover{background-color:#c1c1c1}.cnx-scrollbar:not(.cnx-scrollbar-show-on-hover) .cnx-scrollbar-handle{opacity:1}.cnx-scrollbar:active .cnx-scrollbar-handle,.cnx-scrollbar:hover .cnx-scrollbar-handle{opacity:1}`;var Qs;!function(t){t.MainContainer="cnx-scrollbar",t.Wrapper="cnx-scrollbar-wrapper",t.Content="cnx-scrollbar-content",t.Horizontal="cnx-scrollbar-horizontal",t.Handle="cnx-scrollbar-handle",t.PreventSelect="cnx-scrollbar-prevent-select",t.ShowOnHover="cnx-scrollbar-show-on-hover"}(Qs||(Qs={}));const Gs=Rt(class extends Vt{constructor(t){if(super(t),this.sT=0,this.rT=0,this.oT=0,this.lT=0,this.Er={},this.lc=!1,this.nT=t=>{t.preventDefault(),this.rT=t.pageY,this.oT=t.pageX,(0,Zt.cn)(this.aT,Qs.PreventSelect),(0,Zt.cn)(window.document.body,Qs.PreventSelect),window.document.addEventListener("mousemove",this.hT),window.document.addEventListener("mouseup",this.cT)},this.hT=t=>{const e=this.Er.isHorizontal?t.pageX-this.oT:t.pageY-this.rT;this.rT=t.pageY,this.oT=t.pageX,(0,Zt.PM)(window,(()=>{this.Er.isHorizontal?this.dT.scrollLeft+=e/this.lT:this.dT.scrollTop+=e/this.lT}))},this.cT=()=>{(0,Zt.IV)(this.aT,Qs.PreventSelect),(0,Zt.IV)(window.document.body,Qs.PreventSelect),window.document.removeEventListener("mousemove",this.hT),window.document.removeEventListener("mouseup",this.cT)},this.uT=t=>{if(!this.Er.isHorizontal)return;const e=t.deltaMode?100*(t.deltaY<0?-1:1):t.deltaY,i=Math.floor(e)/33*20,s=this.sT+i;s>=-1*this.aT.clientWidth&&s<=this.dT.scrollWidth-this.aT.clientWidth&&(this.sT=s),(0,Zt.PM)(window,(()=>{this.dT.scrollLeft=this.sT}))},this.fT=()=>{clearTimeout(this.mT),this.mT=setTimeout((()=>{this.gT()}),50)},this.gT=()=>{const t=this.Er.isHorizontal?this.dT.scrollWidth:this.dT.scrollHeight,e=this.Er.isHorizontal?this.iT.clientWidth:this.iT.clientHeight;this.lT=e/t;const i=-1*(this.iT.clientWidth-(this.aT.clientWidth||4)-4),s=this.iT.clientHeight-this.aT.clientHeight-4;(0,Zt.PM)(window,(()=>{if(this.lT>=1)(0,Zt.MV)(this.aT);else{(0,Zt.Ho)(this.aT);const{clientWidth:e,clientHeight:n}=this.iT;if(this.Er.isHorizontal)return void(0,Zt.T7)(this.aT,{width:Math.max(this.lT,.1)*e+"px",height:"",top:`${s}px`,right:"",left:this.dT.scrollLeft/t*100+"%"});(0,Zt.T7)(this.aT,{width:"",height:Math.max(this.lT,.1)*n+"px",top:this.dT.scrollTop/t*100+"%",right:`${i}px`,left:""}),this.vT()}}))},t.type!==kt)throw new Error("The 'ScrollbarDirective' directive must be used\n             as an element prop e.g: <div ${TOOLTIP('your tooltip')}>")}update(t,[e]){if(!this.lc){const{element:i}=t;return this.iT=i,this.Er=e,this.$u(),this.lc=!0,W}return W}render(t){return""}disconnected(){this.ui()}$u(){this.aT=(0,Zt.G$)(`<div class="${Qs.Handle}">`,window),this.bT=(0,Zt.G$)(`<div class="${Qs.Wrapper}">`,window),this.dT=(0,Zt.G$)(`<div class="${Qs.Content}">`,window),this.gT();const t=(0,Zt.Dx)(this.iT,window);for("0px"===t.height&&"0px"!==t.maxHeight&&(0,Zt.T7)(this.iT,{height:t.maxHeight}),this.bT.appendChild(this.dT);this.iT.firstChild;)this.dT.appendChild(this.iT.firstChild);this.iT.appendChild(this.bT),this.iT.insertAdjacentElement("beforeend",this.aT),this.aT.addEventListener("mousedown",this.nT),this.Er.shouldOverrideNativeHorizontalScroll&&this.dT.addEventListener("wheel",this.uT,{passive:!0}),this.iT.addEventListener("resize",this.fT),this.dT.addEventListener("scroll",this.gT),this.dT.addEventListener("mouseenter",this.gT);const e=[Qs.MainContainer];this.Er.isHorizontal&&e.push(Qs.Horizontal),this.Er.shouldShowOnHover&&e.push(Qs.ShowOnHover),(0,Zt.cn)(this.iT,...e)}vT(){const t=new Event("cnx-mod-scrollbar");this.iT.dispatchEvent(t)}ui(){for(this.lc=!1,this.ju(),(0,Zt.bX)(this.aT);this.dT.firstChild;)this.iT.appendChild(this.dT.firstChild);(0,Zt.bX)(this.bT),(0,Zt.IV)(this.iT,Qs.MainContainer,Qs.Horizontal,Qs.ShowOnHover)}ju(){window.document.removeEventListener("mousemove",this.hT),window.document.removeEventListener("mouseup",this.cT),this.aT.removeEventListener("mousedown",this.nT),this.dT.removeEventListener("wheel",this.uT),window.removeEventListener("resize",this.fT),this.dT.removeEventListener("scroll",this.gT),this.dT.removeEventListener("mouseenter",this.gT)}});class Js{constructor(t){this.mf=t,this.Of=!1,this.Xf=!1,this.gb=!1,this.mb=t=>{this.Xf?this.mf.isEventInstanceOfMenu(t)||(this.Of=!0,this.mf.requestUpdate()):this.Xf=!0},this.KB=t=>{"Escape"===t.code&&(this.gb=!0,this.mf.requestUpdate())},this.$b=()=>{var t;let e=this.mf.querySelector("cnx-menu-item[selected]");e||(e=this.mf.querySelector("cnx-menu-item"));const i=null===(t=null==e?void 0:e.shadowRoot)||void 0===t?void 0:t.querySelector(".menu-item");i&&!this.Xf&&((0,Zt.cn)(i,"cnx-tab-focus"),i.focus())},this.Sb=()=>{this.Xf=!0},this.mf.addController(this)}get isClickOutsideMenu(){return this.Of}get isEscapePressed(){return this.gb}hostDisconnected(){this.ju()}hostUpdated(){this.mf.isOpen?(window.addEventListener("click",this.mb),window.addEventListener("contextmenu",this.Sb),window.addEventListener("keyup",this.KB),this.mf.addEventListener("transitionend",this.$b)):this.ju()}ju(){this.Xf=!1,this.Of=!1,this.gb=!1,window.removeEventListener("click",this.mb),window.removeEventListener("contextmenu",this.Sb),window.removeEventListener("keyup",this.KB),this.mf.removeEventListener("transitionend",this.$b)}}var Ks,tn,en,sn,nn,on=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},rn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let ln=Ks=class extends ut{constructor(){super(...arguments),this.breakpointClass=null,this.isMobile=!1,this.anchor=void 0,this.isOpen=!1,this.isForcedMenuPositionToAnchor=!1,this.hasHeader=!1,this.menuTitle="",this.Pl=null,this.dr=null,this.Nb=0,this.Wb=0,this.onClose=()=>{},this.ix=(t=!0)=>{if(!this.isOpen)return;t&&this.onClose(),this.menuItemsWrapper.style.height="",this.ox();const e=this.hasHeader?40:0;this.menuItemsWrapper.style.height=this.menuWrapper.clientHeight-e+"px",this.bx()}}render(){var t;const e=void 0!==this.onBack,i=Gs({shouldShowOnHover:!0,isHorizontal:!1});return Y`<div id="${this.id}" class="menu">${this.hasHeader?Y`<div class="menu--header" style="${e?"padding-left: 0":""}"><div>${this.onBack?Y`<cnx-button .config="${Ke}" .isMobile="${this.isMobile}" .breakpointClass="${this.breakpointClass}" @click="${this.onBack}"><slot name="prev-menu-icon" slot="icon">${Fi(Ke.icon)}</slot></cnx-button>`:null} <span tabindex="0" class="menu--title">${this.menuTitle}</span></div><cnx-button .config="${ti}" .isMobile="${this.isMobile}" .breakpointClass="${this.breakpointClass}" @click="${this.onClose}"><slot name="close-icon" slot="icon">${Fi(ti.icon)}</slot></cnx-button></div>`:null}<div ${i} class="menu--items-wrapper"><slot role="menu" aria-labelledby="${(null===(t=this.anchor)||void 0===t?void 0:t.id)||Q}"></slot></div></div>`}connectedCallback(){super.connectedCallback(),this.dr=window.document.getElementById(`${this.settings.templateUniqueID}`),this.dr&&this.resizeObserver.on(this.dr,this.ix),this.gx=new Js(this)}disconnectedCallback(){super.disconnectedCallback(),this.dr&&this.resizeObserver.off(this.dr,this.ix)}firstUpdated(){this.ox(),this.bx()}updated(){this.anchor&&(this.Mx(),this.isOpen&&this.ix(!1))}isEventInstanceOfMenu(t){return t.composedPath().some((t=>t instanceof Ks))}ox(){if(this.dr&&this.menuWrapper){const{width:t,height:e}=this.dr.getBoundingClientRect(),i=2*ui(this.dr);this.menuWrapper.style.maxWidth=t-i+"px",this.menuWrapper.style.maxHeight=e-i+"px"}}bx(){this.anchor&&this.Vx(this.anchor)}Vx(t){if(!this.menuWrapper)return;this.Pl||(this.Pl=new bi(this.menuWrapper,t,this.dr)),this.style.transform="";const{defaultX:e,defaultY:i}=this.Px(t,this.menuWrapper);this.Pl.setPositioning(e,i),this.Nb=this.Pl.translateX,this.Wb=this.Pl.translateY,this.style.transform=`translate(${this.Nb}px, ${this.Wb}px)`}Px(t,e){const i=t.getBoundingClientRect(),s=e.getBoundingClientRect();let n=-(s.left-i.left+s.width/2-i.width/2),o=-(s.height/2+i.height/2);return this.isForcedMenuPositionToAnchor&&(n=t.offsetLeft-s.width/2,o=t.offsetTop-s.height/2),{defaultX:n,defaultY:o}}Mx(){var t,e;((null===(t=this.gx)||void 0===t?void 0:t.isClickOutsideMenu)||(null===(e=this.gx)||void 0===e?void 0:e.isEscapePressed))&&this.onClose()}};ln.styles=[qs,Ws,ve],on([Gt(),rn("design:type","function"==typeof(tn="undefined"!=typeof LitUIBreakpointsEnum&&LitUIBreakpointsEnum)?tn:Object)],ln.prototype,"breakpointClass",void 0),on([Gt({type:Boolean}),rn("design:type",Object)],ln.prototype,"isMobile",void 0),on([Gt(),rn("design:type","function"==typeof(en="undefined"!=typeof HTMLElement&&HTMLElement)?en:Object)],ln.prototype,"anchor",void 0),on([Gt({type:Boolean}),rn("design:type",Object)],ln.prototype,"isOpen",void 0),on([Gt({type:Boolean}),rn("design:type",Object)],ln.prototype,"isForcedMenuPositionToAnchor",void 0),on([Gt({type:Boolean,reflect:!0}),rn("design:type",Object)],ln.prototype,"hasHeader",void 0),on([Gt({type:String}),rn("design:type",Object)],ln.prototype,"menuTitle",void 0),on([Gt({type:Function}),rn("design:type",Function)],ln.prototype,"onBack",void 0),on([be({context:ge}),rn("design:type",Object)],ln.prototype,"settings",void 0),on([be({context:ls}),rn("design:type",Object)],ln.prototype,"resizeObserver",void 0),on([te(".menu"),rn("design:type","function"==typeof(sn="undefined"!=typeof HTMLDivElement&&HTMLDivElement)?sn:Object)],ln.prototype,"menuWrapper",void 0),on([te(".menu--items-wrapper"),rn("design:type","function"==typeof(nn="undefined"!=typeof HTMLDivElement&&HTMLDivElement)?nn:Object)],ln.prototype,"menuItemsWrapper",void 0),on([Gt({type:Function}),rn("design:type",Function)],ln.prototype,"onClose",void 0),ln=Ks=on([qt("cnx-menu")],ln);const cn=c`:host{cursor:pointer}.menu-item{box-sizing:border-box;display:flex;justify-content:space-between;flex-direction:row;align-items:center;padding-left:16px;width:100%;height:40px;font-size:13px;font-style:normal;line-height:15px}.menu-item:hover{background-color:#fff;border-radius:4px}.menu-item:focus{outline:0;border:none;box-shadow:none}.menu-item.cnx-tab-focus:focus{outline:0;border:1px solid #0500ff}.menu-item.isClicked{background-color:#e3e3e3}.menu-item.selected{--cnx-menu-item-label:#4198f7;--cnx-menu-item-title:#4198f7;background-color:menuItemSelectedColor}.menu-item.hasLabel .menu-item--title{padding-right:24px}.menu-item--check{padding-right:12px}.menu-item--title{display:flex;align-items:center;font-weight:500;color:var(--cnx-menu-item-title,#6b6b6b);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-grow:1}.menu-item--label{font-weight:400;white-space:nowrap;overflow:hidden;color:var(--cnx-menu-item-label,#718096);text-overflow:ellipsis}.menu-item--label:last-child{padding-right:12px}.menu-item--arrow{width:40px;height:40px;display:flex;align-items:center;justify-content:center}.menu-item--arrow svg{-moz-transform:scaleX(-1);-o-transform:scaleX(-1);-ms-transform:scaleX(-1);-webkit-transform:scaleX(-1);transform:scaleX(-1)}`;var hn=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},an=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let pn=class extends(Li(ut,[ji.MenuItem],"div.menu-item")){constructor(){super(...arguments),this.isSubmenu=!1,this.isSelected=!1,this.hasLabel=!0,this.isClicked=!1,this.Zc=()=>{this.isClicked=!0},this.Xc=()=>{this.isClicked=!1}}render(){const t={selected:this.isSelected,hasLabel:this.hasLabel,isClicked:this.isClicked};return Y`<div part="menu-item-wrapper" class="menu-item ${ne(t)}" tabindex="0" @touchStart="${this.Zc}" @mousedown="${this.Zc}" @touchEnd="${this.Xc}" @mouseup="${this.Xc}" @mouseleave="${this.Xc}" role="${this.isSubmenu?"menuitem":"menuitemradio"}" aria-checked="${this.isSelected&&!this.isSubmenu||Q}" aria-haspopup="${this.isSubmenu||Q}"><div class="menu-item--title" part="menu-item-title"><slot></slot></div>${this.hasLabel?Y`<div class="menu-item--label" part="menu-item-label"><slot name="label"></slot></div>`:null} ${this.isSubmenu?Y`<div class="menu-item--arrow" part="menu-item-arrow">${Fi(Ve)}</div>`:null} ${this.isSelected?Y`<span class="menu-item--check">${Fi('<svg width="11" height="9" viewBox="0 0 11 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M11 0.946309L3.45714 9L0 5.30872L0.886286 4.36242L3.45714 7.10067L10.1137 0L11 0.946309Z" fill="#0099FF"/>\n</svg>\n')}</span>`:Q}</div>`}};pn.styles=cn,hn([Gt({type:Boolean}),an("design:type",Object)],pn.prototype,"isSubmenu",void 0),hn([Gt({type:Boolean,attribute:"selected"}),an("design:type",Object)],pn.prototype,"isSelected",void 0),hn([Gt({type:Boolean}),an("design:type",Object)],pn.prototype,"hasLabel",void 0),hn([Gt({type:Boolean}),an("design:type",Object)],pn.prototype,"isClicked",void 0),pn=hn([qt("cnx-menu-item")],pn);const dn=c`:host{position:absolute;bottom:calc(50% - 28px)}:host>div{justify-content:center;height:56px}:host>div.cnx-bp-xl-lit{gap:16px}:host>div.cnx-bp-lg-lit{gap:4px}:host>div.cnx-bp-md-lit{height:40px}:host(.cnx-bp-md-lit){bottom:calc(50% - 20px)}`;var un=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},fn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let bn=class extends(je(ut)){render(){return Y`${this.breakpointClass===ye.Z.XS||this.breakpointClass===ye.Z.SM?Q:Y`<div class="${this.breakpointClass}"><slot><cnx-previous-button part="buttons previous-button" exportparts="inner-previous-button"></cnx-previous-button><cnx-play-loader-wrapper exportparts="buttons, play-button, loader, ${Yt(qe.part)}"></cnx-play-loader-wrapper><cnx-next-button part="buttons next-button" exportparts="inner-next-button"></cnx-next-button></slot></div>`}`}};bn.styles=[Me,dn],un([be({context:ge}),fn("design:type",Object)],bn.prototype,"settings",void 0),bn=un([qt("cnx-middle-bar")],bn);const xn=c`:host([isCloseButtonAlwaysOn]){padding-right:40px}.logo-wrapper{display:flex}.label{padding-left:4px}`;var vn=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},gn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let mn=class extends(Di(je(ut))){constructor(){super(...arguments),this.isMenuOpen=!1,this.isCaptionsMenuOpen=!1,this.isQualitiesMenuOpen=!1,this.isFloating=!1,this.isCloseButtonAlwaysOn=!1,this.qx=zt(),this.ev=zt(),this.iv=zt(),this.Yh=()=>{this.isMenuOpen=!0},this.Jh=()=>{this.isCaptionsMenuOpen=!1,this.isQualitiesMenuOpen=!1,this.isMenuOpen=!1},this.cv=()=>{this.isMenuOpen=!1,this.isCaptionsMenuOpen=!0},this.pv=()=>{this.isMenuOpen=!1,this.isQualitiesMenuOpen=!0},this.jv=()=>{this.isMenuOpen=!0,this.isCaptionsMenuOpen=!1,this.isQualitiesMenuOpen=!1},this.Up=()=>{window.open(as.br,cs.bS.Blank)},this.hp=()=>this.isFloating?this.settings.floatingCloseButtonMode:this.settings.closeButtonMode,this.Lv=()=>{var t;this.videoMetadata.captionsList.length||(null===(t=this.ev.value)||void 0===t||t.requestUpdate(),this.isCaptionsMenuOpen&&this.Jh())}}connectedCallback(){super.connectedCallback(),this.subscriptionList.push(this.store.playerStates.isFloating.pipe((0,le.x)()).subscribe((t=>{this.isFloating=t})),this.store.activeCaptionItem.pipe((0,le.x)()).subscribe((()=>{this.Jh()})))}willUpdate(t){if(this.Lv(),this.isCloseButtonAlwaysOn=this.Av(),t.get("breakpointClass"))return;const e=this.isMenuOpen||this.isQualitiesMenuOpen||this.isCaptionsMenuOpen;this.store.playerStates.isMenuOpen.next(e),this.store.playerStates.isMenuOpenFromTopBar.next(e)}render(){var t,e,i;const s=this.isMenuOpen||this.isQualitiesMenuOpen||this.isCaptionsMenuOpen,n="more-menu",o="more-quality",r="more-captions";let l=n;this.isQualitiesMenuOpen&&(l=o),this.isCaptionsMenuOpen&&(l=r);const c=this.isCurrentBreakpointOver(ye.Z.SM),h=this.isCurrentBreakpointOver(ye.Z.MD)&&this.videoMetadata.captionsList.length,a=this.store.activeCaptionItem.value,p=null===(t=this.videoMetadata.captionsList.find((t=>t.file===a)))||void 0===t?void 0:t.title;return Y`<cnx-button id="more-menu-button" .config="${ei}" ?isMobile="${this.settings.isMobile}" .templateId="${this.settings.templateUniqueID}" .isExpanded="${s}" breakpointClass="${this.breakpointClass}" class="${this.breakpointClass}" controls="${l}" ${Ut(this.qx)} @click="${this.Yh}" exportparts="${Yt(ei.part)}"><slot slot="icon">${Fi(ei.icon)}</slot></cnx-button><cnx-menu ${Ut(this.ev)} id="${n}" .hasHeader="${!this.isCurrentBreakpointOver(ye.Z.MD)}" .anchor="${this.qx.value}" ?isOpen="${this.isMenuOpen}" ?isMobile="${this.settings.isMobile}" breakpointClass="${this.breakpointClass}" menuTitle="Menu" .onClose="${this.Jh}">${h?Y`<cnx-menu-item isSubmenu @click="${this.cv}">CC <span slot="label">${p||"OFF"}</span></cnx-menu-item>`:Q}<cnx-menu-item isSubmenu @click="${this.pv}">Quality <span slot="label">${c?null===(i=null===(e=this.iv.value)||void 0===e?void 0:e.getCurrentMenuQuality())||void 0===i?void 0:i.label:""}</span></cnx-menu-item><cnx-menu-item @click="${this.Up}"><div class="logo-wrapper">${Fi(rs)} ${c?Y`<span class="label">Connatix</span>`:null}</div><span slot="label">V${hs.g.version}</span></cnx-menu-item></cnx-menu><cnx-quality-menu ${Ut(this.iv)} id="${o}" .anchor="${this.qx.value}" hasHeader ?isOpen="${this.isQualitiesMenuOpen}" .onBack="${this.jv}" .onClose="${this.Jh}"></cnx-quality-menu><cnx-captions-menu-list id="${r}" .anchor="${this.qx.value}" hasHeader ?isOpen="${this.isCaptionsMenuOpen}" ?isMobile="${this.settings.isMobile}" breakpointClass="${this.breakpointClass}" .onBack="${this.jv}" .onClose="${this.Jh}"></cnx-captions-menu-list>`}Av(){if(this.hp()!==es.N.AlwaysOn)return!1;const t=this.settings.closeButtonLocation===Cs.g.OutsidePlayer;return!this.settings.isPinned&&!t||!this.isFloating}};mn.styles=[xn,ve],vn([be({context:ge,subscribe:!0}),gn("design:type",Object)],mn.prototype,"settings",void 0),vn([be({context:Vi,subscribe:!0}),gn("design:type",Object)],mn.prototype,"videoMetadata",void 0),vn([be({context:me}),gn("design:type",Object)],mn.prototype,"store",void 0),vn([Jt(),gn("design:type",Object)],mn.prototype,"isMenuOpen",void 0),vn([Jt(),gn("design:type",Object)],mn.prototype,"isCaptionsMenuOpen",void 0),vn([Jt(),gn("design:type",Object)],mn.prototype,"isQualitiesMenuOpen",void 0),vn([Jt(),gn("design:type",Object)],mn.prototype,"isFloating",void 0),vn([Gt({type:Boolean,reflect:!0}),gn("design:type",Object)],mn.prototype,"isCloseButtonAlwaysOn",void 0),mn=vn([qt("cnx-more-menu")],mn);const yn=c`.cnx-mute-watermark{display:flex;align-items:center;justify-content:center;width:40px;height:40px}.cnx-mute-watermark svg{fill:#fff}.cnx-mute-watermark svg path{fill:#fff}`;var wn=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},$n=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let jn=class extends(Di(ut)){constructor(){super(...arguments),this.currentVolume=0,this.lg=null}render(){return Y`<div class="cnx-mute-watermark">${this.settings.shouldShowMuteWatermark?this.Eg():null}</div>`}connectedCallback(){var t;super.connectedCallback(),this.lg=null===(t=this.store)||void 0===t?void 0:t.playerActions.volumeChange.pipe((0,le.x)()).subscribe((({payload:t})=>{this.currentVolume=t})),this.subscriptionList.push(this.lg)}Eg(){const t=0===this.currentVolume;return Y`${t?Y`${Fi(ze)}`:null}`}};jn.styles=yn,wn([be({context:ge}),$n("design:type",Object)],jn.prototype,"settings",void 0),wn([be({context:me}),$n("design:type",Object)],jn.prototype,"store",void 0),wn([Jt(),$n("design:type",Object)],jn.prototype,"currentVolume",void 0),jn=wn([qt("cnx-mute-watermark")],jn);var On=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},Cn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let kn=class extends(Di(je(ut))){constructor(){super(...arguments),this.Ig=!0,this.Ng=()=>{var t;null===(t=this.store)||void 0===t||t.playerActions.next.next()}}render(){return this.Ig?Y`<cnx-button .config="${Ye}" .isMobile="${this.settings.isMobile}" .templateId="${this.settings.templateUniqueID}" @click="${this.Ng}" exportparts="${Yt(Ye.part)}"><slot slot="icon">${Fi(Ye.icon)}</slot></cnx-button>`:Y`${Q}`}connectedCallback(){var t;super.connectedCallback();const e=[null===(t=this.store)||void 0===t?void 0:t.onTogglePlaylistControls.pipe((0,le.x)()).subscribe((t=>{this.Ig=t}))];this.subscriptionList.push(...e)}};kn.styles=ve,On([be({context:ge}),Cn("design:type",Object)],kn.prototype,"settings",void 0),On([be({context:me}),Cn("design:type",Object)],kn.prototype,"store",void 0),On([Jt(),Cn("design:type",Object)],kn.prototype,"_isPlaylistControlsVisible",void 0),kn=On([qt("cnx-next-button")],kn);const Rn={name:"stay",label:"Stay",tooltip:"Keep Watching (Esc)",part:"inner-stay-progress-button"},Ln={name:"next",label:"Next",tooltip:"Play Next (Shift+N)",part:"inner-next-progress-button"};var Mn=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},Sn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Hn=class extends(je(ut)){constructor(){super(...arguments),this.No=()=>{this.store.playerActions.nextButton.next()}}render(){const t=Object.assign(Object.assign({},Ln),{duration:this.settings.progressButtonsTimeDuration});return Y`<cnx-progress-button exportparts="${Yt(t.part)}" .config="${t}" @click="${this.No}"></cnx-progress-button>`}};Mn([be({context:ge}),Sn("design:type",Object)],Hn.prototype,"settings",void 0),Mn([be({context:me}),Sn("design:type",Object)],Hn.prototype,"store",void 0),Hn=Mn([qt("cnx-next-progress-button")],Hn);const Tn='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M10 21H4V3H10V21ZM20 21H14V3H20V21Z"/>\n</svg>\n';var Bn,En=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},Vn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let zn=class extends(Di(je(ut))){constructor(){super(...arguments),this.externalBreakpointClass="",this.contentState=Vs.x.Paused,this.wH=!1,this.Qg=zt(),this.Gg=null,this.sm=null,this.ym=()=>{var t,e;this.contentState===Vs.x.Playing?(this.contentState=Vs.x.Paused,null===(t=this.store)||void 0===t||t.playerActions.pause.next()):(this.contentState=Vs.x.Playing,null===(e=this.store)||void 0===e||e.playerActions.play.next())}}firstUpdated(){this.wH||!this.settings.isAutoplay&&!this.settings.isScrollToPlay||(this.contentState=Vs.x.Playing)}updated(){var t;this.contentState===Vs.x.Playing&&(this.wH=!0,null===(t=this.store)||void 0===t||t.playerStates.hasPlayerStarted.next(!0));const e=this.isCurrentBreakpointOver(ye.Z.SM)&&(this.settings.isClickToPlay||this.contentState===Vs.x.Stopped);this.Qg.value&&(0,Zt.og)(this.Qg.value,"click-to-play",!this.wH&&e),this.externalBreakpointClass&&Object.values(ye.Z).includes(this.externalBreakpointClass)&&(this.breakpointClass=this.externalBreakpointClass)}render(){const t=Object.assign(Object.assign({},qe),{tooltipLabel:this.contentState===Vs.x.Playing?Pe:_e}),e=this.contentState===Vs.x.Playing?this.sm:this.Gg;return Y`<cnx-button ${Ut(this.Qg)} .config="${t}" .isMobile="${this.settings.isMobile}" .templateId="${this.settings.templateUniqueID}" class="${this.breakpointClass}" breakpointClass="${this.breakpointClass}" @click="${this.ym}" exportparts="${Yt(t.part)}"><span slot="icon">${e}</span></cnx-button>`}connectedCallback(){var t;super.connectedCallback();this.querySelectorAll("[slot*='icon']").length>0?(this.Gg=this.querySelector('[slot="icon-play"]')||Fi(Ee),this.sm=this.querySelector('[slot="icon-pause"]')||Fi(Tn)):(this.Gg=Fi(Ee),this.sm=Fi(Tn));const e=[this.store.playerStates.contentState.pipe((0,le.x)()).subscribe((t=>{this.contentState=t})),null===(t=this.store)||void 0===t?void 0:t.playerStates.hasPlayerStarted.pipe((0,le.x)()).subscribe((t=>{this.wH=t}))];this.subscriptionList.push(...e)}};zn.styles=ve,En([Gt({type:String}),Vn("design:type",Object)],zn.prototype,"externalBreakpointClass",void 0),En([be({context:ge}),Vn("design:type",Object)],zn.prototype,"settings",void 0),En([be({context:me}),Vn("design:type",Object)],zn.prototype,"store",void 0),En([Jt(),Vn("design:type","function"==typeof(Bn=void 0!==Vs.x&&Vs.x)?Bn:Object)],zn.prototype,"contentState",void 0),zn=En([qt("cnx-play-button")],zn);const _n=c`:host([isLoaderVisible]) cnx-play-button{position:absolute;left:-9999px;top:-9999px}`;var Pn,Un=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},An=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Fn=class extends(Di(je(ut))){constructor(){super(...arguments),this.isLoaderVisible=!1,this.contentState=Vs.x.Paused}render(){return this.isLoaderVisible=[Vs.x.Buffering,Vs.x.Preroll,Vs.x.Postroll].includes(this.contentState),Y`${this.isLoaderVisible?Y`<cnx-loader part="loader"></cnx-loader>`:Q}<cnx-play-button part="buttons play-button" exportparts="${Yt(qe.part)}"></cnx-play-button>`}connectedCallback(){super.connectedCallback();const t=[this.store.playerStates.contentState.pipe((0,le.x)()).subscribe((t=>{this.contentState=t}))];this.subscriptionList.push(...t)}};Fn.styles=_n,Un([be({context:me}),An("design:type",Object)],Fn.prototype,"store",void 0),Un([Gt({type:Boolean,reflect:!0}),An("design:type",Object)],Fn.prototype,"isLoaderVisible",void 0),Un([Jt(),An("design:type","function"==typeof(Pn=void 0!==Vs.x&&Vs.x)?Pn:Object)],Fn.prototype,"contentState",void 0),Fn=Un([qt("cnx-play-loader-wrapper")],Fn);var In=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},Dn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Zn=class extends(Di(je(ut))){constructor(){super(...arguments),this.isPlaying=!1,this.Ig=!0,this.km=()=>{var t;null===(t=this.store)||void 0===t||t.playerActions.prev.next()}}firstUpdated(){(this.settings.isAutoplay||this.settings.isScrollToPlay)&&(this.isPlaying=!0)}render(){return Y`${this.Ig?Y`<cnx-button class="reverse-svg" .config="${Ne}" .isMobile="${this.settings.isMobile}" .templateId="${this.settings.templateUniqueID}" @click="${this.km}" exportparts="${Yt(Ne.part)}"><slot slot="icon">${Fi(Ne.icon)}</slot></cnx-button>`:""}`}connectedCallback(){var t;super.connectedCallback();const e=[null===(t=this.store)||void 0===t?void 0:t.onTogglePlaylistControls.pipe((0,le.x)()).subscribe((t=>{this.Ig=t}))];this.subscriptionList.push(...e)}};Zn.styles=ve,In([be({context:ge}),Dn("design:type",Object)],Zn.prototype,"settings",void 0),In([be({context:me}),Dn("design:type",Object)],Zn.prototype,"store",void 0),In([Jt(),Dn("design:type",Object)],Zn.prototype,"isPlaying",void 0),In([Jt(),Dn("design:type",Object)],Zn.prototype,"_isPlaylistControlsVisible",void 0),Zn=In([qt("cnx-previous-button")],Zn);const Xn=c`.cnx-buffered-progress,.cnx-hover-progress,.cnx-play-progress{position:absolute;left:0;bottom:0;width:100%;height:100%}.cnx-progress-input,.cnx-progress-rail{width:100%;height:100%}:host(.cnx-bp-sm-lit),:host(.cnx-bp-xs-lit){pointer-events:none}:host{width:100%}.cnx-progress-bar{position:relative;height:4px;background-color:rgba(255,255,255,.33);cursor:pointer}.cnx-progress-bar.cnx-bp-md-lit{margin:0 4px}.cnx-progress-rail{position:relative;overflow:hidden}.cnx-play-progress{background-color:var(--cnx-accent-color);left:-100%;z-index:4}.cnx-hover-progress{background-color:rgba(255,255,255,.33);transform:scaleX(0);transform-origin:0 0;z-index:3}.cnx-buffered-progress{background-color:rgba(255,255,255,.33);transform:scaleX(0);transform-origin:0 0;z-index:2}.cnx-progress-hitarea{position:absolute;width:100%;bottom:-10px;left:0;padding-top:24px;z-index:4}.cnx-progress-hitarea:focus-visible{outline:0}.cnx-progress-handle{width:12px;height:12px;top:50%;margin-top:-6px;position:absolute;left:0;border-radius:8px;background-color:#fff;transform:translateX(-50%);box-shadow:0 0 0 6px rgba(255,255,255,.4);transition:opacity .15s ease-in-out;opacity:0;z-index:5}.cnx-progress-input{position:absolute;top:0}.cnx-progress-input input{all:inherit}.cnx-progress-input input::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.cnx-progress-input input::-moz-range-thumb{appearance:none;opacity:0}.cnx-progress-range:focus{outline:0;border:1px solid #0500ff;box-shadow:0 0 0 1px rgba(255,255,255,.66);padding:2px;top:-3px;left:-3px}`;class Nn{constructor(t,e,i,s){this.mf=t,this.Vm=e,this.Km=i,this.wy=s,this.Iy=0,this.qy=0,this.sw=t=>{const e=t.clientX-this.qy;this.nw(e)&&this.Km(100*e/this.Iy)},this.mf.addController(this)}hostConnected(){this.mf.addEventListener("mouseenter",this.Vm),this.mf.addEventListener("mousemove",this.sw),this.mf.addEventListener("mouseleave",this.wy)}hostDisconnected(){this.mf.removeEventListener("mouseenter",this.Vm),this.mf.removeEventListener("mousemove",this.sw),this.mf.removeEventListener("mouseleave",this.wy)}hostUpdated(){var t,e;this.Iy=(null===(t=this.mf.$progressBar)||void 0===t?void 0:t.getBoundingClientRect().width)||0,this.qy=(null===(e=this.mf.$progressBar)||void 0===e?void 0:e.getBoundingClientRect().left)||0}nw(t){return t>=0&&t<=this.Iy}}class Yn{constructor(t,e,i,s,n){this.mf=t,this.W_=e,this.gw=i,this.$w=s,this.kw=n,this.Iy=0,this.qy=0,this.Bw=0,this.SE=0,this.Fw=!1,this.LC=()=>{this.Fw=!1},this.BC=()=>{this.Fw&&(this.m$(),this.kw()),this.Fw=!1},this.IC=t=>{if(t.stopPropagation(),!this.W_&&2===t.button)return;this.Fw=!0;const e=this.bE(t);this.Bw=e-this.qy,this.SE=e,this.nw(this.Bw)&&(this.y$(),this.gw(100*this.Bw/this.Iy))},this.k$=t=>{t.stopPropagation();const e=this.bE(t),i=this.Bw+(e-this.SE);this.nw(i)&&this.$w(100*i/this.Iy)},this.bC=t=>{t.stopPropagation(),this.Fw&&(this.m$(),this.kw())},this.mf.addController(this),this.IE=e?"touchmove":"mousemove"}hostConnected(){this.W_?(this.mf.addEventListener("touchstart",this.IC),this.mf.addEventListener("touchend",this.bC)):(this.mf.addEventListener("mousedown",this.IC),this.mf.addEventListener("mouseup",this.bC),window.addEventListener("mousedown",this.LC),window.addEventListener("mouseup",this.BC))}hostDisconnected(){this.W_?(this.mf.removeEventListener("touchstart",this.IC),this.mf.removeEventListener("touchend",this.bC)):(this.mf.removeEventListener("mousedown",this.IC),this.mf.removeEventListener("mouseup",this.bC),window.removeEventListener("mousedown",this.LC),window.removeEventListener("mouseup",this.BC))}hostUpdated(){var t,e;this.Iy=(null===(t=this.mf.$progressBar)||void 0===t?void 0:t.getBoundingClientRect().width)||0,this.qy=(null===(e=this.mf.$progressBar)||void 0===e?void 0:e.getBoundingClientRect().left)||0}nw(t){return t>=0&&t<=this.Iy}bE(t){return this.W_?t.changedTouches[0].clientX:t.clientX}y$(){this.W_?this.mf.addEventListener(this.IE,this.k$):window.addEventListener(this.IE,this.k$)}m$(){this.W_?this.mf.removeEventListener(this.IE,this.k$):window.removeEventListener(this.IE,this.k$)}}class qn{constructor(t,e){this.mf=t,this.T$=e,this.W$=t=>{if(this.mf.$rangeInput){const e=100*t.target.value/this.mf.$rangeInput.max;this.T$(e)}},this.mf.addController(this)}hostConnected(){const{$rangeInput:t}=this.mf;t&&(t.addEventListener("input",this.W$),t.addEventListener("change",this.W$))}hostDisconnected(){const{$rangeInput:t}=this.mf;t&&(t.removeEventListener("input",this.W$),t.removeEventListener("change",this.W$))}}var Wn,Qn,Gn,Jn,Kn,to,eo=i(1310),io=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},so=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let no=class extends(Li(ut,[ji.ProgressBar],'input[type="range"]')){constructor(){super(...arguments),this.value=0,this.total=0,this.breakpointClass="",this.isMobile=!1,this.buffered=0,this.Iy=0,this.sj=0,this.fj=!1,this.Xj=!1,this.onDragStart=()=>{},this.onDragMove=()=>{},this.onDragEnd=()=>{},this.Nj=t=>{const e=(0,fi.dQ)(0,100,0,this.Iy,t);if(this.$playProgress&&(this.$playProgress.style.transform=`translateX(${e}px)`),this.$progressHandle&&(this.$progressHandle.style.transform=`translateX(${e-this.sj}px)`),this.$bufferedProgress){const t=(0,fi.dQ)(0,this.total,0,100,this.buffered);this.$bufferedProgress.style.transform=`scaleX(${t/100})`}},this.gw=t=>{this.Nj(t),this.onDragStart(t)},this.$w=t=>{this.fj=!0,this.Nj(t),this.onDragMove(t)},this.kw=()=>{this.fj=!1,this.Gj(),this.onDragEnd()},this.Vm=()=>{this.Xj=!0,this.oO()},this.Km=t=>{this.$hoverProgress&&(this.$hoverProgress.style.transform=`scaleX(${t/100})`)},this.wy=()=>{this.Xj=!1,this.$hoverProgress&&(this.$hoverProgress.style.transform="scaleX(0)"),this.Gj()},this.rO=t=>{this.onDragStart(t),this.onDragEnd()}}get cO(){return this.breakpointClass===ye.Z.XS||this.breakpointClass===ye.Z.SM}connectedCallback(){super.connectedCallback(),new Yn(this,this.isMobile,this.gw,this.$w,this.kw),new Nn(this,this.Vm,this.Km,this.wy)}firstUpdated(t){super.firstUpdated(t),new qn(this,this.rO)}update(t){super.update(t),this.classList.value=this.breakpointClass,this.dO(),this.jO(),this.HO();const e=100*this.value/this.total;this.Nj(isNaN(e)?0:e)}render(){const t=(0,eo.qt)(this.value),e=(0,eo.qt)(this.total),i=Math.round(this.value),s=Math.round(this.total);return Y`<div class="cnx-progress-bar ${this.breakpointClass}"><div class="cnx-progress-rail"><div part="play-progress-bar" class="cnx-play-progress"></div><div part="hover-progress-bar" class="cnx-hover-progress"></div><div part="buffered-progress-bar" class="cnx-buffered-progress"></div></div><div tabindex="-1" class="cnx-progress-hitarea"></div><div part="progress-handle" class="cnx-progress-handle"></div><div part="progress-input" class="cnx-progress-input"><input type="range" step="5" max="${s}" aria-label="Seek" aria-valuemin="0" aria-valuemax="${s}" aria-valuenow="${i}" aria-valuetext="${t} of ${e}" class="cnx-progress-range"></div></div>`}HO(){this.$rangeInput&&(this.$rangeInput.value=Math.round(this.value))}oO(){this.$progressHandle&&(this.$progressHandle.style.opacity="1")}QO(){this.$progressHandle&&(this.$progressHandle.style.opacity="0")}dO(){this.isMobile&&(this.cO?this.QO():this.oO())}Gj(){this.isMobile||this.Xj||this.fj||this.QO()}jO(){var t,e;if(this.Iy=(null===(t=this.$progressBar)||void 0===t?void 0:t.getBoundingClientRect().width)||0,!this.sj){const t=(null===(e=this.$progressHandle)||void 0===e?void 0:e.getBoundingClientRect().width)||0;this.sj=t/2}}};no.styles=Xn,io([Gt({type:Number}),so("design:type",Object)],no.prototype,"value",void 0),io([Gt({type:Number}),so("design:type",Object)],no.prototype,"total",void 0),io([Gt({type:String}),so("design:type",Object)],no.prototype,"breakpointClass",void 0),io([Gt({type:Boolean}),so("design:type",Object)],no.prototype,"isMobile",void 0),io([Gt({type:Number}),so("design:type",Object)],no.prototype,"buffered",void 0),io([te(".cnx-progress-bar"),so("design:type","function"==typeof(Wn="undefined"!=typeof HTMLElement&&HTMLElement)?Wn:Object)],no.prototype,"$progressBar",void 0),io([te(".cnx-play-progress"),so("design:type","function"==typeof(Qn="undefined"!=typeof HTMLElement&&HTMLElement)?Qn:Object)],no.prototype,"$playProgress",void 0),io([te(".cnx-hover-progress"),so("design:type","function"==typeof(Gn="undefined"!=typeof HTMLElement&&HTMLElement)?Gn:Object)],no.prototype,"$hoverProgress",void 0),io([te(".cnx-progress-handle"),so("design:type","function"==typeof(Jn="undefined"!=typeof HTMLElement&&HTMLElement)?Jn:Object)],no.prototype,"$progressHandle",void 0),io([te(".cnx-progress-range"),so("design:type","function"==typeof(Kn="undefined"!=typeof HTMLProgressElement&&HTMLProgressElement)?Kn:Object)],no.prototype,"$rangeInput",void 0),io([te(".cnx-buffered-progress"),so("design:type","function"==typeof(to="undefined"!=typeof HTMLProgressElement&&HTMLProgressElement)?to:Object)],no.prototype,"$bufferedProgress",void 0),io([Gt({type:Function}),so("design:type",Function)],no.prototype,"onDragStart",void 0),io([Gt({type:Function}),so("design:type",Function)],no.prototype,"onDragMove",void 0),io([Gt({type:Function}),so("design:type",Function)],no.prototype,"onDragEnd",void 0),no=io([qt("cnx-progress-bar")],no);const oo=c`:host{width:100%}.cnx-progress{display:flex;align-items:center;width:100%;height:40px}.cnx-progress.cnx-bp-sm-lit,.cnx-progress.cnx-bp-xs-lit{height:4px;position:absolute;bottom:0;left:0}`;var ro,lo=i(5356),co=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},ho=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let ao=class extends(Di(je(ut))){constructor(){super(...arguments),this.currentTime=0,this.nC=null,this.yj=0,this.gw=t=>{var e;null===(e=this.store)||void 0===e||e.playerActions.seekingStart.next(),this.oC(t)},this.$w=t=>{this.oC(t)},this.kw=()=>{var t;null===(t=this.store)||void 0===t||t.playerActions.seekingEnd.next()},this.oC=t=>{var e;const i=this.yj;null===(e=this.store)||void 0===e||e.playerActions.seek.next((0,fi.dQ)(0,100,0,i,t))},this.uC=()=>{var t;const e=null===(t=(0,lo.mU)(this.nC,this.currentTime))||void 0===t?void 0:t.end;return e||0}}connectedCallback(){super.connectedCallback(),this.RC()}render(){return Y`<div class="cnx-progress ${this.breakpointClass}"><cnx-progress-bar breakpointClass="${this.breakpointClass}" value="${this.currentTime}" total="${this.yj}" buffered="${this.uC()}" ?isMobile="${this.settings.isMobile}" .onDragStart="${this.gw}" .onDragMove="${this.$w}" .onDragEnd="${this.kw}" exportparts="play-progress-bar, hover-progress-bar, buffered-progress-bar, progress-handle, progress-input"></cnx-progress-bar></div>`}RC(){var t,e,i;const s=null===(t=this.store)||void 0===t?void 0:t.duration.pipe((0,le.x)()).subscribe((t=>{this.yj=t})),n=null===(e=this.store)||void 0===e?void 0:e.currentTime.pipe((0,le.x)()).subscribe((t=>{this.currentTime=t})),o=null===(i=this.store)||void 0===i?void 0:i.bufferRanges.subscribe((t=>{this.nC=t}));this.subscriptionList.push(s,n,o)}};ao.styles=oo,co([Jt(),ho("design:type",Object)],ao.prototype,"currentTime",void 0),co([be({context:ge}),ho("design:type",Object)],ao.prototype,"settings",void 0),co([be({context:me}),ho("design:type",Object)],ao.prototype,"store",void 0),co([Jt(),ho("design:type","function"==typeof(ro="undefined"!=typeof TimeRanges&&TimeRanges)?ro:Object)],ao.prototype,"_bufferRanges",void 0),ao=co([qt("cnx-progress")],ao);const po=c`@keyframes background-progress{from{transform:translate(0)}to{transform:translate(100%)}}:host(:focus) .cnx-progress-button-background,:host(:focus) .cnx-progress-button-wrapper::after,:host(:focus-visible) .cnx-progress-button-background,:host(:focus-visible) .cnx-progress-button-wrapper::after,:host(:hover) .cnx-progress-button-background,:host(:hover) .cnx-progress-button-wrapper::after{opacity:.66}.cnx-progress-button-wrapper{position:relative;background-color:#fff;overflow:hidden;border-radius:4px;border:1px solid #fff}.cnx-progress-button-wrapper cnx-button{position:relative;height:40px;width:auto;z-index:2;border-radius:4px;background:0 0}.cnx-progress-button-wrapper .cnx-progress-button-background{position:absolute;left:-100%;top:0;height:100%;width:100%;z-index:1;background-color:var(--cnx-accent-color)}.cnx-progress-button-wrapper::after{content:'';position:absolute;height:100%;width:100%;z-index:1;left:0;top:0;background-color:#1f1f1f}.cnx-progress-button-wrapper.with-progress-effect .cnx-progress-button-background,.cnx-progress-button-wrapper.with-progress-effect::after{animation-name:background-progress;animation-duration:var(--cnx-background-animation-duration);animation-timing-function:linear;animation-fill-mode:forwards}`;var uo=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},fo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let bo=class extends(je(ut)){constructor(){super(...arguments),this.config=null,this.FC=zt()}render(){var t;if(!this.config)throw new Error("Progress button config is missing");const e={name:this.config.name,displayLabel:this.config.label,tooltipLabel:this.config.tooltip},i=Object.assign(Object.assign({},(null===(t=this.config)||void 0===t?void 0:t.duration)&&this.config.duration>0?{"--cnx-background-animation-duration":`${this.config.duration}s`}:null),{"font-family":this.settings.pageFont});return Y`<div class="cnx-progress-button-wrapper ${this.config.duration?"with-progress-effect":""}" style="${It(i)}"><cnx-button .config="${e}" ?isMobile="${this.settings.isMobile}" .templateId="${this.settings.templateUniqueID}" breakpointClass="${this.breakpointClass}" class="${this.breakpointClass} no-hover-effect" exportparts="inner-next-progress-button, inner-stay-progress-button"><slot slot="label">${e.displayLabel}</slot></cnx-button>${this.config.duration?Y`<div class="cnx-progress-button-background" ${Ut(this.FC)}></div>`:Q}</div>`}};bo.styles=po,uo([be({context:ge}),fo("design:type",Object)],bo.prototype,"settings",void 0),uo([be({context:me}),fo("design:type",Object)],bo.prototype,"store",void 0),uo([Gt(),fo("design:type",Object)],bo.prototype,"config",void 0),bo=uo([qt("cnx-progress-button")],bo);const xo=c`:host{height:100%;display:flex;align-items:center}.cnx-progress-time{padding:0 8px;color:#fff;font-size:12px}.cnx-progress-time.cnx-bp-md-lit,.cnx-progress-time.cnx-bp-sm-lit,.cnx-progress-time.cnx-bp-xs-lit{display:none}`;var vo=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},go=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let mo=class extends(Di(je(ut))){constructor(){super(...arguments),this.currentTime=0,this.type="elapsed",this.yj=0}render(){const t="elapsed"===this.type?this.currentTime:isNaN(this.yj)?0:this.yj;return Y`<div part="progress-time elapsed-progress-time total-progress-time" class="cnx-progress-time ${this.breakpointClass}">${(0,eo.to)(t)}</div>`}connectedCallback(){super.connectedCallback(),this.RC()}RC(){var t,e;const i=null===(t=this.store)||void 0===t?void 0:t.duration.pipe((0,le.x)()).subscribe((t=>{this.yj=t})),s=null===(e=this.store)||void 0===e?void 0:e.currentTime.pipe((0,le.x)()).subscribe((t=>{this.currentTime=t}));this.subscriptionList.push(i,s)}};mo.styles=xo,vo([Jt(),go("design:type",Object)],mo.prototype,"currentTime",void 0),vo([be({context:me}),go("design:type",Object)],mo.prototype,"store",void 0),vo([Gt(),go("design:type",String)],mo.prototype,"type",void 0),mo=vo([qt("cnx-progress-time")],mo);const yo=(t,e,i)=>{const s=new Map;for(let n=e;n<=i;n++)s.set(t[n],n);return s},wo=Rt(class extends Lt{constructor(t){if(super(t),t.type!==Ct)throw Error("repeat() can only be used in text expressions")}ht(t,e,i){let s;void 0===i?i=e:void 0!==e&&(s=e);const n=[],o=[];let r=0;for(const e of t)n[r]=s?s(e,r):r,o[r]=i(e,r),r++;return{values:o,keys:n}}render(t,e,i){return this.ht(t,e,i).values}update(t,[e,i,s]){const n=$t(t),{values:o,keys:r}=this.ht(e,i,s);if(!Array.isArray(n))return this.dt=r,o;const l=this.dt??=[],c=[];let h,a,p=0,d=n.length-1,u=0,f=o.length-1;for(;p<=d&&u<=f;)if(null===n[p])p++;else if(null===n[d])d--;else if(l[p]===r[u])c[u]=mt(n[p],o[u]),p++,u++;else if(l[d]===r[f])c[f]=mt(n[d],o[f]),d--,f--;else if(l[p]===r[f])c[f]=mt(n[p],o[f]),gt(t,c[f+1],n[p]),p++,f--;else if(l[d]===r[u])c[u]=mt(n[d],o[u]),gt(t,n[p],n[d]),d--,u++;else if(void 0===h&&(h=yo(r,u,f),a=yo(l,p,d)),h.has(l[p]))if(h.has(l[d])){const e=a.get(r[u]),i=void 0!==e?n[e]:null;if(null===i){const e=gt(t,n[p]);mt(e,o[u]),c[u]=e}else c[u]=mt(i,o[u]),gt(t,n[p],i),n[e]=null;u++}else jt(n[d]),d--;else jt(n[p]),p++;for(;u<=f;){const e=gt(t,c[f+1]);mt(e,o[u]),c[u++]=e}for(;p<=d;){const t=n[p++];null!==t&&jt(t)}return this.dt=r,wt(t,c),W}}),$o=c`:host cnx-menu-item .hd-quality-badge{padding:1.5px 2px 1.5px 2.5px;letter-spacing:1px;border-radius:3px;margin-left:4px;font-size:11px;line-height:11px;background-color:#6b6b6b;color:#fff;pointer-events:none}:host cnx-menu-item .hd-quality-badge.selected{background-color:#4198f7}`;var jo,Oo=i(9490),Co=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},ko=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Ro=class extends(je(ut)){constructor(){super(...arguments),this.availableQualities=[],this.isOpen=!1,this.hasHeader=!1,this.anchor=void 0,this.onClose=()=>{},this.Ok=t=>{var e;const i=0===t.videoHeight,s=(null===(e=this.getCurrentMenuQuality())||void 0===e?void 0:e.videoHeight)||0;this.store.playerActions.qualityChange.next({height:i?s:t.videoHeight,quality:i?Oo.ZH.Auto:Oo.ZH.Strict}),this.onClose()}}render(){return Y`<cnx-menu id="${this.id}" .anchor="${this.anchor}" menuTitle="Quality" ?hasHeader="${this.hasHeader}" ?isOpen="${this.isOpen}" ?isMobile="${this.settings.isMobile}" breakpointClass="${this.breakpointClass}" .onBack="${this.onBack}" .onClose="${this.onClose}">${wo(this.videoMetadata.availableQualities,(t=>t.videoHeight),(t=>Y`<cnx-menu-item id="${t.videoHeight}" .isSelected="${this.Ek(t)}" @click="${()=>this.Ok(t)}">${Y`${this.Fk(t)}`}</cnx-menu-item>`))}</cnx-menu>`}getCurrentMenuQuality(){return this.videoMetadata.availableQualities.find((t=>{if(!this.videoMetadata.currentQuality)return!1;const{qualitySettings:e}=this.videoMetadata.currentQuality;return e.quality===Oo.ZH.Auto?0===t.videoHeight:t.videoHeight===e.height}))}Ek(t){if(!this.videoMetadata.currentQuality)return!1;const{qualitySettings:e}=this.videoMetadata.currentQuality,i=this.getCurrentMenuQuality();return e.quality===Oo.ZH.Auto&&0===t.videoHeight||t.videoHeight===(null==i?void 0:i.videoHeight)}Fk(t){if(!this.videoMetadata.currentQuality)return this.Kk(t);const{qualitySettings:e}=this.videoMetadata.currentQuality;if(e.quality===Oo.ZH.Auto&&0===t.videoHeight&&(0,Oe.r)(e.height)){const i=(0,fi.DE)(e.height,this.videoMetadata.availableQualities.map((t=>t.videoHeight))),s=`${t.label}(${i}p)`;return this.Kk(t,s)}return this.Kk(t)}Kk(t,e){return Y`${null!=e?e:t.label} ${t.isHD?Y`<span class="hd-quality-badge ${this.Ek(t)?"selected":""}">HD</span>`:Q}`}};Ro.styles=$o,Co([be({context:ge}),ko("design:type",Object)],Ro.prototype,"settings",void 0),Co([be({context:me}),ko("design:type",Object)],Ro.prototype,"store",void 0),Co([be({context:Vi,subscribe:!0}),ko("design:type",Object)],Ro.prototype,"videoMetadata",void 0),Co([Gt({type:Array}),ko("design:type",Array)],Ro.prototype,"availableQualities",void 0),Co([Gt({type:Boolean}),ko("design:type",Object)],Ro.prototype,"isOpen",void 0),Co([Gt({type:Boolean}),ko("design:type",Object)],Ro.prototype,"hasHeader",void 0),Co([Gt(),ko("design:type","function"==typeof(jo="undefined"!=typeof HTMLElement&&HTMLElement)?jo:Object)],Ro.prototype,"anchor",void 0),Co([Gt({type:Function}),ko("design:type",Function)],Ro.prototype,"onBack",void 0),Co([Gt({type:Function}),ko("design:type",Function)],Ro.prototype,"onClose",void 0),Ro=Co([qt("cnx-quality-menu")],Ro);const Lo=c`:host>div{display:flex;justify-content:space-between}.cnx-resting-bottom-bar-wrapper{position:absolute}.cnx-resting-bottom-bar-wrapper cnx-logo{justify-content:flex-end}.cnx-resting-bottom-bar-wrapper.cnx-bp-xl-lit{bottom:10px;left:10px;right:10px}.cnx-resting-bottom-bar-wrapper.cnx-bp-lg-lit{bottom:6px;left:6px;right:6px}.cnx-resting-bottom-bar-wrapper.cnx-bp-md-lit,.cnx-resting-bottom-bar-wrapper.cnx-bp-sm-lit{bottom:2px;left:2px;right:2px}.cnx-resting-bottom-bar-wrapper.cnx-bp-xs-lit{display:none}`;var Mo=i(4467),So=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},Ho=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let To=class extends(je(ut)){render(){const t=this.settings.logoPosition===Mo.q.BottomRight;return Y`<div class="cnx-resting-bottom-bar-wrapper ${this.breakpointClass}"><div><cnx-mute-watermark></cnx-mute-watermark></div><div>${t?Y`<cnx-logo part="logo-image"></cnx-logo>`:Q}</div></div>`}};To.styles=Lo,So([be({context:ge}),Ho("design:type",Object)],To.prototype,"settings",void 0),To=So([qt("cnx-resting-bottom-bar")],To);const Bo=c`:host>div{display:flex;justify-content:space-between}.cnx-resting-top-bar-wrapper{position:absolute}.cnx-resting-top-bar-wrapper cnx-logo{justify-content:flex-start}.cnx-resting-top-bar-wrapper.cnx-bp-xl-lit{top:10px;left:10px;right:10px}.cnx-resting-top-bar-wrapper.cnx-bp-lg-lit{top:6px;left:6px;right:6px}.cnx-resting-top-bar-wrapper.cnx-bp-md-lit,.cnx-resting-top-bar-wrapper.cnx-bp-sm-lit{top:2px;left:2px;right:2px}.cnx-resting-top-bar-wrapper.cnx-bp-xs-lit{display:none}`;var Eo=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},Vo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let zo=class extends(je(ut)){render(){const t=this.settings.logoPosition===Mo.q.TopLeft;return Y`<div class="cnx-resting-top-bar-wrapper ${this.breakpointClass}"><div>${t?Y`<cnx-logo part="logo-image"></cnx-logo>`:Q}</div><div></div></div>`}};zo.styles=Bo,Eo([be({context:ge}),Vo("design:type",Object)],zo.prototype,"settings",void 0),zo=Eo([qt("cnx-resting-top-bar")],zo);const _o=c`.cnx-ui-hd-badge{width:17px;height:11px;border-radius:1px;background-color:var(--cnx-accent-color);display:flex;align-items:center;justify-content:center;position:absolute;top:6px;right:5px;pointer-events:none}.cnx-settings-button-wrapper{position:relative}`;var Po,Uo=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},Ao=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Fo=class extends(je(ut)){constructor(){super(...arguments),this.availableQualities=[],this.isMenuOpen=!1,this.qx=zt(),this.fR={tooltipLabel:"Settings",name:"settings",icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8.9736 2.80388C9.06709 2.33646 9.4775 2 9.95418 2H13.3146C13.7913 2 14.2017 2.33646 14.2952 2.80388L14.7715 5.18564C15.1921 5.37958 15.5916 5.6113 15.9658 5.87647L18.2681 5.09765C18.7196 4.94489 19.2162 5.13209 19.4545 5.54491L21.1347 8.4551C21.3731 8.86791 21.2869 9.39157 20.9288 9.70625L19.1031 11.3107C19.1238 11.5377 19.1344 11.7676 19.1344 12C19.1344 12.2324 19.1238 12.4623 19.1031 12.6893L20.9288 14.2938C21.2869 14.6084 21.3731 15.1321 21.1347 15.5449L19.4545 18.4551C19.2162 18.8679 18.7196 19.0551 18.2681 18.9024L15.9658 18.1235C15.5916 18.3887 15.1921 18.6204 14.7715 18.8144L14.2952 21.1961C14.2017 21.6635 13.7913 22 13.3146 22H9.95418C9.4775 22 9.06709 21.6635 8.9736 21.1961L8.49726 18.8144C8.07668 18.6204 7.67712 18.3887 7.30292 18.1235L5.00069 18.9024C4.54914 19.0551 4.05255 18.8679 3.81421 18.4551L2.13402 15.5449C1.89568 15.1321 1.98185 14.6084 2.33991 14.2938L4.16561 12.6893C4.14493 12.4623 4.13436 12.2324 4.13436 12C4.13436 11.7676 4.14493 11.5377 4.16561 11.3107L2.33991 9.70624C1.98185 9.39157 1.89568 8.86791 2.13402 8.45509L3.81421 5.54491C4.05256 5.13209 4.54915 4.94489 5.00069 5.09764L7.30292 5.87646C7.67712 5.61129 8.07668 5.37956 8.49726 5.18562L8.9736 2.80388ZM13.6344 12C13.6344 13.1046 12.739 14 11.6344 14C10.5298 14 9.63438 13.1046 9.63438 12C9.63438 10.8954 10.5298 10 11.6344 10C12.739 10 13.6344 10.8954 13.6344 12ZM16.6344 12C16.6344 14.7614 14.3958 17 11.6344 17C8.87296 17 6.63438 14.7614 6.63438 12C6.63438 9.23858 8.87296 7 11.6344 7C14.3958 7 16.6344 9.23858 16.6344 12Z"/>\n</svg>\n',hasPopup:!0,part:"inner-settings-menu-button"},this.Yh=()=>{this.isMenuOpen=!0},this.Jh=()=>{this.isMenuOpen=!1}}updated(t){t.get("breakpointClass")||this.store.playerStates.isMenuOpen.next(this.isMenuOpen)}render(){var t;const e={display:(null===(t=this.videoMetadata.currentQuality)||void 0===t?void 0:t.isHD)?"flex":"none"};return Y`<div class="cnx-settings-button-wrapper"><cnx-button id="cnx-settings-button" .config="${this.fR}" ?isMobile="${this.settings.isMobile}" .templateId="${this.settings.templateUniqueID}" .isExpanded="${this.isMenuOpen}" breakpointClass="${this.breakpointClass}" class="${this.breakpointClass}" ${Ut(this.qx)} @click="${this.Yh}" exportparts="${Yt(this.fR.part)}"><slot slot="icon">${Fi(this.fR.icon)}</slot></cnx-button><div id="cnx-badge" class="cnx-ui-hd-badge" style="${It(e)}">${Fi('<svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M5 7H3.91003V3.88942H1.09429V7H0V0H1.09429V2.91346H3.91003V0H5V7ZM7 7.01241V0.0124147H8.97974C9.57213 0.0124147 10.0978 0.150234 10.5566 0.425876C11.0155 0.701519 11.3708 1.09254 11.6225 1.59895C11.8742 2.10537 12 2.68549 12 3.33934V3.6903C12 4.35376 11.8734 4.93709 11.6202 5.4403C11.3669 5.94351 11.0063 6.33132 10.5382 6.60376C10.0701 6.8762 9.53377 7.01241 8.9291 7.01241H7ZM7.98904 1.00324V6.00324H9.17136C9.75437 6.00324 10.2019 5.80562 10.5139 5.41038C10.8259 5.01514 10.9848 4.44768 10.9907 3.708V3.32228C10.9907 2.5699 10.8398 1.9953 10.5381 1.59847C10.2363 1.20165 9.79831 1.00324 9.22409 1.00324H7.98904Z" fill="white"/>\n</svg>\n')}</div></div><cnx-quality-menu id="cnx-settings-menu" .anchor="${this.qx.value}" ?isOpen="${this.isMenuOpen}" .onClose="${this.Jh}"></cnx-quality-menu>`}};Fo.styles=[_o,ve],Uo([be({context:ge}),Ao("design:type",Object)],Fo.prototype,"settings",void 0),Uo([be({context:me}),Ao("design:type",Object)],Fo.prototype,"store",void 0),Uo([be({context:Vi,subscribe:!0}),Ao("design:type",Object)],Fo.prototype,"videoMetadata",void 0),Uo([Gt({type:Array}),Ao("design:type",Array)],Fo.prototype,"availableQualities",void 0),Uo([Jt(),Ao("design:type",Object)],Fo.prototype,"isMenuOpen",void 0),Uo([function(t){return(e,i)=>Kt(e,i,{get(){return(this.renderRoot??(ee??=document.createDocumentFragment())).querySelectorAll(t)}})}("cnx-menu-item"),Ao("design:type",Array)],Fo.prototype,"menuItemList",void 0),Uo([te(".cnx-ui-hd-badge"),Ao("design:type","function"==typeof(Po="undefined"!=typeof HTMLElement&&HTMLElement)?Po:Object)],Fo.prototype,"$HDBadge",void 0),Fo=Uo([qt("cnx-settings-menu")],Fo);var Io=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},Do=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Zo=class extends(je(ut)){constructor(){super(...arguments),this.No=()=>{this.store.playerActions.stayButton.next()}}render(){return Y`<cnx-progress-button .config="${Rn}" @click="${this.No}" exportparts="${Yt(Rn.part)}"></cnx-progress-button>`}};Io([be({context:me}),Do("design:type",Object)],Zo.prototype,"store",void 0),Zo=Io([qt("cnx-stay-progress-button")],Zo);const Xo=c`:host{width:40px;height:40px;display:flex;align-items:center;justify-content:center}:host .symbol-wrapper{width:36px;height:36px;display:flex}:host(.cnx-bp-lg-lit) .symbol-wrapper,:host(.cnx-bp-md-lit) .symbol-wrapper{width:32px;height:32px}:host img{max-width:100%;max-height:100%;margin:auto}`;var No=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},Yo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let qo=class extends ut{constructor(){super(...arguments),this.eu=72,this.iu=72}render(){return Y`<div class="symbol-wrapper">${(0,Oe.QM)(this.settings.symbolUrl)?Y`<img src="${Zs(this.settings.symbolUrl,this.eu,this.iu)}" alt="symbol">`:Q}</div>`}};qo.styles=Xo,No([be({context:ge,subscribe:!0}),Yo("design:type",Object)],qo.prototype,"settings",void 0),qo=No([qt("cnx-symbol-image")],qo);const Wo=c`:host{display:flex}.title{display:flex;align-items:center;font-size:15px;line-height:18px;color:#fff;text-shadow:0 2px 2px rgba(0,0,0,.25);padding:0 4px}.title.cnx-bp-lg-lit{font-size:14px;line-height:16px}.title.cnx-bp-md-lit,.title.cnx-bp-sm-lit{font-size:13px;line-height:16px}.title span{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;word-break:break-word}`;var Qo=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},Go=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Jo=class extends(je(ut)){render(){return Y`<div part="video-title" class="${this.breakpointClass} title"><span part="video-title-text">${this.videoMetadata.videoTitle}</span></div>`}};Jo.styles=Wo,Qo([be({context:Vi,subscribe:!0}),Go("design:type",Object)],Jo.prototype,"videoMetadata",void 0),Jo=Qo([qt("cnx-title")],Jo);const Ko=c`div.cnx-ui-top-bar-container{height:40px}.symbol-title-group{display:flex;flex:1}.cnx-top-bar-buttons{display:flex}`;var tr=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},er=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let ir=class extends(Di(je(ut))){constructor(){super(...arguments),this.isFloating=!1,this.hp=()=>this.isFloating?this.settings.floatingCloseButtonMode:this.settings.closeButtonMode}connectedCallback(){super.connectedCallback(),this.subscriptionList.push(this.store.playerStates.isFloating.pipe((0,le.x)()).subscribe((t=>{this.isFloating=t})))}render(){return Y`<div class="cnx-ui-top-bar-container ${this.breakpointClass}"><slot><div class="symbol-title-group">${this.isCurrentBreakpointOver(ye.Z.SM)&&this.settings.symbolUrl?Y`<cnx-symbol-image part="symbol-image" class="${this.breakpointClass}"></cnx-symbol-image>`:Q} ${this.isCurrentBreakpointOver(ye.Z.XS)&&this.videoMetadata.videoTitle&&this.settings.shouldShowVideoTitle?Y`<cnx-title exportparts="video-title, video-title-text"></cnx-title>`:Q}</div><div class="cnx-top-bar-buttons">${this.isCurrentBreakpointOver(ye.Z.XS)?Y`<cnx-more-menu part="buttons more-menu-button" exportparts="inner-more-menu-button"></cnx-more-menu>`:Q} ${this.CR()?Y`<cnx-close-button part="buttons top-bar-close-button" exportparts="inner-top-bar-close-button"></cnx-close-button>`:Q}</div></slot></div>`}CR(){const t=this.isFloating&&this.settings.isPinned,e=this.hp()===es.N.AlwaysOn;if(t||e)return!1;return!(this.settings.closeButtonLocation===Cs.g.OutsidePlayer)||!this.isFloating}};ir.styles=[Me,Ko],tr([be({context:me}),er("design:type",Object)],ir.prototype,"store",void 0),tr([be({context:ge,subscribe:!0}),er("design:type",Object)],ir.prototype,"settings",void 0),tr([be({context:Vi,subscribe:!0}),er("design:type",Object)],ir.prototype,"videoMetadata",void 0),tr([Jt(),er("design:type",Object)],ir.prototype,"isFloating",void 0),ir=tr([qt("cnx-top-bar")],ir);const sr=c`:host{width:auto;height:auto;border:1px solid #fff;border-radius:4px;overflow:hidden}`;var nr=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},or=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let rr=class extends(Di(je(ut))){constructor(){super(...arguments),this.isUpNextBoxInView=!1,this.UR=!1}render(){const t=this.isCurrentBreakpointOver(ye.Z.SM)&&this.settings.hasUpNext;return Y`${t?Y`<cnx-up-next-box description="${this.description}" thumbnailURL="${this.thumbnailURL}" @click="${this.WR}"></cnx-up-next-box>`:null}`}connectedCallback(){var t,e;super.connectedCallback(),this.subscriptionList.push(null===(t=this.store)||void 0===t?void 0:t.currentTime.pipe((0,le.x)()).subscribe((t=>this.sL(t))),null===(e=this.store)||void 0===e?void 0:e.experienceActions.updateUpNextBox.subscribe((t=>{this.description=t.description,this.thumbnailURL=t.imageURL})))}firstUpdated(t){super.firstUpdated(t),this.addEventListener("transitionstart",(()=>this.cL(!0))),this.addEventListener("transitionend",(()=>this.cL(!1)))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("transitionstart",(()=>this.cL(!0))),this.removeEventListener("transitionend",(()=>this.cL(!1)))}update(t){super.update(t),this.store.playerStates.isUpNextBoxInView.next(this.isUpNextBoxInView)}sL(t){var e;const i=null===(e=this.store)||void 0===e?void 0:e.duration.value;0===i||0===t?(this.isUpNextBoxInView=!1,this.classList.remove("show")):(0,Oe.$K)(i)&&i>0&&(this.UR||(this.isUpNextBoxInView=i-t<=5,this.isUpNextBoxInView?this.classList.add("show"):this.classList.remove("show")))}cL(t){this.UR=t}WR(){var t;this.isUpNextBoxInView&&!this.UR&&(this.isUpNextBoxInView=!1,this.cL(!0),null===(t=this.store)||void 0===t||t.playerActions.next.next(),this.classList.remove("show"))}};rr.styles=sr,nr([be({context:ge}),or("design:type",Object)],rr.prototype,"settings",void 0),nr([be({context:me}),or("design:type",Object)],rr.prototype,"store",void 0),nr([Jt(),or("design:type",String)],rr.prototype,"description",void 0),nr([Jt(),or("design:type",String)],rr.prototype,"thumbnailURL",void 0),nr([Jt(),or("design:type",Object)],rr.prototype,"isUpNextBoxInView",void 0),rr=nr([qt("cnx-up-next")],rr);const lr=c`:host{display:block;height:60px;width:120px;overflow:hidden;cursor:pointer}.up-next-box-wrapper{overflow:hidden;display:flex;flex-direction:column;height:100%}.up-next-image-overlay,.up-next-thumbnail{position:absolute;height:100%;width:100%;left:0;top:0;overflow:hidden}.up-next-image-overlay{background-color:rgba(0,0,0,.4);z-index:1}.up-next-button{display:inline-block;padding:2px;background:#fff;font-size:12px;border-radius:0 0 4px 0;position:relative;top:-2px;font-weight:500;color:#09f;z-index:2;align-self:flex-start}.up-next-description{display:flex;position:relative;font-size:12px;margin:0;padding:3px 6px 4px 5px;color:#fff;z-index:2;overflow:hidden;flex:1;clip-path:inset(0 0 4px 0)}`;var cr=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},hr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let ar=class extends(Li(ut,[ji.UpNext],"div.up-next-button")){render(){return Y`<div class="up-next-box-wrapper"><div role="button" tabindex="0" aria-label="Next" class="up-next-button">NEXT</div><div class="up-next-image-overlay"></div><img class="up-next-thumbnail" alt="Next Video" src="${this.thumbnailURL}"><p class="up-next-description">${this.description}</p></div>`}};ar.styles=lr,cr([Jt(),hr("design:type",Object)],ar.prototype,"store",void 0),cr([Gt(),hr("design:type",String)],ar.prototype,"thumbnailURL",void 0),cr([Gt(),hr("design:type",String)],ar.prototype,"description",void 0),ar=cr([qt("cnx-up-next-box")],ar);const pr=c`:host([is-horizontal]) .volume-control-wrapper{flex-direction:row}:host([is-horizontal]) .volume-control-wrapper.has-hover-effect{width:fit-content}:host([has-absolute-slider]) .volume-control-wrapper{border-radius:0 0 42px 42px}:host([has-absolute-slider]):host([is-horizontal]) .volume-control-wrapper{border-radius:42px 0 0 42px}.volume-control-wrapper{position:relative;display:flex;flex-direction:column-reverse;width:40px;min-height:40px;border-radius:42px}.volume-control-wrapper.has-hover-effect{background-color:rgba(255,255,255,.4)}`,dr='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M1 15.6V8.4H6L12 3V21L6 15.6H1ZM18 11.9999C18 14.0942 16.7737 15.9021 15 16.7447V7.25513C16.7737 8.09772 18 9.90561 18 11.9999Z"/>\n</svg>\n',ur='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M15 23.8184C20.1941 22.3493 24 17.5737 24 11.9092C24 6.24468 20.1941 1.46909 15 0V2.36031C18.9325 3.75026 21.75 7.50069 21.75 11.9092C21.75 16.3177 18.9325 20.0681 15 21.458V23.8184ZM1 8.4V15.6H6L12 21V3L6 8.4H1ZM15 16.7447C16.7737 15.9021 18 14.0942 18 11.9999C18 9.90561 16.7737 8.09772 15 7.25513V16.7447Z"/>\n</svg>\n';var fr=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},br=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let xr=class extends(Di(je(ut))){constructor(){super(...arguments),this.isSliderVisible=!1,this.hasAbsoluteSlider=!1,this.shouldShowSlider=!1,this.isSeeking=!1,this.currentVolume=0,this.isHorizontalSlider=!1,this.hl=100,this.ML="muted",this.KL=!1,this.rE=zt(),this.oM=50,this.rM=null,this.EM=null,this.AM=null,this.JM=()=>{this.isSliderVisible||(this.shouldShowSlider=!0)},this.pS=()=>{this.isSliderVisible||(this.shouldShowSlider=!1,this.KL=!1)},this.US=()=>{this.KL=!0,this.JM()},this.IS=()=>{setTimeout((()=>{this.KL||this.pS()}),0)},this.NS=t=>{this.isSeeking=t},this.sH=()=>{var t;const e="muted"===this.ML?this.hl?this.hl:100:0;null===(t=this.store)||void 0===t||t.playerActions.volumeChange.next({payload:e,isFinal:!0})},this.LD=(t,e)=>{var i;this.currentVolume!==t&&(this.hl=t,null===(i=this.store)||void 0===i||i.playerActions.volumeChange.next({payload:t,isFinal:e}))},this.FH=t=>{var e;const i=0===t?"muted":t<this.oM?"half":"full";(this.rE.value||i!==this.ML)&&(this.ML=i,null===(e=this.rE.value)||void 0===e||e.updateConfig({icon:"muted"===this.ML?ze:"half"===this.ML?dr:ur,tooltipLabel:"muted"===this.ML?Ae:Ue}))}}render(){const t=[this.isSeeking,this.shouldShowSlider,this.isSliderVisible],e=this.isCurrentBreakpointOver(ye.Z.SM)&&!this.settings.isMobile&&t.some((t=>t)),i=Object.assign(Object.assign({},We),{tooltipLabel:"muted"===this.ML?Ae:Ue}),s="muted"===this.ML?this.rM:"half"===this.ML?this.EM:this.AM;return Y`<div class="volume-control-wrapper ${e?"has-hover-effect":""}" @mouseleave="${this.pS}"><cnx-button part="buttons volume-button" .config="${i}" .isMobile="${this.settings.isMobile}" class="${this.isCurrentBreakpointOver(ye.Z.SM)?"no-hover-effect":""}" ${Ut(this.rE)} @click="${this.sH}" @focus="${this.JM}" @blur="${this.IS}" @mouseenter="${this.JM}" exportparts="${Yt(i.part)}"><span slot="icon">${s}</span></cnx-button><cnx-volume-slider part="volume-slider" exportparts="volume-slider-bar, volume-slider-seek, volume-slider-wrapper" ?is-visible="${e}" ?is-horizontal="${this.isHorizontalSlider}" ?has-absolute-slider="${this.hasAbsoluteSlider}" .volume="${this.currentVolume}" .onSeekCallback="${this.NS}" .onVolumeChangeCallback="${this.LD}" @focus="${this.US}" @blur="${this.pS}" class="${this.breakpointClass}"></cnx-volume-slider></div>`}connectedCallback(){var t;super.connectedCallback();this.querySelectorAll("[slot*='icon']").length>0?(this.rM=this.querySelector('[slot="icon-mute"]')||Fi(ze),this.EM=this.querySelector('[slot="icon-volume50"]')||Fi(dr),this.AM=this.querySelector('[slot="icon-volume100"]')||Fi(ur)):(this.rM=Fi(ze),this.EM=Fi(dr),this.AM=Fi(ur));const e=null===(t=this.store)||void 0===t?void 0:t.playerActions.volumeChange.pipe((0,le.x)()).subscribe((({payload:t})=>{this.currentVolume=t,this.FH(t)}));this.subscriptionList.push(e)}};xr.styles=[pr,ve],fr([be({context:ge}),br("design:type",Object)],xr.prototype,"settings",void 0),fr([be({context:me}),br("design:type",Object)],xr.prototype,"store",void 0),fr([Gt({type:Boolean,attribute:"is-slider-visible"}),br("design:type",Object)],xr.prototype,"isSliderVisible",void 0),fr([Gt({type:Boolean,attribute:"has-absolute-slider"}),br("design:type",Object)],xr.prototype,"hasAbsoluteSlider",void 0),fr([Jt(),br("design:type",Object)],xr.prototype,"shouldShowSlider",void 0),fr([Jt(),br("design:type",Object)],xr.prototype,"isSeeking",void 0),fr([Jt(),br("design:type",Object)],xr.prototype,"currentVolume",void 0),fr([Gt({type:Boolean,attribute:"is-horizontal"}),br("design:type",Object)],xr.prototype,"isHorizontalSlider",void 0),xr=fr([qt("cnx-volume-control")],xr);const vr=c`:host{opacity:0;pointer-events:none;position:relative;height:0}:host(.cnx-bp-sm-lit){visibility:hidden}:host([is-visible]){opacity:1;height:unset;pointer-events:auto}:host([is-visible].cnx-bp-sm-lit){visibility:visible}:host([has-absolute-slider]){position:absolute;bottom:40px;background-color:rgba(255,255,255,.4);border-radius:42px 42px 0 0}:host([has-absolute-slider]):host([is-horizontal]){border-radius:0 42px 42px 0;height:40px;left:40px;bottom:0}:host([is-horizontal]) .volume-slider-wrapper{padding:16px 12px;margin-left:-6px}:host([is-horizontal]) .volume-slider-wrapper:focus-visible{border-radius:0 42px 42px 0}:host([is-horizontal]) .volume-slider-bar{position:relative;height:8px;width:52px;background-position-y:unset;background-position-x:0}:host([is-horizontal]) .volume-slider-seek{bottom:-4px;left:0}.volume-slider-wrapper{padding:12px 16px;margin-bottom:-6px}.volume-slider-wrapper:focus-visible{border-radius:42px 42px 0 0;outline:0;border:1px solid #0500ff!important;box-shadow:0 0 0 1px rgba(255,255,255,.66);padding:calc(12px - 1px) calc(16px - 1px)}.volume-slider-bar{position:relative;width:8px;height:52px;border-radius:19px;background-color:rgba(255,255,255,.4);background-image:linear-gradient(0deg,#fff,#fff);background-size:cover;background-repeat:no-repeat;background-position-y:0}.volume-slider-bar:hover{cursor:grab}.volume-slider-seek{position:absolute;bottom:0;left:-4px;width:16px;height:16px;border-radius:50%;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,.25)}`;var gr,mr,yr=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},wr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let $r=class extends ut{constructor(){super(...arguments),this.volume=0,this.isVisible=!1,this.isHorizontalSlider=!1,this.hasAbsoluteSlider=!1,this.isSeekerActive=!1,this.hasDetectedMouseDownEvent=!1,this.WH=()=>{if(!this.sliderBar||!this.sliderSeeker)return;const t=this.pT(this.sliderBar),e=this.pT(this.sliderSeeker);t&&e&&(this.OT=t-e)},this.LT=()=>{var t,e,i,s,n,o;this.settings.isMobile?(null===(t=this.sliderBar)||void 0===t||t.addEventListener("touchstart",this.HT),null===(e=this.sliderBar)||void 0===e||e.addEventListener("touchmove",this.AT),null===(i=this.sliderBar)||void 0===i||i.addEventListener("touchend",this.ZT)):(null===(s=this.sliderBar)||void 0===s||s.addEventListener("mouseenter",this.tB),null===(n=this.sliderBar)||void 0===n||n.addEventListener("mouseleave",this.aB),null===(o=this.sliderBar)||void 0===o||o.addEventListener("mousedown",this.HT),window.addEventListener("mousemove",this.AT),window.addEventListener("mouseup",this.ZT))},this.wB=()=>{var t,e,i,s,n,o;this.settings.isMobile?(null===(t=this.sliderBar)||void 0===t||t.removeEventListener("touchstart",this.HT),null===(e=this.sliderBar)||void 0===e||e.removeEventListener("touchmove",this.AT),null===(i=this.sliderBar)||void 0===i||i.removeEventListener("touchend",this.ZT)):(null===(s=this.sliderBar)||void 0===s||s.removeEventListener("mouseenter",this.tB),null===(n=this.sliderBar)||void 0===n||n.removeEventListener("mouseleave",this.aB),null===(o=this.sliderBar)||void 0===o||o.removeEventListener("mousedown",this.HT),window.removeEventListener("mousemove",this.AT),window.removeEventListener("mouseup",this.ZT))},this.VB=t=>{const e=this.isHorizontalSlider?"clientX":"clientY";return this.settings.isMobile?t.changedTouches[0][e]:t[e]},this.tB=()=>{this.isSeekerActive=!0},this.aB=()=>{this.isSeekerActive=!1},this.HT=t=>{var e;const i=this.VB(t);this.hasDetectedMouseDownEvent=!0,(0,Oe.$K)(this.onSeekCallback)&&this.onSeekCallback(!0),null===(e=this.sliderBar)||void 0===e||e.style.setProperty("cursor","grabbing"),document.body.style.setProperty("cursor","grabbing"),this.eE(i,!0)},this.AT=t=>{if(this.hasDetectedMouseDownEvent){const e=this.VB(t);this.eE(e,!1)}},this.ZT=t=>{var e;if(this.hasDetectedMouseDownEvent){const i=this.VB(t);this.hasDetectedMouseDownEvent=!1,this.eE(i,!0),(0,Oe.$K)(this.onSeekCallback)&&this.onSeekCallback(!1),null===(e=this.sliderBar)||void 0===e||e.style.removeProperty("cursor"),document.body.style.removeProperty("cursor")}},this.eE=(t,e)=>{if(!this.OT||!(0,Oe.$K)(this.sliderBar))return;let i=0;i=this.isHorizontalSlider?t-this.sliderBar.getBoundingClientRect().left:this.sliderBar.getBoundingClientRect().bottom-t;const s=100*i/this.OT,n=Math.floor(Math.max(0,Math.min(100,s)));n!==this.volume&&((0,Oe.$K)(this.onVolumeChangeCallback)&&this.onVolumeChangeCallback(n,e),this.pE(n))},this.pE=t=>{var e,i;if((0,Oe.$K)(this.OT)&&(0,Oe.$K)(this.sliderBar)){const s=t/100*this.OT,n=this.pT(this.sliderBar),o=n-n*t/100;this.isHorizontalSlider?(null===(e=this.sliderSeeker)||void 0===e||e.style.setProperty("left",`${s}px`),this.sliderBar.style.setProperty("background-position-x",-o+"px")):(null===(i=this.sliderSeeker)||void 0===i||i.style.setProperty("bottom",`${s}px`),this.sliderBar.style.setProperty("background-position-y",`${o}px`))}}}render(){const t=this.settings.isMobile||this.isSeekerActive||this.hasDetectedMouseDownEvent;return Y`<div part="volume-slider-wrapper" class="volume-slider-wrapper" tabindex="0"><div part="volume-slider-bar" class="volume-slider-bar"><div part="volume-slider-seek" class="volume-slider-seek" style="opacity:${t?1:0}"></div></div></div>`}firstUpdated(t){super.firstUpdated(t),this.WH(),this.pE(this.volume),this.LT()}updated(t){super.updated(t),this.pE(this.volume)}disconnectedCallback(){super.disconnectedCallback(),this.wB()}pT(t){return this.isHorizontalSlider?t.getBoundingClientRect().width:t.getBoundingClientRect().height}};$r.styles=vr,yr([Gt(),wr("design:type",Function)],$r.prototype,"onVolumeChangeCallback",void 0),yr([Gt(),wr("design:type",Function)],$r.prototype,"onSeekCallback",void 0),yr([Gt({type:Number}),wr("design:type",Number)],$r.prototype,"volume",void 0),yr([be({context:ge}),wr("design:type",Object)],$r.prototype,"settings",void 0),yr([Gt({type:Boolean,attribute:"is-visible"}),wr("design:type",Object)],$r.prototype,"isVisible",void 0),yr([Gt({type:Boolean,attribute:"is-horizontal"}),wr("design:type",Object)],$r.prototype,"isHorizontalSlider",void 0),yr([Gt({type:Boolean,attribute:"has-absolute-slider"}),wr("design:type",Object)],$r.prototype,"hasAbsoluteSlider",void 0),yr([Jt(),wr("design:type",Object)],$r.prototype,"isSeekerActive",void 0),yr([Jt(),wr("design:type",Object)],$r.prototype,"hasDetectedMouseDownEvent",void 0),yr([te(".volume-slider-bar"),wr("design:type","function"==typeof(gr="undefined"!=typeof HTMLElement&&HTMLElement)?gr:Object)],$r.prototype,"sliderBar",void 0),yr([te(".volume-slider-seek"),wr("design:type","function"==typeof(mr="undefined"!=typeof HTMLElement&&HTMLElement)?mr:Object)],$r.prototype,"sliderSeeker",void 0),$r=yr([qt("cnx-volume-slider")],$r);const jr=c`:host{position:absolute;top:0;height:100%}.cnx-pinned-card{background-color:#272727;width:100%!important;height:100%;display:block}.cnx-pinned-video-title{position:relative;width:100%;height:100%;box-sizing:border-box;padding:8px;padding-bottom:0;color:#fff;word-break:break-word}.cnx-pinned-video-title.cnx-bp-md-lit,.cnx-pinned-video-title.cnx-bp-sm-lit,.cnx-pinned-video-title.cnx-bp-xs-lit{font-size:16px;line-height:18px}.cnx-pinned-video-title.cnx-bp-md-lit span,.cnx-pinned-video-title.cnx-bp-sm-lit span,.cnx-pinned-video-title.cnx-bp-xs-lit span{-webkit-line-clamp:3}.cnx-pinned-video-title.cnx-bp-lg-lit,.cnx-pinned-video-title.cnx-bp-xl-lit{font-size:18px;line-height:21px}.cnx-pinned-video-title.cnx-bp-lg-lit span,.cnx-pinned-video-title.cnx-bp-xl-lit span{-webkit-line-clamp:4}.cnx-pinned-video-title a{display:block;width:100%;height:100%;color:unset;text-decoration:unset}.cnx-pinned-video-title span{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;max-width:180px}.cnx-pinned-close-button{position:relative;z-index:1;float:right;pointer-events:auto}.cnx-pinned-cta{position:absolute;bottom:8px;left:8px}`;var Or=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},Cr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let kr=class extends(je(ut)){constructor(){super(...arguments),this.isTitleVisible=!1,this.hasControlsVisible=!1,this.videoTitle="",this.clickUrl=""}render(){const t=(0,Zt.uh)(this.clickUrl,window)?cs.bS.Top:cs.bS.Blank,e={"font-family":this.settings.pageFont};return Y`<slot><div part="pinned-wrapper" class="cnx-pinned-card ${this.breakpointClass}">${this.hasControlsVisible||this.settings.floatingCloseButtonMode===es.N.AlwaysOn?Y`<cnx-close-button part="buttons pinned-close-button" class="cnx-pinned-close-button"></cnx-close-button>`:Q} ${this.isTitleVisible?Y`<div part="pinned-title-wrapper" class="cnx-pinned-video-title ${this.breakpointClass}" style="${It(e)}">${!this.settings.isClickUrlDisabled&&this.clickUrl?Y`<a href="${this.clickUrl}" target="${t}" title="${this.clickUrl}"><span part="pinned-title">${this.videoTitle}</span></a>`:Y`<span part="pinned-title">${this.videoTitle}</span>`}</div>`:Q} ${this.videoMetadata.ctaButton&&this.isTitleVisible?Y`<cnx-cta-button ctaIconState="collapsed" class="cnx-pinned-cta"></cnx-cta-button>`:Q}</div></slot>`}};kr.styles=[jr],Or([be({context:Vi,subscribe:!0}),Cr("design:type",Object)],kr.prototype,"videoMetadata",void 0),Or([be({context:ge,subscribe:!0}),Gt({attribute:!1}),Cr("design:type",Object)],kr.prototype,"settings",void 0),Or([Gt({type:Boolean}),Cr("design:type",Object)],kr.prototype,"isTitleVisible",void 0),Or([Gt({type:Boolean}),Cr("design:type",Object)],kr.prototype,"hasControlsVisible",void 0),Or([Gt({type:String}),Cr("design:type",Object)],kr.prototype,"videoTitle",void 0),Or([Gt({type:String}),Cr("design:type",Object)],kr.prototype,"clickUrl",void 0),kr=Or([qt("cnx-lit-pinned-ui-template")],kr);const Rr=[Bi,$r,ln,no,ar];function Lr(t){return!t.some((t=>Rr.some((e=>t instanceof e))))}var Mr=i(8395),Sr=i(9906);class Hr{constructor(){this.TI=null,this.Ie=Sr.h.getGlobalContainer().resolve(Mr.f)}wE(t){this.jE(),this.TI=this.Ie.setTimeout((()=>t()),3e3)}jE(){this.TI&&(this.Ie.clearInterval(this.TI),this.TI=null)}}class Tr extends Hr{constructor(t){super(),this.mf=t,this.isUIActive=!1,this.VE=!1,this.PE=!1,this.Ko=null,this.XE=()=>{this.VE=!1,this.mf.requestUpdate()},this.YE=t=>{this.PE=t,t||this.wE(this.XE)}}get shouldShowControls(){return this.VE}hostConnected(){this.Ko=this.mf.store.playerStates.isMenuOpen.pipe((0,le.x)()).subscribe(this.YE)}hostDisconnected(){var t;null===(t=this.Ko)||void 0===t||t.unsubscribe()}}class Br extends Tr{constructor(t){super(t),this.fj=!1,this.sw=()=>{this.shouldShowControls||(this.VE=!0,this.mf.requestUpdate()),this.PE||this.wE(this.XE)},this.No=t=>{this.PE?this.jE():(this.wE(this.XE),Lr(t.composedPath())&&!this.fj&&this.mf.store.playerActions.overlayClick.next())},this.Sb=()=>{this.jE()},this.oV=t=>{Lr(t.composedPath())?this.fj=!1:this.fj=!0},this.mf.addController(this)}hostConnected(){super.hostConnected(),this.mf.addEventListener("pointerdown",this.oV),this.mf.addEventListener("mousemove",this.sw),this.mf.addEventListener("click",this.No),this.mf.addEventListener("contextmenu",this.Sb)}hostDisconnected(){super.hostDisconnected(),this.mf.removeEventListener("pointerdown",this.oV),this.mf.removeEventListener("mousemove",this.sw),this.mf.removeEventListener("click",this.No),this.mf.removeEventListener("contextmenu",this.Sb)}}var Er=i(2404),Vr=i(9209);class zr extends Hr{constructor(t){super(),this.mf=t,this.VE=!1,this.QV=()=>{this.VE=!0,this.mf.requestUpdate(),this.wE((()=>{this.VE=!1,this.mf.requestUpdate()}))},this.zB=t=>{const e=t.code;(Vr.Ys[Vr.Ys[e]]||Object.values(Er.D).includes(e))&&this.QV()},this.mf.addController(this)}get shouldShowControls(){return this.VE}hostConnected(){this.mf.addEventListener("focusin",this.QV),this.mf.addEventListener("keydown",this.zB)}hostDisconnected(){this.mf.removeEventListener("focusin",this.QV),this.mf.removeEventListener("keydown",this.zB)}}class _r extends Hr{constructor(t){super(),this.mf=t,this.VE=!1,this.dz=null,this.yz=t=>{t&&(this.VE=!0,this.mf.requestUpdate()),this.wE((()=>{this.VE=!1,this.mf.requestUpdate()}))},this.mf.addController(this)}get shouldShowControls(){return this.VE}hostConnected(){this.dz=this.mf.store.playerStates.isInView.pipe((0,le.x)()).subscribe(this.yz)}hostDisconnected(){var t;null===(t=this.dz)||void 0===t||t.unsubscribe()}}class Pr extends Tr{constructor(t){super(t),this.mC=t=>{this.mf.isInAd||(this.VE=!0,this.mf.requestUpdate(),this.isUIActive||t.preventDefault(),this.wE(this.XE))},this.No=t=>{this.mf.isInAd||(this.PE?this.jE():this.isUIActive&&Lr(t.composedPath())&&this.mf.store.playerActions.overlayClick.next())},this.mf.addController(this)}hostConnected(){super.hostConnected(),this.mf.addEventListener("touchstart",this.mC),this.mf.addEventListener("click",this.No)}hostDisconnected(){super.hostDisconnected(),this.mf.removeEventListener("touchstart",this.mC),this.mf.removeEventListener("click",this.No)}}class Ur{constructor(t){this.mf=t,this.VE=!1,this.Cz=null,this.mf.addController(this)}get shouldShowControls(){return this.VE}hostConnected(){this.Cz=this.mf.store.playerStates.contentState.pipe((0,le.x)()).subscribe((t=>{this.VE=t!==Vs.x.Playing,this.mf.requestUpdate()}))}hostDisconnected(){var t;null===(t=this.Cz)||void 0===t||t.unsubscribe()}}const Ar="cnx-show-controls";class Fr{constructor(t,e,i){this.mf=t,this.Mz=i,this.Sz=!1,this.Ez=null,this.Xz=null,this.Kz=null,this.s_=null,this.mf.addController(this),this.n_(e)}get hasControlsVisible(){return this.Sz}hostConnected(){(0,Zt.og)(this.mf,Ar,this.Mz)}hostUpdate(){var t,e,i,s;if(this.Mz)return this.Ez&&(this.Ez.isUIActive=!0),void(this.Sz=!0);const n=(null===(t=this.Ez)||void 0===t?void 0:t.shouldShowControls)||(null===(e=this.Kz)||void 0===e?void 0:e.shouldShowControls)||(null===(i=this.s_)||void 0===i?void 0:i.shouldShowControls);(null===(s=this.Xz)||void 0===s?void 0:s.shouldShowControls)?this.h_(!0):this.h_(n||!1)}h_(t){this.Sz=t,(0,Zt.og)(this.mf,Ar,t),this.Ez&&(this.Ez.isUIActive=t);const e=new CustomEvent("cnx-show-controls",{detail:{shouldShowControls:t}});this.mf.dispatchEvent(e)}n_(t=!1){this.Ez=t?new Pr(this.mf):new Br(this.mf),this.Mz||(this.Xz=new Ur(this.mf),this.Kz=new _r(this.mf),this.s_=new zr(this.mf))}}var Ir,Dr,Zr=function(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},Xr=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Nr=class extends(Di(je(ut))){constructor(){super(...arguments),this.videoMetadata={availableQualities:[],captionsList:[]},this.canShowProgressButtons=!1,this.menuOpenFromTopBar=!1,this.isPinnedTitleVisible=!0,this.isInAd=!1,this.shouldShowPinnedControls=!1,this.isFloating=!1,this.isFullScreen=!1,this.L_=null,this.T_=t=>{t.stopPropagation(),this.shouldShowPinnedControls=!0},this.D_=()=>{this.shouldShowPinnedControls=!1},this.hp=()=>this.isFloating?this.settings.floatingCloseButtonMode:this.settings.closeButtonMode}render(){var t;const e=null===(t=this.L_)||void 0===t?void 0:t.hasControlsVisible,i=this.isInAd?this.shouldShowPinnedControls:e,s=this.isFloating&&this.settings.isPinned,n=this.settings.customUITemplate,o=null==n?void 0:n.replace(/<cnx-lit-pinned-ui-template.*>([\s\S]*?)<\/cnx-lit-pinned-ui-template>/,""),r=null==n?void 0:n.match(/<cnx-lit-pinned-ui-template.*>([\s\S]*?)<\/cnx-lit-pinned-ui-template>/),l=r?r[0].trim():"";return Y`<cnx-ui-grid>${(0,Oe.QM)(o)?Y`<slot slot="custom-ui-template">${re(o)}</slot>`:Y`${this.CR()?Y`<cnx-close-button part="buttons close-button" exportparts="inner-close-button" slot="close-button-always-on" class="always-on"></cnx-close-button>`:Q}<cnx-top-bar part="top-bar" exportparts="buttons, more-menu-button, top-bar-close-button, symbol-image, video-title, video-title-text, inner-top-bar-close-button, inner-more-menu-button" slot="top-bar" class="${ne({"cnx-bar-has-priority":this.menuOpenFromTopBar})}"></cnx-top-bar>${e?Q:Y`<cnx-resting-top-bar slot="resting-top-bar" exportparts="logo-image"></cnx-resting-top-bar>`}<cnx-middle-bar part="middle-bar" exportparts="buttons, previous-button, next-button, play-button, inner-next-button, inner-play-button, inner-previous-button, loader" class="${this.breakpointClass}" slot="middle-bar"></cnx-middle-bar><cnx-bottom-bar part="bottom-bar" exportparts="${`\n                buttons,\n                bottom-play-button,\n                volume-control,\n                volume-slider,\n                volume-slider-bar,\n                volume-slider-seek,\n                volume-button, caption-menu-button,\n                volume-slider-wrapper,\n                full-screen-button,\n                settings-menu-button,\n                next-progress-button,\n                stay-button,\n                elapsed-progress-time,\n                progress-time,\n                play-progress-bar,\n                total-progress-time,\n                buffered-progress-bar,\n                hover-progress-bar,\n                progress-input,\n                progress-handle,\n                inner-full-screen-button,\n                inner-caption-menu-button,\n                inner-volume-button\n                inner-settings-menu-button,\n                ${qe.part}\n                loader,\n                `}" slot="bottom-bar"></cnx-bottom-bar>${se(e?Q:Y`<cnx-resting-bottom-bar slot="resting-bottom-bar" exportparts="logo-image"></cnx-resting-bottom-bar>`)}<cnx-captions-bar slot="captions-bar"></cnx-captions-bar><cnx-context-menu slot="context-menu" exportparts="menu-item-wrapper, menu-item-title, menu-item-label, menu-item-arrow"></cnx-context-menu><cnx-contextual-buttons exportparts="inner-cta-button, inner-next-progress-button, inner-stay-progress-button" slot="contextual-buttons" class="${this.breakpointClass}"></cnx-contextual-buttons>`}</cnx-ui-grid>${s&&!this.isFullScreen?Y`${l?Y`${re(l)}`:Y`<cnx-lit-pinned-ui-template part="pinned-ui-template" exportparts="pinned-wrapper, buttons, pinned-close-button, pinned-title-wrapper, pinned-title" ?isTitleVisible="${this.isPinnedTitleVisible}" ?hasControlsVisible="${i}" .videoTitle="${this.videoMetadata.altTitle||this.videoMetadata.videoTitle}" .clickUrl="${this.videoMetadata.clickUrl}"></cnx-lit-pinned-ui-template>`}`:Q}`}connectedCallback(){super.connectedCallback(),this.L_=new Fr(this,this.settings.isMobile,this.settings.isAlwaysDisplayControls);const t=this.store.playerStates.isMenuOpenFromTopBar.pipe((0,le.x)()).subscribe((t=>{this.menuOpenFromTopBar=t})),e=this.store.playerStates.contentState.pipe((0,le.x)()).subscribe((t=>{t===Vs.x.Hidden?this.$uiGrid&&(0,Zt.MV)(this.$uiGrid):this.$uiGrid&&(0,Zt.Ho)(this.$uiGrid)})),i=this.store.playerStates.isFloating.pipe((0,le.x)()).subscribe((t=>{this.isFloating=t})),s=this.store.playerActions.toggleFullScreen.pipe((0,le.x)()).subscribe((t=>{this.isFullScreen=t.payload})),n=this.store.experienceActions.toggleProgressButtons.subscribe((t=>{this.canShowProgressButtons=t}));this.subscriptionList.push(t,e,n,i,s)}updated(){this.G_()}onResize(){this.G_()}updateCurrentVideoMetadata(t){var e;const i=[...(t.getAvailableQualities()||[]).map((({isHD:t,videoHeight:e})=>({isHD:t,videoHeight:e,label:`${e}p`}))),{label:"Auto",videoHeight:0,isHD:!1}],s=null!==(e=t.subtitles)&&void 0!==e?e:[];this.videoMetadata={captionsList:s,availableQualities:i,videoTitle:t.title,altTitle:t.altTitle,clickUrl:t.clickUrl,ctaButton:t.ctaButton}}setCurrentQuality(t,e){this.videoMetadata=Object.assign(Object.assign({},this.videoMetadata),{currentQuality:{qualitySettings:t,isHD:e}})}updateActiveCaption(t){this.videoMetadata=Object.assign(Object.assign({},this.videoMetadata),{activeCaptions:t})}updateCloseButtonMode(t,e){this.settings=Object.assign(Object.assign({},this.settings),t?{floatingCloseButtonMode:e}:{closeButtonMode:e})}loadPinnedUi(){this.settings=Object.assign(Object.assign({},this.settings),{isPinned:!0})}destroyPinnedUi(){this.settings=Object.assign(Object.assign({},this.settings),{isPinned:!1})}onShowLinearAd(){var t;this.isPinnedTitleVisible=!1,this.isInAd=!0,null===(t=this.parentElement)||void 0===t||t.addEventListener("click",this.T_),window.addEventListener("click",this.D_)}onHideLinearAd(){var t;this.isInAd=!1,this.isPinnedTitleVisible=!0,null===(t=this.parentElement)||void 0===t||t.removeEventListener("click",this.T_),window.removeEventListener("click",this.D_)}G_(){if(this.$pinnedUi){const t=.5,e=this.clientWidth-t;this.$pinnedUi.style.left=`${e}px`,this.$pinnedUi.style.width=`calc(100vw - ${e}px)`}}CR(){const t=this.isFloating&&this.settings.isPinned,e=this.hp()!==es.N.AlwaysOn;if(t||e)return!1;return!(this.settings.closeButtonLocation===Cs.g.OutsidePlayer)||!this.isFloating}};Nr.styles=[ue],Zr([te("cnx-ui-grid"),Xr("design:type","function"==typeof(Ir="undefined"!=typeof HTMLElement&&HTMLElement)?Ir:Object)],Nr.prototype,"$uiGrid",void 0),Zr([te("cnx-lit-pinned-ui-template"),Xr("design:type","function"==typeof(Dr="undefined"!=typeof HTMLElement&&HTMLElement)?Dr:Object)],Nr.prototype,"$pinnedUi",void 0),Zr([de({context:me}),Gt({attribute:!1}),Xr("design:type",Object)],Nr.prototype,"store",void 0),Zr([de({context:ge}),Gt({attribute:!1}),Xr("design:type",Object)],Nr.prototype,"settings",void 0),Zr([de({context:ls}),Gt({attribute:!1}),Xr("design:type",Object)],Nr.prototype,"resizeObserver",void 0),Zr([de({context:Vi}),Gt({attribute:!1}),Xr("design:type",Object)],Nr.prototype,"videoMetadata",void 0),Zr([Jt(),Xr("design:type",Object)],Nr.prototype,"canShowProgressButtons",void 0),Zr([Jt(),Xr("design:type",Object)],Nr.prototype,"menuOpenFromTopBar",void 0),Zr([Jt(),Xr("design:type",Object)],Nr.prototype,"isPinnedTitleVisible",void 0),Zr([Jt(),Xr("design:type",Object)],Nr.prototype,"isInAd",void 0),Zr([Jt(),Xr("design:type",Object)],Nr.prototype,"shouldShowPinnedControls",void 0),Zr([Jt(),Xr("design:type",Object)],Nr.prototype,"isFloating",void 0),Zr([Jt(),Xr("design:type",Object)],Nr.prototype,"isFullScreen",void 0),Nr=Zr([qt("cnx-lit-ui-template")],Nr);var Yr=i(6515),qr=i(9248);class Wr{constructor(){this.breakpointClass=new Yr.X(ye.Z.MD),this.onTogglePlaylistControls=new Yr.X(!0),this.onToggleCaptionButtonState=new Yr.X(!0),this.duration=new Yr.X(0),this.currentTime=new Yr.X(0),this.bufferRanges=new Yr.X(null),this.activeCaptionItem=new Yr.X(""),this.playerStates={isInView:new Yr.X(!1),isFloating:new Yr.X(!1),isMenuOpen:new Yr.X(!1),contentState:new Yr.X(Vs.x.Paused),hasPlayerStarted:new Yr.X(!1),isMenuOpenFromTopBar:new Yr.X(!1),isUpNextBoxInView:new Yr.X(!1)},this.playerActions={play:new qr.x,pause:new qr.x,next:new qr.x,prev:new qr.x,overlayClick:new qr.x,toggleFullScreen:new qr.x,volumeChange:new Yr.X({payload:0,isUiTriggered:!1,isFinal:!0}),seek:new qr.x,seekingStart:new qr.x,seekingEnd:new qr.x,updateCaption:new qr.x,qualityChange:new qr.x,close:new qr.x,nextButton:new qr.x,stayButton:new qr.x,apiButtonClick:new qr.x,cta:new qr.x},this.experienceActions={updateUpNextBox:new qr.x,toggleProgressButtons:new Yr.X(!1)}}}var Qr=i(2370),Gr=i(8983);const Jr={[Gr.Nq.Xl]:ye.Z.XL,[Gr.Nq.Lg]:ye.Z.LG,[Gr.Nq.Md]:ye.Z.MD,[Gr.Nq.Sm]:ye.Z.SM,[Gr.Nq.Xs]:ye.Z.XS};class Kr{constructor(t,e,i){this.uY=t,this.Er=e,this.mO=i,this.pP=zt(),this.Ro=zt(),this.dP=t=>{var e,i,s;if(!((null===(e=this.pP.value)||void 0===e?void 0:e.settings.floatingCloseButtonMode)===es.N.OnHover))return;const n=t.detail.shouldShowControls;null===(s=null===(i=this.Ro)||void 0===i?void 0:i.value)||void 0===s||s.toggleAttribute("is-ui-active",n)},this.ZP=new Wr}render(){this.QP(this.Yz()),this.rU()&&this.lU(this.yU())}changeState(t){this.ZP.playerStates.contentState.next(t)}expand(){this.ZP.playerActions.toggleFullScreen.next({payload:!0,isUiTriggered:!1})}collapse(){this.ZP.playerActions.toggleFullScreen.next({payload:!1,isUiTriggered:!1})}changeVolume(t){this.ZP.playerActions.volumeChange.next({payload:t,isUiTriggered:!1,isFinal:!1})}onResize(t){var e,i,s,n,o;const r=Jr[t]||ye.Z.MD;null===(i=null===(e=this.pP)||void 0===e?void 0:e.value)||void 0===i||i.classList.remove(this.ZP.breakpointClass.value),this.ZP.breakpointClass.next(r),null===(n=null===(s=this.pP)||void 0===s?void 0:s.value)||void 0===n||n.classList.add(r),null===(o=this.pP.value)||void 0===o||o.onResize()}onPlay(){return this.ZP.playerActions.play.asObservable()}onPause(){return this.ZP.playerActions.pause.asObservable()}onViewabilityCallback(t){this.ZP.playerStates.isInView.next(t)}onNext(){return this.ZP.playerActions.next.asObservable()}onPrev(){return this.ZP.playerActions.prev.asObservable()}onVolumeChange(){return this.ZP.playerActions.volumeChange.asObservable()}onQualityChange(){return this.ZP.playerActions.qualityChange.asObservable()}onSeek(){return this.ZP.playerActions.seek.asObservable()}onSeekingStart(){return this.ZP.playerActions.seekingStart.asObservable()}onSeekingEnd(){return this.ZP.playerActions.seekingEnd.asObservable()}onCaptionUpdate(){return this.ZP.playerActions.updateCaption.asObservable()}onApiButtonClick(){return this.ZP.playerActions.apiButtonClick.asObservable()}togglePlaylistControls(t){this.ZP.onTogglePlaylistControls.next(t)}toggleCaptionButton(t){this.ZP.onToggleCaptionButtonState.next(t)}toggleProgressButtons(t){this.ZP.experienceActions.toggleProgressButtons.next(t)}onOverlayClick(){return this.ZP.playerActions.overlayClick.asObservable()}onCtaClick(){return this.ZP.playerActions.cta.asObservable()}onCloseClick(){return this.ZP.playerActions.close.asObservable()}updateUpNextBox(t,e){return this.ZP.experienceActions.updateUpNextBox.next({imageURL:t,description:e})}isUpNextBoxInView(){return this.ZP.playerStates.isUpNextBoxInView.value}onFullScreenToggle(){return this.ZP.playerActions.toggleFullScreen.asObservable()}onStayButtonClick(){return this.ZP.playerActions.stayButton.asObservable()}onNextButtonClick(){return this.ZP.playerActions.nextButton.asObservable()}updateDuration(t,e){this.ZP.duration.next(e),this.ZP.currentTime.next(t)}updateBufferedState(t){this.ZP.bufferRanges.next(t)}updateCurrentVideoMetadata(t){var e;null===(e=this.pP.value)||void 0===e||e.updateCurrentVideoMetadata(t)}setCurrentQuality(t,e){var i;null===(i=this.pP.value)||void 0===i||i.setCurrentQuality(t,e)}updateActiveCaptions(t){var e,i;null===(i=null===(e=this.pP)||void 0===e?void 0:e.value)||void 0===i||i.updateActiveCaption(t)}updateDefaultCaption(t){this.ZP.playerActions.updateCaption.next({payload:t,isUiTriggered:!1})}updateFloatingState(t){this.ZP.playerStates.isFloating.next(t)}updateCloseButtonMode(t,e){var i,s;null===(i=this.pP.value)||void 0===i||i.updateCloseButtonMode(t,e),!(null===(s=this.Ro)||void 0===s?void 0:s.value)&&t&&this.rU(e)&&this.lU(this.yU())}loadPinnedUi(){var t;null===(t=this.pP.value)||void 0===t||t.loadPinnedUi()}destroyPinnedUi(){var t;null===(t=this.pP.value)||void 0===t||t.destroyPinnedUi()}onShowLinearAd(){var t,e;null===(t=this.pP.value)||void 0===t||t.onShowLinearAd(),(null===(e=this.Ro)||void 0===e?void 0:e.value)&&(0,Zt.cn)(this.Ro.value,Gr.s6.HideOutsideContentFloatClose)}onHideLinearAd(){var t,e;null===(t=this.pP.value)||void 0===t||t.onHideLinearAd(),(null===(e=this.Ro)||void 0===e?void 0:e.value)&&(0,Zt.IV)(this.Ro.value,Gr.s6.HideOutsideContentFloatClose)}QP(t){return dt(t,this.uY),this.uY.getElementsByTagName("cnx-lit-ui-template")[0]}lU(t){this.Er.outsideCloseParentElement&&dt(t,this.Er.outsideCloseParentElement)}Yz(){const t={"--cnx-accent-color":this.Er.accentColor,"--cnx-tooltip-text-color":this.Er.tooltipTextColor,"--cnx-tooltip-background-color":this.Er.tooltipBackgroundColor,"--cnx-icons-color":this.Er.iconsColor};return Y`<cnx-lit-ui-template id="${this.Er.templateUniqueID}" style="${It(t)}" .store="${this.ZP}" .settings="${this.Er}" .resizeObserver="${this.mO}" ${Ut(this.pP)} data-id="${Qr.tR}" @cnx-show-controls="${this.dP}"></cnx-lit-ui-template>`}yU(){var t,e;const i={"--cnx-tooltip-text-color":this.Er.tooltipTextColor,"--cnx-tooltip-background-color":this.Er.tooltipBackgroundColor},s=(null===(t=this.pP.value)||void 0===t?void 0:t.settings.floatingCloseButtonMode)===es.N.AlwaysOn;return Y`<cnx-floating-close-button id="cnx-floating-close-${this.Er.templateUniqueID}" style="${It(i)}" @click="${()=>this.ZP.playerActions.close.next()}" ${Ut(this.Ro)} ?is-ui-active="${s}" tooltip-position="${Yt(null===(e=this.pP.value)||void 0===e?void 0:e.settings.floatingCloseButtonTooltipPosition)}"></cnx-floating-close-button>`}rU(t){const e=this.Er.closeButtonLocation===Cs.g.OutsidePlayer,i=(null!=t?t:this.Er.floatingCloseButtonMode)!==es.N.Off;return!(!e||!i)}}var tl;(tl=window).cnxAsyncChunks=tl.cnxAsyncChunks||{},tl.cnxAsyncChunks.litUI={litConnectorClass:Kr,litFloatingCloseOldUIWrapper:Nt}}},t=>{var e;e=1963,t(t.s=e)}]);