(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{24585:function(e,t,n){"use strict";n.d(t,{IT:function(){return s},tY:function(){return a},uD:function(){return o}});var i=n(52983),l=n(13661),r=n(44047),o=(0,i.createContext)(-1),a=(0,i.createContext)(();function s(e){var t=e.endDate,n=e.onDone,s=e.children,d=(0,i.useState)((function(){return(0,l.getMSecondsSinceEpoch)()>t})),c=d[0],u=d[1];(0,i.useEffect)((function(){u((0,l.getMSecondsSinceEpoch)()>t)}),[t]);var v=(0,i.useCallback)((,[n]);return(0,r.tZ)(o.Provider,{value:t,children:(0,r.tZ)(a.Provider,{value:v,children:c?null:s})})}},17560:function(e,t,n){"use strict";n.d(t,{I:T:function(){return p}});var i=n(24585),l=n(93313),r=n(1553),o=n(52983),a=n(80883),s=n(13048),d=n(44047);function c(e){var t=e.endDate,n=e.daysHoursOnly,l=e.className,r=(0,a.a)(t),c=r.days,u=r.hours,v=r.minutes,m=r.seconds,p=r.isComplete,f=(0,o.useContext)(i.tY),h=(0,s.$G)().t;(0,o.useEffect)((function(){p&&f(!0)}),[p,f]);var g="";if(n&&c>0)g=h("countdown-days-hours",{days:"".concat(c),hours:"00".concat(u).slice(-2)});else if(c>0){var b="".concat(c),y="00".concat(u).slice(-2),x="00".concat(v).slice(-2),Z="00".concat(m).slice(-2);g="".concat(b,":").concat(y,":").concat(x,":").concat(Z)}else if(0===c&&u>0){var w="00".concat(v).slice(-2),O="00".concat(m).slice(-2);g="".concat(u,":").concat(w,":").concat(O)}else{var k="00".concat(m).slice(-2);g="".concat(v,":").concat(k)}return(0,d.tZ)("span",{className:l,"data-testid":"ticking-countdown",children:g})}var u=["children"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=e.children,n=(0,r.Z)(e,u),l=(0,o.useContext)(i.uD);if(-1===l||null===l||void 0===l)throw new Error("Cannot use <CountdownDisplay /> outside of a <Countdown /> component");return t&&n.forceChildren?(0,d.tZ)(d.HY,{children:t}):(0,d.tZ)(c,m(m({},n),{},{endDate:l}))}},35757:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var i=n(4722),l=n(15289),r=n(44047);var o={name:"10t4mp9",styles:">img{display:inline;height:100%;width:100%;border-radius:0.25rem;object-fit:cover;;}"};function a(e){var t=e.image;return t?(0,r.tZ)(i.t,{css:o,src:(0,l.Jn)(t),alt:(0,l.EQ)(t)}):null}},45251:function(e,t,n){"use strict";n.d(t,{O:function(){return d}});var i=n(21477),l=n(73709),r=n(52983),o=n(13661),a=n(98330),s=n(44047);function d(e){var t=e.item,n=t.header,d=t.iframeUrl,c=t.longUrl,u=t.iframeHeight,v=t.sys,m=(0,r.useRef)(null),p=(null===n||void 0===n?void 0:n.text)||(null===v||void 0===v?void 0:v.id),f=c||d;return(0,s.tZ)(a.P,{slug:(0,l.U)(null===n||void 0===n?void 0:n.text),title:null===n||void 0===n?void 0:n.text,"data-testid":i.uC,fullScreen:!u,hideHeader:!u,children:f&&(0,o.isValidUrl)(f)&&(0,s.tZ)("iframe",{id:p,name:p,ref:m,className:"w-full border-none",title:(null===n||void 0===n?void 0:n.text)||"",height:u||void 0,style:u?void 0:{height:"100svh",width:"100svw"},src:f,allowFullScreen:!0,onLoad:function(){var e,t;!o.isSSR&&null!==(e=window)&&void 0!==e&&e.onFrameLoad&&(null===(t=window)||void 0===t||t.onFrameLoad(m.current))}})})}},98749:function(e,t,n){"use strict";n.d(t,{V:function(){return ye}});var i=n(83641),l=n(93313),r=n(91751),o=n(78619);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={backgroundColor:"background-color",backgroundGradient:"background-image",backgroundScaleMode:"object-fit",customOverrides:"custom-overrides"},c=["background-color","background-image","object-position","object-fit","transform","custom-overrides"],u=function(e){var t={};return e&&e.forEach((function(e){if(null!==e&&void 0!==e&&e.key){var n={},i=[];Object.entries(e).forEach((function(t){var l,a=(0,o.Z)(t,2),s=a[0],c=a[1],u=null!==(l=d[s])&&void 0!==l?l:s;"custom-overrides"===u&&c&&Object.entries(c).forEach((function(t){var n=(0,o.Z)(t,1)[0];if(!/^[a-z]+(?:[A-Z][a-z]*)*$/.test(n)){var i=n.replace(/-([a-z])/g,();e.customOverrides[i]=e.customOverrides[n],delete e.customOverrides[n]}})),"backgroundHorizontalAlignment"===s||"backgroundVerticalAlignment"===s?i=[].concat((0,r.Z)(i),[c]):"key"!==s&&(n[u]=c)})),n["object-position"]=i.join(" ").trim(),t[e.key]=n}})),t},v=function(e,t){return c.reduce((function(n,i){var r;return s(s({},n),{},(0,l.Z)({},i,(null===(r=t[e])||void 0===r?void 0:r[i])||""))}),{})},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=v(e,t),l=i["background-color"],r=i["background-image"],o=i["object-position"],a=i["object-fit"],d=i.transform,c=i["custom-overrides"],u=s(s({},l&&{backgroundColor:l}),r&&{backgroundImage:r}),m=s(s(s(s(s({},n&&o&&{objectPosition:o}),!n&&o&&{backgroundPosition:o}),n&&a&&{objectFit:a}),!n&&a&&{backgroundSize:a}),d&&{transform:d});return{styles:{background:u,container:m,custom:c}}},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=m(e,t,n).styles;return s(s(s({},i.background&&s({},i.background)),i.container&&s({},i.container)),i.custom&&s({},i.custom))},f=n(91785),h=n(71111),g=n(95507),b=n(78895),y=n(14517),x=n(52983),Z=n(97973),w=function(){var e=(0,Z.YD)({threshold:.6}),t=(0,o.Z)(e,2);return[t[0],t[1]]},O=function(e,t){var n,i=null===e||void 0===e||null===(n=e.position)||void 0===n?void 0:n.find(();return i&&i[t]?"self-".concat(i[t]):"self-center"},k=function(e){return null!==e&&void 0!==e&&e.position?null===e||void 0===e?void 0:e.position.reduce((function(e,t){return[].concat((0,r.Z)(e),[Object.keys(t)[0]])}),[]):["logo","heading","subheading","description","extendedDescription","ctaButtons","storeLinks","socialLinks"]},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.logo,n=e.heading,i=e.subheading,l=void 0===i?"":i,r=e.description,o=e.list;return{logo:(0,y.Z)("h-auto max-h-24 min-h-[3rem] my-0 mx-auto transition-[filter] drop-shadow-lg object-contain overflow-hidden",t),heading:(0,y.Z)("font-semibold text-center drop-shadow-lg",n),subheading:l,description:(0,y.Z)("text-center text-base font-normal normal-case tracking-normal w-full md:w-3/4 drop-shadow-lg",r),list:(0,y.Z)("flex flex-wrap gap-4 layout-content justify-center items-center mt-4 mb-0",o)}},j=n(12745),C=n(21477),P=n(79886),S=n(90276),I=n(80883),D=n(80131),E=n(34528),B=n(13048),T=n(85087),_=n(90873),X=n(15289),L=n(45092),A=n(13952),M=n(44047);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var R={name:"1ld87ds",styles:"&:hover button::before{position:absolute;left:0px;top:0px;display:inline-block;height:100%;width:100%;border-radius:0.25rem;background-color:var(--color-black);opacity:0.2; content:'';}&:hover button>div{opacity:0.7;;}"};function F(e){var t,n,i=e.title,r=e.appleLabel,o=e.appleIcsFile,a=e.googleLabel,s=e.googleUrl,d=e.outlookLabel,c=e.outlookIcsFile,u=e.palette,v=e.className,m=[],p={className:(0,y.Z)(v)};if(null!==o&&void 0!==o&&o.url&&m.push({label:r,value:null===o||void 0===o?void 0:o.url,key:"Apple"}),null!==s&&void 0!==s&&s.url){var f,h=(0,L.a)(null===s||void 0===s||null===(f=s.label)||void 0===f?void 0:f.json);m.push({label:a,value:h?s.url.concat(h):null===s||void 0===s?void 0:s.url,key:"Google"})}return null!==c&&void 0!==c&&c.url&&m.push({label:d,value:null===c||void 0===c?void 0:c.url,key:"Outlook"}),m.length>0?(0,M.tZ)(A.L,{small:!0,css:R,title:i,selectedItem:null,items:m,onItemSelected:"data-testid":C.xK,"data-theme":null!==(t=null===u||void 0===u||null===(n=u.sys)||void 0===n?void 0:n.id)&&void 0!==t?t:"none"},p)):null}var H=n(17560),V=n(24585),z=n(36183),q=n.n(z);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K={listOverride:"!px-0"},J={"self-start":W(W({},K),{},{listOverride:"self-center lg:self-start !px-0",logoOverride:"self-center lg:self-start",headerOverride:"self-center text-2xl lg:self-start",subheaderOverride:"self-center lg:self-start",descriptionOverride:"!w-full lg:!text-left lg:!max-w-lg",countdownTimer:"self-center lg:self-start",ageRating:"lg:absolute"}),"self-end":W(W({},K),{},{logoOverride:"self-center lg:self-end",headerOverride:"self-center text-2xl lg:self-end",subheaderOverride:"self-end lg:self-end",descriptionOverride:"!w-full lg:!text-right lg:!max-w-lg",countdownTimer:"self-center lg:self-end",ageRating:"lg:absolute"}),"self-center":{listOverride:"",logoOverride:"",headerOverride:"text-4xl",subheaderOverride:"",descriptionOverride:"",countdownTimer:"self-center",ageRating:""}};function Q(e){var t,n,i=e.item,l=e.children,r="Button"===i.__typename,o=r?i.target:i.url,a=r||i.openInNewTab?"_blank":void 0;return(0,M.tZ)("li",{children:(0,M.tZ)("a",{className:"cursor-pointer",href:null!==o&&void 0!==o?o:"",target:a,rel:"noopener noreferrer","data-testid":"".concat(C.$b,"-").concat(null===(n=i.sys)||void 0===n?void 0:n.id),children:l})},"".concat(null===(t=i.sys)||void 0===t?void 0:t.id))}function $(e){var t,n,i=e.logo,l=e.position,r=e.classStyles,o=e.styles;return(0,M.tZ)("span",{className:J[l].logoOverride,children:(0,M.tZ)(f.E,{className:r,src:null!==(t=i.url)&&void 0!==t?t:"",alt:null!==(n=i.title)&&void 0!==n?n:"",style:o})})}function Y(e){var t=e.text,n=e.position,i=e.classStyles,l=e.styles,r=q().header;return(0,M.tZ)("div",{className:(0,y.W)(i,J[n].headerOverride,r),style:l,children:(0,M.tZ)("h1",{children:t})})}function ee(e){var t=e.text,n=e.position,i=e.classStyles,l=e.styles,r=q().header;return(0,M.tZ)("div",{className:(0,y.W)(i,J[n].subheaderOverride,r),style:l,children:(0,M.tZ)("p",{children:t})})}function te(e){var t=e.text,n=e.position,i=e.classStyles,l=e.styles,r=q().mobileFullWidthDescription;return(0,M.tZ)("div",{className:(0,y.W)(i,n,J[n].descriptionOverride,r),style:l,children:(0,M.tZ)(T.D,{children:t})})}function ne(e){var t=e.data,n=q().addToCalendarDropdown;return(0,M.tZ)(F,W(W({},t),{},{className:n}))}function ie(e){var t=e.text,n=e.paletteId,i=e.openInNewTab,l=e.styles,r=q().mobileFullWidthButton;return(0,M.BX)("button",{className:(0,y.W)("inline-flex relative text-center font-bold text-base uppercase overflow-hidden align-middle items-center justify-center cursor-pointer align-start min-w-[8rem] min-h-[3rem] leading-[150%]",r),style:l,"data-theme":n,type:"button",children:[(0,M.tZ)("div",{children:t}),i&&(0,M.BX)(M.HY,{children:["\xa0",(0,M.tZ)(P.u,{className:"ml-2"})]}),(0,M.tZ)("span",{className:"absolute w-full h-full hover:bg-black hover:opacity-20"})]})}function le(e){var t,n=e.links,i=e.position,l=e.classStyles,r=e.groupStyles,o=e.ctaStyles;return(0,M.tZ)("ul",{className:(0,y.W)(l,J[i].listOverride),style:r,children:null===n||void 0===n||null===(t=n.items)||void 0===t?void 0:t.map((function(e){var t,n,i,l,r,a,s,d;return"CalendarEvent"===(null===e||void 0===e?void 0:e.__typename)?(0,M.tZ)("li",{children:(0,M.tZ)(ne,{data:e},"cta-li-dpdn-".concat(null===(n=e.sys)||void 0===n?void 0:n.id))},"cta-li-".concat(null===(t=e.sys)||void 0===t?void 0:t.id)):"Button"===(null===e||void 0===e?void 0:e.__typename)?(0,M.tZ)(Q,{item:e,children:(0,M.tZ)(ie,{text:e.text||"",paletteId:null!==(l=null===(r=e.palette)||void 0===r||null===(a=r.sys)||void 0===a?void 0:a.id)&&void 0!==l?l:"none",openInNewTab:null!==(d=e.openInNewTab)&&void 0!==d&&d,styles:o},"cta-li-p-".concat(null===(s=e.sys)||void 0===s?void 0:s.id))},"cta-li-".concat(null===(i=e.sys)||void 0===i?void 0:i.id)):null}))})}function re(e){var t=e.links,n=e.position,i=e.classStyles,r=e.styles;return(0,M.tZ)("ul",{className:(0,y.W)(i,J[n].listOverride),style:r,children:(0,E.E)(null===t||void 0===t?void 0:t.items).map((function(e){var t,n;return e.label&&(0,M.tZ)(Q,{item:e,children:(0,M.tZ)(S.H,{document:e.label.json,links:e.label.links,renderNode:(n={},(0,l.Z)(n,j.BLOCKS.PARAGRAPH,(),(0,l.Z)(n,j.BLOCKS.EMBEDDED_ASSET,(function(t){var n,i,l,r,o,a,s,d=(null===(n=e.label)||void 0===n||null===(i=n.links)||void 0===i||null===(l=i.assets)||void 0===l?void 0:l.block)&&(null===(r=e.label)||void 0===r||null===(o=r.links)||void 0===o||null===(a=o.assets)||void 0===a||null===(s=a.block)||void 0===s?void 0:s.find((function(e){var n,i,l,r;return(null===e||void 0===e||null===(n=e.sys)||void 0===n?void 0:n.id)===(null===t||void 0===t||null===(i=t.data)||void 0===i||null===(l=i.target)||void 0===l||null===(r=l.sys)||void 0===r?void 0:r.id)})));if(d){var c,u=d.url,v=d.title;return(0,M.tZ)(f.E,{className:"h-12 hover:drop-shadow-lg transition-[filter]",src:null!==u&&void 0!==u?u:"",alt:null!==v&&void 0!==v?v:""},"link-group-img-".concat(null===(c=e.sys)||void 0===c?void 0:c.id))}})),n)})},"link-li-".concat(null===(t=e.sys)||void 0===t?void 0:t.id))}))})}function oe(e){var t=e.endDate,n=e.className,i=(0,B.$G)().t,l=(0,I.a)(t),r=l.days,o=l.hours,a=l.minutes,s=l.seconds,d=l.isComplete,c=(0,x.useContext)(V.tY);(0,x.useEffect)((function(){d&&c(!0)}),[d,c]);var u="flex flex-col items-center",v="text-4xl lg:text-6xl tabular-nums",m="text-[0.65rem]",p="text-4xl lg:text-6xl mb-8";return(0,M.BX)("div",{className:(0,y.W)("flex flex-wrap justify-center items-center text-2xl font-bold gap-2 text-white",n),children:[(0,M.BX)("div",{className:u,children:[(0,M.tZ)("span",{className:v,children:"00".concat(r).slice(-2)}),(0,M.tZ)("span",{className:m,children:i("days")})]}),(0,M.tZ)("span",{className:p,children:":"}),(0,M.BX)("div",{className:u,children:[(0,M.tZ)("span",{className:v,children:"00".concat(o).slice(-2)}),(0,M.tZ)("span",{className:m,children:i("hours")})]}),(0,M.tZ)("span",{className:p,children:":"}),(0,M.BX)("div",{className:u,children:[(0,M.tZ)("span",{className:v,children:"00".concat(a).slice(-2)}),(0,M.tZ)("span",{className:m,children:i("minutes")})]}),(0,M.tZ)("span",{className:p,children:":"}),(0,M.BX)("div",{className:u,children:[(0,M.tZ)("span",{className:v,children:"00".concat(s).slice(-2)}),(0,M.tZ)("span",{className:m,children:i("seconds")})]})]})}function ae(e){var t,n=e.calendar,i=e.position,l=new Date(n.eventDate).valueOf();return(0,M.tZ)(H.I,{endDate:l,children:(0,M.tZ)(H.T,{forceChildren:!0,children:(0,M.tZ)(oe,{className:J[i].countdownTimer,endDate:l})})},"countdown-".concat(null===(t=n.sys)||void 0===t?void 0:t.id))}function se(e){var t=e.position,n=(0,B.$G)().t,i=(0,_.Z)().rating;if(!i)return null;var l=i.icon,r=i.descriptors,o=i.imageDescriptors,a=i.ratingInfoLink,s={iconSrc:(0,X.Jn)(l),iconAlt:(0,X.EQ)(l),descriptors:(0,E.E)(r).map((function(e){return n(e)})),imageDescriptors:(0,E.E)(o).map((function(e){return{src:(0,X.Jn)(e),alt:(0,X.EQ)(e)}})),ratingInfoLink:a};return(0,M.tZ)("div",{className:(0,y.W)("text-left text-xs max-w-[16rem] [&>div>img]:max-h-[5rem] mt-6 lg:bottom-16 lg:right-8 xl:right-24",J[t].ageRating),children:(0,M.tZ)(D.d,W({},s))})}var de=function(e,t,n,i){var l,r,o,a,s;if(!e)return{};var d=null===(l=e.sys)||void 0===l?void 0:l.id;return{logo:e.logo?(0,M.tZ)($,{logo:e.logo,position:O(t,"logo"),classStyles:n.logo,styles:p("logo",i,!0)},"hero-layout-logo-".concat(d)):null,heading:e.heading?(0,M.tZ)(Y,{text:e.heading,position:O(t,"heading"),classStyles:n.heading,styles:p("heading",i)},"hero-layout-heading-".concat(d)):null,subheading:e.subheading?(0,M.tZ)(ee,{text:e.subheading,position:O(t,"subheading"),classStyles:n.subheading,styles:p("subheading",i)},"hero-layout-subheading-".concat(d)):null,description:e.description?(0,M.tZ)(te,{text:e.description,position:O(t,"description"),classStyles:n.description,styles:p("description",i)},"hero-layout-description-".concat(d)):null,extendedDescription:e.extendedDescription?(0,M.tZ)(te,{text:e.extendedDescription,position:O(t,"extendedDescription"),classStyles:n.description,styles:p("extendedDescription",i)},"hero-layout-extended-description-".concat(d)):null,ctaButtons:e.ctaButtonsCollection&&0!==(null===(r=e.ctaButtonsCollection.items)||void 0===r?void 0:r.length)?(0,M.tZ)(le,{links:e.ctaButtonsCollection,position:O(t,"ctaButtons"),classStyles:n.list,groupStyles:p("ctaButtons",i),ctaStyles:p("ctaButtons.button",i)},"hero-layout-cta-btns-".concat(d)):null,storeLinks:e.storeLinksCollection&&0!==(null===(o=e.storeLinksCollection.items)||void 0===o?void 0:o.length)?(0,M.tZ)(re,{links:e.storeLinksCollection,position:O(t,"storeLinks"),classStyles:n.list,styles:p("storeLinks",i)},"hero-layout-store-links-".concat(d)):null,socialLinks:null!==e&&void 0!==e&&e.socialLinksCollection&&0!==(null===e||void 0===e||null===(a=e.socialLinksCollection.items)||void 0===a?void 0:a.length)?(0,M.tZ)(re,{links:e.socialLinksCollection,position:O(t,"socialLinks"),classStyles:n.list,styles:p("socialLinks",i)},"hero-layout-social-links-".concat(d)):null,addToCalendarDropdown:null!==e&&void 0!==e&&e.calendarEvent?(0,M.tZ)(ne,{data:e.calendarEvent},null===(s=e.sys)||void 0===s?void 0:s.id):null,countdownTimer:(null===e||void 0===e?void 0:e.calendarEvent)&&e.calendarEvent.eventDate&&(0,M.tZ)(ae,{calendar:e.calendarEvent,position:O(t,"countdownTimer")},"hero-layout-countdown-timer-".concat(d)),ageRating:(0,M.tZ)(se,{position:O(t,"ageRating")},"hero-layout-age-rating-".concat(d))}};function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=function(e){var t,n,i,l,r,a,s,d,c,v=e.heroData,p=e.maxWidth,Z=v.data,O=v.positionOverride,k=v.styleCollection,j=u(null===k||void 0===k?void 0:k.items),C=m("bg",j,!0).styles,P=m("fg",j).styles,S=(0,h.d)("".concat(g.Fg,"px")),I=w(),D=(0,o.Z)(I,2),E=D[0],B=D[1],T=N({logo:"lg:max-h-32",heading:"text-left text-4 lg:text-[3.5rem] lg:leading-[4.5rem] font-bold tracking-wider pb-8 pr-8",subheading:"text-left",description:"text-left",list:"py-4 justify-left items-left mt-0"}),_=de(Z,O,T,j),X=(0,x.useMemo)((function(){return null!==O&&void 0!==O&&O.left&&null!==O&&void 0!==O&&O.right?O:{left:["logo","heading","subheading","socialLinks"],right:["description","extendedDescription","storeLinks"]}}),[O]),L=(0,x.useMemo)((function(){return X.left.map((function(e){return _[e]}))}),[X,_]),A=(0,x.useMemo)((,[X,_]),G=null!==Z&&void 0!==Z&&null!==(t=Z.video)&&void 0!==t&&t.url?{className:(0,y.Z)("block absolute inset-0 w-full h-full object-cover object-center -z-10",q().animatedFadeIn),style:C.container&&C.container}:{};return(0,M.BX)("div",{className:(0,y.Z)("grid grid-cols-1 justify-items-center relative mx-auto z-10"),style:{maxWidth:p},children:[(0,M.BX)("div",{className:(0,y.Z)("my-0 mx-auto overflow-hidden inset-0","absolute"),ref:E,children:[(null===Z||void 0===Z||null===(n=Z.image)||void 0===n?void 0:n.url)&&(0,M.tZ)(f.E,{className:(0,y.Z)("block absolute inset-0 w-full h-full object-cover -z-10","object-center"),style:ue({},C.container),src:null!==(i=Z.image.url)&&void 0!==i?i:"",alt:null!==(l=Z.image.title)&&void 0!==l?l:""}),(null===Z||void 0===Z||null===(r=Z.video)||void 0===r?void 0:r.url)&&(0,M.tZ)(b.n,ue({allowMultiple:!1,id:"hero-layout-video",play:B,loop:!0,muted:!0,poster:null!==(a=null===Z||void 0===Z||null===(s=Z.image)||void 0===s?void 0:s.url)&&void 0!==a?a:"",src:null!==(d=null===Z||void 0===Z||null===(c=Z.video)||void 0===c?void 0:c.url)&&void 0!==d?d:""},G)),(0,M.tZ)("span",{className:(0,y.Z)("w-full h-full absolute"),style:ue({},C.background)})]}),(0,M.BX)("div",{className:(0,y.Z)("inline-flex flex-row w-full justify-center items-start p-24 relative"),style:ue(ue({},P.container),P.custom),children:[(0,M.tZ)("span",{className:"w-full h-full absolute top-0 -z-20",style:ue({},P.background)}),S?(0,M.BX)("div",{className:"flex flex-col",children:[L,A]}):(0,M.BX)(M.HY,{children:[(0,M.tZ)("div",{className:"basis-1/2",children:L}),(0,M.tZ)("div",{className:"basis-1/2",children:A})]})]})]})};function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe=function(e){var t,n,i,l,r,a,s,d,c=e.heroData,v=e.maxWidth,p=c.data,x=c.positionOverride,Z=c.styleCollection,O=function(e){var t,n=null===e||void 0===e||null===(t=e.position)||void 0===t?void 0:t.map(();return!n||0===n.length||n.every(()}(x),j=u(null===Z||void 0===Z?void 0:Z.items),C=m("bg",j,!0).styles,P=m("fg",j).styles,S=(0,h.d)("".concat(g.Fg,"px")),I=w(),D=(0,o.Z)(I,2),E=D[0],B=D[1],T=de(p,x,N({logo:"min-h-[6rem] lg:max-h-32",description:"2xl:w-2/4"}),j),_=k(x),X={className:(0,y.Z)("block absolute inset-0 w-full h-full object-cover object-center -z-10",q().animatedFadeIn),style:pe(pe({},C.container),C.custom)};return(0,M.BX)("div",{className:(0,y.Z)("grid grid-cols-1 justify-items-center relative mx-auto z-10"),style:{maxWidth:v},children:[(0,M.BX)("div",{className:(0,y.Z)("my-0 mx-auto overflow-hidden inset-0",O?"absolute":"relative w-full pb-[56.25%] lg:absolute lg:pb-0"),ref:E,children:[(null===p||void 0===p||null===(t=p.image)||void 0===t?void 0:t.url)&&(0,M.tZ)(f.E,{className:(0,y.Z)("block absolute inset-0 w-full h-full object-cover -z-10",O?"object-center":"object-right"),style:pe(pe({},C.container),C.custom),src:null!==(n=p.image.url)&&void 0!==n?n:"",alt:null!==(i=p.image.title)&&void 0!==i?i:""}),(null===p||void 0===p||null===(l=p.video)||void 0===l?void 0:l.url)&&(0,M.tZ)(b.n,pe({allowMultiple:!1,id:"hero-layout-video",play:B,loop:!0,muted:!0,poster:null!==(r=null===p||void 0===p||null===(a=p.image)||void 0===a?void 0:a.url)&&void 0!==r?r:"",src:null!==(s=null===p||void 0===p||null===(d=p.video)||void 0===d?void 0:d.url)&&void 0!==s?s:""},X)),(0,M.tZ)("span",{className:"w-full h-full absolute",style:O?C.background&&C.background:S?{}:{backgroundImage:C.background.backgroundImage}})]}),(0,M.tZ)("div",{className:(0,y.Z)("inline-flex flex-col w-full items-center text-center pt-8 pb-16 px-4 gap-4 relative lg:px-16 xl:px-24 3xl:px-32",O?"justify-center min-h-[640px]":"justify-center lg:min-h-[640px]"),style:pe(pe(pe({},P.container),P.background),P.custom),children:_.map((function(e){return T[e]}))})]})};function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=function(e){var t,n,i,l,r,a,s,d,c=e.heroData,v=e.maxWidth,p=c.data,h=c.positionOverride,g=c.styleCollection,x=u(null===g||void 0===g?void 0:g.items),Z=m("bg",x,!0).styles,O=m("fg",x).styles,j=w(),C=(0,o.Z)(j,2),P=C[0],S=C[1],I=de(p,h,N(),x),D=k(h),E={className:(0,y.Z)("block absolute inset-0 w-full h-full object-cover object-center -z-10",q().animatedFadeIn),style:ge(ge({},Z.container),Z.custom)};return(0,M.BX)("div",{className:"flex flex-row-reverse mx-auto",style:{maxWidth:v},children:[(0,M.BX)("div",{className:"inline-flex flex-col relative w-[65%]",style:Z.background&&Z.background,ref:P,children:[(null===p||void 0===p||null===(t=p.image)||void 0===t?void 0:t.url)&&(0,M.tZ)(f.E,{className:"block absolute inset-0 w-full h-full object-cover object-center -z-10",style:ge(ge({},Z.container),Z.custom),src:null!==(n=p.image.url)&&void 0!==n?n:"",alt:null!==(i=p.image.title)&&void 0!==i?i:""}),(null===p||void 0===p||null===(l=p.video)||void 0===l?void 0:l.url)&&(0,M.tZ)(b.n,ge({allowMultiple:!1,id:"hero-layout-video",play:S,loop:!0,muted:!0,poster:null!==(r=null===p||void 0===p||null===(a=p.image)||void 0===a?void 0:a.url)&&void 0!==r?r:"",src:null!==(s=null===p||void 0===p||null===(d=p.video)||void 0===d?void 0:d.url)&&void 0!==s?s:""},E))]}),(0,M.tZ)("div",{className:"inline-flex flex-col relative items-center justify-center pt-8 pb-16 px-4 gap-4 relative min-h-[640px] w-[35%] bg-black lg:px-16 xl:px-24",style:ge(ge(ge({},O.background),O.container),O.custom),children:D.map((function(e){return I[e]}))})]})};function ye(e){var t,n,l=e.item,r=null===l||void 0===l?void 0:l.variant,o=u(null===l||void 0===l||null===(t=l.styleCollection)||void 0===t?void 0:t.items),a=m("bg",o).styles.background,s=null!==(n=null===a||void 0===a?void 0:a.backgroundColor)&&void 0!==n?n:"transparent";return(0,M.BX)("section",{style:{backgroundColor:s},children:["mobile-full-width"===r&&(0,M.tZ)(fe,{heroData:l,maxWidth:i.Eq}),"partial-width"===r&&(0,M.tZ)(be,{heroData:l,maxWidth:i.Eq}),"half-width"===r&&(0,M.tZ)(ve,{heroData:l,maxWidth:i.Eq})]})}},54876:function(e,t,n){"use strict";n.d(t,{$:function(){return w}});var i=n(21477),l=n(4722),r=n(62873),o=n(21248),a=n(14517),s=n(13048),d=n(52983),c=n(85087),u=n(72193),v=n(15289),m=n(48173),p=n(44047);function f(e){var t=e.children,n=e.backgroundImage,i=e.textAlignment,r=e.bgScaleMode,o=null!==i&&void 0!==i?i:"Left",s=null!==r&&void 0!==r?r:"cover";return(0,p.BX)("div",{className:(0,a.Z)("max-w-layout mx-auto relative h-full","lg:min-h-[20rem] 2xl:min-h-[25rem] 3xl:min-h-[30rem]","grid grid-cols-1 grid-rows:2 lg:grid-rows-1 [&>*]:col-start-1"),children:[(0,p.tZ)("div",{className:"relative h-[12.5rem] lg:h-[unset] row-start-1",children:(0,p.tZ)(l.t,{className:(0,a.Z)("[&>img]:[object-position:var(--bg-pos)]","[&>img]:absolute [&>img]:inset-0 [&>img]:w-full [&>img]:h-full select-none","[&>img]:object-cover","contain"===s&&"lg:[&>img]:object-contain"),src:(0,v.Jn)(n),alt:(0,v.EQ)(n)})}),(0,p.tZ)("div",{className:(0,a.Z)("relative hidden lg:block row-start-1 promo-banner-scrim-[var(--promo-gradient-rgb)]","lg:rtl:scale-[-1]","Right"===o&&"scale-[-1]")}),(0,p.tZ)("div",{className:(0,a.Z)("relative block lg:hidden 3xl:block row-start-1 from-[rgb(var(--promo-gradient-rgb))] to-transparent","bg-gradient-to-t w-full h-1/2 self-end","3xl:w-32 3xl:bg-gradient-to-l 3xl:h-full 3xl:col-start-1","lg:rtl:scale-[-1]","Right"===o?"scale-[-1]":"justify-self-end")}),(0,p.tZ)("div",{className:(0,a.Z)("layout-content relative h-full w-full row-start-2 lg:row-start-1","!text-text-primary flex items-center justify-center","Right"===o?"lg:justify-end":"lg:justify-start"),children:(0,p.tZ)("section",{className:(0,a.Z)("w-full gap-y-4 py-8 flex flex-col items-center lg:items-start justify-end lg:justify-center","max-w-[30rem] lg:max-w-[33%] 2xl:max-w-[25%]"),children:t})})]})}var h=n(52274),g=n(84208);function b(e){var t=e.slug,n=e.children,i=e.onClick;return(0,p.tZ)("a",{rel:"noreferrer",target:"_blank",href:t||"#",onClick:i,children:n})}function y(e){var t=e.children,n=e.promotionId,i=e.buttonStyle,l=e.href,r=e.typename,o=e.sysId,s=e.creativeId,d=e.onClick,c=!i||"outline"===i,u="ProductDetailPage"===r&&h.J||"StorePage"===r&&g.E||"ExternalLink"===r&&b||null;return u?(0,p.tZ)(u,{slug:l,onClick:function(e){null!==d&&void 0!==d&&d()?null===e||void 0===e||e.preventDefault():(0,m.On)(n,o,s,l,!0)},className:"w-full",children:(0,p.tZ)("button",{type:"button",className:(0,a.Z)("btn w-full text-button-m flex-nowrap",c?"btn-outline":"bg-[--color-button-bg]","text-[--color-button-text]"),children:t})}):null}function x(e){var t=e.children,n=e.backgroundImage,i=e.textAlignment;return(0,p.BX)("div",{className:(0,a.Z)("max-w-layout mx-auto relative min-h-[20rem] 2xl:min-h-[25rem] 3xl:min-h-[30rem] overflow-hidden flex flex-col lg:flex-row","Left"===i&&"lg:flex-row-reverse"),children:[(0,p.tZ)("div",{className:"relative w-full h-[12.5rem] lg:h-[unset]",children:(0,p.tZ)(l.t,{src:(0,v.Jn)(n),alt:(0,v.EQ)(n),className:(0,a.Z)("[&>img]:w-full [&>img]:h-full","lg:[&>img]:absolute lg:[&>img]:inset-0","[&>img]:object-cover")})}),(0,p.tZ)("div",{className:(0,a.Z)("layout-content pe-8 w-full flex justify-center items-center mx-auto lg:mx-0","max-w-[30rem] lg:max-w-[50%] 2xl:max-w-[35%]"),children:(0,p.tZ)("section",{className:"flex flex-col gap-y-4 py-4 lg:py-8 items-center lg:items-start justify-center w-full",children:t})})]})}var Z="Promo Banner";function w(e){var t,n,h=e.item,g=e.children,b=h.backgroundImage,w=h.gradientColor,O=h.title,k=h.description,N=h.product,j=h.bgX,C=h.bgY,P=h.themePrimary,S=h.buttonVariant,I=h.buttonTextColor,D=h.textColor,E=h.logo,B=h.backgroundStyle,T=h.sys,_=B===u.CH.PartialWidth,X="ExternalLink"===(null===N||void 0===N?void 0:N.__typename)&&N.url||"ProductDetailPage"===(null===N||void 0===N?void 0:N.__typename)&&N.slug||"StorePage"===(null===N||void 0===N?void 0:N.__typename)&&N.slug||null,L=(0,s.$G)().t,A=(null===T||void 0===T?void 0:T.id)||"unknown",M=(0,v.Jn)(b)||"unknown";(0,d.useEffect)((function(){"ProductDetailPage"!==(null===N||void 0===N?void 0:N.__typename)&&"StorePage"!==(null===N||void 0===N?void 0:N.__typename)||(0,m.On)(Z,A,M,null===N||void 0===N?void 0:N.slug)}),[b,M,N,A]);var G="".concat(null!==j&&void 0!==j?j:50,"% ").concat(null!==C&&void 0!==C?C:50,"%"),R=(0,p.BX)(p.HY,{children:[E&&(0,p.tZ)(l.t,{className:(0,a.Z)("[&>img]:w-full [&>img]:object-contain","[&>img]:h-[96px] [&>img]:max-h-[128px] lg:[&>img]:h-full [&>img]:max-w-[16rem]"),src:(0,v.Jn)(E),alt:(0,v.EQ)(E),transparent:!0,loading:"eager"}),O&&(0,p.tZ)(r.H,{className:"type-headline-l",children:O}),k&&(0,p.tZ)(c.D,{className:(0,a.Z)("type-body-s relative flex w-full flex-col items-center lg:items-start justify-end lg:justify-center","prose-headings:type-headline-l prose-headings:md:type-headline-xl prose-headings:mb-2 prose-p:mb-2"),linkTarget:"_blank",children:k||""}),g,X&&(0,p.tZ)("div",{className:"max-w-[30rem] w-full lg:w-fit",children:(0,p.tZ)(y,{promotionId:Z,sysId:A,creativeId:M,buttonStyle:S,href:X,typename:null===N||void 0===N?void 0:N.__typename,children:(null===(t=h.buttonCopy)||void 0===t?void 0:t.text)||L("Learn More (Button)")})})]});return(0,p.BX)("div",{"data-testid":i.Jo,className:"bg-[rgb(var(--promo-gradient-rgb))] w-full",style:{"--bg-pos":G,"--promo-gradient-rgb":w?(0,o.$)(null!==w&&void 0!==w?w:""):"var(--color-black-rgb)","--text-color-primary-rgb":null!==(n=(0,o.$)(null!==D&&void 0!==D?D:""))&&void 0!==n?n:void 0,"--color-button-bg":null!==P&&void 0!==P?P:void 0,"--color-button-text":null!==I&&void 0!==I?I:void 0},children:[_&&(0,p.tZ)(x,{bgScaleMode:h.bgScaleMode,textAlignment:h.textAlignment,backgroundImage:h.backgroundImage,children:R}),!_&&(0,p.tZ)(f,{bgScaleMode:h.bgScaleMode,textAlignment:h.textAlignment,backgroundImage:h.backgroundImage,children:R})]})}},56636:function(e,t,n){"use strict";n.d(t,{O:function(){return sa}});var i=n(93313),l=n(1553),r=n(17282),o=n(14517),a=n(52983),s=n(4298),d=n(15289),c=n(80808),u=n.n(c),v=n(44047),m=u()((,{loadableGenerated:{webpack:});var p=n(99798),f=n(42584),h=n.n(f),g=n(81473),b=n(21477),y=n(95507),x=n(80835),Z=n(46565),w=n(62873),O=n(63810),k=n(13952),N=n(28150),j=n(12891),C=n(55149),P=n(90276),S=n(4722),I=n(73709),D=n(34528),E=n(13048),B=n(85087),T=n(42921);function _(e){var t,n,i=e.email,l=e.month,r=e.year,o=e.location,a=e.locale,s=e.source,d=e.platform;return fetch("".concat(null===(t=window.t2gp)||void 0===t||null===(n=t.env)||void 0===n?void 0:n.T2GP_PUBLIC_RUNTIME_NEWSLETTER_API_BASE,"/optin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,source:s,locale:a,month:l,year:r,location:o,platform:d})})}var X=n(13661),L=n(98330),A=(0,g.css)("margin-top:1rem;width:100%;font-weight:normal;font-size:1rem;line-height:150%;color:rgba(var(--text-color-primary-rgb), 0.6);text-transform:none;letter-spacing:normal;@media (min-width: ",y.rG,"px){min-width:34rem;}");function M(e){var t=e.successMessage,n=(0,E.$G)().t;return null!==t&&void 0!==t&&t.json?(0,v.tZ)(P.H,{css:A,includeContainer:!0,document:null===t||void 0===t?void 0:t.json}):(0,v.tZ)("p",{css:A,children:n("subscribe-success")})}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F={maxWidth:"100%",backgroundColor:"var(--color-neutral-200)",paddingTop:"3rem",paddingBottom:"3rem"},H={display:"grid",gridTemplateColumns:"repeat(1, minmax(0, 1fr))",gridTemplateRows:"repeat(1, minmax(0, 1fr))",alignItems:"center",columnGap:"3rem","@media (min-width: 768px)":{gridTemplateColumns:"2fr 3fr"}},V={display:"flex",width:"100%",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",rowGap:"1rem"},z={display:"none",height:"100%",maxHeight:"32rem",width:"100%","@media (min-width: 768px)":{display:"block"}},q={name:"vbbes8",styles:"img{height:100%;max-width:100%;object-fit:cover;object-position:left top;;}"},U={display:"flex",alignItems:"center",columnGap:"0.5rem"},W={margin:"0px"},K={fontWeight:"normal",fontSize:"0.875rem",lineHeight:"150%",color:"rgba(var(--text-color-primary-rgb), 0.6)",textTransform:"none",letterSpacing:"normal"},J={name:"1llhg49",styles:"width:100%;appearance:none;border-radius:0.25rem;border-width:1px;background-color:var(--color-neutral-100);padding-left:1rem;padding-right:1rem;padding-top:0.75rem;padding-bottom:0.75rem;border-color:rgba(var(--color-neutral-999-rgb), 0.2);font-weight:normal;font-size:1rem;line-height:150%;color:rgba(var(--text-color-primary-rgb), 0.8);text-transform:none;letter-spacing:normal; padding-inline-start:1rem;&::placeholder{color:rgba(var(--text-color-primary-rgb), 0.5);}"},Q={name:"3gmzyl",styles:"border-left-width:4px;border-color:var(--color-error); border-color:rgba(var(--color-error-rgb), 0.8)"},$={width:"100%",fontWeight:"normal",fontSize:"0.875rem",lineHeight:"150%",color:"rgba(var(--text-color-primary-rgb), 0.6)",textTransform:"none",letterSpacing:"normal"},Y={width:"100%",fontWeight:"normal",color:"rgba(var(--text-color-primary-rgb), 0.6)",fontSize:".688rem",lineHeight:"150%",textTransform:"none",letterSpacing:"0.05rem"},ee={fontWeight:"600",fontFamily:"var(--font-secondary)",fontSize:"1.5rem",lineHeight:"125%",color:"rgba(var(--text-color-primary-rgb), 1.0)",textTransform:"none",letterSpacing:"normal"},te={name:"1efa7ha",styles:"margin-top:0.5rem;display:flex;width:100%;align-items:center;border-radius:0.125rem;padding:0.5rem;font-weight:normal;font-size:0.875rem;line-height:150%;color:rgba(var(--text-color-primary-rgb), 0.8);text-transform:none;letter-spacing:normal; color:var(--text-color-primary-rgb);background-color:rgba(var(--color-error-rgb));min-height:1rem"},ne=(0,g.css)(te," svg{display:inline-block;height:1.25rem;width:1.25rem; margin-inline-end:0.5rem;stroke:var(--color-error);fill:none;}"),ie={name:"1634uly",styles:"width:100%; min-width:8rem;&:first-of-type{margin-inline-end:0.5rem;}"},le=(0,g.css)("width:100%;@media (min-width: ",y.H6,"px){min-width:16.5rem;}"),re={width:"100%"},oe={display:"flex",width:"100%",flexDirection:"column",rowGap:"1rem","@media (min-width: 640px)":{flexDirection:"row"}},ae={display:"flex",width:"100%",flexDirection:"column","@media (min-width: 640px)":{flexDirection:"row"}},se=(0,g.css)("flex-grow:1; margin-inline-end:0;@media (min-width: ",y.H6,"px){margin-inline-end:1rem;}"),de={display:"flex"},ce={email:"",isEmailValid:!1,isAgeValid:!1,subscribeFailed:!1,subscribeSuccess:!1,isLoading:!1},ue="SET_EMAIL",ve="SET_EMAIL_VALID",me="SET_EMAIL_INVALID",pe="SET_SUBSCRIBE_SUCCESS",fe="SET_SUBSCRIBE_FAILED",he="SET_LOADING",ge="SET_AGE_INVALID",be="SET_AGE_VALID",ye="RESET",xe=function(e,t){switch(t.type){case ue:return R(R({},e),{},{email:t.payload||"",isEmailValid:!0,subscribeFailed:!1,isLoading:!1});case ve:return R(R({},e),{},{isEmailValid:!0,isLoading:!1});case me:return R(R({},e),{},{isEmailValid:!1,isLoading:!1});case pe:return R(R({},e),{},{subscribeSuccess:!0,subscribeFailed:!1,isLoading:!1});case fe:return R(R({},e),{},{subscribeSuccess:!1,subscribeFailed:!0,isLoading:!1});case he:return R(R({},e),{},{isLoading:!0});case ye:return ce;case be:return R(R({},e),{},{isAgeValid:!0,isLoading:!1});case ge:return R(R({},e),{},{isAgeValid:!1,isLoading:!1});default:throw new Error}};var Ze=n(91785),we=n(24021),Oe=n(79266),ke=n.n(Oe),Ne=n(47388),je=n(68817),Ce=n(36767),Pe=n(51415),Se=n(80879),Ie=n(16484),De=n.n(Ie);function Ee(e){var t,n,i,l,r,d,c,u=e.item,m=u.buttonCopy,p=u.text,f=u.stampImage,h=u.stampOutlineImage,g=u.stampSilhouetteImage,b=(0,je.TA)(),y=b&&Object.values(b).filter((function(e){var t;return null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.inGroup})),x=null===y||void 0===y?void 0:y.some((function(e){var t,n;return(null===e||void 0===e||null===(t=e[0])||void 0===t||null===(n=t.inGroup)||void 0===n?void 0:n.state)===Se.KA.hidden})),Z=(0,s.H)().punchCardConnectDifferentFromBanner,w=null!==(t=null===y||void 0===y?void 0:y.length)&&void 0!==t?t:0,O=null!==(n=null===y||void 0===y||null===(i=y[0])||void 0===i||null===(l=i[0])||void 0===l||null===(r=l.inGroup)||void 0===r?void 0:r.groupUsedCount)&&void 0!==n?n:0,k=O===w,N=(null===y||void 0===y?void 0:y.find((function(e){var t,n;return(null===e||void 0===e||null===(t=e[0])||void 0===t||null===(n=t.inGroup)||void 0===n?void 0:n.state)===Se.KA.purchasable})))&&O===w-1,j=(0,a.useMemo)((function(){return Object.values(null!==y&&void 0!==y?y:{}).sort((function(e,t){var n,i,l,r,o,a;return(null!==(n=null===e||void 0===e||null===(i=e[0])||void 0===i||null===(l=i.inGroup)||void 0===l?void 0:l.orderInGroup)&&void 0!==n?n:0)-(null!==(r=null===t||void 0===t||null===(o=t[0])||void 0===o||null===(a=o.inGroup)||void 0===a?void 0:a.orderInGroup)&&void 0!==r?r:0)}))}),[y]),C=(0,Ce.Dc)().setIsModalOpen,P=(0,we.M)(),S=ke().mobile,I=(0,Ce.aC)().signIn,D=(0,Ce.aF)(),E=(0,a.useState)(!1),B=E[0],T=E[1],_=(0,a.useState)({userId:(0,Pe.Do)(Pe.M2.userid)||(0,Pe.Do)(Pe.M2.token)||""}),X=_[0],L=_[1];(0,a.useEffect)((function(){L({userId:(0,Pe.Do)(Pe.M2.userid)||(0,Pe.Do)(Pe.M2.token)||""}),T(!D.isFetching)}),[b,D]);var A=function(e){var t={};return null===e||void 0===e||e.content.forEach((function(e){e.content.forEach((function(e){var n,i;t[e.data.uri]=null===(n=e.content)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.value}))})),t}(null===p||void 0===p?void 0:p.json),M="";return 0!==O||x?O>0&&!N&&!x&&!k?M=A.on_track:N?M=A.claim_final_reward:k?M=A.final_reward_claimed:x&&(M=A.missed):M=A.unclaimed,B?(0,v.tZ)("section",{"data-theme":(null===(d=u.palette)||void 0===d||null===(c=d.sys)||void 0===c?void 0:c.id)||"none!",className:(0,o.Z)("layout layout-content max-w-layout items-center mx-auto"),children:(0,v.tZ)("div",{className:(0,o.Z)("rounded-xl mt-8 p-5",De().main),children:X.userId?(0,v.BX)("div",{children:[(0,v.BX)("div",{className:"flex flex-col items-start max-w-screen-3xl mx-auto mb-2",children:[(0,v.tZ)("div",{className:"text-m font-bold me-0 sm:me-4",children:M}),(0,v.tZ)("div",{className:"text-body-s mt-2",children:"".concat(O,"/").concat(w," ").concat(A.rewards_claimed)})]}),(0,v.tZ)("div",{className:"flex flex-wrap [&>picture]:me-2 [&>picture]:mt-2",children:j.map((function(e){var t,n,i,l,r,o,a="";switch(null===e||void 0===e||null===(t=e[0])||void 0===t||null===(n=t.inGroup)||void 0===n?void 0:n.state){case Se.KA.owned:a=null!==(i=null===f||void 0===f?void 0:f.url)&&void 0!==i?i:"";break;case Se.KA.hidden:a=null!==(l=null===g||void 0===g?void 0:g.url)&&void 0!==l?l:"";break;default:a=null!==(r=null===h||void 0===h?void 0:h.url)&&void 0!==r?r:""}return(0,v.tZ)(Ze.E,{sizes:"37.5px",src:a,alt:""},null===e||void 0===e||null===(o=e[0])||void 0===o?void 0:o.skuId)}))})]}):(0,v.BX)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center max-w-screen-3xl mx-auto",children:[(0,v.tZ)("div",{className:"text-m font-bold mb-5 sm:mb-0 me-0 sm:me-4",children:A.anonymous}),(0,v.tZ)("div",{className:"w-full sm:flex sm:flex-1 sm:justify-end",children:(0,v.tZ)("button",{type:"button",onClick:function(){Z?C(!0):S?I():P()},className:(0,o.Z)(De().button,"btn w-full sm:w-fit text-button-text text-button-m uppercase"),children:null===m||void 0===m?void 0:m.text})})]})})}):null}function Be(e){var t=e.item;return(0,v.tZ)(Ne.R,{children:(0,v.tZ)(Ee,{item:t})})}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=function(e){return(0,v.tZ)("svg",_e(_e({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{},{children:(0,v.tZ)("path",{fill:"currentColor",d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2ZM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8Zm-.22-13h-.06c-.4 0-.72.32-.72.72v4.72c0 .35.18.68.49.86l4.15 2.49c.34.2.78.1.98-.24a.71.71 0 0 0-.25-.99l-3.87-2.3V7.72c0-.4-.32-.72-.72-.72Z"})}))},Le=n(31708),Ae=n(17560);function Me(e){var t,n,i,l,r,a,s,d,c,u,m,p,f,h,g,b,y,x,Z,w,O,k,N,j=e.item,C=(0,Ce.aF)(),P=C.refetchUser,S=C.user,I=(0,E.$G)().t,D=Array.from({length:(null===S||void 0===S||null===(t=S.punchCard)||void 0===t?void 0:t.maxPurchases)||0},(function(e,t){var n;return((null===S||void 0===S||null===(n=S.punchCard)||void 0===n?void 0:n.maxPurchases)||0)-t})),B=0!==(null===S||void 0===S||null===(n=S.punchCard)||void 0===n?void 0:n.remainingPurchases)&&(null===S||void 0===S||null===(i=S.punchCard)||void 0===i?void 0:i.remainingPurchases)!==(null===S||void 0===S||null===(l=S.punchCard)||void 0===l?void 0:l.maxPurchases),T=null!==(r=null===S||void 0===S?void 0:S.punchCard)&&void 0!==r?r:null,_=0===(null===S||void 0===S||null===(a=S.punchCard)||void 0===a?void 0:a.remainingPurchases),X=Number(null===S||void 0===S||null===(s=S.punchCard)||void 0===s?void 0:s.timeLeft),L=(0,Le.i8)(null!==(d=null===S||void 0===S||null===(c=S.punchCard)||void 0===c?void 0:c.duration)&&void 0!==d?d:"");return S&&T&&(0,v.tZ)("div",{"data-theme":null===(u=j.palette)||void 0===u||null===(m=u.sys)||void 0===m?void 0:m.id,className:"layout layout-content max-w-layout p-4",children:(0,v.BX)("div",{className:(0,o.Z)(De().main,"p-4 rounded-lg border-1"),children:[(0,v.tZ)("p",{className:(0,o.Z)("text-body-s font-normal",B&&"mb-2"),children:(null===S||void 0===S||null===(p=S.punchCard)||void 0===p?void 0:p.remainingPurchases)===(null===S||void 0===S||null===(f=S.punchCard)||void 0===f?void 0:f.maxPurchases)?I("punchcard-description-empty",{maxPurchases:null===S||void 0===S||null===(h=S.punchCard)||void 0===h?void 0:h.maxPurchases,duration:L}):(0,v.BX)(E.cC,{i18nKey:"punchcard-description",values:{maxPurchases:null===S||void 0===S||null===(g=S.punchCard)||void 0===g?void 0:g.maxPurchases,duration:L},children:["Make maxPurchases qualifying purchases in duration days and WIN!",(0,v.tZ)("p",{children:"Purchase packs with VIP Stamps to Win More."})]})}),B&&(0,v.BX)("div",{className:(0,o.Z)(De().timer,"text-body-s font-bold"),children:[(0,v.tZ)(Xe,{className:"h-4 w-4 min-w-[1rem] inline me-1"}),(0,v.tZ)(Ae.I,{endDate:(0,Le.W9)(X),onDone:function(){return P()},children:(0,v.tZ)(Ae.T,{className:"align-middle uppercase",daysHoursOnly:!0})})]}),(0,v.tZ)("div",{className:"flex flex-row items-start py-2",children:D.map((function(e,t){var n,i,l,r,o,a,s,d,c,u,m,p,f;return e>(null!==(n=null!==(i=null===S||void 0===S||null===(l=S.punchCard)||void 0===l?void 0:l.remainingPurchases)&&void 0!==i?i:null===S||void 0===S||null===(r=S.punchCard)||void 0===r?void 0:r.maxPurchases)&&void 0!==n?n:0)?(0,v.tZ)("div",{children:(0,v.tZ)(Ze.E,{sizes:"38px",quality:100,title:null===j||void 0===j||null===(o=j.stampImage)||void 0===o?void 0:o.url,alt:null===j||void 0===j||null===(a=j.stampImage)||void 0===a?void 0:a.url,src:null===j||void 0===j||null===(s=j.stampImage)||void 0===s?void 0:s.url})},"punch-card-image-".concat(t)):(0,v.BX)("div",{className:"relative grid grid-cols-1 items-center justify-items-center",children:[(0,v.tZ)("div",{className:"absolute col-start-1 font-bold",children:t+1}),(0,v.tZ)(Ze.E,{sizes:"38px",quality:100,className:"col-start-1",title:null!==(d=null===j||void 0===j||null===(c=j.stampSilhouetteImage)||void 0===c?void 0:c.url)&&void 0!==d?d:"",alt:null!==(u=null===j||void 0===j||null===(m=j.stampSilhouetteImage)||void 0===m?void 0:m.url)&&void 0!==u?u:"",src:null!==(p=null===j||void 0===j||null===(f=j.stampSilhouetteImage)||void 0===f?void 0:f.url)&&void 0!==p?p:""})]},"punch-card-empty-".concat(t))}))}),_&&(0,v.tZ)("p",{className:"font-bold mb-2",children:I("punchcard-completed")}),(0,v.BX)("div",{className:"font-bold flex flex-row items-center",children:[_?I("you-won-amount",{chipAmount:Number(null===S||void 0===S||null===(b=S.punchCard)||void 0===b?void 0:b.rewardQuantity).toLocaleString()}):I("win-amount",{chipAmount:Number(null===S||void 0===S||null===(y=S.punchCard)||void 0===y?void 0:y.rewardQuantity).toLocaleString()}),(0,v.tZ)(Ze.E,{sizes:"12px",className:"w-6 align-bottom pl-1",title:null!==(x=null===S||void 0===S||null===(Z=S.punchCard)||void 0===Z?void 0:Z.rewardIcon)&&void 0!==x?x:"",alt:null!==(w=null===S||void 0===S||null===(O=S.punchCard)||void 0===O?void 0:O.rewardIcon)&&void 0!==w?w:"",src:null!==(k=null===S||void 0===S||null===(N=S.punchCard)||void 0===N?void 0:N.rewardIcon)&&void 0!==k?k:""})]})]})})}var Ge=n(51365),Re=n(14975),Fe=n(9860),He=n.n(Fe),Ve=n(72193),ze=n(71592),qe=n(59395),Ue=n(8896),We=n(52274),Ke=n(15001),Je=n(82743),Qe=n(81631),$e=n(76886);var Ye=(0,g.css)("margin-bottom:2rem;font-weight:normal;font-size:0.875rem;line-height:150%;color:rgba(var(--text-color-primary-rgb), 0.8);text-transform:none;letter-spacing:normal; ",(0,$e.c)(),">h3{font-weight:bold;font-family:var(--font-secondary);font-size:2rem;line-height:125%;color:rgba(var(--text-color-primary-rgb), 1.0);text-transform:none;letter-spacing:normal;;}"),et={textAlign:"center"},tt={name:"va2k03",styles:"text-align:end"};function nt(e){var t=e.json,n=e.alignment;return t?(0,v.tZ)("section",{css:[Ye,"CENTER"===n&&et,"RIGHT"===n&&tt,""],children:(0,v.tZ)(P.H,{document:t})}):null}function it(e){var t=e.nextPageTitle,n=e.searchQuery,i=(0,E.$G)().t,l=(0,Fe.useRouter)();return(0,v.BX)("button",{className:"ms-auto hover:[text-decoration:none] flex items-center type-body-s-bold uppercase type-link hover:type-link-hover",type:"button",onClick:function(){var e=t?"&title=".concat(t):"";l.push("/search?".concat(n).concat(e),void 0,{shallow:!1})},children:[i("See all"),(0,v.tZ)(Re.J,{className:"w-4 h-4 ms-2 [margin-block-end:0.125rem]"})]})}function lt(e){var t,n,i,l,r,o,s,d,c,u=e.item,m=e.layoutStyle,p=e.layoutItems,f=e.backgroundUrl,h=u.searchQuery||"",g="".concat(h,"&").concat(Ve.bc.size,"=").concat(6),y=(0,qe.R)(g).data,x=null===y||void 0===y?void 0:y.results[0],Z=(null===x||void 0===x||null===(t=x.contentType)||void 0===t?void 0:t[0])===Ve.kc,w=(null!==(n=null===y||void 0===y?void 0:y.total.value)&&void 0!==n?n:0)>6,O=Z?Ue.O:We.J,k=(0,a.useMemo)((function(){return(0,D.E)(null===y||void 0===y?void 0:y.results)}),[null===y||void 0===y?void 0:y.results]);return(0,v.BX)(L.v,{backgroundImageUrl:f,slug:(0,I.U)(null===u||void 0===u||null===(i=u.header)||void 0===i?void 0:i.text),title:null===u||void 0===u||null===(l=u.header)||void 0===l?void 0:l.text,"data-testid":b.Om,link:w&&(0,v.tZ)(it,{nextPageTitle:(null===(r=u.header)||void 0===r?void 0:r.text)||"",searchQuery:h}),children:[(0,v.tZ)(nt,{json:null===u||void 0===u||null===(o=u.text)||void 0===o?void 0:o.json}),(0,v.tZ)(je.jW,{value:null===y||void 0===y?void 0:y.skus,children:(0,v.tZ)(Qe.K,{id:"list-".concat(null===(s=u.sys)||void 0===s?void 0:s.id),"aria-label":null===u||void 0===u||null===(d=u.header)||void 0===d?void 0:d.text,title:null===u||void 0===u||null===(c=u.header)||void 0===c?void 0:c.text,peek:!1===u.peek?"never":"mobile",bleed:!0,layoutItems:p,layoutStyle:m,children:k.map((function(e){return(0,v.tZ)(ze.n,{value:e,children:(0,v.BX)(O,{slug:e.slug,children:[Z&&(0,v.tZ)(Ke.O,{maxImageWidth:Ve.QK}),!Z&&(0,v.tZ)(Je.o,{})]})},e.sys.id)}))})})]})}var rt=n(47742),ot=n(45132);function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dt(e){var t,n,l,r,o,s=e.item,d=e.layoutItems,c=e.layoutStyle,u=e.backgroundUrl,m=s.productCollection,p=s.merchProductsCollection,f=(0,je.TA)(),h=(0,E.$G)().t,g=(0,rt.l)().StoreBrowseGame,y=(0,ot.s)(),x=(0,a.useMemo)((function(){var e,t,n=!(null===(e=null===p||void 0===p||null===(t=p.items)||void 0===t?void 0:t.length)||void 0===e||!e),l=n?(0,D.E)(null===p||void 0===p?void 0:p.items):(0,D.E)(null===m||void 0===m?void 0:m.items),r=null===l||void 0===l?void 0:l.map((function(e){var t,l,r="PromoTile"===e.__typename?je.jW:a.Fragment,o=(null===g||void 0===g?void 0:g.TileWrapper)||(n?Ue.O:We.J),s="PromoTile"===e.__typename&&e.productDetailPage||"MerchandiseProductDetailPage"===e.__typename&&e||"ProductDetailPage"===e.__typename&&e||null;if(null===s)return null;var d,c={},u="",m=null===(t=s.item)||void 0===t||null===(l=t.sys)||void 0===l?void 0:l.id;if("PromoTile"===e.__typename){var p,b,y,x,Z,w,O,k,N=null!==(p=null===s||void 0===s||null===(b=s.item)||void 0===b||null===(y=b.sys)||void 0===y?void 0:y.id)&&void 0!==p?p:"",j=null===(x=e.displaySkusCollection)||void 0===x||null===(Z=x.items)||void 0===Z?void 0:Z.map((function(e){var t;return null===f||void 0===f||null===(t=f[N])||void 0===t?void 0:t.find((function(t){var n;return(null===e||void 0===e||null===(n=e.sys)||void 0===n?void 0:n.id)===(null===t||void 0===t?void 0:t.skuId)}))}));if(0===(null===(w=(0,D.E)(j))||void 0===w?void 0:w.length))return null;null!==g&&void 0!==g&&g.filterOwnedTiles&&(null===j||void 0===j||null===(O=j[0])||void 0===O?void 0:O.purchaseState)===Se.KA.owned&&(d=h("you-own-this")),u=(null===j||void 0===j||null===(k=j[0])||void 0===k?void 0:k.drm)||"",m="".concat(m,"-promotile"),c.value=(0,i.Z)({},N,j)}return(0,v.tZ)(r,st(st({},c),{},{children:(0,v.tZ)(ze.n,{value:null===s||void 0===s?void 0:s.item,children:(0,v.BX)(o,{slug:null===s||void 0===s?void 0:s.slug,drm:u,children:[n&&(0,v.tZ)(Ke.O,{maxImageWidth:Ve.QK}),!n&&(0,v.tZ)(Je.o,{maxImageWidth:Ve.QK,entitledLabel:d})]})})}),m)}));return(0,D.E)(r)}),[null===p||void 0===p?void 0:p.items,null===m||void 0===m?void 0:m.items,null===g||void 0===g?void 0:g.TileWrapper,null===g||void 0===g?void 0:g.filterOwnedTiles,h,f]);return x&&x.length<1?null:(0,v.BX)(L.v,{backgroundImageUrl:u,alignment:s.alignment,slug:(0,I.U)(null===(t=s.header)||void 0===t?void 0:t.text),title:null===(n=s.header)||void 0===n?void 0:n.text,"data-testid":b.Om,children:[(0,v.tZ)(nt,{alignment:s.alignment,json:null===s||void 0===s||null===(l=s.text)||void 0===l?void 0:l.json}),(0,v.tZ)(Qe.K,{bleed:!0,peek:!1===s.peek?"never":"mobile",peekSize:y,alignment:s.alignment,id:"list-".concat(null===(r=s.sys)||void 0===r?void 0:r.id),title:null===(o=s.header)||void 0===o?void 0:o.text,layoutItems:d,layoutStyle:c,children:x})]})}var ct=n(67939),ut=n(522),vt=n(16307),mt=n(71528),pt=n(72345),ft=n(40923),ht=n(16007),gt=n(86650),bt=n(32917),yt=n(84208),xt={Action:ut.Q,Arcade:vt.L,Roleplaying:mt.i,Shooting:pt.W,Sports:ft.h,Strategy:ht.q},Zt=function(e){var t=e.category,n=e.label,i=e.icon,l=e.backgroundImage,r=(null===t||void 0===t?void 0:t.slug)||"";return{key:r,Icon:xt[i||""],label:n,value:r,background:(null===l||void 0===l?void 0:l.url)||""}};function wt(e){var t=e.item;return(0,v.tZ)(yt.E,{slug:t.value,children:(0,v.tZ)(gt.P,{item:t})})}var Ot=n(87164),kt=n(44543),Nt=n(20385),jt=n(74075),Ct=n(63121),Pt=n(55694),St=n(18264),It=n(93004),Dt=n(82433),Et=n(89692);function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _t={name:"102p4bj",styles:"--color-success:var(--color-secondary);.light &{--tw-shadow:0px 2px 4px rgba(var(--color-black-rgb), 0.24);--tw-shadow-colored:0px 2px 4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);}>div{padding-bottom:var(--comparison-table-boxart-aspect-ratio, 56.25%);}section>div{width:100%; button{width:100%;;}}"},Xt={display:"flex"},Lt=(0,g.css)(Pt.D,";");function At(e){var t=(0,Nt.Z)({},e),n=(0,Ce.kc)(),i=n.discountPercentage,l=n.isPromoActive,r=t.title,o=t.drm,a=(0,Ce.Yv)(o),s=(0,Et.p)([]),d=r.toLowerCase().replace(/[^A-Z0-9]+/gi,"-"),c=(0,X.getMSecondsSinceEpoch)()<((null===a||void 0===a?void 0:a.releaseDate)||0),u=!(null===a||void 0===a||!a.externalSiteLink);return(0,v.tZ)(jt.A,Tt(Tt({},t),{},{css:_t,discountLabel:l&&i,purchaseButton:(null===a||void 0===a?void 0:a.purchaseState)===Se.KA.owned&&(0,v.tZ)("span",{css:Xt,children:(0,v.tZ)(Dt.f,{isPreOrder:c,sku:a})})||(null===a||void 0===a?void 0:a.purchaseState)===Se.KA.purchasable&&(0,v.BX)("div",{className:"w-full flex flex-col gap-4",children:[(0,v.tZ)(St.i,{css:Lt,id:"".concat(Ct.fd,"-").concat(d),"data-skuid":null===a||void 0===a?void 0:a.skuId,children:(0,v.tZ)(It.d,{showBuyPriceLabel:!0,isExternalLink:u})}),(0,v.tZ)(St.a,{id:"".concat(Ct.Ro,"-").concat(d),"data-skuid":null===a||void 0===a?void 0:a.skuId})]}),ctaMessages:s,"data-testid":"".concat(b.XP,"-").concat(r)}))}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rt=n(62377),Ft=n(83641),Ht=n(70908);function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qt={maxWidth:"100%",paddingLeft:"0px !important",paddingRight:"0px !important"},Ut=(0,g.css)(Rt.u," margin-left:auto;margin-right:auto;width:100%;;max-width:",Ft.Eq,";"),Wt=(0,g.css)("margin-left:auto;margin-right:auto;width:100%;;max-width:",Ft.Eq,";>div{border-radius:0px;padding-left:0px;padding-right:0px;;}>div>button{margin-right:1rem;@media (min-width: 1024px){margin-right:2rem;}@media (min-width: 1280px){margin-right:4rem;}@media (min-width: 1920px){margin-right:6rem;};}>ul{list-style-position:inside;list-style-type:disc;;}>ul>li>p{display:inline;;}");var Kt=n(46913),Jt=n(38858),Qt=n(29725),$t=n.n(Qt);var Yt=n(88511),en=n(90873);var tn=n(64307),nn=(0,a.createContext)({code:"",setCode:function(){return null}}),ln=(0,a.createContext)({redeemState:null,setRedeemState:function(){return null}}),rn=(0,a.createContext)({skuId:"",setSkuId:function(){return null}}),on=(0,a.createContext)({listViewItem:{legalText:{},promotionUIs:[]},setListViewItem:);function an(e){var t=e.children,n=(0,a.useState)(null),i=n[0],l=n[1],r=(0,a.useState)(""),o=r[0],s=r[1],d=(0,a.useState)(""),c=d[0],u=d[1],m=(0,a.useState)({legalText:{},promotionUIs:[]}),p=m[0],f=m[1],h=(0,a.useMemo)((function(){return{code:o,setCode:s}}),[o,s]),g=(0,a.useMemo)((function(){return{redeemState:i,setRedeemState:l}}),[i,l]),b=(0,a.useMemo)((function(){return{skuId:c,setSkuId:u}}),[c,u]),y=(0,a.useMemo)((function(){return{listViewItem:p,setListViewItem:f}}),[p,f]);return(0,v.tZ)(nn.Provider,{value:h,children:(0,v.tZ)(ln.Provider,{value:g,children:(0,v.tZ)(rn.Provider,{value:b,children:(0,v.tZ)(on.Provider,{value:y,children:t})})})})}var sn=function(){var e=(0,a.useContext)(nn),t=(0,a.useContext)(ln),n=(0,a.useContext)(rn),i=(0,a.useContext)(on);return(0,a.useMemo)((function(){return{code:null===e||void 0===e?void 0:e.code,setCode:null===e||void 0===e?void 0:e.setCode,redeemState:null===t||void 0===t?void 0:t.redeemState,setRedeemState:null===t||void 0===t?void 0:t.setRedeemState,skuId:null===n||void 0===n?void 0:n.skuId,setSkuId:null===n||void 0===n?void 0:n.setSkuId,listViewItem:null===i||void 0===i?void 0:i.listViewItem,setListViewItem:null===i||void 0===i?void 0:i.setListViewItem}}),[e,t,n,i])};function dn(e){var t=e.model,n=(0,E.$G)().t,i=sn(),l=i.setCode,r=i.setListViewItem,o=i.setSkuId,a=i.setRedeemState;return(0,v.BX)(L.P,{children:[(0,v.tZ)(w.H,{className:"type-headline-l 3xl:type-headline-xl pb-2 w-full",children:t.errorFormTitle.locText}),(0,v.tZ)("div",{children:t.errorFormDescription.locText}),(0,v.tZ)("div",{className:"mt-3 flex-col space-y-7",children:(0,v.tZ)("button",{onClick:function(){l(""),a(null),r({legalText:{},promotionUIs:[]}),o("")},type:"button",className:"btn bg-primary text-button-text text-button-m mt-5 w-full lg:w-fit",children:n("Back")})})]})}var cn=n(46370),un=n(70836);function vn(e){return mn.apply(this,arguments)}function mn(){return(mn=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/promo/".concat(t),{});case 2:if((n=e.sent).ok){e.next=5;break}throw new un.V(n);case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=e.replace(/[^a-zA-Z0-9]/g,""),i=new RegExp(".{1,".concat(t,"}"),"g"),l=n.match(i)||[],r=l.join("-").toUpperCase();return r},fn=n(30872);function hn(e){var t=e.model,n=(0,E.$G)().t,i=(0,Ce.aF)().user,l=(0,Ce.aC)().getValidAccessToken,r=sn(),o=r.code,s=r.setCode,d=r.setListViewItem,c=r.setSkuId,u=r.setRedeemState,m=(0,we.M)(),f=(0,Fe.useRouter)().query.code,g=(null===i||void 0===i?void 0:i.userId)||(0,Pe.Do)(Pe.M2.userid),b=(0,a.useState)(""),y=b[0],x=b[1];(0,a.useEffect)((function(){s(f&&"string"===typeof f?pn(f):"")}),[f,s]);var Z=(0,a.useCallback)(function(){var e=(0,p.Z)(h().mark((function e(n){var r,a,s,v,p,f,b,y;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),n.stopPropagation(),i&&g){e.next=5;break}return m(),e.abrupt("return");case 5:if(o){e.next=8;break}return x(t.errorMessageInvalidCode.locText),e.abrupt("return");case 8:return e.prev=8,e.next=11,l();case 11:return r=e.sent,e.next=14,(0,cn.CZ)(r,i.userId,o);case 14:if(!(a=e.sent).ok||200!==a.status){e.next=32;break}return e.next=18,a.json();case 18:if(s=e.sent,v=s.promotionId,p=s.skuId,f=s.eligible,b=s.redeemed,!f||b){e.next=29;break}return e.next=23,vn(v);case 23:y=e.sent,d(y),c(p),u(cn._w.Eligible),e.next=30;break;case 29:b?(u(cn._w.Redeemed),x(t.errorCodeRedeemed.locText)):(u(cn._w.Invalid),x(t.errorMessageInvalidCode.locText));case 30:e.next=33;break;case 32:400===a.status?(u(cn._w.Invalid),x(t.errorMessageInvalidCode.locText)):u(cn._w.Failed);case 33:e.next=38;break;case 35:e.prev=35,e.t0=e.catch(8),u(cn._w.Failed);case 38:case"end":return e.stop()}}),e,null,[[8,35]])})));return (),[i,g,o,l,m,t.errorMessageInvalidCode.locText,d,c,u,n]);return(0,v.BX)(L.P,{children:[(0,v.tZ)(w.H,{className:"type-headline-l 3xl:type-headline-xl pb-2 w-full",children:t.title.locText}),(0,v.tZ)("div",{children:t.description.locText}),(0,v.BX)("div",{className:"mt-5",children:[(0,v.tZ)("div",{className:"my-2 font-bold",children:t.formCodeInputLabel.locText}),(0,v.tZ)("div",{className:"w-full lg:w-2/5",children:(0,v.BX)("form",{onSubmit:Z,children:[(0,v.tZ)(fn.II,{className:"border-l-2 border",placeholder:t.formCodeInputPlaceholder.locText||"",onChange:function(e){s(pn(e.target.value)),x("")},error:y,value:o,maxLength:17}),(0,v.tZ)("button",{type:"submit",className:"btn bg-primary text-button-text text-button-m mt-4 w-full lg:w-fit",children:i&&g?n("Redeem"):t.formPreconnectButtonLabel.locText})]})})]})]})}var gn=n(66613),bn=n(57037),yn=n(78619),xn=n(84528),Zn=n(97289),wn=n(83309),On=n(27091);var kn=n(39982),Nn=n(254),jn=n(41176),Cn=n(44348),Pn=n(17005);function Sn(e){var t,n,i,l,r,a,s=e.isOpen,d=e.requestClose,c=(0,ze.Y)(),u=(0,we.M)(),m=(0,E.$G)().t,p=(0,Ce.XR)(),f=null!==(t=null===c||void 0===c?void 0:c.lootContents)&&void 0!==t?t:{},h=null!==(n=null===(i=f.drops)||void 0===i?void 0:i.filter(().sort((function(e,t){var n,i,l=null!==(n=null===e||void 0===e?void 0:e.dropRate)&&void 0!==n?n:0,r=null!==(i=null===t||void 0===t?void 0:t.dropRate)&&void 0!==i?i:0;return l>r?1:r>l?-1:0})))&&void 0!==n?n:[];return(0,v.tZ)(jn.e,{css:[Cn.E,"padding-left:2rem;padding-right:2rem;padding-top:3rem;padding-bottom:3rem;"],labelClose:m("Close"),requestClose:d,isOpen:s,children:(0,v.BX)("section",{style:{"--tile-btn-0":"var(--color-game-primary)","--tile-btn-text":"var(--text-color-primary)"},className:"flex flex-col gap-6 flex-grow",children:[(0,v.tZ)("h1",{className:"text-headline-l",children:null===c||void 0===c?void 0:c.title}),(0,v.tZ)("p",{children:(0,v.tZ)(B.D,{className:(0,o.Z)("text-body-s","whitespace-pre-wrap prose-p:my-2 prose-strong:text-text-primary text-text-primary max-w-full prose prose-a:type-link hover:prose-a:type-link-hover prose-headings:text-text-primary prose-li:-my-1","prose-ul:my-0 prose-ol:my-0 prose-blockquote:leading-3 prose-blockquote:my-0 prose-blockquote:text-text-primary"),children:null===(l=f.ui)||void 0===l?void 0:l.description})}),(0,v.BX)("section",{className:"flex flex-col gap-10",children:[null===(r=f.groups)||void 0===r?void 0:r.map((function(e){return(0,v.BX)("div",{className:"flex flex-col gap-3",children:[(0,v.tZ)("h2",{className:"text-headline-m",children:null===e||void 0===e?void 0:e.title}),(0,v.tZ)("div",{className:"grid grid-cols-4 xl:grid-cols-5 gap-4",children:h.filter(().map((function(e){return(0,v.BX)("div",{className:"flex flex-col items-center min-h-[6rem]",children:[(0,v.tZ)(Ze.E,{title:null===e||void 0===e?void 0:e.name,alt:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.image}),(0,v.BX)("span",{className:"font-bold",children:[null===e||void 0===e?void 0:e.dropRate,"%"]})]},null===e||void 0===e?void 0:e.name)}))})]},null===e||void 0===e?void 0:e.id)})),(0,v.tZ)("p",{className:"whitespace-pre-wrap",children:null===(a=f.ui)||void 0===a?void 0:a.footer})]}),p&&(0,v.tZ)("div",{className:"mt-auto",children:(0,v.tZ)(Pn.l,{onClick:function(){d(),u()}})})]})})}var In=(0,a.createContext)(null);function Dn(e){var t=e.children,n=(0,a.useState)(!1),i=n[0],l=n[1];return(0,v.BX)(v.HY,{children:[(0,v.tZ)(In.Provider,{value:l,children:t}),(0,v.tZ)(Nn.D,{value:{},children:(0,v.tZ)(Sn,{isOpen:i,requestClose:function(){return l(!1)}})})]})}var En=n(75469),Bn=n(99558),Tn=n(86641),_n=n(80883),Xn=n(17097),Ln=n(52217),An=(0,a.createContext)(null),Mn=n(50266),Gn=n.n(Mn),Rn=["children","className"];function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vn(e){var t=e.children,n=e.className,i=(0,l.Z)(e,Rn);return(0,v.tZ)("span",Hn(Hn({className:(0,o.Z)("h-4 text-title inline align-middle tabular-nums","[&>*]:align-middle [&>*]:inline","[&>svg]:h-4 [&>svg]:w-4",n,Gn().main)},i),{},{children:t}))}function zn(){var e,t,n,i,l=(0,E.$G)().t,r=(0,Ln.X)(),o=(0,Xn.u)({itemId:null===r||void 0===r?void 0:r.itemId}).hideAttribute;if(!r)return null;var a=null!==(e=r.offerTagsArray)&&void 0!==e?e:[],s=null!==(t=r.promoLimitCount)&&void 0!==t?t:0,d=null!==(n=r.promoLimitUsed)&&void 0!==n?n:0,c=null;return(a.includes(Se.j_.Discount)||a.includes(Se.j_.CustomResetCadence)&&!a.includes(Se.j_.FreeItem))&&s>0?c=d<s?s-d:null:0===d&&a.includes(Se.j_.FreeItem)&&((null===(i=r.promotion)||void 0===i?void 0:i.reason)===Ve.Fh.ClaimGiftOnce||a.includes(Se.j_.OneTime))?c=1:a.includes(Se.j_.FreeItem)&&(a.includes(Se.j_.CustomResetCadence)||a.includes(Se.j_.Daily)||a.includes(Se.j_.Weekly))&&s>0&&(c=d<s?s-d:null),null===c||o===wn.z.All?null:(0,v.tZ)(Vn,{"data-testid":b.aG,children:(0,v.tZ)("span",{children:l("in-stock-quantity",{quantity:c})})})}function qn(e){var t,n=e.showIcon,i=(0,E.$G)().t,l=(0,Ln.X)();return(null===l||void 0===l||null===(t=l.promotion)||void 0===t?void 0:t.reason)!==Ve.Fh.JustForYou?null:(0,v.BX)(Vn,{"data-tileattr":"just-for-you",className:"!capitalize",children:[n&&(0,v.tZ)(Bn.A,{})," ",i("just-for-you")]})}function Un(e){var t,n,i,l,r,o=e.showIcon,s=(0,Ln.X)(),d=null!==(t=null===s||void 0===s?void 0:s.offerTagsArray)&&void 0!==t?t:[],c=(0,a.useContext)(An),u=(0,Xn.u)({itemId:null===s||void 0===s?void 0:s.itemId}).hideAttribute;if(!s||null!==(n=s.offerTagsArray)&&void 0!==n&&n.includes(Se.j_.HideCountdown)||!d.some(()||u===wn.z.All||u===wn.z.Countdown)return null;var m=null!==(i=s.promoLimitCount)&&void 0!==i?i:0,p=null!==(l=s.promoLimitUsed)&&void 0!==l?l:0,f=m>0&&p>=m||s.purchaseState===Se.KA.owned||(null===(r=s.inGroup)||void 0===r?void 0:r.state)===Se.KA.owned,h=Number(s.promoLimitResetDate);return(0,v.tZ)(Ae.I,{onDone:function(){var e,t;return null===c||void 0===c?void 0:c(null!==(e=null===s||void 0===s||null===(t=s.promotion)||void 0===t?void 0:t.id)&&void 0!==e?e:"recurring")},endDate:h,children:f?(0,v.BX)(Vn,{"data-tileattr":"recurring","data-testid":b.xB,className:"whitespace-nowrap",children:[o&&(0,v.tZ)(Tn.j,{})," ",(0,v.tZ)("span",{children:(0,v.BX)(E.cC,{i18nKey:"available-again-in-timer",children:["Available again in",(0,v.tZ)(Ae.T,{daysHoursOnly:!0})]})})]}):(0,v.BX)(Vn,{"data-tileattr":"recurring","data-testid":b.qf,children:[o&&(0,v.tZ)(Tn.j,{})," ",(0,v.tZ)(Ae.T,{daysHoursOnly:!0})]})})}function Wn(e){var t=e.showIcon,n=e.releaseDate,i=(0,Ln.X)(),l=(0,a.useContext)(An),r=n||(null===i||void 0===i?void 0:i.releaseDate)||0,o=(0,Le.fm)();return!i||r<=o?null:(0,v.tZ)(Ae.I,{onDone:function(){var e,t;return null===l||void 0===l?void 0:l(null!==(e=null===i||void 0===i||null===(t=i.promotion)||void 0===t?void 0:t.id)&&void 0!==e?e:"pre-release")},endDate:Number(r),children:(0,v.BX)(Vn,{"data-tileattr":"prerelease",children:[t&&(0,v.tZ)(Tn.j,{})," ",(0,v.tZ)("span",{children:(0,v.BX)(E.cC,{i18nKey:"unlocks-in",children:["Unlocks in",(0,v.tZ)(Ae.T,{daysHoursOnly:!0})]})})]})})}function Kn(e){var t,n,i,l,r,s,d=e.showIcon,c=e.showBackground,u=(0,Ln.X)(),m=(0,a.useContext)(An),p=(0,Xn.u)({itemId:null===u||void 0===u?void 0:u.itemId}).hideAttribute,f=(0,_n.a)(null!==(t=null===u||void 0===u||null===(n=u.promotion)||void 0===n?void 0:n.end)&&void 0!==t?t:0).days,h=(0,a.useMemo)((function(){return 0===f&&c?(0,o.Z)("rounded py-0.5 !ps-1.5 !pe-1.5",Gn().twentyFourHrsCountdownBg,Gn().twentyFourHrsCountdownText):""}),[f,c]),g=null!==(i=null===u||void 0===u?void 0:u.offerTagsArray)&&void 0!==i?i:[],y=null!==(l=null===u||void 0===u?void 0:u.promoLimitCount)&&void 0!==l?l:0,x=null!==(r=null===u||void 0===u?void 0:u.promoLimitUsed)&&void 0!==r?r:0;return!u||null===(s=u.promotion)||void 0===s||!s.end||u.promoLimitResetDate||g.includes(Se.j_.HideCountdown)||g.includes(Se.j_.OneTime)&&g.includes(Se.j_.FreeItem)&&1===y&&1===x||p===wn.z.All||p===wn.z.Countdown?null:(0,v.tZ)(Ae.I,{onDone:function(){var e,t;return null===m||void 0===m?void 0:m(null!==(e=null===u||void 0===u||null===(t=u.promotion)||void 0===t?void 0:t.id)&&void 0!==e?e:"active-promo")},endDate:u.promotion.end,children:(0,v.BX)(Vn,{"data-tileattr":"active-sale","data-testid":b.qf,className:h,children:[d&&(0,v.tZ)(Tn.j,{})," ",(0,v.tZ)(Ae.T,{daysHoursOnly:!0})]})})}function Jn(e){var t=e.children,n=e.className;return(0,v.tZ)("div",{className:(0,o.Z)("empty:hidden","divide-x [&>*]:border-white-20","[&>*]:px-2 [&>*:first-child]:ps-0 [&>*:last-child]:pe-0",n),children:t})}var Qn=n(60838),$n=n(57142);function Yn(){var e,t,n=(0,E.$G)().t,i=(0,Ce.XR)(),l=(0,Ce.kc)(),r=l.discountedPrice,o=l.displayPrice,a=(0,Ce.aF)().user,s=(null===a||void 0===a?void 0:a.userId)||(0,Pe.Do)(Pe.M2.userid),d=(null===i||void 0===i||null===(e=i.promotion)||void 0===e?void 0:e.reason)===Ve.Fh.ClaimGiftOnce||(null===i||void 0===i||null===(t=i.offerTagsArray)||void 0===t?void 0:t.includes(Se.j_.FreeItem));if(!i)return null;var c=o;return null!==i&&void 0!==i&&i.externalSiteLink||d?c=n("claim-gift"):!o&&s?c="":s||void 0!==o?r&&(c=r):c=n("connect-id"),(0,v.BX)("span",{"data-testid":b.qR,children:[(0,v.tZ)("span",{className:"text-body-m !leading-none",children:c}),r&&!d&&(0,v.tZ)("s",{className:"line-through text-body-s font-normal !leading-none opacity-60 ms-2",children:o})]})}var ei=n(21421),ti=n.n(ei);function ni(e){var t,n,i,l,r,s,d,c,u,m,p,f,h,g,b,y,x,Z,O,k,N=e.title,j=e.closedChestImage,C=e.openChestImage,P=e.currencyIcon,S=e.description,I=e.minPurchaseDescription,D=e.delayState,B=(0,E.$G)().t,T=(0,a.useContext)(Zn.V),_=(0,Ce.aF)().user,X=(0,a.useContext)(En.V),L=(0,we.M)(),A="true"===(null===D||void 0===D||null===(t=D.richText)||void 0===t||null===(n=t.json.content)||void 0===n||null===(i=n[0])||void 0===i||null===(l=i.content)||void 0===l?void 0:l[0].value),M=null!==(r=null===_||void 0===_||null===(s=_.chestInfo)||void 0===s||null===(d=s.bonus)||void 0===d||null===(c=d[0])||void 0===c?void 0:c.amount)&&void 0!==r?r:_?0:"-",G=(null===_||void 0===_||null===(u=_.chestInfo)||void 0===u||null===(m=u.minToQualify)||void 0===m||null===(p=m[0])||void 0===p?void 0:p.amount)||1,R=G>((null===_||void 0===_||null===(f=_.chestInfo)||void 0===f||null===(h=f.bonus)||void 0===h||null===(g=h[0])||void 0===g?void 0:g.amount)||0),F=(0,v.BX)(Pn.l,{disabled:!(!R&&!A||!_),onClick:children:[!(!R||!_)&&(0,v.tZ)(Qn.Z,{className:"mr-2 text-2xl"}),(R||!A)&&(0,v.tZ)(Yn,{})]});return(0,v.BX)("div",{"data-theme":T||"none",className:(0,o.Z)(ti().main,"w-full h-full flex flex-col px-7 py-11 rounded-lg overflow-scroll [&::-webkit-scrollbar]:!w-0 [&::-webkit-scrollbar-track]:!bg-transparent gap-y-4","data-[state=open]:animate-content-show data-[state=closed]:animate-content-hide"),children:[(0,v.BX)("section",{className:"flex flex-col items-center gap-y-4",children:[(0,v.tZ)("button",{onClick:X,type:"button",className:"absolute top-0 right-0 p-2",children:(0,v.tZ)($n.Z,{className:"text-2xl"})}),(0,v.tZ)(w.H,{className:"text-xl font-bold whitespace-pre-wrap text-center",children:null===N||void 0===N?void 0:N.locText}),(0,v.BX)(Jn,{children:[(0,v.tZ)(Kn,{showIcon:!0,showBackground:!0}),(0,v.tZ)(Un,{})]}),R||A?(0,v.tZ)(Ze.E,{sizes:"100px",src:(null===j||void 0===j||null===(b=j.image)||void 0===b?void 0:b.url)||"",alt:(null===j||void 0===j||null===(y=j.image)||void 0===y?void 0:y.title)||""}):(0,v.tZ)(Ze.E,{sizes:"120px",src:(null===C||void 0===C||null===(x=C.image)||void 0===x?void 0:x.url)||"",alt:(null===C||void 0===C||null===(Z=C.image)||void 0===Z?void 0:Z.title)||""})]}),(0,v.tZ)("section",{className:"flex items-center justify-center",children:(0,v.BX)("div",{className:"px-2 py-1 bg-black-20 h-fit w-fit gap-y-1 rounded-md flex flex-row items-center",children:[(0,v.tZ)(Ze.E,{sizes:"30px",src:(null===P||void 0===P||null===(O=P.image)||void 0===O?void 0:O.url)||"",alt:(null===P||void 0===P||null===(k=P.image)||void 0===k?void 0:k.url)||""}),(0,v.tZ)("span",{className:"text-base font-bold",children:M})]})}),(0,v.tZ)("p",{className:"text-body-m whitespace-pre-wrap",children:null===S||void 0===S?void 0:S.locText}),F,(0,v.tZ)("p",{className:"text-body-s whitespace-pre-wrap",children:_&&B((null===I||void 0===I?void 0:I.locText)||"",{minGemsAmount:G})})]})}var ii=n(11151),li=n.n(ii);function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ai(e){var t,n,i,l,r,s,d,c,u,m,p,f,h,g,b,y,x,Z,w,O,k,N=e.additionalData,j=(0,Ce.XR)(),C=(0,E.$G)().t,P=(0,a.useState)(!1),S=P[0],I=P[1],D=(0,tn.M)(N),B=(0,Ce.aF)().user,T=(0,a.useCallback)((function(){return I(!1)}),[I]);if(!D)return null;var _=D.widgetPalette,X=D.backgroundImage,L=D.closedChestImage,A=D.openChestImage,M=D.currencyIcon,G=null!==(t=null===B||void 0===B||null===(n=B.chestInfo)||void 0===n||null===(i=n.bonus)||void 0===i||null===(l=i[0])||void 0===l?void 0:l.amount)&&void 0!==t?t:B?0:"-",R=((null===B||void 0===B||null===(r=B.chestInfo)||void 0===r||null===(s=r.minToQualify)||void 0===s||null===(d=s[0])||void 0===d?void 0:d.amount)||1)>((null===B||void 0===B||null===(c=B.chestInfo)||void 0===c||null===(u=c.bonus)||void 0===u||null===(m=u[0])||void 0===m?void 0:m.amount)||0),F=(null===j||void 0===j?void 0:j.promoLimitResetDate)||(null===j||void 0===j||null===(p=j.promotion)||void 0===p?void 0:p.end);return(0,v.BX)("div",{children:[(0,v.BX)("div",{className:"relative",children:[!R&&(0,v.tZ)(Ze.E,{sizes:"150px",className:(0,o.Z)("absolute min-w-[150px] min-h-[150px] select-none left-[-25px] top-[-130px]"),src:(null===X||void 0===X||null===(h=X.image)||void 0===h?void 0:h.url)||"",alt:(null===X||void 0===X||null===(g=X.image)||void 0===g?void 0:g.title)||""}),(0,v.BX)("button",{"data-theme":(null===_||void 0===_||null===(b=_.sys)||void 0===b?void 0:b.id)||"none",onClick:function(){return I(!0)},className:"relative w-20",type:"button",children:[(0,v.tZ)("div",{className:(0,o.Z)(li().floating,"flex justify-center items-center p-0 rounded-[50%] w-full h-20 absolute bottom-6 z-widgetCircle",!R&&"animate-glow"),children:R?(0,v.tZ)(Ze.E,{sizes:"60px",src:(null===L||void 0===L||null===(y=L.image)||void 0===y?void 0:y.url)||"",alt:(null===L||void 0===L||null===(x=L.image)||void 0===x?void 0:x.title)||""}):(0,v.tZ)(Ze.E,{sizes:"60px",src:(null===A||void 0===A||null===(Z=A.image)||void 0===Z?void 0:Z.url)||"",alt:(null===A||void 0===A||null===(w=A.image)||void 0===w?void 0:w.title)||""})}),(0,v.tZ)("div",{className:(0,o.Z)(li().floating,F?"bottom-[-10px] min-w-[5rem]":"bottom-0 min-w-[4rem]","absolute px-1 left-1/2 rounded-full w-fit translate-x-[-50%] z-widgetCounter"),children:(0,v.BX)("div",{className:(0,o.Z)(F&&"p-1","flex flex-col items-center"),children:[(0,v.BX)("div",{className:"flex flex-row items-center",children:[(0,v.tZ)(Ze.E,{sizes:"18px",className:"min-w-[18px] me-1",src:(null===M||void 0===M||null===(O=M.image)||void 0===O?void 0:O.url)||"",alt:(null===M||void 0===M||null===(k=M.image)||void 0===k?void 0:k.title)||""}),(0,v.tZ)("span",{className:(0,o.Z)(F&&"leading-[1]","text-[1rem] font-bold"),children:G})]}),(0,v.tZ)("div",{className:"leading-[1] whitespace-nowrap",children:(0,v.BX)(Jn,{children:[(0,v.tZ)(Un,{showIcon:!0}),(0,v.tZ)(Kn,{showIcon:!0})]})})]})})]})]}),(0,v.tZ)(En.V.Provider,{value:T,children:(0,v.tZ)(jn.e,{style:{overlay:{zIndex:99}},centered:!0,isOpen:S,requestClose:T,labelClose:C("Close"),children:(0,v.tZ)("div",{className:"w-4/5 min-h-fit h-[calc(100%-2rem)] sm:h-auto sm:w-5/12 top-[50%] left-[50%] -translate-x-2/4 -translate-y-2/4 rounded-lg fixed z-widgetModal",children:(0,v.tZ)(ni,oi({},D))})})})]},null===N||void 0===N||null===(f=N.sys)||void 0===f?void 0:f.id)}function si(e){var t=e.children,n=a.Children.toArray(t),i=n.pop();return(0,v.BX)("section",{"data-testid":b.Aq,className:"grid grid-cols-1 md:grid-cols-2 gap-5 max-w-6xl",children:[!!n.length&&(0,v.tZ)("div",{className:"grid grid-cols-1 gap-1 h-fit",children:n}),(0,v.tZ)("div",{className:"[&>*]:h-auto",children:i})]})}var di=n(31319);function ci(e){var t=e.children,n=(0,ze.Y)(),i=(0,a.useContext)(In);if(!i)throw new Error("missing provider");return null!==n&&void 0!==n&&n.lootContents?(0,v.tZ)("button",{className:"align-top -me-[100%]",type:"button","data-testid":b.z_,onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),i(!0)},children:t}):null}var ui=n(9981),vi=n(76675),mi=n(57926),pi=n(19139);function fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fi(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gi="\nlinear-gradient(to left bottom, black 50%, transparent calc(50% + 1px)), \nlinear-gradient(to left top, black 50%, transparent calc(50% + 1px)),\nlinear-gradient(to left, black, black)",bi="left bottom, left top, ".concat(12,"px 0"),yi="".concat(12,"px calc(50%), ").concat(12,"px calc(50% + 1px), 100%"),xi="no-repeat",Zi={WebkitMaskImage:gi,WebkitMaskPosition:bi,WebkitMaskSize:yi,WebkitMaskRepeat:xi,maskPosition:bi,maskSize:yi,maskImage:gi,maskRepeat:xi,paddingInlineStart:12};function wi(e){var t,n,i=e.children,l="Left"===e.alignment,r=(0,pi.Z)(),a=r.theme,s=r.vars,d=null===a||void 0===a||null===(t=a.bgColors)||void 0===t?void 0:t.length,c=null===a||void 0===a||null===(n=a.borderColors)||void 0===n?void 0:n.length;return(0,v.BX)("div",{style:s,className:(0,o.Z)("relative select-none pointer-events-none",l&&"-scale-x-100"),children:[(0,v.tZ)("div",{style:hi(hi({},Zi),{},{width:"calc(100% + ".concat(2,"px)"),height:"calc(100% + ".concat(2,"px)"),top:-1,left:-1}),className:(0,o.Z)("rounded-tr-sm rounded-br-sm absolute inset-0 pe-2",c?"bg-tile-border-0":"hidden"),children:(0,v.tZ)("span",{className:"invisible text-title align-middle",children:i})}),(0,v.tZ)("div",{style:Zi,className:(0,o.Z)("rounded-tr-sm rounded-b-sm pe-2",d>1&&"bg-gradient-to-b",1===d&&"bg-tile-bg-0",2===d&&"from-tile-bg-0 to-tile-bg-1",3===d&&"from-tile-bg-0 via-tile-bg-1 to-tile-bg-2",(null===a||void 0===a?void 0:a.tileTextColor)&&"!text-[var(--tile-text)]"),children:(0,v.tZ)("span",{className:(0,o.Z)("text-title align-middle",l&&"-scale-x-100"),children:i})})]})}function Oi(e){var t,n,i=e.alignment,l=e.tagStyle,r=e.children,a=(0,pi.Z)(),s=a.theme,d=a.vars;if("Pointy"===l)return(0,v.tZ)(wi,{alignment:i,children:r});var c=null===s||void 0===s||null===(t=s.bgColors)||void 0===t?void 0:t.length,u=null===s||void 0===s||null===(n=s.borderColors)||void 0===n?void 0:n.length;return(0,v.tZ)("div",{style:d,className:(0,o.Z)("relative w-fit px-2 py-1 type-title whitespace-pre-wrap rounded-md","Large"===l&&"!text-lg",c>1&&"bg-gradient-to-b",1===c&&"bg-tile-bg-0",2===c&&"from-tile-bg-0 to-tile-bg-1",3===c&&"from-tile-bg-0 via-tile-bg-1 to-tile-bg-2",0===u&&"border-none",1===u&&"border border-tile-border-0 border-solid",2===u&&"absolute p-px",(null===s||void 0===s?void 0:s.tileTextColor)&&"!text-[var(--tile-text)]"),children:r})}function ki(e){var t=e.messages,n=e.overrideAlignment;if(null===t||void 0===t||!t.length)return null;var i=t[0],l=n||("Left"===(null===i||void 0===i?void 0:i.placement)?"Left":"Right")||"Left",r=("Pointy"===(null===i||void 0===i?void 0:i.tagStyle)?"Pointy":"Large"===(null===i||void 0===i?void 0:i.tagStyle)&&"Large")||"Standard";return(0,v.tZ)("div",{className:(0,o.Z)("absolute z-marketingMessage flex flex-col top-0 mt-2","Pointy"===r&&"max-w-none","Large"===r&&"max-w-[10rem]","Standard"===r&&"max-w-[7rem]","Left"===l&&"-left-2 items-start","Right"===l&&"-right-2 items-end"),children:t.map((function(e){var t,n,i,o,a;return(0,v.tZ)(Nn.D,{value:null!==(i=null===e||void 0===e?void 0:e.theme)&&void 0!==i?i:{},children:(0,v.tZ)(Oi,{alignment:l,tagStyle:r,children:null===e||void 0===e||null===(o=e.message)||void 0===o||null===(a=o.text)||void 0===a?void 0:a.trim()})},(null===e||void 0===e||null===(t=e.message)||void 0===t?void 0:t.text)||(null===e||void 0===e||null===(n=e.sys)||void 0===n?void 0:n.id))}))})}var Ni=n(71892),ji=n(96398),Ci=n.n(ji);function Pi(e){var t,n;if(!e)return null;var i=e.quantity,l=e.quantityText,r=e.staticDetailItem,o=e.detailName,a=(null===i||void 0===i?void 0:i.toLocaleString())||l||"",s=(null===r||void 0===r||null===(t=r.art)||void 0===t?void 0:t.url)||"",d=o||(null===r||void 0===r?void 0:r.detailName)||"";return(0,v.BX)("li",{title:d,className:"inline-flex flex-none flex-nowrap items-center gap-x-1 appearance-none",children:[(0,v.tZ)(Ze.E,{sizes:"48px",className:"w-6 min-w-[24px] h-6",src:s,alt:d}),(0,v.tZ)("span",{children:a})]},null===e||void 0===e||null===(n=e.sys)||void 0===n?void 0:n.id)}function Si(e){var t=e.items,n=e.className,i=(0,s.H)().drawerIconUrl,l=t&&t.filter((function(e){return!(null!==e&&void 0!==e&&e.primary)})),r=null===l||void 0===l?void 0:l.length;return(0,v.BX)("div",{className:(0,o.Z)("relative grid rounded-lg h-full overflow-hidden",n,Ci().main),children:[(0,v.tZ)("ul",{className:"inline-flex items-center p-2 space-x-2 text-body-s uppercase w-full overflow-hidden",style:{WebkitMaskImage:r>2?"linear-gradient(to left, transparent 38px, black 70px, black)":void 0},children:l.map(Pi)}),i&&r>2&&(0,v.tZ)(Ze.E,{sizes:"32px",className:(0,o.Z)("w-5 h-5 absolute inset-y-0 rtl:left-0 right-0 my-auto mx-2","transition-transform group-data-[state=open]:rotate-180"),src:i,alt:""})]})}function Ii(e){var t=e.items,n=e.className,i=t.length,l=(0,a.useState)(!1),r=l[0],s=l[1];return(0,a.useEffect)((function(){var e=function(){s(!1)};return window.addEventListener("scroll",e),),[]),i?(0,v.BX)(Ni.jz,{open:r,onOpenChange:s,children:[(0,v.tZ)(Ni.Qz,{className:(0,o.Z)("group",n),children:(0,v.tZ)(Si,{items:t})}),(0,v.tZ)(Ni.ZU,{})]}):(0,v.tZ)(Si,{items:t,className:n})}var Di,Ei=n(26674),Bi=n(11396),Ti=n(11777),_i=["type"];function Xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xi(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ai(e){var t=e.type,n=(0,l.Z)(e,_i);return"inline"===t?(0,v.tZ)(Bi.x,Li({},n)):"boxed"===t?(0,v.tZ)(Ii,Li({},n)):"list"===t?(0,v.tZ)(Ti.G,Li({},n)):"grid"===t?(0,v.tZ)(Ei.i,Li({},n)):null}function Mi(){var e,t,n=(0,Ce.XR)(),i=(0,Ce.kc)(),l=i.discountedPrice,r=i.percentageOff,o=(null===n||void 0===n||null===(e=n.promotion)||void 0===e?void 0:e.reason)===Ve.Fh.ClaimGiftOnce||(null===n||void 0===n||null===(t=n.offerTagsArray)||void 0===t?void 0:t.includes(Se.j_.FreeItem));return n&&l&&r&&!o?(0,v.tZ)("span",{"data-testid":b.rW,className:"badge bg-success text-white font-bold text-sm leading-normal",children:"-".concat(r,"%")}):null}function Gi(e){var t,n,i,l,r,s=e.imageType,c=e.item,u=e.pkgVariant,m=(0,we.M)(),p="transparent"===s,f=(0,a.useContext)(Zn.V),h=(0,E.$G)().t,g=(0,vi.W)(c),y=null!==(t=null===g||void 0===g||null===(n=g.find((function(e){return null===e||void 0===e?void 0:e.primary})))||void 0===n?void 0:n.previousAmount)&&void 0!==t?t:null,x=y&&(0,X.formatCompactNumber)(y),Z=g.find(mi.A),w="boxed"===u&&(null===Z||void 0===Z||null===(i=Z.quantity)||void 0===i?void 0:i.toLocaleString());return(0,v.BX)("div",{"data-tile":Di.BoxArt,"data-testid":b.U8,"data-theme":f||"none",className:(0,o.Z)("rounded-lg h-full w-full shadow-xnear relative",p&&"p-4",ti().main),children:[(0,v.tZ)(ki,{messages:null!==(l=null===c||void 0===c||null===(r=c.marketingMessagesCollection)||void 0===r?void 0:r.items)&&void 0!==l?l:[]}),(0,v.BX)("div",{className:(0,o.Z)("flex flex-col gap-y-2 h-full"),children:[(0,v.tZ)(Ze.E,{onClick:m,sizes:"50vw md:20vw lg:17vw",className:(0,o.Z)("w-full rounded-t-lg",p?"object-contain aspect-[1/1]":"aspect-[1/1.4]"),src:(0,d.Jn)(null===c||void 0===c?void 0:c.boxart),alt:(0,d.EQ)(c)}),(0,v.BX)("section",{className:(0,o.Z)("w-full h-full text-body-s text-left break-spaces","flex flex-col items-start gap-y-2",!p&&"px-4 pb-4"),children:[(0,v.BX)("span",{className:(0,o.Z)("align-bottom inline-block text-body-m font-bold",ti().title,w&&"break-all"),children:[w||(null===c||void 0===c?void 0:c.title),(0,v.tZ)(ci,{children:(0,v.tZ)(ui.t,{className:"h-5"})})]}),!!x&&(0,v.tZ)("span",{className:"text-body-s",children:h("previous-amount-chips",{amount:x.toLocaleString()})}),(null===c||void 0===c?void 0:c.longDescription)&&(0,v.tZ)("p",{className:(0,o.Z)("text-body-s -mt-2",ti().description),children:null===c||void 0===c?void 0:c.longDescription}),(0,v.tZ)(Ai,{type:u||"inline",items:g}),(0,v.BX)(Jn,{children:[(0,v.tZ)(Kn,{showIcon:!0}),(0,v.tZ)(Un,{showIcon:!0}),(0,v.tZ)(zn,{}),(0,v.tZ)(qn,{showIcon:!0})]}),(0,v.BX)("div",{className:"flex flex-col gap-y-2 mt-auto w-full break-normal",children:[(0,v.tZ)(Mi,{}),(0,v.tZ)(Pn.l,{className:"break-all",children:(0,v.tZ)(Yn,{})})]})]})]})]})}function Ri(e){var t,n,i,l=e.imageType,r=e.item,s=e.pkgVariant,c=e.additionalData,u=(0,we.M)(),m=(0,tn.M)(c),p=(0,a.useContext)(Zn.V),f="transparent"===l,h=(0,vi.W)(r);return(0,v.BX)("div",{"data-tile":Di.Gigantic,"data-testid":b.U8,"data-theme":p||"none",className:(0,o.Z)("rounded-lg w-full h-full shadow-xnear relative",f&&"p-4",ti().main),children:[(0,v.tZ)(ki,{messages:null!==(t=null===r||void 0===r||null===(n=r.marketingMessagesCollection)||void 0===n?void 0:n.items)&&void 0!==t?t:[]}),(0,v.BX)("div",{className:(0,o.Z)("h-full flex flex-col gap-4 relative"),children:[(0,v.tZ)(Ze.E,{onClick:u,sizes:"100vw sm:50vw md:25vw",className:(0,o.Z)("w-full rounded-t-lg",f?"object-contain max-h-[255px] w-auto":"object-cover"),src:(0,d.Jn)(null===r||void 0===r?void 0:r.largeTile),alt:(0,d.EQ)(r)}),(0,v.BX)("section",{className:(0,o.Z)("h-full w-full flex flex-col gap-y-2",!f&&"px-4 pb-4"),children:[(0,v.BX)("span",{className:(0,o.Z)("align-bottom inline-block text-body-m font-bold",ti().title),children:[null===r||void 0===r?void 0:r.title,(0,v.tZ)(ci,{children:(0,v.tZ)(ui.t,{className:"h-5"})})]}),(0,v.tZ)(Jn,{children:(0,v.tZ)(qn,{showIcon:!0})}),(0,v.BX)(Jn,{children:[(0,v.tZ)(Kn,{showIcon:!0}),(0,v.tZ)(Un,{showIcon:!0}),(0,v.tZ)(zn,{})]}),(null===r||void 0===r?void 0:r.longDescription)&&(0,v.tZ)(B.D,{className:(0,o.Z)(ti().description,"text-body-s","prose-p:my-2 prose-strong:text-text-primary text-text-primary max-w-full prose prose-a:type-link hover:prose-a:type-link-hover prose-headings:text-text-primary prose-blockquote:text-text-primary"),"data-testid":b.Kx,children:null===r||void 0===r?void 0:r.longDescription}),(0,v.tZ)(Ai,{type:s||"list",className:"max-h-[12rem] lg:max-h-[11.5rem]",items:h,legalText:null===m||void 0===m||null===(i=m.chestLegalText)||void 0===i?void 0:i.locText}),(0,v.BX)("div",{className:"flex flex-col gap-y-2 mt-auto w-full",children:[(0,v.tZ)(Mi,{}),(0,v.tZ)(Pn.l,{children:(0,v.tZ)(Yn,{})})]})]})]})]})}function Fi(e){var t,n,i,l,r=e.imageType,s=e.item,c=e.pkgVariant,u=(0,we.M)(),m="transparent"===r,p=(0,E.$G)().t,f=(0,a.useContext)(Zn.V),h=(0,vi.W)(s),g=null!==(t=null===h||void 0===h||null===(n=h.find((function(e){return null===e||void 0===e?void 0:e.primary})))||void 0===n?void 0:n.previousAmount)&&void 0!==t?t:null,y=g&&(0,X.formatCompactNumber)(g);return(0,v.BX)("div",{"data-tile":Di.Large,"data-testid":b.U8,"data-theme":f||"none",className:(0,o.Z)("rounded-lg h-full w-full overflow-visible shadow-xnear relative",m&&"p-4",ti().main),children:[(0,v.tZ)(ki,{messages:null!==(i=null===s||void 0===s||null===(l=s.marketingMessagesCollection)||void 0===l?void 0:l.items)&&void 0!==i?i:[]}),(0,v.BX)("div",{className:(0,o.Z)("flex flex-col gap-y-4 h-full"),children:[(0,v.tZ)(Ze.E,{onClick:u,className:(0,o.Z)(m&&"object-contain","relative w-full rounded-t-lg aspect-video"),src:(0,d.Jn)(null===s||void 0===s?void 0:s.largeTile),alt:(0,d.EQ)(s)}),(0,v.BX)("section",{className:(0,o.Z)("flex flex-col gap-2 w-full h-full text-body-s",!m&&"px-4 pb-4"),children:[(0,v.BX)("span",{className:(0,o.Z)("align-bottom inline-block text-body-m font-bold",ti().title),children:[null===s||void 0===s?void 0:s.title,(0,v.tZ)(ci,{children:(0,v.tZ)(ui.t,{className:"h-5"})})]}),!!y&&(0,v.tZ)("span",{className:"text-body-s",children:p("previous-amount-chips",{amount:y.toLocaleString()})}),(0,v.tZ)(Ai,{type:c||"inline",items:h}),(0,v.tZ)(Jn,{children:(0,v.tZ)(qn,{showIcon:!0})}),(0,v.BX)(Jn,{children:[(0,v.tZ)(Kn,{showIcon:!0}),(0,v.tZ)(Un,{showIcon:!0}),(0,v.tZ)(zn,{})]}),(0,v.BX)("div",{className:"flex flex-col gap-2 w-full mt-auto",children:[(0,v.tZ)(Mi,{}),(0,v.tZ)(Pn.l,{children:(0,v.tZ)(Yn,{})})]})]})]})]})}!Di||(Di={}));var Hi=n(44098),Vi=["children","className"],zi=["children"],qi=["children"],Ui=["children"];function Wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wi(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ji=(0,a.createContext)(null);function Qi(e){var t=e.children,n=e.className,i=(0,l.Z)(e,Vi),r=(0,a.useState)(!1),s=r[0],d=r[1],c=(0,a.useMemo)((function(){return[s,d]}),[s]);if(2!==a.Children.count(t))throw new Error("<FlipRoot> must have 2 children");return(0,v.tZ)("div",Ki(Ki({style:{transformStyle:"preserve-3d",transform:s?"rotateX(-180deg)":void 0},className:(0,o.Z)("grid transition-all duration-500 ease-in-out","[&>*]:[backface-visibility:hidden] [&>*]:col-span-full [&>*]:row-span-full",n)},i),{},{children:(0,v.tZ)(Ji.Provider,{value:c,children:t})}))}function $i(e){var t=e.children,n=(0,l.Z)(e,zi),i=),r=(0,yn.Z)(i,2)[1];return(0,v.tZ)("button",Ki(Ki({type:"button",onClick:,n),{},{children:t}))}function Yi(e){var t=e.children,n=(0,l.Z)(e,qi);return(0,v.tZ)("div",Ki(Ki({},n),{},{style:{transform:"rotateX(0deg)"},children:t}))}function el(e){var t=e.children,n=(0,l.Z)(e,Ui),i=(0,a.useState)(0),r=i[0],o=i[1],s=(0,a.useRef)(null);return(0,a.useEffect)((function(){var e,t,n;o(null!==(e=null===(t=s.current)||void 0===t||null===(n=t.parentElement)||void 0===n?void 0:n.getBoundingClientRect().height)&&void 0!==e?e:0)}),[]),(0,v.tZ)("div",Ki(Ki({},n),{},{ref:s,style:{maxHeight:r,transform:"rotateX(180deg)"},children:t}))}function tl(e){var t,n,i,l,r=e.item,s=e.shouldTileFlip,c=e.pkgVariant,u=(0,we.M)(),m=(0,a.useContext)(Zn.V),p=c||"inline",f=(0,vi.W)(r),h=null===f||void 0===f?void 0:f.filter((),g=null!==(t=null===f||void 0===f||null===(n=f.find((function(e){return null===e||void 0===e?void 0:e.primary})))||void 0===n?void 0:n.quantity)&&void 0!==t?t:null;return(0,v.BX)(Qi,{"data-tile":Di.List,"data-testid":b.U8,"data-theme":m||"none",className:(0,o.Z)("rounded-lg w-full h-full shadow-xnear relative",ti().main),children:[(0,v.BX)(Yi,{className:"flex p-3 gap-x-3 h-full",children:[(0,v.tZ)(ki,{messages:null!==(i=null===r||void 0===r||null===(l=r.marketingMessagesCollection)||void 0===l?void 0:l.items)&&void 0!==i?i:[],overrideAlignment:"Right"}),(0,v.tZ)(Ze.E,{onClick:u,className:"flex-shrink h-auto w-20 md:w-24",sizes:"10vw",src:(0,d.Jn)(null===r||void 0===r?void 0:r.square)||(0,d.Jn)(null===r||void 0===r?void 0:r.boxart)||"",alt:(0,d.EQ)(r)}),(0,v.BX)("section",{className:"flex-grow flex flex-col gap-y-2",children:[(0,v.BX)("span",{className:"inline text-body-m font-bold",children:[(0,v.tZ)("span",{className:(0,o.Z)("align-middle",ti().title),children:null===r||void 0===r?void 0:r.title}),!!f.length&&s&&(0,v.tZ)($i,{className:"inline align-middle ps-2",children:(0,v.tZ)(Hi.Z,{className:"h-7"})})]}),g&&(0,v.tZ)("span",{className:(0,o.Z)("text-headline-l font-bold !leading-none",ti().description),children:g.toLocaleString()}),(0,v.tZ)(Ai,{type:p||"inline",items:h,className:(0,o.Z)("inline"===p&&"[&>*]:first:font-bold")}),(0,v.BX)(Jn,{children:[(0,v.tZ)(Kn,{showIcon:!0}),(0,v.tZ)(Un,{showIcon:!0}),(0,v.tZ)(zn,{}),(0,v.tZ)(qn,{showIcon:!0})]}),(null===r||void 0===r?void 0:r.longDescription)&&(0,v.tZ)("p",{className:"text-body-s",children:null===r||void 0===r?void 0:r.longDescription}),(0,v.BX)("div",{className:"flex flex-col gap-y-2 mt-auto md:max-w-[16rem]",children:[(0,v.tZ)(Mi,{}),(0,v.tZ)(Pn.l,{children:(0,v.tZ)(Yn,{})})]})]})]}),(0,v.BX)(el,{className:(0,o.Z)("relative rounded-lg p-4 pe-8 space-y-2 overflow-hidden",Ci().main),children:[(0,v.tZ)("div",{className:"space-y-2 overflow-y-auto h-full [&::-webkit-scrollbar-track]:!bg-transparent ",children:f.map((function(e){var t,n,i,l,r,o,a;return(0,v.BX)("div",{className:"flex items-center gap-2",children:[(0,v.tZ)(Ze.E,{className:"w-8 inline",alt:null!==(n=null===e||void 0===e?void 0:e.detailName)&&void 0!==n?n:"",src:null!==(i=null===e||void 0===e||null===(l=e.staticDetailItem)||void 0===l||null===(r=l.art)||void 0===r?void 0:r.url)&&void 0!==i?i:""}),(0,v.tZ)("span",{children:null!==e&&void 0!==e&&e.quantityText?null===e||void 0===e?void 0:e.quantityText:"".concat(null===e||void 0===e||null===(o=e.quantity)||void 0===o?void 0:o.toLocaleString()," ").concat((null===e||void 0===e?void 0:e.detailName)||(null===e||void 0===e||null===(a=e.staticDetailItem)||void 0===a?void 0:a.detailName)||"")})]},null===e||void 0===e||null===(t=e.sys)||void 0===t?void 0:t.id)}))}),(0,v.tZ)($i,{className:"absolute top-0 right-0 p-2",children:(0,v.tZ)($n.Z,{className:"h-6 w-6"})})]})]})}function nl(e){var t,n,i,l=e.imageType,r=e.item,s=e.pkgVariant,c=(0,we.M)(),u="transparent"===l,m=(0,a.useContext)(Zn.V),p=(0,vi.W)(r),f=p.find(mi.A),h="boxed"===s&&(null===f||void 0===f||null===(t=f.quantity)||void 0===t?void 0:t.toLocaleString());return(0,v.BX)("div",{"data-tile":Di.Medium,"data-testid":b.U8,"data-theme":m||"none",className:(0,o.Z)("rounded-lg h-full w-full relative overflow-visible shadow-xnear",u&&"p-4",ti().main),children:[(0,v.tZ)(ki,{messages:null!==(n=null===r||void 0===r||null===(i=r.marketingMessagesCollection)||void 0===i?void 0:i.items)&&void 0!==n?n:[]}),(0,v.BX)("div",{className:(0,o.Z)("flex flex-col h-full gap-y-2 items-stretch"),children:[(0,v.tZ)(Ze.E,{onClick:c,className:(0,o.Z)("aspect-[2.5/1] w-full rounded-t-lg",u&&"object-contain"),src:(0,d.Jn)(null===r||void 0===r?void 0:r.mediumTile),alt:(0,d.EQ)(r)}),(0,v.BX)("section",{className:(0,o.Z)("flex flex-col gap-y-2 h-full w-full text-body-s text-text-primary text-left",!u&&"px-4 pb-4"),children:[(0,v.BX)("span",{className:(0,o.Z)("align-bottom inline-block text-body-m font-bold",ti().title),children:[h||(null===r||void 0===r?void 0:r.title),(0,v.tZ)(ci,{children:(0,v.tZ)(ui.t,{className:"h-5"})})]}),(0,v.tZ)(Ai,{type:s||"inline",items:p}),(0,v.BX)(Jn,{children:[(0,v.tZ)(Kn,{showIcon:!0}),(0,v.tZ)(Un,{showIcon:!0}),(0,v.tZ)(zn,{}),(0,v.tZ)(qn,{showIcon:!0})]}),(0,v.BX)("div",{className:"flex flex-col gap-y-2 mt-auto",children:[(0,v.tZ)(Mi,{}),(0,v.tZ)(Pn.l,{children:(0,v.tZ)(Yn,{})})]})]})]})]})}var il=n(91751);function ll(e){return(0,a.useMemo)((function(){var t,n,i=null!==(t=null===e||void 0===e?void 0:e.tileToPaletteLink)&&void 0!==t?t:[],l=null!==(n=null===e||void 0===e?void 0:e.themeToPersonalizedItemLink)&&void 0!==n?n:[];Array.isArray(i)||(i=[]),Array.isArray(l)||(l=[]);var r=i.map((function(e){return[e.from,e.to]})),o=l.map(();return new Map([].concat((0,il.Z)(r),(0,il.Z)(o)))}),[null===e||void 0===e?void 0:e.tileToPaletteLink,null===e||void 0===e?void 0:e.themeToPersonalizedItemLink])}function rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rl(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function al(e){for(var t,n,i,l=e.item,r=e.children,s=ll(l),d=null!==(t=l.itemData)&&void 0!==t?t:{},c=("list"===l.packageContentsVariant?"list":"boxed"===l.packageContentsVariant&&"boxed")||"inline"===l.packageContentsVariant&&"inline"||null,u=("transparent"===l.tileImageType?"transparent":"opaque"===l.tileImageType&&"opaque")||"opaque",m=[],p=null!==(n=null===(i=l.itemsCollection)||void 0===i?void 0:i.items)&&void 0!==n?n:[],f=a.Children.toArray(r),h=0;h<p.length;h+=1){var g,b,y,x,Z=p[h],w=null!==(g=null===Z||void 0===Z||null===(b=Z.sys)||void 0===b?void 0:b.id)&&void 0!==g?g:"",O=d[w]||d["".concat(h)]||null;if(O){var k={pkgVariant:c,item:Z,imageType:u},N=O===Di.List&&(0,v.tZ)(tl,ol({},k))||O===Di.Medium&&(0,v.tZ)(nl,ol({},k))||O===Di.BoxArt&&(0,v.tZ)(Gi,ol({},k))||O===Di.Large&&(0,v.tZ)(Fi,ol({},k))||O===Di.Gigantic&&(0,v.tZ)(Ri,ol({},k))||null,j=(0,o.Z)("block sm:hidden",O===Di.BoxArt?"!col-span-1":"!col-span-full"),C=(0,v.tZ)("div",{"data-mixed-tile":!0,className:"hidden sm:block",children:f[h]}),P=(0,v.tZ)("div",{"data-mixed-tile":!0,className:j,children:N}),S=s.get(w)||s.get("".concat(h))||(null===l||void 0===l||null===(y=l.layoutPalette)||void 0===y||null===(x=y.sys)||void 0===x?void 0:x.id)||"";m.push((0,v.BX)(a.Fragment,{children:[C,(0,v.tZ)(Zn.V.Provider,{value:S,children:(0,v.tZ)(ze.n,{value:Z,children:(0,v.tZ)(Ne.R,{children:(0,v.tZ)(Dn,{children:P})})})})]},w+O))}else m.push(f[h])}return(0,v.tZ)("div",{"data-testid":di.Aq,className:(0,o.Z)("grid gap-4 grid-cols-2",l.defaultViewType!==Di.BoxArt&&"[&>*]:col-span-full [&>*]:sm:col-span-1",l.defaultViewType===Di.BoxArt?"sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 3xl:grid-cols-6":"sm:grid-cols-2 xl:grid-cols-3 3xl:grid-cols-4"),children:m})}var sl=n(69786),dl=n(6093),cl=n.n(dl),ul=function(e){var t=e.endDate,n=e.onDone;return(0,v.tZ)(Ae.I,{endDate:t,onDone:n,children:(0,v.BX)("div",{className:"".concat(cl().promotion," flex font-bold items-center my-4"),children:[(0,v.tZ)("div",{className:"me-1",children:(0,v.tZ)(Xe,{})}),(0,v.tZ)("div",{children:(0,v.tZ)(sl.v,{})})]})})};function vl(e){var t,n=e.item,i=e.children,l=(0,je.TA)(),r=(0,a.useContext)(An),s=(0,a.useMemo)((function(){var e,t,i,r,o,a,s,d,c=(0,X.getMSecondsSinceEpoch)(),u=(null===(e=n.itemsCollection)||void 0===e?void 0:e.items)||[],v=Object.values(null!==l&&void 0!==l?l:{}),m=new Map(v.map((function(e){var t;return[null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.itemId,null===e||void 0===e?void 0:e[0]]}))),p=m.get(null===u||void 0===u||null===(t=u[0])||void 0===t||null===(i=t.sys)||void 0===i?void 0:i.id);if((null!==(r=null===p||void 0===p||null===(o=p.promotion)||void 0===o?void 0:o.end)&&void 0!==r?r:0)<c)return 0;if((null!==(a=null===p||void 0===p||null===(s=p.promotion)||void 0===s?void 0:s.start)&&void 0!==a?a:0)>c)return 0;var f=u.every((function(e){var t,n,i,l;return(null===(t=m.get(null===e||void 0===e||null===(i=e.sys)||void 0===i?void 0:i.id))||void 0===t||null===(n=t.promotion)||void 0===n?void 0:n.end)===(null===p||void 0===p||null===(l=p.promotion)||void 0===l?void 0:l.end)}));return null!==p&&void 0!==p&&null!==(d=p.promotion)&&void 0!==d&&d.end&&f?null===p||void 0===p?void 0:p.promotion.end:0}),[l,null===(t=n.itemsCollection)||void 0===t?void 0:t.items]);return(0,v.BX)(v.HY,{children:[!!s&&(0,v.tZ)(ul,{endDate:s,onDone:function(){var e,t;return null===r||void 0===r?void 0:r(null!==(e=null===n||void 0===n||null===(t=n.sys)||void 0===t?void 0:t.id)&&void 0!==e?e:"table-list")}}),(0,v.BX)("div",{className:"md:grid md:gap-8 md:grid-cols-2",children:[(0,v.tZ)("section",{"data-testid":b.Aq,className:(0,o.Z)("md:h-max rounded-lg",li().table),children:i}),(null===n||void 0===n?void 0:n.desktopInlineImage)&&(0,v.tZ)("section",{className:"hidden md:block m-auto",children:(0,v.tZ)(Ze.E,{sizes:"50vw",src:(0,d.Jn)(null===n||void 0===n?void 0:n.desktopInlineImage),alt:(0,d.EQ)(n)})})]})]})}function ml(e){var t,n,i,l,r,o,s,d,c=e.preText,u=e.firstTileId,m=e.displayAttr,p=(0,je.TA)(),f=(0,E.$G)().t,h=(0,a.useContext)(An),g=b=m===wn.z.All;if(!u||!p)return null;var y=null===(t=p[u])||void 0===t?void 0:t[0],x=(null===y||void 0===y||null===(n=y.promotion)||void 0===n?void 0:n.end)||0,Z=(null===y||void 0===y?void 0:y.promoLimitResetDate)||0,w=(null!==(i=null===y||void 0===y?void 0:y.promoLimitCount)&&void 0!==i?i:0)-(null!==(l=null===y||void 0===y?void 0:y.promoLimitUsed)&&void 0!==l?l:0),O=b&&Math.ceil((Z-(0,X.getMSecondsSinceEpoch)())/1e3/3600),k=b&&(null===c||void 0===c||null===(r=c.json)||void 0===r||null===(o=r.content)||void 0===o||null===(s=o[0])||void 0===s||null===(d=s.content)||void 0===d?void 0:d[0].value.replace("{{hours}}",O.toString()));return(0,v.BX)(v.HY,{children:[(0,v.tZ)("div",{className:"mb-6 -mt-4 text-body-s text-text-primary-80 [&_a]:text-link",children:k}),(0,v.BX)("div",{className:"flex flex-row mb-6",children:[(0,v.BX)("div",{className:"flex flex-col mr-4",children:[(0,v.tZ)(Ae.I,{onDone:g,endDate:x,children:(0,v.BX)(Vn,{className:"!uppercase mb-1 flex h-full",children:[(0,v.tZ)(Tn.j,{className:"ms-1"}),(0,v.BX)("span",{className:"ms-1",children:[(0,v.tZ)(Ae.T,{daysHoursOnly:!0})," ",f("until-sale-ends")]})]})}),b&&w>0&&(0,v.BX)(Vn,{className:"!uppercase flex h-full",children:[(0,v.tZ)(Bn.A,{className:"ms-1"}),(0,v.BX)("span",{className:"ms-1",children:[w," ",f(w>1?"purchases-available":"purchase-available-singular")]})]})]}),b&&0===w&&(0,v.tZ)("div",{className:"flex flex-col",children:(0,v.tZ)(Ae.I,{onDone:g,endDate:Z,children:(0,v.BX)(Vn,{className:"!uppercase flex h-full",children:[(0,v.tZ)(Tn.j,{className:"ms-1"}),(0,v.BX)("span",{className:"ms-1",children:[(0,v.tZ)(Ae.T,{daysHoursOnly:!0})," ",f("until-purchasable")]})]})})})]})]})}var pl=n(81782),fl=n(5506);function hl(e){var t=e.timeout,n=e.onDone,i=e.children,l=(0,a.useState)(!1),r=l[0],o=l[1],s=(0,a.useState)(),d=s[0],c=s[1];return(0,a.useEffect)((function(){r&&n&&(n(),o(!1),d&&window.clearTimeout(d))}),[d,r,n]),(0,a.useEffect)((function(){if(d&&clearTimeout(d),t)return c(window.setTimeout((,t)),),[t]),(0,v.tZ)(a.Fragment,{children:i},"timeout-".concat(r))}nction yl(e){var t,n=e.releaseDate,i=e.isActiveTab,l=e.onClick,r=e.tileGroup,a=(null!==n&&void 0!==n?n:0)>(0,X.getMSecondsSinceEpoch)();return(0,v.tZ)("button",{type:"button",className:(0,o.Z)("w-12 rounded",i&&ti().tab),onClick:children:(null===(t=r.icon)||void 0===t?void 0:t.url)&&(0,v.tZ)(Ze.E,{sizes:"48px",className:(0,o.Z)("w-12 p-0.5",!a&&"drop-shadow-[0_0_4px_rgb(255_255_255/.8)]",a&&"grayscale contrast-75 brightness-75"),alt:r.icon.title||"Tab",src:r.icon.url})})}function xl(){var e,t,n,i=(0,ze.Y)(),l=(0,Ce.XR)(),r=(null!==(e=null===l||void 0===l?void 0:l.releaseDate)&&void 0!==e?e:0)>(0,X.getMSecondsSinceEpoch)(),a=(0,E.$G)().t,s=(0,vi.W)(i),d=l&&(null!==(t=null===l||void 0===l?void 0:l.promoLimitCount)&&void 0!==t?t:1)-(null!==(n=null===l||void 0===l?void 0:l.promoLimitUsed)&&void 0!==n?n:0)===0;return(0,v.BX)("div",{className:(0,o.Z)("w-full flex-col h-auto p-2 rounded-lg text-body-s [&::-webkit-scrollbar-track]:!bg-transparent flex",ti().tileGroupContent),children:[(null===i||void 0===i?void 0:i.longDescription)&&(0,v.tZ)("p",{className:"text-body-s","data-testid":null,children:null===i||void 0===i?void 0:i.longDescription}),(0,v.tZ)("div",{className:"flex flex-col [&>ul]:overflow-y-auto mb-2",children:r?(0,v.tZ)("p",{className:"text-body-s m-4",children:a("content-offer-revealed-soon")}):(0,v.tZ)(Ti.G,{ignorePalette:!0,className:"max-h-[10.5rem] bg-transparent shadow-none",items:s})}),(0,v.BX)("div",{className:"flex flex-col gap-y-1 px-2",children:[(0,v.tZ)(Mi,{}),d?(0,v.BX)("div",{className:"flex gap-y-2 w-full font-bold text-sm",children:[(0,v.tZ)(pl.Z,{className:"me-1 w-4 h-4"}),a("claimed")]}):(0,v.tZ)(Pn.l,{disabled:r,children:r?(0,v.tZ)(fl.F,{}):(0,v.tZ)(Yn,{})}),(0,v.BX)(Jn,{children:[(0,v.tZ)(Wn,{showIcon:!0}),!r&&(0,v.tZ)(Kn,{showIcon:!0}),!r&&(0,v.tZ)(zn,{})]})]})]})}function Zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zl(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ol=function(e){return(0,v.tZ)("svg",wl(wl({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{},{children:(0,v.tZ)("path",{fill:"currentColor",d:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3ZM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1Zm1 4h-2v-2h2v2Z"})}))};var kl={name:"jw2zg2",styles:"height:1.25rem"};function Nl(e){var t,n,i,l,r=e.item,s=e.pkgVariant,c=e.showLockWithPrice,u=(0,we.M)(),m=(0,a.useContext)(Zn.V),p=(0,vi.W)(r),f=(0,Ce.XR)(),h=(0,X.getMSecondsSinceEpoch)(),g=null===f||void 0===f||null===(t=f.promotion)||void 0===t?void 0:t.end,y=null===f||void 0===f||null===(n=f.promotion)||void 0===n?void 0:n.start,x=f&&g&&h<g&&y&&h>y,Z=p&&p.find((function(e){return null===e||void 0===e?void 0:e.primary}));if(Z){var w=Z.presaleQuantity?Z.presaleQuantity.toLocaleString():Z.presaleQuantityText,O=Z.quantity?Z.quantity.toLocaleString():Z.quantityText;l=w&&x?(0,v.BX)(v.HY,{children:[(0,v.tZ)("p",{"data-testid":"presale-quantity-p",className:"text-body-s line-through text-text-primary-60 font-normal",children:w}),(0,v.tZ)("p",{children:O})]}):w||O}return(0,v.BX)("div",{"data-tile":Di.Table,"data-testid":b.U8,"data-theme":m||"none",className:(0,o.Z)("h-full w-full relative","first:rounded-t-lg last:rounded-b-lg","first:!border-t-0 last:!border-b-0 !border-b-0 !border-x-0",ti().main),children:[(0,v.tZ)(ki,{messages:(null===r||void 0===r||null===(i=r.marketingMessagesCollection)||void 0===i?void 0:i.items)||[],overrideAlignment:"Right"}),(0,v.BX)("div",{className:"flex flex-col w-full px-4 pb-2",children:[(0,v.BX)("section",{className:"flex items-center gap-x-2",children:[(0,v.tZ)(Ze.E,{sizes:"80px",className:"w-screen max-w-[5rem]",onClick:u,src:(0,d.Jn)(null===r||void 0===r?void 0:r.square),alt:(0,d.EQ)(r)}),(0,v.BX)("span",{className:(0,o.Z)("text-headline-m font-bold inline-block",ti().title),children:[l||(null===r||void 0===r?void 0:r.title),(0,v.tZ)(ci,{children:(0,v.tZ)(ui.t,{css:kl})})]})]}),(0,v.BX)("section",{className:"flex space-x-2 w-full h-full text-body-s text-left",children:[(0,v.tZ)(Ai,{className:"flex-[2]",type:s||"boxed",items:p}),(0,v.BX)("div",{className:"flex flex-col space-y-2 h-full",children:[(0,v.tZ)(Mi,{}),(0,v.BX)(Pn.l,{forceChildren:c,className:"min-[320px]:min-w-max w-full",children:[c&&(0,v.BX)("span",{className:"flex items-center justify-center gap-x-2",children:[(0,v.tZ)(fl.F,{}),(0,v.tZ)(Yn,{})]}),!c&&(0,v.tZ)(Yn,{})]})]})]})]})]})}var jl=n(99971),Cl=n(230),Pl=n(32108);var Sl=n(81160),Il=n(66446);function Dl(e){var t=e.skuCount,n=e.claimedCount,i=e.onClick,l=(0,Ce.XR)(),r=(0,we.M)(),o=(0,E.$G)().t,a=(0,Ce.aF)().user;if(!l)return null;var s=function(e){var t;a||(null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||null===(t=e.nativeEvent)||void 0===t||t.stopImmediatePropagation(),(0,X.sendClickEvent)(Il.lg));i?i():r()};return(0,v.tZ)("button",{type:"button",className:"btn min-h-0 text-button-m w-full min-w-0 bg-none border border-white",onClick:function(e){s(e)},"data-testid":di.q6,children:0===n?o("buy-all-n",{n:t}):o("buy-remaining-n",{n:(null!==t&&void 0!==t?t:0)-(null!==n&&void 0!==n?n:0)})})}function El(e){var t,n,i,l,r,s,c,u,m,p,f,h,g,b,y,x,Z,w,O,k,N,j,C,P=e.tileGroup,S=e.tileItems,I=e.imageType,D=(0,E.$G)().t,T=(0,a.useContext)(Zn.V),_="transparent"===I,X=(0,je.TA)(),L=X&&X[(null===(t=S[0])||void 0===t||null===(n=t.sys)||void 0===n?void 0:n.id)||""],A=L&&(null===(i=L[0])||void 0===i||null===(l=i.promotion)||void 0===l?void 0:l.end),M=(0,a.useState)(null===(r=S[0])||void 0===r||null===(s=r.sys)||void 0===s?void 0:s.id),G=M[0],R=M[1],F=S.find((),H=(0,vi.W)(F),V=null===X||void 0===X||null===(c=X[null!==G&&void 0!==G?G:""])||void 0===c?void 0:c[0],z=null!==(u=null===V||void 0===V||null===(m=V.inGroup)||void 0===m?void 0:m.groupSkusCount)&&void 0!==u?u:0,q=null!==(p=null===V||void 0===V||null===(f=V.inGroup)||void 0===f?void 0:f.groupUsedCount)&&void 0!==p?p:0,U="(".concat((null!==(h=null===V||void 0===V||null===(g=V.inGroup)||void 0===g?void 0:g.orderInGroup)&&void 0!==h?h:0)+1,"/").concat(z,")"),W=(0,a.useState)(""),K=W[0],J=W[1];(0,a.useEffect)((function(){J((0,Pe.Do)(Pe.M2.userid)||(0,Pe.Do)(Pe.M2.token)||"")}),[X]);var Q=(0,a.useState)(void 0),$=Q[0],Y=Q[1];(0,a.useEffect)((function(){Y(!(!ke().mobile&&!ke().tablet))}),[]);var ee=K?(null===V||void 0===V||null===(b=V.inGroup)||void 0===b?void 0:b.state)===Se.KA.purchasable:0===(null===V||void 0===V||null===(y=V.inGroup)||void 0===y?void 0:y.orderInGroup),te=(0,Sl.V)(null!==(x=null===P||void 0===P||null===(Z=P.description)||void 0===Z?void 0:Z.text)&&void 0!==x?x:"",{number:z,contents:null!==(w=null===(O=S[S.length-1])||void 0===O?void 0:O.title)&&void 0!==w?w:""}),ne=(0,v.tZ)(Ze.E,{sizes:"100vw sm:50vw md:25vw",className:(0,o.Z)("w-full rounded-t-lg",_?"object-contain max-h-[255px] w-auto":"object-cover"),src:(0,d.Jn)(P.headerImage),alt:(0,d.EQ)({title:null===(k=P.title)||void 0===k?void 0:k.text})}),ie=(null===(N=P.title)||void 0===N?void 0:N.text)&&(0,v.BX)("h3",{className:"text-body-m font-bold",children:[null===(j=P.title)||void 0===j?void 0:j.text," ",U]}),le=!!A&&(0,v.tZ)(Ae.I,{endDate:A,children:(0,v.BX)("span",{className:"text-[rgb(var(--color-promo-attribute-rgb))] font-bold",children:[(0,v.tZ)(Tn.j,{className:"h-4 w-4 min-w-[1rem] inline me-1"}),(0,v.tZ)(Ae.T,{className:"align-middle",daysHoursOnly:!0})]})}),re=(null===P||void 0===P?void 0:P.description)&&(0,v.tZ)(B.D,{className:"text-body-s pb-2 prose-p:my-2 prose-strong:text-text-primary text-text-primary max-w-full prose prose-a:type-link hover:prose-a:type-link-hover prose-headings:text-text-primary prose-blockquote:text-text-primary",children:te}),oe=(0,v.tZ)("div",{className:(0,o.Z)(ti().tileGroupContent,!$&&ti().desktop,"overflow-x-auto flex rounded-lg px-2 py-2"),children:(0,v.tZ)(El.Items,{tileItems:S,selectedId:null!==G&&void 0!==G?G:"",skus:X,userId:K,onItemClick:)}),ae=(0,v.tZ)(Pl.Gf,{className:"max-h-40",items:H}),se=(0,v.BX)(v.HY,{children:[(0,v.tZ)(ze.n,{value:F,children:(0,v.tZ)(Ne.R,{children:(0,v.tZ)(Pn.l,{forceChildren:!ee,disabled:!ee,children:ee?(0,v.BX)(v.HY,{children:[(0,v.tZ)("span",{className:"me-1",children:D("Buy")}),(0,v.tZ)(Yn,{})]}):(0,v.tZ)(fl.F,{className:"w-6 h-6"})})})}),K&&q<z-1&&(0,v.tZ)(ze.n,{value:S[S.length-1],children:(0,v.tZ)(Ne.R,{children:(0,v.tZ)(Dl,{claimedCount:q,skuCount:z})})})]}),de=(0,v.BX)("div",{className:"flex items-center align-middle",children:[(0,v.tZ)(pl.Z,{className:"w-5 h-5"}),(0,v.tZ)("p",{className:"ms-1 font-bold",children:D("claimed")})]});return void 0===$?null:(0,v.tZ)("div",{"data-theme":T||"none",className:(0,o.Z)("rounded-lg w-full h-full shadow-xnear",_&&"p-4",ti().main),children:(0,v.BX)("div",{className:"h-full flex flex-col gap-4",children:[ne,(0,v.BX)("section",{className:(0,o.Z)("h-full w-full flex flex-col gap-y-2",!_&&"px-4 pb-4"),children:[ie,le,re,oe,ae,(null===V||void 0===V||null===(C=V.inGroup)||void 0===C?void 0:C.state)!==Se.KA.owned?se:de]})]})})}El.Items=function(e){var t=e.tileItems,n=e.selectedId,i=e.skus,l=e.userId,r=e.onItemClick;return(0,v.tZ)("div",{className:(0,o.Z)(ti().tileGroupContent,"flex w-fit"),children:t.map((function(e,t){var a,s,c,u,m,p,f,h,g,b=null===i||void 0===i||null===(a=i[null!==(s=null===e||void 0===e||null===(c=e.sys)||void 0===c?void 0:c.id)&&void 0!==s?s:""])||void 0===a?void 0:a[0];if(!b)return null;var y=null===(u=b.inGroup)||void 0===u?void 0:u.state,x=(null===e||void 0===e||null===(m=e.sys)||void 0===m?void 0:m.id)===n&&(0,v.tZ)("div",{"aria-hidden":!0,className:(0,o.Z)(ti().activePromotionGlow,"top-3.5 left-1.5 absolute w-5 h-5 rounded-full")}),Z=l?y===Se.KA.purchasable||y===Se.KA.owned:0===t,w=(0,v.tZ)(Ze.E,{className:(0,o.Z)("relative",Z?"":"grayscale"),sizes:"30px",src:(0,d.Jn)(e.boxart),alt:(0,d.EQ)({title:e.description})}),O=(0,v.tZ)(pl.Z,{className:(0,o.Z)((null===e||void 0===e||null===(p=e.sys)||void 0===p?void 0:p.id)===n?"bottom-0":"bottom-px",ti().checkIcon,"absolute rounded-full -right-1.5 w-5 h-5")});return(0,v.tZ)("div",{"data-selected":(null===e||void 0===e||null===(h=e.sys)||void 0===h?void 0:h.id)===n,className:(0,o.Z)("w-[45px] h-[45px] flex justify-center align-middle",(null===e||void 0===e||null===(g=e.sys)||void 0===g?void 0:g.id)===n&&"rounded border border-solid border-1 ".concat(ti().activePromotionTile)),children:(0,v.BX)("button",{type:"button",className:"relative",onClick:function(){r(e)},children:[x,w,y===Se.KA.owned?O:null]})},null===e||void 0===e||null===(f=e.sys)||void 0===f?void 0:f.id)}))})};var Bl,Tl;function _l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ll,Al=(Bl={},(0,i.Z)(Bl,Di.Event,(function(e){var t,n,i,l,r,s=e.tileGroup,c=e.tileItems,u=e.imageType,m=(0,je.TA)(),p="transparent"===u,f=(0,a.useState)(0),h=f[0],g=f[1],y=(0,a.useContext)(Zn.V),x=(0,a.useMemo)((function(){if(!m||!c)return[];var e,t={},n=gl(c);try{for(n.s();!(e=n.n()).done;){var i,l,r=e.value,o=m&&m[null!==(i=null===r||void 0===r||null===(l=r.sys)||void 0===l?void 0:l.id)&&void 0!==i?i:""];if(o){var a,s=(null===(a=o[0])||void 0===a?void 0:a.releaseDate)||0;t[s]?t[s].push(r):t[s]=[r]}}}catch(d){n.e(d)}finally{n.f()}return Object.entries(t).map((function(e){var t=(0,yn.Z)(e,2);return{releaseDate:+t[0],items:t[1]}}))}),[c,m]);return null!==c&&void 0!==c&&c.length&&s?(0,v.tZ)("div",{"data-theme":y||"none","data-testid":b.U8,className:(0,o.Z)("rounded-lg w-full h-full shadow-xnear",p&&"p-4",ti().main),children:(0,v.BX)("div",{className:(0,o.Z)("h-full flex flex-col gap-4"),children:[(0,v.tZ)("div",{className:"w-full aspect-[3.28/1] grow-0 overflow-hidden",children:(0,v.tZ)(Ze.E,{sizes:"100vw sm:50vw md:25vw",className:(0,o.Z)("h-full w-full rounded-t-lg",p?"object-contain max-h-[255px] w-auto":"object-cover"),src:(0,d.Jn)(s.headerImage),alt:(0,d.EQ)({title:null===(t=s.title)||void 0===t?void 0:t.text})})}),(0,v.BX)("section",{className:(0,o.Z)("w-full flex flex-col gap-y-2",!p&&"px-4 pb-4"),children:[(null===(n=s.title)||void 0===n?void 0:n.text)&&(0,v.tZ)("h3",{className:(0,o.Z)("text-body-m font-bold",ti().title),children:null===(i=s.title)||void 0===i?void 0:i.text}),(null===s||void 0===s?void 0:s.description)&&(0,v.tZ)("p",{className:(0,o.Z)("text-body-s pb-2",ti().description),children:null===s||void 0===s||null===(l=s.description)||void 0===l?void 0:l.text}),x.length>0&&(0,v.BX)(v.HY,{children:[(0,v.tZ)("div",{className:(0,o.Z)("w-full h-auto p-2 rounded-lg text-body-s space-x-0.5 [&::-webkit-scrollbar-track]:!bg-transparent flex",ti().tileGroupContent),children:x.map((function(e,t){return(0,v.tZ)(hl,{timeout:e.releaseDate>=(0,X.getMSecondsSinceEpoch)()?e.releaseDate-(0,X.getMSecondsSinceEpoch)():0,children:(0,v.tZ)(yl,{isActiveTab:h===t,onClick:function(){return g(t)},releaseDate:e.releaseDate,tileGroup:s})},e.releaseDate)}))}),null===(r=x[h].items)||void 0===r?void 0:r.map((function(e){var t;return(0,v.tZ)(ze.n,{value:e,children:(0,v.tZ)(Ne.R,{children:(0,v.tZ)(hl,{timeout:x[h].releaseDate>=(0,X.getMSecondsSinceEpoch)()?x[h].releaseDate-(0,X.getMSecondsSinceEpoch)():0,children:(0,v.tZ)(xl,{})})})},null===(t=e.sys)||void 0===t?void 0:t.id)}))]})]})]})}):null})),(0,i.Z)(Bl,Di.Progression,(function(e){var t,n,i,l,r,s,c,u,m=e.tileGroup,p=e.tileItems,f=e.imageType,h=(0,E.$G)().t,g=(0,a.useContext)(Zn.V),y="transparent"===f,x=(0,je.TA)(),Z=(0,Ce.aF)().user,w=x&&x[(null===(t=p[0])||void 0===t||null===(n=t.sys)||void 0===n?void 0:n.id)||""],O=w&&(null===(i=w[0])||void 0===i||null===(l=i.promotion)||void 0===l?void 0:l.end),k=p.map((function(e,t){var n,i,l,r,a,s,d,c=null===x||void 0===x||null===(n=x[null!==(i=null===e||void 0===e||null===(l=e.sys)||void 0===l?void 0:l.id)&&void 0!==i?i:""])||void 0===n?void 0:n[0];if(!c)return null;var u=c.purchaseState,p=null!==(r=null===(a=e.mobileDetailsCollection)||void 0===a||null===(s=a.items)||void 0===s?void 0:s.filter(Cl.v))&&void 0!==r?r:[];return(0,v.tZ)("div",{className:(0,o.Z)("w-full h-auto p-2 rounded-lg text-body-s space-x-0.5 [&::-webkit-scrollbar-track]:!bg-transparent",ti().tileGroupContent),children:(0,v.BX)(ze.n,{value:e,children:[(0,v.tZ)(Pl.Gf,{className:"max-h-[10.5rem]",items:p}),(0,v.tZ)(jl.Z,{className:"bg-current h-px opacity-20 w-full",decorative:!0}),u===Se.KA.owned&&(0,v.BX)("div",{className:"pl-2 flex gap-y-2 w-full font-bold text-base items-center",children:[(0,v.tZ)(pl.Z,{className:"me-1 w-4 h-4"}),"".concat(h("claimed"),"!")]}),u!==Se.KA.owned&&(0,v.BX)(Ne.R,{children:[!(null!==m&&void 0!==m&&m.hideStockCount)&&(0,v.tZ)("div",{className:"py-1",children:(0,v.tZ)(Jn,{children:(0,v.tZ)(zn,{})})}),!Z&&0===t&&(0,v.tZ)(Pn.l,{children:(0,v.tZ)(Yn,{})}),!Z&&t>0&&(0,v.tZ)(Pn.l,{disabled:!0,children:(0,v.tZ)("span",{className:"flex items-center",children:(0,v.tZ)(fl.F,{})})}),Z&&u===Se.KA.unavailable&&(0,v.tZ)(Pn.l,{disabled:!0,children:(0,v.BX)("span",{className:"flex items-center",children:[(0,v.tZ)(fl.F,{}),(0,v.tZ)(Yn,{})]})}),Z&&u===Se.KA.purchasable&&(0,v.tZ)(Pn.l,{children:(0,v.tZ)(Yn,{})})]})]})},null===e||void 0===e||null===(d=e.sys)||void 0===d?void 0:d.id)}));return(0,v.tZ)("div",{"data-theme":g||"none","data-testid":b.U8,className:(0,o.Z)("rounded-lg w-full h-full shadow-xnear",y&&"p-4",ti().main),children:(0,v.BX)("div",{className:"h-full flex flex-col gap-4",children:[(0,v.tZ)(Ze.E,{sizes:"100vw sm:50vw md:25vw",className:(0,o.Z)("w-full rounded-t-lg",y?"object-contain max-h-[255px] w-auto":"object-cover"),src:(0,d.Jn)(m.headerImage),alt:(0,d.EQ)({title:null===(r=m.title)||void 0===r?void 0:r.text})}),(0,v.BX)("section",{className:(0,o.Z)("h-full w-full flex flex-col gap-y-2",!y&&"px-4 pb-4"),children:[(null===(s=m.title)||void 0===s?void 0:s.text)&&(0,v.tZ)("h3",{className:(0,o.Z)("text-body-m font-bold",ti().title),children:null===(c=m.title)||void 0===c?void 0:c.text}),!!O&&(0,v.tZ)(Ae.I,{endDate:O,children:(0,v.BX)("span",{className:"text-[rgb(var(--color-promo-attribute-rgb))] font-bold",children:[(0,v.tZ)(Tn.j,{className:"h-4 w-4 min-w-[1rem] inline me-1"}),(0,v.tZ)(Ae.T,{className:"align-middle uppercase",daysHoursOnly:!0})]})}),(null===m||void 0===m?void 0:m.description)&&(0,v.tZ)("p",{className:(0,o.Z)("text-body-s pb-2",ti().description),children:null===m||void 0===m||null===(u=m.description)||void 0===u?void 0:u.text}),k]})]})})})),(0,i.Z)(Bl,Di.ProgressivePack,El),(0,i.Z)(Bl,Di.ProgressionTable,(function(e){var t,n,i=e.tileGroup,l=e.tileItems,r=e.imageType,a=e.paletteMap,s="transparent"===r,d=(0,E.$G)().t,c=(0,je.TA)(),u=l.map((function(e){var t;return(null===c||void 0===c?void 0:c[(null===(t=e.sys)||void 0===t?void 0:t.id)||""])||[]})).flat().every(();return(0,v.BX)("section",{className:(0,o.Z)("md:h-max rounded-lg",ti().main),children:[(0,v.tZ)(Ze.E,{src:null!==(t=null===(n=i.headerImage)||void 0===n?void 0:n.url)&&void 0!==t?t:"",alt:"",sizes:"100vw sm:50vw md:25vw",className:(0,o.Z)("w-full rounded-t-lg",s?"object-contain w-auto":"object-cover")}),u&&(0,v.BX)("div",{className:(0,o.Z)("h-12 w-full flex items-center justify-center text-lg font-bold",ti().banner),children:[(0,v.tZ)(pl.Z,{className:"-mt-1 me-1"}),(0,v.tZ)("span",{children:d("all-deals-claimed")})]}),(0,v.tZ)("div",{className:(0,o.Z)("[&>*]:border-t","[&>*]:!border-b-0","[&>*:last-child]:rounded-b-lg"),children:l.map((function(e,t){var n,i,l,o,s,d,u=null!==(n=e.sys)&&void 0!==n&&n.id?null===c||void 0===c?void 0:c[null===(i=e.sys)||void 0===i?void 0:i.id]:[];return(0,v.tZ)(ze.n,{value:e,children:(0,v.tZ)(Ne.R,{children:(0,v.tZ)(Dn,{children:(0,v.tZ)(Zn.V.Provider,{value:a.get((null===(o=e.sys)||void 0===o?void 0:o.id)||"")||a.get("".concat(t)||"")||"",children:(0,v.tZ)(Nl,{showLockWithPrice:(null===u||void 0===u||null===(s=u[0])||void 0===s||null===(d=s.inGroup)||void 0===d?void 0:d.state)===Se.KA.unavailable,item:e,imageType:r})})})})},(null===(l=e.sys)||void 0===l?void 0:l.id)||"")}))})]})})),Bl),Ml=(Tl={},(0,i.Z)(Tl,Di.Table,Nl),(0,i.Z)(Tl,Di.List,tl),(0,i.Z)(Tl,Di.Medium,nl),(0,i.Z)(Tl,Di.BoxArt,Gi),(0,i.Z)(Tl,Di.Large,Fi),(0,i.Z)(Tl,Di.Gigantic,Ri),(0,i.Z)(Tl,Di.GiganticShort,(function(e){var t,n,i,l=e.imageType,r=e.pkgVariant,s=e.item,c=e.additionalData,u=(0,we.M)(),m=(0,tn.M)(c),p=(0,vi.W)(s),f=(0,a.useContext)(Zn.V),h="transparent"===l;return(0,v.BX)("div",{"data-tile":Di.GiganticShort,"data-testid":b.U8,"data-theme":f||"none",className:(0,o.Z)("rounded-lg w-full h-full shadow-xnear relative",h&&"p-4",ti().main),children:[(0,v.tZ)(ki,{messages:null!==(t=null===s||void 0===s||null===(n=s.marketingMessagesCollection)||void 0===n?void 0:n.items)&&void 0!==t?t:[]}),(0,v.BX)("div",{className:"flex flex-col gap-4 relative h-full",children:[(0,v.BX)("div",{className:"relative w-full aspect-[3.28/1] grow-0 overflow-hidden",children:[(0,v.tZ)(Ze.E,{onClick:u,sizes:"100vw sm:50vw md:25vw",className:(0,o.Z)("w-full rounded-t-lg absolute top-0 left-0",h?"object-contain max-h-[255px] w-auto":"object-cover"),src:(0,d.Jn)(null===s||void 0===s?void 0:s.largeTile),alt:(0,d.EQ)(s)}),(0,v.BX)(Jn,{className:(0,o.Z)("absolute top-1.5 left-1.5 rounded py-0.5 px-1 leading-none rtl:left-[unset] rtl:right-1.5",ti().tilePromo),children:[(0,v.tZ)(Kn,{showIcon:!0}),(0,v.tZ)(Un,{showIcon:!0})]})]}),(0,v.BX)("section",{className:(0,o.Z)("w-full flex flex-col gap-y-2 grow",!h&&"px-4 pb-4"),children:[(0,v.BX)("span",{className:(0,o.Z)("align-bottom inline-block text-body-m font-bold",ti().title),children:[null===s||void 0===s?void 0:s.title,(0,v.tZ)(ci,{children:(0,v.tZ)(ui.t,{className:"h-5"})}),(0,v.tZ)("span",{className:"[float:inline-end]",children:(0,v.tZ)(zn,{})})]}),(0,v.tZ)(Jn,{children:(0,v.tZ)(qn,{showIcon:!0})}),(null===s||void 0===s?void 0:s.longDescription)&&(0,v.tZ)(B.D,{className:(0,o.Z)(ti().description,"text-body-s","prose-p:my-2 prose-strong:text-text-primary text-text-primary max-w-full prose prose-a:type-link hover:prose-a:type-link-hover prose-headings:text-text-primary prose-blockquote:text-text-primary"),"data-testid":b.Kx,children:null===s||void 0===s?void 0:s.longDescription}),(0,v.tZ)(Ai,{type:r||"grid",items:p,className:"max-h-[12rem] lg:max-h-[11.5rem]",legalText:null===m||void 0===m||null===(i=m.chestLegalText)||void 0===i?void 0:i.locText}),(0,v.BX)("div",{className:"flex flex-col gap-y-2 mt-auto w-full",children:[(0,v.tZ)(Mi,{}),(0,v.tZ)(Pn.l,{children:(0,v.tZ)(Yn,{})})]})]})]})]})})),(0,i.Z)(Tl,Di.ListDailyStreak,(function(e){var t,n,i,l,r,s,c=e.item,u=e.pkgVariant,m=(0,we.M)(),p=(0,On.useQueryClient)(),f=(0,Ce.XR)(),h=(0,Ce.aF)().user,g=(0,E.$G)().t,b=f&&(null===(t=f.inGroup)||void 0===t?void 0:t.state)===Se.KA.purchasable,y=f&&(null===(n=f.inGroup)||void 0===n?void 0:n.state)===Se.KA.owned,x=f&&(null===(i=f.inGroup)||void 0===i?void 0:i.state)===Se.KA.hidden,Z=f&&(null===(l=f.inGroup)||void 0===l?void 0:l.state)===Se.KA.unavailable,w=0,O=(0,a.useState)(!1),k=O[0],N=O[1],j=(0,a.useContext)(Zn.V),C=(0,vi.W)(c);if((0,a.useEffect)((function(){var e=(0,Pe.Do)(Pe.M2.userid)||(0,Pe.Do)(Pe.M2.token)||"";N(!!h||e.replace(/<|>/g,"").length>0)}),[f,h]),null===f||void 0===f||!f.promotion)return null;var P,S,I=(0,X.getMSecondsSinceEpoch)();return w=Z?null!==(P=f.promotion)&&void 0!==P&&P.start?f.promotion.start-I:0:null!==(S=f.promotion)&&void 0!==S&&S.end?f.promotion.end-I:0,(0,v.tZ)("div",{"data-testid":di.U8,"data-theme":j||"none",className:(0,o.Z)("rounded-lg w-full h-full shadow-xnear relative",ti().main,(y||x)&&"opacity-60",b&&ti().activePromotionTile),children:(0,v.BX)(hl,{timeout:w>0?w:0,onDone:function(){return p.refetchQueries({queryKey:["userSkus"]})},children:[(0,v.tZ)(ki,{messages:null!==(r=null===c||void 0===c||null===(s=c.marketingMessagesCollection)||void 0===s?void 0:s.items)&&void 0!==r?r:[],overrideAlignment:"Right"}),(0,v.BX)("div",{className:"flex p-3 gap-x-3 h-full",children:[(0,v.tZ)("div",{className:"shrink-0",children:(0,v.tZ)(Ze.E,{onClick:m,className:(0,o.Z)("h-auto w-20 md:w-24"),sizes:"10vw",src:(0,d.Jn)(null===c||void 0===c?void 0:c.square)||(0,d.Jn)(null===c||void 0===c?void 0:c.boxart)||"",alt:(0,d.EQ)(c)})}),(0,v.BX)("section",{className:"flex-grow flex flex-col gap-y-2",children:[(0,v.tZ)("span",{className:(0,o.Z)("text-body-m font-bold",ti().title),children:null===c||void 0===c?void 0:c.title}),(0,v.BX)(Jn,{children:[b&&(0,v.tZ)(Kn,{showIcon:!0}),(0,v.tZ)(Wn,{showIcon:!0,releaseDate:f.promotion.start})]}),(null===c||void 0===c?void 0:c.longDescription)&&(0,v.tZ)(B.D,{className:(0,o.Z)("text-body-s",(y||x)&&"opacity-50","prose-p:my-2 prose-strong:text-text-primary text-text-primary max-w-full prose prose-a:type-link hover:prose-a:type-link-hover prose-headings:text-text-primary prose-blockquote:text-text-primary"),children:null===c||void 0===c?void 0:c.longDescription}),(0,v.BX)("div",{className:"flex flex-col gap-y-2 mt-auto md:max-w-[16rem] empty:hidden",children:[!!C.length&&(0,v.tZ)(Ai,{type:u||"list",className:"max-h-[12rem] lg:max-h-[11.5rem]",items:C}),(0,v.tZ)(Mi,{}),k&&y&&(0,v.BX)("div",{className:"flex gap-y-2 w-full font-bold text-sm uppercase",children:[(0,v.tZ)(pl.Z,{className:"me-2 w-5 h-5"}),g("claimed")]}),x||y?null:(0,v.BX)(Pn.l,{disabled:!b,forceChildren:!0,children:[Z&&(0,v.tZ)(fl.F,{}),b&&g("claim")]}),k&&x&&(0,v.BX)("div",{className:(0,o.Z)("flex font-bold items-center text-sm uppercase",ti().missed),children:[(0,v.tZ)(Ol,{className:"text-xl me-2"}),(0,v.tZ)("span",{children:g("missed")})]})]})]})]})]})})})),(0,i.Z)(Tl,Di.GiganticDailyStreak,(function(e){var t,n,i,l,r,s,c,u,m=e.imageType,p=e.item,f=e.pkgVariant,h=(0,we.M)(),g=(0,Ce.aF)(),y=(0,Ce.XR)(),x=(0,E.$G)().t,Z=(0,On.useQueryClient)(),w=y&&(null===(t=y.inGroup)||void 0===t?void 0:t.state)===Se.KA.purchasable,O=y&&(null===(n=y.inGroup)||void 0===n?void 0:n.state)===Se.KA.owned,k=y&&(null===(i=y.inGroup)||void 0===i?void 0:i.state)===Se.KA.hidden,N=y&&(null===(l=y.inGroup)||void 0===l?void 0:l.state)===Se.KA.unclaimable,j=y&&(null===(r=y.inGroup)||void 0===r?void 0:r.state)===Se.KA.unavailable,C=(0,a.useState)(!1),P=C[0],S=C[1],I=(0,a.useContext)(Zn.V),D="transparent"===m,T=(0,X.getMSecondsSinceEpoch)(),_=0;w&&(_=null!==y&&void 0!==y&&null!==(u=y.promotion)&&void 0!==u&&u.end?y.promotion.end-T:0);var L=(0,vi.W)(p);return(0,a.useEffect)((function(){var e=(0,Pe.Do)(Pe.M2.userid)||(0,Pe.Do)(Pe.M2.token)||"";S(!!g||e.replace(/<|>/g,"").length>0)}),[y,g]),(0,v.tZ)("div",{"data-testid":b.U8,id:Ve.vG,"data-theme":I||"none",className:(0,o.Z)("rounded-lg w-full h-full shadow-xnear relative",D&&"p-4",ti().main,(O||k||N)&&"opacity-60",w&&ti().activePromotionTile),children:(0,v.BX)(hl,{timeout:_,onDone:children:[(0,v.tZ)(ki,{messages:null!==(s=null===p||void 0===p||null===(c=p.marketingMessagesCollection)||void 0===c?void 0:c.items)&&void 0!==s?s:[]}),(0,v.BX)("div",{className:(0,o.Z)("h-full flex flex-col space-y-4 relative"),children:[(0,v.tZ)(Ze.E,{onClick:h,sizes:"100vw sm:50vw md:25vw",className:(0,o.Z)("w-full rounded-t-lg",D?"object-contain max-h-[255px] w-auto":"object-cover"),src:(0,d.Jn)(null===p||void 0===p?void 0:p.largeTile),alt:(0,d.EQ)(p)}),(0,v.BX)("section",{className:(0,o.Z)("h-full w-full flex flex-col space-y-2",!D&&"px-4 pb-4"),children:[(0,v.tZ)("h3",{className:(0,o.Z)("text-body-m font-bold",ti().title),children:null===p||void 0===p?void 0:p.title}),(0,v.BX)(Jn,{children:[j&&(0,v.tZ)(Vn,{children:x("daily-streak-claim")}),w&&(0,v.tZ)(Kn,{showIcon:!0}),N&&(0,v.tZ)(Vn,{className:"opacity-60 !text-[inherit]",children:x("daily-streak-claim-failed")}),k&&(0,v.tZ)(Vn,{className:"opacity-60 !text-[inherit]",children:x("daily-streak-bonus-missed")})]}),(null===p||void 0===p?void 0:p.longDescription)&&(0,v.tZ)(B.D,{className:(0,o.Z)("text-body-s [&>:nth-child(2)]:mt-2 prose-p:my-2 prose-strong:text-text-primary text-text-primary max-w-full prose prose-a:type-link hover:prose-a:type-link-hover prose-headings:text-text-primary prose-blockquote:text-text-primary",ti().description),"data-testid":b.Kx,children:null===p||void 0===p?void 0:p.longDescription}),(0,v.BX)("div",{className:"flex flex-col space-y-2 mt-auto w-full empty:hidden",children:[!!L.length&&(0,v.tZ)(Ai,{type:f||"list",className:"max-h-[12rem] lg:max-h-[11.5rem]",items:L}),(0,v.tZ)(Mi,{}),P&&O&&(0,v.BX)("div",{className:"flex space-y-2 w-full font-bold text-sm uppercase",children:[(0,v.tZ)(pl.Z,{className:"me-2 w-5 h-5"}),x("claimed")]}),N||k||O?null:(0,v.BX)(Pn.l,{disabled:!w,forceChildren:!0,children:[j&&(0,v.tZ)(fl.F,{}),w&&x("claim")]}),(k||N)&&(0,v.BX)("div",{className:(0,o.Z)("flex font-bold items-center text-sm uppercase",ti().missed),children:[(0,v.tZ)(Ol,{className:"text-xl me-2"}),(0,v.tZ)("span",{children:x("missed")})]})]})]})]})]})})})),(0,i.Z)(Tl,Di.RedeemCode,(function(e){var t,n,i=e.imageType,l=e.pkgVariant,r=e.item,s=sn().redeemState,c=(0,a.useContext)(Zn.V),u=(0,E.$G)().t,m="transparent"===i,p=(0,vi.W)(r);return(0,v.BX)("div",{"data-testid":b.U8,"data-theme":c||"none",className:(0,o.Z)("rounded-lg w-full h-full shadow-xnear relative",m&&"p-4",ti().main),children:[(0,v.tZ)(ki,{messages:null!==(t=null===r||void 0===r||null===(n=r.marketingMessagesCollection)||void 0===n?void 0:n.items)&&void 0!==t?t:[]}),(0,v.BX)("div",{className:(0,o.Z)("h-full flex flex-col space-y-4 relative"),children:[(0,v.tZ)(Ze.E,{sizes:"100vw sm:50vw md:25vw",className:(0,o.Z)("w-full rounded-t-lg",m?"object-contain max-h-[255px] w-auto":"object-cover"),src:(0,d.Jn)(null===r||void 0===r?void 0:r.largeTile),alt:(0,d.EQ)(r)}),(0,v.BX)("section",{className:(0,o.Z)("h-full w-full flex flex-col space-y-2",!m&&"px-4 pb-4"),children:[(0,v.tZ)("h3",{className:"text-body-m font-bold",children:null===r||void 0===r?void 0:r.title}),(null===r||void 0===r?void 0:r.longDescription)&&(0,v.tZ)(B.D,{className:"text-body-s [&>:nth-child(2)]:mt-2","data-testid":b.Kx,children:null===r||void 0===r?void 0:r.longDescription}),(0,v.tZ)("div",{className:(0,o.Z)("w-full flex-col h-auto rounded-lg text-body-s [&::-webkit-scrollbar-track]:!bg-transparent flex empty:hidden",ti().tileGroupContent),children:(0,v.tZ)(Ai,{type:l||"list",className:"max-h-[10.5rem]",items:p})}),(0,v.BX)("div",{className:"flex flex-col space-y-2 mt-auto w-full empty:hidden",children:[(0,v.tZ)(Mi,{}),s===cn._w.Succeeded&&(0,v.BX)("div",{className:"flex space-y-2 w-full font-bold text-sm uppercase",children:[(0,v.tZ)(pl.Z,{className:"me-2 w-5 h-5"}),u("claimed")]})]})]})]})]})})),Tl);function Gl(e){var t,n,i,l,r,c,u,m,p=e.item,f=(0,je.TA)(),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,Fe.useRouter)(),n=(0,s.H)().checkoutProvider,i=(0,On.useQueryClient)(),l=(0,a.useState)(e),r=l[0],o=l[1],d=(0,a.useRef)(e),c=(0,a.useCallback)((function(e){if(e&&d.current!==e){d.current=e;var l=function(){"direct_pay"===n?t.replace(t.asPath).then((function(){o(e)})):i.refetchQueries({queryKey:["userSkus"]}).then(()};document.hidden?document.addEventListener("visibilitychange",(function e(){document.removeEventListener("visibilitychange",e),document.hidden||l()})):l()}}),[t,n,i]);return(0,a.useMemo)((,[r,c])}(),g=(0,yn.Z)(h,2),y=g[0],x=g[1],Z=(0,a.useCallback)((function(e){document.getElementById("zdp")||document.getElementsByClassName("xpaystation-widget-lightbox-content-iframe").length>0||x(e)}),[x]),w=(0,Ce.aF)().user,O=null===(t=p.header)||void 0===t?void 0:t.text,k=("list"===p.packageContentsVariant?"list":"boxed"===p.packageContentsVariant&&"boxed")||"inline"===p.packageContentsVariant&&"inline"||"grid"===p.packageContentsVariant&&"grid"||null,N=("transparent"===p.tileImageType?"transparent":"opaque"===p.tileImageType&&"opaque")||"opaque",j=ll(p),C=p.preText,S=p.postText,E=p.bg,B=(0,a.useMemo)((function(){return(0,d.Jn)(E)}),[E]),T=B?"url('".concat(B,"')"):"",_=[],X=p.defaultViewType,A=null===p||void 0===p?void 0:p.packageContentsVariant,M=(0,a.useMemo)((function(){var e,t,n,i,l,r;return null!==(e=p.tileGroupsCollection)&&void 0!==e&&null!==(t=e.items)&&void 0!==t&&t.length?null!==(n=null===(i=p.tileGroupsCollection)||void 0===i?void 0:i.items)&&void 0!==n?n:[]:null!==(l=null===(r=p.itemsCollection)||void 0===r?void 0:r.items)&&void 0!==l?l:[]}),[null===(n=p.tileGroupsCollection)||void 0===n?void 0:n.items,null===(i=p.itemsCollection)||void 0===i?void 0:i.items]),G=(0,wn.Z)({tiles:M}),R=G.displayAttr;if(!G.displayListView)return null;for(var F=function(e){var t,n,i,l,r=M[e],o=null!==(t=null===r||void 0===r||null===(n=r.sys)||void 0===n?void 0:n.id)&&void 0!==t?t:"",a=null,s=p.defaultViewType,d=j.get(o)||j.get("".concat(e))||(null===p||void 0===p||null===(i=p.layoutPalette)||void 0===i||null===(l=i.sys)||void 0===l?void 0:l.id)||"";if("TileGroup"===(null===r||void 0===r?void 0:r.__typename)){var c,u,m,h,g=null!==(c=p.tileGroupsToItems)&&void 0!==c?c:{},b=new Set(null!==(u=g[o])&&void 0!==u?u:[]),y=null===(m=p.itemsCollection)||void 0===m||null===(h=m.items)||void 0===h?void 0:h.filter((function(e){var t,n,i;return(null===e||void 0===e||null===(t=e.sys)||void 0===t?void 0:t.id)&&b.has(e.sys.id)&&(null===f||void 0===f?void 0:f[null!==(n=null===(i=e.sys)||void 0===i?void 0:i.id)&&void 0!==n?n:""])}));if(r&&(0,D.E)(y).length&&N&&j){var x={tileGroup:r,tileItems:(0,D.E)(y),imageType:N,paletteMap:j},Z=Al[s];a=Z?(0,v.tZ)(Z,Xl({},x)):null}}if("Item"===(null===r||void 0===r?void 0:r.__typename)){var O,C,P,S,I;if((null===f||void 0===f||null===(O=f[o])||void 0===O?void 0:O.find(())&&!w)return"continue";if(null===f||void 0===f||!f[null!==(C=null===(P=r.sys)||void 0===P?void 0:P.id)&&void 0!==C?C:""])return"continue";var E={pkgVariant:k,item:r,imageType:N,shouldTileFlip:!!p.shouldTileFlip,additionalData:null===p||void 0===p||null===(S=p.additionalDataCollection)||void 0===S||null===(I=S.items)||void 0===I?void 0:I[0]};X===Di.DailyStreak&&(s=e<M.length-1?Di.ListDailyStreak:Di.GiganticDailyStreak),X===Di.Table&&(s=Di.Table);var B=Ml[s];if(a=B?(0,v.tZ)(B,Xl({},E)):null,s===Di.Floating){var T,L,A=null===p||void 0===p||null===(T=p.additionalDataCollection)||void 0===T||null===(L=T.items)||void 0===L?void 0:L.find((function(e){return function(e,t){if("list-view-floating"===(null===e||void 0===e?void 0:e.key)){var n,i,l=(0,tn.M)(e);return null===l||void 0===l||null===(n=l.referenceItem)||void 0===n||null===(i=n.sys)||void 0===i?void 0:i.id,t)}}(e,o)})),G={additionalData:A};a=(0,v.tZ)(ai,Xl({},G))}if(a){var R,F,H=r;a=(0,v.tZ)(xn.O,{showAgeGate:(null===H||void 0===H||null===(R=H.regionalRating)||void 0===R?void 0:R.showAgeGate)||!1,minimumAge:(null===H||void 0===H||null===(F=H.regionalRating)||void 0===F?void 0:F.minimumAge)||0,children:(0,v.tZ)(ze.n,{value:H,children:(0,v.tZ)(Ne.R,{children:(0,v.tZ)(Dn,{children:a})})})})}}a&&_.push((0,v.tZ)(Zn.V.Provider,{value:d,children:a},o))},H=0;H<M.length;H+=1)F(H);if(0===_.length)return null;var V=(X===Di.DailyStreak?"daily-streak-view":X===Di.ProgressionTable&&"table-view")||X===Di.Table&&"table-view"||!!p.itemData&&Object.keys(p.itemData).length&&"mixed-view"||X===Di.Floating&&"floating-view"||"default-view";return _.length?(0,v.BX)(L.P,{"data-theme":null!==(l=null===(r=p.layoutPalette)||void 0===r||null===(c=r.sys)||void 0===c?void 0:c.id)&&void 0!==l?l:"none",slug:p.slug||(0,I.U)(O),title:p.headerH1&&O?(0,v.tZ)("h1",{children:O}):O,style:T?{backgroundImage:T}:void 0,css:E&&bt.mu,children:[R===wn.z.None&&(0,v.tZ)("div",{className:"mb-6 -mt-4 text-body-s text-text-primary-80 [&_a]:text-link",children:(0,v.tZ)(P.H,{document:null===C||void 0===C?void 0:C.json})}),(0,v.BX)(An.Provider,{value:Z,children:[R!==wn.z.None&&(0,v.tZ)(ml,{preText:C,firstTileId:null===M||void 0===M||null===(u=M[0])||void 0===u||null===(m=u.sys)||void 0===m?void 0:m.id,displayAttr:R}),"floating-view"===V&&(0,v.tZ)("div",{className:"fixed bottom-3 left-2 rtl:left-[unset] rtl:right-2",children:(0,v.tZ)("div",{className:"flex flex-row gap-x-1",children:_})}),"table-view"===V&&(0,v.tZ)(vl,{item:p,children:_}),"daily-streak-view"===V&&(0,v.tZ)(kn.B.Provider,{value:M,children:(0,v.tZ)(si,{item:p,children:_})}),"mixed-view"===V&&(0,v.tZ)(al,{item:p,packageContentsVariant:A,children:_}),"default-view"===V&&(0,v.tZ)("div",{"data-testid":b.Aq,className:(0,o.Z)("grid gap-4 h-full",X===Di.BoxArt?"grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 3xl:grid-cols-6":"grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 3xl:grid-cols-4"),children:_})]}),S&&(0,v.tZ)("div",{className:"mt-6 text-body-s",children:(0,v.tZ)(P.H,{document:null===S||void 0===S?void 0:S.json})})]},y):null}function Rl(e){var t,n=e.model,i=(0,E.$G)().t,l=(0,a.useState)(!1),r=l[0],o=l[1],s=(0,Ce.aF)().user,d=(null===s||void 0===s?void 0:s.userId)||(0,Pe.Do)(Pe.M2.userid),c=(0,Ce.aC)().getValidAccessToken,u=sn(),m=u.code,f=u.listViewItem,g=u.skuId,b=u.setRedeemState,y=(0,a.useCallback)((0,p.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:return t=e.sent,e.next=5,(0,cn.AC)(t,(null===s||void 0===s?void 0:s.userId)||"",g,m);case 5:e.sent.ok?b(cn._w.Succeeded):b(cn._w.Failed);case 7:case"end":return e.stop()}}),e)}))),[m,c,g,null===s||void 0===s?void 0:s.userId,b]);return(0,v.BX)(v.HY,{children:[(0,v.tZ)(L.P,{children:(0,v.tZ)(w.H,{className:"type-headline-l 3xl:type-headline-xl pb-2 w-full",children:n.confirmFormTitle.locText})}),(0,v.BX)("div",{className:"mt-3 flex-col space-y-7",children:[f.promotionUIs.map((function(e){return(0,v.tZ)(Gl,{item:e},e.sys.id)})),(0,v.BX)(L.P,{children:[(0,v.BX)("div",{className:"flex items-center cursor-pointer",children:[(0,v.tZ)(gn.fC,{id:"legal",className:"shrink-0 me-2 h-6 w-6 appearance-none flex items-center justify-center rounded border-current border-2 outline-none",checked:r,onCheckedChange:children:(0,v.tZ)(gn.z$,{children:(0,v.tZ)(bn.Z,{className:"text-current text-3xl"})})}),(0,v.tZ)("label",{className:"select-none cursor-pointer text-sm",htmlFor:"legal",children:(0,v.tZ)(B.D,{children:null===(t=f.legalText)||void 0===t?void 0:t.text})})]}),(0,v.tZ)("button",{onClick:y,type:"button",disabled:!r,className:"btn bg-primary text-button-text text-button-m mt-5 w-full lg:w-fit",children:d?n.confirmFormButtonText.locText:i("connect-id")})]})]})]})}function Fl(e){var t=e.model,n=(0,E.$G)().t,i=sn(),l=i.setCode,r=i.listViewItem,o=i.setListViewItem,a=i.setSkuId,d=i.setRedeemState,c=(0,s.H)(),u=function(){var e=(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He().push({pathname:c.storeRoot});case 2:l(""),d(null),o({legalText:{},promotionUIs:[]}),a("");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.BX)(v.HY,{children:[(0,v.BX)(L.P,{children:[(0,v.tZ)(w.H,{className:"type-headline-l 3xl:type-headline-xl pb-2 w-full",children:n("Success!")}),(0,v.tZ)("div",{children:t.successFormDescription.locText})]}),(0,v.BX)("div",{className:"mt-3 flex-col space-y-7",children:[r.promotionUIs.map((),(0,v.tZ)(L.P,{children:(0,v.tZ)("button",{onClick:u,type:"button",className:"btn bg-primary text-button-text text-button-m mt-5 w-full lg:w-fit",children:t.successFormButtonText.locText})})]})]})}function Hl(e){var t=e.model,n=sn().redeemState;return(0,v.tZ)("main",{children:(0,v.tZ)("div",{className:"mx-auto mt-5",children:(0,v.tZ)(Ne.R,{children:(0,a.useCallback)((function(){switch(n){case cn._w.Eligible:return(0,v.tZ)(Rl,{model:t});case cn._w.Succeeded:return(0,v.tZ)(Fl,{model:t});case cn._w.Failed:return(0,v.tZ)(dn,{model:t});case cn._w.Redeemed:default:return(0,v.tZ)(hn,{model:t})}}),[n])()})})})}!Ll||(Ll={}));var Vl=n(45251),zl=n(42477),ql=n(28535),Ul=n(4576),Wl=n(58082),Kl=n(8371),Jl=n(1706),Ql=["sys","articleCollection","__typename"];function $l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Yl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var er=(0,g.css)("max-width:100%; div&{padding-left:0px;padding-right:0px;;}>section>header,>section>section>header,>section>section>footer{",bt.FG,";}"),tr=(0,g.css)("@media (min-width: ",y.rG,"px){>div:first-of-type{padding-top:3rem;}>div:last-of-type{padding-bottom:3rem;}}"),nr={name:"9sf63n",styles:">div>div>div:first-of-type{width:100%;height:15.5rem;}"};var ir=n(98749),lr=n(11625),rr=n(1720),or=n(37073),ar=(0,g.css)("height:100%;background-color:rgba(var(--color-neutral-100-rgb), 0.7); picture{padding-bottom:",87.5,"%;img{object-fit:fill;;}}");function sr(e){var t=e.item,n=(0,d.Jn)(null===t||void 0===t?void 0:t.primaryArt);return(0,v.BX)(or.n,{backgroundUrl:n,css:ar,children:[(0,v.tZ)(w.H,{className:"mb-1",children:null===t||void 0===t?void 0:t.title}),(0,v.tZ)("section",{className:"type-body-s",children:(0,v.tZ)("span",{children:null===t||void 0===t?void 0:t.description})})]})}var dr=(0,$e.c)(),cr={marginTop:"1rem",fontWeight:"normal",color:"rgba(var(--text-color-primary-rgb), 0.8)",fontSize:".688rem",lineHeight:"150%",textTransform:"none",letterSpacing:"0.05rem"};var ur=n(71111),vr=n(80215),mr=n(22721),pr=n(93754),fr=n(70989),hr=n(73735),gr=n(63902),br=n(39413),yr=n(17891),xr=n(97973),Zr=["item","idx","imagePerRow","onItemClick","visibleItems"];function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kr,Nr=(0,g.css)("position:static;height:0px; padding-bottom:",56.25,"%;img{position:absolute;inset:0px;;}div{background-color:rgba(var(--color-black-rgb), 0.5);}");function jr(e){var t=e.item,n=e.idx,i=e.imagePerRow,r=e.onItemClick,o=e.visibleItems,s=(0,l.Z)(e,Zr),d=(0,a.useState)(n<o),c=d[0],u=d[1],m=(0,xr.YD)({fallbackInView:!1,initialInView:c,skip:c}),p=m.ref,f=m.inView;return(0,a.useEffect)((,[f]),(0,v.tZ)("div",Or(Or({css:(0,br.l)()},s),{},{children:(0,v.tZ)("button",{ref:p,className:"bg-neutral-100 relative w-full h-full overflow-hidden rounded-lg",type:"button",onClick:r,"data-index":n,children:(0,v.tZ)(yr.b,{css:Nr,media:t,isLowRes:!c&&!f,imagePerRow:i})})}))}function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!kr||(kr={}));function Sr(e,t,n){return e?0===t?2:n/2:n}var Ir=(0,g.css)(">div>section>div:first-of-type{@media (max-width: ",y.Tt-1,"px){width:calc(75% + 4rem + (32px));}}");var Dr=n(58550);function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tr=function(e){return(0,v.tZ)("svg",Br(Br({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{},{children:(0,v.tZ)("path",{fill:"currentColor",d:"M9.29 15.88 13.17 12 9.29 8.12a.996.996 0 1 1 1.41-1.41l4.59 4.59c.39.39.39 1.02 0 1.41L10.7 17.3a.996.996 0 0 1-1.41 0c-.38-.39-.39-1.03 0-1.42Z"})}))},_r=n(3548),Xr=n(48198),Lr=n.n(Xr),Ar=n(91758),Mr=n(29084),Gr=n(77583),Rr=n(26877),Fr=n(30971),Hr=n(46621),Vr=["className","isOpen","isErrored","isLoading","close","labelClose","article","message","buttonLabel","retry","locale"];function zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ur(e){var t,n=e.className,i=e.isOpen,r=e.isErrored,o=e.isLoading,a=e.close,s=e.labelClose,d=e.article,c=e.message,u=e.buttonLabel,m=e.retry,p=e.locale,f=(0,l.Z)(e,Vr),h=(0,Ul.sZ)(d,p);return(0,v.tZ)(jn.e,{className:n,isOpen:o||i,requestClose:a,labelClose:s,children:(0,v.BX)("section",{className:"overflow-y-scroll overflow-x-hidden h-full py-12",children:[(r||o)&&(0,v.tZ)("div",{className:"h-full w-full flex items-center justify-center flex-col",children:(0,v.tZ)("div",{className:"fill-current mb-1",children:(0,v.tZ)(Rr.d,{fetching:o,error:r,errorMessage:c,errorActionLabel:u,errorAction:m})})}),!r&&!o&&(0,v.tZ)(Fr.d,qr({article:h,info:(0,v.tZ)(Hr.r,{className:"mt-8",categories:null===h||void 0===h?void 0:h.categories,tags:null===h||void 0===h?void 0:h.tags})},f),(null===d||void 0===d||null===(t=d.sys)||void 0===t?void 0:t.id)||"")]})})}var Wr=n(13708),Kr=["title","date","isVideoPreview","backgroundUrl","onItemClick","item"];function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $r(e){var t=e.title,n=e.date,i=e.isVideoPreview,r=e.backgroundUrl,o=e.onItemClick,a=e.item,s=(0,l.Z)(e,Kr);return(0,v.tZ)("a",Qr(Qr({href:"".concat((0,Mr.GG)(a.slug||"")?"/":"/news/").concat(null===a||void 0===a?void 0:a.slug),className:"!appearance-none flex cursor-pointer text-left",type:"button",onClick:o,"data-article":null===a||void 0===a?void 0:a.slug},s),{},{"data-testid":"".concat(b.Ys,"-").concat((0,d.km)(a)),children:(0,v.tZ)(Wr.l,{maxImageWidth:Ve.QK,title:t,date:n,isVideoPreview:i,backgroundUrl:r})}))}function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var to={display:"flex",alignItems:"center"},no={name:"fy9po1",styles:"button{--color-button-text:var(--color-button-text-override, var(--color-white));}"};function io(e){var t=e.children,n=e.buttonClasses,i=e.disabled,l=e.lightMode,r=void 0!==l&&l,a=e.nextPage,s=e.setPage,d=(0,Fe.useRouter)();return(0,v.tZ)(Lr(),{href:{pathname:d.pathname,query:eo(eo({},d.query),{},{page:a})},scroll:!0,children:(0,v.tZ)("button",{className:(0,o.Z)("flex flex-col w-10 h-10 justify-center items-center font-bold border rounded",r?"border-black-50 text-black":"border-white-50 text-white",!i&&(r?"hover:bg-black-10":"hover:bg-white-10"),n),type:"button",disabled:i,onClick:function(){return s(a)},children:t})})}var lo=ro={name:"s9m3k7",styles:"margin-top:1.5rem;font-weight:normal;font-size:0.875rem;line-height:150%;color:rgba(var(--text-color-primary-rgb), 0.8);text-transform:none;letter-spacing:normal"};var oo=n(41167),ao=n(2249),so=n(27127),co=n(49698),uo=n(41393),vo=n(18427),mo=n(80103),po=n(48173);function fo(e){var t=window.OneSignal;if(!t)throw new Error("OneSignal not initialized");var n=e.split("?"),i=(0,yn.Z)(n,2)[1],l=new URLSearchParams(i),r=Object.fromEntries(l.entries());if("function"!==typeof t[e])throw new Error("Invalid OneSignal function ".concat(e,". See: https://documentation.onesignal.com/docs/web-push-sdk"));t[e].call(t,r)}function ho(){return go.apply(this,arguments)}function go(){return(go=(0,p.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.OneSignal){e.next=3;break}return e.abrupt("return",!1);case 3:if(e.t0=t.isPushNotificationsSupported(),!e.t0){e.next=9;break}return e.next=7,t.getNotificationPermission();case 7:e.t1=e.sent,e.t0="default"===e.t1;case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bo(){return yo.apply(this,arguments)}function yo(){return(yo=(0,p.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.OneSignal){e.next=3;break}return e.abrupt("return",!1);case 3:return e.abrupt("return",t.isPushNotificationsEnabled());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xo(e,t){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,p.Z)(h().mark((function e(t,n){var i,l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i=window.OneSignal)){e.next=8;break}return e.next=5,i.getUserId();case 5:if(!(l=e.sent)){e.next=8;break}return e.abrupt("return",fetch("/onesignal/alias?subId=".concat(l,"&label=").concat(t,"&value=").concat(n),{method:"PATCH"}));case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function wo(e,t){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,p.Z)(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.OneSignal){e.next=4;break}return e.abrupt("return",fetch("/onesignal/alias?label=".concat(t,"&value=").concat(n),{method:"GET"}).then(());case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function ko(){return No.apply(this,arguments)}function No(){return(No=(0,p.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.OneSignal)){e.next=3;break}return e.abrupt("return",t.getExternalUserId());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}unction Co(){return(Co=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=window.OneSignal)){e.next=4;break}return e.next=4,n.setExternalUserId(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Po(){return(Po=(0,p.Z)(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(n=window.OneSignal)||void 0===n||n.on("notificationPermissionChange",(function(e){var n=e.to;setTimeout((,5e3)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}unction Io(){return(Io=(0,p.Z)(h().mark((function e(){var t,n,i,l,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([bo(),ho()]);case 2:return t=e.sent,n=(0,yn.Z)(t,2),i=n[0],l=n[1],r={isCanPrompt:l,isSubscribed:i},e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Do=n(35757),Eo=n(38817),Bo=n(139),To=n.n(Bo);function _o(e){var t,n,i,l=e.item,r=e.iPad,a=e.onClose;return(0,v.tZ)("div",{"data-theme":null!==(t=null===l||void 0===l||null===(n=l.palette)||void 0===n||null===(i=n.sys)||void 0===i?void 0:i.id)&&void 0!==t?t:"none",children:(0,v.BX)("div",{className:(0,o.Z)("flex m-4 p-4 rounded !fixed",To().popup,r?To().popupTop:To().popupBottom),children:[(0,v.tZ)("button",{type:"button",className:"absolute right-3 top-2 text-sm",onClick:a,children:"\u2715"}),(0,v.tZ)("div",{className:"h-14 mr-4 place-self-center aspect-square",children:(0,v.tZ)(Do.c,{image:null===l||void 0===l?void 0:l.popupImage})}),(0,v.tZ)(B.D,{className:"[&_img]:inline [&_img]:px-1",children:(null===l||void 0===l?void 0:l.popupText)||""})]})})}var Xo=n(7716),Lo="push_notification";function Ao(e){var t,n,i,l,r,s=e.item,d=(0,a.useState)(!1),c=d[0],u=d[1],m=(0,a.useState)(!1),p=m[0],f=m[1],h=(0,a.useState)(!1),g=h[0],b=h[1];(0,a.useEffect)((function(){u((0,vo.H)()&&ke().mac||ke().ipad)}),[]);var y=(0,Xo.jZ)(),x=(0,a.useContext)(uo.t),Z=x.setContent,w=x.setIsOpen,O=s.enableNotificationTitle,k=s.rewardClaimTitle,N=s.rewardClaimBody,j=s.addToHomeScreenButton,C=s.popupImage,P=s.repromptTimeout;(0,a.useEffect)((function(){var e=ke().ios,t=ke().android,n=ke().mobile;f((n&&(e||t&&y)||c)&&!(0,Wl.Ee)()&&!(0,Wl.FJ)("add-to-home-prompt-dismissed"))}),[y,c]);var S=(0,a.useCallback)((function(){(0,po.l)(Lo,Lo,"dismiss_main_banner"),(0,Wl.Sf)("add-to-home-prompt-dismissed",P),f(!1)}),[P]),I=(0,E.$G)().t,D=(0,a.useCallback)((function(){(0,po.l)(Lo,Lo,"click_add_to_home");var e=ke().ios,t=ke().android,n=ke().safari;if(e||c)if(n)b(!0);else{var i,l,r,a=(0,v.tZ)(Eo.P,{hideHeader:!0,children:(0,v.BX)("div",{"data-theme":null!==(i=null===s||void 0===s||null===(l=s.palette)||void 0===l||null===(r=l.sys)||void 0===r?void 0:r.id)&&void 0!==i?i:"none",className:(0,o.Z)("p-4 rounded-lg relative",To().modal),children:[(0,v.tZ)("div",{className:"grow mb-5",children:(0,v.tZ)("div",{className:"flex mb-5 lg:mb-0",children:(0,v.tZ)("div",{className:"text-xl font-bold place-self-center mr-3",children:null!==k&&void 0!==k?k:""})})}),(0,v.BX)("div",{className:"mb-5",children:[" ",null!==N&&void 0!==N?N:""]}),j&&(0,v.tZ)("div",{className:"place-self-center lg:mr-5",children:(0,v.tZ)("button",{type:"button",className:(0,o.Z)("btn text-button-m w-full",To().button),onClick:children:I("Close")})})]})});null===Z||void 0===Z||Z(a),null===w||void 0===w||w(!0)}if(t){var d=y;d&&d.prompt&&d.prompt()}}),[c,null===s||void 0===s||null===(t=s.palette)||void 0===t||null===(n=t.sys)||void 0===n?void 0:n.id,k,N,j,I,Z,w,y]);return p?(0,v.BX)("div",{children:[(0,v.tZ)(Eo.P,{hideHeader:!0,children:(0,v.BX)("div",{"data-theme":null!==(i=null===s||void 0===s||null===(l=s.palette)||void 0===l||null===(r=l.sys)||void 0===r?void 0:r.id)&&void 0!==i?i:"none",className:(0,o.Z)("p-4 rounded-lg sm:flex relative",To().main),children:[(0,v.BX)("div",{className:"grow mb-5",children:[(0,v.tZ)("button",{type:"button",className:"absolute top-2 right-3 cursor",onClick:S,children:"\u2715"}),(0,v.BX)("div",{className:"flex mb-5 lg:mb-0",children:[(0,v.tZ)("div",{className:"h-14 w-14 aspect-square mr-4 [&_img]place-self-center place-self-center",children:(0,v.tZ)(Do.c,{image:C})}),(0,v.tZ)("div",{className:"text-xl font-bold place-self-center mr-3",children:O})]})]}),j&&(0,v.tZ)("div",{className:"place-self-center lg:mr-5",children:(0,v.tZ)("button",{type:"button",className:(0,o.Z)("btn text-button-m w-full",To().button),onClick:D,children:j})})]})}),g&&(0,v.tZ)(_o,{item:s,iPad:c,onClose:function(){(0,po.l)(Lo,Lo,"dismiss_iOS_add_to_home_banner"),b(!1)}})]}):null}ar Go=n(17947);function Ro(e){var t,n,i,l,r=e.item,s=e.onClose,d=e.onRedeemed,c=e.onError,u=(0,E.$G)().t,m=(0,Ce.aF)().user,f=(0,Ce.aC)().getValidAccessToken,g=(0,a.useState)(""),b=g[0],y=g[1],x=(0,a.useState)(""),Z=x[0],w=x[1],O=(0,a.useContext)(uo.t).setIsOpen,k=(0,On.useQuery)(["item",r],(0,p.Z)(h().mark((function e(){var t,n,i,l,o,a,s,v,p,g,b;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(null===(t=r.reward)||void 0===t||null===(n=t.sys)||void 0===n?void 0:n.id)||"",e.next=3,f();case 3:return l=e.sent,e.next=6,(0,cn.s)(l,i);case 6:return o=e.sent,e.next=9,(0,cn.AC)(l,(null===m||void 0===m?void 0:m.userId)||"",o);case 9:if((a=e.sent).ok){e.next=26;break}if(403!==a.status){e.next=17;break}y(u("offer-claimed")),w(u("offer-claimed-desc")),(0,po.l)("push_notification","push_notification","reward_already_claimed",(null===(s=r.reward)||void 0===s?void 0:s.internalName)||""),e.next=24;break;case 17:return e.t0="Failed to claim offer ".concat(o,": ").concat(a.status,": "),e.next=20,a.text();case 20:e.t1=e.sent,p=e.t0.concat.call(e.t0,e.t1),c?c(new Error(p)):(y(u("offer-error")),w(u("offer-error-desc"))),(0,po.l)("push_notification","push_notification","reward_claim_failed",(null===(v=r.reward)||void 0===v?void 0:v.internalName)||"");case 24:e.next=31;break;case 26:y(r.rewardPopupClaimedTitle||u("claim-offer-title-success")),b=(r.rewardPopupClaimedBody||"").replace("{{player_id}}",(null===m||void 0===m?void 0:m.displayName)||"").replace("{{account_id}}",(null===m||void 0===m?void 0:m.gamePlayerId)||""),w(b),d(),(0,po.l)("push_notification","push_notification","reward_claim_succeeded",(null===(g=r.reward)||void 0===g?void 0:g.internalName)||"");case 31:case"end":return e.stop()}}),e)}))),{enabled:!0,retry:!1,refetchOnWindowFocus:!1}),N=k.isError,j=k.isFetching,C=k.error;return(0,v.tZ)("section",{"data-theme":null!==(t=null===r||void 0===r||null===(n=r.palette)||void 0===n||null===(i=n.sys)||void 0===i?void 0:i.id)&&void 0!==t?t:"none",className:(0,o.Z)("modal",To().modal),children:(0,v.BX)("div",{className:"h-full w-full flex items-center justify-center flex-col",children:[(j||N)&&(0,v.tZ)("div",{className:"fill-current px-20",children:(0,v.tZ)(Rr.d,{fetching:j,error:N,errorHeader:u("offer-error"),errorIcon:(0,v.tZ)(Go.F,{}),errorActionLabel:u("confirm"),errorAction:function(){null===O||void 0===O||O(!1),null===c||void 0===c||c(C)},errorMessage:u("offer-error-desc")})}),!j&&!N&&(0,v.BX)("div",{className:"px-10 py-12 text-center",children:[(0,v.tZ)("h2",{className:"text-2xl my-5",children:b}),(0,v.tZ)(B.D,{className:"my-3",children:Z}),(0,v.tZ)("div",{className:"w-32 aspect-square mx-auto my-6",children:(0,v.tZ)(Do.c,{image:null===(l=r.reward)||void 0===l?void 0:l.boxart})}),(0,v.tZ)("button",{type:"button",className:(0,o.Z)("btn text-button-m w-full my-5",To().button),onClick:function(){null===O||void 0===O||O(!1),null===s||void 0===s||s()},children:r.returnToGameButton||u("confirm")})]})]})})}var Fo={content:{width:"42rem",height:"max-content",position:"relative"},overlay:{display:"flex",justifyContent:"center",alignItems:"center"}};function Ho(e){var t=e.children;return t?(0,v.tZ)(B.D,{className:"[&_a]:type-link hover:[&_a]:type-link-hover",children:t}):null}unction zo(){try{return JSON.parse(localStorage.getItem("meta")||"{}")}catch(e){return{}}}function qo(e){return e?(0,v.tZ)("div",{className:"mr-3",children:(0,v.tZ)(oo.B,{})}):(0,v.tZ)("div",{className:"mr-3",children:(0,v.tZ)(ao.X,{})})}function Uo(e){var t,n,i,l,r,d,c,u,m,f,g=e.item,b=(0,Ce.aC)().getValidAccessToken,y=(0,Ce.aF)().user,x=(0,a.useState)("none"),Z=x[0],w=x[1],O=(0,a.useContext)(uo.t),k=O.setContent,N=O.setIsOpen,j=(0,a.useState)(!1),C=j[0],P=j[1],S=(0,we.M)(),I=(0,a.useState)(!0),D=I[0],E=I[1],B=((0,s.H)().applicationId||"").toLowerCase(),T=(0,Fe.useRouter)(),_=(0,a.useState)(!1)[1],X=T.query,L=X.bpId,A=X.bpKey,M=(0,a.useState)(!1),G=M[0],R=M[1],F=(0,a.useState)(!1),H=F[0],V=F[1],z=(0,a.useState)(!1),q=z[0],U=z[1],W=(0,a.useCallback)(function(){var e=(0,p.Z)(h().mark((function e(t,n){var i,l,r,o,a,s,d;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(window.location.origin,"/bounce-poll/app/").concat(B,"/").concat(t,"?bpTime=").concat(n),e.next=3,fetch(i);case 3:if(l=e.sent,200!==l.status){e.next=19;break}return e.next=8,l.json();case 8:return r=e.sent,o=r.token,e.next=12,(0,mo.jQ)();case 12:return a=e.sent,e.next=15,(0,mo.jl)(o,a);case 15:s=e.sent,d=JSON.stringify({bpId:t,bpTime:Date.now()}),localStorage.setItem("bpContext",d),o&&(document.cookie=(0,Pe.ln)(Pe.M2.token,"".concat(s)),_(!0));case 19:case"end":return e.stop()}}),e)})));return (),[B]),K=(0,a.useCallback)((0,p.Z)(h().mark((function e(){var t,n,i,l,r,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===y||void 0===y||!y.userId){e.next=17;break}return e.next=3,b();case 3:return i=e.sent,e.next=6,(0,cn.s)(i,(null===(t=g.reward)||void 0===t||null===(n=t.sys)||void 0===n?void 0:n.id)||"");case 6:return l=e.sent,e.next=9,(0,cn.zk)(i,y.userId,l);case 9:if(!(r=e.sent).ok||200!==r.status){e.next=16;break}return e.next=13,r.json();case 13:if(!(o=e.sent).eligible||o.redeemed){e.next=16;break}return e.abrupt("return",!0);case 16:return e.abrupt("return",!1);case 17:return e.abrupt("return",void 0);case 18:case"end":return e.stop()}}),e)}))),[b,null===(t=g.reward)||void 0===t||null===(n=t.sys)||void 0===n?void 0:n.id,null===y||void 0===y?void 0:y.userId]),J=(0,a.useCallback)((function(e){var t;(0,po.l)("push_notification","push_notification",e,(null===(t=g.reward)||void 0===t?void 0:t.internalName)||"")}),[g]),Q=(0,a.useCallback)((0,p.Z)(h().mark((function e(){var t,n,i,l,r,o,a,s,d,c,u,v,m,p,f,g,b;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ke().ios,n=ke().safari,i=ke().android,l=ke().chrome,r=ke().mobile,t&&n||G&&!r&&n||i&&r&&l){e.next=4;break}return w("none"),e.abrupt("return");case 4:if(!(0,Wl.FJ)("notification-prompt-dismissed")){e.next=7;break}return w("none"),e.abrupt("return");case 7:if(r||G){e.next=10;break}return w("desktop-browser"),e.abrupt("return");case 10:return e.next=12,K();case 12:return o=e.sent,a=void 0!==o,s=(0,Wl.FJ)("notification-reward-claimed"),e.next=17,So();case 17:if(d=e.sent,c=d.isCanPrompt,u=d.isSubscribed,null===y||void 0===y||!y.userId){e.next=33;break}if(!B||!u){e.next=33;break}return v=y.userId,e.next=25,ko();case 25:if(e.sent){e.next=31;break}return e.next=28,wo(B,v);case 28:return f=e.sent,e.next=31,jo(null!==(m=null===f||void 0===f||null===(p=f.identity)||void 0===p?void 0:p.external_id)&&void 0!==m?m:(0,co.Z)());case 31:return e.next=33,xo(B,v);case 33:t||G?((g=(0,Wl.Ee)())&&u&&Vo({notificationSubscribed:!0}),b=u,g||!0===zo().notificationSubscribed&&(b=!0),g||b?w(g&&c&&!b?"ios-enable-notification":!g||c||b?o&&a?"redeem-reward":!o&&a&&s?"redeemed-reward":"none":"notification-blocked"):(w("ios-install-pwa"),y&&J("notification_banner_impression"))):i&&(c&&!u?(w("enable-notification"),y&&J("notification_banner_impression")):w(c||u?o&&a?"redeem-reward":!o&&a&&s?"redeemed-reward":"none":"notification-blocked"));case 34:case"end":return e.stop()}}),e)}))),[G,K,y,B,J]);(0,a.useEffect)((function(){R(!0===((0,vo.H)()&&ke().mac||ke().ipad)),Q()}),[Q]),(0,a.useEffect)((function(){var e=ke().ios,t=ke().safari,n=ke().android,i=ke().chrome,l=ke().mobile;if(D&&(e&&t||G&&!l&&t||n&&l&&i)&&(0,Wl.Ee)()){A&&"string"===typeof A&&localStorage.setItem("bpKey",A);try{var r,o=JSON.parse(null!==(r=localStorage.getItem("bpContext"))&&void 0!==r?r:"{}"),a=o.bpId,s=o.bpTime;if(!a){if(!L||Array.isArray(L))throw new Error;a=L,localStorage.setItem("bpContext",JSON.stringify({bpId:L}))}s||(s=0),W(a,s)}catch(d){}}}),[D,W,L,A,G]),(0,a.useEffect)((function(){y&&(H||(!(function(e){switch(e){case"denied":J("click_dont_allow");break;case"granted":J("click_allow")}Q()})),V(!0)))}),[g,J,H,Q,y]);var $=(0,a.useCallback)((0,p.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q){e.next=2;break}return e.abrupt("return");case 2:if(!ke().mobile&&!G){e.next=21;break}-1!==["ios-enable-notification","enable-notification","redeem-reward"].indexOf(Z)&&U(!0),e.t0=Z,e.next="ios-enable-notification"===e.t0||"enable-notification"===e.t0?7:"ios-install-pwa"===e.t0?10:"redeem-reward"===e.t0?13:18;break;case 7:return fo("showNativePrompt"),J("click_enable_notification"),e.abrupt("break",19);case 10:return P(!0),J("click_add_to_home"),e.abrupt("break",19);case 13:return t=(0,v.tZ)(Ro,{item:g,onRedeemed:function(){(0,Wl.Sf)("notification-reward-claimed",void 0)},onClose:function(){(0,Wl.Sf)("notification-prompt-dismissed",g.repromptTimeout),Q(),J("dismiss_thank_you_modal")}}),null===k||void 0===k||k(t),null===N||void 0===N||N(!0),J("click_claim_now"),e.abrupt("break",19);case 18:return e.abrupt("break",19);case 19:e.next=22;break;case 21:S();case 22:case"end":return e.stop()}}),e)}))),[Z,G,g,q,J,k,N,S,Q]),Y=(0,a.useCallback)((function(){(0,Wl.Sf)("notification-prompt-dismissed",g.repromptTimeout),w("none"),J("ios-install-pwa"===Z?"dismiss_iOS_add_to_home_banner":"dismiss_main_banner")}),[Z,g.repromptTimeout,J]),ee=function(e,t){var n,i,l,r;switch(e){case"desktop-browser":case"enable-notification":case"redeem-reward":"desktop-browser"===e?(n=t.enableNotificationBrowserTitle,l=t.connectToClaimButton,i=(0,v.tZ)(Ho,{children:t.enableNotificationBody})):"enable-notification"===e?(n=t.enableNotificationTitle,l=t.enableNotificationButton,i=(0,v.tZ)(Ho,{children:t.enableNotificationBody})):(n=t.rewardClaimTitle,l=t.claimNowButton,i=(0,v.tZ)(Ho,{children:t.rewardClaimBody})),r=t.rewardLimitText;break;case"ios-install-pwa":case"ios-enable-notification":n=t.enableNotificationTitle,l="ios-install-pwa"===e?t.addToHomeScreenButton:t.enableNotificationButton,i=(0,v.BX)("div",{className:"[&_p]:mb-5",children:[(0,v.tZ)(Ho,{children:t.enableNotificationBody}),(0,v.BX)("p",{className:"flex",children:[qo((0,Wl.Ee)())," ",t.enableNotificationStep1]}),(0,v.BX)("p",{className:"flex",children:[qo(!1)," ",t.enableNotificationStep2]})]}),r=t.rewardLimitText;break;case"notification-blocked":case"redeemed-reward":n="notification-blocked"===e?t.enableNotificationTitle:t.rewardAlreadyClaimedTitle,l="",i="notification-blocked"===e?(0,v.tZ)(Ho,{children:t.enableNotificationDisabledText}):(0,v.tZ)(Ho,{children:t.rewardClaimBody})}return{title:n,body:i,buttonText:l,disclaimer:r}}(Z,g),te=ee.body,ne=ee.title,ie=ee.buttonText,le=ee.disclaimer;return g?(["redeemed-reward","redeem-reward"].find(()&&q&&U(!1),"none"!==Z&&y?(0,v.tZ)(so.Z,{onChange:E,children:(0,v.BX)("div",{children:[(0,v.tZ)(Eo.P,{hideHeader:!0,children:ke().mobile?(0,v.BX)("div",{"data-theme":null!==(i=null===g||void 0===g||null===(l=g.palette)||void 0===l||null===(r=l.sys)||void 0===r?void 0:r.id)&&void 0!==i?i:"none",className:(0,o.Z)("p-4 rounded-lg sm:flex relative",To().main),children:[(0,v.BX)("div",{className:"grow mb-5",children:[(0,v.tZ)("button",{className:"absolute top-2 right-3 cursor",onClick:Y,children:"\u2715"}),(0,v.BX)("div",{className:"flex mb-5 lg:mb-0",children:[(0,v.tZ)("div",{className:"h-14 w-14 aspect-square mr-4 [&_img]place-self-center place-self-center",children:(0,v.tZ)(Do.c,{image:null===(d=g.reward)||void 0===d?void 0:d.boxart})}),(0,v.tZ)("div",{className:"text-xl font-bold place-self-center mr-3",children:ne})]}),te]}),ie&&(0,v.tZ)("div",{className:"place-self-center lg:mr-5 relative",children:(0,v.tZ)("button",{type:"button",className:(0,o.Z)("btn text-button-m w-full",To().button,q&&"loading"),onClick:$,children:!q&&ie})}),(0,v.tZ)("div",{className:"mt-3 text-xs",children:g.rewardLimitText})]}):(0,v.BX)("div",{"data-theme":null!==(c=null===g||void 0===g||null===(u=g.palette)||void 0===u||null===(m=u.sys)||void 0===m?void 0:m.id)&&void 0!==c?c:"none",className:(0,o.Z)("p-10 rounded-lg flex flex-wrap relative",To().main),children:[(0,v.tZ)("div",{className:"lg:h-32 lg:w-32 lg:p-5 w-14 aspect-square mr-4 place-self-center",children:(0,v.tZ)(Do.c,{image:null===(f=g.reward)||void 0===f?void 0:f.boxart})}),(0,v.tZ)("button",{className:"absolute top-2 right-3 cursor",onClick:Y,children:"\u2715"}),(0,v.BX)("div",{children:[(0,v.tZ)("div",{className:"text-xl font-bold place-self-center mb-3",children:ne}),(0,v.tZ)("div",{className:"mb-5",children:te}),ie&&(0,v.tZ)("button",{type:"button",className:(0,o.Z)("btn text-button-m w-full sm:w-fit",To().button),onClick:$,children:ie}),(0,v.tZ)("div",{className:"mt-3 text-xs",children:le})]})]})}),C&&(0,v.tZ)(_o,{item:g,iPad:G,onClose:function(){return P(!1)}})]})}):(0,v.tZ)(so.Z,{onChange:E})):null}var Wo=n(54876),Ko={height:"100%"};function Jo(e){var t=e.product;return(0,v.tZ)(ze.n,{value:t.item,children:(0,v.tZ)(We.J,{slug:t.slug,children:(0,v.tZ)(Je.o,{css:Ko,width:y.sl,maxImageWidth:400})})})}var Qo={name:"1so2oqw",styles:"[data-carousel-slider]{padding-bottom:0.25rem;padding-left:0.25rem;;}"};var $o=n(55980);function Yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ta=n(47209),na=["__typename","linkedFrom","platform","headerText","sys"];var ia=["layout"];function la(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?la(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):la(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oa={overflow:"hidden"},aa={Expansion:function(e){var t=e.item,n=t.header,i=t.expansionsCollection,l="related-products-list",r=(0,ot.s)();return(0,v.tZ)(L.P,{slug:(0,I.U)(null===n||void 0===n?void 0:n.text),title:null===n||void 0===n?void 0:n.text,"data-testid":b.T6,children:(0,v.tZ)(mr.a,{css:[bt.Gf,Qo,""],id:l,"aria-label":null===n||void 0===n?void 0:n.text,carouselControls:(0,v.tZ)(hr.J,{carouselId:l}),carouselDots:(0,v.tZ)(gr.T,{}),layoutStyle:"CAROUSEL",peekSize:r,children:(0,D.E)(null===i||void 0===i?void 0:i.items).map((function(e){return(0,v.tZ)(Jo,{product:e},(0,d.km)(e))}))})})},ScreenShotsVideos:function(e){var t,n,l,r,o,s=e.item,c=(0,E.$G)().t,u=(0,a.useState)(),m=u[0],p=u[1],f=(0,a.useCallback)((,[]),h=(0,ur.d)(),g=(0,a.useState)(void 0),x=g[0],Z=g[1],w=(0,vr.Ei)(vr.Jw,2),O=(0,a.useCallback)((function(e){var t=e.currentTarget.dataset.index;t&&(e.currentTarget.focus(),p(parseInt(t,10)))}),[]),k=(0,a.useMemo)((function(){var e;return e={},(0,i.Z)(e,y.sl,"40%"),(0,i.Z)(e,y.Tt,"26%"),(0,i.Z)(e,y.H6,"24%"),(0,i.Z)(e,y.rG,"22%"),(0,i.Z)(e,y.Fg,"16%"),(0,i.Z)(e,y.uK,"12%"),(0,i.Z)(e,y.ux,"10%"),(0,i.Z)(e,y.pd,"10%"),e}),[]),N=(0,D.E)(null===(t=s.playListCollection)||void 0===t?void 0:t.items).map((),j=(h?kr.standard:s.layoutStyle||kr.standard)===kr.mosaic,C=j?8:w,P="media-".concat(null===(n=s.sys)||void 0===n?void 0:n.id);return(0,a.useEffect)((function(){var e=(0,fr.P)(250,(function(){for(var e=Object.keys(k),t=0;t<e.length;t+=1)if(window.innerWidth<=parseInt(e[t],10)){Z(k[parseInt(e[t],10)]);break}(window.innerWidth>y.pd||j)&&Z(void 0)}));return e(),window.addEventListener("resize",e),)),(0,v.BX)(L.P,{slug:(0,I.U)(null===(l=s.header)||void 0===l?void 0:l.text),title:null===(r=s.header)||void 0===r?void 0:r.text,"data-testid":b.pm,children:[(0,v.tZ)(mr.a,{css:bt.Gf,id:P,peekSize:x,"aria-label":null===(o=s.header)||void 0===o?void 0:o.text,carouselControls:(0,v.tZ)(hr.J,{carouselId:P}),carouselDots:(0,v.tZ)(gr.T,{}),layoutStyle:j?kr.mosaic:kr.carousel,children:N.map((function(e,t){return(0,v.tZ)(jr,{"aria-label":e.title,item:e,idx:t,visibleItems:C,imagePerRow:Sr(j,t,C),onItemClick:O},(0,d.km)(e))}))}),void 0!==m&&(0,v.tZ)(pr.e,{css:Ir,media:N,initialSelectedItem:m,requestClose:f,labelClose:c("Close"),AgeGate:Kl.m,nextLabel:c("next"),backLabel:c("Back"),carouselDots:(0,v.tZ)(gr.T,{})})]})},ProductDetailSystemRequirements:function(e){var t,n,i,r=e.item,o=(0,E.$G)().t,a=(0,D.E)(null===(t=r.requirementsCollection)||void 0===t?void 0:t.items),s=r.otherRequirements,c=a.reduce((function(e,t){if(t.platform){var n=e[t.platform]||[];e[t.platform]=n,n.push(t)}return e}),{}),u=Object.entries(c).map((function(e){var t=(0,yn.Z)(e,2),n=t[0],i=t[1];return{key:n,title:o(n),requirements:i.map((function(e){e.__typename,e.linkedFrom,e.platform;var t=e.headerText,n=e.sys,i=(0,l.Z)(e,na);return{key:(0,d.km)({sys:n}),title:t?o(t):"",terms:Object.keys(i).reduce((,{})}}))}}));return(0,v.tZ)(L.P,{slug:(0,I.U)(null===(n=r.header)||void 0===n?void 0:n.text),title:null===(i=r.header)||void 0===i?void 0:i.text,"data-testid":b.t4,children:(0,v.tZ)(ta.B,{platforms:u,otherRequirements:null===s||void 0===s?void 0:s.json})})},GameDetails:function(e){var t,n,i,l,r,o,a=e.item,s=(0,E.$G)().t,c=(0,T.b)(),u=(0,ze.Y)(),m=(0,Ce.XR)(),p=(0,en.Z)(),f=p.rating,h=p.layoutStyle===Ve.CH.PartialWidth,g=f||{},y=g.icon,x=g.descriptors,Z=g.imageDescriptors,w=g.ratingInfoLink,O={iconSrc:(0,d.Jn)(y),iconAlt:(0,d.EQ)(y),descriptors:(0,D.E)(x).map((),imageDescriptors:(0,D.E)(Z).map((),ratingInfoLink:w};return(0,v.tZ)(L.P,{slug:(0,I.U)(null===(t=a.header)||void 0===t?void 0:t.text),title:null===(n=a.header)||void 0===n?void 0:n.text,"data-testid":b.S1,children:(0,v.tZ)(Yt.Z,{labelGenre:s("Genre"),labelDeveloper:s("Developer"),labelPublisher:s("Publisher"),labelReleaseDate:s("Release Date"),labelLinks:s("Links"),longDescription:null===u||void 0===u?void 0:u.longDescription,genre:null===u||void 0===u||null===(i=u.genres)||void 0===i?void 0:i.join(", "),developer:null===u||void 0===u||null===(l=u.developers)||void 0===l?void 0:l.join(", "),publisher:null===u||void 0===u||null===(r=u.publishers)||void 0===r?void 0:r.join(", "),releaseDate:null!==m&&void 0!==m&&m.releaseDate&&!(0,Le.z5)(m.releaseDate)?m.releaseDate:void 0,links:null===a||void 0===a||null===(o=a.links)||void 0===o?void 0:o.json,language:c,rating:h?O:void 0})})},SupportedLanguages:function(e){var t=e.item,n=(0,E.$G)().t,i=t.header,l=t.supportedLanguageTable,r=(0,a.useMemo)((function(){return(l||[]).map((function(e){return ea(ea({},e),{},{language:n("".concat(e.language).trim())})}))}),[n,l]);return r.length>0?(0,v.tZ)(L.P,{slug:(0,I.U)(null===i||void 0===i?void 0:i.text),title:null===i||void 0===i?void 0:i.text,"data-testid":b.fs,children:(0,v.tZ)($o.i,{labelInterface:n("interface"),labelAudio:n("full-audio"),labelSubtitles:n("subtitles"),labelViewAll:n("view-all-supported-languages",{length:r.length}),languages:r,labelSupported:n("supported"),labelUnsupported:n("unsupported")})}):null},ComparisonTable:function(e){var t=e.item,n=(0,kt.q)()||t.defaultDrm||y.f9.NotApplicable,i=t.header,l=t.skuListCollection,r=t.featuresCollection,o=t.comparisonTableData,a=(0,je.TA)(),s=(0,Ce.aF)().user,c=(0,D.E)(null===l||void 0===l?void 0:l.items).map((function(e){var t;return{key:null===e||void 0===e||null===(t=e.sys)||void 0===t?void 0:t.id,item:e,comparisonItem:{image:(0,d.Jn)(null===e||void 0===e?void 0:e.landscapeArt),title:(null===e||void 0===e?void 0:e.title)||"",features:(0,D.E)((0,D.E)(null===r||void 0===r?void 0:r.items).map((function(t){var n,i,l,r,a=(null===e||void 0===e||null===(n=e.sys)||void 0===n?void 0:n.id)&&(null===o||void 0===o||null===(i=o[null===e||void 0===e||null===(r=e.sys)||void 0===r?void 0:r.id])||void 0===i||null===(l=i.features)||void 0===l?void 0:l[(null===t||void 0===t?void 0:t.id)||""]);return{description:(null===t||void 0===t?void 0:t.description)||"",type:(null===a||void 0===a?void 0:a.type)||"",value:(null===a||void 0===a?void 0:a.value)||!1}})))}}})).filter((function(e){var t,i=e.key,l=e.item;return null!==s&&void 0!==s&&s.userId?!(null===a||void 0===a||null===(t=a[i||""])||void 0===t||!t.find((function(e){return(null===e||void 0===e?void 0:e.drm)===n&&e.purchaseState!==Se.KA.hidden}))):!l.upsell}));return 0===c.length?null:(0,v.tZ)(L.P,{slug:(0,I.U)(null===i||void 0===i?void 0:i.text),title:null===i||void 0===i?void 0:i.text,"data-testid":b.IH,children:(0,v.tZ)(Ot.R,{children:c.map((function(e){var t=e.key,i=e.item,l=e.comparisonItem;return(0,v.tZ)(ze.n,{value:i,children:(0,v.tZ)(Ne.R,{children:(0,v.tZ)(At,Gt(Gt({},l),{},{drm:n}))})},t)}))})})},ProductDetailPageKeyFeatureContainer:function(e){var t,n,i,o,a,s,c,u,m,p=e.item,f=(0,E.$G)().t,h=(0,T.b)(),g=(0,Fe.useRouter)(),y=(0,ql.j)().searchParams,x=null===(t=p.header)||void 0===t?void 0:t.text,Z=(0,Ce.XR)();if(p.internalName&&p.internalName.indexOf("__COUPON__ONLY__")>-1&&(null===Z||void 0===Z||null===(n=Z.promotion)||void 0===n?void 0:n.reason)!==Ve.Fh.Coupon)return null;var w="PW_CUST_NO_CAROUSEL"===p.layoutStyle&&"Bottom"!==(null===(i=p.keyfeaturesCollection)||void 0===i||null===(o=i.items)||void 0===o||null===(a=o[0])||void 0===a?void 0:a.verticalTextAlignment),O="PW_CUST_NO_CAROUSEL"===p.layoutStyle&&"Bottom"===(null===(s=p.keyfeaturesCollection)||void 0===s||null===(c=s.items)||void 0===c||null===(u=c[0])||void 0===u?void 0:u.verticalTextAlignment),k=function(e){var t=e.currentTarget.dataset.link;t&&(t.startsWith("http")?(0,Wl.x)(t):g.push({pathname:t,query:y}))};return(0,v.tZ)(L.P,{slug:(0,I.U)(x),title:x,hideHeader:!p.showHeader,css:er,"data-testid":b.zZ,children:(0,v.tZ)(r.C,{css:[w&&tr,O&&nr,""],layoutStyle:p.layoutStyle,preTextContent:p.preTextContent,postTextContent:p.postTextContent,items:(0,D.E)(null===(m=p.keyfeaturesCollection)||void 0===m?void 0:m.items).map((function(e){var t,n=e.sys,i=e.articleCollection,r=(e.__typename,(0,l.Z)(e,Ql));return Yl(Yl({},r),{},{key:(0,d.km)({sys:n}),articles:(0,D.E)(null===i||void 0===i?void 0:i.items).map((),buttonCopy:null===(t=r.buttonCopy)||void 0===t?void 0:t.text,onButtonClick:k})})),labelRetry:f("try-again"),labelShowMore:f("show-more"),labelShowLess:f("show-less"),labelError:f("fetching-data-error",{errorSource:f("articles")}),labelClose:f("Close"),entryTags:Jl.H,AgeGate:Kl.m,maxWidth:Ft.Eq,locale:h,getArticles:)})},FaqContainer:function(e){var t,n=e.item,i=n.header,l=n.faqItemsCollection,r=n.palette;return(0,v.BX)("section",{className:"relative py-8",children:[(0,v.tZ)("div",{"data-theme":(null===r||void 0===r||null===(t=r.sys)||void 0===t?void 0:t.id)||"none",className:(0,o.Z)("absolute h-full w-full inset-0 -z-[1]",$t().main)}),(0,v.tZ)(L.P,{slug:(0,I.U)(null===i||void 0===i?void 0:i.text),title:null===i||void 0===i?void 0:i.text,"data-testid":b.E3,children:(0,v.tZ)(Kt.U,{allowMultipleOpen:!0,children:(0,D.E)(null===l||void 0===l?void 0:l.items).map((function(e){var t;return(0,v.tZ)(Jt.Z,{id:(0,d.km)(e),label:e.userFacingTitle||e.title,document:null===(t=e.richText)||void 0===t?void 0:t.json},(0,d.km)(e))}))})})]})},PdpLayoutNewsArticles:function(e){var t,n,i,l,r,s,c,u,m,p,f,h,g,y,x,Z,w=e.item,O=(0,E.$G)().t,k=(0,T.b)(),N=(0,Fe.useRouter)(),j=(0,a.useState)(""),C=j[0],S=j[1],B=(0,a.useState)(!1),_=B[0],X=B[1],A=(0,a.useState)(N.query.page?parseInt(null===N||void 0===N||null===(t=N.query)||void 0===t?void 0:t.page[0],10):1),M=A[0],G=A[1],R="news-".concat(null===(n=w.sys)||void 0===n?void 0:n.id),F=(0,ql.j)().searchParams,H=w.preText,V=w.postText,z=w.bg,q=(0,a.useMemo)((function(){return(0,d.Jn)(z)}),[z]),U=q?"url('".concat(q,"')"):"",W=null===(i=w.header)||void 0===i?void 0:i.text,K=w.headerH1&&W,J=(0,On.useQuery)(["articleId",C],(,{keepPreviousData:!0,enabled:""!==C,retry:!1,refetchOnWindowFocus:!1}),Q=J.data,$=J.isError,Y=J.isFetching,ee=J.refetch,te=(0,a.useCallback)((function(e){return function(t){t.stopPropagation(),t.preventDefault(),e.showInFullPage&&e.slug?N.push({pathname:"".concat((0,Mr.GG)(e.slug)?"/":"/news/").concat(e.slug),query:eo({},F)},void 0,{shallow:!1}):(t.currentTarget.focus(),X(!0),S(e.slug||""))}}),[F,N]),ne=(0,D.E)(null===(l=w.newsArticlesCollection)||void 0===l?void 0:l.items),ie=null!==(r=null===(s=w.newsArticlesCollection)||void 0===s?void 0:s.total)&&void 0!==r?r:0,le=Math.ceil(ie/Ve.qQ),re="Light"===w.paginationStyle,oe=1===M,ae=M===le,se=(0,a.useMemo)((function(){return Array.from({length:le},(function(e,t){var n=t+1,i=M===n;return(0,v.tZ)(io,{buttonClasses:i?(0,o.Z)("border-opacity-50",re?"bg-black-20":"bg-white-20"):"",disabled:i,lightMode:re,nextPage:n,setPage:G,children:n},t)}))}),[re,le,M]),de=function(e){return function(t){t.stopPropagation(),t.preventDefault(),window.open(e.externalLink||"","_blank")}},ce=(0,a.useMemo)((function(){return(0,Ge.H)(w.layoutStyle,["CAROUSEL","GRID","DETAIL"])}),[w.layoutStyle]),ue=null!==(c=w.externalLink)&&void 0!==c&&null!==(u=c.label)&&void 0!==u&&u.json?(0,v.tZ)(P.H,{entryTags:Jl.H,document:null===(m=w.externalLink)||void 0===m||null===(p=m.label)||void 0===p?void 0:p.json,links:null===(f=w.externalLink)||void 0===f||null===(h=f.label)||void 0===h?void 0:h.links}):null,ve=(0,ot.s)();return(0,v.BX)(L.P,{slug:(0,I.U)(null===(g=w.header)||void 0===g?void 0:g.text),title:K?(0,v.tZ)("h1",{children:K}):W,headerStyle:to,"data-testid":b.t8,style:U?{backgroundImage:U}:void 0,css:z&&bt.mu,link:(null===(y=w.externalLink)||void 0===y?void 0:y.url)&&(w.externalLink.url.startsWith("http")?(0,v.BX)("a",eo(eo({className:"flex items-center type-body-s uppercase type-link hover:type-link-hover ms-auto",href:w.externalLink.url},(null===(x=w.externalLink)||void 0===x?void 0:x.openInNewTab)&&{target:"_blank",rel:"noreferrer noopener"}),{},{children:[ue||O("See all"),(0,v.tZ)(Re.J,{className:"w-4 h-4 ms-1 [margin-block-end:0.125rem]"})]})):(0,v.tZ)(Lr(),{prefetch:!1,href:w.externalLink.url,children:(0,v.tZ)("button",{type:"button",className:"flex items-center type-body-s uppercase type-link hover:type-link-hover ms-auto",children:ue||O("See all")})})),children:[(0,v.tZ)("div",{className:"mb-6 -mt-4 type-body-s",children:(0,v.tZ)(P.H,{document:null===H||void 0===H?void 0:H.json})}),"DETAIL"===ce?(0,v.tZ)("div",{children:ne.map((function(e){return(0,v.tZ)(Gr.V,{article:e},(0,d.km)(e))}))}):(0,v.tZ)(mr.a,{css:"CAROUSEL"===ce&&bt.Gf,"aria-label":w.title,id:R,carouselControls:(0,v.tZ)(hr.J,{carouselId:R}),carouselDots:(0,v.tZ)(gr.T,{}),layoutStyle:ce,layoutItems:"few",minCol:1,peekSize:ve,children:ne.map((function(e){var t;return(0,v.tZ)($r,{item:e,onItemClick:e.externalLink?de(e):te(e),title:(null===e||void 0===e?void 0:e.title)||"",backgroundUrl:null===e||void 0===e||null===(t=e.doubleWidthImage)||void 0===t?void 0:t.url,date:e.releaseDate&&(0,v.tZ)(_r.r,{date:null===e||void 0===e?void 0:e.releaseDate,language:k,timeZone:"UTC"}),isVideoPreview:!(null===e||void 0===e||!e.useVideoPreview)},(0,d.km)(e))}))}),(0,v.tZ)("div",{css:ro,children:(0,v.tZ)(P.H,{document:null===V||void 0===V?void 0:V.json})}),(0,v.tZ)(Ur,{css:no,isOpen:_,isErrored:$,isLoading:Y,article:(null===Q||void 0===Q||null===(Z=Q.model)||void 0===Z?void 0:Z.article)||{},close:function(){return X(!1)},labelClose:O("Close"),message:O("fetching-data-error",{errorSource:O("articles")}),buttonLabel:O("try-again"),retry:ee,locale:k,entryTags:Jl.H}),"CAROUSEL"!==ce&&1!==le&&(0,v.BX)("div",{className:"flex flex-row justify-center gap-4",children:[(0,v.tZ)(io,{disabled:oe,lightMode:re,nextPage:M-1,setPage:G,children:(0,v.tZ)("span",{className:lo(oe),children:(0,v.tZ)(Dr.Z,{})})}),se,(0,v.tZ)(io,{disabled:ae,lightMode:re,nextPage:M+1,setPage:G,children:(0,v.tZ)("span",{className:lo(ae),children:(0,v.tZ)(Tr,{})})})]})]})},StoreBrowseGame:function(e){var t=e.item,n=t.searchQuery,i=(0,a.useMemo)((,[null===t||void 0===t?void 0:t.bg]),l="LARGE"===(null===t||void 0===t?void 0:t.tileSize)?"few":"many",r=(0,a.useMemo)((function(){return(0,Ge.H)(t.layoutStyle,["GRID","CAROUSEL"])}),[t.layoutStyle]);return n?(0,v.tZ)(lt,{item:t,layoutStyle:r,layoutItems:l,backgroundUrl:i}):(0,v.tZ)(dt,{item:t,layoutStyle:r,layoutItems:l,backgroundUrl:i})},CtaStripe:function(e){var t=e.item,n=t.backgroundColor,i=t.showFullWidth,l=t.richText,r=n||void 0,o=(0,Fe.useRouter)(),a=(null===t||void 0===t?void 0:t.buttonLink)||"",s=function(){var e=(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,Ht.T)(a,o)();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.tZ)(L.P,{style:{backgroundColor:i&&r||void 0},css:i&&qt,sectionStyle:i&&Ut,hideHeader:!0,"data-testid":b.vW,children:(0,v.tZ)(Ht.f,zt(zt({},t),{},{richTextCss:Wt,backgroundColor:n||"var(--color-primary-rgb)",onClick:s,children:l&&(0,v.tZ)(P.H,{document:null===l||void 0===l?void 0:l.json,decorateLinks:!0})}))})},IframeEmbed:Vl.O,LayoutPromoBanner:Wo.$,LayoutCategoryStripe:function(e){var t,n=e.item,i=(0,a.useMemo)((function(){var e;return(0,D.E)(null===n||void 0===n||null===(e=n.itemCollection)||void 0===e?void 0:e.items).map(Zt)}),[null===n||void 0===n||null===(t=n.itemCollection)||void 0===t?void 0:t.items]);return(0,v.tZ)("section",{className:"flex bg-neutral-100-70","data-testid":b.y2,children:(0,v.tZ)(gt.Z,{css:bt.FG,items:i,itemComponent:wt})})},LayoutImageLinks:zl.g,LayoutText:function(e){var t=e.item;return(0,v.tZ)("section",{className:(0,o.Z)("relative layout-content w-full mx-auto","max-w-[".concat(Ft.Eq,"]")),children:(0,v.tZ)("div",{className:"type-body-s",children:(0,v.tZ)(B.D,{className:"prose-p:my-2 prose-strong:text-text-primary prose-p:type-body-s text-text-primary max-w-full prose prose-a:type-link hover:prose-a:type-link-hover prose-headings:text-text-primary",linkTarget:"_blank",children:t.rtfText||""})})})},LayoutCurrency:ct.d,LayoutIrInfo:LayoutPreorderBonus:function(e){var t,n,i,l=e.item,r=l.backgroundImage,o=l.header,a=(0,d.Jn)(r),s="preorder-bonus-".concat(null===(t=l.sys)||void 0===t?void 0:t.id);return(0,v.BX)(rr.v,{slug:(0,I.U)(null===o||void 0===o?void 0:o.text)||"",title:null===o||void 0===o?void 0:o.text,backgroundImageUrl:a,children:[l.description&&(0,v.tZ)("section",{css:[dr,lr.f,""],children:(0,v.tZ)("span",{children:l.description})}),(0,v.tZ)(Qe.K,{bleed:!0,id:s,title:null===o||void 0===o?void 0:o.text,children:(0,D.E)(null===(n=l.itemsCollection)||void 0===n?void 0:n.items).map((function(e){return(0,v.tZ)(sr,{item:e},(0,d.km)(e))}))}),(null===(i=l.footer)||void 0===i?void 0:i.text)&&(0,v.tZ)("section",{css:[dr,cr,""],children:(0,v.tZ)("span",{children:l.footer.text})})]})},LayoutHero:ir.V,LayoutListView:Gl,Newsletter:function(e){var t,n=e.item,i=n.title,l=n.image,r=n.description,o=n.disclaimer,s=n.agreement,c=n.source,u=n.locationsJson,m=n.platforms,f=n.successMessage,g=(0,E.$G)().t,y=(0,T.b)(),A=(0,x.r)(y),G=(0,Z.Y)((0,X.getMSecondsSinceEpoch)(),!1),R=(0,I.U)(i),ve=(0,a.useState)(),ye=ve[0],Ze=ve[1],we=(0,a.useState)(),Oe=we[0],ke=we[1],Ne=(0,a.useState)(),je=Ne[0],Ce=Ne[1],Pe=(0,a.useState)(),Se=Pe[0],Ie=Pe[1],De=(0,a.useState)(!1),Ee=De[0],Be=De[1],Te=(0,D.E)(u).map((function(e){return{key:e.country||"",label:e.country||"",value:e}}))||[],_e=(0,D.E)(m).map(()||[],Xe=(0,a.useReducer)(xe,ce),Le=Xe[0],Ae=Le.email,Me=Le.isEmailValid,Ge=Le.isAgeValid,Re=Le.subscribeFailed,Fe=Le.subscribeSuccess,He=Le.isLoading,Ve=Xe[1],ze=!!(null!==je&&void 0!==je&&null!==(t=je.value)&&void 0!==t&&t.age&&null!==ye&&void 0!==ye&&ye.value&&null!==Oe&&void 0!==Oe&&Oe.value),qe=function(e,t,n){var i,l=null===e||void 0===e||null===(i=e.value)||void 0===i?void 0:i.age,r=null===t||void 0===t?void 0:t.value,o=null===n||void 0===n?void 0:n.value;if(l&&r&&o){var a=(0,X.getMSecondsSinceEpoch)()-new Date(o,r).getTime(),s=new Date(a),d=Math.abs(s.getUTCFullYear()-1970);Ve(l>0&&d>=l?{type:be}:{type:ge})}},Ue=function(){var e=(0,p.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=setTimeout((,500),e.prev=1,e.next=4,_({email:Ae,source:c||"",locale:y,month:(null===ye||void 0===ye?void 0:ye.value)||0,year:(null===Oe||void 0===Oe?void 0:Oe.value)||0,location:(null===je||void 0===je?void 0:je.value.country)||"",platform:(null===Se||void 0===Se?void 0:Se.value)||""});case 4:e.sent.ok?Ve({type:pe}):Ve({type:fe}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Ve({type:fe});case 11:return e.prev=11,t&&clearTimeout(t),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=(0,p.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Me||!Ge){e.next=3;break}return e.next=3,Ue();case 3:case"end":return e.stop()}}),e)})));return ();return(0,v.tZ)("div",{css:F,"data-testid":b.rd,children:(0,v.tZ)(L.P,{slug:R,children:(0,v.BX)("div",{css:[H,""],children:[Fe?(0,v.tZ)(M,{successMessage:f}):(0,v.BX)("div",{css:V,children:[(0,v.tZ)(w.H,{css:ee,children:i}),(0,v.tZ)("div",{children:r&&(0,v.tZ)(B.D,{css:$,children:r})}),(0,v.tZ)("div",{css:re,children:(0,v.BX)(O.A,{label:g("email-label"),children:[(0,v.tZ)("input",{css:[J,!Me&&Ae&&Q,""],type:"text",value:Ae,placeholder:g("email-enter-placeholder"),onChange:onBlur:function(){(0,X.validateEmail)(Ae)||Ve({type:me})},"data-testid":b.Rr}),!Me&&Ae&&(0,v.tZ)("div",{css:te,children:g("email-format-error")})]})}),(0,v.BX)("div",{css:oe,children:[(0,v.BX)("div",{css:se,children:[(0,v.tZ)(O.A,{id:"dob-label",label:g("dob-label")}),(0,v.BX)("div",{css:de,children:[(0,v.tZ)(k.L,{"aria-describedby":"dob-label",css:[ie,ze&&!Ge&&Q,""],cssList:ie,title:g("Month"),selectedItem:ye,onItemSelected:function(e){Ze(e),qe(je,e,Oe)},items:A,"data-testid":b.sB}),(0,v.tZ)(k.L,{"aria-describedby":"dob-label",css:[ie,ze&&!Ge&&Q,""],cssList:ie,title:g("Year"),selectedItem:Oe,onItemSelected:function(e){ke(e),qe(je,ye,e)},items:G,"data-testid":b.Cx})]})]}),(0,v.tZ)("div",{children:(0,v.tZ)(O.A,{label:g("location-label"),children:(0,v.tZ)(k.L,{css:le,cssList:le,title:g("select-location"),selectedItem:je,onItemSelected:items:Te,"data-testid":b.Iy})})})]}),_e.length>0&&(0,v.tZ)("div",{css:ae,children:(0,v.tZ)(O.A,{label:g("platform-label"),children:(0,v.tZ)(k.L,{css:le,cssList:le,title:g("select-platform"),selectedItem:Se,onItemSelected:items:_e,"data-testid":b.tr})})}),ze&&!Ge&&(0,v.tZ)("div",{css:te,children:g("cannot-signup")}),(0,v.BX)("div",{css:U,children:[(0,v.tZ)(N.J,{id:"".concat(R,"-agreementCheckBox"),checked:Ee,onClick:css:W}),(0,v.tZ)("label",{css:K,htmlFor:"".concat(R,"-agreementCheckBox"),children:s&&(0,v.tZ)(B.D,{children:s})})]}),(0,v.tZ)("button",{type:"submit",className:"btn text-button-text text-button-m bg-primary",onClick:We,"data-testid":b.Jw,disabled:!(Me&&Ge&&Ee&&(_e.length>0&&Se||0===_e.length)),children:(0,v.tZ)(j.T,{loading:He,size:20,children:g("subscribe")})}),Re&&(0,v.BX)("p",{css:ne,children:[(0,v.tZ)(C.a,{}),g("email-submitting-error")]}),o&&(0,v.tZ)(P.H,{includeContainer:!0,css:Y,document:null===o||void 0===o?void 0:o.json})]}),(0,v.tZ)("div",{css:z,children:(0,v.tZ)(S.t,{css:q,src:(0,d.Jn)(l),alt:(0,d.EQ)(l)})})]})})})},PunchCard:function(e){var t=e.item;return"Daily Streak"===t.defaultViewType?(0,v.tZ)(Be,{item:t}):(0,v.tZ)(Me,{item:t})},NotificationSubscription:function(e){var t,n=e.item,i="addHome"===(null!==(t=n.displayMode)&&void 0!==t?t:"")?(0,v.tZ)(Mo,{item:n}):(0,v.tZ)(ze.n,{value:n.reward,children:(0,v.tZ)(Uo,{item:n})});return n.displayMode?(0,v.tZ)(Ne.R,{children:(0,v.tZ)(uo.D,{style:Fo,children:i})}):null},Container:function(e){var t=e.item;if("redeem-code"===t.key){var n=(0,tn.M)(t);if(n)return(0,v.tZ)(an,{children:(0,v.tZ)(Hl,{model:n})})}return null}};function sa(e){var t=e.layout,n=(0,l.Z)(e,ia),i=(0,s.H)(),c=(0,a.useMemo)((function(){return function(e){var t=e.findIndex((function(e){return"LayoutListView"===(null===e||void 0===e?void 0:e.__typename)&&(null===e||void 0===e?void 0:e.defaultViewType)===Di.Floating}));return-1!==t?(e.push(e.splice(t,1)[0]),e):e}(t)}),[t]);return(0,v.tZ)("div",ra(ra({},n),{},{css:oa,children:c.filter(().map((function(e,t,n){var l="small"===i.layoutSpacing?"sm":"md",a=t>0?n[t-1].__typename:"",s=t>0&&n[t+1]?n[t+1].__typename:"",c=e.__typename;if(!c)return null;if("ProductDetailPageKeyFeatureContainer"===c){var u,m,p=e.layoutStyle===r.S.TEXT_FOCUS,f=null===e||void 0===e||null===(u=e.keyfeaturesCollection)||void 0===u||null===(m=u.items)||void 0===m?void 0:m[0],h=null===f||void 0===f?void 0:f.textAlignment;l=(p&&!(null===f||void 0===f||!f.image)||p&&"Bottom"===h?"none":p&&0===t&&"xs")||p&&l||e.header&&e.showHeader&&l||"ProductDetailPageKeyFeatureContainer"===a&&"none"||"LayoutHero"===a&&"none"||0===t&&"none"||l}0===t&&"LayoutListView"===c&&(l="xxs"),(0===t&&"CtaStripe"===c&&e.showFullWidth||0===t&&["LayoutCategoryStripe","Container"].includes(c))&&(l="none"),"StoreBrowseGame"===c&&e.bg&&(l="none"),"LayoutHero"!==c&&"LayoutImageLinks"!==c&&"LayoutPromoBanner"!==c&&"LayoutIrInfo"!==c||(l="none"),"CtaStripe"!==c||"CtaStripe"!==a&&"CtaStripe"!==s||(l="xxs"),"PunchCard"===c&&(l="none"),"IframeEmbed"!==c||e.iframeHeight||(l="none-fullscreen");var g=aa[c];return g&&(0,v.tZ)("div",{"data-testid":"".concat(c,"-").concat(l),className:(0,o.Z)("none-fullscreen"!==l&&"empty:hidden last-of-type:mb-16","xxs"===l&&"my-4","xs"===l&&"my-8 lg:my-8","sm"===l&&"my-12 lg:my-16","md"===l&&"my-16 lg:my-24"),children:(0,v.tZ)(g,{item:e})},(0,d.km)(e))}))}))}},77583:function(e,t,n){"use strict";n.d(t,{V:function(){return v}});var i=n(3548),l=n(90276),r=n(48198),o=n.n(r),a=n(42921),s=n(29084),d=n(35757),c=n(46621),u=n(44047);function v(e){var t,n,r,v=e.article,m="".concat((0,s.GG)(v.slug||"")?"/":"/news/").concat(v.slug),p=(0,a.b)();return(0,u.BX)("section",{className:"mx-auto mb-20 mt-8 max-w-7xl md:flex",children:[(0,u.tZ)("div",{className:"md:flex-none mx-auto mb-5 flex-wrap rounded object-contain w-48 h-48 cursor-pointer",children:(0,u.tZ)(o(),{prefetch:!1,href:m,children:(0,u.tZ)(d.c,{image:v.doubleWidthImage})})}),(0,u.BX)("div",{className:"md:flex-1 pl-5",children:[(0,u.tZ)("div",{className:"py-3 text-4xl font-bold hover:underline",children:(0,u.tZ)(o(),{prefetch:!1,href:m,children:v.title})}),(0,u.tZ)("div",{className:"font-bold mb-2",children:(0,u.tZ)(i.r,{date:v.releaseDate,language:p,timeZone:"UTC"})}),(0,u.tZ)(l.H,{document:null===(t=v.preview)||void 0===t?void 0:t.json}),(0,u.tZ)(c.r,{className:"mt-4",tags:null===(n=v.tagsCollection)||void 0===n?void 0:n.items,categories:null===(r=v.categoriesCollection)||void 0===r?void 0:r.items})]})]})}},46621:function(e,t,n){"use strict";n.d(t,{r:function(){return v}});var i=n(34528),l=n(14517),r=n(48198),o=n.n(r),a=n(32018),s=n.n(a),d=n(44047),c=(0,l.W)("rounded relative text-[0.8rem] px-2 h-6","after:absolute after:w-full after:h-full after:top-0 after:left-0 after:rounded","hover:after:opacity-10 hover:after:bg-white","active:after:bg-white active:after:opacity-20","focus-visible:border-solid focus-visible:border-2 focus-visible:border-white focus-visible:outline-none");function u(e){var t=e.url,n=e.children,i=e.type,r=e.paletteId,a="tag"===i?s().tag:s().category;return(0,d.tZ)(o(),{href:t,children:(0,d.tZ)("a",{"data-theme":r,className:(0,l.Z)(c,a),href:t,children:n})})}function v(e){var t=e.tags,n=e.categories,r=e.className,o=(0,i.E)(n),a=(0,i.E)(t);return(0,d.BX)("div",{className:(0,l.Z)("flex flex-wrap gap-2",r),children:[o.map((function(e){var t,n,i,l;return(0,d.tZ)(u,{url:"/news/tag/".concat(e.slug),type:"category",paletteId:null!==(n=null===(i=e.palette)||void 0===i||null===(l=i.sys)||void 0===l?void 0:l.id)&&void 0!==n?n:"none",children:e.name},null===(t=e.sys)||void 0===t?void 0:t.id)})),a.map((function(e){var t,n,i,l;return(0,d.tZ)(u,{url:"/news/tag/".concat(e.slug),type:"tag",paletteId:null!==(n=null===(i=e.palette)||void 0===i||null===(l=i.sys)||void 0===l?void 0:l.id)&&void 0!==n?n:"none",children:e.name},null===(t=e.sys)||void 0===t?void 0:t.id)}))]})}},82433:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var i=n(13048),l=n(4298),r=n(42921),o=n(44047);function a(e){var t=e.isPreOrder,n=e.sku,a=(0,i.$G)().t,s=(0,r.b)(),d=(0,l.H)().drmExternalLinks,c=n.releaseDate,u=null===d||void 0===d?void 0:d[n.drm||""];if(!u)return(0,o.tZ)("span",{className:"type-body-s",children:a("you-own-this")});if(t&&void 0!==c){var v=new Date(c).toLocaleDateString(s,{year:"numeric",month:"long",day:"numeric"});return(0,o.tZ)("span",{className:"type-body-s",children:(0,o.BX)(i.cC,{i18nKey:"you-own-this-preordered",values:{drm:n.drm,releaseDate:v},children:["you own this. Launch via",(0,o.tZ)("a",{className:"underline",href:u,children:"drm"}),"available",(0,o.tZ)("span",{children:"date"})]})})}return(0,o.tZ)("span",{className:"type-body-s",children:(0,o.BX)(i.cC,{i18nKey:"you-own-this-open-in-launcher",values:{drm:n.drm},children:["you own this. Go to",(0,o.tZ)("a",{className:"underline",href:u,children:"drm"}),"to download"]})})}},69786:function(e,t,n){"use strict";n.d(t,{v:function(){return d}});var i=n(13048),l=n(52983),r=n(31708),o=n(17560),a=n(24585),s=n(44047);function d(){var e=(0,l.useContext)(a.uD),t=(0,l.useMemo)((function(){return(0,r.dJ)(e)}),[e]);return 0===t?(0,s.BX)(i.cC,{i18nKey:"sale-ends-in-hours",children:["sale ends in timer",(0,s.tZ)(o.T,{className:"font-bold"})]}):(0,s.BX)(i.cC,{i18nKey:"sale-ends-in-days",values:{count:t},children:["sale ends in days...",(0,s.tZ)("span",{className:"font-bold",children:"days!"})]})}},89692:function(e,t,n){"use strict";n.d(t,{p:function(){return j}});var i=n(91751),l=n(13651),r=n(34528),o=n(13048),a=n(9860),s=n(52983),d=n(72193),c=n(21135),u=n(22628),v=n(68817),m=n(36767),p=n(42921),f=n(64085),h=n(80879),g=n(13661),b=n(15289),y=n(17560),x=n(44047);function Z(e){var t=e.influencer,n=e.customMessage,i=n?"":"influencer-stripe-body";return(0,x.BX)(o.cC,{values:{influencer:t},defaults:n||"",i18nKey:i,children:["Purchases from this site will support ",(0,x.tZ)("em",{children:"influencer"})]})}var w=n(31708),O=n(24585);function k(){var e=(0,s.useContext)(O.uD),t=(0,p.b)(),n=(0,s.useMemo)((,[e]);if(n>30){var i=new Date(e||0).toLocaleDateString(t,{year:"numeric",month:"long",day:"numeric"});return(0,x.BX)(o.cC,{i18nKey:"Available On Date",values:{displayReleaseDate:i},children:["Available on",(0,x.tZ)("span",{className:"font-bold",children:"Localized Date"})]})}return 0===n?(0,x.BX)(o.cC,{i18nKey:"launching-in-hours",children:["Launching in...",(0,x.tZ)(y.T,{className:"font-bold"})]}):(0,x.BX)(o.cC,{i18nKey:"launching-in-days",values:{count:n},children:["Launching in...",(0,x.tZ)("span",{className:"font-bold",children:"days!"})]})}var N=n(69786);function j(e,t){var n,w=(0,o.$G)().t,O=(0,p.b)(),j=(0,a.useRouter)(),C=(0,m.XR)(),P=(0,v.TA)(),S=(0,m.qo)(),I=null!==(n=null===C||void 0===C?void 0:C.releaseDate)&&void 0!==n?n:0,D=(0,g.getMSecondsSinceEpoch)(),E=(0,f.kc)(),B=E.isDiscountTimerActive,T=E.discountEndDate,_=Array.isArray(j.query.refn)?j.query.refn[0]:j.query.refn,X=!(null===C||void 0===C||!C.isPhysical),L=(0,l.n)(O,null===C||void 0===C?void 0:C.currency),A=(0,c.V)(),M=A.hasTable,G=A.comparisonItems,R=(0,u.j)().physicalEditionSelector,F=(0,s.useState)(!B),H=F[0],V=F[1],z=(0,s.useState)((),q=z[0],U=z[1];(0,s.useEffect)((function(){U(I<D)}),[I,D]);var W=(0,s.useMemo)((function(){if(!X)return!1;if(R&&t){var e=Object.fromEntries(G.map((function(e){var t;return[(null===(t=e.sys)||void 0===t?void 0:t.id)||"",e]})));return 1===Object.values(P||{}).flat().filter((function(t){return t&&t.itemId&&t.drm===S&&(!M&&t.itemId===C.itemId||M&&!!e[t.itemId])})).length}return!t||!M}),[X,t,M,R,P,S,null===C||void 0===C?void 0:C.itemId,G]),K=d.JD&&(null===C||void 0===C?void 0:C.amountToGetFreeShipping)&&(null===C||void 0===C?void 0:C.amountToGetFreeShipping)>0;return!R&&t&&M&&(K=!1),(0,s.useMemo)((function(){var t=[];if((null===C||void 0===C?void 0:C.purchaseState)===h.KA.owned)return[];if(W&&t.unshift({key:"physical-sku",icon:"IconInfo",children:(0,x.tZ)("span",{children:w("purchasing-physical-copy")})}),B&&T&&!H&&t.push({key:"discount-countdown",icon:"IconClock",children:(0,x.tZ)(y.I,{onDone:function(){return V(!0)},endDate:T,children:(0,x.tZ)(N.v,{})},null===C||void 0===C?void 0:C.skuId)}),C&&K){var n=L(C.amountToGetFreeShipping||0);(0,g.isPreorderItem)(C)||(0,g.isEarlyReleaseItem)(C)||g.isEmployeeStore?t.unshift({key:"free-shipping-message",icon:"IconShipping",children:(0,x.tZ)("span",{children:w("qualified-for-free-shipping")})}):t.unshift({key:"amount-to-shipping-message",icon:"IconShipping",children:(0,x.BX)(o.cC,{i18nKey:"threshold-free-shipping",values:{amount:n},children:["Get FREE shipping with orders over ",(0,x.tZ)("span",{children:"amount"})]})})}var l=(0,r.E)(e).reduce((function(e,t){return"Influencer"===(null===t||void 0===t?void 0:t.type)?(_&&e.push({key:(0,b.km)(t),icon:"IconSale",children:(0,x.tZ)(Z,{customMessage:null===t||void 0===t?void 0:t.customMessage,influencer:_.replace(/<|>/g,"")})}),e):"Release Info"===(null===t||void 0===t?void 0:t.type)&&I&&!q?(e.push({key:(0,b.km)(t),icon:"IconClock",children:(0,x.tZ)(y.I,{onDone:function(){return U(!0)},endDate:I,children:(0,x.tZ)(k,{})},null===C||void 0===C?void 0:C.skuId)}),e):(e.push({key:(0,b.km)(t),icon:(t.icon||"").replace(/(\w+)SVG/,"Icon$1"),children:t.customMessage}),e)}),[]);return t.push.apply(t,(0,i.Z)(l)),0===t.length&&t.push({key:"placeholder",icon:"",children:(0,x.tZ)(x.HY,{})}),t}),[C,W,B,T,K,e,w,L,_,H,q,I])}},41393:function(e,t,n){"use strict";n.d(t,{D:function(){return s},t:function(){return a}});var i=n(41176),l=n(13048),r=n(52983),o=n(44047),a=(0,r.createContext)({});function s(e){var t=e.children,n=e.style,s=(0,l.$G)().t,d=(0,r.useState)(null),c=d[0],u=d[1],v=(0,r.useState)(!1),m=v[0],p=v[1],f=(0,r.useMemo)((,[u,p]);return(0,o.BX)(a.Provider,{value:f,children:[t,(0,o.tZ)(i.e,{isOpen:m,labelClose:s("Close"),requestClose:style:n,children:c})]})}a.displayName="ModalContext"},90873:function(e,t,n){"use strict";n.d(t,{V:function(){return l},Z:function(){return r}});var i=(0,n(24057).l)({}),l=i.Provider,r=i.useState},81160:function(e,t,n){"use strict";function i(e,t){var n=e;for(var i in t)n=n.replace("{{".concat(i,"}}"),"".concat(t[i]));return n}n.d(t,{V:function(){return i}})},91758:function(e,t,n){"use strict";n.d(t,{f:function(){return s}});var i=n(93313),l=n(99798),r=n(42584),o=n.n(r),a=n(72193);function s(e,t){return d.apply(this,arguments)}function d(){return(d=(0,l.Z)(o().mark((function e(t,n){var l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/getnewsarticle?id=".concat(t),{headers:(0,i.Z)({},a.jJ.locale,n)});case 2:return l=e.sent,e.abrupt("return",l.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},4576:function(e,t,n){"use strict";n.d(t,{bv:function(){return f},sZ:);var i=n(93313),l=n(1553),r=n(99798),o=n(42584),a=n.n(o),s=n(34528),d=n(91758),c=["sys"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(a().mark((function e(t,n){var i,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.f)(t,n);case 2:return l=e.sent,e.abrupt("return",g(null===l||void 0===l||null===(i=l.model)||void 0===i?void 0:i.article,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}unction h(){return(h=(0,r.Z)(a().mark((function e(t,n){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("No article ids")));case 2:return e.t0=s.E,e.next=5,Promise.all(t.map(());case 5:return e.t1=e.sent,i=(0,e.t0)(e.t1),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){var n,i,r,o,a;return{id:null===e||void 0===e?void 0:e.slug,title:null===e||void 0===e?void 0:e.title,date:null===e||void 0===e?void 0:e.releaseDate,categories:(0,s.E)(null===e||void 0===e||null===(n=e.categoriesCollection)||void 0===n?void 0:n.items),tags:(0,s.E)(null===e||void 0===e||null===(i=e.tagsCollection)||void 0===i?void 0:i.items),locale:t,richText:[null===e||void 0===e||null===(r=e.richText)||void 0===r?void 0:r.json,null===e||void 0===e||null===(o=e.richText)||void 0===o?void 0:o.links],media:(0,s.E)(null===e||void 0===e||null===(a=e.extendedDescriptionMediaCollection)||void 0===a?void 0:a.items).map((function(e){var t=e.sys;return v(v({},(0,l.Z)(e,c)),{},{key:(null===t||void 0===t?void 0:t.id)||""})}))}}},58550:function(e,t,n){"use strict";var i=n(93313),l=n(44047);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){return(0,l.tZ)("svg",o(o({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{},{children:(0,l.tZ)("path",{fill:"currentColor",d:"M14.71 15.88 10.83 12l3.88-3.88a.996.996 0 1 0-1.41-1.41L8.71 11.3a.996.996 0 0 0 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0 .38-.39.39-1.03 0-1.42Z"})}))}},44098:function(e,t,n){"use strict";var i=n(93313),l=n(44047);Z=function(e){return(0,l.tZ)("svg",o(o({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{},{children:(0,l.tZ)("path",{fill:"currentColor",d:"M11 7h2v2h-2V7Zm0 4h2v6h-2v-6Zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2Zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8Z"})}))}},29725:function(e){e.exports={main:"faq_main__Q_K83"}},36183:function(e){e.exports={animatedFadeIn:"layoutHero_animatedFadeIn__r80Gs",fadeIn:"layoutHero_fadeIn__zJ9_C",header:"layoutHero_header__avkJ8",mobileFullWidthDescription:"layoutHero_mobileFullWidthDescription__tJXN1",mobileFullWidthButton:"layoutHero_mobileFullWidthButton__Fjsx2",addToCalendarDropdown:"layoutHero_addToCalendarDropdown___98x3"}},50266:function(e){e.exports={main:"tileattribute_main__LYUN2",twentyFourHrsCountdownBg:"tileattribute_twentyFourHrsCountdownBg__c8Cdf",twentyFourHrsCountdownText:"tileattribute_twentyFourHrsCountdownText__YHA23"}},11151:139:6093:32018:16484:]);