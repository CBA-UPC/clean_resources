var adalyserModules=trackerCore;adalyserModules.AdalyserTracker=function(e,r){var t=window;mutState={outQueues:[],bufferFlushers:[],expireDateTime:null,hasLoaded:false,registeredOnLoadHandlers:[]};function n(){var e;adalyserModules.helpers.forEach(mutState.bufferFlushers,;if(mutState.expireDateTime){do{e=new Date;if(adalyserModules.helpers.filter(mutState.outQueues,.length===0){break}}while(e.getTime()<mutState.expireDateTime)}}t.AdalyserTracker={};adalyserModules.helpers.addEventListener(t,"beforeunload",n,false);return new adalyserModules.InQueueManager(e,mutState,r)};adalyserModules.InQueueManager=function(e,r,t){var n;function a(){if(adalyserModules.isBot(navigator.userAgent)){return}for(var e=0;e<arguments.length;e+=1){var r=arguments[e];var t=Array.prototype.shift.call(r);if(typeof t=="function"){t.apply(r);continue}if(t==="create"){o(r[0]);continue}n[t].apply(n[t],r)}}function o(e){e=e||{};if(!n){n=new adalyserModules.Tracker(t,r,e);n.setSilo("c5.adalyser.com")}else{console.log("Tracker already exists.")}}for(var i=0;i<e.length;i++){a(e[i])}return{push:a}};adalyserModules.OutQueueManager=function(e,r,s,u,o,l){var c,f=false,d,p;u=u&&window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;var i=u?"/tracking/track/v3/x":"/tracking/track/v3/p";o=adalyserModules.detectors.localStorageAccessible()&&s&&u&&o||1;c=["adal_out_queue",e,u?"post":"get"].join("_");if(s){try{p=JSON.parse(localStorage.getItem(c))}catch(a){}}if(!adalyserModules.libs.lodash.isArray(p)){p=[]}r.outQueues.push(p);if(u&&o>1){r.bufferFlushers.push(function(){if(!f){m()}})}if(u&&o>1){r.bufferFlushers.push(}unction g(e){var r=adalyserModules.libs.lodash.mapValues(e,;return{evt:r,bytes:t(JSON.stringify(r))}}unction n(e,r){d=r+i;if(u){var t=g(e);if(t.bytes>=l){adalyserModules.helpers.warn("Event too large: size "+t.bytes+"exceeds maximum of "+l);var n=h(configCollectorUrl);n.send(encloseInPayloadDataEnvelope(v([t.evt])));return}else{p.push(t)}}else{p.push(y(e))}var a=false;if(s){a=adalyserModules.helpers.attemptWriteLocalStorage(c,JSON.stringify(p))}if(!f&&(!a||p.length>=o)){m()}}function m(){while(p.length&&typeof p[0]!=="string"&&typeof p[0]!=="object"){p.shift()}if(p.length<1){f=false;return}if(!adalyserModules.libs.lodash.isString(d)){throw"No silo configured, cannot track"}f=true;var e=p[0];if(u){var r=h(d);var t=setTimeout(5e3);ar a=n(p);r.onreadystatechange=function(){if(r.readyState===4&&r.status>=200&&r.status<400){for(var e=0;e<a;e++){p.shift()}if(s){adalyserModules.helpers.attemptWriteLocalStorage(c,JSON.stringify(p))}clearTimeout(t);m()}else if(r.readyState===4&&r.status>=400){clearTimeout(t);f=false}};var o=adalyserModules.libs.lodash.map(p.slice(0,a),function(e){return e.evt});if(o.length>0){r.send(JSON.stringify(v(o)))}}else{var i=new Image(1,1);i.onload=function(){p.shift();if(s){adalyserModules.helpers.attemptWriteLocalStorage(c,JSON.stringify(p))}m()};i.onerror=i.src=d+e.replace("?","?stm="+(new Date).getTime()+"&")}}turn{enqueueRequest:n,executeQueue:m}};adalyserModules.Payload=function(e){var r={};r.isJson=r.isNonEmptyJson=function(e){if(!adalyserModules.Payload.isJson(e)){return false}for(var r in e){if(e.hasOwnProperty(r)){return true}}return false};r.payloadBuilder=function(e){var t={};var n=var r=var a=function(e,r){if(adalyserModules.Payload.isNonEmptyJson(r)){var t=JSON.stringify(r);n(e,t)}};return{add:n,addDict:r,addJson:a,build:};return r}();function trackerCore(a){var t={};unction s(e,r,t,n){e.et=t||(new Date).getTime();if(r){e.addJson("co",r)}if(typeof a==="function"){a(e,n)}return e}function e(e,r,t,n){var a=adalyserModules.Payload.payloadBuilder();a.add("e",e);a.eventData=r;return s(a,t,n)}return{addPayloadPair:n,addPayloadDict:resetPayloadPairs:setScreenResolution:function(e,r){n("res",e+"x"+r)},setViewport:setColorDepth:function(e){n("cd",e)},setTimezone:function(e){n("tz",e)},setLang:function(e){n("lang",e)},setIpAddress:trackPageView:function(e,r,t,n,a){var o=adalyserModules.Payload.payloadBuilder();o.add("e","pv");o.add("url",e);o.add("page",r);o.add("refr",t);return s(o,n,a)},trackSession:function(e,r,t,n,a,o){var i=adalyserModules.Payload.payloadBuilder();i.add("e",e);i.eventData=r;i.add("url",t);i.add("refr",n);return s(i,a,o,"ses")},trackEvent:e}}adalyserModules.helpers=function(){var o={};o.determineDeviceType=o.attemptGetLocalStorage=o.attemptWriteLocalStorage=o.findRootDomain=function(){var e="__adal";var r=""+(new Date).getTime();var t=window.location.hostname.split(".");var n=t.length-1;while(n>=0){var a=t.slice(n,t.length).join(".");adalyserModules.libs.cookie(e,r,0,"/",a);if(adalyserModules.libs.cookie(e)===r){o.deleteCookie(e,a);return a}n-=1}return window.location.hostname};o.strEndsWith=function(e,r){if(typeof String.prototype.endsWith=="function"){return String.prototype.endsWith.call(e,r)}return e.indexOf(r,e.length-r.length)!==-1};o.getCookiesWithPrefix=o.deleteCookie=function(e,r){adalyserModules.libs.cookie(e,"",-1,"/",r)};o.getReferrer=o.addEventListener=o.fromQuerystring=o.fixupDomain=o.decorateQuerystring=function i(e){return Object.prototype.toString.call(e)=="[object Array]"}nction t(e,n,r){var a=-1,t=e?e.length:0,o=Array(typeof t=="number"?t:0);n=l(n,r);if(i(e)){while(++a<t){o[a]=n(e[a],a,e)}}else{c(e,}return o}function n(e,n,r){var a={};n=l(n,r);c(e,;return a}function a(e,r,t){var n=i(e)?u:s;r=l(r,t);return n(e,r)}o.filter=a;unction u(e,r){var t=[],n=e.length,a=-1,o=-1;while(++a<n){var i=e[a];if(r(i,a,e)){t[++o]=i}}return t}function l(n,a){if(!n){return identity}if(typeof n!="function"){return if(a!==undefined){return return n}function c(e,r){for(var t in e){if(e.hasOwnProperty(t)){r.apply(e[t],[e[t],t,e])}}}o.forEach=c;var f={bin:{stringToBytes:bytesToString:};adalyserModules.libs||(adalyserModules.libs={});adalyserModules.libs.lodash={isArray:i,isUndefined:r,isString:e,map:t,mapValues:n};adalyserModules.libs.cookie=return o}();adalyserModules.detectors=function(e){var t=window,n={};n.hasLocalStorage=n.localStorageAccessible=n.detectTimezone=return n}();(function(){alyserModules.isBot=function o(e,r){var t=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+))([?][^#]+)"),n=t.exec(e);if(n){return adalyserModules.helpers.fromQuerystring(r,n[1])}return null}adalyserModules.fixupUrl=function(e,r,t){if(e==="translate.googleusercontent.com"){if(t===""){t=r}r=o(r,"u");e=adalyserModules.getHostName(r)}else if(e==="cc.bingj.com"||e==="webcache.googleusercontent.com"||n(e)){r=document.links[0].href;e=adalyserModules.getHostName(r)}return[e,r,t]};adalyserModules.getParameter=o;adalyserModules.fixupTitle=function(e){if(!adalyserModules.libs.lodash.isString(e)){e=e.text||"";var r=document.getElementsByTagName("title");if(r&&!adalyserModules.helpers.lodash.isUndefined(r[0])){e=r[0].text}}return e}})();adalyserModules.trafficSource=function(){var t={},b=document,S=window,k=b.domain;t.searchEngines={"^www\\.daum\\.net$":{name:"Daum",queryStrings:["q"]},"^www\\.eniro\\.se$":{name:"Eniro",queryStrings:["search_word"]},"^www\\.naver\\.com$":{name:"Naver",queryStrings:["query"]},"^www\\.google\\..*$":{name:"Google",queryStrings:["q"]},"^images\\.google\\.com$":{name:"Google",queryStrings:["q"]},"^cse\\.google\\..*$":{name:"Google",queryStrings:["q"]},"com.google.android.googlequicksearchbox":{name:"Google",queryStrings:["q"]},"^www\\.yahoo\\.com$":{name:"Yahoo",queryStrings:["p"]},"^www\\.msn\\.com$":{name:"MSN",queryStrings:["q"]},"^www\\.bing\\.com$":{name:"Bing",queryStrings:["q"]},"^www\\.aol\\.com$":{name:"AOL",queryStrings:["query","encquery","q"]},"^www\\.lycos\\.com$":{name:"Lycos",queryStrings:["query"]},"^www\\.ask\\.com$":{name:"Ask",queryStrings:["q"]},"^www\\.altavista\\.com$":{name:"Altavista",queryStrings:["q"]},"^search\\.netscape\\.com$":{name:"Netscape",queryStrings:["query"]},"^www\\.cnn\\.com$":{name:"CNN",queryStrings:["query"]},"^www\\.about\\.com$":{name:"About",queryStrings:["terms"]},"^www\\.mamma\\.com$":{name:"Mamma",queryStrings:["query"]},"^www\\.alltheweb\\.com$":{name:"Alltheweb",queryStrings:["q"]},"^www\\.voila\\.fr$":{name:"Voila",queryStrings:["rdata"]},"^search\\.virgilio\\.it$":{name:"Virgilio",queryStrings:["qs"]},"^www\\.bing\\.com$":{name:"Live",queryStrings:["q"]},"^www\\.baidu\\.com$":{name:"Baidu",queryStrings:["wd"]},"^www\\.alice\\.com$":{name:"Alice",queryStrings:["qs"]},"^www\\.yandex\\.com$":{name:"Yandex",queryStrings:["text"]},"^www\\.najdi\\.org\\.mk$":{name:"Najdi",queryStrings:["q"]},"^www\\.mamma\\.com$":{name:"Mama",queryStrings:["query"]},"^www\\.seznam\\.cz$":{name:"Seznam",queryStrings:["q"]},"^www\\.search\\.com$":{name:"Search",queryStrings:["q"]},"^www\\.wp\\.pl$":{name:"Wirtulana Polska",queryStrings:["szukaj"]},"^online\\.onetcenter\\.org$":{name:"O*NET",queryStrings:["qt"]},"^www\\.szukacz\\.pl$":{name:"Szukacz",queryStrings:["q"]},"^www\\.yam\\.com$":{name:"Yam",queryStrings:["k"]},"^www\\.pchome\\.com$":{name:"PCHome",queryStrings:["q"]},"^www\\.kvasir\\.no$":{name:"Kvasir",queryStrings:["q"]},"^sesam\\.no$":{name:"Sesam",queryStrings:["q"]},"^www\\.ozu\\.es$":{name:"Ozu",queryStrings:["q"]},"^www\\.terra\\.com$":{name:"Terra",queryStrings:["query"]},"^www\\.mynet\\.com$":{name:"Mynet",queryStrings:["q"]},"^www\\.ekolay\\.net$":{name:"Ekolay",queryStrings:["q"]},"^www\\.rambler\\.ru$":{name:"Rambler",queryStrings:["words"]}};t.socialNetworks={"^(.*\\.)?facebook\\.com$":"Facebook","^(.*\\.)?fb\\.me$":"Facebook","^(.*\\.)?twitter\\.com$":"Twitter","^(.*\\.)?linkedin\\.com$":"LinkedIn","^(.*\\.)?lnkd\\.in$":"LinkedIn","^(.*\\.)?pinterest\\.com$":"Pinterest","^(.*\\.)?blogger\\.com$":"Blogger","^(.*\\.)?blogspot\\.com$":"Blogger","^(.*\\.)?weebly\\.com$":"Weebly","^(.*\\.)?livejournal\\.com$":"LiveJournal","^(.*\\.)?plus\\.google\\.com$":"Google+","^(.*\\.)?youtube\\.com$":"YouTube"};t.referrerBlacklist=["^(.*\\.)?securesuite\\.co\\.uk.*$","^(.*\\.)?clicksafe\\.lloydstsb\\.com.*$","^(.*\\.)?arcot.com.*$","^(.*\\.)?barclaycard\\.co\\.uk.*$","^(.*\\.)?paypal\\.co.*$","^(.*\\.)?stripe.com.*$","^(.*\\.)?barclaycard\\.co\\.uk.*$","^(.*\\.)?mycardsecure\\.com.*$","^(.*\\.)?live\\.barclaycardsmartpay\\.com.*$","^(.*\\.)?verifiedbyvisa.barclays\\.co\\.uk.*$","^(.*\\.)?cap\\.attempts\\.securecode\\.com.*$","^(.*\\.)?customer.cc.at.paysafecard.com.*$","^(.*\\.)?acs4\\.3dsecure\\.no.*$","^(.*\\.)?securesuite\\.net.*$","^(.*\\.)?vcas2\\.visa\\.com.*$","^(.*\\.)?acs\\.sia\\.eu.*$","^(.*\\.)?hpp\\.realexpayments\\.com.*$","^(.*\\.)?pay\\.realexpayments\\.com.*$","^(.*\\.)?secure\\.worldpay\\.com.*$","^(.*\\.)?^adyen\\.com.*$","^(.*\\.)?^securesuite\\.co.*$","^(.*\\.)?^3dsecure\\.no.*$","^(.*\\.)?^acs2-3dsecure\\.cm-cic\\.com.*$","^(.*\\.)?^unitradeprod\\.alipay\\.com.*$","^(.*\\.)?clearpay\\.co\\.uk.*$","^(.*\\.)?^pay\\.klarna\\.com.*$","^(.*\\.)?^portal\\.afterpay\\.com.*$"];function M(e){if(typeof e==="undefined"){return false}for(var r in t.searchEngines){if(e.search(r)>-1){return t.searchEngines[r]}}return false}function _(e){if(typeof e==="undefined"){return false}for(var r in t.socialNetworks){if(e.search(r)>-1){return t.socialNetworks[r]}}return false}function q(e,r){if(e==k){return false}if(typeof e==="undefined"){return false}for(var t in r){if(e.search(r[t])>-1){return false}}return true}function P(e){var r=e.split("&"),t={};for(var n=0;n<r.length;n++){var a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}t.getCampaignData=function(e,r,t){var n=k,a=P(S.location.search.substring(1)),o=b.referrer.split("?"),i=o[0],s=i.split("/")[0],u=i.split("/")[2],l;if(o.length==2){l=P(o[1])}var c={};var f,d;var p={setFromPrevious:false};if(a["gclid"]||a["gclsrc"]){c.so="google";c.me="cpc";c.gclid=a["gclid"]}else if(a["utm_source"]){if(t){var y=false;var g=a["utm_source"];for(var m=0;m<t.length;m++){if(g==t[m]){if(g=="facebook"&&"video"!=a["utm_medium"]){break}y=true;break}}p.isClickThrough=y}var h={so:"utm_source",me:"utm_medium",ca:"utm_campaign",co:"utm_content",ke:"utm_term"};adalyserModules.helpers.forEach(h,function(e,r,t){if(a[e]){c[r]=a[e]}else{c[r]="(not set)"}})}else if((f=M(u))!==false){c.so=f.name;c.me="organic";c.ca="(not set)";c.co="(not set)";c.ke="(not set)";if("https:"!=s&&typeof l!="undefined"){for(var v=0;v<f.queryStrings.length;v++){var w=l[f.queryStrings[v]];if(typeof w!="undefined"){c.ke=w}}}}else if((d=_(u))!==false){c.so=d;c.me="social";c.ca="(not set)";c.co="(not set)";c.ke="(not set)"}else if(q(u,r)){c.so=u;c.me="referral";c.ca="referral";c.co=i;c.ke="(not set)"}if(typeof c.so=="undefined"){if(e){c=e;p["setFromPrevious"]=true}else{c.so="direct";c.me="none";c.ca="direct";c.co="(not set)";c.ke="(not set)"}}p["campaignParams"]=c;return p};t.getChannelGrouping=function(e,r,t,n){var a=e.so,o=e.me;if(!a||!o){return"Unknown"}if(o=="organic"){return"Organic"}if(o=="referral"){return"Referral"}if(o=="email"){return"Email"}if(a=="direct"&&/^(\(not set\)|none)$/.test(o)){return"Direct"}if(/^(cpc|ppc|paidsearch)$/.test(o)){if(r){var i=P(S.location.search.substring(1));for(var s in r){var u=r[s];if(i[s]){for(var l in u){if(i[s].search(u[l])>-1){return"Paid Search (Brand)"}}}}return"Paid Search (Generic)"}else if(t){var i=P(S.location.search.substring(1));if(i[t]){for(var l in n){if(i[t].search(n[l])>-1){return"Paid Search (Brand)"}}}return"Paid Search (Generic)"}return"Paid Search"}if(/^(cpv|cpa|cpp|content-text)$/.test(o)){return"Other Advertising"}if(/^(social|social-network|social-media|sm|social network|social media)$/.test(o)){return"Social"}if(/^(display|cpm|banner)$/.test(o)){return"Display"}return"Unknown"};return t}();adalyserModules.Tracker=function(b,n,e){var k=e.hasOwnProperty("clientId")?e.clientId:0,r={68856412500:{campaignCookieTimeout:1209600}};if(k&&r.hasOwnProperty(k)){var t=r[k];for(var a in t){if(t.hasOwnProperty(a)){e[a]=t[a]}}}var o=adalyserModules(function(e,r){Ee(e);if(r=="ses"){if(x){var t=R();if(!t){qe(e.et)}ye(e,f)}x=false}else{ye(e,f)}}),u=document,i=window,M=navigator,s=adalyserModules.fixupUrl(u.domain,i.location.href,adalyserModules.helpers.getReferrer()),_=adalyserModules.helpers.fixupDomain(s[0]),q=s[1],P=s[2],l,c=u.title,f=e.hasOwnProperty("pageUnloadTimer")?e.pageUnloadTimer:500,S,J="_adal_",d=e.hasOwnProperty("cookieDomain")?e.cookieDomain:null,p="/",y,j=e.hasOwnProperty("visitorCookieTimeout")?e.campaignCookieTimeout:63072e3,I=e.hasOwnProperty("campaignCookieTimeout")?e.campaignCookieTimeout:15552e3,U=e.hasOwnProperty("viewThroughCookieTimeout")?e.viewThroughCookieTimeout:2592e3,g=e.hasOwnProperty("conversionCookieTimeout")?e.conversionCookieTimeout:2592e3,B=e.hasOwnProperty("useLandingPageCookie")?e.useLandingPageCookie===true:false,z=e.hasOwnProperty("landingPageCookieTimeout")?e.landingPageCookieTimeout:2592e3,T=e.hasOwnProperty("sessionCookieTimeout")?e.sessionCookieTimeout:1800,F=adalyserModules.trafficSource.referrerBlacklist.concat(e.hasOwnProperty("trafficSourceInternalReferrers")?e.trafficSourceInternalReferrers:[]),Q=u.characterSet||u.charset,H=e.hasOwnProperty("forceSecureTracker")?e.forceSecureTracker===true:false,G=e.hasOwnProperty("useLocalStorage")?e.useLocalStorage:true,V=e.hasOwnProperty("vodUtmSources")?e.vodUtmSources:[],$=e.hasOwnProperty("useCookies")?e.useCookies:true,W=M.userLanguage||M.language,Y,K=(new Date).getTime(),m,O,C=1,x=false,h=[],X=e.hasOwnProperty("useLinkerParams")?e.useLinkerParams:false,Z=e.hasOwnProperty("linkerExpirationThreshold")?e.linkerExpirationThreshold:12e4,ee=e.hasOwnProperty("brandGenericProp")?e.brandGenericProp:false,re=e.hasOwnProperty("brandPatterns")?e.brandPatterns:[],te=e.hasOwnProperty("brandMap")?e.brandMap:false,ne=e.hasOwnProperty("anonymiseIP")?e.anonymiseIP:false,ae=new adalyserModules.OutQueueManager(b,n,G,e.post,e.bufferSize,e.maxPostBytes||4e4),oe=[];if(!e.hasOwnProperty("discoverRootDomain")||e.discoverRootDomain){d=adalyserModules.helpers.findRootDomain()}o.setTimezone(adalyserModules.detectors.detectTimezone());o.addPayloadPair("lang",W);o.addPayloadPair("cs",Q);function ie(e){var r=R();var t=(new Date).getTime();if(this.href){this.href=adalyserModules.helpers.decorateQuerystring(this.href,"_adal_cw",r+"."+t);var n=A();if(n){var a=w({cg:n.cg});this.href=adalyserModules.helpers.decorateQuerystring(this.href,"_adal_ca",encodeURIComponent(a)+"."+t)}}}function se(e){if(this.action){var r=R();var t=(new Date).getTime();if("post"==this.method.toLowerCase()){this.action=adalyserModules.helpers.decorateQuerystring(this.action,"_adal_cw",r+"."+t);var n=A();if(n){var a=w({cg:n.cg});this.action=adalyserModules.helpers.decorateQuerystring(this.action,"_adal_ca",a+"."+t)}}else if("get"==this.method.toLowerCase()){var o,i;for(var s=0;s<this.childNodes.length;s++){if("_adal_cw"==this.childNodes[s].name){o=this.childNodes[s]}else if("_adal_ca"==this.childNodes[s].name){i=this.childNodes[s]}}if(!o){o=u.createElement("input");o.setAttribute("type","hidden");o.setAttribute("name","_adal_cw");this.appendChild(o)}o.setAttribute("value",r+"."+t);var n=A();var a=w({cg:n.cg});if(n){if(!i){i=u.createElement("input");i.setAttribute("type","hidden");i.setAttribute("name","_adal_ca");this.appendChild(i)}i.setAttribute("value",a+"."+t)}}}}function ue(e){return function(){ie.call(e)}}unction ce(o,i){if(typeof o=="function"){return o}else if(adalyserModules.libs.lodash.isArray(o)){var s=new RegExp(/^https?:\/\/([^\/:]+)/);return function(e){var r=e[i],t=r.match(s),n;if(t){n=t[1]}if(!n||n==u.location.hostname){return false}for(var a=0;a<o.length;a++){if(o[a]instanceof RegExp){if(o[a].test(n))return true}else if(n.indexOf(o[a])>=0){return true}}return false}}}function fe(e){var r=ce(e,"href");for(var t=0;t<document.links.length;t++){var n=document.links[t];if(!n.adalDecorationEnabled&&r(n)){adalyserModules.helpers.addEventListener(n,"click",ue(n));adalyserModules.helpers.addEventListener(n,"mousedown",ue(n));n.adalDecorationEnabled=true}}}function de(e){var r=ce(e,"action");for(var t=0;t<document.forms.length;t++){var n=document.forms[t];if(!n.adalDecorationEnabled&&r(n)){adalyserModules.helpers.addEventListener(n,"submit",le(n));n.adalDecorationEnabled=true}}}function pe(e){var r=adalyserModules.getParameter(e,"_adal_cw");if(r){var t=r.split(".");var n=t.pop();if((new Date).getTime()-parseInt(n)<Z){E();qe(t.join("."))}}var a=adalyserModules.getParameter(e,"_adal_ca");if(a){var o=a.split(".");var i=o.pop();if((new Date).getTime()-parseInt(i)<Z){E();var s=v(o.join("."));if("Direct"===s["cg"]){s.so="direct";s.me="none"}L(s)}}}function ye(e,r){var t=new Date;ae.enqueueRequest(e.build(),l);n.expireDateTime=t.getTime()+r}function N(e){var r;r=new RegExp("#.*");return e.replace(r,"")}function D(){s=adalyserModules.fixupUrl(u.domain,i.location.href,adalyserModules.helpers.getReferrer());if(s[1]!==q){P=adalyserModules.helpers.getReferrer(q)}_=adalyserModules.helpers.fixupDomain(s[0]);q=s[1]}function ge(e){var r,t,n=["","webkit","ms","moz"],a;if(!y){for(t=0;t<n.length;t++){a=n[t];if(u[Se(a,"hidden")]){if(u[Se(a,"visibilityState")]==="prerender"){r=true}break}}}if(r){adalyserModules.helpers.addEventListener(u,a+"visibilitychange",;return}e()}function me(e){return oe.concat(e||[])}unction ve(e,r,t){D();c=u.title;lastConfigTitle=e;var n=adalyserModules.fixupTitle(lastConfigTitle||c);o.trackPageView(N(q),n,N(P),me(he(r,t)))}function we(e,r,t,n){D();o.trackSession(e,r,N(q),N(P),me(he(t,n)))}function be(){if(!geolocationContextAdded&&M.geolocation&&M.geolocation.getCurrentPosition){geolocationContextAdded=true;navigator.geolocation.getCurrentPosition(function(e){var r=e.coords;var t={latitude:r.latitude,longitude:r.longitude,latitudeLongitudeAccuracy:r.accuracy,altitude:r.altitude,altitudeAccuracy:r.altitudeAccuracy,bearing:r.heading,speed:r.speed,timestamp:e.timestamp};oe.push(t)})}}unction E(){if(h.length>0){adalyserModules.libs.cookie("__adal_ses",h.join("_"),T,p,d)}else{adalyserModules.libs.cookie("__adal_ses","*",T,p,d)}}function ke(e,r,t,n,a,o){adalyserModules.libs.cookie("__adal_id",e+"."+r+"."+t+"."+n+"."+a+"."+o,j,p,d)}function A(){var e=adalyserModules.libs.cookie("__adal_ca");if(!e){return null}return v(e)}function Me(){var e=adalyserModules.libs.cookie("__adal_vt");if(!e){return null}return v(e)}function v(e){var r={},t=e.split("&");for(var n=0;n<t.length;n++){var a=t[n].split("=");if(a.length>1){r[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}}if(!adalyserModules.Payload.isNonEmptyJson(r)){return null}return r}function L(e){adalyserModules.libs.cookie("__adal_ca",w(e),I,p,d)}function _e(e){adalyserModules.libs.cookie("__adal_vt",w(e),U,p,d)}function w(e){var r="",t=true;for(var n in e){if(e.hasOwnProperty(n)){if(!t){r+="&"}else{t=false}r+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])}}return r}function R(){return adalyserModules.libs.cookie("__adal_cw")}function qe(e){adalyserModules.libs.cookie("__adal_cw",e,g,p,d)}function Pe(){return adalyserModules.libs.cookie("__adal_lp")}function Te(e){adalyserModules.libs.cookie("__adal_lp",e,z,p,d)}function $e(e){adalyserModules.libs.cookie("__adal_sd",e,g,p,d)}nction xe(){var e=$&&Ne();var r=De();if(r[1]){m=r[1]}else{m=Ce();r[1]=m}O=r[6];if(e){h=e[0]}else{r[3]++;x=true;O=uuid.v4();r[6]=O;r[5]=r[4]}if($){E();if(B){var t=Pe();if(!t){Te(q)}}r[4]=Math.round((new Date).getTime()/1e3);r.shift();ke.apply(null,r)}}function Ne(){var e=adalyserModules.libs.cookie("__adal_ses"),r=[];if(!e){return false}if(e=="*"){r[0]=[]}else{r=e.split(".");if(r[0]){r[0]=r[0].split("_")}}return r}function De(){if(!$){return[]}var e=new Date,r=Math.round(e.getTime()/1e3),t=adalyserModules.libs.cookie("__adal_id"),n;if(t){n=t.split(".");n.unshift("0")}else{n=["1",m,r,0,r,""]}if(!n[6]){n[6]=uuid.v4()}return n}function Ee(e){var r=Math.round((new Date).getTime()/1e3),t="__adal_id",n=Ne(),a=De(),o=a[0],i=a[1],s=a[2],u=a[3],l=a[4],c=a[5],f=a[6];var d=A();var p={};var y=Me();var g=adalyserModules.trafficSource.getCampaignData(d,F,V);var m=g.campaignParams;var h=false;if(!g.setFromPrevious||typeof m["cg"]==="undefined"){m["cg"]=adalyserModules.trafficSource.getChannelGrouping(m,te,ee,re)}if(m.so!=="direct"){if(d){adalyserModules.helpers.forEach(m,function(e,r,t){if(e!==d[r]){h=true}});adalyserModules.helpers.forEach(d,function(e,r,t){if(e!==m[r]){h=true}})}else{h=true}if(!g.setFromPrevious){L(m)}}else{if(!d){L(m)}}var v=e.eventData;if(adalyserModules.libs.lodash.isUndefined(v)){v={}}v["et"]=e.et;if(u>1){v["nr"]="Returning"}else{v["nr"]="New"}v["cg"]=m["cg"];v["dt"]=adalyserModules.helpers.determineDeviceType(M.userAgent);adalyserModules.helpers.forEach(m,;if(g.isClickThrough){p=m;p["ctt"]=e.et;_e(p)}else{p=y}if(p){adalyserModules.helpers.forEach(p,}if(o==="0"){O=f;if(!n&&$||h){u++;c=l;O=uuid.v4();x=true}C=u}else{if((new Date).getTime()-K>T*1e3){O=uuid.v4();C++;x=true}}if(ne){v["aip"]=1}var w=Oe();if(w!=""){v["sd"]=w}v["vid"]=C;v["sid"]=O;v["duid"]=i;D();var b=R();if(b){v["cw"]=parseInt(b)}else{v["cw"]=e.et}if(B){var S=Pe();if(S){v["lp"]=S}}e.add("cid",k);e.addJson("p",v);e.add("userAgent",M.userAgent);e.add("domain",_);e.add("url",N(q));e.add("refr",N(P));if($){ke(i,s,C,r,c,O);E()}K=(new Date).getTime()}function Ae(e){if(H){return"https"+"://"+e}return("https:"===u.location.protocol?"https":"http")+"://"+e}if(e.crossDomainLinker){fe(e.crossDomainLinker);if(e.decorateForms){de(e.crossDomainLinker)}}if(X){pe(s[1])}xe();return{setCountPreRendered:setSilo:trackPageView:trackEvent:function(e,r,t){if(t){if(h.indexOf(e)>-1){return}h.push(e)}o.trackEvent(e,r)},trackSession:};(function(){var JSON;JSON||(JSON={}),function(){"use strict"; global=Function("return this")(),JSON=global.JSON;JSON||(JSON={}),"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=;var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=,"function"!=typeof JSON.parse&&(JSON.parse=,global.JSON=JSON}()})();var rng,crypto=window.crypto||window.msCrypto;if(crypto&&crypto.getRandomValues){var _rnds8=new Uint8Array(16);rng=if(!rng){var _rnds=new Array(16);rng=var _byteToHex=[],_hexToByte={},i=0;i<256;i++)_byteToHex[i]=(i+256).toString(16).substr(1),_hexToByte[_byteToHex[i]]=i;var _seedBytes=rng(),_nodeId=[1|_seedBytes[0],_seedBytes[1],_seedBytes[2],_seedBytes[3],_seedBytes[4],_seedBytes[5]],_clockseq=16383&(_seedBytes[6]<<8|_seedBytes[7]),_lastMSecs=0,_lastNSecs=0,uuid=v4;uuid.v1=v1,uuid.v4=v4,uuid.parse=parse,uuid.unparse=unparse;var queueName=window.GlobalAdalyserNamespace.shift();var queue=window[queueName];queue.q=new adalyserModules.AdalyserTracker(queue.q,queueName);
