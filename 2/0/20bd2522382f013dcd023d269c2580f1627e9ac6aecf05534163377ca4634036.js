/*! For license information please see build.js.LICENSE.txt */
(()=>{"use strict";window.__adFormats=window.__adFormats||{},window.__formatsGetters=window.__formatsGetters||{};var e=window.__adFormats,t=window.__formatsGetters;nction o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}new()),p={en:{title:"What is your gender?",subtitle:"Open more pleasure from visiting the site. Anonymous 100%.",male:"Man",female:"Woman",close:"Close"},ru:{title:"Выберите свой пол",subtitle:"Получи ещё больше наслаждения от этого сайта. Анонимно на 100%.",male:"Муж",female:"Жен",close:"Закрыть"},ja:{title:"あなたの性別は何ですか？",subtitle:"このサイトを訪れる楽しみをさらに開放してください。 100％匿名。",male:"男性",female:"女性",close:"閉じる"},de:{title:"Was ist Ihr Geschlecht?",subtitle:"Erleben Sie mehr Freude beim Besuch der Website. 100% anonym.",male:"Mann",female:"Frau",close:"Schließen"},es:{title:"¿Cuál es tu género?",subtitle:"Descubre más placer al visitar el sitio. 100% anónimo.",male:"Hombre",female:"Mujer",close:"Cerrar"},ar:{title:"¿Cuál es tu géneron.call(e,"string");if("object"!==y((e)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}var w=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.localization=o,this.fingerprint=n.visitorIdString,this.utmSource=n.holdableQSParams.utm_campaign,this.adMetrics=r.metrics,this.reffererDomain=n.entryReferrerDomain,this.primaryReferrer=window.location.href,this.adTags=n.keywords,this.selector=i}var t,n,r,o;return t=e,n=[{key:"shouldShowQuestionnaire",value:function(){var e=localStorage.getItem(d),t=e?JSON.parse(e):{},n=!0===t.answered,r="3"===t.answer_logic,o=parseInt(localStorage.getItem("visitCounter"))||0;return!r&&!n&&o>=2}},{key:"renderQuestionnaire",value:function(){if(this.shouldShowQuestionnaire()){var e,t=navigator.language||"en-US",n=function(e,t){var n=h(e,"title",t),r=h(e,"subtitle",t),o=h(e,"male",t),i=h(e,"female",t);return'\n<div class="questionnaire-container">\n    <div class="genderQuestionnaire">\n        <button class="close">×</button>\n        <h1>'.concat(n,"</h1>\n        <p>").concat(r,'</p>\n        <div class="buttons-wrapper">\n            <button class="male">').concat(o,'</button>\n            <button class="female">').concat(i,"</button>\n        </div>\n    </div>\n</div>\n    ")}(this.localization,t).trim(),r=function(e,t,n){var r=document.createElement("div");r.innerHTML=e;var o=r.firstChild;return o.addEventListener("click",(function(e){if("BUTTON"===e.target.tagName){var r=e.target.className;"close"===r?n(!0):"male"!==r&&"female"!==r||t("male"===r?0:1)}})),o}(n,this.submitAnswer.bind(this),this.closeQuestionnaire);(e=document.createElement("style")).type="text/css",e.innerText="\n.questionnaire-container {\n    display: flex;\n    align-items: center; \n    justify-content: center;\n    position: relative;\n    width: 100%; \n    padding-top: 10px; \n}\n\n.genderQuestionnaire {\n    font-family: Roboto, sans-serif;\n    background-color: #34333b;\n    padding: 20px;\n    padding-top: 40px;\n    border-radius: 10px;\n    box-shadow: 0 1px 12px rgba(0, 0, 0, 0.3);\n    width: 700px;\n    z-index: 99;\n    text-align: center;\n    position: relative;\n}\n\n.genderQuestionnaire h1 {\n    font-size: 24px;\n    color: #da2054;\n    text-transform: uppercase;\n    margin-bottom: 0.5em;\n}\n\n.genderQuestionnaire p {\n    font-size: 18px;\n    color: #929197;\n    margin-bottom: 20px;\n}\n\n.genderQuestionnaire .buttons-wrapper {\n    display: flex;\n    justify-content: space-between;\n    gap: 10px;\n}\n\n.genderQuestionnaire button {\n    padding: 10px 30px;\n    border: 2px solid #da2054;\n    background-color: transparent;\n    border-radius: 5px;\n    cursor: pointer;\n    color: #da2054;\n    text-align: center;\n    font-size: 18px;\n    flex: 1;\n}\n\n.genderQuestionnaire .close {\n    background: none;\n    font-size: 26px;\n    border: none;\n    color: #da2054;\n    position: absolute;\n    top: 7px;\n    right: 7px;\n    cursor: pointer;\n    padding: 3px;\n}\n\n.genderQuestionnaire button:hover {\n    opacity: 0.8;\n}\n\n@media screen and (max-width: 768px) {\n    .genderQuestionnaire {\n        width: 90%;\n    }\n\n    .genderQuestionnaire h1,\n    .genderQuestionnaire p {\n        font-size: 14px; \n    }\n\n    .genderQuestionnaire button {\n        font-size: 14px; \n    }\n\n    .genderQuestionnaire button.male,\n    .genderQuestionnaire button.female {\n        margin-bottom: 10px;\n    }\n}\n",document.head.appendChild(e),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=0,o=socument.querySelector(e);i?(clearInterval(o),t(i)):++r>=n&&clearInterval(o)}),arguments.length>3&&void 0!==arguments[3]?arguments[3]:500)}(this.selector,(function(e){e.appendChild(r)}))}}},{key:"submitAnswer",value:(o=g(v().mark((function e(t){var n,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={answered:!0,answer_logic:"2",answered_key:!0},localStorage.setItereturn r=e.sent,e.next=8,"https://quizclub.net/survey",o=r,void f.post("https://quizclub.net/survey",o).then((function(e){if(e.status<200||e.status>=400)throw new Error;return e.data}));case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:return e.prev=12,this.closeQuestionnaire(),e.finish(12);case 15:case"end":return e.stop()}var o}),e,this,[[2,10,12,15]])}))),function(e){return o.apply(this,arguments)})},{key:"prepareDataToSend",value:(r=g(v().mark((function e(t){var n,r,o,i,a,s;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){var n=setInterval((function(){window.popunderMetricsForSurvey&&(clearInterval(n),e(window.popunderMetricsForSurvey))}),100)}));case 2:return n=e.sent,r=n.userMetrics||{},o=this.adMetrics.clickProcessor.count,i=n.visitCount||0,a=Math.round(n.timeSess)||0,s=n.interestIds||[],e.abrupt("return",{fingerprint:this.fingerprint,answered:t,ad_tags:this.adTags,pr:this.primaryReferrer,utm_source:this.utmSource,session_time:a,act_sess:o||0,izb:r.selectivity||"0",sp_cl:r.clicksPerSecond||0,sp_scr:r.scrollSpeed||0,intes:r.involvement||[0],ang:r.intolerance||0,act_su:i,interestause_freq:r.videoPauseFreq,video_scroll_freq:r.videoScrollFreq,refdom:this.reffererDomain});case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"closeQuestionnaire",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=localStorage.getItem(d),n=t?JSON.parse(t):{};e&&("1"===n.answer_logic?n.answer_logic="3":n.answer_logic="1"),localStorage.setItem(d,JSON.stringify(n));var r=document.querySelector(".genderQuestionnaire");r&&r.remove()}}],n&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const x=w;function S(e,t){var n=new x(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#estionnaire()}var O,_;console.log("Survey for AdManager."),window.initGenderQuestionnaire=S,_=S,e[O="__genderQuestionnaire"]=_,t[O]&&(function(n){t[n].forEach((function(t){t(e[n])}))}(O),t[O]=null)})();