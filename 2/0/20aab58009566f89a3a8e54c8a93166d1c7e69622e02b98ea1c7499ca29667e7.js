function replaceUrls(t){$(t).each(}function replaceImages(t,e){$(t).not("picture img").error(}function copyToClipboard(){var t=document.getElementById("js-copy-target");t.select(),document.execCommand("Copy"),alert("\u30b3\u30d4\u30fc\u3067\u304d\u307e\u3057\u305f\uff01 : "+t.value)}function copyToClipboardFromId(t){var e=document.getElementById(t);e.select(),document.execCommand("Copy"),alert("\u30b3\u30d4\u30fc\u3067\u304d\u307e\u3057\u305f\uff01 : "+e.value)}function urlSanitize(t){if(-1!==t.indexOf("?")&&(t=t.substring(0,t.indexOf("?"))),window.Quill){var e=window.Quill["import"]("formats/link");return e.sanitize(t)}return""}function uuidv4(){function t(){if(e&&e.getRandomValues){var t=new Uint8Array(1);return e.getRandomValues(t),(t[0]%16).toString(16)}return(16*Math.random()|0).toString(16)}var e=window.crypto||window.msCrypto;return"xxxxxxxx-xxxx-4xxx-8xxx-xxxxxxxxxxxx".replace(/x/g,t)}function set_recaptcha_response(t){window.event.preventDefault(),grecaptcha.ready(function(){var e=document.getElementById("recaptcha_site_key").value;grecaptcha.execute(e,{action:"contact"}).then(function(e){var i=document.getElementById("recaptchaResponse");i.value=e;var n="#"+t;$(n).unbind("submit").submit()})})}function present_non_uploaded_file(t){for(var e=$(t).find("input[data-async_file]"),i=0;i<e.length;i++){var n=e[i];if(n.files[0]&&0==$(n).parent().find(".tmp_path").val().length)return!0}return!1}function upload_to_s3_all_files(t,e){var i=[];$(t).find("input[data-async_file]").each(function(){this.files.length>0&&i.push(this)});var n=$(i),r=n.length,s=[];n.each(function(t){var i=this,n=this.files[0];s[t]={total:n.size,loaded:0};var o=!1;if(n){var a=$(this).parent().find(".tmp_path"),l=$(this).parent().find(".tmp_name"),u=s3_tmp_urls[t];upload_file_to_s3(u,n,function(t){r--,t?(a.val(t),l.val(n.name)):(o=!0,$(i).closest(".list-group-item").find(".alert-no-file-wrapper").html('<p class="alert-danger alert-no-file">\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002</p>')),0==r&&e(!o)},function(e){s[t].loaded=e.loaded;for(var n=0,r=0,o=0;o<s.length;o++){var a=s[o];n+=a.total,r+=a.loaded}var a=r/n,l=$(i).closest("form").find(".progress");l.removeClass("hide"),l.find(".progress-bar").css("width",100*a+"%").attr("aria-valuenow",a)})}}),0==n.length&&setTimeout(1)}function upload_file_to_s3(t,e,i,n){var r=new FormData;for(var s in t.fields)if(t.fields.hasOwnProperty(s)){var o=t.fields[s];r.append(s,o)}r.append("file",e);var a=new XMLHttpRequest;a.open("POST",t.url,!0),a.addEventListener("load",function(){var n=t.fields.key.replace("${filename}",e.name);i(n)},!1),a.addEventListener("error",function(){i(null)},!1),a.upload.addEventListener("progress",n,!1);try{a.send(r)}catch(l){i(null)}}unction change_search_value(t,e){($(".products-event").length||$(".commissions-event").length||$(".product-discount-event").length)&&($('input:hidden[name="'+t+'"]').val(e),$(".event_search_form").submit())}function getSpotlightBannerUrl(){return document.querySelector("body").dataset.spotlight_url+"/wp-json/api/v1/banners"}function form_toJSON(t){var e={};t.querySelectorAll('[name^="product"], [id]').forEach(function(t){if(!["file","submit","reset"].includes(t.type))if("checkbox"===t.type||"radio"===t.type)e[t.id]=t.checked;else if("SELECT"===t.tagName){e[t.id]={};for(var i=0;i<t.options.length;i++){var n=t.options[i];e[t.id][n.value]=n.selected}}else e[t.id]=t.value}),e.editDate=new Date;var i=e.product_tag_list.split(",");return e.product_tag_list=[],i.forEach(function(t){e.product_tag_list.push(t)}),JSON.stringify(e)}function form_restore(t,e){e&&(e=JSON.parse(e)),t.querySelectorAll('[name^="product"], [id]').forEach(function(t){var i=e[t.id];try{if(void 0===i||["file","submit","reset"].includes(t.type))return;if("checkbox"===t.type||"radio"===t.type)t.checked=i;else if("SELECT"===t.tagName)for(var n=0;n<t.options.length;n++){var r=t.options[n];r.value in i&&(r.selected=i[r.value])}else"product_tag_list"===t.id?new Promise(function(t){var e=$("[name='product[tag_list]']");e=e.tagit({singleField:!0,singleFieldDelimiter:",",placeholderText:"\u30bf\u30b0\u3092\u8ffd\u52a0"}),t(e)}).then(:t.value=i}catch(s){console.log(s)}})}function confirm_delete_discount(t){return t?"true"==$("#product_is_public").val()?void $("#product_edit_form").submit():confirm(t)?void $("#product_edit_form").submit():void 0:void $("#product_edit_form").submit()}function changeSelectedCategoryView(){var t=$(".js-fanclub-category-alert"),e=$("#comment-label-any"),i=$("#comment-label-required");t.hide(),i.hide();var n=$(".js-fanclub-category option:selected").val();$.ajax({url:"/api/v1/fanclubs/category_is_real_flag",method:"get",data:{category_id:n},error:function(){console.error("\u30c7\u30fc\u30bf\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")},success:function(r){""!==n&&"real_type"==r.is_real_flag?(t.show(),e.hide(),i.show()):(t.hide(),e.show(),i.hide())}})}if(function(t){ui||{},t.ui.version="1.12.1";var l=0,u=Array.prototype.slice;t.cleanData=t.cleanData),t.widget=t.widget.extend=t.widget.bridge=t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:_destroy:t.noop,widget:function(){return this.element},option:_setOptions:_setOption:_setOptionClasses:_setOptionDisabled:enable:function(){return this._setOptions({disabled:!1})},disable:_classes:_untrackClassesElement:_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:_toggleClass:_on:_off:_delay:_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:_trigger:,t.each({show:"fadeIn",hide:"fadeOut"},,t.widget,),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(:),t.fn.extend({disableSelection:),enableSelection:function(){return this.off(".ui-disableSelection")}});var c="ui-effects-",d="ui-effects-style",h="ui-effects-animated",p=t;t.effects={effect:{}},p),),function(){unction i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"==typeof e&&!e.effect:!0}.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=t.expr.filters.animated)),
t.uiBackCompat!==!1&&t.extend(t.effects,{save:restore:setMode:createWrapper:removeWrapper:),t.extend(t.effects,{version:"1.12.1",define:scaledDimensions:clipToBox:unshift:saveStyle:restoreStyle:mode:getBaseline:createPlaceholder:removePlaceholder:cleanUp:setTransition:),t.fn.extend({effect:show:function(t){return function(n){if(i(n))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:t.fn.hide),toggle:t.fn.toggle),cssUnit:cssClip:transfer:),t.fx.step.clip=(),);var f=t.effects;t.effects.define("blind","hide",,t.effects.define("bounce",,t.effects.define("clip","hide",,t.effects.define("drop","hide",,t.effects.define("explode","hide",,t.effects.define("fade","toggle",,t.effects.define("fold","hide",,t.effects.define("highlight","show",,t.effects.define("size",,t.effects.define("scale",,t.effects.define("puff","hide",,t.effects.define("pulsate","show",,t.effects.define("shake",,t.effects.define("slide","show",;var f;t.uiBackCompat!==!1&&(f=t.effects.define("transfer",),t.ui.focusable=t.extend(t.expr[":"],{focusable:),t.ui.focusable,t.fn.form=t.ui.formResetMixin={_formResetHandler:_bindFormResetHandler:_unbindFormResetHandler:,"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],,t.fn.addBack=,t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=),t.fn.labels=t.fn.scrollParent=t.extend(t.expr[":"],{tabbable:),t.fn.extend({uniqueId:),removeUniqueId:),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:_getCreateEventData:_createIcons:_destroyIcons:_destroy:_setOption:_setOptionDisabled:_keydown:_panelKeyDown:refresh:_processPanels:_refresh:_activate:_findActive:_setupEvents:_eventHandler:_toggle:_animate:_toggleComplete:),t.ui.safeActiveElement=t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:_destroy:_keydown:_activate:refresh:_itemRole:_setOption:_setOptionDisabled:focus:_scrollIntoView:blur:_startOpening:_open:collapseAll:_close:_closeOnDocumentClick:_isDivider:collapse:expand:next:function(t){this._move("next","first",t)},previous:isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:_move:nextPage:previousPage:_hasScroll:select:_filterMenuItems:),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:_destroy:_setOption:_isEventTargetInWidget:_closeOnClickOutside:_appendTo:_initSource:_searchTimeout:search:_search:_response:__response:close:_close:_change:_normalize:_suggest:_resizeMenu:_renderMenu:_renderItemData:_renderItem:_move:widget:function(){return this.menu.element},_value:_keyEvent:_isContentEditable:),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:},__response:),t.ui.autocomplete;var m=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:_destroy:_initWidgets:_callChildMethod:_updateCornerClass:_buildSimpleOptions:_spinnerOptions:_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:_resolveClassesValues:_setOption:refresh:),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:_create:_readType:_enhance:widget:function(){return this.label},_getRadioGroup:_toggleClasses:_destroy:_setOption:_updateIcon:_updateLabel:refresh:]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:_create:_enhance:_updateTooltip:_updateIcon:_destroy:_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:_setOptions:_setOption:refresh:),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:_setOption:),t.fn.button=t.fn.button),t.fn.buttonset=,t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}});var g;t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:_attachDatepicker:_newInst:_connectDatepicker:_attachments:_autoSize:_inlineDatepicker:_dialogDatepicker:_destroyDatepicker:_enableDatepicker:_disableDatepicker:_isDisabledDatepicker:_getInst:_optionDatepicker:_changeDatepicker:_refreshDatepicker:_setDateDatepicker:_getDateDatepicker:_doKeyDown:_doKeyPress:_doKeyUp:_showDatepicker:_updateDatepicker:_shouldFocusInput:_checkOffset:_findPos:_hideDatepicker:_tidyDialog:_checkExternalClick:_adjustDate:_gotoToday:_selectMonthYear:_selectDay:_clearDate:_selectDate:_updateAlternate:noWeekends:iso8601Week:parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var r,s,o,a,l=0,u=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),d=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,h=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,_=!1,b=function(t){var i=e.length>r+1&&e.charAt(r+1)===t;return i&&r++,i},T=w=k=for(r=0;e.length>r;r++)if(_)"'"!==e.charAt(r)||b("'")?k():_=!1;else switch(e.charAt(r)){case"d":v=T("d");break;case"D":w("D",d,h);break;case"o":y=T("o");break;case"m":g=T("m");break;case"M":g=w("M",p,f);break;case"y":m=T("y");break;case"@":a=new Date(T("@")),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((T("!")-this._ticksTo1970)/1e4),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"'":b("'")?k():_=!0;break;default:k()}if(i.length>l&&(o=i.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=m?0:-100)),y>-1)for(g=1,v=y;s=this._getDaysInMonth(m,g-1),!(s>=v);)g++,v-=s;if(a=this._daylightSavingAdjust(new Date(m,g-1,v)),a.getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:_possibleChars:_get:_setDateFromField:_getDefaultDate:_determineDate:_daylightSavingAdjust:_setDate:_getDate:_attachHandlers:_generateHTML:_generateMonthYearHeader:_adjustInstDate:_restrictMinMax:_notifyChange:_getNumberOfMonths:_getMinMaxDate:_getDaysInMonth:_getFirstDayOfMonth:_canAdjustMonth:_isInRange:_getFormatConfig:_formatDate:),t.fn.datepicker=t.datepicker=new n,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var v=!1;t(document).on("mouseup",function(){v=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:_mouseDestroy:_mouseDown:_mouseMove:_mouseUp:_mouseDistanceMet:_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:call:,t.ui.safeBlur=t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:_setOption:_destroy:_mouseCapture:_blockFrames:_unblockFrames:_blurActiveElement:_mouseStart:_refreshOffsets:_mouseDrag:_mouseStop:_mouseUp:cancel:_getHandle:_setHandleClassName:_removeHandleClassName:_createHelper:_setPositionRelative:_adjustOffsetFromHelper:_isRootNode:_getParentOffset:_getRelativeOffset:_cacheMargins:_cacheHelperProportions:_setContainment:_convertPositionTo:_generatePosition:_clear:_trigger:plugins:{},_uiHash:),t.ui.plugin.add("draggable","connectToSortable",{start:stop:drag:),t.ui.plugin.add("draggable","cursor",{start:stop:),t.ui.plugin.add("draggable","opacity",{start:stop:),t.ui.plugin.add("draggable","scroll",{start:drag:),t.ui.plugin.add("draggable","snap",{start:drag:),t.ui.plugin.add("draggable","stack",{start:),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var r=t(i.helper),s=n.options;r.css("zIndex")&&(s._zIndex=r.css("zIndex")),r.css("zIndex",s.zIndex)},stop:function(e,i,n){var r=n.options;r._zIndex&&t(i.helper).css("zIndex",r._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:_isNumber:_hasScroll:_create:_destroy:_setOption:_setupHandles:_removeHandles:function(){this._handles.remove()},_mouseCapture:_mouseStart:_mouseDrag:_mouseStop:_updatePrevProperties:_applyChanges:_updateVirtualBoundaries:_updateCache:_updateRatio:_respectSize:_getPaddingPlusBorderDimensions:_proportionallyResize:_renderProxy:_change:{e:w:n:s:se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:,_propagate:plugins:{},ui:),t.ui.plugin.add("resizable","animate",{stop:),t.ui.plugin.add("resizable","containment",{start:resize:stop:),t.ui.plugin.add("resizable","alsoResize",{start:resize:stop:),t.ui.plugin.add("resizable","ghost",{start:resize:stop:),t.ui.plugin.add("resizable","grid",{resize:),t.ui.resizable,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,
modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:,resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:_init:_appendTo:_destroy:widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:open:_focusTabbable:_keepFocus:_createWrapper:_createTitlebar:_title:_createButtonPane:_createButtons:_makeDraggable:_makeResizable:_trackFocus:_makeFocusTarget:_untrackInstance:_trackingInstances:_minHeight:_position:_setOptions:_setOption:_size:_blockFrames:_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:_createOverlay:_destroyOverlay:),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:_setOption:),t.ui.dialog,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:_addToManager:_splice:_destroy:_setOption:_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:_drop:ui:_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var y=t.ui.intersect=);t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:drop:dragStart:drag:dragStop:,t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:),t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:_destroy:value:_constrainedValue:_setOptions:_setOption:_setOptionDisabled:_percentage:_refreshValue:),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:_destroy:_mouseStart:_mouseDrag:_mouseStop:),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:_drawButton:_drawMenu:refresh:_refreshMenu:open:_position:close:widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:_renderMenu:_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:_setText:_move:_getSelectedItem:_toggle:_setSelection:_documentClick:{mousedown:,_buttonEvents:{mousedown:click:keydown:,_selectFocusedItem:_select:_setAria:_setOption:_setOptionDisabled:_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:_resizeButton:_resizeMenu:_getCreateOptions:_parseOptions:_parseOption:_destroy:]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:_refresh:_createHandles:_createRange:_setupEvents:_destroy:_mouseCapture:_mouseStart:function(){return!0},_mouseDrag:_mouseStop:_detectOrientation:_normValueFromMouse:_uiHash:_hasMultipleValues:_start:_slide:_stop:_change:value:values:_setOption:_setOptionDisabled:_value:_values:_trimAlignValue:_calculateNewMax:_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:_refreshValue:_handleEvents:{keydown:keyup:}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:_isFloating:_create:_setOption:_setHandleClassName:_destroy:_mouseCapture:_mouseStart:_mouseDrag:_mouseStop:cancel:serialize:toArray:_intersectsWith:_intersectsWithPointer:_intersectsWithSides:_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:refresh:_connectWith:_getItemsAsjQuery:_removeCurrentsFromItems:_refreshItems:refreshPositions:_createPlaceholder:_createTrPlaceholder:_contactContainers:_createHelper:_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:_getRelativeOffset:_cacheMargins:_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:_convertPositionTo:_generatePosition:_rearrange:_clear:_trigger:_uiHash:),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:_getCreateOptions:_events:{keydown:keyup:"_stop",focus:blur:mousewheel:"mousedown .ui-spinner-button":"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":"mouseleave .ui-spinner-button":"_stop"},_enhance:_draw:_keydown:_start:_repeat:_spin:_increment:_precision:_precisionOf:_adjustValue:_stop:_setOption:_setOptionDisabled:_setOptions:a(function(t){this._super(t)}),_parse:_format:_refresh:isValid:_value:_destroy:stepUp:a(function(t){this._stepUp(t)}),_stepUp:stepDown:a(function(t){this._stepDown(t)}),_stepDown:pageUp:a(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:a(,value:widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:),_create:_initialActive:_getCreateEventData:_tabKeydown:_panelKeydown:_handlePageNav:_findNextTab:_focusNextTab:_setOption:_sanitizeSelector:refresh:_refresh:_processTabs:_getList:_createPanel:_setOptionDisabled:_setupEvents:_setupHeightStyle:_eventHandler:_toggle:_activate:_findActive:_getIndex:_destroy:enable:disable:load:_ajaxSettings:_getPanelForTab:),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:_removeDescribedBy:_create:_setOption:_setOptionDisabled:_disable:_enable:open:_updateContent:_open:_registerCloseHandlers:close:_tooltip:_find:_removeTooltip:_appendTo:_destroy:),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:),t.ui.tooltip}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+jQuery),+jQuery),+jQuery),+jQuery),+jQuery),+jQuery),+jQuery),+jQuery),+jQuery),+jQuery),+jQuery),+jQuery),+jQuery),!function(t){"use strict";var e=window.Slick||{};e=),e.prototype.activateADA=e.prototype.addSlide=e.prototype.slickAdd=e.prototype.animateHeight=e.prototype.animateSlide=e.prototype.getNavTarget=e.prototype.asNavFor=e.prototype.applyTransition=e.prototype.autoPlay=e.prototype.autoPlayClear=e.prototype.autoPlayIterator=e.prototype.buildArrows=e.prototype.buildDots=e.prototype.buildOut=e.prototype.buildRows=e.prototype.checkResponsive=e.prototype.changeSlide=e.prototype.checkNavigable=e.prototype.cleanUpEvents=e.prototype.cleanUpSlideEvents=e.prototype.cleanUpRows=e.prototype.clickHandler=e.prototype.destroy=e.prototype.disableTransition=e.prototype.fadeSlide=e.prototype.fadeSlideOut=e.prototype.filterSlides=e.prototype.slickFilter=e.prototype.focusHandler=e.prototype.getCurrent=e.prototype.slickCurrentSlide=e.prototype.getDotCount=e.prototype.getLeft=e.prototype.getOption=e.prototype.slickGetOption=e.prototype.getNavigableIndexes=e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=e.prototype.goTo=e.prototype.slickGoTo=e.prototype.init=e.prototype.initADA=e.prototype.initArrowEvents=e.prototype.initDotEvents=e.prototype.initSlideEvents=e.prototype.initializeEvents=e.prototype.initUI=e.prototype.keyHandler=e.prototype.lazyLoad=e.prototype.loadSlider=e.prototype.next=e.prototype.slickNext=function(){var t=this;t.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=e.prototype.pause=e.prototype.slickPause=e.prototype.play=e.prototype.slickPlay=e.prototype.postSlide=e.prototype.prev=e.prototype.slickPrev=e.prototype.preventDefault=function(t){t.preventDefault()},e.prototype.progressiveLazyLoad=e.prototype.refresh=e.prototype.registerBreakpoints=e.prototype.reinit=e.prototype.resize=e.prototype.removeSlide=e.prototype.slickRemove=e.prototype.setCSS=e.prototype.setDimensions=e.prototype.setFade=e.prototype.setHeight=e.prototype.setOption=e.prototype.slickSetOption=e.prototype.setPosition=e.prototype.setProps=e.prototype.setSlideClasses=e.prototype.setupInfinite=e.prototype.interrupt=e.prototype.selectHandler=e.prototype.slideHandler=e.prototype.startLoad=e.prototype.swipeDirection=e.prototype.swipeEnd=function(){var t,e,i=this;if(i.dragging=!1,i.interrupted=!1,i.shouldClick=!(i.touchObject.swipeLength>10),void 0===i.touchObject.curX)return!1;if(i.touchObject.edgeHit===!0&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe){switch(e=i.swipeDirection()){case"left":case"down":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.currentDirection=0;break;case"right":case"up":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.currentDirection=1}"vertical"!=e&&(i.slideHandler(t),i.touchObject={},i.$slider.trigger("swipe",[i,e]))}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},e.prototype.swipeHandler=e.prototype.swipeMove=e.prototype.swipeStart=e.prototype.unfilterSlides=e.prototype.slickUnfilter=e.prototype.unload=e.prototype.unslick=e.prototype.updateArrows=e.prototype.updateDots=e.prototype.visibility=t.fn.slick=),!window,,!"undefined"!=typeof self?self:this,function(){return [function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17),r=i(18),s=i(19),o=i(48),a=i(49),l=i(50),u=i(51),c=i(52),d=i(11),h=i(29),p=i(30),f=i(28),m=i(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:n["default"],Format:r["default"],Leaf:s["default"],Embed:u["default"],Scroll:o["default"],Block:l["default"],Inline:a["default"],Text:c["default"],Attributor:{Attribute:d["default"],Class:h["default"],Style:p["default"],Store:f["default"]}};e["default"]=g},function(t,e){"use strict";o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=Error);e.ParchmentError=a;var l={},u={},c={},d={};e.DATA_KEY="__blot";var h;!h=e.Scope||(e.Scope={})),e.create=i,e.find=n,e.query=r,e.register=s},function(t){"use strict";var e=Object.prototype.hasOwnProperty,i=Object.prototype.toString,n=r=t.exports=function s(){var t,e,i,o,a,l,u=arguments[0],c=1,d=arguments.length,h=!1;for("boolean"==typeof u&&(h=u,u=arguments[1]||{},c=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});d>c;++c)if(null!=(t=arguments[c]))for(e in t)i=u[e],o=t[e],u!==o&&(h&&o&&(r(o)||(a=n(o)))?(a?(a=!1,l=i&&n(i)?i:[]):l=i&&r(i)?i:{},u[e]=s(h,l,o)):void 0!==o&&(u[e]=o));return u}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"==typeof t.formats&&(e=(0,d["default"])(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:a(t.parent,e))}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.BlockEmbed=e.bubbleFormats=void 0;var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function x(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:x(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},c=i(2),d=n(c),h=i(4),p=n(h),f=i(0),m=n(f),g=i(14),v=n(g),y=i(5),_=n(y),b=i(8),T=n(b),w=function(t){function e(){return r(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"attach",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new m["default"].Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new p["default"]).insert(this.value(),(0,d["default"])(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var i=m["default"].query(t,m["default"].Scope.BLOCK_ATTRIBUTE);null!=i&&this.attributes.attribute(i,e)}},{key:"formatAt",value:,{key:"insertAt",value:function(t,i,n){if("string"==typeof i&&i.endsWith("\n")){var r=m["default"].create(k.blotName);this.parent.insertBefore(r,0===t?this:this.next),r.insertAt(0,i.slice(0,-1))}else u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,i,n)}}]),e}(m["default"].Embed);w.scope=m["default"].Scope.BLOCK_BLOT;var k=function(t){eturn o(e,t),l(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(m["default"].Leaf).reduce(new p["default"]).insert("\n",a(this))),this.cache.delta}},{key:"deleteAt",value:function(t,i){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,i),this.cache={}}},{key:"formatAt",value:function(t,i,n,r){0>=i||(m["default"].query(n,m["default"].Scope.BLOCK)?t+i===this.length()&&this.format(n,r):u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(i,this.length()-t-1),n,r),this.cache={})}},{key:"insertAt",value:,{key:"insertBefore",value:function(t,i){var n=this.children.head;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,i),n instanceof v["default"]&&n.remove(),this.cache={}}},{key:"length",value:,{key:"moveChildren",value:,{key:"optimize",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:,{key:"removeChild",value:,{key:"split",value:]),e}(m["default"].Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[_["default"],m["default"].Embed,T["default"]],e.bubbleFormats=a,e.BlockEmbed=w,e["default"]=k},function(t,e,i){var n=i(54),r=i(12),s=i(2),o=i(20),a=String.fromCharCode(0),l=l.prototype.insert=l.prototype["delete"]=function(t){return 0>=t?this:this.push({"delete":t})},l.prototype.retain=function(t,e){if(0>=t)return this;var i={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(i.attributes=e),this.push(i)},l.prototype.push=function(t){var e=this.ops.length,i=this.ops[e-1];if(t=s(!0,{},t),"object"==typeof i){if("number"==typeof t["delete"]&&"number"==typeof i["delete"])return this.ops[e-1]={"delete":i["delete"]+t["delete"]},this;if("number"==typeof i["delete"]&&null!=t.insert&&(e-=1,"object"!=typeof(i=this.ops[e-1])))return this.ops.unshift(t),this;if(r(t.attributes,i.attributes)){if("string"==typeof t.insert&&"string"==typeof i.insert)return this.ops[e-1]={insert:i.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof i.retain)return this.ops[e-1]={retain:i.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},l.prototype.chop=l.prototype.filter=function(t){return this.ops.filter(t)},l.prototype.forEach=function(t){this.ops.forEach(t)},l.prototype.map=function(t){return this.ops.map(t)},l.prototype.partition=l.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},l.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+o.length(e):e["delete"]?t-e["delete"]:t},0)},l.prototype.length=l.prototype.slice=function(t,e){t=t||0,"number"!=typeof e&&(e=1/0);for(var i=[],n=o.iterator(this.ops),r=0;e>r&&n.hasNext();){var s;t>r?s=n.next(t-r):(s=n.next(e-r),i.push(s)),r+=o.length(s)}return new l(i)},l.prototype.compose=function(t){for(var e=o.iterator(this.ops),i=o.iterator(t.ops),n=new l;e.hasNext()||i.hasNext();)if("insert"===i.peekType())n.push(i.next());else if("delete"===e.peekType())n.push(e.next());else{var r=Math.min(e.peekLength(),i.peekLength()),s=e.next(r),a=i.next(r);if("number"==typeof a.retain){var u={};"number"==typeof s.retain?u.retain=r:u.insert=s.insert;var c=o.attributes.compose(s.attributes,a.attributes,"number"==typeof s.retain);c&&(u.attributes=c),n.push(u)}else"number"==typeof a["delete"]&&"number"==typeof s.retain&&n.push(a)}return n.chop()},l.prototype.concat=l.prototype.diff=function(t,e){if(this.ops===t.ops)return new l;var i=[this,t].map(,s=new l,u=n(i[0],i[1],e),c=o.iterator(this.ops),d=o.iterator(t.ops);return u.forEach(function(t){for(var e=t[1].length;e>0;){var i=0;switch(t[0]){case n.INSERT:i=Math.min(d.peekLength(),e),s.push(d.next(i));break;case n.DELETE:i=Math.min(e,c.peekLength()),c.next(i),s["delete"](i);break;case n.EQUAL:i=Math.min(c.peekLength(),d.peekLength(),e);var a=c.next(i),l=d.next(i);r(a.insert,l.insert)?s.retain(i,o.attributes.diff(a.attributes,l.attributes)):s.push(l)["delete"](i)}e-=i}}),s.chop()},l.prototype.eachLine=function(t,e){e=e||"\n";for(var i=o.iterator(this.ops),n=new l,r=0;i.hasNext();){if("insert"!==i.peekType())return;var s=i.peek(),a=o.length(s)-i.peekLength(),u="string"==typeof s.insert?s.insert.indexOf(e,a)-a:-1;if(0>u)n.push(i.next());else if(u>0)n.push(i.next(u));else{if(!1===t(n,i.next(1).attributes||{},r))return;r+=1,n=new l}}n.length()>0&&t(n,{},r)},l.prototype.transform=function(t,e){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);for(var i=o.iterator(this.ops),n=o.iterator(t.ops),r=new l;i.hasNext()||n.hasNext();)if("insert"!==i.peekType()||!e&&"insert"===n.peekType())if("insert"===n.peekType())r.push(n.next());else{var s=Math.min(i.peekLength(),n.peekLength()),a=i.next(s),u=n.next(s);if(a["delete"])continue;u["delete"]?r.push(u):r.retain(s,o.attributes.transform(a.attributes,u.attributes,e))}else r.retain(o.length(i.next()));return r.chop()},l.prototype.transformPosition=function(t,e){e=!!e;for(var i=o.iterator(this.ops),n=0;i.hasNext()&&t>=n;){var r=i.peekLength(),s=i.peekType();i.next(),"delete"!==s?("insert"===s&&(t>n||!e)&&(t+=r),n+=r):t-=Math.min(r,t-n)}return t},t.exports=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function f(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:f(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},u=i(8),c=n(u),d=i(0),h=n(d),p=function(t){function e(){return r(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),a(e,[{key:"formatAt",value:function(t,i,n,r){if(e.compare(this.statics.blotName,n)<0&&h["default"].query(n,h["default"].Scope.BLOT)){var s=this.isolate(t,i);r&&s.wrap(n,r)}else l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,i,n,r)}},{key:"optimize",value:],[{key:"compare",value:function(t,i){var n=e.order.indexOf(t),r=e.order.indexOf(i);return n>=0||r>=0?n-r:t===i?0:i>t?-1:1}}]),e}(h["default"].Inline);p.allowedChildren=[p,h["default"].Embed,c["default"]],p.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e["default"]=p},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(e=(0,C["default"])(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e),e.theme&&e.theme!==P.DEFAULTS.theme){if(e.theme=P["import"]("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=D["default"];var i=(0,C["default"])(!0,{},e.theme.DEFAULTS);[i,e].forEach(;var n=Object.keys(i.modules).concat(Object.keys(e.modules)),r=n.reduce(function(t,e){var i=P["import"]("modules/"+e);return null==i?I.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=i.DEFAULTS||{},t},{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={
container:e.modules.toolbar}),e=(0,C["default"])(!0,{},P.DEFAULTS,{modules:r},i,e),["bounds","container","scrollingContainer"].forEach(,e.modules=Object.keys(e.modules).reduce({}),e}function a(t,e,i,n){if(this.options.strict&&!this.isEnabled()&&e===y["default"].sources.USER)return new f["default"];var r=null==i?null:this.getSelection(),s=this.editor.delta,o=t();if(null!=r&&(!0===i&&(i=r.index),null==n?r=u(r,o,e):0!==n&&(r=u(r,i,n,e)),this.setSelection(r,y["default"].sources.SILENT)),o.length()>0){var a,l=[y["default"].events.TEXT_CHANGE,o,s,e];if((a=this.emitter).emit.apply(a,[y["default"].events.EDITOR_CHANGE].concat(l)),e!==y["default"].sources.SILENT){var c;(c=this.emitter).emit.apply(c,l)}}return o}function l(t,e,i,n,r){var s={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(r=n,n=i,i=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(r=n,n=i,i=e,e=0),"object"===(void 0===i?"undefined":c(i))?(s=i,r=n):"string"==typeof i&&(null!=n?s[i]=n:r=i),r=r||y["default"].sources.API,[t,e,s,r]}function u(t,e,i,n){if(null==t)return null;var r=void 0,s=void 0;if(e instanceof f["default"]){var o=[t.index,t.index+t.length].map(function(t){return e.transformPosition(t,n!==y["default"].sources.USER)}),a=d(o,2);r=a[0],s=a[1]}else{var l=[t.index,t.index+t.length].map(function(t){return e>t||t===e&&n===y["default"].sources.USER?t:i>=0?t+i:Math.max(e,t+i)}),u=d(l,2);r=u[0],s=u[1]}return new k.Range(r,s-r)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.overload=e.expandConfig=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=function(){function t(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();i(53);var p=i(4),f=n(p),m=i(57),g=n(m),v=i(9),y=n(v),_=i(7),b=n(_),T=i(0),w=n(T),k=i(22),x=n(k),S=i(2),C=n(S),E=i(10),O=n(E),A=i(32),D=n(A),I=(0,O["default"])("quill"),P=function(){function t(e){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(this,t),this.options=o(e,n),this.container=this.options.container,null==this.container)return I.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new y["default"],this.scroll=w["default"].create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new g["default"](this.scroll),this.selection=new x["default"](this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(y["default"].events.EDITOR_CHANGE,function(t){t===y["default"].events.TEXT_CHANGE&&i.root.classList.toggle("ql-blank",i.editor.isBlank())}),this.emitter.on(y["default"].events.SCROLL_UPDATE,;var l=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(l),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return h(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),O["default"].level(t)}},{key:"find",value:function(t){return t.__quill||w["default"].find(t)}},{key:"import",value:,{key:"register",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var r=t.attrName||t.blotName;"string"==typeof r?this.register("formats/"+r,t,e):Object.keys(t).forEach(}else null==this.imports[t]||n||I.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?w["default"].register(e):t.startsWith("modules")&&"function"==typeof e.register&&e.register()}}]),h(t,[{key:"addContainer",value:,{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:,{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:,{key:"focus",value:,{key:"format",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y["default"].sources.API;return a.call(this,function(){var n=i.getSelection(!0),s=new f["default"];if(null==n)return s;if(w["default"].query(t,w["default"].Scope.BLOCK))s=i.editor.formatLine(n.index,n.length,r({},t,e));else{if(0===n.length)return i.selection.format(t,e),s;s=i.editor.formatText(n.index,n.length,r({},t,e))}return i.setSelection(n,y["default"].sources.SILENT),s},n)}},{key:"formatLine",value:function(t,e,i,n,r){var s=this,o=void 0,u=l(t,e,i,n,r),c=d(u,4);return t=c[0],e=c[1],o=c[2],r=c[3],a.call(this,function(){return s.editor.formatLine(t,e,o)},r,t,0)}},{key:"formatText",value:,{key:"getBounds",value:,{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,i=l(t,e),n=d(i,2);return t=n[0],e=n[1],this.editor.getContents(t,e)}},{key:"getFormat",value:,{key:"getIndex",value:,{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:,{key:"getModule",value:,{key:"getSelection",value:,{key:"getText",value:,{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:,{key:"insertText",value:,{key:"isEnabled",value:,{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:,{key:"pasteHTML",value:,{key:"removeFormat",value:,{key:"scrollIntoView",value:,{key:"setContents",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y["default"].sources.API;return a.call(this,function(){t=new f["default"](t);var i=e.getLength(),n=e.editor.deleteText(0,i),r=e.editor.applyDelta(t),s=r.ops[r.ops.length-1];return null!=s&&"string"==typeof s.insert&&"\n"===s.insert[s.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),r["delete"](1)),n.compose(r)},i)}},{key:"setSelection",value:function(e,i,n){if(null==e)this.selection.setRange(null,i||t.sources.API);else{var r=l(e,i,n),s=d(r,4);e=s[0],i=s[1],n=s[3],this.selection.setRange(new k.Range(e,i),n),n!==y["default"].sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y["default"].sources.API,i=(new f["default"]).insert(t);return this.setContents(i,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y["default"].sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y["default"].sources.API;return a.call(this,function(){return t=new f["default"](t),e.editor.applyDelta(t,i)},i,!0)}}]),t}();P.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},P.events=y["default"].events,P.sources=y["default"].sources,P.version="1.3.6",P.imports={delta:f["default"],parchment:w["default"],"core/module":b["default"],"core/theme":D["default"]},e.expandConfig=o,e.overload=l,e["default"]=P},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=n.DEFAULTS={},e["default"]=n},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=function(t){return t&&t.__esModule?t:{"default":t}}(o),l=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),e}(a["default"].Text);e["default"]=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function m(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:m(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},u=i(58),c=n(u),d=i(10),h=n(d),p=(0,h["default"])("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(t){document.addEventListener(t,function(){for(var t=arguments.length,e=Array(t),i=0;t>i;i++)e[i]=arguments[i];[].slice.call(document.querySelectorAll(".ql-container")).forEach(})});var f=function(t){eturn o(e,t),a(e,[{key:"emit",value:,{key:"handleDOM",value:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;e>n;n++)i[n-1]=arguments[n];(this.listeners[t.type]||[]).forEach(}},{key:"listenDOM",value:]),e}(c["default"]);f.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},f.sources={API:"api",SILENT:"silent",USER:"user"},e["default"]=f},function(t,e){"use strict";function i(t){if(r.indexOf(t)<=r.indexOf(s)){for(var e,i=arguments.length,n=Array(i>1?i-1:0),o=1;i>o;o++)n[o-1]=arguments[o];(e=console)[t].apply(e,n)}}bject.defineProperty(e,"__esModule",{value:!0});var r=["error","warn","log","info"],s="warn";i.level=n.level=function(t){s=t},e["default"]=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=);e["default"]=r},function(t,e,i){ o=Array.prototype.slice,a=i(55),l=i(56),u=t.exports=,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.Code=void 0;var a=function(){function t(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function w(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:w(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},c=i(4),d=n(c),h=i(0),p=n(h),f=i(3),m=n(f),g=i(5),v=n(g),y=i(8),_=n(y),b=function(t){function e(){return r(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(v["default"]);b.blotName="code",b.tagName="CODE";var T=function(t){function e(){return r(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce(new d["default"])}},{key:"format",value:function(t,i){if(t!==this.statics.blotName||!i){var n=this.descendant(_["default"],this.length()-1),r=a(n,1),s=r[0];null!=s&&s.deleteAt(s.length()-1,1),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,i)}}},{key:"formatAt",value:function(t,i,n,r){if(0!==i&&null!=p["default"].query(n,p["default"].Scope.BLOCK)&&(n!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var s=this.newlineIndex(t);if(!(0>s||s>=t+i)){var o=this.newlineIndex(t,!0)+1,a=s-o+1,l=this.isolate(o,a),u=l.next;l.format(n,r),u instanceof e&&u.formatAt(0,t-o+i-a,n,r)}}}},{key:"insertAt",value:function(t,e,i){if(null==i){var n=this.descendant(_["default"],t),r=a(n,2),s=r[0],o=r[1];s.insertAt(o,e)}}},{key:"length",value:,{key:"newlineIndex",value:,{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(p["default"].create("text","\n")),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var i=this.next;null!=i&&i.prev===this&&i.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===i.statics.formats(i.domNode)&&(i.optimize(t),i.moveChildren(this),i.remove())}},{key:"replace",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(t){var e=p["default"].find(t);null==e?t.parentNode.removeChild(t):e instanceof p["default"].Embed?e.remove():e.unwrap()})}}],[{key:"create",value:,{key:"formats",value:function(){return!0}}]),e}(m["default"]);T.blotName="code-block",T.tagName="PRE",T.TAB="  ",e.Code=b,e["default"]=T},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function d(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:d(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},l=i(0),u=function(t){return t&&t.__esModule?t:{"default":t}}(l),c=u["default"].Embed);c.blotName="break",c.tagName="BR",e["default"]=c},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}bject.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e["default"]=void 0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:h(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},u=i(5),c=function(t){return t&&t.__esModule?t:{"default":t}}(u),d=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"format",value:function(t,i){return t===this.statics.blotName&&i?(i=this.constructor.sanitize(i),void this.domNode.setAttribute("href",i)):l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,i)}}],[{key:"create",value:,{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:]),e}(c["default"]);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e["default"]=d,e.sanitize=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}bject.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(25),u=n(l),c=i(106),d=n(c),h=0,p=function(){function t(e){var i=this;r(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){i.togglePicker()}),this.label.addEventListener("keydown",function(t){switch(t.keyCode){case u["default"].keys.ENTER:i.togglePicker();break;case u["default"].keys.ESCAPE:i.escape(),t.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return a(t,[{key:"togglePicker",value:,{key:"buildItem",value:function(t){var e=this,i=document.createElement("span");return i.tabIndex="0",i.setAttribute("role","button"),i.classList.add("ql-picker-item"),t.hasAttribute("value")&&i.setAttribute("data-value",t.getAttribute("value")),t.textContent&&i.setAttribute("data-label",t.textContent),i.addEventListener("click",,i.addEventListener("keydown",function(t){switch(t.keyCode){case u["default"].keys.ENTER:e.selectItem(i,!0),t.preventDefault();break;case u["default"].keys.ESCAPE:e.escape(),t.preventDefault()}}),i}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=d["default"],t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:,{key:"buildPicker",value:,{key:"escape",value:,{key:"close",value:,{key:"selectItem",value:,{key:"update",value:]),t}();e["default"]=p},function(t,e,i){"use strict";ar r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=i(47),o=i(27),a=i(1),l=function(t){eturn r(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=e.prototype.build=function(){this.children=new s["default"],[].slice.call(this.domNode.childNodes).reverse().forEach(},e.prototype.deleteAt=function(t,e){return 0===t&&e===this.length()?this.remove():void this.children.forEachAt(t,e,},e.prototype.descendant=e.prototype.descendants=e.prototype.detach=e.prototype.formatAt=e.prototype.insertAt=e.prototype.insertBefore=e.prototype.length=e.prototype.moveChildren=e.prototype.optimize=e.prototype.path=e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var i=this.clone();return this.parent.insertBefore(i,this.next),this.children.forEachAt(t,this.length(),function(t,n){t=t.split(n,e),i.appendChild(t)}),i},e.prototype.unwrap=e.prototype.update=function(t){var e=this,i=[],r=[];t.forEach(,r.forEach(,i.filter(.sort(.forEach(},e}(o["default"]);e["default"]=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(11),s=i(28),o=i(17),a=i(1),l=function(t){function e(e){var i=t.call(this,e)||this;return i.attributes=new s["default"](i.domNode),i}return n(e,t),e.formats=e.prototype.format=function(t,e){var i=a.query(t);i instanceof r["default"]?this.attributes.attribute(i,e):e&&(null==i||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=e.prototype.replaceWith=e.prototype.update=e.prototype.wrap=e}(o["default"]);e["default"]=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(27),s=i(1),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.value=function(){return!0},e.prototype.index=e.prototype.position=function(t){var e=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(e+=1),[this.parent.domNode,e]},e.prototype.value=e.scope=s.Scope.INLINE_BLOT,e}(r["default"]);e["default"]=o},function(t,e,i){ar r=i(12),s=i(2),o={attributes:{compose:diff:transform:,iterator:length:function(t){return"number"==typeof t["delete"]?t["delete"]:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}};n.prototype.hasNext=n.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var i=this.offset,n=o.length(e);if(t>=n-i?(t=n-i,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e["delete"])return{"delete":t};var r={};return e.attributes&&(r.attributes=e.attributes),"number"==typeof e.retain?r.retain=t:"string"==typeof e.insert?r.insert=e.insert.substr(i,t):r.insert=e.insert,r}return{retain:1/0}},n.prototype.peek=n.prototype.peekLength=n.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index]["delete"]?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},t.exports=o},function(t){var e=);"object"==typeof t&&t.exports&&(t.exports=e)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}unction s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}bject.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.Range=void 0;var a=function(){function t(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),c=n(u),d=i(21),h=n(d),p=i(12),f=n(p),m=i(9),g=n(m),v=i(10),y=n(v),_=(0,y["default"])("quill:selection"),b=T=function(){function t(e,i){var n=this;s(this,t),this.emitter=i,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c["default"].create("cursor",this),this.lastRange=this.savedRange=new b(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){n.mouseDown||setTimeout(n.update.bind(n,g["default"].sources.USER),1)}),this.emitter.on(g["default"].events.EDITOR_CHANGE,function(t,e){t===g["default"].events.TEXT_CHANGE&&e.length()>0&&n.update(g["default"].sources.SILENT)}),this.emitter.on(g["default"].events.SCROLL_BEFORE_UPDATE,function(){if(n.hasFocus()){var t=n.getNativeRange();null!=t&&t.start.node!==n.cursor.textNode&&n.emitter.once(g["default"].events.SCROLL_UPDATE,}}),this.emitter.on(g["default"].events.SCROLL_OPTIMIZE,,this.update(g["default"].sources.SILENT)}return l(t,[{key:"handleComposition",value:,{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,function(){t.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){t.mouseDown=!1,t.update(g["default"].sources.USER)})}},{key:"focus",value:,{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var i=this.getNativeRange();if(null!=i&&i["native"].collapsed&&!c["default"].query(t,c["default"].Scope.BLOCK)){if(i.start.node!==this.cursor.textNode){var n=c["default"].find(i.start.node,!1);if(null==n)return;if(n instanceof c["default"].Leaf){var r=n.split(i.start.offset);n.parent.insertBefore(this.cursor,r)}else n.insertBefore(this.cursor,i.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:,{key:"getNativeRange",value:,{key:"getRange",value:,{key:"hasFocus",value:,{key:"normalizedToRange",value:function(t){var e=this,i=[[t.start.node,t.start.offset]];t["native"].collapsed||i.push([t.end.node,t.end.offset]);var n=i.map(function(t){var i=a(t,2),n=i[0],r=i[1],s=c["default"].find(n,!0),o=s.offset(e.scroll);return 0===r?o:s instanceof c["default"].Container?o+s.length():o+s.index(n,r)}),s=Math.min(Math.max.apply(Math,r(n)),this.scroll.length()-1),o=Math.min.apply(Math,[s].concat(r(n)));return new b(o,s-o)}},{key:"normalizeNative",value:function(t){if(!o(this.root,t.startContainer)||!t.collapsed&&!o(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},"native":t};return[e.start,e.end].forEach(,e}},{key:"rangeToNative",value:,{key:"scrollIntoView",value:,{key:"setNativeRange",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(_.info("setNativeRange",t,e,i,n),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=i.parentNode){var s=document.getSelection();if(null!=s)if(null!=t){this.hasFocus()||this.root.focus();var o=(this.getNativeRange()||{})["native"];if(null==o||r||t!==o.startContainer||e!==o.startOffset||i!==o.endContainer||n!==o.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==i.tagName&&(n=[].indexOf.call(i.parentNode.childNodes,i),i=i.parentNode);var a=document.createRange();a.setStart(t,e),a.setEnd(i,n),s.removeAllRanges(),s.addRange(a)}}else s.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g["default"].sources.API;if("string"==typeof e&&(i=e,e=!1),_.info("setRange",t),null!=t){var n=this.rangeToNative(t);this.setNativeRange.apply(this,r(n).concat([e]))}else this.setNativeRange(null);this.update(i)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g["default"].sources.USER,e=this.lastRange,i=this.getRange(),n=a(i,2),r=n[0],s=n[1];if(this.lastRange=r,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,f["default"])(e,this.lastRange)){var o;!this.composing&&null!=s&&s["native"].collapsed&&s.start.node!==this.cursor.textNode&&this.cursor.restore();var l=[g["default"].events.SELECTION_CHANGE,(0,h["default"])(this.lastRange),(0,h["default"])(e),t];if((o=this.emitter).emit.apply(o,[g["default"].events.EDITOR_CHANGE].concat(l)),t!==g["default"].sources.SILENT){var u;(u=this.emitter).emit.apply(u,l)}}}}]),t}();e.Range=b,e["default"]=T},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),l=n(a),u=i(3),c=n(u),d=function(t){function e(){return r(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(l["default"].Container);d.allowedChildren=[c["default"],u.BlockEmbed,d],e["default"]=d},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function p(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:p(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},l=i(0),u=function(t){return t&&t.__esModule?t:{"default":t}}(l),c=u["default"].Attributor.Style),d=new u["default"].Attributor.Class("color","ql-color",{scope:u["default"].Scope.INLINE}),h=new c("color","color",{scope:u["default"].Scope.INLINE});e.ColorAttributor=c,e.ColorClass=d,e.ColorStyle=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var i,n=t===F.keys.LEFT?"prefix":"suffix";return i={key:t,shiftKey:e,altKey:null},r(i,n,/^$/),r(i,"handler",function(i){var n=i.index;t===F.keys.RIGHT&&(n+=i.length+1);var r=this.quill.getLeaf(n);return!(v(r,1)[0]instanceof D["default"].Embed&&(t===F.keys.LEFT?e?this.quill.setSelection(i.index-1,i.length+1,P["default"].sources.USER):this.quill.setSelection(i.index-1,P["default"].sources.USER):e?this.quill.setSelection(i.index,i.length+1,P["default"].sources.USER):this.quill.setSelection(i.index+i.length+1,P["default"].sources.USER),1))}),i}function u(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var i=this.quill.getLine(t.index),n=v(i,1),r=n[0],s={};if(0===e.offset){var o=this.quill.getLine(t.index-1),a=v(o,1),l=a[0];if(null!=l&&l.length()>1){var u=r.formats(),c=this.quill.getFormat(t.index-1,1);s=O["default"].attributes.diff(u,c)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-d,d,P["default"].sources.USER),Object.keys(s).length>0&&this.quill.formatLine(t.index-d,d,s,P["default"].sources.USER),this.quill.focus()}}function c(t,e){var i=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-i)){var n={},r=0,s=this.quill.getLine(t.index),o=v(s,1),a=o[0];if(e.offset>=a.length()-1){var l=this.quill.getLine(t.index+1),u=v(l,1),c=u[0];if(c){var d=a.formats(),h=this.quill.getFormat(t.index,1);n=O["default"].attributes.diff(d,h)||{},r=c.length()}}this.quill.deleteText(t.index,i,P["default"].sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index+r-1,i,n,P["default"].sources.USER)}}function d(t){var e=this.quill.getLines(t),i={};if(e.length>1){var n=e[0].formats(),r=e[e.length-1].formats();i=O["default"].attributes.diff(r,n)||{}}this.quill.deleteText(t,P["default"].sources.USER),Object.keys(i).length>0&&this.quill.formatLine(t.index,1,i,P["default"].sources.USER),this.quill.setSelection(t.index,P["default"].sources.SILENT),this.quill.focus()}function h(t,e){var i=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var n=Object.keys(e.format).reduce(function(t,i){return D["default"].query(i,D["default"].Scope.BLOCK)&&!Array.isArray(e.format[i])&&(t[i]=e.format[i]),t},{});this.quill.insertText(t.index,"\n",n,P["default"].sources.USER),this.quill.setSelection(t.index+1,P["default"].sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach(function(t){null==n[t]&&(Array.isArray(e.format[t])||"link"!==t&&i.quill.format(t,e.format[t],P["default"].sources.USER))})}function p(t){return{key:F.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var i=D["default"].query("code-block"),n=e.index,r=e.length,s=this.quill.scroll.descendant(i,n),o=v(s,2),a=o[0],l=o[1];if(null!=a){var u=this.quill.getIndex(a),c=a.newlineIndex(l,!0)+1,d=a.newlineIndex(u+l+r),h=a.domNode.textContent.slice(c,d).split("\n");l=0,h.forEach(,this.quill.update(P["default"].sources.USER),this.quill.setSelection(n,r,P["default"].sources.SILENT)}}}}function f(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,i){this.quill.format(t,!i.format[t],P["default"].sources.USER)}}}function m(t){if("string"==typeof t||"number"==typeof t)return m({key:t});if("object"===(void 0===t?"undefined":g(t))&&(t=(0,b["default"])(t,!1)),"string"==typeof t.key)if(null!=F.keys[t.key.toUpperCase()])t.key=F.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[B]=t.shortKey,delete t.shortKey),t}Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e["default"]=void 0;var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v=function(){function t(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_=i(21),b=n(_),T=i(12),w=n(T),k=i(2),x=n(k),S=i(4),C=n(S),E=i(20),O=n(E),A=i(0),D=n(A),I=i(6),P=n(I),L=i(10),M=n(L),N=i(7),R=n(N),j=(0,M["default"])("quill:keyboard"),B=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",F=function(t){eturn a(e,t),y(e,null,[{key:"match",value:]),y(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=m(t);return null==n||null==n.key?j.warn("Attempted to add invalid keyboard binding",n):("function"==typeof e&&(e={handler:e}),"function"==typeof i&&(i={handler:i}),n=(0,x["default"])(n,e,i),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n),void 0)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",function(i){if(!i.defaultPrevented){var n=i.which||i.keyCode,r=(t.bindings[n]||[]).filter(function(t){return e.match(i,t)});if(0!==r.length){var s=t.quill.getSelection();if(null!=s&&t.quill.hasFocus()){var o=t.quill.getLine(s.index),a=v(o,2),l=a[0],u=a[1],c=t.quill.getLeaf(s.index),d=v(c,2),h=d[0],p=d[1],f=0===s.length?[h,p]:t.quill.getLeaf(s.index+s.length),m=v(f,2),y=m[0],_=m[1],b=h instanceof D["default"].Text?h.value().slice(0,p):"",T=y instanceof D["default"].Text?y.value().slice(_):"",k={collapsed:0===s.length,empty:0===s.length&&l.length()<=1,format:t.quill.getFormat(s),offset:u,prefix:b,suffix:T};r.some(function(e){if(null!=e.collapsed&&e.collapsed!==k.collapsed)return!1;if(null!=e.empty&&e.empty!==k.empty)return!1;if(null!=e.offset&&e.offset!==k.offset)return!1;if(Array.isArray(e.format)){if(e.format.every()return!1}else if("object"===g(e.format)&&!Object.keys(e.format).every(function(t){return!0===e.format[t]?null!=k.format[t]:!1===e.format[t]?null==k.format[t]:(0,w["default"])(e.format[t],k.format[t])}))return!1;return!(null!=e.prefix&&!e.prefix.test(k.prefix)||null!=e.suffix&&!e.suffix.test(k.suffix)||!0===e.handler.call(t,s,k))})&&i.preventDefault()}}}})}}]),e}(R["default"]);F.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},F.DEFAULTS={bindings:{bold:f("bold"),italic:f("italic"),underline:f("underline"),indent:{key:F.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){return e.collapsed&&0!==e.offset?!0:void this.quill.format("indent","+1",P["default"].sources.USER)}},outdent:{key:F.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){return e.collapsed&&0!==e.offset?!0:void this.quill.format("indent","-1",P["default"].sources.USER)}},"outdent backspace":{key:F.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",P["default"].sources.USER):null!=e.format.list&&this.quill.format("list",!1,P["default"].sources.USER)}},"indent code-block":p(!0),"outdent code-block":p(!1),"remove tab":{key:F.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,P["default"].sources.USER)}},tab:{key:F.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new C["default"]).retain(t.index)["delete"](t.length).insert("	");this.quill.updateContents(e,P["default"].sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,P["default"].sources.SILENT)}},"list empty enter":{key:F.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,P["default"].sources.USER),e.format.indent&&this.quill.format("indent",!1,P["default"].sources.USER)}},"checklist enter":{key:F.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),i=v(e,2),n=i[0],r=i[1],s=(0,x["default"])({},n.formats(),{list:"checked"}),o=(new C["default"]).retain(t.index).insert("\n",s).retain(n.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(o,P["default"].sources.USER),this.quill.setSelection(t.index+1,P["default"].sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:F.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var i=this.quill.getLine(t.index),n=v(i,2),r=n[0],s=n[1],o=(new C["default"]).retain(t.index).insert("\n",e.format).retain(r.length()-s-1).retain(1,{header:null});this.quill.updateContents(o,P["default"].sources.USER),this.quill.setSelection(t.index+1,P["default"].sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var i=e.prefix.length,n=this.quill.getLine(t.index),r=v(n,2),s=r[0],o=r[1];if(o>i)return!0;var a=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":a="unchecked";break;case"[x]":a="checked";break;case"-":case"*":a="bullet";break;default:a="ordered"}this.quill.insertText(t.index," ",P["default"].sources.USER),this.quill.history.cutoff();var l=(new C["default"]).retain(t.index-o)["delete"](i+1).retain(s.length()-2-o).retain(1,{list:a});this.quill.updateContents(l,P["default"].sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-i,P["default"].sources.SILENT)}},"code exit":{key:F.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),i=v(e,2),n=i[0],r=i[1],s=(new C["default"]).retain(t.index+n.length()-r-2).retain(1,{"code-block":null})["delete"](1);this.quill.updateContents(s,P["default"].sources.USER)}},"embed left":l(F.keys.LEFT,!1),"embed left shift":l(F.keys.LEFT,!0),"embed right":l(F.keys.RIGHT,!1),"embed right shift":l(F.keys.RIGHT,!0)}},e["default"]=F,e.SHORTKEY=B},function(t,e,i){"use strict";t.exports={align:{"":i(75),center:i(76),right:i(77),justify:i(78)},background:i(79),blockquote:i(80),
bold:i(81),clean:i(82),code:i(40),"code-block":i(40),color:i(83),direction:{"":i(84),rtl:i(85)},"float":{center:i(86),full:i(87),left:i(88),right:i(89)},formula:i(90),header:{1:i(91),2:i(92)},italic:i(93),image:i(94),indent:{"+1":i(95),"-1":i(96)},link:i(97),list:{ordered:i(98),bullet:i(99),check:i(100)},script:{sub:i(101),"super":i(102)},strike:i(103),underline:i(104),video:i(105)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=function(){eturn Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=t.prototype.attach=t.prototype.clone=t.prototype.detach=t.prototype.deleteAt=t.prototype.formatAt=t.prototype.insertAt=t.prototype.insertInto=t.prototype.isolate=t.prototype.length=function(){return 1},t.prototype.offset=t.prototype.optimize=function(){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},t.prototype.remove=t.prototype.replace=t.prototype.replaceWith=t.prototype.split=function(t){return 0===t?this:this.next},t.prototype.update=function(){},t.prototype.wrap=t.blotName="abstract",t}();e["default"]=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11),r=i(29),s=i(30),o=i(1),a=function(){eturn t.prototype.attribute=t.prototype.build=function(){var t=this;this.attributes={};var e=n["default"].keys(this.domNode),i=r["default"].keys(this.domNode),a=s["default"].keys(this.domNode);e.concat(i).concat(a).forEach(function(e){var i=o.query(e,o.Scope.ATTRIBUTE);i instanceof n["default"]&&(t.attributes[i.attrName]=i)})},t.prototype.copy=t.prototype.move=t.prototype.values=t}();e["default"]=a},function(t,e,i){"use strict";ar r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=i(11),o=s["default"]);e["default"]=o},function(t,e,i){"use strict";ar r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||return ();Object.defineProperty(e,"__esModule",{value:!0});var s=i(11),o=s["default"]);e["default"]=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function m(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:m(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=i(0),d=n(c),h=i(8),p=n(h),f=function(t){eturn o(e,t),u(e,null,[{key:"value",value:function(){}}]),u(e,[{key:"detach",value:,{key:"format",value:function(t,i){if(0!==this._length)return l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,i);for(var n=this,r=0;null!=n&&n.statics.scope!==d["default"].Scope.BLOCK_BLOT;)r+=n.offset(n.parent),n=n.parent;null!=n&&(this._length=e.CONTENTS.length,n.optimize(),n.formatAt(r,e.CONTENTS.length,t,i),this._length=0)}},{key:"index",value:,{key:"length",value:function(){return this._length}},{key:"position",value:,{key:"remove",value:,{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,i=this.selection.getNativeRange(),n=void 0,r=void 0,s=void 0;if(null!=i&&i.start.node===t&&i.end.node===t){var o=[t,i.start.offset,i.end.offset];n=o[0],r=o[1],s=o[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var l=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof p["default"]?(n=this.next.domNode,this.next.insertAt(0,l),this.textNode.data=e.CONTENTS):(this.textNode.data=l,this.parent.insertBefore(d["default"].create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=r){var u=[r,s].map(,c=a(u,2);return r=c[0],s=c[1],{startNode:n,startOffset:r,endNode:n,endOffset:s}}}}},{key:"update",value:,{key:"value",value:function(){return""}}]),e}(d["default"].Embed);f.blotName="cursor",f.className="ql-cursor",f.tagName="span",f.CONTENTS="\ufeff",e["default"]=f},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){eturn n(t,[{key:"init",value:,{key:"addModule",value:function(t){var e=this.quill.constructor["import"]("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();r.DEFAULTS={modules:{}},r.themes={"default":r},e["default"]=r},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function m(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:m(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},u=i(0),c=n(u),d=i(8),h=n(d),p="\ufeff",f=function(t){eturn o(e,t),a(e,[{key:"index",value:,{key:"restore",value:function(t){var e=void 0,i=void 0,n=t.data.split(p).join("");if(t===this.leftGuard)if(this.prev instanceof h["default"]){var r=this.prev.length();this.prev.insertAt(r,n),e={startNode:this.prev.domNode,startOffset:r+n.length}}else i=document.createTextNode(n),this.parent.insertBefore(c["default"].create(i),this),e={startNode:i,startOffset:n.length};else t===this.rightGuard&&(this.next instanceof h["default"]?(this.next.insertAt(0,n),e={startNode:this.next.domNode,startOffset:n.length}):(i=document.createTextNode(n),this.parent.insertBefore(c["default"].create(i),this.next),e={startNode:i,startOffset:n.length}));return t.data=p,e}},{key:"update",value:]),e}(c["default"].Embed);e["default"]=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var n=i(0),r=function(t){return t&&t.__esModule?t:{"default":t}}(n),s={scope:r["default"].Scope.BLOCK,whitelist:["right","center","justify"]},o=new r["default"].Attributor.Attribute("align","align",s),a=new r["default"].Attributor.Class("align","ql-align",s),l=new r["default"].Attributor.Style("align","text-align",s);e.AlignAttribute=o,e.AlignClass=a,e.AlignStyle=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var n=i(0),r=function(t){return t&&t.__esModule?t:{"default":t}}(n),s=i(24),o=new r["default"].Attributor.Class("background","ql-bg",{scope:r["default"].Scope.INLINE}),a=new s.ColorAttributor("background","background-color",{scope:r["default"].Scope.INLINE});e.BackgroundClass=o,e.BackgroundStyle=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var n=i(0),r=function(t){return t&&t.__esModule?t:{"default":t}}(n),s={scope:r["default"].Scope.BLOCK,whitelist:["rtl"]},o=new r["default"].Attributor.Attribute("direction","dir",s),a=new r["default"].Attributor.Class("direction","ql-direction",s),l=new r["default"].Attributor.Style("direction","direction",s);e.DirectionAttribute=o,e.DirectionClass=a,e.DirectionStyle=l},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function f(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:f(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},l=i(0),u=function(t){return t&&t.__esModule?t:{"default":t}}(l),c={scope:u["default"].Scope.INLINE,whitelist:["serif","monospace"]},d=new u["default"].Attributor.Class("font","ql-font",c),h=u["default"].Attributor.Style),p=new h("font","font-family",c);e.FontStyle=p,e.FontClass=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var n=i(0),r=function(t){return t&&t.__esModule?t:{"default":t}}(n),s=new r["default"].Attributor.Class("size","ql-size",{scope:r["default"].Scope.INLINE,whitelist:["small","large","huge"]}),o=new r["default"].Attributor.Style("size","font-size",{scope:r["default"].Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=s,e.SizeStyle=o},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function d(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:d(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},l=i(5),u=function(t){return t&&t.__esModule?t:{"default":t}}(l),c=u["default"]);c.blotName="bold",c.tagName=["STRONG","B"],e["default"]=c},function(t){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function d(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:d(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},l=i(16),u=function(t){return t&&t.__esModule?t:{"default":t}}(l),c=u["default"]);e["default"]=c},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function d(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:d(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},l=i(16),u=function(t){return t&&t.__esModule?t:{"default":t}}(l),c=u["default"]);e["default"]=c},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=);e["default"]=r},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}ject.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.BaseTooltip=void 0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=function R(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:R(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},d=i(2),h=n(d),p=i(4),f=n(p),m=i(9),g=n(m),v=i(25),y=n(v),_=i(32),b=n(_),T=i(41),w=n(T),k=i(42),x=n(k),S=i(16),C=n(S),E=i(43),O=n(E),A=[!1,"center","right","justify"],D=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],I=[!1,"serif","monospace"],P=["1","2","3",!1],L=["small",!1,"large","huge"],M=function(t){function e(t,i){r(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i)),o=function a(e){return document.body.contains(t.root)?(null==n.tooltip||n.tooltip.root.contains(e.target)||document.activeElement===n.tooltip.textbox||n.quill.hasFocus()||n.tooltip.hide(),void(null!=n.pickers&&n.pickers.forEach()):document.body.removeEventListener("click",a)};return t.emitter.listenDOM("click",document.body,o),n}return o(e,t),u(e,[{key:"addModule",value:,{key:"buildButtons",value:,{key:"buildPickers",value:function(t,e){var i=this;this.pickers=t.map(function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&l(t,A),new x["default"](t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var i=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&l(t,D,"background"===i?"#ffffff":"#000000"),new w["default"](t,e[i])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?l(t,I):t.classList.contains("ql-header")?l(t,P):t.classList.contains("ql-size")&&l(t,L)),new C["default"](t)});var n=this.quill.on(g["default"].events.EDITOR_CHANGE,n)}}]),e}(b["default"]);M.DEFAULTS=(0,h["default"])(!0,{},b["default"].DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",function(){if(null!=e.files&&null!=e.files[0]){var i=new FileReader;i.onload=function(i){var n=t.quill.getSelection(!0);t.quill.updateContents((new f["default"]).retain(n.index)["delete"](n.length).insert({image:i.target.result}),g["default"].sources.USER),t.quill.setSelection(n.index+1,g["default"].sources.SILENT),e.value=""},i.readAsDataURL(e.files[0])}}),this.container.appendChild(e)),e.click()},video:}}});var N=function(t){eturn o(e,t),u(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",function(e){y["default"].match(e,"enter")?(t.save(),e.preventDefault()):y["default"].match(e,"escape")&&(t.cancel(),e.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:,{key:"restoreFocus",value:,{key:"save",value:function(){var t=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,g["default"].sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,g["default"].sources.USER)),this.quill.root.scrollTop=e;break;case"video":t=a(t);case"formula":if(!t)break;var i=this.quill.getSelection(!0);if(null!=i){var n=i.index+i.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),t,g["default"].sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(n+1," ",g["default"].sources.USER),this.quill.setSelection(n+2,g["default"].sources.USER)}}this.textbox.value="",this.hide()}}]),e}(O["default"]);e.BaseTooltip=N,e["default"]=M},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(46),s=n(r),o=i(34),a=i(36),l=i(62),u=i(63),c=n(u),d=i(64),h=n(d),p=i(65),f=n(p),m=i(35),g=i(24),v=i(37),y=i(38),_=i(39),b=n(_),T=i(66),w=n(T),k=i(15),x=n(k),S=i(67),C=n(S),E=i(68),O=n(E),A=i(69),D=n(A),I=i(70),P=n(I),L=i(71),M=n(L),N=i(13),R=n(N),j=i(72),B=n(j),F=i(73),U=n(F),H=i(74),q=n(H),$=i(26),W=n($),z=i(16),V=n(z),Y=i(41),K=n(Y),G=i(42),X=n(G),Q=i(43),J=n(Q),Z=i(107),tt=n(Z),et=i(108),it=n(et);
s["default"].register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":m.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":y.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":m.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":y.SizeStyle},!0),s["default"].register({"formats/align":o.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":l.IndentClass,"formats/background":m.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":v.FontClass,"formats/size":y.SizeClass,"formats/blockquote":c["default"],"formats/code-block":R["default"],"formats/header":h["default"],"formats/list":f["default"],"formats/bold":b["default"],"formats/code":N.Code,"formats/italic":w["default"],"formats/link":x["default"],"formats/script":C["default"],"formats/strike":O["default"],"formats/underline":D["default"],"formats/image":P["default"],"formats/video":M["default"],"formats/list/item":p.ListItem,"modules/formula":B["default"],"modules/syntax":U["default"],"modules/toolbar":q["default"],"themes/bubble":tt["default"],"themes/snow":it["default"],"ui/icons":W["default"],"ui/picker":V["default"],"ui/icon-picker":X["default"],"ui/color-picker":K["default"],"ui/tooltip":J["default"]},!0),e["default"]=s["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=n(r),o=i(6),a=n(o),l=i(3),u=n(l),c=i(14),d=n(c),h=i(23),p=n(h),f=i(31),m=n(f),g=i(33),v=n(g),y=i(5),_=n(y),b=i(59),T=n(b),w=i(8),k=n(w),x=i(60),S=n(x),C=i(61),E=n(C),O=i(25),A=n(O);a["default"].register({"blots/block":u["default"],"blots/block/embed":l.BlockEmbed,"blots/break":d["default"],"blots/container":p["default"],"blots/cursor":m["default"],"blots/embed":v["default"],"blots/inline":_["default"],"blots/scroll":T["default"],"blots/text":k["default"],"modules/clipboard":S["default"],"modules/history":E["default"],"modules/keyboard":A["default"]}),s["default"].register(u["default"],d["default"],m["default"],_["default"],T["default"],k["default"]),e["default"]=a["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){eturn t.prototype.append=t.prototype.contains=t.prototype.insertBefore=t.prototype.offset=t.prototype.remove=t.prototype.iterator=t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var i,n=this.iterator();i=n();){var r=i.length();if(r>t||e&&t===r&&(null==i.next||0!==i.next.length()))return[i,t];t-=r}return[null,0]},t.prototype.forEach=t.prototype.forEachAt=function(t,e,i){if(!(0>=e))for(var n,r=this.find(t),s=r[0],o=r[1],a=t-o,l=this.iterator(s);(n=l())&&t+e>a;){var u=n.length();t>a?i(n,t-a,Math.min(e,a+u-t)):i(n,0,Math.min(u,t+e-a)),a+=u}},t.prototype.map=t.prototype.reduce=t}();e["default"]=i},function(t,e,i){"use strict";var n=this&&this.__extends||);Object.defineProperty(e,"__esModule",{value:!0});var r=i(17),s=i(1),o={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},a=function(t){eturn n(e,t),e.prototype.detach=e.prototype.deleteAt=e.prototype.formatAt=e.prototype.insertAt=e.prototype.optimize=function(e,i){var n=this;void 0===e&&(e=[]),void 0===i&&(i={}),t.prototype.optimize.call(this,i);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)e.push(o.pop());for(var a=l=function(t){null!=t.domNode[s.DATA_KEY]&&null!=t.domNode[s.DATA_KEY].mutations&&(t instanceof r["default"]&&t.children.forEach(l),t.optimize(i))},u=e,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(function(t){var e=s.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(a(s.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,function(t){var e=s.find(t,!1);a(e,!1),e instanceof r["default"]&&e.children.forEach(})):"attributes"===t.type&&a(e.prev)),a(e))}),this.children.forEach(l),u=[].slice.call(this.observer.takeRecords()),o=u.slice();o.length>0;)e.push(o.pop())}},e.prototype.update=e.blotName="scroll",e.defaultChild="block",e.scope=s.Scope.BLOCK_BLOT,e.tagName="DIV",e}(r["default"]);e["default"]=a},function(t,e,i){"use strict";ar r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=i(18),o=i(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(i){return i.tagName!==e.tagName?t.formats.call(this,i):void 0},e.prototype.format=function(i,n){var r=this;i!==this.statics.blotName||n?t.prototype.format.call(this,i,n):(this.children.forEach(function(t){t instanceof s["default"]||(t=t.wrap(e.blotName,!0)),r.attributes.copy(t)}),this.unwrap())},e.prototype.formatAt=e.prototype.optimize=e.blotName="inline",e.scope=o.Scope.INLINE_BLOT,e.tagName="SPAN",e}(s["default"]);e["default"]=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(18),s=i(1),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.formats=function(i){var n=s.query(e.blotName).tagName;return i.tagName!==n?t.formats.call(this,i):void 0},e.prototype.format=e.prototype.formatAt=e.prototype.insertAt=e.prototype.update=e.blotName="block",e.scope=s.Scope.BLOCK_BLOT,e.tagName="P",e}(r["default"]);e["default"]=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(19),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.formats=function(){},e.prototype.format=e.prototype.formatAt=e.prototype.formats=e}(r["default"]);e["default"]=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(19),s=i(1),o=function(t){eturn n(e,t),e.create=function(t){return document.createTextNode(t)},e.value=e.prototype.deleteAt=e.prototype.index=e.prototype.insertAt=e.prototype.length=function(){return this.text.length},e.prototype.optimize=e.prototype.position=e.prototype.split=e.prototype.update=function(t){var e=this;t.some(function(t){return"characterData"===t.type&&t.target===e.domNode})&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=s.Scope.INLINE_BLOT,e}(r["default"]);e["default"]=o},function(){"use strict";var t=document.createElement("div");if(t.classList.toggle("test-class",!1),t.classList.contains("test-class")){var e=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=String.prototype.startsWith||(String.prototype.startsWith=,String.prototype.endsWith||(String.prototype.endsWith=,Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,i=Object(this),n=i.length>>>0,r=arguments[1],s=0;n>s;s++)if(e=i[s],t.call(r,e,s,i))return e}}),document.addEventListener("DOMContentLoaded",},function(t){function e(t,e,n){if(t==e)return t?[[m,t]]:[];(0>n||t.length<n)&&(n=null);var r=s(t,e),a=t.substring(0,r);t=t.substring(r),e=e.substring(r),r=o(t,e);var u=t.substring(t.length-r);t=t.substring(0,t.length-r),e=e.substring(0,e.length-r);var h=i(t,e);return a&&h.unshift([m,a]),u&&h.push([m,u]),l(h),null!=n&&(h=c(h,n)),h=d(h)}unction n(t,e){for(var i=t.length,n=e.length,s=Math.ceil((i+n)/2),o=s,a=2*s,l=new Array(a),u=new Array(a),c=0;a>c;c++)l[c]=-1,u[c]=-1;l[o+1]=0,u[o+1]=0;for(var d=i-n,h=d%2!=0,m=0,g=0,v=0,y=0,_=0;s>_;_++){for(var b=-_+m;_-g>=b;b+=2){var T,w=o+b;T=b==-_||b!=_&&l[w-1]<l[w+1]?l[w+1]:l[w-1]+1;for(var k=T-b;i>T&&n>k&&t.charAt(T)==e.charAt(k);)T++,k++;if(l[w]=T,T>i)g+=2;else if(k>n)m+=2;else if(h){var x=o+d-b;if(x>=0&&a>x&&-1!=u[x]){var S=i-u[x];if(T>=S)return r(t,e,T,k)}}}for(var C=-_+v;_-y>=C;C+=2){var S,x=o+C;S=C==-_||C!=_&&u[x-1]<u[x+1]?u[x+1]:u[x-1]+1;for(var E=S-C;i>S&&n>E&&t.charAt(i-S-1)==e.charAt(n-E-1);)S++,E++;if(u[x]=S,S>i)y+=2;else if(E>n)v+=2;else if(!h){var w=o+d-C;if(w>=0&&a>w&&-1!=l[w]){var T=l[w],k=o+T-w;if(S=i-S,T>=S)return r(t,e,T,k)}}}}return[[p,t],[f,e]]}unction s(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var i=0,n=Math.min(t.length,e.length),r=n,s=0;r>i;)t.substring(s,r)==e.substring(s,r)?(i=r,s=i):n=r,r=Math.floor((n-i)/2+i);return r}function o(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var i=0,n=Math.min(t.length,e.length),r=n,s=0;r>i;)t.substring(t.length-r,t.length-s)==e.substring(e.length-r,e.length-s)?(i=r,s=i):n=r,r=Math.floor((n-i)/2+i);return r}nction u(t,e){if(0===e)return[m,t];for(var i=0,n=0;n<t.length;n++){var r=t[n];if(r[0]===p||r[0]===m){var s=i+r[1].length;if(e===s)return[n+1,t];if(s>e){t=t.slice();var o=e-i,a=[r[0],r[1].slice(0,o)],l=[r[0],r[1].slice(o)];return t.splice(n,1,a,l),[n+1,t]}i=s}}throw new Error("cursor_pos is out of bounds!")} p=-1,f=1,m=0,g=e;g.INSERT=f,g.DELETE=p,g.EQUAL=m,t.exports=g},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}unction a(t){return t.reduce(function(t,e){if(1===e.insert){var i=(0,C["default"])(e.attributes);return delete i.image,t.insert({image:e.attributes.image},i)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||(e=(0,C["default"])(e),e.attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){var n=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(n,e.attributes)}return t.push(e)},new h["default"])}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(){function t(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),d=i(4),h=n(d),p=i(20),f=n(p),m=i(0),g=n(m),v=i(13),y=n(v),_=i(31),b=n(_),T=i(3),w=n(T),k=i(14),x=n(k),S=i(21),C=n(S),E=i(12),O=n(E),A=i(2),D=n(A),I=/^[ -~]*$/,P=function(){eturn c(t,[{key:"applyDelta",value:function(t){var e=this,i=!1;this.scroll.update();var n=this.scroll.length();return this.scroll.batchStart(),t=a(t),t.reduce(function(t,r){var s=r.retain||r["delete"]||r.insert.length||1,o=r.attributes||{};if(null!=r.insert){if("string"==typeof r.insert){var a=r.insert;a.endsWith("\n")&&i&&(i=!1,a=a.slice(0,-1)),t>=n&&!a.endsWith("\n")&&(i=!0),e.scroll.insertAt(t,a);var c=e.scroll.line(t),d=u(c,2),h=d[0],p=d[1],m=(0,D["default"])({},(0,T.bubbleFormats)(h));if(h instanceof w["default"]){var v=h.descendant(g["default"].Leaf,p),y=u(v,1),_=y[0];m=(0,D["default"])(m,(0,T.bubbleFormats)(_))}o=f["default"].attributes.diff(m,o)||{}}else if("object"===l(r.insert)){var b=Object.keys(r.insert)[0];if(null==b)return t;e.scroll.insertAt(t,b,r.insert[b])}n+=s}return Object.keys(o).forEach(function(i){e.scroll.formatAt(t,s,i,o[i])}),t+s},0),t.reduce(function(t,i){return"number"==typeof i["delete"]?(e.scroll.deleteAt(t,i["delete"]),t):t+(i.retain||i.insert.length||1)},0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new h["default"]).retain(t)["delete"](e))}},{key:"formatLine",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach(function(r){if(null==i.scroll.whitelist||i.scroll.whitelist[r]){var s=i.scroll.lines(t,Math.max(e,1)),o=e;s.forEach(function(e){var s=e.length();if(e instanceof y["default"]){var a=t-e.offset(i.scroll),l=e.newlineIndex(a+o)-a+1;e.formatAt(a,l,r,n[r])}else e.format(r,n[r]);o-=s})}}),this.scroll.optimize(),this.update((new h["default"]).retain(t).retain(e,(0,C["default"])(n)))}},{key:"formatText",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach(,this.update((new h["default"]).retain(t).retain(e,(0,C["default"])(n)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(new h["default"])}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[],n=[];0===e?this.scroll.path(t).forEach(function(t){var e=u(t,1),r=e[0];r instanceof w["default"]?i.push(r):r instanceof g["default"].Leaf&&n.push(r)}):(i=this.scroll.lines(t,e),n=this.scroll.descendants(g["default"].Leaf,t,e));var r=[i,n].map(;return D["default"].apply(D["default"],r)}},{key:"getText",value:,{key:"insertEmbed",value:function(t,e,i){return this.scroll.insertAt(t,e,i),this.update((new h["default"]).retain(t).insert(r({},e,i)))}},{key:"insertText",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(n).forEach(,this.update((new h["default"]).retain(t).insert(e,(0,C["default"])(n)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===w["default"].blotName&&!(t.children.length>1)&&t.children.head instanceof x["default"]}},{key:"removeFormat",value:function(t,e){var i=this.getText(t,e),n=this.scroll.line(t+e),r=u(n,2),s=r[0],o=r[1],a=0,l=new h["default"];null!=s&&(a=s instanceof y["default"]?s.newlineIndex(o)-o+1:s.length()-o,l=s.delta().slice(o,o+a-1).insert("\n"));var c=this.getContents(t,e+a),d=c.diff((new h["default"]).insert(i).concat(l)),p=(new h["default"]).retain(t).concat(d);return this.applyDelta(p)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(I)&&g["default"].find(e[0].target)){var r=g["default"].find(e[0].target),s=(0,T.bubbleFormats)(r),o=r.offset(this.scroll),a=e[0].oldValue.replace(b["default"].CONTENTS,""),l=(new h["default"]).insert(a),u=(new h["default"]).insert(r.value());t=(new h["default"]).retain(o).concat(l.diff(u,i)).reduce(new h["default"]),this.delta=n.compose(t)}else this.delta=this.getDelta(),t&&(0,O["default"])(n.compose(t),this.delta)||(t=n.diff(this.delta,i));return t}}]),t}();e["default"]=P},function(t){"use strict";function e(){}r r=Object.prototype.hasOwnProperty,s="~";Object.create&&(e.prototype=Object.create(null),(new e).__proto__||(s=!1)),n.prototype.eventNames=n.prototype.listeners=function(t,e){var i=s?s+t:t,n=this._events[i];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);o>r;r++)a[r]=n[r].fn;return a},n.prototype.emit=function(t,e,i,n,r,o){var a=s?s+t:t;if(!this._events[a])return!1;var l,u,c=this._events[a],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,i),!0;case 4:return c.fn.call(c.context,e,i,n),!0;case 5:return c.fn.call(c.context,e,i,n,r),!0;case 6:return c.fn.call(c.context,e,i,n,r,o),!0}for(u=1,l=new Array(d-1);d>u;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,p=c.length;for(u=0;p>u;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,i);break;case 4:c[u].fn.call(c[u].context,e,i,n);break;default:if(!l)for(h=1,l=new Array(d-1);d>h;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},n.prototype.on=n.prototype.once=n.prototype.removeListener=function(t,i,n,r){var o=s?s+t:t;if(!this._events[o])return this;if(!i)return 0==--this._eventsCount?this._events=new e:delete this._events[o],this;var a=this._events[o];if(a.fn)a.fn!==i||r&&!a.once||n&&a.context!==n||(0==--this._eventsCount?this._events=new e:delete this._events[o]);else{for(var l=0,u=[],c=a.length;c>l;l++)(a[l].fn!==i||r&&!a[l].once||n&&a[l].context!==n)&&u.push(a[l]);u.length?this._events[o]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new e:delete this._events[o]}return this},n.prototype.removeAllListeners=n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prototype.setMaxListeners=n.prefixed=s,n.EventEmitter=n,void 0!==t&&(t.exports=n)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return t instanceof g["default"]||t instanceof m.BlockEmbed}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=function x(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:x(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},d=i(0),h=n(d),p=i(9),f=n(p),m=i(3),g=n(m),v=i(14),y=n(v),_=i(13),b=n(_),T=i(23),w=n(T),k=function(t){eturn o(e,t),u(e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,i){var n=this.line(t),r=l(n,2),s=r[0],o=r[1],a=this.line(t+i),u=l(a,1),d=u[0];if(c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,i),null!=d&&s!==d&&o>0){if(s instanceof m.BlockEmbed||d instanceof m.BlockEmbed)return void this.optimize();if(s instanceof b["default"]){var h=s.newlineIndex(s.length(),!0);if(h>-1&&(s=s.split(h+1))===d)return void this.optimize()}else if(d instanceof b["default"]){var p=d.newlineIndex(0);p>-1&&d.split(p+1)}var f=d.children.head instanceof y["default"]?null:d.children.head;s.moveChildren(d,f),s.remove()}this.optimize()}},{key:"enable",value:,{key:"formatAt",value:,{key:"insertAt",value:function(t,i,n){if(null==n||null==this.whitelist||this.whitelist[i]){if(t>=this.length())if(null==n||null==h["default"].query(i,h["default"].Scope.BLOCK)){
var r=h["default"].create(this.statics.defaultChild);this.appendChild(r),null==n&&i.endsWith("\n")&&(i=i.slice(0,-1)),r.insertAt(0,i,n)}else{var s=h["default"].create(i,n);this.appendChild(s)}else c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,i,n);this.optimize()}}},{key:"insertBefore",value:function(t,i){if(t.statics.scope===h["default"].Scope.INLINE_BLOT){var n=h["default"].create(this.statics.defaultChild);n.appendChild(t),t=n}c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,i)}},{key:"leaf",value:,{key:"line",value:,{key:"lines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return function i(t,e,n){var r=[],s=n;return t.children.forEachAt(e,n,function(t,e,n){a(t)?r.push(t):t instanceof h["default"].Container&&(r=r.concat(i(t,e,s))),s-=n}),r}(this,t,e)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,i),t.length>0&&this.emitter.emit(f["default"].events.SCROLL_OPTIMIZE,t,i))}},{key:"path",value:,{key:"update",value:function(t){if(!0!==this.batch){var i=f["default"].sources.USER;"string"==typeof t&&(i=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(f["default"].events.SCROLL_BEFORE_UPDATE,i,t),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(f["default"].events.SCROLL_UPDATE,i,t)}}}]),e}(h["default"].Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[g["default"],m.BlockEmbed,w["default"]],e["default"]=k},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,i){return"object"===(void 0===e?"undefined":k(e))?Object.keys(e).reduce(t):t.reduce(function(t,n){return n.attributes&&n.attributes[e]?t.push(n):t.insert(n.insert,(0,E["default"])({},r({},e,i),n.attributes))},new A["default"])}ction h(t,e,i){return t.nodeType===t.TEXT_NODE?i.reduce(function(e,i){return i(t,e)},new A["default"]):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],new A["default"]):new A["default"]}unction f(t,e){var i=I["default"].Attributor.Attribute.keys(t),n=I["default"].Attributor.Class.keys(t),r=I["default"].Attributor.Style.keys(t),s={};return i.concat(n).concat(r).forEach(function(e){var i=I["default"].query(e,I["default"].Scope.ATTRIBUTE);null!=i&&(s[i.attrName]=i.value(t),s[i.attrName])||(i=G[e],null==i||i.attrName!==e&&i.keyName!==e||(s[i.attrName]=i.value(t)||void 0),null==(i=X[e])||i.attrName!==e&&i.keyName!==e||(i=X[e],s[i.attrName]=i.value(t)||void 0))}),Object.keys(s).length>0&&(e=l(e,s)),e}function m(t,e){var i=I["default"].query(t);if(null==i)return e;if(i.prototype instanceof I["default"].Embed){var n={},r=i.value(t);null!=r&&(n[i.blotName]=r,e=(new A["default"]).insert(n,i.formats(t)))}else"function"==typeof i.formats&&(e=l(e,i.blotName,i.formats(t)));return e}nction y(t,e){var i=I["default"].query(t);if(null==i||"list-item"!==i.blotName||!c(e,"\n"))return e;for(var n=-1,r=t.parentNode;!r.classList.contains("ql-clipboard");)"list"===(I["default"].query(r)||{}).blotName&&(n+=1),r=r.parentNode;return 0>=n?e:e.compose((new A["default"]).retain(e.length()-1).retain(1,{indent:n}))}nction T(t,e){var i={},n=t.style||{};return n.fontStyle&&"italic"===u(t).fontStyle&&(i.italic=!0),n.fontWeight&&(u(t).fontWeight.startsWith("bold")||parseInt(u(t).fontWeight)>=700)&&(i.bold=!0),Object.keys(i).length>0&&(e=l(e,i)),parseFloat(n.textIndent||0)>0&&(e=(new A["default"]).insert("	").concat(e)),e}bject.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e["default"]=void 0;var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x=function(){function t(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),C=i(2),E=n(C),O=i(4),A=n(O),D=i(0),I=n(D),P=i(6),L=n(P),M=i(10),N=n(M),R=i(7),j=n(R),B=i(34),F=i(35),U=i(13),H=n(U),q=i(24),$=i(36),W=i(37),z=i(38),V=(0,N["default"])("quill:clipboard"),Y="__ql-matcher",K=[[Node.TEXT_NODE,w],[Node.TEXT_NODE,_],["br",g],[Node.ELEMENT_NODE,_],[Node.ELEMENT_NODE,m],[Node.ELEMENT_NODE,b],[Node.ELEMENT_NODE,f],[Node.ELEMENT_NODE,T],["li",y],["b",p.bind(p,"bold")],["i",p.bind(p,"italic")],["style",v]],G=[B.AlignAttribute,$.DirectionAttribute].reduce(function(t,e){return t[e.keyName]=e,t},{}),X=[B.AlignStyle,F.BackgroundStyle,q.ColorStyle,$.DirectionStyle,W.FontStyle,z.SizeStyle].reduce({}),Q=function(t){eturn a(e,t),S(e,[{key:"addMatcher",value:,{key:"convert",value:function(t){if("string"==typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[H["default"].blotName]){var i=this.container.innerText;return this.container.innerHTML="",(new A["default"]).insert(i,r({},H["default"].blotName,e[H["default"].blotName]))}var n=this.prepareMatching(),s=x(n,2),o=s[0],a=s[1],l=h(this.container,o,a);return c(l,"\n")&&null==l.ops[l.ops.length-1].attributes&&(l=l.compose((new A["default"]).retain(l.length()-1)["delete"](1))),V.log("convert",this.container.innerHTML,l),this.container.innerHTML="",l}},{key:"dangerouslyPasteHTML",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L["default"].sources.API;if("string"==typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,L["default"].sources.SILENT);else{var n=this.convert(e);this.quill.updateContents((new A["default"]).retain(t).concat(n),i),this.quill.setSelection(t+n.length(),L["default"].sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var i=this.quill.getSelection(),n=(new A["default"]).retain(i.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(L["default"].sources.SILENT),setTimeout(function(){n=n.concat(e.convert())["delete"](i.length),e.quill.updateContents(n,L["default"].sources.USER),e.quill.setSelection(n.length()-i.length,L["default"].sources.SILENT),e.quill.scrollingContainer.scrollTop=r,e.quill.focus()},1)}}},{key:"prepareMatching",value:]),e}(j["default"]);Q.DEFAULTS={matchers:[],matchVisual:!0},e["default"]=Q,e.matchAttributor=f,e.matchBlot=m,e.matchNewline=_,e.matchSpacing=b,e.matchText=w},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"==typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some(function(t){return null!=d["default"].query(t,d["default"].Scope.BLOCK)}))}function l(t){var e=t.reduce(function(t,e){return t+=e["delete"]||0},0),i=t.length()-e;return a(t)&&(i-=1),i}Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e["default"]=void 0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=i(0),d=n(c),h=i(6),p=n(h),f=i(7),m=n(f),g=function(t){function e(t,i){r(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(p["default"].events.EDITOR_CHANGE,function(t,e,i,r){t!==p["default"].events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&r!==p["default"].sources.USER?n.transform(e):n.record(e,i))}),n.quill.keyboard.addBinding({key:"Z",shortKey:!0},n.undo.bind(n)),n.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},n.redo.bind(n)),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"Y",shortKey:!0},n.redo.bind(n)),n}return o(e,t),u(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var i=this.stack[t].pop();this.stack[e].push(i),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i[t],p["default"].sources.USER),this.ignoreChange=!1;var n=l(i[t]);this.quill.setSelection(n)}}},{key:"clear",value:,{key:"cutoff",value:,{key:"record",value:,{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:,{key:"undo",value:]),e}(m["default"]);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e["default"]=g,e.getLastChangeIndex=l},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function h(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:h(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},l=i(0),u=function(t){return t&&t.__esModule?t:{"default":t}}(l),c=u["default"].Attributor.Class),d=new c("indent","ql-indent",{scope:u["default"].Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=d},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),a=function(t){return t&&t.__esModule?t:{"default":t}}(o),l=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),e}(a["default"]);l.blotName="blockquote",l.tagName="blockquote",e["default"]=l},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(3),l=function(t){return t&&t.__esModule?t:{"default":t}}(a),u=l["default"]);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],e["default"]=u},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.ListItem=void 0;var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function y(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:y(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},c=i(0),d=n(c),h=i(3),p=n(h),f=i(23),m=n(f),g=function(t){function e(){return s(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),l(e,[{key:"format",value:function(t,i){t!==v.blotName||i?u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,i):this.replaceWith(d["default"].create(this.statics.scope))}},{key:"remove",value:,{key:"replaceWith",value:],[{key:"formats",value:]),e}(p["default"]);g.blotName="list-item",g.tagName="LI";var v=function(t){function e(t){s(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=function(e){if(e.target.parentNode===t){var n=i.statics.formats(t),r=d["default"].find(e.target);"checked"===n?r.format("list","unchecked"):"unchecked"===n&&r.format("list","checked")}};return t.addEventListener("touchstart",n),t.addEventListener("mousedown",n),i}return a(e,t),l(e,null,[{key:"create",value:,{key:"formats",value:]),l(e,[{key:"format",value:,{key:"formats",value:,{key:"insertBefore",value:,{key:"optimize",value:,{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var i=d["default"].create(this.statics.defaultChild);t.moveChildren(i),this.appendChild(i)}u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}(m["default"]);v.blotName="list",v.scope=d["default"].Scope.BLOCK_BLOT,v.tagName=["OL","UL"],v.defaultChild="list-item",v.allowedChildren=[g],e.ListItem=g,e["default"]=v},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(39),a=function(t){return t&&t.__esModule?t:{"default":t}}(o),l=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),e}(a["default"]);l.blotName="italic",l.tagName=["EM","I"],e["default"]=l},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function d(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:d(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},l=i(5),u=function(t){return t&&t.__esModule?t:{"default":t}}(l),c=u["default"]);c.blotName="script",c.tagName=["SUB","SUP"],e["default"]=c},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=function(t){return t&&t.__esModule?t:{"default":t}}(o),l=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),e}(a["default"]);l.blotName="strike",l.tagName="S",e["default"]=l},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=function(t){return t&&t.__esModule?t:{"default":t}}(o),l=a["default"]);l.blotName="underline",l.tagName="U",e["default"]=l},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function p(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:p(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},l=i(0),u=function(t){return t&&t.__esModule?t:{"default":t}}(l),c=i(15),d=["alt","height","width"],h=u["default"].Embed);h.blotName="image",h.tagName="IMG",e["default"]=h},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function p(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:p(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},l=i(3),u=i(15),c=u),d=["height","width"],h=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),o(e,[{key:"format",value:],[{key:"create",value:,{key:"formats",value:,{key:"sanitize",value:,{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(l.BlockEmbed);h.blotName="video",h.className="ql-video",h.tagName="IFRAME",e["default"]=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.FormulaBlot=void 0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function v(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);
if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:v(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},u=i(33),c=n(u),d=i(6),h=n(d),p=i(7),f=n(p),m=c["default"]);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var g=function(t){eturn o(e,t),a(e,null,[{key:"register",value:function(){h["default"].register(m,!0)}}]),e}(f["default"]);e.FormulaBlot=m,e["default"]=g},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.CodeToken=e.CodeBlock=void 0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=u=i(0),c=n(u),d=i(6),h=n(d),p=i(7),f=n(p),m=i(13),g=n(m),v=g["default"]);v.className="ql-syntax";var y=new c["default"].Attributor.Class("token","hljs",{scope:c["default"].Scope.INLINE}),_=function(t){function e(t,i){r(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));if("function"!=typeof n.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return n.quill.on(h["default"].events.SCROLL_OPTIMIZE,,n.highlight(),n}return o(e,t),a(e,null,[{key:"register",value:function(){h["default"].register(y,!0),h["default"].register(v,!0)}}]),a(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(h["default"].sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(v).forEach(function(e){e.highlight(t.options.highlight)}),this.quill.update(h["default"].sources.SILENT),null!=e&&this.quill.setSelection(e,h["default"].sources.SILENT)}}}]),e}(f["default"]);_.DEFAULTS={highlight:),interval:1e3},e.CodeBlock=v,e.CodeToken=y,e["default"]=_},function(t,e,i){"use strict";efineProperty(e,"__esModule",{value:!0}),e.addControls=e["default"]=void 0;var d=),h=),p=i(4),f=n(p),m=i(0),g=n(m),v=i(6),y=n(v),_=i(10),b=n(_),T=i(7),w=n(T),k=(0,b["default"])("quill:toolbar"),x=function(t){function e(t,i){s(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));if(Array.isArray(n.options.container)){var r=document.createElement("div");u(r,n.options.container),t.container.parentNode.insertBefore(r,t.container),n.container=r}else"string"==typeof n.options.container?n.container=document.querySelector(n.options.container):n.container=n.options.container;if(!(n.container instanceof HTMLElement)){var a;return a=k.error("Container required for toolbar",n.options),o(n,a)}return n.container.classList.add("ql-toolbar"),n.controls=[],n.handlers={},Object.keys(n.options.handlers).forEach(,[].forEach.call(n.container.querySelectorAll("button, select"),function(t){n.attach(t)}),n.quill.on(y["default"].events.EDITOR_CHANGE,function(t,e){t===y["default"].events.SELECTION_CHANGE&&n.update(e)}),n.quill.on(y["default"].events.SCROLL_OPTIMIZE,,n}return a(e,t),h(e,[{key:"addHandler",value:,{key:"attach",value:function(t){var e=this,i=[].find.call(t.classList,;if(i){if(i=i.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[i]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[i])return void k.warn("ignoring attaching to disabled format",i,t);if(null==g["default"].query(i))return void k.warn("ignoring attaching to nonexistent format",i,t)}var n="SELECT"===t.tagName?"change":"click";t.addEventListener(n,function(n){var s=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var o=t.options[t.selectedIndex];s=!o.hasAttribute("selected")&&(o.value||!1)}else s=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),n.preventDefault();e.quill.focus();var a=e.quill.selection.getRange(),l=d(a,1),u=l[0];if(null!=e.handlers[i])e.handlers[i].call(e,s);else if(g["default"].query(i).prototype instanceof g["default"].Embed){if(!(s=prompt("Enter "+i)))return;e.quill.updateContents((new f["default"]).retain(u.index)["delete"](u.length).insert(r({},i,s)),y["default"].sources.USER)}else e.quill.format(i,s,y["default"].sources.USER);e.update(u)}),this.controls.push([i,t])}}},{key:"update",value:]),e}(w["default"]);x.DEFAULTS={},x.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var i=this.quill.getFormat();Object.keys(i).forEach(function(e){null!=g["default"].query(e,g["default"].Scope.INLINE)&&t.quill.format(e,!1)})}else this.quill.removeFormat(e,y["default"].sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",y["default"].sources.USER):t||"right"!==e||this.quill.format("align",!1,y["default"].sources.USER),this.quill.format("direction",t,y["default"].sources.USER)},indent:function(t){var e=this.quill.getSelection(),i=this.quill.getFormat(e),n=parseInt(i.indent||0);if("+1"===t||"-1"===t){var r="+1"===t?1:-1;"rtl"===i.direction&&(r*=-1),this.quill.format("indent",n+r,y["default"].sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,y["default"].sources.USER)},list:function(t){var e=this.quill.getSelection(),i=this.quill.getFormat(e);"check"===t?"checked"===i.list||"unchecked"===i.list?this.quill.format("list",!1,y["default"].sources.USER):this.quill.format("list","unchecked",y["default"].sources.USER):this.quill.format("list",t,y["default"].sources.USER)}}},e["default"]=x,e.addControls=u},function(t){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.BubbleTooltip=void 0;var a=function T(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:T(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(2),c=n(u),d=i(9),h=n(d),p=i(44),f=n(p),m=i(22),g=i(26),v=n(g),y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],_=function(t){function e(t,i){r(this,e),null!=i.modules.toolbar&&null==i.modules.toolbar.container&&(i.modules.toolbar.container=y);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.quill.container.classList.add("ql-bubble"),n}return o(e,t),l(e,[{key:"extendToolbar",value:function(t){this.tooltip=new b(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),v["default"]),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),v["default"])}}]),e}(f["default"]);_.DEFAULTS=(0,c["default"])(!0,{},f["default"].DEFAULTS,{modules:{toolbar:{handlers:{link:}}});var b=function(t){function e(t,i){r(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.quill.on(h["default"].events.EDITOR_CHANGE,function(t,e,i,r){if(t===h["default"].events.SELECTION_CHANGE)if(null!=e&&e.length>0&&r===h["default"].sources.USER){n.show(),n.root.style.left="0px",n.root.style.width="",n.root.style.width=n.root.offsetWidth+"px";var s=n.quill.getLines(e.index,e.length);if(1===s.length)n.position(n.quill.getBounds(e));else{var o=s[s.length-1],a=n.quill.getIndex(o),l=Math.min(o.length()-1,e.index+e.length-a),u=n.quill.getBounds(new m.Range(a,l));n.position(u)}}else document.activeElement!==n.textbox&&n.quill.hasFocus()&&n.hide()}),n}return o(e,t),l(e,[{key:"listen",value:function(){var t=this;a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",,this.quill.on(h["default"].events.SCROLL_OPTIMIZE,}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var i=a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",0===i?i:void(n.style.marginLeft=-1*i-n.offsetWidth/2+"px")}}]),e}(p.BaseTooltip);b.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=b,e["default"]=_},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function x(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:x(r,e,i)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(i):void 0},u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=i(2),d=n(c),h=i(9),p=n(h),f=i(44),m=n(f),g=i(15),v=n(g),y=i(22),_=i(26),b=n(_),T=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],w=function(t){eturn o(e,t),u(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),b["default"]),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),b["default"]),this.tooltip=new k(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},}}]),e}(m["default"]);w.DEFAULTS=(0,d["default"])(!0,{},m["default"].DEFAULTS,{modules:{toolbar:{handlers:{link:}}});var k=function(t){eturn o(e,t),u(e,[{key:"listen",value:function(){var t=this;l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",,this.root.querySelector("a.ql-remove").addEventListener("click",function(e){if(null!=t.linkRange){var i=t.linkRange;t.restoreFocus(),t.quill.formatText(i,"link",!1,p["default"].sources.USER),delete t.linkRange}e.preventDefault(),t.hide()}),this.quill.on(p["default"].events.SELECTION_CHANGE,function(e,i,n){if(null!=e){if(0===e.length&&n===p["default"].sources.USER){var r=t.quill.scroll.descendant(v["default"],e.index),s=a(r,2),o=s[0],l=s[1];if(null!=o){t.linkRange=new y.Range(e.index-l,o.length());var u=v["default"].formats(o.domNode);return t.preview.textContent=u,t.preview.setAttribute("href",u),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}})}},{key:"show",value:]),e}(f.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e["default"]=w}])["default"]}),!function(t){var e=Array.prototype.slice,i=Array.prototype.splice,n={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"auto"},r=t(window),s=t(document),o=[],a=r.height(),l=function(){for(var e=r.scrollTop(),i=s.height(),n=i-a,l=e>n?n-e:0,u=0,c=o.length;c>u;u++){var d=o[u],h=d.stickyWrapper.offset().top,p=h-d.topSpacing-l;if(d.stickyWrapper.css("height",d.stickyElement.outerHeight()),p>=e)null!==d.currentTop&&(d.stickyElement.css({width:"",position:"",top:"","z-index":""}),d.stickyElement.parent().removeClass(d.className),d.stickyElement.trigger("sticky-end",[d]),d.currentTop=null);else{var f=i-d.stickyElement.outerHeight()-d.topSpacing-d.bottomSpacing-e-l;if(0>f?f+=d.topSpacing:f=d.topSpacing,d.currentTop!==f){var m;d.getWidthFrom?m=t(d.getWidthFrom).width()||null:d.widthFromWrapper&&(m=d.stickyWrapper.width()),null==m&&(m=d.stickyElement.width()),d.stickyElement.css("width",m).css("position","fixed").css("top",f).css("z-index",d.zIndex),d.stickyElement.parent().addClass(d.className),null===d.currentTop?d.stickyElement.trigger("sticky-start",[d]):d.stickyElement.trigger("sticky-update",[d]),d.currentTop===d.topSpacing&&d.currentTop>f||null===d.currentTop&&f<d.topSpacing?d.stickyElement.trigger("sticky-bottom-reached",[d]):null!==d.currentTop&&f===d.topSpacing&&d.currentTop<f&&d.stickyElement.trigger("sticky-bottom-unreached",[d]),d.currentTop=f}var g=d.stickyWrapper.parent(),v=d.stickyElement.offset().top+d.stickyElement.outerHeight()>=g.offset().top+g.outerHeight()&&d.stickyElement.offset().top<=d.topSpacing;v?d.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):d.stickyElement.css("position","fixed").css("top",f).css("bottom","").css("z-index",d.zIndex)}}},u=function(){a=r.height();for(var e=0,i=o.length;i>e;e++){var n=o[e],s=null;n.getWidthFrom?n.responsiveWidth&&(s=t(n.getWidthFrom).width()):n.widthFromWrapper&&(s=n.stickyWrapper.width()),null!=s&&n.stickyElement.css("width",s)}},c={init:function(e){return this.each(function(){var i=t.extend({},n,e),r=t(this),s=r.attr("id"),a=s?s+"-"+n.wrapperClassName:n.wrapperClassName,l=t("<div></div>").attr("id",a).addClass(i.wrapperClassName);r.wrapAll(function(){return 0==t(this).parent("#"+a).length?l:void 0});var u=r.parent();i.center&&u.css({width:r.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===r.css("float")&&r.css({"float":"none"}).parent().css({"float":"right"}),i.stickyElement=r,i.stickyWrapper=u,i.currentTop=null,o.push(i),c.setWrapperHeight(this),c.setupChangeListeners(this)})},setWrapperHeight:setupChangeListeners:update:l,unstick:function(){return this.each(function(){for(var e=this,n=t(e),r=-1,s=o.length;s-- >0;)o[s].stickyElement.get(0)===e&&(i.call(o,s,1),r=s);-1!==r&&(n.unwrap(),n.css({width:"",position:"",top:"","float":"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",l,!1),window.addEventListener("resize",u,!1)):window.attachEvent&&(window.attachEvent("onscroll",l),window.attachEvent("onresize",u)),t.fn.sticky=function(i){return c[i]?c[i].apply(this,e.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on jQuery.sticky"):c.init.apply(this,arguments)},t.fn.unstick=t(});var DateFormatter;!function(){"use strict";var t,e,i,n,r;t=e=i=n=r={dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:,separators:/[ \-+\/\.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},(DateFormatter=.prototype={constructor:DateFormatter,getMonth:parseDate:function(e,i){var n,r,s,o,a,l,u,c,d,h,p=this,f=!1,m=!1,g=p.dateSettings,v={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(!e)return null;if(e instanceof Date)return e;if("U"===i)return(s=parseInt(e))?new Date(1e3*s):e;switch(typeof e){case"number":return new Date(e);case"string":break;default:return null}if(!(n=i.match(p.validParts))||0===n.length)throw new Error("Invalid date format definition.");for(r=e.replace(p.separators,"\x00").split("\x00"),s=0;s<r.length;s++)switch(o=r[s],a=parseInt(o),n[s]){case"y":case"Y":if(!a)return null;d=o.length,v.year=2===d?parseInt((70>a?"20":"19")+o):a,f=!0;break;case"m":case"n":case"M":case"F":if(isNaN(a)){if(!(0<(l=p.getMonth(o))))return null;v.month=l}else{if(!(a>=1&&12>=a))return null;v.month=a}f=!0;break;case"d":case"j":if(!(a>=1&&31>=a))return null;v.day=a,f=!0;break;case"g":case"h":if(h=r[u=-1<n.indexOf("a")?n.indexOf("a"):-1<n.indexOf("A")?n.indexOf("A"):-1],u>-1)c=t(h,g.meridiem[0])?0:t(h,g.meridiem[1])?12:-1,a>=1&&12>=a&&c>-1?v.hour=a+c-1:a>=0&&23>=a&&(v.hour=a);else{if(!(a>=0&&23>=a))return null;v.hour=a}m=!0;break;case"G":case"H":if(!(a>=0&&23>=a))return null;v.hour=a,m=!0;break;case"i":if(!(a>=0&&59>=a))return null;v.min=a,m=!0;break;case"s":if(!(a>=0&&59>=a))return null;v.sec=a,m=!0}if(!0===f&&v.year&&v.month&&v.day)v.date=new Date(v.year,v.month-1,v.day,v.hour,v.min,v.sec,0);else{if(!0!==m)return null;v.date=new Date(0,0,0,v.hour,v.min,v.sec,0)}return v.date},guessDate:function(t,e){if("string"!=typeof t)return t;var i,n,r,s,o,a,l=t.replace(this.separators,"\x00").split("\x00"),u=e.match(this.validParts),c=new Date,d=0;if(!/^[djmn]/g.test(u[0]))return t;for(r=0;r<l.length;r++){if(d=2,o=l[r],a=parseInt(o.substr(0,2)),isNaN(a))return null;switch(r){case 0:"m"===u[0]||"n"===u[0]?c.setMonth(a-1):c.setDate(a);break;case 1:"m"===u[0]||"n"===u[0]?c.setDate(a):c.setMonth(a-1);break;case 2:if(n=c.getFullYear(),d=(i=o.length)<4?i:4,!(n=parseInt(4>i?n.toString().substr(0,4-i)+o:o.substr(0,4))))return null;c.setFullYear(n);break;case 3:c.setHours(a);break;case 4:c.setMinutes(a);break;case 5:c.setSeconds(a)}0<(s=o.substr(d)).length&&l.splice(r+1,0,s)}return c},parseFormat:function(t,i){var n,r=this,s=r.dateSettings,o=/\\?(.?)/gi,a=return n={d:function(){return e(n.j(),2)},D:function(){return s.daysShort[n.w()]},j:function(){return i.getDate()},l:function(){return s.days[n.w()]},N:w:function(){return i.getDay()},z:W:F:function(){return s.months[i.getMonth()]},m:function(){return e(n.n(),2)},M:n:t:L:o:Y:function(){return i.getFullYear()},y:a:A:B:g:G:function(){return i.getHours()},h:function(){return e(n.g(),2)},H:function(){return e(n.G(),2)},i:function(){return e(i.getMinutes(),2)},s:u:e:I:O:P:T:Z:c:function(){return"Y-m-d\\TH:i:sP".replace(o,a)},r:U:,a(t,t)},formatDate:function(t,e){var i,n,r,s,o,a="";if("string"==typeof t&&!(t=this.parseDate(t,e)))return null;if(t instanceof Date){for(r=e.length,i=0;r>i;i++)"S"!==(o=e.charAt(i))&&"\\"!==o&&(i>0&&"\\"===e.charAt(i-1)?a+=o:(s=this.parseFormat(o,t),i!==r-1&&this.intParts.test(o)&&"S"===e.charAt(i+1)&&(n=parseInt(s)||0,s+=this.dateSettings.ordinal(n)),a+=s));return a}return""}}}();var datetimepickerFactory=function(t){"use strict";ar i={i18n:{ar:{months:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064a\u0633\u0627\u0646","\u0645\u0627\u064a\u0648","\u062d\u0632\u064a\u0631\u0627\u0646","\u062a\u0645\u0648\u0632","\u0622\u0628","\u0623\u064a\u0644\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],dayOfWeekShort:["\u0646","\u062b","\u0639","\u062e","\u062c","\u0633","\u062d"],dayOfWeek:["\u0627\u0644\u0623\u062d\u062f","\u0627\u0644\u0627\u062b\u0646\u064a\u0646","\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062e\u0645\u064a\u0633","\u0627\u0644\u062c\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062a","\u0627\u0644\u0623\u062d\u062f"]},ro:{months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],dayOfWeekShort:["Du","Lu","Ma","Mi","Jo","Vi","S\xe2"],dayOfWeek:["Duminic\u0103","Luni","Mar\u0163i","Miercuri","Joi","Vineri","S\xe2mb\u0103t\u0103"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeekShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dayOfWeek:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},is:{months:["Jan\xfaar","Febr\xfaar","Mars","Apr\xedl","Ma\xed","J\xfan\xed","J\xfal\xed","\xc1g\xfast","September","Okt\xf3ber","N\xf3vember","Desember"],dayOfWeekShort:["Sun","M\xe1n","\xderi\xf0","Mi\xf0","Fim","F\xf6s","Lau"],dayOfWeek:["Sunnudagur","M\xe1nudagur","\xderi\xf0judagur","Mi\xf0vikudagur","Fimmtudagur","F\xf6studagur","Laugardagur"]},bg:{months:["\u042f\u043d\u0443\u0430\u0440\u0438","\u0424\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0438\u043b","\u041c\u0430\u0439","\u042e\u043d\u0438","\u042e\u043b\u0438","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u041e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u041d\u043e\u0435\u043c\u0432\u0440\u0438","\u0414\u0435\u043a\u0435\u043c\u0432\u0440\u0438"],dayOfWeekShort:["\u041d\u0434","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],dayOfWeek:["\u041d\u0435\u0434\u0435\u043b\u044f","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u044f\u0434\u0430","\u0427\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a","\u041f\u0435\u0442\u044a\u043a","\u0421\u044a\u0431\u043e\u0442\u0430"]},fa:{months:["\u0641\u0631\u0648\u0631\u062f\u06cc\u0646","\u0627\u0631\u062f\u06cc\u0628\u0647\u0634\u062a","\u062e\u0631\u062f\u0627\u062f","\u062a\u06cc\u0631","\u0645\u0631\u062f\u0627\u062f","\u0634\u0647\u0631\u06cc\u0648\u0631","\u0645\u0647\u0631","\u0622\u0628\u0627\u0646","\u0622\u0630\u0631","\u062f\u06cc","\u0628\u0647\u0645\u0646","\u0627\u0633\u0641\u0646\u062f"],dayOfWeekShort:["\u06cc\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647 \u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],dayOfWeek:["\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200c\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647","\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647"]},ru:{months:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],dayOfWeekShort:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],dayOfWeek:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"]},uk:{months:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"],dayOfWeekShort:["\u041d\u0434\u043b","\u041f\u043d\u0434","\u0412\u0442\u0440","\u0421\u0440\u0434","\u0427\u0442\u0432","\u041f\u0442\u043d","\u0421\u0431\u0442"],dayOfWeek:["\u041d\u0435\u0434\u0456\u043b\u044f","\u041f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0412\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041f'\u044f\u0442\u043d\u0438\u0446\u044f","\u0421\u0443\u0431\u043e\u0442\u0430"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},el:{months:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],dayOfWeekShort:["\u039a\u03c5\u03c1","\u0394\u03b5\u03c5","\u03a4\u03c1\u03b9","\u03a4\u03b5\u03c4","\u03a0\u03b5\u03bc","\u03a0\u03b1\u03c1","\u03a3\u03b1\u03b2"],dayOfWeek:["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf"]},de:{months:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeekShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOfWeek:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeekShort:["zo","ma","di","wo","do","vr","za"],dayOfWeek:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},tr:{months:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"],dayOfWeekShort:["Paz","Pts","Sal","\xc7ar","Per","Cum","Cts"],dayOfWeek:["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"]},fr:{months:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],dayOfWeekShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayOfWeek:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeekShort:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"],dayOfWeek:["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"]},th:{months:["\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21","\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c","\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21","\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19","\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21","\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19","\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21","\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21","\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19","\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21","\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19","\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21"],dayOfWeekShort:["\u0e2d\u0e32.","\u0e08.","\u0e2d.","\u0e1e.","\u0e1e\u0e24.","\u0e28.","\u0e2a."],dayOfWeek:["\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c","\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c","\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23","\u0e1e\u0e38\u0e18","\u0e1e\u0e24\u0e2b\u0e31\u0e2a","\u0e28\u0e38\u0e01\u0e23\u0e4c","\u0e40\u0e2a\u0e32\u0e23\u0e4c","\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c"]},pl:{months:["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144"],dayOfWeekShort:["nd","pn","wt","\u015br","cz","pt","sb"],dayOfWeek:["niedziela","poniedzia\u0142ek","wtorek","\u015broda","czwartek","pi\u0105tek","sobota"]},pt:{months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayOfWeek:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"]},ch:{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeekShort:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"]},km:{months:["\u1798\u1780\u179a\u17b6\u200b","\u1780\u17bb\u1798\u17d2\u1797\u17c8","\u1798\u17b7\u1793\u17b6\u200b","\u1798\u17c1\u179f\u17b6\u200b","\u17a7\u179f\u1797\u17b6\u200b","\u1798\u17b7\u1790\u17bb\u1793\u17b6\u200b","\u1780\u1780\u17d2\u1780\u178a\u17b6\u200b","\u179f\u17b8\u17a0\u17b6\u200b","\u1780\u1789\u17d2\u1789\u17b6\u200b","\u178f\u17bb\u179b\u17b6\u200b","\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6","\u1792\u17d2\u1793\u17bc\u200b"],dayOfWeekShort:["\u17a2\u17b6\u1791\u17b7\u200b","\u1785\u17d0\u1793\u17d2\u1791\u200b","\u17a2\u1784\u17d2\u1782\u17b6\u179a\u200b","\u1796\u17bb\u1792\u200b","\u1796\u17d2\u179a\u17a0\u200b\u200b","\u179f\u17bb\u1780\u17d2\u179a\u200b","\u179f\u17c5\u179a\u17cd"],dayOfWeek:["\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799\u200b","\u1785\u17d0\u1793\u17d2\u1791\u200b","\u17a2\u1784\u17d2\u1782\u17b6\u179a\u200b","\u1796\u17bb\u1792\u200b","\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd\u200b","\u179f\u17bb\u1780\u17d2\u179a\u200b","\u179f\u17c5\u179a\u17cd"]},kr:{months:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],dayOfWeekShort:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],dayOfWeek:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayOfWeek:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"]},da:{months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],dayOfWeekShort:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"],dayOfWeek:["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeekShort:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"],dayOfWeek:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"]},ja:{months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeekShort:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],dayOfWeek:["\u65e5\u66dc","\u6708\u66dc","\u706b\u66dc","\u6c34\u66dc","\u6728\u66dc","\u91d1\u66dc","\u571f\u66dc"]},vi:{months:["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"],dayOfWeekShort:["CN","T2","T3","T4","T5","T6","T7"],dayOfWeek:["Ch\u1ee7 nh\u1eadt","Th\u1ee9 hai","Th\u1ee9 ba","Th\u1ee9 t\u01b0","Th\u1ee9 n\u0103m","Th\u1ee9 s\xe1u","Th\u1ee9 b\u1ea3y"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeekShort:["Ned","Pon","Tor","Sre","\u010cet","Pet","Sob"],dayOfWeek:["Nedelja","Ponedeljek","Torek","Sreda","\u010cetrtek","Petek","Sobota"]},cs:{months:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],dayOfWeekShort:["Ne","Po","\xdat","St","\u010ct","P\xe1","So"]},hu:{months:["Janu\xe1r","Febru\xe1r","M\xe1rcius","\xc1prilis","M\xe1jus","J\xfanius","J\xfalius","Augusztus","Szeptember","Okt\xf3ber","November","December"],dayOfWeekShort:["Va","H\xe9","Ke","Sze","Cs","P\xe9","Szo"],dayOfWeek:["vas\xe1rnap","h\xe9tf\u0151","kedd","szerda","cs\xfct\xf6rt\xf6k","p\xe9ntek","szombat"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeekShort:["B","Be","\xc7a","\xc7","Ca","C","\u015e"],dayOfWeek:["Bazar","Bazar ert\u0259si","\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131","\xc7\u0259r\u015f\u0259nb\u0259","C\xfcm\u0259 ax\u015fam\u0131","C\xfcm\u0259","\u015e\u0259nb\u0259"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sri","\u010cet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","\u010cetvrtak","Petak","Subota"]},ca:{months:["Gener","Febrer","Mar\xe7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeekShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayOfWeek:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},et:{months:["Jaanuar","Veebruar","M\xe4rts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeekShort:["P","E","T","K","N","R","L"],dayOfWeek:["P\xfchap\xe4ev","Esmasp\xe4ev","Teisip\xe4ev","Kolmap\xe4ev","Neljap\xe4ev","Reede","Laup\xe4ev"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeekShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."],dayOfWeek:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes\xe4kuu","Hein\xe4kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeekShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayOfWeek:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"],dayOfWeek:["Domingo","Luns","Martes","M\xe9rcores","Xoves","Venres","S\xe1bado"]},hr:{months:["Sije\u010danj","Velja\u010da","O\u017eujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeekShort:["Ned","Pon","Uto","Sri","\u010cet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","\u010cetvrtak","Petak","Subota"]},ko:{months:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],dayOfWeekShort:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],dayOfWeek:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"]},lt:{months:["Sausio","Vasario","Kovo","Baland\u017eio","Gegu\u017e\u0117s","Bir\u017eelio","Liepos","Rugpj\u016b\u010dio","Rugs\u0117jo","Spalio","Lapkri\u010dio","Gruod\u017eio"],dayOfWeekShort:["Sek","Pir","Ant","Tre","Ket","Pen","\u0160e\u0161"],dayOfWeek:["Sekmadienis","Pirmadienis","Antradienis","Tre\u010diadienis","Ketvirtadienis","Penktadienis","\u0160e\u0161tadienis"]},lv:{months:["Janv\u0101ris","Febru\u0101ris","Marts","Apr\u012blis ","Maijs","J\u016bnijs","J\u016blijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeekShort:["Sv","Pr","Ot","Tr","Ct","Pk","St"],dayOfWeek:["Sv\u0113tdiena","Pirmdiena","Otrdiena","Tre\u0161diena","Ceturtdiena","Piektdiena","Sestdiena"]},mk:{months:["\u0458\u0430\u043d\u0443\u0430\u0440\u0438","\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0458","\u0458\u0443\u043d\u0438","\u0458\u0443\u043b\u0438","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u043d\u043e\u0435\u043c\u0432\u0440\u0438","\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438"],dayOfWeekShort:["\u043d\u0435\u0434","\u043f\u043e\u043d","\u0432\u0442\u043e","\u0441\u0440\u0435","\u0447\u0435\u0442","\u043f\u0435\u0442","\u0441\u0430\u0431"],dayOfWeek:["\u041d\u0435\u0434\u0435\u043b\u0430","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0440\u0442\u043e\u043a","\u041f\u0435\u0442\u043e\u043a","\u0421\u0430\u0431\u043e\u0442\u0430"]},mn:{months:["1-\u0440 \u0441\u0430\u0440","2-\u0440 \u0441\u0430\u0440","3-\u0440 \u0441\u0430\u0440","4-\u0440 \u0441\u0430\u0440","5-\u0440 \u0441\u0430\u0440","6-\u0440 \u0441\u0430\u0440","7-\u0440 \u0441\u0430\u0440","8-\u0440 \u0441\u0430\u0440","9-\u0440 \u0441\u0430\u0440","10-\u0440 \u0441\u0430\u0440","11-\u0440 \u0441\u0430\u0440","12-\u0440 \u0441\u0430\u0440"],dayOfWeekShort:["\u0414\u0430\u0432","\u041c\u044f\u0433","\u041b\u0445\u0430","\u041f\u04af\u0440","\u0411\u0441\u043d","\u0411\u044f\u043c","\u041d\u044f\u043c"],dayOfWeek:["\u0414\u0430\u0432\u0430\u0430","\u041c\u044f\u0433\u043c\u0430\u0440","\u041b\u0445\u0430\u0433\u0432\u0430","\u041f\u04af\u0440\u044d\u0432","\u0411\u0430\u0430\u0441\u0430\u043d","\u0411\u044f\u043c\u0431\u0430","\u041d\u044f\u043c"]},"pt-BR":{months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"],dayOfWeek:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"]},sk:{months:["Janu\xe1r","Febru\xe1r","Marec","Apr\xedl","M\xe1j","J\xfan","J\xfal","August","September","Okt\xf3ber","November","December"],dayOfWeekShort:["Ne","Po","Ut","St","\u0160t","Pi","So"],dayOfWeek:["Nede\u013ea","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"]},sq:{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","N\xebntor","Dhjetor"],dayOfWeekShort:["Die","H\xebn","Mar","M\xebr","Enj","Pre","Shtu"],
dayOfWeek:["E Diel","E H\xebn\xeb","E Mart\u0113","E M\xebrkur\xeb","E Enjte","E Premte","E Shtun\xeb"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sre","\u010det","Pet","Sub"],dayOfWeek:["Nedelja","Ponedeljak","Utorak","Sreda","\u010cetvrtak","Petak","Subota"]},sr:{months:["\u0458\u0430\u043d\u0443\u0430\u0440","\u0444\u0435\u0431\u0440\u0443\u0430\u0440","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0458","\u0458\u0443\u043d","\u0458\u0443\u043b","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440","\u043e\u043a\u0442\u043e\u0431\u0430\u0440","\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440","\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440"],dayOfWeekShort:["\u043d\u0435\u0434","\u043f\u043e\u043d","\u0443\u0442\u043e","\u0441\u0440\u0435","\u0447\u0435\u0442","\u043f\u0435\u0442","\u0441\u0443\u0431"],dayOfWeek:["\u041d\u0435\u0434\u0435\u0459\u0430","\u041f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a","\u0423\u0442\u043e\u0440\u0430\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0440\u0442\u0430\u043a","\u041f\u0435\u0442\u0430\u043a","\u0421\u0443\u0431\u043e\u0442\u0430"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"],dayOfWeek:["S\xf6ndag","M\xe5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xf6rdag"]},"zh-TW":{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeekShort:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"]},zh:{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeekShort:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"]},ug:{months:["1-\u0626\u0627\u064a","2-\u0626\u0627\u064a","3-\u0626\u0627\u064a","4-\u0626\u0627\u064a","5-\u0626\u0627\u064a","6-\u0626\u0627\u064a","7-\u0626\u0627\u064a","8-\u0626\u0627\u064a","9-\u0626\u0627\u064a","10-\u0626\u0627\u064a","11-\u0626\u0627\u064a","12-\u0626\u0627\u064a"],dayOfWeek:["\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5","\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5","\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5","\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5","\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5","\u062c\u06c8\u0645\u06d5","\u0634\u06d5\u0646\u0628\u06d5"]},he:{months:["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"],dayOfWeekShort:["\u05d0'","\u05d1'","\u05d2'","\u05d3'","\u05d4'","\u05d5'","\u05e9\u05d1\u05ea"],dayOfWeek:["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea","\u05e8\u05d0\u05e9\u05d5\u05df"]},hy:{months:["\u0540\u0578\u0582\u0576\u057e\u0561\u0580","\u0553\u0565\u057f\u0580\u057e\u0561\u0580","\u0544\u0561\u0580\u057f","\u0531\u057a\u0580\u056b\u056c","\u0544\u0561\u0575\u056b\u057d","\u0540\u0578\u0582\u0576\u056b\u057d","\u0540\u0578\u0582\u056c\u056b\u057d","\u0555\u0563\u0578\u057d\u057f\u0578\u057d","\u054d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580","\u0540\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580","\u0546\u0578\u0575\u0565\u0574\u0562\u0565\u0580","\u0534\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580"],dayOfWeekShort:["\u053f\u056b","\u0535\u0580\u056f","\u0535\u0580\u0584","\u0549\u0578\u0580","\u0540\u0576\u0563","\u0548\u0582\u0580\u0562","\u0547\u0562\u0569"],dayOfWeek:["\u053f\u056b\u0580\u0561\u056f\u056b","\u0535\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b","\u0535\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b","\u0549\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b","\u0540\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b","\u0548\u0582\u0580\u0562\u0561\u0569","\u0547\u0561\u0562\u0561\u0569"]},kg:{months:["\u04ae\u0447\u0442\u04af\u043d \u0430\u0439\u044b","\u0411\u0438\u0440\u0434\u0438\u043d \u0430\u0439\u044b","\u0416\u0430\u043b\u0433\u0430\u043d \u041a\u0443\u0440\u0430\u043d","\u0427\u044b\u043d \u041a\u0443\u0440\u0430\u043d","\u0411\u0443\u0433\u0443","\u041a\u0443\u043b\u0436\u0430","\u0422\u0435\u043a\u0435","\u0411\u0430\u0448 \u041e\u043e\u043d\u0430","\u0410\u044f\u043a \u041e\u043e\u043d\u0430","\u0422\u043e\u0433\u0443\u0437\u0434\u0443\u043d \u0430\u0439\u044b","\u0416\u0435\u0442\u0438\u043d\u0438\u043d \u0430\u0439\u044b","\u0411\u0435\u0448\u0442\u0438\u043d \u0430\u0439\u044b"],dayOfWeekShort:["\u0416\u0435\u043a","\u0414\u04af\u0439","\u0428\u0435\u0439","\u0428\u0430\u0440","\u0411\u0435\u0439","\u0416\u0443\u043c","\u0418\u0448\u0435"],dayOfWeek:["\u0416\u0435\u043a\u0448\u0435\u043c\u0431","\u0414\u04af\u0439\u0448\u04e9\u043c\u0431","\u0428\u0435\u0439\u0448\u0435\u043c\u0431","\u0428\u0430\u0440\u0448\u0435\u043c\u0431","\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438","\u0416\u0443\u043c\u0430","\u0418\u0448\u0435\u043d\u0431"]},rm:{months:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],dayOfWeekShort:["Du","Gli","Ma","Me","Gie","Ve","So"],dayOfWeek:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"]},ka:{months:["\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8","\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8","\u10db\u10d0\u10e0\u10e2\u10d8","\u10d0\u10de\u10e0\u10d8\u10da\u10d8","\u10db\u10d0\u10d8\u10e1\u10d8","\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8","\u10d8\u10d5\u10da\u10d8\u10e1\u10d8","\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd","\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8","\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8","\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8","\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8"],dayOfWeekShort:["\u10d9\u10d5","\u10dd\u10e0\u10e8","\u10e1\u10d0\u10db\u10e8","\u10dd\u10d7\u10ee","\u10ee\u10e3\u10d7","\u10de\u10d0\u10e0","\u10e8\u10d0\u10d1"],dayOfWeek:["\u10d9\u10d5\u10d8\u10e0\u10d0","\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8","\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8","\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8","\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8","\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8","\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8"]}},ownerDocument:document,contentWindow:window,value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,openOnFocus:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,minDateTime:!1,maxDateTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",touchMovedThreshold:5,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onGetWeekOfYear:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],allowDates:[],allowDateRe:null,disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1,insideParent:!1},n=null,r=null,s="en",o={meridiem:["AM","PM"]},a=l={moment:{default_options:{format:"YYYY/MM/DD HH:mm",formatDate:"YYYY/MM/DD",formatTime:"HH:mm"},formatter:{parseDate:formatDate:formatMask:}};t.datetimepicker={setLocale:setDateFormatter:;var u={RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"},c=t.extend(t.datetimepicker,u),a(),window.getComputedStyle||(window.getComputedStyle=,Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i,n;for(i=e||0,n=this.length;n>i;i+=1)if(this[i]===t)return i;return-1}),Date.prototype.countDaysInMonth=t.fn.xdsoftScroller=function(e,i){return this.each(function(){var n,r,s,o,a,l=t(this),u=c=100,d=!1,h=0,p=0,f=0,m=!1,g=0,v=function(){};"hide"!==i?(t(this).hasClass("xdsoft_scroller_box")||(n=l.children().eq(0),r=l[0].clientHeight,s=n[0].offsetHeight,o=t('<div class="xdsoft_scrollbar"></div>'),a=t('<div class="xdsoft_scroller"></div>'),o.append(a),l.addClass("xdsoft_scroller_box").append(o),v=function(t){var e=u(t).y-h+g;0>e&&(e=0),e+a[0].offsetHeight>f&&(e=f-a[0].offsetHeight),l.trigger("scroll_element.xdsoft_scroller",[c?e/c:0])},a.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",.on("touchmove",.on("touchend touchcancel",function(){m=!1,g=0}),l.on("scroll_element.xdsoft_scroller",function(t,e){r||l.trigger("resize_scroll.xdsoft_scroller",[e,!0]),e=e>1?1:0>e||isNaN(e)?0:e,a.css("margin-top",c*e),setTimeout(10)}).on("resize_scroll.xdsoft_scroller",,l.on("mousewheel",,l.on("touchstart",,l.on("touchmove",,l.on("touchend touchcancel",),l.trigger("resize_scroll.xdsoft_scroller",[i])):l.find(".xdsoft_scrollbar").hide()})},t.fn.datetimepicker=function(r,o){var a,l,u=this,c=17,d=13,h=27,p=37,f=38,m=39,g=40,v=9,y=116,_=65,b=67,T=86,w=90,k=89,x=!1,S=t.isPlainObject(r)||!r?t.extend(!0,{},i,r):t.extend(!0,{},i),C=0;return a=function(i){unction a(e){var r=s=e.mask&&i.off("keydown.xdsoft"),!0===e.mask&&(n.formatMask?e.mask=n.formatMask(e.format):e.mask=e.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===t.type(e.mask)&&(r(e.mask,i.val())||(i.val(e.mask.replace(/[0-9]/g,"_")),s(i[0],0)),i.on("paste.xdsoft",,i.on("keydown.xdsoft",function(n){var o,a=this.value,l=n.which,u=this.selectionStart,S=this.selectionEnd,C=u!==S;if(l>=48&&57>=l||l>=96&&105>=l||8===l||46===l){for(o=8===l||46===l?"_":String.fromCharCode(l>=96&&105>=l?l-48:l),8===l&&u&&!C&&(u-=1);;){var E=e.mask.substr(u,1),O=u<e.mask.length,A=u>0;if(!(/[^0-9_]/.test(E)&&O&&A))break;u+=8!==l||C?1:-1}if(n.metaKey&&(C=!(u=0)),C){var D=S-u,I=e.mask.replace(/[0-9]/g,"_"),P=I.substr(u,D).substr(1);a=a.substr(0,u)+(o+P)+a.substr(u+D)}else a=a.substr(0,u)+o+a.substr(u+1);if(""===t.trim(a))a=I;else if(u===e.mask.length)return n.preventDefault(),!1;for(u+=8===l?0:1;/[^0-9_]/.test(e.mask.substr(u,1))&&u<e.mask.length&&u>0;)u+=8===l?0:1;r(e.mask,a)?(this.value=a,s(this,u)):""===t.trim(a)?this.value=e.mask.replace(/[0-9]/g,"_"):i.trigger("error_input.xdsoft")}else if(-1!==[_,b,T,w,k].indexOf(l)&&x||-1!==[h,f,g,p,m,y,c,v,d].indexOf(l))return!0;return n.preventDefault(),!1}))}var l,u,C,E,O,A,D=t('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),I=t('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),P=t('<div class="xdsoft_datepicker active"></div>'),L=t('<div class="xdsoft_monthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),M=t('<div class="xdsoft_calendar"></div>'),N=t('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),R=N.find(".xdsoft_time_box").eq(0),j=t('<div class="xdsoft_time_variant"></div>'),B=t('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),F=t('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),U=t('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),H=!1,q=0;S.id&&D.attr("id",S.id),S.style&&D.attr("style",S.style),S.weeks&&D.addClass("xdsoft_showweeks"),S.rtl&&D.addClass("xdsoft_rtl"),D.addClass("xdsoft_"+S.theme),D.addClass(S.className),L.find(".xdsoft_month span").after(F),L.find(".xdsoft_year span").after(U),L.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",;var $=L.find(".xdsoft_select").xdsoftScroller(S).on("touchstart mousedown.xdsoft",.on("touchmove",".xdsoft_option",$).on("touchend mousedown.xdsoft",".xdsoft_option",,D.getValue=function(){return O.getCurrentTime()},D.setOptions=function(r){var s={};S=t.extend(!0,{},S,r),r.allowTimes&&t.isArray(r.allowTimes)&&r.allowTimes.length&&(S.allowTimes=t.extend(!0,[],r.allowTimes)),r.weekends&&t.isArray(r.weekends)&&r.weekends.length&&(S.weekends=t.extend(!0,[],r.weekends)),r.allowDates&&t.isArray(r.allowDates)&&r.allowDates.length&&(S.allowDates=t.extend(!0,[],r.allowDates)),r.allowDateRe&&"[object String]"===Object.prototype.toString.call(r.allowDateRe)&&(S.allowDateRe=new RegExp(r.allowDateRe)),r.highlightedDates&&t.isArray(r.highlightedDates)&&r.highlightedDates.length&&(t.each(r.highlightedDates,,S.highlightedDates=t.extend(!0,[],s)),r.highlightedPeriods&&t.isArray(r.highlightedPeriods)&&r.highlightedPeriods.length&&(s=t.extend(!0,[],S.highlightedDates),t.each(r.highlightedPeriods,function(i,r){var o,a,l,u,c,d,h;if(t.isArray(r))o=r[0],a=r[1],l=r[2],h=r[3];else{var p=t.map(r.split(","),t.trim);o=n.parseDate(p[0],S.formatDate),a=n.parseDate(p[1],S.formatDate),l=p[2],h=p[3]}for(;a>=o;)u=new e(o,l,h),c=n.formatDate(o,S.formatDate),o.setDate(o.getDate()+1),void 0!==s[c]?(d=s[c].desc)&&d.length&&u.desc&&u.desc.length&&(s[c].desc=d+"\n"+u.desc):s[c]=u}),S.highlightedDates=t.extend(!0,[],s)),r.disabledDates&&t.isArray(r.disabledDates)&&r.disabledDates.length&&(S.disabledDates=t.extend(!0,[],r.disabledDates)),r.disabledWeekDays&&t.isArray(r.disabledWeekDays)&&r.disabledWeekDays.length&&(S.disabledWeekDays=t.extend(!0,[],r.disabledWeekDays)),!S.open&&!S.opened||S.inline||i.trigger("open.xdsoft"),S.inline&&(H=!0,D.addClass("xdsoft_inline"),i.after(D).hide()),S.inverseButton&&(S.next="xdsoft_prev",S.prev="xdsoft_next"),S.datepicker?P.addClass("active"):P.removeClass("active"),S.timepicker?N.addClass("active"):N.removeClass("active"),S.value&&(O.setCurrentTime(S.value),i&&i.val&&i.val(O.str)),isNaN(S.dayOfWeekStart)?S.dayOfWeekStart=0:S.dayOfWeekStart=parseInt(S.dayOfWeekStart,10)%7,S.timepickerScrollbar||R.xdsoftScroller(S,"hide"),S.minDate&&/^[\+\-](.*)$/.test(S.minDate)&&(S.minDate=n.formatDate(O.strToDateTime(S.minDate),S.formatDate)),S.maxDate&&/^[\+\-](.*)$/.test(S.maxDate)&&(S.maxDate=n.formatDate(O.strToDateTime(S.maxDate),S.formatDate)),S.minDateTime&&/^\+(.*)$/.test(S.minDateTime)&&(S.minDateTime=O.strToDateTime(S.minDateTime).dateFormat(S.formatDate)),S.maxDateTime&&/^\+(.*)$/.test(S.maxDateTime)&&(S.maxDateTime=O.strToDateTime(S.maxDateTime).dateFormat(S.formatDate)),B.toggle(S.showApplyButton),L.find(".xdsoft_today_button").css("visibility",S.todayButton?"visible":"hidden"),L.find("."+S.prev).css("visibility",S.prevButton?"visible":"hidden"),L.find("."+S.next).css("visibility",S.nextButton?"visible":"hidden"),a(S),S.validateOnBlur&&i.off("blur.xdsoft").on("blur.xdsoft",function(){if(S.allowBlank&&(!t.trim(t(this).val()).length||"string"==typeof S.mask&&t.trim(t(this).val())===S.mask.replace(/[0-9]/g,"_")))t(this).val(null),D.data("xdsoft_datetime").empty();else{var e=n.parseDate(t(this).val(),S.format);if(e)t(this).val(n.formatDate(e,S.format));else{var i=+[t(this).val()[0],t(this).val()[1]].join(""),r=+[t(this).val()[2],t(this).val()[3]].join("");!S.datepicker&&S.timepicker&&i>=0&&24>i&&r>=0&&60>r?t(this).val([i,r].map(.join(":")):t(this).val(n.formatDate(O.now(),S.format))}D.data("xdsoft_datetime").setCurrentTime(t(this).val())}D.trigger("changedatetime.xdsoft"),D.trigger("close.xdsoft")}),S.dayOfWeekStartPrev=0===S.dayOfWeekStart?6:S.dayOfWeekStart-1,D.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},D.data("options",S).on("touchstart mousedown.xdsoft",,R.append(j),R.xdsoftScroller(S),D.on("afterOpen.xdsoft",function(){R.xdsoftScroller(S)}),D.append(P).append(N),!0!==S.withoutCopyright&&D.append(I),P.append(L).append(M).append(B),S.insideParent?t(i).parent().append(D):t(S.parentID).append(D),O=new B.on("touchend click",,L.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",.on("dblclick.xdsoft",,L.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",,N.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var e=t(this),i=0,n=!1,r=110;!function s(t){var o=R[0].clientHeight,a=j[0].offsetHeight,l=Math.abs(parseInt(j.css("marginTop"),10));e.hasClass(S.next)&&a-o-S.timeHeightInTimePicker>=l?j.css("marginTop","-"+(l+S.timeHeightInTimePicker)+"px"):e.hasClass(S.prev)&&0<=l-S.timeHeightInTimePicker&&j.css("marginTop","-"+(l-S.timeHeightInTimePicker)+"px"),R.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(j[0].style.marginTop,10)/(a-o))]),r=r>10?10:r-10,n||(i=setTimeout(s,t||r))}(500),t([S.ownerDocument.body,S.contentWindow]).on("touchend mouseup.xdsoft",}),l=0,D.on("xchange.xdsoft",function(e){clearTimeout(l),l=setTimeout(function(){void 0!==O.currentTime&&null!==O.currentTime||(O.currentTime=O.now());for(var e,o,a,l,u,c,d,h,p,f,m="",g=new Date(O.currentTime.getFullYear(),O.currentTime.getMonth(),1,12,0,0),v=0,y=O.now(),_=!1,b=!1,T=!1,w=!1,k=[],x=!0,C="";g.getDay()!==S.dayOfWeekStart;)g.setDate(g.getDate()-1);for(m+="<table><thead><tr>",S.weeks&&(m+="<th></th>"),e=0;7>e;e+=1)m+="<th>"+S.i18n[s].dayOfWeekShort[(e+S.dayOfWeekStart)%7]+"</th>";for(m+="</tr></thead>",m+="<tbody>",!1!==S.maxDate&&(_=O.strToDate(S.maxDate),_=new Date(_.getFullYear(),_.getMonth(),_.getDate(),23,59,59,999)),!1!==S.minDate&&(b=O.strToDate(S.minDate),b=new Date(b.getFullYear(),b.getMonth(),b.getDate())),!1!==S.minDateTime&&(T=O.strToDate(S.minDateTime),T=new Date(T.getFullYear(),T.getMonth(),T.getDate(),T.getHours(),T.getMinutes(),T.getSeconds())),!1!==S.maxDateTime&&(w=O.strToDate(S.maxDateTime),w=new Date(w.getFullYear(),w.getMonth(),w.getDate(),w.getHours(),w.getMinutes(),w.getSeconds())),!1!==w&&(f=31*(12*w.getFullYear()+w.getMonth())+w.getDate());v<O.currentTime.countDaysInMonth()||g.getDay()!==S.dayOfWeekStart||O.currentTime.getMonth()===g.getMonth();){k=[],v+=1,a=g.getDay(),l=g.getDate(),u=g.getFullYear(),N=g.getMonth(),c=O.getWeekOfYear(g),p="",k.push("xdsoft_date"),d=S.beforeShowDay&&t.isFunction(S.beforeShowDay.call)?S.beforeShowDay.call(D,g):null,S.allowDateRe&&"[object RegExp]"===Object.prototype.toString.call(S.allowDateRe)&&(S.allowDateRe.test(n.formatDate(g,S.formatDate))||k.push("xdsoft_disabled")),S.allowDates&&0<S.allowDates.length&&-1===S.allowDates.indexOf(n.formatDate(g,S.formatDate))&&k.push("xdsoft_disabled");var E=31*(12*g.getFullYear()+g.getMonth())+g.getDate();(!1!==_&&g>_||!1!==T&&T>g||!1!==b&&b>g||!1!==w&&E>f||d&&!1===d[0])&&k.push("xdsoft_disabled"),-1!==S.disabledDates.indexOf(n.formatDate(g,S.formatDate))&&k.push("xdsoft_disabled"),-1!==S.disabledWeekDays.indexOf(a)&&k.push("xdsoft_disabled"),i.is("[disabled]")&&k.push("xdsoft_disabled"),d&&""!==d[1]&&k.push(d[1]),O.currentTime.getMonth()!==N&&k.push("xdsoft_other_month"),(S.defaultSelect||D.data("changed"))&&n.formatDate(O.currentTime,S.formatDate)===n.formatDate(g,S.formatDate)&&k.push("xdsoft_current"),n.formatDate(y,S.formatDate)===n.formatDate(g,S.formatDate)&&k.push("xdsoft_today"),0!==g.getDay()&&6!==g.getDay()&&-1===S.weekends.indexOf(n.formatDate(g,S.formatDate))||k.push("xdsoft_weekend"),void 0!==S.highlightedDates[n.formatDate(g,S.formatDate)]&&(o=S.highlightedDates[n.formatDate(g,S.formatDate)],k.push(void 0===o.style?"xdsoft_highlighted_default":o.style),p=void 0===o.desc?"":o.desc),S.beforeShowDay&&t.isFunction(S.beforeShowDay)&&k.push(S.beforeShowDay(g)),x&&(m+="<tr>",x=!1,S.weeks&&(m+="<th>"+c+"</th>")),m+='<td data-date="'+l+'" data-month="'+N+'" data-year="'+u+'" class="xdsoft_date xdsoft_day_of_week'+g.getDay()+" "+k.join(" ")+'" title="'+p+'"><div>'+l+"</div></td>",g.getDay()===S.dayOfWeekStartPrev&&(m+="</tr>",x=!0),g.setDate(l+1)}m+="</tbody></table>",M.html(m),L.find(".xdsoft_label span").eq(0).text(S.i18n[s].months[O.currentTime.getMonth()]),L.find(".xdsoft_label span").eq(1).text(O.currentTime.getFullYear()+S.yearOffset),N=C="";var A=0;if(!1!==S.minTime){var I=O.strtotime(S.minTime);A=60*I.getHours()+I.getMinutes()}var P=1440;if(!1!==S.maxTime&&(I=O.strtotime(S.maxTime),P=60*I.getHours()+I.getMinutes()),!1!==S.minDateTime&&(I=O.strToDateTime(S.minDateTime),n.formatDate(O.currentTime,S.formatDate)===n.formatDate(I,S.formatDate))){var N=60*I.getHours()+I.getMinutes();N>A&&(A=N)}if(!1!==S.maxDateTime&&(I=O.strToDateTime(S.maxDateTime),n.formatDate(O.currentTime,S.formatDate)===n.formatDate(I,S.formatDate)&&(N=60*I.getHours()+I.getMinutes())<P&&(P=N)),h=function(e,r){var s,o=O.now(),a=S.allowTimes&&t.isArray(S.allowTimes)&&S.allowTimes.length;o.setHours(e),e=parseInt(o.getHours(),10),o.setMinutes(r),r=parseInt(o.getMinutes(),10),k=[];var l=60*e+r;(i.is("[disabled]")||l>=P||A>l)&&k.push("xdsoft_disabled"),(s=new Date(O.currentTime)).setHours(parseInt(O.currentTime.getHours(),10)),a||s.setMinutes(Math[S.roundTime](O.currentTime.getMinutes()/S.step)*S.step),(S.initTime||S.defaultSelect||D.data("changed"))&&s.getHours()===parseInt(e,10)&&(!a&&59<S.step||s.getMinutes()===parseInt(r,10))&&(S.defaultSelect||D.data("changed")?k.push("xdsoft_current"):S.initTime&&k.push("xdsoft_init_time")),
parseInt(y.getHours(),10)===parseInt(e,10)&&parseInt(y.getMinutes(),10)===parseInt(r,10)&&k.push("xdsoft_today"),C+='<div class="xdsoft_time '+k.join(" ")+'" data-hour="'+e+'" data-minute="'+r+'">'+n.formatDate(o,S.formatTime)+"</div>"},S.allowTimes&&t.isArray(S.allowTimes)&&S.allowTimes.length)for(v=0;v<S.allowTimes.length;v+=1)h(O.strtotime(S.allowTimes[v]).getHours(),N=O.strtotime(S.allowTimes[v]).getMinutes());else for(e=v=0;v<(S.hours12?12:24);v+=1)for(e=0;60>e;e+=S.step){var R=60*v+e;A>R||R>=P||h((10>v?"0":"")+v,N=(10>e?"0":"")+e)}for(j.html(C),r="",v=parseInt(S.yearStart,10);v<=parseInt(S.yearEnd,10);v+=1)r+='<div class="xdsoft_option '+(O.currentTime.getFullYear()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+(v+S.yearOffset)+"</div>";for(U.children().eq(0).html(r),v=parseInt(S.monthStart,10),r="";v<=parseInt(S.monthEnd,10);v+=1)r+='<div class="xdsoft_option '+(O.currentTime.getMonth()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+S.i18n[s].months[v]+"</div>";F.children().eq(0).html(r),t(D).trigger("generate.xdsoft")},10),e.stopPropagation()}).on("afterOpen.xdsoft",,u=0,M.on("touchend click.xdsoft","td",function(e){e.stopPropagation(),u+=1;var n=t(this),r=O.currentTime;return null==r&&(O.currentTime=O.now(),r=O.currentTime),n.hasClass("xdsoft_disabled")?!1:(r.setDate(1),r.setFullYear(n.data("year")),r.setMonth(n.data("month")),r.setDate(n.data("date")),D.trigger("select.xdsoft",[r]),i.val(O.str()),S.onSelectDate&&t.isFunction(S.onSelectDate)&&S.onSelectDate.call(D,O.currentTime,D.data("input"),e),D.data("changed",!0),D.trigger("xchange.xdsoft"),D.trigger("changedatetime.xdsoft"),(u>1||!0===S.closeOnDateSelect||!1===S.closeOnDateSelect&&!S.timepicker)&&!S.inline&&D.trigger("close.xdsoft"),setTimeout(200),void 0)}),j.on("touchstart","div",function(){this.touchMoved=!1}).on("touchmove","div",$).on("touchend click.xdsoft","div",,P.on("mousewheel.xdsoft",,i.on("mousewheel.xdsoft",,D.on("changedatetime.xdsoft",.on("generate.xdsoft",.on("click.xdsoft",function(t){t.stopPropagation()}),C=0,A=function(t,e){do if(!(t=t.parentNode)||!1===e(t))break;while("HTML"!==t.nodeName)},E=function(){var e,i,n,r,s,o,a,l,u,c,d,h,p;if(e=(l=D.data("input")).offset(),i=l[0],c="top",n=e.top+i.offsetHeight-1,r=e.left,s="absolute",u=t(S.contentWindow).width(),h=t(S.contentWindow).height(),p=t(S.contentWindow).scrollTop(),S.ownerDocument.documentElement.clientWidth-e.left<P.parent().outerWidth(!0)){var f=P.parent().outerWidth(!0)-i.offsetWidth;r-=f}"rtl"===l.parent().css("direction")&&(r-=D.outerWidth()-l.outerWidth()),S.fixed?(n-=p,r-=t(S.contentWindow).scrollLeft(),s="fixed"):(a=!1,A(i,,a&&!S.insideParent?(s="fixed",n+D.outerHeight()>h+p?(c="bottom",n=h+p-e.top):n-=p):n+D[0].offsetHeight>h+p&&(n=e.top-D[0].offsetHeight+1),0>n&&(n=0),r+i.offsetWidth>u&&(r=u-i.offsetWidth)),o=D[0],A(o,function(t){return"relative"===S.contentWindow.getComputedStyle(t).getPropertyValue("position")&&u>=t.offsetWidth?(r-=(u-t.offsetWidth)/2,!1):void 0}),d={position:s,left:S.insideParent?i.offsetLeft:r,top:"",bottom:""},S.insideParent?d[c]=i.offsetTop+i.offsetHeight:d[c]=n,D.css(d)},D.on("open.xdsoft",.on("close.xdsoft",.on("toggle.xdsoft",.data("input",i),q=0,D.data("xdsoft_datetime",O),D.setOptions(S),O.setCurrentTime(o()),i.data("xdsoft_datetimepicker",D).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",.on("keydown.xdsoft",.on("blur.xdsoft",function(){D.trigger("close.xdsoft")})},l=t(S.ownerDocument).off("keydown.xdsoftctrl keyup.xdsoftctrl").off("keydown.xdsoftcmd keyup.xdsoftcmd").on("keydown.xdsoftctrl",function(t){t.keyCode===c&&(x=!0)}).on("keyup.xdsoftctrl",.on("keydown.xdsoftcmd",function(t){91===t.keyCode&&!0}).on("keyup.xdsoftcmd",,this.each(,u},t.fn.datetimepicker.defaults=i};!datetimepickerFactory),function(t){function e(e){var o,a=e||window.event,u=l.call(arguments,1),d=0,h=0,p=0,f=0,m=0;if((e=t.event.fix(a)).type="mousewheel","detail"in a&&(p=-1*a.detail),"wheelDelta"in a&&(p=a.wheelDelta),"wheelDeltaY"in a&&(p=a.wheelDeltaY),"wheelDeltaX"in a&&(h=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(h=-1*p,p=0),d=0===p?h:p,"deltaY"in a&&(d=p=-1*a.deltaY),"deltaX"in a&&(h=a.deltaX,0===p&&(d=-1*h)),0!==p||0!==h){if(1===a.deltaMode){var g=t.data(this,"mousewheel-line-height");d*=g,p*=g,h*=g}else if(2===a.deltaMode){var v=t.data(this,"mousewheel-page-height");d*=v,p*=v,h*=v}if(o=Math.max(Math.abs(p),Math.abs(h)),(!s||s>o)&&n(a,s=o)&&(s/=40),n(a,o)&&(d/=40,h/=40,p/=40),d=Math[d>=1?"floor":"ceil"](d/s),h=Math[h>=1?"floor":"ceil"](h/s),p=Math[p>=1?"floor":"ceil"](p/s),c.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=e.clientX-y.left,m=e.clientY-y.top}return e.deltaX=h,e.deltaY=p,e.deltaFactor=s,e.offsetX=f,e.offsetY=m,e.deltaMode=0,u.unshift(e,d,h,p),r&&clearTimeout(r),r=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,u)}}r r,s,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var u=o.length;u;)t.event.fixHooks[o[--u]]=t.event.mouseHooks;var c=t.event.special.mousewheel={version:"3.1.12",setup:teardown:getLineHeight:getPageHeight:settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),$(function(){$('[data-toggle="popover"]').popover({html:!1}),$('[data-toggle="tooltip"]').tooltip(),$("#tabs a").click(function(t){t.preventDefault(),$(this).tab("show")}),$(".btn-group-tabs a").click(;var t=$(".collapse-wrapper");t.children(".collapse").on("show.bs.collapse",function(){t.children(".btn-collapse").hide()})}),$(function(t){t.preventDefault;var e=$(".footer-back-to-top");e.click(}),$(function(){replaceUrls(".replace-url")}),$(,$(function(){"use strict";$(".js-affix-nav").each(function(){$(this).affixNav()}),$(".scroll-items").each(function(){$(this).scrollItems()}),$(".scroll-tabs").each(function(){$(this).scrollTabs()}),$(".js-popup-bar").each(}),function(){$(function(){"use strict";$(".js-readmore-xxs").readmore({moreLink:'<a class="link-readmore link-readmore-xxs" href="#"><small><i class="fa fa-fw fa-caret-down"></i></small></a>',lessLink:'<a class="link-readless hidden" href="#">\u9589\u3058\u308b</a>',collapsedHeight:20,afterToggle:function(){$(".readmore-xxs-container").removeClass("readmore-xxs-container")}}),$(".js-readmore-xs").readmore({moreLink:'<a class="link-readmore" href="#"><small><i class="fa fa-fw fa-caret-down"></i>\u3082\u3063\u3068\u898b\u308b</small></a>',lessLink:'<a class="link-readless hidden" href="#">\u9589\u3058\u308b</a>',collapsedHeight:40,afterToggle:function(){$(".readmore-xs-container").removeClass("readmore-xs-container")}}),$(".js-readmore-sm").readmore({moreLink:'<a class="link-readmore" href="#"><small>\u7d9a\u304d\u3092\u8868\u793a<i class="fa fa-fw fa-caret-down"></i></small></a>',lessLink:'<a class="link-readless hidden" href="#">\u9589\u3058\u308b</a>',collapsedHeight:100}),$(".js-readmore").readmore({moreLink:'<a class="link-readmore" href="#"><small>\u7d9a\u304d\u3092\u8868\u793a<i class="fa fa-fw fa-caret-down"></i></small></a>',lessLink:'<a class="link-readless hidden" href="#">\u9589\u3058\u308b</a>',collapsedHeight:200}),$(".js-readmore-lg").readmore({moreLink:'<div class="link-readmore-btn"><div class="text-center"><a class="btn btn-secondary btn-very-lg inline-block" href="#"><span>\u7d9a\u304d\u3092\u8868\u793a<i class="fa fa-fw fa-caret-down"></i></span></a></div></div>',lessLink:'<a class="link-readless hidden" href="#">\u9589\u3058\u308b</a>',collapsedHeight:600,afterToggle:)})}(),$(function(){"use strict";$(".js-collapse-toggle-btn").each(function(){function t(t){var e=t.html(),i=t.data("after-html"),n=$(t.attr("href"));n&&(n.on("show.bs.collapse",function(){t.html(i)}),n.on("hide.bs.collapse",function(){t.html(e)}))}t($(this))})}),$(function(){$(".js-copy-btn").on("click",function(t){t.preventDefault();var e=document.getElementById($(this).data("target"));e.select(),document.execCommand("copy"),e.blur(),alert("\u30b3\u30d4\u30fc\u3067\u304d\u307e\u3057\u305f\uff01 : "+e.value)})}),$(function(){var t=$(".slick-items.five");t.on("init",function(){$(".hidden-container").show(),$(".loading-container").hide()}),t.slick({dots:!0,arrows:!0,infinite:!0,slidesToShow:5,slidesToScroll:5,responsive:[{breakpoint:991,settings:{arrows:!1,slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}}]});var t=$(".slick-items.three");t.on("init",function(){$(".hidden-container").show(),$(".loading-container").hide()}),t.slick({dots:!0,arrows:!0,infinite:!0,slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:1199,settings:{arrows:!1,slidesToShow:3,slidesToScroll:3}},{breakpoint:991,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}},{breakpoint:767,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{arrows:!1,slidesToShow:1,slidesToScroll:1}}]});var t=$(".slick-items.three-introduction");t.on("init",,t.slick({dots:!0,arrows:!0,infinite:!0,slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:1199,settings:{arrows:!1,slidesToShow:3,slidesToScroll:3}},{breakpoint:991,settings:{arrows:!1,slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}},{breakpoint:374,settings:{arrows:!1,slidesToShow:1,slidesToScroll:1}}]})}),function(){function t(t,e,i,n){i=i||{},i.template="string"==typeof i.template?i.template:".feed",i.container="string"==typeof i.container?i.container:null,i.limit="number"==typeof i.limit?i.limit:null;var r=t.find(i.template).slice(0,1).remove();return r.length?void $.get(e,function(e){if(!$.isXMLDoc(e))return void console.error("spotlightwidget: feed is not xml");var s,o=$(e).find("item");i.limit&&(o=o.slice(0,i.limit)),o.each(function(){var t=$(this),e={title:t.find("title").text(),link:t.find("link").text(),category:t.find("category").text(),thumbnail:{sm:t.find("thumbnail-sm").text(),md:t.find("thumbnail-md").text(),lg:t.find("thumbnail-lg").text()}},i=r.clone();i.find(".title").text(e.title),i.find(".link-href").attr({href:e.link}),i.find(".link").text(e.link),i.find(".category").text(e.category),i.find(".thumbnail-sm-src").attr({src:e.thumbnail.sm}),i.find(".thumbnail-md-src").attr({src:e.thumbnail.md}),i.find(".thumbnail-lg-src").attr({src:e.thumbnail.lg}),s=s?s.add(i):i}),i.container&&t.find(i.container).append(s),(n||$.noop)(s)}):(console.warn("spotlightwidget: can't find template"),void(n||$.noop)())}$.fn.extend({spotlightwidget:function(e,i,n){return"undefined"==$.type(n)&&$.isFunction(i)&&(n=i,i=null),"string"!=$.type(e)||i&&!$.isPlainObject(i)||n&&!$.isFunction(n)?(console.error("spotlightwidget: args type error"),this):(t(this,e,i,n),this)}})}(),jQuery),function(t){window.NestedFormEvents=function(){this.addFields=t.proxy(this.addFields,this),this.removeFields=t.proxy(this.removeFields,this)},NestedFormEvents.prototype={addFields:function(e){var i=e.currentTarget,n=t(i).data("association"),r=t("#"+t(i).data("blueprint-id")),s=r.data("blueprint"),o=(t(i).closest(".fields").closestChild("input, textarea, select").eq(0).attr("name")||"").replace(new RegExp("[[a-z_]+]$"),"");if(o)for(var a=o.match(/[a-z_]+_attributes(?=\]\[(new_)?\d+\])/g)||[],l=o.match(/[0-9]+/g)||[],u=0;u<a.length;u++)l[u]&&(s=s.replace(new RegExp("(_"+a[u]+")_.+?_","g"),"$1_"+l[u]+"_"),s=s.replace(new RegExp("(\\["+a[u]+"\\])\\[.+?\\]","g"),"$1["+l[u]+"]"));var c=new RegExp("new_"+n,"g"),d=this.newId();s=t.trim(s.replace(c,d));var h=this.insertFields(s,n,i);return h.trigger({type:"nested:fieldAdded",field:h}).trigger({type:"nested:fieldAdded:"+n,field:h}),!1},newId:insertFields:function(e,i,n){var r=t(n).data("target");return r?t(e).appendTo(t(r)):t(e).insertBefore(n)},removeFields:function(e){var i=t(e.currentTarget),n=i.data("association"),r=i.prev("input[type=hidden]");r.val("1");var s=i.closest(".fields");return s.hide(),s.trigger({type:"nested:fieldRemoved",field:s}).trigger({type:"nested:fieldRemoved:"+n,field:s}),!1}},window.nestedFormEvents=new NestedFormEvents,t(document).delegate("form a.add_nested_fields","click",nestedFormEvents.addFields).delegate("form a.remove_nested_fields","click",nestedFormEvents.removeFields)}(jQuery),function(t){t.fn.closestChild=function(e){if(e&&""!=e){var i=[];for(i.push(this);i.length>0;)for(var n=i.shift(),r=n.children(),s=0;s<r.length;++s){var o=t(r[s]);if(o.is(e))return o;i.push(o)}}return t()}}(jQuery),function(){}.call(this),function(t,e){t.toastr=function(){var t={tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,fadeIn:300,fadeOut:1e3,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message"},i=function(t,e){return o({iconClass:r().iconClasses.error,message:t,title:e})},n=function(t){var i=e("#"+t.containerId);return i.length?i:(i=e("<div/>").attr("id",t.containerId).addClass(t.positionClass),i.appendTo(e("body")),i)},r=s=function(t,e){return o({iconClass:r().iconClasses.info,message:t,title:e})},o=function(t){var i=r(),s=t.iconClass||i.iconClass,o=null,a=n(i),l=e("<div/>"),u=e("<div/>"),c=e("<div/>"),d={options:i,map:t};t.iconClass&&l.addClass(i.toastClass).addClass(s),t.title&&(u.append(t.title).addClass(i.titleClass),l.append(u)),t.message&&(c.append(t.message).addClass(i.messageClass),l.append(c));var h=function(){if(!(e(":focus",l).length>0)){var t=e.when(t()).done(function(){l.is(":visible")||(l.remove(),0===a.children().length&&a.remove())})}},p=function(){(i.timeOut>0||i.extendedTimeOut>0)&&(o=setTimeout(h,i.extendedTimeOut))},f=function(){clearTimeout(o),l.stop(!0,!0).fadeIn(i.fadeIn)};return l.hide(),a.prepend(l),l.fadeIn(i.fadeIn),i.timeOut>0&&(o=setTimeout(h,i.timeOut)),l.hover(f,p),i.tapToDismiss&&l.click(h),i.debug&&console.log(d),l},a=function(t,e){return o({iconClass:r().iconClasses.success,message:t,title:e})},l=function(t,e){return o({iconClass:r().iconClasses.warning,message:t,title:e})};return{error:i,info:s,options:{},success:a,warning:l}}()}(window,jQuery),$(function(){$(".auto-redirect").on("change",,$(".auto-submit").on("change",function(){return $(".search_form").submit(),!1})}),function(t){t(document).ready(function(){(t(".products-event").length||t(".commissions-event").length)&&location.search&&t("#result")[0].scrollIntoView(!0)})}(jQuery),$(function(){"use strict";var t=$("#sticky-block");if(t.length){var e=t.outerHeight(),i=$('<div id="height-adjuster"></div>').insertAfter(t),n=!1,r=t.offset().top+e;$(document).scroll(function(){var s=$(this).scrollTop();n?r>=s&&(t.removeClass("is-sticky"),i.height(0),n=!1):s>r&&(t.addClass("is-sticky"),i.height(e),n=!0)})}$("#q_post_s").change(function(){return $("#post_search").submit(),!1}),$("#q_product_s").change(}),function(t){t(function(){"use strict";function e(t){var i=new Date,n=i.getFullYear(),r=i.getMonth()+1,s=i.getDate(),o=i.getHours(),a=i.getMinutes(),l=i.getSeconds();r=10>r?"0"+r:r,s=10>s?"0"+s:s,o=10>o?"0"+o:o,a=10>a?"0"+a:a,l=10>l?"0"+l:l;var u="\u73fe\u5728\u6642\u523b: "+n+"."+r+"."+s+" "+o+":"+a+":"+l;t.html(u),setTimeout(1e3)}t(".js-flip").flip(),t(".js-flip-trigger").on("click",,e(t(".js-clock"));var i=t(".modal-fancard");"front"==i.data("card-open")&&i.modal("show"),"back"==i.data("card-open")&&(i.on("shown.bs.modal",function(){i.find(".js-stamped").delay(1500).queue(}),i.modal("show"),i.find(".js-flip").flip("toggle"))})}(jQuery),$(function(){"use strict";var t=$("#support-point-goal-modal"),e=$("#support-point-goal-index"),i=$("#support-point-goal-index-max");t.length&&e.length&&i.length&&$("#support-point-goal-1").length&&($("#support-point-goal-1").show(),$("#support-point-goal-prev").click(function(){var t=Number(e.text());1>=t||(e.text((t-1).toString()),$(".support-point-goal-content").hide(),$("#support-point-goal-"+e.text()).show())}),$("#support-point-goal-next").click(function(){var t=Number(e.text());t>=Number(i.text())||(e.text((t+1).toString()),$(".support-point-goal-content").hide(),$("#support-point-goal-"+e.text()).show())}))}),$(function(){"use strict";var t=window.navigator.userAgent;if(-1===t.indexOf("Googlebot")&&-1===t.indexOf("bingbot")&&0===$("body.loggedin").length){for(var e=location.pathname,i=!1,n=[/^\/$/,/^\/sessions\/signin[/]?$/,/^\/account\/signup[/]?$/,/^\/fanclubs\/[0-9]+[/]?$/,/^\/fanclubs\/[0-9]+\/plans[/]?$/,/^\/fanclubs\/[0-9]+\/posts[/]?$/,/^\/posts\/[0-9]+[/]?$/,/^\/fanclubs\/[0-9]+\/products[/]?$/,/^\/products\/[0-9]+[/]?$/],r=0;r<n.length;r++){var s=n[r];if(e.match(s)){i=!0;break}}if(i&&$("#modal-language-select").length&&!window.cookieLocale){for(var o=document.cookie.split(";"),r=0;r<o.length;r++)if(o[r].trim().match(/^languageModalShowed=/))return;var a=window.navigator.language;("en"===a||"zh"===a||a.match(/en-[a-zA-Z]+/)||a.match(/zh-[a-zA-Z]+/))&&($("#modal-language-select").modal("show"),document.cookie="languageModalShowed=true")}}}),function(){var t=!1;jQuery(document).ready(function(e){window.csrfToken=document.getElementsByName("csrf-token")[0].content,window.joinFanclubs={result:!1,fanclub_ids:[]},window.getJoinedFanclubs=function(){t||(t=!0,e.ajax({url:"/api/v1/me/fanclubs",cache:!1}).then(function(t){window.joinFanclubs=t},)}})}(),function(t){t(function(){function e(){768>a&&r()}function i(){s.on("click",,o.resize(function(){a=o.width(),768>a?u||r():u&&n()})}function n(){s.hide(),l.show(),u=!1}ar s=t("#js-ranking-collapse-toggle");if(s.length){var o=t(window),a=o.width(),l=t(s.attr("href")),u=!1;
e(),i()}})}(jQuery),function(t){t(function(){var e=t(".js-primary-bnrs-container");e.length&&e.each(function(){function e(){var e=t("body").data("user-type");t.ajax({url:getSpotlightBannerUrl(),type:"GET",dataType:"json",data:{type:"primary",brand:t("body").data("brand"),locale:t("body").data("locale")||"ja"},timeout:1e4,cache:!1}).done(function(n){if(n.bnrs&&n.bnrs[e]){n.bnrs[e].forEach(function(t){var e="";e+='<a href="'+t.url+'" title="'+t.title+'">',e+='<img class="img-fluid lazyload" width="600" height="200" data-src="'+t.image.lg+'" src="/images/fallback/common/loading-lg.jpg" alt="'+t.title+'" />',e+="</a>",i.slick("slickAdd",e)});var r=t(".geniee-rotation-banner");r&&(i.slick("slickAdd",r),r.removeClass("hidden"))}}).fail(function(){})}var i=t(this);i.on("init",,i.slick({autoplay:!0,autoplaySpeed:7e3,dots:!0,arrows:!0,infinite:!0,slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:1299,settings:{arrows:!0,slidesToShow:3,slidesToScroll:3}},{breakpoint:991,settings:{arrows:!0,slidesToShow:2,slidesToScroll:2}},{breakpoint:767,settings:{arrows:!1,slidesToShow:1,slidesToScroll:1}},{breakpoint:480,settings:{arrows:!1,slidesToShow:1,slidesToScroll:1}}]})})})}(jQuery),function(t){"use strict";t(function(){var e=t(".js-index-top-primary-bnrs-container");e.length&&e.each(function(){function e(){t.ajax({url:getSpotlightBannerUrl(),type:"GET",dataType:"json",data:{type:"primary",brand:"teen",locale:t("body").data("locale")||"ja"},timeout:1e4,cache:!1}).done(function(t){if(t.bnrs&&t.bnrs[r]){var e=1;t.bnrs[r].forEach(function(t){if(3>=e){var i=n.eq(e-1);i.find(".js-bnr-href").attr("href",t.url),i.find(".js-bnr-src").attr("src",t.image.md),i.find(".js-bnr-text").text(t.title),e++}})}}).fail(function(){i.find(".alert-fail").show()})}var i=t(this),n=i.children(),r="visitor";e()})}),t(function(){var e=t(".js-index-top-news-container");e.length&&e.each(function(){function e(){t.ajax({url:r,type:"GET",dataType:"json",data:{},timeout:1e4,cache:!1}).done(function(e){e.news.visitor&&e.news.visitor.forEach(function(e){var n="";n+="<li>",n+='<p class="post-date text-muted">'+e.date+"</p>",n+='<h4 class="post-title"><a target="_blank" href="'+e.url+'" title="'+e.title+'">'+e.title+"</a></h4>",n+="</li>",t(n).appendTo(i)})}).fail(function(){i.find(".alert-fail").show()})}var i=t(this),n=t("body").data("spotlight_url")||"https://spotlight.fantia.jp",r=n+"/wp-json/api/v1/news",s=t("body").data("locale")||"ja";s&&(r+="?locale="+s),console.log(r),e()})}),t(function(){var e=t(".js-index-top-faqs-container");e.length&&e.each(function(){function e(){t.ajax({url:n,type:"GET",dataType:"json",data:{},timeout:1e4,cache:!1}).done(function(e){e.faqs&&e.faqs.forEach(function(e){var n="";n+="<li>",n+='<h4 class="faq-question">Q.'+e.question+"</h4>",n+='<p class="faq-answer">'+e.answer+"</p>",e.url&&(n+='<p class="faq-link"><a target="_blank" href="'+e.url+'" title="'+e.question+'">\u3082\u3063\u3068\u304f\u308f\u3057\u304f<i class="fa fa-caret-right ml-5"></i></a></p>'),n+="</li>",t(n).appendTo(i)})}).fail(}var i=t(this),n="https://spotlight.fantia.jp/wp-json/api/v1/faqs";e()})})}(jQuery),function(){jQuery(document).ready(function(t){function e(){const t=document.querySelector("#veritrans-card_number").value,e=document.querySelector("#veritrans-cardholder_name").value,i=document.querySelector("#veritrans-card_exp_month").value,n=document.querySelector("#veritrans-card_exp_year").value,r=document.querySelector("#veritrans-card_cvv").value;return{token_api_key:l,card_number:t,cardholder_name:e,card_expire:i+"/"+n.substr(2,2),security_code:r,lang:"ja"}}function i(t){alert(t.message),document.querySelector('#payment-method-submit-form button[type="button"]').disabled=!1}function n(t){document.querySelector('#payment-method-submit-form input[name="token"]').value=t,o(e(),r)}function r(t){document.querySelector('#payment-method-submit-form input[name="mpi_token"]').value=t,set_recaptcha_response("payment-method-submit-form"),s()}function s(){const t=document.querySelector('#payment-method-submit-form input[name="token"]').value,e=document.querySelector('#payment-method-submit-form input[name="mpi_token"]').value;void 0===t&&t.length>0&&void 0!==e&&e.length>0&&document.getElementById("payment-method-submit-form").submit()}function o(e,i){const n=new XMLHttpRequest;n.open("POST",u,!0),n.setRequestHeader("Accept","application/json"),n.setRequestHeader("Content-Type","application/json; charset=utf-8"),n.addEventListener("loadend",function(){if(0===n.status)return void alert("\u30c8\u30fc\u30af\u30f3\u30b5\u30fc\u30d0\u30fc\u3068\u306e\u63a5\u7d9a\u306b\u5931\u6557\u3057\u307e\u3057\u305f");const e=JSON.parse(n.response);200===n.status?i(e.token):(t("#alerts").append('<div class="alert alert-danger"><div class="container">\u3053\u306e\u30ab\u30fc\u30c9\u306f\u3054\u5229\u7528\u306b\u306a\u308c\u307e\u305b\u3093\u3002\u30ab\u30fc\u30c9\u4f1a\u793e\u306b\u304a\u554f\u3044\u5408\u308f\u305b\u3044\u305f\u3060\u304f\u304b\u3001\u5225\u306e\u30af\u30ec\u30b8\u30c3\u30c8\u30ab\u30fc\u30c9\u3092\u3054\u5229\u7528\u304f\u3060\u3055\u3044\u3002<button class="close" data-dismiss="alert" data-label="Close" type="button"><span aria-hidden="true" class="deletebtn">\xd7</span></button></div></div>'),t("body, html").scrollTop(0))}),n.send(JSON.stringify(e))}var a=t("#veritrans-register-form");if(0!==a.length){document.getElementById("payment-method-submit-button").disabled=!1;var l=a.data("token_api_key"),u=a.data("token_api_url");document.getElementById("payment-method-submit-button").addEventListener("click",function(){const r=document.querySelector("#veritrans-card_number").value,s=document.querySelector("#veritrans-cardholder_name").value,a=document.querySelector("#veritrans-card_exp_month").value,l=document.querySelector("#veritrans-card_exp_year").value,u=document.querySelector("#veritrans-card_cvv").value;var c={};0===r.length?c.message="\u30ab\u30fc\u30c9\u756a\u53f7\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093":r.length<14||16<r.length?c.message="\u30ab\u30fc\u30c9\u756a\u53f7\u306e\u6587\u5b57\u6570\u304c\u4e0d\u6b63\u3067\u3059":isNaN(r)?c.message="\u30ab\u30fc\u30c9\u756a\u53f7\u306b\u4e0d\u6b63\u306a\u6587\u5b57\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u307e\u3059":0===s.length?c.message="\u30ab\u30fc\u30c9\u4fdd\u6709\u8005\u540d\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093":s.length<2||26<s.length?c.message="\u30ab\u30fc\u30c9\u4fdd\u6709\u8005\u540d\u306e\u6587\u5b57\u6570\u304c\u4e0d\u6b63\u3067\u3059":0!==s.search(/^[A-Z ]+$/)?c.message="\u30ab\u30fc\u30c9\u4fdd\u6709\u8005\u540d\u306f\u534a\u89d2\u5927\u6587\u5b57\u306e\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002":""===a||isNaN(a)?c.message="\u6709\u52b9\u671f\u9650\u6708\u304c\u672a\u9078\u629e\u3067\u3059":""===l||isNaN(l)?c.message="\u6709\u52b9\u671f\u9650\u5e74\u304c\u672a\u9078\u629e\u3067\u3059":0===u.length?c.message="\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b3\u30fc\u30c9\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093":isNaN(u)?c.message="\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b3\u30fc\u30c9\u306b\u4e0d\u6b63\u306a\u6587\u5b57\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u307e\u3059":(u.length<3||4<u.length)&&(c.message="\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b3\u30fc\u30c9\u306e\u6587\u5b57\u6570\u304c\u4e0d\u6b63\u3067\u3059"),void 0===c.message?"undefined"==typeof window.aerosmith?o(e(),n):window.aerosmith.checkScore(function(t){"LRT"!==t&&"BIAT"!==t||o(e(),n)},function(t){"failed"===t&&(window.location.href="/")}):(i(c),t("body, html").scrollTop(0))})}})}(),function(t){t(document).ready(function(){t(document).on("change","select#selectCategory",function(){var e=t("#current-tab").val();return"creator"!=e&&"fan"!=e?!1:void(location.href="/mypage/notifications/"+e+"/"+t(this).val())}),t('input:checkbox[name="notification-filter"]').on("change",function(){var e=t(this).attr("id"),i=!0,n=null;t('input:hidden[name="set_kind"]').val(),i=t(this).prop("checked")===!0,n="notification"===t('input:hidden[name="set_kind"]').val()?"is_notify":"is_mail",t.ajax({url:"/api/v1/me/notifications/save_filter",method:"post",data:{kind:e,flag:i,set_kind:n},headers:{"X-Requested-With":"XMLHttpRequest"}}).done(function(){toastr.info("\u5909\u66f4\u3057\u307e\u3057\u305f\u3002")}).fail(function(){toastr.error("\u5909\u66f4\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")})})})}(jQuery),function(t){t(document).ready(function(){t(".panel.panel-default.subscription_payment_use_coin").length&&t('input:checkbox[name="payment-method-filter"]').on("change",function(){var e=t(this).attr("id"),i=!0;i=t(this).prop("checked"),t.ajax({url:"/api/v1/me/payment_method/save_filter",method:"post",data:{kind:e,flag:i},headers:{"X-Requested-With":"XMLHttpRequest"}}).done(function(){toastr.info("\u5909\u66f4\u3057\u307e\u3057\u305f\u3002")}).fail(function(){toastr.error("\u5909\u66f4\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")})})})}(jQuery),function(){jQuery(document).ready(function(t){t(".btn-star[data-post_id]").bind("click",function(e){var i,n=t(e.currentTarget),r=n.data("post_id");i=n.hasClass("starred")?"delete":"put",t.ajax({url:"/posts/"+r+"/like",method:i}).done(function(t){var e=t.post.likes_count,i=t.post.liked,r=n.parents(".post-stars").find(".counter");r.text(e);var s=n.filter(".js-star_post_show").find(".btn-star-text");i?(n.addClass("starred"),s.length>0&&s.text("\u304a\u6c17\u306b\u5165\u308a\u306b\u8ffd\u52a0\u6e08\u307f")):(n.removeClass("starred"),s.length>0&&s.text("\u304a\u6c17\u306b\u5165\u308a\u306b\u8ffd\u52a0")),e>0?r.removeClass("hidden"):r.addClass("hidden")})})})}(),function(){jQuery(document).ready(function(t){t(".btn-star[data-product_id]").bind("click",function(e){var i,n=t(e.currentTarget),r=n.data("product_id");i=n.hasClass("starred")?"delete":"put",t.ajax({url:"/products/"+r+"/like",method:i}).done(function(e){var i=e.product.likes_count,r=e.product.liked,s=n.parents(".product-stars").find(".counter");s.text(i);var o=n.hasClass("js-star_product_show");if(o){var a=t(".btn-star[data-product_id]").filter(".js-star_product_show").find(".star_text"),l=t(".btn-star[data-product_id]").filter(".js-star_product_show");r?(l.addClass("starred"),a.text("\u304a\u6c17\u306b\u5165\u308a\u306b\u8ffd\u52a0\u6e08\u307f")):(l.removeClass("starred"),a.text("\u304a\u6c17\u306b\u5165\u308a\u306b\u8ffd\u52a0"))}else r?n.addClass("starred"):n.removeClass("starred");r?n.addClass("starred"):n.removeClass("starred"),i>0?s.removeClass("hidden"):s.addClass("hidden")})})})}(),function(){function t(t){if($("#btn-purchase-csv").attr("href")){var i=new URL(e.origin+$("#btn-purchase-csv").attr("href"));$("#"+t).val()?i.searchParams.get(t)?i.searchParams.set(t,$("#"+t).val()):i.searchParams.append(t,$("#"+t).val()):i.searchParams["delete"](t),$("#btn-purchase-csv").attr("href",i.pathname+i.search)}}var e=new URL(window.location.href);t("payed_at_from"),t("payed_at_to"),$("#payed_at_from").blur(function(){t("payed_at_from")}),$("#payed_at_to").blur(}(),function(){jQuery(document).ready(function(t){t(".fanclub_users_filter select").bind("change",function(e){t(e.currentTarget).parents("form").submit()}),t('.fanclub_users_filter input[name="extra_pay"]').bind("change",})}(),$(function(){function t(){n.toggle(i>e)}if(0!==$(".identifications-edit.loggedin").length||0!==$(".identifications-update.loggedin").length){var e=$("[id^=identification_]").length,i=20,n=$("a.add_nested_fields");$(document).ready(function(){0!==$(".birthday-datepicker").length&&($.datetimepicker.setLocale("ja"),$(".birthday-datepicker").datetimepicker({format:"Y-m-d",timepicker:!1,step:10}))}),$(document).on("nested:fieldAdded",function(){e+=1,t(),$.datetimepicker.setLocale("ja"),$(".birthday-datepicker").datetimepicker({format:"Y-m-d",timepicker:!1,step:10})}),$(document).on("nested:fieldRemoved",,t()}}),function(){jQuery(document).ready(function(t){t(".alert-rating span[aria-hidden=true]").bind("click",function(){t.ajax({url:"/mypage/users/rating_alert",method:"delete"})}),t(".alert-two_factor span[aria-hidden=true]").bind("click",,t(".fanclub-suggestion .hide-link").bind("click",function(e){t(e.currentTarget).parents(".fanclub-suggestion").hide(),t.ajax({url:"/mypage/users/fanclub_suggestion",method:"delete"})})})}(),$(function(){function t(t){t.slick("getSlick").slideCount<=t.slick("getSlick").options.slidesToShow?t.addClass("slick-no-slide"):t.removeClass("slick-no-slide")}function e(){var t=$(b),e=t.val();if(""==e)$(".product-fields").addClass("hidden");else{$(".product-fields").removeClass("hidden");var i=t.find('option[value="'+e+'"]').text();i.length>0&&$(".product-type-desc").text(i)}$(".show-if-real-product").hide(),$(".hide-if-real-product").hide(),$(".show-if-anonymity").hide(),$(".hide-if-anonymity").hide(),$(".show-if-anonymity-no-shipping-address").hide(),$(".show-if-craft").hide(),$(".show-if-fulfillment_product").hide(),$(".js-is_public").length>0&&$(".js-is_public").removeClass("hidden"),$(".js-position-cover").addClass("hidden"),"download"==e?($(".hide-if-real-product").show(),$(".hide-if-anonymity").show(),$(".hide-if-not-craft-designed").show(),$(".js-position-cover").each(function(t,e){var i=$(e),n=i.closest(".file-upload").find(".support-viewable");n.find("input[type=checkbox]").prop("checked")&&i.removeClass("hidden")})):"transfer_by_self"==e?($(".show-if-real-product").show(),$(".hide-if-anonymity").show(),$(".hide-if-not-craft-designed").show()):"anonymity"==e?(s(),"true"==$("#is_anonymity_shipping_address").val()?($(".show-if-real-product").show(),$(".show-if-anonymity").show()):($(".product-fields").addClass("hidden"),$(".show-if-anonymity-no-shipping-address").removeClass("hidden"),$(".show-if-anonymity-no-shipping-address").show()),$(".hide-if-not-craft-designed").show()):"craft"==e?(a(),o()):"fulfillment_product"==e&&($(".show-if-real-product").show(),$(".show-if-fulfillment_product").show(),$(".hide-if-anonymity").show(),$(".hide-if-not-craft-designed").show(),$(".hide-if-fulfillment_product").hide(),$(".input-stock").hide(),$(".js-is_public").length>0&&"false"==$(".fulfillment_reservable").val()&&($(".js-is_public").addClass("hidden"),$('select[name="product[is_public]"]').val("false")),"true"==$(".fulfillment_reservable").val()?($(".fulfillment_reserve_menu").removeClass("hidden"),$('select[name="product[product_fulfillment_attributes][publish_after_arrival]"]').val("false"),$('select[name="product[product_fulfillment_attributes][publish_after_arrival]"]').prop("disabled",!0),$(".js-is_public").removeClass("hidden")):($(".fulfillment_reserve_menu").addClass("hidden"),$(".fulfillment_packaging").removeClass("hidden"),$(".fulfillment_publish_after_arrival").removeClass("hidden"),$(".js-is_public").addClass("hidden")),$(".sell_price_description_01_01").hide())}function i(){var t=$(b).val();$(".js-is_public").removeClass("hidden"),"transfer_by_self"==t?($('select[name="product[self_delivery_type]"]').val(t),$('select[name="product[self_delivery_type]"]').removeClass("hidden"),$('input[name="product[delivery_type]"]').val(["self_delivery"])):"fulfillment_product"==t?($('select[name="product[warehouse_delivery_type]"]').val(t),$('select[name="product[warehouse_delivery_type]"]').removeClass("hidden"),$('input[name="product[delivery_type]"]').val(["warehouse_delivery"]),$(".js-is_public").length>0&&"false"==$(".fulfillment_reservable").val()&&$('select[name="product[is_public  ]"]').val(!1)):null!=$('input[name="product[delivery_type]"]').val()&&$('input[name="product[delivery_type]"]').val([t])}function n(){var t=$("#product_anonymity_product_ship_info_attributes_invoice_category").val();"delivery"===t?$("#product_anonymity_product_ship_info_attributes_ship_size").prop("disabled",!1):(r(),$("#product_anonymity_product_ship_info_attributes_ship_size").prop("disabled",!0))}unction s(){"delivery"===$("#product_anonymity_product_ship_info_attributes_invoice_category").val()?$(".ship_size_form").show():$(".ship_size_form").hide()}function o(){var t=$("#goods").val(),e="/mypage/fanclubs/products/goods_create";$("#btn-goods-create").attr("href",e+"?goods_id="+t)}function a(){if("true"===$("#is_designed").val()){$(".show-if-craft").hide(),$(".product-fields").removeClass("hidden"),$(".hide-if-not-craft-designed").show();var t=parseInt($("#sale_price").val()),e=parseInt($("#product_circle_cost").val()),i=$("#product_price").val()||e+t;$("#sale_price").val(t),$("#product_price").val(i)}else $(".show-if-craft").removeClass("hidden"),$(".show-if-craft").show(),$(".product-fields").addClass("hidden"),$(".hide-if-not-craft-designed").hide()}if(document.URL.match("/products/")){var l=$(".product-gallery"),u=$(".product-gallery-nav");if(l.length){if(u.length&&l.children().clone(!0).appendTo(".product-gallery-nav"),$("#video-view-product-sample").length){var c=videojs("video-view-product-sample",{fluid:!0});l.on("beforeChange",function(){c.pause()})}l.slick({slidesToShow:1,slidesToScroll:1,asNavFor:".product-gallery-nav"}),u.length&&(u.slick({slidesToShow:7,slidesToScroll:1,dots:!1,centerMode:!0,centerPadding:30,focusOnSelect:!0,asNavFor:".product-gallery",responsive:[{breakpoint:1199,settings:{slidesToShow:5,slidesToScroll:1}},{breakpoint:991,settings:{slidesToShow:7,slidesToScroll:1}},{breakpoint:767,settings:{slidesToShow:5,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:3,slidesToScroll:1}}]}),t(u),$(window).on("orientationchange resize",function(){t(u)}))}}if(document.URL.match("mypage/fanclubs/products")){var d=new Date;d.setMonth(d.getMonth()-1);for(var h=0,p=localStorage.length;p>h;++h){var f=localStorage.key(h);if(localStorage.hasOwnProperty(f)&&/^product-form-/.test(f))try{var m=JSON.parse(localStorage.getItem(f));new Date(m.editDate)<d&&localStorage.removeItem(f)}catch(g){localStorage.removeItem(f)}}if("undefined"!=typeof storageKey){var v=localStorage.getItem(storageKey),y=$("form.product_form")[0];v&&("false"==isCraft||"true"==isCraft&&y.classList.contains("edit_product"))&&window.confirm("\u524d\u56de\u306e\u5165\u529b\u5185\u5bb9\u3092\u5fa9\u5143\u3057\u307e\u3059\u304b\uff1f")&&form_restore($("form.product_form")[0],v),localStorage.removeItem(storageKey)}var _=$('input[id="product_price"]');_.length&&_.change(function(){"0"===$(this).val()?($(".product_contents_field > div.fields:not(:first)").hide(),$(".multi_contents_help").hide()):($(".product_contents_field > div.fields:not(:first)").show(),$(".multi_contents_help").show())})}var b="#product_product_type";$(document).on("change","#product_anonymity_product_ship_info_attributes_invoice_category",function(){s()}),$(document).on("change","#goods",function(){o()}),$(document).on("change",".fulfillment_reservable",function(){"true"==$(this).val()?($(".js-is_public").removeClass("hidden"),$(".fulfillment_reserve_menu").removeClass("hidden"),$('select[name="product[is_public]"]').val("true"),$('select[name="product[product_fulfillment_attributes][publish_after_arrival]"]').val("false"),$('select[name="product[product_fulfillment_attributes][publish_after_arrival]"]').prop("disabled",!0)):($(".fulfillment_reserve_menu").addClass("hidden"),$(".js-is_public").addClass("hidden"),$('select[name="product[product_fulfillment_attributes][publish_after_arrival]"]').val("true"),$('select[name="product[product_fulfillment_attributes][publish_after_arrival]"]').prop("disabled",!1))}),$(document).on("change",'input[name="product[delivery_type]"]',function(){var t=$('input[name="product[delivery_type]"]:checked').val();$('select[name="product[self_delivery_type]"]').addClass("hidden"),$('select[name="product[warehouse_delivery_type]"]').addClass("hidden"),$('select[name="product[self_delivery_type]"]').val(null),$('select[name="product[warehouse_delivery_type]"]').val(null),$(".fulfillment_reservable").val("false"),$(".fulfillment_reservable").trigger("change"),"self_delivery"==t?($('select[name="product[self_delivery_type]"]').removeClass("hidden"),$(".hide-if-not-craft-designed").show(),$(b).val(null)):"warehouse_delivery"==t?($('select[name="product[warehouse_delivery_type]"]').removeClass("hidden"),$(b).val(null)):$(b).val(t),$(b).change()}),$(document).on("change",'select[name="product[self_delivery_type]"]',function(){var t=$('select[name="product[self_delivery_type]"]').val();$(b).val(t),$(b).change()}),$(document).on("change",'select[name="product[warehouse_delivery_type]"]',function(){var t=$('select[name="product[warehouse_delivery_type]"]').val();$(b).val(t),$(b).change()}),i(),$(document).on("change",b,function(){$.ajax({type:"POST",url:"/mypage/fanclubs/products/set_product_type",dataType:"json",contentType:"application/json",data:JSON.stringify({product_type:$(b).val()}),error:function(t){console.error(t)}}),e()}),jQuery(window).on("load",function(){$(b).length>0&&e(),$(".video-js-streaming-product").each(function(t,e){videojs(e.id,{fluid:!0})}),$(".streaming-modal").each(function(t,e){$("#"+e.id).on("hide.bs.modal",function(){$("#"+e.id+" .video-js").each(function(){videojs(this.id).ready(function(){this.pause()})})})}),n()}),$(".edit_product, .new_product").bind("submit",function(t){var e=t.target,i=$(e).find("input[type=submit]");if("fulfillment_product"==$(b).val()&&"true"==$(".fulfillment_reservable").val()){var n=$('.fulfillment_reserve_stock > input[name="product[stock]"]').val();$('select[name="product[stock]"]').val(n)}return present_non_uploaded_file(this)?(i.attr("disabled",!0),upload_to_s3_all_files(e,function(t){t?(localStorage.removeItem(storageKey),$(e).submit()):(i.attr("disabled",!1),$(e).find("input[type=submit]").removeAttr("disabled"),$(e).find(".progress").addClass("hide"),alert("\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306b\u5931\u6557\u3057\u307e\u3057\u305f"))}),$(e).find(".progress").addClass("hide"),t.preventDefault(),!1):($(this).find("input[data-async_file]").each(function(){this.parentNode.innerHTML=this.parentNode.innerHTML}),localStorage.removeItem(storageKey),!0)}),$(document).on("click",".fake-button",function(){var t,e=$(this);e.hasClass("confirm-before-click")&&(t=e.attr("data-confirm-message"))&&!confirm(t)||e.parent().find(e.attr("data-fake-of")).trigger("click")}),$(document).on("change",".preview-filename",function(){var t=$(this),e=t.parent().parent().find(t.attr("data-preview-filename-to"));if(this.files[0]){e.removeClass("text-danger"),e.removeClass("hidden"),e.text(this.files[0].name),e.parent().first().append('<button class="btn btn-danger btn-sm ml-10 file-remove" type="button"> <i class="fa fa-fw fa-trash"></i> \u524a\u9664 </button>');var i=e.parent().find(".fa-check");i.length>0&&i.remove(),t.parent().addClass("hidden")}else{var n=t.attr("data-existing-filename");e.text(n||"\u30d5\u30a1\u30a4\u30eb\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002")}var r=t.parent().parent().find("[delete_flag]");r.length>0&&(r[0].firstChild.value=!1)});var T=function(t){if(t[0]){t.find(".file-remove").remove();var e=t.find("input").attr("data-preview-filename-to");t.find(e).addClass("hidden"),t.find(".dropzone").removeClass("hidden"),t.find("input")[0].value="",t.find(".tmp_path")[0].value="",t.find(".tmp_name")[0].value=""}};$(document).on("click",".file-remove",function(){var t=$(this),e=t.closest(".file-upload"),i=e.find("input.preview-filename");if(i[0]){var n=t.attr("data-existing-filename"),r=e.find(i.attr("data-preview-filename-to"));i[0].value="",i.parent().removeClass("hidden"),r.text(n||"\u30d5\u30a1\u30a4\u30eb\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002");var s=r.parent().find(".fa-check");if(e.find(".support-viewable").addClass("hidden"),e.find(".js-position-cover").addClass("hidden"),e.find(".js-viewer-status").remove(),t.attr("delete_flag_name")){var o=t.parent().parent().find("[delete_flag="+t.attr("delete_flag_name")+"]");o[0].firstChild.value="1"}t.parent().parent().find("input.tmp_path")[0].value="",t.parent().parent().find("input.tmp_name")[0].value="",s.length>0&&s.remove(),t.remove()}}),$(document).on("change","input.sample_file[data-async_file]",function(){var t=40;$(this).siblings(".tmp_path").val("");var e=document.querySelector(".alert-no-file-wrapper.product-sample"),i=["mp4","mpeg","mpg","mov"],n=$(this).prop("files")[0];if(n){var r=n.name.split("."),s=r[r.length-1];if(s&&(s=s.toLowerCase()),n.size>1024*t*1024){var o=t+"MB\u4ee5\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002";alert(o),e.innerHTML='<p class="alert alert-danger mb-0 mt-10">'+o+"</p>",$(this).siblings(".tmp_path").val("")}else if(i.indexOf(s)<0){var a="\u62e1\u5f35\u5b50"+i.join(",")+"\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002";alert(a),e.innerHTML='<p class="alert alert-danger mb-0 mt-10">'+a+"</p>";var l=$(this).parent().parent();T(l),$(this).siblings(".tmp_path").val("")}else e.innerHTML=""}}),$(document).on("change","input.product_file[data-async_file]",function(){$(this).siblings(".tmp_path").val("");var t=$(this).closest(".file-upload"),e=t.find(".alert-no-file-wrapper.product-content"),i=t.find(".support-viewable"),n=t.find(".js-position-cover"),r=["jpg","jpeg","gif","png","zip","rar","pdf","mp3","aac","m4a","ogg","mp4","mpeg","mpg","flv","psd","epub","pdf","mov","wav","txt"],s=["zip","pdf"];e.html(""),i.find("input[type=checkbox]").prop("checked",!1),i.addClass("hidden"),n.addClass("hidden");var o,a=$(this).prop("files")[0],l=a?a.name:$(this).attr("data-existing-filename");if(l){var u=l.split(".");if(o=u[u.length-1],o&&(o=o.toLowerCase()),a)if(a.size>4294967296)alert("4GB\u4ee5\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),e.html('<p class="alert alert-danger mb-0 mt-10">4GB\u4ee5\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>'),$(this).siblings(".tmp_path").val(""),o=void 0;else if(r.indexOf(o)<0){alert("\u62e1\u5f35\u5b50"+r.join(",")+"\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),e.html('<p class="alert alert-danger mb-0 mt-10">\u62e1\u5f35\u5b50'+r.join(",")+"\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>");var c=$(this).parent().parent();T(c),$(this).siblings(".tmp_path").val(""),o=void 0}o&&s.indexOf(o)>=0&&(a&&(i.removeClass("hidden"),i.find("input[type=checkbox]").prop("checked",!0)),n.removeClass("hidden"))}}),$(document).on("change","#product_anonymity_product_ship_info_attributes_invoice_category",function(){n()}),$(document).on("change","#product_price",function(){var t=$(b),e=t.val();if("craft"===e){var i=parseInt($("#product_circle_cost").val()),n=parseInt($("#product_price").val());$("#sale_price").val(n-i)}}),$(document).on("change","#sale_price",function(){var t=$(b),e=t.val();if("craft"===e){var i=parseInt($("#sale_price").val()),n=parseInt($("#product_circle_cost").val());$("#product_price").val(n+i)}});var w=$("[name='product[tag_list]']");if(w.tagit({singleField:!0,placeholderText:"\u30bf\u30b0\u3092\u8ffd\u52a0",autocomplete:{delay:500,minLength:2,response:function(t,e){e.content.length>5&&e.content.splice(5,e.content.length)}}}),$(document).on("keyup","input.ui-autocomplete-input",function(){var t=$("input.ui-autocomplete-input").val(),e=Number(document.getElementById("product_brand").innerText);void 0==t||t.toString().length<2||0!=e&&2!=e||$.ajax({url:"/api/v1/search/suggest_tags?",type:"GET",data:{keyword:t},dataType:"json"}).done(function(t){void 0!==t.suggestions&&t.suggestions.length>0&&w.tagit({availableTags:t.suggestions})})}),w.length&&""!==w.val()){var k=w.val();w.tagit("removeAll"),k.split(" ").forEach(function(t){w.tagit("createTag",t)})}$("form.product_form").on("change",function(){var t=$("form.product_form")[0];if("true"==isCraft&&t.classList.contains("new_product"))return void localStorage.removeItem(storageKey);var e=form_toJSON(t);localStorage.setItem(storageKey,e)})}),$(function(){$(".edit_commission_request").bind("submit",function(t){var e=t.target,i=$(e).find("input[type=submit]");return present_non_uploaded_file(this)?(i.attr("disabled",!0),upload_to_s3_all_files(e,function(t){t?$(e).submit():(i.attr("disabled",!1),$(e).find("input[type=submit]").removeAttr("disabled"),$(e).find(".progress").addClass("hide"),alert("\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306b\u5931\u6557\u3057\u307e\u3057\u305f"))}),$(e).find(".progress").addClass("hide"),t.preventDefault(),!1):($(this).find("input[data-async_file]").each(,!0)})}),function(t){t(document).ready(function(){t(document).on("change","select.product-auto-submit",function(e){t(e.target).parent("form").submit()}),t('input[name="main_address_id"]').on("change",function(){var e=t(this).val();t.ajax({type:"PUT",url:"/api/v1/me/shipping_addresses/"+e+"/set_main",error:)}),t(document).on("click","a.submit-payment-method",function(){return""==t("#veritrans-card_number").val()?!0:(t("#payment-method-submit-form button").click(),!1)})})}(jQuery),function(t){t(function(){function e(t){var e="unknown";return/^5[1-5]/.test(t)?e="mastercard":/^4/.test(t)?e="visa":/^3[47]/.test(t)&&(e="amex"),e}var i=t(".js-input-cc-number");if(i.length){var n="unknown",r=t(".js-cc-brand-logo");i.on("input",function(){n=e(t(this).val()),r.each(function(){var e=t(this);e.data("cc-brand")===n?e.fadeTo("fast",1):e.fadeTo("normal",.2)})})}})}(jQuery),function(t){t(document).ready(function(){function e(){var e=t('input:radio[name$="_payment_method[payment_term]"]:checked').val();if(e){var i=t("#payment_term_span_"+e).text();t("p.product_count").text(l+" \xd7 "+i);var n=r(s,e);t("p.total_price").html("<strong>"+u+n.toLocaleString()+c+"</strong>"),t("p.text-need-coin").html(d+n.toLocaleString()+h)}}function i(t){var e=t.replace(/[^0-9]/g,""),i=t.indexOf(Number(e).toLocaleString()),n=t.slice(0,i);return n}function n(t){var e=t.replace(/[^0-9]/g,""),i=t.indexOf(Number(e).toLocaleString()),n=i+Number(e).toLocaleString().length,r=t.slice(n,t.length);return r}function r(e,i){var n=t("#administration_fee_"+i).val(),r=e*i+Number(n);return r}if(0!==t(".payment_methods-new_cvs.loggedin").length||0!==t(".payment_methods-new_bank.loggedin").length){var s=t("#plan_price").val(),o=t(".total_price").text(),a=t("p.text-need-coin").text(),l=t("p.product_count").text(),u=i(o),c=n(o),d=i(a),h=n(a);e(),t('input:radio[name$="_payment_method[payment_term]"]').on("change",function(){e()})}})}(jQuery),$(function(){var t=e=i=function(t,i,n){$.ajax({method:"POST",url:i,dataType:"json",contentType:"application/json",data:JSON.stringify({message:{text:n}}),complete:function(){e(t),$("#message-close-"+t).trigger("click")},success:function(t){console.log(t),alert("\u30e1\u30c3\u30bb\u30fc\u30b8\u4e00\u6589\u9001\u4fe1\u3092\u53d7\u3051\u4ed8\u3051\u307e\u3057\u305f\u3002\u9001\u4fe1\u5b8c\u4e86\u306b\u306f\u6642\u9593\u304c\u304b\u304b\u308b\u5834\u5408\u304c\u3054\u3056\u3044\u307e\u3059\u3002")},error:)};$(".message-submit").on("click",function(){if($(this).hasClass("disabled"))return!1;t(this);var n=$(this).data("plan-id"),r=$("#message-text-"+n).val();if(0===r.length)return e(n),alert("\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),!1;var s="/api/v1/me/messages/plan_participants/"+n;return i(n,s,r),!1}),$(".message-submit-product").on("click",function(){if($(this).hasClass("disabled"))return!1;t(this);var n=$(this).data("product-id"),r=$("#message-text-"+n).val();if(0===r.length)return e(n),alert("\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),
!1;var s="/api/v1/me/messages/product_buyer/"+n;return i(n,s,r),!1})}),function(){var t=function(){var t="/api/v1/social_share/token",e="/api/v1/social_share/done";return{getToken:function(){var e=$.Deferred();return $.ajax({url:t,type:"GET",success:function(t){e.resolve(t.token)},error:function(t){e.reject(t)}}),e.promise()},earnPointAfterShared:function(t){var i=$.Deferred();return $.ajax({url:e,type:"POST",data:t,success:function(t){i.resolve(t)},error:function(t){i.reject(t)}}),i.promise()}}}();jQuery(document).ready(function(e){e(".btn-twitter[data-product_id]").bind("click",function(i){i.preventDefault();var n=e(i.currentTarget),r=n.data("product_id"),s=n.attr("href"),o=window.open(encodeURI(decodeURI(s)),"tweetwindow","width=550, height=450, personalbar=0, toolbar=0, scrollbars=1, resizable=1");t.getToken().then(function(e){console.log(e);var i=setInterval(function(){if(o.closed){clearInterval(i);var n={token:e,resource_type:"products",resource_id:r};t.earnPointAfterShared(n)}},200)})})})}(),function(){var t=function(){var t="/api/v1/support_point/comment";return{updateSupportComment:function(e){var i=new FormData;return i.append("id",e.id),i.append("support_comment",e.comment),i.append("remove_support_image",e.removeImage),e.image&&i.append("support_image",e.image),$.ajax({url:t+"/"+e.id,type:"PUT",processData:!1,contentType:!1,data:i})}}}();jQuery(document).ready(function(e){e("form.support_comment").bind("submit",function(i){i.preventDefault();var n=e(this),r=n.find(".result_message");t.updateSupportComment({id:n.find("#plan_account_id").val(),comment:n.find("textarea").val(),image:n.find('input[type~="file"]').get(0).files[0],removeImage:n.find('input[type="checkbox"]').get(0).checked}).then(function(t){var e=t.support_comment,i=t.support_image,r=n.closest(".support-comment-parent"),s=r.find(".panel-show-support-comment").removeClass("hidden");s.find(".support-comment").text(e);var o=s.find(".support-image");i&&i.main?(o.removeClass("hidden"),o.attr({src:i.main})):(o.addClass("hidden"),o.attr({src:""})),r.find(".panel-edit-support-comment").addClass("hidden")}).fail(function(){r.text("\u66f4\u65b0\u5931\u6557\u3057\u307e\u3057\u305f\uff01")}).always(function(){n.find('[type="submit"]').attr({disabled:!1}).val("\u5909\u66f4\u3092\u4fdd\u5b58"),r.removeClass("hide")})}),e('a[href~="#edit-support-comment"]').on("click",function(t){t.preventDefault();var i=e(this).closest(".support-comment-parent"),n=i.find(".panel-show-support-comment").addClass("hidden"),r=n.find(".support-comment").text(),s=i.find(".panel-edit-support-comment").removeClass("hidden");s.find("textarea").val(r),s.find(".result_message").text("")}),e('a[href~="#cancel-edit-support-comment"]').on("click",function(t){t.preventDefault();var i=e(this).closest(".support-comment-parent");i.find(".panel-show-support-comment").removeClass("hidden"),i.find(".panel-edit-support-comment").addClass("hidden")})})}(),$(document).ready(function(){$(".fanclub-preview").on("click",function(t){if(t.preventDefault(),!$("#fanclub_creator_name").val()||!$("#fanclub_category_id").val())return alert("\u672a\u5165\u529b\u306e\u9805\u76ee\u304c\u3042\u308a\u307e\u3059\u3002"),!1;var e=$(".new_fanclub, .edit_fanclub"),i=e.attr("action"),n=e.attr("method"),r=$('input[type="submit"].fanclub-edit-submit'),s=r.val();e.attr("action","/mypage/fanclubs/preview"),e.attr("method","POST"),e.attr("target","_blank"),e.submit(),e.attr("action",i),e.attr("method",n),e.attr("target",""),window.setTimeout(function(){r.prop("disabled",!1).val(s)},1e3)})}),$(document).ready(function(){$(".js-fanclub-category-alert").length&&(changeSelectedCategoryView(),$(".js-fanclub-category").change(function(){changeSelectedCategoryView()}))}),$(function(){var t=$("#select-backnumber-on"),e=$("#show-if-backnumber-on");t.length&&t.length&&("true"===t.val()?e.show():e.hide(),t.change(function(){var i=t.val();"true"===i?e.show():e.hide()}))}),function(t){t(document).ready(function(){t(".sms-factored-submit").on("click",function(){if(t(this).hasClass("disabled"))return!1;t(".sms-factored-submit").disabled=!0;var e=t("#sms-factored-form_sms-factored-input").val(),i=t('meta[name="csrf-token"]').attr("content");t.ajax({url:"/api/v1/me/sms_factored_users/turn_on",method:"post",data:{tel:e},headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-Token":i}}).done(function(){toastr.info("\u30b7\u30e7\u30fc\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3002");var e=t(".modal-sms-factor");e.modal("show")}).fail(,t(".sms-factored-submit").disabled=!1}),t(".sms-factored-resend-submit").on("click",function(){var e=t('meta[name="csrf-token"]').attr("content");t.ajax({url:"/api/v1/me/sms_factored_users/resend",method:"post",data:{},headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-Token":e}}).done(function(){toastr.info("\u30b7\u30e7\u30fc\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3002")}).fail(function(){toastr.error("\u30b7\u30e7\u30fc\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")})}),t(".sms-factored-auth-submit").on("click",function(){var e=t("#sms-factored-auth-input").val(),i=t('meta[name="csrf-token"]').attr("content");t.ajax({url:"/api/v1/me/sms_factored_users",method:"post",data:{code:e},headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-Token":i}}).done(function(){toastr.info("SMS\u8a8d\u8a3c\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002"),location.reload()}).fail(function(e){toastr.error("SMS\u8a8d\u8a3c\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002");var i=t(".modal-sms-factor");if(i.modal("hide"),400===e.status){var n=t(".modal-sms-factor-failed");n.modal("show")}else if(429===e.status){var r=t(".modal-sms-factor-locked");r.modal("show")}})}),t(".sms-factored-reauth-submit").on("click",function(){var e=t("#sms-factored-reauth-input").val(),i=t('meta[name="csrf-token"]').attr("content");t.ajax({url:"/api/v1/me/sms_factored_users",method:"post",data:{code:e},headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-Token":i}}).done(function(){toastr.info("SMS\u8a8d\u8a3c\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002"),location.reload()}).fail(function(e){if(toastr.error("SMS\u8a8d\u8a3c\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002"),400===e.status)t("#sms-factored-reauth-input").val("");else if(429===e.status){var i=t(".modal-sms-factor-failed");i.modal("hide");var n=t(".modal-sms-factor-locked");n.modal("show")}})}),t("#sms-factored-form_sms-factored-input").on("keyup",function(e){var i=t(".sms-factored-submit"),n=t("#tel_default_value").val();n!==e.target.value&&11===e.target.value.length?(i.removeClass("disabled"),i.removeAttr("disabled")):(i.addClass("disabled"),i.attr("disabled",!0))})})}(jQuery),function(){var t=function(t){return document.getElementById(t)},e=256,i=256,n=t("user_thumb_label"),r=t("user_thumb"),s=t("user_thumb_preview"),o=t("user_thumb_canvas"),a=t("upload_btn"),l=t("upload_cancel"),u=t("user_icon_update_loading"),c=null,d="";if(n&&r&&o&&a&&l){var h="\u753b\u50cf\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u6642\u9593\u3092\u304a\u3044\u3066\u3084\u308a\u76f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002";r.addEventListener("change",function(e){var i=e.target.files[0];d=i.type;var r=new FileReader;return d.indexOf("image")<0?(f("\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002"),!1):i.type.indexOf("image/gif")>=0?(f("GIF\u30d5\u30a1\u30a4\u30eb\u306f\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3067\u304d\u307e\u305b\u3093\u3002"),!1):i.name?(r.addEventListener("load",function(t){o.classList.value="active",o.innerHTML='<img src="'+t.target.result+'">';var e=o.children[0];c=new Cropper(e,{aspectRatio:1,minCropBoxWidth:100,minCropBoxHeight:100,preview:s})}),r.readAsDataURL(i),a.style.display="block",l.style.display="block",n.style.display="none",void(t("icon-error").innerHTML="")):(f("\u30d5\u30a1\u30a4\u30eb\u540d\u304c\u4e0d\u6b63\u3067\u3059\u3002\u6b63\u3057\u3044\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),!1)}),a.addEventListener("click",function(){a.innerText="\u9001\u4fe1\u4e2d...",a.classList.add("disabled"),a.setAttribute("disabled",!0),l.classList.add("disabled"),l.setAttribute("disabled",!0),u.classList.remove("hidden");var t=function(){a.innerText="\u4fdd\u5b58",a.classList.remove("disabled"),a.removeAttribute("disabled"),l.classList.remove("disabled"),l.removeAttribute("disabled"),u.classList.add("hidden")},n=c.getCroppedCanvas({width:e,height:i});return n?void(n.toBlob?n.toBlob(function(e){p(e,t)},d):(f(h),t())):(f("\u9078\u629e\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u30ad\u30e3\u30f3\u30bb\u30eb\u3092\u62bc\u3057\u3066\u518d\u5ea6\u3084\u308a\u76f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),void t())}),l.addEventListener("click",function(){location.reload()});var p=function(t,e){if(t.size>20971520)return f("\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3067\u304d\u308b\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u306f20MB\u307e\u3067\u3067\u3059\u3002"),e(),!1;var i=new FormData;i.append("file",t),jQuery.ajax({url:"/api/v1/me/users/upload_image",type:"POST",processData:!1,contentType:!1,enctype:"multipart/form-data",data:i,timeout:6e4,headers:{"X-Requested-With":"XMLHttpRequest"}}).done(function(){location.reload()}).fail(},f=function(e){t("icon-error").innerHTML?t("icon-error").innerHTML="<p class='alert-danger'>"+e+"</p>":t("icon-error").insertAdjacentHTML("afterbegin","<p class='alert-danger'>"+e+"</p>")}}}(),function(){function t(t){var e=$(t),i=e.val(),n=e.next();n&&n[0]&&"submit"!==n[0].type||e.on("keyup",function(t){i!==t.target.value?(n.removeClass("disabled"),n.removeAttr("disabled")):(n.addClass("disabled"),n.attr("disabled",!0))})}t("#user-nickname-form_user-nickname-input"),t("#user-email-form_user-email-input")}(),function(){function t(t){e.test(t)?$("#password_support_1").addClass("checked"):$("#password_support_1").removeClass("checked"),i.test(t)?$("#password_support_2").addClass("checked"):$("#password_support_2").removeClass("checked")}if(($("#user_password").length||$("#reset_password").length)&&($(".users-confirm").length||$(".password_reset-edit").length)){var e=/^.{10,72}$/i,i=/^(?=.*?[a-zA-Z])(?=.*?[\d!-\/:-@[-`{-~])[!-~\d]{1,72}$/i;$("input[name='user[password]']").keyup(function(){t($(this).val())}),$("input[name='reset[password]']").keyup(}}(),function(){if(null!==document.querySelector(".purchases-index.loggedin")){document.querySelectorAll(".open-purchase-row").forEach(function(t){var e=document.getElementById("purchase-history-rows-grid-layout"),i=document.getElementById(t.getAttribute("data-open-for"));t.addEventListener("click",function(){i.style.display="block",e.style.display="none",document.getElementById("grid-scroll-anchor").scrollIntoView({behavior:"smooth"})})}),document.querySelectorAll(".close-purchase-row").forEach(function(t){var e=document.getElementById("purchase-history-rows-grid-layout"),i=t.getAttribute("data-close-for"),n=document.getElementById(i);t.addEventListener("click",function(){n.style.display="none",e.style.display="block",document.querySelector("[data-open-for="+i+"]").scrollIntoView({behavior:"smooth"})})});var t=document.getElementById("btn-layout-change");null!==t&&t.addEventListener("click",function(){var t=document.getElementById("purchase_history_row_search"),e=document.querySelector(".rows-layout");e.value="grid"===e.value?"rows":"grid",t.submit()})}}(),$(function(){if((0!==$(".bank_accounts-edit.loggedin").length||0!==$(".bank_accounts-update.loggedin").length||0!==$(".bank_accounts-update_paypal.loggedin").length||0!==$(".bank_accounts-update_wise.loggedin").length||0!==$(".bank_accounts-update_foreign_bank.loggedin").length)&&0!==$(".is_foreign").length){var t=function(){$("#is_foreign_false").prop("checked")&&($(".foreign_transfer").addClass("hidden"),$(".transfer_in_japan").removeClass("hidden")),$("#is_foreign_false").prop("checked")||($(".foreign_transfer").removeClass("hidden"),$(".transfer_in_japan").addClass("hidden"))},e=function(){$("#is_foreign_true").prop("checked")?($("#transfer_method_1").prop("checked")&&($(".paypal_transfer").show(),$(".wise_transfer").hide(),$(".foreign_bank_transfer").hide(),$(".transfer_method").val("paypal")),$("#transfer_method_2").prop("checked")&&($(".paypal_transfer").hide(),$(".wise_transfer").hide(),$(".foreign_bank_transfer").hide(),$(".transfer_method").val("wise")),$("#transfer_method_3").prop("checked")&&($(".paypal_transfer").hide(),$(".wise_transfer").hide(),$(".foreign_bank_transfer").show(),$(".transfer_method").val("foreign_bank"))):$(".transfer_method").val("zengin")},i=function(){"CNY"===$("#wise_account_currency").val()?$(".ginren-form").removeClass("hidden"):$(".ginren-form").addClass("hidden")},n=function(){"CN"===$("#wise_account_country_code").val()?$(".wise-city-form").removeClass("hidden"):$(".wise-city-form").addClass("hidden")};t(),e(),i(),n(),$(document).on("change",".is_foreign",t),$(document).on("change",".is_foreign",e),$(document).on("change",'input[name="transfer_method"]',e),$(document).on("change","#wise_account_currency",i),$(document).on("change","#wise_account_country_code",n)}}),$(function(){if($("#fanclubs-item-search-open").length&&$("#fanclubs-item-search-modal").length){if($("#fanclubs-item-search-open").on("click",function(){$("#fanclubs-item-search-modal").modal("show")}),$("#fanclubs-item-search [name='q[tag]']").length){var t=$("#fanclubs-item-search [name='q[tag]']");t.tagit({singleField:!0,placeholderText:"\u30bf\u30b0\u3092\u5165\u529b",tagLimit:1});var e="ui-autocomplete-input-fanclubs-item-search";if(t.data("ui-tagit").tagInput.removeClass("ui-autocomplete-input"),t.data("ui-tagit").tagInput.addClass(e),t.length&&""!==t.val()){var i=t.val();t.tagit("removeAll"),i.split(" ").forEach(}t.on("reset-form",function(){t.tagit("removeAll")})}$("#fanclubs-item-search button.fanclubs-item-search-clear-btn").length&&$("#fanclubs-item-search button.fanclubs-item-search-clear-btn").on("click",function(){$("#fanclubs-item-search input.clear-target, #fanclubs-item-search select.clear-target").val("");var t=$("#fanclubs-item-search [name='q[tag]']");t.trigger("reset-form")})}}),function(t){function e(e){t.ajax({url:e,method:"get",dataType:"json",headers:{"X-Requested-With":"XMLHttpRequest"}}).done(function(e){if(!e.has_address)return void alert("\u4f4f\u6240\u304c\u5b58\u5728\u3057\u307e\u305b\u3093\u3002");const i=e.address;t("#return_address_phone_number1").val(i.phone_number1),t("#return_address_phone_number2").val(i.phone_number2),t("#return_address_phone_number3").val(i.phone_number3),t("#return_address_address_detail").val(i.address_detail),t("#return_address_building_detail").val(i.building_detail),t("#return_address_anonymity_prefecture_master_id").val(i.prefecture_master_id),t("#return_address_city").val(i.city),t("#return_address_l_name").val(i.l_name),t("#return_address_f_name").val(i.f_name),t("#return_address_l_name_ruby").val(i.l_name_ruby),t("#return_address_f_name_ruby").val(i.f_name_ruby),t("#return_address_postal_code").val(i.postal_code)}).fail(function(){alert("\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002")})}t(document).ready(function(){t("#copy_from_shipping_to_return_address").on("click",function(){confirm("\u767b\u9332\u6e08\u307f\u306e\u4f4f\u6240\u3092\u53cd\u6620\u3057\u307e\u3059\u3002\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f")&&e("/mypage/return_addresses/get_main_shipping_address")}),t("#copy_from_anonymity_to_return_address").on("click",function(){confirm("\u767b\u9332\u6e08\u307f\u306e\u4f4f\u6240\u3092\u53cd\u6620\u3057\u307e\u3059\u3002\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f")&&e("/mypage/return_addresses/get_anonymity_shipping_address")})})}(jQuery),$(function(){if($("#user-report-modal").length&&!$(".is-reported").length){var t="#user-report-modal .dropzone-container",e=$(t),i=new window.Dropzone(t,{url:"/dummy",hiddenInputContainer:t,autoProcessQueue:!1,createImageThumbnails:!1,uploadMultiple:!1,paralleUploads:1,maxFilesize:1,acceptedFiles:e.attr("data-accepted")});e.children().on("click",function(){e.trigger("click")}),i.on("addedfile",function(t){$("#user-report-modal .selected-file-info > .selected-file-name").text(t.name),$("#user-report-modal .dropzone-container").addClass("hidden"),$("#user-report-modal .selected-file-info").removeClass("hidden")}),$("#user-report-modal .selected-file-info > .clear-file").on("click",,$("#user-report-modal form.user-report-modal").on("submit",function(t){t.stopPropagation(),t.preventDefault();var e=$(this),n=new FormData(e.get(0));n.append("violation_content_image",i.files[0]),n.append("ua",window.navigator.userAgent),$.ajax({url:e.attr("action"),type:"POST",data:n,contentType:!1,processData:!1}).done(.fail(function(t){var e=t.responseJSON;$("#user-report-modal .error-container").empty(),e.messages&&e.messages.length?e.messages.forEach(:$("#user-report-modal .error-container").text("\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u3057\u3070\u3089\u304f\u6642\u9593\u3092\u304a\u3044\u3066\u518d\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002"),$("#user-report-modal .error-container").removeClass("hidden")})})}}),$(function(){"use strict";function t(){_=v.val(),b=y.val(),n()}function e(){v.on("change",function(){_=v.val(),o.fadeOut("fast",function(){i(),n()}),o.fadeIn()}),y.on("change",function(){b=y.val(),o.fadeOut("fast",,o.fadeIn()})}function i(){a.each(}function n(){var t=$.grep(g,;if(t.length){var e=$.grep(t,function(t){return"nekopos"===t.invoice_category}),i=$.grep(t,,n=$.grep(t,function(t){return"delivery"===t.invoice_category&&60===t.ship_size}),s=$.grep(t,function(t){return"delivery"===t.invoice_category&&80===t.ship_size}),o=$.grep(t,function(t){return"delivery"===t.invoice_category&&100===t.ship_size}),a=$.grep(t,function(t){return"delivery"===t.invoice_category&&120===t.ship_size}),v=$.grep(t,function(t){return"delivery"===t.invoice_category&&140===t.ship_size}),y=$.grep(t,;u.html(r(i[0].ship_price)),c.html(r(n[0].ship_price)),d.html(r(s[0].ship_price)),h.html(r(o[0].ship_price)),p.html(r(a[0].ship_price)),f.html(r(v[0].ship_price)),m.html(r(y[0].ship_price)),l.html(r(e[0].ship_price))}}function r(t){return Math.floor(t+t*T)}if($("#js-ship-price-container").length){var s=$("#js-ship-price-container"),o=$("#js-shop-price-result-container"),a=s.find(".js-result"),l=a.filter('[data-type="nakopos"]'),u=a.filter('[data-type="compact"]'),c=a.filter('[data-type="takkyubin60"]'),d=a.filter('[data-type="takkyubin80"]'),h=a.filter('[data-type="takkyubin100"]'),p=a.filter('[data-type="takkyubin120"]'),f=a.filter('[data-type="takkyubin140"]'),m=a.filter('[data-type="takkyubin160"]'),g=s.data("obj"),v=$("#select-from-area"),y=$("#select-to-area"),_=0,b=0,T=.1;t(),e()}}),function(t){"use strict";t(}(jQuery),function(t){t.fn.scrollTabs=function(){var e=this.find(".scroll-tabs-main");if(e.length){var i=this.outerWidth(),n=e.find(".tab-item.active"),r=this.find(".scroll-tab-arrow-left"),s=this.find(".scroll-tab-arrow-right"),o=500,a=0;if(e.find(".tab-item").each(,a+=s.outerWidth(),e.css("padding-right",s.outerWidth()),n.length>0){var l=n.position().left,u=n.outerWidth(),c=l-i/2+u/2;e.scrollLeft(c)}i>a&&s.addClass("is-hide"),r.on("click",function(t){t.preventDefault(),e.animate({scrollLeft:e.scrollLeft()-o},400)}),s.on("click",function(t){t.preventDefault(),e.animate({scrollLeft:e.scrollLeft()+o},400)}),e.scroll(function(){var i=t(this).scrollLeft(),n=e.outerWidth();15>i?r.addClass("is-hide"):r.removeClass("is-hide"),i>=a-n-10?s.addClass("is-hide"):s.removeClass("is-hide")})}}}(jQuery),function(t){"use strict";t.fn.scrollItems=function(){var e=this.find(".scroll-items-main"),i=this.outerWidth(),n=this.find(".scroll-items-arrow-left"),r=this.find(".scroll-items-arrow-right"),s=500,o=this.data("item-width")?this.data("item-width"):180,a=this.data("item-margin-right")?this.data("item-margin-right"):10,l=0;e.find(".item").each(function(){t(this).css("width",o).css("margin-right",a),l+=t(this).outerWidth()+a}),l+=r.outerWidth(),e.css("padding-right",r.outerWidth()),i>l&&r.addClass("is-hide"),n.on("click",function(t){t.preventDefault(),e.animate({scrollLeft:e.scrollLeft()-s},400)}),r.on("click",function(t){t.preventDefault(),e.animate({scrollLeft:e.scrollLeft()+s},400)}),e.scroll(function(){var i=t(this).scrollLeft(),s=e.outerWidth();15>i?n.addClass("is-hide"):n.removeClass("is-hide"),i>=l-s-10?r.addClass("is-hide"):r.removeClass("is-hide")})}}(jQuery),function(t){"use strict";t.fn.affixNav=function(){function e(){var t=Math.max(s.scrollTop(),0);t>=a?i():n()}function i(){r.addClass("is-fixed"),o.show()}ar r=this,s=t(window),o=t("<div>").height(r.height()).insertAfter(r).hide(),a=r.offset().top;s.on("load scroll resize",function(){e()})}}(jQuery),function(t){"use strict";t(function(){var e=t("#js-scroll-top");if(e.length){var i=e.offset().top;t(window).scrollTop(i)}})}(jQuery),$(function(){"use strict";var t=$("#js-modal-nav");t.on("shown.bs.modal",function(){var e=$(".js-anchor-link");e.on("click",function(){t.modal("hide")})})}),function(t){"use strict";t.fn.popupBar=function(){function e(){u=s.offset().top+s.outerHeight(),c=a.offset().top+a.outerHeight(!0),i()}function i(){var t=Math.max(l.scrollTop(),0);t>u?t+l.height()>c?r():n():r()}r s=this,o=this.clone().addClass("is-clone").insertAfter(s),a=t(o.data("within-area")),l=t(window),u=s.offset().top+s.outerHeight(),c=a.offset().top+a.outerHeight(!0),d=!1;e(),l.resize(function(){e()}),l.on("load scroll",function(){i()})}}(jQuery),function(t){"use strict";t(function(){t("a.js-smooth-scroll").click(function(e){e.preventDefault();var i=t(this),n=i.attr("href"),r=t("#"==n||""==n?"html":n),s=r.offset().top;return t("body,html").animate({scrollTop:s},200,"swing"),r.is("input")&&r.focus(),!1})})}(jQuery),function(t){"use strict";t(function(){var e=t(".js-form-customers-orders-cart");e.length&&t(".js-btn-with-state").each(function(){function e(){a>0&&s==a&&(u=!0,n.addClass("changed"))}function i(){a=parseInt(o.val()),a!==l&&(u=!1,n.removeClass("changed"),l=a)}var n=t(this),r=t(n.data("init")),s=parseInt(r.val()),o=t(n.data("input")),a=parseInt(o.val()),l=a,u=!1;if(e(),o.on("input keyup blur",function(){i()}),"extra_pay_field"===o.attr("id")){var c=t(".js-set-next-month");c.on("change",function(){n.removeClass("changed"),l=a})}})})}(jQuery),function(t){"use strict";t(function(){function e(t,e,i){t.removeClass().addClass(e).text(i)}function i(t,e,i){return Math.round(t*i*e)}var n=t(".js-form-customers-orders-cart-cvs");if(n.length){var r=t("#extra_pay_field"),s=0,o=0,a=1,l=1e5,u=100,c=t("#js-term").text(),d=t("#extra_pay"),h=t("#js-extrapay-message"),p=t("#price"),f=p.text(),m=t(".js-required-coin"),g=m.eq(0).text();r.on("input keyup blur",function(){function n(){var t=f,e=g;if(s>0){var i=String(s).replace(/(\d)(?=(\d\d\d)+$)/g,"$1,");if(c>1){var n=String(s*c).replace(/(\d)(?=(\d\d\d)+$)/g,"$1,");t=f+"+"+n+"\u5186(\u4e0a\u4e57\u305b\u652f\u63f4"+i+"\u5186x"+c+"\u30f6\u6708\u5206)",e=g+"+"+n+"(\u4e0a\u4e57\u305b\u652f\u63f4"+i+" x"+c+"\u30f6\u6708\u5206)"}else t=f+"+"+i+"\u5186(\u4e0a\u4e57\u305b\u652f\u63f4)",e=g+"+"+i+"(\u4e0a\u4e57\u305b\u652f\u63f4)"}p.text(t),m.text(e)}s=t(this).val()?t(this).val():0,o=i(s,a,c),d.val(s),0==s?e(h,"text-muted","\u4e0a\u4e57\u305b\u652f\u63f4\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u305b\u3093\u3002"):l>=s&&s>=u?e(h,"text-success","\u4e0a\u4e57\u305b\u652f\u63f4\u91d1\u984d\u3092\u8a2d\u5b9a\u3057\u307e\u3057\u305f\uff01(\u652f\u63f4PT:\u4eca\u56de"+o+"PT\u7372\u5f97)"):s>l||u>s?e(h,"text-primary",u+"\u5186\u301c"+l+"\u5186\u306e\u9593\u3067\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002"):e(h,"text-primary","\u5165\u529b\u30a8\u30e9\u30fc"),n()})}})}(jQuery),function(t){"use strict";t(function(){var e=t(".js-ads-container");if(e.length){var i="https://spotlight.fantia.jp/wp-json/api/v1/ads",n=t("body").data("brand"),r=t("body").data("user-type");e.each(function(){function e(){t.ajax({url:i,type:"GET",dataType:"json",data:{brand:n},timeout:1e4,cache:!1}).done(function(e){if(e.ads)if("sidebar"===o){if(!e.ads.sidebar||!e.ads.sidebar[r])return;t.each(e.ads.sidebar[r],function(e,i){var n="";n+='<a class="ad-item" target="_blank" href="'+i.url+'" title="'+i.title+'">',n+='<img class="img-fluid lazyload" data-src="'+i.image.md+'" src="/images/fallback/common/loading-md.jpg" />',i.title&&(n+='<h3 class="title">'+i.title+"</h3>"),n+="</a>",t(n).appendTo(s)})}else if("notifications"===o){if(!e.ads.notifications||!e.ads.notifications[r])return;t.each(e.ads.notifications[r],function(e,i){var n="";n+='<a class="list-group-item list-group-item-warning" target="_blank" href="'+i.url+'" title="'+i.title+'">',n+='<small class="text-muted"><i class="i fa fa-fw fa-star"></i><span>\u5e83\u544a</span></small>',n+="<p><span>"+i.title+"</span></p>",n+="</a>",t(n).appendTo(s)})}}).fail(function(){})}var s=t(this),o=s.data("type");e()})}})}(jQuery),function(){unction e(e){if(e&&e.contents){var n=e.options||{};i&&(i.dispose(),i=null);var r=document.querySelector(".fantia-viewer-product-last-page");e.latest_products&&r?(r=r.cloneNode(!0),n.lastPageElement=r):r=null;var s;try{s=i=fantiaViewer(e.contents,n)}catch(o){return i=null,void t(o)}if(r){var a=r.querySelector(".js-fantia-viewer-back-contents");a&&a.addEventListener("click",;var l=r.querySelector(".js-fantia-viewer-show-other-contents");l&&e.fanclub_products_url&&l.setAttribute("href",e.fanclub_products_url);var u=r.querySelector(".fantia-viewer-last-page-list"),c=r.querySelector(".fantia-viewer-last-page-list > .js-fantia-viewer-last-page-item");u&&c&&(u.removeChild(c),e.latest_products.map(function(t){var e=c.cloneNode(!0),i=e.querySelector(".js-fantia-viewer-last-page-item-thumb-link");i&&i.setAttribute("href",t.link_url);var n=e.querySelector(".js-fantia-viewer-last-page-item-thumb-img");n&&n.setAttribute("src",t.thumb_url);var r=e.querySelector(".js-fantia-viewer-last-page-item-link");r&&r.setAttribute("href",t.link_url);var s=e.querySelector(".js-fantia-viewer-last-page-item-name");s&&(s.innerText=t.name),u.appendChild(e)}))}}}var i=null;document.querySelectorAll(".fantia-viewer-button[data-viewer-product-content-id]").forEach(function(n){var r=n.dataset.viewerProductContentId;if(null!=r){var s=window.fantiaViewer;if(!s)return void console.warn("fantia viewer is not available.");n.classList.remove("disabled");var o=!1;n.addEventListener("click",function(){if(!o){var a=n.querySelector(".fa-play.js-viewer-button-icon"),l=n.querySelector(".fa-spin.js-viewer-button-icon");a&&a.classList.remove("js-current"),l&&l.classList.add("js-current"),o=!0;var u=20,c=5,d=2e3,h=function(e,n){var s=0,o=new $.Deferred,a=function(){$.ajax({url:"/api/v1/product_contents/"+r+"/viewer_content_pages",caches:!1,data:{limit:e,offset:n}}).then(function(t){o.resolve(t.pages)}).fail(function(t){return s++,c>s?void setTimeout(a,d):void o.reject(t)})};return a(),o.promise().fail(function(e){i&&(i.dispose(),i=null),t(e)})},p=$.ajax({url:"/api/v1/product_contents/"+r+"/viewer_content_summary",caches:!1}).then(function(t){return t.contents=s.asyncLoadBuilder(h).limit(u).build(t.summary.page_count),t});p.done(function(t){e(t)}).always(function(){l&&l.classList.remove("js-current"),a&&a.classList.add("js-current"),o=!1}).fail(function(e){i&&(i.dispose(),i=null),t(e)})}})}})}(),$(function(){$(document).on("click",".fanclub-with-posts .js-readmore-open-button",}),function(t){t.widget("ui.tagit",{options:{allowDuplicates:!1,caseSensitive:!0,fieldName:"tags",placeholderText:null,readOnly:!1,removeConfirmation:!1,tagLimit:null,availableTags:[],autocomplete:{},showAutocompleteOnFocus:!1,allowSpaces:!1,singleField:!1,singleFieldDelimiter:",",singleFieldNode:null,animate:!0,tabIndex:null,beforeTagAdded:null,afterTagAdded:null,beforeTagRemoved:null,afterTagRemoved:null,onTagClicked:null,onTagLimitExceeded:null,onTagAdded:null,onTagRemoved:null,tagSource:null},_create:function(){var e=this;this.element.is("input")?(this.tagList=t("<ul></ul>").insertAfter(this.element),this.options.singleField=!0,this.options.singleFieldNode=this.element,this.element.addClass("tagit-hidden-field")):this.tagList=this.element.find("ul, ol").andSelf().last(),this.tagInput=t('<input type="text" />').addClass("ui-widget-content"),this.options.readOnly&&this.tagInput.attr("disabled","disabled"),this.options.tabIndex&&this.tagInput.attr("tabindex",this.options.tabIndex),this.options.placeholderText&&this.tagInput.attr("placeholder",this.options.placeholderText),this.options.autocomplete.source||(this.options.autocomplete.source=,this.options.showAutocompleteOnFocus&&(this.tagInput.focus(function(){e._showAutocomplete()}),"undefined"==typeof this.options.autocomplete.minLength&&(this.options.autocomplete.minLength=0)),t.isFunction(this.options.autocomplete.source)&&(this.options.autocomplete.source=t.proxy(this.options.autocomplete.source,this)),t.isFunction(this.options.tagSource)&&(this.options.tagSource=t.proxy(this.options.tagSource,this)),this.tagList.addClass("tagit").addClass("ui-widget ui-widget-content ui-corner-all").append(t('<li class="tagit-new"></li>').append(this.tagInput)).click(function(i){var n=t(i.target);n.hasClass("tagit-label")?(n=n.closest(".tagit-choice"),n.hasClass("removed")||e._trigger("onTagClicked",i,{tag:n,tagLabel:e.tagLabel(n)})):e.tagInput.focus()});var i=!1;if(this.options.singleField)if(this.options.singleFieldNode){var n=t(this.options.singleFieldNode),r=n.val().split(this.options.singleFieldDelimiter);n.val(""),t.each(r,function(t,n){e.createTag(n,null,!0),i=!0})}else this.options.singleFieldNode=t('<input type="hidden" style="display:none;" value="" name="'+this.options.fieldName+'" />'),this.tagList.after(this.options.singleFieldNode);i||this.tagList.children("li").each(,this.tagInput.keydown(function(i){if(i.which==t.ui.keyCode.BACKSPACE&&""===e.tagInput.val()){var n=e._lastTag();!e.options.removeConfirmation||n.hasClass("remove")?e.removeTag(n):e.options.removeConfirmation&&n.addClass("remove ui-state-highlight")}else e.options.removeConfirmation&&e._lastTag().removeClass("remove ui-state-highlight");(i.which===t.ui.keyCode.COMMA&&!1===i.shiftKey||i.which===t.ui.keyCode.ENTER||i.which==t.ui.keyCode.TAB&&""!==e.tagInput.val()||i.which==t.ui.keyCode.SPACE&&!0!==e.options.allowSpaces&&('"'!=t.trim(e.tagInput.val()).replace(/^s*/,"").charAt(0)||'"'==t.trim(e.tagInput.val()).charAt(0)&&'"'==t.trim(e.tagInput.val()).charAt(t.trim(e.tagInput.val()).length-1)&&0!==t.trim(e.tagInput.val()).length-1))&&(i.which===t.ui.keyCode.ENTER&&""===e.tagInput.val()||i.preventDefault(),
e.options.autocomplete.autoFocus&&e.tagInput.data("autocomplete-open")||(e.tagInput.autocomplete("close"),e.createTag(e._cleanedInput())))}).blur(function(){e.tagInput.data("autocomplete-open")||e.createTag(e._cleanedInput())}),(this.options.availableTags||this.options.tagSource||this.options.autocomplete.source)&&(n={select:,t.extend(n,this.options.autocomplete),n.source=this.options.tagSource||n.source,this.tagInput.autocomplete(n).bind("autocompleteopen.tagit",function(){e.tagInput.data("autocomplete-open",!0)}).bind("autocompleteclose.tagit",,this.tagInput.autocomplete("widget").addClass("tagit-autocomplete"))},destroy:function(){return t.Widget.prototype.destroy.call(this),this.element.unbind(".tagit"),this.tagList.unbind(".tagit"),this.tagInput.removeData("autocomplete-open"),this.tagList.removeClass("tagit ui-widget ui-widget-content ui-corner-all tagit-hidden-field"),this.element.is("input")?(this.element.removeClass("tagit-hidden-field"),this.tagList.remove()):(this.element.children("li").each(function(){t(this).hasClass("tagit-new")?t(this).remove():(t(this).removeClass("tagit-choice ui-widget-content ui-state-default ui-state-highlight ui-corner-all remove tagit-choice-editable tagit-choice-read-only"),t(this).text(t(this).children(".tagit-label").text()))}),this.singleFieldNode&&this.singleFieldNode.remove()),this},_cleanedInput:_lastTag:function(){return this.tagList.find(".tagit-choice:last:not(.removed)")},_tags:function(){return this.tagList.find(".tagit-choice:not(.removed)")},assignedTags:function(){var e=this,i=[];return this.options.singleField?(i=t(this.options.singleFieldNode).val().split(this.options.singleFieldDelimiter),""===i[0]&&(i=[])):this._tags().each(,i},_updateSingleTagsField:_subtractArray:tagLabel:_showAutocomplete:_findTagByLabel:function(e){var i=this,n=null;return this._tags().each(function(){return i._formatStr(e)==i._formatStr(i.tagLabel(this))?(n=t(this),!1):void 0}),n},_isNew:_formatStr:_effectExists:createTag:function(e,i,n){var r=this;if(e=t.trim(e),this.options.preprocessTag&&(e=this.options.preprocessTag(e)),""===e)return!1;if(!this.options.allowDuplicates&&!this._isNew(e))return e=this._findTagByLabel(e),!1!==this._trigger("onTagExists",null,{existingTag:e,duringInitialization:n})&&this._effectExists("highlight")&&e.effect("highlight"),!1;if(this.options.tagLimit&&this._tags().length>=this.options.tagLimit)return this._trigger("onTagLimitExceeded",null,{duringInitialization:n}),!1;var s=t(this.options.onTagClicked?'<a class="tagit-label"></a>':'<span class="tagit-label"></span>').text(e),o=t("<li></li>").addClass("tagit-choice ui-widget-content ui-state-default ui-corner-all").addClass(i).append(s);this.options.readOnly?o.addClass("tagit-choice-read-only"):(o.addClass("tagit-choice-editable"),i=t("<span></span>").addClass("ui-icon ui-icon-close"),i=t('<a><span class="text-icon">\xd7</span></a>').addClass("tagit-close").append(i).click(function(){r.removeTag(o)}),o.append(i)),this.options.singleField||(s=s.html(),o.append('<input type="hidden" value="'+s+'" name="'+this.options.fieldName+'" class="tagit-hidden-field" />')),!1!==this._trigger("beforeTagAdded",null,{tag:o,tagLabel:this.tagLabel(o),duringInitialization:n})&&(this.options.singleField&&(s=this.assignedTags(),s.push(e),this._updateSingleTagsField(s)),this._trigger("onTagAdded",null,o),this.tagInput.val(""),this.tagInput.parent().before(o),this._trigger("afterTagAdded",null,{tag:o,tagLabel:this.tagLabel(o),duringInitialization:n}),this.options.showAutocompleteOnFocus&&!n&&setTimeout(function(){r._showAutocomplete()},0))},removeTag:function(e,i){if(i="undefined"==typeof i?this.options.animate:i,e=t(e),this._trigger("onTagRemoved",null,e),!1!==this._trigger("beforeTagRemoved",null,{tag:e,tagLabel:this.tagLabel(e)})){if(this.options.singleField){var n=this.assignedTags(),r=this.tagLabel(e),n=t.grep(n,;this._updateSingleTagsField(n)}if(i){e.addClass("removed");var n=this._effectExists("blind")?["blind",{direction:"horizontal"},"fast"]:["fast"],s=this;n.push(,e.fadeOut("fast").hide.apply(e,n).dequeue()}else e.remove(),this._trigger("afterTagRemoved",null,{tag:e,tagLabel:this.tagLabel(e)})}},removeTagByLabel:removeAll:)}(jQuery),!,!jQuery),!this,function(){"use strict";unction e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}nction r(t){return t)||function(t){return Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)?Array.from(t):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n h(t,e){var i=1<arguments.length&&void 0!==e?e:1e11;return Ct.test(t)?Math.round(t*i)/i:t}n b(t,e,i,n){var r=3<arguments.length&&void 0!==n?n:{},s=i;e.trim().split(At).forEach(}function T(t,e,i,n){var r=3<arguments.length&&void 0!==n?n:{},s=i;e.trim().split(At).forEach(function(e){if(r.once&&!Dt){var n=t.listeners,o=void 0===n?{}:n;s=function(){delete o[e][i],t.removeEventListener(e,s,r);for(var n=arguments.length,a=new Array(n),l=0;n>l;l++)a[l]=arguments[l];i.apply(t,a)},o[e]||(o[e]={}),o[e][i]&&t.removeEventListener(e,o[e][i],r),o[e][i]=s,t.listeners=o}t.addEventListener(e,s,r)})}on O(t,e){var i=t.aspectRatio,n=t.height,r=t.width,s=1<arguments.length&&void 0!==e?e:"contain",o=wt(r),a=wt(n);if(o&&a){var l=n*i;"contain"===s&&l>r||"cover"===s&&r>l?n=r/i:r=n*i}else o?n=r/i:a&&(r=n*i);return{width:r,height:n}}function A(t){var e,i=new DataView(t);try{var n,r,s;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var o=i.byteLength,a=2;o>a+1;){if(255===i.getUint8(a)&&225===i.getUint8(a+1)){r=a;break}a+=1}if(r){var l=r+10;if("Exif"===function(t,e,i){var n="";i+=e;for(var r=e;i>r;r+=1)n+=Lt(t.getUint8(r));return n}(i,r+4,4)){var u=i.getUint16(l);if(((n=18761===u)||19789===u)&&42===i.getUint16(l+2,n)){var c=i.getUint32(l+4,n);c>=8&&(s=l+c)}}}if(s){var d,h,p=i.getUint16(s,n);for(h=0;p>h;h+=1)if(d=s+12*h+2,274===i.getUint16(d,n)){d+=8,e=i.getUint16(d,n),i.setUint16(d,1,n);break}}}catch(t){e=1}return e}var D="undefined"!=typeof window&&void 0!==window.document,I=D?window:{},P=D&&"ontouchstart"in I.document.documentElement,L=D&&"PointerEvent"in I,M="cropper",N="all",R="crop",j="move",B="zoom",F="e",U="w",H="s",q="n",$="ne",W="nw",z="se",V="sw",Y="".concat(M,"-crop"),K="".concat(M,"-disabled"),G="".concat(M,"-hidden"),X="".concat(M,"-hide"),Q="".concat(M,"-invisible"),J="".concat(M,"-modal"),Z="".concat(M,"-move"),tt="".concat(M,"Action"),et="".concat(M,"Preview"),it="crop",nt="move",rt="none",st="crop",ot="cropend",at="cropmove",lt="cropstart",ut="dblclick",ct=L?"pointerdown":P?"touchstart":"mousedown",dt=L?"pointermove":P?"touchmove":"mousemove",ht=L?"pointerup pointercancel":P?"touchend touchcancel":"mouseup",pt="ready",ft="zoom",mt="image/jpeg",gt=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,vt=/^data:/,yt=/^data:image\/jpeg;base64,/,_t=/^img|canvas$/i,bt={viewMode:0,dragMode:it,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Tt=Number.isNaN||I.isNaN,wt=function(t){return t>0&&1/0>t},kt=Object.prototype.hasOwnProperty,xt=Array.prototype.slice,St=Object.assign||function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;e>n;n++)i[n-1]=arguments[n];return a(t)&&0<i.length&&i.forEach(,t},Ct=/\.\d*(?:0|9){12}\d*$/,Et=/^width|height|left|top|marginLeft|marginTop$/,Ot=/([a-z\d])([A-Z])/g,At=/\s\s*/,Dt=),It=I.location,Pt=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i,Lt=String.fromCharCode,Mt=/^data:.*,/,Nt={render:initContainer:function(){var t=this.element,e=this.options,i=this.container,n=this.cropper;f(n,G),m(t,G);var r={width:Math.max(i.offsetWidth,Number(e.minContainerWidth)||200),height:Math.max(i.offsetHeight,Number(e.minContainerHeight)||100)};p(n,{width:(this.containerData=r).width,height:r.height}),f(t,G),m(n,G)},initCanvas:limitCanvas:function(t,e){var i=this.options,n=this.containerData,r=this.canvasData,s=this.cropBoxData,o=i.viewMode,a=r.aspectRatio,l=this.cropped&&s;if(t){var u=Number(i.minCanvasWidth)||0,c=Number(i.minCanvasHeight)||0;o>1?(u=Math.max(u,n.width),c=Math.max(c,n.height),3===o&&(c*a>u?u=c*a:c=u/a)):o>0&&(u?u=Math.max(u,l?s.width:0):c?c=Math.max(c,l?s.height:0):l&&((u=s.width)<(c=s.height)*a?u=c*a:c=u/a));var d=O({aspectRatio:a,width:u,height:c});u=d.width,c=d.height,r.minWidth=u,r.minHeight=c,r.maxWidth=1/0,r.maxHeight=1/0}if(e)if(o>(l?0:1)){var h=n.width-r.width,p=n.height-r.height;r.minLeft=Math.min(0,h),r.minTop=Math.min(0,p),r.maxLeft=Math.max(0,h),r.maxTop=Math.max(0,p),l&&this.limited&&(r.minLeft=Math.min(s.left,s.left+(s.width-r.width)),r.minTop=Math.min(s.top,s.top+(s.height-r.height)),r.maxLeft=s.left,r.maxTop=s.top,2===o&&(r.width>=n.width&&(r.minLeft=Math.min(0,h),r.maxLeft=Math.max(0,h)),r.height>=n.height&&(r.minTop=Math.min(0,p),r.maxTop=Math.max(0,p))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=n.width,r.maxTop=n.height},renderCanvas:function(t,e){var i=this.canvasData,n=this.imageData;if(e){var r=function(t){var e=t.width,i=t.height,n=t.degree;if(90===(n=Math.abs(n)%180))return{width:i,height:e};var r=n%90*Math.PI/180,s=Math.sin(r),o=Math.cos(r),a=e*o+i*s,l=e*s+i*o;return n>90?{width:l,height:a}:{width:a,height:l}}({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),s=r.width,o=r.height,a=i.width*(s/i.naturalWidth),l=i.height*(o/i.naturalHeight);i.left-=(a-i.width)/2,i.top-=(l-i.height)/2,i.width=a,i.height=l,i.aspectRatio=s/o,i.naturalWidth=s,i.naturalHeight=o,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,p(this.canvas,St({width:i.width,height:i.height},C({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:initCropBox:limitCropBox:renderCropBox:output:,Rt={initPreview:function(){var t=this.element,e=this.crossOrigin,i=this.options.preview,n=e?this.crossOriginUrl:this.url,r=t.alt||"The image to preview",s=document.createElement("img");if(e&&(s.crossOrigin=e),s.src=n,s.alt=r,this.viewBox.appendChild(s),this.viewBoxImage=s,i){var o=i;"string"==typeof i?o=t.ownerDocument.querySelectorAll(i):i.querySelector&&(o=[i]),d(this.previews=o,}},resetPreview:preview:,jt={bind:unbind:,Bt={resize:function(){var t=this.options,e=this.container,i=this.containerData,n=Number(t.minContainerWidth)||200,r=Number(t.minContainerHeight)||100;if(!(this.disabled||i.width<=n||i.height<=r)){var s,o,a=e.offsetWidth/i.width;1==a&&e.offsetHeight===i.height||(t.restore&&(s=this.getCanvasData(),o=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(d(s,function(t,e){s[e]=t*a})),this.setCropBoxData(d(o,)))}},dblclick:function(){this.disabled||this.options.dragMode===rt||this.setDragMode(function(t,e){return t.classList?t.classList.contains(e):-1<t.className.indexOf(e)}(this.dragBox,Y)?nt:it)},wheel:cropStart:function(t){var e=t.buttons,i=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(s(e)&&1!==e||s(i)&&0!==i||t.ctrlKey))){var n,r=this.options,o=this.pointers;t.changedTouches?d(t.changedTouches,:o[t.pointerId||0]=E(t),n=1<Object.keys(o).length&&r.zoomable&&r.zoomOnTouch?B:y(t.target,tt),gt.test(n)&&!1!==w(this.element,lt,{originalEvent:t,action:n})&&(t.preventDefault(),this.action=n,this.cropping=!1,n===R&&(this.cropping=!0,f(this.dragBox,J)))}},cropMove:cropEnd:,Ft={change:function(t){ar i,r=this.options,s=this.canvasData,o=this.containerData,a=this.cropBoxData,l=this.pointers,u=this.action,c=r.aspectRatio,h=a.left,p=a.top,f=a.width,g=a.height,v=h+f,y=p+g,_=0,b=0,T=o.width,w=o.height,x=!0;!c&&t.shiftKey&&(c=f&&g?f/g:1),this.limited&&(_=a.minLeft,b=a.minTop,T=_+Math.min(o.width,s.width,s.left+s.width),w=b+Math.min(o.height,s.height,s.top+s.height));var S=l[Object.keys(l)[0]],C={x:S.endX-S.startX,y:S.endY-S.startY};switch(u){case N:h+=C.x,p+=C.y;break;case F:if(0<=C.x&&(v>=T||c&&(b>=p||y>=w))){x=!1;break}e(F),(f+=C.x)<0&&(u=U,h-=f=-f),c&&(g=f/c,p+=(a.height-g)/2);break;case q:if(C.y<=0&&(b>=p||c&&(_>=h||v>=T))){x=!1;break}e(q),g-=C.y,p+=C.y,0>g&&(u=H,p-=g=-g),c&&(f=g*c,h+=(a.width-f)/2);break;case U:if(C.x<=0&&(_>=h||c&&(b>=p||y>=w))){x=!1;break}e(U),f-=C.x,h+=C.x,0>f&&(u=F,h-=f=-f),c&&(g=f/c,p+=(a.height-g)/2);break;case H:if(0<=C.y&&(y>=w||c&&(_>=h||v>=T))){x=!1;break}e(H),(g+=C.y)<0&&(u=q,p-=g=-g),c&&(f=g*c,h+=(a.width-f)/2);break;case $:if(c){if(C.y<=0&&(b>=p||v>=T)){x=!1;break}e(q),g-=C.y,p+=C.y,f=g*c}else e(q),e(F),0<=C.x?T>v?f+=C.x:C.y<=0&&b>=p&&(x=!1):f+=C.x,C.y<=0?p>b&&(g-=C.y,p+=C.y):(g-=C.y,p+=C.y);0>f&&0>g?(u=V,p-=g=-g,h-=f=-f):0>f?(u=W,h-=f=-f):0>g&&(u=z,p-=g=-g);break;case W:if(c){if(C.y<=0&&(b>=p||_>=h)){x=!1;break}e(q),g-=C.y,p+=C.y,f=g*c,h+=a.width-f}else e(q),e(U),C.x<=0?h>_?(f-=C.x,h+=C.x):C.y<=0&&b>=p&&(x=!1):(f-=C.x,h+=C.x),C.y<=0?p>b&&(g-=C.y,p+=C.y):(g-=C.y,p+=C.y);0>f&&0>g?(u=z,p-=g=-g,h-=f=-f):0>f?(u=$,h-=f=-f):0>g&&(u=V,p-=g=-g);break;case V:if(c){if(C.x<=0&&(_>=h||y>=w)){x=!1;break}e(U),f-=C.x,h+=C.x,g=f/c}else e(H),e(U),C.x<=0?h>_?(f-=C.x,h+=C.x):0<=C.y&&y>=w&&(x=!1):(f-=C.x,h+=C.x),0<=C.y?w>y&&(g+=C.y):g+=C.y;0>f&&0>g?(u=$,p-=g=-g,h-=f=-f):0>f?(u=z,h-=f=-f):0>g&&(u=W,p-=g=-g);break;case z:if(c){if(0<=C.x&&(v>=T||y>=w)){x=!1;break}e(F),g=(f+=C.x)/c}else e(H),e(F),0<=C.x?T>v?f+=C.x:0<=C.y&&y>=w&&(x=!1):f+=C.x,0<=C.y?w>y&&(g+=C.y):g+=C.y;0>f&&0>g?(u=W,p-=g=-g,h-=f=-f):0>f?(u=V,h-=f=-f):0>g&&(u=$,p-=g=-g);break;case j:this.move(C.x,C.y),x=!1;break;case B:this.zoom(l),t),x=!1;break;case R:if(!C.x||!C.y){x=!1;break}i=k(this.cropper),h=S.startX-i.left,p=S.startY-i.top,f=a.minWidth,g=a.minHeight,0<C.x?u=0<C.y?z:$:C.x<0&&(h-=f,u=0<C.y?V:W),C.y<0&&(p-=g),this.cropped||(m(this.cropBox,G),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}x&&(a.width=f,a.height=g,a.left=h,a.top=p,this.action=u,this.renderCropBox()),d(l,}},Ut={crop:reset:clear:replace:function(t,e){var i=1<arguments.length&&void 0!==e&&e;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),i?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,d(this.previews,)):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:disable:destroy:move:function(t,e){var i=1<arguments.length&&void 0!==e?e:t,n=this.canvasData,r=n.left,s=n.top;return this.moveTo(o(t)?t:r+Number(t),o(i)?i:s+Number(i))},moveTo:function(t,e){var i=1<arguments.length&&void 0!==e?e:t,n=this.canvasData,r=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.movable&&(s(t)&&(n.left=t,r=!0),s(i)&&(n.top=i,r=!0),r&&this.renderCanvas(!0)),this},zoom:zoomTo:function(t,e,i){var n=this.options,r=this.canvasData,o=r.width,a=r.height,u=r.naturalWidth,c=r.naturalHeight;if(0<=(t=Number(t))&&this.ready&&!this.disabled&&n.zoomable){var h=u*t,p=c*t;if(!1===w(this.element,ft,{ratio:t,oldRatio:o/u,originalEvent:i}))return this;if(i){var f=this.pointers,m=k(this.cropper),g=f&&Object.keys(f).length?f):{pageX:i.pageX,pageY:i.pageY};r.left-=(h-o)*((g.pageX-m.left-r.left)/o),r.top-=(p-a)*((g.pageY-m.top-r.top)/a)}else l(e)&&s(e.x)&&s(e.y)?(r.left-=(h-o)*((e.x-r.left)/o),r.top-=(p-a)*((e.y-r.top)/a)):(r.left-=(h-o)/2,r.top-=(p-a)/2);r.width=h,r.height=p,this.renderCanvas(!0)}return this},rotate:rotateTo:scaleX:scaleY:scale:function(t,e){var i=1<arguments.length&&void 0!==e?e:t,n=this.imageData,r=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.scalable&&(s(t)&&(n.scaleX=t,r=!0),s(i)&&(n.scaleY=i,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(t){var e,i=0<arguments.length&&void 0!==t&&t,n=this.options,r=this.imageData,s=this.canvasData,o=this.cropBoxData;if(this.ready&&this.cropped){e={x:o.left-s.left,y:o.top-s.top,width:o.width,height:o.height};var a=r.width/r.naturalWidth;if(d(e,,i){var l=Math.round(e.y+e.height),u=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=u-e.x,e.height=l-e.y}}else e={x:0,y:0,width:0,height:0};return n.rotatable&&(e.rotate=r.rotate||0),n.scalable&&(e.scaleX=r.scaleX||1,e.scaleY=r.scaleY||1),e},setData:getContainerData:function(){return this.ready?St({},this.containerData):{}},getImageData:getCanvasData:setCanvasData:getCropBoxData:setCropBoxData:getCroppedCanvas:function(t){var e=0<arguments.length&&void 0!==t?t:{};if(!this.ready||!window.HTMLCanvasElement)return null;var i=this.canvasData,n=this.image,this.imageData,i,e);if(!this.cropped)return n;var s=this.getData(),o=s.x,a=s.y,l=s.width,u=s.height,c=n.width/Math.floor(i.naturalWidth);1!=c&&(o*=c,a*=c,l*=c,u*=c);var d=l/u,p=O({aspectRatio:d,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=O({aspectRatio:d,width:e.minWidth||0,height:e.minHeight||0},"cover"),m=O({aspectRatio:d,width:e.width||(1!=c?n.width:l),height:e.height||(1!=c?n.height:u)}),g=m.width,v=m.height;g=Math.min(p.width,Math.max(f.width,g)),v=Math.min(p.height,Math.max(f.height,v));var y=document.createElement("canvas"),_=y.getContext("2d");y.width=h(g),y.height=h(v),_.fillStyle=e.fillColor||"transparent",_.fillRect(0,0,g,v);var b=e.imageSmoothingEnabled,T=void 0===b||b,w=e.imageSmoothingQuality;_.imageSmoothingEnabled=T,w&&(_.imageSmoothingQuality=w);var k,x,S,C,E,A,D=n.width,I=n.height,P=o,L=a;-l>=P||P>D?E=S=k=P=0:0>=P?(S=-P,P=0,E=k=Math.min(D,l+P)):D>=P&&(S=0,E=k=Math.min(l,D-P)),0>=k||-u>=L||L>I?A=C=x=L=0:0>=L?(C=-L,L=0,A=x=Math.min(I,u+L)):I>=L&&(C=0,A=x=Math.min(u,I-L));var M=[P,L,k,x];if(E>0&&A>0){var N=g/l;M.push(S*N,C*N,E*N,A*N)}return _.drawImage.apply(_,[n].concat(r(M.map())),y},setAspectRatio:setDragMode:,Ht=I.Cropper,qt=function(){function t(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this,t),!e||!_t.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=St({},bt,l(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return t,[{key:"init",value:,{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var i=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),n.checkOrientation&&window.ArrayBuffer)if(vt.test(t))yt.test(t)?this.read(function(t){var e=t.replace(Mt,""),i=atob(e),n=new ArrayBuffer(i.length),r=new Uint8Array(n);return d(r,,n}(t)):this.clone();else{var r=new XMLHttpRequest,s=this.clone.bind(this);this.reloading=!0,(this.xhr=r).onabort=s,r.onerror=s,r.ontimeout=s,r.onprogress=r.onload=function(){e.read(r.response)},r.onloadend=n.checkCrossOrigin&&x(t)&&i.crossOrigin&&(t=S(t)),r.open("GET",t),r.responseType="arraybuffer",r.withCredentials="use-credentials"===i.crossOrigin,r.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,i=this.imageData,n=A(t),r=0,s=1,o=1;if(n>1){this.url=t,mt);var a=n);r=a.rotate,s=a.scaleX,o=a.scaleY}e.rotatable&&(i.rotate=r),e.scalable&&(i.scaleX=s,i.scaleY=o),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,i=t.crossOrigin,n=e;this.options.checkCrossOrigin&&x(e)&&(i=i||"anonymous",n=S(e)),this.crossOrigin=i,this.crossOriginUrl=n;var r=document.createElement("img");i&&(r.crossOrigin=i),r.src=n||e,r.alt=t.alt||"The image to crop",(this.image=r).onload=this.start.bind(this),r.onerror=this.stop.bind(this),f(r,X),t.parentNode.insertBefore(r,t.nextSibling)}},{key:"start",value:function(){function t(t,i){St(e.imageData,{naturalWidth:t,naturalHeight:i,aspectRatio:t/i}),e.sizing=!1,e.sized=!0,e.build()}var e=this,i=this.image;i.onload=null,i.onerror=null,this.sizing=!0;var n=I.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(I.navigator.userAgent);if(!i.naturalWidth||n){var r=document.createElement("img"),s=document.body||document.documentElement;(this.sizingImage=r).onload=r.src=i.src,n||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",s.appendChild(r))}else t(i.naturalWidth,i.naturalHeight)}},{key:"stop",value:,{key:"build",value:,{key:"unbuild",value:,{key:"uncreate",value:],[{key:"noConflict",value:,{key:"setDefaults",value:]),t}();return St(qt.prototype,Nt,Rt,jt,Bt,Ft,Ut),qt});var t=[],YubinBango;!function(e){var i=function(){function e(t,e){if(void 0===t&&(t=""),this.URL="https://yubinbango.github.io/yubinbango-data/data",this.g=[null,"\u5317\u6d77\u9053","\u9752\u68ee\u770c","\u5ca9\u624b\u770c","\u5bae\u57ce\u770c","\u79cb\u7530\u770c","\u5c71\u5f62\u770c","\u798f\u5cf6\u770c","\u8328\u57ce\u770c","\u6803\u6728\u770c","\u7fa4\u99ac\u770c","\u57fc\u7389\u770c","\u5343\u8449\u770c","\u6771\u4eac\u90fd","\u795e\u5948\u5ddd\u770c","\u65b0\u6f5f\u770c","\u5bcc\u5c71\u770c","\u77f3\u5ddd\u770c","\u798f\u4e95\u770c","\u5c71\u68a8\u770c","\u9577\u91ce\u770c","\u5c90\u961c\u770c","\u9759\u5ca1\u770c","\u611b\u77e5\u770c","\u4e09\u91cd\u770c","\u6ecb\u8cc0\u770c","\u4eac\u90fd\u5e9c","\u5927\u962a\u5e9c","\u5175\u5eab\u770c","\u5948\u826f\u770c","\u548c\u6b4c\u5c71\u770c","\u9ce5\u53d6\u770c","\u5cf6\u6839\u770c","\u5ca1\u5c71\u770c","\u5e83\u5cf6\u770c","\u5c71\u53e3\u770c","\u5fb3\u5cf6\u770c","\u9999\u5ddd\u770c","\u611b\u5a9b\u770c","\u9ad8\u77e5\u770c","\u798f\u5ca1\u770c","\u4f50\u8cc0\u770c","\u9577\u5d0e\u770c","\u718a\u672c\u770c","\u5927\u5206\u770c","\u5bae\u5d0e\u770c","\u9e7f\u5150\u5cf6\u770c","\u6c96\u7e04\u770c"],t){var i=t.replace(/[\uff10-\uff19]/g,,n=i.match(/\d/g),r=n.join(""),s=this.h(r);s?this.i(s,e):e(this.j())}}return e.prototype.h=function(t){return 7===t.length?t:void 0},e.prototype.j=function(t,e,i,n,r){return void 0===t&&(t=""),void 0===e&&(e=""),void 0===i&&(i=""),void 0===n&&(n=""),void 0===r&&(r=""),{k:t,region:e,l:i,m:n,o:r}},e.prototype.p=function(t){return t&&t[0]&&t[1]?this.j(t[0],this.g[t[0]],t[1],t[2],t[3]):this.j()},e.prototype.q=function(t,e){window.$yubin=function(t){return e(t)};var i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("charset","UTF-8"),i.setAttribute("src",t),document.head.appendChild(i)},e.prototype.i=function(e,i){var n=this,r=e.substr(0,3);return r in t&&e in t[r]?i(this.p(t[r][e])):void this.q(this.URL+"/"+r+".js",function(s){return t[r]=s,i(n.p(s[e]))})},e}();e.Core=i}(YubinBango||(YubinBango={}));var n=["Japan","JP","JPN","JAPAN"],e=["p-region-id","p-region","p-locality","p-street-address","p-extended-address"],YubinBango;!function(t){var i=function(){eturn i.prototype.s=function(){var t=this,e=document.querySelectorAll(".h-adr");[].map.call(e,function(e){if(t.t(e)){var n=e.querySelectorAll(".p-postal-code");n[n.length-1].addEventListener("keyup",!1)}})},i.prototype.v=function(t){return"FORM"===t.tagName||t.classList.contains("h-adr")?t:this.v(t.parentNode)},i.prototype.t=function(t){var e=t.querySelector(".p-country-name"),i=[e.innerHTML,e.value];return i.some(},i.prototype.u=function(e){var i=this,n=e.querySelectorAll(".p-postal-code");new t.Core(this.A(n),function(t){return i.B(e,t)})},i.prototype.A=function(t){return[].map.call(t,function(t){return t.value}).reduce(},i.prototype.B=function(t,i){var n=[this.C,this.D];n.map(},i.prototype.C=function(t,e,i){if(i){var n=e.querySelectorAll("."+t);[].map.call(n,}},i.prototype.D=function(t,e,i){var n={"p-region-id":i.k,"p-region":i.region,"p-locality":i.l,"p-street-address":i.m,"p-extended-address":i.o},r=e.querySelectorAll("."+t);[].map.call(r,function(e){return e.value+=n[t]?n[t]:""})},i}();t.MicroformatDom=i}(YubinBango||(YubinBango={})),document.addEventListener("DOMContentLoaded",!1),!this,function(){"use strict";nction i(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;i>r;r++)n[r-1]=arguments[r];return Object.assign?ws.apply(void 0,[t].concat(n)):(n.forEach(,t)}function n(t){return!!t&&"object"==typeof t}ion u(t){return n(t)&&1===t.nodeType}unction d(t){return function(e,i){return o(e)?(i=u(i=o(i)?ds.querySelector(i):i)?i:ds,i[t]&&i[t](e)):ds[t](null)}}on y(t,e,i){var n=m(t,e);return(i="boolean"!=typeof(i="function"==typeof i?i(t,e):i)?!n:i)!==n?((i?g:v)(t,e),t):void 0}unction b(t){var e={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&0<t.attributes.length)for(var n=t.attributes,r=n.length-1;r>=0;r--){var s=n[r].name,o=n[r].value;"boolean"!=typeof t[s]&&-1===i.indexOf(","+s+",")||(o=null!==o),e[s]=o}return e}r i;to.has(t)&&(0===(i=to.get(t)).handlers[e].length&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&to["delete"](t))}unction H(t){function e(){return!0}f(t.fixed_)return t;if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var n,r,s,o=t||ls.event;for(n in t={},o)"layerX"!==n&&"layerY"!==n&&"keyLocation"!==n&&"webkitMovementX"!==n&&"webkitMovementY"!==n&&("returnValue"===n&&o.preventDefault||(t[n]=o[n]));t.target||(t.target=t.srcElement||ds),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=t.defaultPrevented=!1,t.stopPropagation=t.isPropagationStopped=i,t.stopImmediatePropagation=t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX&&(r=ds.documentElement,s=ds.body,t.pageX=t.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)),t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t.fixed_=!0,t}function q(t,e,i){if(Array.isArray(e))return U(q,t,e,i);to.has(t)||to.set(t,{});var n=to.get(t);n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),i.guid||(i.guid=Qs++),n.handlers[e].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(e,i){if(!n.disabled){e=H(e);var r=n.handlers[e.type];if(r)for(var s=r.slice(0),o=0,a=s.length;a>o&&!e.isImmediatePropagationStopped();o++)try{s[o].call(t,e,i)}catch(e){bs.error(e)}}}),1===n.handlers[e].length&&(t.addEventListener?(i=!1,eo()&&-1<io.indexOf(e)&&(i={passive:!0}),t.addEventListener(e,n.dispatcher,i)):t.attachEvent&&t.attachEvent("on"+e,n.dispatcher))}nction z(t,e,i){function n(){$(t,e,n),i.apply(this,arguments)}return Array.isArray(e)?U(z,t,e,i):(n.guid=i.guid=i.guid||Qs++,void q(t,e,n))}nction K(t,e){var i=ls.performance.now();return function G(t,e,i,n){ar s;return void 0===n&&(n=ls),r.cancel=r}function X(){}n rt(t,e){if(e=(e=void 0===e?{}:e).eventBusKey){if(!t[e].nodeName)throw new Error('The eventBusKey "'+e+'" does not refer to an element.');t.eventBusEl_=t[e]}else t.eventBusEl_=h("span",{className:"vjs-event-bus"});return i(t,so),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(t){t()}),t.on("dispose",,t}unction ot(t){return"string"!=typeof t?t:t.replace(/./,function(t){return t.toLowerCase()})}function at(t){return"string"!=typeof t?t:t.replace(/./,function(t){
return t.toUpperCase()})}function lt(){for(var t={},i=arguments.length,n=new Array(i),s=0;i>s;s++)n[s]=arguments[s];return n.forEach(,t}function ut(t,e,i,n){return function(t,e,i){if("number"!=typeof e||0>e||e>i)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+i+").")}(t,n,i.length-1),i[n][e]}on gt(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce({cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})})}function vt(t,e){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&e.id!==t[i].id&&(t[i].enabled=!1)}n St(t){"undefined"==typeof t.callback)throw new Error("callback argument missing");var r,s,o,a=!1,l=u=t.xhr||null,c=(u=u||new(t.cors||t.useXDR?xt.XDomainRequest:xt.XMLHttpRequest)).url=t.uri||t.url,d=u.method=t.method||"GET",h=t.body||t.data,p=u.headers=t.headers||{},f=!!t.sync,m=!1,g={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:u};if("json"in t&&!1!==t.json&&(m=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),h=JSON.stringify(!0===t.json?h:t.json))),u.onreadystatechange=u.onload=n,u.onerror=i,u.onprogress=function(){},u.onabort=function(){s=!0},u.ontimeout=i,u.open(d,c,!f,t.username,t.password),f||(u.withCredentials=!!t.withCredentials),!f&&0<t.timeout&&(o=setTimeout(t.timeout)),u.setRequestHeader)for(r in p)p.hasOwnProperty(r)&&u.setRequestHeader(r,p[r]);else if(t.headers&&!t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(u.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(u),u.send(h||null),u}nction Ot(){}unction Dt(t){eturn t=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/),t?t[3]?e(t[1],t[2],t[3].replace(":",""),t[4]):59<t[1]?e(t[1],t[2],0,t[4]):e(0,t[1],t[2],t[4]):null}nction Lt(t,e,i){r s=t;if(r(),e.startTime=n(),r(),"-->"!==t.substr(0,3))throw new At(At.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+s);t=t.substr(3),r(),e.endTime=n(),r(),t,e)}unction Nt(t){ar i=[],n="";if(!t||!t.childNodes)return"ltr";for(e(i,t);n=i);)for(var r=0;r<n.length;r++)if(n.charCodeAt(r)))return"rtl";return"ltr"}function Rt(){}nction Ft(t,e,i,n){var r,s=new Bt(e),o=e.cue,a=o),l=[];if(o.snapToLines){switch(o.vertical){case"":l=["+y","-y"],r="height";break;case"rl":l=["+x","-x"],r="width";break;case"lr":l=["-x","+x"],r="width"}var u=s.lineHeight,c=u*Math.round(a),d=i[r]+u,h=l[0];Math.abs(c)>d&&(c=0>c?-1:1,c*=Math.ceil(d/u)*u),0>a&&(c+=""===o.vertical?i.height:i.width,l=l.reverse()),s.move(h,c)}else{var p=s.lineHeight/i.height*100;switch(o.lineAlign){case"center":a-=p/2;break;case"end":a-=p}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}l=["+y","-x","+x","-y"],s=new Bt(e)}s=s,l),e.move(s.toCSSCompatValues(i))}function Ut(){}unction qt(t,e,i){this.hasBeenReset=!1;var n="",r=!1,s=t,o=e,a=i,l=null,u="",c=!0,d="auto",h="start",p="auto",f="auto",m=100,g="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:,pauseOnExit:{enumerable:!0,get:function(){return r},set:,startTime:{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");s=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return o},set:,text:{enumerable:!0,get:function(){return a},set:,region:{enumerable:!0,get:function(){return l},set:,vertical:{enumerable:!0,get:function(){return u},set:function(t){if(t="string"==typeof(t=t)&&!!Yo[t.toLowerCase()]&&t.toLowerCase(),!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:,line:{enumerable:!0,get:function(){return d},set:,lineAlign:{enumerable:!0,get:function(){return h},set:function(t){t=Ht(t),t&&(h=t,this.hasBeenReset=!0)}},position:{enumerable:!0,get:function(){return p},set:function(t){if(0>t||t>100)throw new Error("Position must be between 0 and 100.");p=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return f},set:function(t){t=Ht(t),t&&(f=t,this.hasBeenReset=!0)}},size:{enumerable:!0,get:function(){return m},set:,align:{enumerable:!0,get:function(){return g},set:function(t){if(t=Ht(t),!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");g=t,this.hasBeenReset=!0}}}),this.displayState=void 0}unction Wt(){var t=100,e=3,i=0,n=100,r=0,s=100,o="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!$t(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:,regionAnchorY:{enumerable:!0,get:function(){return n},set:function(t){if(!$t(t))throw new Error("RegionAnchorX must be between 0 and 100.");n=t}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(t){if(!$t(t))throw new Error("RegionAnchorY must be between 0 and 100.");i=t}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!$t(t))throw new Error("ViewportAnchorY must be between 0 and 100.");s=t}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:,scroll:{enumerable:!0,get:function(){return o},set:function(t){t="string"==typeof(t=t)&&!!Xo[t.toLowerCase()]&&t.toLowerCase(),!1===t||(o=t)}}})}function zt(t,e,n){t.setTimeout(function(){return function r(t,e,n,s,o,a){void 0===t&&(t={}),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===a&&(a=!1);var l=e,e=l[0],u=l.slice(1);if("string"==typeof e)r(t,Zo[e],n,s,o,a);else if(e){var c=Kt(s,e);if(!c.setSource)return o.push(c),r(t,u,n,s,o,a);c.setSource(i({},t),}else u.length?r(t,u,n,s,o,a):a?n(t,o):r(t,Zo["*"],n,s,o,!0)}(e,Zo[e.type],n,t)},1)} te(t,e){t=0>t?0:t;var i=Math.floor(t%60),n=Math.floor(t/60%60),r=Math.floor(t/3600),s=Math.floor(e/60%60),e=Math.floor(e/3600);return(r=0<(r=isNaN(t)||t===1/0?n=i="-":r)||e>0?r+":":"")+(n=((r||s>=10)&&10>n?"0"+n:n)+":")+(i=10>i?"0"+i:i)}ction re(t,e){return(t=e?e(t):t)&&"none"!==t?t:void 0}nction ae(t){var e,i,n,r=t.el();r.resetSourceWatch_||(e={},i=oe([t.el(),ls.HTMLMediaElement.prototype,ls.Element.prototype,xa],"innerHTML"),n=function(e){return function(){for(var i=arguments.length,n=new Array(i),s=0;i>s;s++)n[s]=arguments[s];var o=e.apply(r,n);return se(t),o}},["append","appendChild","insertAdjacentHTML"].forEach(,Object.defineProperty(r,"innerHTML",lt(i,{set:n(i.set)})),r.resetSourceWatch_=t.one("sourceset",r.resetSourceWatch_))}function le(t){var e,i,n,r;t.featuresSourceset&&((e=t.el()).resetSourceset_||(i=oe([t.el(),ls.HTMLMediaElement.prototype,Sa],"src"),n=e.setAttribute,r=e.load,Object.defineProperty(e,"src",lt(i,{set:)),e.setAttribute=e.load=e.currentSrc?t.triggerSourceset(e.currentSrc):se(t)||ae(t),e.resetSourceset_=)}ion fe(t,e){return e.prototype.name=t,function(){he(this,{name:t,plugin:e,instance:null},!0);for(var i=arguments.length,n=new Array(i),r=0;i>r;r++)n[r]=arguments[r];var s=Na(e,[this].concat(n));return this[t]=function(){return s},he(this,s.getEventHash()),s}}function me(t,e,i){if(s=me.getPlayer(t))return e&&bs.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&s.ready(i),s;var r="string"==typeof t?Vs("#"+qa(t)):t;if(!u(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");r.ownerDocument.defaultView&&r.ownerDocument.body.contains(r)||bs.warn("The element supplied is not included in the DOM"),e=e||{},me.hooks("beforesetup").forEach(function(t){t=t(r,lt(e)),n(t)&&!Array.isArray(t)?e=lt(e,t):bs.error("please return an object in beforesetup hooks")});var s=new(uo.getComponent("Player"))(r,e,i);return me.hooks("setup").forEach(,s}}nction Le(t,e){for(var i in t)e[i]=t[i]}function Me(){this.attributeNames={}}ction Be(){}nction He(){}nction We(t,e,i){var n=qe(e,i);if(!(n>=0))throw je(8,new Error(t.tagName+"@"+i));for(var r,s=e.length-1;s>n;)e[n]=e[++n];e.length=s,!t||(r=t.ownerDocument)&&(Xe(r,t,i),i.ownerElement=null)}unction Ve(){}unction Ke(t,e){if(e(t))return 1;if(t=t.firstChild)do if(Ke(t,e))return 1;while(t=t.nextSibling)}function Ge(){}ction Ze(t,e,i){var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===xl){var r=e.firstChild;if(null==r)return e;var s=e.lastChild}else r=s=e;for(n=i?i.previousSibling:t.lastChild,r.previousSibling=n,s.nextSibling=i,n?n.nextSibling=r:t.firstChild=r,null==i?t.lastChild=s:i.previousSibling=s;r.parentNode=t,r!==s&&(r=r.nextSibling););return Qe(t.ownerDocument||t,t),e.nodeType==xl&&(e.firstChild=e.lastChild=null),e}function ti(){this._nsMap={}}function ei(){}function ii(){}function ni(){}function ri(){}function si(){}function oi(){}function ai(){}function li(){}function ui(){}function ci(){}function di(){}ction mi(t,e,i,n,r){if(n){if(!(t=n(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case ml:(r=r||[]).length;var s=t.attributes,o=s.length,a=t.firstChild,l=t.tagName;i=fl===t.namespaceURI||i,e.push("<",l);for(var u=0;o>u;u++)"xmlns"==(c=s.item(u)).prefix?r.push({prefix:c.localName,namespace:c.value}):"xmlns"==c.nodeName&&r.push({prefix:"",namespace:c.value});for(var c,d,h,u=0;o>u;u++)fi(c=s.item(u),0,r)&&(d=c.prefix||"",h=c.namespaceURI,e.push(d?" xmlns:"+d:" xmlns",'="',h,'"'),r.push({prefix:d,namespace:h})),mi(c,e,i,n,r);if(fi(t,0,r)&&(d=t.prefix||"",h=t.namespaceURI,e.push(d?" xmlns:"+d:" xmlns",'="',h,'"'),r.push({prefix:d,namespace:h})),a||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(e.push(">"),i&&/^script$/i.test(l))for(;a;)a.data?e.push(a.data):mi(a,e,i,n,r),a=a.nextSibling;else for(;a;)mi(a,e,i,n,r),a=a.nextSibling;e.push("</",l,">")}else e.push("/>");return;case wl:case xl:for(a=t.firstChild;a;)mi(a,e,i,n,r),a=a.nextSibling;return;case gl:return e.push(" ",t.name,'="',t.value.replace(/[&"]/g,Ye),'"');case vl:return e.push(t.data.replace(/[<&]/g,Ye).replace(/]]>/g,"]]&gt;"));case yl:return e.push("<![CDATA[",t.data,"]]>");case Tl:return e.push("<!--",t.data,"-->");case kl:var p=t.publicId,l=t.systemId;return e.push("<!DOCTYPE ",t.name),void(p?(e.push(" PUBLIC ",p),l&&"."!=l&&e.push(" ",l),e.push(">")):l&&"."!=l?e.push(" SYSTEM ",l,">"):((l=t.internalSubset)&&e.push(" [",l,"]"),e.push(">")));case bl:return e.push("<?",t.target," ",t.data,"?>");case _l:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}nction yi(){for(var t=arguments.length,e=new Array(t),i=0;t>i;i++)e[i]=arguments[i];return e.reduce({})}tion ki(t){var e,i=void 0===(o=t.type)?"static":o,n=t.duration,r=t.timescale,s=void 0===r?1:r,o=t.sourceDuration,t=function(t,e){for(var i=[],n=t;e>n;n++)i.push(n);return i}((r=Nl[i](t)).start,r.end).map((e=t,);return"static"===i&&(t[i=t.length-1].duration=o-n/s*i),t}ion Ai(t,e,i){var n;return void 0===e&&(e={}),
void 0===i&&(i=!1),t=t.reduce(function(t,r){var s=r.attributes.role&&r.attributes.role.value||"",o=r.attributes.lang||"",a=r.attributes.label||"main";t[a=o&&!r.attributes.label?r.attributes.lang+(s?" ("+s+")":""):a]||(t[a]={language:o,autoselect:!0,"default":"main"===s,playlists:[],uri:""});var l,u,c,d,d=Oi((u=i,c=(l=r).attributes,d=l.segments,o=l.sidx,d={attributes:((l={NAME:c.id,BANDWIDTH:c.bandwidth,CODECS:c.codecs})["PROGRAM-ID"]=1,l),uri:"",endList:"static"===(c.type||"static"),timeline:c.periodIndex,resolvedUri:"",targetDuration:c.duration,segments:d,mediaSequence:d.length?d[0].number:1},c.contentProtection&&(d.contentProtection=c.contentProtection),o&&(d.sidx=o),u&&(d.attributes.AUDIO="audio",d.attributes.SUBTITLES="subs"),d),e);return t[a].playlists.push(d),"undefined"==typeof n&&"main"===s&&((n=r)["default"]=!0),t},{}),n||(t[Object.keys(t)[0]]["default"]=!0),t}unction Ii(t){return"video/mp4"===(t=t.attributes).mimeType||"video/webm"===t.mimeType||"video"===t.contentType}nction Mi(t,e,i){if(void 0===i&&(i={}),!t.length)return{};var n=(c=t[0].attributes).sourceDuration,r=void 0===(u=c.type)?"static":u,s=c.suggestedPresentationDelay,o=c.minimumUpdatePeriod,a=Ei(t.filter(Ii)).map(Di),l=Ei(t.filter(Pi)),u=t.filter(Li),c=t.map(function(t){return t.attributes.captionServices}).filter(Boolean),a={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:((t={AUDIO:{},VIDEO:{}})["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:n,playlists:a,i)};o>=0&&(a.minimumUpdatePeriod=1e3*o),e&&(a.locations=e),"dynamic"===r&&(a.suggestedPresentationDelay=s);var d,s=0===a.playlists.length;return l.length&&(a.mediaGroups.AUDIO.audio=Ai(l,i,s)),u.length&&(a.mediaGroups.SUBTITLES.subs=(void 0===(d=i)&&(d={}),u.reduce(function(t,e){var i=e.attributes.lang||"text";return t[i]||(t[i]={language:i,"default":!1,autoselect:!1,playlists:[],uri:""}),t[i].playlists.push(Oi(function(t){var e=t.attributes,i=t.segments;return"undefined"==typeof i&&(i=[{uri:e.baseUrl,timeline:e.periodIndex,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration),(t={NAME:e.id,BANDWIDTH:e.bandwidth})["PROGRAM-ID"]=1,e.codecs&&(t.CODECS=e.codecs),{attributes:t,uri:"",endList:"static"===(e.type||"static"),timeline:e.periodIndex,resolvedUri:e.baseUrl||"",targetDuration:e.duration,segments:i,mediaSequence:i.length?i[0].number:1}}(e),d)),t},{}))),c.length&&(a.mediaGroups["CLOSED-CAPTIONS"].cc=c.reduce(function(t,e){return e&&e.forEach(function(e){var i=e.channel,n=e.language;t[n]={autoselect:!1,"default":!1,instreamId:i,language:n},e.hasOwnProperty("aspectRatio")&&(t[n].aspectRatio=e.aspectRatio),e.hasOwnProperty("easyReader")&&(t[n].easyReader=e.easyReader),e.hasOwnProperty("3D")&&(t[n]["3D"]=e["3D"])}),t},{})),a}function Ni(t,e){for(var i,n,r,s,o,a,l=t.type,u=void 0===l?"static":l,c=void 0===(l=t.minimumUpdatePeriod)?0:l,d=void 0===(l=t.media)?"":l,h=t.sourceDuration,p=void 0===(l=t.timescale)?1:l,f=void 0===(l=t.startNumber)?1:l,m=t.periodIndex,g=[],v=-1,y=0;y<e.length;y++){var _=e[y],b=_.d,T=_.r||0,w=_.t||0;0>v&&(v=w),w&&w>v&&(v=w);var k,x=void 0;x=0>T?(k=y+1)===e.length?"dynamic"===u&&c>0&&0<d.indexOf("$Number$")?(i=v,n=b,_=a=o=s=r=void 0,r=(w=t).NOW,s=w.clientOffset,o=w.availabilityStartTime,a=w.timescale,_=w.start,w=w.minimumUpdatePeriod,Math.ceil((((r+s)/1e3+(void 0===w?0:w)-(o+(void 0===_?0:_)))*(void 0===a?1:a)-i)/n)):(h*p-v)/b:(e[k].t-v)/b:T+1;for(var S=f+g.length+x,C=f+g.length;S>C;)g.push({number:C,duration:b/p,time:v,timeline:m}),v+=b,C++}return g}function Ri(t,e){return t.replace(Rl,(i=e,function(t,e,n,r){return"$$"===t?"$":"undefined"==typeof i[e]?t:(t=""+i[e],"RepresentationID"===e||(r=n?parseInt(r,10):1)<=t.length?t:new Array(r-t.length+1).join("0")+t)}));var i}unction Bi(t,e){var i=t.duration,n=void 0===(n=t.segmentUrls)?[]:n;if(!i&&!e||i&&e)throw new Error(Ll);var r,s=n.map(;return i&&(r=ki(t)),(r=e?Ni(t,e):r).map(function(t,e){return s[e]?(e=s[e],e.timeline=t.timeline,e.duration=t.duration,e.number=t.number,e):void 0}).filter(function(t){return t})}n Vi(t,e,i){return function(n){var r=$i(n),s=Wi(e,Ui(n,"BaseURL")),o=Ui(n,"Role")[0],o={role:$i(o)},r=yi(t,r,o),o=Ui(n,"Accessibility")[0],o="urn:scte:dash:cc:cea-608:2015"===(o=$i(o)).schemeIdUri?o.value.split(";").map(:"urn:scte:dash:cc:cea-708:2015"===o.schemeIdUri?o.value.split(";").map(:void 0;o&&(r=yi(r,{captionServices:o})),o=Ui(n,"Label")[0],o&&o.childNodes.length&&(a=o.childNodes[0].nodeValue.trim(),r=yi(r,{label:a}));var a=Ui(n,"ContentProtection").reduce({});Object.keys(a).length&&(r=yi(r,{contentProtection:a}));var l,u,c,a=zi(n),n=Ui(n,"Representation"),a=yi(i,a);return _i(n.map((l=r,u=s,c=a,))}}ction Xi(t){return function(t){if(t=Ui(t,"UTCTiming")[0],!t)return null;var e=$i(t);switch(e.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":e.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":e.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":e.method="DIRECT",e.value=Date.parse(e.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Ml)}return e}(Ki(t))}unction Ji(t,e){var i=void 0!==(e=(void 0===e?{}:e).le)&&e;t=Hl(t="bigint"!=typeof t&&"number"!=typeof t||"number"==typeof t&&t!=t?0:t);for(var n=(e=t,Math.ceil(e.toString(2).length/8)),r=new Uint8Array(new ArrayBuffer(n)),s=0;n>s;s++){var o=i?s:Math.abs(s+1-r.length);r[o]=Number(t/ql[s]&Hl(255)),0>t&&(r[o]=Math.abs(~r[o]),r[o]-=0===s?1:2)}return r}ion sn(t,e,i,n){void 0===i&&(i=!0),void 0===n&&(n=!1);var r=t[e]),s=t.subarray(e,e+r);return i&&((s=Array.prototype.slice.call(t,e,e+r))[0]^=zl[r-1]),{length:r,value:function(t,e){var i=void 0===e?{}:e,e=i.signed,e=void 0!==e&&e,i=i.le,n=void 0!==i&&i;return t=Qi(t),i=n?"reduce":"reduceRight",i=(t[i]||Array.prototype[i]).call(t,Hl(0)),!e||(e=ql[t.length]/Hl(2)-Hl(1))<(i=Hl(i))&&(i-=e,i-=e,i-=Hl(2)),Number(i)}(s,{signed:n}),bytes:s}}ction un(t,e,i,n){void 0===n&&(n=1/0),t=Qi(t),i=[].concat(i);for(var r,s=0,o=0;s<t.length&&(n>o||r);){var a=void 0;if(tn(t.subarray(s),Vl)?a=4:tn(t.subarray(s),Yl)&&(a=3),a){if(o++,r)return function(t){for(var e=[],i=1;i<t.length-2;)tn(t.subarray(i,i+3),Kl)&&(e.push(i+2),i++),i++;if(0===e.length)return t;for(var n=t.length-e.length,r=new Uint8Array(n),s=0,i=0;n>i;s++,i++)s===e[0]&&(s++,e.shift()),r[i]=t[s];return r}(t.subarray(r,s));var l=void 0;"h264"===e?l=31&t[s+a]:"h265"===e&&(l=t[s+a]>>1&63),-1!==i.indexOf(l)&&(r=s+a),s+=a+("h264"===e?1:2)}else s++}return t.subarray(0,0)}tion fn(t,e){return pn(t,function(t,i){return e>=t-.1&&i+.1>=e})}ction yn(t){return t&&t.length&&t.end?t.end(t.length-1):void 0}nction Tn(t){var e=t.preloadSegment;return e?(t=e.parts,e=(e.preloadHints||[]).reduce(0),e+=t&&t.length?t.length:0):void 0}ction Sn(t){var e=t.defaultDuration,i=t.durationList,n=t.startIndex,r=t.endIndex,s=0;if(n>r&&(n=(t=[r,n])[0],r=t[1]),0>n){for(var o=n;o<Math.min(0,r);o++)s+=e;n=0}for(var a=n;r>a;a++)s+=i[a].duration;return s}){void 0===i&&(i=qn);var n=ou(t,{}),r=n.playlists[e.id];if(!r)return null;if(i(r,e))return null;e.segments=Hn(e);var s=ou(r,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,r.segments){if(e.skip){e.segments=e.segments||[];for(var o=0;o<e.skip.skippedSegments;o++)e.segments.unshift({skipped:!0})}s.segments=Fn(r.segments,e.segments,e.mediaSequence-r.mediaSequence)}s.segments.forEach(function(t){Un(t,s.resolvedUri)});for(var a=0;a<n.playlists.length;a++)n.playlists[a].id===e.id&&(n.playlists[a]=s);return n.playlists[e.id]=s,n.playlists[e.uri]=s,Rn(t,function(t){if(t.playlists)for(var i=0;i<t.playlists.length;i++)e.id===t.playlists[i].id&&(t.playlists[i]=e)}),n}ion Gn(t){return t>=32&&126>t?String.fromCharCode(t):"."}tion tr(t){var e=t.playlist,i=t.time,n=void 0===i?void 0:i;if(!(i=t.callback))throw new Error("getProgramTime: callback must be provided");return e&&void 0!==n?(t=n,e))?"estimate"===t.type?i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:t.estimatedStart}):(e={mediaSeconds:n},(t=n,t.segment))&&(e.programDateTime=t.toISOString()),i(null,e)):i({message:"valid programTime was not found"}):i({message:"getProgramTime: playlist and time must be provided"})}function er(t){var e=t.programTime,i=t.playlist,n=t.retryCount,r=void 0===n?2:n,s=t.seekTo,o=t.pauseAfterSeek,a=void 0===o||o,l=t.tech,u=t.callback;if(!u)throw new Error("seekToProgramTime: callback must be provided");return"undefined"!=typeof e&&i&&s?i.endList||l.hasStarted_?i)?(n=function(t,e){var i;try{i=new Date(t)}catch(t){return null}if(!e||!e.segments||0===e.segments.length)return null;if(i<(r=e.segments[0]).dateTimeObject)return null;for(var n=0;n<e.segments.length-1;n++){var r=e.segments[n];if(i<e.segments[n+1].dateTimeObject)break}var s,o=e.segments[e.segments.length-1],t=o.dateTimeObject,s=o.videoTimingInfo?(s=o.videoTimingInfo).transmuxedPresentationEnd-s.transmuxedPresentationStart-s.transmuxerPrependedSeconds:o.duration+.25*o.duration;return new Date(t.getTime()+1e3*s)<i?null:{segment:r=i>t?o:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:ru.duration(e,e.mediaSequence+e.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"}}(e,i))?(o=n.segment,t=o.dateTimeObject,e),"estimate"===n.type?0===r?u({message:e+" is not buffered yet. Try again"}):(s(n.estimatedStart+t),void l.one("seeked",):(t=o.start+t,l.one("seeked",,a&&l.pause(),void s(t))):u({message:e+" was not found in the stream"}):u({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri}):u({message:"player must be playing a live stream to start buffering"}):u({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"})}function ir(t,e){return 4===t.readyState?e():void 0}function nr(t,e,i){unction r(t,e){if(!a){if(t)return n(t,e,"",o);var i=e.responseText.substring(o&&o.byteLength||0,e.responseText.length);return o=function(){for(var t=arguments.length,e=new Array(t),i=0;t>i;i++)e[i]=arguments[i];if((e=e.filter().length<=1)return Qi(e[0]);var n=e.reduce(0),r=new Uint8Array(n),s=0;return e.forEach(,r}(o,Zi(i,!0)),s=s||en(o),o.length<10||s&&o.length<s+2?ir(e,function(){return n(t,e,"",o)}):(i=cn(o),"ts"===i&&o.length<188||!i&&o.length<376?ir(e,:n(null,e,i,o))}}var s,o=[],a=!1,l=e({uri:t,beforeSend:,;return l}ction ar(t){var e=t.transmuxer,i=t.bytes,n=t.audioAppendStart,r=t.gopsToAlignWith,s=t.remux,o=t.onData,a=t.onTrackInfo,l=t.onAudioTimingInfo,u=t.onVideoTimingInfo,c=t.onVideoSegmentTimingInfo,d=t.onAudioSegmentTimingInfo,h=t.onId3,p=t.onCaptions,f=t.onDone,m=t.onEndedTimeline,g=t.onTransmuxerLog,v=t.isEndOfTimeline,y={buffer:[]},_=v;e.onmessage=function(i){var n;e.currentTransmux===t&&("data"===i.data.action&&function(t,e,i){var n=t.data.segment,r=n.type,s=n.initSegment,o=n.captions,a=n.captionStreams,l=n.metadata,u=n.videoFrameDtsTime,n=n.videoFramePtsTime;e.buffer.push({captions:o,captionStreams:a,metadata:l}),t=t.data.segment.boxes||{data:t.data.segment.data},s={type:r,data:new Uint8Array(t.data,t.data.byteOffset,t.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)},"undefined"!=typeof u&&(s.videoFrameDtsTime=u),"undefined"!=typeof n&&(s.videoFramePtsTime=n),i(s)}(i,y,o),"trackinfo"===i.data.action&&a(i.data.trackInfo),"gopInfo"===i.data.action&&(y.gopInfo=i.data.gopInfo),"audioTimingInfo"===i.data.action&&l(i.data.audioTimingInfo),"videoTimingInfo"===i.data.action&&u(i.data.videoTimingInfo),"videoSegmentTimingInfo"===i.data.action&&c(i.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===i.data.action&&d(i.data.audioSegmentTimingInfo),"id3Frame"===i.data.action&&h([i.data.id3Frame],i.data.id3Frame.dispatchType),"caption"===i.data.action&&p(i.data.caption),"endedtimeline"===i.data.action&&(_=!1,m()),"log"===i.data.action&&g(i.data.log),"transmuxed"===i.data.type&&(_||(e.onmessage=null,i=(n={transmuxedData:y,callback:f}).transmuxedData,n=n.callback,i.buffer=[],n(i),fu(e))))},n&&e.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(r)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),"undefined"!=typeof s&&e.postMessage({action:"setRemux",remux:s}),i.byteLength&&(r=i instanceof ArrayBuffer?i:i.buffer,s=i instanceof ArrayBuffer?0:i.byteOffset,e.postMessage({action:"push",data:r,byteOffset:s,byteLength:i.byteLength},[r])),v&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})}unction ur(t,e){return e.currentTransmux?void e.transmuxQueue.push(lr.bind(null,e,t)):(e.currentTransmux=t,lr(e,t),0)}function cr(t){return t.transmuxer.currentTransmux?void t.transmuxer.transmuxQueue.push(t):(t.transmuxer.currentTransmux=t,void ar(t))}ion gr(t){var e=t.segment,i=t.finishProcessingFn,n=t.responseType;return function(t,r){return(t=pr(t,r))?i(t,e):(t="arraybuffer"!==n&&r.responseText?r.responseText.substring(e.lastReachedChar||0)):r.response,e.stats={bandwidth:(r=r).bandwidth,bytesReceived:r.bytesReceived||0,roundTripTime:r.roundTripTime||0},e.key?e.encryptedBytes=new Uint8Array(t):e.bytes=new Uint8Array(t),i(null,e))}}function vr(t){var e=t.segment,i=t.bytes,n=t.trackInfoFn,r=t.timingInfoFn,s=t.videoSegmentTimingInfoFn,o=t.audioSegmentTimingInfoFn,a=t.id3Fn,l=t.captionsFn,u=t.isEndOfTimeline,c=t.endedTimelineFn,d=t.dataFn,h=t.doneFn,p=t.onTransmuxerLog,t=e.map&&e.map.tracks||{},f=Boolean(t.audio&&t.video),m=r.bind(null,e,"audio","start"),g=r.bind(null,e,"audio","end"),v=r.bind(null,e,"video","start"),y=r.bind(null,e,"video","end");dr({action:"probeTs",transmuxer:e.transmuxer,data:i,baseStartTime:e.baseStartTime,callback:function(t){e.bytes=i=t.data,t=t.result,t&&(n(e,{hasAudio:t.hasAudio,hasVideo:t.hasVideo,isMuxed:f}),n=null,t.hasAudio&&!f&&m(t.audioStart),t.hasVideo&&v(t.videoStart),v=m=null),cr({bytes:i,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,remux:f,onData:onTrackInfo:onAudioTimingInfo:function(t){m&&"undefined"!=typeof t.start&&(m(t.start),m=null),g&&"undefined"!=typeof t.end&&g(t.end)},onVideoTimingInfo:onVideoSegmentTimingInfo:function(t){s(t)},onAudioSegmentTimingInfo:function(t){o(t)},onId3:onCaptions:isEndOfTimeline:u,onEndedTimeline:function(){c()},onTransmuxerLog:p,onDone:)}})}ction Tr(t){var e=t.segment,i=t.progressFn;return t.trackInfoFn,t.timingInfoFn,t.videoSegmentTimingInfoFn,t.audioSegmentTimingInfoFn,t.id3Fn,t.captionsFn,t.isEndOfTimeline,t.endedTimelineFn,t.dataFn,function(t){var n,r=t.target;return r.aborted?void 0:(e.stats=me.mergeOptions(e.stats,(r=(n=t).target,(r={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-r.requestTime||0}).bytesReceived=n.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),i(t,e))}}function wr(t){var e,i,n,r=t.xhr,s=t.xhrOptions,o=t.decryptionWorker,a=t.segment,l=t.abortFn,u=t.progressFn,c=t.trackInfoFn,d=t.timingInfoFn,h=t.videoSegmentTimingInfoFn,p=t.audioSegmentTimingInfoFn,f=t.id3Fn,m=t.captionsFn,g=t.isEndOfTimeline,v=t.endedTimelineFn,y=t.dataFn,_=t.doneFn,t=t.onTransmuxerLog,b=[],_=br({activeXhrs:b,decryptionWorker:o,trackInfoFn:c,timingInfoFn:d,videoSegmentTimingInfoFn:h,audioSegmentTimingInfoFn:p,id3Fn:f,captionsFn:m,isEndOfTimeline:g,endedTimelineFn:v,dataFn:y,doneFn:_,onTransmuxerLog:t});a.key&&!a.key.bytes&&(t=[a.key],a.map&&!a.map.bytes&&a.map.key&&a.map.key.resolvedUri===a.key.resolvedUri&&t.push(a.map.key),t=r(me.mergeOptions(s,{uri:a.key.resolvedUri,responseType:"arraybuffer"}),fr(a,t,_)),b.push(t)),a.map&&!a.map.bytes&&(!a.map.key||a.key&&a.key.resolvedUri===a.map.key.resolvedUri||(e=r(me.mergeOptions(s,{uri:a.map.key.resolvedUri,responseType:"arraybuffer"}),fr(a,[a.map.key],_)),b.push(e)),e=r(me.mergeOptions(s,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:Yn(a.map)}),(i=(e={segment:a,finishProcessingFn:_}).segment,n=e.finishProcessingFn,),b.push(e)),s=me.mergeOptions(s,{uri:a.part&&a.part.resolvedUri||a.resolvedUri,responseType:"arraybuffer",headers:Yn(a)}),(s=r(s,gr({segment:a,finishProcessingFn:_,responseType:s.responseType}))).addEventListener("progress",Tr({segment:a,progressFn:u,trackInfoFn:c,timingInfoFn:d,videoSegmentTimingInfoFn:h,audioSegmentTimingInfoFn:p,id3Fn:f,captionsFn:m,isEndOfTimeline:g,endedTimelineFn:v,dataFn:y})),b.push(s);var T={};return b.forEach(,ction Cr(t,e){var i,n=e.attributes||{},r=xr(function(t){return t=t.attributes||{},t.CODECS?ke(t.CODECS):void 0}(e)||[]);return kr(t,e)&&!r.audio&&!t,e)&&(i=xr(function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var i,n=t.mediaGroups.AUDIO[e];if(!n)return null;for(i in n){var r=n[i];if(r["default"]&&r.playlists)return ke(r.playlists[0].attributes.CODECS)}return null}(t,n.AUDIO)||[])).audio&&(r.audio=i.audio),r}tion Ir(t,e,i,n,r,s){if(t){var o={bandwidth:e,width:i,height:n,limitRenditionByPlayerDimensions:r},a=t.playlists;ru.isAudioOnly(t)&&(a=s.getAudioTrackPlaylists_(),o.audioOnly=!0);var l=a.map(;Ar(l,function(t,e){return t.bandwidth-e.bandwidth});var t=(l=l.filter(function(t){return!ru.isIncompatible(t.playlist)})).filter(function(t){return ru.isEnabled(t.playlist)}),s=(t=t.length?t:l.filter().filter(,u=s[s.length-1],a=s.filter(function(t){return t.bandwidth===u.bandwidth})[0];if(!1===r){var c=a||t[0]||l[0];return c&&c.playlist?(r=a?"bandwidthBestRep":"sortedPlaylistReps",t[0]&&(r="enabledPlaylistReps"),Tu("choosing "+Er(c)+" using "+r+" with options",o),c.playlist):(Tu("could not choose a playlist with options",o),null)}c=s.filter(,Ar(c,function(t,e){return t.width-e.width});var d,h,s=c.filter(,u=s[s.length-1],s=s.filter(function(t){return t.bandwidth===u.bandwidth})[0];s||(p=(d=c.filter().filter(,u=p[p.length-1],h=p.filter([0]);var p=h||s||a||t[0]||l[0];return p&&p.playlist?(l="sortedPlaylistReps",h?l="resolutionPlusOneRep":s?l="resolutionBestRep":a?l="bandwidthBestRep":t[0]&&(l="enabledPlaylistReps"),Tu("choosing "+Er(p)+" using "+l+" with options",o),p.playlist):(Tu("could not choose a playlist with options",o),null)}}function Pr(t){var e=t.inbandTextTracks,i=t.metadataArray,n=t.timestampOffset,r=t.videoDuration;if(i){var s=ls.WebKitDataCue||ls.VTTCue,o=e.metadataTrack_;if(o&&(i.forEach(function(t){var e=t.cueTime+n;!("number"!=typeof e||ls.isNaN(e)||0>e)&&1/0>e&&t.frames.forEach(}),o.cues&&o.cues.length)){for(var a=o.cues,l=[],u=0;u<a.length;u++)a[u]&&l.push(a[u]);var c=l.reduce({}),d=Object.keys(c).sort(;d.forEach(}}}tion jr(t){var e=t.timelineChangeController,i=t.currentTimeline,n=t.segmentTimeline,r=t.loaderType,t=t.audioDisabled;if(i!==n){if("audio"===r)return i=e.lastTimelineChange({type:"main"}),!i||i.to!==n;if("main"===r&&t)return e=e.pendingTimelineChange({type:"audio"}),!e||e.to!==n}}unction Fr(t,e){if("hls"!==e)return null;var i=function(t,e){return t=t&&"number"==typeof t.start&&"number"==typeof t.end?t.end-t.start:0,e=e&&"number"==typeof e.start&&"number"==typeof e.end?e.end-e.start:0,Math.max(t,e)}(t.audioTimingInfo,t.videoTimingInfo);if(!i)return null;var n=t.playlist.targetDuration,r=Br({segmentDuration:i,maxDuration:2*n}),e=Br({segmentDuration:i,maxDuration:n}),n="Segment with index "+t.mediaIndex+" from playlist "+t.playlist.id+" has a duration of "+i+" when the reported duration is "+t.duration+" and the target duration is "+n+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return r||e?{severity:r?"warn":"info",message:n}:null}function Ur(){}on Yr(t,e){return function(){var i;e.queuePending[t]&&(i=e.queuePending[t].doneFn,e.queuePending[t]=null,i&&i(e[t+"Error_"])),$r(t,e)}}tion Jr(t){"AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(;var i,n=t.mediaTypes,r=t.masterPlaylistLoader,s=t.tech,o=t.vhs,a=t.segmentLoaders,l=a.AUDIO,u=a.main;for(i in["AUDIO","SUBTITLES"].forEach(,(a=n.AUDIO.activeGroup())&&(a=(a.filter(function(t){return t["default"]})[0]||a[0]).id,n.AUDIO.tracks[a].enabled=!0,n.AUDIO.onGroupChanged(),n.AUDIO.onTrackChanged(),n.AUDIO.getActiveGroup().playlistLoader?(u.setAudio(!1),l.setAudio(!0)):u.setAudio(!0)),r.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(t){return n[t].onGroupChanged()})}),r.on("mediachanging",,s.audioTracks().addEventListener("change",e),s.remoteTextTracks().addEventListener("change",n.SUBTITLES.onTrackChanged),o.on("dispose",,s.clearTracks("audio"),n.AUDIO.tracks)s.audioTracks().addTrack(n.AUDIO.tracks[i])}unction ts(t,e){o=0,a=0,l=me.mergeOptions(Gu,e);t.ready(,t.on("error",r),t.on("dispose",s),t.reloadSourceOnError=unction is(t){var e=t.player,i=t.sourceKeySystems,n=t.audioMedia,t=t.mainPlaylists;if(!e.eme.initializeMediaKeys)return Promise.resolve();var r,t=(t=t=n?t.concat([n]):t,r=Object.keys(i),t.reduce([])),s=[],o=[];return t.forEach(function(t){o.push(new Promise(),s.push(new Promise()}),Promise.race([Promise.all(s),Promise.race(o)])}function ns(t){var e=t.player;return!(!(t=t.sourceKeySystems,t.media,t.audioMedia))||(e.currentSource().keySystems=t)&&!e.eme&&(me.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1))}or(var ss,os="7.14.3",as="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ls="undefined"!=typeof window?window:"undefined"!=typeof as?as:"undefined"!=typeof self?self:{},us="undefined"!=typeof as?as:"undefined"!=typeof window?window:{},cs="undefined"!=typeof document?document:(cs=us["__GLOBAL_DOCUMENT_CACHE@4"])||(us["__GLOBAL_DOCUMENT_CACHE@4"]={}),ds=cs,hs={prefixed:!0},ps=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],fs=ps[0],ms=0;ms<ps.length;ms++)if(ps[ms][1]in ds){ss=ps[ms];break}if(ss){for(var gs=0;gs<ss.length;gs++)hs[fs[gs]]=ss[gs];hs.prefixed=ss[0]!==fs[0]}var vs,ys=[],_s=function(t,e){return function(i,n,r){var s,o=e.levels[n],n=new RegExp("^("+o+")$");"log"!==i&&r.unshift(i.toUpperCase()+":"),r.unshift(t+":"),ys&&(ys.push([].concat(r)),s=ys.length-1e3,ys.splice(0,s>0?s:0)),!ls.console||(s=(s=ls.console[i])||"debug"!==i?s:ls.console.info||ls.console.log)&&o&&n.test(i)&&s[Array.isArray(r)?"apply":"call"](ls.console,r)}},bs=function tc(t){function e(){for(var t=arguments.length,e=new Array(t),r=0;t>r;r++)e[r]=arguments[r];n("log",i,e)}var i="info",n=_s(t,e);return e.createLogger=e.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},e.level=(e.history=.filter=e.history.clear=e.history.disable=e.history.enable=e.error=function(){for(var t=arguments.length,e=new Array(t),r=0;t>r;r++)e[r]=arguments[r];return n("error",i,e)},e.warn=function(){for(var t=arguments.length,e=new Array(t),r=0;t>r;r++)e[r]=arguments[r];return n("warn",i,e)},e.debug=function(){for(var t=arguments.length,e=new Array(t),r=0;t>r;r++)e[r]=arguments[r];return n("debug",i,e)},e}("VIDEOJS"),Ts=bs.createLogger,ws=t(,ks=Object.prototype.toString,xs=Ss=ls.navigator&&ls.navigator.userAgent||"",Cs=/AppleWebKit\/([\d.]+)/i.exec(Ss),Es=Cs?parseFloat(Cs.pop()):null,Os=/iPod/i.test(Ss),As=(Oo=Ss.match(/OS (\d+)_/i))&&Oo[1]?Oo[1]:null,Ds=/Android/i.test(Ss),Is=),Ps=Ds&&5>Is&&537>Es,Ls=/Firefox/i.test(Ss),Ms=/Edg/i.test(Ss),Ns=!Ms&&(/Chrome/i.test(Ss)||/CriOS/i.test(Ss)),Rs=(Mo=Ss.match(/(Chrome|CriOS)\/(\d+)/))&&Mo[2]?parseFloat(Mo[2]):null,js=No=!(No=(No=/MSIE\s(\d+)\.\d/.exec(Ss))&&parseFloat(No[1]))&&/Trident\/7.0/i.test(Ss)&&/rv:11.0/.test(Ss)?11:No,Bs=/Safari/i.test(Ss)&&!Ns&&!Ds&&!Ms,Fs=/Windows/i.test(Ss),Us=Boolean(l()&&("ontouchstart"in ls||ls.navigator.maxTouchPoints||ls.DocumentTouch&&ls.document instanceof ls.DocumentTouch)),Hs=/iPad/i.test(Ss)||Bs&&Us&&!/iPhone/i.test(Ss),qs=/iPhone/i.test(Ss)&&!Hs,$s=qs||Hs||Os,Ws=(Bs||$s)&&!Ns,zs=Object.freeze({__proto__:null,IS_IPOD:Os,IOS_VERSION:As,IS_ANDROID:Ds,ANDROID_VERSION:Is,IS_NATIVE_ANDROID:Ps,IS_FIREFOX:Ls,IS_EDGE:Ms,IS_CHROME:Ns,CHROME_VERSION:Rs,IE_VERSION:js,IS_SAFARI:Bs,IS_WINDOWS:Fs,TOUCH_ENABLED:Us,IS_IPAD:Hs,IS_IPHONE:qs,IS_IOS:$s,IS_ANY_SAFARI:Ws}),Vs=d("querySelector"),Ys=d("querySelectorAll"),Ks=Object.freeze({__proto__:null,isReal:l,isEl:u,isInFrame:c,createEl:h,textContent:p,prependTo:f,hasClass:m,addClass:g,removeClass:v,toggleClass:y,setAttributes:_,getAttributes:b,getAttribute:T,setAttribute:w,removeAttribute:k,blockTextSelection:x,unblockTextSelection:S,getBoundingClientRect:C,findPosition:E,getPointerPosition:O,isTextNode:A,emptyEl:D,normalizeContent:I,appendContent:P,insertContent:L,isSingleLeftClick:M,$:Vs,$$:Ys}),Gs=!1,Xs=function(){if(!1!==vs.options.autoSetup){var t=Array.prototype.slice.call(ds.getElementsByTagName("video")),e=Array.prototype.slice.call(ds.getElementsByTagName("audio")),i=Array.prototype.slice.call(ds.getElementsByTagName("video-js")),n=t.concat(e,i);if(n&&0<n.length)for(var r=0,s=n.length;s>r;r++){var o=n[r];if(!o||!o.getAttribute){N(1);break}void 0===o.player&&null!==o.getAttribute("data-setup")&&vs(o)}else Gs||N(1)}};l()&&("complete"===ds.readyState?R():ls.addEventListener("load",R));var Qs=3;ls.WeakMap||(ua=function(){ar e=t.prototype;return e.set=e.get=function(t){var e=t[this.vdata];return e?this.data[e]:void bs("We have no data for this element",t)},e.has=e["delete"]=t}());var Js,Zs,to=new(ls.WeakMap?WeakMap:ua),eo=io=["touchstart","touchmove"],no=Object.freeze({__proto__:null,fixEvent:H,on:q,off:$,trigger:W,one:z,any:V});X.prototype.allowedEvents_={},X.prototype.addEventListener=X.prototype.on=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},q(this,t,e),this.addEventListener=i},X.prototype.removeEventListener=X.prototype.off=X.prototype.one=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},z(this,t,e),this.addEventListener=i},X.prototype.any=X.prototype.dispatchEvent=X.prototype.trigger=X.prototype.queueTrigger=function(t){var e=this;Zs=Zs||new Map;var i=t.type||t,n=Zs.get(this);n||(n=new Map,Zs.set(this,n));var r=n.get(i);n["delete"](i),ls.clearTimeout(r),r=ls.setTimeout(0),n.set(i,r)};var ro=so={on:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;e>n;n++)i[n]=arguments[n];var r,s=it(this,i,"on"),o=s.isTargetingSelf,a=s.target,l=s.type,u=s.listener;nt(a,"on",l,u),o||((r=.guid=u.guid,(o=.guid=u.guid,nt(this,"on","dispose",r),nt(a,"on","dispose",o))},one:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;e>n;n++)i[n]=arguments[n];var r=it(this,i,"one"),s=r.isTargetingSelf,o=r.target,a=r.type,l=r.listener;s?nt(o,"one",a,l):((s=function u(){t.off(o,a,u);for(var e=arguments.length,i=new Array(e),n=0;e>n;n++)i[n]=arguments[n];l.apply(null,i)}).guid=l.guid,nt(o,"one",a,s))},any:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;e>n;n++)i[n]=arguments[n];var r=it(this,i,"any"),s=r.isTargetingSelf,o=r.target,a=r.type,l=r.listener;s?nt(o,"any",a,l):((s=function u(){t.off(o,a,u);for(var e=arguments.length,i=new Array(e),n=0;e>n;n++)i[n]=arguments[n];l.apply(null,i)}).guid=l.guid,nt(o,"any",a,s))},off:trigger:,oo={state:{},setState:,ao=ls.Map||),lo=ls.Set||),uo=function(){ar e=t.prototype;return e.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),to.has(this.el_)&&to["delete"](this.el_),this.el_=null),this.player_=null}},e.isDisposed=e.player=function(){return this.player_},e.options=e.el=function(){return this.el_},e.createEl=e.localize=function(t,e,i){void 0===i&&(i=t);var n=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),s=r&&r[n],n=n&&n.split("-")[0],n=r&&r[n],i=i;return s&&s[t]?i=s[t]:n&&n[t]&&(i=n[t]),i=e?i.replace(/\{(\d+)\}/g,function(t,i){return i=e[i-1],"undefined"==typeof i?t:i}):i},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(t){return this.childIndex_[t]},e.getChild=e.getDescendant=function(){for(var t=arguments.length,e=new Array(t),i=0;t>i;i++)e[i]=arguments[i];for(var e=e.reduce(function(t,e){return t.concat(e)},[]),n=this,r=0;r<e.length;r++)if(!(n=n.getChild(e[r]))||!n.getChild)return;return n},e.addChild=e.removeChild=function(t){if((t="string"==typeof t?this.getChild(t):t)&&this.children_){for(var e,i=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){i=!0,this.children_.splice(n,1);break}i&&(t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[at(t.name())]=null,this.childNameIndex_[ot(t.name())]=null,(e=t.el())&&e.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el()))}},e.initChildren=function(){var e,i,n,r=this,s=this.options_.children;s&&(e=this.options_,i=t.getComponent("Tech"),(n=Array.isArray(s)?s:Object.keys(s)).concat(Object.keys(this.options_).filter().map(.filter(function(e){return e=t.getComponent(e.opts.componentClass||at(e.name)),e&&!i.isTech(e)}).forEach()},e.buildCSSClass=function(){return""},e.ready=function(t,e){return void 0===e&&(e=!1),t?this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t)):void 0},e.triggerReady=e.$=function(t,e){return Vs(t,e||this.contentEl())},e.$$=e.hasClass=function(t){return m(this.el_,t)},e.addClass=function(t){g(this.el_,t)},e.removeClass=function(t){v(this.el_,t)},e.toggleClass=function(t,e){y(this.el_,t,e)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=e.setAttribute=e.removeAttribute=function(t){k(this.el_,t)},e.width=function(t,e){return this.dimension("width",t,e)},e.height=e.dimensions=e.dimension=function(t,e,i){return void 0!==e?(-1!==(""+(e=null===e||e!=e?0:e)).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(i||this.trigger("componentresize"))):this.el_?(e=this.el_.style[t],i=e.indexOf("px"),-1!==i?parseInt(e.slice(0,i),10):parseInt(this.el_["offset"+at(t)],10)):0},e.currentDimension=e.currentDimensions=e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=e.handleKeyPress=function(t){this.handleKeyDown(t)},e.emitTapEvents=function(){ar e,i=0,n=null;this.on("touchstart",,this.on("touchmove",,this.on("touchleave",t),this.on("touchcancel",t),this.on("touchend",},e.enableTouchActivity=function(){var t,e,i;this.player()&&this.player().reportUserActivity&&(t=Y(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}),i=function(){t(),this.clearInterval(e)},this.on("touchmove",t),this.on("touchend",i),this.on("touchcancel",i))},e.setTimeout=function(t,e){var i,n=this;return t=Y(this,t),this.clearTimersOnDispose_(),i=ls.setTimeout(function(){n.setTimeoutIds_.has(i)&&n.setTimeoutIds_["delete"](i),t()},e),this.setTimeoutIds_.add(i),i},e.clearTimeout=function(t){return this.setTimeoutIds_.has(t)&&(this.setTimeoutIds_["delete"](t),ls.clearTimeout(t)),t},e.setInterval=e.clearInterval=function(t){return this.setIntervalIds_.has(t)&&(this.setIntervalIds_["delete"](t),ls.clearInterval(t)),t},e.requestAnimationFrame=function(t){var e,i=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),t=Y(this,t),e=ls.requestAnimationFrame(,this.rafIds_.add(e),e):this.setTimeout(t,1e3/60)},e.requestNamedAnimationFrame=e.cancelNamedAnimationFrame=e.cancelAnimationFrame=function(t){return this.supportsRaf_?(this.rafIds_.has(t)&&(this.rafIds_["delete"](t),ls.cancelAnimationFrame(t)),t):this.clearTimeout(t)},e.clearTimersOnDispose_=t.registerComponent=function(e,i){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var n=t.getComponent("Tech"),r=n&&n.isTech(i),n=t===i||t.prototype.isPrototypeOf(i.prototype);if(r||!n){var s=r?"techs must be registered using Tech.registerTech()":"must be a Component subclass";throw new Error('Illegal component, "'+e+'"; '+s+".")}if(e=at(e),t.components_||(t.components_={}),s=t.getComponent("Player"),"Player"===e&&s&&s.players){var o=s.players,s=Object.keys(o);if(o&&0<s.length&&s.map(function(t){return o[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=i,t.components_[ot(e)]=i},t.getComponent=t}();uo.prototype.supportsRaf_="function"==typeof ls.requestAnimationFrame&&"function"==typeof ls.cancelAnimationFrame,uo.registerComponent("Component",uo);var co=ho=pt.prototype.code=0,pt.prototype.message="",pt.prototype.status=null,pt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],pt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var po=0;po<pt.errorTypes.length;po++)pt[pt.errorTypes[po]]=po,pt.prototype[pt.errorTypes[po]]=po;var fo=mo=go=vo=t(function(t,e){.isEventKey=for(var n=(e=t.exports=i).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,"break":19,caps:20,"return":13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91},s=97;123>s;s++)n[String.fromCharCode(s)]=s-32;for(var s=48;58>s;s++)n[s-48]=s;for(s=1;13>s;s++)n["f"+s]=s+111;for(s=0;10>s;s++)n["numpad "+s]=s+96;var o,a=e.names=e.title={};for(s in n)a[n[s]]=s;for(o in r)n[o]=r[o]});vo.code,vo.codes,vo.aliases,vo.names,vo.title;var yo="vjs-modal-dialog",_o=function(t){o(e,t);var i=e.prototype;return i.createEl=i.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=i.label=i.description=i.open=i.opened=i.close=i.closeable=i.fill=i.fillWith=function(t){var e=this.contentEl(),i=e.parentNode,n=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(e),this.empty(),L(e,t),this.trigger("modalfill"),n?i.insertBefore(e,n):i.appendChild(e),e=this.getChild("closeButton"),e&&i.appendChild(e.el_)},i.empty=i.content=i.conditionalFocus_=i.conditionalBlur_=i.handleKeyDown=i.focusableEls_=e}(uo);_o.prototype.options_={pauseOnOpen:!0,temporary:!0},uo.registerComponent("ModalDialog",_o);var bo,To=function(t){o(e,t);var i=e.prototype;return i.addTrack=i.removeTrack=function(t){for(var e,i=0,n=this.length;n>i;i++)if(this[i]===t){(e=this[i]).off&&e.off(),this.tracks_.splice(i,1);break}e&&this.trigger({track:e,type:"removetrack",target:this})},i.getTrackById=function(t){for(var e=null,i=0,n=this.length;n>i;i++){var r=this[i];if(r.id===t){e=r;break}}return e},e}(X);for(bo in To.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},To.prototype.allowedEvents_)To.prototype["on"+bo]=null;var wo=function(t){function e(e){for(var i,n=(e=void 0===e?[]:e).length-1;n>=0;n--)if(e[n].enabled){vt(e,e[n]);break}return(i=t.call(this,e)||this).changing_=!1,i}ho(e,t);var i=e.prototype;return i.addTrack=function(e){var i=this;e.enabled&&vt(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){i.changing_||(i.changing_=!0,vt(i,e),i.changing_=!1,i.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}(To),as=function(t){function e(e){for(var i,n=(e=void 0===e?[]:e).length-1;n>=0;n--)if(e[n].selected){yt(e,e[n]);break}return(i=t.call(this,e)||this).changing_=!1,Object.defineProperty(co(i),"selectedIndex",{get:set:function(){}}),i}ho(e,t);var i=e.prototype;return i.addTrack=i.removeTrack=e}(To),us=To),cs=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,i=t.length;i>e;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=e.getTrackElementByTrack_=function(t){for(var e,i=0,n=this.trackElements_.length;n>i;i++)if(t===this.trackElements_[i].track){e=this.trackElements_[i];break}return e},e.removeTrackElement_=function(t){for(var e=0,i=this.trackElements_.length;i>e;e++)if(t===this.trackElements_[e]){this.trackElements_[e].track&&"function"==typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"==typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},t}(),ko=function(){ar e=t.prototype;return e.setCues_=function(t){ar i=this.length||0,n=0,r=t.length;if(this.cues_=t,this.length_=t.length,r>i)for(n=i;r>n;n++)e.call(this,n)},e.getCueById=t}(),xo={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},So={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Co={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Eo={disabled:"disabled",hidden:"hidden",showing:"showing"},Cs=X),Oo=Object.freeze({__proto__:null,parseUrl:_t,getAbsoluteURL:bt,getFileExtension:Tt,isCrossOrigin:wt}),Ao=Do=Object.prototype.toString,Io=Po=xt,Es=xt;xt.XMLHttpRequest=ls.XMLHttpRequest||function(){},xt.XDomainRequest="withCredentials"in new xt.XMLHttpRequest?xt.XMLHttpRequest:ls.XDomainRequest,["get","put","post","patch","head","delete"],,Po["default"]=Es;var Lo=function(t){function e(e){var i;if(!(e=void 0===e?{}:e).tech)throw new Error("A tech was not provided.");var e=lt(e,{kind:Co[e.kind]||"subtitles",language:e.language||e.srclang||""}),n=Eo[e.mode]||"disabled",r=e["default"];"metadata"!==e.kind&&"chapters"!==e.kind||(n="hidden"),(i=t.call(this,e)||this).tech_=e.tech,i.cues_=[],i.activeCues_=[],i.preload_=!1!==i.tech_.preloadTextTracks;var s=new ko(i.cues_),o=new ko(i.activeCues_),a=!1,l=Y(co(i),;return i.tech_.one("dispose",,"disabled"!==n&&i.tech_.on("timeupdate",l),Object.defineProperties(co(i),{"default":{get:function(){return r},set:function(){}},mode:{get:function(){return n},set:,cues:{get:set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return o;for(var t=this.tech_.currentTime(),e=[],i=0,n=this.cues.length;n>i;i++){var r=this.cues[i];(r.startTime<=t&&r.endTime>=t||r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t)&&e.push(r)}if(a=!1,e.length!==this.activeCues_.length)a=!0;else for(var s=0;s<e.length;s++)-1===this.activeCues_.indexOf(e[s])&&(a=!0);return this.activeCues_=e,o.setCues_(this.activeCues_),o},set:function(){}}}),e.src?(i.src=e.src,i.preload_||(i.loaded_=!0),(i.preload_||"subtitles"!==e.kind&&"captions"!==e.kind)&&Et(i.src,co(i))):i.loaded_=!0,i}ho(e,t);var i=e.prototype;return i.addCue=i.removeCue=e}(Cs);Lo.prototype.allowedEvents_={cuechange:"cuechange"};var Mo=Cs),No=Cs),Os=function(t){function e(e){var i;void 0===e&&(e={});var n=t.call(this)||this,r=new Lo(e);return n.kind=r.kind,n.src=r.src,n.srclang=r.language,n.label=r.label,n["default"]=r["default"],Object.defineProperties(co(n),{readyState:{get:function(){return i}},track:{get:function(){return r}}}),i=0,r.addEventListener("loadeddata",,n}return ho(e,t),e}(X);Os.prototype.allowedEvents_={load:"load"},Os.NONE=0,Os.LOADING=1,Os.LOADED=2,Os.ERROR=3;var Ro={audio:{ListClass:wo,TrackClass:Mo,capitalName:"Audio"},video:{ListClass:as,TrackClass:No,capitalName:"Video"},text:{ListClass:us,TrackClass:Lo,capitalName:"Text"}};Object.keys(Ro).forEach(;var jo={remoteText:{ListClass:us,TrackClass:Lo,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:cs,TrackClass:Os,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Bo=ws({},Ro,jo);jo.names=Object.keys(jo),Ro.names=Object.keys(Ro),Bo.names=[].concat(jo.names).concat(Ro.names);var Fo=Object.create||((At.prototype=Fo(Error.prototype)).constructor=At).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},It.prototype={set:get:has:function(t){return t in this.values},alt:integer:percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(e=parseFloat(e))&&100>=e)&&(this.set(t,e),!0)}};var Uo=ds.createElement&&ds.createElement("textarea"),Ho={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},qo={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},$o={v:"title",lang:"lang"},Wo={rt:"ruby"},zo=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];Rt.prototype.applyStyles=Rt.prototype.formatStyle=(jt.prototype=Fo(Rt.prototype)).constructor=jt,Bt.prototype.move=Bt.prototype.overlaps=Bt.prototype.overlapsAny=Bt.prototype.within=Bt.prototype.overlapsOppositeAxis=Bt.prototype.intersectPercentage=Bt.prototype.toCSSCompatValues=Bt.getSimpleBoxPosition=Ut.StringDecoder=Ut.convertCueToDOMTree=Ut.processCues=(Ut.Parser=.prototype={reportOrThrowError:parse:function(t){r n=this;t&&(n.buffer+=n.decoder.decode(t,{stream:!0}));try{if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var r,s=(r=e()).match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0])throw new At(At.Errors.BadSignature);n.state="HEADER"}for(var o=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(o?o=!1:r=e(),n.state){case"HEADER":/:/.test(r)?i(r):r||(n.state="ID");continue;case"NOTE":r||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){n.state="NOTE";break}if(!r)continue;n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,"");try{n.cue.align="center"}catch(t){n.cue.align="middle"}if(n.state="CUE",-1===r.indexOf("-->")){n.cue.id=r;continue}case"CUE":try{Lt(r,n.cue,n.regionList)}catch(t){n.reportOrThrowError(t),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var a=-1!==r.indexOf("-->");if(!r||a&&(o=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(n.state="ID");continue}}}catch(t){n.reportOrThrowError(t),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:;var Vo=Ut,Yo={"":1,lr:1,rl:1},Ko={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};qt.prototype.getCueAsHTML=var Go=qt,Xo={"":!0,up:!0},Qo=t(;Qo.WebVTT,Qo.VTTCue,Qo.VTTRegion;var Jo=function(t){function e(e,i){var n;return void 0===i&&(i=function(){}),(e=void 0===e?{}:e).reportTouchActivity=!1,(n=t.call(this,null,e,i)||this).onDurationChange_=function(t){return n.onDurationChange(t)},n.trackProgress_=function(t){return n.trackProgress(t)},n.trackCurrentTime_=function(t){return n.trackCurrentTime(t)},n.stopTrackingCurrentTime_=function(t){return n.stopTrackingCurrentTime(t)},n.disposeSourceHandler_=function(t){return n.disposeSourceHandler(t)},n.hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),Bo.names.forEach(,n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(,!1===e.nativeCaptions||!1===e.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.preloadTextTracks=!1!==e.preloadTextTracks,n.autoRemoteTextTracks_=new Bo.text.ListClass,n.initTrackListeners(),e.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}ho(e,t);var i=e.prototype;return i.triggerSourceset=i.manualProgressOn=i.manualProgressOff=i.trackProgress=i.onDurationChange=i.buffered=i.bufferedPercent=i.stopTrackingProgress=i.manualTimeUpdatesOn=i.manualTimeUpdatesOff=i.trackCurrentTime=i.stopTrackingCurrentTime=i.dispose=i.clearTracks=i.cleanupAutoTextTracks=i.reset=function(){},i.crossOrigin=function(){},i.setCrossOrigin=function(){},i.error=i.played=i.play=function(){},i.setScrubbing=function(){},i.scrubbing=function(){},i.setCurrentTime=i.initTrackListeners=i.addWebVttScript_=i.emulateTextTracks=function(){function t(t){return s.addTrack(t.track)} r=this,s=this.textTracks(),o=this.remoteTextTracks();o.on("addtrack",t),o.on("removetrack",e),this.addWebVttScript_(),n(),s.addEventListener("change",n),s.addEventListener("addtrack",n),s.addEventListener("removetrack",n),this.on("dispose",},i.addTextTrack=i.createRemoteTextTrack=i.addRemoteTextTrack=i.removeRemoteTextTrack=i.getVideoPlaybackQuality=i.requestPictureInPicture=function(){var t=this.options_.Promise||ls.Promise;return t?t.reject():void 0},i.disablePictureInPicture=i.setDisablePictureInPicture=function(){},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.overrideNativeAudioTracks=function(){},i.overrideNativeVideoTracks=function(){},i.canPlayType=function(){return""},e.canPlayType=e.canPlaySource=e.isTech=e.registerTech=e.getTech=function(t){return t?e.techs_&&e.techs_[t]?e.techs_[t]:(t=at(t),ls&&ls.videojs&&ls.videojs[t]?(bs.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),ls.videojs[t]):void 0):void 0},e}(uo);Bo.names.forEach(,Jo.prototype.featuresVolumeControl=!0,Jo.prototype.featuresMuteControl=!0,Jo.prototype.featuresFullscreenResize=!1,Jo.prototype.featuresPlaybackRate=!1,Jo.prototype.featuresProgressEvents=!1,Jo.prototype.featuresSourceset=!1,Jo.prototype.featuresTimeupdateEvents=!1,Jo.prototype.featuresNativeTextTracks=!1,Jo.withSourceHandlers=uo.registerComponent("Tech",Jo),Jo.registerTech("Tech",Jo),Jo.defaultTechOrder_=[];var Zo={},ta={},ea={},ia={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},na={setCurrentTime:1,setMuted:1,setVolume:1},ra={play:1,pause:1},sa={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"};As=function(t){eturn ho(e,t),e}(uo),uo.registerComponent("MediaLoader",As),Bs=function(t){o(e,t);var n=e.prototype;return n.createEl=function(e,n,r){return void 0===e&&(e="div"),void 0===n&&(n={}),void 0===r&&(r={}),n=i({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===e&&bs.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),r=i({role:"button"},r),this.tabIndex_=n.tabIndex,r=t.prototype.createEl.call(this,e,n,r),this.createControlTextEl(r),r},n.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},n.createControlTextEl=n.controlText=n.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.enable=n.disable=n.handleLanguagechange=function(){this.controlText(this.controlText_)},n.handleClick=function(){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=e}(uo),uo.registerComponent("ClickableComponent",Bs),uo.registerComponent("PosterImage",function(t){o(e,t);var i=e.prototype;return i.dispose=i.createEl=i.update=i.setSrc=i.handleClick=function(){var t;this.player_.controls()&&(t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&0<this.player_.eme.sessions.length,!this.player_.tech(!0)||(js||Ms)&&t||this.player_.tech(!0).focus(),this.player_.paused()?mt(this.player_.play()):this.player_.pause())},e}(Bs));var oa="#222",aa={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};uo.registerComponent("TextTrackDisplay",function(t){o(e,t);var i=e.prototype;return i.preselectTrack=function(){for(var t,e,i,n={captions:1,subtitles:1},r=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,o=0;o<r.length;o++){var a=r[o];s&&s.enabled&&s.language&&s.language===a.language&&a.kind in n?i=a.kind!==s.kind&&i||a:s&&!s.enabled?e=t=i=null:a["default"]&&("descriptions"!==a.kind||t?a.kind in n&&!e&&(e=a):t=a)}i?i.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},i.toggleDisplay=i.createEl=i.clearDisplay=i.updateDisplay=i.updateDisplayState=i.updateForTrack=e}(uo)),uo.registerComponent("LoadingSpinner",uo));var la=function(t){function e(){return t.apply(this,arguments)||this}ho(e,t);var n=e.prototype;return n.createEl=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),e=i({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=i({type:"button"},n),n=uo.prototype.createEl.call(this,"button",e,n),this.createControlTextEl(n),n},n.addChild=n.enable=n.disable=n.handleKeyDown=e}(Bs);uo.registerComponent("Button",la),Hs=function(t){o(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=i.handleKeyDown=i.handleMouseDown=function(){this.mouseused_=!0},e}(la),Hs.prototype.controlText_="Play Video",uo.registerComponent("BigPlayButton",Hs),uo.registerComponent("CloseButton",function(t){function e(e,i){return e=t.call(this,e,i)||this,e.controlText(i&&i.controlText||e.localize("Close")),e}ho(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=i.handleKeyDown=e}(la));var ua=function(t){o(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(){this.player_.paused()?mt(this.player_.play()):this.player_.pause()},i.handleSeeked=i.handlePlay=i.handlePause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},i.handleEnded=function(){var t=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(e){return t.handleSeeked(e)})},e}(la);ua.prototype.controlText_="Play",uo.registerComponent("PlayToggle",ua);var ca=te;Es=function(t){o(e,t);var i=e.prototype;return i.createEl=i.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},i.updateTextNode_=i.updateContent=function(){},e}(uo),Es.prototype.labelText_="Time",Es.prototype.controlText_="Time",uo.registerComponent("TimeDisplay",Es),Cs=function(t){function e(){return t.apply(this,arguments)||this}ho(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(){var t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateTextNode_(t)},e}(Es),Cs.prototype.labelText_="Current Time",Cs.prototype.controlText_="Current Time",uo.registerComponent("CurrentTimeDisplay",Cs),wo=function(t){o(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(){var t=this.player_.duration();this.updateTextNode_(t)},e}(Es),wo.prototype.labelText_="Duration",wo.prototype.controlText_="Duration",uo.registerComponent("DurationDisplay",wo),uo.registerComponent("TimeDivider",uo)),as=function(t){o(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.createEl=i.updateContent=function(){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},e}(Es),as.prototype.labelText_="Remaining Time",as.prototype.controlText_="Remaining Time",uo.registerComponent("RemainingTimeDisplay",as),uo.registerComponent("LiveDisplay",function(t){o(e,t);var i=e.prototype;return i.createEl=i.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},i.updateShowing=e}(uo)),us=la),us.prototype.controlText_="Seek to live, currently playing live",uo.registerComponent("SeekToLive",us),cs=function(t){o(e,t);var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=n.disable=n.createEl=n.handleMouseDown=n.handleMouseMove=function(){},n.handleMouseUp=n.update=n.getProgress=n.calculateDistance=n.handleKeyDown=n.handleClick=function(t){t.stopPropagation(),t.preventDefault()},n.vertical=e}(uo),uo.registerComponent("Slider",cs),uo.registerComponent("LoadProgressBar",function(t){o(e,t);var i=e.prototype;return i.createEl=i.dispose=i.update=function(){var t=this;this.requestNamedAnimationFrame("LoadProgressBar#update",},e}(uo)),uo.registerComponent("TimeTooltip",function(t){function e(e,i){return i=t.call(this,e,i)||this,i.update=K(Y(co(i),i.update),30),i}ho(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},i.update=function(t,e,i){var n=E(this.el_),r=C(this.player_.el()),s=t.width*e;r&&n&&(e=t.left-r.left+s,r=t.width-s+(r.right-t.right),e<(t=n.width/2)?t+=t-e:t>r&&(t=r),0>t?t=0:t>n.width&&(t=n.width),t=Math.round(t),this.el_.style.right="-"+t+"px",this.write(i))},i.write=function(t){p(this.el_,t)},i.updateTime=e}(uo)),Os=function(t){function e(e,i){return i=t.call(this,e,i)||this,i.update=K(Y(co(i),i.update),30),i}ho(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=e}(uo),Os.prototype.options_={children:[]},$s||Ds||Os.prototype.options_.children.push("timeTooltip"),uo.registerComponent("PlayProgressBar",Os),As=function(t){function e(e,i){return i=t.call(this,e,i)||this,i.update=K(Y(co(i),i.update),30),i}ho(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=e}(uo),As.prototype.options_={children:["timeTooltip"]},uo.registerComponent("MouseTimeDisplay",As),Hs=function(t){function e(e,i){return i=t.call(this,e,i)||this,i.setEventHandlers_(),i}ho(e,t);var i=e.prototype;return i.setEventHandlers_=i.toggleVisibility_=i.enableInterval_=i.disableInterval_=i.createEl=i.update=function(){var e=this;if("hidden"!==ds.visibilityState){var i=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",,i}},i.userSeek_=i.getCurrentTime_=i.getPercent=i.handleMouseDown=i.handleMouseMove=function(t){if(M(t)){var e=this.calculateDistance(t),i=this.player_.liveTracker;if(i&&i.isLive()){if(e>=.99)return void i.seekToLiveEdge();var n,r=i.seekableStart(),t=i.liveCurrentTime();if((n=(n=t<=(n=r+e*i.liveWindow())?t:n)<=r?r+.1:n)===1/0)return}else(n=e*this.player_.duration())===this.player_.duration()&&(n-=.1);this.userSeek_(n)}},i.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},i.disable=i.handleMouseUp=i.stepForward=i.stepBack=i.handleAction=function(){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=i.dispose=e}(cs),Hs.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},$s||Ds||Hs.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),uo.registerComponent("SeekBar",Hs),ua=uo),ua.prototype.options_={children:["seekBar"]},uo.registerComponent("ProgressControl",ua),Cs=function(t){o(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChange=i.handlePictureInPictureChange=function(){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},i.handleClick=function(){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(la),Cs.prototype.controlText_="Picture-in-Picture",uo.registerComponent("PictureInPictureToggle",Cs),wo=function(t){o(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=i.handleClick=e}(la),wo.prototype.controlText_="Fullscreen",uo.registerComponent("FullscreenToggle",wo),uo.registerComponent("VolumeLevel",uo)),uo.registerComponent("VolumeLevelTooltip",function(t){function e(e,i){return i=t.call(this,e,i)||this,i.update=K(Y(co(i),i.update),30),i}ho(e,t);var i=e.prototype;return i.createEl=i.update=function(t,e,i,n){if(!i){var r=C(this.el_),s=C(this.player_.el()),i=t.width*e;if(!s||!r)return;e=t.left-s.left+i,s=t.width-i+(s.right-t.right),t=r.width/2,t>e?t+=t-e:t>s&&(t=s),0>t?t=0:t>r.width&&(t=r.width),this.el_.style.right="-"+t+"px"}this.write(n+"%")},i.write=i.updateVolume=e}(uo)),Es=function(t){function e(e,i){return i=t.call(this,e,i)||this,i.update=K(Y(co(i),i.update),30),i}ho(e,t);var i=e.prototype;return i.createEl=i.update=e}(uo),Es.prototype.options_={children:["volumeLevelTooltip"]},uo.registerComponent("MouseVolumeLevelDisplay",Es),as=function(t){o(e,t);var i=e.prototype;return i.createEl=i.handleMouseDown=i.handleMouseMove=i.checkMuted=i.getPercent=i.stepForward=i.stepBack=i.updateARIAAttributes=i.volumeAsPercentage_=i.updateLastVolume_=e}(cs),as.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},$s||Ds||as.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),as.prototype.playerEvent="volumechange",uo.registerComponent("VolumeBar",as),us=function(t){o(e,t);var i=e.prototype;return i.createEl=i.handleMouseDown=function(){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=i.handleMouseMove=e}(uo),us.prototype.options_={children:["volumeBar"]},uo.registerComponent("VolumeControl",us),Os=function(t){o(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(){var t=this.player_.volume(),e=this.player_.lastVolume_();0===t?(this.player_.volume(.1>e?.1:e),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},i.update=function(){this.updateIcon_(),this.updateControlText_()},i.updateIcon_=function(){var t=this.player_.volume(),e=3;$s&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:.33>t?e=1:.67>t&&(e=2);for(var i=0;4>i;i++)v(this.el_,"vjs-vol-"+i);g(this.el_,"vjs-vol-"+e)},i.updateControlText_=e}(la),Os.prototype.controlText_="Mute",uo.registerComponent("MuteToggle",Os),As=function(t){o(e,t);var i=e.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=i.volumePanelState_=i.createEl=i.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=i.handleMouseOver=function(){this.addClass("vjs-hover"),q(ds,"keyup",this.handleKeyPressHandler_)},i.handleMouseOut=function(){this.removeClass("vjs-hover"),$(ds,"keyup",this.handleKeyPressHandler_)},i.handleKeyPress=e}(uo),As.prototype.options_={children:["muteToggle","volumeControl"]},uo.registerComponent("VolumePanel",As);var da=function(t){o(e,t);var i=e.prototype;return i.addEventListenerForItem=function(t){t instanceof uo&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=i.removeChild=i.addItem=function(t){t=this.addChild(t),t&&this.addEventListenerForItem(t)},i.createEl=function(){var e=this.options_.contentElType||"ul";return this.contentEl_=h(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu"),e=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"}),e.appendChild(this.contentEl_),q(e,"click",,e},i.dispose=i.handleBlur=i.handleTapClick=i.handleKeyDown=i.stepForward=i.stepBack=i.focus=function(t){void 0===t&&(t=0);var e=this.children().slice();e.length&&e[0].hasClass("vjs-menu-title")&&e.shift(),0<e.length&&(0>t?t=0:t>=e.length&&(t=e.length-1),e[this.focusedChild_=t].el_.focus())},e}(uo);uo.registerComponent("Menu",da),Hs=function(t){o(e,t);var i=e.prototype;return i.update=i.createMenu=i.createItems=function(){},i.createEl=i.buildWrapperCSSClass=function(){var e="vjs-menu-button";return e+=!0===this.options_.inline?"-inline":"-popup","vjs-menu-button "+e+" "+la.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var e="vjs-menu-button";return e+=!0===this.options_.inline?"-inline":"-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},i.controlText=i.dispose=i.handleClick=i.handleMouseLeave=function(){this.removeClass("vjs-hover"),$(ds,"keyup",this.handleMenuKeyUp_)},i.focus=function(){this.menuButton_.focus()},i.blur=i.handleKeyDown=i.handleMenuKeyUp=i.handleSubmenuKeyPress=i.handleSubmenuKeyDown=i.pressButton=i.unpressButton=i.disable=i.enable=e}(uo),uo.registerComponent("MenuButton",Hs),ua=Hs),uo.registerComponent("TrackButton",ua);var ha=["Tab","Esc","Up","Down","Right","Left"],Cs=function(t){function e(e,i){return e=t.call(this,e,i)||this,e.selectable=i.selectable,e.isSelected_=i.selected||!1,e.multiSelectable=i.multiSelectable,e.selected(e.isSelected_),e.selectable?e.multiSelectable?e.el_.setAttribute("role","menuitemcheckbox"):e.el_.setAttribute("role","menuitemradio"):e.el_.setAttribute("role","menuitem"),e}ho(e,t);var n=e.prototype;return n.createEl=n.handleKeyDown=n.handleClick=n.selected=e}(Bs);uo.registerComponent("MenuItem",Cs);var pa=function(t){function e(e,i){function n(){for(var t=arguments.length,e=new Array(t),i=0;t>i;i++)e[i]=arguments[i];s.handleTracksChange.apply(co(s),e)}function r(){for(var t=arguments.length,e=new Array(t),i=0;t>i;i++)e[i]=arguments[i];s.handleSelectedLanguageChange.apply(co(s),e)}var s,o=i.track,a=e.textTracks();i.label=o.label||o.language||"Unknown",i.selected="showing"===o.mode,(s=t.call(this,e,i)||this).track=o,s.kinds=(i.kinds||[i.kind||s.track.kind]).filter(Boolean);var l;return e.on(["loadstart","texttrackchange"],n),a.addEventListener("change",n),a.addEventListener("selectedlanguagechange",r),s.on("dispose",,void 0===a.onchange&&s.on(["tap","click"],,s.handleTracksChange(),s}ho(e,t);var i=e.prototype;return i.handleClick=i.handleTracksChange=i.handleSelectedLanguageChange=function(){var t;"showing"===this.track.mode&&((t=this.player_.cache_.selectedLanguage)&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind||(this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}))},i.dispose=e}(Cs);uo.registerComponent("TextTrackMenuItem",pa);var fa=function(t){o(e,t);var i=e.prototype;return i.handleTracksChange=function(){for(var t=this.player().textTracks(),e=!0,i=0,n=t.length;n>i;i++){var r=t[i];if(-1<this.options_.kinds.indexOf(r.kind)&&"showing"===r.mode){e=!1;break}}e!==this.isSelected_&&this.selected(e)},i.handleSelectedLanguageChange=function(){for(var t=this.player().textTracks(),e=!0,i=0,n=t.length;n>i;i++){var r=t[i];if(-1<["captions","descriptions","subtitles"].indexOf(r.kind)&&"showing"===r.mode){e=!1;break}}e&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(pa);uo.registerComponent("OffTextTrackMenuItem",fa),wo=ua),uo.registerComponent("TextTrackButton",wo);var ma=function(t){o(e,t);var i=e.prototype;return i.handleClick=i.update=e}(Cs);uo.registerComponent("ChaptersTrackMenuItem",ma),Es=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}ho(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},i.update=i.setTrack=i.findChaptersTrack=i.getMenuCaption=i.createMenu=i.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var i=0,n=e.length;n>i;i++){var r=e[i],r=new ma(this.player_,{track:this.track_,cue:r});t.push(r)}return t},e}(wo),Es.prototype.kind_="chapters",Es.prototype.controlText_="Chapters",uo.registerComponent("ChaptersButton",Es),cs=function(t){o(e,t);var i=e.prototype;return i.handleTracksChange=i.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(wo),cs.prototype.kind_="descriptions",cs.prototype.controlText_="Descriptions",uo.registerComponent("DescriptionsButton",cs),as=wo),as.prototype.kind_="subtitles",as.prototype.controlText_="Subtitles",uo.registerComponent("SubtitlesButton",as);var ga=function(t){function e(e,i){return i.track={player:e,kind:i.kind,label:i.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",(e=t.call(this,e,i)||this).addClass("vjs-texttrack-settings"),e.controlText(", opens "+i.kind+" settings dialog"),e}return ho(e,t),e.prototype.handleClick=e}(pa);uo.registerComponent("CaptionSettingsMenuItem",ga),us=wo),us.prototype.kind_="captions",us.prototype.controlText_="Captions",uo.registerComponent("CaptionsButton",us);var va=pa);uo.registerComponent("SubsCapsMenuItem",va),Os=wo),Os.prototype.kinds_=["captions","subtitles"],Os.prototype.controlText_="Subtitles",uo.registerComponent("SubsCapsButton",Os);var ya=function(t){function e(e,i){function n(){for(var t=arguments.length,e=new Array(t),i=0;t>i;i++)e[i]=arguments[i];r.handleTracksChange.apply(co(r),e)}var r,s=i.track,o=e.audioTracks();return i.label=s.label||s.language||"Unknown",i.selected=s.enabled,(r=t.call(this,e,i)||this).track=s,r.addClass("vjs-"+s.kind+"-menu-item"),o.addEventListener("change",n),r.on("dispose",function(){o.removeEventListener("change",n)}),r}ho(e,t);var n=e.prototype;return n.createEl=n.handleClick=n.handleTracksChange=function(){this.selected(this.track.enabled)},e}(Cs);uo.registerComponent("AudioTrackMenuItem",ya),As=ua),As.prototype.controlText_="Audio Track",uo.registerComponent("AudioTrackButton",As);var _a=function(t){o(e,t);var i=e.prototype;return i.handleClick=i.update=e}(Cs);_a.prototype.contentElType="button",uo.registerComponent("PlaybackRateMenuItem",_a),Bs=function(t){o(e,t);var i=e.prototype;return i.createEl=i.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=i.updateARIAAttributes=i.handleClick=i.handlePlaybackRateschange=function(){this.update()},i.playbackRates=i.playbackRateSupported=i.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=e}(Hs),Bs.prototype.controlText_="Playback Rate",uo.registerComponent("PlaybackRateMenuButton",Bs),Es=uo),uo.registerComponent("Spacer",Es),uo.registerComponent("CustomControlSpacer",Es)),cs=function(t){function e(){return t.apply(this,arguments)||this}return ho(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(uo),cs.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in ds&&cs.prototype.options_.children.splice(cs.prototype.options_.children.length-1,0,"pictureInPictureToggle"),uo.registerComponent("ControlBar",cs),as=_o),as.prototype.options_=ws({},_o.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),uo.registerComponent("ErrorDisplay",as);var ba="vjs-text-track-settings",us=["#000","Black"],wo=["#00F","Blue"],Os=["#0FF","Cyan"],ua=["#0F0","Green"],As=["#F0F","Magenta"],Cs=["#F00","Red"],Hs=["#FFF","White"],Bs=["#FF0","Yellow"],Es=["1","Opaque"],cs=["0.5","Semi-Transparent"],as=["0","Transparent"],Ta={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[us,Hs,Cs,ua,wo,Bs,As,Os]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Es,cs,as]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Hs,us,Cs,ua,wo,Bs,As,Os]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,parser:,textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Es,cs]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[as,cs,Es]}};Ta.windowColor.options=Ta.backgroundColor.options,uo.registerComponent("TextTrackSettings",function(t){o(i,t);var n=i.prototype;return n.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},n.createElSelect_=n.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},n.createElWinColor_=n.createElColors_=n.createElFont_=n.createElControls_=n.content=n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=n.getValues=n.setValues=n.setDefaults=n.restoreSettings=n.saveSettings=n.updateDisplay=n.conditionalBlur_=i}(_o)),uo.registerComponent("ResizeManager",uo));var wa={trackingThreshold:30,liveTolerance:15};uo.registerComponent("LiveTracker",function(t){o(e,t);var i=e.prototype;return i.handleVisibilityChange=i.trackLive_=function(){var t,e=this.player_.seekable();e&&e.length&&(t=Number(ls.performance.now().toFixed(4)),e=-1===this.lastTime_?0:(t-this.lastTime_)/1e3,this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+e,t=this.liveCurrentTime(),e=this.player_.currentTime(),e=this.player_.paused()||this.seekedBehindLive_||Math.abs(t-e)>this.options_.liveTolerance,(e=this.timeupdateSeen_&&t!==1/0?e:!1)!==this.behindLiveEdge_&&(this.behindLiveEdge_=e,this.trigger("liveedgechange")))},i.handleDurationchange=function(){this.toggleTracking()},i.toggleTracking=i.startTracking=i.handleFirstTimeupdate=i.handleSeeked=i.handlePlay=i.reset_=i.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},i.stopTracking=i.seekableEnd=i.seekableStart=i.liveWindow=i.isLive=i.atLiveEdge=i.liveCurrentTime=i.pastSeekEnd=i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=i.seekToLiveEdge=i.dispose=e}(uo));var ka,xa=Object.defineProperty({},"innerHTML",{get:set:),Sa=Object.defineProperty({},"src",{get:set:),Ca=function(t){o(e,t);var n=e.prototype;return n.dispose=n.setupSourcesetHandling_=n.restoreMetadataTracksInIOSNativePlayer_=function(){r i,n=this.textTracks();t(),n.addEventListener("change",t),this.on("dispose",function(){return n.removeEventListener("change",t)}),this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",t),n.removeEventListener("change",e),n.addEventListener("change",e)}),this.on("webkitendfullscreen",function(){n.removeEventListener("change",t),n.addEventListener("change",t),n.removeEventListener("change",e)})},n.overrideNative_=n.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},n.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},n.proxyNativeTracksForType_=function(t){var e,i,n=this,r=Ro[t],s=this.el()[r.getterName],o=this[r.getterName]();this["featuresNative"+r.capitalName+"Tracks"]&&s&&s.addEventListener&&(i=this[r.getterName+"Listeners_"]=e={change:function(){var e={type:"change",target:o,currentTarget:o,srcElement:o};o.trigger(e),"text"===t&&n[jo.remoteText.getterName]().trigger(e)},addtrack:function(t){o.addTrack(t.track)},removetrack:,Object.keys(e).forEach(function(t){var i=e[t];s.addEventListener(t,i),n.on("dispose",}),this.on("loadstart",i),this.on("dispose",function(){return n.off("loadstart",i)}))},n.proxyNativeTracks_=n.createEl=function(){var t,n=this.options_.tag;n&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(n?(t=n.cloneNode(!0),n.parentNode&&n.parentNode.insertBefore(t,n),e.disposeMediaElement(n),n=t):(n=ds.createElement("video"),t=lt({},this.options_.tag&&b(this.options_.tag)),Us&&!0===this.options_.nativeControlsForTouch||delete t.controls,_(n,i(t,{id:this.options_.techId,"class":"vjs-tech"}))),n.playerId=this.options_.playerId),"undefined"!=typeof this.options_.preload&&w(n,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(n.disablePictureInPicture=this.options_.disablePictureInPicture);for(var r=["loop","muted","playsinline","autoplay"],s=0;s<r.length;s++){var o=r[s],a=this.options_[o];"undefined"!=typeof a&&(a?w(n,o,o):k(n,o),n[o]=a)}return n},n.handleLateInit_=n.setScrubbing=function(t){this.isScrubbing_=t},n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=n.duration=n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=n.supportsFullScreen=n.enterFullScreen=n.exitFullScreen=n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.src=n.reset=n.currentSrc=n.setControls=n.addTextTrack=n.createRemoteTextTrack=n.addRemoteTextTrack=n.removeRemoteTextTrack=n.getVideoPlaybackQuality=e}(Jo);ue(Ca,"TEST_VID",,Ca.isSupported=Ca.canPlayType=Ca.canPlaySource=function(t){return Ca.canPlayType(t.type)},Ca.canControlVolume=Ca.canMuteVolume=Ca.canControlPlaybackRate=function(){if(Ds&&Ns&&58>Rs)return!1;try{var t=Ca.TEST_VID.playbackRate;return Ca.TEST_VID.playbackRate=t/2+.1,t!==Ca.TEST_VID.playbackRate}catch(t){return!1}},Ca.canOverrideAttributes=Ca.supportsNativeTextTracks=Ca.supportsNativeVideoTracks=function(){return!(!Ca.TEST_VID||!Ca.TEST_VID.videoTracks)},Ca.supportsNativeAudioTracks=Ca.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(,Ca.prototype.movingMediaElementInDOM=!$s,Ca.prototype.featuresFullscreenResize=!0,Ca.prototype.featuresProgressEvents=!0,Ca.prototype.featuresTimeupdateEvents=!0,Ca.patchCanPlayType=Ca.unpatchCanPlayType=Ca.patchCanPlayType(),Ca.disposeMediaElement=Ca.resetMediaElement=["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(,["muted","defaultMuted","autoplay","loop","playsinline"].forEach(,["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(,["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(,["pause","load","play"].forEach(,Jo.withSourceHandlers(Ca),Ca.nativeSourceHandler={},Ca.nativeSourceHandler.canPlayType=Ca.nativeSourceHandler.canHandleSource=function(t){return t.type?Ca.nativeSourceHandler.canPlayType(t.type):t.src?(t=Tt(t.src),Ca.nativeSourceHandler.canPlayType("video/"+t)):""},Ca.nativeSourceHandler.handleSource=Ca.nativeSourceHandler.dispose=function(){},Ca.registerSourceHandler(Ca.nativeSourceHandler),Jo.registerTech("Html5",Ca);var Ea=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Oa={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Aa=["tiny","xsmall","small","medium","large","xlarge","huge"],Da={};Aa.forEach(;var Ia={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Pa=function(t){function e(n,r,s){var o,a;if(n.id=n.id||r.id||"vjs_video_"+Qs++,(r=i(e.getTagSettings(n),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest){var l=n.closest("[lang]");l&&l.getAttribute&&(r.language=l.getAttribute("lang"))}else for(var u=n;u&&1===u.nodeType;){if(b(u).hasOwnProperty("lang")){r.language=u.getAttribute("lang");break}u=u.parentNode}if((o=t.call(this,null,r,s)||this).boundDocumentFullscreenChange_=function(t){return o.documentFullscreenChange_(t)},o.boundFullWindowOnEscKey_=function(t){return o.fullWindowOnEscKey(t)},o.boundUpdateStyleEl_=function(t){return o.updateStyleEl_(t)},o.boundApplyInitTime_=function(t){return o.applyInitTime_(t)},o.boundUpdateCurrentBreakpoint_=function(t){return o.updateCurrentBreakpoint_(t)},o.boundHandleTechClick_=function(t){return o.handleTechClick_(t)},o.boundHandleTechDoubleClick_=function(t){return o.handleTechDoubleClick_(t)},o.boundHandleTechTouchStart_=function(t){return o.handleTechTouchStart_(t)},o.boundHandleTechTouchMove_=function(t){return o.handleTechTouchMove_(t)},o.boundHandleTechTouchEnd_=function(t){return o.handleTechTouchEnd_(t)},o.boundHandleTechTap_=function(t){return o.handleTechTap_(t)},o.isFullscreen_=!1,o.log=Ts(o.id_),o.fsApi_=hs,o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,o.debugEnabled_=!1,!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");return o.tag=n,o.tagAttributes=n&&b(n),o.language(o.options_.language),r.languages?(a={},Object.getOwnPropertyNames(r.languages).forEach(,o.languages_=a):o.languages_=e.prototype.options_.languages,o.resetCache_(),o.poster_=r.poster||"",o.controls_=!!r.controls,n.controls=!1,n.removeAttribute("controls"),o.changingSrc_=!1,o.playCallbacks_=[],o.playTerminatedQueue_=[],n.hasAttribute("autoplay")?o.autoplay(!0):o.autoplay(o.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(,o.scrubbing_=!1,o.el_=o.createEl(),rt(co(o),{eventBusKey:"el_"}),o.fsApi_.requestFullscreen&&(q(ds,o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_),o.on(o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_)),o.fluid_&&o.on(["playerreset","resize"],o.boundUpdateStyleEl_),s=lt(o.options_),r.plugins&&Object.keys(r.plugins).forEach(,r.debug&&o.debug(!0),o.options_.playerOptions=s,o.middleware_=[],o.playbackRates(r.playbackRates),o.initChildren(),o.isAudio("audio"===n.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),Us&&o.addClass("vjs-touch-enabled"),$s||o.addClass("vjs-workinghover"),e.players[o.id_]=co(o),n=os.split(".")[0],o.addClass("vjs-v"+n),o.userActive(!0),o.reportUserActivity(),o.one("play",function(t){return o.listenForUserActivity_(t)}),o.on("stageclick",function(t){return o.handleStageClick_(t)}),o.on("keydown",function(t){return o.handleKeyDown(t)}),o.on("languagechange",function(t){return o.handleLanguagechange(t)}),o.breakpoints(o.options_.breakpoints),o.responsive(o.options_.responsive),o}ho(e,t);var n=e.prototype;return n.dispose=function(){var i=this;this.trigger("dispose"),this.off("dispose"),$(ds,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),$(ds,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),ta[this.id()]=null,Bo.names.forEach(function(t){t=Bo[t],t=i[t.getterName](),t&&t.off&&t.off()}),t.prototype.dispose.call(this)},n.createEl=n.crossOrigin=function(t){return t?void("anonymous"===t||"use-credentials"===t?this.techCall_("setCrossOrigin",t):bs.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"')):this.techGet_("crossOrigin")},n.width=function(t){return this.dimension("width",t)},n.height=n.dimension=n.fluid=function(t){var e,i=this;return void 0===t?!!this.fluid_:(this.fluid_=!!t,ro(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),e=ro(t=this)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))):this.removeClass("vjs-fluid"),this.updateStyleEl_(),void 0)},n.fill=n.aspectRatio=n.updateStyleEl_=function(){var t,e,i,n;!0!==ls.VIDEOJS_NO_DYNAMIC_STYLE?(n=(i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"))[1]/i[0],t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/n:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*n,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),B(this.styleEl_,"\n      ."+i+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*n+"%;\n      }\n    ")):(e="number"==typeof this.width_?this.width_:this.options_.width,i="number"==typeof this.height_?this.height_:this.options_.height,(n=this.tech_&&this.tech_.el())&&(e>=0&&(n.width=e),i>=0&&(n.height=i)))},n.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_();var r=at(t),s=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==r&&this.tag&&(Jo.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var o=this.autoplay(),a={source:e,autoplay:o="string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay?!1:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+s+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};if(Bo.names.forEach(,i(a,this.options_[r]),i(a,this.options_[s]),i(a,this.options_[t.toLowerCase()]),this.tag&&(a.tag=this.tag),e&&e.src===this.cache_.src&&0<this.cache_.currentTime&&(a.startTime=this.cache_.currentTime),t=Jo.getTech(t),!t)throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'");this.tech_=new t(a),this.tech_.ready(Y(this,this.handleTechReady_),!0),go(this.textTracksJson_||[],this.tech_),Ea.forEach(,Object.keys(Oa).forEach(,this.on(this.tech_,"loadstart",function(t){return n.handleTechLoadStart_(t)}),this.on(this.tech_,"sourceset",function(t){return n.handleTechSourceset_(t)}),this.on(this.tech_,"waiting",function(t){return n.handleTechWaiting_(t)}),this.on(this.tech_,"ended",function(t){return n.handleTechEnded_(t)}),this.on(this.tech_,"seeking",function(t){return n.handleTechSeeking_(t)}),this.on(this.tech_,"play",function(t){return n.handleTechPlay_(t)}),this.on(this.tech_,"firstplay",function(t){return n.handleTechFirstPlay_(t)}),this.on(this.tech_,"pause",function(t){return n.handleTechPause_(t)}),this.on(this.tech_,"durationchange",function(t){return n.handleTechDurationChange_(t)}),this.on(this.tech_,"fullscreenchange",function(t,e){return n.handleTechFullscreenChange_(t,e)}),this.on(this.tech_,"fullscreenerror",function(t,e){return n.handleTechFullscreenError_(t,e)}),this.on(this.tech_,"enterpictureinpicture",function(t){return n.handleTechEnterPictureInPicture_(t)}),this.on(this.tech_,"leavepictureinpicture",function(t){return n.handleTechLeavePictureInPicture_(t)}),this.on(this.tech_,"error",function(t){return n.handleTechError_(t)}),this.on(this.tech_,"posterchange",function(t){return n.handleTechPosterChange_(t)}),this.on(this.tech_,"textdata",function(t){return n.handleTechTextData_(t)}),this.on(this.tech_,"ratechange",function(t){return n.handleTechRateChange_(t)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||f(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var t=this;Bo.names.forEach(,this.textTracksJson_=mo(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=n.addTechControlsListeners_=n.removeTechControlsListeners_=n.handleTechReady_=n.handleTechLoadStart_=n.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){var i,n=function(){ar i=e.muted();e.muted(!0),e.playTerminatedQueue_.push(t);var n=e.play();return ft(n)?n["catch"](:void 0};if("any"!==t||this.muted()?i="muted"!==t||this.muted()?this.play():n():ft(i=this.play())&&(i=i["catch"](n)),ft(i))return i.then(function(){e.trigger({type:"autoplay-success",autoplay:t})})["catch"](}},n.updateSourceCaches_=n.handleTechSourceset_=n.hasStarted=n.handleTechPlay_=n.handleTechRateChange_=n.handleTechWaiting_=n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=n.handleTechPause_=n.handleTechEnded_=n.handleTechDurationChange_=n.handleTechClick_=n.handleTechDoubleClick_=n.handleTechTap_=n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=n.handleTechTouchEnd_=n.handleStageClick_=n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=n.handleTechFullscreenChange_=n.handleTechFullscreenError_=n.togglePictureInPictureClass_=n.handleTechEnterPictureInPicture_=function(){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(){this.isInPictureInPicture(!1)},n.handleTechError_=n.handleTechTextData_=n.getCache=function(){return this.cache_},n.resetCache_=n.techCall_=n.techGet_=n.play=n.play_=function(t){var e=this;return this.playCallbacks_.push(t=void 0===t?mt:t),t=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),this.isReady_&&t?(t=this.techGet_("play"),void(null===t?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(t))):(this.waitToPlay_=function(){e.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(t||!Ws&&!$s||this.load()))},n.runPlayTerminatedQueue_=n.runPlayCallbacks_=n.pause=function(){this.techCall_("pause")},n.paused=n.played=n.scrubbing=function(t){return"undefined"==typeof t?this.scrubbing_:(this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),void 0)},n.currentTime=function(t){return"undefined"!=typeof t?(0>t&&(t=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",t),void(this.cache_.initTime=0)):(this.cache_.initTime=t,this.off("canplay",this.boundApplyInitTime_),
void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.applyInitTime_=n.duration=function(t){return void 0===t?void 0!==this.cache_.duration?this.cache_.duration:NaN:void((t=(t=parseFloat(t))<0?1/0:t)!==this.cache_.duration&&((this.cache_.duration=t)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange")))},n.remainingTime=n.remainingTimeDisplay=n.buffered=n.bufferedPercent=n.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),t=t.end(t.length-1);return t=t>e?e:t},n.volume=n.muted=function(t){return void 0===t?this.techGet_("muted")||!1:void this.techCall_("setMuted",t)},n.defaultMuted=n.lastVolume_=function(t){return void 0===t||0===t?this.cache_.lastVolume:void(this.cache_.lastVolume=t)},n.supportsFullScreen=n.isFullscreen=n.requestFullscreen=n.requestFullscreenHelper_=n.exitFullscreen=n.exitFullscreenHelper_=n.enterFullWindow=n.fullWindowOnEscKey=n.exitFullWindow=n.disablePictureInPicture=function(t){return void 0===t?this.techGet_("disablePictureInPicture"):(this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged"),void 0)},n.isInPictureInPicture=n.requestPictureInPicture=function(){return"pictureInPictureEnabled"in ds&&!1===this.disablePictureInPicture()?this.techGet_("requestPictureInPicture"):void 0},n.exitPictureInPicture=function(){return"pictureInPictureEnabled"in ds?ds.exitPictureInPicture():void 0},n.handleKeyDown=function(t){var e=this.options_.userActions;e&&e.hotkeys&&(function(t){var e=t.tagName.toLowerCase();return t.isContentEditable?!0:"input"===e?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(t.type):-1!==["textarea"].indexOf(e)}(this.el_.ownerDocument.activeElement)||("function"==typeof e.hotkeys?e.hotkeys.call(this,t):this.handleHotkeys(t)))},n.handleHotkeys=n.canPlayType=n.selectSource=function(t){function e(t,e,i){var n;return t.some(function(t){return e.some(function(e){return(n=i(t,e))?!0:void 0})}),n}var i,n=this,r=this.options_.techOrder.map(.filter(,s=function(t,e){var i=t[0];return t[1].canPlaySource(e,n.options_[i.toLowerCase()])?{source:e,tech:i}:void 0},s=this.options_.sourceOrder?e(t,r,(i=s,):e(r,t,s);return s||!1},n.handleSrc_=n.src=n.src_=n.load=function(){this.techCall_("load")},n.reset=n.doReset_=n.resetControlBarUI_=n.resetProgressBar_=n.resetPlaybackRate_=n.resetVolumeBar_=n.currentSources=n.currentSource=n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=n.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},n.autoplay=n.playsinline=n.loop=n.poster=function(t){return void 0===t?this.poster_:void((t=t||"")!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange")))},n.handleTechPosterChange_=n.controls=function(t){return void 0===t?!!this.controls_:void(this.controls_!==(t=!!t)&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())))},n.usingNativeControls=function(t){return void 0===t?!!this.usingNativeControls_:void(this.usingNativeControls_!==(t=!!t)&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))))},n.error=function(t){if(void 0===t)return this.error_||null;if(this.options_.suppressNotSupportedError&&t&&4===t.code){var e=return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("loadstart",}return null===t?(this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new pt(t),this.addClass("vjs-error"),bs.error("(CODE:"+this.error_.code+" "+pt.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),void 0)},n.reportUserActivity=function(){this.userActivity_=!0},n.userActive=n.listenForUserActivity_=function(){var t,e,i,n=Y(this,this.reportUserActivity),r=this.on("mousedown",,this.on("mousemove",,this.on("mouseup",r),this.on("mouseleave",r);var s,r=this.getChild("controlBar");!r||$s||Ds||(r.on("mouseenter",function(){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0}),r.on("mouseleave",function(){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",n),this.on("keyup",n),this.setInterval(250)},n.playbackRate=function(t){return void 0===t?this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1:void this.techCall_("setPlaybackRate",t)},n.defaultPlaybackRate=n.isAudio=function(t){return void 0===t?!!this.isAudio_:void(this.isAudio_=!!t)},n.addTextTrack=function(t,e,i){return this.tech_?this.tech_.addTextTrack(t,e,i):void 0},n.addRemoteTextTrack=n.removeRemoteTextTrack=function(t){var e=(e=(t=void 0===t?{}:t).track)||t;return this.tech_?this.tech_.removeRemoteTextTrack(e):void 0},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=n.language=function(t){return void 0===t?this.language_:void(this.language_!==String(t).toLowerCase()&&(this.language_=String(t).toLowerCase(),ro(this)&&this.trigger("languagechange")))},n.languages=n.toJSON=n.createModal=n.updateCurrentBreakpoint_=n.removeCurrentBreakpoint_=n.breakpoints=n.responsive=n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=n.loadMedia=n.getMedia=e.getTagSettings=function(t){var e,n={sources:[],tracks:[]},r=b(t),s=r["data-setup"];if(m(t,"vjs-fill")&&(r.fill=!0),m(t,"vjs-fluid")&&(r.fluid=!0),null!==s&&(s=(e=fo(s||"{}"))[0],e=e[1],s&&bs.error(s),i(r,e)),i(n,r),t.hasChildNodes())for(var o=t.childNodes,a=0,l=o.length;l>a;a++){var u=o[a],c=u.nodeName.toLowerCase();"source"===c?n.sources.push(b(u)):"track"===c&&n.tracks.push(b(u))}return n},n.flexNotSupported_=n.debug=function(t){return void 0===t?this.debugEnabled_:void(t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1))},n.playbackRates=function(t){return void 0===t?this.cache_.playbackRates:void(Array.isArray(t)&&t.every(&&(this.cache_.playbackRates=t,this.trigger("playbackrateschange")))},e}(uo);Bo.names.forEach(,Pa.prototype.crossorigin=Pa.prototype.crossOrigin,Pa.players={},Es=ls.navigator,Pa.prototype.options_={techOrder:Jo.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Es&&(Es.languages&&Es.languages[0]||Es.userLanguage||Es.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(,Ea.forEach(,uo.registerComponent("Player",Pa);var La=t(,Ma=Na=t(function(t){function e(){return Ma()?t.exports=e=Reflect.construct:t.exports=e=e.apply(null,arguments)}t.exports=e}),Ra="plugin",ja="activePlugins_",Ba={},Fa=Ua=function(){ar e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=e.trigger=e.handleStateChanged=function(){},e.dispose=t.isBasic=function(e){return e="string"==typeof e?de(e):e,"function"==typeof e&&!t.prototype.isPrototypeOf(e.prototype)},t.registerPlugin=t.deregisterPlugin=t.getPlugins=t.getPluginVersion=function(t){return t=de(t),t&&t.VERSION||""},t}();Ua.getPlugin=de,Ua.BASE_PLUGIN_NAME=Ra,Ua.registerPlugin(Ra,Ua),Pa.prototype.usingPlugin=Pa.prototype.hasPlugin=var Ha=qa=me.hooks_={},me.hooks=me.hook=me.hookOnce=me.removeHook=function(t,e){return e=me.hooks(t).indexOf(e),!(-1>=e||(me.hooks_[t]=me.hooks_[t].slice(),me.hooks_[t].splice(e,1),0))},!0!==ls.VIDEOJS_NO_DYNAMIC_STYLE&&l()&&((za=Vs(".vjs-styles-defaults"))||(za=j("vjs-styles-defaults"),(Es=Vs("head"))&&Es.insertBefore(za,Es.firstChild),B(za,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    "))),N(1,me),me.VERSION=os,me.options=Pa.prototype.options_,me.getPlayers=function(){return Pa.players},me.getPlayer=function(t){var e=Pa.players;if("string"==typeof t){var i=qa(t),n=e[i];if(n)return n;i=Vs("#"+i)}else i=t;return u(i)&&(t=i.player,i=i.playerId,t||e[i])?t||e[i]:void 0},me.getAllPlayers=me.players=Pa.players,me.getComponent=uo.getComponent,me.registerComponent=me.getTech=Jo.getTech,me.registerTech=Jo.registerTech,me.use=Object.defineProperty(me,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(me.middleware,"TERMINATOR",{value:ea,writeable:!1,enumerable:!0}),me.browser=zs,me.TOUCH_ENABLED=Us,me.extend=me.mergeOptions=lt,me.bind=Y,me.registerPlugin=Ua.registerPlugin,me.deregisterPlugin=Ua.deregisterPlugin,me.plugin=me.getPlugins=Ua.getPlugins,me.getPlugin=Ua.getPlugin,me.getPluginVersion=Ua.getPluginVersion,me.addLanguage=me.log=bs,me.createLogger=Ts,me.createTimeRange=me.createTimeRanges=dt,me.formatTime=ee,me.setFormatTime=function(t){ca=t},me.resetFormatTime=me.parseUrl=_t,me.isCrossOrigin=wt,me.EventTarget=X,me.on=q,me.one=z,me.off=$,me.trigger=W,me.xhr=Po,me.TextTrack=Lo,me.AudioTrack=Mo,me.VideoTrack=No,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(,me.computedStyle=s,me.dom=Ks,me.url=Oo,me.defineLazyProperty=ue,me.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var $a=t(function(t){var e,i,n,r,s;e=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,i=/^([^\/?#]*)([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var r=s.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}if(r=s.parseURL(e),!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return n.alwaysNormalize?(r.path=s.normalizePath(r.path),s.buildURLFromParts(r)):e;if(e=s.parseURL(t),!e)throw new Error("Error trying to parse base URL.");!e.netLoc&&e.path&&"/"!==e.path[0]&&(o=i.exec(e.path),e.netLoc=o[1],e.path=o[2]),e.netLoc&&!e.path&&(e.path="/");var o,t={scheme:e.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};return r.netLoc||(t.netLoc=e.netLoc,"/"!==r.path[0]&&(r.path?(o=(o=e.path).substring(0,o.lastIndexOf("/")+1)+r.path,t.path=s.normalizePath(o)):(t.path=e.path,r.params||(t.params=e.params,r.query||(t.query=e.query))))),null===t.path&&(t.path=n.alwaysNormalize?s.normalizePath(r.path):r.path),s.buildURLFromParts(t)},parseURL:function(t){return t=e.exec(t),t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:buildURLFromParts:,t.exports=s}),Wa="http://example.com",za=function(){ar e=t.prototype;return e.on=e.off=function(t,e){return this.listeners[t]?(e=this.listeners[t].indexOf(e),this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(e,1),e>-1):!1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var i=e.length,n=0;i>n;++n)e[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),s=e.length,o=0;s>o;++o)e[o].apply(this,r)},e.dispose=e.pipe=t}(),Va=Ya=function(t){eturn ho(e,t),e.prototype.push=e}(za),Ka=String.fromCharCode(9),Ga=function(t){o(e,t);var i=e.prototype;return i.push=function(t){var e,i,n=this;0!==(t=t.trim()).length&&("#"===t[0]?this.tagMappers.reduce(function(e,i){return i=i(t),i===t?e:e.concat([i])},[t]).forEach(:this.trigger("data",{type:"uri",uri:t}))},i.addParser=function(t){var e=this,i=t.expression,n=t.customType,r=t.dataParser,s=t.segment;"function"!=typeof r&&(r=,this.customParsers.push(function(t){return i.exec(t)?(e.trigger("data",{type:"custom",data:r(t),customType:n,segment:s}),!0):void 0})},i.addTagMapper=e}(za),Xa=function(t){function e(){var e=t.call(this)||this;e.lineStream=new Ya,e.parseStream=new Ga,e.lineStream.pipe(e.parseStream);var i,n,r=co(e),s=[],o={},a=!1,l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u=0;e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var c=0,d=0;return e.on("end",,e.parseStream.on("data",function(t){var e,h;({tag:function(){(({version:"allow-cache":byterange:endlist:inf:key:"media-sequence":"discontinuity-sequence":"playlist-type":map:"stream-inf":media:function(){var i;this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME?((i=this.manifest.mediaGroups[t.attributes.TYPE])[t.attributes["GROUP-ID"]]=i[t.attributes["GROUP-ID"]]||{},e=i[t.attributes["GROUP-ID"]],(h={"default":/yes/i.test(t.attributes.DEFAULT)})["default"]?h.autoselect=!0:h.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(h.language=t.attributes.LANGUAGE),t.attributes.URI&&(h.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(h.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(h.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(h.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=h):this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:"program-date-time":targetduration:start:"cue-out":function(){o.cueOut=t.data},"cue-out-cont":function(){o.cueOutCont=t.data},"cue-in":skip:part:"server-control":"preload-hint":"rendition-report":"part-inf":)[t.tagType]||function(){}).call(r)},uri:comment:function(){},custom:)[t.type].call(r)}),e}ho(e,t);var i=e.prototype;return i.warnOnMissingAttributes_=i.push=function(t){this.lineStream.push(t)},i.end=i.addParser=function(t){this.parseStream.addParser(t)},i.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(za),Qa={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Ja=["video","audio","text"],Za=["Video","Audio","Text"],tl="mp4a.40.2",el=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,il=/^application\/dash\+xml/i,nl={entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a","int":"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}},zs=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Mo=new RegExp("[\\-\\.0-9"+zs.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),rl=new RegExp("^"+zs.source+Mo.source+"*(?::"+zs.source+Mo.source+"*)?$"),sl=0,ol=1,al=2,ll=3,ul=4,cl=5,dl=6,hl=7;(Ae.prototype=new Error).name=Ae.name,De.prototype={parse:function(t,e,i){var n=this.domBuilder;n.startDocument(),Le(e,e={}),function(t,e,i,n,r){unction o(e){var i;e>f&&(i=t.substring(f,e).replace(/&#?\w+;/g,s),d&&a(f),n.characters(i,0,e-f),f=e)}or(var l=0,u=0,c=/.*(?:\r\n?|\n)|.*$/g,d=n.locator,h=[{currentNSMap:e}],p={},f=0;;){try{var m,g,v=t.indexOf("<",f);if(0>v)return t.substr(f).match(/^\s*$/)||(m=n.doc,g=m.createTextNode(t.substr(f)),m.appendChild(g),n.currentElement=g);switch(v>f&&o(v),t.charAt(v+1)){case"/":var y=t.indexOf(">",v+3),_=t.substring(v+2,y),b=h.pop();0>y?(_=t.substring(v+2).replace(/[\s<].*/,""),r.error("end tag name: "+_+" is not complete:"+b.tagName),y=v+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),r.error("end tag name: "+_+" maybe not complete"),y=v+1+_.length);var T=b.localNSMap,w=b.tagName==_;if(w||b.tagName&&b.tagName.toLowerCase()==_.toLowerCase()){if(n.endElement(b.uri,b.localName,_),T)for(var k in T)n.endPrefixMapping(k);w||r.fatalError("end tag name: "+_+" is not match the current start tagName:"+b.tagName)}else h.push(b);y++;break;case"?":d&&a(v),y=function(t,e,i){var n=t.indexOf("?>",e);return n?(e=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/),e?(e[0].length,i.processingInstruction(e[1],e[2]),n+2):-1):-1}(t,v,n);break;case"!":d&&a(v),y=function(t,e,i,n){if("-"===t.charAt(e+2)){if("-"!==t.charAt(e+3))return-1;var r=t.indexOf("-->",e+4);return r>e?(i.comment(t,e+4,r-e-4),r+3):(n.error("Unclosed comment"),-1)}if("CDATA["==t.substr(e+3,6))return r=t.indexOf("]]>",e+9),i.startCDATA(),i.characters(t,e+9,r-e-9),i.endCDATA(),r+3;var s=t,e),n=s.length;return n>1&&/!doctype/i.test(s[0][0])?(r=s[1][0],t=!1,e=!1,n>3&&(/^public$/i.test(s[2][0])?(t=s[3][0],e=n>4&&s[4][0]):/^system$/i.test(s[2][0])&&(e=s[3][0])),n=s[n-1],i.startDTD(r,t,e),i.endDTD(),n.index+n[0].length):-1}(t,v,n,r);break;default:d&&a(v);var x=new Me,S=h[h.length-1].currentNSMap,y=function(t,e,i,n,r,s){or(var a,l=++e,u=sl;;){var c=t.charAt(l);switch(c){case"=":if(u===ol)a=t.slice(e,l),u=ll;else{if(u!==al)throw new Error("attribute equal must after attrName");u=ll}break;case"'":case'"':if(u===ll||u===ol){if(u===ol&&(s.warning('attribute value must after "="'),a=t.slice(e,l)),e=l+1,!(0<(l=t.indexOf(c,e))))throw new Error("attribute value no end '"+c+"' match");d=t.slice(e,l).replace(/&#?\w+;/g,r),o(a,d,e-1),u=cl}else{if(u!=ul)throw new Error('attribute value must after "="');d=t.slice(e,l).replace(/&#?\w+;/g,r),o(a,d,e),s.warning('attribute "'+a+'" missed start quot('+c+")!!"),e=l+1,u=cl}break;case"/":switch(u){case sl:i.setTagName(t.slice(e,l));case cl:case dl:case hl:u=hl,i.closed=!0;case ul:case ol:case al:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),u==sl&&i.setTagName(t.slice(e,l)),l;case">":switch(u){case sl:i.setTagName(t.slice(e,l));case cl:case dl:case hl:break;case ul:case ol:"/"===(d=t.slice(e,l)).slice(-1)&&(i.closed=!0,d=d.slice(0,-1));case al:u===al&&(d=a),u==ul?(s.warning('attribute "'+d+'" missed quot(")!'),o(a,d.replace(/&#?\w+;/g,r),e)):("http://www.w3.org/1999/xhtml"===n[""]&&d.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),o(d,d,e));break;case ll:throw new Error("attribute value missed!!")}return l;case"\x80":c=" ";default:if(" ">=c)switch(u){case sl:i.setTagName(t.slice(e,l)),u=dl;break;case ol:a=t.slice(e,l),u=al;break;case ul:var d=t.slice(e,l).replace(/&#?\w+;/g,r);s.warning('attribute "'+d+'" missed quot(")!!'),o(a,d,e);case cl:u=dl}else switch(u){case al:i.tagName,"http://www.w3.org/1999/xhtml"===n[""]&&a.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),o(a,a,e),e=l,u=ol;break;case cl:s.warning('attribute space is required"'+a+'"!!');case dl:u=ol,e=l;break;case ll:u=ul,e=l;break;case hl:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}(t,v,x,S,s,r),C=x.length;if(!x.closed&&function(t,e,i,n){var r=n[i];return null==r&&((r=t.lastIndexOf("</"+i+">"))<e&&(r=t.lastIndexOf("</"+i)),n[i]=r),e>r}(t,y,x.tagName,p)&&(x.closed=!0,i.nbsp||r.warning("unclosed xml attribute")),d&&C){for(var E=Ie(d,{}),O=0;C>O;O++){var A=x[O];a(A.offset),A.locator=Ie(d,{})}n.locator=E,Pe(x,n,S)&&h.push(x),n.locator=d}else Pe(x,n,S)&&h.push(x);"http://www.w3.org/1999/xhtml"!==x.uri||x.closed?y++:y=t,y,x.tagName,s,n)}}catch(e){if(e instanceof Ae)throw e;r.error("element parse error: "+e),y=-1}y>f?f=y:o(Math.max(v,f)+1)}}(t,e,i,n,this.errorHandler),n.endDocument()}},Me.prototype={setTagName:addValue:length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:;var pl={XMLReader:De,ParseError:Ae},fl="http://www.w3.org/1999/xhtml",No={},ml=No.ELEMENT_NODE=1,gl=No.ATTRIBUTE_NODE=2,vl=No.TEXT_NODE=3,yl=No.CDATA_SECTION_NODE=4,_l=No.ENTITY_REFERENCE_NODE=5,bl=(No.ENTITY_NODE=6,No.PROCESSING_INSTRUCTION_NODE=7),Tl=No.COMMENT_NODE=8,wl=No.DOCUMENT_NODE=9,kl=No.DOCUMENT_TYPE_NODE=10,xl=No.DOCUMENT_FRAGMENT_NODE=11,Oo=(No.NOTATION_NODE=12,{}),Sl={};Oo.INDEX_SIZE_ERR=(Sl[1]="Index size error",1),Oo.DOMSTRING_SIZE_ERR=(Sl[2]="DOMString size error",2),Oo.HIERARCHY_REQUEST_ERR=(Sl[3]="Hierarchy request error",3),Oo.WRONG_DOCUMENT_ERR=(Sl[4]="Wrong document",4),Oo.INVALID_CHARACTER_ERR=(Sl[5]="Invalid character",5),Oo.NO_DATA_ALLOWED_ERR=(Sl[6]="No data allowed",6),Oo.NO_MODIFICATION_ALLOWED_ERR=(Sl[7]="No modification allowed",7),Oo.NOT_FOUND_ERR=(Sl[8]="Not found",8),Oo.NOT_SUPPORTED_ERR=(Sl[9]="Not supported",9);var Cl;Oo.INUSE_ATTRIBUTE_ERR=(Sl[10]="Attribute in use",10),Oo.INVALID_STATE_ERR=(Sl[11]="Invalid state",11),Oo.SYNTAX_ERR=(Sl[12]="Syntax error",12),Oo.INVALID_MODIFICATION_ERR=(Sl[13]="Invalid modification",13),Oo.NAMESPACE_ERR=(Sl[14]="Invalid namespace",14),Oo.INVALID_ACCESS_ERR=(Sl[15]="Invalid access",15),je.prototype=Error.prototype,Ne(Oo,je),Be.prototype={length:0,item:toString:,Fe.prototype.item=Re(Fe,Be),He.prototype={length:0,item:Be.prototype.item,getNamedItem:setNamedItem:setNamedItemNS:removeNamedItem:removeNamedItemNS:getNamedItemNS:,ze.prototype={hasFeature:function(t,e){return t=this._features[t.toLowerCase()],!(!t||e&&!(e in t))},createDocument:createDocumentType:,Ve.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:replaceChild:removeChild:appendChild:hasChildNodes:cloneNode:function(t){return function e(t,i,n){var r=new i.constructor;for(var s in i){var o=i[s];"object"!=typeof o&&o!=r[s]&&(r[s]=o)}switch(i.childNodes&&(r.childNodes=new Be),r.ownerDocument=t,r.nodeType){case ml:var a=i.attributes,l=r.attributes=new He,u=a.length;l._ownerElement=r;for(var c=0;u>c;c++)r.setAttributeNode(e(t,a.item(c),!0));break;case gl:n=!0}if(n)for(var d=i.firstChild;d;)r.appendChild(e(t,d,n)),d=d.nextSibling;return r}(this.ownerDocument||this,this,t)},normalize:isSupported:hasAttributes:lookupPrefix:lookupNamespaceURI:isDefaultNamespace:,Ne(No,Ve),Ne(No,Ve.prototype),Ge.prototype={nodeName:"#document",nodeType:wl,doctype:null,documentElement:null,_inc:1,insertBefore:removeChild:importNode:function(t,e){return function i(t,e,n){var r;switch(e.nodeType){case ml:(r=e.cloneNode(!1)).ownerDocument=t;case xl:break;case gl:n=!0}if(r=r||e.cloneNode(!1),r.ownerDocument=t,r.parentNode=null,n)for(var s=e.firstChild;s;)r.appendChild(i(t,s,n)),s=s.nextSibling;return r}(this,t,e)},getElementById:function(t){var e=null;return Ke(this.documentElement,function(i){return i.nodeType==ml&&i.getAttribute("id")==t?(e=i,!0):void 0}),e},getElementsByClassName:createElement:createDocumentFragment:createTextNode:function(t){var e=new ni;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new ri;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:createProcessingInstruction:createAttribute:createEntityReference:createElementNS:createAttributeNS:,Re(Ge,Ve),Ge.prototype.getElementsByTagName=(ti.prototype={nodeType:ml,hasAttribute:getAttribute:function(t){return t=this.getAttributeNode(t),t&&t.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){t=this.ownerDocument.createAttribute(t),t.value=t.nodeValue=""+e,this.setAttributeNode(t)},removeAttribute:function(t){t=this.getAttributeNode(t),t&&this.removeAttributeNode(t)},appendChild:setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:removeAttributeNode:removeAttributeNS:function(t,e){e=this.getAttributeNodeNS(t,e),e&&this.removeAttributeNode(e)},hasAttributeNS:getAttributeNS:function(t,e){return e=this.getAttributeNodeNS(t,e),e&&e.value||""},setAttributeNS:function(t,e,i){e=this.ownerDocument.createAttributeNS(t,e),e.value=e.nodeValue=""+i,this.setAttributeNode(e)},getAttributeNodeNS:getElementsByTagName:getElementsByTagNameNS:).getElementsByTagName,Ge.prototype.getElementsByTagNameNS=ti.prototype.getElementsByTagNameNS,Re(ti,Ve),ei.prototype.nodeType=gl,Re(ei,Ve),ii.prototype={data:"",substringData:appendData:insertData:appendChild:deleteData:replaceData:,Re(ii,Ve),ni.prototype={nodeName:"#text",nodeType:vl,splitText:,Re(ni,ii),ri.prototype={nodeName:"#comment",nodeType:Tl},Re(ri,ii),si.prototype={nodeName:"#cdata-section",nodeType:yl},Re(si,ii),oi.prototype.nodeType=kl,Re(oi,Ve),ai.prototype.nodeType=12,Re(ai,Ve),li.prototype.nodeType=6,Re(li,Ve),ui.prototype.nodeType=_l,Re(ui,Ve),ci.prototype.nodeName="#document-fragment",ci.prototype.nodeType=xl,Re(ci,Ve),di.prototype.nodeType=bl,Re(di,Ve),hi.prototype.serializeToString=Ve.prototype.toString=pi;try{Object.defineProperty&&(Cl=Object.defineProperty(Fe.prototype,"length",{get:),Object.defineProperty(Ve.prototype,"textContent",{get:set:),gi=}catch(as){}var El={Node:Ve,DOMException:je,DOMImplementation:ze,XMLSerializer:hi},za=t(function(t,e){ction s(t){return t?"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]":void 0}prototype.parseFromString=function(t,e){var i=this.options,r=new l,o=i.domBuilder||new n,a=i.errorHandler,u=i.locator,c=i.xmlns||{},d=/\/x?html?$/.test(e),e=d?nl.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&o.setDocumentLocator(u),r.errorHandler=function(t,e,i){f(!t){if(e instanceof n)return e;
t=e}var o={},a=t instanceof Function;return i=i||{},r("warning"),r("error"),r("fatalError"),o}(a,o,u),r.domBuilder=i.domBuilder||o,d&&(c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",t&&"string"==typeof t?r.parse(t,c,e):r.errorHandler.error("invalid doc source"),o.doc},n.prototype={startDocument:startElement:function(t,e,i,n){var s=this.doc,o=s.createElementNS(t,i||e),l=n.length;a(this,o),this.currentElement=o,this.locator&&r(this.locator,o);for(var u=0;l>u;u++){var t=n.getURI(u),c=n.getValue(u),i=n.getQName(u),d=s.createAttributeNS(t,i);this.locator&&r(n.getLocator(u),d),d.value=d.nodeValue=c,o.setAttributeNode(d)}},endElement:function(){var t=this.currentElement;t.tagName,this.currentElement=t.parentNode},startPrefixMapping:function(){},endPrefixMapping:function(){},processingInstruction:ignorableWhitespace:function(){},characters:function(t){var e;(t=o.apply(this,arguments))&&(e=this.cdata?this.doc.createCDATASection(t):this.doc.createTextNode(t),this.currentElement?this.currentElement.appendChild(e):/^\s*$/.test(t)&&this.doc.appendChild(e),this.locator&&r(this.locator,e))},skippedEntity:function(){},endDocument:function(){this.doc.normalize()},setDocumentLocator:comment:function(t){t=o.apply(this,arguments),t=this.doc.createComment(t),this.locator&&r(this.locator,t),a(this,t)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:warning:function(){},error:function(){},fatalError:,"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,;var l=pl.XMLReader,u=pl.ParseError,c=e.DOMImplementation=El.DOMImplementation;e.XMLSerializer=El.XMLSerializer,e.DOMParser=i,e.__DOMHandler=n});za.DOMImplementation,za.XMLSerializer;var Ol=za.DOMParser;za.__DOMHandler;var Al="INVALID_NUMBER_OF_PERIOD",Dl="DASH_EMPTY_MANIFEST",Il="DASH_INVALID_XML",Pl="NO_BASE_URL",Ll="SEGMENT_TIME_UNSPECIFIED",Ml="UNSUPPORTED_UTC_TIMING_SCHEME",Nl={"static":dynamic:,Rl=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,jl={mediaPresentationDuration:qi,availabilityStartTime:minimumUpdatePeriod:qi,suggestedPresentationDelay:qi,type:function(t){return t},timeShiftBufferDepth:qi,start:qi,width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},presentationTimeOffset:function(t){return parseInt(t,10)},duration:d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:DEFAULT:function(t){return t}},Bl={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Fl=Math.pow(2,32),Ul=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;0===i.version?(i.earliestPresentationTime=e.getUint32(n),i.firstOffset=e.getUint32(n+4),n+=8):(i.earliestPresentationTime=e.getUint32(n)*Fl+e.getUint32(n+4),i.firstOffset=e.getUint32(n+8)*Fl+e.getUint32(n+12),n+=16);var r=e.getUint16(n+=2);for(n+=2;r>0;n+=12,r--)i.references.push({referenceType:(128&t[n])>>>7,referencedSize:2147483647&e.getUint32(n),subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(128&t[n+8]),sapType:(112&t[n+8])>>>4,sapDeltaTime:268435455&e.getUint32(n+8)});return i},Hl=ls.BigInt||Number,ql=[Hl("0x1"),Hl("0x100"),Hl("0x10000"),Hl("0x1000000"),Hl("0x100000000"),Hl("0x10000000000"),Hl("0x1000000000000"),Hl("0x100000000000000"),Hl("0x10000000000000000")],$l=Qi([73,68,51]),Wl={EBML:Qi([26,69,223,163]),DocType:Qi([66,130]),Segment:Qi([24,83,128,103]),SegmentInfo:Qi([21,73,169,102]),Tracks:Qi([22,84,174,107]),Track:Qi([174]),TrackNumber:Qi([215]),DefaultDuration:Qi([35,227,131]),TrackEntry:Qi([174]),TrackType:Qi([131]),FlagDefault:Qi([136]),CodecID:Qi([134]),CodecPrivate:Qi([99,162]),VideoTrack:Qi([224]),AudioTrack:Qi([225]),Cluster:Qi([31,67,182,117]),Timestamp:Qi([231]),TimestampScale:Qi([42,215,177]),BlockGroup:Qi([160]),BlockDuration:Qi([155]),Block:Qi([161]),SimpleBlock:Qi([163])},zl=[128,64,32,16,8,4,2,1],Vl=Qi([0,0,0,1]),Yl=Qi([0,0,1]),Kl=Qi([0,0,3]),Gl={webm:Qi([119,101,98,109]),matroska:Qi([109,97,116,114,111,115,107,97]),flac:Qi([102,76,97,67]),ogg:Qi([79,103,103,83]),ac3:Qi([11,119]),riff:Qi([82,73,70,70]),avi:Qi([65,86,73]),wav:Qi([87,65,86,69]),"3gp":Qi([102,116,121,112,51,103]),mp4:Qi([102,116,121,112]),fmp4:Qi([115,116,121,112]),mov:Qi([102,116,121,112,113,116])},Xl={aac:function(t){var e=en(t);return tn(t,[255,16],{offset:e,mask:[255,22]})},mp3:webm:function(t){return t=ln(t,[Wl.EBML,Wl.DocType])[0],tn(t,Gl.webm)},mkv:mp4:mov:"3gp":ac3:function(t){var e=en(t);return tn(t,Gl.ac3,{offset:e})},ts:function(t){if(t.length<189&&1<=t.length)return 71===t[0];for(var e=0;e+188<t.length&&188>e;){if(71===t[e]&&71===t[e+188])return!0;e+=1}return!1},flac:ogg:avi:function(t){return tn(t,Gl.riff)&&tn(t,Gl.avi,{offset:8})},wav:h264:h265:,Ql=Object.keys(Xl).filter(.concat(["ts","h264","h265"]);Ql.forEach(;var Jl,Zl=Xl,tu=9e4,eu=ge,iu=1/30,nu=me.createTimeRange,ru={liveEdgeDelay:wn,duration:xn,seekable:getMediaInfoForTime:function(t){for(var e=t.playlist,i=t.currentTime,n=t.startingSegmentIndex,r=t.startingPartIndex,s=t.startTime,o=i-s,a=_n(e),l=0,u=0;u<a.length;u++){var c=a[u];if(n===c.segmentIndex&&("number"!=typeof r||"number"!=typeof c.partIndex||r===c.partIndex)){l=u;break}}if(0>o){if(l>0)for(var d=l-1;d>=0;d--){var h=a[d];if(0<(o+=h.duration)+iu)return{partIndex:h.partIndex,segmentIndex:h.segmentIndex,startTime:s-Sn({defaultDuration:e.targetDuration,durationList:a,startIndex:l,endIndex:d})}}return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:i}}if(0>l){for(var p=l;0>p;p++)if((o-=e.targetDuration)<0)return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:i};l=0}for(var f=l;f<a.length;f++){var m=a[f];if((o-=m.duration)-iu<0)return{partIndex:m.partIndex,segmentIndex:m.segmentIndex,startTime:s+Sn({defaultDuration:e.targetDuration,durationList:a,startIndex:l,endIndex:f})}}return{segmentIndex:a[a.length-1].segmentIndex,partIndex:a[a.length-1].partIndex,startTime:i}},isEnabled:An,isDisabled:isBlacklisted:En,isIncompatible:On,playlistEnd:Cn,isAes:hasAttribute:Dn,estimateSegmentRequestTime:isLowestEnabledRendition:In,isAudioOnly:Mn,playlistMatch:Pn},su=me.log,ou=me.mergeOptions,zs=me.EventTarget,au=function(t){function e(e,i,n){var r;if(void 0===n&&(n={}),r=t.call(this)||this,!e)throw new Error("A non-empty playlist URL or object is required");r.logger_=hn("PlaylistLoader");var s=n.withCredentials,s=void 0!==s&&s,n=n.handleManifestRedirects,n=void 0!==n&&n;return r.src=e,r.vhs_=i,r.withCredentials=s,r.handleManifestRedirects=n,i=i.options_,r.customTagParsers=i&&i.customTagParsers||[],r.customTagMappers=i&&i.customTagMappers||[],r.experimentalLLHLS=i&&i.experimentalLLHLS||!1,r.state="HAVE_NOTHING",r.handleMediaupdatetimeout_=r.handleMediaupdatetimeout_.bind(co(r)),r.on("mediaupdatetimeout",r.handleMediaupdatetimeout_),r}ho(e,t);var i=e.prototype;return i.handleMediaupdatetimeout_=function(){var t,e,i=this;"HAVE_METADATA"===this.state&&(t=this.media(),e=eu(this.master.uri,t.uri),this.experimentalLLHLS&&(e=function(t,e){if(e.endList)return t;var i,n,r,s=[];return e.serverControl&&e.serverControl.canBlockReload&&(r=e.preloadSegment,i=e.mediaSequence+e.segments.length,r&&(n=r.parts||[],-1<(r=Tn(e)-1)&&r!=n.length-1&&s.push("_HLS_part="+r),(r>-1||n.length)&&i--),s.unshift("_HLS_msn="+i)),e.serverControl&&e.serverControl.canSkipUntil&&s.unshift("_HLS_skip="+(e.serverControl.canSkipDateranges?"v2":"YES")),s.forEach(,t}(e,t)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:e,withCredentials:this.withCredentials},function(t){return i.request?t?i.playlistRequestError(i.request,i.media(),"HAVE_METADATA"):void i.haveMetadata({playlistString:i.request.responseText,url:i.media().uri,id:i.media().id}):void 0}))},i.playlistRequestError=i.parseManifest_=function(t){var e=this,i=t.url;return {onwarn:function(t){return t=t.message,e.logger_("m3u8-parser warn for "+i+": "+t)},oninfo:manifestString:t.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},i.haveMetadata=function(t){var e=this,i=t.playlistString,n=t.playlistObject,r=t.url,t=t.id;this.request=null,this.state="HAVE_METADATA",i=n||this.parseManifest_({url:r,manifestString:i}),i.lastRequest=Date.now(),jn({playlist:i,uri:r,id:t}),r=$n(this.master,i),this.targetDuration=i.partTargetDuration||i.targetDuration,r?(this.master=r,this.media_=this.master.playlists[t]):this.trigger("playlistunchanged"),this.media().endList||(ls.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=ls.setTimeout(function(){e.trigger("mediaupdatetimeout")},Wn(this.media(),!!r))),this.trigger("loadedplaylist")},i.dispose=i.stopRequest=function(){var t;this.request&&(t=this.request,this.request=null,t.onreadystatechange=null,t.abort())},i.media=i.pause=i.load=i.start=function(){var t=this;return this.started=!0,"object"==typeof this.src?(this.src.uri||(this.src.uri=ls.location.href),this.src.resolvedUri=this.src.uri,void setTimeout(0)):void(this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},)},i.srcUri=i.setupInitialPlaylist=e}(zs),lu=me.xhr,uu=me.mergeOptions,Mo=Object.freeze({__proto__:null,createTransferableMessage:Xn,initSegmentId:Qn,segmentKeyId:Jn,hexDump:Zn,tagDump:function(t){return t=t.bytes,Zn(t)},textRanges:function(t){for(var e,i,n="",r=0;r<t.length;r++)i=r,n+=(e=t).start(i)+"-"+e.end(i)+" ";return n}}),Oo=me.EventTarget,cu=me.mergeOptions,du=function(t){function e(e,i,n,r){var s;if(void 0===n&&(n={}),(s=t.call(this)||this).masterPlaylistLoader_=r||co(s),r||(s.isMaster_=!0),r=n.withCredentials,r=void 0!==r&&r,n=n.handleManifestRedirects,n=void 0!==n&&n,s.vhs_=i,s.withCredentials=r,s.handleManifestRedirects=n,!e)throw new Error("A non-empty playlist URL or object is required");return s.on("minimumUpdatePeriod",function(){s.refreshXml_()}),s.on("mediaupdatetimeout",function(){s.refreshMedia_(s.media().id)}),s.state="HAVE_NOTHING",s.loadedPlaylists_={},s.logger_=hn("DashPlaylistLoader"),s.isMaster_?(s.masterPlaylistLoader_.srcUrl=e,s.masterPlaylistLoader_.sidxMapping_={}):s.childPlaylist_=e,s}ho(e,t);var i=e.prototype;return i.requestErrored_=i.addSidxSegments_=function(t,e,i){var n,r,s=this,o=t.sidx&&Ci(t.sidx);t.sidx&&o&&!this.masterPlaylistLoader_.sidxMapping_[o]?(n=dn(this.handleManifestRedirects,t.sidx.resolvedUri),r=this.request=nr(n,this.vhs_.xhr,function(e,i,o,a){if(e)return r(e,i);if(!o||"mp4"!==o)return r({status:i.status,message:"Unsupported "+(o||"unknown")+" container type for sidx segment at URL: "+n,response:"",playlist:t,internal:!0,blacklistDuration:1/0,code:2},i);var l=t.sidx.byterange,o=l.offset,l=l.length;return a.length>=l+o?r(e,{response:a.subarray(o,o+l),status:i.status,uri:i.uri}):void(s.request=s.vhs_.xhr({uri:n,responseType:"arraybuffer",headers:Yn({byterange:t.sidx.byterange})},r))})):this.mediaRequest_=ls.setTimeout(0)},i.dispose=i.hasPendingRequest=i.stopRequest=i.media=function(t){var e=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var i=this.state;if("string"==typeof t){if(!this.masterPlaylistLoader_.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.masterPlaylistLoader_.master.playlists[t]}var n=!this.media_||t.id!==this.media_.id;return n&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList?(this.state="HAVE_METADATA",this.media_=t,void(n&&(this.trigger("mediachanging"),this.trigger("mediachange")))):void(n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(t,i,))},i.haveMetadata=i.pause=i.load=i.start=function(){var t=this;this.started=!0,this.isMaster_?this.requestMaster_(function(){t.haveMaster_(),t.hasPendingRequest()||t.media_||t.media(t.masterPlaylistLoader_.master.playlists[0])}):this.mediaRequest_=ls.setTimeout(function(){return t.haveMaster_()},0)},i.requestMaster_=i.syncClientServerClock_=function(t){var e=this,i=Xi(this.masterPlaylistLoader_.masterXml_);return null===i?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),t()):"DIRECT"===i.method?(this.masterPlaylistLoader_.clientOffset_=i.value-Date.now(),t()):void(this.request=this.vhs_.xhr({uri:eu(this.masterPlaylistLoader_.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials},)},i.haveMaster_=i.handleMaster_=function(){this.mediaRequest_=null;var t,e,e=(n={masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_},t=n.masterXml,i=n.srcUrl,e=n.clientOffset,n=n.sidxMapping,n=Gi(t,{manifestUri:i,clientOffset:e,sidxMapping:n}),Bn(n,i),n),i=this.masterPlaylistLoader_.master;i&&(e=function(t,e,i){for(var n=!0,r=cu(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),s=0;s<e.playlists.length;s++){var o,a=e.playlists[s];a.sidx&&(o=Ci(a.sidx),i&&i[o]&&i[o].sidx&&Si(a,i[o].sidx,a.sidx.resolvedUri)),a=$n(r,a,rr),a&&(r=a,n=!1)}return Rn(e,,(n=e.minimumUpdatePeriod===t.minimumUpdatePeriod&&n)?null:r}(i,e,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=e||i;var n=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return n&&n!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=n),(!i||e&&e.minimumUpdatePeriod!==i.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(e)},i.updateMinimumUpdatePeriodTimeout_=function(){var t=this.masterPlaylistLoader_;t.createMupOnMedia_&&(t.off("loadedmetadata",t.createMupOnMedia_),t.createMupOnMedia_=null),t.minimumUpdatePeriodTimeout_&&(ls.clearTimeout(t.minimumUpdatePeriodTimeout_),t.minimumUpdatePeriodTimeout_=null);var e=t.master&&t.master.minimumUpdatePeriod;0===e&&(t.media()?e=1e3*t.media().targetDuration:(t.createMupOnMedia_=t.updateMinimumUpdatePeriodTimeout_,t.one("loadedmetadata",t.createMupOnMedia_))),"number"!=typeof e||0>=e?0>e&&this.logger_("found invalid minimumUpdatePeriod of "+e+", not setting a timeout"):this.createMUPTimeout_(e)},i.createMUPTimeout_=i.refreshXml_=function(){var t=this;this.requestMaster_(function(e,i){var n,r;i&&(t.media_&&(t.media_=t.masterPlaylistLoader_.master.playlists[t.media_.id]),t.masterPlaylistLoader_.sidxMapping_=(i=t.masterPlaylistLoader_.master,n=t.masterPlaylistLoader_.sidxMapping_,r=sr(i.playlists,n),Rn(i,function(t){t.playlists&&t.playlists.length&&(t=t.playlists,r=cu(r,sr(t,n)))}),r),t.addSidxSegments_(t.media(),t.state,)})},i.refreshMedia_=e}(Oo),hu={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},No=za=zs=pu=No(za(zs(function(){ction n(t){return t>=32&&127>=t||t>=160&&255>=t}tion l(t,e){var i=1;for(t>e&&(i=-1);4294967296<Math.abs(e-t);)t+=8589934592*i;return t}function u(t,e,i){for(var n="",r=e;i>r;r++)n+="%"+("00"+t[r].toString(16)).slice(-2);return n}unction d(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]}ion v(t,e){var i=Le(t,["moof","traf"]),t=Le(t,["mdat"]),n={},r=[];return t.forEach(,r.forEach(function(t){var i,r,s,o,a,l=t.mdat,u=t.traf,c=Le(u,["tfhd"]),d=Be(c[0]),t=d.trackId,c=Le(u,["tfdt"]),c=0<c.length?Ne(c[0]).baseMediaDecodeTime:0,u=Le(u,["trun"]);e===t&&0<u.length&&(u=u,i=c,r=(d=d).defaultSampleDuration||0,s=d.defaultSampleSize||0,o=d.trackId,a=[],u.forEach(function(t){t=je(t).samples,t.forEach(,a=a.concat(t)}),l=function(t,e,i){for(var n,r,s=new DataView(t.buffer,t.byteOffset,t.byteLength),o={logs:[],seiNals:[]},a=0;a+4<t.length;a+=n)if(n=s.getUint32(a),a+=4,!(0>=n))switch(31&t[a]){case 6:var l=t.subarray(a+1,a+1+n),u=a,e),l={nalUnitType:"sei_rbsp",size:n,data:l,escapedRBSP:Fe(l),trackId:i};if(u)l.pts=u.pts,l.dts=u.dts,r=u;else{if(!r){o.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+a+" for trackId "+i+". See mux.js#223."});break}l.pts=r.pts,l.dts=r.dts}o.seiNals.push(l)}return o}(l,a,t),n[t]||(n[t]={seiNals:[],logs:[]}),n[t].seiNals=n[t].seiNals.concat(l.seiNals),n[t].logs=n[t].logs.concat(l.logs))}),n}tion w(t,e,i){for(var n,r,s,o,a=0,l=188,u=!1;l<=t.byteLength;)if(71!==t[a]||71!==t[l]&&l!==t.byteLength)a++,l++;else{if(n=t.subarray(a,l),"pes"===Ke.ts.parseType(n,e.pid)&&(r=Ke.ts.parsePesType(n,e.table),s=Ke.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&s&&(o=Ke.ts.parsePesTime(n))&&(o.type="audio",i.audio.push(o),u=!0)),u)break;a+=188,l+=188}for(a=(l=t.byteLength)-188,u=!1;a>=0;)if(71!==t[a]||71!==t[l]&&l!==t.byteLength)a--,l--;else{if(n=t.subarray(a,l),"pes"===Ke.ts.parseType(n,e.pid)&&(r=Ke.ts.parsePesType(n,e.table),s=Ke.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&s&&(o=Ke.ts.parsePesTime(n))&&(o.type="audio",i.audio.push(o),u=!0)),u)break;a-=188,l-=188}}function k(t){var e,i={pid:null,table:null},n={};for(e in!t,i),i.table)if(i.table.hasOwnProperty(e))switch(i.table[e]){case Zt.H264_STREAM_TYPE:n.video=[],function(t,e,i){for(var n,r,s,o,a,l,u,c,d=0,h=188,p=!1,f={
data:[],size:0};h<t.byteLength;)if(71!==t[d]||71!==t[h])d++,h++;else{if(n=t.subarray(d,h),"pes"===Ke.ts.parseType(n,e.pid)&&(r=Ke.ts.parsePesType(n,e.table),s=Ke.ts.parsePayloadUnitStartIndicator(n),"video"===r&&(s&&!p&&(o=Ke.ts.parsePesTime(n))&&(o.type="video",i.video.push(o),p=!0),!i.firstKeyFrame))){if(s&&0!==f.size){for(a=new Uint8Array(f.size),l=0;f.data.length;)u=f.data.shift(),a.set(u,l),l+=u.byteLength;!Ke.ts.videoPacketContainsKeyFrame(a)||(c=Ke.ts.parsePesTime(a))&&(i.firstKeyFrame=c,i.firstKeyFrame.type="video"),f.size=0}f.data.push(n),f.size+=n.byteLength}if(p&&i.firstKeyFrame)break;d+=188,h+=188}for(d=(h=t.byteLength)-188,p=!1;d>=0;)if(71!==t[d]||71!==t[h])d--,h--;else{if(n=t.subarray(d,h),"pes"===Ke.ts.parseType(n,e.pid)&&(r=Ke.ts.parsePesType(n,e.table),s=Ke.ts.parsePayloadUnitStartIndicator(n),"video"===r&&s&&(o=Ke.ts.parsePesTime(n))&&(o.type="video",i.video.push(o),p=!0)),p)break;d-=188,h-=188}}(t,i,n),0===n.video.length&&delete n.video;break;case Zt.ADTS_STREAM_TYPE:n.audio=[],w(t,i,n),0===n.audio.length&&delete n.audio}return n}var x=function(){this.init=function(){var t={};this.on=this.off=function(e,i){return!!t[e]&&(i=t[e].indexOf(i),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var i,n,r,s=t[e];if(s)if(2===arguments.length)for(n=s.length,i=0;n>i;++i)s[i].call(this,arguments[1]);else{for(r=[],i=arguments.length,i=1;i<arguments.length;++i)r.push(arguments[i]);for(n=s.length,i=0;n>i;++i)s[i].apply(this,r)}},this.dispose=};x.prototype.pipe=x.prototype.push=function(t){this.trigger("data",t)},x.prototype.flush=function(t){this.trigger("done",t)},x.prototype.partialFlush=function(t){this.trigger("partialdone",t)},x.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},x.prototype.reset=var S,C,E,O,A,D,I,P,L,M,N,R,j,B,F,U,H,q,$,W,z,V,Y,K,G,X,Q,J,Z,tt,et,it,nt,rt,st,ot,at,lt,ut,ct=x,dt=Math.pow(2,32)-1;!),S=C=E=B=j=R=A=D=te=I=P=L=F=U=H=st=ot=N=q=M=$=at=lt=ut=W=O=var ht,pt=ft=te,mt=gt=vt=yt=_t=bt=Tt=[33,16,5,32,164,27],wt=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],kt=xt=St=Ct=Et=9e4,Ot=kt,At=St,Dt=It=Pt=Lt=function(t,e,n,r){var s,o,a,l,u,c,d=0,h=0;if(e.length&&(s=Dt(t.baseMediaDecodeTime,t.samplerate),o=Math.ceil(Et/(t.samplerate/1024)),n&&r&&(a=s-Math.max(n,r),h=(d=Math.floor(a/o))*o),!(1>d||h>Et/2))){for(l=(l=i()[t.samplerate])||e[0].data,u=0;d>u;u++)c=e[0],e.splice(0,0,{data:l,dts:c.dts-o,pts:c.pts-o});return t.baseMediaDecodeTime-=Math.floor(It(h,t.samplerate)),h}},Mt=Nt=Rt=jt=Et,Bt=Ft=Ut=Ht=qt=$t=function(t,e){var i,n,r,s,o=[];if(!(64&e[0]))return o;for(n=31&e[0],i=0;n>i;i++)s={type:3&e[2+(r=3*i)],pts:t},4&e[2+r]&&(s.ccData=e[3+r]<<8|e[4+r],o.push(s));return o},Wt=function(t){for(var e=t.byteLength,i=[],n=1;e-2>n;)0===t[n]&&0===t[n+1]&&3===t[n+2]?(i.push(n+2),n+=2):n++;if(0===i.length)return t;for(var r=e-i.length,s=new Uint8Array(r),o=0,n=0;r>n;o++,n++)o===i[0]&&(o++,i.shift()),s[n]=t[o];return s},zt=4,Vt=(Vt.prototype=new ct).push=Vt.prototype.flushCCStreams=Vt.prototype.flushStream=Vt.prototype.flush=function(){return this.flushStream("flush")},Vt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Vt.prototype.reset=Vt.prototype.dispatchCea608Packet=Vt.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},Vt.prototype.setsChannel2Active=Vt.prototype.setsTextOrXDSActive=Vt.prototype.dispatchCea708Packet=var Yt={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600};r.prototype.reset=r.prototype.getText=r.prototype.clearText=r.prototype.newLine=r.prototype.isEmpty=r.prototype.addText=r.prototype.backspace=s.prototype.init=function(t,e){this.startPts=t;for(var i=0;8>i;i++)this.windows[i]=new r(i),"function"==typeof e&&(this.windows[i].beforeRowOverflow=e)},s.prototype.setCurrentWindow=var Kt=Kt.prototype=new ct,Kt.prototype.new708Packet=Kt.prototype.add708Bytes=Kt.prototype.push708Packet=function(){var t,e=this.current708Packet,i=e.data,n=null,r=0,s=i[r++];for(e.seq=s>>6,e.sizeCode=63&s;r<i.length;r++)t=31&(s=i[r++]),7===(n=s>>5)&&t>0&&(n=i[r++]),this.pushServiceBlock(n,r,t),t>0&&(r+=t-1)},Kt.prototype.pushServiceBlock=function(t,e,i){for(var r,s=e,o=this.current708Packet.data,a=(a=this.services[t])||this.initService(t,s);e+i>s&&s<o.length;s++)r=o[s],n(r)?s=this.handleText(s,a):16===r?s=this.extendedCommands(s,a):r>=128&&135>=r?s=this.setCurrentWindow(s,a):r>=152&&159>=r?s=this.defineWindow(s,a):136===r?s=this.clearWindows(s,a):140===r?s=this.deleteWindows(s,a):137===r?s=this.displayWindows(s,a):138===r?s=this.hideWindows(s,a):139===r?s=this.toggleWindows(s,a):151===r?s=this.setWindowAttributes(s,a):144===r?s=this.setPenAttributes(s,a):145===r?s=this.setPenColor(s,a):146===r?s=this.setPenLocation(s,a):143===r?a=this.reset(s,a):8===r?a.currentWindow.backspace():12===r?a.currentWindow.clearText():13===r?a.currentWindow.pendingNewLine=!0:14===r?a.currentWindow.clearText():141===r&&s++},Kt.prototype.extendedCommands=Kt.prototype.getPts=Kt.prototype.initService=Kt.prototype.handleText=Kt.prototype.setCurrentWindow=Kt.prototype.defineWindow=Kt.prototype.setWindowAttributes=Kt.prototype.flushDisplayed=function(t,e){for(var i=[],n=0;8>n;n++)e.windows[n].visible&&!e.windows[n].isEmpty()&&i.push(e.windows[n].getText());e.endPts=t,e.text=i.join("\n\n"),this.pushCaption(e),e.startPts=t},Kt.prototype.pushCaption=Kt.prototype.displayWindows=function(t,e){var i=this.current708Packet.data[++t],n=this.getPts(t);this.flushDisplayed(n,e);for(var r=0;8>r;r++)i&1<<r&&(e.windows[r].visible=1);return t},Kt.prototype.hideWindows=function(t,e){var i=this.current708Packet.data[++t],n=this.getPts(t);this.flushDisplayed(n,e);for(var r=0;8>r;r++)i&1<<r&&(e.windows[r].visible=0);return t},Kt.prototype.toggleWindows=function(t,e){var i=this.current708Packet.data[++t],n=this.getPts(t);this.flushDisplayed(n,e);for(var r=0;8>r;r++)i&1<<r&&(e.windows[r].visible^=1);return t},Kt.prototype.clearWindows=function(t,e){var i=this.current708Packet.data[++t],n=this.getPts(t);this.flushDisplayed(n,e);for(var r=0;8>r;r++)i&1<<r&&e.windows[r].clearText();return t},Kt.prototype.deleteWindows=function(t,e){var i=this.current708Packet.data[++t],n=this.getPts(t);this.flushDisplayed(n,e);for(var r=0;8>r;r++)i&1<<r&&e.windows[r].reset();return t},Kt.prototype.setPenAttributes=Kt.prototype.setPenColor=Kt.prototype.setPenLocation=Kt.prototype.reset=var Gt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Xt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Qt=Qt.prototype=new ct,Qt.prototype.flushDisplayed=Qt.prototype.reset=Qt.prototype.setConstants=Qt.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&63>=e},Qt.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&63>=e},Qt.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&47>=e},Qt.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&35>=e},Qt.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&127>=e},Qt.prototype.isColorPAC=function(t){return t>=64&&79>=t||t>=96&&127>=t},Qt.prototype.isNormalChar=Qt.prototype.setRollUp=Qt.prototype.addFormatting=Qt.prototype.clearFormatting=Qt.prototype.popOn=function(t,e){var i=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=i+=e},Qt.prototype.rollUp=function(t,e){var i=this.displayed_[this.row_];this.displayed_[this.row_]=i+=e},Qt.prototype.shiftRowsUp_=function(){for(var t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;15>t;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},Qt.prototype.paintOn=var Jt={CaptionStream:Vt,Cea608Stream:Qt,Cea708Stream:Kt},Zt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},x=x.prototype=new ct;var te=x,Vt=l,ee={TXXX:WXXX:PRIV:,ie=function(t){var e,i={descriptor:t&&t.descriptor},n=0,r=[],s=0;if(ie.prototype.init.call(this),this.dispatchType=Zt.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(e=0;e<i.descriptor.length;e++)this.dispatchType+=("00"+i.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,i,o,a,l,u,c;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(s=0,r.length=0),0===r.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))this.trigger("log",{
level:"warn",message:"Skipping unrecognized metadata packet"});else if(r.push(t),s+=t.data.byteLength,1===r.length&&(n=d(t.data.subarray(6,10)),n+=10),!(n>s)){for(e={data:new Uint8Array(n),frames:[],pts:r[0].pts,dts:r[0].dts},a=0;n>a;)e.data.set(r[0].data.subarray(0,n-a),a),a+=r[0].data.byteLength,s-=r[0].data.byteLength,r.shift();i=10,64&e.data[5]&&(i+=4,i+=d(e.data.subarray(10,14)),n-=d(e.data.subarray(16,20)));do if((o=d(e.data.subarray(i+4,i+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});while((c={id:String.fromCharCode(e.data[i],e.data[i+1],e.data[i+2],e.data[i+3]),data:e.data.subarray(i+10,i+o+10)}).key=c.id,ee[c.id]&&(ee[c.id](c),"com.apple.streaming.transportStreamTimestamp"===c.owner&&(u=(1&(l=c.data)[3])<<30|l[4]<<22|l[5]<<14|l[6]<<6|l[7]>>>2,u*=4,u+=3&l[7],c.timeStamp=u,void 0===e.pts&&void 0===e.dts&&(e.pts=c.timeStamp,e.dts=c.timeStamp),this.trigger("timestamp",c))),e.frames.push(c),i+=10,(i+=o)<n);this.trigger("data",e)}}};ie.prototype=new ct;var ne,re,x=ie,te=te,se=se.prototype=new ct,(ne=function(){var t,e,i,n;ne.prototype.init.call(this),(n=this).packetsWaitingForPmt=[],this.programMapTable=void 0,t=e=i=function(t,e){var i,r;if(1&t[5]){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&t[1])<<8|t[2])-4,r=12+((15&t[10])<<8|t[11]);i>r;){var s=t[r],o=(31&t[r+1])<<8|t[r+2];s===Zt.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=o:s===Zt.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=o:s===Zt.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][o]=s),r+=5+((15&t[r+3])<<8|t[r+4])}e.programMapTable=n.programMapTable}},this.push=this.processPes_=).prototype=new ct,ne.STREAM_TYPES={h264:27,adts:15},(re=.prototype=new ct;var oe,ae={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:se,TransportParseStream:ne,ElementaryStream:re,TimestampRolloverStream:te,CaptionStream:Jt.CaptionStream,Cea608Stream:Jt.Cea608Stream,Cea708Stream:Jt.Cea708Stream,MetadataStream:x};for(oe in Zt)Zt.hasOwnProperty(oe)&&(ae[oe]=Zt[oe]);var le=ae,ue=Et,ce=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],de=de.prototype=new ct;var he,pe,fe=de,me=function(t){var e=t.byteLength,i=0,n=0;this.length=this.bitsAvailable=this.loadWord=this.skipBits=function(t){var r;n>t||(t-=n,t-=8*(r=Math.floor(t/8)),e-=r,this.loadWord()),i<<=t,n-=t},this.readBits=function(t){var r=Math.min(n,t),s=i>>>32-r;return 0<(n-=r)?i<<=r:e>0&&this.loadWord(),0<(r=t-r)?s<<r|this.readBits(r):s},this.skipLeadingZeros=function(){for(var t=0;n>t;++t)if(0!=(i&2147483648>>>t))return i<<=t,n-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=this.readUnsignedExpGolomb=this.readExpGolomb=this.readBoolean=this.readUnsignedByte=this.loadWord()},ge=function(){var t,e,i=0;ge.prototype.init.call(this),this.push=function(n){for(var r,s=(e=e?((r=new Uint8Array(e.byteLength+n.data.byteLength)).set(e),r.set(n.data,e.byteLength),r):n.data).byteLength;s-3>i;i++)if(1===e[i+2]){t=i+5;break}for(;s>t;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}for(i+3!==t-2&&this.trigger("data",e.subarray(i+3,t-2));1!==e[++t]&&s>t;);i=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(i+3,t-2)),i=t-2,t+=3;break;default:t+=3}e=e.subarray(i),t-=i,i=0},this.reset=this.flush=this.endTimeline=;ge.prototype=new ct,pe={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(he=function(){var t,e,i,n,r,s,o,a=new ge;he.prototype.init.call(this),(t=this).push=a.on("data",,a.on("done",function(){t.trigger("done")}),a.on("partialdone",function(){t.trigger("partialdone")}),a.on("reset",function(){t.trigger("reset")}),a.on("endedtimeline",function(){t.trigger("endedtimeline")}),this.flush=function(){a.flush()},this.partialFlush=function(){a.partialFlush()},this.reset=function(){a.reset()},this.endTimeline=o=function(t,e){for(var i=8,n=8,r=0;t>r;r++)i=0===(n=0!==n?(i+e.readExpGolomb()+256)%256:n)?i:n},r=function(t){for(var e=t.byteLength,i=[],n=1;e-2>n;)0===t[n]&&0===t[n+1]&&3===t[n+2]?(i.push(n+2),n+=2):n++;if(0===i.length)return t;for(var r=e-i.length,s=new Uint8Array(r),o=0,n=0;r>n;o++,n++)o===i[0]&&(o++,i.shift()),s[n]=t[o];return s},s=function(t){var e,i,n,r,s,a=0,l=0,u=0,c=0,d=[1,1],h=new me(t),p=h.readUnsignedByte(),f=h.readUnsignedByte(),m=h.readUnsignedByte();if(h.skipUnsignedExpGolomb(),pe[p]&&(3===(i=h.readUnsignedExpGolomb())&&h.skipBits(1),h.skipUnsignedExpGolomb(),h.skipUnsignedExpGolomb(),h.skipBits(1),h.readBoolean()))for(r=3!==i?8:12,s=0;r>s;s++)h.readBoolean()&&o(6>s?16:64,h);if(h.skipUnsignedExpGolomb(),0===(n=h.readUnsignedExpGolomb()))h.readUnsignedExpGolomb();else if(1===n)for(h.skipBits(1),h.skipExpGolomb(),h.skipExpGolomb(),e=h.readUnsignedExpGolomb(),s=0;e>s;s++)h.skipExpGolomb();if(h.skipUnsignedExpGolomb(),h.skipBits(1),t=h.readUnsignedExpGolomb(),i=h.readUnsignedExpGolomb(),0===(n=h.readBits(1))&&h.skipBits(1),h.skipBits(1),h.readBoolean()&&(a=h.readUnsignedExpGolomb(),l=h.readUnsignedExpGolomb(),u=h.readUnsignedExpGolomb(),c=h.readUnsignedExpGolomb()),h.readBoolean()&&h.readBoolean()){switch(h.readUnsignedByte()){case 1:d=[1,1];break;case 2:d=[12,11];break;case 3:d=[10,11];break;case 4:d=[16,11];break;case 5:d=[40,33];break;case 6:d=[24,11];break;case 7:d=[20,11];break;case 8:d=[32,11];break;case 9:d=[80,33];break;case 10:d=[18,11];break;case 11:d=[15,11];break;case 12:d=[64,33];break;case 13:d=[160,99];break;case 14:d=[4,3];break;case 15:d=[3,2];break;case 16:d=[2,1];break;case 255:d=[h.readUnsignedByte()<<8|h.readUnsignedByte(),h.readUnsignedByte()<<8|h.readUnsignedByte()]}d&&(d[0],d[1])}return{profileIdc:p,levelIdc:m,profileCompatibility:f,width:16*(t+1)-2*a-2*l,height:(2-n)*(i+1)*16-2*u-2*c,sarRatio:d}}}).prototype=new ct;var te={H264Stream:he,NalByteStream:ge},ve=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],ye={isLikelyAacData:parseId3TagSize:h,parseAdtsSize:parseType:parseSampleRate:parseAacTimestamp:function(t){var e,i=10;64&t[5]&&(i+=4,i+=f(t.subarray(10,14)));do{if((e=f(t.subarray(i+4,i+8)))<1)return null;if("PRIV"===String.fromCharCode(t[i],t[i+1],t[i+2],t[i+3]))for(var n=t.subarray(i+10,i+e+10),r=0;r<n.byteLength;r++)if(0===n[r]){if("com.apple.streaming.transportStreamTimestamp"!==unescape(function(t,e,i){for(var n="",r=e;i>r;r++)n+="%"+("00"+t[r].toString(16)).slice(-2);return n}(n,0,r)))break;var s=n.subarray(r+1),o=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;return o*=4,o+=3&s[7]}}while(i+=10,(i+=e)<t.byteLength);return null}},_e=function(){var t=new Uint8Array,e=0;_e.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(i){var n,r,s=0,o=0;for(t.length?(r=t.length,(t=new Uint8Array(i.byteLength+r)).set(t.subarray(0,r)),t.set(i,r)):t=i;3<=t.length-o;)if(t[o]!=="I".charCodeAt(0)||t[o+1]!=="D".charCodeAt(0)||t[o+2]!=="3".charCodeAt(0))if(255!=(255&t[o])||240!=(240&t[o+1]))o++;else{if(t.length-o<7)break;if(o+(s=ye.parseAdtsSize(t,o))>t.length)break;n={type:"audio",data:t.subarray(o,o+s),pts:e,dts:e},this.trigger("data",n),o+=s}else{if(t.length-o<10)break;if(o+(s=ye.parseId3TagSize(t,o))>t.length)break;n={type:"timed-metadata",data:t.subarray(o,o+s)},this.trigger("data",n),o+=s}i=t.length-o,t=i>0?t.subarray(o):new Uint8Array},this.reset=function(){t=new Uint8Array,this.trigger("reset")},this.endTimeline=;_e.prototype=new ct;var be,Te,we,ke=_e,xe=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Se=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ce=te.H264Stream,Ee=ye.isLikelyAacData,Oe=Et,Ae=Ae.prototype=new ct,(be=function(t,e){var i,n,r=0,s=[],o=[];e=e||{},be.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=this.flush=this.reset=this.resetStream_=this.getGopForFusion_=function(e){for(var i,n,r,s=1/0,o=0;o<this.gopCache_.length;o++)n=(r=this.gopCache_[o]).gop,t.pps&&m(t.pps[0],r.pps[0])&&t.sps&&m(t.sps[0],r.sps[0])&&(n.dts<t.timelineStartInfo.dts||-1e4<=(n=e.dts-n.dts-n.duration)&&45e3>=n&&(!i||s>n)&&(i=r,s=n));return i?i.gop:null},this.alignGopsAtStart_=this.alignGopsAtEnd_=function(t){for(var e,i,n=o.length-1,r=t.length-1,s=null,a=!1;n>=0&&r>=0;){if(e=o[n],i=t[r],e.pts===i.pts){a=!0;break}e.pts>i.pts?n--:(n===o.length-1&&(s=r),r--)}if(!a&&null===s)return null;if(0===(u=a?r:s))return t;var l=t.slice(u),u=l.reduce({byteLength:0,duration:0,nalCount:0});return l.byteLength=u.byteLength,l.duration=u.duration,l.nalCount=u.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=).prototype=new ct,(we=.prototype=new ct,we.prototype.flush=we.prototype.setRemux=(Te=.prototype=new ct;var De={Transmuxer:Te,VideoSegmentStream:be,AudioSegmentStream:Ae,AUDIO_PROPERTIES:xe,VIDEO_PROPERTIES:Se,generateSegmentTimingInfo:g},x=Ie=Pe=x,Le=function ii(t,e){var i,n,r,s=[];if(!e.length)return null;for(i=0;i<t.byteLength;)n=Pe(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]),r=Ie(t.subarray(i+4,i+8)),n=n>1?i+n:t.byteLength,r===e[0]&&(1===e.length?s.push(t.subarray(i+8,n)):(r=ii(t.subarray(i+8,n),e.slice(1))).length&&(s=s.concat(r))),i=n;return s},Me=x,Ne=Re=je=Be=Fe=Wt,Ue=Jt.CaptionStream,He=function(){var t,e,i,n,r,s,o=!1;this.isInitialized=this.init=this.isNewInit=this.parse=function(t,s,o){if(!this.isInitialized())return null;if(!s||!o)return null;if(this.isNewInit(s,o))i=s[0],n=o[i];else if(null===i||!n)return e.push(t),null;for(;0<e.length;){var a=e.shift();this.parse(a,s,o)}return(t=function(t,e,i){return null===e?null:(e=v(t,e)[e]||{},{seiNals:e.seiNals,logs:e.logs,timescale:i})}(t,i,n))&&t.logs&&(r.logs=r.logs.concat(t.logs)),null!==t&&t.seiNals?(this.pushNals(t.seiNals),this.flushStream(),r):r.logs.length?{logs:r.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(e){return this.isInitialized()&&e&&0!==e.length?void e.forEach(:null},this.flushStream=function(){return this.isInitialized()?void(s?t.partialFlush():t.flush()):null},this.clearParsedCaptions=this.resetCaptionStream=function(){return this.isInitialized()?void t.reset():null},this.clearAllCaptions=this.reset=this.reset()},qe=x,$e=te=ct=Wt=We=x=function(t){var t=Le(t,["moov","trak"]),e=[];return t.forEach(function(t){var i={},n=Le(t,["tkhd"])[0];n&&(n=(r=new DataView(n.buffer,n.byteOffset,n.byteLength)).getUint8(0),i.id=0===n?r.getUint32(12):r.getUint32(20));var r=Le(t,["mdia","hdlr"])[0];r&&(o=Ie(r.subarray(8,12)),i.type="vide"===o?"video":"soun"===o?"audio":o);var s,o=Le(t,["mdia","minf","stbl","stsd"])[0];o&&(o=o.subarray(8),i.codec=Ie(o.subarray(4,8)),(o=Le(o,[i.codec])[0])&&(/^[a-z]vc[1-9]$/i.test(i.codec)?(s=o.subarray(78),"avcC"===Ie(s.subarray(4,8))&&11<s.length?(i.codec+=".",i.codec+=$e(s[9]),i.codec+=$e(s[10]),i.codec+=$e(s[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)?(s=o.subarray(28),
"esds"===Ie(s.subarray(4,8))&&20<s.length&&0!==s[19]?(i.codec+="."+$e(s[19]),i.codec+="."+$e(s[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2"):i.codec=i.codec.toLowerCase())),t=Le(t,["mdia","mdhd"])[0],t&&(i.timescale=We(t)),e.push(i)}),e},ze=ct,Ve=x,Ye=Vt,Ke={};Ke.ts={parseType:function(t,e){return t=y(t),0===t?"pat":t===e?"pmt":e?"pes":null},parsePat:parsePmt:function(t){var e={},i=_(t),n=4+b(t);if(i&&(n+=t[n]+1),1&t[n+5]){for(var r=3+((15&t[n+1])<<8|t[n+2])-4,s=12+((15&t[n+10])<<8|t[n+11]);r>s;){var o=n+s;e[(31&t[o+1])<<8|t[o+2]]=t[o],s+=5+((15&t[o+3])<<8|t[o+4])}return e}},parsePayloadUnitStartIndicator:_,parsePesType:parsePesTime:videoPacketContainsKeyFrame:,Ke.aac=ye;var Ge=Et,Xe=Qe=function(){ar e=t.prototype;return e.init=function(){var t,e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new De.Transmuxer(this.options),t=this.self,(e=this.transmuxer).on("data",,e.on("done",,e.on("gopInfo",function(e){t.postMessage({action:"gopInfo",gopInfo:e})}),e.on("videoSegmentTimingInfo",function(e){var i={start:{decode:At(e.start.dts),presentation:At(e.start.pts)},end:{decode:At(e.end.dts),presentation:At(e.end.pts)},baseMediaDecodeTime:At(e.baseMediaDecodeTime)};e.prependedContentDuration&&(i.prependedContentDuration=At(e.prependedContentDuration)),t.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:i})}),e.on("audioSegmentTimingInfo",,e.on("id3Frame",function(e){t.postMessage({action:"id3Frame",id3Frame:e})}),e.on("caption",function(e){t.postMessage({action:"caption",caption:e})}),e.on("trackinfo",function(e){t.postMessage({action:"trackinfo",trackInfo:e})}),e.on("audioTimingInfo",function(e){t.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:At(e.start),end:At(e.end)}})}),e.on("videoTimingInfo",,e.on("log",},e.pushMp4Captions=e.probeMp4StartTime=e.probeMp4Tracks=e.probeTs=e.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},e.clearParsedMp4Captions=e.push=e.reset=function(){this.transmuxer.reset()},e.setTimestampOffset=e.setAudioAppendStart=e.setRemux=e.flush=function(){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},e.endTimeline=e.alignGopsWith=t}();self.onmessage=))),fu=mu=gu=vu=2,yu=-101,_u=-102,bu=hn("CodecUtils"),Tu=hn("PlaylistSelector"),Oo=wu=function(t){function e(e){var i=t.call(this)||this;if(!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return i.bandwidth=e.bandwidth,i.throughput={rate:0,count:0},i.roundTrip=NaN,i.resetStats_(),i.mediaIndex=null,i.partIndex=null,i.hasPlayed_=e.hasPlayed,i.currentTime_=e.currentTime,i.seekable_=e.seekable,i.seeking_=e.seeking,i.duration_=e.duration,i.mediaSource_=e.mediaSource,i.vhs_=e.vhs,i.loaderType_=e.loaderType,i.currentMediaInfo_=void 0,i.startingMediaInfo_=void 0,i.segmentMetadataTrack_=e.segmentMetadataTrack,i.goalBufferLength_=e.goalBufferLength,i.sourceType_=e.sourceType,i.sourceUpdater_=e.sourceUpdater,i.inbandTextTracks_=e.inbandTextTracks,i.state_="INIT",i.timelineChangeController_=e.timelineChangeController,i.shouldSaveSegmentTimingInfo_=!0,i.parse708captions_=e.parse708captions,i.checkBufferTimeout_=null,i.error_=void 0,i.currentTimeline_=-1,i.pendingSegment_=null,i.xhrOptions_=null,i.pendingSegments_=[],i.audioDisabled_=!1,i.isPendingTimestampOffset_=!1,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=11<=me.browser.IE_VERSION,i.appendInitSegment_={audio:!0,video:!0},i.playlistOfLastInitSegment_={audio:null,video:null},i.callQueue_=[],i.loadQueue_=[],i.metadataQueue_={id3:[],caption:[]},i.waitingOnRemove_=!1,i.quotaExceededErrorRetryTimeout_=null,i.activeInitSegmentId_=null,i.initSegments_={},i.cacheEncryptionKeys_=e.cacheEncryptionKeys,i.keyCache_={},i.decrypter_=e.decrypter,i.syncController_=e.syncController,i.syncPoint_={segmentIndex:0,time:0},i.transmuxer_=i.createTransmuxer_(),i.triggerSyncInfoUpdate_=i.syncController_.on("syncinfoupdate",i.triggerSyncInfoUpdate_),i.mediaSource_.addEventListener("sourceopen",,i.fetchAtBuffer_=!1,i.logger_=hn("SegmentLoader["+i.loaderType_+"]"),Object.defineProperty(co(i),"state",{get:set:),i.sourceUpdater_.on("ready",function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()}),"main"===i.loaderType_&&i.timelineChangeController_.on("pendingtimelinechange",,"audio"===i.loaderType_&&i.timelineChangeController_.on("timelinechange",,i}ho(e,t);var i=e.prototype;return i.createTransmuxer_=i.resetStats_=i.dispose=i.setAudio=i.abort=i.abort_=i.checkForAbort_=i.error=i.endOfStream=i.buffered_=i.initSegmentForMap=i.segmentKey=i.couldBeginLoading_=i.load=function(){return this.monitorBuffer_(),this.playlist_?"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")):void 0},i.init_=i.playlist=function(t,e){if(void 0===e&&(e={}),t){var i=this.playlist_,n=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,"INIT"===this.state&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(t));var r=null;if(i&&(i.id?r=i.id:i.uri&&(r=i.uri)),this.logger_("playlist update ["+r+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==t.uri)return null!==this.mediaIndex&&this.resyncLoader(),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");e=t.mediaSequence-i.mediaSequence,this.logger_("live window shift ["+e+"]"),null!==this.mediaIndex&&(this.mediaIndex-=e,this.mediaIndex<0?(this.mediaIndex=null,this.partIndex=null):(r=this.playlist_.segments[this.mediaIndex],!this.partIndex||r.parts&&r.parts.length&&r.parts[this.partIndex]||(r=this.mediaIndex,this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=r))),n&&(n.mediaIndex-=e,n.mediaIndex<0?(n.mediaIndex=null,n.partIndex=null):(0<=n.mediaIndex&&(n.segment=t.segments[n.mediaIndex]),0<=n.partIndex&&n.segment.parts&&(n.part=n.segment.parts[n.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,t)}},i.pause=i.paused=i.resetEverything=i.resetLoader=i.resyncLoader=i.remove=i.monitorBuffer_=i.monitorBufferTick_=i.fillBuffer_=i.isEndOfStream_=i.chooseNextRequest_=function(){var t=yn(this.buffered_())||0,e=Math.max(0,t-this.currentTime_()),i=!this.hasPlayed_()&&e>=1,n=e>=this.goalBufferLength_(),r=this.playlist_.segments;if(!r.length||i||n)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()),e={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)},e.isSyncRequest?e.mediaIndex=this.currentTimeline_,r,t):null!==this.mediaIndex?(i=r[this.mediaIndex],n="number"==typeof this.partIndex?this.partIndex:-1,e.startOfSegment=i.end||t,i.parts&&i.parts[n+1]?(e.mediaIndex=this.mediaIndex,e.partIndex=n+1):e.mediaIndex=this.mediaIndex+1):(t=(o=ru.getMediaInfoForTime({playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time})).segmentIndex,s=o.startTime,o=o.partIndex,e.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd":"currentTime",e.mediaIndex=t,e.startOfSegment=s,e.partIndex=o);var s=r[e.mediaIndex],o=s&&"number"==typeof e.partIndex&&s.parts&&s.parts[e.partIndex];return!s||"number"==typeof e.partIndex&&!o?null:("number"!=typeof e.partIndex&&s.parts&&(e.partIndex=0),s=this.mediaSource_&&"ended"===this.mediaSource_.readyState,e.mediaIndex>=r.length-1&&s&&!this.seeking_()?null:this.generateSegmentInfo_(e))},i.generateSegmentInfo_=function(t){var e=t.playlist,i=t.mediaIndex,n=t.startOfSegment,r=t.isSyncRequest,s=t.partIndex,o=t.forceTimestampOffset,a=t.getMediaInfoForTime,l=e.segments[i],t="number"==typeof s&&l.parts[s],a={requestId:"segment-loader-"+Math.random(),uri:t&&t.resolvedUri||l.resolvedUri,mediaIndex:i,partIndex:t?s:null,isSyncRequest:r,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:l.timeline,duration:t&&t.duration||l.duration,segment:l,part:t,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:a},o="undefined"!=typeof o?o:this.isPendingTimestampOffset_;return a.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:l.timeline,currentTimeline:this.currentTimeline_,startOfSegment:n,buffered:this.buffered_(),overrideCheck:o}),o=yn(this.sourceUpdater_.audioBuffered()),"number"==typeof o&&(a.audioAppendStart=o-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(a.gopsToAlignWith=this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),a},i.timestampOffsetForSegment_=function(t){return i=(e=t).segmentTimeline,n=e.currentTimeline,r=e.startOfSegment,t=e.buffered,e.overrideCheck||i!==n?n>i||!t.length?r:t.end(t.length-1):null;var e,i,n,r},i.earlyAbortWhenNeeded_=function(t){var e,i,n,r,s,o,a,l,u,c,d,h,p;!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3||(e=this.currentTime_(),r=t.bandwidth,s=this.pendingSegment_.duration,p=ru.estimateSegmentRequestTime(s,r,this.playlist_,t.bytesReceived),i=this.buffered_(),n=e,void 0===(t=this.vhs_.tech_.playbackRate())&&(t=1),p<=(t=((i.length?i.end(i.length-1):0)-n)/t-1)||(r={master:this.vhs_.playlists.master,currentTime:e,bandwidth:r,duration:this.duration_(),segmentDuration:s,timeUntilRebuffer:t,currentTimeline:this.currentTimeline_,syncController:this.syncController_},s=r.master,o=r.currentTime,a=r.bandwidth,l=r.duration,u=r.segmentDuration,c=r.timeUntilRebuffer,d=r.currentTimeline,h=r.syncController,s=(r=(s=(s=(r=s.playlists.filter(function(t){return!ru.isIncompatible(t)})).filter(ru.isEnabled)).length?s:r.filter().filter(ru.hasAttribute.bind(null,"BANDWIDTH")).map().filter(,Ar(s,,(r=s.length?s[0]:(Ar(r,,r[0]||null))&&(p=p-t-r.rebufferingImpact,!r.playlist||r.playlist.uri===this.playlist_.uri||(iu>=t?1:.5)>p||(this.bandwidth=r.playlist.attributes.BANDWIDTH*hu.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))))))},i.handleAbort_=i.handleProgress_=i.handleTrackInfo_=i.handleTimingInfo_=i.handleCaptions_=function(t,e){var i,n,r=this;this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||(0!==e.length?this.pendingSegment_.hasAppendedData_?(i=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),n={},e.forEach(,Object.keys(n).forEach(function(t){var e,s,o,a,l,u,c,d,h,p,f=n[t],m=f.startTime,g=f.endTime,v=f.captions,y=r.inbandTextTracks_;r.logger_("adding cues from "+m+" -> "+g+" for "+t),e=y,s=r.vhs_.tech_,e[o=t]||(s.trigger({type:"usage",name:"vhs-608"}),s.trigger({type:"usage",name:"hls-608"}),/^cc708_/.test(a=o)&&(a="SERVICE"+o.split("_")[1]),(c=s.textTracks().getTrackById(a))?e[o]=c:(u=l=o,f=!1,(c=(s.options_.vhs&&s.options_.vhs.captionServices||{})[a])&&(l=c.label,u=c.language,f=c["default"]),e[o]=s.addRemoteTextTrack({kind:"captions",id:a,"default":f,label:l,language:u},!1).track)),Lr(m,g,y[t]),h=(v={captionArray:v,inbandTextTracks:y,timestampOffset:i}).inbandTextTracks,y=v.captionArray,p=v.timestampOffset,y&&(d=ls.WebKitDataCue||ls.VTTCue,y.forEach()}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})):this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,t,e)):this.logger_("SegmentLoader received no captions from a caption event"))},i.handleId3_=i.processMetadataQueue_=i.processCallQueue_=function(){var t=this.callQueue_;this.callQueue_=[],t.forEach(function(t){return t()})},i.processLoadQueue_=i.hasEnoughInfoToLoad_=i.getCurrentMediaInfo_=i.getMediaInfo_=i.hasEnoughInfoToAppend_=i.handleData_=i.updateAppendInitSegmentStatus=i.getInitSegmentAndUpdateState_=i.handleQuotaExceededError_=function(t){var e=this,i=t.segmentInfo,n=t.type,r=t.bytes,s=this.sourceUpdater_.audioBuffered(),o=this.sourceUpdater_.videoBuffered();1<s.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+vn(s).join(", ")),1<o.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+vn(o).join(", "));var a=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,u=o.length?o.start(0):0,t=o.length?o.end(o.length-1):0;return 1>=l-a&&1>=t-u?(this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+r.byteLength+", audio buffer: "+vn(s).join(", ")+", video buffer: "+vn(o).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error")):(this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:i,type:n,bytes:r})),r=this.currentTime_()-1,this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+r),this.remove(0,r,!0),void 0)},i.handleAppendError_=i.appendToSourceBuffer_=i.handleSegmentTimingInfo_=i.appendData_=i.loadSegment_=i.updateTransmuxerAndRequestSegment_=i.trimBackBuffer_=function(){var t,e,i,n,n=(t=this.seekable_(),e=this.currentTime_(),i=this.playlist_.targetDuration||10,n=e-hu.BACK_BUFFER_LENGTH,t.length&&(n=Math.max(n,t.start(0))),Math.min(e-i,n));n>0&&this.remove(0,n)},i.createSimplifiedSegmentObj_=i.saveTransferStats_=i.saveBandwidthRelatedStats_=function(t,e){this.pendingSegment_.byteLength=e.bytesReceived,1/60>t?this.logger_("Ignoring segment's bandwidth because its duration of "+t+" is less than the min to record "+1/60):(this.bandwidth=e.bandwidth,this.roundTrip=e.roundTripTime)},i.handleTimeout_=i.segmentRequestFinished_=i.setTimeMapping_=function(t){t=this.syncController_.mappingForTimeline(t),null!==t&&(this.timeMapping_=t)},i.updateMediaSecondsLoaded_=i.shouldUpdateTransmuxerTimestampOffset_=i.trueSegmentStart_=function(t){var e=t.currentStart,i=t.playlist,n=t.mediaIndex,r=t.firstVideoFrameTimeForData,s=t.currentVideoTimestampOffset,o=t.useVideoTimingInfo,a=t.videoTimingInfo,t=t.audioTimingInfo;return"undefined"!=typeof e?e:o?(i=i.segments[n-1],0!==n&&i&&"undefined"!=typeof i.start&&i.end===r+s?a.start:r):t.start},i.waitForAppendsToComplete_=function(t){var e=this.getCurrentMediaInfo_(t);if(!e)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var i=e.hasAudio,n=e.hasVideo,e=e.isMuxed,n="main"===this.loaderType_&&n,e=!this.audioDisabled_&&i&&!e;return t.waitingOnAppends=0,t.hasAppendedData_?(n&&t.waitingOnAppends++,e&&t.waitingOnAppends++,n&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),e&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t)),void 0):(t.timingInfo||"number"!=typeof t.timestampOffset||(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),void this.checkAppendsDone_(t))},i.checkAppendsDone_=i.checkForIllegalMediaSwitch=i.updateSourceBufferTimestampOffset_=i.updateTimingInfoEnd_=i.handleAppendsDone_=i.recordThroughput_=i.addSegmentMetadataCue_=e}(me.EventTarget),ku=["video","audio"],xu=Su=Cu=Eu=Ou=Au=Du=Iu=function(t,e){return function(i){var n=Hr(t),r=Se(e);i.logger_("Adding "+t+"Buffer with codec "+e+" to mediaSource"),r=i.mediaSource.addSourceBuffer(r),r.addEventListener("updateend",i["on"+n+"UpdateEnd_"]),r.addEventListener("error",i["on"+n+"Error_"]),i.codecs[t]=e,i[t+"Buffer"]=r}},Pu=Lu=Mu=function(t){o(e,t);var i=e.prototype;return i.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},i.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},i.hasInitializedAnyEme=function(){return this.initializedEme_},i.ready=i.createSourceBuffers=i.triggerReady=i.addSourceBuffer=i.abort=i.removeSourceBuffer=i.canRemoveSourceBuffer=e.canChangeType=i.canChangeType=function(){return this.constructor.canChangeType()},i.changeType=i.addOrChangeSourceBuffers=function(t){var e=this;if(!t||"object"!=typeof t||0===Object.keys(t).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach(function(i){var n=t[i];return e.hasCreatedSourceBuffers()?void(e.canChangeType()&&e.changeType(i,n)):e.addSourceBuffer(i,n)})},i.appendBuffer=function(t,e){var i=this,n=t.segmentInfo,r=t.type,s=t.bytes;return this.processedAppend_=!0,"audio"===r&&this.videoBuffer&&!this.videoAppendQueued_?(this.delayedAudioAppendQueue_.push([t,e]),void this.logger_("delayed audio append of "+s.length+" until video append")):(Vr({type:r,sourceUpdater:this,action:xu(s,n||{mediaIndex:-1},e),doneFn:e,name:"appendBuffer"}),void("video"===r&&(this.videoAppendQueued_=!0,this.delayedAudioAppendQueue_.length&&(r=this.delayedAudioAppendQueue_.slice(),this.logger_("queuing delayed audio "+r.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,r.forEach())))},i.audioBuffered=function(){return zr(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered||me.createTimeRange()},i.videoBuffered=i.buffered=i.setDuration=i.endOfStream=i.removeAudio=function(t,e,i){void 0===i&&(i=Ur),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Vr({type:"audio",sourceUpdater:this,action:Su(t,e),doneFn:i,name:"remove"}):i()},i.removeVideo=i.updating=i.audioTimestampOffset=function(t){return"undefined"!=typeof t&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(Vr({type:"audio",sourceUpdater:this,action:Cu(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_},i.videoTimestampOffset=i.audioQueueCallback=function(t){this.audioBuffer&&Vr({type:"audio",sourceUpdater:this,action:Eu(t),name:"callback"})},i.videoQueueCallback=i.dispose=e}(me.EventTarget),Nu=new Uint8Array("\n\n".split("").map(),Ru=wu),ju=[{name:"VOD",run:function(t,e,i){return i===1/0?null:{time:0,segmentIndex:0,partIndex:null}}},{name:"ProgramDateTime",run:function(t,e,i,n,r){if(!Object.keys(t.timelineToDatetimeMappings).length)return null;var s=null,o=null,a=_n(e);r=r||0;for(var l=0;l<a.length;l++){var u=a[e.endList||0===r?l:a.length-(l+1)],c=u.segment,d=t.timelineToDatetimeMappings[c.timeline];if(d&&c.dateTimeObject){var h=c.dateTimeObject.getTime()/1e3+d;if(c.parts&&"number"==typeof u.partIndex)for(var p=0;p<u.partIndex;p++)h+=c.parts[p].duration;if(d=Math.abs(r-h),null!==o&&(0===d||d>o))break;o=d,s={time:h,segmentIndex:u.segmentIndex,partIndex:u.partIndex}}}return s}},{name:"Segment",run:function(t,e,i,n,r){var s=null,o=null;r=r||0;for(var a=_n(e),l=0;l<a.length;l++){var u=a[e.endList||0===r?l:a.length-(l+1)],c=u.segment,d=u.part&&u.part.start||c&&c.start;if(c.timeline===n&&"undefined"!=typeof d){if(c=Math.abs(r-d),null!==o&&c>o)break;(!s||null===o||o>=c)&&(o=c,s={time:d,segmentIndex:u.segmentIndex,partIndex:u.partIndex})}}return s}},{name:"Discontinuity",run:function(t,e,i,n,r){var s=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var o=null,a=0;a<e.discontinuityStarts.length;a++){var l=e.discontinuityStarts[a],u=e.discontinuitySequence+a+1,c=t.discontinuities[u];if(c){if(u=Math.abs(r-c.time),null!==o&&u>o)break;(!s||null===o||o>=u)&&(o=u,s={time:c.time,segmentIndex:l,partIndex:null})}}return s}},{name:"Playlist",run:function(t,e){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}}],Bu=function(t){function e(){var e=t.call(this)||this;return e.timelines=[],e.discontinuities=[],e.timelineToDatetimeMappings={},e.logger_=hn("SyncController"),e}ho(e,t);var i=e.prototype;return i.getSyncPoint=function(t,e,i,n){return i=this.runStrategies_(t,e,i,n),i.length?this.selectSyncPoint_(i,{key:"time",value:n}):null},i.getExpiredTime=function(t,e){return t&&t.segments?(e=this.runStrategies_(t,e,t.discontinuitySequence,0),e.length?(e=this.selectSyncPoint_(e,{key:"segmentIndex",value:0}),0<e.segmentIndex&&(e.time*=-1),Math.abs(e.time+Sn({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.segmentIndex,endIndex:0}))):null):null},i.runStrategies_=i.selectSyncPoint_=function(t,e){for(var i=t[0].syncPoint,n=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,s=1;s<t.length;s++){var o=Math.abs(t[s].syncPoint[e.key]-e.value);n>o&&(n=o,i=t[s].syncPoint,r=t[s].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+r+"]: [time:"+i.time+", segmentIndex:"+i.segmentIndex+("number"==typeof i.partIndex?",partIndex:"+i.partIndex:"")+"]"),i},i.saveExpiredSegmentInfo=function(t,e){for(var i=e.mediaSequence-t.mediaSequence-1;i>=0;i--){var n=t.segments[i];if(n&&"undefined"!=typeof n.start){e.syncInfo={mediaSequence:t.mediaSequence+i,time:n.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},i.setDateTimeMappingForStart=i.saveSegmentTimingInfo=function(t){var e=t.segmentInfo,i=t.shouldSaveTimelineMapping,n=this.calculateSegmentTimeMapping_(e,e.timingInfo,i),t=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:t.start})),e=t.dateTimeObject,t.discontinuity&&i&&e&&(this.timelineToDatetimeMappings[t.timeline]=-e.getTime()/1e3)},i.timestampOffsetForTimeline=function(t){return"undefined"==typeof this.timelines[t]?null:this.timelines[t].time},i.mappingForTimeline=i.calculateSegmentTimeMapping_=i.saveDiscontinuitySyncInfo_=function(t){var e=t.playlist,i=t.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var n=0;n<e.discontinuityStarts.length;n++){var r,s=e.discontinuityStarts[n],o=e.discontinuitySequence+n+1,a=s-t.mediaIndex,l=Math.abs(a);(!this.discontinuities[o]||this.discontinuities[o].accuracy>l)&&(r=void 0,r=0>a?i.start-Sn({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:t.mediaIndex,endIndex:s}):i.end+Sn({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:t.mediaIndex+1,endIndex:s}),this.discontinuities[o]={time:r,accuracy:l})}},i.dispose=e}(me.EventTarget),Fu=me.EventTarget),Uu=No(za(zs(function(){ar e=t(function(t){.exports=t.exports["default"]=t.exports,t.exports.__esModule=!0}),i=t(,n=t(function(t){t.exports=t.exports["default"]=t.exports,t.exports.__esModule=!0}),r=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){return this.listeners[t]?(e=this.listeners[t].indexOf(e),this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(e,1),e>-1):!1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var i=e.length,n=0;i>n;++n)e[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),s=e.length,o=0;s>o;++o)e[o].apply(this,r)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",function(e){t.push(e)})},t}(),s=null,o=function(){function t(t){var e,i,n;s=s||function(){for(var t,e,i,n,r,s,o,a=[[[],[],[],[],[]],[[],[],[],[],[]]],l=a[0],u=a[1],c=l[4],d=u[4],h=[],p=[],f=0;256>f;f++)p[(h[f]=f<<1^283*(f>>7))^f]=f;for(t=e=0;!c[t];t^=i||1,e=p[e]||1)for(o=16843009*h[n=h[i=h[d[c[t]=r=(r=e^e<<1^e<<2^e<<3^e<<4)>>8^255&r^99]=t]]]^65537*n^257*i^16843008*t,s=257*h[r]^16843008*r,f=0;4>f;f++)l[f][t]=s=s<<24^s>>>8,u[f][r]=o=o<<24^o>>>8;for(f=0;5>f;f++)l[f]=l[f].slice(0),u[f]=u[f].slice(0);return a}(),this._tables=[[s[0][0].slice(),s[0][1].slice(),s[0][2].slice(),s[0][3].slice(),s[0][4].slice()],[s[1][0].slice(),s[1][1].slice(),s[1][2].slice(),s[1][3].slice(),s[1][4].slice()]];var r=this._tables[0][4],o=this._tables[1],a=t.length,l=1;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size");var u=t.slice(0),c=[];for(this._key=[u,c],e=a;4*a+28>e;e++)n=u[e-1],(e%a==0||8===a&&e%a==4)&&(n=r[n>>>24]<<24^r[n>>16&255]<<16^r[n>>8&255]<<8^r[255&n],e%a==0&&(n=n<<8^n>>>24^l<<24,l=l<<1^283*(l>>7))),u[e]=u[e-a]^n;for(i=0;e;i++,e--)n=u[3&i?e:e-4],c[i]=4>=e||4>i?n:o[0][r[n>>>24]]^o[1][r[n>>16&255]]^o[2][r[n>>8&255]]^o[3][r[255&n]]}return t.prototype.decrypt=function(t,e,i,n,r,s){for(var o,a,l,u=this._key[1],c=t^u[0],d=n^u[1],h=i^u[2],p=e^u[3],f=u.length/4-2,m=4,e=this._tables[1],g=e[0],v=e[1],y=e[2],_=e[3],b=e[4],T=0;f>T;T++)o=g[c>>>24]^v[d>>16&255]^y[h>>8&255]^_[255&p]^u[m],a=g[d>>>24]^v[h>>16&255]^y[p>>8&255]^_[255&c]^u[m+1],l=g[h>>>24]^v[p>>16&255]^y[c>>8&255]^_[255&d]^u[m+2],p=g[p>>>24]^v[c>>16&255]^y[d>>8&255]^_[255&h]^u[m+3],m+=4,c=o,d=a,h=l;for(T=0;4>T;T++)r[(3&-T)+s]=b[c>>>24]<<24^b[d>>16&255]<<16^b[h>>8&255]<<8^b[255&p]^u[m++],
o=c,c=d,d=h,h=p,p=o},t}(),a=r),l=u=);self.onmessage=))),Hu={AUDIO:SUBTITLES:function(t,e){return function(){var i=e.segmentLoaders[t],n=e.mediaTypes[t];me.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Gr(i,n),i=n.activeTrack(),i&&(i.mode="disabled"),n.onTrackChanged()}}},qu={AUDIO:SUBTITLES:,$u={AUDIO:function(t,e){var i,n,r=e.vhs,s=e.sourceType,o=e.segmentLoaders[t],a=e.requestOptions,l=e.master.mediaGroups,u=e.mediaTypes[t],c=u.groups,d=u.tracks,h=u.logger_,p=e.masterPlaylistLoader,f=Mn(p.master);for(i in l[t]&&0!==Object.keys(l[t]).length||(l[t]={main:{"default":{"default":!0}}},f&&(l[t].main["default"].playlists=p.master.playlists)),l[t])for(var m in c[i]||(c[i]=[]),l[t][i]){var g=l[t][i][m],v=void 0,v=f?(h("AUDIO group '"+i+"' label '"+m+"' is a master playlist"),g.isMasterPlaylist=!0,null):"vhs-json"===s&&g.playlists?new au(g.playlists[0],r,a):g.resolvedUri?new au(g.resolvedUri,r,a):g.playlists&&"dash"===s?new du(g.playlists[0],r,a,p):null,g=me.mergeOptions({id:m,playlistLoader:v},g);qu[t](t,g.playlistLoader,e),c[i].push(g),"undefined"==typeof d[m]&&(g=new me.AudioTrack({id:m,kind:(n=void 0,n=(v=g)["default"]?"main":"alternative",n=v.characteristics&&0<=v.characteristics.indexOf("public.accessibility.describes-video")?"main-desc":n),enabled:!1,language:g.language,"default":g["default"],label:m}),d[m]=g)}o.on("error",Hu[t](t,e))},SUBTITLES:function(t,e){var i,n=e.tech,r=e.vhs,s=e.sourceType,o=e.segmentLoaders[t],a=e.requestOptions,l=e.master.mediaGroups,u=e.mediaTypes[t],c=u.groups,d=u.tracks,h=e.masterPlaylistLoader;for(i in l[t])for(var p in c[i]||(c[i]=[]),l[t][i])if(!l[t][i][p].forced){var f=l[t][i][p],m=void 0;if("hls"===s)m=new au(f.resolvedUri,r,a);else if("dash"===s){if(!f.playlists.filter(.length)return;m=new du(f.playlists[0],r,a,h)}else"vhs-json"===s&&(m=new au(f.playlists?f.playlists[0]:f.resolvedUri,r,a));f=me.mergeOptions({id:p,playlistLoader:m},f),qu[t](t,f.playlistLoader,e),c[i].push(f),"undefined"==typeof d[p]&&(f=n.addRemoteTextTrack({id:p,kind:"subtitles","default":f["default"]&&f.autoselect,language:f.language,label:p},!1).track,d[p]=f)}o.on("error",Hu[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var i,n=e.tech,r=e.master.mediaGroups,e=e.mediaTypes[t],s=e.groups,o=e.tracks;for(i in r[t])for(var a in s[i]||(s[i]=[]),r[t][i]){var l,u,c=r[t][i][a];/^(?:CC|SERVICE)/.test(c.instreamId)&&(void 0===(u=(l=n.options_.vhs&&n.options_.vhs.captionServices||{})[(u={label:a,language:c.language,instreamId:c.instreamId,"default":c["default"]&&c.autoselect}).instreamId]?me.mergeOptions(u,l[u.instreamId]):u)["default"]&&delete u["default"],s[i].push(me.mergeOptions({id:a},c)),"undefined"==typeof o[a]&&(u=n.addRemoteTextTrack({id:u.instreamId,kind:"captions","default":u["default"],language:u.language,label:u.label},!1).track,o[a]=u))}}},Wu={AUDIO:SUBTITLES:,zu=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Vu=function(t){function e(e){var i=t.call(this)||this,n=e.src,r=e.handleManifestRedirects,s=e.withCredentials,o=e.tech,a=e.bandwidth,l=e.externVhs,u=e.useCueTags,c=e.blacklistDuration,d=e.enableLowInitialPlaylist,h=e.sourceType,p=e.cacheEncryptionKeys,f=e.experimentalBufferBasedABR;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");var m,g=e.maxPlaylistRetries;return null!==g&&"undefined"!=typeof g||(g=1/0),Jl=l,i.experimentalBufferBasedABR=Boolean(f),i.withCredentials=s,i.tech_=o,i.vhs_=o.vhs,i.sourceType_=h,i.useCueTags_=u,i.blacklistDuration=c,i.maxPlaylistRetries=g,i.enableLowInitialPlaylist=d,i.useCueTags_&&(i.cueTagsTrack_=i.tech_.addTextTrack("metadata","ad-cues"),i.cueTagsTrack_.inBandMetadataTrackDispatchType=""),i.requestOptions_={withCredentials:s,handleManifestRedirects:r,maxPlaylistRetries:g,timeout:null},i.on("error",i.pauseLoading),i.mediaTypes_=(m={},["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(,m),i.mediaSource=new ls.MediaSource,i.handleDurationChange_=i.handleDurationChange_.bind(co(i)),i.handleSourceOpen_=i.handleSourceOpen_.bind(co(i)),i.handleSourceEnded_=i.handleSourceEnded_.bind(co(i)),i.mediaSource.addEventListener("durationchange",i.handleDurationChange_),i.mediaSource.addEventListener("sourceopen",i.handleSourceOpen_),i.mediaSource.addEventListener("sourceended",i.handleSourceEnded_),i.seekable_=me.createTimeRanges(),i.hasPlayed_=!1,i.syncController_=new Bu(e),i.segmentMetadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,i.decrypter_=new Uu,i.sourceUpdater_=new Mu(i.mediaSource),i.inbandTextTracks_={},i.timelineChangeController_=new Fu,p={vhs:i.vhs_,parse708captions:e.parse708captions,mediaSource:i.mediaSource,currentTime:i.tech_.currentTime.bind(i.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.duration()},hasPlayed:function(){return i.hasPlayed_},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:a,syncController:i.syncController_,decrypter:i.decrypter_,sourceType:i.sourceType_,inbandTextTracks:i.inbandTextTracks_,cacheEncryptionKeys:p,sourceUpdater:i.sourceUpdater_,timelineChangeController:i.timelineChangeController_},i.masterPlaylistLoader_=new("dash"===i.sourceType_?du:au)(n,i.vhs_,i.requestOptions_),i.setupMasterPlaylistLoaderListeners_(),i.mainSegmentLoader_=new wu(me.mergeOptions(p,{segmentMetadataTrack:i.segmentMetadataTrack_,loaderType:"main"}),e),i.audioSegmentLoader_=new wu(me.mergeOptions(p,{loaderType:"audio"}),e),i.subtitleSegmentLoader_=new Ru(me.mergeOptions(p,{loaderType:"vtt",featuresNativeTextTracks:i.tech_.featuresNativeTextTracks}),e),i.setupSegmentLoaderListeners_(),i.experimentalBufferBasedABR&&(i.masterPlaylistLoader_.one("loadedplaylist",function(){return i.startABRTimer_()}),i.tech_.on("pause",function(){return i.stopABRTimer_()}),i.tech_.on("play",function(){return i.startABRTimer_()})),zu.forEach(,i.logger_=hn("MPC"),i.triggeredFmp4Usage=!1,"none"===i.tech_.preload()?(i.loadOnPlay_=i.tech_.one("play",i.loadOnPlay_)):i.masterPlaylistLoader_.load(),i.timeToLoadedData__=-1,i.mainAppendsToLoadedData__=-1,i.audioAppendsToLoadedData__=-1,e="none"===i.tech_.preload()?"play":"loadstart",i.tech_.one(e,,i}ho(e,t);var i=e.prototype;return i.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},i.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},i.appendsToLoadedData_=i.timeToLoadedData_=function(){return this.timeToLoadedData__},i.checkABR_=i.switchMedia_=i.startABRTimer_=i.stopABRTimer_=i.getAudioTrackPlaylists_=function(){var t=this.master();if(!t||!t.mediaGroups||!t.mediaGroups.AUDIO)return t&&t.playlists||[];var e,i=t.mediaGroups.AUDIO,t=Object.keys(i);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)e=this.mediaTypes_.AUDIO.activeTrack();else{var n,r=i.main||t.length&&i[t[0]];for(n in r)if(r[n]["default"]){e={label:n};break}}if(!e)return[];var s,o,a=[];for(s in i)i[s][e.label]&&((o=i[s][e.label]).playlists?a.push.apply(a,o.playlists):a.push(o));return a},i.setupMasterPlaylistLoaderListeners_=i.handleUpdatedMediaPlaylist=i.triggerPresenceUsage_=i.shouldSwitchToMedia_=function(t){var e=this.masterPlaylistLoader_.media(),i=this.tech_.buffered();return function(t){var e=t.currentPlaylist,i=t.nextPlaylist,n=t.forwardBuffer,r=t.bufferLowWaterLine,s=t.bufferHighWaterLine,o=t.duration,a=t.experimentalBufferBasedABR,l=t.log;if(!i)return me.log.warn("We received no playlist to switch to. Please check your stream."),!1;var u="allowing switch "+(e&&e.id||"null")+" -> "+i.id;return e&&e.endList?i.id===e.id?!1:(t=a?hu.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:hu.MAX_BUFFER_LOW_WATER_LINE,t>o?(l(u+" as duration < max low water line ("+o+" < "+t+")"),!0):(t=i.attributes.BANDWIDTH,i=e.attributes.BANDWIDTH,i>t&&(!a||s>n)?(e=u+" as next bandwidth < current bandwidth ("+t+" < "+i+")",a&&(e+=" and forwardBuffer < bufferHighWaterLine ("+n+" < "+s+")"),l(e),!0):(!a||t>i)&&n>=r?(r=u+" as forwardBuffer >= bufferLowWaterLine ("+n+" >= "+r+")",a&&(r+=" and next bandwidth > current bandwidth ("+t+" > "+i+")"),l(r),!0):(l("not "+u+" as no switching criteria met"),!1))):(l(u+" as current playlist "+(e?"is live":"is not set")),!0)}({currentPlaylist:e,nextPlaylist:t,forwardBuffer:i.length?i.end(i.length-1)-this.tech_.currentTime():0,bufferLowWaterLine:this.bufferLowWaterLine(),bufferHighWaterLine:this.bufferHighWaterLine(),duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},i.setupSegmentLoaderListeners_=function(){ar e=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",,this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")})),this.mainSegmentLoader_.on("error",,this.mainSegmentLoader_.on("appenderror",function(){e.error=e.mainSegmentLoader_.error_,e.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",,this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",,this.mainSegmentLoader_.on("ended",function(){e.logger_("main segment loader ended"),e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){e.experimentalBufferBasedABR||(e.delegateLoaders_("all",["abort"]),e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))}),this.mainSegmentLoader_.on("trackinfo",t),this.audioSegmentLoader_.on("trackinfo",t),this.mainSegmentLoader_.on("fmp4",function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",,this.audioSegmentLoader_.on("ended",},i.mediaSecondsLoaded_=i.load=i.smoothQualityChange_=i.fastQualityChange_=i.play=i.setupFirstPlay=i.handleSourceOpen_=function(){var t;this.tryToCreateSourceBuffers_(),!this.tech_.autoplay()||"undefined"!=typeof(t=this.tech_.play())&&"function"==typeof t.then&&t.then(null,function(){}),this.trigger("sourceopen")},i.handleSourceEnded_=i.handleDurationChange_=function(){this.tech_.trigger("durationchange")},i.onEndOfStream=i.stuckAtPlaylistEnd_=function(t){if(!this.seekable().length)return!1;var e=this.syncController_.getExpiredTime(t,this.duration());if(null===e)return!1;var i=Jl.Playlist.playlistEnd(t,e),t=this.tech_.currentTime(),e=this.tech_.buffered();return e.length?(e=e.end(e.length-1),.1>=e-t&&.1>=i-e):.1>=i-t},i.blacklistCurrentPlaylist=function(t,e){var i=(t=void 0===t?{}:t).playlist||this.masterPlaylistLoader_.media();if(e=e||t.blacklistDuration||this.blacklistDuration,!i)return this.error=t,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));i.playlistErrors_++;var n,r=this.masterPlaylistLoader_.master.playlists,s=r.filter(An),o=1===s.length&&s[0]===i;return 1===r.length&&e!==1/0?(me.log.warn("Problem encountered with playlist "+i.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(o)):(o&&(n=!1,r.forEach(,n&&(me.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))),s=i.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*e,i.excludeUntil=s,t.reason&&(i.lastExcludeReason_=t.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),(r=this.selectPlaylist())?(e=t.internal?this.logger_:me.log.warn,s=t.message?" "+t.message:"",e((t.internal?"Internal problem":"Problem")+" encountered with playlist "+i.id+"."+s+" Switching to playlist "+r.id+"."),r.attributes.AUDIO!==i.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),r.attributes.SUBTITLES!==i.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]),s=r.targetDuration/2*1e3||5e3,s="number"==typeof r.lastRequest&&Date.now()-r.lastRequest<=s,this.switchMedia_(r,"exclude",o||s)):(this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error")))},i.pauseLoading=i.delegateLoaders_=function(t,e){var i=this,n=[],r="all"===t;!r&&"main"!==t||n.push(this.masterPlaylistLoader_);var s=[];!r&&"audio"!==t||s.push("AUDIO"),!r&&"subtitle"!==t||(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(function(t){t=i.mediaTypes_[t]&&i.mediaTypes_[t].activePlaylistLoader,t&&n.push(t)}),["main","audio","subtitle"].forEach(,n.forEach(},i.setCurrentTime=i.duration=i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=i.updateDuration=i.dispose=i.master=function(){return this.masterPlaylistLoader_.master},i.media=i.areMediaTypesKnown_=i.getCodecsOrExclude_=function(){var t=this,e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};e.video=e.main;var i=Cr(this.master(),this.media()),n={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(n.video=i.video||e.main.videoCodec||"avc1.4d400d"),e.main.isMuxed&&(n.video+=","+(i.audio||e.main.audioCodec||tl)),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||r)&&(n.audio=i.audio||e.main.audioCodec||e.audio.audioCodec||tl,e.audio.isFmp4=(e.main.hasAudio&&!e.main.isMuxed?e.main:e.audio).isFmp4),n.audio||n.video){var s,o,a={};if(["video","audio"].forEach(,r&&s&&this.media().attributes.AUDIO&&(o=this.media().attributes.AUDIO,this.master().playlists.forEach(,this.logger_("excluding audio group "+o+" as "+s+' does not support codec(s): "'+n.audio+'"')),!Object.keys(a).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var l=[];if(["video","audio"].forEach(,l.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+l.join(", ")+".",blacklistDuration:1/0,internal:!0})}return n}r=Object.keys(a).reduce("")+".",this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:r,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},i.tryToCreateSourceBuffers_=i.excludeUnsupportedVariants_=i.excludeIncompatibleVariants_=i.updateAdCues_=i.goalBufferLength=i.bufferLowWaterLine=i.bufferHighWaterLine=e}(me.EventTarget),Yu=["seeking","seeked","pause","playing","error"],Ku=function(){function t(t){function e(){return o.monitorCurrentTime_()}function i(){return o.monitorCurrentTime_()}function n(){return o.techWaiting_()}function r(){return o.cancelTimer_()}ar o=this;this.masterPlaylistController_=t.masterPlaylistController,this.tech_=t.tech,this.seekable=t.seekable,this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=t.liveRangeSafeTimeDelta,this.media=t.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=hn("PlaybackWatcher"),this.logger_("initialize");var a=this.masterPlaylistController_,l=["main","subtitle","audio"],u={};l.forEach(,this.tech_.on("seekablechanged",s),this.tech_.on("waiting",n),this.tech_.on(Yu,r),this.tech_.on("canplay",i),this.tech_.one("play",e),this.dispose=var e=t.prototype;return e.monitorCurrentTime_=e.resetSegmentDownloads_=e.checkSegmentDownloads_=e.checkCurrentTime_=e.cancelTimer_=e.fixesBadSeeks_=e.waiting_=e.techWaiting_=function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var i=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}return t=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,i=this.tech_.buffered(),this.videoUnderflow_({audioBuffered:t.audioBuffered(),videoBuffered:t.videoBuffered(),currentTime:e})?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0):(t=mn(i,e),0<t.length?(i=t.start(0)-e,this.logger_("Stopped at "+e+", setting timer for "+i+", seeking to "+t.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*i,e),!0):!1)},e.afterSeekableWindow_=e.beforeSeekableWindow_=e.videoUnderflow_=function(t){var e,i,n=t.videoBuffered,r=t.audioBuffered,s=t.currentTime;return n?(n.length&&r.length?(i=fn(n,s-3),t=fn(n,s),(r=fn(r,s)).length&&!t.length&&i.length&&(e={start:i.end(0),end:r.end(0)})):mn(n,s).length||(e=this.gapFromVideoUnderflow_(n,s)),!!e&&(this.logger_("Encountered a gap in video from "+e.start+" to "+e.end+". Seeking to current time "+s),!0)):void 0},e.skipTheGap_=e.gapFromVideoUnderflow_=function(t,e){for(var i=t),n=0;n<i.length;n++){var r=i.start(n),s=i.end(n);if(4>e-r&&e-r>2)return{start:r,end:s}}return null},t}(),Gu={errorInterval:30,getSource:,zs=Xu={PlaylistLoader:au,Playlist:ru,utils:Mo,STANDARD_PLAYLIST_SELECTOR:Oo,INITIAL_PLAYLIST_SELECTOR:lastBandwidthSelector:Oo,movingAverageBandwidthSelector:function(t){var e=-1,i=-1;if(0>t||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var n=this.useDevicePixelRatio&&ls.devicePixelRatio||1;return 0>e&&(e=this.systemBandwidth,i=this.systemBandwidth),0<this.systemBandwidth&&this.systemBandwidth!==i&&(e=t*this.systemBandwidth+(1-t)*e,i=this.systemBandwidth),Ir(this.playlists.master,e,parseInt(Or(this.tech_.el(),"width"),10)*n,parseInt(Or(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:Dr,comparePlaylistResolution:xhr:Vn()};Object.keys(hu).forEach(function(t){Object.defineProperty(Xu,t,{get:set:function(e){me.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||0>e?me.log.warn("value of Vhs."+t+" must be greater than or equal to 0"):hu[t]=e}})});var Qu="videojs-vhs";Xu.canPlaySource=function(){return me.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},Xu.supportsNativeHls=function(){if(!ds||!ds.createElement)return!1;var t=ds.createElement("video");return me.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(:!1}(),Xu.supportsNativeDash=!!(ds&&ds.createElement&&me.getTech("Html5").isSupported())&&/maybe|probably/i.test(ds.createElement("video").canPlayType("application/dash+xml")),Xu.supportsTypeNatively=Xu.isSupported=var Ju=function(t){function e(e,i,n){var r=t.call(this,i,me.mergeOptions(n.hls,n.vhs))||this;if(n.hls&&Object.keys(n.hls).length&&me.log.warn("Using hls options is deprecated. Use vhs instead."),"number"==typeof n.initialBandwidth&&(r.options_.bandwidth=n.initialBandwidth),r.logger_=hn("VhsHandler"),i.options_&&i.options_.playerId&&((n=me(i.options_.playerId)).hasOwnProperty("hls")||Object.defineProperty(n,"hls",{get:function(){return me.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"hls-player-access"}),co(r)},configurable:!0}),n.hasOwnProperty("vhs")||Object.defineProperty(n,"vhs",{get:configurable:!0}),n.hasOwnProperty("dash")||Object.defineProperty(n,"dash",{get:configurable:!0}),r.player_=n),r.tech_=i,r.source_=e,r.stats={},r.ignoreNextSeekingEvent_=!1,r.setOptions_(),r.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(r.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return r.on(ds,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(){var t=ds.fullscreenElement||ds.webkitFullscreenElement||ds.mozFullScreenElement||ds.msFullscreenElement;t&&t.contains(r.tech_.el())?r.masterPlaylistController_.fastQualityChange_():r.masterPlaylistController_.checkABR_()}),r.on(r.tech_,"seeking",,r.on(r.tech_,"error",,r.on(r.tech_,"play",r.play),r}ho(e,t);var i=e.prototype;return i.setOptions_=i.src=function(t,e){var i=this;t&&(this.setOptions_(),this.options_.src=0===(t=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(t.substring(t.indexOf(",")+1)):t,this.options_.tech=this.tech_,this.options_.externVhs=Xu,this.options_.sourceType=Oe(e),this.options_.seekTo=function(t){i.tech_.setCurrentTime(t)},this.options_.smoothQualityChange&&me.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new Vu(this.options_),e=me.mergeOptions({liveRangeSafeTimeDelta:.1},this.options_,{seekable:function(){return i.seekable()},media:function(){return i.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_}),this.playbackWatcher_=new Ku(e),this.masterPlaylistController_.on("error",,e=this.options_.experimentalBufferBasedABR?Xu.movingAverageBandwidthSelector(.55):Xu.STANDARD_PLAYLIST_SELECTOR,this.masterPlaylistController_.selectPlaylist=(this.selectPlaylist||e).bind(this),this.masterPlaylistController_.selectInitialPlaylist=Xu.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:set:,throughput:{get:set:,bandwidth:{get:set:,systemBandwidth:{get:set:}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:enumerable:!0},mediaRequests:{get:function(){return i.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return i.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return i.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return i.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return i.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return i.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return i.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return i.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return i.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return i.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return i.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:enumerable:!0},buffered:{get:function(){return vn(i.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return i.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return i.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return i.tech_.name_},enumerable:!0},duration:{get:function(){return i.tech_.duration()},enumerable:!0},master:{get:enumerable:!0},playerDimensions:{get:function(){return i.tech_.currentDimensions()},enumerable:!0},seekable:{get:enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",,this.masterPlaylistController_.on("selectedinitialmedia",function(){var t;(t=i).representations=function(){var e=t.masterPlaylistController_.master(),e=Mn(e)?t.masterPlaylistController_.getAudioTrackPlaylists_():e.playlists;return e?e.filter(.map(:[]}}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){i.setupEme_()}),this.on(this.masterPlaylistController_,"progress",,this.on(this.masterPlaylistController_,"firstplay",,this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=ls.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_)))},i.setupEme_=function(){var t=this,e=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,i=ns({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});11!==me.browser.IE_VERSION&&i?(this.logger_("waiting for EME key session creation"),is({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.master.playlists}).then(["catch"]():this.masterPlaylistController_.sourceUpdater_.initializedEme()},i.setupQualityLevels_=e.version=i.version=function(){return this.constructor.version()},i.canChangeType=function(){return Mu.canChangeType()},i.play=function(){this.masterPlaylistController_.play()},i.setCurrentTime=function(t){this.masterPlaylistController_.setCurrentTime(t)},i.duration=function(){return this.masterPlaylistController_.duration()},i.seekable=i.dispose=i.convertToProgramTime=i.seekToProgramTime=e}(me.getComponent("Component")),Zu={name:"videojs-http-streaming",VERSION:"2.9.2",canHandleSource:handleSource:canPlayType:function(t,e){return e=me.mergeOptions(me.options,e=void 0===e?{}:e).vhs.overrideNative,e=void 0===e?!me.browser.IS_ANY_SAFARI:e,t=Oe(t),!t||Xu.supportsTypeNatively(t)&&!e?"":"maybe"}};return Ce("avc1.4d400d,mp4a.40.2")&&me.getTech("Html5").registerSourceHandler(Zu,0),me.VhsHandler=Ju,Object.defineProperty(me,"HlsHandler",{get:function(){return me.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Ju},configurable:!0}),me.VhsSourceHandler=Zu,Object.defineProperty(me,"HlsSourceHandler",{get:function(){return me.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Zu},configurable:!0}),me.Vhs=Xu,Object.defineProperty(me,"Hls",{get:configurable:!0}),me.use||(me.registerComponent("Hls",Xu),me.registerComponent("Vhs",Xu)),me.options.vhs=me.options.vhs||{},me.options.hls=me.options.hls||{},me.registerPlugin?me.registerPlugin("reloadSourceOnError",zs):me.plugin("reloadSourceOnError",zs),me}),function(t,e){o=[],a={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:addTest:addAsyncTest:function(t){o.push({name:null,fn:t})}},l=function(){};l.prototype=a,l=new l;var u,c=[];!);var d=e.documentElement,h="svg"===d.nodeName.toLowerCase();a._l={},a.on=a._trigger=l._q.push(,l.addAsyncTest(function(){var t=new Image;t.onerror=function(){s("webpalpha",!1,{aliases:["webp-alpha"]})},t.onload=function(){s("webpalpha",1==t.width,{aliases:["webp-alpha"]})},t.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="}),l.addAsyncTest(,l.addAsyncTest(,n(),delete a.addTest,delete a.addAsyncTest;for(var p=0;p<l._q.length;p++)l._q[p]();t.Modernizr=l}(window,document);