(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3165],{13165:function(t,e,n){"use strict";n.d(e,{Rj:);var r=n(32292),i=n(94184),o=n.n(i),a=n(28777),l=n(67294),u=n(70131),c=n(34744),s=(n(32634),n(31261)),f=n.n(s),d=l.createElement,v=function(t){var e=t.slides,n=t.height,r=void 0===n?200:n;return d("div",{className:o()(f().slider,"ExchangesSlider"),style:{height:r}},d(a.sj,{naturalSlideWidth:180,naturalSlideHeight:r,visibleSlides:4.7,totalSlides:e.length,step:5},d(a.iR,null,e),d(a.jp,{className:f().btnLeft}),d(a.P1,{className:f().btnRight})))};v.defaultProps={slides:[],height:180};var h=v,m=n(3335),p=n.n(m),_=n(5773),y=n(58897),b=n(54352),g=n.n(b),w=l.createElement;function E(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var S=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=E(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.type=n}}catch(o){r.e(o)}finally{r.f()}return e},j=function(t){var e=t.id,n=t.className,i=t.height,s=(0,l.useState)([]),f=s[0],d=s[1],v=(0,l.useState)([]),m=v[0],b=v[1],E=(0,l.useState)([]),x=E[0],j=E[1],N=(0,l.useState)([]),O=N[0],P=N[1],k=(0,_.MS)().state.isBlackTheme,A=(0,u.YD)({threshold:0,rootMargin:"350px",triggerOnce:!0}),M=(0,r.Z)(A,2),D=M[0],Z=M[1];return(0,l.useEffect)((function(){Z&&Promise.all([fetch("https://smi2.ru/data/js/96649.json").then((function(t){return t.json()})).catch((function(t){p().error(t)})),fetch("https://api-eu.lentainform.com/1007499?content_type=json&token=93f2cc11509447bdad0c09cd93ee5d28").then((function(t){return t.json()})).catch((function(t){p().error(t)})),fetch("https://news.mediametrics.ru/cgi-bin/b.fcgi?ac=b&m=json&n=10").then((function(t){return t.json()})).catch((function(t){p().error(t)}))]).then((function(t){var e,n;d(S(null===(e=t[0])||void 0===e?void 0:e.news,"smi2")),b(S(t[1],"lentainform")),j(S(null===(n=t[2])||void 0===n?void 0:n.news,"mediametrics"))}))}),[Z]),(0,l.useEffect)((function(){var t=function(t){return t.map((function(t){return w(a.Mi,{className:g().slider_item},t.map((function(t){return w(c.Z,{item:t,width:"230px",height:"186px",className:g().item,key:(null===t||void 0===t?void 0:t.id)||(null===t||void 0===t?void 0:t.title),isNewTab:"mediametrics"!==(null===t||void 0===t?void 0:t.type)})})))}))}(function(t){for(var e=[],n=0;n<t.length-1;n+=2)e.push([t[n],t[n+1]||null]);return e}((0,y.Z)([].concat(f,m,x))));P(t)}),[f,m,x]),w("section",{id:e,ref:D,className:o()(g().root,n)},(null===O||void 0===O?void 0:O.length)>0?w(l.Fragment,null,w("p",{className:o()(g().title,k&&g().black)},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438 \u043f\u0430\u0440\u0442\u043d\u0435\u0440\u043e\u0432"),w(h,{slides:O,height:i})):null)};j.defaultProps={id:"",height:290,className:null};var N=n(26265),O=n(17673),P=n(1121),k=function(t,e){var n=0;return function(){var r=new Date;r-n>=e&&(t(),n=r)}},A=n(30228),M=n.n(A),D=l.createElement;function Z(t){var e=t.children,n=function(t){return t.preventDefault()},r=(0,l.useRef)(null),i=(0,l.useState)(230),o=i[0],a=i[1],u=(0,l.useState)(0),c=u[0],s=u[1],f=(0,l.useState)(1),d=f[0],v=f[1],h=(0,l.useMemo)((function(){return e.map((function(t){return D("div",{key:t[0].key,onDragStart:n,className:M().carouselEx__item__wrap},t)}))}),[e]),m=function(){var t,e,n;s(+(null===r||void 0===r||null===(t=r.current)||void 0===t?void 0:t.scrollLeft.toFixed())),v((null===r||void 0===r||null===(e=r.current)||void 0===e?void 0:e.scrollWidth)-(null===r||void 0===r||null===(n=r.current)||void 0===n?void 0:n.clientWidth))};return(0,l.useEffect)((function(){!)}),[d]),(0,l.useEffect)((,[]),(0,l.useEffect)((function(){return r.current.addEventListener("scroll",k(m,200)),function(){r.current.removeEventListener("scroll",k(m,200))}}),[c]),D("div",{className:M().carouselEx__wrap},D("div",{ref:r,className:M().carouselEx},h.map(()),D("button",{disabled:0===c,onClick:function(){var t;return null===r||void 0===r||null===(t=r.current)||void 0===t?void 0:t.scrollBy(-o,0)},type:"button",className:M().carouselEx__btn__left}),D("button",{disabled:c===d,onClick:function(){var t;return null===r||void 0===r||null===(t=r.current)||void 0===t?void 0:t.scrollBy(o,0)},type:"button",className:M().carouselEx__btn__right}))}var B=l.createElement;ar L=function(t){var e=t.id,n=t.className,i=t.type,a=t.rate,c=t.maxPosts,s=t.additionalParams,f=t.inPost,d=t.index,v=(0,l.useState)(),h=v[0],m=v[1],p=(0,_.q7)().state.isMobile,y=(0,l.useState)([]),b=y[0],w=y[1],E=(0,u.YD)({threshold:0,rootMargin:"350px",triggerOnce:!0}),x=(0,r.Z)(E,2),S=x[0],j=x[1];return(0,l.useEffect)((function(){j&&(0,P.nK)(i,s).then(m)}),[j]),(0,l.useEffect)((function(){h&&w((0,P.XA)({dataJSON:h,rate:a,maxPosts:c}))}),[h]),(0,l.useEffect)((function(){var t=b.reduce((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){var n=e.type,r=e.id;["smi24","smi24_mobile"].includes(n)&&t.push(r)})),t}),[]);if(t.length){var e=O.stringify({obj:p?P.VE:P.$y,teaser_ids:t.join(",")},null===s||void 0===s?void 0:s.smi24));fetch("".concat(P.cX,"?").concat(e))}}),[b]),B("section",{id:e,ref:S,className:o()(g().root,n)},(null===b||void 0===b?void 0:b.length)>0&&B(Z,null,(0,P.uh)(b,{isMobile:p,inPost:f,exchangeIndex:d})))};L.defaultProps={id:"",className:null,type:[],rate:void 0,maxPosts:void 0,additionalParams:{}};var R=L,T=n(28140),C=l.createElement;r W=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=F(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.type=n}}catch(o){r.e(o)}finally{r.f()}return e},Y=function(t,e){var n=t.length-e-1;return t.splice(n,e),t},U=function(t){var e=t.id,n=t.className,i=(0,l.useState)([]),s=i[0],f=i[1],d=(0,l.useState)([]),v=d[0],m=d[1],y=(0,l.useState)([]),b=y[0],w=y[1],E=(0,_.MS)().state.isBlackTheme,x=(0,u.YD)({threshold:0,rootMargin:"350px",triggerOnce:!0}),S=(0,r.Z)(x,2),j=S[0],N=S[1];return(0,l.useEffect)((function(){N&&Promise.all([fetch("https://data.24smi.net/informer?object=17335&num=10&output=json").then((function(t){return t.json()})).catch((function(t){p().error(t)})),fetch("https://news.mediametrics.ru/cgi-bin/b.fcgi?ac=b&m=json&n=10").then(().catch(()]).then((function(t){var e;f(Y(W(t[0].news,"smi24"),1)),m(Y(W(null===(e=t[1])||void 0===e?void 0:e.news,"mediametrics"),9))}))}),[N]),(0,l.useEffect)((function(){var t=function(t){return t.map((function(t){return C(a.Mi,{style:{paddingBottom:"3.5%"},className:g().slider_item},t.map((function(t){return C(c.Z,{item:t,className:g().item,key:(null===t||void 0===t?void 0:t.id)||(null===t||void 0===t?void 0:t.title),isNewTab:"mediametrics"!==(null===t||void 0===t?void 0:t.type)})})))}))}([].concat((0,T.Z)(v),(0,T.Z)(s)).map(());w(t)}),[s,v]),C("section",{id:e,ref:j,className:o()(g().root,n)},(null===b||void 0===b?void 0:b.length)>0?C(l.Fragment,null,C("p",{className:o()(g().title,E&&g().black)},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438 \u043f\u0430\u0440\u0442\u043d\u0435\u0440\u043e\u0432"),C(h,{slides:b,height:186})):null)};U.defaultProps={id:"",className:null}},30228:31261:]);