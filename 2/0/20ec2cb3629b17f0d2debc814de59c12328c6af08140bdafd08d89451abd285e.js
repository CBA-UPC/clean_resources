// For license information, see `https://assets.adobedtm.com/08e39cddbedb/32ea494d5493/e8b4a82b2cc1/RCb0386a2f698142859b1da4ef92504dc4-source.js`.
_satellite.__registerScript('https://assets.adobedtm.com/08e39cddbedb/32ea494d5493/e8b4a82b2cc1/RCb0386a2f698142859b1da4ef92504dc4-source.min.js', "<script>\n  // install.\n  (function(w, d){\n  var id='pdst-capture', n = 'script';\n  if (!d.getElementById(id)){\n    w.pdst = w.pdst || function() {(w.pdst.q = w.pdst.q || []).push(arguments);};\n    var e = d.createElement(n); e.id = id; e.async=1;\n    e.src = 'https://cdn.pdst.fm/ping.min.js';\n    var s = d.getElementsByTagName(n)[0];\n    s.parentNode.insertBefore(e, s);\n  }\n  w.pdst('conf', { key: '3f76084bf8044f0f88a704bf4ded098b' });\n  w.pdst('view');\n  })(window, document);\n</script>");rrentTopic=getURLParameter('topic');console.log('Topic from URL:',currentTopic);if(currentResourceType){$('#categoryFilter').val(currentResourceType);var selectedOptionText=$('#categoryFilter option[value="'+currentResourceType+'"]').text();$('#categoryFilter').next('.select-styled').text(selectedOptionText)}
if(currentTopic){$('#topicFilter').val(currentTopic);var selectedOptionText=$('#topicFilter option[value="'+currentTopic+'"]').text();$('#topicFilter').next('.select-styled').text(selectedOptionText)}
if(currentResourceType||currentTopic){resourceFilter(1,currentResourceType,currentTopic)}
function updatePaginationLinks(){$('.page-numbers').each(function(){var href=$(this).attr('href');if(href){var pageMatch=href.match(/paged=([0-9]+)/);var pageNumber=pageMatch?parseInt(pageMatch[1],10):1;$(this).attr('data-page',pageNumber)}})}
$(document).on('click','.page-numbers',function(e){e.preventDefault();var href=$(this).attr('href');var pageMatch=href.match(/paged=(\d+)/);var page=pageMatch?parseInt(pageMatch[1],10):undefined;console.log("Pagination clicked - Page:",page);if(page){resourceFilter(page,currentResourceType,currentTopic)}else{console.error("Error: Page number is undefined.")}});function resourceFilter(page=1,resourceType='',topic=''){var ajaxData=$("#resource_filters").serialize()+'&paged='+page;if(resourceType){ajaxData+='&resource_type='+resourceType}
if(topic){ajaxData+='&topic='+topic}
console.log("AJAX data: ",ajaxData);$.ajax({url:resource_loadmore_params.ajaxurl,data:ajaxData,dataType:"json",type:"POST",success:function(data){if(data.content){$(".resource-listing").html(data.content);if(data.filter_applied){$(".resource-pagination").addClass("no-numbers")}else{$(".resource-pagination").removeClass("no-numbers")}}
if(data.pagination){$(".resource-pagination").html(data.pagination);updatePaginationLinks();$(".resource-pagination .prev-page").click(function(event){event.preventDefault();if(!$(this).hasClass("disabled")){window.location.href=$(this).attr("href")}});$(".resource-pagination .next-page").click(function(event){event.preventDefault();if(!$(this).hasClass("disabled")){window.location.href=$(this).attr("href")}})}
if(history.pushState){var newUrl=window.location.protocol+"//"+window.location.host+window.location.pathname+'?paged='+page;window.history.pushState({path:newUrl},'',newUrl)}
console.log("Content and pagination updated.");resource_loadmore_params.current_page=1;resource_loadmore_params.posts=data.posts;resource_loadmore_params.max_page=data.max_page},});return!1}
$("#search").change(function(){console.log("Search term changed",this.value);resourceFilter()});$("#reset-all").click(function(e){console.log("Reset clicked");e.preventDefault();$("#search").val("");$("#topicFilter").val("");$("#categoryFilter").val("");const allSelectedFilters=document.querySelectorAll(".select-styled");const allTopicsOption=document.getElementById("all-topics-option");const allCategoriesOption=document.getElementById("all-categories-option");allSelectedFilters.forEach((selectedFilter,index)=>{if(index===0){selectedFilter.innerText=allTopicsOption.text}else if(index===1){selectedFilter.innerText=allCategoriesOption.text}});$('div.select-styled').removeClass('filter-activated');topicFilter()});$('#topicFilter, #categoryFilter').each(function(){var $this=$(this),numberOfOptions=$(this).children('option').length;$this.addClass('select-hidden');$this.wrap('<div class="select"></div>');$this.after('<div class="select-styled"></div>');var $styledSelect=$this.next('div.select-styled');$styledSelect.text($this.children('option').eq(0).text());var $list=$('<ul />',{'class':'select-options'}).insertAfter($styledSelect);for(var i=0;i<numberOfOptions;i++){$('<li />',{text:$this.children('option').eq(i).text(),rel:$this.children('option').eq(i).val()}).appendTo($list)}
var $listItems=$list.children('li');$styledSelect.click(function(e){console.log("main option click");e.stopPropagation();$('div.select-styled.active').not(this).each(function(){$(this).removeClass('active').next('ul.select-options').hide()});$(this).toggleClass('active').next('ul.select-options').toggle();$(this).addClass('filter-activated')});$listItems.click(function(e){e.stopPropagation();var listItemText=$(this).text();if(listItemText==='Clear Category'){$styledSelect.text('Category')}else if(listItemText==='Clear Topic'){$styledSelect.text('Topic')}else{$styledSelect.text(listItemText)}
$this.val($(this).attr('rel'));$list.hide();console.log("Filtering posts");resourceFilter();if($(this).is(':last-child')){$(this).closest('.select').find('.select-styled').removeClass('filter-activated')}else{$(this).closest('.select').find('.select-styled').addClass('filter-activated')}});$(document).click(function(){$styledSelect.removeClass('active');$list.hide()})})})