window.__define = window.define;window.__require = window.require;window.define = undefined;window.require = undefined;(function() {;var define = undefined;var require = undefined;/*!
* Third-Party Software Licenses
*
* This software includes third-party libraries and components.
* Full license information for these can be found in our licenses file accessible at:
* https://ads.caroda.io/videoPlayer/LICENSES.txt
*
* We encourage all users of this library to review the licensing terms of the included third-party software.
*/;window.caroda = window.caroda || {};window.carodaPrebidIframeRunnerCode = "(function(exports,global){var __assign=function(){return(__assign=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++)for(var t in r=arguments[n])Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e}).apply(this,arguments)};function __spreadArray(e,r,n){if(n||2===arguments.length)for(var i,t=0,o=r.length;t<o;t++)!i&&t in r||((i=i||Array.prototype.slice.call(r,0,t))[t]=r[t]);return e.concat(i||Array.prototype.slice.call(r))}var AdUnitFormat,OpenRtbVideoProtocols,dataAsOf=\"2024-02-09T00:00:00.000Z\",generatedAt=\"2024-02-11T16:00:35.487Z\",conversions={USD:{USD:1,JPY:149.461567025622,BGN:1.8156331229112515,CZK:23.367991088005944,DKK:6.919420720386187,GBP:.793167471221686,HUF:360.17452655031565,PLN:4.01095432603045,RON:4.620590419606387,SEK:10.472985518009654,CHF:.8756034162643892,ISK:137.48607500928333,NOK:10.582064611956925,TRY:30.68297437801708,AUD:1.5357408095061271,BRL:4.97929818046788,CAD:1.34478277014482,CNY:7.193557370961753,HKD:7.819996286669143,IDR:15636.901225399184,ILS:3.6844597103601933,INR:83.02664314890457,KRW:1332.389528406981,MXN:17.1229112513925,MYR:4.765038989974007,NZD:1.6295024136650578,PHP:55.89955440029707,SGD:1.3463609357593762,THB:35.945042703304864,ZAR:19.016617155588563,EUR:.9283327144448571},GBP:{USD:1.2607677902621721,JPY:188.43632958801496,BGN:2.2890917602996255,CZK:29.461610486891384,DKK:8.72378277153558,GBP:1,HUF:454.09644194756555,PLN:5.0568820224719095,RON:5.825491573033707,SEK:13.204002808988763,CHF:1.103932584269663,ISK:173.3380149812734,NOK:13.341526217228463,TRY:38.68410580524344,AUD:1.9362125468164795,BRL:6.277738764044943,CAD:1.6954588014981273,CNY:9.06940543071161,HKD:9.859199438202246,IDR:19714.501404494382,ILS:4.645248127340824,INR:104.67731741573033,KRW:1679.8338014981273,MXN:21.588014981273407,MYR:6.007607677902621,NZD:2.054424157303371,PHP:70.47635767790263,SGD:1.697448501872659,THB:45.31835205992509,ZAR:23.97553838951311,EUR:1.1704119850187265}},currencyConversions={dataAsOf:dataAsOf,generatedAt:generatedAt,conversions:conversions},defaultOpenRTBProtocols=(!function(e){e.BANNER=\"banner\",e.VIDEO=\"video\"}(AdUnitFormat=AdUnitFormat||{}),!function(e){e[e.VAST_1_0=1]=\"VAST_1_0\",e[e.VAST_2_0=2]=\"VAST_2_0\",e[e.VAST_3_0=3]=\"VAST_3_0\",e[e.VAST_1_0_Wrapper=4]=\"VAST_1_0_Wrapper\",e[e.VAST_2_0_Wrapper=5]=\"VAST_2_0_Wrapper\",e[e.VAST_3_0_Wrapper=6]=\"VAST_3_0_Wrapper\",e[e.VAST_4_0=7]=\"VAST_4_0\",e[e.VAST_4_0_Wrapper=8]=\"VAST_4_0_Wrapper\",e[e.DAAST_1_0=9]=\"DAAST_1_0\",e[e.DAAST_1_0_Wrapper=10]=\"DAAST_1_0_Wrapper\"}(OpenRtbVideoProtocols=OpenRtbVideoProtocols||{}),[OpenRtbVideoProtocols.VAST_2_0,OpenRtbVideoProtocols.VAST_3_0,OpenRtbVideoProtocols.VAST_2_0_Wrapper,OpenRtbVideoProtocols.VAST_3_0_Wrapper,OpenRtbVideoProtocols.VAST_4_0,OpenRtbVideoProtocols.VAST_4_0_Wrapper]);function isValidSize(e,r){var n=r.allowedSizes,i=r.maxWidth,r=r.maxHeight,t=e[0],o=e[1];return(!n||n.some(function(e){return e[0]===t&&e[1]===o}))&&(!i||t<=i)&&(!r||o<=r)}var PREBID_AUCTION_TIMEOUT=3e3,currencies=currencyConversions.conversions,defaultMaxDuration=120,PrebidVideoPlacementTypes={INARTICLE:3,INBANNER:2,INFEED:4,INSTREAM:1,INTERSTITIAL:5},PrebidVideoPlaybackMethod={CLICK_WITH_SOUND_ON:3,MOUSE_OVER_SOUND_ON:4,PAGE_LOAD_SOUND_OFF:2,PAGE_LOAD_SOUND_ON:1,VIEWPORT_SOUND_OFF:6,VIEWPORT_SOUND_ON:5};function createWindowHelpers(i,t){var e=i.parent.carodaRenderWindow,e=(Object.assign(i,{auctionState:{resolve:function(){i.logger.info(\"auctionState.resolve called early\"),i.auctionState.setResolve=function(e){return e()}},setResolve:function(e){i.logger.info(\"auctionState.setResolve\",e),i.auctionState.resolve=e},trackingHooks:[],trackingHooksByRequestId:{}},device:{w:e.innerWidth,h:e.innerHeight},logger:{info:function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=i.parent.carodaConsole).log.apply(e,__spreadArray([\"PrebidHelper\",\"processPrebidAuction\",\"iframe\",t],r,!1))}},pbjs:i.pbjs||{},prebidFrameDocument:i.document,renderWindow:e,throwIfVastRepeated:i.frameElement.throwIfVastRepeated}),i.pbjs.que=i.pbjs.que||[],i.parent._pbjsGlobals),e=e&&e.length&&i.parent[e[0]];e&&(i.parentPbjsConfig=e.getConfig())}function storeBidToAuctionState(n,e){n.winningBidder=e.bidder||e.bidderCode,n.vastXml=e.vastXml,n.vastUrl=e.vastUrl,n.bannerString=e.ad,n.winningRequestId=e.requestId,n.winningCpm=e.cpm,n.winningCurrency=e.currency,n.width=e.width,n.height=e.height,n.adId=e.adId,n.adserverTargeting=e.adserverTargeting;function r(e){return r=e,!!!n.trackingHooks.find(function(e){return e.TrackingUrl===r.TrackingUrl})&&n.trackingHooks.push(e);var r}e=e.vastImpUrl;e&&r({TrackingUrl:e,VastEvent:\"impression\"}),n.trackingHooksByRequestId[n.winningRequestId].forEach(r)}function getAdUnits(e,r,n,i,t,o,a){function s(e){return __assign(__assign({},e.bid),{carodaCid:e.cid,carodaCtok:e.ctok,carodaMinimumFloor:e.minimumPriceFloor,carodaTracking:e.trackingHooks})}var d=e.logger,c=e.auctionState,u=(d.info(\"getAdUnits\"),AdUnitFormat),p=i.playerWidth||640,e=Math.floor(p*(9/16)),i=i.maximumAdLength,f=__spreadArray([],n.filter(function(e){return-1!==e.adUnitFormats.indexOf(u.VIDEO)}).map(s),!0).filter(function(e){return\"teads\"!==e.bidder||t}),l={render:function(e){d.info(\"getAdUnits\",\"adUnit.renderer.render\",{highestCpmBid:e}),storeBidToAuctionState(c,e)},url:\"data://data:text/html,\"},g=\"instream\"===o,_=g?PrebidVideoPlacementTypes.INSTREAM:PrebidVideoPlacementTypes.INARTICLE,b=__spreadArray(__spreadArray([],g?[PrebidVideoPlaybackMethod.CLICK_WITH_SOUND_ON]:[],!0),[PrebidVideoPlaybackMethod.VIEWPORT_SOUND_OFF],!1),f=[{bids:f,code:r,mediaTypes:{video:{api:[2],context:o,linearity:1,maxduration:i||defaultMaxDuration,mimes:[\"video/mp4\",\"video/x-ms-wmv\",\"video/webm\",\"application/javascript\",\"video/ogg\"],minduration:5,placement:_,playbackmethod:b,playerSize:[[p,e]],protocols:defaultOpenRTBProtocols,skip:g?1:0,useCacheKey:!1}},renderer:l}];return t&&(o=__spreadArray([],n.filter(function(e){return-1!==e.adUnitFormats.indexOf(u.BANNER)||\"teads\"===e.bid.bidder}).filter(function(e){return\"r2b2\"!==e.bid.bidder}).map(s),!0),f.push({bids:o,code:r,mediaTypes:{banner:{sizes:[[p,e],[250,250],[200,200],[468,60],[728,90],[300,250],[300,300],[480,300],[480,480],[336,280],[970,90]].filter(function(e){return e[0]<=p}).filter(function(e){return isValidSize([e[0],e[1]],a)})}},renderer:l})),d.info(\"getAdUnits\",f),f}function getFloorConfig(e,r){var n=e.integrationConfig,e=e.logger,n=(e.info(\"getFloorConfig\"),n.conditionalPrebidFloorConfiguration()),n=n&&n(r);if(n)return e.info(\"getFloorConfig\",{integrationFloorConfig:n}),n;function i(e){return e.reduce(function(e,r){return e=Math.max(r.carodaMinimumFloor,e)},0)}n=Math.max(i(r[1]&&r[1].bids||[]),i(r[0].bids)),r={banner:n,video:n};return r.video||r.banner?(e.info(\"getFloorConfig\",{floorConfig:n={data:{currency:\"EUR\",schema:{fields:[\"mediaType\"]},values:r},enforcement:{enforceJS:!0,floorDeals:!0}}}),n):void 0}function processPbjs(e,r,n,i,t,o,a){var s=e.auctionState,d=e.device,c=e.integrationConfig,u=e.logger,p=e.parent,f=e.parentDomain,l=e.parentPageUrl,g=e.parentPbjsConfig,_=e.pbjs,b=e.prebidFrameDocument,m=e.privacy,A=e.renderWindow,S=e.throwIfVastRepeated,e=e.transparentPrebidDebug;if(!_||!_.setConfig||!o)return s.error=o?new Error(\"window.pbjs missing\"):new Error(\"auction exceeded campaign timeout\"),void s.resolve();var v=m.tcf().responseObject,m=m.usp().responseObject,h=g&&g.userSync||{},g=g?g.cache:{url:\"https://prebid.adnxs.com/pbc/v1/cache\"},v=__assign(__assign({consentManagement:v&&{gdpr:{cmpApi:\"static\",consentData:{getTCData:v}},usp:m&&{cmpApi:\"static\",consentData:{getUSPData:{uspString:m}}}},currency:{adServerCurrency:\"EUR\",defaultRates:currencies},debug:e,device:d,ortb2:{device:__assign(__assign({},d),{lmt:0,ua:navigator.userAgent}),site:{domain:f,mobile:\"mobile\"===p.carodaTargetingProfile.device?1:0,page:l,ref:A.document.referrer},user:{}},pageUrl:l},getSchainConfig(c)),c.prebidConfigExtension());n&&(v.floors=n),v.userSync=__assign({filterSettings:__assign({iframe:{bidders:\"*\",filter:\"include\"}},h.filterSettings||{})},h),g&&(v.cache=g),_.setConfig(v),u.info(\"processPbjs\",\"set config\",v);for(var T=0,P=c.prebidBidderSpecificConfig();T<P.length;T++){var R=P[T];u.info(\"processPbjs\",\"set specific config\",R),_.setBidderConfig(R)}r=c.prebidBidderModifyAdUnits()(r,a),_.addAdUnits(r),u.info(\"processPbjs\",\"added adUnits\",r);function y(e){u.info(\"processPbjs\",\"prebid auctionEnd\",{auction:e}),e.bidderRequests.forEach(function(e){return e=e,u.info(\"processPbjs\",\"prebid bidderDone\",{bidder:e}),void e.bids.forEach(function(e){var r=e.bidId,e=e.carodaTracking;s.trackingHooksByRequestId[r]=e})}),_.offEvent(\"auctionEnd\",y),s.error||s.resolve()}_.onEvent(\"auctionEnd\",y),_.requestBids({bidsBackHandler:function(e){return processPbjsBackHandler({auctionState:s,integrationConfig:c,logger:u,pbjs:_,prebidFrameDocument:b,throwIfVastRepeated:S},r[0].code,e,i,t)},timeout:Math.min(PREBID_AUCTION_TIMEOUT,o)})}function getSchainConfig(e){var r=__spreadArray([],e.prebidSchainNodes()||[],!0),e=e.integrationRecord().ownershipSchainNode||{},n=e.asi,i=e.sid,e=e.hp;return n&&i&&e&&r.push({asi:n,sid:i,hp:e}),0===r.length?{}:{schain:{config:{complete:1,nodes:r,ver:\"1.0\"},validation:\"strict\"}}}function processPbjsBackHandler(e,r,n,i,t){var o=e.logger,a=e.auctionState,s=e.integrationConfig,d=e.pbjs,c=e.prebidFrameDocument,u=e.throwIfVastRepeated,p=s.filterPrebidBids();try{if(!n)throw new Error(\"no bid responses\");if(!n[r])throw new Error(\"no bid responses for position\");var f=n[r].bids,l=(o.info(\"processPbjsBackHandler\",{currentBids:f}),f.filter(function(r){try{if(!isValid(r,o))throw new Error(\"invalid bid\");if(p&&!p(r))throw new Error(\"bid filtered out by custom rule\");if(r.ad){if(t)return!0;throw new Error(\"banner skipped\")}if(r.vastXml||r.vastUrl)return i&&u(i,r.vastXml||r.vastUrl),!0;throw new Error(\"no creative found\")}catch(e){return o.info(\"processPbjsBackHandler\",\"rejected bid\",r,e),!1}}).map(function(e){return toRenderableBid(a,e,o)})),g=l.map(s.prebidBidResponseModifier()).reduce(function(e,r){return!e||Number(r.cpm)>Number(e.cpm)?r:e},null);if(o.info(\"processPbjsBackHandler\",{currentBids:f,newBids:l,highestCpmBid:g}),!g)throw new Error(\"no new creatives\");storeBidToAuctionState(a,g),d.renderAd(c,g.adId)}catch(e){o.info(\"processPbjsBackHandler\",e.message),a.error=e,a.resolve()}}function registerAliases(e,r){var n=e.logger,i=e.pbjs,t=r.filter(function(e){return e.bid.alias}).reduce(function(e,r){r=r.bid;return __assign(__assign({},e),((e={})[r.alias]=r.bidder,e))},{});n.info(\"registerAliases\",\"setting aliases\",t),Object.keys(t).forEach(function(e){return i.aliasBidder(t[e],e)}),r.forEach(function(e){e=e.bid;e.bidder=e.alias||e.bidder})}function runIframePrebid(e,r,n,i,t,o,a,s,d,c){createWindowHelpers(e,r),e.logger.info(\"runIframePrebid\"),registerAliases(e,n);r=getAdUnits(e,r,n,i,o,s,c);processPbjs(e,r,getFloorConfig(e,r),t,o,a,d)}function isValid(r,n){try{if(!(\"banner\"===r.mediaType))return!0;var e=tryToParseJson(r.ad),i=e&&isJsonWithRawScript(e);return!e||i}catch(e){return n.info(\"isValid\",r,e),!0}}function toRenderableBid(e,r,n){var i,t;try{if(!(\"banner\"===r.mediaType))return r;var o=tryToParseJson(r.ad);if(!o||!isJsonWithRawScript(o))return r;var a=o.ad.impUrls;return a&&(null==(i=e.trackingHooksByRequestId)[t=r.requestId]&&(i[t]=[]),e.trackingHooksByRequestId[r.requestId].push({TrackingUrl:a,VastEvent:\"impression\"})),__assign(__assign({},r),{ad:o.ad.creativeScriptRAW})}catch(e){return n.info(\"toRenderableBid\",r,e),r}}function tryToParseJson(e){try{return JSON.parse(e)}catch(e){return null}}function isJsonWithRawScript(e){return!(null==(e=e.ad)||!e.creativeScriptRAW)}Object.assign(window,{createWindowHelpers:createWindowHelpers,getAdUnits:getAdUnits,getFloorConfig:getFloorConfig,processPbjs:processPbjs,processPbjsBackHandler:processPbjsBackHandler,runIframePrebid:runIframePrebid,storeBidToAuctionState:storeBidToAuctionState});})(window, window)";window.carodaPrebidAdapterBannerRendererHelpersCode = "(function(exports,global){Object.defineProperty(exports,\"__esModule\",{value:!0});var __assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __awaiter(e,a,s,c){return new(s=s||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}o((c=c.apply(e,a||[])).next())})}function __generator(r,i){var o,a,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError(\"Generator is already executing.\");for(;c;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,a=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(s=0<(s=c.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){c.label=t[1];break}if(6===t[0]&&c.label<s[1]){c.label=s[1],s=t;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(t);break}s[2]&&c.ops.pop(),c.trys.pop();continue}t=i.call(r,c)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}}function __spreadArray(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var VastToTeadsEventName={click_tracking:\"AdClickThru\",complete:\"AdVideoComplete\",first_quartile:\"AdVideoFirstQuartile\",impression:\"AdImpression\",loaded:\"AdLoaded\",midpoint:\"AdVideoMidpoint\",start:\"AdVideoStart\",third_quartile:\"AdVideoThirdQuartile\"},TeadsToVastEventName=Object.keys(VastToTeadsEventName).reduce(function(e,t){return __assign(__assign({},e),((e={})[VastToTeadsEventName[t]]=t,e))},{}),TeadsLogMonitor=function(){function e(e){var t=e.w,e=e.logger;this.ended=!1,this.logger=e,this.logger.info(\"TeadsPlayerthis.logger\",\".constructor\",t),this.loggingWindow=t,this.teadsLogs=[],this.onEvent={},this.initialLogOffset=(null==(t=null==(e=t.teads)?void 0:e.FULL_LOGS)?void 0:t.length)||0,this.logger.info(\"TeadsPlayerthis.logger\",\".constructor\",\"initialLogOffset\",this.initialLogOffset)}return e.prototype.on=function(e,t){this.onEvent[e]=this.onEvent[e]||[],this.onEvent[e].push(t)},e.prototype.processLogEvents=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i,r,o,a,s,c=this;return __generator(this,function(e){switch(e.label){case 0:if(this.ended)return[2];if(t=this.loggingWindow,t=t.teads&&t.teads.FULL_LOGS){for(s=this.initialLogOffset+this.teadsLogs.length,t=t.slice(s).map(function(e){return e.message}),this.logger.info(\"TeadsPlayerthis.logger\",\".processLogEvents\",\"newLogs\",{newLogs:t,offset:s}),n=function(e){var t,n,r;if(i.logger.info(\"TeadsPlayerthis.logger\",\".processLogEvents\",e),e.match(/player.plugin.Tracker/)&&(r=(r=e.match(/\\[player.plugin.Tracker\\]\\s*([^\\s]+)/))&&r[1],(r=i.onEvent[TeadsToVastEventName[r]])&&r.forEach(function(e){return e()})),e.match(/\"adType\":\"/)&&(t=e.match(/\"adType\":\"([^\"]+)\"/),n=t&&t[1],r=i.onEvent.adType,n&&r&&r.forEach(function(e){return e(n)})),e.match(/no.passback.to.exec/))throw new Error(\"No ad\")},i=this,r=0,o=t;r<o.length;r++)a=o[r],n(a);(s=this.teadsLogs).push.apply(s,t)}return[4,new Promise(function(e,t){return setTimeout(function(){return c.processLogEvents().then(e,t)},500)})];case 1:return e.sent(),[2]}})})},e.prototype.stopProcessing=function(){this.logger.info(\"TeadsPlayerthis.logger\",\".stopProcessing\"),this.ended=!0},e}();function handleTracking(r){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(e){switch(e.label){case 0:return log(\"handleTracking\",{trackingUrls:r}),[4,waitForDocumentVisible()];case 1:for(e.sent(),log(\"handleTracking\",\"document is visible\"),t=0,n=r;t<n.length;t++)triggerTracking(n[t]);return[2]}})})}function handleTeadsTracking(t,n){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(e){switch(e.label){case 0:return(r=new TeadsLogMonitor({logger:{info:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return log.apply(void 0,__spreadArray([\"TeadsLogMonitor\"],e,!1))}},w:window})).on(\"impression\",function(){return triggerTracking(n)}),t.forEach(function(e){var t=e.event,n=e.trackingUrl;return r.on(t,function(){return triggerTracking(n)})}),[4,r.processLogEvents()];case 1:return e.sent(),[2]}})})}function waitForDocumentVisible(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){try{return t=window,[2,waitFor(t.$sf?isSafeFrameVisible:isFriendlyFrameVisible)]}catch(e){log(\"waitForDocumentVisible\",e)}return[2]})})}function waitFor(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,new Promise(function(e){var t=setInterval(function(){n()&&(clearInterval(t),e())},100)})]})})}function isSafeFrameVisible(){return 50<window.$sf.ext.inViewPercentage()}function isFriendlyFrameVisible(){var e=window,t=e.frameElement.getBoundingClientRect(),e=e.parent.innerHeight;return!(!t.height&&!t.width)&&(t.top>=-t.height/2&&t.bottom<=e+t.height/2)}function triggerTracking(e){var t=new Image,e=uncacheUrl(e);log(\"triggerTracking\",e),t.src=e}function uncacheUrl(e){var t=0<=e.indexOf(\"?\")?\"&\":\"?\";return\"\".concat(e).concat(t,\"uncache=\").concat(Math.floor(1e6*Math.random()))}function log(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,__spreadArray([\"CARODA\",\"BannerRendererHelper\"],e,!1))}exports.handleTracking=handleTracking,exports.handleTeadsTracking=handleTeadsTracking;})(window, window)";window.carodaMainCss="@charset \"UTF-8\";\n:root {\n  --caroda-horizontal-aspect-ratio-percentage: 56.25%;\n  --caroda-horizontal-with-banner-aspect-ratio-percentage: 71.8%;\n  --caroda-horizontal-4-3-aspect-ratio-percentage: 75%;\n  --caroda-vertical-aspect-ratio-percentage: 177.78%;\n  --caroda-vertical-3-4-aspect-ratio-percentage: 133.33%;\n  --caroda-square-aspect-ratio-percentage: 100%;\n  --advertising-label-height: 20px;\n  --caroda-advertising-label-color: #333; }\n\n.carodaSafeFrame * {\n  --caroda-horizontal-aspect-ratio-percentage: 100vh;\n  --caroda-horizontal-with-banner-aspect-ratio-percentage: 100vh;\n  --caroda-horizontal-4-3-aspect-ratio-percentage: 100vh;\n  --caroda-vertical-aspect-ratio-percentage: 100vh;\n  --caroda-vertical-3-4-aspect-ratio-percentage: 100vh;\n  --caroda-square-aspect-ratio-percentage: 100vh;\n  --advertising-label-height: 0;\n  --caroda-advertising-label-color: #333; }\n\n.caroda-spinner-container {\n  display: none;\n  background: rgba(20, 20, 20, 0.9);\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 2; }\n\n.caroda-spinner {\n  position: absolute;\n  top: calc(50% - 30px);\n  left: calc(50% - 30px);\n  border: 8px solid #ccc;\n  border-top: 8px solid white;\n  border-radius: 50%;\n  width: 60px;\n  height: 60px;\n  animation: spin 2s linear infinite; }\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg); }\n  100% {\n    transform: rotate(360deg); } }\n\n.caroda-show-spinner .caroda-spinner-container {\n  display: block; }\n\n.carodaOutstream .caroda-spinner-container {\n  background: none; }\n\n@font-face {\n  font-family: 'caroda-replay-button';\n  src: url(data:font/ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBa4AAAC8AAAAYGNtYXAW0tOPAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZoggcWEAAAF4AAAA5GhlYWQfb5upAAACXAAAADZoaGVhB8IDxgAAApQAAAAkaG10eAoAAAAAAAK4AAAAFGxvY2EAKACGAAACzAAAAAxtYXhwAAcAOAAAAtgAAAAgbmFtZZlKCfsAAAL4AAABhnBvc3QAAwAAAAAEgAAAACAAAwMAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADphAPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6YT//f//AAAAAAAg6YT//f//AAH/4xaAAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAD/wAQAA8AANQAAASE3LgEjIgYHDgEVFBYXHgEzMjY3PgE3FwYHDgEHBiMiJy4BJyY1NDc+ATc2MzIXHgEXFhc3BAD+gJA3jE1NjDc2Ojo2N4xNTYw3BAkEYCMrK2I2NjpqXV6LKCgoKIteXWo1MjJcKSkjlgJAkDY6OjY3jE1NjDc2Ojo2BQkFVCghIC0NDCgoi15dampdXosoKAoLJxscI5YAAAABAAAAAQAATNAym18PPPUACwQAAAAAAN4oK5YAAAAA3igrlgAA/8AEAAPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAQAAAEAAAAAAAAAAAAAAAAAAAAFBAAAAAAAAAAAAAAAAgAAAAQAAAAAAAAAAAoAFAAeAHIAAQAAAAUANgABAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=); }\n\n.carodaReplayButtonContainer {\n  position: absolute;\n  background: rgba(50, 50, 50, 0.4); }\n  .carodaReplayButtonContainer .carodaReplayButton {\n    transition: opacity 0.6s ease-out;\n    opacity: 0.8;\n    position: absolute;\n    top: calc(50% - var(--advertising-label-height));\n    left: 50%;\n    transform: translate(-50%, -50%);\n    min-width: 50px;\n    min-height: 50px;\n    border: none;\n    cursor: pointer;\n    letter-spacing: 1.5px;\n    background-color: transparent;\n    color: white;\n    text-shadow: -1px 1px 1px black, 1px -1px 1px black, 1px 1px 1px black, -1px -1px 1px black, 0 1px 1px black, 1px 0 1px black, 0 -1px 1px black, -1px 0 1px black; }\n    .carodaReplayButtonContainer .carodaReplayButton.mobile, .carodaReplayButtonContainer .carodaReplayButton:hover {\n      opacity: 1; }\n    .carodaReplayButtonContainer .carodaReplayButton:before {\n      font-family: 'caroda-replay-button';\n      display: block;\n      content: \"\\e984\";\n      font-size: 45px; }\n    .carodaReplayButtonContainer .carodaReplayButton:after {\n      content: attr(title);\n      position: absolute;\n      top: 60px;\n      left: 50%;\n      transform: translate(-50%, 0);\n      min-width: 100px; }\n  .carodaReplayButtonContainer .carodaReplayButtonErrorMessage {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%); }\n  .carodaReplayButtonContainer .carodaReplayButton:after,\n  .carodaReplayButtonContainer .carodaReplayButtonErrorMessage {\n    font-size: 12px !important;\n    font-weight: bold !important;\n    line-height: 1 !important;\n    font-family: Arial,Helvetica,sans-serif !important; }\n\n.carodaSafeFrame .carodaReplayButton {\n  top: 50vh; }\n\n.caroda-spinner-container.interstitial {\n  background: rgba(255, 255, 255, 0.4);\n  z-index: 9999999999999999999;\n  transition: opacity 0.3s;\n  opacity: 0;\n  display: block;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh; }\n  .caroda-spinner-container.interstitial.caroda-interstitial-preload {\n    z-index: -1;\n    visibility: hidden; }\n  .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    height: 80vh; }\n    @media (orientation: landscape) {\n      .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer {\n        width: 60vw;\n        max-width: 800px; } }\n    @media (orientation: portrait) {\n      .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer {\n        width: 100%; } }\n    .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer .carodaOutstream {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%); }\n    .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer.hidden .carodaOutstream {\n      /* This allows the players to have width when being preloaded but not yet visible. */\n      position: relative; }\n    .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer .carodaInterstitialClose {\n      position: absolute;\n      top: -5px;\n      right: 0;\n      font-size: 50px;\n      line-height: 50px;\n      color: #333;\n      cursor: pointer;\n      background: none;\n      border: none;\n      opacity: 0;\n      transition: opacity 0.3s;\n      padding: 0; }\n      .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer .carodaInterstitialClose:before {\n        content: \"âœ–\";\n        display: block; }\n    .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer .carodaTeadsAdLabelContainer {\n      height: 50px;\n      position: relative; }\n      .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer .carodaTeadsAdLabelContainer .carodaTeadsAdLabel {\n        position: absolute;\n        bottom: 15px;\n        left: 0;\n        font-size: 25px;\n        text-align: center;\n        transform: none;\n        width: 100%; }\n    .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer .carodaSmartclipContainer.loaded {\n      height: 260px !important; }\n      .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer .carodaSmartclipContainer.loaded > * {\n        top: 25px !important; }\n      .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer .carodaSmartclipContainer.loaded button.carodaInterstitialClose {\n        margin-top: -30px; }\n  .caroda-spinner-container.interstitial.carodaLoaded .carodaInterstitialPlayerContainer.carodaContainer .caroda-spinner,\n  .caroda-spinner-container.interstitial.carodaLoaded .carodaInterstitialPlayerContainer.carodaContainer .carodaReplayButton {\n    display: none; }\n  .caroda-spinner-container.interstitial.carodaLoaded .carodaInterstitialPlayerContainer.carodaContainer button.carodaInterstitialClose {\n    opacity: 1; }\n  .caroda-spinner-container.interstitial .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer.loaded,\n  .caroda-spinner-container.interstitial .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview.loaded {\n    margin-top: 0;\n    padding-top: 45px; }\n    .caroda-spinner-container.interstitial .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer.loaded:before,\n    .caroda-spinner-container.interstitial .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview.loaded:before {\n      padding-top: 10px; }\n  .caroda-spinner-container.interstitial .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview.loaded:before {\n    margin-top: -45px; }\n  .caroda-spinner-container.interstitial .carodaBannerContainer:before {\n    top: 0px; }\n  .caroda-spinner-container.interstitial .carodaOutstreamSlider .sliderSpacer:before {\n    top: -35px; }\n  .caroda-spinner-container.interstitial .carodaOutstream.carodaOutstreamSlider .sliderSpacer {\n    margin-top: 45px; }\n  .caroda-spinner-container.interstitial .carodaSmartclipContainer.loaded:before {\n    margin-top: -10px; }\n  .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer, .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer {\n    top: 0;\n    margin-top: calc(var(--caroda-horizontal-aspect-ratio-percentage) + 45px) !important; }\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer:before, .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer:before {\n      margin-top: calc(calc(var(--caroda-horizontal-aspect-ratio-percentage) * -1) - 15px); }\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-horizontal-with-banner, .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-horizontal-with-banner {\n      margin-top: calc(var(--caroda-horizontal-with-banner-aspect-ratio-percentage) + 45px) !important; }\n      .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-horizontal-with-banner:before, .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-horizontal-with-banner:before {\n        margin-top: calc(calc(var(--caroda-horizontal-with-banner-aspect-ratio-percentage) * -1) - 15px); }\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-horizontal-4-3, .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-horizontal-4-3 {\n      margin-top: calc(var(--caroda-horizontal-4-3-aspect-ratio-percentage) + 45px) !important; }\n      .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-horizontal-4-3:before, .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-horizontal-4-3:before {\n        margin-top: calc(calc(var(--caroda-horizontal-4-3-aspect-ratio-percentage) * -1) - 15px); }\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-vertical, .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-vertical {\n      margin-top: calc(var(--caroda-vertical-aspect-ratio-percentage) + 45px) !important; }\n      .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-vertical:before, .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-vertical:before {\n        margin-top: calc(calc(var(--caroda-vertical-aspect-ratio-percentage) * -1) - 15px); }\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-vertical-3-4, .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-vertical-3-4 {\n      margin-top: calc(var(--caroda-vertical-3-4-aspect-ratio-percentage) + 45px) !important; }\n      .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-vertical-3-4:before, .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-vertical-3-4:before {\n        margin-top: calc(calc(var(--caroda-vertical-3-4-aspect-ratio-percentage) * -1) - 15px); }\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-square, .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-square {\n      margin-top: calc(var(--caroda-square-aspect-ratio-percentage) + 45px) !important; }\n      .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-square:before, .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-square:before {\n        margin-top: calc(calc(var(--caroda-square-aspect-ratio-percentage) * -1) - 15px); }\n\n.caroda-show-spinner .caroda-spinner-container.interstitial {\n  opacity: 1;\n  visibility: visible; }\n  .caroda-show-spinner .caroda-spinner-container.interstitial.hidden {\n    visibility: hidden; }\n\n.carodaExtendedVerticalContainer.carodaMultiPositionPlaceholder {\n  position: relative; }\n  .carodaExtendedVerticalContainer.carodaMultiPositionPlaceholder:before {\n    box-sizing: border-box;\n    content: '';\n    display: block;\n    height: calc(100% - var(--advertising-label-height));\n    left: 0;\n    margin-top: var(--advertising-label-height);\n    position: absolute;\n    top: 0;\n    width: 100%; }\n  .carodaExtendedVerticalContainer.carodaMultiPositionPlaceholder .carodaOutstream {\n    position: sticky;\n    top: 0; }\n\n.carodaMultiPosition.carodaUsingExtendedVerticalPlaceholder .carodaOutstream .carodaSmartclipContainer.loaded {\n  margin-top: 5px; }\n\n.carodaMultiPosition.carodaUsingExtendedVerticalPlaceholder .carodaOutstream .carodaBannerContainer:before, .carodaMultiPosition.carodaUsingExtendedVerticalPlaceholder .carodaOutstream .carodaAniview:before {\n  margin-bottom: 6px; }\n\n.carodaMultiPosition.carodaUsingExtendedVerticalPlaceholder .carodaOutstream .carodaBannerContainer .carodaBanner > *:first-child, .carodaMultiPosition.carodaUsingExtendedVerticalPlaceholder .carodaOutstream .carodaAniview .carodaBanner > *:first-child {\n  display: block; }\n\n.carodaExtendedVerticalContainer.carodaMultiPositionPlaceholder:before {\n  margin-top: 0;\n  height: 100%; }\n\n.carodaMultiPosition.carodaUsingExtendedVerticalPlaceholder {\n  position: absolute;\n  overflow-x: unset;\n  overflow-y: unset; }\n  .carodaMultiPosition.carodaUsingExtendedVerticalPlaceholder .carodaOutstream {\n    position: sticky; }\n\nbutton.caroda-download-logs {\n  position: fixed;\n  bottom: 2rem;\n  left: 2rem;\n  z-index: 99999999; }\n\n.carodaLibraryFloatingContainer {\n  min-height: 100vh;\n  pointer-events: none;\n  position: fixed;\n  visibility: hidden;\n  max-width: 300px;\n  width: 300px;\n  z-index: 999999; }\n  .carodaLibraryFloatingContainer .adLoaded {\n    visibility: hidden !important; }\n\n.carodaLibraryFloatingContainer:has(.carodaBannerOuterContainer) {\n  width: auto !important; }\n\n.carodaLibraryFloatingContainer.carodaLibraryFloatingContainerVisible {\n  min-height: unset;\n  pointer-events: auto;\n  visibility: visible; }\n  .carodaLibraryFloatingContainer.carodaLibraryFloatingContainerVisible .adLoaded:not(.carodaHidden) {\n    visibility: unset !important; }\n\n.carodaLibraryFloatingContainer .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer.loaded,\n.carodaLibraryFloatingContainer .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview.loaded {\n  margin-top: 0px; }\n\n.carodaLibraryFloatingContainer.carodaLibraryFloatingContainerPosition-top {\n  bottom: unset;\n  top: 20px; }\n\n.carodaLibraryFloatingContainer.carodaLibraryFloatingContainerPosition-bottom {\n  bottom: 20px;\n  top: unset; }\n\n.carodaLibraryFloatingContainer.carodaLibraryFloatingContainerPosition-left {\n  left: 20px;\n  right: unset; }\n\n.carodaLibraryFloatingContainer.carodaLibraryFloatingContainerPosition-right {\n  left: unset;\n  right: 20px; }\n\n.carodaLibraryFloatingContainer.carodaLibraryFloatingContainerPosition-center {\n  left: 50%;\n  right: unset;\n  transform: translateX(-50%); }\n\n.carodaLibraryCloseButton {\n  align-items: center;\n  background-color: #333;\n  border: none;\n  cursor: pointer;\n  font-family: Arial,Helvetica,sans-serif;\n  font-size: 20px;\n  justify-content: center;\n  letter-spacing: 1px;\n  outline: none;\n  padding: 5px 10px;\n  position: absolute; }\n\n.carodaLibraryCloseButton > span,\n.carodaLibraryCloseButton:before {\n  color: #fafafa; }\n\n.carodaLibraryCloseButton:before {\n  content: 'X';\n  display: inline-block;\n  margin-right: 0.25em;\n  font-weight: bold; }\n\n.carodaLibraryCloseButton.carodaLibraryCloseButtonPosition-top {\n  transform: translateY(-100%); }\n\n.carodaLibraryCloseButton.carodaLibraryCloseButtonPosition-top.carodaLibraryCloseButton.carodaLibraryCloseButtonPosition-center {\n  left: 50%;\n  right: unset;\n  transform: translate(-50%, -100%); }\n\n.carodaLibraryCloseButton.carodaLibraryCloseButtonPosition-bottom.carodaLibraryCloseButton.carodaLibraryCloseButtonPosition-center {\n  bottom: 0;\n  left: 50%;\n  right: unset;\n  transform: translate(-50%, 100%); }\n\n.carodaLibraryCloseButton.carodaLibraryCloseButtonPosition-bottom {\n  bottom: 0;\n  transform: translateY(100%); }\n\n.carodaLibraryCloseButton.carodaLibraryCloseButtonPosition-left {\n  left: 0;\n  right: unset; }\n\n.carodaLibraryCloseButton.carodaLibraryCloseButtonPosition-right {\n  left: unset;\n  right: 0; }\n\n.carodaLongSessionFloatingOutstream-refreshing.carodaLibraryFloatingContainer {\n  visibility: hidden;\n  min-height: 100vh; }\n\n.carodaContainer {\n  position: relative; }\n\n.carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) {\n  font-size: 10px;\n  line-height: 1;\n  font-family: Arial,Helvetica,sans-serif;\n  overflow: hidden; }\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview {\n    position: relative;\n    overflow: hidden; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer:before, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview:before {\n      display: none;\n      text-align: center;\n      color: var(--caroda-advertising-label-color);\n      text-transform: uppercase;\n      letter-spacing: 1px;\n      font-size: 9px; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer:not(.loaded), .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview:not(.loaded) {\n      visibility: hidden;\n      pointer-events: none;\n      min-height: 200px;\n      aspect-ratio: 1 / 1; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer.loaded, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview.loaded {\n      margin-top: 5px; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer.loaded:before, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview.loaded:before {\n        display: block; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer .carodaBanner, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview .carodaBanner {\n      overflow: hidden;\n      text-align: center; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer .carodaBanner > * > iframe,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer .carodaBanner > *, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview .carodaBanner > * > iframe,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview .carodaBanner > * {\n        margin: 0px auto; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer .carodaBanner .teads-inread, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview .carodaBanner .teads-inread {\n        height: auto; }\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer {\n    position: relative;\n    opacity: 0;\n    margin-top: -10px !important;\n    padding: 0 !important;\n    transition: opacity 0.6s ease-out; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer:before, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer:before {\n      display: none;\n      text-align: center;\n      color: var(--caroda-advertising-label-color);\n      text-transform: uppercase;\n      letter-spacing: 1px;\n      font-size: 9px;\n      position: absolute;\n      top: -18px;\n      left: 50%;\n      transform: translate(-50%, 0); }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer .caroda-player-ima, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer .caroda-player-ima, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer .caroda-player-vast-vpaid {\n      position: absolute !important;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: 0;\n      overflow: show;\n      padding-bottom: var(--caroda-horizontal-aspect-ratio-percentage) !important; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-horizontal-with-banner .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-horizontal-with-banner .caroda-player-ima, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-horizontal-with-banner .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-horizontal-with-banner .caroda-player-ima {\n      padding-bottom: var(--caroda-horizontal-with-banner-aspect-ratio-percentage) !important; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-horizontal-4-3 .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-horizontal-4-3 .caroda-player-ima, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-horizontal-4-3 .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-horizontal-4-3 .caroda-player-ima {\n      padding-bottom: var(--caroda-horizontal-4-3-aspect-ratio-percentage) !important; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-vertical .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-vertical .caroda-player-ima, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-vertical .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-vertical .caroda-player-ima {\n      padding-bottom: var(--caroda-vertical-aspect-ratio-percentage) !important; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-vertical-3-4 .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-vertical-3-4 .caroda-player-ima, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-vertical-3-4 .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-vertical-3-4 .caroda-player-ima {\n      padding-bottom: var(--caroda-vertical-3-4-aspect-ratio-percentage) !important; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-square .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-square .caroda-player-ima, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-square .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-square .caroda-player-ima {\n      padding-bottom: var(--caroda-square-aspect-ratio-percentage) !important; }\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer:not(.loaded) {\n    position: absolute !important;\n    top: 0 !important;\n    bottom: 0 !important;\n    width: 100% !important;\n    visibility: hidden !important;\n    pointer-events: none !important;\n    margin-top: -10px !important; }\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer {\n    margin-top: calc(var(--caroda-horizontal-aspect-ratio-percentage) + var(--advertising-label-height)) !important;\n    opacity: 1; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer > *, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer > * {\n      transition: opacity 0.6s ease-out;\n      opacity: 0; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.loaded > *, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.loaded > * {\n      opacity: 1; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer:before, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer:before {\n      display: block;\n      margin-top: calc(var(--caroda-horizontal-aspect-ratio-percentage) * -1); }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-horizontal-with-banner, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-horizontal-with-banner {\n      margin-top: calc(var(--caroda-horizontal-with-banner-aspect-ratio-percentage) + var(--advertising-label-height)) !important; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-horizontal-with-banner:before, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-horizontal-with-banner:before {\n        margin-top: calc(var(--caroda-horizontal-with-banner-aspect-ratio-percentage) * -1); }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-horizontal-4-3, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-horizontal-4-3 {\n      margin-top: calc(var(--caroda-horizontal-4-3-aspect-ratio-percentage) + var(--advertising-label-height)) !important; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-horizontal-4-3:before, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-horizontal-4-3:before {\n        margin-top: calc(var(--caroda-horizontal-4-3-aspect-ratio-percentage) * -1); }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-vertical, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-vertical {\n      margin-top: calc(var(--caroda-vertical-aspect-ratio-percentage) + var(--advertising-label-height)) !important; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-vertical:before, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-vertical:before {\n        margin-top: calc(var(--caroda-vertical-aspect-ratio-percentage) * -1); }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-vertical-3-4, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-vertical-3-4 {\n      margin-top: calc(var(--caroda-vertical-3-4-aspect-ratio-percentage) + var(--advertising-label-height)) !important; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-vertical-3-4:before, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-vertical-3-4:before {\n        margin-top: calc(var(--caroda-vertical-3-4-aspect-ratio-percentage) * -1); }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-square, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-square {\n      margin-top: calc(var(--caroda-square-aspect-ratio-percentage) + var(--advertising-label-height)) !important; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-square:before, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-square:before {\n        margin-top: calc(var(--caroda-square-aspect-ratio-percentage) * -1); }\n\n.carodaContainer > .carodaOutstreamSlider {\n  font-size: 10px;\n  line-height: 1;\n  font-family: Arial,Helvetica,sans-serif;\n  overflow: hidden;\n  position: relative;\n  margin: 0; }\n  .carodaContainer > .carodaOutstreamSlider .sliderSpacer:before {\n    display: none;\n    text-align: center;\n    color: var(--caroda-advertising-label-color);\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    font-size: 9px;\n    position: absolute;\n    top: -15px;\n    left: 50%;\n    transform: translate(-50%, 0); }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer:before {\n    display: block !important; }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer {\n    position: relative;\n    background: #000;\n    margin-top: var(--advertising-label-height); }\n    .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer.transparent {\n      background: transparent; }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer-horizontal {\n    padding-top: var(--caroda-horizontal-aspect-ratio-percentage); }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer-horizontal-4-3 {\n    padding-top: var(--caroda-horizontal-4-3-aspect-ratio-percentage); }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer-square {\n    padding-top: var(--caroda-square-aspect-ratio-percentage); }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer-vertical-3-4 {\n    padding-top: var(--caroda-vertical-3-4-aspect-ratio-percentage); }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer-vertical {\n    padding-top: var(--caroda-vertical-aspect-ratio-percentage); }\n  .carodaContainer > .carodaOutstreamSlider .carodaVvOutstreamPlayer,\n  .carodaContainer > .carodaOutstreamSlider .carodaImaOutstreamPlayer {\n    position: relative;\n    opacity: 0 !important;\n    padding: 0 !important;\n    padding-top: 0 !important;\n    transition: opacity 0.6s ease-out; }\n    .carodaContainer > .carodaOutstreamSlider .carodaVvOutstreamPlayer:before,\n    .carodaContainer > .carodaOutstreamSlider .carodaImaOutstreamPlayer:before {\n      display: none; }\n    .carodaContainer > .carodaOutstreamSlider .carodaVvOutstreamPlayer.loaded,\n    .carodaContainer > .carodaOutstreamSlider .carodaImaOutstreamPlayer.loaded {\n      opacity: 1 !important; }\n    .carodaContainer > .carodaOutstreamSlider .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstreamSlider .carodaVvOutstreamPlayer .caroda-player-ima,\n    .carodaContainer > .carodaOutstreamSlider .carodaImaOutstreamPlayer .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstreamSlider .carodaImaOutstreamPlayer .caroda-player-ima {\n      position: absolute !important;\n      bottom: 0 !important;\n      left: 0 !important;\n      width: 100% !important;\n      height: 0 !important;\n      overflow: show !important; }\n  .carodaContainer > .carodaOutstreamSlider.format-horizontal .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaContainer > .carodaOutstreamSlider.format-horizontal .carodaImaOutstreamPlayer .caroda-player-ima {\n    padding-bottom: var(--caroda-horizontal-aspect-ratio-percentage) !important; }\n  .carodaContainer > .carodaOutstreamSlider.format-horizontal-4-3 .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaContainer > .carodaOutstreamSlider.format-horizontal-4-3 .carodaImaOutstreamPlayer .caroda-player-ima {\n    padding-bottom: var(--caroda-horizontal-4-3-aspect-ratio-percentage) !important; }\n  .carodaContainer > .carodaOutstreamSlider.format-vertical .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaContainer > .carodaOutstreamSlider.format-vertical .carodaImaOutstreamPlayer .caroda-player-ima {\n    padding-bottom: var(--caroda-vertical-aspect-ratio-percentage) !important; }\n  .carodaContainer > .carodaOutstreamSlider.format-vertical-3-4 .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaContainer > .carodaOutstreamSlider.format-vertical-3-4 .carodaImaOutstreamPlayer .caroda-player-ima {\n    padding-bottom: var(--caroda-vertical-3-4-aspect-ratio-percentage) !important; }\n  .carodaContainer > .carodaOutstreamSlider.format-square .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaContainer > .carodaOutstreamSlider.format-square .carodaImaOutstreamPlayer .caroda-player-ima {\n    padding-bottom: var(--caroda-square-aspect-ratio-percentage) !important; }\n\n.carodaInstream:not(.carodaFullscreen), .carodaInstreamWithPositions:not(.carodaFullscreen) {\n  position: relative; }\n\n.carodaInstream .carodaImaOutstreamPlayer:not(.loaded), .carodaInstreamWithPositions .carodaImaOutstreamPlayer:not(.loaded) {\n  position: absolute !important;\n  top: 0 !important;\n  bottom: 0 !important;\n  width: 100% !important;\n  visibility: hidden !important;\n  pointer-events: none !important;\n  margin-top: -10px !important; }\n\n.carodaInstream .carodaImaOutstreamPlayer, .carodaInstream .carodaVvOutstreamPlayer, .carodaInstreamWithPositions .carodaImaOutstreamPlayer, .carodaInstreamWithPositions .carodaVvOutstreamPlayer {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0; }\n  .carodaInstream .carodaImaOutstreamPlayer.loaded, .carodaInstream .carodaVvOutstreamPlayer.loaded, .carodaInstreamWithPositions .carodaImaOutstreamPlayer.loaded, .carodaInstreamWithPositions .carodaVvOutstreamPlayer.loaded {\n    opacity: 1; }\n  .carodaInstream .carodaImaOutstreamPlayer .caroda-player-ima, .carodaInstream .carodaImaOutstreamPlayer .caroda-player-vast-vpaid, .carodaInstream .carodaVvOutstreamPlayer .caroda-player-ima, .carodaInstream .carodaVvOutstreamPlayer .caroda-player-vast-vpaid, .carodaInstreamWithPositions .carodaImaOutstreamPlayer .caroda-player-ima, .carodaInstreamWithPositions .carodaImaOutstreamPlayer .caroda-player-vast-vpaid, .carodaInstreamWithPositions .carodaVvOutstreamPlayer .caroda-player-ima, .carodaInstreamWithPositions .carodaVvOutstreamPlayer .caroda-player-vast-vpaid {\n    height: 100%;\n    padding-bottom: 0 !important; }\n\n.carodaInstream.adLoaded .caroda-player-content, .carodaInstreamWithPositions.adLoaded .caroda-player-content {\n  padding-bottom: 56% !important; }\n\n.carodaInstreamWithPositions {\n  z-index: 10;\n  background: transparent; }\n\n.carodaSmartclipContainer:before {\n  display: none; }\n\n.carodaSmartclipContainer.loaded {\n  max-width: 100% !important;\n  width: 400px;\n  height: 240px !important;\n  margin: auto;\n  margin-top: var(--advertising-label-height); }\n  .carodaSmartclipContainer.loaded:before {\n    display: block;\n    text-align: center;\n    color: var(--caroda-advertising-label-color);\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    font-size: 9px;\n    position: absolute;\n    left: 0;\n    right: 0; }\n  .carodaSmartclipContainer.loaded > * {\n    max-width: 100% !important;\n    top: 15px !important; }\n  .carodaSmartclipContainer.loaded .OutstreamPlayer__advertisementlabel {\n    display: none; }\n\n.carodaMultiPosition {\n  transition: all 0.6s, top 0s, left 0s, width 0s, height 0s, padding-top 0s, margin-top 0s, padding-bottom 0s, margin-bottom 0s;\n  overflow-x: hidden; }\n  .carodaMultiPosition .carodaTeadsContainer {\n    height: 0 !important; }\n    .carodaMultiPosition .carodaTeadsContainer.loaded {\n      height: auto !important; }\n\n.carodaMultiPositionPlaceholder {\n  border: 0;\n  margin: 0;\n  padding: 0;\n  outline: 0;\n  height: 0; }\n\n.carodaMultiPositionPlaceholderStickySentinel {\n  height: 1px;\n  width: 1px;\n  float: right;\n  margin-left: -1px; }\n\n.carodaTeadsPrebid .teads-ui-components-label {\n  display: none !important; }\n\n.carodaAniview iframe {\n  width: 100%;\n  height: 0;\n  border: 0 !important;\n  padding-top: 0 !important;\n  padding-bottom: 0 !important;\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n  margin-top: 0 !important;\n  margin-bottom: 0 !important;\n  margin-left: 0 !important;\n  margin-right: 0 !important; }\n\n.carodaBannerOuterContainer {\n  height: 0 !important;\n  min-height: 0 !important; }\n  .carodaBannerOuterContainer.loaded {\n    height: auto !important;\n    min-height: auto !important; }\n";// element-closest | CC0-1.0 | github.com/jonathantneal/closest

(function (ElementProto) {
	if (typeof ElementProto.matches !== 'function') {
		ElementProto.matches = ElementProto.msMatchesSelector || ElementProto.mozMatchesSelector || ElementProto.webkitMatchesSelector |};
	}

	if (typeof ElementProto.closest !== 'function') {
		ElementProto.closest };
	}
})(window.Element.prototype);
;if (!window._babelPolyfill && !window.carodaDisableBabelPolyfill) {}({1},{2:2,327:327,328:328}],2},{130:130,23:23}],3},{}],4},{18:18}],5},{128:128,42:42}],6},{}],7},{51:51}],8},{114:114,118:118,119:119}],9},{114:114,118:118,119:119}],10},{39:39}],11},{114:114,117:117,118:118}],12},{118:118,119:119,15:15,25:25,47:47}],13},{118:118,119:119,3:3,47:47}],14},{128:128,49:49,51:51}],15},{14:14}],16},{3:3,46:46,51:51}],17},{128:128,18:18}],18},{}],19},{100:100,125:125,25:25,29:29,39:39,55:55,57:57,6:6,66:66,71:71,72:72,93:93}],20},{10:10,17:17}],21},{12:12,125:125,39:39,41:41,51:51,6:6,66:66,7:7,93:93}],22},{101:101,33:33,35:35,39:39,40:40,45:45,51:51,56:56,6:6,66:66,93:93,94:94}],23},{}],24},{72:72,92:92}],25},{3:3}],26},{35:35}],27},{120:120,7:7}],28},{}],29},{35:35}],30},{40:40,51:51}],31},{}],32},{78:78,81:81,82:82}],33},{23:23,25:25,40:40,42:42,94:94}],34},{128:128}],35},{}],36},{128:128,28:28,35:35,42:42,94:94}],37},{7:7}],38},{118:118,128:128,25:25,49:49,51:51}],39},{118:118,129:129,25:25,48:48,53:53,7:7}],40},{}],41},{}],42},{29:29,72:72,92:92}],43},{40:40}],44},{29:29,30:30,35:35}],45},{51:51,99:99}],46},{}],47},{18:18}],48},{128:128,58:58}],49},{18:18}],50},{51:51}],51},{}],52},{128:128,18:18,51:51}],53},{7:7}],54},{101:101,128:128,42:42,71:71,92:92}],55},{101:101,128:128,33:33,41:41,42:42,54:54,58:58,60:60,79:79,94:94}],56},{128:128}],57},{}],58},{}],59},{117:117,81:81}],60},{}],61},{}],62},{65:65}],63},{}],64},{}],65},{}],66},{124:124,35:35,41:41,51:51,72:72}],67},{103:103,160:160,266:266,33:33}],68},{113:113,18:18,40:40}],69},{3:3}],70},{119:119,35:35,47:47,78:78,81:81,82:82}],71},{102:102,30:30,31:31,43:43,7:7,73:73}],72},{120:120,29:29,44:44,7:7}],73},{29:29,7:7,72:72,81:81}],74},{35:35,40:40,60:60}],75},{117:117,120:120,29:29,41:41,44:44,82:82,92:92}],76},{117:117,77:77}],77},{31:31,80:80}],78},{}],79},{102:102,119:119,41:41}],80},{102:102,11:11,117:117,41:41}],81},{31:31,80:80}],82},{}],83},{23:23,33:33,35:35}],84},{117:117,81:81,82:82}],85},{40:40,7:7,77:77,78:78}],86},{111:111,112:112,40:40}],87},{111:111,112:112,40:40}],88},{3:3,46:46,89:89}],89:[function(t,n,r){n.exports=t(40)},{40:40}],90},{}],91},{69:69}],92},{}],93},{94:94}],94},{124:124,23:23,40:40,41:41,42:42}],95},{}],96},{}],97},{25:25,3:3,33:33,39:39}],98},{33:33}],99},{25:25,51:51,7:7,75:75}],100},{128:128,29:29,40:40,72:72}],101},{128:128,41:41,72:72}],102},{103:103,124:124}],103},{40:40}],104},{128:128,3:3,7:7}],105},{35:35}],106},{116:116,28:28}],107},{28:28,52:52}],108},{28:28,33:33,35:35}],109},{110:110,118:118,28:28}],110},{116:116,28:28}],111s=l},{112:112,28:28,33:33,35:35}],€ˆâ€‰â€Šâ,t,1),0)}),n.exports={set:h,clear:v}},{18:18){return t=e(t),angeError("Wrong length!){return .exports=function(t)turn t>0?i(e(t),9rts=function(tconvert object_,pt,N)}}else n.exports=function(){}},{100:100,104:104,11:11,114:114,115:115,116:116,118:118,119:119,12:12,120:120,122:122,123:123,124:124,128:128,129:129,141:141,17:17,25:25,29:29,33:33,35:35,40:40,41:41,42:42,48:48,51:51,56:56,58:58,6:6,60:60,71:71,72:72,75:75,7IEW,!0),r.ArrayBuffer=x,r.DataView=S},{101:101,115:115,116:116,118:118,123:123,29:29,35:35,40:40,42:42,6orts={ABV:f,CONSTR:s,TYPED:c==t?"":t,eceiver, "+n+"t(0)||t in n||c(n,t,{value:u.f(t)})}},{172}],127:[functi[t]||(u?o:i)("Symbol."+t))}).sturn t[i]||t["@@iterator"]||o[e(t)pe:function escape(t){return i(t)}})},{33:33,95:95}],131:[function(t,n,r){var e=t(33);e(e.P,"Array",{copyWithin:t(8)}),t(5)("copyWithin")},{33:33,5:5,8:8}],132:[function(t,n,r){"use strict";var e=t(33),i=t(12)(4);e(e.P+e.F*!t(105)([].every,!0),"Array",{every:function every(t){return i(this,t,argument.P,"Array",{fill:t(9)}),t(5)("fill")},{33:33,5:5,9:9}],134:[function(t,n,r){"use strict";var e=t(33),i=t(12)(2);e(e.P+e.F*!t(105)([].filter,!0),"Array",{filter:function filter(t){return i(this,t,argumentth>1?arguments[1]:void 0arguments[1]:void 0)}}),(t){return i(this,t,argument,!0):i.value);return r.length=g,r}})},{118:118,119:119,129:129,24:24uments)||0:i(this,t,arguments[1])}})},{105:105,11:11,33:33}],140:[function(t,n,r){var e=t(33);e(e.S,"Array",y,e("keys"),e("values"),e("entries")}, o.call(i(this),void 0===t?",":t)}}) n&&n[e]===t)return e||0;return-1}})},{105:105,116:116,117:117,118:118,33:33}],144:[function(t,n,r){"use strict";var e=t(33),i=t(12)(1);e(e.P+e.F*!t(105)([].map,!0),"Array",{map:function map(t){return i(this,t,argumentguments[t++]);return r.length=n,r}})},{24:24,33:33,35:35}],146:[function(t,n,r){"use strict";var e=t(33),i=t(13);e(e.P+e.F*!t(105)([].reduceRight,!0),"Array",{reduceRight:function reduceRight(t){return i(this,t,arguments.length,arguments[1arguments.length,arguments[1is.charAt(i+h):this[i+h];return l}})},{114:114,1(t){return i(this,t,argumentall(o(this)):c.call(o(this),i(t))}})},{1151:[function(t,tion(){return(OString!==i),"Date",|isFinite(r)?n.toISOString():null}})e.prototype;e in i||t(42)(i, t===t?i.call(this):"Invalid Date"})},{94:94}],157:[function(t,n,r){var e=t(33);e(e.P,"Functios.prototype===t)return!0;return!1}s).match(o)[1]}catchf(i(this,"Map"),0===t?0:t,n)(t)+Math.LN2:i(t-1+o!(i&&1/i(0)>0)=(t=+t)?t:Mathi(t=+t)*Math.pow(Matoor(Math.log(tn cosh(t){retu.F*(i!=Math.expm1),"Math",{expm1:i})},{33:33,61:61}],168:[function(t,n,r){var e=t(33);e(e.S,"Math"return a===1/0>>16)*o+i*(65535&e>>t){return Math.log(t)*Math.LOG10E}})},{33:33}],172:[function(t,n,r){var e=t(33);e(e.S,"Mathg2(t){return Math.log(t)/Math.LN2}})},{33:33}],174:[function(t,n,r){var e=t(33);e(e.S,"Matt))/2:(o(t-1)-o(-t-1))*(Ma/0?1:r==1/0?-1:(n-r)turn(t>0?Math.d.constructor=v,t(94)(e,"Number",v)}},{111:111,120:120,18:18,29:29,35:35,40:40,41:41,45:45,"Number",{EPSt){return"number"==typeof t&&i(t)}})},{33:33,40:40}],181:[function(t,n,r){var e=t(33);e(e.S,"Number",{iNaN:function iturn i(t)&&o(t)<=900{MAX_SAFE_INTEMIN_SAFE_INTEGER:-9007199254740991})},{33:33}],186:[function(t,n,r){var e=t(33),i=t(86);e(e.S+e.F*(Number.parseFloat!=i),"Number".parseInt!=i),"Numbe0,c-f)+"."+g.slice(c-f))):g=y+g,g}})},{1 void 0===t?u.call(n):u.);e(e.S+e.F,"Object",{assign:t(70)})},{33:33,70:70}],191:[function(t,n,r){var e=t(33);e(e.S,"Object"),"Object",{defineProperti),"Object",{defineProperty:t(72).f})},{29:29,33:33,72:72}],194:[function(t,n,r){var e=t(51),i=t(66).onFreeze;t(83)("freeze",function(t){return function freeze(n){return t&&e(n)?t(yDescriptor(t,n){return i(e(tyNames",function(){return t(76).f})},{76:76,83:83}],197:[function(t,n,r){var e=t(119),i=t(79);t(83)("getPrototypeOf",function(){return function getPrototypeOf(t){return i(sible(n){return!!e(n)&&(!t||t(n))}})},{51:51,83:83}],199:[function(t,n,r){var e=t(51);t(83)("isFrozen",function(t){return function isFrozen(n){return!e(sSealed(n){return!e(n)||!!t&&t(n)}})},{51:51,83:83}],201:[function(t,n,r){var e=t(33);e(e.S,"Objn function keys(t){return i(e(t))}})},{119:119,81:81,83:83}],203:[function(t,n,r){var e=t(51),i=t(66).onFreeze;t(83)("preventExtensions",function(t){return function preventExtensions(n){return t&&e(n)?t( seal(n){return t&&e(n)?t("Object",{setPrototy(){return"[object "+e(this)+"]"},!0)},{128:128,17:17,94:94}],207:[function(t,n,r){var e=t(33),i=t(86);e(e.G+e.F*(parseFloat!=i)(e.G+e.F*(parseInt!=})});return i.e&&e(i.v),r.promise}})},{100:100,101:101,104:104,113:113,128:128,17:17,23:23,25:25,
3:3,33:33,39:39,40:40,51:51,56:56,6:6,60:60);return u?u(e,n,a):c.call(e,n,a)}apply.call(t,v,n);return c(p)?p:v}})},{16:16,3:3,33: e.f(t,n,r),!0}catch(t){return!1}}})},(r&&!r.configurable)&&detion enumerate(t){returnescriptor(t,n){return e. getPrototypeOf(t){retur1),a=t(7);u(u.S,"Reflect",{get:get})},{33:s:function hasxtensible(t){retur33);e(e.S,"Reflect",urn o&&o(t),!0}cat i.set(t,n),!0}catch),s=t(51);c(c.S,"Reflect",{set:set})},{33:33,41:41,51:t(94)(e,"RegExp",f)}t(100)("RegExp")},{100:100,128:128,29:29,35:35,37:37,40:40"flags",{configurable:!0,ge):new RegExp(l(e,o,i):r.call(String(o),e,i)},r]})},{36:36}],228:[function(t,n,r){t(36)("search",1,function(t,n,r){return[function search(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(l(t,o,i):e.call(Striion toString(){return u.call(this)})},{225:2ef(i(this,"Set"),t=0===t?0:t,t)}},e)},{125:125,19:19,22:22}],232:[function(t,n,r){"use strict";t(108)("anchor",function(t){return function anchor(n){return t(this,"a","name",n)}})},{108:108}],233:[function(t,n,r){"use strict";t(108)("big",function(t){return function big(){return t(this,"big","","")}})},{108:108}],234:[function(t,n,r){"use strict";t(108)("blink",function(t){return function blink(){return t(this,"blink","","")}})},{108:108}],235:[function(t,n,r){"use strict";t(108)("bold",function(t){return function bold(){return t(this,"b","","")}})},{108:108}],236:[function(t,n,r){"use strict";var e=t(33),i=t(106)(!1);e(e.P,"String",{codePointAt:function codePointAt(t){retur(n,a,c):n.slice(c-a.length,c)===a}})},{107:107,118:118,33:33,34:34}],238:[function(t,n,r){"use strict";t(108)("fixed",function(t){return function fixed(){return t(this,"tt","","")}})},{108:108}],239:[function(t,n,r){"use strict";t(108)("fontcolor",function(t){return function fontcolor(n){return t(this,"font","color",n)}})},{108:108}],240:[function(t,n,r){"use strict";t(108)("fontsize",function(t){return function fontsize(n){return t(this,n%1024+56320))}returnnts.length>1?arguments[1]:void 0)}})},{107:107,33:33,34:34}],243:[function(t,n,r){"use strict";t(108)("italics",function(t){return function italics(){return is._i+=t.length,{valuenk(n){return t(t(arguments[c]));return u.join("")}})},{117:117,118:118,33:33}],247:[function(t,n,r){var e=t(33);e(e.P,"String",{repeat:t(110)})},{110:110,33:33}],248:[function(t,n,r){"use strict";t(108)("small",function(t){return function small(){return t(th(n,e,r):n.slice(r,r+e.length)===e}})},{107:107,118:118,33:33,34:34}],250:[function(t,n,r){"use strict";t(108)("strike",function(t){return function strike(){return t(this,"strike","","")}})},{108:108}],251:[function(t,n,r){"use strict";t(108)("sub",function(t){return function sub(){return t( sup(){return t( function trim()(Math,"Math",!0),l(e.JSON,"JSON",!0)},{101:101,103:103,117:117,120:120,124:124,126:126,127:127,128:128,29:29,32:32,33:33,35:35,40:40,41:41,42:42,49:49,59:59,60:60,66:66,7:7,71:71,72:72,75:75,76:76,77:77));return o}}),t(100)("ArrayBuffer")},{100:100,104:104,114:114,118:118,122:122,123:1123).ABV,{DataView:t(122).DataView})},{122:122,123:123,33:33}],257:[function(t,n,r){t(121)("Float32",4,function(t){return function Float32Array(n,r,e){return t(this,n,r,e)}})},{121:121}],258:[function(t,n,r){t(121)("Float64",8,function(t){return function Float64Array(n,r,e){return t(this,n,r,e)}})},{121:121}],259:[function(t,n,r){t(121)("Int16",2,function(t){return function Int16Array(n,r,e){return t(this,n,r,e)}})},{121:121}],260:[function(t,n,r){t(121)("Int32",4,function(t){return function Int32Array(n,r,e){return t(this,n,r,e)}})},{121:121}],261:[function(t,n,r){t(121)("Int8",1,function(t){return function Int8Array(n,r,e){return t(this,n,r,e)}})},{121:121}],262:[function(t,n,r){t(121)("Uint16",2,function(t){return function Uint16Array(n,r,e){return t(this,n,r,e)}})},{121:121}],263:[function(t,n,r){t(121)("Uint32",4,function(t){return function Uint32Array(n,r,e){retArray(n,r,e){retay(n,r,e){return?this:o}return r.call(this,n,i)})}))},{12:12,125:125,21:21,22:22f(i(this,"WeakSet"),t,!0)}},t,arguments[1]),r}}),t(5)("flatMap")},{118:118,119d 0===t?1:c(t)),e}}),t(5)("flatten")},{116:116,118:118ments[1]:void 0)}}),t(5)ar n=u&&o.domain;i(n?n.bind(t):tn isError(t){return"r){var e=t(33);e(e.G,{global:t(40)})},{33:33,40:40}],274:[function(t,n,r){t(97)("Map")},{97:97}],275:[function(t,n,r){t(98)("Map")},{98:98}],276:[function(t,n,r){var e=t(33);e(e.P+e.R,"Map",{toJSO{return Math.m.S,"Math",{DEGes:function det,n,r,e,u){return o(i(t,n,)+((i&u|(i|u)&(a>>16)+((i*c>0)-((~i&u|~(i^.S,"Math",{RADns:function radians(t){return t*i}})},{33:33}],286:[function(t,n,r){var e=t(33);e(e.S,"Mathturn(t=+t)!=t?>>>16)+((i*c>>>0)+(65535&a)>>>16)}})},{33:33}],289:[function(t,n,r){"use strict";var e=t(33),i=t(119),o=t(3),u=t(72);t(29)&&e(e.P+t(74),"Object",{__defineGetter__:function __defineGetter__(t,n){u.f(i(this),t,{get:o(n),enumerable:!0,configurable:!0})}})},{119:1),enumerable:!0,configurable:!0})}})},{119:119,29:29,3:3,33:33,72:72,74:74}],291:[function(t,n,r){var e=t(33),i=t(84)(!0);e(e.S,"Object",{entries:function entries(ta(e,n=f[l++]))&&c(s,n,r);return s}})},{117:117,24:24,33:33,75:75,85:85}],293:[function(t,n,r){"use strict";var e=t(33),i=t(119),o=t(120),u=t(79),c=t(75).f;t(29)&&e(e.P+t(74),"Object",{__lookupGetter__:function __lookupGetter__(t){var n,r=i(this),e=o(t,!0);do{if(n=c(r,e))return n.get}while(r=u(r))}})},{119:119,120:120c(r,e))return n.set}while(r=u(r))}})},{119:119,120:120es:function values(t{Observable:S}),t(100)("Observable")},{100:100,128:128,23:23,3:3,33:33,39:39,4()).then(function(){throw r})}:t)}})},{1.reject:n.resolve)(r.v),n.etadata(t,n,r,e){ua.delete(r),!!a.si.length<2?void 0:f(arguments[1]))}})},.length<3?void 0:a(argum.length<2?void 0:u(arguments[1]))}})},{67:67,7:7}],304:[function(t,n,r){var e=t(67),i=t(7),o=e.get,u=e.key;e.exp({getOwnMetadata:function getOwnMetadata(t,n){return o(t,i(n),arguments.length<3?void 0:u.length<3?void 0:c(argum.length<3?void 0:u{c(t,n,(void 0!==e?i:o)(r),u(e))}}})},{3:3,67:67,7:7}],308:[function(t,n,r){t(97)("Set")},{97:97}],309:[functie.P+e.R,"Set",{toJSOt:function at(t){returstIndex=o(t.lastIndex),new f(e,n)}})},{118:118,28:28,33:33,37:37,52:52,54:54}],313:[function(t,n,r){"use strict";var e=t(33),i=t(109);e(e.P,"String",{padEnd:function padEnd(t){return i(this,t,arguments.length>1?arguments[1].length>1?arguments[1]:void 0,!0)}})},{109:109,33:33}],315:[function(t,n,r){"use strict";t(111)("trimLeft",function(t){return function trimLeft(){return t(thight(){return t(this,2)}},"trimEnd")},{111:111}],317:[function(t,n,r){t(126)("asyncIterator")},{126:126}],318:[function(t,n,r){t(126)("observable")},{126:126}],319:[function(t,n,r){var e=t(33);e(e.S,"System",{global:t(40)})},{33:33,40:40}],320:[function(t,n,r){t(97)("WeakMap")},{97:97}],321:[function(t,n,r){t(98)("WeakMap")},{98:98}],322:[function(t,n,r){t(97)("WeakSet")},{97:97}],323:[function(t,m))for(y in e)x[y]||o(x,y,e[y],!0)}},{128:128,141:141diate:i.set,clearImmedeout),setInterval:f(e.setIntervat(326),t(325),t(324),n.exports=t(23)},{131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,
186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,23:23,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,290:290,291:291,292:292,293:293,294:294,295:295,296:296,297:297,298:298,299:299,300:300,301:301,302:302,303:303,304:304,305:305,306:306,307:307,308:308,309:309,310:310,311:311,312:312,313:313,314:314,315:315,316:316,317:317,318:318,319:319,320:320,321:321,322:322,3undefined"!=typeof window?window:{})},{}]},{},[1]);
 };if (!window.postscribe) { /**
 * @file postscribe
 * @description Asynchronously write javascript, even with document.write.
 * @version v2.0.8
 * @see {@link https://krux.github.io/postscribe}
 * @license MIT
 * @author Derek Brans
 * @posts.isTag=c,e.isScript=l,e.isStyle=p}])}); };(function(){var VAST_PLAYER_SCRIPT="<!doctype html><html><head><title>Google IMA Caroda Ad Loader</title><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><style>@font-face{font-family:Caroda;src:url(data:application/x-font-ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBukAAAC8AAAAYGNtYXAXVtKOAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Zs7lu6YAAAF4AAAELGhlYWQTe/k1AAAFpAAAADZoaGVhCr0GywAABdwAAAAkaG10eC56AjMAAAYAAAAAMGxvY2EEsAPYAAAGMAAAABptYXhwABEAgAAABkwAAAAgbmFtZV1va/cAAAZsAAABenBvc3QAAwAAAAAH6AAAACAAAwS4AZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBwPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qf//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAEX/1Qb7A68ADAAZAAAJARY2NRE0JgcBBhQXIQEWNjURNCYHAQYUFwOnAoZFiYlF/XpDQ/yeAoZFiYlF/XpGRgFL/oonT1AC6k9PJv6JKZ0n/oonT1AC6k9PJv6JKZ0nAAAAAgAA/9UGugOvAAwAGQAACQEmBhURFBY3ATY0JyEBJgYVERQWNwE+AScDVP16RYmJRQKGRkYDZv12RYmJRQKGRgFDAjgBdyZPT/0WUE8nAXYnnSkBdyZPT/0WUE8nAXYnnSkAAAQAAP/ABXYDwAAFAAsAEQAXAAABMxEhNSElMxUhFSERIRUhFSMBIREjNSEBsoX9yQGyAY+DAbL9ywI1/k6D/L8CN4X+TgPA/oaD9/eD/vSD9wF6/ob3AAAEAAD/wAV2A8AABQALABEAFwAAEyMRIRUhBSM1ITUhESE1ITUzASERMxUhg4MCN/5MBPOD/k4CNf3LAbKD/MH9yYMBtAJGAXqD9/eD/ACF9f6GAXr1AAAAAQAA/9UDVQOtAAwAAAkBJgYVERQWNwE2NCcDVf1KNWpqNQK2NDQCHQGQHj08/N48PyABkB56IAABASUAgwLbAv0AEgAAJRE0Jg8BIyIGHQEUFjsBFxY2NQLbMhSYrxEYGBGvmBQyoAJAHBQTmBkR9hEZmBMUHAAABAASACED7gNdABIAOwBjAH0AACURNCYPASMiBh0BFBY7ARcWNjUFBiYnJjY3Njc+ATc2NTQnLgEnJicuATc+ARcWFx4BFxYVFAcOAQcGBxMUBw4BBwYHBiYnJjY3PgE1NCYnLgE3PgEzOAExMhYXJxYXHgEXFhUjFAYHBiYnJjY3PgE1NCYnMS4BNz4BFx4BFQHJMxOZrxEYGBGvmRMzATgTLAwMCxMpIiIxDQ0LDCofHyYTCA0NLBMyKCc3Dg8RET4rLDZICwspHR4jFCwMDAsTMjcyLBMIDQgYDQkQBwEiGholCQqkKiUULAwMCxQMDg0LEgkNDS0TISanAkAbFROZGBH3ERiYExQchgsKFBMsDBkjI1QxMDQvLS1SIyMbDSwTEwgNIy0taDo6PUI+Pm0tLSEBpiwpKkgeHhYMCxMTLQweYzo2YB4NLRMLDAUFARgeHkUnJygrSxcLChQTLAwIGA8OFwgNLRITCA0XSCgAAAAAAgC3AIMDSQL9ABIALAAAJRE0Jg8BIyIGHQEUFjsBFxY2NRMUBgcGJicmNjc+ATU0JicxLgE3PgEXHgEVAm4zFJivERgYEa+YFDPbKiUTLAwMCxMMDgwLEwgNDS0SIiWgAkAcFBOYGRH2ERmYExQcASArSxYMChQTLAwIGQ4OGAcNLRITCA0XSCgAAAABAAAAAQAA9cvx918PPPUACwQAAAAAANaw2lwAAAAA1rDaXAAA/8AG+wPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAb+AAAAAAb7AAEAAAAAAAAAAAAAAAAAAAAMBAAAAAAAAAAAAAAAAgAAAAb+AEUG/gAABXYAAAV2AAADkgAABAABJQQAABIEAAC3AAAAAAAKABQAHgBQAIIArgDaAPYBFgHQAhYAAAABAAAADAB+AAQAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABgAAAAEAAAAAAAIABwBXAAEAAAAAAAMABgAzAAEAAAAAAAQABgBsAAEAAAAAAAUACwASAAEAAAAAAAYABgBFAAEAAAAAAAoAGgB+AAMAAQQJAAEADAAGAAMAAQQJAAIADgBeAAMAAQQJAAMADAA5AAMAAQQJAAQADAByAAMAAQQJAAUAFgAdAAMAAQQJAAYADABLAAMAAQQJAAoANACYQ2Fyb2RhAEMAYQByAG8AZABhVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwQ2Fyb2RhAEMAYQByAG8AZABhQ2Fyb2RhAEMAYQByAG8AZABhUmVndWxhcgBSAGUAZwB1AGwAYQByQ2Fyb2RhAEMAYQByAG8AZABhRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format(\"truetype\");font-weight:400;font-style:normal}body,html{height:100%;margin:0;padding:0;overflow:hidden;font-family:arial,sans-serif}.player{width:100%;height:100%;background:#111}*{outline:0}.caroda-ad-container{position:relative;width:100%;height:100%;padding-top:0;background:#000}.caroda-ad-container>div:not(.progress-bar):not(.muted-button):not(.thumbnail):not(.fullscreen-button):not(.timer):not(.toggle-playback-button):not(.custom-skip-button){position:absolute!important;top:0!important;left:0!important;width:calc(100% + .5px)!important;height:calc(100% + .5px)!important}.caroda-ad-container>div>iframe,.caroda-ad-container>video{position:absolute;top:0;left:0;width:calc(100% + .5px);height:calc(100% + .5px)}.caroda-ad-container>div{z-index:1}.caroda-ad-container>span.label{position:absolute;left:10px;bottom:10px;color:#eef;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;z-index:1;font-family:arial,sans-serif;font-size:14px}.caroda-ad-container>.timer{display:none}.caroda-ad-container>.toggle-playback-button{display:none}.caroda-ad-container>div.muted-button{width:30px;height:25px;font-family:Caroda;position:absolute;z-index:10;cursor:pointer}.caroda-ad-container>div.muted-button:before{color:#fff;font-size:24px;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;content:\"\\e905\"}.caroda-ad-container.outstream>div.muted-button{top:7px;right:0}.caroda-ad-container.mobile.outstream>div.muted-button{top:25px}.caroda-ad-container.instream>div.muted-button{bottom:11px;right:10px;width:22px;height:17px}.caroda-ad-container.instream>div.muted-button:before{font-size:16px}.caroda-ad-container.instream>.thumbnail{position:absolute;top:7px;left:10px;width:48px;height:27px;background-color:#000}.caroda-ad-container.instream>.thumbnail>.thumbnail-info{position:absolute;left:56px;top:6px;color:#eef;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;z-index:1;font-family:arial,sans-serif;font-size:12px;width:100vw;max-width:600px}.caroda-ad-container:not(.muted)>div.muted-button:before{content:\"\\e906\"}.caroda-ad-container>div.progress-bar{background:#5e8791;height:4px;position:absolute;left:0;right:0;bottom:0;top:auto}.caroda-ad-container>div.progress-bar .progress{background:#f5a03e;color:#f5a03e;height:4px;position:absolute;left:0;bottom:0;transition:all .5s linear}.caroda-ad-container>div.progress-bar .progress::before{content:\"\";background:#f5a03e;position:absolute;height:8px;width:8px;top:-2px;right:-4px;border-radius:50%}.caroda-ad-container .fullscreen-button{display:none;width:22px;height:17px;bottom:11px;right:10px;font-family:Caroda;position:absolute;z-index:10;cursor:pointer}.caroda-ad-container .fullscreen-button:before{color:#fff;font-size:16px;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;content:\"\\e902\"}.caroda-ad-container.fullscreen>.fullscreen-button{display:block}.caroda-ad-container.instream.fullscreen>div.muted-button{right:40px}.caroda-ad-container .custom-skip-button{position:absolute;bottom:22px;right:0;padding:15px 0 15px 15px;background-image:linear-gradient(bottom,rgba(0,0,0,.5),rgba(0,0,0,.4) 60%,rgba(0,0,0,0) 99%);cursor:default}.caroda-ad-container .custom-skip-button .custom-skip-button-inner{min-width:30px;background:rgba(0,0,0,.8);padding:6px}.caroda-ad-container .custom-skip-button .custom-skip-button-inner .custom-skip-button-text{color:#e6e6e6;font-family:arial,sans-serif;font-weight:400;font-size:11px;line-height:21px;padding-right:0;text-align:center;display:inline-block;width:100%;vertical-align:middle}.caroda-ad-container .custom-skip-button.clickable{cursor:pointer}.caroda-ad-container .custom-skip-button.clickable .custom-skip-button-inner{display:flex;align-items:center;justify-content:center}.caroda-ad-container .custom-skip-button.clickable .custom-skip-button-inner .custom-skip-button-text{font-size:18px;display:inline-block}.caroda-ad-container .custom-skip-button.clickable .custom-skip-button-inner svg{display:inline-block;fill:#fff;height:24px;width:24px}@media (max-width:455px){.caroda-ad-container.instream.skippable>div.muted-button{transition:bottom .3s;bottom:60px}.caroda-ad-container.instream.skippable>.fullscreen-button{transition:bottom .3s;bottom:60px}.caroda-ad-container .custom-skip-button{bottom:11px;padding:8px 0 8px 8px}}lima-video[src*=\"teads.tv\"],video[src*=\"teads.tv\"]{height:auto!important}.caroda-canvas{position:absolute;top:0;left:0}.last-frame-fallback{position:absolute;top:0;left:0;width:100%;height:100%;background-size:100%;background-position:center;opacity:0;transition:opacity .3s ease-out}</style></head><body><div class=\"player\"></div><div class=\"last-frame-fallback\"></div><script src=\"https://imasdk.googleapis.com/js/sdkloader/ima3.js\"></script><script>function noop(){}function assign(e,t){for(var n in t)e[n]=t[n];return e}function appendNode(e,t){t.appendChild(e)}function insertNode(e,t,n){t.insertBefore(e,n)}function detachNode(e){e.parentNode.removeChild(e)}function createElement(e){return document.createElement(e)}function createSvgElement(e){return document.createElementNS(\"http://www.w3.org/2000/svg\",e)}function createText(e){return document.createTextNode(e)}function createComment(){return document.createComment(\"\")}function addListener(e,t,n){e.addEventListener(t,n,!1)}function removeListener(e,t,n){e.removeEventListener(t,n,!1)}function setAttribute(e,t,n){e.setAttribute(t,n)}function setStyle(e,t,n){e.style.setProperty(t,n)}function blankObject(){return Object.create(null)}function destroy(e){this.destroy=noop,this.fire(\"destroy\"),this.set=this.get=noop,!1!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function _differs(e,t){return e!=e?t==t:e!==t||e&&\"object\"==typeof e||\"function\"==typeof e}function fire(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var r=0;r<n.length;r+=1){var i=n[r];i.__calling||(i.__calling=!0,i.call(this,t),i.__calling=!1)}}function get(e){return e?this._state[e]:this._state}function init(e,t){e._handlers=blankObject(),e._bind=t._bind,e.options=t,e.root=t.root||e,e.store=e.root.store||t.store}function observe(e,t,n){var r=t.bind(this);return n&&!1===n.init||r(this.get()[e],void 0),this.on(n&&n.defer?\"update\":\"state\",function(t){t.changed[e]&&r(t.current[e],t.previous&&t.previous[e])})}function on(e,t){if(\"teardown\"===e)return this.on(\"destroy\",t);var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function set(e){this._set(assign({},e)),this.root._lock||(this.root._lock=!0,callAll(this.root._beforecreate),callAll(this.root._oncreate),callAll(this.root._aftercreate),this.root._lock=!1)}function _set(e){var t=this._state,n={},r=!1;for(var i in e)this._differs(e[i],t[i])&&(n[i]=r=!0);r&&(this._state=assign(assign({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire(\"state\",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire(\"update\",{changed:n,current:this._state,previous:t})))}function callAll(e){for(;e&&e.length;)e.shift()()}function _mount(e,t){this._fragment[this._fragment.i?\"i\":\"m\"](e,t||null)}function _unmount(){this._fragment&&this._fragment.u()}var proto={destroy:destroy,get:get,fire:fire,observe:observe,on:on,set:set,teardown:destroy,_recompute:noop,_set:_set,_mount:_mount,_unmount:_unmount,_differs:_differs};function progressWidth(e){return(100*e.currentTime/e.duration).toFixed(2)+\"%\"}function progressLabel(e,t,n){var r=e.duration-e.currentTime;if(r<0)return\"\";var i=Math.floor(r/60),o=Math.floor(r)%60;return i+\":\"+(o>9?\"\":\"0\")+o}function skipCounterLabel(e,t,n){return t[n].skipCounter.replace(/#/g,Math.ceil(e.skipTimeLeft))}function timerCurrentTime(e){if(isNaN(e.currentTime))return\"0:00\";var t=Math.floor(e.currentTime/60),n=Math.floor(e.currentTime%60);return t+\":\"+String(n).padStart(2,\"0\")}function timerDuration(e){if(isNaN(e.duration))return\"0:00\";var t=Math.floor(e.duration/60),n=Math.floor(e.duration%60);return t+\":\"+String(n).padStart(2,\"0\")}function data(){return{time:Date.now(),progress:{currentTime:0,duration:0,skipTimeLeft:-1},isMobile:!1,isMuted:!0,isLoading:!0,isFullscreen:!1,isPlaying:!1,strings:{en:{advertising:\"Advertising\",learn:\"Learn More\",skip:\"Skip Ad\",skipCounter:\"You can skip this ad in #\",instreamContinue:\"The video will continue after the ad\"},cs:{advertising:\"Reklama\",learn:decodeURIComponent(\"Zjistit%20v%C3%ADce\"),skip:decodeURIComponent(\"P%C5%99esko%C4%8Dit\"),skipCounter:decodeURIComponent(\"P%C5%99esko%C4%8Dit%20za%20%23\"),instreamContinue:decodeURIComponent(\"Video%20bude%20pokra%C4%8Dovat%20po%20reklam%C4%9B\")},sk:{advertising:\"Reklama\",learn:decodeURIComponent(\"Zisti%20viac\"),skip:decodeURIComponent(\"Presko%C4%8D%20reklamu\"),skipCounter:decodeURIComponent(\"M%C3%B4%C5%BEete%20presko%C4%8Di%C5%A5%20reklamu%20za%20%23\"),instreamContinue:decodeURIComponent(\"Video%20bude%20pokra%C4%8Dova%C5%A5%20po%20reklame\")},fr:{advertising:decodeURIComponent(\"Publicit%C3%A9\"),learn:decodeURIComponent(\"En%20savoir%20plus\"),skip:decodeURIComponent(\"Ignorer%20l%27annonce%0A\"),skipCounter:decodeURIComponent(\"Vous%20pouvez%20ignorer%20cette%20annonce%20dans%20%23\"),instreamContinue:decodeURIComponent(\"La%20vid%C3%A9o%20reprendra%20apr%C3%A8s%20l%27annonce\")},pl:{advertising:\"Reklama\",learn:decodeURIComponent(\"Dowiedz%20si%C4%99%20wi%C4%99cej\"),skip:decodeURIComponent(\"Pomi%C5%84%20reklam%C4%99\"),skipCounter:decodeURIComponent(\"Mo%C5%BCesz%20pomin%C4%85%C4%87%20t%C4%99%20reklam%C4%99%20w%20%23\"),instreamContinue:decodeURIComponent(\"Wideo%20b%C4%99dzie%20kontynuowane%20po%20reklamie\")},es:{advertising:\"Publicidad\",learn:decodeURIComponent(\"M%C3%A1s%20informaci%C3%B3n\"),skip:decodeURIComponent(\"Saltar%20anuncio\"),skipCounter:decodeURIComponent(\"Puedes%20saltar%20este%20anuncio%20en%20%23\"),instreamContinue:decodeURIComponent(\"El%20v%C3%ADdeo%20continuar%C3%A1%20despu%C3%A9s%20de%20la%20publicidad\")}},language:\"en\",hideCarodaUI:!1}}function oncreate(){var e=this;this.interval=setInterval(function(){return e.set({time:Date.now()})},500)}function create_main_fragment(e,t){var n,r,i,o,a,s=!t.hideCarodaUI&&create_if_block(e,t),c=t.showSkipButton&&-1!=t.progress.skipTimeLeft&&create_if_block_1(e,t),u=t.thumbnailUrl&&t.instream&&create_if_block_4(e,t),d=!t.hideCarodaUI&&create_if_block_5(e,t);return{c:function(){n=createElement(\"div\"),s&&s.c(),r=createText(\"\\n    \"),c&&c.c(),i=createText(\"\\n    \"),u&&u.c(),o=createText(\"\\n    \"),d&&d.c(),this.h()},h:function(){n.className=a=\"caroda-ad-container\\n    \"+(t.isMuted?\"muted\":\"\")+\"\\n    \"+(t.isMobile?\"mobile\":\"\")+\"\\n    \"+(t.instream?\"instream\":\"outstream\")+\"\\n    \"+(t.isFullscreen?\"fullscreen\":\"\")+\"\\n    lang-\"+t.language+\"\\n    \"+(t.skippable?\"skippable\":\"\")},m:function(e,t){insertNode(n,e,t),s&&s.m(n,null),appendNode(r,n),c&&c.m(n,null),appendNode(i,n),u&&u.m(n,null),appendNode(o,n),d&&d.m(n,null)},p:function(t,l){l.hideCarodaUI?s&&(s.u(),s.d(),s=null):s?s.p(t,l):((s=create_if_block(e,l)).c(),s.m(n,r)),l.showSkipButton&&-1!=l.progress.skipTimeLeft?c?c.p(t,l):((c=create_if_block_1(e,l)).c(),c.m(n,i)):c&&(c.u(),c.d(),c=null),l.thumbnailUrl&&l.instream?u?u.p(t,l):((u=create_if_block_4(e,l)).c(),u.m(n,o)):u&&(u.u(),u.d(),u=null),l.hideCarodaUI?d&&(d.u(),d.d(),d=null):d?d.p(t,l):((d=create_if_block_5(e,l)).c(),d.m(n,null)),(t.isMuted||t.isMobile||t.instream||t.isFullscreen||t.language||t.skippable)&&a!==(a=\"caroda-ad-container\\n    \"+(l.isMuted?\"muted\":\"\")+\"\\n    \"+(l.isMobile?\"mobile\":\"\")+\"\\n    \"+(l.instream?\"instream\":\"outstream\")+\"\\n    \"+(l.isFullscreen?\"fullscreen\":\"\")+\"\\n    lang-\"+l.language+\"\\n    \"+(l.skippable?\"skippable\":\"\"))&&(n.className=a)},u:function(){detachNode(n),s&&s.u(),c&&c.u(),u&&u.u(),d&&d.u()},d:function(){s&&s.d(),c&&c.d(),u&&u.d(),d&&d.d()}}}function create_if_block(e,t){var n,r,i,o,a;function s(t){e.fire(\"toggle-audio\")}function c(t){e.fire(\"toggle-play\")}return{c:function(){n=createElement(\"div\"),i=createText(\"\\n        \"),o=createElement(\"div\"),this.h()},h:function(){addListener(n,\"click\",s),n.className=r=\"muted-button \"+(t.isMuted?\"muted\":\"\"),addListener(o,\"click\",c),o.className=a=\"toggle-playback-button \"+(t.isPlaying?\"\":\"paused\")},m:function(e,t){insertNode(n,e,t),insertNode(i,e,t),insertNode(o,e,t)},p:function(e,t){e.isMuted&&r!==(r=\"muted-button \"+(t.isMuted?\"muted\":\"\"))&&(n.className=r),e.isPlaying&&a!==(a=\"toggle-playback-button \"+(t.isPlaying?\"\":\"paused\"))&&(o.className=a)},u:function(){detachNode(n),detachNode(i),detachNode(o)},d:function(){removeListener(n,\"click\",s),removeListener(o,\"click\",c)}}}function create_if_block_2(e,t){var n,r,i,o;return{c:function(){n=createElement(\"div\"),r=createElement(\"div\"),i=createElement(\"div\"),o=createText(t.skipCounterLabel),this.h()},h:function(){i.className=\"custom-skip-button-text\",setAttribute(i,\"aria-label\",\"Skip Ad Countdown\"),r.className=\"custom-skip-button-inner\",r.tabIndex=\"0\",n.className=\"custom-skip-button\"},m:function(e,t){insertNode(n,e,t),appendNode(r,n),appendNode(i,r),appendNode(o,i)},p:function(e,t){e.skipCounterLabel&&(o.data=t.skipCounterLabel)},u:function(){detachNode(n)},d:noop}}function create_if_block_3(e,t){var n,r,i,o,a,s,c,u=t.strings[t.language].skip;function d(t){e.fire(\"skip\")}return{c:function(){n=createElement(\"div\"),r=createElement(\"div\"),i=createElement(\"div\"),o=createText(u),a=createText(\"\\n                    \"),s=createSvgElement(\"svg\"),c=createSvgElement(\"path\"),this.h()},h:function(){i.className=\"custom-skip-button-text\",setAttribute(i,\"aria-label\",\"Skip Ad\"),setAttribute(c,\"d\",\"M16 18h2V6h-2M6 18l8.5-6L6 6v12z\"),setAttribute(s,\"xmlns\",\"http://www.w3.org/2000/svg\"),setAttribute(s,\"xmlns:xlink\",\"http://www.w3.org/1999/xlink\"),setAttribute(s,\"aria-hidden\",\"true\"),setAttribute(s,\"focusable\",\"false\"),setAttribute(s,\"width\",\"1em\"),setAttribute(s,\"height\",\"1em\"),setStyle(s,\"-ms-transform\",\"rotate(360deg)\"),setStyle(s,\"-webkit-transform\",\"rotate(360deg)\"),setStyle(s,\"transform\",\"rotate(360deg)\"),setAttribute(s,\"preserveAspectRatio\",\"xMidYMid meet\"),setAttribute(s,\"viewBox\",\"0 0 24 24\"),addListener(r,\"click\",d),r.className=\"custom-skip-button-inner\",r.tabIndex=\"0\",setAttribute(r,\"role\",\"button\"),n.className=\"custom-skip-button clickable\"},m:function(e,t){insertNode(n,e,t),appendNode(r,n),appendNode(i,r),appendNode(o,i),appendNode(a,r),appendNode(s,r),appendNode(c,s)},p:function(e,t){(e.strings||e.language)&&u!==(u=t.strings[t.language].skip)&&(o.data=u)},u:function(){detachNode(n)},d:function(){removeListener(r,\"click\",d)}}}function create_if_block_1(e,t){var n,r,i=t.progress.skipTimeLeft>0&&create_if_block_2(e,t),o=0==t.progress.skipTimeLeft&&create_if_block_3(e,t);return{c:function(){i&&i.c(),n=createText(\"\\n        \"),o&&o.c(),r=createComment()},m:function(e,t){i&&i.m(e,t),insertNode(n,e,t),o&&o.m(e,t),insertNode(r,e,t)},p:function(t,a){a.progress.skipTimeLeft>0?i?i.p(t,a):((i=create_if_block_2(e,a)).c(),i.m(n.parentNode,n)):i&&(i.u(),i.d(),i=null),0==a.progress.skipTimeLeft?o?o.p(t,a):((o=create_if_block_3(e,a)).c(),o.m(r.parentNode,r)):o&&(o.u(),o.d(),o=null)},u:function(){i&&i.u(),detachNode(n),o&&o.u(),detachNode(r)},d:function(){i&&i.d(),o&&o.d()}}}function create_if_block_4(e,t){var n,r,i,o=t.strings[t.language].instreamContinue;return{c:function(){n=createElement(\"div\"),r=createElement(\"span\"),i=createText(o),this.h()},h:function(){r.className=\"thumbnail-info\",n.className=\"thumbnail\",setStyle(n,\"background\",\"url(\"+t.thumbnailUrl+\")\"),setStyle(n,\"background-size\",\"cover\")},m:function(e,t){insertNode(n,e,t),appendNode(r,n),appendNode(i,r)},p:function(e,t){(e.strings||e.language)&&o!==(o=t.strings[t.language].instreamContinue)&&(i.data=o),e.thumbnailUrl&&setStyle(n,\"background\",\"url(\"+t.thumbnailUrl+\")\")},u:function(){detachNode(n)},d:noop}}function create_if_block_6(e,t){var n,r,i,o=t.strings[t.language].advertising;return{c:function(){n=createElement(\"span\"),r=createText(o),i=createText(\":\"),this.h()},h:function(){n.className=\"advertising-label\"},m:function(e,t){insertNode(n,e,t),appendNode(r,n),appendNode(i,n)},p:function(e,t){(e.strings||e.language)&&o!==(o=t.strings[t.language].advertising)&&(r.data=o)},u:function(){detachNode(n)},d:noop}}function create_if_block_5(e,t){var n,r,i,o,a,s,c,u,d,l,p,m,f,g,h,_,b,k,C;function N(t){e.fire(\"toggle-fullscreen\")}var v=t.instream&&t.progressLabel&&create_if_block_6(e,t);return{c:function(){n=createElement(\"div\"),i=createText(\"\\n        \"),o=createElement(\"span\"),v&&v.c(),a=createText(\"\\n            \"),s=createElement(\"span\"),c=createText(t.progressLabel),u=createText(\"\\n        \"),d=createElement(\"div\"),l=createElement(\"span\"),p=createText(t.timerCurrentTime),m=createText(\"\\n            \"),f=createElement(\"span\"),g=createText(\"\\n            \"),h=createElement(\"span\"),_=createText(t.timerDuration),b=createText(\"\\n        \"),k=createElement(\"div\"),C=createElement(\"div\"),this.h()},h:function(){addListener(n,\"click\",N),n.className=r=\"fullscreen-button \"+(t.isFullscreen?\"fullscreen\":\"\"),o.className=\"label\",l.className=\"time\",f.className=\"separator\",h.className=\"duration\",d.className=\"timer\",C.className=\"progress\",setStyle(C,\"width\",t.progressWidth),k.className=\"progress-bar\"},m:function(e,t){insertNode(n,e,t),insertNode(i,e,t),insertNode(o,e,t),v&&v.m(o,null),appendNode(a,o),appendNode(s,o),appendNode(c,s),insertNode(u,e,t),insertNode(d,e,t),appendNode(l,d),appendNode(p,l),appendNode(m,d),appendNode(f,d),appendNode(g,d),appendNode(h,d),appendNode(_,h),insertNode(b,e,t),insertNode(k,e,t),appendNode(C,k)},p:function(t,i){t.isFullscreen&&r!==(r=\"fullscreen-button \"+(i.isFullscreen?\"fullscreen\":\"\"))&&(n.className=r),i.instream&&i.progressLabel?v?v.p(t,i):((v=create_if_block_6(e,i)).c(),v.m(o,a)):v&&(v.u(),v.d(),v=null),t.progressLabel&&(c.data=i.progressLabel),t.timerCurrentTime&&(p.data=i.timerCurrentTime),t.timerDuration&&(_.data=i.timerDuration),t.progressWidth&&setStyle(C,\"width\",i.progressWidth)},u:function(){detachNode(n),detachNode(i),detachNode(o),v&&v.u(),detachNode(u),detachNode(d),detachNode(b),detachNode(k)},d:function(){removeListener(n,\"click\",N),v&&v.d()}}}function Player(e){init(this,e),this._state=assign(data(),e.data),this._recompute({progress:1,strings:1,language:1},this._state);var t=this;e.root||(this._oncreate=[]),this._fragment=create_main_fragment(this,this._state),this.root._oncreate.push(function(){oncreate.call(t),t.fire(\"update\",{changed:{progress:1,strings:1,language:1,isMuted:1,isMobile:1,instream:1,isFullscreen:1,skippable:1,hideCarodaUI:1,isPlaying:1,showSkipButton:1,skipCounterLabel:1,thumbnailUrl:1,progressLabel:1,timerCurrentTime:1,timerDuration:1,progressWidth:1},current:t._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),callAll(this._oncreate))}assign(Player.prototype,proto),Player.prototype._recompute=function(e,t){e.progress&&this._differs(t.progressWidth,t.progressWidth=progressWidth(t.progress))&&(e.progressWidth=!0),(e.progress||e.strings||e.language)&&(this._differs(t.progressLabel,t.progressLabel=progressLabel(t.progress,t.strings,t.language))&&(e.progressLabel=!0),this._differs(t.skipCounterLabel,t.skipCounterLabel=skipCounterLabel(t.progress,t.strings,t.language))&&(e.skipCounterLabel=!0)),e.progress&&(this._differs(t.timerCurrentTime,t.timerCurrentTime=timerCurrentTime(t.progress))&&(e.timerCurrentTime=!0),this._differs(t.timerDuration,t.timerDuration=timerDuration(t.progress))&&(e.timerDuration=!0))};\n;var bundle=function(A){\"use strict\";function e(A,e){if(!A)throw new Error(e)}var t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&\"function\"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?\"symbol\":typeof A},n=function(A,e){if(!(A instanceof e))throw new TypeError(\"Cannot call a class as a function\")},a=function(){function A(A,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(A,n.key,n)}}return function(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),e}}(),i={MAX_REDIRECTS:10,PLAYER_NAME:\"caroda-ima\",PLAYER_VERSION:\"1.0.0\"},r={STARTED:[\"impression\",\"start\",\"creative_view\"],SKIPPED:[\"skip\"],CLICK:[\"click_tracking\"],VOLUME_MUTED:[\"mute\"],VOLUME_CHANGED:[\"unmute\"],RESUMED:[\"resume\"],PAUSED:[\"pause\"],COMPLETE:[\"complete\"],FIRST_QUARTILE:[\"first_quartile\"],MIDPOINT:[\"midpoint\"],THIRD_QUARTILE:[\"third_quartile\"]},s=function(){function A(t){var a=this;n(this,A),e(t.vast,\"opts.vast is mandatory\"),e(t.containerElement,\"opts.containerElement is mandatory\"),t.language=t.language||\"en\",google.ima.settings.setLocale(t.language.toUpperCase()),this.isPlaying=!0,this.lastUnmutedVolume=t.volume||1,this.pendingActions=[],this.eventHandlers={},this.maxRemainingTime=0,this.autoResumeEnabled=!0,this.adDisplayContainer=new google.ima.AdDisplayContainer(t.containerElement),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE),this.adsLoader.getSettings().setLocale(t.language.toUpperCase()),this.adsLoader.getSettings().setNumRedirects(i.MAX_REDIRECTS),this.adsLoader.getSettings().setPlayerType(i.PLAYER_NAME),this.adsLoader.getSettings().setPlayerVersion(i.PLAYER_VERSION),this.adsLoader.getSettings().setAutoPlayAdBreaks(!1),this.adsLoader.getSettings().setVpaidAllowed(!0),this.adsRequest=new google.ima.AdsRequest,this.adsRequest.forceNonLinearFullSlot=!0;var r=/<VASTAdTagURI><!\\[CDATA\\[([^\\]]+doubleclick[^\\]]+)/i;t.vast.match(/<AdSystem>Caroda<\\/AdSystem>/i)&&t.vast.match(r)?this.adsRequest.adTagUrl=t.vast.match(r)[1]:this.adsRequest.adsResponse=t.vast,this.adsRequest.linearAdSlotWidth=t.containerElement.getBoundingClientRect().width,this.adsRequest.linearAdSlotHeight=Math.ceil(9*this.adsRequest.linearAdSlotWidth/16),this.adsRequest.nonLinearAdSlotWidth=this.adsRequest.linearAdSlotWidth,this.adsRequest.nonLinearAdSlotHeight=Math.ceil(this.adsRequest.linearAdSlotHeight/3),t.vastLoadTimeout&&(this.adsRequest.vastLoadTimeout=t.vastLoadTimeout),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(A){return a.initAdsManager(A)},!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.handleEventAs(\"adError\"),!1),this.adsLoader.requestAds(this.adsRequest)}return a(A,[{key:\"startProgressInterval\",value:function(){var A=this;this.progressInterval=setInterval(function(){var e=A.adsManager.getRemainingTime();if(A.currentAd&&A.adsManager&&-1!=e){var t=A.currentAd.getDuration();A.maxRemainingTime=Math.max(A.maxRemainingTime,e),t=Math.max(t,A.maxRemainingTime);var n=Math.max(t-e,0),a=Math.max(0,A.currentAd.getSkipTimeOffset()-n),i=A.currentAd.isSkippable();A.handleEventAs(\"progress\")({currentTime:n,duration:t,skipTimeLeft:a,isSkippable:i}),A.isPlaying&&A.autoResumeEnabled&&A.adsManager.resume()}else A.handleEventAs(\"progress\")({currentTime:0,duration:0,skipTimeLeft:-1,isSkippable:!1})},500)}},{key:\"initAdsManager\",value:function(A){var e=this;try{this.addEventListener(\"adError\",function(){return e.destroy()});var t=new google.ima.AdsRenderingSettings;t.useStyledLinearAds=!1,t.uiElements=[],t.enablePreloading=!0,t.mimeTypes=[\"video/mp4\",\"video/webm\",\"video/ogg\"],/Google Inc/.test(window.navigator.vendor)&&(t.bitrate=this.getBitrateKbps()),this.adsManager=A.getAdsManager(document.createElement(\"video\"),t),this.adDisplayContainer.initialize(),this.adsManager.init(this.adsRequest.linearAdSlotWidth,this.adsRequest.linearAdSlotHeight,google.ima.ViewMode.NORMAL),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.handleEventAs(\"adError\")),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,function(A){e.initAd(A),e.handleEventAs(\"adStarted\")(e.currentAd),e.handleEventAs(\"adPlaying\")()}),this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.handleEventAs(\"adPaused\")),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.handleEventAs(\"adPlaying\")),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,function(A){e.isAdCanPlayCompatibleCreative(A.getAd())||e.notifyAdCanPlay(A.getAd())}),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_CAN_PLAY,function(A){e.isAdCanPlayCompatibleCreative(A.getAd())&&e.notifyAdCanPlay(A.getAd())});var n=this.getNotifyAdEndedOnce();this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,n),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,n),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,n),this.adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_CHANGED,function(){e.handleEventAs(\"volumeChanged\")(e.adsManager.getVolume())}),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,function(A){var t=A.getAdData();t&&t.adError&&e.isVpaid901AdBlockedError(t.adError)&&e.handleEventAs(\"adError\")(t.adError)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,function(){return e.adsManager.resume()}),this.registerTracking(),this.mute()}catch(A){this.handleEventAs(\"adError\")(A);try{this.adsManager.stop()}catch(A){}}}},{key:\"getNotifyAdEndedOnce\",value:function(){var A=this,e=!1;return function(t){e||(A.adsManager.stop(),setTimeout(function(){return A.handleEventAs(\"adEnded\")(t)},0),e=!0)}}},{key:\"unfreeze\",value:function(){this.adsManager&&(this.adsManager.start(),this.hasStarted=!0)}},{key:\"initAd\",value:function(A){this.currentAd=A.getAd(),this.startProgressInterval()}},{key:\"registerTracking\",value:function(){var A=this;e(this.adsManager,\"adsManager not initialized\"),this.hasMuted=!1;var t=!0,n=!1,a=void 0;try{for(var i,s=Object.keys(r)[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=i.value,d=google.ima.AdEvent.Type[o],u=r[o],c=function(e){[\"mute\",\"unmute\"].includes(e)||A.adsManager.addEventListener(d,function(){return A.handleEventAs(\"tracking\")({eventName:e})})},m=!0,h=!1,l=void 0;try{for(var v,g=u[Symbol.iterator]();!(m=(v=g.next()).done);m=!0){c(v.value)}}catch(A){h=!0,l=A}finally{try{!m&&g.return&&g.return()}finally{if(h)throw l}}}}catch(A){n=!0,a=A}finally{try{!t&&s.return&&s.return()}finally{if(n)throw a}}}},{key:\"playAds\",value:function(){this.adsManager&&(this.hasStarted?this.adsManager.resume():this.unfreeze(),this.isPlaying=!0)}},{key:\"pauseAds\",value:function(){this.adsManager&&this.currentAd&&(this.adsManager.pause(),this.isPlaying=!1)}},{key:\"mute\",value:function(){this.setVolume(0)}},{key:\"unmute\",value:function(){this.setVolume(this.lastUnmutedVolume)}},{key:\"setVolume\",value:function(A){this.adsManager&&this.adsManager.setVolume(A),this.lastUnmutedVolume=A>0?A:this.lastUnmutedVolume}},{key:\"getVolume\",value:function(){if(this.adsManager)return this.adsManager.getVolume()}},{key:\"addEventListener\",value:function(A,e){this.eventHandlers[A]=this.eventHandlers[A]||[],this.eventHandlers[A].push(e)}},{key:\"handleEventAs\",value:function(A){var e=this;return function(t){(e.eventHandlers[A]||[]).forEach(function(A){return A(t)})}}},{key:\"notifyAdCanPlay\",value:function(A){var e=this,t=A.getAdId();this.lastAdNotifiedId===t||(this.lastAdNotifiedId=t,setTimeout(function(){return e.handleEventAs(\"adCanPlay\")(A)},300))}},{key:\"destroy\",value:function(){this.adsManager&&this.adsManager.destroy(),clearInterval(this.progressInterval)}},{key:\"getBitrateKbps\",value:function(){var A=this.adsRequest.linearAdSlotWidth*this.adsRequest.linearAdSlotHeight*21*.1,e=Math.floor(A/1e3);return Math.min(e,2e3)}},{key:\"stopAutoResume\",value:function(){this.autoResumeEnabled=!1}},{key:\"isAdCanPlayCompatibleCreative\",value:function(A){var e=\"VPAID\"===A.getApiFramework(),t=JSON.stringify(A.getTraffickingParameters()||\"\").indexOf(\"adsafeprotected\")>=0,n=\"FT\"===A.getAdSystem();return e&&(t||n)}},{key:\"skip\",value:function(){this.adsManager.skip()}},{key:\"isVpaid901AdBlockedError\",value:function(A){var e=A.getErrorCode()===google.ima.AdError.ErrorCode.VPAID_ERROR,t=((A.getInnerError()||new Error(\"\")).message||\"\").toLowerCase().indexOf(\"ad blocked\")>=0;return e&&t}}]),A}();function o(A,e){d(A+\" { \"+function(A){var e=document.createElement(\"span\");return Object.keys(A).forEach(function(t){var n=A[t];\"content\"===t&&(n=\"'\"+n+\"'\"),e.style[t]=\"number\"==typeof n?n+\"px\":n}),e.style.cssText.replace(/;( |$)/g,\" !important; \")}(e)+\" }\"),function(A){return Object.keys(A).filter(function(e){return\"object\"===t(A[e])})}(e).forEach(function(t){o(function(A,e){var t=function(A){return[\"before\",\"after\",\"hover\"].indexOf(A)>=0}(e)?\":\":\".\";return\"\"+A+t+e}(A,t),e[t])})}function d(A){var e=document.createElement(\"style\");e.innerHTML=A,document.head.appendChild(e)}function u(A,e){var t=0;return function(){if(function(A){return Date.now()-A>e}(t))return t=Date.now(),A.apply(void 0,arguments)}}var c=function(){function A(){var e=this;n(this,A),this.canvas=this.createCanvas(),this.frameBitMap=null,new ResizeObserver(function(){e.resizeCanvas()}).observe(document.body)}return a(A,[{key:\"renderVideoFrame\",value:function(A){var e=this;this.canvas.width=A.offsetWidth,this.canvas.height=A.offsetHeight,createImageBitmap(A).then(function(A){e.frameBitMap=A,e.renderFrameBitMap()})}},{key:\"createCanvas\",value:function(){var A=document.createElement(\"canvas\");return A.classList.add(\"caroda-canvas\"),document.body.appendChild(A),A}},{key:\"resizeCanvas\",value:function(){this.frameBitMap&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.renderFrameBitMap())}},{key:\"renderFrameBitMap\",value:function(){var A=this.canvas.width/this.frameBitMap.width,e=this.canvas.height/this.frameBitMap.height,t=Math.min(A,e),n=this.frameBitMap.width*t,a=this.frameBitMap.height*t,i=(this.canvas.width-n)/2,r=(this.canvas.height-a)/2;this.canvas.getContext(\"2d\").drawImage(this.frameBitMap,0,0,this.frameBitMap.width,this.frameBitMap.height,i,r,n,a)}}]),A}(),m={type:\"video/mp4\",base64:\"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\"};function h(){var A=function(){var A=document.createElement(\"video\");return A.setAttribute(\"playsinline\",!0),A.setAttribute(\"src\",\"data:\"+m.type+\";base64,\"+m.base64),A.muted=!1,A.volume=1,A}(),e=A.play();return e?Promise.resolve(e).then(function(){return!0}).catch(function(){return!1}).then(function(e){return A.pause(),e}):(A.pause(),Promise.resolve(!1))}var l=function(){function A(e){var t=this;n(this,A),this.startTime=Date.now();var a=e.language&&e.language.toLowerCase()||\"en\",i=e.instream||!1,r=e.thumbnailUrl;this.language=a,this.instream=i,this.vast=e.vast,this.target=e.target,this.component=new Player({target:e.target,data:this.data}),this.volume=0,this.eventHandlers=[],this.hadImpression=!1,this.adEnded=!1,this.adError=!1,this.userAdPaused=!1,this.vastLoadTimeout=e.vastLoadTimeout,window.$=this.component,this.id=e.id,this.$=this.component,this.$.set({language:a,instream:i,thumbnailUrl:r,isMobile:!!navigator.userAgent.match(/iPhone|iPad|Android/i),hideCarodaUI:!!e.hideCarodaUI,isMuted:this.isMuted(),isPlaying:!1}),this.$.on(\"setVolume\",function(A){return t.setVolume(A)}),this.$.on(\"toggle-audio\",function(){t.$.get(\"isMuted\")?(t.event({type:\"tracking\",eventName:\"unmute\"}),t.unmute()):(t.event({type:\"tracking\",eventName:\"mute\"}),t.mute())}),this.$.on(\"toggle-fullscreen\",function(){t.event({type:t.$.get(\"isFullscreen\")?\"unfullscreen\":\"fullscreen\"})}),this.$.on(\"toggle-play\",function(){t.$.get(\"isPlaying\")?(t.userAdPaused=!0,t.pauseAd()):(t.userAdPaused=!1,t.playAd())}),this.$.on(\"skip\",function(){t.ima.skip()}),e.css&&d(e.css),e.styles&&this.setStyles(e.styles),this.listenToBridgesIframe(),this.initializeIma(),this.listenToChromeHeavyAdIntervention()}return a(A,[{key:\"initializeIma\",value:function(){var A=this,e=0;this.ima=new s({vast:this.vast,language:this.language,containerElement:document.querySelector(\".caroda-ad-container\"),isOutstream:!this.instream,volume:this.volume,vastLoadTimeout:this.vastLoadTimeout}),this.ima.addEventListener(\"tracking\",function(e){var t=e.eventName;A.hadImpression=A.hadImpression||\"impression\"===t}),this.ima.addEventListener(\"adCanPlay\",function(e){A.$.set({showSkipButton:A.isSkippableDoubleVerifyVpaid(e)}),A.event({type:\"adCanPlay\",currentAd:e})}),this.ima.addEventListener(\"adStarted\",function(e){A.$.set({skippable:e.isSkippable()}),A.prepareRenderAlmostLastFrame()}),this.ima.addEventListener(\"adPaused\",function(){return A.notifyPlayStatus(!1)}),this.ima.addEventListener(\"adPlaying\",function(){return A.notifyPlayStatus(!0)}),this.ima.addEventListener(\"tracking\",function(e){return A.event({type:\"tracking\",eventName:e.eventName})}),this.ima.addEventListener(\"progress\",function(t){t.currentTime-=t.duration-A.ima.maxRemainingTime,t.duration=A.ima.maxRemainingTime,t.currentTime<e&&(A.log(\"initializeIma\",\"progress\",\"rewind detected\"),A.end()),e=t.currentTime,A.$.set({progress:t}),A.event({type:\"progress\",duration:t.duration,currentTime:t.currentTime});var n=A.ima.getVolume();if(void 0!==n&&n!==A.volume){A.event({type:\"volumeChanged\",volume:n});var a=0===n;A.$.set({isMuted:a}),A.volume=n,a?A.mute():A.unmute()}}),this.ima.addEventListener(\"adError\",function(e){return A.errorEvent(e.message||e.getError&&e.getError()||e)}),this.ima.addEventListener(\"adEnded\",function(){A.hadImpression?A.end():A.errorEvent(\"no impression\")}),this.ima.addEventListener(\"volumeChanged\",function(e){A.event({type:\"volumeChanged\",volume:e}),A.volume=e}),this.registerMessageHandler(),this.event({type:\"volumeChanged\",volume:this.volume}),this.$.set({isMuted:this.isMuted()})}},{key:\"playingVideoElement\",value:function(){return this._adVideoElement||(this._adVideoElement=[].slice.call(document.querySelectorAll(\"video\")).find(function(A){return A.currentTime>0}))}},{key:\"event\",value:function(A){window.parent.postMessage(this.id+\"://\"+JSON.stringify(A),\"*\")}},{key:\"errorEvent\",value:function(A){this.adError=!0,this.event({type:\"adError\",error:A})}},{key:\"registerMessageHandler\",value:function(){var A=this;window.addEventListener(\"message\",function(e){try{var t=e.data.match(/^([^:]+):\\/\\/(.*)$/),n=JSON.parse(t[2]);A.eventHandlers.filter(function(A){return A.type===n.type}).forEach(function(A){return A.handler(n)})}catch(e){A.log(\"registerMessageHandler\",e)}})}},{key:\"onEvent\",value:function(A,e){this.eventHandlers.push({type:A,handler:e})}},{key:\"playAd\",value:function(){this.ima.playAds()}},{key:\"pauseAd\",value:function(){this.ima.pauseAds()}},{key:\"mute\",value:function(){this.ima.mute(),this.$.set({isMuted:!0})}},{key:\"unmute\",value:function(){this.ima.unmute(),this.$.set({isMuted:!1})}},{key:\"setVolume\",value:function(A){this.ima.setVolume(A),this.$.set({isMuted:0===A})}},{key:\"log\",value:function(){for(var A=arguments.length,e=Array(A),t=0;t<A;t++)e[t]=arguments[t];this.event({type:\"log\",message:(.001*(Date.now()-this.startTime)).toFixed(2)+\"s :: \"+e.map(function(A){if(\"string\"==typeof A)return A;try{return JSON.stringify(A)}catch(e){return A.toString()}}).join(\" :: \")})}},{key:\"end\",value:function(){this.adEnded=!0,this.event({type:\"adEnded\"}),this.ima&&this.ima.destroy()}},{key:\"prepareRenderAlmostLastFrame\",value:function(){var A=this,e=new c;this.ima.addEventListener(\"adEnded\",function(){A.playingVideoElement()||(document.querySelector(\".last-frame-fallback\").style.opacity=\"1\"),document.querySelector(\".caroda-ad-container\").remove()}),this.waitForPlayingVideoElement().then(function(A){A.addEventListener(\"timeupdate\",u(function(){A.duration-A.currentTime<1||e.renderVideoFrame(A)},1e3))})}},{key:\"waitForPlayingVideoElement\",value:function(){var A=this;return new Promise(function(e){var t=setInterval(function(){var n=A.playingVideoElement();n&&(clearInterval(t),e(n))},250)})}},{key:\"setFullscreen\",value:function(A){this.$.set({isFullscreen:A})}},{key:\"listenToChromeHeavyAdIntervention\",value:function(){var A=this;this.log(\"AdController\",\"listenToChromeHeavyAdIntervention\"),window.ReportingObserver&&(new ReportingObserver(function(e,t){var n=e.some(function(A){return\"intervention\"===A.type});A.log(\"AdController\",\"listenToChromeHeavyAdIntervention\",\"reports\",n),n&&A.notifyHeavyAdInterventionToMainFrame()},{buffered:!0}).observe(),window.addEventListener(\"pagehide\",function(){A.adEnded||A.adError||A.event({type:\"adError\",message:\"frame interrupted\"})}))}},{key:\"notifyHeavyAdInterventionToMainFrame\",value:function(){this.event({type:\"heavyAd\"}),this.event({type:\"adError\",message:\"heavy ad reported\"})}},{key:\"notifyPlayStatus\",value:function(A){this.$.set({isPlaying:A}),this.event({type:\"playingStatus\",isPlaying:A})}},{key:\"isMuted\",value:function(){return 0===this.volume}},{key:\"stopAutoResume\",value:function(){this.ima.stopAutoResume()}},{key:\"setStyles\",value:function(A){var e=this;Object.keys(A).forEach(function(t){o(e.getComponentSelector(t),A[t])})}},{key:\"getComponentSelector\",value:function(A){switch(A){case\"root\":return\".caroda-ad-container\";case\"toggleAudio\":return\".caroda-ad-container > div.muted-button\";case\"togglePlayback\":return\".caroda-ad-container > div.toggle-playback-button\";case\"progressBar\":return\".caroda-ad-container > div.progress-bar\";case\"progress\":return\".caroda-ad-container > div.progress-bar .progress\";case\"label\":return\".caroda-ad-container > span.label\";case\"advertisingLabel\":return\".caroda-ad-container > span.advertising-label\";case\"timer\":return\".caroda-ad-container > div.timer\";case\"timerSeparator\":return\".caroda-ad-container > div.timer span.separator\";case\"toggleFullScreen\":return\".caroda-ad-container > .fullscreen-button\";case\"lastFrameFallbackImage\":return\".last-frame-fallback\";case\"skipButton\":return\".fake-skip-button\";default:return\"\"}}},{key:\"listenToBridgesIframe\",value:function(){var A=this;new MutationObserver(function(e,t){var n=e.map(function(A){return A.addedNodes}).reduce(function(A,e){return A.concat(Array.from(e))},[]).filter(function(A){return!!A}).find(function(A){return\"IFRAME\"===A.nodeName&&/imasdk.googleapis.com.*bridge/.test(A.src)});n&&(A.event({type:\"bridgesIframe\",url:n.src}),t.disconnect())}).observe(document,{childList:!0,subtree:!0})}},{key:\"isSkippableDoubleVerifyVpaid\",value:function(A){var e=\"application/javascript\"===A.getContentType(),t=(A.getTraffickingParametersString()||\"\").indexOf(\"doubleverify.com\")>=0;return A.isSkippable()&&e&&t}},{key:\"unfreeze\",value:function(A){var e=this,t=A.userInitiated,n=A.unmute;if(!this.$.get(\"isPlaying\")){if(n&&!t)return h().then(function(A){A?e.unmute():e.mute(),e.ima.unfreeze()});n&&t?this.unmute():this.mute(),this.ima.unfreeze()}}}]),A}();return A.AdController=l,A}({});</script><script>function initController(opts) {\n        window.controller = window.controller || new bundle.AdController(opts)\n    }\n\n    function b64toBlob (b64Data, contentType, sliceSize) {\n        contentType = contentType || '';\n        sliceSize = sliceSize || 512;\n        var byteCharacters = atob(b64Data);\n        var byteArrays = [];\n        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n            var slice = byteCharacters.slice(offset, offset + sliceSize);\n            var byteNumbers = new Array(slice.length);\n            for (var i = 0; i < slice.length; i++) {\n                byteNumbers[i] = slice.charCodeAt(i);\n            }\n            var byteArray = new Uint8Array(byteNumbers);\n            byteArrays.push(byteArray);\n        }\n        var blob = new Blob(byteArrays, { type: contentType });\n        return blob;\n    }\n    var carodaFontB64 = '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'\n    var carodaFontBlob = b64toBlob(carodaFontB64, 'application/x-font-ttf')\n    var carodaFontUrl = window.URL.createObjectURL(carodaFontBlob)\n    var css = '\\\n        @font-face { \\\n            font-family: \"Caroda\"; \\\n            src: url(' + carodaFontUrl + ') format(\"truetype\"); \\\n            font-weight: normal; \\\n            font-style: normal; \\\n        } \\\n    ';\n    var style = document.createElement(\"STYLE\");\n    style.innerHTML = css;\n    document.head.appendChild(style);\n\n    (function(opts) {\n        opts.target = document.querySelector('.player')\n        try {\n            initController(opts)\n            window.addEventListener('message', function(evt) {\n                if (!evt.data.match || !evt.data.match(/^caroda-ad-player:/)) { return }\n                var msg = JSON.parse(evt.data.replace(/^caroda-ad-player:\\/\\//, ''))\n                if (msg.type === 'visibility' && !window.controller.userAdPaused) {\n                    if (msg.value) {\n                        window.controller.playAd()\n                    } else {\n                        window.controller.pauseAd()\n                    }\n                }\n                if (msg.type === 'method') {\n                    window.controller[msg.name].apply(window.controller, msg.args)\n                }\n                if (msg.type === 'end') {\n                    window.controller && window.controller.end()\n                }\n                if (msg.type === 'fullscreen' && window.controller) {\n                    window.controller.setFullscreen(msg.value)\n                }\n            })\n            if (!window.google) {\n                throw new Error('AdBlocker detected')\n            }\n        } catch(e) {\n            window.parent.postMessage(`${opts.id}://${JSON.stringify({\n                type: 'adError',\n                message: e.message\n            })}`, '*')\n        }\n    }) (/* PLAYEROPTS */)</script></body></html>";var exports=window;"use strict";function)/i.test(window.navigator.userAgent)}function isFullscreen(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;return!!e&&(e.classList.contains("caroda-player-ima")||!!e.querySelector(".caroda-player-ima"))}function waitFor(e){return new Promise(function(t){var n=setInterval(function(){e()&&(clearInterval(n),t())})})};var classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function isInViewport(e){if(isFullscreen())return!0;var t=e.getBoundingClientRect();if(!t.width&&!t.height)return!1;var n=getContainingWindow(e),i=n.document;return t.top>=-t.height/2&&t.bottom<=(n.innerHeight||i.documentElement.clientHeight)+t.height/2&&"hidden"!==document.visibilityState}function getContainingWindow(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return t?t.document.contains(e)?t:t.parent===t?null:getContainingWindow(e,t.parent):null}var styleElem=document.createElement("style");styleElem.innerHTML="\n    .caroda-ima-fullscreen {\n        position: absolute !important;\n        top: 0 !important;\n        left: 0 !important;\n        height: 100% !important;\n        width: 100% !important;\n        padding: 0 !important;\n    }\n",document.head.appendChild(styleElem);var PlayerEvents=["tracking","log","adError","adCanPlay","adEnded","unfullscreen","fullscreen","volumeChanged","heavyAd","progress","playingStatus","bridgesIframe"],VastPlayerIma=function(){function e(t){var n=this;classCallCheck(this,e),assert(t,"opts required"),assert(t.vast,"opts.vast required"),assert(t.container,"opts.container required");var i=t.container;delete t.container,this.id=t.id="caroda-container-"+Math.floor(1e6*Math.random()),this.isFrozen=!0,this.hasEnded=!1,this.userAdPaused=!1,this.autoResumeEnabled=!0,this.keepLastFrame=t.keepLastFrame,this.isInViewport=t.isInViewport||isInViewport,this.adControllerInitialized=!1,this.delayedUnfreeze=null,this.instream=t.instream;var s=document.createElement("DIV");s.style.width="100%",s.style.paddingBottom="56.25%",s.style.position="relative",s.className="caroda-player-ima";var a=VAST_PLA JSON.stringify(Object.assign({},t))}),r=document.createElement("IFRAME");setTimeout(function(){var e=r.contentWindow.document;e.open("text/html","replace"),e.write(a),e.close()},0),r.setAttribute("allow","autoplay"),r.setAttribute("border",0),r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.border="0",r.style.paddingTop="0",r.style.paddingBottom="0",r.style.paddingLeft="0",r.style.paddingRight="0";["allowfullscreen","webkitallowfullction(e){return r.setAttribute(e,!0)}),s.appendChild(r),i.appendChild(s),this.iframe=r,this.container=s,this.handlers={},this.trackingUrls={},this.windowEventHandler=function(e){return n.handleWindowEvent(e)},getContainingWindow(this.container).addEventListener("message",this.windowEventHandler),this.addEventListener("adEnded",function(){return n.clear()}),this.addEventListener("adError",function(){n.error=!0,n.clear(!0)}),this.addEventListener("heavyAd",function(){return console.log("CARODA :: skipped ad due to heavy ad restriction")})t.onUnfullscreen&&t.onUnfullscreen()()&&t.onFullscreen&&t.onFullscreen()});var o=void 0;this.duration=new Promise(function(e){o=e}),this.currentTime=NaN,this.countContinousView(),this.addEventListener("progress",function(e){var t=e.duration,i=e.currentTime;t&&o&&(o(t),o=void 0),n.currentTime=i}),this.playing=!1,this.addEventListener("playingStatus",function(e){var t=e.isPlaying;n.playing=t}),this.addEventListener("tracking",function(e){"impression"===e.eventName&&(n.hasImpression=!0,n.autoResumeEnabled=!1,n.sendMessage({type:"method",name:"stopAutoResume",args:[]}))}),this.addEventListener("adCanPlay",function(){n.adControllerInitialized=!0,n.delayedUnfreeze&&n.isVisible()&&n.delayedUnfreeze(),n.visibleInterval=setInterval(function(){n.delayedUnfreeze&&n.isVisible()&&n.delayedUnfreeze(),n.autoRefreshVisibility(),n.refreshFullscreen()},200)}),isMobileSafari()&&var t=e.url;return n.cacheBridges(t)}),this.failAfterTimeout()}return createClass(e,[{key:"getContainer",value:function(){return this.container}},{key:"handleWindowEvent",value:function(e){var t=this;if("string"==typeof e.data&&0===e.data.indexOf(this.id)){var n=JSON.parse(e.data.replace(/^caroda-container-[0-9]+:\/\//,""));if("tracking"===n.type&&(n.trackingUrls=this.trackingUrls[n.eventName]||[],"impression"===n.eventName)){var i=this.instream?2e3:1e3;waitFor(function(){return t.hasEnded||t.continuousViewMs>=i}).then(function(){if(t.stopCountContinousView(),!t.hasEnded){var e=t.handlers[n.type]||[],i=Object.assign({},n,{trackingUrls:t.trackingUrls.viewableImpression||[],eventName:"viewableImpression"});e.forEach(function(e){return e(i)})}})}"trackingEvents"===n.type&&n.values.forEach(function(e){return t.addTrackingUrl(e[0],e[1])}),this.handlers[n.type]&&this.handlers[n.type].forEach(function(e){return e(n)})}}},{key:"refreshFullscreen",value:function(){var e=isFullscreen();this.sendMessage({type:"fullscreen",value:e}),e?this.container.classList.add("caroda-ima-fullscreen"):this.container.classList.remove("caroda-ima-fullscreen")}},{key:"addTrackingUrl",value:function(e,t){this.trackingUrls[e]=this.trackingUrls[e]||[],this.trackingUrls[e].push(t)}},{key:"addEventListener",value:function(e,t){assert(~PlayerEvents.indexOf(e),"eventName must be one of "+PlayerEvents.join(", ")),this.handlers[e]=this.handlers[e]||[],this.handlers[e].push(t)}},{key:"triggerEvent",value:function(e,t){assert(~PlayerEvents.indexOf(e),"eventName must be one of "+PlayerEvents.join(", ")),(this.handlers[e]||[]).forEach(function(e){return e(t)})}},{key:"refreshVisibility",value:function(){this.userAdPaused||this.sendMessage({type:"visibility",value:this.isVisible()})}},{key:"autoRefreshVisibility",value:function(){var e=this.isVisible(),t=e!==this.lastVisible;(!e||t||this.autoResumeEnabled)&&(this.lastVisible=e,this.refreshVisibility())}},{key:"isVisible",value:function(){return!this.isFrozen&&(this.disablePauseWhenOutOfView||this.isInViewport(this.container))}},{key:"sendMessage",value:function(e){this.iframe&&this.iframe.contentWindow&&this.iframe.contentWindow.postMessage("caroda-ad-player://"+JSON.stringify(e),"*")}},{key:"freeze",value:function(){this.isFrozen=!0,this.refreshVisibility()}},{key:"unfreeze",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userInitiated,i=void 0!==n&&n,s=t.unmute,a=void 0!==s&&s;this.isFrozen=!1,this.adControllerInitialized?this.sendMessage({type:"method",name:"unfreeze",args:[{userInitiated:i,unmute:a}]}):this.delayedUnfreeze=function(){e.unfreeze({userInitiated:!1,unmute:a}),e.delayedUnfreeze=null}}},{key:"mute",value:function(){this.sendMessage({type:"method",name:"mute",args:[]})}},{key:"unmute",value:function(){this.sendMessage({type:"method",name:"unmute",args:[]})}},{key:"setVolume",value:function(e){this.sendMessage({type:"method",name:"setVolr","message":"creative rejected"}'})}},{key:"clear",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.hasEnded){clearInterval(this.visibleInterval),this.stopCountContinousView();var n=getContainingWindow(this.container);n&&n.removeEventListener("message",this.windowEventHandler),this.sendMessage({type:"end"}),t&&(this.container.style.display="none"),this.hasEnded=!0,setTimeout(function(){e.keepLastFrame&&e.hasImpression&&!e.error||e.container.parentElement.removeChild(e.container)},1e3)}}},{key:"getAdDuration",value:function(){return this.duration}},{key:"getAdProgress",value:function(){return this.currentTime}},{key:"userAdPlay",value:function(){this.userAdPaused=!1,this.sendMessage({type:"method",name:"playAd",args:[]})}},{key:"userAdPause",value:function(){this.userAdPaused=!0,this.sendMessage({type:"method",name:"pauseAd",args:[]})}},{key:"isPlaying",value:function(){return this.playing}},{key:"cacheBridges",value:function(e){if(!document.getElementById("caroda-ima-bridges-cache")){var t=document.createElement("iframe");t.src=e,t.id="caroda-ima-bridges-cache",t.style.visibility="hidden",t.style.position="absolute",t.style.bottom="0",t.style.left="0",t.style.width="1px",t.style.height="1px",document.body.appendChild(t)}}},{key:"failAfterTimeout",value:function(){var e=this,t=!0,n=function(){return t=!1};this.addEventListener("adCanPlay",n),this.addEventListener("adError",n),setTimeout(function(){t&&e.triggerEvent("adError",{message:"Creative cannot play after 5 seconds"})},5e3)}},{key:"countContinousView",value:function(){var e=this;this.continuousViewMs=0;this.countContinousViewInterval=setInterval(function(){isInViewport(e.iframe)&&e.playing?e.continuousViewMs+=250:e.continuousViewMs=0},250)}val(this.countContinousViewInterval)}}]),e}();exports.VastPlayerIma=VastPlayerIma;
})();(function(){var VAST_PLAYER_SCRIPT="<!doctype html><html><head><title>Vast Vpaid Caroda Ad Loader</title><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><meta content=\"text/html;charset=utf-8\" http-equiv=\"Content-Type\"><style>@font-face{font-family:Caroda;src:url(data:application/x-font-ttf;base64,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) format(\"truetype\");font-weight:400;font-style:normal}body,html{height:100%;margin:0;padding:0;overflow:hidden;font-family:arial,sans-serif;background:rgba(0,0,0,0)!important}.player{width:100%;height:100%;background:rgba(0,0,0,0)!important}*{outline:0}.caroda-ad-container{position:relative;width:100%;height:100%;padding-top:0}.caroda-ad-container>video{position:absolute;top:0;left:0;width:calc(100% + .5px)!important;height:calc(100% + .5px)!important}.caroda-ad-container>div{z-index:1}.caroda-ad-container>div.companion-container{background:#000;pointer-events:none}.caroda-ad-container>div.companion-container .companion{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.caroda-ad-container>div.poster{position:absolute;pointer-events:none;width:100%;height:100%;left:0;top:0}.caroda-ad-container>span.label{position:absolute;left:10px;bottom:10px;color:#eef;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;z-index:1;font-family:arial,sans-serif;font-size:14px}.caroda-ad-container>div.timer{display:none}.caroda-ad-container>div.muted-button{width:30px;height:25px;font-family:Caroda;position:absolute;z-index:10;cursor:pointer}.caroda-ad-container>div.muted-button:before{color:#fff;font-size:24px;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;content:\"\\e905\"}.caroda-ad-container>div.toggle-playback-button{display:none}.caroda-ad-container>div.skip-button{position:absolute;z-index:100000;background:rgba(0,0,0,.8);border:1px solid rgba(255,255,255,.4);font-size:18px;bottom:37px;text-align:center;padding:8px;min-width:88px;color:#ccc;cursor:pointer}.caroda-ad-container>div.skip-button:hover{background:#000;color:#eee;border:1px solid rgba(255,255,255,.8)}.caroda-ad-container>div.skip-button{right:0;border-right:0}.caroda-ad-container>div.skip-button:hover{border-right:0}.caroda-ad-container.mobile>div.skip-button{bottom:15px;padding:5px}.caroda-ad-container.outstream>div.muted-button{left:auto;top:6px;right:2px}.caroda-ad-container.outstream.hide-skip>div.muted-button{top:auto;bottom:10px}.caroda-ad-container.instream>div.muted-button{bottom:11px;right:10px;width:22px;height:17px}.caroda-ad-container.instream>div.muted-button:before{font-size:16px}.caroda-ad-container.instream.skippable>.skip-button{transition:bottom .3s;bottom:40px}.caroda-ad-container.instream>.thumbnail{position:absolute;top:7px;left:10px;width:48px;height:27px;background-color:#000}.caroda-ad-container.instream>.thumbnail>.thumbnail-info{position:absolute;left:56px;top:6px;color:#eef;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;z-index:1;font-family:arial,sans-serif;font-size:12px;width:100vw;max-width:600px}.caroda-ad-container>.fullscreen-button{display:none;width:22px;height:17px;bottom:11px;right:10px;font-family:Caroda;position:absolute;z-index:10;cursor:pointer}.caroda-ad-container>.fullscreen-button:before{color:#fff;font-size:16px;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;content:\"\\e902\"}.caroda-ad-container:not(.muted)>div.muted-button:before{content:\"\\e906\"}.caroda-ad-container.fullscreen>div.muted-button{right:40px}.caroda-ad-container.fullscreen>.fullscreen-button{display:block}.caroda-ad-container>div.progress-bar{background:#5e8791;height:4px;position:absolute;left:0;right:0;bottom:0;top:auto}.caroda-ad-container>div.progress-bar .progress{background:#f5a03e;color:#f5a03e;height:4px;position:absolute;left:0;bottom:0;transition:all .5s linear}.caroda-ad-container>div.progress-bar .progress::before{content:\"\";background:#f5a03e;position:absolute;height:8px;width:8px;top:-2px;right:-4px;border-radius:50%}.caroda-ad-container .bb_wrapper,.caroda-ad-container .bb_wrapper .bb-content-layer,.caroda-ad-container .bb_wrapper .bb-head-layer,.caroda-ad-container .bb_wrapper .bb-timeline-layer{width:100%!important;height:100%!important;left:0!important;top:0!important}.caroda-ad-container .bb_wrapper .bb-controls-layer{display:none!important}.mol-vast-skip-control{display:none}.doubleverify .mol-video-ad-container>div:not([style*=font]),.doubleverify .mol-video-ad-container>div>div:not([style*=font]){width:100%!important;height:100%!important}.no-select{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.last-frame-fallback{position:absolute;top:0;left:0;width:100%;height:100%;background-size:100%;background-position:center;opacity:0;transition:opacity .3s ease-out}</style></head><body><div class=\"last-frame-fallback\"></div><div class=\"player\"></div><script>var omwebCode=\";(function(omidGlobal) {\\n  'use strict';var n;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function p(a){var b='undefined'!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function q(a){if(!(a instanceof Array)){a=p(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var ba='function'==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ca;\\nif('function'==typeof Object.setPrototypeOf)ca=Object.setPrototypeOf;else{var da;a:{var ea={W:!0},fa={};try{fa.__proto__=ea;da=fa.W;break a}catch(a){}da=!1}ca=da?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+' is not extensible');return a}:null}var ha=ca;\\nfunction r(a,b){a.prototype=ba(b.prototype);a.prototype.constructor=a;if(ha)ha(a,b);else for(var c in b)if('prototype'!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c]}function ia(a){a=['object'==typeof window&&window,'object'==typeof self&&self,'object'==typeof global&&global,a];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}return globalThis}\\nvar t=ia(this),v='function'==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};function x(a,b){if(b){var c=t;a=a.split('.');for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&v(c,a,{configurable:!0,writable:!0,value:b})}}x('globalThis',function(a){return a||t});function y(a,b){return Object.prototype.hasOwnProperty.call(a,b)}\\nvar ja='function'==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)y(d,e)&&(a[e]=d[e])}return a};x('Object.assign',function(a){return a||ja});function ka(){ka=function(){};t.Symbol||(t.Symbol=ma)}function na(a,b){this.a=a;v(this,'description',{configurable:!0,writable:!0,value:b})}na.prototype.toString=function(){return this.a};\\nvar ma=function(){function a(c){if(this instanceof a)throw new TypeError('Symbol is not a constructor');return new na('jscomp_symbol_'+(c||'')+'_'+b++,c)}var b=0;return a}();function z(){ka();var a=t.Symbol.iterator;a||(a=t.Symbol.iterator=t.Symbol('Symbol.iterator'));'function'!=typeof Array.prototype[a]&&v(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return oa(aa(this))}});z=function(){}}function oa(a){z();a={next:a};a[t.Symbol.iterator]=function(){return this};return a}\\nx('WeakMap',function(a){function b(h){this.a=(g+=Math.random()+1).toString();if(h){h=p(h);for(var k;!(k=h.next()).done;)k=k.value,this.set(k[0],k[1])}}function c(){}function d(h){var k=typeof h;return'object'===k&&null!==h||'function'===k}function e(h){if(!y(h,l)){var k=new c;v(h,l,{value:k})}}function f(h){var k=Object[h];k&&(Object[h]=function(m){if(m instanceof c)return m;e(m);return k(m)})}if(function(){if(!a||!Object.seal)return!1;try{var h=Object.seal({}),k=Object.seal({}),m=new a([[h,2],[k,\\n3]]);if(2!=m.get(h)||3!=m.get(k))return!1;m.delete(h);m.set(k,4);return!m.has(h)&&4==m.get(k)}catch(u){return!1}}())return a;var l='$jscomp_hidden_'+Math.random();f('freeze');f('preventExtensions');f('seal');var g=0;b.prototype.set=function(h,k){if(!d(h))throw Error('Invalid WeakMap key');e(h);if(!y(h,l))throw Error('WeakMap key fail: '+h);h[l][this.a]=k;return this};b.prototype.get=function(h){return d(h)&&y(h,l)?h[l][this.a]:void 0};b.prototype.has=function(h){return d(h)&&y(h,l)&&y(h[l],this.a)};\\nb.prototype.delete=function(h){return d(h)&&y(h,l)&&y(h[l],this.a)?delete h[l][this.a]:!1};return b});\\nx('Map',function(a){function b(){var g={};return g.D=g.next=g.head=g}function c(g,h){var k=g.a;return oa(function(){if(k){for(;k.head!=g.a;)k=k.D;for(;k.next!=k.head;)return k=k.next,{done:!1,value:h(k)};k=null}return{done:!0,value:void 0}})}function d(g,h){var k=h&&typeof h;'object'==k||'function'==k?f.has(h)?k=f.get(h):(k=''+ ++l,f.set(h,k)):k='p_'+h;var m=g.b[k];if(m&&y(g.b,k))for(g=0;g<m.length;g++){var u=m[g];if(h!==h&&u.key!==u.key||h===u.key)return{id:k,list:m,index:g,o:u}}return{id:k,list:m,\\nindex:-1,o:void 0}}function e(g){this.b={};this.a=b();this.size=0;if(g){g=p(g);for(var h;!(h=g.next()).done;)h=h.value,this.set(h[0],h[1])}}if(function(){if(!a||'function'!=typeof a||!a.prototype.entries||'function'!=typeof Object.seal)return!1;try{var g=Object.seal({x:4}),h=new a(p([[g,'s']]));if('s'!=h.get(g)||1!=h.size||h.get({x:4})||h.set({x:4},'t')!=h||2!=h.size)return!1;var k=h.entries(),m=k.next();if(m.done||m.value[0]!=g||'s'!=m.value[1])return!1;m=k.next();return m.done||4!=m.value[0].x||\\n't'!=m.value[1]||!k.next().done?!1:!0}catch(u){return!1}}())return a;z();var f=new WeakMap;e.prototype.set=function(g,h){g=0===g?0:g;var k=d(this,g);k.list||(k.list=this.b[k.id]=[]);k.o?k.o.value=h:(k.o={next:this.a,D:this.a.D,head:this.a,key:g,value:h},k.list.push(k.o),this.a.D.next=k.o,this.a.D=k.o,this.size++);return this};e.prototype.delete=function(g){g=d(this,g);return g.o&&g.list?(g.list.splice(g.index,1),g.list.length||delete this.b[g.id],g.o.D.next=g.o.next,g.o.next.D=g.o.D,g.o.head=null,\\nthis.size--,!0):!1};e.prototype.clear=function(){this.b={};this.a=this.a.D=b();this.size=0};e.prototype.has=function(g){return!!d(this,g).o};e.prototype.get=function(g){return(g=d(this,g).o)&&g.value};e.prototype.entries=function(){return c(this,function(g){return[g.key,g.value]})};e.prototype.keys=function(){return c(this,function(g){return g.key})};e.prototype.values=function(){return c(this,function(g){return g.value})};e.prototype.forEach=function(g,h){for(var k=this.entries(),m;!(m=k.next()).done;)m=\\nm.value,g.call(h,m[1],m[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var l=0;return e});x('Object.values',function(a){return a?a:function(b){var c=[],d;for(d in b)y(b,d)&&c.push(b[d]);return c}});\\nx('Set',function(a){function b(c){this.a=new Map;if(c){c=p(c);for(var d;!(d=c.next()).done;)this.add(d.value)}this.size=this.a.size}if(function(){if(!a||'function'!=typeof a||!a.prototype.entries||'function'!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),d=new a(p([c]));if(!d.has(c)||1!=d.size||d.add(c)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),f=e.next();if(f.done||f.value[0]!=c||f.value[1]!=c)return!1;f=e.next();return f.done||f.value[0]==c||4!=f.value[0].x||\\nf.value[1]!=f.value[0]?!1:e.next().done}catch(l){return!1}}())return a;z();b.prototype.add=function(c){c=0===c?0:c;this.a.set(c,c);this.size=this.a.size;return this};b.prototype.delete=function(c){c=this.a.delete(c);this.size=this.a.size;return c};b.prototype.clear=function(){this.a.clear();this.size=0};b.prototype.has=function(c){return this.a.has(c)};b.prototype.entries=function(){return this.a.entries()};b.prototype.values=function(){return this.a.values()};b.prototype.keys=b.prototype.values;\\nb.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(c,d){var e=this;this.a.forEach(function(f){return c.call(d,f,f,e)})};return b});x('Object.is',function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});x('Array.prototype.includes',function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});\\nvar A={ga:'loaded',ma:'start',da:'firstQuartile',ha:'midpoint',na:'thirdQuartile',ba:'complete',ia:'pause',ka:'resume',aa:'bufferStart',$:'bufferFinish',la:'skipped',oa:'volumeChange',ja:'playerStateChange',Z:'adUserInteraction'},pa={ea:'full',ca:'domain',fa:'limited'};function B(a,b){this.x=null!=a.x?a.x:a.left;this.y=null!=a.y?a.y:a.top;this.width=a.width;this.height=a.height;this.B=this.x+this.width;this.C=this.y+this.height;this.u=a.u||void 0;this.S=a.S||[];this.b=a.friendlyObstructionClass||void 0;this.c=a.friendlyObstructionPurpose||void 0;this.f=a.friendlyObstructionReason||void 0;this.L=void 0!==a.L?!0===a.L:!0;this.g=void 0!==a.hasWindowFocus?!0===a.hasWindowFocus:!0;this.v=a.v||void 0;this.J=a.J||[];this.M=a.M||!1;this.a=b}\\nfunction qa(a){var b={};return b.width=a.width,b.height=a.height,b}function E(a){var b={};return Object.assign({},qa(a),(b.x=a.x,b.y=a.y,b))}function F(a){var b=E(a),c={};return Object.assign({},b,(c.endX=a.B,c.endY=a.C,c))}B.prototype.O=function(a){if(null==a)return!1;a=E(a);var b=a.y,c=a.width,d=a.height;return this.x===a.x&&this.y===b&&this.width===c&&this.height===d};function G(a){return a.width*a.height}function I(a){return 0===a.width||0===a.height};function ra(a,b){var c=0;if(0<b.length){var d=sa(a,b);a=d.X;d=d.Y;for(var e=0;e<a.length-1;e++)for(var f=(a[e]+(a[e]+1))/2,l=a[e+1]-a[e],g=0;g<d.length-1;g++){for(var h=(d[g]+(d[g]+1))/2,k=d[g+1]-d[g],m=!1,u=0;u<b.length;u++){var w=E(b[u]);if(w.x<f&&w.x+w.width>f&&w.y<h&&w.y+w.height>h){m=!0;break}}m&&(c+=Math.round(l)*Math.round(k))}}return c}\\nfunction sa(a,b){a=E(a);for(var c=[],d=[],e=0;e<b.length;e++){var f=E(b[e]);f=ta(a,f);J(c,f.x);J(c,f.B);J(d,f.y);J(d,f.C)}c=c.sort(function(l,g){return l-g});d=d.sort(function(l,g){return l-g});return{X:c,Y:d}}function ta(a,b){return{x:Math.max(a.x,b.x),y:Math.max(a.y,b.y),B:Math.min(a.x+a.width,b.x+b.width),C:Math.min(a.y+a.height,b.y+b.height)}}function J(a,b){-1===a.indexOf(b)&&a.push(b)};function ua(){this.b=this.a=this.c=this.i=void 0;this.l=0;this.h=[];this.s=[];this.m=0;this.j=[];this.f=[];this.g=[]}ua.prototype.O=function(a){return null==a?!1:JSON.stringify(va(this))===JSON.stringify(va(a))};\\nfunction va(a){var b=[],c=[],d={viewport:a.i,adView:{percentageInView:a.l,pixelsInView:a.m,reasons:a.g},declaredFriendlyObstructions:a.h.length};if(void 0!==a.a){d.adView.geometry=E(a.a);d.adView.geometry.pixels=G(a.a);d.adView.onScreenGeometry=E(a.b);d.adView.onScreenGeometry.pixels=Math.max(0,G(a.b)-ra(a.b,a.f));for(var e=0;e<a.f.length;e++)b.push(E(a.f[e]));for(e=0;e<a.s.length;e++){var f=a.s[e],l=f,g={};l.b&&(g.obstructionClass=l.b);l.c&&(g.obstructionPurpose=l.c);l.f&&(g.obstructionReason=l.f);\\nf=ta(a.a,f);c.push(Object.assign({},{x:f.x,y:f.y,width:f.B-f.x,height:f.C-f.y},g))}d.adView.onScreenGeometry.obstructions=b;d.adView.onScreenGeometry.friendlyObstructions=c}return d}function wa(a,b){b=qa(b);a.i={};a.i.width=b.width;a.i.height=b.height;a.c={};a.c.x=0;a.c.y=0;a.c.width=b.width;a.c.height=b.height;a.c.endX=b.width;a.c.endY=b.height}function xa(){return{x:0,y:0,endX:0,endY:0,width:0,height:0}}\\nfunction ya(a,b){var c={};c.x=Math.max(a.x,b.x);c.y=Math.max(a.y,b.y);c.endX=Math.min(a.endX,b.endX);c.endY=Math.min(a.endY,b.endY);c.width=Math.max(0,c.endX-c.x);c.height=Math.max(0,c.endY-c.y);return c}function za(a,b){return.01<b.width-a.width||.01<b.height-a.height}function Aa(a){if(-1!==a.g.indexOf('backgrounded'))a.l=0,a.m=0;else{var b=G(a.a);if(0!==b){var c=Math.max(0,G(a.b)-ra(a.b,a.f));a.l=Math.round(c/b*100);a.m=c}}}\\nfunction Ba(a,b){if(I(b)||!a.b)b=!1;else{var c=F(a.b),d=c.y,e=c.endX;a=c.endY;var f=b.B;c=c.x;(f=f<c||.01>Math.abs(f-c))||(f=b.x,f=f>e||.01>Math.abs(f-e));(e=f)||(e=b.C,e=e<d||.01>Math.abs(e-d));(d=e)||(b=b.y,d=b>a||.01>Math.abs(b-a));b=!d}return b}function K(a,b){for(var c=!1,d=0;d<a.g.length;d++)a.g[d]===b&&(c=!0);c||a.g.push(b)};function Ca(a,b,c,d){var e=b.M?!0:b.u===d;if(e){c.a=b;var f=F(c.a);a=ya(c.c,f);var l=c.a;'notAttached'===l.v||'noWindowFocus'===l.v||'noAdView'===l.v?(K(c,'notFound'),c.b=new B(xa(),!1)):(l=c.a,'viewInvisible'===l.v||'viewGone'===l.v||'viewNotVisible'===l.v||'viewAlphaZero'===l.v||'viewHidden'===l.v||void 0!==c.a.v||I(c.a)?(K(c,'hidden'),c.b=new B(xa(),!1)):(c.a.g||(K(c,'backgrounded'),K(c,'noWindowFocus')),za(a,f)&&K(c,'clipped'),c.b=new B(a,!1)))}else if(f=!0,b.a&&(f=-1!==b.S.indexOf(d)?!1:!1===\\nb.L),f){l=b.J;for(var g=0;g<l.length;g++)f=void 0!==c.a,Ca(a,new B(l[g],f),c,d)}e||void 0===c.a||(b.a?-1!==b.S.indexOf(d)?c.h.push(b):c.j.push(b):(e=F(b),d=F(c.b),E(c.b),!I(c.b)&&b.L&&(b=ya(d,e),za(b,d)&&(K(c,'clipped'),c.b=new B(b,!1)))))};function Da(a,b){this.y=this.x=0;this.width=a;this.height=b};function Ea(){return{apiVersion:'1.0',accessMode:'limited',environment:'web',omidJsInfo:{omidImplementer:'omsdk',serviceVersion:'1.3.35-iab3515'},adSessionType:'html',supports:['clid','vlid']}}function Fa(){this.u=null;this.c=Ea();this.m=null;this.l='foregrounded';this.i=this.j='none';this.h=this.g=this.f=this.s=this.b=this.a=this.H=this.N=null;this.G=!0;this.F=new Map}var L;function M(){L||(L=new Fa);return L};var N=function(){if('undefined'!==typeof omidGlobal&&omidGlobal)return omidGlobal;if('undefined'!==typeof global&&global)return global;if('undefined'!==typeof window&&window)return window;if('undefined'!==typeof globalThis&&globalThis)return globalThis;var a=Function('return this')();if(a)return a;throw Error('Could not determine global object context.');}();function Ga(a){if(a===N)return!1;try{if('undefined'===typeof a.location.hostname)return!0}catch(b){return!0}return!1}function Ha(){var a=omidGlobal;if(null==a||'undefined'===typeof a.top||null==a.top)return null;try{var b=a.top;return Ga(b)?null:b.location.href}catch(c){return null}};function Ia(a,b){this.a=a;this.b=b}t.Object.defineProperties(Ia.prototype,{event:{configurable:!0,enumerable:!0,get:function(){return this.a}},origin:{configurable:!0,enumerable:!0,get:function(){return this.b}}});function O(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];Ja(function(){throw new (Function.prototype.bind.apply(Error,[null,'Could not complete the test successfully - '].concat(q(b))));},function(){return console.error.apply(console,q(b))})}function Ka(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];Ja(function(){},function(){return console.error.apply(console,q(b))})}\\nfunction Ja(a,b){'undefined'!==typeof jasmine&&jasmine?a():'undefined'!==typeof console&&console&&console.error&&b()};function La(){this.f=[];this.b=[];this.c=[];this.g=[];this.i={};this.a=M()}function Ma(a){a.f=[];a.b=[];a.c=[];a.g=[];a.i={};L.u=null;L.c=Ea();L.m=null;L.R=void 0;L.T=void 0;L.P=null;L.K=null;L.w=null;L.l='foregrounded';L.j='none';L.i='none';L.N=null;L.H=null;L.a=null;L.b=null;L.s=null;L.f=null;L.g=null;L.h=null;L.G=!0;L.F=new Map}function Na(a,b){void 0!==a.a&&a.a.u&&!1!==Oa(a,b)&&a.c.filter(function(c){return c.type===b.event.type}).forEach(function(c){return a.h(c.I,b.event)})}\\nfunction Pa(a,b){a.f.push(b);Na(a,b)}function Qa(a,b,c){void 0!==a.a&&a.a.u&&a.f.filter(function(d){return d.event.type===b&&Oa(a,d)}).map(function(d){return d.event}).forEach(c)}function Oa(a,b){var c=b.event.type,d=-1!==Object.values(A).indexOf(c)&&'volumeChange'!==c;return'impression'===c||'loaded'===c&&a.a.b?b.origin===M().i:d?b.origin===M().j:!0}function Ra(a,b,c){'media'===b||'video'===b?Sa(a,c):(a.c.push({type:b,I:c}),Qa(a,b,c))}\\nfunction Sa(a,b){Object.keys(A).forEach(function(c){c=A[c];a.c.push({type:c,I:b});Qa(a,c,b)})}function Ta(a,b,c,d){var e={V:c,U:d,I:b};a.g.push(e);a.b.forEach(function(f){var l=Ua(f);'sessionStart'===f.event.type&&Va(a,l,e);a.h(b,l)})}function Wa(a,b,c){var d=P(a,'sessionError','native',{errorType:b,message:c});a.b.push(d);a.g.forEach(function(e){a.h(e.I,d.event)})}\\nfunction Xa(a,b){a.i=Object.assign(a.i,b);b=a.a.c;if(void 0!==b){b=Object.assign({},Ya(a,Za(a,{context:b}),!0),{supportsLoadedEvent:!!a.a.b||'video'==a.a.a});Object.assign(b,{pageUrl:Ha(),contentUrl:a.a.m});var c=P(a,'sessionStart','native',b);a.b.push(c);a.g.forEach(function(d){var e=d.I,f=Ua(c);Va(a,f,d);a.h(e,f)},a);$a(a)}}\\nfunction Va(a,b,c){c.V&&(b.data.verificationParameters=a.i[c.V]);c.U&&(c=a.a.F.get(c.U))&&(b.data.verificationParameters=c.verificationParameters,b.data.context.accessMode=c.accessMode,'full'===c.accessMode&&(a.a.g&&(b.data.context.videoElement=a.a.g),a.a.f&&(b.data.context.slotElement=a.a.f)))}function ab(a){var b=a.g,c=P(a,'sessionFinish','native');a.b.push(c);var d=a.a.c;d&&'native'==d.adSessionType||Ma(a);b.forEach(function(e){return a.h(e.I,c.event)})}\\nLa.prototype.h=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];try{a.apply(null,q(c))}catch(e){Ka(e)}};\\nfunction $a(a){var b=a.f.filter(function(f){return Object.values(A).includes(f.event.type)&&'video'==a.a.a&&f.origin===a.a.j||'loaded'==f.event.type&&'display'==a.a.a&&f.origin===a.a.i?!0:!1}).map(function(f){return f.event}),c=a.a.u||'',d={};b=p(b);for(var e=b.next();!e.done;d={A:d.A},e=b.next()){d.A=e.value;d.A.adSessionId||(d.A.adSessionId=c);if('loaded'==d.A.type){if(!a.a.b&&'display'==a.a.a)continue;d.A.data=Ya(a,Za(a,d.A.data))}a.c.filter(function(f){return function(l){return l.type===f.A.type}}(d)).forEach(function(f){return function(l){return l.I(f.A)}}(d))}}\\nfunction bb(a,b){a:{b=new Set(b);a=p(a.f.concat(a.b));for(var c=a.next();!c.done;c=a.next())if(c=c.value,b.has(c.event.type)&&'javascript'!=c.origin){b=!0;break a}b=!1}return b?(O('Event owner cannot be registered after its events have already been published.'),!1):!0}function cb(a){var b=a.a.i;return'none'!=b&&'javascript'!=b?(O('Impression event is owned by '+(a.a.i+', not javascript.')),!1):!0}\\nfunction db(a){var b=a.a.j;return'none'!=b&&'javascript'!=b?(O('Media events are owned by '+(a.a.j+', not javascript.')),!1):!0}function Ya(a,b,c){c=void 0===c?!1:c;b=Object.assign({},b);a.a.a&&Object.assign(b,{mediaType:a.a.a});a.a.b&&(c||'definedByJavaScript'!==a.a.b)&&Object.assign(b,{creativeType:a.a.b});return b}function Za(a,b){return a.a.s?Object.assign({},b,{impressionType:a.a.s}):b}function P(a,b,c,d){return new Ia({adSessionId:a.a.u||'',timestamp:(new Date).getTime(),type:b,data:d},c)}\\nfunction Ua(a){a=a.event;return{adSessionId:a.adSessionId,timestamp:a.timestamp,type:a.type,data:a.data}};function eb(a){return!(!a||!a.tagName||'iframe'!==a.tagName.toLowerCase())};function Q(a,b,c){this.f=a;this.T=b;this.N=c;this.c=M();this.b=null;this.a=this.g=this.F=void 0;this.R=!0;this.l=void 0;fb(this)}function fb(a){if(!a.b){var b;a:{if((b=a.f.document)&&b.getElementsByClassName&&(b=b.getElementsByClassName('omid-element'))){if(1==b.length){b=b[0];break a}1<b.length&&a.R&&(Wa(a.N,'generic',\\\"More than one element with 'omid-element' class name.\\\"),a.R=!1)}b=null}if(b&&b.tagName&&'video'===b.tagName.toLowerCase())a.c.g=b;else if(b&&b.tagName)a.c.f=b;else return;gb(a)}}\\nfunction gb(a){a.c.g?(a.b=a.c.g,a.i()):a.c.f&&(a.b=a.c.f,eb(a.b)?a.c.h&&a.i():a.i())}function hb(a){a.a&&(eb(a.b)?a.c.h&&(a.K(),ib(a)):(a.K(),ib(a)))}Q.prototype.s=function(){this.l&&(this.f.document.removeEventListener('visibilitychange',this.l),this.l=void 0)};Q.prototype.i=function(){var a=this;this.l||(this.l=function(){a.c.l=a.f.document.hidden?'backgrounded':'foregrounded';hb(a)},this.f.document.addEventListener('visibilitychange',this.l))};\\nfunction ib(a){if(a.F){a.c.K=a.F;a=a.T;var b=a.a.K,c=a.a.w;if(b&&!b.O(c)){c=va(b);var d=a.b;'audio'!=d.a.b&&Pa(d,P(d,'geometryChange','native',c));a.a.w=b}}}function jb(a){if(a.a&&a.c.h){var b=new B(a.c.h,!1),c=a.a.x;a=a.a.y;b.x+=c;b.y+=a;b.B+=c;b.C+=a;b.L=!0;return b}};function kb(a,b,c){return lb(a,'setInterval')(b,c)}function mb(a,b){lb(a,'clearInterval')(b)}function nb(a,b){lb(a,'clearTimeout')(b)}function lb(a,b){return a.a&&a.a[b]?a.a[b]:ob(a,b)}\\nfunction pb(a,b,c,d){if(a.a.document&&a.a.document.body){var e=a.a.document.createElement('img');e.width=1;e.height=1;e.style.display='none';e.src=b;c&&e.addEventListener('load',function(){return c()});d&&e.addEventListener('error',function(){return d()});a.a.document.body.appendChild(e)}else ob(a,'sendUrl')(b,c,d)}function ob(a,b){if(a.a&&a.a.omidNative&&a.a.omidNative[b])return a.a.omidNative[b].bind(a.a.omidNative);throw Error('Native interface method \\\"'+b+'\\\" not found.');};function T(a,b,c,d,e){Q.call(this,a,c,e);this.m=b;this.h=void 0;this.j=d}r(T,Q);T.prototype.s=function(){void 0!==this.h&&(mb(this.j,this.h),this.h=void 0);Q.prototype.s.call(this)};T.prototype.i=function(){var a=this;Q.prototype.i.call(this);null==this.b?this.h=void 0:void 0===this.h&&(this.h=kb(this.j,function(){return qb(a)},200),qb(this))};\\nT.prototype.K=function(){if(this.g){var a=jb(this);if(a){this.a.M=!1;a.M=!0;for(var b=!1,c=0;c<this.a.J.length;c++)if(this.a.J[c].M){this.a.J[c]=a;b=!0;break}b||this.a.J.push(a)}else this.a.M=!0;b=this.m;c=this.c.l;var d=this.c.u,e=this.H();a=new ua;var f=new B(this.g,!1);wa(a,f);Ca(b,f,a,d);if(e)if('backgrounded'===c)K(a,'backgrounded');else if(void 0!==a.a){for(b=0;b<a.h.length;b++)Ba(a,a.h[b])&&a.s.push(a.h[b]);for(b=0;b<a.j.length;b++){if(c=Ba(a,a.j[b])){b:{c=a.j[b];for(d=0;d<a.f.length;d++)if(a.f[d].O(c)){c=\\n!0;break b}c=!1}c=!c}c&&(K(a,'obstructed'),a.f.push(a.j[b]))}Aa(a)}else K(a,'notFound');else a.g=['unmeasurable'],a.i=void 0,a.l=0,a.f=[],a.a&&(b=a.a,c={},b=new B((c.x=0,c.y=0,c.width=b.width,c.height=b.height,c),b.a),a.a=b),a.b=xa();this.F=a}};T.prototype.H=function(){return rb(this)};\\nfunction qb(a){if(void 0!==a.h){if(rb(a)){var b=a.f.top;b=new B(new Da(b.innerWidth,b.innerHeight),!1)}else b=new B(new Da(0,0),!1);var c=a.b.getBoundingClientRect();if(null==c.x||isNaN(c.x))c.x=c.left;if(null==c.y||isNaN(c.y))c.y=c.top;c=new B(c,!1);b.O(a.g)&&c.O(a.a)||(a.a=c,a.a.L=!0,a.g=b,a.g.J.push(a.a),hb(a))}}function rb(a){try{var b=a.f.top;return 0<=b.innerHeight&&0<=b.innerWidth}catch(c){}return!1};function U(a,b,c,d){Q.call(this,a,c,d);this.w=this.j=this.m=this.h=void 0;this.P=!1;this.G=void 0}r(U,Q);U.prototype.s=function(){this.h&&this.h.disconnect();sb(this);Q.prototype.s.call(this)};U.prototype.i=function(){Q.prototype.i.call(this);this.b&&(this.h||(this.h=tb(this)),ub(this),vb(this.b)&&wb(this))};\\nU.prototype.K=function(){if(this.a&&this.G){var a=jb(this);if(a){var b=a;var c=this.G;var d=Math.max(a.x,c.x);var e=Math.max(a.y,c.y),f=Math.min(a.B,c.B);a=Math.min(a.C,c.C);f<=d||a<=e?d=null:(c={},d=new B((c.x=d,c.y=e,c.width=Math.abs(f-d),c.height=Math.abs(a-e),c),!1));d||(d=new B({x:0,y:0,width:0,height:0},!1))}else b=this.a,d=this.G;e=new ua;this.g&&wa(e,this.g);(f='backgrounded'==this.c.l)&&K(e,'backgrounded');e.a=b;e.b=d;Aa(e);this.P?!f&&I(e.a)?K(e,'hidden'):f||100===e.l||K(e,'clipped'):K(e,\\n'viewport');this.F=e}};U.prototype.H=function(){return!0};function sb(a){a.m&&(a.m.disconnect(),a.m=void 0);a.j&&(a.j.disconnect(),a.j=void 0);a.w&&((0,a.f.removeEventListener)('resize',a.w),a.w=void 0)}function ub(a){a.h&&a.b&&(a.h.unobserve(a.b),a.h.observe(a.b))}function vb(a){a=a.getBoundingClientRect();return 0==a.width||0==a.height}\\nfunction tb(a){return new a.f.IntersectionObserver(function(b){try{if(b.length){for(var c,d=b[0],e=1;e<b.length;e++)b[e].time>d.time&&(d=b[e]);c=d;a.g=xb(c.rootBounds);a.a=xb(c.boundingClientRect);a.G=xb(c.intersectionRect);a.P=!!c.isIntersecting;hb(a)}}catch(f){a.s(),Wa(a.N,'generic','Problem handling IntersectionObserver callback: '+f.message)}},{root:null,rootMargin:'0px',threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})}\\nfunction wb(a){a.f.ResizeObserver?a.m||(a.m=yb(a,function(){return zb(a)}),a.m.observe(a.b)):(a.w||(a.w=function(){return zb(a)},(0,a.f.addEventListener)('resize',a.w)),a.j||(a.j=new MutationObserver(function(){return zb(a)}),a.j.observe(a.b,{childList:!1,attributes:!0,subtree:!1})))}function zb(a){a.b&&!vb(a.b)&&(ub(a),sb(a))}function yb(a,b){return new a.f.ResizeObserver(b)}function xb(a){if(a&&null!==a.x&&null!==a.y&&null!==a.width&&null!==a.height)return new B(a,!1)};function V(a,b,c,d){this.b=a;this.method=b;this.version=c;this.a=d}function Ab(a){return!!a&&void 0!==a.omid_message_guid&&void 0!==a.omid_message_method&&void 0!==a.omid_message_version&&'string'===typeof a.omid_message_guid&&'string'===typeof a.omid_message_method&&'string'===typeof a.omid_message_version&&(void 0===a.omid_message_args||void 0!==a.omid_message_args)}function Bb(a){return new V(a.omid_message_guid,a.omid_message_method,a.omid_message_version,a.omid_message_args)}\\nfunction Cb(a){var b={};b=(b.omid_message_guid=a.b,b.omid_message_method=a.method,b.omid_message_version=a.version,b);void 0!==a.a&&(b.omid_message_args=a.a);return b};function Eb(a){this.c=a};function W(a){this.c=a;this.handleExportedMessage=W.prototype.f.bind(this)}r(W,Eb);W.prototype.b=function(a,b){b=void 0===b?this.c:b;if(!b)throw Error('Message destination must be defined at construction time or when sending the message.');b.handleExportedMessage(Cb(a),this)};W.prototype.f=function(a,b){Ab(a)&&this.a&&this.a(Bb(a),b)};function Fb(a){return Gb(a,'SessionService.')}function Gb(a,b){return(a=a.match(new RegExp('^'+b+'(.*)')))&&a[1]};function Hb(a){this.b=a}Hb.prototype.a=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];return this.b('SessionService.'+a,this.c.bind(this,a,c),c)};Hb.prototype.c=function(a,b,c){switch(a){case 'registerSessionObserver':a=p(b).next().value,a(c)}};function X(a,b){return a.a.bind(a,b)}\\nfunction Ib(a){var b=void 0===b?N:b;null==b.omidSessionInterface&&(a={setClientInfo:X(a,'setClientInfo'),registerSessionObserver:X(a,'registerSessionObserver'),startAdSession:X(a,'startSession'),finishAdSession:X(a,'finishSession'),reportError:X(a,'sessionError'),registerAdEvents:X(a,'registerAdEvents'),registerMediaEvents:X(a,'registerMediaEvents'),injectVerificationScriptResources:X(a,'injectVerificationScriptResources'),setSlotElement:X(a,'setSlotElement'),setVideoElement:X(a,'setVideoElement'),\\nsetElementBounds:X(a,'setElementBounds'),setCreativeType:X(a,'setCreativeType'),setImpressionType:X(a,'setImpressionType'),setContentUrl:X(a,'setContentUrl'),adEvents:{impressionOccurred:X(a,'impressionOccurred'),loaded:X(a,'loaded')},mediaEvents:{start:X(a,'start'),firstQuartile:X(a,'firstQuartile'),midpoint:X(a,'midpoint'),thirdQuartile:X(a,'thirdQuartile'),complete:X(a,'complete'),pause:X(a,'pause'),resume:X(a,'resume'),bufferStart:X(a,'bufferStart'),bufferFinish:X(a,'bufferFinish'),skipped:X(a,\\n'skipped'),volumeChange:X(a,'volumeChange'),playerStateChange:X(a,'playerStateChange'),adUserInteraction:X(a,'adUserInteraction')}},a.mediaEvents.loaded=a.adEvents.loaded,a.videoEvents=a.mediaEvents,Object.freeze(a),Object.defineProperty(b,'omidSessionInterface',{value:a,writable:!1}))};function Jb(a,b){this.c=b=void 0===b?N:b;var c=this;a.addEventListener('message',function(d){if('object'===typeof d.data){var e=d.data;Ab(e)&&d.source&&c.a&&c.a(Bb(e),d.source)}})}r(Jb,Eb);Jb.prototype.b=function(a,b){b=void 0===b?this.c:b;if(!b)throw Error('Message destination must be defined at construction time or when sending the message.');b.postMessage(Cb(a),'*')};function Kb(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(a){var b=16*Math.random()|0;return'y'===a?(b&3|8).toString(16):b.toString(16)})};function Lb(a){if(!a.a||!a.a.document)throw Error('OMID Service Script is not running within a window.');var b=a.b;a.b=[];b.forEach(function(c){try{var d=a.c.G?'limited':'full',e=c.accessMode,f='string'===typeof e&&-1!==Object.values(pa).indexOf(e)?c.accessMode:null;var l=f?f:d;c.accessMode=l;a:{var g=c.resourceUrl,h=a.a.location.origin;try{var k=new URL(g,h);break a}catch(R){}try{k=new URL(g);break a}catch(R){}k=null}if(d=k){var m=Kb(),u=a.a.document,w=u.createElement('iframe');w.id='omid-verification-script-frame-'+\\nm;w.style.display='none';['full','limited'].includes(l)?w.srcdoc=\\\"<html><head>\\\\n<script type=\\\\\\\"text/javascript\\\\\\\">window['omidVerificationProperties'] = {\\\\n'serviceWindow': window.parent,\\\\n'injectionSource': 'web',\\\\n'injectionId': '\\\"+(m+'\\\\',\\\\n};\\\\x3c/script>\\\\n<script type=\\\"text/javascript\\\" src=\\\"')+d.href+'\\\">\\\\x3c/script>\\\\n</head><body></body></html>':'domain'==l&&(w.src=Mb(a,m,d).href);['domain','limited'].includes(l)&&(w.sandbox='allow-scripts');u.body.appendChild(w);var C=c.vendorKey,H=c.verificationParameters;\\nC=void 0===C?'':C;H=void 0===H?'':H;C&&'string'===typeof C&&''!==C&&H&&'string'===typeof H&&''!==H&&(a.f.i[C]=H);a.c.F.set(m,c)}}catch(R){Ka('OMID verification script '+c.resourceUrl+' failed to load: '+R)}})}\\nfunction Mb(a,b,c){var d='/.well-known/omid/omloader-v1.html#';(new Map([['verificationScriptUrl',c.href],['injectionId',b]])).forEach(function(e,f){d+=encodeURIComponent(f)+'='+encodeURIComponent(e)+'&'});b=null;try{b=new URL(d,a.a.parent.location.origin)}catch(e){throw Error('OMID Service Script cannot access the parent window.');}return b};function Nb(){var a=Ob,b=Pb,c=this;this.c=Y;this.b=a;this.a=M();this.g=b;this.f=!1;this.registerSessionObserver(function(d){return Qb(c,d)})}n=Nb.prototype;n.registerSessionObserver=function(a){Ta(this.c,a)};n.setSlotElement=function(a){a&&a.tagName?(this.a.f=a,this.b&&gb(this.b)):O('setSlotElement called with a non-HTMLElement.  It will be ignored.')};n.setElementBounds=function(a){this.a.h=a;this.b&&gb(this.b);this.b&&hb(this.b)};n.error=function(a,b){Wa(this.c,a,b)};\\nn.registerAdEvents=function(){var a=this.c;bb(a,['impression'])&&cb(a)&&(a.a.i='javascript')};n.registerMediaEvents=function(){var a=this.c;bb(a,Object.values(A))&&db(a)&&(a.a.j='javascript')};\\nfunction Z(a,b,c){if('impression'==b)cb(a.c)&&(b=a.c,c=(c=M().w)?va(c):void 0,c=Ya(b,Za(b,c)),Pa(b,P(b,'impression','javascript',c)),a.b&&fb(a.b));else{if('loaded'==b){var d=c;d=void 0===d?null:d;db(a.c)&&(c=a.c,c.a.b||'display'!=c.a.a)&&(d=P(c,'loaded','javascript',Ya(c,Za(c,void 0===d?null:d))),Pa(c,d))}else if(db(a.c)){d=a.c;'start'!==b&&'volumeChange'!==b||null!=(c&&c.deviceVolume)||(c.deviceVolume=d.a.N);if(c&&('start'===b||'volumeChange'===b)){var e=c.videoPlayerVolume,f=c.mediaPlayerVolume;\\nnull!=e?(Object.assign(c,{mediaPlayerVolume:e}),d.a.H=e):null!=f&&(Object.assign(c,{videoPlayerVolume:f}),d.a.H=f)}Pa(d,P(d,b,'javascript',c))}['loaded','start'].includes(b)&&a.b&&fb(a.b)}}n.injectVerificationScriptResources=function(a){var b=this.g;b.b.push.apply(b.b,q(a));if(this.f)try{Lb(this.g)}catch(c){O(c.message)}};\\nn.setCreativeType=function(a,b){b=void 0===b?null:b;if(!this.a.a||this.a.b)this.a.b=a,'video'==a||'audio'==a?this.a.a='video':'htmlDisplay'==a||'nativeDisplay'==a?this.a.a='display':'definedByJavaScript'==a&&b&&(this.a.a='none'==b?'display':'video')};n.setImpressionType=function(a){if(!this.a.a||this.a.b)this.a.s=a};\\nfunction Qb(a,b){if('sessionStart'===b.type){a.f=!0;try{Lb(a.g)}catch(c){O(c.message)}}'sessionFinish'===b.type&&(a.f=!1,(b=M().c)&&'native'==b.adSessionType||a.registerSessionObserver(function(c){return Qb(a,c)}))}n.setClientInfo=function(a,b,c){var d=this.a.c||{};d.omidJsInfo=Object.assign({},d.omidJsInfo,{sessionClientVersion:a,partnerName:b,partnerVersion:c});this.a.c=d;return this.a.c.omidJsInfo.serviceVersion};function Rb(a){return/\\\\d+\\\\.\\\\d+\\\\.\\\\d+(-.*)?/.test(a)}function Sb(a){a=a.split('-')[0].split('.');for(var b=['1','0','3'],c=0;3>c;c++){var d=parseInt(a[c],10),e=parseInt(b[c],10);if(d>e)break;else if(d<e)return!1}return!0};function Tb(a,b){return Rb(a)&&Sb(a)?b?b:[]:b&&'string'===typeof b?JSON.parse(b):[]};var Ub=new function(){};function Vb(){var a=Wb,b=this;var c=void 0===c?omidGlobal:c;this.a=a;this.g=c;this.b=new W;this.g.omid=this.g.omid||{};this.g.omid.v1_SessionServiceCommunication=this.b;this.f=c&&c.addEventListener&&c.postMessage?new Jb(c):null;this.c=null;this.b.a=this.h.bind(this);this.f&&(this.f.a=this.i.bind(this));this.j=new Hb(function(d,e,f){try{Xb(b,d,e,f)}catch(l){O(Yb(l))}});Ib(this.j)}Vb.prototype.h=function(a,b){null!=Fb(a.method)&&Zb(this,Ub)&&$b(this,a,b,this.b)};\\nVb.prototype.i=function(a,b){null!=Fb(a.method)&&Zb(this,b)&&$b(this,a,b,this.f)};function Zb(a,b){a.c||(a.c=b);return a.c!=b?(O('The source of session client messages cannot be changed from the source of the first message.'),!1):!0}function $b(a,b,c,d){function e(h){for(var k=[],m=0;m<arguments.length;++m)k[m]=arguments[m];k=new V(f,'response',g,Rb(g)&&Sb(g)?k:JSON.stringify(k));d.b(k,c)}var f=b.b,l=b.method,g=b.version;b=Tb(g,b.a);try{Xb(a,l,e,b)}catch(h){d.b(new V(f,'error',g,Yb(h)),c)}}\\nfunction Xb(a,b,c,d){if(null!=Fb(b))switch(Fb(b)){case 'registerAdEvents':a.a.registerAdEvents();break;case 'registerMediaEvents':a.a.registerMediaEvents();break;case 'registerSessionObserver':a.a.registerSessionObserver(c);break;case 'setSlotElement':var e=p(d).next().value;a.a.setSlotElement(e);break;case 'setVideoElement':e=p(d).next().value;a=a.a;e&&e.tagName&&'video'===e.tagName.toLowerCase()?(a.a.g=e,a.b&&gb(a.b)):O('setVideoElement called with a non-HTMLVideoElement. It will be ignored.');\\nbreak;case 'setElementBounds':e=p(d).next().value;a.a.setElementBounds(e);break;case 'startSession':c=p(d).next().value;null!=c&&'object'===typeof c?(b=c.customReferenceData,c=c.underEvaluation,'string'===typeof b||(b=void 0),'boolean'===typeof c||(c=!1),c={customReferenceData:b,underEvaluation:c}):c=null;if(null==c)break;a=a.a;b=c;var f;e=void 0===e?null:e;null==f&&(f=Kb());b.canMeasureVisibility=a.b.H();a.a.u=f;c=a.a;b=f=b;void 0!==b.contentUrl&&(c.m=b.contentUrl,b.contentUrl=void 0);b=c.c||{};\\nf.omidJsInfo=Object.assign({},b.omidJsInfo||{},f.omidJsInfo||{});b=f=Object.assign({},b,f);c.G||(null!=c.g?(b.videoElement=c.g,b.accessMode='full'):null!=c.f&&(b.slotElement=c.f,b.accessMode='full'));c.c=f;Xa(a.c,e);a.b&&fb(a.b);break;case 'finishSession':a=a.a;ab(a.c);a.b.s();break;case 'impressionOccurred':Z(a.a,'impression');break;case 'loaded':(e=p(d).next().value)?(c={skippable:e.isSkippable,autoPlay:e.isAutoPlay,position:e.position},e.isSkippable&&(c.skipOffset=e.skipOffset),Z(a.a,'loaded',\\nc)):Z(a.a,'loaded');break;case 'start':c=p(d);e=c.next().value;c=c.next().value;Z(a.a,'start',{duration:e,mediaPlayerVolume:c});break;case 'firstQuartile':Z(a.a,'firstQuartile');break;case 'midpoint':Z(a.a,'midpoint');break;case 'thirdQuartile':Z(a.a,'thirdQuartile');break;case 'complete':Z(a.a,'complete');break;case 'pause':Z(a.a,'pause');break;case 'resume':Z(a.a,'resume');break;case 'bufferStart':Z(a.a,'bufferStart');break;case 'bufferFinish':Z(a.a,'bufferFinish');break;case 'skipped':Z(a.a,'skipped');\\nbreak;case 'volumeChange':e={mediaPlayerVolume:p(d).next().value};Z(a.a,'volumeChange',e);break;case 'playerStateChange':e={state:p(d).next().value};Z(a.a,'playerStateChange',e);break;case 'adUserInteraction':e={interactionType:p(d).next().value};Z(a.a,'adUserInteraction',e);break;case 'setClientInfo':b=p(d);e=b.next().value;f=b.next().value;b=b.next().value;a=a.a.setClientInfo(e,f,b);c(a);break;case 'injectVerificationScriptResources':e=p(d).next().value;a.a.injectVerificationScriptResources(e);\\nbreak;case 'setCreativeType':e=p(d).next().value;a.a.setCreativeType(e);break;case 'setImpressionType':e=p(d).next().value;a.a.setImpressionType(e);break;case 'setContentUrl':e=p(d).next().value;a.a.a.m=e;break;case 'sessionError':c=p(d),e=c.next().value,c=c.next().value,a.a.error(e,c)}}\\nfunction Yb(a){return'\\\\n        name: '+a.name+'\\\\n        message: '+a.message+'\\\\n        filename: '+a.filename+'\\\\n        lineNumber: '+a.lineNumber+'\\\\n        columnNumber: '+a.columnNumber+'\\\\n        stack: '+a.stack+'\\\\n        toString(): '+a.toString()};function ac(){var a=Y,b=bc;var c=void 0===c?N:c;this.g=a;this.a=b;this.h={};this.f={};this.c=new W;c.omid=c.omid||{};c.omid.v1_VerificationServiceCommunication=this.c;this.b=null;c&&c.addEventListener&&c.postMessage&&(this.b=new Jb(c));this.c.a=this.i.bind(this);this.b&&(this.b.a=this.j.bind(this))}function cc(a,b,c,d){pb(a.a,b,c,d)}function dc(a,b,c,d){ob(a.a,'downloadJavaScriptResource')(b,c,d)}ac.prototype.j=function(a,b){this.b&&ec(this,a,b,this.b)};ac.prototype.i=function(a,b){ec(this,a,b,this.c)};\\nfunction ec(a,b,c,d){function e(D){for(var S=[],la=0;la<arguments.length;++la)S[la]=arguments[la];S=new V(f,'response',g,Rb(g)&&Sb(g)?S:JSON.stringify(S));d.b(S,c)}var f=b.b,l=b.method,g=b.version;b=Tb(g,b.a);if(null!=Gb(l,'VerificationService.')){l=Gb(l,'VerificationService.');try{switch(l){case 'addEventListener':var h=p(b).next().value;Ra(a.g,h,e);break;case 'addSessionListener':var k=p(b),m=k.next().value,u=k.next().value;Ta(a.g,e,m,u);break;case 'sendUrl':var w=p(b).next().value;cc(a,w,function(){return e(!0)},\\nfunction(){return e(!1)});break;case 'setTimeout':var C=p(b),H=C.next().value,R=C.next().value;a.h[H]=lb(a.a,'setTimeout')(e,R);break;case 'clearTimeout':var jc=p(b).next().value;nb(a.a,a.h[jc]);break;case 'setInterval':var Db=p(b),kc=Db.next().value,lc=Db.next().value;a.f[kc]=kb(a.a,e,lc);break;case 'clearInterval':var mc=p(b).next().value;mb(a.a,a.f[mc]);break;case 'injectJavaScriptResource':var nc=p(b).next().value;dc(a,nc,function(D){return e(!0,D)},function(){return e(!1)});break;case 'getVersion':p(b).next();\\nvar oc=M().c.omidJsInfo;e(oc.serviceVersion)}}catch(D){d.b(new V(f,'error',g,'\\\\n              name: '+D.name+'\\\\n              message: '+D.message+'\\\\n              filename: '+D.filename+'\\\\n              lineNumber: '+D.lineNumber+'\\\\n              columnNumber: '+D.columnNumber+'\\\\n              stack: '+D.stack+'\\\\n              toString(): '+D.toString()+'\\\\n          '),c)}}};function fc(){var a=N.document.createElement('iframe');a.id='omid_v1_present';a.name='omid_v1_present';a.style.display='none';N.document.body.appendChild(a)}function gc(){var a=new MutationObserver(function(b){b.forEach(function(c){'BODY'===c.addedNodes[0].nodeName&&(fc(),a.disconnect())})});a.observe(N.document.documentElement,{childList:!0})};var Y=new La,bc=new function(){var a;this.a=a=void 0===a?omidGlobal:a};new ac;var hc=new function(){},ic=new function(){},pc=new function(){this.b=Y;this.a=M()},qc;N?qc=N.IntersectionObserver&&(N.MutationObserver||N.ResizeObserver)?new U(N,hc,pc,Y):new T(N,ic,pc,bc,Y):qc=null;var Ob=qc,Pb=new function(){var a=Y;var b=void 0===b?N:b;this.f=a;this.a=b;this.c=M();this.b=[]},Wb=new Nb;M();new Vb;\\nif(N.frames&&N.document&&!('omid_v1_present'in N.frames)){var rc;if(rc=null==N.document.body)rc='MutationObserver'in N;rc?gc():N.document.body?fc():N.document.write('<iframe style=\\\"display:none\\\" id=\\\"omid_v1_present\\\" name=\\\"omid_v1_present\\\"></iframe>')};\\n}).call(this, this);\\n\\n\",script=document.createElement(\"script\"),blob=new Blob([omwebCode],{type:\"application/javascript\"});script.src=window.URL.createObjectURL(blob),document.head.appendChild(script),function(n,e,a){if(\"object\"==typeof a&&\"string\"!=typeof a.nodeName)e(n,a);else{var i,a={},t=[\"1.3.35-iab3515\"],r=\"default\";for(i in t.push(r),e(n,a),a)a.hasOwnProperty(i)&&(null==Object.getOwnPropertyDescriptor(n,i)&&Object.defineProperty(n,i,{value:{}}),t.forEach(function(e){var t;null==Object.getOwnPropertyDescriptor(n[i],e)&&(t=function e(t){for(var n in t)t.hasOwnProperty(n)&&(t[n]=e(t[n]));return Object.freeze(t)}(a[i]),Object.defineProperty(n[i],e,{get:function(){return t},enumerable:!0}))}))}}(\"undefined\"==typeof global?this:global,function(t,a){\"use strict\";var n,c=c||{},i=(c.scope={},c.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},c.arrayIterator=function(e){return{next:c.arrayIteratorImpl(e)}},c.makeIterator=function(e){var t=\"undefined\"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):c.arrayIterator(e)},c.arrayFromIterator=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n},c.arrayFromIterable=function(e){return e instanceof Array?e:c.arrayFromIterator(c.makeIterator(e))},c.ASSUME_ES5=!1,c.ASSUME_NO_NATIVE_MAP=!1,c.ASSUME_NO_NATIVE_SET=!1,c.SIMPLE_FROUND_POLYFILL=!1,c.objectCreate=c.ASSUME_ES5||\"function\"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t},c.underscoreProtoCanBeSet=function(){var e={};try{return e.__proto__={a:!0},e.a}catch(e){}return!1},c.setPrototypeOf=\"function\"==typeof Object.setPrototypeOf?Object.setPrototypeOf:c.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+\" is not extensible\");return e}:null,c.inherits=function(e,t){if(e.prototype=c.objectCreate(t.prototype),e.prototype.constructor=e,c.setPrototypeOf){var n=c.setPrototypeOf;n(e,t)}else for(n in t){var a;\"prototype\"!=n&&(Object.defineProperties?(a=Object.getOwnPropertyDescriptor(t,n))&&Object.defineProperty(e,n,a):e[n]=t[n])}e.superClass_=t.prototype},c.defineProperty=c.ASSUME_ES5||\"function\"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},c.getGlobal=function(e){e=[\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof global&&global,e];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}return globalThis},c.global=c.getGlobal(this),c.SYMBOL_PREFIX=\"jscomp_symbol_\",c.initSymbol=function(){c.initSymbol=function(){},c.global.Symbol||(c.global.Symbol=c.Symbol)},c.SymbolClass=function(e,t){this.$jscomp$symbol$id_=e,c.defineProperty(this,\"description\",{configurable:!0,writable:!0,value:t})},c.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_},c.Symbol=(n=0,function e(t){if(this instanceof e)throw new TypeError(\"Symbol is not a constructor\");return new c.SymbolClass(c.SYMBOL_PREFIX+(t||\"\")+\"_\"+n++,t)}),c.initSymbolIterator=function(){c.initSymbol();var e=(e=c.global.Symbol.iterator)||(c.global.Symbol.iterator=c.global.Symbol(\"Symbol.iterator\"));\"function\"!=typeof Array.prototype[e]&&c.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return c.iteratorPrototype(c.arrayIteratorImpl(this))}}),c.initSymbolIterator=function(){}},c.initSymbolAsyncIterator=function(){c.initSymbol();c.global.Symbol.asyncIterator||(c.global.Symbol.asyncIterator=c.global.Symbol(\"Symbol.asyncIterator\"));c.initSymbolAsyncIterator=function(){}},c.iteratorPrototype=function(e){return c.initSymbolIterator(),(e={next:e})[c.global.Symbol.iterator]=function(){return this},e},c.iteratorFromArray=function(t,n){c.initSymbolIterator(),t instanceof String&&(t+=\"\");var a=0,i={next:function(){var e;return a<t.length?(e=a++,{value:n(e,t[e]),done:!1}):(i.next=function(){return{done:!0,value:void 0}},i.next())}};return i[Symbol.iterator]=function(){return i},i},c.polyfill=function(e,t,n,a){if(t){for(n=c.global,e=e.split(\".\"),a=0;a<e.length-1;a++){var i=e[a];i in n||(n[i]={}),n=n[i]}(t=t(a=n[e=e[e.length-1]]))!=a&&null!=t&&c.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},c.checkEs6ConformanceViaProxy=function(){try{var a={},i=Object.create(new c.global.Proxy(a,{get:function(e,t,n){return e==a&&\"q\"==t&&n==i}}));return!0===i.q}catch(e){return!1}},c.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,c.ES6_CONFORMANCE=c.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&c.checkEs6ConformanceViaProxy(),c.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.polyfill(\"WeakMap\",function(a){function n(){}function i(e){var t=typeof e;return\"object\"==t&&null!==e||\"function\"==t}function r(e){var t;c.owns(e,o)||(t=new n,c.defineProperty(e,o,{value:t}))}function e(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(r(e),t(e))})}if(c.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&c.ES6_CONFORMANCE)return a}else if(function(){if(a&&Object.seal)try{var e=Object.seal({}),t=Object.seal({}),n=new a([[e,2],[t,3]]);return 2==n.get(e)&&3==n.get(t)?(n.delete(e),n.set(t,4),!n.has(e)&&4==n.get(t)):void 0}catch(e){}}())return a;function t(e){if(this.id_=(s+=Math.random()+1).toString(),e){e=c.makeIterator(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}var o=\"$jscomp_hidden_\"+Math.random(),s=(e(\"freeze\"),e(\"preventExtensions\"),e(\"seal\"),0);return t.prototype.set=function(e,t){if(!i(e))throw Error(\"Invalid WeakMap key\");if(r(e),c.owns(e,o))return e[o][this.id_]=t,this;throw Error(\"WeakMap key fail: \"+e)},t.prototype.get=function(e){return i(e)&&c.owns(e,o)?e[o][this.id_]:void 0},t.prototype.has=function(e){return i(e)&&c.owns(e,o)&&c.owns(e[o],this.id_)},t.prototype.delete=function(e){return!!(i(e)&&c.owns(e,o)&&c.owns(e[o],this.id_))&&delete e[o][this.id_]},t},\"es6\",\"es3\"),c.MapEntry=function(){},c.polyfill(\"Map\",function(i){if(c.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(i&&c.ES6_CONFORMANCE)return i}else if(function(){if(!c.ASSUME_NO_NATIVE_MAP&&i&&\"function\"==typeof i&&i.prototype.entries&&\"function\"==typeof Object.seal)try{var e,t,n=Object.seal({x:4}),a=new i(c.makeIterator([[n,\"s\"]]));return\"s\"!=a.get(n)||1!=a.size||a.get({x:4})||a.set({x:4},\"t\")!=a||2!=a.size?void 0:(t=(e=a.entries()).next()).done||t.value[0]!=n||\"s\"!=t.value[1]?void 0:!((t=e.next()).done||4!=t.value[0].x||\"t\"!=t.value[1]||!e.next().done)}catch(e){}}())return i;c.initSymbolIterator();function e(e){if(this.data_={},this.head_=n(),this.size=0,e){e=c.makeIterator(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}var r=new WeakMap,a=(e.prototype.set=function(e,t){var n=a(this,e=0===e?0:e);return n.list||(n.list=this.data_[n.id]=[]),n.entry?n.entry.value=t:(n.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:t},n.list.push(n.entry),this.head_.previous.next=n.entry,this.head_.previous=n.entry,this.size++),this},e.prototype.delete=function(e){return!(!(e=a(this,e)).entry||!e.list||(e.list.splice(e.index,1),e.list.length||delete this.data_[e.id],e.entry.previous.next=e.entry.next,e.entry.next.previous=e.entry.previous,e.entry.head=null,this.size--,0))},e.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=n(),this.size=0},e.prototype.has=function(e){return!!a(this,e).entry},e.prototype.get=function(e){return(e=a(this,e).entry)&&e.value},e.prototype.entries=function(){return t(this,function(e){return[e.key,e.value]})},e.prototype.keys=function(){return t(this,function(e){return e.key})},e.prototype.values=function(){return t(this,function(e){return e.value})},e.prototype.forEach=function(e,t){for(var n,a=this.entries();!(n=a.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},e.prototype[Symbol.iterator]=e.prototype.entries,function(e,t){var n=t&&typeof t,a=(\"object\"==n||\"function\"==n?r.has(t)?n=r.get(t):(n=\"\"+ ++o,r.set(t,n)):n=\"p_\"+t,e.data_[n]);if(a&&c.owns(e.data_,n))for(e=0;e<a.length;e++){var i=a[e];if(t!=t&&i.key!=i.key||t===i.key)return{id:n,list:a,index:e,entry:i}}return{id:n,list:a,index:-1,entry:void 0}}),t=function(e,t){var n=e.head_;return c.iteratorPrototype(function(){if(n){for(;n.head!=e.head_;)n=n.previous;if(n.next!=n.head)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}})},n=function(){var e={};return e.previous=e.next=e.head=e},o=0;return e},\"es6\",\"es3\"),{AdEventType:{IMPRESSION:\"impression\",LOADED:\"loaded\",GEOMETRY_CHANGE:\"geometryChange\",SESSION_START:\"sessionStart\",SESSION_ERROR:\"sessionError\",SESSION_FINISH:\"sessionFinish\",MEDIA:\"media\",VIDEO:\"video\",START:\"start\",FIRST_QUARTILE:\"firstQuartile\",MIDPOINT:\"midpoint\",THIRD_QUARTILE:\"thirdQuartile\",COMPLETE:\"complete\",PAUSE:\"pause\",RESUME:\"resume\",BUFFER_START:\"bufferStart\",BUFFER_FINISH:\"bufferFinish\",SKIPPED:\"skipped\",VOLUME_CHANGE:\"volumeChange\",PLAYER_STATE_CHANGE:\"playerStateChange\",AD_USER_INTERACTION:\"adUserInteraction\",STATE_CHANGE:\"stateChange\"},MediaEventType:{LOADED:\"loaded\",START:\"start\",FIRST_QUARTILE:\"firstQuartile\",MIDPOINT:\"midpoint\",THIRD_QUARTILE:\"thirdQuartile\",COMPLETE:\"complete\",PAUSE:\"pause\",RESUME:\"resume\",BUFFER_START:\"bufferStart\",BUFFER_FINISH:\"bufferFinish\",SKIPPED:\"skipped\",VOLUME_CHANGE:\"volumeChange\",PLAYER_STATE_CHANGE:\"playerStateChange\",AD_USER_INTERACTION:\"adUserInteraction\"},ImpressionType:{DEFINED_BY_JAVASCRIPT:\"definedByJavaScript\",UNSPECIFIED:\"unspecified\",LOADED:\"loaded\",BEGIN_TO_RENDER:\"beginToRender\",ONE_PIXEL:\"onePixel\",VIEWABLE:\"viewable\",AUDIBLE:\"audible\",OTHER:\"other\"},ErrorType:{GENERIC:\"generic\",VIDEO:\"video\",MEDIA:\"media\"},AdSessionType:{NATIVE:\"native\",HTML:\"html\",JAVASCRIPT:\"javascript\"},EventOwner:{NATIVE:\"native\",JAVASCRIPT:\"javascript\",NONE:\"none\"},AccessMode:{FULL:\"full\",DOMAIN:\"domain\",LIMITED:\"limited\"},AppState:{BACKGROUNDED:\"backgrounded\",FOREGROUNDED:\"foregrounded\"},Environment:{APP:\"app\",WEB:\"web\"},InteractionType:{CLICK:\"click\",INVITATION_ACCEPT:\"invitationAccept\"},CreativeType:{DEFINED_BY_JAVASCRIPT:\"definedByJavaScript\",HTML_DISPLAY:\"htmlDisplay\",NATIVE_DISPLAY:\"nativeDisplay\",VIDEO:\"video\",AUDIO:\"audio\"},MediaType:{DISPLAY:\"display\",VIDEO:\"video\"},Reason:{NOT_FOUND:\"notFound\",HIDDEN:\"hidden\",BACKGROUNDED:\"backgrounded\",VIEWPORT:\"viewport\",OBSTRUCTED:\"obstructed\",CLIPPED:\"clipped\",UNMEASURABLE:\"unmeasurable\",NO_WINDOW_FOCUS:\"noWindowFocus\"},SupportedFeatures:{CONTAINER:\"clid\",VIDEO:\"vlid\"},VideoPosition:{PREROLL:\"preroll\",MIDROLL:\"midroll\",POSTROLL:\"postroll\",STANDALONE:\"standalone\"},VideoPlayerState:{MINIMIZED:\"minimized\",COLLAPSED:\"collapsed\",NORMAL:\"normal\",EXPANDED:\"expanded\",FULLSCREEN:\"fullscreen\"},NativeViewKeys:{X:\"x\",LEFT:\"left\",Y:\"y\",TOP:\"top\",WIDTH:\"width\",HEIGHT:\"height\",AD_SESSION_ID:\"adSessionId\",IS_FRIENDLY_OBSTRUCTION_FOR:\"isFriendlyObstructionFor\",CLIPS_TO_BOUNDS:\"clipsToBounds\",CHILD_VIEWS:\"childViews\",END_X:\"endX\",END_Y:\"endY\",OBSTRUCTIONS:\"obstructions\",OBSTRUCTION_CLASS:\"obstructionClass\",OBSTRUCTION_PURPOSE:\"obstructionPurpose\",OBSTRUCTION_REASON:\"obstructionReason\",PIXELS:\"pixels\",HAS_WINDOW_FOCUS:\"hasWindowFocus\"},MeasurementStateChangeSource:{CONTAINER:\"container\",CREATIVE:\"creative\"},ElementMarkup:{OMID_ELEMENT_CLASS_NAME:\"omid-element\"},CommunicationType:{NONE:\"NONE\",DIRECT:\"DIRECT\",POST_MESSAGE:\"POST_MESSAGE\"},OmidImplementer:{OMSDK:\"omsdk\"}}),r=\"omid_message_guid\",o=\"omid_message_method\",s=\"omid_message_version\",d=\"omid_message_args\",u=function(e,t,n,a){this.guid=e,this.method=t,this.version=n,this.args=a},f=(u.isValidSerializedMessage=function(e){return!!e&&void 0!==e[r]&&void 0!==e[o]&&void 0!==e[s]&&\"string\"==typeof e[r]&&\"string\"==typeof e[o]&&\"string\"==typeof e[s]&&(void 0===e[d]||void 0!==e[d])},u.deserialize=function(e){return new u(e[r],e[o],e[s],e[d])},u.prototype.serialize=function(){var e={};return e[r]=this.guid,e[o]=this.method,e[s]=this.version,void 0!==this.args&&(e[d]=this.args),e},function(e){this.to=e,this.communicationType_=i.CommunicationType.NONE});f.prototype.sendMessage=function(e,t){},f.prototype.handleMessage=function(e,t){this.onMessage&&this.onMessage(e,t)},f.prototype.serialize=function(e){return JSON.stringify(e)},f.prototype.deserialize=function(e){return JSON.parse(e)},f.prototype.isDirectCommunication=function(){return this.communicationType_===i.CommunicationType.DIRECT},f.prototype.isCrossOrigin=function(){};function l(e,t){if(!t)throw Error(\"Value for \"+e+\" is undefined, null or blank.\");if(\"string\"!=typeof t&&!(t instanceof String))throw Error(\"Value for \"+e+\" is not a string.\");if(\"\"===t.trim())throw Error(\"Value for \"+e+\" is empty string.\")}function b(e,t){if(null==t)throw Error(\"Value for \"+e+\" is undefined or null\")}function h(e,t){if(null==t)throw Error(e+\" must not be null or undefined.\");if(\"number\"!=typeof t||isNaN(t))throw Error(\"Value for \"+e+\" is not a number\")}function p(e,t,n,a){if(h(e,t),t<n||a<t)throw Error(\"Value for \"+e+\" is outside the range [\"+n+\",\"+a+\"]\")}function V(e,t){return e&&(e[t]||(e[t]={}))}function e(e,t,n){(n=void 0===n?void 0===a?null:a:n)&&((e=e.split(\".\")).slice(0,e.length-1).reduce(V,n)[e[e.length-1]]=t)}function v(e,t,n,a){a=void 0===a?i.AccessMode.FULL:a,l(\"VerificationScriptResource.resourceUrl\",e),this.resourceUrl=e,this.vendorKey=t,this.verificationParameters=n,this.accessMode=a}function m(e,t,n,a){n=void 0===n?null:n,a=void 0===a?null:a,b(\"Context.partner\",e),this.partner=e,this.verificationScriptResources=t,this.videoElement=this.slotElement=null,this.contentUrl=n,this.customReferenceData=a,this.underEvaluation=!1,this.serviceWindow=null}e(\"OmidSessionClient.Partner\",function(e,t){l(\"Partner.name\",e),l(\"Partner.version\",t),this.name=e,this.version=t}),v.prototype.toJSON=function(){return{accessMode:this.accessMode,resourceUrl:this.resourceUrl,vendorKey:this.vendorKey,verificationParameters:this.verificationParameters}},e(\"OmidSessionClient.VerificationScriptResource\",v);m.prototype.setVideoElement=function(e){b(\"Context.videoElement\",e),this.videoElement=e},m.prototype.setSlotElement=function(e){b(\"Context.slotElement\",e),this.slotElement=e},m.prototype.setServiceWindow=function(e){b(\"Context.serviceWindow\",e),this.serviceWindow=e},e(\"OmidSessionClient.Context\",m);var y={};y.omidGlobal=function(){if(void 0!==t&&t)return t;if(\"undefined\"!=typeof global&&global)return global;if(\"undefined\"!=typeof window&&window)return window;if(\"undefined\"!=typeof globalThis&&globalThis)return globalThis;var e=Function(\"return this\")();if(e)return e;throw Error(\"Could not determine global object context.\")}();var g={ROOT:\"omidSessionInterface\",AD_EVENTS:\"adEvents\",MEDIA_EVENTS:\"mediaEvents\"},E={sessionError:\"reportError\"},D=Object.keys(i.MediaEventType).map(function(e){return i.MediaEventType[e]}),L=[\"impressionOccurred\"],S=function(e){e=void 0===e?y.omidGlobal:e,this.interfaceRoot_=e[g.ROOT]};S.prototype.isSupported=function(){return null!=this.interfaceRoot_},S.prototype.sendMessage=function(e,t,n){if(\"registerSessionObserver\"==e&&(n=[t]),t=this.interfaceRoot_,0<=L.indexOf(e=E[e]?E[e]:e)&&(t=t[g.AD_EVENTS]),!(t=(t=0<=D.indexOf(e)?t[g.MEDIA_EVENTS]:t)[e]))throw Error(\"Unrecognized method name: \"+e+\".\");t.apply(null,c.arrayFromIterable(n))};function O(e){for(var t=[],n=0;n<arguments.length;++n)t[+n]=arguments[n];F(function(){throw new(Function.prototype.bind.apply(Error,[null,\"Could not complete the test successfully - \"].concat(c.arrayFromIterable(t))))},function(){console.error.apply(console,c.arrayFromIterable(t))})}function F(e,t){\"undefined\"!=typeof jasmine&&jasmine?e():\"undefined\"!=typeof console&&console&&console.error&&t()}var U=3;function _(e){return/\\d+\\.\\d+\\.\\d+(-.*)?/.test(e)}function w(e,t){e=e.split(\"-\")[0].split(\".\"),t=t.split(\"-\")[0].split(\".\");for(var n=0;n<U;n++){var a=parseInt(e[n],10),i=parseInt(t[n],10);if(i<a)break;if(a<i)return!1}return!0}var I=\"1.0.3\";function B(e,t){return _(e)&&w(e,I)?t:JSON.stringify(t)}function W(e,t){return _(e)&&w(e,I)?t||[]:t&&\"string\"==typeof t?JSON.parse(t):[]}function G(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return e=(\"y\"===e?3&t|8:t).toString(16)})}var z={SESSION_SERVICE:\"SessionService.\",VERIFICATION_SERVICE:\"VerificationService.\"};function J(e){return X(e,z.SESSION_SERVICE)}function X(e,t){return t+e}function x(e){return null!=e&&void 0!==e.top&&null!=e.top}function M(e){var t;if(e!==y.omidGlobal)try{if(void 0===e.location.hostname)return!0;\"\"!==(t=e).x&&t.x}catch(e){return!0}return!1}function Y(e){return x(e=void 0===e&&\"undefined\"!=typeof window&&window?window:e)?e:y.omidGlobal}function H(e){return x(e)?e.top:y.omidGlobal}var C=function(e){f.call(this,e),this.communicationType_=i.CommunicationType.DIRECT,this.handleExportedMessage=C.prototype.handleExportedMessage.bind(this)},T=(c.inherits(C,f),C.prototype.sendMessage=function(e,t){if(!(t=void 0===t?this.to:t))throw Error(\"Message destination must be defined at construction time or when sending the message.\");t.handleExportedMessage(e.serialize(),this)},C.prototype.handleExportedMessage=function(e,t){u.isValidSerializedMessage(e)&&this.handleMessage(u.deserialize(e),t)},C.prototype.isCrossOrigin=function(){return!1},function(e,t){t=void 0===t?y.omidGlobal:t,f.call(this,t);var n=this;this.communicationType_=i.CommunicationType.POST_MESSAGE,e.addEventListener(\"message\",function(e){var t;\"object\"==typeof e.data&&(t=e.data,u.isValidSerializedMessage(t))&&(t=u.deserialize(t),e.source)&&n.handleMessage(t,e.source)})}),N=(c.inherits(T,f),T.isCompatibleContext=function(e){return!!(e&&e.addEventListener&&e.postMessage)},T.prototype.sendMessage=function(e,t){if(!(t=void 0===t?this.to:t))throw Error(\"Message destination must be defined at construction time or when sending the message.\");t.postMessage(e.serialize(),\"*\")},T.prototype.isCrossOrigin=function(){return!this.to||M(this.to)},{OMID_PRESENT_FRAME_NAME:\"omid_v1_present\",isOmidPresent:function(e){try{return!!e.frames&&!!e.frames[N.OMID_PRESENT_FRAME_NAME]}catch(e){return!1}},declareOmidPresence:function(e){e.frames&&e.document&&(N.OMID_PRESENT_FRAME_NAME in e.frames||(null==e.document.body&&N.isMutationObserverAvailable_(e)?N.registerMutationObserver_(e):e.document.body?N.appendPresenceIframe_(e):e.document.write('<iframe style=\"display:none\" id=\"'+N.OMID_PRESENT_FRAME_NAME+'\" name=\"'+N.OMID_PRESENT_FRAME_NAME+'\"></iframe>')))},appendPresenceIframe_:function(e){var t=e.document.createElement(\"iframe\");t.id=N.OMID_PRESENT_FRAME_NAME,t.name=N.OMID_PRESENT_FRAME_NAME,t.style.display=\"none\",e.document.body.appendChild(t)},isMutationObserverAvailable_:function(e){return\"MutationObserver\"in e},registerMutationObserver_:function(t){var n=new MutationObserver(function(e){e.forEach(function(e){\"BODY\"===e.addedNodes[0].nodeName&&(N.appendPresenceIframe_(t),n.disconnect())})});n.observe(t.document.documentElement,{childList:!0})}}),K=[\"omid\",\"v1_SessionServiceCommunication\"];function Q(e,t){return t.reduce(function(e,t){return e&&e[t]},e)}function Z(e,t,n,a){for(var i=(t=c.makeIterator(t)).next();!i.done;i=t.next())if(i=function(e,t,n,a){if(!M(t))try{var i=Q(t,n);if(i)return new C(i)}catch(e){}return a(t)?new T(e,t):null}(e,i.value,n,a))return i;return null}function $(e,t,n){n=void 0===n?N.isOmidPresent:n;var a=[e,H(e)];return t&&a.unshift(t),Z(e,a,K,n)}function A(e,t,n){b(\"AdSession.context\",e),this.context_=e,this.impressionOccurred_=!1;var a=this.context_.serviceWindow||void 0;this.communication_=t||$(Y(),a),this.sessionInterface_=n||new S,this.isSessionRunning_=this.hasMediaEvents_=this.hasAdEvents_=!1,this.impressionType_=this.creativeType_=null,this.creativeLoaded_=!1,this.callbackMap_={},this.communication_&&(this.communication_.onMessage=this.handleInternalMessage_.bind(this)),this.setClientInfo_(),this.injectVerificationScripts_(e.verificationScriptResources),this.sendSlotElement_(e.slotElement),this.sendVideoElement_(e.videoElement),this.sendContentUrl_(e.contentUrl),this.watchSessionEvents_()}function q(e,t,n,a){this.isSkippable=e,this.skipOffset=t,this.isAutoPlay=n,this.position=a}function k(e){b(\"AdEvents.adSession\",e);try{e.registerAdEvents(),this.adSession=e}catch(e){throw Error(\"AdSession already has an ad events instance registered\")}}function R(e){b(\"MediaEvents.adSession\",e);try{e.registerMediaEvents(),this.adSession=e}catch(e){throw Error(\"AdSession already has a media events instance registered\")}}var j=\"1.3.35-iab3515\",P=(A.prototype.setCreativeType=function(e){if(e===i.CreativeType.DEFINED_BY_JAVASCRIPT)throw Error(\"Creative type cannot be redefined with value \"+i.CreativeType.DEFINED_BY_JAVASCRIPT);if(this.impressionOccurred_)throw Error(\"Impression has already occurred\");if(this.creativeLoaded_)throw Error(\"Creative has already loaded\");if(this.creativeType_&&this.creativeType_!==i.CreativeType.DEFINED_BY_JAVASCRIPT)throw Error(\"Creative type cannot be redefined\");if(void 0===this.creativeType_)throw Error(\"Native integration is using OMID 1.2 or earlier\");this.sendOneWayMessage(\"setCreativeType\",e),this.creativeType_=e},A.prototype.setImpressionType=function(e){if(e===i.ImpressionType.DEFINED_BY_JAVASCRIPT)throw Error(\"Impression type cannot be redefined with value \"+i.ImpressionType.DEFINED_BY_JAVASCRIPT);if(this.impressionOccurred_)throw Error(\"Impression has already occurred\");if(this.creativeLoaded_)throw Error(\"Creative has already loaded\");if(this.impressionType_&&this.impressionType_!==i.ImpressionType.DEFINED_BY_JAVASCRIPT)throw Error(\"Impression type cannot be redefined\");if(void 0===this.impressionType_)throw Error(\"Native integration is using OMID 1.2 or earlier\");this.sendOneWayMessage(\"setImpressionType\",e),this.impressionType_=e},A.prototype.isSupported=function(){return!!this.communication_||this.sessionInterface_.isSupported()},A.prototype.isSendingElementsSupported_=function(){return this.communication_?this.communication_.isDirectCommunication():this.sessionInterface_.isSupported()},A.prototype.registerSessionObserver=function(e){this.sendMessage(\"registerSessionObserver\",e)},A.prototype.start=function(){this.sendOneWayMessage(\"startSession\",{customReferenceData:this.context_.customReferenceData,underEvaluation:this.context_.underEvaluation})},A.prototype.finish=function(){this.sendOneWayMessage(\"finishSession\")},A.prototype.error=function(e,t){this.sendOneWayMessage(\"sessionError\",e,t)},A.prototype.registerAdEvents=function(){if(this.hasAdEvents_)throw Error(\"AdEvents already registered.\");this.hasAdEvents_=!0,this.sendOneWayMessage(\"registerAdEvents\")},A.prototype.registerMediaEvents=function(){if(this.hasMediaEvents_)throw Error(\"MediaEvents already registered.\");this.hasMediaEvents_=!0,this.sendOneWayMessage(\"registerMediaEvents\")},A.prototype.sendOneWayMessage=function(e,t){for(var n=[],a=1;a<arguments.length;++a)n[a-1]=arguments[a];this.sendMessage.apply(this,[e,null].concat(c.arrayFromIterable(n)))},A.prototype.sendMessage=function(e,t,n){for(var a=[],i=2;i<arguments.length;++i)a[i-2]=arguments[i];this.communication_?this.sendInternalMessage_(e,t,a):this.sessionInterface_.isSupported()&&this.sendInterfaceMessage_(e,t,a)},A.prototype.sendInternalMessage_=function(e,t,n){var a=G();t&&(this.callbackMap_[a]=t),e=new u(a,J(e),j,B(j,n)),this.communication_.sendMessage(e)},A.prototype.handleInternalMessage_=function(e,t){t=e.method;var n,a=e.guid;e=e.args,\"response\"===t&&this.callbackMap_[a]&&(n=W(j,e),this.callbackMap_[a].apply(this,n)),\"error\"===t&&window.console&&O(e)},A.prototype.sendInterfaceMessage_=function(e,t,n){try{this.sessionInterface_.sendMessage(e,t,n)}catch(e){O(\"Failed to communicate with SessionInterface with error:\"),O(e)}},A.prototype.assertSessionRunning=function(){if(!this.isSessionRunning_)throw Error(\"Session not started.\")},A.prototype.impressionOccurred=function(){if(this.creativeType_===i.CreativeType.DEFINED_BY_JAVASCRIPT)throw Error(\"Creative type has not been redefined\");if(this.impressionType_===i.ImpressionType.DEFINED_BY_JAVASCRIPT)throw Error(\"Impression type has not been redefined\");this.impressionOccurred_=!0},A.prototype.creativeLoaded=function(){if(this.creativeType_===i.CreativeType.DEFINED_BY_JAVASCRIPT)throw Error(\"Creative type has not been redefined\");if(this.impressionType_===i.ImpressionType.DEFINED_BY_JAVASCRIPT)throw Error(\"Impression type has not been redefined\");this.creativeLoaded_=!0},A.prototype.setClientInfo_=function(){this.sendOneWayMessage(\"setClientInfo\",j,this.context_.partner.name,this.context_.partner.version)},A.prototype.injectVerificationScripts_=function(e){e&&(e=e.map(function(e){return e.toJSON()}),this.sendOneWayMessage(\"injectVerificationScriptResources\",e))},A.prototype.sendSlotElement_=function(e){this.sendElement_(e,\"setSlotElement\")},A.prototype.sendVideoElement_=function(e){this.sendElement_(e,\"setVideoElement\")},A.prototype.sendElement_=function(e,t){e&&(this.isSendingElementsSupported_()?this.sendOneWayMessage(t,e):this.error(i.ErrorType.GENERIC,\"Session Client \"+t+\" called when communication is cross-origin\"))},A.prototype.sendContentUrl_=function(e){e&&this.sendOneWayMessage(\"setContentUrl\",e)},A.prototype.setElementBounds=function(e){b(\"AdSession.elementBounds\",e),this.sendOneWayMessage(\"setElementBounds\",e)},A.prototype.watchSessionEvents_=function(){var t=this;this.registerSessionObserver(function(e){e.type===i.AdEventType.SESSION_START&&(t.isSessionRunning_=!0,t.creativeType_=e.data.creativeType,t.impressionType_=e.data.impressionType),e.type===i.AdEventType.SESSION_FINISH&&(t.isSessionRunning_=!1)})},e(\"OmidSessionClient.AdSession\",A),q.prototype.toJSON=function(){return{isSkippable:this.isSkippable,skipOffset:this.skipOffset,isAutoPlay:this.isAutoPlay,position:this.position}},k.prototype.impressionOccurred=function(){this.adSession.assertSessionRunning(),this.adSession.impressionOccurred(),this.adSession.sendOneWayMessage(\"impressionOccurred\")},k.prototype.loaded=function(e){e=void 0===e?null:e,this.adSession.creativeLoaded(),e?this.adSession.sendOneWayMessage(\"loaded\",e.toJSON()):this.adSession.sendOneWayMessage(\"loaded\")},e(\"OmidSessionClient.AdEvents\",k),R.prototype.start=function(e,t){h(\"MediaEvents.start.duration\",e),p(\"MediaEvents.start.mediaPlayerVolume\",t,0,1),this.adSession.sendOneWayMessage(\"start\",e,t)},R.prototype.firstQuartile=function(){this.adSession.sendOneWayMessage(\"firstQuartile\")},R.prototype.midpoint=function(){this.adSession.sendOneWayMessage(\"midpoint\")},R.prototype.thirdQuartile=function(){this.adSession.sendOneWayMessage(\"thirdQuartile\")},R.prototype.complete=function(){this.adSession.sendOneWayMessage(\"complete\")},R.prototype.pause=function(){this.adSession.sendOneWayMessage(\"pause\")},R.prototype.resume=function(){this.adSession.sendOneWayMessage(\"resume\")},R.prototype.bufferStart=function(){this.adSession.sendOneWayMessage(\"bufferStart\")},R.prototype.bufferFinish=function(){this.adSession.sendOneWayMessage(\"bufferFinish\")},R.prototype.skipped=function(){this.adSession.sendOneWayMessage(\"skipped\")},R.prototype.volumeChange=function(e){p(\"MediaEvents.volumeChange.mediaPlayerVolume\",e,0,1),this.adSession.sendOneWayMessage(\"volumeChange\",e)},R.prototype.playerStateChange=function(e){b(\"MediaEvents.playerStateChange.playerState\",e),this.adSession.sendOneWayMessage(\"playerStateChange\",e)},R.prototype.adUserInteraction=function(e){b(\"MediaEvents.adUserInteraction.interactionType\",e),this.adSession.sendOneWayMessage(\"adUserInteraction\",e)},e(\"OmidSessionClient.MediaEvents\",R),e(\"OmidSessionClient.OmidVersion\",function(e,t){l(\"OmidVersion.semanticVersion\",e),l(\"OmidVersion.apiLevel\",t)}),e(\"OmidSessionClient.VastProperties\",q),{VerificationVendorId:{OTHER:1,MOAT:2,DOUBLEVERIFY:3,INTEGRAL_AD_SCIENCE:4,PIXELATE:5,NIELSEN:6,COMSCORE:7,MEETRICS:8,GOOGLE:9}});function ee(e){for(var t=c.makeIterator(te.keys()),n=t.next();!n.done;n=t.next())for(var n=n.value,a=c.makeIterator(te.get(n)),i=a.next();!i.done;i=a.next())if(i.value.test(e))return n;return P.VerificationVendorId.OTHER}var te=new Map([[P.VerificationVendorId.MOAT,[/^(https?:\\/\\/|\\/\\/)?[-a-zA-Z0-9.]+\\.moatads\\.com\\/.*$/]],[P.VerificationVendorId.DOUBLEVERIFY,[/^(https?:\\/\\/|\\/\\/)?[-a-zA-Z0-9.]+\\.doubleverify\\.com\\/.*$/]],[P.VerificationVendorId.INTEGRAL_AD_SCIENCE,[/^(https?:\\/\\/|\\/\\/)?[-a-zA-Z0-9.]+\\.adsafeprotected\\.com\\/.*$/]],[P.VerificationVendorId.PIXELATE,[/^https?:\\/\\/(q|cdn)\\.adrta\\.com\\/s\\/.*\\/(aa|aanf)\\.js.*$/,/^https:\\/\\/cdn\\.rta247\\.com\\/s\\/.*\\/(aa|aanf)\\.js.*$/]],[P.VerificationVendorId.NIELSEN,[]],[P.VerificationVendorId.COMSCORE,[/^(https?:\\/\\/|\\/\\/)?[-a-zA-Z0-9.]+\\.voicefive\\.com\\/.*$/,/^(https?:\\/\\/|\\/\\/)?[-a-zA-Z0-9.]+\\.measuread\\.com\\/.*$/,/^(https?:\\/\\/|\\/\\/)?[-a-zA-Z0-9.]+\\.scorecardresearch\\.com\\/.*$/]],[P.VerificationVendorId.MEETRICS,[/^(https?:\\/\\/|\\/\\/)?s418\\.mxcdn\\.net\\/bb-serve\\/omid-meetrics.*\\.js$/]],[P.VerificationVendorId.GOOGLE,[/^(https?:\\/\\/|\\/\\/)?pagead2\\.googlesyndication\\.com\\/.*$/,/^(https?:\\/\\/|\\/\\/)?www\\.googletagservices\\.com\\/.*$/]]]);e(\"OmidSessionClient.verificationVendorIdForScriptUrl\",ee),e(\"OmidSessionClient.VerificationVendorId\",P.VerificationVendorId),P.verificationVendorIdForScriptUrl=ee},\"undefined\"==typeof exports?void 0:exports);;function noop(){}function assign(e,t){for(var n in t)e[n]=t[n];return e}function appendNode(e,t){t.appendChild(e)}function insertNode(e,t,n){t.insertBefore(e,n)}function detachNode(e){e.parentNode.removeChild(e)}function createElement(e){return document.createElement(e)}function createText(e){return document.createTextNode(e)}function createComment(){return document.createComment(\"\")}function addListener(e,t,n){e.addEventListener(t,n,!1)}function removeListener(e,t,n){e.removeEventListener(t,n,!1)}function setAttribute(e,t,n){e.setAttribute(t,n)}function setStyle(e,t,n){e.style.setProperty(t,n)}function blankObject(){return Object.create(null)}function destroy(e){this.destroy=noop,this.fire(\"destroy\"),this.set=this.get=noop,!1!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function _differs(e,t){return e!=e?t==t:e!==t||e&&\"object\"==typeof e||\"function\"==typeof e}function fire(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var r=0;r<n.length;r+=1){var i=n[r];i.__calling||(i.__calling=!0,i.call(this,t),i.__calling=!1)}}function get(e){return e?this._state[e]:this._state}function init(e,t){e._handlers=blankObject(),e._bind=t._bind,e.options=t,e.root=t.root||e,e.store=e.root.store||t.store}function observe(e,t,n){var r=t.bind(this);return n&&!1===n.init||r(this.get()[e],void 0),this.on(n&&n.defer?\"update\":\"state\",function(t){t.changed[e]&&r(t.current[e],t.previous&&t.previous[e])})}function on(e,t){if(\"teardown\"===e)return this.on(\"destroy\",t);var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function set(e){this._set(assign({},e)),this.root._lock||(this.root._lock=!0,callAll(this.root._beforecreate),callAll(this.root._oncreate),callAll(this.root._aftercreate),this.root._lock=!1)}function _set(e){var t=this._state,n={},r=!1;for(var i in e)this._differs(e[i],t[i])&&(n[i]=r=!0);r&&(this._state=assign(assign({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire(\"state\",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire(\"update\",{changed:n,current:this._state,previous:t})))}function callAll(e){for(;e&&e.length;)e.shift()()}function _mount(e,t){this._fragment[this._fragment.i?\"i\":\"m\"](e,t||null)}function _unmount(){this._fragment&&this._fragment.u()}var proto={destroy:destroy,get:get,fire:fire,observe:observe,on:on,set:set,teardown:destroy,_recompute:noop,_set:_set,_mount:_mount,_unmount:_unmount,_differs:_differs};function progressWidth(e){return(100*e.currentTime/e.duration).toFixed(2)+\"%\"}function progressLabel(e,t,n){var r=e.duration-e.currentTime;if(r<=0)return\"\";if(isNaN(r))return\"\";var i=Math.floor(r/60),o=Math.floor(r)%60;return i+\":\"+(o>9?\"\":\"0\")+o}function skipCounterLabel(e,t,n){return t[n].skipCounter.replace(/#/g,Math.ceil(e.skipTimeLeft))}function timerCurrentTime(e){if(isNaN(e.currentTime))return\"0:00\";var t=Math.floor(e.currentTime/60),n=Math.floor(e.currentTime%60);return t+\":\"+String(n).padStart(2,\"0\")}function timerDuration(e){if(isNaN(e.duration))return\"0:00\";var t=Math.floor(e.duration/60),n=Math.floor(e.duration%60);return t+\":\"+String(n).padStart(2,\"0\")}function data(){return{time:Date.now(),progress:{hideSkipButton:!1,currentTime:0,duration:0,skipTimeLeft:0,isSkippable:!1},hideControls:!1,isMobile:!1,isMuted:!0,isLoading:!0,isPlaying:!1,companionContent:null,companionWidth:0,companionHeight:0,poster:null,strings:{en:{advertising:\"Advertising\",learn:\"Learn More\",skip:\"Skip Ad\",skipCounter:\"You can skip this ad in #\",instreamContinue:\"The video will continue after the ad\"},cs:{advertising:\"Reklama\",learn:decodeURIComponent(\"Zjistit%20v%C3%ADce\"),skip:decodeURIComponent(\"P%C5%99esko%C4%8Dit\"),skipCounter:decodeURIComponent(\"P%C5%99esko%C4%8Dit%20za%20%23\"),instreamContinue:decodeURIComponent(\"Video%20bude%20pokra%C4%8Dovat%20po%20reklam%C4%9B\")},sk:{advertising:\"Reklama\",learn:decodeURIComponent(\"Zisti%20viac\"),skip:decodeURIComponent(\"Presko%C4%8D%20reklamu\"),skipCounter:decodeURIComponent(\"M%C3%B4%C5%BEete%20presko%C4%8Di%C5%A5%20reklamu%20za%20%23\"),instreamContinue:decodeURIComponent(\"Video%20bude%20pokra%C4%8Dova%C5%A5%20po%20reklame\")},fr:{advertising:decodeURIComponent(\"Publicit%C3%A9\"),learn:decodeURIComponent(\"En%20savoir%20plus\"),skip:decodeURIComponent(\"Ignorer%20l%27annonce%0A\"),skipCounter:decodeURIComponent(\"Vous%20pouvez%20ignorer%20cette%20annonce%20dans%20%23\"),instreamContinue:decodeURIComponent(\"La%20vid%C3%A9o%20reprendra%20apr%C3%A8s%20l%27annonce\")},pl:{advertising:\"Reklama\",learn:decodeURIComponent(\"Dowiedz%20si%C4%99%20wi%C4%99cej\"),skip:decodeURIComponent(\"Pomi%C5%84%20reklam%C4%99\"),skipCounter:decodeURIComponent(\"Mo%C5%BCesz%20pomin%C4%85%C4%87%20t%C4%99%20reklam%C4%99%20w%20%23\"),instreamContinue:decodeURIComponent(\"Wideo%20b%C4%99dzie%20kontynuowane%20po%20reklamie\")},es:{advertising:\"Publicidad\",learn:decodeURIComponent(\"M%C3%A1s%20informaci%C3%B3n\"),skip:decodeURIComponent(\"Saltar%20anuncio\"),skipCounter:decodeURIComponent(\"Puedes%20saltar%20este%20anuncio%20en%20%23\"),instreamContinue:decodeURIComponent(\"El%20v%C3%ADdeo%20continuar%C3%A1%20despu%C3%A9s%20de%20la%20publicidad\")}},language:\"en\",hideCarodaUI:!1}}function oncreate(){var e=this;this.interval=setInterval(function(){return e.set({time:Date.now()})},500)}function create_main_fragment(e,t){var n,r,i,o,a,s,c,d=t.poster&&create_if_block(e,t),u=!t.hideControls&&create_if_block_1(e,t);return{c:function(){n=createElement(\"div\"),r=createElement(\"video\"),i=createText(\"\\n    \"),o=createElement(\"div\"),a=createText(\"\\n    \"),d&&d.c(),s=createText(\"\\n    \"),u&&u.c(),this.h()},h:function(){r.id=\"caroda-video\",r.autoplay=!0,setAttribute(r,\"playsinline\",!0),r.muted=!0,r.preload=\"auto\",o.id=\"caroda-slot\",n.className=c=\"caroda-ad-container\\n    \"+(t.isMobile?\"mobile\":\"\")+\"\\n    \"+(t.isDoubleVerify?\"doubleverify\":\"\")+\"\\n    \"+(t.progress.hideSkipButton?\"hide-skip\":\"\")+\"\\n    \"+(t.isMuted?\"muted\":\"\")+\"\\n    \"+(t.instream?\"instream\":\"outstream\")+\"\\n    \"+(t.isFullscreen?\"fullscreen\":\"\")+\"\\n    \"+(!t.progress.hideSkipButton&&t.progress.isSkippable?\"skippable\":\"\")+\"\\n    lang-\"+t.language},m:function(e,t){insertNode(n,e,t),appendNode(r,n),appendNode(i,n),appendNode(o,n),appendNode(a,n),d&&d.m(n,null),appendNode(s,n),u&&u.m(n,null)},p:function(t,r){r.poster?d?d.p(t,r):((d=create_if_block(e,r)).c(),d.m(n,s)):d&&(d.u(),d.d(),d=null),r.hideControls?u&&(u.u(),u.d(),u=null):u?u.p(t,r):((u=create_if_block_1(e,r)).c(),u.m(n,null)),(t.isMobile||t.isDoubleVerify||t.progress||t.isMuted||t.instream||t.isFullscreen||t.language)&&c!==(c=\"caroda-ad-container\\n    \"+(r.isMobile?\"mobile\":\"\")+\"\\n    \"+(r.isDoubleVerify?\"doubleverify\":\"\")+\"\\n    \"+(r.progress.hideSkipButton?\"hide-skip\":\"\")+\"\\n    \"+(r.isMuted?\"muted\":\"\")+\"\\n    \"+(r.instream?\"instream\":\"outstream\")+\"\\n    \"+(r.isFullscreen?\"fullscreen\":\"\")+\"\\n    \"+(!r.progress.hideSkipButton&&r.progress.isSkippable?\"skippable\":\"\")+\"\\n    lang-\"+r.language)&&(n.className=c)},u:function(){detachNode(n),d&&d.u(),u&&u.u()},d:function(){d&&d.d(),u&&u.d()}}}function create_if_block(e,t){var n;return{c:function(){n=createElement(\"div\"),this.h()},h:function(){n.className=\"poster\",setStyle(n,\"background\",\"url(\"+t.poster+\") no-repeat center center fixed\"),setStyle(n,\"background-size\",\"contain\")},m:function(e,t){insertNode(n,e,t)},p:function(e,t){e.poster&&setStyle(n,\"background\",\"url(\"+t.poster+\") no-repeat center center fixed\")},u:function(){detachNode(n)},d:noop}}function create_if_block_2(e,t){var n,r,i,o,a;function s(t){e.fire(\"toggle-audio\")}function c(t){e.fire(\"toggle-play\")}return{c:function(){n=createElement(\"div\"),i=createText(\"\\n            \"),o=createElement(\"div\"),this.h()},h:function(){addListener(n,\"click\",s),n.className=r=\"muted-button \"+(t.isMuted?\"muted\":\"\"),addListener(o,\"click\",c),o.className=a=\"toggle-playback-button \"+(t.isPlaying?\"\":\"paused\")},m:function(e,t){insertNode(n,e,t),insertNode(i,e,t),insertNode(o,e,t)},p:function(e,t){e.isMuted&&r!==(r=\"muted-button \"+(t.isMuted?\"muted\":\"\"))&&(n.className=r),e.isPlaying&&a!==(a=\"toggle-playback-button \"+(t.isPlaying?\"\":\"paused\"))&&(o.className=a)},u:function(){detachNode(n),detachNode(i),detachNode(o)},d:function(){removeListener(n,\"click\",s),removeListener(o,\"click\",c)}}}function create_if_block_3(e,t){var n,r,i=t.strings[t.language].skip;function o(t){e.fire(\"skip\")}return{c:function(){n=createElement(\"div\"),r=createText(i),this.h()},h:function(){addListener(n,\"click\",o),n.className=\"skip-button no-select\"},m:function(e,t){insertNode(n,e,t),appendNode(r,n)},p:function(e,t){(e.strings||e.language)&&i!==(i=t.strings[t.language].skip)&&(r.data=i)},u:function(){detachNode(n)},d:function(){removeListener(n,\"click\",o)}}}function create_if_block_5(e,t){var n,r,i,o=t.strings[t.language].instreamContinue;return{c:function(){n=createElement(\"div\"),r=createElement(\"span\"),i=createText(o),this.h()},h:function(){r.className=\"thumbnail-info\",n.className=\"thumbnail\",setStyle(n,\"background\",\"url(\"+t.thumbnailUrl+\")\"),setStyle(n,\"background-size\",\"cover\")},m:function(e,t){insertNode(n,e,t),appendNode(r,n),appendNode(i,r)},p:function(e,t){(e.strings||e.language)&&o!==(o=t.strings[t.language].instreamContinue)&&(i.data=o),e.thumbnailUrl&&setStyle(n,\"background\",\"url(\"+t.thumbnailUrl+\")\")},u:function(){detachNode(n)},d:noop}}function create_if_block_4(e,t){var n,r=t.thumbnailUrl&&create_if_block_5(e,t);return{c:function(){r&&r.c(),n=createComment()},m:function(e,t){r&&r.m(e,t),insertNode(n,e,t)},p:function(t,i){i.thumbnailUrl?r?r.p(t,i):((r=create_if_block_5(e,i)).c(),r.m(n.parentNode,n)):r&&(r.u(),r.d(),r=null)},u:function(){r&&r.u(),detachNode(n)},d:function(){r&&r.d()}}}function create_if_block_7(e,t){var n,r,i,o=t.strings[t.language].advertising;return{c:function(){n=createElement(\"span\"),r=createText(o),i=createText(\":\"),this.h()},h:function(){n.className=\"advertising-label\"},m:function(e,t){insertNode(n,e,t),appendNode(r,n),appendNode(i,n)},p:function(e,t){(e.strings||e.language)&&o!==(o=t.strings[t.language].advertising)&&(r.data=o)},u:function(){detachNode(n)},d:noop}}function create_if_block_8(e,t){var n,r;return{c:function(){n=createElement(\"div\"),r=createElement(\"div\"),this.h()},h:function(){r.className=\"progress\",setStyle(r,\"width\",t.progressWidth),n.className=\"progress-bar\"},m:function(e,t){insertNode(n,e,t),appendNode(r,n)},p:function(e,t){e.progressWidth&&setStyle(r,\"width\",t.progressWidth)},u:function(){detachNode(n)},d:noop}}function create_if_block_6(e,t){var n,r,i,o,a,s,c,d,u,l,p,m,f,g,h,_,b,k,C=t.progress.skipTimeLeft<=0?t.progressLabel:t.skipCounterLabel;function N(t){e.fire(\"toggle-fullscreen\")}var v=t.instream&&(t.progress.skipTimeLeft>0||t.progressLabel)&&create_if_block_7(e,t),T=t.progressLabel&&create_if_block_8(e,t);return{c:function(){n=createElement(\"div\"),i=createText(\"\\n            \"),o=createElement(\"span\"),v&&v.c(),a=createText(\"\\n                \"),s=createElement(\"span\"),c=createText(C),d=createText(\"\\n            \"),u=createElement(\"div\"),l=createElement(\"span\"),p=createText(t.timerCurrentTime),m=createText(\"\\n                \"),f=createElement(\"span\"),g=createText(\"\\n                \"),h=createElement(\"span\"),_=createText(t.timerDuration),b=createText(\"\\n            \"),T&&T.c(),k=createComment(),this.h()},h:function(){addListener(n,\"click\",N),n.className=r=\"fullscreen-button \"+(t.isFullscreen?\"fullscreen\":\"\"),o.className=\"label\",l.className=\"time\",f.className=\"separator\",h.className=\"duration\",u.className=\"timer\"},m:function(e,t){insertNode(n,e,t),insertNode(i,e,t),insertNode(o,e,t),v&&v.m(o,null),appendNode(a,o),appendNode(s,o),appendNode(c,s),insertNode(d,e,t),insertNode(u,e,t),appendNode(l,u),appendNode(p,l),appendNode(m,u),appendNode(f,u),appendNode(g,u),appendNode(h,u),appendNode(_,h),insertNode(b,e,t),T&&T.m(e,t),insertNode(k,e,t)},p:function(t,i){t.isFullscreen&&r!==(r=\"fullscreen-button \"+(i.isFullscreen?\"fullscreen\":\"\"))&&(n.className=r),i.instream&&(i.progress.skipTimeLeft>0||i.progressLabel)?v?v.p(t,i):((v=create_if_block_7(e,i)).c(),v.m(o,a)):v&&(v.u(),v.d(),v=null),(t.progress||t.progressLabel||t.skipCounterLabel)&&C!==(C=i.progress.skipTimeLeft<=0?i.progressLabel:i.skipCounterLabel)&&(c.data=C),t.timerCurrentTime&&(p.data=i.timerCurrentTime),t.timerDuration&&(_.data=i.timerDuration),i.progressLabel?T?T.p(t,i):((T=create_if_block_8(e,i)).c(),T.m(k.parentNode,k)):T&&(T.u(),T.d(),T=null)},u:function(){detachNode(n),detachNode(i),detachNode(o),v&&v.u(),detachNode(d),detachNode(u),detachNode(b),T&&T.u(),detachNode(k)},d:function(){removeListener(n,\"click\",N),v&&v.d(),T&&T.d()}}}function create_if_block_1(e,t){var n,r,i,o,a=!t.hideCarodaUI&&create_if_block_2(e,t),s=t.progress.isSkippable&&t.progress.skipTimeLeft<0&&create_if_block_3(e,t),c=t.instream&&create_if_block_4(e,t),d=!t.hideCarodaUI&&create_if_block_6(e,t);return{c:function(){a&&a.c(),n=createText(\"\\n        \"),s&&s.c(),r=createText(\"\\n        \"),c&&c.c(),i=createText(\"\\n        \"),d&&d.c(),o=createComment()},m:function(e,t){a&&a.m(e,t),insertNode(n,e,t),s&&s.m(e,t),insertNode(r,e,t),c&&c.m(e,t),insertNode(i,e,t),d&&d.m(e,t),insertNode(o,e,t)},p:function(t,u){u.hideCarodaUI?a&&(a.u(),a.d(),a=null):a?a.p(t,u):((a=create_if_block_2(e,u)).c(),a.m(n.parentNode,n)),u.progress.isSkippable&&u.progress.skipTimeLeft<0?s?s.p(t,u):((s=create_if_block_3(e,u)).c(),s.m(r.parentNode,r)):s&&(s.u(),s.d(),s=null),u.instream?c?c.p(t,u):((c=create_if_block_4(e,u)).c(),c.m(i.parentNode,i)):c&&(c.u(),c.d(),c=null),u.hideCarodaUI?d&&(d.u(),d.d(),d=null):d?d.p(t,u):((d=create_if_block_6(e,u)).c(),d.m(o.parentNode,o))},u:function(){a&&a.u(),detachNode(n),s&&s.u(),detachNode(r),c&&c.u(),detachNode(i),d&&d.u(),detachNode(o)},d:function(){a&&a.d(),s&&s.d(),c&&c.d(),d&&d.d()}}}function Player(e){init(this,e),this._state=assign(data(),e.data),this._recompute({progress:1,strings:1,language:1},this._state);var t=this;e.root||(this._oncreate=[]),this._fragment=create_main_fragment(this,this._state),this.root._oncreate.push(function(){oncreate.call(t),t.fire(\"update\",{changed:{progress:1,strings:1,language:1,isMobile:1,isDoubleVerify:1,isMuted:1,instream:1,isFullscreen:1,poster:1,hideControls:1,hideCarodaUI:1,isPlaying:1,thumbnailUrl:1,progressLabel:1,skipCounterLabel:1,timerCurrentTime:1,timerDuration:1,progressWidth:1},current:t._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),callAll(this._oncreate))}assign(Player.prototype,proto),Player.prototype._recompute=function(e,t){e.progress&&this._differs(t.progressWidth,t.progressWidth=progressWidth(t.progress))&&(e.progressWidth=!0),(e.progress||e.strings||e.language)&&(this._differs(t.progressLabel,t.progressLabel=progressLabel(t.progress,t.strings,t.language))&&(e.progressLabel=!0),this._differs(t.skipCounterLabel,t.skipCounterLabel=skipCounterLabel(t.progress,t.strings,t.language))&&(e.skipCounterLabel=!0)),e.progress&&(this._differs(t.timerCurrentTime,t.timerCurrentTime=timerCurrentTime(t.progress))&&(e.timerCurrentTime=!0),this._differs(t.timerDuration,t.timerDuration=timerDuration(t.progress))&&(e.timerDuration=!0))};\n;var bundle=function(e){\"use strict\";var t=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};var r,n,i=(function(e,r){Object.defineProperty(r,\"__esModule\",{value:!0});var n=\"undefined\"!=typeof window?window:void 0!==t?t:\"undefined\"!=typeof self?self:{};var i=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e){!function(t){var r,n=Object.prototype,i=n.hasOwnProperty,o=\"function\"==typeof Symbol?Symbol:{},a=o.iterator||\"@@iterator\",u=o.asyncIterator||\"@@asyncIterator\",s=o.toStringTag||\"@@toStringTag\",c=t.regeneratorRuntime;if(c)e.exports=c;else{(c=t.regeneratorRuntime=e.exports).wrap=w;var l=\"suspendedStart\",d=\"suspendedYield\",f=\"executing\",h=\"completed\",p={},v={};v[a]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(V([])));y&&y!==n&&i.call(y,a)&&(v=y);var g=A.prototype=k.prototype=Object.create(v);E.prototype=g.constructor=A,A.constructor=E,A[s]=E.displayName=\"GeneratorFunction\",c.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===E||\"GeneratorFunction\"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,s in e||(e[s]=\"GeneratorFunction\")),e.prototype=Object.create(g),e},c.awrap=function(e){return{__await:e}},x(C.prototype),C.prototype[u]=function(){return this},c.AsyncIterator=C,c.async=function(e,t,r,n){var i=new C(w(e,t,r,n));return c.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},x(g),g[s]=\"Generator\",g[a]=function(){return this},g.toString=function(){return\"[object Generator]\"},c.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},c.values=V,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=r,this.tryEntries.forEach(S),!e)for(var t in this)\"t\"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return u.type=\"throw\",u.arg=e,t.next=n,i&&(t.method=\"next\",t.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if(\"root\"===a.tryLoc)return n(\"end\");if(a.tryLoc<=this.prev){var s=i.call(a,\"catchLoc\"),c=i.call(a,\"finallyLoc\");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,\"finallyLoc\")&&this.prev<n.finallyLoc){var o=n;break}}o&&(\"break\"===e||\"continue\"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method=\"next\",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var i=n.arg;S(r)}return i}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,t,n){return this.delegate={iterator:V(e),resultName:t,nextLoc:n},\"next\"===this.method&&(this.arg=r),p}}}function w(e,t,r,n){var i=t&&t.prototype instanceof k?t:k,o=Object.create(i.prototype),a=new I(n||[]);return o._invoke=function(e,t,r){var n=l;return function(i,o){if(n===f)throw new Error(\"Generator is already running\");if(n===h){if(\"throw\"===i)throw o;return _()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var u=P(a,r);if(u){if(u===p)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(n===l)throw n=h,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);n=f;var s=b(e,t,r);if(\"normal\"===s.type){if(n=r.done?h:d,s.arg===p)continue;return{value:s.arg,done:r.done}}\"throw\"===s.type&&(n=h,r.method=\"throw\",r.arg=s.arg)}}}(e,r,a),o}function b(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}function k(){}function E(){}function A(){}function x(e){[\"next\",\"throw\",\"return\"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function C(e){var t;this._invoke=function(r,n){function o(){return new Promise(function(t,o){!function t(r,n,o,a){var u=b(e[r],e,n);if(\"throw\"!==u.type){var s=u.arg,c=s.value;return c&&\"object\"==typeof c&&i.call(c,\"__await\")?Promise.resolve(c.__await).then(function(e){t(\"next\",e,o,a)},function(e){t(\"throw\",e,o,a)}):Promise.resolve(c).then(function(e){s.value=e,o(s)},a)}a(u.arg)}(r,n,t,o)})}return t=t?t.then(o,o):o()}}function P(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,\"throw\"===t.method){if(e.iterator.return&&(t.method=\"return\",t.arg=r,P(e,t),\"throw\"===t.method))return p;t.method=\"throw\",t.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return p}var i=b(n,e.iterator,t.arg);if(\"throw\"===i.type)return t.method=\"throw\",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,\"return\"!==t.method&&(t.method=\"next\",t.arg=r),t.delegate=null,p):o:(t.method=\"throw\",t.arg=new TypeError(\"iterator result is not an object\"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(T,this),this.reset(!0)}function V(e){if(e){var t=e[a];if(t)return t.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:r,done:!0}}}(function(){return this}()||Function(\"return this\")())}),o=function(){return this}()||Function(\"return this\")(),a=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf(\"regeneratorRuntime\")>=0,u=a&&o.regeneratorRuntime;o.regeneratorRuntime=void 0;var s=i;if(a)o.regeneratorRuntime=u;else try{delete o.regeneratorRuntime}catch(e){o.regeneratorRuntime=void 0}var c,l,d,f,h=s,p={clickThrough:\"clickThrough\",closeLinear:\"closeLinear\",complete:\"complete\",error:\"error\",exitFullscreen:\"exitFullscreen\",firstQuartile:\"firstQuartile\",fullscreen:\"fullscreen\",iconClick:\"iconClick\",iconView:\"iconView\",impression:\"impression\",midpoint:\"midpoint\",mute:\"mute\",otherAdInteraction:\"otherAdInteraction\",pause:\"pause\",playerCollapse:\"playerCollapse\",playerExpand:\"playerExpand\",progress:\"progress\",resume:\"resume\",rewind:\"rewind\",skip:\"skip\",start:\"start\",thirdQuartile:\"thirdQuartile\",timeSpentViewing:\"timeSpentViewing\",unmute:\"unmute\"},v=\"acceptInvitation\",m=\"adCollapse\",y=\"creativeView\",g={acceptInvitation:v,adCollapse:m,close:\"close\",creativeView:y},w=[new RegExp(\"^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)\\n?</div>\"),new RegExp(\"^(.+)\\n\")],b=function(e){var t,r,n,i,o=(t=e,r=new XMLSerializer,Array.prototype.map.call(t.childNodes,function(e){return r.serializeToString(e)}).join(\"\"));for(n=0;n<w.length;n++)if(i=w[n].exec(o))return i[1]},k=function(e){return function(e){var t;if(null===e)throw new Error(\"Parse error\");var r=function(e){return\"parsererror\"===e.documentElement.tagName&&\"http://www.mozilla.org/newlayout/xml/parsererror.xml\"===e.documentElement.namespaceURI?e.documentElement:(\"xml\"===e.documentElement.tagName||\"html\"===e.documentElement.tagName)&&e.documentElement.childNodes&&e.documentElement.childNodes.length>0&&\"parsererror\"===e.documentElement.childNodes[0].nodeName?e.documentElement.childNodes[0]:\"html\"===e.documentElement.tagName&&e.documentElement.childNodes&&e.documentElement.childNodes.length>0&&\"body\"===e.documentElement.childNodes[0].nodeName&&e.documentElement.childNodes[0].childNodes&&e.documentElement.childNodes[0].childNodes.length&&\"parsererror\"===e.documentElement.childNodes[0].childNodes[0].nodeName?e.documentElement.childNodes[0].childNodes[0]:void 0}(e);if(void 0!==r)throw t=b(r)||\"Parse error\",new Error(t)}(e),e},E=\"document\",A=\"element\",x=\"text\",C=function e(t){var r=function(e){if(1===e.nodeType)return A;if(3===e.nodeType||4===e.nodeType)return x;if(9===e.nodeType)return E;throw new Error(\"Unsupported element type\")}(t),n={type:r};if(r===A){if(n.name=t.nodeName.toLowerCase(),t.attributes.length>0){n.attributes={};var i=!0,o=!1,a=void 0;try{for(var u,s=Array.from(t.attributes)[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value;n.attributes[c.nodeName]=c.nodeValue}}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}}}else r===x&&(n.text=t.nodeValue.replace(\"<![CDATA[\",\"\").replace(\"]]>\",\"\").trim());if(t.hasChildNodes()){var l=Array.from(t.childNodes).filter(function(e){return[1,3,4].includes(e.nodeType)}),d=[];n.elements=d;var f=!0,h=!1,p=void 0;try{for(var v,m=l[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var y=e(v.value);(y.type!==x||y.text.length>0)&&d.push(y)}}catch(e){h=!0,p=e}finally{try{!f&&m.return&&m.return()}finally{if(h)throw p}}}return n},P=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).elements;return void 0===e?[]:e},T=function(e,t){return P(e).find(function(e){var r=e.name;return(void 0===r?\"\":r).toUpperCase()===t.toUpperCase()})},S=function(e,t){return\"string\"==typeof t?function(e,t){return P(e).filter(function(e){var r=e.name;return(void 0===r?\"\":r).toUpperCase()===t.toUpperCase()})}(e,t):P(e)},I=function(e){return P(e)[0]||null},V=function(e){var t=e&&I(e);return t&&t.text||null},_=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).attributes;return void 0===e?{}:e},L=function(e,t){return _(e)[t]},O=new DOMParser,F=function(e){return function(e,t){var r=e.parseFromString(t,\"application/xml\");return k(r),C(r)}(O,e)},R=function(e){if(\"string\"==typeof e){var t=e.match(/(\\d\\d):(\\d\\d):(\\d\\d)(\\.(\\d\\d\\d))?/);if(t){var r=(o=t[1],60*parseInt(o,10)*60*1e3+(i=t[2],60*parseInt(i,10)*1e3)+(n=t[3],1e3*parseInt(n,10))+parseInt(t[5]||0,10));if(!isNaN(r))return r}}var n,i,o;return null},j=function(e){return function(e){return/^\\d+(\\.\\d+)?%$/g.test(e)}(e)?e:R(e)},M=function(e){var t=I(e),r=t&&T(t,\"creatives\");return r&&S(r).find(function(e){return T(e,\"linear\")})||null},B=function(e,t){var r=e&&M(e);if(r){var n=T(r,\"Linear\"),i=n&&T(n,\"TrackingEvents\"),o=i&&S(i,\"Tracking\");if(o&&o.length>0){var a=o.map(function(e){var t=_(e),r=t.event,n=t.offset,i=V(e);return{event:r,offset:n&&j(n),uri:i}});if(!t)return a;var u=a.filter(function(e){return e.event===t});if(u.length>0)return u}}return null},U=function(e,t){var r=e&&M(e);if(r){var n=T(r,\"NonLinearAds\"),i=n&&T(n,\"TrackingEvents\"),o=i&&S(i,\"Tracking\");if(o&&o.length>0){var a=o.map(function(e){return{event:_(e).event,uri:V(e)}});if(!t)return a;var u=a.filter(function(e){return e.event===t});if(u.length>0)return u}}return null},N=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(i,o){try{var a=t[i](o),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n(\"next\",e)},function(e){n(\"throw\",e)});e(u)}(\"next\")})}},D=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},W=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),z=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if(\"value\"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0},q=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Q=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t},X=function(e){return Array.isArray(e)?e:Array.from(e)},G=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},J=function(e){var t=(\"\"+e).match(/\\d+/g);return parseInt(t[0],10)},K=function(e){return/\\d+/.test(e)?J(e):e},Y=function(e){var t=e&&M(e),r=t&&T(t,\"linear\"),n=r&&T(r,\"Icons\"),i=n&&S(n,\"Icon\");return i&&i.length>0?i.map(function(e){return H({},function(e){var t=_(e),r=t.duration,n=t.height,i=t.offset,o=t.program,a=t.pxratio,u=t.width,s=t.xPosition,c=void 0===s?\"right\":s,l=t.yPosition,d=void 0===l?\"top\":l;return{duration:r&&R(r),height:n&&J(n),offset:i&&R(i),program:o,pxratio:a&&parseInt(a,10),width:u&&J(u),xPosition:c&&K(c),yPosition:d&&K(d)}}(e),function(e){var t=T(e,\"StaticResource\"),r=T(e,\"HTMLResource\"),n=T(e,\"IFrameResource\");return t?{staticResource:V(t)}:r?{htmlResource:V(r)}:n?{iFrameResource:V(n)}:{staticResource:V(e)}}(e),function(e){var t=S(e,\"IconViewTracking\").map(function(e){return V(e)});return 0===t.length?{}:{iconViewTracking:t}}(e),function(e){var t=T(e,\"IconClicks\"),r=t&&T(t,\"IconClickThrough\"),n=t&&S(t,\"IconClickTracking\").map(function(e){return V(e)});return{iconClickThrough:r&&V(r),iconClickTracking:n&&n.length>0?n:void 0}}(e))}):null},Z=function(e){return\"string\"==typeof e?\"true\"===e:Boolean(e)},ee=function(e,t){var r=parseInt(L(e,\"sequence\"),10),n=parseInt(L(t,\"sequence\"),10);return r<n?-1:r>n?1:0},te=function(e){var t=e&&T(e,\"VAST\"),r=t&&S(t,\"Ad\");return r&&r.length>0?r:[]},re=function(e){var t=e&&T(e,\"VAST\");if(t){var r=T(t,\"Error\");if(r)return V(r)}return null},ne=function(e){var t=parseInt(L(e,\"sequence\"),10);return\"number\"!=typeof t||isNaN(t)?null:t},ie=function(e){return Boolean(ne(e))},oe=function(e){var t=te(e);return Array.isArray(t)&&t.filter(ie).length>1},ae=function(e){var t=te(e);return Array.isArray(t)&&t.length>0?oe(e)?t.filter(ie).sort(ee)[0]:t[0]:null},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Boolean(T(e||{},\"Wrapper\"))},se=function(e){return Boolean(T(e||{},\"Inline\"))},ce=function(e){var t=T(e,\"Wrapper\"),r=t&&T(t,\"VastAdTagUri\");return r&&V(r)||null},le=function(e){var t=_(T(e,\"Wrapper\")),r=t.allowMultipleAds,n=t.fallbackOnNoAd,i=t.followAdditionalWrappers,o={};return r&&(o.allowMultipleAds=Z(r)),n&&(o.fallbackOnNoAd=Z(n)),i&&(o.followAdditionalWrappers=Z(i)),o},de=function(e){var t=e&&I(e);if(t){var r=T(t,\"Error\");if(r)return V(r)}return null},fe=function(e){var t=e&&I(e);if(t){var r=T(t,\"Impression\");if(r)return V(r)}return null},he=function(e){var t=e&&M(e);if(t){var r=T(t,\"UniversalAdId\"),n=r&&V(r)||null,i=T(t,\"Linear\"),o=T(i,\"MediaFiles\"),a=o&&S(o,\"MediaFile\");if(a&&a.length>0)return a.map(function(e){var t=V(e),r=_(e),i=r.apiFramework,o=r.bitrate,a=r.codec,u=r.delivery,s=r.height,c=r.id,l=r.maintainAspectRatio,d=r.maxBitrate,f=r.minBitrate,h=r.scalable,p=r.type,v=r.width;return{apiFramework:i,bitrate:o,codec:a,delivery:u,height:s,id:c,maintainAspectRatio:l,maxBitrate:d,minBitrate:f,scalable:h,src:t,type:p,universalAdId:n,width:v}})}return null},pe=function(e){var t=e&&M(e);if(t){var r=T(t,\"Linear\"),n=T(r,\"MediaFiles\"),i=n&&S(n,\"InteractiveCreativeFile\");if(i&&i.length>0)return i.map(function(e){var t=_(e),r=t.apiFramework,n=t.type;return{apiFramework:r,src:V(e),type:n}})}return null},ve=function(e){var t=pe(e);if(t)return t;var r=he(e);return r&&(t=r.filter(function(e){var t=e.apiFramework;return\"vpaid\"===(void 0===t?\"\":t).toLowerCase()}).map(function(e){return{apiFramework:e.apiFramework,src:e.src,type:e.type}})).length>0?t:null},me=function(e){var t=e&&M(e),r=t&&T(t,\"Linear\"),n=r&&T(r,\"VideoClicks\");return n||null},ye=function(e){var t=me(e),r=t&&T(t,\"ClickThrough\");return r?V(r):null},ge=function(e){var t=me(e),r=t&&S(t,\"ClickTracking\");return r&&r.length>0?r.map(function(e){return V(e)}):null},we=function(e){var t=me(e),r=t&&S(t,\"CustomClick\");return r&&r.length>0?r.map(function(e){return V(e)}):null},be=function(e){var t=e&&M(e),r=t&&T(t,\"Linear\"),n=r&&L(r,\"skipoffset\");return n?j(n):null},ke=function(e){var t=function(e){var t=/<Linear([\\s\\S]*)<\\/Linear/gm.exec(e);return t&&t[1]}(e);return{AdParameters:t&&function(e){var t=/<AdParameters[\\s\\w=\"]*>([\\s\\S]*)<\\/AdParameters>/gm.exec(e);return t&&t[1].replace(/[\\n\\s]*<!\\[CDATA\\[[\\n\\s]*/,\"\").replace(/[\\n\\s]*\\]\\]>[\\n\\s]*$/,\"\").replace(/\\]\\]\\]\\]><!\\[CDATA\\[>/,\"]]>\").trim()}(t),xmlEncoded:t&&function(e){var t=/<AdParameters[\\s]*xmlEncoded=\"(.*?)\">/gim.exec(e);return Boolean(t)&&\"true\"===t[1]}(t)}},Ee=Object.freeze({getAds:te,getVastErrorURI:re,getPodAdSequence:ne,isPodAd:ie,hasAdPod:oe,isAdPod:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.parsedXML}).some(oe)},getFirstAd:ae,isWrapper:ue,isInline:se,getVASTAdTagURI:ce,getWrapperOptions:le,getAdErrorURI:de,getImpressionUri:fe,getMediaFiles:he,getInteractiveCreativeFiles:pe,getInteractiveFiles:ve,getClickThrough:ye,getClickTracking:ge,getCustomClick:we,getSkipOffset:be,getCreativeData:ke,getIcons:Y,getLinearTrackingEvents:B,getNonLinearTrackingEvents:U}),Ae=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e,o=(t=n,r={},Object.keys(t).forEach(function(e){r[e.toUpperCase()]=t[e]}),r);return Boolean(o.CACHEBUSTING)||(o.CACHEBUSTING=Math.round(1e10*Math.random())),Boolean(o.TIMESTAMP)||(o.TIMESTAMP=(new Date).toISOString()),Object.keys(o).forEach(function(e){var t=encodeURIComponent(o[e]);i=i.replace(new RegExp(\"\\\\[\"+e+\"\\\\]\",\"gm\"),t)}),i},xe=function(e,t){var r=new Image;return r.src=Ae(e,t),r},Ce=function(e,t){var r=t.errorCode,n=t.tracker,i=void 0===n?xe:n;e.forEach(function(e){var t=e.ad,n=e.parsedXML,o=de(t)||re(n);Boolean(o)&&i(o,{errorCode:r})})},Pe=function(e){return function(t,r){var n=r.data,i=r.tracker,o=void 0===i?xe:i;t.forEach(function(t){var r=t.ad,i=e(r);if(Boolean(i))switch(!0){case\"string\"==typeof i:o(i,n);break;case Array.isArray(i):i.map(function(e){var t=e.uri;return o(t,n)})}})}},Te=function(e){return function(t){return B(t,e)}},Se=(z(c={},\"clickThrough\",Pe(function(e){var t=[],r=ge(e),n=we(e);return Array.isArray(r)&&r.length>0&&t.push.apply(t,G(r.map(function(e){return{uri:e}}))),Array.isArray(n)&&n.length>0&&t.push.apply(t,G(n.map(function(e){return{uri:e}}))),t})),z(c,\"closeLinear\",Pe(Te(\"closeLinear\"))),z(c,\"complete\",Pe(Te(\"complete\"))),z(c,\"error\",Ce),z(c,\"exitFullscreen\",Pe(Te(\"exitFullscreen\"))),z(c,\"firstQuartile\",Pe(Te(\"firstQuartile\"))),z(c,\"fullscreen\",Pe(Te(\"fullscreen\"))),z(c,\"iconClick\",function(e,t){var r=t.data,n=t.tracker,i=void 0===n?xe:n,o=r.iconClickTracking;if(Array.isArray(o)){var a=!0,u=!1,s=void 0;try{for(var c,l=o[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)i(c.value,H({},r))}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}}}),z(c,\"iconView\",function(e,t){var r=t.data,n=t.tracker,i=void 0===n?xe:n,o=r.iconViewTracking;if(Array.isArray(o)){var a=!0,u=!1,s=void 0;try{for(var c,l=o[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)i(c.value,H({},r))}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}}}),z(c,\"impression\",Pe(fe)),z(c,\"midpoint\",Pe(Te(\"midpoint\"))),z(c,\"mute\",Pe(Te(\"mute\"))),z(c,\"pause\",Pe(Te(\"pause\"))),z(c,\"playerCollapse\",Pe(Te(\"playerCollapse\"))),z(c,\"playerExpand\",Pe(Te(\"playerExpand\"))),z(c,\"progress\",function(e,t){var r=t.data,n=t.tracker,i=void 0===n?xe:n,o=r.progressUri;Boolean(o)&&i(o,H({},r))}),z(c,\"resume\",Pe(Te(\"resume\"))),z(c,\"rewind\",Pe(Te(\"rewind\"))),z(c,\"skip\",Pe(Te(\"skip\"))),z(c,\"start\",Pe(Te(\"start\"))),z(c,\"thirdQuartile\",Pe(Te(\"thirdQuartile\"))),z(c,\"unmute\",Pe(Te(\"unmute\"))),c),Ie=function(e){return function(t){return U(t,e)}},Ve=(z(l={},v,Pe(Ie(v))),z(l,m,Pe(Ie(m))),z(l,\"close\",Pe(Ie(\"close\"))),z(l,y,Pe(Ie(y))),l),_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.async,n=void 0!==r&&r,i=t.defer,o=void 0!==i&&i,a=t.type,u=void 0===a?\"text/javascript\":a,s=t.placeholder;if(!e)throw new TypeError('Missing required \"src\" parameter');return new Promise(function(t,r){var i=document.createElement(\"script\"),a=s;i.type=u,i.async=n,i.defer=o,i.onerror=function(){return r(new URIError(\"The script \"+e+\" is not accessible.\"))},i.onload=function(){return t(i)},a||(a=document.currentScript?document.currentScript.parentNode:document.head),i.src=e,a.appendChild(i)})},Le=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).createElement(\"VIDEO\");return e.style.width=\"100%\",e.style.height=\"100%\",e},Oe=function(){var e=document.createElement(\"DIV\");return e.classList.add(\"mol-video-ad-container\"),e.style.width=\"100%\",e.style.height=\"100%\",e},Fe=function(e){return e.contentDocument||e.contentWindow&&e.contentWindow.document},Re=\"srcdoc\"in document.createElement(\"iframe\"),je=function(){var e=document.createElement(\"IFRAME\");return e.sandbox=\"allow-forms allow-popups allow-scripts allow-same-origin allow-top-navigation-by-user-activation\",e.style.margin=\"0\",e.style.padding=\"0\",e.style.border=\"none\",e.style.width=\"0\",e.style.height=\"0\",e.style.position=\"absolute\",e},Me=function(e,t){return new Promise(function(r,n){var i,o=function(e,t){return\"<!DOCTYPE html>\\n<html>\\n  <head><meta charset='UTF-8'></head>\\n  <body style='margin:0;padding:0'>\\n  <script type='text/javascript'>window.parent.postMessage('\"+e+\"_ready', '\"+t+\"');<\\/script>\\n  </body>\\n</html>\"}(t,(i=window.location).origin?i.origin:i.protocol+\"//\"+i.hostname+(i.port?\":\"+i.port:\"\")),a=void 0;try{(a=je()).src=\"about:blank\",e.appendChild(a),Fe(a).write(o)}catch(t){e.removeChild(a),Re?((a=je()).src=\"about:srcdoc\",a.srcdoc=o,e.appendChild(a)):n(t)}window.addEventListener(\"message\",function e(n){n.data===t+\"_ready\"&&(window.removeEventListener(\"message\",e),r(a))},!1)})},Be=(d=\"videoAdContainer\",f=-1,function(){return d+\"_\"+ ++f}),Ue=Symbol(\"hidden\"),Ne=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(D(this,e),this[Ue]={destroyed:!1,iframe:null,readyPromise:null},!(t instanceof Element))throw new TypeError(\"placeholder is not an Element\");this[Ue].id=Be(),this.element=Oe(),this.executionContext=null,this.isOriginalVideoElement=Boolean(r),r?this.videoElement=r:(this.videoElement=Le(),this.element.appendChild(this.videoElement)),t.appendChild(this.element)}return W(e,[{key:\"addScript\",value:function(){var e=N(h.mark(function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isDestroyed()){e.next=2;break}throw new Error(\"VideoAdContainer has been destroyed\");case 2:if(this[Ue].iframe){e.next=7;break}return e.next=5,Me(this.element,this[Ue].id);case 5:this[Ue].iframe=e.sent,this.executionContext=this[Ue].iframe.contentWindow;case 7:return r=Fe(this[Ue].iframe).body,e.abrupt(\"return\",_e(t,H({placeholder:r},n)));case 9:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:\"destroy\",value:function(){this.element.parentNode.removeChild(this.element),this[Ue].destroyed=!0}},{key:\"isDestroyed\",value:function(){return this[Ue].destroyed}}]),e}(),De=function(e,t){if(!e)throw new TypeError(\"placeholder is required\");return new Ne(e,t)},We=function(e,t){var r=t.src,n=t.type;return e.canPlayType(n||function(e){var t=e.match(/\\.([^./?]+)(\\?[^/]+)?$/i),r=t&&t[1];return{\"3gp\":\"video/3gpp\",avi:\"video/x-msvideo\",flv:\"video/x-flv\",m3u8:\"application/x-mpegURL\",m4v:\"video/mp4\",mov:\"video/quicktime\",mp4:\"video/mp4\",mpd:\"application/dash+xml\",ogv:\"video/ogg\",ts:\"video/MP2T\",webm:\"video/webm\",wmv:\"video/x-ms-wmv\"}[r]||\"video/\"+r}(r))},ze=function(e,t,r){var n=r.getBoundingClientRect(),i=he(e);return i?function(e,t){var r=t.width;return e.slice(0).sort(function(e,t){return Math.abs(r-(e.width||0))-Math.abs(r-(t.width||0))})}(i.filter(function(e){return We(t,e)}),n)[0]:null},He=function(e,t,r){var n=function n(){return e.removeEventListener(t,n),r.apply(void 0,arguments)};return e.addEventListener(t,n),function(){e.removeEventListener(t,n)}},$e=p.progress,qe=function(e,t){return function(){try{e.apply(void 0,arguments)}catch(e){t&&t.error(e)}}},Qe=p.fullscreen,Xe=p.exitFullscreen,Ge=p.playerCollapse,Je=p.playerExpand,Ke=p.pause,Ye=p.resume,Ze=p.rewind,et=p.skip,tt=function(){var e=document.createElement(\"BUTTON\");return e.classList.add(\"mol-vast-skip-control\"),e.type=\"button\",e.innerHTML=\"skip\",e.style.position=\"absolute\",e.style.bottom=\"15px\",e.style.right=\"15px\",e},rt=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.skipoffset,i=r.createSkipControl,o=void 0===i?tt:i;if(!Boolean(n))return function(){};var a=void 0,u=e.videoElement,s=e.element,c=function e(){var r=1e3*u.currentTime;!Boolean(a)&&r>=n&&((a=o()).onclick=function(e){return void 0!==Event.prototype.stopPropagation&&e.stopPropagation(),t(et),!1},s.appendChild(a),u.removeEventListener(\"timeupdate\",e))};return u.addEventListener(\"timeupdate\",c),function(){u.removeEventListener(\"timeupdate\",c),Boolean(a)&&s.removeChild(a)}},nt=p.error,it=\"volumeChanged\",ot=\"finish\",at=\"adProgress\",ut=p.complete,st=p.firstQuartile,ct=p.midpoint,lt=p.start,dt=p.thirdQuartile,ft=function(e,t){return 100*e/t},ht=function(e,t){return ft(e,t)>=99},pt=p.mute,vt=p.unmute,mt=function(e){return e.muted||0===e.volume},yt=p.impression,gt=function(e,t){for(var r=String(e);r.length<t;)r=\"0\"+r;return r},wt=p.progress,bt=function(e){return 1e3*e},kt=function(e){var t=e.offset,r=e.uri,n=\"number\"==typeof t||function(e){return/^\\d+(\\.\\d+)?%$/g.test(e)&&!isNaN(parseFloat(e))}(t),i=\"string\"==typeof r&&r.length>0;return n&&i},Et=p.clickThrough,At=[function(e,t){var r=e.videoElement,n=e.element,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).clickThroughUrl,o=n||r.parentNode,a=document.createElement(\"A\");return a.classList.add(\"mol-vast-clickthrough\"),a.style.width=\"100%\",a.style.height=\"100%\",a.style.position=\"absolute\",a.style.left=0,a.style.top=0,i&&(a.href=i,a.target=\"_blank\"),a.onclick=function(e){void 0!==Event.prototype.stopPropagation&&e.stopPropagation(),r.paused?r.play():(r.pause(),t(Et))},o.appendChild(a),function(){return o.removeChild(a)}},function(e,t){var r=e.videoElement,n=function(){t(nt,r.error)};return r.addEventListener(\"error\",n),function(){r.removeEventListener(\"error\",n)}},function(e,t){var r=e.videoElement,n=[\"webkitfullscreenchange\",\"mozfullscreenchange\",\"fullscreenchange\",\"MSFullscreenChange\"],i=!1,o=function(){(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||null)===r?(i=!0,t(Je),t(Qe)):i&&(i=!1,t(Ge),t(Xe))},a=!0,u=!1,s=void 0;try{for(var c,l=n[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var d=c.value;document.addEventListener(d,o)}}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}return function(){var e=!0,t=!1,r=void 0;try{for(var i,a=n[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var u=i.value;document.removeEventListener(u,o)}}catch(e){t=!0,r=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw r}}}},function(e,t){var r=e.videoElement,n=function e(){r.currentTime>=2&&(t(yt),r.removeEventListener(\"timeupdate\",e))};return r.addEventListener(\"timeupdate\",n),function(){r.removeEventListener(\"timeupdate\",n)}},function(e,t){var r=e.videoElement,n=!1,i=!0,o=function(){n?i&&(i=!1,t(Ye)):(n=!0,i=!1)},a=function(){i||(i=!0,t(Ke))};return r.addEventListener(\"play\",o),r.addEventListener(\"pause\",a),function(){r.removeEventListener(\"play\",o),r.removeEventListener(\"pause\",a)}},function(e,t){var r=e.videoElement,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).progressEvents,i=void 0===n?[]:n,o=r.duration,a=bt(o),u=0,s=bt(r.currentTime),c=i.filter(kt).map(function(e){var t=e.offset,r=e.uri;return{offset:function(e,t){return\"number\"==typeof e?e:parseFloat(e)/100*t}(t,a),uri:r}}),l=function e(){var n=r.currentTime,i=Math.abs(n-s);u+=bt(i),s=n;var o=c.reduce(function(e,t){var r=t.offset;return u>=r?e.toCall.push(t):e.stillPending.push(t),e},{stillPending:[],toCall:[]}),a=o.stillPending,l=o.toCall;c=a,l.forEach(function(e){var r,n,i,o,a,s=e.uri;t(wt,{contentplayhead:(r=u,n=Math.floor(r/36e5),i=Math.floor(r/6e4%60),o=Math.floor(r/1e3%60),a=r%1e3,gt(n,2)+\":\"+gt(i,2)+\":\"+gt(o,2)+\".\"+gt(a,3)),progressUri:s})}),0===c.length&&r.removeEventListener(\"timeupdate\",e)};return c.length>0&&r.addEventListener(\"timeupdate\",l),function(){r.removeEventListener(\"timeupdate\",l)}},function(e,t){var r=e.videoElement,n=r.currentTime,i=function(){var e=r.currentTime-n;e<0&&Math.abs(e)>=1&&t(Ze),n=r.currentTime};return r.addEventListener(\"timeupdate\",i),function(){r.removeEventListener(\"timeupdate\",i)}},rt,function(e,t){var r=e.videoElement,n=!1,i=!1,o=!1,a=!1,u=!1,s=function(){var e=r.duration,s=r.currentTime;!n&&s>0?(n=!0,t(lt)):i?o?a?u||ht(s,e)&&(u=!0,t(ut)):function(e,t){return ft(e,t)>=75}(s,e)&&(a=!0,t(dt)):function(e,t){return ft(e,t)>=50}(s,e)&&(o=!0,t(ct)):function(e,t){return ft(e,t)>=25}(s,e)&&(i=!0,t(st)),t(at)},c=function e(){var n=r.duration,i=r.currentTime;!u&&ht(i,n)&&(u=!0,t(ut)),r.removeEventListener(\"ended\",e),r.removeEventListener(\"timeupdate\",s)};return r.addEventListener(\"timeupdate\",s),r.addEventListener(\"ended\",c),function(){r.removeEventListener(\"timeupdate\",s),r.removeEventListener(\"ended\",c)}},function(e,t){var r=e.videoElement,n=mt(r),i=function(){t(it),n&&!mt(r)?t(vt):!n&&mt(r)&&t(pt),n=mt(r)};return r.addEventListener(\"volumechange\",i),function(){r.removeEventListener(\"volumechange\",i)}}],xt=function(e,t){var r=e.vastChain,n=e.videoAdContainer,i=e.hooks,o=r[0].ad,a=be(o),u=ye(o),s=function(e){return e.map(function(e){return e.ad}).reduce(function(e,t){var r=B(t,$e)||[];return[].concat(G(e),G(r))},[]).map(function(e){return{offset:e.offset,uri:e.uri}})}(r),c=H({clickThroughUrl:u,progressEvents:s,skipoffset:a},i),l=At.map(function(e){return qe(e(n,t,c))});return function(){return l.forEach(function(e){return e()})}},Ct=function(e,t){return new Promise(function(r){var n={currentTime:e.currentTime,playing:!e.paused};n.playing&&e.pause(),e.src=t.src,e.load(),He(e,\"loadeddata\",function(){e.currentTime=n.currentTime,n.playing&&e.play(),r()})})},Pt=\"Expected a function\",Tt=NaN,St=\"[object Symbol]\",It=/^\\s+|\\s+$/g,Vt=/^[-+]0x[0-9a-f]+$/i,_t=/^0b[01]+$/i,Lt=/^0o[0-7]+$/i,Ot=parseInt,Ft=\"object\"==typeof n&&n&&n.Object===Object&&n,Rt=\"object\"==typeof self&&self&&self.Object===Object&&self,jt=Ft||Rt||Function(\"return this\")(),Mt=Object.prototype.toString,Bt=Math.max,Ut=Math.min,Nt=function(){return jt.Date.now()};function Dt(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function Wt(e){if(\"number\"==typeof e)return e;if(function(e){return\"symbol\"==typeof e||function(e){return!!e&&\"object\"==typeof e}(e)&&Mt.call(e)==St}(e))return Tt;if(Dt(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=Dt(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(It,\"\");var r=_t.test(e);return r||Lt.test(e)?Ot(e.slice(2),r?2:8):Vt.test(e)?Tt:+e}var zt=function(e,t,r){var n,i,o,a,u,s,c=0,l=!1,d=!1,f=!0;if(\"function\"!=typeof e)throw new TypeError(Pt);function h(t){var r=n,o=i;return n=i=void 0,c=t,a=e.apply(o,r)}function p(e){var r=e-s;return void 0===s||r>=t||r<0||d&&e-c>=o}function v(){var e=Nt();if(p(e))return m(e);u=setTimeout(v,function(e){var r=t-(e-s);return d?Ut(r,o-(e-c)):r}(e))}function m(e){return u=void 0,f&&n?h(e):(n=i=void 0,a)}function y(){var e=Nt(),r=p(e);if(n=arguments,i=this,s=e,r){if(void 0===u)return function(e){return c=e,u=setTimeout(v,t),l?h(e):a}(s);if(d)return u=setTimeout(v,t),h(s)}return void 0===u&&(u=setTimeout(v,t)),a}return t=Wt(t)||0,Dt(r)&&(l=!!r.leading,o=(d=\"maxWait\"in r)?Bt(Wt(r.maxWait)||0,t):o,f=\"trailing\"in r?!!r.trailing:f),y.cancel=function(){void 0!==u&&clearTimeout(u),c=0,n=s=i=u=void 0},y.flush=function(){return void 0===u?a:m(Nt())},y},Ht=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,$t=function(){},qt=[\"style\",\"clientWidth\",\"clientHeight\"],Qt=Symbol(\"mutationHandlers\"),Xt=Symbol(\"mutationObserver\"),Gt=function(e,t){if(!e[Qt]){e[Qt]=[];e[Xt]=function(e,t){var r=new Ht(function(e){for(var r=0;r<e.length;r++){var n=e[r].attributeName;qt.includes(n)&&t()}});return r.observe(e,{attributes:!0,characterData:!1,childList:!0}),r}(e,function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];e[Qt]&&e[Qt].forEach(function(e){return e.apply(void 0,r)})})}return e[Qt].push(t),function(){e[Qt]=e[Qt].filter(function(e){return e!==t}),0===e[Qt].length&&(e[Xt].disconnect(),delete e[Qt],delete e[Xt])}},Jt=Symbol(\"resizeHandlers\"),Kt=Symbol(\"resizeObj\"),Yt=function(e,t){if(!e[Jt]){e[Jt]=[];e[Kt]=function(e){var t=document.createElement(\"object\");return t.setAttribute(\"style\",\"display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;\"),t.onload=function(){this.contentWindow&&this.contentWindow.addEventListener(\"resize\",e)},t.type=\"text/html\",t.data=\"about:blank\",t}(function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];e[Jt]&&e[Jt].forEach(function(e){return e.apply(void 0,r)})}),\"static\"===getComputedStyle(e).position&&(e.style.position=\"relative\"),e.appendChild(e[Kt])}return e[Jt].push(t),function(){e[Jt]=e[Jt].filter(function(e){return e!==t}),0===e[Jt].length&&(e.removeChild(e[Kt]),delete e[Jt],delete e[Kt])}},Zt=function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).threshold,n=void 0===r?20:r;!function(e,t){if(!(e instanceof Element))throw new TypeError(\"Target is not an Element node\");if(!(t instanceof Function))throw new TypeError(\"Callback is not a function\")}(e,t);var i=function(e){var t=e.style,r=e.clientHeight,n=e.clientWidth;return[t.width,t.height,n,r].join(\".\")},o=i(e),a=zt(function(){var r=i(e);r!==o&&(o=r,t())},n),u=Boolean(Ht)?Gt(e,a):$t,s=Yt(e,a);return function(){u(),s()}},er=[],tr=function(e){var t=e.element,r=e.callback,n=e.lastInViewport,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.getBoundingClientRect(),n=r.height,i=r.width,o=r.top,a=r.right,u=r.bottom,s=r.left;if(!n||!i)return!1;var c=n*(1-t),l=i*(1-t),d=window.innerHeight||document.documentElement.clientHeight,f=window.innerWidth||document.documentElement.clientWidth;return!document.hidden&&o+c>=0&&u-c<=d&&s+l>=0&&a-l<=f}(t,e.viewportOffset);i!==n&&(e.lastInViewport=i,r(i))},rr=function(){var e=!0,t=!1,r=void 0;try{for(var n,i=er[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var o=n.value;tr(o)}}catch(e){t=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw r}}},nr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.threshold,i=void 0===n?100:n,o=r.scrollableElement,a=void 0===o?window:o,u=r.viewabilityOffset,s=void 0===u?.4:u;!function(e,t){if(!(e instanceof Element))throw new TypeError(\"Target is not an Element node\");if(!(t instanceof Function))throw new TypeError(\"Callback is not a function\")}(e,t);var c=i>0?zt(rr):rr,l={callback:t,element:e,lastInViewport:!1,scrollableElement:a,viewabilityOffset:s};return tr(l),er.push(l),a.addEventListener(\"scroll\",c),1===er.length&&(window.addEventListener(\"resize\",c),window.addEventListener(\"orientationchange\",c),document.addEventListener(\"visibilitychange\",c)),function(){0===(er=er.filter(function(e){return e!==l})).length&&(window.removeEventListener(\"resize\",c),window.removeEventListener(\"orientationchange\",c),document.removeEventListener(\"visibilitychange\",c)),er.every(function(e){return e.scrollableElement!==a})&&a.removeEventListener(\"scroll\",c)}},ir=function(e){var t=0,r=0,n=function(){e.duration-t>3&&(e.pause(),e.play(),e.currentTime=t)},i=function(){var n=e.currentTime;Math.abs(n-t)>3?((r+=1)>=2&&e.pause(),e.currentTime=t):t=n};return e.addEventListener(\"timeupdate\",i),e.addEventListener(\"ended\",n),function(){e.removeEventListener(\"timeupdate\",i),e.removeEventListener(\"ended\",n)}},or=function(){function e(t){D(this,e),this.evts={},this.logger=t||console}return W(e,[{key:\"on\",value:function(e,t){var r=this.evts;return(r[e]||(r[e]=[])).push(t),this}},{key:\"removeListener\",value:function(e,t){var r=this.evts,n=r[e]||(r[e]=[]);return r[e]=n.filter(function(e){return e!==t&&e._!==t}),this}},{key:\"removeAllListeners\",value:function(e){return e?this.evts[e]=null:this.evts={},this}},{key:\"once\",value:function(e,t){var r=this,n=function n(){r.removeListener(e,n),t.apply(void 0,arguments)};return n._=t,this.on(e,n)}},{key:\"emit\",value:function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=this.evts,a=o[e]||(o[e]=[]),u=a.length>0;return a.forEach(function(e){try{e.apply(void 0,n)}catch(e){t.logger.error(e,e.stack)}}),u}}]),e}(),ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.staticResource,r=e.htmlResource,n=e.iFrameResource;return t||r||n},ur=function(e){return 1===e.length?e[0]:function(e){var t=window.devicePixelRatio||0;return e.slice(0).sort(function(e,r){return Math.abs(t-(e.pxratio||0))-Math.abs(t-(r.pxratio||0))})}(e)[0]},sr=function(e){var t=e.map(function(e){return e.ad}).reduce(function(e,t){return[].concat(G(e),G(Y(t)||[]))},[]);return t.length>0?function(e){var t=function(e){return e.reduce(function(e,t){var r=t.program,n=void 0===r?\"UNKNOWN\":r;return e[n]||(e[n]=[]),e[n].push(t),e},{})}(e);return Object.keys(t).reduce(function(e,r){return[].concat(G(e),\"UNKNOWN\"===r?G(t.UNKNOWN):[ur(t[r])])},[])}(function(e){return t=ar,r={},e.filter(function(e){var n=t(e);return!r.hasOwnProperty(n)&&(r[n]=!0,!0)});var t,r}(t)):null},cr=function(e,t){var r=!0,n=new function e(){var t=this;D(this,e),this.promise=new Promise(function(e,r){t.resolve=e,t.reject=r})},i=n.promise,o=n.reject,a=n.resolve,u=He(e,t,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r=!1,a(t)});return{cancel:function(){r&&(r=!1,u(),o(new Error(\"waitFor was canceled\")))},promise:i}};!function(e){if(!e.fetch){var t={searchParams:\"URLSearchParams\"in e,iterable:\"Symbol\"in e&&\"iterator\"in Symbol,blob:\"FileReader\"in e&&\"Blob\"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:\"FormData\"in e,arrayBuffer:\"ArrayBuffer\"in e};if(t.arrayBuffer)var r=[\"[object Int8Array]\",\"[object Uint8Array]\",\"[object Uint8ClampedArray]\",\"[object Int16Array]\",\"[object Uint16Array]\",\"[object Int32Array]\",\"[object Uint32Array]\",\"[object Float32Array]\",\"[object Float64Array]\"],n=function(e){return e&&DataView.prototype.isPrototypeOf(e)},i=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};l.prototype.append=function(e,t){e=u(e),t=s(t);var r=this.map[e];this.map[e]=r?r+\",\"+t:t},l.prototype.delete=function(e){delete this.map[u(e)]},l.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},l.prototype.set=function(e,t){this.map[u(e)]=s(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),c(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=[\"DELETE\",\"GET\",\"HEAD\",\"OPTIONS\",\"POST\",\"PUT\"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},v.call(m.prototype),v.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:\"\"});return e.type=\"error\",e};var a=[301,302,303,307,308];g.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError(\"Invalid status code\");return new g(null,{status:t,headers:{location:e}})},e.Headers=l,e.Request=m,e.Response=g,e.fetch=function(e,r){return new Promise(function(n,i){var o=new m(e,r),a=new XMLHttpRequest;a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||\"\",t=new l,e.replace(/\\r?\\n[\\t ]+/g,\" \").split(/\\r?\\n/).forEach(function(e){var r=e.split(\":\"),n=r.shift().trim();if(n){var i=r.join(\":\").trim();t.append(n,i)}}),t)};r.url=\"responseURL\"in a?a.responseURL:r.headers.get(\"X-Request-URL\");var i=\"response\"in a?a.response:a.responseText;n(new g(i,r))},a.onerror=function(){i(new TypeError(\"Network request failed\"))},a.ontimeout=function(){i(new TypeError(\"Network request failed\"))},a.open(o.method,o.url,!0),\"include\"===o.credentials?a.withCredentials=!0:\"omit\"===o.credentials&&(a.withCredentials=!1),\"responseType\"in a&&t.blob&&(a.responseType=\"blob\"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}function u(e){if(\"string\"!=typeof e&&(e=String(e)),/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(e))throw new TypeError(\"Invalid character in header field name\");return e.toLowerCase()}function s(e){return\"string\"!=typeof e&&(e=String(e)),e}function c(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError(\"Already read\"));e.bodyUsed=!0}function f(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function h(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if(\"string\"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&n(e))this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!i(e))throw new Error(\"unsupported BodyInit type\");this._bodyArrayBuffer=p(e)}else this._bodyText=\"\";this.headers.get(\"content-type\")||(\"string\"==typeof e?this.headers.set(\"content-type\",\"text/plain;charset=UTF-8\"):this._bodyBlob&&this._bodyBlob.type?this.headers.set(\"content-type\",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set(\"content-type\",\"application/x-www-form-urlencoded;charset=UTF-8\"))},t.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error(\"could not read FormData body as blob\");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,r,n=d(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=f(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join(\"\")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error(\"could not read FormData body as text\");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e,t){var r,n,i=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError(\"Already read\");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||\"omit\",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(r=t.method||this.method||\"GET\",n=r.toUpperCase(),o.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.referrer=null,(\"GET\"===this.method||\"HEAD\"===this.method)&&i)throw new TypeError(\"Body not allowed for GET or HEAD requests\");this._initBody(i)}function y(e){var t=new FormData;return e.trim().split(\"&\").forEach(function(e){if(e){var r=e.split(\"=\"),n=r.shift().replace(/\\+/g,\" \"),i=r.join(\"=\").replace(/\\+/g,\" \");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function g(e,t){t||(t={}),this.type=\"default\",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=\"statusText\"in t?t.statusText:\"OK\",this.headers=new l(t.headers),this.url=t.url||\"\",this._initBody(e)}}(\"undefined\"!=typeof self?self:void 0);var lr,dr,fr,hr,pr=function(e){var t=e.toLowerCase();return[\"text/plain\",\"text/html\"].some(function(e){return t.includes(e)})},vr=(lr=N(h.mark(function e(t){var r,n,i,o;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(r=e.sent,n=r.headers.get(\"Content-Type\"),!(r.status>=400)){e.next=8;break}throw(i=new Error(r.statusText)).response=r,i;case 8:if(pr(n)){e.next=12;break}throw(o=new Error(\"fetchHtml error, invalid Content-Type \"+n)).response=r,o;case 12:return e.abrupt(\"return\",r.text());case 13:case\"end\":return e.stop()}},e,void 0)})),function(e){return lr.apply(this,arguments)}),mr=function(e,t){var r=t.staticResource,n=t.htmlResource,i=t.iFrameResource;return Boolean(r)?function(e,t){var r=t.document,n=t.data,i=n.height,o=n.width,a=r.createElement(\"IMG\");return o&&(a.width=o),i&&(a.height=i),a.src=e,a}(r,{data:t,document:e}):Boolean(n)?function(e,t){var r=t.document,n=t.data,i=n.height,o=n.width,a=r.createElement(\"DIV\");return o&&(a.style.width=o+\"px\"),i&&(a.style.height=i+\"px\"),vr(e).then(function(e){a.innerHTML=e,a.dispatchEvent(new CustomEvent(\"load\"))}).catch(function(){a.dispatchEvent(new CustomEvent(\"error\"))}),a}(n,{data:t,document:e}):function(e,t){var r=t.document,n=t.data,i=n.height,o=n.width,a=r.createElement(\"IFRAME\");return a.src=e,a.sandbox=\"allow-forms allow-popups allow-scripts allow-top-navigation-by-user-activation\",o&&(a.width=o),i&&(a.height=i),a.src=e,a.frameBorder=0,a.style.border=\"none\",a}(i,{data:t,document:e})},yr=function(){},gr=function(e,t){var r=t.document,n=t.placeholder;return new Promise(function(t,i){try{var o=mr(r,e),a=cr(o,\"error\"),u=cr(o,\"load\"),s=function(){n.contains(o)&&(n.removeChild(o),o.style.zIndex=0)};a.promise.then(function(){u.cancel(),s(),i(new Error(\"Error loading resource\"))}).catch(yr),u.promise.then(function(){a.cancel(),s(),t(o)}).catch(yr),o.style.zIndex=-9999,n.appendChild(o)}catch(e){i(e)}})},wr=function(e,t,r){var n,i,o,a=r.drawnIcons,u=r.placeholder,s=e.signature,c=t.getBoundingClientRect(),l=u.getBoundingClientRect(),d=e.width||c.width,f=e.height||c.height,h=e.xPosition||\"right\",p=e.yPosition||\"top\",v=void 0,m=void 0;if(function(e){return![\"left\",\"right\"].includes(String(e).toLowerCase())}(h))v=h;else{var y=a.filter(function(e){return e.xPosition===h&&e.yPosition===p});v=function(e,t,r,n){var i=r.reduce(function(e,t){return e+t.width+1},0);return\"left\"===e?i:n-i-t}(h,d,y,l.width)}!function(e){return![\"top\",\"bottom\"].includes(String(e).toLowerCase())}(p)?(n=p,i=f,o=l.height,m=\"top\"===n?0:o-i):m=p;var g=v+\"-\"+m+\"_\"+d+\"x\"+f;return Object.assign(e,{height:f,left:v,signature:g,top:m,updated:s!==g,width:d})},br=function(e){return e.height*e.width},kr=function(e){return e.left+e.width},Er=function(e){var t=e.left;return t},Ar=function(e){var t=e.top;return t},xr=function(e){return e.top+e.height},Cr=function(e,t){return!t.drawnIcons.some(function(t){return function(e,t){return!(Er(e)>kr(t)||kr(e)<Er(t)||xr(e)<Ar(t)||Ar(e)>xr(t))}(e,t)})},Pr=function(e,t){var r=function(e,t){var r=t.drawnIcons,n=t.placeholder,i=br(n.getBoundingClientRect());return br(e)+r.reduce(function(e,t){return e+br(t)},0)<=.35*i}(e,t),n=function(e,t){var r=t.placeholder.getBoundingClientRect();return e.left>=0&&e.left+e.width<=r.width&&e.top>=0&&e.top+e.height<=r.height}(e,t),i=Cr(e,t);return r&&n&&i},Tr=function(){},Sr=function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).onIconClick,n=void 0===r?Tr:r,i=document.createElement(\"A\");return t.iconClickthrough&&(i.href=t.iconClickthrough,i.target=\"_blank\"),Boolean(t.iFrameResource)&&(e.style.pointerEvents=\"none\"),i.onclick=function(e){void 0!==Event.prototype.stopPropagation&&e.stopPropagation(),n(t)},i.appendChild(e),i},Ir=(dr=N(h.mark(function e(t,r){var n;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.element){e.next=9;break}return e.next=3,gr(t,r);case 3:(n=e.sent).width=\"100%\",n.height=\"100%\",n.style.height=\"100%\",n.style.width=\"100%\",t.element=Sr(n,t,r);case 9:return e.abrupt(\"return\",t.element);case 10:case\"end\":return e.stop()}},e,void 0)})),function(e,t){return dr.apply(this,arguments)}),Vr=function(e,t){var r=t.height,n=t.width,i=t.left,o=t.top,a=t.yPosition;return e.height=r,e.width=n,e.style.position=\"absolute\",e.style.left=i+\"px\",\"bottom\"===a?e.style.bottom=\"0\":e.style.top=o+\"px\",e.style.height=r+\"px\",e.style.width=n+\"px\",e},_r=(fr=N(h.mark(function e(t,r){var n,i,o;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.placeholder,e.next=3,Ir(t,r);case 3:if(i=e.sent,o=wr(t,i,r),!Pr(o,r)){e.next=9;break}i.parentNode&&!t.updated||n.appendChild(Vr(i,o)),e.next=11;break;case 9:throw i.parentNode&&i.parentNode.removeChild(i),new Error(\"Icon can't be rendered\");case 11:return e.abrupt(\"return\",o);case 12:case\"end\":return e.stop()}},e,void 0)})),function(e,t){return fr.apply(this,arguments)}),Lr=function(e,t){var r=t.onIconClick,n=t.videoAdContainer,i=t.logger,o=n.element,a=n.videoElement,u=[],s=e.reduce(function(e,t){return!function(e,t){var r=1e3*t.currentTime,n=1e3*t.duration,i=e.offset||0,o=e.duration||n;return i<=r&&r-i<=o}(t,a)?e.otherIcons.push(t):e.iconsToShow.push(t),e},{iconsToShow:[],otherIcons:[]}),c=s.iconsToShow;return s.otherIcons.forEach(function(e){var t=e.element;t&&t.parentNode&&t.parentNode.removeChild(t)}),c.reduce(function(e,t){return e.then(function(){return _r(t,{document:document,drawnIcons:u,onIconClick:r,placeholder:o})}).then(function(e){return u.push(e)}).catch(function(e){return i.log(e)})},Promise.resolve(u)).then(function(){return u})},Or=Symbol(\"firstRenderPending\"),Fr=function(){},Rr=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.videoAdContainer,i=r.onIconView,o=void 0===i?Fr:i,a=r.onIconClick,u=void 0===a?Fr:a,s=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(r,[\"videoAdContainer\",\"onIconView\",\"onIconClick\"]),c=n.videoElement,l=n.element,d=(t=N(h.mark(function t(){var r;return h.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lr(e,H({onIconClick:u,videoAdContainer:n},s));case 2:r=t.sent,l.dispatchEvent(new CustomEvent(\"iconsDrawn\")),r.forEach(function(e){e[Or]&&(o(e),e[Or]=!1)});case 5:case\"end\":return t.stop()}},t,void 0)})),function(){return t.apply(this,arguments)});return e.forEach(function(e){e[Or]=!0}),{drawIcons:d,hasPendingIconRedraws:function(){return function(e,t){var r=1e3*t.currentTime,n=1e3*t.duration,i=e.filter(function(e){return!e.offset||e.offset<r}),o=e.filter(function(e){return e.duration&&e.duration<n});return i.length>0||o.length>0}(e,c)},removeIcons:function(){return function(e){return e.filter(function(e){var t=e.element;return Boolean(t)&&Boolean(t.parentNode)}).forEach(function(e){var t=e.element;return t.parentNode.removeChild(t)})}(e)}}},jr=function(e,t){return e+100>innerWidth&&t+100>innerHeight?\"fullscreen\":e<400?\"thumbnail\":\"normal\"},Mr=p.start,Br=p.iconClick,Ur=p.iconView,Nr=Symbol(\"_protected\"),Dr=function(e){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.viewability,o=void 0!==i&&i,a=n.responsive,u=void 0!==a&&a,s=n.logger,c=void 0===s?console:s;D(this,t);var l=Q(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c));l[Nr]={finish:function(){l[Nr].finished=!0,l[Nr].onFinishCallbacks.forEach(function(e){return e()}),l.emit(ot,{adUnit:l,type:ot})},finished:!1,onErrorCallbacks:[],onFinishCallbacks:[],started:!1,throwIfCalled:function(){throw new Error(\"VideoAdUnit method must be implemented on child class\")},throwIfFinished:function(){if(l.isFinished())throw new Error(\"VideoAdUnit is finished\")}},l.type=null,l.error=null,l.errorCode=null;var d=l[Nr].onFinishCallbacks;if(l.vastChain=e,l.videoAdContainer=r,l.icons=sr(e),d.push(ir(l.videoAdContainer.videoElement)),l.icons){var f=Rr(l.icons,{logger:c,onIconClick:function(e){return l.emit(Br,{adUnit:l,data:e,type:Br})},onIconView:function(e){return l.emit(Ur,{adUnit:l,data:e,type:Ur})},videoAdContainer:r}),h=f.drawIcons,p=f.hasPendingIconRedraws,v=f.removeIcons;l[Nr].drawIcons=h,l[Nr].removeIcons=v,l[Nr].hasPendingIconRedraws=p,d.push(v)}return o&&l.once(Mr,function(){var e=nr(l.videoAdContainer.element,function(e){l.isFinished()||(e?l.resume():l.pause())});d.push(e)}),u&&l.once(Mr,function(){var e=l.videoAdContainer.element;l[Nr].size={height:e.clientHeight,viewmode:jr(e.clientWidth,e.clientHeight),width:e.clientWidth};var t=Zt(e,function(){if(!l.isFinished()){var t=l[Nr].size,r=e.clientHeight,n=e.clientWidth;r===t.height&&n===t.width||l.resize(n,r,jr(n,r))}});d.push(t)}),l}return q(t,or),W(t,[{key:\"start\",value:function(){this[Nr].throwIfCalled()}},{key:\"resume\",value:function(){this[Nr].throwIfCalled()}},{key:\"pause\",value:function(){this[Nr].throwIfCalled()}},{key:\"setVolume\",value:function(e){this[Nr].throwIfCalled()}},{key:\"getVolume\",value:function(){this[Nr].throwIfCalled()}},{key:\"cancel\",value:function(){this[Nr].throwIfCalled()}},{key:\"duration\",value:function(){this[Nr].throwIfCalled()}},{key:\"paused\",value:function(){this[Nr].throwIfCalled()}},{key:\"currentTime\",value:function(){this[Nr].throwIfCalled()}},{key:\"onFinish\",value:function(e){if(\"function\"!=typeof e)throw new TypeError(\"Expected a callback function\");this[Nr].onFinishCallbacks.push(qe(e,this.logger))}},{key:\"onError\",value:function(e){if(\"function\"!=typeof e)throw new TypeError(\"Expected a callback function\");this[Nr].onErrorCallbacks.push(qe(e,this.logger))}},{key:\"isFinished\",value:function(){return this[Nr].finished}},{key:\"isStarted\",value:function(){return this[Nr].started}},{key:\"resize\",value:function(){var e=N(h.mark(function e(t,r,n){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this[Nr].size={height:r,viewmode:n,width:t},!this.isStarted()||this.isFinished()||!this.icons){e.next=6;break}return e.next=4,this[Nr].removeIcons();case 4:return e.next=6,this[Nr].drawIcons();case 6:case\"end\":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()}]),t}(),Wr=p.complete,zr=p.error,Hr=p.skip,$r=Symbol(\"_private\"),qr=function(e){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D(this,t);var i=Q(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,n));i[$r]={handleMetric:function(e,t){switch(e){case Wr:i[Nr].finish();break;case zr:i.error=t,i.errorCode=i.error&&i.error.code?i.error.code:405,i[Nr].onErrorCallbacks.forEach(function(e){return e(i.error,{adUnit:i,vastChain:i.vastChain})}),i[Nr].finish();break;case Hr:i.cancel()}i.emit(e,{adUnit:i,type:e})}},i.assetUri=null,i.type=\"VAST\";var o=i[Nr].onFinishCallbacks,a=i[$r].handleMetric;i.hooks=n.hooks||{};var u=xt({hooks:i.hooks,vastChain:i.vastChain,videoAdContainer:i.videoAdContainer},a);return o.push(u),i}return q(t,Dr),W(t,[{key:\"start\",value:function(){var e=N(h.mark(function e(){var t,r,n,i,o,a,u,s=this;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this[Nr].throwIfFinished(),!this.isStarted()){e.next=3;break}throw new Error(\"VastAdUnit already started\");case 3:if(t=this.vastChain[0].ad,r=this.videoAdContainer,n=r.videoElement,i=r.element,o=ze(t,n,i),!Boolean(o)){e.next=16;break}if(!this.icons){e.next=11;break}return a=function(){var e=N(h.mark(function e(){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.isFinished()){e.next=2;break}return e.abrupt(\"return\");case 2:return e.next=4,s[Nr].drawIcons();case 4:s[Nr].hasPendingIconRedraws()&&!s.isFinished()&&He(n,\"timeupdate\",a);case 5:case\"end\":return e.stop()}},e,s)}));return function(){return e.apply(this,arguments)}}(),e.next=11,a();case 11:n.src=o.src,this.assetUri=o.src,n.play(),e.next=19;break;case 16:(u=new Error(\"Can't find a suitable media to play\")).code=403,this[$r].handleMetric(zr,u);case 19:this[Nr].started=!0;case 20:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"resume\",value:function(){return this.videoAdContainer.videoElement.play()}},{key:\"pause\",value:function(){this.videoAdContainer.videoElement.pause()}},{key:\"paused\",value:function(){return this.videoAdContainer.videoElement.paused}},{key:\"setVolume\",value:function(e){this.videoAdContainer.videoElement.volume=e}},{key:\"getVolume\",value:function(){return this.videoAdContainer.videoElement.volume}},{key:\"cancel\",value:function(){this[Nr].throwIfFinished(),this.videoAdContainer.videoElement.pause(),this[Nr].finish()}},{key:\"duration\",value:function(){return this.isStarted()?this.videoAdContainer.videoElement.duration:0}},{key:\"currentTime\",value:function(){return this.isStarted()?this.videoAdContainer.videoElement.currentTime:0}},{key:\"resize\",value:function(){var e=N(h.mark(function e(r,n,i){var o,a,u,s,c;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"resize\",this).call(this,r,n,i);case 2:this.isStarted()&&!this.isFinished()&&(o=this.vastChain[0].ad,a=this.videoAdContainer,u=a.videoElement,s=a.element,c=ze(o,u,s),Boolean(c)&&u.src!==c.src&&Ct(u,c));case 3:case\"end\":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()}]),t}(),Qr=[\"text/javascript\",\"text/javascript1.0\",\"text/javascript1.2\",\"text/javascript1.4\",\"text/jscript\",\"application/javascript\",\"application/x-javascript\",\"text/ecmascript\",\"text/ecmascript1.0\",\"text/ecmascript1.2\",\"text/ecmascript1.4\",\"text/livescript\",\"application/ecmascript\",\"application/x-ecmascript\"],Xr=function(e){var t=e.type;return Qr.some(function(e){return e===t})},Gr=function(){var e=N(h.mark(function e(t,r){var n,i,o,a;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(ve(t[0].ad)||[]).filter(Xr)[0]){e.next=3;break}throw new TypeError(\"VastChain does not contain a supported vpaid creative\");case 3:return i=n.src,o=n.type,e.next=6,r.addScript(i,{type:o});case 6:return a=r.executionContext,e.abrupt(\"return\",a.getVPAIDAd());case 8:case\"end\":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),Jr=\"AdStarted\",Kr=\"AdStopped\",Yr=\"AdSkipped\",Zr=\"AdDurationChange\",en=\"AdRemainingTimeChange\",tn=\"AdVolumeChange\",rn=\"AdImpression\",nn=\"AdVideoStart\",on=\"AdVideoFirstQuartile\",an=\"AdVideoMidpoint\",un=\"AdVideoThirdQuartile\",sn=\"AdVideoComplete\",cn=\"AdClickThru\",ln=\"AdUserAcceptInvitation\",dn=\"AdUserMinimize\",fn=\"AdUserClose\",hn=\"AdPaused\",pn=\"AdPlaying\",vn=\"AdError\",mn=function(e,t,r){return new Promise(function(n,i){var o=void 0,a=function i(){\"number\"==typeof r&&clearTimeout(o),e.unsubscribe(i,t),n()};\"number\"==typeof r&&(o=setTimeout(function(){e.unsubscribe(a,t),i(new Error(\"Timeout waiting for event '\"+t+\"'\"))},r)),e.subscribe(a,t)})},yn=function(e,t,r){for(var n=arguments.length,i=Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];var a=mn(e,r,5e3);return e[t].apply(e,i),a},gn=function(e){var t=e.split(\".\");return parseInt(t[0],10)},wn=function(e,t){var r=e.handshakeVersion(t);if(!function(e,t){var r=gn(t);return!(r<1)&&r<=gn(e)}(t,r))throw new Error(\"Creative Version '\"+r+\"' not supported\");return r},bn=function(e,t,r){var n=t.element,i=n.getBoundingClientRect(),o=i.width,a=i.height,u=jr(o,a),s={slot:function(e,t,r){var n=document.createElement(\"DIV\");return Object.assign(n.style,{border:\"0px\",cursor:\"pointer\",height:r+\"px\",left:\"0px\",margin:\"0px\",padding:\"0px\",position:\"absolute\",top:\"0px\",width:t+\"px\"}),e.appendChild(n),n}(n,o,a),videoSlot:t.videoElement,videoSlotCanAutoPlay:t.isOriginalVideoElement},c=ke(r[0].XML);e.initAd(o,a,u,-1,c,s)},kn=p.complete,En=p.mute,An=p.unmute,xn=p.skip,Cn=p.start,Pn=p.firstQuartile,Tn=p.pause,Sn=p.resume,In=p.impression,Vn=p.midpoint,_n=p.thirdQuartile,Ln=p.clickThrough,On=p.error,Fn=p.closeLinear,Rn=[\"AdLoaded\",Jr,Kr,Yr,\"AdSkippableStateChange\",\"AdSizeChange\",\"AdLinearChange\",Zr,\"AdExpandedChange\",en,tn,rn,nn,on,an,un,sn,cn,\"AdInteraction\",ln,dn,fn,hn,pn,\"AdLog\",vn].filter(function(e){return\"AdLoaded\"!==e}),jn=Symbol(\"_private\"),Mn=function(e){var t=e instanceof Error&&e||\"string\"==typeof e&&new Error(e)||new Error(\"VPAID general error\");return t.payload=e,t.code||(t.code=901),t},Bn=function(e){function t(e,r){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D(this,t);var o=Q(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,i));return o[jn]={evtHandler:(n={},z(n,cn,function(e,t,r){if(r)if(o.paused())o.resume();else{var n=\"string\"==typeof e&&e.length>0?e:ye(o.vastChain[0].ad);o.pause(),window.open(n,\"_blank\")}o.emit(Ln,{adUnit:o,type:Ln})}),z(n,Zr,function(){o.emit(at,{adUnit:o,type:at})}),z(n,vn,function(e){o.error=Mn(e),o.errorCode=o.error.code,o[Nr].onErrorCallbacks.forEach(function(e){return e(o.error,{adUnit:o,vastChain:o.vastChain})}),o[Nr].finish(),o.emit(On,{adUnit:o,type:On})}),z(n,rn,function(){o[jn].videoStart||o[jn].handleVpaidEvt(nn),o.emit(In,{adUnit:o,type:In})}),z(n,hn,function(){o[jn].paused=!0,o.emit(Tn,{adUnit:o,type:Tn})}),z(n,pn,function(){o[jn].paused=!1,o.emit(Sn,{adUnit:o,type:Sn})}),z(n,en,function(){o.emit(at,{adUnit:o,type:at})}),z(n,Yr,function(){o.cancel(),o.emit(xn,{adUnit:o,type:xn})}),z(n,Jr,function(){o.emit(y,{adUnit:o,type:y})}),z(n,Kr,function(){o.emit(Kr,{adUnit:o,type:Kr}),o[Nr].finish()}),z(n,ln,function(){o.emit(v,{adUnit:o,type:v})}),z(n,fn,function(){o.emit(Fn,{adUnit:o,type:Fn}),o[Nr].finish()}),z(n,dn,function(){o.emit(m,{adUnit:o,type:m})}),z(n,sn,function(){o.emit(kn,{adUnit:o,type:kn}),o[Nr].finish()}),z(n,on,function(){o.emit(Pn,{adUnit:o,type:Pn})}),z(n,an,function(){o.emit(Vn,{adUnit:o,type:Vn})}),z(n,nn,function(){o[jn].videoStart||(o[jn].videoStart=!0,o[jn].paused=!1,o.emit(Cn,{adUnit:o,type:Cn}))}),z(n,un,function(){o.emit(_n,{adUnit:o,type:_n})}),z(n,tn,function(){var e=o.getVolume();o.emit(it,{adUnit:o,type:it}),0!==e||o[jn].muted||(o[jn].muted=!0,o.emit(En,{adUnit:o,type:En})),e>0&&o[jn].muted&&(o[jn].muted=!1,o.emit(An,{adUnit:o,type:An}))}),n),handleVpaidEvt:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=o[jn].evtHandler[e];i&&i.apply(void 0,r),o.emit(e,{adUnit:o,type:e})},muted:!1,paused:!0},o.type=\"VPAID\",o.creativeAd=null,o[jn].loadCreativePromise=Gr(e,r),o}return q(t,Dr),W(t,[{key:\"start\",value:function(){var e=N(h.mark(function e(){var t,r,n,i,o,a,u,s,c,l=this;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this[Nr].throwIfFinished(),!this.isStarted()){e.next=3;break}throw new Error(\"VpaidAdUnit already started\");case 3:return e.prev=3,e.next=6,this[jn].loadCreativePromise;case 6:for(this.creativeAd=e.sent,t=mn(this.creativeAd,\"AdLoaded\"),r=!0,n=!1,i=void 0,e.prev=11,o=Rn[Symbol.iterator]();!(r=(a=o.next()).done);r=!0)u=a.value,this.creativeAd.subscribe(this[jn].handleVpaidEvt.bind(this,u),u);e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),n=!0,i=e.t0;case 19:e.prev=19,e.prev=20,!r&&o.return&&o.return();case 22:if(e.prev=22,!n){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return this.creativeAd.getAdIcons&&!this.creativeAd.getAdIcons()&&(this.icons=null),wn(this.creativeAd,\"2.0\"),bn(this.creativeAd,this.videoAdContainer,this.vastChain),e.next=32,t;case 32:if(this.videoAdContainer.isDestroyed()){e.next=48;break}return e.prev=33,(s=this.videoAdContainer.videoElement).muted?(this[jn].muted=!0,this.setVolume(0)):this.setVolume(s.volume),e.next=38,yn(this.creativeAd,\"startAd\",Jr);case 38:if(!this.icons){e.next=42;break}return c=function(){var e=N(h.mark(function e(){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.isFinished()){e.next=2;break}return e.abrupt(\"return\");case 2:return e.next=4,l[Nr].drawIcons();case 4:l[Nr].hasPendingIconRedraws()&&!l.isFinished()&&setTimeout(c,500);case 5:case\"end\":return e.stop()}},e,l)}));return function(){return e.apply(this,arguments)}}(),e.next=42,c();case 42:this[Nr].started=!0,e.next=48;break;case 45:e.prev=45,e.t1=e.catch(33),this.cancel();case 48:return e.abrupt(\"return\",this);case 51:throw e.prev=51,e.t2=e.catch(3),this[jn].handleVpaidEvt(vn,e.t2),e.t2;case 55:case\"end\":return e.stop()}},e,this,[[3,51],[11,15,19,27],[20,,22,26],[33,45]])}));return function(){return e.apply(this,arguments)}}()},{key:\"resume\",value:function(){this.creativeAd.resumeAd()}},{key:\"pause\",value:function(){this.creativeAd.pauseAd()}},{key:\"paused\",value:function(){return this.isFinished()||this[jn].paused}},{key:\"setVolume\",value:function(e){this.creativeAd.setAdVolume(e)}},{key:\"getVolume\",value:function(){return this.creativeAd.getAdVolume()}},{key:\"cancel\",value:function(){var e=N(h.mark(function e(){var t;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this[Nr].throwIfFinished(),e.prev=1,t=mn(this.creativeAd,Kr,3e3),this.creativeAd.stopAd(),e.next=6,t;case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this[Nr].finish();case 11:case\"end\":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:\"duration\",value:function(){if(!this.creativeAd)return 0;var e=this.creativeAd.getAdDuration();return e<0?0:e}},{key:\"currentTime\",value:function(){if(!this.creativeAd)return 0;var e=this.creativeAd.getAdRemainingTime();return e<0?0:this.duration()-e}},{key:\"resize\",value:function(){var e=N(h.mark(function e(r,n,i){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"resize\",this).call(this,r,n,i);case 2:return e.abrupt(\"return\",yn(this.creativeAd,\"resizeAd\",\"AdSizeChange\",r,n,i));case 3:case\"end\":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()}]),t}(),Un=function(e,t,r){var n=r.tracker,i=\"VPAID\"===r.type?new Bn(e,t,r):new qr(e,t,r);return Object.values(p).forEach(function(t){return i.on(t,function(t){var r=t.type,o={data:t.data,errorCode:i.errorCode,tracker:n};!function(e,t,r){var n=r.data,i=r.errorCode,o=r.tracker,a=void 0===o?xe:o,u=r.logger,s=void 0===u?console:u,c=Se[e];c?c(t,{data:H({},n,{errorCode:i}),errorCode:i,tracker:a}):s.error(\"Event '\"+e+\"' cannot be tracked\")}(r,e,o)})}),Object.values(g).forEach(function(t){return i.on(t,function(t){var r={data:t.data,tracker:n};!function(e,t,r){var n=r.data,i=r.tracker,o=void 0===i?xe:i,a=r.logger,u=void 0===a?console:a,s=Ve[e];s?s(t,{data:H({},n),tracker:o}):u.error(\"Event '\"+e+\"' cannot be tracked\")}(t.type,e,r)})}),i},Nn=function(e,t){if(!Array.isArray(e)||0===e.length)throw new TypeError(\"Invalid vastChain\");if(!(t instanceof Ne))throw new TypeError(\"Invalid VideoAdContainer\")},Dn=function(e,t){var r=he(e);return!!r&&r.some(function(e){return We(t,e)})},Wn=function(e,t){var r=t.onAdReady;return new Promise(function(t,n){var i=function(e){return function(){return n(new Error(\"Ad unit start rejected due to event '\"+e+\"'\"))}};e.onError(n),e.on(\"start\",function(){return t(e)}),e.on(fn,i(fn)),e.on(\"closeLinear\",i(\"closeLinear\")),e.on(Kr,i(Kr)),r(e),e.start()})},zn=function(e,t,r){if(n=e[0].ad,!Boolean(ve(n)))throw new Error(\"No valid creative found in the passed VAST chain\");var n,i=Un(e,t,H({},r,{type:\"VPAID\"}));return Wn(i,r)},Hn=function(e,t,r){var n=Un(e,t,H({},r,{type:\"VAST\"}));return Wn(n,r)},$n=function(){var e=N(h.mark(function e(t,r,n){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Nn(t,r),e.prev=1,e.next=4,zn(t,r,n);case 4:return e.abrupt(\"return\",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!Dn(t[0].ad,r.videoElement)){e.next=11;break}return e.abrupt(\"return\",Hn(t,r,n));case 11:throw e.t0;case 12:case\"end\":return e.stop()}},e,void 0,[[1,7]])}));return function(t,r,n){return e.apply(this,arguments)}}(),qn=function(){var e=N(h.mark(function e(t,r,n){var i,o,a,u,s,c,l;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0,e.prev=1,o=n.timeout,i=De(r,n.videoElement),a=$n(t,i,n),\"number\"==typeof o&&(u=!1,s=void 0,c=new Promise(function(e,r){s=setTimeout(function(){var e=n.tracker;Ce(t,{errorCode:402,tracker:e}),u=!0,r(new Error(\"Timeout while starting the ad\"))},n.timeout)}),a=Promise.race([a.then(function(e){return u?e.isStarted()&&e.cancel():clearTimeout(s),e}),c])),e.next=8,a;case 8:return l=e.sent,e.abrupt(\"return\",{adUnit:l,destroy:function(){return i.destroy()}});case 12:throw e.prev=12,e.t0=e.catch(1),i&&i.destroy(),e.t0;case 16:case\"end\":return e.stop()}},e,void 0,[[1,12]])}));return function(t,r,n){return e.apply(this,arguments)}}(),Qn=function(){var e=N(h.mark(function e(t){var r,n,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={credentials:\"include\"},n=Object.assign({},r,a),e.next=4,window.fetch(t,n);case 4:if(!((i=e.sent).status>=400)){e.next=9;break}throw(o=new Error(i.statusText)).response=i,o;case 9:return e.abrupt(\"return\",i);case 10:case\"end\":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),Xn=Symbol(\"requested\"),Gn=function(e){e[Xn]=!0},Jn=function(e,t){var r=t.wrapperLimit,n=void 0===r?5:r;if(e.length>n){var i=new Error(\"Wrapper Limit reached\");throw i.code=304,i}},Kn=function(){var e=N(h.mark(function e(t,r){var n,i;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qn(t,r);case 3:return n=e.sent,e.next=6,n.text();case 6:return i=e.sent,e.abrupt(\"return\",i);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.code=502,e.t0;case 14:case\"end\":return e.stop()}},e,void 0,[[0,10]])}));return function(t,r){return e.apply(this,arguments)}}(),Yn=function(e){try{return F(e)}catch(e){throw e.code=100,e}},Zn=function(e){try{var t=ae(e);if(Boolean(t))return Gn(t),t;throw new Error(\"No Ad\")}catch(e){throw e.code=303,e}},ei=function(e,t){var r=e.ad,n=e.parsedXML,i=t.allowMultipleAds,o=void 0===i||i,a=t.followAdditionalWrappers,u=void 0===a||a;if(!ue(r)&&!se(r)){var s=new Error(\"Invalid VAST, ad contains neither Wrapper nor Inline\");throw s.code=101,s}if(oe(n)&&!o){var c=new Error(\"Multiple ads are not allowed\");throw c.code=203,c}if(ue(r)&&!u){var l=new Error(\"To follow additional wrappers is not allowed\");throw l.code=200,l}},ti=function(e,t){var r=e[0],n=Boolean(r)&&ue(r.ad)?le(r.ad):{};return H({},n,t)},ri=(hr=N(h.mark(function e(t,r){var n,i,o,a,u,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={ad:null,errorCode:null,parsedXML:null,requestTag:t,XML:null},i=void 0,o=void 0,a=void 0,e.prev=4,i=ti(s,r),Jn(s,i),u=Kn(t,i),\"number\"==typeof i.timeout&&(a=i.timeout,o=Date.now(),u=Promise.race([u,new Promise(function(e,t){setTimeout(function(){var e=new Error(\"RequestAd timeout\");e.code=301,t(e)},a)})])),e.next=11,u;case 11:if(n.XML=e.sent,n.parsedXML=Yn(n.XML),n.ad=Zn(n.parsedXML),ei(n,i),!ue(n.ad)){e.next=18;break}return o&&(a-=Date.now()-o),e.abrupt(\"return\",ri(ce(n.ad),H({},i,{timeout:a}),[n].concat(G(s))));case 18:return e.abrupt(\"return\",[n].concat(G(s)));case 21:return e.prev=21,e.t0=e.catch(4),Number.isInteger(e.t0.code)||(e.t0.code=900),n.errorCode=e.t0.code,n.error=e.t0,e.abrupt(\"return\",[n].concat(G(s)));case 27:case\"end\":return e.stop()}},e,void 0,[[4,21]])})),function(e,t){return hr.apply(this,arguments)}),ni=function(e,t){var r=e.ad,n=e.parsedXML,i=t.fallbackOnNoAd,o=void 0===i||i,a=t.useAdBuffet,u=void 0!==a&&a,s=te(n).filter(function(e){return!Boolean(e[Xn])}),c=null;return oe(n)?(u&&(c=s.filter(function(e){return!ie(e)})[0]),c||(c=function(e,t){var r=ne(e)+1;return t.find(function(e){return ne(e)===r})||null}(r,s))):s.length>0&&o&&(c=s[0]),c},ii=function e(t,r){!function(e){if(!Array.isArray(e))throw new TypeError(\"Invalid VAST chain\");if(0===e.length)throw new Error(\"No next ad to request\")}(t);var n=t[0],i=ni(n,r);if(Boolean(i)){var o=[Object.assign({},n,{ad:i})].concat(G(t.slice(1)));return Gn(i),ue(i)?ri(ce(i),r,o):Promise.resolve(o)}return e(t.slice(1),r)},oi=function(e,t){if(!e||0===e.length)throw new Error(\"Invalid VastChain\");var r=e[0];if(!t.vpaidEnabled&&function(e){return Boolean(ve(e[0].ad))}(e)){var n=new Error(\"VPAID ads are not supported by the current player\");n.code=200,r.errorCode=200,r.error=n}if(Boolean(r.error))throw r.error;t.hooks&&\"function\"==typeof t.hooks.validateVastResponse&&t.hooks.validateVastResponse(e)},ai=function(e){return function(){\"function\"==typeof e&&e.apply(void 0,arguments)}},ui=function(e,t){return e&&e[0]&&e[0].errorCode||t.code},si=function(e,t){var r=t.hooks;return r&&\"function\"==typeof r.transformVastResponse?r.transformVastResponse(e):e},ci=function(){var e=N(h.mark(function e(t,r,n,i){var o,a,u,s,c,l,d,f,p,v;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0,a=void 0,u=void 0,s=H({},n),c=s.onAdStart,l=s.onError,d=s.onRunFinish,e.prev=5,\"number\"==typeof s.timeout&&(a=Date.now()),e.next=9,t();case 9:if(o=e.sent,!i()){e.next=13;break}return d(),e.abrupt(\"return\");case 13:return a&&(f=Date.now(),s.timeout-=f-a,a=f),oi(o,s),e.next=17,qn(si(o,s),r,H({},s));case 17:if(u=e.sent,!i()){e.next=22;break}return u.cancel(),d(),e.abrupt(\"return\");case 22:u.onError(l),u.onFinish(d),c(u),e.next=38;break;case 27:if(e.prev=27,e.t0=e.catch(5),p=ui(o,e.t0),Boolean(p)&&(v=n.tracker,Ce(o,{errorCode:p,tracker:v})),l(e.t0,{adUnit:u,vastChain:o}),!o||i()){e.next=37;break}if(a&&(s.timeout-=Date.now()-a),a&&!(s.timeout>0)){e.next=37;break}return ci(function(){return ii(o,s)},r,H({},s),i),e.abrupt(\"return\");case 37:d();case 38:case\"end\":return e.stop()}},e,void 0,[[5,27]])}));return function(t,r,n,i){return e.apply(this,arguments)}}(),li=function(e,t){var r=e&&T(e,t);if(r)return V(r)},di=function e(t){var r=function(e){var t=I(e);return t&&T(t,\"Pricing\")}(t[0].ad);return r?{pricing:V(r),pricingCurrency:L(r,\"currency\"),pricingModel:L(r,\"model\")}:t.length>1?e(t.slice(1)):{}};r.getDetails=function(e){var t,r,n,i,o,a=e.map(function(e){var t=e.ad;return L(t,\"id\")}),u=e.map(function(e){return function(e){var t=I(e),r=t&&T(t,\"AdSystem\");if(r)return V(r)}(e.ad)}),s=e.map(function(e){var t=e.ad;return M(t)}).filter(function(e){return Boolean(e)}),c=s.map(function(e){return L(e,\"id\")}),l=s.map(function(e){return L(e,\"adId\")}),d=di(e),f=d.pricing,h=d.pricingCurrency,p=d.pricingModel,v=(t=e[0].ad,r=T(t,\"InLine\"),(n=r&&T(r,\"Category\"))?{category:V(n),categoryAuthority:L(n,\"authority\")}:{}),m=v.category,y=v.categoryAuthority,g=I(e[0].ad),w=M(e[0].ad),b=w&&T(w,\"Linear\"),k=li(g,\"AdServingId\"),E=(i=e[0].parsedXML,(o=i&&T(i,\"VAST\"))?L(o,\"version\"):\"unknown\"),A=li(g,\"Advertiser\"),x=li(g,\"AdTitle\"),C=li(g,\"Description\"),P=li(b,\"Duration\"),S=P&&R(P),_=void 0,O=[],F=void 0,j=[],B=void 0,U=[],N=void 0,D=[],W=void 0,z=void 0,H=void 0,$=void 0,q=[],Q=void 0,G=void 0,J=void 0,K=void 0;if(se(e[0].ad)){var Y=X(a);_=Y[0],O=Y.slice(1);var Z=X(u);F=Z[0],j=Z.slice(1);var ee=X(c);B=ee[0],U=ee.slice(1);var te=X(l);N=te[0],D=te.slice(1),W=ye(e[0].ad),z=ke(e[0].XML);var re=T(w,\"UniversalAdId\");H=V(re),$=L(re,\"idRegistry\"),q=he(e[0].ad),Q=Boolean(ve(e[0].ad)),J=L(b,\"skipoffset\"),K=R(J),G=Boolean(J)}else ue(e[0].ad)&&(O=a,j=u,U=c,D=l);return{adId:_,adServingId:k,adSystem:F,adTitle:x,advertiser:A,adWrapperCreativeAdIds:D,adWrapperCreativeIds:U,adWrapperIds:O,adWrapperSystems:j,category:m,categoryAuthority:y,clickThroughUrl:W,creativeAdId:N,creativeData:z,creativeId:B,description:C,duration:P,durationInMs:S,mediaFiles:q,pricing:f,pricingCurrency:h,pricingModel:p,skipOffset:J,skipOffsetInMs:K,skippable:G,universalAdId:H,universalAdIdRegistry:$,vastVersion:E,vpaid:Q}},r.run=qn,r.runWaterfall=function(e,t,r){var n=!1,i=null,o=ai(r.onAdStart),a=H({vpaidEnabled:!0},r,{onAdReady:ai(r.onAdReady),onAdStart:function(e){o(i=e)},onError:ai(r.onError),onRunFinish:ai(r.onRunFinish)});return r.videoElement&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&r.videoElement.load(),ci(function(){return ri(e,a)},t,a,function(){return n}),function(){n=!0,i&&!i.isFinished()&&i.cancel()}},r.requestAd=ri,r.requestNextAd=ii,r.vastSelectors=Ee,e.exports.addOnSkipWrapper=function(e){At[At.indexOf(rt)]=e(rt),rt=e(rt)}}(r={exports:{}},r.exports),r.exports),o=(n=i)&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,\"default\")?n.default:n,a=(i.getDetails,i.run,i.runWaterfall,i.requestAd,i.requestNextAd,i.vastSelectors,i.addOnSkipWrapper,\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e}),u=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(i,o){try{var a=t[i](o),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n(\"next\",e)},function(e){n(\"throw\",e)});e(u)}(\"next\")})}},s=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),d=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)};function f(e,t){var r=void 0,n=void 0,i=0;e.addEventListener(\"timeupdate\",function(){var o=Math.round(e.currentTime);if(function(e){return e.duration-e.currentTime<5}(e)&&o!==i){i=o;var a,u=function(e){var t=h(e),r=t.getContext(\"2d\");return r.drawImage(e,0,0,t.width,t.height),r.getImageData(0,0,t.width,t.height)}(e);r=r||(a=u.data.length,Array.from(new Set(new Array(20).fill(null).map(function(){return Math.floor(Math.random()*(a/4))}))));var s=function(e,t){return t.map(function(e){return[4*e,4*e+1,4*e+2]}).map(function(t){return t.map(function(t){return e[t]})}).map(function(e,t,r){return 0===t?void 0:(n=r[t-1],i=e,o=l(n,3),a=o[0],u=o[1],s=o[2],c=l(i,3),d=c[0],f=c[1],h=c[2],p=Math.pow(d-a,2),v=Math.pow(f-u,2),m=Math.pow(h-s,2),Math.sqrt(p+v+m));var n,i,o,a,u,s,c,d,f,h,p,v,m}).filter(function(e){return!!e}).reduce(p,0)}(Array.from(u.data),r);s<n||(t(function(e,t){var r=h(e);return r.getContext(\"2d\").putImageData(t,0,0),r.toDataURL()}(e,u)),n=s)}})}function h(e){var t=document.createElement(\"canvas\");return t.width=e.clientWidth,t.height=e.clientHeight,t}function p(e,t,r,n){return e+t/n.length}function v(e,t){m(e+\" { \"+function(e){var t=document.createElement(\"span\");return Object.keys(e).forEach(function(r){var n=e[r];\"content\"===r&&(n=\"'\"+n+\"'\"),t.style[r]=\"number\"==typeof n?n+\"px\":n}),t.style.cssText.replace(/;( |$)/g,\" !important; \")}(t)+\" }\"),function(e){return Object.keys(e).filter(function(t){return\"object\"===a(e[t])})}(t).forEach(function(r){v(function(e,t){var r=function(e){return[\"before\",\"after\",\"hover\"].indexOf(e)>=0}(t)?\":\":\".\";return\"\"+e+r+t}(e,r),t[r])})}function m(e){var t=document.createElement(\"style\");t.innerHTML=e,document.head.appendChild(t)}var y=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)},g=\"object\"==typeof t&&t&&t.Object===Object&&t,w=\"object\"==typeof self&&self&&self.Object===Object&&self,b=g||w||Function(\"return this\")(),k=function(){return b.Date.now()},E=/\\s/;var A=function(e){for(var t=e.length;t--&&E.test(e.charAt(t)););return t},x=/^\\s+/;var C=function(e){return e?e.slice(0,A(e)+1).replace(x,\"\"):e},P=b.Symbol,T=Object.prototype,S=T.hasOwnProperty,I=T.toString,V=P?P.toStringTag:void 0;var _=function(e){var t=S.call(e,V),r=e[V];try{e[V]=void 0;var n=!0}catch(e){}var i=I.call(e);return n&&(t?e[V]=r:delete e[V]),i},L=Object.prototype.toString;var O=function(e){return L.call(e)},F=\"[object Null]\",R=\"[object Undefined]\",j=P?P.toStringTag:void 0;var M=function(e){return null==e?void 0===e?R:F:j&&j in Object(e)?_(e):O(e)};var B=function(e){return null!=e&&\"object\"==typeof e},U=\"[object Symbol]\";var N=function(e){return\"symbol\"==typeof e||B(e)&&M(e)==U},D=NaN,W=/^[-+]0x[0-9a-f]+$/i,z=/^0b[01]+$/i,H=/^0o[0-7]+$/i,$=parseInt;var q=function(e){if(\"number\"==typeof e)return e;if(N(e))return D;if(y(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=C(e);var r=z.test(e);return r||H.test(e)?$(e.slice(2),r?2:8):W.test(e)?D:+e},Q=\"Expected a function\",X=Math.max,G=Math.min;var J,K=function(e,t,r){var n,i,o,a,u,s,c=0,l=!1,d=!1,f=!0;if(\"function\"!=typeof e)throw new TypeError(Q);function h(t){var r=n,o=i;return n=i=void 0,c=t,a=e.apply(o,r)}function p(e){var r=e-s;return void 0===s||r>=t||r<0||d&&e-c>=o}function v(){var e=k();if(p(e))return m(e);u=setTimeout(v,function(e){var r=t-(e-s);return d?G(r,o-(e-c)):r}(e))}function m(e){return u=void 0,f&&n?h(e):(n=i=void 0,a)}function g(){var e=k(),r=p(e);if(n=arguments,i=this,s=e,r){if(void 0===u)return function(e){return c=e,u=setTimeout(v,t),l?h(e):a}(s);if(d)return clearTimeout(u),u=setTimeout(v,t),h(s)}return void 0===u&&(u=setTimeout(v,t)),a}return t=q(t)||0,y(r)&&(l=!!r.leading,o=(d=\"maxWait\"in r)?X(q(r.maxWait)||0,t):o,f=\"trailing\"in r?!!r.trailing:f),g.cancel=function(){void 0!==u&&clearTimeout(u),c=0,n=s=i=u=void 0},g.flush=function(){return void 0===u?a:m(k())},g},Y=(J=u(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=function(){var e=t.getBoundingClientRect(),r=e.width,n=e.height;return!!r&&!!n&&!!window.visibleAtLeastOnce})()){e.next=3;break}return e.abrupt(\"return\");case 3:return e.abrupt(\"return\",new Promise(function(e){var t=setInterval(function(){r()&&(clearInterval(t),e())},100)}));case 4:case\"end\":return e.stop()}},e,this)})),function(e){return J.apply(this,arguments)});function Z(e){var t=e.parsedVast,r=e.log,n=function(e){return e.map(function(e){return function(e){var t=e.verificationEl,r=e.log,n=function(e){return(e.elements.find(function(e){return\"text\"===e.type})||{text:\"\"}).text},i=t.elements.find(function(e){return\"javascriptresource\"===e.name}),o=i&&n(i);if(o){var a=t.elements.find(function(e){return\"verificationparameters\"===e.name}),u=a&&n(a);return[o,t.attributes&&t.attributes.vendor,u,\"full\"]}r(\"elementToOMIDVerificationResource\",\"skipping invalid element\",t)}({verificationEl:e,log:r})}).filter(Boolean)},i=t[0].ad.elements.find(function(e){return\"inline\"===e.name});if(!i)return[];var o=i.elements.find(function(e){return\"adverifications\"===e.name});if(o)return n(o.elements);var a=i.elements.find(function(e){return\"extensions\"===e.name}),u=a&&a.elements.find(function(e){return\"extension\"===e.name&&e.attributes&&\"adverifications\"===e.attributes.type.toLowerCase()}),s=u&&u.elements.find(function(e){return\"adverifications\"===e.name});return s?n(s.elements):[]}function ee(e){var t=e.parsedVast[0].ad,r=t&&t.elements.find(function(e){return\"inline\"===e.name}),n=r&&r.elements.find(function(e){return\"creatives\"===e.name}),i=n&&n.elements.find(function(e){return\"creative\"===e.name}),o=i&&i.elements.find(function(e){return\"linear\"===e.name}),a=(o&&o.attributes||{}).skipoffset;if(!a)return{isSkippable:!1,skipOffset:0};var u=a.split(\":\").map(Number).reduce(function(e,t){return 60*e+t},0);return{isSkippable:u>0,skipOffset:u}}var te,re=(te=u(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,u,s,c,l,f,h,p,v,m,y,g,w,b,k,E,A,x=t.parsedVast,C=t.videoElement,P=t.addVastEventListener,T=t.adEndedPromise,S=t.isInstream,I=t.instreamAdBreakType,V=t.autoplay,_=t.log;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(C);case 2:if(r=window.OmidSessionClient&&window.OmidSessionClient.default){e.next=6;break}return _(\"warn\",\"OMID library not found\"),e.abrupt(\"return\");case 6:if(n=r.AdSession,i=r.Partner,o=r.Context,a=r.VastProperties,u=r.VerificationScriptResource,s=r.AdEvents,c=r.MediaEvents,l=new i(\"Carodaio\",\"1.0.0\"),f=Z({parsedVast:x,log:_}),h=f.map(function(e){return new(Function.prototype.bind.apply(u,[null].concat(d(e))))}),p=window.top,(v=new o(l,h,p.location.href)).setVideoElement(C),v.setServiceWindow(p),(m=new n(v)).setCreativeType(\"video\"),m.setImpressionType(\"viewable\"),m.isSupported()){e.next=20;break}return _(\"warn\",\"OMID service script communication failed\"),e.abrupt(\"return\");case 20:return m.start(),y=new s(m),g=new c(m),w=ee({parsedVast:x}),b=w.isSkippable,k=w.skipOffset,E=new a(b,k,V,S?I:\"standalone\"),y.loaded(E),A=function(){return!C.muted*C.volume},P(\"impression\",function(){return y.impressionOccurred()}),P(\"start\",function(){return g.start(C.duration,A())}),P(\"firstQuartile\",function(){return g.firstQuartile()}),P(\"midpoint\",function(){return g.midpoint()}),P(\"thirdQuartile\",function(){return g.thirdQuartile()}),P(\"complete\",function(){return g.complete()}),P(\"clickThrough\",function(){return g.adUserInteraction(\"click\")}),C.addEventListener(\"volumechange\",K(function(){return g.volumeChange(A())},100)),e.next=38,T;case 38:m.finish();case 39:case\"end\":return e.stop()}},e,this)})),function(e){return te.apply(this,arguments)});function ne(e){return function(){return!e.apply(e,arguments)}}function ie(e){return new Promise(function(t){var r=setInterval(function(){e()&&(clearInterval(r),t())})})}var oe=function(){function e(t){var r=t.adPlayer,n=t.getVideoElement,i=t.log;s(this,e),this.adPlayer=r,this.getVideoElement=n,this.currentTime=this.getVideoElement().currentTime,this.log=i,this.playAdErrorCount=0,this.forceStarted=!1}return c(e,[{key:\"shouldForceStart\",value:function(){return this.adPlayer.creativeAd&&this.adPlayer.creativeAd.startAd&&!this.getVideoElement().src&&!this.forceStarted}},{key:\"forceStart\",value:function(){this.forceStarted=!0,this.adPlayer.creativeAd.startAd()}},{key:\"getDimensions\",value:function(){var e=u(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(function(){return a.getVideoElement().duration>1&&a.getVideoElement().currentTime>0});case 2:return t=this.vastMediaFiles(),r=this.getVideoElement(),n=t.find(function(e){return e.innerText===r.src}),i=r.videoWidth||n&&+n.width||16,o=r.videoHeight||n&&+n.height||9,this.log(\"StandardCreativeController\",\".getDimensions\",{mediaFiles:t,mediaFile:n}),e.abrupt(\"return\",{width:i,height:o});case 9:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"getProgress\",value:function(){return{currentTime:this.getVideoElement().currentTime,duration:this.getVideoElement().duration}}},{key:\"shouldThrowIfRewind\",value:function(){return\"VPAID\"===this.adPlayer.type}},{key:\"playAd\",value:function(){var e=u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.adPlayer.paused()){e.next=3;break}return e.next=3,Promise.resolve(this.adPlayer.resume());case 3:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"pauseAd\",value:function(){this.getVideoElement().readyState<2||this.adPlayer&&!this.adPlayer.paused()&&this.adPlayer.pause()}},{key:\"setVolume\",value:function(e){!!this.getVideoElement().src&&this.adPlayer.setVolume(e),this.getVideoElement().muted=0===e}},{key:\"resize\",value:function(e){e.width,e.height}},{key:\"shouldNotifyAdEnded\",value:function(){return!0}},{key:\"waitBeforeTracking\",value:function(){var e=u(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:\"vastMediaFiles\",value:function(){try{return this.adPlayer.vastChain[0].ad.elements.find(function(e){return\"inline\"===e.name}).elements.find(function(e){return\"creatives\"===e.name}).elements.find(function(e){return\"creative\"===e.name}).elements.find(function(e){return\"linear\"===e.name}).elements.find(function(e){return\"mediafiles\"===e.name}).elements.map(function(e){return Object.assign(e.attributes,{innerText:e.elements.find(function(e){return\"text\"===e.type}).text})})}catch(e){return this.log(\"AdController\",\".vastMediaFiles\",\"Could not fetch vast media file info\",e.message,e.stack),[]}}}]),e}(),ae=Array.isArray,ue=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,se=/^\\w*$/;var ce=function(e,t){if(ae(e))return!1;var r=typeof e;return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=e&&!N(e))||se.test(e)||!ue.test(e)||null!=t&&e in Object(t)},le=\"[object AsyncFunction]\",de=\"[object Function]\",fe=\"[object GeneratorFunction]\",he=\"[object Proxy]\";var pe,ve=function(e){if(!y(e))return!1;var t=M(e);return t==de||t==fe||t==le||t==he},me=b[\"__core-js_shared__\"],ye=(pe=/[^.]+$/.exec(me&&me.keys&&me.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+pe:\"\";var ge=function(e){return!!ye&&ye in e},we=Function.prototype.toString;var be=function(e){if(null!=e){try{return we.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"},ke=/^\\[object .+?Constructor\\]$/,Ee=Function.prototype,Ae=Object.prototype,xe=Ee.toString,Ce=Ae.hasOwnProperty,Pe=RegExp(\"^\"+xe.call(Ce).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");var Te=function(e){return!(!y(e)||ge(e))&&(ve(e)?Pe:ke).test(be(e))};var Se=function(e,t){return null==e?void 0:e[t]};var Ie=function(e,t){var r=Se(e,t);return Te(r)?r:void 0},Ve=Ie(Object,\"create\");var _e=function(){this.__data__=Ve?Ve(null):{},this.size=0};var Le=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Oe=\"__lodash_hash_undefined__\",Fe=Object.prototype.hasOwnProperty;var Re=function(e){var t=this.__data__;if(Ve){var r=t[e];return r===Oe?void 0:r}return Fe.call(t,e)?t[e]:void 0},je=Object.prototype.hasOwnProperty;var Me=function(e){var t=this.__data__;return Ve?void 0!==t[e]:je.call(t,e)},Be=\"__lodash_hash_undefined__\";var Ue=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ve&&void 0===t?Be:t,this};function Ne(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ne.prototype.clear=_e,Ne.prototype.delete=Le,Ne.prototype.get=Re,Ne.prototype.has=Me,Ne.prototype.set=Ue;var De=Ne;var We=function(){this.__data__=[],this.size=0};var ze=function(e,t){return e===t||e!=e&&t!=t};var He=function(e,t){for(var r=e.length;r--;)if(ze(e[r][0],t))return r;return-1},$e=Array.prototype.splice;var qe=function(e){var t=this.__data__,r=He(t,e);return!(r<0||(r==t.length-1?t.pop():$e.call(t,r,1),--this.size,0))};var Qe=function(e){var t=this.__data__,r=He(t,e);return r<0?void 0:t[r][1]};var Xe=function(e){return He(this.__data__,e)>-1};var Ge=function(e,t){var r=this.__data__,n=He(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function Je(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Je.prototype.clear=We,Je.prototype.delete=qe,Je.prototype.get=Qe,Je.prototype.has=Xe,Je.prototype.set=Ge;var Ke=Je,Ye=Ie(b,\"Map\");var Ze=function(){this.size=0,this.__data__={hash:new De,map:new(Ye||Ke),string:new De}};var et=function(e){var t=typeof e;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==e:null===e};var tt=function(e,t){var r=e.__data__;return et(t)?r[\"string\"==typeof t?\"string\":\"hash\"]:r.map};var rt=function(e){var t=tt(this,e).delete(e);return this.size-=t?1:0,t};var nt=function(e){return tt(this,e).get(e)};var it=function(e){return tt(this,e).has(e)};var ot=function(e,t){var r=tt(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function at(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}at.prototype.clear=Ze,at.prototype.delete=rt,at.prototype.get=nt,at.prototype.has=it,at.prototype.set=ot;var ut=at,st=\"Expected a function\";function ct(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new TypeError(st);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(ct.Cache||ut),r}ct.Cache=ut;var lt=ct,dt=500;var ft=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,ht=/\\\\(\\\\)?/g,pt=function(e){var t=lt(e,function(e){return r.size===dt&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(\"\"),e.replace(ft,function(e,r,n,i){t.push(n?i.replace(ht,\"$1\"):r||e)}),t});var vt=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i},mt=1/0,yt=P?P.prototype:void 0,gt=yt?yt.toString:void 0;var wt=function e(t){if(\"string\"==typeof t)return t;if(ae(t))return vt(t,e)+\"\";if(N(t))return gt?gt.call(t):\"\";var r=t+\"\";return\"0\"==r&&1/t==-mt?\"-0\":r};var bt=function(e){return null==e?\"\":wt(e)};var kt=function(e,t){return ae(e)?e:ce(e,t)?[e]:pt(bt(e))},Et=1/0;var At=function(e){if(\"string\"==typeof e||N(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-Et?\"-0\":t};var xt=function(e,t){for(var r=0,n=(t=kt(t,e)).length;null!=e&&r<n;)e=e[At(t[r++])];return r&&r==n?e:void 0};var Ct=function(e,t,r){var n=null==e?void 0:xt(e,t);return void 0===n?r:n};var Pt=function(){function e(t){var r=this,n=t.adPlayer,i=t.volume;s(this,e),this.adPlayer=n,this.volume=i,this.playing=!1,this.adPlayer.on(\"start\",function(){r.playing?r.playAd():r.pauseAd(),r.setVolume(r.volume)})}return c(e,[{key:\"shouldForceStart\",value:function(){return!1}},{key:\"forceStart\",value:function(){throw new Error(\"not implemented!\")}},{key:\"getDimensions\",value:function(){var e=u(regeneratorRuntime.mark(function e(){var t,r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return n.adPlayer.on(\"start\",e)});case 2:return t=Ct(this.adPlayer,\"creativeAd._clip.width\")||this.adPlayer.creativeAd.getAdWidth(),r=Ct(this.adPlayer,\"creativeAd._clip.height\")||this.adPlayer.creativeAd.getAdWidth(),e.abrupt(\"return\",{width:t,height:r});case 5:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"getProgress\",value:function(){return{currentTime:this.adPlayer.currentTime(),duration:this.adPlayer.duration()}}},{key:\"shouldThrowIfRewind\",value:function(){return!1}},{key:\"resize\",value:function(e){var t=e.width,r=e.height;this.adPlayer.creativeAd.resizeAd(t,r)}},{key:\"shouldNotifyAdEnded\",value:function(){return!1}},{key:\"playAd\",value:function(){var e=u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.playing=!0,this.adPlayer.creativeAd&&!this.areVideoElementsPlaying()){e.next=3;break}return e.abrupt(\"return\");case 3:return e.next=5,this.playVideoElements();case 5:this.adPlayer.creativeAd.resumeAd();case 6:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"pauseAd\",value:function(){var e=u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.playing=!1,this.adPlayer.creativeAd&&this.areVideoElementsPlaying()){e.next=3;break}return e.abrupt(\"return\");case 3:return e.next=5,this.pauseVideoElements();case 5:this.adPlayer.creativeAd.pauseAd();case 6:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"setVolume\",value:function(e){this.volume=e,this.adPlayer.creativeAd&&this.adPlayer.creativeAd.setAdVolume(e)}},{key:\"redirectLogs\",value:function(){var e=u(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){var e=document.querySelector(\".bb_wrapper\");if(e)return e.parentElement.querySelector(\"iframe\")},e.next=3,ie(r);case 3:[\"log\",\"error\",\"debug\"].forEach(function(e){return r().contentWindow.console[e]=t.bind(t,\"console.\"+e)});case 5:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:\"waitBeforeTracking\",value:function(){var e=u(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(\"impression\"===t){e.next=2;break}return e.abrupt(\"return\");case 2:return e.abrupt(\"return\",ie(window.isPlayerInViewport));case 3:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:\"areVideoElementsPlaying\",value:function(){var e=this.getVideoElement();return this.isVideoElementReady(e)&&!e.paused}},{key:\"playVideoElements\",value:function(){var e=u(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getVideoElement(),this.isVideoElementReady(t)){e.next=3;break}return e.abrupt(\"return\");case 3:return e.abrupt(\"return\",t.play());case 4:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"pauseVideoElements\",value:function(){var e=u(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getVideoElement(),this.isVideoElementReady(t)){e.next=3;break}return e.abrupt(\"return\");case 3:return e.abrupt(\"return\",t.pause());case 4:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"isVideoElementReady\",value:function(e){return e&&e.readyState>=2}},{key:\"getVideoElement\",value:function(){return document.querySelector(\".bb-timeline-layer video\")}}]),e}();o.addOnSkipWrapper(function(e){return function(t,r,n){return window.molSkipOffsetInMs=n.skipoffset,e.apply(this,arguments)}}),window.recentPauseEvents=[],window.recentPlayErrorsWhileMuted=[],window.nativeOpen=window.XMLHttpRequest.prototype.open,window.XMLHttpRequest.prototype.open=function(e,t,r){return t=t.replace(/^\\/\\//,\"https://\"),window.nativeOpen.call(this,e,t,r)};var Tt=!!window.chrome,St=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);function It(e){if(e)if(\"mediafiles\"===e.name&&e.elements){var t=function(e){return!!e&&!!e.text&&e.text.trim().length};e.elements=e.elements.filter(ne(function(e){return!t(e)&&function(e){return!e.elements||e.elements.every(ne(t))}(e)})).filter(function(e){return!e.attributes||!e.attributes.type||!e.attributes.type.match(/3gp/)&&!e.attributes.type.match(/mp(e)?g/)})}else\"trackingevents\"===e.name&&e.elements?e.elements=e.elements.filter(function(e){return e.elements&&e.elements.length&&\"text\"===e.elements[0].type&&e.elements[0].text.length>0}):Array.isArray(e)?e.forEach(It):Array.isArray(e.elements)&&It(e.elements)}var Vt=function(){function e(t){var r=this;s(this,e),this.log(\"AdController\",\".constructor\",t),this.errorCount=0,window.onerror=function(e){return r.log(\"window error\",e),r.errorCount++,r.errorCount>10&&r.errorEvent({message:\"too many window errors: \"+e,vast:r.vast}),!0};var n=t.language&&t.language.toLowerCase()||\"en\";this.instream=t.instream||!1,this.instreamAdBreakType=t.instreamAdBreakType||\"preroll\";var i=t.thumbnailUrl;(this.isDoubleVerify=-1!==t.vast.indexOf(\"vpaid.doubleverify.com/js/vpaid-transformer\"),this.vast=t.vast,this.target=t.target,this.hideSkipButton=t.hideSkipButton,this.topFrameVideoId=t.topFrameVideoId,this.component=new Player({target:t.target,data:this.data}),this.startMuted=!1!==t.startMuted,this.lastUnmutedVolume=t.volume||1,this.eventHandlers=[],this.adSdkDestroy=function(){},this.isSkippable=!1,this.adError=!1,this.adEnded=!1,this.parsedVast=null,this.adEndedPromise=new Promise(function(e){return r.adEndedResolve=e}),window.$=this.component,this.id=t.id,this.playAdErrorCount=0,this.$=this.component,this.$.set({isDoubleVerify:this.isDoubleVerify,language:n,instream:this.instream,thumbnailUrl:i,isMobile:!!navigator.userAgent.match(/iPhone|iPad|Android/i),hideControls:!1,hideCarodaUI:!!t.hideCarodaUI,isPlaying:!1}),this.$.on(\"ad-click\",function(){return r.adClick()}),this.$.on(\"setVolume\",function(e){return r.setVolume(e)}),this.$.on(\"skip\",function(){return r.skip()}),this.$.on(\"toggle-audio\",function(){r.$.get(\"isMuted\")?(r.triggerTrackingEvent(\"unmute\"),r.unmute()):(r.triggerTrackingEvent(\"mute\"),r.mute())}),this.$.on(\"toggle-play\",function(){r.$.get(\"isPlaying\")?(r.userAdPaused=!0,r.pauseAd()):(r.userAdPaused=!1,r.playAd())}),this.$.on(\"toggle-fullscreen\",function(){r.event({type:r.$.get(\"isFullscreen\")?\"unfullscreen\":\"fullscreen\"})}),this.startTime=Date.now(),this.durationNotified=!1,this.currentTime=0,t.css&&m(t.css),t.styles&&this.setStyles(t.styles),this.keepLastFrame=t.keepLastFrame,this.lastFrame=void 0,this.keepLastFrame)&&f(Tt&&!St?this.getTopFrameVideoElement():this.videoElement(),function(e){r.lastFrame=e,r.hideLastFrameFallback()});this.startAd(),this.onProgress(),this.listenToChromeHeavyAdIntervention()}return c(e,[{key:\"log\",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.event({type:\"log\",message:(.001*(Date.now()-this.startTime)).toFixed(2)+\"s :: \"+t.map(function(e){if(\"string\"==typeof e)return e;try{return e instanceof Error?e.message+\" :: \"+e.stack+\" :: \"+JSON.stringify(e):JSON.stringify(e)}catch(t){return e.toString()}}).join(\" :: \")})}},{key:\"startAd\",value:function(){var e=u(regeneratorRuntime.mark(function e(){var t,r,n,i,a,u=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.log(\"AdController\",\".startAd\"),this.adPlayer=null,t=new Blob([this.vast],{type:\"text/xml\"}),r=window.URL.createObjectURL(t),e.next=7,o.requestAd(r,{});case 7:n=e.sent;try{It(n[0].ad)}catch(e){this.log(\"warn\",\"AdController\",\".startAd\",\"can not remove invalid elements\",e.message,e.stack)}return this.parsedVast=this.sanitizeParsedVast(n),this.log(\"AdController\",\".startAd\",\"waitForAdReadyTimeout start\"),this.waitForAdReadyTimeout=setTimeout(function(){return u.errorEvent({message:\"Ad ready timeout\"})},3e3),e.next=14,o.run(this.parsedVast,this.target.children[0],{onAdReady:this.onAdReady.bind(this),videoElement:this.videoElement()});case 14:i=e.sent,a=i.destroy,this.adSdkDestroy=a,e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),this.errorEvent({message:e.t0.message,vast:this.vast});case 22:case\"end\":return e.stop()}},e,this,[[0,19]])}));return function(){return e.apply(this,arguments)}}()},{key:\"sanitizeParsedVast\",value:function(e){var t=function(e){return e&&e.apiFramework&&\"vpaid\"===e.apiFramework.toLowerCase()},r=e[0].ad,n=o.vastSelectors.getMediaFiles(r);return n.some(t)&&n.some(ne(t))&&Z({parsedVast:{parsedVast:e}.parsedVast,log:function(){}}).length&&(this.log(\"warn\",\"AdController\",\".sanitizeParsedVast\",\"VPAID + other media files + OMID detected\"),this.removeVpaid(r)),e}},{key:\"removeVpaid\",value:function(e){var t=function(e){return e&&e.attributes&&e.attributes.apiFramework&&\"vpaid\"===e.attributes.apiFramework.toLowerCase()},r=function(e,t){return e.elements.find((r=t,function(e){return e.name===r}));var r};this.log(\"warn\",\"AdController\",\".removeVpaid\");try{var n=r(e,\"inline\");r(n,\"creatives\").elements.forEach(function(e){var n=r(e,\"linear\"),i=r(n,\"mediafiles\");i.elements=i.elements.filter(ne(t))})}catch(e){this.log(\"warn\",\"AdController\",\".removeVpaid\",e.message,e.stack)}}},{key:\"vastAdSystem\",value:function(){try{return this.adPlayer.vastChain[0].ad.elements.find(function(e){return\"inline\"===e.name}).elements.find(function(e){return\"adsystem\"===e.name}).elements.find(function(e){return\"text\"===e.type}).text}catch(e){return this.log(\"AdController\",\".vastAdSystem\",\"Could not fetch ad system info\",e.message,e.stack),\"unknown\"}}},{key:\"carodaPosterExtension\",value:function(){try{var e=this.adPlayer.vastChain[0].ad.elements.find(function(e){return\"inline\"===e.name}).elements.find(function(e){return\"extensions\"===e.name}).elements.find(function(e){return\"extension\"===e.name&&e.attributes&&\"caroda-poster\"===e.attributes.type}).elements[0].text,t=window.innerWidth-window.innerWidth%10;return e.replace(\"{{PLAYER_WIDTH}}\",t||400)}catch(e){return this.log(\"AdController\",\".carodaPosterExtension\",\"Could not fetch poster\",e.message),null}}},{key:\"trackVideoStart\",value:function(){var e=u(regeneratorRuntime.mark(function e(){var t,r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.log(\"AdController\",\".trackVideoStart\"),e.next=3,this.creativeController.getDimensions();case 3:t=e.sent,r=t.width,n=t.height,i=this.getFormat(r,n),this.log(\"AdController\",\".trackVideoStart\",{format:i}),this.event({type:\"adVideoStart\",format:i});case 9:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"getFormat\",value:function(e,t){var r=e/t;this.log(\"AdController\",\".getFormat\",{width:e,height:t,aspectRatio:r});return[[16/9,\"horizontal\"],[9/16,\"vertical\"],[1,\"square\"],[4/3,\"horizontal-4-3\"],[.75,\"vertical-3-4\"]].reduce(function(e,t){var n=l(e,2),i=n[0],o=n[1],a=l(t,2),u=a[0],s=a[1];return Math.abs(u-r)<Math.abs(i-r)?[u,s]:[i,o]})[1]}},{key:\"initPoster\",value:function(){var e=this.carodaPosterExtension();e&&(this.log(\"AdController\",\".initPoster\",\"using poster\",e),this.$.set({poster:e}))}},{key:\"onAdReady\",value:function(){var e=u(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.log(\"AdController\",\".onAdReady\"),this.vast.indexOf(\"bluebillywig.com/apps/vpaidplayer\")>=0?(this.creativeController=new Pt({adPlayer:t,volume:this.startMuted?0:1}),this.creativeController.redirectLogs(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.log.apply(r,[\"AdController\"].concat(t))})):this.creativeController=new oe({adPlayer:t,getVideoElement:function(){return r.videoElement()},log:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.log.apply(r,[\"AdController\"].concat(t))}}),this.adPlayer=t,this.isVpaid()?this.log(\"AdController\",\".onAdReady\",\"VPAID ad. Not running OMID\"):re({isInstream:this.instream,instreamAdBreakType:this.instreamAdBreakType,autoplay:!this.instream||!!this.startMuted,parsedVast:this.parsedVast,videoElement:this.getTopFrameVideoElement(),addVastEventListener:function(e,t){return r.adPlayer.on(e,t)},adEndedPromise:this.adEndedPromise,log:function(){return r.log.apply(r,arguments)}}).catch(function(e){return r.log(\"warn\",\"AdController\",\".startAd\",\"can not register OMID verifiers\",e.message,e.stack)}),this.startMuted?this.mute():this.unmute(),this.adPlayer.on(\"adProgress\",function(){return r.onProgress()}),setInterval(function(){return r.onProgress()},500),[\"impression\",\"pause\",\"resume\",\"start\",\"thirdQuartile\",\"firstQuartile\",\"midpoint\",\"clickThrough\"].forEach(function(e){return r.adPlayer.on(e,function(){return r.triggerTrackingEvent(e.replace(/[A-Z]/g,function(e){return\"_\"+e.toLowerCase()}))})}),this.adPlayer.on(\"skip\",u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.triggerTrackingEvent(\"skip\");case 2:r.endedEvent();case 3:case\"end\":return e.stop()}},e,r)}))),this.adPlayer.on(\"complete\",u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.isComplete=!0,e.next=3,r.triggerTrackingEvent(\"complete\");case 3:r.creativeController.shouldNotifyAdEnded()&&r.endedEvent();case 4:case\"end\":return e.stop()}},e,r)}))),this.adPlayer.on(\"error\",function(e){return r.errorEvent({message:e.adUnit.error.message,stack:e.adUnit.error.stack})}),this.adPlayer.on(\"pause\",function(){return r.notifyPlayStatus(!1)}),this.adPlayer.on(\"resume\",function(){return r.notifyPlayStatus(!0)}),this.adPlayer.on(\"start\",function(){return r.notifyPlayStatus(!0)}),this.initPoster(),this.trackVideoStart(),this.log(\"AdController\",\".startAd\",\"waitForAdReadyTimeout end\"),clearTimeout(this.waitForAdReadyTimeout);case 19:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:\"onProgress\",value:function(){if(this.creativeController){if(this.creativeController&&this.creativeController.shouldForceStart()&&this.creativeController.forceStart(),this.isPlayingAudioFile()&&!this.$.get(\"poster\"))return this.errorEvent({message:\"Audio ad without a poster\"});var e=this.creativeController.getProgress(),t=e.currentTime,r=e.duration;if(t&&this.creativeController.shouldThrowIfRewind()&&t<this.currentTime-2)return this.errorEvent({message:\"Current time \"+t+\" when previously it was \"+this.currentTime});this.currentTime=t;var n=this.hideSkipButton,i=(this.isVpaidSkippable()||!!this.defaultSkipButton())&&!this.hideSkipButton,o=this.getSkipTimeInSeconds(),a=this.hideSkipButton||this.isVpaid()&&!this.isVpaidSkippable()?0:o-t;this.$.set({progress:{hideSkipButton:n,currentTime:t,duration:r,skipTimeLeft:a,isSkippable:i}}),r&&!this.durationNotified&&(this.durationNotified=!0,this.event({type:\"duration\",message:r})),t&&this.event({type:\"timeupdate\",message:t})}}},{key:\"adClick\",value:function(){this.log(\"AdController\",\".adClick\"),(document.querySelector(\".mol-vast-clickthrough\")||this.videoElement()).click()}},{key:\"getTopFrameVideoElement\",value:function(){var e=this;return this._topFrameVideoElement||(this._topFrameVideoElement=window.parent.document.getElementById(this.topFrameVideoId),this._topFrameVideoElement.requestFullscreen=function(){return e.log(\"AdController\",\".getTopFrameVideoElement\",\"requestFullscreen\"),Promise.reject(new Error(\"fullscreen not allowed\"))}),this._topFrameVideoElement}},{key:\"videoElement\",value:function(){return this._videoElement||(this._videoElement=this.initializeVideoElement()),this._videoElement}},{key:\"initializeVideoElement\",value:function(){var e=this,t=Tt&&!St?this.getTopFrameVideoElement():this.target.querySelector(\"#caroda-video\"),r=void 0,n=void 0;return t._play=t.play,t.play=u(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=new Promise(function(e){r=e}),i.prev=1,i.next=4,t._play();case 4:i.next=21;break;case 6:return i.prev=6,i.t0=i.catch(1),t.muted&&e.log(\"error while supposedly muted\",i.t0),e.mute(),i.prev=10,i.next=13,t._play();case 13:i.next=21;break;case 15:i.prev=15,i.t1=i.catch(10),e.log(\"error while muted\",i.t1),window.recentPlayErrorsWhileMuted=window.recentPlayErrorsWhileMuted.filter(function(e){return e.ts>Date.now()-1e3}),window.recentPlayErrorsWhileMuted.push({ts:Date.now()}),window.recentPlayErrorsWhileMuted.length>=4&&e.errorEvent({message:\"too many mute + play attempted\"});case 21:r(),n=null;case 23:case\"end\":return i.stop()}},i,e,[[1,6],[10,15]])})),t._pause=t.pause,t.pause=u(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return e.abrupt(\"return\",t._pause());case 3:case\"end\":return e.stop()}},r,e)})),t}},{key:\"defaultSkipButton\",value:function(){return this.target.querySelector(\".mol-vast-skip-control\")}},{key:\"triggerTrackingEvent\",value:function(){var e=u(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.creativeController.waitBeforeTracking(t);case 2:this.log(\"AdController\",\".triggerTrackingEvent\",t),\"click_through\"===t&&this.triggerTrackingEvent(\"click_tracking\"),\"impression\"===t&&this.triggerTrackingEvent(\"creative_view\"),\"pause\"===t&&(window.recentPauseEvents=window.recentPauseEvents.filter(function(e){return e.ts>Date.now()-1e3}),window.recentPauseEvents.push({ts:Date.now()}),window.recentPauseEvents.length>=4&&this.errorEvent({message:\"too many pause events\"})),this.event({type:\"tracking\",eventName:t});case 7:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:\"event\",value:function(e){window.parent.postMessage(this.id+\"://\"+JSON.stringify(e),\"*\")}},{key:\"errorEvent\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adError=!0,this.event(Object.assign({},e,{type:\"adError\"})),this.adEndedResolve()}},{key:\"endedEvent\",value:function(){this.adEnded=!0,this.event({type:\"adEnded\"}),this.adEndedResolve(),this.keepLastFrame&&(this.lastFrame?this.renderFrame(this.lastFrame):this.renderLastFrameFallback())}},{key:\"registerMessageHandler\",value:function(){var e=this;window.addEventListener(\"message\",function(t){try{var r=t.data.match(/^([^:]+):\\/\\/(.*)$/),n=JSON.parse(r[2]);e.eventHandlers.filter(function(e){return e.type===n.type}).forEach(function(e){return e.handler(n)})}catch(e){console.error(e)}})}},{key:\"onEvent\",value:function(e,t){this.eventHandlers.push({type:e,handler:t})}},{key:\"playAd\",value:function(){var e=u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isComplete&&this.creativeController){e.next=2;break}return e.abrupt(\"return\");case 2:return e.prev=2,e.next=5,this.creativeController.playAd();case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),this.log(\"AdController\",\".playAd\",Object.assign({message:e.t0.message,stack:e.t0.stack},e.t0)),this.playAdErrorCount++,this.playAdErrorCount>10?this.errorEvent({message:\"too many playAd errors: \"+e.t0.message,vast:this.vast}):this.mute();case 12:case\"end\":return e.stop()}},e,this,[[2,7]])}));return function(){return e.apply(this,arguments)}}()},{key:\"pauseAd\",value:function(){var e=u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.creativeController){e.next=2;break}return e.abrupt(\"return\");case 2:return e.next=4,this.creativeController.pauseAd();case 4:this.notifyPlayStatus(!1);case 5:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"skip\",value:function(){if(this.isVpaidSkippable())return this.skipVpaid();var e=this.defaultSkipButton();this.log(\"AdController\",\".skip\",!!this.el),e&&e.click()}},{key:\"skipVpaid\",value:function(){var e=this;this.log(\"AdController\",\".skipVpaid\"),setTimeout(function(){e.adEnded||e.adError||e.forceSkipVpaid()},1500);var t=function(e){try{return e.contentWindow.getVPAIDAd()}catch(e){return null}},r=Array.from(document.querySelectorAll(\"iframe\")).find(function(e){return!!t(e)});r||this.log(\"AdController\",\".skipVpaid\",\"could not locate vpaid iframe\"),t(r).skipAd()}},{key:\"forceSkipVpaid\",value:function(){this.log(\"AdController\",\".forceSkipVpaid\"),this.event({type:\"skip\"}),this.event({type:\"adEnded\"})}},{key:\"mute\",value:function(){this.log(\"AdController\",\".mute\",!!this.adPlayer),this.setVolume(0)}},{key:\"unmute\",value:function(){this.log(\"AdController\",\".unmute\",!!this.adPlayer),this.setVolume(this.lastUnmutedVolume)}},{key:\"setVolume\",value:function(e){this.log(\"AdController\",\".setVolume\",e),this.creativeController&&this.creativeController.setVolume(e),this.$.set({isMuted:0===e}),this.lastUnmutedVolume=e>0?e:this.lastUnmutedVolume,this.event({type:\"volumeChanged\",message:e})}},{key:\"setFullscreen\",value:function(e){this.$.set({isFullscreen:e})}},{key:\"listenToChromeHeavyAdIntervention\",value:function(){var e=this;this.log(\"AdController\",\"listenToChromeHeavyAdIntervention\"),window.ReportingObserver&&(new ReportingObserver(function(t,r){var n=t.some(function(e){return\"intervention\"===e.type});e.log(\"AdController\",\"listenToChromeHeavyAdIntervention\",\"reports\",n,t),n&&e.notifyHeavyAdInterventionToMainFrame()},{buffered:!0}).observe(),window.addEventListener(\"pagehide\",function(){e.adEnded||e.adError||e.errorEvent({message:\"frame interrupted\"})}))}},{key:\"notifyHeavyAdInterventionToMainFrame\",value:function(){this.event({type:\"heavyAd\"}),this.errorEvent({message:\"heavy ad reported\"})}},{key:\"notifyPlayStatus\",value:function(e){this.$.set({isPlaying:e}),this.event({type:\"playingStatus\",message:e})}},{key:\"setStyles\",value:function(e){var t=this;Object.keys(e).forEach(function(r){v(t.getComponentSelector(r),e[r])})}},{key:\"getComponentSelector\",value:function(e){switch(e){case\"root\":return\".caroda-ad-container\";case\"toggleAudio\":return\".caroda-ad-container > div.muted-button\";case\"togglePlayback\":return\".caroda-ad-container > div.toggle-playback-button\";case\"progressBar\":return\".caroda-ad-container > div.progress-bar\";case\"progress\":return\".caroda-ad-container > div.progress-bar .progress\";case\"label\":return\".caroda-ad-container > span.label\";case\"advertisingLabel\":return\".caroda-ad-container > span.advertising-label\";case\"timer\":return\".caroda-ad-container > div.timer\";case\"timerSeparator\":return\".caroda-ad-container > div.timer span.separator\";case\"toggleFullScreen\":return\".caroda-ad-container > .fullscreen-button\";case\"lastFrameFallbackImage\":return\".last-frame-fallback\";case\"skipButton\":return\".skip-button\";default:return\"\"}}},{key:\"renderFrame\",value:function(e){var t=Tt&&!St?this.getTopFrameVideoElement().closest(\".caroda-player-vast-vpaid\"):document.querySelector(\".caroda-ad-container\");t.style.background=\"url(\"+e+\")\",t.style.backgroundSize=\"100%\",Array.from(t.children).forEach(this.fadeOut),setTimeout(function(){return t.innerHTML=\"\"},300)}},{key:\"renderLastFrameFallback\",value:function(){var e=document.querySelector(\".last-frame-fallback\");e&&(e.style.opacity=\"1\",this.fadeOut(document.querySelector(\".caroda-ad-container\")),setTimeout(function(){var e=document.querySelector(\".player\");e&&e.remove()}))}},{key:\"hideLastFrameFallback\",value:function(){var e=document.querySelector(\".last-frame-fallback\");e&&e.remove()}},{key:\"fadeOut\",value:function(e){e.style.transition=\"opacity 0.3s ease-out\",e.style.opacity=0}},{key:\"isVpaid\",value:function(){return this.adPlayer&&this.adPlayer.type&&\"vpaid\"===this.adPlayer.type.toLowerCase()}},{key:\"isVpaidSkippable\",value:function(){if(null==this._isVpaidSkippable){var e=/skipoffset/.test(this.vast),t=/vpaid\\.doubleverify\\.com\\/js\\/vpaid-transformer/.test(this.vast),r=/s1.adform.net\\/banners\\/scripts\\/video\\/VPAIDWrapper.min.js/.test(this.vast);this._isVpaidSkippable=e&&(r||t)}return this._isVpaidSkippable}},{key:\"getSkipTimeInSeconds\",value:function(){if(this.isVpaidSkippable()&&this.parsedVast){var e=o.vastSelectors.getSkipOffset(this.parsedVast[0].ad);return e?e/1e3:null}return(window.molSkipOffsetInMs||0)/1e3}},{key:\"isPlayingAudioFile\",value:function(){var e=this.adPlayer&&this.adPlayer.assetUri;if(null==this._isPlayingAudioFile&&e){this._isPlayingAudioFile=[\"m4a\",\"mp3\",\"aac\",\"caf\",\"flac\",\"oga\",\"wav\"].some(function(t){return new RegExp(\".\"+t+\"(\\\\?.*)?$\").test(e)})}return this._isPlayingAudioFile}},{key:\"resize\",value:function(e,t){this.creativeController.resize({width:e,height:t})}},{key:\"destroy\",value:function(){this.adSdkDestroy()}}]),e}();return e.AdController=Vt,e}({});</script><script>function initController(opts) {\n        window.controller = window.controller || new bundle.AdController(opts)\n    }\n    function b64toBlob (b64Data, contentType, sliceSize) {\n        contentType = contentType || '';\n        sliceSize = sliceSize || 512;\n        var byteCharacters = atob(b64Data);\n        var byteArrays = [];\n        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n            var slice = byteCharacters.slice(offset, offset + sliceSize);\n            var byteNumbers = new Array(slice.length);\n            for (var i = 0; i < slice.length; i++) {\n                byteNumbers[i] = slice.charCodeAt(i);\n            }\n            var byteArray = new Uint8Array(byteNumbers);\n            byteArrays.push(byteArray);\n        }\n        var blob = new Blob(byteArrays, { type: contentType });\n        return blob;\n    }\n    var carodaFontB64 = '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'\n    var carodaFontBlob = b64toBlob(carodaFontB64, 'application/x-font-ttf')\n    var carodaFontUrl = window.URL.createObjectURL(carodaFontBlob)\n    var css = '\\\n        @font-face { \\\n            font-family: \"Caroda\"; \\\n            src: url(' + carodaFontUrl + ') format(\"truetype\"); \\\n            font-weight: normal; \\\n            font-style: normal; \\\n        } \\\n    ';\n    var style = document.createElement(\"STYLE\");\n    style.innerHTML = css;\n    document.head.appendChild(style);\n\n    (function(opts) {\n        opts.target = document.querySelector('.player')\n        try {\n            initController(opts)\n            window.addEventListener('message', function(evt) {\n                if (!evt.data.match || !evt.data.match(/^caroda-ad-player:/)) { return }\n                var msg = JSON.parse(evt.data.replace(/^caroda-ad-player:\\/\\//, ''))\n                if (msg.type === 'visibility') {\n                    if (window.controller && !window.controller.userAdPaused) {\n                        if (msg.value) {\n                            window.controller.playAd()\n                            window.visibleAtLeastOnce = true\n                        } else {\n                            window.controller.pauseAd()\n                        }\n                    }\n                }\n                if (msg.type === 'fullscreen') {\n                    window.controller.setFullscreen(msg.value)\n                }\n                if (msg.type === 'method') {\n                    window.controller[msg.name].apply(window.controller, msg.args)\n                }\n            })\n        } catch(e) {\n            window.parent.postMessage(`${opts.id}://${JSON.stringify({\n                type: 'adError',\n                message: e.message\n            })}`, '*')\n        }\n    }) (/* PLAYEROPTS */)</script></body></html>";var exports=window;"use strict";function assert(e,t){if(!e)throw new Error(t)}function isFullscreen(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;return!!e&&(e.classList.contains("caroda-player-vast-vpaid")||!!e.querySelector(".caroda-player-vast-vpaid"))}function waitFor(e){return new nction(){e()&&(clearInterval(n),t())})})};var classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function isInViewport(e){var t=e.getBoundingClientRect();if(!t.width&&!t.height)return!1;var n=getContainingWindow(e).document;return t.top>=-t.height/2&&t.bottom<=(window.innerHeight||n.documentElement.clientHeight)+t.height/2&&"hidden"!==n.visibilityState}function getIframeCss(e){var t=document.createElement("style");return t.innerHTML="\n        #"+e+" {\n            position: absolute !important;\n            top: 0 !important;\n            left: 0 !important;\n            width: 100% !important;\n            height: 100% !important;\n            border: 0 !important;\n            padding-top: 0 !important;\n            padding-bottom: 0 !important;\n            padding-left: 0 !important;\n            padding-right: 0 !important;\n            margin-top: 0 !important;\n            margin-bottom: 0 !important;\n            margin-left: 0 !important;\n            margin-right: 0 !important;\n        }\n        .caroda-vv-fullscreen {\n            position: absolute !important;\n            top: 0 !important;\n            left: 0 !important;\n            height: 100% !important;\n            width: 100% !important;\n            padding: 0 !important;\n        }\n    ",t}var PlayerEvents=["tracking","adError","adCanPlay","adVideoStart","adEnded","log","volumeChanged","unfullscreen","fullscreen","heavyAd","duration","timeupdate","playingStatus","lastFrame"];function getContainingWindow(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return t?t.document.contains(e)?t:t.parent===t?null:getContainingWindow(e,t.parent):null}var VastVpaidPlayer=function(){function e(t){var n=this;classCallCheck(this,e),assert(t,"opts required"),assert(t.vast,"opts.vast required"),assert(t.container,"opts.container required");var i=t.container;delete t.container,this.id=t.id="caroda-container-"+Math.floor(1e6*Math.random()),this.hasStarted=!1,this.hasEnded=!1,this.isFrozen=Boolean(t.isFrozen),this.userAdPaused=!1,this.disablePauseWhenOutOfView=Boolean(t.disablePauseWhenOutOfView),this.preload=t.preload,this.showingLastFrame=!1,this.isLastFrameDark=void 0,this.containerWindow=getContainingWindow(i),this.isInViewport=t.isInViewport||isInViewport;var a=document.createElement("DIV");a.style.width="100%",a.style.paddingBottom="56.25%",a.style.position="relative",a.className="caroda-player-vast-vpaid";var r=this.createVideoElement();a.appendChild(r),t.topFrameVideoId=r.id,t.startMuted=t.startMuted||this.isFrozen;var s=VAST_PLAYER_SCRIPT.replace("/* PLAYEROPTS */",function(){return JSON.stringify(t)}),o=document.createElement("IFRAME");setTimeout(function(){var e=o.contentWindow.document;e.open("text/html","replace"),e.write(s),e.close()},0),o.setAttribute("border",0),o.setAttribute("sandbox",["allow-forms","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"].join(" ")),o.setAttribute("allowfullscreen",!1),o.setAttribute("allow","autoplay"),o.setAttribute("id",this.id+"-vv"),this.containerWindow.document.body.appendChild(getIframeCss(this.id+"-vv")),a.appendChild(o),i.appendChild(a),o.contentWindow.isPlayerInViewport=function(){return isInViewport(o)},this.iframe=o,this.container=a,this.refreshVisibilirefreshFullscreen(),n.sendTracking()},100),this.handlers={},this.trackingUrls={},this.trackingEventQueue=[],this.hasStarted=!1,this.hasImpression=!1;var d=t.timeoutInMs||5e3;this.timeout=setTimeout(function(){return n.reject("timeout")},d),this.windowEventHandler=function(e){return n.handleWindowEvent(e)},this.containerWindow.addEventListener("message",this.windowEventHandler),this.addEventListener("adEnded",function(){n.showingLastFrame=t.keepLastFrame&&n.hasImpression&&!n.error}),this.addEventListener("adEnded",function(){return n.clear",function(){n.error=!0,n.clear(!0)}),this.addEventListener("heavyAd",function(){return console.log("CARODA :: skipped ad due to heavy ad restriction")}),this.addEventListener("adVideoStart",function(e){n.hasStarted=!0,clearTimeout(n.timeout),t.instream||(t.forceAspectRatio?a.style.paddingBottom=(1/t.forceAspectRatio*100).toFixed(2)+"%":("vertical"===e.format&&(a.style.paddingBottom="177.78%"),"vertical-3-4"===e.format&&(a.style.paddingBottom="133.33%"),"square"===e.format&&(a.style.paddingBottom="100%"),"horizontal-4-3"===e.format&&(a.style.paddingBottom="75%")))}),this.addEventListener("unfullscreen",function(e){isFullscreen()&&t.onUnfullscreen&&t.onUnfullscreen()}),this.addEventListener("fullscreen",function(e){!isFullscreen()&&t.onFullscreen&&t.onFullscreen()});var l=void 0;this.durationPromise=new Promise(function(e){lon",function(e){var t=e.message;l(t)}),this.currentTime=NaN,this.addEventListener("timeupdate",function(e){var t=e.message;n.currentTime=t}),this.playing=!1,ction(e){var t=e.message;n.playing=t})}return createClass(e,[{key:"getContainer",value:function(){return this.container}},{key:"refreshFullscreen",value:function(){var e=isFullscreen();this.sendMessage({type:"fullscreen",value:e}),e?this.container.classList.add("caroda-vv-fullscreen"):this.container.classList.remove("caroda-vv-fullscreen")}},{key:"handleWindowEvent",value:function(e){var t=this;if("string"==typeof e.data&&0===e.data.indexOf(this.id)){var n=JSON.parse(e.data.replace(/^caroda-container-[0-9]+:\/\//,""));if("tracking"!==n.type)"track){return t.addTrackingUrl(e[0],e[1])}),this.handlers[n.type]&&this.handlers[n.type].forEach(function(e){return e(n)});else{if(n.trackingUrls=this.trackingUrls[n.eventName]||[],"impression"===n.eventName){if(this.hasImpression)return;this.hasImpression=!0,waitFor(function(){return isInViewport(t.iframe)||t.hasEnded}).then(function(){if(!t.hasEnded){var e=Object.assign({},n,{trackingUrls:t.trackingUrls.viewableImpression||[],eventName:"viewableImpression"});t.trackingEventQueue.push(e)}})}if(("pause"===n.eventName||"resume"===n.eventName)&&!this.hasImpression)return;if("pause"===n.eventName&&!this.playing)return;if("resume"===n.eventName&&this.playing)return;this.trackingEventQueue.push(n)}}}},{key:"addTrackingUrl",value:function(e,t){this.trackingUrls[e]=this.trackingUrls[e]||[],this.trackingUrls[e].push(t)}},{key:"addEventListener",value:function(e,t){assert(~PlayerEvents.indexOf(e),"eventName "+e+" not part of "+PlayerEvents.join(", ")),this.handlers[e]=this.handlers[e]||[],this.handlers[e].push(t)}},{key:"refreshVisibility",value:function(){if(!this.userAdPaused){var e=this.disablePauseWhenOutOfView||this.isInViewport(this.container);this.isFrozen&&this.hasStarted&&(e=!1),this.isFrozen&&!this.hasStarted&&(e=!0),this.sendMessage({type:"visibility",value:e})}}},{key:"sendTracking",value:function(){var e=this;!this.isFrozen&&this.hasStarted&&(this.trackingEventQueue.forEach(function(t){return e.handlers[t.type]&&e.handlers[t.type].forEach(function(e){return e(t)})}),this.trackingEventQueue=[])}},{key:"sendMessage",value:function(e){this.iframe&&this.iframe.contentWindow&&this.iframe.contentWindow.postMessage("caroda-ad-player://"+JSON.stringify(e),"*")}},{key:"freeze",value:function(){this.isFrozen=!0,this.refresisFrozen=!1,this.refreshVisibility()}},{key:"mute",value:function(){this.sendMessage({type:"method",name:"mute",args:[]})}},{key:"unmute",value:function(){this.sendMessage({type:"method",name:"unmute",args:[]})}},{key:"setVolume",value:function(e){this.sendMessage({type:"method",name:"setVolume",args:[e]})}},{key:"reject",value:function(e){this.handleWindowEvent({data:this.id+"://"+JSON.stringify({type:"adError",message:"creative rejected. reason: "+(e||"unknown")})})}},{key:"clear",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.hasEnded||(clearInterval(this.visibleInterval),this.sendTracking(),this.sendMessage({type:"method",name:"destroy",args:[]}),this.handlers={lastFrame:this.handlers.lastFrame},this.sendMessage({type:"end"}),this.hasEnded=!0,t&&(this.container.style.display="none"),setTimeout(function(){window.removeEventListener("message",e.windowEventHandler),e.showingLastFrame||e.container.parentElement.removeChild(e.container)},1e3))}},{key:"getAdDuration",value:function(){return this.durationPromise}},{key:"getAdProgress",value:function(){return this.currentTime}},{key:"userAdPlay",value:function(){this.userAdPaused=!1,this.sendMessage({type:"method",name:"playAd",args:[]})}},{key:"userAdPause",value:function(){this.userAdPaused=!0,this.sendMessage({type:"method",name:"pauseAd",args:[]})}},{key:"isPlaying",value:function(){return this.playing}},{key:"createVideoElement",value:function(){var e=document.createElement("video");return e.id="carodaTopFrameVideo-"+Math.floor(1e9*Math.random()),e.style.background="#000",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",this.preload&&e.setAttribute("preload","auto"),e.setAttribute("crossOrigin","Anonymous"),e}},{key:"resize",value:function(e,t){this.sendMessage({type:"method",name:"resize",args:[e,t]})}}]),e}();exports.VastVpaidPlayer=VastVpaidPlayer;
})();
  
  window._Hls = window.Hls
  window._MediaSource = window.MediaSource
  window._SourceBuffer = windactory();else root["Hls"require__(__webpack_require__.s=10);}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return enableLogs;});__webpack_require__.d(__webpack_exports__,"b",function(){return logger;});var __WEBPACK_IMPORTED_MODULE_0__get_self_scope__=__webpack_require__(4);var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};function noop(){}var fakeLogger={trace:noop,debug:noop,log:noop,warn:noop,info:noop,erro{msg='['+type+'] > '+msg;return msg;}var global=Object(__WEBPACK_IMPORTED_MODULE_0__get_self_scope__["a"])();function consolePrintFn(type){var func=global.console[type];if(func){return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}if(args[0]){args[0]=formatMsg(type,args[0]);}func.apply(global.console,args);};}return noop;}function exportLoggerFunctions(debugConfig){for(var _len2=arguments.length,functions=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){functions[_key2-1d(debugConfig):consolePrintFn(type);});}var enableLogs=function enableLogs(debugConfig){if(debugConfig===true||(typeof debugConfig==='undefined'?'undefined':_typeof(debugConfig))==='object'){exportLoggerFunctions(debugConfig,'debug','log','info','warn','error');try{exportedLogger.log();}catch(e){exportedLogger=fakeLogger;}}else{exportedLogger=fakeLogger;}};var logger=exportedLogger;},function(module,__webpack_exports__,__webpack_require__){"use strict";var HlsEvents={MEDIA_ATTACHING:'hlsMediaAttaching',MEDIA_ATTACHED:'hlsMediaAttached',MEDIA_DETACHING:'hlsMediaDetaching',MEDIA_DETACHED:'hlsMediaDetached',BUFFER_RESET:'hlsBufferReset',BUFFER_CODECS:'hlsBufferCodecs',BUFFER_CREATED:'hlsBufferCreated',BUFFER_APPENDING:'hlsBufferAppending',BUFFER_APPENDED:'hlsBufferAppended',BUFFER_EOS:'hlsBufferEos',BUFFER_FLUSHING:'hlsBufferFlushing',BUFFER_FLUSHED:'hlsBufferFlushed',MANIFEST_LOADING:'hlsManifestLoading',MANIFEST_LOADED:'hlsManifestLoaded',MANIFEST_PARSED:'hlsManifestParsed',LEVEL_SWITCHING:'hlsLevelSwitching',LEVEL_SWITCHED:'hlsLevelSwitched',LEVEL_LOADING:'hlsLevelLoading',LEVEL_LOADED:'hlsLevelLoaded',LEVEL_UPDATED:'hlsLevelUpdated',LEVEL_PTS_UPDATED:'hlsLevelPtsUpdated',AUDIO_TRACKS_UPDATED:'hlsAudioTracksUpdated',AUDIO_TRACK_SWITCHING:'hlsAudioTrackSwitching',AUDIO_TRACK_SWITCHED:'hlsAudioTrackSwitched',AUDIO_TRACK_LOADING:'hlsAudioTrackLoading',AUDIO_TRACK_LOADED:'hlsAudioTrackLoaded',SUBTITLE_TRACKS_UPDATED:'hlsSubtitleTracksUpdated',SUBTITLE_TRACK_SWITCH:'hlsSubtitleTrackSwitch',SUBTITLE_TRACK_LOADING:'hlsSubtitleTrackLoading',SUBTITLE_TRACK_LOADED:'hlsSubtitleTrackLoaded',SUBTITLE_FRAG_PROCESSED:'hlsSubtitleFragProcessed',INIT_PTS_FOUND:'hlsInitPtsFound',FRAG_LOADING:'hlsFragLoading',FRAG_LOAD_PROGRESS:'hlsFragLoadProgress',FRAG_LOAD_EMERGENCY_ABORTED:'hlsFragLoadEmergencyAborted',FRAG_LOADED:'hlsFragLoaded',FRAG_DECRYPTED:'hlsFragDecrypted',FRAG_PARSING_INIT_SEGMENT:'hlsFragParsingInitSegment',FRAG_PARSING_USERDATA:'hlsFragParsingUserdata',FRAG_PARSING_METADATA:'hlsFragParsingMetadata',FRAG_PARSING_DATA:'hlsFragParsingData',FRAG_PARSED:'hlsFragParsed',FRAG_BUFFERED:'hlsFragBuffered',FRAG_CHANGED:'hlsFragChanged',FPS_DROP:'hlsFpsDrop',FPS_DROP_LEVEL_CAPPING:'hlsFpsDropLevelCapping',ERROR:'hlsError',DESTROYING:'hlsDestroying',KEY_LOADING:'hlsKeyLoading',KEY_LOADED:'hlsKeyLoaded',STREAM_STATE_TRANSITION:'hlsStreamStateTransition'};__webpack_exports__["a"]=HlsEvents;},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return ErrorTypes;});__webpack_require__.d(__webpack_exports__,"a",function(){return ErrorDetails;});var ErrorTypes={NETWORK_ERROR:'networkError',MEDIA_ERROR:'mediaError',KEY_SYSTEM_ERROR:'keySystemError',MUX_ERROR:'muxError',OTHER_ERROR:'otherError'};var ErrorDetails={KEY_SYSTEM_NO_KEYS:'keySystemNoKeys',KEY_SYSTEM_NO_ACCESS:'keySystemNoAccess',KEY_SYSTEM_NO_SESSION:'keySystemNoSession',KEY_SYSTEM_LICENSE_REQUEST_FAILED:'keySystemLicenseRequestFailed',MANIFEST_LOAD_ERROR:'manifestLoadError',MANIFEST_LOAD_TIMEOUT:'manifestLoadTimeOut',MANIFEST_PARSING_ERROR:'manifestParsingError',MANIFEST_INCOMPATIBLE_CODECS_ERROR:'manifestIncompatibleCodecsError',LEVEL_LOAD_ERROR:'levelLoadError',LEVEL_LOAD_TIMEOUT:'levelLoadTimeOut',LEVEL_SWITCH_ERROR:'levelSwitchError',AUDIO_TRACK_LOAD_ERROR:'audioTrackLoadError',AUDIO_TRACK_LOAD_TIMEOUT:'audioTrackLoadTimeOut',FRAG_LOAD_ERROR:'fragLoadError',FRAG_LOAD_TIMEOUT:'fragLoadTimeOut',FRAG_DECRYPT_ERROR:'fragDecryptError',FRAG_PARSING_ERROR:'fragParsingError',REMUX_ALLOC_ERROR:'remuxAllocError',KEY_LOAD_ERROR:'keyLoadError',KEY_LOAD_TIMEOUT:'keyLoadTimeOut',BUFFER_ADD_CODEC_ERROR:'bufferAddCodecError',BUFFER_APPEND_ERROR:'bufferAppendError',BUFFER_APPENDING_ERROR:'bufferAppendingError',BUFFER_STALLED_ERROR:'bufferStalledError',BUFFER_FULL_ERROR:'bufferFullError',BUFFER_SEEK_OVER_HOLE:'bufferSeekOverHole',BUFFER_NUDGE_ON_STALL:'bufferNudgeOnStall',INTEdule,exports){module.exports=void 0;},function(module,__webpack_exports__,__webpack_require__){"use strict";'){return self;}else{return window;}}},function(module,exports,__webpack_require__){(function(root){var URL_REGEX=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/;var FIRST_SEGMENT_REGEX=/^([^\/;?#]*)(.*)$/;var SLASH_DOT_REGEX=/(?:\/|^)\.(?=\/)/g;var SLASH_DOT_DOT_REGEX=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g;var URLToolkit={buildAbsoluteURL:function(baseURL,relativeURL,opts){opts=opts||{};baseURL=baseURL.trim();relativeURL=relativeURL.trim();if(!relativeURL){if(!opts.alwaysNormalize){return baseURL;}var basePartsForNormalise=this.parseURL(baseURL);if(!baseParts){throw new Error('Error trying to parse base URL.');}basePartsForNormalise.path=URLToolkit.normalizePath(basePartsForNormalise.path);return URLToolkit.buildURLFromParts(basePartsForNormalise);}var relativeParts=this.parseURL(relativeURL);if(!relativeParts){throw new Error('Error trying to parse relative URL.');}if(relativeParts.scheme){if(!opts.alwaysNormalize){return relativeURL;}relativeParts.path=URLToolkit.normalizePath(relativeParts.path);return URLToolkit.buildURLFromParts(relativeParts);}var baseParts=this.parseURL(baseURL);if(!baseParts){throw new Error('Error trying to parse base URL.');}if(!baseParts.netLoc&&baseParts.path&&baseParts.path[0]!=='/'){var pathParts=FIRST_SEGMENT_REGEX.exec(baseParts.path);baseParts.netLoc=pathParts[1];baseParts.path=pathParts[2];}if(baseParts.netLoc&&!baseParts.path){baseParts.path='/';}var builtParts={scheme:baseParts.scheme,netLoc:relativeParts.netLoc,path:null,params:relativeParts.params,query:relativeParts.query,fragment:relativeParts.fragment};if(!relativeParts.netLoc){builtParts.netLoc=baseParts.netLoc;if(relativeParts.path[0]!=='/'){if(!relativeParts.path){builtParts.path=baseParts.path;if(!relativeParts.params){builtParts.params=baseParts.params;if(!relativeParts.query){builtParts.query=baseParts.query;}}}else{var baseURLPath=baseParts.path;var newPath=baseURLPath.substring(0,baseURLPath.lastIndexOf('/')+1)+relativeParts.path;builtParts.path=URLToolkit.normalizePath(newPath);}}}if(builtParts.path===null){builtParts.path=opts.alwaysNormalize?URLToolkit.normalizePath(relativeParts.path):relativeParts.path;}return URLToolkit.buiparts[5]||'',fn path.split('').rs.params+parts.query+parts.fragment;}};if(true)module.exports=URLToolkit;else if(typeof define==='function'&&define.amd)define([],function(){return URLToolkit;});else if(typeof exports==='object')exports["URLToolkit"]=URLToolkit;else root["URLToolkit"]=URLToolkieners=this._maxListeners||undefined;}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;E');this._maxListeners=n;returs[i].apply(this,args);}return trueon'){console.trace();}}}return this;};EventEmitter.prototype.on=EventEmitter.prototype.adistener;this.on(type,g);return this;};stener',type,listener);}return this;};Evenlete this._events[type];return this._events[type].slice();return ret;})return evlistener.length;}return 0;};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type);};function isFunctionndefined(arg){return arg===void 0;}},function(module,__webpack_exports__,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var ID3=function(){function ID3(){_classCallCheck(this,ID3);}ID3.isHeader=function isHeader(data,offset){if(offset+10<=data.length){if(data[offset]===0x49&&data[offset+1]===0x44&&data[offset+2]===0x33){if(data[offset+3]<0xFF&&data[offset+4]<0xFF){if(data[offset+6]<0x80&&data[offset+7]<0x80&&data[offset+8]<0x80&&data[offset+9]<0x80){return<0x80){return tont,front+lengze|=data[offset+3TimeStamp(frame);}}restreaming.transpor:data.subarray(ofoffset)){offset+=10;}}return frames;};ID3._decodeFrame=function _decodeFrame(frame){if(frame.type==='PRIV'){return ID3._decodePrivFrame(frame);}else if(frame.type[0]==='T'){return ID3._decodeTextFrame(frame);}else if(frame.type[0]==='W'){return ID3._decodeURLFrame(frame);}.round(timestamp);}reinfo:owner,data:privateData.buffer};};ID3._decodeTextFrame=function _decodeTextFrame(frame){if(frame.size<2){return undefined;}if(frame.type==='TXXX'){var index=1;var description=ID3._utf8ArrayToStr(frame.data.subarray(index));index+=description.length+1;var value=ID3._utf8ArrayToStr(frame.data.subarray(index));return{key:frame.type,info:description,data:value};}else{var text=ID3._utf8ArrayToStr(frame.data.subarray(1));return{key:frame.type,data:text};}};ID3._decodeURLFrame=function _decodeURLFrame(frame){if(frame.type==='WXXX'){if(frame.size<2){return undefined;}var index=1;var description=ID3._utf8ArrayToStr(frame.data.subarray(index));index+=description.length+1;var value=ID3._utf8ArrayToStr(frame.data.subarray(index));return{key:frame.type,info:description,data:value};}else{var url=ID3._utf8ArrayToStr(frame.data);return{key:frame.type,data:url};}};ID3._utf8ArrayToStr=function _utf8ArrayToStr(array){var exitOnNull=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var len=array.length;var c=void 0;var char2=void 0;var char3=void 0;var out='';var i=0;while(i<len){c=array[i++];if(c===0x00&&exitOnNull){return out;}else if(c===0x00||c===0x03){continue;}switch(c>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:out+=String.fromCharCode(c);break;case 12:case 13:char2=array[i++];out+=String.fromCharCode((c&0x1F)<<6|char2&0x3F);break;case 14:char2=array[i++];char3=array[i++];out+=String.fromCharCode((c&0x0F)<<12|(char2&0x3F)<<6|(char3&0x3F)<<0);break;default:}}return out;};return ID3;}();var utf8ArrayToStr=ID3._utf8ArrayToStr;__webpack_exports__["a"]=ID3;},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__utils_logger__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_1__events__=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var UINT32_MAX=Math.pow(2,32)-1;var MP4Demuxer=function(){function MP4Demuxer(observer,remuxer){_classCallCheck(this,MP4Demuxer);this.observer=observer;this.remuxer=remuxer;}MP4Demuxer.prototype.resetTimeStamp=function resetTimeStamp(initPTS){this.initPTS=initPTS;};Codec){this.videoa.length,16384)},['ing.fromCharCode.applyffset+1];return val<0?+3];return val<0?429496>8&0xff;buffer[offset+3]=value&0xff;};MP4Demuxer.findBox=function findBox(data,path){var results=[],i=void 0,size=void 0,type=void 0,end=void 0,subresults=void 0,start=void 0,endbox=void 0;if(data.data){start=data.start;end=data.end;data=data.data;}else{start=0;end=data.byteLength;}if(!path.length){return null;}for(i=start;i<end;){size=MP4Demuxer.readUint32(data,i);type=MP4Demuxer.bin2str(data.subarray(i+4,i+8));endbox=size>1?i+size:end;if(type===path[0]){if(path.length===1){results.push({data:data,start:i+8,end:endbox});}else{subresults=MP4Demuxer.findBox({data:data,start:i+8,end:endbox},path.slice(1));if(subresults.length){results=results.concat(subresults);}}}i=endbox;}return results;};MP4Demuxer.parseSegmentIndex=function parseSegmentIndex(initSegment){var moov=MP4Demuxer.findBox(initSegment,['moov'])[0];var moovEndOffset=moov?moov.end:null;var index=0;var sidx=MP4Demuxer.findBox(initSegment,['sidx']);var references=void 0;if(!sidx||!sidx[0]){return null;}references=[];sidx=sidx[0];var version=sidx.data[0];index=version===0?8:16;var timescale=MP4Demuxer.readUint32(sidx,index);index+=4;var earliestPresentationTime=0;var firstOffset=0;if(version===0){index+=8;}else{index+=16;}index+=2;var startByte=sidx.end+firstOffset;var referencesCount=MP4Demuxer.readUint16(sidx,index);index+=2;for(var i=0;i<referencesCount;i++){var referenceIndex=index;var referenceInfo=MP4Demuxer.readUint32(sidx,referenceIndex);referenceIndex+=4;var referenceSize=referenceInfo&0x7FFFFFFF;var referenceType=(referenceInfo&0x80000000)>>>31;if(referenceType===1){console.warn('SIDX has hierarchical references (not supported)');return;}var subsegmentDuration=MP4Demuxer.readUint32(sidx,referenceIndex);referenceIndex+=4;references.push({referenceSize:referenceSize,subsegmentDuration:subsegmentDuration,info:{duration:subsegmentDuration/timescale,start:startByte,end:startByte+referenceSize-1}});startByte+=referenceSize;referenceIndex+=4;index=referenceIndex;}return{earliestPresentationTime:earliestPresentationTime,timescale:timescale,version:version,referencesCount:referencesCount,references:references,moovEndOffset:moovEndle,id:trackId};}}}}});return result;};MP4Demuxer.getStartDTS=function getStartDTS(initData,fragment){var trafs=void 0,baseTimes=void 0,result=void 0;trafs=MP4Demuxer.findBox(fragment,['moof','traf']);baseTimes=[].concat.apply([],trafs.map(function(traf){return MP4Demuxer.findBox(traf,['tfhd']).map(function(tfhd){var id=void 0,scale=void 0,baseTime=void 0;id=MP4Demuxer.readUint32(tfhd,4);scale=initData[id].timescale||90e3;baseTime=MP4Demuxer.findBox(traf,['tfdt']).map(function(tfdt){var version=void 0,result=void 0;version=tfdt.data[tfdt.start];result=MP4Demuxer.readUint32(tfdt,4);if(version===1){result*=Math.pow(2,32);result+=MP4Demuxer.readUint32(tfdt,8);}return result;})[0];return baseTime/scale;});}));result=Math.min.apply(null,baseTimes);return isFinite(result)writeUint32(tfdt,8,lower);}});});});};MP4Demuxer.prototype.append=function append(data,timeOffset,contiguous,accurateTimeOffset){var initData=this.initData;if(!initData){this.resetInitSegment(data,this.audioCodec,this.videoCodec,false);initData=this.initData;}var startDTS=void 0,initPTS=this.initPTS;if(initPTS===undefined){var _startDTS=MP4Demuxer.getStartDTS(initData,data);this.initPTS=initPTS=_startDTS-timeOffset;this.observer.trigger(__WEBPACK_IMPORTED_MODULE_1__events__["a"].INIT_PTS_FOUND,{initPTS:initPTS});}MP4Demuxer.offsetStartDTS(initData,data,initPTS);startDTS=MP4Demuxer.getStartDTS(initData,data);this.remuxer.remux(initData.audio,initData.video,null,null,startDTS,contiguous,accurateTimeOffset,data);};MP4Demuxer.prototype.destroy=function destroy(){};return MP4Demuxer;}();__webpack_exports__["a"]=MP4Demuxer;},function(module,__webpack_exports__,__webpack_require__){"use strict";var events=__webpack_require__(1);var errors=__webpack_require__(2);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var AESCrypto=function(){function AESCrypto(subtle,iv){_classCallCheck(this,AESCrypto);this.subtle=subtle;this.:'AES-CBC',iv:this.aesIV},key,data);};return AESCrypto;}();var aes_crypto=AESCrypto;function fast_aes_key__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a fey);this.subtle=subtle;this.ke-CBC'},false,['encrypt','decrypt']);};return FastAESKey;}();var fast_aes_key=FastAESKey;function aes_decryptor__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("-paddingBytes);}else{return buffer;}}var AESDecryptor=function(){function AESDecryptor(){aes_decryptor__classCallCheck(this,AESDecryptor);this.rcon=[0x0,0x1,0x2,0x4,0x8,0x10,0x20,0x40,0x80,0x1b,0x36];this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)];this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)];this.sBox=new Uint32Array(256);this.invSBox=new Uint32Array(256);this.key=new Uint32Array(0);this.initTable();}AESDecryptiew.getUint32(i*4);}return newArr{x=x2^d[d[d[x8^x2]]];xi^=d[d[xi]];}}};AESDecryptor.prototype.expandKey=function expandKey(keyBuffer){var key=this.uint8ArrayToUint32Array_(keyBuffer);var sameKey=true;var offset=0;while(offset<key.length&&sameKey){sameKey=key[offset]===this.key[offset];offset++;}if(sameKey){return;}this.key=key;var keySize=this.keySize=key.length;if(keySize!==4&&keySize!==6&&keySize!==8){throw new Error('Invalid aes key size='+keySize);}var ksRows=this.ksRows=(keySize+6+1)*4;var ksRow=void 0;var invKsRow=void 0;var keySchedule=this.keySchedule=new Uint32Array(ksRows);var invKeySchedule=this.invKeySchedule=new Uint32Array(ksRows);var sbox=this.sBox;var rcon=this.rcon;var invSubMix=this.invSubMix;var invSubMix0=invSubMix[0];var invSubMix1=invSubMix[1];var invSubMix2=invSubMix[2];var invSubMix3=invSubMix[3];var prev=void 0;var t=void 0;for(ksRow=0;ksRow<ksRows;ksRow++){if(ksRow<keySize){prev=keySchedule[ksRow]=key[ksRow];continue;}t=prev;if(ksRow%keySize===0){t=t<<8|t>>>24;t=sbox[t>>>24]<<24|sbox[t>>>16&0xff]<<16|sbox[t>>>8&0xff]<<8|sbox[t&0xff];t^=rcon[ksRow/keySize|0]<<24;}else if(keySize>6&&ksRow%keySize===4){t=sbox[t>>>24]<<24|sbox[t>>>16&0xff]<<16|sbox[t>>>8&0xff]<<8|sbox[t&0xff];}keySchedule[ksRow]=prev=(keySchedule[ksRow-keySize]^t)>>>0;}for(invKsRow=0;invKsRow<ksRows;invKsRow++){ksRow=ksRows-invKsRow;if(invKsRow&3){t=keySchedule[ksRow];}else{t=keySchedule[ksRow-4];}if(invKsRow<4||ksRow<=4){invKeySchedule[invKsRow]=t;}else{invKeySchedule[invKsRow]=invSubMix0[sbox[t>>>24]]^invSubMix1[sbox[t>>>16&0xff]]^invSubMix2[sbox[t>>>8&0xff]]^invSubMix3[sbox[t&0xff]];}invKeySchedule[invKsRow]=invKeySchedule[invKsRow]>>>0;}};AESDecry00)<<8|(word&0xff0000)>>8|word>>>24;};AESDecryptor.prototype.decrypt=function decrypt(inputArrayBuffer,offset,aesIV,removePKCS7Padding){var nRounds=this.keySize+6;var invKeySchedule=this.invKeySchedule;var invSBOX=this.invSBox;var invSubMix=this.invSubMix;var invSubMix0=invSubMix[0];var invSubMix1=invSubMix[1];var invSubMix2=invSubMix[2];var invSubMix3=invSubMix[3];var initVector=this.uint8ArrayToUint32Array_(aesIV);var initVector0=initVector[0];var initVector1=initVector[1];var initVector2=initVector[2];var initVector3=initVector[3];var inputInt32=new Int32Array(inputArrayBuffer);var outputInt32=new Int32Array(inputInt32.length);var t0=void 0,t1=void 0,t2=void 0,t3=void 0;var s0=void 0,s1=void 0,s2=void 0,s3=void 0;var inputWords0=void 0,inputWords1=void 0,inputWords2=void 0,inputWords3=void 0;var ksRow=void 0,i=void 0;var swapWord=this.networkToHostOrderSwap;while(offset<inputInt32.length){inputWords0=swapWord(inputInt32[offset]);inputWords1=swapWord(inputInt32[offset+1]);inputWords2=swapWord(inputInt32[offset+2]);inputWords3=swapWord(inputInt32[offset+3]);s0=inputWords0^invKeySchedule[0];s1=inputWords3^invKeySchedule[1];s2=inputWords2^invKeySchedule[2];s3=inputWords1^invKeySchedule[3];ksRow=4;for(i=1;i<nRounds;i++){t0=invSubMix0[s0>>>24]^invSubMix1[s1>>16&0xff]^invSubMix2[s2>>8&0xff]^invSubMix3[s3&0xff]^invKeySchedule[ksRow];t1=invSubMix0[s1>>>24]^invSubMix1[s2>>16&0xff]^invSubMix2[s3>>8&0xff]^invSubMix3[s0&0xff]^invKeySchedule[ksRow+1];t2=invSubMix0[s2>>>24]^invSubMix1[s3>>16&0xff]^invSubMix2[s0>>8&0xff]^invSubMix3[s1&0xff]^invKeySchedule[ksRow+2];t3=invSubMix0[s3>>>24]^invSubMix1[s0>>16&0xff]^invSubMix2[s1>>8&0xff]^invSubMix3[s2&0xff]^invKeySchedule[ksRow+3];s0=t0;s1=t1;s2=t2;s3=t3;ksRow=ksRow+4;}t0=invSBOX[s0>>>24]<<24^invSBOX[s1>>16&0xff]<<16^invSBOX[s2>>8&0xff]<<8^invSBOX[s3&0xff]^invKeySchedule[ksRow];t1=invSBOX[s1>>>24]<<24^invSBOX[s2>>16&0xff]<<16^invSBOX[s3>>8&0xff]<<8^invSBOX[s0&0xff]^invKeySchedule[ksRow+1];t2=invSBOX[s2>>>24]<<24^invSBOX[s3>>16&0xff]<<16^invSBOX[s0>>8&0xff]<<8^invSBOX[s1&0xff]^invKeySchedule[ksRow+2];t3=invSBOX[s3>>>24]<<24^invSBOX[s0>>16&0xff]<<16^invSBOX[s1>>8&0xff]<<8^invSBOX[s2&0xff]^invKeySchedule[ksRow+3];ksRow=ksRow+3;outputInt32[offset]=swapWord(t0^initVector0);outputInt32[offset+1]=swapWord(t3^initVector1);outputInt32[offset+2]=swapWord(t2^initVector2);outputInt32[offset+3]=swapWord(t1^initVector3);initVector0=inputWords0;initVector1=inputWords1;initVector2=inputWords2;initVector3=inputWords3;offset=offset+4;}return removePKCS7Padding?removePadding(outputInt32.buffer):outputInt32.buedule=undefined;this.rcon=undefined;};return AESDecryptor;}();var aes_decryptor=AESDecryptor;var logger=__webpack_require__(0);var get_self_scope=__webpack_require__(4);function decrypter__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var global=Object(get_self_scope["a"])();var decrypter_Decrypter=function(){function Decrypter(observer,config){var _ref=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},_ref$removePKCS7Paddi=_ref.removePKCS7Padding,removePKCS7Padding=_ref$removePKCS7Paddi===undefined?true:_ref$removePKCS7Paddi;decrypter__classCallCheck(this,Decrypter);this.logEnabled=true;this.observer=observer;this.config=config;this.removePKCS7Padding=removePKCS7Padding;if(removePKCS7Padding){try{var browserCrypto=global.crypto;if(browserCrypto){this.subtle=browserCrypto.subtle||browserCrypto.webkitSubtle;}}catch(e){}}this.disableWebCrypto=!thypto&&this.config.enableSoftError(err,data,key,iv,callback);});}}OR,fatal:true,reason:err.mesdestroy();this.decryptor=undefined;}};return Decrypter;}();var crypt_decrypter=decrypter_Decrypter;function getAudioConfig(observer,data,offset,audioCodec){var adtsObjectType=void 0,adtsSampleingIndex=void 0,adtsExtensionSampleingIndex=void 0,adtsChanelConfig=void 0,config=void 0,userAgent=navigator.userAgent.toLowerCase(),manifestCodec=audioCodec,adtsSampleingRates=[96000,88200,64000,48000,44100,32000,24000,22050,16000,12000,11025,8000,7350];adtsObjectType=((data[offset+2]&0xC0)>>>6)+1;adtsSampleingIndex=(data[offset+2]&0x3C)>>>2;if(adtsSampleingIndex>adtsSampleingRates.length-1){observer.trigger(events["a"].ERROR,{type:errors["b"].MEDIA_ERROR,details:errors["a"].FRAG_PARSING_ERROR,fatal:true,reason:'invalid ADTS sampling index:'+adtsSampleingIndex});return;}adtsChanelConfig=(data[offset+2]&0x01)<<2;adtsChanelConfig|=(data[offset+3]&0xC0)>>>6;logger["b"].log('manifest codec:'+audioCodec+',ADTS data:type:'+adtsObjectType+',sampleingIndex:'+adtsSampleingIndex+'['+adtsSampleingRates[adtsSampleingIndex]+'Hz],channelConfig:'+adtsChanelConfig);if(/firefox/i.test(userAgent)){if(adtsSampleingIndex>=6){adtsObjectType=5;config=new Array(4);adtsExtensionSampleingIndex=adtsSampleingIndex-3;}else{adtsObjectType=2;config=new Array(2);adtsExtensionSampleingIndex=adtsSampleingIndex;}}else if(userAgent.indexOf('android')!==-1){adtsObjectType=2;config=new Array(2);adtsExtensionSampleingIndex=adtsSampleingIndex;}else{adtsObjectType=5;config=new Array(4);if(audioCodec&&(audioCodec.indexOf('mp4a.40.29')!==-1||audioCodec.indexOf('mp4a.40.5')!==-1)||!audioCodec&&adtsSampleingIndex>=6){adtsExtensionSampleingIndex=adtsSampleingIndex-3;}else{if(audioCodec&&audioCodec.indexOf('mp4a.40.2')!==-1&&(adtsSampleingIndex>=6&&adtsChanelConfig===1||/vivaldi/i.test(userAgent))||!audioCodec&&adtsChanelConfig===1){adtsObjectType=2;config=new Array(2);}adtsExtensionSampleingIndex=adtsSampleingIndex;}}config[0]=adtsObjectType<<3;config[0]|=(adtsSampleingIndex&0x0E)>>1;config[1]|=(adtsSampleingIndex&0x01)<<7;config[1]|=adtsChanelConfig<<3;if(adtsObjectType===5){config[1]|=(adtsExtensionSampleingIndex&0x0E)>>1;config[2]=(adtsExtensionSampleingIndex&0x01)<<7;config[2]|=2<<2;config[3]=0;}return{config:config,samplerate:adtsSampleingRates[adtsSampleingIndex],channelCount:adtsChanelConfig,codec:'mp4a.40.'+adtsObjfset)){return true;}return false;}function adts_probe(data,offset){if(offset+1<data.length&&isHeaderPattern(data,offset)){var headerLength=getHeaderLength(data,offset);var frameLength=headerLength;if(offset+5<data.length){frameLength=getFullFrameLength(data,offset);}var newOffset=offset+frameLength;if(newOffset===data.length||newOffset+1<data.length&&isHeaderPattern(data,nerate){return 1024*90000/samplerate;}function parseFrameHeader(data,offset,pts,frameIndex,frameDuration){var headerLength=void 0,frameLength=void 0,stamp=void 0;var length=data.length;headerLength=getHeaderLength(data,offset);frameLength=getFullFrameLength(data,offset);frameLength-=headerLength;if(frameLength>0&&offset+headerLength+frameLength<=length){stamp=pts+frameIndex*frameDuration;return{headerLength:headerLength,frameLength:frameLength,stamp:stamp};}return undefined;}function appendFrame(track,data,offset,pts,frameIndex){var frameDuration=getFrameDuration(track.samplerate);var header=parseFrameHeader(data,offset,pts,frameIndex,frameDuration);if(header){var stamp=header.stamp;var headerLength=header.headerLength;var frameLength=header.frameLength;var aacSample={unit:data.subarray(offset+headerLength,offset+headerLength+frameLength),pts:stamp,dts:stamp};track.samples.push(aacSample);track.len+=frameLength;return{sample:aacSample,length:frameLength+headerLength};}return undefined;}var id3=__webpack_require__(7);function aacdemuxer__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var aacdemuxer_AACDemuxer=function(){function AACDemuxer(observer,remuxer,config){aacdemuxer__classCallCheck(this,AACDemuxer);this.observer=observer;this.config=config;this.remuxer=remuxer;}tion:duration,inputTimeScale:90000};};AACDemuxer.prototype.resetTimeStamp=functioound !');return true;}}return false;};AACDemuxer.prototype.append=function append(data,timeOffset,contiguous,accurateTimeOffset){var track=this._audioTrack;var id3Data=id3["a"].getID3Data(data,0)||[];var timestamp=id3["a"].getTimeStamp(id3Data);var pts=timestamp?90*timestamp:timeOffset*90000;var frameIndex=0;var stamp=pts;var length=data.length;var offset=id3Data.length;var id3Samples=[{pts:stamp,dts:stamp,data:id3Data}];while(offset<length-1){if(isHeader(data,offset)&&offset+5<length){initTrackConfig(track,this.observer,data,offset,track.manifestCodec);var frame=appendFrame(track,data,offset,pts,frameIndex);if(frame){offset+=frame.length;stamp=frame.sample.pts;frameIndex++;}else{logger["b"].log('Unable to parse AAC frame');break;}}else if(id3["a"].isHeader(data,offset)){id3Data=id3["a"].getID3Data(data,offset);id3Samples.push({pts:stamp,dts:stamp,data:id3Data});offset+=id3Data.length;}else{offset++;}}this.remuxer.remux(track,{samples:[]},{samples:id3Samples,inputTimeScale:90000},{samples:[]},timeOffset,contiguous,accurateTimeOffset);};AACDemuxer.prototype.destroy=function destroy(){};return AACDemuxer;}();var aacdemuxer=aacdemuxer_AACDemuxer;var mp4demuxer=__webpack_require__(8);var MpegAudio={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48000,32000,22050,24000,16000,11025,12000,8000],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function appendFrame(track,data,offset,pts,frameIndex){if(offset+24>data.length){return undefined;}var header=this.parseHeader(data,offset);if(header&&offset+header.frameLength<=data.length){var frameDuration=header.samplesPerFrame*90000/header.sampleRate;var stamp=pts+frameIndex*frameDuration;var sample={unit:data.subarray(offset,offset+header.frameLength),pts:stamp,dts:stamp};track.config=[];track.channelCount=header.channelCount;track.samplerate=header.sampleRate;track.samples.push(sample);track.len+=header.frameLength;return{sample:sample,length:header.frameLe:samplesPerFrame=0xe0&&(d,offseOffset)){return true;}}return false;}};var mpegaudio=MpegAudio;function exp_golomb__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var exp_golomb_ExpGolomb=function(){function ExpGolomb(data){exp_golomb__classCallCheck(this,ExpGolomb);this.data=data;this.bytesAvailable=data.byteLength;this.word=0;this.bitsAvaithis.bytesAvailable-=availableBytes;};ExpGolomb.prototype.skipBits=function skipBits(count){var skipBytes=void 0;if(this.bitsAvailable>count){this.word<<=count;this.bitsAvailable-=count;}else{count-=this.bitsAvailable;skipBytes=count>>3;count-=skipBytes>>3;this.bytesAvailable-=skipBytes;this.loadWord();this.word<<=count;this.bitsAvailable-=s.readBits(bits);}else{return valu;}};ExpGolomb.prototype.skipLZ=function skipLZ(){var leadingZeroCount=void 0;for(leadingZeroCount=0;leadingZeroCount<this.bitsAvailable;++leadingZeroCount){if((this.word&0x80000000>>>leadingZeroCount)!==0){this.word<<=leadingZeroCount;this.bitsAvailable-=leadingZeroCount;return leadingZeroCount;}}this.loadWord();return leadingZeroCount+this.skipLZ();};ExpGolomb.prototype.skipUEG=function skipUEG(){this.skipBits(1+this.sEG(){this.skipBits(1+this.skpLZ();return this.readBits(valu>>>1;}else{return-1*(valu>>>olean(){return this.readBits(1)===1;};ExpGolomb.prototype.readUByte=function readUByte(){return this.readBits(8);};ExpGolomb.prototype.readUShort=function readUShort(){return this.readBireadUInt(){return this.readBits(32);};ExpGolomb.prototype.skipScalingList=function skipScalingList(count){var lastScale=8,nextScale=8,j=void 0,deltaScale=void 0;for(j=0;j<count;j++){if(nextScale!==0){deltaScale=this.readEG();nextScale=(lastScale+deltaScale+256)%256;}lastScale=nextScale===0?lastScale:nextScale;}};ExpGolomb.prototype.readSPS=function readSPS(){var frameCropLeftOffset=0,frameCropRightOffset=0,frameCropTopOffset=0,frameCropBottomOffset=0,profileIdc=void 0,profileCompat=void 0,levelIdc=void 0,numRefFramesInPicOrderCntCycle=void 0,picWidthInMbsMinus1=void 0,picHeightInMapUnitsMinus1=void 0,frameMbsOnlyFlag=void 0,scalingListCount=void 0,i=void 0,readUByte=this.readUByte.bind(this),readBits=this.readBits.bind(this),readUEG=this.readUEG.bind(this),readBoolean=this.readBoolean.bind(this),skipBits=this.skipBits.bind(this),skipEG=this.skipEG.bind(this),skipUEG=this.skipUEG.bind(this),skipScalingList=this.skipScalingList.bind(this);readUByte();profileIdc=readUByte();profileCompat=readBits(5);skipBits(3);levelIdc=readUByte();skipUEG();if(profileIdc===100||profileIdc===110||profileIdc===122||profileIdc===244||profileIdc===44||profileIdc===83||profileIdc===86||profileIdc===118||profileIdc===128){var chromaFormatIdc=readUEG();if(chromaFormatIdc===3){skipBits(1);}skipUEG();skipUEG();skipBits(1);if(readBoolean()){scalingListCount=chromaFormatIdc!==3?8:12;for(i=0;i<scalingListCount;i++){if(readBoolean()){if(i<6){skipScalingList(16);}else{skipScalingList(64);}}}}}skipUEG();var picOrderCntType=readUEG();if(picOrderCntType===0){readUEG();}else if(picOrderCntType===1){skipBits(1);skipEG();skipEG();numRefFramesInPicOrderCntCycle=readUEG();for(i=0;i<numRefFramesInPicOrderCntCycle;i++){skipEG();}}skipUEG();skipBits(1);picWidthInMbsMinus1=readUEG();picHeightInMapUnitsMinus1=readUEG();frameMbsOnlyFlag=readBits(1);if(frameMbsOnlyFlag===0){skipBits(1);}skipBits(1);if(readBoolean()){frameCropLeftOffset=readUEG();frameCropRightOffset=readUEG();frameCropTopOffset=readUEG();frameCropBottomOffset=readUEG();}var pixelRatio=[1,1];if(readBoolean()){if(readBoolean()){var aspectRatioIdc=readUByte();switch(aspectRatioIdc){case 1:pixelRatio=[1,1];break;case 2:pixelRatio=[12,11];break;case 3:pixelRatio=[10,11];break;case 4:pixelRatio=[16,11];break;case 5:pixelRatio=[40,33];break;case 6:pixelRatio=[24,11];break;case 7:pixelRatio=[20,11];break;case 8:pixelRatio=[32,11];break;case 9:pixelRatio=[80,33];break;case 10:pixelRatio=[18,11];break;case 11:pixelRatio=[15,11];break;case 12:pixelRatio=[64,33];break;case 13:pixelRatio=[160,99];break;case 14:pixelRatio=[4,3];break;case 15:pixelRatio=[3,2];break;case 16:pixelRatio=[2,1];break;case 255:{pixelRatio=[readUByte()<<8|readUByte(),readUByte()<<8|readUByte()];break;}}}}return{width:Math.ceil((picWidthInMbsMinus1+1)*16-frameCropLeftOffset*2-frameCropRightOffset*2),height:(2-frameMbsOnlyFlag)*(picHeightInMapUnitsMinus1+1)*16-(frameMbsOnlyFlag?2:4)*(frameCropTopOffset+frameCropBottomOffset),pixelRatio:pixelRatiohis.readUEG();return this.readUEG();};return ExpGolomb;}();var exp_golomb=exp_golomb_ExpGolomb;function sample_aes__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var sample_aes_SampleAesDecrypter=function(){function SampleAesDecrypter(observer,config,decryptdata,discardEPB){sample_aes__classCallCheck(this,SampleAesDecrypter);this.decryptdata=decryptdata;this.discardEPB=discardEPB;this.decrypter=new crypt_decrypter(observer,config,{removePKCS7Padding:false});}Samplhis.decryptdata.iv.buffer,callback);};SampleAesamples,sampleIndex+1,callback);}});};SampleAesx,callback,sync);if(!sync){return;}}};SampleAesDe6),outputPos);}return encryptedData;};SampleAesDe+16),outputPos);}return decodedData;};SampleAempleIndex,unitIndex+1,callback);}});};SampleAesDecrypter.prototype.decryptAvcSamples=function decryptAvcSamples(samples,sampleIndex,unitIndex,callback){for(;;sampleIndex++,unitIndex=0){if(sampleIndex>=samples.length){callback();return;}var curUnits=samples[sampleIndex].units;for(;;unitIndex++){if(unitIndex>=curUnits.length){break;}var curUnit=curUnits[unitIndex];if(curUnit.length<=48||curUnit.type!==1&&curUnit.type!==5){continue;}var sync=this.decrypter.isSync();this.decryptAvcSample(samples,sampleIndex,unitIndex,callback,curUnit,sync);if(!sync){return;}}}};return SampleAesDecrypter;}();var sample_aes=sample_aes_SampleAesDecrypter;function tsdemuxer__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var RemuxerTrackIdConfig={video:1,audio:2,id3:3,text:4};var tsdemuxer_TSDemuxer=function(){function TSDemuxer(observer,remuxer,config,typeSupported){tsdemuxer__classCallCheck(this,TSDemuxer);this.observer=observer;this.config=config;this.typeSupported=typeSupported;this.remuxer=remuxer;this.sampleAes=nulcardEPB);}else{tset+', junk ahead ?');0x47){return i;}else{i++;}}return-1;};TSDemuxer.createTrack=function createTrack(type,duration){return{container:type==='video'||type==='audio'?'video/mp2t':undefined,type:type,id:RemuxerTrackIdConfig[type],pid:-1,inputTimeScale:90000,sequenceNumber:0,samples:[],len:0,dropped:type==='video'?0:undefined,isAAC:type==='audio'?true:undefined,duration:type==='audio'?duration:undefined};};TSDemuxer.prototype.resetInitSegment=function resetInitSegment(initSegment,audioCodec,videoCodec,duration){this.pmtParsed=false;this._pmtId=-1;this._avcTrack=TSDemuxer.createTrack('video',duration);this._audioTrack=TSDemuxer.createTrack('audio',duration);this._id3Track=TSDemuxer.createTrack('id3',duration);this._txtTrack=TSDemuxer.createTrack('text',duration);this.aacOverFlow=null;this.aacLastPTS=null;this.avcSample=null;this.audioCodec=audioCodec;this.videoCodec=videoCodec;this._duration=duration;};TSDemuxer.prototype.resetTimeStamp=function resetTimeStamp(){};TSDemuxer.prototype.append=function append(data,timeOffset,contiguous,accurateTimeOffset){var start=void 0,len=data.length,stt=void 0,pid=void 0,atf=void 0,offset=void 0,pes=void 0,unknownPIDs=false;this.contiguous=contiguous;var pmtParsed=this.pmtParsed,avcTrack=this._avcTrack,audioTrack=this._audioTrack,id3Track=this._id3Track,avcId=avcTrack.pid,audioId=audioTrack.pid,id3Id=id3Track.pid,pmtId=this._pmtId,avcData=avcTrack.pesData,audioData=audioTrack.pesData,id3Data=id3Track.pesData,parsePAT=this._parsePAT,parsePMT=this._parsePMT,parsePES=this._parsePES,parseAVCPES=this._parseAVCPES.bind(this),parseAACPES=this._parseAACPES.bind(this),parseMPEGPES=this._parseMPEGPES.bind(this),parseID3PES=this._parseID3PES.bind(this);var syncOffset=TSDemuxer._syncOffset(data);len-=(len+syncOffset)%188;for(start=syncOffset;start<len;start+=188){if(data[start]===0x47){stt=!!(data[start+1]&0x40);pid=((data[start+1]&0x1f)<<8)+data[start+2];atf=(data[start+3]&0x30)>>4;if(atf>1){offset=start+5+data[start+4];if(offset===start+188){continue;}}else{offset=start+4;}switch(pid){case avcId:if(stt){if(avcData&&(pes=parsePES(avcData))&&pes.pts!==undefined){parseAVCPES(pes,false);}avcData={data:[],size:0};}if(avcData){avcData.data.push(data.subarray(offset,start+188));avcData.size+=start+188-offset;}break;case audioId:if(stt){if(audioData&&(pes=parsePES(audioData))&&pes.pts!==undefined){if(audioTrack.isAAC){parseAACPES(pes);}else{parseMPEGPES(pes);}}audioData={data:[],size:0};}if(audioData){audioData.data.push(data.subarray(offset,start+188));audioData.size+=start+188-offset;}break;case id3Id:if(stt){if(id3Data&&(pes=parsePES(id3Data))&&pes.pts!==undefined){parseID3PES(pes);}id3Data={data:[],size:0};}if(id3Data){id3Data.data.push(data.subarray(offset,start+188));id3Data.size+=start+188-offset;}break;case 0:if(stt){offset+=data[offset]+1;}pmtId=this._pmtId=parsePAT(data,offset);break;case pmtId:if(stt){offset+=data[offset]+1;}var parsedPIDs=parsePMT(data,offset,this.typeSupported.mpeg===true||this.typeSupported.mp3===true,this.sampleAes!=null);avcId=parsedPIDs.avc;if(avcId>0){avcTrack.pid=avcId;}audioId=parsedPIDs.audio;if(audioId>0){audioTrack.pid=audioId;audioTrack.isAAC=parsedPIDs.isAAC;}id3Id=parsedPIDs.id3;if(id3Id>0){id3Track.pid=id3Id;}if(unknownPIDs&&!pmtParsed){logger["b"].log('reparse from beginning');unknownPIDs=false;start=syncOffset-188;}pmtParsed=this.pmtParsed=true;break;case 17:case 0x1fff:break;default:unknownPIDs=true;break;}}else{this.observer.trigger(events["a"].ERROR,{type:errors["b"].MEDIA_ERROR,details:errors["a"].FRAG_PARSING_ERROR,fatal:false,reason:'TS packet did not start with 0x47'});}}if(avcData&&(pes=parsePES(avcData))&&pes.pts!==undefined){parseAVCPES(pes,true);avcTrack.pesData=null;}else{avcTrack.pesData=avcData;}if(audioData&&(pes=parsePES(audioData))&&pes.pts!==undefined){if(audioTrack.isAAC){parseAACPES(pes);}else{parseMPEGPES(pes);}audioTrack.pesData=null;}else{if(audioData&&audioData.size){logger["b"].log('last AAC PES packet truncated,might overlap between fragments');}audioTrack.pesData=audioData;}if(id3Data&&(pes=parsePES(id3Data))&&pes.pts!==undefined){parseID3PES(pes);id3Track.pesData=null;}else{id3Track.pesData=id3Data;}if(this.sampleAes==null){this.remuxer.remux(audioTrack,avcTrack,id3Track,this._txtTrack,timeOffset,contiguous,accurateTimeOffset);}else{this.decryptAndRemux(audioTrack,avcTrack,id3Track,this._txtTrack,timeOffset,contiguous,accurateTimeOffset);}set,contiguous,accurateTimeOffset);}};Tset,contiguous,accurateTimeO_initDTS=undefined;this._duratoffset+10]&0x1F)<<8|data[offset+11];};TSDemuxer.prototype._parsePMT=function _parsePMT(data,offset,mpegSupported,isSampleAes){var sectionLength=void 0,tableEnd=void 0,programInfoLength=void 0,pid=void 0,result={audio:-1,avc:-1,id3:-1,isAAC:true};sectionLength=(data[offset+1]&0x0f)<<8|data[offset+2];tableEnd=offset+3+sectionLength-4;programInfoLength=(data[offset+10]&0x0f)<<8|data[offset+11];offset+=12+programInfoLength;while(offset<tableEnd){pid=(data[offset+1]&0x1F)<<8|data[offset+2];switch(data[offset]){case 0xcf:if(!isSampleAes){logger["b"].log('unkown stream type:'+data[offset]);break;}case 0x0f:if(result.audio===-1){result.audio=pid;}break;case 0x15:if(result.id3===-1){result.id3=pid;}break;case 0xdb:if(!isSampleAes){logger["b"].log('unkown stream type:'+data[offset]);break;}case 0x1b:if(result.avc===-1){result.avc=pid;}break;case 0x03:case 0x04:if(!mpegSupported){logger["b"].log('MPEG audio found, not supported in this browser for now');}else if(result.audio===-1){result.audio=pid;result.isAAC=false;}break;case 0x24:logger["b"].warn('HEVC stream type found, not supported for now');break;default:logger["b"].log('unkown stream type:'+data[offset]);break;}offset+=((data[offset+3]&0x0F)<<8|data[offset+4])+5;}return result;};TSDemuxer.prototype._parsePES=function _parsePES(stream){var i=0,frag=void 0,pesFlags=void 0,pesPrefix=void 0,pesLen=void 0,pesHdrLen=void 0,pesData=void 0,pesPts=void 0,pesDts=void 0,payloadStartOffset=void 0,data=stream.data;if(!stream||stream.size===0){return null;}while(data[0].length<19&&data.length>1){var newData=new Uint8Array(data[0].length+data[1].length);newData.set(data[0]);newData.set(data[1],data[0].length);data[0]=newData;data.splice(1,1);}frag=data[0];pesPrefix=(frag[0]<<16)+(frag[1]<<8)+frag[2];if(pesPrefix===1){pesLen=(frag[4]<<8)+frag[5];if(pesLen&&pesLen>stream.size-6){return null;}pesFlags=frag[7];if(pesFlags&0xC0){pesPts=(frag[9]&0x0E)*536870912+(frag[10]&0xFF)*4194304+(frag[11]&0xFE)*16384+(frag[12]&0xFF)*128+(frag[13]&0xFE)/2;if(pesPts>4294967295){pesPts-=8589934592;}if(pesFlags&0x40){pesDts=(frag[14]&0x0E)*536870912+(frag[15]&0xFF)*4194304+(frag[16]&0xFE)*16384+(frag[17]&0xFF)*128+(frag[18]&0xFE)/2;if(pesDts>4294967295){pesDts-=8589934592;}if(pesPts-pesDts>60*90000){logger["b"].warn(Math.round((pesPts-pesDts)/90000)+'s delta between PTS and DTS, align them');pesPts=pesDts;}}else{pesDts=pesPts;}}pesHdrLen=frag[8];payloadStartOffset=pesHdrLen+9;stream.size-=payloadStartOffset;pesData=new Uint8Array(stream.size);for(var j=0,dataLen=data.length;j<dataLen;j++){frag=data[j];var len=frag.byteLength;if(payloadStartOffset){if(payloadStartOffset>len){payloadStartOffset-=len;continue;}else{frag=frag.subarray(payloadStartOffset);len-=payloadStartOffset;payloadStartOffset=0;}}pesData.set(frag,i);i+=len;}if(pesLen){pesLen-=pesHdrLen+3;}return{data:pesData,pts:pesPts,dts:pesDts,len:pesLen};}else{return null;}};TSDemuxer.prototype.pushAccesUnit=function pushAccesUnit(avcSample,avcTrack){if(avcSample.units.length&&avcSample.frame){var samples=avcTrack.samples;var nbSamples=samples.length;if(!this.config.forceKeyFrameOnDiscontinuity||avcSample.key===true||avcTrack.sps&&(nbSamples||this.contiguous)){avcSample.id=nbSamples;samples.push(avcSample);}else{avcTrack.dropped++;}}if(avcSample.debug.length){logger["b"].log(avcSample.pts+'/'+avcSample.dts+':'+avcSample.debug);}};TSDemuxer.prototype._parseAVCPES=function _parseAVCPES(pes,last){var _this=this;var track=this._avcTrack,units=this._parseAVCNALu(pes.data),debug=false,expGolombDecoder=void 0,avcSample=this.avcSample,push=void 0,spsfound=false,i=void 0,pushAccesUnit=this.puss:pts,dts:dts,units:[],debug:debug};};pes.data=null;if(avcSample&&units.length&&!track.audFound){pushAccesUnit(avcSample,track);avcSample=this.avcSample=createAVCSample(false,pes.pts,pes.dts,'');}units.forEach(function(unit){switch(unit.type){case 1:push=true;if(!avcSample){avcSample=_this.avcSample=createAVCSample(true,pes.pts,pes.dts,'');}if(debug){avcSample.debug+='NDR ';}avcSample.frame=true;var data=unit.data;if(spsfound&&data.length>4){var sliceType=new exp_golomb(data).readSliceType();if(sliceType===2||sliceType===4||sliceType===7||sliceType===9){avcSample.key=true;}}break;case 5:push=true;if(!avcSample){avcSample=_this.avcSample=createAVCSample(true,pes.pts,pes.dts,'');}if(debug){avcSample.debug+='IDR ';}avcSample.key=true;avcSample.frame=true;break;case 6:push=true;if(debug&&avcSample){avcSample.debug+='SEI ';}expGolombDecoder=new exp_golomb(_this.discardEPB(unit.data));expGolombDecoder.readUByte();var payloadType=0;var payloadSize=0;var endOfCaptions=false;var b=0;while(!endOfCaptions&&expGolombDecoder.bytesAvailable>1){payloadType=0;do{b=expGolombDecoder.readUByte();payloadType+=b;}while(b===0xFF);payloadSize=0;do{b=expGolombDecoder.readUByte();payloadSize+=b;}while(b===0xFF);if(payloadType===4&&expGolombDecoder.bytesAvailable!==0){endOfCaptions=true;var countryCode=expGolombDecoder.readUByte();if(countryCode===181){var providerCode=expGolombDecoder.readUShort();if(providerCode===49){var userStructure=expGolombDecoder.readUInt();if(userStructure===0x47413934){var userDataType=expGolombDecoder.readUByte();if(userDataType===3){var firstByte=expGolombDecoder.readUByte();var secondByte=expGolombDecoder.readUByte();var totalCCs=31&firstByte;var byteArray=[firstByte,secondByte];for(i=0;i<totalCCs;i++){byteArray.push(expGolombDecoder.readUByte());byteArray.push(expGolombDecoder.readUByte());byteArray.push(expGolombDecoder.readUByte());}_this._insertSampleInOrder(_this._txtTrack.samples,{type:3,pts:pes.pts,bytes:byteArray});}}}}}else if(payloadSize<expGolombDecoder.bytesAvailable){for(i=0;i<payloadSize;i++){expGolombDecoder.readUByte();}}}break;case 7:push=true;spsfound=true;if(debug&&avcSample){avcSample.debug+='SPS ';}if(!track.sps){expGolombDecoder=new exp_golomb(unit.data);var config=expGolombDecoder.readSPS();track.width=config.width;track.height=config.height;track.pixelRatio=config.pixelRatio;track.sps=[unit.data];track.duration=_this._duration;var codecarray=unit.data.subarray(1,4);var codecstring='avc1.';for(i=0;i<3;i++){var h=codecarray[i].toString(16);if(h.length<2){h='0'+h;}codecstring+=h;}track.codec=codecstring;}break;case 8:push=true;if(debug&&avcSample){avcSample.debug+='PPS ';}if(!track.pps){track.pps=[unit.data];}break;case 9:push=false;track.audFound=true;if(avcSample){pushAccesUnit(avcSample,track);}avcSample=_this.avcSample=createAVCSample(false,pes.pts,pes.dts,debug?'AUD ':'');break;case 12:push=false;break;default:push=false;if(avcSample){avcSample.debug+='unknown NAL '+unit.type+' ';}break;}if(avcSample&&push){var _units=avcSample.units;_units.push(unit);}});if(last&&avcSample){pushAccesUnit(avcSample,track);this.avcSample=null;}};TSData);break;}}}}else{arr.push(data);}};TSDemuxer.prototype._getLastNalUnit=function _getLastNalUnit(){var avcSample=this.avcSample,lastUnit=void 0;if(!avcSample||avcSample.units.length===0){var track=this._avcTrack,samples=track.samples;avcSample=samples[samples.length-1];}if(avcSample){var units=avcSample.units;lastUnit=units[units.length-1];}return lastUnit;};TSDemuxer.prototype._parseAVCNALu=function _parseAVCNALu(array){var i=0,len=array.byteLength,value=void 0,overflow=void 0,track=this._avcTrack,state=track.naluState||0,lastState=state;var units=[],unit=void 0,unitType=void 0,lastUnitStart=-1,lastUnitType=void 0;if(state===-1){lastUnitStart=0;lastUnitType=array[0]&0x1f;state=0;i=1;}while(i<len){value=array[i++];if(!state){state=value?0:1;continue;}if(state===1){state=value?0:2;continue;}if(!value){state=3;}else if(value===1){if(lastUnitStart>=0){unit={data:array.subarray(lastUnitStart,i-state-1),type:lastUnitType};units.push(unit);}else{var lastUnit=this._getLastNalUnit();if(lastUnit){if(lastState&&i<=4-lastState){if(lastUnit.state){lastUnit.data=lastUnit.data.subarray(0,lastUnit.data.byteLength-lastState);}}overflow=i-state-1;if(overflow>0){var tmp=new Uint8Array(lastUnit.data.byteLength+overflow);tmp.set(lastUnit.data,0);tmp.set(array.subarray(0,overflow),lastUnit.data.byteLength);lastUnit.data=tmp;}}}if(i<len){unitType=array[i]&0x1f;lastUnitStart=i;lastUnitType=unitType;state=0;}else{state=-1;}}else{state=0;}}if(lastUnitStart>=0&&state>=0){unit={data:array.subarray(lastUnitStart,len),type:lastUnitType,state:state};units.push(unit);}if(units.length===0){var _lastUnit=this._getLastNalUnit();if(_lastUnit){var _tmp=new Uint8Array(_lastUnit.data.byteLength+array.byteLength);_tmp.set(_lastUnit.data,0);_tmp.set(array,_lastUnit.data.byteLength);_lastUnit.data=_tmp;}}track.naluState=state;return units;};TSDemuxer.prototype.discardEPB=function discardEPB(data){var length=data.byteLength,EPBPositions=[],i=1,newLength=void 0,newData=void 0;while(i<length-2){if(data[i]===0&&data[i+1]===0&&data[i+2]===0x03){EPBPositions.push(i+2);i+=2;}else{i++;}}if(EPBPositions.length===0){return data;}newLength=length-EPBPositions.length;newData=new Uint8Array(newLength);var sourceIndex=0;for(i=0;i<newLength;sourceIndex++,i++){if(sourceIndex===EPBPositions[0]){sourceIndex++;EPBPositions.shift();}newData[i]=data[sourceIndex];}return newData;};TSDemuxer.prototype._parseAACPES=function _parseAACPES(pes){var track=this._audioTrack,data=pes.data,pts=pes.pts,startOffset=0,aacOverFlow=this.aacOverFlow,aacLastPTS=this.aacLastPTS,frameDuration=void 0,frameIndex=void 0,offset=void 0,stamp=void 0,len=void 0;if(aacOverFlow){var tmp=new Uint8Array(aacOverFlow.byteLength+data.byteLength);tmp.set(aacOverFlow,0);tmp.set(data,aacOverFlow.byteLength);data=tmp;}for(offset=startOffset,len=data.length;offset<len-1;offset++){if(isHeader(data,offset)){break;}}if(offset){var reason=void 0,fatal=void 0;if(offset<len-1){reason='AAC PES did not start with ADTS header,offset:'+offset;fatal=false;}else{reason='no ADTS header found in AAC PES';fatal=true;}logger["b"].warn('parsing error:'+reason);this.observer.trigger(events["a"].ERROR,{type:errors["b"].MEDIA_ERROR,details:errors["a"].FRAG_PARSING_ERROR,fatal:fatal,reason:reason});if(fatal){return;}}initTrackConfig(track,this.observer,data,offset,this.audioCodec);frameIndex=0;frameDuration=getFrameDuration(track.samplerate);if(aacOverFlow&&aacLastPTS){var newPTS=aacLastPTS+frameDuration;if(Math.abs(newPTS-pts)>1){logger["b"].log('AAC: align PTS for overlapping frames by '+Math.round((newPTS-pts)/90));pts=newPTS;}}while(offset<len){if(isHeader(data,offset)&&offset+5<len){var frame=appendFrame(track,data,offset,pts,frameIndex);if(frame){offset+=frame.length;stamp=frame.sample.pts;frameIndex++;}else{break;}}else{offset++;}}if(offset<len){aacOverFlow=data.subarray(offset,len);}else{aacOverFlow=null;}this.aacOverFlow=aacOverFlow;this.aacLastPTS=stamdex++;}else{break;}}else{offset++s){this._id3Track.samples.push(pes);};return TSDemuxer;}();var tsdemuxer=tsdemuxer_TSDemuxer;function mp3demuxer__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}.config=config;this.remuxer=remuxer;}tion:duration,inputTimeScale:90000};};MP3Demuxer.prototype.resetTimeStamp=function resetTimeStamp(){};MP3Demuxer.probe=function probe(data){var offset=void 0,length=void 0;var id3Data=id3["a"].getID3Data(data,0);if(id3Data&&id3["a"].getTimeStamp(id3Data)!==undefined){for(offset=id3Data.length,length=Math.min(data.length-1,offset+100);offset<length;offset++){if(mpegaudio.probe(data,offset)){logger["b"].log('MPEG Audio sync word found !');return true;}}}return false;};MP3Demuxer.prototype.append=function append(data,timeOffset,contiguous,accurateTimeOffset){var id3Data=id3["a"].getID3Data(data,0);var timestamp=id3["a"].getTimeStamp(id3Data);var pts=timestamp?90*timestamp:timeOffset*90000;var offset=id3Data.length;var length=data.length;var frameIndex=0,stamp=0;var track=this._audioTrack;var id3Samples=[{pts:pts,dts:pts,data:id3Data}];while(offset<length){if(mpegaudio.isHeader(data,offset)){var frame=mpegaudio.appendFrame(track,data,offset,pts,frameIndex);if(frame){offset+=frame.length;stamp=frame.sample.pts;frameIndex++;}else{break;}}else if(id3["a"].isHeader(data,offset)){id3Data=id3["a"].getID3Data(data,offset);id3Samples.push({pts:stamp,dts:stamp,data:id3Data});offset+=id3Data.length;}else{offset++;}}this.remuxer.remux(track,{samples:[]},{samples:id3Samples,inputTimeScale:90000},{samples:[]},timeOffset,contiguous,accurateTimeOffset);};MP3Demuxer.prototype.destroy=function destroy(){};return MP3Demuxer;}();var mp3demuxer=mp3demuxer_MP3Demuxer;function aac_helper__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var AAC=function(){function AAC(){aac_helper__classCax5a,0x5a,0x5e]);}break;}return null;};return AAC;}();var aac_helper=AAC;function mp4_generator__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var UINT32_MAX=Math.pow(2,32)-1;var MP4=function(){function MP4(){mp4_generator__classCallCheck(this,MP4);}MP4.init=function init(){MP4.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],'.mp3':[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var i=void 0;for(i in MP4.types){if(MP4.types.hasOwnProperty(i)){MP4.types[i]=[i.charCodeAt(0),i.charCodeAt(1),i.charCodeAt(2),i.charCodeAt(3)];}}var videoHdlr=new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x76,0x69,0x64,0x65,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x56,0x69,0x64,0x65,0x6f,0x48,0x61,0x6e,0x64,0x6c,0x65,0x72,0x00]);var audioHdlr=new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x73,0x6f,0x75,0x6e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x53,0x6f,0x75,0x6e,0x64,0x48,0x61,0x6e,0x64,0x6c,0x65,0x72,0x00]);MP4.HDLR_TYPES={'video':videoHdlr,'audio':audioHdlr};var dref=new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x0c,0x75,0x72,0x6c,0x20,0x00,0x00,0x00,0x01]);var stco=new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00]);MP4.STTS=MP4.STSC=MP4.STCO=stco;MP4.STSZ=new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00]);MP4.VMHD=new Uint8Array([0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00]);MP4.SMHD=new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00]);MP4.STSD=new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01]);var majorBrand=new Uint8Array([105,115,111,109]);var avc1Brand=new Uint8Array([97,118,99,49]);var minorVersion=new Uint8Array([0,0,0,1]);MP4.FTYP=MP4.box(MP4.types.ftyp,majorBrand,minorVersion,majorBrand,avc1Brand);MP4.DINF=MP4.box(MP4.types.dinf,MP4.box(MP4.types.dref,dref));};MP4.box=function box(type){var payload=Array.prototype.slice.call(arguments,1),size=8,i=payload.length,len=i,result=void 0;while(i--){size+=payload[i].byteLength;}result=new Uint8Array(size);result[0]=size>>24&0xff;result[1]=size>>16&0xff;result[2]=size>>8&0xff;result[3]=size&0xff;result.set(type,4);for(i=0,size=8;i<len;i++){result.set(payload[i],size);size+=payload[i]P4.types.return MPuration&04.hdlr(trmber>>8&0P4.VMHD),P4.traf(tat(boxes)ull,[MP4.eturn MP4.box(MP4.types.mvhd,bytes);};MP4.sdtp=function sdtp(track){var samples=track.samples||[],bytes=new Uint8Array(4+samples.length),flags=void 0,i=void 0;for(i=0;i<samples.length;i++){flags=samples[i].flags;bytes[i+4]=flags.dependsOn<<4|flags.isDependedOn<<2|flags.hasRedundancy;}return MP4),MP4.box(MP4.types.stco,MP4.STCO));};MP4.avc1=function avc1(track){var sps=[],pps=[],i=void 0,data=void 0,len=void 0;for(i=0;i<track.sps.length;i++){data=track.sps[i];len=data.byteLength;sps.push(len>>>8&0xFF);sps.push(len&0xFF);sps=sps.concat(Array.prototype.slice.call(data));}for(i=0;i<track.pps.length;i++){data=track.pps[i];len=data.byteLength;pps.push(len>>>8&0xFF);pps.push(len&0xFF);pps=pps.concat(Array.prototype.slice.call(data));}var avcc=MP4.box(MP4.types.avcC,new Uint8Array([0x01,sps[3],sps[4],sps[5],0xfc|3,0xE0|track.sps.length].concat(sps).concat([track.pps.length]).concat(pps))),width=track.width,height=track.height,hSpacing=track.pixelRatio[0],vSpacing=track.pixelRatio[1];return MP4.box(MP4.types.avc1,new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,width>>8&0xFF,width&0xff,height>>8&0xFF,height&0xff,0x00,0x48,0x00,0x00,0x00,0x48,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x12,0x64,0x61,0x69,0x6C,0x79,0x6D,0x6F,0x74,0x69,0x6F,0x6E,0x2F,0x68,0x6C,0x73,0x2E,0x6A,0x73,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x11,0x11]),avcc,MP4.box(MP4.types.btrt,new Uint8Array([0x00,0x1c,0x9c,0x80,0x00,0x2d,0xc6,0xc0,0x00,0x2d,0xc6,0xc0])),MP4.box(MP4.types.pasp,new Uint8Array([hSpacing>>24,hSpacing>>16&0xFF,hSpacing>>8&0xFF,hSpacing&0xFF,vSpacing>>24,vSpacing>>16&0xFF,vSpacingk.config)ox(MP4.t8&0xFF,sapes.stsd,ht>>8&0xF20+8+16+8ak,MP4.tk00,0x00,0x00,0x00,0x01,0x00,0x01]));};MP4.trun=function trun(track,offset){var samples=track.samples||[],len=samples.length,arraylen=12+16*len,array=new Uint8Array(arraylen),i=void 0,sample=void 0,duration=void 0,size=void 0,flags=void 0,cts=void 0;offset+=8+arraylen;array.set([0x00,0x00,0x0f,0x01,len>>>24&0xFF,len>>>16&0xFF,len>>>8&0xFF,len&0xFF,offset>>>24&0xFF,offset>>>16&0xFF,offset>>>8&0xFF,offset&0xFF],0);for(i=0;i<len;i++){sample=samples[i];duration=sample.duration;size=sample.size;flags=sample.flags;cts=sample.cts;array.set([duration>>>24&0xFF,duration>>>16&0xFF,duration>>>8&0xFF,duration&0xFF,size>>>24&0xFF,size>>>16&0xFF,size>>>8&0xFF,size&0xFF,flags.isLeading<<2|flags.dependsOn,flags.isDependedOn<<6|flags.hasRedundancy<<4|flags.paddingValue<<1|flags.isNonSync,flags.degradPrio&0xF0<<8,flags.degradPrio&0x0F,cts>>>24&0xFF,cts>>>16&0xFF,cts>>>8&0xFF,cts&0xFF],12+16*i);}return MP4.box(MP4.types.trun,array);};MP4.initSegment=function initSegment(tracks){if(!MP4.types){MP4.init();}var movie=MP4.moov(tracks),result=void 0;result=new Uint8Array(MP4.FTYP.byteLength+movie.byteLength);result.set(MP4.FTYP);result.set(movie,MP4.FTYP.byteLength);return result;};return MP4;}();var mp4_generator=MP4;function mp4_remuxer__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var MAX_SILENT_FRAME_DURATION=10*1000;var mp4_remuxer_MP4Remuxer=function(){function MP4Remuxer(observer,config,typeSupported,vendor){mp4_remuxer__classCallCheck(this,MP4Remuxer);this.observer=observer;this.config=config;this.typeSupported=typeSupported;var userAgent=navigator.userAgent;this.isSafari=vendor&&vendor.indexOf('Apple')>-1&&userAgent&&!userAgent.match('CriOS');this.ISGenerated=false;}MP4Remuxer.prototype.destroy=function destroy(){tPTS=this._initDTS=defaultTimeStamp;};nitSegment(){this.ISGenerated=false;};MP4Remuxer.prototype.remux=function remux(audioTrack,videoTrack,id3Track,textTrack,timeOffset,contiguous,accurateTimeOffset){if(!this.ISGenerated){this.generateIS(audioTrack,videoTrack,timeOffset);}if(this.ISGenerated){var nbAudioSamples=audioTrack.samples.length;var nbVideoSamples=videoTrack.samples.length;var audioTimeOffset=timeOffset;var videoTimeOffset=timeOffset;if(nbAudioSamples&&nbVideoSamples){var audiovideoDeltaDts=(audioTrack.samples[0].dts-videoTrack.samples[0].dts)/videoTrack.inputTimeScale;audioTimeOffset+=Math.max(0,audiovideoDeltaDts);videoTimeOffset+=Math.max(0,-audiovideoDeltaDts);}if(nbAudioSamples){if(!audioTrack.timescale){logger["b"].warn('regenerate InitSegment as audio detected');this.generateIS(audioTrack,videoTrack,timeOffset);}var audioData=this.remuxAudio(audioTrack,audioTimeOffset,contiguous,accurateTimeOffset);if(nbVideoSamples){var audioTrackLength=void 0;if(audioData){audioTrackLength=audioData.endPTS-audioData.startPTS;}if(!videoTrack.timescale){logger["b"].warn('regenerate InitSegment as video detected');this.generateIS(audioTrack,videoTrack,timeOffset);}this.remuxVideo(videoTrack,videoTimeOffset,contiguous,audioTrackLength,accurateTimeOffset);}}else{if(nbVideoSamples){var videoData=this.remuxVideo(videoTrack,videoTimeOffset,contiguous,0,accurateTimeOffset);if(videoData&&audioTrack.codec){this.remuxEmptyAudio(audioTrack,audioTimeOffset,contiguous,videoData);}}}}if(id3Track.samples.length){this.remuxID3(id3Track,timeOffset);}if(textTrack.samples.length){this.remuxText(textTrack,timeOffset);}this.observer.trigger(events["a"].FRAG_PARSED);};MP4Remuxer.prototype.generateIS=function generateIS(audioTrack,videoTrack,timeOffset){var observer=this.observer,audioSamples=audioTrack.samples,videoSamples=videoTrack.samples,typeSupported=this.typeSupported,container='audio/mp4',tracks={},data={tracks:tracks},computePTSDTS=this._initPTS===undefined,initPTS=void 0,initDTS=void 0;if(computePTSDTS){initPTS=initDTS=Infinity;}if(audioTrack.config&&audioSamples.length){audioTrack.timescale=audioTrack.samplerate;logger["b"].log('audio sampling rate : '+audioTrack.samplerate);if(!audioTrack.isAAC){if(typeSupported.mpeg){container='audio/mpeg';audioTrack.codec='';}else if(typeSupported.mp3){audioTrack.codec='mp3';}}tracks.audio={container:container,codec:audioTrack.codec,initSegment:!audioTrack.isAAC&&typeSupported.mpeg?new Uint8Array():mp4_generator.initSegment([audioTrack]),metadata:{channelCount:audioTrack.channelCount}};if(computePTSDTS){initPTS=initDTS=audioSamples[0].pts-audioTrack.inputTimeScale*timeOffset;}}if(videoTrack.sps&&videoTrack.pps&&videoSamples.length){var inputTimeScale=videoTrack.inputTimeScale;videoTrack.timescale=inputTimeScale;tracks.video={container:'video/mp4',codec:videoTrack.codec,initSegment:mp4_generator.initSegment([videoTrack]),metadata:{width:videoTrack.width,height:videoTrack.height}};if(computePTSDTS){initPTS=Math.min(initPTS,videoSamples[0].pts-inputTimeScale*timeOffset);initDTS=Math.min(initDTS,videoSamples[0].dts-inputTimeScale*timeOffset);this.observer.trigger(events["a"].INIT_PTS_FOUND,{initPTS:initPTS});}}if(Object.keys(tracks).length){observer.trigger(events["a"].FRAG_PARSING_INIT_SEGMENT,data);this.ISGenerated=true;if(computePTSDTS){this._initPTS=initPTS;this._initDTS=initDTS;}}else{observer.trigger(events["a"].ERROR,{type:errors["b"].MEDIA_ERROR,details:errors["a"].FRAG_PARSING_ERROR,fatal:false,reason:'no audio/video samples found'});}};MP4Remuxer.prototype.remuxVideo=function remuxVideo(track,timeOffset,contiguous,audioTrackLength,accurateTimeOffset){var offset=8,timeScale=track.timescale,mp4SampleDuration=void 0,mdat=void 0,moof=void 0,firstPTS=void 0,firstDTS=void 0,nextDTS=void 0,lastPTS=void 0,lastDTS=void 0,inputSamples=track.samples,outputSamples=[],nbSamples=inputSamples.length,ptsNormalize=this._PTSNormalize,initDTS=this._initDTS;var nextAvcDts=this.nextAvcDts;var isSafari=this.isSafari;if(nbSamples===0){return;}if(isSafari){contiguous|=inputSamples.length&&nextAvcDts&&(accurateTimeOffset&&Math.abs(timeOffset-nextAvcDts/timeScale)<0.1||Math.abs(inputSamples[0].pts-nextAvcDts-initDTS)<timeScale/5);}if(!contiguous){nextAvcDts=timeOffset*timeScale;}inputSamples.forEach(function(sample){sample.pts=ptsNormalize(sample.pts-initDTS,nextAvcDts);sample.dts=ptsNormalize(sample.dts-inieturn deltadts||deltapts||a.id-b.id;}min(prev,curr.pts-curr.dts),-18000);},0);if(PTSDTSshift<0){logger["b"].warn('PTS < DTS detected in video samples, shifting DTS by '+Math.round(PTSDTSshift/90)+' ms to overcome this issue');for(var i=0;i<inputSamples.length;i++){inputSamples[i].dts+=PTSDTSshift;}}var sample=inputSamples[0];firstDTS=Math.max(sample.dts,0);firstPTS=Math.max(sample.pts,0);var delta=Math.round((firstDTS-nextAvcDts)/90);if(contiguous){if(delta){if(delta>1){logger["b"].log('AVC:'+delta+' ms hole between fragments detected,filling it');}else if(delta<-1){logger["b"].log('AVC:'+-delta+' ms overlapping between fragments detected');}firstDTS=nextAvcDts;inputSamples[0].dts=firstDTS;firstPTS=Math.max(firstPTS-delta,nextAvcDts);inputSamples[0].pts=firstPTS;logger["b"].log('Video/PTS/DTS adjusted: '+Math.round(firstPTS/90)+'/'+Math.round(firstDTS/90)+',delta:'+delta+' ms');}}nextDTS=firstDTS;sample=inputSamples[inputSamples.length-1];lastDTS=Math.max(sample.dts,0);lastPTS=Math.max(sample.pts,0,lastDTS);if(isSafari){mp4SampleDuration=Math.round((lastDTS-firstDTS)/(inputSamples.length-1));}var nbNalu=0,naluLen=0;for(var _i=0;_i<nbSamples;_i++){var _sample=inputSamples[_i],units=_sample.units,nbUnits=units.length,sampleLen=0;for(var j=0;j<nbUnits;j++){sampleLen+=units[j].data.length;}naluLen+=sampleLen;nbNalu+=nbUnits;_sample.length=sampleLen;if(isSafari){_sample.dts=firstDTS+_i*mp4SampleDuration;}else{_sample.dts=Math.max(_sample.dts,firstDTS);}_sample.pts=Math.max(_sample.pts,_sample.dts);}var mdatSize=naluLen+4*nbNalu+8;try{mdat=new Uint8Array(mdatSize);}catch(err){this.observer.trigger(events["a"].ERROR,{type:errors["b"].MUX_ERROR,details:errors["a"].REMUX_ALLOC_ERROR,fatal:false,bytes:mdatSize,reason:'fail allocating video mdat '+mdatSize});return;}var view=new DataView(mdat.buffer);view.setUint32(0,mdatSize);mdat.set(mp4_generator.types.mdat,4);for(var _i2=0;_i2<nbSamples;_i2++){var avcSample=inputSamples[_i2],avcSampleUnits=avcSample.units,mp4SampleLength=0,compositionTimeOffset=void 0;for(var _j=0,_nbUnits=avcSampleUnits.length;_j<_nbUnits;_j++){var unit=avcSampleUnits[_j],unitData=unit.data,unitDataLen=unit.data.byteLength;view.setUint32(offset,unitDataLen);offset+=4;mdat.set(unitData,offset);offset+=unitDataLen;mp4SampleLength+=4+unitDataLen;}if(!isSafari){if(_i2<nbSamples-1){mp4SampleDuration=inputSamples[_i2+1].dts-avcSample.dts;}else{var config=this.config,lastFrameDuration=avcSample.dts-inputSamples[_i2>0?_i2-1:_i2].dts;if(config.stretchShortVideoTrack){var maxBufferHole=config.maxBufferHole,gapTolerance=Math.floor(maxBufferHole*timeScale),deltaToFrameEnd=(audioTrackLength?firstPTS+audioTrackLength*timeScale:this.nextAudioPts)-avcSample.pts;if(deltaToFrameEnd>gapTolerance){mp4SampleDuration=deltaToFrameEnd-lastFrameDuration;if(mp4SampleDuration<0){mp4SampleDuration=lastFrameDuration;}logger["b"].log('It is approximately '+deltaToFrameEnd/90+' ms to the next segment; using duration '+mp4SampleDuration/90+' ms for the last video frame.');}else{mp4SampleDuration=lastFrameDuration;}}else{mp4SampleDuration=lastFrameDuration;}}compositionTimeOffset=Math.round(avcSample.pts-avcSample.dts);}else{compositionTimeOffset=Math.max(0,mp4SampleDuration*Math.round((avcSample.pts-avcSample.dts)/mp4SampleDuration));}outputSamples.push({size:mp4SampleLength,duration:mp4SampleDuration,cts:compositionTimeOffset,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:avcSample.key?2:1,isNonSync:avcSample.key?0:1}});}this.nextAvcDts=lastDTS+mp4SampleDuration;var dropped=track.dropped;track.len=0;track.nbNalu=0;track.dropped=0;if(outputSamples.length&&navigator.userAgent.toLowerCase().indexOf('chrome')>-1){var flags=outputSamples[0].flags;flags.dependsOn=2;flags.isNonSync=0;}track.samples=outputSamples;moof=mp4_generator.moof(track.sequenceNumber++,firstDTS,track);track.samples=[];var data={data1:moof,data2:mdat,startPTS:firstPTS/timeScale,endPTS:(lastPTS+mp4SampleDuration)/timeScale,startDTS:firstDTS/timeScale,endDTS:this.nextAvcDts/timeScale,type:'video',hasAudio:false,hasVideo:true,nb:outputSamples.length,dropped:dropped};this.observer.trigger(events["a"].FRAG_PARSING_DATA,data);return data;};MP4Remuxer.prototype.remuxAudio=function remuxAudio(track,timeOffset,contiguous,accurateTimeOffset){var inputTimeScale=track.inputTimeScale,mp4timeScale=track.timescale,scaleFactor=inputTimeScale/mp4timeScale,mp4SampleDuration=track.isAAC?1024:1152,inputSampleDuration=mp4SampleDuration*scaleFactor,ptsNormalize=this._PTSNormalize,initDTS=this._initDTS,rawMPEG=!track.isAAC&&this.typeSupported.mpeg;var offset=void 0,mp4Sample=void 0,fillFrame=void 0,mdat=void 0,moof=void 0,firstPTS=void 0,lastPTS=void 0,inputSamples=track.samples,outputSamples=[],nextAudioPts=this.nextAudioPts;contiguous|=inputSamples.length&&nextAudioPts&&(accurateTimeOffset&&Math.abs(timeOffset-nextAudioPts/inputTimeScale)<0.1||Math.abs(inputSamples[0].pts-nextAudioPts-initDTS)<20*inpu-initDTS,timeOffset*inputTimeScalenction(sample){return sample.pts>=0;});if(inputSamples.length===0){return;}if(!contiguous){if(!accurateTimeOffset){nextAudioPts=inputSamples[0].pts;}else{nextAudioPts=timeOffset*inputTimeScale;}}if(track.isAAC){var maxAudioFramesDrift=this.config.maxAudioFramesDrift;for(var i=0,nextPts=nextAudioPts;i<inputSamples.length;){var sample=inputSamples[i],delta;var pts=sample.pts;delta=pts-nextPts;var duration=Math.abs(1000*delta/inputTimeScale);if(delta<=-maxAudioFramesDrift*inputSampleDuration){logger["b"].warn('Dropping 1 audio frame @ '+(nextPts/inputTimeScale).toFixed(3)+'s due to '+Math.round(duration)+' ms overlap.');inputSamples.splice(i,1);track.len-=sample.unit.length;}else if(delta>=maxAudioFramesDrift*inputSampleDuration&&duration<MAX_SILENT_FRAME_DURATION&&nextPts){var missing=Math.round(delta/inputSampleDuration);logger["b"].warn('Injecting '+missing+' audio frame @ '+(nextPts/inputTimeScale).toFixed(3)+'s due to '+Math.round(1000*delta/inputTimeScale)+' ms gap.');for(var j=0;j<missing;j++){var newStamp=Math.max(nextPts,0);fillFrame=aac_helper.getSilentFrame(track.manifestCodec||track.codec,track.channelCount);if(!fillFrame){logger["b"].log('Unable to get silent frame for given audio codec; duplicating last frame instead.');fillFrame=sample.unit.subarray();}inputSamples.splice(i,0,{unit:fillFrame,pts:newStamp,dts:newStamp});track.len+=fillFrame.length;nextPts+=inputSampleDuration;i++;}sample.pts=sample.dts=nextPts;nextPts+=inputSampleDuration;i++;}else{if(Math.abs(delta)>0.1*inputSampleDuration){}sample.pts=sample.dts=nextPts;nextPts+=inputSampleDuration;i++;}}}for(var _j2=0,_nbSamples=inputSamples.length;_j2<_nbSamples;_j2++){var audioSample=inputSamples[_j2];var unit=audioSample.unit;var _pts=audioSample.pts;if(lastPTS!==undefined){mp4Sample.duration=Math.round((_pts-lastPTS)/scaleFactor);}else{var _delta=Math.round(1000*(_pts-nextAudioPts)/inputTimeScale),numMissingFrames=0;if(contiguous&&track.isAAC){if(_delta){if(_delta>0&&_delta<MAX_SILENT_FRAME_DURATION){numMissingFrames=Math.round((_pts-nextAudioPts)/inputSampleDuration);logger["b"].log(_delta+' ms hole between AAC samples detected,filling it');if(numMissingFrames>0){fillFrame=aac_helper.getSilentFrame(track.manifestCodec||track.codec,track.channelCount);if(!fillFrame){fillFrame=unit.subarray();}track.len+=numMissingFrames*fillFrame.length;}}else if(_delta<-12){logger["b"].log('drop overlapping AAC sample, expected/parsed/delta:'+(nextAudioPts/inputTimeScale).toFixed(3)+'s/'+(_pts/inputTimeScale).toFixed(3)+'s/'+-_delta+'ms');track.len-=unit.byteLength;continue;}_pts=nextAudioPts;}}firstPTS=_pts;if(track.len>0){var mdatSize=rawMPEG?track.len:track.len+8;offset=rawMPEG?0:8;try{mdat=new Uint8Array(mdatSize);}catch(err){this.observer.trigger(events["a"].ERROR,{type:errors["b"].MUX_ERROR,details:errors["a"].REMUX_ALLOC_ERROR,fatal:false,bytes:mdatSize,reason:'fail allocating audio mdat '+mdatSize});return;}if(!rawMPEG){var view=new DataView(mdat.buffer);view.setUint32(0,mdatSize);mdat.set(mp4_generator.types.mdat,4);}}else{return;}for(var _i3=0;_i3<numMissingFrames;_i3++){fillFrame=aac_helper.getSilentFrame(track.manifestCodec||track.codec,track.channelCount);if(!fillFrame){logger["b"].log('Unable to get silent frame for given audio codec; duplicating this frame instead.');fillFrame=unit.subarray();}mdat.set(fillFrame,offset);offset+=fillFrame.byteLength;mp4Sample={size:fillFrame.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}};outputSamples.push(mp4Sample);}}mdat.set(unit,offset);var unitLen=unit.byteLength;offset+=unitLen;mp4Sample={size:unitLen,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}};outputSamples.push(mp4Sample);lastPTS=_pts;}var lastSampleDuration=0;var nbSamples=outputSamples.length;if(nbSamples>=2){lastSampleDuration=outputSamples[nbSamples-2].duration;mp4Sample.duration=lastSampleDuration;}if(nbSamples){this.nextAudioPts=nextAudioPts=lastPTS+scaleFactor*lastSampleDuration;track.len=0;track.samples=outputSamples;if(rawMPEG){moof=new Uint8Array();}else{moof=mp4_generator.moof(track.sequenceNumber++,firstPTS/scaleFactor,track);}track.samples=[];var start=firstPTS/inputTimeScale;var end=nextAudioPts/inputTimeScale;var audioData={data1:moof,data2:mdat,startPTS:start,endPTS:end,startDTS:start,endDTS:end,type:'audio',hasAudio:true,hasVideo:false,nb:nbSamples};this.observer.trigger(events["a"].FRAG_PARSING_DATA,audioData);return audioData;}return null;};MP4Remuxer.prototype.remuxEmptyAudio=function remuxEmptyAudio(track,timeOffset,contiguous,videoData){var inputTimeScale=track.inputTimeScale,mp4timeScale=track.samplerate?track.samplerate:inputTimeScale,scaleFactor=inputTimeScale/mp4timeScale,nextAudioPts=this.nextAudioPts,startDTS=(nextAudioPts!==undefined?nextAudioPts:videoData.startDTS*inputTimeScale)+this._initDTS,endDTS=videoData.endDTS*inputTimeScale+this._initDTS,sampleDuration=1024,frameDuration=scaleFactor*sampleDuration,nbSamples=Math.ceil((endDTS-startDTS)/frameDuration),silentFrame=aac_helper.getSilentFrame(track.manifestCodec||track.codec,track.channelCount);logger["b"].warn('remux empty Audio');if(!silentFrame){logger["b"].trace('Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!');return;}var samples=[];for(var i=0;i<nbSamples;i++){var stamp=startDTS+i*frameDuration;samples.push({unit:silentFrame,pts:stamp,dts:stamp});track.len+=silentFrame.length;}track.samples=samples;this.remuxAudio(track,timeOffset,contiguous);};MP4Remuxer.prototype.remuxID3=function remuxID3(track,timeOffset){var length=track.samples.length,sample=void 0;var inputTimeScale=track.inputTimeScale;var initPTS=this._initPTS;var initDTS=this._initDTS;if(length){for(var index=0;index<length;index++){sample=track.samples[index];sample.pts=(sample.pts-initPTS)/inputTimeScale;sample.dts=(sample.dts-initDTS)/inputTimeScale;}this.observer.trigger(events["a"].FRAG_PARSING_METADATA,{samples:track.samples});}track.samples=[];timeOffset=timeOffset;};MP4Remuxer.prototype.remuxText=function remuxTextrt(function(a,b){return a.pts-b.pts;});var length=track.samples.length,sample=void 0;var inputTimeScale=track.inputTimeScale;var initPTS=this._initPTS;if(length){for(var index=0;index<length;index++){sample=track.samples[index];sample.pts=(sample.pts-initPTS)/inputTimeScale;}this.observer.trigger(events["a"].FRAG_PARSING_USERDATA,{samples:track.samples});}track.samples=[];timeOffset=timeOffset;};MP4Remuxer.prototype._PTSNormalize=function _PTSNormalize(value,reference){var offset=void 0;if(reference===undefined){return value;}if(reference<value){offset=-8589934592;}else{offset=8589934592;}while(Math.abs(value-reference)>4294967296){value+=offset;}return value;};return MP4Remuxer;}();var mp4_remuxer=mp4_remuxer_MP4Remuxer;function passthrough_remuxer__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var passthrough_oughRemuxer);this.observer=observer;}PassThroughRemuxer.prototype.destroy=function destroy(){};PassThroughRemuxer.prototype.resetTimeStamp=function resetTimeStamp(){};PassThroughRemuxer.prototype.resetInitSegment=function resetInitSegment()er.trigger(events["a"].FRAG_PARSED);};return PassThroughRemuxer;}();var passthrough_remuxer=passthrough_remuxer_PassThroughRemuxer;function demuxer_inline__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var demuxer_inline_global=Object(get_self_scope["a"])();var performance=demuxer_inline_global;var deis.config=config;this.vendor=veuxer;if(demuxer){demuxer.destroy();}};DemuxerInline.prototype.push=function push(data,decryptdata,initSegment,audioCodec,videoCodec,timeOffset,discontinuity,trackSwitch,contiguous,duration,accurateTimeOffset,defaultInitPTS){if(data.byteLength>0&&decryptdata!=null&&decryptdata.key!=null&&decryptdata.method==='AES-128'){var decrypter=this.decrypter;if(decrypter==null){decrypter=this.decrypter=new crypt_decrypter(this.observer,this.config);}var localthis=this;var startTime=void 0;try{startTime=performance.now();}catch(error){startTime=Date.now();}decrypter.decrypt(data,decryptdata.key.buffer,decryptdata.iv.buffer,function(decryptedData){var endTime=void 0;try{endTime=performance.now();}catch(error){endTime=Date.now();}localthis.observer.trigger(events["a"].FRAG_DECRYPTED,{stats:{tstart:startTime,tdecrypt:endTime}});localthis.pushDecrypted(new Uint8Array(decryptedData),decryptdata,new Uint8Array(initSegment),audioCodec,videoCodec,timeOffset,discontinuity,trackSwitch,contiguous,duration,accurateTimeOffset,defaultInitPTS);});}else{this.pushDecrypted(new Uint8Array(data),decryptdata,new Uint8Array(initSegment),audioCodec,videoCodec,timeOffset,discontinuity,trackSwitch,contiguous,duration,accurateTimeOffset,defaultInitPTS);}};DemuxerInline.prototype.pushDecrypted=function pushDecrypted(data,decryptdata,initSegment,audioCodec,videoCodec,timeOffset,discontinuity,trackSwitch,contiguous,duration,accurateTimeOffset,defaultInitPTS){var demuxer=this.demuxer;if(!demuxer||(discontinuity||trackSwitch)&&!this.probe(data)){var observer=this.observer;var typeSupported=this.typeSupported;var config=this.config;var muxConfig=[{demux:tsdemuxer,remux:mp4_remuxer},{demux:mp4demuxer["a"],remux:passthrough_remuxer},{demux:aacdemuxer,remux:mp4_remuxer},{demux:mp3demuxer,remux:mp4_remuxer}];for(var i=0,len=muxConfig.length;i<len;i++){var mux=muxConfig[i];var probe=mux.demux.probe;if(probe(data)){var _remuxer=this.remuxer=new mux.remux(observer,config,typeSupported,this.vendor);demuxer=new mux.demux(observer,_remuxer,config,typeSupported);this.probe=probe;break;}}if(!demuxer){observer.trigger(events["a"].ERROR,{type:errors["b"].MEDIA_ERROR,details:errors["a"].FRAG_PARSING_ERROR,fatal:true,reason:'no demux matching with content found'});return;}this.demuxer=demuxer;}var remuxer=this.remuxer;if(discontinuity||trackSwitch){demuxer.resetInitSegment(initSegment,audioCodec,videoCodec,duration);remuxer.resetInitSegment();}if(discontinuity){demuxer.resetTimeStamp(defaultInitPTS);remuxer.resetTimeStamp(defaultInitPTS);}if(typeof demuxer.setDecryptData==='function'){demuxer.setDecryptData(decryptdata);}demuxer.append(data,timeOffset,contiguous,accurateTimeOffset);};return DemuxerInline;}();var demuxer_inline=__webpack_exports__["a"]=demuxer_inline_DemuxerInline;},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:true});var url_toolkit=__webpack_require__(5);var url_toolkit_default=__webpack_require__.n(url_toolkit);var errors=__webpack_require__(2);var events=__webpack_require__(1);var logger=__webpack_require__(0);var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbymbol.prototype?"symbol":typeof obj;};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var FORBIDDEN_EVENT_NAMES=new Set(['hlsEventGeneric','hlsHandlerDestroying','hlsHandlerDestroyed']);var event_handler_EventHandler=function(){function EventHandler(hls){_classCallCheck(this,EventHandler);this.hls=hls;this.onEvent=this.onEvent.bind(this);for(var _len=arguments.length,events=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){events[_key-1]=arguments[_key];}this.handledEvents=events;this.useGenericHandler=true;this.registerListensteners();this.onHandlerDestroyed();};EventHandler.prototype.onHandlerDestroying=function onHandlerDestroying(){};EventHandler.prototype.onHandlerDestroyed=function onHandlerDestroyed(){};EventHandler.prototype.isEventHandler=function isEventHandler(){return _typeof(this.handledEvents)==='object'&&this.handledEvents.length&&typeof this.onEvent==='function';};EventHandler.prototype.registerListeners=function registerListeners(){if(this.isEventHandler()){this.handledEvents.forEach(function(event){if(FORBIDDEN_EVENT_NAMES.has(event)){throw new Error('Forbidden event-name: '+event);}this.hls.on(event,this.onEvent);},this);}};Eventls.off(event,this.onEvent);},thta){this.onEventGeneric(event,data);};,fatal:false,event:event,err:err});}};return EventHandler;}();var event_handler=event_handler_EventHandler;var mp4demuxer=__webpack_require__(8);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function level_key__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var level_key_LevelKey=function(){function LevelKey(){level_key__classCallCheck(this,LevelKey);this.method=null;this.key=null;this.iv=null;this._uri=null;}_createClass(LevelKey,[{key:'uri',get:function get(){if(!this._uri&&this.reluri){this._uri=url_toolkit_default.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:true});}return this._uri;}}]);return LevelKey;}();var level_key=level_key_LevelKey;var fragment__createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function fragment__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var fragment_Fragment=function(){function Fragment(){var _elementaryStreams;fragment__classCallCheck(this,Fragment);this._url=null;this._byteRange=null;this._decryptdata=null;this.tagList=[];this._elementaryStreams=(_elementaryStreams={},_elementaryStreams[Fragment.ElementaryStreamTypes.AUDIO]=false,_elementaryStreams[Fragment.ElementaryStreamTypes.VIDEO]=false,_elementaryStreams);}F{this._elementaryStreams[type]=true;};Fhis._elementaryStreams[type]===true;};Fragmenter>>8*(15-i)&0xff;}return uint8View;};Fragment.prototype.fragmentDecryptdataFromLevelkey=function fragmentDecryptdataFromLevelkey(levelkey,segmentNumber){var decryptdata=levelkey;if(levelkey&&levelkey.method&&levelkey.uri&&!levelkey.iv){decryptdata=new level_key();decryptdata.method=levelkey.method;decryptdata.baseuri=levelkey.baseuri;decryptdata.reluri=levelkey.reluri;decryptdata.iv=this.createInitializationVector(segmentNumber);}return decryptdata;};fragment__createClass(Fragment,[{key:'url',get:function get(){if(!this._url&&this.relurl){this._url=url_toolkit_default.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNorfunction set(value){this._url=value;}},{key:'programDateTime',get:function get(){if(!this._programDateTime&&this.rawProgramDateTime){this._programDateTime=new Date(Date.parse(this.rawProgramDateTime));}return this._programDateTime;}},{key:'byteRange',get:function get(){if(!this._byteRange&&!this.rawByteRange){return[];}if(this._byteRange){return this._byteRange;}var byteRange=[];if(this.rawByteRange){var params=this.rawByteRange.split('@',2);if(params.length===1){var lastByteRangeEndOffset=this.lastByteRangeEndOffset;byteRange[0]=lastByteRangeEndOffset||0;}else{byteRange[0]=parseInt(params[1]);}byteRange[1]=parseInt(params[0])+byteRange[0];this._byteRange=byteRange;}return byteRange;}},{key:'byteRangeStartOffset',get:function get(){return this.byteRangtion get(){return this.byteRange[1];}},{key:'decryptdata',get:function get(){if(!this._decryptdata){this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn);}return this=null&&this.decryptdata.key===null);return{AUDIO:'audio',VIDEO:'video'};}}]);return Fragment;}();var loader_fragment=fragment_Fragment;function attr_list__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var DECIMAL_RESOLUTION_REGEX=/^(\d+)x(\d+)$/;var ATTR_LIST_REGEX=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g;var AttrList=function(){function AttrList(attrs){attr_list__classCallCheck(this,AttrList);if(typeof attrs==='string'){attrs=AttrList.parseAttrList(attrs);}for(var attr in attrs){if(attrs.hasOwnProperty(attr)){this[attr]=attrs[attr];}}}AttrList.prototype.decimalInteger=function decimalInteger(attrName){var intValue=parseInt(this[attrName],10);if(intValue>Number.MAX_SAFE_INTEGER){return Infinity;}return intValue;};6);}return value;}else{return null;}};AttrListR){return Infinity;}return intValue;};At){return parseFloat(this[attrName]);ing(attrName){return this[attrName];}[1],10),height:parseInt(res[2],10)};};AttrList.parseAttrList=function parseAttrList(input){var match=void 0,attrs={};ATTR_LIST_REGEX.lastIndex=0;while((match=ATTR_LIST_REGEX.exec(input))!==null){var value=match[2],quote='"';if(value.indexOf(quote)===0&&value.lastIndexOf(quote)===value.length-1){value=value.slice(1,-1);}attrs[match[1]]=value;}return attrs;};return AttrList;}();var attr_list=AttrList;var sampleEntryCodesISO={audio:{'a3ds':true,'ac-3':true,'ac-4':true,'alac':true,'alaw':true,'dra1':true,'dts+':true,'dts-':true,'dtsc':true,'dtse':true,'dtsh':true,'ec-3':true,'enca':true,'g719':true,'g726':true,'m4ae':true,'mha1':true,'mha2':true,'mhm1':true,'mhm2':true,'mlpa':true,'mp4a':true,'raw ':true,'Opus':true,'samr':true,'sawb':true,'sawp':true,'sevc':true,'sqcp':true,'ssmv':true,'twos':true,'ulaw':true},video:{'avc1':true,'avc2':true,'avc3':true,'avc4':true,'avcp':true,'drac':true,'dvav':true,'dvhe':true,'encv':true,'hev1':true,'hvc1':true,'mjp2':true,'mp4v':true,'mvc1':true,'mvc2':true,'mvc3':true,'mvc4':true,'resv':true,'rv60':true,'s263':true,'svc1':true,'svc2':true,&typeCodes[codec.slice(0,4)]===true;}function isCodecSupportedInMp4(codec,type){return window.carodaHls.MediaSource.isTypeSupported((type||'video')+'/mp4;codecs="'+codec+'"');}function m3u8_parser__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var MASTER_PLAYLIST_REGEX=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g;var MASTER_PLAYLIST_MEDIA_REGEX=/#EXT-X-MEDIA:(.*)/g;var LEVEL_PLAYLIST_REGEX_FAST=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(''),'g');var LEVEL_PLAYLIST_REGEX_SLOW=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/;var MP4_REGEX_SUFFIX=/\.(mp4|m4s|m4v|m4a)$/i;var m3u8_parser_M3U8Parser=function(){function M3U8Parser(){m3u8_parser__classCallCheck(this,M3U8Parser);}M3U8Parser.findGroup=function findGroup(groups,mediaGroupId){if(!groups){return null;}var matchingGroup=null;for(var i=0;i<groups.length;i++){var group=groups[i];if(group.id===mediaGroupId){matchingGroup=group;}}return matchingGroup;};M3U8Parser.convertAVC1ToAVCOTI=function convertAVC1ToAVCOTI(codec){var result=void 0,avcdata=codec.split('.');if(avcdata.length>2){result=avcdata.shift()+'.';result+=parseInt(avcdata.shift()).toString(16);result+=('000'+parseInt(avcdata.shift()).toString(16)).substr(-4);}else{result=codec;}return result;};M3U8Parser.resolve=function resolve(url,baseUrl){return url_toolkit_default.a.buildAbsoluteURL(baseUrl,url,{alwaysNormalize:true});};M3U8Parser.parseMasterPlaylist=function parseMasterPlaylist(string,baseurl){var levels=[],result=voi1;});}});level.unknownCodecs=codecs;}while((result=MASTER_PLAYLIST_REGEX.exec(string))!=null){var level={};var attrs=level.attrs=new attr_list(result[1]);level.url=M3U8Parser.resolve(result[2],baseurl);var resolution=attrs.decimalResolution('RESOLUTION');if(resolution){level.width=resolution.width;level.height=resolution.height;}level.bitrate=attrs.decimalInteger('AVERAGE-BANDWIDTH')||attrs.decimalInteger('BANDWIDTH');level.name=attrs.NAME;setCodecs([].concat((attrs.CODECS||'').split(/[ ,]+/)),level);if(level.videoCodec&&level.videoCodec.indexOf('avc1')!==-1){level.videoCodec=M3U8Parser.convertAVC1ToAVCOTI(level.videoCodec);}levels.push(level);}return levels;};M3U8Parser.parseMasterPlaylistMedia=function parseMasterPlaylistMedia(string,baseurl,type){var audioGroups=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];var result=void 0;var medias=[];var id=0;MASTER_PLAYLIST_MEDIA_REGEX.lastIndex=0;while((result=MASTER_PLAYLIST_MEDIA_REGEX.exec(string))!==null){var media={};var attrs=new attr_list(result[1]);if(attrs.TYPE===type){media.groupId=attrs['GROUP-ID'];media.name=attrs.NAME;media.type=type;media.default=attrs.DEFAULT==='YES';media.autoselect=attrs.AUTOSELECT==='YES';media.forced=attrs.FORCED==='YES';if(attrs.URI){media.url=M3U8Parser.resolve(attrs.URI,baseurl);}media.lang=attrs.LANGUAGE;if(!media.name){media.name=media.lang;}if(audioGroups.length){var groupCodec=M3U8Parser.findGroup(audioGroups,media.groupId);media.audioCodec=groupCodec?groupCodec.codec:audioGroups[0].codec;}media.id=id++;medias.push(media);}}return medias;};M3U8Parser.parseLevelPlaylist=function parseLevelPlaylist(string,baseurl,id,type,levelUrlId){var currentSN=0,totalduration=0,level={type:null,version:null,url:baseurl,fragments:[],live:true,startSN:0},levelkey=new level_key(),cc=0,prevFrag=null,frag=new loader_fragment(),result=void 0,i=void 0;LEVEL_PLAYLIST_REGEX_FAST.lastIndex=0;while((result=LEVEL_PLAYLIST_REGEX_FAST.exec(string))!==null){var duration=result[1];if(duration){frag.duration=parseFloat(duration);var title=(' '+result[2]).slice(1);frag.title=title||null;frag.tagList.push(title?['INF',duration,title]:['INF',duration]);}else if(result[3]){if(!isNaN(frag.duration)){var sn=currentSN++;frag.type=type;frag.start=totalduration;frag.levelkey=levelkey;frag.sn=sn;frag.level=id;frag.cc=cc;frag.urlId=levelUrlId;frag.baseurl=baseurl;frag.relurl=(' '+result[3]).slice(1);if(level.programDateTime){if(prevFrag){if(frag.rawProgramDateTime){frag.pdt=Date.parse(frag.rawProgramDateTime);}else{frag.pdt=prevFrag.pdt+prevFrag.duration*1000;}}else{frag.pdt=Date.parse(level.programDateTime);}frag.endPdt=frag.pdt+frag.duration*1000;}level.fragments.push(frag);prevFrag=frag;totalduration+=frag.duration;frag=new loader_fragment();}}else if(result[4]){frag.rawByteRange=(' '+result[4]).slice(1);if(prevFrag){var lastByteRangeEndOffset=prevFrag.byteRangeEndOffset;if(lastByteRangeEndOffset){frag.lastByteRangeEndOffset=lastByteRangeEndOffset;}}}else if(result[5]){frag.rawProgramDateTime=(' '+result[5]).slice(1);frag.tagList.push(['PROGRAM-DATE-TIME',frag.rawProgramDateTime]);if(level.programDateTime===undefined){level.programDateTime=new Date(new Date(Date.parse(result[5]))-1000*totalduration);}}else{result=result[0].match(LEVEL_PLAYLIST_REGEX_SLOW);for(i=1;i<result.length;i++){if(result[i]!==undefined){break;}}var value1=(' '+result[i+1]).slice(1);var value2=(' '+result[i+2]).slice(1);switch(result[i]){case'#':frag.tagList.push(value2?[value1,value2]:[value1]);break;case'PLAYLIST-TYPE':level.type=value1.toUpperCase();break;case'MEDIA-SEQUENCE':currentSN=level.startSN=parseInt(value1);break;case'TARGETDURATION':level.targetduration=parseFloat(value1);break;case'VERSION':level.version=parseInt(value1);break;case'EXTM3U':break;case'ENDLIST':level.live=false;break;case'DIS':cc++;frag.tagList.push(['DIS']);break;case'DISCONTINUITY-SEQ':cc=parseInt(value1);break;case'KEY':var decryptparams=value1;var keyAttrs=new attr_list(decryptparams);var decryptmethod=keyAttrs.enumeratedString('METHOD'),decrypturi=keyAttrs.URI,decryptiv=keyAttrs.hexadecimalInteger('IV');if(decryptmethod){levelkey=new level_key();if(decrypturi&&['AES-128','SAMPLE-AES','SAMPLE-AES-CENC'].indexOf(decryptmethod)>=0){levelkey.method=decryptmethod;levelkey.baseuri=baseurl;levelkey.reluri=decrypturi;levelkey.key=null;levelkey.iv=decryptiv;}}break;case'START':var startParams=value1;var startAttrs=new attr_list(startParams);var startTimeOffset=startAttrs.decimalFloatingPoint('TIME-OFFSET');if(!isNaN(startTimeOffset)){level.startTimeOffset=startTimeOffset;}break;case'MAP':var mapAttrs=new attr_list(value1);frag.relurl=mapAttrs.URI;frag.rawByteRange=mapAttrs.BYTERANGE;frag.baseurl=baseurl;frag.level=id;frag.type=type;frag.sn='initSegment';level.initSegment=frag;frag=new loader_fragment();break;default:logger["b"].warn('line parsed but not handled: '+result);break;}}}frag=prevFrag;if(frag&&!frag.relurl){level.fragments.pop();totalduration-=frag.duration;}level.totalduration=totalduration;level.averagetargetduration=totalduration/level.fragments.length;level.endSN=currentSN-1;level.startCC=level.fragments[0]?level.fragments[0].cc:0;level.endCC=cc;if(!level.initSegment&&level.fragm MP4_REGEX_SUFFIX.test(frag.relurl);})){logger["b"].warn('MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX');frag=new loader_fragment();frag.relurl=level.fragments[0].relurl;frag.baseurl=baseurl;frag.level=id;frag.type=type;frag.sn='initSegment';level.initSegment=frag;level.needSidxRanges=true;}}return level;};return M3U8Parser;}();var m3u8_parser=m3u8_parser_M3U8Par,staticProps);return Constructor;};}();function playlist_loader__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var _window=window,performance=_window.performance;var ContextType={MANIFEST:'manifest',LEVEL:'level',AUDIO_TRACK:'audioTrack',SUBTITLE_TRACK:'subtitleTrack'};var LevelType={MAIN:'main',AUDIO:'audio',SUBTITLE:'subtitle'};var playlist_loader_PlaylistLoader=function(_EventHandler){_inherits(PlaylistLoader,_EventHandler);function PlaylistLoader(hls){playlist_loader__classCallCheck(this,PlaylistLoader);var _this=_possibleConstructorReturn(this,_EventHandler.call(this,hls,events["a"].MANIFEST_LOADING,events["a"].LEVEL_LOADING,events["a"].AUDIO_TRACK_LOADING,events["a"].SUBTITLE_TRACK_LOADING));_this.loaders={};return _this&&type!==ContextType.SUBTITLE_TRACK;}ITLE;default:return LevelType.')===0){url=context.url;}return url;};Playlist[context.type]=loader;return loader;};Playl){return this.loaders[context.type];};Playlis){delete this.loaders[contextType];}};PlaylistLos.resetInternalLoader(contextTypeandler.prototype.destroy.call(this);};PlaylistLoader.prototype.onManifestLoading=function onManifestLoading(data){this.load(data.url,{type:ContextType.MANIFEST,level:0,id:null});};PlaylistLoader.prototype.onLevelLoading=function onLevelLoading(data){this.load(data.url,{type:ContextType.LEVEL,level:data.level,id:data.id});};PlaylistLoader.prototype.onAudioTrackLoading=function onAudioTrackLoading(data){this.load(data.url,{type:ContextType.AUDIO_TRACK,level:0,id:data.id});};PlaylistLoader.prototype.onSubtitleTrackLoading=function onSubtitleTrackLoading(data){this.load(data.url,{type:ContextType.SUBTITLE_TRACK,level:0,id:data.id});};PlaylistLoader.prototype.load=function load(url,context){var config=this.hls.config;logger["b"].debug('Loading playlist of type '+context.type+', level: '+context.level+', id: '+context.id);var loader=this.getInternalLoader(context);if(loader){var loaderContext=loader.context;if(loaderContext&&loaderContext.url===url){logger["b"].trace('playlist request ongoing');return false;}else{logger["b"].warn('aborting previous loader for type: '+context.type);loader.abort();}}var maxRetry=void 0,timeout=void 0,retryDelay=void 0,maxRetryDelay=void 0;switch(context.type){case ContextType.MANIFEST:maxRetry=config.manifestLoadingMaxRetry;timeout=config.manifestLoadingTimeOut;retryDelay=config.manifestLoadingRetryDelay;maxRetryDelay=config.manifestLoadingMaxRetryTimeout;break;case ContextType.LEVEL:maxRetry=0;timeout=config.levelLoadingTimeOut;break;default:maxRetry=config.levelLoadingMaxRetry;timeout=config.levelLoadingTimeOut;retryDelay=config.levelLoadingRetryDelay;maxRetryDelay=config.levelLoadingMaxRetryTimeout;break;}loader=this.createInternalLoader(context);context.url=url;context.responseType=context.responseType||'';var loaderConfig={timeout:timeout,maxRetry:maxRetry,retryDelay:retryDelay,maxRetryDelay:maxRetryDelay};var loaderCallbacks={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};logger["b"].debug('Calling internal loader delegate for URL: '+url);loader.load(context,loaderConfig,loaderCallbacks);return true;};PlaylistLoader.prototype.loadsuccess=function loadsuccess(response,stats,context){var networkDetails=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;if(context.isSidxRequest){this._handleSidxRequest(response,context);this._handlePlaylistLoaded(response,stats,context,networkDetails);return;}this.resetInternalLoader(context.type);var string=response.data;stats.tload=performance.now();if(string.indexOf('#EXTM3U')!==0){this._handleManifestParsingError(response,context,'no EXTM3U delimiter',networkDetails);return;}if(string.indexOf('#EXTINF:')>0||string.indexOf('#EXT-X-TARGETDURATION:')>0){this._handleTrackOrLevelPlaylist(response,stats,context,networkDetails);}else{this._handleMasterPlaylist(response,stats,context,networkDetails);}};PlaylistLoader.prototype.loaderror=function loaderror(response,context){var networkDetails=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this._handleNetworkError(context,networkDetails);};PlaylistLoader.prototype.loadtimeout=function loadtimeout(stats,context){var networkDetails=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this._handleNetworkError(context,networkDetails,true);};PlaylistLoader.prototype._handleMasterPlaylist=function _handleMasterPlaylist(response,stats,context,networkDetails){var hls=this.hls;var string=response.data;var url=PlaylistLoader.getResponseUrl(response,context);var levels=m3u8_parser.parseMasterPlaylist(string,url);if(!levels.length){this._handleManifestParsingError(response,context,'no level found in manifest',networkDetailattrs.AUDIO,codec:level.audioCodec};});var audioTracks=m3u8_parser.parseMasterPlaylistMedia(string,url,'AUDIO',audioGroups);var subtitles=m3u8_parser.parseMasterPlaylistMedia(string,url,'SUBTITLES');if(audioTracks.length){var embeddeTrack.url){embeddedAudioFound=true;}});if(embeddedAudioFound===false&&levels[0].audioCodec&&!levels[0].attrs.AUDIO){logger["b"].log('audio codec signaled in quality level, but no embedded audio track signaled, create one');audioTracks.unshift({type:'main',name:'main'});}}hls.trigger(events["a"].MANIFEST_LOADED,{levels:levels,audioTracks:audioTracks,subtitles:subtitles,url:url,stats:stats,networkDetails:networkDetails});};PlaylistLoader.prototype._handleTrackOrLevelPlaylist=function _handleTrackOrLevelPlaylist(response,stats,context,networkDetails){var hls=this.hls;var id=context.id,level=context.level,type=context.type;var url=PlaylistLoader.getResponseUrl(response,context);var levelUrlId=isNaN(id)?0:id;var levelId=isNaN(level)?levelUrlId:level;var levelType=PlaylistLoader.mapContextToLevelType(context);var levelDetails=m3u8_parser.parseLevelPlaylist(response.data,url,levelId,levelType,levelUrlId);levelDetails.tload=stats.tload;if(type===ContextType.MANIFEST){var singleLevel={url:url,details:levelDetails};hls.trigger(events["a"].MANIFEST_LOADED,{levels:[singleLevel],audioTracks:[],url:url,stats:stats,networkDetails:networkDetails});}stats.tparsed=performance.now();if(levelDetails.needSidxRanges){var sidxUrl=levelDetails.initSegment.url;this.load(sidxUrl,{isSidxRequest:true,type:type,level:level,levelDetails:levelDetails,id:id,rangeStart:0,rangeEnd:2048,responseType:'arraybuffer'});return;}context.levelDetails=levelDetails;this._handlePlaylistLoaded(response,stats,context,networkDetails);};PlaylistLoader.prototype._handleSidxRequest=function _handleSidxRequest(response,context){var sidxInfo=mp4demuxer["a"].parseSegmentIndex(new Uint8Array(response.data));sidxInfo.references.forEach(function(segmentRef,index){var segRefInfo=segmentRef.info;var frag=context.levelDetails.fragments[index];if(frag.byteRange.length===0){frag.rawByteRange=String(1+segRefInfo.end-segRefInfo.start)+'@'+String(segRefInfo.start);}});context.levelDetails.initSegment.rawByteRange=String(sidxInfo.moovEndOffset)+'@0';};PlaylistLoader.son,networkDetails:networkDetails});};PlaylistLoader.prototype._handleNetworkError=function _handleNetworkError(context,networkDetails){var timeout=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;logger["b"].info('A network error occured while loading a '+context.type+'-type playlist');var details=void 0;var fatal=void 0;var loader=this.getInternalLoader(context);switch(context.type){case ContextType.MANIFEST:details=timeout?errors["a"].MANIFEST_LOAD_TIMEOUT:errors["a"].MANIFEST_LOAD_ERROR;fatal=true;break;case ContextType.LEVEL:details=timeout?errors["a"].LEVEL_LOAD_TIMEOUT:errors["a"].LEVEL_LOAD_ERROR;fatal=false;break;case ContextType.AUDIO_TRACK:details=timeout?errors["a"].AUDIO_TRACK_LOAD_TIMEOUT:errors["a"].AUDIO_TRACK_LOAD_ERROR;fatal=false;break;default:fatal=false;}if(loader){loader.abort();this.resetInternalLoader(context.type);}this.hls.trigger(events["a"].ERROR,{type:errors["b"].NETWORK_ERROR,details:details,fatal:fatal,url:loader.url,loader:loader,context:context,networkDetails:networkDetails});};PlaylistLoader.prototype._handlePlaylistLoaded=function _handlePlaylistLoaded(response,stats,context,networkDetails){var type=context.type,level=context.level,id=context.id,levelDetails=context.levelDetails;if(!levelDetails.targetduration){this._handleManifestParsingError(response,context,'invalid target duration',networkDetails);return;}var canHaveLevels=PlaylistLoader.canHaveQualityLevels(context.type);if(canHaveLevels){this.hls.trigger(events["a"].LEVEL_LOADED,{details:levelDetails,level:level||0,id:id||0,stats:stats,networkDetails:networkDetails});}else{switch(type){case ContextType.AUDIO_TRACK:this.hls.trigger(events["a"].AUDIO_TRACK_LOADED,{details:levelDetails,id:id,stats:stats,networkDetails:networkDetails});break;case ContextType.SUBTITLE_TRACK:this.hls.trigger(events["a"].SUBTITLE_TRACK_LOADED,{details:levelDetails,id:id,stats:stats,networkDetails:networkDetails});break;}}};playlist_loader__createClass(PlaylistLoader,null,[{key:'ContextType',get:function get(){return ContextType;}},{key:'LevelType',get:function get(){return LevelType;}}]);return PlaylistLoader;}(event_handler);var playlist_loader=playlist_loader_PlaylistLoader;function fragment_loader__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function fragment_loader__possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function fragment_loader__inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var fragment_loader_FragmentLoader=function(_EventHandler){fragment_loader__inherits(FragmentLoader,_EventHandler);function FragmentLoader(hls){fragment_loader__classCallCheck(this,FragmentLoader);var _this=fragment_loader__possibleConstructorReturn(this,_EventHandler.call(this,hls,events["a"].FRAG_LOADING));_this.loaders={};return _tandler.prototype.destroy.call(this);};FragmentLoader.prototype.onFragLoading=function onFragLoading(data){var frag=data.frag,type=frag.type,loaders=this.loaders,config=this.hls.config,FragmentILoader=config.fLoader,DefaultILoader=config.loader;frag.loaded=0;var loader=loaders[type];if(loader){logger["b"].warn('abort previous fragment loader for type: '+type);loader.abort();}loader=loaders[type]=frag.loader=config.fLoader?new FragmentILoader(config):new DefaultILoader(config);var loaderContext=void 0,loaderConfig=void 0,loaderCallbacks=void 0;loaderContext={url:frag.url,frag:frag,responseType:'arraybuffer',progressData:false};var start=frag.byteRangeStartOffset,end=frag.byteRangeEndOffset;if(!isNaN(start)&&!isNaN(end)){loaderContext.rangeStart=start;loaderContext.rangeEnd=end;}loaderConfig={timeout:config.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:config.fragLoadingMaxRetryTimeout};loaderCallbacks={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)};loader.load(loaderContext,loaderConfig,loaderCallbacks);};FragmentLoader.prototype.loadsuccess=function loadsuccess(response,stats,context){var networkDetails=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var payload=response.data,frag=context.frag;frag.loader=undefined;this.loaders[frag.type]=undefined;this.hls.trigger(events["a"].FRAG_LOADED,{payload:payload,frag:frag,stats:stats,networkDetails:networkDetails});};FragmentLoader.prototype.loaderror=function loaderror(response,context){var networkDetails=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var loader=context.loader;if(loader){loader.abort();}this.loaders[context.type]=undefined;this.hls.trigger(events["a"].ERROR,{type:errors["b"].NETWORK_ERROR,details:errors["a"].FRAG_LOAD_ERROR,fatal:false,frag:context.frag,response:response,networkDetails:networkDetails});};FragmentLoader.prototype.loadtimeout=function loadtimeout(stats,context){var networkDetails=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var loader=context.loader;if(loader){loader.abort();}this.loaders[context.type]=undefined;this.hls.trigger(events["a"].ERROR,{type:errors["b"].NETWORK_ERROR,details:errors["a"].FRAG_LOAD_TIMEOUT,fatal:false,frag:context.frag,networkDetails:networkDetails});};FragmentLoader.prototype.loadprogress=function loadprogress(stats,context,data){var networkDetails=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var frag=context.frag;frag.loaded=stats.loaded;this.hls.trigger(events["a"].FRAG_LOAD_PROGRESS,{frag:frag,stats:stats,networkDetails:networkDetails});};return FragmentLoader;}(event_handler);var fragment_loader=fragment_loader_FragmentLoader;function key_loader__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function key_loader__possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function key_loader__inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var key_loader_KeyLoader=function(_EventHandler){key_loader__inherits(KeyLoader,_EventHandler);function KeyLoader(hls){key_loader__classCallCheck(this,KeyLoader);var _this=key_loader__possibleConstructorReturn(this,_EventHandler.call(this,hls,events["a"].KEY_LOADING));_this.loaders={};_this.decryptkey=null;_this.decrypturl=null;retuandler.prototype.destroy.call(this);};KeyLoader.prototype.onKeyLoading=function onKeyLoading(data){var frag=data.frag,type=frag.type,loader=this.loaders[type],decryptdata=frag.decryptdata,uri=decryptdata.uri;if(uri!==this.decrypturl||this.decryptkey===null){var config=this.hls.config;if(loader){logger["b"].warn('abort previous key loader for type:'+type);loader.abort();}frag.loader=this.loaders[type]=new config.loader(config);this.decrypturl=uri;this.decryptkey=null;var loaderContext=void 0,loaderConfig=void 0,loaderCallbacks=void 0;loaderContext={url:uri,frag:frag,responseType:'arraybuffer'};loaderConfig={timeout:config.fragLoadingTimeOut,maxRetry:config.fragLoadingMaxRetry,retryDelay:config.fragLoadingRetryDelay,maxRetryDelay:config.fragLoadingMaxRetryTimeout};loaderCallbacks={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};frag.loader.load(loaderContext,loaderConfig,loaderCallbacks);}else if(this.decryptkey){decryptdata.key=this.decryptkey;this.hls.trigger(events["a"].KEY_LOADED,{frag:frag});}};KeyLoader.prototype.loadsuccess=function loadsuccess(response,stats,context){var frag=context.frag;this.decryptkey=frag.decryptdata.key=new Uint8Array(response.data);frag.loader=undefined;this.loaders[frag.type]=undefined;this.hls.trigger(events["a"].KEY_LOADED,{frag:frag});};KeyLoader.prototype.loaderror=function loaderror(response,context){var frag=context.frag,loader=frag.loader;if(loader){loader.abort();}this.loaders[context.type]=undefined;this.hls.trigger(events["a"].ERROR,{type:errors["b"].NETWORK_ERROR,details:errors["a"].KEY_LOAD_ERROR,fatal:false,frag:frag,response:response});};KeyLoader.prototype.loadtimeout=function loadtimeout(stats,context){var frag=context.frag,loader=frag.loader;if(loader){loader.abort();}this.loaders[context.type]=undefined;this.hls.trigger(events["a"].ERROR,{type:errors["b"].NETWORK_ERROR,details:errors["a"].KEY_LOAD_TIMEOUT,fatal:false,frag:frag});};return KeyLoader;}(event_handler);var key_loader=key_loader_KeyLoader;function fragment_tracker__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("ass):subClass.__proto__=superClass;}var FragmentState={NOT_LOADED:'NOT_LOADED',APPENDING:'APPENDING',PARTIAL:'PARTIAL',OK:'OK'};var fragment_tracker_FragmentTracker=function(_EventHandler){fragment_tracker__inherits(FragmentTracker,_EventHandler);function FragmentTracker(hls){fragment_tracker__classCallCheck(this,FragmentTracker);var _this=fragment_tracker__possibleConstructorReturn(this,_EventHandler.call(this,hls,events["a"].BUFFER_APPENDED,events["a"].FRAG_BUFFERED,events["a"].FRAG_LOADED));_this.bufferPadding=0.2;_this.fragments=Object.create(null);_this.timeRanges=Object.create(null);_this.config=hls.config;return _this;}FragmentTracker.prototype.destroy=function destroy(){this.fragments=null;this.timeRanges=null;this.config=null;event_handler.prototype.destroy.call(this);_EventHandler.prototype.destroy.call(this);};Fragrn fragments[bufferedFragKey].body;}};FragmentTracker.prototype.detectEvictedFragments=function detectEvictedFragments(elementaryStream,timeRange){var _this2=this;var fragmentTimes=void 0,time=void 0;Object.keys(this.fragments).forEach(function(key){var fragmentEntity=_this2.fragments[key];if(fragmentEntity.buffered===true){var esData=fragmentEntity.range[elementaryStream];if(esData){fragmentTimes=esData.time;for(var i=0;i<fragmentTimes.length;i++){time=fragmentTimes[i];if(_this2.isTimeBuffered(time.startPTS,time.endPTS,timeRange)===false){_this2.removeFragment(fragmentEntity.body);break;}}}}});};FragmentTracker.prototype.detectPartialFragments=function detectPartialFragments(fragment){var _this3=this;var fragKey=this.getFragmentKey(fragment);var fragmentEntity=this.fragments[fragKey];if(fragmentEntity){fragmentEntity.buffered=true;Object.keys(this.timeRanges).forEach(function(elementaryStream){if(fragment.hasElementaryStream(elementaryStream)===true){var timeRange=_this3.timeRanges[elementaryStream];fragmentEntity.range[elementaryStream]=_this3.getBufferedTimes(fragment.startPTS,fragment.endPTS,timeRange);}});}};FragmentTracker.prototype.getBufferedTimes=function getBufferedTimes(startPTS,endPTS,timeRange){var fragmentTimes=[];var startTime=void 0,endTime=void 0;var fragmentPartial=false;for(var i=0;i<timeRange.length;i++){startTime=timeRange.start(i)-this.bufferPadding;endTime=timeRange.end(i)+this.bufferPadding;if(startPTS>=startTime&&endPTS<=endTime){fragmentTimes.push({startPTS:Math.max(startPTS,timeRange.start(i)),endPTS:Math.min(endPTS,timeRange.end(i))});break;}else if(startPTS<endTime&&endPTS>startTime){fragmentTimes.push({startPTS:Math.max(startPTS,timeRange.start(i)),endPTS:Math.min(endPTS,timeRange.end(i))});fragmentPartial=true;}else if(endPTS<=startTime){break;}}return{time:fragmentTimes,partial:fragmentPartial};};Fra+'_'+fragment.urlId+'_'+fragment.sn;};FragmentTracker.prototype.getPartialFragment=function getPartialFragment(time){var _this4=this;var timePadding=void 0,startTime=void 0,endTime=void 0;var bestFragment=null;var bestOverlap=ity.body;bestOverlap=timePadding;}}}});return bestFragmentate=FragmentState.OK;}}return state;tEntity.range.audio.partial===true);};FragmentTracker.prototype.isTimeBuffered=function isTimeBuffered(startPTS,endPTS,timeRange){var startTime=void 0,endTime=void 0;for(var i=0;i<timeRange.length;i++){startTime=timeRange.start(i)-this.bufferPadding;endTime=timeRange.end(i)+this.bufferPadding;if(startPTS>=startTime&&endPTS<=endTime){return true;}if(endPTS<=startTime){return false;}}return false;};FragmentTracker.prototype.onFragLoaded=function onFragLoaded(e){var fragment=e.frag;if(!isNaN(fragment.sn)&&!fragment.bitrateTest){var fragKey=this.getFragmentKey(fragment);var fragmentEntity={body:fragment,range:Object.create(null),buffered:false};this.fragments[fragKey]=fragmentEntity;}};Fragments(elementaryStream,timeRange);});};Frathis.detectPartialFragments(e.frag);};this.fragments[fragKey]!==undefined;};Fraent);delete this.fragments[fragKey];};Fragmen{this.fragments=Object.create(null);};return FragmentTracker;}(evreturn currentElement;}}return nannot call a class as a fun__classCallCheck(this,Btrue;}}}}catch(error){}return false;};BufferHelper.bufferInfo=function bufferInfo(media,pos,maxHoleDuration){try{if(media){var vbuffered=media.buffered,buffered=[],i=void 0;for(i=0;i<vbuffered.length;i++){buffered.push({start:vbuffered.start(i),end:vbuffered.end(i)});}return this.bufferedInfo(buffered,pos,maxHoleDuration);}}catch(error){}return{len:0,start:pos,end:pos,nextStart:undefined};};BufferHelper.bufferedInfo=function bufferedInfo(buffered,pos,maxHoleDuration){var buffered2=[],bufferLen=void 0,bufferStart=void 0,bufferEnd=void 0,bufferStturn diff;}else{return b.end-a.end;}});for(i=0;i<buffered.length;i++){var buf2len=buffered2.length;if(buf2len){var buf2end=buffered2[buf2len-1].end;if(buffered[i].start-buf2end<maxHoleDuration){if(buffered[i].end>buf2end){buffered2[buf2len-1].end=buffered[i].end;}}else{buffered2.push(buffered[i]);}}else{buffered2.push(buffered[i]);}}for(i=0,bufferLen=0,bufferStart=bufferEnd=pos;i<buffered2.length;i++){var start=buffered2[i].start,end=buffered2[i].end;if(pos+maxHoleDuration>=start&&pos<end){bufferStart=start;bufferEnd=end;bufferLen=bufferEnd-pos;}else if(pos+maxHoleDuration<start){bufferStartNext=start;break;}}return{len:bufferLen,start:bufferStart,end:bufferEnd,nextStart:bufferStartNext};};return BufferHelper;}();var events_events=__webpack_require__(6);var events_default=__webpack_require__.n(events_events);var webworkify_webpack=__webpack_require__(11);var webworkify_webpack_default=__webpack_require__.n(webworkify_webpack);var demuxer_inline=__webpack_require__(9);function getMediaSource(){if(typeof window!=='undefined'){return window.MediaSource||window.WebKitMediaSource;}}var get_self_scope=__webpack_require__(4);function demuxer__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var global=Object(get_self_scope["a"])();var MediaSource=getMediaSource();var demuxer_Demuxer=function(){function Demuxer(hls,id){demuxer__classCallCheck(this,Demuxer);this.hls=hls;this.id=id;var observer=this.observer=new events_default.a();var config=hls.config;observer.trigger=function trigger(event){for(var _len=arguments.length,data=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){data[_key-1]=arguments[_key];}observer.emit.apply(observer,[event,event].concat(data));};observer.off=function off(event){for(var _len2=arguments.length,data=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){data[_key2-1]=arguments[_key2];}observer.removeListener.apply(observer,[event].concat(data));};var forwardMessage=function(ev,data){data=data||{};data.frag=this.frag;data.id=this.id;hls.trigger(ev,data);}.bind(this);observer.on(events["a"].FRAG_DECRYPTED,forwardMessage);observer.on(events["a"].FRAG_PARSING_INIT_SEGMENT,forwardMessage);observer.on(events["a"].FRAG_PARSING_DATA,forwardMessage);observer.on(events["a"].FRAG_PARSED,forwardMessage);observer.on(events["a"].ERROR,forwardMessage);observer.on(events["a"].FRAG_PARSING_METADATA,forwardMessage);observer.on(events["a"].FRAG_PARSING_USERDATA,forwardMessage);observer.on(events["a"].INIT_PTS_FOUND,forwardMessage);var typeSupported={mp4:MediaSource.isTypeSupported('video/mp4'),mpeg:MediaSource.isTypeSupported('audio/mpeg'),mp3:MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')};var vendor=navigator.vendor;if(config.enableWorker&&typeof Worker!=='undefined'){logger["b"].log('demuxing in webworker');var w=void 0;try{w=this.w=webworkify_webpack_default()(12);this.onwmsg=this.onWorkerMessage.bind(this);w.addEventListnt.filename+':'+event.lineno+')'}});};w.postMessage({cmd:'init',typeSupported:typeSupported,vendor:vendor,id:id,config:JSON.stringify(config)});}catch(err){logger["b"].error('error while initializing DemuxerWorker, fallback on DemuxerInline');if(w){global.URL.revokeObjectURL(w.objectURL);}this.demuxer=new demuxer_inline["a"](observer,typeSupported,config,vendor);this.w=undefined;}}else{this.demuxer=new demuxer_inline["a"](observer,typeSupported,confieAllListeners();this.observer=null;}};Demuxer.prototype.push=function push(data,initSegment,audioCodec,videoCodec,frag,duration,accurateTimeOffset,defaultInitPTS){var w=this.w;var timeOffset=!isNaN(frag.startDTS)?frag.startDTS:frag.start;var decryptdata=frag.decryptdata;var lastFrag=this.frag;var discontinuity=!(lastFrag&&frag.cc===lastFrag.cc);var trackSwitch=!(lastFrag&&frag.level===lastFrag.level);var nextSN=lastFrag&&frag.sn===lastFrag.sn+1;var contiguous=!trackSwitch&&nextSN;if(discontinuity){logger["b"].log(this.id+':discontinuity detected');}if(trackSwitch){logger["b"].log(this.id+':switch detected');}this.frag=frag;if(w){w.postMessage({cmd:'demux',data:data,decryptdata:decryptdata,initSegment:initSegment,audioCodec:audioCodec,videoCodec:videoCodec,timeOffset:timeOffset,discontinuity:discontinuity,trackSwitch:trackSwitch,contiguous:contiguous,duration:duration,accurateTimeOffset:accurateTimeOffset,defaultInitPTS:defaultInitPTS},data instanceof ArrayBuffer?[data]:[]);}else{var demuxer=this.demuxer;if(demuxer){demuxer.push(data,decryptdata,initSegment,audioCodec,videoCodec,timeOffset,discontinuity,trackSwitch,contiguous,duration,accurateTimeOffset,defaultInitPTS);rigger(data.event,data.data);break;}};return Demuxer;}level.textGroupIds.push(id);break;}}function updatePTS(fragments,fromIdx,toIdx){var fragFrom=fragments[fromIdx],fragTo=fragments[toIdx],fragToPTS=fragTo.startPTS;if(!isNaN(fragToPTS)){if(toIdx>fromIdx){fragFrom.duration=fragToPTS-fragFrom.start;if(fragFrom.duration<0){logger["b"].warn('negative duration computed for frag '+fragFrom.sn+',level '+fragFrom.level+', there should be some duration drift between playlist and fragment!');}}else{fragTo.duration=fragFrom.start-fragToPTS;if(fragTo.duration<0){logger["b"].warn('negative duration computed for frag '+fragTo.sn+',level '+fragTo.level+', there should be some duration drift between playlist and fragment!');}}}else{if(toIdx>fromIdx){fragTo.start=fragFrom.start+fragFrom.duration;}else{fragTo.start=Math.max(fragFrom.start-fragTo.duration,0);}}}function updateFragPTSDTS(details,frag,startPTS,endPTS,startDTS,endDTS){var maxStartPTS=startPTS;if(!isNaN(frag.startPTS)){var deltaPTS=Math.abs(frag.startPTS-startPTS);if(isNaN(frag.deltaPTS)){frag.deltaPTS=deltaPTS;}else{frag.deltaPTS=Math.max(deltaPTS,frag.deltaPTS);}maxStartPTS=Math.max(startPTS,frag.startPTS);startPTS=Math.min(startPTS,frag.startPTS);endPTS=Math.max(endPTS,frag.endPTS);startDTS=Math.min(startDTS,frag.startDTS);endDTS=Math.max(endDTS,frag.endDTS);}var drift=startPTS-frag.start;frag.start=frag.startPTS=startPTS;frag.maxStartPTS=maxStartPTS;frag.endPTS=endPTS;frag.startDTS=startDTS;frag.endDTS=endDTS;frag.duration=endPTS-startPTS;var sn=frag.sn;if(!details||sn<details.startSN||sn>details.endSN){return 0;}var fragIdx=void 0,fragments=void 0,i=void 0;fragIdx=sn-details.startSN;fragments=details.fragments;fragments[fragIdx]=frag;for(i=fragIdx;i>0;i--){updatePTS(fragments,i,i-1);}for(i=fragIdx;i<fragments.length-1;i++){updatePTS(fragments,i,i+1);}details.PTSKnown=true;return drift;}function mergeDetails(oldDetails,newDetails){var start=Math.max(oldDetails.startSN,newDetails.startSN)-newDetails.startSN,end=Math.min(oldDetails.endSN,newDetails.endSN)-newDetails.startSN,delta=newDetails.startSN-oldDetails.startSN,oldfragments=oldDetails.fragments,newfragments=newDetails.fragments,ccOffset=0,PTSFrag=void 0;if(newDetails.initSegment&&oldDetails.initSegment){newDetails.initSegment=oldDetails.initSegment;}if(end<start){newDetails.PTSKnown=false;return;}for(var i=start;i<=end;i++){var oldFrag=oldfragments[delta+i],newFrag=newfragments[i];if(newFrag&&oldFrag){ccOffset=oldFrag.cc-newFrag.cc;if(!isNaN(oldFrag.startPTS)){newFrag.start=newFrag.startPTS=oldFrag.startPTS;newFrag.endPTS=oldFrag.endPTS;newFrag.duration=oldFrag.duration;newFrag.backtracked=oldFrag.backtracked;newFrag.dropped=oldFrag.dropped;PTSFrag=newFrag;}}}if(ccOffset){logger["b"].log('discontinuity sliding from playlist, take drift into account');for(i=0;i<newfragments.length;i++){newfragments[i].cc+=ccOffset;}}if(PTSFrag){updateFragPTSDTS(newDetails,PTSFrag,PTSFrag.startPTS,PTSFrag.endPTS,PTSFrag.startDTS,PTSFrag.endDTS);}else{if(delta>=0&&delta<oldfragments.length){var sliding=oldfragments[delta].start;for(i=0;i<newfragments.length;i++){newfragments[i].start+=sliding;}}}newDetails.PTSKnown=oldDetails.PTSKnown;}var TimeRanges={toString:function toString(r){var log='',len=r.length;for(var i=0;i<len;i++){log+='['+r.start(i).toFixed(3)+','+r.end(i).toFixed(3)+']';}retation;}});details.PTSKnown=true;}function alignDiscontinuities(lastFrag,lastLevel,details){if(shouldAlignOnDiscontinuities(lastFrag,lastLevel,details)){var referenceFrag=findDiscontinuousReferenceFrag(lastLevel.details,details);if(referenceFrag){logger["b"].log('Adjusting PTS using last level due to CC increase within current level');adjustPts(referenceFrag.start,details);}}if(details.PTSKnown===false&&lastLevel&&lastLevel.details&&lastLevel.details.fragments&&lastLevel.details.fragments.length){var lastPDT=lastLevel.details.programDateTime;var newPDT=details.programDateTime;var sliding=(newPDT-lastPDT)/1000+lastLevel.details.fragments[0].start;if(!isNaN(sliding)){logger["b"].log('adjusting PTS using programDateTime delta, sliding:'+sliding.toFixed(3));adjustPts(sliding,details);}}}function task_loop__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function task_loop__possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function task_loop__inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TaskLoop=function(_EventHandler){task_loop__inherits(TaskLoop,_EventHandler);function TaskLoop(hls){task_loop__classCallCheck(this,TaskLoop);for(var _len=arguments.length,events=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){events[_key-1]=arguments[_key];}var _this=task_loop__possibleConstructorReturn(this,_EventHandler.call.apply(_EventHandler,[this,hls].concat(events)));_this._tickInterval=null;_this._tickTimer=null;_this._tickCallCount=0;_this._boundTick=_this.tick.bind(_this);return _this;}TlearNextTick();this.clearInterval();};TaskLoop.prototype.hasInterval=function hasInterval(){return!!this._tickIntesNextTick(){return!!this._tickTval.toString();};return setInterval;}(function(millis){if(!this._tickInterval){this._tickInterval=setInterval(this._boundTick,millis);return true;}return falsl.toString();};return clearInterval;}(function(){if(this._tickInterval){clearInterval(this._tickInterval);this._tickInterval=null;return true;}return false;});TaskLoop.prototype.clearNextTick=function clearNextTick(){if(this._tickTimer){clearTimeout(this._tickTimer);this._tickTimer=null;return true;}return false;};TaskLoop.prototype.tick=function tick(){this._tickCallCount++;if(this._tickCallCount===1){this.doTick();if(this._tickCallCount>1){this.clearNextTick();this._tickTimer=setTimeout(this._boundTick,0);}this._tickCallCount=0;}};TaskLoop.prototype.doTick=function doTick(){};return TaskLoop;}(event_handler);var task_loop=TaskLoop;function calculateNextPDT(){var start=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var bufferEnd=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var levelDetails=arguments[2];var pdt=0;if(levelDetails.programDateTime){var parsedDateInt=Date.parse(levelDetails.programDateTime);if(!isNaN(parsedDateInt)){pdt=bufferEnd*1000+parsedDateInt-1000*start;}}return pdt;}function findFragmentByPDT(fragments){var PDTValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!Array.isArray(fragments)||!fragments.length||PDTValue===null){return null;}var firstSegment=fragments[0];if(PDTValue<firstSegment.pdt){return null;}var lastSegment=fragments[fragments.length-1];if(PDTValue>=lastSegment.endPdt){return null;}for(var seg=0;seg<fragments.length;++seg){var frag=fragments[seg];if(PDTValue<frag.endPdt){return frag;}}return null;}function findFragmentBySN(fragPrevious,fragments){var bufferEnd=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var end=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var maxFragLookUpTolerance=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var foundFrag=void 0;var fragNext=fragPrevious?fragments[fragPrevious.sn-fragments[0].sn+1]:null;if(bufferEnd<end){if(bufferEnd>end-maxFragLookUpTolerance){maxFragLookUpTolerance=0;}if(fragNext&&!fragmentWithinToleranceTest(bufferEnd,maxFragLookUpTolerance,fragNext)){foundFrag=fragNext;}else{foundFrag=binary_search.search(fragments,fragmentWithinToleranceTest.bind(null,bufferEnd,maxFragLookUpTolerance));}}return foundFrag;}function fragmentWithinToleranceTest(){var bufferEnd=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var maxFragLookUpTolerance=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var candidate=arguments[2];var candidateLookupTolerance=Math.min(maxFragLookUpTolerance,candidate.duration+(candidate.deltaPTS?candidate.deltaPTS:0));if(candidate.start+candidate.duration-candidateLookupTolerance<=bufferEnd){return 1;}else if(candidate.start-candidateLookupTolerance>bufferEnd&&candidate.start){return-1;}return 0;}var stream_controller__createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function stream_controller__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function stream_controller__possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function stream_controller__inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var State={STOPPED:'STOPPED',IDLE:'IDLE',KEY_LOADING:'KEY_LOADING',FRAG_LOADING:'FRAG_LOADING',FRAG_LOADING_WAITING_RETRY:'FRAG_LOADING_WAITING_RETRY',WAITING_LEVEL:'WAITING_LEVEL',PARSING:'PARSING',PARSED:'PARSED',BUFFER_FLUSHING:'BUFFER_FLUSHING',ENDED:'ENDED',ERROR:'ERROR'};var stream_controller_StreamController=function(_TaskLoop){stream_controller__inherits(StreamController,_TaskLoop);function StreamController(hls,fragmentTracker){stream_controller__classCallCheck(this,StreamController);var _this=stream_controller__possibleConstructorReturn(this,_TaskLoop.call(this,hls,events["a"].MEDIA_ATTACHED,events["a"].MEDIA_DETACHING,events["a"].MANIFEST_LOADING,events["a"].MANIFEST_PARSED,events["a"].LEVEL_LOADED,events["a"].KEY_LOADED,events["a"].FRAG_LOADED,events["a"].FRAG_LOAD_EMERGENCY_ABORTED,events["a"].FRAG_PARSING_INIT_SEGMENT,events["a"].FRAG_PARSING_DATA,events["a"].FRAG_PARSED,events["a"].ERROR,events["a"].AUDIO_TRACK_SWITCHING,events["a"].AUDIO_TRACK_SWITCHED,events["a"].BUFFER_CREATED,events["a"].BUFFER_APPENDED,events["a"].BUFFER_FLUSHED));_this.fragmentTracker=fragmentTracker;_this.config=hls.config;_this.audioCodecSwap=false;_this._state=State.STOPPED;_this.stallReported=false;return _this;}StreamController.prototype.onHandlerDestroying=function onHandlerDestroying(){this.stopLoad();_TaskLoop.prototype.onHandlerDestroying.call(this);};StreamController.prototype.onHandlerDestroyed=function onHandlerDestroyed(){this.state=State.STOPPED;this.fragmentTracker=null;_TaskLoop.prototype.onHandlerDestroyed.call(this);};StreamController.prototype.startLoad=function startLoad(startPosition){if(this.levels){var lastCurrentTime=this.lastCurrentTime,hls=this.hls;this.stopLoad();this.setInterval(100);this.level=-1;this.fragLoadError=0;if(!this.startFragRequested){var startLevel=hls.startLevel;if(startLevel===-1){startLevel=0;this.bitrateTest=true;}this.level=hls.nextLoadLevel=startLevel;this.loadedmetadata=false;}if(lastCurrentTime>0&&startPosition===-1){logger["b"].log('override startPosition with lastCurrentTime @'+lastCurrentTime.toFixed(3));startPosition=lastCurrentTime;}this.state=State.IDLE;this.nextLoadPosition=this.startPosition=this.lastCurrentTime=startPosition;this.tick();}else{this.forceStartLoad=true;this.state=State.STOPPED;}};StreamController.prototype.stopLoad=function stopLoad(){var frag=this.fragCurrent;if(frag){if(frag.loader){frag.loader.abort();}this.fragmentTracker.removeFragment(frag);this.fragCurrent=null;}this.fragPrevious=null;if(this.demuxer){this.demuxer.destroy();this.demuxer=null;}this.clearInterval();this.state=State.STOPPED;this.forceStartLoad=falsffer();this._checkFragmentChanged();};StreamController.prototype._doTickIdle=function _doTickIdle(){var hls=this.hls,config=hls.config,media=this.media;if(this.levelLastLoaded===undefined||!media&&(this.startFragRequested||!config.startFragPrefetch)){return;}var pos=void 0;if(this.loadedmetadata){pos=media.currentTime;}else{pos=this.nextLoadPosition;}var level=hls.nextLoadLevel,levelInfo=this.levels[level];if(!levelInfo){return;}var levelBitrate=levelInfo.bitrate,maxBufLen=void 0;if(levelBitrate){maxBufLen=Math.max(8*config.maxBufferSize/levelBitrate,config.maxBufferLength);}else{maxBufLen=config.maxBufferLength;}maxBufLen=Math.min(maxBufLen,config.maxMaxBufferLength);var bufferInfo=BufferHelper.bufferInfo(this.mediaBuffer?this.mediaBuffer:media,pos,config.maxBufferHole),bufferLen=bufferInfo.len;if(bufferLen>=maxBufLen){return;}logger["b"].trace('buffer length of '+bufferLen.toFixed(3)+' is below max of '+maxBufLen.toFixed(3)+'. checking for more payload ...');this.level=hls.nextLoadLevel=level;var levelDetails=levelInfo.details;if(!levelDetails||levelDetails.live&&this.levelLastLoaded!==level){this.state=State.WAITING_LEVEL;return;}var fragPrevious=this.fragPrevious;if(!levelDetails.live&&fragPrevious&&!fragPrevious.backtracked&&fragPrevious.sn===levelDetails.endSN&&!bufferInfo.nextStart){var duration=Math.min(media.duration,fragPrevious.start+fragPrevious.duration);if(duration-Math.max(bufferInfo.end,fragPrevious.start)<=Math.max(0.2,fragPrevious.duration)){var data={};if(this.altAudio){data.type='video';}this.hls.trigger(events["a"].BUFFER_EOS,data);this.state=State.ENDED;return;}}this._fetchPayloadOrEos(pos,bufferInfo,levelDetails);};StreamController.prototype._fetchPayloadOrEos=function _fetchPayloadOrEos(pos,bufferInfo,levelDetails){var fragPrevious=this.fragPrevious,level=this.level,fragments=levelDetails.fragments,fragLen=fragments.length;if(fragLen===0){return;}var start=fragments[0].start,end=fragments[fragLen-1].start+fragments[fragLen-1].duration,bufferEnd=bufferInfo.end,frag=void 0;if(levelDetails.initSegment&&!levelDetails.initSegment.data){frag=levelDetails.initSegment;}else{if(levelDetails.live){var initialLiveManifestSize=this.config.initialLiveManifestSize;if(fragLen<initialLiveManifestSize){logger["b"].warn('Can not start playback of a level, reason: not enough fragments '+fragLen+' < '+initialLiveManifestSize);return;}frag=this._ensureFragmentAtLivePoint(levelDetails,bufferEnd,start,end,fragPrevious,fragments,fragLen);if(frag===null){return;}}else{if(bufferEnd<start){frag=fragments[0];}}}if(!frag){frag=this._findFragment(start,fragPrevious,fragLen,fragments,bufferEnd,end,levelDetails);}if(frag){if(frag.encrypted){logger["b"].log('Loading key for '+frag.sn+' of ['+levelDetails.startSN+' ,'+levelDetails.endSN+'],level '+level);this._loadKey(frag);}else{logger["b"].log('Loading '+frag.sn+' of ['+levelDetails.startSN+' ,'+levelDetails.endSN+'],level '+level+', currentTime:'+pos.toFixed(3)+',bufferEnd:'+bufferEnd.toFixed(3));this._loadFragment(frag);}}};StreamController.prototype._ensureFragmentAtLivePoint=function _ensureFragmentAtLivePoint(levelDetails,bufferEnd,start,end,fragPrevious,fragments,fragLen){var config=this.hls.config,media=this.media;var frag=void 0;var maxLatency=config.liveMaxLatencyDuration!==undefined?config.liveMaxLatencyDuration:config.liveMaxLatencyDurationCount*levelDetails.targetduration;if(bufferEnd<Math.max(start-config.maxFragLookUpTolerance,end-maxLatency)){var liveSyncPosition=this.liveSyncPosition=this.computeLivePosition(start,levelDetails);logger["b"].log('buffer end: '+bufferEnd.toFixed(3)+' is located too far from the end of live sliding playlist, reset currentTime to : '+liveSyncPosition.toFixed(3));bufferEnd=liveSyncPosition;if(media&&media.readyState&&media.duration>liveSyncPosition){media.currentTime=liveSyncPosition;}this.nextLoadPosition=liveSyncPosition;}if(levelDetails.PTSKnown&&bufferEnd>end&&media&&media.readyState){return null;}if(this.startFragRequested&&!levelDetails.PTSKnown){if(fragPrevious){if(!levelDetails.programDateTime){var targetSN=fragPrevious.sn+1;if(targetSN>=levelDetails.startSN&&targetSN<=levelDetails.endSN){var fragNext=fragments[targetSN-levelDetails.startSN];if(fragPrevious.cc===fragNext.cc){frag=fragNext;logger["b"].log('live playlist, switching playlist, load frag with next SN: '+frag.sn);}}if(!fragrag){return fragPrevious.cc-frag.cc;});if(frag){logger["b"].log('live playlist, switching playlist, load frag with same CC: '+frag.sn);}}}else{frag=findFragmentByPDT(fragments,fragPrevious.endPdt+1);}}if(!frag){frag=fragments[Math.min(fragLen-1,Math.round(fragLen/2))];logger["b"].log('live playlist, switching playlist, unknown, load middle frag : '+frag.sn);}}return frag;};StreamController.prototype._findFragment=function _findFragment(start,fragPrevious,fragLen,fragments,bufferEnd,end,levelDetails){va,end,config.maxFragLookUpTolerance);};var frag=void 0;var foundFrag=void 0;if(bufferEnd<end){if(!levelDetails.programDateTime){foundFrag=findFragmentBySN(fragPrevious,fragments,bufferEnd,end,config.maxFragLookUpTolerance);}else{foundFrag=findFragmentByPDT(fragments,calculateNextPDT(start,bufferEnd,levelDetails));if(!foundFrag||fragmentWithinToleranceTest(bufferEnd,config.maxFragLookUpTolerance,foundFrag)){logger["b"].warn('Frag found by PDT search did not fit within tolerance; falling back to finding by SN');foundFrag=fragBySN();}}}else{foundFrag=fragments[fragLen-1];}if(foundFrag){frag=foundFrag;var curSNIdx=frag.sn-levelDetails.startSN;var sameLevel=fragPrevious&&frag.level===fragPrevious.level;var prevFrag=fragments[curSNIdx-1];var nextFrag=fragments[curSNIdx+1];if(fragPrevious&&frag.sn===fragPrevious.sn){if(sameLevel&&!frag.backtracked){if(frag.sn<levelDetails.endSN){var deltaPTS=fragPrevious.deltaPTS;if(deltaPTS&&deltaPTS>config.maxBufferHole&&fragPrevious.dropped&&curSNIdx){frag=prevFrag;logger["b"].warn('SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this');}else{frag=nextFrag;logger["b"].log('SN just loaded, load next one: '+frag.sn);}}else{frag=null;}}else if(frag.backtracked){if(nextFrag&&nextFrag.backtracked){logger["b"].warn('Already backtracked from fragment '+nextFrag.sn+', will not backtrack to fragment '+frag.sn+'. Loading fragment '+nextFrag.sn);frag=nextFrag;}else{logger["b"].warn('Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe');frag.dropped=0;if(prevFrag){frag=prevFrag;frag.backtracked=true;}else if(curSNIdx){frag=null;}}}}}return frag;};StreamController.prototype._loadKey=function _loadKey(frag){this.state=State.KEY_LOADING;this.hls.trigger(events["a"].KEY_LOADING,{frag:frag});};StreamController.prototype._loadFragment=function _loadFragment(frag){var fragState=this.fragmentTracker.getState(frag);this.fragCurrent=frag;this.startFragRequested=true;if(!isNaN(frag.sn)&&!frag.bitrateTest){this.nextLoadPosition=frag.start+frag.duration;}if(frag.backtracked||fragState===FragmentState.NOT_LOADED||fragState===FragmentState.PARTIAL){frag.autoLevel=this.hls.autoLevelEnabled;frag.bitrateTest=this.bitrateTest;this.hls.trigger(events["a"].FRAG_LOADING,{frag:frag});if(!this.demuxer){this.demuxer=new demux_demuxer(this.hls,'main');}this.state=State.FRAG_LOADING;}else if(fragState===FragmentState.APPENDING){if(this._reduceMaxBufferLength(frag.duration)){this.fragmentTracker.removeFragment(frag);}}};Streaion,playlist_loader.LevelType.MAIN);};StreamContrdFrag(frag.endPTS+0.5);}return null;};StreamController.prototype._checkFragmentChanged=function _checkFragmentChanged(){var fragPlayingCurrent=void 0,currentTime=void 0,video=this.media;if(video&&video.readyState&&video.seeking===false){currentTime=video.currentTime;if(currentTime>this.lastCurrentTime){this.lastCurrentTime=currentTime;}if(BufferHelper.isBuffered(video,currentTime)){fragPlayingCurrent=this.getBufferedFrag(currentTime);}else if(BufferHelper.isBuffered(video,currentTime+0.1)){fragPlayingCurrent=this.getBufferedFrag(currentTime+0.1);}if(fragPlayingCurrent){var fragPlaying=fragPlayingCurrent;if(fragPlaying!==this.fragPlaying){this.hls.trigger(events["a"].FRAG_CHANGED,{frag:fragPlaying});var fragPlayingLevel=fragPlaying.level;if(!this.fragPlaying||this.fragPlaying.level!==fragPlayingLevel){this.hls.trigger(events["a"].LEVEL_SWITCHED,{level:fragPlayingLevel});}this.fragPlaying=fragPlaying;}}}};StreamController.prototype.immediateLevelSwitch=function immediateLevelSwitch(){logger["b"].log('immediateLevelSwitch');if(!this.immediateSwitch){this.immediateSwitch=true;var media=this.media,previouslyPaused=void 0;if(media){previouslyPaused=media.paused;media.pause();}else{previouslyPaused=true;}this.previouslyPaused=previouslyPaused;}var fragCurrent=this.fragCurrent;if(fragCurrent&&fragCurrent.loader){fragCurrent.loader.abort();}this.fragCurrent=null;this.flushMainBuffer(0,Number.POSITIVE_INFINITY);};StreamController.prototype.immediateLevelSwitchEnd=function immediateLevelSwitchEnd(){var media=this.media;if(media&&media.buffered.length){this.immediateSwitch=false;if(BufferHelper.isBuffered(media,media.currentTime)){media.currentTime-=0.0001;}if(!this.previouslyPaused){media.play();}}};StreamController.prototype.nextLevelSwitch=function nextLevelSwitch(){var media=this.media;if(media&&media.readyState){var fetchdelay=void 0,fragPlayingCurrent=void 0,nextBufferedFrag=void 0;fragPlayingCurrent=this.getBufferedFrag(media.currentTime);if(fragPlayingCurrent&&fragPlayingCurrent.startPTS>1){this.flushMainBuffer(0,fragPlayingCurrent.startPTS-1);}if(!media.paused){var nextLevelId=this.hls.nextLoadLevel,nextLevel=this.levels[nextLevelId],fragLastKbps=this.fragLastKbps;if(fragLastKbps&&this.fragCurrent){fetchdelay=this.fragCurrent.duration*nextLevel.bitrate/(1000*fragLastKbps)+1;}else{fetchdelay=0;}}else{fetchdelay=0;}nextBufferedFrag=this.getBufferedFrag(media.currentTime+fetchdelay);if(nextBufferedFrag){nextBufferedFrag=this.followingBufferedFrag(nextBufferedFrag);if(nextBufferedFrag){var fragCurrent=this.fragCurrent;if(fragCurrent&&fragCurrent.loader){fragCurrent.loader.abort();}this.fragCurrent=null;this.flushMainBuffer(nextBufferedFrag.maxStartPTS,Number.POSITIVE_INFINITY);}}}};Streats["a"].BUFFER_FLUSHING,flushScope);};StreamController.prototype.onMediaAttached=function onMediaAttached(data){var media=this.media=this.mediaBuffer=data.media;this.onvseeking=this.onMediaSeeking.bind(this);this.onvseeked=this.onMediaSeeked.bind(this);this.onvended=this.onMediaEnded.bind(this);media.addEventListener('seeking',this.onvseeking);media.addEventListener('seeked',this.onvseeked);media.addEventListener('ended',this.onvended);var config=this.config;if(this.levels&&config.autoStartLoad){this.hls.startLoad(config.startPosition);}};StreamController.prototype.onMediaDetaching=function onMediaDetaching(){var media=this.media;if(media&&media.ended){logger["b"].log('MSE detaching and video ended, reset startPosition');this.startPosition=this.lastCurrentTime=0;}var levels={fragment.backtracked=undefined;});}});}if(media){media.removeEventListener('seeking',this.onvseeking);media.removeEventListener('seeked',this.onvseeked);media.removeEventListener('ended',this.onvended);this.onvseeking=this.onvseeked=this.onvended=null;}this.media=this.mediaBuffer=null;this.loadedmetadata=false;this.stopLoad();};StreamController.prototype.onMediaSeeking=function onMediaSeeking(){var media=this.media,currentTime=media?media.currentTime:undefined,config=this.config;if(!isNaN(currentTime)){logger["b"].log('media seeking to '+currentTime.toFixed(3));}var mediaBuffer=this.mediaBuffer?this.mediaBuffer:media;var bufferInfo=BufferHelper.bufferInfo(mediaBuffer,currentTime,this.config.maxBufferHole);if(this.state===State.FRAG_LOADING){var fragCurrent=this.fragCurrent;if(bufferInfo.len===0&&fragCurrent){var tolerance=config.maxFragLookUpTolerance,fragStartOffset=fragCurrent.start-tolerance,fragEndOffset=fragCurrent.start+fragCurrent.duration+tolerance;if(currentTime<fragStartOffset||currentTime>fragEndOffset){if(fragCurrent.loader){logger["b"].log('seeking outside of buffer while fragment load in progress, cancel fragment load');fragCurrent.loader.abort();}this.fragCurrent=null;this.fragPrevious=null;this.state=State.IDLE;}else{logger["b"].log('seeking outside of buffer but within currently loaded fragment range');}}}else if(this.state===State.ENDED){if(bufferInfo.len===0){this.fragPrevious=0;}this.state=State.IDLE;}if(media){this.lastCurrentTime=currentTime;}if(!this.loadedmetadata){this.nextLoadPosition=this.startPosition=currentTime;}this.tick();};StreamController.prototype.onMediaSeeked=function onMediaSeeked(){var media=this.media,currentTime=media?media.currentTime:undefined;if(!isNaN(currentTime)){logger["b"].log('media seeked to '+currentTime.toFixed(3));}this.tick();};StreamController.prototype.onMediaEnded=function onMediaEnded(){logger["b"].log('media ended');this.startPosition=this.lastCurrentTime=0;};StreamCtartPosition=this.lastCurrentTime=0;};StreamController.prototype.onManifestParsed=function onManifestParsed(data){var aac=false,heaac=fxOf('mp4a.40.5')!==-1){heaac=true;}}});this.audioCodecSwitch=aac&&heaac;if(this.audioCodecSwitch){logger["b"].log('both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC');}this.levels=data.levels;this.startFragRequested=false;var config=this.config;if(config.autoStartLoad||this.forceStartLoad){this.hls.startLoad(config.startPosition);}};StreamController.prototype.onLevelLoaded=function onLevelLoaded(data){var newDetails=data.details;var newLevelId=data.level;var lastLevel=this.levels[this.levelLastLoaded];var curLevel=this.levels[newLevelId];var duration=newDetails.totalduration;var sliding=0;logger["b"].log('level '+newLevelId+' loaded ['+newDetails.startSN+','+newDetails.endSN+'],duration:'+duration);if(newDetails.live){var curDetails=curLevel.details;if(curDetails&&newDetails.fragments.length>0){mergeDetails(curDetails,newDetails);sliding=newDetails.fragments[0].start;this.liveSyncPosition=this.computeLivePosition(sliding,curDetails);if(newDetails.PTSKnown&&!isNaN(sliding)){logger["b"].log('live playlist sliding:'+sliding.toFixed(3));}else{logger["b"].log('live playlist - outdated PTS, unknown sliding');alignDiscontinuities(this.fragPrevious,lastLevel,newDetails);}}else{logger["b"].log('live playlist - first load, unknown sliding');newDetails.PTSKnown=false;alignDiscontinuities(this.fragPrevious,lastLevel,newDetails);}}else{newDetails.PTSKnown=false;}curLevel.details=newDetails;this.levelLastLoaded=newLevelId;this.hls.trigger(events["a"].LEVEL_UPDATED,{details:newDetails,level:newLevelId});if(this.startFragRequested===false){if(this.startPosition===-1||this.lastCurrentTime===-1){var startTimeOffset=newDetails.startTimeOffset;if(!isNaN(startTimeOffset)){if(startTimeOffset<0){logger["b"].log('negative start time offset '+startTimeOffset+', count from end of last fragment');startTimeOffset=sliding+duration+startTimeOffset;}logger["b"].log('start time offset found in playlist, adjust startPosition to '+startTimeOffset);this.startPosition=startTimeOffset;}else{if(newDetails.live){this.startPosition=this.computeLivePosition(sliding,newDetails);logger["b"].log('configure startPosition to '+this.startPosition);}else{this.startPosition=0;}}this.lastCurrentTime=this.startPosition;}this.nextLoadPosition=this.startPosition;}if(this.state===State.WAITING_LEVEL){this.state=State.IDLE;}this.tick();};S{this.state=State.IDLE;this.tick();}};StreamController.prototype.onFragLoaded=function onFragLoaded(data){var fragCurrent=this.fragCurrent,fragLoaded=data.frag;if(this.state===State.FRAG_LOADING&&fragCurrent&&fragLoaded.type==='main'&&fragLoaded.level===fragCurrent.level&&fragLoaded.sn===fragCurrent.sn){var stats=data.stats;var currentLevel=this.levels[fragCurrent.level];var details=currentLevel.details;logger["b"].log('Loaded  '+fragCurrent.sn+' of ['+details.startSN+' ,'+details.endSN+'],level '+fragCurrent.level);this.bitrateTest=false;this.stats=stats;if(fragLoaded.bitrateTest===true&&this.hls.nextLoadLevel){this.state=State.IDLE;this.startFragRequested=false;stats.tparsed=stats.tbuffered=window.performance.now();this.hls.trigger(events["a"].FRAG_BUFFERED,{stats:stats,frag:fragCurrent,id:'main'});this.tick();}else if(fragLoaded.sn==='initSegment'){this.state=State.IDLE;stats.tparsed=stats.tbuffered=window.performance.now();details.initSegment.data=data.payload;this.hls.trigger(events["a"].FRAG_BUFFERED,{stats:stats,frag:fragCurrent,id:'main'});this.tick();}else{this.state=State.PARSING;var duration=details.totalduration,level=fragCurrent.level,sn=fragCurrent.sn,audioCodec=this.config.defaultAudioCodec||currentLevel.audioCodec;if(this.audioCodecSwap){logger["b"].log('swapping playlist audio codec');if(audioCodec===undefined){audioCodec=this.lastAudioCodec;}if(audioCodec){if(audioCodec.indexOf('mp4a.40.5')!==-1){audioCodec='mp4a.40.2';}else{audioCodec='mp4a.40.5';}}}this.pendingBuffering=true;this.appended=false;logger["b"].log('Parsing '+sn+' of ['+details.startSN+' ,'+details.endSN+'],level '+level+', cc '+fragCurrent.cc);var demuxer=this.demuxer;if(!demuxer){demuxer=this.demuxer=new demux_demuxer(this.hls,'main');}var media=this.media;var mediaSeeking=media&&media.seeking;var accurateTimeOffset=!mediaSeeking&&(details.PTSKnown||!details.live);var initSegmentData=details.initSegment?details.initSegment.data:[];demuxer.push(data.payload,initSegmentData,audioCodec,currentLevel.videoCodec,fragCurrent,duration,accurateTimeOffset,undefined);}}this.fragLoadError=0;};StreamController.prototype.onFragParsingInitSegment=function onFragParsingInitSegment(data){var fragCurrent=this.fragCurrent;var fragNew=data.frag;if(fragCurrent&&data.id==='main'&&fragNew.sn===fragCurrent.sn&&fragNew.level===fragCurrent.level&&this.state===State.PARSING){var tracks=data.tracks,trackName=void 0,track=void 0;if(tracks.audio&&this.altAudio){delete tracks.audio;}track=tracks.audio;if(track){var audioCodec=this.levels[this.level].audioCodec,ua=navigator.userAgent.toLowerCase();if(audioCodec&&this.audioCodecSwap){logger["b"].log('swapping playlist audio codec');if(audioCodec.indexOf('mp4a.40.5')!==-1){audioCodec='mp4a.40.2';}else{audioCodec='mp4a.40.5';}}if(this.audioCodecSwitch){if(track.metadata.channelCount!==1&&ua.indexOf('firefox')===-1){audioCodec='mp4a.40.5';}}if(ua.indexOf('android')!==-1&&track.container!=='audio/mpeg'){audioCodec='mp4a.40.2';logger["b"].log('Android: force audio codec to '+audioCodec);}track.levelCodec=audioCodec;track.id=data.id;}track=tracks.video;if(track){track.levelCodec=this.levels[this.level].videoCodec;track.id=data.id;}this.hls.trigger(events["a"].BUFFER_CODECS,tracks);for(trackName in tracks){track=tracks[trackName];logger["b"].log('main track:'+trackName+',container:'+track.container+',codecs[level/parsed]=['+track.levelCodec+'/'+track.codec+']');var initSegment=track.initSegment;if(initSegment){this.appended=true;this.pendingBuffering=true;this.hls.trigger(events["a"].BUFFER_APPENDING,{type:trackName,data:initSegment,parent:'main',content:'initSegment'});}}this.tick();}};StreamController.prototype.onFragParsingData=function onFragParsingData(data){var _this2=this;var fragCurrent=this.fragCurrent;var fragNew=data.frag;if(fragCurrent&&data.id==='main'&&fragNew.sn===fragCurrent.sn&&fragNew.level===fragCurrent.level&&!(data.type==='audio'&&this.altAudio)&&this.state===State.PARSING){var level=this.levels[this.level],frag=fragCurrent;if(isNaN(data.endPTS)){data.endPTS=data.startPTS+fragCurrent.duration;data.endDTS=data.startDTS+fragCurrent.duration;}if(data.hasAudio===true){frag.addElementaryStream(loader_fragment.ElementaryStreamTypes.AUDIO);}if(data.hasVideo===true){frag.addElementaryStream(loader_fragment.ElementaryStreamTypes.VIDEO);}logger["b"].log('Parsed '+data.type+',PTS:['+data.startPTS.toFixed(3)+','+data.endPTS.toFixed(3)+'],DTS:['+data.startDTS.toFixed(3)+'/'+data.endDTS.toFixed(3)+'],nb:'+data.nb+',dropped:'+(data.dropped||0));if(data.type==='video'){frag.dropped=data.dropped;if(frag.dropped){if(!frag.backtracked){var levelDetails=level.details;if(levelDetails&&frag.sn===levelDetails.startSN){logger["b"].warn('missing video frame(s) on first frag, appending with gap',frag.sn);}else{logger["b"].warn('missing video frame(s), backtracking fragment',frag.sn);this.fragmentTracker.removeFragment(frag);frag.backtracked=true;this.nextLoadPosition=data.startPTS;this.state=State.IDLE;this.fragPrevious=frag;this.tick();return;}}else{logger["b"].warn('Already backtracked on this fragment, appending with the gap',frag.sn);}}else{frag.backtracked=false;}}var drift=updateFragPTSDTS(level.details,frag,data.startPTS,data.endPTS,data.startDTS,data.endDTS),hls=this.hls;hls.trigger(events["a"].LEVEL_PTS_UPDATED,{details:level.details,level:this.level,drift:drift,type:data.type,start:data.startPTS,end:data.endfer,parent:'main',content:'data'});}});this.tick();}};StPARSED;this._checkAppendedParsed();}};StreamController.prototype.onAudioTrackSwitching=function onAudioTrackSwitching(data){var altAudio=!!data.url,trackId=data.id;if(!altAudio){if(this.mediaBuffer!==this.media){logger["b"].log('switching on main audio, use media.buffered to schedule main fragment loading');this.mediaBuffer=this.media;var fragCurrent=this.fragCurrent;if(fragCurrent.loader){logger["b"].log('switching to main audio track, cancel main fragment load');fragCurrent.loader.abort();}this.fragCurrent=null;this.fragPrevious=null;if(this.demuxer){this.demuxer.destroy();this.demuxer=null;}this.state=State.IDLE;}var hls=this.hls;hls.trigger(events["a"].BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:'audio'});hls.trigger(events["a"].AUDIO_TRACK_SWITCHED,{id:trackId});this.altAudio=false;}};StreamCont}this.altAudio=altAudio;this.tick();};StreamController.prototype.onBufferCreated=function onBufferCreated(data){var tracks=data.tracks,mediaTrack=void 0,name=void 0,alternate=false;for(var type in tracks){var track=tracks[type];if(track.id==='main'){name=type;mediaTrack=track;if(type==='video'){this.videoBuffer=tracks[type].buffer;}}else{alternate=true;}}if(alternate&&mediaTrack){logger["b"].log('alternate track found, use '+name+'.buffered to schedule main fragment loading');this.mediaBuffer=mediaTrack.buffer;}else{this.mediaBuffer=this.media;}};Streaming>0;this._checkAppendedParsed();}}};StreamController.prototype._checkAppendedParsed=function _checkAppendedParsed(){if(this.state===State.PARSED&&(!this.appended||!this.pendingBuffering)){var frag=this.fragCurrent;if(frag){var media=this.mediaBuffer?this.mediaBuffer:this.media;logger["b"].log('main buffered : '+time_ranges.toString(media.buffered));this.fragPrevious=frag;var stats=this.stats;stats.tbuffered=window.performance.now();this.fragLastKbps=Math.round(8*stats.total/(stats.tbuffered-stats.tfirst));this.hls.trigger(events["a"].FRAG_BUFFERED,{stats:stats,frag:frag,id:'main'});this.state=State.IDLE;}this.tick();VE_INFINITY);}}break;default:break;}};StreamControngth+'s');return true;}return false;};StreamController.prototype._checkBuffer=function _checkBuffer(){var config=this.config,media=this.media;var stallDebounceInterval=1000;if(!media||media.readyState===0){return;}var currentTime=media.currentTime;var mediaBuffer=this.mediaBuffer?this.mediaBuffer:media;var buffered=mediaBuffer.buffered;if(!this.loadedmetadata&&buffered.length){this.loadedmetadata=true;this._seekToStartPos();}else if(this.immediateSwitch){this.immediateLevelSwitchEnd();}else{var expectedPlaying=!(media.paused&&media.readyState>1||media.ended||media.buffered.length===0);var tnow=window.performance.now();if(currentTime!==this.lastCurrentTime){if(this.stallReported){logger["b"].warn('playback not stuck anymore @'+currentTime+', after '+Math.round(tnow-this.stalled)+'ms');this.stallReported=false;}this.stalled=null;this.nudgeRetry=0;}else if(expectedPlaying){var stalledDuration=tnow-this.stalled;var bufferInfo=BufferHelper.bufferInfo(media,currentTime,config.maxBufferHole);if(!this.stalled){this.stalled=tnow;return;}else if(stalledDuration>=stallDebounceInterval){this._reportStall(bufferInfo.len);}this._tryFixBufferStall(bufferInfo,stalledDuration);}}};StreamControllerion=this.startPosition;}this.tick();};StreamController.prototype.onBufferFlushed=function onBufferFlushed(){var media=this.mediaBuffer?this.mediaBuffer:this.media;if(media){this.fragmentTracker.detectEvictedFragments(loader_fragment.ElementaryStreamTypes.VIDEO,media.buffered);}this.state=State.IDLE;this.fragPrevious=null;};StreaudioCodecSwap=!this.audioCodecSwap;};StreamConetails.totalduration-targetLatency);};StreamController.prototype._tryFixBufferStall=function _tryFixBufferStall(bufferInfo,stalledDuration){var config=this.config,media=this.media;var currentTime=media.currentTime;var jumpThreshold=0.5;var partial=this.fragmentTracker.getPartialFragment(currentTime);if(partial){this._trySkipBufferHole(partial);}if(bufferInfo.len>jumpThreshold&&stalledDuration>config.highBufferWatchdogPeriod*1000){this.stalled=null;this._tryNudgeBuffer();}};StreamController.prototype._reportStall=function _reportStall(bufferLen){var hls=this.hls,media=this.media,stallReported=this.stallReported;if(!stallReported){this.stallReported=true;logger["b"].warn('Playback stalling at @'+media.currentTime+' due to low buffer');hls.trigger(events["a"].ERROR,{type:errors["b"].MEDIA_ERROR,details:errors["a"].BUFFER_STALLED_ERROR,fatal:false,buffer:bufferLen});}};StreamController.prototype._trySkipBufferHole=function _trySkipBufferHole(partial){var hls=this.hls,media=this.media;var currentTime=media.currentTime;var lastEndTime=0;for(var i=0;i<media.buffered.length;i++){var startTime=media.buffered.start(i);if(currentTime>=lastEndTime&&currentTime<startTime){media.currentTime=Math.max(startTime,media.currentTime+0.1);logger["b"].warn('skipping hole, adjusting currentTime from '+currentTime+' to '+media.currentTime);this.stalled=null;hls.trigger(events["a"].ERROR,{type:errors["b"].MEDIA_ERROR,details:errors["a"].BUFFER_SEEK_OVER_HOLE,fatal:false,reason:'fragment loaded with buffer holes, seeking from '+currentTime+' to '+media.currentTime,frag:partial});return;}lastEndTime=media.buffered.end(i);}};Strea.BUFFER_STALLED_ERROR,fatal:true});}};StreamController.prototype._seekToStartPos=function _seekToStartPos(){var media=this.media;var currentTime=media.currentTime;var startPosition=media.seeking?currentTime:this.startPosition;if(currentTime!==startPosition){logger["b"].log('target start position not buffered, seek to buffered.start(0) '+startPosition+' from current time '+currentTime+' ');media.currentTime=startPosition;}};stream_controller__createClareviousState,nextState:nextState});}},get:function get(){return t(frag){return frag.level;}}reia.currentTime));}else){return frag.level;}else{return-1;}}},{key:'liveSyncPosition',get:function get(){return this._liveSyncPosition;},set:function set(value){this._liveSyncPosition=value;}}]);return StreamController;}(task_loop);var stream_controller=stream_controller_StreamController;var level_controller__typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};var level_controller__createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function level_controller__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function level_controller__possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function level_controller__inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var level_controller__window=window,level_controller_performance=level_controller__window.performance;var level_controller_LevelController=function(_EventHandler){level_controller__inherits(LevelController,_EventHandler);function LevelController(hls){level_controller__classCallCheck(this,LevelController);var _this=level_controller__possibleConstructorReturn(this,_EventHandler.call(this,hls,events["a"].MANIFEST_LOADED,events["a"].LEVEL_LOADED,events["a"].AUDIO_TRACK_SWITCHED,events["a"].FRAG_LOADED,events["a"].ERROR));_this.canload=false;_this.currentLevelIndex=null;_this.manualLevelIndex=-1;_this.timer=null;return _this;}LevelConearTimer();this.manualLevelIndex=-1;}imeout(this.timer);this.timer=null;}his.timer!==null){this.loadLevel();}};LevelController.prototype.stopLoad=function stopLoad(){this.canload=false;};LevelController.prototype.onManifestLoaded=function onManifestLoaded(data){var levels=[];var bitrateStart=void 0;var levelSet={};var levelFromSet=null;var videoCodecFound=false;var audioCodecFound=false;var chromeOrFirefox=/chrome|firefox/.test(navigator.userAgent.toLowerCase());var audioTracks=[];data.levels.forEach(function(level){level.loadError=0;level.fragmentError=false;videoCodecFound=videoCodecFound||!!level.videoCodec;audioCodecFound=audioCodecFound||!!level.audioCodec||!!(level.attrs&&level.attrs.AUDIO);if(chromeOrFirefox&&level.audioCodec&&level.audioCodec.indexOf('mp4a.40.34')!==-1){level.audioCodec=undefined;}levelFromSet=levelSet[level.bitrate];if(!levelFromSet){level.url=[level.url];level.urlId=0;levelSet[level.bitrate]=level;levels.push(level);}else{levelFromSet.url.push(level.url);}if(level.attrs&&level.attrs.AUDIO){addGroupId(levelFromSet||level,'audio',level.attrs.AUDIO);}if(level.attrs&&level.attrs.SUBTITLES){addGroupId(levelFromSet||level,'text',level.attrs.SUBTITLES);}});if(videoCodecFound&&=_ref.videoCodec;return|isCodecSupportedInMp4(videoCodec));});if(data.audioTracksrtedInMp4(track.audioCodec,'audio');});}if(levels.length>0){bitrateStart=levels[0].bitrate;levels.sort(function(a,b){return a.bitrate-b.bitrate;});this._levels=levels;for(var i=0;i<levels.length;i++){if(levels[i].bitrate===bitrateStart){this._firstLevel=i;logger["b"].log('manifest loaded,'+levels.length+' level(s) found, first bitrate:'+bitrateStart);break;}}this.hls.trigger(events["a"].MANIFEST_PARSED,{levels:levels,audioTracks:audioTracks,firstLevel:this._firstLevel,stats:data.stats,audio:audioCodecFound,video:videoCodecFound,altAudio:audioTracks.length>0&&videoCodecFound});}else{this.hls.trigger(events["a"].ERROR,{type:errors["b"].MEDIA_ERROR,details:errors["a"].MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:true,url:this.hls.url,reason:'no level with compatible codecs found in manifest'});}};Levelfalse,reason:'invalid level idx'});}};LevelController.prototype.onError=function onError(data){if(data.fatal){if(data.type===errors["b"].NETWORK_ERROR){this.clearTimer();}return;}var levelError=false,fragmentError=false;var levelIndex=void 0;switch(data.details){case errors["a"].FRAG_LOAD_ERROR:case errors["a"].FRAG_LOAD_TIMEOUT:case errors["a"].KEY_LOAD_ERROR:case errors["a"].KEY_LOAD_TIMEOUT:levelIndex=data.frag.level;fragmentError=true;break;case errors["a"].LEVEL_LOAD_ERROR:case errors["a"].LEVEL_LOAD_TIMEOUT:levelIndex=data.context.level;levelError=true;break;case errors["a"].REMUX_ALLOC_ERROR:levelIndex=data.level;levelError=true;break;}if(levelIndex!==undefined){this.recoverLevel(data,levelIndex,levelError,fragmentError);}};LevelController.prototype.recoverLevel=function recoverLevel(errorEvent,levelIndex,levelError,fragmentError){var _this2=this;var config=this.hls.config;var errorDetails=errorEvent.details;var level=this._levels[levelIndex];var redundantLevels=void 0,delay=void 0,nextLevel=void 0;level.loadError++;level.fragmentError=fragmentError;if(levelError){if(this.levelRetryCount+1<=config.levelLoadingMaxRetry){delay=Math.min(Math.pow(2,this.levelRetryCount)*config.levelLoadingRetryDelay,config.levelLoadingMaxRetryTimeout);this.timer=setTimeout(function(){return _this2.loadLevel();},delay);errorEvent.levelRetry=true;this.levelRetryCount++;logger["b"].warn('level controller, '+errorDetails+', retry in '+delay+' ms, current retry count is '+this.levelRetryCount);}else{logger["b"].error('level controller, cannot recover from '+errorDetails+' error');this.currentLevelIndex=null;this.clearTimer();errorEvent.fatal=true;return;}}if(levelError||fragmentError){redundantLevels=level.url.length;if(redundantLevels>1&&level.loadError<redundantLevels){level.urlId=(level.urlId+1)%redundantLevels;level.details=undefined;logger["b"].warn('level controller, '+errorDetails+' for level '+levelIndex+': switching to redundant URL-id '+level.urlId);}else{if(this.manualLevelIndex===-1){nextLevel=levelIndex===0?this._levels.length-1:levelIndex-1;logger["b"].warn('level controller, '+errorDetails+': switch to '+nextLevel);this.hls.nextAutoLevel=this.currentLevelIndex=nextLevel;}else if(fragmentError){logger["b"].warn('level controller, '+errorDetails+': reload a fragment');this.currentLevelIndex=null;}}}};LoadError=0;this.levelRetryCount=0;}}};LevelController.prototype.onLevelLoaded=function onLevelLoaded(data){var _this3=this;var levelId=data.level;if(levelId!==this.currentLevelIndex){return;}var curLevel=this._levels[levelId];if(!curLevel.fragmentError){curLevel.loadError=0;this.levelRetryCount=0;}var newDetails=data.details;if(newDetails.live){var targetdurationMs=1000*(newDetails.averagetargetduration?newDetails.averagetargetduration:newDetails.targetduration);var reloadInterval=targetdurationMs,curDetails=curLevel.details;if(curDetails&&newDetails.endSN===curDetails.endSN){reloadInterval/=2;logger["b"].log('same live playlist, reload twice faster');}reloadInterval-=level_controller_performance.now()-data.stats.trequest;reloadInterval=Math.max(targetdurationMs/2,Math.round(reloadInterval));logger["b"].log('live playlist, reload in '+Math.round(reloadInterval)+' ms');this.timer=setTimeout(function(){return _this3.loadLevel();},reloadInterval);}else{this.clearTimer();}};LevelController.prototype.onAudioTrackSwitched=function onAudioTrackSwitched(data){var audioGroupId=this.hls.audioTracks[data.id].groupId;var currentLevel=this.hls.levels[this.currentLevelIndex];if(!currentLevel){return;}if(currentLevel.audioGroupIds){var urlIdupId){return groupId===audioGroupId;});if(urlId!==currentLevel.urlId){currentLevel.urlId=urlId;this.startLoad();}}};LevelController.prototype.loadLevel=function loadLevel(){logger["b"].debug('call to loadLevel');if(this.currentLevelIndex!==null&&this.canload){var levelObject=this._levels[this.currentLevelIndex];if((typeof levelObject==='undefined'?'undefined':level_controller__typeof(levelObject))==='object'&&levelObject.url.length>0){var level=this.currentLevelIndex;var id=levelObject.urlId;var url=levelObject.url[id];logger["b"].log('Attempt loading level index '+level+' with URL-id '+id);this.hls.trigger(events["a"].LEVEL_LOADING,{url:url,level:level,id:id});}}};level_controller__createClass(LevelController,[{key:'levels',get:function get(){return this._levels;}},{key:'level',get:function get(){this.setLevelInternal(newLevel);}}}},{key:'manualLevel',get:function getnewLevel!==-1){this.level=newLevel;}}},{key:'firstLevel',get:function get(){return this._firstLevel;},set:function set(newLevel){this._firstLevel;}}else{return this._startLevel;}},set:function set(newLevel){this._startLevelelse){this.hls.nextAutoLevel=nextLevel;}}}]);return LevelController;}(event_handler);var level_controller=level_controller_LevelController;var id3=__webpack_require__(7);function sendAddTrackEvent(track,videoEl){var event=null;try{event=new window.Event('addtrack');}catch(err){event=document.createEvent('Event');event.initEvent('addtrack',false,false);}event.track=track;videoEl.dispatchEvent(event);}function clearCurrentCues(track){if(track&&track.cues){while(track.cues.length>0){track.removeCue(track.cues[0]);}}}function id3_track_controller__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function id3_track_controller__possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function id3_track_controller__inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var id3_track_controller_ID3TrackController=function(_EventHandler){id3_track_controller__inherits(ID3TrackController,_EventHandler);function ID3TrackController(hls){id3_track_controller__classCallCheck(this,ID3TrackController);var _this=id3_track_controller__possibleConstructorReturn(this,_EventHandler.call(this,hls,events["a"].MEDIA_ATTACHED,events["a"].MEDIA_DETACHING,events["a"].FRAG_PARSING_METADATA));_this.id3Track=undefined;_this.media=undefined;return _this;}ID3TrackController.prototype.destroy=function destroy(){event_handler.prototype.destroy.call(this);};ID3Tracs.media=data.media;if(!this.media){}};ID3Trackrack=undefined;this.media=undefined;};ID3edia.addTextTrack('metadata','id3');};ID3TrackController.prototype.onFragParsingMetadata=function onFragParsingMetadata(data){var fragment=data.frag;var samples=data.samples;if(!this.id3Track){this.id3Track=this.getID3Track(this.media.textTracks);this.id3Track.mode='hidden';}var Cue=window.WebKitDataCue||window.VTTCue||window.TextTrackCue;for(var i=0;i<samples.length;i++){var frames=id3["a"].getID3Frames(samples[i].data);if(frames){var startTime=samples[i].pts;var endTime=i<samples.length-1?samples[i+1].pts:fragment.endPTS;if(startTime===endTime){endTime+=0.0001;}for(var j=0;j<frames.length;j++){var frame=frames[j];if(!id3["a"].isTimeStampFrame(frame)){var cue=new Cue(startTime,endTime,'');cue.value=frame;this.id3Track.addCue(cue);}}}}};return ID3TrackController;}(event_handler);var id3_track_controller=id3_track_controller_ID3TrackController;function is_supported_isSupported(){var mediaSource=getMediaSource();var sourceBuffer=window.carodaHls.SourceBuffer||window.WebKitSourceBuffer;var isTypeSupported=mediaSource&&typeof mediaSource.isTypeSupported==='function'&&mediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');var sourceBufferValidAPI=!sourceBuffer||sourceBuffer.prototype&&typeof sourceBuffer.prototype.appendBuffer==='function'&&typeof sourceBuffer.prototype.remove==='function';return!!isTypeSupported&&!!sourceBufferValidAPI;}function ewma__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var EWMA=function(){function EWMA(halfLife){ewma__classCallCheck(this,EWMA);this.alpha_=halfLife?Math.exp(Math.log(0.5)/halfLife):0;this.estimate_=0;this.estimate_;this.totalWeight_+=weight;};EWMA.prototype.getTotalWeight=function getTotalWeight(){return this.totaFactor;}else{return this.estimate_;}};return EWMA;}();var ewma=EWMA;function ewma_bandwidth_estimator__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var ewma_bandwidth_estimator_EwmaBandWidthEstimator=function(){function EwmaBandWidthEstimator(hls,slow,fast,defaultEstimate){ewma_bandwidth_estimator__classCallCheck(this,EwmaBandWidthEstimator);this.hls=hls;this.defaultEstimate_=defaultEstimate;this.minWeight_=0.001;this.minDelayMs_=50;this.slow_=new ewma(slow);this.fast_=new ewma(fast);}EwmaBandWidthEstimator.prototype.sample=function sample(durationMs,numBytes){durationMs=Math.max(durationMs,this.minDelayMs_);var bandwidth=8000*numBytes/durationMs,weight=durationMs/1000;this.fast_.sample(weight,bandwidth);this.slow_.sample(weight,bandwidth);};EwmaBant.getTotalWeight()>=this.minWeight_;};EwmaBan}else{return this.defaultEstimate_;}};EwmaBandWidthEstimator.prototype.destroy=function destroy(){};return EwmaBandWidthEstimator;}();var ewma_bandwidth_estimator=ewma_bandwidth_estimator_EwmaBandWidthEstimator;var abr_controller__createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function abr_controller__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function abr_controller__possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function abr_controller__inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var abr_controller__window=window,abr_controller_performance=abr_controller__window.performance;var abr_controller_AbrController=function(_EventHandler){abr_controller__inherits(AbrController,_EventHandler);function AbrController(hls){abr_controller__classCallCheck(this,AbrController);var _this=abr_controller__possibleConstructorReturn(this,_EventHandler.call(this,hls,events["a"].FRAG_LOADING,events["a"].FRAG_LOADED,events["a"].FRAG_BUFFERED,events["a"].ERROR));_this.lastLoadedFragLevel=0;_this._nextAutoLevel=-1;_this.hls=hls;_this.timer=null;_this._bwEstimator=null;_this.onCheck=_this._abandonRulesCheck.bind(_this);return _this;}AbrController.prototype.destroy=function destroy(){this.clearTimer();event_handler.prototype.destroy.call(this);};AbrController.prototype.onFragLoading=function onFragLoading(data){var frag=data.frag;if(frag.type==='main'){if(!this.timer){this.fragCurrent=frag;this.timer=setInterval(this.onCheck,100);}if(!this._bwEstimator){var hls=this.hls;var config=hls.config;var level=frag.level;var isLive=hls.levels[level].details.live;var ewmaFast=void 0,ewmaSlow=void 0;if(isLive){ewmaFast=config.abrEwmaFastLive;ewmaSlow=config.abrEwmaSlowLive;}else{ewmaFast=config.abrEwmaFastVoD;ewmaSlow=config.abrEwmaSlowVoD;}this._bwEstimator=new ewma_bandwidth_estimator(hls,ewmaSlow,ewmaFast,config.abrEwmaDefaultEstimate);}}};AbrController.prototype._abandonRulesCheck=function _abandonRulesCheck(){var hls=this.hls;var video=hls.media;var frag=this.fragCurrent;if(!frag){return;}var loader=frag.loader;var minAutoLevel=hls.minAutoLevel;if(!loader||loader.stats&&loader.stats.aborted){logger["b"].warn('frag loader destroy or aborted, disarm abandonRules');this.clearTimer();this._nextAutoLevel=-1;return;}var stats=loader.stats;if(video&&stats&&(!video.paused&&video.playbackRate!==0||!video.readyState)&&frag.autoLevel&&frag.level){var requestDelay=abr_controller_performance.now()-stats.trequest,playbackRate=Math.abs(video.playbackRate);if(requestDelay>500*frag.duration/playbackRate){var levels=hls.levels,loadRate=Math.max(1,stats.bw?stats.bw/8:stats.loaded*1000/requestDelay),level=levels[frag.level],levelBitrate=level.realBitrate?Math.max(level.realBitrate,level.bitrate):level.bitrate,expectedLen=stats.total?stats.total:Math.max(stats.loaded,Math.round(frag.duration*levelBitrate/8)),pos=video.currentTime,fragLoadedDelay=(expectedLen-stats.loaded)/loadRate,bufferStarvationDelay=(BufferHelper.bufferInfo(video,pos,hls.config.maxBufferHole).end-pos)/playbackRate;if(bufferStarvationDelay<2*frag.duration/playbackRate&&fragLoadedDelay>bufferStarvationDelay){var fragLevelNextLoadedDelay=void 0,nextLoadLevel=void 0;for(nextLoadLevel=frag.level-1;nextLoadLevel>minAutoLevel;nextLoadLevel--){var levelNextBitrate=levels[nextLoadLevel].realBitrate?Math.max(levels[nextLoadLevel].realBitrate,levels[nextLoadLevel].bitrate):levels[nextLoadLevel].bitrate;fragLevelNextLoadedDelay=frag.duration*levelNextBitrate/(8*0.8*loadRate);if(fragLevelNextLoadedDelay<bufferStarvationDelay){break;}}if(fragLevelNextLoadedDelay<fragLoadedDelay){logger["b"].warn('loading too slow, abort fragment loading and switch to level '+nextLoadLevel+':fragLoadedDelay['+nextLoadLevel+']<fragLoadedDelay['+(frag.level-1)+'];bufferStarvationDelay:'+fragLevelNextLoadedDelay.toFixed(1)+'<'+fragLoadedDelay.toFixed(1)+':'+bufferStarvationDelay.toFixed(1));hls.nextLoadLevel=nextLoadLevel;this._bwEstimator.sample(requestDelay,stats.loaded);loader.abort();this.clearTimer();hls.trigger(events["a"].FRAG_LOAD_EMERGENCY_ABORTED,{frag:frag,stats:stats});}}}}};AbrController.prototype.onFragLoaded=function onFragLoaded(data){var frag=data.frag;if(frag.type==='main'&&!isNaN(frag.sn)){this.clearTimer();this.lastLoadedFragLevel=frag.level;this._nextAutoLevel=-1;if(this.hls.config.abrMaxWithRealBitrate){var level=this.hls.levels[frag.level];var loadedBytes=(level.loaded?level.loaded.bytes:0)+data.stats.loaded;var loadedDuration=(level.loaded?level.loaded.duration:0)+data.frag.duration;level.loaded={bytes:loadedBytes,duration:loadedDuration};level.realBitrate=Math.round(8*loadedBytes/loadedDuration);}if(data.frag.bitrateTest){var stats=data.stats;stats.tparsed=stats.tbuffered=stats.tload;this.onFragBuffered(data);}}};AbrController.prototype.onFragBuffered=function onFragBuffered(data){var stats=data.stats;var frag=data.frag;if(stats.aborted!==true&&frag.type==='main'&&!isNaN(frag.sn)&&(!frag.bitrateTest||stats.tload===stats.tbuffered)){var fragLoadingProcessingMs=stats.tparsed-stats.trequest;logger["b"].log('latency/loading/parsing/append/kbps:'+Math.round(stats.tfirst-stats.trequest)+'/'+Math.round(stats.tload-stats.tfirst)+'/'+Math.round(stats.tparsed-stats.tload)+'/'+Math.round(stats.tbuffered-stats.tparsed)+'/'+Math.round(8*stats.loaded/(stats.tbuffered-stats.trequest)));this._bwEstimator.sample(fragLoadingProcessingMs,stats.loaded);stats.bwEstimate=this._bwEstimator.getEstimate();if(frag.bitrateTest){this.bitrateTestDelay=fragLoadingProcessingMs/1000;}else{this.bitrateTestDelay=s.clearTimer();break;default:break;nterval(this.timer);this.timer=null;};AbrController.prototype._findBestLevel=function _findBestLevel(currentLevel,currentFragDuration,currentBw,minAutoLevel,maxAutoLevel,maxFetchDuration,bwFactor,bwUpFactor,levels){for(var i=maxAutoLevel;i>=minAutoLevel;i--){var levelInfo=levels[i],levelDetails=levelInfo.details,avgDuration=levelDetails?levelDetails.totalduration/levelDetails.fragments.length:currentFragDuration,live=levelDetails?levelDetails.live:false,adjustedbw=void 0;if(i<=currentLevel){adjustedbw=bwFactor*currentBw;}else{adjustedbw=bwUpFactor*currentBw;}var bitrate=levels[i].realBitrate?Math.max(levels[i].realBitrate,levels[i].bitrate):levels[i].bitrate,fetchDuration=bitrate*avgDuration/adjustedbw;logger["b"].trace('level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: '+i+'/'+Math.round(adjustedbw)+'/'+bitrate+'/'+avgDuration+'/'+maxFetchDuration+'/'+fetchDuration);if(adjustedbw>bitrate&&(!fetchDuration||live&&!this.bitrateTestDelay||fetchDuration<maxFetchDuration)){return i;}}return-1;};abr_controller__createClass(AbAutoLevel);}return nextABRAutoLevel;},set:function set(nextLevel){this._nextAutoLevel=nextLevel;}},{key:'_nextABRAutoLevel',get:function get(){var hls=this.hls,maxAutoLevel=hls.maxAutoLevel,levels=hls.levels,config=hls.config,minAutoLevel=hls.minAutoLevel;var video=hls.media,currentLevel=this.lastLoadedFragLevel,currentFragDuration=this.fragCurrent?this.fragCurrent.duration:0,pos=video?video.currentTime:0,playbackRate=video&&video.playbackRate!==0?Math.abs(video.playbackRate):1.0,avgbw=this._bwEstimator?this._bwEstimator.getEstimate():config.abrEwmaDefaultEstimate,bufferStarvationDelay=(BufferHelper.bufferInfo(video,pos,config.maxBufferHole).end-pos)/playbackRate;var bestLevel=this._findBestLevel(currentLevel,currentFragDuration,avgbw,minAutoLevel,maxAutoLevel,bufferStarvationDelay,config.abrBandWidthFactor,config.abrBandWidthUpFactor,levels);if(bestLevel>=0){return bestLevel;}else{logger["b"].trace('rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering');var maxStarvationDelay=currentFragDuration?Math.min(currentFragDuration,config.maxStarvationDelay):config.maxStarvationDelay,bwFactor=config.abrBandWidthFactor,bwUpFactor=config.abrBandWidthUpFactor;if(bufferStarvationDelay===0){var bitrateTestDelay=this.bitrateTestDelay;if(bitrateTestDelay){var maxLoadingDelay=currentFragDuration?Math.min(currentFragDuration,config.maxLoadingDelay):config.maxLoadingDelay;maxStarvationDelay=maxLoadingDelay-bitrateTestDelay;logger["b"].trace('bitrate test took '+Math.round(1000*bitrateTestDelay)+'ms, set first fragment max fetchDuration to '+Math.round(1000*maxStarvationDelay)+' ms');bwFactor=bwUpFactor=1;}}bestLevel=this._findBestLevel(currentLevel,currentFragDuration,avgbw,minAutoLevel,maxAutoLevel,bufferStarvationDelay+maxStarvationDelay,bwFactor,bwUpFactor,levels);return Math.max(bestLevel,0);}}}]);return AbrController;}(event_handler);var abr_controller=abr_controller_AbrController;function buffer_controller__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function buffer_controller__possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function buffer_controller__inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var buffer_controller_MediaSource=getMediaSource();var buffer_controller_BufferController=function(_EventHandler){buffer_controller__inherits(BufferController,_EventHandler);function BufferController(hls){buffer_controller__classCallCheck(this,BufferController);var _this=buffer_controller__possibleConstructorReturn(this,_EventHandler.call(this,hls,events["a"].MEDIA_ATTACHING,events["a"].MEDIA_DETACHING,events["a"].MANIFEST_PARSED,events["a"].BUFFER_RESET,events["a"].BUFFER_APPENDING,events["a"].BUFFER_CODECS,events["a"].BUFFER_EOS,events["a"].BUFFER_FLUSHING,events["a"].LEVEL_PTS_UPDATED,events["a"].LEVEL_UPDATED));_this._msDuration=null;_this._levelDuration=null;_this._live=null;_this._objectUrl=null;_this.onsbue=_this.onSBUpdateEnd.bind(_this);_this.onsbe=_this.onSBUpdateError.bind(_this);_this.pendingTracks={};_this.tracks={};return _thiandler.prototype.destroy.call(this);};BufferController.prototype.onLevelPtsUpdated=function onLevelPtsUpdated(data){var type=data.type;var audioTrack=this.tracks.audio;if(type==='audio'&&audioTrack&&audioTrack.container==='audio/mpeg'){var audioBuffer=this.sourceBuffer.audio;var delta=Math.abs(audioBuffer.timestampOffset-data.start);if(delta>0.1){var updating=audioBuffer.updating;try{audioBuffer.abort();}catch(err){updating=true;logger["b"].warn('can not abort audio buffer: '+err);}if(!updating){logger["b"].warn('change mpeg audio timestamp offset from '+audioBuffer.timestampOffset+' to '+data.start);audioBuffer.timestampOffset=data.start;}else{this.audioTimestampOffset=data.start;}}}};BufferController.prototype.onManifestParsed=function onManifestParsed(data){var audioExpected=data.audio,videoExpected=data.video||data.levels.length&&data.altAudio,sourceBufferNb=0;if(data.altAudio&&(audioExpected||videoExpected)){sourceBufferNb=(audioExpected?1:0)+(videoExpected?1:0);logger["b"].log(sourceBufferNb+' sourceBuffer(s) expected');}this.sourceBufferNb=sourceBufferNb;};BufferController.prototype.onMediaAttaching=function onMediaAttaching(data){var media=this.media=data.media;if(media){var ms=this.mediaSource=new buffer_controller_MediaSource();this.onmso=this.onMediaSourceOpen.bind(this);this.onmse=this.onMediaSourceEnded.bind(this);this.onmsc=this.onMediaSourceClose.bind(this);ms.addEventListener('sourceopen',this.onmso);ms.addEventListener('sourceended',this.onmse);ms.addEventListener('sourceclose',this.onmsc);media.src=window.URL.createObjectURL(ms);this._objectUrl=media.src;}};BufferController.prototype.onMediaDetaching=function onMediaDetaching(){logger["b"].log('media source detaching');var ms=this.mediaSource;if(ms){if(ms.readyState==='open'){try{ms.endOfStream();}catch(err){logger["b"].warn('onMediaDetaching:'+err.message+' while calling endOfStream');}}ms.removeEventListener('sourceopen',this.onmso);ms.removeEventListener('sourceended',this.onmse);ms.removeEventListener('sourceclose',this.onmsc);if(this.media){window.URL.revokeObjectURL(this._objectUrl);if(this.media.src===this._objectUrl){this.media.removeAttribute('src');this.media.load();}else{logger["b"].warn('media.src was changed by a third party - skip cleanup');}}this.mediaSource=null;this.media=null;this._objectUrl=null;this.pendingTracks={};this.tracks={};this.sourceBuffer={};this.flushRange=[];this.segments=[];this.appended=0;}this.onmso=this.onmse=this.onmsc=null;this.hls.trigger(events["a"].MEDIA_DETACHED);};BufferController.prototype.onMediaSourceOpen=function onMediaSourceOpen(){logger["b"].log('media source opened');this.hls.trigger(events["a"].MEDIA_ATTACHED,{media:this.media});var mediaSource=this.mediaSource;if(mediaSource){mediaSource.removeEventListener('sourceopen',this.onmso);}this.checkPendingTracks();};BufferController.prototype.checkPendingTracks=function checkPendingTracks(){var pendingTracks=this.pendingTracks,pendingTracksNb=Object.keys(pendingTracks).length;if(pendingTracksNb&&(this.sourceBufferNb<=pendingTracksNb||this.sourceBufferNb===0)){this.createSourceBuffers(pendingTracks);this.pendingTracks={};this.doAppending();}};BufferController.prototype.onMediaSourceClose=function onMediaSourceClose(){logger["b"].log('media source closed');};BufferCogger["b"].log('media source ended');};BufferController.prototype.onSBUpdateEnd=function onSBUpdateEnd(){if(this.audioTimestampOffset){var audioBuffer=this.sourceBuffer.audio;logger["b"].warn('change mpeg audio timestamp offset from '+audioBuffer.timestampOffset+' to '+this.audioTimestampOffset);audioBuffer.timestampOffset=this.audioTimestampOffset;delete this.audioTimestampOffset;}if(this._needsFlush){this.doFlush();}if(this._needsEos){this.checkEos();}this.appending=false;var parent=this.pat.parent===parent?counter+1:counter;},0);var timeRanges={};var sourceBuffer=this.sourceBuffer;for(var streamType in sourceBuffer){timeRanges[streamType]=sourceBuffer[streamType].buffered;}this.hls.trigger(events["a"].BUFFER_APPENDED,{parent:parent,pending:pending,timeRanges:timeRanges});if(!this._needsFlush){this.doAppending();}this.updateMediaElementDuration();};BufferController.prototype.onSBUpdateError=function onSBUpdateError(event){logger["b"].error('sourceBuffer error:',event);this.hls.trigger(events["a"].ERROR,{type:errors["b"].MEDIA_ERROR,details:errors["a"].BUFFER_APPENDING_ERROR,fatal:false});};BufferController.prototype.onBufferReset=function onBufferReset(){var sourceBuffer=this.sourceBuffer;for(var type in sourceBuffer){var sb=sourceBuffer[type];try{this.mediaSource.removeSourceBuffer(sb);sb.removeEventListener('updateend',this.onsbue);sb.removeEventListener('error',this.onsbe);}catch(err){}}this.sourceBuffer={};this.flushRange=[];this.segments=[];this.appended=0;};BufferController.prototype.onBufferCodecs=function onBufferCodecs(tracks){if(Object.keys(this.sourceBuffer).length===0){for(var trackName in tracks){this.pendingTracks[trackName]=tracks[trackName];}var mediaSource=this.mediaSource;if(mediaSource&&mediaSource.readyState==='open'){this.checkPendingTracks();}}};BufferController.prototype.createSourceBuffers=function createSourceBuffers(tracks){var sourceBuffer=this.sourceBuffer,mediaSource=this.mediaSource;for(var trackName in tracks){if(!sourceBuffer[trackName]){var track=tracks[trackName];var codec=track.levelCodec||track.codec;var mimeType=track.container+';codecs='+codec;logger["b"].log('creating sourceBuffer('+mimeType+')');try{var sb=sourceBuffer[trackName]=mediaSource.addSourceBuffer(mimeType);sb.addEventListener('updateend',this.onsbue);sb.addEventListener('error',this.onsbe);this.tracks[trackName]={codec:codec,container:track.container};track.buffer=sb;}catch(err){logger["b"].error('error while trying to add sourceBuffer:'+err.message);this.hls.trigger(events["a"].ERROR,{type:errors["b"].MEDIA_ERROR,details:errors["a"].BUFFER_ADD_CODEC_ERROR,fatal:false,err:err,mimeType:mimeType});}}}this.hls.trigger(events["a"].BUFFER_CREATED,{tracks:tracks});};BufferCnts.push(data);}this.doAppending();}};BufferController.prototype.onBufferAppendFail=function onBufferAppendFail(data){logger["b"].error('sourceBuffer error:',data.event);this.hls.trigger(events["a"].ERROR,{type:errors["b"].MEDIA_ERROR,details:errors["a"].BUFFER_APPENDING_ERROR,fatal:false});};BufferController.prototype.onBufferEos=function onBufferEos(data){var sb=this.sourceBuffer;var dataType=data.type;for(var type in sb){if(!dataType||type===dataType){if(!sb[type].ended){sb[type].ended=true;logger["b"].log(type+' sourceBuffer now EOS');}}}this.checkEos();};BufferController.prototype.checkEos=function checkEos(){var sb=this.sourceBuffer,mediaSource=this.mediaSource;if(!mediaSource||mediaSource.readyState!=='open'){this._needsEos=false;return;}for(var type in sb){var sbobj=sb[type];if(!sbobj.ended){return;}if(sbobj.updating){this._needsEos=true;return;}}logger["b"].log('all media data available, signal endOfStream() to MediaSource and stop loading fragment');try{mediaSource.endOfStream();}catch(e){logger["b"].warn('exception while calling mediaSource.endOfStream()');}this._needsEos=false;};BufferController.prototype.onBufferFlushing=function onBufferFlushing(data){this.flushRange.push({start:data.startOffset,end:data.endOffset,type:data.type});this.flushBufferCounter=0;this.doFlush();};BufferController.prototype.onLevelUpdated=function onLevelUpdated(_ref){var details=_ref.details;if(details.fragments.length>0){this._levelDuration=details.totalduration+details.fragments[0].start;this._live=details.live;this.updateMediaElementDuration();}};BufferController.prototype.updateMediaElementDuration=function updateMediaElementDuration(){var config=this.hls.config;var duration=void 0;if(this._levelDuration===null||!this.media||!this.mediaSource||!this.sourceBuffer||this.media.readyState===0||this.mediaSource.readyState!=='open'){return;}for(var type in this.sourceBuffer){if(this.sourceBuffer[type].updating===true){return;}}duration=this.media.duration;if(this._msDuration===null){this._msDuration=this.mediaSource.duration;}if(this._live===true&&config.liveDurationInfinity===true){logger["b"].log('Media Source duration is set to Infinity');this._msDuration=this.mediaSource.duration=Infinity;}else if(this._levelDuration>this._msDuration&&this._levelDuration>duration||duration===Infinity||isNaN(duration)){logger["b"].log('Updating Media Source duration to '+this._levelDuration.toFixed(3));this._msDuration=this.mediaSource.duration=this._levelDuration;}};BufferController.prototype.doFlush=function doFlush(){while(this.flushRange.length){var range=this.flushRange[0];if(this.flushBuffer(range.start,range.end,range.type)){this.flushRange.shift();this.flushBufferCounter=0;}else{this._needsFlush=true;return;}}if(this.flushRange.length===0){this._needsFlush=false;var appended=0;var sourceBuffer=this.sourceBuffer;try{for(var type in sourceBuffer){appended+=sourceBuffer[type].buffered.length;}}catch(error){logger["b"].error('error while accessing sourceBuffer.buffered');}this.appended=appended;this.hls.trigger(events["a"].BUFFER_FLUSHED);}};BufferController.prototype.doAppending=function doAppending(){var hls=this.hls,sourceBuffer=this.sourceBuffer,segments=this.segments;if(Object.keys(sourceBuffer).length){if(this.media.error){this.segments=[];logger["b"].error('trying to append although a media error occured, flush segment and abort');return;}if(this.appending){return;}if(segments&&segments.length){var segment=segments.shift();try{var type=segment.type,sb=sourceBuffer[type];if(sb){if(!sb.updating){sb.ended=false;this.parent=segment.parent;sb.appendBuffer(segment.data);this.appendError=0;this.appended++;this.appending=true;}else{segments.unshift(segment);}}else{this.onSBUpdateEnd();}}catch(err){logger["b"].error('error while trying to append buffer:'+err.message);segments.unshift(segment);var event={type:errors["b"].MEDIA_ERROR,parent:segment.parent};if(err.code!==22){if(this.appendError){this.appendError++;}else{this.appendError=1;}event.details=errors["a"].BUFFER_APPEND_ERROR;if(this.appendError>hls.config.appendErrorMaxRetry){logger["b"].log('fail '+hls.config.appendErrorMaxRetry+' times to append segment in sourceBuffer');segments=[];event.fatal=true;hls.trigger(events["a"].ERROR,event);}else{event.fatal=false;hls.trigger(events["a"].ERROR,event);}}else{this.segments=[];event.details=errors["a"].BUFFER_FULL_ERROR;event.fatal=false;hls.trigger(events["a"].ERROR,event);}}}}};BufferController.prototype.flushBuffer=function flushBuffer(startOffset,endOffset,typeIn){var sb=void 0,i=void 0,bufStart=void 0,bufEnd=void 0,flushStart=void 0,flushEnd=void 0,sourceBuffer=this.sourceBuffer;if(Object.keys(sourceBuffer).length){logger["b"].log('flushBuffer,pos/start/end: '+this.media.currentTime.toFixed(3)+'/'+startOffset+'/'+endOffset);if(this.flushBufferCounter<this.appended){for(var type in sourceBuffer){if(typeIn&&type!==typeIn){continue;}sb=sourceBuffer[type];sb.ended=false;if(!sb.updating){try{for(i=0;i<sb.buffered.length;i++){bufStart=sb.buffered.start(i);bufEnd=sb.buffered.end(i);if(navigator.userAgent.toLowerCase().indexOf('firefox')!==-1&&endOffset===Number.POSITIVE_INFINITY){flushStart=startOffset;flushEnd=endOffset;}else{flushStart=Math.max(bufStart,startOffset);flushEnd=Math.min(bufEnd,endOffset);}if(Math.min(flushEnd,bufEnd)-flushStart>0.5){this.flushBufferCounter++;logger["b"].log('flush '+type+' ['+flushStart+','+flushEnd+'], of ['+bufStart+','+bufEnd+'], pos:'+this.media.currentTime);sb.remove(flushStart,flushEnd);return false;}}}catch(e){logger["b"].warn('exception while accessing sourcebuffer, it might have been removed from MediaSource');}}else{logger["b"].warn('cannot flush, sb updating in progress');return false;}}}else{logger["b"].warn('abort flushing too many retries');}logger["b"].log('buffer flushed');}return true;};return BufferController;}(event_handler);var buffer_controller=buffer_controller_BufferController;var cap_level_controller__createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function cap_level_controller__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function cap_level_controller__possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function cap_level_controller__inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var cap_level_controller_CapLevelController=function(_EventHandler){cap_level_controller__inherits(CapLevelController,_EventHandler);function CapLevelController(hls){cap_level_controller__classCallCheck(this,CapLevelController);var _this=cap_level_controller__possibleConstructorReturn(this,_EventHandler.call(this,hls,events["a"].FPS_DROP_LEVEL_CAPPING,events["a"].MEDIA_ATTACHING,events["a"].MANIFEST_PARSED,events["a"].BUFFER_CODECS));_this.autoLevelCapping=Number.POSITIVE_INFINITY;_this.firstLevel=null;_this.levels=[];_this.media=null;_this.restrictedLevels=[];_this.timer=null;return _this;}CapLevelController.prototype.destroy=function destroy(){if(this.hls.config.capLevelToPlayerSize){this.media=null;this._stopCapping();}};CapLevelContrctedLevels.push(data.droppedLevel);}};CapLevelow.HTMLVideoElement?data.media:null;};CapLevelController.prototype.onManifestParsed=function onManifestParsed(data){var hls=this.hls;this.restrictedLevels=[];this.levels=data.levels;this.firstLevel=data.firstLevel;if(hls.config.capLevelToPlayerSize&&(data.video||data.levels.length&&data.altAudio)){this._startCapping();}};CapLev&&data.video){this._startCapping();}};CapLevedated(data){this.levels=data.levels;};CapLevelLevelCapping=hls.autoLevelCapping;}}};CapLevelController.prototype.getMaxLevel=function getMaxLevel(capLevelIndex){var _this2=this;if(!this.levels){return-rictedLevels)&&index<=capLevelIndex;});return CapLevelController.getMaxLevelByMediaSize(validLevels,this.mediaWidth,this.mediaHeight);};CapLethis),1000);this.detectPlayerSize();};CapLterval(this.timer);this.timer=null;}};CapLevelController.isLevelAllowed=function isLevelAllowed(level){var restrictedLevels=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return restrictedLevels.indexOf(level)===-1;};CapLndex=i;break;}}return maxLevelIndex;};cap_level_controller__createClass(CapLevelController,[{key:'mediaWidth',get:function get(){var width=void 0;var media=this.media;if(media){width=media.width||media.clientWidth||media.offsetWidth;width*=CapLevelController.contentScaleFactor;}return width;}},{key:'mediaHeight',get:function get(){var height=void 0;var media=this.media;if(media){height=media.height||media.clientHeight||media.offsetHeight;height*=CapLevelController.contentScaleFactor;}return heiglRatio;}catch(e){}return pixelRatio;}}]);return CapLevelController;}(event_handler);var cap_level_controller=cap_level_controller_CapLevelController;function fps_controller__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function fps_controller__possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function fps_controller__inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var fps_controller__window=window,fps_controller_performance=fps_controller__window.performance;var fps_controller_FPSController=function(_EventHandler){fps_controller__inherits(FPSController,_EventHandler);function FPSController(hls){fps_controller__classCallCheck(this,FPSController);return fps_controller__possibleConstructorReturn(this,_EventHandler.call(this,hls,events["a"].MEDIA_ATTACHIVideoPlaybackQualityAvailable=false;};FPSconfig.fpsDroppedMonitoringPeriodis.lastDecodedFrames=decodedFrames;}};FPSnt,video.webkitDroppedFrameCount);}}};return FPSController;}(event_handler);var fps_controller=fps_controller_FPSController;function xhr_loader__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var xhr_loader__window=window,xhr_loader_performance=xhr_loader__window.performance,XMLHttpRequest=xhr_loader__window.XMLHttpRequest;var xhr_loader_XhrLoader=function(){function XhrLoader(config){xhr_loader__classCallCheck(this,XhrLoader);if(config&&config.xhrSetup){this.xhrSetup=config.xroy(){this.abort();this.loetryTimeout);this.retryTimeout=null;};XhrLoader.prototype.load=function load(context,config,callbacks){this.context=context;this.config=config;this.callbacks=callbacks;this.stats={trequest:xhr_loader_performance.now(),retry:0};this.retryDelay=config.retryDelay;this.loadInternal();};XhrLoader.prototype.loadInternal=function loadInternal(){var xhr=void 0,context=this.context;xhr=this.loader=new XMLHttpRequest();var stats=this.stats;stats.tfirst=0;stats.loaded=0;var xhrSetup=this.xhrSetup;try{if(xhrSetup){try{xhrSetup(xhr,context.url);}catch(e){xhr.open('GET',context.url,true);xhrSetup(xhr,context.url);}}if(!xhr.readyState){xhr.open('GET',context.url,true);}}catch(e){this.callbacks.onError({code:xhr.status,text:e.message},context,xhr);return;}if(context.rangeEnd){xhr.setRequestHeader('Range','bytes='+context.rangeStart+'-'+(context.rangeEnd-1));}xhr.onreadystatechange=this.readystatechange.bind(this);xhr.onprogress=this.loadprogress.bind(this);xhr.responseType=context.responseType;this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout);xhr.send();};XhrLoader.prototype.readystatechange=function readystatechange(event){var xhr=event.currentTarget,readyState=xhr.readyState,stats=this.stats,context=this.context,config=this.config;if(stats.aborted){return;}if(readyState>=2){window.clearTimeout(this.requestTimeout);if(stats.tfirst===0){stats.tfirst=Math.max(xhr_loader_performance.now(),stats.trequest);}if(readyState===4){var status=xhr.status;if(status>=200&&status<300){stats.tload=Math.max(stats.tfirst,xhr_loader_performance.now());var data=void 0,len=void 0;if(context.responseType==='arraybuffer'){data=xhr.response;len=data.byteLength;}else{data=xhr.responseText;len=data.length;}stats.loaded=stats.total=len;var response={url:xhr.responseURL,data:data};this.callbacks.onSuccess(response,stats,context,xhr);}else{if(stats.retry>=config.maxRetry||status>=400&&status<499){logger["b"].error(status+' while loading '+context.url);this.callbacks.onError({code:status,text:xhr.statusText},context,xhr);}else{logger["b"].warn(status+' while loading '+context.url+', retrying in '+this.retryDelay+'...');this.destroy();this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay);this.retryDelay=Math.min(2*this.retryDelay,config.maxRetryDelay);stats.retry++;}}}else{this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),config.timeoutmeout(this.stats,this.context,nulgress(stats,this.context,null,xhr);}};return XhrLoader;}();var xhr_loader=xhr_loader_XhrLoader;var empty=__webpack_require__(3);var empty_default=__webpack_require__.n(eindow.navigator);}else{return null;}}();var hlsDefaultConfig={autoStartLoad:true,startPosition:-1,defaultAudioCodec:undefined,debug:false,capLevelOnFPSDrop:false,capLevelToPlayerSize:false,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:60*1000*1000,maxBufferHole:0.5,lowBufferWatchdogPeriod:0.5,highBufferWatchdogPeriod:3,nudgeOffset:0.1,nudgeMaxRetry:3,maxFragLookUpTolerance:0.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:Infinity,liveSyncDuration:undefined,liveMaxLatencyDuration:undefined,liveDurationInfinity:false,maxMaxBufferLength:600,enableWorker:true,enableSoftwareAES:true,manifestLoadingTimeOut:10000,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1000,manifestLoadingMaxRetryTimeout:64000,startLevel:undefined,levelLoadingTimeOut:10000,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1000,levelLoadingMaxRetryTimeout:64000,fragLoadingTimeOut:20000,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1000,fragLoadingMaxRetryTimeout:64000,startFragPrefetch:false,fpsDroppedMonitoringPeriod:5000,fpsDroppedMonitoringThreshold:0.2,appendErrorMaxRetry:3,loader:xhr_loader,fLoader:undefined,pLoader:undefined,xhrSetup:undefined,licenseXhrSetup:undefined,abrController:abr_controller,bufferController:buffer_controller,capLevelController:cap_level_controller,fpsController:fps_controller,stretchShortVideoTrack:false,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:true,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:0.95,abrBandWidthUpFactor:0.7,abrMaxWithRealBitrate:false,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:false,widevineLicenseUrl:undefined,requestMediaKeySystemAccessFunc:requestMediaKeySystemAccess};if(false){hlsDefaultConfig.subtitleStreamController=SubtitleStreamController;hlsDefaultConfig.subtitleTrackController=SubtitleTrackController;hlsDefaultConfig.timelineController=TimelineController;hlsDefaultConfig.cueHandler=Cues;hlsDefaultConfig.enableCEA708Captions=true;hlsDefaultConfig.enableWebVTT=true;hlsDefaultConfig.captionsTextTrack1Label='English';hlsDefaultConfig.captionsTextTrack1LanguageCode='en';hlsDefaultConfig.captionsTextTrack2Label='Spanish';hlsDefaultConfig.captionsTextTrack2LanguageCode='es';}if(false){hlsDefaultConfig.audioStreamController=AudioStreamController;hlsDefaultConfig.audioTrackController=AudioTrackController;}if(false){hlsDefaultConfig.emeController=EMEController;}var hls__createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function hls__classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}__webpack_require__(13);var hls_Hls=function(){Hls.isSupported=function isSupported(){return is_supported_isSupported();};hls__cre',get:function get(){return"0.10.0";}},{key:'Events',get:function get(){return events["a"];}},{key:'ErrorTypes',get:function get(){return errors["b"];}},{key:'ErrorDetails',get:function get(){return erultConfig;}return Hls.defaultConfig;},set:function set(defaultConfig){Hls.defaultConfig=defaultConfig;}}]);function Hls(){var _this=this;var config=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};hls__classCallCheck(this,Hls);var defaultConfig=Hls.DefaultConfig;if((config.liveSyncDurationCount||config.liveMaxLatencyDurationCount)&&(config.liveSyncDuration||config.liveMaxLatencyDuration)){throw new Error('Illegal hls.js config: don\'t mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration');}for(var prop in defaultConfig){if(prop in config)continue;config[prop]=defaultConfig[prop];}if(config.liveMaxLatencyDurationCount!==undefined&&config.liveMaxLatencyDurationCount<=config.liveSyncDurationCount){throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');}if(config.liveMaxLatencyDuration!==undefined&&(config.liveMaxLatencyDuration<=config.liveSyncDuration||config.liveSyncDuration===undefined)){throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');}Object(logger["a"])(config.debug);this.config=config;this._autoLevelCapping=-1;var observer=this.observer=new events_default.a();observer.trigger=function trigger(event){for(var _len=arguments.length,data=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){data[_key-1]=arguments[_key];}observer.emit.apply(observer,[event,event].concat(data));};observer.off=function off(event){for(var _len2=arguments.length,data=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){data[_key2-1]=arguments[_key2];}observer.removeListener.apply(observer,[event].concat(data));};this.on=observer.on.bind(observer);this.off=observer.off.bind(observer);this.once=observer.once.bind(observer);this.trigger=observer.trigger.bind(observer);var abrController=this.abrController=new config.abrController(this);var bufferController=new config.bufferController(this);var capLevelController=new config.capLevelController(this);var fpsController=new config.fpsController(this);var playListLoader=new playlist_loader(this);var fragmentLoader=new fragment_loader(this);var keyLoader=new key_loader(this);var id3TrackController=new id3_track_controller(this);var levelController=this.levelController=new level_controller(this);var fragmentTracker=new fragment_tracker_FragmentTracker(this);var streamController=this.streamController=new stream_controller(this,fragmentTracker);var networkControllers=[levelController,streamController];var Controller=config.audioStreamController;if(Controller){networkControllers.push(new Controller(this,fragmentTracker));}this.networkControllers=networkControllers;var coreComponents=[playListLoader,fragmentLoader,keyLoader,abrController,bufferController,capLevelController,fpsController,id3TrackController,fragmentTracker];Controller=config.audioTrackController;if(Controller){var audioTrackController=new Controller(this);this.audioTrackController=audioTrackController;coreComponents.push(audioTrackController);}Controller=config.subtitleTrackController;if(Controller){var subtitleTrackController=new Controller(this);this.subtitleTrackController=subtitleTrackController;coreComponents.push(subtitleTrackController);}Controller=config.emeController;if(Controller){var emeController=new Controller(this);this.emeController=emeController;coreComponents.push(emeController);}[config.subtitleStreamController,config.timelineController].forEach(function(Controller){if(Controller){coreComponents.push(new Controller(_this));}});this.coreComponents=coreComponents;}Hls.prototype.destroy=function destroy(){logger["b"].log('destroy');this.trigger(events["a"].DESTROYING);this.detachMedia();this.coreComponents.concat(this.networkControllers).forEach(function(component){component.destroy();});this.url=null;this.observer.removeAllListeners();this._autoLevelC"a"].MEDIA_ATTACHING,{medi"].MEDIA_DETACHING);this.media=null;};Hls.prototype.loadSource=function loadSource(url){url=url_toolkit_default.a.buildAbsoluteURL(window.location.href,url,{alwaysNormalize:true});logger["b"].log('loadSource:'+url);this.url=url;this.trigger(events["a"].MANIFEST_LOADING,{url:url});};Hls.prototype.startLoad=function startLoad(){var startPosition=arguments.length>0&&arguments[0]!==undefined?arguments[0]:-1;logger["b"].log('startLoad('+startPosition+')');this.networkControllers.forEach(function(controller){controller.startLoad(startontroller){controller.stopLoas.streamController.swapAudioCodec();};Hls.prototype.recoverMediaError=function recoverMediaError(){logger["b"].log('recoverMediaError');var media=this.media;this.detachMedia();this.attachMedia(media);};hls__createClass(Hls,[{key:'levels',get:function get(){return this.levelController.levels;}},{key:'currentLevel',get:function get(){return thiamController.immediateLevelSwitch();}},{key:'nextLevel',get:function get(){return .streamController.nextLevelSwitch();}},{key:'loadLevel',get:function get(){return this.levelController.level;},set:function set(newLevel){logger["b"].log('set loadLevel:'+newLevel);this.levelController.manualLevel=newLevel;}},{key:'nextLoadLevel',get:function get(){return thilevelController.nextLoaollelevelController.firstLevel=newLevel;}},{key:'startLevel',get:function get(){return this.levelController.startLevel;},set:function set(newLevel){logger["b"].log('set startLevel:'+newLevel);var hls=this;if(newLevel!==-1){newLevel=Math.max(newLevel,hls.minAutoLevel);}hls.levelController.startLevel=neget(el);this._autoLevelCapping=neis.levelController.manualLevel===-1;}},{key:'manualLevel',get:function get(){return this.levelController.manualLevel;}},{key:'minAutoLevel',get:function get(){var hls=this,levels=hls.levels,minAutoBitrate=hls.config.minAutoBitrate,len=levels?levels.length:0;for(var i=0;i<len;i++){var levelNextBitrate=levels[i].realBitrate?Math.max(levels[i].realBitrate,levels[i].bitrate):levels[i].bitrate;if(levelNextBitrate>minAutoBitrate){return i;}}return 0;}},{key:'maxAutoLevel',get:function get(){var hls=this;var levels=hls.levels;var autoLevelCapping=hls.autoLevelCapping;var maxAutoLevel=void 0;if(autoLevelCapping===-1&&levels&&levels.length){maxAutoLevel=levels.length-1;}else{maxAutoLevel=autoLevelCapping;}return maxhls.ath.max(hls.minAutoLevel,nextLevel);}},{key:'audioTracks',get:function get(){var audioTrackController=this.audioTrackController;return audioTrackController?audioTrackController.audioTracks:[];}},{key:'audioTrack',get:function get(){var audioTrackController=this.audioTrackController;return audioTrackController?audioTrackController.audioTrack:-1;},set:function set(audioTrackId){var audioTrackController=this.audioTrackController;if(audioTrackController){audioTrackController.audioTrack=audioTrs.streamController.liveSyncleTrackController.subtitletleTrackController.subtitleTrack:-1;},set:function set(subtitleTrackId){var subtitleTrackController=this.subtitleTrackController;if(subtitleTrackController){subtitleTrackController.subtitleTrack=subtitleTackCckController.subtitleDisplay=value;}}}]);return Hls;}();var src_hls=__webpack_exports__["default"]=hls_Hls;},function(module,exports,__webpack_require__){function webpackBootstrapmodule.l=true;return module.exports;}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.i=function(value){return value;};__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter});}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default'];}:function getModuleExports(){return module;};__webpack_require__.d(getter,'a',getter);return getter;};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property);};__webpack_rn(err){console.error(err);throw err;};var f=__webpack_require__(__webpack_require__.s=ENTRY_MODULE);return f.default||f;}var moduleNameReqExp='[\\.|\\-|\\+|\\w|\/|@]+';var dependencyRegExp='\\((\/\\*.*?\\*\/lace(/[.?*+^$[\]\\(){}|-]/g,'\\$&');}function getModuleDependencies(sources,module,queueName){var retval={};retval[queueName]=[];var fnString=module.toString();var wrapperSignature=fnString.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!wrapperSignature)return retval;var webpackRequireName=wrapperSignature[1];var re=new RegExp('(\\\\n|\\W)'+quoteRegExp(webpackRequireName)+dependencyRegExp,'g');var match;while(match=re.exec(fnString)){if(match[3]==='dll-reference')continue;retval[queueName].push(match[3]);}re=new RegExp('\\('+quoteRegExp(webpackRequireName)+'\\("(dll-reference\\s('+moduleNameReqExp+'))"\\)\\)'+dependencyRegExp,'g');while(match=re.exec(fnString)){if(!sources[match[2]]){retval[queueName].push(match[1]);sources[match[2]]=__webpack_require__(match[1]).m;}retval[match[2]]=retval[match[2]]||[];retval[mateys[j]]);}}}return requiredModules;}module.exports=function(moduleId,options){options=options||{};var sources={main:__webpack_require__.m};var requiredModules=options.all?{main:Object.keys(sources)}:getRequiredModules(sources,moduleId);var src='ilter(funid].toString();}).join(',')+'});\n';});src=src+'('+webpackBootstrapFunc.toString().replace('ENTRY_MODULE',JSON.stringify(modud)+': '+sources.main[id].toString();}).join(',')+'})(self);';var blob=new window.Blob([src],{type:'text/javascript'});if(options.bare){return blob;}var URL=window.URL||window.webkitURL||window.mozURL||window.msURL;var workerUrl=URL.createObjectURL(blob);var worker=new window.Worker(workerUrl);worker.objectURL=workerUrl;return worker;};},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:true});var __WEBPACK_IMPORTED_MODULE_0__demux_demuxer_inline__=__webpack_require__(9);var __WEBPACK_IMPORTED_MODULE_1__events__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_2__utils_logger__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_3_events__=__webpack_require__(6);var __WEBPACK_IMPORTED_MODULE_3_events___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_events__);var DemuxerWorker=function DemuxerWorker(self){var observer=new __WEBPACK_IMPORTED_MODULE_3_events___default.a();observer.trigger=function trigger(event){for(var _len=arguments.length,data=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){data[_key-1]=arguments[_key];}observer.emit.apply(observer,[event,event].concat(data));};observer.off=function off(event){for(var _len2=arguments.length,data=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){data[_key2-1]=arguments[_key2];}observer.removeListener.apply(observer,[evenf.postMessage({event:ev,data:data});};self.addEventListener('message',function(ev){var data=ev.data;switch(data.cmd){case'init':var config=JSON.parse(data.config);self.demuxer=new __WEBPACK_IMPORTED_MODULE_0__demux_demuxer_inline__["a"](observer,data.typeSupported,config,data.vendor);try{Object(__WEBPACK_IMPORTED_MODULE_2__utils_logger__["a"])(config.debug===true);}catch(err){console.warn('demuxerWorker: unable to enable logs');}forwardMessage('init',null);break;case'demux':self.demuxer.push(data.data,data.decryptdata,data.initSegment,data.audioCodec,data.videoCodec,data.timeOffset,data.discontinuity,data.trackSwitch,data.contiguous,data.duration,data.accurateTimeOffset,data.defaultInitPTS);break;default:break;}});observer.on(__WEBPACK_IMPORTED_MODULE_1__events__["a"].FRAG_DECRYPTED,forwardMessage);observer.on(__WEBPACK_IMPORTED_MODULE_1__events__["a"].FRAG_PARSING_INIT_SEGMENT,forwardMessage);observer.on(__WEBPACK_IMPORTED_MODULE_1__events__["a"].FRAG_PARSED,forwardMessage);observer.on(__WEBPACK_IMPORTED_MODULE_1__events__["a"].ERROR,forwardMessage);observer.on(__WEBPACK_IMPORTED_MODULE_1__events__["a"].FRAG_PARSING_METADATA,forwardMessage);observer.on(__WEBPACK_IMPORTED_MODULE_1__events__["a"].FRAG_PARSING_USERDATA,forwardMessage);observer.on(__WEBPACK_IMPORTED_MODULE_1__events__["a"].INIT_PTS_FOUND,forwardMessage);observer.on(__WEBPACK_IMPORTED_MODUf.postMessage(message,transferable);});};__webpack_exports__["default"]=DemuxerWorker;},function(module,exports){if(!String.prototype.endsWith){(functoperty;}catch(error){}return result;}();(index)){return false;}}return true;};if(defineProperty){defineProperty(String.prototype,'endsWith',{'value':endsWith,'configurable':true,'writable':true});}else{String.prototype.endsWith=endsWith;}})();}}])["default"];});
    window.carodaHls = {
      Hls: window.Hls,
      MediaSource: window.MediaSource,
      SourceBuffer: window.SourceBuffer
    }
    window.Hls = window._Hls
    window.MediaSource = window._MediaSource
    window.SourceBuffer = window._SourceBuffer
  })()
  
  ;(function(){var VAST_PLAYER_SCRIPT="<!doctype html><html><head><title>Caroda Content Player Frame</title><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><style>.video-js .vjs-audio-button,.video-js .vjs-big-play-button,.video-js .vjs-captions-button,.video-js .vjs-chapters-button,.video-js .vjs-control.vjs-close-button,.video-js .vjs-descriptions-button,.video-js .vjs-fullscreen-control,.video-js .vjs-mouse-display,.video-js .vjs-mute-control,.video-js .vjs-mute-control.vjs-vol-0,.video-js .vjs-mute-control.vjs-vol-1,.video-js .vjs-mute-control.vjs-vol-2,.video-js .vjs-play-control,.video-js .vjs-play-control.vjs-playing,.video-js .vjs-play-progress,.video-js .vjs-subtitles-button,.video-js .vjs-volume-level,.video-js .vjs-volume-menu-button,.video-js .vjs-volume-menu-button.vjs-vol-0,.video-js .vjs-volume-menu-button.vjs-vol-1,.video-js .vjs-volume-menu-button.vjs-vol-2,.video-js.vjs-fullscreen .vjs-fullscreen-control,.vjs-icon-audio,.vjs-icon-audio-description,.vjs-icon-cancel,.vjs-icon-captions,.vjs-icon-chapters,.vjs-icon-circle,.vjs-icon-circle-inner-circle,.vjs-icon-circle-outline,.vjs-icon-cog,.vjs-icon-facebook,.vjs-icon-fullscreen-enter,.vjs-icon-fullscreen-exit,.vjs-icon-gplus,.vjs-icon-hd,.vjs-icon-linkedin,.vjs-icon-pause,.vjs-icon-pinterest,.vjs-icon-play,.vjs-icon-play-circle,.vjs-icon-replay,.vjs-icon-spinner,.vjs-icon-square,.vjs-icon-subtitles,.vjs-icon-tumblr,.vjs-icon-twitter,.vjs-icon-volume-high,.vjs-icon-volume-low,.vjs-icon-volume-mid,.vjs-icon-volume-mute{font-family:VideoJS;font-weight:400;font-style:normal}.video-js,.vjs-no-js{color:#fff;background-color:#000}.video-js .vjs-big-play-button:before,.video-js .vjs-control,.video-js .vjs-control:before,.vjs-menu li,.vjs-no-js{text-align:center}.video-js .vjs-big-play-button:before,.video-js .vjs-control:before,.video-js .vjs-modal-dialog,.vjs-modal-dialog .vjs-modal-dialog-content{position:absolute;top:0;left:0;width:100%;height:100%}@font-face{font-family:VideoJS;src:url(font/VideoJS.eot?#iefix) format(\"eot\")}@font-face{font-family:VideoJS;src:url(data:application/font-woff;charset=utf-8;base64,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) format(\"woff\"),url(data:application/x-font-ttf;charset=utf-8;base64,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FjY3PgE3LgEnIwYfAR4BFw4BBTM/ARUzESMGAyUVJwMchM2UWwgNq4JHrQgBAapUaAoJcWMBfiIhDiMrAQJLMB0BBAokNAIBPmMiIQ4iLAECSzAeAQUKJDQBP2MiIQ4iLAECSzAeAQUKJDQBAT75g+5B4arNLNIBJ44ByQL9BQ9mvYCKwA8FBQMDwwJVTGdzBf6VB8IHNR08lld9uT4LCRA/qGNxvUwHNR08lld9uT4LCRA/qGNxvUwHNR08lld9uT4LCRA/qGNxvVJkAWUDDEf+tYP5AQAAAAEAAAAABiAGtgAbAAABBAADER4BFzMRITU2ADcWABcVIREzPgE3EQIAA4D+4v6FBwJ/X+D+1QYBJ97eAScG/tXgX38CB/6FBrUH/oX+4v32X38CAlWV3gEnBgb+2d6V/asCf18CCgEeAXsAAAAAEADGAAEAAAAAAAEABwAAAAEAAAAAAAIABwAHAAEAAAAAAAMABwAOAAEAAAAAAAQABwAVAAEAAAAAAAUACwAcAAEAAAAAAAYABwAnAAEAAAAAAAoAKwAuAAEAAAAAAAsAEwBZAAMAAQQJAAEADgBsAAMAAQQJAAIADgB6AAMAAQQJAAMADgCIAAMAAQQJAAQADgCWAAMAAQQJAAUAFgCkAAMAAQQJAAYADgC6AAMAAQQJAAoAVgDIAAMAAQQJAAsAJgEeVmlkZW9KU1JlZ3VsYXJWaWRlb0pTVmlkZW9KU1ZlcnNpb24gMS4wVmlkZW9KU0dlbmVyYXRlZCBieSBzdmcydHRmIGZyb20gRm9udGVsbG8gcHJvamVjdC5odHRwOi8vZm9udGVsbG8uY29tAFYAaQBkAGUAbwBKAFMAUgBlAGcAdQBsAGEAcgBWAGkAZABlAG8ASgBTAFYAaQBkAGUAbwBKAFMAVgBlAHIAcwBpAG8AbgAgADEALgAwAFYAaQBkAGUAbwBKAFMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAgAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfAAABAgEDAQQBBQEGAQcBCAEJAQoBCwEMAQ0BDgEPARABEQESARMBFAEVARYBFwEYARkBGgEbARwBHQEeAR8EcGxheQtwbGF5LWNpcmNsZQVwYXVzZQt2b2x1bWUtbXV0ZQp2b2x1bWUtbG93CnZvbHVtZS1taWQLdm9sdW1lLWhpZ2gQZnVsbHNjcmVlbi1lbnRlcg9mdWxsc2NyZWVuLWV4aXQGc3F1YXJlB3NwaW5uZXIJc3VidGl0bGVzCGNhcHRpb25zCGNoYXB0ZXJzBXNoYXJlA2NvZwZjaXJjbGUOY2lyY2xlLW91dGxpbmUTY2lyY2xlLWlubmVyLWNpcmNsZQJoZAZjYW5jZWwGcmVwbGF5CGZhY2Vib29rBWdwbHVzCGxpbmtlZGluB3R3aXR0ZXIGdHVtYmxyCXBpbnRlcmVzdBFhdWRpby1kZXNjcmlwdGlvbgVhdWRpbwAAAAAA) format(\"truetype\");font-weight:400;font-style:normal}.video-js .vjs-big-play-button:before,.video-js .vjs-play-control:before,.vjs-icon-play:before{content:\"\\f101\"}.vjs-icon-play-circle:before{content:\"\\f102\"}.video-js .vjs-play-control.vjs-playing:before,.vjs-icon-pause:before{content:\"\\f103\"}.video-js .vjs-mute-control.vjs-vol-0:before,.video-js .vjs-volume-menu-button.vjs-vol-0:before,.vjs-icon-volume-mute:before{content:\"\\f104\"}.video-js .vjs-mute-control.vjs-vol-1:before,.video-js .vjs-volume-menu-button.vjs-vol-1:before,.vjs-icon-volume-low:before{content:\"\\f105\"}.video-js .vjs-mute-control.vjs-vol-2:before,.video-js .vjs-volume-menu-button.vjs-vol-2:before,.vjs-icon-volume-mid:before{content:\"\\f106\"}.video-js .vjs-mute-control:before,.video-js .vjs-volume-menu-button:before,.vjs-icon-volume-high:before{content:\"\\f107\"}.video-js .vjs-fullscreen-control:before,.vjs-icon-fullscreen-enter:before{content:\"\\f108\"}.video-js.vjs-fullscreen .vjs-fullscreen-control:before,.vjs-icon-fullscreen-exit:before{content:\"\\f109\"}.vjs-icon-square:before{content:\"\\f10a\"}.vjs-icon-spinner:before{content:\"\\f10b\"}.video-js .vjs-subtitles-button:before,.vjs-icon-subtitles:before{content:\"\\f10c\"}.video-js .vjs-captions-button:before,.vjs-icon-captions:before{content:\"\\f10d\"}.video-js .vjs-chapters-button:before,.vjs-icon-chapters:before{content:\"\\f10e\"}.vjs-icon-share{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-share:before{content:\"\\f10f\"}.vjs-icon-cog:before{content:\"\\f110\"}.video-js .vjs-mouse-display:before,.video-js .vjs-play-progress:before,.video-js .vjs-volume-level:before,.vjs-icon-circle:before{content:\"\\f111\"}.vjs-icon-circle-outline:before{content:\"\\f112\"}.vjs-icon-circle-inner-circle:before{content:\"\\f113\"}.vjs-icon-hd:before{content:\"\\f114\"}.video-js .vjs-control.vjs-close-button:before,.vjs-icon-cancel:before{content:\"\\f115\"}.vjs-icon-replay:before{content:\"\\f116\"}.vjs-icon-facebook:before{content:\"\\f117\"}.vjs-icon-gplus:before{content:\"\\f118\"}.vjs-icon-linkedin:before{content:\"\\f119\"}.vjs-icon-twitter:before{content:\"\\f11a\"}.vjs-icon-tumblr:before{content:\"\\f11b\"}.vjs-icon-pinterest:before{content:\"\\f11c\"}.video-js .vjs-descriptions-button:before,.vjs-icon-audio-description:before{content:\"\\f11d\"}.video-js .vjs-audio-button:before,.vjs-icon-audio:before{content:\"\\f11e\"}.video-js{display:block;vertical-align:top;box-sizing:border-box;position:relative;padding:0;font-size:10px;line-height:1;font-weight:400;font-style:normal;font-family:Arial,Helvetica,sans-serif}.video-js:-moz-full-screen{position:absolute}.video-js:-webkit-full-screen{width:100%!important;height:100%!important}.video-js .vjs-tech,.video-js.vjs-fill{width:100%;height:100%}.video-js *,.video-js :after,.video-js :before{box-sizing:inherit}.video-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin:0}.vjs-error .vjs-error-display:before,.vjs-menu .vjs-menu-content,.vjs-no-js{font-family:Arial,Helvetica,sans-serif}.video-js.vjs-16-9,.video-js.vjs-4-3,.video-js.vjs-fluid{width:100%;max-width:100%;height:0}.video-js.vjs-16-9{padding-top:56.25%}.video-js.vjs-4-3{padding-top:75%}.video-js .vjs-tech{position:absolute;top:0;left:0}body.vjs-full-window{padding:0;margin:0;height:100%;overflow-y:auto}.vjs-full-window .video-js.vjs-fullscreen{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.video-js.vjs-fullscreen{width:100%!important;height:100%!important;padding-top:0!important}.video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-hidden{display:none!important}.vjs-disabled{opacity:.5;cursor:default}.video-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block!important;opacity:1;visibility:visible}.vjs-no-js{padding:20px;font-size:18px;width:300px;height:150px;margin:0 auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66a8cc}.video-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.5em;width:3em;display:block;position:absolute;top:10px;left:10px;padding:0;cursor:pointer;opacity:1;border:.06666em solid #fff;background-color:#2b333f;background-color:rgba(43,51,63,.7);-webkit-border-radius:.3em;-moz-border-radius:.3em;border-radius:.3em;-webkit-transition:all .4s;-moz-transition:all .4s;-o-transition:all .4s;transition:all .4s}.vjs-big-play-centered .vjs-big-play-button{top:50%;left:50%;margin-top:-.75em;margin-left:-1.5em}.video-js .vjs-big-play-button:focus,.video-js:hover .vjs-big-play-button{outline:0;border-color:#fff;background-color:#73859f;background-color:rgba(115,133,159,.5);-webkit-transition:all 0s;-moz-transition:all 0s;-o-transition:all 0s;transition:all 0s}.vjs-controls-disabled .vjs-big-play-button,.vjs-error .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button{display:block}.video-js button{background:0 0;border:none;color:inherit;display:inline-block;overflow:visible;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.video-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:.5em;z-index:2}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;overflow:auto}.vjs-scrubbing .vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{list-style:none;margin:0;padding:.2em 0;line-height:1.4em;font-size:1.2em;text-transform:lowercase}.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover{outline:0;background-color:#73859f;background-color:rgba(115,133,159,.5)}.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2b333f}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em;font-weight:700;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0;margin-bottom:1.5em;border-top-color:rgba(43,51,63,.7)}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:#2b333f;background-color:rgba(43,51,63,.7);position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-menu-button-popup .vjs-menu.vjs-lock-showing,.vjs-workinghover .vjs-menu-button-popup:hover .vjs-menu{display:block}.video-js .vjs-menu-button-inline{-webkit-transition:all .4s;-moz-transition:all .4s;-o-transition:all .4s;transition:all .4s;overflow:hidden}.video-js .vjs-menu-button-inline:before{width:2.222222222em}.video-js .vjs-menu-button-inline.vjs-slider-active,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline:hover,.video-js.vjs-no-flex .vjs-menu-button-inline{width:12em}.video-js .vjs-menu-button-inline.vjs-slider-active{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;-webkit-transition:all .4s;-moz-transition:all .4s;-o-transition:all .4s;transition:all .4s}.vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline:hover .vjs-menu{display:block;opacity:1}.vjs-no-flex .vjs-menu-button-inline .vjs-menu{display:block;opacity:1;position:relative;width:auto}.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu{width:auto}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.video-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.vjs-has-started .vjs-control-bar{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;visibility:visible;opacity:1;-webkit-transition:visibility .1s,opacity .1s;-moz-transition:visibility .1s,opacity .1s;-o-transition:visibility .1s,opacity .1s;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;-webkit-transition:visibility 1s,opacity 1s;-moz-transition:visibility 1s,opacity 1s;-o-transition:visibility 1s,opacity 1s;transition:visibility 1s,opacity 1s}.vjs-controls-disabled .vjs-control-bar,.vjs-error .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar{display:none!important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible}.vjs-has-started.vjs-no-flex .vjs-control-bar{display:table}.video-js .vjs-control{outline:0;position:relative;margin:0;padding:0;height:100%;width:4em;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none}.video-js .vjs-control:before{font-size:1.8em;line-height:1.67}.video-js .vjs-control:focus,.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before{text-shadow:0 0 1em #fff}.video-js .vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.vjs-no-flex .vjs-control{display:table-cell;vertical-align:middle}.video-js .vjs-custom-control-spacer{display:none}.video-js .vjs-progress-control{-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;min-width:4em}.vjs-live .vjs-progress-control{display:none}.video-js .vjs-progress-holder{-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto;-webkit-transition:all .2s;-moz-transition:all .2s;-o-transition:all .2s;transition:all .2s;height:.3em}.video-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.666666666666666666em}.video-js .vjs-progress-control:hover .vjs-mouse-display:after,.video-js .vjs-progress-control:hover .vjs-play-progress:after,.video-js .vjs-progress-control:hover .vjs-time-tooltip{font-family:Arial,Helvetica,sans-serif;visibility:visible;font-size:.6em}.video-js .vjs-progress-holder .vjs-load-progress,.video-js .vjs-progress-holder .vjs-load-progress div,.video-js .vjs-progress-holder .vjs-play-progress,.video-js .vjs-progress-holder .vjs-tooltip-progress-bar{position:absolute;display:block;height:100%;margin:0;padding:0;width:0;left:0;top:0}.video-js .vjs-mouse-display:before,.video-js .vjs-progress-control .vjs-keep-tooltips-inside:after{display:none}.video-js .vjs-play-progress{background-color:#fff}.video-js .vjs-play-progress:before{position:absolute;top:-.333333333333333em;right:-.5em;font-size:.9em}.video-js .vjs-mouse-display:after,.video-js .vjs-play-progress:after,.video-js .vjs-time-tooltip{visibility:hidden;pointer-events:none;position:absolute;top:-3.4em;right:-1.9em;font-size:.9em;color:#000;content:attr(data-current-time);padding:6px 8px 8px;background-color:#fff;background-color:rgba(255,255,255,.8);-webkit-border-radius:.3em;-moz-border-radius:.3em;border-radius:.3em}.video-js .vjs-play-progress:after,.video-js .vjs-play-progress:before,.video-js .vjs-time-tooltip{z-index:1}.video-js .vjs-load-progress{background:#bfc7d3;background:rgba(115,133,159,.5)}.video-js .vjs-load-progress div{background:#fff;background:rgba(115,133,159,.75)}.video-js.vjs-no-flex .vjs-progress-control{width:auto}.video-js .vjs-time-tooltip{display:inline-block;height:2.4em;position:relative;float:right;right:-1.9em}.vjs-tooltip-progress-bar{visibility:hidden}.video-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.vjs-no-flex .vjs-progress-control .vjs-mouse-display{z-index:0}.video-js .vjs-progress-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display,.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display:after{visibility:hidden;opacity:0;-webkit-transition:visibility 1s,opacity 1s;-moz-transition:visibility 1s,opacity 1s;-o-transition:visibility 1s,opacity 1s;transition:visibility 1s,opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display,.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display:after{display:none}.video-js .vjs-progress-control .vjs-mouse-display:after,.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.video-js .vjs-slider{outline:0;position:relative;cursor:pointer;padding:0;margin:0 .45em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#73859f;background-color:rgba(115,133,159,.5)}.video-js .vjs-slider:focus{text-shadow:0 0 1em #fff;-webkit-box-shadow:0 0 1em #fff;-moz-box-shadow:0 0 1em #fff;box-shadow:0 0 1em #fff}.video-js .vjs-mute-control,.video-js .vjs-volume-menu-button{cursor:pointer;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none}.video-js .vjs-volume-control{width:5em;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.video-js .vjs-volume-bar{margin:1.35em .45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:.3em}.vjs-volume-bar.vjs-slider-vertical{width:.3em;height:5em;margin:1.35em auto}.video-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.video-js .vjs-volume-level:before{position:absolute;font-size:.9em}.vjs-slider-vertical .vjs-volume-level{width:.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-.5em;left:-.3em}.vjs-slider-horizontal .vjs-volume-level{height:.3em}.vjs-slider-horizontal .vjs-volume-level:before{top:-.3em;right:-.5em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.vjs-menu-button-popup.vjs-volume-menu-button .vjs-menu{display:block;width:0;height:0;border-top-color:transparent}.vjs-menu-button-popup.vjs-volume-menu-button-vertical .vjs-menu{left:.5em;height:8em}.vjs-menu-button-popup.vjs-volume-menu-button-horizontal .vjs-menu{left:-2em}.vjs-menu-button-popup.vjs-volume-menu-button .vjs-menu-content{height:0;width:0;overflow-x:hidden;overflow-y:hidden}.vjs-volume-menu-button-vertical .vjs-lock-showing .vjs-menu-content,.vjs-volume-menu-button-vertical.vjs-slider-active .vjs-menu-content,.vjs-volume-menu-button-vertical:focus .vjs-menu-content,.vjs-volume-menu-button-vertical:hover .vjs-menu-content{height:8em;width:2.9em}.vjs-volume-menu-button-horizontal .vjs-lock-showing .vjs-menu-content,.vjs-volume-menu-button-horizontal .vjs-slider-active .vjs-menu-content,.vjs-volume-menu-button-horizontal:focus .vjs-menu-content,.vjs-volume-menu-button-horizontal:hover .vjs-menu-content{height:2.9em;width:8em}.vjs-volume-menu-button.vjs-menu-button-inline .vjs-menu-content{background-color:transparent!important}.vjs-poster{display:inline-block;vertical-align:middle;background-repeat:no-repeat;background-position:50% 50%;background-size:contain;background-color:#000;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%}.vjs-poster img{display:block;vertical-align:middle;margin:0 auto;max-height:100%;padding:0;width:100%}.vjs-has-started .vjs-poster{display:none}.vjs-audio.vjs-has-started .vjs-poster{display:block}.vjs-using-native-controls .vjs-poster{display:none}.video-js .vjs-live-control{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:flex-start;-webkit-align-items:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto;font-size:1em;line-height:3em}.vjs-no-flex .vjs-live-control{display:table-cell;width:auto;text-align:left}.video-js .vjs-current-time,.video-js .vjs-duration,.vjs-live .vjs-time-control,.vjs-live .vjs-time-divider,.vjs-no-flex .vjs-current-time,.vjs-no-flex .vjs-duration{display:none}.video-js .vjs-time-control{-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.vjs-time-divider{display:none;line-height:3em}.video-js .vjs-play-control{cursor:pointer;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.video-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:.1em;background-color:#000;background-color:rgba(0,0,0,.5)}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{-moz-transform:translateY(-3em);-ms-transform:translateY(-3em);-o-transform:translateY(-3em);-webkit-transform:translateY(-3em);transform:translateY(-3em)}.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{-moz-transform:translateY(-1.5em);-ms-transform:translateY(-1.5em);-o-transform:translateY(-1.5em);-webkit-transform:translateY(-1.5em);transform:translateY(-1.5em)}.video-js .vjs-fullscreen-control{cursor:pointer;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none}.vjs-playback-rate .vjs-playback-rate-value{font-size:1.5em;line-height:2;position:absolute;top:0;left:0;width:100%;height:100%;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-error .vjs-error-display:before{color:#fff;content:'X';font-size:4em;left:0;line-height:1;margin-top:-.5em;position:absolute;text-shadow:.05em .05em .1em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;margin:-25px 0 0 -25px;opacity:.85;text-align:left;border:6px solid rgba(43,51,63,.7);box-sizing:border-box;background-clip:padding-box;width:50px;height:50px;border-radius:25px}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:block}.vjs-loading-spinner:after,.vjs-loading-spinner:before{content:\"\";position:absolute;margin:-6px;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:#fff transparent transparent}.vjs-seeking .vjs-loading-spinner:after,.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before{-webkit-animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite;animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:#fff;-webkit-animation-delay:.44s;animation-delay:.44s}@keyframes vjs-spinner-spin{100%{transform:rotate(360deg)}}@-webkit-keyframes vjs-spinner-spin{100%{-webkit-transform:rotate(360deg)}}@keyframes vjs-spinner-fade{0%,100%,20%,60%{border-top-color:#73859f}35%{border-top-color:#fff}}@-webkit-keyframes vjs-spinner-fade{0%,100%,20%,60%{border-top-color:#73859f}35%{border-top-color:#fff}}.vjs-chapters-button .vjs-menu ul{width:24em}.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-custom-control-spacer{-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto}.video-js.vjs-layout-tiny:not(.vjs-fullscreen).vjs-no-flex .vjs-custom-control-spacer{width:auto}.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-captions-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-chapters-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-current-time,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-descriptions-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-duration,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-mute-control,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-playback-rate,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-remaining-time,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-subtitles-button .vjs-audio-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-time-divider,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-volume-control,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-audio-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-captions-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-chapters-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-current-time,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-descriptions-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-duration,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-mute-control,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-playback-rate,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-progress-control,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-remaining-time,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-subtitles-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-time-divider,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-volume-control,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-volume-menu-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-audio-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-captions-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-chapters-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-current-time,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-descriptions-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-duration,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-mute-control,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-playback-rate,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-remaining-time,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-subtitles-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-time-divider,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-volume-control,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-volume-menu-button{display:none}.vjs-caption-settings{position:relative;top:1em;background-color:#2b333f;background-color:rgba(43,51,63,.75);color:#fff;margin:0 auto;padding:.5em;height:16em;font-size:12px;width:40em}.vjs-caption-settings .vjs-tracksettings{top:0;bottom:1em;left:0;right:0;position:absolute;overflow:auto}.vjs-caption-settings .vjs-tracksettings-colors,.vjs-caption-settings .vjs-tracksettings-font{float:left}.vjs-caption-settings .vjs-tracksettings-colors:after,.vjs-caption-settings .vjs-tracksettings-controls:after,.vjs-caption-settings .vjs-tracksettings-font:after{clear:both}.vjs-caption-settings .vjs-tracksettings-controls{position:absolute;bottom:1em;right:1em}.vjs-caption-settings .vjs-tracksetting{margin:5px;padding:3px;min-height:40px;border:none}.vjs-caption-settings .vjs-tracksetting label,.vjs-caption-settings .vjs-tracksetting legend{display:block;width:100px;margin-bottom:5px}.vjs-caption-settings .vjs-tracksetting span{display:inline;margin-left:5px;vertical-align:top;float:right}.vjs-caption-settings .vjs-tracksetting>div{margin-bottom:5px;min-height:20px}.vjs-caption-settings .vjs-tracksetting>div:last-child{margin-bottom:0;padding-bottom:0;min-height:0}.vjs-caption-settings label>input{margin-right:10px}.vjs-caption-settings fieldset{margin-top:1em;margin-left:.5em}.vjs-caption-settings fieldset .vjs-label{position:absolute;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}.vjs-caption-settings input[type=button]{width:40px;height:40px}.video-js .vjs-modal-dialog{background:rgba(0,0,0,.8);background:-webkit-linear-gradient(-90deg,rgba(0,0,0,.8),rgba(255,255,255,0));background:linear-gradient(180deg,rgba(0,0,0,.8),rgba(255,255,255,0))}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}@media print{.video-js>:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}@media \\0screen{.vjs-user-inactive.vjs-playing .vjs-control-bar :before{content:\"\"}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:hidden}}body,html{height:100%;margin:0;padding:0;overflow:hidden;font-family:arial,sans-serif;background:rgba(0,0,0,0)!important}.player{width:100%;height:100%}*{outline:0}.video-js{background:rgba(0,0,0,0)!important}.caroda-content-fullscreen{position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important}.caroda-content-fullscreen .vjs-fullscreen-control:before{content:\"\\e902\"!important}.caroda-content-fullscreen .video-js{position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important}.video-js .vjs-tech{object-fit:contain}.video-js .vjs-poster{background-size:cover}.video-js .vjs-big-play-button,.video-js .vjs-fullscreen-control,.video-js .vjs-play-control,.video-js .vjs-volume-menu-button{font-family:Caroda!important}.video-js .vjs-big-play-button{color:#04b2d3;height:3em;line-height:3em;border:0;border-radius:50%;background:rgba(21,49,56,.75)}.video-js .vjs-big-play-button:before{font-size:1.5em;padding-left:.2em;content:\"\\e904\"}.video-js:hover .vjs-big-play-button{background:rgba(21,49,56,.85)}.video-js.vjs-big-play-centered .vjs-big-play-button{margin-top:-1.5em}.video-js .vjs-play-control{color:#fff;width:7em}.video-js .vjs-play-control:after{content:\" \";background:rgba(94,135,145,.8);position:absolute;right:0;width:1px;height:20px;top:13px}.video-js.vjs-paused .vjs-play-control:before{content:\"\\e904\"}.video-js:not(.vjs-paused) .vjs-play-control:before{font-family:VideoJS;font-size:24px!important}.video-js .vjs-control-bar{height:42px;background:rgba(21,49,56,.75);transition:opacity .6s ease-in-out!important}.video-js .vjs-control-bar .vjs-control:before{line-height:38px;margin-top:4px}.video-js .vjs-control-bar .vjs-control:focus,.video-js .vjs-control-bar .vjs-control:focus:before,.video-js .vjs-control-bar .vjs-control:hover:before{text-shadow:0 0 4px #04b2d3}.video-js .vjs-control-bar .vjs-progress-control{position:absolute;width:100%;top:0;left:0}.video-js .vjs-control-bar .vjs-progress-control,.video-js .vjs-control-bar .vjs-progress-control .vjs-load-progress,.video-js .vjs-control-bar .vjs-progress-control .vjs-load-progress>div,.video-js .vjs-control-bar .vjs-progress-control .vjs-play-progress,.video-js .vjs-control-bar .vjs-progress-control .vjs-progress-holder{height:4px!important}.video-js .vjs-control-bar .vjs-progress-control .vjs-progress-holder{background:rgba(94,135,145,.8);margin:0}.video-js .vjs-control-bar .vjs-progress-control .vjs-play-progress{background:#04b2d3}.video-js .vjs-control-bar .vjs-progress-control .vjs-play-progress:before{color:#f5a03e}.video-js .vjs-control-bar .vjs-progress-control .vjs-load-progress>div{background:#5e8791}.video-js .vjs-control-bar .vjs-fullscreen-control{color:#fff;position:absolute;top:4px;right:0;width:7em}.video-js .vjs-control-bar .vjs-fullscreen-control:after{content:\" \";background:rgba(94,135,145,.8);position:absolute;left:0;width:1px;height:20px;top:9px}.video-js .vjs-control-bar .vjs-fullscreen-control:before{top:-4px;content:\"\\e903\"}.video-js .vjs-control-bar .vjs-remaining-time{position:absolute;right:78px;line-height:38px;margin-top:4px;font-size:1.2em}.video-js .vjs-control-bar .vjs-volume-menu-button{color:#fff;display:block;width:42px;position:absolute;top:0;overflow:visible;left:86px}.video-js .vjs-control-bar .vjs-volume-menu-button:before{font-size:18px;content:\"\\e907\"}.video-js .vjs-control-bar .vjs-volume-menu-button.vjs-vol-3:before{content:\"\\e906\"}.video-js .vjs-control-bar .vjs-volume-menu-button.vjs-vol-0:before{content:\"\\e905\"}.video-js .vjs-control-bar .vjs-volume-menu-button .vjs-menu{display:block;opacity:1;left:44px;top:21px}.video-js .vjs-control-bar .vjs-volume-menu-button .vjs-menu .vjs-volume-bar{width:60px;height:4px;margin:0;background:#5e8791}.video-js .vjs-control-bar .vjs-volume-menu-button .vjs-menu .vjs-volume-bar .vjs-volume-level{background:#04b2d3}.video-js .vjs-control-bar .vjs-volume-level{height:6px!important}.video-js .vjs-control-bar .vjs-captions-button,.video-js .vjs-control-bar .vjs-subtitles-button{display:none!important}.video-js .vjs-control-bar .vjs-volume-menu-button{display:block!important}.video-js .vjs-control-bar .vjs-volume-level:before{display:none}.audio>.video-js.vjs-has-started>.vjs-poster{display:inline-block}.short>.video-js{background-color:#fff}.short>.video-js.vjs-16-9{padding-top:50px}.short>.video-js .vjs-control-bar{display:block;visibility:visible!important;opacity:1!important;height:50px}.short>.video-js .vjs-control-bar .vjs-control{margin-top:8px}.short>.video-js .vjs-fullscreen-control{display:none}.short>.video-js .vjs-remaining-time{top:0;right:10px;pointer-events:none}.short>.video-js .vjs-remaining-time .vjs-remaining-time-display{margin-top:4px}.short>.video-js .vjs-current-time{display:block;position:absolute;top:0;right:55px;line-height:38px;pointer-events:none}.short>.video-js .vjs-current-time .vjs-current-time-display{margin-top:4px;font-size:1.2em}.short>.video-js .vjs-current-time:after{content:\"/\";position:absolute;top:5px;right:1px}.short>.video-js .vjs-loading-spinner{display:none!important}.short>.video-js .vjs-progress-control{width:calc(100% - 12px);left:6px}.short>.video-js .vjs-progress-control:hover .vjs-mouse-display:after,.short>.video-js .vjs-progress-control:hover .vjs-play-progress:after,.short>.video-js .vjs-progress-control:hover .vjs-time-tooltip{display:none}.mobile>.video-js .vjs-control-bar .vjs-control:not(.vjs-progress-control){width:6em}.mobile>.video-js .vjs-control-bar .vjs-control:before{font-size:1.8em;line-height:38px}.mobile>.video-js .vjs-control-bar .vjs-control.vjs-remaining-time{display:block;right:50px}.mobile>.video-js .vjs-control-bar .vjs-time-control{font-size:1.6em;margin-left:.7em}.mobile>.video-js .vjs-control-bar .vjs-volume-menu-button{margin-right:1em;left:73px}.mobile>.video-js .vjs-control-bar .vjs-time-control,.mobile>.video-js .vjs-control-bar .vjs-volume-menu-button .vjs-volume-bar{display:none}.mobile>.video-js .vjs-control-bar .vjs-play-progress:after,.mobile>.video-js .vjs-control-bar .vjs-play-progress:before,.mobile>.video-js .vjs-control-bar .vjs-time-tooltip{transform:scale(2.3)}.mobile>.video-js .vjs-control-bar .vjs-progress-control:hover .vjs-mouse-display{display:none}@media only screen and (max-width:400px){:not(.short):not(.mobile)>.video-js .vjs-control-bar{height:25px}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-control:before{font-size:13px;line-height:22px}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-play-control{width:4em}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-play-control:after{height:10px;top:10px}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-fullscreen-control{width:4em}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-fullscreen-control:after{height:10px;top:6px}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-volume-menu-button{left:43px}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-volume-menu-button .vjs-menu{left:29px;top:13px}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-remaining-time{right:39px}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-remaining-time .vjs-remaining-time-display{line-height:22px}}@font-face{font-family:Caroda;src:url(data:application/x-font-ttf;base64,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) format(\"truetype\");font-weight:400;font-style:normal}.show-play-unmuted .autoplay-muted-indication{display:block}.show-play-unmuted:hover .vjs-big-play-button{display:block!important}.show-play-unmuted:hover .vjs-big-play-button:before{content:\"\\e906\";padding-left:.1em}.autoplay-muted-indication{display:none;position:absolute;top:0;left:0;right:0;height:100%;opacity:0;background:rgba(180,240,255,.3);transition:opacity .6s ease-in-out!important}.autoplay-muted-indication:hover{opacity:1;cursor:pointer}</style></head><body><div class=\"player\"></div><script>window.HELP_IMPROVE_VIDEOJS = false;\n    setUpHls()\n\n    function setUpHls() {\n        window.Hls = window.parent.window.carodaHls.Hls;\n        window.MediaSource = window.parent.window.carodaHls.MediaSource;\n        window.SourceBuffer = window.parent.window.carodaHls.SourceBuffer;\n    }</script><script>var runtime=function(exports){\"use strict\";var Op=Object.prototype;var hasOwn=Op.hasOwnProperty;var undefined;var $Symbol=typeof Symbol===\"function\"?Symbol:{};var iteratorSymbol=$Symbol.iterator||\"@@iterator\";var asyncIteratorSymbol=$Symbol.asyncIterator||\"@@asyncIterator\";var toStringTagSymbol=$Symbol.toStringTag||\"@@toStringTag\";function define(obj,key,value){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});return obj[key];}try{define({},\"\");}catch(err){define=function(obj,key,value){return obj[key]=value;};}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator;var generator=Object.create(protoGenerator.prototype);var context=new Context(tryLocsList||[]);generator._invoke=makeInvokeMethod(innerFn,self,context);return generator;}exports.wrap=wrap;function tryCatch(fn,obj,arg){try{return{type:\"normal\",arg:fn.call(obj,arg)};}catch(err){return{type:\"throw\",arg:err};}}var GenStateSuspendedStart=\"suspendedStart\";var GenStateSuspendedYield=\"suspendedYield\";var GenStateExecuting=\"executing\";var GenStateCompleted=\"completed\";var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,function(){return this;});var getProto=Object.getPrototypeOf;var NativeIteratorPrototype=getProto&&getProto(getProto(values([])));if(NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)){IteratorPrototype=NativeIteratorPrototype;}var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=GeneratorFunctionPrototype;define(Gp,\"constructor\",GeneratorFunctionPrototype);define(GeneratorFunctionPrototype,\"constructor\",GeneratorFunction);GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,\"GeneratorFunction\");function defineIteratorMethods(prototype){[\"next\",\"throw\",\"return\"].forEach(function(method){define(prototype,method,function(arg){return this._invoke(method,arg);});});}exports.isGeneratorFunction=function(genFun){var ctor=typeof genFun===\"function\"&&genFun.constructor;return ctor?ctor===GeneratorFunction||(ctor.displayName||ctor.name)===\"GeneratorFunction\":false;};exports.mark=function(genFun){if(Object.setPrototypeOf){Object.setPrototypeOf(genFun,GeneratorFunctionPrototype);}else{genFun.__proto__=GeneratorFunctionPrototype;define(genFun,toStringTagSymbol,\"GeneratorFunction\");}genFun.prototype=Object.create(Gp);return genFun;};exports.awrap=function(arg){return{__await:arg};};function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if(record.type===\"throw\"){reject(record.arg);}else{var result=record.arg;var value=result.value;if(value&&typeof value===\"object\"&&hasOwn.call(value,\"__await\")){return PromiseImpl.resolve(value.__await).then(function(value){invoke(\"next\",value,resolve,reject);},function(err){invoke(\"throw\",err,resolve,reject);});}return PromiseImpl.resolve(value).then(function(unwrapped){result.value=unwrapped;resolve(result);},function(error){return invoke(\"throw\",error,resolve,reject);});}}var previousPromise;function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl(function(resolve,reject){invoke(method,arg,resolve,reject);});}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg();}this._invoke=enqueue;}defineIteratorMethods(AsyncIterator.prototype);define(AsyncIterator.prototype,asyncIteratorSymbol,function(){return this;});exports.AsyncIterator=AsyncIterator;exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){if(PromiseImpl===void 0)PromiseImpl=Promise;var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next();});};function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function invoke(method,arg){if(state===GenStateExecuting){throw new Error(\"Generator is already running\");}if(state===GenStateCompleted){if(method===\"throw\"){throw arg;}return doneResult();}context.method=method;context.arg=arg;while(true){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult;}}if(context.method===\"next\"){context.sent=context._sent=context.arg;}else if(context.method===\"throw\"){if(state===GenStateSuspendedStart){state=GenStateCompleted;throw context.arg;}context.dispatchException(context.arg);}else if(context.method===\"return\"){context.abrupt(\"return\",context.arg);}state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if(record.type===\"normal\"){state=context.done?GenStateCompleted:GenStateSuspendedYield;if(record.arg===ContinueSentinel){continue;}return{value:record.arg,done:context.done};}else if(record.type===\"throw\"){state=GenStateCompleted;context.method=\"throw\";context.arg=record.arg;}}};}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){context.delegate=null;if(context.method===\"throw\"){if(delegate.iterator[\"return\"]){context.method=\"return\";context.arg=undefined;maybeInvokeDelegate(delegate,context);if(context.method===\"throw\"){return ContinueSentinel;}}context.method=\"throw\";context.arg=new TypeError(\"The iterator does not provide a 'throw' method\");}return ContinueSentinel;}var record=tryCatch(method,delegate.iterator,context.arg);if(record.type===\"throw\"){context.method=\"throw\";context.arg=record.arg;context.delegate=null;return ContinueSentinel;}var info=record.arg;if(!info){context.method=\"throw\";context.arg=new TypeError(\"iterator result is not an object\");context.delegate=null;return ContinueSentinel;}if(info.done){context[delegate.resultName]=info.value;context.next=delegate.nextLoc;if(context.method!==\"return\"){context.method=\"next\";context.arg=undefined;}}else{return info;}context.delegate=null;return ContinueSentinel;}defineIteratorMethods(Gp);define(Gp,toStringTagSymbol,\"Generator\");define(Gp,iteratorSymbol,function(){return this;});define(Gp,\"toString\",function(){return\"[object Generator]\";});function pushTryEntry(locs){var entry={tryLoc:locs[0]};if(1 in locs){entry.catchLoc=locs[1];}if(2 in locs){entry.finallyLoc=locs[2];entry.afterLoc=locs[3];}this.tryEntries.push(entry);}function resetTryEntry(entry){var record=entry.completion||{};record.type=\"normal\";delete record.arg;entry.completion=record;}function Context(tryLocsList){this.tryEntries=[{tryLoc:\"root\"}];tryLocsList.forEach(pushTryEntry,this);this.reset(true);}exports.keys=function(object){var keys=[];for(var key in object){keys.push(key);}keys.reverse();return function next(){while(keys.length){var key=keys.pop();if(key in object){next.value=key;next.done=false;return next;}}next.done=true;return next;};};function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod){return iteratorMethod.call(iterable);}if(typeof iterable.next===\"function\"){return iterable;}if(!isNaN(iterable.length)){var i=-1,next=function next(){while(++i<iterable.length){if(hasOwn.call(iterable,i)){next.value=iterable[i];next.done=false;return next;}}next.value=undefined;next.done=true;return next;};return next.next=next;}}return{next:doneResult};}exports.values=values;function doneResult(){return{value:undefined,done:true};}Context.prototype={constructor:Context,reset:function(skipTempReset){this.prev=0;this.next=0;this.sent=this._sent=undefined;this.done=false;this.delegate=null;this.method=\"next\";this.arg=undefined;this.tryEntries.forEach(resetTryEntry);if(!skipTempReset){for(var name in this){if(name.charAt(0)===\"t\"&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))){this[name]=undefined;}}}},stop:function(){this.done=true;var rootEntry=this.tryEntries[0];var rootRecord=rootEntry.completion;if(rootRecord.type===\"throw\"){throw rootRecord.arg;}return this.rval;},dispatchException:function(exception){if(this.done){throw exception;}var context=this;function handle(loc,caught){record.type=\"throw\";record.arg=exception;context.next=loc;if(caught){context.method=\"next\";context.arg=undefined;}return!!caught;}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];var record=entry.completion;if(entry.tryLoc===\"root\"){return handle(\"end\");}if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,\"catchLoc\");var hasFinally=hasOwn.call(entry,\"finallyLoc\");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true);}else if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc);}}else if(hasCatch){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true);}}else if(hasFinally){if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc);}}else{throw new Error(\"try statement without catch or finally\");}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,\"finallyLoc\")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break;}}if(finallyEntry&&(type===\"break\"||type===\"continue\")&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc){finallyEntry=null;}var record=finallyEntry?finallyEntry.completion:{};record.type=type;record.arg=arg;if(finallyEntry){this.method=\"next\";this.next=finallyEntry.finallyLoc;return ContinueSentinel;}return this.complete(record);},complete:function(record,afterLoc){if(record.type===\"throw\"){throw record.arg;}if(record.type===\"break\"||record.type===\"continue\"){this.next=record.arg;}else if(record.type===\"return\"){this.rval=this.arg=record.arg;this.method=\"return\";this.next=\"end\";}else if(record.type===\"normal\"&&afterLoc){this.next=afterLoc;}return ContinueSentinel;},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc){this.complete(entry.completion,entry.afterLoc);resetTryEntry(entry);return ContinueSentinel;}}},\"catch\":function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if(record.type===\"throw\"){var thrown=record.arg;resetTryEntry(entry);}return thrown;}}throw new Error(\"illegal catch attempt\");},delegateYield:function(iterable,resultName,nextLoc){this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc};if(this.method===\"next\"){this.arg=undefined;}return ContinueSentinel;}};return exports;}(typeof module===\"object\"?module.exports:{});try{regeneratorRuntime=runtime;}catch(accidentalStrictMode){if(typeof globalThis===\"object\"){globalThis.regeneratorRuntime=runtime;}else{Function(\"r\",\"regeneratorRuntime = r\")(runtime);}};/**\n * @license\n * Video.js 5.20.5 <http://videojs.com/>\n * Copyright Brightcove, Inc. <https://www.brightcove.com/>\n * Available under Apache License Version 2.0\n * <https://github.com/videojs/video.js/blob/master/LICENSE>\n *\n * Includes vtt.js <https://github.com/mozilla/vtt.js>\n * Available under Apache License Version 2.0\n * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>\n */(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f();}else if(typeof define===\"function\"&&define.amd){define([],f);}else{var g;if(typeof window!==\"undefined\"){g=window;}else if(typeof global!==\"undefined\"){g=global;}else if(typeof self!==\"undefined\"){g=self;}else{g=this;}g.videojs=f();}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f;}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e);},l,l.exports,e,t,n,r);}return n[o].exports;}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s;}({1:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _button=_dereq_(2);var _button2=_interopRequireDefault(_button);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var BigPlayButton=function(_Button){_inherits(BigPlayButton,_Button);function BigPlayButton(player,options){_classCallCheck(this,BigPlayButton);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));_this.mouseused_=false;_this.on('mousedown',_this.handleMouseDown);return _this;}BigPlayButton.prototype.buildCSSClass=function buildCSSClass(){return'vjs-big-play-button';};BigPlayButton.prototype.handleClick=function handleClick(event){var playPromise=this.player_.play();if(this.mouseused_&&event.clientX&&event.clientY){return;}var cb=this.player_.getChild('controlBar');var playToggle=cb&&cb.getChild('playToggle');if(!playToggle){this.player_.focus();return;}var playFocus=function playFocus(){return playToggle.focus();};if(playPromise&&playPromise.then){var ignoreRejectedPlayPromise=function ignoreRejectedPlayPromise(){};playPromise.then(playFocus,ignoreRejectedPlayPromise);}else{this.setTimeout(playFocus,1);}};BigPlayButton.prototype.handleKeyPress=function handleKeyPress(event){this.mouseused_=false;_Button.prototype.handleKeyPress.call(this,event);};BigPlayButton.prototype.handleMouseDown=function handleMouseDown(event){this.mouseused_=true;};return BigPlayButton;}(_button2['default']);BigPlayButton.prototype.controlText_='Play Video';_component2['default'].registerComponent('BigPlayButton',BigPlayButton);exports['default']=BigPlayButton;},{\"2\":2,\"5\":5}],2:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _clickableComponent=_dereq_(3);var _clickableComponent2=_interopRequireDefault(_clickableComponent);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _obj=_dereq_(88);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Button=function(_ClickableComponent){_inherits(Button,_ClickableComponent);function Button(){_classCallCheck(this,Button);return _possibleConstructorReturn(this,_ClickableComponent.apply(this,arguments));}Button.prototype.createEl=function createEl(){var tag=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'button';var props=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var attributes=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};props=(0,_obj.assign)({className:this.buildCSSClass()},props);if(tag!=='button'){_log2['default'].warn('Creating a Button with an HTML element of '+tag+' is deprecated; use ClickableComponent instead.');props=(0,_obj.assign)({tabIndex:0},props);attributes=(0,_obj.assign)({role:'button'},attributes);}attributes=(0,_obj.assign)({'type':'button','aria-live':'polite'},attributes);var el=_component2['default'].prototype.createEl.call(this,tag,props,attributes);this.createControlTextEl(el);return el;};Button.prototype.addChild=function addChild(child){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var className=this.constructor.name;_log2['default'].warn('Adding an actionable (user controllable) child to a Button ('+className+') is not supported; use a ClickableComponent instead.');return _component2['default'].prototype.addChild.call(this,child,options);};Button.prototype.enable=function enable(){_ClickableComponent.prototype.enable.call(this);this.el_.removeAttribute('disabled');};Button.prototype.disable=function disable(){_ClickableComponent.prototype.disable.call(this);this.el_.setAttribute('disabled','disabled');};Button.prototype.handleKeyPress=function handleKeyPress(event){if(event.which===32||event.which===13){return;}_ClickableComponent.prototype.handleKeyPress.call(this,event);};return Button;}(_clickableComponent2['default']);_component2['default'].registerComponent('Button',Button);exports['default']=Button;},{\"3\":3,\"5\":5,\"86\":86,\"88\":88}],3:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _events=_dereq_(82);var Events=_interopRequireWildcard(_events);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _obj=_dereq_(88);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ClickableComponent=function(_Component){_inherits(ClickableComponent,_Component);function ClickableComponent(player,options){_classCallCheck(this,ClickableComponent);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.emitTapEvents();_this.enable();return _this;}ClickableComponent.prototype.createEl=function createEl(){var tag=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'div';var props=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var attributes=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};props=(0,_obj.assign)({className:this.buildCSSClass(),tabIndex:0},props);if(tag==='button'){_log2['default'].error('Creating a ClickableComponent with an HTML element of '+tag+' is not supported; use a Button instead.');}attributes=(0,_obj.assign)({'role':'button','aria-live':'polite'},attributes);this.tabIndex_=props.tabIndex;var el=_Component.prototype.createEl.call(this,tag,props,attributes);this.createControlTextEl(el);return el;};ClickableComponent.prototype.createControlTextEl=function createControlTextEl(el){this.controlTextEl_=Dom.createEl('span',{className:'vjs-control-text'});if(el){el.appendChild(this.controlTextEl_);}this.controlText(this.controlText_,el);return this.controlTextEl_;};ClickableComponent.prototype.controlText=function controlText(text){var el=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.el();if(text===undefined){return this.controlText_||'Need Text';}var localizedText=this.localize(text);this.controlText_=text;this.controlTextEl_.innerHTML=localizedText;if(!this.nonIconControl){el.setAttribute('title',localizedText);}return this;};ClickableComponent.prototype.buildCSSClass=function buildCSSClass(){return'vjs-control vjs-button '+_Component.prototype.buildCSSClass.call(this);};ClickableComponent.prototype.enable=function enable(){this.removeClass('vjs-disabled');this.el_.setAttribute('aria-disabled','false');if(typeof this.tabIndex_!=='undefined'){this.el_.setAttribute('tabIndex',this.tabIndex_);}this.off(['tap','click'],this.handleClick);this.off('focus',this.handleFocus);this.off('blur',this.handleBlur);this.on(['tap','click'],this.handleClick);this.on('focus',this.handleFocus);this.on('blur',this.handleBlur);return this;};ClickableComponent.prototype.disable=function disable(){this.addClass('vjs-disabled');this.el_.setAttribute('aria-disabled','true');if(typeof this.tabIndex_!=='undefined'){this.el_.removeAttribute('tabIndex');}this.off(['tap','click'],this.handleClick);this.off('focus',this.handleFocus);this.off('blur',this.handleBlur);return this;};ClickableComponent.prototype.handleClick=function handleClick(event){};ClickableComponent.prototype.handleFocus=function handleFocus(event){Events.on(_document2['default'],'keydown',Fn.bind(this,this.handleKeyPress));};ClickableComponent.prototype.handleKeyPress=function handleKeyPress(event){if(event.which===32||event.which===13){event.preventDefault();this.handleClick(event);}else if(_Component.prototype.handleKeyPress){_Component.prototype.handleKeyPress.call(this,event);}};ClickableComponent.prototype.handleBlur=function handleBlur(event){Events.off(_document2['default'],'keydown',Fn.bind(this,this.handleKeyPress));};return ClickableComponent;}(_component2['default']);_component2['default'].registerComponent('ClickableComponent',ClickableComponent);exports['default']=ClickableComponent;},{\"5\":5,\"81\":81,\"82\":82,\"83\":83,\"86\":86,\"88\":88,\"94\":94}],4:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _button=_dereq_(2);var _button2=_interopRequireDefault(_button);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var CloseButton=function(_Button){_inherits(CloseButton,_Button);function CloseButton(player,options){_classCallCheck(this,CloseButton);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));_this.controlText(options&&options.controlText||_this.localize('Close'));return _this;}CloseButton.prototype.buildCSSClass=function buildCSSClass(){return'vjs-close-button '+_Button.prototype.buildCSSClass.call(this);};CloseButton.prototype.handleClick=function handleClick(event){this.trigger({type:'close',bubbles:false});};return CloseButton;}(_button2['default']);_component2['default'].registerComponent('CloseButton',CloseButton);exports['default']=CloseButton;},{\"2\":2,\"5\":5}],5:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _guid=_dereq_(85);var Guid=_interopRequireWildcard(_guid);var _events=_dereq_(82);var Events=_interopRequireWildcard(_events);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _toTitleCase=_dereq_(91);var _toTitleCase2=_interopRequireDefault(_toTitleCase);var _mergeOptions=_dereq_(87);var _mergeOptions2=_interopRequireDefault(_mergeOptions);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var Component=function(){function Component(player,options,ready){_classCallCheck(this,Component);if(!player&&this.play){this.player_=player=this;}else{this.player_=player;}this.options_=(0,_mergeOptions2['default'])({},this.options_);options=this.options_=(0,_mergeOptions2['default'])(this.options_,options);this.id_=options.id||options.el&&options.el.id;if(!this.id_){var id=player&&player.id&&player.id()||'no_player';this.id_=id+'_component_'+Guid.newGUID();}this.name_=options.name||null;if(options.el){this.el_=options.el;}else if(options.createEl!==false){this.el_=this.createEl();}this.children_=[];this.childIndex_={};this.childNameIndex_={};if(options.initChildren!==false){this.initChildren();}this.ready(ready);if(options.reportTouchActivity!==false){this.enableTouchActivity();}}Component.prototype.dispose=function dispose(){this.trigger({type:'dispose',bubbles:false});if(this.children_){for(var i=this.children_.length-1;i>=0;i--){if(this.children_[i].dispose){this.children_[i].dispose();}}}this.children_=null;this.childIndex_=null;this.childNameIndex_=null;this.off();if(this.el_.parentNode){this.el_.parentNode.removeChild(this.el_);}Dom.removeElData(this.el_);this.el_=null;};Component.prototype.player=function player(){return this.player_;};Component.prototype.options=function options(obj){_log2['default'].warn('this.options() has been deprecated and will be moved to the constructor in 6.0');if(!obj){return this.options_;}this.options_=(0,_mergeOptions2['default'])(this.options_,obj);return this.options_;};Component.prototype.el=function el(){return this.el_;};Component.prototype.createEl=function createEl(tagName,properties,attributes){return Dom.createEl(tagName,properties,attributes);};Component.prototype.localize=function localize(string){var code=this.player_.language&&this.player_.language();var languages=this.player_.languages&&this.player_.languages();if(!code||!languages){return string;}var language=languages[code];if(language&&language[string]){return language[string];}var primaryCode=code.split('-')[0];var primaryLang=languages[primaryCode];if(primaryLang&&primaryLang[string]){return primaryLang[string];}return string;};Component.prototype.contentEl=function contentEl(){return this.contentEl_||this.el_;};Component.prototype.id=function id(){return this.id_;};Component.prototype.name=function name(){return this.name_;};Component.prototype.children=function children(){return this.children_;};Component.prototype.getChildById=function getChildById(id){return this.childIndex_[id];};Component.prototype.getChild=function getChild(name){if(!name){return;}name=(0,_toTitleCase2['default'])(name);return this.childNameIndex_[name];};Component.prototype.addChild=function addChild(child){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var index=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.children_.length;var component=void 0;var componentName=void 0;if(typeof child==='string'){componentName=(0,_toTitleCase2['default'])(child);if(!options){options={};}if(options===true){_log2['default'].warn('Initializing a child component with `true` is deprecated.'+'Children should be defined in an array when possible, '+'but if necessary use an object instead of `true`.');options={};}var componentClassName=options.componentClass||componentName;options.name=componentName;var ComponentClass=Component.getComponent(componentClassName);if(!ComponentClass){throw new Error('Component '+componentClassName+' does not exist');}if(typeof ComponentClass!=='function'){return null;}component=new ComponentClass(this.player_||this,options);}else{component=child;}this.children_.splice(index,0,component);if(typeof component.id==='function'){this.childIndex_[component.id()]=component;}componentName=componentName||component.name&&(0,_toTitleCase2['default'])(component.name());if(componentName){this.childNameIndex_[componentName]=component;}if(typeof component.el==='function'&&component.el()){var childNodes=this.contentEl().children;var refNode=childNodes[index]||null;this.contentEl().insertBefore(component.el(),refNode);}return component;};Component.prototype.removeChild=function removeChild(component){if(typeof component==='string'){component=this.getChild(component);}if(!component||!this.children_){return;}var childFound=false;for(var i=this.children_.length-1;i>=0;i--){if(this.children_[i]===component){childFound=true;this.children_.splice(i,1);break;}}if(!childFound){return;}this.childIndex_[component.id()]=null;this.childNameIndex_[component.name()]=null;var compEl=component.el();if(compEl&&compEl.parentNode===this.contentEl()){this.contentEl().removeChild(component.el());}};Component.prototype.initChildren=function initChildren(){var _this=this;var children=this.options_.children;if(children){var parentOptions=this.options_;var handleAdd=function handleAdd(child){var name=child.name;var opts=child.opts;if(parentOptions[name]!==undefined){opts=parentOptions[name];}if(opts===false){return;}if(opts===true){opts={};}opts.playerOptions=_this.options_.playerOptions;var newChild=_this.addChild(name,opts);if(newChild){_this[name]=newChild;}};var workingChildren=void 0;var Tech=Component.getComponent('Tech');if(Array.isArray(children)){workingChildren=children;}else{workingChildren=Object.keys(children);}workingChildren.concat(Object.keys(this.options_).filter(function(child){return!workingChildren.some(function(wchild){if(typeof wchild==='string'){return child===wchild;}return child===wchild.name;});})).map(function(child){var name=void 0;var opts=void 0;if(typeof child==='string'){name=child;opts=children[name]||_this.options_[name]||{};}else{name=child.name;opts=child;}return{name:name,opts:opts};}).filter(function(child){var c=Component.getComponent(child.opts.componentClass||(0,_toTitleCase2['default'])(child.name));return c&&!Tech.isTech(c);}).forEach(handleAdd);}};Component.prototype.buildCSSClass=function buildCSSClass(){return'';};Component.prototype.on=function on(first,second,third){var _this2=this;if(typeof first==='string'||Array.isArray(first)){Events.on(this.el_,first,Fn.bind(this,second));}else{var target=first;var type=second;var fn=Fn.bind(this,third);var removeOnDispose=function removeOnDispose(){return _this2.off(target,type,fn);};removeOnDispose.guid=fn.guid;this.on('dispose',removeOnDispose);var cleanRemover=function cleanRemover(){return _this2.off('dispose',removeOnDispose);};cleanRemover.guid=fn.guid;if(first.nodeName){Events.on(target,type,fn);Events.on(target,'dispose',cleanRemover);}else if(typeof first.on==='function'){target.on(type,fn);target.on('dispose',cleanRemover);}}return this;};Component.prototype.off=function off(first,second,third){if(!first||typeof first==='string'||Array.isArray(first)){Events.off(this.el_,first,second);}else{var target=first;var type=second;var fn=Fn.bind(this,third);this.off('dispose',fn);if(first.nodeName){Events.off(target,type,fn);Events.off(target,'dispose',fn);}else{target.off(type,fn);target.off('dispose',fn);}}return this;};Component.prototype.one=function one(first,second,third){var _this3=this,_arguments=arguments;if(typeof first==='string'||Array.isArray(first)){Events.one(this.el_,first,Fn.bind(this,second));}else{var target=first;var type=second;var fn=Fn.bind(this,third);var newFunc=function newFunc(){_this3.off(target,type,newFunc);fn.apply(null,_arguments);};newFunc.guid=fn.guid;this.on(target,type,newFunc);}return this;};Component.prototype.trigger=function trigger(event,hash){Events.trigger(this.el_,event,hash);return this;};Component.prototype.ready=function ready(fn){var sync=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(fn){if(this.isReady_){if(sync){fn.call(this);}else{this.setTimeout(fn,1);}}else{this.readyQueue_=this.readyQueue_||[];this.readyQueue_.push(fn);}}return this;};Component.prototype.triggerReady=function triggerReady(){this.isReady_=true;this.setTimeout(function(){var readyQueue=this.readyQueue_;this.readyQueue_=[];if(readyQueue&&readyQueue.length>0){readyQueue.forEach(function(fn){fn.call(this);},this);}this.trigger('ready');},1);};Component.prototype.$=function $(selector,context){return Dom.$(selector,context||this.contentEl());};Component.prototype.$$=function $$(selector,context){return Dom.$$(selector,context||this.contentEl());};Component.prototype.hasClass=function hasClass(classToCheck){return Dom.hasElClass(this.el_,classToCheck);};Component.prototype.addClass=function addClass(classToAdd){Dom.addElClass(this.el_,classToAdd);return this;};Component.prototype.removeClass=function removeClass(classToRemove){Dom.removeElClass(this.el_,classToRemove);return this;};Component.prototype.toggleClass=function toggleClass(classToToggle,predicate){Dom.toggleElClass(this.el_,classToToggle,predicate);return this;};Component.prototype.show=function show(){this.removeClass('vjs-hidden');return this;};Component.prototype.hide=function hide(){this.addClass('vjs-hidden');return this;};Component.prototype.lockShowing=function lockShowing(){this.addClass('vjs-lock-showing');return this;};Component.prototype.unlockShowing=function unlockShowing(){this.removeClass('vjs-lock-showing');return this;};Component.prototype.getAttribute=function getAttribute(attribute){return Dom.getAttribute(this.el_,attribute);};Component.prototype.setAttribute=function setAttribute(attribute,value){Dom.setAttribute(this.el_,attribute,value);return this;};Component.prototype.removeAttribute=function removeAttribute(attribute){Dom.removeAttribute(this.el_,attribute);return this;};Component.prototype.width=function width(num,skipListeners){return this.dimension('width',num,skipListeners);};Component.prototype.height=function height(num,skipListeners){return this.dimension('height',num,skipListeners);};Component.prototype.dimensions=function dimensions(width,height){return this.width(width,true).height(height);};Component.prototype.dimension=function dimension(widthOrHeight,num,skipListeners){if(num!==undefined){if(num===null||num!==num){num=0;}if((''+num).indexOf('%')!==-1||(''+num).indexOf('px')!==-1){this.el_.style[widthOrHeight]=num;}else if(num==='auto'){this.el_.style[widthOrHeight]='';}else{this.el_.style[widthOrHeight]=num+'px';}if(!skipListeners){this.trigger('resize');}return this;}if(!this.el_){return 0;}var val=this.el_.style[widthOrHeight];var pxIndex=val.indexOf('px');if(pxIndex!==-1){return parseInt(val.slice(0,pxIndex),10);}return parseInt(this.el_['offset'+(0,_toTitleCase2['default'])(widthOrHeight)],10);};Component.prototype.currentDimension=function currentDimension(widthOrHeight){var computedWidthOrHeight=0;if(widthOrHeight!=='width'&&widthOrHeight!=='height'){throw new Error('currentDimension only accepts width or height value');}if(typeof _window2['default'].getComputedStyle==='function'){var computedStyle=_window2['default'].getComputedStyle(this.el_);computedWidthOrHeight=computedStyle.getPropertyValue(widthOrHeight)||computedStyle[widthOrHeight];}computedWidthOrHeight=parseFloat(computedWidthOrHeight);if(computedWidthOrHeight===0){var rule='offset'+(0,_toTitleCase2['default'])(widthOrHeight);computedWidthOrHeight=this.el_[rule];}return computedWidthOrHeight;};Component.prototype.currentDimensions=function currentDimensions(){return{width:this.currentDimension('width'),height:this.currentDimension('height')};};Component.prototype.currentWidth=function currentWidth(){return this.currentDimension('width');};Component.prototype.currentHeight=function currentHeight(){return this.currentDimension('height');};Component.prototype.focus=function focus(){this.el_.focus();};Component.prototype.blur=function blur(){this.el_.blur();};Component.prototype.emitTapEvents=function emitTapEvents(){var touchStart=0;var firstTouch=null;var tapMovementThreshold=10;var touchTimeThreshold=200;var couldBeTap=void 0;this.on('touchstart',function(event){if(event.touches.length===1){firstTouch={pageX:event.touches[0].pageX,pageY:event.touches[0].pageY};touchStart=new Date().getTime();couldBeTap=true;}});this.on('touchmove',function(event){if(event.touches.length>1){couldBeTap=false;}else if(firstTouch){var xdiff=event.touches[0].pageX-firstTouch.pageX;var ydiff=event.touches[0].pageY-firstTouch.pageY;var touchDistance=Math.sqrt(xdiff*xdiff+ydiff*ydiff);if(touchDistance>tapMovementThreshold){couldBeTap=false;}}});var noTap=function noTap(){couldBeTap=false;};this.on('touchleave',noTap);this.on('touchcancel',noTap);this.on('touchend',function(event){firstTouch=null;if(couldBeTap===true){var touchTime=new Date().getTime()-touchStart;if(touchTime<touchTimeThreshold){event.preventDefault();this.trigger('tap');}}});};Component.prototype.enableTouchActivity=function enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity){return;}var report=Fn.bind(this.player(),this.player().reportUserActivity);var touchHolding=void 0;this.on('touchstart',function(){report();this.clearInterval(touchHolding);touchHolding=this.setInterval(report,250);});var touchEnd=function touchEnd(event){report();this.clearInterval(touchHolding);};this.on('touchmove',report);this.on('touchend',touchEnd);this.on('touchcancel',touchEnd);};Component.prototype.setTimeout=function setTimeout(fn,timeout){fn=Fn.bind(this,fn);var timeoutId=_window2['default'].setTimeout(fn,timeout);var disposeFn=function disposeFn(){this.clearTimeout(timeoutId);};disposeFn.guid='vjs-timeout-'+timeoutId;this.on('dispose',disposeFn);return timeoutId;};Component.prototype.clearTimeout=function clearTimeout(timeoutId){_window2['default'].clearTimeout(timeoutId);var disposeFn=function disposeFn(){};disposeFn.guid='vjs-timeout-'+timeoutId;this.off('dispose',disposeFn);return timeoutId;};Component.prototype.setInterval=function setInterval(fn,interval){fn=Fn.bind(this,fn);var intervalId=_window2['default'].setInterval(fn,interval);var disposeFn=function disposeFn(){this.clearInterval(intervalId);};disposeFn.guid='vjs-interval-'+intervalId;this.on('dispose',disposeFn);return intervalId;};Component.prototype.clearInterval=function clearInterval(intervalId){_window2['default'].clearInterval(intervalId);var disposeFn=function disposeFn(){};disposeFn.guid='vjs-interval-'+intervalId;this.off('dispose',disposeFn);return intervalId;};Component.registerComponent=function registerComponent(name,comp){if(!name){return;}name=(0,_toTitleCase2['default'])(name);if(!Component.components_){Component.components_={};}if(name==='Player'&&Component.components_[name]){var Player=Component.components_[name];if(Player.players&&Object.keys(Player.players).length>0&&Object.keys(Player.players).map(function(playerName){return Player.players[playerName];}).every(Boolean)){throw new Error('Can not register Player component after player has been created');}}Component.components_[name]=comp;return comp;};Component.getComponent=function getComponent(name){if(!name){return;}name=(0,_toTitleCase2['default'])(name);if(Component.components_&&Component.components_[name]){return Component.components_[name];}if(_window2['default']&&_window2['default'].videojs&&_window2['default'].videojs[name]){_log2['default'].warn('The '+name+' component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)');return _window2['default'].videojs[name];}};Component.extend=function extend(props){props=props||{};_log2['default'].warn('Component.extend({}) has been deprecated, '+' use videojs.extend(Component, {}) instead');var init=props.init||props.init||this.prototype.init||this.prototype.init||function(){};var subObj=function subObj(){init.apply(this,arguments);};subObj.prototype=Object.create(this.prototype);subObj.prototype.constructor=subObj;subObj.extend=Component.extend;for(var name in props){if(props.hasOwnProperty(name)){subObj.prototype[name]=props[name];}}return subObj;};return Component;}();Component.registerComponent('Component',Component);exports['default']=Component;},{\"81\":81,\"82\":82,\"83\":83,\"85\":85,\"86\":86,\"87\":87,\"91\":91,\"95\":95}],6:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _trackButton=_dereq_(36);var _trackButton2=_interopRequireDefault(_trackButton);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _audioTrackMenuItem=_dereq_(7);var _audioTrackMenuItem2=_interopRequireDefault(_audioTrackMenuItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var AudioTrackButton=function(_TrackButton){_inherits(AudioTrackButton,_TrackButton);function AudioTrackButton(player){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,AudioTrackButton);options.tracks=player.audioTracks&&player.audioTracks();var _this=_possibleConstructorReturn(this,_TrackButton.call(this,player,options));_this.el_.setAttribute('aria-label','Audio Menu');return _this;}AudioTrackButton.prototype.buildCSSClass=function buildCSSClass(){return'vjs-audio-button '+_TrackButton.prototype.buildCSSClass.call(this);};AudioTrackButton.prototype.createItems=function createItems(){var items=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];this.hideThreshold_=1;var tracks=this.player_.audioTracks&&this.player_.audioTracks();if(!tracks){return items;}for(var i=0;i<tracks.length;i++){var track=tracks[i];items.push(new _audioTrackMenuItem2['default'](this.player_,{track:track,selectable:true}));}return items;};return AudioTrackButton;}(_trackButton2['default']);AudioTrackButton.prototype.controlText_='Audio Track';_component2['default'].registerComponent('AudioTrackButton',AudioTrackButton);exports['default']=AudioTrackButton;},{\"36\":36,\"5\":5,\"7\":7}],7:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _menuItem=_dereq_(48);var _menuItem2=_interopRequireDefault(_menuItem);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var AudioTrackMenuItem=function(_MenuItem){_inherits(AudioTrackMenuItem,_MenuItem);function AudioTrackMenuItem(player,options){_classCallCheck(this,AudioTrackMenuItem);var track=options.track;var tracks=player.audioTracks();options.label=track.label||track.language||'Unknown';options.selected=track.enabled;var _this=_possibleConstructorReturn(this,_MenuItem.call(this,player,options));_this.track=track;if(tracks){var changeHandler=Fn.bind(_this,_this.handleTracksChange);tracks.addEventListener('change',changeHandler);_this.on('dispose',function(){tracks.removeEventListener('change',changeHandler);});}return _this;}AudioTrackMenuItem.prototype.handleClick=function handleClick(event){var tracks=this.player_.audioTracks();_MenuItem.prototype.handleClick.call(this,event);if(!tracks){return;}for(var i=0;i<tracks.length;i++){var track=tracks[i];track.enabled=track===this.track;}};AudioTrackMenuItem.prototype.handleTracksChange=function handleTracksChange(event){this.selected(this.track.enabled);};return AudioTrackMenuItem;}(_menuItem2['default']);_component2['default'].registerComponent('AudioTrackMenuItem',AudioTrackMenuItem);exports['default']=AudioTrackMenuItem;},{\"48\":48,\"5\":5,\"83\":83}],8:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);_dereq_(12);_dereq_(32);_dereq_(33);_dereq_(35);_dereq_(34);_dereq_(10);_dereq_(18);_dereq_(9);_dereq_(38);_dereq_(40);_dereq_(11);_dereq_(25);_dereq_(27);_dereq_(29);_dereq_(24);_dereq_(6);_dereq_(13);_dereq_(21);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ControlBar=function(_Component){_inherits(ControlBar,_Component);function ControlBar(){_classCallCheck(this,ControlBar);return _possibleConstructorReturn(this,_Component.apply(this,arguments));}ControlBar.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-control-bar',dir:'ltr'},{role:'group'});};return ControlBar;}(_component2['default']);ControlBar.prototype.options_={children:['playToggle','volumeMenuButton','currentTimeDisplay','timeDivider','durationDisplay','progressControl','liveDisplay','remainingTimeDisplay','customControlSpacer','playbackRateMenuButton','chaptersButton','descriptionsButton','subtitlesButton','captionsButton','audioTrackButton','fullscreenToggle']};_component2['default'].registerComponent('ControlBar',ControlBar);exports['default']=ControlBar;},{\"10\":10,\"11\":11,\"12\":12,\"13\":13,\"18\":18,\"21\":21,\"24\":24,\"25\":25,\"27\":27,\"29\":29,\"32\":32,\"33\":33,\"34\":34,\"35\":35,\"38\":38,\"40\":40,\"5\":5,\"6\":6,\"9\":9}],9:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _button=_dereq_(2);var _button2=_interopRequireDefault(_button);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var FullscreenToggle=function(_Button){_inherits(FullscreenToggle,_Button);function FullscreenToggle(player,options){_classCallCheck(this,FullscreenToggle);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));_this.on(player,'fullscreenchange',_this.handleFullscreenChange);return _this;}FullscreenToggle.prototype.buildCSSClass=function buildCSSClass(){return'vjs-fullscreen-control '+_Button.prototype.buildCSSClass.call(this);};FullscreenToggle.prototype.handleFullscreenChange=function handleFullscreenChange(event){if(this.player_.isFullscreen()){this.controlText('Non-Fullscreen');}else{this.controlText('Fullscreen');}};FullscreenToggle.prototype.handleClick=function handleClick(event){if(!this.player_.isFullscreen()){this.player_.requestFullscreen();}else{this.player_.exitFullscreen();}};return FullscreenToggle;}(_button2['default']);FullscreenToggle.prototype.controlText_='Fullscreen';_component2['default'].registerComponent('FullscreenToggle',FullscreenToggle);exports['default']=FullscreenToggle;},{\"2\":2,\"5\":5}],10:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var LiveDisplay=function(_Component){_inherits(LiveDisplay,_Component);function LiveDisplay(player,options){_classCallCheck(this,LiveDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.updateShowing();_this.on(_this.player(),'durationchange',_this.updateShowing);return _this;}LiveDisplay.prototype.createEl=function createEl(){var el=_Component.prototype.createEl.call(this,'div',{className:'vjs-live-control vjs-control'});this.contentEl_=Dom.createEl('div',{className:'vjs-live-display',innerHTML:'<span class=\"vjs-control-text\">'+this.localize('Stream Type')+'</span>'+this.localize('LIVE')},{'aria-live':'off'});el.appendChild(this.contentEl_);return el;};LiveDisplay.prototype.updateShowing=function updateShowing(event){if(this.player().duration()===Infinity){this.show();}else{this.hide();}};return LiveDisplay;}(_component2['default']);_component2['default'].registerComponent('LiveDisplay',LiveDisplay);exports['default']=LiveDisplay;},{\"5\":5,\"81\":81}],11:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _button=_dereq_(2);var _button2=_interopRequireDefault(_button);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var MuteToggle=function(_Button){_inherits(MuteToggle,_Button);function MuteToggle(player,options){_classCallCheck(this,MuteToggle);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));_this.on(player,'volumechange',_this.update);if(player.tech_&&player.tech_.featuresVolumeControl===false){_this.addClass('vjs-hidden');}_this.on(player,'loadstart',function(){this.update();if(player.tech_.featuresVolumeControl===false){this.addClass('vjs-hidden');}else{this.removeClass('vjs-hidden');}});return _this;}MuteToggle.prototype.buildCSSClass=function buildCSSClass(){return'vjs-mute-control '+_Button.prototype.buildCSSClass.call(this);};MuteToggle.prototype.handleClick=function handleClick(event){this.player_.muted(this.player_.muted()?false:true);};MuteToggle.prototype.update=function update(event){var vol=this.player_.volume();var level=3;if(this.player_.muted()){level=0;}else if(vol<0.33){level=1;}else if(vol<0.67){level=2;}var toMute=this.player_.muted()?'Unmute':'Mute';if(this.controlText()!==toMute){this.controlText(toMute);}for(var i=0;i<4;i++){Dom.removeElClass(this.el_,'vjs-vol-'+i);}Dom.addElClass(this.el_,'vjs-vol-'+level);};return MuteToggle;}(_button2['default']);MuteToggle.prototype.controlText_='Mute';_component2['default'].registerComponent('MuteToggle',MuteToggle);exports['default']=MuteToggle;},{\"2\":2,\"5\":5,\"81\":81}],12:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _button=_dereq_(2);var _button2=_interopRequireDefault(_button);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var PlayToggle=function(_Button){_inherits(PlayToggle,_Button);function PlayToggle(player,options){_classCallCheck(this,PlayToggle);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));_this.on(player,'play',_this.handlePlay);_this.on(player,'pause',_this.handlePause);return _this;}PlayToggle.prototype.buildCSSClass=function buildCSSClass(){return'vjs-play-control '+_Button.prototype.buildCSSClass.call(this);};PlayToggle.prototype.handleClick=function handleClick(event){if(this.player_.paused()){this.player_.play();}else{this.player_.pause();}};PlayToggle.prototype.handlePlay=function handlePlay(event){this.removeClass('vjs-paused');this.addClass('vjs-playing');this.controlText('Pause');};PlayToggle.prototype.handlePause=function handlePause(event){this.removeClass('vjs-playing');this.addClass('vjs-paused');this.controlText('Play');};return PlayToggle;}(_button2['default']);PlayToggle.prototype.controlText_='Play';_component2['default'].registerComponent('PlayToggle',PlayToggle);exports['default']=PlayToggle;},{\"2\":2,\"5\":5}],13:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _menuButton=_dereq_(47);var _menuButton2=_interopRequireDefault(_menuButton);var _menu=_dereq_(49);var _menu2=_interopRequireDefault(_menu);var _playbackRateMenuItem=_dereq_(14);var _playbackRateMenuItem2=_interopRequireDefault(_playbackRateMenuItem);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var PlaybackRateMenuButton=function(_MenuButton){_inherits(PlaybackRateMenuButton,_MenuButton);function PlaybackRateMenuButton(player,options){_classCallCheck(this,PlaybackRateMenuButton);var _this=_possibleConstructorReturn(this,_MenuButton.call(this,player,options));_this.updateVisibility();_this.updateLabel();_this.on(player,'loadstart',_this.updateVisibility);_this.on(player,'ratechange',_this.updateLabel);return _this;}PlaybackRateMenuButton.prototype.createEl=function createEl(){var el=_MenuButton.prototype.createEl.call(this);this.labelEl_=Dom.createEl('div',{className:'vjs-playback-rate-value',innerHTML:1.0});el.appendChild(this.labelEl_);return el;};PlaybackRateMenuButton.prototype.buildCSSClass=function buildCSSClass(){return'vjs-playback-rate '+_MenuButton.prototype.buildCSSClass.call(this);};PlaybackRateMenuButton.prototype.createMenu=function createMenu(){var menu=new _menu2['default'](this.player());var rates=this.playbackRates();if(rates){for(var i=rates.length-1;i>=0;i--){menu.addChild(new _playbackRateMenuItem2['default'](this.player(),{rate:rates[i]+'x'}));}}return menu;};PlaybackRateMenuButton.prototype.updateARIAAttributes=function updateARIAAttributes(){this.el().setAttribute('aria-valuenow',this.player().playbackRate());};PlaybackRateMenuButton.prototype.handleClick=function handleClick(event){var currentRate=this.player().playbackRate();var rates=this.playbackRates();var newRate=rates[0];for(var i=0;i<rates.length;i++){if(rates[i]>currentRate){newRate=rates[i];break;}}this.player().playbackRate(newRate);};PlaybackRateMenuButton.prototype.playbackRates=function playbackRates(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates;};PlaybackRateMenuButton.prototype.playbackRateSupported=function playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0;};PlaybackRateMenuButton.prototype.updateVisibility=function updateVisibility(event){if(this.playbackRateSupported()){this.removeClass('vjs-hidden');}else{this.addClass('vjs-hidden');}};PlaybackRateMenuButton.prototype.updateLabel=function updateLabel(event){if(this.playbackRateSupported()){this.labelEl_.innerHTML=this.player().playbackRate()+'x';}};return PlaybackRateMenuButton;}(_menuButton2['default']);PlaybackRateMenuButton.prototype.controlText_='Playback Rate';_component2['default'].registerComponent('PlaybackRateMenuButton',PlaybackRateMenuButton);exports['default']=PlaybackRateMenuButton;},{\"14\":14,\"47\":47,\"49\":49,\"5\":5,\"81\":81}],14:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _menuItem=_dereq_(48);var _menuItem2=_interopRequireDefault(_menuItem);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var PlaybackRateMenuItem=function(_MenuItem){_inherits(PlaybackRateMenuItem,_MenuItem);function PlaybackRateMenuItem(player,options){_classCallCheck(this,PlaybackRateMenuItem);var label=options.rate;var rate=parseFloat(label,10);options.label=label;options.selected=rate===1;options.selectable=true;var _this=_possibleConstructorReturn(this,_MenuItem.call(this,player,options));_this.label=label;_this.rate=rate;_this.on(player,'ratechange',_this.update);return _this;}PlaybackRateMenuItem.prototype.handleClick=function handleClick(event){_MenuItem.prototype.handleClick.call(this);this.player().playbackRate(this.rate);};PlaybackRateMenuItem.prototype.update=function update(event){this.selected(this.player().playbackRate()===this.rate);};return PlaybackRateMenuItem;}(_menuItem2['default']);PlaybackRateMenuItem.prototype.contentElType='button';_component2['default'].registerComponent('PlaybackRateMenuItem',PlaybackRateMenuItem);exports['default']=PlaybackRateMenuItem;},{\"48\":48,\"5\":5}],15:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var LoadProgressBar=function(_Component){_inherits(LoadProgressBar,_Component);function LoadProgressBar(player,options){_classCallCheck(this,LoadProgressBar);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.partEls_=[];_this.on(player,'progress',_this.update);return _this;}LoadProgressBar.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-load-progress',innerHTML:'<span class=\"vjs-control-text\"><span>'+this.localize('Loaded')+'</span>: 0%</span>'});};LoadProgressBar.prototype.update=function update(event){var buffered=this.player_.buffered();var duration=this.player_.duration();var bufferedEnd=this.player_.bufferedEnd();var children=this.partEls_;var percentify=function percentify(time,end){var percent=time/end||0;return(percent>=1?1:percent)*100+'%';};this.el_.style.width=percentify(bufferedEnd,duration);for(var i=0;i<buffered.length;i++){var start=buffered.start(i);var end=buffered.end(i);var part=children[i];if(!part){part=this.el_.appendChild(Dom.createEl());children[i]=part;}part.style.left=percentify(start,bufferedEnd);part.style.width=percentify(end-start,bufferedEnd);}for(var _i=children.length;_i>buffered.length;_i--){this.el_.removeChild(children[_i-1]);}children.length=buffered.length;};return LoadProgressBar;}(_component2['default']);_component2['default'].registerComponent('LoadProgressBar',LoadProgressBar);exports['default']=LoadProgressBar;},{\"5\":5,\"81\":81}],16:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _formatTime=_dereq_(84);var _formatTime2=_interopRequireDefault(_formatTime);var _computedStyle=_dereq_(80);var _computedStyle2=_interopRequireDefault(_computedStyle);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var MouseTimeDisplay=function(_Component){_inherits(MouseTimeDisplay,_Component);function MouseTimeDisplay(player,options){_classCallCheck(this,MouseTimeDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));if(options.playerOptions&&options.playerOptions.controlBar&&options.playerOptions.controlBar.progressControl&&options.playerOptions.controlBar.progressControl.keepTooltipsInside){_this.keepTooltipsInside=options.playerOptions.controlBar.progressControl.keepTooltipsInside;}if(_this.keepTooltipsInside){_this.tooltip=Dom.createEl('div',{className:'vjs-time-tooltip'});_this.el().appendChild(_this.tooltip);_this.addClass('vjs-keep-tooltips-inside');}_this.update(0,0);player.on('ready',function(){_this.on(player.controlBar.progressControl.el(),'mousemove',Fn.throttle(Fn.bind(_this,_this.handleMouseMove),25));});return _this;}MouseTimeDisplay.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-mouse-display'});};MouseTimeDisplay.prototype.handleMouseMove=function handleMouseMove(event){var duration=this.player_.duration();var newTime=this.calculateDistance(event)*duration;var position=event.pageX-Dom.findElPosition(this.el().parentNode).left;this.update(newTime,position);};MouseTimeDisplay.prototype.update=function update(newTime,position){var time=(0,_formatTime2['default'])(newTime,this.player_.duration());this.el().style.left=position+'px';this.el().setAttribute('data-current-time',time);if(this.keepTooltipsInside){var clampedPosition=this.clampPosition_(position);var difference=position-clampedPosition+1;var tooltipWidth=parseFloat((0,_computedStyle2['default'])(this.tooltip,'width'));var tooltipWidthHalf=tooltipWidth/2;this.tooltip.innerHTML=time;this.tooltip.style.right='-'+(tooltipWidthHalf-difference)+'px';}};MouseTimeDisplay.prototype.calculateDistance=function calculateDistance(event){return Dom.getPointerPosition(this.el().parentNode,event).x;};MouseTimeDisplay.prototype.clampPosition_=function clampPosition_(position){if(!this.keepTooltipsInside){return position;}var playerWidth=parseFloat((0,_computedStyle2['default'])(this.player().el(),'width'));var tooltipWidth=parseFloat((0,_computedStyle2['default'])(this.tooltip,'width'));var tooltipWidthHalf=tooltipWidth/2;var actualPosition=position;if(position<tooltipWidthHalf){actualPosition=Math.ceil(tooltipWidthHalf);}else if(position>playerWidth-tooltipWidthHalf){actualPosition=Math.floor(playerWidth-tooltipWidthHalf);}return actualPosition;};return MouseTimeDisplay;}(_component2['default']);_component2['default'].registerComponent('MouseTimeDisplay',MouseTimeDisplay);exports['default']=MouseTimeDisplay;},{\"5\":5,\"80\":80,\"81\":81,\"83\":83,\"84\":84}],17:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _formatTime=_dereq_(84);var _formatTime2=_interopRequireDefault(_formatTime);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var PlayProgressBar=function(_Component){_inherits(PlayProgressBar,_Component);function PlayProgressBar(player,options){_classCallCheck(this,PlayProgressBar);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.updateDataAttr();_this.on(player,'timeupdate',_this.updateDataAttr);player.ready(Fn.bind(_this,_this.updateDataAttr));if(options.playerOptions&&options.playerOptions.controlBar&&options.playerOptions.controlBar.progressControl&&options.playerOptions.controlBar.progressControl.keepTooltipsInside){_this.keepTooltipsInside=options.playerOptions.controlBar.progressControl.keepTooltipsInside;}if(_this.keepTooltipsInside){_this.addClass('vjs-keep-tooltips-inside');}return _this;}PlayProgressBar.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-play-progress vjs-slider-bar',innerHTML:'<span class=\"vjs-control-text\"><span>'+this.localize('Progress')+'</span>: 0%</span>'});};PlayProgressBar.prototype.updateDataAttr=function updateDataAttr(event){var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute('data-current-time',(0,_formatTime2['default'])(time,this.player_.duration()));};return PlayProgressBar;}(_component2['default']);_component2['default'].registerComponent('PlayProgressBar',PlayProgressBar);exports['default']=PlayProgressBar;},{\"5\":5,\"83\":83,\"84\":84}],18:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);_dereq_(19);_dereq_(16);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ProgressControl=function(_Component){_inherits(ProgressControl,_Component);function ProgressControl(){_classCallCheck(this,ProgressControl);return _possibleConstructorReturn(this,_Component.apply(this,arguments));}ProgressControl.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-progress-control vjs-control'});};return ProgressControl;}(_component2['default']);ProgressControl.prototype.options_={children:['seekBar']};_component2['default'].registerComponent('ProgressControl',ProgressControl);exports['default']=ProgressControl;},{\"16\":16,\"19\":19,\"5\":5}],19:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _slider=_dereq_(57);var _slider2=_interopRequireDefault(_slider);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _formatTime=_dereq_(84);var _formatTime2=_interopRequireDefault(_formatTime);var _computedStyle=_dereq_(80);var _computedStyle2=_interopRequireDefault(_computedStyle);_dereq_(15);_dereq_(17);_dereq_(20);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var SeekBar=function(_Slider){_inherits(SeekBar,_Slider);function SeekBar(player,options){_classCallCheck(this,SeekBar);var _this=_possibleConstructorReturn(this,_Slider.call(this,player,options));_this.on(player,'timeupdate',_this.updateProgress);_this.on(player,'ended',_this.updateProgress);player.ready(Fn.bind(_this,_this.updateProgress));if(options.playerOptions&&options.playerOptions.controlBar&&options.playerOptions.controlBar.progressControl&&options.playerOptions.controlBar.progressControl.keepTooltipsInside){_this.keepTooltipsInside=options.playerOptions.controlBar.progressControl.keepTooltipsInside;}if(_this.keepTooltipsInside){_this.tooltipProgressBar=_this.addChild('TooltipProgressBar');}return _this;}SeekBar.prototype.createEl=function createEl(){return _Slider.prototype.createEl.call(this,'div',{className:'vjs-progress-holder'},{'aria-label':'progress bar'});};SeekBar.prototype.updateProgress=function updateProgress(event){this.updateAriaAttributes(this.el_);if(this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_);this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var playerWidth=parseFloat((0,_computedStyle2['default'])(this.player().el(),'width'));var tooltipWidth=parseFloat((0,_computedStyle2['default'])(this.tooltipProgressBar.tooltip,'width'));var tooltipStyle=this.tooltipProgressBar.el().style;tooltipStyle.maxWidth=Math.floor(playerWidth-tooltipWidth/2)+'px';tooltipStyle.minWidth=Math.ceil(tooltipWidth/2)+'px';tooltipStyle.right='-'+tooltipWidth/2+'px';}};SeekBar.prototype.updateAriaAttributes=function updateAriaAttributes(el){var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();el.setAttribute('aria-valuenow',(this.getPercent()*100).toFixed(2));el.setAttribute('aria-valuetext',(0,_formatTime2['default'])(time,this.player_.duration()));};SeekBar.prototype.getPercent=function getPercent(){var percent=this.player_.currentTime()/this.player_.duration();return percent>=1?1:percent;};SeekBar.prototype.handleMouseDown=function handleMouseDown(event){this.player_.scrubbing(true);this.videoWasPlaying=!this.player_.paused();this.player_.pause();_Slider.prototype.handleMouseDown.call(this,event);};SeekBar.prototype.handleMouseMove=function handleMouseMove(event){var newTime=this.calculateDistance(event)*this.player_.duration();if(newTime===this.player_.duration()){newTime=newTime-0.1;}this.player_.currentTime(newTime);};SeekBar.prototype.handleMouseUp=function handleMouseUp(event){_Slider.prototype.handleMouseUp.call(this,event);this.player_.scrubbing(false);if(this.videoWasPlaying){this.player_.play();}};SeekBar.prototype.stepForward=function stepForward(){this.player_.currentTime(this.player_.currentTime()+5);};SeekBar.prototype.stepBack=function stepBack(){this.player_.currentTime(this.player_.currentTime()-5);};return SeekBar;}(_slider2['default']);SeekBar.prototype.options_={children:['loadProgressBar','mouseTimeDisplay','playProgressBar'],barName:'playProgressBar'};SeekBar.prototype.playerEvent='timeupdate';_component2['default'].registerComponent('SeekBar',SeekBar);exports['default']=SeekBar;},{\"15\":15,\"17\":17,\"20\":20,\"5\":5,\"57\":57,\"80\":80,\"83\":83,\"84\":84}],20:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _formatTime=_dereq_(84);var _formatTime2=_interopRequireDefault(_formatTime);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TooltipProgressBar=function(_Component){_inherits(TooltipProgressBar,_Component);function TooltipProgressBar(player,options){_classCallCheck(this,TooltipProgressBar);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.updateDataAttr();_this.on(player,'timeupdate',_this.updateDataAttr);player.ready(Fn.bind(_this,_this.updateDataAttr));return _this;}TooltipProgressBar.prototype.createEl=function createEl(){var el=_Component.prototype.createEl.call(this,'div',{className:'vjs-tooltip-progress-bar vjs-slider-bar',innerHTML:'<div class=\"vjs-time-tooltip\"></div>\\n        <span class=\"vjs-control-text\"><span>'+this.localize('Progress')+'</span>: 0%</span>'});this.tooltip=el.querySelector('.vjs-time-tooltip');return el;};TooltipProgressBar.prototype.updateDataAttr=function updateDataAttr(event){var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();var formattedTime=(0,_formatTime2['default'])(time,this.player_.duration());this.el_.setAttribute('data-current-time',formattedTime);this.tooltip.innerHTML=formattedTime;};return TooltipProgressBar;}(_component2['default']);_component2['default'].registerComponent('TooltipProgressBar',TooltipProgressBar);exports['default']=TooltipProgressBar;},{\"5\":5,\"83\":83,\"84\":84}],21:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _spacer=_dereq_(22);var _spacer2=_interopRequireDefault(_spacer);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var CustomControlSpacer=function(_Spacer){_inherits(CustomControlSpacer,_Spacer);function CustomControlSpacer(){_classCallCheck(this,CustomControlSpacer);return _possibleConstructorReturn(this,_Spacer.apply(this,arguments));}CustomControlSpacer.prototype.buildCSSClass=function buildCSSClass(){return'vjs-custom-control-spacer '+_Spacer.prototype.buildCSSClass.call(this);};CustomControlSpacer.prototype.createEl=function createEl(){var el=_Spacer.prototype.createEl.call(this,{className:this.buildCSSClass()});el.innerHTML='&nbsp;';return el;};return CustomControlSpacer;}(_spacer2['default']);_component2['default'].registerComponent('CustomControlSpacer',CustomControlSpacer);exports['default']=CustomControlSpacer;},{\"22\":22,\"5\":5}],22:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Spacer=function(_Component){_inherits(Spacer,_Component);function Spacer(){_classCallCheck(this,Spacer);return _possibleConstructorReturn(this,_Component.apply(this,arguments));}Spacer.prototype.buildCSSClass=function buildCSSClass(){return'vjs-spacer '+_Component.prototype.buildCSSClass.call(this);};Spacer.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:this.buildCSSClass()});};return Spacer;}(_component2['default']);_component2['default'].registerComponent('Spacer',Spacer);exports['default']=Spacer;},{\"5\":5}],23:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _textTrackMenuItem=_dereq_(31);var _textTrackMenuItem2=_interopRequireDefault(_textTrackMenuItem);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var CaptionSettingsMenuItem=function(_TextTrackMenuItem){_inherits(CaptionSettingsMenuItem,_TextTrackMenuItem);function CaptionSettingsMenuItem(player,options){_classCallCheck(this,CaptionSettingsMenuItem);options.track={player:player,kind:options.kind,label:options.kind+' settings',selectable:false,'default':false,mode:'disabled'};options.selectable=false;var _this=_possibleConstructorReturn(this,_TextTrackMenuItem.call(this,player,options));_this.addClass('vjs-texttrack-settings');_this.controlText(', opens '+options.kind+' settings dialog');return _this;}CaptionSettingsMenuItem.prototype.handleClick=function handleClick(event){this.player().getChild('textTrackSettings').show();this.player().getChild('textTrackSettings').el_.focus();};return CaptionSettingsMenuItem;}(_textTrackMenuItem2['default']);_component2['default'].registerComponent('CaptionSettingsMenuItem',CaptionSettingsMenuItem);exports['default']=CaptionSettingsMenuItem;},{\"31\":31,\"5\":5}],24:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _textTrackButton=_dereq_(30);var _textTrackButton2=_interopRequireDefault(_textTrackButton);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _captionSettingsMenuItem=_dereq_(23);var _captionSettingsMenuItem2=_interopRequireDefault(_captionSettingsMenuItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var CaptionsButton=function(_TextTrackButton){_inherits(CaptionsButton,_TextTrackButton);function CaptionsButton(player,options,ready){_classCallCheck(this,CaptionsButton);var _this=_possibleConstructorReturn(this,_TextTrackButton.call(this,player,options,ready));_this.el_.setAttribute('aria-label','Captions Menu');return _this;}CaptionsButton.prototype.buildCSSClass=function buildCSSClass(){return'vjs-captions-button '+_TextTrackButton.prototype.buildCSSClass.call(this);};CaptionsButton.prototype.createItems=function createItems(){var items=[];if(!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)){items.push(new _captionSettingsMenuItem2['default'](this.player_,{kind:this.kind_}));this.hideThreshold_+=1;}return _TextTrackButton.prototype.createItems.call(this,items);};return CaptionsButton;}(_textTrackButton2['default']);CaptionsButton.prototype.kind_='captions';CaptionsButton.prototype.controlText_='Captions';_component2['default'].registerComponent('CaptionsButton',CaptionsButton);exports['default']=CaptionsButton;},{\"23\":23,\"30\":30,\"5\":5}],25:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _textTrackButton=_dereq_(30);var _textTrackButton2=_interopRequireDefault(_textTrackButton);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _chaptersTrackMenuItem=_dereq_(26);var _chaptersTrackMenuItem2=_interopRequireDefault(_chaptersTrackMenuItem);var _toTitleCase=_dereq_(91);var _toTitleCase2=_interopRequireDefault(_toTitleCase);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ChaptersButton=function(_TextTrackButton){_inherits(ChaptersButton,_TextTrackButton);function ChaptersButton(player,options,ready){_classCallCheck(this,ChaptersButton);var _this=_possibleConstructorReturn(this,_TextTrackButton.call(this,player,options,ready));_this.el_.setAttribute('aria-label','Chapters Menu');return _this;}ChaptersButton.prototype.buildCSSClass=function buildCSSClass(){return'vjs-chapters-button '+_TextTrackButton.prototype.buildCSSClass.call(this);};ChaptersButton.prototype.update=function update(event){if(!this.track_||event&&(event.type==='addtrack'||event.type==='removetrack')){this.setTrack(this.findChaptersTrack());}_TextTrackButton.prototype.update.call(this);};ChaptersButton.prototype.setTrack=function setTrack(track){if(this.track_===track){return;}if(!this.updateHandler_){this.updateHandler_=this.update.bind(this);}if(this.track_){var remoteTextTrackEl=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(remoteTextTrackEl){remoteTextTrackEl.removeEventListener('load',this.updateHandler_);}this.track_=null;}this.track_=track;if(this.track_){this.track_.mode='hidden';var _remoteTextTrackEl=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(_remoteTextTrackEl){_remoteTextTrackEl.addEventListener('load',this.updateHandler_);}}};ChaptersButton.prototype.findChaptersTrack=function findChaptersTrack(){var tracks=this.player_.textTracks()||[];for(var i=tracks.length-1;i>=0;i--){var track=tracks[i];if(track.kind===this.kind_){return track;}}};ChaptersButton.prototype.getMenuCaption=function getMenuCaption(){if(this.track_&&this.track_.label){return this.track_.label;}return this.localize((0,_toTitleCase2['default'])(this.kind_));};ChaptersButton.prototype.createMenu=function createMenu(){this.options_.title=this.getMenuCaption();return _TextTrackButton.prototype.createMenu.call(this);};ChaptersButton.prototype.createItems=function createItems(){var items=[];if(!this.track_){return items;}var cues=this.track_.cues;if(!cues){return items;}for(var i=0,l=cues.length;i<l;i++){var cue=cues[i];var mi=new _chaptersTrackMenuItem2['default'](this.player_,{track:this.track_,cue:cue});items.push(mi);}return items;};return ChaptersButton;}(_textTrackButton2['default']);ChaptersButton.prototype.kind_='chapters';ChaptersButton.prototype.controlText_='Chapters';_component2['default'].registerComponent('ChaptersButton',ChaptersButton);exports['default']=ChaptersButton;},{\"26\":26,\"30\":30,\"5\":5,\"91\":91}],26:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _menuItem=_dereq_(48);var _menuItem2=_interopRequireDefault(_menuItem);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ChaptersTrackMenuItem=function(_MenuItem){_inherits(ChaptersTrackMenuItem,_MenuItem);function ChaptersTrackMenuItem(player,options){_classCallCheck(this,ChaptersTrackMenuItem);var track=options.track;var cue=options.cue;var currentTime=player.currentTime();options.selectable=true;options.label=cue.text;options.selected=cue.startTime<=currentTime&&currentTime<cue.endTime;var _this=_possibleConstructorReturn(this,_MenuItem.call(this,player,options));_this.track=track;_this.cue=cue;track.addEventListener('cuechange',Fn.bind(_this,_this.update));return _this;}ChaptersTrackMenuItem.prototype.handleClick=function handleClick(event){_MenuItem.prototype.handleClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime);};ChaptersTrackMenuItem.prototype.update=function update(event){var cue=this.cue;var currentTime=this.player_.currentTime();this.selected(cue.startTime<=currentTime&&currentTime<cue.endTime);};return ChaptersTrackMenuItem;}(_menuItem2['default']);_component2['default'].registerComponent('ChaptersTrackMenuItem',ChaptersTrackMenuItem);exports['default']=ChaptersTrackMenuItem;},{\"48\":48,\"5\":5,\"83\":83}],27:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _textTrackButton=_dereq_(30);var _textTrackButton2=_interopRequireDefault(_textTrackButton);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var DescriptionsButton=function(_TextTrackButton){_inherits(DescriptionsButton,_TextTrackButton);function DescriptionsButton(player,options,ready){_classCallCheck(this,DescriptionsButton);var _this=_possibleConstructorReturn(this,_TextTrackButton.call(this,player,options,ready));_this.el_.setAttribute('aria-label','Descriptions Menu');var tracks=player.textTracks();if(tracks){var changeHandler=Fn.bind(_this,_this.handleTracksChange);tracks.addEventListener('change',changeHandler);_this.on('dispose',function(){tracks.removeEventListener('change',changeHandler);});}return _this;}DescriptionsButton.prototype.handleTracksChange=function handleTracksChange(event){var tracks=this.player().textTracks();var disabled=false;for(var i=0,l=tracks.length;i<l;i++){var track=tracks[i];if(track.kind!==this.kind_&&track.mode==='showing'){disabled=true;break;}}if(disabled){this.disable();}else{this.enable();}};DescriptionsButton.prototype.buildCSSClass=function buildCSSClass(){return'vjs-descriptions-button '+_TextTrackButton.prototype.buildCSSClass.call(this);};return DescriptionsButton;}(_textTrackButton2['default']);DescriptionsButton.prototype.kind_='descriptions';DescriptionsButton.prototype.controlText_='Descriptions';_component2['default'].registerComponent('DescriptionsButton',DescriptionsButton);exports['default']=DescriptionsButton;},{\"30\":30,\"5\":5,\"83\":83}],28:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _textTrackMenuItem=_dereq_(31);var _textTrackMenuItem2=_interopRequireDefault(_textTrackMenuItem);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var OffTextTrackMenuItem=function(_TextTrackMenuItem){_inherits(OffTextTrackMenuItem,_TextTrackMenuItem);function OffTextTrackMenuItem(player,options){_classCallCheck(this,OffTextTrackMenuItem);options.track={player:player,kind:options.kind,label:options.kind+' off','default':false,mode:'disabled'};options.selectable=true;var _this=_possibleConstructorReturn(this,_TextTrackMenuItem.call(this,player,options));_this.selected(true);return _this;}OffTextTrackMenuItem.prototype.handleTracksChange=function handleTracksChange(event){var tracks=this.player().textTracks();var selected=true;for(var i=0,l=tracks.length;i<l;i++){var track=tracks[i];if(track.kind===this.track.kind&&track.mode==='showing'){selected=false;break;}}this.selected(selected);};return OffTextTrackMenuItem;}(_textTrackMenuItem2['default']);_component2['default'].registerComponent('OffTextTrackMenuItem',OffTextTrackMenuItem);exports['default']=OffTextTrackMenuItem;},{\"31\":31,\"5\":5}],29:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _textTrackButton=_dereq_(30);var _textTrackButton2=_interopRequireDefault(_textTrackButton);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var SubtitlesButton=function(_TextTrackButton){_inherits(SubtitlesButton,_TextTrackButton);function SubtitlesButton(player,options,ready){_classCallCheck(this,SubtitlesButton);var _this=_possibleConstructorReturn(this,_TextTrackButton.call(this,player,options,ready));_this.el_.setAttribute('aria-label','Subtitles Menu');return _this;}SubtitlesButton.prototype.buildCSSClass=function buildCSSClass(){return'vjs-subtitles-button '+_TextTrackButton.prototype.buildCSSClass.call(this);};return SubtitlesButton;}(_textTrackButton2['default']);SubtitlesButton.prototype.kind_='subtitles';SubtitlesButton.prototype.controlText_='Subtitles';_component2['default'].registerComponent('SubtitlesButton',SubtitlesButton);exports['default']=SubtitlesButton;},{\"30\":30,\"5\":5}],30:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _trackButton=_dereq_(36);var _trackButton2=_interopRequireDefault(_trackButton);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _textTrackMenuItem=_dereq_(31);var _textTrackMenuItem2=_interopRequireDefault(_textTrackMenuItem);var _offTextTrackMenuItem=_dereq_(28);var _offTextTrackMenuItem2=_interopRequireDefault(_offTextTrackMenuItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TextTrackButton=function(_TrackButton){_inherits(TextTrackButton,_TrackButton);function TextTrackButton(player){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,TextTrackButton);options.tracks=player.textTracks();return _possibleConstructorReturn(this,_TrackButton.call(this,player,options));}TextTrackButton.prototype.createItems=function createItems(){var items=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];items.push(new _offTextTrackMenuItem2['default'](this.player_,{kind:this.kind_}));this.hideThreshold_+=1;var tracks=this.player_.textTracks();if(!tracks){return items;}for(var i=0;i<tracks.length;i++){var track=tracks[i];if(track.kind===this.kind_){items.push(new _textTrackMenuItem2['default'](this.player_,{track:track,selectable:true}));}}return items;};return TextTrackButton;}(_trackButton2['default']);_component2['default'].registerComponent('TextTrackButton',TextTrackButton);exports['default']=TextTrackButton;},{\"28\":28,\"31\":31,\"36\":36,\"5\":5}],31:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};var _menuItem=_dereq_(48);var _menuItem2=_interopRequireDefault(_menuItem);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TextTrackMenuItem=function(_MenuItem){_inherits(TextTrackMenuItem,_MenuItem);function TextTrackMenuItem(player,options){_classCallCheck(this,TextTrackMenuItem);var track=options.track;var tracks=player.textTracks();options.label=track.label||track.language||'Unknown';options.selected=track['default']||track.mode==='showing';var _this=_possibleConstructorReturn(this,_MenuItem.call(this,player,options));_this.track=track;if(tracks){var changeHandler=Fn.bind(_this,_this.handleTracksChange);player.on(['loadstart','texttrackchange'],changeHandler);tracks.addEventListener('change',changeHandler);_this.on('dispose',function(){tracks.removeEventListener('change',changeHandler);});}if(tracks&&tracks.onchange===undefined){var event=void 0;_this.on(['tap','click'],function(){if(_typeof(_window2['default'].Event)!=='object'){try{event=new _window2['default'].Event('change');}catch(err){}}if(!event){event=_document2['default'].createEvent('Event');event.initEvent('change',true,true);}tracks.dispatchEvent(event);});}return _this;}TextTrackMenuItem.prototype.handleClick=function handleClick(event){var kind=this.track.kind;var tracks=this.player_.textTracks();_MenuItem.prototype.handleClick.call(this,event);if(!tracks){return;}for(var i=0;i<tracks.length;i++){var track=tracks[i];if(track.kind!==kind){continue;}if(track===this.track){if(track.mode!=='showing'){track.mode='showing';}}else if(track.mode!=='disabled'){track.mode='disabled';}}};TextTrackMenuItem.prototype.handleTracksChange=function handleTracksChange(event){this.selected(this.track.mode==='showing');};return TextTrackMenuItem;}(_menuItem2['default']);_component2['default'].registerComponent('TextTrackMenuItem',TextTrackMenuItem);exports['default']=TextTrackMenuItem;},{\"48\":48,\"5\":5,\"83\":83,\"94\":94,\"95\":95}],32:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _formatTime=_dereq_(84);var _formatTime2=_interopRequireDefault(_formatTime);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var CurrentTimeDisplay=function(_Component){_inherits(CurrentTimeDisplay,_Component);function CurrentTimeDisplay(player,options){_classCallCheck(this,CurrentTimeDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.on(player,'timeupdate',_this.updateContent);return _this;}CurrentTimeDisplay.prototype.createEl=function createEl(){var el=_Component.prototype.createEl.call(this,'div',{className:'vjs-current-time vjs-time-control vjs-control'});this.contentEl_=Dom.createEl('div',{className:'vjs-current-time-display',innerHTML:'<span class=\"vjs-control-text\">Current Time </span>'+'0:00'},{'aria-live':'off'});el.appendChild(this.contentEl_);return el;};CurrentTimeDisplay.prototype.updateContent=function updateContent(event){var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();var localizedText=this.localize('Current Time');var formattedTime=(0,_formatTime2['default'])(time,this.player_.duration());if(formattedTime!==this.formattedTime_){this.formattedTime_=formattedTime;this.contentEl_.innerHTML='<span class=\"vjs-control-text\">'+localizedText+'</span> '+formattedTime;}};return CurrentTimeDisplay;}(_component2['default']);_component2['default'].registerComponent('CurrentTimeDisplay',CurrentTimeDisplay);exports['default']=CurrentTimeDisplay;},{\"5\":5,\"81\":81,\"84\":84}],33:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _formatTime=_dereq_(84);var _formatTime2=_interopRequireDefault(_formatTime);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var DurationDisplay=function(_Component){_inherits(DurationDisplay,_Component);function DurationDisplay(player,options){_classCallCheck(this,DurationDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.on(player,'durationchange',_this.updateContent);_this.on(player,'timeupdate',_this.updateContent);_this.on(player,'loadedmetadata',_this.updateContent);return _this;}DurationDisplay.prototype.createEl=function createEl(){var el=_Component.prototype.createEl.call(this,'div',{className:'vjs-duration vjs-time-control vjs-control'});this.contentEl_=Dom.createEl('div',{className:'vjs-duration-display',innerHTML:'<span class=\"vjs-control-text\">'+this.localize('Duration Time')+'</span> 0:00'},{'aria-live':'off'});el.appendChild(this.contentEl_);return el;};DurationDisplay.prototype.updateContent=function updateContent(event){var duration=this.player_.duration();if(duration&&this.duration_!==duration){this.duration_=duration;var localizedText=this.localize('Duration Time');var formattedTime=(0,_formatTime2['default'])(duration);this.contentEl_.innerHTML='<span class=\"vjs-control-text\">'+localizedText+'</span> '+formattedTime;}};return DurationDisplay;}(_component2['default']);_component2['default'].registerComponent('DurationDisplay',DurationDisplay);exports['default']=DurationDisplay;},{\"5\":5,\"81\":81,\"84\":84}],34:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _formatTime=_dereq_(84);var _formatTime2=_interopRequireDefault(_formatTime);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var RemainingTimeDisplay=function(_Component){_inherits(RemainingTimeDisplay,_Component);function RemainingTimeDisplay(player,options){_classCallCheck(this,RemainingTimeDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.on(player,'timeupdate',_this.updateContent);_this.on(player,'durationchange',_this.updateContent);return _this;}RemainingTimeDisplay.prototype.createEl=function createEl(){var el=_Component.prototype.createEl.call(this,'div',{className:'vjs-remaining-time vjs-time-control vjs-control'});this.contentEl_=Dom.createEl('div',{className:'vjs-remaining-time-display',innerHTML:'<span class=\"vjs-control-text\">'+this.localize('Remaining Time')+'</span> -0:00'},{'aria-live':'off'});el.appendChild(this.contentEl_);return el;};RemainingTimeDisplay.prototype.updateContent=function updateContent(event){if(this.player_.duration()){var localizedText=this.localize('Remaining Time');var formattedTime=(0,_formatTime2['default'])(this.player_.remainingTime());if(formattedTime!==this.formattedTime_){this.formattedTime_=formattedTime;this.contentEl_.innerHTML='<span class=\"vjs-control-text\">'+localizedText+'</span> -'+formattedTime;}}};return RemainingTimeDisplay;}(_component2['default']);_component2['default'].registerComponent('RemainingTimeDisplay',RemainingTimeDisplay);exports['default']=RemainingTimeDisplay;},{\"5\":5,\"81\":81,\"84\":84}],35:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TimeDivider=function(_Component){_inherits(TimeDivider,_Component);function TimeDivider(){_classCallCheck(this,TimeDivider);return _possibleConstructorReturn(this,_Component.apply(this,arguments));}TimeDivider.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-time-control vjs-time-divider',innerHTML:'<div><span>/</span></div>'});};return TimeDivider;}(_component2['default']);_component2['default'].registerComponent('TimeDivider',TimeDivider);exports['default']=TimeDivider;},{\"5\":5}],36:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _menuButton=_dereq_(47);var _menuButton2=_interopRequireDefault(_menuButton);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TrackButton=function(_MenuButton){_inherits(TrackButton,_MenuButton);function TrackButton(player,options){_classCallCheck(this,TrackButton);var tracks=options.tracks;var _this=_possibleConstructorReturn(this,_MenuButton.call(this,player,options));if(_this.items.length<=1){_this.hide();}if(!tracks){return _possibleConstructorReturn(_this);}var updateHandler=Fn.bind(_this,_this.update);tracks.addEventListener('removetrack',updateHandler);tracks.addEventListener('addtrack',updateHandler);_this.player_.on('dispose',function(){tracks.removeEventListener('removetrack',updateHandler);tracks.removeEventListener('addtrack',updateHandler);});return _this;}return TrackButton;}(_menuButton2['default']);_component2['default'].registerComponent('TrackButton',TrackButton);exports['default']=TrackButton;},{\"47\":47,\"5\":5,\"83\":83}],37:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _slider=_dereq_(57);var _slider2=_interopRequireDefault(_slider);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);_dereq_(39);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var VolumeBar=function(_Slider){_inherits(VolumeBar,_Slider);function VolumeBar(player,options){_classCallCheck(this,VolumeBar);var _this=_possibleConstructorReturn(this,_Slider.call(this,player,options));_this.on(player,'volumechange',_this.updateARIAAttributes);player.ready(Fn.bind(_this,_this.updateARIAAttributes));return _this;}VolumeBar.prototype.createEl=function createEl(){return _Slider.prototype.createEl.call(this,'div',{className:'vjs-volume-bar vjs-slider-bar'},{'aria-label':'volume level'});};VolumeBar.prototype.handleMouseMove=function handleMouseMove(event){this.checkMuted();this.player_.volume(this.calculateDistance(event));};VolumeBar.prototype.checkMuted=function checkMuted(){if(this.player_.muted()){this.player_.muted(false);}};VolumeBar.prototype.getPercent=function getPercent(){if(this.player_.muted()){return 0;}return this.player_.volume();};VolumeBar.prototype.stepForward=function stepForward(){this.checkMuted();this.player_.volume(this.player_.volume()+0.1);};VolumeBar.prototype.stepBack=function stepBack(){this.checkMuted();this.player_.volume(this.player_.volume()-0.1);};VolumeBar.prototype.updateARIAAttributes=function updateARIAAttributes(event){var volume=(this.player_.volume()*100).toFixed(2);this.el_.setAttribute('aria-valuenow',volume);this.el_.setAttribute('aria-valuetext',volume+'%');};return VolumeBar;}(_slider2['default']);VolumeBar.prototype.options_={children:['volumeLevel'],barName:'volumeLevel'};VolumeBar.prototype.playerEvent='volumechange';_component2['default'].registerComponent('VolumeBar',VolumeBar);exports['default']=VolumeBar;},{\"39\":39,\"5\":5,\"57\":57,\"83\":83}],38:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);_dereq_(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var VolumeControl=function(_Component){_inherits(VolumeControl,_Component);function VolumeControl(player,options){_classCallCheck(this,VolumeControl);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));if(player.tech_&&player.tech_.featuresVolumeControl===false){_this.addClass('vjs-hidden');}_this.on(player,'loadstart',function(){if(player.tech_.featuresVolumeControl===false){this.addClass('vjs-hidden');}else{this.removeClass('vjs-hidden');}});return _this;}VolumeControl.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-volume-control vjs-control'});};return VolumeControl;}(_component2['default']);VolumeControl.prototype.options_={children:['volumeBar']};_component2['default'].registerComponent('VolumeControl',VolumeControl);exports['default']=VolumeControl;},{\"37\":37,\"5\":5}],39:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var VolumeLevel=function(_Component){_inherits(VolumeLevel,_Component);function VolumeLevel(){_classCallCheck(this,VolumeLevel);return _possibleConstructorReturn(this,_Component.apply(this,arguments));}VolumeLevel.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-volume-level',innerHTML:'<span class=\"vjs-control-text\"></span>'});};return VolumeLevel;}(_component2['default']);_component2['default'].registerComponent('VolumeLevel',VolumeLevel);exports['default']=VolumeLevel;},{\"5\":5}],40:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _popup=_dereq_(54);var _popup2=_interopRequireDefault(_popup);var _popupButton=_dereq_(53);var _popupButton2=_interopRequireDefault(_popupButton);var _muteToggle=_dereq_(11);var _muteToggle2=_interopRequireDefault(_muteToggle);var _volumeBar=_dereq_(37);var _volumeBar2=_interopRequireDefault(_volumeBar);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var VolumeMenuButton=function(_PopupButton){_inherits(VolumeMenuButton,_PopupButton);function VolumeMenuButton(player){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,VolumeMenuButton);if(options.inline===undefined){options.inline=true;}if(options.vertical===undefined){if(options.inline){options.vertical=false;}else{options.vertical=true;}}options.volumeBar=options.volumeBar||{};options.volumeBar.vertical=!!options.vertical;var _this=_possibleConstructorReturn(this,_PopupButton.call(this,player,options));_this.on(player,'volumechange',_this.volumeUpdate);_this.on(player,'loadstart',_this.volumeUpdate);function updateVisibility(){if(player.tech_&&player.tech_.featuresVolumeControl===false){this.addClass('vjs-hidden');}else{this.removeClass('vjs-hidden');}}updateVisibility.call(_this);_this.on(player,'loadstart',updateVisibility);_this.on(_this.volumeBar,['slideractive','focus'],function(){this.addClass('vjs-slider-active');});_this.on(_this.volumeBar,['sliderinactive','blur'],function(){this.removeClass('vjs-slider-active');});_this.on(_this.volumeBar,['focus'],function(){this.addClass('vjs-lock-showing');});_this.on(_this.volumeBar,['blur'],function(){this.removeClass('vjs-lock-showing');});return _this;}VolumeMenuButton.prototype.buildCSSClass=function buildCSSClass(){var orientationClass='';if(this.options_.vertical){orientationClass='vjs-volume-menu-button-vertical';}else{orientationClass='vjs-volume-menu-button-horizontal';}return'vjs-volume-menu-button '+_PopupButton.prototype.buildCSSClass.call(this)+' '+orientationClass;};VolumeMenuButton.prototype.createPopup=function createPopup(){var popup=new _popup2['default'](this.player_,{contentElType:'div'});var vb=new _volumeBar2['default'](this.player_,this.options_.volumeBar);popup.addChild(vb);this.menuContent=popup;this.volumeBar=vb;this.attachVolumeBarEvents();return popup;};VolumeMenuButton.prototype.handleClick=function handleClick(event){_muteToggle2['default'].prototype.handleClick.call(this);_PopupButton.prototype.handleClick.call(this);};VolumeMenuButton.prototype.attachVolumeBarEvents=function attachVolumeBarEvents(){this.menuContent.on(['mousedown','touchdown'],Fn.bind(this,this.handleMouseDown));};VolumeMenuButton.prototype.handleMouseDown=function handleMouseDown(event){this.on(['mousemove','touchmove'],Fn.bind(this.volumeBar,this.volumeBar.handleMouseMove));this.on(this.el_.ownerDocument,['mouseup','touchend'],this.handleMouseUp);};VolumeMenuButton.prototype.handleMouseUp=function handleMouseUp(event){this.off(['mousemove','touchmove'],Fn.bind(this.volumeBar,this.volumeBar.handleMouseMove));};return VolumeMenuButton;}(_popupButton2['default']);VolumeMenuButton.prototype.volumeUpdate=_muteToggle2['default'].prototype.update;VolumeMenuButton.prototype.controlText_='Mute';_component2['default'].registerComponent('VolumeMenuButton',VolumeMenuButton);exports['default']=VolumeMenuButton;},{\"11\":11,\"37\":37,\"5\":5,\"53\":53,\"54\":54,\"83\":83}],41:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _modalDialog=_dereq_(50);var _modalDialog2=_interopRequireDefault(_modalDialog);var _mergeOptions=_dereq_(87);var _mergeOptions2=_interopRequireDefault(_mergeOptions);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ErrorDisplay=function(_ModalDialog){_inherits(ErrorDisplay,_ModalDialog);function ErrorDisplay(player,options){_classCallCheck(this,ErrorDisplay);var _this=_possibleConstructorReturn(this,_ModalDialog.call(this,player,options));_this.on(player,'error',_this.open);return _this;}ErrorDisplay.prototype.buildCSSClass=function buildCSSClass(){return'vjs-error-display '+_ModalDialog.prototype.buildCSSClass.call(this);};ErrorDisplay.prototype.content=function content(){var error=this.player().error();return error?this.localize(error.message):'';};return ErrorDisplay;}(_modalDialog2['default']);ErrorDisplay.prototype.options_=(0,_mergeOptions2['default'])(_modalDialog2['default'].prototype.options_,{pauseOnOpen:false,fillAlways:true,temporary:false,uncloseable:true});_component2['default'].registerComponent('ErrorDisplay',ErrorDisplay);exports['default']=ErrorDisplay;},{\"5\":5,\"50\":50,\"87\":87}],42:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _events=_dereq_(82);var Events=_interopRequireWildcard(_events);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}var EventTarget=function EventTarget(){};EventTarget.prototype.allowedEvents_={};EventTarget.prototype.on=function(type,fn){var ael=this.addEventListener;this.addEventListener=function(){};Events.on(this,type,fn);this.addEventListener=ael;};EventTarget.prototype.addEventListener=EventTarget.prototype.on;EventTarget.prototype.off=function(type,fn){Events.off(this,type,fn);};EventTarget.prototype.removeEventListener=EventTarget.prototype.off;EventTarget.prototype.one=function(type,fn){var ael=this.addEventListener;this.addEventListener=function(){};Events.one(this,type,fn);this.addEventListener=ael;};EventTarget.prototype.trigger=function(event){var type=event.type||event;if(typeof event==='string'){event={type:type};}event=Events.fixEvent(event);if(this.allowedEvents_[type]&&this['on'+type]){this['on'+type](event);}Events.trigger(this,event);};EventTarget.prototype.dispatchEvent=EventTarget.prototype.trigger;exports['default']=EventTarget;},{\"82\":82}],43:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _obj=_dereq_(88);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}var _inherits=function _inherits(subClass,superClass){if(typeof superClass!=='function'&&superClass!==null){throw new TypeError('Super expression must either be null or a function, not '+(typeof superClass==='undefined'?'undefined':_typeof(superClass)));}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass){subClass.super_=superClass;}};var extendFn=function extendFn(superClass){var subClassMethods=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var subClass=function subClass(){superClass.apply(this,arguments);};var methods={};if((0,_obj.isObject)(subClassMethods)){if(typeof subClassMethods.init==='function'){_log2['default'].warn('Constructor logic via init() is deprecated; please use constructor() instead.');subClassMethods.constructor=subClassMethods.init;}if(subClassMethods.constructor!==Object.prototype.constructor){subClass=subClassMethods.constructor;}methods=subClassMethods;}else if(typeof subClassMethods==='function'){subClass=subClassMethods;}_inherits(subClass,superClass);for(var name in methods){if(methods.hasOwnProperty(name)){subClass.prototype[name]=methods[name];}}return subClass;};exports['default']=extendFn;},{\"86\":86,\"88\":88}],44:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}var FullscreenApi={};var apiMap=[['requestFullscreen','exitFullscreen','fullscreenElement','fullscreenEnabled','fullscreenchange','fullscreenerror'],['webkitRequestFullscreen','webkitExitFullscreen','webkitFullscreenElement','webkitFullscreenEnabled','webkitfullscreenchange','webkitfullscreenerror'],['webkitRequestFullScreen','webkitCancelFullScreen','webkitCurrentFullScreenElement','webkitCancelFullScreen','webkitfullscreenchange','webkitfullscreenerror'],['mozRequestFullScreen','mozCancelFullScreen','mozFullScreenElement','mozFullScreenEnabled','mozfullscreenchange','mozfullscreenerror'],['msRequestFullscreen','msExitFullscreen','msFullscreenElement','msFullscreenEnabled','MSFullscreenChange','MSFullscreenError']];var specApi=apiMap[0];var browserApi=void 0;for(var i=0;i<apiMap.length;i++){if(apiMap[i][1]in _document2['default']){browserApi=apiMap[i];break;}}if(browserApi){for(var _i=0;_i<browserApi.length;_i++){FullscreenApi[specApi[_i]]=browserApi[_i];}}exports['default']=FullscreenApi;},{\"94\":94}],45:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var LoadingSpinner=function(_Component){_inherits(LoadingSpinner,_Component);function LoadingSpinner(){_classCallCheck(this,LoadingSpinner);return _possibleConstructorReturn(this,_Component.apply(this,arguments));}LoadingSpinner.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-loading-spinner',dir:'ltr'});};return LoadingSpinner;}(_component2['default']);_component2['default'].registerComponent('LoadingSpinner',LoadingSpinner);exports['default']=LoadingSpinner;},{\"5\":5}],46:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _obj=_dereq_(88);function MediaError(value){if(value instanceof MediaError){return value;}if(typeof value==='number'){this.code=value;}else if(typeof value==='string'){this.message=value;}else if((0,_obj.isObject)(value)){if(typeof value.code==='number'){this.code=value.code;}(0,_obj.assign)(this,value);}if(!this.message){this.message=MediaError.defaultMessages[this.code]||'';}}MediaError.prototype.code=0;MediaError.prototype.message='';MediaError.prototype.status=null;MediaError.errorTypes=['MEDIA_ERR_CUSTOM','MEDIA_ERR_ABORTED','MEDIA_ERR_NETWORK','MEDIA_ERR_DECODE','MEDIA_ERR_SRC_NOT_SUPPORTED','MEDIA_ERR_ENCRYPTED'];MediaError.defaultMessages={1:'You aborted the media playback',2:'A network error caused the media download to fail part-way.',3:'The media playback was aborted due to a corruption problem or because the media used features your browser did not support.',4:'The media could not be loaded, either because the server or network failed or because the format is not supported.',5:'The media is encrypted and we do not have the keys to decrypt it.'};for(var errNum=0;errNum<MediaError.errorTypes.length;errNum++){MediaError[MediaError.errorTypes[errNum]]=errNum;MediaError.prototype[MediaError.errorTypes[errNum]]=errNum;}exports['default']=MediaError;},{\"88\":88}],47:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _clickableComponent=_dereq_(3);var _clickableComponent2=_interopRequireDefault(_clickableComponent);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _menu=_dereq_(49);var _menu2=_interopRequireDefault(_menu);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _toTitleCase=_dereq_(91);var _toTitleCase2=_interopRequireDefault(_toTitleCase);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var MenuButton=function(_ClickableComponent){_inherits(MenuButton,_ClickableComponent);function MenuButton(player){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,MenuButton);var _this=_possibleConstructorReturn(this,_ClickableComponent.call(this,player,options));_this.update();_this.enabled_=true;_this.el_.setAttribute('aria-haspopup','true');_this.el_.setAttribute('role','menuitem');_this.on('keydown',_this.handleSubmenuKeyPress);return _this;}MenuButton.prototype.update=function update(){var menu=this.createMenu();if(this.menu){this.removeChild(this.menu);}this.menu=menu;this.addChild(menu);this.buttonPressed_=false;this.el_.setAttribute('aria-expanded','false');if(this.items&&this.items.length<=this.hideThreshold_){this.hide();}else{this.show();}};MenuButton.prototype.createMenu=function createMenu(){var menu=new _menu2['default'](this.player_);this.hideThreshold_=0;if(this.options_.title){var title=Dom.createEl('li',{className:'vjs-menu-title',innerHTML:(0,_toTitleCase2['default'])(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;menu.children_.unshift(title);Dom.insertElFirst(title,menu.contentEl());}this.items=this.createItems();if(this.items){for(var i=0;i<this.items.length;i++){menu.addItem(this.items[i]);}}return menu;};MenuButton.prototype.createItems=function createItems(){};MenuButton.prototype.createEl=function createEl(){return _ClickableComponent.prototype.createEl.call(this,'div',{className:this.buildCSSClass()});};MenuButton.prototype.buildCSSClass=function buildCSSClass(){var menuButtonClass='vjs-menu-button';if(this.options_.inline===true){menuButtonClass+='-inline';}else{menuButtonClass+='-popup';}return'vjs-menu-button '+menuButtonClass+' '+_ClickableComponent.prototype.buildCSSClass.call(this);};MenuButton.prototype.handleClick=function handleClick(event){this.one(this.menu.contentEl(),'mouseleave',Fn.bind(this,function(e){this.unpressButton();this.el_.blur();}));if(this.buttonPressed_){this.unpressButton();}else{this.pressButton();}};MenuButton.prototype.handleKeyPress=function handleKeyPress(event){if(event.which===27||event.which===9){if(this.buttonPressed_){this.unpressButton();}if(event.which!==9){event.preventDefault();}}else if(event.which===38||event.which===40){if(!this.buttonPressed_){this.pressButton();event.preventDefault();}}else{_ClickableComponent.prototype.handleKeyPress.call(this,event);}};MenuButton.prototype.handleSubmenuKeyPress=function handleSubmenuKeyPress(event){if(event.which===27||event.which===9){if(this.buttonPressed_){this.unpressButton();}if(event.which!==9){event.preventDefault();}}};MenuButton.prototype.pressButton=function pressButton(){if(this.enabled_){this.buttonPressed_=true;this.menu.lockShowing();this.el_.setAttribute('aria-expanded','true');this.menu.focus();}};MenuButton.prototype.unpressButton=function unpressButton(){if(this.enabled_){this.buttonPressed_=false;this.menu.unlockShowing();this.el_.setAttribute('aria-expanded','false');this.el_.focus();}};MenuButton.prototype.disable=function disable(){this.buttonPressed_=false;this.menu.unlockShowing();this.el_.setAttribute('aria-expanded','false');this.enabled_=false;return _ClickableComponent.prototype.disable.call(this);};MenuButton.prototype.enable=function enable(){this.enabled_=true;return _ClickableComponent.prototype.enable.call(this);};return MenuButton;}(_clickableComponent2['default']);_component2['default'].registerComponent('MenuButton',MenuButton);exports['default']=MenuButton;},{\"3\":3,\"49\":49,\"5\":5,\"81\":81,\"83\":83,\"91\":91}],48:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _clickableComponent=_dereq_(3);var _clickableComponent2=_interopRequireDefault(_clickableComponent);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _obj=_dereq_(88);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var MenuItem=function(_ClickableComponent){_inherits(MenuItem,_ClickableComponent);function MenuItem(player,options){_classCallCheck(this,MenuItem);var _this=_possibleConstructorReturn(this,_ClickableComponent.call(this,player,options));_this.selectable=options.selectable;_this.selected(options.selected);if(_this.selectable){_this.el_.setAttribute('role','menuitemcheckbox');}else{_this.el_.setAttribute('role','menuitem');}return _this;}MenuItem.prototype.createEl=function createEl(type,props,attrs){this.nonIconControl=true;return _ClickableComponent.prototype.createEl.call(this,'li',(0,_obj.assign)({className:'vjs-menu-item',innerHTML:this.localize(this.options_.label),tabIndex:-1},props),attrs);};MenuItem.prototype.handleClick=function handleClick(event){this.selected(true);};MenuItem.prototype.selected=function selected(_selected){if(this.selectable){if(_selected){this.addClass('vjs-selected');this.el_.setAttribute('aria-checked','true');this.controlText(', selected');}else{this.removeClass('vjs-selected');this.el_.setAttribute('aria-checked','false');this.controlText('');}}};return MenuItem;}(_clickableComponent2['default']);_component2['default'].registerComponent('MenuItem',MenuItem);exports['default']=MenuItem;},{\"3\":3,\"5\":5,\"88\":88}],49:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _events=_dereq_(82);var Events=_interopRequireWildcard(_events);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Menu=function(_Component){_inherits(Menu,_Component);function Menu(player,options){_classCallCheck(this,Menu);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.focusedChild_=-1;_this.on('keydown',_this.handleKeyPress);return _this;}Menu.prototype.addItem=function addItem(component){this.addChild(component);component.on('click',Fn.bind(this,function(event){this.unlockShowing();}));};Menu.prototype.createEl=function createEl(){var contentElType=this.options_.contentElType||'ul';this.contentEl_=Dom.createEl(contentElType,{className:'vjs-menu-content'});this.contentEl_.setAttribute('role','menu');var el=_Component.prototype.createEl.call(this,'div',{append:this.contentEl_,className:'vjs-menu'});el.setAttribute('role','presentation');el.appendChild(this.contentEl_);Events.on(el,'click',function(event){event.preventDefault();event.stopImmediatePropagation();});return el;};Menu.prototype.handleKeyPress=function handleKeyPress(event){if(event.which===37||event.which===40){event.preventDefault();this.stepForward();}else if(event.which===38||event.which===39){event.preventDefault();this.stepBack();}};Menu.prototype.stepForward=function stepForward(){var stepChild=0;if(this.focusedChild_!==undefined){stepChild=this.focusedChild_+1;}this.focus(stepChild);};Menu.prototype.stepBack=function stepBack(){var stepChild=0;if(this.focusedChild_!==undefined){stepChild=this.focusedChild_-1;}this.focus(stepChild);};Menu.prototype.focus=function focus(){var item=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var children=this.children().slice();var haveTitle=children.length&&children[0].className&&/vjs-menu-title/.test(children[0].className);if(haveTitle){children.shift();}if(children.length>0){if(item<0){item=0;}else if(item>=children.length){item=children.length-1;}this.focusedChild_=item;children[item].el_.focus();}};return Menu;}(_component2['default']);_component2['default'].registerComponent('Menu',Menu);exports['default']=Menu;},{\"5\":5,\"81\":81,\"82\":82,\"83\":83}],50:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var MODAL_CLASS_NAME='vjs-modal-dialog';var ESC=27;var ModalDialog=function(_Component){_inherits(ModalDialog,_Component);function ModalDialog(player,options){_classCallCheck(this,ModalDialog);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.opened_=_this.hasBeenOpened_=_this.hasBeenFilled_=false;_this.closeable(!_this.options_.uncloseable);_this.content(_this.options_.content);_this.contentEl_=Dom.createEl('div',{className:MODAL_CLASS_NAME+'-content'},{role:'document'});_this.descEl_=Dom.createEl('p',{className:MODAL_CLASS_NAME+'-description vjs-offscreen',id:_this.el().getAttribute('aria-describedby')});Dom.textContent(_this.descEl_,_this.description());_this.el_.appendChild(_this.descEl_);_this.el_.appendChild(_this.contentEl_);return _this;}ModalDialog.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:this.buildCSSClass(),tabIndex:-1},{'aria-describedby':this.id()+'_description','aria-hidden':'true','aria-label':this.label(),'role':'dialog'});};ModalDialog.prototype.buildCSSClass=function buildCSSClass(){return MODAL_CLASS_NAME+' vjs-hidden '+_Component.prototype.buildCSSClass.call(this);};ModalDialog.prototype.handleKeyPress=function handleKeyPress(e){if(e.which===ESC&&this.closeable()){this.close();}};ModalDialog.prototype.label=function label(){return this.options_.label||this.localize('Modal Window');};ModalDialog.prototype.description=function description(){var desc=this.options_.description||this.localize('This is a modal window.');if(this.closeable()){desc+=' '+this.localize('This modal can be closed by pressing the Escape key or activating the close button.');}return desc;};ModalDialog.prototype.open=function open(){if(!this.opened_){var player=this.player();this.trigger('beforemodalopen');this.opened_=true;if(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_){this.fill();}this.wasPlaying_=!player.paused();if(this.options_.pauseOnOpen&&this.wasPlaying_){player.pause();}if(this.closeable()){this.on(this.el_.ownerDocument,'keydown',Fn.bind(this,this.handleKeyPress));}player.controls(false);this.show();this.el().setAttribute('aria-hidden','false');this.trigger('modalopen');this.hasBeenOpened_=true;}return this;};ModalDialog.prototype.opened=function opened(value){if(typeof value==='boolean'){this[value?'open':'close']();}return this.opened_;};ModalDialog.prototype.close=function close(){if(this.opened_){var player=this.player();this.trigger('beforemodalclose');this.opened_=false;if(this.wasPlaying_&&this.options_.pauseOnOpen){player.play();}if(this.closeable()){this.off(this.el_.ownerDocument,'keydown',Fn.bind(this,this.handleKeyPress));}player.controls(true);this.hide();this.el().setAttribute('aria-hidden','true');this.trigger('modalclose');if(this.options_.temporary){this.dispose();}}return this;};ModalDialog.prototype.closeable=function closeable(value){if(typeof value==='boolean'){var closeable=this.closeable_=!!value;var close=this.getChild('closeButton');if(closeable&&!close){var temp=this.contentEl_;this.contentEl_=this.el_;close=this.addChild('closeButton',{controlText:'Close Modal Dialog'});this.contentEl_=temp;this.on(close,'close',this.close);}if(!closeable&&close){this.off(close,'close',this.close);this.removeChild(close);close.dispose();}}return this.closeable_;};ModalDialog.prototype.fill=function fill(){return this.fillWith(this.content());};ModalDialog.prototype.fillWith=function fillWith(content){var contentEl=this.contentEl();var parentEl=contentEl.parentNode;var nextSiblingEl=contentEl.nextSibling;this.trigger('beforemodalfill');this.hasBeenFilled_=true;parentEl.removeChild(contentEl);this.empty();Dom.insertContent(contentEl,content);this.trigger('modalfill');if(nextSiblingEl){parentEl.insertBefore(contentEl,nextSiblingEl);}else{parentEl.appendChild(contentEl);}return this;};ModalDialog.prototype.empty=function empty(){this.trigger('beforemodalempty');Dom.emptyEl(this.contentEl());this.trigger('modalempty');return this;};ModalDialog.prototype.content=function content(value){if(typeof value!=='undefined'){this.content_=value;}return this.content_;};return ModalDialog;}(_component2['default']);ModalDialog.prototype.options_={pauseOnOpen:true,temporary:true};_component2['default'].registerComponent('ModalDialog',ModalDialog);exports['default']=ModalDialog;},{\"5\":5,\"81\":81,\"83\":83}],51:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _events=_dereq_(82);var Events=_interopRequireWildcard(_events);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _guid=_dereq_(85);var Guid=_interopRequireWildcard(_guid);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _toTitleCase=_dereq_(91);var _toTitleCase2=_interopRequireDefault(_toTitleCase);var _timeRanges=_dereq_(90);var _buffer=_dereq_(79);var _stylesheet=_dereq_(89);var stylesheet=_interopRequireWildcard(_stylesheet);var _fullscreenApi=_dereq_(44);var _fullscreenApi2=_interopRequireDefault(_fullscreenApi);var _mediaError=_dereq_(46);var _mediaError2=_interopRequireDefault(_mediaError);var _tuple=_dereq_(97);var _tuple2=_interopRequireDefault(_tuple);var _obj=_dereq_(88);var _mergeOptions=_dereq_(87);var _mergeOptions2=_interopRequireDefault(_mergeOptions);var _textTrackListConverter=_dereq_(69);var _textTrackListConverter2=_interopRequireDefault(_textTrackListConverter);var _modalDialog=_dereq_(50);var _modalDialog2=_interopRequireDefault(_modalDialog);var _tech=_dereq_(62);var _tech2=_interopRequireDefault(_tech);var _audioTrackList=_dereq_(63);var _audioTrackList2=_interopRequireDefault(_audioTrackList);var _videoTrackList=_dereq_(76);var _videoTrackList2=_interopRequireDefault(_videoTrackList);_dereq_(61);_dereq_(59);_dereq_(55);_dereq_(68);_dereq_(45);_dereq_(1);_dereq_(4);_dereq_(8);_dereq_(41);_dereq_(71);_dereq_(60);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TECH_EVENTS_RETRIGGER=['progress','abort','suspend','emptied','stalled','loadedmetadata','loadeddata','timeupdate','ratechange','volumechange','texttrackchange'];var Player=function(_Component){_inherits(Player,_Component);function Player(tag,options,ready){_classCallCheck(this,Player);tag.id=tag.id||'vjs_video_'+Guid.newGUID();options=(0,_obj.assign)(Player.getTagSettings(tag),options);options.initChildren=false;options.createEl=false;options.reportTouchActivity=false;if(!options.language){if(typeof tag.closest==='function'){var closest=tag.closest('[lang]');if(closest){options.language=closest.getAttribute('lang');}}else{var element=tag;while(element&&element.nodeType===1){if(Dom.getElAttributes(element).hasOwnProperty('lang')){options.language=element.getAttribute('lang');break;}element=element.parentNode;}}}var _this=_possibleConstructorReturn(this,_Component.call(this,null,options,ready));if(!_this.options_||!_this.options_.techOrder||!_this.options_.techOrder.length){throw new Error('No techOrder specified. Did you overwrite '+'videojs.options instead of just changing the '+'properties you want to override?');}_this.tag=tag;_this.tagAttributes=tag&&Dom.getElAttributes(tag);_this.language(_this.options_.language);if(options.languages){var languagesToLower={};Object.getOwnPropertyNames(options.languages).forEach(function(name){languagesToLower[name.toLowerCase()]=options.languages[name];});_this.languages_=languagesToLower;}else{_this.languages_=Player.prototype.options_.languages;}_this.cache_={};_this.poster_=options.poster||'';_this.controls_=!!options.controls;tag.controls=false;_this.scrubbing_=false;_this.el_=_this.createEl();var playerOptionsCopy=(0,_mergeOptions2['default'])(_this.options_);if(options.plugins){var plugins=options.plugins;Object.getOwnPropertyNames(plugins).forEach(function(name){if(typeof this[name]==='function'){this[name](plugins[name]);}else{_log2['default'].error('Unable to find plugin:',name);}},_this);}_this.options_.playerOptions=playerOptionsCopy;_this.initChildren();_this.isAudio(tag.nodeName.toLowerCase()==='audio');if(_this.controls()){_this.addClass('vjs-controls-enabled');}else{_this.addClass('vjs-controls-disabled');}_this.el_.setAttribute('role','region');if(_this.isAudio()){_this.el_.setAttribute('aria-label','audio player');}else{_this.el_.setAttribute('aria-label','video player');}if(_this.isAudio()){_this.addClass('vjs-audio');}if(_this.flexNotSupported_()){_this.addClass('vjs-no-flex');}if(!browser.IS_IOS){_this.addClass('vjs-workinghover');}Player.players[_this.id_]=_this;var majorVersion='5.20.5'.split('.')[0];_this.addClass('vjs-v'+majorVersion);_this.userActive(true);_this.reportUserActivity();_this.listenForUserActivity_();_this.on('fullscreenchange',_this.handleFullscreenChange_);_this.on('stageclick',_this.handleStageClick_);return _this;}Player.prototype.dispose=function dispose(){this.trigger('dispose');this.off('dispose');if(this.styleEl_&&this.styleEl_.parentNode){this.styleEl_.parentNode.removeChild(this.styleEl_);}Player.players[this.id_]=null;if(this.tag&&this.tag.player){this.tag.player=null;}if(this.el_&&this.el_.player){this.el_.player=null;}if(this.tech_){this.tech_.dispose();}_Component.prototype.dispose.call(this);};Player.prototype.createEl=function createEl(){var tag=this.tag;var el=void 0;var playerElIngest=this.playerElIngest_=tag.parentNode&&tag.parentNode.hasAttribute&&tag.parentNode.hasAttribute('data-vjs-player');if(playerElIngest){el=this.el_=tag.parentNode;}else{el=this.el_=_Component.prototype.createEl.call(this,'div');}tag.setAttribute('tabindex','-1');tag.removeAttribute('width');tag.removeAttribute('height');var attrs=Dom.getElAttributes(tag);Object.getOwnPropertyNames(attrs).forEach(function(attr){if(attr==='class'){el.className+=' '+attrs[attr];}else{el.setAttribute(attr,attrs[attr]);}});tag.playerId=tag.id;tag.id+='_html5_api';tag.className='vjs-tech';tag.player=el.player=this;this.addClass('vjs-paused');if(_window2['default'].VIDEOJS_NO_DYNAMIC_STYLE!==true){this.styleEl_=stylesheet.createStyleElement('vjs-styles-dimensions');var defaultsStyleEl=Dom.$('.vjs-styles-defaults');var head=Dom.$('head');head.insertBefore(this.styleEl_,defaultsStyleEl?defaultsStyleEl.nextSibling:head.firstChild);}this.width(this.options_.width);this.height(this.options_.height);this.fluid(this.options_.fluid);this.aspectRatio(this.options_.aspectRatio);var links=tag.getElementsByTagName('a');for(var i=0;i<links.length;i++){var linkEl=links.item(i);Dom.addElClass(linkEl,'vjs-hidden');linkEl.setAttribute('hidden','hidden');}tag.initNetworkState_=tag.networkState;if(tag.parentNode&&!playerElIngest){tag.parentNode.insertBefore(el,tag);}Dom.insertElFirst(tag,el);this.children_.unshift(tag);this.el_=el;return el;};Player.prototype.width=function width(value){return this.dimension('width',value);};Player.prototype.height=function height(value){return this.dimension('height',value);};Player.prototype.dimension=function dimension(_dimension,value){var privDimension=_dimension+'_';if(value===undefined){return this[privDimension]||0;}if(value===''){this[privDimension]=undefined;}else{var parsedVal=parseFloat(value);if(isNaN(parsedVal)){_log2['default'].error('Improper value \"'+value+'\" supplied for for '+_dimension);return this;}this[privDimension]=parsedVal;}this.updateStyleEl_();return this;};Player.prototype.fluid=function fluid(bool){if(bool===undefined){return!!this.fluid_;}this.fluid_=!!bool;if(bool){this.addClass('vjs-fluid');}else{this.removeClass('vjs-fluid');}this.updateStyleEl_();};Player.prototype.aspectRatio=function aspectRatio(ratio){if(ratio===undefined){return this.aspectRatio_;}if(!/^\\d+\\:\\d+$/.test(ratio)){throw new Error('Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.');}this.aspectRatio_=ratio;this.fluid(true);this.updateStyleEl_();};Player.prototype.updateStyleEl_=function updateStyleEl_(){if(_window2['default'].VIDEOJS_NO_DYNAMIC_STYLE===true){var _width=typeof this.width_==='number'?this.width_:this.options_.width;var _height=typeof this.height_==='number'?this.height_:this.options_.height;var techEl=this.tech_&&this.tech_.el();if(techEl){if(_width>=0){techEl.width=_width;}if(_height>=0){techEl.height=_height;}}return;}var width=void 0;var height=void 0;var aspectRatio=void 0;var idClass=void 0;if(this.aspectRatio_!==undefined&&this.aspectRatio_!=='auto'){aspectRatio=this.aspectRatio_;}else if(this.videoWidth()>0){aspectRatio=this.videoWidth()+':'+this.videoHeight();}else{aspectRatio='16:9';}var ratioParts=aspectRatio.split(':');var ratioMultiplier=ratioParts[1]/ratioParts[0];if(this.width_!==undefined){width=this.width_;}else if(this.height_!==undefined){width=this.height_/ratioMultiplier;}else{width=this.videoWidth()||300;}if(this.height_!==undefined){height=this.height_;}else{height=width*ratioMultiplier;}if(/^[^a-zA-Z]/.test(this.id())){idClass='dimensions-'+this.id();}else{idClass=this.id()+'-dimensions';}this.addClass(idClass);stylesheet.setTextContent(this.styleEl_,'\\n      .'+idClass+' {\\n        width: '+width+'px;\\n        height: '+height+'px;\\n      }\\n\\n      .'+idClass+'.vjs-fluid {\\n        padding-top: '+ratioMultiplier*100+'%;\\n      }\\n    ');};Player.prototype.loadTech_=function loadTech_(techName,source){var _this2=this;if(this.tech_){this.unloadTech_();}if(techName!=='Html5'&&this.tag){_tech2['default'].getTech('Html5').disposeMediaElement(this.tag);this.tag.player=null;this.tag=null;}this.techName_=techName;this.isReady_=false;var techOptions=(0,_obj.assign)({source:source,'nativeControlsForTouch':this.options_.nativeControlsForTouch,'playerId':this.id(),'techId':this.id()+'_'+techName+'_api','videoTracks':this.videoTracks_,'textTracks':this.textTracks_,'audioTracks':this.audioTracks_,'autoplay':this.options_.autoplay,'playsinline':this.options_.playsinline,'preload':this.options_.preload,'loop':this.options_.loop,'muted':this.options_.muted,'poster':this.poster(),'language':this.language(),'playerElIngest':this.playerElIngest_||false,'vtt.js':this.options_['vtt.js']},this.options_[techName.toLowerCase()]);if(this.tag){techOptions.tag=this.tag;}if(source){this.currentType_=source.type;if(source.src===this.cache_.src&&this.cache_.currentTime>0){techOptions.startTime=this.cache_.currentTime;}this.cache_.sources=null;this.cache_.source=source;this.cache_.src=source.src;}var TechComponent=_tech2['default'].getTech(techName);if(!TechComponent){TechComponent=_component2['default'].getComponent(techName);}this.tech_=new TechComponent(techOptions);this.tech_.ready(Fn.bind(this,this.handleTechReady_),true);_textTrackListConverter2['default'].jsonToTextTracks(this.textTracksJson_||[],this.tech_);TECH_EVENTS_RETRIGGER.forEach(function(event){_this2.on(_this2.tech_,event,_this2['handleTech'+(0,_toTitleCase2['default'])(event)+'_']);});this.on(this.tech_,'loadstart',this.handleTechLoadStart_);this.on(this.tech_,'waiting',this.handleTechWaiting_);this.on(this.tech_,'canplay',this.handleTechCanPlay_);this.on(this.tech_,'canplaythrough',this.handleTechCanPlayThrough_);this.on(this.tech_,'playing',this.handleTechPlaying_);this.on(this.tech_,'ended',this.handleTechEnded_);this.on(this.tech_,'seeking',this.handleTechSeeking_);this.on(this.tech_,'seeked',this.handleTechSeeked_);this.on(this.tech_,'play',this.handleTechPlay_);this.on(this.tech_,'firstplay',this.handleTechFirstPlay_);this.on(this.tech_,'pause',this.handleTechPause_);this.on(this.tech_,'durationchange',this.handleTechDurationChange_);this.on(this.tech_,'fullscreenchange',this.handleTechFullscreenChange_);this.on(this.tech_,'error',this.handleTechError_);this.on(this.tech_,'loadedmetadata',this.updateStyleEl_);this.on(this.tech_,'posterchange',this.handleTechPosterChange_);this.on(this.tech_,'textdata',this.handleTechTextData_);this.usingNativeControls(this.techGet_('controls'));if(this.controls()&&!this.usingNativeControls()){this.addTechControlsListeners_();}if(this.tech_.el().parentNode!==this.el()&&(techName!=='Html5'||!this.tag)){Dom.insertElFirst(this.tech_.el(),this.el());}if(this.tag){this.tag.player=null;this.tag=null;}};Player.prototype.unloadTech_=function unloadTech_(){this.videoTracks_=this.videoTracks();this.textTracks_=this.textTracks();this.audioTracks_=this.audioTracks();this.textTracksJson_=_textTrackListConverter2['default'].textTracksToJson(this.tech_);this.isReady_=false;this.tech_.dispose();this.tech_=false;};Player.prototype.tech=function tech(safety){if(safety&&safety.IWillNotUseThisInPlugins){return this.tech_;}var errorText='\\n      Please make sure that you are not using this inside of a plugin.\\n      To disable this alert and error, please pass in an object with\\n      `IWillNotUseThisInPlugins` to the `tech` method. See\\n      https://github.com/videojs/video.js/issues/2617 for more info.\\n    ';_window2['default'].alert(errorText);throw new Error(errorText);};Player.prototype.addTechControlsListeners_=function addTechControlsListeners_(){this.removeTechControlsListeners_();this.on(this.tech_,'mousedown',this.handleTechClick_);this.on(this.tech_,'touchstart',this.handleTechTouchStart_);this.on(this.tech_,'touchmove',this.handleTechTouchMove_);this.on(this.tech_,'touchend',this.handleTechTouchEnd_);this.on(this.tech_,'tap',this.handleTechTap_);};Player.prototype.removeTechControlsListeners_=function removeTechControlsListeners_(){this.off(this.tech_,'tap',this.handleTechTap_);this.off(this.tech_,'touchstart',this.handleTechTouchStart_);this.off(this.tech_,'touchmove',this.handleTechTouchMove_);this.off(this.tech_,'touchend',this.handleTechTouchEnd_);this.off(this.tech_,'mousedown',this.handleTechClick_);};Player.prototype.handleTechReady_=function handleTechReady_(){this.triggerReady();if(this.cache_.volume){this.techCall_('setVolume',this.cache_.volume);}this.handleTechPosterChange_();this.handleTechDurationChange_();if((this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster;}catch(e){(0,_log2['default'])('deleting tag.poster throws in some browsers',e);}this.play();}};Player.prototype.handleTechLoadStart_=function handleTechLoadStart_(){this.removeClass('vjs-ended');this.removeClass('vjs-seeking');this.error(null);if(!this.paused()){this.trigger('loadstart');this.trigger('firstplay');}else{this.hasStarted(false);this.trigger('loadstart');}};Player.prototype.hasStarted=function hasStarted(_hasStarted){if(_hasStarted!==undefined){if(this.hasStarted_!==_hasStarted){this.hasStarted_=_hasStarted;if(_hasStarted){this.addClass('vjs-has-started');this.trigger('firstplay');}else{this.removeClass('vjs-has-started');}}return this;}return!!this.hasStarted_;};Player.prototype.handleTechPlay_=function handleTechPlay_(){this.removeClass('vjs-ended');this.removeClass('vjs-paused');this.addClass('vjs-playing');this.hasStarted(true);this.trigger('play');};Player.prototype.handleTechWaiting_=function handleTechWaiting_(){var _this3=this;this.addClass('vjs-waiting');this.trigger('waiting');this.one('timeupdate',function(){return _this3.removeClass('vjs-waiting');});};Player.prototype.handleTechCanPlay_=function handleTechCanPlay_(){this.removeClass('vjs-waiting');this.trigger('canplay');};Player.prototype.handleTechCanPlayThrough_=function handleTechCanPlayThrough_(){this.removeClass('vjs-waiting');this.trigger('canplaythrough');};Player.prototype.handleTechPlaying_=function handleTechPlaying_(){this.removeClass('vjs-waiting');this.trigger('playing');};Player.prototype.handleTechSeeking_=function handleTechSeeking_(){this.addClass('vjs-seeking');this.trigger('seeking');};Player.prototype.handleTechSeeked_=function handleTechSeeked_(){this.removeClass('vjs-seeking');this.trigger('seeked');};Player.prototype.handleTechFirstPlay_=function handleTechFirstPlay_(){if(this.options_.starttime){_log2['default'].warn('Passing the `starttime` option to the player will be deprecated in 6.0');this.currentTime(this.options_.starttime);}this.addClass('vjs-has-started');this.trigger('firstplay');};Player.prototype.handleTechPause_=function handleTechPause_(){this.removeClass('vjs-playing');this.addClass('vjs-paused');this.trigger('pause');};Player.prototype.handleTechEnded_=function handleTechEnded_(){this.addClass('vjs-ended');if(this.options_.loop){this.currentTime(0);this.play();}else if(!this.paused()){this.pause();}this.trigger('ended');};Player.prototype.handleTechDurationChange_=function handleTechDurationChange_(){this.duration(this.techGet_('duration'));};Player.prototype.handleTechClick_=function handleTechClick_(event){if(event.button!==0){return;}if(this.controls()){if(this.paused()){this.play();}else{this.pause();}}};Player.prototype.handleTechTap_=function handleTechTap_(){this.userActive(!this.userActive());};Player.prototype.handleTechTouchStart_=function handleTechTouchStart_(){this.userWasActive=this.userActive();};Player.prototype.handleTechTouchMove_=function handleTechTouchMove_(){if(this.userWasActive){this.reportUserActivity();}};Player.prototype.handleTechTouchEnd_=function handleTechTouchEnd_(event){event.preventDefault();};Player.prototype.handleFullscreenChange_=function handleFullscreenChange_(){if(this.isFullscreen()){this.addClass('vjs-fullscreen');}else{this.removeClass('vjs-fullscreen');}};Player.prototype.handleStageClick_=function handleStageClick_(){this.reportUserActivity();};Player.prototype.handleTechFullscreenChange_=function handleTechFullscreenChange_(event,data){if(data){this.isFullscreen(data.isFullscreen);}this.trigger('fullscreenchange');};Player.prototype.handleTechError_=function handleTechError_(){var error=this.tech_.error();this.error(error);};Player.prototype.handleTechTextData_=function handleTechTextData_(){var data=null;if(arguments.length>1){data=arguments[1];}this.trigger('textdata',data);};Player.prototype.getCache=function getCache(){return this.cache_;};Player.prototype.techCall_=function techCall_(method,arg){if(this.tech_&&!this.tech_.isReady_){this.tech_.ready(function(){this[method](arg);},true);}else{try{if(this.tech_){this.tech_[method](arg);}}catch(e){(0,_log2['default'])(e);throw e;}}};Player.prototype.techGet_=function techGet_(method){if(this.tech_&&this.tech_.isReady_){try{return this.tech_[method]();}catch(e){if(this.tech_[method]===undefined){(0,_log2['default'])('Video.js: '+method+' method not defined for '+this.techName_+' playback technology.',e);}else if(e.name==='TypeError'){(0,_log2['default'])('Video.js: '+method+' unavailable on '+this.techName_+' playback technology element.',e);this.tech_.isReady_=false;}else{(0,_log2['default'])(e);}throw e;}}return;};Player.prototype.play=function play(){if(this.src()||this.currentSrc()){this.techCall_('play');}else{this.tech_.one('loadstart',function(){this.play();});}return this;};Player.prototype.pause=function pause(){this.techCall_('pause');return this;};Player.prototype.paused=function paused(){return this.techGet_('paused')===false?false:true;};Player.prototype.scrubbing=function scrubbing(isScrubbing){if(isScrubbing!==undefined){this.scrubbing_=!!isScrubbing;if(isScrubbing){this.addClass('vjs-scrubbing');}else{this.removeClass('vjs-scrubbing');}return this;}return this.scrubbing_;};Player.prototype.currentTime=function currentTime(seconds){if(seconds!==undefined){this.techCall_('setCurrentTime',seconds);return this;}this.cache_.currentTime=this.techGet_('currentTime')||0;return this.cache_.currentTime;};Player.prototype.duration=function duration(seconds){if(seconds===undefined){return this.cache_.duration!==undefined?this.cache_.duration:NaN;}seconds=parseFloat(seconds);if(seconds<0){seconds=Infinity;}if(seconds!==this.cache_.duration){this.cache_.duration=seconds;if(seconds===Infinity){this.addClass('vjs-live');}else{this.removeClass('vjs-live');}this.trigger('durationchange');}return this;};Player.prototype.remainingTime=function remainingTime(){return this.duration()-this.currentTime();};Player.prototype.buffered=function buffered(){var buffered=this.techGet_('buffered');if(!buffered||!buffered.length){buffered=(0,_timeRanges.createTimeRange)(0,0);}return buffered;};Player.prototype.bufferedPercent=function bufferedPercent(){return(0,_buffer.bufferedPercent)(this.buffered(),this.duration());};Player.prototype.bufferedEnd=function bufferedEnd(){var buffered=this.buffered();var duration=this.duration();var end=buffered.end(buffered.length-1);if(end>duration){end=duration;}return end;};Player.prototype.volume=function volume(percentAsDecimal){var vol=void 0;if(percentAsDecimal!==undefined){vol=Math.max(0,Math.min(1,parseFloat(percentAsDecimal)));this.cache_.volume=vol;this.techCall_('setVolume',vol);return this;}vol=parseFloat(this.techGet_('volume'));return isNaN(vol)?1:vol;};Player.prototype.muted=function muted(_muted){if(_muted!==undefined){this.techCall_('setMuted',_muted);return this;}return this.techGet_('muted')||false;};Player.prototype.supportsFullScreen=function supportsFullScreen(){return this.techGet_('supportsFullScreen')||false;};Player.prototype.isFullscreen=function isFullscreen(isFS){if(isFS!==undefined){this.isFullscreen_=!!isFS;return this;}return!!this.isFullscreen_;};Player.prototype.requestFullscreen=function requestFullscreen(){var fsApi=_fullscreenApi2['default'];this.isFullscreen(true);if(fsApi.requestFullscreen){Events.on(_document2['default'],fsApi.fullscreenchange,Fn.bind(this,function documentFullscreenChange(e){this.isFullscreen(_document2['default'][fsApi.fullscreenElement]);if(this.isFullscreen()===false){Events.off(_document2['default'],fsApi.fullscreenchange,documentFullscreenChange);}this.trigger('fullscreenchange');}));this.el_[fsApi.requestFullscreen]();}else if(this.tech_.supportsFullScreen()){this.techCall_('enterFullScreen');}else{this.enterFullWindow();this.trigger('fullscreenchange');}return this;};Player.prototype.exitFullscreen=function exitFullscreen(){var fsApi=_fullscreenApi2['default'];this.isFullscreen(false);if(fsApi.requestFullscreen){_document2['default'][fsApi.exitFullscreen]();}else if(this.tech_.supportsFullScreen()){this.techCall_('exitFullScreen');}else{this.exitFullWindow();this.trigger('fullscreenchange');}return this;};Player.prototype.enterFullWindow=function enterFullWindow(){this.isFullWindow=true;this.docOrigOverflow=_document2['default'].documentElement.style.overflow;Events.on(_document2['default'],'keydown',Fn.bind(this,this.fullWindowOnEscKey));_document2['default'].documentElement.style.overflow='hidden';Dom.addElClass(_document2['default'].body,'vjs-full-window');this.trigger('enterFullWindow');};Player.prototype.fullWindowOnEscKey=function fullWindowOnEscKey(event){if(event.keyCode===27){if(this.isFullscreen()===true){this.exitFullscreen();}else{this.exitFullWindow();}}};Player.prototype.exitFullWindow=function exitFullWindow(){this.isFullWindow=false;Events.off(_document2['default'],'keydown',this.fullWindowOnEscKey);_document2['default'].documentElement.style.overflow=this.docOrigOverflow;Dom.removeElClass(_document2['default'].body,'vjs-full-window');this.trigger('exitFullWindow');};Player.prototype.canPlayType=function canPlayType(type){var can=void 0;for(var i=0,j=this.options_.techOrder;i<j.length;i++){var techName=(0,_toTitleCase2['default'])(j[i]);var tech=_tech2['default'].getTech(techName);if(!tech){tech=_component2['default'].getComponent(techName);}if(!tech){_log2['default'].error('The \"'+techName+'\" tech is undefined. Skipped browser support check for that tech.');continue;}if(tech.isSupported()){can=tech.canPlayType(type);if(can){return can;}}}return'';};Player.prototype.selectSource=function selectSource(sources){var _this4=this;var techs=this.options_.techOrder.map(_toTitleCase2['default']).map(function(techName){return[techName,_tech2['default'].getTech(techName)||_component2['default'].getComponent(techName)];}).filter(function(_ref){var techName=_ref[0],tech=_ref[1];if(tech){return tech.isSupported();}_log2['default'].error('The \"'+techName+'\" tech is undefined. Skipped browser support check for that tech.');return false;});var findFirstPassingTechSourcePair=function findFirstPassingTechSourcePair(outerArray,innerArray,tester){var found=void 0;outerArray.some(function(outerChoice){return innerArray.some(function(innerChoice){found=tester(outerChoice,innerChoice);if(found){return true;}});});return found;};var foundSourceAndTech=void 0;var flip=function flip(fn){return function(a,b){return fn(b,a);};};var finder=function finder(_ref2,source){var techName=_ref2[0],tech=_ref2[1];if(tech.canPlaySource(source,_this4.options_[techName.toLowerCase()])){return{source:source,tech:techName};}};if(this.options_.sourceOrder){foundSourceAndTech=findFirstPassingTechSourcePair(sources,techs,flip(finder));}else{foundSourceAndTech=findFirstPassingTechSourcePair(techs,sources,finder);}return foundSourceAndTech||false;};Player.prototype.src=function src(source){if(source===undefined){return this.techGet_('src');}var currentTech=_tech2['default'].getTech(this.techName_);if(!currentTech){currentTech=_component2['default'].getComponent(this.techName_);}if(Array.isArray(source)){this.sourceList_(source);}else if(typeof source==='string'){this.src({src:source});}else if(source instanceof Object){if(source.type&&!currentTech.canPlaySource(source,this.options_[this.techName_.toLowerCase()])){this.sourceList_([source]);}else{this.cache_.sources=null;this.cache_.source=source;this.cache_.src=source.src;this.currentType_=source.type||'';this.ready(function(){if(currentTech.prototype.hasOwnProperty('setSource')){this.techCall_('setSource',source);}else{this.techCall_('src',source.src);}if(this.options_.preload==='auto'){this.load();}if(this.options_.autoplay){this.play();}},true);}}return this;};Player.prototype.sourceList_=function sourceList_(sources){var sourceTech=this.selectSource(sources);if(sourceTech){if(sourceTech.tech===this.techName_){this.src(sourceTech.source);}else{this.loadTech_(sourceTech.tech,sourceTech.source);}this.cache_.sources=sources;}else{this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)});},0);this.triggerReady();}};Player.prototype.load=function load(){this.techCall_('load');return this;};Player.prototype.reset=function reset(){this.loadTech_((0,_toTitleCase2['default'])(this.options_.techOrder[0]),null);this.techCall_('reset');return this;};Player.prototype.currentSources=function currentSources(){var source=this.currentSource();var sources=[];if(Object.keys(source).length!==0){sources.push(source);}return this.cache_.sources||sources;};Player.prototype.currentSource=function currentSource(){var source={};var src=this.currentSrc();if(src){source.src=src;}return this.cache_.source||source;};Player.prototype.currentSrc=function currentSrc(){return this.techGet_('currentSrc')||this.cache_.src||'';};Player.prototype.currentType=function currentType(){return this.currentType_||'';};Player.prototype.preload=function preload(value){if(value!==undefined){this.techCall_('setPreload',value);this.options_.preload=value;return this;}return this.techGet_('preload');};Player.prototype.autoplay=function autoplay(value){if(value!==undefined){this.techCall_('setAutoplay',value);this.options_.autoplay=value;return this;}return this.techGet_('autoplay',value);};Player.prototype.playsinline=function playsinline(value){if(value!==undefined){this.techCall_('setPlaysinline',value);this.options_.playsinline=value;return this;}return this.techGet_('playsinline');};Player.prototype.loop=function loop(value){if(value!==undefined){this.techCall_('setLoop',value);this.options_.loop=value;return this;}return this.techGet_('loop');};Player.prototype.poster=function poster(src){if(src===undefined){return this.poster_;}if(!src){src='';}this.poster_=src;this.techCall_('setPoster',src);this.trigger('posterchange');return this;};Player.prototype.handleTechPosterChange_=function handleTechPosterChange_(){if(!this.poster_&&this.tech_&&this.tech_.poster){this.poster_=this.tech_.poster()||'';this.trigger('posterchange');}};Player.prototype.controls=function controls(bool){if(bool!==undefined){bool=!!bool;if(this.controls_!==bool){this.controls_=bool;if(this.usingNativeControls()){this.techCall_('setControls',bool);}if(bool){this.removeClass('vjs-controls-disabled');this.addClass('vjs-controls-enabled');this.trigger('controlsenabled');if(!this.usingNativeControls()){this.addTechControlsListeners_();}}else{this.removeClass('vjs-controls-enabled');this.addClass('vjs-controls-disabled');this.trigger('controlsdisabled');if(!this.usingNativeControls()){this.removeTechControlsListeners_();}}}return this;}return!!this.controls_;};Player.prototype.usingNativeControls=function usingNativeControls(bool){if(bool!==undefined){bool=!!bool;if(this.usingNativeControls_!==bool){this.usingNativeControls_=bool;if(bool){this.addClass('vjs-using-native-controls');this.trigger('usingnativecontrols');}else{this.removeClass('vjs-using-native-controls');this.trigger('usingcustomcontrols');}}return this;}return!!this.usingNativeControls_;};Player.prototype.error=function error(err){if(err===undefined){return this.error_||null;}if(err===null){this.error_=err;this.removeClass('vjs-error');if(this.errorDisplay){this.errorDisplay.close();}return this;}this.error_=new _mediaError2['default'](err);this.addClass('vjs-error');_log2['default'].error('(CODE:'+this.error_.code+' '+_mediaError2['default'].errorTypes[this.error_.code]+')',this.error_.message,this.error_);this.trigger('error');return this;};Player.prototype.reportUserActivity=function reportUserActivity(event){this.userActivity_=true;};Player.prototype.userActive=function userActive(bool){if(bool!==undefined){bool=!!bool;if(bool!==this.userActive_){this.userActive_=bool;if(bool){this.userActivity_=true;this.removeClass('vjs-user-inactive');this.addClass('vjs-user-active');this.trigger('useractive');}else{this.userActivity_=false;if(this.tech_){this.tech_.one('mousemove',function(e){e.stopPropagation();e.preventDefault();});}this.removeClass('vjs-user-active');this.addClass('vjs-user-inactive');this.trigger('userinactive');}}return this;}return this.userActive_;};Player.prototype.listenForUserActivity_=function listenForUserActivity_(){var mouseInProgress=void 0;var lastMoveX=void 0;var lastMoveY=void 0;var handleActivity=Fn.bind(this,this.reportUserActivity);var handleMouseMove=function handleMouseMove(e){if(e.screenX!==lastMoveX||e.screenY!==lastMoveY){lastMoveX=e.screenX;lastMoveY=e.screenY;handleActivity();}};var handleMouseDown=function handleMouseDown(){handleActivity();this.clearInterval(mouseInProgress);mouseInProgress=this.setInterval(handleActivity,250);};var handleMouseUp=function handleMouseUp(event){handleActivity();this.clearInterval(mouseInProgress);};this.on('mousedown',handleMouseDown);this.on('mousemove',handleMouseMove);this.on('mouseup',handleMouseUp);this.on('keydown',handleActivity);this.on('keyup',handleActivity);var inactivityTimeout=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=false;this.userActive(true);this.clearTimeout(inactivityTimeout);var timeout=this.options_.inactivityTimeout;if(timeout>0){inactivityTimeout=this.setTimeout(function(){if(!this.userActivity_){this.userActive(false);}},timeout);}}},250);};Player.prototype.playbackRate=function playbackRate(rate){if(rate!==undefined){this.techCall_('setPlaybackRate',rate);return this;}if(this.tech_&&this.tech_.featuresPlaybackRate){return this.techGet_('playbackRate');}return 1.0;};Player.prototype.isAudio=function isAudio(bool){if(bool!==undefined){this.isAudio_=!!bool;return this;}return!!this.isAudio_;};Player.prototype.videoTracks=function videoTracks(){if(!this.tech_){this.videoTracks_=this.videoTracks_||new _videoTrackList2['default']();return this.videoTracks_;}return this.tech_.videoTracks();};Player.prototype.audioTracks=function audioTracks(){if(!this.tech_){this.audioTracks_=this.audioTracks_||new _audioTrackList2['default']();return this.audioTracks_;}return this.tech_.audioTracks();};Player.prototype.textTracks=function textTracks(){if(this.tech_){return this.tech_.textTracks();}};Player.prototype.remoteTextTracks=function remoteTextTracks(){if(this.tech_){return this.tech_.remoteTextTracks();}};Player.prototype.remoteTextTrackEls=function remoteTextTrackEls(){if(this.tech_){return this.tech_.remoteTextTrackEls();}};Player.prototype.addTextTrack=function addTextTrack(kind,label,language){if(this.tech_){return this.tech_.addTextTrack(kind,label,language);}};Player.prototype.addRemoteTextTrack=function addRemoteTextTrack(options,manualCleanup){if(this.tech_){return this.tech_.addRemoteTextTrack(options,manualCleanup);}};Player.prototype.removeRemoteTextTrack=function removeRemoteTextTrack(){var _ref3=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref3$track=_ref3.track,track=_ref3$track===undefined?arguments[0]:_ref3$track;if(this.tech_){return this.tech_.removeRemoteTextTrack(track);}};Player.prototype.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return this.techGet_('getVideoPlaybackQuality');};Player.prototype.videoWidth=function videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0;};Player.prototype.videoHeight=function videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0;};Player.prototype.language=function language(code){if(code===undefined){return this.language_;}this.language_=String(code).toLowerCase();return this;};Player.prototype.languages=function languages(){return(0,_mergeOptions2['default'])(Player.prototype.options_.languages,this.languages_);};Player.prototype.toJSON=function toJSON(){var options=(0,_mergeOptions2['default'])(this.options_);var tracks=options.tracks;options.tracks=[];for(var i=0;i<tracks.length;i++){var track=tracks[i];track=(0,_mergeOptions2['default'])(track);track.player=undefined;options.tracks[i]=track;}return options;};Player.prototype.createModal=function createModal(content,options){var _this5=this;options=options||{};options.content=content||'';var modal=new _modalDialog2['default'](this,options);this.addChild(modal);modal.on('dispose',function(){_this5.removeChild(modal);});return modal.open();};Player.getTagSettings=function getTagSettings(tag){var baseOptions={sources:[],tracks:[]};var tagOptions=Dom.getElAttributes(tag);var dataSetup=tagOptions['data-setup'];if(Dom.hasElClass(tag,'vjs-fluid')){tagOptions.fluid=true;}if(dataSetup!==null){var _safeParseTuple=(0,_tuple2['default'])(dataSetup||'{}'),err=_safeParseTuple[0],data=_safeParseTuple[1];if(err){_log2['default'].error(err);}(0,_obj.assign)(tagOptions,data);}(0,_obj.assign)(baseOptions,tagOptions);if(tag.hasChildNodes()){var children=tag.childNodes;for(var i=0,j=children.length;i<j;i++){var child=children[i];var childName=child.nodeName.toLowerCase();if(childName==='source'){baseOptions.sources.push(Dom.getElAttributes(child));}else if(childName==='track'){baseOptions.tracks.push(Dom.getElAttributes(child));}}}return baseOptions;};Player.prototype.flexNotSupported_=function flexNotSupported_(){var elem=_document2['default'].createElement('i');return!('flexBasis'in elem.style||'webkitFlexBasis'in elem.style||'mozFlexBasis'in elem.style||'msFlexBasis'in elem.style||'msFlexOrder'in elem.style);};return Player;}(_component2['default']);Player.players={};var navigator=_window2['default'].navigator;Player.prototype.options_={techOrder:['html5','flash'],html5:{},flash:{},defaultVolume:0.00,inactivityTimeout:2000,playbackRates:[],children:['mediaLoader','posterImage','textTrackDisplay','loadingSpinner','bigPlayButton','controlBar','errorDisplay','textTrackSettings'],language:navigator&&(navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language)||'en',languages:{},notSupportedMessage:'No compatible source was found for this media.'};['ended','seeking','seekable','networkState','readyState'].forEach(function(fn){Player.prototype[fn]=function(){return this.techGet_(fn);};});TECH_EVENTS_RETRIGGER.forEach(function(event){Player.prototype['handleTech'+(0,_toTitleCase2['default'])(event)+'_']=function(){return this.trigger(event);};});_component2['default'].registerComponent('Player',Player);exports['default']=Player;},{\"1\":1,\"4\":4,\"41\":41,\"44\":44,\"45\":45,\"46\":46,\"5\":5,\"50\":50,\"55\":55,\"59\":59,\"60\":60,\"61\":61,\"62\":62,\"63\":63,\"68\":68,\"69\":69,\"71\":71,\"76\":76,\"78\":78,\"79\":79,\"8\":8,\"81\":81,\"82\":82,\"83\":83,\"85\":85,\"86\":86,\"87\":87,\"88\":88,\"89\":89,\"90\":90,\"91\":91,\"94\":94,\"95\":95,\"97\":97}],52:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _player=_dereq_(51);var _player2=_interopRequireDefault(_player);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}var plugin=function plugin(name,init){_player2['default'].prototype[name]=init;};exports['default']=plugin;},{\"51\":51}],53:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _clickableComponent=_dereq_(3);var _clickableComponent2=_interopRequireDefault(_clickableComponent);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var PopupButton=function(_ClickableComponent){_inherits(PopupButton,_ClickableComponent);function PopupButton(player){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,PopupButton);var _this=_possibleConstructorReturn(this,_ClickableComponent.call(this,player,options));_this.update();return _this;}PopupButton.prototype.update=function update(){var popup=this.createPopup();if(this.popup){this.removeChild(this.popup);}this.popup=popup;this.addChild(popup);if(this.items&&this.items.length===0){this.hide();}else if(this.items&&this.items.length>1){this.show();}};PopupButton.prototype.createPopup=function createPopup(){};PopupButton.prototype.createEl=function createEl(){return _ClickableComponent.prototype.createEl.call(this,'div',{className:this.buildCSSClass()});};PopupButton.prototype.buildCSSClass=function buildCSSClass(){var menuButtonClass='vjs-menu-button';if(this.options_.inline===true){menuButtonClass+='-inline';}else{menuButtonClass+='-popup';}return'vjs-menu-button '+menuButtonClass+' '+_ClickableComponent.prototype.buildCSSClass.call(this);};return PopupButton;}(_clickableComponent2['default']);_component2['default'].registerComponent('PopupButton',PopupButton);exports['default']=PopupButton;},{\"3\":3,\"5\":5}],54:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _events=_dereq_(82);var Events=_interopRequireWildcard(_events);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Popup=function(_Component){_inherits(Popup,_Component);function Popup(){_classCallCheck(this,Popup);return _possibleConstructorReturn(this,_Component.apply(this,arguments));}Popup.prototype.addItem=function addItem(component){this.addChild(component);component.on('click',Fn.bind(this,function(){this.unlockShowing();}));};Popup.prototype.createEl=function createEl(){var contentElType=this.options_.contentElType||'ul';this.contentEl_=Dom.createEl(contentElType,{className:'vjs-menu-content'});var el=_Component.prototype.createEl.call(this,'div',{append:this.contentEl_,className:'vjs-menu'});el.appendChild(this.contentEl_);Events.on(el,'click',function(event){event.preventDefault();event.stopImmediatePropagation();});return el;};return Popup;}(_component2['default']);_component2['default'].registerComponent('Popup',Popup);exports['default']=Popup;},{\"5\":5,\"81\":81,\"82\":82,\"83\":83}],55:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _clickableComponent=_dereq_(3);var _clickableComponent2=_interopRequireDefault(_clickableComponent);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var PosterImage=function(_ClickableComponent){_inherits(PosterImage,_ClickableComponent);function PosterImage(player,options){_classCallCheck(this,PosterImage);var _this=_possibleConstructorReturn(this,_ClickableComponent.call(this,player,options));_this.update();player.on('posterchange',Fn.bind(_this,_this.update));return _this;}PosterImage.prototype.dispose=function dispose(){this.player().off('posterchange',this.update);_ClickableComponent.prototype.dispose.call(this);};PosterImage.prototype.createEl=function createEl(){var el=Dom.createEl('div',{className:'vjs-poster',tabIndex:-1});if(!browser.BACKGROUND_SIZE_SUPPORTED){this.fallbackImg_=Dom.createEl('img');el.appendChild(this.fallbackImg_);}return el;};PosterImage.prototype.update=function update(event){var url=this.player().poster();this.setSrc(url);if(url){this.show();}else{this.hide();}};PosterImage.prototype.setSrc=function setSrc(url){if(this.fallbackImg_){this.fallbackImg_.src=url;}else{var backgroundImage='';if(url){backgroundImage='url(\"'+url+'\")';}this.el_.style.backgroundImage=backgroundImage;}};PosterImage.prototype.handleClick=function handleClick(event){if(!this.player_.controls()){return;}if(this.player_.paused()){this.player_.play();}else{this.player_.pause();}};return PosterImage;}(_clickableComponent2['default']);_component2['default'].registerComponent('PosterImage',PosterImage);exports['default']=PosterImage;},{\"3\":3,\"5\":5,\"78\":78,\"81\":81,\"83\":83}],56:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.hasLoaded=exports.autoSetupTimeout=exports.autoSetup=undefined;var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _events=_dereq_(82);var Events=_interopRequireWildcard(_events);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}var _windowLoaded=false;var videojs=void 0;var autoSetup=function autoSetup(){if(!Dom.isReal()){return;}var vids=_document2['default'].getElementsByTagName('video');var audios=_document2['default'].getElementsByTagName('audio');var mediaEls=[];if(vids&&vids.length>0){for(var i=0,e=vids.length;i<e;i++){mediaEls.push(vids[i]);}}if(audios&&audios.length>0){for(var _i=0,_e=audios.length;_i<_e;_i++){mediaEls.push(audios[_i]);}}if(mediaEls&&mediaEls.length>0){for(var _i2=0,_e2=mediaEls.length;_i2<_e2;_i2++){var mediaEl=mediaEls[_i2];if(mediaEl&&mediaEl.getAttribute){if(mediaEl.player===undefined){var options=mediaEl.getAttribute('data-setup');if(options!==null){videojs(mediaEl);}}}else{autoSetupTimeout(1);break;}}}else if(!_windowLoaded){autoSetupTimeout(1);}};function autoSetupTimeout(wait,vjs){if(vjs){videojs=vjs;}_window2['default'].setTimeout(autoSetup,wait);}if(Dom.isReal()&&_document2['default'].readyState==='complete'){_windowLoaded=true;}else{Events.one(_window2['default'],'load',function(){_windowLoaded=true;});}var hasLoaded=function hasLoaded(){return _windowLoaded;};exports.autoSetup=autoSetup;exports.autoSetupTimeout=autoSetupTimeout;exports.hasLoaded=hasLoaded;},{\"81\":81,\"82\":82,\"94\":94,\"95\":95}],57:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _obj=_dereq_(88);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Slider=function(_Component){_inherits(Slider,_Component);function Slider(player,options){_classCallCheck(this,Slider);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.bar=_this.getChild(_this.options_.barName);_this.vertical(!!_this.options_.vertical);_this.on('mousedown',_this.handleMouseDown);_this.on('touchstart',_this.handleMouseDown);_this.on('focus',_this.handleFocus);_this.on('blur',_this.handleBlur);_this.on('click',_this.handleClick);_this.on(player,'controlsvisible',_this.update);_this.on(player,_this.playerEvent,_this.update);return _this;}Slider.prototype.createEl=function createEl(type){var props=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var attributes=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};props.className=props.className+' vjs-slider';props=(0,_obj.assign)({tabIndex:0},props);attributes=(0,_obj.assign)({'role':'slider','aria-valuenow':0,'aria-valuemin':0,'aria-valuemax':100,'tabIndex':0},attributes);return _Component.prototype.createEl.call(this,type,props,attributes);};Slider.prototype.handleMouseDown=function handleMouseDown(event){var doc=this.bar.el_.ownerDocument;event.preventDefault();Dom.blockTextSelection();this.addClass('vjs-sliding');this.trigger('slideractive');this.on(doc,'mousemove',this.handleMouseMove);this.on(doc,'mouseup',this.handleMouseUp);this.on(doc,'touchmove',this.handleMouseMove);this.on(doc,'touchend',this.handleMouseUp);this.handleMouseMove(event);};Slider.prototype.handleMouseMove=function handleMouseMove(event){};Slider.prototype.handleMouseUp=function handleMouseUp(){var doc=this.bar.el_.ownerDocument;Dom.unblockTextSelection();this.removeClass('vjs-sliding');this.trigger('sliderinactive');this.off(doc,'mousemove',this.handleMouseMove);this.off(doc,'mouseup',this.handleMouseUp);this.off(doc,'touchmove',this.handleMouseMove);this.off(doc,'touchend',this.handleMouseUp);this.update();};Slider.prototype.update=function update(){if(!this.el_){return;}var progress=this.getPercent();var bar=this.bar;if(!bar){return;}if(typeof progress!=='number'||progress!==progress||progress<0||progress===Infinity){progress=0;}var percentage=(progress*100).toFixed(2)+'%';if(this.vertical()){bar.el().style.height=percentage;}else{bar.el().style.width=percentage;}};Slider.prototype.calculateDistance=function calculateDistance(event){var position=Dom.getPointerPosition(this.el_,event);if(this.vertical()){return position.y;}return position.x;};Slider.prototype.handleFocus=function handleFocus(){this.on(this.bar.el_.ownerDocument,'keydown',this.handleKeyPress);};Slider.prototype.handleKeyPress=function handleKeyPress(event){if(event.which===37||event.which===40){event.preventDefault();this.stepBack();}else if(event.which===38||event.which===39){event.preventDefault();this.stepForward();}};Slider.prototype.handleBlur=function handleBlur(){this.off(this.bar.el_.ownerDocument,'keydown',this.handleKeyPress);};Slider.prototype.handleClick=function handleClick(event){event.stopImmediatePropagation();event.preventDefault();};Slider.prototype.vertical=function vertical(bool){if(bool===undefined){return this.vertical_||false;}this.vertical_=!!bool;if(this.vertical_){this.addClass('vjs-slider-vertical');}else{this.addClass('vjs-slider-horizontal');}return this;};return Slider;}(_component2['default']);_component2['default'].registerComponent('Slider',Slider);exports['default']=Slider;},{\"5\":5,\"81\":81,\"88\":88}],58:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;function FlashRtmpDecorator(Flash){Flash.streamingFormats={'rtmp/mp4':'MP4','rtmp/flv':'FLV'};Flash.streamFromParts=function(connection,stream){return connection+'&'+stream;};Flash.streamToParts=function(src){var parts={connection:'',stream:''};if(!src){return parts;}var connEnd=src.search(/&(?!\\w+=)/);var streamBegin=void 0;if(connEnd!==-1){streamBegin=connEnd+1;}else{connEnd=streamBegin=src.lastIndexOf('/')+1;if(connEnd===0){connEnd=streamBegin=src.length;}}parts.connection=src.substring(0,connEnd);parts.stream=src.substring(streamBegin,src.length);return parts;};Flash.isStreamingType=function(srcType){return srcType in Flash.streamingFormats;};Flash.RTMP_RE=/^rtmp[set]?:\\/\\//i;Flash.isStreamingSrc=function(src){return Flash.RTMP_RE.test(src);};Flash.rtmpSourceHandler={};Flash.rtmpSourceHandler.canPlayType=function(type){if(Flash.isStreamingType(type)){return'maybe';}return'';};Flash.rtmpSourceHandler.canHandleSource=function(source,options){var can=Flash.rtmpSourceHandler.canPlayType(source.type);if(can){return can;}if(Flash.isStreamingSrc(source.src)){return'maybe';}return'';};Flash.rtmpSourceHandler.handleSource=function(source,tech,options){var srcParts=Flash.streamToParts(source.src);tech.setRtmpConnection(srcParts.connection);tech.setRtmpStream(srcParts.stream);};Flash.registerSourceHandler(Flash.rtmpSourceHandler);return Flash;}exports['default']=FlashRtmpDecorator;},{}],59:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _tech=_dereq_(62);var _tech2=_interopRequireDefault(_tech);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _url=_dereq_(92);var Url=_interopRequireWildcard(_url);var _timeRanges=_dereq_(90);var _flashRtmp=_dereq_(58);var _flashRtmp2=_interopRequireDefault(_flashRtmp);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _obj=_dereq_(88);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var navigator=_window2['default'].navigator;var Flash=function(_Tech){_inherits(Flash,_Tech);function Flash(options,ready){_classCallCheck(this,Flash);var _this=_possibleConstructorReturn(this,_Tech.call(this,options,ready));if(options.source){_this.ready(function(){this.setSource(options.source);},true);}if(options.startTime){_this.ready(function(){this.load();this.play();this.currentTime(options.startTime);},true);}_window2['default'].videojs=_window2['default'].videojs||{};_window2['default'].videojs.Flash=_window2['default'].videojs.Flash||{};_window2['default'].videojs.Flash.onReady=Flash.onReady;_window2['default'].videojs.Flash.onEvent=Flash.onEvent;_window2['default'].videojs.Flash.onError=Flash.onError;_this.on('seeked',function(){this.lastSeekTarget_=undefined;});return _this;}Flash.prototype.createEl=function createEl(){var options=this.options_;if(!options.swf){var ver='5.4.1';options.swf='//vjs.zencdn.net/swf/'+ver+'/video-js.swf';}var objId=options.techId;var flashVars=(0,_obj.assign)({readyFunction:'videojs.Flash.onReady',eventProxyFunction:'videojs.Flash.onEvent',errorEventProxyFunction:'videojs.Flash.onError',autoplay:options.autoplay,preload:options.preload,loop:options.loop,muted:options.muted},options.flashVars);var params=(0,_obj.assign)({wmode:'opaque',bgcolor:'#000000'},options.params);var attributes=(0,_obj.assign)({id:objId,name:objId,'class':'vjs-tech'},options.attributes);this.el_=Flash.embed(options.swf,flashVars,params,attributes);this.el_.tech=this;return this.el_;};Flash.prototype.play=function play(){if(this.ended()){this.setCurrentTime(0);}this.el_.vjs_play();};Flash.prototype.pause=function pause(){this.el_.vjs_pause();};Flash.prototype.src=function src(_src){if(_src===undefined){return this.currentSrc();}return this.setSrc(_src);};Flash.prototype.setSrc=function setSrc(src){var _this2=this;src=Url.getAbsoluteURL(src);this.el_.vjs_src(src);if(this.autoplay()){this.setTimeout(function(){return _this2.play();},0);}};Flash.prototype.seeking=function seeking(){return this.lastSeekTarget_!==undefined;};Flash.prototype.setCurrentTime=function setCurrentTime(time){var seekable=this.seekable();if(seekable.length){time=time>seekable.start(0)?time:seekable.start(0);time=time<seekable.end(seekable.length-1)?time:seekable.end(seekable.length-1);this.lastSeekTarget_=time;this.trigger('seeking');this.el_.vjs_setProperty('currentTime',time);_Tech.prototype.setCurrentTime.call(this);}};Flash.prototype.currentTime=function currentTime(){if(this.seeking()){return this.lastSeekTarget_||0;}return this.el_.vjs_getProperty('currentTime');};Flash.prototype.currentSrc=function currentSrc(){if(this.currentSource_){return this.currentSource_.src;}return this.el_.vjs_getProperty('currentSrc');};Flash.prototype.duration=function duration(){if(this.readyState()===0){return NaN;}var duration=this.el_.vjs_getProperty('duration');return duration>=0?duration:Infinity;};Flash.prototype.load=function load(){this.el_.vjs_load();};Flash.prototype.poster=function poster(){this.el_.vjs_getProperty('poster');};Flash.prototype.setPoster=function setPoster(){};Flash.prototype.seekable=function seekable(){var duration=this.duration();if(duration===0){return(0,_timeRanges.createTimeRange)();}return(0,_timeRanges.createTimeRange)(0,duration);};Flash.prototype.buffered=function buffered(){var ranges=this.el_.vjs_getProperty('buffered');if(ranges.length===0){return(0,_timeRanges.createTimeRange)();}return(0,_timeRanges.createTimeRange)(ranges[0][0],ranges[0][1]);};Flash.prototype.supportsFullScreen=function supportsFullScreen(){return false;};Flash.prototype.enterFullScreen=function enterFullScreen(){return false;};Flash.prototype.getVideoPlaybackQuality=function getVideoPlaybackQuality(){var videoPlaybackQuality=this.el_.vjs_getProperty('getVideoPlaybackQuality');if(_window2['default'].performance&&typeof _window2['default'].performance.now==='function'){videoPlaybackQuality.creationTime=_window2['default'].performance.now();}else if(_window2['default'].performance&&_window2['default'].performance.timing&&typeof _window2['default'].performance.timing.navigationStart==='number'){videoPlaybackQuality.creationTime=_window2['default'].Date.now()-_window2['default'].performance.timing.navigationStart;}return videoPlaybackQuality;};return Flash;}(_tech2['default']);var _api=Flash.prototype;var _readWrite='rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted'.split(',');var _readOnly='networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight'.split(',');function _createSetter(attr){var attrUpper=attr.charAt(0).toUpperCase()+attr.slice(1);_api['set'+attrUpper]=function(val){return this.el_.vjs_setProperty(attr,val);};}function _createGetter(attr){_api[attr]=function(){return this.el_.vjs_getProperty(attr);};}for(var i=0;i<_readWrite.length;i++){_createGetter(_readWrite[i]);_createSetter(_readWrite[i]);}for(var _i=0;_i<_readOnly.length;_i++){_createGetter(_readOnly[_i]);}Flash.isSupported=function(){return Flash.version()[0]>=10;};_tech2['default'].withSourceHandlers(Flash);Flash.nativeSourceHandler={};Flash.nativeSourceHandler.canPlayType=function(type){if(type in Flash.formats){return'maybe';}return'';};Flash.nativeSourceHandler.canHandleSource=function(source,options){var type=void 0;function guessMimeType(src){var ext=Url.getFileExtension(src);if(ext){return'video/'+ext;}return'';}if(!source.type){type=guessMimeType(source.src);}else{type=source.type.replace(/;.*/,'').toLowerCase();}return Flash.nativeSourceHandler.canPlayType(type);};Flash.nativeSourceHandler.handleSource=function(source,tech,options){tech.setSrc(source.src);};Flash.nativeSourceHandler.dispose=function(){};Flash.registerSourceHandler(Flash.nativeSourceHandler);Flash.formats={'video/flv':'FLV','video/x-flv':'FLV','video/mp4':'MP4','video/m4v':'MP4'};Flash.onReady=function(currSwf){var el=Dom.getEl(currSwf);var tech=el&&el.tech;if(tech&&tech.el()){Flash.checkReady(tech);}};Flash.checkReady=function(tech){if(!tech.el()){return;}if(tech.el().vjs_getProperty){tech.triggerReady();}else{this.setTimeout(function(){Flash.checkReady(tech);},50);}};Flash.onEvent=function(swfID,eventName){var tech=Dom.getEl(swfID).tech;var args=Array.prototype.slice.call(arguments,2);tech.setTimeout(function(){tech.trigger(eventName,args);},1);};Flash.onError=function(swfID,err){var tech=Dom.getEl(swfID).tech;if(err==='srcnotfound'){return tech.error(4);}tech.error('FLASH: '+err);};Flash.version=function(){var version='0,0,0';try{version=new _window2['default'].ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version').replace(/\\D+/g,',').match(/^,?(.+),?$/)[1];}catch(e){try{if(navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin){version=(navigator.plugins['Shockwave Flash 2.0']||navigator.plugins['Shockwave Flash']).description.replace(/\\D+/g,',').match(/^,?(.+),?$/)[1];}}catch(err){}}return version.split(',');};Flash.embed=function(swf,flashVars,params,attributes){var code=Flash.getEmbedCode(swf,flashVars,params,attributes);var obj=Dom.createEl('div',{innerHTML:code}).childNodes[0];return obj;};Flash.getEmbedCode=function(swf,flashVars,params,attributes){var objTag='<object type=\"application/x-shockwave-flash\" ';var flashVarsString='';var paramsString='';var attrsString='';if(flashVars){Object.getOwnPropertyNames(flashVars).forEach(function(key){flashVarsString+=key+'='+flashVars[key]+'&amp;';});}params=(0,_obj.assign)({movie:swf,flashvars:flashVarsString,allowScriptAccess:'always',allowNetworking:'all'},params);Object.getOwnPropertyNames(params).forEach(function(key){paramsString+='<param name=\"'+key+'\" value=\"'+params[key]+'\" />';});attributes=(0,_obj.assign)({data:swf,width:'100%',height:'100%'},attributes);Object.getOwnPropertyNames(attributes).forEach(function(key){attrsString+=key+'=\"'+attributes[key]+'\" ';});return''+objTag+attrsString+'>'+paramsString+'</object>';};(0,_flashRtmp2['default'])(Flash);_component2['default'].registerComponent('Flash',Flash);_tech2['default'].registerTech('Flash',Flash);exports['default']=Flash;},{\"5\":5,\"58\":58,\"62\":62,\"81\":81,\"88\":88,\"90\":90,\"92\":92,\"95\":95}],60:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _templateObject=_taggedTemplateLiteralLoose(['Text Tracks are being loaded from another origin but the crossorigin attribute isn\\'t used.\\n            This may prevent text tracks from loading.'],['Text Tracks are being loaded from another origin but the crossorigin attribute isn\\'t used.\\n            This may prevent text tracks from loading.']);var _tech=_dereq_(62);var _tech2=_interopRequireDefault(_tech);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _url=_dereq_(92);var Url=_interopRequireWildcard(_url);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _tsml=_dereq_(98);var _tsml2=_interopRequireDefault(_tsml);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _obj=_dereq_(88);var _mergeOptions=_dereq_(87);var _mergeOptions2=_interopRequireDefault(_mergeOptions);var _toTitleCase=_dereq_(91);var _toTitleCase2=_interopRequireDefault(_toTitleCase);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _taggedTemplateLiteralLoose(strings,raw){strings.raw=raw;return strings;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Html5=function(_Tech){_inherits(Html5,_Tech);function Html5(options,ready){_classCallCheck(this,Html5);var _this=_possibleConstructorReturn(this,_Tech.call(this,options,ready));var source=options.source;var crossoriginTracks=false;if(source&&(_this.el_.currentSrc!==source.src||options.tag&&options.tag.initNetworkState_===3)){_this.setSource(source);}else{_this.handleLateInit_(_this.el_);}if(_this.el_.hasChildNodes()){var nodes=_this.el_.childNodes;var nodesLength=nodes.length;var removeNodes=[];while(nodesLength--){var node=nodes[nodesLength];var nodeName=node.nodeName.toLowerCase();if(nodeName==='track'){if(!_this.featuresNativeTextTracks){removeNodes.push(node);}else{_this.remoteTextTrackEls().addTrackElement_(node);_this.remoteTextTracks().addTrack_(node.track);if(!crossoriginTracks&&!_this.el_.hasAttribute('crossorigin')&&Url.isCrossOrigin(node.src)){crossoriginTracks=true;}}}}for(var i=0;i<removeNodes.length;i++){_this.el_.removeChild(removeNodes[i]);}}var trackTypes=['audio','video'];trackTypes.forEach(function(type){var elTracks=_this.el()[type+'Tracks'];var techTracks=_this[type+'Tracks']();var capitalType=(0,_toTitleCase2['default'])(type);if(!_this['featuresNative'+capitalType+'Tracks']||!elTracks||!elTracks.addEventListener){return;}_this['handle'+capitalType+'TrackChange_']=function(e){techTracks.trigger({type:'change',target:techTracks,currentTarget:techTracks,srcElement:techTracks});};_this['handle'+capitalType+'TrackAdd_']=function(e){return techTracks.addTrack(e.track);};_this['handle'+capitalType+'TrackRemove_']=function(e){return techTracks.removeTrack(e.track);};elTracks.addEventListener('change',_this['handle'+capitalType+'TrackChange_']);elTracks.addEventListener('addtrack',_this['handle'+capitalType+'TrackAdd_']);elTracks.addEventListener('removetrack',_this['handle'+capitalType+'TrackRemove_']);_this['removeOld'+capitalType+'Tracks_']=function(e){return _this.removeOldTracks_(techTracks,elTracks);};_this.on('loadstart',_this['removeOld'+capitalType+'Tracks_']);});if(_this.featuresNativeTextTracks){if(crossoriginTracks){_log2['default'].warn((0,_tsml2['default'])(_templateObject));}_this.handleTextTrackChange_=Fn.bind(_this,_this.handleTextTrackChange);_this.handleTextTrackAdd_=Fn.bind(_this,_this.handleTextTrackAdd);_this.handleTextTrackRemove_=Fn.bind(_this,_this.handleTextTrackRemove);_this.proxyNativeTextTracks_();}_this.restoreMetadataTracksInIOSNativePlayer_();if((browser.TOUCH_ENABLED||browser.IS_IPHONE||browser.IS_NATIVE_ANDROID)&&options.nativeControlsForTouch===true){_this.setControls(true);}_this.proxyWebkitFullscreen_();_this.triggerReady();return _this;}Html5.prototype.dispose=function dispose(){var _this2=this;['audio','video','text'].forEach(function(type){var capitalType=(0,_toTitleCase2['default'])(type);var tl=_this2.el_[type+'Tracks'];if(tl&&tl.removeEventListener){tl.removeEventListener('change',_this2['handle'+capitalType+'TrackChange_']);tl.removeEventListener('addtrack',_this2['handle'+capitalType+'TrackAdd_']);tl.removeEventListener('removetrack',_this2['handle'+capitalType+'TrackRemove_']);}if(tl){_this2.off('loadstart',_this2['removeOld'+capitalType+'Tracks_']);}});Html5.disposeMediaElement(this.el_);_Tech.prototype.dispose.call(this);};Html5.prototype.restoreMetadataTracksInIOSNativePlayer_=function restoreMetadataTracksInIOSNativePlayer_(){var textTracks=this.textTracks();var metadataTracksPreFullscreenState=void 0;var takeMetadataTrackSnapshot=function takeMetadataTrackSnapshot(){metadataTracksPreFullscreenState=[];for(var i=0;i<textTracks.length;i++){var track=textTracks[i];if(track.kind==='metadata'){metadataTracksPreFullscreenState.push({track:track,storedMode:track.mode});}}};takeMetadataTrackSnapshot();textTracks.addEventListener('change',takeMetadataTrackSnapshot);var restoreTrackMode=function restoreTrackMode(){for(var i=0;i<metadataTracksPreFullscreenState.length;i++){var storedTrack=metadataTracksPreFullscreenState[i];if(storedTrack.track.mode==='disabled'&&storedTrack.track.mode!==storedTrack.storedMode){storedTrack.track.mode=storedTrack.storedMode;}}textTracks.removeEventListener('change',restoreTrackMode);};this.on('webkitbeginfullscreen',function(){textTracks.removeEventListener('change',takeMetadataTrackSnapshot);textTracks.removeEventListener('change',restoreTrackMode);textTracks.addEventListener('change',restoreTrackMode);});this.on('webkitendfullscreen',function(){textTracks.removeEventListener('change',takeMetadataTrackSnapshot);textTracks.addEventListener('change',takeMetadataTrackSnapshot);textTracks.removeEventListener('change',restoreTrackMode);});};Html5.prototype.createEl=function createEl(){var el=this.options_.tag;if(!el||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(el){var clone=el.cloneNode(true);if(el.parentNode){el.parentNode.insertBefore(clone,el);}Html5.disposeMediaElement(el);el=clone;}else{el=_document2['default'].createElement('video');var tagAttributes=this.options_.tag&&Dom.getElAttributes(this.options_.tag);var attributes=(0,_mergeOptions2['default'])({},tagAttributes);if(!browser.TOUCH_ENABLED||this.options_.nativeControlsForTouch!==true){delete attributes.controls;}Dom.setElAttributes(el,(0,_obj.assign)(attributes,{id:this.options_.techId,'class':'vjs-tech'}));}el.playerId=this.options_.playerId;}if(typeof this.options_.preload!=='undefined'){Dom.setAttribute(el,'preload',this.options_.preload);}var settingsAttrs=['loop','muted','playsinline','autoplay'];for(var i=settingsAttrs.length-1;i>=0;i--){var attr=settingsAttrs[i];var value=this.options_[attr];if(typeof value!=='undefined'){if(value){Dom.setAttribute(el,attr,attr);}else{Dom.removeAttribute(el,attr);}el[attr]=value;}}return el;};Html5.prototype.handleLateInit_=function handleLateInit_(el){if(el.networkState===0||el.networkState===3){return;}if(el.readyState===0){var loadstartFired=false;var setLoadstartFired=function setLoadstartFired(){loadstartFired=true;};this.on('loadstart',setLoadstartFired);var triggerLoadstart=function triggerLoadstart(){if(!loadstartFired){this.trigger('loadstart');}};this.on('loadedmetadata',triggerLoadstart);this.ready(function(){this.off('loadstart',setLoadstartFired);this.off('loadedmetadata',triggerLoadstart);if(!loadstartFired){this.trigger('loadstart');}});return;}var eventsToTrigger=['loadstart'];eventsToTrigger.push('loadedmetadata');if(el.readyState>=2){eventsToTrigger.push('loadeddata');}if(el.readyState>=3){eventsToTrigger.push('canplay');}if(el.readyState>=4){eventsToTrigger.push('canplaythrough');}this.ready(function(){eventsToTrigger.forEach(function(type){this.trigger(type);},this);});};Html5.prototype.proxyNativeTextTracks_=function proxyNativeTextTracks_(){var tt=this.el().textTracks;if(tt){for(var i=0;i<tt.length;i++){this.textTracks().addTrack_(tt[i]);}if(tt.addEventListener){tt.addEventListener('change',this.handleTextTrackChange_);tt.addEventListener('addtrack',this.handleTextTrackAdd_);tt.addEventListener('removetrack',this.handleTextTrackRemove_);}this.on('loadstart',this.removeOldTextTracks_);}};Html5.prototype.handleTextTrackChange=function handleTextTrackChange(e){var tt=this.textTracks();this.textTracks().trigger({type:'change',target:tt,currentTarget:tt,srcElement:tt});};Html5.prototype.handleTextTrackAdd=function handleTextTrackAdd(e){this.textTracks().addTrack_(e.track);};Html5.prototype.handleTextTrackRemove=function handleTextTrackRemove(e){this.textTracks().removeTrack_(e.track);};Html5.prototype.removeOldTracks_=function removeOldTracks_(techTracks,elTracks){var removeTracks=[];if(!elTracks){return;}for(var i=0;i<techTracks.length;i++){var techTrack=techTracks[i];var found=false;for(var j=0;j<elTracks.length;j++){if(elTracks[j]===techTrack){found=true;break;}}if(!found){removeTracks.push(techTrack);}}for(var _i=0;_i<removeTracks.length;_i++){var track=removeTracks[_i];techTracks.removeTrack_(track);}};Html5.prototype.removeOldTextTracks_=function removeOldTextTracks_(e){var techTracks=this.textTracks();var elTracks=this.el().textTracks;this.removeOldTracks_(techTracks,elTracks);};Html5.prototype.play=function play(){var playPromise=this.el_.play();if(playPromise!==undefined&&typeof playPromise.then==='function'){playPromise.then(null,function(e){});}};Html5.prototype.setCurrentTime=function setCurrentTime(seconds){try{this.el_.currentTime=seconds;}catch(e){(0,_log2['default'])(e,'Video is not ready. (Video.js)');}};Html5.prototype.duration=function duration(){var _this3=this;if(this.el_.duration===Infinity&&browser.IS_ANDROID&&browser.IS_CHROME){if(this.el_.currentTime===0){var checkProgress=function checkProgress(){if(_this3.el_.currentTime>0){if(_this3.el_.duration===Infinity){_this3.trigger('durationchange');}_this3.off('timeupdate',checkProgress);}};this.on('timeupdate',checkProgress);return NaN;}}return this.el_.duration||NaN;};Html5.prototype.width=function width(){return this.el_.offsetWidth;};Html5.prototype.height=function height(){return this.el_.offsetHeight;};Html5.prototype.proxyWebkitFullscreen_=function proxyWebkitFullscreen_(){var _this4=this;if(!('webkitDisplayingFullscreen'in this.el_)){return;}var endFn=function endFn(){this.trigger('fullscreenchange',{isFullscreen:false});};var beginFn=function beginFn(){if('webkitPresentationMode'in this.el_&&this.el_.webkitPresentationMode!=='picture-in-picture'){this.one('webkitendfullscreen',endFn);this.trigger('fullscreenchange',{isFullscreen:true});}};this.on('webkitbeginfullscreen',beginFn);this.on('dispose',function(){_this4.off('webkitbeginfullscreen',beginFn);_this4.off('webkitendfullscreen',endFn);});};Html5.prototype.supportsFullScreen=function supportsFullScreen(){if(typeof this.el_.webkitEnterFullScreen==='function'){var userAgent=_window2['default'].navigator&&_window2['default'].navigator.userAgent||'';if(/Android/.test(userAgent)||!/Chrome|Mac OS X 10.5/.test(userAgent)){return true;}}return false;};Html5.prototype.enterFullScreen=function enterFullScreen(){var video=this.el_;if(video.paused&&video.networkState<=video.HAVE_METADATA){this.el_.play();this.setTimeout(function(){video.pause();video.webkitEnterFullScreen();},0);}else{video.webkitEnterFullScreen();}};Html5.prototype.exitFullScreen=function exitFullScreen(){this.el_.webkitExitFullScreen();};Html5.prototype.src=function src(_src){if(_src===undefined){return this.el_.src;}this.setSrc(_src);};Html5.prototype.reset=function reset(){Html5.resetMediaElement(this.el_);};Html5.prototype.currentSrc=function currentSrc(){if(this.currentSource_){return this.currentSource_.src;}return this.el_.currentSrc;};Html5.prototype.setControls=function setControls(val){this.el_.controls=!!val;};Html5.prototype.addTextTrack=function addTextTrack(kind,label,language){if(!this.featuresNativeTextTracks){return _Tech.prototype.addTextTrack.call(this,kind,label,language);}return this.el_.addTextTrack(kind,label,language);};Html5.prototype.createRemoteTextTrack=function createRemoteTextTrack(options){if(!this.featuresNativeTextTracks){return _Tech.prototype.createRemoteTextTrack.call(this,options);}var htmlTrackElement=_document2['default'].createElement('track');if(options.kind){htmlTrackElement.kind=options.kind;}if(options.label){htmlTrackElement.label=options.label;}if(options.language||options.srclang){htmlTrackElement.srclang=options.language||options.srclang;}if(options['default']){htmlTrackElement['default']=options['default'];}if(options.id){htmlTrackElement.id=options.id;}if(options.src){htmlTrackElement.src=options.src;}return htmlTrackElement;};Html5.prototype.addRemoteTextTrack=function addRemoteTextTrack(options,manualCleanup){var htmlTrackElement=_Tech.prototype.addRemoteTextTrack.call(this,options,manualCleanup);if(this.featuresNativeTextTracks){this.el().appendChild(htmlTrackElement);}return htmlTrackElement;};Html5.prototype.removeRemoteTextTrack=function removeRemoteTextTrack(track){_Tech.prototype.removeRemoteTextTrack.call(this,track);if(this.featuresNativeTextTracks){var tracks=this.$$('track');var i=tracks.length;while(i--){if(track===tracks[i]||track===tracks[i].track){this.el().removeChild(tracks[i]);}}}};Html5.prototype.getVideoPlaybackQuality=function getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality==='function'){return this.el().getVideoPlaybackQuality();}var videoPlaybackQuality={};if(typeof this.el().webkitDroppedFrameCount!=='undefined'&&typeof this.el().webkitDecodedFrameCount!=='undefined'){videoPlaybackQuality.droppedVideoFrames=this.el().webkitDroppedFrameCount;videoPlaybackQuality.totalVideoFrames=this.el().webkitDecodedFrameCount;}if(_window2['default'].performance&&typeof _window2['default'].performance.now==='function'){videoPlaybackQuality.creationTime=_window2['default'].performance.now();}else if(_window2['default'].performance&&_window2['default'].performance.timing&&typeof _window2['default'].performance.timing.navigationStart==='number'){videoPlaybackQuality.creationTime=_window2['default'].Date.now()-_window2['default'].performance.timing.navigationStart;}return videoPlaybackQuality;};return Html5;}(_tech2['default']);if(Dom.isReal()){Html5.TEST_VID=_document2['default'].createElement('video');var track=_document2['default'].createElement('track');track.kind='captions';track.srclang='en';track.label='English';Html5.TEST_VID.appendChild(track);}Html5.isSupported=function(){try{Html5.TEST_VID.volume=0.5;}catch(e){return false;}return!!(Html5.TEST_VID&&Html5.TEST_VID.canPlayType);};Html5.canControlVolume=function(){try{var volume=Html5.TEST_VID.volume;Html5.TEST_VID.volume=volume/2+0.1;return volume!==Html5.TEST_VID.volume;}catch(e){return false;}};Html5.canControlPlaybackRate=function(){if(browser.IS_ANDROID&&browser.IS_CHROME&&browser.CHROME_VERSION<58){return false;}try{var playbackRate=Html5.TEST_VID.playbackRate;Html5.TEST_VID.playbackRate=playbackRate/2+0.1;return playbackRate!==Html5.TEST_VID.playbackRate;}catch(e){return false;}};Html5.supportsNativeTextTracks=function(){return browser.IS_ANY_SAFARI;};Html5.supportsNativeVideoTracks=function(){return!!(Html5.TEST_VID&&Html5.TEST_VID.videoTracks);};Html5.supportsNativeAudioTracks=function(){return!!(Html5.TEST_VID&&Html5.TEST_VID.audioTracks);};Html5.Events=['loadstart','suspend','abort','error','emptied','stalled','loadedmetadata','loadeddata','canplay','canplaythrough','playing','waiting','seeking','seeked','ended','durationchange','timeupdate','progress','play','pause','ratechange','volumechange'];Html5.prototype.featuresVolumeControl=Html5.canControlVolume();Html5.prototype.featuresPlaybackRate=Html5.canControlPlaybackRate();Html5.prototype.movingMediaElementInDOM=!browser.IS_IOS;Html5.prototype.featuresFullscreenResize=true;Html5.prototype.featuresProgressEvents=true;Html5.prototype.featuresTimeupdateEvents=true;Html5.prototype.featuresNativeTextTracks=Html5.supportsNativeTextTracks();Html5.prototype.featuresNativeVideoTracks=Html5.supportsNativeVideoTracks();Html5.prototype.featuresNativeAudioTracks=Html5.supportsNativeAudioTracks();var canPlayType=Html5.TEST_VID&&Html5.TEST_VID.constructor.prototype.canPlayType;var mpegurlRE=/^application\\/(?:x-|vnd\\.apple\\.)mpegurl/i;var mp4RE=/^video\\/mp4/i;Html5.patchCanPlayType=function(){if(browser.ANDROID_VERSION>=4.0&&!browser.IS_FIREFOX){Html5.TEST_VID.constructor.prototype.canPlayType=function(type){if(type&&mpegurlRE.test(type)){return'maybe';}return canPlayType.call(this,type);};}else if(browser.IS_OLD_ANDROID){Html5.TEST_VID.constructor.prototype.canPlayType=function(type){if(type&&mp4RE.test(type)){return'maybe';}return canPlayType.call(this,type);};}};Html5.unpatchCanPlayType=function(){var r=Html5.TEST_VID.constructor.prototype.canPlayType;Html5.TEST_VID.constructor.prototype.canPlayType=canPlayType;return r;};Html5.patchCanPlayType();Html5.disposeMediaElement=function(el){if(!el){return;}if(el.parentNode){el.parentNode.removeChild(el);}while(el.hasChildNodes()){el.removeChild(el.firstChild);}el.removeAttribute('src');if(typeof el.load==='function'){(function(){try{el.load();}catch(e){}})();}};Html5.resetMediaElement=function(el){if(!el){return;}var sources=el.querySelectorAll('source');var i=sources.length;while(i--){el.removeChild(sources[i]);}el.removeAttribute('src');if(typeof el.load==='function'){(function(){try{el.load();}catch(e){}})();}};['muted','defaultMuted','autoplay','controls','loop','playsinline'].forEach(function(prop){Html5.prototype[prop]=function(){return this.el_[prop]||this.el_.hasAttribute(prop);};});['muted','defaultMuted','autoplay','loop','playsinline'].forEach(function(prop){Html5.prototype['set'+(0,_toTitleCase2['default'])(prop)]=function(v){this.el_[prop]=v;if(v){this.el_.setAttribute(prop,prop);}else{this.el_.removeAttribute(prop);}};});['paused','currentTime','buffered','volume','poster','preload','error','seeking','seekable','ended','playbackRate','played','networkState','readyState','videoWidth','videoHeight'].forEach(function(prop){Html5.prototype[prop]=function(){return this.el_[prop];};});['volume','src','poster','preload','playbackRate'].forEach(function(prop){Html5.prototype['set'+(0,_toTitleCase2['default'])(prop)]=function(v){this.el_[prop]=v;};});['pause','load'].forEach(function(prop){Html5.prototype[prop]=function(){return this.el_[prop]();};});_tech2['default'].withSourceHandlers(Html5);Html5.nativeSourceHandler={};Html5.nativeSourceHandler.canPlayType=function(type){try{return Html5.TEST_VID.canPlayType(type);}catch(e){return'';}};Html5.nativeSourceHandler.canHandleSource=function(source,options){if(source.type){return Html5.nativeSourceHandler.canPlayType(source.type);}else if(source.src){var ext=Url.getFileExtension(source.src);return Html5.nativeSourceHandler.canPlayType('video/'+ext);}return'';};Html5.nativeSourceHandler.handleSource=function(source,tech,options){tech.setSrc(source.src);};Html5.nativeSourceHandler.dispose=function(){};Html5.registerSourceHandler(Html5.nativeSourceHandler);_component2['default'].registerComponent('Html5',Html5);_tech2['default'].registerTech('Html5',Html5);exports['default']=Html5;},{\"5\":5,\"62\":62,\"78\":78,\"81\":81,\"83\":83,\"86\":86,\"87\":87,\"88\":88,\"91\":91,\"92\":92,\"94\":94,\"95\":95,\"98\":98}],61:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _tech=_dereq_(62);var _tech2=_interopRequireDefault(_tech);var _toTitleCase=_dereq_(91);var _toTitleCase2=_interopRequireDefault(_toTitleCase);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var MediaLoader=function(_Component){_inherits(MediaLoader,_Component);function MediaLoader(player,options,ready){_classCallCheck(this,MediaLoader);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options,ready));if(!options.playerOptions.sources||options.playerOptions.sources.length===0){for(var i=0,j=options.playerOptions.techOrder;i<j.length;i++){var techName=(0,_toTitleCase2['default'])(j[i]);var tech=_tech2['default'].getTech(techName);if(!techName){tech=_component2['default'].getComponent(techName);}if(tech&&tech.isSupported()){player.loadTech_(techName);break;}}}else{player.src(options.playerOptions.sources);}return _this;}return MediaLoader;}(_component2['default']);_component2['default'].registerComponent('MediaLoader',MediaLoader);exports['default']=MediaLoader;},{\"5\":5,\"62\":62,\"91\":91}],62:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _htmlTrackElement=_dereq_(66);var _htmlTrackElement2=_interopRequireDefault(_htmlTrackElement);var _htmlTrackElementList=_dereq_(65);var _htmlTrackElementList2=_interopRequireDefault(_htmlTrackElementList);var _mergeOptions=_dereq_(87);var _mergeOptions2=_interopRequireDefault(_mergeOptions);var _textTrack=_dereq_(72);var _textTrack2=_interopRequireDefault(_textTrack);var _textTrackList=_dereq_(70);var _textTrackList2=_interopRequireDefault(_textTrackList);var _videoTrackList=_dereq_(76);var _videoTrackList2=_interopRequireDefault(_videoTrackList);var _audioTrackList=_dereq_(63);var _audioTrackList2=_interopRequireDefault(_audioTrackList);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _timeRanges=_dereq_(90);var _buffer=_dereq_(79);var _mediaError=_dereq_(46);var _mediaError2=_interopRequireDefault(_mediaError);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _obj=_dereq_(88);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}function createTrackHelper(self,kind,label,language){var options=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};var tracks=self.textTracks();options.kind=kind;if(label){options.label=label;}if(language){options.language=language;}options.tech=self;var track=new _textTrack2['default'](options);tracks.addTrack_(track);return track;}var Tech=function(_Component){_inherits(Tech,_Component);function Tech(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var ready=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){};_classCallCheck(this,Tech);options.reportTouchActivity=false;var _this=_possibleConstructorReturn(this,_Component.call(this,null,options,ready));_this.hasStarted_=false;_this.on('playing',function(){this.hasStarted_=true;});_this.on('loadstart',function(){this.hasStarted_=false;});_this.textTracks_=options.textTracks;_this.videoTracks_=options.videoTracks;_this.audioTracks_=options.audioTracks;if(!_this.featuresProgressEvents){_this.manualProgressOn();}if(!_this.featuresTimeupdateEvents){_this.manualTimeUpdatesOn();}['Text','Audio','Video'].forEach(function(track){if(options['native'+track+'Tracks']===false){_this['featuresNative'+track+'Tracks']=false;}});if(options.nativeCaptions===false){_this.featuresNativeTextTracks=false;}if(!_this.featuresNativeTextTracks){_this.emulateTextTracks();}_this.autoRemoteTextTracks_=new _textTrackList2['default']();_this.initTextTrackListeners();_this.initTrackListeners();if(!options.nativeControlsForTouch){_this.emitTapEvents();}if(_this.constructor){_this.name_=_this.constructor.name||'Unknown Tech';}return _this;}Tech.prototype.manualProgressOn=function manualProgressOn(){this.on('durationchange',this.onDurationChange);this.manualProgress=true;this.one('ready',this.trackProgress);};Tech.prototype.manualProgressOff=function manualProgressOff(){this.manualProgress=false;this.stopTrackingProgress();this.off('durationchange',this.onDurationChange);};Tech.prototype.trackProgress=function trackProgress(event){this.stopTrackingProgress();this.progressInterval=this.setInterval(Fn.bind(this,function(){var numBufferedPercent=this.bufferedPercent();if(this.bufferedPercent_!==numBufferedPercent){this.trigger('progress');}this.bufferedPercent_=numBufferedPercent;if(numBufferedPercent===1){this.stopTrackingProgress();}}),500);};Tech.prototype.onDurationChange=function onDurationChange(event){this.duration_=this.duration();};Tech.prototype.buffered=function buffered(){return(0,_timeRanges.createTimeRange)(0,0);};Tech.prototype.bufferedPercent=function bufferedPercent(){return(0,_buffer.bufferedPercent)(this.buffered(),this.duration_);};Tech.prototype.stopTrackingProgress=function stopTrackingProgress(){this.clearInterval(this.progressInterval);};Tech.prototype.manualTimeUpdatesOn=function manualTimeUpdatesOn(){this.manualTimeUpdates=true;this.on('play',this.trackCurrentTime);this.on('pause',this.stopTrackingCurrentTime);};Tech.prototype.manualTimeUpdatesOff=function manualTimeUpdatesOff(){this.manualTimeUpdates=false;this.stopTrackingCurrentTime();this.off('play',this.trackCurrentTime);this.off('pause',this.stopTrackingCurrentTime);};Tech.prototype.trackCurrentTime=function trackCurrentTime(){if(this.currentTimeInterval){this.stopTrackingCurrentTime();}this.currentTimeInterval=this.setInterval(function(){this.trigger({type:'timeupdate',target:this,manuallyTriggered:true});},250);};Tech.prototype.stopTrackingCurrentTime=function stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval);this.trigger({type:'timeupdate',target:this,manuallyTriggered:true});};Tech.prototype.dispose=function dispose(){this.clearTracks(['audio','video','text']);if(this.manualProgress){this.manualProgressOff();}if(this.manualTimeUpdates){this.manualTimeUpdatesOff();}_Component.prototype.dispose.call(this);};Tech.prototype.clearTracks=function clearTracks(types){var _this2=this;types=[].concat(types);types.forEach(function(type){var list=_this2[type+'Tracks']()||[];var i=list.length;while(i--){var track=list[i];if(type==='text'){_this2.removeRemoteTextTrack(track);}list.removeTrack_(track);}});};Tech.prototype.cleanupAutoTextTracks=function cleanupAutoTextTracks(){var list=this.autoRemoteTextTracks_||[];var i=list.length;while(i--){var track=list[i];this.removeRemoteTextTrack(track);}};Tech.prototype.reset=function reset(){};Tech.prototype.error=function error(err){if(err!==undefined){this.error_=new _mediaError2['default'](err);this.trigger('error');}return this.error_;};Tech.prototype.played=function played(){if(this.hasStarted_){return(0,_timeRanges.createTimeRange)(0,0);}return(0,_timeRanges.createTimeRange)();};Tech.prototype.setCurrentTime=function setCurrentTime(){if(this.manualTimeUpdates){this.trigger({type:'timeupdate',target:this,manuallyTriggered:true});}};Tech.prototype.initTextTrackListeners=function initTextTrackListeners(){var textTrackListChanges=Fn.bind(this,function(){this.trigger('texttrackchange');});var tracks=this.textTracks();if(!tracks){return;}tracks.addEventListener('removetrack',textTrackListChanges);tracks.addEventListener('addtrack',textTrackListChanges);this.on('dispose',Fn.bind(this,function(){tracks.removeEventListener('removetrack',textTrackListChanges);tracks.removeEventListener('addtrack',textTrackListChanges);}));};Tech.prototype.initTrackListeners=function initTrackListeners(){var _this3=this;var trackTypes=['video','audio'];trackTypes.forEach(function(type){var trackListChanges=function trackListChanges(){_this3.trigger(type+'trackchange');};var tracks=_this3[type+'Tracks']();tracks.addEventListener('removetrack',trackListChanges);tracks.addEventListener('addtrack',trackListChanges);_this3.on('dispose',function(){tracks.removeEventListener('removetrack',trackListChanges);tracks.removeEventListener('addtrack',trackListChanges);});});};Tech.prototype.addWebVttScript_=function addWebVttScript_(){var _this4=this;if(_window2['default'].WebVTT){return;}if(_document2['default'].body.contains(this.el())){var vtt=_dereq_(99);if(!this.options_['vtt.js']&&(0,_obj.isPlain)(vtt)&&Object.keys(vtt).length>0){this.trigger('vttjsloaded');return;}var script=_document2['default'].createElement('script');script.src=this.options_['vtt.js']||'https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js';script.onload=function(){_this4.trigger('vttjsloaded');};script.onerror=function(){_this4.trigger('vttjserror');};this.on('dispose',function(){script.onload=null;script.onerror=null;});_window2['default'].WebVTT=true;this.el().parentNode.appendChild(script);}else{this.ready(this.addWebVttScript_);}};Tech.prototype.emulateTextTracks=function emulateTextTracks(){var _this5=this;var tracks=this.textTracks();if(!tracks){return;}var remoteTracks=this.remoteTextTracks();var handleAddTrack=function handleAddTrack(e){return tracks.addTrack_(e.track);};var handleRemoveTrack=function handleRemoveTrack(e){return tracks.removeTrack_(e.track);};remoteTracks.on('addtrack',handleAddTrack);remoteTracks.on('removetrack',handleRemoveTrack);this.addWebVttScript_();var updateDisplay=function updateDisplay(){return _this5.trigger('texttrackchange');};var textTracksChanges=function textTracksChanges(){updateDisplay();for(var i=0;i<tracks.length;i++){var track=tracks[i];track.removeEventListener('cuechange',updateDisplay);if(track.mode==='showing'){track.addEventListener('cuechange',updateDisplay);}}};textTracksChanges();tracks.addEventListener('change',textTracksChanges);tracks.addEventListener('addtrack',textTracksChanges);tracks.addEventListener('removetrack',textTracksChanges);this.on('dispose',function(){remoteTracks.off('addtrack',handleAddTrack);remoteTracks.off('removetrack',handleRemoveTrack);tracks.removeEventListener('change',textTracksChanges);tracks.removeEventListener('addtrack',textTracksChanges);tracks.removeEventListener('removetrack',textTracksChanges);for(var i=0;i<tracks.length;i++){var track=tracks[i];track.removeEventListener('cuechange',updateDisplay);}});};Tech.prototype.videoTracks=function videoTracks(){this.videoTracks_=this.videoTracks_||new _videoTrackList2['default']();return this.videoTracks_;};Tech.prototype.audioTracks=function audioTracks(){this.audioTracks_=this.audioTracks_||new _audioTrackList2['default']();return this.audioTracks_;};Tech.prototype.textTracks=function textTracks(){this.textTracks_=this.textTracks_||new _textTrackList2['default']();return this.textTracks_;};Tech.prototype.remoteTextTracks=function remoteTextTracks(){this.remoteTextTracks_=this.remoteTextTracks_||new _textTrackList2['default']();return this.remoteTextTracks_;};Tech.prototype.remoteTextTrackEls=function remoteTextTrackEls(){this.remoteTextTrackEls_=this.remoteTextTrackEls_||new _htmlTrackElementList2['default']();return this.remoteTextTrackEls_;};Tech.prototype.addTextTrack=function addTextTrack(kind,label,language){if(!kind){throw new Error('TextTrack kind is required but was not provided');}return createTrackHelper(this,kind,label,language);};Tech.prototype.createRemoteTextTrack=function createRemoteTextTrack(options){var track=(0,_mergeOptions2['default'])(options,{tech:this});return new _htmlTrackElement2['default'](track);};Tech.prototype.addRemoteTextTrack=function addRemoteTextTrack(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var manualCleanup=arguments[1];var htmlTrackElement=this.createRemoteTextTrack(options);if(manualCleanup!==true&&manualCleanup!==false){_log2['default'].warn('Calling addRemoteTextTrack without explicitly setting the \"manualCleanup\" parameter to `true` is deprecated and default to `false` in future version of video.js');manualCleanup=true;}this.remoteTextTrackEls().addTrackElement_(htmlTrackElement);this.remoteTextTracks().addTrack_(htmlTrackElement.track);if(manualCleanup!==true){this.autoRemoteTextTracks_.addTrack_(htmlTrackElement.track);}return htmlTrackElement;};Tech.prototype.removeRemoteTextTrack=function removeRemoteTextTrack(track){var trackElement=this.remoteTextTrackEls().getTrackElementByTrack_(track);this.remoteTextTrackEls().removeTrackElement_(trackElement);this.remoteTextTracks().removeTrack_(track);this.autoRemoteTextTracks_.removeTrack_(track);};Tech.prototype.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return{};};Tech.prototype.setPoster=function setPoster(){};Tech.prototype.playsinline=function playsinline(){};Tech.prototype.setPlaysinline=function setPlaysinline(){};Tech.prototype.canPlayType=function canPlayType(){return'';};Tech.isTech=function isTech(component){return component.prototype instanceof Tech||component instanceof Tech||component===Tech;};Tech.registerTech=function registerTech(name,tech){if(!Tech.techs_){Tech.techs_={};}if(!Tech.isTech(tech)){throw new Error('Tech '+name+' must be a Tech');}Tech.techs_[name]=tech;return tech;};Tech.getTech=function getTech(name){if(Tech.techs_&&Tech.techs_[name]){return Tech.techs_[name];}if(_window2['default']&&_window2['default'].videojs&&_window2['default'].videojs[name]){_log2['default'].warn('The '+name+' tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)');return _window2['default'].videojs[name];}};return Tech;}(_component2['default']);Tech.prototype.textTracks_;Tech.prototype.audioTracks_;Tech.prototype.videoTracks_;Tech.prototype.featuresVolumeControl=true;Tech.prototype.featuresFullscreenResize=false;Tech.prototype.featuresPlaybackRate=false;Tech.prototype.featuresProgressEvents=false;Tech.prototype.featuresTimeupdateEvents=false;Tech.prototype.featuresNativeTextTracks=false;Tech.withSourceHandlers=function(_Tech){_Tech.registerSourceHandler=function(handler,index){var handlers=_Tech.sourceHandlers;if(!handlers){handlers=_Tech.sourceHandlers=[];}if(index===undefined){index=handlers.length;}handlers.splice(index,0,handler);};_Tech.canPlayType=function(type){var handlers=_Tech.sourceHandlers||[];var can=void 0;for(var i=0;i<handlers.length;i++){can=handlers[i].canPlayType(type);if(can){return can;}}return'';};_Tech.selectSourceHandler=function(source,options){var handlers=_Tech.sourceHandlers||[];var can=void 0;for(var i=0;i<handlers.length;i++){can=handlers[i].canHandleSource(source,options);if(can){return handlers[i];}}return null;};_Tech.canPlaySource=function(srcObj,options){var sh=_Tech.selectSourceHandler(srcObj,options);if(sh){return sh.canHandleSource(srcObj,options);}return'';};var deferrable=['seekable','duration'];deferrable.forEach(function(fnName){var originalFn=this[fnName];if(typeof originalFn!=='function'){return;}this[fnName]=function(){if(this.sourceHandler_&&this.sourceHandler_[fnName]){return this.sourceHandler_[fnName].apply(this.sourceHandler_,arguments);}return originalFn.apply(this,arguments);};},_Tech.prototype);_Tech.prototype.setSource=function(source){var sh=_Tech.selectSourceHandler(source,this.options_);if(!sh){if(_Tech.nativeSourceHandler){sh=_Tech.nativeSourceHandler;}else{_log2['default'].error('No source hander found for the current source.');}}this.disposeSourceHandler();this.off('dispose',this.disposeSourceHandler);if(sh!==_Tech.nativeSourceHandler){this.currentSource_=source;this.off(this.el_,'loadstart',_Tech.prototype.firstLoadStartListener_);this.off(this.el_,'loadstart',_Tech.prototype.successiveLoadStartListener_);this.one(this.el_,'loadstart',_Tech.prototype.firstLoadStartListener_);}this.sourceHandler_=sh.handleSource(source,this,this.options_);this.on('dispose',this.disposeSourceHandler);return this;};_Tech.prototype.firstLoadStartListener_=function(){this.one(this.el_,'loadstart',_Tech.prototype.successiveLoadStartListener_);};_Tech.prototype.successiveLoadStartListener_=function(){this.disposeSourceHandler();this.one(this.el_,'loadstart',_Tech.prototype.successiveLoadStartListener_);};_Tech.prototype.disposeSourceHandler=function(){if(this.currentSource_){this.clearTracks(['audio','video']);this.currentSource_=null;}this.cleanupAutoTextTracks();if(this.sourceHandler_){this.off(this.el_,'loadstart',_Tech.prototype.firstLoadStartListener_);this.off(this.el_,'loadstart',_Tech.prototype.successiveLoadStartListener_);if(this.sourceHandler_.dispose){this.sourceHandler_.dispose();}this.sourceHandler_=null;}};};_component2['default'].registerComponent('Tech',Tech);_component2['default'].registerComponent('MediaTechController',Tech);Tech.registerTech('Tech',Tech);exports['default']=Tech;},{\"46\":46,\"5\":5,\"63\":63,\"65\":65,\"66\":66,\"70\":70,\"72\":72,\"76\":76,\"79\":79,\"83\":83,\"86\":86,\"87\":87,\"88\":88,\"90\":90,\"94\":94,\"95\":95,\"99\":99}],63:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _trackList=_dereq_(74);var _trackList2=_interopRequireDefault(_trackList);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var disableOthers=function disableOthers(list,track){for(var i=0;i<list.length;i++){if(track.id===list[i].id){continue;}list[i].enabled=false;}};var AudioTrackList=function(_TrackList){_inherits(AudioTrackList,_TrackList);function AudioTrackList(){var _this,_ret;var tracks=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,AudioTrackList);var list=void 0;for(var i=tracks.length-1;i>=0;i--){if(tracks[i].enabled){disableOthers(tracks,tracks[i]);break;}}if(browser.IS_IE8){list=_document2['default'].createElement('custom');for(var prop in _trackList2['default'].prototype){if(prop!=='constructor'){list[prop]=_trackList2['default'].prototype[prop];}}for(var _prop in AudioTrackList.prototype){if(_prop!=='constructor'){list[_prop]=AudioTrackList.prototype[_prop];}}}list=(_this=_possibleConstructorReturn(this,_TrackList.call(this,tracks,list)),_this);list.changing_=false;return _ret=list,_possibleConstructorReturn(_this,_ret);}AudioTrackList.prototype.addTrack_=function addTrack_(track){var _this2=this;if(track.enabled){disableOthers(this,track);}_TrackList.prototype.addTrack_.call(this,track);if(!track.addEventListener){return;}track.addEventListener('enabledchange',function(){if(_this2.changing_){return;}_this2.changing_=true;disableOthers(_this2,track);_this2.changing_=false;_this2.trigger('change');});};AudioTrackList.prototype.addTrack=function addTrack(track){this.addTrack_(track);};AudioTrackList.prototype.removeTrack=function removeTrack(track){_TrackList.prototype.removeTrack_.call(this,track);};return AudioTrackList;}(_trackList2['default']);exports['default']=AudioTrackList;},{\"74\":74,\"78\":78,\"94\":94}],64:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _trackEnums=_dereq_(73);var _track=_dereq_(75);var _track2=_interopRequireDefault(_track);var _mergeOptions=_dereq_(87);var _mergeOptions2=_interopRequireDefault(_mergeOptions);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var AudioTrack=function(_Track){_inherits(AudioTrack,_Track);function AudioTrack(){var _this,_ret;var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,AudioTrack);var settings=(0,_mergeOptions2['default'])(options,{kind:_trackEnums.AudioTrackKind[options.kind]||''});var track=(_this=_possibleConstructorReturn(this,_Track.call(this,settings)),_this);var enabled=false;if(browser.IS_IE8){for(var prop in AudioTrack.prototype){if(prop!=='constructor'){track[prop]=AudioTrack.prototype[prop];}}}Object.defineProperty(track,'enabled',{get:function get(){return enabled;},set:function set(newEnabled){if(typeof newEnabled!=='boolean'||newEnabled===enabled){return;}enabled=newEnabled;this.trigger('enabledchange');}});if(settings.enabled){track.enabled=settings.enabled;}track.loaded_=true;return _ret=track,_possibleConstructorReturn(_this,_ret);}return AudioTrack;}(_track2['default']);exports['default']=AudioTrack;},{\"73\":73,\"75\":75,\"78\":78,\"87\":87}],65:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var HtmlTrackElementList=function(){function HtmlTrackElementList(){var trackElements=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,HtmlTrackElementList);var list=this;if(browser.IS_IE8){list=_document2['default'].createElement('custom');for(var prop in HtmlTrackElementList.prototype){if(prop!=='constructor'){list[prop]=HtmlTrackElementList.prototype[prop];}}}list.trackElements_=[];Object.defineProperty(list,'length',{get:function get(){return this.trackElements_.length;}});for(var i=0,length=trackElements.length;i<length;i++){list.addTrackElement_(trackElements[i]);}if(browser.IS_IE8){return list;}}HtmlTrackElementList.prototype.addTrackElement_=function addTrackElement_(trackElement){var index=this.trackElements_.length;if(!(''+index in this)){Object.defineProperty(this,index,{get:function get(){return this.trackElements_[index];}});}if(this.trackElements_.indexOf(trackElement)===-1){this.trackElements_.push(trackElement);}};HtmlTrackElementList.prototype.getTrackElementByTrack_=function getTrackElementByTrack_(track){var trackElement_=void 0;for(var i=0,length=this.trackElements_.length;i<length;i++){if(track===this.trackElements_[i].track){trackElement_=this.trackElements_[i];break;}}return trackElement_;};HtmlTrackElementList.prototype.removeTrackElement_=function removeTrackElement_(trackElement){for(var i=0,length=this.trackElements_.length;i<length;i++){if(trackElement===this.trackElements_[i]){this.trackElements_.splice(i,1);break;}}};return HtmlTrackElementList;}();exports['default']=HtmlTrackElementList;},{\"78\":78,\"94\":94}],66:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _eventTarget=_dereq_(42);var _eventTarget2=_interopRequireDefault(_eventTarget);var _textTrack=_dereq_(72);var _textTrack2=_interopRequireDefault(_textTrack);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var NONE=0;var LOADING=1;var LOADED=2;var ERROR=3;var HTMLTrackElement=function(_EventTarget){_inherits(HTMLTrackElement,_EventTarget);function HTMLTrackElement(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,HTMLTrackElement);var _this=_possibleConstructorReturn(this,_EventTarget.call(this));var readyState=void 0;var trackElement=_this;if(browser.IS_IE8){trackElement=_document2['default'].createElement('custom');for(var prop in HTMLTrackElement.prototype){if(prop!=='constructor'){trackElement[prop]=HTMLTrackElement.prototype[prop];}}}var track=new _textTrack2['default'](options);trackElement.kind=track.kind;trackElement.src=track.src;trackElement.srclang=track.language;trackElement.label=track.label;trackElement['default']=track['default'];Object.defineProperty(trackElement,'readyState',{get:function get(){return readyState;}});Object.defineProperty(trackElement,'track',{get:function get(){return track;}});readyState=NONE;track.addEventListener('loadeddata',function(){readyState=LOADED;trackElement.trigger({type:'load',target:trackElement});});if(browser.IS_IE8){var _ret;return _ret=trackElement,_possibleConstructorReturn(_this,_ret);}return _this;}return HTMLTrackElement;}(_eventTarget2['default']);HTMLTrackElement.prototype.allowedEvents_={load:'load'};HTMLTrackElement.NONE=NONE;HTMLTrackElement.LOADING=LOADING;HTMLTrackElement.LOADED=LOADED;HTMLTrackElement.ERROR=ERROR;exports['default']=HTMLTrackElement;},{\"42\":42,\"72\":72,\"78\":78,\"94\":94}],67:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var TextTrackCueList=function(){function TextTrackCueList(cues){_classCallCheck(this,TextTrackCueList);var list=this;if(browser.IS_IE8){list=_document2['default'].createElement('custom');for(var prop in TextTrackCueList.prototype){if(prop!=='constructor'){list[prop]=TextTrackCueList.prototype[prop];}}}TextTrackCueList.prototype.setCues_.call(list,cues);Object.defineProperty(list,'length',{get:function get(){return this.length_;}});if(browser.IS_IE8){return list;}}TextTrackCueList.prototype.setCues_=function setCues_(cues){var oldLength=this.length||0;var i=0;var l=cues.length;this.cues_=cues;this.length_=cues.length;var defineProp=function defineProp(index){if(!(''+index in this)){Object.defineProperty(this,''+index,{get:function get(){return this.cues_[index];}});}};if(oldLength<l){i=oldLength;for(;i<l;i++){defineProp.call(this,i);}}};TextTrackCueList.prototype.getCueById=function getCueById(id){var result=null;for(var i=0,l=this.length;i<l;i++){var cue=this[i];if(cue.id===id){result=cue;break;}}return result;};return TextTrackCueList;}();exports['default']=TextTrackCueList;},{\"78\":78,\"94\":94}],68:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var darkGray='#222';var lightGray='#ccc';var fontMap={monospace:'monospace',sansSerif:'sans-serif',serif:'serif',monospaceSansSerif:'\"Andale Mono\", \"Lucida Console\", monospace',monospaceSerif:'\"Courier New\", monospace',proportionalSansSerif:'sans-serif',proportionalSerif:'serif',casual:'\"Comic Sans MS\", Impact, fantasy',script:'\"Monotype Corsiva\", cursive',smallcaps:'\"Andale Mono\", \"Lucida Console\", monospace, sans-serif'};function constructColor(color,opacity){return'rgba('+parseInt(color[1]+color[1],16)+','+parseInt(color[2]+color[2],16)+','+parseInt(color[3]+color[3],16)+','+opacity+')';}function tryUpdateStyle(el,style,rule){try{el.style[style]=rule;}catch(e){return;}}var TextTrackDisplay=function(_Component){_inherits(TextTrackDisplay,_Component);function TextTrackDisplay(player,options,ready){_classCallCheck(this,TextTrackDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options,ready));player.on('loadstart',Fn.bind(_this,_this.toggleDisplay));player.on('texttrackchange',Fn.bind(_this,_this.updateDisplay));player.ready(Fn.bind(_this,function(){if(player.tech_&&player.tech_.featuresNativeTextTracks){this.hide();return;}player.on('fullscreenchange',Fn.bind(this,this.updateDisplay));var tracks=this.options_.playerOptions.tracks||[];for(var i=0;i<tracks.length;i++){this.player_.addRemoteTextTrack(tracks[i],true);}var modes={captions:1,subtitles:1};var trackList=this.player_.textTracks();var firstDesc=void 0;var firstCaptions=void 0;if(trackList){for(var _i=0;_i<trackList.length;_i++){var track=trackList[_i];if(track['default']){if(track.kind==='descriptions'&&!firstDesc){firstDesc=track;}else if(track.kind in modes&&!firstCaptions){firstCaptions=track;}}}if(firstCaptions){firstCaptions.mode='showing';}else if(firstDesc){firstDesc.mode='showing';}}}));return _this;}TextTrackDisplay.prototype.toggleDisplay=function toggleDisplay(){if(this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks){this.hide();}else{this.show();}};TextTrackDisplay.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-text-track-display'},{'aria-live':'off','aria-atomic':'true'});};TextTrackDisplay.prototype.clearDisplay=function clearDisplay(){if(typeof _window2['default'].WebVTT==='function'){_window2['default'].WebVTT.processCues(_window2['default'],[],this.el_);}};TextTrackDisplay.prototype.updateDisplay=function updateDisplay(){var tracks=this.player_.textTracks();this.clearDisplay();if(!tracks){return;}var descriptionsTrack=null;var captionsSubtitlesTrack=null;var i=tracks.length;while(i--){var track=tracks[i];if(track.mode==='showing'){if(track.kind==='descriptions'){descriptionsTrack=track;}else{captionsSubtitlesTrack=track;}}}if(captionsSubtitlesTrack){if(this.getAttribute('aria-live')!=='off'){this.setAttribute('aria-live','off');}this.updateForTrack(captionsSubtitlesTrack);}else if(descriptionsTrack){if(this.getAttribute('aria-live')!=='assertive'){this.setAttribute('aria-live','assertive');}this.updateForTrack(descriptionsTrack);}};TextTrackDisplay.prototype.updateForTrack=function updateForTrack(track){if(typeof _window2['default'].WebVTT!=='function'||!track.activeCues){return;}var overrides=this.player_.textTrackSettings.getValues();var cues=[];for(var _i2=0;_i2<track.activeCues.length;_i2++){cues.push(track.activeCues[_i2]);}_window2['default'].WebVTT.processCues(_window2['default'],cues,this.el_);var i=cues.length;while(i--){var cue=cues[i];if(!cue){continue;}var cueDiv=cue.displayState;if(overrides.color){cueDiv.firstChild.style.color=overrides.color;}if(overrides.textOpacity){tryUpdateStyle(cueDiv.firstChild,'color',constructColor(overrides.color||'#fff',overrides.textOpacity));}if(overrides.backgroundColor){cueDiv.firstChild.style.backgroundColor=overrides.backgroundColor;}if(overrides.backgroundOpacity){tryUpdateStyle(cueDiv.firstChild,'backgroundColor',constructColor(overrides.backgroundColor||'#000',overrides.backgroundOpacity));}if(overrides.windowColor){if(overrides.windowOpacity){tryUpdateStyle(cueDiv,'backgroundColor',constructColor(overrides.windowColor,overrides.windowOpacity));}else{cueDiv.style.backgroundColor=overrides.windowColor;}}if(overrides.edgeStyle){if(overrides.edgeStyle==='dropshadow'){cueDiv.firstChild.style.textShadow='2px 2px 3px '+darkGray+', 2px 2px 4px '+darkGray+', 2px 2px 5px '+darkGray;}else if(overrides.edgeStyle==='raised'){cueDiv.firstChild.style.textShadow='1px 1px '+darkGray+', 2px 2px '+darkGray+', 3px 3px '+darkGray;}else if(overrides.edgeStyle==='depressed'){cueDiv.firstChild.style.textShadow='1px 1px '+lightGray+', 0 1px '+lightGray+', -1px -1px '+darkGray+', 0 -1px '+darkGray;}else if(overrides.edgeStyle==='uniform'){cueDiv.firstChild.style.textShadow='0 0 4px '+darkGray+', 0 0 4px '+darkGray+', 0 0 4px '+darkGray+', 0 0 4px '+darkGray;}}if(overrides.fontPercent&&overrides.fontPercent!==1){var fontSize=_window2['default'].parseFloat(cueDiv.style.fontSize);cueDiv.style.fontSize=fontSize*overrides.fontPercent+'px';cueDiv.style.height='auto';cueDiv.style.top='auto';cueDiv.style.bottom='2px';}if(overrides.fontFamily&&overrides.fontFamily!=='default'){if(overrides.fontFamily==='small-caps'){cueDiv.firstChild.style.fontVariant='small-caps';}else{cueDiv.firstChild.style.fontFamily=fontMap[overrides.fontFamily];}}}};return TextTrackDisplay;}(_component2['default']);_component2['default'].registerComponent('TextTrackDisplay',TextTrackDisplay);exports['default']=TextTrackDisplay;},{\"5\":5,\"83\":83,\"95\":95}],69:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var trackToJson_=function trackToJson_(track){var ret=['kind','label','language','id','inBandMetadataTrackDispatchType','mode','src'].reduce(function(acc,prop,i){if(track[prop]){acc[prop]=track[prop];}return acc;},{cues:track.cues&&Array.prototype.map.call(track.cues,function(cue){return{startTime:cue.startTime,endTime:cue.endTime,text:cue.text,id:cue.id};})});return ret;};var textTracksToJson=function textTracksToJson(tech){var trackEls=tech.$$('track');var trackObjs=Array.prototype.map.call(trackEls,function(t){return t.track;});var tracks=Array.prototype.map.call(trackEls,function(trackEl){var json=trackToJson_(trackEl.track);if(trackEl.src){json.src=trackEl.src;}return json;});return tracks.concat(Array.prototype.filter.call(tech.textTracks(),function(track){return trackObjs.indexOf(track)===-1;}).map(trackToJson_));};var jsonToTextTracks=function jsonToTextTracks(json,tech){json.forEach(function(track){var addedTrack=tech.addRemoteTextTrack(track).track;if(!track.src&&track.cues){track.cues.forEach(function(cue){return addedTrack.addCue(cue);});}});return tech.textTracks();};exports['default']={textTracksToJson:textTracksToJson,jsonToTextTracks:jsonToTextTracks,trackToJson_:trackToJson_};},{}],70:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _trackList=_dereq_(74);var _trackList2=_interopRequireDefault(_trackList);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TextTrackList=function(_TrackList){_inherits(TextTrackList,_TrackList);function TextTrackList(){var _this,_ret;var tracks=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,TextTrackList);var list=void 0;if(browser.IS_IE8){list=_document2['default'].createElement('custom');for(var prop in _trackList2['default'].prototype){if(prop!=='constructor'){list[prop]=_trackList2['default'].prototype[prop];}}for(var _prop in TextTrackList.prototype){if(_prop!=='constructor'){list[_prop]=TextTrackList.prototype[_prop];}}}list=(_this=_possibleConstructorReturn(this,_TrackList.call(this,tracks,list)),_this);return _ret=list,_possibleConstructorReturn(_this,_ret);}TextTrackList.prototype.addTrack_=function addTrack_(track){_TrackList.prototype.addTrack_.call(this,track);track.addEventListener('modechange',Fn.bind(this,function(){this.trigger('change');}));};return TextTrackList;}(_trackList2['default']);exports['default']=TextTrackList;},{\"74\":74,\"78\":78,\"83\":83,\"94\":94}],71:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _obj=_dereq_(88);var Obj=_interopRequireWildcard(_obj);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var LOCAL_STORAGE_KEY='vjs-text-track-settings';var COLOR_BLACK=['#000','Black'];var COLOR_BLUE=['#00F','Blue'];var COLOR_CYAN=['#0FF','Cyan'];var COLOR_GREEN=['#0F0','Green'];var COLOR_MAGENTA=['#F0F','Magenta'];var COLOR_RED=['#F00','Red'];var COLOR_WHITE=['#FFF','White'];var COLOR_YELLOW=['#FF0','Yellow'];var OPACITY_OPAQUE=['1','Opaque'];var OPACITY_SEMI=['0.5','Semi-Transparent'];var OPACITY_TRANS=['0','Transparent'];var selectConfigs={backgroundColor:{selector:'.vjs-bg-color > select',id:'captions-background-color-%s',label:'Color',options:[COLOR_BLACK,COLOR_WHITE,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},backgroundOpacity:{selector:'.vjs-bg-opacity > select',id:'captions-background-opacity-%s',label:'Transparency',options:[OPACITY_OPAQUE,OPACITY_SEMI,OPACITY_TRANS]},color:{selector:'.vjs-fg-color > select',id:'captions-foreground-color-%s',label:'Color',options:[COLOR_WHITE,COLOR_BLACK,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},edgeStyle:{selector:'.vjs-edge-style > select',id:'%s',label:'Text Edge Style',options:[['none','None'],['raised','Raised'],['depressed','Depressed'],['uniform','Uniform'],['dropshadow','Dropshadow']]},fontFamily:{selector:'.vjs-font-family > select',id:'captions-font-family-%s',label:'Font Family',options:[['proportionalSansSerif','Proportional Sans-Serif'],['monospaceSansSerif','Monospace Sans-Serif'],['proportionalSerif','Proportional Serif'],['monospaceSerif','Monospace Serif'],['casual','Casual'],['script','Script'],['small-caps','Small Caps']]},fontPercent:{selector:'.vjs-font-percent > select',id:'captions-font-size-%s',label:'Font Size',options:[['0.50','50%'],['0.75','75%'],['1.00','100%'],['1.25','125%'],['1.50','150%'],['1.75','175%'],['2.00','200%'],['3.00','300%'],['4.00','400%']],'default':2,parser:function parser(v){return v==='1.00'?null:Number(v);}},textOpacity:{selector:'.vjs-text-opacity > select',id:'captions-foreground-opacity-%s',label:'Transparency',options:[OPACITY_OPAQUE,OPACITY_SEMI]},windowColor:{selector:'.vjs-window-color > select',id:'captions-window-color-%s',label:'Color'},windowOpacity:{selector:'.vjs-window-opacity > select',id:'captions-window-opacity-%s',label:'Transparency',options:[OPACITY_TRANS,OPACITY_SEMI,OPACITY_OPAQUE]}};selectConfigs.windowColor.options=selectConfigs.backgroundColor.options;function parseOptionValue(value,parser){if(parser){value=parser(value);}if(value&&value!=='none'){return value;}}function getSelectedOptionValue(el,parser){var value=el.options[el.options.selectedIndex].value;return parseOptionValue(value,parser);}function setSelectedOption(el,value,parser){if(!value){return;}for(var i=0;i<el.options.length;i++){if(parseOptionValue(el.options[i].value,parser)===value){el.selectedIndex=i;break;}}}var TextTrackSettings=function(_Component){_inherits(TextTrackSettings,_Component);function TextTrackSettings(player,options){_classCallCheck(this,TextTrackSettings);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.setDefaults();_this.hide();_this.updateDisplay=Fn.bind(_this,_this.updateDisplay);if(options.persistTextTrackSettings===undefined){_this.options_.persistTextTrackSettings=_this.options_.playerOptions.persistTextTrackSettings;}_this.on(_this.$('.vjs-done-button'),'click',function(){_this.saveSettings();_this.hide();});_this.on(_this.$('.vjs-default-button'),'click',function(){_this.setDefaults();_this.updateDisplay();});Obj.each(selectConfigs,function(config){_this.on(_this.$(config.selector),'change',_this.updateDisplay);});if(_this.options_.persistTextTrackSettings){_this.restoreSettings();}return _this;}TextTrackSettings.prototype.createElSelect_=function createElSelect_(key){var _this2=this;var config=selectConfigs[key];var id=config.id.replace('%s',this.id_);return[(0,_dom.createEl)('label',{className:'vjs-label',textContent:config.label},{'for':id}),(0,_dom.createEl)('select',{id:id},undefined,config.options.map(function(o){return(0,_dom.createEl)('option',{textContent:_this2.localize(o[1]),value:o[0]});}))];};TextTrackSettings.prototype.createElFgColor_=function createElFgColor_(){var legend=(0,_dom.createEl)('legend',{textContent:this.localize('Text')});var select=this.createElSelect_('color');var opacity=(0,_dom.createEl)('span',{className:'vjs-text-opacity vjs-opacity'},undefined,this.createElSelect_('textOpacity'));return(0,_dom.createEl)('fieldset',{className:'vjs-fg-color vjs-tracksetting'},undefined,[legend].concat(select,opacity));};TextTrackSettings.prototype.createElBgColor_=function createElBgColor_(){var legend=(0,_dom.createEl)('legend',{textContent:this.localize('Background')});var select=this.createElSelect_('backgroundColor');var opacity=(0,_dom.createEl)('span',{className:'vjs-bg-opacity vjs-opacity'},undefined,this.createElSelect_('backgroundOpacity'));return(0,_dom.createEl)('fieldset',{className:'vjs-bg-color vjs-tracksetting'},undefined,[legend].concat(select,opacity));};TextTrackSettings.prototype.createElWinColor_=function createElWinColor_(){var legend=(0,_dom.createEl)('legend',{textContent:this.localize('Window')});var select=this.createElSelect_('windowColor');var opacity=(0,_dom.createEl)('span',{className:'vjs-window-opacity vjs-opacity'},undefined,this.createElSelect_('windowOpacity'));return(0,_dom.createEl)('fieldset',{className:'vjs-window-color vjs-tracksetting'},undefined,[legend].concat(select,opacity));};TextTrackSettings.prototype.createElColors_=function createElColors_(){return(0,_dom.createEl)('div',{className:'vjs-tracksettings-colors'},undefined,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()]);};TextTrackSettings.prototype.createElFont_=function createElFont_(){var fontPercent=(0,_dom.createEl)('div',{className:'vjs-font-percent vjs-tracksetting'},undefined,this.createElSelect_('fontPercent'));var edgeStyle=(0,_dom.createEl)('div',{className:'vjs-edge-style vjs-tracksetting'},undefined,this.createElSelect_('edgeStyle'));var fontFamily=(0,_dom.createEl)('div',{className:'vjs-font-family vjs-tracksetting'},undefined,this.createElSelect_('fontFamily'));return(0,_dom.createEl)('div',{className:'vjs-tracksettings-font'},undefined,[fontPercent,edgeStyle,fontFamily]);};TextTrackSettings.prototype.createElControls_=function createElControls_(){var defaultsButton=(0,_dom.createEl)('button',{className:'vjs-default-button',textContent:this.localize('Defaults')});var doneButton=(0,_dom.createEl)('button',{className:'vjs-done-button',textContent:'Done'});return(0,_dom.createEl)('div',{className:'vjs-tracksettings-controls'},undefined,[defaultsButton,doneButton]);};TextTrackSettings.prototype.createEl=function createEl(){var settings=(0,_dom.createEl)('div',{className:'vjs-tracksettings'},undefined,[this.createElColors_(),this.createElFont_(),this.createElControls_()]);var heading=(0,_dom.createEl)('div',{className:'vjs-control-text',id:'TTsettingsDialogLabel-'+this.id_,textContent:'Caption Settings Dialog'},{'aria-level':'1','role':'heading'});var description=(0,_dom.createEl)('div',{className:'vjs-control-text',id:'TTsettingsDialogDescription-'+this.id_,textContent:'Beginning of dialog window. Escape will cancel and close the window.'});var doc=(0,_dom.createEl)('div',undefined,{role:'document'},[heading,description,settings]);return(0,_dom.createEl)('div',{className:'vjs-caption-settings vjs-modal-overlay',tabIndex:-1},{'role':'dialog','aria-labelledby':heading.id,'aria-describedby':description.id},doc);};TextTrackSettings.prototype.getValues=function getValues(){var _this3=this;return Obj.reduce(selectConfigs,function(accum,config,key){var value=getSelectedOptionValue(_this3.$(config.selector),config.parser);if(value!==undefined){accum[key]=value;}return accum;},{});};TextTrackSettings.prototype.setValues=function setValues(values){var _this4=this;Obj.each(selectConfigs,function(config,key){setSelectedOption(_this4.$(config.selector),values[key],config.parser);});};TextTrackSettings.prototype.setDefaults=function setDefaults(){var _this5=this;Obj.each(selectConfigs,function(config){var index=config.hasOwnProperty('default')?config['default']:0;_this5.$(config.selector).selectedIndex=index;});};TextTrackSettings.prototype.restoreSettings=function restoreSettings(){var values=void 0;try{values=JSON.parse(_window2['default'].localStorage.getItem(LOCAL_STORAGE_KEY));}catch(err){_log2['default'].warn(err);}if(values){this.setValues(values);}};TextTrackSettings.prototype.saveSettings=function saveSettings(){if(!this.options_.persistTextTrackSettings){return;}var values=this.getValues();try{if(Object.keys(values).length){_window2['default'].localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(values));}else{_window2['default'].localStorage.removeItem(LOCAL_STORAGE_KEY);}}catch(err){_log2['default'].warn(err);}};TextTrackSettings.prototype.updateDisplay=function updateDisplay(){var ttDisplay=this.player_.getChild('textTrackDisplay');if(ttDisplay){ttDisplay.updateDisplay();}};return TextTrackSettings;}(_component2['default']);_component2['default'].registerComponent('TextTrackSettings',TextTrackSettings);exports['default']=TextTrackSettings;},{\"5\":5,\"81\":81,\"83\":83,\"86\":86,\"88\":88,\"95\":95}],72:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _textTrackCueList=_dereq_(67);var _textTrackCueList2=_interopRequireDefault(_textTrackCueList);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _trackEnums=_dereq_(73);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _track=_dereq_(75);var _track2=_interopRequireDefault(_track);var _url=_dereq_(92);var _xhr=_dereq_(104);var _xhr2=_interopRequireDefault(_xhr);var _mergeOptions=_dereq_(87);var _mergeOptions2=_interopRequireDefault(_mergeOptions);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var parseCues=function parseCues(srcContent,track){var parser=new _window2['default'].WebVTT.Parser(_window2['default'],_window2['default'].vttjs,_window2['default'].WebVTT.StringDecoder());var errors=[];parser.oncue=function(cue){track.addCue(cue);};parser.onparsingerror=function(error){errors.push(error);};parser.onflush=function(){track.trigger({type:'loadeddata',target:track});};parser.parse(srcContent);if(errors.length>0){if(_window2['default'].console&&_window2['default'].console.groupCollapsed){_window2['default'].console.groupCollapsed('Text Track parsing errors for '+track.src);}errors.forEach(function(error){return _log2['default'].error(error);});if(_window2['default'].console&&_window2['default'].console.groupEnd){_window2['default'].console.groupEnd();}}parser.flush();};var loadTrack=function loadTrack(src,track){var opts={uri:src};var crossOrigin=(0,_url.isCrossOrigin)(src);if(crossOrigin){opts.cors=crossOrigin;}(0,_xhr2['default'])(opts,Fn.bind(this,function(err,response,responseBody){if(err){return _log2['default'].error(err,response);}track.loaded_=true;if(typeof _window2['default'].WebVTT!=='function'){if(track.tech_){var loadHandler=function loadHandler(){return parseCues(responseBody,track);};track.tech_.on('vttjsloaded',loadHandler);track.tech_.on('vttjserror',function(){_log2['default'].error('vttjs failed to load, stopping trying to process '+track.src);track.tech_.off('vttjsloaded',loadHandler);});}}else{parseCues(responseBody,track);}}));};var TextTrack=function(_Track){_inherits(TextTrack,_Track);function TextTrack(){var _this,_ret;var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,TextTrack);if(!options.tech){throw new Error('A tech was not provided.');}var settings=(0,_mergeOptions2['default'])(options,{kind:_trackEnums.TextTrackKind[options.kind]||'subtitles',language:options.language||options.srclang||''});var mode=_trackEnums.TextTrackMode[settings.mode]||'disabled';var default_=settings['default'];if(settings.kind==='metadata'||settings.kind==='chapters'){mode='hidden';}var tt=(_this=_possibleConstructorReturn(this,_Track.call(this,settings)),_this);tt.tech_=settings.tech;if(browser.IS_IE8){for(var prop in TextTrack.prototype){if(prop!=='constructor'){tt[prop]=TextTrack.prototype[prop];}}}tt.cues_=[];tt.activeCues_=[];var cues=new _textTrackCueList2['default'](tt.cues_);var activeCues=new _textTrackCueList2['default'](tt.activeCues_);var changed=false;var timeupdateHandler=Fn.bind(tt,function(){this.activeCues;if(changed){this.trigger('cuechange');changed=false;}});if(mode!=='disabled'){tt.tech_.ready(function(){tt.tech_.on('timeupdate',timeupdateHandler);},true);}Object.defineProperty(tt,'default',{get:function get(){return default_;},set:function set(){}});Object.defineProperty(tt,'mode',{get:function get(){return mode;},set:function set(newMode){var _this2=this;if(!_trackEnums.TextTrackMode[newMode]){return;}mode=newMode;if(mode==='showing'){this.tech_.ready(function(){_this2.tech_.on('timeupdate',timeupdateHandler);},true);}this.trigger('modechange');}});Object.defineProperty(tt,'cues',{get:function get(){if(!this.loaded_){return null;}return cues;},set:function set(){}});Object.defineProperty(tt,'activeCues',{get:function get(){if(!this.loaded_){return null;}if(this.cues.length===0){return activeCues;}var ct=this.tech_.currentTime();var active=[];for(var i=0,l=this.cues.length;i<l;i++){var cue=this.cues[i];if(cue.startTime<=ct&&cue.endTime>=ct){active.push(cue);}else if(cue.startTime===cue.endTime&&cue.startTime<=ct&&cue.startTime+0.5>=ct){active.push(cue);}}changed=false;if(active.length!==this.activeCues_.length){changed=true;}else{for(var _i=0;_i<active.length;_i++){if(this.activeCues_.indexOf(active[_i])===-1){changed=true;}}}this.activeCues_=active;activeCues.setCues_(this.activeCues_);return activeCues;},set:function set(){}});if(settings.src){tt.src=settings.src;loadTrack(settings.src,tt);}else{tt.loaded_=true;}return _ret=tt,_possibleConstructorReturn(_this,_ret);}TextTrack.prototype.addCue=function addCue(originalCue){var cue=originalCue;if(_window2['default'].vttjs&&!(originalCue instanceof _window2['default'].vttjs.VTTCue)){cue=new _window2['default'].vttjs.VTTCue(originalCue.startTime,originalCue.endTime,originalCue.text);for(var prop in originalCue){if(!(prop in cue)){cue[prop]=originalCue[prop];}}cue.id=originalCue.id;cue.originalCue_=originalCue;}var tracks=this.tech_.textTracks();if(tracks){for(var i=0;i<tracks.length;i++){if(tracks[i]!==this){tracks[i].removeCue(cue);}}}this.cues_.push(cue);this.cues.setCues_(this.cues_);};TextTrack.prototype.removeCue=function removeCue(_removeCue){var i=this.cues_.length;while(i--){var cue=this.cues_[i];if(cue===_removeCue||cue.originalCue_&&cue.originalCue_===_removeCue){this.cues_.splice(i,1);this.cues.setCues_(this.cues_);break;}}};return TextTrack;}(_track2['default']);TextTrack.prototype.allowedEvents_={cuechange:'cuechange'};exports['default']=TextTrack;},{\"104\":104,\"67\":67,\"73\":73,\"75\":75,\"78\":78,\"83\":83,\"86\":86,\"87\":87,\"92\":92,\"95\":95}],73:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var VideoTrackKind=exports.VideoTrackKind={alternative:'alternative',captions:'captions',main:'main',sign:'sign',subtitles:'subtitles',commentary:'commentary'};var AudioTrackKind=exports.AudioTrackKind={'alternative':'alternative','descriptions':'descriptions','main':'main','main-desc':'main-desc','translation':'translation','commentary':'commentary'};var TextTrackKind=exports.TextTrackKind={subtitles:'subtitles',captions:'captions',descriptions:'descriptions',chapters:'chapters',metadata:'metadata'};var TextTrackMode=exports.TextTrackMode={disabled:'disabled',hidden:'hidden',showing:'showing'};},{}],74:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _eventTarget=_dereq_(42);var _eventTarget2=_interopRequireDefault(_eventTarget);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TrackList=function(_EventTarget){_inherits(TrackList,_EventTarget);function TrackList(){var tracks=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var _ret;var list=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;_classCallCheck(this,TrackList);var _this=_possibleConstructorReturn(this,_EventTarget.call(this));if(!list){list=_this;if(browser.IS_IE8){list=_document2['default'].createElement('custom');for(var prop in TrackList.prototype){if(prop!=='constructor'){list[prop]=TrackList.prototype[prop];}}}}list.tracks_=[];Object.defineProperty(list,'length',{get:function get(){return this.tracks_.length;}});for(var i=0;i<tracks.length;i++){list.addTrack_(tracks[i]);}return _ret=list,_possibleConstructorReturn(_this,_ret);}TrackList.prototype.addTrack_=function addTrack_(track){var index=this.tracks_.length;if(!(''+index in this)){Object.defineProperty(this,index,{get:function get(){return this.tracks_[index];}});}if(this.tracks_.indexOf(track)===-1){this.tracks_.push(track);this.trigger({track:track,type:'addtrack'});}};TrackList.prototype.removeTrack_=function removeTrack_(rtrack){var track=void 0;for(var i=0,l=this.length;i<l;i++){if(this[i]===rtrack){track=this[i];if(track.off){track.off();}this.tracks_.splice(i,1);break;}}if(!track){return;}this.trigger({track:track,type:'removetrack'});};TrackList.prototype.getTrackById=function getTrackById(id){var result=null;for(var i=0,l=this.length;i<l;i++){var track=this[i];if(track.id===id){result=track;break;}}return result;};return TrackList;}(_eventTarget2['default']);TrackList.prototype.allowedEvents_={change:'change',addtrack:'addtrack',removetrack:'removetrack'};for(var event in TrackList.prototype.allowedEvents_){TrackList.prototype['on'+event]=null;}exports['default']=TrackList;},{\"42\":42,\"78\":78,\"94\":94}],75:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _guid=_dereq_(85);var Guid=_interopRequireWildcard(_guid);var _eventTarget=_dereq_(42);var _eventTarget2=_interopRequireDefault(_eventTarget);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Track=function(_EventTarget){_inherits(Track,_EventTarget);function Track(){var _ret;var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Track);var _this=_possibleConstructorReturn(this,_EventTarget.call(this));var track=_this;if(browser.IS_IE8){track=_document2['default'].createElement('custom');for(var prop in Track.prototype){if(prop!=='constructor'){track[prop]=Track.prototype[prop];}}}var trackProps={id:options.id||'vjs_track_'+Guid.newGUID(),kind:options.kind||'',label:options.label||'',language:options.language||''};var _loop=function _loop(key){Object.defineProperty(track,key,{get:function get(){return trackProps[key];},set:function set(){}});};for(var key in trackProps){_loop(key);}return _ret=track,_possibleConstructorReturn(_this,_ret);}return Track;}(_eventTarget2['default']);exports['default']=Track;},{\"42\":42,\"78\":78,\"85\":85,\"94\":94}],76:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _trackList=_dereq_(74);var _trackList2=_interopRequireDefault(_trackList);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var disableOthers=function disableOthers(list,track){for(var i=0;i<list.length;i++){if(track.id===list[i].id){continue;}list[i].selected=false;}};var VideoTrackList=function(_TrackList){_inherits(VideoTrackList,_TrackList);function VideoTrackList(){var _this,_ret;var tracks=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,VideoTrackList);var list=void 0;for(var i=tracks.length-1;i>=0;i--){if(tracks[i].selected){disableOthers(tracks,tracks[i]);break;}}if(browser.IS_IE8){list=_document2['default'].createElement('custom');for(var prop in _trackList2['default'].prototype){if(prop!=='constructor'){list[prop]=_trackList2['default'].prototype[prop];}}for(var _prop in VideoTrackList.prototype){if(_prop!=='constructor'){list[_prop]=VideoTrackList.prototype[_prop];}}}list=(_this=_possibleConstructorReturn(this,_TrackList.call(this,tracks,list)),_this);list.changing_=false;Object.defineProperty(list,'selectedIndex',{get:function get(){for(var _i=0;_i<this.length;_i++){if(this[_i].selected){return _i;}}return-1;},set:function set(){}});return _ret=list,_possibleConstructorReturn(_this,_ret);}VideoTrackList.prototype.addTrack_=function addTrack_(track){var _this2=this;if(track.selected){disableOthers(this,track);}_TrackList.prototype.addTrack_.call(this,track);if(!track.addEventListener){return;}track.addEventListener('selectedchange',function(){if(_this2.changing_){return;}_this2.changing_=true;disableOthers(_this2,track);_this2.changing_=false;_this2.trigger('change');});};VideoTrackList.prototype.addTrack=function addTrack(track){this.addTrack_(track);};VideoTrackList.prototype.removeTrack=function removeTrack(track){_TrackList.prototype.removeTrack_.call(this,track);};return VideoTrackList;}(_trackList2['default']);exports['default']=VideoTrackList;},{\"74\":74,\"78\":78,\"94\":94}],77:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _trackEnums=_dereq_(73);var _track=_dereq_(75);var _track2=_interopRequireDefault(_track);var _mergeOptions=_dereq_(87);var _mergeOptions2=_interopRequireDefault(_mergeOptions);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var VideoTrack=function(_Track){_inherits(VideoTrack,_Track);function VideoTrack(){var _this,_ret;var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,VideoTrack);var settings=(0,_mergeOptions2['default'])(options,{kind:_trackEnums.VideoTrackKind[options.kind]||''});var track=(_this=_possibleConstructorReturn(this,_Track.call(this,settings)),_this);var selected=false;if(browser.IS_IE8){for(var prop in VideoTrack.prototype){if(prop!=='constructor'){track[prop]=VideoTrack.prototype[prop];}}}Object.defineProperty(track,'selected',{get:function get(){return selected;},set:function set(newSelected){if(typeof newSelected!=='boolean'||newSelected===selected){return;}selected=newSelected;this.trigger('selectedchange');}});if(settings.selected){track.selected=settings.selected;}return _ret=track,_possibleConstructorReturn(_this,_ret);}return VideoTrack;}(_track2['default']);exports['default']=VideoTrack;},{\"73\":73,\"75\":75,\"78\":78,\"87\":87}],78:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.BACKGROUND_SIZE_SUPPORTED=exports.TOUCH_ENABLED=exports.IS_ANY_SAFARI=exports.IS_SAFARI=exports.IE_VERSION=exports.IS_IE8=exports.CHROME_VERSION=exports.IS_CHROME=exports.IS_EDGE=exports.IS_FIREFOX=exports.IS_NATIVE_ANDROID=exports.IS_OLD_ANDROID=exports.ANDROID_VERSION=exports.IS_ANDROID=exports.IOS_VERSION=exports.IS_IOS=exports.IS_IPOD=exports.IS_IPHONE=exports.IS_IPAD=undefined;var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}var USER_AGENT=_window2['default'].navigator&&_window2['default'].navigator.userAgent||'';var webkitVersionMap=/AppleWebKit\\/([\\d.]+)/i.exec(USER_AGENT);var appleWebkitVersion=webkitVersionMap?parseFloat(webkitVersionMap.pop()):null;var IS_IPAD=exports.IS_IPAD=/iPad/i.test(USER_AGENT);var IS_IPHONE=exports.IS_IPHONE=/iPhone/i.test(USER_AGENT)&&!IS_IPAD;var IS_IPOD=exports.IS_IPOD=/iPod/i.test(USER_AGENT);var IS_IOS=exports.IS_IOS=IS_IPHONE||IS_IPAD||IS_IPOD;var IOS_VERSION=exports.IOS_VERSION=function(){var match=USER_AGENT.match(/OS (\\d+)_/i);if(match&&match[1]){return match[1];}return null;}();var IS_ANDROID=exports.IS_ANDROID=/Android/i.test(USER_AGENT);var ANDROID_VERSION=exports.ANDROID_VERSION=function(){var match=USER_AGENT.match(/Android (\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))*/i);if(!match){return null;}var major=match[1]&&parseFloat(match[1]);var minor=match[2]&&parseFloat(match[2]);if(major&&minor){return parseFloat(match[1]+'.'+match[2]);}else if(major){return major;}return null;}();var IS_OLD_ANDROID=exports.IS_OLD_ANDROID=IS_ANDROID&&/webkit/i.test(USER_AGENT)&&ANDROID_VERSION<2.3;var IS_NATIVE_ANDROID=exports.IS_NATIVE_ANDROID=IS_ANDROID&&ANDROID_VERSION<5&&appleWebkitVersion<537;var IS_FIREFOX=exports.IS_FIREFOX=/Firefox/i.test(USER_AGENT);var IS_EDGE=exports.IS_EDGE=/Edge/i.test(USER_AGENT);var IS_CHROME=exports.IS_CHROME=!IS_EDGE&&/Chrome/i.test(USER_AGENT);var CHROME_VERSION=exports.CHROME_VERSION=function(){var match=USER_AGENT.match(/Chrome\\/(\\d+)/);if(match&&match[1]){return parseFloat(match[1]);}return null;}();var IS_IE8=exports.IS_IE8=/MSIE\\s8\\.0/.test(USER_AGENT);var IE_VERSION=exports.IE_VERSION=function(){var result=/MSIE\\s(\\d+)\\.\\d/.exec(USER_AGENT);var version=result&&parseFloat(result[1]);if(!version&&/Trident\\/7.0/i.test(USER_AGENT)&&/rv:11.0/.test(USER_AGENT)){version=11.0;}return version;}();var IS_SAFARI=exports.IS_SAFARI=/Safari/i.test(USER_AGENT)&&!IS_CHROME&&!IS_ANDROID&&!IS_EDGE;var IS_ANY_SAFARI=exports.IS_ANY_SAFARI=IS_SAFARI||IS_IOS;var TOUCH_ENABLED=exports.TOUCH_ENABLED=Dom.isReal()&&('ontouchstart'in _window2['default']||_window2['default'].DocumentTouch&&_window2['default'].document instanceof _window2['default'].DocumentTouch);var BACKGROUND_SIZE_SUPPORTED=exports.BACKGROUND_SIZE_SUPPORTED=Dom.isReal()&&'backgroundSize'in _window2['default'].document.createElement('video').style;},{\"81\":81,\"95\":95}],79:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.bufferedPercent=bufferedPercent;var _timeRanges=_dereq_(90);function bufferedPercent(buffered,duration){var bufferedDuration=0;var start=void 0;var end=void 0;if(!duration){return 0;}if(!buffered||!buffered.length){buffered=(0,_timeRanges.createTimeRange)(0,0);}for(var i=0;i<buffered.length;i++){start=buffered.start(i);end=buffered.end(i);if(end>duration){end=duration;}bufferedDuration+=end-start;}return bufferedDuration/duration;}},{\"90\":90}],80:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports['default']=computedStyle;var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function computedStyle(el,prop){if(!el||!prop){return'';}if(typeof _window2['default'].getComputedStyle==='function'){var cs=_window2['default'].getComputedStyle(el);return cs?cs[prop]:'';}return el.currentStyle[prop]||'';}},{\"95\":95}],81:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.$$=exports.$=undefined;var _templateObject=_taggedTemplateLiteralLoose(['Setting attributes in the second argument of createEl()\\n                has been deprecated. Use the third argument instead.\\n                createEl(type, properties, attributes). Attempting to set ',' to ','.'],['Setting attributes in the second argument of createEl()\\n                has been deprecated. Use the third argument instead.\\n                createEl(type, properties, attributes). Attempting to set ',' to ','.']);exports.isReal=isReal;exports.isEl=isEl;exports.getEl=getEl;exports.createEl=createEl;exports.textContent=textContent;exports.insertElFirst=insertElFirst;exports.getElData=getElData;exports.hasElData=hasElData;exports.removeElData=removeElData;exports.hasElClass=hasElClass;exports.addElClass=addElClass;exports.removeElClass=removeElClass;exports.toggleElClass=toggleElClass;exports.setElAttributes=setElAttributes;exports.getElAttributes=getElAttributes;exports.getAttribute=getAttribute;exports.setAttribute=setAttribute;exports.removeAttribute=removeAttribute;exports.blockTextSelection=blockTextSelection;exports.unblockTextSelection=unblockTextSelection;exports.findElPosition=findElPosition;exports.getPointerPosition=getPointerPosition;exports.isTextNode=isTextNode;exports.emptyEl=emptyEl;exports.normalizeContent=normalizeContent;exports.appendContent=appendContent;exports.insertContent=insertContent;var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _guid=_dereq_(85);var Guid=_interopRequireWildcard(_guid);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _tsml=_dereq_(98);var _tsml2=_interopRequireDefault(_tsml);var _obj=_dereq_(88);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _taggedTemplateLiteralLoose(strings,raw){strings.raw=raw;return strings;}function isNonBlankString(str){return typeof str==='string'&&/\\S/.test(str);}function throwIfWhitespace(str){if(/\\s/.test(str)){throw new Error('class has illegal whitespace characters');}}function classRegExp(className){return new RegExp('(^|\\\\s)'+className+'($|\\\\s)');}function isReal(){return _document2['default']===_window2['default'].document&&typeof _document2['default'].createElement!=='undefined';}function isEl(value){return(0,_obj.isObject)(value)&&value.nodeType===1;}function createQuerier(method){return function(selector,context){if(!isNonBlankString(selector)){return _document2['default'][method](null);}if(isNonBlankString(context)){context=_document2['default'].querySelector(context);}var ctx=isEl(context)?context:_document2['default'];return ctx[method]&&ctx[method](selector);};}function getEl(id){if(id.indexOf('#')===0){id=id.slice(1);}return _document2['default'].getElementById(id);}function createEl(){var tagName=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'div';var properties=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var attributes=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var content=arguments[3];var el=_document2['default'].createElement(tagName);Object.getOwnPropertyNames(properties).forEach(function(propName){var val=properties[propName];if(propName.indexOf('aria-')!==-1||propName==='role'||propName==='type'){_log2['default'].warn((0,_tsml2['default'])(_templateObject,propName,val));el.setAttribute(propName,val);}else if(propName==='textContent'){textContent(el,val);}else{el[propName]=val;}});Object.getOwnPropertyNames(attributes).forEach(function(attrName){el.setAttribute(attrName,attributes[attrName]);});if(content){appendContent(el,content);}return el;}function textContent(el,text){if(typeof el.textContent==='undefined'){el.innerText=text;}else{el.textContent=text;}return el;}function insertElFirst(child,parent){if(parent.firstChild){parent.insertBefore(child,parent.firstChild);}else{parent.appendChild(child);}}var elData={};var elIdAttr='vdata'+new Date().getTime();function getElData(el){var id=el[elIdAttr];if(!id){id=el[elIdAttr]=Guid.newGUID();}if(!elData[id]){elData[id]={};}return elData[id];}function hasElData(el){var id=el[elIdAttr];if(!id){return false;}return!!Object.getOwnPropertyNames(elData[id]).length;}function removeElData(el){var id=el[elIdAttr];if(!id){return;}delete elData[id];try{delete el[elIdAttr];}catch(e){if(el.removeAttribute){el.removeAttribute(elIdAttr);}else{el[elIdAttr]=null;}}}function hasElClass(element,classToCheck){throwIfWhitespace(classToCheck);if(element.classList){return element.classList.contains(classToCheck);}return classRegExp(classToCheck).test(element.className);}function addElClass(element,classToAdd){if(element.classList){element.classList.add(classToAdd);}else if(!hasElClass(element,classToAdd)){element.className=(element.className+' '+classToAdd).trim();}return element;}function removeElClass(element,classToRemove){if(element.classList){element.classList.remove(classToRemove);}else{throwIfWhitespace(classToRemove);element.className=element.className.split(/\\s+/).filter(function(c){return c!==classToRemove;}).join(' ');}return element;}function toggleElClass(element,classToToggle,predicate){var has=hasElClass(element,classToToggle);if(typeof predicate==='function'){predicate=predicate(element,classToToggle);}if(typeof predicate!=='boolean'){predicate=!has;}if(predicate===has){return;}if(predicate){addElClass(element,classToToggle);}else{removeElClass(element,classToToggle);}return element;}function setElAttributes(el,attributes){Object.getOwnPropertyNames(attributes).forEach(function(attrName){var attrValue=attributes[attrName];if(attrValue===null||typeof attrValue==='undefined'||attrValue===false){el.removeAttribute(attrName);}else{el.setAttribute(attrName,attrValue===true?'':attrValue);}});}function getElAttributes(tag){var obj={};var knownBooleans=','+'autoplay,controls,playsinline,loop,muted,default,defaultMuted'+',';if(tag&&tag.attributes&&tag.attributes.length>0){var attrs=tag.attributes;for(var i=attrs.length-1;i>=0;i--){var attrName=attrs[i].name;var attrVal=attrs[i].value;if(typeof tag[attrName]==='boolean'||knownBooleans.indexOf(','+attrName+',')!==-1){attrVal=attrVal!==null?true:false;}obj[attrName]=attrVal;}}return obj;}function getAttribute(el,attribute){return el.getAttribute(attribute);}function setAttribute(el,attribute,value){el.setAttribute(attribute,value);}function removeAttribute(el,attribute){el.removeAttribute(attribute);}function blockTextSelection(){_document2['default'].body.focus();_document2['default'].onselectstart=function(){return false;};}function unblockTextSelection(){_document2['default'].onselectstart=function(){return true;};}function findElPosition(el){var box=void 0;if(el.getBoundingClientRect&&el.parentNode){box=el.getBoundingClientRect();}if(!box){return{left:0,top:0};}var docEl=_document2['default'].documentElement;var body=_document2['default'].body;var clientLeft=docEl.clientLeft||body.clientLeft||0;var scrollLeft=_window2['default'].pageXOffset||body.scrollLeft;var left=box.left+scrollLeft-clientLeft;var clientTop=docEl.clientTop||body.clientTop||0;var scrollTop=_window2['default'].pageYOffset||body.scrollTop;var top=box.top+scrollTop-clientTop;return{left:Math.round(left),top:Math.round(top)};}function getPointerPosition(el,event){var position={};var box=findElPosition(el);var boxW=el.offsetWidth;var boxH=el.offsetHeight;var boxY=box.top;var boxX=box.left;var pageY=event.pageY;var pageX=event.pageX;if(event.changedTouches){pageX=event.changedTouches[0].pageX;pageY=event.changedTouches[0].pageY;}position.y=Math.max(0,Math.min(1,(boxY-pageY+boxH)/boxH));position.x=Math.max(0,Math.min(1,(pageX-boxX)/boxW));return position;}function isTextNode(value){return(0,_obj.isObject)(value)&&value.nodeType===3;}function emptyEl(el){while(el.firstChild){el.removeChild(el.firstChild);}return el;}function normalizeContent(content){if(typeof content==='function'){content=content();}return(Array.isArray(content)?content:[content]).map(function(value){if(typeof value==='function'){value=value();}if(isEl(value)||isTextNode(value)){return value;}if(typeof value==='string'&&/\\S/.test(value)){return _document2['default'].createTextNode(value);}}).filter(function(value){return value;});}function appendContent(el,content){normalizeContent(content).forEach(function(node){return el.appendChild(node);});return el;}function insertContent(el,content){return appendContent(emptyEl(el),content);}var $=exports.$=createQuerier('querySelector');var $$=exports.$$=createQuerier('querySelectorAll');},{\"85\":85,\"86\":86,\"88\":88,\"94\":94,\"95\":95,\"98\":98}],82:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.fixEvent=fixEvent;exports.on=on;exports.off=off;exports.trigger=trigger;exports.one=one;var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _guid=_dereq_(85);var Guid=_interopRequireWildcard(_guid);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _cleanUpEvents(elem,type){var data=Dom.getElData(elem);if(data.handlers[type].length===0){delete data.handlers[type];if(elem.removeEventListener){elem.removeEventListener(type,data.dispatcher,false);}else if(elem.detachEvent){elem.detachEvent('on'+type,data.dispatcher);}}if(Object.getOwnPropertyNames(data.handlers).length<=0){delete data.handlers;delete data.dispatcher;delete data.disabled;}if(Object.getOwnPropertyNames(data).length===0){Dom.removeElData(elem);}}function _handleMultipleEvents(fn,elem,types,callback){types.forEach(function(type){fn(elem,type,callback);});}function fixEvent(event){function returnTrue(){return true;}function returnFalse(){return false;}if(!event||!event.isPropagationStopped){var old=event||_window2['default'].event;event={};for(var key in old){if(key!=='layerX'&&key!=='layerY'&&key!=='keyLocation'&&key!=='webkitMovementX'&&key!=='webkitMovementY'){if(!(key==='returnValue'&&old.preventDefault)){event[key]=old[key];}}}if(!event.target){event.target=event.srcElement||_document2['default'];}if(!event.relatedTarget){event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement;}event.preventDefault=function(){if(old.preventDefault){old.preventDefault();}event.returnValue=false;old.returnValue=false;event.defaultPrevented=true;};event.defaultPrevented=false;event.stopPropagation=function(){if(old.stopPropagation){old.stopPropagation();}event.cancelBubble=true;old.cancelBubble=true;event.isPropagationStopped=returnTrue;};event.isPropagationStopped=returnFalse;event.stopImmediatePropagation=function(){if(old.stopImmediatePropagation){old.stopImmediatePropagation();}event.isImmediatePropagationStopped=returnTrue;event.stopPropagation();};event.isImmediatePropagationStopped=returnFalse;if(event.clientX!==null&&event.clientX!==undefined){var doc=_document2['default'].documentElement;var body=_document2['default'].body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0);}event.which=event.charCode||event.keyCode;if(event.button!==null&&event.button!==undefined){event.button=event.button&1?0:event.button&4?1:event.button&2?2:0;}}return event;}var _supportsPassive=false;(function(){try{var opts=Object.defineProperty({},'passive',{get:function get(){_supportsPassive=true;}});_window2['default'].addEventListener('test',null,opts);}catch(e){}})();var passiveEvents=['touchstart','touchmove'];function on(elem,type,fn){if(Array.isArray(type)){return _handleMultipleEvents(on,elem,type,fn);}var data=Dom.getElData(elem);if(!data.handlers){data.handlers={};}if(!data.handlers[type]){data.handlers[type]=[];}if(!fn.guid){fn.guid=Guid.newGUID();}data.handlers[type].push(fn);if(!data.dispatcher){data.disabled=false;data.dispatcher=function(event,hash){if(data.disabled){return;}event=fixEvent(event);var handlers=data.handlers[event.type];if(handlers){var handlersCopy=handlers.slice(0);for(var m=0,n=handlersCopy.length;m<n;m++){if(event.isImmediatePropagationStopped()){break;}else{try{handlersCopy[m].call(elem,event,hash);}catch(e){_log2['default'].error(e);}}}}};}if(data.handlers[type].length===1){if(elem.addEventListener){var options=false;if(_supportsPassive&&passiveEvents.indexOf(type)>-1){options={passive:true};}elem.addEventListener(type,data.dispatcher,options);}else if(elem.attachEvent){elem.attachEvent('on'+type,data.dispatcher);}}}function off(elem,type,fn){if(!Dom.hasElData(elem)){return;}var data=Dom.getElData(elem);if(!data.handlers){return;}if(Array.isArray(type)){return _handleMultipleEvents(off,elem,type,fn);}var removeType=function removeType(t){data.handlers[t]=[];_cleanUpEvents(elem,t);};if(!type){for(var t in data.handlers){removeType(t);}return;}var handlers=data.handlers[type];if(!handlers){return;}if(!fn){removeType(type);return;}if(fn.guid){for(var n=0;n<handlers.length;n++){if(handlers[n].guid===fn.guid){handlers.splice(n--,1);}}}_cleanUpEvents(elem,type);}function trigger(elem,event,hash){var elemData=Dom.hasElData(elem)?Dom.getElData(elem):{};var parent=elem.parentNode||elem.ownerDocument;if(typeof event==='string'){event={type:event,target:elem};}event=fixEvent(event);if(elemData.dispatcher){elemData.dispatcher.call(elem,event,hash);}if(parent&&!event.isPropagationStopped()&&event.bubbles===true){trigger.call(null,parent,event,hash);}else if(!parent&&!event.defaultPrevented){var targetData=Dom.getElData(event.target);if(event.target[event.type]){targetData.disabled=true;if(typeof event.target[event.type]==='function'){event.target[event.type]();}targetData.disabled=false;}}return!event.defaultPrevented;}function one(elem,type,fn){if(Array.isArray(type)){return _handleMultipleEvents(one,elem,type,fn);}var func=function func(){off(elem,type,func);fn.apply(this,arguments);};func.guid=fn.guid=fn.guid||Guid.newGUID();on(elem,type,func);}},{\"81\":81,\"85\":85,\"86\":86,\"94\":94,\"95\":95}],83:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.throttle=exports.bind=undefined;var _guid=_dereq_(85);var bind=exports.bind=function bind(context,fn,uid){if(!fn.guid){fn.guid=(0,_guid.newGUID)();}var bound=function bound(){return fn.apply(context,arguments);};bound.guid=uid?uid+'_'+fn.guid:fn.guid;return bound;};var throttle=exports.throttle=function throttle(fn,wait){var last=Date.now();var throttled=function throttled(){var now=Date.now();if(now-last>=wait){fn.apply(undefined,arguments);last=now;}};return throttled;};},{\"85\":85}],84:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;function formatTime(seconds){var guide=arguments.length>1&&arguments[1]!==undefined?arguments[1]:seconds;seconds=seconds<0?0:seconds;var s=Math.floor(seconds%60);var m=Math.floor(seconds/60%60);var h=Math.floor(seconds/3600);var gm=Math.floor(guide/60%60);var gh=Math.floor(guide/3600);if(isNaN(seconds)||seconds===Infinity){h=m=s='-';}h=h>0||gh>0?h+':':'';m=((h||gm>=10)&&m<10?'0'+m:m)+':';s=s<10?'0'+s:s;return h+m+s;}exports['default']=formatTime;},{}],85:[function(_dereq_,module,exports){\"use strict\";exports.__esModule=true;exports.newGUID=newGUID;var _guid=1;function newGUID(){return _guid++;}},{}],86:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.logByType=undefined;var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _browser=_dereq_(78);var _obj=_dereq_(88);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}var log=void 0;var logByType=exports.logByType=function logByType(type,args){var stringify=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!!_browser.IE_VERSION&&_browser.IE_VERSION<11;if(type!=='log'){args.unshift(type.toUpperCase()+':');}log.history.push(args);args.unshift('VIDEOJS:');var fn=_window2['default'].console&&_window2['default'].console[type];if(!fn){return;}if(stringify){args=args.map(function(a){if((0,_obj.isObject)(a)||Array.isArray(a)){try{return JSON.stringify(a);}catch(x){return String(a);}}return String(a);}).join(' ');}if(!fn.apply){fn(args);}else{fn[Array.isArray(args)?'apply':'call'](_window2['default'].console,args);}};log=function log(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}logByType('log',args);};log.history=[];log.error=function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return logByType('error',args);};log.warn=function(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}return logByType('warn',args);};exports['default']=log;},{\"78\":78,\"88\":88,\"95\":95}],87:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports['default']=mergeOptions;var _obj=_dereq_(88);function mergeOptions(){var result={};for(var _len=arguments.length,sources=Array(_len),_key=0;_key<_len;_key++){sources[_key]=arguments[_key];}sources.forEach(function(source){if(!source){return;}(0,_obj.each)(source,function(value,key){if(!(0,_obj.isPlain)(value)){result[key]=value;return;}if(!(0,_obj.isPlain)(result[key])){result[key]={};}result[key]=mergeOptions(result[key],value);});});return result;}},{\"88\":88}],88:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};exports.each=each;exports.reduce=reduce;exports.assign=assign;exports.isObject=isObject;exports.isPlain=isPlain;var toString=Object.prototype.toString;var keys=function keys(object){return isObject(object)?Object.keys(object):[];};function each(object,fn){keys(object).forEach(function(key){return fn(object[key],key);});}function reduce(object,fn){var initial=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return keys(object).reduce(function(accum,key){return fn(accum,object[key],key);},initial);}function assign(target){for(var _len=arguments.length,sources=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){sources[_key-1]=arguments[_key];}if(Object.assign){return Object.assign.apply(Object,[target].concat(sources));}sources.forEach(function(source){if(!source){return;}each(source,function(value,key){target[key]=value;});});return target;}function isObject(value){return!!value&&(typeof value==='undefined'?'undefined':_typeof(value))==='object';}function isPlain(value){return isObject(value)&&toString.call(value)==='[object Object]'&&value.constructor===Object;}},{}],89:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.setTextContent=exports.createStyleElement=undefined;var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}var createStyleElement=exports.createStyleElement=function createStyleElement(className){var style=_document2['default'].createElement('style');style.className=className;return style;};var setTextContent=exports.setTextContent=function setTextContent(el,content){if(el.styleSheet){el.styleSheet.cssText=content;}else{el.textContent=content;}};},{\"94\":94}],90:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.createTimeRange=undefined;exports.createTimeRanges=createTimeRanges;var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function rangeCheck(fnName,index,maxIndex){if(index<0||index>maxIndex){throw new Error('Failed to execute \\''+fnName+'\\' on \\'TimeRanges\\': The index provided ('+index+') is greater than or equal to the maximum bound ('+maxIndex+').');}}function getRange(fnName,valueIndex,ranges,rangeIndex){if(rangeIndex===undefined){_log2['default'].warn('DEPRECATED: Function \\''+fnName+'\\' on \\'TimeRanges\\' called without an index argument.');rangeIndex=0;}rangeCheck(fnName,rangeIndex,ranges.length-1);return ranges[rangeIndex][valueIndex];}function createTimeRangesObj(ranges){if(ranges===undefined||ranges.length===0){return{length:0,start:function start(){throw new Error('This TimeRanges object is empty');},end:function end(){throw new Error('This TimeRanges object is empty');}};}return{length:ranges.length,start:getRange.bind(null,'start',0,ranges),end:getRange.bind(null,'end',1,ranges)};}function createTimeRanges(start,end){if(Array.isArray(start)){return createTimeRangesObj(start);}else if(start===undefined||end===undefined){return createTimeRangesObj();}return createTimeRangesObj([[start,end]]);}exports.createTimeRange=createTimeRanges;},{\"86\":86}],91:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;function toTitleCase(string){if(typeof string!=='string'){return string;}return string.charAt(0).toUpperCase()+string.slice(1);}exports['default']=toTitleCase;},{}],92:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.isCrossOrigin=exports.getFileExtension=exports.getAbsoluteURL=exports.parseUrl=undefined;var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}var parseUrl=exports.parseUrl=function parseUrl(url){var props=['protocol','hostname','port','pathname','search','hash','host'];var a=_document2['default'].createElement('a');a.href=url;var addToBody=a.host===''&&a.protocol!=='file:';var div=void 0;if(addToBody){div=_document2['default'].createElement('div');div.innerHTML='<a href=\"'+url+'\"></a>';a=div.firstChild;div.setAttribute('style','display:none; position:absolute;');_document2['default'].body.appendChild(div);}var details={};for(var i=0;i<props.length;i++){details[props[i]]=a[props[i]];}if(details.protocol==='http:'){details.host=details.host.replace(/:80$/,'');}if(details.protocol==='https:'){details.host=details.host.replace(/:443$/,'');}if(addToBody){_document2['default'].body.removeChild(div);}return details;};var getAbsoluteURL=exports.getAbsoluteURL=function getAbsoluteURL(url){if(!url.match(/^https?:\\/\\//)){var div=_document2['default'].createElement('div');div.innerHTML='<a href=\"'+url+'\">x</a>';url=div.firstChild.href;}return url;};var getFileExtension=exports.getFileExtension=function getFileExtension(path){if(typeof path==='string'){var splitPathRe=/^(\\/?)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?)(\\.([^\\.\\/\\?]+)))(?:[\\/]*|[\\?].*)$/i;var pathParts=splitPathRe.exec(path);if(pathParts){return pathParts.pop().toLowerCase();}}return'';};var isCrossOrigin=exports.isCrossOrigin=function isCrossOrigin(url){var winLoc=_window2['default'].location;var urlInfo=parseUrl(url);var srcProtocol=urlInfo.protocol===':'?winLoc.protocol:urlInfo.protocol;var crossOrigin=srcProtocol+urlInfo.host!==winLoc.protocol+winLoc.host;return crossOrigin;};},{\"94\":94,\"95\":95}],93:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _setup=_dereq_(56);var setup=_interopRequireWildcard(_setup);var _stylesheet=_dereq_(89);var stylesheet=_interopRequireWildcard(_stylesheet);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _eventTarget=_dereq_(42);var _eventTarget2=_interopRequireDefault(_eventTarget);var _events=_dereq_(82);var Events=_interopRequireWildcard(_events);var _player=_dereq_(51);var _player2=_interopRequireDefault(_player);var _plugins=_dereq_(52);var _plugins2=_interopRequireDefault(_plugins);var _mergeOptions2=_dereq_(87);var _mergeOptions3=_interopRequireDefault(_mergeOptions2);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _textTrack=_dereq_(72);var _textTrack2=_interopRequireDefault(_textTrack);var _audioTrack=_dereq_(64);var _audioTrack2=_interopRequireDefault(_audioTrack);var _videoTrack=_dereq_(77);var _videoTrack2=_interopRequireDefault(_videoTrack);var _timeRanges=_dereq_(90);var _formatTime=_dereq_(84);var _formatTime2=_interopRequireDefault(_formatTime);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _url=_dereq_(92);var Url=_interopRequireWildcard(_url);var _obj=_dereq_(88);var _computedStyle=_dereq_(80);var _computedStyle2=_interopRequireDefault(_computedStyle);var _extend=_dereq_(43);var _extend2=_interopRequireDefault(_extend);var _xhr=_dereq_(104);var _xhr2=_interopRequireDefault(_xhr);var _tech=_dereq_(62);var _tech2=_interopRequireDefault(_tech);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}if(typeof HTMLVideoElement==='undefined'&&Dom.isReal()){_document2['default'].createElement('video');_document2['default'].createElement('audio');_document2['default'].createElement('track');}function videojs(id,options,ready){var tag=void 0;if(typeof id==='string'){if(id.indexOf('#')===0){id=id.slice(1);}if(videojs.getPlayers()[id]){if(options){_log2['default'].warn('Player \"'+id+'\" is already initialised. Options will not be applied.');}if(ready){videojs.getPlayers()[id].ready(ready);}return videojs.getPlayers()[id];}tag=Dom.getEl(id);}else{tag=id;}if(!tag||!tag.nodeName){throw new TypeError('The element or ID supplied is not valid. (videojs)');}if(tag.player||_player2['default'].players[tag.playerId]){return tag.player||_player2['default'].players[tag.playerId];}options=options||{};videojs.hooks('beforesetup').forEach(function(hookFunction){var opts=hookFunction(tag,(0,_mergeOptions3['default'])(options));if(!(0,_obj.isObject)(opts)||Array.isArray(opts)){_log2['default'].error('please return an object in beforesetup hooks');return;}options=(0,_mergeOptions3['default'])(options,opts);});var PlayerComponent=_component2['default'].getComponent('Player');var player=new PlayerComponent(tag,options,ready);videojs.hooks('setup').forEach(function(hookFunction){return hookFunction(player);});return player;}videojs.hooks_={};videojs.hooks=function(type,fn){videojs.hooks_[type]=videojs.hooks_[type]||[];if(fn){videojs.hooks_[type]=videojs.hooks_[type].concat(fn);}return videojs.hooks_[type];};videojs.hook=function(type,fn){videojs.hooks(type,fn);};videojs.removeHook=function(type,fn){var index=videojs.hooks(type).indexOf(fn);if(index<=-1){return false;}videojs.hooks_[type]=videojs.hooks_[type].slice();videojs.hooks_[type].splice(index,1);return true;};if(_window2['default'].VIDEOJS_NO_DYNAMIC_STYLE!==true&&Dom.isReal()){var style=Dom.$('.vjs-styles-defaults');if(!style){style=stylesheet.createStyleElement('vjs-styles-defaults');var head=Dom.$('head');if(head){head.insertBefore(style,head.firstChild);}stylesheet.setTextContent(style,'\\n      .video-js {\\n        width: 300px;\\n        height: 150px;\\n      }\\n\\n      .vjs-fluid {\\n        padding-top: 56.25%\\n      }\\n    ');}}setup.autoSetupTimeout(1,videojs);videojs.VERSION='5.20.5';videojs.options=_player2['default'].prototype.options_;videojs.getPlayers=function(){return _player2['default'].players;};videojs.players=_player2['default'].players;videojs.getComponent=_component2['default'].getComponent;videojs.registerComponent=function(name,comp){if(_tech2['default'].isTech(comp)){_log2['default'].warn('The '+name+' tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)');}_component2['default'].registerComponent.call(_component2['default'],name,comp);};videojs.getTech=_tech2['default'].getTech;videojs.registerTech=_tech2['default'].registerTech;videojs.browser=browser;videojs.TOUCH_ENABLED=browser.TOUCH_ENABLED;videojs.extend=_extend2['default'];videojs.mergeOptions=_mergeOptions3['default'];videojs.bind=Fn.bind;videojs.plugin=_plugins2['default'];videojs.addLanguage=function(code,data){var _mergeOptions;code=(''+code).toLowerCase();videojs.options.languages=(0,_mergeOptions3['default'])(videojs.options.languages,(_mergeOptions={},_mergeOptions[code]=data,_mergeOptions));return videojs.options.languages[code];};videojs.log=_log2['default'];videojs.createTimeRange=videojs.createTimeRanges=_timeRanges.createTimeRanges;videojs.formatTime=_formatTime2['default'];videojs.parseUrl=Url.parseUrl;videojs.isCrossOrigin=Url.isCrossOrigin;videojs.EventTarget=_eventTarget2['default'];videojs.on=Events.on;videojs.one=Events.one;videojs.off=Events.off;videojs.trigger=Events.trigger;videojs.xhr=_xhr2['default'];videojs.TextTrack=_textTrack2['default'];videojs.AudioTrack=_audioTrack2['default'];videojs.VideoTrack=_videoTrack2['default'];videojs.isEl=Dom.isEl;videojs.isTextNode=Dom.isTextNode;videojs.createEl=Dom.createEl;videojs.hasClass=Dom.hasElClass;videojs.addClass=Dom.addElClass;videojs.removeClass=Dom.removeElClass;videojs.toggleClass=Dom.toggleElClass;videojs.setAttributes=Dom.setElAttributes;videojs.getAttributes=Dom.getElAttributes;videojs.emptyEl=Dom.emptyEl;videojs.appendContent=Dom.appendContent;videojs.insertContent=Dom.insertContent;videojs.computedStyle=_computedStyle2['default'];if(typeof define==='function'&&define.amd){define('videojs',[],function(){return videojs;});}else if((typeof exports==='undefined'?'undefined':_typeof(exports))==='object'&&(typeof module==='undefined'?'undefined':_typeof(module))==='object'){module.exports=videojs;}exports['default']=videojs;},{\"104\":104,\"42\":42,\"43\":43,\"5\":5,\"51\":51,\"52\":52,\"56\":56,\"62\":62,\"64\":64,\"72\":72,\"77\":77,\"78\":78,\"80\":80,\"81\":81,\"82\":82,\"83\":83,\"84\":84,\"86\":86,\"87\":87,\"88\":88,\"89\":89,\"90\":90,\"92\":92,\"94\":94,\"95\":95}],94:[function(_dereq_,module,exports){(function(global){var topLevel=typeof global!=='undefined'?global:typeof window!=='undefined'?window:{};var minDoc=_dereq_(96);if(typeof document!=='undefined'){module.exports=document;}else{var doccy=topLevel['__GLOBAL_DOCUMENT_CACHE@4'];if(!doccy){doccy=topLevel['__GLOBAL_DOCUMENT_CACHE@4']=minDoc;}module.exports=doccy;}}).call(this,typeof global!==\"undefined\"?global:typeof self!==\"undefined\"?self:typeof window!==\"undefined\"?window:{});},{\"96\":96}],95:[function(_dereq_,module,exports){(function(global){if(typeof window!==\"undefined\"){module.exports=window;}else if(typeof global!==\"undefined\"){module.exports=global;}else if(typeof self!==\"undefined\"){module.exports=self;}else{module.exports={};}}).call(this,typeof global!==\"undefined\"?global:typeof self!==\"undefined\"?self:typeof window!==\"undefined\"?window:{});},{}],96:[function(_dereq_,module,exports){},{}],97:[function(_dereq_,module,exports){module.exports=SafeParseTuple;function SafeParseTuple(obj,reviver){var json;var error=null;try{json=JSON.parse(obj,reviver);}catch(err){error=err;}return[error,json];}},{}],98:[function(_dereq_,module,exports){function clean(s){return s.replace(/\\n\\r?\\s*/g,'');}module.exports=function tsml(sa){var s='',i=0;for(;i<arguments.length;i++)s+=clean(sa[i])+(arguments[i+1]||'');return s;};},{}],99:[function(_dereq_,module,exports){var window=_dereq_(103);var vttjs=module.exports={WebVTT:_dereq_(100),VTTCue:_dereq_(101),VTTRegion:_dereq_(102)};window.vttjs=vttjs;window.WebVTT=vttjs.WebVTT;var cueShim=vttjs.VTTCue;var regionShim=vttjs.VTTRegion;var nativeVTTCue=window.VTTCue;var nativeVTTRegion=window.VTTRegion;vttjs.shim=function(){window.VTTCue=cueShim;window.VTTRegion=regionShim;};vttjs.restore=function(){window.VTTCue=nativeVTTCue;window.VTTRegion=nativeVTTRegion;};if(!window.VTTCue){vttjs.shim();}},{\"100\":100,\"101\":101,\"102\":102,\"103\":103}],100:[function(_dereq_,module,exports){var _objCreate=Object.create||function(){function F(){}return function(o){if(arguments.length!==1){throw new Error('Object.create shim only accepts one parameter.');}F.prototype=o;return new F();};}();function ParsingError(errorData,message){this.name=\"ParsingError\";this.code=errorData.code;this.message=message||errorData.message;}ParsingError.prototype=_objCreate(Error.prototype);ParsingError.prototype.constructor=ParsingError;ParsingError.Errors={BadSignature:{code:0,message:\"Malformed WebVTT signature.\"},BadTimeStamp:{code:1,message:\"Malformed time stamp.\"}};function parseTimeStamp(input){function computeSeconds(h,m,s,f){return(h|0)*3600+(m|0)*60+(s|0)+(f|0)/1000;}var m=input.match(/^(\\d+):(\\d{2})(:\\d{2})?\\.(\\d{3})/);if(!m){return null;}if(m[3]){return computeSeconds(m[1],m[2],m[3].replace(\":\",\"\"),m[4]);}else if(m[1]>59){return computeSeconds(m[1],m[2],0,m[4]);}else{return computeSeconds(0,m[1],m[2],m[4]);}}function Settings(){this.values=_objCreate(null);}Settings.prototype={set:function(k,v){if(!this.get(k)&&v!==\"\"){this.values[k]=v;}},get:function(k,dflt,defaultKey){if(defaultKey){return this.has(k)?this.values[k]:dflt[defaultKey];}return this.has(k)?this.values[k]:dflt;},has:function(k){return k in this.values;},alt:function(k,v,a){for(var n=0;n<a.length;++n){if(v===a[n]){this.set(k,v);break;}}},integer:function(k,v){if(/^-?\\d+$/.test(v)){this.set(k,parseInt(v,10));}},percent:function(k,v){var m;if(m=v.match(/^([\\d]{1,3})(\\.[\\d]*)?%$/)){v=parseFloat(v);if(v>=0&&v<=100){this.set(k,v);return true;}}return false;}};function parseOptions(input,callback,keyValueDelim,groupDelim){var groups=groupDelim?input.split(groupDelim):[input];for(var i in groups){if(typeof groups[i]!==\"string\"){continue;}var kv=groups[i].split(keyValueDelim);if(kv.length!==2){continue;}var k=kv[0];var v=kv[1];callback(k,v);}}function parseCue(input,cue,regionList){var oInput=input;function consumeTimeStamp(){var ts=parseTimeStamp(input);if(ts===null){throw new ParsingError(ParsingError.Errors.BadTimeStamp,\"Malformed timestamp: \"+oInput);}input=input.replace(/^[^\\sa-zA-Z-]+/,\"\");return ts;}function consumeCueSettings(input,cue){var settings=new Settings();parseOptions(input,function(k,v){switch(k){case\"region\":for(var i=regionList.length-1;i>=0;i--){if(regionList[i].id===v){settings.set(k,regionList[i].region);break;}}break;case\"vertical\":settings.alt(k,v,[\"rl\",\"lr\"]);break;case\"line\":var vals=v.split(\",\"),vals0=vals[0];settings.integer(k,vals0);settings.percent(k,vals0)?settings.set(\"snapToLines\",false):null;settings.alt(k,vals0,[\"auto\"]);if(vals.length===2){settings.alt(\"lineAlign\",vals[1],[\"start\",\"middle\",\"end\"]);}break;case\"position\":vals=v.split(\",\");settings.percent(k,vals[0]);if(vals.length===2){settings.alt(\"positionAlign\",vals[1],[\"start\",\"middle\",\"end\"]);}break;case\"size\":settings.percent(k,v);break;case\"align\":settings.alt(k,v,[\"start\",\"middle\",\"end\",\"left\",\"right\"]);break;}},/:/,/\\s/);cue.region=settings.get(\"region\",null);cue.vertical=settings.get(\"vertical\",\"\");cue.line=settings.get(\"line\",\"auto\");cue.lineAlign=settings.get(\"lineAlign\",\"start\");cue.snapToLines=settings.get(\"snapToLines\",true);cue.size=settings.get(\"size\",100);cue.align=settings.get(\"align\",\"middle\");cue.position=settings.get(\"position\",{start:0,left:0,middle:50,end:100,right:100},cue.align);cue.positionAlign=settings.get(\"positionAlign\",{start:\"start\",left:\"start\",middle:\"middle\",end:\"end\",right:\"end\"},cue.align);}function skipWhitespace(){input=input.replace(/^\\s+/,\"\");}skipWhitespace();cue.startTime=consumeTimeStamp();skipWhitespace();if(input.substr(0,3)!==\"-->\"){throw new ParsingError(ParsingError.Errors.BadTimeStamp,\"Malformed time stamp (time stamps must be separated by '-->'): \"+oInput);}input=input.substr(3);skipWhitespace();cue.endTime=consumeTimeStamp();skipWhitespace();consumeCueSettings(input,cue);}var ESCAPE={\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&lrm;\":\"\\u200e\",\"&rlm;\":\"\\u200f\",\"&nbsp;\":\"\\u00a0\"};var TAG_NAME={c:\"span\",i:\"i\",b:\"b\",u:\"u\",ruby:\"ruby\",rt:\"rt\",v:\"span\",lang:\"span\"};var TAG_ANNOTATION={v:\"title\",lang:\"lang\"};var NEEDS_PARENT={rt:\"ruby\"};function parseContent(window,input){function nextToken(){if(!input){return null;}function consume(result){input=input.substr(result.length);return result;}var m=input.match(/^([^<]*)(<[^>]*>?)?/);return consume(m[1]?m[1]:m[2]);}function unescape1(e){return ESCAPE[e];}function unescape(s){while(m=s.match(/&(amp|lt|gt|lrm|rlm|nbsp);/)){s=s.replace(m[0],unescape1);}return s;}function shouldAdd(current,element){return!NEEDS_PARENT[element.localName]||NEEDS_PARENT[element.localName]===current.localName;}function createElement(type,annotation){var tagName=TAG_NAME[type];if(!tagName){return null;}var element=window.document.createElement(tagName);element.localName=tagName;var name=TAG_ANNOTATION[type];if(name&&annotation){element[name]=annotation.trim();}return element;}var rootDiv=window.document.createElement(\"div\"),current=rootDiv,t,tagStack=[];while((t=nextToken())!==null){if(t[0]==='<'){if(t[1]===\"/\"){if(tagStack.length&&tagStack[tagStack.length-1]===t.substr(2).replace(\">\",\"\")){tagStack.pop();current=current.parentNode;}continue;}var ts=parseTimeStamp(t.substr(1,t.length-2));var node;if(ts){node=window.document.createProcessingInstruction(\"timestamp\",ts);current.appendChild(node);continue;}var m=t.match(/^<([^.\\s/0-9>]+)(\\.[^\\s\\\\>]+)?([^>\\\\]+)?(\\\\?)>?$/);if(!m){continue;}node=createElement(m[1],m[3]);if(!node){continue;}if(!shouldAdd(current,node)){continue;}if(m[2]){node.className=m[2].substr(1).replace('.',' ');}tagStack.push(m[1]);current.appendChild(node);current=node;continue;}current.appendChild(window.document.createTextNode(unescape(t)));}return rootDiv;}var strongRTLRanges=[[0x5be,0x5be],[0x5c0,0x5c0],[0x5c3,0x5c3],[0x5c6,0x5c6],[0x5d0,0x5ea],[0x5f0,0x5f4],[0x608,0x608],[0x60b,0x60b],[0x60d,0x60d],[0x61b,0x61b],[0x61e,0x64a],[0x66d,0x66f],[0x671,0x6d5],[0x6e5,0x6e6],[0x6ee,0x6ef],[0x6fa,0x70d],[0x70f,0x710],[0x712,0x72f],[0x74d,0x7a5],[0x7b1,0x7b1],[0x7c0,0x7ea],[0x7f4,0x7f5],[0x7fa,0x7fa],[0x800,0x815],[0x81a,0x81a],[0x824,0x824],[0x828,0x828],[0x830,0x83e],[0x840,0x858],[0x85e,0x85e],[0x8a0,0x8a0],[0x8a2,0x8ac],[0x200f,0x200f],[0xfb1d,0xfb1d],[0xfb1f,0xfb28],[0xfb2a,0xfb36],[0xfb38,0xfb3c],[0xfb3e,0xfb3e],[0xfb40,0xfb41],[0xfb43,0xfb44],[0xfb46,0xfbc1],[0xfbd3,0xfd3d],[0xfd50,0xfd8f],[0xfd92,0xfdc7],[0xfdf0,0xfdfc],[0xfe70,0xfe74],[0xfe76,0xfefc],[0x10800,0x10805],[0x10808,0x10808],[0x1080a,0x10835],[0x10837,0x10838],[0x1083c,0x1083c],[0x1083f,0x10855],[0x10857,0x1085f],[0x10900,0x1091b],[0x10920,0x10939],[0x1093f,0x1093f],[0x10980,0x109b7],[0x109be,0x109bf],[0x10a00,0x10a00],[0x10a10,0x10a13],[0x10a15,0x10a17],[0x10a19,0x10a33],[0x10a40,0x10a47],[0x10a50,0x10a58],[0x10a60,0x10a7f],[0x10b00,0x10b35],[0x10b40,0x10b55],[0x10b58,0x10b72],[0x10b78,0x10b7f],[0x10c00,0x10c48],[0x1ee00,0x1ee03],[0x1ee05,0x1ee1f],[0x1ee21,0x1ee22],[0x1ee24,0x1ee24],[0x1ee27,0x1ee27],[0x1ee29,0x1ee32],[0x1ee34,0x1ee37],[0x1ee39,0x1ee39],[0x1ee3b,0x1ee3b],[0x1ee42,0x1ee42],[0x1ee47,0x1ee47],[0x1ee49,0x1ee49],[0x1ee4b,0x1ee4b],[0x1ee4d,0x1ee4f],[0x1ee51,0x1ee52],[0x1ee54,0x1ee54],[0x1ee57,0x1ee57],[0x1ee59,0x1ee59],[0x1ee5b,0x1ee5b],[0x1ee5d,0x1ee5d],[0x1ee5f,0x1ee5f],[0x1ee61,0x1ee62],[0x1ee64,0x1ee64],[0x1ee67,0x1ee6a],[0x1ee6c,0x1ee72],[0x1ee74,0x1ee77],[0x1ee79,0x1ee7c],[0x1ee7e,0x1ee7e],[0x1ee80,0x1ee89],[0x1ee8b,0x1ee9b],[0x1eea1,0x1eea3],[0x1eea5,0x1eea9],[0x1eeab,0x1eebb],[0x10fffd,0x10fffd]];function isStrongRTLChar(charCode){for(var i=0;i<strongRTLRanges.length;i++){var currentRange=strongRTLRanges[i];if(charCode>=currentRange[0]&&charCode<=currentRange[1]){return true;}}return false;}function determineBidi(cueDiv){var nodeStack=[],text=\"\",charCode;if(!cueDiv||!cueDiv.childNodes){return\"ltr\";}function pushNodes(nodeStack,node){for(var i=node.childNodes.length-1;i>=0;i--){nodeStack.push(node.childNodes[i]);}}function nextTextNode(nodeStack){if(!nodeStack||!nodeStack.length){return null;}var node=nodeStack.pop(),text=node.textContent||node.innerText;if(text){var m=text.match(/^.*(\\n|\\r)/);if(m){nodeStack.length=0;return m[0];}return text;}if(node.tagName===\"ruby\"){return nextTextNode(nodeStack);}if(node.childNodes){pushNodes(nodeStack,node);return nextTextNode(nodeStack);}}pushNodes(nodeStack,cueDiv);while(text=nextTextNode(nodeStack)){for(var i=0;i<text.length;i++){charCode=text.charCodeAt(i);if(isStrongRTLChar(charCode)){return\"rtl\";}}}return\"ltr\";}function computeLinePos(cue){if(typeof cue.line===\"number\"&&(cue.snapToLines||cue.line>=0&&cue.line<=100)){return cue.line;}if(!cue.track||!cue.track.textTrackList||!cue.track.textTrackList.mediaElement){return-1;}var track=cue.track,trackList=track.textTrackList,count=0;for(var i=0;i<trackList.length&&trackList[i]!==track;i++){if(trackList[i].mode===\"showing\"){count++;}}return++count*-1;}function StyleBox(){}StyleBox.prototype.applyStyles=function(styles,div){div=div||this.div;for(var prop in styles){if(styles.hasOwnProperty(prop)){div.style[prop]=styles[prop];}}};StyleBox.prototype.formatStyle=function(val,unit){return val===0?0:val+unit;};function CueStyleBox(window,cue,styleOptions){var isIE8=/MSIE\\s8\\.0/.test(navigator.userAgent);var color=\"rgba(255, 255, 255, 1)\";var backgroundColor=\"rgba(0, 0, 0, 0.8)\";if(isIE8){color=\"rgb(255, 255, 255)\";backgroundColor=\"rgb(0, 0, 0)\";}StyleBox.call(this);this.cue=cue;this.cueDiv=parseContent(window,cue.text);var styles={color:color,backgroundColor:backgroundColor,position:\"relative\",left:0,right:0,top:0,bottom:0,display:\"inline\"};if(!isIE8){styles.writingMode=cue.vertical===\"\"?\"horizontal-tb\":cue.vertical===\"lr\"?\"vertical-lr\":\"vertical-rl\";styles.unicodeBidi=\"plaintext\";}this.applyStyles(styles,this.cueDiv);this.div=window.document.createElement(\"div\");styles={textAlign:cue.align===\"middle\"?\"center\":cue.align,font:styleOptions.font,whiteSpace:\"pre-line\",position:\"absolute\"};if(!isIE8){styles.direction=determineBidi(this.cueDiv);styles.writingMode=cue.vertical===\"\"?\"horizontal-tb\":cue.vertical===\"lr\"?\"vertical-lr\":\"vertical-rl\".stylesunicodeBidi=\"plaintext\";}this.applyStyles(styles);this.div.appendChild(this.cueDiv);var textPos=0;switch(cue.positionAlign){case\"start\":textPos=cue.position;break;case\"middle\":textPos=cue.position-cue.size/2;break;case\"end\":textPos=cue.position-cue.size;break;}if(cue.vertical===\"\"){this.applyStyles({left:this.formatStyle(textPos,\"%\"),width:this.formatStyle(cue.size,\"%\")});}else{this.applyStyles({top:this.formatStyle(textPos,\"%\"),height:this.formatStyle(cue.size,\"%\")});}this.move=function(box){this.applyStyles({top:this.formatStyle(box.top,\"px\"),bottom:this.formatStyle(box.bottom,\"px\"),left:this.formatStyle(box.left,\"px\"),right:this.formatStyle(box.right,\"px\"),height:this.formatStyle(box.height,\"px\"),width:this.formatStyle(box.width,\"px\")});};}CueStyleBox.prototype=_objCreate(StyleBox.prototype);CueStyleBox.prototype.constructor=CueStyleBox;function BoxPosition(obj){var isIE8=/MSIE\\s8\\.0/.test(navigator.userAgent);var lh,height,width,top;if(obj.div){height=obj.div.offsetHeight;width=obj.div.offsetWidth;top=obj.div.offsetTop;var rects=(rects=obj.div.childNodes)&&(rects=rects[0])&&rects.getClientRects&&rects.getClientRects();obj=obj.div.getBoundingClientRect();lh=rects?Math.max(rects[0]&&rects[0].height||0,obj.height/rects.length):0;}this.left=obj.left;this.right=obj.right;this.top=obj.top||top;this.height=obj.height||height;this.bottom=obj.bottom||top+(obj.height||height);this.width=obj.width||width;this.lineHeight=lh!==undefined?lh:obj.lineHeight;if(isIE8&&!this.lineHeight){this.lineHeight=13;}}BoxPosition.prototype.move=function(axis,toMove){toMove=toMove!==undefined?toMove:this.lineHeight;switch(axis){case\"+x\":this.left+=toMove;this.right+=toMove;break;case\"-x\":this.left-=toMove;this.right-=toMove;break;case\"+y\":this.top+=toMove;this.bottom+=toMove;break;case\"-y\":this.top-=toMove;this.bottom-=toMove;break;}};BoxPosition.prototype.overlaps=function(b2){return this.left<b2.right&&this.right>b2.left&&this.top<b2.bottom&&this.bottom>b2.top;};BoxPosition.prototype.overlapsAny=function(boxes){for(var i=0;i<boxes.length;i++){if(this.overlaps(boxes[i])){return true;}}return false;};BoxPosition.prototype.within=function(container){return this.top>=container.top&&this.bottom<=container.bottom&&this.left>=container.left&&this.right<=container.right;};BoxPosition.prototype.overlapsOppositeAxis=function(container,axis){switch(axis){case\"+x\":return this.left<container.left;case\"-x\":return this.right>container.right;case\"+y\":return this.top<container.top;case\"-y\":return this.bottom>container.bottom;}};BoxPosition.prototype.intersectPercentage=function(b2){var x=Math.max(0,Math.min(this.right,b2.right)-Math.max(this.left,b2.left)),y=Math.max(0,Math.min(this.bottom,b2.bottom)-Math.max(this.top,b2.top)),intersectArea=x*y;return intersectArea/(this.height*this.width);};BoxPosition.prototype.toCSSCompatValues=function(reference){return{top:this.top-reference.top,bottom:reference.bottom-this.bottom,left:this.left-reference.left,right:reference.right-this.right,height:this.height,width:this.width};};BoxPosition.getSimpleBoxPosition=function(obj){var height=obj.div?obj.div.offsetHeight:obj.tagName?obj.offsetHeight:0;var width=obj.div?obj.div.offsetWidth:obj.tagName?obj.offsetWidth:0;var top=obj.div?obj.div.offsetTop:obj.tagName?obj.offsetTop:0;obj=obj.div?obj.div.getBoundingClientRect():obj.tagName?obj.getBoundingClientRect():obj;var ret={left:obj.left,right:obj.right,top:obj.top||top,height:obj.height||height,bottom:obj.bottom||top+(obj.height||height),width:obj.width||width};return ret;};function moveBoxToLinePosition(window,styleBox,containerBox,boxPositions){function findBestPosition(b,axis){var bestPosition,specifiedPosition=new BoxPosition(b),percentage=1;for(var i=0;i<axis.length;i++){while(b.overlapsOppositeAxis(containerBox,axis[i])||b.within(containerBox)&&b.overlapsAny(boxPositions)){b.move(axis[i]);}if(b.within(containerBox)){return b;}var p=b.intersectPercentage(containerBox);if(percentage>p){bestPosition=new BoxPosition(b);percentage=p;}b=new BoxPosition(specifiedPosition);}return bestPosition||specifiedPosition;}var boxPosition=new BoxPosition(styleBox),cue=styleBox.cue,linePos=computeLinePos(cue),axis=[];if(cue.snapToLines){var size;switch(cue.vertical){case\"\":axis=[\"+y\",\"-y\"];size=\"height\";break;case\"rl\":axis=[\"+x\",\"-x\"];size=\"width\";break;case\"lr\":axis=[\"-x\",\"+x\"];size=\"width\";break;}var step=boxPosition.lineHeight,position=step*Math.round(linePos),maxPosition=containerBox[size]+step,initialAxis=axis[0];if(Math.abs(position)>maxPosition){position=position<0?-1:1;position*=Math.ceil(maxPosition/step)*step;}if(linePos<0){position+=cue.vertical===\"\"?containerBox.height:containerBox.width;axis=axis.reverse();}boxPosition.move(initialAxis,position);}else{var calculatedPercentage=boxPosition.lineHeight/containerBox.height*100;switch(cue.lineAlign){case\"middle\":linePos-=calculatedPercentage/2;break;case\"end\":linePos-=calculatedPercentage;break;}switch(cue.vertical){case\"\":styleBox.applyStyles({top:styleBox.formatStyle(linePos,\"%\")});break;case\"rl\":styleBox.applyStyles({left:styleBox.formatStyle(linePos,\"%\")});break;case\"lr\":styleBox.applyStyles({right:styleBox.formatStyle(linePos,\"%\")});break;}axis=[\"+y\",\"-x\",\"+x\",\"-y\"];boxPosition=new BoxPosition(styleBox);}var bestPosition=findBestPosition(boxPosition,axis);styleBox.move(bestPosition.toCSSCompatValues(containerBox));}function WebVTT(){}WebVTT.StringDecoder=function(){return{decode:function(data){if(!data){return\"\";}if(typeof data!==\"string\"){throw new Error(\"Error - expected string data.\");}return decodeURIComponent(encodeURIComponent(data));}};};WebVTT.convertCueToDOMTree=function(window,cuetext){if(!window||!cuetext){return null;}return parseContent(window,cuetext);};var FONT_SIZE_PERCENT=0.05;var FONT_STYLE=\"sans-serif\";var CUE_BACKGROUND_PADDING=\"1.5%\";WebVTT.processCues=function(window,cues,overlay){if(!window||!cues||!overlay){return null;}while(overlay.firstChild){overlay.removeChild(overlay.firstChild);}var paddedOverlay=window.document.createElement(\"div\");paddedOverlay.style.position=\"absolute\";paddedOverlay.style.left=\"0\";paddedOverlay.style.right=\"0\";paddedOverlay.style.top=\"0\";paddedOverlay.style.bottom=\"0\";paddedOverlay.style.margin=CUE_BACKGROUND_PADDING;overlay.appendChild(paddedOverlay);function shouldCompute(cues){for(var i=0;i<cues.length;i++){if(cues[i].hasBeenReset||!cues[i].displayState){return true;}}return false;}if(!shouldCompute(cues)){for(var i=0;i<cues.length;i++){paddedOverlay.appendChild(cues[i].displayState);}return;}var boxPositions=[],containerBox=BoxPosition.getSimpleBoxPosition(paddedOverlay),fontSize=Math.round(containerBox.height*FONT_SIZE_PERCENT*100)/100;var styleOptions={font:fontSize+\"px \"+FONT_STYLE};(function(){var styleBox,cue;for(var i=0;i<cues.length;i++){cue=cues[i];styleBox=new CueStyleBox(window,cue,styleOptions);paddedOverlay.appendChild(styleBox.div);moveBoxToLinePosition(window,styleBox,containerBox,boxPositions);cue.displayState=styleBox.div;boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox));}})();};WebVTT.Parser=function(window,vttjs,decoder){if(!decoder){decoder=vttjs;vttjs={};}if(!vttjs){vttjs={};}this.window=window;this.vttjs=vttjs;this.state=\"INITIAL\";this.buffer=\"\";this.decoder=decoder||new TextDecoder(\"utf8\");this.regionList=[];};WebVTT.Parser.prototype={reportOrThrowError:function(e){if(e instanceof ParsingError){this.onparsingerror&&this.onparsingerror(e);}else{throw e;}},parse:function(data){var self=this;if(data){self.buffer+=self.decoder.decode(data,{stream:true});}function collectNextLine(){var buffer=self.buffer;var pos=0;while(pos<buffer.length&&buffer[pos]!=='\\r'&&buffer[pos]!=='\\n'){++pos;}var line=buffer.substr(0,pos);if(buffer[pos]==='\\r'){++pos;}if(buffer[pos]==='\\n'){++pos;}self.buffer=buffer.substr(pos);return line;}function parseRegion(input){var settings=new Settings();parseOptions(input,function(k,v){switch(k){case\"id\":settings.set(k,v);break;case\"width\":settings.percent(k,v);break;case\"lines\":settings.integer(k,v);break;case\"regionanchor\":case\"viewportanchor\":var xy=v.split(',');if(xy.length!==2){break;}var anchor=new Settings();anchor.percent(\"x\",xy[0]);anchor.percent(\"y\",xy[1]);if(!anchor.has(\"x\")||!anchor.has(\"y\")){break;}settings.set(k+\"X\",anchor.get(\"x\"));settings.set(k+\"Y\",anchor.get(\"y\"));break;case\"scroll\":settings.alt(k,v,[\"up\"]);break;}},/=/,/\\s/);if(settings.has(\"id\")){var region=new(self.vttjs.VTTRegion||self.window.VTTRegion)();region.width=settings.get(\"width\",100);region.lines=settings.get(\"lines\",3);region.regionAnchorX=settings.get(\"regionanchorX\",0);region.regionAnchorY=settings.get(\"regionanchorY\",100);region.viewportAnchorX=settings.get(\"viewportanchorX\",0);region.viewportAnchorY=settings.get(\"viewportanchorY\",100);region.scroll=settings.get(\"scroll\",\"\");self.onregion&&self.onregion(region);self.regionList.push({id:settings.get(\"id\"),region:region});}}function parseTimestampMap(input){var settings=new Settings();parseOptions(input,function(k,v){switch(k){case\"MPEGT\":settings.integer(k+'S',v);break;case\"LOCA\":settings.set(k+'L',parseTimeStamp(v));break;}},/[^\\d]:/,/,/);self.ontimestampmap&&self.ontimestampmap({\"MPEGTS\":settings.get(\"MPEGTS\"),\"LOCAL\":settings.get(\"LOCAL\")});}function parseHeader(input){if(input.match(/X-TIMESTAMP-MAP/)){parseOptions(input,function(k,v){switch(k){case\"X-TIMESTAMP-MAP\":parseTimestampMap(v);break;}},/=/);}else{parseOptions(input,function(k,v){switch(k){case\"Region\":parseRegion(v);break;}},/:/);}}try{var line;if(self.state===\"INITIAL\"){if(!/\\r\\n|\\n/.test(self.buffer)){return this;}line=collectNextLine();var m=line.match(/^WEBVTT([ \\t].*)?$/);if(!m||!m[0]){throw new ParsingError(ParsingError.Errors.BadSignature);}self.state=\"HEADER\";}var alreadyCollectedLine=false;while(self.buffer){if(!/\\r\\n|\\n/.test(self.buffer)){return this;}if(!alreadyCollectedLine){line=collectNextLine();}else{alreadyCollectedLine=false;}switch(self.state){case\"HEADER\":if(/:/.test(line)){parseHeader(line);}else if(!line){self.state=\"ID\";}continue;case\"NOTE\":if(!line){self.state=\"ID\";}continue;case\"ID\":if(/^NOTE($|[ \\t])/.test(line)){self.state=\"NOTE\";break;}if(!line){continue;}self.cue=new(self.vttjs.VTTCue||self.window.VTTCue)(0,0,\"\");self.state=\"CUE\";if(line.indexOf(\"-->\")===-1){self.cue.id=line;continue;}case\"CUE\":try{parseCue(line,self.cue,self.regionList);}catch(e){self.reportOrThrowError(e);self.cue=null;self.state=\"BADCUE\";continue;}self.state=\"CUETEXT\";continue;case\"CUETEXT\":var hasSubstring=line.indexOf(\"-->\")!==-1;if(!line||hasSubstring&&(alreadyCollectedLine=true)){self.oncue&&self.oncue(self.cue);self.cue=null;self.state=\"ID\";continue;}if(self.cue.text){self.cue.text+=\"\\n\";}self.cue.text+=line;continue;case\"BADCUE\":if(!line){self.state=\"ID\";}continue;}}}catch(e){self.reportOrThrowError(e);if(self.state===\"CUETEXT\"&&self.cue&&self.oncue){self.oncue(self.cue);}self.cue=null;self.state=self.state===\"INITIAL\"?\"BADWEBVTT\":\"BADCUE\";}return this;},flush:function(){var self=this;try{self.buffer+=self.decoder.decode();if(self.cue||self.state===\"HEADER\"){self.buffer+=\"\\n\\n\";self.parse();}if(self.state===\"INITIAL\"){throw new ParsingError(ParsingError.Errors.BadSignature);}}catch(e){self.reportOrThrowError(e);}self.onflush&&self.onflush();return this;}};module.exports=WebVTT;},{}],101:[function(_dereq_,module,exports){var autoKeyword=\"auto\";var directionSetting={\"\":true,\"lr\":true,\"rl\":true};var alignSetting={\"start\":true,\"middle\":true,\"end\":true,\"left\":true,\"right\":true};function findDirectionSetting(value){if(typeof value!==\"string\"){return false;}var dir=directionSetting[value.toLowerCase()];return dir?value.toLowerCase():false;}function findAlignSetting(value){if(typeof value!==\"string\"){return false;}var align=alignSetting[value.toLowerCase()];return align?value.toLowerCase():false;}function extend(obj){var i=1;for(;i<arguments.length;i++){var cobj=arguments[i];for(var p in cobj){obj[p]=cobj[p];}}return obj;}function VTTCue(startTime,endTime,text){var cue=this;var isIE8=/MSIE\\s8\\.0/.test(navigator.userAgent);var baseObj={};if(isIE8){cue=document.createElement('custom');}else{baseObj.enumerable=true;}cue.hasBeenReset=false;var _id=\"\";var _pauseOnExit=false;var _startTime=startTime;var _endTime=endTime;var _text=text;var _region=null;var _vertical=\"\";var _snapToLines=true;var _line=\"auto\";var _lineAlign=\"start\";var _position=50;var _positionAlign=\"middle\";var _size=50;var _align=\"middle\";Object.defineProperty(cue,\"id\",extend({},baseObj,{get:function(){return _id;},set:function(value){_id=\"\"+value;}}));Object.defineProperty(cue,\"pauseOnExit\",extend({},baseObj,{get:function(){return _pauseOnExit;},set:function(value){_pauseOnExit=!!value;}}));Object.defineProperty(cue,\"startTime\",extend({},baseObj,{get:function(){return _startTime;},set:function(value){if(typeof value!==\"number\"){throw new TypeError(\"Start time must be set to a number.\");}_startTime=value;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"endTime\",extend({},baseObj,{get:function(){return _endTime;},set:function(value){if(typeof value!==\"number\"){throw new TypeError(\"End time must be set to a number.\");}_endTime=value;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"text\",extend({},baseObj,{get:function(){return _text;},set:function(value){_text=\"\"+value;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"region\",extend({},baseObj,{get:function(){return _region;},set:function(value){_region=value;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"vertical\",extend({},baseObj,{get:function(){return _vertical;},set:function(value){var setting=findDirectionSetting(value);if(setting===false){throw new SyntaxError(\"An invalid or illegal string was specified.\");}_vertical=setting;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"snapToLines\",extend({},baseObj,{get:function(){return _snapToLines;},set:function(value){_snapToLines=!!value;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"line\",extend({},baseObj,{get:function(){return _line;},set:function(value){if(typeof value!==\"number\"&&value!==autoKeyword){throw new SyntaxError(\"An invalid number or illegal string was specified.\");}_line=value;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"lineAlign\",extend({},baseObj,{get:function(){return _lineAlign;},set:function(value){var setting=findAlignSetting(value);if(!setting){throw new SyntaxError(\"An invalid or illegal string was specified.\");}_lineAlign=setting;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"position\",extend({},baseObj,{get:function(){return _position;},set:function(value){if(value<0||value>100){throw new Error(\"Position must be between 0 and 100.\");}_position=value;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"positionAlign\",extend({},baseObj,{get:function(){return _positionAlign;},set:function(value){var setting=findAlignSetting(value);if(!setting){throw new SyntaxError(\"An invalid or illegal string was specified.\");}_positionAlign=setting;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"size\",extend({},baseObj,{get:function(){return _size;},set:function(value){if(value<0||value>100){throw new Error(\"Size must be between 0 and 100.\");}_size=value;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"align\",extend({},baseObj,{get:function(){return _align;},set:function(value){var setting=findAlignSetting(value);if(!setting){throw new SyntaxError(\"An invalid or illegal string was specified.\");}_align=setting;this.hasBeenReset=true;}}));cue.displayState=undefined;if(isIE8){return cue;}}VTTCue.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text);};module.exports=VTTCue;},{}],102:[function(_dereq_,module,exports){var scrollSetting={\"\":true,\"up\":true};function findScrollSetting(value){if(typeof value!==\"string\"){return false;}var scroll=scrollSetting[value.toLowerCase()];return scroll?value.toLowerCase():false;}function isValidPercentValue(value){return typeof value===\"number\"&&value>=0&&value<=100;}function VTTRegion(){var _width=100;var _lines=3;var _regionAnchorX=0;var _regionAnchorY=100;var _viewportAnchorX=0;var _viewportAnchorY=100;var _scroll=\"\";Object.defineProperties(this,{\"width\":{enumerable:true,get:function(){return _width;},set:function(value){if(!isValidPercentValue(value)){throw new Error(\"Width must be between 0 and 100.\");}_width=value;}},\"lines\":{enumerable:true,get:function(){return _lines;},set:function(value){if(typeof value!==\"number\"){throw new TypeError(\"Lines must be set to a number.\");}_lines=value;}},\"regionAnchorY\":{enumerable:true,get:function(){return _regionAnchorY;},set:function(value){if(!isValidPercentValue(value)){throw new Error(\"RegionAnchorX must be between 0 and 100.\");}_regionAnchorY=value;}},\"regionAnchorX\":{enumerable:true,get:function(){return _regionAnchorX;},set:function(value){if(!isValidPercentValue(value)){throw new Error(\"RegionAnchorY must be between 0 and 100.\");}_regionAnchorX=value;}},\"viewportAnchorY\":{enumerable:true,get:function(){return _viewportAnchorY;},set:function(value){if(!isValidPercentValue(value)){throw new Error(\"ViewportAnchorY must be between 0 and 100.\");}_viewportAnchorY=value;}},\"viewportAnchorX\":{enumerable:true,get:function(){return _viewportAnchorX;},set:function(value){if(!isValidPercentValue(value)){throw new Error(\"ViewportAnchorX must be between 0 and 100.\");}_viewportAnchorX=value;}},\"scroll\":{enumerable:true,get:function(){return _scroll;},set:function(value){var setting=findScrollSetting(value);if(setting===false){throw new SyntaxError(\"An invalid or illegal string was specified.\");}_scroll=setting;}}});}module.exports=VTTRegion;},{}],103:[function(_dereq_,module,exports){(function(global){var win;if(typeof window!==\"undefined\"){win=window;}else if(typeof global!==\"undefined\"){win=global;}else if(typeof self!==\"undefined\"){win=self;}else{win={};}module.exports=win;}).call(this,typeof global!==\"undefined\"?global:typeof self!==\"undefined\"?self:typeof window!==\"undefined\"?window:{});},{}],104:[function(_dereq_,module,exports){\"use strict\";var window=_dereq_(95);var isFunction=_dereq_(105);var parseHeaders=_dereq_(108);var xtend=_dereq_(109);module.exports=createXHR;createXHR.XMLHttpRequest=window.XMLHttpRequest||noop;createXHR.XDomainRequest=\"withCredentials\"in new createXHR.XMLHttpRequest()?createXHR.XMLHttpRequest:window.XDomainRequest;forEachArray([\"get\",\"put\",\"post\",\"patch\",\"head\",\"delete\"],function(method){createXHR[method===\"delete\"?\"del\":method]=function(uri,options,callback){options=initParams(uri,options,callback);options.method=method.toUpperCase();return _createXHR(options);};});function forEachArray(array,iterator){for(var i=0;i<array.length;i++){iterator(array[i]);}}function isEmpty(obj){for(var i in obj){if(obj.hasOwnProperty(i))return false;}return true;}function initParams(uri,options,callback){var params=uri;if(isFunction(options)){callback=options;if(typeof uri===\"string\"){params={uri:uri};}}else{params=xtend(options,{uri:uri});}params.callback=callback;return params;}function createXHR(uri,options,callback){options=initParams(uri,options,callback);return _createXHR(options);}function _createXHR(options){if(typeof options.callback===\"undefined\"){throw new Error(\"callback argument missing\");}var called=false;var callback=function cbOnce(err,response,body){if(!called){called=true;options.callback(err,response,body);}};function readystatechange(){if(xhr.readyState===4){loadFunc();}}function getBody(){var body=undefined;if(xhr.response){body=xhr.response;}else{body=xhr.responseText||getXml(xhr);}if(isJson){try{body=JSON.parse(body);}catch(e){}}return body;}var failureResponse={body:undefined,headers:{},statusCode:0,method:method,url:uri,rawRequest:xhr};function errorFunc(evt){clearTimeout(timeoutTimer);if(!(evt instanceof Error)){evt=new Error(\"\"+(evt||\"Unknown XMLHttpRequest Error\"));}evt.statusCode=0;return callback(evt,failureResponse);}function loadFunc(){if(aborted)return;var status;clearTimeout(timeoutTimer);if(options.useXDR&&xhr.status===undefined){status=200;}else{status=xhr.status===1223?204:xhr.status;}var response=failureResponse;var err=null;if(status!==0){response={body:getBody(),statusCode:status,method:method,headers:{},url:uri,rawRequest:xhr};if(xhr.getAllResponseHeaders){response.headers=parseHeaders(xhr.getAllResponseHeaders());}}else{err=new Error(\"Internal XMLHttpRequest Error\");}return callback(err,response,response.body);}var xhr=options.xhr||null;if(!xhr){if(options.cors||options.useXDR){xhr=new createXHR.XDomainRequest();}else{xhr=new createXHR.XMLHttpRequest();}}var key;var aborted;var uri=xhr.url=options.uri||options.url;var method=xhr.method=options.method||\"GET\";var body=options.body||options.data||null;var headers=xhr.headers=options.headers||{};var sync=!!options.sync;var isJson=false;var timeoutTimer;if(\"json\"in options){isJson=true;headers[\"accept\"]||headers[\"Accept\"]||(headers[\"Accept\"]=\"application/json\");if(method!==\"GET\"&&method!==\"HEAD\"){headers[\"content-type\"]||headers[\"Content-Type\"]||(headers[\"Content-Type\"]=\"application/json\");body=JSON.stringify(options.json);}}xhr.onreadystatechange=readystatechange;xhr.onload=loadFunc;xhr.onerror=errorFunc;xhr.onprogress=function(){};xhr.ontimeout=errorFunc;xhr.open(method,uri,!sync,options.username,options.password);if(!sync){xhr.withCredentials=!!options.withCredentials;}if(!sync&&options.timeout>0){timeoutTimer=setTimeout(function(){aborted=true;xhr.abort(\"timeout\");var e=new Error(\"XMLHttpRequest timeout\");e.code=\"ETIMEDOUT\";errorFunc(e);},options.timeout);}if(xhr.setRequestHeader){for(key in headers){if(headers.hasOwnProperty(key)){xhr.setRequestHeader(key,headers[key]);}}}else if(options.headers&&!isEmpty(options.headers)){throw new Error(\"Headers cannot be set on an XDomainRequest object\");}if(\"responseType\"in options){xhr.responseType=options.responseType;}if(\"beforeSend\"in options&&typeof options.beforeSend===\"function\"){options.beforeSend(xhr);}xhr.send(body);return xhr;}function getXml(xhr){if(xhr.responseType===\"document\"){return xhr.responseXML;}var firefoxBugTakenEffect=xhr.status===204&&xhr.responseXML&&xhr.responseXML.documentElement.nodeName===\"parsererror\";if(xhr.responseType===\"\"&&!firefoxBugTakenEffect){return xhr.responseXML;}return null;}function noop(){}},{\"105\":105,\"108\":108,\"109\":109,\"95\":95}],105:[function(_dereq_,module,exports){module.exports=isFunction;var toString=Object.prototype.toString;function isFunction(fn){var string=toString.call(fn);return string==='[object Function]'||typeof fn==='function'&&string!=='[object RegExp]'||typeof window!=='undefined'&&(fn===window.setTimeout||fn===window.alert||fn===window.confirm||fn===window.prompt);};},{}],106:[function(_dereq_,module,exports){var isFunction=_dereq_(105);module.exports=forEach;var toString=Object.prototype.toString;var hasOwnProperty=Object.prototype.hasOwnProperty;function forEach(list,iterator,context){if(!isFunction(iterator)){throw new TypeError('iterator must be a function');}if(arguments.length<3){context=this;}if(toString.call(list)==='[object Array]')forEachArray(list,iterator,context);else if(typeof list==='string')forEachString(list,iterator,context);else forEachObject(list,iterator,context);}function forEachArray(array,iterator,context){for(var i=0,len=array.length;i<len;i++){if(hasOwnProperty.call(array,i)){iterator.call(context,array[i],i,array);}}}function forEachString(string,iterator,context){for(var i=0,len=string.length;i<len;i++){iterator.call(context,string.charAt(i),i,string);}}function forEachObject(object,iterator,context){for(var k in object){if(hasOwnProperty.call(object,k)){iterator.call(context,object[k],k,object);}}}},{\"105\":105}],107:[function(_dereq_,module,exports){exports=module.exports=trim;function trim(str){return str.replace(/^\\s*|\\s*$/g,'');}exports.left=function(str){return str.replace(/^\\s*/,'');};exports.right=function(str){return str.replace(/\\s*$/,'');};},{}],108:[function(_dereq_,module,exports){var trim=_dereq_(107),forEach=_dereq_(106),isArray=function(arg){return Object.prototype.toString.call(arg)==='[object Array]';};module.exports=function(headers){if(!headers)return{};var result={};forEach(trim(headers).split('\\n'),function(row){var index=row.indexOf(':'),key=trim(row.slice(0,index)).toLowerCase(),value=trim(row.slice(index+1));if(typeof result[key]==='undefined'){result[key]=value;}else if(isArray(result[key])){result[key].push(value);}else{result[key]=[result[key],value];}});return result;};},{\"106\":106,\"107\":107}],109:[function(_dereq_,module,exports){module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(){var target={};for(var i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;}},{}]},{},[93])(93);});;(function(window,videojs,Hls){'use strict';var Component=videojs.getComponent('Component'),Tech=videojs.getTech('Tech'),Html5=videojs.getComponent('Html5');var Hlsjs=videojs.extend(Html5,{initHls_:function(){this.options_.hls.autoStartLoad=false;this.hls_=new Hls(this.options_.hls);this.bindExternalCallbacks_();this.hls_.on(Hls.Events.MEDIA_ATTACHED,videojs.bind(this,this.onMediaAttached_));this.hls_.on(Hls.Events.MANIFEST_PARSED,videojs.bind(this,this.onManifestParsed_));this.hls_.on(Hls.Events.MANIFEST_LOADED,videojs.bind(this,this.initAudioTracks_));this.hls_.on(Hls.Events.MANIFEST_LOADED,videojs.bind(this,this.initTextTracks_));this.hls_.on(Hls.Events.LEVEL_UPDATE,videojs.bind(this,this.updateTimeRange_));this.hls_.on(Hls.Events.ERROR,videojs.bind(this,this.onError_));this.el_.addEventListener('error',videojs.bind(this,this.onMediaError_));this.currentLevel_=undefined;this.setLevelOnLoad_=undefined;this.lastLevel_=undefined;this.timeRange_=undefined;this.starttime_=-1;this.levels_=[];this.hls_.attachMedia(this.el_);},bindExternalCallbacks_:function(){var resolveCallbackFromOptions=function(evt,options,hls){var capitalize=function(str){return str.charAt(0).toUpperCase()+str.slice(1);},createCallback=function(callback,hls){return function(evt,data){callback(hls,data);};},callback=options['on'+capitalize(evt)];if(callback&&typeof callback==='function'){return createCallback(callback,hls);}},key;for(key in Hls.Events){if(Object.prototype.hasOwnProperty.call(Hls.Events,key)){var evt=Hls.Events[key],callback=resolveCallbackFromOptions(evt,this.options_,this.hls_);if(callback){this.hls_.on(evt,videojs.bind(this,callback));}}}},onMediaAttached_:function(){this.triggerReady();},updateTimeRange_:function(){var range;if(this.hls_&&this.hls_.currentLevel>=0){var details=this.hls_.levels[this.hls_.currentLevel].details;if(details){var fragments=details.fragments,isLive=details.live,firstFragmentIndex=!isLive?0:2,firstFragment=fragments[firstFragmentIndex>fragments.length?0:firstFragmentIndex],liveSyncDurationCount=this.hls_.config.liveSyncDurationCount,lastFragmentIndex=!isLive?fragments.length-1:fragments.length-liveSyncDurationCount,lastFragment=fragments[lastFragmentIndex<0?0:lastFragmentIndex];range={start:firstFragment.start,end:lastFragment.start+lastFragment.duration};}}if(!range&&!this.timeRange_){var duration=Html5.prototype.duration.apply(this);if(duration&&!isNaN(duration)){range={start:0,end:duration};}}else if(!range){range=this.timeRange_;}this.timeRange_=range;},play:function(){if(this.preload()==='none'&&!this.hasStarted_){if(this.setLevelOnLoad_){this.setLevel(this.setLevelOnLoad_);}this.hls_.startLoad(this.starttime());}Html5.prototype.play.apply(this);},duration:function(){this.updateTimeRange_();return this.timeRange_?this.timeRange_.end-this.timeRange_.start:undefined;},currentTime:function(){this.updateTimeRange_();if(this.hls_.currentLevel!==this.lastLevel_){this.trigger('levelswitched');}this.lastLevel_=this.hls_.currentLevel;return Html5.prototype.currentTime.apply(this);},seekable:function(){if(this.timeRange_){return{start:function(){return this.timeRange_.start;}.bind(this),end:function(){return this.timeRange_.end;}.bind(this),length:1};}else{return{length:0};}},onManifestParsed_:function(){var hasAutoLevel=!this.options_.disableAutoLevel,startLevel,autoLevel;this.parseLevels_();if(this.levels_.length>0){if(this.options_.setLevelByHeight){startLevel=this.getLevelByHeight_(this.options_.setLevelByHeight);autoLevel=false;}else if(this.options_.startLevelByHeight){startLevel=this.getLevelByHeight_(this.options_.startLevelByHeight);autoLevel=hasAutoLevel;}if(!hasAutoLevel&&(!startLevel||startLevel.index===-1)){startLevel=this.levels_[this.levels_.length-1];autoLevel=false;}}else if(!hasAutoLevel){startLevel={index:this.hls_.levels.length-1};autoLevel=false;}if(startLevel){this.hls_.startLevel=startLevel.index;}if(this.preload()!=='none'){if(!autoLevel&&startLevel){this.setLevel(startLevel);}this.hls_.startLoad(this.starttime());}else if(!autoLevel&&startLevel){this.setLevelOnLoad_=startLevel;this.currentLevel_=startLevel;}if(this.autoplay()&&this.paused()){this.play();}this.trigger('levelsloaded');},initAudioTracks_:function(){var i,toRemove=[],vjsTracks=this.audioTracks(),hlsTracks=this.hls_.audioTracks,hlsGroups=[],hlsGroupTracks=[],isEnabled=function(track){var hls=this.hls_;return track.groups.reduce(function(acc,g){return acc||g.id===hls.audioTrack;},false);},modeChanged=function(tech){if(this.enabled){var level=tech.currentLevel();var id=this.__hlsGroups.reduce(function(acc,group){if(group.groupId===level.audio){acc=group.id;}return acc;},this.__hlsTrackId);if(id!==this.__hlsTrackId){tech.hls_.audioTrack=id;}}};var g=0;hlsTracks.forEach(function(track){var name=typeof track.groupId!=='undefined'?track.name:'no-groups';var group={id:track.id,groupId:track.groupId};if(typeof hlsGroups[name]==='undefined'){hlsGroups[name]=g;hlsGroupTracks[g]=[];var t=track;t.groups=[];t.groups.push(group);hlsGroupTracks[g]=t;g++;}else{hlsGroupTracks[hlsGroups[track.name]].groups.push(group);}});for(i=0;i<vjsTracks.length;i++){var track=vjsTracks[i];if(track.__hlsTrackId!==undefined){toRemove.push(track);}}for(i=0;i<toRemove.length;i++){vjsTracks.removeTrack_(toRemove[i]);}for(i=0;i<hlsGroupTracks.length;i++){var hlsTrack=hlsGroupTracks[i];var vjsTrack=new videojs.AudioTrack({type:hlsTrack.type,language:hlsTrack.lang,label:hlsTrack.name,enabled:isEnabled.bind(this,hlsTrack)()});vjsTrack.__hlsTrackId=hlsTrack.id;vjsTrack.__hlsGroups=hlsTrack.groups;vjsTrack.addEventListener('enabledchange',modeChanged.bind(vjsTrack,this));vjsTracks.addTrack(vjsTrack);}},initTextTracks_:function(){var i,toRemove=[],vjsTracks=this.textTracks(),hlsTracks=this.hls_.subtitleTracks,modeChanged=function(){this.tech_.el_.textTracks[this.__hlsTrack.vjsId].mode=this.mode;};for(i=0;i<vjsTracks.length;i++){var track=vjsTracks[i];if(track.__hlsTrack!==undefined){toRemove.push(track);}}for(i=0;i<toRemove.length;i++){vjsTracks.removeTrack_(toRemove[i]);}var hlsHasDefaultTrack=false;for(i=0;i<hlsTracks.length;i++){var hlsTrack=hlsTracks[i],vjsTrack=new videojs.TextTrack({srclang:hlsTrack.lang,label:hlsTrack.name,mode:typeof hlsTrack.default!=='undefined'&&hlsTrack.default&&!hlsHasDefaultTrack?'showing':'hidden',tech:this});if(typeof hlsTrack.default!=='undefined'&&hlsTrack.default){hlsHasDefaultTrack=true;}vjsTrack.__hlsTrack=hlsTrack;vjsTrack.__hlsTrack.vjsId=i+1;vjsTrack.addEventListener('modechange',modeChanged);vjsTracks.addTrack_(vjsTrack);}if(hlsHasDefaultTrack){this.trigger('texttrackchange');}},getLevelByHeight_:function(h){var i,result;for(i=0;i<this.levels_.length;i++){var cLevel=this.levels_[i],cDiff=Math.abs(h-cLevel.height),pLevel=result,pDiff=pLevel!==undefined?Math.abs(h-pLevel.height):undefined;if(pDiff===undefined||pDiff>cDiff){result=this.levels_[i];}}return result;},parseLevels_:function(){this.levels_=[];this.currentLevel_=undefined;if(this.hls_.levels){var i;if(!this.options_.disableAutoLevel){this.levels_.push({label:'auto',index:-1,height:-1});this.currentLevel_=this.levels_[0];}for(i=0;i<this.hls_.levels.length;i++){var level=this.hls_.levels[i];var lvl=null;if(level.height){lvl={label:level.height+'p',index:i,height:level.height};}if(typeof level.attrs.AUDIO!=='undefined'){lvl=lvl||{};lvl.index=i;lvl.audio=level.attrs.AUDIO;}if(lvl){this.levels_.push(lvl);}}if(this.levels_.length<=1){this.levels_=[];this.currentLevel_=undefined;}}},setSrc:function(src){if(this.hls_){this.hls_.destroy();}if(this.currentLevel_){this.options_.setLevelByHeight=this.currentLevel_.height;}this.initHls_();this.hls_.loadSource(src);},onMediaError_:function(event){var error=event.currentTarget.error;if(error&&error.code===error.MEDIA_ERR_DECODE){var data={type:Hls.ErrorTypes.MEDIA_ERROR,fatal:true,details:'mediaErrorDecode'};this.onError_(event,data);}},onError_:function(event,data){var abort=[Hls.ErrorDetails.MANIFEST_LOAD_ERROR,Hls.ErrorDetails.MANIFEST_LOAD_TIMEOUT,Hls.ErrorDetails.MANIFEST_PARSING_ERROR];if(abort.indexOf(data.details)>=0){videojs.log.error('HLSJS: Fatal error: \"'+data.details+'\", aborting playback.');this.hls_.destroy();this.error=function(){return{code:3};};this.trigger('error');}else{if(data.fatal){switch(data.type){case Hls.ErrorTypes.NETWORK_ERROR:videojs.log.warn('HLSJS: Network error: \"'+data.details+'\", trying to recover...');this.hls_.startLoad();this.trigger('waiting');break;case Hls.ErrorTypes.MEDIA_ERROR:var startLoad=function(){this.hls_.startLoad();this.hls_.off(Hls.Events.MEDIA_ATTACHED,startLoad);}.bind(this);videojs.log.warn('HLSJS: Media error: \"'+data.details+'\", trying to recover...');this.hls_.swapAudioCodec();this.hls_.recoverMediaError();this.hls_.on(Hls.Events.MEDIA_ATTACHED,startLoad);this.trigger('waiting');break;default:videojs.log.error('HLSJS: Fatal error: \"'+data.details+'\", aborting playback.');this.hls_.destroy();this.error=function(){return{code:3};};this.trigger('error');break;}}}},currentLevel:function(){var hasAutoLevel=!this.options_.disableAutoLevel;return this.currentLevel_&&this.currentLevel_.index===-1?this.levels_[hasAutoLevel?this.hls_.currentLevel+1:this.hls_.currentLevel]:this.currentLevel_;},isAutoLevel:function(){return this.currentLevel_&&this.currentLevel_.index===-1;},setLevel:function(level){this.currentLevel_=level;this.setLevelOnLoad_=undefined;this.hls_.currentLevel=level.index;this.hls_.loadLevel=level.index;},getLevels:function(){return this.levels_;},supportsStarttime:function(){return true;},starttime:function(starttime){if(starttime){this.starttime_=starttime;}else{return this.starttime_;}},dispose:function(){if(this.hls_){this.hls_.destroy();}return Html5.prototype.dispose.apply(this);}});Hlsjs.isSupported=function(){return Hls.isSupported();};Hlsjs.canPlaySource=function(source){return!(videojs.options.hlsjs.favorNativeHLS&&Html5.canPlaySource(source))&&source.type&&/^application\\/(?:x-|vnd\\.apple\\.)mpegurl/i.test(source.type)&&Hls.isSupported();};videojs.options.hlsjs={favorNativeHLS:true,hls:{}};Component.registerComponent('Hlsjs',Hlsjs);Tech.registerTech('hlsjs',Hlsjs);videojs.options.techOrder.push('hlsjs');})(window,window.videojs,window.Hls);;\nfunction noop(){}function assign(t,e){for(var n in e)t[n]=e[n];return t}function appendNode(t,e){e.appendChild(t)}function insertNode(t,e,n){e.insertBefore(t,n)}function detachNode(t){t.parentNode.removeChild(t)}function createElement(t){return document.createElement(t)}function createText(t){return document.createTextNode(t)}function addListener(t,e,n){t.addEventListener(e,n,!1)}function removeListener(t,e,n){t.removeEventListener(e,n,!1)}function setAttribute(t,e,n){t.setAttribute(e,n)}function blankObject(){return Object.create(null)}function destroy(t){this.destroy=noop,this.fire(\"destroy\"),this.set=this.get=noop,!1!==t&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function _differs(t,e){return t!=t?e==e:t!==e||t&&\"object\"==typeof t||\"function\"==typeof t}function fire(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var i=0;i<n.length;i+=1){var s=n[i];s.__calling||(s.__calling=!0,s.call(this,e),s.__calling=!1)}}function get(t){return t?this._state[t]:this._state}function init(t,e){t._handlers=blankObject(),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=t.root.store||e.store}function observe(t,e,n){var i=e.bind(this);return n&&!1===n.init||i(this.get()[t],void 0),this.on(n&&n.defer?\"update\":\"state\",function(e){e.changed[t]&&i(e.current[t],e.previous&&e.previous[t])})}function on(t,e){if(\"teardown\"===t)return this.on(\"destroy\",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function set(t){this._set(assign({},t)),this.root._lock||(this.root._lock=!0,callAll(this.root._beforecreate),callAll(this.root._oncreate),callAll(this.root._aftercreate),this.root._lock=!1)}function _set(t){var e=this._state,n={},i=!1;for(var s in t)this._differs(t[s],e[s])&&(n[s]=i=!0);i&&(this._state=assign(assign({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire(\"state\",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire(\"update\",{changed:n,current:this._state,previous:e})))}function callAll(t){for(;t&&t.length;)t.shift()()}function _mount(t,e){this._fragment[this._fragment.i?\"i\":\"m\"](t,e||null)}function _unmount(){this._fragment&&this._fragment.u()}var proto={destroy:destroy,get:get,fire:fire,observe:observe,on:on,set:set,teardown:destroy,_recompute:noop,_set:_set,_mount:_mount,_unmount:_unmount,_differs:_differs};function create_main_fragment(t,e){var n,i,s,r,o;function a(e){t.fire(\"play-unmuted\")}return{c:function(){n=createElement(\"div\"),i=createElement(\"video\"),s=createText(\"\\n    \"),r=createElement(\"div\"),this.h()},h:function(){i.id=e.id,i.preload=\"none\",i.className=\"video-js vjs-default-skin vjs-16-9 vjs-big-play-centered\",setAttribute(i,\"playsinline\",!0),addListener(r,\"click\",a),r.className=\"autoplay-muted-indication\",r.title=\"Unmute and play\",n.className=o=\"container \"+e.containerClasses.join(\" \")},m:function(t,e){insertNode(n,t,e),appendNode(i,n),appendNode(s,n),appendNode(r,n)},p:function(t,e){t.id&&(i.id=e.id),t.containerClasses&&o!==(o=\"container \"+e.containerClasses.join(\" \"))&&(n.className=o)},u:function(){detachNode(n)},d:function(){removeListener(r,\"click\",a)}}}function Player(t){init(this,t),this._state=assign({},t.data),this._fragment=create_main_fragment(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}assign(Player.prototype,proto);\n;\nvar bundle=function(e){\"use strict\";var t=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,a){try{var o=t[i](a),u=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(u).then(function(e){r(\"next\",e)},function(e){r(\"throw\",e)});e(u)}(\"next\")})}},n=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};function a(){var e;window.carodaDebugVideoElementProxy&&(e=console).log.apply(e,arguments)}function o(e,t,n){if(!n)return[];var r=t<=0?Object.keys(e):[],a=Object.getPrototypeOf(e);return[].concat(i(r),i(a?o(a,t-1,n-1):[]))}function u(e,t){var n=o(e,3,100).filter(function(e){return\"parentNode\"!==e}),r=o(e,0,3),i=document.createElement(\"video\");return e.parentElement.insertBefore(i,e),function(e,t,n,r,i){a(e,t);var o=function(e){\"function\"==typeof n[e]?n[e]=function(){return a(\"method1\",e,arguments),i[e].apply(i,arguments),r[e].apply(r,arguments)}:Object.defineProperty(n,e,{get:function(){return a(\"get1\",e),r[e]},set:function(t){a(\"set1\",e,t),r[e]=t,i[e]=t}})},u=!0,l=!1,s=void 0;try{for(var c,p=e[Symbol.iterator]();!(u=(c=p.next()).done);u=!0)o(c.value)}catch(e){l=!0,s=e}finally{try{!u&&p.return&&p.return()}finally{if(l)throw s}}var h=function(e){\"function\"==typeof n[e]?n[e]=function(){return a(\"method2\",e,arguments),i[e].apply(i,arguments)}:Object.defineProperty(n,e,{get:function(){return a(\"get2\",e),i[e]},set:function(t){a(\"set2\",e,t),i[e]=t}})},d=!0,f=!1,y=void 0;try{for(var v,m=t[Symbol.iterator]();!(d=(v=m.next()).done);d=!0)h(v.value)}catch(e){f=!0,y=e}finally{try{!d&&m.return&&m.return()}finally{if(f)throw y}}}(n,r,i,e,t),i}var l,s=(l=t(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=g(t),!n){e.next=5;break}return i={src:n},n.match(/m3u8$/)&&(i.type=\"application/x-mpegURL\"),e.abrupt(\"return\",i);case 5:if(m.HLS!==r){e.next=7;break}return e.abrupt(\"return\",{src:f+\"/video/\"+t+\".m3u8\",type:\"application/x-mpegURL\"});case 7:if(m.Audio!==r){e.next=9;break}return e.abrupt(\"return\",{src:y+\"/output/\"+t+\"/audio.mp3\",type:\"audio/mpeg\"});case 9:throw new Error(\"Source id \"+t+\" unsupported\");case 10:case\"end\":return e.stop()}},e,this)})),function(e,t){return l.apply(this,arguments)}),c=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),p=window.chrome,h=!!window.navigator.userAgent.match(/Trident/),d=-1!==navigator.userAgent.toLowerCase().indexOf(\"safari/\"),f=\"https://api.caroda.io\",y=\"https://cdn4.caroda.io\",v=\"https://caroda-media-storage.imgix.net\",m={HLS:\"hls\",External:\"external\",Audio:\"audio\",Unknown:\"unknown\"};function g(e){return e.match(/^vz[a-f0-9]+au$/)&&m.Audio||e.match(/^vz[a-f0-9]+$/)&&m.HLS||m.Unknown}var k=function(){function e(t){if(n(this,e),t.apiPrefix&&(f=t.apiPrefix),t.videoCdnPrefix&&(y=t.videoCdnPrefix),t.imageCdnPrefix&&(v=t.imageCdnPrefix),t.playerSkin){var r=document.createElement(\"style\");r.innerHTML=t.playerSkin,document.head.appendChild(r)}var i={containerClasses:[],id:\"content-player-\"+Math.floor(1e9*Math.random())};if(this.id=t.id,this.vid=t.vid,this.autoplay=t.autoplay,this.loop=t.loop,this.volume=t.volume,this.muted=t.muted,this.isFullscreen=!1,this.fallbackSource=t.fallbackSource,this.sourceType=g(this.vid),this.poster=t.poster,this.eventHandlers=[],this.topFrameVideoId=t.topFrameVideoId,navigator.userAgent.match(/iPhone|iPad|Android/i)&&i.containerClasses.push(\"mobile\"),this.sourceType===m.Audio&&i.containerClasses.push(\"audio\"),this.fallbackSource&&this.fallbackSource.match(/mp3$/)&&i.containerClasses.push(\"audio\"),this.muted&&this.autoplay&&!t.disablePlayUnmutedScreen&&i.containerClasses.push(\"show-play-unmuted\"),!this.poster){if(this.fallbackSource&&!this.fallbackSource.match(/m3u8$/))this.poster=this.fallbackSource;else if(m.HLS===this.sourceType){var a=window.innerWidth,o=a-a%10,u=Math.floor(9*o/16);this.poster=v+\"/\"+this.vid+\"/thumbnail/cover.jpg?fit=crop&w=\"+o+\"&h=\"+u}m.Audio===this.sourceType&&(this.isShort=!0,i.containerClasses.push(\"short\"))}this.event({type:\"playerConstructed\",value:{poster:this.poster}}),this.$=this.component=new Player({target:t.target,data:i}),this.registerMessageHandler(),this.initVjs()}return r(e,[{key:\"registerMessageHandler\",value:function(){var e=this;window.addEventListener(\"message\",function(t){try{var n=t.data.match(/^([^:]+):\\/\\/(.*)$/),r=JSON.parse(n[2]);e.eventHandlers.filter(function(e){return e.type===r.type}).forEach(function(e){return e.handler(r)})}catch(e){console.error(e)}})}},{key:\"event\",value:function(e){window.parent.postMessage(this.id+\"://\"+JSON.stringify(e),\"*\")}},{key:\"onEvent\",value:function(e,t){this.eventHandlers.push({type:e,handler:t})}},{key:\"oneEvent\",value:function(e,t){var n=this,r={type:e,handler:function(e){t(e),n.eventHandlers=n.eventHandlers.filter(function(e){return e!==r})}};this.eventHandlers.push(r)}},{key:\"initVjs\",value:function(){var e=t(regeneratorRuntime.mark(function e(){var t,n,r,i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isInit){e.next=2;break}return e.abrupt(\"return\");case 2:return e.prev=2,t={autoplay:this.autoplay,muted:this.muted,loop:this.loop,controls:!0,techOrder:[\"hlsjs\",\"html5\"],hlsjs:{hls:{capLevelToPlayerSize:!0,maxBufferLength:0,maxMaxBufferLength:90}}},this.isShort&&(t.bigPlayButton=!1),n=document.getElementById(this.$.get(\"id\")),(r=p&&!c)&&(n=this.proxyVideoElement(n)),this.player=videojs(n,t,function(){}),this.patchHlsPlayFunction(),i=r?this.patchCreateElement(n):void 0,e.t0=this.player,e.next=14,s(this.vid,this.fallbackSource);case 14:e.t1=e.sent,e.t0.src.call(e.t0,e.t1),r&&i(),this.player.volume(this.muted?0:this.volume||1),this.poster&&this.player.poster(this.poster),this.rewriteFullscreenButton(),this.registerPlayerEventTracking(),this.$.on(\"play-unmuted\",function(){a.player.currentTime(0),a.player.play(),a.unmute(),a.$.set({containerClasses:a.$.get(\"containerClasses\").filter(function(e){return\"show-play-unmuted\"!==e})})}),this.player.on(\"timeupdate\",function(){return a.event({type:\"timeUpdate\",value:{currentTime:a.player.currentTime(),duration:a.player.duration()}})}),e.next=28;break;case 25:e.prev=25,e.t2=e.catch(2),console.error(e.t2);case 28:this.isInit=!0;case 29:case\"end\":return e.stop()}},e,this,[[2,25]])}));return function(){return e.apply(this,arguments)}}()},{key:\"registerPlayerEventTracking\",value:function(){var e=this;this.player.one(\"play\",function(){e.event({type:\"play\"}),e.player.on(\"play\",function(){return e.event({type:\"resume\"})})}),this.player.on(\"pause\",function(){return e.event({type:\"pause\"})}),this.player.one(\"ended\",function(){return e.event({type:\"complete\"})}),this.player.on(\"seeking\",function(){return e.event({type:\"seek\"})}),this.player.on(\"volumechange\",function(){e.event({type:\"volumeChange\",value:{muted:e.player.muted(),volume:e.player.volume()}}),e.player.muted()||e.player.volume()||e.player.volume(1)})}},{key:\"rewriteFullscreenButton\",value:function(){var e=this,t=document.querySelector(\".vjs-fullscreen-control\"),n=t.cloneNode(!0);t.parentElement.insertBefore(n,t),t.parentElement.removeChild(t),n.addEventListener(\"click\",function(){return e.toggleFullscreen()}),this.onEvent(\"fullscreen\",function(t){t.value?(document.body.classList.add(\"caroda-content-fullscreen\"),e.isFullscreen=!0):(document.body.classList.remove(\"caroda-content-fullscreen\"),e.isFullscreen=!1)})}},{key:\"freeze\",value:function(){var e=this;this.freezeInterval||(document.body.style.pointerEvents=\"none\",this.freezeInterval=setInterval(function(){return e.player.pause()},500))}},{key:\"unfreeze\",value:function(e){this.freezeInterval&&(document.body.style.pointerEvents=\"all\",clearInterval(this.freezeInterval),delete this.freezeInterval,e&&this.player.play())}},{key:\"toggleFullscreen\",value:function(){var e;if(c)document.querySelector(\"video\").webkitEnterFullScreen();else if(this.event({type:\"toggleFullscreen\"}),!h&&!d){var t=window.parent.document.querySelector(\".fs-\"+this.id);this.isFullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():(e=t).requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}}},{key:\"play\",value:function(){this.player.play()}},{key:\"pause\",value:function(){this.player.pause()}},{key:\"mute\",value:function(){this.player.muted(!0)}},{key:\"unmute\",value:function(){this.player.muted(!1)}},{key:\"setVolume\",value:function(e){this.player.volume(e)}},{key:\"seek\",value:function(e){this.player.currentTime(e)}},{key:\"proxyVideoElement\",value:function(e){try{return u(e,window.parent.document.getElementById(this.topFrameVideoId))}catch(e){console.error(e)}}},{key:\"patchCreateElement\",value:function(e){var t=document.createElement;return document.createElement=function(n){return\"video\"===n.toLowerCase()?e:t(n)},function(){document.createElement=t}}},{key:\"patchHlsPlayFunction\",value:function(){var e=this;this.player._play=this.player.play,this.player.play=function(){var t=e.player._play();try{e.player.tech_.hasStarted_=!0}catch(e){console.error(e)}return t}}}]),e}();return e.PlayerController=k,e}({});</script><script>function initController(opts) {\n        window.controller = window.controller || new bundle.PlayerController(opts)\n    }\n    function b64toBlob (b64Data, contentType, sliceSize) {\n        contentType = contentType || '';\n        sliceSize = sliceSize || 512;\n        var byteCharacters = atob(b64Data);\n        var byteArrays = [];\n        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n            var slice = byteCharacters.slice(offset, offset + sliceSize);\n            var byteNumbers = new Array(slice.length);\n            for (var i = 0; i < slice.length; i++) {\n                byteNumbers[i] = slice.charCodeAt(i);\n            }\n            var byteArray = new Uint8Array(byteNumbers);\n            byteArrays.push(byteArray);\n        }\n        var blob = new Blob(byteArrays, { type: contentType });\n        return blob;\n    }\n    var carodaFontB64 = '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'\n    var videoJsFontB64 = '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'\n    var carodaFontBlob = b64toBlob(carodaFontB64, 'application/x-font-ttf')\n    var videoJsFontB64 = b64toBlob(videoJsFontB64, 'application/font-woff')\n    var carodaFontUrl = window.URL.createObjectURL(carodaFontBlob)\n    var videoJsFontUrl = window.URL.createObjectURL(videoJsFontB64)\n    var css = '\\\n        @font-face { \\\n            font-family: \"VideoJS\"; \\\n            src: url(' + videoJsFontUrl + ') format(\"woff\"); \\\n            font-weight: normal; \\\n            font-style: normal; \\\n        } \\\n        @font-face { \\\n            font-family: \"Caroda\"; \\\n            src: url(' + carodaFontUrl + ') format(\"truetype\"); \\\n            font-weight: normal; \\\n            font-style: normal; \\\n        } \\\n    ';\n    var style = document.createElement(\"STYLE\");\n    style.innerHTML = css;\n    document.head.appendChild(style);\n    (function(opts) {\n        opts.target = document.querySelector('.player')\n        try {\n            initController(opts)\n            window.addEventListener('message', function(evt) {\n                if (!evt.data.match || !evt.data.match(/^caroda-content-player:/)) { return }\n                var msg = JSON.parse(evt.data.replace(/^caroda-content-player:\\/\\//, ''))\n                if (msg.type === 'action') {\n                    var f = window.controller[msg.value]\n                    if (typeof f === 'function') {\n                        f.apply(window.controller, msg.args || [])\n                    }\n                }\n            })\n        } catch(e) {\n            window.parent.postMessage(opts.id + '://' + JSON.stringify({\n                type: 'adError',\n                message: e.message\n            }), '*')\n        }\n    }) (/* PLAYEROPTS */)</script></body></hassert(e,t){if(!e)thrn(e){s("throw","Cannot callurn n&&e(t.prototype,n),s&&e(t,s),t}}();function isInViewport(e){var t=e.getBoundingClientRect();return t.top>=-t.height/2&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)+t.height/2&&t.right<=(window.innerWidth||creen&&document.msExitFullscreen()}var styleElem=document.createElement("style");styleElem.innerHTML="\n    .caroda-content-fullscreen {\n        position: absolute !important;\n        top: 0 !important;\n        left: 0 !important;\n        height: 100% !important;\n        width: 100% !important;\n        padding: 0 !important;\n    }\n",document.head.appendChild(styleElem);var PlayerEvents=["tracking","error","play","pause","seek","complete","resume","volumeChange","timeUpdate","toggleFullscreen","playerConstructed"],ContentPlayer=function(){function e(t){var n=this;classCallCheck(this,e),assert(t,"opts required"),assert(t.vid,"opts.vid required"),assert(t.container,"opts.container required"),assert(t.fullScreenContainer,"opts.fullScreenContainer required");var s=t.container;delete t.container,t.playerSkin=t.playerSkin||window.carodaVideoPlayerSkin;var r=document.createElement("DIV");this.id=t.id="caroda-container-"+Math.floor(1e6*Math.random()),this.isLoaded=!1,this.hasEnded=!1,this.fullScreenContainer=t.fullScreenContainer||r,this.fullScreenContainer.classList.add("fs-"+this.id),this.preloadMessages=[],delete t.fullScreenContainer,r.style.width="100%",t.vid.match(/au$/)&&!t.poster?r.style.paddingBottom="50px":r.style.paddingBottom="56.25%",r.style.position="relative",r.className="caroda-player-content";var i=document.createElement("video");i.id="carodaTopFrameVideo-"+Math.floor(1e9*Math.random()),i.style.background="#000",i.style.position="absolute",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%",t.topFrameVideoId=i.id;var a,l=VAST_PLAYER_SCRIPT.replace("/* PLAYEROPTS */",JSON.stringify(t)),o=documetml","replace"),e.write(l),e.close()},0),o.setAttribute("allowtransparency","true"),o.setAttribute("border",0),o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.border="0",o.style.paddingTop="0",o.style.paddingBottom="0",o.style.paddingLeft="0",o.style.paddingRight="0",r.appendChild(i),r.appendChild(o),s.appendChild(r),this.iframe=o,this.container=r,this.refreshVisibility(),this.visibleInterval=setInterval(function(){n.refreshVisibility(),n.refreshFullscreen()},500),this.handlers={},window.addEventListener("message",function(e){if("string"==typeof e.data&&0===e.data.indexOf(n.id)){var t=JSON.parse(e.data.replace(/^caroda-container-[0-9]+:\/\//,""));n.handlers[t.type]&&n.handlers[t.type].forEach(function(e){return e(t)})}}),this.addEventListener("playerConstructed",(a=asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.thumbnailUrl=t.value.poster,n.isLoaded=!0,n.preloadMessages.forEach(function(e){return n.sendMessage(e)}),n.preloadMessages=[];case on(e){return a.apply(this,arguments)})),this.addEventListener("toggleFullscreen",function(e){isFullscreen()?(requestUnFullscreen(),n.sendMessage({type:"fullscreen",value:!1})):(requestFullscreen(n.fullScreenContainer),n.sendMessage({type:"fullscreen",value:!0}))}),this.volume=t.muted?0:1,this.muted=t.muted,this.duration=0,this.currentTime=0,this.addEventListener("timeUpdate",function(e){n.duration=e.value.duration,n.currentTime=e.value.currentTime})e.value.volume,n.muted=e.value.muted})}return createClass(e,[{key:"addEventListener",value:function(e,t){assert(~PlayerEvents.indexOf(e),"eventName must be one of "+PlayerEvents.join(", ")),this.handlers[e]=this.handlers[e]||[],this.handlers[e].push(t)}},{key:"refreshVisibility",value:function(){this.sendMessage({type:"visibility",value:isInViewport(this.container)})}},{key:"refreshFullscreen",value:function(){this.sendMessage({type:"fullscreen",value:isFullscreen()}),isFullscreen()?this.container.classList.add("caroda-content-fullscreen"):this.container.classList.remove("caroda-content-fullscreen")}},{key:"sendMessage",value:function(e){this.iframe&&this.iframe.contentWindow&&this.isLoaded?this.iframe.contentWindow.postMessage("caroda-content-player://"+JSON.stringify(e),"*"):this.preloadMessages.push(e)}},{key:"paused",value:function(){if(this.iframe){var e=this.iframe.contentWindow.document.querySelector("video");if(e)return e.paused}}},{key:"play",value:function(){this.sendMessage({type:"action",value:"play"})}},{key:"pause",value:function(){this.sendMessage({type:"action",value:"pause"})}},{key:"mute",value:function(){this.sendMessage({type:"action"sage({type:"action",value:"unmute"})}},{key:"volume",value:function(e){this.sendMessage({type:"action",value:"setVolume",args:[e]})}},{key:"seek",value:function(e){this.sendMessage({type:"action",value:"seek",args:[e]})}},{key:"destroy",value:function(){var e=this;this.hasEnded||(clearInterval(this.visibleInterval),this.sendMessage({type:"end"}),this.container.style.displrentElement.removeChild(e.container)},1e3))}}]),e}();exports.ContentPlayer=ContentPlayer;
})()
  ;(functie(t):(r.protp","banner","aniview"].indexOf(e)}function getTopUsableWindow(){var e=window;try{for(;window.top!==e&&e.parent.location.href.length&&!isSameDomainAsTop(e);)e=e.parent}catch(e){}return e}function isSameDomainAsTop(e){try{var t=window.top.location.host,r=window.frameElement.src;return t===new URL(r).host}catch(e){return!1}}function isPrebidAdapterRendererWindow(){return!!window.document.querySelector(".".concat(carodaPrebidAdapterOutputClassName))}var carodaPrebidAdapterOutputClassName="caroda-prebid-adapter-output",libraryWindow=window,renderWindow=isPrebidAdapterRendererWindow()?window:getTopUsableWindow(),renderDocument=(libraryWindow.carodaRenderWindow=renderWindow,renderWindow.document),pageLocation=__assign(__assign({},renderWindow.location),{referrer:renderDocument.referrer}),_a=libraryWindow,carodaMainCss=_a.carodaMainCss,carodaPrebidIframeRunnerCode=_a.carodaPrebidIframeRunnerCode,carodaPrebidAdapterBannerRendererHelpersCode=_a.carodaPrebidAdapterBannerRendererHelpersCode,postscribe=_a.postscribe,ContentPlayer=_a.ContentPlayer,VastPlayerIma=_a.VastPlayerIma,VastVpaidPlayer=_a.VastVpaidPlayer,logWithSeverity=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return libraryWindow.carodaConsole&&(t=libraryWindow.carodaConsole)[e].apply(t,r)},carodaConsoleSafe=libraryWindow.carodaConsole||["log","info","warn","error"].reduce(function(e,t){return __assign(__assign({},e),((e={})[t]=logWithSeverity.bind(nuers={},this.connectedEventTargets=[]}return e.prototype.addEventListener=function(t,r){this.listeners[t]=__spreadArray(__spreadArray([],this.getEventListeners(t),!0),[r],!1),this.connectedEventTargets.forEach(function(e){e.addEventLgets.push(e),this.copyListenersTo(e)},e.prototype.triggerEvent=function(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=argumfunction(e){return e.apply(void 0,r)}),this.connectedEventTargets.forEach(function(e){return e.triggerEvent.apply(e,__spreadArray([t],r,!1))})},e.prototype.triggerWindowEvent=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=new renderWindow.CustomEvent(e,{detail:1<t.length?t:t[0]});renderWindow.dispatchEvent(n)},e.prototype.getEventListeners=function(e){return this.listeners[e]||[]},e.prototype.copyListenersTo=function(r){var e=thiunction(e){r.addEventListener(t,e)})})},e}();function getExternalDependency(e,t){var r,t=void 0===t?{keepFresh:!1}:t,n=t.keepFresh,i=(t.ownerWindow,null);return{instance:function,isAvailable:function(){return!!e(r)},ownerWindow:r=renderWindow}}var isArray=Array.isArray,isArray_1=isArray,commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?gl={exports:{}},t.exports),t.exports}var freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=_freeGlobal||freeSelf||Function("return this")(),_root=root,Symbol$1=_root.Symbol,_Symbol=Symbol$1,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTingTag]=r:delete e[symToStringTag],n}var _getRawTag=getRawTag,objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString;function objectToString(e){return nativeObjectToString$1.call(e)}var _objectToString=objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTagct(e)?_getRawTag:_objectTo){return null!=e&&"object"==typeof e}var isObjectLike_1=isOLike_1(e)&&_baseGetTag(e)==symbolTag}var isSymbol_1=isSymbol,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\op.test(e)||nullull!=e&&("object"==t||"function"==t)}var isObject_1=isObject,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object Generato|e==genTag||e==asyncTag||e==proxyTag}var isFunction_1=isFunction,coreJsData=_root["__core-js_shared_||{return!!maskSrcKey&&maskSrcKey in e}var _isMasked=isMasked,funcProto=Function.prot}try{return e+""}catch(e){}}return""}var _toSource=toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$2=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$1=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\ive:reIsHostCtor).test(_toSouralue(e,t){return null=,t);return _baseIsNative(e)?e:void 0}var _getNative=getNative,nativeCreate=_getNative(Objecte?_nativeCreate(null):{},this.size=0}var _hashClear=hashClear;function hashDelete(e){e=this.has(e)&&delete this.__data__[e];return this.size-=e?1:0,e}var _hashDelete=hashDelete,HASH_UNDEFINED="__lodash_hash_undefined__",objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function hashGet(e){var t,r=this.__data__;return _nativeCreate?(t=r[e])===HASH_UNDEFINED?void 0:t:hasOwnProperty$2.call(r,e)?r[e]:void 0}var _hashGet=hashGet,objectProto$4=Object.prototype,hasOwnPr 0!==t[e]:hasOwnProperty$3.call(t,e)}var _hashHas=hashHas,HASH_UN&&void 0===t?HASH_UNDEFINED$1:t,this}var _hashSet=hashSet;function Hash(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hash.prototype.clear=_hashClear,Hash.prototype.delete=_hashDelete,Hash.prototype.get=_hashGet,Hash.prototype.has=_hashHas,Hash.Clear(){this.__data__=[],this.sizeion eq(e,t)if(eq_1(e[r][0],t))return r;return-1}var _assocIndexOf=assocIndexOf,arrayProto=Arr):splice.call(t,e,1),--this.size,!0)dexOf(t,e);return e<0?void 0:turn-1<_assocIndexOf(this.__dats.size,r.push([e,t])):r[n][1]=t,this}var _listCacheSet=listCacheSet;function ListCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ListCache.prototype.clear=_listCacheClear,ListCache.prototype.delete=_listCacheDelete,ListCache.prototype.get=_listCacheGet,ListCache.prototype.has=_listCacheHas,ListCache.prototype.set=_listCacheSet;var _ListCache=ListCache,Map(_Map||_ListCache),string:new _Hboolean"==t?"__proto__"!==e:null===e}var _isKeyable=isKeyable;function getMapData(e,t){e=e.__data__;return _isKeyable(t)?e["string"==typeof t?"string":"hash"]:e.map}var _getMapData=getMapData;function mapCacheDelete(e){e=_getMapData(this,e).delete(e);return this.size-=e?1:0,e}var _mapCacheDelete=mapCacheDelete;function mapCacheGet(e){return _getMapData(this,ee){return _getMapData(this,et(e,t),this.size+=r.size==n?<r;){var n=e[t];this.set(n[0],n[1])}}MapCache.prototype.clear=_mapCacheClear,MapCache.prototype.delete=_mapCacheDelete,MapCache.prototype.get=_mapCacheGet,MapCache.prototype.has=_mapCacheHas,MapCache.prototype.set=_mapCacheSet;var _MapCache=MapCache,ache=new(memoize.Cache||_MapCache),a}memoize.Cache=_MapCache;var mZE&&t.clear(),e}),t=e.cache;return e}var _memoizeCapped=memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/replace(reEscapeChar,"$1"):t(n);++r<n;)i[r]=t(e[r],r,e);return i}var _arrayMap=arrayMap,INFINITY=1/0,symbolProto=_Symbol?_Symbol.prototype:void 0,symbolToString=sy;return"0"==t&&1/e==-INFINITY?){return null==e?"":_ba,t)?[e]:_stringToPath(toString_1(e))}eturn"0"==t&&1/eKey(t[r++])];return :_baseGet(e,t);return void 0===e?r:e}var get_1=get,IntegrationConfig=function(){function IntegrationConfig(){var t=this,r={TCFPolicyEnforcement:[],adLoadTimeout:1e4,allowRepeatedAdsInInstreamAdBreaks:!1,aniviewConfig:void 0,bannedFormats:void 0,conditionalPrebidFloorConfiguration:void 0,defaultAdFrameOptions:{},defaultSliderExpiryInSeconds:300,disableAds:!1,disableRepeatedAds:!1,filterPrebidBids:void 0,forceInstreamPrebidContext:!1,forceSingleAd:testUrl(/carodaForceSingleAd=true/),forceSlider:testUrl(/carodaForceSlider=true/),imaBannedFormats:["vertical","vertical-3-4"],imaSdkVersion:"3.568.1",instreamAdLoadTimeout:5e3,integrationRecord:void 0,isDebug:testUrl(/carodaDebug/i),isDebugSimple:testUrl(/carodaDebugSimple/i),isrdPartyCampaign:funannerScript:function(e,t,r){return r},noChainCaching:!1,onTrackingEvent:function(){},playerCdnUrl:"//unknown",prebidBidResponseModifier:function(e){return e},prebidBidderModifyAdUnits:function(e){return e},prebidBidderSpecificConfig:[],prebidConfigExtension:{},prebidSchainNodes:[],prebidSideloadUrls:[],reportMode:testUrl(/carodaReport=true/),reportSpeed:.01,scrollToMultiPosition:void 0,scrollToPosition:void 0,shouldCreateDownloadLogsButton:testUrl(/carodaDownloadLogsButton/i),waitForCMPDialogClosed:!0,waitForConsent:!0,websiteDomain:"unknown"};Object.keys(r).forEach(function(e){t[e]=t.windowGetter(e,r[e])}),carodaConsoleSafe.info("IntegrationConfig",".constructor","loaded")}return IntegratfigUnsafe("carodaVideoCollectionId")},IntegrationConfig.prototype.contributorToken=function(e){return this.getConfigUnsafe("carodaContributorToken",e)},IntegrationConfig.prototype.shouldUseTcfSafeFrameApi=function(){var e=this.windowGetter("useTcfSafeFrameApi",null)();return null==e?this.isSafeFrame():!!e},IntegrationConfig.prototype.windowGetter=function(e,t){function r(e){return"caroda"+e.replace(/^./,function(e){return e.toUpperCase()})}return function(){return get_1(libraryWindow,r(e),get_1(renderWindow,r(e),t))}},IntegrationConfig.prototype.getConfigUnsafe=function(key,configOverride){return void 0===configOverride&&(configOverride={}),configOverride[key](e){return e.test(pageLocation.href)}var integrationConfig=new IntegrationConfig,euCountryCodes=["BE","EL","LT","PT","BG","ES","LU","RO","CZ","FR","HU","SI","DK","HR","MT","SK","DE","IT","NL","FI","EE","CY","AT","SE","IE","LV","PL","GR"];function isEuCountry(e){return 0<=euCountryCodes.indexOf(e.toUpperCase())}var w=renderWindow;function getPersistentState(e,t){return w.carodaPersistentState[e]=w.carodaPersistentState[e]||t,w.carodaPersistentState[e]}w.carodaPersistentState=w.carodaPersistentState||{};var waitingForUnlock=getPersistentState("waiters",{});function lock(n,i){return __awaiter(this,void 0,void 0,function(){var t,r;return __generator(this,function(e){switch(e.label){case 0:return(carodaConsoleSafe.info("PromiseLock","lock",n),waitingForUnlock[n])?(carodaConsoleSafe.info("PromiseLock","lock",n,"waiting"),[4,waitingForUnlock[n]]):[3,2];case 1:return e.sent(),carodaConsoleSafe.info("PromiseLock","lock",n,"unlocked"),[2,lock(n,i)];case 2:waitingForUnlock[n]=new Promise(function(e){t=e}),carodaConsoleSafe.info("PromiseLock","lock",n,"executing"),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,i()];case 4:return r=e.sent(),carodaConsoleSafe.info("PromiseLock","lock",n,"finished"),t(),delete waitingForUnlock[n],[2,r];case 5:throw r=e.sent(),carodaConsoleSafe.info("PromiseLock","lock",n,"thrown",r.message),t(),delete waitin+i]);++i<a;)r=t(r,e[i],i,e);ction(e){return null==t?void 0:t[e]}}var _basePropertyOf=basePropertyOf,deburredLetters={"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss","Ä€":"A","Ä‚":"A","Ä„":"A","Ä":"a","Äƒ":"a","Ä…":"a","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","ÄŽ":"D","Ä":"D","Ä":"d","Ä‘":"d","Ä’":"E","Ä”":"E","Ä–":"E","Ä˜":"E","Äš":"E","Ä“":"e","Ä•":"e","Ä—":"e","Ä™":"e","Ä›":"e","Äœ":"G","Äž":"G","Ä ":"G","Ä¢":"G","Ä":"g","ÄŸ":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å€":"l","Å‚":"l","Åƒ":"N","Å…":"N","Å‡":"N","ÅŠ":"N","Å„":"n","Å†":"n","Åˆ":"n","Å‹":"n","ÅŒ":"O","ÅŽ":"O","Å":"O","Å":"o","Å":"o","Å‘":"o","Å”":"R","Å–":"R","Å˜":"R","Å•":"r","Å—":"r","Å™":"r","Åš":"S","Åœ":"S","Åž":"S","Å ":"S","Å›":"s","Å":"s","ÅŸ":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å’":"Oe","Å“":"oe","Å‰":"'n","Å¿":"s"},deburrLetter=_basePropertyOf(deburredLetters),_deburrLetter=deburrLetter,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsComboMarksRange="\ange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsCombo="["+rsComboRange+"]",reComboMark=RegExp(rsCombo,"g");function deburr(e){return(e=toString_1(e))&&e.replace(reLatin,_deburrLetter).replace(reComboMark,"")}var deburr_1=debfunction asciiWords(e){return e.match(reAsciiWord)||[]}var _asciiWords=asciiWords,reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function hasUnicodeWord(e){return reHasUnicodeWord.test(e)}var _hasUnicodeWord=hasUnicodeWord,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos="['â€™]",rsBreak="["+rsBreakRange+"]",rsCombo$1="["+rsComboRange$1+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo$1+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$eak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");function unicodeWords(e){return e.match(reUnicodeWord)||ord(e)?_unicodeWords:_asciiWords)(e):e.match(t)||[]}var words_1=woction createCompounder(t){return function(e){return _arrayReduce(words_1(deburr_1(e).replace(reApos,"")),t,"")}}var _createCompounder=createCompounder,snakeCase=_createCompounder(fuerCase()}),snakeCase_1=snakeCase,TargetingProfile=function(){function e(){var t=this,r={browser:"-",cacheKey:"-",country:"-",device:"-",gpsX:void 0,gpsY:void 0,os:"-"};Object.keys(r).forEach(function(e){t[e]=t.windowGetter(e,r[e])}),carodaConsoleSafe.info("TargetingProfile",".constructor","loaded")}return e.prototype.waitForReady=function(){var t;return __awa){return __generator(this,function(e){switch(e.label){case 0:return[4,null==(t=libraryWindow.carodaTargetingProfile)?void 0:t.promiseToUpdate];case 1:return e.sent(),[2]}})})},e.prototype.deviceType=function(){return this.device()},e.prototype.locale=function(){try{var e=this.unsafeLocale();if(-1===["cs","sk","en","fr","es","pl"].indexOf(e))throw new Error("unsupported language code ".concat(e));return e}catch(e){return carodaConsoleSafe.warn("TargetingProfile",".locale",e),"en"}},e.prototype.unsafeLocale=function(){var e=pageLocation.host.match(/\.[a-z]+$/),e=e?e[0]:"",t=renderDocument.querySelector("[lang]");return t&&t.lang&&t.lang.split("-")[0]||".cz"===e&&"cs"||".sk"===e&&"sk"||".pl"===e&&"pl"||"en"},e.prototype.path=function(){return encodeURIComponent(pageLocation.href.replace(/^https?..\/\/[^\/]+/,"").replace(/^([^\?]+)\?.*$/,"$1"))},e.prototype.url=function(){return encodeURIComponent(pageLocation.href)},e.prototype.windowGetter=function(e,t){function r(){return libraryWindow.carodaTargetingProfile}return function(){return get_1(r(),snakeCase_1(e),get_1(r(),e,t))}},e}(),targetingProfile=new TargetingProfile,interval,waiters=[];function iterateWaiters(){(waiters=waiters.filter(function(t){try{return t[0]()?(t[1](),!1):!0}catch(e){return t[2](e),!1}})).length||(clearInterval(interval),interval=null)}function waitFor(i,a){return void 0===a&&(a=0),__awaiter(this,void 0,void 0,function(){var r,t,n;return __generator(this,function(e){switch(e.label){case 0:return i()?[2]:(r=i,a&&(t=Date.now(),r=function(){if(Date.now()-t>a)throw new Error("waiter timed out [max ".concat(a,"ms]"));return i()}),n=new Promise(function(e,t){return waiters.push([r,e,t])}),interval=interval||setInterval(iterateWaiters,100),[4,n]);case 1:return e.sent(),[2]}})})}function wait(r){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){return t=Date.now(),[2,waitFor(function(){eturn[4,wait(t)];case 1:throw e.sent(),new Error("timeout!")}})})}function waitMs(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,new Promise(function(e){return setTimeout(e,t)})]})})}function baseLog(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];carodaConsonsentManagementGdpr"],e,!1))}var tcfApi=getEtPersistentState("tcf",{});function setTcfApi(e){return renderWindow.__tcfapi=e}function getTcfState(){return persistentState}function getConsentString(){var e;return(null==(e=persistentState.responseObject)?void 0:e.tcString)||""}function setUpSafeFrameTCF(){return __awaiter(this,void 0,void 0,function(){var r,a,o,t;return __generator(this,function(e){return a=(r=function(e){var t=e===e.top;return!e.__tcfapiLocator?t?null:r(e.parent):e})(renderWindow),o={},setTcfApi(function(e,t,r,n){var i;a?(e={__tcfapiCall:{callId:i=String(Math.random()),command:e,parameter:n,version:t}},o[i]=r,a.postMessage(e,"*")):r({msg:"CMP not found"},!1)}),t=function(e){var t;try{t="string"==typeof e.data?JSON.parse(e.data):e.data}catch(e){return}e=t.__tcfapiReturn;e&&"function"==typeof o[e.callId]&&(o[e.callId](e.returnValue,e.success),delete o[e.callId])},renderWindow.addEventListener("message",t,!1),[2]})})}function waitForTcfApi(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:if(persistentState.available=tcfApi.isAvailable(),persistentState.applies=isEuCountry(targetingProfile.country()),tcfApi.isAvailable())return[2];if(t<=Date.now())throw new Error("wait for tcfApi timed out!");return[4,waitMs(50)];case 1:return e.sent(),[2,waitForTcfApi(t)]}})})}function waitForCmpConsentV2(r){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:if(tcfApi.isAvailable())return t=persistentState,[4,getTCDataSafe(r)];throw new Error("tcfApi not available!");case 1:return t.responseObject=e.sent(),persistentState.applies=!1!==persistentState.responseObject.gdprApplies,persistentState.applies||delete persistetTCData(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,Promise.race([new Promise(function(r){return tcfApi.instance().__tcfapi("getTCData",2,function(e,t){return r({res:e,success:t})})}),new Promise(function(r){tcfApi.instance().__tcfapi("addEventListener",2,function(e,t){e.listenerId&&tcfApi.instance().__tcfapi("removeEventListener",2,function(){},e.listenerId),r({res:e,success:t})})})])]})})}function getTCDataSafe(s,c){return void 0===c&&(c=""),__awaiter(this,void 0,void 0,function(){var t,r,n,i,a,o;return __generator(this,function(e){switch(e.label){case 0:return t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return baseLog.apply(void 0,__spreadArray(["getTCDataSafe"],e,!1))},[4,Promise.race([getTCData(),throwAfterTimeout(s-Date.now())])];case 1:if(n=e.sent(),r=n.res,!n.success||!r)throw new Error("could not get TCData");if(n="loaded"===r.cmpStatus,i="cmpuishown"===r.eventStatus,a=integrationConfig.waitForCMPDialogClosed(),(o=JSON.stringify({isLoaded:n,isOpen:i,shouldWaitForDialogClosed:a}))!==c&&t(o),n&&!i&&(r.tcString||!r.gdprApplies))return[2,r];if(n&&!a)throw new Error("cmp dialog open");if(!i&&s<Date.now())throw new Error("get TCData timeout");return[4,waitMs(200)];case 2:return e.sent(),[2,getTCDataSafe(s,o)]}})})}function setNoConsent(){persistentState.applies=isEuCountry(targetingProfile.country()),persistentState.responseObject=null,persistentState.consentGiven=!1}function waitForConsentUnsafe(){return __awaiter(this,void 0,void 0,function(){var t,r;return __generator(this,function(e){switch(e.label){case 0:return t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return baseLog.apply(void 0,__spreadArray(["waitForConsentUnsafe"],e,!1))},void 0!==persistentState.applies?(t("consent already resolved",persistentState),[2]):[4,doesGdprApply()];case 1:if(!e.sent())return t("does not apply to ".concat(targetingProfile.country())),setNoConsent(),[2];integrationConfig.shouldUseTcfSafeFrameApi()&&(t("setting up safe frame tcfApi"),setUpSafeFrameTCF()),e.label=2;case 2:return e.trys.push([2,5,,6]),t("waiting for tcfApi"),[4,waitForTcfApi(Date.now()+3e3)];case 3:return e.sent(),t("got tcfApi"),t("wait for consent"),[4,waitForCmpConsentV2(Date.now()+1e4)];case 4:return e.sent(),persistentState.coe 6:return persistentState.applies||(t("does not apply"),setNoConsent()),[2]}})})}var waitForConsentGdpr=function(){return lock("waitForConsent",waitForConsentUnsafe)};function isLocalStorageAllowed(){return isTcfPurpose1Enabled()}function doesGdprApply(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,targetingProfile.waitForReady()];case 1:rtingProfile.country()]te.responseObject,"purpose.consents[1]",!1))}function isCarodaTcfDefined(){return!!persistentState.responseObject}function not(r){return function(){for(var e=[],t=0eturn!r.apply(void 0,e)}}function or(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return t.reduce(function(e,t){return e||t.apply(void 0,r)},!1)}}function and(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return t.reduce(function(e,t){return e&&t.apply(void 0,r)},!0)}}function once(r,n){var i=!0;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i?(i=!1,r.apply(void 0,e)):n}}function runIf(r,n,i){return funct]=arguments[t];return n()?r.apply(void 0,e):i}}var uspApi=getExternalDependency(function(e){return e.__uspapi&&{__uspapi:e.__uspapi}}),persistentState$1=getPersistentState("usp",{});function getUspState(){return persistentState$1}function waitForConsentUsp(){return __awaiter(this,void 0,void 0,function(){var t,r;return __generator(this,function(e){switch(e.label){case 0:return[4,targetingProfile.waitForReady()];case 1:return e.sent(),persistentState$1.consentString||not(uspAppliesToCountry)()?[2]:[4,waitFor(function(){return uspApi.isAvailable()},3e3).catch(function(){})];case 2:if(e.sent(),!uspApi.isAvailable())return[2];persistentState$1.applies=!0,e.label=3;case 3:return e.trys.push([3,5,,6]),t=persistentState$1,[4,Promise.race([getUspData(),throwAfterTimeout(3e3)])];case 4:return t.consentString=e.sent(),[3,6];case 5:return r=e.sent(),carodaConsoleSafe.error("waitForConsentUsp","error",r),persistentStatn[2]}})})}function getUspData(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,new Promise(function(r){uspApi.instance().__uspapi("getUSPData",1,function(e,t){return r(t?e.uspString:"")})})]})})}function uspAppliesToCountry(){var e=targetingProfile.country();return"us"===e||"-"===e}function waitForConsent(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){c),integrationConfig.waitForConsent())?[4,t]:(carodaConsoleSafe.log("ConsentManagemen2]}})})}function setItem(e,t){try{getLocalStorage().setItem(e,t)}catch(e){}}funccatch(e){}return t}function removeItem(e){try{getLocalStorage().removeItem(e)}catch(e){}}function keys(){var e=[];try{e=Object.keys(getLocalStorage())}catch(e){}return e}function getLocalStorage(){return libraryWindow.localStorage}var localStorageHelper={getItem:runIf(getItem,isLocalStorageAllowed,null),keys:runIf(keys,isLocalStorageAllowed,[]),removeItem:runIf(removeItem,isLocalStorageAllowed),setItem:runIf(setItem,isLocalStorageAllowed)},storageKey="caroda.history";function getCampaignViewHistoryHeader(){carodaConsoleSafe.info("CampaignViewHistory","getCampaignViewHistoryHeader");var e=localStorageHelper.getItem(storageKey);return(!e||8192<e.length)&&(carodaConsoleSafe.info("CampaignViewHistory","getCampaignViewHistoryHeader","cleared overflowed view history"),localStorageHelper.setItem(storageKey,e="nViewHistnfo("CampaignViewHistory","getCampaignViewHistory");try{var t=getCampaignViewHistoryHeader(),r=JSON.parse(t)["its_".concat(e)];return __spreadArray([r[0]],r.slice(1).map(function(e){return e+r[0]}),!0).map(funceturn carodaConsoleSafe.info("CampaignViewHistory","getCampaignViewHistory","no history",e),[]}}function enforceUserCapping(e,t){e.match(/.caroda.io/)&&"tracking"===(e=e.split("?")[1].split("&").map(function(e){return e.split("=")}).reduce(function(e,t){return __assign(__assign({},e),((e={})[t[0]]=decodeURIComponent(t[1]),e))},{})).type&&e.eventType===t&&(carodaConsoleSafe.info("CampaignViewHistory","enforceUserCapping",e),iterateCampaignViewHistory(e.campaignId))}function iterateCampaignViewHistory(e){carodaConsoleSafe.info("CampaignViewHistory","iterateCampaignViewHistory",e);var t={},t=Object.assign({},JSON.parse(localStorageHelper.getItem(storageKey))),e=(localStorageHelper.setItem(storageKey,"{}"),"its_".concat(e));t[e]=t[e]||[],t[e].length?t[e].push(Math.floor(Daath.floor(Date.now()/1e3)),carodaConsoleSafe.info("CampaignViewHistory","iterateCampaignViewHistory","storing",storageKey,JSON.stringify(t)),localStorageHelper.setItem(storageKey,JSON.stringify(t))}function isNil(e){return null==e}var isNil_1=isNil;function getFirstFibonacciGreaterThan(e){for(var t=1,r=1;t<=e;)var n=t+r,r=t,t=n;return t}function getFirstMultipleGreaterThan(e,t){return e-e%t+t}var DOMParser$1=libraryWindow.DOMParser,VALUE_UNKNOWN=-1,VALUE_PRIVATE=-2;function replaceTargetingTemplate(e,i){function t(e,t){var r=(t=extractMacroAndModifier(t.trim())).macro,t=t.modifier,n=macroNameToVast4Format(r);return vast4Macros()[n]?(n=vast4Macros()[n](i),formatMacroValue(n=t&&"number"==typeof n?t(n):n)):r in targetingProfile&&"function"==typeof targetingProfile[r]?String(targetingProfile[r]()):a.hasOwnProperty(r)?isNil_1(a[r])?"":a[r]:libraryWindow.carodaTargetingProfile.hasOwnProperty(r)?isNil_1(libraryWindow.carodaTargetingProfile[r])?"":libraryWindow.carodaTargetingProfile[r]:e}var a=(i=void 0===i?{}:i).playerInfo||{};return e.replace(/\{\{([^\}]+)\}\}/g,t).replace(/\[([^\]]+)\]/g,t)}function extractMacroAndModifier(e){if(!(0<e.indexOf(":")))return{macro:e};var e=e.split(":"),t=e[0];return{macro:e[1],modifier:getModifierBetFirstFibonacciGreaterThan(e)}:e.match(/(\d)n/)?(e=e.match(/(\d)n/)[1],t=parseInt(e,10),function(e){return getFirstMultipleGreaterThan(e,t)}):void 0;var t}function macroNameToVast4Fose()}functionsArray(e)?e.map(String):[String(e)];return e.map(encodeURIComponent).join(",")}var vast4Macros=function(){return{TIMESTAMP:function(){return(new Date).toISOString()},CACHEBUSTING:function(){return Math.floor(1e7+9e7*Math.random())},CONTENTPLAYHEAD:function(e){e=e.contentPlayer;return e?secondsToTimeCode(e.tion(e){e=e.contentPlayer;return e?secondsToTimeCode(e.getCurrentTime()):VALUE_UNKNOWN},BREAKPOSITION:function(e){return adBreakPositionToVastCode(e.adBreakPosition)},TRANSACTIONID:function(e){return e.transactionId||VALUE_UNKNOWN},PLACEMENTTYPE:function(e){e=e.adPlacement;return e?adPlacementToVastCode(e):VALUE_UNKNOWN},ADTYPE:function(e){e=e.vastContent;return e?getAdType(e):VALUE_UNKNOWN},UNIVERSALADID:function(e){e=e.vastContent;return e?getUniversalAdId(e):VALUE_UNKNOWN},CLIENTUA:function(){return"CarodaPlayer CarodaVastClient"},SERVERUA:function(){return VALUE_UNKNOWN},DEVICEUA:function(){return libraryWindow.navigator.userAgent},SERVERSIDE:function(){return 0},DEVICEIP:function(){return VALUE_PRIVATE},LATLONG:function(){return targetingProfile.gpsY()||targetunction(){return integrationConfig.isSafeFrag,"").replace(hostname},PAGEURL:function(){return integrationConfig.isSafeFrame()?pageLocation.referrer:pageLocation.href},APPBUNDLE:function(){return 0},VASTVERSIONS:function(){return[7,8urn[2,7]},EXTENSIONS:function(){},VERIFICATIONVENDORS:function(){},OMIDPARTNER:function(){},MEDIAMIME:function(){},CLICKTYPE:function(e){return getClickType(e.vastContent)},PLAYERSIZE:function(e){return getPlayerSize(e.playerInfo)},PODSEQUENCE:function(e){e=e.vastContent;return e?getPodSequence(e):VALUE_UNKNOWN},ADSERVINGID:function(e){e=e.vastContent;return e?getAdServingId(e):VALUE_UNKNOWN},REGULATIONS:function(){return[getTcfState().applies&&"gdpr",getUspState().applies&&"usp"].filter(Boolean)},GDPR:function(){return getTcfState().applies?1:0},GDPRCONSENT:function(){var e;return(null==(e=getTcfState().responseObject)?vtion(){rtion(){return getTcfState().consentGiven?1:0},TCFAVAILABLE:function(){return getTcfState().available?1:0},SID:function(){return localStorageHelper.getItem("sid")},REFERER:function(){return pageLocation.origin+p(){return pageLocation.hostname},WIDTH:function(e){e=e.playerInfo;return(void 0===e?{}:e).playerWidth||""},HEIGHT:function(e){e=e.playerInfo;return(void 0===e?{}:e).playerHeight||""},USP:function(){return getUspState().applies?1:0},USPCONSENT:fuE_UNKNOWN},USPRIVACY:function(){return getUspState().consentString||VALUE_UNKNOWN},BREAKPOSITIONINDEX:function(e){e=e.adBreakIndex;return null==e?VALUE_UNKNOWN:e+1},BREAKPOSITIONNAME:function(e){return e.adBreakPosition||"unknown"},BLOCKEDADCATEGORIES:function(){return VALUE_UNKNOWN},ADCATEGORIES:function(){return VALUE_UNKNOWN},ADCOUNT:function(){return VALUE_UNKNOWN},BREAKMAXDURATION:function(){return VALUE_UNKNOWN},BREAKMINDURATION:function(){return VALUE_UNKNOWN},BREAKMAXADS:function(){return VALUE_UNKNOWN},BREAKMINADLENGTH:function(){return VALUE_UNKNOWN},BREAKMAXADLENGTH:function(){return VALUE_UNKNOWN},IFA:function(){return VALUE_UNKNOWN},IFATYPE:function(){return VALUE_UNKNOWN},PLAYERSTATE:function(){return VALUE_UNKNOWN},INVENTORYSTATE:function(){return VALUE_UNKNOWN},ADPLAYHEAD:function(){return VALUE_UNKNOWN},ASSETURI:function(){return VALUE_UNKNOALUE_UNKNOWN},CONTENTURI:function(){return VALUE_UNKNOWN},CLICKPOS:function(){return VALUE_UNKNOWN},ERRORCODE:function(){return VALUE_UNKNOWN},REASON:function(){return VALUE_UNKNOWN},LIMITADTRACKING:function(){return VALUE_UNKNOWN}}};function secondsToTimeCode(e){var t=new Date(0);return te":return 4;default:return 0}}function adPlacementToVastCode(e){switch(e){case"in-stream":return 1;case"in-banner":return 2;case"in-article":return 3;case"in-feed":return 4;case"interstitial":return 5;default:return VALUE_UNKNOWN}}function getUniversalAdId(e){try{var t=(new DOMParser$1).parseFromString(e,"text/xml").querySelector("UniversalAdId"),r=t.getAttribute("idRegistry"),n=t.getAttribute("idValue")||t.textContent;return"".concat(r," ").concat(n.trim())}catch(e){return VALUE_UNKNOWN}}function getClickType(e){try{return"vpaid"===((new DOMParser$1).parseFromString(e,"text/xml").querySelector("MediaFile").getAttribute("apiFramework")||"").trim().toLowerCase()?VALUE_UNKNOWN:1}catch(e){return VALUE_UNKNOWN}}function getPlayerSize(e){return e&&e.playerWidth&&e.playerHeight?[e.playerWidth,e.playerHeight]:VALUE_UNKNOWN}function getPodSequence(e){try{var t=(new DOMParser$1).parseFromString(e,"text/xml").querySelector("Ad").getAttribute("sequence");return t&&parseInt(t,10)||VALUE_UNKNOWN}catch(e){return VALUE_UNKNOWN}}function getAdServingId(e){try{return(new DOMParser$1).parseFromString(e,"text/xml").querySelector("Ad inline AdServingId").textContent.trim()}catch(e){ree(e){try{return(new DOMParser$1).parseFromString(e,"text/xml").querySelector("Ad").getAttribute("adType")||VALUE_UNKNOWN}catch(e){return VALUE_UNKNOWN}}var safeFrameLibrary=getExternalDependency(function(e){return e.$sf&&e.$sf.ext},{ownerWindow:getTopUsableWindow()});function initAutoResize(n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("SafeFrameController","initAutoResize",n),renderDocument.body.classList.add("carodaSafeFrame"),t=n.geom(),carodaConsoleSafe.info("SafeFrameController","initAutoResize","got geom",t),n.register(t.self.w,t.self.h,function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];carodaConsoleSafe.info.apply(carodaConsoleSafe,__spreadArray(__spreadArray(["SafeFrameController","resp",e],t,!1),[n.geom()],!1)),iterateWaiters()}),[4,waitFor(function(){return 0<n.geom().exp.l&&0<n.geom().exp.r})];case 1:return e.sent(),(t=n.geom()).exp.l+t.exp.r+renderWindow.innerWidth<500&&(carodaConsoleSafe.info("SafeFrameController","initAutoResize","expanding horizontally"),n.expand({l:t.exp.l,r:t.exp.r})),[2]}})})}function getSafeFrame(){return!1!==integrationConfig.isSafeFrame()&&safeFrameLibrary.isAvailable()?safeFrameLibrary.instance():null}function isInVerticalView(e){var t=getSafeFrame();if(t)return.5<t.inViewPercentage();t=e.getBoundingClientRect(),e=renderWindow.innerHeight||renderDocument.documentElement.clientHeight;return!(!t.height&&!t.width)&&(t.top>=-t.height/2&&t.bottom<=e+t.height/2)}function isIframeContainedInViewport(e){var t=getSafeFrame();if(t)return"hidden"!==renderDocument.visibilityState&&50<t.inViewPercentage();t=e.getBoundingClientRect();return!(!t.width&&!t.height)&&(t.top>=-t.height/2&&t.bottom<=(renderWindow.innerHeight||renderDocument.documentElement.clientHeight)+t.height/2&&"hidden"!==renderDocument.visibilityState)}function isInViewport(e){var t=getSafeFrame();if(t)return.5<t.inViewPercentage();t=e.getBoundingClientRect();return 0<=t.top&&t.top<=(renderWindow.innerHeight||renderDocument.documentElement.clientHeight)}function waitForElementToBeNearViewport(e){var t=e.elem,n=e.topOffset,i=e.bottomOffset;return new Promise(function(r){new IntersectionObserver(function(e,t){e[0].isIntersecting&&(t.disconnect(),r())},{rootMargin:"".concat(n,"px 0px ").concat(i,"px 0px")}).observe(t)})}function getPlayerDimensions(e,t){void 0===t&&(t=16/9);var e=e.getBoundingClientRect(),r=Math.floor(e.width||640);return{playerHeight:Math.floor(e.height||r/t),playerWidth:r}}function isInClippedDiv(e){return!!e&&("hidden"===renderWindow.getComputedStyle(e).overflow||isInClippedDiv(e.parentElement))}function isFullWidthPage(){return Math.abs(renderDocument.documentElement.clientWidth-renderWindow.screen.width)<20}function waitUntilInView(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,funcse(function(r){new IntersectionObserver(function(e,t){.5<e[0].intersectionRatio&&(t.disconnect(),r())},{threshold:[.25,.5,.75,1]}).observe(t)})]})})}function isHidden(e){return"hidden"===renderWindow.getComputedStyle(e).vidction getHiddenProp(){return"hidden"in renderDocument?"hidden":["webkit","moz","ms","o"].find(function(e){return"".concat(e,"Hidden")in renderDocument})}function isBrowserHidden(){var e=getHiddenProp();return!!e&&renderDocument[e]}function getSeamlessMargin(e){var e=e.previousElementSibling,t=e&&rendeginBottottom)icky"===renderWindow.getComputedStyle(e).position?e:getStickyParent(e.parentElement)}function isSticky(e){returnrame()}).then(function(){return initAutoResize(getSafeFrame())});var trackTimeToLoadOnce=once(function(e){e.trackTimeSinceLoad("time_to_load")}),trackTimeToImpressionOnce=once(function(e){e.trackTimeSinceLoad("time_to_impression")}),trackTimeToLibraryLoadOnce=once(function(e){var t=null==(r=null==(t=null==(t=null==(r=libraryWindow.performance)?void 0:r.getEntriesByType)?void 0:t.call(r,"navigation"))?void 0:t[0])?void 0:r.startTime,r=e.getTimeSinceLoad()-t;isNaN(r)||e.hitPlayerEvent("time_to_library_load",void 0,void 0,void 0,r)}),Tracking=function(){function s(e,t){var r=this;carodaConsoleSafe.info("Tracking",".constructor",{config:t=void 0===t?{}:t,globalConfigOverride:e}),this.placementId=t.placementId,this.playerContainer=t.playerContainer,this.context=t.context||{},this.creativeMetadata=null,this.configOverride=e,this.trackTimeToLoad=function(){return trackTimeToLoadOnce(r)},this.trackTimeToImpression=function(){return trackTimeToImpressionOnce(r)},trackTimeToLibraryLoadOnce(this)}return s.setUniqueImpression=function(e){var t=s.getUniqueImpressionDict();return!t||t[e]?"fail":(t[e]=!0,localStorageHelper.setItem("caroda.uniqueImpressions",JSON.stringify(t)),"ok")},s.getUniqueImpressionDict=function(){var e=libraryWindow;if(e.carodaUniqueImpressions)return e.carodaUniqueImpressions;e.carodaUniqueImpressions={};var t=localStorageHelper.getItem("caroda.uniqueImpressions");if(!t)return e.carodaUniqueImpressions;try{e.carodaUniqueImpror("Tracking",".isUniqueImpression",e)}return e.carodaUniqueImpressions},s.prototype.setCreativeMetadata=function(e){this.creativeMetadata=e},s.prototype.addToContext=function(e){this.context=__assign(__assign({},this.context),e)},s.prototype.setPlayerContainer=function(e){this.playerContainer=e},s.prototype.hitTrackingUrl=function(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1),void 0===n&&(n="impression");var i=e.match(/^https:\/\/data.caroda.io.*campaignId=(cz[^&]+)/),a=this.creativeMetadata&&this.creativeMetadata.durationSeconds,o=(r&&e.match(/impression_/)&&(t=!0),integrationConfig.onTrackingEvent()(e,this.playerContainer),__assign(__assign({},this.context),{playerInfo:__assign(__assign({},this.context.playerInfo||{plcmt:"standalone"}),this.playerContainer?getPlayerDimensions(this.playerContainer):{})}));enforceUserCapping(e=replaceTargetingTemplate(e,o),n),t&&i&&!r&&"ok"===s.setUniqueImpression(i[1])&&this.hitTrackingUrl(e.replace("=impression","=unique_impression"),!1,!1),i&&e.match(/type=tracking/)&&a&&(e+="&adDuration=".concat(Math.round(a))),carodaConsoleSafe.info("Tracking",".hitTrackingUrl","processed url",e),carodaConsoleSafe.debugMode||this.callUrl(e)},s.prototype.hitPlayerEvent=function(e,t,r,n,i,a){t=this.createPlayerEventTrackingUrl(e,t=void 0===t?["",""]:t,r,n,i,a);this.hitTrackingUrl(t,!1,!0),null!=e&&e.startsWith("impression")&&this.trackTimeToImpression()},s.prototype.createPlayerEventTrackingUrl=function(e,t,r,n,i,a){var o,s,c;{if(void 0===t&&(t=["",""]),!integrationConfig.disableAds()||!e.match(/opportunity/))return o=integrationConfig.websiteDomain(),s=t[0],t=t[1],r=r||integrationConfig.contributorToken(this.configOverride),null==a&&(a=this.placementId),c=!["time_to_library_load","time_to_load","time_to_impression"].includes(e),__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(["https://data.caroda.io/api/hit.gif?type=player","&ctok=",r,"&domainName=",o],a?["&placementId=",encodeURIComponent(c?a:"N/A")]:[],!0),s?["&sspUrl=",encodeURIComponent(s)]:[],!0),t?["&dspUrl=",encodeURIComponent(t)]:[],!0),n?["&format=",n]:[],!0),["&eventType=",e],!1),null!=i?["&count=",encodeURIComponent(i)]:[],!0).join("");carodaConsoleSafe.info("hitPlayerEvent","disabled",e)}},s.prototype.trackTimeSinceLoad=function(e){var t=this.getTimeSinceLoad();isNaN(t)||type.getTimeSinceLoad=function(){var e,t,r=null==(e=null==(e=null==(r=libraryWindow.performance)?void 0:r.getEntriesByType)?void 0:e.call(r,"resource").find(function(e){e=e.name;return/caroda.io\/videoPlayer\/caroda.min.js/.test(e)}))?void 0:e.startTime;return(null==(t=null==(e=libraryWindow.performance)?void 0:e.now)?void 0:t.call(e))-r},s.prototype.uncacheUrl=function(e){var t=0<=e.indexOf("?")?"&":"?";return"".concat(e).concat(t,"uncache=").concat(Math.floor(1e6*Math.random()))},s.prototype.callUrl=function(e){new renderWindow.Image(1,1).src=this.uncacheUrl(e)},s}();function mergeTrackingContext(e,t){var r;t&&(r=(t.getCampaignView()||e.context).vastContent,e.addToContext({vastContent:r}),t.getTracking().addToContext(e.context))}var AniviewPlayer=function(o){function e(e){var t=e.campaignView,r=e.parentElement,n=e.globalConfigOverride,i=e.trackingConfig,i=void 0===i?{}:i,e=e.secondsToConsiderPlayersFinished,a=o.call(this)||this;return a.msToAbortIfNoImpressionIsRegistered=5e3,a.isDestroyed=!1,a.logger=carodaConsoleSafe.getInstanceLogger("AniviewPlayer"),a.logger.info(".constructor",t),a.id="carodaAniviewPlayer".concat(Math.floor(1e6*Math.random())),a.containerElement=a.createContainerElement(r),a.tra__assign(__assign({},i.context||{}),{transactionId:t.transactionId}),placementId:t.assetId,playerContainer:a.containerElement})),a.campaignView=t,a.library=getExternalDependency(function(e){return e.avPlayer&&{avPlayer:e.avPlayer}}),a.secondsToConsiderPlayersFinished=e,a}return __extends(e,o),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t,r,n,i,a,o,s=this;return __generator(this,function(e){switch(e.label){case 0:return this.logger.info(fig(),this.logger.infog:n}),o=this.library.instance().avPlayer,(i=new o(n)).play(n),i.on("AdDurationChange",function(){setTimeout(function(){s.tracking.setCreativeMetadata(s.getCreativeMetadata(i.getAdDuration()))},1e3)}),i.on("AdError",function(e){t=e}),i.ction(){s.isDestroyed||(s.logger.info(".processAniviewEvent","AdLoaded"),s.containerElement.classList.add("loaded"),s.triggerEvent("rendered"),s.startAutoPlayback(i),s.tracking.trackTimeToLoad())}),i.on("AdStopped",function(){r=!0}),a=!1,i.getEvents().forEach(function(n){return i.on([],r=0;r<arguments.length;r++)t[r]=arguments[r];s.isDestroyed||((e=s.logger).info.apply(e,__spreadArray([".play",n],t,!1)),(e=s.getVastEvent(n))&&(s.processVastEvent(e),a=a||"impression"===e))})}),o=waitFor(function(){return!!t||r}),this.secondsToConsiderPlayersFinished)?[4,Promise.race([o,waitFor(function(){return isInVerticalView(s.containerElement)}).then(function(){return wait(1e3*s.secondsToConsiderPlayersFinished)})])]:[3,3];case 2:if(e.sent(),this.close(i),t)throw t;return[3,5];case 3:return setTimeout(function(){return __awaiter(s,void 0,void 0,function(){return __generator(this,function(e){return a||(this.logger.error(".play","watchdog","no impression registered"),r=!0,this.close(i)),[2]})})},this.msToAbortIfNoImpressionIsRegistered),[4,o];case 4:throw e.sent(),this.campaignView.markAsFailed(),t||new Error("loop finished");case 5:return[2]}})})},e.prototype.destroy=function(){this.logger.error(".destroy"),this.containerElement.remove(),this.isDestroyed=!0},e.prototype.getCampaignView=function(){return this.campaignView},e.prototype.getTracking=function(){return this.tracking},e.prototype.getElement=function(){return this.containerElement},e.otLoaded=function(){return this.library.isAvailable()?Promise.resolve():new Promise(function(e,t){var r=renderDocument.createElement("script");r.src="https://player.aniview.com/script/6.1/aniview.js",r.onload=function(){return e()},r.onerror=function(e){return t(e)},renderDocument.getElementsByTagName("head")[0].appendChild(r)})},e.prototype.createContainerElement=function(e){var t=renderDocument.createElement("div");return t.id=this.id,t.className="carodaAniview",e.appendChild(t),t},e.prototype.getAdConfig=function(){return __assign({autoContinue:!0,autoPlay:!0,channelId:this.campaignView.aniviewChannelId,closeButton:!1,errorLimit:5,height:0,logo:!0,loop:!0,maxImp:9999,maxRun:9999,midrolltime:5,openAnim:!0,pauseButton:!0,playerDelay:0,playerType:1,posDfp1x1:!1,posSdeoFirstQuartile":return"first_quartile";case"AdVideoMidpoint":return"midpoint";case"AdVideoThirdQuartile":return"third_quartile";case"AdVideoComplete":eturn"click_tracking";default:return null}},e.prototype.processVastEvent=function(t){var r=this,n=(this.logger.info(".processVastEvent",t),"impression"===t);this.campaignView.trackingHooks.filter(function(e){return e.VastEvent===t}).forEach(function(e){e=e.TrackingUrl;return r.tracking.hitTrackingUrl(e,n,!1,r.campaignView.cappingEventType)})},e.prototype.getCreativeMetadata=function(e){return this.logger.info(".getCreativeMetadata",{duration:e}),{description:"",durationSeconds:e,id:"",title:""}},e.prototype.startAutoPlayback=function(e){var t=this,r=!0,n=setInterval(function(){isInViewport(t.containerElement)&&r?(r=!1,e.resume()):isInViewport(t.containerElement)||(r=!0,e.pause())},250);e.on("AdStopped",function(){return clearInterval(n)}),e.on("AdError",function(){return clearInterval(n)})},e.prototype.close=function(r){var n;return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,null==(n=r.close)?void 0:n.call(r)];case 1:return e.sent(),[3,3];case 2:return t=e.sGPTBanner(e){e=(new libraryWindow.DOMParser).parseFromString(e,"text/html");return Array.from(e.getElementsByTagName("script")).some(function(e){return/(googletagservices.com|doubleclick.net)(\/tag\/js\/gpt|\/dbm\/ad)/.test(e.src)})}var VastToTeadsEventName={click_tracking:"AdClickThru",complete:"AdVideoComplete",first_quartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",start:"AdVideoStart",third_quartile:"AdVideoThirdQuartile"},TeadsToVastEventName=Object.keys(VastToTeadsEventName).reduce(function(e,t){return __assign(__assign({},e),((e={})[VastToTeadsEventName[t]]=t,e))},{}),TeadsLogMonitor=function(){function e(e){var t=e.w,e=e.logger;this.ended=!1,this.logger=e,this.logger.info("TeadsPlayerthis.logger",".constructor",t),this.loggingWindow=t,this.teadsLog 0:e.FULL_LOGS)?void 0:t.length)||0,this.logger.info("TeadsPlayerthis.logger",".constructor","initialLogOffset",this.initialLogOffset)}return e.prototype.on=function(e,t){this.onEvent[e]=this.onEvent[e]||[],this.onEvent[e].push(t)},e.prototype.processLogEvents=function(){return __awaiter(this,void 0,void 0,function(){var t,r,i,n,a,o,s,c=this;return __generator(this,function(e){switch(e.label){case 0:if(this.ended)return[2];if(t=this.loggingWindow,t=t.teads&&t.teads.FULL_LOGS){for(s=this.initialLogOffset+this.teadsLogs.length,t=t.slice(s).map(function(e){return e.message}),this.logger.info("TeadsPlayerthis.logger",".processLogEvents","newLogs",{newLogs:t,offset:s}),r=(i.logger.info("TeadsPlayerthis.logger",".processLogEvents",e),e.match(/player.plugin.Tracker/)&&(n=(n=Tracker\]\s*([^\s]+)/))&&n[1],(n=i.onEvent[TeadsToVastEventName[n]])&&n.forEach(function(e){return e()})),e.match(/"adType":"/)&&(t=e.match(/"adType":"([^"]+)"/),r=t&&t[1],n=i.onEvent.adTypch(/no.passback.to.exec/))throw new Error("No ad")},i=this,n=0,a=t;nion(e,t){return setTimeout(function(){return c.processLogEvents().then(e,t)},500)})];case 1:return e.sent(),[2]}})})},e.prototype.stopProcessing=function(){this.logger.info("TeadsPlayerthis.logger",".stopProcessing"),this.ended=!0},e}(),BannerPlayer=function(c){function e(e){var t=e.campaignView,r=e.containerElement,n=e.globalConfigOverride,i=e.trackingConfig,i=void 0===i?{}:i,a=e.unfreezePrecondition,e=e.ignorePassbackAfterSeconds,o=c.call(this)||this;o.logger=carodaConsoleSafe.getInstanceLogger("BannerPlayer[".concat(t.id,"]"));var s=integrationConfig.modifyBannerScript()(t.assetId,t.id,t.bannerScript);return o.logger.info(".constructor",{bannerScript:s}),o.id=t.prebidAdUnitCode||o.getRandomId(),o.passbackCalled=!1,o.passbackToCarodaFunctionName="passbackToCaroda".concat(Math.floor(1e9*Math.random())),o.registerImpressionInCarodaFunctionName="registerImpressionInCaroda".concat(Math.floor(1e9*Math.random())),o.campaignView=t,o.trackingHooks=t.trackingHooks,o.bannerScript=s,o.bannerContainerElement=renderDocument.createElement("div"),o.bannerContainerElement.className="carodaBannerContainer",o.bannerElement=renderDocument.createElement("div"),o.bannerElement.className="carodaBanner",o.bannerElement.id=o.id,o.unfreezePrecondition=a||function(){return!0},o.isTeadsPrebid()&&o.bannerContainerElement.classList.add("carodaTeadsPrebid"),o.tracking=new Tracking(n,__assign(__assign({},i),{context:__assign(__assign({},i.context||{}),{transactionId:t.transactionId}),placementId:t.assetId,playerContainer:o.bannerElement})),o.tracking.trackTimeToLoad(),o.containerElement=r,o.containerElement.classList.add("carodaBannerOuterContainer"),t.expire&&t.expire(),o.triggerImpressionOnce=once(function(){return o.triggerImpression()}),o.ignorePassbackAfterSeconds=e,o}return __extends(e,c),e.prototype.load=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.logger.info(".load","redundant"),[2]})})},e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t,r=this;return __generator(this,function(e){switch(e.label){case 0:return this.logger.info(".play","adding banner",this.campaignView.bannerScriptExecutionTiming),[4,waitFor(this.unfreezePrecondition)];case 1:return e.sent(),"whenInView"!==this.campaignView.bannerScriptExecutionTiming?[3,3]:[4,waitForElementToBeNearViewport({bottomOffset:renderWindow.innerHeight,elem:this.containerElement,topOffset:renderWindow.innerHeight})];case 2:e.sent(),e.label=3;case 3:return(this.logger.info(".play","precondition ready"),!this.shouldRunInTopFrame()&&(isGPTBanner(this.bannerScript)||this.isTeadsPrebid()||this.isSeznamOpenRtb()||this.isConflictiveWithPostscribe()))?[2,this.playInIframe()]:(this.bannerContainerElement.appendChild(this.bannerElement),this.containerElement.appendChild(this.bannerContainerElement),this.makePassbackToCarodaAvailable(),this.makeRegisterImpressionInCarodaAvailable(),t=this.getExecutableBannerScript(),this.logger.info(".play","adding banner with postscribe",t),postscribe(this.bannerElement,t),setTimeout(function(){return r.logger.info(".play","banner unfolded",{height:r.bannerElement.getBoundingClientRect().height},r.containerElement.innerHTML)},3e3),[4,waitFor(function(){return 30<r.bannerElement.getBoundingClientRect().height||r.passbackCalled})]);case 4:if(e.sent(),this.passbackCalled)throw new Error("passback");return this.logger.info(".play","banner rendered"),this.triggerEvent("rendered"),this.monitorImpression(),[4,this.handlePassback()];case 5:return e.sent(),[2]}})})},e.prototype.playInIframe=function(){return __awaiter(this,void 0,void 0,function(){var t,r,n;return __generator(this,function(e){switch(e.label){case 0:return t=function(){return new RegExp("safari","ig").test(targetingProfile.browser())},this.logger.info(".playInIframe","adding banner"),this.listenToMessagesFromIframe(),this.bannerContainerElement.appendChild(this.bannerElement),this.containerElement.appendChild(this.bannerContainerElement),r=renderDocument.createElement("iframe"),this.bannerElement.appendChild(r),this.bannerElement.style.border="0",r.frameBorder="0",n="<html>\n            <head>\n                <title>Caroda Iframe Banner Player</title>\n                <style>\n                    body {\n                        margin: 0;\n                        ".concat(this.isTeadsPrebid()?"":"overflow: hidden;",'\n                    }\n                    div[id*="google_ads_iframe"] {\n                        text-align: center;\n                    }\n                    iframe, div[data-google-query-id] {\n                        margin-left: auto;\n                        margin-right: auto;\n                        text-align: center;\n                    }\n                    .adFull {\n                        margin: auto;\n                    }\n                </style>\n            </head>\n            <body>\n                <script>\n                    function ').concat(this.passbackToCarodaFunctionName,'() {\n                        window.parent.postMessage(\n                            "').concat(this.id,'://" + JSON.stringify({ type: "passback" }),\n                            "*"\n                        )\n                    }\n                    function ').concat(this.registerImpressionInCarodaFunctionName,'() {\n                        window.parent.postMessage(\n                            "').concat(this.id,'://" + JSON.stringify({ type: "registerImpression" }),\n                            "*"\n                        )\n                    }\n                    function sendGoogleFluidDimensions(width, height) {\n                        window.parent.postMessage(\n                            "').concat(this.id,'://" + JSON.stringify({ type: "setDimensions", width, height }),\n                            "*"\n                        )\n                    }\n                <\/script>\n                ').concat(this.getExecutableBannerScript(),"\n                <script>\n                    window.isTeads = ").concat(JSON.stringify(this.isTeadsPrebid()),";\n                    window.isFluidGoogleBanner = ").concat(JSON.stringify(this.isFluidGoogleBanner()),"\n                    ").concat(initIframeBannerWindow.toString(),"\n                    initIframeBannerWindow(window);\n                <\/script>\n            </body>\n        </html>"),this.isTeadsPrebid()?r.srcdoc=n:t()?r.src=renderWindow.URL.createObjectURL(new renderWindow.Blob([n],{type:"text/html"})):(r.contentDocument.open(),r.contentDocument.write(n),r.contentDocument.close()),r.style.width="".concat(this.bannerContainerElement.parentElement.clientWidth,"px"),r.style.height="10px",this.triggerEvent("rendered"),this.monitorImpression(r.contentWindow),[4,this.handlePassback()];case 1:return e.sent(),[2]}})})},e.prototype.destroy=function(){this.logger.info(".destroy"),this.bannerContainerElement.remove(),this.containerElement.classList.remove("carodahis.campaignView},e.prototype.getTracking=function(){return this.tracking},e.prototype.getElement=function(){return this.bannerElement},e.prototype.usesPassback=function(){return(this.bannerScript||"").includes("passbackToCaroda")},e.prototype.handlePassback=function(){return __awaiter(this,void 0,void 0,function(){var t,r=this;return __generator(this,function(e){switch(e.label){case 0:return this.usesPassback()?this.ignorePassbackAfterSeconds?[4,waitFor(function(){return r.passbackCalled||isInVerticalView(r.bannerElement)})]:[3,2]:[2];case 1:e.sent(),e.label=2;case 2:t=this.ignorePassbackAfterSeconds?1e3*this.ignorePassbackAfterSeconds:0,e.label=3;case 3:return e.trys.push([3,5,,6]),[4,waitFor(functiont(),this.logger.info(".handlePanew Error("passback")}})})},e.prototype.getRandomId=function(){return"caroda-banner-player-".concat(Math.floor(1e9*Math.random()))},e.prototype.shouldRunInTopFrame=function(){return/caroda-run-in-top-frame/.test(this.bannerScript)}cript.indexOf("a.teads.tv/hb/ad/")},e.prototype.isSeznamOpenRtb=function(){return-1!==this.bannerScript.indexOf("ssp.seznam.cz/")},e.prototype.isConflictiveWithPostscribe=function(){return-1!==this.bannerScript.indexOf("onerror=")},e.prototype.monitorImpression=function(t){return void 0===t&&(t=renderWindow),__awaiter(this,void 0,void 0,function(){var n,i=this;return __generator(this,function(e){switch(e.label){case 0:return this.isTeadsPrebid()?(this.bannerContainerElement.classList.add("loaded"),this.containerElement.classList.add("loaded"),(n=new TeadsLogMonitor({logger:carodaConsoleSafe.getInstanceLogger("TeadsLogMonitor[".concat(this.campaignView.id,"]")),w:t})).on("impression",function(){i.logger.info(".monitorImpression",i.campaignView.id,"teads",{body:i.bannerElement.querySelector("iframe").contentDocument.body.innerHTML,head:i.bannerElement.querySelector("iframe").contentDocument.head.innerHTML}),i.tracking.hitPlayerEvent("impression_other_players",["//teads.prebid","//teads.prebid"])}),this.trackingHooks.forEach(function(e){var t=e.VastEvent,r=e.TrackingUrl;return n.on(t,function(){return i.tracking.hitTrackingUrl(r,"impression"===t)})}),[4,n.processLogEvents()]):[3,2];case 1:return e.sent(),[2];case 2:return this.logger.info(".monitorImpression","waiting for impression"),[4,waitFor(function(){return isInVerticalView(i.bannerElement)&&30<i.bannerElement.getBoundingClientRect().height})];case 3:return e.sent(),[4,wait(250)];case 4:return e.sent(),[4,waitFor(function(){return isInVerticalView(i.bannerElement)&&30<i.bannerElement.getBoundingClientRect().height})];case 5:return e.sent(),this.logger.info(".monitorImpression","condition met"),this.triggerImpressionOnce(),this.logger.info(".monitorImpression","hit player te+=" loaded",this.containerElement.classList.addunction(){var t=this;this.logger.info(".triggerImpression"),this.trackingHooks.filter(function(e){return"impression"===e.VastEvent}).map(function(e){return e.TrackingUrl}).forEach(function(e){return t.tracking.hitTrackingUrl(e,!0)}),this.tracking.hitPlayerEvent(integrationConfig.isThirdPartyCampaign()(this.campaignView)?"impression_other_players":"impression_banner")},e.prototype.listenToMessagesFromIframe=function(){var n=this;renderWindow.addEventListener("message",function(e){if("string"==typeof(t=e).data&&t.data.includes(n.id)){var t,r=JSON.parse(e.data.replace(n.id+"://",""));switch(r.type){case"passback":n.passback();ak;case"setDimensions":n.setDimensions(r.width,r.height);break;default:n.logger.info(".listenToMessagesFromIframe","unknown message",e.data)}}})},e.prototype.passback=function(){this.logger.info(".passback"),this.passbackCalled=!0},e.prototype.getExecutableBannerScript=function(){var e=replaceTargetingTemplate(this.bannerScript,{playerInfo:__assign(__assign({},getPlayerDimensions(this.bannerElement)),{plcmt:"standalone"}),transactionId:this.tracking.context.transactionId}).replace(/passbackToCaroda/g,this.passbackToCarodaFunctionName).replace(/registerImpressionInCaroda/g,this.registerImpressionInCarodaFunctionName);return e=isGPTBanner(e)?this.addGptPageUrl(e):e},e.prototype.makePassbackToCarodaAvailable=function(){var e=this;renderWindow[this.passbackToCarodaFunctionName]=function(){return e.pasrWindow[this.registerImpressionInCarodaFunctionName]=function(){return e.registerImpressionInCaroda()}},e.prototype.registerImpressionInCaroda=function(){this.logger.info(".registerImpressionInCaroda"),this.triggerImpressionOnce()},e.prototype.isFluidGoogleBanner=function(){return!!(this.bannerScript||"").replace(/\n/g,"").match(/googletag.*["']fluid["']/)},e.prototype.setDimensions=function(e,t){var r=this.bannerElement.querySelector("iframe").getBoundingClientRect(),n=r.width,r=r.height;n<e&&(this.bannerElement.querySelector("iframe").style.width="".concat(e,"px")),r<t&&(this.bannerElement.querySelector("iframe").style.height="".concat(t,"px"))},e.prototype.addGptPageUrl=function(e){return"\n            <script>\n                ".concat(interveneGoogleTag.toString(),"\n                interveneGoogleTag(window, '").concat(pageLocation.href,"')\n            <\/script>\n            ").concat(e,"\n        ")},e}(EventTarget);function interveneGoogleTag(e,n){var t,i=e;i.googletag=i.googletag||{cmd:[]},t=i.gnction(e){return t.call(i.googletag.cmd,(r=e,function(){e=i.googletag.enableServices,i.googletag.enableServices=function(){i.googletag.pubads().set("page_url",n),e.call(i.googletag)};var e,t=function(){i.googletag.enableServices=e};r(),t()}));var r}}function initIframeBannerWindow(s){var t,r,a,c=s.document;if(s.isFluidGoogleBanner)return a=s,t=function(e){e.setAttribute("name",e.getAttribute("name").replace("blob://","*height,n=parseInt(e.getAttribute("width"),10),i=parseInt(e.getAttribute("height"),10);a.sendGoogleFluidDimensions(isNaN(n)?r:n,isNaN(i)?t:i),new a.ResizeObserver(function(){a.sendGoogleFluidDimensions(e.clientWidth,e.clientHeight)}).observe(e)},r=HTMLElement.prototype.appendChild,void(s.HTMLElement.prototype.appendChild=function(e){return"IFRAME"===e.nodeName&&e.id.match(/google_ads_iframe/)&&t(e),r.apply(this,arguments)});var l=null;function u(){requestAnimationFrame(function(){var e=c.createElement("DIV");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.background="rgba(255, 255, 255, 0.01)",e.style.pointerEvents="none",e.style.zIndex="9999999999",c.body.appendChild(e),requestAnimationFrame(function(){return e.remove()})})}new MutationObserver(function(){var e,t=s.frameElement,r=Math.max(c.body.scrollHeight,s.isTeads?1:20),n=Math.max(c.body.scrollWidth,20),i=t.getBoundingClientRect();if(i.width!==n&&(t.style.width="".concat(n,"px")),i.height!==r&&(t.style.height="".concat(r,"px")),null===l&&(l=c.querySelector("iframe[id*=google_ads_iframe]")))try{e=l,setTimeout(u,0),setTimeout(u,200),setTimeout(u,600),setTimeout(u,1200),setTimeout(u,2400);var a=e.contentDocument,o=a.createElement("style");o.innerHTML='\n            div[id*="creative-"] > span[id*="label-"] {\n                display: none !important;\n    ad.appendChild(o),(o=a.querySelector('div[id*="creative-"]'))&&!o.children.length&&(o.style.display="none")}catch(e){}}).observe(c.body,{childList:!0,attributes:!0,subtree:!0})}var InstanceLogger=function(){function e(e){this.id=e}return e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];carodaConsoleSafe.log.apply(carodaConsoleSafe,__spreadArray([this.id],e,!1))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];carodaConsoleSafe.info.apply(carodaConsoleSafe,__spreadArray([this.id],e,!1))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];carodaConsoleSafe.error.apply(carodaConsoleSafe,__spreadArray([this.id],e,!1))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];carodaConsoleSafe.warn.apply(carodaConsoleSafe,__spreadArray([this.id],e,!1))},e}(),TeadsPlayer=function(){function TeadsPlayer(e){var t=e.campaignView,r=e.parentElement,n=e.globalConfigOverride,i=e.trackingConfig,i=void 0===i?{}:i,e=e.secondsToConsiderPlayersFinished,a=this;this.destroyed=!1,this.logger=new InstanceLogger("TeadsPlayer[".concat(Math.round(1e9*Math.random()),"-").concat(t.id,"]")),this.logger.info(".constructor",t.id),this.campaignView=t,this.trackingHooks=t.trackingHooks,this.containerElement=this.createContainerElement(r),this.tracking=new Trackicontext:__assign(__assign({},i.context||{}),{transactionId:t.transactionId}),placementId:t.assetId,playerContainer:this.containerElement})),this.scriptUrl=t.teadsScriptUrl,this.endedPromise=new Promise(function(e){a.endedResolve=e}),this.secondsToConsiderPlayersFinished=e}return TeadsPlayer.prototype.load=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.logger.info(".load","redundant"),[2]})})},TeadsPlayer.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t,r=this;return __generator(this,function(e){switcrWindow.teads={},t=this.processLogEvents(),[4,this.appendTeadsTag()];case 1:return(e.sent(),this.secondsToConsiderPlayersFinished)?[4,Promise.race([t,this.endedPromise,waitFor(function(){return isInVerticalView(r.containerElement)}).then(function(){return wait(1e3*r.secondsToConsiderPlayersFinished)})])]:[3,3];case 2:return e.sent(),[3,5];case 3:return[4,t];case 4:e.sent(),e.label=5;case 5:return[2]}})})},TeadsPlayer.prototype.destroy=function(){this.logger.info("TeadsPlayer",".destroy"),this.logMonitor.stopProcessing(),this.containerElement.remove(),this.destroyed=!0},TeadsPlayer.prototype.getCampaignView=function(){return this.campaignView},TeadsPlayer.prototype.getTracking=function(){return this.tracking},TeadsPlayer.prototype.waitToEnd=function(){return this.endedPromise},TeadsPlayer.prototype.getTeadsInjector=function(n){var i=this,a=renderWindow;return{ap:function(e){renderDocument.head.appendChild=a.documentAppendChild,a.carodaTeadsRunners[n].el=e,i.logger.info("getTeadsInjector","ap hook",a.carodaTeadsRunners[n].el)},ce:function(e,t){var r=renderDocument.currentScript;return r&&r.src.match(/teads/)&&(i.logger.info("getTeadsInjector","ce hook",r.src),null==a.documentAppendChild&&(a.documentAppendChild=renderDocument.head.appendChild),renderDocument.createElement=a.documentCreateElement,renderDocument.head.appendChild=a.carodaTeadsRunners[n].ap),a.documentCreateElement.call(renderDocument,e,t)},s:function(){null==a.documentCreateElement&&(a.documentCreateElement=renderDocument.createElement),renderDocument.createElement=a.carodaTeadsRunners[n].ce}}},TeadsPlayer.prototype.appendTeadsTag=function(){var _a;return __awaiter(this,void 0,void 0,function(){var w,container,id,originalScript,originalScriptWithFirstPlacementOnly,optsMatch,containerId,modifiedScript;return __generator(this,function(_b){switch(_b.label){case 0:return this.logger.info(".appendTeadsTag","adding script with postscribe"),w=renderWindow,delete w.teadsscript,container=renderDocument.createElement("div"),renderDocument.body.appendChild(container),id="crd".concat(Math.floor(1e9*Math.random())),null==(_a=w.carodaTeadsRunners)&&(w.carodaTeadsRunners={}),w.carodaTeadsRunners[id]=this.getTeadsInjector(id),postscribe(container,"\n            <script>carodaTeadsRunners.".concat(id,'.s()<\/script>\n            <script src="').concat(this.scriptUrl,'"><\/script>\n        ')),[4,waitFor(function(){return w.carodaTeadsRunners[id].el})];case 1:if(_b.sent(),originalScript=w.carodaTeadsRunners[id].el.onload.toString().replace(/"?css"?\s*:[^,]+,/,""),this.logger.info(".appendTeadsTag","modifying placement",originalScript),originalScriptWithFirstPlacementOnly=this.removeAdditionalPlacements(originalScript),optsMatch=originalScriptWithFirstPlacementOnly.match(/placement\([0-9]+\,\s(\{[^\)]+)\)/),optsMatch)return eval("this.teadsOpts = "+optsMatch[1]),this.logger.info(".appendTeadsTag","adding teads placement",this.teadsOpts),containerId="carodaTeadsContainer".concat(Math.floor(1e9*Math.random())),this.containerElement.id=containerId,this.containerElement.classList.add("carodaTeadsContainer"),this.teadsOpts.slot={btf:!1,minimum:1,selector:"#".concat(containerId)},this.teadsOpts.slider&&(this.teadsOpts.slider.allow_corner_position=!1,this.teadsOpts.slider.allow_top_position=!1),this.teadsOpts.css="",modifiedScript=originalScriptWithFirstPlacementOnly.replace(optsMatch[1],JSON.stringify(this.teadsOpts)),this.logger.info(".appendTeadsTag","running script",modifiedScript),eval('carodaTeadsners[id].el),[2];throw new Error("Could not adjust teads placement")}})})},TeadsPlayer.prototype.createContainerElement=function(e){var t=renderDocument.createElement("div");return t.classList.add("carodaTeads"),e.appendChild(t),t},TeadsPlayer.prototype.processLogEvents=function(){return __awaiter(this,void 0,void 0,function(){var n,i=this;return __generator(this,function(e){switch(e.label){case 0:return this.logMonitor=new TeadsLogMonitor({logger:new InstanceLogger("TeadsLogMonitor[".concat(this.campaignView.id,"][").concat(Math.round(1e6*Math.random()),"]")),w:renderWindow}),n=function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.destroyed||r.apply(void 0,e)}},this.logMonitor.on("loaded",n(function(){i.logger.info(".processLogEvents","loaded"),i.containerElement.classList.add("loaded"),i.tracking.trackTimeToLoad()})),this.logMonitor.on("impression",n(function(){i.logger.info(".processLogEvents","impression"),i.tracking.hitPlayerEvent("impression_othenction(e){if(i.logger.info(".processLogEvents","adType",e),"native"===e)throw new Error("unsupported ad type ".concat(e))})),this.logMonitor.on("complete",n(function(){i.logger.info(".processLogEvents","complete"),i.endedResolve()})),this.trackingHooks.forEach(function(e){var t=e.VastEvent,r=e.TrackingUrl;return i.logMonitor.on(t,n(function(){return i.tracking.hitTrackingUrl(i.campaignView.cappingEventType)}))}),[4,this.logTeadsPlayer.prototype.removeAdditional/g,once(function(e){return e},""))},TeadsPlayer}(),DemoTeadsPlayer=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.isDemoTeadsTag=function(e){return/a.teads.tv\/page\/0\/tag/.test(e)},t.prototype.appendTeadsTag=function(){return __awaiter(this,void 0,void 0,function(){var t,r,n,i;return __generator(this,function(e){switch(e.label){case 0:return this.logger.info("TeadsPlayer",".appendDemoTeadsTag"),t=renderWindow,n="carodaTeadsContainer".concat(Math.floor(1e9*Math.random())),this.containerElement.id=n,this.containerElement.classList.add("carodaTeadsContainer","carodaTeadsDemo"),(r=t).FORCE_DEMO=!0,r._tta={0:[{ad_source_id:null,content:this.getFromTeadsScriptQueryParameter("content","https://s8t.teads.tv/vast/6753877076705717"),creativeSize:null,handled:!1,portfolio_item_id:1,settings:{behaviors:{smart6Position:{corner:!1,top:!1}},components:{callButton:{countDown:0,display:!1,text:""},credits:{display:!1,link:"#",text:""},label:{display:!0},progressBar:!0,soundButton:{display:!0}},values:{adType:this.getFromTeadsScriptQueryParameter("adType","video"),pageId:0,placementFormat:this.getFromTeadsScriptQueryParameter("placementFormat","inread"),placementId:1,threshold:50}},type:"VastUrl"}]},r._configrmat:"inread",launched:!1,parentWindow:!1,pid:1,slot:{btf:!1,insertInside:!0,minimum:0,selector:"#".concat(n)}}]}),Object.getOwnPropertyDescriptor(r,"_ttp")||Object.defineProperty(r,"_ttp",{get:function(){return r._configurableTtp}}),n=renderDocument.createElement("div"),renderDocument.body.appendChild(n),i="crd".concat(Math.floor(1e9*Math.random())),null==t.carodaTeadsRunners&s[i]=this.getTeadsInjector(i),postscribe(n,"\n        <script>carodaTeadsRunners.".concat(i,'.s()<\/script>\n        <script src="//a.teads.tv/page/0/tag"><\/script>\n    ')),[4,waitFor(function(){return t.carodaTeadsRunners[i].el})];case 1:return e.sent(),renderDocument.head.appendChild(t.carodaTeadsRunners[i].el),[2]}})}urn n","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},text,error=function(e){throw{name:"SyntaxError",message:e,at:at,text:text}},next=function(e){return e&&e!==ch&&error("Expected '"+e+"' instead of '"+ch+"'"),ch=text.charAt(at),at+=1,ch},number=function(){var e,t="";for("-"===ch&&next(t="-");"0"<=ch&&ch<="9"h)retu"===con(){switch(ull}err,white(),"}"===ch)return next("}"),t;for(;ch;){if(e=string(),white(),next(":"),Object.hasOwnProperty.call(t,e)&&error('Duplicate key "'+e+'"'),t[e]=value(),white(),"}"===ch)return next("}"),t;next(","),white()}}error("Bad object")},value=function(){switch(white(),ch){case"{":return object()e(),white(),ch&&error("Syntax error"),"function"==typeof o?function e(t,r){var n,i,a=t[r];if(a&&"object"==typeof a)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(void 0!==(i=e(a,n))?a[n]=i:delete a[n]);return o.call(t,r,a)}({"":e},""):e},',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var r,n,i,a,o,s=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),typeof(c="function"==typeof rep?rep.call(t,e,c):c)){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(c)){for(a=c.length,r=0;r<a;r+=1)o[r]=str(r,c)||"null";return i=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(a=rep.length,r=0;r<a;r+=1)"string"==typeof(n=rep[r])&&(i=str(n,c))&&o.push(quote(n)+(gap?"ent=gap="","number"==typeof r)for(n=0;n<r;n+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(!(rep=t)||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return str("",{"":e});throw new Error("JSON.stringify")},parse$1=parse,stringify$1=stringify,jsonify={parse:parse$1,stringify:stringify$1},json=?JSON:jsonify,json=("number"==typeof p&&(p=Array(p+1).join(" ")),"boolean"==typeof t.cycles&&t.cycles),h=t.replacer||function(e,t){return t},g=t.cmp&&(n=t.cmp,function(r){return function(e,t){e={key:e,value:r[e]},t={key:t,value:r[t]};return n(e,t)}}),m=[];return function e(t,r,n,i){var a=p?"\n"+new Array(i+1).join(p):"",o=p?": ":":";if(n&&n.toJSON&&"function"==typeof n.toJSON&&(n=n.toJSON()),void 0!==(n=h.call(t,r,n))){if("object"!=typeof n||null===n)return json.stringify(n);if(isArray$1(n)){for(var s=[],c=0;c<n.length;c++){var l=e(n,c,n[c],i+1)||json.stringify(null);s.push(a+p+l)}return"["+s.join(",")+a+"]"}if(-1!==m.indexOf(n)){if(f)return json.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}m.push(nh;c++){var d=e(n,r=u[c],n[r],i+1);d&&(d=json.stringify(r)+o+d,s.push(a+p+d))}exOf(n),1),"{"+s.join(",")+a+"}"}}({"":e},"",e,0)},isArray$1=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},objectKeys=Object.keys|return n},_stableStringiftringify}),concatMap=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=t(e[n],n);isArray$2(i)?r.push.apply(r,i):r.push(i)}return r},isArray$2=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},balancedMatch=balanced;function balanced(e,t,r){var n=range(e=e instanceof RegExp?maybeMatch(e,r):e,t=t instanceof RegExp?maybeMatch(t,r):t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function maybeMatch(e,t){t=t.match(e);return t?t[0]:null}function range(e,t,r){var n,i,a,o,s,c=r.indexOf(e),l=r.indexOf(t,c+1),u=c;if(0<=c&&0<l){if(e===t)return[c,l];for(n=[],a=r.length;0<=u&&!s;)u==c?(n.push(u),c=r.indexOf(e,u+1)):1==n.length?s=[n.pop(),l]:((i=n.pop())<a&&(a=i,o=l),l=r.indexOf(t,u+1)),u=c<l&&0<=c?c:l;n.length&&(s=[a,o])}return s}balancedose).split("\\,").join(escComma).split("\\.").join(escPeriod)}function unescapeBraces(e){return e.split(escSlash).join("\\").split(escOpen).join("{").split(escClose).join("}").split(escComma).join(",").split(escPeriod).join(".")}function parseCommaParts(e){if(!e)return[""];var t=[],r=balancedMatch("{","}",e);if(!r)return e.split(",");var e=r.pre,n=r.body,r=r.post,e=e.split(","),n=(e[e.length-1]+="{"+n,n)),t.push.apply(t,e),t}funand(escapeBraces(e="{}"===e.substr(0,2)?"\\{\\}"+e.substr(2):e),!0).map(unescapeBraces):[]}function embrace(e){return"{"+e+"}"}function isPadded(e){return/^-?0\d/.test(e)}function lte(e,t){return e<=t}function gte(e,t){return t<=e}function expand(e,t){var r=[],n=balancedMatch("{","}",e);if(!n||/\$$/.test(n.pre))return[e];var i,a=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=a||o,a=0<=n.body.indexOf(",");if(!s&&!a)return n.post.mn.body+escClose+n.post):[e];if(s)i=n.body.split(/\.\./);else if(1===(i=parseCommaParts(n.body)).length&&1===(i=expand(i[0],!1).map(embrace)).length)return(l=n.post.length?expand(n.post,!1):[""]).map(function(e){return n.pre+i[0]+e});var c=n.pre,l=n.post.length?expand(n.post,!1):[""];if(s)for(var u,d,a=numeric(i[0]),p=numeric(i[1]),f=Math.max(i[0].length,i[1].length),h=3==i.length?Math.abs(numeric(i[2])):1me(isPadded)),y=[],v=a;g(v,p);v+=h)o?"\\"===(d=String.fromCharCode(v))&&(d=""):(d=String(v),m&&0<(u=f-d.length)&&(u=new Array(1+u).join("0"),d=v<0?"-"+u+d.slice(1):u+d)),y.push(d);else y=concatMap(i,function(e){return expand(e,!1)});for(var _=0;_<y.length;_++)for(var b=0;b<l.length;b++){var w=c+y[_]+l[b];t&&!s&&!w||r.push(w)}return r}var minimatch_1=minimatch,GLOBSTAR=(minimatch.Minimatch=Minimatch,minimatch.GLOBSTAR=Minimatch.GLOBSTAR={}),plTypes={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"]",star=qmark+"*?",t=/\/+/;function filter(n,i){return i=i||{},function(e,t,r){return minimatch(e,n,i)}}function ext(t,r){t=t||{},r=r||{};var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function minimatch(e,t,r){if("string"!=typeof t)throw new TypeError("glob pattern string required");return!(!(r=r||{}).nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new Minimatch(t,r).match(e))}function Minimatch(e,t){if(!(this instanceof Minimatch))return new Minimatch(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t=t||{},e=e.trim(),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function make(){var e,t;this._made||(t=this.pattern,(e=this.options).nocomment||"#"!Set=this.braceExpand(),e.debug&&(this.debug=,t),t=this.globParts=t.map(function(e){return e.split(slashSplit)}),thi),this.set=t):this.empty=!0:this.comment=!0)}function parseNegate(){var e=this.pattern,t=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,a=e.length;i<a&&"!"===e.charAt(i);i++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}function braceExpand(e,t){if(t=t||(this instanceof Minimatch?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobractch.filter=filter,minit,r){return i.minimatch(e,ar i=minimatch;return e.Minimatch=function(e,t){return new i.Minimatch(e,ext(n,t))},e},Minimatchkeys(e).length?minimatch.defaults(e).Minimatch:Minimatch},Minimatch.prototype.debug=function(){},Minimatch.prototype.make=make,Minimatch.prototype.parseNegate=parseNegate,minimatch.braceExpand=function(e,t){return braceExpand(e,t)},Minimatch.prototype.braceExpand=braceExpand,Minimatch.prototype.parse=parse$2;var SUBPARSE={};function parse$2(e,t){if(65536<e.length)throw new TypeError("patt-1,d=-1,p="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",f=this;function h(){if(n){switch(n){case"*":i+=star,a=!0;break;case"?":i+=qmark,a=!0;break;default:i+="\\"+n}f.debug("clearStateChar %j %j",n,i),n=!1}}for(var g,m,y=0,v=e.length;y<v&&(g=e.charAt(y));y++)if(this.debug("%s\t%s %s %j",e,y,i,g),o&&reSpecials[g])i+="\\"+g,o=!1;else switch(g){case"/":return!1;case"\\":h(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,y,i,g),l){this.debug("  in class"),i+=g="!"===g&&y===d+1?"^":g;continue}f.debug("call clearStateChar %j",n),h(),n=g,r.noext&&h();continue;case"(":if(l){i+="(";continue}if(!n){i+="\\(";continue}s.push({type:n,start:y-1,reStart:i.length,open:plTypes[n].open,close:plTypes[n].close}),i+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,i),n=!1;continue;case")":if(l||!s.length){i+="\\)";continue}h();var a=!0,_=s.pop();i+=_.close,"!"===_.type&&c.push(_),_.reEnd=i.length;continue;case"|":if(l||!s.length||o){i+="\\|",o=!1;continue}h(),i+="|";continue;case"[":if(h(),l){i+="\\"+g;continue}l=!0,d=y,u=i.length,i+=g;continue;case"]":if(y===d+1||!l){i+="\\"+g,o=!1;continue}l&&(m=e.substring(d+1,y)),l=!(a=!0),i+=g;continue;default:h(),o?o=!1:!reSpecials[g]||"^"===g&&l||(i+="\\"),i+=g}for(l&&(m=e.substr(d+1),x=this.parse(m,SUBPARSE),i=i.substr(0,u)+"\\["+x[0],a=a||x[1]),_=s.pop();_;_=s.pop()){var b=i.slice(_.reStart+_.open.length),w=(this.debug("setting tail",i,_),b=b.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,r){return t+t+(r=r||"\\")+"|"}),this.debug("tail=%j\n   %s",b,b,_,i),"*"===_.type?star:"?"===_.type?qmark:"\\"+_.type);a=!0,i=i.slice(0,_.reStart)+w+"\\("+b}h(),o&&(i+="\\\\");var S=!1;switch(i.charAt(0)){case".":case"[":case"(":S=!0}for(var C=c.length-1;-1<C;C--){for(var E=c[C],A=i.slice(0,E.reStart),P=i.slice(E.reStart,E.reEnd-8),T=i.slice(E.reEnd-8,E.reEnd),E=i.slice(E.reEnd),I=(T+=E,A.split("(").length-1),k=E,y=0;y<I;y++)k=k.replace(/\)[+*?]?/,"");var O="",A=A+P+(E=k)+(O=""===E&&t!==SUBPARSE?"$":O)+T;i=A}if(""!==i&&a&&(i="(?=.)"+i),S&&(i=p+i),t===SUBPARSE)return[i,a];if(!a)return globUnescape(e);var x=r.nocase?"i":"";try{var N=new RegExp("^"+i+"$",x)}catch(e){return new RegExp("$.")}return N._glob=e,N._src=i,N}functhis.regexp;var t=this.options,r=t.noglobstar?star:t.dot?twoStarDot:twoStarNoDot,t=t.nocase?"i":"",e="^(?:"+(e=e.map(function(e){return e.map(function(e){return e===GLOBSTAR?r:"string"==typeof e?regExpEscape(e):e._src}).join("\\/")}).join("|"))+")$";this.negate&&(e="^(?!"+e+").*$");try{this.regexp=new RegExp(e,t)}catch(e){this.regexp=!1}return this.regexp}function match(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r,n,i=this.options,a=(e=e.split(slashSplit),this.debug(this.pattern,"split",e),this.set);for(this.debug(this.pattern,"set",a),n=e.length-1;0<=n&&!(r=e[(s=[r]),this.mat!i.flipNegate&&this.negate}function globUnescape(et){return new Minimatch(e,t||{}).makeRe()},Minimatch.prototype.makeRe=makeRe,minimatch.match=function(e,t,r){var n=new Minimatch(t,r=r||{});return e=e.filter(function(e){return n.match(e)}),n.options.nonull&&!e.length&&e.push(t),e},Minimatch.prototype.match=match,Minimatch.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,a=0,o=e.length,s=t.length;i<o&&a<s;i++,a++){this.debug("matchOne loop");var c,l=t[a],u=e[i];if(this.debug(t,l,u),!1===l)return!1;if(l===GLOBSTAR){this.debug("GLOBSTAR",[t,l,u]);var d=i,p=a+1;if(p===s){for(this.debug("** at the end");i<o;i++)if("."===e[i]||".."===e[i]||!n.dot&&"."===e[i].charAt(0))return!1;return!0}for(;d<o;){var f=e[d];if(this.debug("\nglobstar while",e,d,t,p,f),this.matchOne(e.slice(d),t.slice(p),r))return this.debug("globstar found match!",d,o,f),!0;if("."===f||".."===f||!n.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,d,t,p);break}this.debug("globstar swallow a segment, and continue"),d++}return r&&(this.debug("\n>>> no match, partial?",e,d,t,p),d===o)?!0:!1}if("string"==typeof l?(c=n.nocase?u.toLowerCase()===l.toLowerCase():u===l,this.debug("string match",l,u,c)):(c=u.match(l),this.debug("pattern match",l,u,c)),!c)return!1}if(i===o&&a===s)return!0;if(i===o)return r;if(a===s)return i===o-1&&""===e[i];throw new Error("wtf?")};var minimault:minimatch_1,__moduleExports:minimatch_1}),formats=[[16/9,"horizontal"],[9/16,"vertical"],[1,"square"],[4/3,"horizontal-4-3"],[.75,"vertical-3-4"]];function getAspectRatioValue(t){return formats.find(funnction getVideoAdAspectRatio(i){return formats.reduce(function(e,t){var r=e[0],e=e[1],n=t[0],t=t[1];return Math.abs(n-i)<Math.abs(r-i)?[n,t]:[r,e]})[1]}function crop(e,t){for(var r=formats.find(function(e){e[0];e=e[1];return t===e})[0],n=e.width,i=n/r;0<n&&i>e.height;)i=(n*=.95)/r;return{width:n,height:i}}function getDefaultBannedFormats(e){return"desktop"===e?["square","vertical","vertical-3-4"]:[]}var labels={cs:{advertising:"Reklama",learnMore:decodeURIComponent("Dozv%C4%9Bd%C4%9Bt%20se%20v%C3%ADce"),noAd:decodeURIComponent("Nebyla%20nalezena%20%C5%BE%C3%A1dn%C3%A1%20dal%C5%A1%C3%AD%20reklama"),playAgain:decodeURIComponent("P%C5%99ehr%C3%A1t%20znovu")},en:{advertising:"Advertising",learnMore:"Learn more",noAd:"No additional ad could be returned",playAgain:"Play again"},es:{advertising:"Publicidad",learnMore:decodeURIComponent("M%C3%A1s%20informaci%C3%B3n"),noAd:decodeURIComponent("No%20se%20ha%20podido%20devolver%20ning%C3%BAn%20anuncio%20adicional"),playAgain:"Reproducir"},fr:{advertising:decodeURIComponent("Publicit%C3%A9"),learnMore:decodeURIComponent("En%20savoir%20plus"),noAd:decodeURIComponent("Aucune%20publicit%C3%A9%20suppl%C3%A9mentaire%20n%27a%20pu%20%C3%AAtre%20retourn%C3%A9e"),playAgain:"Rejouer"},pl:{advertising:"Reklama",learnMore:decodeURIComponent("Dowiedz%20si%C4%99%20wi%C4%99cej"),noAd:decodeURIComponent("Nie%20mo%C5%BCna%20by%C5%82o%20zwr%C3%B3ci%C4%87%20dodatkowej%20reklamy"),playAgain:decodeURIComponent("Odtw%C3%B3rz%20ponownie")},sk:{advertising:"Reklama",learnMore:decodeURIComponent("U%C4%8D%20sa%20viac"),noAd:decodeURIComponent("Nebola%20n%C3%A1jden%C3%A1%20%C5%BEiadna%20%C4%8Fal%C5%A1ia%20reklama"),playAgain:decodeURIComponent("Prehra%C5%A5%20znova")}},LearnMoreButton=function(){flack, -1px 0 1px black;\n 50%);\n      }\n\n      .carodaLearnMoreButton:hover {\n        opacity: 1;\n      }\n    ",e},e.prototype.createOverlay=function(){var e=renderDocument.createElement("div");return e.classList.add("carodaLearnMoreButtonOverlay"),e},e.prototype.createButton=function(e){var t=renderDocument.createElement("a");return t.classList.add("carodaLearnMoreButton"),t.textContent=labels[targetingProfile.locale()].learnMore,t.href=e,t.target="_blank",t},e}();function getRemainingTimeout(e){e-=(new Date).getTime();return 0<e?e:0}var nameStartChar=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,nameChar=new RegExp("[\\-\\.0-9"+nameStartChar.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),tagNamePattern=new RegExp("^"+nameStartCtity not found:"+e),e)}function t(e){var t;h<e&&(t=r.substring(h,e).replace(/&#?\w+;/g,o),d&&s(h),i.characters(t,0,e-h),h=e)}function s(e,t){for(;l<=e&&(t=u.exec(r));)c=t.index,l=c+t[0].length,d.lineNumber++;d.columnNumber=e-c+1}for(var c=0,l=0,u=/.*(?:\r\n?|\n)|.*$/g,d=i.locator,p=[{currentNSMap:e}],f={},h=0;;){try{var g,m,y=r.indexOf("<",h);if(y<0)return void(r.substr(h).match(/^\s*$/)||(m=(g=i.doc).createTextNode(r.substr(h)),g.appendChild(m),i.currentElement=m));switch(h<y&&t(y),r.charAt(y+1)){case"/":var v=r.indexOf(">",y+3),_=r.substring(y+2,v),b=p.pop(),w=(v<0?(_=r.substring(y+2).replace(/[\s<].*/,""),a.error("end tag name: "+_+" is not complete:"+b.tagName),v=y+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),a.error("end tag name: "+_+" maybe not complete"),v=y+1+_.length),b.localNSMap),S=b.tagName==_;if(S||b.tagName&&b.tagName.toLowerCase()==_.toLowerCase()){if(i.endElement(b.uri,b.localName,_),w)for(var C in w)i.endPrefixMapping(C);S||a.fatalError("end tag name: "+_+" is not match the current start tagName:"+b.tagName)}else p.push(b);v++;break;case"?":d&&s(y),v=parseInstruction(r,y,i);break;case"!":d&&s(y),v=parseDCC(r,y,i,a);break;default:d&&s(y);var E=new ElementAttributes,A=p[p.length-1].currentNSMap,v=parseElementStartPart(r,y,E,A,o,a),P=E.length;if(!E.closed&&fixSelfClosed(r,v,E.tagName,f)&&(E.closed=!0,n.nbsp||a.warning("unclosed xml attribute")),d&&P){for(var T=copyLocator(d,{}),I=0;I<P;I++){var k=E[I];s(k.offset),k.locator=copyLocator(d,{})}i.locator=T,appendElement(E,i,A)&&p.pri||E.closed?v++:v=parseHtmlSpecialContent(r,v,E.tagName,o,i)}}catch(e){a.error("element parse error: "+e),v=-1}h<v?h=v:t(Math.max(y,h)+1)}}function copyLocator(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function parseElementStartPart(e,t,r,n,i,a){for(var o,s=++t,c=S_TAG;;){var l=e.charAt(s);switch(l){case"=":if(c===S_ATTR)o=e.slice(t,s),c=S_EQ;else{if(c!==S_ATTR_SPACE)throw new Error("attribute equal must after attrName");c=S_EQ}break;case"'":case'"':if(c===S_EQ||c===S_ATTR){if(c===S_ATTR&&(a.warning('attribute value must after "="'),o=e.slice(t,s)),!(0<(s=e.indexOf(l,t=s+1))))throw new Error("attribute value no end '"+l+"' match");u=e.slice(t,s).replace(/&#?\w+;/g,i),r.add(o,u,t-1),c=S_ATTR_END}else{if(c!=S_ATTR_NOQUOT_VALUE)throw new Error('attribute value must after "="');u=e.slice(t,s).replace(/&#?\w+;/g,i),r.add(o,u,t),a.warning('attribute "'+o+'" missed start quot('+l+")!!"),t=s+1,c=S_ATTR_END}break;case"/":switch(c){case S_TAG:r.setTagName(e.slice(t,s));case S_ATTR_END:case S_TAG_SPACE:case S_TAG_CLOSE:c=S_TAG_CLOSE,r.closed=!0;case S_ATTR_NOQUOT_VALUE:case S_ATTR:case S_ATTR_SPACE:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),c==S_TAG&&r.setTagName(e.slice(t,s)),s;case">":switch(c){case S_TAG:r.setTagName(e.slice(t,s));case S_ATTR_END:case S_TAG_SPACE:case S_TAG_CLOSE:break;case S_ATTR_NOQUOT_VALUE:case S_ATTR:"/"===(u=e.slice(t,s)).slice(-1)&&(r.closed=!0,u=u.slice(0,-1));case S_ATTR_SPACE:c===S_ATTR_SPACE&&(u=o),c==S_ATTR_NOQUOT_VALUE?(a.warning('attribute "'+u+'" missed quot(")!!'),r.add(o,u.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===n[""]&&u.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),r.add(u,u,t));break;case S_EQ:throw new Error("attribute value missed!!")}return s;case"Â€":l=" ";default:if(l<=" ")switch(c){case S_TAG:r.setTagName(e.slice(t,s)),c=S_TAG_SPACE;break;case S_ATTR:o=e.slice(t,s),c=S_ATTR_SPACE;break;case S_ATTR_NOQUOT_VALUE:var u=e.slice(t,s).replace(/&#?\w+;/g,i);a.warning('attribute "'+u+'" missed quot(")!!'),r.add(o,u,t);case S_ATTR_END:c=S_TAG_SPACE}else switch(c){case S_ATTR_SPACE:r.tagName;"http://www.w3.org/1999/xhtml"===n[""]&&o.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),r.add(o,o,t),t=s,c=S_ATTR;break;case S_ATTR_END:a.warning('attribute space is required"'+o+'"!!');case S_TAG_SPACE:c=S_ATTR,t=s;break;case S_EQ:c=S_ATTR_NOQUOT_VALUE,t=s;break;case S_TAG_CLOSE:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function appendElement(e,t,r){for(var n=e.tagName,i=null,a=e.length;a--;){var o=e[a],s=o.qName,c=o.value,s=0<(u=s.indexOf(":"))?(l=o.prefix=s.slice(0,u),d=s.slice(u+1),"xmlns"===l&&d):(l=null,"xmlns"===(d=s)&&"");o.localName=d,!1!==s&&(null==i&&(i={},_copy(r,r={})),r[s]=i[s]=c,o.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(s,c))}for(var l,a=e.length;a--;)(l=(o=e[a]).prefix)&&("xml"===l&&(o.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(o.uri=r[l||""]));var u,d=0<(u=n.indexOf("t(e))return/^script$/i.test(r)||(e=e.replace(/&#?\w+;/g,n)),i.characters(e,0,e.length),a}return t+1}function fixSelfClosed(e,t,r,n){var i=n[r];return null==i&&((i=e.lastIndexOf("</"+r+">"))<t&&(i=e.lastIndexOf("</"+r)),n[r]=i),i<t}function _copy(e,t){for(var r in e)t[r]=e[r]}function parseDCC(e,t,r,n){var i=e.charAt(t+2);if("-"===i)return"-"===e.charAt(t+3)?t<(a=e.indexOf("--\x3e",t+4))?(r.comment(e,t+4,a-t-4),a+3):(n.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6))return a=e.indexOf("]]>",t+9),r.startCDATA(),r.characters(e,t+9,a-t-9),r.endCDATA(),a+3;var a,i=split(e,t),n=i.length;return 1<n&&/!doctype/i.test(i[0][0])?(a=i[1][0],e=3<n&&/^public$/i.test(i[2][0])&&i[3][0],t=4<n&&i[4][0],i=i[n-1],r.startDTD(a,e&&e.replace(/^(['"])(.*?)\1$/,"$2"),t&&t.replace(/^(['"]:-1}function ElementAttr?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(his.Name:function(e){if(!tagNamePattern.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,r){if(!tagNamePattern.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:funI:function(e){return this[e].uri},getValue:function(e){oto_.prototype)instanceof _set_proto_||(_set_proto_=function(e,t){function r(){}for(t in r.prototype=t,r=new r,e)r[t]=e[t];return r});var XMLReader_1=XMLReader,sax={XMLReader:XMLReader_1};function copy(e,t){for(var r in e)t[r]=e[r]}function _extends(e,t){var r,n=e.prototype;function i(){}Object.create&&(r=Object.create(t.prototype),n.__proto__=r),n instanceof t||(i.prototype=t.prototype,copy(n,i=new i),e.prototype=n=i),n.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),n.constructor=e)}var htmlns="http://www.w3.org/1999/xhtml",NodeType={},ELEMENT_NODE=NodeType.ELEMENT_NODE=1,ATTRIBUTE_NODE=NodeType.ATTRIBUTE_NODE=2,TEXT_NODE=NodeType.TEXT_NODE=3,CDATA_SECTION_NODE=NodeType.CDATA_SECTION_NODE=4,ENTITY_REFERENCE_NODE=NodeType.ENTITY_REFERENCE_NODE=5,ENTITY_NODE=NodeType.ENTITY_NODE=6,PROCESSING_INSTRUCTION_NODE=NodeType.PROCESSING_INSTRUCTION_NODE=7,COMMENT_NODE=NodeType.COMMENT_NODE=8,DOCUMENT_NODE=NodeType.DOCUMENT_NODE=9,DOCUMENT_TYPE_NODE=NodeType.DOCUMENT_TYPE_NODE=10,DOCUMENT_FRAGMENT_NODE=NodeType.DOCUMENT_FRAGMENT_NODE=11,NOTATION_NODE=NodeType.NOTATION_NODE=12,ExceptionCode={},ExceptionMessage={},INDEX_SIZE_ERR=ExceptionCode.INDEX_SIZE_ERR=(ExceptionMessage[1]="Index size error",1),DOMSTRING_SIZE_ERR=ExceptionCode.DOMSTRING_SIZE_ERR=(ExceptionMessage[2]="DOMString size error",2),HIERARCHY_REQUEST_ERR=ExceptionCode.HIERARCHY_REQUEST_ERR=(ExceptionMessage[3]="Hierarchy request error",3),WRONG_DOCUMENT_ERR=ExceptionCode.WRONG_DOCUMENT_ERR=(ExceptionMessage[4]="Wrong document",4),INVALID_CHARACTER_ERR=ExceptionCode.INVALID_CHARACTER_ERR=(ExceptionMessage[5]="Invalid character",5),NO_DATA_ALLOWED_ERR=ExceptionCode.NO_DATA_ALLOWED_ERR=(ExceptionMessage[6]="No data allowed",6),NO_MODIFICATION_ALLOWED_ERR=ExceptionCode.NO_MODIFICATION_ALLOWED_ERR=(ExceptionMessage[7]="No modification allowed",7),NOT_FOUND_ERR=ExceptionCode.NOT_FOUND_ERR=(ExceptionMessage[8]="Not found",8),NOT_SUPPORTED_ERR=ExceptionCode.NOT_SUPPORTED_ERR=(ExceptionMessage[9]="Not supported",9),INUSE_ATTRIBUTE_ERR=ExceptionCode.INUSE_ATTRIBUTE_ERR=(ExceptionMessage[10]="Attribute in use",10),INVALID_STATE_ERR=ExceptionCode.INVALID_STATE_ERR=(ExceptionMessage[11]="Invalid state",11),SYNTAX_ERR=ExceptionCode.SYNTAX_ERR=(ExceptionMessage[12]="Syntax error",12),INVALID_MODIFICATION_ERR=ExceptionCode.INVALID_MODIFICATION_ERRvar r;return t instan LiveNodeList(e,t){thi{var t,r=e._node._inc||e._node.ownerDocument._inc;e._inc!=r&&(t=e._refresh(e._node),__set__(e,"length",t.length),copy(t,e),e._inc=r)}function NamedNodeMap(){}function _findNodeIndex(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function _addNamedNode(e,t,r,n){n?t[_findNodeIndex(t,n)]=r:t[t.length++]=r,e&&(t=(r.ownerElement=e).ownerDocument)&&(n&&_onRemoveAttribute(t,e,n),_onAddAttribute(t,e,r))}function _removeNamedor(e.tagName+"@"tion _xmlEncoder(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function _visitNode(e,t){if(t(e))returnn.nextSibling=i:e.firstChild=i,null==r?e.lastChild=a:r.previousSibling=a;i.parentNode=e,i!==a&&(i=i.nextSibling););return _onUpdateChild(e.ownerDocument||e,e),t.nodeType==DOCUMENT_FRAGMENT_NODE&&(t.firstChild=t.lastChild=null),t}function _appendSingleChild(e,ttChild,r.removeChild(t),n=e.lastChild),e.lastChild);return t.parentNode=e,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,_onUpdateChild(e.ownerDocument,e,t),t}function Element(){this._nsMap={}}function Attr(){}function CharacterData(){}function Text(){}function Comment(){}function CDATASection(){}function DocumentType(){}function Notation(){}function Entity(){}function EntityReference(){}function DocumentFragment(){}function ProcessingInstruction(){}function XMLSerializer$1(){}functio.prefix||"",i=e.namespaceURI;if(!n&&!i)return!1;if("xml"===n&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var a=r.length;a--;){var o=r[a];if(o.prefix==n)return o.namespace!=i}return!0}function serializeToString(e,t,r,n,i){if(n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case ELEMENT_NODE:i=i||[];var a=e.attributes,o=a.length,s=e.firstChild,c=e.tagName;r=htmlns===e.namespaceURI||r,t.push("<",c);for(var l=0;l<o;l++)"xmlns"==(u=a.item(l)).prefix?i.push({prefix:u.localName,namespace:u.value}):"xmlns"==u.nodeName&&i.push({prefix:"",namespace:u.value});for(var u,d,p,l=0;l<o;l++)needNamespaceDefine(u=a.item(l),r,i)&&(d=u.prefix||"",p=u.namespaceURI,t.push(d?" xmlns:"+d:" xmlns",'="',p,'"'),i.push({prefix:d,namespace:p})),serializeToString(u,t,r,n,i);if(needNamespaceDefine(e,r,i)&&(d=e.prefix||"",p=e.namespaceURI,t.push(d?" xmlns:"+d:" xmlns",'="',p,'"'),i.push({prefix:d,namespace:p})),s||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),r&&/^script$/i.test(c))for(;s;)s.data?t.push(s.data):serializeToString(s,t,r,n,i),s=s.nextSibling;else for(;s;)serializeToString(s,t,r,n,i),s=s.nextSibling;t.push("</",c,">")}else t.push("/>");return;case DOCUMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(s=e.firstChild;s;)serializeToString(s,t,r,n,i),s=s.nextSibling;return;case ATTRIBUTE_NODE:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,_xmlEncoder),'"');case TEXT_NODE:return t.push(e.data.replace(/[<&]/g,_xmlEncoder));case CDATA_SECTION_NODE:return t.push("<![CDATA[",e.data,"]]>");case COMMENT_NODE:return t.push("\x3c!--",e.data,"--\x3e");case DOCUMENT_TYPE_NODE:var c=e.publicId,f=e.systemId;return t.push("<!DOCTYPE ",e.name),void(c?(t.push(' PUBLIC "',c),f&&"."!=f&&t.push('" "',f),t.push('">')):f&&"."!=f?t.push(' SYSTEM "',f,'">'):((c=e.internalSubset)&&t.push(" [",c,"]"),t.push(">")));case PROCESSING_INSTRUCTION_NODE:return t.push("<?",e.target," ",e.data,"?>");case ENTITY_REFERENCE_NODE:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function importNode(e,t,r){var n;switch(t.nodeType){case ELEMENT_NODE:(n=t.cloneNode(!1)).ownerDocument=e;case DOCUMENT_FRAGMENT_NODE:break;case ATTRIBUTE_NODE:r=!0}if((n=n||t.cloneNode(!1)).ownerDocument=e,n.parentNode=null,r)for(var i=t.firstChild;i;)n.appendChild(importNode(e,i,r)),i=i.nextSibling;return n}function cloneNode(e,t,r){var n,i=new t.constructor;for(n in t){var a=t[n];"object"!=typeof a&&a!=i[n]&&(i[n]=a)}switch(t.childNodes&&(i.childNodes=new NodeList),i.ownerDocument=e,i.nodeType){case ELEMENT_NODE:var o=t.attributes,s=i.attribute_ownerElement=i;for(var l=0;l<c;l++)i.setAttributeNode(cloneNode(e,o.item(l),!0));break;case ATTRIBUTE_NOd;u;)i.apotype=Error.prototype,copy(Exth:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)seriaon(e){return _updateLiveList(this),this[e]},_extends(LiveNodeList,NodeList),NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);t=this.getNamedItem(e.nodeName);return _addNamedNode(this._ownerElement,this,e,t),t},setNamion(INUSE_ATTRIBUTt,this,e,t),t},dItemNS:function(e,t){e=this.getNamedItemS:function(e,t)s[e.toLowerCase()];ion=this,n.childNodes=new NodeList,(n.doctype=r)&&n.appendChild(r),t&&(r=n.createElementNS(e,t),n.appendChild(r)),n},createDocumentType:function(e,t,r){var n=new DocumentType;return n.name=e,n.nodeName=e,n.publicId=t,n.systemId=r,n}},Node.prototype={firstChild:null,lastChild:null,prevnull,childNol,namespaceUe:function(e,t){return _insertBefore(this,e,t)},replaceChild:funcChild:functurn cloneNo.firstChild;e;DE&&e.nodeTyp,t)},hasAttributes:;t=t.nodeType==ATTRnull},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&e in r)return r[e];t=t.nodeType==ATTRIBUTE_NODE?t.ownerDocument:t.parentNode}return null},isT_FRAGMENT_NertBefore(t.firstChild;r;)oveChild(this,pe==ELEMENT_NODE&&e.getrDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new NodeList,(t.attributes=new NamedNodeMap)._ownerElement=t},createDocumentFragment:function(){var e=new DocumentFragment;return e.ownerDocument= t.ownerDocument=this,t.appeion:function(e){t){var r=new Processin,r},createAttribnew Element,n=t.splName=t,i._ownerElement=r},createAttributeNS:function(e,t){var r=new Attr,n=t.sr.name=t,r.naName=n[1]):r.localName=t,r}},_extends(Document,Node),Element.prototype={nodeType:Eis.getAttributeNattributes.ghis.setAttributeNode(e)},removeAttribute:function(e){e=this.getAttributeNode(e);e&&this. e.nodeType===DOCUMEis,e)},setAttributfunction(e){rete:function(e){r:function(e,t){etAttributeNodeNS(e,t)},getAttributeNS:function(e,t){e=this.getAttributeNodeNS(e,t);return e&&e.va{return this.attributes)}),r})},getElementsByTagNameNS:function(n,i){return new LiveNodeList(this,function(t){var r=[];return _visitNode(t,function(e){e===t||e.nodeType!==ELEMENT_NODE||"*"!==n&&e.namespaceURI!==n||"*"!==i&&e.localName!=i||r.push(e)}),r})}},Document.prototype.getElementsByTagName=Element.prototype.tsByTagNametotype.node,CharacterDastring(e,e+,this.nodeVaxceptionMessage[HIERARCHY_REQUEST_ERR])},deleteData:function(e,t){this.replaceData(e,t,"")},ext:function(e){var t=(r=this.data).substring(e),r=r.substring(0,e),e=(this.data=this.nodeValue=r,this.length=r.length,this.ownerDocument.createTextNode(t));return this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling),e}},_extends(Text,CharacterData),Comment.prototype={nodeName:"#comment",nodeType:COMMENT_NODE},_extends(Comment,CharacterData),CDATASection.prototype={nodeName:"#cdata-section",nodeType:CDATA_SECTION_NODE},_extends(CDATASection,CharacterData),DocumentType.prototype.nodeType=DOCUMENT_TYPE_NODE,_extends(DocumentType,Node),Notation.prototype.nodeType=NOTATION_NODE,_extends(Notation,Node),Entity.prototype.nodeType=ENTITY_NODE,_extends(Entity,Node),EntityReference.prototype.nodeType=ENTITY_REFERENCE_NODE,_extends(EntityReference,Node),DocumentFragment.prototype.nodeName="#document-fragment",Documents(DocumentFragment,Node),ProcessingInstruction.protTextContent(e){switch(e.nodeType){case ELEMENT_NODE:case DOCUMENT_FRAGMENT_NODE:veType&&t.push(getTextContent(e)),e=e.nextSibling;return t.ect.){case ELEENT_NODE:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),__set__=ystemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function i(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function p(e,t){(e.currentElement||e.doc).appendChiurn e;n=e}var a={},o=n instanceof Function;function t(t){var r=n[t];!r&&o&&(r=2==n.length?function(e){n(t,e)}:n),a[t]=r?function(e){r("[xmldom "+t+"]\t"+e+d(i))}:function(){}}return i=i||{},t("warning"),t("error"),t("fatalError"),a}(a,i,o),n.domBuilder=r.domBuilderg/XML/1998/na),this.currn.getValue(s),r=n.greateAttributeNS(e,r);this.locator&&u(n.getLocator(s)t;n.tagName;this.curntNode},star n;(e=i.apply(this,arguments))&&(n=this.cdata?this.doc.createCDATASection(e):this.doc.creatment.appdDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.lhis,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},eDocumentTy,warning:function(e){console.warn("[xmldom warning]\t"+e,d(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,d(this.locator))},fatalError:function(e){throw or)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){l.prototype[e]=function(){return null}});var f=sax.XMLReader,n=t.DOMImplementation=dom.DOMImplementation;t.XMLSerializr.DOMImplementatalizer,domParser_3=domParser.DOMParser,dom$1=createCvalue:!0});function r(t){return function(e){return e.nodeType===t}}t.isElement=r(1);function n(e){return i(e)||a(e)}var i=t.isText=r(3),a=t.isCdata=r(4),o=t.getChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,t)};t.getText=function(e){return o(e,n).map(function(e){return e.nodeValue}).join("").trim()}}),dom_1=(unwrapExports(dom$1),dom$1.isElement),dom_2=dom$1.isText,dom_3=dom$1.isCdata,dom_4=dom$1.getChildren,dom_5=dom$1.getText,types=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={bool:"b",int:"i",float:"f",time:"t"}}),parseTime=(unwrapExports(types),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=/^\s*(\d+):(\d+):(\d+(?:\.\d+)?)\s*$/;t.default=function(e){if("string"!=typeof e)return null;e=r.exec(e);return null==e?null:60*(60*parseInt(e[1],10)+parseIndefineProperty(t,"__esModule",{v;function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}t.default=(a(t={},r.default.bool,function(e){return"true"===e||"1"===e}),a(t,r.default.int,function(e){return parseInt(e,10)}),a(t,r.default.float,parseFloat),a(t,r.default.time,n.default),t)})),unmarshaler=(unwrapExports(convertors),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e};function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a=(i=convertors)&&i.__esModule?i:{default:i};o=/^[A-Z]+/;var o,s=function(e){return e.replace(o,c)};function c(e){return 1===e.length?e.toLowerCase():e.substr(0,e.length-1).toLowerCase()+e.charAt(e.length-1)}function l(e,t,r){return null!=e[t]&&~e[t].indexOf(r)}function u(ehybrids,e=e.types;if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this._collections=t,this._freeforms=r,this._hybrids=n,this._types=e}r(u,[{key:"unmarshal",value:function(e){return this._createNode(e)}},{key:"_createNode",value:function(e){var t=Object.create(null);return t._value=this._isHybrid(e.nodeName)?e:this._convertPropertyValue((0,dom$1.getText)(e),e.nodeName,"_value"),this._copyAttributes(t,e),this._createCollections(t,e),this._createChildren(t,e),t}},{key:"_createFreeformNode",value:function(e){var t=Object.create(null);return this._copyAttributes(t,e),t._value=e,t}},{key:"_copyAttributes",value:function(e,t){for(var r=t.nodeName,n=0;n<t.attributes.length;++n){var i=t.attributes[n],a=i.nodeName,i=i.nodeValue;e[a]=this._convertPropertyValue(i,r,a)}}},{key:"_createCollections",value:function(t,e){null!=this._collections[e.nodeName]&&this._collections[e.nodeName].forEach(function(e){t[s(e)]=[]})}},{key:"_createChildren",value:function(n,e){var i=this,a=e.nodeName;(0,dom$1.getChildren)(e,dom$1.isElement).forEach(function(e){var t=e.nodeName,r=s(t);i._isFreeformParent(a)?i._isFreeformChild(a,t)&&i._addFreeformChild(e,r,n):i._addNodeChild(e,r,n,a,t)})}},{key:"_addNodeChild",value:function(e,t,r,n,i){e=this._createNode(e);if(null==r[t])r[t]=e;else{if(!this._isCollection(n,i))throw new Error("Multiple values for "+n+"."+i);r[t].push(e)}}},{key:"_addFreeformChild",value:function(e,t,r){r[t]=r[t]||[],r[t].push(this._createFreeformNode(e))}},{ker){t=null!=this._types[t]?this.(e):e}},{key:"_isCollectons,e,t)}},{key:"_isFreeformParent",value:function(e){return null!=this._freeforms[e]}},{key:"_isFreeformChild",value:function(e,t){return l(this._freeforms,e,t)}},{key:"_isHybrid",value:function(e){return 0<=this._hybrids.indexOf(e)}}]),t.default=u})),schema=(unwrapExports(unmarshaler),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=(r=types)&&r.__esModule?r:{default:r};r={Ad:{sequence:r.default.int},AdParameters:{xmlEncoded:r.default.bool},Companion:{width:r.default.int,height:r.default.int,expandedWidth:r.default.int,expandedHeight:r.default.int},Creative:{sequence:r.default.int},Duration:{_value:r.default.time},Icon:{width:r.default.int,height:r.default.int,offset:r.default.time,duration:r.default.time},MediaFile:{bitrate:r.default.int,minBitrate:r.default.int,maxBitrate:r.default.int,width:r.default.int,height:r.default.int,scalable:r.default.bool,maintainAspectRatio:r.default.bool},NonLinear:{width:r.default.int,height:r.default.int,assetWidth:r.default.int,assetHeight:r.default.int,expandedWidth:r.default.int,expandedHeight:r.default.int,scalable:r.default.bool,maintainAspectRatio:r.default.bool,minSuggestedDuration:r.default.time},Pricing:{_value:r.default.float},Wrapper:{followAdditionalWrappers:r.default.bool,allowMultipleAds:r.default.bool,fallbackOnNoAd:r.default.bool}};t.default={collections:{AdVerifications:["Verification"],Companion:["CompanionClickTracking"],CompanionAds:["Companion"],CreativeExtensions:["CreativeExtension"],Creatives:["Creative"],Extensions:["Extension"],Icon:["IconViewTracking"],IconClicks:["IconClickTracking"],Icons:["Icon"],InLine:["Category","Error","Impression","Survey"],MediaFiles:["MediaFile","InteractiveCreativeFile"],NonLinear:["NonLinearClickTracking"],NonLinearAds:["NonLinear"],TrackingEvents:["Tracking"],VAST:["Error","Ad"],Verification:["JavaScriptResource","FlashResource"],ViewableImpression:["Viewable","NotViewable","ViewUndetermined"],VideoClicks:["ClickTracking","CustomClick"],Wrapper:["Impression","Error"]},freeforms:{CreativeExtensions:["CreativeExtenExports(schema);class SortedListItem{constructoreturn this._sequence}set sequence(e){this._sequence=e}}class SortedList{constructor(){this._contents=[]}get lenhis._contents.sort((e,t)=>(e.sequence||0)-(t.sequence||0))}remove(e){let t=this._contents.indexOf(e);for(;0<=t;)this._contee,t)}get(e){return this._contents[e]}clear(){this._contents.length=0}[Symbol.iterator](){const e=this;let t=0;return{next(){return t<e.length?{value:e.get(t++),done:!1}:{value:void 0,done:!0}}}}toArray(){return this._contents.slice()}get $type(){return"SortedList"}}class AbstractAd extends SortedListItem{constructor(){super(),this._id=null,this._conditionalAd=!1,this._adSystem=null,this._impressions=[],this._pricing=null,this._errors=[],this._viewableImpression=null,this._verifications=[],this._extensions=[],this._creatives=new SortedList}get id(){return this._id}set id(e){this._id=e}get conditionalAd(){return this._conditionalAd}set conditionalAd(e){this._conditionalAd=e}get adSystem(){return this._adSystem}set adSystem(e){this._adSystem=e}get impressions(){return this._impressions}get pricing(){return this._pricing}set pricing(e){this._pricing=e}get errors(){return this._errors}get viewableImpression(){return this._viewableImpression}set viewableImpression(e){this._viewableImpression=e}get verifications(){return this._verifications}get extensions(){return this._extensions}get creatives(){return this._creatives}}class InLine extends AbstractAd{constructor(){super(),this._adTitle=null,this._categories=[],this._description=null,this._surveys=[]}get adTitle(){return this._adTitle}set adTitle(e){this._adTitle=e}get categories(){return this._categories}get description(){return this._description}set description(e){this._description=e}get advertiser(){return this._advertiser}set advertiser(e){this._advertiser=e}get surveys(){return this._surveys}get $type(){return"InLine"}}class Wrapper extends AbstractAd{constructor(){super(),this._followAdditionalWrappers=!0,this._allowMultipleAds=!1,this._fallbackOnNoAd=!1,this._vastAdTagURI=null}get followAdditionalWrappers(){return this._followAdditionalWrappers}set followAdditionalWrappers(e){this._followAdditionalWrappers=e}get allowMultipleAds(){return this._allowMultipleAds}set allowMultipleAds(e){this._allowMultipleAackOnNoAd(e){this._fallbackOnNoAd=e}get vastAdTagURI(){return this._vastAdTagURI}set vastAdTagURI(e){this._vastAdTagURI=e}get $type(){return"Wrapper"}}class AbstractClicks{constructor(){this._clickThrough=null,this._clickTrackings=[]}get clickThrough(e){this._clickThrough=e}get clickTrackings(){return this._clickTrackings}}class IconClicks extends AbstractClicks{get $type(){return"IconClicks"}}class VideoClicks extends AbstractClicks{constructor(){super(),this._customClicks=[]}get customClicks(){return this._customClicks}get $type(){return"VideoClicks"}}class AdSystem{constructor(){this._version=null,this._name=null}get version(){return this._version}set version(e){this._version=e}get name(){return this._name}set name(e){this._name=e}get $type(){return"AdSystem"}}class Category{constructor(){this._authority=null,this._code=null}get authority(){return this._authority}set authority(e){this._authority=e}get code(){return this._code}set code(e){this._code=e}get $type(){return"Category"}}class Click{constructor(){this._id=null,this._uri=null}get id(){return this._id}set id(e){this._id=e}get uri(){return this._uri}set uri(e){this._uri=e}get $type(){return"Click"}}class Creative extends SortedListItem{constructor(){super(),this._id=null,this._adID=null,this._apiFramework=null,this._universalAdId=null,this._extensions=[],this._linear=null,this._companionAds=null,this._nonLinearAds=null}get id(){return this._id}set id(e){this._id=e}get adID(){return this._adID}set adID(e){this._adID=e}get apiFramework(){return this._apiFramework}set apiFramework(e){this._apiFramework=e}get universalAdId(){return this._universalAdId}set universalAdId(e){this._universalAdId=e}get extensions(){return this._extensions}get linear(){return this._linear}set linear(e){this._linear=e}get companionAds(){return this._companionAds}set companionAds(e){this._companionAds=e}get nonLinearAds(){return this._nonLinearAds}set nonLinearAds(e){this._nonLinearAds=e}get $type(){return"Creative"}}class Icon{constructor(){this._program=null,this._width=null,this._height=null,this._xPosition=null,this._yPosition=null,this._duration=null,this._offset=null,this._apiFramework=null,this._pxratio=null,this._resource=null,this._clicks=null,this._viewTrackings=[]}get program(){return this._program}set program(e){this._program=e}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e}get duration(){return this._duration}set duration(e){this._duration=e}get offset(){return this._offset}set offset(e){this._offset=e}get apiFramework(){return this._apiFramework}set apiFramework(e){this._apiFramework=e}get pxratio(){return this._pxratio}set pxratio(e){this._pxratio=e}get resource(){return this._resource}set resource(e){this._resource=e}get clicks(){return this._clicks}set clicks(e){this._clicks=e}get viewTrackings(){return this._viewTrackings}get $type(){return"Icon"}}class Impression{constructor(){this._id=null,this._uri=null}get id(){return this._id}set id(e){this._id=e}get uri(){return this._uri}set uri(e){this._uri=e}get $type(){return"Impression"}}class InteractiveCreativeFile{constructor(){this._type=null,this._apiFramework=null,this._url=null}get type(){return this._type}set type(e){this._type=e}get apiFramework(){return this._apiFramework}set apiFramework(e){this._apiFramework=e}get uri(){return this._uri}set uri(e){this._uri=e}get $type(){return"InteractiveCreativeFile"}}class MediaFile{constructor(){this._delivery=null,this._type=null,this._width=null,this._height=null,this._codec=null,this._id=null,this._bitrate=null,this._minBitrate=null,this._maxBitrate=null,this._scalable=!1,this._maintainAspectRatio=!1,this._apiFramework=null,this._uri=null}get delivery(){return this._delivery}set delivery(e){this._delivery=e}get type(){return this._type}set type(e){this._type=e}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}get codec(){return this._codec}set codec(e){this._codec=e}get id(){return this._id}set id(e){this._id=e}get bitrate(){return this._bitrate}set bitrate(e){this._bitrate=e}get minBitrate(){return this._minBitrate}set minBitrate(e){this._minBitrate=e}get maxBitrate(){return this._maxBitrate}set maxBitrate(e){this._maxBitrate=e}get scalable(){return this._scalable}set scalable(e){this._scalable=e}get maintainAspectRatio(){return this._maintainAspectRatio}set maintainAspectRatio(e){this._maintainAspectRatio=e}get apiFramework(){return this._apiFramework}set apiFramework(e){this._apiFramework=e}get uri(){return this._uri}set uri(e){this._uri=e}get $type(){return"MediaFile"}}class Pricing{constructor(){this._model=null,this._currency=null,this._value=null}get model(){return this._model}set model(e){this._model=e}get currency(){return this._currency}set currency(e){this._currency=e}get value(){return this._value}set value(e){this._value=e}get $type(){return"Pricing"}}class Survey{constructor(){this._type=null,this._uri=null}get type(){return this._type}set type(e){this._type=e}get uri(){return this._uri}set uri(e){this._uri=e}get $type(){return"Survey"}}t $type(){return"TrackingEvent"}}class TrackingEventeturn this._map[e]||[]}add(e,t){this._map[e]=this._map[e]||[],this._map[e].push(t)}get $type(){return"TrackingEvents"}}class UniversalAdId{constructor(){this._idRegistry="unknown",this._idValue="unknown",this._creativeIdentifier=null}get idRegistry(){return this._idRegistry}set idRegistry(e){this._idRe){this._idValue=e}get creativeIdentifier(){return this._creativeIdentifier}set creativeIdentifier(e){this._creativeIdentifier=e}get $type(){return"UniversalAdId"}}class AdBuffet{constructor(){this._ads=new SortedList,this._adPod=null}get ads(){return this._ads}get adPod(){return this._adPod}set adPod(e){this._adPod=e}get $type(){return"AdBuffet"}}class VAST extends AdBuffet{constructor(){super(),this._uri._version}set version(e){this._version=e}get errors(){return this._errors}get $type(){return"VAST"}}class Verification{constructor(){this._vendor=null,this._javaScriptResources=[],this._flashResources=[],this._viewableImpression=null}get vendor(){return this._vendor}set vendor(e){this._vendor=e}get javaScriptResources(){return this._jav this._viewableImpression}set viewableImpression(e){this._viewableImpression=e}get $type(){return"Verification"}}class ViewableImpression{constructor(){this._id=null,this._viewables=[],this._notViewables=[],this._viewUndetermineds=[]}get id(){et notViewables(){return this._notViewables}get viewUndetermineds(){return this._viewUndetermineds}get $type(){return"ViewableImpression"}}class CompanionAds{constructor(){this._required=null,this._companions=[],this._xmlElement=null}get required(){return this._required}set required(e){this._required=e}get companions(){return this._companions}get xmlElement(){return this._xmlElement}set xmlElement(e){this._xmlElement=e}get $type(){return"CompanionAds"}}class Companion{constructor(){this._id=null,this._width=null,this._height=null,this._assetWidth=null,this._assetHeight=null,this._expandedWidth=null,this._expandedHeight=null,this._apiFramework=null,this._adSlotID=null,this._pxratio=null,this._resource=null,this._adParameters=null,this._altText=null,this._clickThrough=null,this._clickTrackings=[],this._trackingEvents=null}get id(){return this._id}set id(e){this._id=e}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}get assetWidth(){return this._assetWidth}set assetWidth(e){this._assetWidth=e}get assetHeight(){return this._assetHeight}set assetHeight(e){this._assetHeight=e}get expandedWidth(){return this._expandedWidth}set expandedWidth(e){this._expandedWidth=e}get expandedHeight(){return this._expandedHeight}set expandedHeight(e){this._expandedHeight=e}get apiFramework(){return this._apiFramework}set apiFramework(e){this._apiFramework=e}get adSlotID(){return this._adSlotID}set adSlotID(e){this._adSlotID=e}get pxratio(){return this._pxratio}set pxratio(e){this._pxratio=e}get resource(){return this._resource}set resource(e){this._resource=e}get adParameters(){return this._adParameters}set adParameters(e){this._adParameters=e}get altText(){return this._altText}set altText(e){this._altText=e}get clickThrough(){return this._clickThrough}set clickThrough(e){this._clickThrough=e}get clickTrackings(){return this._clickTrackings}get trackingEvents(){return this._trackingEvents}set trackingEvents(e){this._trackingEvents=e}get $type(){return"Companion"}}class Linear{constructor(){this._skipoffset=null,this._duration=null,this._mezzanine=null,this._mediaFiles=[],this._interactiveCreativeFiles=[],this._adParameters=null,this._videoClicks=null,this._trackingEvents=null,this._icons=[]}get skipoffset(){return this._skipoffset}set skipoffset(e){this._skipoffset=e}get duration(){return this._duration}set duration(e){this._duration=e}get mezzanine(){return this._mezzanine}set mezzanine(e){this._mezzanine=e}get mediaFiles(){return this._mediaFiles}get interactiveCreativeFiles(){return this._interactiveCreativeFiles}get adParameters(){return this._adParameters}set adParameters(e){this._adParameters=e}get videoClicks(){re}get trackingEvents(){return this._trackingEvents}set trackingEvents(e){this._trackingEvents=e}get icons(){return this._icons}get $type(){return"Linear"}}class NonLinearAds{constructor(){this._nonLinears=[],this._trackingEvents=null}get nonLinears(){return this._nonLinears}get trackingEvents(){return this._trackingEvents}set trackingEvents(e){this._trackingEvents=e}get $type(){return"NonLinearAds"}}class NonLinear{constructor(){this._id=null,this._width=null,this._height=null,this._expandedWidth=null,this._expandedHeight=null,this._scalable=!1,this._maintainAspectRatio=!1,this._minSuggestedDuration=null,this._apiFramework=null,this._resource=null,this._adParameters=null,this._clickThrough=null,this._clickTrackings=[]}get id(){return this._id}set id(e){this._id=e}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}get expandedWidth(){return this._expandedWidth}set expandedWidth(e){this._expandedWidth=e}get expandedHeight(){return this._expandedHeight}set expandedHeight(e){this._expandedHeight=e}get scalable(){return this._scalable}set scalable(e){this._scalable=e}get maintainAspectRatio(){return this._maintainAspectRatio}set maintainAspectRatio(e){this._maintainAspectRatio=e}get minSuggestedDuration(){return this._minSuggestedDuration}set minSuggestedDuration(e){this._minSuggestedDuration=e}get apiFramework(){return this._apiFramework}set apiFramework(e){this._apiFramework=e}get resource(){return this._resource}set resource(e){this._resource=e}get adParameters(){return this._adParametkThrough(){return this._clickThrough}set clickThrough(e){this._clickThrough=e}get clickTrackings(){return this._clickTrackings}get $type(){return"NonLinear"}}class AbstractExtension{constructor(){this._type=null,this._xmlElement=null}get type(){return this._type}set type(e){this._type=e}get xmlElement(){return this._xmlElement}set xmlElement(e){this._xmlElement=e}}class CreativeExtension extends AbstractExtension{get $type(){return"CreativeExtension"}}class Extension extends AbstractExtension{get $type(){return"Extension"}}class AbstractResource{constructor(){this._uri=null}get uri(){return this._uri}set uri(e){this._uri=e}}class HTMLResource extends AbstractResource{get $type(){return"HTMLResource"}}class IFrameResource extends AbstractResource{get $type(){return"IFrameResource"}}class StaticResource extends AbstractRe=null}get creativeType(){return this._creativeType}set creativeType(e){this._creativeType=e}get $type(){return"StaticResource"}}class AbstractVerificationResource extends AbstractResource{constructor(){super(),this._apiFramework=null}get apiFramework(){return this._apiFramework}s"FlashResource"}}class JavaScriptResource extends AbstractVerificationResource{get $type(){(){return t$type(){return"AbsoluteTimeOffset"}}class RelativeTimeOffset extends AbstractTimeOffset{get $type(){return"RelativeTimeOffset"}}class AdPod{constructor(){this._ads=new SortedList}get ads(){return this._ads}get $type(){return"AdPod"}}var src=Object.freeze({InLine:InLine,Wrapper:Wrapper,IconClicks:IconClicks,VideoClicks:VideoClicks,AdSystem:AdSystem,Category:Category,Click:Click,Creative:Creative,Icon:Icon,Impression:Impression,InteractiveCreativeFile:InteractiveCreativeFile,MediaFile:MediaFile,Pricing:Pricing,Survey:Survey,TrackingEvent:TrackingEvent,TrackingEvents:TrackingEvents,UniversalAdId:UniversalAdId,VAST:VAST,Verification:Verification,ViewableImpression:ViewableImpression,CompanionAds:CompanionAds,Companion:Companion,Linear:Linear,NonLinearAds:NonLinearAds,NonLinear:NonLinear,CreativeExtension:CreativeExtension,Extension:Extension,HTMLResource:HTMLResource,IFrameResource:IFrameResource,StaticResource:StaticResource,FlashResource:FlashResource,JavaScriptResource:JavaScriptResource,AbsoluteTimeOffset:AbsoluteTimeOffset,RelativeTimeOffset:RelativeTimeOffset,AdBuffet:AdBuffet,AdPod:AdPod,SortedListItem:SortedListItem,SortedList:SortedList}),adSystem=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new src.AdSystem;return t.version=e.version,t.name=e._value,t}}),universalAdId=(unwrapExports(adSystem),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new src.UniversalAdId;return null!=e.idRegistry&&(t.idRegistry=e.idRegistry),null!=e.idValue&&(t.idValue=e.idValue),t.creativeIdentifier=e._value,t}})),creativeExtension=(unwrapExports(universalAdId),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new src.CreativeExtension;return t.type=e.type,t.xmlElement=e._value,t}})),mediaFile=(unwrapExports(creativeExtension),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new src.MediaFile;return t.id=e.id,t.delivery=e.delivery,t.type=e.type,t.bitrate=e.bitrate,t.minBitrate=e.minBitrate,t.maxBitrate=e.maxBitrate,t.width=e.width,t.height=e.height,t.scalable=e.scalable,t.maintainAspectRatio=e.maintainAspectRatio,t.codec=e.codec,t.apiFramework=e.apiFramework,t.uri=e._value,t}})),interactiveCreativeFile=(unwrapExports(mediaFile),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new src.InteractiveCreativeFile;return t.type=e.type,t.apiFramework=e.apiFramework,t.uri=e._value,t}})),staticResource=(unwrapExports(interactiveCreativeFile),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new src.StaticResource;return t.creativeType=e.creativeType,t.uri=e._value,t}})),iframeResource=(unwrapExports(staticResource),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new src.IFrameResource;return t.uri=e._value,t}})),htmlResource=(unwrapExports(iframeResource),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new src.HTMLResource;return t.uri=e._value,t}})),resource=(unwrapExports(htmlResource),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=a(staticResource),n=a(iframeResource),i=a(htmlResource);function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return null!=e.staticResource?(0,r.default)(e.staticResource):null!=e.iFrameResource?(0,n.default)(e.iFrameResource):null!=e.htmlResource?(0,i.default)(e.htmlResource):null}})),click=(unwrapExports(resource),createCommonjsModule(function(e,t){Object.defineProperty(t,"__new src.Click;return t.id=e.id,t.uri=e._value,t}})),isNonEmptyString=(unwrapExports(click),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e&&0<e.length}})),hasValue=(unwrapExports(isNonEmptyString),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r,n=(r=isNonEmptyString)&&r.__esModule?r:{default:r};t.default=function(e){return null!=e&&(0,n.default)(e._value)}})),iconClicks=(unwrapExports(hasValue),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=r(click),i=r(hasValue);function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t,r=new src.IconClicks;return null!=e.iconClickThrough&&(0,i.default)(e.iconClickThrough)&&(r.clickThrough=(0,n.default)(e.iconClickThrough)),null!=e.iconClickTracking&&(t=r.clickTrackings).push.apply(t,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]racking.filter(i.default).map(n.default))),r}})),isNonEmptyArray=(unwrapExports(iconClicks),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Array.isArray(e)&&0<e.length}})),icon=(unwrapExports(isNonEmptyArray),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=r(resource),i=r(click),a=r(iconClicks),o=r(hasValue),s=r(isNonEmptyArray);function r(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return null!=e&&t.indexOf(e)<0?parseInt(e,0):e}t.default=function(e){var t,r=new src.Icon;return r.program=e.program,r.width=e.width,r.height=e.height,r.xPosition=c(e.xPosition,["left","right"]),r.yPosition=c(e.yPosition,["top","bottom"]),r.duration=e.duration,r.offset=e.offset,r.apiFramework=e.apiFramework,r.pxratio=e.pxratio,r.resources=(0,n.default)(e),null!=e.iconClicks&&((0,o.default)(e.iconClicks.iconClickThrough)||(0,s.default)(e.iconClicks.iconClickTracking))&&(r.clicks=(0,a.default)(e.iconClicks)),null!=e.iconViewTracking&&(t=r.viewTrackings).push.apply(t,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e.iconViewTracking.filter(o.default).map(i.default))),r}})),timeOffset=(unwrapExports(icon),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=parseTime)&&r.__esModule?r:{default:r};t.default=function(e,t,r){if("%"===e.charAt(e.length-1))return(n=new src.RelativeTimeOffset).value=parseFloat(e.substr(0,e.length-1)),n;var n=new src.AbsoluteTimeOffset;try{n.value=(0,i.default)(e)}catch(e){t.errorHandler.tryRecover(e)}return n}})),mapTrackingEvents=(unwrapExports(timeOffset),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var u=r(timeOffset),d=r(isNonEmptyString);function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,r){if(null!=e&&Array.isArray(e.tracking)){var n=!0,i=!1,a=void 0;try{for(var o,s=e.tracking[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value;if((0,d.default)(c._value)){var l=new src.TrackingEvent;if(l.uri=c._value,(0,d.default)(c.offset))try{l.offset=(0,u.default)(c.offset)}catch(e){r.errorHandler.tryRecover(e)}t.add(c.event,l)}}}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}}}})),linear=(unwrapExports(mapTrackingEvents),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var o=r(mediaFile),s=r(interactiveCreativeFile),c=r(icon),l=r(click),u=r(timeOffset),d=r(mapTrackingEvents),p=r(isNonEmptyString),f=r(isNonEmptyArray),h=r(hasValue);function r(e){return e&&e.__esModule?e:{default:e}}function g(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}t.default=function(e,t){var r,n,i,e=e.linear,a=new src.Linear;return(0,p.default)(e.skipoffset)&&(a.skipoffset=(0,u.default)(e.skipoffset,t)),null!=e.duration&&(a.duration=e.duration._value),null!=e.mediaFiles&&(null!=e.mediaFiles.mezzanine&&(a.mezzanine=e.mediaFiles.mezzanine._value),null!=e.mediaFiles.mediaFile&&(r=a.mediaFiles).push.apply(r,g(e.mediaFiles.mediaFile.map(o.default))),null!=e.mediaFiles.interactiveCreativeFile&&(r=a.interactiveCreativeFiles).push.apply(r,g(e.mediaFiles.interactiveCreativeFile.map(s.default)))),null!=e.adParameters&&(a.adParameters=e.adParameters._value),null!=e.videoClicks&&(a.videoClicks=new src.VideoClicks,r=e.videoClicks,i=a.videoClicks,null!=r.clickThrough&&(0,h.default)(r.clickThrough)&&(i.clickThrough=(0,l.default)(r.clickThrough)),null!=r.clickTracking&&(n=i.clickTrackings).push.apply(n,g(r.clickTracking.filter(h.default).map(l.default))),null!=r.customClick&&(n=i.customClicks).push.apply(n,g(r.customClick.filter(h.default).map(l.default)))),null!=e.trackingEvents&&(0,f.default)(e.trackingEvents.tracking)&&(a.trackingEvents=new src.TrackingEvents,(0,d.default)(e.trackingEvents,a.trackingEvents,t)),null!=e.icons&&e.icons.icon&&(i=a.icons).push.apply(i,g(e.icons.icon.map(c.default))),a}})),nonLinear=(unwrapExports(linear),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=r(resource),i=r(click),a=r(hasValue);function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t,r=new src.NonLinear;return r.id=e.id,r.width=e.width,r.height=e.height,r.expandedWidth=e.expandedWidth,r.expandedHeight=e.expandedHeight,r.scalable=e.scalable,r.maintainAspectRatio=e.maintainAspectRatio,r.minSuggestedDuration=e.minSuggestedDuration,r.apiFramework=e.apiFramework,r.resource=(0,n.default)(e),null!=e.adParameters&&(r.adParameters=e.adParameters._value),null!=e.nonLinearClickThrough&&(0,a.default)(e.nonLinearClickThrough)&&(r.clickThrough=(0,i.default)(e.nonLinearClickThrough)),null!=e.nonLinearClickTracking&&(t=r.clickTrackings).push.apply(t,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e.nonLinearClickTracking.filter(a.default).map(i.default))),r}})),nonLinearAds=(unwrapExports(nonLinear),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=r(nonLinear),i=r(mapTrackingEvents),a=r(isNonEmptyArray);function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t,e=e.nonLinearAds,r=new src.NonLinearAds;return null!=e.nonLinear&&(t=r.nonLinears).push.apply(t,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e.nonLinear.map(n.default))),null!=e.trackingEvents&&(0,a.default)(e.trackingEvents.tracking)&&(r.trackingEvents=new src.TrackingEvents,(0,i.default)(e.trackingEvents,r.trackingEvents)),r}})),companion=(unwrapExports(nonLinearAds),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=r(click),i=r(resource),a=r(mapTrackingEvents),o=r(isNonEmptyArray),s=r(hasValue);function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t,r=new src.Companion;return r.id=e.id,r.width=e.width,r.height=e.height,r.assetWidth=e.assetWidth,r.assetHeight=e.assetHeight,r.expandedWidth=e.expandedWidth,r.expandedHeight=e.expandedHeight,r.apiFramework=e.apiFramework,r.adSlotID=e.adSlotID,r.pxratio=e.pxratio,r.resource=(0,i.default)(e),null!=e.adParameters&&(0,s.default)(e.adParameters)&&(r.adParameters=e.adParameters._value),null!=e.altText&&(0,s.default)(e.altText._value)&&(r.altText=e.altText._value),null!=e.companionClickThrough&&(0,s.default)(e.companionClickThrough)&&(r.clickThrough=(0,n.default)(e.companionClickThrough)),null!=e.companionClickTracking&&(t=r.clickTrackings).push.apply(t,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e.companionClickTracking.filter(s.default).map(n.default))),null!=e.trackingEvents&&(0,o.default)(e.trackingEvents.tracking)&&(r.trackingEvents=new src.TrackingEvents,(0,a.default)(e.trackingEvents,r.trackingEvents)),r}})),companionAds=(unwrapExports(companion),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r,n=(r=companion)&&r.__esModule?r:{default:r};t.default=function(e){var t,e=e.companionAds,r=new src.CompanionAds;return r.required=e.required,null!=e.companion&&(t=r.companions).push.apply(t,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e.companion.map(n.default))),r.xmlElement=e._value,r}})),creative=(unwrapExports(companionAds),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=r(universalAdId),a=r(creativeExtension),o=r(linear),s=r(nonLinearAds),c=r(companionAds);function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var r,n=new src.Creative;return n.id=e.id,n.sequence=e.sequence,n.adID=e.AdID||e.adID||e.adId,n.apiFramework=e.apiFramework,null!=e.universalAdId&&(n.universalAdId=(0,i.default)(e.universalAdId)),null!=e.creativeExtensions&&e.creativeExtensions.creativeExtension&&(r=n.extensions).push.apply(r,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e.creativeExtensions.creativeExtension.map(a.default))),null!=e.linear?n.linear=(0,o.default)(e,t):null!=e.nonLinearAds&&(n.nonLinearAds=(0,s.default)(e)),null!=e.companionAds&&(n.companionAds=(0,c.default)(e)),null==n.linear&&null==n.nonLinearAds&&null==n.companionAds&&t.errorHandler.tryRecover("Creative has no ads"),n}})),extension=(unwrapExports(creative),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new src.Extension;return t.type=e.type,t.xmlElement=e._value,t}})),impression=(unwrapExports(extension),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new src.Impression;return t.id=e.id,t.uri=e._value,t}})),pricing=(unwrapExports(impression),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new src.Pricing;return t.model=e.model,t.currency=e.currency,t.value=e._value,t}})),viewableImpression=(unwrapExports(pricing),createCommonjsModule(function(e,t){function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r=new src.ViewableImpression;return r.id=e.id,null!=e.viewable&&(t=r.viewables).push.apply(t,n(e.viewable.map(function(e){return e._value}))),null!=e.notViewable&&(t=r.notViewables).push.apply(t,n(e.notViewable.map(function(e){return e._value}))),null!=e.viewUndetermined&&(t=r.viewUndetermineds).push.apply(t,n(e.viewUndetermined.map(function(e){return e._value}))),r}})),javascriptResource=(unwrapExports(viewableImpression),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new src.JavaScriptResource;return t.apiFramework=e.apiFramework,t.uri=e._value,t}})),flashResource=(unwrapExports(javascriptResource),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new src.FlashResource;return t.apiFramework=e.apiFramework,t.uri=e._value,t}})),verification=(unwrapExports(flashResource),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=r(javascriptResource),i=r(flashResource);function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}t.default=function(e){var t,r=new src.Verification;return r.vendor=e.vendor,null!=e.javaScriptResource&&(t=r.javaScriptResources).push.apply(t,a(e.javaScriptResource.map(n.default))),null!=e.flashResource&&(t=r.flashResources).push.apply(t,a(e.flashResource.map(i.default))),null!=e.viewableImpression&&(r.viewableImpression=e.viewableImpression._value),null!=e.verificationParameters&&(r.parameters=e.verificationParameters._value),r}})),ad=(unwrapExports(verification),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=n(adSystem),a=n(creative),o=n(extension),s=n(impression),c=n(pricing),l=n(viewableImpression),u=n(verification),r=n(isNonEmptyString);function n(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function p(e){return null!=e&&(0,r.default)(e._value)}t.default=function(e,t,r,n){return r.id=e.id,r.conditionalAd=e.conditionalAd,r.sequence=e.sequence,null!=t.adSystem&&(r.adSystem=(0,it.impression&&(e=r.impressions).push.apply(e,d(t.impression.filter(p).map(s.default))),null!=t.pricing&&(r.pricing=(0,c.default)(t.pricing)),null!=t.error&&(e=r.errors).push.apply(e,d(t.error.filter(p).map(function(e){return e._value}))),null!=t.viewableImpression&&(r.viewableImpression=(0,l.default)(t.viewableImpression)),null!=t.adVerifications&&t.adVerifications.verification.forEach(function(e){try{var t=(0,u.default)(e,n);r.verifications.push(t)}catch(e){n.errorHandler.tryRecover(e)}}),null!=t.extensions&&(e=r.extensions).push.apply(e,d(t.extensions.extension.map(o.default))),null!=t.creatives&&t.creatives.creative.forEach(function(e){try{var t=(0,a.default)(e,n);r.creatives.add(t)}catch(e){n.errorHandler.tryRecover(e)}}),r}})),category=(unwrapExports(ad),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{ty=e.authority,t.code=e._value,t}})),survey=(unwrapExports(category),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new src.Survey;return t.t"__esModule",{value:!0});var i=r(ad),a=r(category),o=r(survey);function r(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=efault=function(e,t){var r=new src.InLine,n=e.inLine;return(0,i.default)(e,n,r,t),r.adTitle=null!=n.adTitle?n.adTitle._value:null,null!=n.category&&(e=r.categories).push.apply(e,s(n.category.filter).map(a.default))),r.description=null!=n.description?n.description._value:null,r.advertiser=null!=n.advertiser?n.advertiser._value:null,null!=n.survey&&(t=r.surveys).push.apply(t,s(n.survey.filter(function(e){return 0<e._value.length}).map(o.default))),r}})),wrapper=(unwrapExports(inLine),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=ad)&&r.__esModule?r:{default:r};t.default=function(e,t){var r=new src.Wrapper,n=e.wrapper;return(0,i.default)(e,n,r,t),null!=n.followAdditionalWrappers&&(r.followAdditionalWrappers=n.followAdditionalWrappers),null!=n.allowMultipleAds&&(r.allowMultipleAds=n.allowMultipleAds),r.fallbackdTagURI?n.vastAdTagURI._value:null,r}})),ad$2=(unwrapExports(wrapper),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=i(inLine),n=i(wrapper);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(null!=e.inLor]();!(i=(o=s.next()).done)&&(n.push(o.value),!r||n.length!==r);i=!0);}catch(e){t=!0,a=e}finally{try{!i&&s.return&&s.return()}fina_esModule?r:{default:r};t.default=function(e,t){vsion=e.version,(n=r.errors).push.apply(n,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e.error.map(function(e){return e._value}).filter(function(e){return""!==e}))),function(e){for(var t=[],r=[],n=0;n<e.length;++n){var i=e[n];(void 0!==i.sequence?t:r).push(i)}return[t,r]}(e.ad)),n=c(n,2),i=n[0],a=n[1];if(0<i.length)if(t.noSingleAdPods&&1===e.ad.length&&1===i.leng;s++)r.ads.add((0,l.default)(a[s],t));return r}})),errorCodes=(unwrapExports(vast),createCommonjsModule(functiendableBuiltin(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}unwrapExports(errorCodes);var ExtendableError=function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=(_classCallCheck(this,r),_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e)));return Object.defineProperty(t,"message",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(t,"name",{configurable:!0,enumerable:!1,value:t.constructor.name,writable:!0}),Error.hasOwnProperty("captureStackTrace")?(Error.captureStackTrace(t,t.constructor),_possibleConstructorReturn(t)):(Object.defineProperty(t,"stack",{configurable:!0,enumerable:!1,value:new Error(e).stack,writable:!0}),t)}return _inherits(r,_extendableBuiltin(Error)),r}(),vastParserError=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=functio instanceof r))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return e.code=t,e.name="VASTParserError",e}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r}(((r=ExtendableError)&&r.__esModule?r:{default:r}).default);t.default=r}),errorHandler=(unwrapExports(vastParserError),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e};function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=o(errorCo(s,[{key:"failWithErrorCofault)t(e,i.default.VAST_SCHEMA_VALIDATION_ERROR)}},{key:"tryRecover",value:function(e){this._strictMode&&this.fail(e)}}]);r=s;function s(e){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._strictMode=e}t.default=r})),parse$4=(unwrapExports(errorHandler),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=r(unmarshaler),o=r(schema),s=r(vast),c=r(errorCodes),l=r(errorHandler);function r(e){return e&&e.__esModule?e:{default:e}}var u={strict:!1,noSingleAdPods:!1};t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=((t=Object.assign({},u,t)).errorHandler=new l.default(t.strict),r=t,0<(n=null!=(n="string"==typeof(n=e)?(r.domParser||new DOMParser).parseFromString(n,"text/xml"):n).documentElement?n.documentElement:n).getElementsByTagName("parsererror").length&&r.errorHandler.failWithErrorCode("XML parsing error",c.default.XML_PARSING_ERROR),n),n=new a.default(o.default);try{var i=n.unmarshal(r);return(0,s.default)(i,t)}catch(e){t.errorHandler.fail(e)}}})),lib=(unwrapExports(parse$4),createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r,n=(r=pars==arguments[1]?arguments[1]:{};return null==t.domParser&&(t.domParser=new domParser.DOMParser),(0,n.default)(e,t)}})),parseVAST=unwrapExports(lib);function arrayPush(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var _arrayPush=arrayPush,argsTag="[object Arguments]";function baseIsArguments(e){return isObjectLike_1(e)&&_baseGetTag(e)==argsTag}var _baseIsArumerable=objectProto$5.propertyIsEnumerable,isArguments=_baseIsArguments(function(){rpropertyIsEnumerable.call(e,"caladableSymbol])}var _isFlatte.length;for(r=r||_isFlattes):n||(i[i.length]=s)}return i}var _baseFlatten=baseFlatten;function stackClear(){this.__data__=new _ListCache,this.size=0}var _stackClear=stackClear;function stackDelete(e){var t=this.__data__tackSet(e,t){var r=thingth<LARGE_ARRAY_SIZE-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new _MapCache(n)}return r.set(e,t),this.size=r.size,this}var _stackSet=stackSet;function Stack(e){e=this.__data__=new _ListCache(e);thiskDelete,Stack.prototype.get=pe.set=_stackSet;var _Stack=_UNDEFINED$2),this}var _setCacheAdd=setCacheAdd;function setCacheHas(e){return this.__data__.has(e)}var _setCacheHas=s;)this.add(e[t])}SetCach_setCacheAdd,SetCache.prototype.has=_setCacheHas;var _SetCache=SetCache;function arraySome(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var _arraySome=arraySome;function cacheHas(e,t){return e.has(t)}var _cacheHas=cacheHas,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function equalArrays(e,t,r,n,i,a){var o=r&COMPARE_PARTIAL_FLAG,s=e.length,c=t.length;if(s!=c&&!(o&&s<c))return!1;var c=a.get(e),l=a.get(t);if(c&&l)oid 0;for(a.set(e,t),a.set(t,e);++u<s;){var f,h=e[u],g=t[u];if(void 0!==(f=n?o?n(g,h,u,t,e,a):n(h,g,u,e,t,a):f)){if(f)continue;d=!1;break}if(p){if(!_arraySome(t,function(e,t,r,n,a)){d=!1;break}}returt8Array=Uint8Array$1;function mapToArray(e){var r=-1,n=Array(e.size);return e.forEach(function(e,t){n[++r]=[t,e]}),n}var _mapToArray=mapToArray;function setToArray(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var _setToArray=setToArray,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto$1=_Symbol?_Symbol.prototype:void 0,symbolValueOf=symbolProto$1?symbolProto$1.valueOf:void 0;function equalByTag(e,t,r,n,i,a,o){switch(r){case dataViewTag:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case arrayBufferTag:return e.byteLength==t.byteLength&&a(new _Uint8Array(e),new _Uint8Array(t))?!0:!1;case boolTag:case dateTag:case numberTag:return eq_1(+e,+t);case errorTag:return e.name==t.name&&e.message==t.message;case regexpTag:case stringTag:return e==t+"";case mapTag:var s=_mapToArray;case setTag:s=s||_setToArray;if(e.size!=t.size&&!(n&COMPARE_PARTIAL_FLAG$1))return!1;var c=o.get(et),n,i,a,o);return o.delete(e),c;cg;function baseGetAllKeys(e,?t:_arrayPush(t,r(e))}var _baseGetAllKeys=baseGetAllKeys;function arrayFilter(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}var _arrayFilProto$6.propertyIsEnumerable,nativen(t){return null==t?[]:(GetSymbols(t),function(e){return propertyIsEnumerable$1.cunction stubFalse(){return!1}var stubFalse_1=stubFalse,isBufferd 0;e.exports=t||stubFalse_1}),MAX_SAFE_INTEGER=90071992=null==t?MAX_SAFE_INTEGER:t)&&("number"==r||"symbol"!=r&&reIsUint.test(e))&&-1<e&&e%1==0&&e<t}var _isIndex=isIndex,MAX_SAFE_INTEGER$1=9007199254740991;function isLength(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=MAX_SAFE_INTEGER$1}var isLength_1=isLength,argsTag$1="[object Arguments]",arrayTag="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag$1="[object Function]",mapTag$1="[object Map]",numberTag$1="[object Number]",objectTag="[object Object]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag$1="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[objectClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray(e){return isObjectLike_1(e)&&isLength_1(e.length)&&!!typedArrayTags[_baseGetTag(e)]}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcT$1]=typedArrayTags[objectTag]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$1]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag]=!1;var _baseIsTypedAateCommonjsModule(function(e,t){var t=t&&!t.nodeType&&t,r=t&&e&&!e.nodeType&&e,n=r&&r.exports===t&&_freeGlobal.process,t=function(){try{var e=r&&r.require&&r.require("util").types;return e?e:n&&n.binding&&n.binding("util")}catch(e){}}();e.exports=t}|i||a||o,c=s?_baseTimes(e.length,String):[],l=c.length;for(r inth"==r||"byteOffset"==r)||_iikeKeys,objectProto$8=Object.prototype;function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||objectProto$8)}var _isProtobjectProto$9=Object.prisPrototype(e))return _nativeKeys(e);var t,r=[];for(t in Object(e))hasOwnProperty$6.call(e,t)&&"constructor"!=t&&r.push(t);return r}var _baseKeys=baseKeys;function isArrayLike(e){return null!=e&&isLength_1(e.length)&&!isFunction_1(e)}var isArrayLike_1=isArrayLike;function keys$1(e){return(isArrayLike_1(e)?_arrayLikeKeys:_baseKeys)(e)}var keys_1=keys$1;function getAllKeys(e){return _baseGetAllKeys(e,keys_1,_getSymbols)}var _getAllKeys=getAllKeys,COMPARE_PARTIAL_FLAG$2=1,objectProto$a=Object.prototype,hasOwnProperty$7=objectProto$a.hasOwnProperty;function equalObjects(e,t,r,n,i,a){var o=r&COMPARE_PARTIAL_FLAG$2,s=_getAllKeys(e),c=s.length;if(c!=_getAllKeys(t).length&&!o)return!1;for(var l=c;l--;){var u=s[l];if(!(o?u in t:hasOwnProperty$7.call(t,u)))return!1}var d=a.get(e),p=a.get(t);if(d&&p)return d==t&&p==e;for(var f=!0,h=(a.set(e,t),a.set(t,e),o);++l<c;){var g,m=e[u=s[l]],y=t[u];if(!(void 0===(g=n?o?n(y,m,u,t,e,a):n(m,y,u,e,t,a):g)?m===y||i(m,y,r,n,a):g)){f=!1;break}h=h||"constructor"==u}return f&&!h&&(d=e.constructor)!=(p=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof d&&d instanceof d&&"function"==typeof p&&p instanceof p)&&(f=!1),a.delete(e),a.delete(t),f}var _equalObjects=equalObjects,DataView$1=_getNative(_root,"DataView"),_DataView=DataView$1,Promise$1=_getNative(_root,"Promise"),_Promise=Promise$1,Set$1=_getNative(_root,"Set"),_Set=Set$1,WeakMap$1=_getNative(_root,"WeakMap"),_WeakMap=WeakMap$1,mapTag$2="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$2="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=_toSource(_DataView),mapCtorString=_toSource(_Map),promiseCtorString=_toSource(_Promise),setCtorString=_toSource(_Set),weakMapCtorString=_toSource(_WeakMap),getTag=_baseGetTag,_getTag=((_DataViurce(e):"";if(e)switch(e){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$2;case promiseCtorString:return promiseTag;case setCtorString:return setTag$2;case weakMapCtorString:return weakMapTag$1}return t}),getTag),COMPARE_PARTIAL_FLAG$3=1,argsTag$2="[object Arguments]",arrayTag$1="[object Array]",objectTag$2="[object Object]",objectProto$b=Object.prototype,hasOwnProperty$8=objectProto$b.hasOwnProperty;function baseIsEqualDeep(e,t,r,n,i,a){var o=isArray_1(e),s=isArray_1(t),c=o?arrayTag$1:_getTag(e),s=s?arrayTag$1:_getTag(t),l=(c=c==argsTag$2?objectTag$2:c)==objectTag$2,u=(s=s==argsTag$2?objectTag$2:s)==objectTag$2,s=c==s;if(s&&isBuffer_1(e)){if(!isBuffer_1(t))return!1;l=!(o=!0)}if(s&&!l)return a=a||new _Stack,o||isTypedArray_1(e)?_equalArrays(e,t,r,n,i,a):_equalByTag(e,t,c,r,n,i,a);if(!(r&COMPARE_PARTIAL_FLAG$3)){o=l&&hasOwnP||new _Stack,_equalObjects(e,t,r,n,i,a))}var _baseIsEqualDeep=baseIsEqualDeep;function baseIsEqual(e,t,r,n,i){return e===t||(null==e||null==t||!isObjectLike_1(e)&&!isObjectLike_1(t)?e!=e&&t!=t:_baseIsEqualDeep(e,t,r,n,baseIsEqual,i))}var _baseIsEqual=baseIsEqual,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2;function baseIsMatch(e,t,r,n){var i=r.length,a=i,o=!n;if(null==e)return!a;for(e=Object(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var c=(s=r[i])[0],l=e[c],r d,p=new _Stack;if(!(void 0===(d=n?n(l,u,eIsMatch;function isStrictCompkeys_1(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n in Object(e)))}}var _matcheatches(t){var r=_getMatc hasPath(e,t,r){for((t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=nMatchesProperty(r,n){return _isKey(r)&&_isStomparable(_toKey(r),n):function(e){var t=get_1(e,r);return void 0===t&&t===n?hasIn_1(e,r):_baseIsEqual(n,t,COMPARE_PARTIAL_FLAG$ty;function identity$1(e){return e}vard 0:e[t]}}var _basePropseProperty(_toKey(e)):_baseProesProperty(e[0],e[1]):_baseMatches(e):property_1(e)}var _baseIteratee=base{for(var n=-1,i=Object(e),seFor(e,t,keys_1)}var _baseForOwn=baseForOwn;function createBaseEach(a,o){return function(e,n,i););return e}}vabaseEach;funcgth):[];return _baseEach(e,function(e,t,r){a[++i]=n(e,t,r)}),a}var _baseMap=baseMap;function map(e,t){return(isArray_1(e)?_arrayMap:_baseMap)(e,_baseIteratee(t,3))}var map_1=map;function flatMap(e,t){return _baseFlatten(map_1(e,t),1)}var flatMap_1=flatMap,htmlUnescappeHtmlChar=unescapeHtmlChar,relength||r[0]!==t)return!1;if(!Object.prototype.propertyIs)return!1}return!0},origSymbol="undefined"!=typeof Symbol&&Symbol,hasSymbols=function(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"==typeof origSymbol("foo")&&("symbol"==typeof Symbol("bar")&&shams())))},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice=Array.prototype.slice,toStr=Object.prototype.toString,funcType="[object Function]",implementation=function(t){var r=this;if("function"!=typeof r||toStr.call(r)!==funcType)throw n,"return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(function(){var e;return this instanceof n?(e=r.apply(this,i.concat(slice.call(arguments))),Object(e)===e?e:this):r.apply(t,i.concat(slice.call(arguments)))}),r.prototype&&((e=function(){}).prototype=r.prototype,n.prototype=new e,e.prototyction.call,Object.prototype.hasOwnProperty),undefined$1,$SyntaxError=SyntaxError,$Function=Function,$Tyructor=function(e){trOPD)try{$gOPD({},"")}catch(e){$gOPD=null}var throwTypeError=function(){throw new $TypeError},ThrowTypeError=$gOPD?function(){try{return throwTypeError}catch(e){try{return $gOPD(arguments,"callee").get}catch(e){return throwTypeError}}}():throwTypeError,hasSymbols$1=hasSymbols(),getProto=Object.getPrototypeOf||function(e){return e.__proto__},needsEval={},TypedArray="undefined"==typeof Uint8Array?undefined$1:getProto(Uint8Array),INTRINSICS={"%AggregateError%":"undefined"==typeof AggregateError?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$1?getProto([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":"undefined"==typeof Atomics?undefined$1:Atomics,"%BigInt%":"undefined"==typeof BigInt?undefined$1:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?undefined$1:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?undefined$1:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":"undefined"==typeof Int8Array?undefined$1:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?undefined$1:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$1?getProto(getProto([][Symbol.iterator]())):undefined$1,"%JSON%":"object"==typeof JSON?JSON:undefined$1,"%Map%":"undefined"==typeof Map?undefined$1:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols$1?getProto((new Map)[Symbol.iterator]()):undefined$1,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?undefined$1:Promise,"%Proxy%":"undefined"==typeof Proxy?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?undefined$1:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols$1?getProto((new Set)[Symbol.iterator]()):undefined$1,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$1?getProto(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols$1?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError,"%Uint8Array%":"undefined"==typeof Uint8Array?undefined$1:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?undefined$1:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?undefined$1:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?undefined$1:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?undefined$1:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?undefined$1:WeakSet},doEval=function e(t){var r,n;return"%AsyncFunction%"===t?r=getEvalledConstructor("async function () {}"):"%GeneratorFunction%"===t?r=getEvalledConstructor("function* () {}"):"%AsyncGeneratorFunction%"===t?r=getEvalledConstructor("async function* () {}"):"%AsyncGenerator%"===t?(n=e("%AsyncGeneratorFunction%"))&&(r=n.prototype):"%AsyncIteratorPrototype%"===t&&(n=e("%AsyncGenerator%"))&&(r=getProto(n.prototype)),INTRINSICS[t]=r},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},$concat=functionBind.call(Function.call,Array.prototype.concat),$spliceApply=functionBind.call(Function.apply,Array.prototype.splice),$replace=functionBind.call(Function.call,String.prototax, expected cloSICS[n];if(void 0!==(i=i===needsEval?doEval(n):i)||t)return{alias:r,name:n,value:i};throw new $TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!")}throw new $SyntaxError("intrinsic "+e+" does not exist!")},getIntrinsic=function(e,t){if("string"!=typeof e||0===e.length)throw new $TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof t)throw new $TypeError('"allowMissing" argument must be a boolean');var r=stringToPath$1(e),n=0<r.length?r[0]:"",i=getBaseIntrinsic("%"+n+"%",t),a=(i.name,i.value),o=!1,i=i.alias;i&&(n=i[0],$spliceApply(r,$concat([0,1],i)));for(var s=1,c=!0;s<r.length;s+=1){var l=r[s],u=$strSlice(l,0,1),d=$strSlice(l,-1);if(('"'===u||"'"===u||"`"===u||'"'===d||"'"===d||"`"===d)&&u!==d)throw new $SyntaxError("property names with quotes must have matching quotes");if("constructor"!==l&&c||(o=!0),src$1(INTRINSICS,u="%"+(n+="."+l)+"%"))a=INTRINSICS[u];else if(null!=a){if(!(l in a)){if(t)return;throw new $TypeError("base intrinsic for "+e+" exists, but the property is not available.")}a=$gOPD&&s+1>=r.length?(c=!!(d=$gOPD(a,l)))&&"get"in d&&!("originalValue"in d.get)?d.get:a[l]:(c=src$1(a,l),a[l]),c&&!o&&(INTRINSICS[u]=a)}}return a},callBind=createCommonjsModule(function(e){var t=getIntrinsic("%Function.prototype.apply%"),r=getIntrinsic("%Function.prototype.call%"),n=getIntri{value:1})}catch(e){a=null}e.exports=function(e){var t=n(functionBind,r,arguments);return i&&a&&i(t,"length").configurable&&a(t,"length",{value:1+o({value:s}):e.exports.apply=s}),callBind_1=callBind.apply,$indexOf=callBind(getIntrinsic("String.prototype.indexOf")),callBound=function(e,t){t=getIntrinsic(e,!!t);return"function"==typeof t&&-1<$indexOf(e,".prototype.")?callBind(t):t};functimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return(cachedSetTimeout=setTimeout)(t,0);try{return cachedSetTimeout(t,0)}catch(e){try{return cachedSetTimeout.call(null,t,0)}catch(e){return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return(cachedClearTimeout=clearTimeout)(t);try{return cachedClearTimeout(t)}catch(e){try{return cachedClearTimeout.call(null,t)}catch(e){rTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){for(var e=runTimeout(cleanUpNextTick),t=(draining=!0,queue.length);t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining{var t=new Array(a(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(e,t){this.fun=e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser=!0,env={},argv=[],version="",versions={},releer=noop,removeAllListeners=noop,emit=noop;function binding(e){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(e){throw new Error("process.chdir |performance.oNow||pertTime()};function hrtime(e){var t=.001*performanceNow.call(performance),r=Math.floor(t),t=Math.floor(t%1*1e9);return e&&(r-=e[0],(t-=e[1])<0&&(r--,t+=1e9)),[r,t]}var startTime=new Date;function uptime(){return(new Date-startTime)/1e3}var process={nextTick:nextTick,title:title,browser:browser,env:env,argv:argv,version:version,versions:versions,on:on,addListener:addListener,once:once$1,off:off,removeListener:remotion(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;function r(){}r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},in.replace(formatRegExp,function(e){if("%%"===e)return"%";if(i<=r)return e;switch(e){+o:a+=" "+inspect(o);return a}function deprecate(e,t){if(isUndefined(global.process))return function(){return deprecate(e,t).apply(this,arguments)};var r=!1;return function(){return r||(console.error(t),r=!0),e.andefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),t=t.toUpperCase(),debugs[t]||(new RegExp("\\b"+t+"\\b","i").test(debugEnviron)?debugs[t]=function(){var e=format.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:debugs[t]=function(){}),debugs[t]}function inspect(e,t){var r={seen:[],stylize:stylizeNoColor};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),isBoolean(t)?r.showHidden=t:t&&_extend(ron stylizeWithColor(e,t){t=inspect.styles[t];return t?"["+inspect.colors[t][0]+"m"+e+"["+inspect.colors[t][1]+"m":e}function stylizeNoColor(e,t){return e}function arrayToHash(e){var r={};return e.forEach(function(e,t){r[e]=!0}),r}function formatValue(t,r,n){if(t.customInspect&&r&&isFunction$1(r.inspect)&&r.inspect!==inspect&&(!r.constructor||r.constructor.prototype!==r))return isString(e=r.inspect(n,t))?e:formatValue(t,e,n);var e=formatPrimitive(t,r);if(e)return e;var e=Object.keys(r),i=arrayToHash(e);if(t.showHidden&&(e=Object.getOwnPropertyNames(r)),isError(r)&&(0<=e.indexOf("message")||0<=e.indexOf("description")))return formatError(r);if(0===e.length){if(isFunction$1(r))return a=r.name?": "+r.name:"",t.stylize("[Function"+a+"]","special");if(isRegExp(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return t.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var a="",o=!1,s=["{","}"];return isArray$3(r)&&(o=!0,s=["[","]"]),isFunction$1(r)&&(a=" [Function"+(r.name?": "+r.name:"")+"]"),isRegExp(r)&&(a=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(a=" "+Date.prototype.tor(r)),0!==e.length||o&&0!=r.length?n<0?isRegExp(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),e=o?formatArray(t,r,n,i,e):e.map(function(e){return formatProperty(t,r,n,i,e,o)}),t.seen.pop(),reduceToSingleString(e,a,s)):s[0]+a+s[1]}function formatPrimitive(e,t){return isUndefined(t)?e.stylize("undefined","undefined"):isString(t)?(r/))return s;o=(o=JSON.stringify(""+i)).match(/^"([a-zce(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),e.stylize(o,"string"))}return o+": "+s}function reduceToSingleString(e,t,r){return 60<e.reduce(function(e,t){return t.indexOf,"").length+1},0)?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function isArray$3(e){return Array.isArray(e)}function isBoolean(e){return"boolll===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"nu"===objectToString$1(e)||e instanceof Erroe||"string"==typeof e||"symbol"==typeof e||void 0===e}function isBuffer(e){return Buffer.isBuffer(e)}function objectToString$1(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yel),format.apply(null,arguments))}function _extend(e,t){if(!t||!isObject$1(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function hasOwnProperty$9(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var require$$0={inherits:inherits$1,_extend:_extend,log:log,isBuffer:isBuffer,isPrimitive:isPrimitive,isFunction:isFunction$1,isError:isError,isDate:isDate,isObject:isObject$1,isRegExp:isRegExp,isUndefined:isUndefined,isSymbol:isSymbol$1,isString:isString,isNumber:isNumber,isNullOrUndefined:isNullOrUndefined,isNull:isNull,isBoolean:isBoolean,isArray:isArray$3,inspect:inspect,deprecate:deprecate,format:format,debuglog:debuglog},util_inspect=require$$0.inspect,hasMap="function"==typeof Map&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&"function"==typeof mapSizeDescriptor.get?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet="function"==typeof Set&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&"function"==typeof setSizeDescriptor.get?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,hasWeakMap="function"==typeof WeakMap&&WeakMap.prototype,weakMapHas=hasWeakMap?WeakMap.prototype.has:null,hasWeakSet="function"==typeof WeakSet&&WeakSet.prototype,weakSetHas=hasWeakSet?WeakSet.prototype.has:null,hasWeakRef="function"==typeof WeakRef&&WeakRef.prototype,weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString$2=Object.prototype.toString,functionToString=Function.prototype.toString,$match=String.prototype.match,$slice=String.prototype.slice,$replace$1=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat$1=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf="function"==typeof BigInt?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,hasShammedSymbols="function"==typeof Symbol&&"object"==typeof Symbol.iterator,toStringTag="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasmber"==typeof e){var n=e<0?-$floor(-e):$floor(e);if(n!==e)return e=String(n),n=$slice.call(t,e.length+1),$replace$1.call(e,r,"$&_")+"."+$replace$1.call($replace$1.call(n,/([0-9]{3})/g,"$&_"),/_$/,"")}return $replace$1.call(t,r,"$&_")}var inspectCustom=util_inspect.custom,inspectSymbol=isSymbol$2(inspectCustom)?inspectCustom:null,objectInspect=function n(r,e,i,a){var o=e||{};if(has(o,"quoteStyle")&&"single"!==o.quoteStyle&&"double"!==o.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has(o,"maxStringLength")&&("number"==typeof o.maxStringLength?o.maxStringLength<0&&o.maxStringLength!==1/0:null!==o.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');e=!has(o,"customInspect")||o.customInspect;if("boolean"!=typeof e&&"symbol"!==e)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has(o,"indent")&&null!==o.indent&&"\t"!==o.indent&&!(parseInt(o.indent,10)===o.indent&&0<o.indent))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has(o,"numericSeparator")&&"boolean"!=typeof o.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var t=o.numericSeparator;if(void 0===r)return"undefined";if(null===r)return"null";if("boolean"==typeof r)return r?"true":"false";if("string"==typeof r)return inspectString(r,o);if("number"==typeof r){if(0===r)return 0<1/0/r?"0":"-0";var s=String(r);return t?addNumericSeparator(r,s):s}if("bigint"==typeof r)return s=String(r)+"n",t?as=getIndent(o,i);if(void 0===a)a=[];else if(0<=indexOf(a,r))return"[Circular]";function d(e,t,r){return t&&(a=$arrSlice.call(a)).push(t),r?(t={depth:o.depth},has(o,"quoteStyle")&&(t.quoteStyle=o.quoteStyle),n(e,t,i+1,a)):n(e,o,i+1,a)}if("function"==typeof r&&!isRegExp$1(r))return"[Function"+((g=nameOf(r))?": "+g:" (anonymous)")+"]"+(0<(g=arrObjKeys(r,d)).length?" { "+$join.call(g,", ")+" }":"");if(isSymbol$2(r))return g=hasShammedSymbols?$replace$1.call(String(r),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(r),"object"!=typeof r||hasShammedSymbols?g:markBoxed(g);if(isElement(r)){for(var p="<"+$toLowerCase.call(String(r.nodeName)),f=r.attributes||[],h=0;h<f.length;h++)p+=" "+f[h].name+"="+wrapQuotes(quote$1(f[h].value),"double",o);return p+=">",r.childNodes&&r.childNodes.length&&(p+="..."),p+="</"+$toLowerCase.call(String(r.nodeName))+">"}if(isArray$4(r)){if(0===r.length)return"[]";var g=arrObjKeys(r,d);return s&&!singleLineValues(g)?"["+indentedJoin(g,s)+"]":"[ "+$join.call(g,", ")+" ]"}if(isError$1(r))return g=arrObjKeys(r,d),"cause"in Error.prototype||!("cause"in r)||isEnumerable.call(r,"cause")?0===g.length?"["+String(r)+"]":"{ ["+String(r)+"] "+$join.call(g,", ")+" }":"{ ["+String(r)+"] "+$join.call($concat$1.call("[cause]: "+d(r.cause),g),", ")+" }"unction"==typeof r[inspectSymbol]&&util_inspect)return util_inspect(r,{deptnction"==typeof r.inspect)return r.inspect()}return isMap(r)?(c=[],mapForEach.call(r,function(e,t){c.push(d(t,r,!0)+" => "+d(e,r))}),collectionOf("Map",mapSize.call(r),c,s)):isSet(r)?(l=[],setForEach.call(r,function(e){l.push(d(e,r))}),collectionOf("Set",setSize.call(r),l,s)):isWeakMap(r)?weakCollectionOf("WeakMap"):isWeakSet(r)?weakCollectionOf("WeakSet"):isWeakRef(r)?weakCollectionOf("WeakRef"):isNumber$1(r)?markBoxed(d(Number(r))):isBigInt(r)?markBoxed(d(bigIntValueOf.call(r))):isBoolean$1(r)?markBoxed(booleanValueOf.call(r)):isString$1(r)?markBoxed(d(String(r))):isDate$1(r)||isRegExp$1(r)?String(r):(g=arrObjKeys(r,d),t=gPO?gPO(r)===Object.prototype:r instanceof Object||r.constructor===Object,e=r instanceof Object?"":"null prototype",u=!t&&toStringTag&&Object(r)===r&&toStringTag in r?$slice.call(toStr$1(r),8,-1):e?"Object":"",t="),0===g.length?t+"{}":s?t+"{"+indentedJoin(g,s)+"}":t+"{ "+$join.call(g,", ")+" }")};function wrapQuotes(e,t,r){r="double"===(r.quoteStyle||t)?'"':"'";return r+e+r}function quote$1(e){return $replace$1.call(String(e),/"/g,"&quot;")}function isArray$4(e){return!("[object Array]"!==toStr$1(e)||toStringTag&&"object"==typeof e&&toStringTag in e)}function isDate$1(e){return!("[object Date]"!==toStr$1(e)||toStringTag&&"object"==typeof e&&toStringTag in e)}function isRegExp$1(e){return!("[object RegExp]"!==toStr$1(e)||toStringTag&&"object"==typeof e&&toStringTag in e)}function isError$1(e){return!("[object Error]"!==toStr$1(e)||toStringTag&&"object"==typeof e&&toStringTag!0;if(!e||"object"!=typeof e||!symToStrinisBigInt(e){if(!e||"object"!=typeof e||!bigIntValueOf)return!1;try{return bigIntValueOf.call(e),!0}catch(e){}return!1}var hasOwn=Object.prototype.hasOwnProperty||function(e){ren nameOf(e){if(e.name)return e.name;e=$match.call(functionToString.call(e),/^function\s*([\w$]+)/);return e?e[1]:null}function indexOf(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function isMap(e){if(!mapSize||!e||"object"!=typeof e)return!1;try{mapSize.call(e);try{setSize.call(e)}catch(e){return!0}return e inrn!0}return e instanceof WeakSet}catch(e){}return!1}function isElement(e){return!(!e||"object"!=typeof e)&&("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}function inspectString(e,t){var r;return e.length>t.maxStrine$1.call($replace$1.call(e,/(['\\])/g,"\\$16?"0":"")+$toUpperCase.call(e.toString(16))}function markBoxed(e){return"Object("+e+")"}function weakCollectionOf(e){return e+" { ? }"}function collectionOf(e,t,r,n){return e+" ("+t+") {"+(n?indentedJoin(r,n):$join.call(r,", "))+"}"}function singleLineValues(e){for(var t=0;t<e.length;t++)if(0<=$"+a]instanceof Symbol||($test.call(/[^\w$]/,a)?n.push(t(a,e)+": "+t(e[a],e)):n.push(a+": "+t(e[a],e)));if("function"==typeof gOPS)for(var l=0;l<o.length;l++)isEnumerable.call(e,o[l])&&n.push("["+t(o[l])+"]: "+t(e[o[l]],e));return n}var $TypeError$1=getIntrinsic("%TypeError%"),$WeakMap=getIntrinsic("%WeakMap%",!0),$Map=getIntrinsic("%Map%",!0),$weakMapGet=callBound("WeakMap.prototype.get",!0),$weakMapSet=callBound("WeakMap.prototype.set",!0),$weakMapHas=callBound("WeakMap.prototype.has",!0),$mapGet=callBound("ype.set"null!==(=r.next,r.next=e.next,e.next=r},listGet=funvaluErroreturn $mapGet(n,e)}else if(i)return listGet(i,e)},has:function(e){if($WeakMap&&e&&("object"==typeof e||"function"==typeof e)){if(r)return $weakMapHas(r,e)}else if($Map){if(n)return $mapHas(n,e)}else if(i)return listHas(i,e);return!1},set:function(e,t){$WeakMap&&e&&("object"==typeof e||"function"==typeof e)?(r=r||new $WeakMap,$weakMapSet(r,e,t)):$Map?:null},e,t)}};return t},replace=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$1={default:Format.RFC398String(e)}},RFCush("%"+((t<16op];ifa.forEa=typeofe,r){re3&c]:c<5:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],o=Object.keys(a),s=0;s<o.eturn co(e){returypeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},combine=function(e,t){return[].concat(e,t)},maybeMap=function(e,t){if(isArray$5(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},utils={arrayToOassign,combine:combineode:encode,isBuffer:isBuffer$1,isRegExp:isRegExp$2,maybeMap:maybeMap,merge:merge},has$2=Object.prototype.hasOwnProperty,arre+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},isArray$6=Array.isArray,split$1=String.prototype.split,push=Array.prototype.push,pushToArray=function(e,t){push.apply(e,isArray$6(t)?t:[t])},toISO=Date.prototype.toISOString,defaultFormat=formats$1.default,defaults={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",ndices:!1,serializeDate:function(e){return toISO.call(e)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e},sentinel={},stringify$2=function e(t,r,n,i,a,o,s,c,l,u,d,p,f,h,g){for(var m=t,y=g,v=0,_=!1;void 0!==(y=y.get(sentinel))&&==v)throw new RangeError("Cyclic object value");_=!0}void 0===y.get(sentinel)&&(v=0)}if("function"==typeof s?m=s(r,m):m instanceof Date?m=u(m):"comma"===n&&isArray$6(m)&&(m=utils.maybeMap(m,function(e){return e instanceof Date?u(e):e})),null===m){if(i)return o&&!f?o(r,defaults.encoder,h,"key",d):r;m=""}if(isNonNullishPrimitive(m)||utils.isBuffer(m)){if(o){var w=f?r:o(r,defaults.encoder,h,"key",d);if("comma"===n&&f){for(var S=split$1.call(String(m),","),C="",E=0;E<S.length;++E)C+=(0===E?"":",")+p(o(S[E],defaults.encoder,h,"value",d));return[p(w)+"="+C]}return[p(w)+"="+p(o(m,defaults.encoder,h,"value",d))]}return[p(r)+"="+p(String(m))]}var A,P=[];if(void 0===m)return P;A="comma"===n&&isArray$6(m)?[{value:0<m.length?m.join(",")||null:void 0}]:isArray$6(s)?s:(w=Object.keys(m),c?w.sort(c):w);for(var T=0;T<A.length;++T){var I,k=A[T],O="object"==typeof k&&void 0ializeDate?e:defaults).serializeDate,skipNulls:("boolean"==typeof e.skipNulls?e:defaults).skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:defaults).strictNullHandling}},stringify_1=function(e,t){var r=e,n=normalizeStringifyOptions(t),i=("function"==typeof n.filter?r=(0,n.filter)("",r):isArray$6(n.filter)&&(o=n.filter),[]);if("object"!=typeof r||null===r)return"";var e=t&&t.arrayFormat in arrayPrefixGenerators?t.arrayFormat:!(t&&"indices"in t)||t.indices?"indices":"repeat",a=arrayPrefixGenerators[e],o=o||Object.keys(r);n.sort&&o.sort(n.sort);for(var s=sideChannel(),c=0;c<o.length;++c){var l=o[c];n.skipNulls&&null===r[l]||pushToArray(i,stringify$2(r[l],l,a,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,s))}t=i.join(n.delimiter),e=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?e+="utf8=%26%2310003%3B&":e+="utf8=%E2%9C%93&"),0<t.length?e+t:""},has$3=Object.prototype.hasOwnProperty,isArray$7=Array.isArray,defaults$1={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20efix:!1,interpreg:!1},interpretNumericEntities=function(e){return e.replace(/&#(\d+);/g,functioturn t.decod,s="["===l}for(var c=0;0<r.depthrLimit?e:defaults$1).parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:("boolean"==typeof e.plainObjects?e:defaults$1).plainObjects,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:defaults$1).strictNullHandling}},parse$6=function(e,t){var r=normalizeParseOptions(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?parseValues(e,r):e,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o)var s=a[o],s=parseKeys(s,n[s],r,"r",e[e.VAST_2_0_Wrapper=5]="VAST_2_0_Wrapper",e[e.VAST_3_0_Wrapper=6]="VAST_3_0_Wrapper",e[e.VAST_4_0=7]="VAST_4_0",e[e.VAST_4_0_Wrapper=8]="VAST_4_0_Wrapper",e[e.DAAST_1_0=9]="DAAST_1_0",e[e.DAAST_1_0_Wrapper=10]="DAAST_1_0_Wrapper"}(OpenRtbVideoProtocols=OpenRtbVideoProtocols||{}),[OpenRtbVideoProtocols.VAST_2_0,OpenRtbVideoProtocols.VAST_3_0,OpenRtbVideoProtocols.VAST_2_0_Wrapper,OpenRtbVideoProtocols.VAST_3_0_Wrapper,OpenRtbVideoProtocols.VAST_4_0,OpenRtbVideoProtocols.VAST_4_0_Wrapper]),vpaidRedirectResponses={};function getVpaidBridgeRedirect(s,c,l,u){return __awaiter(this,void 0,void 0,function(){var a,t,r,n,i,o;return __generator(this,function(e){switch(e.label){case 0:if(carodaConsoleSafe.info("VpaidBridgeHelper","getVpaidBridgeRedirect",s),u<=0)throw new Error("vpaid bridge exceeded campaign timeout");a=String(Math.floor(1e9*Math.random())),o="\n            <script>\n                window.shouldPlay = false\n                window.event = function (evt) {\n                    window.parent.postMessage('caroda-vpaid-ad-".concat(a,"://' + JSON.stringify(evt), '*')\n                }\n                window.XMLHttpRequest = function () {\n                    this.open = function (method, url) {\n                        window.event({ method: method, url: url })\n                    }\n                    this.withCredentials = false\n                    this.send = function () {}\n                }\n            <\/script>\n            <div></div>\n            <video></video>\n            <script class='caroda-vpaid-preload' src=\"").concat(s,"\"><\/script>\n            <script>\n                const carodaConsoleLog = (method, ...args) => {\n                    try {\n                        window.parent.carodaConsole.log(\n                            'VpaidBridgeHelper',\n                            'getVpaidBridgeRedirect',\n                            method,\n                            ...args\n                        )\n                    } catch (err) {}\n                }\n                const console = Object.keys(window.console).reduce(\n                    (newConsole, method) => ({\n                        ...newConsole,\n                        [method]: (...args) => carodaConsoleLog(method, ...args)\n                    }),\n                    {}\n                )\n                var ad = getVPAIDAd()\n                ad.initAd(\n                    ").concat(Math.floor(l),",\n                    ").concat(Math.floor(9*l/16),",\n                    'normal',\n                    500,\n                    {\n                        AdParameters: ").concat(JSON.stringify(c),"\n                    }, // creative data\n                    {\n                        slot: document.querySelector('div'),\n                        videoSlot: document.querySelector('video'),\n                        videoSlotCanAutoPlay: true\n                    } // environment vars\n                )\n                // don't call startAd for some to avoid double impressions\n                if (window.shouldPlay) {\n                    ad.subsc     }\n                ad.subscribe(function () { window.event({ type: 'noAd' }) }, 'adError')\n            <\/script>\n        "),t=new Promise(function(t,e){var r=setTimeout(function(){return e(new Error("vpaid bridge timed out"))},Math.min(3e3,u)),n=!1,i=[];vpaidRedirectResponses[a]=function(e){r&&(clearTimeout(r),r=null),i.push(e),n||(n=!0,setTimeout(function(){return t(i)},100))}}),o=new Blob([o],{type:"text/html"}),(r=renderDocument.createElement("iframe")).className="caroda-bridge",r.style.position="absolute",r.style.width="100vw",r.style.height="100vh",r.style.left="0",r.style.top="0",r.style.visibility="hidden",r.style.pointerEvents="none",r.style.display="none",renderDocument.body.appendChild(r),r.src=renderWindow.URL.createObjectURL(o),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t];case 2:return i=e.sent(),[3,4];case 3:return o=e.sent(),n=o,[3,4];case 4:if(delete vpaidRedirectResponses[a],setTimeout(function(){return r.remove()},2e3),n)throw n;return carodaConsoleSafe.info("VpaidBridgeHelper","getVpaidBridgeRedirect",i),[2,i]}})})}function request(n){return __awaiter(this,void 0,void 0,function(){var r,t;return __generator(this,function(e){return r=new XMLHttpRequest,t=new Promise(function(e,t){r.onreadystatechange=function(){if(4===this.readyState)return this.status<400?e(this.responseText):t(new Error("BadStatus"+this.status))}}),n(r),[2,t]})})}function requestJson(r){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,request(r)];case 1:t=e.sent();try{return[2,JSON.parse(t)]}catch(e){throw carodaConsoleSafe.error("invalid json",t),e}return[2]}})})}renderWindow.addEventListener("message",function(e){try{var t,r,n,i=e.data&&e.data.match&&e.data.match(/^caroda-vpaid-ad-([0-9]+):\/\/(.*)$/);i&&(i[0],t=i[1],r=i[2],carodaConsoleSafe.warn("VpaidBridgeHelper","got event",t,r),(n=JSON.parse(r).url)&&vpaidRedirectResponses[t](n))}catch(e){carodaConsoleSafe.warn("VpaidBridgeHelper",e)}});var Blob$1=libraryWindow.Blob,seznamSIDLibrary=getExternalDependency(function(e){return e.DOT&&{DOT:e.DOT}}),secondsInMs=1e3,ExpandedVast=function(){};function getVast(n,i){return __awaiter(this,void 0,void 0,function(){var t,r;return __generator(this,function(e){switch(e.label){case 0:if((t=getRemainingTimeout(i))<=0)throw new Error("get vast exceeded campaign timeout");return[4,request(function(e){e.open("GET",n),e.withCredentials=!0,e.timeout=t,e.send()})];case 1:if(r=e.sent())return[3,3];if((t=getRemainingTimeout(i))<=0)throw new Error("get vast exceeded campaign timeout");return[4,request(function(e){e.open("GET",n),e.timeout=t,e.send()})];case 2:r=e.sent(),e.label=3;case 3:return[2,r]}})})}function getAdType$1(e,t){return e.match(/^(https?\:)?\/\/[^/]+\.doubleclick.net/)?e.match(/caroda_ima=0/)||t&&0===t.ima?"doubleclick-vast":"doubleclick":e.match(/adsafeprotected.com/)?e.match(/caroda_vast=1/)?"vast":"doubleclick":e.match(/seznam.cz/)?"seznam":e.match(/^(https?\:)?\/\/adx\.adform\.net/)?"adform":e.match(/^(https?\:)?\/\/www[0-9]*\.smartadserver\.com\/ac/)?"doubleclick":e.match(/^(https?\:)?\/\/video-ads.rubiconproject.com.*vast.xml/)?"rubicon":e.match(/^(https?\:)?\/\/optimized-by.rubiconproject.com/)?"rubicon-optimized":e.match(/^(https?\:)?\/\/vpaid.pubmatic.com\/ads\/video\/vadtag.html/)?"pubmatic":e.match(/^(https?\:)?\/\/vid.pubmatic.com\//)?"pubmatic-vast":e.match(/^(https?\:)?\/\/svastx.moatads.com\//)?"moatads":e.match(/^(https?\:)?\/\/ad\.mox\.tv\/delivery\/rtb\/video/)?"mox":e.match(/^(https?\:)?\/\/ad\.mox\.tv\/delivery\/video\/zona\//)?"mox-loader":e.match(/^(https?\:)?\/\//)?"vast":"local-vast"}function isAdLoader(e,t){return!!isSpringServeAdLoader(t)||-1!==["rubicon","pubmatic","mox-loader"].indexOf(getAdType$1(e,{}))}function getImaVast(e){return'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n        <VAST xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n            xsi:noNamespaceSchemaLocation="vast.xsd" version="3.0">\n            <Ad>\n                <Wrapper>\n                    <AdSystem>Caroda</AdSystem>\n                    <VASTAdTagURI><![CDATA['.concat(e,"]]></VASTAdTagURI>\n                </Wrapper>\n            </Ad>\n        </VAST>")}function getTrackingHooks(e,t){var r=e.ads&&e.ads.get(0),n=get_1(r,"impressions"),i=gUrl:e.uri,VastEvent:"impression"}})),r.creatives.get(0)),r=get_1(n,"linear.clickTrackings")||get_1(n,"linear.videoClicks.clickTnction(e){return{TrackingUrl:e.=a.types.reduce(function(e,t){return __spreadArray(__spreadArray([],e,!0),a.get(t).map(function(e){return{eventType:t,uri:e.uri}}),!0)},[]),i.push.apply(i,t.map(function(e){return{TrackingUrl:e.uri,VastEvent:s"ShowAdTracking","show_ad").forEach(function(e){return i.push({TrackingUrl:e,VastEvent:"impression"})});getExtensionCustomTrackingUrls(e,"video_ad_loaded","loaded").forEach(function(e){pressionsTrackingHooks(e);return i.concat(r)}function getViewableImpressionsTrackingHooks(e){e=e.ads&&e.ads.get(0);return get_1(e,"viewableImpression.viewables",[]).map(function(e){return{TrackingUrl:e,VastEvent:"viewableImpression"}})}function getExtensionCustomTrackingUrls(e,t,r){var e=(e.ads&&e.ads.get(0)).extensions;if(e)return e=e.find(function(e){return e.type===t}),e=e&&e.xmlElement&&e.xmlElement.childNodes&&Array.prototype.slice.call(e.xmlElement.childNodes).find(function(e){return"CustomTe.childNodes)||[]).filter(function(e){return"Tracking"===e.nodeName&&e.getAttribute("event")===r&&e.childNodes}),e=flatMap_1(e.map(function(e){return Array.from(e.childNodes)})).map(function(e){return null==(e=e.data)?void 0:e.trim()}).filter(Boolean),carodaConsoleSafe.info("VastHelper","getExtensionCustomTrackingUrls",{extensionType:t,eventName:r,ret:e}),e}function getRedirectedVast(r,n,i,a,o,s,c){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){return carodaConsoleSafe.info("VastHelper","getRedirectedVast",r),t=r.ads&&r.ads.get(0),i=__spreadArray(__spreadArray([],i,!0),getTrackingHooks(r,!0),!0),t=get_1(t,"vastAdTagURI"),carodaConsoleSafe.info("VastHelper","getRedirectedVast","vastAdTagURI",t),[2,expandVastUrl(t,n,i,a,o,s,c)]})})}function loadSeznamSID(r){return void 0===r&&(r=3e3),__awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:seznamSIDLibrary.isAvailable()||(carodaConsoleSafe.i"),(t=renderDocument.createElement("script")).src="https://h.seznam.cz/js/dot-small.js",renderDocument.head.appendChild(t)),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,waitFor(function(){return!!localStorageHelper.getItem("sid")},r)];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),carodaConsoleSafe.info("VastHelper","expandVastUrl","Seznam couldn't load SID in time. Proceeding anyway",t),[3,4];case 4:return[2]}})})}function expandVastUrl(c,l,u,d,p,f,h){return void 0===u&&(u=[]),void 0===f&&(f={}),__awaiter(this,void 0,void 0,function(){var t,r,n,i,a,o,s;return __generator(this,function(e){switch(e.label){case 0:if(carodaConsoleSafe.info("VastHelper","expandVastUrl","start",c,"tracking =",u,"playerInfo =",l,"depth = ",d.vastChain.length,"expiryTimestamp = ",p),15<d.vastChain.length)throw new Error("vast chain too long");if(getRemainingTimeout(p)<=0)throw new Error("vast expansion exceeded campaign timeout");return u=u.slice(),t=getAdType$1(c,l=l||{plcmt:"standalone"}),"seznam"!==(d.adType=t)?[3,2]:[4,loadSeznamSID()];case 1:e.sent(),e.label=2;case 2:return(c=replaceTargetingTemplate(c,__assign({playerInfo:l,transactionId:h},f)),c=enhanceUrlParameters(c=pageLocation.href.match(/^https/i)?c.replace(/^http:/,"https:"):c,l),"doubleclick-vast"===t&&(l.ima=0),"doubleclick"!==t||isDoubleclickDsp(c))?("rubicon"!==t&&"rubicon-optimized"!==t||(r=c.split("?"),(n=(r[1]||"").split("&")).push("domain=".concat(encodeURIComponent(pageLocation.origin))),c=[r[0],n.filter(Boolean).join("&")].join("?")),[4,getVast(c,p)]):(d.vastChain.push({content:"ima/hidden",url:c}),[2,[{adType:t,dspUrl:"//google.ima",format:null,report:d,trackingHooks:u,vast:getImaVast(c)}]]);case 3:if(!(r=e.sent()).trim().length)throw new Error("empty vast document from source "+c);if(isMoatAdCreative(r))return d.vastChain.push({content:r,url:c}),[2,[{adType:"doubleclick",dspUrl:c,format:null,report:d,trackingHooks:u,vast:r}]];if(n=getImaPlaylistRedirect(r))return d.vastChain.push({content:r,url:c}),carodaConsoleSafe.info("VastHelper","expandVastUrl",r.trim(),"ima playlist redirect","tracking =",u),[2,expandVastUrl(n,l,u,d,p,f,h)];if(i=readVast(r),carodaConsoleSafe.info("VastHelper","expandVastUrl","parsed vast",i),s=i.ads&&i.ads.get(0))return isDoubleVerifyVpaid(r)?(d.vastChain.push({content:"doubleverify/ima",url:c}),u=__spreadArray(__spreadArray([],u,!0),getViewableImpressionsTrackingHooks(i),!0),r=removeViewableImpressionsTracking(r),[2,[{adType:"doubleclick",dspUrl:c,format:null,report:d,trackingHooks:u,vast:r}]]):get_1(s,"vastAdTagURI")?(d.vastChain.push({content:r,url:c}),[2,getRedirectedVast(i,l,u,d,p,f,h)]):(a=getMediaFormat(i),(o=getVpaidCreativeUrl(i))&&isGoogleApiRedirectAdVpaidCreative(o)?(s=s.creatives.get(0),s=(get_1(s,"linear.adParameters","")||"").trim(),s=getGoogleApiRedirectAdCreative(o,s),u=__spreadArray(__spreadArray([],u,!0),getTrackingHooks(i,!0),!0),[2,expandVastUrl(s,__assign(__assign({},l),{dspUrl:c}),u,d,p,f,h)]):o&&isTeadsCreative(o)?(d.vastChain.push({content:r,url:c}),carodaConsoleSafe.info("VastHelper","expandVastUrl",{adType:"doubleclick",url:c,vastRaw:r,format:a,trackingHooksCarry:u,playerInfo:l}),[2,[{adType:"doubleclick",dspUrl:c,format:a,report:d,trackingHooks:u,vast:r}]]):isAdLoader(c,r)?(d.vastChain.push({content:r,url:c}),s=!isSpringServeAdLoader(r),[2,getVpaidRedirectedVast(i,l,u,d,s,p,f,h)]):(isDoubleclickDsp(c)||(u=__spreadArray(__spreadArray([],u,!0),getTrackingHooks(i,!1),!0),r=removeTracking(r)),d.vastChain.push({content:r,url:c}),carodaConsoleSafe.info("VastHelper","expandVastUrl",{adType:t,url:c,vastRaw:r,format:a,trackingHooksCarry:u,playerInfo:l,vpaidCreative:o}),[2,[{adType:t,dspUrl:l.dspUrl||c,format:a,report:d,trackingHooks:u,vast:r}]]));throw new Error("vast with no ad")}})})}function expandStaticVast(t,r,n,i,a,o,s){return void 0===n&&(n=[]),__awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,expandVastUrl(staticVastToUrl(t),r,n,i,a,o,s)]})})}function enhanceUrlParameters(e,t){try{var r=e.split("?");if(2!==r.length)return e;var n=lib_2(r[1]),i=getAdType$1(e,t),a=enhanceParameter(n,i,e,t),o=/adsafeprotected.com/.test(e),s="".concat(r[0],"?").concat(lib_3(a,{encode:!o}));return carodaConsoleSafe.info("VastHelper","enhanceUrlParameters",{enhancedUrl:s,enhancedQueryParts:a,adType:i}),s}catch(e){carodaConsoleSafe.info("VastHelper","enhanceUrlParameters","unusual url format",e)}}function enhanceParameter(e,t,r,n){e=__assign({},e);if(/\.caroda\.io\/api\/iab[\/\?]/.test(r))return e;var i=!1;if(!("local-vast"!==t))return e;var a=getTcfState(),o=[!a.available,!a.applies,!(null==(o=a.responseObject)||!o.tcString)].some(Boolean);return"doubleclick"!==t&&"doubleclick-vast"!==t||(e.correlator=e.correlator||"".concat(Date.now()).concat(Math.floor(1e6*Math.random())),e.url=pageLocation.href,e.npa=o?0:1,e.output="xml_vast4",null==e.hl&&(e.hl=targetingProfile.locale()),n.maximumAdLength&&(e.max_ad_duration=n.maximumAdLength*secondsInMs),e.impl="s",null==e.description_url&&(e.description_url=pageLocation.href),null==e.unviewed_position_start&&(e.unviewed_position_start=1),null==e.env&&(e.env="vp"),null==e.sz&&(e.sz="".concat(n.playerWidth||640,"x").concat(n.playerHeight||360)),null==e.gdfp_req&&(e.gdfp_req=1),null==e.tfcd&&(e.tfcd=0),null==e.vpos&&(e.vpos=n.position&&"custom"!==n.position?n.position:void 0),["instream","accompanyingContent"].includes(n.plcmt)&&null==e.plcmt&&(e.plcmt=getIabPlcmt(n.plcmt))),"doubleclick-vast"===t&&(delete e.impl,null==e.frm&&(e.frm=0),null==e.is_amp&&(e.is_amp=0),null==e.loc&&(e.loc=pageLocation.href),null==e.top&&(e.top=pageLocation.href),null==e.nel&&(e.nel=0),null==e.sdkv&&(e.sdkv="h.".concat(integrationConfig.imaSdkVersion())),null==e.vis&&(e.vis=1)),"seznam"===t&&(e.sid=replaceTargetingTemplate("[sid]"),e.site=decodeURIComponent(replaceTargetingTemplate("[url]")),e.consent=replaceTargetingTemplate("[gdpr_consent]"),i=!0),"pubmatic-vast"===t&&(e.vw=n.playerWidth||320,e.vh=n.playerHeight||Math.floor(9*e.vw/16),e.vfmt=defaultOpenRTBProtocols.join(" "),e.kadpageurl=decodeURIComponent(replaceTargetingTemplate("[url]"))),"adform"===t&&(null==e.w&&(e.w=n.playerWidth||320),null==e.h&&(e.h=n.playerHeight||Math.floor(9*e.w/16))),a.available&&(e.gdpr=replaceTargetingTemplate("[gdpr]")),a.responseObject&&!i&&(e.gdpr_consetrack.adform.net/serving/videoad")&&(e.v=4),/vast.doubleverify.com\/v3\//.test(r)&&(e._s2=7),e}function getIabPlcmt(e){switch(e){case"instream":return 1;case"accompanyingContent":return 2;case"interstitial":return 3;default:return 4}}function removeTracking(e){return removeViewableImpressionsTracking(e.replce(/<\/Tracking>/g,"").replace(/[\x02][^\x03]*[\x03]/g,""))}function removeViewableImpressionsTracking(e){return e.replace(/<ViewableImpression[^>/]*>/g,"").replace(/<\/ViewableImpression>/g,"").replace(/[\x02][^\x03]*[\x03]/g,"")}function getVpaidCreativeUrl(e){try{var t=e.ads.get(0).creatives.get(0);return get_1(t,"linear.mediaFiles").find(function(e){return!!e.type.match(/javascript/i)}).uri}catch(e){carodaConsoleSafe.info("VastHelper","getVpaidCreativeElement","no vpaid creative found",e.message)}}function getVpaidRedirectedVast(c,l,u,d,p,f,h,g){return __awaiter(this,void 0,void 0,function(){var n,i,t,r,a,o,s=this;return __generator(this,function(e){switch(e.label){case 0:if(getRemainingTimeout(f)<=0)throw new Error("vpaid exceeded campaign timeout");if(u=u.slice(),carodaConsoleSafe.info("VastHelper","getVpaidRedirectedVast",c),n=c.ads.get(0),a=n.creatives.get(0),o=get_1(a,"linear.mediaFiles"),o=o.find(function(e){return!!e.type.match(/javascript/i)}))return i=replaceTargetingTemplate(o.uri,{playerInfo:l,transactionId:g}),o=get_1(a,"linear.adParameters"),[4,getVpaidBridgeRedirect(i,o,l.playerWidth||640,f)];throw new Error("bridge not found");case 1:return(t=e.sent(),p&&(t=t.slice(0,1)),r=t.find(function(e){return/^(https:)?\/\/ad.mox.tv\/delivery\/config/.test(e)}))?[4,request(function(e){e.open("GET",r),e.send()})]:[3,3];case 2:a=e.sent(),t=JSON.parse(a).vastList,carodaConsoleSafe.info("VastHelper","getVpaidRedirectedVast","got mox config response",t),e.label=3;case 3:return carodaConsoleSafe.info("VastHelper","getVpaidRedirectedVast","got vast urls",t,"via",i),[4,Promise.all(t.map(function(r){return __awaiter(s,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),carodaConsoleSafe.info("VastHelper","getVpaidRedirectedVast","redirected to",r,"via",i),n.vastAdTagURI=replaceTargetingTemplate(r,{playerInfo:l,transactionId:g}),[4,getRedirectedVast(c,l,u,d,f,h,g)];case 1:return t=e.sent(),carodaConsoleSafe.info("VastHelper","getVpaidRedirectedVast","redirect to",r,"succeeded",t),[2,t];case 2:return t=e.sent(),carodaConsoleSafe.info("VastHelper","getVpaidRedirectedVast","redirect to",r,"failed",t.message),[3,3];case 3:return[2]}})})}))];case 4:if((o=e.sent().filter(Boolean)).length)return[2,o.reduce(function(e,t){return __spreadArray(__spreadArray([],e,!0),t,!0)},[])];throw new Error("brivar e=e."linear.mediaFiles"),t=e.filter(function(e){return!!e.type.maeturn e.width&&e.height}),e=e.filter(function(e){return!!e.type.match(/javascript/i)}).filter(function(e){return e.width&&e.height});if(!t.length&&!e.length)return null;t=(t.length?t:e).reduce(function(e,t){return t.width>e.width?t:e},{width:0,height:0}),e=Number(t.width)/Number(t.height);return isNaN(e)?null:getVideoAdAspectRatio(e)}function getImaPlaylistRedirect(e){e=e.trim().replace(/\s/g,"").match(/^<Playlist>(.*)<\/Playlist>$/);if(!e)return null;e=e[1].trim().match(/^<Preroll>(.*)<\/Preroll>/);if(!e)return null;e=e[1].trim().match(/^<Ad><!\[CDATA\[([^\]]*)\]\]><\/Ad>/);return e?e[1]:null}function isMoatAdCreative(e){return Boolean(e.replace(/\n/g,"").match(/moatwrapper\.js/i))}function isTeadsCreative(e){return Boolean(e&&e.match(/^(https:)?\/\/.*teads\.tv\/vpaid.*/i))}function isGoogleApiRedirectAdVpaidCreative(e){return Boolean(e&&e.match(/^(https:)?\/\/imasdk\.googleapis\.com\/js\/sdkloader\/vpaid_adapter.js/))}function isDoubleVerifyVpaid(e){return/vpaid\.doubleverify\.com\/js\/vpaid-transformer/g.test(e)}function getGoogleApiRedirectAdCreative(e,t){carodaConsoleSafe.info("VastHelper","getGoogleApiRedirectAdCreative",{jsUri:e,adParameters:t});e=e.split("?");if(t)try{return staticVastToUrl(_unescape(t))}catch(e){carodaConsoleSafe.info("VastHelper","getGoogleApiRedirectAdCreative","skipped ad parameters",e.message)}if(2!==e.length)throw new Error("google api vpaid missing parameters");t=lib_2(e[1]),e=Object.keys(t).find(function(e){return/adtagurl/i.test(e)});if(!e)throw new Error("google api vpaid missing adTagUrl parameter");t=t[e];if(t&&"string"==typeof t)return t;throw new Error("google api vpaid missing adTagUrl parameter")}function staticVastToUrl(e){var t=parseVAST(e);if(!(t.ads.get(0)||t.adPod&&t.adPod.ads.get(0)))throw new Error("vast with no ad");t=new Blob$1([e],{type:"text/xml"});return libraryWindow.URL.createObjectURL(t)}function isSpringServeAdLoader(e){return Boolean(e.replace(/\n/g,"").match(/vpaid\.springserve\.com\/production\/vpaid/i))}function getCreativeMetadata(e){var e=parseVAST(e),t=getAdId(e=e.adPod||e),r=getAdTitle(e),n=getAdDescription(e),i=getDurationSeconds(e),a=getMediaFiles(e),o=getPoster(e);return{clickThroughUrl:getClickThroughUrl(e),description:n,durationSeconds:i,id:t,mediaFiles:a,poster:o,title:r}}function getAdId(e){e=e.ads.get(0);if(e){var t=e.creatives.get(0);if(t){var r=t.universalAdId;if(r)return r.creativeIdentifier;r=t.adID;return r||e.id}}}function getAdTitle(e){e=e.ads.get(0);if(e)return e.adTitle}function getDurationSeconds(e){e=e.ads.get(0);if(e){e=e.creatives.get(0);if(e&&e.linear)return e.linear.duration}}function getAdDescription(e){e=e.ads.get(0);if(e)return e.description}function getClickThroughUrl(e){return null==(e=null==iFramework,bitrate:e.bitrate,codec:e.codec,delivery:e.delivery,height:e.height,id:e.id,maintainAspectRatio:e.maintainAspectRatio,maxBitrate:e.maxBitrate,minBitrate:e.minBitrate,scalable:e.scalable,type:e.type,uri:e.uri,width:e.width}})}catch(e){return[]}}function getPoster(e){try{return e.ads.get(0).extensions.find(function(e){return"caroda-poster"===e.type}).xmlElement.textContent}catch(e){return}}function numberToTwoDigitString(e){return"".concat((10<=e?"":"0").concat(e))}function secondsToVastSkipOffset(e){var t=Math.floor(e/3DigitString(t),":").concat(numberToTwoDigitString(r),":").concat(numberToTwoDigitString(e))}function overrideSkipBehaviour(e,t,r){if(t)return e.replace(/<Linear\s+[^>]*>/g,function(e){return e.replace(/\sskipoffset\s*=\s*[^\s>]+/,"")});var t=getDuration(e=r?e.replace(/<Linear>|<Linear\s+[^>]*>/g,function(e){return e.replace(/\sskipoffset\s*=\s*[^\s>]+/,"").replace(">",' skipoffset="'.concat(secondsToVastSkipOffset(r),'">'))}):e),n=getSkipOffset(e);return!!t&&!!n&&t-n<=2?overrideSkipBehaviour(e,!0):e}function getDuration(e){try{return readVast(e).ads.get(0).creatives.get(0).linear.duration}catch(e){cage)}}function getSkipOffset(e){try{return readVast(e).ads.get(0).creatives.get(0).linear.skipoffset.value}catch(e){carodaConsoleSafe.info("VastHelper","getSkipOffset",e.message)}}function readVast(e){e=parseVAST(e);return e.adPod||e}function removeEmptyMediaFile(e){return e.replace(/<MediaFile [^>]*>[^<]*<\!\[CDATA\[ *\]\]>[^<]*<\/MediaFile>/gms,"")}function isDoubleclickDsp(e){return new RegExp(/^(https?\:)?\/\/ad\.doubleclick\.net\//).test(e)||new RegExp(/^(https?\:)?\/\/bid\.g\.doubleclick.net/).test(e)}var minimatch$1=minimatch_1||minimatchModule,stringify$3=jsonStableStringify||_stableStringify,ImaPlayer=function(s){function e(e){var r=e.campaignView,t=e.clickThroughUrlBlacklistGlobs,n=e.globalConfigOverride,i=e.opts,a=void 0===i?{}:i,i=e.parentElement,e=e.shouldExcludeRepeated,o=s.call(this)||this;return o.playCalled=!1,o.unfrozen=!1,o.logger=carodaConsoleSafe.getInstanceLogger("ImaPlayer",r.id),o.logger.info(".constructor",r.id,a),o.campaignView=r,Object.assign(a,integrationConfig.defaultAdFrameOptions()),o.containerElement=renderDocument.createElement("div"),o.containerElement.className="carodaImaOutstreamPlayer",o.tracking=new Tracking(n,__assign(__assign({},a.trackingConfig||{}),{context:__assign(__assign({},a.trackingConfig&&a.trackingConfig.context||{}),{transactionId:r.transactionId}),placementId:r.assetId,playerContainer:o.containerElement})),o.parentElement=i,o.trackingHooks=r.trackingHooks,o.volume=a.volume||1,o.thumbnailUrl=a.thumbnailUrl,o.instream=!!a.instream,o.vastContent=r.vastContent,o.vastContent=overrideSkipBehaviour(o.vastContent,a.hideSkipButton,a.fixedSkipOffset),o.vastContent=removeEmptyMediaFile(o.vastContent),o.expireCache=r.expire,o.sspUrl=r.sspUrl,o.dspUrl=r.dspUrl,o.trackAsSlider=a.trackAsSlider,o.clickThroughUrlBlacklistGlobs=t||[],o.isClickThoughUrlBlacklistDisabled=a.isClickThoughUrlBlacklistDisabled,o.shouldExcludeRepeated=e,o.unfreezePrecondition=a.unfreezePrecondition||function(){return!0},e&&(o.adRejected=!1,o.excludeRepeated=function(t){try{o.logger.info(".excludeRepeated",r.adsGroup,t),r.throwIfRepeated(t)}catch(e){if(o.logger.info(".excludeRepeated","rejected",r.adsGroup,t),o.adRejected)return;o.adRejected=!0,o.iframePlayer.reject()}}),o.hideCarodaUI=!!a.hideCarodaUI,o.error=!1,o.disablePauseWhenOutOfView=!!a.disablePauseWhenOutOfView,o.adEnded=!1,o.volumeChangedTriggered=!1,o.setAdCanPlay(!1),o.hadImpression=!1,o.vastLoadTimeout=getRemainingTimeout(r.loadExpiryTimestamp),r.vastContentAspectRatio&&o.containerElement.classList.add("outstreamFormat-".concat(r.vastContentAspectRatio)),o.styles=a.imaFrameStyles||{},o.css=a.imaFrameCss,o.onFullscreen=a.onFullscreen,o.onUnfullscreen=a.onUnfullscreen||function(){return renderDocument.exitFullscreen()},o.keepLastFrame=null==a.keepLastFrame||Boolean(a.keepLas||getDefaultBannedFormats(targetingProfile.device()),o.bannedFormats=o.bannedFormats.concat(integrationConfig.imaBannedFormats()||[]),a.isVisible?o.isInViewport=function(e){var t=isIframeContainedInViewport(e);return a.isVisible(e,t)}:o.instream&&(o.isInViewport=isIframeContainedInViewport),o.isValidCreative=a.isValidImaCreative||function(){return!0},o.playResult=o.preload(),o}return __extends(e,s),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return this.logger.info(".play"),this.playCalled=!0,this.waitForAdValid().then(function(){t.logger.info(".play","ad valid"),t.adEnded||(t.containerElement.className+=" loaded",t.containerElement.parentElement.className+=" adLoaded")}).catch(function(){return{}}),[2,this.playResult]})})},e.prototype.destroy=function(){this.logger.info(".destroy");try{this.containerElement.parentElement&&this.containerElement.parentElement.removeChild(this.containerElement)}catch(e){this.logger.error(".destroy",e)}},e.prototype.getVolume=function(){return this.volumeChangedTriggered?this.volume:0},e.prototype.setVolume=function(e){this.adEnded||(this.volume=e,this.volumeChangedTriggered=!0,this.iframePlayer.setVolume(e))},e.prototype.getCreativeMetadata=function(){return __awaiter(this,void 0,void 0,function(){var r=this;return __generator(this,function(e){if(this.adRejected)throw new Error("ad rejected");if(this.error)throw new Error("ad errored");return this.creativeMetadata?[2,this.creativeMetadata]:[2,new Promise(function(e,t){r.creativeMetadataResolve=e,r.creativeMetadataReject=t})]})})},e.prototype.getCampaignView=function(){return this.campaignView},e.prototype.getTracking=function(){return this.tracking},e.prototype.unfreeze=function(e){var t=e.userInitiated,r=void 0!==t&&t,t=e.unmute,n=void 0!==t&&t;return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return this.unfrozen?[2]:(this.unfrozen=!0,this.logger.info(".unfreeze",{iframeLoaded:Boolean(this.iframePlayer),unmute:n,userInitiated:r}),this.adEnded?[2]:isThere3rdPartyFullscreen(this.parentElement)?(this.logger.info(".unfreeze","an element that is not an ancestor is in fullscreen mode"),this.adEnded=!0,[2]):(this.iframePlayer.unfreeze({userInitiated:r,unmute:n}),this.markAsViewed(),this.waitForAdValid().then(function(){t.markAsViewed()}).catch(function(){return{}}),[4,waitFor(function(){return t.adEnded})]));case 1:return e.sent(),[2]}})})},e.prototype.unfreezeWhenInView=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return[4,waitFor(this.unfreezePrecondition)];case 1:return e.sent(),[4,waitFor(function(){return!!t.disablePauseWhenOutOfView||isInVerticalView(t.parentElement)||t.adEnded})];case 2:return e.sent(),[4,this.unfreeze({unmute:!1,userInitiated:!1})];case 3:return e.sent(),[2]}})})},e.prototype.isError=function(){return this.error},e.prototype.canPlayAd=function(){return this.adCanPlay},e.prototype.waitForAdValid=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return[4,waitFor(function(){return t.canPlayAd()||t.isError()||t.adRejected})];case 1:if(e.sent(),this.error||this.adRejected)throw this.logger.error(".waitForAdValid",{error:this.error,adRejected:this.adRejected}),new Error("ima exception");return[2]}})})},e.prototype.waitForAdIndexed=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return[2,waitFor(function(){return t.hadImpression||t.adEnded})]})})},e.prototype.getParentElement=function(){return this.parentElement},e.prototype.getIframePlayerContainer=function(){return this.containerElement.querySelector(".caroda-player-ima")},e.prototype.getFormat=function(){return this.format},e.prototype.isValid=function(){return this.adCanPlay||this.adEnded},e.prototype.isEnded=function(){return this.adEnded},e.prototype.getAdProgress=function(){return this.iframePlayer.getAdProgress()},e.prototype.renderReplayButton=function(){this.clickThroughUrl&&new LearnMoreButton({container:this.getIframePlayerContainer(),targetUrl:this.clickThroughUrl})},e.prototype.onAdEnded=function(){this.logger.info(".onAdEnded"),this.adEnded=!0,this.instream||!this.hadImpression||this.error?this.containerElement.classList.remove("loaded"):this.renderReplayButton()},e.prototype.preload=function(){return __awaiter(this,void 0,void 0,function(){var t,r,n,i=this;return __generator(this,function(e){switch(e.label){case 0:return(e.trys.push([0,2,,4]),this.logger.info(".preload"),renderDocument.fullscreenElement&&!renderDocument.fullscreenElement.contains(this.parentElement))?(this.logger.info(".preload","an element that is not an ancestor is in fullscreen mode"),[2]):(this.parentElement.contains(this.containerElement)||this.parentElement.appendChild(this.containerElement),this.logger.info(".preload","creating ima frame"),this.iframePlayer=new VastPlayerIma({container:this.containerElement,css:this.css,disablePauseWhenOutOfView:this.disablePauseWhenOutOfView,hideCarodaUI:this.hideCarodaUI,instream:this.instream,isInViewport:this.isInViewport,keepLastFrame:this.keepLastFrame,language:targetingProfile.locale(),onFullscreen:this.onFullscreen,onUnfullscreen:this.onUnfullscreen,styles:__assign(__assign({},this.styles),{lastFrameFallbackImage:__assign({background:"#ccc",backgroundImage:"none"},this.styles.lastFrameFallbackImage||{})}),thumbnailUrl:this.thumbnailUrl,vast:this.vastContent,vastLoadTimeout:this.vastLoadTimeout,volume:this.volume}),this.logger.info(".preload","registering events"),this.iframePlayer.getAdDuration().then(function(e){!i.hadImpression&&e>=i.campaignView.maximumAdLength&&(i.logger.info(".preload","ad is too long",i.creativeMetadata.durationSeconds,i.campaignView.maximumAdLength),i.adEnded=!0,i.error=!0,i.campaignView.markAsFailed())}),this.iframePlayer.addEventListener("adCanPlay",function(e){i.logger.info(".preload","on adCanPlay",e);e=i.extractAd(e.currentAd);if(!i.isValidCreative(e))return i.logger.info(".preload","on adCanPlay","invalid creative"),i.adEnded=!0,i.error=!0,void i.destroy();i.clickThroughUrl=e.clickThroughUrl;var t=e.vastMediaWidth/e.vastMediaHeight;if(i.format=getVideoAdAspectRatio(t),0<=i.bannedFormats.indexOf(i.format))return i.logger.info(".preload","banned format",i.format),i.adEnded=!0,i.error=!0,void i.destroy();i.creativeMetadata=i.composeCreativeMetadata(e),i.logger.info(".preload","on adCanPlay",i.creativeMetadata),i.excludeRepeated&&i.excludeRepeated(stringify$3(i.creativeMetadata)),i.adRejected||!i.clickThroughUrl||null!=(t=i.isClickThoughUrlBlacklistDisabled)&&t.call(i,i.campaignView.id)||!i.clickThroughUrlBlacklistGlobs.some(function(e){return minimatch$1(i.clickThroughUrl,e)})||(i.logger.info(".preload","on concat(i.clickThroughUrl,'" matches blacklist "').concat(i.clickThroughUrlBlacklistGlobs,'"')),i.adRejected=!0,i.iframePlayer.reject()),i.adRejected||(i.resolvePendingCreativeMetadataPromise(),setTimeout(function(){i.setAdCanPlay(!0)},500))}),this.iframePlayer.addEventListener("adEnded",function(){return i.onAdEnded()}),this.iframePlayer.addEventListener("adError",function(e){i.logger.info(".preload","adError",e),i.error=!0,i.containerElement.classList.remove("loaded"),i.resolvePendingCreativeMetadataPromise()}),this.iframePlayer.addEventListener("log",function(e){return i.logger.info(".preload","iframe",e.message)}),this.trackingHooks.forEach(function(e){return i.iframePlayer.addTrackingUrl(e.VastEvent,e.TrackingUrl)}),this.iframePlayer.addEventListener("tracking",function(e){i.triggerEvent(e.eventName,i),/click/.test(e.eventName)&&i.setVolume(0);var t="impression"===e.eventName;e.trackingUrls.forEach(function(e){return i.tracking.hitTrackingUrl(e,t,!1,i.campaignView.cappingEventType)}),t&&(e=(i.instream?"impression_instream":i.trackAsSlider&&"impression_outstream_slider")||"impression_outstream",i.tracking.hitPlayerEvent(e,[i.sspUrl,i.dspUrl],void 0,"ima_unknown"),i.hadImpression=!0,i.expireCache&&i.expireCache().catch(function(e){return i.logger.warn(".preload",e)}))}),this.iframePlayer.addEventListener("volumeChanged",function(e){e=e.volume;i.volume=e,i.triggerEvent("volumeChanged",i,{volume:e})}),t=null,this.iframePlayer.addEventListener("adError",function(e){t=e,i.adEnded=!0,i.campaignView.markAsFailed()}),this.iframePlayer.addEventListener("heavyAd",function(){i.triggerWindowEvent("caroda-heavyAd",i.getParentElement())}),r=this.createOnTimeUpdateInterval(),[4,waitFor(function(){return i.adEnded})]);case 1:if(e.sent(),clearInterval(r),t&&!this.hadImprese.sent(),[4,waitFor(function(){return i.playCalled})];case 3:throw e.sent(),n;case 4:return[2]}})})},e.prototype.composeCreativeMetadata=function(e){return{description:e.description,durationSeconds:e.duration,id:e.adId,title:e.title}},e.prototype.resolvePendingCreativeMetadataPromise=function(){this.creativeMetadataResolve?this.adRejected?this.creativeMetadataReject(new Error("ad rejected")):this.error?this.crea)):(this.creativeMetadataResolve(this.creativeMetadata),this.tracking.setCreativeMetadata(this.creativeMetadata)):this.tracking.setCreativeMetadata(this.creativeMetadata)},e.prototype.extractAd=function(e){return e[Object.keys(e)[0]]},e.prteInterval=function(){var t=this,r=!0,n=(["start","resume"].forEach(function(e){return t.addEventListener(e,function(){return r=!1})}),["pause","complete","skip"].forEach(function(e){return t.addEventListener(e,function(){return r=!0})}),-1);return setInterval(function(){var e;r||(e=t.iframePlayer.getAdProgress())&&!isNaN(e)&&e!==n&&(t.triggerEvent("timeupdate",t,e),n=e)},250)},e.prototype.markAsViewed=function(){this.shouldExcludeRepeated&&this.canPlayAd()&&!this.adRejected&&!this.error&&(this.logger.info(".markAsViewed"),this.campaignView.markAsViewed(stringify$3(this.creativeMetadata)))},e.prototype.setAdCanPlay=function(e){(this.adCanPlay=e)&&this.tracking.trackTimeToLoad()},e}(EventTarget),SliderImaPlayer=function(s){function e(e){var t=e.campaignView,r=e.clickThroughUrlBlacklistGlobs,n=e.globalConfigOverride,i=e.opts,a=e.parentElement,e=e.shouldExcludeRepeated,o=this;return carodaConsoleSafe.info("SliderImaPlayer",".constructor",t.id,i),(o=s.call(this,{campaignView:t,clickThroughUrlBlacklistGlobs:r,globalConfigOverride:n,opts:i,parentElement:a,shouldExcludeRepeated:e})||this).fadeOnEnd=!0,o}return __extends(e,s),e.prototype.setFadeOnEnd=function(e){this.fadeOnEnd=e},e.prototype.onAdEnded=function(){this.adEnded=!0,this.fadeOnEnd&&this.containerElement.classList.remove("loaded")},e}(ImaPlayer),Spinner=function(){function r(e,t){this.container=e,this.overlay=this.createOverlay(t);t=this.createSpinner();this.overlay.appendChild(t),e.appendChild(this.overlay)}return r.prototype.show=function(){this.log("show",this.overlay),this.container.classList.add(r.CONTAINER_SHOW_CLASS_NAME)},r.prototype.hide=function(){this.log("hide",this.overlay),this.container.classList.remove(r.CONTAINER_SHOW_CLASS_NAME)},r.prototype.remove=function(){this.log("remove",this.overlay),this.container.classList.remove(r.CONTAINER_SHOW_CLASS_NAME),this.overlay.removet=renderDocument.createElement("div");return t.classList.add(r.OVERLAY_CLASS_NAME),e&&t.classList.add(e),t},r.prototype.createSpinner=function(){var e=renderDocument.createElement("div");return e.classList.add(r.SPINNER_CLASS_NAME),e},r.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];carodaConsoleSafe.info.apply(carodaConsoleSafe,__spreadArray(["Spinner"],e,!1))},r.OVERLAY_CLASS_NAME="caroda-spinner-container",r.SPINNER_CLASS_NAME="caroda-spinner",r.CONTAINER_SHOW_CLASS_NAME="caroda-show-spinner",r}(),ResizeObserver=renderWindow.ResizeObserver,ReplayButton=function(){function e(e,t){this.logger=carodaConsoleSafe.getInstanceLogger("ReplayButton"),this.container=this.createContainer(e),this.button=this.createButton(),this.container.appendChild(this.button),this.button.addEventListener("click",this.createOnClick(t)),this.spinner=new Spinner(this.container)}return e.prototype.createContainer=function(e){var t=this,r=renderDocument.createElement("div"),n=(r.classList.add("carodaReplayButtonContainer"),this.positionContainer(r,e),new ResizeObserver(function(){renderDocument.body.contains(e)?t.positionContainer(r,e):n.disconnect()}));return n.observe(e),e.parentElement.appendChild(r),r},e.prototype.positionContainer=function(e,t){var t=this.getCoordinates(t),r=t.top,n=t.left,i=t.width,t=t.height;e.style.top="".concat(r,"px"),e.style.left="".concat(n,"px"),e.style.width="".concat(i,"px"),e.style.height="".concat(t,"px")},e.prototype.getCoordinates=function(e){var t=e.getBoundingClientRect(),r=e.parentElement.getBoundingClientRect();return{height:e.clientHeight,left:t.left-r.left,top:t.top-r.top,width:e.clientWidth}},e.prototype.createButton=function(){var e=renderDocument.createElement("button");return e.classList.add("carodaReplayButton"),"mobile"===targetingProfile.device()&&e.classList.add("mobile"),e.title=labels[targetingProfile.locale()].playAgain,e},e.prototype.createOnClick=function(r){var e=this;return function(){return __awaiter(e,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:this.logger.info(".onClick"),this.button.remove(),this.spinner.show(),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r()];case 2:if(e.sent())return this.spinner.remove(),this.logger.info(".onClick","success"),[3,4];throw new Error("onClick failed");case 3:return t=e.sent(),this.logger.info(".onClick",t),this.spinner.remove(),this.renderErrorMessage(),[3,4];case 4:return[2]}})})}},e.prototype.renderErrorMessage=function(){var e=renderDocument.createElement("span");e.classList.add("carodaReplayButtonErrorMessage"),e.textContent=labels[targetingProfile.locale()].noAd,this.container.appendChild(e)},e}(),minimatch$2=minimatch_1||minimatchModule,VVPlayer=function(c){function e(e){var t=e.campaignView,r=e.clickThroughUrlBlacklistGlobs,n=e.globalConfigOverride,i=e.opts,a=e.parentElement,e=e.shouldExcludeRepeated,o=this;if((o=c.call(this)||this).unfrozen=!1,o.logger=carodaConsoleSafe.getInstanceLogger("VVPlayer"),e&&t.throwIfRepeated(),o.logger.info(".constructor",t.id,t,i),Object.assign(i,integrationConfig.defaultAdFrameOptions()),t.hasFailedPreviously())throw o.logger.error(".constructor","campaign has failed previously"),new Error("campaign "+t.id+" has failed previously");if(o.vastContent=t.vastContent,!o.vastContent)throw new Error("no vast content");if(o.vastContent=overrideSkipBehaviour(o.vastContent,o.hideSkipButton,i.fixedSkipOffset),o.vastContent=removeEmptyMediaFile(o.vastContent),o.creativeMetadata=getCreativeMetadata(o.vastContent),r&&(null==(e=i.isClickThoughUrlBlacklistDisabled)||!e.call(i,t.id))){var s=o.creativeMetadata.clickThroughUrl;if(s&&r.some(function(e){return minimatch$2(s,e)}))throw t.markAsFailed(),new Error('clickThroughUrl "'.concat(s,'" matches blacklist "').concat(r,'"'))}o.campaignView=t,o.containerElement=renderDocument.createElement("div"),o.containerElement.className="carodaVvOutstreamPlayer",o.tracking=new Tracking(n,__assign(__assign({},i.trackingConfig||{}),{context:__assign(__assign({},i.trackingConfig&&i.trackingConfig.context||{}),{transactionId:t.transactionId,vastContent:t.vastContent}),placementId:t.assetId,playerContainer:o.containerElement})),o.trackingHooks=t.trackingHooks,o.volume=i.volume||1,o.volumeChangedTriggered=!1,o.hideSkipButton=Boolean(i.hideSkipButton),o.parentElement=a,o.thumbnailUrl=i.thumbnailUrl,o.instream=!!i.instream,o.instreamAdBreakType=i.instreamAdBreakType,o.isLoaded=!1,o.adEnded=!1,o.isDestroyed=!1,o.disableTracking=i.disableTracking,o.trackAsSlider=i.trackAsSlider,o.format=i.format||t.vastContentAspectRatio||null,o.forceAspectRatio=i.forceAspectRatio;e=i.instream?15e3:12e4;return o.timeoutInMs=i.timeoutInMs||e,o.unfreezePrecondition=i.unfreezePrecondition||function(){return!0},o.trackAsSlider|reload=!!i.preload,o.expireCache=function(){return __awaiter(o,void 0,void 0,function(){return __generator(this,function(e){return[2,t.expire&&t.expire()]})})},o.markAsViewed=function(){o.logger.info(".markAsViewed"),t.markAsViewed()},o.sspUrl=t.sspUrl,o.dspUrl=t.dspUrl,o.tracking.setCreativeMetadata(o.creativeMetadata),o.hideCarodaUI=!!i.hideCarodaUI,o.styles=i.vvFrameStyles||{},o.css=i.vvFrameCss,o.disablePauseWhenOutOfView=!!i.disablePauseWhenOutOfView,o.setAdCanPlay(!1),o.onFullscreen=i.onFullscreen,o.onUnfullscreen=i.onUnfullscreen||function(){return renderDocument.exitFullscreen()},o.keepLastFrame=null==i.keepLastFrame||Boolean(i.keepLastFrame),o.bannedFormats=integrationConfig.bannedFormats()||i.bannedFormats||getDefaultBannedFormats(targetingProfile.devicele?i.isVisible(e,t):tElement=function(){otype.getIframePlayerContainer=function(){return this.containerElement.querySelector(".caroda-player-vast-vpaid")},e.prototype.isValid=function(){return this.isLoaded||this.adEnded},e.prototype.isError=function(){return!!this.adError},e.prototype.waitForAdValid=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return[4,waitFor(function(){return t.isValid()})];case 1:if(e.sent(),this.adError)throw this.logError("vv exception");return[2]}})})},e.prototype.waitForAdIndexed=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return[2,waitFor(function(){return t.hadImpression||t.adEnded})]})})},e.prototype.unfreezeWhenInView=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return[4,waitFor(this.unfreezePrecondition)];case 1:return e.sent(),[4,waitFor(function(){return!!t.disablePauseWhenOutOfView||isInVerticalView(t.parentElement)||t.adEnded})];case 2:return e.sent(),[4,this.unfreeze({userInitiated:!1,unmute:!1})];case 3:return e.sent(),[2]}})})},e.prototype.unfreeze=function(e){e.userInitiated;var e=e.unmute,r=void 0!==e&&e;return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return this.unfrozen?[2]:(this.unfrozen=!0,this.logger.info(".unfreeze",{iframeLoaded:Boolean(this.iframePlayer),unmute:r}),this.adEnded?[2]:isThere3rdPartyFullscreen(this.parentElement)?(this.logger.info(".unfreeze","an element that is not an ancestor is in fullscreen mode"),this.adEnded=!0,[2]):(this.markAsViewed(),this.isValid()?[3,2]:(this.logger.info(".unfreeze","player late for unfreezing"),[4,this.waitForAdValid()])));canfreeze","unmute"),this.iframePlayer.unmute()),this.iframePlayer.unfreeze(),[4,waitFor(function(){return t.adEnded})];case 3:return e.sent(),[2]}})})},e.prototype.getFormat=function(){return this.logger.info(".getFormat"),this.format},e.prototype.getVastContent=function(){return this.vastContent},e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t,r=this;return __generator(this,function(e){switch(e.label){case 0:return(this.logger.info(".play"),renderDocument.fullscreenElement&&!renderDocument.fullscreenElement.contains(this.parentElement))?(this.logger.info(".play","an element that is not an ancestor is in fullscreen mode"),this.adEnded=!0,[2]):(this.parentElement.contains(this.containerElement)||this.parentElement.appendChild(this.containerElement),t={container:this.containerElement,css:this.css,disablePauseWhenOutOfView:this.disablePauseWhenOutOfView,forceAspectRatio:this.forceAspectRatio,hideCarodaUI:this.hideCarodaUI,hideSkipButton:this.hideSkipButton,instream:this.instream,instreamAdBreakType:this.instreamAdBreakType,isFrozen:!0,isInViewport:this.isInViewport,keepLastFrame:this.keepLastFrame,language:targetingProfile.locale(),onFullscreen:this.onFullscreen,onUnfullscreen:this.onUnfullscreen,preload:this.preload,startMuted:!0,styles:__assign(__assign({},this.styles),{lastFrameFallbackImage:__assign({background:"#ccc",backgroundImage:"none"},this.styles.lastFrameFallbackImage||{})}),thumbnailUrl:this.thumbnailUrl,timeoutInMs:this.timeoutInMs,vast:this.vastContent,volume:this.volume},this.logger.info(".play","creating vv frame",t,this),this.iframePlayer=new VastVpaidPlayer(t),this.iframePlayer.getAdDuration().then(function(e){if(!r.hadImpression&&e>=r.campaignView.maximumAdLength)return r.logger.info(".play","ad is too long",r.creativeMetadata.durationSeconds,r.campaignView.maximumAdLength),r.adEnded=!0,r.adError=new Error("ad is too long"),void r.campaignView.markAsFailed();r.creativeMetadata.durationSeconds=e,r.tracking.setCreativeMetadata(r.creativeMetadata)}),this.logger.info(".play","registering events"),this.iframePlayer.addEventListener("adVideoStart",function(e){return r.logger.info(".play","got video start event",e,r.format),r.format&&r.format!==e.format?(r.logger.info(".play","format mismatch",e.format,r.format),r.adEnded=!0,void(r.adError=new Error("format missmatch"))):0<=r.bannedFormats.indexOf(e.format)?(r.logger.info(".play","banned format",e.format),r.adEnded=!0,void(r.adError=new Error("banned format"))):(r.isLoaded=!0,r.setAdCanPlay(!0),r.format=e.format,r.forceAspectRatio||(r.containerElement.className+=" outstreamFormat-"+(r.format||e.format)),void setTimeout(function(){r.containerElement.parentElement&&(r.containerElement.className+=" loaded",r.containerElement.parentElement.className+=" adLoaded",r.containerElement.parentElement.parentElement.classList.contains("ntElement.classList.add("adLnt.clientHeight))},500))}),this.iframePlayer.addEventListener("log",function(e){return r.logger.info(".play","iframe",e.message)}),this.trackingHoongUrl)stener("tracking",function(e){r.triggerEvent(e.eventName,r);var t="impression"===e.eventName;t&&r.expireCache().catch(function(e){return carodaConsoleSafe.warn("VVPlayer",".play","expire cache",e)}).then(function(){r.hadImpression=!0}),/click/.test(e.eventName)&&r.setVolume(0),r.disableTracking&&!e.eventName.match(/click/i)?e.trackingUrls.forEach(function(e){return carodaConsoleSafe.info("untracked event",e)}):(e.trackingUrls.forEach(function(e){return r.hitTrackingUrl(e,t)}),t&&r.tracking.hitPlayerEvent(r.getImpressionEvent(),[r.sspUrl,r.dspUrl],null,r.format))}),this.iframePlayer.addEventListener("adError",function(e){r.logger.info(".adError",e),r.isDestroyed?r.logger.info(".adError","already destroyed"):(r.adError=e,r.adEnded=!0,r.campaignView.markAsFailed())}),this.iframePlayer.addEventListener("adEnded",function(){return r.onAdEnded()}),this.iframePlayer.addEventListener("volumeChanged",function(e){e=e.message;r.volumeChangedTrigiframePlayer.addEventListener("timeupdate",function(){r.triggerEvent("timeupdate",r,r.iframePlayer.getAdProgress())}),this.iframePlayer.addEventListener("heavyAd",function(){r.triggerWindowEvent("caroda-heavyAd",r.getParentElement())}),this.logger.info(".play","waiting for ad end"),[4,waitFor(function(){return r.adEnded})]);case 1:if(e.sent(),this.adError)throw this.logger.error(".play",this.adError),new Error("vv exception");return[2]}})})},e.prototype.destroy=function(){this.lo{this.containerElement.parentElement&&this.containerElement.parentElement.removeChild(this.containerElement)}catch(e){this.logger.error(".destroy",e)}},e.prototype.getVolume=function(){return this.volumeChangedTriggered?this.volume:0},e.prototype.setVolume=function(e){this.adEnded||(this.volume=e,this.volumeChangedTriggered=!0,this.iframePlayer.setVolume(e))},e.prototype.getCreativeMetadata=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,this.creativeMetadata]})})},e.prototype.getCampaignView=function(){return this.campaignView},e.prototype.getTracking=function(){return this.tracking},e.prototype.canPlayAd=function(){return this.adCanPlay},e.prototype.isEnded=function(){return this.adEnded},e.prototype.getAdPrototype.renderReplayButton=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return[4,waitFor(function(){return null!=typeof t.iframePlayer.showingLastFrame})];case 1:return e.sent(),new ReplayButton(this.getIframePlayerContainer(),function(){return __awaiter(t,void 0,void 0,function(){var t,r=this;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=this.iframePlayer,this.adError=!1,this.adEnded=!1,this.setAdCanPlay(!1),this.hadImpression=!1,this.isLoaded=!1,this.unfrozen=!1,this.play().catch(function(){return{}}),this.iframePlayer.getContainer().style.visibility="hidden",[4,this.waitForAdValid()];case 1:return e.sent(),this.iframePlayer.getContainer().style.visibility="visible",t&&t.getContainer().remove(),this.unfreezeWhenInView().catch(function(){r.destroy()}),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}})})}),[2]}})})},e.prototype.onAdEnded=function(){this.adEnded=!0,this.instream||!this.hadImpression||this.adError?this.containerElement.classList.remove("loaded"):this.renderReplayButton()},e.prototype.hitTrackingUrl=function(e,t){if(this.logger.info(".hitTrackingUrl",{url:eurn this.tracking.hitTrackingUrl(e,t,!1,this.campaignView.cappingEventType)},e.prototype.getImpressionEvent=function(){return this.instream?"impression_instream":this.trackAsSlider?"impression_outstream_slider":"impression_outstream"},e.prototype.setAdCanPlay=function(e){(this.adCanPlay=e)&&this.tracking.trackTimeToLoad()},e}(EventTarget),SliderVVPlayer=function(s){function e(e){var t=e.campaignView,r=e.clickThroughUrlBlacklistGlobs,n=e.globalConfigOverride,i=e.opts,a=e.parentElement,e=e.shouldExcludeRepeated,o=this;return carodaConsoleSafe.info("SliderVVPlayer",".constructor",t.id,i),(o=s.call(this,{campaignView:t,clickThroughUrlBlacklistGlobs:r,globalConfigOverride:n,opts:__assign(__assign({},i),{disableTracking:!i.trackingEnabled}),parentElement:a,shouldExcludeRepea.fadeOnEnd=e},e.prototype.onAdEnded=function(){this.adEnded=!0,this.fadeOnEnd&&this.containerElement.classList.remove("loaded")},e}(VVPlayer);function isSliderPlayer(e){return e instanceof SliderImaPlayer||e instanceof SliderVVPlayer}var w$1=renderWindow,SmartclipPlayer=function(){function e(e){var t=e.campaignView,r=e.containerElement,n=e.globalConfigOverride,i=e.trackingConfig,i=void 0===i?{}:i,e=e.secondsToConsiderPlayersFinished;carodaConsoleSafe.info("SmartclipPlayer",".constructor",t.id),this.campaignView=t,this.trackingHooks=t.trackingHooks,this.containerElement=r,this.smartclipId=t.smartclipId,this.tracking=new Tracking(n,__assign(__assign({},i),{context:__assign(__assign({},i.context||{}),{transactionId:t.transactionId}),placementId:t.assetId,playerContainer:r})),this.secondsToConsiderPlayersFinished=e}return e.prototype.load=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return carodaConsoleSafe.info("SmartclipPlayer",".load","redundant"),[2]})})},e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t,r,n,i,a,o,s,c,l=this;return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("SmartclipPlayer",".play"),c=Math.round(1e8*Math.random()),a="smartclip-".concat(t.creaSmartclipContainer",waitFor(function(){return 0<n.children.length&&!!n.querySelector("video,iframe")||i}).then(function(){return new Promise(function(e){return setTimeout(e,500)})}).then(function(){return!i&&n.classList.add("loaded")}),this.containerElement.appendChild(n),a="//des.smartclip.net/ads?type=dyn&plc=".concat(this.smartclipId,"&sz=400x320&elementId=").concat(a)+"&ref=".concat(encodeURIComponent(pageLocation.href),"&rnd=").concat(c,"&consent=").concat(r),carodaConsoleSafe.info("SmartclipPlayer",".play","adding script",a),o=this.trackingHooks.filter(function(e){return"impression"===e.VastEvent}),s=this.tracking,w$1.sc_smartIntxtStart=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("SmartclipPlayer",".play","sc_smartIntxtStart"),[4,e 1:return(e.sent(),i)?[2]:(this.tracking.trackTimeToLoad(),s.hitPlayerEvent("impression_other_players",["//smartclip.com","//smartclip.com"],void 0,"smartclip_unknown"),o.forEach(function(e){return s.hitTrackingUrl(e.TrackingUrl,!0)}),n.classList.add("loaded"),[2])}})})},c=new Promise(function(r,n){return __awaiter(l,void 0,void 0,funct1.sc_smartIntxtNoad=function(){carodaConsoleSafe.info("SmartclipPlayer",".play","sc_smartIntxtNoad"),i=!0,n(new Error("no ad"))},w$1.sc_smartIntxtEnd=function(){carodaConsoleSafe.info("SmartclipPlayer",".play","sc_smartIntxtEnd"),r()},this.secondsToConsiderPlayersFinished)?[4,waitFor(function(){return isInVerticalView(t.containerElement)})]:[3,2];case 1:e.sent(),setTimeout(r,1e3*this.secondsToConsiderPlayersFinished),e.label=2;case 2:return[2]}})})}),postscribe(this.containerElement,'\n            <script\n                id="'.concat(t,'"\n                src="').concastroy=function(){var e=this;carodaConsoleSafe.info("SmartclipPlayer",".destroy"),Array.from(e.containerElement.querySelectorAll("[id*=smartclip]")).forEach(function(e){carodaConsoleSafe.info("SmartclipPlayer",".destroy",e),e.remove()})},e.prototype.getCampaignView=function(){return this.campaignView},e.prototype.getTracking=function(){return this.tracking},e}(),VideoSliderAdPlayer=function(o){function e(e,t,r,n,i){var a=o.call(this)||this,i=(carodaConsoleSafe.info("VideoSliderAdPlayer",".constructor",n),a.campaignView=void 0,a.hasPlayed=!1,Array.isArray(i)?i[0]:i);return a.tracking=new Tracking(r,__assign(__assign({},n.trackingConfig||{}),{placementId:i})),a.fetchAdPlayer=e,a.parentElement=t,a.opts=n,a.preloadedPlayers=[],a.isFinished=!1,a.isSingleAd=n.isSingleAd,a.endingStatePromise=new Promise(function(e){a.endingStateResolve=e}),a}return __extends(e,o),e.prototype.load=function(){return __awaiter(this,void 0,void 0,function(){var t,r,n,i=this;return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("VideoSliderAdPlayer",".load"),t=renderDocument.createElement("div"),0insertBefore(t,this.parentElement.children[1]):this.parentElement.appendChild(t),carodaConsoleSafe.info("VideoSliderAdPlayer",".load","fetching ad player"),[4,this.fetchAdPlayer(t,function(e){return mergeTrackingContext(i.tracking,e)})];case 1:return(t=e.sent(),r=t.adPlayer,t.isExpired&&this.setEndingState("repeatedAds"),r)?(this.parentElement.classList.add("adLoaded"),isSliderPlayer(r)?[3,3]:(carodaConsoleSafe.info("VideoSliderAdPlayer",".load","got 3rd party player",r),this.triggerEvent("playAdPlayer",r),r instanceof BannerPlayer?(n=r,this.setEndingState(n.usesPassback()?"bannerWithPassback":"banner")):this.setEndingState("thirdPartyPlayer"),[4,waitFor(function(){return!1})])):(carodaConsoleSafe.info("VideoSliderAdPlayer",".load","no player to fetch"),0===this.preloadedPlayers.length&&(this.isFinished=!0,this.activePlayer?this.activePlayer.setFadeOnEnd(!1):this.setEndingState("noAds")),[2]);case 2:e.sent(),e.label=3;case 3:return n=r,this.opts.aspectRatio=this.opts.aspectRatio||n.getFormat(),this.firstAdFormat||this.initializeFirstAdFormat(this.opts.aspectRatio),this.prepareContainer(),carodaConsoleSafe.info("VideoSliderAdPlayer",".load","got player"),this.preloadedPlayers.push(n),[2]}})})},e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t,i,r,a,n,o=this;return __generator(this,function(e){switch(e.label){case 0:carodaConsoleSafe.info("VideoSliderAdPlayer",".play"),this.playPion(){var t,r,n;return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("VideoSliderAdPlayer",".play","wait for preloaded frame"),[4,waitFor(function(){return 0<o.preloadedPlayers.length||o.isFinished})];case 1:return(e.sent(),a.isFinished)?[2,"break"]:(t=a.preloadedPlayers.shift(),a.activePlayer=t,carodaConsoleSafe.info("VideoSliderAdPlayer",".play","unfreeze active ad frame"),r=function(){return isInVerticalView(o.parentElement)&&!isHidden(o.parentElement)&&!isBrowserHidden()&&!isThere3rdPartyFullscreen(o.parentElement)},[4,waitFor(function(){return r()||o.activePlayer.isEnded()})]);case 2:return e.sent(),n=a.opts.expiry&&a.opts.expiry.getTime()<Date.now(),!i&&!n&&!a.isSingleAd&&a.tracking.hitPlayerEvent("outstream_slider_impression_opportunity",void 0,void 0,void 0,void 0,t.getCampaignView().assetId),a.activePlayer.waitForAdIndexed().then(function(){carodaConsoleSafe.info("VideoSliderAdPlayer",".play","start loading next ad"),o.hasPlayed=o.hasPlayed||!o.activePlayer.isError(),i&&o.activePlayer.isError()?(carodaConsoleSafe.info("VideoSliderAdPlayer",".play","first run failed","aborting"),o.isFinished=!0):(o.impression=!0,i=!1,o.load())}),waitFor(function(){return t.isEnded()}).then(function(){if(carodaConsoleSafe.info("VideoSliderAdPlayer",".play",t.getCampaignView().id,"ended"),t.isError())return carodaConsoleSafe.info("VideoSliderAdPlayer",".play",t.getCampaignView().id,"errored"),void o.removeSliderPlayer(t);o.lastSuccessfulPlayer&&o.removeSliderPlayer(o.lastSuccessfulPlayer),o.lastSuccessfulPlayer=t}),a.triggerEvent("playAdPlayer",a.activePlayer),[4,a.activePlayer.unfreeze({userInitiated:!1,unmute:!1})];case 3:return e.sent(),setTimeout(function(){o.isFinished||(carodaConsoleSafe.info("VideoSliderAdPlayer",".play","hide active ad frame"),o.hideSliderPlayer(t))},600),[2]}})},a=this,e.label=1;case 1:return this.isFinished?[3,3]:[5,r()];case 2:return"break"===e.sent()?[3,3]:[3,1];case 3:return this.quickExit?(this.destroy(),t(),[2]):(this.makeSpacerTransparent(),n=!1,(n=this.hasPlayed&&!this.opts.disableReplayButton?this.renderReplayButton():n)?this.lastSuccessfulPlayer instanceof ImaPlayer&&this.setEndingState("learnMore"):(this.setEndingState("noAds"),this.destroy()),t(),[2])}})})},e.prototype.getActivePlayer=function(){return this.activePlayer},e.prototype.destroy=function(){carodaConsoleSafe.info("VideoSliderAdPlayer",".destroy");try{this.parentElement.innerHTML="",this.parentElement.classList.remove("adLoaded","carodaOutstreamSlider","format-".concat(this.firstAdFormat))}catch(e){carodaConsoleSafe.error("VideoSliderAdPlayer",".destroy",e)}},e.prototype.destroyAfterCurrentAd=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("VideoSliderAdPlayer",".destroyAfterCurrentAd"),this.quickExit=!0,this.isFinished=!0,[4,this.playPromise];case 1:return e.sent(),carodaConsoleSafe.info("VideoSliderAdPlayer",".destroyAfterCurrentAd","done"),[2]}})})},e.prototype.getCampaignView=function(){return this.campaignView},e.prototype.getTracking=function(){return this.tracking},e.prototype.onNextAdPlayer=function(e){if(isSliderPlayer(e))if(this.firstAdFormat&&this.fat,")"))},e.prototype.hadImpression=function(){return this.impression},e.prototype.waitForEndingState=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,this.endingStatePromise]})})},e.prototype.getEndingState=function(){return this.endingState},e.prototype.prepareContainer=function(){this.parentElement.classList.contains("carodaOutstreamSlider")||(this.parentElement.classList.add("carodaOutstreamSlider"),this.spacer=renderDocument.createElement("div"),0<this.parentElement.children.length?this.parentElement.insertBefore(this.spacer,this.parentElement.children[0]):this.parentElement.appendChild(this.spacer),this.spacer.className="sliderSpacer sliderSpacer-".concat((this.opts.aspectRatio||"horizontal").replace(":","-")),this.opts.forceAspectRatio&&(this.spacer.style.paddingTop=(1/this.opts.forceAspectRatio*100).toFixed()+"% !important"))},e.prototype.initializeFirstAdFormat=function(e){carodaConsoleSafe.info("VideoSliderAdPlayer",".initializeFirstAdFormat",e),this.firstAdFormat=e,this.parentElement.classList.add("format-".concat(e))},e.prototype.renderReplayButton=function(){var e;return carodaConsoleSafe.info("VideoSliderAdPlayer",".renderReplayButton"),this.lastSuccessfulPlayer?(null!=(e=null==(e=this.parentElement.querySelector(".adLoaded"))?void 0:e.firstElementChild)&&e.classList.add("loaded"),tlPlayer.renderReplayButton(),!0):(carodaConsoleSafe.info("VideoSliderAdPlayer",".renderReplayButton","no last successful player"),!1)},e.prototype.makeSpacerTransparent=function(){this.spacer&&this.spacer.classList.add("transparent")},e.prototype.removeSliderPlayer=function(e){var t=e.getParentElement();e.destroy(),t.remove()},e.prototype.hideSliderPlayer=function(e){e.getParentElement().classList.add("carodaHidden"),e.getParentElement().style.visibility="hidden"},e.prototype.showSliderPlayer=function(e){e.getParentElement().classList.removfunction(e){carodaConsoleSafe.info("VidventTarget);function arrayEach(e,bject,"defineProperty");return e({},"",{}),e}catch(e){}}(),_defineProperty=defineProperty;function baseAssignValu_baseAssignValue=baseAssignValue,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function assignValue(e,t,r){var n=e[t];hasOwnProperty$a.call(e,t)&&eq_1(n,r)&&(void 0!==r||t in e)||_baseAssignValue(e,t,r)}var _assignValue=assignValue;function copyObject(e,t,r,n){for(var i=!r,a=(r=r||{},-1),o=t.length;+:_assignValue)(r,s,c)}return r}var _copyObject=copyObject;function baseAssign(e,t){return e&&_copyObject(t,keys_1(t),e)}var _baseAssign=baseAssign;function nativeKeysIn(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}var _nativeKeysIn=nativeKeysIn,objectProto$d=Object.prototype,hasOwnProperty_nativeKeysIn(e);vaProperty$b.call(e,t))&&n.push(t);return n}var _baseKeysIn=baseKen_root.Buffer:void 0,n=r?r.allocUnsafe:void 0;e.exports=function(e,t){return t?e.slice():(t=e.length,t=n?n(t):new e.constructor(t),e.copy(t),t)}});function copyArray(e,t){var r=-1,n=e.length;for(t=t||Array(n);++r<n;)t[r]=e[r];return t}var _copyArray=copyArray;function copySymbope=_overArg(Object.getPrototypeOf,ObjecSymbols,getSymbolsIn=nativeGetSyotype(e);return t}:stubArray_1,_getSymbolsIn=getSymbolsIn;function copySymbolsIn(e,t){return _copyObject(e,$e=Object.prototype,hasOwnPropertyeof e[0]&&hasOwnProperty$c.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var _initCloneArray=initCloneArray;function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new _Uint8Array(t).suffer(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var _cloneDataView=cloneDataView,reFlags=/\w*$/;functioex=e.lastIndex,t}var _cloneR0;function cloneSymbol(e){return symbolValueOf$1?Object(symbolValueOf$1.call(e)):{}}var _cloneSymbol=cloneSymbol;function cloneTypedArray(e,t){t=t?_cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var _cloneTypedArray=cloneTypedArray,boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$3="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[$1:case uint32Tag$1:return _cloneTypedArray(e,r);case mapTag$3:return nevar _initCloneByTag=initC;if(objectCreate)return objectCreate(e);t.prototype=e;e=new t;return t.prototype=void 0,e}}(),_baseCreate=baseCreate;function initCloneObject(e){return"function"!=typeof e.constructor||_isPrototype(e)?{}:_baseCreate(_getPrototype(e))}var _initCloneObject=initCloneObject,mapTag$4="[)==mapTag$4}var _baseIsMap=baseIsMap,nodeIsMap=_nodeUtil&&_nodeUtil.isMap,isMap$1=nodeIsMap?_baseUnary(nodeIsMap):_baseIsMap,isMap_1=isMap$1,setTag$4="[object Set]";function baseIsSet(e){return isObjectLike_1(e)&&_getTag(e)==setTag$4}var _baseIsSet=baseIsSet,nodeIsSet=_nodeUtil&&_nodeUtil.isSet,isSet$1=nodeIsSet?_baseUnary(nodeIsSet):_baseIsSet,isSet_1=isSet$1,CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,argsTag$3="[object Arguments]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",objectTag$3="[object Object]";function baseClone(r,n,i,e,t,a){var o,s=n&CLONE_DEEP_FLAG,c=n&CLONE_FLAT_FLAG,l=n&CLONE_SYMBOLS_FLAG;if(void 0!==(o=i?t?i(r,e,t,a):i(r):o))return o;if(!isObject_1(r))return r;e=isArray_1(r);if(e){if(o=_initCloneArray(r),!s)return _copyArray(r,o)}else{var u=_getTag(r),d=u==funcTag$2||u==genTag$1;if(isBuffer_1(r))return _cloneBuffer(r,s);if(u!=ob:{};if(o=c||d?{}:_initCeAssignIn(o,r)):_copySymbols(r,_baseAssign(o,r))}u=(a=a||new _Stack).get(r);if(u)return u;a.)}):isMap_1(r)&&r.forEach(function(e,t){o.set(t,baseClone(e,n,i,t,r,a))yEach(p||r,function(e,t){p&&(e=r[t=e]),_assignValue(o,t,baseClone(e,n,i,t,r,a))}),o}var _baseClone=baseClone,CLONE_DEEP_FLAG$1=1,CLONE_SYMBOLS_FLAG$1=4;function cloneDeep(e){return _baseClone(e,CLONE_DEEP_FLAG$1|CLONE_SYMBOLS_FLAG$1)}var cloneDeep_1=cloneDeep;function stringHash(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++){t=(t<<turn t}var globalAdResets=0,defaultPlayereatives",defaultPlayedCreatives),CampaignExpandedView=function(){function e(){this.cpmEur=0}return e.prototype.videoAspectRatioValue=function(){return this.vastContentAspectRatio?getAspectRatioValue(thise){e=e||this.vastContent;e&&throwIfVastRepeated(this.adsGroup,e)},e.prototype.hasFailedPreviously=function(){return getVastHashes(this.adsGroup,this.vastContent).some(function(e){return-1!==persistentPlayedCreatives.failed.indexOf(e)})},e.prototype.shouldRun=function(){var e=this;if(!e.maximumAdLength)return!!1;var t=getCreativeMetadata(e.vastContent);return!(t.durationSeconds>MaximumAdDuration",t.durationSeconds,e.maximumAdLength),!0))},e.prototype.markAsViewed=function(e){var t=this,e=e||this.vastContent;e&&((e=getVastHashes(this.adsGroup,e)).forEach(function(e){persistentPlayedCreatives.map[e]=t.clone()}),"doubleclick"!==thieatives.failed.indexOf(e[0])&&persistentPlayedCreatives.queue.push(e[0]))},e.prototype.markAsFailed=function(){var e,t;this.expire&&this.expire().catch(functies(this.adsGroup,this.vastContent),(e=persistentPlayedCreatives.failed).push.apply(e,t),"doublereatives.queue.indexOf(e);-1!==e&&persistentPlayedCreatives.queue.splice(e,1)}))},e.prototype.reset=function(){this.adsGroup+=Math.floor(10*Math.random())},e.prototype.clone=function(){var e=cloneDeep_1(this);return delete e.expire,e},e}();function getRepeatedAsset(t){if(!integrationConfig.disableRepeatedAds()){var e=persistentPlayedCreatives.queue.findIndex(function(e){e=persistentPlayedCreatives.map[e];return 0<=t.indexOf(e.assetId)});if(-1!==e)return e=persistentPlayedCreatueue.push(e),(e=Object.assign(new CampaignExpandedView,persistentPlayedCreatives.map[e])).vastContentAspectRatio=null,e}}function throwIfVastRepeated(e,t){if(getVastHashes(e,t).some(function(e){return persistentPlayedCreatives.map[e]}))throw carodaConsoleSafe.info("CampaignExpandedView",".throwIfVastRepeated","asset repeated",t),new Error("asset repeated ".concat(t))}function getVastHashes(e,t){var r=t.match(/http[^\]><]+\.(mp[34]|wav|webm)/i),n=[];return n.push(stringHash(e+t)),r&&n.push(stringHash(e+r[0])),carodaConsoleSafe.info("CampaignExpandedView","getVastHashes",e,n),n}function resetGlobalAdsGroup(){persistentPlayedtPlay,persistentPlayedCreatives.resets++}function buildPriorityChain(e,t,r){var n=mapCampaignsByPriorities(e);return Object.keys(n).map(parseFloat).sort(function(e,t){return e-t}).map(function(e){return buildPriorityChainBlock(e,n[e],t,r)})}function waitForPriorityChainBlock(n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,Promise.all(n.entries.map(function(e){return e.expandedCampaignsPromise}))];case 1:return t=e.sent(),[2,flatMap_1(t.map(function(e,t){var r=e.error,e=e.expandedCampaigns;if(!r)return e;if(r.isBlockError)throw r;return carodaConsoleSafe.info("PriorityChain",".waitForPriorityChainBlock",n.entries[t].campaignViewId,r.message,r.stack),[]})).sort(sortCampaignsByCpm)]}})})}function mapCampaignsBn __assign(__assign({},e),((r={})[t.priority]=__spreadArray(__spreadArray([],e[t.priority]||[],!0),[t],!1),r))},{})}function buildPriorityChainBlock(e,t,r,n){return{entries:t.map(function(e){return buildPriorityChainBlockEntry(e,r,n)}),priority:e}}function buildPriorityChainBlockEntry(e,t,i){var n=this,t=e.getExpandedCached(t.playerInfo,t.shouldExcludeRepeated,t.adsGroup,t.allowBanners,t.allowCaching,t.vastMacroContext,t.adLoadTimeout,t.bannerSizeConfig).then(function(r){return __awaiter(n,void 0,void 0,function(){var t,n=this;return __generator(this,function(e){switch(e.label){case 0:return t=r,[4,Promise.all(t.map(function(r){return __generator(this,function(e){switch(e.label){case)})}))];case 1:return e.sent(),[2,{expandedCampaigns:t}]}})})}).catch(function(e){return{expandedCampaigns:[],error:e}});return{campaignViewId:e.id,expandedCampaignsPromise:t}}function sortCampaignsByCpm(e,t){return t.cpmEur-e.cpmEur}var AdPlayerLoader=function(){function e(e,t,r){void 0===t&&(t={}),this.adsGroup="".concat(Math.floor(1e6*Math.random())),this.logger=carodaConsoleSafe.getInstanceLogger("AdPlayerLoader"),this.logger.info(".constructor"),this.preprocessCampaignViews(e),this.options=t,this.options.sliderExpiryInSeconds=this.options.sliderExpiryInSeconds||integrationConfig.defaultSliderExpiryInSeconds(),this.options.expiry=new Date(Date.now()+1e3*this.options.sliderExpiryInSeconds),this.options.playerInfo=this.options.playerInfo||{plcmt:"standalone"},null==(e=this.options.playerInfo).plcmt&&(e.plcmt="standalone"),this.waitForPromise=this.options.waitForPromise||Promise.resolve(),this.globalConfigOverride=r,this.logger.info(".constructor",{self:this})}return e.prototype.loadOutstreamAdSlot=function(r,i){return void 0===i&&(i=function(){}),__awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return this.logger.info(".loadOutstreamAdSlot"),[2,this.getAdPlayer({containerElement:r,onPlayerReady:function(n){return __awaiter(t,void 0,void 0,function(){var t,r;return __generator(this,function(e){switch(e.label){case 0:return i(n),t=n.play(),r=n instanceof VVPlayer||n instanceof ImaPlayer?n.unfreezeWhenInView():Promise.resolve(),[4,Promise.all([t,r])];case 1:return e.sent(),[2]}})})},type:"outstream"})]})})},e.prototype.loadOutstreamSliderAdSlot=function(e,t){var r=this,t=void 0===t?{}:t,n=t.isSingleAd,c=void 0!==n&&n,n=t.onPlayerReady,l=void 0===n?function(){}:n,u=(this.logger.info(".loadOutstreamSliderAdSlot",{isSingleAd:c}),globalAdResets),d=!0,p=new VideoSliderAdPlayer(function(o,s){return void 0===s&&(s=function(){}),__awaiter(r,void 0,void 0,function(){var t,r,n,i,a=this;return __generatooid 0,function(){var t,r=this;return __generator(this,function(e){switch(e.label){case 0:return(s(n),l(n),isSliderPlayer(n))?((t=n).play().catch(function(e){return r.logger.warn(".loadOutstreamSliderAdSlot","could not play slider",e)}),[4,t.waitForAdValid()]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,n.play()];case 3:e.sent(),e.label=4;case 4:return p.onNextAdPlayer(n),[2]}})})},r=this.options.expiry&&this.options.expiry.getTime()<Date.now(),i=globalAdResets!==u,i=d||!c||i,u=globalAdResets,r||!i)?[3,2]:(this.logger.info(".loadOutstreamSliderAdSlot","fetch new ad"),[4,this.getAdPlayer({containerElement:o,onPlayerReady:t,type:d?"outstream-slider-mixed":"outstream-slider"})]);case 1:n=e.sent(),e.label=2;case 2:return n?[3,4]:(this.logger.info(".loadOutstreamSliderAdSlot","no new ad available, repeating",{isSingleAd:c,slideAdPlayer:n,isExpired:r}),[4,this.getAdPlayer({containerElement:o,onPlayerReady:t,type:"outstream-slider-untracked"})]);case 3:n=e.sent(),e.label=4;case 4:return d=!1,[2,{adPlayer:n,isExpired:r}]}})})},e,this.globalConfigOverride,__assign(__assign({},this.options),{isSingleAd:c}),this.assetIds);return this.activePlayer=p},e.prototype.preprocessCampaignViews=function(e){this.campaignViews=e.sort(orderByPriority),this.assetIds=this.getUniqueAssetIds(),integrationConfig.disableAds()&&(this.logger.info(".constructor","ads disabled by integration"),this.campaignViews=[])},e.prototype.getCampaignViewOpportunities=function(e){var t=e.type,r=e.containerElement,n=e&&e.adSlot,r=getPlayerDimensions(r),n={adSlot:n,playerInfo:__assign(__assign({},null==(n=null==this?void 0:this.options)?void 0:n.playerInfo),r)};return 0===e.ima&&(n.playerInfo.ima=0),this.getPriorityChain(t,n,e)},e.prototype.getAdPities=function(r,a){return __awaiter(this,void 0,void 0,function(){var i,t=this;return __generator(this,function(e){return this.logger.info(".getAdPlayerFromCampaignViewOpportunities",a),i=a.onPlayerReady||function(e){return e.play()},[2,this.processExpandedCampaignViewOpportunities(r,function(n){return __awaiter(t,void 0,void 0,function(){var t,r;return __generator(this,function(e){switch(e.label){case 0:t=n.adPlayer,e.label=1;case 1:return e.trys.push([1,5,,6]),t?[3,3]:[4,this.getAdPlayerFromCampaignExpandedView(n,a)];case 2:t=e.sent(),e.label=3;case 3:return this.activePlayer=t,[4,i(t)];case 4:return e.sent(),[2,t];case 5:return r=e.sent(),this.logger.info(".getAdPlayerFromCampaignViewOpportunities","skipped player",r.message,r),t&&t.destroy(),[2,null];case 6:return[2]}})})})]})})},e.prototype.processExpandedCampaignViewOpportunities=function(c,l){return __awaiter(this,void 0,void 0,function(){var t,r,n,i,a,o,s;return __generator(this,function(e){switch(e.label){case 0:this.logger.info(".processExpandedCampaignViewOpportunities"),t=0,r=c,e.label=1;case 1:if(!(t<r.length))return[3,10];n=r[t],e.label=2;case 2:return e.trys.push([2,8,,9]),[4,waitForPriorityChainBlock(n)];case 3:a=e.sent(),i=0,a=a,e.label=4;case 4:return i<a.length?(o=a[i],this.logger.info(".processExpandedCampaignViewOpportunities","processing",o),[4,l(o)]):[3,7];case 5:if(o=e.sent())return this.destroyPreloadedPlayers(c,o),[2,o];e.label=6;case 6:return i++,[3,4];case 7:return[3,9];case 8:return(s=e.sent()).isBlockError?(this.logger.info(".processExpandedCampaignViewOpportunities","block",s.message,s.stack),[3,10]):[3,9];case 9:return t++,[3,1];case 10:return this.destroyPreloadedPlayers(c,null),[2,null]}})})},e.prototype.getAdPlayer=function(r){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){return this.logger.info(".getAdPlayer",r),t=this.getCampaignViewOpportunities(r),[2,this.getAdPlayerFromCampaignViewOpportunities(t,r)]})})},e.prototype.getPriorityChain=function(e,t,r){var n=this,i=(this.logger.info(".getPriorityChain",{type:e,opts:t,adPlayerBuildOptions:r}),t.adSlot&&t.adSlot.campaigns),a=-1!==["outstream-slider","outstream-slider-mixed","outstream-slider-untracked"].indexOf(e),o=-1===["outstream-slider","outstream-slider-untracked"].indexOf(e);if("outstream-slider-untracked"===e)return s=getRepeatedAsset(this.assetIds),this.logger.info(".getPriorityChain",{repeatedAsset:s}),s?[{entries:[{campaignViewId:s.id,expandedCampaignsPromise:Promise.resolve({expandedCampaigns:[s]})}],priority:s.priority}]:[];var s=this.campaignViews.filter(function(e){return!i||-1!==i.indexOf(e.id)}),e=(this.logger.info(".getPriorityChain","expanding campaign views",s.map(function(e){return e.id})),!1!==this.options.allowCaching&&"outstream-slider"!==e);return buildPriorityChain(s,{adLoadTimeout:integrationConfig.adLoadTimeout(),adsGroup:t.adSlot&&t.adSlot.adsGroup||this.adsGroup,allowBanners:o,allowCaching:e,bannerSizeConfig:this.options.bannerSizeConfig,playerInfo:this.getPlayerInfoForPriorityChain(t.playerInfo),shouldExcludeRepeated:a,vastMacroContext:r.trackingConfig?r.trackingConfig.context:{}},function(t){return __awaiter(n,void 0,void 0,function(){return __generator(this,function(e){return[2,"doubleclick"===t.type?this.getAdPlayerFromCampaignExpandedView(t,r):null]})})})},e.prototype.getPlayerInfoForPriorityChain=function(e){return e},e.prototype.getAdPlayerFromCampaignExpandedView=function(a,o){return __awaiter(this,void 0,void 0,function(){var t,r,n,i;return __generator(this,function(e){if(t=o.type,r=o.containerElement,this.logger.info(".getAdPlayer",t),n=-1!==["outstream-slider","outstream-slider-mixed","outstream-slider-untracked"].indexOf(t),i=n&&"outstream-slider-untracked"!==t,"outstream"===t)return[2,this.getOutstreamAdLoader(a,r)];if(n)return[2,this.getOutstreamSliderAdLoader({allow3rdPartyPlayer:"outstream-slider-mixed"===t,campaignView:a,containerElement:r,forceAspectRatio:o.forceAspectRatio,isFirstRun:"outstream-slider-mixed"===t,shouldExcludeRepeated:i,trackingConfig:o.trackingConfig,trackingEnabled:"outstream-slider-untracked"!==t})];throw new Error("unrecognized type ".concat(t))})})},e.prototype.getOutstreamAdLoader=function(r,n,i){var a;return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return(this.logger.info(".getOutstreamAdLoader"),"teads"===r.type)?(t={campaignView:r,globalConfigOverride:this.globalConfigOverride,parentElement:n,secondsToConsiderPlayersFinished:this.options.secondsToConsiderThirdPartyPlayersFinished,trackingConfig:i},[2,new(DemoTeadsPlayer.isDemoTeadsTag(r.teadsScriptUrl)?DemoTeadsPlayer:TeadsPlayer)(t)]):"smartclip"===r.type?[2,new SmartclipPlayer({campaignView:r,containerElement:n,globalConfigOverride:this.globalConfigOverride,secondsToConsiderPlayersFinished:this.options.secondsToConsiderThirdPartyPlayersFinished,trackingConfig:i})]:"banner"===r.type?[2,new BannerPlayer({campaignView:r,containerElement:n,globalConfigOverride:this.globalConfigOverride,ignorePassbackAfterSeconds:this.options.ignorePassbackAfterSeconds,trackingConfig:i,unfreezePrecondition:this.options.unfreezePrecondition})]:"doubleclick"!==r.type?[3,3]:r.sspUrl&&r.sspUrl.match(/smartadserver\.com/)?[4,waitFor(function(){return isInVerticalView(n)})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2,new ImaPlayer({campaignView:r,clickThroughUrlBlacklistGlobs:null==(a=libraryWindow.carodaIntegrationRecord)?void 0:a.clickThroughUrlBlacklistGlobs,globalConfigOverride:this.globalConfigOverride,opts:__assign(__assign({},this.options),{trackingConfig:i}),parentElement:n,shouldExcludeRepeated:!1})];case 3:return"aniview"===r.type?[2,new AniviewPlayer({campaignView:r,globalConfigOverride:this.globalConfigOverride,parentElement:n,secondsToConsiderPlayersFinished:this.options.secondsToConsiderThirdPartyPlayersFinished,trackingConfig:i})]:[2,new VVPlayer({campaignView:r,clickThroughUrlBlacklistGlobs:null==(a=libraryWindow.carodaIntegrationRecord)?void 0:a.clickThroughUrlBlacklistGlobs,globalConfigOverride:this.globalConfigOverride,opts:__assign(__assign({},this.options),{trackingConfig:i}),parentElement:n,shouldExcludeRepeated:!1})]}})})},e.prototype.getOutstreamSliderAdLoader=function(e){var r,n=e.campaignView,i=e.containerElement,a=e.trackingEnabled,o=e.allow3rdPartyPlayer,s=e.isFirstRun,c=e.forceAspectRatio,l=e.trackingConfig,u=e.shouldExcludeRepeated;return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){if(t=usesExternalPlayer(n.type),this.logger.info(".getOutstreamSliderAdLoader",{allow3rdPartyPlayer:o,is3rdPartyPlayer:t,isFirstRun:s,trackingEnabled:a}),t){if(o)return[2,this.getOutstreamAdLoader(n,i,l)];throw new Error("".concat(n.type," incompatible with outstream slider"))}return"doubleclick"===n.type?[2,new SliderImaPlayer({campaignView:n,clickThroughUrlBlacklistGlobs:null==(r=libraryWindow.carodaIntegrationRecord)?void 0:r.clickThroughUrlBlacklistGlobs,globalConfigOverride:this.globalConfigOverride,opts:__assign(__assign({},this.options),{trackAsSlider:!s,trackingConfig:l}),parentElement:i,shouldExcludeRepeated:u})]:[2,new SliderVVPlayer({campaignView:n,clickThroughUrlBlacklistGlobs:null==(r=libraryWindow.carodaIntegrationRecord)?void 0:r.clickThroughUrlBlacklistGlobs,globalConfigOverride:this.globalConfigOverride,opts:__assign({forceAspectRatio:c,trackAsSlider:!s,trackingConfig:l,trackingEnabled:a},tn(){return Array.from(new Set(this.campaignViews.map(function(e){return e.assetId})))},e.prototype.destroyPreloadedPlayers=function(e,t){function n(e){return e.adPlayer}function i(e){return e&&e.destroy()}function a(e){return e===t}var o=this;e.forEach(function(r){return __awaiter(o,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,waitForPriorityChainBlock(r)];case 1:return e.sent().map(n).filter(not(a)).forEach(i),[3,3];case 2:return t=e.sent(),this.logger.error(".destroyPreloadedPlayers",r,t),[3,3];case 3:return[2]}})})})},e}();function orderByPriority(e,t){return e.priority-t.priority+.001*Math.random()-5e-4}var ExternalRendererAdPlayerLoader=function(n){function e(e,t,r){void 0===t&&(t={});e=n.call(this,e,__assign(__assign({containerElement:renderDocument.createElement("div")},t),{allowCaching:!1}),r)||this;return e.logger=carodaConsoleSafe.getInstanceLogger("ExternalRendererAdPlayerLoader"),e}return __extends(e,n),e.prototype.getExternalRendererExpandedCampaign=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i=this;return __generator(this,function(e){switch(e.label){case 0:return t=this.getCampaignViewOpportunities(this.options),n=[],[4,this.processExpandedCampaignViewOpportunities(t,function(r){return __awaiter(i,void 0,void 0,function(){var t;return __generator(this,function(e){return r.shouldRun()&&(r.vastContent||this.options.allowBanners&&r.banner.vastContentAspectRatio||0!==(null==(t=this.options.playerInfo)?void 0:t.ima)&&"doubleclick"===r.type)&&n.push(r),[2]})})})];case 1:return e.sent(),[2,n]}})})},e.prototype.getAdPlayerFromCampaignExpandedView=function(e,t){return null},e.prototype.getPlayerInfoForPriorityChain=function(e){return __assign(__assign({},e),{position:this.position})},e}(AdPlayerLoader),minimatch$3=minimatch_1||minimatchModule,OverrideSkipBehavioreamPosition,r=e.contentDurationSeconds,n=e.path,e=!(null!=(e=t.whitelist)&&e.length)||t.whitelist.some(function(e){return minimatch$3(n,e)}),i=!(null==(i=t.blacklist)||!i.length)&&t.blacklist.some(function(e){return minimatch$3(n,e)}),a=null==r||null==t.minVideoLength||t.minVideoLength<=r,t=null==r||null==t.maxVideoLength||t.maxVideoLength>=r;return e&&!i&&a&&t}function getSkipButtonBehavior(e,t){return(null==e?void 0:e.overrideSkipBehavior)===OverrideSkipBehavior.OverrideInstream?{hideSkipButton:!1}:e&&e.overrideSkipBehavior&&e.overrideSkipBehavior!==OverrideSkipBehavior.None?getCampaignSkipButtonBehavior(e):getAdSlotSkipButtonBehavior(t)}function getAdSlotSkipButtonBehavior(e){return e?{fixedSkipOffset:e.fixedSkipOffset,hideSkipButton:e.hideSkipButton}:{hideSkipButton:!1}}function getCampaignSkipButtonBehaideSkipBehavior===OverrideSkipBehavior.Fixed?{fixedSkipOffset:e.fixedSkipOffset,hideSkipButton:!1}:{hideSkipButton:!1}:{hideSkipButton:!1}}!function(e){e.None="none",e.Fixed="fixed",e.Hide="hide",e.OverrideInstream="overrideInstream"}(OverrideSkipBehavior=OverrideSkipBehavior||{});var MIN_SECONDS_BETWEEN_INSTREAM_AD_BREAKS=5,InstreamAdPlayerLoader=function(n){function e(e,t,r){t=n.call(this,[],t=void 0===t?{playerInfo:{plcmt:"instream"}}:t,r)||this;return t.BANNED_FORMATS=["square","vertical","vertical-3-4","horizontal-4-3"],t.placementIdToCampaignViews=integrationConfig.disableAds()?{}:e,Object.values(t.placementIdToCampaignViews).forEach(function(e){return e.sort(orderByPriority)}),t.logger=carodaConsoleSafe.getInstanceLogger("InstreamAdPlayerLoader"),t}return __extends(e,n),e.prototype.loadInstreamWithPositionsAdSlot=function(e){var i,r,a=this,t=e.containerElement,n=e.adSlot,o=e.onPlayerReady,s=void 0===o?function(){}:o,o=e.onPlayerInitializationError,c=void 0===o?function(){}:o,o=e.trackingConfig,e=e.shouldContinuePriorityChain,l=void 0===e?function(){return!0}:e,u=(this.logger.info(".loadInstreamWithPositionsAdSlot",n),new Promise(function(e){r=e})),d=this.getAdPlayer({adSlot:n,containerElement:t,onPlayerReady:function(n){return __awaiter(a,void 0,void 0,function(){var t,r;return __generator(this,function(e){switch(e.label){case 0:return(this.logger.info(".loadInstreamWithPositionsAdSlot","onPlayerReady",n),l())?(s(n),t=n.play(),i=n,[4,Promise.race([u,t])]):(this.logger.info(".loadInstreamWithPositionsAdSlot",".onPlayerReady","priority chain crInitiated:!1,unmute:0<r}),void 0!==r&&i.setVolume(r),[4,t];case 2:return e.sent(),i.destroy(),[2]}})})},trackingConfig:o,type:"instream-with-positions"});d.catch(function(e){return a.logger.info(".loadInstreamWithPositionsAdSlot",e)}).then(function(){a.logger.info(".loadInstreamWithPositionsAdSlot",{player:i}),i||(a.logger.info(".loadInstreamWithPositionsAdSlot","error"),c()),iterateWaiters()});return function(e){var t=e.userInitiated,e=e.volume;return l()?(i&&(i.unfreeze({userInitiated:t,unmute:0<e}),i.setVolume(e)),r(e),Promise.race([d,waitFor(not(l)).then(function(){throw c(),new Error("priority chain cancelled")})])):(a.logger.info(".loadInstreamWithPositionsAdSlot",".play","priority chain cancelled"),c(),Promise.resolve(null))}},e.&(e=[]),void 0===t&&(t=Number.MAX_SAFE_INTEGER),this.logger.info(".transformInstreamPositionsIntoCampaingIdsByPosition",e,t),e.filter(function(e){return isTargeted({instreamPosition:e,contentDurationSeconds:t,path:pageLocation.href})}).map(function(e){return __assign(__assign({isFallback:!!e.isFallback,overrideSkipBehavior:e.overrideSkipBehavior||OverrideSkipBehavior.None},e.overrideSkipBehavior===OverrideSkipBehavior.Fixed?{fixedSkipOffset:e.fixedSkipOffset}:{}),{placementId:e.vid,position:r.getInstreamPositionPosition(e,t),priority:e.priority})}).filter(function(e){e=e.position;return"preroll"===e||"postroll"===e||parseFloat(e)<t})),e=this.mergeCloseInstreamPositionCampaignIds(e,t).map(function(e){return __assign(__assign({},e),{instreamPositions:e.instreamPositions.sort(orderByPriority)})});return this.logger.info(".transformInstreamPositionsIntoCampaingIdsByPosition",e),e},e.prototype.hasCampaigns=function(e){return 0<(null==(e=this.placementIdToCampaignViews[e])?void 0:e.length)},e.prototype.getPriorityChain=function(e,t,r){var n=this,e=(this.logger.info(".getPriorityChain",e,t),__assign(__assign({},t.playerInfo),{position:t.adSlot.adBreakType})),i=this.placementIdToCampaignViews[t.adSlot.placementId];return this.logger.info(".getPriorityChain","expanding campaign views",i.map(function(e){return e.id})),buildPriorityChain(i,{adLoadTimeout:integrationConfig.instreamAdLoadTimeout(),adsGroup:(t.adSlot||this).adsGroup,allowBanners:!1,allowCaching:!0,bannerSizeConfig:{},playerInfo:e,shouldExcludeRepeated:!0,vastMacroContext:r.trackingConfig?r.trackingConfig.context:{}},function(t){return __awaiter(n,void 0,void 0,function(){return __generator(this,function(e){return[2,"doubleclick"===t.type?this.getAdPlayerFromCampaignExpandedView(t,r):null]})})})},e.prototype.getAdPlayerFromCampaignExpandedView=function(o,s){return __awaiter(this,void 0,void 0,function(){var t,r,n,i,a;return __generator(this,function(e){return t=s.type,r=s.containerElement,a=s&&s.adSlot,n=a&&a.adBreakType||"preroll",a=getSkipButtonBehavior(o,a),i=a.hideSkipButton,a=a.fixedSkipOffset,this.logger.info(".getAdPlayer",{type:t,hideSkipButton:i,fixedSkipOffset:a}),[2,this.getInstreamWithPositionsAdLoader(o,r,i,a,n)]})})},e.prototype.getInstreamPositionPosition=function(e,t){return"preroll"===e.position||"postroll"===e.position?e.position:"percentage"===e.unit?"".concat(t/100*e.break):"".concat(e.break)},e.prototype.getInstreamWithPositionsAdLoader=function(t,r,n,i,a){var o;return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){if(this.logger.info(".getInstreamWithPositionsAdLoader"),usesExternalPlayer(t.type))throw new Error("Not supported");return[2,"doubleclick"===t.type?new ImaPlayer({campaignView:t,clickThroughUrlBlacklistGlobs:null==(o=libraryWindow.carodaIntegrationRecord)?void 0:o.clickThroughUrlBlacklistGlobs,globalConfigOverride:this.globalConfigOverride,opts:__assign(__assign({},this.options),{bannedFormats:this.options.bannedFormats||this.BANNED_FORMATS,fixedSkipOffset:i,hideSkipButton:n,instream:!0,keepLastFrame:!1,muted:!0}),parentElement:r,shouldExcludeRepeated:!0}):new VVPlayer({campaignView:t,clickThroughUrlBlacklistGlobs:null==(o=libraryWindow.carodaIntegrationRecord)?void 0:o.clickThroughUrlBlacklistGlobs,globalConfigOverride:this.globalConfigOverride,opts:__assign(__assign({},this.options),{bannedFormats:this.options.bannedFormats||this.BANNED_FORMATS,fixedSkipOffset:i,hideSkipButton:n,instream:!0,instreamAdBreakType:a,keepLanstreamPositionCampaignIds=function(o,s){var c=this,l=(this.logger.info(".mergeCloseInstreamPositionCampaignIds",o,s),[]),u=[];return o.sort(function(e,t){return c.getInstreamPositionInSeconds(e,s)-c.getInstreamPositionInSeconds(t,s)}).forEach(function(e,t){if(-1===u.indexOf(e.position)){for(var r=c.getInstreamPositionInSeconds(e,s),n={instreamPositions:[e],position:s-r<MIN_SECONDS_BETWEEN_INSTREAM_AD_BREAKS?"postroll":e.position},i=t+1;i<o.length;){var a=c.getInstreamPositionInSeconds(o[i],s);if(MIN_SECONDS_BETWEEN_INSTREAM_AD_BREAKS<=a-r)break;n.instreamPositions.push(o[i]),u.push(o[i].position),i++}l.push(n)}}),this.logger.info(".mergeCloseInstreamPositionCampaignIds",l),l},e.prototype.getInstreamPositionInSeconds=function(e,t){return"preroll"===e.position?0:"postroll"===e.position?t:parseFloat(e.position)},e}(AdPlayerLoader),PrebidAdapterAdPlayerLoader=function(o){function e(e,t,r,n){void 0===n&&(n=[]);var i=o.call(this,[],t=void 0===t?{}:t,r)||this;return i.preloadedAds=n,i.logger=new InstanceLogger("PrebidAdapterAdPlayerLoader[".concat(Math.round(1e6*Math.random()),"]")),e.then(function(e){i.logger.log({campaignViews:e}),i.preprocessCampaignViews(e)}),i}return __extends(e,o),e.prototype.getPriorityChain=function(e,t,r){function n(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(e=i.logger).log.apply(e,__spreadArray(["getPriorityChain"],t,!1))}var i=this,a=this.preloadedAds.shift();return a?(n("preloadedAd",a),a.adsGroup=this.adsGroup,"doubleclick-vast"===a.type&&-1===a.sspUrl.indexOf("ima=0")&&(a.type="doubleclick"),[{entries:[{campaignViewId:a.id,expandedCampaignsPromise:Promise.resolve({error:!1,expandedCampaigns:[a]})}],priority:1}]):(n("no preloaded ads"),o.prototype.getPriorityChain.call(this,e,t,r))},e}(AdPlayerLoader);function logBotDetection(){var e=renderWindow;(e._phantom||e.callPhantom||e.__phantomas)&&carodaConsoleSafe.info("BotLogger",".logBotDetection","Phantom JS detected"),e.Buffer&&carodaConsoleSafe.info("BotLogger",".logBotDetection","Node JS detected"),e.spawn&&carodaConsoleSafe.info("BotLogger",".logBotDetection","Rhino detected"),e.navigator.webdriver&&carodaConsoleSaUND",e}t=a[r]={exports:{}};i[r][0].call(t.exports,function(e){var t=i[r][1][e];return s(t||e)},t,t.exports,n,i,a,o)}return a[r].exports}for(var c="function"==typeof commonjsReq<o.length;e++)s(o[e]);return s}({1:[function(e,l,t){!function(t){var e,r,n,i,a=t.MutationObserver||t.WebKitMutationObent("script")?function(){var e=t.document.crechangmentElememeout(c,0)}:((n=new t.MessageChannel).port1.onmessage=c,function(){n.port2.postMessage(0)}),s=[];function c(){i=!0;for(var e,t,r=s.length;r;){for(t=s,s=[],e=-1;++e<r;)t[e]();r=s.length}i=!1}l.exports=function(e){1!==s.pus{r||(r=!0,l.reject(t,e)))}var a=h(functioype.then=function(e,t){if("function"!=typeof e&&this.state===o||"function"!=typeof t&&this.state===a)return this;var r=new this.constructor(c);return this.state!==n?d(r,queue.push(new u(r,e,t)),r},u.his.promismise,thise;if(r)f(e[n].callF=a,e.oh,i=!1;rror("must be an array"));vaew this(c);for(;++i<r;)!function(e){t.resolve(e).then(function(e){n||(n=!0,l.resolve(a,e))},function(e){n||(n=!0,l.reject(a,e))})}(e[i]);return a}},{1:1}],3:[function(t,e,r){!function(e){"function"!=typeof e.Pr,{2:2}efr(var n=new("undefined"!=typeof BlobBuilder?Bloction u(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(esion "+t.newVersion+', b'" already exists.')}}),n.onerror=function(e){e.preventDefault(),r(n.error)},n.onsuccess=function(){var e=n.result;e.onversionchange=function(e){e.target.close()},t(e),m(i)}})}function v(e){return n(e,!1)}function _(e){return n(e,!0)}function b(e,t){if(!e.db)return 1;var r=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,i=e.version>e.db.vction(e){r.db=n.db=e;for(var t=0;t){return t(navigato._dbInfoon(e,t){jectStore(crn i(e,p,funcdy()y{vare)return a(e).onsuccess=function(){var e=n.result;e&&e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<n.length;t++)m(n[t]._dbInfo)}).catch(function(e){throw(y(o,e)||f.resolve()).catch(function(){}),e})})):f.reject("Invalid arguments"),e),t}};var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",W=/^~~local_forage_type~([^~]+)~/,A="__lfsc__:",P=A.length,H=P+"arbf".length,z=Object.prototype.toString;function G(e){for(var t,r,n,i,a=.75*e.length,o=e.length,s=0,a=("="===e[e.length-nt8Array(e),r=""eReader;i.on(i);case"ur16":return new Uint16Arrtion(e){k(e,n,"INSERT OR REPLACE INTO "+n[t];var r=new f(function(t,r){try{i.db=openDatabas.storeNansactio+" WHERE kear a=tt,e),t}new unctin(function(){ostoreNames[t]));f.all(e).then(function(){i()}).catch(function(e){a(e)})},function(e){a(e)})})}):f.reject("Invalid arguments");return h(t,e),t}};function J(e,t){var r=e.name+"/"ge.setItem(e,!0),localStorage.removeItem(e),0}cataN(r)&&isturn t.keyefix,r=t,o.subst,n){var i=sor"!==t)}));r=n._().ths:function(e)){t.storeName?e(J(t,r._defaultConfig)):e(t.name+"/")}).then(function(e){for(var t=localStorage.length-1;0<=t;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}}):f.reject("Invalid arguments");return h(n,e),n}},Z=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},O={},ee={},x={INDEXEDDB:e,WEBSQL:i,LOCALSTORAGE:Q},e=[x.INDEXEDDB._driver,x.WEBSQL._driver,_defaultConfig=M({if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)},L.prototype.defineDriver=function(p,e,t){var r=new f(function(t,r){try{var n=p._driver,e=new Error("Custom driver not compliant; see https://mozilla.github.io/localForagreturn void r(e)}for(var c=0,l=N.length;c<l;c++){var u=N[c];p[u]||(p[u]=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),e=f.reject(e);return h(e,arguments[arguments.length-1]),e}}(u))}function d(lForage driver: "+n),O(!!p._support):d(!0)}catchr=function(){returt,r),e},L.prototype.geer=e._driver,o(),a._w),a._initDriver=i(n)();var e=new Error("No available ._driverSet},L.prototype.supports=functiosupports(i)&&t.push(i)}return t},L.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=R.length;e<t;e++)!function(t,r){t[r]=function(){var e=arguments;return t.ready().then(function(){return t[r].apply(t,e)})}}(this,R[e])},L.prototype.createInstance=function(e){return new L(e)};i=new L;F.exports=i},{3:3}]},{},[4])(4)}),defaultLocalForageConfig={description:"Content stored by Caroda for basic functionality purposes. More information on https://caroda.io.",driver:localforage.INDEXEDDB,name:"caroda",storeName:"default"},CachedTable=function(){function e(e,t,r){this.logger=new InstanceLogger("CachedTable[".concat(e,".").concat(t,"]")),this.logger.info("constructor",e,t),this.localForageInstance=localforage.createInstance(__assign(__assign({},defaultLocalForageConfig),{storeName:e})),this.ttl=t,this.builder=r,this.clearAllExpired()}return e.prototype.get=function(r){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return this.logger.info("get",r),[4,this.getCachedTableState()];case 1:return(t=e.sent(),t=t[r])?t.expiryTimestamp<Date.now()?(this.logger.info("get",r,"returned null (expired)"),[2,null]):(this.logger.info("get",r,"returned",t.value),[2,this.builder(JSON.parse(t.value))]):(this.logger.info("get",r,"returned null"),[2,null])}})})},e.prototype.set=function(r,n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return this.logger.info("set",r,"to",n),[4,this.getCachedTableState()];case 1:return(t=e.sent())[r]={expiryTimestamp:Date.now()+1e3*this.ttl,value:JSON.stringify(n)},[4,this.setCachedTableState(t)];case 2:return e.sent(),[2]}})})},e.prototype.remove=function(r){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return this.logger.info("remove",r),[4,this.getCachedTableState()];case 1:return delete(t=e.sent())[r],[4,this.setCachedTableState(t)];case 2:return e.sent(),[2]}})})},e.prototype.getCachedTableState=function(){return __awaiter(this,void 0,void 0,function(){var t,r=this;return __generator(this,function(e){switch(e.label){case 0:return[4,this.localForageInstance.getItem(this.localForageInstance.config().storeName).catch(function(e){return r.logger.error(e)})];case 1:return(t=e.sent())?[2,t]:[2,{}]}})})},e.prototype.setCwaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return[2,this.localForageInstance.setItem(this.localForageInstance.config().storeName,Object.assign({},r)).catch(function(e){return t.logger.error(e)})]})})},e.prototype.clearAllExpired=function(){return __awaiter(this,void 0,void 0,function(){var t,r,n;return __generator(this,function(e){switch(e.label){case 0:return[4,this.g];case 2:return e.sent(),[2&&(r+=e),(t=nativeFloor=e.length,a=((r=i<r?i:r)<0&&(r+=i),i=r<(t=t<0?i<-t?0:i+t:t)?0:r-t>>>0,t>>>=0,Array(i));++n<i;)a[n]=e[n+t];return a}var _baseSlice=baseSlice;function castSlice(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&n<=r?e:_baseSlice(e,t,r)}var _castSlice=castSlice,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$2="\\u0300-\\u036f",reComboHalfMarksRange$2="\\ufe20-\\ufe2f",rsComboSymbolsRange$2="\\u20d0-\\u20ff",rsComboRange$2=rsComboMarksRange$2+reComboHalfMarksRange$2+rsComboSymbolsRange$2,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$2+rsVarRange$1+"]");function hasUnicode(e){return reHasUnicode.test(e)}var _hasUnicode=hasUnicode,asciiSize=_baseProperty("length"),_asciiSize=asciiSize,rsAstralRange$2="\\ud800-\\udfff",rsComboMarksRange$3="\\u0300-\\u036f",reComboHalfMarksRange$3="\\ufe20-\\ufe2f",rsComboSymbolsRange$3="\\u20d0-\\u20ff",rsComboRange$3=rsComboMarksRange$3+reComboHalfMarksRange$3+rsComboSymbolsRange$3,rsVarRange$2="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange$2+"]",rsCombo$2="["+rsComboRange$3+"]",rsFitz$1="\\ud83c[\\udffb-\\udfff]",rsModifier$1="(?:"+rsCombo$2+"|"+rsFitz$1+")",rsNonAstral$1="[^"+rsAstralRange$2+"]",rsRegional$1="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$1="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ$2="\\u200d",reOptMod$1=rsModifier$1+"?",rsOptVar$1="["+rsVarRange$2+"]?",rsOptJoin$1="(?:"+rsZWJ$2+"(?:"+[rsNonAstral$1,rsRegional$1,rsSurrPair$1].join("|")+")"+rsOptVl$1+rsCombo$2+"?",rsCombo$2,rsRegional$1,rsSurrPair$1,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz$1+"(?="+rsFitz$1+")|"+rsSy(var t=reUnicode.lastIndex=0;reUnicode.test(e);)++t;return t}var _unicodeSize=unicodeSize;function stringSize(e){return(_hasUnicode(e)?_unicodeSize:_asciiSize)(e)}var _stringSize=stringSize;function asciiToArray(e){return e.split("")}var _asciiToArray=asciiToArray,rsAstralRange$3="\\ud800-\\udfff",rsComboMarksRange$4="\\u0300-\\u036f",reComboHalfMarksRange$4="\\ufe20-\\ufe2f",rsComboSymbolsRange$4="\\u20d0-\\u20ff",rsComboRange$4=rsComboMarksRange$4+reComboHalfMarksRange$4+rsComboSymbolsRange$4,rsVarRange$3="\\ufe0e\\ufe0f",rsAstral$1="["+rsAstralRange$3+"]",rsCombo$3="["+rsComboRange$4+"]",rsFitz$2="\\ud83c[\\udffb-\\udfff]",rsModifier$2="(?:"+rsCombo$3+"|"+rsFitz$2+")",rsNonAstral$2="[^"+rsAstralRange$3+"]",rsRegional$2="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$2="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ$3="\\u200d",reOptMod$2=rsModifier$2+"?",rsOptVar$2="["+rsVarRange$3+"]?",rsOptJoin$2="(?:"+rsZWJ$3+"(?:"+[rsNonAstral$2,rsRegional$2,rsSurrPair$2].join("|")+")"+rsOptVar$2+reOptMod$2+")*",rsSeq$2=rsOptVar$2+reOptMod$2+rsOptJoin$2,rsSymbol$1="(?:"+[rsNonAstral$2+rsCombogExp(rsFitz$2+"(?="+rsFitz$2+")|"+rsSymbol$1+rsSeq$2,"g");function unicodeToArray(e){return e.match(reUnicode$1)||[]}var _unicodeToArray=unicodeToArray;function stringToArray(e){return(_hasUnicode(e)?_unicodeToArray:_asciiToArray)(e)}var _stringToArray=stringToArray,nativeCeil=Math.ceil;function createPadding(e,t){var r=(t=void 0===t?" ":gSize(t)));return _hasUnicode(t)?_castSlice(_stringToArtion trimmedEndIndex(e){for(var t=e.length;t--&&reWhitespace.test(e.charAt(t)););return t}var _trimmedEndIndex=trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim(e){return e&&e.slice(0,_trimmedEndIndex(e)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(e){if("number"==typeof e)return e;if(isSymbol_1(e))return NAN;if(isObject_1(e)&&(t="function"==typeof e.valueOf?e.valueOf():e,e=isObject_1(t)?t+"":t),lice(2),t?2:8):reIsBadH976931348623157e292;functite_1=toFinite;function toInteger(e){var e=toFinite_1(e),t=e%1;return e==e?t?e-t:e:0}var toInteger_1=toInteger;function padStart(e,t,r){e=toString_1(e);var n=(t=toInteger_1(t))?_stringSize(e):0;return t&&n<t?_createPadding(t-n,r)+e:e}var padStart_1=padStart;function getAdformTimedStaticAd(s,c,l){return __awaiter(this,void 0,void 0,function(){var t,r,n,i,a,o;return __generator(this,function(e){switch(e.label){case 0:if(l<=0)throw new Error("get static Ad exceeded campaign timed out");return[4,requestJson(function(e){e.open("GET",s),e.timeout=l,e.send()})];case 1:if(a=e.sent(),t=a.url,r=a.clk,a=a.imp,t)return carodaConsoleSafe.info("AdformTimedStaticHelper","getAdformTimedStaticAd",{adformUrl:s,url:t,clk:r,imp:a}),n=c%60,o=Math.floor(c/60),n=padStart_1(String(n),2,"0"),o=padStart_1(String(o),2,"0"),i=Math.max(Math.min(Math.floor(c),90),0),i="http://cdn4.caroda.io/noaudio/".concat(i,"s.mp3"),a='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n    <VAST version="4.0">\n        <Ad id="'.concat(Math.floor(1e6*Math.random()),'">\n            <InLine>\n                <AdSystem version="2.0">Caroda Direct Ad Service</AdSystem>\n                <AdTitle><![CDATA[ Caroda Powered Creative ]]></AdTitle>\n                <Description></Description>\n                <Impression id="adfi">').concat(a,"</Impression>\n                <Creatives>\n                    <Creative>\n                        <Linear>\n                            <Duration>00:").concat(o,":").concat(n,'</Duration>\n                            <VideoClicks>\n                               <ClickThrough id="adfc">').concat(r,'</ClickThrough>\n                           </VideoClicks>\n                            <MediaFiles>\n                                <MediaFile\n                                    type="audio/mp3"\n                                    width="640"\n                                    height="360"\n                                    delivery="progressive"\n                                    id="1"\n                                    scalable="true"\n                                    maintainAspectRatio="true">\n                                    <![CDATA[').concat(i,']]>\n                                </MediaFile>\n                            </MediaFiles>\n                        </Linear>\n                    </Creative>\n                </Creatives>\n                <Extensions>\n                    <Extension type="caroda-poster">').concat(t,"</Extension>\n                </Extensions>\n            </InLine>\n        </Ad>\n    </VAST>"),o=new Blob([a],{type:"text/xml"}),[2,libraryWindow.URL.createObjectURL(o)];throw new Error("adform response does not include an image to display")}})})}var dataAsOf="2024-02-09T00:00:00.000Z",generatedAt="2024-02-11T16:00:35.487Z",conversions={USD:{USD:1,JPY:149.461567025622,BGN:1.8156331229112515,CZK:23.367991088005944,DKK:6.919420720386187,GBP:.793167471221686,HUF:360.17452655031565,PLN:4.01095432603045,RON:4.620590419606387,SEK:10.472985518009654,CHF:.8756034162643892,ISK:137.48607500928333,NOK:10.582064611956925,TRY:30.68297437801708,AUD:1.5357408095061271,BRL:4.97929818046788,CAD:1.34478277014482,CNY:7.193557370961753,HKD:7.819996286669143,IDR:15636.901225399184,ILS:3.6844597103601933,INR:83.02664314890457,KRW:1332.389528406981,MXN:17.1229112513925,MYR:4.765038989974007,NZD:1.6295024136650578,PHP:55.89955440029707,SGD:1.3463609357593762,THB:35.945042703304864,ZAR:19.016617155588563,EUR:.9283327144448571},GBP:{USD:1.2607677902621721,JPY:188.43632958801496,BGN:2.2890917602996255,CZK:29.461610486891384,DKK:8.72378277153558,GBP:1,HUF:454.09644194756555,PLN:5.0568820224719095,RON:5.825491573033707,SEK:13.204002808988763,CHF:1.103932584269663,ISK:173.3380149812734,NOK:13.341526217228463,TRY:38.68410580524344,AUD:1.9362125468164795,BRL:6.277738764044943,CAD:1.6954588014981273,CNY:9.06940543071161,HKD:9.859199438202246,IDR:19714.501404494382,ILS:4.645248127340824,INR:104.67731741573033,KRW:1679.8338014981273,MXN:21.588014981273407,MYR:6.007607677902621,NZD:2.054424157303371,PHP:70.47635767790263,SGD:1.697448501872659,THB:45.31835205992509,ZAR:23.97553838951311,EUR:1.1704119850187265}},currencyConversions={dataAsOf:dataAsOf,generatedAt:generatedAt,conversions:conversions},usdToCurrency=currencyConversions.conversions.USD;function getConversionRate(e,t){return"USD"===e?usdToCurrency[t]:rofunction round(e,t){return void 0===t&&(t=16),Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function isValidSize(e,t){var r=t.allowedSizes,n=t.maxWidth,t=t.maxHeight,i=e[0],a=e[1];return(!r||r.some(function(e){return e[0]===i&&e[1]===a}))&&(!n||i<=n)&&(!t||a<=t)}function applyBannerSizeConfigToGPTBanner(bannerScript,bannerSizeConfig){var log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return carodaConsoleSafe.info.apply(carodaConsoleSafe,__spreadArray(["applyBannerSizeConfigToGPTBanner",{bannerScript:bannerScript,bannerSizeConfig:bannerSizeConfig}],e,!1))};try{var scriptLines=bannerScript.split("\n"),googleTagManagerSizesLine=scriptLines.find(function(e){return e.includes("[[")});if(!googleTagManagerSizesLine)return log("processable sizes not found"),bannerScript;var sizesStartoogleTagManagerSizesLine.lastIndexOf("]"),rawSizes=googleTagManagerSizesLine.substring(sizesStartIndex,sizesFinishIndex+1),sizes=eval(rawSizes),filteredSizes=sizes.filter(function(e){return"fluid"===e||isValidSize(e,bannerSizeConfig)}),filteredScript=(log({sizes:sizes,filteredSizes:filteredSizes}),bannerScript.replace(rawSizes,JSON.stringify(filteredSizes)));return log({filteredScript:filteredScript}),filteredScript}catch(err){return log({err:err}),bannerScript}}var persistentState$2=getPersistentState("prebidHelper",{slotCount:1}),PREBID_AUCTION_TIMEOUT=3e3,PREBID_FAILSAFE_TIMEOUT=6e3;function processPrebidAuction(c,l,u,d,p,f,h,g,m){return __awaiter(this,void 0,void 0,function(){var t,r,n,i,a,o,s;return __generator(this,function(e){switch(e.label){case 0:if(carodaConsoleSafe.info("PrebidHelper","processPrebidAuction"),f<=0)throw new Error("auction exceeded campaign timeout");return t=integrationConfig.playerCdnUrl().match(/v\/([^\/]+)\//),t=t?t[1]:String(Math.floor(1e9*Math.random())),t="https://ads.caroda.io/videoPlayer/v/".concat(t,"/s/decument.createElement("iframe")).style.width="0",r.style.height="0",carodaConsoleSafe.info("PrebidHelper","processPrebidAuction","bidders",l),n=/pbjs_debug=true/.test(pageLocation.href),a=l.find(function(e){return"r2b2"===e.bid.bidder}),i=__spreadArray([],integrationConfig.prebidSideloadUrls(),!0),a&&(a=a.bid.params,o=a.d,s=a.p,a=a.m,carodaConsoleSafe.info("PrebidHelper","processPrebidAuction","r2b2 bid detected",{d:o,p:s,m:a}),i.push("https://delivery.r2b2.cz/get/".concat(o,"/hb/").concat(s).concat(+a?"/mobile":""))),libraryWindow.document.body.appendChild(r),o='<html>\n        <head>\n            <title>Caroda Prebid Runner</title>\n        </head>\n        <body>\n            <div id="'.concat(c,'"></div>\n            <script>\n                ').concat(n?"\n                    ['log', 'info', 'error', 'warn'].forEach(function (method) {\n                        var oldMethod = console[method]\n                        console[method] = function () {\n                            try {\n                                var args = Array.prototype.slice.call(arguments)\n                                    .map(a => typeof a !== 'string' ? JSON.stringify(a) : a)\n                                oldMethod.apply(console, args)\n                            } catch (e) {\n                                // assume recursive json error\n                                oldMethod.apply(console, arguments)\n                            }\n                        }\n                    })\n                ":"\n                    console.log = console.info = console.error = console.warn = function() {\n                        var args = Array.prototype.slice.call(arguments)\n                            .filter(a => typeof a !== 'string' || a.indexOf('display:') === -1)\n                        if (window.logger && window.logger.info) {\n                            window.logger.info.apply(null, args)\n                        }\n                    }\n                ","\n                window.parentDomain = ").concat(JSON.stringify(decodeURIComponent(replaceTargetingTemplate("[DOMAIN]"))),"\n                window.parentPageUrl = ").concat(JSON.stringify(decodeURIComponent(replaceTargetingTemplate("[PAGE_URL]"))),"\n                window.PREBID_AUCTION_TIMEOUT = ").concat(Math.min(PREBID_AUCTION_TIMEOUT,f),"\n            <\/script>\n            ").concat(__spreadArray(__spreadArray([],i,!0),[t],!1).map(function(e){return'<script src="'.concat(e,'"><\/script>')}).join("\n"),"\n            <script>\n                window.transparentPrebidDebug = ").concat(JSON.stringify(n),";\n                window.integrationConfig = window.parent.caroda.integrationConfig;\n                window.privacy = window.parent.caroda.privacy;\n                ").concat(carodaPrebidIframeRunnerCode,";\n                runIframePrebid(\n                    window,\n                    ").concat([c,l,u,d,p,f,h,g,m].map(function(e){return JSON.stringify(e)}).join(","),");\.concat(c,"Iframe"),r.srcdoc=o,r.throwIfVastRepeated=throwIfVastRepeated,[4,waitFor(function(){return r.contentWindow.auctionState})];case 1:return e.sent(),[4,new Promise(function(e){return r.contentWindow.auctionState.setResolve(e)})];case 2:return e.sent(),s=__assign({},r.contentWindow.auctionState),n||r.remove(),[2,s]}})})}function getVastFromBids(_,b,w,S,C,E,A,P,T){return __awaiter(this,void 0,void 0,function(){var r,t,n,i,a,o,s,c,l,u,d,p,f,h,g,m,y,v;return __generator(this,function(e){switch(e.label){case 0:if((r=getRemainingTimeout(E))<=0)throw new Error("auction exceeded campaign timeout");return t="carodaVirtualSlot".concat(persistentState$2.slotCount++),carodaConsoleSafe.info("PrebidHelper","getVastFromBids","start",b.map(function(e){return e.bid}),{code:t,playerInfo:w,e,b,w,S,C,r,A,_,T),n=null,i=function(){var e=libraryWindow.document.querySelector("#".concat(t,"Iframe"));e&&e.remove()},[4,Promise.race([a,new Promise(function(e,t){return n=setTimeout(function(){i(),t(new Error("auction timed out"))},Math.min(PREBID_FAILSAFE_TIMEOUT,r))})])];case 1:if(a=e.sent(),clearTimeout(n),carodaConsoleSafe.info("PrebidHelper","getVastFromBids","got",a),o=a.bannerString,m=a.vastXml,s=a.vastUrl,c=a.trackingHooks,l=a.winningBidder,u=a.winningCpm,d=a.winningCurrency,p=a.width,f=a.height,h=a.adId,g=a.adserverTargeting,v=a.error)throw v;return!o||m||s?(m&&!s&&(v=new Blob([m],{type:"text/xml"}),y=libraryWindow.URL.createObjectURL(v)),[4,expandVastUrl(s||y,w,c,P,E)]):((m=new ExpandedVast).adType="banner",m.bannerScript=o,m.trackingHooks=c,m.prebidAdUnitCode=t,m.prebidWinningCpm=u,m.prebidWinningCpmCurrency=d,m.creativeSuggestedSize={w:p,h:f},m.creativeId=h,m.adserverTargeting=g,[2,m]);case 2:return(v=e.sent()[0]).dspUrl="//".cov.adserverTargeting=g,[2,v]}})})}var crypto=libraryWindow.crypto,_a$1;function uuidv4(){return(String(1e7)+-1e3+-4e3+-8e3+-1e11).replay(1))[0]&15>>e/4).toString(16)})}var SeznamSspUrl=efaultMaxDuration=120,OpenRtbVideoLinearity,AdType,NoBidReasonCode=(!function(e){e[e.INSTREAM=1]="INSTREAM",e[e.OUTSTREAM=2]="OUTSTREAM"}(OpenRtbVideoLinearity=OpenRtbVideoLinearity||{}),!function(e){e.VIDEO="video",e.BANNER="banner"}(AdType=AdType||{}),{0:"Unknown Error",1:"Technical Error",2:"Invalid Request",3:"Known Web Spider",4:"Suspected Non-Human Traffic",5:"Cloud, Data center, or Proxy IP",6:"Unsupported Device",7:"Blocked Publisher or Site",8:"Unmatched User",9:"Daily Reader Cap Met",10:"Daily Domain Cap Met"}),adT1[AdType.BANNER]=function(e){var t=e.playerWidth,e=e.playerHeight;return{format:[{w:t,h:e},{w:480,h:480},{w:250,h:250},{w:200,h:200},{w:468,h:60},{w:728,h:90},{w:300,h:250},{w:336,h:280},{w:970,h:90}].filter(function(e){return e.w<=t})}},_a$1[AdType.VIDEO]=function(e){var t=e.playerWidth,r=e.playerHeight,e=e.maximumAdLength;return{h:r,linearity:OpenRtbVideoLinearity.OUTSTREAM,maxduration:e||defaultMaxDuration,mimes:["video/mp4","video/x-ms-wmv","video/webm","application/javascript","video/ogg"],protocols:defn{ext:__assign(__assign({},getConsentString()?{consent:getConsentString()}:{}),{gdpr:!!getTcfState().applies})}}function getPageViewIdentifier(){return Array(11).fill(0).map(function(){return Math.floor(16*Math.random()).toString(16)}).join("").toUpperCase()}function buildRequestBody(e,t){var r,n=pageLocation.href;return{ext:{pvId:getPageViewIdentifier()},id:uuidv4(),imp:[((r={bidfloor:e.priceFloor,bidfloorcur:e.priceFloorCurrency,id:1,tagid:e.tagId})[e.adType]=adTypeRequestBody[e.adType](t),r)],site:{page:n},user:getUserInfo()}}function getBid(i,a,o){return __awaiter(this,void 0,void 0,function(){var t,r,n;return __generator(this,function(e){switch(e.label){case 0:return t=getRemainingTimeout(o),r=buildRequestBody(i,a),[4,request(function(e){e.open("POST","".concat(SeznamSspUrl,"/v2/rtb"),!0),e.setRequestHeader("Content-type","application/json; charset=UTF-8"),e.timeout=t,e.send(JSON.stringify(r))})];case 1:return[2,(n=e.sent())&&JSON.parse(n)]}})})}function getAdMarkup(r,n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){if((t=getRemainingTimeout(n))<=0)throw new Error("getting ad markup exceeded campaign timeout");return[2,request(function(e){e.open("GET",r,!0),e.timeout=t,e.setRequestHeader("Content-type","application/json; charset=UTF-8"),e.send()})]})})}function getVast$1(o,s,c,l,u){return __awaiter(this,void 0,void 0,function(){var t,r,n,i,a;return __generator(this,function(e){switch(e.label){case 0:if(getRemainingTimeout(c)<=0)throw new Error("auction exceeded campaign timeout");return[4,getBid(o,s,c)];case 1:if((t=e.sent())&&t.seatbid&&t.seatbid.length)return carodaConsoleSafe.info("SeznamOpenRtb",".getVast",t),r=t.seatbid[0].bid[0],o.adType!==AdType.BANNER?[3,3]:[4,buildExpandedBannerVast(r,t,o,c)];throw new Error(getNoBidErrorMessage(t));case 2:return i=e.sent(),[3,5];case 3:return[4,buildExpandedVideoVast(r,t,o,s,c,l,u)];case 4:i=e.sent(),e.label=5;case 5:return n=i,(a=r.burl&&replaceMacros(r.burl,t,r))&&n.trackingHooks.push({TrackingUrl:a,VastEvent:"impression"}),[2,n]}})})}function buildExpandedBannerVast(a,o,s,c){return __awaiter(this,void 0,void 0,function(){var t,r,n,i;return __generator(this,function(e){switch(e.label){case 0:return r=replaceMacros,(n=a.adm)?[3,2]:[4,getAdMarkup(a.nurl,c)];case 1:n=e.sent(),e.label=2;case 2:return t=r.apply(void 0,[n,o,a]),(i=new ExpandedVast).adType="banner",i.bannerScript=t,i.prebidWinningCpm=a.price,i.prebidWinningCpmCurrency=o.cur||defaultCurrency,i.trackingHooks=s.trackingHooks.slice(0),[2,i]}})})}function buildExpandedVideoVast(i,a,o,s,c,l,u){return __awaiter(this,void 0,void 0,function(){var t,r,n;return __generator(this,function(e){switch(e.label){case 0:return t=replaceMacros,(r=i.adm)?[3,2]:[4,getAdMarkup(i.nurl,c)];case 1:r=e.sent(),e.label=2;case 2:return[4,expandStaticVast(t.apply(void 0,[r,a,i]),s,o.trackingHooks,l,c,u)];case 3:return(n=e.sent()[0]).prebidWinningCpm=i.price,n.prebidWinningCpmCurrency=a.cur||defaultCurrency,[2,n]}})})}var openRtbMacrosReplacer={AUCTION_AD_ID:function(e,t){return t.adid},AUCTION_BID_IRENCY:function(efunction(e){return e.id},AUCTION_IMP_ID:function(e,t){return t.impid},AUCTION_LOSS:function(){return""},AUCTION_MBR:function(){return""},AUCTION_PRICE:function(e,t){return t.price.toString()},AUCTION_SEAT_ID:function(e,t){return t.id}};function replaceMacros(e,r,n){return Object.keys(openRtbMacrosReplacer).rr[t](r,n)||"")},.concat(NoBidReasonCode[e.nbr],")"):"no bid response"}function reportVastAdLoad(e){carodaConsoleSafe.info("VastAdLoadReport","reportVastAdLoad",e)}var TrackingHook=function(e){this.VastEvent=e.VastEvent,this.TrackingUrl=e.TrackingUrl},stableStringify=jsonStableStringify||_stableStringify,Math$1=libraryWindow.Math,minimatch$4=minimatch_1||minimatchModule,cacheTable=new CachedTable("expanded-campaigns",60,function(e){return e.map(function(e){return Object.assign(new CampaignExpandedView,e)})}),Chis.transactionId=uuidv4(),this.id=e.CampaignId,this.logger=carodaConsoleSafe.getInstanceLogger("CampaignView",this.id),this.ctok=e.Ctok,this.title=e.Title,this.trackingHooks=e.TrackingHooks.map(function(e){return new TrackingHook(e)}),this.priority=e.Priority,this.type=e.Type,this.vastUrl=e.CampaignUrl,this.staticVastContent=e.StaticVastContent,this.bannerScript=e.CampaignScript,this.assetId=e.AssetId,this.assetWeight=e.AssetWeight,this.assetTitle=e.ParentAssetTitle||e.AssetTitle,this.assetWhitelistGlobs=e.AssetWhitelistGlobs||[],this.assetBlacklistGlobs=e.AssetBlacklistGlobs||[],this.targetingRules=e.TargetingRules||[],this.adType=e.AdType,"prebid"===this.type&&(this.prebidContext=t,this.hbParams=JSON.parse(e.PrebidParamsJson),this.hbAdUnitFormats=e.AdUnitFormats,this.hbMinimumPriceFloor=e.PrebidMinimumPriceFloor,this.hbMinimumPriceFloorCurrency=e.PrebidMinimumPriceFloorCurrency,this.hbOtherBids=[]),this.fixedPrebidValue=e.FixedPrebidValue,this.fixedPrebidCurrency=e.FixedPrebidCurrency,this.lastCappingEventTypeModificationTimestamp=new Date(e.LastCappingEventTypeModification).getTime()||0,this.cappingEventType=e.CappingEventType,this.eventsPerUser=e.EventsPerUser;t=e.EventsPerUserInterval;this.cappingIntervalInDays=t?intervalToDays(t.Value,t.Unit):3650,this.schedule=e.Schedule,this.maximumAdLength=e.MaximumAdLength||getPlacementMaximumAdLength(e.AssetId),this.overrideSkipBehavior=e.OverrideSkipBehavior,this.fixedSkipOffset=e.FixedSkipOffset,this.pathGlobs=(e.PathGlobs||[]).map(function(e){return e.trim()}).filter(Boolean),this.pathBlacklistGlobs=(e.PathBlacklistGlobs||[]).map(function(e){return e.trim()}).filter(Boolean),"teads"===this.type&&(this.teadsScriptUrl=e.CampaignScriptUrl),"aniview"===this.type&&(this.aniviewPublisherId=e.CampaignAniviewPublisherId,this.aniviewChannelId=e.CampaignAniviewChannelId),"smartclip"===this.type&&(this.smartclipId=e.SmartclipId),"adform-timed-static"===this.type&&(this.adformBannerStaticAdLength=e.AdformBannerStaticAdLength,this.adformBannerStaticJsonUrl=e.AdformBannerStaticJsonUrl),"seznam-openrtb"===this.type&&(this.seznamOpenRtbParams={adType:this.adType||e.SeznamOpenRtbAdType,priceFloor:e.SeznamOpenRtbPriceFloor,priceFloorCurrency:e.SeznamOpenRtbPriceFloorCurrency,tagId:e.SeznamOpenRtbTagId}),this.speed=void 0!==e.Speed?e.Speed:1,this.bannerScriptExecutionTiming=e.CampaignExecutionTiming||"asSoonAsPossible",(this.bannerScript||"").includes("passbackToCaroda")&&(this.bannerScriptExecutionTiming="asSoonAsPossible"),this.waitToExpand=Promise.resolve()}return e.prototype.getExpandedCached=function(i,a,o,s,c,l,u,d){return void 0===l&&(l={}),void 0===d&&(d={}),__awaiter(this,void 0,void 0,function(){var t,r,n;return __generator(this,function(e){switch(e.label){case 0:return[4,this.waitToExpand];case 1:if(e.sent(),this.shouldBeSpeedCapped())throw this.logger.info(".getExpandedCached","skipping campaign to adjust pacing"),new Error("speed capped");return(t=-1!==["rubicon","rubicon-optimized"].indexOf(this.type),t=!c||t||integrationConfig.noChainCaching()||"server"===this.runContext,this.logger.info(".getExpandedCached",{playerInfo:i,shouldExcludeRepeated:a,adsGroup:o,allowBanners:s,noCache:t,vastMacroContext:l}),t)?[2,this.getExpanded(i,a,o,s,l,u,d)]:(t=__assign(__assign({},l),{playerInfo:void 0}),r=[this.id,i,a,o.replace(/[0-9]/g,""),s,t,d].map(function(e){return stableStringify(e)}).join("."),this.logger.info(".getExpandedCached",{cacheKey:r}),[4,cacheTable.get(r)]);case 2:return(n=ern n=e.sent(),[4,cacheTable.set(r,n)];case 4:e.sent(),e.label=5;case 5:return n.forEach(function(e){e.expire=function(){return cacheTable.remove(r)},e.adsGroup=o}),[2,n.map(function(e){return Object.assign(new CampaignExpandedView,e)})]}})})},e.prototype.shouldRun=function(){return!this.isUserCapped()&&!this.isCappedHour()&&this.isPathTargeted()&&!this.isPathFilteredByAsset()&&!this.isCappedByLocalStorageConsent()&&this.isTargeted()},e.prototype.getExpanded=function(f,h,g,m,y,v,_){return __awaiter(this,void 0,void 0,function(){var t,r,n,i,a,o,s,c,l,u,d,p=this;return __generator(this,function(e){switch(e.label){case 0:if(t=(new Date).getTime()+v,(a=getRemainingTimeout(t))<=0)return this.logger.info(".getExpanded","timed out",this.type),[2,[]];if(this.logger.info(".getExpanded",this.type,{playerInfo:f,shouldExcludeRepeated:h,adsGroup:g,allowBanners:m}),"teads"!==this.type&&"banner"!==this.type&&"smartclip"!==this.type)return"aniview"===this.type?((r=this.createExpandedCampaign(t,g)).type=this.type,r.aniviewPublisherId=this.aniviewPublisherId,r.aniviewChannelId=this.aniviewChannelId,[2,[r]]):"adform-timed-static"!==this.type?[3,2]:(this.type="local-vast",[4,getAdformTimedStaticAd((n=this).adformBannerStaticJsonUrl,this.adformBannerStaticAdLength,a)]);if(m)return(r=this.createExpandedCampaign(t,g)).type=this.type,r.bannerScript=this.applyBannerSizeConfig(this.bannerScript,_),r.teadsScriptUrl=this.teadsScriptUrl,r.smartclipId=this.smartclipId,[2,[r]];throw new Error("banners not allowed for ".concat(this.id));case 1:n.vastUrl=e.sent(),e.label=2;case 2:i={adType:this.type,campaignId:this.id,inTrackingHooks:this.trackingHooks.slice(0),outTrackingHooks:[],placementId:this.assetId,vastChain:[]},e.label=3;case 3:return e.trys.push([3,12,,13]),"prebid"!==this.type?[3,5]:[4,getVastFromBids(this.placementId,this.hbOtherBids.filter(function(e){return"prebid"===e.type}).map(function(e){return{adUnitFormats:e.adType?[e.adType]:e.hbAdUnitFormats,bid:e.hbParams,cid:e.id,ctok:e.ctok,minimumPriceFloor:e.hbMinimumPriceFloor*getConversionRate(e.hbMinimumPriceFloorCurrency,"EUR"),trackingHooks:e.trackingHooks}}),__assign({campaignId:this.id,maximumAdLength:this.maximumAdLength},f),h?g:null,m,t,this.prebidContext,i,_)];case 4:return a=e.sent(),[2,[o=this.expandedVastToExpandedCampaign(a,t,g,m,i)]];case 5:return"seznam-openrtb"!==this.type?[3,7]:[4,getVast$1(__assign(__assign({},this.seznamOpenRtbParams),{trackingHooks:this.trackingHooks}),__assign({maximumAdLength:this.maximumAdLength},f),t,i,y)];case 6:return l=e.sent(),(o=this.expandedVastToExpandedCampaign(l,t,g,m,i)).sspUrl=SeznamSspUrl,[2,[o]];case 7:return(s=void 0,c=this.vastUrl,l=this.staticVastContent,"vast"===this.type&&l)?[4,expandStaticVast(l,__assign({campaignId:this.id},f),[],i,t,y,this.transactionId)]:[3,9];case 8:return s=e.sent(),[3,11];case 9:return[4,expandVastUrl(c,__assign({campaignId:this.id,maximumAdLength:this.maximumAdLength},f),[],i,t,y,this.transactionId)];case 10:s=e.sent(),e.label=11;case 11:if(u=this.createExpandedCampaign(t,g),0===(d=s.map(function(e){var t;return i.adType=e.adType,i.outTrackingHooks=e.trackingHooks,reportVastAdLoad(i),u.type=e.adType,u.vastContent=e.vast,(t=u.trackingHooks).push.apply(t,e.trackingHooks),u.vastContentAspectRatio=e.format,u.ssplean)).length)throw new Error("all assets repeated");return[2,d];case 12:throw d=e.sent(),i.error=d.message||d,reportVastAdLoad(i),d;case 13:return[2]}})})},e.prototype.shouldBeSpeedCapped=function(){return Math$1.random()>this.speed},e.prototype.createExpandedCampaign=function(e,t){var r=new CampaignExpandedView;return r.title=this.title,r.transactionId=this.transactionId,r.id=this.id,r.ctok=this.ctok,r.trackingHooks=cloneDeep_1(this.trackingHooks),r.priority=this.priority,r.maximumAdLength=this.maximumAdLength,r.overrideSkipBehavior=this.overrideSkipBehavior,r.fixedSkipOffset=this.fixedSkipOffset,r.cappingEventType=this.cappingEventType,r.speed=this.speed,r.assetId=this.assetId,r.loadExpiryTimestamp=e,r.adsGroup=t,r.bannerScriptExecutionTiming=this.bannerScriptExecutionTiming,this.fixedPrebidValue&&(r.cpmEur=this.fixedPrebidValue*getConversionRate(this.fixedPrebidCurrency,"EUR")),r},e.prototype.isCappedHour=function(){if(!this.schedule)return!1;var e=new Date,t=e.getUTCHours(),e=(e.getUTCDay()+6)%7,e=0===(this.schedule["_".concat(e)]||this.schedule.Default)[t];return this.logger.info(".isCappe.isUserCapped=function(){if(!this.eventsPerUser)return!1;var t=Math$1.max(Date.now()-24*this.cappingIntervalInDays*60*6e4,this.lastCappingEventTypeModificationTimestamp),e=getCampaignViewHistory(this.id).filter(function(e){return t<e}),r=e.length>=this.eventsPerUser;return this.logger.info(".isUserCapped",e,r),r},e.prototype.isPathTargeted=function(){var t=pageLocation.href;return this.pathBlacklistGlobs.some(function(e){return minimatch$4(t,e)})?(this.logger.info(".isPathTargeted","blacklisted",t,this.pathBlacklistGlobs),!1):!this.pathGlobs.length||this.pathGlobs.some(function(e){return minimatch$4(t,e)})?(this.logger.info(".isPathTargeted","whitelisted",t,this.pathGlobs),!0):(this.logger.info(".isPathTargeted","not whitelisted",t,this.pathGlobs),!1)},e.prototype.isTargeted=function(){var i=this,e=ofile.country(),device:targetingProfile.device(),os:targetingProfile.os()},a=function(t){return function(e){e=new RegExp("".concat(t,"/(.*)"),"i").exec(e);return e?e[1]:void 0}},o=function(e){return e.toLowerCase().replace(/\s+/g,"")};return Object.entries(e).every(function(e){var t,r=e[0],e=e[1],e=void 0===e?"":e,r=i.targetingRules.map(a(r)).filter(Boolean),n=!r.length||r.some((void 0===(t=e)&&(t=""),function(e){return void 0===e&&(e=""),o(t)===o(e)}));return n||i.logger.info(".isTargeted",e,"not targeted by",r),n})},e.prototype.isPathFilteredByAsset=function(){var t=pageLocation.href;return this.assetBlacklistGlobs.length&&this.assetBlacklistGlobs.some(function(e){return minimatch$4(t,e)})?(this.logger.info(".isPathFilteredByAsset","blacklistGlobs",t,this.assetBlacklistGlobs),!0):!(!this.assetWhitelistGlobs.length||this.assetWhitelistGlobs.some(function(e){return minimatch$4(t,e)}))&&(this.logger.info(".isPathFilteredByAsset","assetWhitelistGlobs",t,this.assetWhitelistGlobs),!0)},e.prototype.isCappedByLocalStorageConsent=function(){return this.eventsPerUser&&!isLocalStorageAllowed()},e.prototype.expandedVastToExpandedCampaign=function(e,t,r,n,i){t=this.createExpandedCampaign(t,r);if(e.prebidWinningCpm&&(r=getConversionRate(e.prebidWinningCpmCurrency,"EUR"),t.cpmEur=e.prebidWinningCpm*r),"banner"!==e.adType)return i.adType=e.adType,i.inTrackingHooks=[],i.outTrackingHooks=e.trackingHooks.slice(0),reportVastAdLoad(i),t.type=e.adType,t.vastContent=e.vast,t.trackingHooks=e.trackingHooks,t.vastContentAspectRatio=e.format,t.sspUrl=e.dspUrl,t.dspUrl=e.dspUrl,t.prebidAdUnitCode=e.prebidAdUnitCode,t.creativeId=e.creativeId,t.adserverTargeting=e.adserverTargeting,t;if(n)return t.type="banner",t.trackingHooks=e.trackingHooks,t.bannerScript=e.bannerScript,t.prebidAdUnitativeId=e.creativeId,t.adserverTargeting=e.adserverTargeting,t;throw new Error("banners not allowed for ".concat(this.id))},e.prototype.applyBannerSizeConfig=function(e,t){return isGPTBanner(e)?applyBannerSizeConfigToGPTBanner(e,t):e},e}();function getPlacementMaximumAdLength(t){var e;return(null==(e=(integrationConfig.integrationRecord().outstreamPlacements||[]).find(function(e){return e.id===t}))?void 0:e.maximumAdLength)||void 0}function intervalToDays(e,t){switch(t){case"Day":return e;case"Hour":return e/24;case"Month":return 30*e}}var persistentState$3=getPersistentState("placementsContext",{});function getPlacementDimensions(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return persistentState$3[t]||createContext(t),[2,persistentState$3[t].promise]})})}function setPlacementDimensions(e,t){var r,n=t.height,t=t.width;null!=(r=persistentState$3[e])&&r.resolve({height:n,width:t}),createContext(e),persistentState$3[e].resolve({height:n,width:t})}function createContext(e){var t,r=new Promise(function(e){t=e});persistentState$3[e]={resolve:t,promise:r}}var ongoingAdServerRequests={};function fillFromAdServer(i){var a;return __awaiter(this,void 0,void 0,function(){var t,r,n;return __generator(this,function(e){switch(e.label){case 0:return t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return carodaConsoleSafe.info.apply(carodaConsoleSafrver",i.id],e,!1))},r=i.assetId,null==ongoingAdServerRequests[r]&&(ongoingAr]];case 1:return(r=e.sent(),n=r.ads.find(function(e){return e.campaign.id===i.id}))?(t("adServerCampaignResponse",n),i.trackingHooks=n.bid.trackingHooks.map(function(e){var t=e.vastEvent;return{TrackingUrl:e.trackingUrl,VastEveid.creative.video)?void 0:a.source.vast.xml,i.vastUrl=null==(a=n.bid.creative.video)?void 0:a.source.vast.url,i.bannerScript=null==(a=n.bid.creative.banner)?void 0:a.script,[2]):(n=r.errors.find(function(e){return e.campaignId===i.id}),t((null==n?void 0:n.error)||"No ad server response for campaign"),[2])}})})}function fetchCampaignsFromAdServer(p){return __awaiter(this,void 0,void 0,function(){var t,r,n,i,a,o,s,c,l,u,d;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,8,,9]),[4,waitForConsentGdpr()];case 1:return e.sent(),[4,waitForConsentUsp()];case 2:return e.sent(),[4,Promise.all([getConsentString(),getUspState()])];case 3:return r=e.sent(),t=r[0],r=r[1],n=integrationConfig.websiteDomain(),[4,getPlacementDimensions(p)];case 4:return d=e.sent(),u=d.height,d=d.width,i=fetch,a=["https://adsrv.caroda.io/ads/".concat(encodeURIComponent(n),"/").concat(p)],l={},s=(o=JSON).stringify,u={placement:{pageUrl:pageLocation.href,playerHeight:Math.round(u),playerWidth:Math.round(d)}},d={},[4,doesGdprApply()];case 5:return[4,i.apply(void 0,a.concat([(l.body=s.apply(o,[(u.privacy=(d.gdprApplies=e.sent(),d.gdprConsent=t,d.usPrivacy=r.consentString,d),u.settings={displayNoAdReasons:!0,expandGoogleSsp:!1,expandGuaranteedUrls:!1,ignorePreferBrowserRunContext:!1,ignoreRunContext:!1,mustBeGuaranteedToBePaid:!1,returnVideoAdsAsMediaList:!1},u)]),l.headers={Accept:"application/json","Content-Type":"application/json"},l.method="post",l)]))];case 6:return[4,e.sent().json()];case 7:return[2,e.sent()];case 8:return c=e.sent(),carodaConsoleSafe.error("fetchCampaignsFromAdServer","error",c),[2,{ads:[],errors:[{error:"Failed to fetch campaigns from ad server"}]}];case 9:return[2]}})})}var cacheTimeoutInMs=12e4;function getListByAssetId(u,d,p,f){return void 0===p&&(p=function(){return!0}),void 0===f&&(f=function(e){return e}),__awaiter(this,void 0,void 0,function(){var t,r,n,i,a,o,s,c,l;return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("CampaignApi",".getListByAssetId",u),[4,getListByAssetIdMixedUntargeted(u)];case 1:return r=e.sent(),t=r.reduce(function({},e),((r={})[t.ctok]=__spreadArray(__spreadArray([],e[t.ctok]||[],!0),[t],!1),r))},{}),r=integrationConfig.contributorToken(d),n=t[r],delete t[r],r=Object.keys(t).map(function(e){return t[e]}).sort(function(){return Math.random()-.5}),n=combineCampaignViews(__spreadArray([n],r,!0).filter(Boolean)),i=[],[4,targetingProfile.waitForReady()];case 2:for(e.sent(),a=0,o=n;a<o.length;a++)(s=o[a]).hbOtherBids?(l=s.hbOtherBids.filter(function(e){return e.shouldRun()&&p(e)}).map(f)).length&&((c=l[0]).hbOtherBids=l,i.push(c)):s.shouldRun()&&p(s)&&(l=f(s),i.push(l));return[2,i]}})})}function getListByAssetIds(n,i,a,o){return void 0===a&&(a=function(){return!0}),void 0=void 0,void 0,function(){var t,r;return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("CampaignApi",".getListByAssetIds",n),n=n||[],[4,Promise.all(n.map(function(e){return getListByAssetId(e,i,a,o)}))];case 1:return t=e.sent(),r=t.map(function(e,t){return{campaignIds:e.map(function(e){return e.id}),placementId:n[t]}}),carodaConsoleSafe.info("CampaignApi",".getListByAssetIds",{campaignIdsByPlacement:r}),[2,combineCampaignViews(t)]}})})}function getCampaignViewsFromAssetId(n){var i;return __awaiter(this,void 0,void 0,function(){var t,r;return __generator(this,function(e){switch(e.label){case 0:return t=integrationConfig.websiteDomain(),r=null==(i=null==(i=libraryWindow.carodaCampaigns)?void 0:i[t])?void 0:i[n],(r=r)?[3,2]:[4,fetchCampaignViewsFromAssetId(n,t)];case 1:r=e.sent(),e.label=2;case 2:return t=r,scheduleReloadAssetId(n),[2,t]}})})}function groupPrebidCampaigns(e){var t={};return e.filter(function(e){return"prebid"===e.type}).forEach(function(e){t[e.priority]=t[e.priority]||[],e.hbOtherBids=t[e.priority],t[e.priority].push(e)}),e.filter(function(e){return"prebid"!==e.type||e===e.hbOtherBids[0]})}function getListByAssetIdMixedUntargeted(i){return __awaiter(this,void 0,void 0,function(){var r,t,n;return __generator(this,function(e){switch(e.label){case 0:if(e.trys.push([0,2,,3]),carodaConsoleSafe.info("CampaignApi",".getListByAssetIdMixedUntargeted",i),integrationConfig.disableAds())throw new Error("ads disabled by integration");return t=integrationConfig.forceInstreamPrebidContext(),r=i.match(/^opz/)&&!t?"outstream":"instream",[4,getCampaignViewsFromAssetId(i)];case 1:return t=e.sent(),n=t.map(function(t){try{var e=new CampaignView(t,r);return e.placementId=i,"server"===t.RunContext&&(e.waitToExpand=fillFromAdServer(e)),e}catch(e){return carodaConsoleSafe.info("CampaignApi",".getListByAssetIdMixedUntargeted",i,e.message,e.stack,t),null}}).filter(Boolean),n=groupPrebidCampaigns(n).sort(function(e,t){return e.priority-t.priority}),carodaConsoleSafe.info("CampaignApi",".getListByAssetIdMixedUntargeted",i,n),[2,n];case 2:return n=e.sent(),carodaConsoleSafe.info("CampaignApi",".getListByAssetIdMixedUntargeted",i,"skipped",n),[2,[]];case 3:return[2]}})})}function combineCampaignViews(e){carodaConsoleSafe.info("CampaignApi",".combineCampaignViews",e);function t(e){return r(e)&&(e.bannerScript||"").includes("passbackToCaroda")}function r(e){return"n],o=i.length?Math.max.apply(Math,i.map(function(e){return e.priority})):0,s=0,c=a;s<c.length;s++){var l=c[s];l.priority=Math.max(l.priority,1e-5)+o+1}for(var u=e.reduce(function(e,t){return __spreadArray(__spreadArray([],e,!0),t,!0)},[]),d=u.filter(or(t,not(r))),u=u.filter(and(r,not(t))),p=Math.max.apply(Math,d.map(function(e){return e.priority})),f=0,h=u;f<h.length;f++){var g=h[f];g.priority=Math.max(g.priority,1e-5)+p+1}d=__spreadArray(__spreadArray([],d,!0),u,!0).sort(function(e,t){return e.priority-t.priority});return carodaConsoleSafe.info("CampaignApi",".combineCampaignViews","got",d),d}function scheduleReloadAssetId(e,t){void 0===t&&(t=0),e.match(/^v/)?carodaConsoleSafe.info("CampaignApi",".scheduleReloadAssetId",e,"skipped instream"):(carodaConsoleSafe.info("CampaignApi",".scheduleReloadAssetId",e),renderDocument.hasFocus()?(carodaConsoleSafe.info("CampaignApi",".scheduleReloadAssetId",e,"scheduled"),t=t||Date.now(),libraryWindow.setTimeout(function(){return getCampaignViewsFromAssetId(e)},t+cacheTimeoutInMs-5e3-Date.now())):carodaConsoleSafe.info("CampaignApi",".scheduleReloadAssetId",e,"no focus"))}function fetchCampaignViewsFromAssetId(n,i){return __awaiter(this,void 0,void 0,function(){var t,r;return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("CampaignApi","fetchCampaignViewsFromAssetId",{assetId:n,domainName:i}),t=qsStringify({domainName:i,placementId:n}),r="".concat("https://ads.caroda.io/api/campaigns","?").concat(t),[4,requestJson(functioys(r).reduce(function(e,t){return"".concat(e,"&").concat(t,"=").concat(encodeURIComponent(String(r[t])))},"")}function appendCss(e){var t=renderDocument.createElement("STYLE");return t.innerHTML=e,renderDocument.head.appendChild(t),t}function getCssString(r){var n=renderDocument.createElement("span");return Object.keys(r).forEach(function(e){var t=r[e];"content"===e&&(t='"'.concat(t,'"')),n.style[e]=t}),n.style.cssText}function getHighSpecificitySelector(e){var t=renderDocument.getElementById(e),r=t?t.nodeName:"",t=t?".".concat(Array.from(t.classList).join( e=renderDocument.createElement("button");e.classList.add("caroda-download-logs"),e.innerText="Download Caroda Logs",e.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault(),libraryWindow.carodaConsole.saveLogs()}),renderDocument.body.appendChild(e)}function scrollPositionIntoView(){var e=integrationConfig.scrollToMultiPosition();null!=e?scrollToMultiPosition(e):null!=(e=integrationConfig.scrollToPosition())&&scrollToPosition(e)}function scrollToPosition(r,n){return void 0===n&&(n=".carodaContainer:not(.carodaMultiPositionPlaceholder), .carodaInstreamWithPositions, .carodaInstream"),__awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("scrollToPosition),carodaConso:return e.sent(),setTimeout(function(){t.scrollIntoView({block:"center"}),carodaConsoleSafe.info("scrollToPosition","done")},500),[2]}})})}function scrollToMultiPosition(e){return scrollToholder")}function getPosition(e,t){t=renderDocument.querySelectorAll(t)[e];if(t)return t.classList.contains("carodaInstreamWithPositions")?t.parentElement:t}function waitForHeight(e){return waitFor(function(){return 50<e.clientHeight})}var findSlot=function(e,t,r,n){carodaConsoleSafe.info("SlotFinder",".findSlot",e,t);var t=!1!==t,i=getCandidateSlots(e);if(carodaConsoleSafe.info("SlotFinder",".findSlot","found",i.length,"candidates"),t&&(e=filterOutNarrowElements(i),carodaConsoleSafe.info("SlotFinder",".findSlot","found",e.length,"full width candidates"),i=e),null!==r&&(t=i.filter(r),carodaConsoleSafe.info("SlotFinder",".findSlot","found",t.length,"filtered candidates"),i=t),0===i.length)carodaConsoleSafe.info("SlotFinder",".findSlot","no suitable element found");else for(var a=n||function(e,t,r){return 3<=r},o=0;o<i.length;o++){var s=i[o],c=s.nextElementSibling,l=s.parentElement;if(a(s,c,o,isInViewport(c||s),i.length))return{container:l,next:c,prev:s}}},getCandidateSlots=function(e){if(carodaConsoleSafe.info("SlotFinder",".getCandidateSlots",e),!e)return[];if("string"!=typeof e)return Array.isArray(e)?e:[].slice.call(e.children);var t=/:sparse$/;if(e.match(t))return[].slice.call(renderDocument.querySelectorAll(e.replace(t,"")));t=renderDocument.querySelector(e);return t?[].slice.call(t.children):[]},filterOutNarrowElements=function(e){return carodaConsoleSafe.info("SlotFinder",".filterOutNarrowElements"),[].slice.apply(e).filter(function(e){if("none"===renderWindow.getComputedStyle(e).display)return!1;for(var t=e;t&&!isFloatElement(t);)t=t.previousElementSibling;return!t||e.getBoundingClientRect().top>t.getBoundingClientRect().bottom})},isFloatElement=function(e){var t="none"!==renderWindow.getComputedStyle(e).getPropertyValue("float");return!t&&e.children.length?[].slice.call(e.children).some(function(e){return isFloatElement(e)}):t},MutationObserver$1=renderWindow.MutationObserver,VideoElementContentPlayer=function(){function n(e,t){void 0===t&&(t={}),this.vidMath.random())),this.eventHandlers={ended:[],loadedmetadata:[],pause:[],playing:[],timeupdate:[]},this.(this.videoElement)},n.prototype.getContainer=function(){return this.videoElement.parentElement},n.prototype.getCurrentTime=function(){return this.overrides.getCurrentTime?this.overrides.getCurrentTime():this.videoElement.currentTime},n.prototype.getDuration=function(){return __awaiter(this,void 0,void 0,function(){var t,r=this;return __generator(this,function(e){return null==(t=this.overrides.getDuration?this.overrides.getDuration():this.videoElement.duration)||isNaN(t)?[2,new Promise(function(e){function t(){e(r.videoElement.duration),r.videoElement.removeEventListener("loadedmetadata",t)}r.videoElement.addEventListener("loadedmetadata",t)})]:[2,t]})})},n.prototype.getVolume=function(){return this.videoElement.volume},n.prototype.setVolume=function(e){this.videoElement.volume=e,this.videoElement.muted=!e},n.prototype.isAutoplay=function(){return this.videoElement.autoplay},n.prototype.isMuted=function(){return this.videoElement.muted},n.prototype.onEnded=function(e){this.videoElement.addEventListener("ended",e),this.eventHandlers.ended.push(e)},n.prototype.onPlaylistItemChange=function(r){return __awaiter(this,void 0,void 0,function(){var t;return __generaturn[4,Promise.race([this.wrapVideoElementFromNextMetadata(),this.wrapNextVideoElement()])];case 1:return t=e.sent(),!!this.videoElement&&r(t),[2]}})})},n.prototype.onTimeUpdate=function(e){function t(){r.videoElement.currentTime&&e()}var r=thieventHandlers.timeupdate.pushlement.pause()},n.prototype.play=function(){var e=this;Promise.resolve(this.videoElement.play()).catch(function(){e.videoElement.muted=!0,e.videoElement.play()})},n.prototype.setCurrentTime=function(e){this.videoElement.currentTime=e},n.prototype.getAutoplayBehaviour=function())?"standard":"user-initiated")},n.prototype.disconnect=function(){var r=this;this.log(".disconnect"),Object.keys(this.eventHandlers).forEach(function(t){r.eventHandlers[t].forEach(function(e){r.videoElement.removeEventListener(t,e)})}),this.mutationObservers.forEach(function(e){e.disconnect()}),this.videoElement=void 0},n.prototype.onPause=fuing=function(e){thiaying.push(e)},n.prototype.waitUntilReady=function(){return this.overrides.waitUntilReady?this.overrides.waitUntilReady():this.waitUntilReadyState()},n.prototype.isLive=function(){return this.overrides.isLive&&this.overrides.isLive()},n.prototype.waitUntilReadyState=function(){var t=this;return 0<this.videoElement.readyState?Promise.resolve():new Promise(function(e){return t.videoElement.addEventListener("loadedmetadata",function(){return e()})})},n.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];carodaConsoleSafe.info.apply(carodaConsoleSafe,__spreadArray(["VideoElementContentPlayer",this.id,this.videoElement],e,!1))},n.prototype.wrapVideoElementFromNextMetadata=function(){return __awaiter(this,void 0,void 0,function(){var r=this;return __generator(this,function(e){switch(e.label){case 0:return[4,this.waitUntilReadyState()];case 1:return(e.sent(),this.videoElement)?[2,new Promise(function(t){function e(){var e=new n(r.videoElement,r.overrides);r.log(".watchForLoadedmetadata"),t(e)}r.videoElement.addEventListener("loadedmetadata",e),r.eventHandlers.loadedmetadata.push(e)})]:[2]}})})},n.prototype.wrapNextVideoElement=function(){return __awvar t;return __generator(this,function(e){switch(e.label){case 0:return[4,(this.overrides.getNextVideoElement?this.overrides:this).getNextVideoElement()];case 1:return(t=e.sent()).pause(),[4,waitFor(function(){return!!t.parentElement})];case 2:return e.sent(),this.log(".getNewContentPlayerAdded","video element did change"),[2,new n(t,this.overrides)]}})})},n.prototype.getNextVideoElement=function(){var e=this;return new Promise(function(n){var i=new MutationObserver$1(function(r){return __awaiter(e,void 0,void 0,function(){var t;return __generator(this,function(e){return this.log("getNewVideoElementAdded",r),(t=Array.from(r).reduce(function(e,t){return __spreadArray(__spreadArray([],e,!0),Array.from(t.addedNodes||[]),!0)},[]))&&t.length&&(t=[].slice.call(t).find(function(e){return"VIDEO"===e.tagName}))&&(i.disconnect(),n(t)),[2]})})});i.observe(e.videoElement.parentElement,{childList:!0}),e.mutationObservers.push(i)})},n}();function getAutoplayBehaviour(e){return e.getAutoplayBehaviour?e.getAutoplayBehaviour():e.isAutoplay()?"standard":"user-initiated"}function resumeContent(r){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),"user-initiated"===(t=getAutoplayBehaviour(r))?[2]:"viewable"!==t?[3,2]:[4,waitUntilInView(r.getContainer())];case 1:e.sent(),e.label=2;case 2:return carodaConsoleSafe.info("ContentPlayer",".resumeContent"),r.play(),[3,4];case 3:e.sent();try{r.play()}catch(e){}return[3,4];case 4:return[2]}})})}var Api=function(){function e(){}return e.prototype.getMigratedAssetIdAndUrl=function(a,o,s){return void 0===s&&(s={}),__awaiter(this,void 0,void 0,function(){var t,r,n,i;return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("Api","getMigratedAssetIdAndUrl",a,o),n=integrationConfig.videoCollectionId(),r=integrationConfig.contributorToken(s),o&&(a+=(-1===a.indoISOString()),t="".concat("https://videos.caroda.io/api/migrate","?url=").concat(encodeURIComponent(a),"&ctok=").concat(encodeURIComponent(r),"&vcid=").concat(encodeURIComponent(n)),[4,requestJson(function(e){e.open("GET",t),e.send()})];case 1:return r=e.sent(),n=null,"finished"!==r.TranscodingJobStatus&&(i=/caroda.io.migrate/.test(r.MigrationInfo.migratedUrl),n=r.MigrationInfo.is3rdParty||i?"3rdparty":r.MigrationInfo.migratedUrl),[2,[r.VID,n]]}})})},e.prototype.extendPrebidRequest=function(r,n){return __awaiter(this,void 0,void 0,function(){var t;return __geafe.info("Api","extendPrebidRequest",r),t="https://prebid.caroda.io/api/hb?entry_id=".concat(encodeURIComponent(r)).concat(n?"&entry_type=".concat(encodeURIComponent(n)):""),[2,requestJson(function(e){e.open("PUT",t),e.send("extend")})]})})},e.prototype.pushPrebidResult=function(r,n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){return carodaConsoleSafe.info("Api","pushPrebidResult",r,n),t="https://prebid.caroda.io/api/hb?entry_id=".concat(encodeURIComponent(r)),[2,requestJson(function(e){e.open("PUT",t),e.send(JSON.stringify(n))})]})})},e.prototype.pushVastContentResult=function(n,i,a){return __awaiter(this,void 0,void 0,function(){var t,r;return __generator(this,function(e){return carodaConsoleSafe.info("Api","pushVastContentResult",n,i,a)stringify(t))})]})})},e}(),ApiInstance=new Api;function createCaseFirst(n){return function(e){e=toStrin,t=t?_castSlice(t,1).join(""):e.slice(1);return r[n]()+t("toUpperCase"),upperFirst_1=upperFirst;function capitalize(e){return upperFirst_1(toString_1(e).toLowerCase())}var capitalize_1=capitalize,camelCase=_createCompounder(function(e,t,r){return t=t.toLowerCase(),e+(r?capitalize_1(t):t)}),camelCase_1=camelCase,vastEvents=["impression","start","creative_view","skip","click_tracking","click_through","mute","unmute","resume","pause","complete","first_quartile","midpoint","third_quartile"];function toVastAd(e){function n(e){return __assign(__assign({},e),{TrackingUrl:(t=e.TrackingUrl,l&&/data\.caroda\.io\/api\/hit\.gif/.test(t)&&/type=tracking/.test(t)?(t=e.TrackingUrl,null!=l?"".concat(t,"&adDuration=").concat(Math.round(l)):t):e.TrackingUrl)});var t}function i(e){return e.TrackingUrl}function a(e,t,r){switch(t){case"impression":return addImpressionTracking(e,r.map(i));case"click_tracking":return addClickTracking(e,r.map(i));default:return addTrackingHooks(e,r)}}var t=e.vast,r=e.originalTrackingHooks,o=e.context,s=e.index,s=void 0===s?1:s,c=e.configOverride,c=void 0===c?{}:c,e=e.includeCarodaImpressionPlayerEvents,l=getAdDuration(t),u=r.map(n),t=vastEvents.reduce(function(e,t){var r,n=u.filter((r=t,function(e){return e.VastEvent===r}));return a(e,t,n)},t),r={complete:"complete",pause:"pause",play:"start",resume:"resume"},d=(e&&(r["instream"===o.type?"impression_instream":"impression_other_players"]="impression",r["instream"===o.type?"instream_impression_opportunity":"outstream_impression_opportunity"]="impression"),new Tracking(c,{placementId:o.placementId}));return addExtension(Object.entries(r).reduce(function(e,t){var r=t[0],t=t[1],r=[{TrackingUrl:d.createPlayerEventTrackingUrl(r),VastEvent:t}].map(n);return a(e,t,r)},t),'<Extension type="waterfall" fallback_index="'.concat(s,'" />'))}function addExtension(e,t){e=createNode(e);return findOrCreatePath(e,"Ad.Wrapper|InLine.Extensions").appendChild(createNode(t)),toString$1(e)}function addImpressionTracking(e,t){var t=t.map(function(e){return"\n        <Impression><![CDATA[".concat(e,"]]></Impression>\n    ")}),e=createNode(e),r=findOrCreatePath(e,"Ad.Wrapper|InLine");return t.map(createNode).forEach(function(e){return r.appendChild(e)}),toString$1(e)}function addTrackingHooks(e,t){var t=t.map(function(e){var t=e.VastEvent,e=e.TrackingUrl;return'\n        <Tracking event="'.concat(camelCase_1(t),'"><![CDATA[').concat(e,"]]></Tracking>\n    ")}),e=createNode(e),r=findOrCreatePath(e,"Ad.Wrapper|InLine.Creatives.CEvents />"));return t.map(createNode).forEach(function(e){return n.appendChild(e)}),toString$1(e)}function addClickTracking(e,t){var t=t.map(function(e){return"\n        <ClickTracking><![CDATA[".concat(e,"]]></ClickTracking>\n    ")}),e=createNode(e),r=findOrCreatePath(e,"Ad.Wrapper|InLine.Creatives.Creative.Linear"),n=r?null:findOrCreatePath(e,"Ad.Wrapper|InLine.Creatives.Creative.NonLinear"),i=r?findNode(r,"VideoClicks")||r.appendChild(createNode("<VideoClicks />")):n;return t.map(createNode).forEach(function(e){return i.appendChild(e)}),toString$1(e)}function separateAds(e){return findNodes(createNode(e),"Ad").map(toString$1).map(wrapInVast)}function combine$1(e){return wrapInVast(flatMap_1(e.map(createNode).map(function(e){return findNodes(e,"Ad")})).map(toStringapInVast(e){return'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n    <VAST xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="vast.xsd" version="4.0">\n        '.concat(e,"\n    </VAST>\n")}function crng(e,"texte()?[e]:e.hasChildNodes()?Array.from(e.childNodes).reduce(function(e,t){return e.concat(findNodes(t,r))},[]):[]:[]}function findNode(e,t){return findNodes(e,t)[0]}function toString$1(e){return(new XMLSerializer).serializeToString(e)}function findOrCreatePath(e,t){if(!t)return e;t=t.split(".");if(!t.length)return e;var r=t.shift().split("|"),n=r.map(function(t){return Array.from(e.childNodes).find(function(e){return(null==(e=e.nodeName)?void 0:e.toLowerCase())===t.toLowerCas))),findOrCreatePath(n,t.join("."))}function toVast(e,n,i){return combine$1(flatMap_1(flatMap_1(e.filter(function(e){return e.vastContent}).map(function(t){return separateAds(t.vastContent).map(function(e){return{campaign:t,vast:e}})}))).map(function(e,t){var r=e.campaign,e=e.vast;return toVastAd({configOverride:i,context:__assign(__assign({},n),{placementId:r.assetId}),includeCarodaImpressionPlayerEvents:!0,index:t,originalTrackingHooks:r.trackingHooks,vast:e})}))}function pushExternalPlayerAdapterPlaylist(o,r,s,c){return __awaiter(this,void 0,void 0,function(){var n,i,a,t=this;return __generator(this,function(e){return(n=new InstanceLogger("ExternalRendererPlayer .pushExternalPlayerAdapterPlaylist[".concat(Math.floor(1e9*Math.random()),":").concat(o,"]"))).info("start"),i=!1,a=function(){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,r.getExternalRendererExpandedCampaign()];case 1:return(t=e.sent(),n.info("".concat(t.length," campaigns expanded")),i=!0,t.length)?[2,toVast(t,__assign(__assign({},s),{placementId:o}),c)]:[2,null]}})})}(),[2,{playAd:function(r){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return i?[3,2]:[4,ApiInstance.extendPrebidRequest(r,o)];case 1:e.sent(),e.label=2;case 2:return[4,a];case 3:return t=e.sent(),n.info(r,t),[4,ApiInstance.pushVastContentResult(r,o,t||"")];case 4:return e.sent(),[2,t]}})})}}]})})}var ClickableOverlay=function(){function r(e,t){this.onClick=t,this.overlay=this.createOverlay(),e.appendChild(this.overlay),e.classLition(){this.log("remove",this.overlay),this.overlay.remove()},r.prototype.show=function(){this.log("show",this.overlay),this.overlay.style.display="block"},r.prototype.click=function(){this.log("onClick"),this.onClick(),this.remove()},r.prototype.createOverlay=function(){var e=this,t=renderDocument.createElement("div");return t.classList.add(r.CLASS_NAME),(t=this.applyDefaultStyling(t)).addEventListener("click",function(){e.click()}),t},r.prototype.applyDefaultStyling=function(e){return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.zIndex="10",e.style.cursor="pointer",e.style.background="transparent",e},r.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];carodaConsoleSafe.info.apply(carodaConsoleSafe,__spreadArray(["ClickableOverlay"],e,!1))},r.CONTAINER_CLASS_NAME="caroda-clickable-overlay-container",r.CLASS_NAME="caroda-clickable-overlay",r}(),ContentPlayerFreezer=function(){function t(e){this.contentPlayer=e}return t.prototype.freeze=function(){this.freezeInterval||(this.log("freeze"),this.freezeTime=this.contentPlayer.getCurrentTime(),this.freezeInterval=this.createFreezeIntid 0,this.freezeTime=void 0),this.contentPlayer.play()},t.prototype.log=fuguments.length;t++)e[t]=arguments[t];carodaConsoleSafe.info.apply(carodaConsoleSafe,__spreadArray(["ContentPlayerFreezer"],e,!1))},t.prototype.createFreezeInterval=function(){var e=this;return+setInterval(function(){e.freezeInstant()},t.FREEZE_INTERVAL_MS)},t.prototype.freezeInstant=function(){this.contentPlayer.getCurrentTime()!==this.freezeTime&&this.contentPlayer.setCurrentTime(this.freezeTime),this.contentPlayer.pause()},t.FREEZE_INTERVAL_MS=100,t}(),MutationObserver$2=renderWindow.MutationObserver,PictureInPicture=function(){function e(e){var i=this;this.pipEnabled=!1,this.waitForVideoElement(e).then(function(r){var n=r.clientWidth;new renderWindow.ResizeObserver(function(){var e=r.clientWidth,t=i.pipEnabled;i.pipEnabled=e<n&&!!renderDocument.fullscreenElement,t!==i.pipEnabled&&carodaConsoleSafe.info("PictureInPicture",{enabled:i.pipEnabled})}).observe(r)})}return e.prototype.isEnabled=function(){return this.pipEnabled||!!renderDocument.pictureInPictureElement},e.prototype.waitForVideoElement=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,new Promise(function(t){var r;"VIDEO"===n.nodeName?t(n):n.querySelector("video")?t(n.querySelector("video")):(r=new MutationObserver$2(function(e){n.querySelector("video")&&(t(n.querySelector("video")),r.disconnect())})).observe(n,{childList:!0,subtree:!0})})]})})},e}(),GaTracker=function(){function e(e){var t=e.instreamPlayer,r=e.getContentMetadata,r=void 0===r?function(){return{}}:r,n=e.getCurrentPosition,i=e.formatEvent,i=void 0===i?function(e){return e}:i,e=e.getDataLayer,e=void 0===e?function(){return renderWindow.dataLayer}:e;this.logger=carodaConsoleSafe.getInstanceLogger("GaTracker"),this.getContentMetadata=r,this.getCurrentPosition=n,this.in,this.listenToTimeUpdatePlayerEvents(),this.getDataLayer=e,this.trackayer.addEventListener("timeupdate",function(e,t){r.currentAdTime=t})},e.prototype.trackAdEvents=function(){var r=this;vastEvents.forEach(function(t){return r.instreamPlayer.addEventListener(t,function(e){return r.handleAdEvent(t,e)})})},e.prototype.handleAdEvent=function(i,a){return __awaiter(this,void 0,void 0,function(){var t,r,n;return __generator(this,function(e){switch(e.label){case 0:return a?(t=this.getDataLayer())?this.getGaEventType(i)?[4,Promise.all([this.getContentMetadata(),a.getCreativeMetadata().catch(function(){return null})])]:[2]:[2,this.logger.info("handleAdEvent",i,"dataLayer is not defined")]:[2,this.logger.info("handleAdEvent",i,"no adPlayer found")];case 1:return(n=e.sent(),r=n[0],n=n[1],r&&n)?(n=this.formatEvent({ads:[{adDesc:"",adDuration:n.durationSeconds,adID:n.id,adName:n.title,adType:this.getCurrentPosition(),campaignCskip":return"video.ads.skip";case"click_tracking":return"video.ads.click";case"complete":return"video.ads.end";case"resume":return"video.ads.resume";case"impression":return"video.ads.impression";case"midpoint":return"video.ads.half"}},e}(),GemiusTracker=function(){function e(e,t,r,n){this.adCount=-1,this.logger=carodaConsoleSafe.getInstanceLogger("GemiusTracker"),this.logger.info(".constructor"),this.gemiusPlayer=t,this.getCurrentPosition=r,this.getContentMetadata=n,e.addEventListener("start",this.trackAdBreakStart.bind(this)),e.addEventListener("pause",this.trackAdBreakEvent.bind(this,"pause")),e.addEventListener("complete",this.trackAdBreakEvent.bind(this,"complete")),e.addEventListener("skip",this.trackAdBreakEvent.bind(this,"skip")),e.addEventListener("volumeChanged",this.trackAdBreakEvent.bind(this,"chngVol"))}return e.prototype.trackAdBreakStart=function(r){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return"preroll"!==this.getCurrentPosition()&&this.logGemiusProgramEvent("break"),[4,r.getCreativeMetadata().catch(function(){return null})];case 1:return(t=e.sent())?(this.logGemiusNewAdEvent(t,r),this.logGemiusAdEvent("play",t,r),[2]):[2]}})})},e.prototype.trackAdBreakEvent=function(r,n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,n.getCreativeMetadata().catch(function(){return null})];case 1:return(t=e.sent())&&this.logGemiusAdEvent(r,t,n),[2]}})})},e.prototype.logGemiusProgramEvent=function(e){var t=this.getContentMetadata(),r=this.shouldAdEventContainEventData(e)?{autoPlay:t.isAutoplay(),partID:void 0,resolution:t.getResolution(),volume:t.getVolume()}:void 0;this.logger.info(".logGemiusProgramEvent",t.programId,t.getCurrentTime(),e,r),this.gemiusPlayer.programEvent(t.programId,t.getCurrentTime(),e,r)},e.prototype.shouldAdEventContainEventData=function(e){return-1===["pause","buffer","break","seek","complete","close","skip","stop"].indexOf(e)},e.prototype.logGemiusNewAdEvent=function(e,t){var r=this.getContentMetadata(),r={adDuration:e.durationSeconds,adName:e.title,adType:this.getGemiusAdType(this.getCurrentPosition()),campaignume()};this.logger.info(".logGemiusNewAdEvent",e.id,r),this.gemiusPlayer.newAd(e.id,r),this.adCount++},e.prototype.getGemiusAdType=function(e){switch(e){case"preroll":return"pre";case"midroll":return"mid";case"postroll":return"post"}},e.prototype.logGemiusAdEvent=function(e,t,r){var n=this.getContentMetadata(),r=this.shouldAdEventContainEventData(e)?{adPosition:this.adCount,autoPlay:n.isAutoplay(),resolution:n.getResolution(),volume:100*r.getVolume()}:void 0;this.logger.info("logGemiusAdevent",n.programId,t.id,n.getCurrentTsPlayer.adEvent(n.programId,t.id,n.getCurrentTime(),e,r)},e}(),library=getExternalDependency(function(e){return e.NOLBUNDLE&&{NOLBUNDLE:e.NOLBUNDLE}}),NielsenTracker=function(){function e(e,t,r,n,i){void 0===i&&(i=function(){return{}});var a,o,s=this;this.currentPlayhead=0,this.logger=carodaConsoleSafe.getInstanceLogger("NielsenTracke().NOLBUNDLE,o=integrationConfig.isDebug(),this.nSdkInstance=a.nlsQ(e,t,is.trackContetener("beforeunload",function(){s.track("end",s.currentPlayhead)}),r.onTimeUpdate(function(){return s.trurn s.trackPause(r)}),r.onPlaying(function(){return s.trackContentMetadata(r,i())}),n.addEventListener("start",function(e){return s.trackAdBreakStart(e)}),n.addEventListener("timeupdate",function(e,t){return s.trackAdBreakPlayhead(t)}),n.addEventListener("pause",function(){return s.trackAdBreakStop()}),n.addEventListener("complete",function(){return s.trackAdBreakStop()}),n.addEventListener("skip",function(){return s.trackAdBreakStop()})):this.logger.error(".constructor","NOLBUNDLE is undefined")}return e.prototype.trackContentMetadata=function(r,n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return(t=this.getEventKey("loadMetadata",n),this.lastMetadataLoggedKey===t)?[2]:(this.lastMetadataLoggedKey=t,[4,r.getDuration()]);case 1:return t=e.sent(),this.track("loadMetadata",__assign({length:t===1/0?86400:Math.ceil(t)},n)),[2]}})})},e.prototype.trackContentPlayhead=function(e){e=Math.floor(e.getCurrentTime());e<1||this.currentPlayhead===e||(this.currentPlayhead=e,this.track("setPlayheadPosition",this.currentPlayhead))},e.prototype.trackPause=function(r){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,r.getDuration()];case 1:return t=e.sent()-r.getCurrentTime(),this.track(t<1?"end":"stop",this.currentPlayhead),[2]}})})},e.prototype.trackAdBreakStart=function(r){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return this.currentPlayhead=0,[4,r.getCreativeMetadata().catch(function(){return null})];case 1:return(t=e.sent())?(this.lastMetadataLoggedKey=this.getEventKey("loadMetadata",t),this.track("loadMetadata",{assetid:t.id,length:Math.ceil(t.durationSeconds),nol_c4:"p4,"+(t.description||""),nol_c5:"p5,",nol_c6:"p6,"+r.tracking.context.adBreakPosition,title:t.title,type:r.tracking.context.adBreakPosition}),[2]):[2]}})})},e.prototype.trackAdBreakPlayhead=function(r){return __awaiter(this,voifunction(e){returns.track("setPlayheadPosiop=function(){this.track("stop",this.currentPlayhead)},e.prototype.track=function(e,t){this.logger.info(".track",e,t),this.nSdkInstance.ggPM(e,t)},e.prototype.getEventKey=function(e,t){return"".concat(e,":").concat(JSON.stringify(t))},e}(),InstreamWithPositionsPlayer=function(o){function r(e,t,r,n,i){void 0===i&&(i={});var a=o.call(this)||this;a.adSlots=[],a.preloadedPlayers=[],a.duration=Number.MAX_SAFE_INTEGER,a.resetAdsCounter=0,a.cancelAllPrerolls=!1,a.successfulFirstPreroll=!1,carodaConsoleSafe.info("InstreamWithPositionsPlayer",".constructor",e,n),a.id="carodaIntstreamWithPositions".concat(Math.floor(1e6*Math.random())),a.onPrerollLoaded=once(n.onPrerollLoaded||function(){}),a.onPrerollFailed=once(n.onPrerollFailed||function(){}),a.volume="number"==typeof n.volume?function(){return n.volume}:n.volume,a.lastAdVolume=a.volume(),a.containerElement=a.initializeContainerElement();return a.shouldPlayAdSlot=n.shouldPlayAdSlot||function(e){return"preroll"===e.adSlot.position||"iOS"!==targetingProfile.os()},a.tracking=new Tracking(r,__assign(__assign({},i),{context:__assign(__assign({},i.context||{}),{adPlacement:"in-stream"}),placementId:"N/A",playerContainer:a.containerElement})),a.tracking.hitPlayerEvent("player_init"),a.adPlayerLoader=t,a.contentPlayerPlaysInline=n.contentPlayerPlaysInline,a.maximumTimeUntilFirstPrerollMs=n.maximumTimeUntilFirstPrerollMs,a.renewNextIndexedAdPromise(),n.css&&appendCss(n.css.replace(/\$carodaPlayer/g,"#".concat(a.id))),a.positionPlayer(n.zIndex),a.deactivatePlayer(),a.monitorPlayerInView(),a.instreamPositions=e,a.createAdSlots(n.contentDurationInSeconds),a}return __extends(r,o),r.prototype.attachTo=function(e){var n=this;e.appendChild(this.containerElement),this.instreamPositions.forEach(function(e){var t=n.containerElement.clientWidth,r=Math.max(n.containerElement.clientHeight,9*t/16);setPlacementDimensions(e.vid,{height:r,width:t})})},r.prototype.getElement=function(){return this.containerElement},r.prototype.getId=function(){return this.id},r.prototype.prepareAdBreak=function(e,t,r){var n,i,a=this;if((void 0===r&&(r=null),"playing"!==this.status)&&("iOS"!==targetingProfile.os()||this.contentPlayerPlaysInline))return("preroll"===e||t<1)&&this.preparedPreroll?(n=this.preparedPreroll,this.preparedPreroll=void 0,this.status="prepared",n):(i=this.getAdSlotForPosition(e,t))?(this.status="prepared",this.preloadAd(i),{play:function(e){e=(void 0===e?{userInitiated:!0}:e).userInitiated;return a.playAdSlot({adSlot:i,initialVolume:r,userInitiated:e})}}):void(t&&this.preloadNextAd(t))},r.prototype.resetAds=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this.lockAdBreakPromise?[4,this.lockAdBreakPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return carodaConsoleSafe.info("InstreamWithPositionsPlayer",".resetAds",t),this.resetAdsCounter++,this.preparedPreroll=void 0,[4,this.createAdSlots(t)];case 3:return e.sent(),[2]}})})},r.prototype.initializeContainerElement=function(){var e=renderDocument.createElement("div");return e.setAttribute("id",this.id),e.classList.add(r.CLASS_NAME),e},r.prototype.createAdSlots=function(n){return __awaiter(this,void 0,void 0,function(){var t,r;return __generator(this,function(e){switch(e.label){case 0:return(t=function(e){return"preroll"===e.position},this.adSlots=[],"number"==typeof n&&(this.duration=n),this.addAdSlotsForPositions(this.instreamPositions.filter(t)),this.preparedPreroll=this.prepareAdBreak("preroll"),this.preparedPreroll||this.onPrerollFailed(),"number"==typeof n)?[3,2]:(r=this,[4,n]);case 1:r.duration=e.sent(),e.label=2;case 2:return this.addAdSlotsForPositions(this.instreamPositions.filter(not(t))),[2]}})})},r.prototype.getAdSlotForPosition=function(e,t){switch(e){case"preroll":return this.adSlots.find(function(e){return"preroll"===e.position});case"midroll":return this.getClosestMidroll(t);case"postroll":return this.adSlots.find(function(e){return"postroll"===e.position})}},r.prototype.addAdSlotsForPositions=function(e){var n=this,e=this.adPlayerLoader.transformInstreamPositionsIntoCampaingIdsByPosition(e,this.duration).map(function(e){for(var t=[],r=0;r<e.instreamPositions.length;r++)n.adPlayerLoader.hasCampaigns(e.instreamPositions[r].placementId)?t.push(e.instreamPositions[r]):e.instreamPositions[r+1]&&(e.instreamPositions[r+1].isFallback=!1);if(t.length)return __assign(__assign({},e),{instreamPositions:t})}).filter(Boolean),r={midroll:0,postroll:0,preroll:0},e=__spreadArray(__spreadArray([],this.adSlots,!0),e,!0);this.adSlots=e.map(function(e){var t="preroll"===e.position||"postroll"===e.position?e.position:"midroll";return __assign(__assign({},e),{instreamPositions:e.instreamPositions.map(function(e){return __assign(__assign({},e),{index:r[t]++})})})}),carodaConsoleSafe.info("InstreamWithPositionsPlayer",".prepareAdSlots",JSON.stringify(this.adSlots))},r.prototype.playAdSlot=function(e){var t=this,r=e.adSlot,n=e.initialVolume,e=e.userInitiated;if(carodaConsoleSafe.info("InstreamWithPositionsPlayer",".playAdSlot",this.status,r),"prepared"!==this.status)return Promise.resolve();var i=this.getPosition(r.position),n=(this.lastAdVolume=null===n?this.volume():n,this.shouldPlayAdSlot({adSlot:r}));return this.getPreloadedPlayersForPosition(i).length&&n?(this.removeAdSlot(r),this.activatePlayer(i),this.lockAdBreak(),this.playAdAndPreloadNext(r,!0,e).then(function(){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return 0<this.getPreloadedPlayersForPosition(i).length?[4,this.playAdAndPreloadNext(r,!1,!1)]:[3,2];case 1:return e.sent(),[3,0];case 2:return this.unlockAdBreak(),this.deactiplayAdSlot","shouldPlayAyersForPosition=function(t){return this.preloadedPlayers.filter(function(e){return e.position===t})},r.prototype.getPosition=function(e){swistroll":return"postroll";default:return"midroll"}},r.prototype.removeAdSlot=function(t){"postroll"===t.position?(this.adSlots=[],this.preparedPreroll=void 0):this.adSlots=this.adSlots.filter(function(e){return e.position!==t.position})},r.prototype.preloadAd=function(t){var n=this;if(t&&t.instreamPositions.length){var i=this.getPosition(t.instreamPositions[0].position);if("preroll"===i&&this.cancelAllPrerolls)return carodaConsoleSafe.info("InstreamWithPositionsPlayer","preloadAd",i,"prerolls cancelled"),void this.onPrerollFailed();if(this.getPreloadedPlayersForPosition(i).length)carodaConsoleSafe.info("InstreamWithPositionsPlayer","preloadAd",i,"already preloaded");else{var r,e=t.instreamPositions;if(this.currentSlotImpressionRecord&&e[0].isFallback)return carodaConsoleSafe.info("InstreamWithPositionsPlayer","preloadAd",i,"is a fallback placement","waiting for previous slot playback to finish",this.currentSlotImpressionRecord),r=e[0].placementId,void this.currentSlotImpressionRecord.then(function(e){n.shouldPlayFallbackPosition({previousAdSlotImpressionTrack:e,position:i})?(n.currentSlotImpressionRecord=void 0,n.preloadAd(t)):carodaConsoleSafe.info("InstreamWithPositionsPlayer","preloadAd",i,r,"skipped because it is a fallback placement and previous slot resulted in an impression")});var a,o,s=e.splice(0,1)[0],c=(carodaConsoleSafe.info("InstreamWithPositionsPlayer","preloadAd",s,this.lastAdVolume),this.createPreloadedPlayerContainer()),l=s.overrideSkipBehavior,u=s.fixedSkipOffset,d=(this.tracking.context.adBreakIndex=s.n=i,!this.successfulFirstPreroll&&this.maximumTimeUntilFirstPrerollMs&&"preroll"===i&&(carodaConsoleSafe.info("InstreamWithPositionsPlayer","preloadAd","starting preroll timeout"),a=setTimeout(function(){return n.cancelAllPrerolls=!0},this.maximumTimeUntilFirstPrerollMs)),this.currentSlotImpressionRecord=new Promise(function(e){o=e}),this.adPlayerLoader.loadInstreamWithPositionsAdSlot({adSlot:__assign({adBreakType:i,adsGroup:this.getAdsGroup(t.position),campaigns:[],hideSkipButton:l===OverrideSkipBehavior.Hide,id:"".concat(this.id,"-").concat(t.position,"-").concat(e.length,"-").concat(this.resetAdsCounter),placementId:s.placementId},l===OverrideSkipBehavior.Fixed?{fixedSkipOffset:u}:{}),containerElement:c,onPlayerInitializationError:function(){n.preloadedPlayers=n.preloadedPlayers.filter(function(e){return e!==p}),t.instreamPositions.length?n.preloadAd(t):"preroll"===i&&n.onPrerollFailed()},onPlayerReady:function(e){mergeTrackingContext(n.trackingunction(){carodaConsoleSafe.info("InstreamWithPositionsPlayer","preloadAd","ad indexed"),n.nextIndexedAdResolve(e),n.renewNextIndexedAdPromise()}),"preroll"===i&&n.onPrerollLoaded&&waitFor(function(){return e.canPlayAd()||e.isError()}).then(function(){e.isError()?n.onPrerollFailed():n.onPrerollLoaded(),clearTimeout(a),n.successfulFirstPreroll=!0})},shouldContinuePriorityChain:function(){return"preroll"!==i||!n.cancelAllPrerolls},trackingConfig:{context:__assign({},this.tracking.context)}})),p={container:c,placementId:s.placementId,playAd:function(r){return __awaiter(n,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,d(r)];case 1:return t=e.sent(),o({hadImpression:(null==t?void 0:t.hadImpression)||!1,position:i}),[2,t];case 2:throw t=e.sent(),o({hadImpression:!1,position:i}),t;case 3:return[2]}})})},position:i};this.preloadedPlayers.push(p)}}},r.prototype.getAdsGroup=function(e){return integrationConfig.allowRepeatedAdsInInstreamAdBreaks()?String(Math.round(1e9*Math.random())):"".concat(this.id,"-").concat(e,"-").concat(this.resetAdsCounter)},r.prototype.createPreloadedPlayerContainer=function(){var e=renderDocument.createElement("div"),t=(e.classList.add(r.PRELOADED_PLAYER_CONTAINER_CLASS_NAME),this.containerElement.querySelector(".".concat(r.PRELOADED_PLAYER_CONTAINER_CLASS_NAME)));return t?this.containerElement.insertBefore(e,t):this.containerElement.appendChild(e),e},r.prototype.playAdAndPreloadNext=function(e,t,r){var n=this,i=this.getPosition(e.position),i=this.getPreloadedPlayersForPosition(i);if(!i.length)return Promise.resolve();carodaConsoleSafe.info("I","playAdAndPreloadNext");var a=i.splice(0,1)[0],o=(this.tracking.hitPlayerEvent("instream_impression_opportunity",void 0,void 0,void 0,void 0,a.placementId),this.preloadedPlayers=this.preloadedPlayers.filter(function(e){return e!==a}),a.playAd({userInitiated:r,volume:t?this.vol.info("InstreamWithPositionsPlayer","playAdAndPreloadNext","playback finished or next ad indexed"),n.preloadAd(e),o}).catch(function(e){carodaConsoleSafe.info("InstreamWithPositionsPlayer","playAdAndPreloadNext","error playing ad",e)}).then(function(e){e&&(n.lastAdVolume=e.getVolume()),n.deactivatePreloadedPlayerContainer(a.container)})},rme=function(){return"iOS"===targetingProfile.os()?0:this.lastAdVolume},r.prototype.waitForPlaybackOrNextAd=function(e){return Promise.race([e,this.nextIndexedAd])},r.prototype.deactivatePreloadedPlayerContainer=function(e){e.remove()},r.prototype.positionPlayer=function(e){this.containerElement.style.position="absolute",this.containerElement.style.top="0px",this.containerElement.style.left="0px",this.containerElement.style.width="100%",this.containerElement.style.height="100%",this.containerElement.style.zIndex="".concat(e||"auto")},r.p,this.containerElement.style.visibility="hidden",this.containerElement.style.pointerEvents="none",t&&this.preloadedPlayers.filter(not(function(e){return e.position===t})).forEach(function(e){return delete e.container.style.visibility})},r.,this.containerElement.style.visibility="visible",this.containerElement.style.pointerEvents="auto",this.preloadedPlayers.filter(not(function(e){return e.position===t})).forEach(function(e){return e.container.style.visibility="hidden"})},r.prototype.getClosestMidroll=function(t){if(t<1){var e=this.adSlots.find(n});if(e)return e}var e=this.getMidrolls().filter(function(e){e=e.positthis.adSlots.filter(function(e){var t=e.position;return!r.find(function(e){e=e.position;return t===e})}),e[0]},r.prototype.getMidrolls=function(){return this.adSlots.filter(function(e){e=e.position;return"preroll"!==e&&"postroll"!==e})},r.prototype.preloadNextAd=function(e){0<this.getPreloadedPlayersForPosition("midroll").length||(e+3>=this.duration?this.preloadPostroll():this.preloadNextMidrolls(e+3))},r.prototype.preloadPostroll=fufind(function(e){return"postroll"===e.position});this.preloadAd(e)},r.prototype.preloadNextMidrolls=function(t){var r=this;this.getMidrolls().filter(function(e){e=e.position;return parseFloat(e)<t}).forEach(function(e){r.preloadAd(e)})},r.prototype.monitorPlayerInView=function(){return __awaiter(this,void 0,void {switch(e.label){case 0:return[4,waitFor(function(){return t.isInView()})];case 1:return e.sent(),this.tracking.hitPlayerEvent("player_in_view"),[w(this.containerElement)},r.prototype.akResolve=e})},r.prototype.unlockAdBreak=function(){this.lockAdBreakResolve&&this.lockAdBreakResolve()},r.prototype.renewNextIndexedAdPromise=function(){var t=this;this.nextIndexedAd=new Promise(function(e){t.nextIndexedAdResolve=e})},r.prototype.shouldPlayFallbackPosition=function(e){var t=e.previousAdSlotImpressionTrack,e=e.position;return t.position!==e||!t.hadImpression},r.CLASS_NAME="carodaInstreamWithPositions",r.PRELOADED_PLAYER_CONTAINER_CLASS_NAME="caroda-preloaded-player",r}(EventTarget),InstreamInContentPlayer=function(o){function s(t,r,e,n,i){var a=o.call(this)||this,e=(a.prerollCalled=!1,a.validateContentPlayer(t),a.playerOptions=i,a.instreamPositions=r,a.id=a.getOrInitializeId(t),a.log(".constructor",t,r.map(function(e){return e.position})),t.getDuration().then(function(e){return a.log(".constructor",{duration:e,currentTime:t.getCurrentTime()})}),a.contentPlayer=t,a.contentPlayer.isLive=a.contentPlayer.isLive||function(){return!1},t.getCurrentTime()<s.PLAYBACK_PERIOD_FOR_PREROLL_SECONDS&&a.createClickableOverlay(),a.spinner=new Spinner(a.contentPlayer.getContainer()),a.freezer=new ContentPlayerFreezer(a.contentPlayer),a.pauseIfAutoplay(),a.addCues(),i.nielsen&&(t.onPause&&t.onPlaying?new NielsenTracker(i.nielsen.appId,i.nielsen.instanceName,t,a,i.nielsen.getContentMetadata):a.log(".constructor","cannot instantiate NielsenTracker. content player is missing methods")),i.gemius&&new GemiusTracker(a,i.gemius.gemiusPlayer,function(){return a.currentlyPlaying},i.gemius.getContentMetadata),i.ga&&new GaTracker({formatEvent:i.ga.formatEvent,getContentMetadata:i.ga.getContentMetadata,getCurrentPosition:function(){return a.currentlyPlaying},getDataLayer:i.ga.getDataLayer,instreamPlayer:a}),e().then(function(t){return __awaiter(a,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return(this.log(".constructor","got ad player loader"),this.adPlayerLoader=t,this.contentPlayer.waitUntilReady)?(this.log(".constructor","waiting until ready"),[4,this.contentPlayer.waitUntilReady()]):[3,2];case 1:e.sent(),this.log(".constructor","ready"),e.label=2;case 2:return this.initiateIfAutoplay(),this.resolveReadyForAdsTimeInSeconds(),r=i.skipPrerolls?r.filter(not(isPreroll)):r,this.contentPlayer.isLive()&&(r=r.filter(not(isPostroll))),this.loadInstream(r,i,n),[2]}})})}),t.getContainer());return a.pip=new PictureInPicture(e),a.addEventListener("volumeChanged",function(e,t){t=t.volume;t&&a.contentPlayer.setVolume&&(a.volumeAfterAdBreak=t,a.contentPlayer.isLive()||a.contentPlayer.setVolume(t))}),a}return __extends(s,o),s.prototype.resetAds=function(r){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return(this.addCues(Promise.resolve(r)),this.prerollCalled&&"preroll"!==this.currentlyPlaying)?[4,waitFor(function(){return!t.currentlyPlaying})]:[2];case 1:return e.sent(),[4,this.instreamWithPositionsPlayer.resetAds(r)];case 2:return e.sent(),this.prerollCalled=!1,this.createClickableOverlay(),this.readyForAd})})},s.prototype.createClickableOverlay=function(){var e,t=this;this.clickableOverlay||(e=this.contentPlayer.getContainer(),this.clickableOverlay=new ClickableOverlay(e,function(){returnhis.clickableOverlay&&(this.onClickableOverlayClick({userInitiated:!1}),this.clickableOverlay=void 0)},s.prototype.removeClickableOverlay=function(){this.clickableOverlay&&(this.clickableOverlay.remove(),ths.prototype.validateContentPlayer=function(t){var r=[];if(["getContainer","getCurrentTime","getDuration","getVolume","isAutoplay","isMuted","onEnded","onTimeUpdate","pause","play","setCurrentTime"].forEach(function(e){t[e]||r.push(e)}),r.length)throw new Error("content player must implement "+r.join(", "))},s.prototype.getOrInitializeId=function(e){var t,e=e.getContainer();return e.id||(t="caroda-instream-in-content-player-".concat(Math.floor(1e9*Math.random())),e.setAttribute("id",t),t)},s.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];carodaConsoleSafe.info.apply(carodaConsoleSafe,__spreadArray(["InstreamInContentPlayer"n(e){var t=this,e=e.userInitiated;return this.log("onClickableOverlayClick"),this.contentPlayer.play(),this.contentPlayer.pause(),this.processPreroll({userInitiated:e}).then(function(){t.contentPlayer.play(),t.clickableOverlay=void 0})},s.prototype.processPreroll=function(e){e=e.userInitiated;if(!this.isReadyForAds()||this.prerollCalled||this.currentlyPlaying||!this.clickableOverlay)return Promise.resolve();if(this.prerollCalled=!0,this.log("processPreroll"),this.removeClickableOverlay(),this.pip.isEnabled())return Promise.resolve();var t=this.prepareAdBreak("preroll");return t?(this.updateCurrentlyPlaying("preroll"),this.playAdBreakAndResume({adBreakPlayer:t,userInitiated:e})):(this.updateCurrentlyPlaying(void 0),Promise.resolve())},s.prototype.playAlayer,eeakPlayer:r}),this.contentPlayer.isLive()||this.freezer.freeze(),this.spinner.show(),r.play({userInitiated:e}).then(function(){t.log("playAdBreakAndResume","played")}).catch(function(e){t.log("playAdBreakAndResume","error playing",e)}).then(function(){t.spinner.hide(),t.freezer.unfreeze(),t.updateCurrentlyPlaying(void 0)})},s.prototype.pauseIfAutoplay=function(){"user-initiated"===getAutoplayBehaviour(this.contentPlayer)||this.contentPlayer.isLive()||(this.log("pauseIfAutoplay","pausing"),this.contentPlayer.pause())},s.prototype.loadInstream=function(e,t,r){var n=this;this.instreamWithPositionsPlayer=new InstreamWithPositionsPlayer(e,this.adPlayerLoader,r,__assign(__assign({contentPlayerPlaysInline:!0,css:t.css},t),{contentDurationInSeconds:this.contentPlayer.getDuration(),volume:function(){return n.getVolume()}}),{context:{adBreakPosition:"preroll",contents.registerAdBreaks(),this.registerPlaylistBehavior(r),this.instreamWithPositionsPlayer.attachTo(this.contentPlayer.getContainer())},s.prototype.getVolume=function(){return this.contentPlayer.isMuted()?0:this.contentPlayer.getVolume()},s.prototype.registerAdBreaks=function(){var e=this;this.log("registerAdBreaks"),this.contentPlayer.onTimeUpdate(function(){return e.processMidroll()}),this.contentPlayer.onEnded(function(){return e.processPostroll()})},s.prototype.processMidroll=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){return!this.isReadyForAds()||this.pip.isEnabled()||this.currentlyPlaying?[2]:(t=this.contentPlayer.getCurrentTime(),(t=t-this.readyForAdsTimeInSeconds)<s.PLAYBACK_PERIOD_FOR_PREROLL_SECONDS?(this.processPreroll({userInitiated:!1}),[2]):(t=this.prepareAdBreak("midroll",t))?(this.log("processMidroll"),this.updateCurrentlyPlaying("midroll"),[2,this.playAdBreakAndResume({adBreakPlayer:t,userInitiated:!1})]):(this.updateCurrentlyPlaying(void 0),[2]))})})},s.prototype.processPostroll=function(){return __awaiter(this,void 0,void 0,function(){var t,r;return __generator(this,function(e){switch(e.label){case 0:return this.currentlyPlaying?[2]:(t=this.playerOptions.onPostrollEnd||function(){},!this.isReadyForAds()||this.pip.isEnabled()?(t(),[2]):(r=this.prepareAdBreak("postroll"))?(this.log("processPostroll"),this.updateCurrentlyPlaying("postroll"),[4,this.playPostroll(r)]):(t(),this.updateCurrentlyPlaying(void 0),[2]));case 1:return e.sent(),t(),[2]}})})},s.prototype.playPostroll=function(r){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:this.spinner.show(),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r.play({userInitiated:!1})];case 2:return e.sent(),this.log("playPostroll","played"),[3,4];case 3:return t=e.sent(),this.log("playPostroll","error playing",t),[3,4];case 4:return this.updateCurrentlyPlaying(void 0),this.spinner.hide(),[2]}})})},s.prototype.initiateIfAutoplay=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return"user-inhis.contentPlayer))?[2]:"viewable"!==t?[3,2]:[4,waitUntilInView(this.contentPlayer.getContainer())];case 1:e.sent(),e.label=2;case 2:return this.log("initiateIfAutoplay","initiating"),[4,new Promise(function(e){return setTimeout(e,0)})];case 3:return(e.sent(),this.clickableOverlay)?(this.clickClickableOverlay(),[2]):[2]}})})},s.prototype.updateCurrentlyPlaying=function(e){!e&&this.currentlyPlaying&&(this.volumeAfterAdBreak&&(this.contentPlayer.setVolume(this.volumeAfterAdBreak),this.volumeAfterAdBreak=void 0),this.playerOptions.onAdBreakEnd&&this.playerOptions.onAdBreakEnd(this.currentlyPlaying,this)),this.currentlyPlaying=e,this.instreamWithPositionsPlayer.tracking.context.adBreakPosition=this.currentlyPlaying,e&&this.playerOptions.onAdBreakStart&&this.playerOptions.onAdBreakStart(e,this)},s.prototype.registerPlaylistBehavior=function(a){var e=this;this.contentPlayer.isLive()||this.contentPlayer.onPlaylistItemChange&&this.contentPlayer.onPlaylistItemChange(function(i){return __awaiter(e,void 0,void 0,function(){var t,r,n=this;return __generator(this,function(e){switch(e.label){case 0:return(this.log(".registerPlaylistBehavior",".onPlaylistItemChange",i),t="preroll"===this.currentlyPlaying,i&&i instanceof VideoElementContentPlayer)?[4,waitFor(function(){return!n.currentlyPlaying})]:[3,2];case 1:return(e.sent(erPlaylistBehavior",".onPlaylistItemChange","new InstreamInContentPlayer"),[2,new s(i,this.instreamPositions,function(){return __awaiter(n,void 0,void 0,function(){return __generator(this,function(e){return[2,this.adPlayerLoader]})})},a,__assign(__assign({},this.playerOptions),{forceAutoplay:!0,skipPrerolls:t}))]):(this.log(".registerPlaylistBehavior",".onPlaylistItemChange","new video element no longer in DOM"),[2]);caselog(".registerPlaylistBehavior",".onPlaylistItemChange","preroll not called or being played"),this.addCues(Promise.resolve(this.contentPlayer.getDuration())),[2]):(this.freezer.freeze(),[4,waitFor(function(){return!n.currentlyPlaying})]);case 3:return e.sent(),[4,this.waitForPostrollToFinish()];case 4:return e.sent(),r=this.contentPlayer.getDuration(),[4,this.resetAds(r)];case 5:return e.sent(),[4,this.processPreroll({userInitiated:!1})];case })},s.prototype.waitForPostrollToFinish=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return[4,waitFor(function(){return"postroll"!==t.currentlyPlaying})];case 1:return e.sent(),[2]}})})},s.prototype.addCues=function(r){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return this.playerOptions.addCues?[4,this.getCuesPositions(r)]:[2];case 1:return t=e.sent(),this.playerOptions.addCues(t),[2]}})})},s.prototype.getCuesPositions=function(t){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(e){switch(e.label){case 0:return[4,t||this.contentPlayer.getDuration()];case 1:return r=e.sent(),[2,this.instreamPositions.filter(function(e){return"midroll"===e.position}).map(function(e){var t=e.break;return"seconds"===e.unit?t:.01*t*r})]}})})},s.prototype.resolveReadyForAdsTimeInSeconds=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this.playerOptions.getReadyForAds?[4,this.playerOptions.getReadyForAInSeconds=this.contentPlayeAdsTimeInSeconds=0,e.label=3;case 3:return[2]}})})},s.prototype.isReadyForAds=function(){return null!=this.unction(e,t){return this.instreamWithPositionsPlayer.prepareAdBreak(e,t)},s.PLAYBACK_PERIOD_FOR_PREROLL_SECONDS=5,s}(EventTarget);function isPreroll(e){return"preroll"===e.position}function isPostroll(e){return"postroll"===e.position}var setInterval$1=renderWindow.setInterval,InstreamPlayer=function(){function e(e,t,r,n){void 0===n&&(n={}),carodaConsoleSafe.info("InstreamPlayer",".constructor",e,t),this.id="carodaContent".concat(Math.floor(1e6*Math.random())),this.containerElement=renderDocument.createElement("div"),this.containerElement.classList.add("carodaInstream"),this.containerElement.id=this.id,this.autoplay=n.autoplay,this.tracking=new Tracking(r,{context:{adPlacement:"in-stream"},placementId:e,playerContainer:this.containerElement}),carodaConsoleSafe.info("InstreamPlayer",".constructor",e,t),this.contentPlayer=new ContentPlayer({autoplay:this.autoplay,container:this.containerElement,disablePlayUnmutedScreen:!1!==n.disablePlayUnmutedScreen,fallbackSource:t,fullScreenContainer:this.containerElement,loop:n.loop,muted:n.muted,poster:n.poster,vid:e||"novid"}),n.css&&appendCss(n.css.replace(/\$carodaPlayer/g,"#".concat(this.id))),this.monitorPlayerInView(),this.addPlayerEventListeners(),this.monitorPlayerFullScreen()}return e.getAssetIdAndUrl=function(t,r,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return carodaConsoleSafe.info("InstreamPlayer","getAssetIdAndUrl",t,r),t.match(/^http/)?[2,ApiInstance.getMigratedAssetIdAnlement=function(){pe.getContainer=function(){return this.containerElement},e.prototype.play=function(){this.contentPlayer.play()},e.prototype.paused=function(){return this.contentPlayer.paused()},e.prototype.pause=function(){this.contentPlayer.pause()},e.prototype.volume=function(e){carodaConsoleSafe.info("InstreamPlayer",".volume",e),this.contentPlayer.volume(Math.min(Math.max(e,0),1))},e.prototype.unmute=function(){carodaConsoleSafe.info("InstreamPlayer",".unmute"),this.contentPlayer.unmute()},e.prototype.mute=function(){c.mute"),this.contentPlayer.mute()},e.prototype.isAutoplay=function(){return this.autoplay},e.prototype.getCurrentTime=function(){return this.contentPlayer.currentTime},eontentPlayer.seek(e)},e.prototype.getDuration=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return[4,waitFor(function(){return t.contentPlayer.duration})];case 1:return e.sent(),[2,this.contentPlayer.duration]}})})},e.prototype.getVolume=function(){return this.contentPlayer.volume},e.prototype.isMuted=function(){return this.contentPlayer.muted},e.prototype.on=function(e,t){carodaConsoleSafe.infntentPlayer.addEventListener(e="ended"===e?"complete":e,t)},e.prototype.onTimeUpdate=function(t){var r=this;this.on("tims.on("complete",e)},e.prototype.off=function(e,t){carodaConsoleSafe.error("InstreamPlayer",".off",e,"not implemented")},e.prototype.destroy=function(){carodaConsoleSafe.info("InstreamPlayer",".destroy"),this.containerElement.remove()},e.prototype.addPlayerEventListeners=function(){var e=this;carodaConsoleSafe.info("InstreamPlayer",".addPlayerEventListeners"),this.contentPlayer.addEventListener("play",function(){return e.tracking.hitPlayerEvent("play")}),this.contentPlayer.addEventListener("pause",function(){return e.tracking.hitPlayerEvent("pause")}),this.contentPlayer.addEventListener("seek",function(){return e.tracking.hitPlayerEvent("seek")}),this.contentPlayer.addEventListener("complete",function(){return e.tracking.hitPlayerEvent("complete")}),this.contentPlayer.addEventListener("resume",function(){return e.tracking.hitPlayerEvent("resume")})},e.prototype.isInView=function(){var e=this.containerElement.getBoundingClientRect(),t=rendWidth||renderDocument.documentElement.clientWidth;return e.top>=-e.height/2&&0<=e.left&&e.bottom<=t+e.height/2&&e.right<=r},e.prototype.isFullScreen=function(){return!!this.containerElement.querySelector(".caroda-content-fullscreen")},e.prototype.monitorPlayerInView=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return[4,waitFor(function(){return t.isInView()})];case 1:his,void 0,void 0,function(){var t=this;return __generator(this,function(e){return setInterval$1(function(){t.isFullScreen()?t.containerElement.classList.add("carodaFullscreen"):t.containerElement.classList.remove("carodaFullscreen")},500),[2]})})},e}(),OutstreamPlayer=function(a){function r(e,t,r,n){void 0===r&&(r={});var i=a.call(this)||this,e=(carodaConsoleSafe.info("OutstreamPlayer",".constructor",r),i.id="carodaOutstream".concat(Math.floor(1e6*Math.random())),i.adPlayerLoader=e,i.containerElement=renderDocument.createElement("div"),i.containerElement.classList.add("carodaOutstream"),i.containerElement.setAttribute("id",i.id),Array.isArray(n)?n[0]:n);return i.placementIds=Array.isArray(n)?n:[n],i.tracking=new Tracking(t,{context:__assign({},r.trackingConfig&&r.trackingConfig.context||{}),placementId:e,playerContainer:i.containerElement}),i.locale=targetingProfile.locale(),i.isSlider=Boolean(r.isSlider)||integrationConfig.forceSlider(),i.isSingleAd=Boolean(r.isSingleAd)||integrationConfig.forceSingleAd(),i.forceMobileStandardWidth=Boolean(r.forceMobileStandardWidth),i.omitOpportunityTracking=Boolean(r.omitOpportunityTracking),i.unfreezePrecondition=r.unfreezePrecondition||function(){return!0},i.status="not-loaded",r.css&&appendCss(r.css.replace(/\$carodaContainer/g,"#".concat(i.getId(),"Container")).replace(/\$carodaPlayer/g,"#".concat(i.getId()))),r.marginRaw&&appendCss("#".concat(i.getId(),"Container {\n                min-height: 0.1px !important;\n                margin-top: ").concat(r.marginRaw.top," !important;\n                margin-bottom: ").concat(r.marginRaw.bottom," !important;\n            }")),r.maxWidth&&appendCss("#".concat(i.getId(),"Container {\n                max-width: ").concat(r.maxWidth,"px !important;\n                margin-left: auto !important;\n                margin-right: auto !important;\n            }")),r.css&&appendCss(r.css.replace(/\$container/g,"#".concat(i.getId(),"Container"))),i.applyStyles(r.styles||{}),i.tracking.hitPlayerEvent("player_init"),i.monitorPlayerInView(),i.style={padding:{bottom:get_1(r,"padding.bottom",20),top:get_1(r,"padding.top",30)}},i.waitForAdLoadAndAddBorders(),i}return __extends(r,a),r.adjustMobileMargins=function(e){e.style.overflow="visible",e.style.maxWidth="100vw",e.style.width="100vw",e.style.marginLeft="-50px";for(var t=-50;e.getBoundingClientRect().x<0&&t<0;)e.style.marginLeft=++t+"px";carodaConsoleSafe.info("OutstreamPlayer",".adjustMobileMargins","adjusted to",t),-50===t&&e.setAttribute("style","")},r.prototype.attachTo=function(t){t.classList.add("carodaContainer"),t.id="".concat(this.getId(),"Container"),t.appendChild(this.containerElement),this.placementIds.forEach(function(e){setPlacementDimensions(e,{height:Math.max(t.clientHeight,9*t.clientWidth/16),width:t.clientWidth})}),this.takeNoSpace()},r.prototype.getElement=function(){return this.containerElement},r.prototype.getId=function(){return this.id},r.prototype.getAdPlayerLoader=function(){return this.adPlayerLoader},r.prototype.getAdPlayerFrame=function(){return this.adPlayerFrame},r.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return(carodaConsoleSafe.info("OutstreamPlayer",".play"),this.isSlider)?(t=this.adPlayerLoader.loadOutstreamSliderAdSlot(this.getElement(),{isSingleAd:this.isSingleAd,onPlayerReady:this.onAdPlayerReady.bind(this)}),this.connectTo(t),[4,t.play()]):[3,2];case 1:e.sent(),e.label=2;case 2:return t&&t.hadImpression()?[3,4]:[4,this.adPlayerLoader.loadOutstreamAdSlot(this.getElement(),this.onAdPlayerReady.bind(this))];case 3:e.sent(),e.label=4;case 4:return carodaConsoleSafe.info("Outst})},r.prototype.waitForStart=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return[4,waitFor(function(){return"loaded"===t:return e.sent(),[2]}})})},r.prototype.waitForEnd=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,functionn(){return"finished"===t.status})];case 1:return e.sent(),[2]}})})},r.prototype.isForceMobileStandardWidth=function(){return this.forceMobileStandardWidth},r.prototype.onAdPlayerReady=function(e){mergeTrackingContext(this.tracking,e)},r.prototype.waitForAdLoadAndAddBorders=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("OutstreamPlayer",".waitForAdLoadAndAddBorders"),[4,waitFor(function(){return Boolean(renderDocument.querySelector("#".concat(t.id,"Container .loaded")))})];case 1:return e.sent(),carodaConsoleSafe.info("OutstreamPlayer",".waitForAdLoadAndAddBorders","loaded"),this.status="loaded",this.takeNoSpaceStyles&&this.takeNoSpaceStyles.remove(),appendCss("\n            #".concat(this.getId(),"Container > .carodaOutstream {\n                padding-top: ").concat(this.style.padding.top,"px !important;\n                padding-bottom: ").concat(this.style.padding.bottom,"px !important;\n            }\n     thPage()||this.forceMeMargins(this.containerElement),[2]}})})},r.prototype.getParentElement=function(){return this.containerElement.parentElement},r.prototype.isInView=function(){return this.unfreezePrecondition()&&isInVerticalView(this.containerElement)},r.prototype.monitorPlayerInView=function(){return __awaiter(this,void 0,void 0,function(){var t,r=this;return __generator(this,function(e){switch(e.label){case 0:return[4,waitFor(function(){return r.isInView()})];case 1:return(e.sent(),this.tracking.hitPlayerEvent("player_in_view"),this.omitOpportunityTracking)?[2]:(t=Date.now(),[4,waitFor(function(){return r.isInView()||(t=Date.now()),2e3<Date.now()-t})]);case 2:return e.sent(),this.tracking.hitPlayerEvent("outstream_impression_opportunity"),[2]}})})},r.prototype.applyStyles=function(e){this.applyLabelStyles(e.label||{})},r.prototype.applyLabelStyles=function(e){var e=getCssString(e=__assign({content:labels[this.locale].advertising},e)),t="#".concat(this.getId());appendCss("\n            ".concat(t,".carodaOutstreamSlider .sliderSpacer:before,\n            ").concat(t," .carodaVvOutstreamPlayer:before,\n            ").concat(t," .carodaImaOutstreamPlayer:before,\n            ").concat(t," .carodaSmartclipContainer:before,\n            ").concat(t," .carodaBannerContainer:before,\n            ").concat(t," .carodaAniview:before {\n                ").concat(e,"\n            }\n        "))},r.prototype.getContainerSelector=function(){return getHighSpecificitySelector("".concat(this.getId(),"Container"))},r.prototype.takeNoSpace=function(){var e=getSeamlessMargin(this.getParentElement()),t=e.top,e=e.bottom;this.takeNoSpaceStyles=appendCss("\n            ".concat(this.getContainerSelector(),", ").concat(this.getContainerSelector()," > div {\n                padding-top: 0 !important;\n                padding-bottom: 0 !important;\n                border: 0 !important;\n            }\n            ").concat(this.getContainerSelector()," {\n                min-height: 0.1px !important;\n                margin-top: ").concat(t," !important;\n                margin-bottom: ").concat(e," !important;\n            }\n            ").concat(this.getContainerSelector()," > div {\n                margin-top: 0 !important;\n                margin-bottom: 0 !important;\n            }\n        "))},r}(EventTarget),InterstitialPlayer=function(i){function e(e,t,r,n){e=i.call(this,e,t,__assign(__assign({},r=void 0===r?{}:r),{adFrameOptions:__assign({},r.adFrameOptions||{}),padding:{bottom:0,top:0},styles:{label:{fontSize:"25px",left:"0px",position:"absolute",textAlign:"center",textTransform:"capitalize",transform:"none",width:"100%"}}}),n)||this;return e.logger=new InstanceLogger("InterstitialPlayer[".concat(Math.round(1e6*Math.random()),"]")),e.spinner=new Spinner(r.container||renderDocument.body,"interstitial"),e.waitToDisplay=r.waitToDisplay||Promise.resolve(),e.closeButtonStyles=(r.styles||{}).closeButton,e.attachTo(e.createContainer()),e}return __extends(e,i),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,i.prototype.play.call(this)];case 1:return(e.sent(),this.isBanner())?[2]:(this.close(),[2])}})})},e.prototype.onAdPlayerReady=function(t){var r=this;if(t instanceof BannerPlayer)throw new Error("Banners are not supported in interstitial");i.prototype.onAdPlayerReady.call(this,t),this.waitForAdLoaded(t).then(function(){return r.waitForStart()}).then(function(){return __awaiter(r,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.waitToDisplay];case 1:return e.sent(),this.spinner.show(),this.getContainer().classList.remove("hidden"),this.setDimensions(this.getAdDimensions(t)),this.spinner.getOverlay().classList.add("carot().querySelector(".carodaTeadsAdLabelContainer")&&this.createTeadsAdLabelContainer(),r.getElement().querySelector(".carodaInterstitialClose")||this.createCloseButton(),[2]}})})}).catch(function(e){r.logger.info(".onAdPlayerReady",e)})},e.prototype.createContainer=functarodaInterstitialPlayerContainer"),e.classListhis.waitToDisplay.then(function(){return t.classList.remove("caroda-interstitial-preload")}),t.appendChild(e),e},e.prototype.getContainer=function(){return this.spinner.getOverlay().querySelector(".carodaInterstitialPlayerContainer")},e.prototype.createCloseButton=function(){var e=this,t=renderDocument.createElement("button");return t.id="carodaInterstitialClose".concat(Math.floor(1e6*Math.random())),t.classList.add("carodaInterstitialClose"),this.getCloseButtonParent().appendChild(t),t.addEventListener("click",function(){return e."".concat(getHighSpecificitySelector(t.id)," {\n        ").concat(getCssString(this.closeButtonStyles),"\n      }")),t},e.prototype.close=function(){var e=this;this.spinner.hide(),setTimeout(function(){e.spinner.getOverlay().remove()},300)},e.prototype.waitForAdLoaded=function(e){return e instanceof VVPlayer||e instanceof ImaPlayer?e.waitForAdValid():this.waitForStart()},e.prototype.getAdDimensions=function(e){var t;if(e instanceof VVPlayer||e instanceof ImaPlayer)return t=this.getContainer().getBoundingClientRect(),crop({height:t.height-65,width:t.width},e.getFormat())},e.prototype.setDimensions=function(e){var e=void 0===e?{width:void 0,height:void 0}SpecificitySelector(this.getElement().id)," {\n      width: ").concat(t,"px !important;\n      height: ").concat(e+65,"px !important;\n    }"))},e.prototype.isBanner=function(){return!!this.getElement().querySelector(".carodaBanner")},e.prototype.getCloseButtonParent=function(){return this.getElement().querySelector(".carodaBanner")||this.getElement().querySelector(".carodaSmartclipContainer")||this.getElement().querySelector(".carodaTeadsAdLabelContainer")||this.getElement()},e.prototype.createTeadsAdLabelContainer=function(){var e=renderDocument.createElement("div");e.classList.add("carodaTeadsAdLabelContainer"),e.appendChild(this.getTeadsAdLabel()),this.getElement().insertBefore(e,this.getElement().firstElementChild)},e.prototype.getTeadsAdLabel=function(){var e=renderDocument.createElement("div");return e.classList.add("carodaTeadsAdLabel"),e.textContent=labels[targetingProfile.locale()].advertising,e},e}(OutstreamPlayer);function createCarodaElement(e){var t=e.tagName,r=e.idPrefix,n=e.classList,n=void 0===n?[]:n,e=e.styles,t=renderDocument.createElement(t);return t.id="".concat(r,"-").concat(Math.round(1e6*Math.random())),(r=t.classList).add.apply(r,n),e&&appendCss("".concat(getHighSpecificitySelector(t.id)," {\n      ").concat(getCssString(e),"\n    }")),t}function createCloseButton(e){var t=e.styles,r=e.position,e=e.onClick,r=createCarodaElement({classList:["carodaLibraryCloseButton","carodaLibraryCloseButtonPosition-".concat(r.horizontal),"carodaLibraryCloseButtonPosition-".concat(r.vertical)],idPrefix:"carodaLibraryCloseButton",styles:t,tagName:"button"});return r.type="button",r.innerHTML="<span>Close</span>",r.addEventListener("click",e),r}function createFloatingContainer(e){var t=e.styles,e=e.position;return createCarodaElement({classList:["carodaLibraryFloatingContainer","carodaLibraryFloatingContainerPosition-".concat(e.horizontal),"carodaLibraryFloatingContainerPosition-".concat(e.vertical),"carodaLibraryFloatingContainerDevice-".concat(targetingProfile.deviceType())],idPrefix:"carodaLibraryFloatingContainer",styles:t,tagName:"div"})}var defaultRefreshAfterSecondsByPlayerType={banner:30,caroda:5,none:30,thirdParty:5},LongSessionOutstreamPlayer=function(o){function e(e,t,r,n){void 0===r&&(r={});var i=this,a={ignorePassbackAfterSeconds:10,secondsToConsiderT:30};return(i=o.call(this,e(a),t,r,n)||this).logger=new InstanceLogger("LongSessionOutstreamPlayer[".concat(Math.round(1e6*Math.random()),"]")),i.stopped=!1,i.logger.info(".constructor"),i.adPlayerLoaderFetcher=function(){return e(a)},i.refreshAfterSecondsByPlayerType=__assign(__assign({},defaultRefreshAfterSecondsByPlayerType),r.refreshAfterSecondsByPlayerType||{}),i}return __extends(e,o),e.prototype.play=function(){return __awaiter(this,void 0,void 0,funcase 0:4,this.getSlider()];case 2:return t=e.sent(),this.connectTo(t),n=t.play(),waitFor(function(){return!!i.getElement().querySelector("[class*='caroda'].loaded")}).then(function(){i.markAsNotRefreshing(),i.stopPreventingElementCollapse()}),r=t.waitForEndingState(),[4,Promise.race([n,r])];case 3:return(n=null!=(n=e.sent())?n:t.getEndingState())&&this.shouldPlayAnotherSlider(n)?(this.logger.info(".play","sliderhAfterSecondsByEndingState(n))]):[3,8];case 4:return e.sent(),"repeatedAds"!==t.getEndingState()?[3,6]:[4,t.destroyAfterCurrentAd()];case 5:e.sent(),e.label=6;case 6:return[4,waitFor(function(){return isInVerticalView(i.getElement())})];case 7:return e.sent(),this.markAsRefreshing(),this.preventElementCollapse(),t.destroy(),this.adaderFetcher(),this.logger.info(".play","starting new session"),[3,1];case 8:return this.logger.info(".play","finished"),this.status="finished",thi,e.prototype.markAsRefreshing=function(){this.getElement().classList.add("carodaLongSessionOutstream-refreshing")},e.prototype.markAsNotRefreshing=function(){tionOutstream-refreshing")},e.prototype.preventElementCollapse=function(){this.getElement().style.minHeight=this.getElement().clientHeight+"px"},e.prototype.stopPreventingElementCollapse=function(){this.getElement().style.minHeight=""},e.prototype.getSlider=function(){return __awaiter(this,void 0,void 0,function(){var t=this;rreamSliderAdSlot(this.getElement(),{isSingleAd:this.isSingleAd,onPlayerReady:function(e){return t.onAdPlayerReady(e)}})]})})},e.prototype.shouldPlayAnotherSlider=function(e){return void 0!==this.getRefreshAfterSecondsByEndingState(e)},e.prototype.getRefreshAfterSecondsByEndingState=function(e){switch(e){case"repeatedAds":case"learnMore":return this.refreshAfterSecondsByPlayerType.caroda;case"banner":return this.refreshAfterSecondsByPlayerType.banner;case"bannerWithPassback":return this.refreshAfterSecondsByPlayerType.banner-this.adPlayerLoader.options.ignorePassbackAfterSeconds;case"thirdPartyPlayer":return this.refreshAfterSecondsByPlayerType.thirdParty;case"noAds":return this.refreshAfterSecondsByPlayerType.none;default:return}},e}(OutstreamPlayer),LongSessionFloatingOutstreamPlayer=function(a){function e(e){var t=e.adPlayerLoaderFetcher,r=e.globalConfigOverride,n=e.playerOptions,n=void 0===n?{}:n,e=e.placementId,i=this,t=((i=a.call(this,t,r,__assign(__assign({},n),{css:"\n          ".concat(n.css||"","\n          $carodaContainer {\n            --advertising-label-height: 0;\n          }\n        "),forceMobileStandardWidth:!0,padding:{bottom:0,top:0},styles:{label:{display:"none",visibility:"hidden"}}}),e)||this).floatingContainer=createFloatingContainer({position:n.floatingContainerPosition||{horizontal:"right",vertical:"bottom"},styles:__assign(__assign(__assign({},"bottom"===(null==(t=n.closeButtonPosition)?void 30px"}:{}),(null==(r=n.styles)?void 0:r.floatingContainer)||{}),n.widthInPixels?{maxWidth:"min(100vw, ".concat(n.widthInPixels,"px)"),width:"".concat(n.widthInPixels,"px")}:{})}),createCloseButton({onClick:function(){return i.close()},position:n.closeButtonPosition||{horizontal:"left",vertical:"top"},styles:null==(e=n.styles)?void 0:e.closeButton})),r=(i.floatingContainer.appendChild(t),renderDocument.createElement("div"));return i.floatingContainer.appendChild(r),(n.container||renderDocument.body).appendChild(i.floatingContainer),i.attachTo(r),i.waitToDisplay=n.waitToDisplay||Promise.resolve(),i}return __extends(e,a),e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,funcing=function(){thig")},e.prototype.markAsNotRefreshing=function(){this.floatingContainer.classList.remove("carodaLongSessionFloatingOutstream-refreshing")},e.prototype.close=function(){this.stop(),this.status="finished",this.floatingContainer.remove()},e.prototype.handleVisibility=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,Promise.all([this.waitToDisplay,this.waitForStart()])];case 1:return e.sent(),this.floatingCyFloatingContainerVisible"),[4,this.waitForEnd()];case 2:return e.sent(),this.floatingContainer.classList.remove("carodaLibraryFloatingContainerVisible"),[2]}})})},e}(LongSessionOutstreamPlayer),now=function(){r?f(e):(i=a=void 0,s)}function y(){var e=now_1(),t=h(e);if(i=arguments,a=this,l=e,t){if(void 0===c)return u=e=l,c=setTimeout(g,r),d?f(e):s;if(p)return clesetTimeoct_1(e)&&(d=!!e.leading,p="maxWait"in e,o=p?nativeMax(toNumber_1(ection throttle(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$2);return isObject_1(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),debounce_1(e,t,{leading:n,maxWait:t,trailing:i})}var throttle_1=throttle,Placeholder=function(){function e(e){this.element=e,this.element.style.height="auto"}return e.prototype.getElement=function(){return this.element},e.prototype.takeNoSpace=function(){var e=getSeamlessMargin(this.element),t=e.top,e=e.bottom;this.takeNoSpaceStyles=appendCss("\n          ".concat(getHighSpecificitySelector(this.element.id)," {\n              height: 0.1px !important;\n              margin-top: ").concat(t," !important;\   padding-top: 0 !important;\n              padding-bottom: 0 !important;\n              border: 0 !important;\n          }\n      "))},e.prototype.stopTakingNoSpace=function(){this.takeNoSpaceStyles&&this.takeNoSpaceStyles.remove()},e.prototype.isVisible=function(e){if("hidden"===renderWindow.getComputedStyle(this.element).visibility)return!1;var e=getPlayerDimensions(this.element,e).playerHeight,t=this.element.getBoundingClientRect(),r=!!t.width||!!t.height,n=renderWindow.innerHeight||renderDocument.documentElement.clientHeight;return r&&0<=t.top+e/2&&t.top+e/2<=n},e.prototype.positionPlayer=function(e,t,r){this.resize(t);var n=this.element.getBoundingClientRect(),i=(t.parentElement.style.width="".concat(n.width,Element.style.position="absolute",n.top-r.top+renderWindow.scrollY),n=n.left-r.left+renderWindow.scrollX;t.parentElement.style.top="".concat(i,"px"),t.parentElement.style.left="".concat(n,"px")},e.prototype.releasePlayer=function(e){},e.prototype.update=function(){},e.prototype.resize=function(e){this.element.style.height="".concat(this.getHeight(e),"px")},e.prototype.getHeight=function(e){e=e.getBoundingClientRect();if(0===e.height)return 0;e=e.width/e.height;return this.element.getBoundingClientRect().width/e},e}(),ExtendedVerticalPlaceholder=function(a){function e(e,t,r,n){void 0===n&&(n=!1);var i=a.call(this,e)||this;return i.adLabelHeight=20,i.initialized=!1,e.id=e.id||"carodaExtendedVerticalContainer".concat(Math.floor(1e6*Math.random())),e.classList.add("carodaExtendedVerticalContainer"),i.height=t,i.adHeightMultiplier=r,i.isInterscroller=n,i}return __extends(e,a),e.prototype.positionPlayer=function(e,t,r){this.isTakingNoSpace()||(this.initialized?this.setCoordinates(t.parentElement,r):(this.initialized=!0,this.setHeight(t.parentElement),this.setCoordinates(t.parentElement,r),this.topResizeObserver=this.setTop(t,this.adLabelHeight),t.parentElement.classList.add("carodaUsingExtendedVerticalPlaceholder")))},e.prototype.releasePlayer=function(e){this.topResizeObserver&&(this.topResizeObserver.disconnect(),this.topResizeObserver=null),e.parentElement.classList.remove("carodaUsingExtendedVerticalPlaceholder"),this.unsetCoordinates(e.parentElement),this.unsetTop(e),this.initialized=!1},e.prototype.takeNoSpace=function(){var e=getSeamlessMargin(this.getElement()),t=e.top,e=e.bottom;this.takeNoSpaceStyles=appendCss("\n      ".concat(getHighSpecificitySelector(this.getElement().id)," {\n        height: 0.1px !important;\n        margin-top: ").concat(t," !important;\n        margin-bottom: ").concat(e," !important;\n        padding-top: 0 !important;\n        padding-bottom: 0 !important;\n        border: 0 !important;\n      }\n      ").concat(getHighSpecificitySelector(this.getElement().id),":before{\n        display: none !important;\n      }\n    "))},e.prototype.isVisible=function(){var e=this.getElement();if("hidden"===renderWindow.getComputedStyle(e).visibility)return!1;var e=e.getBoundingClientRect(),t=e.top,r=e.bottom,n=e.width,e=e.height;if(!n&&!e)return!1;return t+20<(renderWindow.innerHeight||renderDocument.documentElement.clientHeight)&&0<r-20},e.prototype.setHeight=function(e){var t=this.height,r=e.clientHeight/e.clientWidth*this.getElement().clientWidth,r=(this.adHeightMultiplier&&100<r&&(t=r*this.adHeightMultiplier),e.clientWidth||(null==(r=e.parentElement)?void 0:r.clientWidth)||0),t=t||r*(4/3);null!=(r=this.heightStyles)&&r.remove(),this.heightStyles=appendCss("\n      ".concat(getHighSpecificitySelector(this.getElement().id)," {\n        height: ").concat(Math.max(t,e.clientHeight),"px !important;\n      }\n    "ion(e,t){function r(){return n.isInterscroller?"0":"calc(50% - ".concat(e.clientHeight/2-t,"px)")}var n=this;if(e.style.top=r(),!renderWindow.ResizeObserver)return null;var i=new renderWindow.ResizeObserver(function(){e.style.top=r()});return i.observe(e),i},e.prototype.setCoordinates=function(e,t){var r=this.getElement().getBoundingClientRect(),n=r.top,r=r.left;e.style.position="absolute",e.style.width=this.",e.style.height=this.getElem.top-this.adLabelHeight+"px"Top=function(e){e.style.top=""},e.prototype.uyle.left=""},e.prototype.isTakingNoSpace=function(){return renderDocument.contains(this.takeNoSpaceStyles)},e}(Placeholder),FixedPlaceholder=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.isFixed=!0,e}return __extends(e,n),e.isFixed=function(e){return!!e&&("fixed"===renderWindow.getComputedStyle(e).position||this.isFixed(e.parentElement))},e.prototype.positionPlayer=function(e,t,r){if(!this.isFixed)return n.prototype.positionPlayer.call(this,e,t,r);this.resize(t);e=this.getElement("".concat(e.width,"px"),t.parentElement.style.position="fixed",t.parentElement.style.top="".concat(e.top,"px"),t.parentElement.style.left="".concat(e.left,"px")},e.prototype.update=function(){this.isFixed=e.isFixed(this.getElement())},e}(Placeholder),StickyPlaceholder=function(n){function e(e){e=n.call(this,e)||this;return e.stickyParent=getStickyParent(e.getElement()),e.initialize(),e}return __extends(e,n),e.isSticky=function(e){return isSticky(e)},e.prototype.positionPlayer=function(e,t,r){if(!this.isStuck)return n.prototype.positionPlayer.call(this,e,t,r);this.resize(t);e=this.getElement().geixed",t.parentElement.style.top="".concat(e.top,"px"),t.parentElement.style.left="".concat(e.left,"px")},e.prototype.disconnect=function(){this.isStuck=!1,this.topSentinelObserver.disconnect(),this.bottomSentinelObserver.disconnect()},e.prototype.update=function(){var e=getStickyParent(this.getElement());e?this.stickyParent!==e?(this.stickyParent=e,this.disconnect(),this.initialize()):this.updateSentinels():(this.stickyParent=e,this.disconnect())},e.prototype.initialize=function(){var t,r=this;this.topSentinel=this.addTopStickyPlaceholderSentinel(),this.bottomSentinel=this.addBottomStickyPlaceholderSentinel(),this.topSentinelObserver=new IntersectionObserver(function(e){e=e[0];t=1===e.intersectionRatio,r.isStuck=!t},{threshold:[1]}),this.topSentinelObserver.observe(this.topSentinel),this.bottomSentinelObserver=new IntersectionObserver(function(e){e=1===e[0].intersectionRatio;r.isStuck=!t&&e},{threshold:[1]}),this.bottomSentinelObserver.observe(this.bottomSentinel)},e.prototype.addTopStickyPlaceholderSentinel=function(){var e=this.createSentinel();return e.classList.add("carodaMultiPositionPlaceholderStickySentinelTop"),this.stickyParent.parentElement.insertBefore(e,this.stickyParent),e},e.prototype.addBottomStickyPlaceholderSentinel=function(){var e=this.createSentinel();return e.classList.add("carodaMultiPositionPlaceholderStickySentinelBottom"),this.stickyParent.insertBefore(e,this.stickyParent.children[0]),e},e.prototype.createSentinel=function(){var e=renderDocument.createElement("div"),t=(e.id="carodaMultiPositionPlaceholderStickySentinel".concat(Math.floor(1e6*Math.random())),e.classList.add("carodaMultiPositionPlaceholderStickySentinel"),renderWindow.getComputedStyle(this.stickyParent).top);return t.match(/[0-9]*px/)&&(e.style.marginTop="-"+t),e},e.prototype.updateSentinels=function(){this.sentinelsStyles&&this.sentinelsStyles.remove();var e=this.getTop();this.sentinelsStyles=appendCss("\n      ".concat(getHighSpecificitySelector(this.topSentinel.id),",\n      ").concat(getHighSpecificitySelector(this.bottomSentinel.id)," {\n        height: ").concat(e,"px !important;\n        margin-top: -").concat(e,"px !important;\n      }\n    "))},e.prototype.getTop=function(){var e=renderWindow.getComputedStyle(this.stickyParent).top;return parseInt(e.replace("px",""),10)},e}(Placeholder),OutstreamMultiPositionPlayer=function(o){function f(e,t,r,n,i){var a=o.call(this,t,r,n,i)||this;return a.stopListeners=[],carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".constructor",e,n),a.scrollThrottleMs=n.scrollThrottleMs||50,a.startedPlaying=!1,a.scrollStatus={isScrollingUp:!1,lastScroll:renderWindow.scrollY},a.playerContainer=renderDocument.createElement("div"),a.playerContainer.classList.add("carodaContainer"),a.playerContainer.classList.add("carodaMultiPosition"),a.playerContainer.appendChild(a.getElement()),a.floatingContainer=n.floatingContainer||renderDocument.body,a.floatingContainer.appendChild(a.playerContainer),a.initializePlaceholders(e),a.placeholders.length&&(a.initializeEventHandlers(),a.initializePosition()),a.waitForAdLoadAndRemoveNoSpaceStyles(),waitFor(function(){return!!a.currentPlaceholder}).then(function(){(Array.isArray(i)?i:[i]).forEach(function(e){var t=a.currentPlaceholder.getElement().clientWidth;setPlacementDimensions(e,{height:Math.max(a.currentPlaceholder.getElement().clientHeight,9*t/16),width:t})})}),a}return __extends(f,o),f.getPlaceholdersBySelector=function(e,t){var r=t.maxSlots,r=void 0===r?10:r,n=t.insertionRule,i=t.spacingMultiplier,a=t.excludeFloatedNarrowElements,o=void 0===a||a,a=t.isExtendedVertical,s=void 0!==a&&a,c=t.extendedVerticalHeight,l=t.adHeightMultiplier,u=t.isInterscroller,d=t.takeSpace,p=f.getStandardMultiPositionRule(i,n);return new Array(r).fill(null).map(function(){return __assign(__assign({container:e,excludeFloatedNarrowElements:o,insertionRule:p,isExtendedVertical:s},s?{adHeightMultiplier:l,extendedVerticalHeight:c,isInterscroller:u}:{}),{takeSpace:d})})},f.getStandardMultiPositionRule=function(a,o){void 0===a&&(a=1),void 0===o&&(o=function(e,t,r,n){return!n});var s=renderWindow.innerHeight,c=-1e4;return function(e,t,r,n,i){if(!e)return!1;if(!o(e,t,r,n,i))return!1;t=e.getBoundingClientRect(),r=t.top+t.height+renderWindow.scrollY;return!(r<c+s*a)&&(c=r,!0)}},f.prototype.addPlaceholders=function(r){var n=this,e=(carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".addPlaceholders",r),r.map(function(e){var t=e.container;if(t instanceof renderWindowositionPlaceholder"),n.instantiatePlaceholder(t,e);t=findSlot(t,!1!==e.ertionRule);return t?n.createPlaceholder(e,t.container,t.next):void 0}).map(function(e,t){return{config:r[t],placeholder:e}}).filter(function(e){return!!e.placeholder}));this.isLoaded()||e.filter(function(e){return!e.config.takeSpace}).forEach(function(e){e.placeholder.takeNoSpace()}),this.placeholders=__spreadArray(__r}),!0),this.positionPlayer(),carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".addPlaceholders",thlaceholders(e)},f.prototype.getPlayerContainer=function(){return this.playerContainer},f.prototype.refreshPlayerPosition=function(){carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".refreshPlayerPosition"),this.positionPlayer()},f.prototype.destroy=function(){carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".destroy"),this.stopListeners.forEach(function(e){return e()}),this.getElement().remove()},f.prototype.isInView=function(){return o.prototype.isInView.call(this)&&this.currentPlaceholder&&isInVerticalViection(e){var t=this;o.prototype.onAdPlayerReady.call(this,e),((this.adPlayer=e)instanceof BannerPlayer||e instanceof AniviewPlayer)&&e.addEventListener("rendered",function(){t.bannerWidth=e.getElement().clientWidth,t.positionPlayer()})},f.prototype.waitForAdLoadAndAddBorders=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".waitForAdLoadAndAddBorders"),[4,waitFor(function(){return Boolean(renderDocument.querySelector("#".concat(t.id," .loaded")))})];case 1:return e.sent(),carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".waitForAdLoadAndAddBorders","loaded"),this.status="loaded",appendCss("\n            #".concat(this.getId(),".carodaOutstream {\n                padding-top: ").concat(this.style.padding.top,"px !important;\n                padding-bottom:      }\n        ")),[2]}})})},f.prototype.initializeEventHandlers=function(){var e=this,t=throttle_1(function(){return e.positionPlayer()},this.scrollThrottleMs),r=throttle_1(function(){e.placeholders.forEach(function(e){e.update()})},250),n=throttle_1(function(){return e.handleScrollChange(roll",n),renderDocument.addEventListener("scroll",r),renderWindow.addEventListener("resize",t),renderWindow.addEventListener("resize",r),new renderWindow.MutationObserver(function(){setTimeout(t,0),setTimeout(t,500),setTimeout(t,1e3)}));i.observe(this.playerContainer,{attributeFilter:["className","style"],attributes:!0,childList:!ocument.removeEventListener("scroll",n)},function(){return renderDocument.removeEventListener("scroll",r)},function(){return renderWindow.removeEventListener("resize",t)},function(){return renderWindow.removeEventListener("resize",r)},function(){return i.disconnect()})},f.prototype.initializePlaceholders=function(e){this.placeholders=[],this.addPlaceholders(e),carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".initializePlaceholders",this.placeholders)},f.prototype.createPlaceholder=function(e,t,r){var n=renderDocument.createElement("div"),r=(n.id="carodaMultiPositionPlaceholder".concat(Math.floor(1e6*Math.random())),n.classList.add("carodaMultiPositionPlaceholder"),r?t.insertBefore(n,r):t.appendChild(n),this.instantiatePlaceholder(n,e));return"mobile"===targetingProfile.device()&&isFullWidthPage()&&!this.isForceMobileStandardWidth()&&!isInClippedDiv(n.parentElement)&&OutstreamPlayer.adjustMobileMargins(r.getEleon=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return(this.positionPlayer(),this.currentPlaceholder)?[4,waitFor(function(){return!!t.getAspectRatio()})]:[2];case 1:return e.sent(),carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".initializePosition","got aspect ratio"),this.positionPlayer(),[2]}})})},f.prototype.handleScrollChange=function(){var e=renderWindow.scrollY,t=this.scrollStatus.lastScroll>e;this.scrollStatus.isScrollingUp=t,10<Math.abs(e-this.scrollStatus.lastScroll)?(this.positionPlayer(),this.scrollStatus.lastScroll=e):this.adjustPlayerCoordinates()},f.prototype.positionPlayer=function(){var e,t=this.getPlaceholderSwitchTarget();if(!t)return this.adjustPlayerCoordinates(),this.currentPlaceholder=null!=(e=this.currentPlaceholder)&&e.isVisible()?this.currentPlaceholder:void 0,void this.adjustPlayerCoordinates();carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".positionPlayer",t),this.currentPlaceholder&&(this.currentPlaceholder.releasePlayer(this.getElement()),this.currentPlaceholder.getElement().classList.remove("carodaPlaceholderInUse")),this.currentPlaceholder=t,this.currentPlaceholder.getElement().classList.add("carodaPlastartedPlaying||(this.play(),this.startedPlaying=!0)},f.prototype.getPlaceholderSwitchTarget=function(){var t=this,e=this.placeholders.filter(this.isPlaceholderValid.bind(this)).find(function(e){return e.isVisible(t.getAspectRatio())});return this.isLoaded()||e||this.currentPlaceholder?this.currentPlaceholder&&e&&this.currentPlaceholder.getElement().isSameNode(e.getElement())?void 0:e:this.placeholders.find(this.isPlaceholderValid.bind(this))},f.prototype.adjustPlayerCoordinates=function(){var e,t;this.currentPlaceholder&&(e={top:0,left:0},this.floatingContainer!==renderDocument.body&&(t=this.floatingContainer.getBoundingClientRect(),e.left=t.left+renderWindow.scrollX,e.top=t.top+renderWindow.scrollY),this.currentPlaceholder.positionPlayer(this.adPlayer,this.getElement(),e))},f.prototype.getAspectRatio=function(){var e=this.getElement().getBoundingClientRect(),t=e.width,e=e.height;if(e)return t/e||void 0},f.prototype.isPlaceholderValid=function(e){return!(this.bannerWidth&&this.bannerWidth>e.getElement().clientWidth)&&!isHidden(e.getElement())},f.prototype.isLoaded=function(){return!!this.playerContainer.querySelector("[class*='caroda'].loaded")||0<this.bannerWidth},f.prototype.waitForAdLoadAndRemoveNoSpaceStyles=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return[4,waitFor(function(){return t.isLoaded()})];case 1:return e.sent(),this.placeholders.forEach(function(e){e.stopTakingNoSpace()}),[2]}})})},f.prototype.instantiatePlaceholder=function(e,t){return t.isExtendedVertical?new ExtendedVerticalPlaceholder(e,t.extendedVerticalHeight,t.adHeightMultiplier,t.isInterscroller):new(StickyPlaceholder.isSticky(e)?StickyPlaceholder:FixedPlaceholder.isFixed(e)?FixedPlaceholder:Placeholder)(e)},f}(OutstreamPlayer);function campaignViewToBidEntry(e,n,t){var r=n.videoAspectRatioValue()||16/9,i=n.creativeSuggestedSize||(null==(i=t.customFormat)?void 0:i.call(t,r))||{dynamic_size:!0,h:1,w:r},r=Object.keys(n.adserverTargeting||{}).reduce(function(e,t){var r;return __assign(((r={})["crd_"+t]=n.adserverTargeting[t],r),e)},{}),a=(delete r.crd_hb_size,t.bidCpmAdjustment||function(e){return e}),o=t.currency?getConversionRate("EUR",t.currency)*n.cpmEur:n.cpmEur;return __assign({ad:e,adserver_targeting:__assign({crd_campaign_id:n.id,crd_campaign_title:n.title,crd_format:n.bannerScript?"banner":"video"},r),cpm:a(o),creative_id:n.creativeId||"unknown",currency:t.currency||"EUR",placement_id:n.assetId},i)}function pushResult(e){var t=e.bidderSettings,o=void 0===t?{}:t,s=e.campaignExpandedView,t=e.configOverride,c=void 0===t?{}:t,l=e.outstreamPlayerOptions,u=e.placementId;return __awaiter(this,void 0,void 0,function(){var t,r,n,i,a;return __generator(this,function(e){switch(e.label){case 0:return(t=new InstanceLogger("PrebidAdapterPlayer .pushResult[".concat(Math.floor(1e9*Math.random()),"]"))).info({campaignExpandedView:s}),[4,getPageViewId()];case 1:return r=e.sent(),n=getBannerScript({configOverride:c,expandedCampaign:s,outstreamPlayerOptions:l,placementId:u}),n=s?[campaignViewToBidEntry(n,s,o)]:[],[4,ApiInstance.pushPrebidResult(r,n)];case 2:return r=e.sent(),n=r.requested,i=r.awaited_time,a=new Tracking(c,{placementId:null==s?void 0:s.assetId}),n&&(t.info("awaited_time",{awaited_time:i}),a.hitPlayerEvent("prebid_get_ad")),a.hitPlayerEvent("prebid_put_ad"),[2]}})})}function getPageViewId(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,waitFor(function(){return!!renderWindow.carodaPageViewId})];case 1:return e.sent(),[2,renderWindow.carodaPageViewId]}})})}function getBannerScript(e){var t=e.configOverride,r=e.expandedCampaign,n=e.outstreamPlayerOptions,e=e.placementId;if("banner"===r.type)return i=getBannerHandleTrackingScript({configOverride:t,expandedCampaign:r,placementId:e}),"\n            ".concat(r.bannerScript,"\n            <script>\n                ").concat(carodaPrebidAdapterBannerRendererHelpersCode,"\n                ").concat(i,"\n            <\/script>\n        ");var i=integrationConfig.contributorToken(t),t=integrationConfig.websiteDomain(),a="caroda-renderer-".concat(Math.floor(1e9*Math.random()));return'\n        <div\n            id="'.concat(a,'"\n            class="').concat(carodaPrebidAdapterOutputClassName,'"\n            style="width: 100%; height: 100%;"\n        >\n            <script>\n                window.carodaPrebidAdapterRendererConfig = {\n                    ctok: "').concat(i,'",\n                    domain: "').concat(t,'",\n                    outstreamPlayerOptions: ').concat(JSON.stringify(n),',\n                    placementId: "').concat(e,'",\n                    expandedCampaign: ').concat(JSON.stringify(r),'\n                }\n            <\/script>\n            <script\n                src="https://ads.caroda.io/videoPlayer/caroda.min.js?integrationTemplate=prebidAdapterRenderer"\n                async\n            ><\/script>\n        </div>\n    ')}function getBannerHandleTrackingScript(e){var t=e.configOverride,r=e.expandedCampaign,e=e.placementId,t=new Tracking(t,{placementId:r.assetIdrEventTrackingUrl(n?"impression_other_players":"impression_banner",n?["//teads.prebid","//teads.prebid"]:void 0,void 0,void 0,void 0,e);if(n)return e=r.trackingHooks.map(function(e){return{event:e.VastEvent,trackingUrl:e.TrackingUrl}}),"\n            const trackingHooks = ".concat(JSON.stringify(e),"\n            handleTeadsTracking(trackingHooks, ").concat(JSON.stringify(t),")\n        ");n=r.trackingHooks.filter(function(e){return"impression"===e.VastEvent}).map(function(e){return e.TrackingUrl}).concat([t]);return"\n        const trackingUrls = ".concat(JSON.stringify(n),"\n        handleTracking(trackingUrls)\n    ")}var prebidAdapterCacheTable=new CachedTable("prebid-adapter-ads",900,function(e){return Object.assign(new CampaignExpandedView,e)}),Main=function(){function e(){carodaConsoleSafe.info("Main",".constructor"),this.integrationConfig=integrationConfig,this.privacy={tcf:getTcfState,usp:getUspState},logBotDetection(),this.players=[],this.loadCss(),this.utils={isInVerticalView:isInVerticalView,wait:wait,waitFor:waitFor},scrollPositionIntoView(),integrationConfig.shouldCreateDownloadLogsButton()&&createDownloadLogsButton()}return e.prototype.migrateAndLoadInstreamWithPositions=function(t,n,i,a){return void 0===i&&(i={}),void 0===a&&(a={contentDur{var r=this;return __generator(this,function(e){return carodaConsoleSafe.info("Main",".migrateAndLoadInstreamWithPositions"),[2,this.migrateInstreamAndLoadPlayer(t,function(e,t){return r.loadInstreamWithContentAndPositions(e,t,n,i,a)})]})})},e.prototype.loadInstreamWithPositions=function(i,a,o,s){return void 0===s&&(s={}),__awaiter(this,void 0,void 0,function(){var t,r,n;return __generator(this,function(e){switch(e.label){case 0:return(a=a.filter(function(e){return"custom"!==e.position}),carodaConsoleSafe.info("Main",".loadInstreamWithPositions",a),a&&a.length)?[4,waitForConsent()]:[2];case 1:return e.sent(),t=a.map(function(e){return e.vid}),[4,this.getPlacementIdToCampaignViews({configOverride:s,includeAdRule:o.includeAdRule,placementIds:t,transformCampaignView:o.transformCampaignView})];case 2:return t=e.sent(),carodaConsoleSafe.info("Main",".loadInstreamWithPositions","placementIdToCampaignViews",t),r="number"==typeof o.volume?o.volume:o.volume(),n=o.adFrameOptions||{},r=new InstreamAdPlayerLoader(t,__assign(__assign({},n),{playerInfo:__assign({plcmt:0<r?"instream":"accompanyingContent"},n.playerInfo||{})}),s),n=new InstreamWithPositionsPlayer(a,r,s,o,void 0),this.players.push(n),n.attachTo(i),[2,n]}})})},e.prototype.loadInstreamWithContentAndPositions=function(a,o,s,c,l,u){return void 0===c&&(c={}),void 0===l&&(l={contentDurationInSeconds:NaN,volume:NaN}),void 0===u&&(u={}),__awaiter(this,void 0,void 0,function(){var t,r,n,i;return __generator(this,function(e){switch(e.label){case 0:return s=s.filter(function(e){return"custom"!==e.position}),carodaConsoleSafe.info("Main",".loadInstreamWithContentAndPositions",o,c),[4,waitForConsent()];case 1:return e.sent(),t=null,c.publishDate&&(t=new Date(c.publishDate)),[4,InstreamPlayer.getAssetIdAndUrl(o,t,u)];case 2:return(t=e.sent(),r=t[0],n=t[1],carodaConsoleSafe.info("Main",".loadInstreamWithContentAndPositions","got",{assetId:r,fallbackUrl:n}),"3rdparty"===n)?[2,null]:(i=new InstreamPlayer(r,n,u,c),this.players.push(i),a.appendChild(i.getElement()),[4,this.loadInstreamInContentPlayer(i,s,__assign({zIndex:2},l),u)]);case 3:return e.sent(),[2,i]}})})},e.prototype.o,s){return void 0===o&&(o={contentDurationInSeconds:NaN,volume:NaN}),void 0===s&&(s={}),__awaiter(this,void 0,void 0,function(){var t,r,n=this;return __generator(this,function(e){if(a=a.filter(function(e){return"custom"!==e.position}),carodaConsoleSafe.info("Main",".loadInstreamInContentPlayer",a),!a||!a.length)return i.isAutoplay&&i.isAutoplay()&&resumeContent(i),[2];t=function(){return __awaiter(n,void 0,void 0,function(){var t,r,n;return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("Main",".loadInstreamInContentPlayer","waitForDependencies"),[4,waitForConsent()];case 1:return e.sent(),t=o.adFrameOptions||{},r=0<i.getVolume()&&!i.isMuted()?"instream":"accompanyingContent",n=a.map(function(e){return e.vid}),[4,this.getPlacementIdToCampaignViews({configOverride:s,includeAdRule:o.includeAdRule,placementIds:n,transformCampaignView:o.transformCampaignView})];case 2:return n=e.sent(),carodaConsoleSafe.info("Main",".loadInstreamInContentPlayer","waitForDependencies",{placementIdToCampaignViews:n}),[2,new InstreamAdPlayerLoader(n,__assign(__assign({},t),{playerInfo:__assign({plcmt:r},t.playerInfo||{})}),s)]}})})};try{return r=new InstreamInContentPlayer(i,a,t,s,o),this.players.push(r),[2,r]}catch(e){return carodaConsoleSafe.error("Main",".loadInstreamInContentPlayer",e.message),i.isAutoplay&&i.isAutoplay()&&resumeContent(i),[2,void 0]}return[2]})})},e.prototype.loadOutstream=function(r,n,i,a){return void 0===i&&(i={}),void 0===a&&(a={}),__awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("Main",".loadOutstream",n,i),r.closest&&r.closest(".carodaBanner")?(carodaConsoleSafe.error("Main",".loadOutstream","stopped by recursion"),[2]):[4,waitForConsent()];case 1:return e.sent(),[4,this.getAdPlayerLoader(n,i.includeAdRule,i.transformCampaignView,__assign({hideSkipButton:!0},i.adFrameOptions||{}),a)];case 2:return t=e.sent(),t=i.isExtendedVertical?new OutstreamMultiPositionPlayer([{adHeightMultiplier:i.adHeightMultiplier,container:r,extendedVerticalHeight:i.extendedVerticalHeight,isExtendedVertical:!0,isInterscroller:i.isInterscroller}],t,a,i,n):new OutstreamPlayer(t,a,i,n),this.players.push(t),i.isExtendedVertical||(t.attachTo(r),t.play()),[2,t]}})})},e.prototype.loadLongSessionOutstream=function(o,s,c,l){return void 0===c&&(c={}),void 0===l&&(l={}),__awaiter(this,void 0,void 0,function(){var t,r,n,i,a;return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("Main",".loadLongSessionOutstream",s,c),o.closest&&o.closest(".carodaBanner")?(carodaConsoleSafe.error("Main",".loadLongSessionOutstream","stopped by recursion"),[2]):[4,waitForConsent()];case 1:return e.sent(),t=c.includeAdRule,r=c.transformCampaignView,a=c.adFrameOptions,n=void 0===a?{}:a,[4,this.getCampaignViewsByPlacementId(s,t,r,l)];case 2:return i=e.sent(),a=new LongSessionOutstreamPlayer(function(e){return new AdPlayerLoader(i,__assign(__assign({hideSkipButton:!0},e=void 0===e?{}:e),n),l)},l,c,s),this.players.push(a),a.attachTo(o),a.play(),[2,a]}})})},e.prototype.loadLongSessionOutstreamInContainer=function(i,a,o,s){return void 0===o&&(o={}),void 0===s&&(s={}),__awaiter(this,void 0,void 0,function(){var t,r,n;return __generator(this,function(e){return carodaConsoleSafe.info("Main",".loadLongSessionOutstreamInContainer",i,a,o,s),r=!1!==o.excludeFloatedNarrowElements,(r=findSlot(i,r,o.candidateSlotFilter||null,o.insertionRule))?(t=r.container,r=r.next,n=o.containerType||"div",n=renderDocument.createElement(n),r?t.insertBefore(n,r):t.appendChild(n),o.marginRaw=getSeamlessMargin(n),[2,this.loadLongSessionOutstream(n,a,o,s)]):[2]})})},e.prototype.preloadExternalPlayerAdapterAds=function(o,s,c,l){return void 0===c&&(c={}),void 0===l&&(l={}),__awaiter(this,void 0,void 0,function(){var t,r,n,i,a=this;return __generator(this,function(e){switch(e.label){case 0:return(renderWindow.carodaPageViewId=renderWindow.carodaPageViewId||Math.floor(1e9*Math.random()),t=new InstanceLogger("Main .preloadExternalPlayerAdapterAds[".concat(Math.floor(1e9*Math.random()),"]")),o&&o.length)?[4,waitForConsent()]:(t.error("no positions provided"),[2]);case 1:return e.sent(),t=c.includeAdRule||function(){return!0},r=c.transformCampaignView||function(e){return e},[4,this.getAdPlayerLoader(o,t,r,{isExternal:!0},l)];case 2:return(r=e.sent()).position=s.position,[4,pushExternalPlayerAdapterPlaylist(o,r,s,l)];case 3:return n=e.sent().playAd,i=once(function(){new Tracking(l,{placementId:o}).hitPlayerEvent("instream_impression_opportunity")}),[2,{playAd:function(t){return __awaiter(a,void 0,void 0,function(){return __generator(this,function(e){return null==t&&(t=renderWindow.carodaPageViewId),i(),[2,n(t)]})})}}]}})})},e.prototype.prebidAdapterGetCachedAdPlayerAndPreloadNext=function(o,s,c,l){return void 0===s&&(s={}),void 0===c&&(c={}),void 0===l&&(l={}),__awaiter(this,void 0,void 0,function(){var t,r,n,i,a=this;return __generator(this,function(e){switch(e.label){case 0:return((t=function(){for(var e=[],t=0;t<arg"],e,!1))})({placementId:o,playerOptions:s,bidderSettings:c}),o&&o.length)?(r=function(){return __awaiter(a,void 0,void 0,function(){return __generator(this,function(e){return[2,this.prebidAdapterRequestAndStoreCachableAd(o,s,l)]})})},[4,prebidAdapterCacheTable.get(o)]):(t("no positions provided"),[2]);case 1:return e.sent()?[4,this.prebidAdapterGetCachedAdPlayer(o,s,c,l)]:(t("no cached ads found for",o),r(),[2,{playAd:function(){return Promise.resolve()}}]);case 2:return i=e.sent(),n=i.consumed,i=i.playAd,n.then(function(){t("ad consumed"),prebidAdapterCacheTable.remove(o),r()}),[2,{playAd:i}]}})})},e.prototype.prebidAdapterRequestAndStoreCachableAd=function(a,o,s){var c;return void 0===o&&(o={}),void 0===s&&(s={}),__awaiter(this,void 0,void 0,function(){var t,r,n,i;return __generator(this,function(e){switch(e.label){case 0:return(t=new InstanceLogger("Main .prebidAdapterRequestAndStoreCachableAd[".concat(Math.floor(1e9*Math.random()),"]")),a&&a.length)?(t.info({placementId:a,playerOptions:o}),r=o.includeAdRule||function(){return!0},n=o.transformCampaignView||function(e){return e},[4,waitForConsent()]):(t.warn("no positions provided"),[2]);case 1:return e.sent(),[4,this.getAdPlayerLoader(a,function(e){return r(e)&&("prebid"===e.type||"seznam-openrtb"===e.type||!usesExternalPlayer(e.type)&&!!e.fixedPrebidValue)},n,__assign(__assign({allowBanners:!0,hideSkipButton:!0,isExternal:!0},o.adFrameOptions||{}),{playerInfo:__assign(__assign({},(null==(c=o.adFrameOptions)?void 0:c.playerInfo)||{}),{ima:0})}),s)];case 2:return[4,e.sent().getExternalRendererExpandedCampaign()];case 3:return i=e.sent(),(i=i[0])&&(t.info("caching ad",a,i),prebidAdapterCacheTable.set(a,i)),[2,i]}})})},e.prototype.prebidAdapterGetCachedAdPlayer=function(s,c,l,u){return void 0===c&&(c={}),void 0===l&&(l={}),void 0===u&&(u={}),__awaiter(this,void 0,void 0,function(){var t,r,n,i,a,o=this;return __generator(this,function(e){switch(e.label){case 0:return(t=new InstanceLogger("Mns:c}),r=new Tracking(u,{placementId:s}),n={consumed:Promise.resolve(),playAd:function(){return __awaiter(o,void 0,void 0,function(){return __generator(this,function(e){return[2,r.hitPlayerEvent("outstream_impression_opportunity")]})})}},[4,prebidAdapterCacheTable.get(s)];case 1:return(i=e.sent(),t.info({preloadedCampaign:i}),i&&s&&s.length)?(t.info("prebid banner renderer"),[2,{consumed:new Promise(function(e){a=e}),playAd:function(){return __awaiter(o,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,pushResult({bidderSettings:l,campaignExpandedView:i,configOverride:u,outstreamPlayerOptions:c,placementId:s})];case 1:return e.sent(),a(),[2]}})})}}]):(t.warn("preloaded campaign and positions are mandatory"),[2,n])}})})},e.prototype.loadOutstreamInContainer=function(i,a,o){return void 0===o&&(o={}),__awaiter(this,void 0,void 0,function(){var t,r,n;return __generator(this,function(e){return carodaConsoleSafe.info("Main",".loadOutstreamInContainer",i,a,o),r=!1!==o.excludeFloatedNarrowElements,(r=findSlot(i,r,o.candidateSlotFilter||null,o.insertionRule))?(t=r.container,r=r.next,n=o.containerType||"div",n=renderDocument.createElement(n),r?t.insertBefore(n,r):t.appendChild(n),o.marginRaw=getSeamlessMargin(n),[2,this.loadOutstream(n,a,o)]):[2]})})},e.prototype.loadOutstreamMultiPosition=function(r,n,i,a){return void 0===i&&(i={}),void 0===a&&(a={}),__awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return(carodaConsoleSafe.info("Main",".loadOutstreamMultiPosition",r,n,i),r&&r.length)?[4,waitForConsent()]:(carodaConsoleSafe.info("Main",".loadOutstreamMultiPosition","no positions provided"),[2]);case 1:return e.sent(),[4,this.getAdPlayerLoader(n,i.includeAdRule,i.transformCampaignView,__assign({hideSkipButton:!0},i.adFrameOptions||{}),a)];case 2:return t=e.sent(),t=new OutstreamMultiPositionPlayer(r,t,a,i,n),this.players.push(t),[2,t]}})})},e.prototype.loadOutstreamStandardMultiPosition=function(r,n,i){return void 0===i&&(i={}),__awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){return carodaConsoleSafe.info("Main",".loadOutstreamSSelector(r,i),[2,this.loadOutstreamMultiPosition(t,n,i)]})})},e.prototype.getConversionRate=function(e,t){return getConversionRate(e,t)},e.prototype.resetAds=function(){carodaConsoleSafe.info("Main",".resetAds"),resetGlobalAdsGroup()},e.prototype.loadInstreamOnVideoElement=function(e,t,r){void 0===r&&(r={contentDurationInSeconds:NaN,volume:NaN}),carodaConsoleSafe.info("Main",".loadInstreamOnVideoElement",e.id||e.className,t);e=new VideoElementContentPlayer(e,r);return this.loadInstreamInContentPlayer(e,t,r)},e.prototype.loadInterstitialOutstream=function(r,i,a){var o;return void 0===i&&(i={}),void 0===a&&(a={}),__awaiter(this,void 0,void 0,function(){var n,t;return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("Main",".loadInterstitialOutstream"),n=!1,(i.waitToDisplay||Promise.resolve()).then(function(){n=!0}),[4,this.getAdPlayerLoader(r,i.includeAdRule,i.transformCampaignView,__assign(__assign({},i.adFrameOptions),{isVisible:function(e,t){var r=(null==(r=null==i?void 0:i.adFrameOptions)?void 0:r.isVisible)||function(){return t};return n&&r(e,t)},playerInfo:__assign({plcmt:"interstitial"},(null==(o=i.adFrameOptions)?void 0:o.playerInfo)||{}),unfreezePrecondition:function(){var e=(null==(e=i.adFrameOptions)?void 0:e.unfreezePrecondition)||function(){return!0};return n&&e()}}),a)];case 1:return t=e.sent(),t=new InterstitialPlayer(t,a,i,r),this.players.push(t),t.play(),[2,t]}})})},e.prototype.renderPrebidAdapterPlayer=function(e){var a=e.placementId,o=e.expandedCampaign,s=e.outstreamPlayerOptions;return __awaiter(this,void 0,void 0,function(){var t,r,n,i;return __generator(this,function(e){switch(e.label){case 0:return r=Object.assign(new CampaignExpandedView,o),t=__assign(__assign({omitOpportunityTracking:!0,padding:{bottom:0,top:0},styles:{label:{visibility:"hidden"}}},s),{css:"\n                .carodaBannerContainer.loaded {\n                    margin-top: 0 !important;\n                }\n                .carodaBannerContainer.loaded:before {\n                    display: none !important;\n                }\n                .carodaContainer:not(.carodaUsingExtendedVerticalPlaceholder) {\n                    --advertising-label-height: 0px !important;\n                }\n                ".concat(s.css||"","\n            ")}),carodaConsoleSafe.info("Main",".renderPrebidAdapterPlayer",{placementId:a,expandedCampaign:r,outstreamPlayerOptions:t}),[4,this.getAdPlayerLoader(a,function(){return!0},function(e){return e},{hideSkipButton:!0,isPrebidAdapter:!0},{},[r])];case 1:return r=e.sent(),n=new OutstreamPlayer(r,{},t,a),this.players.push(n),i=renderDocument.querySelector(".".concat(carodaPrebidAdapterOutputClassName))||renderDocument.body,n.attachTo(i),n.play(),[2,n]}})})},e.prototype.loadLongSessionFloatingOutstream=function(o,s,c){return void 0===s&&(s={}),void 0===c&&(c={}),__awaiter(this,void 0,void 0,function(){var t,r,n,i,a;return __generator(this,function(e){switch(e.label){case 0:return carodaConsoleSafe.info("Main",".loadLongSessionFloatingOutstream",{placementId:o,playerOptions:s}),[4,waitForConsent()];case 1:return e.sent(),t=s.includeAdRule,r=s.transformCampaignView,a=s.adFrameOptions,n=void 0===a?{}:a,[4,this.getCampaignViewsByPlacementId(o,t,r,c)];case 2:return i=e.sent(),a=new LongSessionFloatingOutstreamPlayer({adPlayerLoaderFetcher:function(e){var t;return void 0===e&&(e={}),new AdPlayerLoader(i,__assign(__assign(__assign(__assign(__assign(__assign({},s.adFrameOptions||{}),s.widthInPixels?{bannerSizeConfig:__assign({maxWidth:s.widthInPixels},(null==(t=s.adFrameOptions)?void 0:t.ban:"standalone"},n.playerInfo||{})}),c)},globalConfigOverride:c,placementId:o,playerOptions:s}),this.players.push(a),a.play(),[2,a]}})})},e.prototype.loadCss=function(){carodaConsoleSafe.info("Main",".loadCss"),appendCss(carodaMainCss)},e.prototype.migrateInstreamAndLoadPlayer=function(a,o){return __awaiter(this,void 0,void 0,function(){var t,r,n,i;return __generator(this,function(e){switch(e.label){case 0:if(carodaConsoleSafe.info("Main",".migrateInstreamAndLoadPlayer"),a.getAttribute("data-caroda-ignore"))return carodaConsoleSafe.info("Main",".migrateInstreamAndLoadPlayer","already attempted migration"),[2];a.setAttribute("data-caroda-ignore","false");try{t=a.querySelector("video"),r=a.querySelector("iframe")}catch(e){carodaConsoleSafe.info("Main",".migrateInstreamAndLoadPlayer","can not query main element")}return i=a.getAttribute("data-caroda-video-source")||a.getAttribute("src")||t&&t.getAttribute("src")||r&&r.getAttribute("src"),(n=renderDocument.createElement("div")).className="carodaMigratedContainer",[4,o(n,i)];case 1:return(i=e.sent(),a.setAttribute("data-caroda-ignore","true"),i)?(a.parentElement.insertBefore(n,a),a.parentElement.removeChild(a),[2,i]):(a.style.display="block",[2,l,u){return void 0===c&&(c={}),void 0===u&&(u=[]),__awaiter(this,void 0,void 0,function(){var t,r,n,i=this;return __generator(this,function(e){switch(e.label){case 0:return(t=function(){return i.getCampaignViewsByPlacementId(a,o,s,l)},!0!==c.isExternal)?[3,2]:(r=ExternalRendererAdPlayerLoader.bind,[4,t()]);case 1:return[2,new(r.apply(ExternalRendererAdPlayerLoader,[void 0,e.sent(),c,l]))];case 2:return c.isPrebidAdapter?[2,new PrebidAdapterAdPlayerLoader(t(),c,l,u)]:(n=AdPlayerLoader.bind,[4,t()]);case 3:return[2,new(n.apply(AdPlayerLoader,[void 0,e.sent(),c,l]))]}})})},e.prototype.getCampaignViewsByPlacementId=function(e,t,r,n){return getListByAssetIds(e="string"==typeof e?e.split(",").filter(Boolean):e,n,t,r)},e.prototype.getPlacementIdToCampaignViews=function(e){var t=e.placementIds,n=e.configOverride,i=e.includeAdRule,a=e.transformCampaignView;return __awaiter(this,void 0,void 0,function(){var r=this;return __generator(this,function(e){switch(e.label){case 0:return[4,Promise.all(t.map(function(t){return __awaiter(r,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,getListByAssetId(t,n,i,a)];case 1:return[2,{campaignViews:e.sent(),placementId:t}]}})})}))];case 1:return[2,e.sent().reduce(function(e,t){var r=t.campaignViews,t=t.placementId;return __assign(__assign({},e),((e={})[t]=r,e))},{})]}})})},e}(),main=new Main;exports.caroda=main;})(window, window);}) ();window.define = window.__define;window.require = window.__require