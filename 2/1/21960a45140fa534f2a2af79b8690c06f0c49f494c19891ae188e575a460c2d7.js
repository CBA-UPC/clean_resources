![function(e,t,r){"use strict";r.d(t,"c",(function(){return l.c})),r.d(t,"b",(function(){return P})),r.d(t,"a",(function(){return O}));var n=r(3),i=r(0);onst o=a=var u=r(7),c=r(6),d=r(10),l=r(5);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const h=let p=!0;void 0===window.ShadyCSS?p=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),p=!1);const f=m=["html","svg"],g=new Set,_=window.JSCompiler_renameProperty=const v={toAttributefromAttribute,b=S={attribute:!0,type:String,converter:v,reflect:!1,hasChanged:b};class y extends HTMLElement{let r=!0;if(void 0!==e){const n=this.constructor,i=n.getPropertyOptions(e);n._valueHasChanged(this[e],t,i.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==i.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,i))):r=!1}!this._hasRequestedUpdate&&r&&(this._updatePromise=this._enqueueUpdate())}t _hasRequestedUpdate(){return 4&this._updateState}erformUpdate(){this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{e=this.shouldUpdate(t),e?this.update(t):this._markUpdated()}catch(t){throw e=!1,this._markUpdated(),t}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}etUpdateComplete(){return this._updatePromise}dated(e){}y.finalized=!0;
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const w="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,M=Symbol();onst P=
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.3.1");const A={};.finalized=!0,O.render=,function(e,t,r){"use strict";r.d(t,"b",(function(){return o.a})),r.d(t,"a",(function(){return n.b})),r.d(t,"c",(function(){return a}));var n=r(1);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const i=new var s=r(9),o=r(8);r(3),r(2),r(7),r(6),r(10),r(0);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const a=,function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n={SIMPLIFIED_URL_AD_FETCH_ERROR:{message:"SIMPLIFIED_URL_AD_FETCH_ERROR",priority:"P2"},SIMPLIFIED_URL_AD_RENDER_ERROR:{message:"SIMPLIFIED_URL_AD_RENDER_ERROR",priority:"P2"},AD_POST_MESSAGE_ERROR:{message:"AD_POST_MESSAGE_ERROR",priority:"P1"},AD_IMPRESSION_URL_NOT_FOUND:{message:"AD_IMPRESSION_URL_NOT_FOUND",priority:"P3"},UCI_CONFIG_NOT_FOUND:{message:"UCI_CONFIG_NOT_FOUND",priority:"P0"},SLOT_INVALID:{message:"SLOT_INVALID",priority:"P0"},GPT_AD_CREATION_FAILED:{message:"GPT_AD_CREATION_FAILED",priority:"P0"},EXPERIMENTS_ERROR:{message:"EXPERIMENTS_ERROR",priority:"P2"},EXPERIMENTS_NOT_FOUND:{message:"EXPERIMENTS_NOT_FOUND",priority:"P2"},EXPERIMENTS_TIMED_OUT:{message:"EXPERIMENTS_TIMED_OUT",priority:"P2"},EXPERIMENTS_CONFIG_INVALID:{message:"EXPERIMENTS_CONFIG_INVALID",priority:"P2"},EXPERIMENTS_QUEUE_NOT_DEFINED:{message:"EXPERIMENTS_QUEUE_NOT_DEFINED",priority:"P2"},GPT_LAZY_LOAD_ERROR:{message:"GPT_LAZY_LOAD_ERROR",priority:"P0"},GPT_INVALID_ARGS_ERROR:{message:"GPT_INVALID_ARGS_ERROR",priority:"P0"},SLOT_RENDERED_REGISTRATION_FAILED:{message:"SLOT_RENDERED_REGISTRATION_FAILED",priority:"P3"},CAROUSEL_FETCH_ERROR:{message:"CAROUSEL_FETCH_ERROR",priority:"P1"},CAROUSEL_CLICK_ERROR:{message:"CAROUSEL_CLICK_ERROR",priority:"P1"},NATIVE_AD_INVALID_JSON:{message:"NATIVE_AD_INVALID_JSON",priority:"P0"},SCHEMA_VALIDATION_FAILURE:{message:"SCHEMA_VALIDATION_FAILURE",priority:"P0"},NATIVE_TILE_BACKGROUND_POSITION_ERROR:{message:"NATIVE_TILE_BACKGROUND_POSITION_ERROR",priority:"P1"},INVALID_IMPRESSION_LOG:{message:"INVALID_IMPRESSION_LOG",priority:"P2"},IMPRESSION_LOG_SUCCESSFUL:{message:"IMPRESSION_LOG_SUCCESSFUL",priority:"P3"},PRIVACY_SETTINGS_FAILURE:{message:"PRIVACY_SETTINGS_FAILURE",priority:"P2"},PRIVACY_SETTINGS_NOT_FOUND:{message:"PRIVACY_SETTINGS_NOT_FOUND",priority:"P2"},INVALID_ADX_RESPONSE:{message:"INVALID_ADX_RESPONSE",priority:"P2"},MISSING_PARTNER_CODE_FROM_CARS_BRL:{message:"MISSING_PARTNER_CODE_FROM_CARS_BRL",priority:"P3"},UNFILLED_AD:{message:"UNFILLED_AD",priority:"P3"},AD_RESPONSE_SERVED:{message:"AD_RESPONSE_SERVED",priority:"P3"},AD_REQUEST_ERROR:{message:"AD_REQUEST_ERROR",priority:"P2"}}},function(e,t,r){"use strict";var n=r(15),i=r(14);class s{constructor(e){this.moduleName=e,this.isDebugLoggingEnabled=window.location&&window.location.search&&window.location.search.includes("debug=true")}static setSessionConfigendLogPayload(e,t,r){window.meso=window.meso||{},window.meso.logging=window.meso.logging||[],s.setSessionConfig(window.meso.pageInfo);const o=Object.assign({type:e,moduleName:this.moduleName},t&&t.message?t:{message:t},s.config,{details:r},i.e);window.meso.logging.push({logs:o,platform:n.a.logging.platform,timestamp:i.a,epoch:Date.now()})}info(e,t){this.sendLogPayload("info",e,t)}rror(e,t,r){const n=t instanceof Error||"object"==typeof t?{message:t.message}:{message:""+t};this.sendLogPayload("error",e,Object.assign({exception:n},r))}trackEvent(e,t,r){this.sendLogPayload("track-event",{name:e,vars:t,events:r})}ebug(e,t){this.isDebugLoggingEnabled&&console.info(`${performance.now()} ${this.moduleName}:${e}`,t||{})}perf(e,t){if(t&&t.mark&&performance.getEntriesByName(t.mark).length>0){const{mark:e}=t;performance.measure("Performance Measure",e),t.duration=performance.getEntriesByType("measure")[0].toJSON().duration,performance.clearMeasures(),delete t.mark}this.sendLogPayload("perf",e,t)}}const o={};window.addEventListener("mesoRender",,t.a=e=>(o[e]||(o[e]=new s(e)),o[e])},function(e,t,r){"use strict";const n=t.a={promiseFetch:(e,t={})=>{const r=t&&t.timeout||5e3;return Promise.race([fetch(e,t),new Promise(])},sanitizeProtocol:n,fireBeacon:e=>{e=n(e),(new Image).src=encodeURI(e)}}},function(e,t,r){"use strict";r.d(t,"e",(function(){return s})),r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return c})),r.d(t,"d",(function(){return d}));r(20),r(13);r(22);var n=r(18),i=r.n(n);const s=(()=>{if(window&&window.navigator&&window.navigator.userAgent){const e=i.a.getParser(window.navigator.userAgent);return{userAgent:e.getUA(),userAgentName:e.getBrowserName(),userAgentVersion:e.getBrowserVersion(),userAgentDeviceType:e.getPlatformType()}}})(),o=a=(()=>{const e=new Date;return`${e.getUTCFullYear()}-${o(e.getUTCMonth()+1)}-${o(e.getUTCDate())}T${o(e.getUTCHours())}:${o(e.getUTCMinutes())}:${o(e.getUTCSeconds())}`})(),u=function(e,t){return new Promise((r,n)=>{const i=setTimeout(()=>{clearTimeout(i),n(new Error(t))},e)})},c=()=>window&&window.location&&window.location.href||"",d=(e,t,r)=>{const n=new URL(e);return n.searchParams.set(t,r),n.href}},function(e,t,r){"use strict";var n=r(17);let i;i={environmentName:"Production",environmentShort:"PROD",dfp:{network:"23171577"},proxy:"https://www.uciservice.com/ds/api/v1/proxy",deeplink:"https://www.uciservice.com/deeplink"};const s=r.n(n)()({appName:"ads-templates",dfp:{gpt:"https://www.googletagservices.com/tag/js/gpt.js",network:"11850712",surl:"https://pubads.g.doubleclick.net/gampad/adx",gptlight:"https://securepubads.g.doubleclick.net/static/glade.js"},abacus:{endpoint:"/api/bucketing/v1"},proxy:"https://ads-delivery-service.us-west-2.test.meso.expedia.com/api/v1/proxy",deeplink:"https://deep-link-service.us-west-2.test.meso.expedia.com",others:{hotelLinkDirect:{holdoutPercentage:20}},logging:{platform:"Web"}},i);t.a=s},function(e,t,r){"use strict";t.a=(e,t)=>{if("string"!=typeof e)throw new Error("registerComponent requires a name of type string");if(!t)throw new Error("registerComponent requires a valid component");window&&customElements&&void 0===customElements.get(e)&&(customElements.define(e,t),document.dispatchEvent(new CustomEvent("mesoAdTagRegistered",{detail:{name:e}})))}},,function(e,t,r){"use strict";const n=e=>{const t=document.cookie.match(`(^|;) ?${e}=([^;]*)(;|$)`);return t?t[2]:null},i=(e,t,r=30)=>{const n=new Date;n.setTime(n.getTime()+864e5*r),document.cookie=`${e}=${t};path=/;expires=${n.toGMTString()};`},s=o=()=>{const e=n("tpid");return null!==e&&e.match(/^.*,[0-9]+$/)?e.split(",")[1]:null},a=()=>{const e=n("iEAPID");return null!==e&&e.match(/^[0-9]+$/)?e:null};t.a={getGuid:s,getCookie:n,setCookie:i,deleteCookie:parseSiteInfo:()=>({user:s(),guid:s(),site:1,tpid:o(),eapid:a(),abov:n("abov")}),parseOverrideExperiments:()=>{try{const e={},t=n("meov");return(null===t?[]:t.split(",")).forEach(,e}catch(e){return{}}}}},function(e,t,r){"use strict";r.d(t,"a",();var n=r(4);class i extends n.a{quiresAdContextUpdate(e){const t=this.constructor.contextChangedAttributes;return!(Array.isArray(t)&&t.length>0)||t.some(}registerAdContext(){"function"==typeof this.adContextChanged&&(this.__adContextDestroyer=window.meso.adcontext.observe(this.constructor.name,e=>this.requiresAdContextUpdate(e),)},function(e,t,r){"use strict";t.a={isObject:isTrue:e=>!0===e||"true"===e||"1"===e||1===e||"string"==typeof e&&"true"===e.toLowerCase(),verifyModel:(e,t,r)=>{const n=t.find(t=>void 0===((e,t)=>e.split(".").reduce((e,t)=>{if(e&&e[t]){if(e[t].length&&e[t].length<1)return;return e[t]}},t))(t,e));if(n&&n.length){throw new Error(`missing component properties from GAM - creative id: ${r} - missing: ${n}`)}return!0}}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(4),i=r(16),s=r(21),o=r(12),a=r(11);const u=Object(o.a)("meso-gpt-fluid");class c extends s.a{onstructor(){super(),this.timeoutinvoked=!1,this._handlePostMessageError=this._handlePostMessageError.bind(this),this._mesoAdEventDispatched=!1}_idisconnectedCallback(){this._gptAd&&this._gptAd.removeEventListener("mesoAd",this._handleMesoAdEvents),document.removeEventListener("post-message-error",this._handlePostMessageError),document.removeEventListener("meso-fluid-resize",this._boundMesoFluidResize),document.removeEventListener("meso-perf-mark",this._mesoPerfMark),document.removeEventListener("post-message-error",this._handlePostMessageError),super.disconnectedCallback()}updatedender(){return-1!==this.adunitpath.indexOf("undefined")?null:n.c`
      <meso-gpt-ad 
        ?enabled=${!0}
        id="${this._id()}"
        uci="${this.uci}"
        adpath="${this.adunitpath}"
        ?isfluid="${!0}"
        timeout="${this.timeout}"
        ?timeoutinvoked="${this.timeoutinvoked}"
      ></meso-gpt-ad>`}handlePostMessageError(e){e.detail.adUnit===this.adunitpath&&(this._dispatchMesoAdEvent({code:"AD-LOAD-EMPTY",uci:this.uci,src:"gpt-fluid-component/index._setupFluidEvents():addEventListener:post-message-error"}),u.debug(this.uci+" ad render failed event"),u.error(a.a.AD_POST_MESSAGE_ERROR,e.detail.error,{description:"Unable to render uci: "+this.uci}))}_setupFluidEvents(){this._gptAd&&this._gptAd.addEventListener("mesoAd",e=>{const t=e.detail;this._creativeId=t&&t.creativeid,t.uci=this.uci,t.src="native/index._setupFluidEvents():addEventListener:mesoAd","AD-LOAD-EMPTY"===t.code&&(this.timeoutinvoked=Boolean(t.isTimeout),this._dispatchMesoAdEvent(t)),u.debug(`${this.uci} ${t.code} event; listener: mesoAd`,t)}),this._boundMesoFluidResize=this._mesoFluidResize.bind(this),document.addEventListener("meso-fluid-resize",this._boundMesoFluidResize),document.addEventListener("post-message-error",this._handlePostMessageError),document.addEventListener("meso-perf-mark",this._mesoPerfMark)}_mesoFluidResize(e){e.detail.adUnit===this.adunitpath&&(u.debug(this.uci+" Ad tag within GPT iframe has loaded",e.detail),this._dispatchMesoAdEvent({code:"AD-LOAD-PASS",uci:this.uci,src:"gpt-fluid-component/index._setupFluidEvents():addEventListener:meso-fluid-resize",creativeid:this._creativeId||"Not defined"}))}_dispatchMesoAdEvent(e){this._mesoAdEventDispatched||(u.debug(this.uci+" _dispatchMesoAdEvent",e),this.dispatchEvent(new CustomEvent("mesoAd",{detail:e}))),this._mesoAdEventDispatched=!0}_mesoPerfMark(e){(e&&e.detail&&e.detail.extra).adPath===this.adunitpath&&e.detail.hasOwnProperty("message")&&u.perf(e.detail.message,{mark:"AdComponentRender:"+this.uci,uci:this.uci})}update(e){try{super.update(e)}catch(e){this._dispatchMesoAdEvent({code:"AD-LOAD-EMPTY",error:e,uci:this.uci,src:"gpt-fluid-component/index.update()"})}}}!function(){u.debug((this&&this.uci||"")+" meso-gpt-fluid tag has been registered"),Object(i.a)("meso-gpt-fluid",c)}()}]);
//# sourceMappingURL=meso-gpt-fluid.js.map