(self.webpackChunkweb=self.webpackChunkweb||[]).push([[38013],{91695:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:);var s=i(67294),n=i(37974),a=i(4423),r=i(49669),o=i(42947);st h="breakingNews",u=p=u("RECEIVE_DATA"),m=u("HANDLE_DATA_ERROR");function g(t){return e=>function(t){const e=t.isTest?"https://timesofindia.indiatimes.com/feed_breakingnews/feedtype-json.cms":"https://toibnews.timesofindia.indiatimes.com/Election/election2017_breakingnews.htm";return o.Z.get(e)}(t).then((t=>e(function(t){return{type:p,payload:t}}(t.data)))).catch((t=>e(t))))}r.Z.register(h,(function(t={},e){return e.type===p?c(c({},t),{},{data:e.payload}):t}));var k,f,b,w,y,v,_=i(94184),C=i.n(_),S=i(6048),N=i(95524),A=i.n(N);function $(t,e,i,s){v||(v="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=t&&t.defaultProps,a=arguments.length-3;if(e||0===a||(e={children:void 0}),1===a)e.children=s;else if(a>1){for(var r=new Array(a),o=0;o<a;o++)r[o]=arguments[o+3];e.children=r}if(e&&n)for(var l in n)void 0===e[l]&&(e[l]=n[l]);else e||(e=n||{});return{$$typeof:v,type:t,key:void 0===i?null:""+i,ref:null,props:e,_owner:null}}class O extends s.Component{constructor(t){super(t),this.isIE=()=>!!(document.documentMode||/Edge/.test(navigator.userAgent)||navigator.userAgent.indexOf("Trident")>-1),this.nextBreakingNews=t=>{this.state.CurrentStory+1<=this.state.NumberOfStories-1&&(t.preventDefault(),this.setState({CurrentStory:this.state.CurrentStory+1},(()=>{this.callAnimation()})))},this.prevBreakingNews=t=>{this.state.CurrentStory>0&&(t.preventDefault(),this.setState({CurrentStory:this.state.CurrentStory-1},(()=>{this.callAnimation()})))},this.pauseBreakingNews=t=>{"enable"===this.state.tickerControlStatus&&(t.preventDefault(),this.timeout_news&&clearTimeout(this.timeout_news),this.timeout_addAnimation&&clearTimeout(this.timeout_addAnimation),this.setState({animation:"paused"}))},this.callAnimation=this.playBreakingNews=t=>{t.preventDefault(),this.setState({animation:"playing"},(()=>{this.callAnimation()}))},this.IncreasewidthAnimation=(t,e)=>{const i=t+6;this.tickerConatinerRef&&this.tickerConatinerRef.current&&(this.tickerConatinerRef.current.style.width=`${i}px`),this.timeout_length=setTimeout((,e)},this.clearAllAnimations=()=>{this.setState({ticker_anim:"no_anim"}),this.timeout_addAnimation&&clearTimeout(this.timeout_addAnimation),this.timeout_length&&clearTimeout(this.timeout_length),this.timeout_length_call&&clearTimeout(this.timeout_length_call),this.timeout_news&&clearTimeout(this.timeout_news)},this.hideBreakingNews=this.closeWidget=t=>{this.props.closeWidget(t),(0,a.z)({data:{gaCategory:"ATF_breaking_news_bar",gaAction:"click",gaLabel:"close_icon"}})};const e=t.isMobile?"mobile":"desktop",i=t.data.length>1?"enable":"disable";this.tickerConatinerRef=s.createRef(),this.state={ticker_class:"ticker__item",ticker_anim:"no_anim",story:t.data[0].title||"",storyLink:t.data[0].link||"",CurrentStory:0,tickerControlStatus:i,NumberOfStories:t.data.length||0,StoriesArray:t.data||[],device:e,animation:"playing",hide:!1}}tartAnimation(){this.clearAllAnimations();const{StoriesArray:t,NumberOfStories:e,device:i,animation:s}=this.state;let{CurrentStory:n}=this.state,a=1e4;(n<0||n>=e)&&(this.setState({CurrentStory:0}),n=0),this.setState({story:t[n].title,storyLink:t[n].link});const r=(this.isIE(),40);a=50*t[n].title.length+4e3,"desktop"===i&&(this.timeout_length_call=setTimeout((,0),a>=5e3&&(this.timeout_addAnimation=setTimeout((,4e3))),"playing"===s&&this.loadNextStry(n,a)}loadNextStry(t,e){this.timeout_news=setTimeout((()=>{this.setState({CurrentStory:t+1},()}),e)}render(){const{data:t,addWrapper:e,isMobile:i}=this.props;if(t){const t=`${A()[this.state.ticker_class]} ${A()[this.state.ticker_anim]}`,n=`${A()[this.state.tickerControlStatus]}`,a=0===this.state.CurrentStory?"disable":"enable",r=this.state.CurrentStory===this.state.NumberOfStories-1?"disable":"enable";let o,l;l=this.state.storyLink?$(S.Z,{to:this.state.storyLink,"data-ga":`ATF_breaking_news_bar|title_click|${this.state.storyLink}`},void 0,this.state.story):`${this.state.story}`,o="playing"===this.state.animation?$("li",{className:`${A()["jnt-play-pause"]}`,onClick:this.pauseBreakingNews},void 0,k||(k=$("button",{href:""}))):$("li",{className:`${A()["jnt-play-pause"]} ${A().paused}`,onClick:this.playBreakingNews},void 0,f||(f=$("button",{})));const c=C()({[`${A()["breaking-news"]}`]:!0,contentwrapper:!e,[`${A().wrapper}`]:e,[`${A()[this.state.device]}`]:!0,[`${A().hide}`]:this.state.hide,[`${A().red_theme}`]:"redTheme"===this.props.theme}),d=$(s.Fragment,{},void 0,$("div",{className:A()["ticker-title"]},void 0,b||(b=$("span",{},void 0,"Breaking ",$("span",{},void 0," News")))),i&&$("div",{className:`${A().newsskip}`,onClick:,void 0,w||(w=$("i",{}))),$("div",{className:A()["ticker-wrap"]},void 0,$("div",{className:`${A().ticker}`},void 0,s.createElement("div",{className:`${t}`,ref:this.tickerConatinerRef},l))),$("ul",{className:`${A()["ticker-controls"]}  ${n}`},void 0,$("li",{className:`${A()["jnt-prev"]}  ${A()[`${a}`]}`},void 0,$("button",{onClick:this.prevBreakingNews})),o,$("li",{className:`${A()["jnt-next"]} ${A()[`${r}`]}`},void 0,$("button",{onClick:this.nextBreakingNews}))),this.props.withClose&&this.props.closeWidget&&$("button",{className:A().closeicon,onClick:,void 0,"+"));return $("div",{className:c},void 0,e?$("div",{className:"contentwrapper"},void 0,d):$(s.Fragment,{},void 0,d))}return y||(y=$("div",{}))}}O.defaultProps={data:void 0,theme:void 0,addWrapper:!1,withClose:!1,closeWidget:void 0,isMobile:!1};const j=O;var D;lass W extends s.Component{constructor(){super(),this.LoadBreakingNewsData=this.closeWidget=()=>{window.sessionStorage&&sessionStorage.setItem("brknewsClose","1"),this.setState({hideWidget:!0}),(0,a.z)({data:{gaCategory:"ATF_breaking_news_bar",gaAction:"close_icon",gaLabel:""}})},this.state={hideWidget:!1}}componentDidMount(){const t={isTest:"undefined"!=typeof window&&window.location.search.includes("brknewstest")};(!window.sessionStorage||"1"!==sessionStorage.getItem("brknewsClose"))&&this.LoadBreakingNewsData(t)}render(){const{data:t,customComponent:e}=this.props;return t&&!this.state.hideWidget?e?T(e,{data:this.props.data,closeWidget:this.closeWidget}):T(j,{data:this.props.data,theme:this.props.theme,addWrapper:this.props.addWrapper,withClose:this.props.withClose,closeWidget:this.closeWidget,isMobile:this.props.isMobile}):null}}W.defaultProps={data:void 0,loadData:void 0,theme:void 0,customComponent:void 0,addWrapper:!1,withClose:!1,isMobile:!1};const P=(0,n.$j)((,(t=>({loadData:)))(W)},95524:t=>{t.exports={"breaking-news":"oXifh",red_theme:"V9uC3","ticker-wrap":"mD7wY",left:"Jgc0t","ticker-controls":"PWjhj","ticker-content":"PJCGC","ticker-title":"GCTum",ticker:"MRDEq",hide:"B1L5l",closeicon:"GrKza",ticker__item:"GPjIy",enable:"mgKkt","jnt-next":"ct0w1","jnt-prev":"Zt25t","jnt-play-pause":"HoE18",paused:"kRZc4",desktop:"QNJ21",add_anim_ticker:"K9F1P",right:"u42F6",crossskip:"GKtc6",newsskip:"IHeOz",disable:"zxGsP"}}}]);
//# sourceMappingURL=WithBreakingNews_es6_module.bbd1f624.chunk.js.map