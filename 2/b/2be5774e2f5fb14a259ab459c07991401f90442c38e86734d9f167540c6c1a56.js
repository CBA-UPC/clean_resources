/*! For license information please see ads.js.LICENSE.txt */
!function(){var e={327:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Ld:function(){return c},WI:function(){return u}});var i,o=Symbol.for("openweb-pubsub-store");window[o]=null!=(i=window[o])?i:{events:{},queues:{}};var a=function(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return(n=window[o].events[e])[t].apply(n,i)},s=function(e,t,n){var r=Symbol("key");if(function(e,t,n){!function(e){var t;window[o].events[e]=null!=(t=window[o].events[e])?t:{}}(e),window[o].events[e][t]=n}(e,r,t),n.history){var i=function(e){var t;return null!=(t=window[o].queues[e])?t:[]}(e);i.forEach((function(e){return t.apply(void 0,e.params)}))}return r},c=function(e,t,n){var i=r({history:!0},n),a=s(e,t,i);return function(){return function(e,t){delete window[o].events[e][t]}(e,a)}},u=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(e){var t;return null!=(t=window[o].events[e])?t:{}}(e);(function(e,t){!function(e){var t;window[o].queues[e]=null!=(t=window[o].queues[e])?t:[]}(e),window[o].queues[e].push({event:e,params:t})})(e,n),Object.getOwnPropertySymbols(i).forEach((function(t){return a.apply(void 0,[e,t].concat(n))}))}},297:function(e,t,n){"use strict";n.d(t,{Z:function(){return Zp}});var r={};n.r(r),n.d(r,{e4:function(){return au},assign:function(){return ou},al:function(){return nu},aT:function(){return su},Sl:function(){return cu},vU:function(){return uu},o$:function(){return Jc},bf:function(){return qc},OU:function(){return Xc},yC:function(){return du},lW:function(){return eu},BL:function(){return ru},sT:function(){return iu},Q8:function(){return Kc},AE:function(){return Zc},XA:function(){return Qc}});var i=n(661);function o(e){return{render(t){(0,i.render)(t,e)},unmount(){(0,i.unmountComponentAtNode)(e)}}}var a=Symbol.for("openweb-global-object");void 0===window[a]&&(window[a]={flags:{},config:{realTimeNotifications:{}},callbacks:{},services:{},initFunctions:{},safeframe:{}});var s=window[a],c="video",u="display",l="above",d="below",f="left",p="right",h="directionBelow",v="pitc",_="pitc-double-decker",y="reactions",g="spotlight",m="topic-tracker",b="recirculation",w="Mobile",S="Desktop",E="containerWidth",k="scroll",x="ads",A="ads-independent",O="passback",I="dbv",C="passback",P={Dfp:"dfp",Aniview:"aniview",Browsi:"browsi",AniviewAC:"aniview_ac"},N="development",T="production",D="OW_ADS_CONFIG_CACHED",R="OW_ADS_CONFIG_CACHE_EXPIRATION_TIMEOUT",j="OW_ADS_CONFIG_CACHE_VERSION",M="botBypassDisabled",U="overrideAdsConfig",V="[data-spot-im-module-default-area=conversation]",$='[data-spotim-module="conversation"]:not([data-spotim-not-for-self-bootstrapping])',L={SlideInDown:"stickyDesktopSlideInDown",SlideInvisiblyDown:"stickyDesktopSlideInvisiblyDown",SlideInUp:"stickyDesktopSlideInUp"},z="DisplayAdError",B="AD_UNITS_MANAGER_EVENT",F="AD_UNIT_EVENT",W="adUnitsOverlap",H="adUnitInView",Y="adUnitOutOfView",G="adUnitReady";let q=function(e){return e.AdClick="brw_click",e.AdCompleted="brw_AdCompleted",e.AdImpression="brw_Impression",e.Inventory="brw_Inventory",e.NoAd="brw_noAd",e.PlayerClosed="brw_playerClosed",e.ViewableImpression="brw_Vimp",e}({});const J={row:1,column:1},K="Responsive",Z="spotim.market",Q=[b],X={homepage:"pitc_hp",article:"pitc_ap",gallery:"pitc_gp",search:"pitc_sp",video:"pitc_vp"},ee={homepage:"independent_ad_hp"},te=1e3,ne=[L.SlideInDown,L.SlideInvisiblyDown,L.SlideInUp],re=.4.toFixed(2),ie="googletag.pubads",oe=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB"],ae="300px",se="255px",ce="280px",ue="55px";var le="ats-envelope-id-caching-error",de="ats-integration-error",fe="aniview-invalid-code-settings",pe="dfp-invalid-code-settings",he="ads-config-fetching-error",ve="aniview-script-fetching-error",_e="ad-unit-base-runtime-error",ye="ad-unit-video-runtime-error",ge="ads-script-runtime-error",me="render-in-iframe-error",be="ab-test-variant",we="data-source",Se="device",Ee="product",ke="timestamp";let xe=function(e){return e.AssetsConfig="assets_config",e.Ltr="init_data.config.ltr",e.PostId="postId",e.SpotId="spotId",e}({});var Ae,Oe="tenant_config.ads.independent_ads_custom_selector_enabled",Ie="tenant_config.ads.independent_ads_custom_selectors",Ce="tenant_config.pitc.compact",Pe="tenant_config.pitc.disableUgc",Ne="tenant_config.pitc.forceDesktopAd",Te="tenant_config.pitc.showAdBeforeContent",De="tenant_config.spotlight.isSidebar",Re=Array.isArray,je="object"==typeof global&&global&&global.Object===Object&&global,Me="object"==typeof self&&self&&self.Object===Object&&self,Ue=je||Me||Function("return this")(),Ve=Ue.Symbol,$e=Object.prototype,Le=$e.hasOwnProperty,ze=$e.toString,Be=Ve?Ve.toStringTag:void 0,Fe=Object.prototype.toString,We=Ve?Ve.toStringTag:void 0,He=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":We&&We in Object(e)?function(e){var t=Le.call(e,Be),n=e[Be];try{e[Be]=void 0;var r=!0}catch(e){}var i=ze.call(e);return r&&(t?e[Be]=n:delete e[Be]),i}(e):function(e){return Fe.call(e)}(e)},Ye=function(e){return null!=e&&"object"==typeof e},Ge=function(e){return"symbol"==typeof e||Ye(e)&&"[object Symbol]"==He(e)},qe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Je=/^\w*$/,Ke=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Ze=function(e){if(!Ke(e))return!1;var t=He(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Qe=Ue["__core-js_shared__"],Xe=(Ae=/[^.]+$/.exec(Qe&&Qe.keys&&Qe.keys.IE_PROTO||""))?"Symbol(src)_1."+Ae:"",et=Function.prototype.toString,tt=function(e){if(null!=e){try{return et.call(e)}catch(e){}try{return e+""}catch(e){}}return""},nt=/^\[object .+?Constructor\]$/,rt=Function.prototype,it=Object.prototype,ot=rt.toString,at=it.hasOwnProperty,st=RegExp("^"+ot.call(at).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ct=function(e){return!(!Ke(e)||(t=e,Xe&&Xe in t))&&(Ze(e)?st:nt).test(tt(e));var t},ut=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ct(n)?n:void 0},lt=ut(Object,"create"),dt=Object.prototype.hasOwnProperty,ft=Object.prototype.hasOwnProperty;function pt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}pt.prototype.clear=function(){this.__data__=lt?lt(null):{},this.size=0},pt.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},pt.prototype.get=function(e){var t=this.__data__;if(lt){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return dt.call(t,e)?t[e]:void 0},pt.prototype.has=function(e){var t=this.__data__;return lt?void 0!==t[e]:ft.call(t,e)},pt.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=lt&&void 0===t?"__lodash_hash_undefined__":t,this};var ht=pt,vt=function(e,t){return e===t||e!=e&&t!=t},_t=function(e,t){for(var n=e.length;n--;)if(vt(e[n][0],t))return n;return-1},yt=Array.prototype.splice;function gt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}gt.prototype.clear=function(){this.__data__=[],this.size=0},gt.prototype.delete=function(e){var t=this.__data__,n=_t(t,e);return!(n<0||(n==t.length-1?t.pop():yt.call(t,n,1),--this.size,0))},gt.prototype.get=function(e){var t=this.__data__,n=_t(t,e);return n<0?void 0:t[n][1]},gt.prototype.has=function(e){return _t(this.__data__,e)>-1},gt.prototype.set=function(e,t){var n=this.__data__,r=_t(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var mt=gt,bt=ut(Ue,"Map"),wt=function(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map};function St(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}St.prototype.clear=function(){this.size=0,this.__data__={hash:new ht,map:new(bt||mt),string:new ht}},St.prototype.delete=function(e){var t=wt(this,e).delete(e);return this.size-=t?1:0,t},St.prototype.get=function(e){return wt(this,e).get(e)},St.prototype.has=function(e){return wt(this,e).has(e)},St.prototype.set=function(e,t){var n=wt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var Et=St;function kt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(kt.Cache||Et),n}kt.Cache=Et;var xt,At,Ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,It=/\\(\\)?/g,Ct=(xt=kt((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ot,(function(e,n,r,i){t.push(r?i.replace(It,"$1"):n||e)})),t}),(function(e){return 500===At.size&&At.clear(),e})),At=xt.cache,xt),Pt=Ve?Ve.prototype:void 0,Nt=Pt?Pt.toString:void 0,Tt=function e(t){if("string"==typeof t)return t;if(Re(t))return function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(t,e)+"";if(Ge(t))return Nt?Nt.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},Dt=function(e,t){return Re(e)?e:function(e,t){if(Re(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ge(e))||Je.test(e)||!qe.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:Ct(function(e){return null==e?"":Tt(e)}(e))},Rt=function(e){if("string"==typeof e||Ge(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},jt=function(e,t,n){var r=null==e?void 0:function(e,t){for(var n=0,r=(t=Dt(t,e)).length;null!=e&&n<r;)e=e[Rt(t[n++])];return n&&n==r?e:void 0}(e,t);return void 0===r?n:r},Mt=window.__SPOTIM__.SERVICES.configProvider,Ut=n.n(Mt);const Vt=new Map;var $t="Opera";const Lt={type:"other",version:"unknown"},zt=[{markerRegex:/(Edg|EdgA|EdgiOS)/,typeAndVersionRegex:/(?<type>(Edg|EdgA|EdgiOS))\/(?<version>\d+)(.|\s)/,replacements:{EdgA:"Edge Android",EdgiOS:"Edge iOS",Edg:"Edge"}},{markerRegex:/DuckDuckGo/,typeAndVersionRegex:/(?<type>(DuckDuckGo))\/(?<version>\d+)(.|\s)/,replacements:{}},{markerRegex:/(OPR|Opera|Opera Mini)/,typeAndVersionRegex:/(?<type>(OPR|Opera Mini|Version))\/(?<version>\d+)(.|\s)/,replacements:{OPR:$t,Version:$t}},{markerRegex:/SamsungBrowser/,typeAndVersionRegex:/(?<type>(SamsungBrowser))\/(?<version>\d+)(.|\s)/,replacements:{}},{markerRegex:/Focus/,typeAndVersionRegex:/(?<type>(Focus))\/(?<version>\d+)(.|\s)/,replacements:{Focus:"Firefox Focus"}},{markerRegex:/Chrome/,typeAndVersionRegex:/(?<type>(Chrome))\/(?<version>\d+)(.|\s)/,replacements:{}},{markerRegex:/(Firefox|Version|CriOS|FxiOS)/,typeAndVersionRegex:/(?<type>(Firefox|Version|CriOS|FxiOS))\/(?<version>\d+)(.|\s)/,replacements:{CriOS:"Chrome iOS",FxiOS:"Firefox iOS",Version:"Safari"}}],Bt=(e,t)=>({type:(t?.type&&Object.keys(e).includes(t?.type)?e[t.type]:t?.type)??Lt.type,version:t?.version??Lt.version}),Ft=/(mobile|iemobile|android|webos|iphone|ipod|blackberry|windows phone)/,Wt=/ipad/;var Ht=function(){const e=window?.navigator?.userAgent?.toLowerCase()??"";return Boolean(e.match(Ft))&&!e.match(Wt)}(),Yt=n(327);function Gt(e){var t;return null!=(t=qt(e.name))?t:e}function qt(e){var t,n;return null==(t=window.__OPEN_WEB__)||null==(n=t.duplicated_functions_support)?void 0:n[e]}var Jt=function(){var e;return null!=(e=qt("isInSafeframe"))?e:window.top!==window&&!!window.$sf},Kt=0,Zt=!1,Qt=function(e){var t,n,r;return e?null==(t=100!==(null==(n=window.$sf)||null==(r=n.ext)||null==r.inViewPercentage?void 0:r.inViewPercentage()))||t:(document.documentElement.scrollHeight||document.body.scrollHeight)>window.innerHeight+20},Xt=function(){return document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset},en=function(e){var t,n;return!!e&&(null==(t=window.$sf)||null==(n=t.ext)||null==n.inViewPercentage?void 0:n.inViewPercentage())>0},tn=function(e){var t,n,r,i,o;return e?null!=(t=null==(n=qt("getBrowserScrollPositionSafeFrame"))?void 0:n())?t:(i=(r=window.$sf.ext.geom()).par,o=r.win,i.t||i.b-o.h):Gt(Xt)()},nn=function(e,t){var n=function n(){e(t),window.removeEventListener("resize",n),window.removeEventListener("scroll",r)},r=function r(){!function(e,t,n,r){Kt=Xt(),Zt||(window.requestAnimationFrame((function(){!function(e,t,n,r,i){e>=20&&(window.removeEventListener("resize",r),window.removeEventListener("scroll",n),t(i))}(Kt,e,t,n,r),Zt=!1})),Zt=!0)}(e,r,n,t)};window.addEventListener("scroll",r,{passive:!0}),window.addEventListener("resize",n)},rn=function(e,t){document.addEventListener("geom-update",(function n(){tn(!0)>=20&&(document.removeEventListener("geom-update",n),e(t))}))},on=window.location,an=function(e){void 0===e&&(e=document.referrer);try{return new URL(e)}catch(e){return on}},sn=function(){return Jt()?an(s.safeframe.hostUrl):(null!=(e=qt("isInIframe"))?e:window.top!==window.self)?an(s.config.hostUrl):on;var e};const cn=()=>Gt(sn)().href,un=e=>new URL(e).hostname,ln=()=>new URLSearchParams(window.location.search),dn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;const t=new URL(e);return t.origin+t.pathname},fn=x,pn=ln(),hn=Boolean(localStorage.getItem("OPENWEB_AD_UNIT_DEBUG_API")||pn.get("openWebAdsDebug")),vn="*"===localStorage.getItem("SPOTIM_DEBUG_API"),_n=Boolean(localStorage.getItem("OPENWEB_AD_UNIT_VERBOSE_LOGGING")||pn.get("openWebAdsVerboseLogging")),yn=window.__SPOTIMENV__??T,gn="production",mn={adsAssetType:fn,isVerboseLoggingEnabled:_n,browser:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;try{for(const t of zt)if(t.markerRegex.test(e)){const n=t.typeAndVersionRegex.exec(e)?.groups;return Bt(t.replacements,n)}return Lt}catch{return Lt}}(),device:Ht?w:S,endpoints:{apiAdsConfig:{production:"https://api-2-0.spot.im/v1.0.0/owa-gw/spot",staging:"https://api.staging-spot.im/owa-gw/spot"}},isDebugMode:vn||hn,launcherEnv:{isDevelopment:yn===N,isProduction:yn===T,isStaging:"staging"===yn,type:yn},nodeEnv:{isDevelopment:!1,isProduction:!0,isTest:"test"===yn,type:gn},platform:window.navigator?.userAgentData?.platform??window.navigator?.platform,version:"v22.10.0"};var bn=mn;const{isDebugMode:wn,isVerboseLoggingEnabled:Sn}=bn,En=function(e,t){if(wn&&xn(e)){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];console.log(`%cOpenWeb Ads%c\n\n%c${t}:%c (${Number(performance.now().toFixed(2))} ms)`,"background: #424242; color: #81d4fa","background: transparent; color: unset","color: #a5d6a7","color: unset",...r)}},kn=function(e,t){if(wn&&xn(e)){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];console.error(`%cOpenWeb Ads%c\n\n%c${t}%c\n`,"color: #81d4fa","color: unset","color: #ffcc80","color: unset",...r)}},xn=e=>!e||Sn,An=window.__OW_CONFIG__,On=function(e,t){if((!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&Vt?.has(e)){const t=Vt.get(e);return En(!0,`Get configuration "${e}" from cache`,t),t}const n=Ut().get(e)??jt(An,e,t);return Vt?.set(e,n),En(!0,`Add configuration "${e}" to cache`,n),n};const In=()=>On(xe.PostId,void 0,!1)??Array.from(document.querySelectorAll("script[data-spotim-module]"))?.[0]?.dataset.postId??"no_post",Cn=function(){const e=(t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],On(xe.SpotId,void 0,t)??window.__OW_CONFIG__?.init_data?.config?.id);var t;if(!e)throw new Error("Spot id is not provided");return e};var Pn="NETWORK_ONLY";const Nn=432e5,Tn=Pn,Dn=()=>{const e=On("tenant_config.ads.ads_config_fetch_settings",{cache_expiration_interval:Nn,cache_version:"v1",endpoint_version:"v2",fetch_strategy:Tn,request_retry_count:3,request_retry_timeout:500,response_delay_timeout:1e3});return e.cache_expiration_interval??=Nn,e.cache_version??="v1",e.endpoint_version??="v2",e.fetch_strategy??=Tn,e.request_retry_count??=3,e.request_retry_timeout??=500,e.response_delay_timeout??=1e3,e},Rn=()=>On("tenant_config.ads.monitoring",{}),jn={is_enabled:!1,top:30,z_index:20},Mn=()=>{const{is_enabled:e=jn.is_enabled,top:t=jn.top,z_index:n=jn.z_index}=On("tenant_config.ads.sliding",jn)??{};return{is_enabled:e,top:t,z_index:n}},Un={is_enabled:!1,is_animation_enabled:!1,is_stay_sticky_after_timeout:!1,sticky_area_css_selector:[V,$],timeout:3e3,z_index:20},Vn=()=>{const{is_enabled:e=Un.is_enabled,is_animation_enabled:t=Un.is_animation_enabled,is_stay_sticky_after_timeout:n=Un.is_stay_sticky_after_timeout,sticky_area_css_selector:r=Un.sticky_area_css_selector,timeout:i=Un.timeout,z_index:o=Un.z_index}=On("tenant_config.ads.sticky_desktop",Un);return{is_enabled:e,is_animation_enabled:t,is_stay_sticky_after_timeout:n,sticky_area_css_selector:r,timeout:i,z_index:o}},$n={is_enabled:!1,is_stay_sticky_after_timeout:!1,sticky_area_css_selector:[V,$],timeout:3e3,top:0,z_index:20},Ln=()=>{const{is_enabled:e=$n.is_enabled,is_stay_sticky_after_timeout:t=$n.is_stay_sticky_after_timeout,sticky_area_css_selector:n=$n.sticky_area_css_selector,timeout:r=$n.timeout,top:i=$n.top,z_index:o=$n.z_index}=On("tenant_config.ads.sticky_mobile",$n);return{is_enabled:e,is_stay_sticky_after_timeout:t,sticky_area_css_selector:n,timeout:r,top:i,z_index:o}},zn={is_disabled_by_default:[]},Bn={is_enabled:!1,active_products:[],products_heights:{}},Fn=()=>{const{is_enabled:e=Bn.is_enabled,active_products:t=Bn.active_products,products_heights:n=Bn.products_heights}=On("tenant_config.ads.video_takeover",Bn);return{is_enabled:e,active_products:t,products_heights:n}},Wn="DETAILED",Hn=(e,t)=>{const{metrics:n={}}=Rn();return n.error?.[t]===Wn?e.message:"Error placeholder"};var Yn=()=>s.config.pageViewId??"",Gn=Object.prototype,qn=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Gn)},Jn=function(e,t){return function(n){return e(t(n))}},Kn=Jn(Object.keys,Object),Zn=Object.prototype.hasOwnProperty,Qn=function(e){if(!qn(e))return Kn(e);var t=[];for(var n in Object(e))Zn.call(e,n)&&"constructor"!=n&&t.push(n);return t},Xn=ut(Ue,"DataView"),er=ut(Ue,"Promise"),tr=ut(Ue,"Set"),nr=ut(Ue,"WeakMap"),rr="[object Map]",ir="[object Promise]",or="[object Set]",ar="[object WeakMap]",sr="[object DataView]",cr=tt(Xn),ur=tt(bt),lr=tt(er),dr=tt(tr),fr=tt(nr),pr=He;(Xn&&pr(new Xn(new ArrayBuffer(1)))!=sr||bt&&pr(new bt)!=rr||er&&pr(er.resolve())!=ir||tr&&pr(new tr)!=or||nr&&pr(new nr)!=ar)&&(pr=function(e){var t=He(e),n="[object Object]"==t?e.constructor:void 0,r=n?tt(n):"";if(r)switch(r){case cr:return sr;case ur:return rr;case lr:return ir;case dr:return or;case fr:return ar}return t});var hr=pr,vr=function(e){return Ye(e)&&"[object Arguments]"==He(e)},_r=Object.prototype,yr=_r.hasOwnProperty,gr=_r.propertyIsEnumerable,mr=vr(function(){return arguments}())?vr:function(e){return Ye(e)&&yr.call(e,"callee")&&!gr.call(e,"callee")},br=mr,wr=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Sr=function(e){return null!=e&&wr(e.length)&&!Ze(e)},Er="object"==typeof exports&&exports&&!exports.nodeType&&exports,kr=Er&&"object"==typeof module&&module&&!module.nodeType&&module,xr=kr&&kr.exports===Er?Ue.Buffer:void 0,Ar=(xr?xr.isBuffer:void 0)||function(){return!1},Or={};Or["[object Float32Array]"]=Or["[object Float64Array]"]=Or["[object Int8Array]"]=Or["[object Int16Array]"]=Or["[object Int32Array]"]=Or["[object Uint8Array]"]=Or["[object Uint8ClampedArray]"]=Or["[object Uint16Array]"]=Or["[object Uint32Array]"]=!0,Or["[object Arguments]"]=Or["[object Array]"]=Or["[object ArrayBuffer]"]=Or["[object Boolean]"]=Or["[object DataView]"]=Or["[object Date]"]=Or["[object Error]"]=Or["[object Function]"]=Or["[object Map]"]=Or["[object Number]"]=Or["[object Object]"]=Or["[object RegExp]"]=Or["[object Set]"]=Or["[object String]"]=Or["[object WeakMap]"]=!1;var Ir,Cr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Pr=Cr&&"object"==typeof module&&module&&!module.nodeType&&module,Nr=Pr&&Pr.exports===Cr&&je.process,Tr=function(){try{return Pr&&Pr.require&&Pr.require("util").types||Nr&&Nr.binding&&Nr.binding("util")}catch(e){}}(),Dr=Tr&&Tr.isTypedArray,Rr=Dr?(Ir=Dr,function(e){return Ir(e)}):function(e){return Ye(e)&&wr(e.length)&&!!Or[He(e)]},jr=Object.prototype.hasOwnProperty,Mr=function(e){if(null==e)return!0;if(Sr(e)&&(Re(e)||"string"==typeof e||"function"==typeof e.splice||Ar(e)||Rr(e)||br(e)))return!e.length;var t=hr(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(qn(e))return!Qn(e).length;for(var n in e)if(jr.call(e,n))return!1;return!0},Ur=window.__SPOTIM__.lib.MetricsReporter;const Vr=n.n(Ur)()(Cn(),bn.adsAssetType,{version:bn.version}),$r=e=>Boolean(e)&&!Mr(e);let Lr={};const zr=e=>{const{metrics:t={}}=Rn();return[!0,Wn].some((n=>t.error?.[e]===n))},Br=e=>{const{metrics:t={}}=Rn();return!0===t.general?.[e]},Fr=e=>{let{error:t,isMetricEnabled:n,metric:r,options:i={},tags:o={},sendMetric:a}=e;return Promise.resolve().then((()=>{if(!n)return void En(!0,"Sending metric is disabled",r);const{isDisposable:e}=i;if(e){if((e=>{const t=Yn();return Boolean(Lr[t]?.[e])})(r))return;(e=>{const t=Yn();Lr[t]||(Lr={[t]:{}}),Lr[t][e]=!0})(r)}const s=[],c=(e=>{const{tags:t={}}=Rn();return Object.entries(e).reduce(((e,n)=>{let[r,i]=n;return!0===t[r]&&(e[r]=i),e}),{})})(o);a(c),t&&s.push("\nError:",t),i&&s.push("\nOptions:",i),c&&s.push("\nTags:",c),En(!0,"Sending metric",r,...s)})).catch((e=>{kn(!0,"Sending metric error",e,"\nMetric:",r)}))},Wr=e=>{let{error:t,metric:n,options:r,tags:i}=e;return Fr({error:t,metric:n,options:r,tags:i,isMetricEnabled:zr(n),sendMetric:e=>(e=>{let{error:t,metric:n,tags:r}=e;return Vr.error(n,t,$r(r)?r:void 0)})({error:t,metric:n,tags:e})})},Hr=e=>{let{metric:t,options:n,tags:r}=e;return Fr({metric:t,options:n,tags:r,isMetricEnabled:Br(t),sendMetric:e=>(e=>{let{metric:t,tags:n}=e;return Vr.send(t,$r(n)?{tags:n}:void 0)})({metric:t,tags:e})})};const Yr=e=>(0,Yt.WI)(F,e),Gr=(e,t,n)=>{const r=`${e}-${t}`;En(!0,"Dispatching event",r,"\nParameters:",n),(0,Yt.WI)(r,n)},qr=(e,t,n)=>{const r=`${e}-${t}`;return En(!0,"Subscribing to event",r),(0,Yt.Ld)(r,n)},Jr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Gr(arguments.length>1?arguments[1]:void 0,"onDimensionsChange",{width:t,height:n}),e({width:t,height:n})};var Kr=e=>Boolean(window.__tcfapi&&e&&On("tenant_config.ads.is_cookie_consent_observed_by_aniview",!1));const Zr=e=>24*e*60*60*te;var Qr=(e,t,n)=>{navigator.cookieEnabled&&(document.cookie=`${e}=${t}${(e=>{if(null==e)return"";const t=new Date;return t.setTime(t.getTime()+Zr(e)),`; expires=${t.toUTCString()}`})(n)}; path=/`)},Xr=e=>`${Yn()}-${e}-${Date.now()}`;function ei(e){var t=this.__data__=new mt(e);this.size=t.size}ei.prototype.clear=function(){this.__data__=new mt,this.size=0},ei.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ei.prototype.get=function(e){return this.__data__.get(e)},ei.prototype.has=function(e){return this.__data__.has(e)},ei.prototype.set=function(e,t){var n=this.__data__;if(n instanceof mt){var r=n.__data__;if(!bt||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Et(r)}return n.set(e,t),this.size=n.size,this};var ti,ni,ri=ei,ii=function(){try{var e=ut(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),oi=function(e,t,n){"__proto__"==t&&ii?ii(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},ai=function(e,t,n){(void 0!==n&&!vt(e[t],n)||void 0===n&&!(t in e))&&oi(e,t,n)},si=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[ti?a:++r];if(!1===t(i[s],s,i))break}return e},ci="object"==typeof exports&&exports&&!exports.nodeType&&exports,ui=ci&&"object"==typeof module&&module&&!module.nodeType&&module,li=ui&&ui.exports===ci?Ue.Buffer:void 0,di=li?li.allocUnsafe:void 0,fi=Ue.Uint8Array,pi=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new fi(t).set(new fi(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},hi=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},vi=Object.create,_i=function(){function e(){}return function(t){if(!Ke(t))return{};if(vi)return vi(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),yi=Jn(Object.getPrototypeOf,Object),gi=Function.prototype,mi=Object.prototype,bi=gi.toString,wi=mi.hasOwnProperty,Si=bi.call(Object),Ei=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},ki=Object.prototype.hasOwnProperty,xi=function(e,t,n){var r=e[t];ki.call(e,t)&&vt(r,n)&&(void 0!==n||t in e)||oi(e,t,n)},Ai=/^(?:0|[1-9]\d*)$/,Oi=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ai.test(e))&&e>-1&&e%1==0&&e<t},Ii=Object.prototype.hasOwnProperty,Ci=function(e,t){var n=Re(e),r=!n&&br(e),i=!n&&!r&&Ar(e),o=!n&&!r&&!i&&Rr(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!Ii.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Oi(u,c))||s.push(u);return s},Pi=Object.prototype.hasOwnProperty,Ni=function(e){if(!Ke(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=qn(e),n=[];for(var r in e)("constructor"!=r||!t&&Pi.call(e,r))&&n.push(r);return n},Ti=function(e){return Sr(e)?Ci(e,!0):Ni(e)},Di=function(e){return function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?oi(n,s,c):xi(n,s,c)}return n}(e,Ti(e))},Ri=function(e,t,n,r,i,o,a){var s,c=Ei(e,n),u=Ei(t,n),l=a.get(u);if(l)ai(e,n,l);else{var d=o?o(c,u,n+"",e,t,a):void 0,f=void 0===d;if(f){var p=Re(u),h=!p&&Ar(u),v=!p&&!h&&Rr(u);d=u,p||h||v?Re(c)?d=c:Ye(s=c)&&Sr(s)?d=hi(c):h?(f=!1,d=function(e,t){if(t)return e.slice();var n=e.length,r=di?di(n):new e.constructor(n);return e.copy(r),r}(u,!0)):v?(f=!1,d=pi(u,!0)):d=[]:function(e){if(!Ye(e)||"[object Object]"!=He(e))return!1;var t=yi(e);if(null===t)return!0;var n=wi.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&bi.call(n)==Si}(u)||br(u)?(d=c,br(c)?d=Di(c):Ke(c)&&!Ze(c)||(d=function(e){return"function"!=typeof e.constructor||qn(e)?{}:_i(yi(e))}(u))):f=!1}f&&(a.set(u,d),i(d,u,r,o,a),a.delete(u)),ai(e,n,d)}},ji=function e(t,n,r,i,o){t!==n&&si(n,(function(a,s){if(o||(o=new ri),Ke(a))Ri(t,n,s,r,e,i,o);else{var c=i?i(Ei(t,s),a,s+"",t,n,o):void 0;void 0===c&&(c=a),ai(t,s,c)}}),Ti)},Mi=function(e){return e},Ui=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Vi=Math.max,$i=ii?function(e,t){return ii(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Mi,Li=Date.now,zi=function(e){var t=0,n=0;return function(){var r=Li(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Bi=zi($i),Fi=function(e,t){return Bi(function(e,t,n){return t=Vi(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Vi(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),Ui(e,this,s)}}(e,t,Mi),e+"")},Wi=function(e,t,n){if(!Ke(n))return!1;var r=typeof t;return!!("number"==r?Sr(n)&&Oi(t,n.length):"string"==r&&t in n)&&vt(n[t],e)},Hi=(ni=function(e,t,n){ji(e,t,n)},Fi((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=ni.length>3&&"function"==typeof i?(r--,i):void 0,o&&Wi(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&ni(e,a,n,i)}return e}))),Yi="AB_STATE",Gi=function(){function e(){this.allAbTests="",this.activeAbTests=new Set,this.activeAbTestsOutput="",this.state={}}return e.getInstance=function(){var t=function(e){var t,n,r={status:!1,object:{}};return(null===(t=window.__SPOTIM__)||void 0===t||null===(n=t.SERVICES)||void 0===n?void 0:n[e])&&(r.status=!0,r.object=window.__SPOTIM__.SERVICES[e]),r}(Yi);return t.status||(t.object=new e,function(e,t){var n,r={__SPOTIM__:{SERVICES:(n={},n[e]=t,n)}};Hi(window,r)}(Yi,t.object)),t.object},e}().getInstance();function qi(e){return Gi.state[e]&&Gi.state[e].variant}function Ji(e,t){var n,r;Gi.activeAbTests.add(e+":"+t),n=Gi.activeAbTests,r="",n.forEach((function(e){r?r+="|"+e:r=e})),Gi.activeAbTestsOutput=r}var Ki={getVariant:qi,getAllExperiments:function(){return Gi.allAbTests},getActiveExperiments:function(){return Gi.activeAbTestsOutput},setActiveExperiment:Ji,testVariant:function(e,t){var n=!1,r=qi(e);return r?(Ji(e,r),t===r&&(n=!0),n):n}},Zi=window.__SPOTIM__.lib.analytics;const Qi=e=>{const t=(e=>{const{ad_call_ids:t,...n}=e,{engine_vendor_name:r}=n;return{...n,...r&&t?{ad_call_id:t[r]}:{}}})(e);return En(!0,"Sending BI event",t),(0,Zi.trackEvent)(t)},Xi=Ki.getAllExperiments(),eo=(e,t,n,r)=>({type:"engine_status",source_version:bn.version,spot_id:Cn(),post_id:In(),source:t,test_field:Xi,campaign_id:n,page_view_id:Yn(),...r?{ad_call_ids:r}:{},...e});var to=n(293);function no(e,t){return(0,to.rS)(e,t)}var ro="start";const io=e=>{let{reportingModuleName:t,campaignId:n}=e;const r=eo({engine_status:"ads-script-started"},t,n);Qi(r)},oo=e=>{let{reportingModuleName:t,campaignId:n}=e;const r=eo({engine_status:"engine-killed-by-request"},t,n);Qi(r)};window.googletag=window.googletag||{cmd:[]};var ao=e=>{let{reportingModuleName:t,campaignId:n,adCallIds:r}=e;var i;On("tenant_config.ads.enable_dfp_analytics",!0)&&(i=()=>{window.googletag.pubads().isInitialLoadDisabled()&&(e=>{let{reportingModuleName:t,adCallIds:n,campaignId:r}=e;const i=eo({type:"dfp-initial-load-disabled"},t,r,n);Qi(i)})({reportingModuleName:t,adCallIds:r,campaignId:n})},window.googletag.cmd.push(i))},so="impressionViewable",co="slotOnload",uo="slotRenderEnded",lo="slotRequested",fo="slotResponseReceived";var po=e=>{let{adUnitIdFormatted:t,code:n,codeSettings:r,isRenderAdsInIframeEnabled:i,mcmNetworkId:o="",reportingModuleName:a,sellerId:c,slot:u,spotId:l,userGroups:d,isSliding:f=!1,isStickyEnabled:p=!1}=e;const h=On("tenant_config.ads.adtelligent_account_id","wrapper_hb_270443"),v=On("tenant_config.ads.supply_chain_enabled",!0),_={userGroups:d,[(m=a,`${b=m,{conversation_header:"convHeader",conversation_header_siderail:"convHeadSR",topic_tracker:"topicTrk",topic_tracker_siderail:"topicTrkSR",reaction_siderail:"reactionsSR",side_rail:"pitcSR",independent_ad:"independent",discover:"discover"}[b]??b}SpotId`)]:l,abTestVersion:xa()??"",abTestConfig:Aa()??"",assetGroupId:Oa(),isSliding:`${f}`,isStickyAdUnit:`${p}`,pageViewId:s.config.pageViewId,slot:es(u),source_version:bn.version,topSpotId:l,source:a},{googletag_slot_id:y=""}=r??{},g=y.replace("{{MCM_NETWORK_ID}}",o?`,${o}`:"");var m,b;En(!0,"DFP configuration",{..._,code:n},"\nAd Unit Id Formatted:",t);const w=(e=>Object.keys(e).map((t=>{const n=e[t];return n?`.setTargeting(${JSON.stringify(t)},${JSON.stringify(n)})`:""})).join(""))(_),S=i?"window.parent":"window",E=cn(),k=Jt()?E:un(E),x=[uo,co,lo,fo,so].map((e=>(e=>`\n    googletag.pubads().addEventListener('${e}', function(event) {\n      // Listeners operate at service level, which means that you cannot add\n      // a listener for an event for a specific slot only\n      // more info can be found here: https://developers.google.com/publisher-tag/reference#googletag.Service_addEventListener\n      if (event.slot.getAdUnitPath() === '${g}') {\n        ${S}.dispatchEvent(new CustomEvent("dfpEvent-${t}", {\n            detail: {\n             type: '${e}'\n             ${e===uo?",isEmpty: event.isEmpty":""}\n             ${e===uo?",size: event.size":""}\n            }\n        }));\n      }\n    });\n  `)(e))).join("\n"),A=n.replace("{{MCM_NETWORK_ID}}",o?`,${o}`:"").replace(".addService(googletag.pubads());",`${w}.addService(googletag.pubads().set('page_url','${k}')); ${x}`);if(v&&A.includes(h)){const e=((e,t)=>`<script>vpb.cmd=vpb.cmd||[];vpb.cmd.push(function(){vpb.setClientSchain({asi:'${e}',sid:'${t}'})})<\/script>`)(Z,c);return`${A}${e}`}return A},ho=e=>e?{engine_vendor_name:e.type.toLowerCase(),engine_tag_id:e.id,in_view:`${e.size.width}*${e.size.height}`,variant:e.variant}:{engine_vendor_name:"",engine_tag_id:"",in_view:"",variant:""};const vo=["gdpr","ccpa","ats"],_o={gdpr:"__tcfapi",ccpa:"__uspapi",ats:"ats"},yo=e=>`\n  Object.defineProperty(window, '${e}', {\n    get() {\n      return window.parent['${e}'];\n    },\n    configurable: true,\n    enumerable: true\n  });\n  `;var go=e=>{let{adUnitId:t,content:n,reportingModuleName:r,target:i}=e;const o=On("tenant_config.ads.enable_iframe_allow_same_origin",!0),a=document.createElement("iframe");Object.assign(a.style,{width:"100%",height:"100%",border:"none"}),a.setAttribute("title","ad content"),o&&a.setAttribute("allow-same-origin",""),i.appendChild(a),a.contentWindow?.document.open(),setTimeout((()=>{if(a.contentWindow)try{const e=((e,t)=>{const n=On("tenant_config.ads.enable_iframe_local_storage_polyfill",!0),r=On("tenant_config.ads.enable_iframe_proxies",!1);return`\n  <html lang=${window.document.documentElement.lang}>\n  <script>\n    window.addEventListener('error', (event) => {\n      window.parent.postMessage({\n        adUnitId: '${e}',\n        error: event.error,\n        isGoogleDfpScript: document.currentScript?.innerHTML.includes('${ie}'),\n        type: '${z}',\n      }, window.parent.origin);\n    });\n  <\/script>\n  <body style='margin: 0; padding: 0; overflow: hidden; background: transparent;'>\n    ${r?`<script>${(()=>{const e=On("tenant_config.ads.iframe_proxies",vo);return(t=e,n=vo,t.filter((e=>n.includes(e)))).map((e=>_o[e])).filter((e=>void 0!==e)).map(yo).join("\n");var t,n})()}<\/script>`:""}\n    ${n?`<script>${Wa()}<\/script>`:""}\n    ${t}\n  </body>\n</html>\n`})(t,n);a.contentWindow.document.write(e),a.contentWindow.document.close()}catch(e){kn(!0,"Render in iframe error",e,"\nProduct:",r),ds(Da(e))}}),0)},mo=e=>null!=e,bo=async(e,t)=>{const n=await fetch(e,{method:t?.method??"GET",...t});if(!n.ok)throw new Error(`Fetch error: ${n.status} ${n.statusText}`);return n.json()},wo=nr&&new nr,So=wo?function(e,t){return wo.set(e,t),e}:Mi,Eo=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=_i(e.prototype),r=e.apply(n,t);return Ke(r)?r:n}},ko=Math.max,xo=function(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,c=t.length,u=ko(o-a,0),l=Array(c+u),d=!r;++s<c;)l[s]=t[s];for(;++i<a;)(d||i<o)&&(l[n[i]]=e[i]);for(;u--;)l[s++]=e[i++];return l},Ao=Math.max,Oo=function(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,c=-1,u=t.length,l=Ao(o-s,0),d=Array(l+u),f=!r;++i<l;)d[i]=e[i];for(var p=i;++c<u;)d[p+c]=t[c];for(;++a<s;)(f||i<o)&&(d[p+n[a]]=e[i++]);return d},Io=function(){};function Co(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}Co.prototype=_i(Io.prototype),Co.prototype.constructor=Co;var Po=Co,No=wo?function(e){return wo.get(e)}:function(){},To={},Do=Object.prototype.hasOwnProperty;function Ro(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Ro.prototype=_i(Io.prototype),Ro.prototype.constructor=Ro;var jo=Ro,Mo=Object.prototype.hasOwnProperty;function Uo(e){if(Ye(e)&&!Re(e)&&!(e instanceof Po)){if(e instanceof jo)return e;if(Mo.call(e,"__wrapped__"))return function(e){if(e instanceof Po)return e.clone();var t=new jo(e.__wrapped__,e.__chain__);return t.__actions__=hi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}(e)}return new jo(e)}Uo.prototype=Io.prototype,Uo.prototype.constructor=Uo;var Vo=Uo,$o=function(e){var t=function(e){for(var t=e.name+"",n=To[t],r=Do.call(To,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}(e),n=Vo[t];if("function"!=typeof n||!(t in Po.prototype))return!1;if(e===n)return!0;var r=No(n);return!!r&&e===r[0]},Lo=zi(So),zo=/\{\n\/\* \[wrapped with (.+)\] \*/,Bo=/,? & /,Fo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Wo=function(e){return e!=e},Ho=function(e,t){return!(null==e||!e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,Wo,n)}(e,t,0)>-1},Yo=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Go=function(e,t,n){var r=t+"";return Bi(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Fo,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););}(Yo,(function(n){var r="_."+n[0];t&n[1]&&!Ho(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(zo);return t?t[1].split(Bo):[]}(r),n)))},qo=function(e,t,n,r,i,o,a,s,c,u){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var d=[e,t,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,c,u],f=n.apply(void 0,d);return $o(e)&&Lo(f,d),f.placeholder=r,Go(f,e,t)},Jo=function(e){return e.placeholder},Ko=Math.min,Zo="__lodash_placeholder__",Qo=function(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==Zo||(e[n]=Zo,o[i++]=n)}return o},Xo=function e(t,n,r,i,o,a,s,c,u,l){var d=128&n,f=1&n,p=2&n,h=24&n,v=512&n,_=p?void 0:Eo(t);return function y(){for(var g=arguments.length,m=Array(g),b=g;b--;)m[b]=arguments[b];if(h)var w=Jo(y),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(m,w);if(i&&(m=xo(m,i,o,h)),a&&(m=Oo(m,a,s,h)),g-=S,h&&g<l){var E=Qo(m,w);return qo(t,n,e,y.placeholder,r,m,E,c,u,l-g)}var k=f?r:this,x=p?k[t]:t;return g=m.length,c?m=function(e,t){for(var n=e.length,r=Ko(t.length,n),i=hi(e);r--;){var o=t[r];e[r]=Oi(o,n)?i[o]:void 0}return e}(m,c):v&&g>1&&m.reverse(),d&&u<g&&(m.length=u),this&&this!==Ue&&this instanceof y&&(x=_||Eo(x)),x.apply(k,m)}},ea="__lodash_placeholder__",ta=Math.min,na=/\s/,ra=/^\s+/,ia=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&na.test(e.charAt(t)););return t}(e)+1).replace(ra,""):e},oa=/^[-+]0x[0-9a-f]+$/i,aa=/^0b[01]+$/i,sa=/^0o[0-7]+$/i,ca=parseInt,ua=function(e){if("number"==typeof e)return e;if(Ge(e))return NaN;if(Ke(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ke(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=ia(e);var n=aa.test(e);return n||sa.test(e)?ca(e.slice(2),n?2:8):oa.test(e)?NaN:+e},la=function(e){return e?Infinity===(e=ua(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},da=function(e){var t=la(e),n=t%1;return t==t?n?t-n:t:0},fa=Math.max,pa=function(e,t,n,r,i,o,a,s){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var u=r?r.length:0;if(u||(t&=-97,r=i=void 0),a=void 0===a?a:fa(da(a),0),s=void 0===s?s:da(s),u-=i?i.length:0,64&t){var l=r,d=i;r=i=void 0}var f=c?void 0:No(e),p=[e,t,n,r,i,l,d,o,a,s];if(f&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?xo(c,s,t[4]):s,e[4]=c?Qo(e[3],ea):t[4]}(s=t[5])&&(c=e[5],e[5]=c?Oo(c,s,t[6]):s,e[6]=c?Qo(e[5],ea):t[6]),(s=t[7])&&(e[7]=s),128&r&&(e[8]=null==e[8]?t[8]:ta(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(p,f),e=p[0],t=p[1],n=p[2],r=p[3],i=p[4],!(s=p[9]=void 0===p[9]?c?0:e.length:fa(p[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)h=8==t||16==t?function(e,t,n){var r=Eo(e);return function i(){for(var o=arguments.length,a=Array(o),s=o,c=Jo(i);s--;)a[s]=arguments[s];var u=o<3&&a[0]!==c&&a[o-1]!==c?[]:Qo(a,c);return(o-=u.length)<n?qo(e,t,Xo,i.placeholder,void 0,a,u,void 0,void 0,n-o):Ui(this&&this!==Ue&&this instanceof i?r:e,this,a)}}(e,t,s):32!=t&&33!=t||i.length?Xo.apply(void 0,p):function(e,t,n,r){var i=1&t,o=Eo(e);return function t(){for(var a=-1,s=arguments.length,c=-1,u=r.length,l=Array(u+s),d=this&&this!==Ue&&this instanceof t?o:e;++c<u;)l[c]=r[c];for(;s--;)l[c++]=arguments[++a];return Ui(d,i?n:this,l)}}(e,t,n,r);else var h=function(e,t,n){var r=1&t,i=Eo(e);return function t(){return(this&&this!==Ue&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Go((f?So:Lo)(h,p),e,t)},ha=Fi((function(e,t){var n=Qo(t,Jo(ha));return pa(e,32,void 0,t,n)}));ha.placeholder={};var va=ha;const _a=e=>e,ya=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>function(){return t(e(...arguments))}))},ga=(e,t)=>e===t,ma=(e,t)=>ya(t?(e=>t=>t?.[e])(t):_a,va(ga,e)),ba=e=>!e,wa=e=>e?e?.split(":"):[],Sa=e=>wa(e)[1],Ea=e=>On(xe.AssetsConfig).filter((t=>t.type===e&&t.module===bn.adsAssetType)).find((e=>e.url.split("/").some((e=>e===bn.version)))),ka=()=>{const e=Ea("text/javascript");if(e)return e.variant},xa=()=>{const e=ka();if(e)return Sa(e)},Aa=()=>{const e=On("tenant_config.ads.observed_ab_test_experiment_id");if(e)return Ki.getVariant(e)};var Oa=()=>window.__OW_CONFIG__.asset_group_id,Ia=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e}(Ia||{});const Ca=e=>e.top<0?-e.top:0,Pa=e=>e.bottom>window.innerHeight?e.bottom-window.innerHeight:0,Na=e=>e.left<0?-e.left:0,Ta=e=>e.right>window.innerWidth?e.right-window.innerWidth:0;var Da=e=>e instanceof Error?e:Error(String(e));const Ra="_lr_env";var ja=()=>{try{const e=localStorage.getItem("SPOTIM_DEVICE_UUID_V2");return e?JSON.parse(e).uuid:null}catch{return null}},Ma={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Ua;const Va=new Uint8Array(16);function $a(){if(!Ua&&(Ua="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ua))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ua(Va)}const La=[];for(let e=0;e<256;++e)La.push((e+256).toString(16).slice(1));var za=function(e,t,n){if(Ma.randomUUID&&!t&&!e)return Ma.randomUUID();const r=(e=e||{}).random||(e.rng||$a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(La[e[t+0]]+La[e[t+1]]+La[e[t+2]]+La[e[t+3]]+"-"+La[e[t+4]]+La[e[t+5]]+"-"+La[e[t+6]]+La[e[t+7]]+"-"+La[e[t+8]]+La[e[t+9]]+"-"+La[e[t+10]]+La[e[t+11]]+La[e[t+12]]+La[e[t+13]]+La[e[t+14]]+La[e[t+15]]).toLowerCase()}(r)},Ba=()=>za();var Fa=(()=>{let e=[];return t=>{const{async:n=!1,attributes:r={},content:i,areMultipleScriptsPrevented:o=!0,target:a=document.body,url:s}=t,c=a||document.body;return new Promise(((t,u)=>{const l=document.createElement("script");l.type="text/javascript";const d=()=>{a&&a.removeChild(l),u(`Failed to load ${s}`)},f=n=>{t(n),e=e.filter((e=>e!==s))};if(s){const r=document.querySelector(`script[src="${s}"]`);if(r&&o)return e.includes(s)?(r.addEventListener("load",f),void r.addEventListener("error",d)):t(r);e.push(s),l.addEventListener("load",f),l.addEventListener("error",d),l.src=s,l.async=n}if(i&&(l.text=i),r&&Object.entries(r).forEach((e=>{let[t,n]=e;return l.setAttribute(t,n)})),!s&&!i)return u('Failed to loadScript, because "url" and "content" are empty');c.appendChild(l)}))}})(),Wa=()=>'(function(){try{return!!window.localStorage}catch{return!1}})()||Object.defineProperty(window,"localStorage",new function(){var e={};Object.defineProperty(e,"getItem",{value:function(e){return e?this[e]:null},writable:!0,configurable:!1,enumerable:!1}),Object.defineProperty(e,"setItem",{value:function(e,t){if(e)return this[e]=String(t)},writable:!0,configurable:!1,enumerable:!1}),Object.defineProperty(e,"removeItem",{value:function(e){if(e)return delete this[e]},writable:!0,configurable:!1,enumerable:!1}),this.get=function(){return e},this.configurable=!1,this.enumerable=!0});';const Ha=e=>{try{return localStorage.getItem(e)}catch(e){return kn(!0,"Get data from local storage error:",e),null}},Ya=e=>{try{localStorage.removeItem(e)}catch(e){kn(!0,"Remove data from local storage error",e)}},Ga=(e,t)=>{try{localStorage.setItem(e,t)}catch(e){kn(!0,"Set data to local storage error",e)}};var qa=function(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))},Ja=e=>parseInt(e,10),Ka=(e,t)=>new Promise(((n,r)=>setTimeout((()=>{try{n(e())}catch(e){r(e)}}),t))),Za=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(let r=0;r<t;r++){const i=r+1;try{return 1===i?await e():await Ka(e,n)}catch(e){if(i===t)throw Da(e)}}};const Qa={row:1,column:1},Xa=(e,t)=>e.find((e=>e.slot&&e.slot.row===t.row&&e.slot.column===t.column)),es=e=>`row${e.row}-column${e.column}`,ts=()=>Ht?window.matchMedia&&window.matchMedia("(min-width: 415px)").matches?"Tablet":w:S;function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ns.apply(this,arguments)}var rs=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return r=>t?i.default.createElement(e,ns({children:r},n||{})):r},is=()=>{const e=ka(),t=e?Sa(e):e,n=(()=>{const e=ka();if(!e)return;const[t]=wa(e)[0];if(!t)return;const n=Ki.getVariant(t);return n?`${t}:${n}`:void 0})(),r=n?Sa(n):n;return t&&t!==r?`${t}:${r}`:void 0},os=()=>Sa(ka()??""),as=()=>bn.device,ss=()=>{const e=performance.now()/1e3;return e<1?"<1s":e>10?">10s":`${Math.round(e)}s`},cs=e=>{Wr({metric:pe,error:Hn(e,pe),options:{isDisposable:!0}})},us=(e,t)=>{let{product:n}=t;Wr({metric:_e,error:Hn(e,_e),tags:{[be]:os(),[Ee]:n}})},ls=e=>{Wr({metric:ge,error:Hn(e,ge),tags:{[be]:os()}})},ds=e=>{Wr({metric:me,error:Hn(e,me)})},fs=n(396),ps=n(184),hs=n.n(ps),vs=function(){return Ue.Date.now()},_s=Math.max,ys=Math.min,gs=function(e,t,n){var r,i,o,a,s,c,u=0,l=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function h(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=o}function v(){var e=vs();if(h(e))return _(e);s=setTimeout(v,function(e){var n=t-(e-c);return d?ys(n,o-(e-u)):n}(e))}function _(e){return s=void 0,f&&r?p(e):(r=i=void 0,a)}function y(){var e=vs(),n=h(e);if(r=arguments,i=this,c=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(v,t),l?p(e):a}(c);if(d)return clearTimeout(s),s=setTimeout(v,t),p(c)}return void 0===s&&(s=setTimeout(v,t)),a}return t=ua(t)||0,Ke(n)&&(l=!!n.leading,o=(d="maxWait"in n)?_s(ua(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=i=s=void 0},y.flush=function(){return void 0===s?a:_(vs())},y};const ms=On("tenant_config.ads.disable_selector","meta[name=spotim-ads][content=disable-all]"),bs=()=>Boolean(window.__SPOTIM_ADS_DISABLED__),ws=e=>e.hasAttribute("disable-ad")||e.hasAttribute("data-disable-ad"),Ss=(e,t)=>bs()?(ks(e,t),!0):Boolean(document.querySelector(ms))?(En(!0,"Ads disabled by meta tag"),Is(),oo({reportingModuleName:e,campaignId:t}),Hr({metric:"ad-unit-disabled-by-meta-tag",options:{isDisposable:!0}}),!0):void 0,Es=e=>{let{campaignId:t,isCampaignMissed:n,isDisabledByFeaturesConfig:r,isDisabledByHtmlAttribute:i,isDisabledByIsOptedOutFlag:o,reportingModuleName:a}=e;return bs()?(ks(a,t),!0):o?(En(!0,'Ad unit disabled by "isOptedOut" response flag'),Is(),Hr({metric:"ad-unit-disabled-by-is-opted-out-flag",options:{isDisposable:!0}}),!0):n?(En(!0,"Ad unit disabled by empty campaign","\nProduct:",a),(e=>{let{product:t}=e;Hr({metric:"ad-unit-no-campaign",tags:{[Ee]:t}})})({product:a}),!0):r?(En(!0,"Ad unit disabled by features config"),(e=>{let{product:t}=e;Hr({metric:"ad-unit-disabled-for-product-by-features-config",tags:{[Ee]:t}})})({product:a}),!0):i?(En(!0,"Ad unit disabled by html attribute","\nProduct:",a),(e=>{let{product:t}=e;Hr({metric:"ad-unit-disabled-for-product-by-html-attribute",tags:{[Ee]:t}})})({product:a}),(e=>{let{reportingModuleName:t,campaignId:n}=e;const r=eo({engine_status:"content-without-ads"},t,n);Qi(r)})({reportingModuleName:a,campaignId:t}),!0):void 0},ks=(e,t)=>{bs()&&(En(!0,"Ad unit disabled by global flag"),oo({reportingModuleName:e,campaignId:t}),Hr({metric:"ad-unit-disabled-by-global-flag",options:{isDisposable:!0}}))},xs=(()=>{let e=0;return()=>(e++,e)})();var As=e=>{let{adIndex:t,moduleName:n,postId:r,slot:i,spotId:o}=e;const a=[n,o,r,i?.row,i?.column,t].filter(mo).join("-");return`${xs()}-${a}`},Os={[v]:{shouldShowHeaderWhenAdNotRendered:!0,slot:J},[g]:{moduleName:"conversation_header",slot:J,shouldShowHeaderWhenAdNotRendered:!0},[_]:{shouldShowHeaderWhenAdNotRendered:!0,slot:{row:2,column:1},reportingModuleName:"pitc_dd"},[y]:{moduleName:"reactions",center:!0,slot:J,adPosition:d},[m]:{moduleName:"topic_tracker",slot:J}},Is=()=>{window.__SPOTIM_ADS_DISABLED__=!0};const Cs=()=>new Promise((e=>{return t=e,void((r=qt("initScrollListener"))?r.then(t(n)):function(e,t){var n=Jt(),r=tn(n),i=Qt(n),o=en(n);Kt=0,Zt=!1,r>20||o?e(t):i?n?rn(e,t):nn(e,t):setTimeout((function(){e(t)}),0)}(t,n));var t,n,r}));var Ps=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;var r;if(r=t,t=mo(r?.row)&&mo(r?.column)?r:Qa,!t||!e)return;return(Xa(e,t)??(!n&&Xa(e,Qa)))||void 0},Ns=e=>{switch(e){case l:return"directionAbove";case d:return h;case p:return"directionRight";default:return"directionLeft"}};const Ts=e=>"function"==typeof window.__SPOTIM_IS_LEGACY_VERTICAL_PITC__&&window.__SPOTIM_IS_LEGACY_VERTICAL_PITC__(e),Ds=e=>{const t=e.hasAttribute("data-vertical-view")||Ts(e),n=e.dataset?.pageType,r=n&&X.hasOwnProperty(n)?X[n]:"";return t?"side_rail":["pitc_hp"].includes(r)?r:"recirculation"};var Rs={adWrapper:"ads__index__adWrapper--_3vhi",takeover:"ads__index__takeover--W0tnP",outerWrapper:"ads__index__outerWrapper--gxB57",directionLeft:"ads__index__directionLeft--ViVFs",directionRight:"ads__index__directionRight--PGX2z",directionAbove:"ads__index__directionAbove--WFCtt",elementWrapper:"ads__index__elementWrapper--PPuvy",directionBelow:"ads__index__directionBelow--Ec6vi",adUnitWrapper:"ads__index__adUnitWrapper--eO5Hx",pitc:"ads__index__pitc--hIcaj",recirculation:"ads__index__recirculation--Si6Je",reactions:"ads__index__reactions--LQ1GX"};const js=()=>{const e=document.createElement("div");return e.setAttribute("product-header-placeholder",""),e},Ms=e=>{let{adUnitProps:t,headerDiv:n,productContainer:r,productAndTitleContainer:i,stylingWrapper:o,target:a}=e;Us({headerDiv:n,productContainer:r,stylingWrapper:o,target:a,initialProps:t}),Vs({headerDiv:n,productContainer:r,productAndTitleContainer:i,initialProps:t})},Us=e=>{let{headerDiv:t,initialProps:n,productContainer:r,stylingWrapper:i,target:o}=e;if(Ns(n.adPosition||f)===h){const e=r.querySelector("[data-mini-ad-unit]");r.insertBefore(o,e)}else r.appendChild(o);n.titleBelowAd?r.insertBefore(t,o??null):i.insertBefore(t,i.firstChild)},Vs=e=>{let{headerDiv:t,initialProps:n,productContainer:r,productAndTitleContainer:i}=e;const{adUnitId:o,shouldShowHeaderWhenAdNotRendered:a}=n;Gr(o,"outerAdContainer",{target:i}),Gr(o,"innerAdContainer",{target:r}),a&&qr(o,"onHeaderSet",(e=>t.innerHTML=e))};var $s="IntersectionObserver"in window;const Ls=e=>Number.isInteger(e)&&e>0;const zs=(e,t,n,r,i,o)=>{const a=On("tenant_config.ads.enable_visibility_observer",!0),{intersection_only_products:s,threshold:c}=On("tenant_config.ads.visibility_observer_options",{intersection_only_products:[],threshold:.1}),u={threshold:c,rootMargin:"10000px 0px",trackVisibility:!0,delay:100,...o};if(!$s||!a)return En(!0,"Visibility Observer Disabled",{reportingModuleName:t,target:n}),r(),!0;const l=s.includes(e),d=new IntersectionObserver((e=>{Bs(e,t,n,d,l,r,i)}),u),f=l&&n.parentElement?n.parentElement:n;return d.observe(f),d},Bs=(e,t,n,r,i,o,a)=>{const[s]=e,c="isVisible"in s,u=c&&s.isVisible,l=!c&&s.isIntersecting||i&&s.isIntersecting;return u||l?(En(!0,"Visibility Observer - Ad visible",{reportingModuleName:t,target:n}),o(),r.unobserve(n),!0):(En(!0,"Visibility Observer - Ad hidden",{reportingModuleName:t,target:n}),a(),!1)};var Fs,Ws,Hs,Ys,Gs=function(){return Gs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Gs.apply(this,arguments)};function qs(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Js(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ks(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Zs(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}(Ys=Fs||(Fs={})).Start="xstate.start",Ys.Stop="xstate.stop",Ys.Raise="xstate.raise",Ys.Send="xstate.send",Ys.Cancel="xstate.cancel",Ys.NullEvent="",Ys.Assign="xstate.assign",Ys.After="xstate.after",Ys.DoneState="done.state",Ys.DoneInvoke="done.invoke",Ys.Log="xstate.log",Ys.Init="xstate.init",Ys.Invoke="xstate.invoke",Ys.ErrorExecution="error.execution",Ys.ErrorCommunication="error.communication",Ys.ErrorPlatform="error.platform",Ys.ErrorCustom="xstate.error",Ys.Update="xstate.update",Ys.Pure="xstate.pure",Ys.Choose="xstate.choose",(Hs=Ws||(Ws={})).Parent="#_parent",Hs.Internal="#_internal";var Qs,Xs=Fs.Start,ec=Fs.Stop,tc=Fs.Raise,nc=Fs.Send,rc=Fs.Cancel,ic=Fs.NullEvent,oc=Fs.Assign,ac=(Fs.After,Fs.DoneState,Fs.Log),sc=Fs.Init,cc=Fs.Invoke,uc=(Fs.ErrorExecution,Fs.ErrorPlatform),lc=Fs.ErrorCustom,dc=Fs.Update,fc=Fs.Choose,pc=Fs.Pure,hc={},vc="xstate.guard",_c=!0;function yc(e,t,n){void 0===n&&(n=".");var r=bc(e,n),i=bc(t,n);return Mc(i)?!!Mc(r)&&i===r:Mc(r)?r in i:Object.keys(r).every((function(e){return e in i&&yc(r[e],i[e])}))}function gc(e){try{return Mc(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function mc(e,t){try{return Rc(e)?e:e.toString().split(t)}catch(t){throw new Error("'".concat(e,"' is not a valid state path."))}}function bc(e,t){return"object"==typeof(n=e)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?e.value:Rc(e)?wc(e):"string"!=typeof e?e:wc(mc(e,t));var n}function wc(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function Sc(e,t){for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];n[o]=t(e[o],o,e,i)}return n}function Ec(e,t,n){var r,i,o={};try{for(var a=Js(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];n(u)&&(o[c]=t(u,c,e))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}var kc=function(e){return function(t){var n,r,i=t;try{for(var o=Js(e),a=o.next();!a.done;a=o.next())i=i[a.value]}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}};function xc(e){return e?Mc(e)?[[e]]:Ac(Object.keys(e).map((function(t){var n=e[t];return"string"==typeof n||n&&Object.keys(n).length?xc(e[t]).map((function(e){return[t].concat(e)})):[[t]]}))):[[]]}function Ac(e){var t;return(t=[]).concat.apply(t,Zs([],Ks(e),!1))}function Oc(e){return Rc(e)?e:[e]}function Ic(e){return void 0===e?[]:Oc(e)}function Cc(e,t,n){var r,i;if(jc(e))return e(t,n.data);var o={};try{for(var a=Js(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];jc(u)?o[c]=u(t,n.data):o[c]=u}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}function Pc(e){return e instanceof Promise||!(null===e||!jc(e)&&"object"!=typeof e||!jc(e.then))}function Nc(e,t){return Sc(e.states,(function(e,n){if(e){var r=(Mc(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:Nc(e,r)}}}))}function Tc(e,t,n,r){_c||Dc(!!e,"Attempting to update undefined context");var i=e?n.reduce((function(e,n){var i,o,a=n.assignment,s={state:r,action:n,_event:t},c={};if(jc(a))c=a(e,t.data,s);else try{for(var u=Js(Object.keys(a)),l=u.next();!l.done;l=u.next()){var d=l.value,f=a[d];c[d]=jc(f)?f(e,t.data,s):f}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return Object.assign({},e,c)}),e):e;return i}var Dc=function(){};function Rc(e){return Array.isArray(e)}function jc(e){return"function"==typeof e}function Mc(e){return"string"==typeof e}function Uc(e,t){if(e)return Mc(e)?{type:vc,name:e,predicate:t?t[e]:void 0}:jc(e)?{type:vc,name:e.name,predicate:e}:e}_c||(Dc=function(e,t){var n=e instanceof Error?e:void 0;if((n||!e)&&void 0!==console){var r=["Warning: ".concat(t)];n&&r.push(n),console.warn.apply(console,r)}});var Vc=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function $c(e){return!!e&&"__xstatenode"in e}function Lc(e,t){return Mc(e)||"number"==typeof e?Gs({type:e},t):e}function zc(e,t){if(!Mc(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=Lc(e);return Gs({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function Bc(e,t){return Oc(t).map((function(t){return void 0===t||"string"==typeof t||$c(t)?{target:t,event:e}:Gs(Gs({},t),{event:e})}))}function Fc(e,t,n,r,i){var o=e.options.guards,a={state:i,cond:t,_event:r};if(t.type===vc)return((null==o?void 0:o[t.name])||t.predicate)(n,r.data,a);var s=null==o?void 0:o[t.type];if(!s)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return s(n,r.data,a)}function Wc(e){return"string"==typeof e?{type:e}:e}function Hc(e,t,n){var r=function(){},i="object"==typeof e,o=i?e:null;return{next:((i?e.next:e)||r).bind(o),error:((i?e.error:t)||r).bind(o),complete:((i?e.complete:n)||r).bind(o)}}function Yc(e,t){return"".concat(e,":invocation[").concat(t,"]")}function Gc(e){return(e.type===tc||e.type===nc&&e.to===Ws.Internal)&&"number"!=typeof e.delay}(Qs={})[Vc]=function(){return this},Qs[Symbol.observable]=function(){return this};var qc=zc({type:sc});function Jc(e,t){return t&&t[e]||void 0}function Kc(e,t){var n;if(Mc(e)||"number"==typeof e)n=jc(r=Jc(e,t))?{type:e,exec:r}:r||{type:e,exec:void 0};else if(jc(e))n={type:e.name||e.toString(),exec:e};else{var r;if(jc(r=Jc(e.type,t)))n=Gs(Gs({},e),{exec:r});else if(r){var i=r.type||e.type;n=Gs(Gs(Gs({},r),e),{type:i})}else n=e}return n}var Zc=function(e,t){return e?(Rc(e)?e:[e]).map((function(e){return Kc(e,t)})):[]};function Qc(e){var t=Kc(e);return Gs(Gs({id:Mc(e)?e:t.id},t),{type:t.type})}function Xc(e,t){return{type:tc,event:"function"==typeof e?e:Lc(e),delay:t?t.delay:void 0,id:null==t?void 0:t.id}}function eu(e,t){return{to:t?t.to:void 0,type:nc,event:jc(e)?e:Lc(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:jc(e)?e.name:gc(e)}}var tu=function(e,t,n){return Gs(Gs({},e),{value:Mc(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})},nu=function(e){return{type:rc,sendId:e}};function ru(e){var t=Qc(e);return{type:Fs.Start,activity:t,exec:void 0}}function iu(e){var t=jc(e)?e:Qc(e);return{type:Fs.Stop,activity:t,exec:void 0}}var ou=function(e){return{type:oc,assignment:e}};function au(e,t){var n=t?"#".concat(t):"";return"".concat(Fs.After,"(").concat(e,")").concat(n)}function su(e,t){var n="".concat(Fs.DoneState,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function cu(e,t){var n="".concat(Fs.DoneInvoke,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function uu(e,t){var n="".concat(Fs.ErrorPlatform,".").concat(e);return{type:n,data:t,toString:function(){return n}}}var lu=function(e){var t,n,r=[];try{for(var i=Js(e),o=i.next();!o.done;o=i.next())for(var a=o.value,s=0;s<a.actions.length;)a.actions[s].type!==oc?s++:(r.push(a.actions[s]),a.actions.splice(s,1))}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r};function du(e,t,n,r,i,o,a){void 0===a&&(a=!1);var s=a?[]:lu(i),c=s.length?Tc(n,r,s,t):n,u=a?[n]:void 0,l=[];function d(i,s){var d;switch(s.type){case tc:var f=function(e,t,n,r){var i,o={_event:n},a=zc(jc(e.event)?e.event(t,n.data,o):e.event);if(Mc(e.delay)){var s=r&&r[e.delay];i=jc(s)?s(t,n.data,o):s}else i=jc(e.delay)?e.delay(t,n.data,o):e.delay;return Gs(Gs({},e),{type:tc,_event:a,delay:i})}(s,c,r,e.options.delays);return o&&"number"==typeof f.delay&&o(f,c,r),f;case nc:var p=function(e,t,n,r){var i,o={_event:n},a=zc(jc(e.event)?e.event(t,n.data,o):e.event);if(Mc(e.delay)){var s=r&&r[e.delay];i=jc(s)?s(t,n.data,o):s}else i=jc(e.delay)?e.delay(t,n.data,o):e.delay;var c=jc(e.to)?e.to(t,n.data,o):e.to;return Gs(Gs({},e),{to:c,_event:a,event:a.data,delay:i})}(s,c,r,e.options.delays);if(!_c){var h=s.delay;Dc(!Mc(h)||"number"==typeof p.delay,"No delay reference for delay expression '".concat(h,"' was found on machine '").concat(e.id,"'"))}return o&&p.to!==Ws.Internal&&("entry"===i?l.push(p):o(p,c,r)),p;case ac:var v=tu(s,c,r);return null==o||o(v,c,r),v;case fc:if(!(m=null===(d=s.conds.find((function(n){var i=Uc(n.cond,e.options.guards);return!i||Fc(e,i,c,r,o?void 0:t)})))||void 0===d?void 0:d.actions))return[];var _=Ks(du(e,t,c,r,[{type:i,actions:Zc(Ic(m),e.options.actions)}],o,a),2),y=_[0],g=_[1];return c=g,null==u||u.push(c),y;case pc:var m;if(!(m=s.get(c,r.data)))return[];var b=Ks(du(e,t,c,r,[{type:i,actions:Zc(Ic(m),e.options.actions)}],o,a),2),w=b[0],S=b[1];return c=S,null==u||u.push(c),w;case ec:return v=function(e,t,n){var r=jc(e.activity)?e.activity(t,n.data):e.activity,i="string"==typeof r?{id:r}:r;return{type:Fs.Stop,activity:i}}(s,c,r),null==o||o(v,n,r),v;case oc:c=Tc(c,r,[s],o?void 0:t),null==u||u.push(c);break;default:var E=Kc(s,e.options.actions),k=E.exec;if(o)o(E,c,r);else if(k&&u){var x=u.length-1,A=Gs(Gs({},E),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];k.apply(void 0,Zs([u[x]],Ks(t),!1))}});E=A}return E}}var f=Ac(i.map((function(e){var t,n,i=[];try{for(var a=Js(e.actions),s=a.next();!s.done;s=a.next()){var u=s.value,f=d(e.type,u);f&&(i=i.concat(f))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return l.forEach((function(e){o(e,c,r)})),l.length=0,i})));return[f,c]}var fu=function(e){return"atomic"===e.type||"final"===e.type};function pu(e){return Object.keys(e.states).map((function(t){return e.states[t]}))}function hu(e){return pu(e).filter((function(e){return"history"!==e.type}))}function vu(e){var t=[e];return fu(e)?t:t.concat(Ac(hu(e).map(vu)))}function _u(e,t){var n,r,i,o,a,s,c,u,l=gu(new Set(e)),d=new Set(t);try{for(var f=Js(d),p=f.next();!p.done;p=f.next())for(var h=(E=p.value).parent;h&&!d.has(h);)d.add(h),h=h.parent}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}var v=gu(d);try{for(var _=Js(d),y=_.next();!y.done;y=_.next())if("compound"!==(E=y.value).type||v.get(E)&&v.get(E).length){if("parallel"===E.type)try{for(var g=(a=void 0,Js(hu(E))),m=g.next();!m.done;m=g.next()){var b=m.value;d.has(b)||(d.add(b),l.get(b)?l.get(b).forEach((function(e){return d.add(e)})):b.initialStateNodes.forEach((function(e){return d.add(e)})))}}catch(e){a={error:e}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}}else l.get(E)?l.get(E).forEach((function(e){return d.add(e)})):E.initialStateNodes.forEach((function(e){return d.add(e)}))}catch(e){i={error:e}}finally{try{y&&!y.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}try{for(var w=Js(d),S=w.next();!S.done;S=w.next()){var E;for(h=(E=S.value).parent;h&&!d.has(h);)d.add(h),h=h.parent}}catch(e){c={error:e}}finally{try{S&&!S.done&&(u=w.return)&&u.call(w)}finally{if(c)throw c.error}}return d}function yu(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var r=n[0];if(!r)return{};if(fu(r))return r.key}var i={};return n.forEach((function(e){i[e.key]=yu(e,t)})),i}function gu(e){var t,n,r=new Map;try{for(var i=Js(e),o=i.next();!o.done;o=i.next()){var a=o.value;r.has(a)||r.set(a,[]),a.parent&&(r.has(a.parent)||r.set(a.parent,[]),r.get(a.parent).push(a))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function mu(e,t){return yu(e,gu(_u([e],t)))}function bu(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}function wu(e,t){return"compound"===t.type?hu(t).some((function(t){return"final"===t.type&&bu(e,t)})):"parallel"===t.type&&hu(t).every((function(t){return wu(e,t)}))}function Su(e){return new Set(Ac(e.map((function(e){return e.tags}))))}function Eu(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(Mc(e)||Mc(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return Eu(e[n],t[n])}))}var ku=function(){function e(e){var t,n,r=this;this.actions=[],this.activities=hc,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||hc,this.meta=(void 0===(n=e.configuration)&&(n=[]),n.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return function(e){return Zs([],Ks(new Set(Ac(Zs([],Ks(e.map((function(e){return e.ownEvents}))),!1)))),!1)}(r.configuration)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:qc,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=qc;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),Mc(e))return[e];var r=Object.keys(e);return r.concat.apply(r,Zs([],Ks(r.map((function(r){return n.toStrings(e[r],t).map((function(e){return r+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var n=qs(e,["configuration","transitions","tags","machine"]);return Gs(Gs({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return yc(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;_c&&Dc(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var n=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==n?void 0:n.transitions.length)&&n.transitions.some((function(e){return void 0!==e.target||e.actions.length}))},e}(),xu=[],Au=function(e,t){xu.push(e);var n=t(e);return xu.pop(),n};function Ou(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[Vc]=function(){return this},t}function Iu(e,t,n){var r=Ou(t);if(r.deferred=!0,$c(e)){var i=r.state=Au(void 0,(function(){return(n?e.withContext(n):e).initialState}));r.getSnapshot=function(){return i}}return r}function Cu(e){return Gs(Gs({type:cc},e),{toJSON:function(){e.onDone,e.onError;var t,n=qs(e,["onDone","onError"]);return Gs(Gs({},n),{type:cc,src:(t=e.src,"string"==typeof t?{type:t,toString:function(){return t}}:t)})}})}var Pu="",Nu="*",Tu={},Du=function(e){return"#"===e[0]},Ru=function(){function e(t,n,r,i){void 0===r&&(r="context"in t?t.context:void 0);var o,a=this;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null==i?void 0:i.parent,this.key=this.config.key||(null==i?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||Zs([this.machine.key],Ks(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(o=this.config.schema)&&void 0!==o?o:{},this.description=this.config.description,_c||Dc(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?Sc(this.config.states,(function(t,n){var r,i=new e(t,{},void 0,{parent:a,key:n});return Object.assign(a.idMap,Gs(((r={})[i.id]=i,r),i.idMap)),i})):Tu;var s=0;!function e(t){var n,r;t.order=s++;try{for(var i=Js(pu(t)),o=i.next();!o.done;o=i.next())e(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){return e.event===Pu})):Pu in this.config.on),this.strict=!!this.config.strict,this.onEntry=Ic(this.config.entry||this.config.onEntry).map((function(e){return Kc(e)})),this.onExit=Ic(this.config.exit||this.config.onExit).map((function(e){return Kc(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=Ic(this.config.invoke).map((function(e,t){var n,r;if($c(e)){var i=Yc(a.id,t);return a.machine.options.services=Gs(((n={})[i]=e,n),a.machine.options.services),Cu({src:i,id:i})}if(Mc(e.src))return i=e.id||Yc(a.id,t),Cu(Gs(Gs({},e),{id:i,src:e.src}));if($c(e.src)||jc(e.src))return i=e.id||Yc(a.id,t),a.machine.options.services=Gs(((r={})[i]=e.src,r),a.machine.options.services),Cu(Gs(Gs({id:i},e),{src:i}));var o=e.src;return Cu(Gs(Gs({id:Yc(a.id,t)},e),{src:o}))})),this.activities=Ic(this.config.activities).concat(this.invoke).map((function(e){return Qc(e)})),this.transition=this.transition.bind(this),this.tags=Ic(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||vu(this).forEach((function(e){return e.on}))},e.prototype.withConfig=function(t,n){var r=this.options,i=r.actions,o=r.activities,a=r.guards,s=r.services,c=r.delays;return new e(this.config,{actions:Gs(Gs({},i),t.actions),activities:Gs(Gs({},o),t.activities),guards:Gs(Gs({},a),t.guards),services:Gs(Gs({},s),t.services),delays:Gs(Gs({},c),t.delays)},null!=n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return jc(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Sc(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=e===Pu,n=this.transitions.filter((function(n){var r=n.eventType===e;return t?r:r||n.eventType===Nu}));return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var r=au(jc(t)?"".concat(e.id,":delay[").concat(n,"]"):t,e.id);return e.onEntry.push(eu(r,{delay:t})),e.onExit.push(nu(r)),r};return(Rc(t)?t.map((function(e,t){var r=n(e.delay,t);return Gs(Gs({},e),{event:r})})):Ac(Object.keys(t).map((function(e,r){var i=t[e],o=Mc(i)?{target:i}:i,a=isNaN(+e)?e:+e,s=n(a,r);return Ic(o).map((function(e){return Gs(Gs({},e),{event:s,delay:a})}))})))).map((function(t){var n=t.delay;return Gs(Gs({},e.formatTransition(t)),{delay:n})}))},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof ku?e.value:bc(e,this.delimiter);if(Mc(r)){var i=this.getStateNode(r).initial;return void 0!==i?this.getStateNodes(((t={})[r]=i,t)):[this,this.states[r]]}var o=Object.keys(r),a=[this];return a.push.apply(a,Zs([],Ks(Ac(o.map((function(e){return n.getStateNode(e).getStateNodes(r[e])})))),!1)),a},e.prototype.handles=function(e){var t=gc(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof ku?e:ku.create(e),n=Array.from(_u([],this.getStateNodes(t.value)));return new ku(Gs(Gs({},t),{value:this.resolve(t.value),configuration:n,done:wu(n,this),tags:Su(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var r=Object.keys(e),i=this.getStateNode(r[0])._transition(e[r[0]],t,n);return i&&i.transitions.length?i:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var r,i,o={};try{for(var a=Js(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];if(u){var l=this.getStateNode(c)._transition(u,t,n);l&&(o[c]=l)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}var d=Object.keys(o).map((function(e){return o[e]})),f=Ac(d.map((function(e){return e.transitions})));if(!d.some((function(e){return e.transitions.length>0})))return this.next(t,n);var p=Ac(Object.keys(o).map((function(e){return o[e].configuration})));return{transitions:f,exitSet:Ac(d.map((function(e){return e.exitSet}))),configuration:p,source:t,actions:Ac(Object.keys(o).map((function(e){return o[e].actions})))}},e.prototype._transition=function(e,t,n){return Mc(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,zc(t))},e.prototype.next=function(e,t){var n,r,i,o=this,a=t.name,s=[],c=[];try{for(var u=Js(this.getCandidates(a)),l=u.next();!l.done;l=u.next()){var d=l.value,f=d.cond,p=d.in,h=e.context,v=!p||(Mc(p)&&Du(p)?e.matches(bc(this.getStateNodeById(p).path,this.delimiter)):yc(bc(p,this.delimiter),kc(this.path.slice(0,-2))(e.value))),_=!1;try{_=!f||Fc(this.machine,f,h,t,e)}catch(e){throw new Error("Unable to evaluate guard '".concat(f.name||f.type,"' in transition for event '").concat(a,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(_&&v){void 0!==d.target&&(c=d.target),s.push.apply(s,Zs([],Ks(d.actions),!1)),i=d;break}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if(i){if(!c.length)return{transitions:[i],exitSet:[],configuration:e.value?[this]:[],source:e,actions:s};var y=Ac(c.map((function(t){return o.getRelativeStateNodes(t,e.historyValue)})));return{transitions:[i],exitSet:i.internal?[]:Ac(c.map((function(e){return o.getPotentiallyReenteringNodes(e)}))),configuration:y,source:e,actions:s}}},e.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var t=[],n=this,r=e;n&&n!==r;)t.push(n),n=n.parent;return n!==r?[]:(t.push(r),t)},e.prototype.getActions=function(e,t,n,r,i,o,a){var s,c,u,l,d=this,f=o?_u([],this.getStateNodes(o.value)):[],p=new Set;try{for(var h=Js(Array.from(e).sort((function(e,t){return e.order-t.order}))),v=h.next();!v.done;v=h.next())(!bu(f,g=v.value)||bu(n.exitSet,g)||g.parent&&p.has(g.parent))&&p.add(g)}catch(e){s={error:e}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(s)throw s.error}}try{for(var _=Js(f),y=_.next();!y.done;y=_.next()){var g;bu(e,g=y.value)&&!bu(n.exitSet,g.parent)||n.exitSet.push(g)}}catch(e){u={error:e}}finally{try{y&&!y.done&&(l=_.return)&&l.call(_)}finally{if(u)throw u.error}}n.exitSet.sort((function(e,t){return t.order-e.order}));var m=Array.from(p).sort((function(e,t){return e.order-t.order})),b=new Set(n.exitSet),w=Ac(m.map((function(e){var t=[];if("final"!==e.type)return t;var o=e.parent;if(!o.parent)return t;t.push(su(e.id,e.doneData),su(o.id,e.doneData?Cc(e.doneData,r,i):void 0));var a=o.parent;return"parallel"===a.type&&hu(a).every((function(e){return wu(n.configuration,e)}))&&t.push(su(a.id)),t}))),S=m.map((function(e){var t=e.onEntry,n=e.activities.map((function(e){return ru(e)}));return{type:"entry",actions:Zc(a?Zs(Zs([],Ks(t),!1),Ks(n),!1):Zs(Zs([],Ks(n),!1),Ks(t),!1),d.machine.options.actions)}})).concat({type:"state_done",actions:w.map((function(e){return Xc(e)}))}),E=Array.from(b).map((function(e){return{type:"exit",actions:Zc(Zs(Zs([],Ks(e.onExit),!1),Ks(e.activities.map((function(e){return iu(e)}))),!1),d.machine.options.actions)}})).concat({type:"transition",actions:Zc(n.actions,this.machine.options.actions)}).concat(S);if(t){var k=Zc(Ac(Zs([],Ks(e),!1).sort((function(e,t){return t.order-e.order})).map((function(e){return e.onExit}))),this.machine.options.actions).filter((function(e){return!Gc(e)}));return E.concat({type:"stop",actions:k})}return E},e.prototype.transition=function(e,t,n,r){void 0===e&&(e=this.initialState);var i,o,a=zc(t);if(e instanceof ku)i=void 0===n?e:this.resolveState(ku.from(e,n));else{var s=Mc(e)?this.resolve(wc(this.getResolvedPath(e))):this.resolve(e),c=null!=n?n:this.machine.context;i=this.resolveState(ku.from(s,c))}if(!_c&&a.name===Nu)throw new Error("An event cannot have the wildcard type ('".concat(Nu,"')"));if(this.strict&&!this.events.includes(a.name)&&(o=a.name,!/^(done|error)\./.test(o)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(a.name,"'"));var u=this._transition(i.value,i,a)||{transitions:[],configuration:[],exitSet:[],source:i,actions:[]},l=_u([],this.getStateNodes(i.value)),d=u.configuration.length?_u(l,u.configuration):l;return u.configuration=Zs([],Ks(d),!1),this.resolveTransition(u,i,i.context,r,a)},e.prototype.resolveRaisedTransition=function(e,t,n,r){var i,o=e.actions;return(e=this.transition(e,t,void 0,r))._event=n,e.event=n.data,(i=e.actions).unshift.apply(i,Zs([],Ks(o),!1)),e},e.prototype.resolveTransition=function(e,t,n,r,i){var o,a,s,c,u=this;void 0===i&&(i=qc);var l=e.configuration,d=!t||e.transitions.length>0,f=d?e.configuration:t?t.configuration:[],p=wu(f,this),h=d?mu(this.machine,l):void 0,v=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,_=this.getActions(new Set(f),p,e,n,i,t,r),y=t?Gs({},t.activities):{};try{for(var g=Js(_),m=g.next();!m.done;m=g.next()){var b=m.value;try{for(var w=(s=void 0,Js(b.actions)),S=w.next();!S.done;S=w.next()){var E=S.value;E.type===Xs?y[E.activity.id||E.activity.type]=E:E.type===ec&&(y[E.activity.id||E.activity.type]=!1)}}catch(e){s={error:e}}finally{try{S&&!S.done&&(c=w.return)&&c.call(w)}finally{if(s)throw s.error}}}}catch(e){o={error:e}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}var k,x,A=Ks(du(this,t,n,i,_,r,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),O=A[0],I=A[1],C=Ks(function(e,t){var n,r,i=Ks([[],[]],2),o=i[0],a=i[1];try{for(var s=Js(e),c=s.next();!c.done;c=s.next()){var u=c.value;t(u)?o.push(u):a.push(u)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}(O,Gc),2),P=C[0],N=C[1],T=O.filter((function(e){var t;return e.type===Xs&&(null===(t=e.activity)||void 0===t?void 0:t.type)===cc})),D=T.reduce((function(e,t){return e[t.activity.id]=function(e,t,n,r){var i,o=Wc(e.src),a=null===(i=null==t?void 0:t.options.services)||void 0===i?void 0:i[o.type],s=e.data?Cc(e.data,n,r):void 0,c=a?Iu(a,e.id,s):Ou(e.id);return c.meta=e,c}(t.activity,u.machine,I,i),e}),t?Gs({},t.children):{}),R=new ku({value:h||t.value,context:I,_event:i,_sessionid:t?t._sessionid:null,historyValue:h?v?(k=v,x=h,{current:x,states:Nc(k,x)}):void 0:t?t.historyValue:void 0,history:!h||e.source?t:void 0,actions:h?N:[],activities:h?y:t?t.activities:{},events:[],configuration:f,transitions:e.transitions,children:D,done:p,tags:Su(f),machine:this}),j=n!==I;R.changed=i.name===dc||j;var M=R.history;M&&delete M.history;var U=!p&&(this._transient||l.some((function(e){return e._transient})));if(!(d||U&&i.name!==Pu))return R;var V=R;if(!p)for(U&&(V=this.resolveRaisedTransition(V,{type:ic},i,r));P.length;){var $=P.shift();V=this.resolveRaisedTransition(V,$._event,i,r)}var L=V.changed||(M?!!V.actions.length||j||typeof M.value!=typeof V.value||!Eu(V.value,M.value):void 0);return V.changed=L,V.history=M,V},e.prototype.getStateNode=function(e){if(Du(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=Du(e)?e.slice(1):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&Du(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=mc(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||Tu;switch(this.type){case"parallel":return Sc(this.initialStateValue,(function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):Tu}));case"compound":if(Mc(e)){var r=this.getStateNode(e);return"parallel"===r.type||"compound"===r.type?((t={})[e]=r.initialStateValue,t):e}return Object.keys(e).length?Sc(e,(function(e,t){return e?n.getStateNode(t).resolve(e):Tu})):this.initialStateValue||{};default:return e||Tu}},e.prototype.getResolvedPath=function(e){if(Du(e)){var t=this.machine.idMap[e.slice(1)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return mc(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=Ec(this.states,(function(e){return e.initialStateValue||Tu}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=fu(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=Mc(t.target)&&Du(t.target)?wc(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;return fu(this)?[this]:"compound"!==this.type||this.initial?Ac(xc(this.initialStateValue).map((function(t){return e.getFromRelativePath(t)}))):(_c||Dc(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this])},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=Ks(e),n=t[0],r=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var i=this.getStateNode(n);if("history"===i.type)return i.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(r)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:Ec(this.states,(function(t,n){if(!e)return t.historyValue();var r=Mc(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)}),(function(e){return!e.history}))}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var r=this.target;return r?Ac(xc(r).map((function(e){return n.getFromRelativePath(e)}))):n.initialStateNodes}var i,o=(i=n.path,"states",function(e){var t,n,r=e;try{for(var o=Js(i),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.states[s]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r})(e).current;return Mc(o)?[n.getStateNode(o)]:Ac(xc(o).map((function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]})))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=Ac(Object.keys(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,n,r;if(this.__cache.events)return this.__cache.events;var i=this.states,o=new Set(this.ownEvents);if(i)try{for(var a=Js(Object.keys(i)),s=a.next();!s.done;s=a.next()){var c=i[s.value];if(c.states)try{for(var u=(n=void 0,Js(c.events)),l=u.next();!l.done;l=u.next()){var d=l.value;o.add("".concat(d))}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!Mc(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(e){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}}))},e.prototype.formatTransition=function(e){var t=this,n=function(e){if(void 0!==e&&""!==e)return Ic(e)}(e.target),r="internal"in e?e.internal:!n||n.some((function(e){return Mc(e)&&e[0]===t.delimiter})),i=this.machine.options.guards,o=this.resolveTarget(n),a=Gs(Gs({},e),{actions:Zc(Ic(e.actions)),cond:Uc(e.cond,i),target:o,source:this,internal:r,eventType:e.event,toJSON:function(){return Gs(Gs({},a),{target:a.target?a.target.map((function(e){return"#".concat(e.id)})):void 0,source:"#".concat(t.id)})}});return a},e.prototype.formatTransitions=function(){var e,t,n,r=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var i=this.config.on,o=i[Nu],a=void 0===o?[]:o,s=qs(i,["*"]);n=Ac(Object.keys(s).map((function(e){_c||e!==Pu||Dc(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(r.id,'".'));var t=Bc(e,s[e]);return _c||function(e,t,n){var r=n.slice(0,-1).some((function(e){return!("cond"in e)&&!("in"in e)&&(Mc(e.target)||$c(e.target))})),i=t===Pu?"the transient event":"event '".concat(t,"'");Dc(!r,"One or more transitions for ".concat(i," on state '").concat(e.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")}(r,e,t),t})).concat(Bc(Nu,a)))}else n=[];var c=this.config.always?Bc("",this.config.always):[],u=this.config.onDone?Bc(String(su(this.id)),this.config.onDone):[];_c||Dc(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var l=Ac(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,Zs([],Ks(Bc(String(cu(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,Zs([],Ks(Bc(String(uu(e.id)),e.onError)),!1)),t}))),d=this.after,f=Ac(Zs(Zs(Zs(Zs([],Ks(u),!1),Ks(l),!1),Ks(n),!1),Ks(c),!1).map((function(e){return Ic(e).map((function(e){return r.formatTransition(e)}))})));try{for(var p=Js(d),h=p.next();!h.done;h=p.next()){var v=h.value;f.push(v)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}return f},e}(),ju="AD_UNIT_DISABLED",Mu="AD_UNITS_OVERLAP",Uu="DISPLAY_RESIZE",Vu="VIDEO_CLOSED",$u="VIDEO_DONE",Lu="VIDEO_ERROR",zu="VIDEO_READY",Bu="SET_IS_STICKY_DESKTOP_RUNNING";const Fu=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>!t.map((t=>t(e))).includes(!1)},Wu=(e,t)=>t.map((t=>e.matches(t))).includes(!0),{assign:Hu}=r,Yu=e=>e.videoCampaign,Gu=e=>e.passbackSet,qu=e=>e.persistentDbv,Ju=e=>e.videoTimeoutEnabled;var Ku,Zu,Qu,Xu=(Ku={id:"adUnit",initial:"initial",states:{initial:{always:[{target:"dbv",cond:Fu((e=>e.dbvSet),Yu)},{target:"loader",cond:Yu},{target:"fixedDisplayAd"}]},dbv:{after:{PASSBACK_DELAY:[{actions:"timeoutSkipVideo",cond:Fu(qu,Ju)},{target:"passback",cond:Fu(Gu,Ju)},{target:"allAdsDone",cond:Ju}]},on:{AD_UNITS_OVERLAP:[{actions:"adUnitsOverlap"}],DISPLAY_RESIZE:[{actions:"setDisplayAdSize"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}],VIDEO_READY:"video",VIDEO_ERROR:[{actions:"setSkipVideo",cond:qu},{target:"passback",cond:Gu}],DBV_ERROR:[{target:"loader",cond:(Qu=e=>e.skipVideo,e=>!Qu(e))},{target:"passback",cond:Gu},{target:"allAdsDone"}]}},loader:{on:{AD_UNITS_OVERLAP:[{actions:"adUnitsOverlap"}],DISPLAY_RESIZE:[{actions:"setDisplayAdSize"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}],VIDEO_READY:"video",VIDEO_ERROR:[{target:"passback",cond:Gu},{target:"allAdsDone"}]}},video:{on:{AD_UNITS_OVERLAP:[{actions:"adUnitsOverlap"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}],VIDEO_DONE:[{target:"passback",cond:Gu},{target:"allAdsDone"}],VIDEO_CLOSED:[{target:"passback",cond:Gu},{target:"allAdsDone"}],VIDEO_ERROR:[{target:"passback",cond:Gu},{target:"allAdsDone"}]}},fixedDisplayAd:{on:{AD_UNITS_OVERLAP:[{actions:"adUnitsOverlap"}],DISPLAY_RESIZE:[{actions:"setDisplayAdSize"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}]}},passback:{on:{AD_UNITS_OVERLAP:[{actions:"adUnitsOverlap"}],DISPLAY_RESIZE:[{actions:"setDisplayAdSize"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}]}},allAdsDone:{type:"final"},adUnitDisabled:{type:"final"}},on:{AD_UNIT_DISABLED:"adUnitDisabled"}},void 0===Zu&&(Zu=Ku.context),new Ru(Ku,void 0,Zu)).withConfig({actions:{setSkipVideo:Hu({skipVideo:!0}),timeoutSkipVideo:Hu({skipVideo:!0,videoTimeoutEnabled:!1}),setDisplayAdSize:Hu({displayAdSize:(e,t)=>t.type===Uu?t.payload:e.displayAdSize}),setIsStickyDesktopRunning:Hu({isStickyDesktopRunning:(e,t)=>t.type===Bu?t.payload:e.isStickyDesktopRunning}),adUnitsOverlap:Hu({isAdUnitsOverlapDetected:(e,t)=>t.type===Mu||e.isAdUnitsOverlapDetected})},delays:{PASSBACK_DELAY:(e,t)=>e.videoTimeoutEnabled&&e.passbackInterval?Math.max(e.passbackInterval,1)*te:0}}),el=n(798),tl={deferEvents:!1},nl=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=Gs(Gs({},tl),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}(),rl=new Map,il=0,ol=function(e){rl.delete(e)};function al(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void(_c||console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues"))}var sl,cl,ul={sync:!1,autoForward:!1};(cl=sl||(sl={}))[cl.NotStarted=0]="NotStarted",cl[cl.Running=1]="Running",cl[cl.Stopped=2]="Stopped";var ll=function(){function e(t,n){void 0===n&&(n=e.defaultOptions);var r=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=sl.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if(Rc(e))return r.batch(e),r.state;var n=zc(Lc(e,t));if(r.status===sl.Stopped)return _c||Dc(!1,'Event "'.concat(n.name,'" was sent to stopped service "').concat(r.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(n.data))),r.state;if(r.status!==sl.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(r.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return r.scheduler.schedule((function(){r.forward(n);var e=r._nextState(n);r.update(e,n)})),r._state},this.sendTo=function(e,t,n){var i,o=r.parent&&(t===Ws.Parent||r.parent.id===t),a=o?r.parent:Mc(t)?t===Ws.Internal?r:r.children.get(t)||function(e){return rl.get(e)}(t):(i=t)&&"function"==typeof i.send?t:void 0;if(a)if("machine"in a){if(r.status!==sl.Stopped||r.parent!==a||r.state.done){var s=Gs(Gs({},e),{name:e.name===lc?"".concat(uu(r.id)):e.name,origin:r.sessionId});!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([a,s]):a.send(s)}}else!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([a,e.data]):a.send(e.data);else{if(!o)throw new Error("Unable to send event to child '".concat(t,"' from service '").concat(r.id,"'."));_c||Dc(!1,"Service '".concat(r.id,"' has no parent: unable to send event ").concat(e.type))}},this._exec=function(e,t,n,i){void 0===i&&(i=r.machine.options.actions);var o=e.exec||Jc(e.type,i),a=jc(o)?o:o?o.exec:e.exec;if(a)try{return a(t,n.data,r.machine.config.predictableActionArguments?{action:e,_event:n}:{action:e,state:r.state,_event:n})}catch(e){throw r.parent&&r.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case tc:var s=e;r.defer(s);break;case nc:var c=e;if("number"==typeof c.delay)return void r.defer(c);c.to?r.sendTo(c._event,c.to,n===qc):r.send(c._event);break;case rc:r.cancel(e.sendId);break;case Xs:if(r.status!==sl.Running)return;var u=e.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[u.id||u.type])break;if(u.type===Fs.Invoke){var l=Wc(u.src),d=r.machine.options.services?r.machine.options.services[l.type]:void 0,f=u.id,p=u.data;_c||Dc(!("forward"in u),"`forward` property is deprecated (found in invocation of '".concat(u.src,"' in in machine '").concat(r.machine.id,"'). ")+"Please use `autoForward` instead.");var h="autoForward"in u?u.autoForward:!!u.forward;if(!d)return void(_c||Dc(!1,"No service found for invocation '".concat(u.src,"' in machine '").concat(r.machine.id,"'.")));var v=p?Cc(p,t,n):void 0;if("string"==typeof d)return;var _=jc(d)?d(t,n.data,{data:v,src:l,meta:u.meta}):d;if(!_)return;var y=void 0;$c(_)&&(_=v?_.withContext(v):_,y={autoForward:h}),r.spawn(_,f,y)}else r.spawnActivity(u);break;case ec:r.stopChild(e.activity.id);break;case ac:var g=e,m=g.label,b=g.value;m?r.logger(m,b):r.logger(b);break;default:_c||Dc(!1,"No implementation found for action type '".concat(e.type,"'"))}};var i=Gs(Gs({},e.defaultOptions),n),o=i.clock,a=i.logger,s=i.parent,c=i.id,u=void 0!==c?c:t.id;this.id=u,this.logger=a,this.clock=o,this.parent=s,this.options=i,this.scheduler=new nl({deferEvents:this.options.deferEvents}),this.sessionId="x:".concat(il++)}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:Au(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return _c||Dc(this.status!==sl.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,r;try{for(var i=Js(e.actions),o=i.next();!o.done;o=i.next()){var a=o.value;this.exec(a,e,t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,r,i,o,a,s,c,u,l=this;if(e._sessionid=this.sessionId,this._state=e,this.machine.config.predictableActionArguments&&t!==qc||!this.options.execute)for(var d=void 0;d=this._outgoingQueue.shift();)d[0].send(d[1]);else this.execute(this.state);if(this.children.forEach((function(e){l.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var f=Js(this.eventListeners),p=f.next();!p.done;p=f.next())(0,p.value)(e.event)}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}try{for(var h=Js(this.listeners),v=h.next();!v.done;v=h.next())(0,v.value)(e,e.event)}catch(e){i={error:e}}finally{try{v&&!v.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}try{for(var _=Js(this.contextListeners),y=_.next();!y.done;y=_.next())(0,y.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(e){a={error:e}}finally{try{y&&!y.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}if(this.state.done){var g=e.configuration.find((function(e){return"final"===e.type&&e.parent===l.machine})),m=g&&g.doneData?Cc(g.doneData,e.context,t):void 0;this._doneEvent=cu(this.id,m);try{for(var b=Js(this.doneListeners),w=b.next();!w.done;w=b.next())(0,w.value)(this._doneEvent)}catch(e){c={error:e}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(c)throw c.error}}this._stop(),this._stopChildren(),ol(this.sessionId)}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===sl.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var r=this,i=Hc(e,t,n);this.listeners.add(i.next),this.status!==sl.NotStarted&&i.next(this.state);var o=function(){r.doneListeners.delete(o),r.stopListeners.delete(o),i.complete()};return this.status===sl.Stopped?i.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){r.listeners.delete(i.next),r.doneListeners.delete(o),r.stopListeners.delete(o)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.status===sl.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t,n,r=this;if(this.status===sl.Running)return this;this.machine._init(),t=this.sessionId,n=this,rl.set(t,n),this.initialized=!0,this.status=sl.Running;var i=void 0===e?this.initialState:Au(this,(function(){return"object"==typeof(t=e)&&null!==t&&"value"in t&&"_event"in t?r.machine.resolveState(e):r.machine.resolveState(ku.from(e,r.machine.context));var t}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){r.update(i,qc)})),this},e.prototype._stopChildren=function(){this.children.forEach((function(e){jc(e.stop)&&e.stop()})),this.children.clear()},e.prototype._stop=function(){var e,t,n,r,i,o,a,s,c,u;try{for(var l=Js(this.listeners),d=l.next();!d.done;d=l.next()){var f=d.value;this.listeners.delete(f)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}try{for(var p=Js(this.stopListeners),h=p.next();!h.done;h=p.next())(f=h.value)(),this.stopListeners.delete(f)}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}try{for(var v=Js(this.contextListeners),_=v.next();!_.done;_=v.next())f=_.value,this.contextListeners.delete(f)}catch(e){i={error:e}}finally{try{_&&!_.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}try{for(var y=Js(this.doneListeners),g=y.next();!g.done;g=y.next())f=g.value,this.doneListeners.delete(f)}catch(e){a={error:e}}finally{try{g&&!g.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=sl.Stopped,this._initialState=void 0;try{for(var m=Js(Object.keys(this.delayedEventsMap)),b=m.next();!b.done;b=m.next()){var w=b.value;this.clock.clearTimeout(this.delayedEventsMap[w])}}catch(e){c={error:e}}finally{try{b&&!b.done&&(u=m.return)&&u.call(m)}finally{if(c)throw c.error}}this.scheduler.clear(),this.scheduler=new nl({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule((function(){var t=zc({type:"xstate.stop"}),n=Au(e,(function(){var n=Ac(Zs([],Ks(e.state.configuration),!1).sort((function(e,t){return t.order-e.order})).map((function(t){return Zc(t.onExit,e.machine.options.actions)}))),r=Ks(du(e.machine,e.state,e.state.context,t,[{type:"exit",actions:n}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),i=r[0],o=r[1],a=new ku({value:e.state.value,context:o,_event:t,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:i.filter((function(e){return!Gc(e)})),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return a.changed=!0,a}));e.update(n,t),e._stopChildren(),ol(e.sessionId)})),this},e.prototype.batch=function(e){var t=this;if(this.status===sl.NotStarted&&this.options.deferEvents)_c||Dc(!1,"".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==sl.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule((function(){var r,i,o=t.state,a=!1,s=[],c=function(e){var r=zc(e);t.forward(r),o=Au(t,(function(){return t.machine.transition(o,r,void 0,n||void 0)})),s.push.apply(s,Zs([],Ks(t.machine.config.predictableActionArguments?o.actions:o.actions.map((function(e){return function(e,t){var n=e.exec;return Gs(Gs({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})}(e,o)}))),!1)),a=a||!!o.changed};try{for(var u=Js(e),l=u.next();!l.done;l=u.next())c(l.value)}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}o.changed=a,o.actions=s,t.update(o,zc(e[e.length-1]))}))}},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e,t){var n=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var r=zc(e);if(0===r.name.indexOf(uc)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(uc)})))throw r.data.data;return Au(this,(function(){return n.machine.transition(n.state,r,void 0,t||void 0)}))},e.prototype.nextState=function(e){return this._nextState(e,!1)},e.prototype.forward=function(e){var t,n;try{for(var r=Js(this.forwardTo),i=r.next();!i.done;i=r.next()){var o=i.value,a=this.children.get(o);if(!a)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));a.send(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this,n=this.clock.setTimeout((function(){"to"in e&&e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)}),e.delay);e.id&&(this.delayedEventsMap[e.id]=n)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions),this._exec(e,t.context,t._event,n)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),jc(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if(this.status!==sl.Running)return Iu(e,t);if(Pc(e))return this.spawnPromise(Promise.resolve(e),t);if(jc(e))return this.spawnCallback(e,t);if(function(e){try{return"function"==typeof e.send}catch(e){return!1}}(i=e)&&"id"in i)return this.spawnActor(e,t);if(function(e){try{return"subscribe"in e&&jc(e.subscribe)}catch(e){return!1}}(e))return this.spawnObservable(e,t);if($c(e))return this.spawnMachine(e,Gs(Gs({},n),{id:t}));if(null!==(r=e)&&"object"==typeof r&&"transition"in r&&"function"==typeof r.transition)return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'));var r,i},e.prototype.spawnMachine=function(t,n){var r=this;void 0===n&&(n={});var i=new e(t,Gs(Gs({},this.options),{parent:this,id:n.id||t.id})),o=Gs(Gs({},ul),n);o.sync&&i.onTransition((function(e){r.send(dc,{state:e,id:i.id})}));var a=i;return this.children.set(i.id,a),o.autoForward&&this.forwardTo.add(i.id),i.onDone((function(e){r.removeChild(i.id),r.send(zc(e,{origin:i.id}))})).start(),a},e.prototype.spawnBehavior=function(e,t){var n=function(e,t){void 0===t&&(t={});var n=e.initialState,r=new Set,i=[],o=!1,a=function(e){var t;return Gs(((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[Vc]=function(){return this},t),e)}({id:t.id,send:function(t){i.push(t),function(){if(!o){for(o=!0;i.length>0;){var t=i.shift();n=e.transition(n,t,s),r.forEach((function(e){return e.next(n)}))}o=!1}}()},getSnapshot:function(){return n},subscribe:function(e,t,i){var o=Hc(e,t,i);return r.add(o),o.next(n),{unsubscribe:function(){r.delete(o)}}}}),s={parent:t.parent,self:a,id:t.id||"anonymous",observers:r};return n=e.start?e.start(s):n,a}(e,{id:t,parent:this});return this.children.set(t,n),n},e.prototype.spawnPromise=function(e,t){var n,r,i=this,o=!1;e.then((function(e){o||(r=e,i.removeChild(t),i.send(zc(cu(t,e),{origin:t})))}),(function(e){if(!o){i.removeChild(t);var n=uu(t,e);try{i.send(zc(n,{origin:t}))}catch(r){!function(e,t,n){if(!_c){var r=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";if(e===t)console.error("Missing onError handler for invocation '".concat(n,"', error was '").concat(e,"'.").concat(r));else{var i=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(n,"'. ")+"Original error: '".concat(e,"'. ").concat(r," Current error is '").concat(t,"'.").concat(i))}}}(e,r,t),i.devTools&&i.devTools.send(n,i.state),i.machine.strict&&i.stop()}}}));var a=((n={id:t,send:function(){},subscribe:function(t,n,r){var i=Hc(t,n,r),o=!1;return e.then((function(e){o||(i.next(e),o||i.complete())}),(function(e){o||i.error(e)})),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[Vc]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnCallback=function(e,t){var n,r,i,o=this,a=!1,s=new Set,c=new Set;try{i=e((function(e){r=e,c.forEach((function(t){return t(e)})),a||o.send(zc(e,{origin:t}))}),(function(e){s.add(e)}))}catch(e){this.send(uu(t,e))}if(Pc(i))return this.spawnPromise(i,t);var u=((n={id:t,send:function(e){return s.forEach((function(t){return t(e)}))},subscribe:function(e){var t=Hc(e);return c.add(t.next),{unsubscribe:function(){c.delete(t.next)}}},stop:function(){a=!0,jc(i)&&i()},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[Vc]=function(){return this},n);return this.children.set(t,u),u},e.prototype.spawnObservable=function(e,t){var n,r,i=this,o=e.subscribe((function(e){r=e,i.send(zc(e,{origin:t}))}),(function(e){i.removeChild(t),i.send(zc(uu(t,e),{origin:t}))}),(function(){i.removeChild(t),i.send(zc(cu(t),{origin:t}))})),a=((n={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:t}}})[Vc]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}else _c||Dc(!1,"No implementation found for activity '".concat(e.type,"'"))},e.prototype.spawnEffect=function(e,t){var n;this.children.set(e,((n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[Vc]=function(){return this},n))},e.prototype.attachDev=function(){var e=al();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(Gs(Gs({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:Gs({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}!function(e){if(al()){var t=function(){var e=al();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[Vc]=function(){return this},e.prototype.getSnapshot=function(){return this.status===sl.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},e.interpret=dl,e}();function dl(e,t){return new ll(e,t)}var fl=i.useLayoutEffect;function pl(e){var t=i.useRef();return t.current||(t.current={v:e()}),t.current.v}var hl=function(){return hl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hl.apply(this,arguments)};function vl(e,t){var n=pl((function(){return"function"==typeof e?e():e})),r=t.context,i=t.guards,o=t.actions,a=t.activities,s=t.services,c=t.delays,u=(t.state,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["context","guards","actions","activities","services","delays","state"])),l=pl((function(){var e={context:r,guards:i,actions:o,activities:a,services:s,delays:c};return dl(n.withConfig(e,(function(){return hl(hl({},n.context),r)})),u)}));return fl((function(){Object.assign(l.machine.options.actions,o),Object.assign(l.machine.options.guards,i),Object.assign(l.machine.options.activities,a),Object.assign(l.machine.options.services,s),Object.assign(l.machine.options.delays,c)}),[o,i,a,s,c]),l}function _l(e){return"state"in e&&"machine"in e}function yl(e,t,n){if(e.status===sl.NotStarted)return!0;var r=void 0===n.changed&&(Object.keys(n.children).length>0||"boolean"==typeof t.changed);return!(n.changed||r)}function gl(e){return e}var ml=(0,i.createContext)(void 0),bl=e=>{let{machine:t,children:n}=e;const[,,r]=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,1)[0],o=void 0===r?{}:r,a=vl(e,o),s=(0,i.useCallback)((function(){return a.status===sl.NotStarted?o.state?ku.create(o.state):a.machine.initialState:a.getSnapshot()}),[a]),c=(0,i.useCallback)((function(e,t){return yl(a,e,t)}),[a]),u=(0,i.useCallback)((function(e){return a.subscribe(e).unsubscribe}),[a]),l=(0,el.useSyncExternalStoreWithSelector)(u,s,s,gl,c);return(0,i.useEffect)((function(){var e=o.state;return a.start(e?ku.create(e):void 0),function(){a.stop(),a.status=sl.NotStarted}}),[]),[l,a.send,a]}(t),o=r;return(0,i.useEffect)((()=>{bn.isDebugMode&&bn.isVerboseLoggingEnabled&&(e=>{e.subscribe((e=>{En(!0,"XState event",e)}))})(o)}),[]),i.default.createElement(ml.Provider,{value:o},n)};function wl(e){return e}function Sl(e){return"getSnapshot"in e?_l(e)?0!==(t=e).status?t.getSnapshot():t.machine.initialState:e.getSnapshot():function(e){return"state"in e}(e)?e.state:void 0;var t}var El=function(){const e=(0,i.useContext)(ml);if(void 0===e)throw new Error("useAdFlow must be used within a FlowContext.Provider");return function(e,t){void 0===t&&(t=Sl);var n=(0,i.useRef)(e),r=(0,i.useRef)([]),o=(0,i.useCallback)((function(t){return e.subscribe(t).unsubscribe}),[e]),a=(0,i.useCallback)((function(){return t(e)}),[e,t]),s=(0,i.useCallback)((function(t,n){return _l(e)?yl(e,t,n):t===n}),[e]),c=(0,el.useSyncExternalStoreWithSelector)(o,a,a,wl,s),u=pl((function(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],o=n.current;(function(e){return"deferred"in e})(o)&&o.deferred?r.current.push(i):o.send(i)}}));return fl((function(){for(n.current=e;r.current.length>0;){var t=r.current.shift();e.send(t)}}),[e]),[c,u]}(e)},kl=(e,t)=>{(0,i.useEffect)((()=>{const t=e();return()=>{t.then((e=>null!=e&&e()))}}),t)};function xl(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Et;++t<n;)this.add(e[t])}xl.prototype.add=xl.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},xl.prototype.has=function(e){return this.__data__.has(e)};var Al=xl,Ol=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Il=function(e,t){return e.has(t)},Cl=function(e,t,n,r,i,o){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(e),l=o.get(t);if(u&&l)return u==t&&l==e;var d=-1,f=!0,p=2&n?new Al:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var h=e[d],v=t[d];if(r)var _=a?r(v,h,d,t,e,o):r(h,v,d,e,t,o);if(void 0!==_){if(_)continue;f=!1;break}if(p){if(!Ol(t,(function(e,t){if(!Il(p,t)&&(h===e||i(h,e,n,r,o)))return p.push(t)}))){f=!1;break}}else if(h!==v&&!i(h,v,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f},Pl=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},Nl=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Tl=Ve?Ve.prototype:void 0,Dl=Tl?Tl.valueOf:void 0,Rl=Object.prototype.propertyIsEnumerable,jl=Object.getOwnPropertySymbols,Ml=jl?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(jl(e),(function(t){return Rl.call(e,t)})))}:function(){return[]},Ul=function(e){return Sr(e)?Ci(e):Qn(e)},Vl=function(e){return function(e,t,n){var r=t(e);return Re(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ul,Ml)},$l=Object.prototype.hasOwnProperty,Ll="[object Arguments]",zl="[object Array]",Bl="[object Object]",Fl=Object.prototype.hasOwnProperty,Wl=function(e,t,n,r,i,o){var a=Re(e),s=Re(t),c=a?zl:hr(e),u=s?zl:hr(t),l=(c=c==Ll?Bl:c)==Bl,d=(u=u==Ll?Bl:u)==Bl,f=c==u;if(f&&Ar(e)){if(!Ar(t))return!1;a=!0,l=!1}if(f&&!l)return o||(o=new ri),a||Rr(e)?Cl(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new fi(e),new fi(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return vt(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Pl;case"[object Set]":var c=1&r;if(s||(s=Nl),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=Cl(s(e),s(t),r,i,o,a);return a.delete(e),l;case"[object Symbol]":if(Dl)return Dl.call(e)==Dl.call(t)}return!1}(e,t,c,n,r,i,o);if(!(1&n)){var p=l&&Fl.call(e,"__wrapped__"),h=d&&Fl.call(t,"__wrapped__");if(p||h){var v=p?e.value():e,_=h?t.value():t;return o||(o=new ri),i(v,_,n,r,o)}}return!!f&&(o||(o=new ri),function(e,t,n,r,i,o){var a=1&n,s=Vl(e),c=s.length;if(c!=Vl(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:$l.call(t,l)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var p=!0;o.set(e,t),o.set(t,e);for(var h=a;++u<c;){var v=e[l=s[u]],_=t[l];if(r)var y=a?r(_,v,l,t,e,o):r(v,_,l,e,t,o);if(!(void 0===y?v===_||i(v,_,n,r,o):y)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var g=e.constructor,m=t.constructor;g==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,o))},Hl=function e(t,n,r,i,o){return t===n||(null==t||null==n||!Ye(t)&&!Ye(n)?t!=t&&n!=n:Wl(t,n,r,i,e,o))},Yl=function(e,t){return Hl(e,t)};const Gl=e=>({engine_status:"engine-will-initialize",row:e.row,column:e.column}),ql=(0,i.createContext)({adCallIds:{[P.Dfp]:"",[P.Aniview]:"",[P.Browsi]:"",[P.AniviewAC]:""},regenerateAdCallId:()=>{}});var Jl=e=>{let{tag:t,adType:n,campaignId:r,adUnitIdFormatted:o}=e;const[a,s]=El(),c=(0,i.useRef)(!0),{regenerateAdCallId:u}=(0,i.useContext)(ql),{trackEvent:l}=no({layout:"display",campaign_id:r,...ho(t)}),{adsConfig:d,reportingModuleName:f}=a.context,{size:{width:p,height:h}}=t,v=n===O?C:I,_=(0,i.useCallback)((e=>{const{isEmpty:t}=e,[n,r]=((e,t,n)=>{if(Array.isArray(e.size)&&e.size.every((e=>e>0))){const[t,n]=e.size;if(((e,t)=>e>10&&t>10)(t,n))return[`${t}px`,`${n}px`]}return[t,n]})(e,p,h);if(s({type:Uu,payload:[n,r]}),t){Hr({metric:"dfp-empty-slot-rendered"});const e=(e=>({engine_status:"dfp-empty",reportingAdType:e}))(v);return void l(e)}(e=>{let{dataSource:t,product:n}=e;Hr({metric:"dfp-ad-slot-rendered",tags:{[be]:os(),[we]:t,[Se]:as(),[Ee]:n}})})({dataSource:d.dataSource,product:f});const i=(e=>({engine_status:"dfp-slot-render-ended",reportingAdType:e}))(v);l(i)}),[d.dataSource,v,f,s,h,p,l]),y=(0,i.useCallback)((()=>{const e=(e=>({engine_status:"dfp-slot-on-load",reportingAdType:e}))(v);l(e)}),[v,l]),g=(0,i.useCallback)((()=>{const e=(e=>({engine_status:"dfp-slot-requested",reportingAdType:e}))(v);l(e),c.current?c.current=!1:u(P.Dfp)}),[u,v,l]),m=(0,i.useCallback)((()=>{const e=(e=>({engine_status:"dfp-slot-response-received",reportingAdType:e}))(v);l(e)}),[v,l]),b=(0,i.useCallback)((()=>{(e=>{let{product:t}=e;Hr({metric:"dfp-impression-viewable",tags:{[be]:os(),[Se]:as(),[Ee]:t}})})({product:f});const e=(e=>({engine_status:"dfp-impression-viewable",reportingAdType:e}))(v);l(e)}),[v,f,l]);(0,i.useEffect)((()=>{const e=((e,t)=>{let{slotRenderEnded:n,slotOnLoad:r,slotRequested:i,slotResponseReceived:o,impressionViewable:a}=t;const s=`dfpEvent-${e}`;return c=s,u=e=>{switch(En(!0,s,e),e.detail.type){case lo:return i?.(e.detail);case fo:return o?.(e.detail);case uo:return n?.(e.detail);case so:return a?.(e.detail);case co:return r?.(e.detail)}},window.addEventListener(c,u),()=>window.removeEventListener(c,u);var c,u})(o,{slotRenderEnded:_,slotOnLoad:y,slotRequested:g,slotResponseReceived:m,impressionViewable:b});if(e)return()=>e()}),[o,b,y,_,g,m,f])},Kl={InView:"IN_VIEW",OutOfViewBottom:"OUT_OF_VIEW_BOTTOM",OutOfViewTop:"OUT_OF_VIEW_TOP"},Zl=function(e){let{intersectionObserverOptions:t,isEnabled:n,target:r,callback:o}=e;return function(e){let{intersectionObserverOptions:t,isEnabled:n,target:r,callback:o}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const s=(0,i.useCallback)((()=>{if(!r)return;const e=new IntersectionObserver(o,t);return e.observe(r),()=>e.disconnect()}),[r,...a]);(0,i.useEffect)((()=>{if(!n)return;const e=s();return()=>{e&&e()}}),[n,s])}({intersectionObserverOptions:t,isEnabled:n,target:r,callback:e=>{const t=e.sort(((e,t)=>e.time-t.time)),n=t[t.length-1];n&&(n.isIntersecting?o(Kl.InView,n):n.boundingClientRect.top<0?o(Kl.OutOfViewBottom,n):o(Kl.OutOfViewTop,n))}},arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])},Ql=e=>(0,i.useMemo)((()=>(e=>e.getRootNode()instanceof ShadowRoot)(e)),[e]),Xl=e=>{let{isEnabled:t,callback:n,throttleTimeout:r=500}=e;const o=(0,i.useCallback)((()=>{const e=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Ke(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),gs(e,t,{leading:r,maxWait:t,trailing:i})}(n,r);return n(),window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[n,r]);(0,i.useEffect)((()=>{if(!t)return;const e=o();return()=>{e&&e()}}),[t,o])};const ed=(e,t)=>e===t;function td(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ed;const n=(0,i.useRef)(),r=(0,i.useRef)(e);return t(r.current,e)||(n.current=r.current,r.current=e),n.current}var nd=function(e){return!0===e||!1===e||Ye(e)&&"[object Boolean]"==He(e)},rd=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;const[o,a]=(0,i.useState)(!1),s=(0,i.useRef)(null),c=(0,i.useRef)(null),u=(0,i.useRef)(),l=(0,i.useRef)(t),d=(()=>{const[,e]=(0,i.useReducer)((e=>e+1),0);return e})();(0,i.useEffect)((()=>{l.current=t}),[t]);!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(0,i.useRef)(null);(0,i.useEffect)((()=>{n.current=e}),[e]),(0,i.useEffect)((()=>{if(null!==t){const e=setInterval((()=>{n.current&&n.current(t)}),t);return()=>{clearInterval(e)}}}),[t])}((0,i.useCallback)((e=>{e&&c.current&&(c.current=c.current-e,d())}),[d]),o?r:null);const f=(0,i.useCallback)((()=>{a(!0);const t=c.current??e;s.current=Date.now(),c.current=t,u.current&&clearTimeout(u.current),t&&(u.current=setTimeout((()=>{a(!1),s.current=null,c.current=null,l.current()}),t))}),[e]),p=(0,i.useCallback)((()=>{a(!1),u.current&&clearTimeout(u.current)}),[]),h=(0,i.useCallback)((()=>{a(!1),c.current=null,s.current=null,u.current&&clearTimeout(u.current)}),[]);return(0,i.useEffect)((()=>{n&&f()}),[n,f]),{startTimer:f,pauseTimer:p,stopTimer:h,remainingTime:c.current??0}},id=e=>{const[t,n]=(0,i.useState)(!1);return kl((async()=>{try{await(e=>{const{featherModeBehavior:t,delayType:n,delayTime:r}={featherModeBehavior:On("tenant_config.ads.feather_mode_behavior","aggressive"),delayType:On("tenant_config.ads.feather_mode_delay_type",k),delayTime:On("tenant_config.ads.feather_mode_delay_time")};return t!==e?Promise.resolve():"time"===n&&null!=r?Promise.race([(i=r,new Promise((e=>setTimeout(e,i)))),Cs()]):n===k?Cs():Promise.resolve();var i})(e)}catch(e){kn(!0,"Feather mode runtime error",e)}n(!0)}),[]),t},od=function(e,t,n){return null==e?e:function(e,t,n,r){if(!Ke(e))return e;for(var i=-1,o=(t=Dt(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var c=Rt(t[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var l=s[c];void 0===(u=r?r(l,c,s):void 0)&&(u=Ke(l)?l:Oi(t[i+1])?[]:{})}xi(s,c,u),s=s[c]}return e}(e,t,n)};const ad=On("tenant_config.ads.ads_config_mock_endpoint","https://prod-ow-ads-mocks.s3.amazonaws.com/owa-gw"),sd=async e=>{let[t,n]=e;try{const e=await bo(`${ad}/${n}`);if(!e)return;return[t,e]}catch(e){kn(!0,"Fetch ads config mock error",e)}},cd=()=>{const e=Ha(D);if(e)if((()=>{const e=Ha(R);try{const t=Number(e);return!t||t<=Date.now()}catch(e){return!0}})()||(()=>{const e=Dn()?.cache_version;return Ha(j)!==e})())ud();else try{const t=JSON.parse(e);return En(!0,"Ads config is taken from cache"),t}catch(e){kn(!0,"Ads config from cache parse error",e)}},ud=()=>{Ya(D),Ya(R),Ya(j)},ld=e=>{let{adsConfig:t,cacheExpirationInterval:n,cacheVersion:r}=e;const i=Date.now()+n;Ga(D,JSON.stringify(t)),Ga(R,String(i)),Ga(j,r)},dd=e=>{const t="Cache";return(e=>{let{dataSource:t}=e;Hr({metric:"ads-config-fetched",tags:{[we]:t}})})({dataSource:t}),{adsConfig:e,dataSource:t}},fd=e=>({adsConfig:e,dataSource:"Network"}),pd=async e=>{let{fetchSettings:t,postId:n,spotId:r}=e;const i=(e=>{const{endpoints:t,launcherEnv:n}=bn,r=n.isProduction?t.apiAdsConfig.production:t.apiAdsConfig.staging,i=Dn(),o=new URL(`${r}/${e}/${i.endpoint_version}`);return"true"===ln().get(M)&&o.searchParams.append(M,"true"),o.href})(r),o=((e,t)=>({"x-access-token":localStorage.getItem("SPOTIM_ACCESS_TOKEN"),"x-guid":ja(),"x-post-id":e,"x-spot-id":t,"x-spotim-page-view-id":s.config.pageViewId}))(n,r);try{const e=await Za((()=>bo(i,{headers:o,credentials:"include"})),t.request_retry_count,t.request_retry_timeout);return En(!0,"Fetch ads config success",e),e}catch(e){const t=Da(e);kn(!0,"Fetch ads config error",t),(e=>{Wr({metric:he,error:Hn(e,he)})})(t)}},hd=async e=>{let{fetchSettings:t,postId:n,spotId:r}=e;const i=cd(),o=pd({fetchSettings:t,postId:n,spotId:r}).then((e=>{if(e?.success)return ld({adsConfig:e,cacheExpirationInterval:t.cache_expiration_interval,cacheVersion:t.cache_version}),fd(e)}));return i?dd(i):o},vd=async e=>{let{fetchSettings:t,postId:n,spotId:r}=e;const i=cd();if(i)return dd(i);const o=await pd({fetchSettings:t,postId:n,spotId:r});return o&&ld({adsConfig:o,cacheExpirationInterval:t.cache_expiration_interval,cacheVersion:t.cache_version}),fd(o)},_d=async e=>{let{fetchSettings:t,postId:n,spotId:r}=e;return new Promise((async e=>{const i=cd();let o,a=!1;const s=()=>{a||(a=!0,e(dd(i)))};i&&(o=setTimeout(s,t.response_delay_timeout));const c=await pd({fetchSettings:t,postId:n,spotId:r}),u=c?.success;clearTimeout(o),u&&ld({adsConfig:c,cacheExpirationInterval:t.cache_expiration_interval,cacheVersion:t.cache_version}),a||(u||!i?e(fd(c)):s())}))},yd=async e=>{let{fetchSettings:t,postId:n,spotId:r}=e;const i=await pd({fetchSettings:t,postId:n,spotId:r});return ud(),fd(i)},gd=(e,t)=>{const{campaigns:n,...r}=e,i=[],o=Object.keys(n);return o.length?o.forEach((e=>{n[e]&&i.push({[e]:{...r,dataSource:t,campaigns:n[e]}})})):Hr({metric:"ads-config-no-campaigns"}),i},md=async()=>{const e=await(async()=>{const e={CACHE_FIRST:hd,CACHE_ONLY:vd,NETWORK_FIRST:_d,[Pn]:yd},t=Dn(),n=In(),r=Cn(),i=e[t.fetch_strategy],o=e[Pn];return i?.({fetchSettings:t,postId:n,spotId:r})??o({fetchSettings:t,postId:n,spotId:r})})();if(!e?.adsConfig?.success)return;const{adsConfig:t,dataSource:n}=e,{envelope_id:r,platform:i,geo:o}=t,a=(()=>{const e=[...ln().entries()].map((e=>{let[t,n]=e;if(t.startsWith(U))return[t===U?"*":t.split(`${U}.`)[1],n]})).filter(Boolean);return e.length?e:(()=>{const e=Ha("OW_OVERRIDE_ADS_CONFIG");if(!e)return[];if(e.match(/^[a-zA-Z0-9_-]+\.json$/))return[["*",e]];try{const t=JSON.parse(e);if(!Array.isArray(t))throw new Error("Ads config override params should be an array");return t}catch(e){return kn(!0,"Failed to parse local storage ads config override params",e),[]}})()})()??[],s=a.length>0?await(async e=>(await Promise.all(e.map(sd))).filter(Boolean))(a):[],c=s.length>0?((e,t)=>{const n=t.find((e=>{let[t]=e;return"*"===t}));if(n){const[,e]=n;return En(!0,"Successfully overridden entirely ads config with value",e),e}return t.reduce(((e,t)=>{let[n,r]=t;return od(e,n,r),En(!0,`Successfully overridden ads config at path "${n}" with value`,r),e}),e)})(t,s):t;return{data:gd(c,n),geo:o,platform:i,success:!0,thirdPartyData:{ats:{envelopeId:r}}}};var bd="localStorage",wd="cookie";const Sd=(e,t)=>{(t||null==localStorage.getItem(Ra))&&localStorage.setItem(Ra,e)},Ed=(e,t)=>{var n;(t||null==(n=Ra,document.cookie.split("; ").find((e=>e.startsWith(`${n}=`)))?.split("=")[1]))&&Qr(Ra,e,365)},kd=()=>"localStorage"===window.ats?.outputCurrentConfiguration?.().storageType?bd:wd,xd=e=>window.btoa(Ad(e)),Ad=e=>{const t={envelope:e,timestamp:Date.now(),version:"0.0.0"};return JSON.stringify(t)};var Od=e=>{if(!On("tenant_config.ads.enable_ats_integration",!1)||!e.envelopeId)return;if(En(!0,"Running integration","ATS"),On("tenant_config.ads.use_ats_external_integration",!0)){try{t=e.envelopeId,window.ats={retrieveEnvelope:e=>{const n=Ad(t);return e&&e(n),Promise.resolve(n)}}}catch(e){kn(!0,"ATS integration error",e),(e=>{Wr({metric:de,error:Hn(e,de)})})(Da(e))}return}var t;if(!window.ats)return;const n=On("tenant_config.ads.always_override_publisher_ats_envelope",!1);try{((e,t)=>{const n=kd(),r=xd(e);switch(n){case bd:return Sd(r,t);case wd:Ed(r,t)}})(e.envelopeId,n)}catch(e){kn(!0,"ATS envelope id caching error",e),(e=>{Wr({metric:le,error:Hn(e,le)})})(Da(e))}};const Id=un(cn());var Cd=Math.floor,Pd=Math.random,Nd=parseFloat,Td=Math.min,Dd=Math.random,Rd=function(e,t,n){if(n&&"boolean"!=typeof n&&Wi(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=la(e),void 0===t?(t=e,e=0):t=la(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Dd();return Td(e+i*(t-e+Nd("1e-"+((i+"").length-1))),t)}return function(e,t){return e+Cd(Pd()*(t-e+1))}(e,t)};const jd=(e,t)=>{const n="player"===t?e.moat_player_percent:e.moat_widget_percent;return null!=n&&((e,t,n)=>{const r=Rd(1,100);return!!("number"==typeof(i=n)||Ye(i)&&"[object Number]"==He(i))&&n>=r;var i})(0,0,n)};var Md=e=>{const[t]=El(),{reportingModuleName:n}=t.context,r=Mn(),o=Ln(),a=Vn(),s=Fn(),{trackEvent:c}=no();return{trackMovingAdEvent:(0,i.useCallback)((t=>{const i={engine_status:"moving-ad",segment:JSON.stringify({action_id:Xr(n),triggered_by:e,moving_ad_status:t,feature_configurations:{sliding:r,sticky_desktop:a,sticky_mobile:o,video_takeover:s}})};c(i)}),[n,r,a,o,c,e,s])}},Ud=e=>function(t){return n=>(e=>{const t=On("tenant_config.ads.tags_guard",zn),n=t[dn(cn())],r=t.is_disabled_by_default;return(Array.isArray(n)?n:r??[]).includes(e)})(e)?null:i.default.createElement(t,n)},Vd=()=>Ht&&window.innerWidth<700;const $d=e=>{const{adsConfig:t,adUnitId:n,center:r,compact:i,isOptedOut:o,moduleName:a,persistentDbv:s,product:c,reportingModuleName:u}=e,{campaign:l,envelope_id:d,s:f,user_groups:p,geo:h}=t,{slot:v}=l??{};return{adsConfig:t,adUnitId:n,campaign:l,center:r,compact:i,envelopeId:d,firstPartyData:f,isOptedOut:o,moduleName:a,persistentDbv:s,product:c,reportingModuleName:u,userGroups:p,slot:v??J,isGDPRCountry:(_=h,oe.includes(_.toUpperCase()))};var _},Ld=e=>e&&e.type===c?{dbvSet:Boolean(e.displayBeforeVideo?.code),passbackInterval:e.video?.interval,passbackSet:Boolean(e.passback?.code),videoCampaign:!0,videoTimeoutEnabled:Boolean(e.passback)&&Boolean(e.video?.interval)}:{dbvSet:!1,passbackSet:!1,videoCampaign:!1,videoTimeoutEnabled:!1},zd=e=>{let{adUnitProps:t,contextOverrides:n,target:r}=e;const{campaign:i}=t.adsConfig;return{target:r,slidingContainerExtension:null,disableAdForProduct:ws(r),isAdUnitsOverlapDetected:!1,isSlidingEnabled:!1,isStickyEnabled:!1,isStickyDesktopRunning:!1,isTakeoverEnabled:!1,postId:In(),skipVideo:!1,spotId:Cn(),...$d(t),...Ld(i),...n}};var Bd=(e,t)=>{const{moduleName:n,product:r}=t,i=e.find((e=>e[n]))?.[n];return i?(e=>{let{initialProductConfigs:t,postId:n,productConfigs:r,spotId:i}=e;const{moduleName:o,reportingModuleName:a,slot:s,forceSpecificSlot:c,adIndex:u}=t,{campaigns:l,...d}=r,f={...d,campaign:Ps(l,s,c)};return{...t,adsConfig:f,spotId:i,adUnitId:As({adIndex:u,moduleName:o,postId:n,slot:s,spotId:i}),isOptedOut:Boolean(f.isOptedOut),persistentDbv:On("tenant_config.ads.persistent_dbv",!0),reportingModuleName:a??o,adIndex:u,slot:s}})({initialProductConfigs:t,postId:In(),productConfigs:i,spotId:Cn()}):(r&&(0,Yt.WI)(`${r}-no-campaign`),void En(!0,`Ads config for ${n} was not found`))};const Fd=!0,Wd=!0,Hd="Sponsored",Yd={display:"flex",justifyContent:"center",width:"100%"},Gd={display:"flex",alignItems:"flex-end",justifyContent:"space-between",color:"#373e44",fontFamily:'"Open Sans", sans-serif',fontSize:"14px",letterSpacing:"-0.23px"},qd={margin:"0",height:"12px",width:"12px"},Jd={marginRight:"5px"},Kd={display:"flex",alignItems:"center",justifyContent:"center",color:"inherit",textDecoration:"none"},{is_ad_choices_enabled:Zd=Fd,is_label_enabled:Qd=Wd,label:Xd=Hd}=On("tenant_config.ads.footer",{is_ad_choices_enabled:Fd,is_label_enabled:Wd,label:Hd}),ef=()=>Zd||Qd?20:0,tf=e=>{let{width:t}=e;const[n]=El(),{isStickyEnabled:r,target:o}=n.context;if(!Zd&&!Qd)return null;const a=ef();return i.default.createElement(Xf,{target:o},i.default.createElement("div",{style:Yd},i.default.createElement("div",{style:{width:t,margin:r?"0 5px":0,height:a,...Gd}},Zd&&i.default.createElement("a",{href:"https://dynamic-cdn.openweb.com/yad/adchoice.html",style:Kd,rel:"noopener noreferrer",target:"_blank"},i.default.createElement("span",{style:Jd},"AdChoices"),i.default.createElement("img",{src:"https://publisher-assets.spot.im/yad/ad-choises.png",style:qd,alt:"Ad Choices Icon"})),Qd&&i.default.createElement("span",null,Xd))))};var nf=(e,t)=>{const{displayAdSize:n}=e.context,r=((e,t)=>(0,i.useMemo)((()=>{if(!t)return;if(t.type===u)switch(e.value){case"initial":case"fixedDisplayAd":return t.display;default:return}const n=Boolean(t.displayBeforeVideo?.code);switch(e.value){case"initial":return n?t.displayBeforeVideo:void 0;case"dbv":return t.displayBeforeVideo;case"video":return t.video;case"passback":return t.passback;default:return}}),[e.value,t?.id]))(e,t);return t?n&&!e.matches("video")?n[0]:(o=r?.size.width,o?o===K?"100%":o:ae):"0px";var o},rf=e=>{let{children:t}=e;const[n]=El(),{trackMovingAdEvent:r}=Md("sliding"),{slidingContainerExtension:o,campaign:a}=n.context,s=Wu(n,["video"]),{video:c}=a??{},{width:u}=c?.size??{},l=u===K?"100%":u,d=nf(n,a),f=s?l:d,{top:p,z_index:h}=Mn();return(0,i.useEffect)((()=>{r("endless")}),[r]),i.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},i.default.createElement("div",{style:{position:"relative",width:"fit-content"}},i.default.createElement("div",{style:{position:"sticky",top:`${p}px`,zIndex:h}},t),o&&i.default.createElement("div",{style:{width:"100%",visibility:"hidden",zIndex:-500,height:o}})),i.default.createElement(tf,{width:f}))};const of=["independent_ad","independent_ad_hp"],{is_enabled:af}=Mn(),sf=(e,t)=>e&&af&&of.some(ma(t)),cf=e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;return(e,i,o,a)=>{const{...s}=a??{},c=Bd(t,{moduleName:i,slot:o,reportingModuleName:i,...s});if(!c)return;const u=e.getRootNode();u instanceof ShadowRoot&&(e=>{const t=Ea("text/css"),n=e.querySelector(`link[href="${t?.url}"]`);if(!t||n)return;const r=document.createElement("link");r.href=t.url,r.setAttribute("rel","stylesheet"),e.insertBefore(r,e.firstChild)})(u);const{adsConfig:{campaign:l},reportingModuleName:d}=c,{is_sliding:f,sliding_container_size:p}=l??{},h=zd({adUnitProps:c,target:e,contextOverrides:{isSlidingEnabled:sf(Boolean(f),i),slidingContainerExtension:p,slot:o}});io({reportingModuleName:d,campaignId:l?.id}),zs(i,d,e,(()=>n({target:e,context:h,props:c})),(()=>r({target:e})))}},uf=(e,t)=>(e-20*(t-1))/t,lf=On("tenant_config.ads.supported_preload_products",[v,_,y,g,m]).reduce(((e,t)=>(e[t]=!0,e)),{}),df={};const ff=e=>{const{size:t,progress:n,thickness:r=2,color:o="#BF1314",backgroundColor:a="#F6F6F6",children:s,className:c}=e,u=t/2,l=u-r,d=Math.round(2*Math.PI*l),f=Math.round(d*((100-n)/100));return i.default.createElement("div",{className:hs()("ads__CircularProgress__circularProgress--WgHzS",c)},i.default.createElement("svg",{className:"ads__CircularProgress__circularProgressSvg--E5f3q",width:t,height:t},i.default.createElement("circle",{cx:u,cy:u,fill:a,r:l,stroke:"#FFFFFF",strokeWidth:r}),n&&i.default.createElement("circle",{className:"ads__CircularProgress__circularProgressIndicator--Mu2FI",cx:u,cy:u,fill:a,r:l,stroke:o,strokeWidth:r,strokeDasharray:d,strokeDashoffset:f,strokeLinecap:"round",style:{transition:".1s"}})),s&&i.default.createElement("span",{className:"ads__CircularProgress__circularProgressLabel--KeLZq"},s))};var pf=i.default.memo(ff),hf=e=>{let{fill:t,size:n}=e;return i.default.createElement("svg",{"aria-hidden":"true",fill:"none",style:{width:n,height:n},viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.55177 3.55192C3.26054 3.84315 3.26054 4.31533 3.55177 4.60656L6.94579 7.99974L3.55177 11.3938C3.26054 11.685 3.26054 12.1572 3.55177 12.4484C3.843 12.7396 4.31518 12.7396 4.60641 12.4484L8.00001 9.0548L11.3936 12.4484C11.6848 12.7396 12.157 12.7396 12.4483 12.4484C12.7395 12.1572 12.7395 11.685 12.4483 11.3938L9.05465 8.00016L12.4483 4.60656C12.7395 4.31533 12.7395 3.84315 12.4483 3.55192C12.157 3.26069 11.6848 3.26069 11.3936 3.55192L8.00043 6.9451L4.60641 3.55192C4.31518 3.26069 3.843 3.26069 3.55177 3.55192Z",fill:t}))},vf=e=>{let{className:t,color:n="#B1B2BF",onClick:r}=e;return i.default.createElement("button",{"aria-label":"Close button",className:hs()("ads__CloseButton__closeButton--zHXU_",t),onClick:r},i.default.createElement(hf,{fill:n,size:"16px"}))},_f=e=>{let{className:t,isStickyAfterTimeout:n,remainingTime:r,timeout:o,onClick:a}=e;const s=Math.ceil(r/1e3),c=100-r/o*100;return i.default.createElement(pf,{className:t,size:35,progress:c},n&&(r?s:i.default.createElement(vf,{className:"ads__StickyContainerCloseButton__closeButton--QMZSi",color:"#070707",onClick:a})),!n&&s)};const yf=e=>{const{name:t,animationProps:n}=e,r=(o=()=>(e=>Object.entries(e).map((e=>{let[t,n]=e;return`${t}{${(e=>Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return`${e}${qa(n)}:${r};`}),""))(n)}}`})).join(""))(n),a=[n],(0,i.useMemo)(o,function(e){const t=(0,i.useRef)(e),n=(0,i.useRef)(0);return Yl(e,t.current)||(t.current=e,n.current+=1),(0,i.useMemo)((()=>t.current),[n.current])}(a)));var o,a;return i.default.createElement("style",null,["@keyframes","@-webkit-keyframes"].map((e=>`${e} ${t} {${r}} \n`)))};var gf=i.default.memo(yf);const mf={position:"fixed",top:"auto",bottom:"0",padding:"0 25px 5px 25px",background:"#fff",boxShadow:"0px 2px 20px rgba(0, 0, 0, 0.07)",borderRadius:"10px 10px 0px 0px",border:"1px solid rgba(7, 7, 7, 0.05)"},bf={position:"absolute",top:"0",padding:"0",background:"transparent",boxShadow:"unset",borderRadius:"unset",border:"unset"},wf=`\n  ${L.SlideInDown} ease-out 0.2s 0s 1 reverse forwards,\n  ${L.SlideInvisiblyDown} linear 0.2s 0.2s 1 normal forwards,\n  ${L.SlideInUp} ease-out 0.2s ${re}s 1 normal forwards\n`,Sf=`\n  ${L.SlideInUp} ease-out 0.2s 0s 1 reverse forwards,\n  ${L.SlideInvisiblyDown} linear 0.2s 0.2s 1 reverse forwards,\n  ${L.SlideInDown} ease-out 0.2s ${re}s 1 normal forwards\n`;var Ef=e=>{let{isAnimationEnabled:t,isSticky:n,stickyAreaSelector:r,stickyContainerRef:o,children:a}=e;const[s,c]=El(),u=(0,i.useMemo)((()=>jf(r)),[r]),l=o.current,{isStickyDesktopRunning:d}=s.context,{right:f=0}=u?u.getBoundingClientRect():{},p=(0,i.useMemo)((()=>f?document.documentElement.clientWidth-f+"px":"0"),[f]),h=(0,i.useMemo)((()=>l?.style.cssText??""),[l]),v=(0,i.useMemo)((()=>({...mf,right:p})),[p]),_=(0,i.useMemo)((()=>({...n?{}:{transition:"\n                opacity 0.2s,\n                height 0.1s 0.2s\n              ",opacity:0,height:0}})),[n]),y=If({animationsList:ne,isAnimationEnabled:t,isSticky:n,stickyContainerElement:l,stickyContainerStyles:v,stickyAnimation:wf,unstickyAnimation:Sf});return(0,i.useEffect)((()=>{const[e,t]=[L.SlideInUp,L.SlideInvisiblyDown].map(ma(y));n&&(t||e)&&c({type:Bu,payload:!0}),n||e||t||(d&&l&&(l.style.cssText=h),c({type:Bu,payload:!1}))}),[n,d,y,l,h,c]),i.default.createElement(i.default.Fragment,null,a(v,_),i.default.createElement(gf,{name:L.SlideInDown,animationProps:{from:{...bf,transform:"translateY(-100%)"},to:{...bf,transform:"translateY(0)"}}}),i.default.createElement(gf,{name:L.SlideInUp,animationProps:{from:{...v,transform:"translateY(100%)"},to:{...v,transform:"translateY(0)"}}}),i.default.createElement(gf,{name:L.SlideInvisiblyDown,animationProps:{"0%":{...bf,display:"block",right:"auto",transform:"translateY(-100%)"},"14%":{...bf,display:"none",right:"auto",transform:"translateY(-100%)"},"28%":{...bf,display:"none",opacity:0,right:"auto",transform:"translateY(-100%)"},"42%":{...bf,display:"none",opacity:0,right:"100vw",transform:"translateY(-100%)"},"56%":{...v,display:"none",opacity:0,right:"100vw",transform:"translateY(100%)"},"70%":{...v,display:"none",opacity:0,right:p,transform:"translateY(100%)"},"84%":{...v,display:"none",right:p,transform:"translateY(100%)"},"100%":{...v,display:"block",right:p,transform:"translateY(100%)"}}}))};const kf=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(!1),o=(0,i.useRef)(null),a=(0,i.useRef)(null),{is_animation_enabled:s,is_stay_sticky_after_timeout:u,sticky_area_css_selector:l,timeout:d,z_index:f}=Vn(),[p]=El(),{campaign:h,compact:v,displayAdSize:_,isStickyDesktopRunning:y}=p.context,g=(e=>{let{campaign:t,compact:n,displayAdSize:r=[],isVideoAd:i}=e;const[o,a]=r,s=i?t.video.size:{width:o,height:a};return{height:`${Ja(s.height)+ef()}px`,width:n?`${Ja(s.width)+Ja("30px")}px`:s.width}})({campaign:h,compact:v,displayAdSize:_,isVideoAd:p.value===c}),{isSticky:m,remainingStickyTime:b,stickyPlaceholderRef:w,closeStickyContainer:E}=Pf(a.current,l,d,u);Cf(m,S),Of(m,n);const k=(0,i.useCallback)((()=>{r(!0),E()}),[E]);return i.default.createElement(Ef,{isAnimationEnabled:s,isSticky:m,stickyAreaSelector:l,stickyContainerRef:o},((e,n)=>{const r=s?(e=>{let{isStickyDesktopRunning:t,zIndex:n}=e;return t?{zIndex:n}:{}})({isStickyDesktopRunning:y,zIndex:f}):(e=>{let{isSticky:t,stickyContainerStyles:n,zIndex:r}=e;return t?{...n,zIndex:r}:{}})({isSticky:m,stickyContainerStyles:e,zIndex:f});return i.default.createElement("div",{className:"ads__StickyContainerDesktop__stickyPlaceholder--A4Eoh",ref:w,style:g},i.default.createElement("div",{ref:o,className:"ads__StickyContainerDesktop__stickyContainer--uo305",style:r},i.default.createElement("div",{className:"ads__StickyContainerDesktop__topBar--f7kVb",style:n},i.default.createElement(_f,{className:"ads__StickyContainerDesktop__closeButton--hbVqf",isStickyAfterTimeout:u,remainingTime:b,timeout:d,onClick:k})),i.default.createElement("div",{className:"ads__StickyContainerDesktop__content--n2VzR",ref:a},t)))}))};var xf=i.default.memo(kf),Af=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(!1),o=(0,i.useRef)(null),{is_stay_sticky_after_timeout:a,sticky_area_css_selector:s,timeout:c,top:u,z_index:l}=Ln(),{isSticky:d,remainingStickyTime:f,stickyPlaceholderRef:p,closeStickyContainer:h}=Pf(o.current,s,c,a),v=p.current,_=v&&d?{width:v.offsetWidth,height:v.offsetHeight}:void 0,y=d?{top:`${u}px`,zIndex:l}:{};Of(d,n),Cf(d,w);const g=(0,i.useCallback)((()=>{r(!0),h()}),[h]);return i.default.createElement("div",{ref:p,style:_},i.default.createElement("div",{className:hs()("ads__StickyContainerMobile__stickyContainerMobile--rgOt1",{"ads__StickyContainerMobile__sticky--GhIR0":d}),style:y},i.default.createElement("div",{className:hs()("ads__StickyContainerMobile__topBar--GcOTQ",{"ads__StickyContainerMobile__hidden--FIUJH":!d})},i.default.createElement(_f,{className:"ads__StickyContainerMobile__closeButton--OeQap",isStickyAfterTimeout:a,remainingTime:f,timeout:c,onClick:g})),i.default.createElement("div",{ref:o,className:"ads__StickyContainerMobile__content--BlGtX",style:{...d?{width:"fit-content",margin:"0 auto"}:{}}},t)))};const Of=(e,t)=>{const{trackMovingAdEvent:n}=Md("sticky"),r=td(e);(0,i.useEffect)((()=>{t?n("end_manually"):!e||r?e||!r||t||n("end"):n(ro)}),[t,e,r,n])},If=e=>{let{animationsList:t,isAnimationEnabled:n,isSticky:r,stickyAnimation:o,stickyContainerElement:a,stickyContainerStyles:s,unstickyAnimation:c}=e;const[u,l]=(0,i.useState)(null),d=td(r);return(0,i.useEffect)((()=>{if(!a||!n)return;const e=e=>{const{animationName:n}=e;t.some(ma(n))&&l(n)},i=d&&!r;return a.addEventListener("animationstart",e),a.style.animation="",i&&Object.entries(s).forEach((e=>{let[t,n]=e;return a.style[qa(t)]=n})),requestAnimationFrame((()=>requestAnimationFrame((()=>{r?a.style.animation=o:i&&(a.style.animation=c)})))),()=>{a.removeEventListener("animationstart",e)}}),[t,n,r,d,o,a,s,c]),u},Cf=(e,t)=>{const[n]=El(),r=td(e),{reportingModuleName:o}=n.context;(0,i.useEffect)((()=>{e&&(e=>{let{product:t,device:n}=e;Hr({metric:"sticky-ad-unit-attached",tags:{[be]:os(),[Se]:n,[Ee]:t}})})({product:o,device:t}),!e&&r&&(e=>{let{product:t,device:n}=e;Hr({metric:"sticky-ad-unit-detached",tags:{[be]:os(),[Se]:n,[Ee]:t}})})({product:o,device:t})}),[t,e,r,o])},Pf=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const[o,a]=(0,i.useState)(!1),[s,c]=(0,i.useState)(null),[u,l]=(0,i.useState)(null),[d,f]=(0,i.useState)(!1),[p,h]=(0,i.useState)(!1),[v,_]=(0,i.useState)(!1),y=td(o),g=(0,i.useRef)(null),m=(0,i.useMemo)((()=>jf(t)),[t]),[b]=El(),{isAdUnitsOverlapDetected:w}=b.context,S=g.current,E=S?.offsetHeight??0,k=v&&!w&&!p&&!(y&&!o)&&Boolean(m&&S)&&(!d||o&&d&&r),x=(0,i.useCallback)((()=>{const e=!!Ht||Boolean(m&&((e,t)=>{const n=e.getBoundingClientRect();return{[Ia.Top]:Ca,[Ia.Bottom]:Pa,[Ia.Left]:Na,[Ia.Right]:Ta}[t](n)})(m,"bottom")>2*E);_(e)}),[m,E]);(0,i.useEffect)((()=>{if(!m)return;const e=new ResizeObserver(x);return e.observe(m),()=>e.disconnect()}),[x,m]);const A=(0,i.useCallback)((()=>{a(!1)}),[]),O=(0,i.useCallback)((()=>{r||a(!1),f(!0)}),[r]),I=(0,i.useCallback)((()=>{h(!0)}),[]),{startTimer:C,pauseTimer:P,stopTimer:N,remainingTime:T}=rd(n,O,!1,1e3),{startTimer:D,pauseTimer:R,stopTimer:j}=rd(n,I,!1);(0,i.useEffect)((()=>{w&&a(!1)}),[w]),(0,i.useEffect)((()=>{o?(j(),C()):P()}),[o,P,C,N,j]);const M=(0,i.useCallback)((()=>{if(!S||!m||!e)return;const{bottom:t,top:n}=m.getBoundingClientRect()??{},r=e.offsetHeight+(Ht?40:25);if(Ht?n>0:n>r)c(Kl.OutOfViewTop);else{const e=Ht?t>r:t>window.innerHeight;c(e?Kl.InView:Kl.OutOfViewBottom)}}),[m,e,S]);Xl({isEnabled:k,callback:M,throttleTimeout:100});const U=(0,i.useCallback)(((e,t)=>{const{intersectionRatio:n}=t??{},r=1===n;return l(e),r?D():R()}),[R,D]);return Zl({intersectionObserverOptions:{threshold:Ht?1:[.5,1]},isEnabled:k,target:S,callback:U},[U]),(0,i.useEffect)((()=>{if(!k)return c(null),void l(null);const e=s===Kl.InView&&u===Kl.OutOfViewBottom;o?e||(En(!0,"Sticky container is out of position"),a(!1)):e&&(En(!0,"Sticky container is on position"),a(!0))}),[o,k,s,u]),{isSticky:o,stickyPlaceholderRef:g,closeStickyContainer:A,remainingStickyTime:T}},Nf=[b],{is_enabled:Tf}=Vn(),{is_enabled:Df}=Ln(),Rf=(e,t)=>{const n=Vd()?Df:Tf;return e&&n&&Nf.some(ma(t))},jf=e=>{if(Array.isArray(e)){const[t]=e.map((e=>document.querySelector(e))).filter(Boolean);return t??null}return document.querySelector(e)};var Mf=e=>{let{children:t,isStickyDesktopRunning:n,isVideoAd:r,adSize:o,className:a}=e;return i.default.createElement("div",{className:a,style:{...r?{width:n?"100%":o.width,height:n?"100%":o.height}:{}}},t)},Uf=e=>{let{children:t}=e;const[n]=El(),{isStickyDesktopRunning:r,displayAdSize:o=[],campaign:a}=n.context,[s,u]=o,l=n.value===c,d=l?a.video.size:{width:s,height:u};return i.default.createElement(xf,null,i.default.createElement(Mf,{isStickyDesktopRunning:r,isVideoAd:l,adSize:d},t))};const{products_heights:Vf}=Fn();var $f=e=>{let{children:t}=e;const[n]=El(),{product:r,campaign:o}=n.context,a=n.matches(c),s=o.video.size,u=Vf[r],l=s.width??"auto",d=u??"auto";return i.default.createElement("div",{className:"takeover-container",style:a?{width:l,height:d,maxWidth:"300px"}:void 0},t)},Lf=e=>{let{isStickyDesktopRunning:t,takeoverSize:n,children:r}=e;const{width:o,height:a}=n,s=(0,i.useMemo)((()=>((e,t,n)=>({width:t,height:n,...e?{height:"100%",transform:"scale(0.5)",margin:`${(.5*n-n)/2}px ${(.5*t-t)/2}px`}:{position:"absolute",top:`-${ue}`,zIndex:2}}))(t,o,a)),[t,o,a]);return i.default.createElement("div",{style:s},r)};const{active_products:zf,is_enabled:Bf}=Fn(),Ff=(e,t)=>e&&Bf&&!Vd()&&zf.some(ma(t)),{products_heights:Wf}=Fn(),Hf=e=>e?parseInt(e,10):0,Yf=(e,t)=>{if(Wf[e])return{height:Hf(Wf[e])+Hf(ue),width:t.clientWidth}};var Gf=e=>{let{children:t}=e;const[n]=El(),{isTakeoverEnabled:r,isStickyEnabled:i,isSlidingEnabled:o}=n.context,a=r||i,s=Vd();return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ya(...t.reverse())}(rs($f,r&&!i),rs(Uf,i&&r&&!s),rs(xf,i&&!r&&!s),rs(Af,i&&s),rs(rf,o&&!a))(t)},qf=e=>{let{width:t,height:n,children:r,isCentered:o,overflow:a="hidden"}=e;return i.default.createElement("div",{className:hs()("ads__Container__container--s1j89"),style:{overflow:a,position:"relative",display:"flex",flexDirection:"column",width:o?"100%":t,height:n}},r)},Jf=(0,i.memo)(Ud(P.Dfp)((e=>{let{userGeo:t,tag:n,spotId:r,adType:o,adUnitId:a,size:s,userGroups:c,mcmNetworkId:u,campaignId:l}=e;const[d,f]=El(),{adCallIds:p}=(0,i.useContext)(ql),{trackEvent:h}=no({layout:"display",campaign_id:l,...ho(n)}),v=(0,i.useRef)(p),{adsConfig:_,slot:y,reportingModuleName:g,isSlidingEnabled:m,isStickyEnabled:b}=d.context,w=`${a}-${o}`,S=n.code.includes("/tag/js/gpt.js"),E=((e,t,n)=>{const{is_enabled_by_default:r,enabled_for_modules:i={},enabled_for_devices:o={},enabled_for_geo_locations:a={},enabled_for_slots:s={}}=On("tenant_config.ads.render_display_ads_in_iframe_config",{is_enabled_by_default:!0,enabled_for_modules:{},enabled_for_devices:{},enabled_for_geo_locations:{},enabled_for_slots:{}}),c=ts().toLowerCase(),u=`row-${n.row}:column-${n.column}`,l=a[t],d=o[c],f=i[e],p=s?.[e]?.[u];return[l,d,f,p].every(ya(nd,ba))?r:ba([l,d,f,p].some(ma(!1)))})(g,t,y),k=(o===O?C:I)===I;(0,i.useEffect)((()=>{const e=Gl(y);if(h(e),n.code)return S?void(k&&ao({reportingModuleName:g,adCallIds:v.current,campaignId:l})):(f({type:Uu,payload:[n.size.width,n.size.height]}),void(e=>{let{product:t}=e;Hr({metric:"inline-display-ad-rendered",tags:{[Ee]:t}})})({product:g}));(e=>{let{product:t}=e;Hr({metric:"display-ad-no-code-settings",tags:{[Ee]:t}})})({product:g})}),[]),Jl({tag:n,adType:o,campaignId:l,adUnitIdFormatted:w});const x=(0,i.useCallback)(((e,t,n)=>{E?go({adUnitId:a,content:e,reportingModuleName:t,target:n}):((e,t)=>{const n=document.createRange().createContextualFragment(e);t.appendChild(n)})(e,n)}),[a,E]),A=(0,i.useCallback)((e=>{if(e)if(S){const t=po({adUnitIdFormatted:w,isRenderAdsInIframeEnabled:E,mcmNetworkId:u,reportingModuleName:g,slot:y,spotId:r,userGroups:c,code:n.code,codeSettings:n.code_settings,sellerId:_.spot.seller_id,isSliding:m,isStickyEnabled:b});x(t,g,e)}else x(n.code,g,e)}),[S,E,x]),{displayAdSize:P}=d.context,N=P?P[0]:void 0,T=P?P[1]:s?.height;return i.default.createElement("div",{className:"ads__DisplayAd__container--pI8h3",ref:A,style:{height:T,width:N}})})),(()=>!0)),Kf=e=>{let{tag:t,position:n,children:r,height:o="auto",width:a="auto",isNativeAd:s}=e;const[c]=El(),{displayAdSize:u,isSlidingEnabled:l}=c.context,{code_settings:d}=t??{},f=d?.googletag_sizes??[],[p,h]=f.length>1&&u?u:[a,o];return i.default.createElement("div",{className:hs()("ads__DisplaySlot__displaySlot--hhC9D",{"ads__DisplaySlot__isNativeAd--oMBaJ":s}),style:{display:"flex",flexDirection:"row",position:n,width:p,height:h,margin:l?"auto 0":"auto",alignItems:"center"}},r)},Zf=e=>{let{adHeight:t,adWidth:n}=e;return i.default.createElement("div",{className:hs()("ads__Loader__loaderContainer--ZZHb6"),style:{width:n,height:t,maxHeight:t}},i.default.createElement("div",{className:"ads__Loader__loaderContent--PzNAv"},i.default.createElement("div",{className:"ads__Loader__loaderSpinner--QCXsJ"})))},Qf=e=>{let{adUnitId:t,adWidth:n,campaignId:r,mcmNetworkId:o,spotId:a,tag:s,userGeo:c,userGroups:u}=e;const[l]=El(),{reportingModuleName:d,isSlidingEnabled:f}=l.context;return(0,fs.cO)((e=>{kn(!0,"Ad unit display runtime error",e,"\nProduct:",d),us(e,{product:d})})),i.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"}},i.default.createElement(Kf,{width:s.size.width,height:s.size.height,position:"relative",tag:s},i.default.createElement(Jf,{adType:O,adUnitId:t,campaignId:r,mcmNetworkId:o,size:s.size,spotId:a,tag:s,userGeo:c,userGroups:u})),!f&&i.default.createElement(tf,{width:n}))},Xf=e=>{let{children:t,target:n}=e;const[r,o]=(0,i.useState)(null),a=(0,i.useRef)(null),s=Ql(n);return(0,i.useEffect)((()=>{const{current:e}=a;e&&o(e.attachShadow({mode:"open"}))}),[a]),s?i.default.createElement(i.default.Fragment,null,t):i.default.createElement("div",{ref:a},r?(0,i.createPortal)(t,r):null)};const ep="hidePlayer";var tp=(0,i.forwardRef)(((e,t)=>{const{id:n,className:r,disableAnimation:o=!1,isHidden:a,width:s="100%",height:c="auto"}=e;return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{ref:t,className:hs()("ads__Players__player--LByWL",r),id:n,style:{width:s,height:c,...a&&!o?{animation:`${ep} ease-in ${400,.4}s 0s 1 normal forwards`}:{}}}),i.default.createElement(gf,{name:ep,animationProps:{"0%":{position:"absolute",opacity:1,zIndex:500},"99%":{position:"absolute",opacity:0,zIndex:500},"100%":{position:"absolute",opacity:0,zIndex:-500,display:"none"}}}))}));const np=e=>{let{id:t,source:n}=e;return{source:n,uids:[{id:t}]}};var rp=e=>{if(e&&0!==e.length)return{user:{ext:{eids:e.map(np)}}}},ip=e=>`1.0,1!${Z},${e},1,,,`;const op=e=>Object.entries(e).filter((e=>{let[t,n]=e;return Boolean(n)})).map((e=>{let[t,n]=e;return`${t}=${encodeURIComponent(n)}`})).join("&"),ap=(e,t)=>{const{firstPartyData:n,isSliding:r=!1,isSticky:i=!1,isTakeover:o=!1,mcmNetworkId:a,monetizationId:c,platform:u,reportingModuleName:l,slot:d,spotId:f}=t;return{[`${e}1`]:f,[`${e}2`]:u??"",[`${e}3`]:l,[`${e}4`]:s.config.pageViewId??"",[`${e}5`]:c??"",[`${e}6`]:Oa(),[`${e}7`]:es(d),[`${e}8`]:`sliding:${r};sticky:${i};takeover:${o}`,[`${e}9`]:a??"",[`${e}10`]:bn.version,[`${e}11`]:xa()??"",[`${e}12`]:Aa()??"",[`${e}13`]:"boolean"==typeof n?.ir?`${n.ir}`:"",[`${e}14`]:n?.us?JSON.stringify(n.us):"",[`${e}15`]:bn.adsAssetType,[`${e}16`]:dn()}};var sp=e=>{const{sellerId:t,isCookieConsentObservedByAniview:n,reportingModuleName:r,externalCustomParams:i=""}=e;let o={};try{o=JSON.parse(i)}catch(e){kn(!0,"Failed to parse external custom params",e,"\nProduct:",r)}const a=ap("AV_CDIM",e),s={...o,...a,...n?{AV_DNTCHECK:"1"}:{AV_DNTCHECK:"0"},AV_SCHAIN:ip(t)};return En(!0,"Aniview custom params",s,"\nProduct:",r),op(s)};const cp=On("tenant_config.ads.aniview_content_bidders",{}),up=Object.keys(cp);var lp=Ud(P.Aniview)((e=>{let{spotId:t,adUnitId:n,tag:r,adWidth:o,adHeight:a,show:s,campaignId:c}=e;const[u,l]=El(),d=`${n}-aniview`,f=(0,i.useRef)(null),p=(0,i.useRef)(null),{regenerateAdCallId:h}=(0,i.useContext)(ql),{trackEvent:v}=no({engine_vendor_name:P.Aniview,engine_tag_id:r?.id,campaign_id:c,variant:r.variant}),{trackMovingAdEvent:_}=Md("video_takeover"),{adsConfig:y,firstPartyData:g,reportingModuleName:m,envelopeId:b,slot:w,isGDPRCountry:S,isSlidingEnabled:E,isStickyEnabled:k,isTakeoverEnabled:x}=u.context,A=Kr(S);kl((async()=>{const e=Gl(w);v(e);const n=(e=>{let{code:t,reportingModuleName:n}=e;try{const e=JSON.parse(t);return En(!0,"Aniview parsed settings",e,"\nProduct:",n),e}catch(e){const t=Da(e);kn(!0,"Aniview parse settings error",t,"\nProduct:",n),((e,t)=>{let{product:n}=t;Wr({metric:fe,error:Hn(e,fe),tags:{[Se]:as(),[Ee]:n}})})(t,{product:n})}})({code:r?.code,reportingModuleName:m});if(!n){l(Lu);return void v({engine_status:"engine-initialize-error"})}const{ref1:i}=n,o=f.current,a=p.current,s=sp({firstPartyData:g,reportingModuleName:m,slot:w,spotId:t,mcmNetworkId:y.spot.mcm_network_id,monetizationId:y.monetization_id,platform:y.platform,sellerId:y.spot.seller_id,isCookieConsentObservedByAniview:A,isSliding:E,isSticky:k,isTakeover:x,externalCustomParams:i}),c={positionDiv:o},u=[b&&{source:"liveramp.com",id:b}].filter(Boolean),S={openRtb:rp(u)},O={...n,...c,...S,position:d,ref1:s,logo:!1,...A?{waitforconsent:!0}:{}};let I;En(!0,"Aniview config",O,"\nProduct:",m);try{I=await Za((()=>(async e=>{const{publisherId:t,channelId:n}=e,r=(e=>`https://player.aniview.com/script/6.1/player.js?v=1&type=s&pid=${e}`)(t);((e,t)=>{(new Image).src=`https://track1.aniview.com/track?pid=${e}&cid=${t}&e=playerLoaded&cb=${Date.now()}&r=${cn()}`})(t,n);try{return await Fa({url:r,target:document.head,areMultipleScriptsPrevented:!1}),new window.avPlayer(e)}catch(e){throw new Error("Failed to load Aniview player")}})(O)),3,2e3)}catch(e){const t=Da(e);kn(!0,"Aniview script fetching failed",t,"\nProduct:",m),(e=>{Wr({metric:ve,error:Hn(e,ve)})})(t)}if(I)return I.on("InventoryRequest",(()=>{h(P.Aniview)})),I.on("Inventory",(()=>{v({engine_status:"ad-inventory-video"})})),I.on("AdImpression",(e=>{l(zu),(e=>{let{dataSource:t,product:n}=e;Hr({metric:"aniview-impression",tags:{[be]:os(),[we]:t,[Se]:as(),[Ee]:n}})})({dataSource:y.dataSource,product:m});if(v({engine_status:"engine-impression"}),x&&_(ro),!O.preloader?.link||!e)return;const{tagInfo:t}=e;if(!up.includes(t.bidder))return;const n=cp[t.bidder];let r=!1;if(nd(n))r=n;else{const e=n?.["advertiser-ids"];Array.isArray(e)&&(r=e.includes(t.papi.aid))}r&&I?.resumeContent()})),I.on("AdViewableImpression",(()=>{(e=>{let{product:t}=e;Hr({metric:"aniview-impression-viewable",tags:{[be]:os(),[Se]:as(),[Ee]:t}})})({product:m});v({engine_status:"impression-viewable"})})),I.on("AdClickThru",(()=>{v({engine_status:"ad-clickthrough-video"})})),I.on("ContentImpression",(()=>{v({engine_status:"content-impression"})})),I.on("ContentClick",(()=>{v({engine_status:"content-clicked"})})),I.on("ContentComplete",(()=>{v({engine_status:"content-completed"}),l($u)})),I.on("AdClosed",(()=>{l(Vu),x&&_("end");v({engine_status:"engine-closed"})})),I.on("AdError",(e=>{if(e&&"errorlimit"in e&&e.errorlimit){if("errorlimit"===e?.reason){En(!0,"Aniview no ad error limit",e,"\nProduct:",m),Hr({metric:"aniview-no-ad-error-limit"});return v({engine_status:"engine-error"}),void l(Lu)}l($u);v({engine_status:"engine-done"})}})),(O.startOnView||O.floating)&&I.startTemplate(a),O.startOnView||I.play(),()=>I?.close()}),[]);const O=r?.size?.width===K;return i.default.createElement("div",{ref:p,style:{width:"100%",height:"100%",...x&&{display:"flex",backgroundColor:"#000000"}}},i.default.createElement(tp,{ref:f,id:d,isHidden:!s,width:O?void 0:o,height:a}))})),dp=async(e,t)=>{const{configOverrideCallbackName:n}=e;try{!function(e){const{configOverrideCallbackName:t,playerInitCallbackName:n,script:r}=e,i=function(e){return e.replace(/['"]{2}/g,'"')}(r),o=/(\w+)=["']([^"']+)["']/g,a=document.createElement("script");let s;for(;null!==(s=o.exec(i));)a.setAttribute(s[1],s[2]);a.setAttribute("data-config-api",t),a.setAttribute("data-player-api",n),document.body.appendChild(a)}(e),((e,t,n)=>{window[t]=t=>{e.config&&Object.assign(t,e.config),t&&t.adConfig&&(t.adConfig.ref1=(e=>{const{reportingModuleName:t}=e;try{const n=sp(e);return En(!0,"AniviewAC custom params",n,"\nProduct:",t),n}catch(e){return kn(!0,"Failed to build AniviewAC custom params",e,"\nProduct:",t),""}})(n))}})(e,n,t)}catch(e){throw new Error("Failed to load AniviewAC player")}},fp=Ud(P.AniviewAC)((e=>{let{spotId:t,adUnitId:n,tag:r,campaignId:o}=e;const[a,s]=El(),{regenerateAdCallId:c}=(0,i.useContext)(ql),{trackEvent:u}=no({engine_vendor_name:P.AniviewAC,engine_tag_id:r?.id,campaign_id:o,variant:r.variant}),{adsConfig:l,firstPartyData:d,reportingModuleName:f,slot:p,isGDPRCountry:h,isSlidingEnabled:v,isStickyEnabled:_,isTakeoverEnabled:y}=a.context;return kl((async()=>{const e=Gl(p);u(e);const i=(e=>{let{code:t,reportingModuleName:n}=e;try{const e=JSON.parse(t);return En(!0,"AniviewAC parsed settings",e,"\nProduct:",n),e}catch(e){const t=Da(e);kn(!0,"AniviewAC parse settings error",t,"\nProduct:",n),((e,t)=>{let{product:n}=t;Wr({metric:fe,error:Hn(e,fe),tags:{[Se]:as(),[Ee]:n}})})(t,{product:n})}})({code:r?.code,reportingModuleName:f});if(!i){s(Lu);return void u({engine_status:"engine-initialize-error"})}const o=Kr(h),{config:{ref1:a}={}}=i,g={firstPartyData:d,reportingModuleName:f,slot:p,spotId:t,mcmNetworkId:l.spot.mcm_network_id,monetizationId:l.monetization_id,platform:l.platform,sellerId:l.spot.seller_id,isCookieConsentObservedByAniview:o,isSliding:v,isSticky:_,isTakeover:y,externalCustomParams:a},m=i;m.configOverrideCallbackName=`configOverrideCallback_${n}`,m.playerInitCallbackName=`playerInitCallback_${n}`,En(!0,"AniviewAC config",m,"\nProduct:",f);try{await dp(m,g)}catch(e){const t=Da(e);kn(!0,"AnivewAC script fetching failed",t,"\nProduct:",f),(e=>{Wr({metric:ve,error:Hn(e,ve)})})(t)}window[m.playerInitCallbackName]=(e,t)=>{t.on("AdImpression",(()=>{(e=>{let{dataSource:t,product:n}=e;Hr({metric:"aniview-ac-impression",tags:{[be]:os(),[we]:t,[Se]:as(),[Ee]:n}})})({dataSource:l.dataSource,product:f});u({engine_status:"engine-impression"})})),t.on("AdViewableImpression",(()=>{(e=>{let{product:t}=e;Hr({metric:"aniview-ac-impression-viewable",tags:{[be]:os(),[Se]:as(),[Ee]:t}})})({product:f});u({engine_status:"impression-viewable"})})),t.on("AdClickThru",(()=>{u({engine_status:"ad-clickthrough-video"})})),t.on("AdError",(function(e){if(e&&"errorlimit"in e&&e.errorlimit){if("errorlimit"===e?.reason){En(!0,"AniviewAC no ad error limit",e,"\nProduct:",f),Hr({metric:"aniview-ac-no-ad-error-limit"});return u({engine_status:"engine-error"}),void s(Lu)}s($u);u({engine_status:"engine-done"})}})),t.on("Inventory",(function(){u({engine_status:"ad-inventory-video"})})),t.on("InventoryRequest",(function(){c(P.AniviewAC)}))}}),[]),i.default.createElement("div",null)}));const pp=(e,t)=>window.addEventListener(e,t),hp=(e,t)=>window.removeEventListener(e,t);var vp=Ud(P.Browsi)((e=>{let{adWidth:t,adHeight:n,show:r,tag:o}=e;const[a,s]=El(),c=(0,i.useRef)(null),{adsConfig:u,slot:l,campaign:d,spotId:f,reportingModuleName:p,isSlidingEnabled:h,isStickyEnabled:v,isTakeoverEnabled:_,firstPartyData:y}=a.context,{trackEvent:g}=(0,to.rS)({engine_vendor_name:P.Browsi,engine_tag_id:o?.id,campaign_id:d?.id,variant:o.variant});return(e=>{let{trackEvent:t}=e;const[n,r]=El(),{reportingModuleName:o}=n.context,{regenerateAdCallId:a}=(0,i.useContext)(ql),s=(0,i.useCallback)((()=>{En(!0,"Browsi player closed","\nProduct:",o),r(Vu),t({engine_status:"engine-closed"})}),[o,r,t]),c=(0,i.useCallback)((()=>{En(!0,"Browsi player no ad","\nProduct:",o),r(Lu),t({engine_status:"engine-error"})}),[o,r,t]),u=(0,i.useCallback)((()=>{En(!0,"Browsi player viewable impression","\nProduct:",o),t({engine_status:"impression-viewable"})}),[o,t]),l=(0,i.useCallback)((()=>{En(!0,"Browsi player ad clicked","\nProduct:",o),t({engine_status:"ad-clickthrough-video"})}),[o,t]),d=(0,i.useCallback)((()=>{En(!0,"Browsi player ad completed","\nProduct:",o),r($u),t({engine_status:"engine-done"})}),[o,r,t]),f=(0,i.useCallback)((()=>{En(!0,"Browsi player inventory request","\nProduct:",o),t({engine_status:"ad-inventory-video"}),a(P.Browsi)}),[a,o,t]),p=(0,i.useCallback)((()=>{r(zu),En(!0,"Browsi player ad impression","\nProduct:",o),t({engine_status:"engine-impression"})}),[o,r,t]);(0,i.useEffect)((()=>(pp(q.AdClick,l),pp(q.AdCompleted,d),pp(q.AdImpression,p),pp(q.Inventory,f),pp(q.NoAd,c),pp(q.PlayerClosed,s),pp(q.ViewableImpression,u),()=>{hp(q.AdClick,l),hp(q.AdCompleted,d),hp(q.AdImpression,p),hp(q.Inventory,f),hp(q.NoAd,c),hp(q.PlayerClosed,s),hp(q.ViewableImpression,u)})),[d,p,f,c,s,l,u])})({trackEvent:g}),kl((async()=>{g(Gl(l));const e=(e=>{let{code:t,reportingModuleName:n}=e;try{const e=JSON.parse(t);return En(!0,"Browsi settings",e,"\nProduct:",n),e}catch(e){const t=Da(e);kn(!0,"Browsi settings parsing failed",t,"\nProduct:",n)}})({code:o.code,reportingModuleName:p});if(!e)return s(Lu),void g({engine_status:"engine-initialize-error"});const t=(e=>{const{reportingModuleName:t}=e,n=ap("Custom",e);return En(!0,"Browsi custom params",n,"\nProduct:",t),op(n)})({firstPartyData:y,reportingModuleName:p,slot:l,spotId:f,mcmNetworkId:u.spot.mcm_network_id,monetizationId:u.monetization_id,platform:u.platform,isSliding:h,isSticky:v,isTakeover:_});let n;const r=c.current,i={customParams:t,...e};try{n=await Za((()=>(async e=>{let{tagId:t,customParams:n}=e;const r=(e=>{let{tagId:t,customParams:n}=e;return`https://cdn.avantisvideo.com/avm/js/video-loader.js?id=3e535150-3d67-4c18-923a-c0b480078c0f&tagId=${t}&${n}`})({tagId:t,customParams:n});try{return await Fa({url:r,async:!0,attributes:{id:"avantisJS"}}),window.brw=window.brw||{que:[]}}catch(e){throw new Error("Failed to load Browsi player")}})(i)),3,2e3)}catch(e){const t=Da(e);kn(!0,"Browsi script fetching failed",t,"\nProduct:",p)}if(!n||!r)return void kn(!0,"Browsi player initialization failed","\nProduct:",p,"\nPlayer:",n,"\nContainer:",r);const a=n;a.que.push((()=>{a.setPlacements({index:0,data:{placements:[{adIndex:0,element:r}]}}),a.onHasDemand({index:0,element:r}).then((()=>{a.play({index:0,data:{element:r,spotIndex:0}})})).catch((e=>{const t=Da(e);kn(!0,"Browsi player onHasDemand failed",t,"\nProduct:",p)}))}))}),[]),i.default.createElement(tp,{className:"ads__Browsi__browsiPlayer--iTTMP",ref:c,isHidden:!r,width:t,height:n,disableAnimation:!0})})),_p=e=>{let{children:t}=e;const[n]=El(),{isTakeoverEnabled:r,takeoverSize:o,isStickyDesktopRunning:a}=n.context;return i.default.createElement(i.default.Fragment,null,rs(Lf,r,{isStickyDesktopRunning:a,takeoverSize:o??{width:0,height:0}})(t))},yp=e=>{let{tag:t,adWidth:n,adHeight:r}=e;const[o]=El(),{adsConfig:a,adUnitId:s,spotId:c}=o.context,{id:u}=a.campaign,l=o.matches("video"),d=t.type.toLowerCase(),[f,p,h]=[P.Aniview,P.Browsi,P.AniviewAC].map(ma(d)),v=f&&!h,_=p&&!h;return i.default.createElement(i.default.Fragment,null,v&&i.default.createElement(lp,{tag:t,adWidth:n,adHeight:r,adUnitId:s,show:l,spotId:c,campaignId:u}),_&&i.default.createElement(vp,{tag:t,adWidth:n,adHeight:r,show:l}),h&&i.default.createElement(fp,{spotId:c,tag:t,adUnitId:s,campaignId:u}))};const gp=On(Pe,!1)&&On(Ce,!1),mp={position:"absolute",top:0,height:0,opacity:0,overflow:"hidden"},bp=e=>{let{show:t,width:n,height:r}=e;return t?{height:r}:{...mp,width:n}};var wp=e=>{let{adWidth:t,adHeight:n}=e;const[r]=El(),[o,a]=(0,i.useState)(null),[s,c]=(0,i.useState)(!1),{adsConfig:u,adUnitId:l,campaign:d,center:f,displayAdSize:p,isSlidingEnabled:h,isStickyDesktopRunning:v,isTakeoverEnabled:_,reportingModuleName:y,spotId:g,takeoverSize:m,userGroups:b}=r.context,w=nf(r,d),{id:S,passback:k,video:x}=u.campaign,A=x.type.toLowerCase(),O=Wu(r,["dbv","loader","video"]),I=_&&!v?s:O,{width:C}=m??{},P=_&&C?`${C}px`:t;if((0,i.useEffect)((()=>{En(!0,"Video player",A),qr(l,E,(e=>{let{width:t}=e;return a(t?`${t}px`:null)}))}),[]),(0,i.useEffect)((()=>{if(!O){const e=setTimeout((()=>c(O)),400);return()=>clearTimeout(e)}c(O)}),[O]),!o)return null;const N=r.matches("passback"),T=r.matches("video"),D=T||N,R=(e=>{let{adHeight:t,showVideo:n,reportingModuleName:r,displayAdSize:i,isSlidingEnabled:o}=e;const a="auto"===t,s=gp&&!n&&Q.includes(r),[,c]=i??[];return a?"auto":`${parseInt([{height:se,cond:s},{height:t,cond:n},{height:c,cond:Boolean(c)}].find(ma(!0,"cond"))?.height??ce)+(o?0:ef())}px`})({adHeight:n,showVideo:T,reportingModuleName:y,displayAdSize:p,isSlidingEnabled:h});return i.default.createElement("div",{className:hs()("ads__VideoFlow__outerContainer--Y9C5j",{"ads__VideoFlow__shown--mepf1":T}),style:{...bp({height:R,show:D,width:o})}},i.default.createElement(qf,{height:"100%",width:"100%",isCentered:f,overflow:_?"visible":"hidden"},I&&i.default.createElement(_p,null,i.default.createElement(yp,{tag:x,adWidth:t,adHeight:n}),!h&&i.default.createElement(tf,{width:P})),N&&k&&i.default.createElement(Qf,{adUnitId:l,adWidth:w,campaignId:S,mcmNetworkId:u.spot.mcm_network_id,spotId:g,tag:k,userGeo:u.geo,userGroups:b})))},Sp=e=>{let{hostOnDimensionsChange:t,hostOnVideoDone:n,hostOnVideoPlaying:r}=e;const[o]=El(),{adsConfig:a,adUnitId:s,reportingModuleName:c,skipVideo:u}=o.context;(0,fs.cO)((e=>{kn(!0,"Ad unit video runtime error",e,"\nProduct:",c),((e,t)=>{let{product:n}=t;Wr({metric:ye,error:Hn(e,ye),tags:{[be]:os(),[Ee]:n}})})(e,{product:c})}));const l=id("balanced");if(Wu(o,["adUnitDisabled","allAdsDone"]))return Jr(t,s,0,0),null;if(u&&!o.matches("passback"))return null;const{video:d}=a.campaign,{width:f,height:p}=d.size,h=f===K;return l?i.default.createElement(wp,{adWidth:h?"100%":f,adHeight:h?"auto":p,hostOnVideoPlaying:r,hostOnVideoDone:n}):null},Ep=e=>{let{adIndex:t,children:n,slot:r}=e;const[o]=El(),{adCallIds:a}=(0,i.useContext)(ql),s=t?(t+1).toString():void 0,c=s?r?.column?.toString():void 0,{campaign:u,reportingModuleName:l}=o.context,{Track:d}=no({ad_call_ids:a,campaign_id:u?.id,native:s,page_view_id:Yn(),post_id:In(),segment:c,source:l,source_version:bn.version,spot_id:Cn(),test_field:Ki.getAllExperiments(),type:"engine_status"},{dispatch:Qi});return i.default.createElement(d,null,n)};var kp=e=>{let{children:t}=e;const[n]=El(),{adsConfig:r,compact:o,isStickyEnabled:a,moduleName:s}=n.context,{isIntersecting:c,lazyLoadRef:u}=((e,t,n)=>{const[r,o]=(0,i.useState)(!1),a=`${((e,t)=>t.spot.features[e]?.lazy_load_v2_margin??0)(e,t)}px`,s={threshold:[.01],rootMargin:a,...n},c=(0,i.useCallback)((n=>{if(null!==n){if(!((e,t)=>Boolean(t.spot.features[e]?.lazy_load_v2_enabled))(e,t)||!$s)return void o(!0);En(!0,"Lazy Load Enabled",{moduleName:e,rootMargin:a});const r=new IntersectionObserver((t=>{let[i]=t;i.isIntersecting&&n&&(o(i.isIntersecting),En(!0,"Lazy Load Triggered",{moduleName:e,target:n,rootMargin:a}),r?.unobserve(n))}),s);return n&&r.observe(n),()=>{n&&r?.unobserve(n)}}}),[]);return{isIntersecting:r,lazyLoadRef:c}})(s,r);return i.default.createElement("div",{"data-mini-ad-unit":!0,ref:u,style:{width:a&&!o?"100%":"auto"}},c?t:null)},xp=e=>{let{children:t,context:n}=e;return i.default.createElement(bl,{machine:Xu.withContext(n)},t)},Ap=e=>{let{tag:t,mainTagResponsive:n}=e;const[r]=El(),{center:o,compact:a,userGroups:s,adUnitId:c,spotId:u,adsConfig:l,reportingModuleName:d}=r.context,f=n?"auto":a?se:t?.size?.height??ce;return(0,fs.cO)((e=>{kn(!0,"Ad unit display runtime error",e,"\nProduct:",d),us(e,{product:d})})),r.matches("loader")?i.default.createElement(qf,{height:f,width:"auto",isCentered:o},i.default.createElement(Zf,{adHeight:"250px",adWidth:ae})):i.default.createElement("div",{className:"ads__index__outerContainer--Vxu7R",style:{height:f}},i.default.createElement(qf,{height:f,width:"auto",isCentered:o},i.default.createElement(Kf,{tag:t,width:t?.size.width,height:t?.size.height,position:"relative"},t?.code&&i.default.createElement(Jf,{tag:t,spotId:u,size:t.size,adType:"displayBeforeVideo",adUnitId:c,userGroups:s,mcmNetworkId:l.spot.mcm_network_id,campaignId:l.campaign?.id,userGeo:l.geo}))))},Op=e=>{let{tag:t,selectedCampaign:n,isNativeAd:r=!1}=e;const o=((e,t)=>{if(e){const{height:e}=t.size;return{width:"100%",height:e}}return{width:t.size.width,height:t.size.height}})(r,t),a=((e,t,n)=>e?((e,t)=>e.includes(t)?e:t+e)(n,function(){return`\n    <style>\n      div div, div iframe { height: ${arguments.length>0&&void 0!==arguments[0]?arguments[0]:"200px"} !important; }\n    </style>\n    `.trim()}(t)):n)(r,t.size.height,t.code),[s]=El(),{userGroups:c,adUnitId:u,center:l,spotId:d,adsConfig:f,reportingModuleName:p}=s.context;return(0,fs.cO)((e=>{kn(!0,"Ad unit display runtime error",e,"\nProduct:",p),us(e,{product:p})})),i.default.createElement(i.Fragment,null,i.default.createElement(qf,{height:o.height,width:"auto",isCentered:l},i.default.createElement(Kf,{tag:t,position:"relative",height:o.height,width:o.width,isNativeAd:r},i.default.createElement(Jf,{campaign:n,tag:{...t,code:a},size:o,adType:"default",adUnitId:u,spotId:d,userGroups:c,mcmNetworkId:f.spot.mcm_network_id,campaignId:f.campaign?.id,userGeo:f.geo}))))};const Ip=e=>{switch(e.type){case c:return e.video.size.width===K;case u:return e.display.size.width===K}},Cp=e=>{if(e.type!==u)return!1;const{width:t,height:n}=e.display.size;return t===K&&null!=n},Pp=(e,t)=>{Gr(e,E,{width:t})},Np=e=>{let{onDimensionsChange:t,onNoAdAvailable:n,onVideoPlaying:r,onVideoDone:o,onTagUpdated:a,adIndex:s,slot:u}=e;const[l,d]=(0,i.useState)({[P.Dfp]:Ba(),[P.Aniview]:Ba(),[P.Browsi]:Ba(),[P.AniviewAC]:Ba()}),[f,p]=(0,i.useState)({}),h=(0,i.useRef)(null),[v,_]=El(),{adUnitId:y,adsConfig:g,campaign:m,disableAdForProduct:b,isAdUnitsOverlapDetected:w,isOptedOut:S,isSlidingEnabled:E,isTakeoverEnabled:k,moduleName:x,reportingModuleName:A,spotId:O}=v.context,I=(0,i.useCallback)((e=>d((t=>({...t,[e]:Ba()})))),[]);(()=>{const[e,t]=El(),{adUnitId:n}=e.context,r=(0,i.useCallback)((e=>{const{eventType:n}=e,r={[W]:()=>t(Mu)}[n];r&&r()}),[t]);(0,i.useEffect)((()=>{const e=((e,t)=>(0,Yt.Ld)(B,(n=>{n.adUnitId===e&&t(n)})))(n,r);return e}),[n,r])})(),((e,t)=>{const[n]=El(),{adUnitId:r}=n.context,o=(0,i.useRef)(!1),a=(0,i.useCallback)((e=>o.current||e!==Kl.InView?o.current&&[Kl.OutOfViewBottom,Kl.OutOfViewTop].some(ma(e))?(Yr({adUnitId:r,adUnitElement:t,eventType:Y}),void(o.current=!1)):void 0:(Yr({adUnitId:r,adUnitElement:t,eventType:H}),void(o.current=!0))),[t,r]);Zl({intersectionObserverOptions:{threshold:.01},isEnabled:e,target:t,callback:a})})(!w,h.current),(0,fs.cO)((e=>{kn(!0,"Ad unit base runtime error",e,"\nProduct:",A),us(e,{product:A})}));const C=m?.id,N=g.spot.features[x],T=Wu(v,["adUnitDisabled","allAdsDone"]),D=()=>{!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};Gr(arguments.length>1?arguments[1]:void 0,"onNoAdAvailable"),e()}(n,y),j(0,0)};(0,i.useEffect)((()=>{En(!0,"Ad unit campaign",m,"\nProduct:",A),Yr({adUnitId:y,eventType:G}),(e=>{const t=window.__SPOTIM_DISABLE_ADS__;window.__SPOTIM_DISABLE_ADS__=()=>{En(!0,"Ad unit disabled by global function","\nProduct:",A),_({type:ju}),D(),oo({reportingModuleName:A,campaignId:C}),Hr({metric:"ad-unit-disabled-by-global-function",options:{isDisposable:!0}}),Is();try{t()}catch(e){}}})();const e=Ss(A,C),t=Es({campaignId:C,reportingModuleName:A,isCampaignMissed:!m,isDisabledByFeaturesConfig:!N?.enabled,isDisabledByHtmlAttribute:b,isDisabledByIsOptedOutFlag:S});if(e||t||T)return T||_({type:ju}),void D();(e=>{let{dataSource:t,product:n}=e;Hr({metric:"ad-unit-rendered",tags:{[be]:os(),[we]:t,[Se]:as(),[Ee]:n,[ke]:ss()}})})({dataSource:g.dataSource,product:A}),(e=>{let{dataSource:t}=e;Hr({metric:"monetized-page-view",options:{isDisposable:!0},tags:{[be]:os(),[we]:t,[ke]:ss()}})})({dataSource:g.dataSource}),(e=>{let{monetizationId:t,reportingModuleName:n,campaignId:r,userGroups:i=[],slot:o}=e;const a=eo({...o,engine_status:"engine-monetization-load",target_id:t,user_segments:i},n,r);Qi(a)})({reportingModuleName:A,slot:u,campaignId:C,monetizationId:g.monetization_id,userGroups:g.user_groups}),qr(y,"onStylingChange",p),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};Gr(arguments.length>1?arguments[1]:void 0,"onTagUpdated"),e()}(a,y),((e,t)=>!!(e=>Boolean(e.moat_enabled))(e)&&jd(e,t))(N,"widget")&&((e,t)=>{const n=Id,r=ts(),i=document.createElement("script");i.src=`https://z.moatads.com/spotimdisplay705463185058/moatad.js#moatClientLevel1=${e}&moatClientLevel2=${n}&moatClientLevel3=${r}&moatClientLevel4=Geo&moatClientSlicer1=${t}`,i.async=!0,document.body.appendChild(i)})(O,A)}),[]);const R=nf(v,m),j=gs(((e,n)=>Jr(t,y,e,n)),100),M=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const o=(0,i.useRef)(null);return(0,i.useCallback)((r=>{if(null!==o.current&&(o.current.disconnect(),o.current=null),!e||null==r)return;const i=new ResizeObserver(t);i.observe(r,n),o.current=i}),r)}(!T,(e=>{const{width:t,height:n}=e[0].contentRect;j(t,n)})),U=(0,i.useCallback)((e=>{if(null===e)return;const t=e.getBoundingClientRect().width;t?Pp(y,t):((e,t)=>{const n=new ResizeObserver((e=>{n.disconnect(),t(e)}));n.observe(e)})(e,(e=>{Pp(y,e[0].contentRect.width)}))}),[]);if(T||!m)return null;const V=Wu(v,["initial","dbv","fixedDisplayAd","loader"])&&m.video?.type.toLocaleLowerCase()!==P.AniviewAC,$=m.type===c;return i.default.createElement(ql.Provider,{value:{adCallIds:l,regenerateAdCallId:I}},i.default.createElement(Ep,{adIndex:s,slot:u},i.default.createElement(kp,null,i.default.createElement(Gf,null,i.default.createElement("div",{className:hs()({[Rs.outerWrapper]:Ht}),ref:U},i.default.createElement("div",{style:f,ref:M},i.default.createElement("div",{id:"spotim-specific"},i.default.createElement("div",{ref:h,className:hs()(Rs.adWrapper,{[Rs.takeover]:k})},V&&i.default.createElement(i.default.Fragment,null,$?i.default.createElement(Ap,{tag:m.displayBeforeVideo,mainTagResponsive:Ip(m)}):i.default.createElement(Op,{tag:m.display,isNativeAd:Cp(m),selectedCampaign:m}),!E&&i.default.createElement(tf,{width:R})),$&&i.default.createElement(Sp,{hostOnDimensionsChange:t,hostOnVideoPlaying:r,hostOnVideoDone:o})))))))))};var Tp=()=>i.default.createElement("div",{style:{height:"50px",width:"50px"}});const Dp={};var Rp=()=>(0,i.useCallback)((e=>{Dp[e.adUnitId]=!0,Object.keys(Dp).length>1||((0,Yt.WI)("ads-ready"),En(!0,'Dispatched "ads-ready" global event'))}),[]),jp=()=>{const[e,t]=(0,i.useState)([]),n=(0,i.useRef)(e),r=e.length>1;(0,i.useEffect)((()=>{n.current=e}),[e]);const o=(0,i.useCallback)((e=>{t((t=>[...t,{id:e.adUnitId,element:e.adUnitElement}]))}),[]),a=(0,i.useCallback)((e=>{t((t=>t.filter((t=>{let{id:n}=t;return n!==e.adUnitId}))))}),[]),s=(0,i.useCallback)((()=>{const e=(r=n.current).map(((e,t)=>t===r.length-1?[]:r.slice(t+1).map((t=>((e,t)=>{const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return!(n.right<=r.left||n.left>=r.right||n.bottom<=r.top||n.top>=r.bottom)})(e.element,t.element)?[e,t]:null)).filter(Boolean))).flat();var r;Mr(e)||e.flat().forEach((e=>{var n;n={adUnitId:e.id,eventType:W},(0,Yt.WI)(B,n),t((t=>t.filter((t=>{let{id:n}=t;return n!==e.id}))))}))}),[]);return Xl({isEnabled:r,callback:s,throttleTimeout:500}),{handleAdUnitInView:o,handleAdUnitOutOfView:a}};const Mp=e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;return(0,i.useMemo)((()=>(e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;const i=cf({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r});return(e,t,n,r)=>{if(!r?.containerWidth||!r.maxCards)return void En(!0,"Missed required options for rendering multiple ad slots",r);const{containerWidth:o,maxCards:a}=r,s=((e,t)=>{let n=1;return Ht||(t<620?n=1:t>=620&&t<1024?n=2:t>=1024&&(n=3)),Math.min(n,e)})(a,o),c={display:"flex","flex-direction":"column","justify-content":"flex-start","margin-top":"30px","margin-bottom":"30px","margin-right":"20px","max-width":uf(o,s)};e.style.display="flex";for(let o=0;o<s;o++){const a=document.createElement("div"),s={...n,column:o+1};Object.assign(a.style,c),e.appendChild(a),i(a,t,s,r)}}})({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r})),[t,n,r])},Up=e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;return(0,i.useMemo)((()=>cf({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r})),[t,n,r])};var Vp=()=>{const e=(0,i.useCallback)((e=>{(e=>{if(!(e.error instanceof SyntaxError&&document.currentScript))return;const t=document.currentScript.innerHTML,n=(e=>{const t=`${bn.adsAssetType}.js`,n=bn.nodeEnv.isProduction?`${bn.version}/${bn.adsAssetType}/${t}`:`/${t}`;return Boolean(e.stack?.includes(n))})(e.error),r=t.includes(ie),i=t.includes(Cn());n&&r&&i&&cs(e.error)})(e)}),[]);(0,i.useEffect)((()=>(window.addEventListener("error",e),()=>{window.removeEventListener("error",e)})),[e])};function $p(e){var t=e.element,n=e.onAttributesChanged;t&&MutationObserver&&new MutationObserver((function(e){var t=e.filter((function(e){return"attributes"===e.type&&e.attributeName}));if(t.length>0){var r,i=null==(r=t.find((function(e){return e.target})))?void 0:r.target;null==n||n(i,t)}})).observe(t,{attributes:!0})}function Lp(e){var t=e.element,n=e.onRemoved;t&&MutationObserver&&t.parentNode&&new MutationObserver((function(e,r){e.some((function(e){return Array.from(e.removedNodes).indexOf(t)>-1}))&&(n(e[0].removedNodes[0]),r.disconnect())})).observe(t.parentNode,{childList:!0})}const zp=On(Ie,{}),Bp=On(Oe,!1),Fp=On("tenant_config.ads.independent_ads_enabled",!0),Wp=(e,t)=>{const n=t??"div[data-openweb-ad]";Fp?function(e){var t=e.selector,n=e.onAdded,r=e.onAttributesChanged,i=void 0===r?function(){}:r,o=e.onRemoved,a=void 0===o?function(){}:o,s="spotim-detector-animation-"+function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t+Math.floor(1e5+9e5*Math.random())||0}(t);Jt()?function(e){var t=e.selector,n=e.onItemFound,r=document.querySelector(t);if(r)n(r);else var i=setInterval((function(){var e=document.querySelector(t);e&&(n(e),clearInterval(i))}),1e3)}({selector:t,onItemFound:function(e){n(e),Lp({element:e,onRemoved:a}),$p({element:e,onAttributesChanged:i})}}):(function(e){var t=e.selector,n=e.animationName;requestAnimationFrame((function(){var e,r=document.createElement("style");r.setAttribute("data-spot-im-style-module","*"),r.setAttribute("data-spot-im-style","true"),r.innerText=("\n  "+t+" {\n    animation: "+n+" 1ms !important;\n  }\n  \n  @keyframes "+n+" {\n    from {\n    } to {\n    }\n  }\n  ").replace(/\n/g,""),document.head.appendChild(r),(null==(e=window.__SPOTIM__)?void 0:e.stylesheetElementAdded)&&window.__SPOTIM__.stylesheetElementAdded({module:"*",stylesheetElement:r});var i=document.querySelectorAll("data-spot-im-shadow-host");Array.from(i).forEach((function(e){e.shadowRoot&&e.shadowRoot.appendChild(r.cloneNode())}))}))}({animationName:s,selector:t}),function(e){var t=e.animationName,n=e.onItemFound,r=function(e){var r;e.animationName!==t&&(null==e||null==(r=e.detail)?void 0:r.animationName)!==t||!e.target||n&&n(e.composedPath()[0])};document.addEventListener("animationstart",r),document.addEventListener("MSAnimationStart",r),document.addEventListener("webkitAnimationStart",r)}({animationName:s,onItemFound:function(e){n(e),Lp({element:e,onRemoved:a}),$p({element:e,onAttributesChanged:i})}}))}({selector:n,onAdded:t=>Hp(n,t,e)}):En(!0,"Independent Ads Disabled")},Hp=(e,t,n)=>{const r="data-rendered";if(t.hasAttribute(r))return;const i=Bp&&Boolean(zp[e]),o=!i&&(e=>{const t=e.getAttribute("data-row"),n=e.getAttribute("data-column");if([t,n].includes(null))return!1;const r=Number(t),i=Number(n),o=Ls(r),a=Ls(i);return o&&a})(t)?{row:Number(t.getAttribute("data-row")),column:Number(t.getAttribute("data-column"))}:Qa,a=i?zp[e]:o,s=t.dataset?.pageType??"",c=Object.values(ee).includes(s)?s:"independent_ad";n(t,c,a,{forceSpecificSlot:!1}),t.setAttribute(r,"true"),(e=>{const t=eo({type:"loaded"},e);Qi(t)})(c)},Yp=On(Ie,{}),Gp=On(Oe,!1),qp=e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;(0,i.useEffect)((()=>{if(bn.adsAssetType!==x)return;const e=(i=(e,i)=>{const o=(e=>{let{target:t,product:n}=e,r={...Os[n]};switch(n){case g:{const e=t.hasAttribute("data-spotlight-sidebar")||On(De);r={...r,center:Boolean(e),adPosition:e||Ht?d:p,moduleName:e?"conversation_header_siderail":"conversation_header"};break}case v:{const e=t.dataset?.pageType,n=t.hasAttribute("data-vertical-view")||Ts(t),i=On("tenant_config.pitc.bottomVerticalAd",!1),o=Ht||n,a=On(Te,!0),s=(()=>{const e=On("tenant_config.pitc.mobileAdPosition",d);return e===d||e===l?e:d})(),c=On(Ne,!1),u=On(Pe,!1)&&On(Ce,!1)||"compact"===On("tenant_config.pitc.layoutVariant"),h=Ht&&s===l,v=n?i?d:l:Ht&&!c?s:a?f:p,_=Ds(t),y=n?"side_rail":e&&X.hasOwnProperty(e)?X[e]:"pitc";r={...r,adPosition:v,titleBelowAd:h,moduleName:_,center:o,compact:u,reportingModuleName:y};break}case _:{const e=On(Ne,!1),n=On(xe.Ltr,!0),i=On(Te,!0),o=Ht&&!e?d:n===i?f:p,a=Ds(t);r={...r,adPosition:o,moduleName:a};break}case y:{const e=(e=>{const t=On("tenant_config.reactions.shouldRenderAdBelow",!1),{width:n}=e.getBoundingClientRect();return t?d:n>=720?p:d})(t),n=t.hasAttribute("data-vertical-view");r={...r,adPosition:e,moduleName:n?"reactions_siderail":"reactions"};break}case m:{const e=On("tenant_config.topic-tracker.shouldRenderAdBelow",!1),n=On("tenant_config.topic-tracker.override_spotlight")&&(t.hasAttribute("data-spotlight-sidebar")||On(De))||t.hasAttribute("data-topic-tracker-sidebar")||"true"===t.getAttribute("data-vertical-view")||On("tenant_config.topic-tracker.isSidebar"),i=n?"topic_tracker_siderail":"topic_tracker";r={...r,center:!0,adPosition:n||Ht||e?d:p,moduleName:i};break}}return{...r,product:n,reportingModuleName:r.reportingModuleName??r.moduleName}})({product:e,target:i}),a=Bd(t,o);if(!a)return;const{adsConfig:{campaign:s},moduleName:c,reportingModuleName:u}=a,{is_sliding:h,is_sticky:b,is_video_takeover:w,sliding_container_size:S}=s??{},{headerDiv:E,productContainer:k,productAndTitleContainer:x,stylingWrapper:A}=((e,t)=>{const n=(()=>{const e=On(xe.Ltr,!0),t=document.createElement("div");return t.setAttribute("data-spot-im-direction",e?"ltr":"rtl"),t})(),r=(e=>{const t=document.createElement("div"),n=e.moduleName,r=e.adPosition||f;return t.classList.add(Rs.adUnitWrapper,Rs[Ns(r)],Rs[n]),t.setAttribute(`${n}-ad-wrapper`,""),t})(t),i=((e,t,n,r)=>{const i=document.createElement("div");return i.id="spotim-specific",i.className=e.className,i.setAttribute("data-openweb-style-wrapper","true"),i.setAttribute(`${r}-ad-container`,""),i.appendChild(n),n.appendChild(t),i})(e,r,n,t.moduleName);return((e,t,n)=>{e.insertAdjacentElement("beforebegin",t),e.className=Rs.elementWrapper,e.setAttribute("data-ad-unit-id",n.adUnitId)})(e,i,t),{productContainer:r,headerDiv:js(),productAndTitleContainer:i,stylingWrapper:n}})(i,a),O=zd({adUnitProps:a,target:i,contextOverrides:{isSlidingEnabled:sf(Boolean(h),c),isStickyEnabled:Rf(Boolean(b),c),isTakeoverEnabled:Ff(Boolean(w),e),slidingContainerExtension:S,takeoverSize:Yf(e,k)}}),I=()=>Ms({adUnitProps:a,headerDiv:E,productContainer:k,productAndTitleContainer:x,stylingWrapper:A,target:i});io({reportingModuleName:u,campaignId:s?.id}),zs(c,u,i,(()=>{n({context:O,props:a,target:k}),I()}),(()=>{r({target:k}),I()}))},(0,Yt.Ld)("products-to-load",(e=>e.map((e=>(0,Yt.Ld)(`${e}-bootstrap`,(t=>{Boolean(lf[e]&&(!df[e]||df[e]!==t))&&(df[e]=t,i(e,t))})))))));var i;return()=>{e&&e()}}),[t,n,r])};var Jp=e=>{let{adsConfigs:t}=e;(()=>{const{handleAdUnitInView:e,handleAdUnitOutOfView:t}=jp(),n=Rp(),r=(0,i.useCallback)((r=>{const{eventType:i}=r,o={[H]:e,[Y]:t,[G]:n}[i];o&&o(r)}),[e,t,n]);(0,i.useEffect)((()=>{var e;return e=r,(0,Yt.Ld)(F,e)}),[r])})();const n=(0,i.useCallback)((e=>{let{context:t,props:n,target:r}=e;o(r).render(i.default.createElement(xp,{context:t},i.default.createElement(Np,n)))}),[]),r=(0,i.useCallback)((e=>{let{target:t}=e;o(t).render(i.default.createElement(Tp,null))}),[]);return(e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;const[o,a]=(0,i.useState)(!1),s=Up({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}),c=Mp({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r});(0,i.useEffect)((()=>{(e=>{window.__OPEN_WEB__=window.__OPEN_WEB__||{},window.__OPEN_WEB__.renderAdUnit=e})(s),(e=>{window.__OPEN_WEB__=window.__OPEN_WEB__||{},window.__OPEN_WEB__.renderMultipleAdSlots=e})(c),a(!0)}),[s,c]),(0,i.useEffect)((()=>{(0,Yt.WI)("ad-ops-config-ready")}),[o])})({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}),(e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;const o=Up({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r});(0,i.useEffect)((()=>{const e=Object.keys(Yp);Gp&&e.length?e.map((e=>Wp(o,e))):Wp(o)}),[o])})({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}),qp({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}),Vp(),(()=>{const e=(0,i.useCallback)((e=>{(e=>{const{data:t}=e,n=t.type===z,r=t.error instanceof SyntaxError;n&&r&&t.isGoogleDfpScript&&cs(t.error)})(e)}),[]);(0,i.useEffect)((()=>(window.addEventListener("message",e),()=>{window.removeEventListener("message",e)})),[e])})(),i.default.createElement(i.default.Fragment,null)},Kp=()=>{const e=(()=>{const[e,t]=(0,i.useState)();return kl((async()=>{try{const e=await md();if(!e)return void En(!0,"No ads config");t(e)}catch(e){kn(!0,"Get ads config error",e)}}),[]),e})(),t=id("low_impact"),n=(e=>{const[t,n]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{if(!e)return;const{ats:t}=e.thirdPartyData;Od(t),n(!0)}),[e]),t})(e),r=e&&t&&n;return(0,fs.cO)((e=>{kn(!0,"Bootstrapper runtime error",e),ls(e)})),r?i.default.createElement(Jp,{adsConfigs:e.data}):null},Zp=()=>{try{if(bn.nodeEnv.isTest)return;const{adsAssetType:e,version:t}=bn,n=e===x;if(n){if(n&&s.flags.isAdsAssetRunning)return void En(!0,"Ads asset is already running");s.flags.isAdsAssetRunning=!0}const r=e===A;if(r){if(r&&s.flags.isAdsIndependentAssetRunning)return void En(!0,"Ads-independent asset is already running");s.flags.isAdsIndependentAssetRunning=!0}En(!0,"Ads asset data",e,t),Hr({metric:"ads-script-started",tags:{"ab-test-irrelevant-variant":is(),browser:bn.browser.type,[Se]:as(),platform:bn.platform,[ke]:ss()}}),o(new DocumentFragment).render(i.default.createElement(i.default.StrictMode,null,i.default.createElement(Kp,null)))}catch(e){const t=Da(e);kn(!0,"Bootstrap runtime error",t),ls(t)}}},184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},996:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function a(e,t){try{return t in e}catch(e){return!1}}function s(e,n,c){(c=c||{}).arrayMerge=c.arrayMerge||i,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=r;var u=Array.isArray(n);return u===Array.isArray(e)?u?c.arrayMerge(e,n,c):function(e,t,n){var i={};return n.isMergeableObject(e)&&o(e).forEach((function(t){i[t]=r(e[t],n)})),o(t).forEach((function(o){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(a(e,o)&&n.isMergeableObject(t[o])?i[o]=function(e,t){if(!t.customMerge)return s;var n=t.customMerge(e);return"function"==typeof n?n:s}(o,n)(e[o],t[o],n):i[o]=r(t[o],n))})),i}(e,n,c):r(n,c)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return s(e,n,t)}),{})};var c=s;e.exports=c},679:function(e,t,n){"use strict";var r=n(864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=c(t),v=c(n),_=0;_<a.length;++_){var y=a[_];if(!(o[y]||r&&r[y]||v&&v[y]||s&&s[y])){var g=f(n,y);try{u(t,y,g)}catch(e){}}}}return t}},661:function(e,t,n){"use strict";n.r(t),n.d(t,{Children:function(){return h},Component:function(){return r.wA},Fragment:function(){return r.HY},PureComponent:function(){return c},StrictMode:function(){return ee},Suspense:function(){return m},SuspenseList:function(){return S},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:function(){return W},cloneElement:function(){return J},createContext:function(){return r.kr},createElement:function(){return r.az},createFactory:function(){return Y},createPortal:function(){return A},createRef:function(){return r.Vf},default:function(){return se},findDOMNode:function(){return Z},flushSync:function(){return X},forwardRef:function(){return f},hydrate:function(){return R},isElement:function(){return oe},isFragment:function(){return q},isValidElement:function(){return G},lazy:function(){return w},memo:function(){return u},render:function(){return D},startTransition:function(){return te},unmountComponentAtNode:function(){return K},unstable_batchedUpdates:function(){return Q},useCallback:function(){return i.I4},useContext:function(){return i.qp},useDebugValue:function(){return i.Qb},useDeferredValue:function(){return ne},useEffect:function(){return i.d4},useErrorBoundary:function(){return i.cO},useId:function(){return i.Me},useImperativeHandle:function(){return i.aP},useInsertionEffect:function(){return ie},useLayoutEffect:function(){return i.bt},useMemo:function(){return i.Ye},useReducer:function(){return i._Y},useRef:function(){return i.sO},useState:function(){return i.eJ},useSyncExternalStore:function(){return ae},useTransition:function(){return re},version:function(){return H}});var r=n(400),i=n(396);function o(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function s(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}function c(e){this.props=e}function u(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:a(this.props,e)}function i(t){return this.shouldComponentUpdate=n,(0,r.az)(e,t)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}(c.prototype=new r.wA).isPureReactComponent=!0,c.prototype.shouldComponentUpdate=function(e,t){return a(this.props,e)||a(this.state,t)};var l=r.YM.__b;r.YM.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),l&&l(e)};var d="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function f(e){function t(t){var n=o({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=d,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var p=function(e,t){return null==e?null:(0,r.bR)((0,r.bR)(e).map(t))},h={map:p,forEach:p,count:function(e){return e?(0,r.bR)(e).length:0},only:function(e){var t=(0,r.bR)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:r.bR},v=r.YM.__e;r.YM.__e=function(e,t,n,r){if(e.then)for(var i,o=t;o=o.__;)if((i=o.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);v(e,t,n,r)};var _=r.YM.unmount;function y(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=o({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return y(e,t,n)}))),e}function g(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return g(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function m(){this.__u=0,this.t=null,this.__b=null}function b(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function w(e){var t,n,i;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){i=e})),i)throw i;if(!n)throw t;return(0,r.az)(n,o)}return o.displayName="Lazy",o.__f=!0,o}function S(){this.u=null,this.o=null}r.YM.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),_&&_(e)},(m.prototype=new r.wA).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=b(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(s):s())};n.__R=a;var s=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=g(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(a,a)},m.prototype.componentWillUnmount=function(){this.t=[]},m.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=y(this.__b,n,i.__O=i.__P)}this.__b=null}var o=t.__a&&(0,r.az)(r.HY,null,e.fallback);return o&&(o.__h=null),[(0,r.az)(r.HY,null,t.__a?null:e.children),o]};var E=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function k(e){return this.getChildContext=function(){return e.context},e.children}function x(e){var t=this,n=e.i;t.componentWillUnmount=function(){(0,r.sY)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),(0,r.sY)((0,r.az)(k,{context:t.context},e.__v),t.l)}function A(e,t){var n=(0,r.az)(x,{__v:e,i:t});return n.containerInfo=t,n}(S.prototype=new r.wA).__a=function(e){var t=this,n=b(t.__v),r=t.o.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),E(t,e,r)):i()};n?n(o):o()}},S.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,r.bR)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},S.prototype.componentDidUpdate=S.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){E(e,n,t)}))};var O="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,I=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,C=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,P=/[A-Z0-9]/g,N="undefined"!=typeof document,T=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};function D(e,t,n){return null==t.__k&&(t.textContent=""),(0,r.sY)(e,t),"function"==typeof n&&n(),e?e.__c:null}function R(e,t,n){return(0,r.ZB)(e,t),"function"==typeof n&&n(),e?e.__c:null}r.wA.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(r.wA.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var j=r.YM.event;function M(){}function U(){return this.cancelBubble}function V(){return this.defaultPrevented}r.YM.event=function(e){return j&&(e=j(e)),e.persist=M,e.isPropagationStopped=U,e.isDefaultPrevented=V,e.nativeEvent=e};var $,L={enumerable:!1,configurable:!0,get:function(){return this.class}},z=r.YM.vnode;r.YM.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,i={};for(var o in t){var a=t[o];if(!("value"===o&&"defaultValue"in t&&null==a||N&&"children"===o&&"noscript"===n||"class"===o||"className"===o)){var s=o.toLowerCase();"defaultValue"===o&&"value"in t&&null==t.value?o="value":"download"===o&&!0===a?a="":"ondoubleclick"===s?o="ondblclick":"onchange"!==s||"input"!==n&&"textarea"!==n||T(t.type)?"onfocus"===s?o="onfocusin":"onblur"===s?o="onfocusout":C.test(o)?o=s:-1===n.indexOf("-")&&I.test(o)?o=o.replace(P,"-$&").toLowerCase():null===a&&(a=void 0):s=o="oninput","oninput"===s&&i[o=s]&&(o="oninputCapture"),i[o]=a}}"select"==n&&i.multiple&&Array.isArray(i.value)&&(i.value=(0,r.bR)(t.children).forEach((function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)}))),"select"==n&&null!=i.defaultValue&&(i.value=(0,r.bR)(t.children).forEach((function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value}))),t.class&&!t.className?(i.class=t.class,Object.defineProperty(i,"className",L)):(t.className&&!t.class||t.class&&t.className)&&(i.class=i.className=t.className),e.props=i}(e),e.$$typeof=O,z&&z(e)};var B=r.YM.__r;r.YM.__r=function(e){B&&B(e),$=e.__c};var F=r.YM.diffed;r.YM.diffed=function(e){F&&F(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),$=null};var W={ReactCurrentDispatcher:{current:{readContext:function(e){return $.__n[e.__c].props.value}}}},H="17.0.2";function Y(e){return r.az.bind(null,e)}function G(e){return!!e&&e.$$typeof===O}function q(e){return G(e)&&e.type===r.HY}function J(e){return G(e)?r.Tm.apply(null,arguments):e}function K(e){return!!e.__k&&((0,r.sY)(null,e),!0)}function Z(e){return e&&(e.base||1===e.nodeType&&e)||null}var Q=function(e,t){return e(t)},X=function(e,t){return e(t)},ee=r.HY;function te(e){e()}function ne(e){return e}function re(){return[!1,te]}var ie=i.bt,oe=G;function ae(e,t){var n=t(),r=(0,i.eJ)({h:{__:n,v:t}}),o=r[0].h,a=r[1];return(0,i.bt)((function(){o.__=n,o.v=t,s(o.__,t())||a({h:o})}),[e,n,t]),(0,i.d4)((function(){return s(o.__,o.v())||a({h:o}),e((function(){s(o.__,o.v())||a({h:o})}))}),[e]),n}var se={useState:i.eJ,useId:i.Me,useReducer:i._Y,useEffect:i.d4,useLayoutEffect:i.bt,useInsertionEffect:ie,useTransition:re,useDeferredValue:ne,useSyncExternalStore:ae,startTransition:te,useRef:i.sO,useImperativeHandle:i.aP,useMemo:i.Ye,useCallback:i.I4,useContext:i.qp,useDebugValue:i.Qb,version:"17.0.2",Children:h,render:D,hydrate:R,unmountComponentAtNode:K,createPortal:A,createElement:r.az,createContext:r.kr,createFactory:Y,cloneElement:J,createRef:r.Vf,Fragment:r.HY,isValidElement:G,isElement:oe,isFragment:q,findDOMNode:Z,Component:r.wA,PureComponent:c,memo:u,forwardRef:f,flushSync:X,unstable_batchedUpdates:Q,StrictMode:ee,Suspense:m,SuspenseList:S,lazy:w,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:W}},400:function(e,t,n){"use strict";n.d(t,{HY:function(){return b},Tm:function(){return F},Vf:function(){return m},YM:function(){return i},ZB:function(){return B},az:function(){return y},bR:function(){return I},kr:function(){return W},sY:function(){return z},wA:function(){return w}});var r,i,o,a,s,c,u,l,d={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function v(e,t){for(var n in t)e[n]=t[n];return e}function _(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n){var i,o,a,s={};for(a in t)"key"==a?i=t[a]:"ref"==a?o=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return g(e,s,i,o,null)}function g(e,t,n,r,a){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++o:a};return null==a&&null!=i.vnode&&i.vnode(s),s}function m(){return{current:null}}function b(e){return e.children}function w(e,t){this.props=e,this.context=t}function S(e,t){if(null==t)return e.__?S(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?S(e):null}function E(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return E(e)}}function k(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!x.__r++||s!==i.debounceRendering)&&((s=i.debounceRendering)||c)(x)}function x(){var e,t,n,r,i,o,s,c,l;for(a.sort(u);e=a.shift();)e.__d&&(t=a.length,r=void 0,i=void 0,o=void 0,c=(s=(n=e).__v).__e,(l=n.__P)&&(r=[],i=[],(o=v({},s)).__v=s.__v+1,j(l,s,o,n.__n,void 0!==l.ownerSVGElement,null!=s.__h?[c]:null,r,null==c?S(s):c,s.__h,i),M(r,s,i),s.__e!=c&&E(s)),a.length>t&&a.sort(u));x.__r=0}function A(e,t,n,r,i,o,a,s,c,u,l){var p,v,_,y,m,w,E,k,x,A=0,I=r&&r.__k||f,N=I.length,T=N,D=t.length;for(n.__k=[],p=0;p<D;p++)null!=(y=n.__k[p]=null==(y=t[p])||"boolean"==typeof y||"function"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?g(null,y,null,null,y):h(y)?g(b,{children:y},null,null,null):y.__b>0?g(y.type,y.props,y.key,y.ref?y.ref:null,y.__v):y)?(y.__=n,y.__b=n.__b+1,-1===(k=P(y,I,E=p+A,T))?_=d:(_=I[k]||d,I[k]=void 0,T--),j(e,y,_,i,o,a,s,c,u,l),m=y.__e,(v=y.ref)&&_.ref!=v&&(_.ref&&V(_.ref,null,y),l.push(v,y.__c||m,y)),null!=m&&(null==w&&(w=m),(x=_===d||null===_.__v)?-1==k&&A--:k!==E&&(k===E+1?A++:k>E?T>D-E?A+=k-E:A--:A=k<E&&k==E-1?k-E:0),E=p+A,"function"!=typeof y.type||k===E&&_.__k!==y.__k?"function"==typeof y.type||k===E&&!x?void 0!==y.__d?(c=y.__d,y.__d=void 0):c=m.nextSibling:c=C(e,m,c):c=O(y,c,e),"function"==typeof n.type&&(n.__d=c))):(_=I[p])&&null==_.key&&_.__e&&(_.__e==c&&(c=S(_)),$(_,_,!1),I[p]=null);for(n.__e=w,p=N;p--;)null!=I[p]&&("function"==typeof n.type&&null!=I[p].__e&&I[p].__e==n.__d&&(n.__d=I[p].__e.nextSibling),$(I[p],I[p]))}function O(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t="function"==typeof r.type?O(r,t,n):C(n,r.__e,t));return t}function I(e,t){return t=t||[],null==e||"boolean"==typeof e||(h(e)?e.some((function(e){I(e,t)})):t.push(e)),t}function C(e,t,n){return null==n||n.parentNode!==e?e.insertBefore(t,null):t==n&&null!=t.parentNode||e.insertBefore(t,n),t.nextSibling}function P(e,t,n,r){var i=e.key,o=e.type,a=n-1,s=n+1,c=t[n];if(null===c||c&&i==c.key&&o===c.type)return n;if(r>(null!=c?1:0))for(;a>=0||s<t.length;){if(a>=0){if((c=t[a])&&i==c.key&&o===c.type)return a;a--}if(s<t.length){if((c=t[s])&&i==c.key&&o===c.type)return s;s++}}return-1}function N(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||p.test(t)?n:n+"px"}function T(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||N(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||N(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?R:D,o):e.removeEventListener(t,o?R:D,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function D(e){return this.l[e.type+!1](i.event?i.event(e):e)}function R(e){return this.l[e.type+!0](i.event?i.event(e):e)}function j(e,t,n,r,o,a,s,c,u,l){var d,f,p,_,y,g,m,S,E,k,x,O,I,C,P,N=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,c=t.__e=n.__e,t.__h=null,a=[c]),(d=i.__b)&&d(t);e:if("function"==typeof N)try{if(S=t.props,E=(d=N.contextType)&&r[d.__c],k=d?E?E.props.value:d.__:r,n.__c?m=(f=t.__c=n.__c).__=f.__E:("prototype"in N&&N.prototype.render?t.__c=f=new N(S,k):(t.__c=f=new w(S,k),f.constructor=N,f.render=L),E&&E.sub(f),f.props=S,f.state||(f.state={}),f.context=k,f.__n=r,p=f.__d=!0,f.__h=[],f._sb=[]),null==f.__s&&(f.__s=f.state),null!=N.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=v({},f.__s)),v(f.__s,N.getDerivedStateFromProps(S,f.__s))),_=f.props,y=f.state,f.__v=t,p)null==N.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==N.getDerivedStateFromProps&&S!==_&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(S,k),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(S,f.__s,k)||t.__v===n.__v)){for(t.__v!==n.__v&&(f.props=S,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),x=0;x<f._sb.length;x++)f.__h.push(f._sb[x]);f._sb=[],f.__h.length&&s.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(S,f.__s,k),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(_,y,g)}))}if(f.context=k,f.props=S,f.__P=e,f.__e=!1,O=i.__r,I=0,"prototype"in N&&N.prototype.render){for(f.state=f.__s,f.__d=!1,O&&O(t),d=f.render(f.props,f.state,f.context),C=0;C<f._sb.length;C++)f.__h.push(f._sb[C]);f._sb=[]}else do{f.__d=!1,O&&O(t),d=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++I<25);f.state=f.__s,null!=f.getChildContext&&(r=v(v({},r),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(g=f.getSnapshotBeforeUpdate(_,y)),A(e,h(P=null!=d&&d.type===b&&null==d.key?d.props.children:d)?P:[P],t,n,r,o,a,s,c,u,l),f.base=t.__e,t.__h=null,f.__h.length&&s.push(f),m&&(f.__E=f.__=null)}catch(e){t.__v=null,(u||null!=a)&&(t.__e=c,t.__h=!!u,a[a.indexOf(c)]=null),i.__e(e,t,n)}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=U(n.__e,t,n,r,o,a,s,u,l);(d=i.diffed)&&d(t)}function M(e,t,n){for(var r=0;r<n.length;r++)V(n[r],n[++r],n[++r]);i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function U(e,t,n,i,o,a,s,c,u){var l,f,p,v=n.props,y=t.props,g=t.type,m=0;if("svg"===g&&(o=!0),null!=a)for(;m<a.length;m++)if((l=a[m])&&"setAttribute"in l==!!g&&(g?l.localName===g:3===l.nodeType)){e=l,a[m]=null;break}if(null==e){if(null===g)return document.createTextNode(y);e=o?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,y.is&&y),a=null,c=!1}if(null===g)v===y||c&&e.data===y||(e.data=y);else{if(a=a&&r.call(e.childNodes),f=(v=n.props||d).dangerouslySetInnerHTML,p=y.dangerouslySetInnerHTML,!c){if(null!=a)for(v={},m=0;m<e.attributes.length;m++)v[e.attributes[m].name]=e.attributes[m].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(function(e,t,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in t||T(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||T(e,o,t[o],n[o],r)}(e,y,v,o,c),p)t.__k=[];else if(A(e,h(m=t.props.children)?m:[m],t,n,i,o&&"foreignObject"!==g,a,s,a?a[0]:n.__k&&S(n,0),c,u),null!=a)for(m=a.length;m--;)null!=a[m]&&_(a[m]);c||("value"in y&&void 0!==(m=y.value)&&(m!==e.value||"progress"===g&&!m||"option"===g&&m!==v.value)&&T(e,"value",m,v.value,!1),"checked"in y&&void 0!==(m=y.checked)&&m!==e.checked&&T(e,"checked",m,v.checked,!1))}return e}function V(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,n)}}function $(e,t,n){var r,o;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||V(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&$(r[o],t,n||"function"!=typeof e.type);n||null==e.__e||_(e.__e),e.__=e.__e=e.__d=void 0}function L(e,t,n){return this.constructor(e,n)}function z(e,t,n){var o,a,s,c;i.__&&i.__(e,t),a=(o="function"==typeof n)?null:n&&n.__k||t.__k,s=[],c=[],j(t,e=(!o&&n||t).__k=y(b,null,[e]),a||d,d,void 0!==t.ownerSVGElement,!o&&n?[n]:a?null:t.firstChild?r.call(t.childNodes):null,s,!o&&n?n:a?a.__e:t.firstChild,o,c),M(s,e,c)}function B(e,t){z(e,t,B)}function F(e,t,n){var i,o,a,s,c=v({},e.props);for(a in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)"key"==a?i=t[a]:"ref"==a?o=t[a]:c[a]=void 0===t[a]&&void 0!==s?s[a]:t[a];return arguments.length>2&&(c.children=arguments.length>3?r.call(arguments,2):n),g(e.type,c,i||e.key,o||e.ref,null)}function W(e,t){var n={__c:t="__cC"+l++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,k(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}r=f.slice,i={__e:function(e,t,n,r){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},o=0,w.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),"function"==typeof e&&(e=e(v({},n),this.props)),e&&v(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),k(this))},w.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),k(this))},w.prototype.render=b,a=[],c="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,t){return e.__v.__b-t.__v.__b},x.__r=0,l=0},396:function(e,t,n){"use strict";n.d(t,{I4:function(){return k},Me:function(){return I},Qb:function(){return A},Ye:function(){return E},_Y:function(){return g},aP:function(){return S},bt:function(){return b},cO:function(){return O},d4:function(){return m},eJ:function(){return y},qp:function(){return x},sO:function(){return w}});var r,i,o,a,s=n(400),c=0,u=[],l=[],d=s.YM.__b,f=s.YM.__r,p=s.YM.diffed,h=s.YM.__c,v=s.YM.unmount;function _(e,t){s.YM.__h&&s.YM.__h(i,e,c||t),c=0;var n=i.__H||(i.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:l}),n.__[e]}function y(e){return c=1,g(j,e)}function g(e,t,n){var o=_(r++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):j(void 0,t),function(e){var t=o.__N?o.__N[0]:o.__[0],n=o.t(t,e);t!==n&&(o.__N=[n,o.__[1]],o.__c.setState({}))}],o.__c=i,!i.u)){var a=function(e,t,n){if(!o.__c.__H)return!0;var r=o.__c.__H.__.filter((function(e){return e.__c}));if(r.every((function(e){return!e.__N})))return!s||s.call(this,e,t,n);var i=!1;return r.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(i=!0)}})),!(!i&&o.__c.props===e)&&(!s||s.call(this,e,t,n))};i.u=!0;var s=i.shouldComponentUpdate,c=i.componentWillUpdate;i.componentWillUpdate=function(e,t,n){if(this.__e){var r=s;s=void 0,a(e,t,n),s=r}c&&c.call(this,e,t,n)},i.shouldComponentUpdate=a}return o.__N||o.__}function m(e,t){var n=_(r++,3);!s.YM.__s&&R(n.__H,t)&&(n.__=e,n.i=t,i.__H.__h.push(n))}function b(e,t){var n=_(r++,4);!s.YM.__s&&R(n.__H,t)&&(n.__=e,n.i=t,i.__h.push(n))}function w(e){return c=5,E((function(){return{current:e}}),[])}function S(e,t,n){c=6,b((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))}function E(e,t){var n=_(r++,7);return R(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function k(e,t){return c=8,E((function(){return e}),t)}function x(e){var t=i.context[e.__c],n=_(r++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(i)),t.props.value):e.__}function A(e,t){s.YM.useDebugValue&&s.YM.useDebugValue(t?t(e):e)}function O(e){var t=_(r++,10),n=y();return t.__=e,i.componentDidCatch||(i.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),[n[0],function(){n[1](void 0)}]}function I(){var e=_(r++,11);if(!e.__){for(var t=i.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function C(){for(var e;e=u.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(T),e.__H.__h.forEach(D),e.__H.__h=[]}catch(t){e.__H.__h=[],s.YM.__e(t,e.__v)}}s.YM.__b=function(e){i=null,d&&d(e)},s.YM.__r=function(e){f&&f(e),r=0;var t=(i=e.__c).__H;t&&(o===i?(t.__h=[],i.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=l,e.__N=e.i=void 0}))):(t.__h.forEach(T),t.__h.forEach(D),t.__h=[],r=0)),o=i},s.YM.diffed=function(e){p&&p(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==u.push(t)&&a===s.YM.requestAnimationFrame||((a=s.YM.requestAnimationFrame)||N)(C)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==l&&(e.__=e.__V),e.i=void 0,e.__V=l}))),o=i=null},s.YM.__c=function(e,t){t.some((function(e){try{e.__h.forEach(T),e.__h=e.__h.filter((function(e){return!e.__||D(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],s.YM.__e(n,e.__v)}})),h&&h(e,t)},s.YM.unmount=function(e){v&&v(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{T(e)}catch(e){t=e}})),n.__H=void 0,t&&s.YM.__e(t,n.__v))};var P="function"==typeof requestAnimationFrame;function N(e){var t,n=function(){clearTimeout(r),P&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);P&&(t=requestAnimationFrame(n))}function T(e){var t=i,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),i=t}function D(e){var t=i;e.__c=e.__(),i=t}function R(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function j(e,t){return"function"==typeof t?t(e):t}},703:function(e,t,n){"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},697:function(e,t,n){e.exports=n(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},921:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,m=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case _:case v:case c:return e;default:return t}}case i:return t}}}function S(e){return w(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=_,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===l},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===_},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===a||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===v||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===g||e.$$typeof===m||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},864:function(e,t,n){"use strict";e.exports=n(921)},731:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((r=n(661))&&r.__esModule?r:{default:r}).default.createContext({});t.default=i},260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(697))&&r.__esModule?r:{default:r},o=i.default.shape({trackEvent:i.default.func,getTrackingData:i.default.func});t.default=o},204:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){"undefined"!=typeof window&&Object.keys(e).length>0&&(window.dataLayer=window.dataLayer||[]).push(e)}},293:function(e,t,n){"use strict";Object.defineProperty(t,"rS",{enumerable:!0,get:function(){return i.default}});var r=o(n(496)),i=(o(n(996)),o(n(372)),o(n(592)),o(n(260)),o(n(717)));function o(e){return e&&e.__esModule?e:{default:e}}r.default},805:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r){var i=r.configurable,o=r.enumerable,a=r.value,s=r.get,c=r.initializer;if(a)return{configurable:i,enumerable:o,value:e(a)};if(s||c)return{configurable:i,enumerable:o,get:function(){if(this===t)return null;var r=c?Reflect.apply(c,this,[]):Reflect.apply(s,this,[]),a=e(r).bind(this);return Reflect.defineProperty(this,n,{configurable:i,enumerable:o,value:a}),a}};throw new Error("called makeClassMemberDecorator on unsupported descriptor")}}},592:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.default)((function(t){return function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=function(){if(n.props&&n.props.tracking&&"function"==typeof n.props.tracking.trackEvent){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a="function"==typeof e?e(n.props,n.state,i,r):e;a&&n.props.tracking.trackEvent(a)}},s=Reflect.apply(t,this,i);return Promise&&Promise.resolve(s)===s?s.then(a.bind(this)).then((function(){return s})).catch((function(e){throw a({},e),e})):(a(),s)}}))};var r,i=(r=n(805))&&r.__esModule?r:{default:r}},496:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(){return 1===arguments.length?(0,r.default)(e,t).apply(void 0,arguments):(0,i.default)(e).apply(void 0,arguments)}};var r=o(n(372)),i=o(n(592));function o(e){return e&&e.__esModule?e:{default:e}}},717:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,a.default)(e,t),r=(0,i.useCallback)((function(e){var t=e.children;return i.default.createElement(o.default.Provider,{value:n},t)}),[n]);return(0,i.useDebugValue)(n.tracking.getTrackingData,(function(e){return e()})),(0,i.useMemo)((function(){return{Track:r,getTrackingData:n.tracking.getTrackingData,trackEvent:n.tracking.dispatch}}),[n,r])};var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(661)),o=s(n(731)),a=s(n(437));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}},437:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,r.useContext)(o.default).tracking,s=(0,r.useRef)(e),c=(0,r.useRef)(t);(0,r.useEffect)((function(){s.current=e,c.current=t}));var u=(0,r.useMemo)((function(){return c.current||{}}),[]),l=u.dispatch,d=void 0===l?a.default:l,f=u.dispatchOnMount,p=void 0!==f&&f,h=u.process,v=(0,r.useCallback)((function(){return n&&n.process}),[n]),_=(0,r.useCallback)((function(){var e=s.current;return("function"==typeof e?e():e)||{}}),[]),y=(0,r.useCallback)((function(){var e=n&&n.getTrackingData||_;return function(){return e===_?_():(0,i.default)(e(),_(),(c.current||{}).mergeOptions)}}),[_,n]),g=(0,r.useCallback)((function(){var e=n&&n.dispatch||d;return function(t){return e((0,i.default)(_(),t||{},(c.current||{}).mergeOptions))}}),[_,n,d]),m=(0,r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g()(e)}),[g]);return(0,r.useEffect)((function(){var e=v(),t=y();if(e&&h&&console.error("[react-tracking] options.process should be defined once on a top-level component"),"function"==typeof e&&"function"==typeof p)m((0,i.default)(e(_())||{},p(t())||{},(c.current||{}).mergeOptions));else if("function"==typeof e){var n=e(_());(n||!0===p)&&m(n)}else"function"==typeof p?m(p(t())):!0===p&&m()}),[_,v,y,m,p,h]),(0,r.useMemo)((function(){return{tracking:{dispatch:g(),getTrackingData:y(),process:v()||h}}}),[g,y,v,h])};var r=n(661),i=s(n(996)),o=s(n(731)),a=s(n(204));function s(e){return e&&e.__esModule?e:{default:e}}},372:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.forwardRef,r=void 0!==n&&n,d=_(t,u);return function(t){var n=t.displayName||t.name||"Component";function u(n){var o=n.rtFwdRef,a=_(n,l),u=(0,i.useRef)(a);(0,i.useEffect)((function(){u.current=a}));var f=(0,i.useCallback)((function(){return"function"==typeof e?e(u.current):e}),[]),p=(0,c.default)(f,d),v=(0,i.useMemo)((function(){return{trackEvent:p.tracking.dispatch,getTrackingData:p.tracking.getTrackingData}}),[p]),y=(0,i.useMemo)((function(){return r?h(h({},a),{},{ref:o}):a}),[a,o]);return i.default.createElement(s.default.Provider,{value:p},i.default.createElement(t,h(h({},y),{},{tracking:v})))}if(r){var f=i.default.forwardRef((function(e,t){return i.default.createElement(u,h(h({},e),{},{rtFwdRef:t}))}));return f.displayName="WithTracking(".concat(n,")"),(0,o.default)(f,t),f}return u.displayName="WithTracking(".concat(n,")"),u.propTypes={rtFwdRef:a.default.oneOfType([a.default.func,a.default.shape({current:a.default.any})])},u.defaultProps={rtFwdRef:void 0},(0,o.default)(u,t),u}};var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(661)),o=d(n(679)),a=d(n(697)),s=d(n(731)),c=d(n(437)),u=["forwardRef"],l=["rtFwdRef"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},250:function(e,t,n){"use strict";var r=n(661),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,c=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,u(i)&&l({inst:i})}),[e,n,t]),a((function(){return u(i)&&l({inst:i}),e((function(){u(i)&&l({inst:i})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},139:function(e,t,n){"use strict";var r=n(661),i=n(688),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=r.useRef,c=r.useEffect,u=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!c){if(c=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,c=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var p=a(e,d[0],d[1]);return c((function(){f.hasValue=!0,f.value=p}),[p]),l(p),p}},688:function(e,t,n){"use strict";e.exports=n(250)},798:function(e,t,n){"use strict";e.exports=n(139)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=n(327),t=function(e){return e.ABTestsConfigReady="ab-tests-config-ready",e.ConfigProviderReady="config-provider-ready",e.DeviceUUIDReady="device-uuid-ready",e}(t||{});const r=()=>{(0,n(297).Z)()};Boolean(window.__OW_CONFIG__?.tenant_config?.shared?.enable_concurrent_ads_flow)?(()=>{const n=[t.ConfigProviderReady,t.DeviceUUIDReady],i=[],o=Boolean(window.__OW_CONFIG__?.tenant_config?.ads?.observed_ab_test_experiment_id);let a=!1;const s=e=>{i.includes(e)||i.push(e),a||i.length!==n.length||(r(),a=!0)};o&&(n.push(t.ABTestsConfigReady),(0,e.Ld)(t.ABTestsConfigReady,(()=>{s(t.ABTestsConfigReady)}))),(0,e.Ld)(t.ConfigProviderReady,(()=>{s(t.ConfigProviderReady)})),(0,e.Ld)(t.DeviceUUIDReady,(()=>{s(t.DeviceUUIDReady)}))})():r()}()}();
//# sourceMappingURL=https://go-s3-downloader.dev-openweb.com/download/ads/tags/v22.10.0/sourcemaps/ads/ads.js.map