"use strict";(self.webpackChunk_fundraiseup_checkout=self.webpackChunk_fundraiseup_checkout||[]).push([[1539],{7815:function(t,e,i){var n=i(10763);t.exports={compressPayload:expandPayload:function(t){var e={},i=Object.keys(t).filter(();return i.length&&(e.UNMATCHED={},i.forEach((),e.invalid=!0),Object.keys(n).forEach((),e}}},36913:23517:function(t,e,i){function n(t,e){return!!t&&(t.length>=e&&/^(?!anonymous$)([^!_@#$%^*+=±~§[\]{};:\\|?№`]+$)/i.test(t))}i.d(e,{O:function(){return n}})},21247:function(t,e,i){function n(t){if(!t)return!1;const e=t.replace(/[^\d]/g,"");return e.length>=7&&e.length<=15}i.d(e,{Y:function(){return n}})},13115:function(t,e,i){i.d(e,{I:function(){return u}});var n=i(87636),r=i.n(n),s=i(22970),o=i(85094),a=i(38122),c=i(86364);clasll}request(t){let{promise:e,allowDelay:i,allowMerge:n}=t;const r=new a.C;return this.queue.enqueue({promise:e,deferredPromise:r,allowMerge:n,allowDelay:i}),this.performRequest(),r.promise}getRequestBatch(){var t;const e=this.queue.dequeue();if(!e)return[];if(!(null==e?void 0:e.allowMerge))return[e];const i=[e];for(;null===(t=this.queue.front())||void 0===t?void 0:t.allowMerge;)i.push(this.queue.dequeue());return i}getRequestBatches(){const t=[];for(;!this.queue.isEmpty();)t.push(this.getRequestBatch());return t}executeBatch(t){return(0,s.mG)(this,void 0,void 0,(function*(){const e=t[t.length-1];if(e)try{const i=yield e.promise();r()(t).call(t,(t=>t.deferredPromise.resolve(i)))}catch(e){r()(t).call(e)))}}))}performDelayedRequest(){return(0,s.mG)(this,void 0,void 0,(function*(){const t=this.queue.front();if(!t)return;t.allowDelay&&(yield(0,o.D)(this.debounce));const e=this.getRequestBatches();for(const t of e)yield this.executeBatch(t)}))}performRequest(){return(0,s.mG)(this,void 0,void 0,(function*(){for(;null===this.currentRequestPromise&&!this.queue.isEmpty();)try{this.currentRequestPromise=this.performDelayedRequest(),yield this.currentRequestPromise}finally{this.currentRequestPromise=null}}))}}},38122:function(t,e,i){i.d(e,{C:function(){return s}});var n=i(98189),r=i.n(n);class s{constructor(){this._promise=new(r(=e}))}get promise(){return this._promise}resolve(t){this.resolvert)}get resolver(){if(!this._resolver)throw new Error("_resolver is undefined");return this._resolor}}},86364:function(t,e,i){i.d(e,{c:function(){return n}});class n{constructor(){this.storage=[]}enqueue(t){this.storage.push(t)}dequeue(){return this.storage.shift()}size(){return this.storage.length}toArray(){return[...this.stora0]}clear(){this.storageth}}},7207:function(t,e,i){i.d(e,{E:function(){return h}});var n=i(8005),r=i.n(n),s=i(16465),o=i.n(s),a=i(50381),c=i.n(a),u=i(33093),l=i.n(u);class h{constructor(t){this.defaultData=t,this._guessedCurrenciesList=[],this._guessedCurrency="",this._defaultPreviousCurrency="",this._defaultCurrentCurrency="",this.initGuessedCurrenciesList(),this.initGuessedCurrency(),this.initCurrency()}get guessedCurrenciesList(){return this._guessedCurrenciesList}get guessedCurrency(){return this._guessedCurrency}get defaultPreviousCurrency(){return this._defaultPreviousCurrency}get defaultCurrentCurrency(){return this._defaultCurrentCurrency}initGuessedCurrenciesList(){var t,e;const i=this.defaultData.defaultCurrency,n=this.defaultData.currencies.countryCurrencies[0],s=this.defaultData.currencies.stripe.default,a=r()(t=this.defaultData.currencies.countryCurrencies).call(t,1),u=this.defaultData.currencies.langCurrencies,h=this.defaultData.currencies.stripe.list;var d;this._guessedCurrenciesList=(d=c()(e=[i,n,s,...a,...u]).call(e,(t=>l()(h).call(h,t))),[...new(o())(d)])}initGuessedCurrency(){var t;const e=this.defaultData.currencies.countryCurrencies;!this.defaultData.showcase&&this.defaultData.guessCurrency&&this.defaultData.isCurrencyEnabled&&e.length&&l()(t=this._guessedCurrenciesList).call(t,e[0])?this._guessedCurrency=e[0]:this._guessedCurrency=this.defaultData.defaultCurrency||"USD"}initCurrency(){this._defaultCurrentCurrency=this.defaultData.defaultCurrency,this._defaultPreviousCurrency=this.defaultData.defaultCurrency,this._guessedCurrency!==this._defaultCurrentCurrency&&(this._defaultCurrentCurrency=this._guessedCurrency)}}},71442:function(t,e,i){i.d(e,{i:function(){return r}});var n=i(73233);class r{static getConstrute}static create(t){const e=r.variants;return new(0,e[Math.floor(Math.random()*e.length)])(t)}static createForShowcase(t){return new n.t(t)}}r.variants=[n.t]},73233:function(t,e,i){i.d(e,{t:function(){return o}});var n=i(90382),r=i(3018),s=i(78483);class o extends D"}getAmount(){let t=this.suggestionsService.beautify(.2*this.checkoutAmount,this.checkoutCurrency);const e=this.currencyService.convert(this.checkoutAmount,this.checkoutCurrency,this.defaultCurrency);return e>=5e4&&e<=1e5?t=this.suggestionsService.beautify(.15*this.checkoutAmount,this.checkoutCurrency):e>1e5&&(t=this.suggestionsService.beautify(.1*this.checkoutAmount,this.checkoutCurrency)),t<this.recurringMinAmount&&(t=this.recurringMinAmount),t}getPeriod(){return r.EK.MONT1)}}},78483:function(t,e,i){i.d(e,{P:function(){return n}});clasy}}},22818:function(t,e,i){i.d(e,{S:function(){return r}});var n=i(75687);class r{constructor(t){this.params=t}get frequency(){return n.EK.ANNUAL}isEnabled(t){const{widgetParams:e}=t;return(1!==e.frequencies.length||e.frequencies[0]!==n.EK.ONCE)&&this.params.recurringPlans&&this.params.recurringPlans.annual}isMatch(t){const{payParams:e}=t;return!!(e.tribute&&e.tribute.type&&e.tribute.inHonorOf&&e.tribute.labelType)&&e.frequency===n.EK.ONCE}getUpsellAmot]}}},87824:function(t,e,i){i.d(e,{k:function(){return r}});var n=i(75687);class r{get frequency(){return n.EK.MONTHLY}isEnabled(){return!1}isMatch(){returl]}}},60532:function(t,e,i){i.d(e,{F:function(){return a}});var n=i(69117),r=i.n(n),s=i(75687),o=i(84473);class a{static getUpsellUSDAmounts(t){switch(!0){case t<=1e3:return[null,t];case t<=2500:return[500,1e3];case t<=3500:return[1e3,1500];case t<=5500:return[1500,2e3];case t<=1e4:return[2e3,2500];case t<=15e3:return[2500,3e3];case t<=2e4:return[3e3,4e3];default:return[null,t]}}constructor(t,e,i){this.currencyService=t,this.suggestionsService=e,this.experiments=i}get frequency(){return this.upsellEvery4WeeksExperiment.frequency}isEnabled(){return!0}isMatch(t){var e;const{payParams:i,widgetParams:n,country:o,minMonthly:a}=t;if(i.tribute&&i.tribute.type&&i.tribute.inHonorOf)return!1;const c=i.frequency===s.EK.ONCE,u=n.currencyEnabledRecurrings||i.currency===n.defaultCurrency,l=this.getMaxUpsellAmount(i.currency,o),h=r()(e=n.frequencies).callNCE)),d=(i.amount||0)<=l,m=(i.amount||0)>=a;return n.showUpsell&&h&&c&&u&&d&&m}getUpsellAmounts(t){const{payParams:e,country:i,minMonthly:n}=t,{amount:r,currency:s}=e,o=this.currencyService.convert(r||0,s,"USD",!1,i),c=this.currencyService.convert(n,t.widgetParams.defaultCurrency,s,!1,i),u=a.getUpsellUSDAmounts(o);let l=u[0]&&this.currencyService.convert(u[0],"USD",s,!1,i);null!==l&&(l=this.suggestionsService.beautify(l,s),c>l&&(l=null));let h=this.currencyService.convert(u[1],"USD",s,!1,i);return h=this.suggestionsService.beautify(h,s),c>h&&(h=this.suggestionsService.beautify(c,s,c)),l===h?[null,h]:[lT)}getMaxUpsellAmount(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.C9.UNITED_STATES;return this.currencyService.convert(a.MAX_AMOUNT_FOR_UPSELL_SCREEN,"USD",t,!1,e)}}a.MAX_AMOUNT_FOR_UPSELL_SCREEN=2e4},34739:function(t,e,i){i.d(e,{g:function(){return o}});var n=i(22818),r=i(87824),s=i(60532);class o{constructor(t,e,i,r){this.currencyService=t,this.suggestionsService=e,this.experiments=i,this.params=r,this.strategies=[],this.strategies=[new n.S(this.params),new s.F(this.currencyService,this.suggestionsService,this.experiments)]}canShowUpsellScreen(t){return this.resolveStrategy(t).isEnabledt)}getTargetFrequency(t){return this.resolveStrategy(t).frequency}resolveStrategy(t){for(const e of this.strategies)if(e.isMatch(t))return e;return new r.k}}},63141:function(t,e,i){i.d(e,{k:function(){return r}});var n=i(60894);class r extends n.h{constructor(){super(...arguments),this.isEnabled=!0,this.isRequired=!1,this.bankName="",this.bank={id:"",label:""}}static get defaultValidationResult(){return{isValid:!0,fields:{bank:{isValid:!0,errors:{required:!1}k}}validate(){const t=!!this.bank.id;return{isValid:t,fields:{bank:{isValid:t,errors:{required:!t}}}}}}},37246:function(t,e,i){i.d(e,{m:function(){return a}});var n=i(79131),r=i.n(n),s=i(22970),o=i(60894);class a extends o.h{static get defaultValidationResult(){return{isValid:!0,fields:{broker:{isValid:!0,errors:{required:!1}}}}}constructor(t,e){super(t),this.checkoutConfiguration=t,this.brokersApi=e,this.isEnabled=!0,this._isRequired=null,this._isCustomBroker=!0,this._broker={name:"",logo:null}}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}get broker(){return this._broker}get isCustomBroker(){return this._isCustomBroker}set isRequired(t){this._isRequired=t}set broker(t){this._broker=t}setIsCustomBroker(t){this._isCustomBroker=t}getBrokers(t){return(0,s.mG)(this,void 0,void 0,(function*(){return this.brokersApi.getList(t)}}validate(){var t;const e=r()(t=this.broker.name).call(t).length,i=e>=1&&e<=100;return{isValid:i,fields:{broker:{isValid:i,errors:{required:!i}}}}}}},44839:function(t,e,i){i.d(e,{r:function(){return r}});var n=i(60894);class r extends ll}static get defaultValidationResult(){return{isValid:!0,fields:{accountNumber:{isValid:!0,errors:{required:!1}}}}}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}set isRequired(t){this._isRequired=t}toObject(){return{accountNumber:this.accountNumber}}validate(){const t=this.accountNumber.length>0,e=!(this.accountNumber||this.isRequired)||t;return{isValid:e,fields:{accountNumber:{isValid:e,errors:{required:!e}}}}}}},62900:function(t,e,i){i.d(e,{m:function(){return c}});var n=i(79131),r=i.n(n),s=i(22937),o=i(23517),a=i(60894);class c extends a.h{static get defaultValidationResult(){return{isValid:!0,fields:{firstName:{isValid:!0,errors:{required:!1,minLength:!1}},lastName:{isValid:!0,errors:{required:!1,minLength:!1}},email:{isValid:!0,errors:{required:!1,email:!1}},signature:{isValid:!0,errors:{required:!1,minLength:!1}}}}}constructor(t,e){super(t),this.checkoutConfiguration=t,this.validationSettings=e,this.isEnabled=!1,this.firstName="",this.lastName="",this.signature="",this.email="",this._isRequired=null}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}get fullName(){var t;return r()(t=`${this.firstName} ${this.lastName}`).call(t)}set isRequired(t){this._isRequired=t}toObject(){return{firstName:this.firstName,lastName:this.lastName,email:this.email,transcript:this.signature}}validate(){const t=this.validateFirstName(),e=this.validateLastName(),i=this.validateEmail(),n=this.validateSignature();return{isValid:t.isValid&&e.isValid&&i.isValid&&n.isValid,fields:{firstName:t,lastName:e,email:i,signature:n}}}validateFirstName(){const t=(0,o.O)(this.firstName,this.validationSettings.MIN_LENGTH);return{isValid:t,errors:{required:!this.firstName,minLength:!t}}}validateLastName(){const t=(0,o.O)(this.lastName,this.validationSettings.MIN_LENGTH);return{isValid:t,errors:{required:!this.lastName,minLength:!t}}}validateEmail(){const t=(0,s.o)(this.email);return{isValid:t,errors:{required:!this.email,email:!t}}}validateSignature(){const t=(0,o.O)(this.signature,this.validationSettings.MIN_LENGTH);return{isValid:t,errors:{required:!this.signature,minLength:!t}}}}},35309:function(t,e,i){i.d(e,{l:function(){return r}});var n=i(60894);class r extends n.h{constructor(){super(...arguments),this.isEnabled=this.campaign.config.showComment,this.isRequired=!1,this.comment="",this._prevComment=""}get prevComment(){return this._prevCommnt}toObject(){return{comment:this.comment}}get campaign(){return this.checkoutConfiguration.campaign}}},86267:function(t,e,i){i.d(e,{x:function(){return g}});var n=i(33093),r=i.n(n),s=i(50381),o=i.n(s),a=i(78765),c=i.n(a),u=i(75687),l=i(3018),h=i(98515),d=i(1273);const m=1e7;class g extends h.t{constructor(t,e,i){var n;super(t,e),this.checkoutConfiguration=t,this.currencyService=e,this.suggestionsService=i,this.isEnabled=!0,this.isRequired=!0,this.currency="BTC",this.defaultCurrency="BTC",this.amount=0,this.defaultAmountInFiat=0,this.canModifyAmount=!0,this.canSelectCurrency=!0,r()(n=this.currencyList).call(n,this.currency)||(this.currency=this.currencyList[0],this.defaultCurrency=this.currencyList[0]),this.setAmountByDefault(this.defaultCurrenCE}get minAmount(){return 100}get maxAmount(){return 1e8}get defaultAmount(){return |0}get amountInUSD(){return this.amount?this.currencyService.convert(this.amount,this.currency,"USD"):null}get totalInUSD(){return this.currencyService.convert(this.total,this.currency,"USD")}get defaultFiatCurrency(){return this.checkoutConfiguration.campaign.config.defaultCurrency}get amountInDefaultFiat(){return this.currencyService.convert(this.amount||0,this.currency,this.defaultFiatCurrency)}get totalInDefaultCurrency(){return this.total}get currencyNetworkData(){return this.currencyService.getCryptoCurrency(this.currency)}get currencyList(){const t=this.checkoutConfiguration.company.cryptoProvider;if(!t)return["BTC"];const e=this.currencyService.getCurrencyCodesBySource(t);if(t!==l.fx.COINBASE_COMMERCE)return e;const i=this.checkoutConfiguration.company.coinbaseCommerceCurrencies;return o()(e).call,t)))}getDefaultAmountsInCurrency(){return this.total}validate(){const t=null!==this.amount,e=!t||this.validateMinAmount(),i=!t||this.validateMaxAmount(),n={isValid:t&&e&&i,errors:{min:!e,max:!i,required:!t}};return{isValid:n.isValid,fields:{amount:n}}}collectTo(t){return(0,d.S)(t),t.onCryptoCurrencyDataPointCollect(),this}toObject(){return{amount:this.amount||0,total:this.amount||0,currency:this.currency,frequency:this.frequency}}setAmountByDefault(t){const e=this.currencyService.convert(this.defaultAmount,"USD",t),i=this.currencyService.toFloat(e,t),n=this.getAmountByDefaultMultiplier(i);this.amount=this.beautify(e*n,t)/n,this.defaultAmountInFiat=this.amountInDefaultFiat}validateMinAmount(){return!!this.amountInUSD&&this.amountInUSD>=this.minAmount}validateMaxAmount(){return!this.amountInUSD||this.amountInUSD<=this.maxAmount}getAmountByDefaultMultiplier(t){let e=1;return t<10?e=this.getBaseMultiplier(t):t>m&&(e=this.getBaseMultiplier(t/m,0)),e}getBaseMultiplier(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const i=-Math.floor(c()(t));return Math.pow(10,i+e)}beautify(t,e){return this.suggestionsService.beautify(t,e)}}},4160:function(t,e,i){i.d(e,{H:function(){return a}});var n=i(60894),r=i(68316),s=i(78108),o=i(30793);class a extends n.h{static get defaultValidationResult(){return{isValid:!0,fields:{title:{isValid:!0,errors:{required:!1}}}}}constructor(t){super(t),this.checkoutConfiguration=t,this.title=o.Tg.NONE,this._isEnabled=null,this._isRequired=null;const e=this.checkoutConfiguration.company;this._customerTitlesLogic=r.Z.createCustomerTitlesLogic({companyCountry:e.country,companyDefaultLocale:e.localization.defaultLocale})}get isEnabled(){return null!==this._isEnabled?this._isEnabled:this.checkoutConfiguration.campaign.config.customerTitle.show&&this._customerTitlesLogic.isEnabled}get isRequired(){return null!==this._isRequired?this._isRequired:this.checkoutConfiguration.campaign.config.customerTitle.required&&this.isEnabled}get titleList(){return this._customerTitlesLogic.titles}set isEnabled(t){this._isEnabled=t}set isRequired(t){this._isRequired=t}toObject(){return{title:this.title}}validate(){const t=!this.isRequired||s.ZP.isAvailableCustomerTitle(this.title);return{isValid:t,fields:{title:{isValid:t,errors:{required:!t}}}}}}},38497:function(t,e,i){i.d(e,{x:function(){return m}});var n=i(973),r=i.n(n),s=i(11052),o=i.n(s),a=i(50381),c=i.n(a),u=i(53811),l=i(60894),h=i(75687),d=i(80942);class m extends l.h{static get defaultValidationResult(){return{isValid:!0,fields:{goal:{isValid:!0,errors:{required:!1}}}}}constructor(t){var e;super(t),this.checkoutConfiguration=t,this.isRequired=!1,this.goalKey=null,this.savedOneTimeGoalKey=null,this.savedRecurringGoalKey=null,this.isEnabled=!!this.goals.length&&this.displayGoal===d.AZ.SELECT,this.goalKey=(null===(e=this.checkoutConfiguration.fundraisingPage)||void 0===e?void 0:e.designation)||this.externalCheckoutData.designationId||null}get modifyDesignation(){var t;const e=this.checkoutConfiguration.queryParams.modifyDesignation;if("boolean"==typeof e)return e;const i=this.externalCheckoutData.modifyDesignation;if("boolean"==typeof i)return i;const n=null===(t=this.checkoutConfiguration.externalConfig.checkoutIntent)||void 0===t?void 0:t.checkoutSettings;return!n||"boolean"!=typeof n.modifyDesignation||n.modifyDesignation}get goals(){return this.checkoutConfiguration.campaign.config.goals}get goalName(){var t;return(null===(t=this.selectedGoal)||void 0===t?void 0:t.name)||null}get goalCode(){var t;return(null===(t=this.selectedGoal)||void 0===t?void 0:t.code)||null}get allowRecurring(){var t;if(!this.isEnabled)return!0;const e=null===(t=this.selectedGoal)||void 0===t?void 0:r()(t);return!e||e!==h.$W.ONE_TIME}toObl}}setGoalKey(t,e){const i=this.getGoalRepeat(e);this.goalKey=t,this.saveGoalKeyByRepeat(i)}changeGoalKeyByFrequency(t){var e,i;if(!this.isEnabled)return;const n=this.getGoalRepeat(t);(null===(e=this.externalGoal)||void 0===e?void 0:r()(e))!==h.$W.ALL&&(null===(i=this.externalGoal)||void 0===i?void 0:r()(i))!==n?this.checkoutConfiguration.preselectDesignation||1===this.getAllowedGoals(t).length?this.preselectDesignation(n):this.goalKey=null:this.goalKey=this.externalGoal.key}isGoalAllowedToShow(t,e){if(!this.isEnabled)return!1;const i=e===h.EK.ONCE?h.$W.ONE_TIME:h.$W.RECURRING;return r()(t)===i||r()(t)===h.$W.ALL}canChangeDesignation(t){return!!this.isEnabled&&!(t<=1||!this.modifyDesignation)}validateDesignation(t){const e=!this.isEnabled||this.isGoalValid(t),i={isValid:e,errors:{required:!e}};return{isValid:i.isValid,fields:{goal:i}}}collectTo(t){return(0,u.I)(t),t.onDesignationDataPointCollected(),this}get selectedGoal(){var t;return this.isEnabled&&o()(t=this.goals).callKey))||null}get displayGoal(){return this.checkoutConfiguration.campaign.config.displayGoal}get externalGoal(){var t;return this.isEnabled&&o()(t=this.goals).call(t,(t=>{var e;return t.key===this.checkoutConfiguration.queryParams.designationId||t.key===this.externalCheckoutData.designationId||t.key===(null===(e=this.checkoutConfiguration.fundraisingPage)||void 0===e?void 0:e.designation)}))||null}get externalCheckoutData(){return this.checkoutConfiguration.externalConfig.checkoutData|NG}preselectDesignation(t){var e,i,n,s,a,c,u,l;const d=this.getSavedGoalByRepeat(t),m=this.getSavedGoalByRepeat(t===h.$W.ONE_TIME?h.$W.RECURRING:h.$W.ONE_TIME);this.goalKey=null!==(l=null!==(c=null!==(s=null!==(n=null==d?void 0:d.key)&&void 0!==n?n:(null==m?void 0:r()(m))===h.$W.ALL?m.key:null)&&void 0!==s?s:null===(a=o()(e=this.goals).call(e,(e=>e.default===t)))||void 0===a?void 0:a.key)&&void 0!==c?c:null===(u=o()(i=this.goals).callALL)))||void 0===u?void 0:u.key)&&void 0!==l?l:null}getSavedGoalByRepeat(t){var e,i;const n=t===h.$W.ONE_TIME?this.savedOneTimeGoalKey:this.savedRecurringGoalKey;return null!==(i=o()(e=this.goals).call==n)))&&void 0!==i?i:null}saveGoalKeyByRepeat(t){t!==h.$W.ONE_TIME?this.savedRecurringGoalKey=this.goalKey:this.savedOneTimeGoalKey=this.goalKey}isGoalValid(t){return!(!this.selectedGoal&&this.getAllowedGoals(t).length>0)}getAllowedGoals(t){var e;return c()(e=this.goals).call,t)))}}},15521:function(t,e,i){i.d(e,{T:function(){return r}});var n=i(60894);class r extends n.h{constructor(){super(...arguments),this.isEnabled=this.campaign.config.showAnonymous,this.isRequired=!1,this.anonymousChecked=!1}toObject(){return{anonymousChecked:this.anonymousChecked}}get campaign(){return this.checkoutConfiguration.campaign}}},98515:function(t,e,i){i.d(e,{t:function(){return r}});var n=i(60894);class r extends n.h{constructor(t,e){super(t),this.checkoutConfiguration=t,this.currencyService=e,this.isEnabled=!0,this.isRequired=!0}getCurrencyName(t){return this.currencyService.getNamet)}}},58447:function(t,e,i){var n=i(69466);const r={[n.C.MONEY]:"FiatDonation",[n.C.CRYPTO]:"CryptoDonation",[n.C.STOCK]:"StockDonation"};e.Z=r},63595:function(t,e,i){i.d(e,{s:function(){return o}});var n=i(22970),r=i(68625),s=i(60894);class o extends s.h{constructor(t,e,i,n){super(t),this.checkoutConfiguration=t,this.currencyService=e,this.doubleTheDonationApi=i,this.transactionCosts=n,this.employer=this.getDefaultEmployer(),this.showed=!1,this._isEnabled=null,this._isRequired=null,this.currency="USD",this._amount=0,this.isOnBehalfOf=!1,this._isAccepted=!1,this.isSkipped=!1}get isEnabled(){return null!==this._isEnabled?this._isEnabled:this.campaign.config.showDouble&&!this.isOnBehalfOf}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}get isAccepted(){return this._isAccepted}get isIntegrationEnabled(){return this.checkoutConfiguration.integrations.dtdEnabled}get isVisible(){return Boolean(this.employerDTD&&this.employerDTD.id&&this.employerDTD.minimumMatchedAmount>0&&this.minimumMatchedAmount>0)}get amount(){return this._amount}get matchingRatio(){var t;return(null===(t=this.employerDTD)||void 0===t?void 0:t.ratio)||[1|0}get minimumMatchedAmount(){const t=this.currencyService.fromFloat(this.rawMinimumMatchedAmount,"USD");return this.currencyService.convert(t,"USD",this.currency)}get upsellDoubledAmount(){return this.upsellTotal+this.upsellTotal/this.matchingRatio[0]*this.matchingRatio[1]}get DTDDoubledAmount(){return this.amount+this.amount/this.matchingRatio[0]*this.matchingRatio[1]}get upsellTotal(){return this.currencyService.ceil(this.minimumMatchedAmount+this.upsellFee,this.currency)}set isEnabled(t){this._isEnabled=t}set isRequired(t){this._isRequired=t}set amount(t){this._amounis}setEmployerDTD(t){return this.employerDTD=t,t&&this.setEmployer(t.company_name),this}resetEmployerDTD(){this.employer=this.getDefaultEmployer(),this.employerDTD=void 0}setOnBehalfOf(t){this.isOnBehalfOf=t}setCurrency(t){this.currency=t}toObject(){return{isSkipped:this.isSkipped,upsell:{currency:this.currency,fromAmount:this._amount,matchingFromAmount:this.minimumMatchedAmount,matchingPromisedAmount:this.upsellDoubledAmount,matchingRatio:this.matchingRatio,minimumMatchedAmount:this.minimumMatchedAmount,proposedAmount:this.upsellTotal,proposedAmountBeforeFeeCovered:this.rawMinimumMatchedAmount,showed:this.showed,visible:this.isVisible,isAccepted:this._isAccepted},employer:{name:this.employer?this.employer.name:""},employerDTD:this.employerDTD&&{id:this.employerDTD.id,companyName:this.employerDTD.company_name,minimumMatchedAmount:this.employerDTD.minimumMatchedAmount,ratio:this.employerDTD.rati))}accept(){this._isAccepted=!0}reject(){this._isAccepted=!1}setSkipped(){this.isSkipped=!0}collectTo(t){return(0,r.m)(t),this._isAccepted&&t.onDoubleTheDonationAccepted(this.upsellAmount),this}get campaign(){return this.checkoutConfiguration.campa}}},1303:function(t,e,i){i.d(e,{b:function(){return k}});var n=i(11052),r=i.n(n),s=i(33415),o=i.n(s),a=i(50381),c=i.n(a),u=i(33093),l=i.n(u),h=i(87636),d=i.n(h),m=i(40278),g=i(75687),f=i(77690),p=i(7207),y=i(98515),v=i(76278),C=i(65768),A=i(52368),S=i(68625),b=i(18864),P=i(62319);class k extends y.t{constructor(t,e,i,n,r,s,o){super(t,e),this.checkoutConfiguration=t,this.currencyService=e,this.suggestionsService=i,this.experiments=n,this.userSession=r,this.transactionCosts=s,this.suggestedAmountHintsAI=o,this.isEnabled=!0,this.isRequired=!0,this._defaultAmount=null,this._feeCoveringSuggestion=g.__.ONLY_NO,this._includeFees=this.transactionCosts.includeFees}get defaultAmount(){return this._defaultAmount}get amount(){return this.exchequer.getCurrentAmount()}get totalInUSD(){return this.currencyService.convert(this.total,this.currency,"USD")}get totalInDefaultCurry)}get fee(){return this.transactionCosts.getFee(this.amount||0,this.currency)}get processingFee(){return this.transactionCosts.getProcessingFee(this.amount||0,this.currenCE}get frequency(){return this.exchequer.getCurrentFrequency()}get currency(){return this.exchequer.getCurrentCurrency()}get defaultFrequency(){return this.exchequerWithDefaults.getCurrentFrequency()}get defaultAmounts(){return this.exchequerWithDefaults.getAllAmounts()}get allAmountOptions(){return this.exchequer.getAllSuggestions()}get amountOptions(){return this.getAmountOptions(this.frequenll}get currentHint(){var t;return(null===(t=this.hintOptions)||void 0===t?void 0:r()(t).call(t,(t=>t.default)))||null}get hintsVariantName(){var t;return this.currentHint&&(null===(t=this.suggestedAmountHintsAI)||void 0===t?void 0:t.variantName)||P.o.Ny)}get canModifyAmount(){var t;if(!1===this.externalCheckoutData.modifyAmount)return!1;if(!1===this.checkoutConfiguration.queryParams.modifyAmount)return!1;const e=null===(t=this.checkoutConfiguration.externalConfig.checkoutIntent)||void 0===t?void 0:t.checkoutSettings;return!e||"boolean"!=typeof e.modifyAmount||e.modifyAmount}get canSelectCurrency(){return!!this.checkoutConfiguration.campaign.config.currencyEnabled&&(this.frequency===g.EK.ONCE?this.checkoutConfiguration.campaign.config.currencyEnabled:this.checkoutConfiguration.campaign.config.currencyEnabledRecurrings)}get defaultCurrency(){return this.checkoutConfiguration.campaign.config.defaultCurrey)}get lowFrequency(){return this.exchequer.getLowestFrequency()}get highFrequency(){return this.exchequer.getHighestFrequency()}get total(){return this.transactionCosts.getTotal(this.amount||A.t2,this.currency)}get currencyList(){return[...this.checkoutConfiguration.company.stripeCurrencies.list]}get guessedCurrency(){return this._guessedCurrency||(this._guessedCurrency=this.exchequer.getGuessedCurrency()),this._guessedCurrest}get isFeeCovered(){return this.transactionCosts.isCovered}get canModifyFrequency(){const t=o()(this.checkoutConfiguration.campaign.config.frequencies);return c()(t).call(t,(t=>t.enabled)).length>1}get amountInUSD(){return this.amount?this.currencyService.convert(this.amount,this.currency,"USD"):null}get includeFees(){return this._includeFt)}set frequency(t){this.exchequer.setFrequency(t),this.checkForAmountDefault(this.amount),t===g.EK.ONCE||this.canSelectCurrency||(this.currency=this.defaultCurrency)}set currency(t){const e=this.getDefaultAmountsInCurrency(this.frequency)!==this.amount;this.exchequerWithDefaults.setCurrency(t),this.exchequer.setCurrency(t,e),this._defaultAmount=this.getDefaultAmountsInCurrency(this.frequen=t}getDefaultAmountsInCurrency(t){const e=this.defaultAmounts[t];if(void 0===e)throw new Error(`Default amount for frequency ${t} is not defined`);return e}getAmountOptions(t){const e=this.allAmountOptions[t];if(void 0===e)throw new Error(`Amount options for frequency ${t} are not defined`);return e}getMinAmount(t){const e=this.minAmounts[t];if(void 0===e)throw new Error(`Min amount for frequency ${t} is not defined`);return e}setSuggestionsAndDisableAi(t){this.exchequer.setSuggestionsAndDisableAi(t)}collectTo(t){return(0,S.m)(t),t.onDonationDataPointCollected(),this}validate(){const t=null!==this.amount,e=!t||this.validateMinAmount(),i=!t||this.validateMaxAmount(),n={isValid:e&&i&&t,errors:{min:!e,max:!i,required:!t}};return{isValid:n.isValid,fields:{amount:n}}}calculateSmartCoveringFee(t){t||this.includeFees!==g.__.SMART_COVERING||this.transactionCosts.calculateSmartFeeCovering({amountInUSD:this.amountInUSD,frequency:this.frequency})}snapshotFeeCoveringSuggestion(t){t||(this.includeFees!==g.__.ONLY_NO?this.includeFees!==g.__.ONLY_YES?this._feeCoveringSuggestion=this.isFeeCovered?g.__.DEFAULT_YES:g.__.DEFAULT_NO:this._feeCoveringSuggestion=g.__.ONLY_YES:this._feeCoveringSuggestion=g.__.ONLY_NO)}isFrequencyEnabled(t){const e=this.exchequer.enabledFrequencies;return l()(e).call(e,t)}toObject(){return{amount:this.amount||0,currency:this.currency,frequency:this.frequency,total:this.total,publicFee:this.processingFee,amountOptions:this.amountOptions,feeCoveringSuggestion:this._feeCoveringSuggestion,hintAmounts:this.hintsAmounts,hintsVariantName:this.hintsVariantName,currentHint:this.currentHint||null}}setDefaultAmounts(){var t;d()(t=this.exchequer.enabledFrequencies).call(t,(t=>{var e;t!==this.frequency&&((null===(e=this.suggestedAmountHintsAI)||void 0===e?void 0:e.getHintsByFrequency(t))?this.setDefaultHintForFrequency(t):this.setDefaultAmountForFrequency(t))}))}syncHintsAmounts(){if(!this.suggestedAmountHintsAI)return;const t=this.exchequer.getAllHintsAmounts();this.suggestedAmountHintsAI.updateHintsByAmounts(t),this.currentHint&&this.exchequer.setAmount(this.currentHint.amount)}updateHintsByDeft)}resetHintsByDefault(){var t;if(this.suggestedAmountHintsAI)for(const e in this.suggestedAmountHintsAI.hints)null===(t=this.suggestedAmountHintsAI)||void 0===t||t.updateHintsByDefault(e,null)}get minAmounts(){return this.exchequer.getAllMinAmounts()}get hintsAmounts(){return this.suggestedAmountHintsAI?this.suggestedAmountHintsAI.hintsAmounts:{[g.EK.ONCE]:[],[g.EK.DAILY]:[],[g.EK.WEEKLY]:[],[g.EK.BIWEEKLY]:[],[g.EK.EVERY_4_WEEKS]:[],[g.EK.MONTHLY]:[],[g.EK.BIMONTHLY]:[],[g.EK.QUARTERLY]:[],[g.EK.SEMIANNUAL]:[],[g.EK.ANNUAL]:{}}get exchequer(){return this._exchequer||(this._exchequer=this.getExchequer()),this._excheqts}get guessCurrency(){return this.checkoutConfiguration.campaign.config.guessCurrency}get isMobile(){return this.checkoutConfiguration.infrastructureParams.isMobile}getDefaultFrequencyOverride(){return this.checkoutConfiguration.queryParams.recurring&&m.c.isFrequencyEnabled(this.checkoutConfiguration.campaign.config.frequencies,this.checkoutConfiguration.queryParams.recurring)?this.checkoutConfiguration.queryParams.recurring:this.externalCheckoutData.recurring&&m.c.isFrequencyEnabled(this.checkoutConfiguration.campaign.config.frequencies,this.externalCheckoutData.recurring)?this.externalCheckoutData.recurring:null}getExchequer(){var t,e,i;const n=this.checkoutConfiguration.campaign.config,s=this.checkoutConfiguration.user,o=this.checkoutConfiguration.currencies,a=this.checkoutConfiguration.company,c=(0,b.I)(n.frequencies),u=(0,v.j5)(this.userSession,this.isMobile),l=!(!this.checkoutConfiguration.launcherParams.key&&!this.checkoutConfiguration.launcherParams.elementKey),h={langCurrencies:[...o.langCurrencies]||[],countryCurrencies:[...o.countryCurrencies]||[],stripe:{default:a.stripeCurrencies.default,list:[...a.stripeCurrencies.list]}},d=new p.E({currencies:h,defaultCurrency:this.defaultCurrency,guessCurrency:this.guessCurrency,isCurrencyEnabled:n.currencyEnabled,showcase:this.checkoutConfiguration.infrastructureParams.showcase}),m=new f.g({widgetKey:this.checkoutConfiguration.campaign.key,countryCode:s.address.countryCode||"US",frequencies:c,currencies:h,defaultCurrency:this.defaultCurrency,isMobile:this.isMobile,isLauncher:l,showcase:this.checkoutConfiguration.infrastructureParams.showcase,aiEnabled:n.enableAI,disableAmountAI:this.checkoutConfiguration.disableAmountAI,guessCurrency:this.guessCurrency,isCurrencyEnabled:n.currencyEnabled,trend:n.trend,xFactor:u,experimentsSettings:n.experimentsSettings,hintsAmounts:this.hintsAmounts},d,this.currencyService,this.suggestionsService),g=this.getDefaultFrequencyOverride();g&&m.setFrequency(g);const y=m.getCurrentCurrency(),C=this.externalCheckoutData.currency?this.getExternalAmount(this.externalCheckoutData.currency):this.getExternalAmount(y);if(C&&(this.externalCheckoutData.currency?(m.setCurrency(this.externalCheckoutData.currency),m.setAmount(C)):(m.setCurrency(n.defaultCurrency),m.setAmount(C),m.setCurrency(y)),this.resetHintsByDefault()),this.externalCheckoutData.selectedHint){const n=m.getCurrentFrequency(),s=null===(e=null===(t=this.suggestedAmountHintsAI)||void 0===t?void 0:t.getHintsByFrequency(n))||void 0===e?void 0:r()(e).calld)}));s&&(null===(i=this.suggestedAmountHintsAI)||void 0===i||i.updateHintsByDefault(n,s))}return this._defaultAmount=m.getCurrentAmount(),m}validateMinAmount(){return!!this.amount&&this.amount>=this.minAmount}validateMaxAmount(){return!!this.amount&&this.amount.toString().length<=C.wn}checkForAmountDefault(t){var e;this._defaultAmount=this.getDefaultAmountsInCurrency(this.frequency),this._defaultAmount===t&&d()(e=this.exchequer.enabledFrequencies).callt)}))}getExternalAmount(t){return this.externalCheckoutData.amount||this.currencyService.fromFloat(this.checkoutConfiguration.queryParams.amount||0,t)}setDefaultAmountForFrequt)}setDefaultHintForFrequency(t){var e,i,n,s;const o=null===(e=this.suggestedAmountHintsAI)||void 0===e?void 0:e.hints[t],a=null===(i=this.suggestedAmountHintsAI)||void 0===i?void 0:i.defaultHints[t];if(!o||!a)return;const c=null!==(n=r()(o).call(o,(t=>t.default)))&&void 0!==n?n:r()(a).callult));c&&(null===(s=this.suggestedAmountHintsAI)||void 0===s||s.updateHintsByDefault(t,c),this.exchequer.setAmountForFrequency(c.amount,t))}}},8962:function(t,e,i){i.d(e,{K:function(){return s}});var n=i(68625),r=i(60894);class s extends r.h{constructor(){super(...arguments),this.isAccepted=!1,this._isEnabled=null,this._isRequired=null,this.isOnBehalfOf=!1,this.isShown=!1}get isEnabled(){return null!==this._isEnabled?this._isEnabled:this.campaign.config.giftAid.show&&!this.isOnBehalfOf&&this.checkoutConfiguration.featureConfig.giftAid}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabxt}set isEnabled(t){this._isEnabled=t}set isRequired(t){this._isRequired=t}reset(t){return(0,n.c)(t),t.resetGiftAid(),this}setOnBehalfOf(t){this.isOnBehalfOf=t}setShown(){this.isShown=!0}accept(){this.isAccepted=!0}reject(){this.isAccepted=!1}collectTo(t){return(0,n.c)(t),this.isAccepted&&t.onGiftAidAccepted(),tt}}get campaign(){return this.checkoutConfiguration.campaign}}},95264:function(t,e,i){i.d(e,{R:function(){return b}});var n=i(33093),r=i.n(n),s=i(50418),o=i.n(s),a=i(79131),c=i.n(a),u=i(85952),l=i.n(u),h=i(11052),d=i.n(h),m=i(33415),g=i.n(m),f=i(22970),p=i(45738),y=i(86117),v=i(16414),C=i(9662),A=i(37312),S=i(60894);class b extends S.h{static get defaultValidationResult(){return{isValid:!0,fields:{line1:{isValid:!0,errors:{required:!1}},line2:{isValid:!0,errors:{required:!1}},city:{isValid:!0,errors:{required:!1}},region:{isValid:!0,errors:{required:!1}},postal:{isValid:!0,errors:{required:!1}},countryCode:{isValid:!0,errors:{required:!1}}}}}static validateLine1(t){const e=!t.isRequired||!!t.line1;return{isValid:e,errors:{required:!e}}}static validateL}}}static validateCity(t){const e=!(t.isRequired||t.line1)||!!t.city;return{isValid:e,errors:{required:!e}}}static validateRegion(t){let e=t.isRequired||!!t.line1;r()(C.D).call(C.D,t.countryCode)&&(e=!1);const i=!e||!!t.region;return{isValid:i,errors:{required:!i}}}static validatePostal(t){let e;if(t.isRequired||t.line1||t.postal){const i=b.countriesWithPostalValidation[t.countryCode];e=i?i.test(t.postal):!!t.postal}else e=!0;return{isValid:e,errors:{required:!e}}}static validateCountryCode(t){const e=!(t.isRequired||t.line1)||!!t.countryCode;return{isValid:e,errors:{required:!e}}}constructor(t,e,i,n){super(t),this.checkoutConfiguration=t,this.addressService=e,this.addressValidationAPI=i,this.countriesService=n,this.isEnabled=this.campaign.config.showMailing,this.isRequired=this.campaign.config.mailingRequired,this.line1="",this.line2="",this.city="",this.postal="",this.region="",this._countryCode=this.user.address.countryCode,this.shouldAutofillRegion&&(this.region=this.formatGeoIpRegion(this.user.address.region,this.countryCode)),this._countryCode||(this._countryCode=this.getDefaultCountryCode())}get countryCode(){return this._countryCode}set countryCode(t){const e=this.countryCode in b.countriesWithPredefinedStates,i=t in b.countriesWithPredefinedStates;((0,p.i)(t)||e||i)&&(this.region=""),this._countryCode=t}getDetails(t,e){return(0,f.mG)(this,void 0,void 0,(function*(){return this.addressService.getDetails({place:t,restrictCountries:[this.countryCode],sessionToken:e})}))}getSubplaces(t){return(0,f.mG)(this,void 0,void 0,(function*(){return this.addressService.getSubplaces(o()({},t))}))}getPlaces(t){return(0,f.mG)(this,void 0,void 0,(function*(){return this.addressService.getPlaces(o()({},t))}))}checkShouldValidateOnServer(){return!this.checkoutConfiguration.infrastructureParams.showcase&&(this.isRequired||!!this.line1)}toObject(){var t,e,i,n,r,s;const o={isRequired:this.isRequired,line1:c()(t=this.line1).call(t),city:c()(e=this.city).call(e),region:c()(i=this.region).call(i),postal:c()(n=this.postal).call(n),countryCode:c()(r=this.countryCode).call(r)},a=c()(s=this.line2).call(s);return a&&(o.line2=a),o}validate(){const t=this.toObject(),e=b.validateLine1(t),i=b.validateLine2(),n=b.validateCity(t),r=b.validateRegion(t),s=b.validatePostal(t),o=b.validateCountryCode(t);return{isValid:e.isValid&&i.isValid&&n.isValid&&r.isValid&&s.isValid&&o.isValid,fields:{line1:e,line2:i,city:n,region:r,postal:s,countryCode:o}}}validateAddress(){return(0,f.mG)(this,void 0,void 0,(function*(){const{validated:t,valid:e}=yield this.addressValidationAPI.validate({line1:this.line1,line2:this.line2,city:this.city,region:this.region,postal:this.postal,countryCode:this.countryCode});return!t||e}))}shouldFindSubplaces(t){return this.addressService.shouldFindSubplaces({place:t,restrictCountries:[this.countryCode]})}get campaign(){return this.checkoutConfiguration.campaign}get user(){return this.checkoutConfiguration.user}get shouldAutofillRegion(){return!!this.checkoutConfiguration.infrastructureParams.livemode&&!(0,p.i)(this.countryCode)}formatGeoIpRegion(t,e){const i=b.countriesWithPredefinedStates[e];if(!i)return t;let n;if(l()(i))n=d()(i).call(i,(e=>{let{name:i}=e;return i.toLowerCase()===t.toLowerCase()}));else for(const e of g()(i))if(n=d()(e).call()})),n)break;return n?n.code:t}getDefaultCountryCode(){return this.countriesService.getMailingAddressCountriesList()[0].countryCode}}b.countriesWithPredefinedStates={US:A.S,CA:y.x,IE:v.N},b.countriesWithPostalValidation={US:/^\d{5}(-\d{4})?$/,CA:/^[A-Z]\d[A-Z]\s?\d[A-Z]\d$/i}},87593:function(t,e,i){i.d(e,{B:function(){return r}});var n=i(60894);class r extends n.h{constructor(){super(...arguments),this.isEnabled=this.campaign.config.showSubscription,this.isRequired=!1,this.checked=this.isEnabled&&this.campaign.config.subscriptionChecxt}toObd}}get campaign(){return this.checkoutConfiguration.campaign}}},40893:function(t,e,i){i.d(e,{t:function(){return r}});var n=i(60894);class r extends n.h{static get defaultValidationResult(){return{isValid:!0,fields:{onBehalfOf:{isValid:!0,errors:{required:!1,minLength:!1}}}}}constructor(t){super(t),this.checkoutConfiguration=t,this.isEnabled=this.checkoutConfiguration.campaign.config.showBehalfOf,this.isRequired=!1,this.isActive=!1,this._companyName)}set companyName(t){this._companyName=t}toObject(){return{companyName:this.companyName}}colleis}validate(){const t=!this.isEnabled||!this.isActive||this.validateCompanyName();return{isValid:t,fields:{onBehalfOf:{isValid:t,errors:{required:!(!this.isEnabled||!this.isActive||this.companyName),minLength:!t}}}}}validateCompanyName(){return!(!this.companyName||this.companyName.length<2||this.companyName.match(/^\d+$/)||"mrs."===this.companyName.toLowerCase())}}},91400:function(t,e,i){i.d(e,{w:function(){return m}});var n=i(33093),r=i.n(n),s=i(12292),o=i(68625),a=i(60894),c=i(83248),u=i(66376),l=i(75687),h=i(20199),d=i(13133);class m extends a.h{constructor(t,e){super(t),this.checkoutConfiguration=t,this.paymentMethodAvailabilityManagerRepository=e,this.isEnabled=!0,this.isRequired=!0,this.paymentMethodCountry=null,this.canApplePay=!1,this.canGooglePay=!1,this.canVenmo=!1,this.canPaypal=!0,this.isStripeAccountConnected=!!this.checkoutConfiguration.company.stripeAccount,this._clientPaymentMethod=null,this._selectedPaymentOption=null,this._isPaypalAvailable=!1,this._isPaypalVisible=!1,this._isCreditCardAvailable=!1,this._isGooglePayAvailable=!1,this._isClickToPayAvailable=!1,this._isAuBecsAvailable=!1,this._isUSBankAccountAvailable=!1,this._isApplePayAvailable=!1,this._isUkBacsAvailable=!1,this._isSepaAvailable=!1,this._isAcssAvailable=!1,this._isVenmoAvailable=!1,this._isIDEALAvailable=!1}get allowedPaymentMethods(){const t=this.isVenmoAvailable&&this.canVenmo,e=this.isApplePayAvailable&&this.canApplePay,i=this.isGooglePayAvailable&&this.canGooglePay&&!e,n=this.isPaypalVisible&&this.canPaypal;return{[l.GZ.CARD]:{available:this.isCreditCardAvailable,show:this.isCreditCardAvailable},[l.GZ.APPLE_PAY]:{available:this.isApplePayAvailable,show:e},[l.GZ.GOOGLE_PAY]:{available:this.isGooglePayAvailable,show:i},[l.GZ.CLICK_TO_PAY]:{available:this.isClickToPayAvailable,show:this.isClickToPayAvailable},[l.GZ.US_BANK_ACCOUNT]:{available:this.isUSBankAccountAvailable,show:this.isUSBankAccountAvailable},[l.GZ.PAYPAL]:{available:this.isPaypalAvailable,show:n},[l.GZ.VENMO]:{available:this.isVenmoAvailable,show:t},[l.GZ.AU_BECS]:{available:this.isAuBecsAvailable,show:this.isAuBecsAvailable},[l.GZ.UK_BACS]:{available:this.isUkBacsAvailable,show:this.isUkBacsAvailable},[l.GZ.SEPA]:{available:this.isSepaAvailable,show:this.isSepaAvailable},[l.GZ.IDEAL]:{available:this.isIDEALAvailable,show:this.isIDEALAvailable},[l.GZ.ACSS]:{available:this.isAcssAvailable,show:this.isAcssAvailable},[l.GZ.CRYPTO]:{available:!0,show:!0},[l.GZ.STOCK]:{available:!0,show:!0}}}get clientPaymentMethod(){return this._clientPaymentMethod}get selectedPaymentOption(){return this._selectedPaymentOption}calculatePaymentOptionsAvailability(t){const e=this.checkPaypal(t);this._isPaypalAvailable=e.available,this._isPaypalVisible=e.show,this._isCreditCardAvailable=this.checkCreditCard(),this._isApplePayAvailable=this.checkApplePay(),this._isGooglePayAvailable=this.checkGooglePay(),this._isClickToPayAvailable=this.checkClickToPay(t),this._isAuBecsAvailable=this.checkAuBecs(t),this._isUSBankAccountAvailable=this.checkUSBankAccount(t),this._isUkBacsAvailable=this.checkUkBacs(t),this._isSepaAvailable=this.checkSepa(t),this._isAcssAvailable=this.checkAcss(t),this._isVenmoAvailable=this.checkVenmo(t),this._isIDEALAvailable=this.checkIDEAL(t)}collectTo(t){return(0,o.m)(t),t.onPaymentOptionsDataPointCollected(),this}isPaypalConversionAvailable(t){let{merchantId:e,frequency:i,isPaypalEnabled:n,hasDefaultCurrencyPaypal:r}=t;return!!e&&Boolean(i===l.EK.ONCE&&n&&r)}setPaymentMethod(t){this._clientPaymentMethod=t}setPaymentOption(t){this._selectedPaymentOption=t}toObject(){return{clientPaymentMethod:this.clientPaymentMethod}}get isPaypalAvailable(){return this._isPaypalAvailable}get isPaypalVisible(){return this._isPaypalVisible}get isCreditCardAvailable(){return this._isCreditCardAvailable}get isGooglePayAvailable(){return this._isGooglePayAvailable}get isClickToPayAvailable(){return this._isClickToPayAvailable}get isAuBecsAvailable(){return this._isAuBecsAvailable}get isUSBankAccountAvailable(){return this._isUSBankAccountAvailable}get isApplePayAvailable(){return this._isApplePayAvailable}get isUkBacsAvailable(){return this._isUkBacsAvailable}get isSepaAvailable(){return this._isSepaAvailable}get isIDEALAvailable(){return this._isIDEALAvailable}get isAcssAvailable(){return this._isAcssAvailable}get isVenmoAvailable(){return this._isVenmoAvailable}checkGooglePay(){return"https:"===window.location.protocol&&!this.checkoutConfiguration.infrastructureParams.isInAppBrowser&&this.checkoutConfiguration.company.paymentOptions.googlePay}checkPaypal(t){let{currency:e,frequency:i}=t;const{subscriptionsEnabled:n}=this.checkoutConfiguration.company.paypal,s=this.paymentMethodAvailabilityManagerRepository.getManager(l.GZ.PAYPAL,c.B.WIDGET),o=this.checkoutConfiguration.company,a=this.checkoutConfiguration.campaign.config,u=o.paypalCurrencies,h=r()(u).call(u,e),d=r()(u).call(u,a.defaultCurrency),m=o.paymentOptions.paypal&&s.allowed("currency",e)&&(h||d)&&this.isEnvironmentSupportsPayPal();return{available:m,show:m&&(i===l.EK.ONCE?s.allowed("repeat",i):s.allowed("repeat",i)&&n)}}isEnvironmentSupportsPayPal(){const t=this.checkoutConfiguration.checkoutType===d.m.MODAL,e=!(this.checkoutConfiguration.isIOSFirefox||this.checkoutConfiguration.infrastructureParams.isInAppBrowser);return!t||e}checkCreditCard(){return this.checkoutConfiguration.company.paymentOptions.creditCard}checkClickToPay(t){let{currency:e}=t;const i=this.paymentMethodAvailabilityManagerRepository.getManager(l.GZ.CLICK_TO_PAY,c.B.WIDGET);return this.checkoutConfiguration.company.paymentOptions.clickToPay&&i.allowed("currency",e)&&!this.checkoutConfiguration.infrastructureParams.isInAppBrowser}checkAuBecs(t){let{currency:e,frequency:i,total:n}=t;const r=this.paymentMethodAvailabilityManagerRepository.getManager(l.GZ.AU_BECS,c.B.WIDGET);return this.checkoutConfiguration.company.paymentOptions.auBecsDebit&&r.allowed("repeat",i)&&r.allowed("currency",e)&&r.allowed("amount",n)}checkUSBankAccount(t){let{currency:e,frequency:i,total:n}=t;const r=(0,s.s)(this.checkoutConfiguration.company.key,n,e),o=this.paymentMethodAvailabilityManagerRepository.getManager(l.GZ.US_BANK_ACCOUNT,c.B.WIDGET);let a=o.allowed("amount",r);return a&&(0,h.mn)(this.checkoutConfiguration.company.stripe.usBankAccount.verification)&&(a=(0,h.wk)(r)),this.checkoutConfiguration.company.paymentOptions.usBankAccount&&o.allowed("repeat",i)&&o.allowed("currency",e)&&a&&"USD"===this.checkoutConfiguration.company.stripeCurrencies.default}checkApplePay(){return this.checkoutConfiguration.company.paymentOptions.applePay}checkUkBacs(t){let{currency:e,frequency:i,total:n}=t;const r=this.paymentMethodAvailabilityManagerRepository.getManager(l.GZ.UK_BACS,c.B.WIDGET);return this.checkoutConfiguration.company.paymentOptions.ukBacs&&r.allowed("repeat",i)&&r.allowed("currency",e)&&r.allowed("amount",n)}checkSepa(t){let{currency:e,frequency:i,total:n}=t;const r=this.paymentMethodAvailabilityManagerRepository.getManager(l.GZ.SEPA,c.B.WIDGET);return this.checkoutConfiguration.company.paymentOptions.sepa&&r.allowed("repeat",i)&&r.allowed("currency",e)&&r.allowed("amount",n)}checkIDEAL(t){let{currency:e,frequency:i,total:n}=t;if(this.checkoutConfiguration.infrastructureParams.isInAppBrowser)return!1;const r=this.paymentMethodAvailabilityManagerRepository.getManager(l.GZ.IDEAL,c.B.WIDGET),s=r.allowed("customerCountry",this.checkoutConfiguration.user.address.countryCode)||(0,u.b)();return(i===l.EK.ONCE||this.checkoutConfiguration.company.paymentOptions.sepa)&&this.checkoutConfiguration.company.paymentOptions.ideal&&s&&r.allowed("repeat",i)&&r.allowed("currency",e)&&r.allowed("amount",n)}checkAcss(t){let{currency:e,frequency:i,total:n}=t;const r=this.paymentMethodAvailabilityManagerRepository.getManager(l.GZ.ACSS,c.B.WIDGET);return this.checkoutConfiguration.company.paymentOptions.acss&&r.allowed("repeat",i)&&r.allowed("currency",e)&&r.allowed("amount",n)}checkVenmo(t){let{currency:e,frequency:i}=t;if(!this.checkoutConfiguration.infrastructureParams.livemode||this.checkoutConfiguration.infrastructureParams.showcase)return!1;const n=this.paymentMethodAvailabilityManagerRepository.getManager(l.GZ.VENMO,c.B.WIDGET),r=!!this.checkoutConfiguration.company.paypal.merchantId;return(this.checkoutConfiguration.user.address.countryCode===l.C9.UNITED_STATES||(0,u.b)())&&r&&n.allowed("repeat",i)&&n.allowed("currency",e)&&this.checkoutConfiguration.company.paymentOptions.venmo&&!this.checkoutConfiguration.infrastructureParams.isInAppBrowser}}},12292:function(t,e,i){function n(t,e,i){if("USD"!==i)return e;consl}}(t);return null===n?e:e<9500&&e>=n?9500:e}i.d(e,{s:function(){return n}})},64401:function(t,e,i){i.d(e,{C:function(){return r}});var n=i(60894);class r extends n.h{constructor(t,e,i){super(t),this.checkoutConfiguration=t,this.currencyService=e,this.transactionCosts=i,this.isEnabled=!0,this.isRequired=!1,this.isCurrencyConversionAppliedd}}calculateNewPaypalAmounts(t,e,i){const n=this.currencyService.getDigits(i),r=Math.ceil(this.currencyService.convert(t,e,i,!1,"US")/Math.pow(10,n))*Math.pow(10,n);return{amount:r,total:this.transactionCosts.getTotal(r,i)}}}},48571:function(t,e,i){i.d(e,{z:function(){return h}});var n=i(79131),r=i.n(n),s=i(50381),o=i.n(s),a=i(22937),c=i(23517),u=i(60894),l=i(30793);class h extends u.h{static get defaultValidationResult(){return{isValid:!0,fields:{firstName:{isValid:!0,errors:{required:!1,minLength:!1}},lastName:{isValid:!0,errors:{required:!1,minLength:!1}},email:{isValid:!0,errors:{email:!1,required:!1}}}}}constructor(t,e){super(t),this.checkoutConfiguration=t,this.validationSettings=e,this.isEnabled=!0,this.isRequired=!0,this.firstName=this.checkoutConfiguration.queryParams.firstName||"",this.lastName=this.checkoutConfiguration.queryParams.lastName||"",this.title=l.Tg.NONE,this.email=this.checkoutConfiguration.queryParams.email||"",this.emailConsent={isEnabled:this.checkoutConfiguration.featureConfig.emailConsent}}get fullName(){var t;return r()(t=`${this.firstName} ${this.lastName}`).call(t)}set fullName(t){var e;const i=o()(e=t.split(" ")).call(e,Boolean);this.firstName=i[0],i.length>1&&(this.lastName=i[i.length-1])}validate(){const t=this.toObject(),e=(0,c.O)(t.firstName,this.validationSettings.MIN_LENGTH),i={isValid:e,errors:{required:!t.firstName,minLength:!e}},n=(0,c.O)(t.lastName,this.validationSettings.MIN_LENGTH),r={isValid:n,errors:{required:!t.lastName,minLength:!n}},s=(0,a.o)(t.email),o={isValid:s,errors:{required:!t.email,email:!s}};return{isValid:i.isValid&&r.isValid&&o.isValid,fields:{firstName:i,lastName:r,email:o}}}toObject(){var t,e,i;return{firstName:r()(t=this.firstName).call(t),lastName:r()(e=this.lastName).call(e),email:r()(i=this.email).call(i)}}}},32413:function(t,e,i){i.d(e,{Y:function(){return s}});var n=i(21247),r=i(60894);class s extends r.h{static get defaultValidationResult(){return{isValid:!0,fields:{phone:{isValid:!0,errors:{required:!1,invalid:!1}}}}}constructor(t){super(t),this.checkoutConfiguration=t,this.isEnabled=this.campaign.config.showPhone,this.isRequired=this.campaign.config.phoneRequired,this.countryCode=this.user.address.countryCode,this.phone=null,this._cleanPhone=null,this.legalText=this.phoneLegalText}get isLegalTextEnabled(){return this.checkoutConfiguration.campaign.config.showPhoneLegalTxt}toObject(){return{phone:this.isEnabled?this._cleanPhone||"":null}}setCleanPhone(t){this._cleanPhone=t}validate(){const t=this.isRequired&&!this.phone,e=(this.isRequired||!!this.phone)&&!(0,n.Y)(this.phone),i=!t&&!e;return{isValid:i,fields:{phone:{isValid:i,errors:{required:t,invalid:e}}}}}get campaign(){return this.checkoutConfiguration.campaign}get user(){return this.checkoutConfiguration.user}}},83974:function(t,e,i){i.d(e,{o:function(){return h}});var n=i(50418),r=i.n(n),s=i(85738),o=i.n(s),a=i(65768),c=i(52368),u=i(60894),l=i(3018);class h extends u.h{constructor(t,e){super(t),this.checkoutConfiguration=t,this.postDonationUpsellServiceConstructor=e,this.isAccepted=!1,this.isShowed=!1,this._isEnabled=null,this._isRequired=null,this.donationAmount=0,this._recurringMinAmount=0,this.currency=this.checkoutConfiguration.campaign.config.defaultCurrency,this.tributeName="",this._amount=null,this.goalKey=null}get isEnabled(){return null!==this._isEnabled?this._isEnabled:this.checkoutConfiguration.infrastructureParams.showcase?this.checkoutConfiguration.campaign.config.showPostDonationUpsell:this.checkoutConfiguration.campaign.config.showPostDonationUpsell&&this.paymentFrequency===l.EK.ONCE&&this.isPaymentMethodAppropriate()&&this.isTributeEmpty()}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}get suggestedAmount(){return this.postDonationUpsellService.getAmounnt}get period(){return this.postDonationUpsellService.getPeriot}get recurringMinAmount(){return this._recurringMinAmount||(this.checkoutConfiguration.infrastructureParams.showcase?c.QP:0)}set isEnabled(t){this._isEnabled=t}set isRequired(t){this._isRequired=t}set amount(t){this._amount=t}setDonationAmount(t){this.donationAmount=t}setMinAmount(t){this._recurringMinAmount=t}setCurrency(t){this.currency=t}setPaymentMethod(t){this.paymentMethod=t}setPaymentFrequency(t){this.paymentFrequency=t}setTributeName(t){this.tributeName=t}accept(){this.isAccepted!0}setGoalKey(t){this.goalKey=t}toObject(){return{isAccepted:this.isAccepted,showed:this.isShowed,period:this.period,firstChargeAt:this.startDate,fromAmount:this.donationAmount,currency:this.currency,recurring:{amount:this.guaranteedAmount,total:this.total,tip:this.tip},goalKey:this.goalKey||""}}validateMinAmount(){return!!this.amount&&this.amount>=this.recurringMinAmount}validateMaxAmount(){var t;return!!this.amount&&(null===(t=this.amount)||void 0===t?void 0:t.toString().length)<=a 0}get total(){return(this.guaranteedAmount||0)+this.tip}get postDonationUpsellService(){const t={amount:this.donationAmount,minAmount:this.recurringMinAmount,currency:this.currency};return this._postDonationUpsellService?(this._postDonationUpsellService.updateExternalParams(t),this._postDonationUpsellService):(this._postDonationUpsellService=this.postDonationUpsellServiceConstructor(r()(r()({},t),{timestamp:o()()})),this._postDonationUpsellService)}isPaymentMethodAppropriate(){const t=this.paymentMethod===l.GZ.VENMO,e=this.paymentMethod===l.GZ.IDEAL;if(t||e)return!1;const i=this.paymentMethod===l.GZ.PAYPAL,n=this.checkoutConfiguration.company.paypal.subscriptionsEnabled;return!ime}}},67250:function(t,e,i){i.d(e,{k:function(){return o}});var n=i(68625),r=i(60894),s=i(75687);class o extends r.h{constructor(t,e){super(t),this.checkoutConfiguration=t,this.preDonationUpsellService=e,this.isEnabled=this.checkoutConfiguration.campaign.config.showUpsell,this.isRequired=this.isEnabled,this.isAccepted=!1,this.showed=!1,this.used=!1,this.currency="USD",this.donationAmount=0,this.donationFrequency=s.EK.ONCE,this.upsellAmount=0,this.upsellFrequency=s.EK.MONTd}}canShowUpsellScreen(t,e){var i;const n=this.preDonationUpsellService.canShowUpsellScreen(this.getUpsellParams(e,t.amount,t.currency,t.frequency));return this.checkoutConfiguration.infrastructureParams.showcase?n||!!(null===(i=this.checkoutConfiguration.showcase)||void 0===i?void 0:i.forceUpsell):n}getUpsellAmounts(t,e,i,n){return this.preDonationUpsellService.getUpsellAmounts(this.getUpsellParams(t,e,i,n))}setCurrency(t){this.currency=t}setDonationAmount(t){this.donationAmoun=t}accept(t,e,i){this.isAccepted=!0,this.upsellAmount=t,this.upsellFrequency=this.getTargetFrequency(i,e.donationAmount,e.currency,e.donationFrequen))}collectTo(t){return(0,n.m)(t),t.onPreDonationUpsellDataPointCollected({amount:this.isAccepted?this.upsellAmount:this.donationAmount,frequency:this.isAccepted?this.upsellFrequency:this.donationFrequency}),this}getUpsellParams(t,e,i,n){return{minMonthly:this.checkoutConfiguration.campaign.config.frequencies.monthly.minAmount||0,payParams:{amount:e,currency:i,frequency:n,tribute:this.getTributePayload(t)},country:this.checkoutConfiguration.user.address.countryCode,widgetParams:{showUpsell:this.isEnabled,frequencies:this.checkoutConfiguration.enabledFrequencies,defaultCurrency:this.checkoutConfiguration.campaign.config.defaultCurrency,currencyEnabledRecurrings:this.checkoutConfiguration.campaign.config.currencyEnabledRecurrings}}}getTributePayload(t){return null===t||null===t.type?null:{labelType:t.labelType,type:t.type,inHonorOf:t.isActive?t.inHonorOf:""}}}},70767:function(t,e,i){i.d(e,{Y:function(){return k}});var n=i(85952),r=i.n(n),s=i(50381),o=i.n(s),a=i(36004),c=i.n(a),u=i(86166),l=i.n(u),h=i(22788),d=i.n(h),m=i(33093),g=i.n(m),f=i(87636),p=i.n(f),y=i(7035),v=i.n(y),C=i(33415),A=i.n(C),S=i(60894),b=i(68474),P=i(18864);class k extends S.h{static isQuestionVt)}static isRequiredQuestionValid(t){return t.type===b.W.CHECKBOX?!0===t.answer:t.type===b.W.MULTIOPTION&&r()(t.answer)?!!o()(e=t.answer).call(e,Boolean).length:Boolean(t.answer);var e}constructor(t){if(super(t),this.checkoutConfiguration=t,this.isEnabled=!!this.campaign.config.questions.length&&this.campaign.config.showQuestions,this.isRequired=!0,this.questions=new(c()),t.campaign.config.showQuestions&&this.campaign.config.questions)for(const t of this.campaign.config.questions){const e=t.options||[];let i=t.key;this.checkoutConfiguration.showcase&&!i&&(i=t.id),this.questions.set(i,{answer:r()(t.answer)?[...t.answer]:t.answer,code:t.code,createdAt:t.createdAt,key:i,id:t.id,options:[...e],question:t.question,required:t.required,type:t.type=e}toObject(){var t;return{questions:(0,P.I)([...l()(t=this.questions).call(t)])}}validate(){var t;return this.validateQuestionsByKeys([...d()(t=this.questions).call(t)])}validateQuestionsByKeys(t){var e,i,n;const r={},s=o()(e=[...l()(i=this.questions).call(i)]).call(e,(e=>{let{key:i}=e;return g()(t).call(t,i)}));return p()(s).call(s,(t=>{r[t.key]={isValid:k.isQuestionValid(t)}})),{isValid:v()(n=A()(r)).call e})),fields:r}}getQuestion(t){const e=this.questions.get(t);if(!e)throw new D(t);returer}get campaign(){return this.checkoutConfiguration.campai)}}},70810:function(t,e,i){i.d(e,{v:function(){return a}});var n=i(79131),r=i.n(n),s=i(22937),o=i(60894);class a extends o.h{constructor(){super(...arguments),this.isEnabled=this.checkoutConfiguration.campaign.config.remindMe.show&&this.checkoutConfiguration.infrastructureParams.isDevelopmentMode,this.isRequired=!1,this.email=""}static get defaultValidationResult(){return{isValid:!0,fields:{email:{isValid:!0,errors:{required:!1,email:!1}}}}}toObject(){var t;return{email:r()(t=this.email).call(t)||null}}validate(){const t=this.toObject(),e=!!t.email&&(0,s.o)(t.email),i={isValid:e,errors:{required:!t.email,email:!e}};return{isValid:i.isValid,fields:{email:i}}}}},2283:function(t,e,i){i.d(e p}});var n=i(36004),r=i.n(n),s=i(47111),o=i.n(s),a=i(86166),c=i.n(a),u=i(90899),l=i.n(u),h=i(50418),d=i.n(h),m=i(22970),g=i(97316),f=i(60894);class p extends f.h{static get defaultValidationResult(){return{isValid:!0,fields:{securities:{isValid:!0,errors:{notEmpty:!1}},totalAmount:{isValid:!0,errors:{max:!1}}}}}constructor(t,e,i){super(t),this.checkoutConfiguration=t,this.securitiesApi=e,this.currencyService=i,this.isEnabled=!0,this._isRequired=null,this._securities=new(r())}get isRequed}get securities(){var t,e;return o()(t=[...c()(e=this._securities).call(e)]).call(t)}get securitiesWithSubtotals(){var t;return l()(t=this.securities).call(t,(t=>({ticker:t.ticker,quantity:t.quantity,subtotal:t.quantity*t.price,currency:t.currency})))}set isRequired(t){this._isRequired=t}getAmount(){let t=0;for(const[,e]of this._securities)t+=e.quantity*e.price;return t}getSecurities(t){return(0,m.mG)(this,void 0,void 0,(function*(){return this.securitiesApi.getListV2(t)}))}add(t){return this._securities.set(t.ticker,d()(d()({},t),{quantity:1})),this}changeQuantity(t,e){const i=this._securities.get(t);return i?(this._securities.set(i.ticker,d()(d()({},i),{quantity:e})),this):this}remove(t){return this._securities.delete(t),this}toObject(){return{securities:this.securities}}collectTo(t){return(0,g.k)(t),t.onSecuritiesDataPointCollected(),this}validate(){const t=!!this.securities.length,e=this.getAmountInUSD()<=p.MAX_TOTAL_AMOUNT_IN_USD;return{isValid:t&&e,fields:{securities:{isValid:t,errors:{notEmpty:!t}},totalAmount:{isValid:e,errors:{max:!e}}}}}getAmountInUSD(){let t=0;for(const[,e]of this._securities){const i=e.quantity*e.price;t+=this.currencyService.convert(i,e.currency,"USD")}return t}}p.MAX_TOTAL_AMOUNT_IN_USD=1e8},80584:function(t,e,i){i.d(e,{j:function(){return r}});var n=i(60894);class r extends n.h{constructor(){super(...arguments),this.isEnabled=!0,this.signature="",this._isRequired=null}static get defaultValidationResult(){return{isValid:!0,fields:{signature:{isValid:!0,errors:{required:!1}}}}}get isRequired(){return null!==this._isRequired?this._isRequired:this.isEnabled}set isRequired(t){this._isRequired=t}changeSignature(t){this.signature=t}toObject(){return{transcript:this.signature}}validate(){const t=!!this.signature;return{isValid:t,fields:{signature:{isValid:t,errors:{required:!t}}}}}}},88808:function(t,e,i){i.d(e,{B:function(){return s}});var n=i(75687),r=i(98515);class s extends =0}get total(){return this.amount}get currency(){return this.checkoutConfiguration.company.defaultCurrency}get frequency(){return n.EK.ONCE}toObject(){return{amount:this.amount,total:this.total,currency:this.currency,frequency:this.frequency}}}},58484:function(t,e,i){i.d(e,{R:function(){return r}});var n=i(60894);class r extends n.h{constructor(){super(...arguments),this.isEnabled=this.campaign.config.showTerms,this.isRequired=this.isEnabled,this.text=this.campaign.config.termsText,this.isAccepted=this.campaign.config.termsChecked}static get defaultValidationResult(){return{isValid:!0,fields:{isAccepted:{isValid:!0,errors:{required:!1}}}}}validate(){const t=!this.isRequired||this.isAccepted;return{isValid:t,fields:{isAccepted:{isValid:t,errors:{required:!t}}}}}toObject(){return{isAccepted:this.isEnabled?this.isAccepted:voidgn}}},30330:function(t,e,i){i.d(e,{M:function(){return a}});var n=i(79131),r=i.n(n),s=i(60894),o=i(47080);class a extends s.h{constructor(t){super(t),this.checkoutConfiguration=t,this.isRequired=!1,this._tributeName="",this.tributeeName=this.getDefaultTributeeName(),this.isEnabled=this.campaign.config.tribute.show,this.isActive=!this.campaign.config.tribute.optional||!!this._tributeName,this.isOptional=this.campaign.config.tribute.optional}get labelType(){return this.campaign.config.tribute.labelType}get isSharingEnabled(){const{showEmail:t,showAddress:e}=this.checkoutConfiguration.campaign.config.tribute;return t||e}get type(){return o.yx.Nme}get tributeeName(){return this._tributeName}get campaign(){return this.checkoutConfiguration.campaign}get isTributeOriented(){return!this.isOptional}set tributeeName(t){(r()(t).call(t)||""===t)&&(this._tributeName=t)}toObject(){return{inHonorOf:this.tributeeName,type:this.type,labelType:this.labelType,isActive:this.isActive}}collectTo(t){return t.onTributeDataPointCollected(),this}get externalCheckoutData(){return this.checkoutConfiguration.externalConfig.checkoutData||{}}getDefaultTributeeName(){var t;const e=this.checkoutConfiguration.queryParams.tributeHonoree,i=null===(t=this.externalCheckoutData.tribute)||void 0===t?void 0:t.inHonorOf;return e||i||""}}},11030:function(t,e,i){i.d(e,{C:function(){return o}});var n=i(60894),r=i(55822),s=i(63598);class o extends n.h{constructor(){super(...arguments),this.isEnabled=!0,this.isRequired=!1,this.sortCode="",this.accountNumber="",this.accountHolderName="",this.termsAccepted=!0}toObject(){const t=this.validate();if(!t.isValid)throw new r.F(t);return{termsAccepted:this.termsAccepted,sortCode:this.sortCode,accountNumber:this.accountNumber,accountHolderName:this.accountHolderName}}validate(){const t=this.isSortCodeValid(),e=this.isAccountNumberValid(),i=this.isAccountHolderNameValid();return{isValid:t&&e&&i&&this.termsAccepted,fields:{sortCode:{isValid:t},accountNumber:{isValid:e},accountHolderName:{isValid:i},termsAccepted:{isValid:this.termsAccepted}}}}isSortCodeValid(){return!!(this.sortCode&&this.sortCode.length>=s.z.MIN&&this.sortCode.length<=s.z.MAX)}isAccountNumberValid(){return!!(this.accountNumber&&this.accountNumber.length>=s.P.MIN&&this.accountNumber.length<=s.P.MAX)}isAccountHolderNameValid(){return!!this.accountHolderName}}},8001:function(t,e,i){i.d(e,{l:function(){return u}});var n=i(8005),r=i.n(n),s=i(60894),o=i(55822),a=i(79168),c=i(20199);class u extends ""}get usBankAccountVerificationSetup(){const t=this.checkoutConfiguration.company.stripe.usBankAccount.verification;return{isInstantOnly:(0,c.fr)(t),isAbavOnly:(0,c.B6)(t),isMicroDepositOnly:(0,c.mn)(t),isInstantAndMicroDeposit:(0,c.pY)(t),isInstantAndAbav:(0,c.v9)(t)}}get accountNumberLast4(){var t;return this.accountNumber.length>4?r()(t=this.accountNumber).call(t,-4):this.accountNumber}toObject(){const t=this.validate();if(!t.isValid)throw new o.F(t);return{routingNumber:this.routingNumber,accountNumber:this.accountNumber,accountNumberLast4:this.accountNumberLast4,accountHolderName:this.accountHolderName,accountType:this.accountType,verificationType:this.verificationType,financialInstitution:this.financialInstitution}}validate(){const t=this.isRoutingNumberValid(),e=this.isAccountNumberValid(),i=this.isAccountHolderNameValid();return{isValid:t&&e&&i,fields:{routingNumber:{isValid:t},accountNumber:{isValid:e},accountHolderName:{isValid:i},financialInstitution:{isValid:this.isFinancialInstitutionValid()},verificationType:{isValid:this.isVerificationTypeValid()}}}}isRoutingNumberValid(){return!(!this.routingNumber||this.routingNumber.length!==a.m.EQ)}isAccountNumberValid(){return!!(this.accountNumber&&this.accountNumber.length>=a.P.MIN&&this.accountNumber.length<=a.P.MAX)}isFinancialInstitutionValid(){return!!this.financialInstitutpe}isAccountHolderNameValid(){return!(this.usBankAccountVerificationSetup.isMicroDepositOnly||this.usBankAccountVerificationSetup.isAbavOnly||this.usBankAccountVerificationSetup.isInstantAndAbav)||!!this.accountHolderName}}},85748:function(t,e,i){i.d(e,{K:function(){return u}});var n=i(98189),r=i.n(n),s=i(22970),o=i(15729),a=i(64995),c=i(96815);class u extends c.s{constructor(t){let{flow:e,name:i,checkoutService:n,debug:r,intl:s,subscriptionPeriodLabelsService:c,currencyService:u,experiments:l}=t;super(e,{name:i},r),this.checkoutService=n,this.intl=s,this.subscriptionPeriodLabelsService=c,this.currencyService=u,this.experiments=l,this.viewState=(0,o.ZP)(this.getInitialViewState=>t)),this.on(a.k.PENDING_STATE_CHANGED,(t=>{"boolean"==typeof t&&this.setLocked(t)}))}getScreenData(){return this.viewState}leave(t){return this.name!==this.flow.getCurrentScreen().name?r().resolve():this.flow.next({getMandatoryAllowaeen,direction:null==t?void 0:t.direction,omitBeforeLeave:null==t?void 0:t.omitBeforeLeave})}produceViewState(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.viewState=(0,o.ZP)(this.viewState,t),e||this.syncUpdate()}setLocked(t){t?(this.flow.lock(),this.produceViewState((t=>{t.locked=!0}))):(this.flow.unlock(),this.produceViewState((t=>{t.locked=!1})))}withPending(t){return(0,s.mG)(this,void 0,void 0,(function*(){this.pending=!0;const e=yield t();return this.pending=!1,e}))}}},84799:function(t,e,i){i.d(e,{T:function(){return o}});var n=i(22970),r=i(85748),s=i(36791);class o extends r.K{beforeEnter(){return(0,n.mG)(this,void 0,void 0,(function*(){this.checkoutService.makeDataPointOptional("Comment"),this.produceViewState((t=>{t.comment=this.commentDataPoint.comment}))}))}beforeLeave(t){return(0,n.mG)(this,void 0,void 0,(function*(){return this.checkoutService.collectDataPoint([this.commentDataPoint]),!0}))}setComment(t){this.produceViewState((e=>{e.comment=t}))}submitComment(){this.commentDataPoint.comment=this.viewState.comment,this.leave({direction:s.l.BACKWAR"}}get commentDataPoint(){return this.checkoutService.getDataPoint("Comment")}}},99718:function(t,e,i){i.d(e,{Y:function(){return _}});var n=i(11052),r=i.n(n),s=i(90899),o=i.n(s),a=i(50418),c=i.n(a),u=i(26562),l=i.n(u),h=i(85952),d=i.n(h),m=i(42461),g=i.n(m),f=i(33093),p=i.n(f),y=i(79131),v=i.n(y),C=i(22970),A=i(95209),S=i(45738),b=i(7547),P=i(75687),k=i(69466),D=i(67632),E=i(53492),w=i(85094),N=i(58447),T=i(95264),M=i(85748);class _ extends M.K{constructor(t,e,i){super(i),this.onBehalfOfDataPoint=t,this.countriesService=e,this.addressSessionToken=(0,E.K)()}get isOnBehalfOf(){return this.onBehalfOfDataPoint.isOnBehalfOf}getStll}getAriaErrorMessage(t){return this.intl.translate("addressForm.ariaErrorMessage",{field:t.toLowerCase()})}beforeEnter(){return(0,C.mG)(this,void 0,void 0,(function*(){const t=this.countriesService.getMailingAddressCountriesList();this.produceViewState((e=>{var i,n,s;e.isRequired=this.mailingAddressDataPoint.isRequired,e.isPaymentScreen=this.isPaymentScreen,e.isCryptoFlow=this.isCryptoFlow,e.line1=this.mailingAddressDataPoint.line1,e.line2=this.mailingAddressDataPoint.line2,e.postal=this.mailingAddressDataPoint.postal,e.city=this.mailingAddressDataPoint.city,e.region=this.mailingAddressDataPoint.region,e.countryCode=this.mailingAddressDataPoint.countryCode,e.countryName=null!==(n=null===(i=r()(t).callode)))||void 0===i?void 0:i.countryName)&&void 0!==n?n:"",e.countries=t,e.hasRegion=this.hasRegion(this.mailingAddressDataPoint.countryCode),e.isZipFirstLayout=this.isZipFirstLayout(this.mailingAddressDataPoint.countryCode),e.showAlternativeLabels=this.showAlternativeLabels(this.mailingAddressDataPoint.countryCode),e.formattedAmount=this.intl.formatCurrency(null!==(s=this.donationDataPoint.total)&&void 0!==s?s:0,{currency:this.donationDataPoint.currency,display:"trimzeroes"}),e.frequency=this.donationDataPoint.frequency,this.hasMailingAddressError&&(e.processingState="error",e.payErrorMessage=this.checkoutService.payErrorMessage,e.additionalPayErrorMessage=this.checkoutService.additionalPayErrorMessage)}))}))}beforeLeave(t){return(0,C.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;this.pending=!0;const t=this.mailingAddressDataPoint.validate();if(!t.isValid)return this.produceViewState((e=>{e.validation=t,e.shakeKey+=1})),this.pending=!1,!1;if(this.mailingAddressDataPoint.checkShouldValidateOnServer()){if(this.pending=!0,this.setProcessingState("pending"),!(yield this.mailingAddressDataPoint.validateAddress()))return this.produceViewState((t=>{t.shakeKey+=1,t.hasServerValidationError=!0})),this.setProcessingState("error"),this.pending=!1,!1;this.setProcessingState("success"),this.pending=!1}return this.checkoutService.collectDataPoint([this.mailingAddressDataPoint]),this.isPaymentScreen?this.pay():(this.pending=!1,!0)}))}skip(){return(0,C.mG)(this,void 0,void 0,(function*(){return this.pending=!0,this.checkoutService.collectDataPoint([this.mailingAddressDataPoint]),this.isPaymentScreen?(yield this.pay())?this.leave({omitBeforeLeave:!0}):void 0:(this.pending=!1,this.leave({omitBeforeLeave:!0}))}))}search(t,e){return(0,C.mG)(this,void 0,void 0,(function*(){this.produceViewSta!0}));const i=yield this.getPlaces(t,e);this.produceViewState((t=>{t.places=o()(i).call(i,(t=>c()(c()({},t),{innerId:(0,A.x0)()}))),t.isLoadingPlaces=!1}))}))}getPlaceById(t){var e;const i=r()(e=this.viewState.places).call(e,(e=>e.innerId===t));if(!i)throw new Error(`No place with selected innerId "${t}"`);return i}canAutocompleteFirstLine(){return this.hasIndependentPostalCode(this.mailingAddressDataPoint.countryCode)?!this.mailingAddressDataPoint.line2&&!this.mailingAddressDataPoint.city:!this.mailingAddressDataPoint.line2&&!this.mailingAddressDataPoint.city&&!this.mailingAddressDataPoint.postal}shouldFindSubplaces(t){return this.mailingAddressDataPoint.shouldFindSubplaces(t)}retrieveSubplaces(t,e){return(0,C.mG)(this,void 0,void 0,(function*(){const i="line1"===e?this.viewState.line1:this.viewState.postal;return this.search(i,t)}))}retrieveDetails(t){return(0,C.mG)(this,void 0,void 0,(function*(){let e;try{e=yield this.mailingAddressDataPoint.getDetails(t,this.addressSessionToken)}finally{this.addressSessionToken=(0,E.K)()}this.mailingAddressDataPoint.line1=e.line1,this.mailingAddressDataPoint.city=e.city,this.hasIndependentPostalCode(this.mailingAddressDataPoint.countryCode)||(this.mailingAddressDataPoint.postal=e.postal),e.line2&&(this.mailingAddressDataPoint.line2=e.line2),e.region&&(this.mailingAddressDataPoint.region=e.region),this.produceViewState((t=>{t.line1=this.mailingAddressDataPoint.line1,t.line2=this.mailingAddressDataPoint.line2,t.city=this.mailingAddressDataPoint.city,t.region=this.mailingAddressDataPoint.region,t.postal=this.mailingAddressDataPoint.postal,t.validation=T.R.defaultValidationResult}))}))}changeLine1(t){this.mailingAddressDataPoint.line1=t,this.produceViewState((t=>{t.validation.fields.line1.isValid||(t.validation.fields.line1=T.R.defaultValidationResult.fields.line1),t.line1=this.mailingAddressDataPoint.line1}))}changeLine2(t){this.mailingAddressDataPoint.line2=t,this.produceViewState((t=>{t.validation.fields.line2.isValid||(t.validation.fields.line2=T.R.defaultValidationResult.fields.line2),t.line2=this.mailingAddressDataPoint.line2}))}changeCity(t){this.mailingAddressDataPoint.city=t,this.produceViewState((t=>{t.validation.fields.city.isValid||(t.validation.fields.city=T.R.defaultValidationResult.fields.city),t.city=this.mailingAddressDataPoint.city}))}changeRegion(t){this.mailingAddressDataPoint.region=t,this.produceViewState((t=>{t.validation.fields.region.isValid||(t.validation.fields.region=T.R.defaultValidationResult.fields.region),t.region=this.mailingAddressDataPoint.region}))}changePostalCode(t){this.mailingAddressDataPoint.postal=t,this.produceViewState((t=>{t.validation.fields.postal.isValid||(t.validation.fields.postal=T.R.defaultValidationResult.fields.postal),t.postal=this.mailingAddressDataPoint.postal}))}changeSelectedCountry(t){const e=this.isZipFirstLayout(this.mailingAddressDataPoint.countryCode),i=this.hasRegion(this.mailingAddressDataPoint.countryCode);this.mailingAddressDataPoint.countryCode=t;const n=this.isZipFirstLayout(this.mailingAddressDataPoint.countryCode),s=this.hasRegion(this.mailingAddressDataPoint.countryCode);this.mailingAddressDataPoint.region=this.getPredefinedRegion(t,e,i),this.produceViewState((e=>{var i,o;e.countryCode=this.mailingAddressDataPoint.countryCode,e.countryName=r()(i=this.viewState.countries).call(i,(e=>e.countryCode===t)).countryName,e.region=this.mailingAddressDataPoint.region,l()(o=e.places).call(o,0,e.places.length),e.hasRegion=s,e.isZipFirstLayout=n,e.showAlternativeLabels=this.showAlternativeLabels(t)}))}getPredefinedRegion(t,e,i){var n,r;const s=this.getStates(t);if(s){if(d()(s))return null===(n=s[0])||void 0===n?void 0:n.code;const t=s[g()(s)[0]],e=null===(r=null==t?void 0:t[0])||void 0===r?void 0:r.code;if(e)return e}const o=this.isZipFirstLayout(this.mailingAddressDataPoint.countryCode),a=this.hasRegion(this.mailingAddressDataPoint.countryCode);return e!==o||i!==a?"":this.mailingAddressDataPoint.region}getInitialViewState(){return{locked:!1,isRequired:!1,isPaymentScreen:!0,isCryptoFlow:!1,donateLabel:"",processingState:"idle",hasServerValidationError:!1,line1:"",line2:"",city:"",region:"",postal:"",countryCode:P.C9.UNITED_STATES,countryName:"",isZipFirstLayout:!1,hasRegion:!1,showAlternativeLabels:!1,countries:[],places:[],isLoadingPlaces:!1,shakeKey:0,validation:T.R.defaultValidationResult,formattedAmount:"",frequency:P.EK.MONTHor}get mailingAddressDataPoint(){return this.checkoutService.getDataPoint("MailingAddress")}get isPaymentScreen(){return this.name===this.checkoutService.paymentScreenName}get isCryptoFlow(){return this.checkoutService.type===k.C.CRYPTO}get donationDataPoint(){return this.checkoutService.getDataPoint(N.Z[this.checkoutService.typ)}hasIndependentPostalCode(t){var e;return p()(e=[P.C9.IRELAND]).call(e,t)}showAlternativeLabels(t){var e;return p()(e=[P.C9.UNITED_KINGDOM,P.C9.IRELAND]).call(e))}pay(){return(0,C.mG)(this,void 0,void 0,(function*(){this.pending=!0,this.setProcessingState("pending");const t=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return D.H.isSuccess(t)?(this.isCryptoFlow||(this.setProcessingState("success"),yield(0,w.D)(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave)),this.pending=!1,!0):t.failureResult.shouldLeave?(this.pending=!1,!0):(this.produceViewState((t=>{t.payErrorMessage=this.checkoutService.payErrorMessage,t.additionalPayErrorMessage=this.checkoutService.additionalPayErrorMessage})),this.setProcessingState("error"),this.pending=!1,!1)}))}getPlaces(t,e){return(0,C.mG)(this,void 0,void 0,(function*(){const i={input:v()(t).call(t),restrictCountries:[this.viewState.countryCode],sessionToken:this.addressSessionToken};return e?this.mailingAddressDataPoint.getSubplaces(c()({place:e},i)):this.mailingAddressDataPoint.getPlaces(c()({},i))}))}}},1618:function(t,e,i){i.d(e,{h:function(){return P}});var n=i(69117),r=i.n(n),s=i(42461),o=i.n(s),a=i(22970),c=i(30793),u=i(75687),l=i(3018),h=i(69466),d=i(67632),m=i(85094),g=i(44839),f=i(4160),p=i(58447),y=i(40893),v=i(48571),C=i(32413),A=i(58484),S=i(85748),b=i(84473);class P extends S.K{beforeEnter(){return(0,a.mG)(this,void 0,void 0,(function*(){this.startExperiments(),this.produceViewState((t=>{var e;t.isPaymentScreen=this.isPaymentScreen,t.isStockFlow=this.isStockFlow,t.firstName=this.personalInformationDataPoint.firstName,t.lastName=this.personalInformationDataPoint.lastName,t.email=this.personalInformationDataPoint.email,t.emailConsent.isEnabled=this.personalInformationDataPoint.emailConsent.isEnabled,t.showPhone=this.phoneNumberDataPoint.isEnabled,t.phoneRequired=this.phoneNumberDataPoint.isRequired,t.phone=this.phoneNumberDataPoint.phone,t.phoneLegalText=this.phoneNumberDataPoint.legalText,t.showPhoneLegalText=this.phoneNumberDataPoint.isLegalTextEnabled,t.userCountryCode=this.phoneNumberDataPoint.countryCode,t.showAnonymous=this.donateAnonymousDataPoint.isEnabled,t.anonymousChecked=this.donateAnonymousDataPoint.anonymousChecked,t.mailingListSubscription.show=this.mailingListSubscriptionDataPoint.isEnabled,t.mailingListSubscription.checked=this.mailingListSubscriptionDataPoint.checked,t.mailingListSubscription.text=this.mailingListSubscriptionDataPoint.text,t.processingState="idle",t.onBehalfOf.companyName=this.onBehalfOfDataPoint.companyName,t.onBehalfOf.isEnabled=this.onBehalfOfDataPoint.isEnabled,t.onBehalfOf.isActive=this.onBehalfOfDataPoint.isActive,t.termsAndConditions.text=this.termsAndConditionsDataPoint.text,t.termsAndConditions.isEnabled=this.termsAndConditionsDataPoint.isEnabled,t.termsAndConditions.isAccepted=this.termsAndConditionsDataPoint.isAccepted;const{showPhone:i}=t,n=this.customerTitleDataPoint.isEnabled||this.isStockFlow?!((i||t.onBehalfOf.isEnabled)&&(t.showAnonymous||t.mailingListSubscription.show||t.termsAndConditions.isEnabled)):!(i&&t.onBehalfOf.isEnabled&&(t.showAnonymous||t.mailingListSubscription.show||t.termsAndConditions.isEnabled)),r=!!this.customerTitleDataPoint.isEnabled&&i&&t.onBehalfOf.isEnabled&&t.showAnonymous&&t.mailingListSubscription.show&&t.termsAndConditions.isEnabled;t.textIsVisible=n,t.isApplePayAlertVisible=this.isApplePayAlertVisible,t.allOptionsEnabled=r,t.customerTitle.title=this.customerTitleDataPoint.title,t.customerTitle.list=this.customerTitleDataPoint.titleList,t.customerTitle.isEnabled=this.customerTitleDataPoint.isEnabled,t.customerTitle.isRequired=this.customerTitleDataPoint.isRequired,t.donation.formattedAmount=this.intl.formatCurrency(null!==(e=this.donationDataPoint.total)&&void 0!==e?e:0,{currency:this.donationDataPoint.currency,display:"trimzeroes"}),t.donation.frequency=this.donationDataPoint.frequency,this.isStockFlow&&(t.brokerageAccountNumber.accountNumber=this.brokerageAccountNumberDataPoint.accountNumber,t.brokerageAccountNumber.isEnabled=this.brokerageAccountNumberDataPoint.isEnabled,t.brokerageAccountNumber.isRequired=this.brokerageAccountNumberDataPoint.isRequired),t.autoFocus=this.getAutoFocusConfig(t.brokerageAccountNumber.isEnabled,t.customerTitle.isEnabled)}))}))}beforeLeave(t){return(0,a.mG)(this,void 0,void 0,(function*(){if(this.pending)return!1;this.pending=!0;let t=!1;if(this.produceViewState((e=>{e.validation.customerTitle=this.customerTitleDataPoint.validate(),e.validation.personalInformation=this.personalInformationDataPoint.validate(),e.validation.phone=this.phoneNumberDataPoint.validate(),e.validation.isAccepted=this.termsAndConditionsDataPoint.validate(),e.validation.onBehalfOf=this.onBehalfOfDataPoint.validate(),this.isStockFlow&&(e.validation.brokerageAccountNumber=this.brokerageAccountNumberDataPoint.validate()),t=this.checkHasError(e),t&&(e.shakeKey+=1)})),t)return this.pending=!1,!1;this.setProcessingState("pending");const e=[this.personalInformationDataPoint,this.donateAnonymousDataPoint,this.mailingListSubscriptionDataPoint,this.phoneNumberDataPoint,this.onBehalfOfDataPoint];this.isStockFlow&&e.push(this.brokerageAccountNumberDataPoint);const i=yield this.checkoutService.collectDataPoint(e,!0);if(d.H.isFailure(i)&&i.failureResult.customerEmailError)return yield this.startServerErrorFlow(),!1;if(this.checkoutService.customerPrivacyValid(),!this.isPaymentScreen)return this.setProcessingState("idle"),this.pending=!1,!0;const n=yield this.checkoutService.pay({screen:this.name,predictedNextScreen:this.flow.predictNextScreen()});return d.H.isSuccess(n)?(this.isCryptoFlow||(this.setProcessingState("success"),yield(0,m.D)(this.checkoutService.checkoutConfiguration.successPaymentDelayBeforeLeave)),this.pending=!1,!0):n.failureResult.shouldLeave?(this.pending=!1,!0):(this.produceViewState((t=>{t.payErrorMessage=this.checkoutService.payErrorMessage||this.intl.translate("common.errorOccurredText"),t.additionalPayErrorMessage=this.checkoutService.additionalPayErrorMessage||""})),this.setProcessingState("error"),this.pending=!1,!1)}))}changeCompanyName(t){this.onBehalfOfDataPoint.companyName=t,this.produceViewState((t=>{t.validation.onBehalfOf.isValid||(t.validation.onBehalfOf=y.t.defaultValidationResult),t.onBehalfOf.companyName=this.onBehalfOfDataPoint.companyName}))}changeCustomerTitle(t){this.customerTitleDataPoint.title=t,this.produceViewState((t=>{t.validation.customerTitle.isValid||(t.validation.customerTitle=f.H.defaultValidationResult),t.customerTitle.title=this.customerTitleDataPoint.title}))}changeFirstName(t){this.personalInformationDataPoint.firstName=t,this.produceViewState((t=>{t.validation.personalInformation.fields.firstName.isValid||(t.validation.personalInformation.fields.firstName=v.z.defaultValidationResult.fields.firstName),t.firstName=this.personalInformationDataPoint.firstName}))}changeLastName(t){this.personalInformationDataPoint.lastName=t,this.produceViewState((t=>{t.validation.personalInformation.fields.lastName.isValid||(t.validation.personalInformation.fields.lastName=v.z.defaultValidationResult.fields.lastName),t.lastName=this.personalInformationDataPoint.lastName}))}changeEmail(t){this.personalInformationDataPoint.email=t,this.produceViewState((t=>{t.validation.personalInformation.fields.email.isValid||(t.validation.personalInformation.fields.email=v.z.defaultValidationResult.fields.email),t.email=this.personalInformationDataPoint.email}))}changePhone(t){this.phoneNumberDataPoint.phone=t,this.produceViewState((t=>{t.validation.phone.isValid||(t.validation.phone=C.Y.defaultValidationResult),t.phone=this.phoneNumberDataPoint.phone}))}changePlainPhone(t){this.phoneNumberDataPoint.setCleanPhone(t)}changeCountryCode(t){this.phoneNumberDataPoint.countryCode=t,this.produceViewStade}))}changeBrokerageAccountNumber(t){this.isStockFlow&&(this.brokerageAccountNumberDataPoint.accountNumber=t,this.produceViewState((t=>{t.validation.brokerageAccountNumber.isValid||(t.validation.brokerageAccountNumber=g.r.defaultValidationResult),t.brokerageAccountNumber.accountNumber=this.brokerageAccountNumberDataPoint.accountNumber})))}toggleOnBehalfOf(){this.onBehalfOfDataPoint.isActive=!this.onBehalfOfDataPoint.isActive,this.produceViewState((t=>{t.onBehalfOf.isActive=this.onBehalfOfDataPoint.isActive,t.isPaymentScreen=this.isPaymentScreen}))}toggleTermsAndConditionsAccepted(){this.termsAndConditionsDataPoint.isAccepted=!this.termsAndConditionsDataPoint.isAccepted,this.produceViewState((t=>{var e;(null===(e=t.validation.isAccepted)||void 0===e?void 0:e.isValid)||(t.validation.isAccepted=A.R.defaultValidationResult),t.termsAndConditions.isAccepted=this.termsAndConditionsDataPoint.isAccepted}))}toggleAnonymousChecked(){const t=this.donateAnonymousDataPoint.anonymousChecked;this.donateAnonymousDataPoint.anonymousChecked=!t,this.produceViewSta!t}))}toggleSubscriptionChecked(){const t=this.mailingListSubscriptionDataPoint.checked;this.mailingListSubscriptionDataPoint.checked=!t,this.produceViewState((e=>{e.mailingListSubscription.checked=!t}))}getInitialViewState(){return{shakeKey:0,validation:{brokerageAccountNumber:g.r.defaultValidationResult,customerTitle:f.H.defaultValidationResult,personalInformation:v.z.defaultValidationResult,onBehalfOf:y.t.defaultValidationResult,phone:C.Y.defaultValidationResult,isAccepted:A.R.defaultValidationResult},serverErrors:{},showPhone:!1,phoneRequired:!1,showPhoneLegalText:!1,phoneLegalText:"",showAnonymous:!1,anonymousChecked:!1,mailingListSubscription:{checked:!1,show:!1,text:""},textIsVisible:!1,isApplePayAlertVisible:!1,allOptionsEnabled:!1,firstName:"",lastName:"",email:"",emailConsent:{isEnabled:!1},phone:null,isPaymentScreen:!1,payErrorMessage:"",additionalPayErrorMessage:"",userCountryCode:u.C9.UNITED_STATES,processingState:"idle",termsAndConditions:{isAccepted:!1,isEnabled:!1,text:""},onBehalfOf:{isEnabled:!1,isActive:!1,companyName:""},customerTitle:{title:c.Tg.NONE,list:[],isEnabled:!1,isRequired:!1},locked:!1,donation:{formattedAmount:"",frequency:l.EK.MONTHLY},brokerageAccountNumber:{isEnabled:!1,isRequired:!1,accountNumber:""},isStockFlow:!1,autoFocus:this.createDefaultAutoFocusConfigme}get isFiatFlow(){return this.checkoutService.type===h.C.MONEY}get isStockFlow(){return this.checkoutService.type===h.C.STTO}get personalInformationDataPoint(){return this.checkoutService.getDataPoint("PersonalInformation")}get termsAndConditionsDataPoint(){return this.checkoutService.getDataPoint("TermsAndConditions")}get phoneNumberDataPoint(){return this.checkoutService.getDataPoint("PhoneNumber")}get donateAnonymousDataP)}get onBehalfOfDataPoint(){return this.checkoutService.getDataPoint("OnBehalfOf")}get customerTitleDataPoint(){return this.checkoutService.getDataPoint("CustomerTitle")}get donationDataPoint(){return this.checkoutService.getDataPoint(p.Z[this.checkoutService.type])}get brokerageAccountNumberDataPoint(){return this.checkoutService.getDataPoint("BrokerageAccountNumber")}get paymentOptionsDataPoint(){return this.checkoutService.getDataPoint("PaymentOptions")}get isApplePay(){return this.paymentOptionsDataPoint.clientPaymentMethod===u.GZ.APPLE_PAY}get isMobile(){return this.checkoutService.checkoutConfiguration.infrastructureParams.isMobay}get mailingAddressDataPoint(){return this.checkoutService.getDataPoint("MailingAddress")}get mailingAddressDisablingExperiment(){return this.experiments.get(b.Xg.MAILING_ADDRESS_DISABLING_EXPERIMENT)}startExperiments(){const t={isMailingAddressEnabled:this.mailingAddressDataPoint.isEnabled,isMailingAddressRequired:this.mailingAddressDataPoint.isRequired,checkoutType:this.checkoutService.checkoutConfiguration.checkoutType,companyCountry:this.checkoutService.checkoutConfiguration.company.country};this.mailingAddressDisablingExperiment.tryStart(t),this.mailingAddressDisablingExperiment.shouldMakeMailingAddressRequired(t)&&this.checkoutService.makeDataPointRequired("MailingAddress")}checkHasError(t){var e;return r()(e=o()(t.validation)).call(e,(e=>{const i=t.validation[e];return!!i&&!i.isValid}))}startServerErrorFlow(){return(0,a.mG)(this,void 0,void 0,(function*(){this.produceViewState((t=>{t.serverErrors.email=!0,t.shakeKey+=1,t.processingState="error"})),this.pending=!1}))}setProcessingState(t){return this.produceViewState((e=>{e.processingState=t})),this}getAutoFocusConfig(t,e){const i=this.createDefaultAutoFocusConfig();return t?(i.firstName=!1,i.brokerageAccountNumber=!0):e&&(i.firstName=!1,i.customerTitle=!00}}}},27415:function(t,e,i){i.d(e,{H:function(){return P}});var n=i(90899),r=i.n(n),s=i(42614),o=i.n(s),a=i(50381),c=i.n(a),u=i(50428),l=i.n(u),h=i(69117),d=i.n(h),m=i(11052),g=i.n(m),f=i(85952),p=i.n(f),y=i(26562),v=i.n(y),C=i(86166),A=i.n(C),S=i(22970),b=i(85748);class P extends b.K{get showBackButton(){const t=1!==this.viewState.page||this.checkoutService.canGoBack,e=this.checkoutService.checkoutConfiguration.infrastructureParams.isMobile;return{header:!e&&t,footer:e&&t}}beforeEnter(){return(0,S.mG)(this,void 0,void 0,(function*(){this.produceViewState((t=>{var e,i;t.questions=r()(e=[...o()(i=this.questionsDataPoint.questions).call(i)]).call(e,(t=>{let[e,i]=t;return{key:e,type:i.type,required:i.required,code:i.code,question:i.question,answer:i.answer,page:null,options:[...i.options]}})),t.isMeasuring=!0}))}))}beforeLeave(t){return(0,S.mG)(this,void 0,void 0,(function*(){var t,e;const i=this.viewState.page,n=c()(t=this.viewState.questions).call=i})),s=this.questionsDataPoint.validateQuestionsByKeys(r()(n).call(n,(t=>{let{key:e}=t;return e})));return s.isValid?d()(e=this.viewState.questions).call(e,(t=>{let{page:e}=t;return null===e||e>i}))?(this.produceViewSta=1})),yield this.checkoutService.updateSession(),!1):(this.checkoutService.collectDataPoint([this.questionsDataPoint]),!0):(this.produceViewState((t=>{for(const[e,{isValid:i}]of l()(s.fields))t.questionErrors[e]=!i;t.shakeKey+=1})),!1)}))}back(){return(0,S.mG)(this,void 0,void 0,(function*(){const t=this.viewState.page;if(1===t&&this.flow.canGoBack&&this.checkoutService.canGoBack)return this.flow.prev();this.produceViewState((e=>{for(const i of e.questions)i.page===t&&(e.questionErrors[i.key]=!1);e.page-=1}))}))}answerQuestion(t,e){this.questionsDataPoint.setAnswer(t,e),this.produceViewState((e=>{var i;const n=g()(i=e.questions).call(i,(e=>e.key===t));if(!n)throw new Error(`No question with such key: "${t}"`);e.questionErrors[t]=!1;const r=this.questionsDataPoint.getAnswer(t);var s;p()(r)?p()(n.answer)?v()(s=n.answer).call(s,0,n.answer.length,...r):n.answer=[...r]:n.answer=r}))}navigateInShowcaseToPage(t){if(!this.viewState.isShowcase)throw new Error("Can be used only in showcase");this.produceViewState((e=>{e.page=t}))}completeMeasurement(t){this.produceViewState((e=>{for(const[i,n]of t)e.questions[i].page=n,this.viewState.isShowcase&&(e.page=n);const i=this.checkoutService.checkoutConfiguration.showcase,n=i&&i.currentQuestionsPage;n&&(e.page=n),e.isMeasuring=!1})),this.checkoutService.checkoutUIState.pagesOfQuestionsScreen=this.getPagesOfQuestionsScreen(t)}getInitialViewState(){return{locked:!1,page:1,questions:[],hasBackButton:!0,isMeasuring:!1,questionErrors:{},shakeKey:0,isShowcase:this.checkoutService.checkoutConfiguration.infrastructureParams.showcase}}get questionsDataPoint(){return this.checkoutService.getDataPoint("Questions")}getPagesOfQuestionsScreen(t){const e=[...A()(t).call(t)];return e[e.length-1]}}},94221:function(t,e,i){i.d(e,{U:function(){return a}});var n=i(22970),r=i(85094),s=i(70810),o=i(85748);class a extends o.K{beforeEnter(){return(0,n.mG)(this,void 0,void 0,(function*(){this.produceViewState((t=>{t.email=this.remindMeLaterDataPoint.email}))}))}updateEmail(t){this.remindMeLaterDataPoint.email=t,this.produceViewState((t=>{t.email=this.remindMeLaterDataPoint.email,t.isEmailValid=s.v.defaultValidationResult.fields.email.isValid}))}save(){return(0,n.mG)(this,void 0,void 0,(function*(){const t=this.remindMeLaterDataPoint.validate();return this.produceViewStaid})),!!t.isValid&&(this.produceViewState((t=>{t.loadingState=!0})),yield this.withPendil())),this.produceViewSta!1})),yield(0,r.D)(3e3),!0)}))}saveOnClose(){if(!this.remindMeLaterDataPoint.validate().isValid)return this.updateEmail("");this.checkoutService.saveRemindMeLaterEmail()}getInitialViewS1}}get remindMeLaterDataPoint(){return this.checkoutService.getDataPoint("RemindMeLater")}}},57874:function(t,e,i){i.d(e,{w:function(){return c}});var n=i(22970),r=i(75687),s=i(69466),o=i(1303),a=i(85748);class c extends =n}get hasTrime}get descriptionSharing(){switch(this.viewState.flowType){case s.C.MONEY:return this.descriptionSharingFiat;case s.C.CRYPTO:return this.hasTribute?this.intl.translate("thankYouScreen.description.withTribute.crypto",{amount:this.viewState.formattedTotal,dedicatedTo:this.viewState.tribute.inHonorOf}):this.intl.translate("thankYouScreen.description.withoutTribute.crypto",{amount:this.viewState.formattedTotal});case s.C.STOCK:return this.hasTribute?this.intl.translate("thankYouScreen.description.withTribute.stock",{amount:this.viewState.formattedTotal,dedicatedTo:this.viewState.tribute.inHonorOf}):this.intl.translate("thankYouScreen.description.withoutTribute.stock",{amount:this.viewState.formattedTotal});default:{const t=this.viewState.flowType;throw new Error(`Unknown flow type "${t}"`)}}}get descriptionTribute(){if(!this.checkoutService.checkoutConfiguration.infrastructureParams.showcase&&this.viewState.flowType===s.C.MONEY&&this.donationDataPoint instanceof o.b){const t=this.donationDataPoint.isRecurring,e=this.donationDataPoint.frequency;if(t&&e!==r.EK.ONCE)return this.intl.translate("thankYouScreen.description.withTribute.fiat.recurring",{amount:this.viewState.formattedTotal,recurringType:this.recurringTypes[e],dedicatedTo:this.viewState.tribute.inHonorOf})}return this.viewState.flowType===s.C.STOCK?this.intl.translate("thankYouScreen.description.withTribute.stock",{dedicatedTo:this.viewState.tribute.inHonorOf}):this.viewState.flowType===s.C.CRYPTO?this.intl.translate("thankYouScreen.description.withTribute.crypto",{amount:this.viewState.formattedTotal,dedicatedTo:this.viewState.tribute.inHonorOf}):this.intl.translate("thankYouScreen.description.withTribute.fiat.once",{amount:this.viewState.formattedTotal,dedicatedTo:this.viewState.tribute.inHonorOf})}beforeEnter(){return(0,n.mG)(this,void 0,void 0,(function*(){this.redirectApi.canRedirect(this.checkoutService.getState())?(yield this.checkoutService.tryCloseSession(),yield this.redirectApi.tryRedirect(this.checkoutService)):this.checkoutService.tryCloseSession();const t=this.donationDataPoint.total||0,e=this.donationDataPoint.currency;this.produceViewState((i=>{var n,r;i.currency=e,i.total=t,i.formattedTotal=this.intl.formatCurrency(i.total,{currency:i.currency,display:"trimzeroes"}),i.tributeDonorPortalLink=null!==(r=null===(n=this.checkoutService.getState().donationResultState)||void 0===n?void 0:n.tributeDonorPortalLink)&&void 0!==r?r:"",i.tribute.inHonorOf=this.tributeDataPoint.tributeeName,i.variant=this.variant;const{email:s,twitter:o,linkedin:a,facebook:c}=this.sharingApi.sharingChannels;i.sharing.showEmail=s,i.sharing.showTwitter=o,i.sharing.showLinkedin=a,i.sharing.showFacebook=c}))}))}getSharingLink(t){return this.sharingApi.getSharingLink(t,this.intl.translate("thankYouScreen.share.emailSubject"))}share(t,e){this.sharingApi.share(t,this.intl.translate("thankYouScreen.share.emailSubject"),e)}makeAnotherDonation(){}shown(){return(0,n.mG)(this,void 0,void 0,(function*(){this.checkoutService.thankYouShown()}))}getInitialViewState(){return{locked:!1,variant:"Sharing",currency:"USD",total:0,formattedTotal:"",sharing:{showFacebook:!0,showTwitter:!0,showLinkedin:!0,showEmail:!0},tribute:{inHonorOf:""},tributeDonorPortalLink:"",flowType:this.checkoutService.type}}get descriptionSharingFiat(){if(!this.checkoutService.checkoutConfiguration.infrastructureParams.showcase&&this.donationDataPoint instanceof o.b){const t=this.donationDataPoint.frequency;if(t!==r.EK.ONCE)return this.hasTribute?this.intl.translate("thankYouScreen.description.withTribute.fiat.recurring",{amount:this.viewState.formattedTotal,recurringType:this.recurringTypes[t],dedicatedTo:this.viewState.tribute.inHonorOf}):this.intl.translate("thankYouScreen.description.withoutTribute.fiat.recurring",{amount:this.viewState.formattedTotal,recurringType:this.recurringTypes[t]})}return this.hasTribute?this.intl.translate("thankYouScreen.description.withTribute.fiat.once",{amount:this.viewState.formattedTotal,dedicatedTo:this.viewState.tribute.inHonorOf}):this.intl.translate("thankYouScreen.description.withoutTribute.fiat.once",{amount:this.viewState.formattedTotal})}get recurringTypes(){return{[r.EK.DAILY]:this.intl.translate("widgetSubscriptionPeriodLabel.daily.adjective"),[r.EK.WEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.adjective"),[r.EK.BIWEEKLY]:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.adjective"),[r.EK.EVERY_4_WEEKS]:this.intl.translate("widgetSubscriptionPeriodLabel.every4weeks.adjective"),[r.EK.MONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.adjective"),[r.EK.BIMONTHLY]:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.adjective"),[r.EK.QUARTERLY]:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.adjective"),[r.EK.SEMIANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.adjective"),[r.EK.ANNUAL]:this.intl.translate("widgetSubscriptionPeriodLabel.annual.adjective")}}get isSharingEnabled(){return this.sharingApi.isSharingEnabled}get variant(){return this.hasTribute&&this.tributeDataPoint.isSharingEnabled?"Tribute":this.isSharingEnabled?"Sharing":"Default"}}},19470:function(t,e,i){var n,r;i.d(e,{Z:function(){return n},A:function(){return rk"}(n||(n={})),function(t){t.PAGE="page_thankyou",t.MODAL="modal_thankyou",t.HEADER="top_sharing_button"}(r||(r={}))},1273:function(t,e,i){function n(t){if(void 0===t.onCryptoCurrencyDataPointCollect)throw new Error("Expected checkout state to be ICheckoutStateWithCryptoCurrency")}i.d(e,{S:function(){return n}})},68625:function(t,e,i){function n(t){if(void 0===t.onDonationDataPointCollected)throw new Error("Expected checkout state to be IFiatCheckoutState")}function r(t){if(void 0===t.resetGiftAid||void 0===t.onGiftAidAccepted)throw new Error("Expected checkout state to be ICheckoutStateWithGiftAid")}i.d(e,{m:function(){return n},c:function(){return r}})},97316:function(t,e,i){function n(t){if(void 0===t.onSecuritiesDataPointCollected)throw new Error("Expected checkout state to be ICheckoutStateWithSecurities")}i.d(e,{k:function(){return n}})},53811:function(t,e")}i.d(e,{I:function(){return n}})},71179:function(t,e,i){i.d(e,{q:function(){return a}});var n=i(50418),r=i.n(n),s=i(22970),o=i(67632);class a{constructor(t){this.sessionAPI=t}validate(t){return(0,s.mG)(this,void 0,void 0,(function*(){const e=yield this.sessionAPI.post("mailingAddress",r()({},t),{rejectsOnInvalid:!0});return o.H.isSuccess(e)?e.successResult:{valid:!1,validated:!0}}))}}},42726:function(t,e,i){i.d(e,{T:function(){return o}});var n=i(90899),r=i.n(n),s=i(22970);class o{constructor(t){this.sessionAPI=t}getList(t){return(0,s.mG)(this,void 0,void 0,(function*(){const e=yield this.sessionAPI.get("brokers",{query:t},{delay:200,retries:5,cancelSimilar:!0,rejectsOnInvalid:!0});return r()(e).callo})))}))}}},45687:function(t,e,i){i.d(e,{Z:function(){return v}});var n=i(50418),r=i.n(n),s=i(98189),o=i.n(s),a=i(85738),c=i.n(a),u=i(22970),l=i(4456),h=i(3018),d=i(85094),m=i(62914),g=i(28693),f=i(89562),p=i(23993),y=i(13133);clas}}constructor(t,e,i,n,r,s,o,a,c,u,l,h,d,m,g,f,p,y,v,C){var A;this.dataPointRegistry=t,this._checkoutConfiguration=e,this.checkoutState=i,this._checkoutUIState=n,this.sessionService=r,this.sessionAPI=s,this.tracker=o,this.currencyService=a,this.intl=c,this.iframeWindow=u,this.sentry=l,this.paymentScreen=h,this.eventEmitter=d,this.checkoutAPIBridge=m,this.debug=g,this.experiments=f,this.paymentAPI=p,this.logger=y,this._redirectApi=v,this.params=C,this.shouldFindMandatoryScreen=!1,this._closeSessionPromise=null,(null===(A=this.checkoutConfiguration.fundraisingPage)||void 0===A?void 0:A.key)&&(this.checkoutUIState.askPageActiveTab="fundraiser")}get redirectApi(){return this._redirectApi}get checkoutUIState(){return this._checkoutUIState}get checkoutConfiguration(){return this._checkoutConfiguration}get campaignConfig(){return this.checkoutConfiguration.campaign.config}get defaultAmountOptions(){return this.checkoutConfiguration.defaultAmountOptions}get company(){return this.checkoutConfiguration.company}get queryParams(){return this.checkoutConfiguration.queryParpt}get canGoBack(){return this.checkoutState.canGoBack}get livemode(){return this.checkoutConfiguration.infrastructureParams.livemode}get isPaid(){var t;return!!(null===(t=this.getState().donationResultState)||void 0===t?void 0:t.donationId)}reloadCheckout(t){return(0,u.mG)(this,void 0,void 0,(function*(){this.trackCheckoutClose(t),yield(0,d.D)(20),window.location.reload()}))}initia)}collectDataPoint(t,e){for(const e of t)this.checkoutState.setCollectedFor(e),e.collectTo(this.checkoutState);if(e)return this.onDataPointCollect(t);this.onDataPointCollect(t)}updateSession(){return(0,u.mG)(this,void 0,void 0,(function*(){return this.sessionService.updateSession()}))}getDataPoint(t){return this.dataPointRegistry.getDataPoint(t)}resetDataPoint(t){const e=this.getDataPoint(t);e.reset(this.checkoutState),this.checkoutState.unsetCollectedFor(e)}enableDataPoint(t){return this.checkoutState.setEnabledFor(t),this}disableDataPoint(t){return this.checkoutState.unsetEnabledFor(t),this}makeDataPointRequired(t){return this.checkoutState.setRequiredFor(t),this}makeDataPointOptional(t){return this.checkoutState.unsetRequiredFor(t),this}getState(){return this.checkoutState.get()}tryCloseSession(){return(0,u.mG)(this,void 0,void 0,(function*(){if(this._closeSessionPromise)return this._closeSessionPromise;if(this.canCloseSession){this._closeSessionPromise=this.closeSession();try{yield this._closeSessionPromise}finally{this._closeSessionPromise=null}}}))}setCanGoBack(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.checkoutState.setCanGoBack(t),this}onStateUpdate(t){return this.checkoutState.onStateUpdate(t)}syncUpdateCheckoutState(){this.checkoutState.syncUpdat{}setRemoveCloseGuard(t){this._removeCloseGuar()}updateSessionWidgetDefaults(){this.sessionService.updateSessionWidgetDefaults()}get canCloseSess}handlePaymentRedirect(t){return(0,u.mG)(this,void 0,void 0,(function*(){t===this.params.screenSet.thankYou&&this.canRedirect&&(this.debug.log("simulating additional pay delay before redirect"),yield(0,d.D)(v.ADDITIONAL_PAY_DELAY),this.debug.log("redirecting"),yield this.tryCloseSession(),yield this.redirectApi.tryRedirect(this))}))}getCommonPublicCheckoutDonationParams(t){return(0,u.mG)(this,void 0,void 0,(function*(){const e=this.getDataPoint("MailingListSubscription"),i=this.getDataPoint("PersonalInformation"),n=this.getDataPoint("Tribute"),r=this.getDataPoint("DTD"),s=this.getDataPoint("OnBehalfOf"),o=this.getDataPoint("DonateAnonymous"),a=this.getDataPoint("Designation"),c=this.checkoutConfiguration.campaign.config,u=n.toObject(),d=i.toObject(),m=this.getDonationParams(),g=u.isActive&&!!u.inHonorOf;return{supporter:t.payResult&&this.isPaid?{id:t.payResult.customerId,email:d.email,firstName:d.firstName,lastName:d.lastName,anonymous:c.showAnonymous&&o.anonymousChecked,mailingListSubscribed:c.showSubscription&&e.checked,employer:r.employer.name||null,onBehalfOf:s.isOnBehalfOf?s.companyName:null}:null,donation:t.payResult&&this.isPaid?{id:t.payResult.donationId,paymentMethod:(0,f.XE)(t.clientPaymentMethod),amount:this.currencyService.toFloat(m.total,m.currency),feesCovered:this.currencyService.toFloat(m.publicFee,m.currency),currency:m.currency,recurring:m.frequency!==h.EK.ONCE,frequency:m.frequency}:null,designation:a.goalKey&&this.isPaid?{id:a.goalKey,name:a.goalName,code:a.goalCode}:null,tribute:g?{type:(0,l.q_)(u.type)}:null,recurring:t.payResult&&this.isPaid&&t.payResult.recurringId?{id:t.payResult.recurringId}:null}}))}getCommonPublicCheckoutIntentParams(){return(0,u.mG)(this,void 0,void 0,(function*(){const t=this.getDataPoint("Tribute"),e=this.getDataPoint("PersonalInformation"),i=this.getDataPoint("Designation"),n=this.getDataPoint("Comment"),r=this.getDataPoint("RemindMeLater"),s=t.toObject(),o=e.toObject(),a=this.getDonationParams(),c=s.isActive&&!!s.inHonorOf;return this.isPaid?null:{flowType:this.checkoutState.flowType,checkoutSettings:{modifyAmount:a.canModifyAmount,designation:i.goalKey,modifyDesignation:i.modifyDesignation},comment:n.comment,donation:{amount:a.amount,currency:a.currency,recurring:a.frequency!==h.EK.ONCE,frequency:a.frequency},supporter:{email:o.email,firstName:e.firstName,lastName:e.lastName},tribute:c?{type:s.type,labelType:s.labelType,inHonorOf:s.inHonorOf}:null,isSavedEmailOnExit:Boolean(r.email)}}))}capturePayErrorToSentry(t){t&&(t instanceof g.Lu&&0===t.statusCode||this.sentry.captureException(t))}emitAnalyticsChargeSuccess(){return(0,u.mG)(this,void 0,void 0,(function*(){const t=yield this.getAnalyticsEventPayload(),{sessionId:e}=t,i=(0,u._T)(t,["sessionId"]);this.logger.chargeSuccess({key:this.checkoutConfiguration.campaign.key,name:this.checkoutConfiguration.campaign.name},i,e)}))}emitDonationComplete(){return(0,u.mG)(this,void 0,void 0,(function*(){const t=yield this.getPublicCheckoutDonationParams();this.checkoutAPIBridge.emitDonationComplete(t),this.logger.donationComplete({key:this.checkoutConfiguration.campaign.key,name:this.checkoutConfiguration.campaign.name},r()(r()({},t),this.checkoutAPIBridge.getOpenParams()))}))}handleDonationCompleted(t){return(0,u.mG)(this,void 0,void 0,(function*(){const e=[this.emitDonationComplete(),this.emitAnalyticsChargeSuccess(),this.trackCheckoutCharge(t)];yield o().all(e)}))}setDonationResultS})}onDataPointCollect(t){return(0,u.mG)(this,void 0,void 0,(function*(){return this.sessionService.updateSession()}))}getOpeningTime(){switch(this.checkoutConfiguration.checkoutType){case y.m.PAGE:return Math.round(window.performance.now());case y.m.MODAL:return c()()-this.tracker.checkoutOpenTimestamp;default:throw new m.sF(this.checkoutConfiguration.checkoutType,"Unexpected checkout type))}closeSession(){return(0,u.mG)(this,void 0,void 0,(function*(){yield this.sessionService.updateSession(),yield this.sessionService.closeSession()}))}}v.ADDITIONAL_PAY_DELAY=1*p.MS.SECOND},33616:function(t,e,i){i.d(e,{X:function(){return m}});var n=i(16465),r=i.n(n),s=i(7035),o=i.n(s),a=i(50381),c=i.n(a),u=i(87636),l=i.n(u),h=i(86879),d=i(66376);class m{constructor(t,e,i,n){this.campaignConfig=t,this.debug=e,this.checkoutConfiguration=i,this.dataPointRegistry=n,this.hasMailingAddressError=!1,this.filledFromIntent=!1,this.collectedDataPoints=new(r()),this.hasPaymentAttempt=!1,this._canGoBack=!1,this.donationResultState=null,this.updateListeners=new(r())}get isCollected(){const t=this.getDataPointsToCollect();return this.debug.log("isCollected:dataPointsToCollect",t),o()(t).call(t)))}get canGoBack(){return this._canGoBack}setCollectedFor(t){return this.collectedDataPoints.add(t),tis}setEnabledFor(t){return this.dataPointRegistry.getDataPoint(t).isEnabled=!0,this}unsetEnabledFor(t){return this.dataPointRegistry.getDataPoint(t).isEnabled=!1,this}setRequiredFor(t){return this.dataPointRegistry.getDataPoint(t).isRequired=!0,this}unsetRequiredFor(t){return this.dataPointRegistry.getDataPoint(t).isRequired=!1,tis}setCanGo=t}setDonationResultState(t){this.donationResultStatt)}syncUpdate(){this.triggerUpdate()}configureMailingAddress(t,e){const i=new h.Z({company:this.checkoutConfiguration.company,parentCompany:this.checkoutConfiguration.parentCompanyConfig,isDevMode:(0,d.b)()}),n=i.getCheckoutScreenLogic(),r=i.getCurrencyLogic({widget:this.campaignConfig}).currency,s=t.getTotalInCustomCurrency(r);e.isEnabled=n.isEnabled(s,this.campaignConfig),e.isRequired=n.isRequired(s,this.campaignConfig)}getDataPointsToCollect(){var t;return c()(t=this.dataPointRegistry.list).callled))}triggerUpdate(){var t;l()(t=this.updateListeners).call(t,(t=>t()))}}},72563:function(t,e,i){i.d(e,{b:function(){return s}});var n=i(33093),r=i.n(n);class s{constructor(t,e,i){this.componentsPreloader=t,this.checkoutState=e,this._showCloseButton=!0,this._askPageActiveTab="cause",this._pagesOfQuestionsScreen=0,this._cookiePreferencesModalShown=!1,this._cookiePreferencesModalInitiatorElement=null,this.firstScreen=i.screens.firstScreen,this.unrestrictedExitScreens=i.screens.unrestrictedExitScreens,this.mobileExitScreens=i.screens.mobileExitScreens,this.alwaysRenderedScreens=i.screens.alwaysRenderedScreens,this.screensWithoutTributeBadge=i.screens.screensWithoutTributeBadge,this.mobileScreensWithoutAskTitle=i.screens.mobileScreensWithoutAskTitle,this.mobileScreensWithAskText=i.screens.mobileScreensWithAskText,this.mobileScreensWithoutFaqLinks=i.screens.mobileScreensWithoutFaqLinks,this.mobileScreensWithoutAskPage=i.screens.mobileScreensWithoutAskPage,this.screensWithoutAskOverlay=i.screens.screensWithoutAskOverlay,this.canNotGoBackScreens=i.screens.canNotGoBackScreens,this.alwaysShowCloseButtonScreens=i.screens.alwaysShowCloseButtonScreens,this.conditionallyShowCloseButtonScreens=i.screens.conditionallyShowCloseButtonScreens}get showCloseButton(){return this._showCloseButton}get showFAQLinks(){return!0}get askPageActiveTab(){return this._askPageActiveTab}get pagesOfQuestionsScreen(){return this._pagesOfQuestionsScreen}get cookiePreferencesModalShown(){return this._cookiePreferencesModalShown}get cookiePreferencesModalInitiatorElement(){return this._cookiePreferencesModalInitiatorElement}set askPageActiveTab(t){this._askPageActiveTab=t}set pagesOfQuestionsScreen(t){this._pagesOfQuestionsScreen=t}set cookiePreferencesModalShown(t){this._cookiePreferencesModalShown=t}set cookiePreferencesModalInitiatorElement(t){this._cookiePreferencesModalInitiatorElement=t}preloadComponents(){return this.componentsPreloader.preload()}setCloseButtonVisibility(t,e){var i,n;this._showCloseButton=!r()(e).call(e,this.firstScreen)&&r()(i=this.conditionallyShowCloseButtonScreens).call(i,t)||r()(n=this.alwaysShowCloseButtonScreens).call(n,t),this.checkoutState.syncUpdate()}isUnrestrictedExitScreen(t){var e;return r()(e=this.unrestrictedExitScreens).call(e,t)}isMobileExitScreen(t){var e;return r()(e=this.mobileExitScreens).call(e,t)}isScreenWithoutTributeBadge(t){var e;return r()(e=this.screensWithoutTributeBadge).call(e,t)}isMobileScreenWithoutAskTitle(t){var e;return r()(e=this.mobileScreensWithoutAskTitle).call(e,t)}isMobileScreenWithAskText(t){var e;return r()(e=this.mobileScreensWithAskText).call(e,t)}isMobileScreenWithoutFaqLinks(t){var e;return r()(e=this.mobileScreensWithoutFaqLinks).call(e,t)}isMobileScreenWithoutAskPage(t){var e;return r()(e=this.mobileScreensWithoutAskPage).call(e,t)}isScreenWithoutAskOverlay(t){var e;return r()(e=this.screensWithoutAskOverlay).call(e,t)}isCanNotGoBackSct)}}},17277:function(t,e,i){i.d(e,{w:function(){return n}});class n{constructor(t,e){this.loadableComponents=t,this.campaignConfi()}}},60894:function(t,e,i){i.d(e,{h:function(){return n}});class n{constructor(t){this.checkoutConfiguration=t}collectTo(t){return t}}}},55822:function(t,e,i){i.d(e,{F:function(){return nt}}},33481:function(t,e,i){i.d(e,{T:function(){return k}});var n=i(50381),r=i.n(n),s=i(33093),o=i.n(s),a=i(87636),c=i.n(a),u=i(71442),l=i(34739),h=i(71179),d=i(42726),m=i(47543),g=i(86796),f=i(48589),p=i(42416),y=i(27069),v=i(34710),C=i(99828),A=i(66376),S=i(90808),b=i(1486),P=i(4284);class k{static isPersonalInformationDataPoint(t,e){return"PersonalInformation"===e}static isFiatDonationDataPoint(t,e){return"FiatDonation"===e}static isCryptoDonationDataPoint(t,e){return"CryptoDonation"===e}static isStockDonationDataPoint(t,e){return"StockDonation"===e}static isCoOwnerDataPoint(t,e){return"CoOwner"===e}static isPreDonationUpsellDataPoint(t,e){return"PreDonationUpsell"===e}static isPostDonationUpsellDataPoint(t,e){return"PostDonationUpsell"===e}static isPaymentOptionsDataPoint(t,e){return"PaymentOptions"===e}static isDTDDataPoint(t,e){return"DTD"===e}static isPaypalConversionDataPoint(t,e){return"PaypalConversion"===e}static isBrokerDataPoint(t,e){return"Broker"===e}static isSecuritiesDataPoint(t,e){return"Securities"===e}static isMailingAddressDataPoint(t,e){return"MailingAddress"=h}create(t){const e=this.getDataPoint(t);return k.isFiatDonationDataPoint(e,t)||k.isCryptoDonationDataPoint(e,t)||k.isStockDonationDataPoint(e,t)?(0,m.h)(this.checkoutConfiguration,this.currencyService,this.suggestionsService,this.userSession,this.transactionCosts,this.experiments,this.suggestedAmountHintsAI,{flowType:this.params.flowType}):k.isPreDonationUpsellDataPoint(e,t)?new e(this.checkoutConfiguration,this.preDonationUpsellService):k.isPostDonationUpsellDataPoint(e,t)?new e(this.checkoutConfiguration,this.postDonationUpsellServiceConstructor):k.isPaymentOptionsDataPoint(e,t)?new e(this.checkoutConfiguration,this.paymentMethodAvailabilityManagerRepository):k.isDTDDataPoint(e,t)?new e(this.checkoutConfiguration,this.currencyService,this.doubleTheDonationAPI,this.transactionCosts):k.isPaypalConversionDataPoint(e,t)?new e(this.checkoutConfiguration,this.currencyService,this.transactionCosts):k.isBrokerDataPoint(e,t)?new e(this.checkoutConfiguration,new d.T(this.sessionAPI)):k.isSecuritiesDataPoint(e,t)?new e(this.checkoutConfiguration,new p.b(this.sessionAPI,this.currencyService,this.checkoutConfiguration.infrastructureParams.livemode,{currency:this.checkoutConfiguration.company.defaultCurrency}),this.currencyService):k.isPersonalInformationDataPoint(e,t)||k.isCoOwnerDataPoint(e,t)?new e(this.checkoutConfiguration,this.validationSettings.personalInformation):k.isMailingAddressDataPoint(e,t)?new e(this.checkoutConfiguration,this.addressService,this.addressValidationAPI,this.countriesService):(k.isCustomerTitleDataPoint(e,t),new e(this.checkoutConfiguration))}get transactionCosts(){return this._transactionCosts||(this._transactionCosts=this.createTransactionCosts()),this._transactionCosts}get countriesService(){return this._countriesService||(this._countriesService=this.createCountriesService()),this._countriesService}get preDonationUpsellService(){return this.createPreDonationUpsellService()}get doubleTheDonationAPI(){return this.createDoubleTheDonationAPI()}get postDonationUpsellServiceConstructor(){return this.createPostDonationUpsellServiceConstructor()}get validationSettings(){return this.createValidationSettings()}get addressValidationAPI(){return this.createAddressValidationAPI()}get suggestedAmountHintsAI(){var t;return null!==(t=this.createExternalConfigSuggestedAmountHintsAI())&&void 0!==t?t:this.createSuggestedAmountHintsA]}createTransactionC})}createCountriesService(){return(0,C.p)({intl:this.intl,excludePalestineFromCountriesList:this.checkoutConfiguration.featureConfig.excludePalestineFromCountriesLisI)}createAddressValidatioI)}createValidationSett})}createPreDonationUpsellService(){return new l.g(this.currencyService,this.suggestionsService,this.experiments,{isDevelopmentMode:(0,A.b)(),recurringPlans:this.checkoutConfiguration.company.recurringPlans})}createExternalConfigSuggestedAmountHintsAI(){var t,e;const i=this.checkoutConfiguration.campaign.config,n=null===(t=this.checkoutConfiguration.externalConfig.checkoutData)||void 0===t?void 0:t.hints,s=[];if(!n)return null;for(const t of this.checkoutConfiguration.enabledFrequencies)if(i.frequencies[t].hintsEnabled){var a;const c=null!==(e=n[t])&&void 0!==e?e:[],u=r()(a=i.frequencies[t].suggestedAmountHints).call(a,(t=>o()(c).call(c,t.id)));if((null==c?void 0:c.length)!==u.length)return null;s.push({frequency:t,hints:u})}return s.length?new S.x({enabledAI:!1,frequenciesHints:s,distribution:this.distribution,currencyService:this.currencyService,defaultCurrency:this.checkoutConfiguration.campaign.config.defaultCurrency}):null}createSuggestedAmountHintsAI(){var t;const e=this.checkoutConfiguration.campaign.config,i=[];return c()(t=this.checkoutConfiguration.enabledFrequencies).call(t,(t=>{e.frequencies[t].hintsEnabled&&i.push({frequency:t,hints:[...e.frequencies[t].suggestedAmountHints]})})),i.length?new S.x({enabledAI:e.enableAI,frequenciesHints:i,distribution:this.distribution,currencyService:this.currencyService,defaultCurrency:this.checkoutConfiguration.campaign.config.defaultCurrency}):null}createDistribution(){return new b.v({clientId:this.tracker.clientId,name:P.h,variants:P.S,sentry:this.sentry})}createPostDonationUpsellServiceConstructor(){const t=u.i.getConstructor(this.checkoutConfiguration.infrastructureParams.showcase);return e=>t({amount:e.amount,minAmount:e.minAmount,currency:e.currency,timestamp:e.timestamp,suggestionsService:this.suggestionsService,currencyService:this.currencyService})}}},47543:function(t,e,i){i.d(e,{h:function(){return c}});var n=i(86267),r=i(1303),s=i(88808),o=i(69466),a=i(62914);function c(t,e,i,c,u,l,h,d){switch(d.flowType){case o.C.MONEY:return new r.b(t,e,i,l,c,u,h);case o.C.CRYPTO:return new n.x(t,e,i);case o.C.STOCK:return new s.B(t,e);default:throw new a.sF(d.flowType)}}},72092:function(t,e,i){i.d(e,{p:function(){return a}});var n=i(36004),r=i.n(n),s=i(86166),o=i.n(s);class a{constructor(t){this.dataPointFactory=t,this.dataPoints=new(r())}get list(){var t;return[...o()(t=this.dataPoints).call(t)]}getDataPoint(t){let e=this.dataPoints.get(t);return void 0===e&&(e=this.registerDataPoint(t)),e}registerDataPoint(t){if(this.dataPoints.has(t))throw new c(t);const e=this.dataPointFactory.create(t);return this.dataPoints.set(t,e),e}}class c extends Error{constructor(t){super(`DataPoint "${t}" is already exists`)}}},86796:function(t,e,i){i.d(e,{u:function(){return q}});var n=i(37246),r=i(44839),s=i(35309),o=i(62900),a=i(86267),c=i(4160),u=i(38497),l=i(15521),h=i(63595),d=i(1303),m=i(8962),g=i(63141),f=i(95264),p=i(87593),y=i(40893),v=i(91400),C=i(64401),A=i(48571),S=i(32413),b=i(83974),P=i(67250),k=i(70767),D=i(70810),E=i(2283),w=i(80584),N=i(88808),T=i(58484),M=i(30330),_=i(11030),R=i(8001);const q={PersonalInformation:A.z,MailingAddress:f.R,MailingListSubscription:p.B,Tribute:M.M,FiatDonation:d.b,GiftAid:m.K,Questions:k.Y,Comment:s.l,Designation:u.x,PaymentOptions:v.w,PreDonationUpsell:P.k,PhoneNumber:S.Y,PaypalConversion:C.C,TermsAndConditions:T.R,RemindMeLater:D.v,OnBehalfOf:y.t,DonateAnonymous:l.T,UKBacs:_.C,IDEAL:g.k,PostDonationUpsell:b.o,USBankAccount:R.l,DTD:h.s,CustomerTitle:c.H,CryptoDonation:a.x,StockDonation:N.B,BrokerageAccountNumber:r.r,Securities:E.L,Broker:n.m,CoOwner:o.m,Signature:w.j}},48589:function(t,e,i){i.d(e,{E:function(){return o}});var n=i(90899),r=i.n(n),s=i(22970);class o{constructor(t){this.sessionAPI=t}getCompanies(t){return(0,s.mG)(this,void 0,void 0,(function*(){const e=yield this.getDtdCompanies(t);return r()(e).callt})))}))}getDtdCompanies(t){return(0,s.mG)(this,void 0,void 0,(function*(){try{return(yield this.sessionAPI.get("dtd",{search:t},{delay:200,retries:5,cancelSimilar:!0})).data}catch(t){return[]}}))}}},25009:function(t,e,i){i.d(e,{l:function(){return o}});var n=i(16465),r=i.n(n),s=i(88093);clas))}add(t){return this.assertComponentDefined(t),this.componentImports.add(this.componentsMap[t]),this}load(){for(const t of this.componentImports)t()}assertComponentDefined(t){if(!this.componentsMap[t])throw new s.e(t)}}},88093:function(t,e,i){i.d(e,{e:function(){return n}});class n extends Error{constructor(t){super(`Component "${t} doesn’t defined, unable to preload`)}}},93e3:function(t,e,i){i.d(e,{K:function(){return o}});var n=i(50418),r=i.n(n),s=i(22970);class o{constructor(t){this.sessionAPI=t}pay(t){return(0,s.mG)(this,void 0,void 0,(function*(){return this.sessionAPI.post("pay",{paymentMethod:null==t?void 0:t.paymentMethod})}))}hold(t){return(0,s.mG)(this,void 0,void 0,(function*(){const e=r()({},t);return this.sessionAPI.post("hold",e,{rejectsOnInvalid:!0})}))}status(){return(0,s.mG)(this,void 0,void 0,(function*(){try{return(yield this.sessionAPI.get("status",{},{retries:5,delay:200,rejectsOnInvalid:!0})).completed}catch(t){throw new Error("Payment was not started")}}))}}},20346:function(t,e,i){i.d(e,{H:function(){return h}});var n=i(11052),r=i.n(n),s=i(98189),o=i.n(s),a=i(23972),c=i.n(a),u=i(75687),l=i(13133);clnt=o}getUrl(t){var e,i,n;if(this.isShowcase)return null;const s=this.resolveTargetConfig(),o=s.type===u.Tl.REDIRECT,a=this.checkoutConfiguration.queryParams.successUrl||(o?s.redirect.url:null);if(!a)return null;const c={amount:this.currencyService.toFloatUnformattedStr(this.donationDataPoint.total,this.donationDataPoint.currency),monthly:this.postDonationUpsellDataPoint.isAccepted||this.donationDataPoint.frequency===u.EK.MONTHLY,donationId:null!==(i=null===(e=t.donationResultState)||void 0===e?void 0:e.donationId)&&void 0!==i?i:"",currency:this.donationDataPoint.currency,frequency:this.donationDataPoint.frequency};if(o&&!s.redirect.includeSupporterData||(c.supporterFirstName=this.personalInformationDataPoint.firstName,c.supporterLastName=this.personalInformationDataPoint.lastName,c.supporterEmail=this.personalInformationDataPoint.email),this.designationDataPoint.goalKey){var l;const t=r()(l=this.designationDataPoint.goals).call(l,(t=>t.key===this.designationDataPoint.goalKey));c.designationId=null==t?void 0:t.key,c.designationName=null==t?void 0:t.name}(null===(n=t.donationResultState)||void 0===n?void 0:n.tributeId)&&(c.tributeId=t.donationResultState.tributeId);try{const t=this.createURL(a);for(const e in c)if(Object.prototype.hasOwnProperty.call(c,e)){const i=c[e];t.searchParams.append(e,String(i))}return t.toString()}catch(t){return console.error("Invalid redirect URL"),l(t)}tryRedirect(t){const e=this.getUrl(t.getState());return e?new(e,t)})):o().resolve()}redirect(t,e){e.disarmCloseGuard(),this.globalWindow.location.replace(t)}get isShowcase(){return this.checkoutConfiguration.infrastructureParams.showcase}createURL(t){return"/"===t[0]&&(t=this.globalWindow.location.origin+t),/^https?:\/\//m.test(t)||(t="https://"+t),new(c())(t)}resolveTargetConfig(){return this.checkoutConfiguration.checkoutType===l.m.PAGE&&this.checkoutConfiguration.campaignPage.thankYouScreen?this.checkoutConfiguration.campaignPage.thankYouScreen:this.checkoutConfiguration.campaign.config.thankYouScreen}}},42416:function(t,e,i){i.d(e,{b:function(){return c}});var n=i(90899),r=i.n(n),s=i(50418),o=i.n(s),a=i(22970);clig=n}getList(t){return(0,a.mG)(this,void 0,void 0,(function*(){if(!t)return[];let e=yield this.getListWithRetry(t);return e=r()(e).call(e,(t=>o()(o()({},t),{price:this.currencyService.fromFloat(t.price,"USD"),currency:"USD"}))),e}))}getListV2(t){return(0,a.mG)(this,void 0,void 0,(function*(){if(!t)return[];let e=yield this.getListWithRetry(t);return e=r()(e).call(e,(t=>{const e=this.currencyService.fromFloat(t.price,this.config.currency),i=this.currencyService.convert(e,t.currency,this.config.currency);return o()(o()({},t),{price:i,currency:this.config.currency})})),e}))}update(t){return(0,a.mG)(this,void 0,void 0,(function*(){const e=r()(t).cancy})));return this.sessionAPI.post("securities",{securities:e})}))}getListWithRetry(t){return(0,a.mG)(this,void 0,void 0,(function*(){return(yield this.sessionAPI.get("securities",{query:t,livemode:this.livemode},{delay:200,retries:5,cancelSimilar:!0,rejectsOnInvalid:!0})).securities}))}}},2613:function(t,e,i){i.d(e,{K:function(){return b}});var n=i(50418),r=i.n(n),s=i(23650),o=i.n(s),a=i(98189),c=i.n(a),u=i(54496),l=i.n(u),h=i(22970),d=i(33958),m=i.n(d),g=i(62914),f=i(65356),p=i(96697),y=i(89594),v=i(15699),C=i(67632),A=i(76278),S=i(18864);class b{constructor(t,e,i,n,r){this.tracker=t,this.checkoutConfiguration=e,this.sentry=i,this.debouncedRequestService=n,this.requestService=r,this.created=!1,this.headers={"Content-Type":"text/plain; charset=utf-8"},this.latestUpdatePayload=null,this.latestUpdateResponse=null,this.params={baseURL:y.JV,token:t.checkoutViewId}}get sessionToken(){return this.params.token}get(t,e,i){return(0,h.mG)(this,void 0,void 0,(function*(){const n={retries:5,delay:200};(null==i?void 0:i.retries)&&(null==i?void 0:i.delay)&&(n.retries=i.retries,n.delay=i.delay);const r=yield this.waitForCreated((()=>this.requestService.get({url:`${this.params.baseURL}/${f.cQ}/${this.params.token}/${t}`,headers:this.headers,params:e,cancelSimilar:!0,rejectOnInvalid:null==i?void 0:i.rejectsOnInvalid})),n);if(C.H.isSuccess(r))return r.successResult;throw new g.S2}))}post(t,e,i){return(0,h.mG)(this,void 0,void 0,(function*(){const n=this.getPostPromise(t,e,i);return this.debouncedRequestService.request({promise:n,allowMerge:!1,allowDelay:!1})}))}update(t){return(0,h.mG)(this,void 0,void 0,(function*(){this.sessionStageInitial||(this.sessionStageInitial=this.getSessionStageInitial(t));const e=(0,S.I)(r()(r()({},t),{created:this.created,initial:this.sessionStageInitial})),i=this.getUpdaterPromise(e);return this.debouncedRequestService.request({promise:i,allowMerge:!1,allowDelay:!1})}))}close(){return(0,h.mG)(this,void 0,void 0,(function*(){yield this.debouncedRequestService.request({promise:this.getClosePromise(),allowMerge:!1,allowDelay:!1})}))}updateSessionWidgetDefaults(t,e){this.sessionStageInitial&&(this.sessionStageInitial.widgetDefaults=this.getWidgetDefaults(t,e))}handleSessionUpdateFailure(t){var e,i;const n=!!(null===(e=t.failureResult.errors)||void 0===e?void 0:e.customerEmail),r=!!(null===(i=t.failureResult.errors)||void 0===i?void 0:i.tributeEmail);return n||r?C.H.fail({customerEmailError:n,tributeEmailError:r}):C.H.fail({})}getSessionStageInitial(t){var e,i,n,r,s,a;const c=window.location.href,u=(0,A.O5)(c);return{token:this.tracker.checkoutViewId,key:this.checkoutConfiguration.campaign.key,livemode:this.checkoutConfiguration.infrastructureParams.livemode,urlParams:u,widgetUrl:c,launcherParams:this.checkoutConfiguration.launcherParams,timezone:(0,v.S)(),trackerParams:{clientId:this.tracker.clientId,pageViewId:this.tracker.pageViewId,checkoutViewId:this.tracker.checkoutViewId,clientLocale:this.tracker.clientLocale,uaWebdriver:Boolean(navigator.webdriver),tags:o()(this.tracker.tags)},widgetDefaults:this.getWidgetDefaults(t.donation.amount||0,t.checkoutDefaults),customFields:null!==(e=this.checkoutConfiguration.campaign.customFields)&&void 0!==e?e:[],elementKey:this.checkoutConfiguration.element.key,elementType:this.checkoutConfiguration.element.type,elementReminderKey:this.checkoutConfiguration.element.reminderKey||"",fundraisingPageKey:(null===(i=this.checkoutConfiguration.fundraisingPage)||void 0===i?void 0:i.key)||"",fundraisingPageCustomFields:(null===(n=this.checkoutConfiguration.fundraisingPage)||void 0===n?void 0:n.customFields)||[],startUrl:"",launcherUrl:"",checkoutV2:!0,checkoutType:this.checkoutConfiguration.checkoutType,checkoutIntentCustomFields:null!==(a=null===(s=null===(r=this.checkoutConfiguration.externalConfig.checkoutIntent)||void 0===r?void 0:r.checkoutSettings)||void 0===s?void 0:s.customFields)&&void 0!==a?a:[]}}getWidgetDefaults(t,e){return{amount:e.defaultAmounts,frequency:e.frequency,amountOptions:e.amountOptions,currency:e.currency,relations:{amount:(0,p.Z)([e.defaultAmount],t),amountOptions:(0,p.Z)(e.frequencyAmountOptions,t)}}}getClosePromise(){return()=>this.requestService.post({url:`${this.params.baseURL}/${f.cQ}/${this.params.token}/close`,headers:this.headers,params:{},rejectOnInvalid:!0})}getPostPromise(t,e,i){return()=>(0,h.mG)(this,void 0,void 0,(function*(){let n;try{n=yield this.requestService.post({url:`${this.params.baseURL}/${f.cQ}/${this.params.token}/${t}`,headers:this.headers,params:e,rejectOnInvalid:null==i?void 0:i.rejectsOnInvalid,setCustomFingerprint:!0})}catch(t){throw this.sentry.captureException(t),t}return n}))}getUpdaterPromise(t){return()=>(0,h.mG)(this,void 0,void 0,(function*(){let e;if(m()(t,this.latestUpdatePayload)&&this.latestUpdateResponse)return C.H.success(this.latestUpdateResponse);try{e=yield this.requestService.post({url:`${this.params.baseURL}/${f.cQ}/${this.params.token}`,headers:this.headers,params:t,setCustomFingerprint:!0})}catch(t){throw this.sentry.captureException(t),t}return C.H.isSuccess(e)?(this.created=!0,this.latestUpdateResponse=e.successResult,this.latestUpdatePayload=t,e):this.handleSessionUpdateFailure(e)}))}waitForCreated(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,h.mG)(this,void 0,void 0,(function*(){if(this.created)try{return yield t()}catch(n){if(i>=e.retries)throw this.sentry.captureException(n),n;return yield new(c())((t=>l()(t,e.delay))),this.waitForCreated(t,e,++i)}return yield new(elay))),this.waitForCreated(t,e,++i)}))}}b.SESSION_UPDATE_DEBOUNCE=100},71811:function(t,e,i){i.d(e,{m:function(){return r}});var n=i(22970);clnull}get closed(){return this._cmise}updateSessionWidgetDefaults(){}closeSession(){return(0,n.mG)(this,void 0,void 0,(function*(){if(!this.closed&&!this.checkoutConfiguration.infrastructureParams.showcase){if(this.sessionClosePromise)return this.sessionClosePromise;this.sessionClosePromise=this.sessionAPI.close();try{yield this.sessionClosePromise,this._closed=!0}finally{this.sessionClosePromise=null}}}))}getDataPoint(t){return this.dataPointRegistry.getDataPoint(t)}}},88556:function(t,e,i){i.d(e,{M:function(){return s}});var n=i(79655),r=i(19470);class s{constructor(t){this.sharingApiParams=t}get isSharingEnabled(){const{email:t,twitter:e,linkedin:i,facebook:n,copyLink:r}=this.sharingChannels;return t||e||i||n||r}get sharingChannels(){return this.sharingApiParams.sharingChannels}get shareLink(){const t=this.sharingApiParams.sharingLink;return t?/^https?:\/\//m.test(t)?t:"https://"+t:window.location.href}share(t,e,i){if(this.sharingApiParams.showcase)return;const n=this.getSharingLink(t,e,i);window.open(n,"_blank","location=yes,height=400,width=550,scrollbars=yes,status=yes")}getSharingLink(t,e,i){const s=this.shareLink,o=this.sharingApiParams.sharingText||"";switch(t){case r.Z.TWITTER:return(0,n.Zl)(n.DM,s,o,void 0,i);case r.Z.LINKEDIN:return(0,n.Zl)(n.x9,s,o,void 0,i);case r.Z.FACEBOOK:return(0,n.Zl)(n.Lu,s,o,void 0,i);case r.Z.EMAIL:return(0,n.Zl)(n.dY,s,o,e);case r.Z.LINK:return s;default:throw new Error(`Unknown sharing type ${t}`)}}}},51907:function(t,e,i){i.d(e,{u:function(){return a}});var n=i(50418),r=i.n(n),s=i(13133),o=i(88556);function a(t){var e;return t.checkoutType===s.m.PAGE&&(null===(e=t.campaignConfig)||void 0===e?void 0:e.campaignPage)?new o.M({sharingChannels:r()(r()({},t.campaignConfig.campaignPage.thankYouScreen.sharing.channels),{copyLink:!1}),sharingLink:t.campaignConfig.campaignPage.thankYouScreen.sharing.link,showcase:t.isShowcase,sharingText:t.campaignConfig.campaignPage.thankYouScreen.sharing.text}):new o.M({sharingChannels:r()(r()({},t.campaignConfig.thankYouScreen.sharing.channels),{copyLink:!1}),sharingLink:t.campaignConfig.thankYouScreen.sharing.link,showcase:t.isShowcase,sharingText:t.campaignConfig.thankYouScreen.sharing.text})}},90063:function(t,e,i){i.d(e,{g:function(){return o}});var n=i(33093),r=i.n(n),s=i(75687);class o{constructor(t,e){this.checkoutConfiguration=t,this.feeCalculator=e,this.isCovered=this.isFeeCoveredByDefault}get includeFees(){return this.checkoutConfiguration.campaign.config.include})}getTotal(t,e){return this.isCovered?t+this.getFee(t,e):t}getProcesse):0}get isFeeCoveredByDefault(){var t;return r()(t=[s.__.DEFAULT_YES,s.__.ONLY_YES]).call(t,this.includeFees)}shouldCoverFee(t){var e;const i=t.amountInUSD||0;if(t.frequency===s.EK.ONCE&&i>=1e5)return!1;const n=this.checkoutConfiguration.infrastructureParams,r=this.checkoutConfiguration.user,o=null==n?void 0:n.OS,a="Mac OS"===o,c="iOS"===o,u=(null===(e=null==r?void 0:r.address)||void 0===e?void 0:e.countryCode)===s.C9.UNITED_STATES;return!(u&&i>=25e3&&i<1e5&&!c&&!a||!u&&i>=1e4&&i<1e5&&!c&&!a)}}},27069:function(t,e,i){i.d(e,{t:function(){return s}});var n=i(90063),r=i(50266);function s(t){let{checkoutConfiguration:e,currencyService:i}=t;const s=e.company,o=(0,r.X)(s,i);return new n.g(e,o)}},96905:function(t,e,i){i.d(e,{V:function(){return u}});var n=i(33093),r=i.n(n),s=i(73449),o=i(46301);clGTH}}function u(t){var e;return r()(e=c.LOCALES).call(e,t.localeCode)?new c:new a}c.LOCALES=[o.c0.ZH_TW,o.c0.ZH_CN,o.c0.JA,o.c0.KO]},34710:function(t,e,i){i.d(e,{h:function(){return r}});var n=i(96905);class r{static resolveSetting(t,e){if(1===t)return(0,n.V)(e);throw new Error(`Unknown setting ${t}`)}const1,t)}}},65776:function(t,e,i){i.d(e,{w:function(){return r}});var n=i(17277);class r extendut")}}},35894:function(t,e,i){i.d(e,{h:function(){return o}});var n=i(25009),r=i(65776),s=i(46297);function o(t){const e=new n.l(s.U);return new r.w(e,t)}},46297:function(t,e,i){i.d(e,{U:function(){return n}});const n={PrivacyPhone978))}},43968:function(t,e,i){i.d(e,{C:function(){return r}});var n=i(14830);clC(t)}calculate(t,e){const i=this.valueObjectsFactory.makeAmount(t.amount,t.currency);return i.isZero()?0:this.roundFee(e.getFeeValue(i))}roundFee(t){return t<500&&(t=10*Math.ceil(t/10)),t>500&&(t=100*Math.ceil(t/100)),t}}},52682:function(t,e,i){i.d(e,{D:function(){return o}});var n=i(50259),r=i(94758),s=i(2505);class o{constructor(t,e,i){this.feeCalculator=i,t.validate(e),this.valueObjectsFactory=this.feeCalculator.valueObjectsFactory,this.converter=this.feeCalculator.converter,this.companyParams=e.companyParams,this.customFixedFee=this.valueObjectsFactory.makeFixedFee(e.customFixedFee,e.companyParams.defaultCurrency),this.customFeePercent=this.valueObjectsFactory.makePercentFee(e.customFeePercent),this.applicationFeePercent=this.valueObjectsFactory.makePercentFee(e.applicationFeePercent),this.stripeFeePercent=this.valueObjectsFactory.makePercentFee(e.stripeFee.percent),this.fixedFee=this.valueObjectsFactory.makeFixedFee(e.stripeFee.fixed,e.stripeFee.currency)}getFeeForDashboard(t,e){let i;return i=this.companyParams.useCustomFee?new n.g(this.customFeePercent,this.customFixedFee,this.converter):e.fromVirtualTerminal?new r.F(this.stripeFeePercent,this.applicationFeePercent,this.fixedFee,e.paymentMethod,e.cardBrand,this.converter):new s.k(this.stripeFeePercent,this.applicationFeePercent,this.fixedFee,this.companyParams,this.converter),this.feeCalculator.calculate(t,i)}getFeeForWidget(t){let e;return e=this.companyParams.useCustomFee?new n.g(this.customFeePercent,this.customFixedFee,this.converter):new s.k(this.stripeFeePercent,this.applicationFeePercent,this.fixedFee,this.companyParams,this.converter),this.feeCalculator.calculate(t,e)}getFeeForVirtualTerminal(t,e){let i;return i=this.companyParams.useCustomFee?new n.g(this.customFeePercent,this.customFixedFee,this.converter):new r.F(this.stripeFeePercent,this.applicationFeePercent,this.fixedFee,e.paymentMethod,e.cardBrand,this.converter),this.feeCalculator.calculate(t,i)}}},14830:function(t,e,i){i.d(e,{C:function(){return a}});var n=i(94776),r=i(28733),s=i(22241),o=i(26511);class a{constructor(t){this.converter=t}makeFixedFee(t,e){return new s.v(t,this.makeCurrency(e))}makeAmount(t,e){return new n.$(t,this.makeCurrench(t)}makeCurrency(t){return new r.F(t,this.converter.getDigits(t))}}},18705:function(t,e,i){i.d(e,{X:function(){return o}});var n=i(43968),r=i(52682),s=i(80806);function o(t,e){return new r.D(new s.s,{customFixedFee:t.coverFees.amount,customFeePercent:t.coverFees.percent,applicationFeePercent:t.applicationFees.money,stripeFee:t.stripeFee,companyParams:{country:t.country||"US",defaultCurrency:t.defaultCurrency,useCustomFee:t.coverFees.custom}},new n.C(e))}},705)},50259:function(t,e,i){i.d(e,{g:function(){return r}});var n=i(22241);cler=i}getFeeValue(t){const e=this.converter.convertFeeCurrency(Number(this.fixedFee),this.fixedFee.currency.code,t.currency.code),i=new n.v(e,t.currency);return Number(t)*Number(this.percentFee)+Number(i)}}},94758:function(t,e,i){i.d(e,{F:function(){return u}});var n=i(2698),r=i(21508),s=i(22241),o=i(64919),a=i(75687),c=i(3018);cler=s}get isNonProfitFee(){return this.stripeFee.whole===c.El.NON_PROFIT}getPaymentMethodFee(t){switch(this.paymentMethod){case a.GZ.US_BANK_ACCOUNT:return new o.C(t);case a.GZ.ACSS:return new n.RESS}getFeeValue(t){const e=this.getPaymentMethodFee(t);if(e)return Number(t)*Number(this.applicationFee)+Number(e);if(this.isNonProfitFee&&this.isAmex){const e=this.applicationFee.plus(new r.t);return Number(e)*Number(t)}const i=this.converter.convertFeeCurrency(Number(this.fixedFee),this.fixedFee.currency.code,t.currency.code),n=new s.v(i,t.currency),o=this.applicationFee.plus(this.stripeFee);return Number(t)*Number(o)+Number(n)}}},2505:function(t,e,i){i.d(e,{k:function(){return o}});var n=i(21508),r=i(22241),s=i(26511);cltry}isCompanyCurrency(t){return t.currency.equalTo(this.companyParams.defaultCurrency)}isFixedFeeInDonationCuncy)}getFeeValue(t){let e=1;this.isCompanyCurrency(t)||(this.stripeFee=this.stripeFee.plus(new s.h(100))),this.isFixedFeeInDonationCurrency(t)||(e=o.FEE_CURRENCY_RATE_MULTIPLIER);const i=this.isUsCountry?new n.t(this.stripeFee):this.stripeFee,a=this.applicationFee.plus(i),c=this.converter.convertFeeCurrency(Number(this.fixedFee),this.fixedFee.currency.code,t.currency.code,e),u=new r.v(c,t.currency),l=Number(t),h=(l+Number(u))/(1-Number(a))/l-1;return Math.round(l*Math.round(1e4*h)/1e4)}}o.FEE_CURRENCY_RATE_MULTIPLIER=1.03},80806:function(t,e,i){i.d(e,{s:function(){return c}});var n=i(90899),r=i.n(n),s=i(77485),o=i.n(s),a=i(27610);class c{constructor(){this.schema=new a.Z({applicationFeePercent:{type:Number,required:!0},customFeePercent:{type:Number,required:!0},customFixedFee:{type:Number,required:!0},stripeFee:{percent:{type:Number,required:!0},fixed:{type:Number,required:!0},currency:{type:String,required:!0}},companyParams:{defaultCurrency:{type:String,required:!0},country:{type:String,required:!0},useCustomFee:{type:Boolean,required:!0}}})}validate(t){const e=this.schema.validate(t,{typecast:!1});if(e.length){const i=r()(e).call(e,(e=>{const i=o()(t,e.path);return`${e.path}: ${i} ${e.message}`})).join("\n");throw new Error(i)}}}},2698:function(t,e,i){i.d(e,{u:function(){return s}});var n=i(28733),r=i(22241);class s extends r.v{constructor(t){super(Math.min(t.whole*s.ACSS_FEE_PERCENT,s.ACSS_MAX_FEE_VALUE),new n.F("CAD",2))}}s.ACSS_MAX_FEE_VALUE=500,s.ACSS_FEE_PERCENT=.008},21508:function(t,e,i){i.d(e,{t:function(){return r}});var n=i(26511);class r extends n.h{constructor(t){let e=r.PERCENT;t&&(e=r.PERCENT*r.COEFF+t.whole*(1-r.COEFF)),super(e)}}r.PERCENT=350,r.COEFF=.1},94776:function(t,e,i){i.d(e,{$:function(){return s}});var n=i(96e3),r=i.n(n);class s{constructor(t,e){this.whole=t,this.currency=e,this.fractional=this.whole/Math.pow(10,this.currency.digits)}plus(t){if(t.currency.equalTo(this.currency))return new s(this.whole+t.whole,this.currency);throw new Error(`Currency mismatch: added ${t.currency} is not equal to ${this.currenhole}[r()](t){return"string"===t?this.whole.toString():this.whole}toString(){return this.whole.toString()}valueOf(){return this.whole}}},28733:function(t,e,i){i.d(e,{F:function(){return s}});var n=i(96e3),r=i.n(n);clse()}equalTo(t){return String(this)===String(t).toUpperCase()}[r()](){return this.code}toString(){return this.code}}},22241:function(t,e,i){i.d(e,{v:function(){return r}});var n=i(9n.${}},26511:function(t,e,i){i.d(e,{h:function(){return s}});var n=i(96e3),r=i.n(n);class s{constructor(t){this.whole=t,this.percent=t/100,this.fractional=t/1e4}plus(t){if(this.percent+t.percent>100)throw new Error("PercentFee value can not be grater than 100");return new s(this.whole+t.whole)}[r()](t){return"string"===t?this.fractional.toString():this.fractional}toString(){return this.fractional.toString()}valueOf(){return this.fractional}}},64919:function(t,e,i){i.d(e,{C:function(){return s}});var n=i(28733),r=i(22241);class s extends r.v{constructor(t){super(Math.min(t.whole*s.FEE_PERCENT,s.MAX_FEE_VALUE),new n.F("USD",2))}}s.MAX_FEE_VALUE=500,s.FEE_PERCENT=.008},{}))},79168:function(t,e,i){i.d(e,{m:function(){return n},P:function(){return r}});const n={EQ:9},r={MIN:8,MAX:17}},:17}},20199:function(t,e,i){i.d(e,{fr:function(){return r},B6:function(){return s},mn:function(){return o},pY:function(){return a},v9:function(){return c},wk:function(){return u}});var n=i(69029);function r(t){return t.instant&&!t.microdeposits.enabled}function s(t){return!t.instant&&t.microdeposits.enabled&&t.microdeposits.type===n.ro.AUTOMATIC}function o(t){return!t.instant&&t.microdeposits.enabled&&t.microdeposits.type===n.ro.MICRODEPOSITS}function a(t){return t.instant&&t.microdeposits.enabled&&t.microdeposits.type===n.ro.MICRODEPOSITS}function c(t){return t.instant&&t.microdeposits.enabled&&t.microdeposits.type===n.ro.AUTO9500}},90382:function(t,e,i){function n(t,e){const i=new Date(t),n=i.getDate();return i.setMonth(i.getMonth()+e),i.getDate()!==n&&i.setDate(0),i.toISOString()}i.d(e,{z:function(){return n}}),i(55912)},4284:function(t,e,i){i.d(e,{S:function(){return n},h:function(){return r}});const n=[{name:i(62319).o.RANDOM,percent:100}],r="suggestedAmountHintsAI"},17907:function(t,e,i){i.d(e,{C:function(){return y}});var n=i(98189),r=i.n(n),s=i(11052),o=i.n(s),a=i(86166),c=i.n(a),u=i(50381),l=i.n(u),h=i(42614),d=i.n(h),m=i(22970),g=i(36791),f=i(18873),p=i(98738);class y extends f.v{constructor(t,e,i){super(),this.transitionsCompiler=t,this.settings=e,this.state=i,this.history=new p.F,this.locked=!1,this.done=!1,this.screens=t.compile(e.screens,this),this.validate()}get previousScreenName(){return this.history.getPrevious()}get isLocked(){return this.l||!1}tryExit(){if(this.isExiting)return!1;const t=this.getFinalScreen();if(!t)return!1;const e=this.getScreenByName(t);return!!this.canEnterToScreen(e)&&(this.goTo(e.name),!0)}start(){return(0,m.mG)(this,void 0,void 0,(function*(){const t=new Date,e=this.getScreenByName(this.settings.defaultInitial()),i=this.getScreenByName(this.settings.initial());return this.firstScreen=this.getFirstScreen(i),e!==i&&(yield e.instance.beforeEnter({isSynthetic:!0}),this.history.goTo(e.name),yield e.instance.beforeLeave({isSynthetic:!0})),this.history.goTo(this.firstScreen.name),this.currentScreen.instance.beforeEnter().then((()=>{this.emitScreenChanged({transitionStartedAt:t}),this.checkFlowCompleted()}))}))}next(t){return(0,m.mG)(this,void 0,void 0,(function*(){const e=new Date;if(!(null==t?void 0:t.omitBeforeLeave)&&!(yield this.currentScreen.instance.beforeLeave({direction:null==t?void 0:t.direction})))return;let i=this.getNextScreen(this.currentScreen),n=null==t?void 0:t.direction;if((null==t?void 0:t.getMandatoryAllowance)&&t.getMandatoryAllowance()){const t=this.getFirstMandatoryScreen();t&&(i=t,n=g.l.BACKWARD)}return this.goTo(i.name,{direction:n||g.l.FORWARD,transitionStartedAt:e})}))}prev(){const t=new Date,e=this.history.getPrevious();return e?this.goTo(e,{direction:g.l.BACKWARD,transitionStartedAt:t}):r().reject(new Error(`Cannot go to the previous screen. Current screen: ${this.currentScreen.name}`))}getHistoricalScreens(){return this.history.getHistoricalScrename}goTo(t,e){return this.throwErrorIfCannotChangeScreen(t,null==e?void 0:e.direction).ose())).then((()=>(this.history.goTo(t),this.currentScreen.instance=this.transitionsCompiler.createScreenInstance(t,this),this.currentScreen.instance.beforeEnter()))).then((()=>{this.emitScreenChanged({direction:null==e?void 0:e.direction,transitionStartedAt:null==e?void 0:e.transitionStartedAt}),this.checkFlowCompleted()}))}lock(){return this.locked=!0,this.emit(g.v.LOCKED),this}unlock(){return this.locked=!1,this.emit(g.v.UNLOCKED),this}getCurrentScreen(){return this.currentScreen.instance}getScreen(t){const e=this.screens.get(t);if(!e)throw new Error(`FormFlow Screen with name ${t} not found.`);return e.inss(t)}isCurrentScreeame)}isCurrentScrenext}dispose(){this.removeAllListeners()}get canGoBack(){return!this.locked&&!this.done&&!!this.history.getPrevious()}get currentScreen(){const t=this.history.getCurrent();if(!t)throw new Error("Cannot identify current screen");const e=this.screens.get(t);if(!e)throw new Error("Cannot get current screen");return e}throwErrorIfCannotChangeScreen(t,e){return this.locked?r().reject(new Error(`Cannot change screen while flow is locked. Current screen: ${t}. Direction: ${e}. Viewed screens: ${this.history.getHistoricalScreens().join(", ")}`)):this.done?r().reject(new Error("Cannot change screen because flow is completed")):r().resolve()}checkFlowCompleted(){this.isCurrentScreenLast()&&!this.isExiting&&(this.done=!0,this.emit(g.v.DONE))}emitScreenChanged(t){this.emit(g.v.SCREEN_CHANGED,{screen:this.currentScreen.name,instance:this.currentScreen.instance,direction:null==t?void 0:t.direction,transitionStartedAt:(null==t?void 0:t.transitionStartedAt)||new Date,transitionFinishedAt:new Date,createdAt:new Dturn e}canEnterToScreen(t){return!t.guard||!t.guard(this.state)}getFirstScreen(t){var e;if(!this.canEnterToScreen(t)){const i=null===(e=t.next)||void 0===e?void 0:e.call(t,this.state,this.history);if(!i)throw new Error('Unable to determine first screen, reached a screen without "next" function');const n=this.getScreenByName(i);return this.getFirstScreen(n)}return t}getNextScreen(t){var e;const i=null===(e=t.next)||void 0===e?void 0:e.call(t,this.state,this.history);if(!i)throw new Error("Can’t go to the next screen");const n=this.getScreenByName(i);return this.canEnterToScreen(n)?n:this.getNextScreen(n)}getFirstMandatoryScreen(){const t=this.getPredictedScreens();return o()(t).call(t,(t=>{var e;return null===(e=null==t?void 0:t.mandatory)||void 0===e?void 0:e.call(t,this.state)}))||null}getPredictedScreens(){const t=[],e=this.getScreenByName(this.settings.initial());let i=this.getFirstScreen(e);for(t.push(i);void 0!==i.next;)i=this.getNextScreen(i),t.push(i);return t}validate(){var t;const e=[...c()(t=this.screens).call(t)];if(l()(e).call(e,(t=>t.final)).length>1)throw new Error("Invalid screens configuration: multiple final screens are not allowed")}getFinalScreen(){var t;const e=[...d()(t=this.screens).call(t)],i=o()(e[1].final));return i?i[0]:null}}},98738:function(t,e,i){i.d(e,{F:function(){return a}});var n=i(71899),r=i.n(n),s=i(26562),o=i.n(sstack=[]}getCurrent(){return this.stack[this.stack.length.stack]}goTo(t){var e,i;const n=r()(e=this.stack).call(e,t);return-1===n?(this.stack.push(t),this):(o()(i=this.stack).call(i,n+1),this)}has(t){var e;return-1!==r()(e=this.stack).call(e,t)}}},5247:function(t,e,i){i.d(e,{V:function(){return u}});var n=i(36004),r=i.n(n),s=i(42461),o=i.n(s),a=i(87636),c=i.n(a);class u{constructor(t){this.screenate(t,e)}compile(t,e){const i=new(r()),n=o()(t);return c()(n).call(n,(n=>{const r=t[n];i.set(n,{name:n,next:r.next,guard:r.guard,mandatory:r.mandatory,final:r.final,instance:this.screenFactory.create(n,e)})})),i}}},18873:function(t,e,i){i.d(e,{v:function(){return a}});var n=i(87636),r=i.n(n),s=i(10161),o=i.n(snew(o())}on(t,e){return this.emitte,e),this}emit(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return this.emitter.emit(t,...i),this}removeAllListeners(){const t=this.emitter.eventNames();return r()(ttener(t)})),this}}},31838:function(t,e,i){i.d(e,{G:function(){return s}});var n=i(17907),r=i(5247);function s(t,e,i){const s=new r.V(t);return new n.C(s,e,i)}},96815:function(t,e,i){i.d(e,{s:function(){return m}});var n=i(16465),r=i.n(n),s=i(98189),o=i.n(s),a=i(87636),c=i.n(a),u=i(54496),l=i.n(u),h=i(18873),d=i(64995);class m extends h.v{constructor(t,e,i){let{name:n}=e;super(),this.flow=t,this.debug=i,this._pending=!1,this.updateListeners=new(r()),this.name=n}get data(){return{}}get pending(){return this._pending}seners()}onUpdate(t){this.updateListeneelete(t)}beforeLeave(t){return o().reeturn{}}leave(){return this.flow.next()}submit(){this.emit(d..k.SKIP)}syncUpdate(){this.triggeUpdate()}triggerUpdate(){var t;c()(t=this.updateListenerst,(t=>t()))}scheduleUpdate(){void 0!==this.updateTimeout&&window.clearTimeout(this.updateTimeout),this.updateTimUpdate()}),m.UPDATE_DEB.clear()}}m.UPDATE_DEBOUNCE_MS=2|(n={}))},45738:function(t,e,i){i.d(e,{i:function(){return r}});var n9.ISRAEL}},7547:function(t,e,i){i.d(e,{u:function(){return r}});var n_KINGDOM}},53492:function(t,e,i){i.d(e,{K:function(){return r}});const n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,i="";for(let n=0;n<t;n+=1)i+=e[Math.floor(Math.random()*e.length)];return i}},77667:function(t,e,i){i.d(e,{R:function(){return r}});var n=i(24188);class r exitles=[]}}},24188:function(t,e,i){i.d(e,{s:function(){return n}});class n{}},95118:function(t,e,i){i.d(e,{I:function(){return c}});var n=i(33415),r=i.n(n),s=i(24188),o=i(78108),a=i(30793);class c extends s.s{constructor(){super(...arguments),this.isEnabled=!0,this.titles=(0,o.YZ)(r()(a.XC))}}},51259:function(t,e,i){i.d(e,{F:function(){return c}});var n=i(33415),r=i.n(n),s=i(24188),o=i(78108),a=i(30793);class c extends s.s{constructor(){super(...arguments),this.isEnabled=!0,this.titles=(0,o.YZ)(r()(a.ck))}}},87727:function(t,e,i){i.d(e,{K:function(){return c}});var n=i(33415),r=i.n(n),s=i(24188),o=i(78108),a=i(30793);class c extends s.s{constructor(){super(...arguments),this.isEnabled=!0,this.titles=(0,o.YZ)(r()(a.CJ))}}},56489:function(t,e,i){i.d(e,{r:function(){return c}});var n=i(75652),r=i.n(n),s=i(33415),o=i.n(s),a=i(30793);const c=r()([a.Tg.NONE,...o()(a.CJ),...o()(a.XC),...o()(a.ck)])},68316:function(t,e,i){var n=i(78108);e.Z={createCustomerTitLocale)}}},78108:function(t,e,i){i.d(e,{Gx:function(){return m},YZ:function(){return g}});var n=i(33093),r=i.n(n),s=i(77667),o=i(56489),a=i(95118),c=i(51259),u=i(30793),l=i(87727),h=i(75687),d=i(46301);function m(t,e){switch(t){case h.C9.UNITED_KINGDOM:return new l.K;case h.C9.FRANCE:return new a.I;case h.C9.GERMANY:return new c.F;case h.C9.CANADA:return e===d.c0.FR_CA?new a.I:new s.R;default:returnNE,...t]}e.ZP={isAvailableCustomerTitle:function(t){return!!t&&r()(o.r).call(o.r,t)}}},30793:function(t,e,i){var n,r,s,o;i.d(e,{Tg:function(){return n},CJ:function(){return r},XC:function(){return s},ck:function(){re.NONE=""}(nF="Prof"}(r||(r={})),function(t){t.M="M",t.MME="Mme",t.MLLE="Mlle",t.AUTRE="Autre"}(sF="Prof"}(o||(o={}))},86879:function(t,e,i){i.d(e,{Z:function(){return d}});var n=i(33093),r=i.n(n),s=i(88760),o=i(23747),a=i(12368),c=i(99410),u=i(66669),l=i(17064),h=i(52369);class d{constructor(t){var e;this.company=d.resolveCompanyConfig(t),this.isDevMode=null!==(e=t.isDevMode)&&void 0!==e&&e}get isExceptionLogic(){return this.company.nonProfit&&r()(o.A).call(o.A,this.company.country)}static resolveCompanyConfig(t){return t.company.useParentPaymentAccounts&&t.parentCompany?{nonProfit:t.parentCompany.nonProfit,country:t.parentCompany.country}:{nonProfit:t.company.nonProfit,country:t.company.country}}getWidgetDefaultsLogic(){return(0,u.b)({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode})}getCurrencyLogic(t){return(0,a.X)({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode,widget:t.widget})}getWidgetEditorLogic(){return(0,l.C)({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode,validator:this.getValidator()})}getCheckoutScreenLogic(){return(0,s.M)({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode})}getVirtualTerminalLogic(){return(0,c.y)({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode,nonProfit:this.company.nonProfit})}getValidator(){return(0,h.l)({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode})}}},58863:function(t,e,i){i.d(e,{l:function(){return r}});var n=i(53387);class r extends n.s{isEnabled(t,e){return e.showMailing?t>=e.showMailingFromAmount:e.showMailing}isRequired(t,e){return e.showMailing&&e.mailingRequired?t>=e.mailingRequiredFromAmount:!!e.showMailing&&e.mailingRequired}}},64308:function(t,e,i){i.d(e,{s:function(){return r}});var n=i(53387);class r extends n.s{isEnabled()return!0lass n{}},88760:function(t,e,i){i.d(e,{M:function(){return o}});var n=i(58863),r=i(64308),s=i(75687);function o(t){return t.isException&&t.country===s.C9.CANADA?new r.s:new n.l}},23747:function(t,e,i){i.d(e,{A:function(){return r}});var n=i(75687);const r=[n.C9.CANADA,n.C9.GERMANY]},51468:function(t,e,i){i.d(e,{T:function(){return r}});var nurrency}}},11705:function(t,e,i){i.d(e,{X:function(){return r}});var nrn"EUR"}}},44344:function(t,e,i){i.d(e,{k:function(){re.widget}}},12368:function(t,e,i){i.d(e,{X:function(){return o}});var n=i(51468),r=i(11705),s=i(75687);function o(t){return t.isException&&t.country===s.C9.GERMANY?new r.X(t):new n.T(t)}},73679:function(t,e,i){i.d(e,{L:function(){return r}});var n=i(83248params=e}isEnabled(t,e){return this.checkoutScreenLogic.isEnabled(t,e)||this.mailingAddressForceRequired(e)}isRequired(t,e){return this.checkoutScreenLogic.isRequired(t,e)||this.mailingAddressForceRequired(e)}mailingAddressForceRequired(t){return t.paymentMethodAvailabilityManagerRepository.getManager(t.paymentMethod,n.B.VIRTUAL_TERMINAL).isRequired("address",{ibanCountry:t.paymentMethodCountry})}}},99410:function(t,e,i){i.d(e,{y:function(){return s}});var n=i(88760),r=i(73679);function s(t){const e=(0,n.M)(t);return new r.L(e,t)}},94673:function(t,e,i){i.d(e,{f:function(){return s}});var n=i(73370),r=i(36602);class s extends r.d{getDefaults(){return n.v8}}},5919:function(t,e,i){i.d(e,{p:function(){return s}});var n=i(73370),r=i(36602);class s extends r.d{getDefaults(){return n.$d}}},26179:function(t,e,i){i.d(e,{L:function(){return s}});var n=i(73370),rrn n.ZB}}},36602:function(t,e,i){i.d(e,{d:function(){return n}});class n{}},73370:function(t,e,i){i.d(e,{ZB:function(){return n},$d:function(){return r},v8:function(){return s}});const n={showMailing:!0,showMailingFromAmount:0,mailingRequired:!0,mailingRequiredFromAmount:3e4},r={showMailing:!0,showMailingFromAmount:0,mailingRequired:!0,mailingRequiredFromAmount:0},s={showMailing:!1,showMailingFromAmount:0,mailingRequired:!1,mailingRequiredFromAmount:0}},66669:function(t,e,i){i.d(e,{b:function(){return a}});var n=i(94673),r=i(5919),s=i(26179),o=i(75687);function a(t){if(t.isException)switch(t.country){case o.C9.GERMANY:return new s.L;case o.C9.CANADA:return new r.p;default:return new n.f}return new n.f}},99862:function(t,e,i){i.d(e,{W:function(){return r}});var n=i(6729);class r extends n.f{constructor(){super(...arguments),this.shouldHideEditor=!1,this.showMailingShouldAlwaysEnabled=!1,this.mailingRequiredShouldAlwaysEnabled=!1}}},3574:function(t,e,i){i.d(e,{G:function(){return r}});var n=i(6729);class r exabled=!1}}},83174:function(t,e,i){i.d(e,{K:function(){return s}});var n=i(78776),r=i(6729);class s extends r.f{constructor(){super(...arguments),this.shouldHideEditor=!1,this.showMailingShouldAlwaysEnabled=!0,this.mailingRequiredShouldAlwaysEnabled=!0,this.legalText="We recommend leaving address optional if possible; requiring it prior to checkout may cause you to lose donations. Due to German receipt regulations, an address must be required on donations over 300 euros."}getValidAmounts(t,e){const i=super.getValidAmounts(t,e);let n=i.showMailingFromAmount,r=i.mailingRequiredFromAmount;const o=this.validator.isValid({showMailingFromAmount:i.showMailingFromAmount,mailingRequiredFromAmount:i.mailingRequiredFromAmount,showMailing:t.showMailing,mailingRequired:t.mailingRequired}),a=o.meta.isShowMailingFromAmountValid,c=o.meta.isMailingRequiredFromAmountValid;return t.showMailing&&!a&&(n=s.MAX_SHOW_MAILING_FROM_AMOUNT),t.mailingRequired&&!c&&(r=s.MAX_MAILING_REQUIRED_FROM_AMOUNT),{showMailingFromAmount:n,mailingRequiredFromAmount:r}}}s.MAX_SHOW_MAILING_FROM_AMOUNT=n.Q,s.MAX_MAILING_REQUIRED_FROM_AMOUNT=n.J},6729:function(t,e,i){i.d(e,{f:function(){return n}}lText=""}getValidAmounts(t,e){return this.validator.isValid(t).isValid?{showMailingFromAmount:t.showMailingFromAmount,mailingRequiredFromAmount:t.mailingRequiredFromAmount}:{showMailingFromAmount:e,mailingRequiredFromAmount:e}e4,r=3e4},17064:function(t,e,i){i.d(e,{C:function(){return a}});var n=i(99862),r=i(3574),s=i(83174),o=i(75687);function a(t){if(t.isException)switch(t.country){case o.C9.GERMANY:return new s.K(t.validator);case o.C9.CANADA:return new r.G(t.validator);default:return new n.W(t.validator)}return new n.W(t.validator)}},5582:function(t,e,i){i.d(e,{A:function(){return n}});class n{isValid(t){if(t.showMailing&&t.mailingRequired){const e=t.showMailingFromAmount<=t.mailingRequiredFromAmount;return{isValid:e,meta:{isMailingRequiredFromAmountValid:e,isShowMailingFromAmountValid:e}}}return{isValid:!0,meta:{isMailingRequiredFromAmountValid:!0,isShowMailingFromAmountValid:!0}}}}},80486:function(t,e,i){i.d(e,{L:function(){return s}});var n=i(78776),r=i(5582);class s extends r.A{isValid(t){const e=super.isValid(t),i=t.showMailingFromAmount<=n.Q,r=t.mailingRequiredFromAmount<=n.Q;return{isValid:e.isValid&&r&&i,meta:{isMailingRequiredFromAmountValid:r,isShowMailingFromAmountValid:i}}}}},52369:function(t,e,i){i.d(e,{l:function(){return o}});var n=i(5582),r=i(80486),s=i(75687);function o(t){return t.isException&&t.country===s.C9.GERMANY?new r.L:new n.A}},90808:function(t,e,i){i.d(e,{x:function(){return P}});var n=i(90899),r=i.n(n),s=i(42461),o=i.n(s),a=i(85952),c=i.n(a),u=i(49924),l=i.n(u),h=i(87636),d=i.n(h),m=i(50418),g=i.n(m),f=i(50381),p=i.n(f),y=i(16465),v=i.n(y),C=i(62319),A=i(7411),S=i(65356),b=i(75687);class P{constructor(t){let{enabledAI:e,frequenciesHints:i,distribution:n,currencyService:r,defaultCurrency:s}=t;this._hints={},this._defaultHints={},this._variantName=C.o.NONE,this._enabledAI=e,this._distribution=n,this._defaultCurrency=s,this.currencyService=r,this.initHints(i)}get hints(){return this._hints}get defaultHints(){return this._defaultHints}get hintsAmounts(){const t={[b.EK.ONCE]:[],[b.EK.DAILY]:[],[b.EK.WEEKLY]:[],[b.EK.BIWEEKLY]:[],[b.EK.EVERY_4_WEEKS]:[],[b.EK.MONTHLY]:[],[b.EK.BIMONTHLY]:[],[b.EK.QUARTERLY]:[],[b.EK.SEMIANNUAL]:[],[b.EK.ANNUAL]:[]};for(const e in this._hints){const i=this._hints[e];t[e]=i?r()(i).call(i,(t=>{let{amount:e}=t;return e})):[]._hints)}get variantName(){return this._variantName}getHintsByFrequency(t){return this._hintst]||null}updateHintsByAmounts(t){for(const i in t){var e;const n=this._hints[i],r=t[i];if(!(n&&n.length&&c()(r)))continue;const s=l()(e=[...r]t,e)=>t-e)),o=[];d()(s).call(s,((t,e)=>{o.push(g()(g()({},n[e]),{amount:t}))})),this._hints[i]=o}}updateHintsByDefault(t,e){const i=this._hints[t],n=[];if(!i)throw new Error(`Hints for frequency ${t} not found`);d()(i).call(i,(t=>{t.id===(null==e?void 0:e.id)?n.push(g()(g()({},t),{default:!0})):n.push(g()(g()({},t),{default:!1}))})),this._hints[t]=n}initHints(t){if(this._distribution.initCurrentVariantName(),this._distribution.currentVariantName===C.o.RANDOM)return d()(t).call(t,(t=>{let{frequency:e,hints:i}=t;const n=this.getFormattedHints({hints:i,frequency:e}),r=this.getRandomVariantHints(n);this._hints[e]=r,this._defaultHints[e]=r})),void(this._variantName=C.o.RANDOM);throw new Error("No variant found")}getFormattedHints(t){let{hints:e,frequency:i}=t;const n=e[e.length-1].amount;return r()(e).call(e,(t=>{const e=t.amount||(0,A.p)({index:t.index,frequency:i,enabledAI:this._enabledAI,lastAmount:n}),r="USD"===this._defaultCurrency?e:this.currencyService.convert(e,"USD",this._defaultCurrency);return g()(g()({},t),{amount:e,amountUsd:r,description:t.descripHints(t)}getEnabledAIHints(t){if(t.length<S.FX)throw new Error(`Hints count is less than ${S.FX}`);const e=this.getRandomHints(t,S.mD);return l()(e).call(e,((t,e)=>t.index-e.index))}getDisabledAIHints(t){const e=p()(t).call(t,(t=>{let{active:e}=t;return e}));if(e.length<S.mD)throw new Error(`Active hints count is less than ${S.mD}`);return l()(ex-e.index))}getRandomHints(t,e){const i=[],n=new(v());for(;i.length<e&&n.size<t.length;){let e;do{e=Math.floor(Math.random()*t.length)}while(n.has(e));n.add(e),i.push(t[e])}return this.getHintsWithRandomDefault(i)}getHintsWithRandomDefault(t){const e=r()(t).call(t,(t=>g()(g()({},t),{default:!1})));return e[Math.floor(Math.random()*e.length)].default=!0,e|(n={}))},99404:function(t,e,i){i.d(e,{I:function(){return s}});var n=i(88205),r=i(45245);class s extends r.D{constructor(t,e,i,n,r,s){super(t,e),this.merge({checkoutScreen:i,chargeKey:n.chargeKey,chargeInUSDAmount:n.chargeInUSDAmount,chargeInDefaultCurrencyAmount:n.chargeInDefaultCurrencyAmount,chargeAmount:n.chargeAmount,chargeCurrency:n.chargeCurrency,chargeFeeCovered:n.chargeFeeCovered?1:0,chargePaymentMethod:n.chargePaymentMethod,chargeIsRecurring:n.chargeIsRecurring?1:0,chargeHasComment:n.chargeHasComment?1:0,chargeHasTribute:n.chargeHasTribute?1:0,chargeGoal:n.chargeGoal,chargeCampaignKey:n.chargeCampaignKey,duration:r,eventComment:s})}get eventType(){return n.h7}}},24570:function(t,e,i){i.d(e,{X:function(){return s}});var n=i(88205),r=i(45245);class s extends r.D{constructor(t,e,i){super(t,e),this.merge({checkoutScreen:i})}get eventType(){return n.ex}}},21373:function(t,e,i){i.d(e,{E:function(){return s}});var n=i(88205),r=i(45245);class s extends r.D{constructor(t,e,i,n){super(t,e),this.merge({checkoutScreen:i,eventComment:n})}get eventType(){return n.Ue}}},14528:function(t,e,i){i.d(e,{o:function(){return s}});var n=i(88205),r=i(45245);class s extends r.D{constructor(t,e,i,n){super(t,e),this.merge({duration:i,eventCourn n.F5}}},89562:function(t,e,i){i.d(e,{XE:function(){return r}}),i(36004),i(87636),i(36913);var n=i(782);function r(t){return{[n.G.CARD]:"CreditCard",[n.G.APPLE_PAY]:"ApplePay",[n.G.GOOGLE_PAY]:"GooglePay",[n.G.PAYPAL]:"PayPal",[n.G.VENMO]:"Venmo",[n.G.ACH]:"ACH",[n.G.US_BANK_ACCOUNT]:"ACH",[n.G.PLAID]:"Plaid",[n.G.CLICK_TO_PAY]:"ClickToPay",[n.G.AU_BECS]:"BECS",[n.G.UK_BACS]:"Bacs",[n.G.ACSS]:"PAD",[n.G.SEPA]:"SEPA",[n.G.IDEAL]:"iDEAL",[n.G.CRYPTO]:"Crypto",[n.G.STOCK]:"Stock"}[t]||""}i(7815)},15581:function(t,e,i){i.d(e,{t:function(){return o}});var n,r=i(33093),_LENGTH"}(n||(n={}));class o{static getInHonorOfMaxLength(t){var e;return s()(e=["AJGEZYBE","ATBTMWDS"]).call(e,t)?30:n.IN_HONOR_OF_MAX_LENGTH}}},79655:function(t,e,i){i.d(e,{Lu:function(){return a},DM:function(){return c},x9:function(){return u},dY:function(){return l},Zl:function(){return d}});var n=i(33093),r=i.n(n),s=i(34126),o=i(20419);const a="facebook",c="twitter",u="linkedin",l="email";function h(t,e){if(void 0!==e){let i="?";return r()(t).call(t,"?")&&(i="&"),`${t}${i}ref=${e}`}return t}function d(t,e,i,n,r){let d="";switch(t){case u:return d=s.stringify({mini:"true",url:h(e,r),summary:i}),`https://www.linkedin.com/shareArticle?${d}`;case c:return d=s.stringify({url:h(e,r),text:i}),`https://twitter.com/intent/tweet?${d}`;case a:return d=s.stringify({u:h(e,r),quote:i}),`https://www.facebook.com/sharer.php?${d}`;case l:return d=s.stringify({body:(0,o.o)([i,e],"\n"),subject:n||""}),`mailto:?${d}`;default:return""}}},4456:function(t,e,i){i.d(e,{q_:function(){return s}});var n=i(47080);const r={[n.yx.MEMORY]:"In Memory",[n.yx.HONOR]:"In Honor",[n.yx.r[t]||""}n.yx.MEMORY,n.yx.HONOR,n.yx.NONE},7411:function(t,e,i){i.d(e,{p:function(){return s}});var n=i(65356),r=i(75687);function s(t){let{index:e,frequency:i,enabledAI:s,lastAmount:o}=t;const a=i===r.EK.ONCE,c=a?n.If:n.s8,u=a?n.RA:n.hp,l=s?u:c,h=l.length;return h>=e+1?l[e]:o?(d=o+n.gN)%n.gN==0?d:Math.ceil(d/n.gN)*n.gN:l[h-1]+(e+1-h)*n.gN;var d}},37312:function(t,e,i){i.d(e,{S:function(){return n}});const n={"US States":[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DC",name:"District of Columbia"},{code:"DE",name:"Delaware"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}],"US Territories":[{code:"AS",name:"American Samoa"},{code:"GU",name:"Guam"},{code:"MH",name:"Marshall Islands"},{code:"FM",name:"Micronesia"},{code:"MP",name:"Northern Mariana Islands"},{code:"PW",name:"Palau"},{code:"PR",name:"Puerto Rico"},{code:"VI",name:"U.S. Virgin Islands"}],"US Military":[{code:"AA",name:"Armed Forces America"},{code:"AE",name:"Armed Forces"},{code:"AP",name:"Armed Forces Pacific"}]}},86117:function(t,e,i){i.d(e,{x:function(){return n}});const n=[{code:"AB",name:"Alberta"},{code:"BC",name:"British Columbia"},{code:"MB",name:"Manitoba"},{code:"NB",name:"New Brunswick"},{code:"NL",name:"Newfoundland and Labrador"},{code:"NS",name:"Nova Scotia"},{code:"NT",name:"Northwest Territories"},{code:"NU",name:"Nunavut"},{code:"ON",name:"Ontario"},{code:"PE",name:"Prince Edward Island"},{code:"QC",name:"Québec"},{code:"SK",name:"Saskatchewan"},{code:"YT",name:"Yukon"}]},9662:function(t,e,i){i.d(e,{D:function(){return r}});var n=i(75687);n.C9.ISRAEL;const r=[n.C9.ISRAEL,n.C9.UNITED_KINGDOM]},16414:function(t,e,i){i.d(e,{N:function(){return n}});const n=[{code:"Carlow",name:"Carlow"},{code:"Cavan",name:"Cavan"},{code:"Clare",name:"Clare"},{code:"Cork",name:"Cork"},{code:"Donegal",name:"Donegal"},{code:"Dublin",name:"Dublin"},{code:"Galway",name:"Galway"},{code:"Kerry",name:"Kerry"},{code:"Kildare",name:"Kildare"},{code:"Kilkenny",name:"Kilkenny"},{code:"Laois",name:"Laois"},{code:"Leitrim",name:"Leitrim"},{code:"Limerick",name:"Limerick"},{code:"Longford",name:"Longford"},{code:"Louth",name:"Louth"},{code:"Mayo",name:"Mayo"},{code:"Meath",name:"Meath"},{code:"Monaghan",name:"Monaghan"},{code:"Offaly",name:"Offaly"},{code:"Roscommon",name:"Roscommon"},{code:"Sligo",name:"Sligo"},{code:"Tipperary",name:"Tipperary"},{code:"Waterford",name:"Waterford"},{code:"Westmeath",name:"Westmeath"},{code:"Wexford",name:"Wexford"},{code:"Wicklow",name:"Wicklow"},{code:"Dublin 1",name:"Dublin 1"},{code:"Dublin 2",name:"Dublin 2"},{code:"Dublin 3",name:"Dublin 3"},{code:"Dublin 4",name:"Dublin 4"},{code:"Dublin 5",name:"Dublin 5"},{code:"Dublin 6",name:"Dublin 6"},{code:"Dublin 6W",name:"Dublin 6W"},{code:"Dublin 7",name:"Dublin 7"},{code:"Dublin 8",name:"Dublin 8"},{code:"Dublin 9",name:"Dublin 9"},{code:"Dublin 10",name:"Dublin 10"},{code:"Dublin 11",name:"Dublin 11"},{code:"Dublin 12",name:"Dublin 12"},{code:"Dublin 13",name:"Dublin 13"},{code:"Dublin 14",name:"Dublin 14"},{code:"Dublin 15",name:"Dublin 15"},{code:"Dublin 16",name:"Dublin 16"},{code:"Dublin 17",name:"Dublin 17"},{code:"Dublin 18",name:"Dublin 18"},{code:"Dublin 20",name:"Dublin 20"},{code:"Dublin 22",name:"Dublin 22"},{code:"Dublin 24",name:"Dublin 24"}]},69029:function(t,e,i){var n,r,s,o,a,c;i.d(e,{ro:function(){return c}}),i(39091),function(t){t.THE_ADVENTURE_PROJECT="5a8b26d4f9891300017cc0fc"}(_DEFAULT"}(r||(r={})),function(t){t.ALWAYS="always",t.NEVER="never"}(s||(s={})),function(t){t.PER_INSTALLMENT="perInstallment",t.NONE="none"}(o||(o={})),function(t){t.UPPER="upper",t.PROPER="proper"}(a||(a={})),function(t){t.AUTOMATIC="automatic",t.MICRODEPOSITS="microdeposits"}(c||(c={}))},39091:function(t,e,i){var n;!function(t){t.NOWHERE="nowhere",t.WIDGET="widget",t.URL="url"}(n||(n={||(n={||(n={}))},47080:function(t,e,i){var n,r,s,o;i.d(e,{yx:function(){r50]="MAX"}(n||(n={})),function(t){t.EMAIL="email",t.ADDRESS="address",t.NOT_SHARE="not_share"}(r||(r={})),function(t){t.NONE="none",t.HONOR="honor",t.MEMORY="memory"}(="letter"}(o||(o={tType"}')}}]);