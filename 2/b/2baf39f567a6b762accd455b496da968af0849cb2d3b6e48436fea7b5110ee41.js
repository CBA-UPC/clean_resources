function SlikeLoader(){this.BASE_SDK_URL="//tvid.in/sdk",this.BEACON_BASE_URL="https://tvid.in/log/pixel?",this.MEDIA_BASE_URL="https://tvid.in/api/mediainfo",this.PLAYBACK_CAPABILITIES={MSE:window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),HLS:document.createElement("video").canPlayType("application/vnd.apple.mpegURL")},this.es6Support=this.isES6(),this.splInitialData={consumed:!1,data:"",status:"",pfs:0},this.sdkLoaded=!1,this.sdkLoadFailed=!1,this.ss="",this.hlsSupport=this.isMSESupported()?1:-1}SlikeLoader.prototype.isES6=SlikeLoader.prototype.loadJs=function(e,i){var o=document.createElement("script"),n=document.getElementsByTagName("head")[0];o.src=e,o.onload=function(){i(!0)},o.onerror=n.appendChild(o)},SlikeLoader.prototype.polyFillNeeded=function(){var e="function"==typeof window.Promise||!1,i="function"==typeof Object.assign||!1,o="function"==typeof window.URL||!1;return!(e&&i&&o)},SlikeLoader.prototype.isObject=SlikeLoader.prototype.inViewPort=function(e){try{var i,o=e.getBoundingClientRect(),n=document.documentElement;return 0<=o.top&&0<=o.left&&o.bottom<=(window.innerHeight||n.clientHeight)&&o.right<=(window.innerWidth||n.clientWidth)?i=100:o.bottom<0||o.top>(window.innerHeight||n.clientHeight)?i=-1:(i=o.top<0?(o.height+o.top)/o.height:(window.innerHeight-o.top)/o.height,i*=100),i}catch(e){return 101}},SlikeLoader.prototype.generateVersion=function(){try{var e,i,o=window.SlikePlayer?window.SlikePlayer.version:"",n=o.split("."),t=n.length;if(t<=1)return o;for(var r="",a=0;a<t;a++)e=n[a],r+=(i=parseInt(e))<=9&&0<a?"0"+i:e;return r}catch(e){return""}},SlikeLoader.prototype.getClientKeyValue=function(){try{var e=this,i="",o=document.getElementById(e.config.contEl),n=e.getContainerSize(o);if(o&&(i="&pw="+n.width+"&ph="+n.height),e.config.player&&(e.config.player.pageSection||e.config.player.pagesection)&&(i+="&chs="+e.config.player.pageSection||e.config.player.pagesection),e.config.player&&(e.config.player.msid||e.config.video.msid)&&(i+="&msid="+(e.config.player.msid||e.config.video.msid)),e.config.player&&(e.config.player.pageUrl||e.config.video.pageUrl)?i+="&url="+encodeURIComponent(e.config.player.pageUrl||e.config.video.pageUrl):e.config.video&&e.config.video.shareUrl?i+="&url="+encodeURIComponent(e.config.video.shareUrl):i+="&url="+encodeURIComponent(window.location.href),e.config.player.pagetpl&&(i+="&tpl="+e.config.player.pagetpl),e.config.recommendation){for(var t=["rmn","rm","rtype","ralgo","rid"],r=e.config.recommendation,a=0;a<t.length;a++)r[t[a]]&&(i+="&"+t[a]+"="+r[t[a]]);i+="&relg=1&r=2"}if(window.screen&&window.screen.width&&(i+="&sw="+window.screen.width+"&sh="+window.screen.height),e.config&&e.config.video&&e.config.video.srcVideoSection&&(i+="&srcchs="+e.config.video.srcVideoSection),e.config&&e.config.video&&e.config.video.srcVideoUrl&&(i+="&rfdurl="+encodeURIComponent(e.config.video.srcVideoUrl)),e.config&&e.config.contEl&&(i+="&cont="+e.config.contEl),e.config&&e.config.GDPR_MODE?i+="&gdprn=1":i+="&gdprn=2",e.config&&e.config.player&&e.config.player.skipAnalytics?i+="&skipanalytics=1":i+="&skipanalytics=2",e.config&&e.config.player)e.config.player.autoPlay?i+="&map=1":i+="&map=2";if(e.config&&e.config.video.id){var s=e.config.video.id,d=e.config.video.playerType?parseInt(e.config.video.playerType):0;"yt"===s.substr(0,2).toLowerCase()||10==d?i+="&pt=7":"dm"!==s.substr(0,2).toLowerCase()&&13!=d||(i+="&pt=13")}return i+="&sdk=1",i+="&viewportvr="+e.inViewPort(o)}catch(e){return""}},SlikeLoader.prototype.adMonetization=function(){var e,i,o=this,n=[0,0,0,0,0],t=o.config.player;if(i=t?(o.isObject(t.skipAd)?(e=!1,t.skipAd.common&&(t.skipAd.common.includes(0)||(e=!0))):e=!!t.skipAd,!!t.isPrime):e=!1,o.config&&o.config.video.id){var r=o.config.video.id,a=o.config.video.playerType?parseInt(o.config.video.playerType):0;"yt"!==r.substr(0,2).toLowerCase()&&10!=a&&"dm"!==r.substr(0,2).toLowerCase()&&13!=a||(n[0]=1)}return e&&(n[1]=1),i&&(n[3]=1),window.google||(n[4]=1),window.google&&!window.google.ima&&(n[4]=1),"00000"===n.join("")?"&aj=31&ajbit=00000":"&ajbit="+n.join("")},SlikeLoader.prototype.isMSESupported=function(){try{var e=window.MediaSource||window.WebKitMediaSource;if(!e)return!1;var i=window.SourceBuffer||window.WebKitSourceBuffer,o=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!i||i.prototype&&"function"==typeof i.prototype.appendBuffer&&"function"==typeof i.prototype.remove;return!!o&&!!n}catch(e){return!1}},SlikeLoader.prototype.getContainerSize=function(e){var i=this,o={width:0,height:0};if(e){if(e.offsetWidth)return o.width=e.offsetWidth,o.height=e.offsetHeight,o;if(e.clientHeight)return o.width=e.clientWidth,o.height=e.clientHeight,o;if(i.config&&i.config.player&&i.config.player.contHeight&&i.config.player.contWidth)return o.width=i.config.player.contWidth,o.height=i.config.player.contHeight,o;var n=e.getBoundingClientRect();return o.width=n.width,o.height=n.height,o}return o},SlikeLoader.prototype.loadMediaConfig=function(){var o=this;if(!o.splInitialData.consumed&&(o.config.video.id||!o.config.video.url)){var e,n,t,r,a,i=o.config.video.id,s=i.substr(2,2)+"/"+i.substr(4,2)+"/"+i+"/"+i+".json?vj=105&apikey="+o.config.apiKey+"&k="+o.config.video.id+"&mse="+o.hlsSupport+o.adMonetization()+o.getClientKeyValue(),d=o.MEDIA_BASE_URL+"/"+s;e=d,t=!1,r=new XMLHttpRequest,a=Date.now(),r.open("GET",e),r.onload=function(){if(200<=this.status&&this.status<300&&r.response)try{var e=JSON.parse(r.response);e.geoCountry=r.getResponseHeader("geo");var i=parseInt(r.getResponseHeader("Content-Length"))/(Date.now()-a)*1e3;!e||"404"===e.error?t=!0:(o.ss=e.ss,n="&apikey="+o.config.apiKey+"&k="+o.config.video.id+"&ss="+o.ss+o.adMonetization()+"&pfa="+(Date.now()-a)+"&nts="+i,e.ss&&(o.sdkLoadFailed?o.sendBeacon("vj=107&apikey"+o.config.apiKey+"&k="+o.config.video.id+"&ss="+o.ss+"&pfs="+o.splInitialData.pfs):o.sdkLoaded||o.sendBeacon("vj=106"+n),o.splInitialData.data=e,o.splInitialData.status="loaded"))}catch(e){t=!0}t&&(o.splInitialData.status="error")},r.onerror=o.splInitialData.status="requested",r.send()}},SlikeLoader.prototype.load=function(e,i){var o=this;if(o.sdkLoaded)i(!0,e);else{o.loadTimeStamp=Date.now(),o.config=e,o.config.noBeacon=!(o.config.video.id||!o.config.video.url),o.callback=i,o.env=e.env?e.env:"prod",o.version=e.version?e.version:"",o.isES5=!!e.isES5&&e.isES5,o.debug=!!e.debug&&e.debug,o.loadMediaConfig();var n=o.getSDKPath();if(o.polyFillNeeded()){var t=o.BASE_SDK_URL+"/lib/polyfills.js";o.loadJs(t,function(e){e?o.loadSDK(n):o.callback(!1,o.config)})}else o.loadSDK(n)}},SlikeLoader.prototype.loadSDK=function(e){var i=this;i.loadJs(e,function(e){i.splInitialData.pfs=Date.now()-i.loadTimeStamp,e?(i.sdkLoaded=!0,i.ss&&i.sendBeacon("vj=108&apikey="+i.config.apiKey+"&k="+i.config.video.id+"&ss="+i.ss+"&pfs="+i.splInitialData.pfs+"&v="+i.generateVersion()),i.callback(!0,i.config)):(i.sdkLoadFailed=!0,i.ss&&i.sendBeacon("vj=107&apikey="+i.config.apiKey+"&k="+i.config.video.id+"&ss="+i.ss+"&pfs="+i.splInitialData.pfs),i.callback(!1,i.config))})},SlikeLoader.prototype.sendBeacon=function(e){var i=this;if((i.config.video.id||!i.config.video.url)&&!(i.config.noBeacon||i.config.GDPR_MODE||i.config.player&&i.config.player.skipAnalytics)){var o=i.BEACON_BASE_URL+"lts="+i.loadTimeStamp+"&"+e;navigator.sendBeacon?navigator.sendBeacon(o):(new Image).src=o}},SlikeLoader.prototype.getSDKPath=function(){var e=this,i=!1,o=!1,n="",t=e.BASE_SDK_URL;return"stg"==e.env&&(t+="/stg"),e.version&&(t=t+"/"+e.version),parseInt(e.config.player&&e.config.player.slikeAdPercent)&&(i=!0),1==e.hlsSupport&&(o=!0,e.hlsSupport=1),n+=i?"slikeima.":"",n+=o?"hls.":"",e.es6Support&&!e.isES5&&!e.isUnsupportedBrowser()||(n+="es5."),(e.debug||e.getDebugFlagFromLocalStorage())&&(n+="debug."),n+="spl.js",e.config.sdkBase="local"==e.env?"":t,"local"==e.env?"/"+n:t+"/"+(e.version?"":e.config.apiKey+".")+n},SlikeLoader.prototype.getDebugFlagFromLocalStorage=SlikeLoader.prototype.isUnsupportedBrowser=function(){var e=window.navigator.userAgent,i=e.indexOf("MSIE ");if(0<i)return parseInt(e.substring(i+5,e.indexOf(".",i)),10);if(0<e.indexOf("Trident/")){var o=e.indexOf("rv:");return parseInt(e.substring(o+3,e.indexOf(".",o)),10)}var n=e.indexOf("Edge/");return 0<n?parseInt(e.substring(n+5,e.indexOf(".",n)),10):-1!==e.indexOf("UCBrowser")||-1!==e.indexOf("UBrowser")},window.spl=new SlikeLoader;