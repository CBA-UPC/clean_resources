(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[3625],{49995:(e,t,r)=>{"use strict";r.d(t,{Th:()=>n});var a=r(66062),o=r(18274),i=r(64123),s=r(33117);var n=(0,o.H)(((e,t)=>function(){var r=(0,a.Z)((function*(r,a,o){var{fetchr:n}=o;if(a().gsCategoriesState.categoriesMap[t])return null;try{r({type:s.DF,payload:{entryId:t}});var d=(yield n.read(i.Z.BlogEntryGsCategories).params({amebaId:e,entryId:t}).end()).data;return r(t,d))}catch(p){return r(function(e,t){return{type:s.fS,payload:{entryId:e,error:t},error:!0}}(t,p))}}));return ()))},30274:(e,t,r)=>{"use strict";r.d(t,{in:()=>h,wq:()=>u});var a=r(66062),o=r(55752),i=r.n(o),s=r(5663),n=r.n(s),d=r(18274);function p(e,t){var r="".concat(window.process.env.API_HASHTAG_PUB,"/v2/article/multiple/tag/").concat(e,"?entryIds=").concat(t);return fetch(r)}var l=r(74925);ar u=(0,d.H)({ttl:18e5},((e,t)=>function(){var r=(0,a.Z)((function*(r,a){if(i()(a(),["entryState","entryHashtagMap",t]))return null;try{var o=yield function(e,t){var r="".concat(window.process.env.API_HASHTAG_PUB,"/v2/article/tag/").concat(e,"/").concat(t);return fetch(r,{timeout:1e3})}(e,t),s=yield o.json();return r(c(e,t,s))}catch(n){return r(function(e,t,r){return{type:l.bv,payload:{amebaId:e,entryId:t,error:r},error:!0}}(n))}}));return function(e,t){return r.apply(this,arguments)}}()));function g(e,t,r){return{type:l.uI,payload:{amebaId:e,entryIds:t,error:r},error:!0}}var h=(0,d.H)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(){var r=(0,a.Z)((function*(r,a){var o=[];if(t.map((e=>(i()(a(),["entryState","entryHashtagMap",e])||o.push(e),null))),!e||n()(o))return null;var s=o.join(",");try{if(o.length>1){var d=yield p(e,s);return(yield d.json()).data.map((t=>r(c(e,t.entryId,t.tagList)))),null}var l=o[0];return r(u(e,l)),null}catch(h){return r(g(e,s,h))}}));return ()}))},3625:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:);var a,o,i,s,n=r(3e4),d=r(66062),p=r(76955),l=(r(91938),r(55752)),c=r.n(l),u=r(29466),g=r.n(u),h=r(5663),v=r.n(h),b=r(66948),m=r(97175),f=r(55382),y=r.n(f),k=r(45525),I=r(77207),A=r(73614),S=r(62986),_=r(5563),w=r(47168),T=r(71202),C=r(31289),P=r(928),V=r(68858),N=r(50703),R=r(18043),Z=r(85969),q=r(59731),B=r(22698),x=r(51650),D=r(90425),U=r(10793),M=r(28869),E=r(69181),F=r(78615),G=r(26019),L=r.n(G),j=r(9609),H=r(6473),O=r(39846),z=r(30274),W=r(49995),Y=r(92696),$=r(11496),K=r(84596),Q=r(68396),J=r(89013),X=r(52359),ee="adcross",te="loading",re="none",ae="fallback";function oe(){return(oe=(0,d.Z)((function*(e){var{dispatch:t,getState:r,match:a,location:o}=e,{params:i,route:s}=a,{amebaId:n,entryId:d}=i,{pathname:p}=o,l=s.pageType;yield t((0,A.Rs)(n));var c=r().bloggerState,u=c.bloggerMap,g=c.blogMap,h=u[n]||{},v=g[h.blog]||{},b=h.attribute||{},m=b.isPremium,f=b.isShowAdUser,y=b.isTieup;if(!m&&!y&&f){var k=[];k.push(t((0,S.Pi)(v.blog_id))),k.push(t((0,C.O4)(p,l,i)));var _=(0,Y.ZS)(document.cookie);_&&k.push(t((0,$.Q_)(_))),d&&k.push(t((0,z.wq)(n,d)),t((0,W.Th)(n,d)));var{pid:T,options:V}=(0,j.T)(O.E);if(k.push(t((0,I.hx)(O.E,T,V))),yield Promise.all(k),(0,K.PY)(r())){yield t((0,P.cl)("sp"));var N=(0,Q.h)(r());yield t((0,w.w)(N))}else yield t((0,w.w)(!1)),yield t((0,w.i)(!0))}}))).apply(this,arguments)}var ie=(0,x.lB)(["match","location"])(a=(0,b.$j)(((e,t)=>{var{match:r,location:a}=t,{route:o,params:i}=r,{pathname:s}=a,n=o.pageType||"",{amebaId:d,entryId:p}=i,l=e.adcrossVideoState,u=e.adState,g=e.bloggerState,h=g.bloggerMap[d]||{},b=(g.blogMap[h.blog]||{}).ins_datetime||"",m=e.skinState,f=c()(m,["spSkinMap",h.blog,"mst_skin_code"],null),y=c()(h,["blog_genre","genre_code"],""),k=h.attribute||{},I=c()(u,["noAdMap",h.blog,(0,B.bT)(V.Z9.Infeed,n)],!1),A="enable"===c()(h,["advertise_dto","google_ad_sense"],"disable"),S="enable"===c()(h,["advertise_dto","google_ad_manager"],"disable"),_=(0,K.CB)(e),w=c()(u,["renderingInventoriesMap",s],{}),T=c()(w,[V.Z9.Infeed,"adx"],null),C=c()(w,["update"],0),P=c()(l,["adcrossVideoMap",O.E,"items","0"],{}),N={};if(!v()(P)){var{btn_title:R,hash:Z,id:q,service:x,target:D,vdo:U}=P,{code:M}=x||{},{url:E}=U||{},{url:F}=D||{};N={btnTitle:R,hash:Z,movieId:q,serviceCode:M,targetUrl:F,videoUrl:E}}var G=c()(l,["videoStatusMap","playLog"],{});return{adcrossAdData:N,amebaId:d,entryId:p,hashtag:c()(e,["entryState","entryHashtagMap",p],[]).map((),grapeshotCategory:c()(e,["gsCategoriesState","categoriesMap",p,"categories"],[]),bloggerAttribute:k,blogGenreCode:y,blogInsDatetime:b,blogSkinCode:f,dfpAdunit:T,dfpAdUnitUpdatedTime:C,hasBillboardPanel:_,isAdx:A,isGamEnabled:S,isGSCategoryFetched:!!c()(e,["gsCategoriesState","categoriesMap",p]),isNoAd:I,pageType:n,pathname:s,playLogMap:G}}),{resetVideoState:I.Ux,setTrackValue:I.Ky,trackAdcrossVideoClickRequest:I.Yz,trackAdcrossVideoEventRequest:I.Sp,trackAdcrossVideoInviewRequest:I.qb,trackAdcrossVideoPlayRequest:I.fH,trackViewLog:_.iG,collectSessionToRequest:T.mt})(a=(0,m.provideHooks)({done:)(a=(0,k.w1)(L())((i=o=class extends p.Component{static get defaultProps(){return{blogSkinCode:null,dfpAdunit:"",dfpContainerId:"blogInfeed",dfpSizeRule:[[306,130],[300,100],[320,100],"fluid"],isShowAdUser:!1,pathname:""}}constructor(e){super(e),this.state={render:te,pathname:"",skipDfp:!1},this.collectSessionToRequest=this.collectSessionToRequest.bind(this)}static getDerivedStateFromProps(e,t){var r={pathname:e.pathname};return""!==t.pathname&&t.pathname!==e.pathname&&t.render!==re?(r.render=te,r):e.bloggerAttribute.isShowAdUser?e.hasBillboardPanel?(r.render=re,r):e.dfpAdunit?t.skipDfp?v()(e.adcrossAdData)?(r.render=ae,r):(r.render=ee,r):(r.render="dfp",r):(r.render=te,r):(r.render=re,r)}shouldComponentUpdate(e,t){return this.props.amebaId!==e.amebaId||this.props.blogGenreCode!==e.blogGenreCode||this.props.hasBillboardPanel!==e.hasBillboardPanel||this.props.pageType!==e.pageType||this.props.resetVideoState!==e.resetVideoState||this.props.setTrackValue!==e.setTrackValue||this.props.trackAdcrossVideoClickRequest!==e.trackAdcrossVideoClickRequest||this.props.trackAdcrossVideoEventRequest!==e.trackAdcrossVideoEventRequest||this.props.trackAdcrossVideoInviewRequest!==e.trackAdcrossVideoInviewRequest||this.props.trackAdcrossVideoPlayRequest!==e.trackAdcrossVideoPlayRequest||this.props.isGamEnabled!==e.isGamEnabled||this.props.isGSCategoryFetched!==e.isGSCategoryFetched||this.props.trackViewLog!==e.trackViewLog||!g()(this.props.bloggerAttribute,e.bloggerAttribute)||this.state.render!==t.render||this.state.skipDfp!==t.skipDfp}nderLoadingBlock(){return(0,n.Z)(E.B,{className:y()(L().Block,L().BlockLoading)})}renderDfp(){var{amebaId:e,entryId:t,hashtag:r,grapeshotCategory:a,bloggerAttribute:o,pathname:i}=this.props,s=this.props.blogSkinCode||(0,Z.D)(this.props.blogInsDatetime,this.props.bloggerAttribute.isOfficial),d={adxOk:this.props.isAdx,pageType:"entry",skinCode:s,sp_ameba_id:e,genre_code:this.props.blogGenreCode,blog_entry_id:t,blogtag:r,gs_category:a};return(0,n.Z)("div",{className:L().Block},void 0,(0,n.Z)(U.f,{activate:["view"],bloggerAmebaId:this.props.amebaId,categoryId:"ad-type-dfp",pageId:this.props.pageType,sectionId:"infeed-ad",serviceId:this.props.bloggerAttribute.isOfficial?"official":"general",viewLogger:this.props.trackViewLog},void 0,(0,n.Z)(D.n,{adunit:this.props.dfpAdunit,adunitUpdatedTime:this.props.dfpAdUnitUpdatedTime,className:L().Ad,collectSessionToRequest:this.collectSessionToRequest,containerId:"".concat(this.props.dfpContainerId,"_").concat(i),criteoZoneId:(0,H.mW)(e,o.bloggerType,N.x),isSupportAmazon:!0,pathname:i,prebidParams:(0,H.lA)(e,o.bloggerType,N.x),sizeRule:this.props.dfpSizeRule,targetingParams:d,onNotFoundAd:)))}renderAdcross(){var{adcrossAdData:e,pageType:t,playLogMap:r}=this.props,{btnTitle:a,hash:o,movieId:i,serviceCode:s,targetUrl:d,videoUrl:p}=e,l=window.process.env.ADCROSS_MEASURE_DOMAIN;return(0,n.Z)("div",{className:y()(L().Block,L().AdcrossBlock)},void 0,(0,n.Z)("p",{className:L().SponsorName},void 0,"Sponsored by ".concat(a)),(0,n.Z)(M.Z,{hash:o,measDomain:l,trackInview:this.props.trackAdcrossVideoInviewRequest},void 0,(0,n.Z)(F.z,{hash:o,isAutoPlay:!0,isPlaysInline:!0,measDomain:l,movieId:Number(i),pageId:t,playLogMap:r,serviceCode:s,setTrackValue:this.props.setTrackValue,showProgress:!0,targetUrl:d,trackClick:this.props.trackAdcrossVideoClickRequest,trackEvent:this.props.trackAdcrossVideoEventRequest,trackPlay:this.props.trackAdcrossVideoPlayRequest,videoObj:{url:p},viewType:O.y})))}renderIMobile(){var e;if(!this.props.bloggerAttribute.isOfficial){var{asid:t,elementid:r}=X.c[V.Z9.Infeed];return(0,n.Z)(U.f,{activate:["view"],bloggerAmebaId:this.props.amebaId,categoryId:"ad-type-imobile",pageId:this.props.pageType,sectionId:"infeed-ad",serviceId:"general",viewLogger:this.props.trackViewLog},void 0,e||(e=(0,n.Z)(J.b,{asid:t,id:r})))}return null}render(){var{bloggerAttribute:e,entryId:t,isNoAd:r,hasBillboardPanel:a,isGamEnabled:o,isGSCategoryFetched:i}=this.props,{isPremium:d,isTieup:p}=e;if(d||p||r||a)return null;if(t&&!i)return null;var l=y()(L().Divider,R.$d);return o?this.state.render===te?(0,n.Z)("div",{className:l},void 0,this.renderLoadingBlock()):"dfp"===this.state.render?(0,n.Z)("div",{className:l},void 0,this.renderDfp()):this.state.render===ee?(0,n.Z)("div",{className:l},void 0,this.renderAdcross()):this.state.render===ae?(0,n.Z)("div",{className:l},void 0,(0,n.Z)("div",{className:y()(L().Block,L().NotFound)},void 0,s||(s=(0,n.Z)(q.Z,{})))):null:(0,n.Z)("div",{className:l},void 0,this.renderIMobile())}},o.displayName="SpAdInfeedEntryDetail",a=i))||a)||a)||a)||a},58560:(e,t,r)=>{var a=r(18300)(();a.push([e.id,'._16Ue5eq1{align-items:center;display:flex;justify-content:center;min-height:164px}._2BSl-Uv0{align-items:normal;flex-direction:column}._1xuj1P9M{margin-left:8px;margin-right:8px;overflow:hidden}._1bUvz6TG{text-align:center;width:100%}._EFNr6l7n{border-color:#e2e2e2;margin-bottom:1.5rem;padding:.5rem 0;position:relative;width:100%}.no-js ._EFNr6l7n{display:none}._EFNr6l7n:after,._EFNr6l7n:before{border-top:solid;border-top-color:inherit;border-top-width:1px;content:"";left:50%;margin-left:-44px;position:absolute;width:88px}._EFNr6l7n:before{top:0}._EFNr6l7n:after{bottom:0}._3LvgtrDh{margin:0 16px}._NB4C7PFe{color:rgba(8, 18, 26, 0.74);font-size:12px;margin-bottom:5px}',""]),a.locals={Block:"_16Ue5eq1",AdcrossBlock:"_2BSl-Uv0",BlockReady:"_1xuj1P9M",Ad:"_1bUvz6TG",Divider:"_EFNr6l7n",NotFound:"_3LvgtrDh",SponsorName:"_NB4C7PFe"},e.exports=a},26019:(e,t,r)=>{var a=r(58560),o=Object.assign||i=Object.defineProperty||"string"==typeof a&&(a=[[e.id,a,""]]),e.exports=function(e){var t=o({},e.locals||{});return i(t,"_",{value:),i(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(a)}}]);