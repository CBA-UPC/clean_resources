"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[4179],{86634:(e,a,s)=>{s.r(a),s.d(a,{default:()=>za});s(86277);var i=s(50959),t=s(82187),r=s.n(t),l=s(75802),n=s(69736),o=s(90779),c=s(54189),u=s(11317),d=s(85648),m=s(20580),g=s(86696),y=s(97922),h=s(81639),v=s(16118),p=s(91643),x=s(57986),L=s(64222),b=s(66713),k=s(38174);const j="o2TlnuNKxRO5RnB9BpHB",f="q0Ke_aAvTcc4dO4wCHQt",C="UlKUfS_GcROZmofuafOW",N="I5LORTI1u3A6VoUvRCBf",I="TS85Qkpioa31wR0p4kzT",A="yL1DLXBc05CR_ACv_NhA",R="k5kRkUyoz9znqg_SGOVQ";var P=s(97583),w=s(93421),T=s(82857),U=s(11401),S=s(58206),D=s(99909),E=s(11527);let O=function(e){return e.SMALL="small",e.LARGE="large",e}({});const B=e=>{let{art:a,disabled:s=!1,LinkComponent:i,name:t,size:n=O.SMALL,type:o,uri:c}=e;const m=a?[a]:[],g=n===O.SMALL?(0,P.R)(o):function(e){switch(e){case D.n.SINGLE:return d.ag.get("track-page.from-the-single");case D.n.EP:return d.ag.get("track-page.from-the-ep");case D.n.COMPILATION:return d.ag.get("track-page.from-the-compilation");case D.n.ALBUM:default:return d.ag.get("track-page.from-the-album")}}(o),y=(0,l.s0)();return(0,E.jsxs)("div",{className:r()(j,{[C]:n===O.SMALL,[f]:s}),children:[(0,E.jsx)("div",{className:N,children:(0,E.jsx)(w.O,{images:m,size:U.m$.SIZE_80,title:t,type:T.p.ALBUM})}),(0,E.jsxs)("div",{className:I,children:[(0,E.jsx)(S.D,{variant:n===O.SMALL?"mestoBold":"finale",children:g}),(0,E.jsx)(i,{to:c,children:(0,E.jsx)(S.D,{as:"div",className:A,variant:"balladBold",dir:"auto",children:t})})]}),(0,E.jsx)("div",{onClick:()=>{y((0,u.EC)(c).toURLPath(!0))},className:R})]})};var F=s(23255),M=s(22527),_=s(29673),G=(s(70054),s(70526));let Y=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const z=(e,a)=>{switch(a.type){case"LYRICS_LOADING":return{...e,[a.uri]:{status:Y.LOADING}};case"LYRICS_LOADED":return{...e,[a.uri]:{status:Y.LOADED,data:a.response}};case"LYRICS_ERROR":return{...e,[a.uri]:{status:Y.UNAVAILABLE}};default:return(0,G.U)(a,`Unhandled lyrics action with type: ${a.type}`)}};var K=s(13188),q=s(67204),V=s(71069);const $={status:Y.LOADING},H={status:Y.UNAVAILABLE},J=i.createContext(void 0),W=e=>{let{children:a,initialState:s={}}=e;const t=i.useReducer(z,s);return(0,E.jsx)(J.Provider,{value:t,children:a})},Z=e=>{let{uri:a,isAnonymous:s,imageForLyricsRequest:t,isPlayable:r}=e;const l=i.useContext(J);if(void 0===l)throw new Error("useTrackEntityLyrics must be used within a TrackEntityLyricsProvider");const[n,o]=l,c=a?n[a]:null;return(0,i.useEffect)((()=>{!c&&a&&(o({type:"LYRICS_LOADING",uri:a}),(async e=>{let{trackUri:a,api:s,imageForLyricsRequest:i,isPlayable:t}=e;if(!t)return{hasLyrics:!1};const r=(0,u.EC)(a);try{const e=await q.Zz.getTrackEntityLyrics(s||K.b.getInstance(),r.id,i||"");return{hasLyrics:!0,syncType:e.lyrics.syncType,lyrics:e.lyrics.lines,provider:e.lyrics.provider,providerDisplayName:e.lyrics.providerDisplayName,providerLyricsId:e.lyrics.providerLyricsId,isRtlLanguage:e.lyrics.isRtlLanguage}}catch(l){if(l instanceof V.m&&404===l.status)return{hasLyrics:!1};throw l}})({trackUri:a,imageForLyricsRequest:t,isPlayable:r}).then((e=>{o({type:"LYRICS_LOADED",uri:a,response:e})})).catch((()=>{o({type:"LYRICS_ERROR",uri:a})})))}),[o,t,r,c,a]),a&&(0,u.wj)(a)&&!s&&r?c||$:H};var Q=s(80626),X=s(5380),ee=s(8696),ae=s(43104),se=(s(75930),s(65484),s(35174),s(96241),s(94722)),ie=s(32793),te=s(52476);const re="oTRKhYD0MZlNPm66W3Tw",le="sc95MwPalcHwYGZ7j3xN",ne="zrCZCfYv4zZiB1HYv9i8",oe="RnlxIDmWcYTbbwNSJNjA",ce="SHkxfN1vy0wpRMP1hK7I",ue="COXBS6zLyyxKNYuEAzjZ",de="sR5IpdOUvoUGYKlC9Dk1",me="FHMr3WxshoYjZ7jd3YwI",ge="Evcwc4KM2tf9xrLbfB8B",ye="x4_dsi31Cx2SO1L0uYIj",he="euPDqfFEBILj9KHDNLC1",ve="x6FPRUKK40oDCPP7g6Ls",pe="k3SPcfaKewjfdYumDcGw",xe="t9C7vRiN1OSC9uWfJEr0",Le="Onv6dO4lntCzKUqYa8PE",be="vHNIIDpwcSLuHumlKDbY",ke=e=>{let{richTrack:a}=e;const{search:s}=(0,l.TH)(),t=(0,i.useCallback)((()=>new URLSearchParams(s.slice(1)).get("highlight")||""),[s])(),{tracklistRef:r}=(0,te.W)(),n=a.albumOfTrack,o=(0,ie.Y)((null==n?void 0:n.uri)||""),{usePlayContextItem:c}=(0,M.n)({uri:o},{featureIdentifier:"album"}),u=(0,i.useMemo)((()=>({items:[],totalCount:0})),[]);return n?(0,E.jsx)("div",{ref:r,className:de,children:(0,E.jsx)(se.L,{ariaLabel:n.name,nrTracks:n.tracks.totalCount,albumUri:n.uri,highlightUri:t,discs:u,usePlayContextItem:c,hasHeaderRow:!1})}):null};var je=s(38338),fe=s(57562),Ce=s(97013),Ne=s(22795),Ie=s(15842),Ae=s(66205),Re=s(66819),Pe=s(13734),we=s(9443);const Te=i.memo((function(e){let{uri:a,togglePlay:s,isPlaying:t,isActive:r,spec:l,logger:n,backgroundColor:o,name:c,isPlayable:u,albumUri:h,artists:v}=e;const p=(0,Pe.o)(),b=(0,we.k)(),[k,j]=(0,Ne.Z)(a),f=(0,i.useCallback)((async()=>{p({targetUri:a,intent:k?"unsave":"save",type:"click"});const e=l.saveButtonFactory();n.logInteraction(k?e.hitRemoveLike({itemNoLongerLiked:a}):e.hitLike({itemToBeLiked:a}));try{await j(!k)}catch{}}),[p,a,k,l,n,j]),C=(0,i.useCallback)((()=>{const e=(0,L.aK)({isPlaying:t,isActive:r,spec:l.playButtonFactory(),logger:n,uri:a});s({loggingParams:e})}),[r,t,n,l,s,a]),N=(0,i.useCallback)((()=>{n.logInteraction(l.contextButtonFactory().hitUiReveal())}),[n,l]),I=(0,Re.j)();return(0,E.jsx)(Ie.o,{backgroundColor:o,children:(0,E.jsxs)(Ae.F,{children:[(0,E.jsx)(y.rn,{children:(0,E.jsx)(x.$,{onClick:C,isPlaying:t,disabled:!u,size:I,uri:a})}),(0,E.jsx)(y.rn,{children:(0,E.jsx)(je.H,{isAdded:!!k,onClick:f,disabled:!b,size:I})}),(0,E.jsx)(fe.o,{uri:a,isFollowing:!!k,onFollow:f,size:I}),(0,E.jsx)(m.yj,{menu:(0,E.jsx)(g.$,{uri:a,albumUri:h,artists:v}),onShow:N,children:(0,E.jsx)(Ce.z,{label:d.ag.get("more.label.context",c),size:I})})]})})})),Ue="OH5mnpJIVCJozYM3raMt",Se="etw0slM6uVrCi5RR3iDi",De=e=>{let{padded:a,providerDisplayName:s}=e;return s?(0,E.jsx)(S.D,{as:"p",dir:"auto",variant:"finale",className:`${Ue} ${a?Se:""}`,children:d.ag.get("web-player.lyrics.providedBy",s)}):null},Ee=e=>{let{uri:a,imageForLyricsRequest:s,isPlayable:i}=e;const{data:t}=Z({uri:a,imageForLyricsRequest:s,isPlayable:i});return null!=t&&t.hasLyrics?(0,E.jsx)(De,{providerDisplayName:t.providerDisplayName}):null};var Oe=s(29132),Be=s(43286);const Fe="QhDsXG1Gmo7XmQWLggAO",Me="bZgWQj7UxvK8GYKWDA7N",_e="AW61P3tnW5cKJCWtbhFh",Ge=e=>{let{buttonText:a,onSecondaryButtonClick:s,onPrimaryButtonClick:i,secondaryButtonText:t,text:r}=e;return(0,E.jsxs)("div",{className:Fe,"data-testid":"static-activation-trigger",children:[(0,E.jsx)(n.x,{className:Me,variant:"bodyMediumBold",children:r}),(0,E.jsxs)("div",{className:_e,children:[(0,E.jsx)(o.o,{onClick:s,semanticColor:"textBase",children:t}),(0,E.jsx)(Be.D,{onClick:i,colorSet:"invertedLight",children:a})]})]})};var Ye=s(60046);const ze="T1nqQ4HEh3heHy4RCCKa",Ke="L8zjshPVgUMXyZR4FtOk",qe="YMn1FWcFmOz9osBrNvhF",Ve="Inbyq3TnvKDOJtcKFTDQ",$e="lWk5se4WETUOJwaEb8D6",He="i8DyQbWCmDV_8N5XGJQT",Je="t5WPFlGTY6GCd9UOFfLu",We="AGQ3wRyMVK1odq860qnT",Ze="ZX_r7uZgPgssaUplfpxT",Qe="qrqctaPu2XBpxsw23nPX",Xe="XnWidTagai3nQwMPxIMF";var ea=s(57944),aa=s(81995);let sa=function(e){return e.SMALL="small",e.LARGE="large",e}({});const ia=e=>{const{disabled:a,images:s,LinkComponent:i,name:t,size:n,uri:o,enableI18nRoutes:c,enableI18nAdditionalPages:m}=e,g=n===sa.SMALL,y=(0,l.s0)(),h=(0,u.EC)(o),v=null==h?void 0:h.type,p=d.ag.getLocaleForURLPath(),x=(0,ea.S9)({localeFeatureFlag:c,entityFeatureFlag:m,urlLocale:p,entity:v,type:"link"});return(0,E.jsxs)("div",{className:r()(Ke,{[qe]:a}),"data-testid":"track-artist-link-card",children:[(0,E.jsx)(w.O,{shape:w.K.CIRCLE,images:s,size:U.m$.SIZE_80,title:t,type:T.p.ARTIST}),(0,E.jsxs)("div",{className:r()($e,{[He]:g}),children:[(0,E.jsx)(S.D,{variant:"mestoBold",className:Ve,children:d.ag.get("card.tag.artist")}),(0,E.jsx)(i,{to:o,children:(0,E.jsx)(S.D,{as:"div",dir:"ltr",className:Je,variant:"balladBold",children:t})})]}),(0,E.jsx)("div",{onClick:()=>{const e=null==h?void 0:h.toURL(`/${aa.F0}${p}/`);if(h){const a=x?e:h.toURLPath(!0);y(a)}},className:We})]})},ta=e=>{let{size:a=sa.LARGE,disabled:s=!1,enableI18nRoutes:t,enableI18nAdditionalPages:l,...n}=e;const[c,u]=(0,i.useState)(!1),m=(0,i.useCallback)((()=>{u(!c)}),[c]),g=n.artists;return(0,E.jsxs)("div",{"data-testid":"track-artist-link-card-container",children:[(0,E.jsx)("div",{className:ze,children:g.map(((e,i)=>(0,E.jsx)("div",{className:r()({[Qe]:c&&i>5,[Ze]:i>5}),children:(0,E.jsx)(ia,{name:e.name,uri:e.uri,images:e.images,size:a,LinkComponent:n.LinkComponent,disabled:s,enableI18nRoutes:t,enableI18nAdditionalPages:l},e.id)},`${e.uri}-${i}`)))}),g.length>6&&(0,E.jsx)(o.o,{onClick:m,className:Xe,children:(0,E.jsx)(S.D,{as:"p",variant:"violaBold",children:c?d.ag.get("show_less"):d.ag.get("mwp.search.artists.all")})})]})};var ra=s(8509),la=s(75390);const na="EaTxqhHk6J4ecKHwpY5m",oa="dUQl9yd5x_1oWk4L0Ntm",ca="xt5C47eHPYNiriMJxGnC",ua=e=>{let{words:a,onObserve:s,lyricsInView:t}=e;const{ref:r,inView:l}=(0,la.YD)({threshold:0}),n=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{t||(n.current=!1)}),[t]),(0,i.useEffect)((()=>{n.current||l&&(s({text:a,outOfView:!1}),n.current=!0)}),[l,s,a]),(0,E.jsx)(S.D,{ref:r,as:"p",dir:"auto",variant:"ballad",className:ca,children:a})};var da=s(90171);const ma=e=>{let{data:a,eventSender:s,playbackId:t,uri:r}=e;const{lyrics:l=[],provider:n,providerLyricsId:o,syncType:c}=a,{ref:u,inView:m}=(0,la.YD)({threshold:0}),g=function(e){const{trackUri:a,provider:s,providerLyricsId:t,syncType:r,eventSender:l,playbackId:n}=e,o=(0,i.useRef)(null),[c,u]=(0,i.useState)(!1),[d,m]=(0,i.useState)(0),[g,y]=(0,i.useState)(!1),h=(0,i.useMemo)((()=>(0,da.N)({lyrics_format:"track-page",track_uri:a,provider:s,provider_lyrics_id:t,sync_type:r,playback_id:n})),[s,t,r,a,n]);return(0,i.useEffect)((()=>{u(!1),m(0),y(!1),o.current=null}),[a]),(0,i.useEffect)((()=>{c&&n&&u(!1)}),[n]),(0,i.useEffect)((()=>{c||d>=140&&g&&(null==l||l.send(h),u(!0))}),[d,c,h,l,g]),(0,i.useCallback)((e=>{const{text:a,outOfView:s}=e;a&&a.length>1&&(m((e=>e+a.length)),c||null!==o.current||(o.current=setTimeout((()=>{y(!0)}),1500))),s&&(o.current&&clearTimeout(o.current),o.current=null,m(0))}),[m,c])}({trackUri:r,provider:n,providerLyricsId:o,syncType:c,eventSender:s,playbackId:t});return(0,i.useEffect)((()=>{m||g({outOfView:!0})}),[m,g]),(0,E.jsxs)("div",{className:na,ref:u,children:[(0,E.jsx)(S.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:oa,children:d.ag.get("web-player.lyrics.title")}),l.map(((e,a)=>{let{words:s}=e;return(0,E.jsx)(ua,{onObserve:g,words:s,lyricsInView:m},`lyrics-seo-line-${a}`)}))]})};var ga=s(65019),ya=s(81912),ha=s(24071);const va=e=>{let{uri:a,imageForLyricsRequest:s,isPlayable:i}=e;const{data:t}=Z({uri:a,imageForLyricsRequest:s,isPlayable:i}),r=(0,ha.s4)(),{isPaused:l,currentTrackUri:n,playbackId:o}=(0,ga.Y)((e=>{var a;return{isPaused:null==e?void 0:e.isPaused,currentTrackUri:null==e||null===(a=e.item)||void 0===a?void 0:a.uri,playbackId:null==e?void 0:e.playbackId}}),ya.V),c=!l&&n===a;return t&&null!=t&&t.hasLyrics?(0,E.jsx)(ma,{data:t,uri:a,eventSender:r,playbackId:c?o:void 0}):null};var pa=s(71042),xa=s(87350);const La=e=>{const{albumArtists:a,columnCount:s,imageForLyricsRequest:t,isPlayable:l,uri:n}=e,o=s-2,c={"--column-count":s,"--left-column-end":o-2,"--right-column-start":o},{isAnonymous:u}=(0,Oe.v9)(xa.Gg),m=(0,we.k)(),{data:g,status:y}=Z({uri:n,isAnonymous:u,imageForLyricsRequest:t,isPlayable:l}),h=!!g&&g.hasLyrics&&y!==Y.UNAVAILABLE||u,v=(0,Oe.v9)(pa.br),p=(0,Oe.v9)(pa.yE);return(0,E.jsxs)(i.Suspense,{fallback:null,children:[h&&(0,E.jsx)("div",{className:r()(ne,{[oe]:s>5}),style:{...c},"data-testid":"lyrics-container",children:u?(0,E.jsx)(Ge,{buttonText:d.ag.get("sign_up"),secondaryButtonText:d.ag.get("login"),text:d.ag.get("track-page.sign-in-to-view-lyrics"),onPrimaryButtonClick:ra.L6,onSecondaryButtonClick:ra.h$}):(0,E.jsx)(va,{uri:n,imageForLyricsRequest:t,isPlayable:l})}),(0,E.jsx)("div",{className:r()(re,{[le]:s>5&&h}),style:{...c},children:(0,E.jsx)(ta,{artists:a,LinkComponent:Ye.default,disabled:!m,enableI18nRoutes:v,enableI18nAdditionalPages:p})})]})};var ba=s(41038),ka=s(9108),ja=s(45438),fa=s(73928),Ca=s(91991),Na=s(29770);const Ia=e=>{let{album:a,index:s,artistURI:i}=e;return(0,E.jsx)(ja.JL,{value:"card",index:s,children:(0,E.jsx)(Na.i,{index:s,latest:!1,showType:!0,...(0,Ca.B$)(a,i,a.name)})})};var Aa=s(70930);const Ra=e=>{let{albums:a,artistName:s,artistId:i,artistUri:t,className:r}=e;return a?(0,E.jsx)(ja.JL,{value:"shelf/albums",children:(0,E.jsx)(Aa.P,{total:a.totalCount,title:d.ag.get("rich-page.popular-albums-by-artist",{artist:s}),seeAllUri:`${(0,Ca.GJ)(i)}:discography:${fa.VZ.Album.toLowerCase()}`,seeAllLabel:d.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:r,children:(0,Ca.Hr)(a.items).map(((e,a)=>(0,E.jsx)(Ia,{album:e,index:a,artistURI:t},e.uri)))})}):null};var Pa=s(25959);const wa=e=>{let{artistId:a,className:s,fansAlsoLike:i,title:t}=e;return(0,E.jsx)(ja.JL,{value:"shelf/fans-also-like",children:(0,E.jsx)(Aa.P,{total:i.length,title:t??d.ag.get("rich-page.fans-also-like"),seeAllUri:`${(0,Ca.GJ)(a)}:related`,className:s,children:i.map(((e,a)=>{var s;return(0,E.jsx)(ja.JL,{value:"card",index:a,children:(0,E.jsx)(Pa.I,{index:a,uri:e.uri,name:e.profile.name,images:(null===(s=e.visuals.avatarImage)||void 0===s?void 0:s.sources)||[]})},e.uri)}))})})};var Ta=s(80548);const Ua="ERm7dIKbVoqGwPb_lXPH",Sa=e=>{let{artistName:a,artistUri:s,headerClassName:t,rowClassName:r,topTracks:l,topTracksTransformer:o,uri:c}=e;const u=(0,i.useMemo)((()=>null==l?void 0:l.items.map((e=>o(e,c)))),[null==l?void 0:l.items,o,c]),{usePlayContextItem:m}=(0,M.n)({uri:s},{featureIdentifier:"artist"});return u&&u.length>0?(0,E.jsxs)("div",{className:r,children:[(0,E.jsxs)("div",{children:[(0,E.jsx)(n.x,{variant:"bodySmall",className:Ua,children:d.ag.get("rich-page.popular-tracks")}),(0,E.jsx)(n.x,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:t,children:a})]}),(0,E.jsx)(Ta.k,{nrTracks:u.length,initialTracks:u,usePlayContextItem:m})]}):null},Da=e=>{let{artistName:a,artistId:s,artistUri:i,className:t,releases:r,artistImages:l}=e;return r?(0,E.jsx)(ja.JL,{value:"shelf/releases",children:(0,E.jsx)(Aa.P,{total:10,title:d.ag.get("rich-page.popular-releases-by-artist",{artist:a}),seeAllUri:`${(0,Ca.GJ)(s)}:discography:${fa.VZ.Album.toLowerCase()}`,seeAllLabel:d.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:t,listRowHeaderProps:l?{title:a,pretitle:d.ag.get("artist-page.popular"),media:(0,X.o)(l,{desiredSize:48})||""}:null,children:r.items.map(((e,a)=>(0,E.jsx)(Ia,{album:e,index:a,artistURI:i},e.uri)))})}):null},Ea=e=>{let{artistId:a,artistName:s,artistUri:i,className:t,singles:r}=e;return r?(0,E.jsx)(ja.JL,{value:"shelf/singles-and-eps",children:(0,E.jsx)(Aa.P,{total:r.totalCount,title:d.ag.get("rich-page.popular-singles-and-eps-by-artist",{artist:s}),seeAllUri:`${(0,Ca.GJ)(a)}:discography:${fa.VZ.Single.toLowerCase()}`,seeAllLabel:d.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:t,children:(0,Ca.Hr)(r.items).map(((e,a)=>(0,E.jsx)(Ia,{album:e,index:a,artistURI:i},e.uri)))})}):null};var Oa=s(62116),Ba=s(50540),Fa=s(13222),Ma=s(44059);const _a=e=>(e.items||[]).map((e=>{var a;return{name:e.profile.name,images:((null===(a=e.visuals.avatarImage)||void 0===a?void 0:a.sources)||[]).map((e=>({url:e.url,width:e.width,height:e.height}))),uri:e.uri,id:e.id}})),Ga=e=>(e||[]).map((e=>e.profile.name)),Ya=e=>{var a,s,t,l,u,p,j,f,C;let{uri:N,track:I}=e;const A=(0,we.k)(),R=(0,Ba.g)(),P=(0,Oa.k)({type:"locale",uri:N}),w=d.ag.getLocaleForTranslation(),U=parseInt(I.playcount||"0",10),{firstArtist:S,otherArtists:D,albumOfTrack:F,duration:G,name:Y}=I,z=null==F?void 0:F.coverArt,K=null==F?void 0:F.copyright.items,q=null==F?void 0:F.courtesyLine,{date:V,precision:$}=null!=F&&F.date?(0,ee.dR)(F.date):{date:void 0,precision:void 0},H=null==z||null===(a=z.extractedColors)||void 0===a?void 0:a.colorRaw.hex,J=((null==z?void 0:z.sources)||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),Z={uri:(null==F?void 0:F.uri)||"",name:(null==F?void 0:F.name)||""},se=Ga(S.items),te=Ga(D.items),re=_a(S),le=_a(D),ne=[...re,...le],oe=S.items[0],de=I.albumOfTrack,je=null==de||null===(s=de.playability)||void 0===s?void 0:s.playable,fe={artistId:null==oe?void 0:oe.id,artistName:null==oe||null===(t=oe.profile)||void 0===t?void 0:t.name,artistUri:null==oe?void 0:oe.uri},Ce=null===(l=I.albumOfTrack)||void 0===l||null===(l=l.coverArt)||void 0===l?void 0:l.sources,Ne=(0,X.o)(Ce||void 0,{desiredLabel:"large",desiredSize:600})??(null==Ce||null===(u=Ce[0])||void 0===u?void 0:u.url)??"",[Ie,Ae]=(0,i.useState)(!1),Re=(0,i.useCallback)((()=>{Ae(!Ie)}),[Ie]),Pe=D&&D.items.length>5,{spec:Ue,logger:Se}=(0,Q.fU)(c.createDesktopTrackEventFactory,{data:{uri:N}}),De=I.playability.playable,Oe=(0,ie.Y)(N),{togglePlay:Be,isPlaying:Fe,isActive:Me}=(0,M.n)({uri:Oe},{featureIdentifier:"track"}),_e=(0,i.useCallback)((()=>(0,_.Zs)({i18n:d.ag,trackArtistsList:[...se,...te].join(d.ag.getSeparator()),trackName:I.name,shouldLocalize:P})),[se,te,P,I.name]),Ge=(0,i.useCallback)(((e,a)=>{Se.logInteraction(Ue.headerFactory().artistLinkFactory({position:a.position,uri:a.creator.uri}).hitUiNavigate({destination:a.creator.uri}))}),[Se,Ue]),ze=(0,i.useCallback)((()=>{const e=(0,L.aK)({isPlaying:Fe,isActive:Me,spec:Ue.actionBarFactory().playButtonFactory(),logger:Se,uri:N});Be({loggingParams:e})}),[Me,Fe,Se,Ue,Be,N]),Ke=null==de?void 0:de.uri,qe=(0,i.useMemo)((()=>[...S.items,...D.items].map((e=>({uri:e.uri,name:e.profile.name})))),[S.items,D.items]),Ve=(0,E.jsx)(g.$,{uri:N,albumUri:Ke,artists:qe});return(0,E.jsxs)("section",{"data-testid":"track-page",children:[(0,E.jsx)(ba.$,{children:_e()}),(0,E.jsxs)(y.gF,{backgroundColor:H,children:[(0,E.jsxs)(h.W,{children:[(0,E.jsx)(x.$,{size:"medium",onClick:ze,disabled:!De,isPlaying:Fe,uri:N}),(0,E.jsx)(v.i,{text:Y,dragUri:N,dragLabel:Y})]}),(0,E.jsx)(m._P,{menu:Ve,children:(0,E.jsx)(y.Oz,{dragUri:N,images:J,name:Y,placeholderType:"album"})}),(0,E.jsxs)(y.sP,{children:[(0,E.jsx)(n.x,{variant:"bodySmallBold",children:d.ag.get("song")}),(0,E.jsx)(m._P,{menu:Ve,children:(0,E.jsx)(y.xd,{dragUri:N,dragLabel:Y,children:Y})}),(0,E.jsx)(y.QS,{creators:re,releaseDate:V,releaseDatePrecision:$,durationMilliseconds:G.totalMilliseconds,onCreatorClick:Ge,isTrack:!0,album:Z,playcount:U})]})]}),(0,E.jsx)(Te,{uri:N,togglePlay:Be,isPlaying:Fe,isActive:Me,spec:(0,i.useMemo)((()=>Ue.actionBarFactory()),[Ue]),logger:Se,backgroundColor:H,name:Y,isPlayable:De,albumUri:Ke,artists:qe}),(0,E.jsxs)(W,{children:[(0,E.jsxs)("div",{className:"contentSpacing",children:[(0,E.jsx)("div",{className:ce,children:(0,E.jsx)(k.T,{render:e=>{let{columnCount:a}=e;return(0,E.jsx)(La,{imageForLyricsRequest:Ne,albumArtists:ne,columnCount:a,uri:N,isPlayable:De})}})}),(0,E.jsx)(ka.y,{subtitle:d.ag.get("internal-link-recommender.based-on-this-song"),uri:I.uri,entityType:T.p.TRACK}),(0,E.jsx)(Sa,{artistName:oe.profile.name,artistUri:oe.uri,headerClassName:ge,rowClassName:ce,topTracks:oe.discography.topTracks,topTracksTransformer:Fa.X7,uri:I.uri}),(0,E.jsx)(Da,{className:me,releases:null==oe||null===(p=oe.discography)||void 0===p?void 0:p.popularReleasesAlbums,...fe}),(0,E.jsx)(Ra,{albums:null==oe||null===(j=oe.discography)||void 0===j?void 0:j.albums,className:me,...fe}),(0,E.jsx)(Ea,{className:me,singles:null==oe||null===(f=oe.discography)||void 0===f?void 0:f.singles,...fe}),D&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{className:he,children:D.items.map(((e,a)=>{var s;return(0,E.jsx)(Da,{className:r()(ye,{[pe]:a>4,[xe]:Ie&&a>4}),releases:e.discography.popularReleasesAlbums,artistName:e.profile.name,artistId:e.id,artistUri:e.uri,artistImages:null===(s=e.visuals.avatarImage)||void 0===s?void 0:s.sources},e.id)}))}),Pe&&(0,E.jsx)(o.o,{onClick:Re,className:Le,children:(0,E.jsx)(n.x,{as:"h2",variant:"bodySmallBold",children:Ie?d.ag.get("show_less"):d.ag.get("mwp.search.artists.all")})}),(0,E.jsx)(wa,{artistId:oe.id,className:r()(me,{[ve]:D.items.length>0}),fansAlsoLike:oe.relatedContent.relatedArtists.items,title:d.ag.get("artist-page.fansalsolike")})]}),de&&(0,E.jsx)(B,{art:null===(C=de.coverArt)||void 0===C?void 0:C.sources[0],disabled:!je||!A,LinkComponent:Ye.default,name:de.name,type:de.type,size:O.LARGE,uri:de.uri}),(0,E.jsx)(ke,{richTrack:I})]}),(0,E.jsx)("div",{className:"contentSpacing",children:(0,E.jsxs)("div",{className:ue,children:[V&&(0,E.jsx)(n.x,{as:"p",variant:"bodySmall",className:be,children:(0,ae.BI)((0,ae.RX)(V),w,{year:"numeric",month:"long",day:"numeric"},$)}),(0,E.jsx)(b.k,{copyrights:K||[],courtesyLine:q}),!R&&(0,E.jsx)(Ee,{uri:N,imageForLyricsRequest:Ne,isPlayable:De})]})})]})]})},za=(0,i.memo)((function(){var e,a;const{trackId:s=""}=(0,l.UO)(),i=(0,u.tn)(s).toURI(),t=(0,Ma.QN)({uri:i});return t.loading||t.error||"Track"!==(null===(e=t.data)||void 0===e||null===(e=e.trackUnion)||void 0===e?void 0:e.__typename)?(0,E.jsx)(p.h,{hasError:!t.loading,errorMessage:d.ag.get("track-page.error")}):(0,E.jsx)(F.fd,{surface:F.Tg.TRACK,uris:[i,(null===(a=t.data.trackUnion.albumOfTrack)||void 0===a?void 0:a.uri)??null],children:(0,E.jsx)(Ya,{uri:i,track:t.data.trackUnion})})}))}}]);
//# sourceMappingURL=xpui-routes-track-v2.e6c04d79.js.map