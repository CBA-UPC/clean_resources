/*! @license Firebase v4.1.3
Build: rev-1234895
Terms: https://firebase.google.com/terms/ */

try{webpackJsonpFirebase([1],[,,,,,function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var o,i={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key"},a=(o={},n(o,i.AVAILABLE_IN_WINDOW,"This method is available in a Window context."),n(o,i.AVAILABLE_IN_SW,"This method is available in a service worker context."),n(o,i.SHOULD_BE_INHERITED,"This method should be overriden by extended classes."),n(o,i.BAD_SENDER_ID,"Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp()."),n(o,i.PERMISSION_DEFAULT,"The required permissions were not granted and dismissed instead."),n(o,i.PERMISSION_BLOCKED,"The required permissions were not granted and blocked instead."),n(o,i.UNSUPPORTED_BROWSER,"This browser doesn't support the API's required to use the firebase SDK."),n(o,i.NOTIFICATIONS_BLOCKED,"Notifications have been blocked."),n(o,i.FAILED_DEFAULT_REGISTRATION,"We are unable to register the default service worker. {$browserErrorMessage}"),n(o,i.SW_REGISTRATION_EXPECTED,"A service worker registration was the expected input."),n(o,i.GET_SUBSCRIPTION_FAILED,"There was an error when trying to get any existing Push Subscriptions."),n(o,i.INVALID_SAVED_TOKEN,"Unable to access details of the saved token."),n(o,i.SW_REG_REDUNDANT,"The service worker being used for push was made redundant."),n(o,i.TOKEN_SUBSCRIBE_FAILED,"A problem occured while subscribing the user to FCM: {$message}"),n(o,i.TOKEN_SUBSCRIBE_NO_TOKEN,"FCM returned no token when subscribing the user to push."),n(o,i.TOKEN_SUBSCRIBE_NO_PUSH_SET,"FCM returned an invalid response when getting an FCM token."),n(o,i.USE_SW_BEFORE_GET_TOKEN,"You must call useServiceWorker() before calling getToken() to ensure your service worker is used."),n(o,i.INVALID_DELETE_TOKEN,"You must pass a valid token into deleteToken(), i.e. the token from getToken()."),n(o,i.DELETE_TOKEN_NOT_FOUND,"The deletion attempt for token could not be performed as the token was not found."),n(o,i.DELETE_SCOPE_NOT_FOUND,"The deletion attempt for service worker scope could not be performed as the scope was not found."),n(o,i.BG_HANDLER_FUNCTION_EXPECTED,"The input to setBackgroundMessageHandler() must be a function."),n(o,i.NO_WINDOW_CLIENT_TO_MSG,"An attempt was made to message a non-existant window client."),n(o,i.UNABLE_TO_RESUBSCRIBE,"There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}"),n(o,i.NO_FCM_TOKEN_FOR_RESUBSCRIBE,"Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit."),n(o,i.FAILED_TO_DELETE_TOKEN,"Unable to delete the currently saved token."),n(o,i.NO_SW_IN_REG,"Even though the service worker registration was successful, there was a problem accessing the service worker itself."),n(o,i.INCORRECT_GCM_SENDER_ID,"Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging."),n(o,i.BAD_SCOPE,"The service worker scope must be a string with at least one character."),n(o,i.BAD_VAPID_KEY,"The public VAPID key must be a string with at least one character."),n(o,i.BAD_SUBSCRIPTION,"The subscription must be a valid PushSubscription."),n(o,i.BAD_TOKEN,"The FCM Token used for storage / lookup was not a valid token string."),n(o,i.BAD_PUSH_SET,"The FCM push set used for storage / lookup was not not a valid push set string."),n(o,i.FAILED_DELETE_VAPID_KEY,"The VAPID key could not be deleted."),o);t.default={codes:i,map:a},e.exports=t.default},,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(9),s=r(5),u=n(s),c=r(36),f=n(c),l=r(20),_=n(l),d="messagingSenderId",h=function(){function e(t){var r=this;if(o(this,e),this.errorFactory_=new a.ErrorFactory("messaging","Messaging",u.default.map),!t.options[d]||"string"!=typeof t.options[d])throw this.errorFactory_.create(u.default.codes.BAD_SENDER_ID);this.messagingSenderId_=t.options[d],this.tokenManager_=new f.default,this.app=t,this.INTERNAL={},this.INTERNAL.delete=function(){return r.delete}}return i(e,[{key:"getToken",value:function(){var e=this,t=this.getNotificationPermission_();return t!==_.default.granted?t===_.default.denied?Promise.reject(this.errorFactory_.create(u.default.codes.NOTIFICATIONS_BLOCKED)):Promise.resolve(null):this.getSWRegistration_().then(function(t){return e.tokenManager_.getSavedToken(e.messagingSenderId_,t).then(function(r){return r||e.tokenManager_.createToken(e.messagingSenderId_,t)})})}},{key:"deleteToken",value:function(e){var t=this;return this.tokenManager_.deleteToken(e).then(function(){return t.getSWRegistration_().then(function(e){if(e)return e.pushManager.getSubscription()}).then(function(e){if(e)return e.unsubscribe()})})}},{key:"getSWRegistration_",value:function(){throw this.errorFactory_.create(u.default.codes.SHOULD_BE_INHERITED)}},{key:"requestPermission",value:function(){throw this.errorFactory_.create(u.default.codes.AVAILABLE_IN_WINDOW)}},{key:"useServiceWorker",value:function(){throw this.errorFactory_.create(u.default.codes.AVAILABLE_IN_WINDOW)}},{key:"onMessage",value:function(){throw this.errorFactory_.create(u.default.codes.AVAILABLE_IN_WINDOW)}},{key:"onTokenRefresh",value:function(){throw this.errorFactory_.create(u.default.codes.AVAILABLE_IN_WINDOW)}},{key:"setBackgroundMessageHandler",value:function(){throw this.errorFactory_.create(u.default.codes.AVAILABLE_IN_SW)}},{key:"delete",value:function(){this.tokenManager_.closeDatabase()}},{key:"getNotificationPermission_",value:function(){return Notification.permission}},{key:"getTokenManager",value:function(){return this.tokenManager_}}]),e}();t.default=h,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110],o={userVisibleOnly:!0,applicationServerKey:new Uint8Array(n)};t.default={ENDPOINT:"https://fcm.googleapis.com",APPLICATION_SERVER_KEY:n,SUBSCRIPTION_OPTIONS:o},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={granted:"granted",default:"default",denied:"denied"},e.exports=t.default},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var o={TYPE_OF_MSG:"firebase-messaging-msg-type",DATA:"firebase-messaging-msg-data"},i={PUSH_MSG_RECEIVED:"push-msg-received",NOTIFICATION_CLICKED:"notification-clicked"},a=function(e,t){var r;return r={},n(r,o.TYPE_OF_MSG,e),n(r,o.DATA,t),r};t.default={PARAMS:o,TYPES_OF_MSG:i,createNewMsg:a},e.exports=t.default},,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(18),l=n(f),_=r(5),d=n(_),h=r(21),E=n(h),p=r(19),g=n(p),T=function(e){function t(e){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return self.addEventListener("push",function(e){return r.onPush_(e)},!1),self.addEventListener("pushsubscriptionchange",function(e){return r.onSubChange_(e)},!1),self.addEventListener("notificationclick",function(e){return r.onNotificationClick_(e)},!1),r.bgMessageHandler_=null,r}return s(t,e),c(t,[{key:"onPush_",value:function(e){var t=this,r=void 0;try{r=e.data.json()}catch(e){return}var n=this.hasVisibleClients_().then(function(e){if(e){if(r.notification||t.bgMessageHandler_)return t.sendMessageToWindowClients_(r)}else{var n=t.getNotificationData_(r);if(n){var o=n.title||"";return self.registration.showNotification(o,n)}if(t.bgMessageHandler_)return t.bgMessageHandler_(r)}});e.waitUntil(n)}},{key:"onSubChange_",value:function(e){var t=this,r=this.getToken().then(function(e){if(!e)throw t.errorFactory_.create(d.default.codes.NO_FCM_TOKEN_FOR_RESUBSCRIBE);var r=null,n=t.getTokenManager();return n.getTokenDetailsFromToken(e).then(function(e){if(!(r=e))throw t.errorFactory_.create(d.default.codes.INVALID_SAVED_TOKEN);return self.registration.pushManager.subscribe(g.default.SUBSCRIPTION_OPTIONS)}).then(function(e){return n.subscribeToFCM(r.fcmSenderId,e,r.fcmPushSet)}).catch(function(e){return n.deleteToken(r.fcmToken).then(function(){throw t.errorFactory_.create(d.default.codes.UNABLE_TO_RESUBSCRIBE,{message:e})})})});e.waitUntil(r)}},{key:"onNotificationClick_",value:function(e){var t=this;if(e.notification&&e.notification.data&&e.notification.data.FCM_MSG){e.stopImmediatePropagation(),e.notification.close();var r=e.notification.data.FCM_MSG,n=r.notification.click_action;if(n){var o=this.getWindowClient_(n).then(function(e){return e||self.clients.openWindow(n)}).then(function(e){if(e){r.notification,delete r.notification;var n=E.default.createNewMsg(E.default.TYPES_OF_MSG.NOTIFICATION_CLICKED,r);return t.attemptToMessageClient_(e,n)}});e.waitUntil(o)}}}},{key:"getNotificationData_",value:function(e){if(e&&"object"===u(e.notification)){var t=Object.assign({},e.notification);return t.data=o({},"FCM_MSG",e),t}}},{key:"setBackgroundMessageHandler",value:function(e){if(e&&"function"!=typeof e)throw this.errorFactory_.create(d.default.codes.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler_=e}},{key:"getWindowClient_",value:function(e){var t=new URL(e).href;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){for(var r=null,n=0;n<e.length;n++){if(new URL(e[n].url).href===t){r=e[n];break}}if(r)return r.focus(),r})}},{key:"attemptToMessageClient_",value:function(e,t){var r=this;return new Promise(function(n,o){if(!e)return o(r.errorFactory_.create(d.default.codes.NO_WINDOW_CLIENT_TO_MSG));e.postMessage(t),n()})}},{key:"hasVisibleClients_",value:function(){return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){return e.some(function(e){return"visible"===e.visibilityState})})}},{key:"sendMessageToWindowClients_",value:function(e){var t=this;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(r){var n=E.default.createNewMsg(E.default.TYPES_OF_MSG.PUSH_MSG_RECEIVED,e);return Promise.all(r.map(function(e){return t.attemptToMessageClient_(e,n)}))})}},{key:"getSWRegistration_",value:function(){return Promise.resolve(self.registration)}}]),t}(l.default);t.default=T,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(n)},c=r(18),f=n(c),l=r(5),_=n(l),d=r(21),h=n(d),E=r(35),p=n(E),g=r(20),T=n(g),S=r(17),v=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.registrationToUse_,r.manifestCheckPromise_,r.messageObserver_=null,r.onMessage_=(0,S.createSubscribe)(function(e){r.messageObserver_=e}),r.tokenRefreshObserver_=null,r.onTokenRefresh_=(0,S.createSubscribe)(function(e){r.tokenRefreshObserver_=e}),r.setupSWMessageListener_(),r}return a(t,e),s(t,[{key:"getToken",value:function(){var e=this;return this.isSupported_()?this.manifestCheck_().then(function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getToken",e).call(e)}):Promise.reject(this.errorFactory_.create(_.default.codes.UNSUPPORTED_BROWSER))}},{key:"manifestCheck_",value:function(){var e=this;if(this.manifestCheckPromise_)return this.manifestCheckPromise_;var t=document.querySelector('link[rel="manifest"]');return this.manifestCheckPromise_=t?fetch(t.href).then(function(e){return e.json()}).catch(function(){return Promise.resolve()}).then(function(t){if(t&&t.gcm_sender_id&&"103953800507"!==t.gcm_sender_id)throw e.errorFactory_.create(_.default.codes.INCORRECT_GCM_SENDER_ID)}):Promise.resolve(),this.manifestCheckPromise_}},{key:"requestPermission",value:function(){var e=this;return Notification.permission===T.default.granted?Promise.resolve():new Promise(function(t,r){var n=function(n){return n===T.default.granted?t():r(n===T.default.denied?e.errorFactory_.create(_.default.codes.PERMISSION_BLOCKED):e.errorFactory_.create(_.default.codes.PERMISSION_DEFAULT))},o=Notification.requestPermission(function(e){o||n(e)});o&&o.then(n)})}},{key:"useServiceWorker",value:function(e){if(!(e instanceof ServiceWorkerRegistration))throw this.errorFactory_.create(_.default.codes.SW_REGISTRATION_EXPECTED);if(void 0!==this.registrationToUse_)throw this.errorFactory_.create(_.default.codes.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse_=e}},{key:"onMessage",value:function(e,t,r){return this.onMessage_(e,t,r)}},{key:"onTokenRefresh",value:function(e,t,r){return this.onTokenRefresh_(e,t,r)}},{key:"waitForRegistrationToActivate_",value:function(e){var t=this,r=e.installing||e.waiting||e.active;return new Promise(function(n,o){if(!r)return void o(t.errorFactory_.create(_.default.codes.NO_SW_IN_REG));if("activated"===r.state)return void n(e);if("redundant"===r.state)return void o(t.errorFactory_.create(_.default.codes.SW_REG_REDUNDANT));var i=function(){if("activated"===r.state)n(e);else{if("redundant"!==r.state)return;o(t.errorFactory_.create(_.default.codes.SW_REG_REDUNDANT))}r.removeEventListener("statechange",i)};r.addEventListener("statechange",i)})}},{key:"getSWRegistration_",value:function(){var e=this;return this.registrationToUse_?this.waitForRegistrationToActivate_(this.registrationToUse_):(this.registrationToUse_=null,navigator.serviceWorker.register(p.default.path,{scope:p.default.scope}).catch(function(t){throw e.errorFactory_.create(_.default.codes.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:t.message})}).then(function(t){return e.waitForRegistrationToActivate_(t).then(function(){return e.registrationToUse_=t,t.update(),t})}))}},{key:"setupSWMessageListener_",value:function(){var e=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(t){if(t.data&&t.data[h.default.PARAMS.TYPE_OF_MSG]){var r=t.data;switch(r[h.default.PARAMS.TYPE_OF_MSG]){case h.default.TYPES_OF_MSG.PUSH_MSG_RECEIVED:case h.default.TYPES_OF_MSG.NOTIFICATION_CLICKED:var n=r[h.default.PARAMS.DATA];e.messageObserver_.next(n)}}},!1)}},{key:"isSupported_",value:function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}}]),t}(f.default);t.default=v,e.exports=t.default},,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){e.INTERNAL.registerService("messaging",function(e){return self&&"ServiceWorkerGlobalScope"in self?new u.default(e):new a.default(e)},{Messaging:a.default})}Object.defineProperty(t,"__esModule",{value:!0}),t.registerMessaging=o;var i=r(29),a=n(i),s=r(28),u=n(s);o(n(r(4)).default)},function(e,t,r){"use strict";function n(e){var t=new Uint8Array(e);return window.btoa(String.fromCharCode.apply(null,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={path:"/firebase-messaging-sw.js",scope:"/firebase-cloud-messaging-push-scope"},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(9),s=r(5),u=n(s),c=r(34),f=n(c),l=r(19),_=n(l),d="fcm_token_object_Store",h=function(){function e(){o(this,e),this.errorFactory_=new a.ErrorFactory("messaging","Messaging",u.default.map),this.openDbPromise_=null}return i(e,[{key:"openDatabase_",value:function(){return this.openDbPromise_?this.openDbPromise_:(this.openDbPromise_=new Promise(function(e,t){var r=indexedDB.open("fcm_token_details_db",1);r.onerror=function(e){t(e.target.error)},r.onsuccess=function(t){e(t.target.result)},r.onupgradeneeded=function(e){var t=e.target.result,r=t.createObjectStore(d,{keyPath:"swScope"});r.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),r.createIndex("fcmToken","fcmToken",{unique:!0})}}),this.openDbPromise_)}},{key:"closeDatabase",value:function(){var e=this;return this.openDbPromise_?this.openDbPromise_.then(function(t){t.close(),e.openDbPromise_=null}):Promise.resolve()}},{key:"getTokenDetailsFromToken",value:function(e){return this.openDatabase_().then(function(t){return new Promise(function(r,n){var o=t.transaction([d]),i=o.objectStore(d),a=i.index("fcmToken"),s=a.get(e);s.onerror=function(e){n(e.target.error)},s.onsuccess=function(e){r(e.target.result)}})})}},{key:"getTokenDetailsFromSWScope_",value:function(e){return this.openDatabase_().then(function(t){return new Promise(function(r,n){var o=t.transaction([d]),i=o.objectStore(d),a=i.get(e);a.onerror=function(e){n(e.target.error)},a.onsuccess=function(e){r(e.target.result)}})})}},{key:"getAllTokenDetailsForSenderId_",value:function(e){return this.openDatabase_().then(function(t){return new Promise(function(r,n){var o=t.transaction([d]),i=o.objectStore(d),a=[],s=i.openCursor();s.onerror=function(e){n(e.target.error)},s.onsuccess=function(t){var n=t.target.result;n?(n.value.fcmSenderId===e&&a.push(n.value),n.continue()):r(a)}})})}},{key:"subscribeToFCM",value:function(e,t,r){var n=this,o=(0,f.default)(t.getKey("p256dh")),i=(0,f.default)(t.getKey("auth")),a="authorized_entity="+e+"&endpoint="+t.endpoint+"&encryption_key="+o+"&encryption_auth="+i;r&&(a+="&pushSet="+r);var s=new Headers;s.append("Content-Type","application/x-www-form-urlencoded");var c={method:"POST",headers:s,body:a};return fetch(_.default.ENDPOINT+"/fcm/connect/subscribe",c).then(function(e){return e.json()}).then(function(e){var t=e;if(t.error){var r=t.error.message;throw n.errorFactory_.create(u.default.codes.TOKEN_SUBSCRIBE_FAILED,{message:r})}if(!t.token)throw n.errorFactory_.create(u.default.codes.TOKEN_SUBSCRIBE_NO_TOKEN);if(!t.pushSet)throw n.errorFactory_.create(u.default.codes.TOKEN_SUBSCRIBE_NO_PUSH_SET);return{token:t.token,pushSet:t.pushSet}})}},{key:"isSameSubscription_",value:function(e,t){return e.endpoint===t.endpoint&&(0,f.default)(e.getKey("auth"))===t.auth&&(0,f.default)(e.getKey("p256dh"))===t.p256dh}},{key:"saveTokenDetails_",value:function(e,t,r,n,o){var i={swScope:t.scope,endpoint:r.endpoint,auth:(0,f.default)(r.getKey("auth")),p256dh:(0,f.default)(r.getKey("p256dh")),fcmToken:n,fcmPushSet:o,fcmSenderId:e};return this.openDatabase_().then(function(e){return new Promise(function(t,r){var n=e.transaction([d],"readwrite"),o=n.objectStore(d),a=o.put(i);a.onerror=function(e){r(e.target.error)},a.onsuccess=function(){t()}})})}},{key:"getSavedToken",value:function(e,t){var r=this;return t instanceof ServiceWorkerRegistration?"string"!=typeof e||0===e.length?Promise.reject(this.errorFactory_.create(u.default.codes.BAD_SENDER_ID)):this.getAllTokenDetailsForSenderId_(e).then(function(r){if(0!==r.length){var n=r.findIndex(function(r){return t.scope===r.swScope&&e===r.fcmSenderId});if(-1!==n)return r[n]}}).then(function(e){if(e)return t.pushManager.getSubscription().catch(function(){throw r.errorFactory_.create(u.default.codes.GET_SUBSCRIPTION_FAILED)}).then(function(t){if(t&&r.isSameSubscription_(t,e))return e.fcmToken})}):Promise.reject(this.errorFactory_.create(u.default.codes.SW_REGISTRATION_EXPECTED))}},{key:"createToken",value:function(e,t){var r=this;if("string"!=typeof e||0===e.length)return Promise.reject(this.errorFactory_.create(u.default.codes.BAD_SENDER_ID));if(!(t instanceof ServiceWorkerRegistration))return Promise.reject(this.errorFactory_.create(u.default.codes.SW_REGISTRATION_EXPECTED));var n=void 0,o=void 0;return t.pushManager.getSubscription().then(function(e){return e||t.pushManager.subscribe(_.default.SUBSCRIPTION_OPTIONS)}).then(function(t){return n=t,r.subscribeToFCM(e,n)}).then(function(i){return o=i,r.saveTokenDetails_(e,t,n,o.token,o.pushSet)}).then(function(){return o.token})}},{key:"deleteToken",value:function(e){var t=this;return"string"!=typeof e||0===e.length?Promise.reject(this.errorFactory_.create(u.default.codes.INVALID_DELETE_TOKEN)):this.getTokenDetailsFromToken(e).then(function(e){if(!e)throw t.errorFactory_.create(u.default.codes.DELETE_TOKEN_NOT_FOUND);return t.openDatabase_().then(function(r){return new Promise(function(n,o){var i=r.transaction([d],"readwrite"),a=i.objectStore(d),s=a.delete(e.swScope);s.onerror=function(e){o(e.target.error)},s.onsuccess=function(r){if(0===r.target.result)return void o(t.errorFactory_.create(u.default.codes.FAILED_TO_DELETE_TOKEN));n(e)}})})})}}]),e}();t.default=h,e.exports=t.default}],[33])}catch(e){throw new Error("Cannot instantiate firebase-messaging.js - be sure to load firebase-app.js first.")}
//# sourceMappingURL=firebase-messaging.js.maprentParams.has(pt)}getChannel(){return this.currentParams.get(pt)}appendChannel(e){this.currentParams.append(pt,e)}appendTimestamp(e){this.currentParams.append(mt,e)}updateURLWithChannel(e){this.hasChannel()?this.currentParams.set(pt,e):this.currentParams.append(pt,e),this.updateURLWithCurrentParams()}updateURLWithCurrentParams(){let e=`${location.origin}${location.pathname}`;const t=this.currentParams.toString();t&&(e+="?"+t),history.pushState({},"",e)}cleanURLParameters(){const e=this.getChannel(),t=this.getTimestamp();window.history.replaceState({},"",`${location.origin}${location.pathname}`),this.currentParams=new URLSearchParams(location.search),e&&this.appendChannel(e),e&&t&&this.appendTimestamp(t),this.updateURLWithCurrentParams()}restoreChannelAndTimestampParams(){const e=ti.getChannelOrTimestampParams();if(e)try{const{timestamp:t,channel:i}=JSON.parse(e);i&&this.appendChannel(i),t&&this.appendTimestamp(t),history.pushState({},"",`${location.origin}${location.pathname}?${this.currentParams.toString()}`)}catch(e){Ie()("Error restoring timestamp and channel params from URL:",e)}}handleChannelAndTimestampParams(){(this.hasChannel()||this.hasTimestamp())&&ti.saveChannelOrTimestampParams()}hasError(){return this.currentParams.has(vt)}getCode(){return this.currentParams.get(gt)}},ti=new class{openedProfileFromAppStorage(){var e;return null!==(e=localStorage.getItem("opened_profile"))&&void 0!==e&&e}saveOpenedProfileInAppStorage(){localStorage.setItem("opened_profile","true")}firstContactFromAppStorage(){var e;return null!==(e=localStorage.getItem("first_contact"))&&void 0!==e&&e}saveFirstContactInAppStorage(){localStorage.setItem("first_contact","false")}saveLastSeenGISReminderInAppStorage(e){localStorage.setItem("last_seen_gis_reminder",e)}saveChannelOrTimestampParams(){try{localStorage.setItem("saved_params",ei.getChannelAndTimestampParams())}catch(e){Ie()("AppStorage service: Can't set channel or timestamp params in locastorage",e)}}getChannelOrTimestampParams(){return localStorage.getItem("saved_params")}removeChannelOrTimestampParams(){localStorage.removeItem("saved_params")}getAudioDescriptionFromSessionStorage(){return sessionStorage.getItem("audio_description")}saveAudioDescriptionInSessionStorage(e){return sessionStorage.setItem("audio_description",e)}removeAudioDescriptionFromSessionStorage(){return sessionStorage.removeItem("audio_description")}getTwoChannelAudioFromSessionStorage(){return sessionStorage.getItem("two_channel_audio")}saveTwoChannelAudioInSessionStorage(e){return sessionStorage.setItem("two_channel_audio",e)}removeTwoChannelAudioFromSessionStorage(){return sessionStorage.removeItem("two_channel_audio")}getIsOEGSSelectedInSessionStorage(){return sessionStorage.getItem("is_oegs_selected")}saveIsOEGSSelectedInSessionStorage(e){return sessionStorage.setItem("is_oegs_selected",e)}removeOEGSSelectionsInSessionStorage(){sessionStorage.removeItem("is_oegs_selected")}},ii=new class{constructor(){!1!==bt.get("nurago_tracker.enabled",!1)?void 0!==window.gfkS2s&&Ie()("NuragoSSA3: Nurago tracker already initialized."):Ie()("NuragoSSA3: The nurago tracker is not enabled.")}init(){Et()}getClientId(){try{if("localStorage"in window&&null!==window.localStorage){const e="nurago";let t=JSON.parse(localStorage.getItem(e));return t||(t={}),t.client_id||(t.client_id=ft.a.v1(),localStorage.setItem(e,JSON.stringify(t))),t.client_id}return"wls_"+ft.a.v1()}catch(e){return"wls_"+ft.a.v1()}}},si=new class{constructor(){this.cookieName="___AdSkipActive",this.expiration=600}shouldSkipAd(){return document.cookie.split(";").some(e=>e.trim().startsWith(this.cookieName+"=true"))}adStarted(){document.cookie=`${this.cookieName}=true;max-age=${this.expiration};domain=.orf.at;path=/`}},ai=new class{isIPadDevice(){return navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2}isIOSDevice(){return(/iPad|iPhone|iPod/.test(navigator.userAgent)||this.isIPadDevice())&&!window.MSStream}isIOS15Device(){return/iPhone; CPU iPhone OS \d+_\d+/i.test(navigator.userAgent.toLowerCase())}isMobileDevice(){return/ip(ad|hone|od)|(android)|(webOS)/i.test(navigator.userAgent.toLowerCase())||this.isIOSDevice()}isFirefox(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}isEdgeBrowser(){const e=navigator.userAgent.toLowerCase().indexOf("edge")>-1,t=navigator.userAgent.toLowerCase().indexOf("edg/")>-1;return e||t}isSafariBrowser(){return!!window.navigator.userAgent.match(/Version\/[\d.]+.*Safari/)&&!this.isIOSDevice()}isResponsiveView(){return window.innerWidth<1024}isSmartphoneView(){return window.innerWidth<640}},ri=new class{constructor(){this.data=JSON.parse(JSON.stringify(St)),this.load()}load(){try{const e=localStorage.getItem("___PlayerSettings");if(null===e)throw new TypeError("saved settings are null");this.data=JSON.parse(e)}catch(e){this.data=JSON.parse(JSON.stringify(St))}}save(e){const t=Object.keys(e);for(let i=0;i<t.length;i++)Object.hasOwnProperty.call(this.data,t[i])&&(this.data[t[i]]=e[t[i]]);const i=JSON.stringify(this.data);localStorage.setItem("___PlayerSettings",i)}},ni=new class{constructor(){this.cookieName="___OldBrowserNotificationSkipActive"}shouldSkipOldBrowserNotification(){return document.cookie.split(";").some(e=>e.trim().startsWith(this.cookieName+"=true"))}getCookieExpireTime(){const e=new Date;return Object(at.addDays)(e,2)}oldBrowserNotificationShown(){document.cookie=`${this.cookieName}=true;expires=${this.getCookieExpireTime()};path=/`}},oi=new class{loadTimelineData(e){return $t(e)}loadEPG({channelToLoad:e,abortSignal:t,isUpdateRequest:i=!1}){return Wt({channelToLoad:e,abortSignal:t,isUpdateRequest:i})}},li="Wir bitten Sie, den Browser auf die neueste Version zu aktualisieren, um die TVthek optimal nutzen zu können.";var di=i(12),ci=i.n(di);const hi=({className:e,loading:t,loadingText:i})=>Ce.a.createElement("span",{className:ci()("b-orf-spinner",e,{visuallyhidden:!t,"is-visible":t}),role:"status"},t?i:"");hi.displayName="ORFSpinner",hi.defaultProps={loadingText:"Inhalte laden...",loading:!1,className:""};var ui=hi;const pi=({className:e,type:t,children:i,onClick:s,disabled:a,loadingText:r,loading:n,href:o,hasSpinner:l,ariaLabel:d,testID:c})=>{const h=Ce.a.createElement(Ce.a.Fragment,null,l&&Ce.a.createElement(ui,{className:"orf-button-spinner",loading:n,loadingText:r}),!n&&i);return Ce.a.createElement(({...e})=>o?Ce.a.createElement("a",{href:o,...e},h):Ce.a.createElement("button",{type:t,...e},h),{href:o,className:"b-orf-button "+e,onClick:s,type:t,disabled:a,"aria-label":d,"data-test-id":c})};pi.displayName="ORFButton",pi.defaultProps={className:"",children:"",loading:!1,loadingText:"",type:"button",onClick:()=>{},disabled:!1,hasSpinner:!1,href:"",ariaLabel:"",testID:"button"};var mi=pi,gi=i(684),vi=i.n(gi),yi=i(102);var fi=function(e){const t=Object(Le.useRef)(null);return Object(Le.useEffect)(()=>{const i=document.querySelector("#"+e),s=i||function(e){const t=document.createElement("div");return t.setAttribute("id",e),t}(e);var a;return i||(a=s,document.body.insertBefore(a,document.body.lastElementChild.nextElementSibling)),s.appendChild(t.current),function(){t.current.remove(),s.childElementCount||s.remove()}},[e]),t.current||(t.current=document.createElement("div")),t.current};const _i=({id:e,children:t})=>{const i=fi(e);return Object(yi.createPortal)(t,i)};_i.displayName="Portal";var bi=_i;const Ei=({bodyClassName:e,bodyTitle:t,buttons:i,children:s,className:a,closeElement:r,closeElementText:n,headerClassName:o,headerTitle:l,headerImage:d,showModal:c,onClose:h,testID:u})=>{const p=Object(Le.useRef)(),m=()=>{p.current.hasAttribute("open")&&p.current.close(),h()};Object(Le.useEffect)(()=>{p.current&&vi.a.registerDialog(p.current)},[]),Object(Le.useEffect)(()=>{c?p.current.showModal():p.current.hasAttribute("open")&&p.current.close()},[c]);const g="button"===r,v=g||i,y=g&&i,f=Ce.a.createElement("button",{type:"button",title:"Dialog schließen",className:ci()("orf-modal-close-"+r,{"has-buttons":y}),onClick:m,"aria-label":"Dialog schließen","data-test-id":"close-"+u},n||"Schließen");return Ce.a.createElement(bi,{id:"orf-modal"},Ce.a.createElement("dialog",{ref:p,className:"b-orf-modal u-orf-scrollbar",onClose:m,onKeyDown:e=>{if("Tab"!==e.key)return;const t=p.current.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),i=t[0],s=t[t.length-1];e.shiftKey&&document.activeElement===i?(s.focus(),e.preventDefault()):document.activeElement===s&&(i.focus(),e.preventDefault())},onClick:e=>{e.target===p.current&&m()},"data-test-id":u},Ce.a.createElement("div",{className:ci()("orf-modal-dialog",a),"data-test-id":u+"-dialog"},(l||d)&&Ce.a.createElement("div",{className:ci()("orf-modal-header",o,{"has-image":d})},l&&Ce.a.createElement(Ce.a.Fragment,null,Ce.a.createElement("h2",null,l),"icon"===r&&f),d&&Ce.a.createElement("img",{className:"orf-modal-header-img",src:d,alt:""})),Ce.a.createElement("div",{className:ci()("orf-modal-body u-orf-scrollbar",e,{"has-header":l||d})},t&&Ce.a.createElement("h2",{className:"orf-modal-body-title"},t),s,v&&Ce.a.createElement("div",{className:"orf-modal-buttons"},i,g&&f)))))};Ei.displayName="ORFModal",Ei.defaultProps={bodyClassName:"",bodyTitle:"",children:null,className:"",closeElement:"",closeElementText:"",headerClassName:"",headerTitle:"",headerImage:"",testID:"modal",buttons:null,onClose:()=>{}};var Si=Ei;const Pi=({icons:e,size:t,additionalClasses:i})=>Ce.a.createElement("span",{className:"b-program-icons",style:{"--icon-size":t}},e.length?e.map((e,t)=>Ce.a.createElement("svg",{key:`${e}-${t}`,className:"program-icons-icon "+i},Ce.a.createElement("use",{xlinkHref:"#"+e}))):"");Pi.displayName="ProgramIcons",Pi.defaultProps={size:1,additionalClasses:""};var Ti,Ai=Pi,wi=i(9),ki=i.n(wi),Ii=i(71),Li=(i(94),i(466),i(122),i(469),i(38),i(95),i(85),i(685)),Ci=i.n(Li);!function(e){e.DEFAULT="default",e.TVTHEK="tvthek",e.TIMESHIFT="timeshift"}(Ti||(Ti={}));var Di,Oi=Ti;!function(e){e.NONE="none",e.VOD="vod",e.LIVE="live",e.LIVE_RESTART="live-restart",e.TIMESHIFT="timeshift",e.AD="ad",e.BUMPER="bumper"}(Di||(Di={}));var xi=Di,Ni=i(253),Ri=i.n(Ni),Vi="initialized",Mi="bitmovinPlayerReady",Fi="playbackFinished",Bi="currentVideoChanged",ji="currentVideoStarted",Ui="timeshiftJumpToLiveEdge",Hi="timeshiftLiveEdgeChanged",qi="playStateChanged",zi="timeupdate",Gi="playerClosed",Wi="timeshiftError",$i="oegsSelectionChanged",Qi=new Ri.a,Ki=(e,t)=>{Qi.dispatchEvent(new CustomEvent(e,{detail:t}))},Yi=(e,t,i)=>{Qi.addEventListener(e,t,i)},Xi=(e,t,i)=>{Qi.removeEventListener(e,t,i)},Ji={currentTime:0,bufferedTime:0};Yi(zi,e=>{var{detail:t}=e;Ji.currentTime=t.currentTime,Ji.bufferedTime=t.bufferedTime});var Zi=Ie()("player:log"),es=Ie()("player:info"),ts=Ie()("player:warn"),is=Ie()("player:error"),ss=Ie()("player:debug");var as,rs=new class{log(){Zi(...arguments)}info(){es(...arguments)}warn(){ts(...arguments)}error(){is(...arguments)}debug(){ss(...arguments)}logWithPrefix(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];Ie()("player:"+e)(...i)}},ns=375,os=640,ls=2560,ds={mobileS:"(max-width: "+320+"px)",mobileM:"(max-width: "+ns+"px)",mobileL:"(max-width: "+425+"px)",tablet:"(max-width: "+os+"px)",laptop:"(max-width: "+1024+"px)",laptopL:"(max-width: "+1440+"px)",desktop:"(max-width: "+ls+"px)",desktopL:"(max-width: "+ls+"px)"};!function(e){e[e.ON_MOUSEOVER_UI_HIDE_AFTER=3e3]="ON_MOUSEOVER_UI_HIDE_AFTER",e[e.ON_MOUSEOUT_UI_HIDE_AFTER=1e3]="ON_MOUSEOUT_UI_HIDE_AFTER",e[e.ON_FOCUSOUT_UI_HIDE_AFTER=3e3]="ON_FOCUSOUT_UI_HIDE_AFTER",e[e.TITLE_FADEOUT_TIME=4e3]="TITLE_FADEOUT_TIME"}(as||(as={}));var cs,hs,us,ps,ms,gs=as,vs={initialState:{thumbnailRequest:{isActive:!1},thumbnail:{url:""},pausedByMouseDown:!1},actionsCreators:{progressBarMouseDown:(e,t)=>e.playingContentType===xi.AD?{}:(t.setShouldBePlaying(!0),{pausedByMouseDown:!0}),progressBarMouseUp:(e,t)=>e.playingContentType===xi.AD?{}:(t.setShouldBePlaying(!!e.pausedByMouseDown||e.shouldBePlaying),{pausedByMouseDown:!1}),progressBarMouseMove:(e,t,i,s)=>({thumbnailRequest:{isActive:!0,time:i,barWidth:s}}),progressBarMouseLeave:()=>({thumbnailRequest:{isActive:!1}})}};!function(e){e.VOD="vod",e.LIVE="live",e.PRE_ROLL="preroll",e.POST_ROLL="postroll",e.BUMPER="bumper"}(cs||(cs={})),function(e){e.CONTENT="VideoType::CONTENT",e.AD="VideoType::AD",e.BUMPER="VideoType::BUMPER"}(hs||(hs={})),function(e){e.SECOND_TRACK="mis",e.DEFAULT="de"}(us||(us={})),function(e){e.AUDIO_DESCRIPTION="audio_description",e.DEFAULT="default",e.TWO_CHANNEL_AUDIO="two_channel_audio"}(ps||(ps={})),function(e){e.SELECTED="selected",e.DESELECTED="deselected"}(ms||(ms={}));var ys="\n        font-size: 12px;\n        color: #f9de56;\n  ";function fs(e){if("string"!=typeof e.id||!e.id.length)throw new TypeError("expected adBreak.id to be a string");if("string"!=typeof e.position||!e.position.length)throw new TypeError("expected adBreak.position to be a string");if(!(e.tag instanceof Object))throw new TypeError("expected adBreak.tag to be instance of Object");if("vast"!==e.tag.type)throw new TypeError('expected adBreak.tag.type to be equal "vast"');if("string"!=typeof e.tag.url||!e.tag.url.length)throw new TypeError("expected adBreak.url.url to be a string")}function _s(e){if(!Object.values(xi).includes(e.type))throw new TypeError("expected playlistItem.type to be a valid contentType");if(!(e.hls||e.dash||e.progressive))throw new TypeError("expected playlistItem to have either hls, dash or progressive");e.adBreaks&&e.adBreaks.forEach(fs)}var bs,Es={initialState:{playerPlaylist:[],playerPlaylistPosition:0,playerSource:{hls:"",dash:"",progressive:"",type:xi.NONE},chapters:[],playerIsGapless:!0,playingContentType:xi.NONE,streamType:"",nextVideo:null,selectedAudioTrack:ps.DEFAULT,audioTrackPlaying:us.DEFAULT,isSecondAudioPreferred:!1},actionsCreators:{setChapters:(e,t,i)=>({chapters:i}),setChapterPosition(e,t,i){if("number"!=typeof i||Number.isNaN(Number(i)))throw new TypeError("expected chapterPosition to be of type number");if(!e.chapters[i])throw new TypeError("expected a chapter at index of chapterPosition");var s=e.chapters.slice(0,i).reduce((e,t)=>e+t.duration,0)/1e3;return e.playerIsGapless?t.playerSeek(s):t.playerSetPlaylistPosition(i),{}},playerSetSource:(e,t,i)=>(rs.info("%cState_playerSetSource",ys),_s(i),rs.info("%cState set:playingContentType",ys,i.type),{shouldBePlaying:!1,playerSource:i,playingContentType:i.type}),playerSetPlaylistPosition(e,t,i){rs.info("%cState_playerSetPlaylistPosition",ys);var s={playerPlaylistPosition:i};return e.playerPlaylist[i]&&(s.playerSource=e.playerPlaylist[i],s.playingContentType=e.playerPlaylist[i].type),s},playerClearPlaylist:()=>(rs.info("%cState_playerClearPlaylist",ys),{playerPlaylist:[],playerSource:{hls:"",dash:"",progressive:"",type:xi.NONE}}),playerAddItemToPlaylist:(e,t,i)=>(rs.info("%cState_playerAddItemToPlaylist",ys),_s(i),e.playerSource.type===xi.NONE&&t.playerSetSource(i),{playerPlaylist:[...e.playerPlaylist,i]}),playerSetPlaylist(e,t,i,s){void 0===i&&(i=[]),void 0===s&&(s=!0),rs.info("%cState_playerSetPlaylist",ys);for(var a=0;a<i.length;a++){_s(i[a])}return i.length&&t.playerSetSource(i[0]),{playerPlaylist:i,playerPlaylistPosition:0,playerIsGapless:s}},playerSourceEndReached(e,t){if(e.client===Oi.TIMESHIFT)return{};rs.info("%cState_playerSourceEndReached",ys);var i=e.playerPlaylistPosition+1;return(!e.playerIsGapless||e.playerPlaylist[i]&&[xi.LIVE,xi.LIVE_RESTART].includes(e.playerPlaylist[i].type))&&t.playerSetPlaylistPosition(i),t.setShouldBePlaying(!1),{isPlaying:!1}},playerAdStarted:()=>(rs.info("%cState_playerAdStarted",ys),rs.info("%cState set:playingContentType",ys,xi.AD),{playingContentType:xi.AD}),playerAdFinished:e=>(rs.info("%cState_playerAdFinished",ys),rs.info("%cState set:playingContentType",ys,e.playerSource.type),{playingContentType:e.playerSource.type}),setUHDSource:(e,t,i)=>(rs.info("%cState_setUHDSource",ys),{playerSource:Object.assign({},e.playerSource,i)}),setSelectedAudioTrack:(e,t,i)=>(rs.info("%cState_selectedAudioTrack",ys,i),{selectedAudioTrack:i}),setAudioTrackPlaying:(e,t,i)=>(rs.info("%cState_audioTrackPlaying",ys,i),{audioTrackPlaying:i}),setSecondAudioPreferred:(e,t,i)=>(rs.info("%cState_isSecondAudioPreferred",ys,i),{isSecondAudioPreferred:i})}},Ss="\n    font-size: 12px;\n    color: #673AB7;\n",Ps={normal:{id:"normal",label:"normal"},big:{id:"big",label:"big"},veryBig:{id:"veryBig",label:"veryBig"}},Ts=Object.values(Ps),As={initialState:{shouldChangeSubtitle:"off",currentSubtitle:"off",currentSubtitleCue:"",subtitleSize:Ps.normal.id,availableSubtitles:[],lastSubtitleCueEvent:null},actionsCreators:{toggleSubtitles:(e,t)=>(rs.info("%cState_toggleSubtitles",Ss),"off"===e.currentSubtitle?(e.availableSubtitles&&e.availableSubtitles.length&&t.setSubtitleTrack(e.availableSubtitles[0].id),{}):(t.setSubtitleCue(null),t.setSubtitleTrack("off"),{})),setSubtitleTrack:(e,t,i)=>(rs.info("%cState_setSubtitleTrack",Ss,i),{shouldChangeSubtitle:i}),setSubtitleSize:(e,t,i)=>(rs.info("%cState_setSubtitleSize",Ss,i),{subtitleSize:i}),setSubtitleCue(e,t,i){if(rs.info("%cState_setSubtitleCue",Ss,i),!i)return{currentSubtitleCue:"",lastSubtitleCueEvent:null};var{start:s,text:a}=i;return e.lastSubtitleCueEvent&&s===e.lastSubtitleCueEvent.start&&a===e.lastSubtitleCueEvent.text?{}:{currentSubtitleCue:a?e.currentSubtitleCue+"\n"+a:"",lastSubtitleCueEvent:i}}}};!function(e){e[e.UNSET=0]="UNSET",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED"}(bs||(bs={}));var ws=bs;function ks(e,t){return e.playerSetSource(function(e){return{adBreaks:[],dash:e.dash,hls:e.hls,type:xi.TIMESHIFT,duration:e.duration,videoId:e.id,videobumper:e.videobumper}}(t)),e.setTitle(t.title),{timeshiftCurrentVideo:t,timeshiftNextVideo:null,timeshiftShouldPlayNextVideo:!1,timeshiftCurrentVideoFinished:!1}}var Is={initialState:{timeshiftInitialVideo:null,timeshiftCurrentVideo:null,timeshiftNextVideo:null,timeshiftShouldPlayNextVideo:!1,timeshiftLiveOffset:0,timeshiftCurrentVideoFinished:!1,timeshiftIsLive:!1,timeshiftIsAtLiveEdge:!1,timeshiftShouldJumpToLiveEdge:!1,timeshiftShare:null,timeshiftPlaybackState:ws.UNSET,isPlayingBumper:!1,shouldPlayBumper:!0},actionsCreators:{setTimeshiftInitialVideo:(e,t,i)=>({timeshiftInitialVideo:i,timeshiftLiveOffset:0}),setTimeshiftNextVideo:(e,t,i)=>({timeshiftNextVideo:e.isPlayingBumper?e.timeshiftCurrentVideo:i}),startTimeshiftNextVideo:()=>({timeshiftShouldPlayNextVideo:!0}),setTimeshiftNextVideoStarted(e,t){var i=e.timeshiftShouldPlayNextVideo?e.timeshiftNextVideo:e.timeshiftInitialVideo,s=e.timeshiftCurrentVideo,a=ks(t,i);return null!=s&&s.isLive?Object.assign({},a,{timeshiftLiveOffset:e.timeshiftLiveOffset+e.timeshiftCurrentVideo.duration}):a},setTimeshiftCurrentTime(e,t,i,s){var a;return i>=(null==(a=e.timeshiftCurrentVideo)?void 0:a.duration)?(rs.log("--------------------\x3e live episode ended!"),t.setShouldBePlaying(!1),{timeshiftCurrentVideoFinished:!0}):{currentDuration:s}},setTimeshiftCurrentEpisodeFinished:(e,t,i)=>(void 0===i&&(i=!1),t.setShouldBePlaying(!1),{timeshiftCurrentVideoFinished:!0,shouldPlayBumper:i}),timeshiftRestartVideo:()=>({seekedTime:0,timeshiftIsAtLiveEdge:!1}),timeshiftJumpToLiveEdge:()=>({timeshiftShouldJumpToLiveEdge:!0}),timeshiftShareVideo:(e,t,i)=>({timeshiftShare:{time:i}}),unsetTimeshiftCurrentVideo:()=>({timeshiftCurrentVideo:null,timeshiftNextVideo:null,timeshiftShouldPlayNextVideo:!1}),setTimeshiftIsLive:(e,t,i)=>({timeshiftIsLive:i,timeshiftIsAtLiveEdge:!!i&&e.timeshiftIsAtLiveEdge}),setTimeshiftPlaybackState:(e,t,i)=>({timeshiftPlaybackState:i}),setTimeshiftShouldPlayBumper:(e,t,i)=>({shouldPlayBumper:i}),setTimeshiftIsPlayingBumper:(e,t,i)=>({isPlayingBumper:i})}};function Ls(e){var t=e.type||e.playingContentType;return[xi.LIVE,xi.VOD,xi.LIVE_RESTART,xi.TIMESHIFT].includes(t)}function Cs(e){var t;return(null==(t=e.playerSource)?void 0:t.type)===xi.LIVE}function Ds(e){var t,i;return(null==(t=e.ui)?void 0:t.restartLive)&&(null==(i=e.playerSource)?void 0:i.type)===xi.LIVE_RESTART}function Os(e){return-1!==e.seekedTime}function xs(e){return!Cs(e)&&!Ds(e)&&e.playingContentType!==xi.AD}function Ns(e){return e.client===Oi.TIMESHIFT}var Rs="\n        font-size: 12px;\n        color: #f9de56;\n  ";function Vs(e,t,i){if(e<t.currentDuration)rs.log("seeking: go to seek point",{seekedTime:e}),i.seek(e);else if(t.client===Oi.TIMESHIFT)if(t.timeshiftIsLive)rs.log("seeking: go to live edge",{seekedTime:e}),i.seek(t.currentDuration+1);else{rs.log("seeking: go to next episode",{seekedTime:e});i.setTimeshiftCurrentEpisodeFinished(!0)}else rs.log("seeking: end reached",{seekedTime:e}),i.playerSourceEndReached()}var Ms={initialState:{volume:ri.data.volume||80,restartLivestream:!1,seekedTime:-1,seekCount:0,segmentSeekedTime:-1,hasTranscript:!1,openTranscript:!1,isMuted:!1,isUhd:!1,shouldBeUhd:!1,requestedPositionIncrement:0,audioDescriptionAvailable:!1,twoChannelAudioAvailable:!1,isOEGSAvailable:!1,isOEGSSelected:!1},actionsCreators:{volumeSet:(e,t,i)=>(rs.info("%cState_volumeSet",Rs,i),ri.save({volume:i}),{volume:i}),volumeIncrease(e,t){var i=Math.min(e.volume+10,100);return t.volumeSet(i),{}},volumeDecrease(e,t){var i=Math.max(e.volume-10,0);return t.volumeSet(i),{}},volumeMute:()=>({volume:0,shouldBeMuted:!0}),volumeUnmute:()=>({volume:ri.data.volume,shouldBeMuted:!1}),seek:(e,t,i)=>(rs.info("%cState_seek",Rs,i),{seekedTime:i}),seekForward:(e,t)=>(rs.info("%cState_seekForward",Rs),Os(e)?{seekCount:e.seekCount+1}:(Vs(Ji.currentTime+10,e,t),{})),seekBackward(e,t){if(rs.info("%cState_seekBackward",Rs),Os(e))return{seekCount:e.seekCount-1};var i=Math.max(Ji.currentTime-10,0);return t.seek(i),{}},seekToPercent(e,t,i){rs.info("%cState_seekToPercent",Rs);var s=i/100;return Vs(Math.floor(e.currentDuration*s),e,t),{}},seekFinished(e,t){if(rs.info("%cState_seekFinished",Rs),0!==e.seekCount){var i=Ji.currentTime+10*e.seekCount;Vs(Math.max(i,0),e,t)}return t.resetSeekState(),{}},resetSeekState:()=>({seekCount:0,seekedTime:-1}),restartLivestream:()=>(rs.info("%cState_restartLivestream",Rs),{restartLivestream:!0}),restartedLivestream:()=>(rs.info("%cState_restartedLivestream",Rs),{restartLivestream:!1}),returnToLivestream:()=>(rs.info("%cState_returnToLivestream",Rs),{returnToLivestream:!0}),returnedToLivestream:()=>(rs.info("%cState_returnedToLivestream",Rs),{returnToLivestream:!1}),setHasTranscript:e=>(rs.info("%cState_setHasTranscript",Rs,e),{hasTranscript:e}),openTranscript:()=>(rs.info("%cState_openTranscript",Rs),{openTranscript:!0}),openedTranscript:()=>(rs.info("%cState_openedTranscript",Rs),{openTranscript:!1}),chapterForward:()=>(rs.info("%cState_chapterForward",Rs),{requestedPositionIncrement:1}),chapterBackward:()=>(rs.info("%cState_chapterBackward",Rs),{requestedPositionIncrement:-1}),toggleUHD:e=>(rs.info("%cState_toggleUHD",Rs),{shouldBeUhd:!e.isUhd}),setAudioDescriptionAvailable:(e,t,i)=>(rs.info("%cState_audioDescriptionAvailable",Rs,i),{audioDescriptionAvailable:i}),setTwoChannelAudioAvailable:(e,t,i)=>(rs.info("%cState_twoChannelAudioAvailable",Rs),{twoChannelAudioAvailable:i}),setIsOEGSAvailable:(e,t,i)=>(rs.info("%cState_isOEGSAvailable",Rs,i),{isOEGSAvailable:i}),setIsOEGSSelected:(e,t,i)=>(rs.info("%cState_isOEGSSelected",Rs,i),{isOEGSSelected:i})}},Fs="\n        font-size: 12px;\n        color: #f9de56;\n  ",Bs=-1;function js(e){var{autoplayNoteActive:t,playingContentType:i,isPlaying:s,largePlayButtonActive:a}=e;return i!==xi.LIVE_RESTART&&(i===xi.AD&&!s||(window.innerWidth<os||t||!s&&a))}var Us={initialState:Object.assign({},Es.initialState,vs.initialState,As.initialState,Ms.initialState,Is.initialState,{initialized:!1,bitmovinPlayerReady:!1,bitmovinPlayerData:null,client:Oi.DEFAULT,isLive:!1,originalDuration:0,currentDuration:0,currentTime:0,bufferedTime:60,isLoading:!0,isCurrentlyLive:!0,shouldBePlaying:!1,isPlaying:!1,shouldBeMuted:!1,isMuted:!1,isTitleActive:!1,currentPanel:{isActive:!1,type:""},isSettingsPopupVisible:!1,showPlayerUI:!1,shouldBeFullscreen:!1,isFullscreen:!1,subtitleActive:!0,autoplayBlocked:!1,autoplayBlockedTime:-1,autoplayNoteActive:!1,autoplayNoteUrl:"",largePlayButtonActive:!1,availableVideoQualities:[],shouldChangeVideoQuality:"adaptive",currentVideoQuality:"adaptive",availableAudioQualities:[],shouldChangeAudioQuality:"default",currentAudioQuality:"default",isAdSkipped:!1,adSkipAfter:0,adClicked:!1,isCastAvailable:!1,isCastStartRequested:!1,isCastStopRequested:!1,isCastStreaming:!1,shouldPlayNextVideo:!1,isLocked:!1}),actionsCreators:Object.assign({},Es.actionsCreators,vs.actionsCreators,As.actionsCreators,Ms.actionsCreators,Is.actionsCreators,{setInitialized:()=>(rs.info("%cState_initialized",Fs),Ki(Vi),{initialized:!0}),setBitmovinPlayerReady:()=>(rs.info("%cState_bitmovinPlayerReady",Fs),Ki(Mi),{bitmovinPlayerReady:!0}),setBitmovinPlayerData(e,t,i){if(rs.info("%cState_setBitmovinPlayerData",Fs),t.playerClearPlaylist(),!(i.config.hls||i.config.dash||i.config.progressive))return{bitmovinPlayerData:i};var s=null,a=null;i.modules.ads&&(s=i.modules.ads.find(e=>"pre"===e.position),a=i.modules.ads.find(e=>"post"===e.position));var r=[];i.config.bumper&&i.config.bumper.pre&&r.push({type:xi.BUMPER,hls:i.config.bumper.pre.hls||"",dash:i.config.bumper.pre.dash||"",progressive:i.config.bumper.pre.progressive||"",subtitles:[]});var n=xi.VOD;return i.ui.isLive?n=xi.LIVE:i.config.isTimeshift&&(n=xi.TIMESHIFT),r.push({type:n,hls:i.config.hls||"",dash:i.config.dash||"",progressive:i.config.progressive||"",subtitles:i.modules.subtitles||[]}),i.config.bumper&&i.config.bumper.post&&r.push({type:xi.BUMPER,hls:i.config.bumper.post.hls||"",dash:i.config.bumper.post.dash||"",progressive:i.config.bumper.post.progressive||"",subtitles:[]}),s&&(r[0].adBreaks=[s]),a&&(r[r.length-1].adBreaks=r[r.length-1].adBreaks||[],r[r.length-1].adBreaks.push(a)),rs.info("%cState addPlaylistItems",Fs,r),r.forEach(t.playerAddItemToPlaylist),{bitmovinPlayerData:i}},setAction(e,t,i,s){try{if(!Object.prototype.hasOwnProperty.call(e,s))throw"State_"+s+" is not defined";return"currentTime"!==s&&"bufferedTime"!==s&&rs.info("%cState_"+s+":",Fs,i),{[s]:i}}catch(e){return rs.error("ST-100: "+e),null}},setIsPlaying:(e,t,i)=>(rs.info("%cState_isPlaying: "+i,Fs),clearTimeout(Bs),i&&!e.currentPanel.isActive&&(Bs=setTimeout(t.onPlayerUITimeout,gs.ON_MOUSEOVER_UI_HIDE_AFTER)),{isPlaying:i,showPlayerUI:[xi.VOD,xi.LIVE,xi.TIMESHIFT].includes(e.playingContentType)&&!e.autoplayBlocked,largePlayButtonActive:!i&&e.largePlayButtonActive}),setShouldBePlaying:(e,t,i)=>e.playingContentType!==xi.LIVE_RESTART||i?{shouldBePlaying:i}:(rs.error("Pause is not allowed in restart mode."),{}),controlsClick:(e,t)=>(t.setPlayerUITimeout(gs.ON_MOUSEOVER_UI_HIDE_AFTER,"controlsClick"),[e.client===Oi.TIMESHIFT,e.playingContentType!==xi.AD,window.innerWidth<os].every(Boolean)?{}:e.currentPanel.isActive?(t.setAction({type:"",isActive:!1},"currentPanel"),{showPlayerUI:!0}):([xi.VOD,xi.LIVE,xi.TIMESHIFT].includes(e.playingContentType)&&t.setShouldBePlaying(!e.isPlaying),{showPlayerUI:!0,adClicked:e.playingContentType===xi.AD&&!0===e.isPlaying&&!e.autoplayBlocked})),controlsMouseEnter:(e,t)=>(clearTimeout(Bs),Bs=setTimeout(t.onPlayerUITimeout,gs.ON_MOUSEOVER_UI_HIDE_AFTER),{showPlayerUI:!e.autoplayBlocked,largePlayButtonActive:js(e)}),controlsMouseLeave:(e,t)=>(t.setPlayerUITimeout(gs.ON_MOUSEOUT_UI_HIDE_AFTER,"controlsMouseLeave"),{showPlayerUI:!e.autoplayBlocked,largePlayButtonActive:js(e)}),controlsMouseMove:(e,t)=>(t.setPlayerUITimeout(gs.ON_MOUSEOVER_UI_HIDE_AFTER,"controlsMouseMove"),{showPlayerUI:!e.autoplayBlocked,largePlayButtonActive:js(e)}),controlsPointerUp:(e,t)=>(t.setPlayerUITimeout(gs.ON_MOUSEOVER_UI_HIDE_AFTER,"controlsPointerUp"),{showPlayerUI:!e.autoplayBlocked,largePlayButtonActive:js(e),adClicked:window.innerWidth<os&&e.playingContentType===xi.AD&&!0===e.isPlaying}),onPlayerUITimeout:()=>({showPlayerUI:!1,largePlayButtonActive:!1}),onPlayerFocusIn:e=>(clearTimeout(Bs),{showPlayerUI:!e.autoplayBlocked}),onPlayerFocusOut:(e,t)=>(t.setPlayerUITimeout(gs.ON_FOCUSOUT_UI_HIDE_AFTER,"onPlayerFocusOut"),{}),setPlayerUITimeout:(e,t,i)=>(clearTimeout(Bs),e.isPlaying&&!e.currentPanel.isActive&&(Bs=setTimeout(t.onPlayerUITimeout,i)),{}),playerSeek:(e,t,i)=>(rs.info("%cState_playerSeek: "+i,Fs),e.playingContentType===xi.AD?{}:{seekedTime:i}),playerOnAutoPlayBlocked(e,t){var{seekedTime:i,segmentSeekedTime:s}=e,a={largePlayButtonActive:!0,isLoading:!1,autoplayBlocked:!0,autoplayBlockedTime:Math.max(i,s,0)};return ai.isFirefox()&&!ai.isSmartphoneView()?(a.autoplayNoteActive=!0,a.autoplayNoteUrl="https://support.mozilla.org/de/kb/automatische-tonwiedergabe-erlauben-bzw-blockieren"):ai.isSafariBrowser()&&!ai.isSmartphoneView()&&(a.autoplayNoteActive=!0,a.autoplayNoteUrl="https://support.apple.com/de-de/guide/safari/ibrw29c6ecf8/mac"),t.setShouldBePlaying(!1),a},playerOnAutoPlayRecover:(e,t)=>(t.setShouldBePlaying(!0),{autoplayNoteActive:!1,largePlayButtonActive:!1,autoplayBlocked:!1}),setTitle(e,t,i){var s=e.bitmovinPlayerData;return{bitmovinPlayerData:Object.assign({},s,{modules:Object.assign({},s.modules,{titles:{title:i,description:""}})})}},setLargePlayButtonActive:(e,t,i)=>({largePlayButtonActive:js(e)&&i}),debug:()=>({}),lockPlayer:(e,t,i)=>({isLocked:i})})},{Provider:Hs,connect:qs,actions:zs,getState:Gs}=Ci()(Us),Ws=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];var a=e=>i.reduce((t,i)=>{var[s,a]=i.split(":"),r=t;return r[a||i]=e[s],r},{});return qs(a)(e)};var $s={white:"#ffffff",black:"#232423",red:"#D0021B",yellow:"#f8ff00",brown:"#8c7f4d",gray:"#00000066",gray_translucid:"#58585b99",light_black:"#111111f2",dark_black:"#111111"};const Qs=ki.a.div`
    position: absolute;
    height: 2.5em;
    bottom: 0;
    left: 0;
    padding-left: 2.5em;
    color: ${$s.white};
    text-align: left;
    font-size: .8em;
    line-height: 2em;
    
    @media ${ds.tablet} {
        font-size: .7em;
        height: 2.2em;
        line-height: 1.6em;
        padding-left: 1.8em;
    }
`;var Ks=Ws(e=>{const[t,i]=Object(Le.useState)(0),s=Math.round(e.currentDuration-t),{t:a}=Object(Ii.useTranslation)("translation"),r=({detail:e})=>{i(e.currentTime)};return Object(Le.useEffect)(()=>(Yi(zi,r),()=>{Xi(zi,r)}),[]),Ce.a.createElement(Qs,null,a("videoStartsIn")," ",s," ",a("seconds"))},"isPlaying","playerSource","playingContentType","adSkipAfter","currentDuration","currentTime");const Ys=ki.a.div`
    position: absolute;
    width: 9em;
    height: 2.5em;
    bottom: 0;
    right: 0;
    margin: 1em 1.5em;
    background: ${$s.black};
    color: ${$s.yellow};
    text-align: center;
    line-height: 2.5em;
    cursor: pointer;
    transition: background-color .3s ease;
    
    &:hover {
        background: #1119;
    }
    
    @media ${ds.tablet} {
        font-size: .9em;
        width: 6em;
        height: 2.2em;
        line-height: 2.1;
        margin: .5em 1.5em;
    }
`;var Xs=Ws(e=>{const[t,i]=Object(Le.useState)(e.adSkipAfter);Object(Le.useEffect)(()=>{let s=null;return t&&e.isPlaying&&e.playingContentType===xi.AD?s=setInterval(()=>{i(t-1)},1e3):e.isPlaying||t===e.adSkipAfter||clearInterval(s),()=>clearInterval(s)},[e.isPlaying,t]);return Ce.a.createElement(Ys,{onClick:()=>{t||zs.setAction(!0,"isAdSkipped")}},t>0&&t,!t&&e.text)},"isPlaying","playerSource","playingContentType","adSkipAfter"),Js=(i(60),i(67));i(165),i(86);navigator.sayswho=()=>{var e=navigator.userAgent,t=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],i="";return/trident/i.test(t[1])?"IE-"+((i=/\brv[ :]+(\d+)/g.exec(e)||[])[1]||""):"Chrome"===t[1]&&null!=(i=e.match(/\b(OPR|Edge)\/(\d+)/))?i.slice(1).join("-").replace("OPR","Opera"):(t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(i=e.ma