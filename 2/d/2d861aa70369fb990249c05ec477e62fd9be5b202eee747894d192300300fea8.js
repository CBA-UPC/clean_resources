!{109:110:111:112:113:114:115:function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},116:117:118:119:120:121:function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},122:123:124:125:126:127:128:129:130:131:19:33:34:39:40:41:45:47:48:49:50:51:587:function(t,e,r){"use strict";r.r(e);var n=r(75);const o=new class{pen(t,e){console.log(`SocketMaster -> open: want to open "${t}"`),void 0===this.sockets[t]&&(this.sockets[t]={count:0,socket:null}),null===this.sockets[t].socket&&(console.log(`SocketMaster -> open: real open "${t}"`),this.sockets[t].socket=new n.a(e),this.sockets[t].socket.open()),this.sockets[t].count++,console.log("SocketMaster -> open: new count "+this.sockets[t].count)}close(t){console.log(`SocketMaster -> close: want to close "${t}"`),this.sockets[t].count--,console.log("SocketMaster -> close: new count "+this.sockets[t].count),this.sockets[t].count<1&&(console.log(`SocketMaster -> close: real close "${t}"`),this.sockets[t].count=0,this.sockets[t].socket.close(),this.sockets[t].socket=null)}send,i=new class{constructor({onMessage:t}){this.ports=[],this.onMessage=t}addPort(t){t.addEventListener("message",({data:t})=>this.onMessage(t,this.postToAll.bind(this))),t.start(),this.ports.push(t)}({onMessage({target:t,command:e,data:r},n){switch(console.log(`PortMaster -> onMessage: command "${e}" for target ${t}`),e){case"open":o.open(t,Object.assign(r,{onMessage:e=>{n({target:t,command:"message",data:e})},onRestore:e=>{n({target:t,command:"restore",data:e})},onBreak:()=>{n({target:t,command:"break",data:{}})},onError:e=>{n({target:t,command:"error",data:e})}}));break;case"send":o.send(t,r);break;case"close":o.close(t)}}});onconnect=function({ports:t}){const e=t[0];i.addPort(e)}},63:64:65:66:67:68:69:70:71:72:73:74:75:function(t,e,r){"use strict";r.d(e,"a",();var n=r(76),o=r.n(n);let i=null;const s={};function a(){if(null===i){const t=o()("wss://ws-sio.vc.ru/",{transports:["websocket"],reconnectionDelay:1e4,randomizationFactor:.618,reconnectionDelayMax:6e4});i=t.connect(),i.on("reconnect",()=>{for(const t in s)s[t]>0&&i.emit("subscribe",{channel:t})})}return i}class c{constructor({url:t,name:e="",auth:r={},onMessage:n}){if(""===e){if(!t.includes("wss://ws-sio.vc.ru/"))throw console.log("~~~~~~~~~~~~~~~~~~~~~~~~~"),console.log("Strange socket URL "+t),console.log("It should be something like wss://ws-sio.vc.ru/"),console.log("Please fix it or call Artem if you don't know what to do"),console.log("~~~~~~~~~~~~~~~~~~~~~~~~~"),new Error("Invalid socket URL, read above");e=t.replace("wss://ws-sio.vc.ru/","")}this.name=e,this.auth=r,this.handlers={onMessage:n},this.last_message_date=Date.now(),this.onMessage=this._onMessage.bind(this),this.log("create")}estroy(){this.log("destroy"),a().off("message",this.onMessage),void 0===s[this.name]&&(s[this.name]=0),s[this.name]>0&&s[this.name]--,this.log("decrease subscribers count to "+s[this.name]),0===s[this.name]&&(this.log("real unsubscribe"),a().emit("unsubscribe",{channel:this.name}))}send(t={}){this.log("send",t),a().emit("broadcast",{channel:this.name,data:t})}_onMessage({channel:t,data:e}){if(t===this.name){this.log("got a message",e);const t=Date.now();this.handlers.onMessage(e,{},t-this.last_message_date),this.last_message_date=Date.now()}}open(){var t;return this.log("connecting..."),a().on("event",this.onMessage),t=()=>{this.log("connected"),void 0===s[this.name]&&(s[this.name]=0);const t={channel:this.name};this.auth&&this.auth.time&&this.auth.hash&&(t.time=this.auth.time,t.hash=this.auth.hash),0===s[this.name]&&(this.log("real subscribe"),a().emit("subscribe",t)),s[this.name]++,this.log("increase subscribers count to "+s[this.name])},a().connected?t():a().once("connect",,this}},76:);