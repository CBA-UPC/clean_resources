/* FMM-TMS - 17/01/2024 08:38 - rfi-en */
var tmsVersion='4.7.2-c900f6';
var tms=function(e){"use strict";const t=(e=document.location.href)=>{const t=new URL(e);return Object.fromEntries(t.searchParams.entries())};let n={},o={};const a=e=>n[e]||!1,r=e=>o[e]&&o[e](n)||!1,i=e=>{o=e},s=(e,t)=>{o[e]=t},c=e=>{n=e};var l=Object.freeze({__proto__:null,getUrlVariables:t,get:a,is:r,setRuntimeHelpers:i,addRuntimeHelper:s,setData:c});const d={},u=e=>{if(e&&"string"!=typeof e)throw new Error(`List :: getValue :: key is not valid : ${e}`);return d[e]},p=e=>{if(e&&"string"!=typeof e)throw new Error(`List :: hasKey :: key is not valid : ${e}`);return!!d[e]},f=(e,t)=>{if("string"!=typeof e)throw new TypeError(`List :: addValue :: key is not valid : ${e}`);d[e]=t},g=/([\s+,/:;Â·â€”]+)/g,m=/^[\s_-]+|[\s_-]+$/g,v=/[!"#&'()*.[\]{}Â¡Â«Â»Â¿ØŒØŸâ€˜â€™â€œâ€â€¦â€§ã€ã€‚ã€ˆã€‰ã€Šã€‹ã€Œã€ã€Žã€ã€ã€‘ï¸³ï¸´ï¸½ï¸¾ï¸¿ï¹€ï¹ï¹‚ï¹ƒï¹„ï¹ï¼ï¼ˆï¼‰ï¼šï¼›ï¼Ÿï¼»ï¼½ï½ž]/g,_=/[\s-]+/g,h=e=>void 0===e||Boolean(e),b=e=>e.replaceAll(m,""),y=e=>e[0].toLocaleUpperCase()+e.slice(1),w=e=>b(e.toLocaleLowerCase().replaceAll(/_+/g,"_").replaceAll(g,"-").replaceAll(v,"").replaceAll(_,"-")),k=e=>w(e).replaceAll("_","-").replaceAll(_,"-"),C=(e,t,n)=>Object.keys(t).reduce(((e,n)=>e.replaceAll(new RegExp(n,"g"),t[n])),h(n)?k(e):e),A=(e,t)=>t.some((t=>e.includes(t))),P=e=>""===e?[]:e.split(","),x=(e,t,n)=>{if(e.toString().length>t)return e.toString();let o=e.toString();for(;o.length<t;)o=n.toString()+o;return o},$=e=>x(e,2,"0"),S=e=>e?Array.isArray(e)?e.map((e=>e.replaceAll("'",""))):e.replaceAll("'",""):e;var E={cleanChapterName:w,slugify:k,replaceAll:C,isFoundInArray:A,arrayFromString:P,lpad:x,addZero:$,cleanApostrophes:S,ucfirst:y,trim:b};const T=()=>{const e=window.navigator.language||navigator.userLanguage||"en";return/^fr|en|es|pt|ha|fa|sw|zh|km|ro|ru|uk|vi|ps|prs|bn|bm|ff/gi.test(e)?e:"en"},I=e=>e.replace(/f(rance)?(24-mcd-rfi|m(edias)?m(onde)?)/,"fmm").replace(/france24/,"f24").replace(/mc-doualiya/,"mcd");var O=(e,t=window)=>{const n=t.location,o=t.document.documentElement,a=t.screen,r=new Date;return{authors:[],canonical(){const e=new URL(n.href.replace(n.search,"").replace(n.hash,""));return/fastly/.test(e.host)&&(e.host=e.host.replace(".global.ssl.fastly.net","").replace("rfi","www.rfi.fr").replace("f24","www.france24.com")),e.href},cat1:()=>"homepage"===e("page_name")?"accueil":"",cat2:"",cat3:"",content_id:"",content_title:()=>document.title,content_type:"service",deeplink(){let t="";const o=e,a=`${o("site_brand")}://${o("site_locale")}/`,r=o("content_id");switch(o("content_type")){case"homepage":t=a;break;case"section":t=`${a}section/${n.pathname.replaceAll(/\/$/g,"").split("/").reverse()[0]}`;break;case"article":case"depeche":t=`${a}article/${r}`;break;case"video":case"edition":t=`${a}show/${r}`;break;case"emission":t=`${a}show_list/${r}`;break;case"tag":t=`${a}tag/${r}`;break;default:t=""}return t},device_orientation:()=>"orientation"in a&&"type"in a.orientation?a.orientation.type:"portrait-primary",device_type(){const e=t.innerWidth,n=t.innerHeight,o=navigator.userAgent.match(/android|blackberry|mobile|iphone|ipod|opera mini/i);let a=e<=1024&&e>=n&&e/n<2.4||n<=1024&&n>=e&&n/e<2.4?"tablette":"desktop";return(e<640&&n>=e&&n/e<2.4&&o||n<640&&e>=n&&e/n<2.4&&o)&&(a="mobile"),a},fb_locale:()=>({fr:"fr_FR",en:"en_US",ar:"ar_AR",es:"es_LA",pt:"pt_PT",br:"pt_BR",cn:"zh_CN",tw:"zh_TW",km:"km_KH",ha:"ha_NG",fa:"fa_IR",sw:"sw_KE",ma:"fr_FR",ff:"ff_NG",ps:"ps_AF",prs:"fa_IR",bn:"bn_IN",ro:"ro_RO",ru:"ru_RU",uk:"uk_UA",vi:"vi_VN"}[e("site_locale")]||"fr_FR"),http_code:200,language_level:[],main_media_type:"texte",page_name:"",publication_date:()=>`${r.getFullYear().toString()}-${$(r.getMonth()+1)}-${$(r.getDate())}`,publication_time:()=>`${$(r.getHours())}:${$(r.getMinutes())}:${$(r.getSeconds())}`,show:[],site_brand:(()=>{const e=n.hostname.split("."),t=e.reverse();let o=I(t[1]||"");return t.length>2&&"francaisfacile"===t[2]?o="fle":"fmm"===o&&n.pathname.includes("infomigrants")?o="infomigrants":"fmm"===o&&t.length>5&&/france24|rfi|mc-d/.test(t[5])?o=I(t[5]||""):"fastly"===o&&([o]=e),o})(),site_context:"interne",site_dir:()=>o.getAttribute("dir")||"ltr",site_env:(()=>{const e=n.host.match(/(priv|local|p(re)?pr|rec)/gi)||[];let o="prod";return e.length>0?[o]=e:/local/.test(t.tmsVersion)&&(o="local"),o})(),site_locale:()=>(o.dataset.locale||o.lang||T()).replaceAll(/bm/gi,"ma").replaceAll(/zh-hans/gi,"cn").replaceAll(/zh-hant/gi,"tw").replaceAll(/pt-br/gi,"br").slice(0,3).replaceAll(/-+$/g,""),site_medium:"",site_type(){const e=t.innerWidth,n=t.innerHeight,o=navigator.userAgent.match(/android|blackberry|mobile|iphone|ipod|opera mini/i);return e<640&&n>=e&&n/e<2.4&&o||n<640&&e>=n&&e/n<2.4&&o?"site-mobile":"site"},site_version:"1.0",special_event:"",supertag:[],tags:[],tms_version:t.tmsVersion}};const D=O(R),L=e=>{let t=a(e);if(null!=t&&t){if("object"==typeof t&&t.length>0){const e={name:[],name_clean:[],name_slug:[],id:[]},n=t=>{const n=t[0].replace("title","name");e[n]=e[n]||[],Array.isArray(t[1])?e[n].push(...t[1]):e[n].push(t[1])};for(let e=0,o=t.length;e<o;e+=1)Object.entries(t[e]).map((e=>n(e)));t=e}}else t="function"==typeof D[e]?D[e]():void 0!==D[e]&&D[e];return(t||""===t)&&f(e,t),t};function R(e){return void 0===e||""===e?(Object.keys(D).map((e=>L(e))),d):L(e)}const M=["site_context","site_brand","site_env","site_medium","site_version","tms_version"];var N=e=>p(e)&&A(e,M)?u(e):R(e),j=e=>{try{const t="content_type",n="page_name",o="site_brand",a="site_dir",r="site_env",i="site_type",s={homepage:()=>"homepage"===N(n),section:()=>"section"===N(t)&&"homepage"!==N(n),brand_content:()=>"object"==typeof N("brand_content"),article:()=>"article"===N(t),depeche:()=>"depeche"===N(t),emission:()=>"emission"===N(t),edition:()=>"edition"===N(t),live:()=>"service"===N(t)&&"direct"===N("cat1"),tag:()=>"tag"===N(t),service:()=>"service"===N(t),error:()=>"erreur"===N(t),iOS:()=>/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,desktop:()=>"site"===N(i),mobile:()=>"site-mobile"===N(i),embed:()=>/(embed|articles)\./.test(window.location.hostname),ia:()=>"ia"===N("site_medium"),f24:()=>"f24"===N(o),rfi:()=>"rfi"===N(o),mcd:()=>"mcd"===N(o),fle:()=>"fle"===N(o),obs:()=>N(o).includes("obs"),academie:()=>N(o).includes("academie"),rfi_musique:()=>N(o).includes("rfi-musique"),rfi_savoirs:()=>N(o).includes("rfi-savoirs"),graphics:()=>/(graphics|webdoc|static)\./.test(window.location.hostname),embedded_graphics:()=>!(!["service","infographie"].includes(N(t))||!document.querySelector(".t-content--static [data-graphics-type]")),ltr:()=>"ltr"===N(a),rtl:()=>"rtl"===N(a),ppr:()=>"prod"!==N(r),test:()=>"prod"!==N(r),mirror:()=>/fastly\./.test(window.location.hostname),save_data:()=>"connection"in navigator&&!0===navigator.connection.saveData,pwa:()=>["fullscreen","standalone","minimal-ui"].some((e=>window.matchMedia(`(display-mode: ${e})`).matches))||navigator.standalone||!1,offline:()=>!navigator.onLine};return e in s&&s[e]()}catch(t){return console.log("%c ERROR.TMS.IS ","background:#f00;color:#fff;line-height:20px;font-weight:bold;","IS - Critical error",{name:e,error:t}),!1}};const U=t().tms_debug||"0",H=e=>`background:#${e};color:#fff;line-height:20px;font-weight:bold;text-transform:uppercase;`;let B=0;const V=(e,t,...n)=>{console.log(`${B>0?"â”œ":"â”Œ"}â”€%c ${t} `,H(e),...n),B+=1},q=(e,...t)=>V("009900",e,...t),F=(e,...t)=>V("00BCD4",e,...t),z=(e,...t)=>V("FF0000",e,...t),Y=(e,...t)=>V("9900EE",e,...t),K=(e,t,...n)=>{let o=q;if(e.includes("error.")?o=z:e.includes("consent.")?o=Y:e.includes("abtest.")&&(o=F),j("ppr")||"1"===U){const a=[e,`${t}${n.length>0?"\nâ”‚ ":""}`];1===n.length?o(...a,n[0]):n.length>1?o(...a,{...n}):o(...a)}},W=(e,t,n,o="",a="",r="")=>{let i=`${t} - ${"init"===n&&""===o?"Init":o}`,s=""===r?"":`${r}.`;"prevented"===o&&(i=`${t} - GDPR - Consent prevented tag from action '${n}'`,s="consent.");const c=[`${s}tms.${"gdpr"===e?"":"tags."}${e}.${n}`,i];void 0!==a&&""!==a&&c.push(a),K(...c)},J=e=>{const t={b:N("site_brand"),l:N("site_locale"),s:N("site_version"),t:N("tms_version"),u:window.location.href+(e?"":"?xmlhttprequest=1"),r:document.referrer};e&&(V("0055BB",`${t.b} ${t.l}`,`vSite: ${t.s} - vTms: ${t.t}\nâ”‚  Â© ${(new Date).getFullYear()} Copyright France MÃ©dias Monde - All rights reserved`),V("009688","ðŸ’»","Join the team: https://fmm.io/jobs"));try{const e=`https://fmm.io/br?i=${encodeURIComponent(btoa(JSON.stringify(t)))}`;V("8B4513","ðŸ•·ï¸",`Report a bug: ${e}`)}catch{K("error.tms.log.openingLog","Log - Unable to create bug report URL")}},G=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){const t=(this.document||this.ownerDocument).querySelectorAll(e);let n=t.length;for(;--n>=0&&t.item(n)!==this;);return n>-1},Q=(e,t)=>G.call(e,t),Z={defer:"defer",type:"text/javascript"},X={rel:"stylesheet",type:"text/css"},ee=(e,t)=>({...t,...e}),te=(e,t=document)=>t.querySelectorAll(e),ne=(e,t)=>Array.prototype.filter.call(te(e),(e=>new RegExp(t).test(e.textContent))),oe=(e,t)=>[...e].filter((e=>Q(e,t))),ae=(e,t)=>(t.append(e),t.lastChild),re=(e,t)=>t.parentElement.insertBefore(e,t),ie=(e,t)=>t.firstChild?re(e,t.firstChild):ae(e,t.parentElement),se=(e,t)=>t.nextElementSibling?re(e,t.nextElementSibling):ae(e,t.parentElement),ce=e=>e.remove(),le=(e,t,n,o)=>{const a=document.createElement(e);return a.innerHTML=t,Object.keys(n||{}).forEach((e=>{a.setAttribute(e,n[e])})),Object.keys(o||{}).forEach((e=>{a[e]=o[e]})),a},de=(e,t,n,o)=>ae(le("script","",ee(t,Z),{src:e,onload:n,onerror:o}),document.head),ue=(e,t)=>ae(le("script",e,ee(t,Z)),document.head),pe=(e,t)=>ae(le("link","",ee(t,X),{href:e}),document.head),fe=(e,t)=>ae(le("style",e,ee(t,X)),document.head),ge=e=>e?(e.setAttribute("id",`tms-block-${Math.random().toString().slice(2)}`),e.id):(K("tms.dom.unifyBlock","Element is undefined"),""),me=(e,t)=>{let n,o=!1,a="meta",r="content";switch(e){case"link":a="link",n="rel",r="href";break;default:n=e}const i=te(`${a}[${n}="${t}"]`)[0];return i&&(o=i.getAttribute(r)),o};var ve={select:te,contains:ne,filter:oe,append:ae,before:re,prepend:ie,after:se,remove:ce,create:le,importScript:de,execute:ue,importStyle:pe,addStyle:fe,unifyBlock:ge,getMeta:me};const _e=(e,t,n)=>{const o=e=>{let{target:o}=e;for(;o.parentElement;o=o.parentElement)if(Q(o,t))return n(e,o);return!1};return window.addEventListener(e,o),o},he=(e,t)=>window.removeEventListener(e,t),be=(e,t)=>{let n;return(...o)=>{clearTimeout(n),n=setTimeout((()=>{e(...o)}),t)}};let ye=[],we=!1,ke=!1;function Ce(){if(!we){we=!0;for(let e=0,t=ye.length;e<t;e+=1)ye[e].fn.call(window,ye[e].ctx);ye=[]}}function Ae(){"complete"===document.readyState&&Ce()}function Pe(e,t){if("function"!=typeof e)throw new TypeError("callback for onDomReady(fn) must be a function");we?setTimeout((()=>{e(t)}),1):(ye.push({fn:e,ctx:t}),"complete"===document.readyState?setTimeout(Ce,1):ke||(document.addEventListener?(document.addEventListener("DOMContentLoaded",Ce,!1),window.addEventListener("load",Ce,!1)):(document.attachEvent("onreadystatechange",Ae),window.attachEvent("onload",Ce)),ke=!0))}const xe=e=>{const t=Date.now();return new Promise((function n(o,a){void 0!==window.PubSub?o():e&&Date.now()-t>=e?a(new Error("PubSub not available")):setTimeout(n.bind(this,o,a),100)}))},$e=e=>xe(1e4).then(e),Se=(e,t=(()=>{}),n="tms.event",o=!1)=>{$e((()=>window.PubSub["subscribe"+(o?"Once":"")](`${n}.${e}`,t))),"fov"===n&&$e((()=>window.PubSub["subscribe"+(o?"Once":"")](e,t)))},Ee=(e,t={},n="tms.event")=>{$e((()=>window.PubSub.publish(`${n}.${e}`,t))),$e((()=>window.PubSub.publish(e,t)))},Te={all:"navigation",init_env:"navigation.init_env",request:"navigation.request",finished:"navigation.request.finished",start:"navigation.request.start",process:"navigation.request.process",done:"navigation.request.finished.success",failed:"navigation.request.finished.failure"},Ie=()=>Ee(Te.done),Oe=e=>{window.addEventListener("beforeunload",e)},De=e=>Se(Te.done,e,"fov"),Le=e=>Se(Te.start,e,"fov"),Re=e=>Se(Te.process,e,"fov"),Me=e=>Se(Te.failed,e,"fov"),Ne=e=>Se(Te.finished,e,"fov"),je=e=>Se("pageDataRefreshed",e),Ue=e=>Se("render.mounted",e,"fov"),He=e=>Se("userJourneyRefreshed",e),Be=e=>Se("player.ready",e),Ve=e=>Se("player.action",e,"fov"),qe=e=>Se("player.state",e,"fov"),Fe=e=>Se("player.playlist",e,"fov"),ze=e=>Se("video_player.state",e,"fov"),Ye=e=>Se("ad.rendered",e),Ke=e=>Se("ad.seen",e),We=e=>Se("onBeforeAdsFilled",e),Je=e=>Se("onAfterAdsFilled",e),Ge=(e,t)=>{Se("gdpr.onConsentAvailable",e),K("consent.tms.event.onConsentAvailable",`Event - onConsentAvailable - Tag ${t} waiting for consent`,{cb:e})},Qe=e=>Se("gdpr.onConsentChanged",e),Ze=e=>Se("gdpr.onCmpReady",e);let Xe=[];const et=()=>{for(let e=0,t=Xe.length;e<t;e+=1)Xe[e].fn.call(window,Xe[e].ctx);Xe=[]},tt=e=>{"onLine"in navigator&&!navigator.onLine?Xe.push(e):e()},nt=e=>Se("online",e),ot=e=>Se("offline",e);window.addEventListener("offline",(()=>{K("tms.event.offline","Event - Offline - Internet connection lost"),Ee("offline")})),window.addEventListener("online",(()=>{K("tms.event.online",`Event - Online - Internet connection back online, running ${Xe.length} action${Xe.length>1?"s":""} waiting in queue`),Ee("online"),et()}));const at=e=>{window.addEventListener("scroll",be((t=>e(t)),1e3),{passive:!0})},rt=(e,t)=>{let n,o,a=1e3*e,r=!1;const i={resume:()=>{r||(n=Date.now(),o=setInterval(i.step,1e3),r=!0,K("tms.event.countdown.resume",`Event - Countdown - ${e}s countdown resumed`,{startTime:n,timer:o,seconds:e,onComplete:t}))},pause:()=>{r&&void 0!==o&&(a=i.step(),clearInterval(o),r=!1,K("tms.event.countdown.pause",`Event - Countdown - ${e}s countdown paused`,{milliseconds:a,timer:o,seconds:e,onComplete:t}))},step:()=>{const e=Math.max(0,a-(Date.now()-n));return 0===e&&void 0!==o&&(clearInterval(o),i.resume=()=>{},r=!1,t&&t()),e}};return K("tms.event.countdown",`Event - Countdown - Defined a ${e}s countdown`,{seconds:e,onComplete:t}),i},it=e=>{$e((()=>window.PubSub.unsubscribe(e)))};var st={pageLoaded:Ie,onPageLoaded:De,onPageLoading:Le,onPageProcessing:Re,onPageRequestFinished:Ne,onPageRequestFailed:Me,onPageDataRefreshed:je,onPageRenderMounted:Ue,onUserJourneyRefreshed:He,onAudioPlayerReady:Be,onAudioPlayerAction:Ve,onAudioPlayerStateChanged:qe,onAudioPlayerPlaylistChanged:Fe,onVideoPlayerStateChanged:ze,onAdRendered:Ye,onAdSeen:Ke,onBeforeAdsFilled:We,onAfterAdsFilled:Je,onConsentAvailable:Ge,onConsentChanged:Qe,onCmpReady:Ze,removeEventListener:it,bind:_e,unbind:he,debounceHandler:be,onDomReady:Pe,onPubSubReady:$e,pubSubSubscribe:Se,pubSubPublish:Ee,waitForOnline:tt,onOnline:nt,onOffline:ot,onScroll:at,countdown:rt};let ct;const lt=()=>{void 0!==ct?(c(ct.getData()),R(),K("tms.data.updateData",`Data - Data from provider ${ct.getName()} received and refreshed`)):K("error.tms.data.updateData","Data - Invalid data provider")},dt=e=>{void 0!==e?(ct=e,lt()):K("error.tms.data.init","Data - Invalid data provider")};De((()=>{lt(),Ee("pageDataRefreshed",d)}));var ut={list:d,...l,defaultValues:O(R),readVariable:N,refresh:R};const pt=(e,t,n,o,a,r,i)=>{let s="";if(n)switch(n.constructor){case Number:s=n===Number.POSITIVE_INFINITY?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":`; max-age=${n}`;break;case Date:s=`; expires=${n.toUTCString()}`;break;default:s=`; expires=${n}`}let c="; samesite=strict";return i&&"no_restriction"!==i.toString().toLowerCase()?"lax"===i.toString().toLowerCase()||1===Math.ceil(i)||!0===i?c="; samesite=lax":("none"===i.toString().toLowerCase()||i<0)&&(c="; samesite=none"):c="",`${encodeURIComponent(e)}=${encodeURIComponent(t)}${s}${a?`; domain=${a}`:""}${o?`; path=${o}`:""}${r?"; secure":""}${c}`},ft=/[*+.-]/g,gt=/^(?:expires|max-age|path|domain|secure|samesite|httponly)$/i,mt={getItem:e=>e&&decodeURIComponent(document.cookie.replace(new RegExp(`(?:(?:^|.*;)\\s*${encodeURIComponent(e).replaceAll(ft,"\\$&")}\\s*=\\s*([^;]*).*$)|^.*$`),"$1"))||void 0,setItem:(e,t,n,o,a,r,i)=>!(!e||gt.test(e))&&(document.cookie=pt(e,t,n,o,a,r,i),!0),removeItem(e,t,n,o,a){return!!this.hasItem(e)&&(document.cookie=pt(e,"","Thu, 01 Jan 1970 00:00:00 GMT",t,n,o,a),!0)},hasItem:e=>!(!e||gt.test(e))&&new RegExp(`(?:^|;\\s*)${encodeURIComponent(e).replaceAll(ft,"\\$&")}\\s*\\=`).test(document.cookie),keys(){const e=document.cookie.replaceAll(/((?:^|\s*;)[^=]+)(?=;|$)|^\s*|\s*(?:=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:=[^;]*)?;\s*/);for(let t=e.length,n=0;n<t;n+=1)e[n]=decodeURIComponent(e[n]);return e},clear(e,t,n,o){for(let a=this.keys(),r=a.length,i=0;i<r;i+=1)this.removeItem(a[i],e,t,n,o)}},vt={},_t=e=>{const n=t().fa||"0",o=t().da||"0";let a=mt.getItem("broadcast_da");return"1"!==n&&(!!("post-article"===e&&A("week-in-review",N("tags").name_slug||[])||j("brand_content")&&A(e,["post-article","yt-related"])||j("embedded_graphics"))||("0"!==o&&a!==o&&(mt.setItem("broadcast_da",o,999999999,"/",((e,t)=>{const n=window.location.host.split(".").reverse();return"."+n[1]+"."+n[0]})()),a="1"),"1"===a))},ht=(e,n=[0,100],o=!1,a=!1)=>{let r=!1,i="normal",s=Math.floor(100*Math.random());const c=t();return o&&mt.hasItem(`_tms_ab_${e}`)&&!a&&(i="cookie",s=Number.parseInt(mt.getItem(`_tms_ab_${e}`),10)),e in vt&&!a?(i="cache",s=vt[e]):`force_${e}`in c&&"1"===c[`force_${e}`]&&(i="url",s=(n[0]+n[1])/2),s>n[0]&&s<=n[1]&&(vt[e]=s,r=!0),o&&"url"!==i&&mt.setItem(`_tms_ab_${e}`,s,604800,"/"),K("abtest.tms.context.abTestResult",`A/B test - ${e} - CAN${r?"":"NOT"} RUN`,{canRun:r,reason:i,drawRandom:s,limits:n,storeInCookie:o}),r};var bt={adBlacklisted:_t,abTestResult:ht,check:j};class yt{getData(){throw new Error("Not implemented!")}getName(){throw new Error("Not implemented!")}}K("tms.data.provider","Data - Provider - Loading FOV data strategy");class wt extends yt{getData(){try{const e=JSON.parse(document.querySelector("#datalayer").innerHTML),t=window.location;if("canonical"in e&&"/"===e.canonical.slice(0,1)){const n=t.host.replace(".global.ssl.fastly.net","").replace("rfi","www.rfi.fr").replace("f24","www.france24.com");e.canonical=`${t.protocol}//${n}${e.canonical}`}return"content_type"in e&&"service"===e.content_type&&te("[data-graphics-type]").length>0&&(e.content_type="infographie",e.cat1="infographies",e.cat2=te("[data-graphics-type]")[0].dataset.graphicsType),e}catch(e){return K("error.tms.data.provider","Data - Provider - Error while loading FOV data strategy",e),{}}}getName(){return"FOV"}}var kt=new wt;const Ct="essential";window.pdl=window.pdl||{},window.pdl.requireConsent=!0,window.pdl.consent={defaultPreset:{PA:Ct}},window.pdl.consent_items={PA:{properties:{},events:{}}};const At=["langue","marque","code_http_erreur","perimetre_de_diffusion","site_version","tms_version","type_representation","site_level2","site_level2_id","url","ajax","type_article","titre_du_contenu","type_de_contenu","id_contenu","d:date_de_publication","supertag","id_supertag","emission","id_emission","emission_type","tags_array","tags_thema","ids_tags_thema","tags_auteurs","ids_tags_auteurs","niveau_langue","bc_advertiser","bc_advertiser_id"];for(let e=0,t=At.length;e<t;e+=1)window.pdl.consent_items.PA.properties[At[e]]=Ct;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Pt={exports:{}};Pt.exports,function(e,t){!function(e){var t={site:"",collectDomain:"",path:"event",visitorStorageMode:"fixed",storageLifetimeVisitor:395,storageLifetimeUser:395,storageLifetimePrivacy:395,privacyDefaultMode:"optin",sendEventWhenOptout:!0,isVisitorClientSide:!0,enableCallbacks:!0,cookieDomain:"",cookieSecure:!0,cookiePath:"/",cookieSameSite:"lax",encodeStorageBase64:!1,addEventURL:"withoutQS",clickAutoManagement:!0,enableUTMTracking:!0,campaignPrefix:["at_"],storageVisitor:"pa_vid",storageUser:"pa_user",version:"6.13.0",minHeartbeat:5,minBufferingHeartbeat:1,queueVarName:"_paq",globalVarName:"pa",enableAutomaticPageRefresh:!0,allowHighEntropyClientHints:!0,sendEmptyProperties:!0,enableExtendedOptout:!1,privacy:{storageKey:"pa_privacy",legacyKeys:{pa_vid:!0,pa_privacy:!0,atuserid:!0},storageKeys:{pa_user:!0},modes:{optin:{name:"optin",properties:{include:{visitor_privacy_consent:!0,visitor_privacy_mode:"optin"},allowed:{"*":{"*":!0}},forbidden:{"*":{}}},storage:{allowed:{"*":!0},forbidden:{}},events:{allowed:{"*":!0},forbidden:{}}},optout:{name:"optout",visitorId:"OPT-OUT",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"optout"},allowed:{"*":{}},forbidden:{"*":{}}},storage:{allowed:{pa_vid:!0,pa_privacy:!0},forbidden:{}},events:{allowed:{"*":!0},forbidden:{}}},"no-consent":{name:"no-consent",visitorId:"no-consent",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"no-consent"},allowed:{"*":{}},forbidden:{"*":{}}},storage:{allowed:{},forbidden:{"*":!0}},events:{allowed:{"*":!0},forbidden:{}}},"no-storage":{name:"no-storage",visitorId:"no-storage",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"no-storage"},allowed:{"*":{"*":!0}},forbidden:{"*":{}}},storage:{allowed:{},forbidden:{"*":!0}},events:{allowed:{"*":!0},forbidden:{}}},exempt:{name:"exempt",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"exempt"},allowed:{"*":{app_crash:!0,app_crash_class:!0,app_crash_screen:!0,app_version:!0,browser:!0,browser_cookie_acceptance:!0,browser_group:!0,browser_version:!0,click:!0,click_chapter1:!0,click_chapter2:!0,click_chapter3:!0,click_full_name:!0,connection_monitor:!0,connection_organisation:!0,cookie_creation_date:!0,date:!0,date_day:!0,date_daynumber:!0,date_month:!0,date_monthnumber:!0,date_week:!0,date_year:!0,date_yearofweek:!0,device_brand:!0,device_display_height:!0,device_display_width:!0,device_name:!0,device_name_tech:!0,device_screen_diagonal:!0,device_screen_height:!0,device_screen_width:!0,device_type:!0,event_collection_platform:!0,event_collection_version:!0,event_hour:!0,event_id:!0,event_minute:!0,event_position:!0,event_second:!0,event_time:!0,event_time_utc:!0,event_url:!0,event_url_domain:!0,event_url_full:!0,exclusion_cause:!0,exclusion_type:!0,geo_city:!0,geo_continent:!0,geo_country:!0,geo_metro:!0,geo_region:!0,goal_type:!0,hit_time_utc:!0,os:!0,os_group:!0,os_version:!0,os_version_name:!0,page:!0,page_chapter1:!0,page_chapter2:!0,page_chapter3:!0,page_duration:!0,page_full_name:!0,page_position:!0,page_title_html:!0,page_url:!0,pageview_id:!0,previous_url:!0,privacy_status:!0,site:!0,site_env:!0,site_id:!0,site_platform:!0,src:!0,src_detail:!0,src_direct_access:!0,src_organic:!0,src_organic_detail:!0,src_portal_domain:!0,src_portal_site:!0,src_portal_site_id:!0,src_portal_url:!0,src_referrer_site_domain:!0,src_referrer_site_url:!0,src_referrer_url:!0,src_se:!0,src_se_category:!0,src_se_country:!0,src_type:!0,src_url:!0,src_url_domain:!0,src_webmail:!0}},forbidden:{"*":{}}},storage:{allowed:{pa_vid:!0,pa_privacy:!0,atuserid:!0},forbidden:{}},events:{allowed:{"click.exit":!0,"click.navigation":!0,"click.download":!0,"click.action":!0,"page.display":!0},forbidden:{}}},"*":{properties:{allowed:{"*":{connection_type:!0,device_timestamp_utc:!0,visitor_privacy_consent:!0,visitor_privacy_mode:!0,"ch_ua*":!0}},forbidden:{"*":{}}},storage:{allowed:{},forbidden:{}},events:{allowed:{},forbidden:{}}}}}};function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function a(e,t){var n,a,r,i,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(s)return a=!(n=!0),{s:function(){s=s.call(e)},n:function(){var e=s.next();return n=e.done,e},e:function(e){a=!0,r=e},f:function(){try{n||null==s.return||s.return()}finally{if(a)throw r}}};if(Array.isArray(e)||(s=function(e,t){var n;if(e)return"string"==typeof e?o(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return s&&(e=s),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=function e(t,o){if("object"!==n(t)||null===t||t instanceof Date)return t;var a,r=new t.constructor;for(a in t)!Object.prototype.hasOwnProperty.call(t,a)||void 0===a||o&&void 0===t[a]||(r[a]=e(t[a]));return r},s={post:function(e,t){var n=!1;!(n=window.navigator&&"function"==typeof window.navigator.sendBeacon?window.navigator.sendBeacon(e,t):n)&&window.fetch&&window.fetch(e,{method:"POST",body:t,headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l={encodeURIComponent:window.encodeURIComponent,utf8:{encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):t=127<o&&o<2048?(t+=String.fromCharCode(o>>6|192))+String.fromCharCode(63&o|128):(t=(t+=String.fromCharCode(o>>12|224))+String.fromCharCode(o>>6&63|128))+String.fromCharCode(63&o|128)}return t},decode:function(e){var t,n,o,a="",r=0;for(t=0;r<e.length;)(o=e.charCodeAt(r))<128?(a+=String.fromCharCode(o),r++):191<o&&o<224?(t=e.charCodeAt(r+1),a+=String.fromCharCode((31&o)<<6|63&t),r+=2):(t=e.charCodeAt(r+1),n=e.charCodeAt(r+2),a+=String.fromCharCode((15&o)<<12|(63&t)<<6|63&n),r+=3);return a}},base64:{encode:function(e){var t,n,o,a,r,i,s="",d=0;for(e=l.utf8.encode(e);d<e.length;)o=(t=e.charCodeAt(d++))>>2,a=(3&t)<<4|(t=e.charCodeAt(d++))>>4,r=(15&t)<<2|(n=e.charCodeAt(d++))>>6,i=63&n,isNaN(t)?r=i=64:isNaN(n)&&(i=64),s=s+c.charAt(o)+c.charAt(a)+c.charAt(r)+c.charAt(i);return s},decode:function(e){var t,n,o,a,r,i,s="",d=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<e.length;)o=c.indexOf(e.charAt(d++)),t=(15&(a=c.indexOf(e.charAt(d++))))<<4|(r=c.indexOf(e.charAt(d++)))>>2,n=(3&r)<<6|(i=c.indexOf(e.charAt(d++))),s+=String.fromCharCode(o<<2|a>>4),64!=r&&(s+=String.fromCharCode(t)),64!=i&&(s+=String.fromCharCode(n));return l.utf8.decode(s)}}},d=(r=window.crypto||window.msCrypto,{v4:function(){try{if(null!==r&&"object"===n(r))return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^r.getRandomValues(new Uint32Array(1))[0]&15>>e/4).toString(16)}))}catch(e){console.error(e)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}});function u(e){var t=e;function n(e,n){null!==n&&""!==n&&void 0!==n&&(t[e]=n)}return{setConfiguration:n,setConfigurations:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n(t,e[t])},getConfiguration:function(e){return void 0!==t[e]?i(t[e]):null},cloneData:function(){return i(t)},deleteProperty:function(e){delete t[e]}}}function p(e){var t=[];return{push:function(n){t.push(n),1===t.length&&e[n[0]].apply(e,n.slice(1))},next:function(){var n;t.shift(),0<t.length&&e[(n=t[0])[0]].apply(e,n.slice(1))}}}function f(e,t,n){this.properties=i(e._properties),this.setProperty=function(t,n,o){e._privacy.call("isPropAllowed",t)&&(this.properties[t]={value:n,options:o||{}})},this.hasProperty=function(e){return Object.prototype.hasOwnProperty.call(this.properties,e)},this.getConfiguration=n.getConfiguration,this.setConfiguration=n.setConfiguration,this.options=t.options||{},this.visitorId=null,this.build={url:"",data:{}},this.events=t.events||[]}function g(e,t,n,o){!1!==o&&0<n.length&&"function"==typeof n[0]?n[0](e,t,n.slice(1)):e._queue.next()}function m(e,t,n){var o=(a=t.getConfiguration("collectDomain")).startsWith("https://")||a.startsWith("http://")?"":"https://",a=(o="".concat(o).concat(a,"/").concat(t.getConfiguration("path")),"?s=".concat(t.getConfiguration("site")).concat(t.visitorId?"&idclient="+t.visitorId:""));t.build.url=o+a,t.build.data={events:t.events},g(e,t,n)}function v(e,t,n,o,a){var r,i=function(e,t,n){for(var o={},a=new RegExp("[&#?]{1}([^&=#?]*)=([^&#]*)?","g"),r=a.exec(t);null!==r;)0===r[1].indexOf(e)&&(o[n+r[1].substring(e.length)]=window.decodeURIComponent(r[2])),r=a.exec(t);return o}(o,n,a),s=!1;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&!t.properties[r]&&t.setProperty(r,i[r],{persistent:!0}),s=!0;return s}function _(e,t,n){var o,r=document.location.href,i=a(t.getConfiguration("campaignPrefix"));try{for(i.s();!(o=i.n()).done&&!v(0,t,r,o.value,"src_"););}catch(e){i.e(e)}finally{i.f()}t.getConfiguration("enableUTMTracking")&&v(0,t,r,"utm_","utm_"),g(e,t,n)}function h(e){return 0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),w(e)}var b,y=function(e){function t(e){e&&o.setDate(o.getDate()+e)}var n,o=new Date;return e instanceof Date?o=e:"number"==typeof e?t(e):(n=e.days,e=e.minutes,t(n),e&&o.setMinutes(o.getMinutes()+e)),o},w=function(e){e=e.replace(/\+/g," ").replace(/^\s+|\s+$/g,"");try{return decodeURIComponent(e)}catch(t){return e}},k=(b="_cookie_test",{set:A,get:x,getNames:function(){var e=[];return P((function(t){e.push(t)})),e},remove:$,getTopLevelDomain:function(e){void 0===e&&(e=[]);var t=window.location.hostname.split("."),n=(new Date).getTime().toString(36)+Math.round(2147483647*Math.random()).toString(36),o=new Date;o.setSeconds(o.getSeconds()+30);for(var a=0;a<t.length;a++)try{var r=t.slice(-(a+1)).join(".");if(!e.includes(r)){A(b,n,{expires:o,path:"/",domain:r});var i=x(b)===n;if($(b,{path:"/",domain:r}),i)return r}}catch(e){}},__private__:{_generateCookieString:C}});function C(e,t,n){var o=(n=void 0===n?{}:n).path,a=n.domain,r=n.expires,i=n.secure,s=n.samesite;return((n=n.raw)?e:encodeURIComponent(e))+"="+(n?t:encodeURIComponent(t))+(r?"; expires=".concat(y(r).toUTCString()):"")+(o?"; path=".concat(o):"")+(a?"; domain=".concat(a):"")+(i?"; secure":"")+(s?"boolean"==typeof s?"; sameSite":"; sameSite=".concat(s):"")}function A(e,t,n,o){void 0===t||void 0!==o&&encodeURI(t).split(/%(?:u[\dA-F]{2})?[\dA-F]{2}|./).length-1>o||(document.cookie=C(e,t,n))}function P(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var o=t[n].split("=");if(e(w(o[0]),o[1]||""))return}}function x(e){var t=null,n={};return P((function(o,a){if(e)return o===e&&(t=h(a),1);n[o]=h(a)})),e?t:n}function $(e,t){A(e,"",Object.assign({},t,{expires:-1}))}S="_ls_ttl",E=function(){try{var e=window.localStorage.getItem(S);return e?JSON.parse(e):null}catch(e){return null}},T=function(e){try{Object.keys(e).length?window.localStorage.setItem(S,JSON.stringify(e)):window.localStorage.removeItem(S)}catch(e){}},O();var S,E,T,I={get:function(e){var t;O();try{return null!=(t=window.localStorage.getItem(e))?t:null}catch(e){return null}},set:function(e,t,n){if(o=e,n=(n=void 0===n?{}:n).expires,a=E(),void 0===n?(null!=a&&a[o]&&(delete a[o],T(a)),1):(n=y(n).getTime())>Date.now()&&((a=a||{})[o]=n.toString(36),T(a),1))try{window.localStorage.setItem(e,t)}catch(e){}var o,a},getNames:D,remove:function(e){try{window.localStorage.removeItem(e)}catch(e){}O()},expires:O,__protected__:{get ttlName(){return S}}};function O(){var e=D(),t=E(),n={};t&&(Object.keys(t).forEach((function(o){if(e.includes(o)){var a=t[o]?parseInt(t[o],36):null;if(!(a=a)||a>Date.now())n[o]=t[o];else try{window.localStorage.removeItem(o)}catch(o){}}})),JSON.stringify(t)!==JSON.stringify(n))&&T(n)}function D(){try{return Object.keys(window.localStorage)}catch(e){return[]}}function L(e,t){return{cookieName:t=void 0===t?"_pctx":t,readonly:!1,init:function(t){return null!=(t=null!=t?t:e)?t:null},refresh:function(e){return e},update:function(e){return e},set:function(e){return e},get:function(e){return e}}}function R(e){return G(G({},L(e)),{cookieName:null})}function M(e){return null==e}function N(){var e={};return{add:function(t){e[t]=!0},values:function(){return Z(e)}}}function j(e,t){var n,o=NaN,a=NaN;return function(r){var i=null==t?void 0:t();return r===a&&o===i||(o=i,n=e(a=r)),n}}function U(e){var t;return function(n){var o=e();o!==t&&n(t=o)}}function H(e){return ae(e,(function(e){return"CX"!==(null==e?void 0:e.type)}))}function B(e,t){return t({protect:!0}),oe()}function V(e,t,n){var o=be().reduce((function(o,a){return o[a=a.id]=n(null==e?void 0:e[a],null==t?void 0:t[a],a),o}),{});return de(o,t)?t:o}function q(e,t){return V(e,t,(function(e,t,n){return e||t||Me()[n]}))}function F(){return fe().consent_modifiers||null}function z(){return!!fe().requireConsent}function Y(e,t,n){return"".concat(e.join(", ")," ").concat(1<e.length?n:t)}var K,W,J={get:function(e){try{return window.sessionStorage.getItem(e)}catch(e){return null}},set:function(e,t){try{window.sessionStorage.setItem(e,t)}catch(e){}},getNames:function(){try{return Object.keys(window.sessionStorage)}catch(e){return[]}},remove:function(e){try{window.sessionStorage.removeItem(e)}catch(e){}}},G=function(){return(G=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Q=L("anon"),Z=function(e){return e?Object.keys(e):[]},X=function(e){return Array.isArray(e)},ee=function(e){return!M(e)},te=function(e){return"object"===n(e)},ne=function(e){return"string"==typeof e},oe=function(){for(var e=(new Date).getTime().toString(36);e.length<16;)e+=Math.round(2147483647*Math.random()).toString(36);return e.substr(0,16)},ae=function(e,t){return e&&Z(e).filter((function(n){return t(e[n])})).reduce((function(t,n){return G(G({},t),((t={})[n]=e[n],t))}),{})},re=function(e,t){return te(e)?Z(e).reduce((function(n,o){var a,r=e[o];return void 0!==(a=(a=t[o])&&a(r))&&(n[o]=a),n}),{}):e},ie=function(e){return"true"===e||!0===e},se=function e(t,n){try{return t()}catch(t){return n?e(n):null}},ce=function(e,t){return void 0===t&&(t=!1),se((function(){return JSON.parse(e)}),(function(){return t?JSON.parse(window.atob(e)):null}))||null},le=function(e,t){void 0===t&&(t=!1);var n=JSON.stringify(e);return se((function(){return t?window.btoa(n):n}))||n},de=function(e,t){var n,o;return e===t||(e&&t?(n=Z(e),o=Z(t),n.length===o.length&&!n.some((function(n){return e[n]!==t[n]}))):null)},ue=G(G({},L(null)),{init:function(e){return H(e||null)},refresh:H,set:function(e,t){return null===e?null:ae(G(G({},t),e),(function(e){return null!==e}))}}),pe="pdl",fe=function(){return window[pe]||{}},ge=G(G({},R()),{init:function(e,t){return t({protect:!0}),fe().pageViewId||oe()},refresh:B,update:B,set:function(e,t,n){return n({protect:!0}),e}}),me=G(G({},L(null,"_pcid")),{init:function(e,t){return t({protect:!0}),e||oe()},update:function(e,t){return t({protect:!0}),oe()},set:function(e,t,n){return n({protect:!0}),e}}),ve=["PA","DMP","COMPOSER","ID","VX","ESP","SOCIAL_FLOW","DL"].map((function(e,t){return{name:e,id:t}})),_e=ve.reduce((function(e,t,n){return t=t.name,G(G({},e),((e={})[t]=n,e[t.toLowerCase()]=n,e))}),{}),he=(_e["social flow"]=_e.SOCIAL_FLOW,_e["Social Flow"]=_e.SOCIAL_FLOW,U((function(){var e;return null==(e=ft(fe().consent))?void 0:e.products}))),be=(K=ve,function(){return he((function(e){K=e?ve.filter((function(t){return e.includes(t.name)||"DL"===t.name})):ve})),K}),ye=function(e){var t=Number(e);return Number.isNaN(t)?null!=(e=_e[e.toLowerCase()])?e:null:t<ve.length?t:null},we=function(e,t){return Z(e).reduce((function(n,o){var a=ve[Number(o)].name;return o=e[o],n[a]=t?t(o,a):o,n}),{})},ke="opt-in",Ce="essential",Ae="opt-out",Pe="custom",xe=[ke,Ce,Ae],$e=xe.concat(Pe),Se=$e.reduce((function(e,t,n){return G(G({},e),((e={})[n]=t,e))}),{}),Ee=[ke,Pe,Ce,Ae],Te=function(e,t){return e=Ee.indexOf(e),t=Ee.indexOf(t),Ee[Math.max(e,t)]},Ie=function(e){return $e.includes(e)},Oe=function(e){return xe.includes(e)},De={AD:["DMP","SOCIAL_FLOW"],CP:["COMPOSER"],AM:["PA"],PR:["ESP","VX","ID"],DL:["DL"]},Le=Z(De).reduce((function(e,t){return De[t].forEach((function(n){n=_e[n],e[n]=t})),e}),{}),Re=U((function(){var e;return null==(e=ft(fe().consent))?void 0:e.defaultPurposes})),Me=(W=G({},Le),function(){return Re((function(e){W=G({},Le),e&&Z(e).forEach((function(t){var n=_e[t];W[n]=null==(n=e[t])?void 0:n.substring(0,32)}))})),W}),Ne=G(G({},L(null,"_pprv")),{init:function(e){return je()?q(e||null,null):null},set:function(e,t){return je()?null==e?t:q(Z(n=e).reduce((function(e,t){var o=ye(t);return t=qe(n[t]),null!==o&&t!==He&&o!==_e.DL&&t&&(e[o]=t),e}),{}),t):null;var n}}),je=function(){return"v2"===fe().requireConsent},Ue=function(e,t){return e===Pe&&!(null!=(e=F())&&e[t])},He="DL",Be=["AD","AM","CP","PR",He].reduce((function(e,t){return G(G({},e),((e={})[t]=t,e[t.toLowerCase()]=t,e))}),{}),Ve=function(e){return Be[(null==e?void 0:e.toLowerCase())||""]||null},qe=function(e){return Ve(e)||(null==e?void 0:e.substring(0,32))},Fe="Consent v2 is disabled",ze='the "DL" purpose is reserved',Ye=function(e){return'"'.concat(e,'" can not be applied for the dl product')},Ke=function(e){return"".concat(e," is unknown consent mode")},We=function(e){return Y(e,"does","do")+"n't have modifier in the pdl. Custom mode can't be applied"},Je="Unknown purpose. Provide a product or define within pdl config",Ge=function(e){return"Custom purpose: "+Y(e,"is","are")+" unknown"};function Qe(e,t,n,o,a){function r(t,n){return n=qe(n),Be[n]||Object.values(e||{}).includes(n)?p(t,n):u(Je)}var i,s,c,l,d,u=function(e){return{error:e}},p=function(t,n,o){var a,r=[];return Ie(t)?(a=be().reduce((function(a,i){var s=i.id;return i=i.name,(!n||(null==e?void 0:e[s])===n||null!=o&&o.includes(s))&&(Ue(t,i)?r.push(i):a[s]={mode:t}),a}),{}),r.length?u(We(r)):Object.keys(a).length?{consent:a}:null):u(Ke(t))};return je()?a?(i=o,a=a,l=qe(s=n),(d=(a=X(a)?a:[a]).map(ye).filter(ee)).length?l!==He&&d.includes(_e.DL)?{error:Ye(l)}:l===He&&d.some((function(e){return e!==_e.DL}))?u(ze):null!=(c=p(i,l,d))&&c.error?c:(d=d.reduce((function(e,t){return e[t]=l,e}),{}),{consent:(null==c?void 0:c.consent)||null,purposes:d}):Ve(s)?r(i,s):u(Ge(a))):o?r(o,n):p(n):u(Fe)}function Ze(e,t){return function(n){return t(e+n)}}function Xe(e,t){void 0===t&&(t=dt);var n=_e[e.toLowerCase()];return void 0!==n?ve[n].name:(t('"'.concat(e,'" is not found')),null)}function et(e,t){var n,o;return void 0===t&&(t=dt),e?(n={},e.products&&(X(e.products)?n.products=e.products.reduce((function(e,n){return(n=Xe(n,Ze("consent.products: ",t)))&&e.push(n),e}),[]):t("consent.products: should be an array")),e.defaultPreset&&(n.defaultPreset=Z(e.defaultPreset).reduce((function(n,o){var a=Xe(o,Ze("consent.defaultPreset: ",t)),r=ut(e.defaultPreset[o]);return r||t("consent.defaultPreset: "+lt(o,xe)),a&&r&&(n[a]=r),n}),{})),(o=e.defaultPurposes)&&(n.defaultPurposes=Z(o).reduce((function(e,n){var a=Ze("consent.defaultPurposes: ",t),r=Xe(n,a),i=o[n],s=qe(i);return s===He||"DL"===r?a('"'.concat(n,": ").concat(i,'" - invalid config')):r&&s&&(e[r]=s),e}),{})),n):null}function tt(e){return e.reduce((function(e,t,n){return G(G({},e),((e={})[n]={mode:Se[t]},e))}),{})}function nt(e,t){return V(e,t,(function(e,t,n){return(e=(null==e?void 0:e.mode)||(null==t?void 0:t.mode)||ht()[0].preset[n].mode)!==(null==t?void 0:t.mode)?{mode:e}:t}))}function ot(e){var t=Number(e);return Number.isNaN(t)?String(e):t}function at(e){return X(e)?e:e.split(",").map((function(e){return e.trim().replace(/^['"](.+)['"]$/,"$1")}))}function rt(e){return e}var it,st=function(e,t){var n;return e?(n=we(t||Le),be().reduce((function(t,o){o=o.name;var a=n[o],r=(null==(r=e[o])?void 0:r.mode)||ke;return t[a]?(t[a].mode=Te(t[a].mode,r),t[a].products.push(o)):t[a]={mode:r,products:[o]},t}),{})):null},ct=["include","exclude","obfuscate"],lt=function(e,t){return'"'.concat(e,'" should be one of ').concat(t.join(", "))},dt=function(){},ut=function(e){return Oe(e)?e:null},pt=function(e,t){void 0===t&&(t=dt);var n=e.source;return e=e.patches||[],ut(n)||(t(lt("source",xe)),n=ke),X(e)||(t('"patches" should be an array'),e=[]),{source:n,patches:e=e.reduce((function(e,n,o){var a,r;return!te(n)||X(n)?t("patch[".concat(o,"]: should be type of {action, item, with?}")):(a=n.action,r=n.item,ct.includes(a)?r&&te(r)&&r.key&&r.type?e.push(n):t("patch[".concat(o,']: "item" should be type of {key, type}')):t("patch[".concat(o,"]: ")+lt("action",ct))),e}),[])}},ft=j(et),gt=function(e,t){return void 0===t&&(t=dt),Z(e||{}).reduce((function(n,o){var a=null==e?void 0:e[o],r=Xe((null==a?void 0:a.source)||"",t);return n[o]=G(G({},a),{source:r}),n}),{})},mt=[[0,0,0,0,0,0,0,0],[0,0,2,2,2,2,2,0],[1,2,2,2,2,2,2,1],[0,2,0,2,2,2,0,0],[1,2,2,2,2,2,1,1],[2,0,0,2,2,2,2,0],[2,0,2,2,2,2,2,0],[2,2,2,2,2,2,0,2],[2,2,0,0,0,0,2,0],[2,2,1,2,1,2,2,1],[2,2,1,1,2,2,2,1]],vt=mt.map((function(e,t){return{id:t,preset:tt(e)}})),_t=U((function(){var e;return null==(e=ft(fe().consent))?void 0:e.defaultPreset})),ht=(it=vt,function(){return _t((function(e){it=vt.slice(),e&&(it[0]={id:0,preset:G({},it[0].preset)},Z(e).forEach((function(t){var n=e[t];t=_e[t],it[0].preset[t]={mode:n}})))})),it}),bt=G(G({},L(null,"_pprv")),{init:function(e){return z()&&e?nt(e,null):null},set:function(e,t){var n,o,a;return z()?null!=e&&(n="number"==typeof e?(null==(n=ht()[e])?void 0:n.preset)||null:X(e)?(a=null,e.forEach((function(e){var t=mt[e];!a&&t?a=t:a&&t&&(a=a.map((function(e,n){return Math.min(e,t[n])})))})),a&&tt(a)):Z(o=e).reduce((function(e,t){var n=o[t];return null!==(t=ye(t))&&(n=Ie(n.mode)?n.mode:null)&&((e=e||{})[t]={mode:n}),e}),null))?nt(n,t):t:null},get:j((function(e){return e&&we(e,(function(e,t){var n;return(e=G({},e)).mode===Pe&&(e.modifier=(null==(n=F())?void 0:n[t])||null),e}))}),F)}),yt=G(G({},R()),{init:ht,set:ht}),wt=G(G({},R()),{init:be,set:be}),kt=G(G({},R(null)),{readonly:!0,set:function(){return null},get:F}),Ct={id:rt,type:rt,zone:rt,createdAt:ot,modifiedAt:ot,authors:at,section:rt,tags:at,keywords:at,title:rt,description:rt,isNative:ie},At=function(e){return"first"===e},Pt=function(e){return"last"===e};function xt(e,t){return void 0===e&&(e="meta"),At(t)?document.querySelector(e):(e=document.querySelectorAll(e),Pt(t)?e[e.length-1]:Array.from(e))}function $t(e){var t=e.getContent||function(e){return e.content};if(e.selector)return(a=xt(e.selector,e.take||"first"))&&t(a)||null;var o=It.find(e.attr||["name"],e.hasContent),a=e.names||[],r=!("all"===e.take),i=Pt(e.take);if(o)for(var s=0,c=a;s<c.length;s++){var l=function(e){var n,a=[];if(e=o[e]){if(r)return n=e[i?e.length-1:0],{value:t(n)||""};e.forEach((function(e){a=a.concat(t(e)||"")}))}if(a.length)return{value:a}}(c[s]);if("object"===n(l))return l.value}return null}function St(e){var t=e.replace(/DAY/g,"(0?[1-9]|[12][0-9]|3[01])").replace(/MONTHLONG/g,"("+Z(Mt).join("|")+")").replace(/MONTH/g,"(0?[1-9]|1[012])").replace(/YEAR2/g,"([0-9][0-9])").replace(/YEAR/g,"(197[1-9]|19[8-9][0-9]|20[0-9][0-9])").replace(/TIME/g,"([0-9][0-9]):([0-9][0-9]):([0-9][0-9])(?:\\.[0-9][0-9][0-9])?([zZ]|[+-][0-9][0-9](?::?[0-9][0-9])?)?");return e=e.replace(/.*?([YMD])(EAR|ONTH|AY).*?/g,"$1").substring(0,3),[new RegExp(t),e]}function Et(e){return e&&parseInt(e,10)||0}Tt=null;var Tt,It={refresh:function(){(Tt=xt()||null)&&setTimeout((function(){Tt=null}),0)},find:function(e,t){return void 0===t&&(t=!1),Tt?Tt.reduce((function(n,o){for(var a=0,r=e;a<r.length;a++){var i=(("name"===(i=r[a])?o.name:o.getAttribute(i))||"").trim().toLowerCase(),s=o.content;if(i&&(!t||s)){n[i]||(n[i]=[]),n[i].push(o);break}}return n}),{}):null}},Ot=function(e){for(var t=0,n=e;t<n.length;t++){var o;if(o=$t(o=n[t]))return o}},Dt=function(e,t,n){var o,a=Ct[t];!Boolean(e[t])&&a&&(a=(o=("function"==typeof n?n:function(){return(X(n)?Ot:$t)(n)})())&&a(o))&&(e[t]=a)},Lt=function(e){return{attr:["property"],names:[e]}},Rt=function(e){return{names:[e]}},Mt={januar:"01",january:"01",jan:"01",februar:"02",february:"02",feb:"02",mars:"03",march:"03",mar:"03",april:"04",apr:"04",mai:"05",may:"05",juni:"06",june:"06",jun:"06",juli:"07",july:"07",jul:"07",august:"08",aug:"08",september:"09",sept:"09",sep:"09",oktober:"10",october:"10",okt:"10",oct:"10",november:"11",nov:"11",desember:"12",december:"12",dec:"12",des:"12"},Nt=["\\bDAY\\.MONTH\\.YEAR\\b","\\bDAY\\.?\\s{0,3}MONTHLONG\\.?\\s{1,3}YEAR\\b","\\bYEAR-MONTH-DAY(?:[tT]|\\b)","\\bMONTHLONG\\.?\\s{0,3}DAY(?:st|nd|rd|th)?,?\\s{1,3}YEAR\\b","\\bDAY(?:st|nd|rd|th|\\.)?\\s{0,3}MONTHLONG\\.?,?\\s{1,3}YEAR\\b","\\bYEAR[/å¹´]MONTH[/æœˆ]DAY(?=\\b|æ—¥)","\\bDAY\\.MONTH\\.YEAR2\\b","\\bDAY/MONTH/YEAR\\b"].map(St),jt=St("YEAR-MONTH-DAY[tT]TIME")[0];function Ut(e,t,n,o,a,r,i){return e=new Date(Date.UTC(Et(e),Et(t)-1,Et(n),Et(o),Et(a),Et(r))),(t=(i||"").match(/^([+-][0-9][0-9])(?::?([0-9][0-9])?)$/))&&(e=new Date(e.getTime()-36e5*Number(t[1])-6e4*(Number(t[2])||0))),0<(n=Date.now()-e.getTime())||-n<1728e5?e.toISOString():null}var Ht=function(e){return e.replace(/<\/?[^>?]*\/?>/g," ").replace(/\s+/g," ").trim()};function Bt(e){return Ht((e=void 0===e?"":e).replace(/,(?=\s*(jr|sr)(\.?)\b)/g," "))}function Vt(e){return G(G({},e),{take:"last"})}function qt(e){return G(G({},e),{take:"last",hasContent:!0,getContent:function(e){return Ht(e.content||"")}})}function Ft(e){Dt(e,"createdAt",(function(){if(!(e=Ot(Qt)))return null;var e,t=e.toLowerCase();if(e=(t=t.toLowerCase()).match(jt))return Ut(e[1],e[2],e[3],e[4],e[5],e[6],e[7]);for(var n=0,o=Nt;n<o.length;n++){var a=o[n],r=t.match(a[0]);if(r)return Ut(2===(r="DMY"===a[1]?["",r[3],r[2],r[1]]:"MDY"===a[1]?["",r[3],r[1],r[2]]:r)[1].length?(Et(r[1])<60?"20":"19")+r[1]:r[1],r[2].length<=2?r[2]:Mt[r[2]],r[3])}})),Dt(e,"modifiedAt",Zt),Dt(e,"authors",Xt),Dt(e,"keywords",(function(){var e=Ot(en);return e&&e.length<=1024?e:null})),Dt(e,"title",nn),Dt(e,"description",tn)}function zt(){var e,t=Array.from(document.querySelectorAll("meta[property^=content]")).reduce((function(e,t){var n=null==(n=null==t?void 0:t.getAttribute("property"))?void 0:n.split(":").pop(),o=Ct[n];return o&&t&&(e[n]=o((null==t?void 0:t.getAttribute("content"))||"")),e}),{});return It.refresh(),Dt(e=t,"type",Lt("og:type")),Dt(e,"section",Rt("section")),Dt(e,"id",Rt("id")),Dt(e,"authors",Rt("author")),Ft(t),t}function Yt(e){return e.getTime().toString(36)}function Kt(e){return e?se((function(){return new Date(parseInt(e,36))})):null}function Wt(e,t,n){return void 0===n&&(n=!1),{cookieName:e,consent:t=void 0===t?ln:t,encode:function(e){return le(e,n)},decode:function(e){return ce(e,!0)}}}function Jt(e){function t(e){return G(G({},p),ae(e||{},ee))}function n(e,t){var n=e&&t;!g()&&n&&m(),g()&&!n&&v(),g()&&n&&!l&&m(),i=e,d=t}var o=e.cookieName,a=e.consent,r=k.get(o),i=!!r,s=i,c=sn(r,e),l=!!c.fixedAt,d=i,u=null,p=G({},rn),f=null,g=function(){return i&&d},m=function(e){e=t(e);var n,a=u||(f?c.encode(f,e):"");a||(n=k.get(o),a=(n=c.decode(n||""))?c.encode(n,e):""),a&&(l=!0,k.set(o,a,c.bindOptions(e)),s=!0)},v=function(e){g()&&(s&&k.remove(o,t(e)),s=!1)};return c.onChange((function(){g()&&(l=!1,m())})),{get cookieName(){return o},get cookieEnabled(){return g()},get fixedAt(){return c.fixedAt},get consent(){return a},set:function(e,t){f=e,g()&&m(t)},get:function(){return c.decode(k.get(o)||"")},remove:v,setCookieOptions:function(e){p=t(e),g()&&m()},setCookieEnabled:function(e,t){void 0===t&&(t=null),u=e?t:null,n(e,d)},lazyActive:function(){n(i,!0)},setFixedMode:function(e){c.setMode(e)}}}var Gt,Qt=[Vt({attr:["name","property","itemprop"],names:["cxenseparse:publishtime","cxenseparse:recs:publishtime","article:published_time","date","dc.date","dc.date.created","dc.terms.issued","pub_date","article.published","datepublished","og:article:published_time"]}),Vt({selector:"time.published[datetime],time[pubdate][datetime]",getContent:function(e){return e.getAttribute("datetime")}}),Vt({selector:"time[datetime]",getContent:function(e){return e.getAttribute("datetime")}})],Zt={selector:'meta[property="article:modified_time"]'},Xt=[{attr:["property","name"],names:["cxenseparse:author","og:article:author","article:author","og:book:author","book:author","author","dc.creator","article.author"],take:"all",getContent:function(e){var t=e.getAttribute("data-separator");return e=e.content,t?Bt(e).split(t):Bt((t=void 0===(t=e)?"":t).replace(/\n+/,";").replace(/(\<|&lt;)br(\>|&gt;)/,";").replace(/\b(and|und|og)\b/g,";")).split(/[,;]/)}}],en=[qt({names:["cxenseparse:keywords"]}),qt({attr:["property","name"],names:["news_keywords"]}),qt({names:["keywords"]})],tn=[qt({names:["cxenseparse:description"]}),qt({attr:["property"],names:["og:description"]}),qt({names:["description"]})],nn=[{names:["cxenseparse:title"]},Vt({attr:["property","name"],names:["og:title"]})],on=G(G({},R(null)),{init:zt,refresh:function(e){var t=zt();return null!=e&&e._fixed_&&null!=e&&e._fixed_.forEach((function(e){delete t[e]})),G(G({},e),t)},set:function(e,t){var n,o;return null===e?{}:(n=new Set(t&&t._fixed_),(o=function(t,n){Z(ae(e,t)).forEach(n)})(ee,(function(e){n.add(e)})),o(M,(function(e){n.delete(e)})),ae(G(G(G({},t),e),{_fixed_:Array.from(n.values())}),ee))},get:j((function(e){var t=G({},e);return delete t._fixed_,e&&t}))}),an=G(G({},L(null,"_pcus")),{init:function(e){return(e=void 0===e?null:e)&&ae(e,(function(e){return te(e)&&Array.isArray(e.segments)}))}}),rn=(ge={pageViewId:ge,browserId:me,users:ue,userStatus:Q,siteId:L(),consent:bt,consentPresets:yt,products:wt,consentModifiers:kt,purposes:Ne,content:on,userSegments:an},{path:"/",expires:395,samesite:"lax",secure:"https:"===window.location.protocol,domain:k.getTopLevelDomain(["pantheon.io","go-vip.net","go-vip.co"])}),sn=function(e,t){function n(e){return i=i||function(e){var t=new Date;if(e instanceof Date)t=e;else{if("number"!=typeof e)return null;t.setDate(t.getDate()+e)}return t}(e.expires)}var o=t.encode,a=t.decode,r=!1,i=null,s=null,c=null;return(t=null==(t=a(e||""))?void 0:t._t)&&(t=t.split("|"),i=Kt(t[0]),s=Kt(t[1]),r=!!i),{get fixedAt(){return r?[s,i]:null},onChange:function(e){c=e},setMode:function(e){var t=r;(r=e)!==t&&(s=i=null)!=c&&c(r)},bindOptions:function(e){return r&&(i=n(e))?G(G({},e),{expires:i}):e},decode:function(e){return null!=(e=a(e))&&e._t&&delete e._t,e},encode:function(e,t){return r?(i=n(t))&&(e._t=Yt(i)+"|"+Yt(s=s||new Date)):delete e._t,o(e)}}},cn="essential",ln="optional",dn="mandatory",un=String.fromCharCode,pn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",fn={};function gn(){function e(e,t,n){void 0===n&&(n=!1);var o=[];return Z(t).forEach((function(a){var i=t[a],s=!r.has(a)||r.get(a)===e||n;i&&s?r.set(a,e):!i&&s?r.delete(a):o.push(a)})),0<o.length?o:null}var t=zn(),n={},o=null,a=new Map,r=new Map,i=[];return function(s,c){var l=oe();return a.set(l,s),c&&t.register(c),n=G(G({},t.get()),n),{getInitCookieData:function(){return n},getCachedData:function(){return o||Wn},setProtectionData:function(t){return e(l,t)},setProtectionDataUnsafe:function(t){return e(l,t,!0)},updateData:function(e){return s={},c={},Z(a=e).forEach((function(e){r.has(e)?s[e]=(null==o?void 0:o[e])||null:c[e]=a[e]})),e=o||n,l=G(G({},o),c),de(l,e)||(t.set(l,e),o=l,i.forEach((function(e){return(0,e[1])(c)}))),0<Z(s).length?s:null;var a,s,c,l},onUpdateData:function(e){i.push([l,e])},terminate:function(){var e;e=l,i=i.filter((function(t){return t[0]!==e})),a.delete(l)},setCookieOptions:function(){return null},setCookieEnabled:function(){return null},get registeredCookiesWrapper(){return t.wrappers}}}}function mn(e){return Z(e).filter(Gn).map((function(t){return Qn(t,e[t])}))}function vn(e,t){switch(e){case ke:return!0;case Ce:return t===cn||t===dn;case Ae:return t===dn;default:return!0}}function _n(e){function t(e){return se((function(){return window.localStorage.getItem(e)}))}var n=t(e),o=se((function(){return parseInt(ce(t("_ls_ttl"))[e],36)}));return o&&o<=Date.now()?null:n}function hn(e){var t=e&&e.length;return 16===t||36===t?e:null}function bn(e){var t,n=G(G({},no),gt(null==(t=fe())?void 0:t.migration));Z(n).forEach((function(t){var o=e.params.get(t),a=n[t]===no[t],r=(r=null==(r=n[t])?void 0:r.source)&&(null==(r=to[r])?void 0:r[t])||[];o&&r.length&&(r=eo(r))&&(o.readonly=!1,e.updateValues(t,r,!0),o.readonly=!a)}))}function yn(){function e(e){return re(e,{path:String,domain:String,secure:ie,expires:function(e){return e instanceof Date?e:Number(e)},samesite:function(e){return ne(e)?e:ie(e)}})}var t=G({},window[pe]);return null!=t&&t.cookies&&(t.cookies=Z(t.cookies).reduce((function(n,o){return n[o]=e(t.cookies[o]),n}),{})),null!=t&&t.cookieDefault&&(t.cookieDefault=e(t.cookieDefault)),t}function wn(e){function t(t){return t||(null==(t=e.get("consent"))?void 0:t.DL)||null}function n(t,n){var o=ro(n),r=null==(n=e.getConnection())?void 0:n.registeredCookiesWrapper;r&&(n=Z(r).map((function(e){return r[e].cookieName})),a(n,t).forEach((function(e){var t=e.name,n=e.allowed;e=e.data,n=n&&!o[t],r[t].setCookieEnabled(n,e||null)})))}var o=Z(Fn).reduce((function(e,t){return e[t]=Fn[t].consent,e}),{}),a=Xn({items:o,type:"cookie",getConsent:t}),r=t(),i=(null==(o=e.get("consent"))?void 0:o.PA)||null;e.addChangeListener("consent",(function(e){var t=(null==e?void 0:e.DL)||null,o=(null==e?void 0:e.PA)||null;(null==r?void 0:r.mode)===(null===t?void 0:t.mode)&&(null==i?void 0:i.mode)===(null===o?void 0:o.mode)||(i=o,n(r=t,e))})),n(r,e.get("consent"))}function kn(e){function t(t){var n,a,r=st(t,e.get("purposes"));r&&t&&(n=!1,a=Z(r).reduce((function(e,a){var i=r[a].mode;return r[a].products.forEach((function(a){var r;i!==(null==(r=t[a])?void 0:r.mode)&&(Ue(i,a)?o[a]||(o[a]=!0,io(a,i,1)):(e[a]={mode:i},n=!0,io(a,i,2)))})),e}),{}),n)&&e.updateValues({consent:a})}var n=null,o={};e.addChangeListener("consent",(function(e){je()&&(n&&(clearTimeout(n),n=null),n=setTimeout((function(){t(e),n=null}),200))})),je()&&t(e.get("consent"))}(Gt=Gt||{}).URI="URI";var Cn,An,Pn,xn,$n,Sn,En,Tn,In,On,Dn,Ln,Rn,Mn,Nn,jn,Un,Hn,Bn,Vn={URI:{prefix:"{u}",compress:function(e){if(null==e)return"";var t=e,n=6,o=function(e){return pn.charAt(e)};if(null==t)return"";for(var a,r,i,s,c={},l={},d="",u=2,p=3,f=2,g=[],m=0,v=0,_=0;_<t.length;_+=1)if(i=t.charAt(_),Object.prototype.hasOwnProperty.call(c,i)||(c[i]=p++,l[i]=!0),s=d+i,Object.prototype.hasOwnProperty.call(c,s))d=s;else{if(Object.prototype.hasOwnProperty.call(l,d)){if(d.charCodeAt(0)<256){for(a=0;a<f;a++)m<<=1,v==n-1?(v=0,g.push(o(m)),m=0):v++;for(r=d.charCodeAt(0),a=0;a<8;a++)m=m<<1|1&r,v==n-1?(v=0,g.push(o(m)),m=0):v++,r>>=1}else{for(r=1,a=0;a<f;a++)m=m<<1|r,v==n-1?(v=0,g.push(o(m)),m=0):v++,r=0;for(r=d.charCodeAt(0),a=0;a<16;a++)m=m<<1|1&r,v==n-1?(v=0,g.push(o(m)),m=0):v++,r>>=1}0==--u&&(u=Math.pow(2,f),f++),delete l[d]}else for(r=c[d],a=0;a<f;a++)m=m<<1|1&r,v==n-1?(v=0,g.push(o(m)),m=0):v++,r>>=1;0==--u&&(u=Math.pow(2,f),f++),c[s]=p++,d=String(i)}if(""!==d){if(Object.prototype.hasOwnProperty.call(l,d)){if(d.charCodeAt(0)<256){for(a=0;a<f;a++)m<<=1,v==n-1?(v=0,g.push(o(m)),m=0):v++;for(r=d.charCodeAt(0),a=0;a<8;a++)m=m<<1|1&r,v==n-1?(v=0,g.push(o(m)),m=0):v++,r>>=1}else{for(r=1,a=0;a<f;a++)m=m<<1|r,v==n-1?(v=0,g.push(o(m)),m=0):v++,r=0;for(r=d.charCodeAt(0),a=0;a<16;a++)m=m<<1|1&r,v==n-1?(v=0,g.push(o(m)),m=0):v++,r>>=1}0==--u&&(u=Math.pow(2,f),f++),delete l[d]}else for(r=c[d],a=0;a<f;a++)m=m<<1|1&r,v==n-1?(v=0,g.push(o(m)),m=0):v++,r>>=1;0==--u&&(u=Math.pow(2,f),f++)}for(r=2,a=0;a<f;a++)m=m<<1|1&r,v==n-1?(v=0,g.push(o(m)),m=0):v++,r>>=1;for(;;){if(m<<=1,v==n-1){g.push(o(m));break}v++}return g.join("")},decompress:function(e){if(null==e)return"";if(""==e)return null;for(var t,n,o,a,r,i,s=(e=e.replace(/ /g,"+")).length,c=32,l=function(t){var n=pn;if(t=e.charAt(t),!fn[n]){fn[n]={};for(var o=0;o<n.length;o++)fn[n][n.charAt(o)]=o}return fn[n][t]},d=[],u=4,p=4,f=3,g="",m=[],v={val:l(0),position:c,index:1},_=0;_<3;_+=1)d[_]=_;for(n=0,a=Math.pow(2,2),r=1;r!=a;)o=v.val&v.position,v.position>>=1,0==v.position&&(v.position=c,v.val=l(v.index++)),n|=(0<o?1:0)*r,r<<=1;switch(n){case 0:for(n=0,a=Math.pow(2,8),r=1;r!=a;)o=v.val&v.position,v.position>>=1,0==v.position&&(v.position=c,v.val=l(v.index++)),n|=(0<o?1:0)*r,r<<=1;i=un(n);break;case 1:for(n=0,a=Math.pow(2,16),r=1;r!=a;)o=v.val&v.position,v.position>>=1,0==v.position&&(v.position=c,v.val=l(v.index++)),n|=(0<o?1:0)*r,r<<=1;i=un(n);break;case 2:return""}for(t=d[3]=i,m.push(i);;){if(s<v.index)return"";for(n=0,a=Math.pow(2,f),r=1;r!=a;)o=v.val&v.position,v.position>>=1,0==v.position&&(v.position=c,v.val=l(v.index++)),n|=(0<o?1:0)*r,r<<=1;switch(i=n){case 0:for(n=0,a=Math.pow(2,8),r=1;r!=a;)o=v.val&v.position,v.position>>=1,0==v.position&&(v.position=c,v.val=l(v.index++)),n|=(0<o?1:0)*r,r<<=1;d[p++]=un(n),i=p-1,u--;break;case 1:for(n=0,a=Math.pow(2,16),r=1;r!=a;)o=v.val&v.position,v.position>>=1,0==v.position&&(v.position=c,v.val=l(v.index++)),n|=(0<o?1:0)*r,r<<=1;d[p++]=un(n),i=p-1,u--;break;case 2:return m.join("")}if(0==u&&(u=Math.pow(2,f),f++),d[i])g=d[i];else{if(i!==p)return null;g=t+t.charAt(0)}m.push(g),d[p++]=t+g.charAt(0),t=g,0==--u&&(u=Math.pow(2,f),f++)}}}},qn=Z(Vn).reduce((function(e,t){return e[Vn[t].prefix]=Vn[t],e}),{}),Fn=(me={cookieName:"_pctx",consent:dn,encode:function(e,t){return void 0===t&&(t=Gt.URI),e=JSON.stringify(e),e=Vn[t].compress(e),Vn[t].prefix+e},decode:function(e){return e=function(e){var t=e.slice(0,3);if(e=e.slice(3),!qn[t])return null;if(!(t=qn[t].decompress(e)))return null;try{return JSON.parse(t)}catch(e){return null}}(e||""),te(e)?e:null}},{_pprv:Wt("_pprv",dn,!(null!=(ue=null==(ue=fe().cookies)?void 0:ue._pprv)&&ue.jsonOnly)),_pcid:Wt("_pcid",cn),_pcus:Wt("_pcus",ln,!0),_pctx:me}),zn=(Q=Z(Cn=Fn).reduce((function(e,t){return e[t]=Jt(Cn[t]),e}),{}),function(){var e=null,t=null;return{register:function(n){return e=G(G({},n.fields),e),t=G(G({},n.cookieByName),t)},get wrappers(){return t},get:function(){var e={};return t&&Z(t).forEach((function(n){e=G(G({},e),t[n].get())})),e},set:function(n,o){void 0===o&&(o=null);var a={};Z(n).forEach((function(r){var i=n[r],s=null==e?void 0:e[r];s&&(a[s]||(a[s]={wrapper:null==t?void 0:t[s],data:{},update:!1,remove:!0}),a[s].data[r]=i,a[s].remove=a[s].remove&&null===i,o&&(a[s].update||i===o[r])||(a[s].update=!0))})),Z(a).forEach((function(e){var t,n=(t=a[e]).wrapper,o=t.update;(t=t.remove)&&n.remove(),o&&!t&&n.set(a[e].data)}))}}}),Yn="__pctx_connection__",Kn="uvm42pas28m",Wn={},Jn=(void 0===An&&(An=!1),function(e,t){var n=gn();try{Object.defineProperty(window,Yn,{configurable:An,set:function(e){var t=e();t===Kn?e(n):"mrlqf5trgho"===t&&(n=gn())}})}catch(e){}return window[Yn]=function(e){return e&&(n=e),Kn},n(e,t)}),Gn=function(e){return e.includes("*")},Qn=function(e,t){return[new RegExp("^"+e.replace(/\*/g,".*")+"$"),t]},Zn=function(e,t){for(var n=0,o=t;n<o.length;n++){var a=o[n];if(a[0].test(e))return a[1]}return null},Xn=function(e){function t(e){return n[e]||Zn(e,o)||ln}var n=Object.assign({},e.items),o=mn(n);return function(n,o){var a,r,i,s=fe().requireConsent,c=!X(n),l=c?[n]:n;function d(){return l.map((function(e){return{name:e,allowed:!s}}))}return n=(i=o||e.getConsent())?i.mode===Pe?(a=function(e,t,n){if(!(t=t&&pt(t,n)))return null;for(var o=[],a={},r=0,i=t.patches;r<i.length;r++){var s,c=(s=i[r]).action,l=s.with;(s=s.item).type===e&&(a[s.key]=c={action:c,data:void 0===l?null:l},Gn(s.key))&&o.push(Qn(s.key,c))}return{source:t.source,getModifier:function(e){return a[e]||Zn(e,o)}}}(e.type,i.modifier,e.log))?(r=a.source,l.map((function(e){var n=a.getModifier(e),o=(o=null==n?void 0:n.action,i=null==n?void 0:n.data,"obfuscate"===o?i:null),i={name:e,allowed:null!=n&&n.action?function(e){switch(e){case"include":return!0;case"exclude":return!1;case"obfuscate":return!0}}(n.action):vn(r,t(e))};return null!==o&&(i.data=o),i}))):d():l.map((function(e){return{name:e,allowed:vn(i.mode,t(e))}})):d(),c?n[0]:n}},eo=(bt=Object.freeze({__proto__:null,createCheckConsentWrapper:Xn,createMask:Qn,getByMask:Zn,isMask:Gn,itemsToMask:mn}),Pn={pa_vid:function(e){return hn(ce(e||"",!0)||e)},atuserid:function(e){return hn((null==(e=ce(e||"",!0))?void 0:e.val)||"")}},function(e){for(var t=0,o=e;t<o.length;t++){var a=function(e){try{var t=e.ls?_n(e.ls)||null:(n=k.get(e),Pn[e]&&n?Pn[e](n):n);if(t)return{value:t}}catch(e){}var n}(o[t]);if("object"===n(a))return a.value}return null}),to={PA:{browserId:["pa_vid","atuserid"].concat(yt=[{ls:"_cX_P"},"cX_P"])},DMP:{browserId:yt}},no={browserId:{source:"DMP"}},oo=(wt="@@Data-layer/")+"update_value",ao=wt+"refresh_value",ro=function(e){e=e,t=1===(t=(null==(t=(n=fe()).consent)?void 0:t.products)||[]).length&&"PA"===t[0],e="opt-out"===(null==(e=null==e?void 0:e.PA)?void 0:e.mode);var t,n=!!n.requireConsent&&t&&e;return{_pprv:!fe().requireConsent,_pctx:n,_pcid:n,_pcus:n}},io=function(e,t,n){n=1===n?"can not be":"was",console.warn('[DL]: Consent v2: the "'.concat(e,'" has a conflicted consent mode, ')+"mode ".concat(n,' changed to "').concat(t,'"'))},so=($n=function(e){wn(e),bn(e),kn(e)},kt=kt=Q,Tn={fields:Z(Sn=xn=ge).reduce((function(e,t){var n=Sn[t].cookieName;return null!==n&&(e[t]=n),e}),{}),cookieByName:kt},In=Jn("data-layer",Tn),On=!1,Dn=new Map,Ln=new Set,Rn=new Map,Mn=function(){if(In)return In;throw new Error("DataLayer can't be connected")},Nn=function(e){var t=Mn().registeredCookiesWrapper;t&&e(t)},jn=function(e){Nn((function(t){e.forEach((function(e){(e=t[e])&&e.lazyActive()}))}))},Un=function(){function e(e){return Z(t).reduce((function(n,o){var a=t[o];return void 0!==a[e]&&(n[o]=a[e]),n}),{})}var t={};return{add:function(e,n){t[e]=n},call:function(){var t;t=e("protect"),0<Z(t).length&&Mn().setProtectionData(t),t=e("protectUnsafe"),0<Z(t).length&&Mn().setProtectionDataUnsafe(t)}}},Hn=function(e,t){return Z(e).reduce((function(n,o){var a=Rn.get(o),r=e[o];return a&&(n[o]=t?t(a,r):a.get(r)),n}),{})},Bn=function(e,t,n){void 0===n&&(n=!1);var o,a=e,r=N(),i=(ne(e)&&((o={})[e]=t,a=o),Un()),s=Un();return a=Z(a).reduce((function(e,t){var n=a[t],o=Rn.get(t),c=t;return null!=o&&o.readonly||(o&&o.cookieName&&r.add(o.cookieName),o&&n!==En[t]&&(n===ao?(e[t]=o.refresh(En[t],(function(e){s.add(c,e)})),e[t]!==En[t]&&i.add(c,{protectUnsafe:!1})):e[t]=n===oo?o.update(En[t],(function(e){s.add(c,e)})):o.set(n,En[t],(function(e){s.add(c,e)})))),e}),{}),jn(r.values()),i.call(),(e=Mn().updateData(a))&&n&&(t=Z(e).reduce((function(e,t){return G(G({},e),((e={})[t]=!1,e))}),{}),Mn().setProtectionDataUnsafe(t),Mn().updateData(a)),s.call(),e&&Hn(e)},{init:function(e){var t,n,o,a,r,i;void 0===e&&(e={}),On||(In=In||Jn("data-layer",Tn),t=G(G({},e),yn()),n=t.cookieDefault,Nn((function(e){Z(e).forEach((function(o){var a,r,i=e[o].cookieName,s=null==(s=t.cookies)?void 0:s[i];i="fixed"===(null==(i=t.cookies)?void 0:i.storageMode),null!=(r=(a=e[o]).setFixedMode)&&r.call(a,i),(n||s)&&e[o].setCookieOptions(G(G({},n),s))}))})),On=!0,Z(xn).forEach((function(e){var t=xn[e];Dn.set(e,new Set),Rn.set(e,t)})),o=!1,a=Mn().getInitCookieData(),r=Mn().getCachedData(),i=Un(),e=Z(xn).reduce((function(e,t){var n=t,s=xn[t];return e[t]=(null==r?void 0:r[n])||s.init(null==a?void 0:a[n],(function(e){i.add(n,e)})),null!=r&&r[n]||(o=!0),e}),{}),En=e,o&&Mn().updateData(e),i.call(),Mn().onUpdateData(uo),null!=$n&&$n(lo()))},set:fo,get:po,update:function(e){return go(e)},refresh:function(){var e,t;return!Mn().setProtectionData(((t={})["@@Data-layer/refresh_locked_key"]=!0,t))&&(e=[],Rn.forEach((function(t,n){return e.push(n)})),t=e.reduce((function(e,t){return e[t]=ao,e}),{}),Bn(t),!0)},protect:function(e,t){return mo(e,t)},addChangeListener:vo,removeChangeListener:function(e){Ln.delete(e),Dn.forEach((function(t){return t.delete(e)}))},terminate:function(){null!=In&&In.terminate(),Dn.clear(),Ln.clear(),In=null,On=!1,En={}},updateMigration:function(){On&&bn(lo())},get isReady(){return On},utils:{validateModifier:pt,validateConsent:et,checkConsent:bt,setConsent:function(e,t,n){if(po("consent"),e=Qe(po("purposes"),0,e,t,n)){if(e.error)return e.error;fo({consent:e.consent,purposes:e.purposes})}return null},getConsent:function(){var e=(t=po(["consent","purposes"])).consent,t=t.purposes;return st(e,t)},notAcquiredConsent:je()?Z(De).reduce((function(e,t){return e[t]={mode:"not-acquired",products:De[t]},e}),{}):null},get cookies(){return co()},get cookieEnabled(){return co()},setUnsafe:function(e,t){Bn(e,t,!0)},protectUnsafe:function(e,t){return mo(e,t,!0)},updateUnsafe:function(e){return go(e,!0)},setCookieEnabled:function(e){Nn((function(t){var n=Z(e);n.length?n.forEach((function(n){var o=t[n];o&&o.setCookieEnabled(e[n])})):Z(t).forEach((function(n){t[n].setCookieEnabled(e)}))}))}});function co(){var e=null;return Nn((function(t){e=Z(t).reduce((function(e,n){var o=t[n].cookieEnabled,a=t[n].fixedAt||null;return e[t[n].cookieName]=o?{enabled:o,fixedAt:a}:null,e}),{})})),e}function lo(){return{params:Rn,getConnection:Mn,addChangeListener:vo,get:po,updateValues:Bn}}function uo(e){var t=!1;Z(e).forEach((function(n){var o,a=Rn.get(n);a&&(o=e[n],En[n]!==o)&&(En[n]=o,t=!0,null!=(n=Dn.get(n)))&&n.forEach((function(e){return e(a.get(o))}))})),t&&Ln.forEach((function(e){return e(Hn(En))}))}function po(e){var t=N(),n=ne(e),o=void 0===e?En:n?((o={})[e]=En[e],o):e.reduce((function(e,t){return Rn.has(t)&&(e[t]=En[t]),e}),{});return o=Hn(o,(function(e,n){return e.cookieName&&t.add(e.cookieName),e.get(n)})),jn(t.values()),n?o[e]:o}function fo(e,t){return Bn(e,t,!1)}function go(e,t){void 0===t&&(t=!1);var n=e;return X(e)||(n=[e]),Bn(n.reduce((function(e,t){return e[t]=oo,e}),{}),void 0,t)}function mo(e,t,n){n=(n=void 0!==n&&n)?Mn().setProtectionDataUnsafe:Mn().setProtectionData;var o,a=e;return ne(e)&&((o={})[e]=t,a=o),n(a)}function vo(e,t){var n;ne(e)?null!=(n=Dn.get(e))&&n.add(t):Ln.add(e)}function _o(e,t,n){t.setProperty("event_collection_platform","js"),t.setProperty("event_collection_version",t.getConfiguration("version"));var o,r=new Date,i=(t.setProperty("device_timestamp_utc",r.getTime()),t.setProperty("device_local_hour",r.getTime()),t.setProperty("device_hour",r.getHours()),"isManualPageRefresh"),s="pageview_id",c="_isNotFirstPageView",l=a(t.events);try{for(l.s();!(o=l.n()).done;){var d=o.value;"page.display"===d.name&&(null===e.getConfiguration(i)&&e.getConfiguration(c)&&e.setConfiguration(i,!1),e.getConfiguration("enableAutomaticPageRefresh")&&!1===e.getConfiguration(i)&&e.getConfiguration(c)&&so.refresh(),e.getConfiguration(c)||e.setConfiguration(c,!0)),ho(s,t,d)&&e._privacy.call("isPropAllowed",s)&&(d.data[s]=so.get("pageViewId"))}}catch(o){l.e(o)}finally{l.f()}try{var u,p=new Date(new Date(so.cookies._pcid.fixedAt[0]).setUTCHours(0,0,0,0)).toISOString(),f=a(t.events);try{for(f.s();!(u=f.n()).done;){var m=u.value;ho("cookie_creation_date",t,m)&&t.setProperty("cookie_creation_date",p)}}catch(o){f.e(o)}finally{f.f()}}catch(o){}var v,_,h=so.get("content");for(v in h)if(Object.prototype.hasOwnProperty.call(h,v)){var b,y="createdAt"===v||"tags"===v?{createdAt:"content_publication_date",tags:"tags_array"}[v]:"content_".concat(v).replace(/[\w]([A-Z])/g,(function(e){return e[0]+"_"+e[1]})).toLowerCase(),w=a(t.events);try{for(w.s();!(b=w.n()).done;){var k=b.value;ho(y,t,k)&&e._privacy.call("isPropAllowed",y)&&(k.data[y]=h[v])}}catch(o){w.e(o)}finally{w.f()}}t.setProperty("has_access",so.get("userStatus")),t.setProperty("device_screen_width",window.screen.width),t.setProperty("device_screen_height",window.screen.height),t.setProperty("device_display_width",window.innerWidth||document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:""),t.setProperty("device_display_height",window.innerHeight||document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:""),r=function(e,t){var n,o=a(["-","_"]);try{for(o.s();!(n=o.n()).done;){var r,i=n.value;if(-1<e.indexOf(i))return[(r=e.split(i))[0],r.slice(1).join(i)]}}catch(e){o.e(e)}finally{o.f()}return["",""]}(window.navigator?window.navigator.language||window.navigator.userLanguage:""),t.setProperty("browser_language",r[0]),t.setProperty("browser_language_local",r[1]),t.setProperty("previous_url",document.referrer||""),document.title&&t.setProperty("page_title_html",document.title),!(r="true"===t.getConfiguration("addEventURL").toString())&&"withoutQS"!==t.getConfiguration("addEventURL")||t.setProperty("event_url_full",r?window.location.href.split("#")[0]:"".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname));try{e.getConfiguration("allowHighEntropyClientHints")?window.navigator.userAgentData.getHighEntropyValues(["architecture","bitness","brands","mobile","model","platform","platformVersion","uaFullVersion","fullVersionList"]).then((function(e){yo(t,e)})).finally((function(){g(e,t,n)})):(_={brands:window.navigator.userAgentData.brands,platform:window.navigator.userAgentData.platform,mobile:window.navigator.userAgentData.mobile},yo(t,_),g(e,t,n))}catch(o){g(e,t,n)}}function ho(e,t,n){if(t.hasProperty(e)&&t.properties[e].options.events){if(-1<(t=t.properties[e].options.events).indexOf(n.name))return;var o,r=a(t);try{for(r.s();!(o=r.n()).done;){var i=o.value;if("*"===i.charAt(i.length-1)&&0===n.name.indexOf(i.substring(0,i.length-1)))return}}catch(e){r.e(e)}finally{r.f()}}return void 0===n.data[e]}function bo(e){return void 0!==e}function yo(e,t){var n=[{metric:"brands",property:"ch_ua"},{metric:"architecture",property:"ch_ua_arch"},{metric:"bitness",property:"ch_ua_bitness"},{metric:"fullVersionList",property:"ch_ua_full_version_list"},{metric:"mobile",property:"ch_ua_mobile"},{metric:"model",property:"ch_ua_model"},{metric:"platform",property:"ch_ua_platform"},{metric:"platformVersion",property:"ch_ua_platform_version"},{metric:"uaFullVersion",property:"ch_ua_full_version"}];if(bo(t))for(var o=0;o<n.length;o++)bo(t[n[o].metric])&&e.setProperty(n[o].property,t[n[o].metric])}function wo(e,t,n){function o(o){g(e,t,n,o)}t.options&&t.options.onBeforeBuild?t.options.onBeforeBuild(e,t,o):o()}function ko(e,t,n){function o(o){g(e,t,n,o)}t.options&&t.options.onBeforeSend?t.options.onBeforeSend(e,t,o):o()}function Co(e,t,n){e._privacy.call("filterEvents",t.events),e._privacy.call("filterProps",t.properties);for(var o=t.events,a=0;a<o.length;a++){e._privacy.call("filterProps",o[a].data,o[a].name);var r,i=e._privacy.call("getModeMetadata")||{};for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&t.setProperty(r,i[r])}g(e,t,n)}function Ao(e,t,n){var o,r=[];for(o in t.properties)if(Object.prototype.hasOwnProperty.call(t.properties,o)){var i,s=!1,c=a(t.events);try{for(c.s();!(i=c.n()).done;){var l=i.value,d=!1,u=t.properties[o].options.events;if(u)if(-1<u.indexOf(l.name))d=!0;else{var p,f=a(u);try{for(f.s();!(p=f.n()).done;){var m=p.value;if("*"===m.charAt(m.length-1)&&0===l.name.indexOf(m.substring(0,m.length-1))){d=!0;break}}}catch(e){f.e(e)}finally{f.f()}}else d=!0;d&&(l.data[o]=t.properties[o].value,s=!0)}}catch(e){c.e(e)}finally{c.f()}s&&!t.properties[o].options.persistent&&r.push(o)}for(var v=0,_=r;v<_.length;v++)delete e._properties[_[v]];if(!t.getConfiguration("sendEmptyProperties")){var h,b=a(t.events);try{for(b.s();!(h=b.n()).done;){var y,w=h.value;for(y in w.data)!Object.prototype.hasOwnProperty.call(w.data,y)||""!==w.data[y]&&void 0!==w.data[y]||delete w.data[y]}}catch(e){b.e(e)}finally{b.f()}}g(e,t,n)}function Po(e,t,n){(e._privacy.call("getMode")!==e._privacy.modeEnum.OPTOUT||e._privacy.call("getMode")===e._privacy.modeEnum.OPTOUT&&t.getConfiguration("sendEventWhenOptout"))&&0<t.build.data.events.length&&s.post(t.build.url,JSON.stringify(t.build.data)),g(e,t,n)}function xo(e,t,n){void 0!==t.properties.user_id?g(e,t,n):e.getUser((function(o){var a;null!==o&&(t.setProperty("user_id",o.id,a={persistent:!0}),t.setProperty("user_category",o.category,a),t.setProperty("user_recognition",!0,a)),g(e,t,n)}))}function $o(e,t,n){e._storage.getItem(t.getConfiguration("storageVisitor"),(function(o){var a;t.getConfiguration("isVisitorClientSide")&&(t.visitorId=t.getConfiguration("visitorId")||so.get("browserId"),t.getConfiguration("isLegacyPrivacy")||"opt-out"!==e.consent.getMode()||(t.visitorId="OPT-OUT"),a="OPT-OUT"!==t.visitorId&&"no-consent"!==t.visitorId&&"no-storage"!==t.visitorId&&t.visitorId!==t.getConfiguration("visitorId"),t.visitorId!==so.get("browserId"))&&a&&(t.visitorId=t.visitorId+"-NO"),g(e,t,n)}))}function So(e,t,n){function o(t){null!=(t=r(Lo(n.dataLayer,n.items,e.getNames),t))&&t.forEach((function(t){t.allowed?t.data&&e.set(t.name,t.data):e.remove(t.name)}))}var a=Io(n),r=Do(n.dataLayer,{items:n.items,type:t,getConsent:a});return t=void 0===n.checkConsentOnInit&&n.enableAutoRemove,n.enableAutoRemove&&Oo(n,o),t&&o(a()),Object.assign({},e,{set:function(t,n,o){var a=r(t);null!=a&&a.allowed&&(a=null!=(a=a.data)?a:n,e.set.apply(null,o?[t,a,o]:[t,a]))},check:r})}function Eo(e,t){return{check:Do(t.dataLayer,{items:t.items,type:e,getConsent:Io(t)})}}var To=function(e){this.setItem=function(t,n,o,a){t="".concat(t,"=").concat(e.getConfiguration("encodeStorageBase64")?l.base64.encode(JSON.stringify(n)):encodeURIComponent(JSON.stringify(n))),t=(t=(t=(t=(t+=";path=".concat(e.getConfiguration("cookiePath")))+";domain=".concat(e.getConfiguration("cookieDomain")))+(e.getConfiguration("cookieSecure")?";secure":""))+";samesite=".concat(e.getConfiguration("cookieSameSite")))+(o?";expires=".concat(o.toUTCString()):""),document.cookie=t,a&&a()},this.getItem=function(e,t){var n=null;if(e=new RegExp("(?:^| )".concat(e,"=([^;]+)")).exec(document.cookie)||null)try{n=JSON.parse(decodeURIComponent(e[1]))}catch(t){n=JSON.parse(l.base64.decode(e[1]))}t&&t(n)},this.deleteItem=function(e,t){var n=new Date;n.setTime(n.getTime()-1e3),this.setItem(e,"",n,t)}},Io=function(e){return function(){var t=e.dataLayer.get("consent");return t&&t[e.productName]||null}},Oo=function(e,t){function n(n){(n=(null==n?void 0:n[e.productName])||null)!==o&&t(o=n)}var o=null;return e.dataLayer.addChangeListener("consent",n),function(){e.dataLayer.removeChangeListener(n)}},Do=function(e,t){return e.utils.checkConsent.createCheckConsentWrapper(t)},Lo=function(e,t,n){var o=e.utils.checkConsent,a=o.itemsToMask(t),r=Object.keys(t).filter((function(e){return!o.isMask(e)}));return n().filter((function(e){return r.includes(e)||o.getByMask(e,a)}))},Ro={createLocalStorage:function(e){t=e.dataLayer,a=I.__protected__.ttlName,o=Do((t={dataLayer:t,productName:"DL"}).dataLayer,{items:((n={})[a]="mandatory",n),type:"localStorage",getConsent:Io(t)}),r=function(){var e=o(a);return e.allowed&&!e.data},i=!0,Oo(t,c),c();var t,n,o,a,r,i,s=function(){return i};function c(){(i=r())||I.remove(a)}var l=So(I,"localStorage",e);return Object.assign({},l,{set:function(e,t,n){var o=n;return null!=n&&n.expires&&!s()&&delete(o=Object.assign({},n)).expires,l.set(e,t,o)}})},createProperty:function(e){return Eo("property",e)},createCookie:function(e){function t(t){null!=(t=l(Lo(e.dataLayer,s,k.getNames),t))&&t.forEach((function(e){function t(){return r[e.name]||o.getByMask(e.name,i)||c}e.allowed?e.data&&k.set(e.name,e.data,t()):k.remove(e.name,t())}))}var n,o=e.dataLayer.utils.checkConsent,a=Io(e),r={},i=[],s={},c={},l=(Object.keys(e.items).forEach((function(t){var n,a,c,l,d=e.items[t];d.type?(n=d.type,a=d.domain,c=d.path,l={},s[t]=n,a&&(l.domain=a),c&&(l.path=c),o.isMask(t)?i.push(o.createMask(t,l)):r[t]=l):s[t]=d})),Do(e.dataLayer,{items:s,type:"cookie",getConsent:a}));return n=!(void 0!==e.checkConsentOnInit||!e.enableAutoRemove),e.enableAutoRemove&&(c=e.enableAutoRemove,Oo(e,t)),n&&t(a()),Object.assign({},k,{check:l,set:function(e,t,n,o){var a=l(e);null!=a&&a.allowed&&k.set(e,null!=(e=a.data)?e:t,n,o)}})},createSessionStorage:function(e){return So(J,"sessionStorage",e)},createEvent:function(e){return Eo("event",e)}},Mo={"*":"optional",pa_vid:"mandatory",pa_privacy:"mandatory",atuserid:"essential"},No={"click.exit":"mandatory","click.navigation":"mandatory","click.download":"mandatory","click.action":"mandatory","page.display":"mandatory"},jo={"*":"optional",connection_type:"mandatory",device_timestamp_utc:"mandatory",visitor_privacy_consent:"mandatory",visitor_privacy_mode:"mandatory",ch_ua:"mandatory",ch_ua_arch:"mandatory",ch_ua_bitness:"mandatory",ch_ua_full_version:"mandatory",ch_ua_full_version_list:"mandatory",ch_ua_mobile:"mandatory",ch_ua_model:"mandatory",ch_ua_platform:"mandatory",ch_ua_platform_version:"mandatory",app_crash:"essential",app_crash_class:"essential",app_crash_screen:"essential",app_version:"essential",browser:"essential",browser_cookie_acceptance:"essential",browser_group:"essential",browser_version:"essential",click:"essential",click_chapter1:"essential",click_chapter2:"essential",click_chapter3:"essential",click_full_name:"essential",connection_monitor:"essential",connection_organisation:"essential",cookie_creation_date:"essential",date:"essential",date_day:"essential",date_daynumber:"essential",date_month:"essential",date_monthnumber:"essential",date_week:"essential",date_year:"essential",date_yearofweek:"essential",device_brand:"essential",device_display_height:"essential",device_display_width:"essential",device_name:"essential",device_name_tech:"essential",device_screen_diagonal:"essential",device_screen_height:"essential",device_screen_width:"essential",device_type:"essential",event_collection_platform:"essential",event_collection_version:"essential",event_hour:"essential",event_id:"essential",event_minute:"essential",event_position:"essential",event_second:"essential",event_time:"essential",event_time_utc:"essential",event_url:"essential",event_url_domain:"essential",event_url_full:"essential",exclusion_cause:"essential",exclusion_type:"essential",geo_city:"essential",geo_continent:"essential",geo_country:"essential",geo_metro:"essential",geo_region:"essential",goal_type:"essential",hit_time_utc:"essential",os:"essential",os_group:"essential",os_version:"essential",os_version_name:"essential",page:"essential",page_chapter1:"essential",page_chapter2:"essential",page_chapter3:"essential",page_duration:"essential",page_full_name:"essential",page_position:"essential",page_title_html:"essential",page_url:"essential",pageview_id:"essential",previous_url:"essential",privacy_status:"essential",site:"essential",site_env:"essential",site_id:"essential",site_platform:"essential",src:"essential",src_detail:"essential",src_direct_access:"essential",src_organic:"essential",src_organic_detail:"essential",src_portal_domain:"essential",src_portal_site:"essential",src_portal_site_id:"essential",src_portal_url:"essential",src_referrer_site_domain:"essential",src_referrer_site_url:"essential",src_referrer_url:"essential",src_se:"essential",src_se_category:"essential",src_se_country:"essential",src_type:"essential",src_url:"essential",src_url_domain:"essential",src_webmail:"essential"};function Uo(e,t){var n;return n=t,window.pdl&&window.pdl.consent_items&&window.pdl.consent_items.PA&&window.pdl.consent_items.PA[n]&&Object.assign(e,window.pdl.consent_items.PA[t]),e}function Ho(e){this.storageKeys=["pa_vid","pa_user","pa_privacy","atuserid"],this.propertyConsent={},this.eventConsent={},this.storageConsent={},this.consentItems={propertyItems:{},eventItems:{},cookieItems:{}},this.modeMetadata={"opt-in":{visitor_privacy_consent:!0,visitor_privacy_mode:"optin"},"opt-out":{visitor_privacy_consent:!1,visitor_privacy_mode:!0===e.getConfiguration("enableExtendedOptout")?"extended-optout":"optout"},essential:{visitor_privacy_consent:!1,visitor_privacy_mode:"exempt"},custom:{visitor_privacy_consent:!1,visitor_privacy_mode:"custom"}},this.init=function(){this.consentItems={propertyItems:Uo(jo,"properties"),eventItems:Uo(No,"events"),cookieItems:Uo(Mo,"storages")},this.propertyConsent=Ro.createProperty({dataLayer:so,productName:"PA",items:this.consentItems.propertyItems}),this.eventConsent=Ro.createEvent({dataLayer:so,productName:"PA",items:this.consentItems.eventItems}),this.storageConsent=Ro.createCookie({dataLayer:so,productName:"PA",items:this.consentItems.cookieItems}),e.getConfiguration("isLegacyPrivacy")||(this.initMode(),this.filterKeys())},this.initMode=function(){null===so.get("consent")&&(window.pdl.consent&&window.pdl.consent.defaultPreset?so.set("consent",0):this.setMode("opt-in"))},this.setMode=function(e){so.set("consent",{PA:{mode:e}}),this.filterKeys()},this.setPresets=function(e){so.set("consent",e),this.filterKeys()},this.getMode=function(){var e="opt-in",t=so.get("consent");return t&&t.PA&&t.PA.mode?so.get("consent").PA.mode:e},this.setCustomModeMetadata=function(e,t){this.modeMetadata.custom.visitor_privacy_mode=t||"custom",this.modeMetadata.custom.visitor_privacy_consent=e},this.getModeMetadata=function(){return this.modeMetadata[this.getMode()]||{}},this.getConsentItems=function(){return this.consentItems},this.isPropAllowed=function(t){return!0===e.getConfiguration("enableExtendedOptout")&&"opt-out"===this.getMode()||this.propertyConsent.check(t).allowed}.bind(this),this.isEventAllowed=function(t){return!0===e.getConfiguration("enableExtendedOptout")&&"opt-out"===this.getMode()||this.eventConsent.check(t).allowed}.bind(this),this.isKeyAllowed=function(e){return this.storageConsent.check(e).allowed}.bind(this),this.filterProps=function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&!this.isPropAllowed(t)&&delete e[t]},this.filterEvents=function(e){for(var t=e.length-1;0<=t;t--)this.isEventAllowed(e[t].name)||e.splice(t,1)},this.filterKeys=function(){var t,n=a(this.storageKeys);try{for(n.s();!(t=n.n()).done;){var o=t.value;this.isKeyAllowed(o)||e._storage.deleteItem(o)}}catch(t){n.e(t)}finally{n.f()}},this.setItem=function(t,n,o,a){this.isKeyAllowed(t)?e._storage.setItem(t,n,o,a):a&&a()},this.dl=so,this.init()}function Bo(e,t,n,o){var a,r=n?null:e,i=t||[],s=!1,c=!1,l=!1;if(0<i.length){for(var d=0;d<i.length;d++)u(i[d],r);p()}function u(t,n){try{!function e(t,n,o,a){var r=t[n[0]];return void 0===r||(1===n.length?(r.apply(a||t,o),!1):e(r,n.slice(1),o,a))}(e,t[0].split("."),t.slice(1),n)?s=!0:c=!0}catch(t){c=!0}}function p(){c&&s&&!l&&(console.error("Piano Analytics SDK - window.".concat(o,' is used for Piano Analytics integration and somewhere else. Please check "queueVarName" configuration if needed.')),l=!0)}n&&(a=window[o].push.bind(window[o]),window[o].push=function(e){u(e),p(),a(e)})}function Vo(e){function t(e,t,n,o){return n=s(t[n].events[e],o),t=s(t["*"].events[e],o),n||t}function n(e,t,n,o,a){var r;return a=a?(r=c(t[n].properties,e,o,a),c(t["*"].properties,e,o,a)):(r=l(t[n].properties,e,o),l(t["*"].properties,e,o)),r||a}function o(e,t,n,o){return n=d(t[n].storage,e,o),t=d(t["*"].storage,e,o),n||t}var a=e.getConfiguration("privacy"),r=(this.currentMode="",this.modes=a.modes,this._storageKeys=Object.assign(a.legacyKeys,a.storageKeys),this.init=function(){e.getConfiguration("isLegacyPrivacy")&&(window._pac=window._pac||{privacy:[]},Bo(this,window._pac.privacy),e._storage.getItem(a.storageKey,function(t){this.setMode(t&&this.modes[t]?t:e.getConfiguration("privacyDefaultMode"))}.bind(this)))},this.setMode=function(t){t!==this.currentMode&&this.modes[t]&&(this.currentMode=t,e._storage.getItem(a.storageKey,function(n){"optout"===t||"no-consent"===t||"no-storage"===t?e.setConfiguration("visitorId",this.modes[t].visitorId):"OPT-OUT"!==e.getConfiguration("visitorId")&&"no-consent"!==e.getConfiguration("visitorId")&&"no-storage"!==e.getConfiguration("visitorId")||e.cfg.deleteProperty("visitorId"),this.filterProps(e._properties),this.filterKeys(),n!==t&&((n=new Date).setTime(n.getTime()+24*e.getConfiguration("storageLifetimePrivacy")*60*60*1e3),this.setItem(a.storageKey,t,n))}.bind(this)))},this.createMode=function(e,t){var n;this.modes[e]||((n=i(this.modes.exempt)).name=e,n.properties.include.visitor_privacy_mode=e,n.properties.include.visitor_privacy_consent=t,this.modes[e]=n)},this.getMode=function(){return this.currentMode},function(e,t,n,o,a,r){var i=["*"],s=["*"],c="properties",l=o?"forbidden":"allowed";t&&(i="string"==typeof t?[t]:t),n&&(s="string"==typeof n?[n]:n),a&&(c="storage"),r&&(c="events");for(var d=0;d<i.length;d++)if(void 0!==this.modes[i[d]])for(var u=this.modes[i[d]],p=0;p<s.length;p++){var f=u[c][l];void 0!==f[s[p]]||a||r||(f[s[p]]={});for(var g=0;g<e.length;g++)a||r?f[e[g]]=!0:f[s[p]][e[g]]=!0}}.bind(this)),s=(this.include={properties:function(e,t,n){r(e,t,n)},property:function(e,t,n){r([e],t,n)},storageKeys:function(e,t){r(e,t,null,!1,!0)},storageKey:function(e,t){r([e],t,null,!1,!0)},events:function(e,t){r(e,t,null,!1,!1,!0)},event:function(e,t){r([e],t,null,!1,!1,!0)}},this.exclude={properties:function(e,t,n){r(e,t,n,!0)},property:function(e,t,n){r([e],t,n,!0)},storageKeys:function(e,t){r(e,t,null,!0,!0)},storageKey:function(e,t){r([e],t,null,!0,!0)},events:function(e,t){r(e,t,null,!0,!1,!0)},event:function(e,t){r([e],t,null,!0,!1,!0)}},function(e,t){if(e[t])return!0;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"*"===n.charAt(n.length-1)&&0===t.indexOf(n.substring(0,n.length-1)))return!0;return!1}),c=(this.isEventAllowed=function(e){var n=t("forbidden",this.modes,this.currentMode,e);return e=t("allowed",this.modes,this.currentMode,e),!n&&e},function(e,t,n,o){var a,r=e[t];if(r[o]&&r[o][n]||r["*"][n])return!0;for(a in r)if(Object.prototype.hasOwnProperty.call(r,a)&&"*"===a.charAt(a.length-1)&&0===o.indexOf(a.substring(0,a.length-1))||a===o)for(var i in r[a])if(Object.prototype.hasOwnProperty.call(r[a],i)&&("*"===i.charAt(i.length-1)&&0===n.indexOf(i.substring(0,i.length-1))||n===i))return!0;return!1}),l=function(e,t,n){if("forbidden"===t&&e[t]["*"][n])return!0;for(var o in e[t])if(Object.prototype.hasOwnProperty.call(e[t],o)){if(e[t][o][n])return!0;for(var a in e[t][o])if("*"===a.charAt(a.length-1)&&0===n.indexOf(a.substring(0,a.length-1)))return!0}return!1},d=(this.isPropAllowed=function(e,t){var o=n("forbidden",this.modes,this.currentMode,e,t);return e=n("allowed",this.modes,this.currentMode,e,t),!o&&e},function(e,t,n){var o,a=e[t];if(a[n])return!0;for(o in a)if(Object.prototype.hasOwnProperty.call(a,o)&&"*"===o.charAt(o.length-1)&&0===n.indexOf(o.substring(0,o.length-1)))return!0;return!1});this.isKeyAllowed=function(e){var t=o("forbidden",this.modes,this.currentMode,e);return e=o("allowed",this.modes,this.currentMode,e),!t&&e},this.setItem=function(t,n,o,a){this.isKeyAllowed(t)?e._storage.setItem(t,n,o,a):a&&a()},this.filterProps=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&!this.isPropAllowed(n,t||void 0)&&delete e[n]},this.filterKeys=function(){for(var t in this._storageKeys)Object.prototype.hasOwnProperty.call(this._storageKeys,t)&&!this.isKeyAllowed(t)&&e._storage.deleteItem(t)},this.filterEvents=function(e){for(var t=e.length-1;0<=t;t--)this.isEventAllowed(e[t].name)||e.splice(t,1)},this.getModeMetadata=function(){return this.modes[this.getMode()].properties.include},this.init()}function qo(e){this.modeEnum={OPTOUT:e.getConfiguration("isLegacyPrivacy")?"optout":"opt-out"},this.call=function(t){for(var n=e.getConfiguration("isLegacyPrivacy")?"privacy":"consent",o=arguments.length,a=new Array(1<o?o-1:0),r=1;r<o;r++)a[r-1]=arguments[r];return e[n][t].apply(e[n],a)}}function Fo(e){var t=e.getConfiguration("storageUser");this.setUser=function(n,o,a){var r={id:n,category:o};e.setProperties({user_id:n,user_category:o,user_recognition:!1},{persistent:!0}),!1!==a&&((n=new Date).setTime(n.getTime()+24*e.getConfiguration("storageLifetimeUser")*60*60*1e3),e._privacy.call("setItem",t,r,n))},this.getUser=function(n){e._storage.getItem(t,(function(t){var o=t;!t&&e._properties.user_id&&(o={id:e._properties.user_id.value,category:e._properties.user_category.value}),n&&n(o)}))},this.deleteUser=function(n){e.deleteProperty("user_id"),e.deleteProperty("user_category"),e.deleteProperty("user_recognition"),e._storage.deleteItem(t,(function(){n&&n()}))}}function zo(e){function t(){this.debugError={trigger:"AvInsights:Media:setContentValues:Error",level:"ERROR",messageObject:"Not an object"},this.processHeartbeatValue=function(e,t){return(e=parseInt(e,10))?Math.max(e,t):0},this.value2Number=function(e){var t=0;return isNaN(Number(e))||(t=Number(e)),Math.max(t,0)}}var o={minHeartbeat:e.getConfiguration("minHeartbeat"),minBufferingHeartbeat:e.getConfiguration("minBufferingHeartbeat")},a="_ATVALUE",r="_ATPREFIX";function s(e,t){var n;return e=e.length<2||":"!==e[1]?(n="",e):e.length<4||":"!==e[3]?(n=e.substring(0,1),e.substring(2,e.length)):(n=e.substring(0,3),e.substring(4,e.length)),t&&(n=n.toLowerCase(),e=e.toLowerCase()),{prefix:n,key:e}}function c(e){return null!==e&&"object"===n(e)&&!(e instanceof Array)}function l(e,t,n,o,i){var d,u,p,f="",g="",m="",v=0;for(p in e)if(Object.prototype.hasOwnProperty.call(e,p))if(f=(d=s(p,i)).prefix||o||"",g=(t?t+"_":"")+d.key,c(e[p]))l(e[p],g,n,f,i);else{for(u=g.split("_"),m="",v=0;v<u.length;v++)f=(d=s(u[v],i)).prefix||f,m+=d.key+(v<u.length-1?"_":"");n[g=m||g]=n[g]||{},n[g][a]=e[p],n[g][r]=f}}e.avInsights={},e.avInsights.Media=function(n,u,p){function f(e){e?k.delayBufferingConfiguration=i(k.delayBufferingConfigurationBackup):k.delayConfiguration=i(k.delayConfigurationBackup)}function g(e,t){if(t){x(e);var n,a={};for(n in c(t)?a=t:isNaN(t)?a=JSON.parse(t):a[0]=t,a)Object.prototype.hasOwnProperty.call(a,n)&&(e?k.delayBufferingConfiguration.push({delay:w.processHeartbeatValue(n,0),number:0,timeout:-1,refresh:w.processHeartbeatValue(a[n],o.minBufferingHeartbeat)}):k.delayConfiguration.push({delay:w.processHeartbeatValue(n,0),number:0,timeout:-1,refresh:w.processHeartbeatValue(a[n],o.minHeartbeat)}));$(e),P(e)}}function m(t,n,o,s){var d=i(A);d.av_session_id={},d.av_session_id[a]=k.sessionId,d.av_session_id[r]="",n&&(E(d),k.previousEvent=t),c(s)&&l(s,null,d,null,!0),n=T(d),e.sendEvent(t,n,o)}function v(){var e=this,t=0,n=0;e.getEventDuration=function(){var e=(new Date).getTime()-t-n;return n+=e,e},e.initBaseTime=function(){0===t&&(t=(new Date).getTime())},e.resetProperties=function(){n=t=0},e.initHeartbeatTimer=function(e,t){var n=t?k.delayBufferingConfiguration:k.delayConfiguration;0<n.length&&(S(t),clearTimeout(n[0].timeout),n[0].timeout=setTimeout((function(){0===n[0].number&&n.splice(0,1),e&&e()}),1e3*n[0].refresh))},e.stopHeartbeatTimer=function(e){for(var t=e?k.delayBufferingConfiguration:k.delayConfiguration,n=0;n<t.length;n++)clearTimeout(t[n].timeout),t[n].timeout=-1}}function _(e,t,n,o,a){C.initBaseTime(),k.eventDuration=C.getEventDuration(),k.previousCursorPosition=k.currentCursorPosition,k.currentCursorPosition=e?k.previousCursorPosition+Math.floor(k.playbackSpeed*k.eventDuration):n,t&&C.initHeartbeatTimer((function(){_(!0,!0)}),!1),m("av.heartbeat",!0,o,a)}function h(e,t,n){C.initBaseTime(),k.eventDuration=C.getEventDuration(),e&&C.initHeartbeatTimer((function(){h(!0)}),!0),m("av.buffer.heartbeat",!0,t,n)}function b(e,t,n){C.initBaseTime(),k.eventDuration=C.getEventDuration(),k.previousCursorPosition=k.currentCursorPosition,e&&C.initHeartbeatTimer((function(){b(!0)}),!0),m("av.rebuffer.heartbeat",!0,t,n)}var y=this,w=new t,k=null,C=null,A=null,P=function(e){e?k.delayBufferingConfigurationBackup=i(k.delayBufferingConfiguration):k.delayConfigurationBackup=i(k.delayConfiguration)},x=function(e){e?(k.delayBufferingConfiguration=[],k.delayBufferingConfigurationBackup=[]):(k.delayConfiguration=[],k.delayConfigurationBackup=[])},$=function(e){(e?k.delayBufferingConfiguration:k.delayConfiguration).sort((function(e,t){return e.delay<t.delay?-1:e.delay>t.delay?1:0}))},S=function(e){var t;void 0===(t=void 0!==(e=e?k.delayBufferingConfiguration:k.delayConfiguration)[1]?e[1].delay:t)?e[0].number=1:0<e[0].number?e[0].number--:"number"==typeof t&&(e[0].number=Math.floor(60*(t-e[0].delay)/e[0].refresh)-1)},E=function(e){e.av_previous_position={},e.av_previous_position[a]=k.previousCursorPosition,e.av_previous_position[r]="",e.av_position={},e.av_position[a]=k.currentCursorPosition,e.av_position[r]="",e.av_duration={},e.av_duration[a]=k.eventDuration,e.av_duration[r]="",e.av_previous_event={},e.av_previous_event[a]=k.previousEvent,e.av_previous_event[r]=""},T=function(e){var t,n={};for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(Object.prototype.hasOwnProperty.call(e[t],a)?n[e[t][r]?"".concat(e[t][r],":").concat(t):t]=e[t][a]:n[t]=e[t]);return n};y.set=function(e,t){e=s(e,!0),A[e.key]=A[e.key]||{},A[e.key][a]=t,A[e.key][r]=e.prefix},y.get=function(e){var t=null;return e=s(e,!0),void 0!==A[e.key]?A[e.key][a]:t},y.del=function(e){e=s(e,!0),void 0!==A[e.key]&&delete A[e.key]},y.setProps=function(e){c(e)&&l(e,null,A,null,!0)},y.getProps=function(){var e,t=null;for(e in A)Object.prototype.hasOwnProperty.call(A,e)&&((t=t||{})[e]=A[e][a]);return t},y.delProps=function(){A={}},y.setPlaybackSpeed=function(e){(e=w.value2Number(e)||k.playbackSpeed)!==k.playbackSpeed&&(C.stopHeartbeatTimer(!1),k.isPlaying&&(_(!0,!1),C.initHeartbeatTimer((function(){_(!0,!0)}),!1)),k.playbackSpeed=e)},y.getSessionID=function(){return k.sessionId},y.track=function(e,t,n,o){var a=t||{};switch(e){case"av.heartbeat":y.heartbeat(a.av_position,n,o);break;case"av.buffer.heartbeat":y.bufferHeartbeat(n,o);break;case"av.rebuffer.heartbeat":y.rebufferHeartbeat(n,o);break;case"av.play":y.play(a.av_position,n,o);break;case"av.buffer.start":y.bufferStart(a.av_position,n,o);break;case"av.start":y.playbackStart(a.av_position,n,o);break;case"av.resume":y.playbackResumed(a.av_position,n,o);break;case"av.pause":y.playbackPaused(a.av_position,n,o);break;case"av.stop":y.playbackStopped(a.av_position,n,o);break;case"av.backward":y.seekBackward(a.av_previous_position,a.av_position,n,o);break;case"av.forward":y.seekForward(a.av_previous_position,a.av_position,n,o);break;case"av.seek.start":y.seekStart(a.av_previous_position,n,o);break;case"av.error":y.error(a.av_player_error,n,o);break;default:m(e,!1,n,o)}},y.heartbeat=function(e,t,n){var o,a=!0;null!=e&&0<=e&&(a=!1,o=w.value2Number(e)),_(a,!1,o,t,n)},y.bufferHeartbeat=function(e,t){h(!1,e,t)},y.rebufferHeartbeat=function(e,t){b(!1,e,t)},y.play=function(e,t,n){C.initBaseTime(),e=w.value2Number(e),k.eventDuration=0,k.previousCursorPosition=e,k.currentCursorPosition=e,k.isPlaying=!1,k.isPlaybackActivated=!1,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),m("av.play",!0,t,n)},y.bufferStart=function(e,t,n){C.initBaseTime(),e=w.value2Number(e),k.eventDuration=C.getEventDuration(),k.previousCursorPosition=k.currentCursorPosition,k.currentCursorPosition=e,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),k.isPlaybackActivated?(C.initHeartbeatTimer((function(){b(!0)}),!0),m("av.rebuffer.start",!0,t,n)):(C.initHeartbeatTimer((function(){h(!0)}),!0),m("av.buffer.start",!0,t,n))},y.playbackStart=function(e,t,n){C.initBaseTime(),e=w.value2Number(e),k.eventDuration=C.getEventDuration(),k.previousCursorPosition=e,k.currentCursorPosition=e,k.isPlaying=!0,k.isPlaybackActivated=!0,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),C.initHeartbeatTimer((function(){_(!0,!0)}),!1),m("av.start",!0,t,n)},y.playbackResumed=function(e,t,n){C.initBaseTime(),e=w.value2Number(e),k.eventDuration=C.getEventDuration(),k.previousCursorPosition=k.currentCursorPosition,k.currentCursorPosition=e,k.isPlaying=!0,k.isPlaybackActivated=!0,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),C.initHeartbeatTimer((function(){_(!0,!0)}),!1),m("av.resume",!0,t,n)},y.playbackPaused=function(e,t,n){C.initBaseTime(),e=w.value2Number(e),k.eventDuration=C.getEventDuration(),k.previousCursorPosition=k.currentCursorPosition,k.currentCursorPosition=e,k.isPlaying=!1,k.isPlaybackActivated=!0,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),m("av.pause",!0,t,n)},y.playbackStopped=function(e,t,n){C.initBaseTime(),e=w.value2Number(e),k.eventDuration=C.getEventDuration(),k.previousCursorPosition=k.currentCursorPosition,k.currentCursorPosition=e,k.isPlaying=!1,k.isPlaybackActivated=!1,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),C.resetProperties(),f(!1),f(!0),m("av.stop",!0,t,n),k.previousCursorPosition=0,k.currentCursorPosition=0,k.eventDuration=0,k.previousEvent="",k.sessionId=d.v4()},y.seek=function(e,t,n,o){e=w.value2Number(e),(t=w.value2Number(t))<e?y.seekBackward(e,t,n,o):y.seekForward(e,t,n,o)},y.seekBackward=function(e,t,n,o){y.seekStart(e,null,o),k.eventDuration=0,k.previousCursorPosition=w.value2Number(e),k.currentCursorPosition=w.value2Number(t),m("av.backward",!0,n,o)},y.seekForward=function(e,t,n,o){y.seekStart(e,null,o),k.eventDuration=0,k.previousCursorPosition=w.value2Number(e),k.currentCursorPosition=w.value2Number(t),m("av.forward",!0,n,o)},y.seekStart=function(e,t,n){e=w.value2Number(e),k.previousCursorPosition=k.currentCursorPosition,k.currentCursorPosition=e,k.isPlaying?k.eventDuration=C.getEventDuration():k.eventDuration=0,m("av.seek.start",!0,t,n)},y.adClick=function(e,t){m("av.ad.click",!1,e,t)},y.adSkip=function(e,t){m("av.ad.skip",!1,e,t)},y.error=function(e,t,n){var o={};(o=c(n)?n:o).av_player_error=String(e),m("av.error",!1,t,o)},y.display=function(e,t){m("av.display",!1,e,t)},y.close=function(e,t){m("av.close",!1,e,t)},y.volume=function(e,t){m("av.volume",!1,e,t)},y.subtitleOn=function(e,t){m("av.subtitle.on",!1,e,t)},y.subtitleOff=function(e,t){m("av.subtitle.off",!1,e,t)},y.fullscreenOn=function(e,t){m("av.fullscreen.on",!1,e,t)},y.fullscreenOff=function(e,t){m("av.fullscreen.off",!1,e,t)},y.quality=function(e,t){m("av.quality",!1,e,t)},y.speed=function(e,t){m("av.speed",!1,e,t)},y.share=function(e,t){m("av.share",!1,e,t)},g(!(k={previousCursorPosition:0,currentCursorPosition:0,eventDuration:0,playbackSpeed:1,previousEvent:"",isPlaybackActivated:!1,isPlaying:!1,sessionId:"",delayConfiguration:[],delayConfigurationBackup:[],delayBufferingConfiguration:[],delayBufferingConfigurationBackup:[]}),n),g(!0,u),k.sessionId=p||d.v4(),C=new v,u="pagehide",p=function(){C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0)},(n=window).addEventListener?n.addEventListener(u,p,!1):n.attachEvent&&n.attachEvent("on"+u,p),A={}}}function Yo(e){var n,o,a=this;for(n in a.cfg=new u(i(e)||t),a.setConfiguration=a.cfg.setConfiguration,a.setConfigurations=a.cfg.setConfigurations,a.getConfiguration=a.cfg.getConfiguration,window._pac=window._pac||{privacy:[]},window._pac)Object.prototype.hasOwnProperty.call(window._pac,n)&&"privacy"!==n&&a.setConfiguration(n,window._pac[n]);this._storage=new To(this),this._queue=new p(this),this._properties={},this._sendEvent=Ko,(e=this).setConfiguration("isLegacyPrivacy",!0),void 0===window.pdl?window.pdl={migration:{browserId:{source:"PA"}},cookies:{storageMode:"fixed"}}:(window.pdl.requireConsent&&e.setConfiguration("isLegacyPrivacy",!1),void 0===window.pdl.cookies?window.pdl.cookies={storageMode:"fixed"}:window.pdl.cookies&&void 0===window.pdl.cookies.storageMode&&(window.pdl.cookies.storageMode="fixed")),so.init({cookieDefault:{domain:e.getConfiguration("cookieDomain"),secure:e.getConfiguration("cookieSecure"),path:e.getConfiguration("cookiePath"),samesite:e.getConfiguration("cookieSameSite")},cookies:{_pcid:{expires:e.getConfiguration("storageLifetimeVisitor")}}}),e.privacy=new Vo(e),e.consent=new Ho(e),e._privacy=new qo(e),this.user=new Fo(this),zo(this),o=(e=this).getConfiguration("queueVarName"),window[o]=window[o]||[],Bo(e,window[o],!0,o)}function Ko(e,t){for(var n=[Co,$o,xo,_,_o,Ao,wo,m,ko,Po],o=0;o<e.length;o++){var a={name:"",data:{}};if("string"==typeof e[o])a.name=e[o];else{if(void 0!==e[o].data)continue;a.name=e[o].name}e[o]=a}var r;t={events:e,options:t},0<n.length&&"function"==typeof n[0]&&(r=new u(this.cfg.cloneData()),n[0](this,new f(this,t,r),n.slice(1)))}Yo.prototype.setProperty=function(e,t,n){this._privacy.call("isPropAllowed",e)&&(this._properties[e]={value:t,options:n||{}})},Yo.prototype.setProperties=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.setProperty(n,e[n],t)},Yo.prototype.deleteProperty=function(e){delete this._properties[e]},Yo.prototype.sendEvent=function(e,t,n){this._queue.push(["_sendEvent",[{name:e,data:t}],n])},Yo.prototype.sendEvents=function(e,t){this._queue.push(["_sendEvent",e,t])},Yo.prototype.getVisitorId=function(e){var t,n=this.getConfiguration("visitorId")||null;if(n=n||so.get("browserId"),(t=e)&&t(n),void 0===e)return n},Yo.prototype.setVisitorId=function(e){this.setConfiguration("visitorId",e);var t=new Date;t.setTime(t.getTime()+24*this.getConfiguration("storageLifetimeVisitor")*60*60*1e3),this._privacy.call("setItem",this.getConfiguration("storageVisitor"),e,t,(function(){so.updateMigration()}))},Yo.prototype.setUser=function(e,t,n){this.user.setUser(e,t,n)},Yo.prototype.getUser=function(e){this.user.getUser(e)},Yo.prototype.deleteUser=function(){this.user.deleteUser()},(Yo.prototype.PA=Yo).prototype.refresh=function(){null===this.getConfiguration("isManualPageRefresh")&&this.setConfiguration("isManualPageRefresh",!0),this.getConfiguration("isManualPageRefresh")&&so.refresh()},Yo.prototype.setContentProperty=function(e,t){var n={};"content_publication_date"===e||"tags_array"===e?n[{content_publication_date:"createdAt",tags_array:"tags"}[e]]=t:n[e]=t,so.set("content",n)},Yo.prototype.setContentProperties=function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.setContentProperty(t,e[t])},Ne=new Yo(t),window&&!window[Ne.getConfiguration("globalVarName")]&&(window[Ne.getConfiguration("globalVarName")]=Ne),on=Ne,e.pianoAnalytics=on,Object.defineProperty(e,"__esModule",{value:!0})}(t)}(0,Pt.exports);var xt=Pt.exports;let $t={},St=!1;window.didomiEventListeners=window.didomiEventListeners||[],window.didomiOnReady=window.didomiOnReady||[];const Et=(e,t,n,o="consent")=>W("gdpr","GDPR",e,t,n,o),Tt=(e,t)=>{const n=window.Didomi;let o=!0;if(n&&"getUserStatus"in n){const a=n.getUserStatus();o=Boolean(a.purposes.global.enabled.includes(e)&&a.vendors.global.enabled.includes(t))}return o},It=()=>{const e=window.Didomi;return e&&"shouldConsentBeCollected"in e?!e.shouldConsentBeCollected():"ro"===N("site_locale")||j("error")||j("ia")||mt.hasItem("cookies_consent")},Ot=()=>$t,Dt=(e,t)=>{!t||"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus?Et("updateTcfData","Unable to update TCF Data",{tcData:e,success:t},"error"):($t=e,Et("updateTcfData","Updated consent copy",{consent:$t}))},Lt=()=>{Pe((()=>{const e=window.Didomi;document.addEventListener("click",(t=>{t.target.matches('script[type="didomi/html"]')&&e?.notice.show()})),te("a.manage-consent").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),e?.preferences.show()}))}))})),didomiEventListeners.push({event:"consent.changed",listener(){Ee("gdpr.onConsentChanged"),Et("onConsentChanged","Consent change detected"),!St&&It()&&(Ee("gdpr.onConsentAvailable"),St=!0)}}),didomiOnReady.push((()=>{Ee("gdpr.onCmpReady"),Et("onCmpReady","CMP successfully loaded"),It()&&(Ee("gdpr.onConsentAvailable"),St=!0,Et("onConsentAvailable","Consent already available for tags at CMP load"))})),"__tcfapi"in window?__tcfapi("addEventListener",2,Dt):Et("init","TCF API not detected","","error")};Lt();var Rt={init:Lt,localLog:Et,canUse:Tt,consentAvailable:It,getConsent:Ot,updateTcfData:Dt};let Mt=0;const Nt=[];let jt=!1,Ut={},Ht={};const Bt=()=>Mt>0,Vt=(e,t,n,o="")=>W("stats.piano","Analytics - Piano",e,t,n,o);let qt=(()=>{let e=[];if("localStorage"in window)try{e=JSON.parse(window.localStorage.getItem("_tms_offlineQueue")||"[]")}catch{}return e})();const Ft=(e=[])=>("localStorage"in window&&window.localStorage.setItem("_tms_offlineQueue",JSON.stringify(e)),qt=e,qt),zt=()=>{let e="francemediasmonde.com";const t=N("site_brand"),n=j("mirror");return"f24"===t||"obs"===t?e=n?"f24":"france24.com":t.includes("rfi")||"fle"===t?e=n?"rfi":"rfi.fr":"mcd"===t?e="mc-doualiya.com":"infomigrants"===t&&(e="infomigrants.net"),n?`${e}.global.ssl.fastly.net`:`wvvw.${e}`},Yt=e=>{let t=e;return"function"==typeof e?(t=e(),Nt.push(((t,n)=>{const o=e();n.setConfiguration("site",o)}))):Array.isArray(e)&&(t=j("ppr")?e[0]:e[1]),t.toString()},Kt=()=>{let e="Desktop",t=1;return j("mobile")&&A(N("site_brand"),["f24","rfi","mcd","obs","fle"])&&(e="Site Mobile",t=2),{site_level2:e,site_level2_id:t}},Wt=e=>""===e||void 0===e||"object"==typeof e&&0===e.length,Jt=()=>(Ut={marque:N("site_brand").replace("f24","france24"),perimetre_de_diffusion:N("site_context"),site_version:N("site_version"),tms_version:N("tms_version")},xt.pianoAnalytics.setProperties(Ut,{persistent:!0}),Vt("setSiteProperties","Updated site properties",{siteProperties:Ut,pianoAnalytics:xt.pianoAnalytics,pageHitCount:Mt}),Ut),Gt=()=>{const e={...Kt(),langue:N("site_locale").toUpperCase(),code_http_erreur:N("http_code")||200,adblock_actif:jt?1:0},t=(()=>{let e=!1;return j("embed")?e="embed":j("ia")?e="instant-articles":j("pwa")?e="pwa-"+(j("offline")?"offline":"online"):j("mirror")&&(e="mirror"),e})();return t&&(e.type_representation=t),e.save_data=j("save_data"),e},Qt=()=>{Ht=Gt(),Ht.tags_array=[];const e=new Set(["supertag","tags_thema","tags_auteurs","niveau_langue"]),t={page:"page_name",page_chapter1:"cat1",page_chapter2:"cat2",page_chapter3:"cat3",url:"canonical",type_article:"main_media_type",titre_du_contenu:"content_title",type_de_contenu:"content_type",id_contenu:"content_id",supertag:["supertag","name",!0],id_supertag:["supertag","id",!0],emission:["show","name",!0],id_emission:["show","id",!0],emission_type:["show","genre",!1],tags_thema:["tags","name",!1],ids_tags_thema:["tags","id",!1],tags_auteurs:["authors","name",!1],ids_tags_auteurs:["authors","id",!1],niveau_langue:["language_level","name",!0],device_screen_orientation:"device_orientation"};Object.keys(t).forEach((n=>{const o=Array.isArray(t[n])?t[n][0]:t[n];let a=N(o);(n.startsWith("page")||"url"===n)&&(a=decodeURIComponent(a));const r=e.has(n);try{Wt(a)||(Array.isArray(t[n])?("name"===t[n][1]&&"string"==typeof a?Ht[n]=a.trim().split(/\s*,\s*/):t[n][2]?Ht[n]=a[t[n][1]][0]:Ht[n]=a[t[n][1]],r&&(Array.isArray(Ht[n])?Ht.tags_array.push(...Ht[n]):Ht.tags_array.push(Ht[n]))):(Ht[n]=a,r&&Ht.tags_array.push(Ht[n])))}catch(e){Vt("setPageProperties",`${n} failed`,{e:e},"error")}}));let n=N("publication_date");if(!Wt(n)){n=n.replaceAll(/[_-]*/gi,"");const e=N("publication_time");Ht["d:date_de_publication"]=`${n.slice(0,4)}-${n.slice(4,6)}-${n.slice(6,8)}T${""===e?"00:00":e}${8===e.length?"":":00"}Z`}if(j("brand_content")){const e=N("brand_content");Ht.bc_advertiser=e.name,Ht.bc_advertiser_id=e.id}xt.pianoAnalytics.setProperties(Ht,{persistent:!1});const o={title:Ht.titre_du_contenu,description:me("name","description")||"",keywords:Ht.tags_thema,authors:Ht.tags_auteurs,type:Ht.type_de_contenu};return xt.pianoAnalytics.setContentProperties(o),Object.keys(o).forEach((e=>{Ht[`content_${e}`]=o[e]})),Vt("setPageProperties","Updated page properties",{pageProperties:Ht,contentProperties:o,siteProperties:Ut,pianoAnalytics:xt.pianoAnalytics,pageHitCount:Mt}),Ht},Zt=e=>{const t=e?.httpCode||404,n=new URL(e?.url||document.location.href),o="erreur",a={page:decodeURIComponent(n.pathname.replaceAll(/[./_-]+/g,"-").slice(1)),page_chapter1:o,page_chapter2:`erreur.${t}`,titre_du_contenu:e?.httpError||"Not Found",page_title_html:e?.httpError||"Not Found",type_article:o,type_de_contenu:o,id_contenu:`erreur.${t}`,http_code:t,url:decodeURIComponent(n.href.replace(/(\?.*)?(#.*)?$/,"")),event_url_full:n.href,previous_url:e?.referrer||N("canonical"),supertag:o,tags_array:[],tags_auteurs:[],tags_thema:[],ajax:!0},r={title:a.titre_du_contenu,description:"",keywords:[],authors:[],type:a.type_de_contenu};return xt.pianoAnalytics.setContentProperties(r),a},Xt=(e,t={})=>({onBeforeBuild:(e,t,n)=>{Nt.forEach((n=>n(e,t))),n()},onBeforeSend:(n,o,a)=>{const r={},i=o.properties;Object.keys(i).forEach((e=>{r[e]=i[e].value}));const s={name:e,data:{...t,...r}};if(j("offline")&&"online"!==e){const e=[...qt,{...s}];Ft(e),Vt("genericHit","Added 1 event to offline queue as browser is offline",{eventToSend:s,offlineQueue:qt,model:o,PianoAnalytics:n,pageHitCount:Mt})}else"online"===e||Vt("genericHit",`Sent 1 ${e} event to Piano`,{eventToSend:s,model:o,PianoAnalytics:n,pageHitCount:Mt}),a()}}),en=(e="",t={},n=!1)=>{Wt(Ut)&&(Ut=Jt()),n||(Ht=Qt()),xt.pianoAnalytics.sendEvent(e,t,Xt(e,t))},tn=e=>{j("offline")||(xt.pianoAnalytics.sendEvents(qt,Xt("online")),Vt("backOnlineHit",e?"No offline event found in storage":`Sent ${qt.length} event${qt.length>1?"s":""} to Piano as ${e?"page loaded":"browser went back online"}`,{offlineQueue:qt,pianoAnalytics:xt.pianoAnalytics,pageHitCount:Mt}),Ft([]))},nn=()=>{en("page.display",{...Ut,...Ht,ajax:Bt()}),Mt+=1,1===Mt&&Ee("piano.firstPageHit")},on=e=>{en("page.display",{...Ut,...Gt(),...Zt(e)},!0)},an=(e=!1)=>{const t=It()||e;let n=Ct;t&&Tt("measure_content_performance","c:at-internet")&&Tt("cookies","c:at-internet")&&(n="opt-in"),xt.pianoAnalytics.consent.setMode(n),Vt("setConsent","Updated tracker privacy settings",{pianoMode:n,pdl:window.pdl,pianoAnalytics:xt.pianoAnalytics,pageHitCount:Mt},"consent"),Mt>0&&nn()},rn=e=>{const t=le("div","&nbsp;",{class:"adsbox pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"});ae(t,document.body),t?window.setTimeout((()=>{try{jt=0===t.offsetHeight,document.body.dataset.adblockActive=jt,ce(t),Vt("runAdblockerTest","Ad Blocker test",{result:jt,callback:e}),e()}catch(t){Vt("runAdblockerTest","Failed Ad Blocker detection",{error:t,callback:e},"error"),e()}}),100):(Vt("runAdblockerTest","Failed creation of Ad Blocker detector",{callback:e},"error"),e())},sn=()=>{an(),Jt(),tn(!0),nn(),nt((()=>tn(!1))),je((()=>nn())),Me(((...e)=>on(e[1])))},cn=(e,t)=>{const n={site:Yt(e),collectDomain:`https://${zt()}`,path:(j("mirror")?"wvvw_/":"")+"bon.jour",addEventURL:"true",campaignPrefix:["utm_","at_"],cookieDomain:((e,t)=>{const n=window.location.host.split(".").reverse();return"."+n[1]+"."+n[0]})(),cookieSecure:document.location.protocol.includes("s")};xt.pianoAnalytics.setConfigurations(n),Vt("init","Init - SDK loaded and configuration set",{pianoConfig:n,pianoAnalytics:xt.pianoAnalytics}),Object.keys(t).forEach((e=>t[e].load({setConsent:an,genericHit:en,hitPage:nn,setPageProperties:Qt,beforeBuildCallback:Xt,hasFirstPageHitRun:Bt}))),rn((()=>{It()?sn():Ge((()=>{sn()}),"piano")}))},ln=(e,t)=>{Pe((()=>cn(e,t))),Qe((()=>an()))};var dn={load:ln,localLog:Vt,hasFirstPageHitRun:Bt,updateOfflineQueue:Ft,setSiteProperties:Jt,setPageProperties:Qt,genericHit:en,backOnlineHit:tn,hitPage:nn,runAdblockerTest:rn,init:cn};let un,pn,fn,gn;window.didomiEventListeners=window.didomiEventListeners||[];const mn=()=>t().hct||"0",vn=(e,t,n,o="")=>W("stats.piano.clicks","Analytics - Piano - Clicks",e,t,n,o),_n=(e,...t)=>{const n=e,o={click:n};t.forEach(((e,t)=>{o[`click_chapter${t+1}`]=e.replace("%ctype%",N("content_type"))})),pn("click."+(n.includes("exit")?"exit":"action"),o)},hn=e=>{const t=e,n=t.split("."),o=()=>_n(n[1],"cmp",n[0]);window.didomiEventListeners.push({event:t,listener(){gn()?o():Se("piano.firstPageHit",(()=>o()),"tms.event",!0)}}),vn("setupCmpEvent","CMP Event setup",{cmpEventName:e})},bn=(e,t,n,o,a,r,...i)=>{e(n,o,a,r,...i),t>0&&(je((()=>{e(n,o,a,r,...i)})),t>1&&Ue((()=>{e(n,o,a,r,...i)})))},yn=(e,t,n)=>{un=e.setConsent,pn=e.genericHit,fn=e.hitPage,gn=e.hasFirstPageHitRun,Pe((()=>{"1"===mn()&&fe("[data-tms-tr],[data-tms-tr]>div:first-child{border:3px solid #adff2f !important;}"),["notice.clickagree","notice.clickclose","notice.clickdisagree","notice.clickmoreinfo","notice.clickviewvendors","preferences.clickagreetoall","preferences.clickcategoryagree","preferences.clickcategorydisagree","preferences.clickclose","preferences.clickdisagreetoall","preferences.clickpurposeagree","preferences.clickpurposedisagree","preferences.clicksavechoices","preferences.clickvendoragree","preferences.clickvendordisagree","preferences.clickvendorsavechoices","preferences.clickviewvendors"].forEach((e=>hn(e))),Oe((()=>{It()||(gn()||(un(!0),fn()),_n("exitwithoutanswering","cmp","notice"))})),window.didomiEventListeners.push({event:"notice.shown",listener(){t(!0,["all"],".didomi-notice-popup .didomi-notice-view-partners-link","action","clickviewvendors","cmp","notice")}}),n()}))},wn="FovClicks";let kn;const Cn="1"===mn();window.didomiEventListeners=window.didomiEventListeners||[];const An=(e,t,n,o="")=>W("stats.piano.fov.clicks","Analytics - Piano - FOV Clicks",e,t,n,o),Pn=(e,t,n,o,...a)=>{if("all"===e[0]||A(N("content_type"),e)){let e="body",r=t;const i=n;Array.isArray(t)&&([e,r]=t);te(e).forEach(((e,t)=>{const n=te(`${r}:not([data-tms-tr])`,e);if(n.length>0){const r=o,s=a,c={click:r};s.forEach(((n,o)=>{if(c[`click_chapter${o+1}`]=n.replace("%wrapper%",t+1).replace("%rep1%","homepage"===N("content_type")?"homepage":w(N("cat1"))).replace("%org-type%",w(e.dataset.orgType||"")).replace("%org-name%",w(e.dataset.orgName||"")),"%nav-id%"===c[`click_chapter${o+1}`]){const t=e.closest("[data-nav-id]").dataset.navId||"";c[`click_chapter${o+1}`]=c[`click_chapter${o+1}`].replace("%nav-id%",w(t)),"menu"!==t&&s.pop()}})),n.forEach(((e,t)=>{const n=e;let o=i;const a={...c};a.click=r.replace("%nb%",t+1).replace("%liveType%",j("rfi")&&"fr"===N("site_locale")&&1===t?"-afrique":"").replace("%title%",w(n.getAttribute("title")||"")).replace("%label%",w(n.getAttribute("aria-label")||"")).replace("%action%",w(n.dataset.action||"")).replace("%appos%",w(n.dataset.selfpromoAppLink||"")).replace("%text%",w(n.textContent||"")).replace("%page%",n.classList.contains("m-pagination__item__link--svg")?""+(0===t?"previous":"next"):`page-${n.textContent}`),"click_chapter2"in a&&"%aria-controls%"===a.click_chapter2&&(a.click_chapter2=w(n.getAttribute("aria-controls")||"").replace("site-nav-","")),n.hasAttribute("download")||"download"===a.click?o="download":"%target%"===o&&(o=n.hasAttribute("target")?"exit":"navigation");const s=`click.${o}`,l=()=>{const t={...a};if(Object.keys(t).filter((e=>e.includes("click_chapter"))).forEach((e=>{t[e]=t[e].replace("%ctype%",N("content_type"))})),t.click=a.click.replace("%expanded%","true"===n.getAttribute("aria-expanded")?"open":"close").replace("%opened%",n?.previousSibling?.classList?.contains("m-context-menu--opened")?"open":"close").replace("%playpause%",n.classList.contains("a-picto-play-pause--pause")?"pause":"play"),"%plExpanded%"===t.click){let e=te(".o-playlist")[0].classList.contains("o-playlist--show")||!1;"audio-player"===t.click_chapter1&&(e=!e),t.click=t.click.replace("%plExpanded%",e?"open":"close")}if("%addRemove%"===t.click){const n=te("button",e);t.click=t.click.replace("%addRemove%",n[0].classList.contains("m-cta--playlist-remove")?"add":"remove")}return kn(s,t),"true"===n.getAttribute("aria-haspopup")&&$n(e),!0};"reorder"===a.click?["mousedown","touchstart"].forEach((e=>n.addEventListener(e,(()=>l())))):n.addEventListener("click",(()=>l())),n.dataset.tmsTr="",Cn&&n.setAttribute("title",JSON.stringify({pianoEvent:s,...a})),An("setup","Click setup",{pianoEvent:s,...a})}))}}))}},xn=(e,t,n,o,a,...r)=>bn(Pn,e,t,n,o,a,...r),$n=e=>{const t=e.parentElement;let n;"rootShare"in t.dataset&&!j("mobile")?(n="share",xn(0,["all"],".o-popin__content__buttons button","action","shorty","%ctype%","share","modal")):"rootPodcast"in t.dataset&&(n="podcast"),void 0!==n&&(xn(0,["all"],".o-popin__content__buttons a","action","podcast"===n?"%text%":"%label%","%ctype%",n,"modal"),xn(0,["all"],"button[data-modal-close]","action","close","%ctype%",n,"modal"))},Sn=()=>{xn(0,["all"],".o-playlist__btn-toggle","action","%plExpanded%","audio-player","playlist"),xn(0,["all"],".m-playlist-item__drag-btn","action","reorder","audio-player","playlist","item"),xn(0,["all"],".m-playlist-item__play-btn","action","%playpause%","audio-player","playlist","item"),xn(0,["all"],".m-playlist-item__remove-btn","action","remove","audio-player","playlist","item")},En=e=>{kn=e.genericHit;const t=["article","depeche","edition","video","urgent"];yn(e,xn,(()=>{window.didomiEventListeners.push({event:"notice.clickdisagree",listener(){setTimeout((()=>{xn(0,["all"],".refusal-bar_hide","action","close","refusal-bar"),xn(0,["all"],".refusal-bar_change","action","change-answer","refusal-bar"),xn(0,["all"],".refusal-bar_play-video","action","play-video","refusal-bar"),xn(0,["all"],".refusal-bar_hide-video","action","close-video","refusal-bar")}),150)}}),xn(0,["all"],".o-header__home-link-wrapper a","navigation","logo","header"),xn(0,["all"],".o-bottom-bar__item--live a, .o-bottom-bar__item--live button:not([data-site-nav-button])",j("f24")?"navigation":"action","direct%liveType%","header"),j("rfi")&&"fr"===N("site_locale")&&xn(0,["all"],"#site-nav-directs .a-player-links button","action","direct%liveType%","header"),xn(0,["all"],".o-header__site-nav-link > a, .o-bottom-bar__item__link > a","navigation","%action%","header"),xn(0,["all"],".o-header__site-nav-link > button, .o-bottom-bar__item__link > button","action","%expanded%","header","%aria-controls%"),xn(1,["all"],".o-hot-tags a, .t-content--page-builder .o-tag-list a","navigation","link-%nb%","subnavigation","hottags"),xn(0,["all"],".o-tag-list-wrapper a","navigation","link-%nb%","subnavigation","regions"),xn(0,["all"],[".o-site-nav__wrapper--openable","a.a-nav-link"],"navigation","link-%nb%","header","%nav-id%","grey-section-%wrapper%"),xn(0,["all"],["*:not(.m-nav-list--tags) > .o-site-nav__wrapper:not(.o-site-nav__wrapper--openable) .m-nav-list","a.a-nav-link"],"navigation","link-%nb%","header","%nav-id%","white-section-%wrapper%"),xn(0,["all"],".o-special-bar a","exit","link-%nb%","special-bar"),xn(0,["all"],"div.o-footer a.a-hot-tag","navigation","link-%nb%","footer","hot-tags"),xn(0,["all"],[".o-footer__block",".m-nav-list__list__item a"],"%target%","link-%nb%","footer","section-%wrapper%"),xn(0,["all"],[".o-footer__block",".m-box-expand__button"],"action","%expanded%","footer","section-%wrapper%","%aria-controls%"),xn(0,["all"],".m-footer-logos a","exit","logo-fmm","footer"),xn(0,["all"],".a-foote-credits a.a-svg--logo-acpm","exit","logo-acpm","footer"),xn(0,["all"],".m-back-to-top","action","back-to-top","%ctype%"),Be((()=>{xn(0,["all"],".a-audio-player-btn--options","action","%opened%","audio-player","menu"),xn(0,["all"],".m-player-volume__btn","action","%opened%","audio-player","volume"),xn(0,["all"],".o-audio-player__actions .m-context-menu--options > li","action","%action%","audio-player","menu"),xn(0,["all"],".o-audio-player__actions .a-playlist-btn","action","%plExpanded%","audio-player","playlist"),Sn()})),Fe((()=>Sn())),xn(1,["homepage","section","service"],["aside[data-org-name]","a:not(.o-aside-content__see-more)"],"navigation","link-%nb%","%ctype%","%rep1%","%org-type%_%org-name%"),xn(1,["homepage","section","service"],["aside[data-org-name]","a.o-aside-content__see-more"],"navigation","seemore","%ctype%","%rep1%","%org-type%_%org-name%"),(j("rfi")||j("mcd"))&&(xn(1,["service"],".o-live__cta [data-root-audio-player-button] > button","action","%playpause%","direct"),xn(1,["service"],".o-live__cta .o-live__cta__podcast-link","navigation","podcasts-link","direct"),xn(1,["service"],".m-podcast-item__cta [data-root-audio-player-button] > button","action","%playpause%","direct","related"),xn(1,["service"],"a.m-podcast-item__infos__program","navigation",(j("f24")?"logo":"text")+"-link","direct","related","parent-show"),xn(1,["service"],"a.m-podcast-item__image","navigation","picture-link","direct","related","parent-show"),xn(1,["service"],"a.m-podcast-item__infos__edition, a.m-podcast-item__infos__edition","navigation","edition-link","direct","related"),xn(1,["service"],".o-podcast-list__cta .o-live__cta__podcast-link","navigation","podcasts-link","direct","related"),xn(1,["service"],".o-podcast-list__list span[data-playlist-add]","action","%addRemove%","direct","related","playlist")),xn(1,["all"],".m-breadcrumb__list__item > a","navigation","link-%nb%","%ctype%","breadcrumb"),xn(1,[...t,"emission"],"a.m-from-author__name, a.m-program-author","navigation","authorlink-%nb%","%ctype%","author"),xn(1,[...t,"tag"],"a.a-twitter-follow-button","exit","twitterlink-%nb%","%ctype%","author"),xn(1,[...t,"emission"],"a.m-share-bar__link","action","%label%","%ctype%","share"),xn(2,[...t,"emission"],"span[data-root-share] > button","action","share"in navigator&&j("mobile")?"web_share_api":"modal","%ctype%","share"),xn(2,[...t],"span[data-root-embed] > button","action","embed","%ctype%","share"),xn(2,["edition"],".m-feed-sub__audio [data-root-audio-player-button] > button, .o-podcast-header__infos__cta [data-root-audio-player-button] > button","action","%playpause%","%ctype%"),xn(2,["emission"],".o-podcast-header__infos__cta [data-root-audio-player-button] > button","action","%playpause%","%ctype%","last-edition"),xn(1,["emission","edition"],".t-content__edition-emission .a-program-link, .o-podcast-header__infos .a-program-link","navigation",(j("f24")?"logo":"text")+"-link","%ctype%","parent-show"),xn(1,["emission","edition"],".o-podcast-header__image a","navigation","picture-link","%ctype%","parent-show"),xn(2,["emission","edition"],"[data-root-podcast] > button","action","podcast","%ctype%"),xn(2,["emission","edition"],"[data-menu-options] > button","action","%opened%","%ctype%","more-menu"),xn(2,["emission","edition"],"[data-menu-options] > ul > li","action","%action%","%ctype%","more-menu"),xn(1,["section"],"a.m-item-timeline__infos__dl-link","download","downloadlink-%nb%","journal"),xn(1,[...t],".m-tags-list__tag a","navigation","%title%","%ctype%","tags"),xn(1,[...t],"button[data-readmore-unlocker]","action","readmore","%ctype%"),xn(1,[...t],".t-content__related a","navigation","link-%nb%","%ctype%","related","manual"),xn(1,[...t],".t-content__list-content .o-aside-content--related a","navigation","link-%nb%","%ctype%","related","auto"),xn(1,[...t],".o-aside-content--top-articles a","navigation","link-%nb%","%ctype%","most-read"),xn(1,[...t],"[data-selfpromo-newsletter] a","exit","subscribe","%ctype%","selfpromo","newsletter"),xn(1,[...t],"[data-selfpromo-app] a","download","download-%appos%","%ctype%","selfpromo","app"),xn(1,["section","emission","tag"],"#pager a.m-pagination__item__link","navigation","%page%","%ctype%","paging","top"),xn(1,["section","emission","tag"],".m-pagination-wrapper:not(#pager) a.m-pagination__item__link","navigation","%page%","%ctype%","paging","bottom"),xn(2,["section","emission","edition"],".o-podcast-list__list [data-root-audio-player-button] > button","action","%playpause%","%ctype%","all-editions"),xn(2,["section","emission","edition"],".o-podcast-list__list [data-playlist-add]","action","%addRemove%","%ctype%","all-editions","playlist"),xn(1,["section","emission","edition"],".o-podcast-list__list a.m-podcast-item__image","navigation","picture-link","%ctype%","all-editions","parent-show"),xn(1,["section","emission","edition"],".o-podcast-list__list a.m-podcast-item__infos__program","navigation","text-link","%ctype%","all-editions","parent-show"),xn(2,["section","emission","edition"],"[data-load-more], .o-live__cta__podcast-link","action","load-more","%ctype%"),j("fle")&&(xn(1,["edition"],"a.m-transcription__load-pdf","action","open-pdf","%ctype%","transcription"),xn(1,["edition"],".m-transcription__content button.m-box-expand__button","action","%expanded%","%ctype%","transcription"),xn(1,["edition"],".m-chapters__content button","action","jump-to-chapter","%ctype%","chapters"))}))};var Tn={name:wn,load:En,detectLinks:Pn,localSetup:xn,setupModal:$n,setupPlaylistItems:Sn};const In="FovAv";let On,Dn;const Ln={},Rn={ready:["play",!1],playing:["playbackStart",!1,"start"],buffering:["bufferStart",!1,"buffer"],paused:["playbackPaused",!1,"pause"],before_seeking:["seekStart",!1],seeking:["seek",!1],seek_forward:["jump.forward",!0],seek_backward:["jump.backward",!0],stopped:["playbackStopped",!1,"stop"],ad_playing:["ad.start",!0],ad_ending:["ad.end",!0],engagement_15s:["engagement.15s",!0],error:["error",!1],close:["close",!1],destroyed:["close",!1],volume:["volume",!1],panel_show:["panel.show",!0],panel_hide:["panel.hide",!0],subtitles_on:["subtitleOn",!1,"subtitle.on"],subtitles_off:["subtitleOff",!1,"subtitle.off"],fullscreen_on:["fullscreenOn",!1,"fullscreen.on"],fullscreen_off:["fullscreenOff",!1,"fullscreen.off"],quality:["quality",!1],speed:["speed",!1]},Mn=(e,t,n,o="")=>W("stats.piano.fov.av","Analytics - Piano - FOV AV",e,t,n,o),Nn=(e,t)=>{const n=t.split(".");let o=e;for(let e=0,t=n.length;e<t;e+=1){const t=n[e];if(null==o||"object"!=typeof o||!(t in o))return!1;o=o[t]}return o},jn=(e,t=[],n="")=>Nn(e,t)||n,Un=e=>{if("videoType"in e&&void 0!==e.player){if(/youtube/i.test(e.videoType))return e.player.getIframe().id;if("videojs"===e.videoType)return e.player.id_}return e?.options?.selector||e?.playerId},Hn=e=>{let t=0;return"videoType"in e?/youtube/i.test(e.videoType)?t=e?.player?.getCurrentTime()||0:"videojs"===e.videoType&&(t=jn(e,"player.tech_.el_.currentTime",0)):"time"in e?t=e.time:"_currentAdapter"in e.player&&(t=jn(e,"player._currentAdapter._mediaElement.currentTime",0)),Number.parseInt(1e3*t,10)},Bn=e=>{let t=0;return"videoType"in e?/youtube/i.test(e.videoType)?t=e?.player?.getDuration()||0:"videojs"===e.videoType&&(t=jn(e,"player.tech_.el_.duration",0)):"duration"in e?t=e.duration:"_currentAdapter"in e.player&&(t=jn(e,"player._currentAdapter._mediaElement.duration",0)),Number.parseInt(-1===t?t:1e3*t,10)},Vn=e=>{const t=Number.parseInt(e/6e4,10);let n="60+";return t<5?n="0-5":t<10?n="5-10":t<15?n="10-15":t<30?n="15-30":t<45?n="30-45":t<60&&(n="45-60"),n},qn=(e,t)=>{if("main-audio-player"===e)return"main_audio";if("videoType"in t&&/smartembed$/i.test(t.videoType))return"post_article_recommendation";const n=document.querySelector(`#${e}`);return n&&n.closest(".t-content__main-media")||e.includes("main")?"main_video":n&&n.closest(".m-em-video__video-wrapper")?"em_video":""},Fn=(e,t,n)=>{"media"in t||(t.media={});const{media:o,videoType:a}=t;let r,i,s,c,l,d,u=!1,p="click";const f="audio"===n?"AOD":"VOD";if("videoType"in t&&/youtube/i.test(a)){const e=t?.player,n=e?.getVideoData();i=jn(n,"video_id"),r=jn(n,"title",i),c=void 0!==e&&e.getDuration()<=e.getMediaReferenceTime(),u=/smartembed$/i.test(a),p=u?"scroll":"click",l=e?.getPlaybackRate()||1,d=e?.getVolume()||50}else if("videoType"in t&&"videojs"===a)i=jn(o,"mediaId"),r=jn(o,"diffusion.title",i),s=jn(t,"player.options_.sources.0.src"),l=jn(t,"player.tech_.el_.playbackRate",1),d=Number.parseInt(100*jn(t,"player.tech_.el_.volume",.5),10),c=!/\.mp[34â€“]$/g.test(s);else{i=jn(o,"mediaId"),r=jn(o,"diffusion.title",i),c="live"===o.type,u=jn(o,"isAuto",!1);const e=jn(o,"isInPlaylist",!1);u&&e?p="next_user_item":u&&(p="next_recommended_item"),s=jn(o,"sources.0.url"),l=jn(t,"playerId._mediaElement.playbackRate",1),d=Number.parseInt(100*jn(t,"playerId._mediaElement.volume",.5),10)}const g=c?-1:Bn(t);return{title:r,episodeTitle:jn(o,"diffusion.title"),episodeId:jn(o,"diffusion.id"),showTitle:jn(o,"emission.title"),showId:jn(o,"emission.id"),showGenre:jn(o,"emission.genre"),mediaId:i,sourceUrl:s,duration:g,durationRange:c?"Live":Vn(g),broadcastingType:c?"Live":f,position:qn(e,t),autoMode:u,launchReason:p,playbackSpeed:l,playbackVolume:d}},zn=(e,t,n)=>{const o=Fn(e,t,n);return{av_player:e,av_player_version:N("site_version"),av_player_position:o.position,av_content:o.title,av_content_id:o.mediaId,av_content_type:n,av_content_duration:o.duration,av_content_genre:o.showGenre,av_content_linked:N("content_id"),av_content_duration_range:o.durationRange,av_broadcasting_type:o.broadcastingType,av_playback_speed:o.playbackSpeed,av_playback_volume:o.playbackVolume,av_show:o.showTitle,av_show_id:o.showId,av_episode:o.episodeTitle,av_episode_id:o.episodeId,av_auto_mode:o.autoMode,av_language:N("site_locale"),av_launch_reason:o.launchReason}},Yn=(e,t)=>{const n=Number.parseFloat(t);Ln[e].setPlaybackSpeed(n)},Kn=(e,t,n,o,a)=>{const r=[],i={},s=zn(t,n,o);let c;if(e in Rn){let l=Rn[e][0];c=`av.${l}`,Rn[e][1]&&(r.push(c),l="track"),Rn[e][2]&&(c=`av.${Rn[e][2]}`);const d=Hn(n);switch("ready"===e||Ln[t].status.isReady||Kn("ready",t,n,o),e){case"ready":Ln[t].status.isReady=!0,Ln[t].status.engagement15s=rt(15,(()=>{Kn("engagement_15s",t,n,o)}));break;case"metadata":return void Ln[t].setProps(On());case"playing":Ln[t].status.started>0&&(c="av.resume",l="playbackResumed"),Ln[t].status.started+=1,Ln[t].status.engagement15s.resume();break;case"before_seeking":return Ln[t].status.isSeeking||(Ln[t].status.isSeeking=!0,Ln[t].status.lastPosition=d),void Ln[t].status.engagement15s.pause();case"seeking":{const e=Ln[t].status.lastPosition;c="av."+(d>e?"forward":"backward"),i.av_previous_position=e,r.push(e),Ln[t].status.engagement15s.pause();break}case"seek_forward":case"seek_backward":s.av_playback_jump_value=Number.parseInt(a,10);break;case"speed":{const e=Number.parseFloat(s.av_playback_speed);Yn(t,e);break}case"panel_show":case"panel_hide":1===te(".o-player-panel").length&&"transcription"===a&&Kn("subtitles_"+("panel_show"===e?"on":"off"),t,n,o,"transcription");break;case"buffering":Ln[t].status.isBuffering=!0,Ln[t].status.hasBuffered&&(c="av.rebuffer.start"),Ln[t].status.hasBuffered=!0,Ln[t].status.engagement15s.pause();break;case"paused":case"ad_playing":Ln[t].status.engagement15s.pause();break;case"stopped":Ln[t].status.hasBuffered=!1,Ln[t].status.isReady=!1,Ln[t].status.started=0,Ln[t].status.engagement15s.pause(),Ln[t].status.engagement15s=void 0}"buffering"!==e&&(Ln[t].status.isBuffering=!1),/(before_seeking|seek)/.test(e)||(Ln[t].status.isSeeking=!1),/(ready|playing|buffering|paused|seeking|stopped)/.test(e)&&(i.av_position=d,r.push(d)),"track"===l&&1===r.length&&r.push({}),Ln[t].setProps(On()),Mn(`before.sendPianoAvEvent.${l}`,`Before Send AV Event - ${l}`,{mediaTracker:Ln,curTracker:Ln[t],action:e,pianoAction:l,trackerVariables:r,mainProperties:i,extraProperties:s,player:n,playerId:t,type:o,modifier:a}),Ln[t][l](...r,Dn(c,{...i,...s}),s)}},Wn=(e,t,n,o)=>{const a=e.replace(/(fov\.)?(video_)?player\.(state|action)\./i,"").replace(/cued|canplay(through)?/i,"metadata").replace("ended","stopped").replace(".","_");if("resetAll"===a||"resetPage"===a){let t=Object.keys(Ln);if("resetPage"===a&&(t=t.filter((e=>!(e.startsWith("main")||Ln[e]?.status?.started<1)))),t.forEach((t=>{Ln[t].close((()=>{Mn("hitAv.close","Close",{mediaTracker:Ln,curTracker:Ln[t],playerId:t,event:e}),delete Ln[t]}))})),Ln.length>0){const e=On();Ln.forEach((t=>{Ln[t].setProps(e)}))}}else{"metadata"===a&&"audio"===n&&Ee("player.ready");const r=Un(t);r in Ln||(Ln[r]=new xt.pianoAnalytics.avInsights.Media({0:5,1:10,5:60},5),Ln[r].status={started:0,lastPosition:0,isSeeking:!1,isBuffering:!1,isReady:!1,hasBuffered:!1,isAdPlaying:!1},Mn("mediaTrackerSetup","Setup",{pianoAnalytics:xt.pianoAnalytics,mediaTracker:Ln,event:e,player:t,playerId:r,type:n,modifier:o})),Mn(`hitAv.${a}`,`Hit - ${y(a)}`,{pianoAnalytics:xt.pianoAnalytics,mediaTracker:Ln,curTracker:Ln[r],event:e,action:a,player:t,playerId:r,type:n,modifier:o}),Kn(a,r,t,n,o)}},Jn=e=>{On=e.setPageProperties,Dn=e.beforeBuildCallback,Mn("init","Init",{baseFunctions:e}),Ve(((e,t)=>{let n,o;Array.isArray(t)&&([n,o]=t),Wn(e,n,"audio",o)})),qe(((e,t)=>{Wn(e,t,"audio")})),ze(((e,t)=>{Wn(e,t,"video")})),je((()=>{Wn("resetPage")})),Oe((()=>{Wn("resetAll")}))};var Gn={name:In,load:Jn};const Qn="Scroll";let Zn;const Xn=(e,t,n,o="")=>W("stats.piano.scroll","Analytics - Piano - Scroll",e,t,n,o),eo=e=>{const t=e.parentNode;return Number.parseInt((e.scrollTop||t.scrollTop)/(t.scrollHeight-t.clientHeight)*100,10)},to=e=>{const t=eo(document.body);Zn("page.scroll",{page_offsety_pct:t}),Xn("triggerHit","Event triggered",{event:e,pageOffsetY:t})},no=e=>{Zn=e.genericHit,at((e=>to(e))),Xn("init")};var oo={name:Qn,load:no,getVerticalScrollPercentage:eo,triggerHit:to};let ao="";window._sf_async_config=window._sf_async_config||{},window._cbv=window._cbv||[],window._cbq=window._cbq||[];const ro=(e,t,n,o="")=>W("stats.chartbeat","Analytics - Chartbeat",e,t,n,o),io=()=>{const e=N("site_brand"),t=N("site_locale");let n=!1;switch(e){case"obs":n=`${t}.observers.france24.com`;break;case"f24":n=`${t}.france24.com`;break;case"rfi":n=`${t}.rfi.fr`,"ro"===t&&(n="rfi.ro");break;case"fle":n=`${t}.francaisfacile.rfi.fr`;break;case"rfi-musique":n="musique.rfi.fr";break;case"mcd":n="mc-doualiya.com";break;case"infomigrants":n=`${t}.infomigrants.net`}return n&&j("ppr")&&(n=`rec.${n}`),n},so=(e="tags")=>{let t=[];if(!Wt(e)){const n=N(e);"object"==typeof n&&void 0!==N(e).name?t=N(e).name:"string"==typeof n&&(t=N(e).split(/[\s_]*,[\s_]*/))}if("tags"===e&&(A(N("content_type"),["article","edition","depeche"])||j("graphics"))){const e=N("cat1"),n=N("cat2");""!==e&&t.unshift(e),""!==n&&t.unshift(n)}return t.join(",")},co=()=>{const e=!Tt("cookies","c:chartbeat");_sf_async_config.noCookies=e,ro("fire","Updated consent",{noCookieMode:e},"consent")},lo=()=>{co();const e={path:N("canonical").replace(/https?:\/\/(.*)(\?(.*))?(#(.*))?$/,"$1"),virtualReferrer:ao,title:document.title,type:N("content_type"),sections:so("tags"),authors:so("authors")};return ro("fire","Hit - Page",{domain:io(),eventData:e}),window.pSUPERFLY.virtualPage(e),ao=e.path,e},uo=()=>{const e=io(),t=N("site_brand");if(e){ro("init"),_sf_async_config.uid=65811,_sf_async_config.domain=e,"f24"===t&&(_sf_async_config.playerdomain=(j("ppr")?"rec.":"")+"embed.france24.com"),_sf_async_config.path=N("canonical").replace(/https?:\/\/(.*)(\?(.*))?(#(.*))?$/,"$1"),_sf_async_config.virtualReferrer=document.referrer,_sf_async_config.title=document.title,_sf_async_config.type=N("content_type"),_sf_async_config.sections=so("tags"),_sf_async_config.authors=so("authors"),_cbq.push(["_acct","anon"]),ao=_sf_async_config.path,co();let n="chartbeat";j("ia")?n+="_fia":["f24","rfi","mcd","obs"].includes(t)&&(_cbv.push(["autoDetectYouTubeIframes"]),ze(((e,t)=>{"video_player.state.ready"===e&&/youtube/i.test(t.videoType)&&(_cbv.push(t.player),ro("init","Referenced YouTube Player",{_cbv:_cbv,state:e,player:t}))})),n+="_video"),de(`https://static.chartbeat.com/js/${n}.js`,{id:"chartbeat-script",async:""},(()=>{je(lo),ro("init","SDK loaded",{chartbeatFile:n,_sf_async_config:_sf_async_config})}))}},po=()=>{Qe((()=>co)),Pe((()=>{tt((()=>{It()?uo():Ge((()=>uo()),"chartbeat")}))}))};var fo={load:po,localLog:ro,domain:io,currentPath:ao,updateTrackerPrivacy:co,fire:lo,init:uo};const go=(e,t,n,o="")=>W("inread.common","Ads - Inread - Common",e,t,n,o),mo=window.contextlayer.translations["ad.blocks.label"]||"Advertising",vo=window.contextlayer.translations["ad.report.label"]||"Report this ad",_o=(e,t,n)=>{de(t,{id:`inread-${e}-script`,async:""},(()=>{window.tms.tags.inread[e].initialized=!0,n(),go("callSdk",`Loaded "${e}" SDK`)}))},ho=e=>{try{const t=e;if("emptyP"in t.dataset)return"true"===t.dataset.emptyP;const n=te("p:not(:empty)");let o=!1;for(let e=0,t=n.length;e<t;e+=1)" "!==n[e].textContent&&"&nbsp;"!==n[e].innerHTML||(n[e].classList.add("empty"),o=!0);return t.dataset.emptyP=o,o}catch{return!1}},bo=()=>{ho(te("article .t-content__body")[0]);const e=".t-content__body > ",t=te("article")[0],n=te(`${e}p:not(:empty):not(.empty),${e}h1,${e}h2,${e}h3,${e}h4,${e}h5,${e}h6`,t);let o;const a=j("mobile")?3:4;if(n.length===a||n.length>a&&/<(h[1-6]|p>(\s*)<strong)>([^<>]|(<\/?(strong|span|br?|i|em)>))*<\/(strong>(\s*)<\/p|h[1-6])>/gim.test(n[a-1].outerHTML))o=n[a-2];else{if(!(n.length>a))return!1;o=n[a-1]}const r=le("div",`<div class="m-inread-ad__report m-inread-ad__report--report-enabled"><button title="${vo}" class="m-inread-ad__label__report-link" rel="noopener" data-tms-ad-report><svg xmlns="http://www.w3.org/2000/svg" width="26.077" height="16.107" viewBox="0 0 26.077 16.107"><g transform="translate(1.325 0.5)"><path d="M6.669,15.107a1.5,1.5,0,0,1-1.5-1.5V10.184H0L5.169,5.637V1.5A1.5,1.5,0,0,1,6.669,0H22.752a1.5,1.5,0,0,1,1.5,1.5V13.607a1.5,1.5,0,0,1-1.5,1.5Z" fill="none" stroke="currentColor" stroke-width="1"></path><g transform="translate(29.422 15.107) rotate(-180)"><path d="M-2119.5-2724.245v7.84" transform="translate(2134.21 2729.348)" fill="none" stroke="currentColor" stroke-width="2"></path><path d="M-2119.5-2732v1.732" transform="translate(2134.21 2734.165)" fill="none" stroke="currentColor" stroke-width="2"></path></g></g></svg></button></div>\n<div class="m-inread-ad__label m-inread-ad__label--report-enabled"><span class="m-inread-ad__label__text">${mo}</span></div>\n<div class="m-inread-ad__content"></div>`,{class:"tms-ad m-inread-ad","data-tms-ad-type":"inread","data-tms-ad-provider":"gam","data-tms-ad-owner":"fmm","data-tms-ad-pos":"1","data-tms-ad-status":"idle",style:"line-height:0;font-size:0;border:none;overflow:hidden;"});return se(r,o)},yo=()=>{if(!_t("inread")&&(j("article")||j("depeche")||j("edition"))){const e=bo();e&&K("tms.tags.inread.beforeAdsFilled","Ads - InRead - Ad injection zone created",e)}},wo=()=>{Pe((()=>{fe(`\n.m-inread-ad, .m-inread-ad[data-tms-ad-inread-provider] .m-inread-ad__label{\ndisplay:none;\n}\n.m-inread-ad[data-tms-ad-status=resized] {\ndisplay:block;\nposition:relative;\nmargin-top: 2px;\nmargin-bottom: 30px;\n}\n.m-inread-ad .m-inread-ad__label {\nheight: 25px;\nline-height: 25px;\nbackground-color: #f0f0f0;\nbox-sizing: content-box;\ntext-transform: uppercase;\ndisplay: flex;  \nflex-flow: row nowrap;\njustify-content: space-between;\nalign-items: center;\nfont-size: 1.1rem;\ncolor: #505050;\n}\n.m-inread-ad .m-inread-ad__label span{\npadding: 0 6px;\ntext-align: start;\n}\n.m-inread-ad .m-inread-ad__report.m-inread-ad__report--report-enabled {\ndisplay:none;\n}\n.m-inread-ad[data-tms-ad-status=resized] .m-inread-ad__report.m-inread-ad__report--report-enabled {\ncolor: #777;\ndisplay: flex;\nposition: absolute;\n${j("rtl")?"left":"right"}: 0;\nheight: 25px;\nz-index: 100;\nalign-items: center;\npadding: 0 6px;\n${j("rtl")?"transform: scaleX(-1);":""}\n}\n`)}))};var ko={load:wo,adTranslation:mo,callSdk:_o,injectWrapper:bo,checkEmptyParagraphs:ho,beforeAdsFilled:yo};const Co="data-tms-ad-",Ao=(e,t,n,o="")=>W("ads.report","Ads - Report",e,t,n,o),Po=e=>{const t=e.id||te(".m-block-ad__content, .m-inread-ad__content",e)[0].id,n=e.getAttribute(`${Co}type`)||!1,o=window.tms.tags.ads.gam.blocks[n][t],a=o.getServices()[0],r=o.getResponseInformation(),i={adUnit:o.getAdUnitPath(),contentUrl:o.getContentUrl(),queryId:o.getEscapedQemQueryId(),responseInfo:r,targetingMap:{page:(e=>{const t={};return e.forEach((e=>{t[e]=a.getTargeting(e)})),t})(a.getTargetingKeys()),slot:o.getTargetingMap()},slotAttributes:(t=>{const n={};return["owner","provider","type","status","pos","inread-provider","inread-provider-exclusions"].forEach((t=>{const o=e.getAttribute(`${Co}${t}`)||!1;o&&(n[t]=o)})),n})(),html:{},size:{width:0,height:0}},s=te("iframe",e)[0];try{const t=e.getAttribute(`${Co}inread-provider`)||"gam";if("inread"===n&&"gam"!==t){const n=te(".m-inread-ad__content",e)[0];let o=n.innerHTML;if("teads"===t){const e='iframe:not([id^="google_ads_iframe"])',t=/(<iframe(?! id="google_ads_iframe)([^>]*))>(<\/iframe>)/gi,a=' src="data:text/html;charset=utf-8,',r=te(e,n),i=[...o.matchAll(t)];if(i.length===r.length&&r.length>0)for(let n=0,s=r.length;n<s;n+=1){const s=r[n].contentDocument.body;let c=s.parentElement.outerHTML;const l=te(e,s);if(l.length>0){const e=[...c.matchAll(t)];if(e.length===l.length&&l.length>0)for(let t=0,n=l.length;t<n;t+=1){const n=l[t].contentDocument.body.parentElement.outerHTML;c=c.replace(e[t][0],`${e[t][1]}${a}${encodeURIComponent(n)}">${e[t][3]}`)}}o=o.replace(i[n][0],`${i[n][1]}${a}${encodeURIComponent(c)}">${i[n][3]}`)}}i.html.code=btoa(o),i.size.width=e.offsetWidth,i.size.height=e.offsetHeight}else i.html.code=btoa(s.contentWindow.document.body.parentElement.outerHTML);i.html.rendered="1"}catch{i.html.code=btoa(r.isBackfill?"Non disponible (Backfill ADEX)":o.getHtml()),i.html.rendered="0"}return i.size.width=i.size.width||s.width.replace("px",""),i.size.height=i.size.height||s.height.replace("px",""),Ao("getAdCode","Campaign details",i),i},xo=(e,t)=>{const n={b:N("site_brand"),l:N("site_locale"),s:N("site_version"),t:N("tms_version"),u:window.location.href+(t?"":"?xmlhttprequest=1"),r:document.referrer},o=Po(e);try{const e=`https://www.francemediasmonde.com/report/ad.html?i=${encodeURIComponent(btoa(JSON.stringify(n)))}#i=${encodeURIComponent(btoa(encodeURIComponent(JSON.stringify(o))))}`;window.open(e,"_blank")?Ao("openAdReport","Opened ad report",{url:e,reportInfo:n,hashInfo:o}):alert("Please allow popups / Merci d'autoriser les popups")}catch(e){Ao("openAdReport","Unable to create ad report URL",e,"error")}},$o=e=>{Ao("init");te(`[${Co}report]:not([${Co}report=ready])`).forEach((t=>{let n=t.parentNode.parentNode;n&&!n.hasAttribute(`${Co}type`)&&([n]=te(`[${Co}type]`,n)),t.setAttribute(`${Co}report`,"ready"),t.addEventListener("click",(()=>{xo(n,e)}))}))},So=()=>{Pe((()=>{$o(!0)})),Je((()=>{$o(!1)}))};var Eo={load:So,localLog:Ao,init:$o,getAdSlotDetails:Po,openAdReport:xo};const To=(e,t,n,o=[],a="",r=200)=>{const i=e;i.style.backgroundImage=`url(${t})`,i.classList.contains("middle_link")?r<200&&(i.style.height=`${r}px`):j("rtl")&&(i.style.backgroundPosition="top "+(i.classList.contains("start_link")?"right":"left")),void 0===n?(i.setAttribute("href","#"),i.onClick=()=>!1):(i.setAttribute("href",n),i.setAttribute("target","_blank"),i.onClick=()=>!0),o.length>0&&o.map((e=>i.setAttribute(e.name,e.value))),""!==a&&(i.style.backgroundColor=a)},Io=()=>{const e=te('div[data-tms-ad-type="banner"][data-tms-ad-pos="1"]')[0],t=e.closest("[data-tms-ad-container]"),n=te('div[data-tms-ad-type="sponsoring"]')[0];e.dataset.tmsAdStatus="empty",t&&(t.dataset.tmsAdStatus="empty"),n.dataset.tmsAdStatus="disabled";n.querySelectorAll("a").forEach((e=>{e.removeAttribute("style")}))},Oo=(e,t,n=[],o="",a=200)=>{if(!_t("sponsoring")){const r=te('div[data-tms-ad-type="banner"][data-tms-ad-pos="1"]')[0],i=r.closest("[data-tms-ad-container]"),s=te('div[data-tms-ad-type="sponsoring"]')[0];r.dataset.tmsAdStatus="disabled",i&&(i.dataset.tmsAdStatus="disabled"),s.dataset.tmsAdStatus="enabled",ge(s);s.querySelectorAll("a").forEach((r=>{To(r,e,t,n,o,Number.parseInt(a,10))}))}},Do=()=>{const e=t(),{test_hab:n,hab_img:o,hab_url:a}=e;["1","2"].includes(n)?Oo(`https://static.france24.com/infographies/habillage/fov/habillage_${"1"===n?"test":"spec"}.png`,"https://www.francemediasmonde.com",[]):"3"===n&&Oo(o,a,[])},Lo=()=>{Pe(Do),je(Do)};var Ro={load:Lo,init:Oo,inject:To,check:Do,clean:Io};const Mo="45304",No=()=>Tt("cookies","c:adpushup")&&Tt("select_basic_ads","c:adpushup");window.adpushup=window.adpushup||{que:[]};const jo=(e,t,n,o="")=>W("ads.adpushup","Ads - Adpushup",e,t,n,o),Uo=()=>{No()?de(`https://cdn.adpushup.com/${Mo}/adpushup.js`,{id:"adpushup-script",async:""},(()=>{jo("init","SDK loaded")}),(e=>{jo("init","Failed to load SDK",{error:e},"error")})):jo("init","prevented")},Ho=()=>{Pe((()=>{tt((()=>{It()?Uo():Ge((()=>Uo()),"adpushup")}))}))};var Bo={load:Ho,localLog:jo,init:Uo,checkConsent:No};let Vo=!1;const qo=!1,Fo={banner:[],box:[],bigbox:[],int:[],inread:[]},zo=[1e3,250],Yo=[1e3,90],Ko=[970,250],Wo=[970,90],Jo=[728,250],Go=[728,90],Qo=[530,300],Zo=[480,361],Xo=[480,360],ea=[480,70],ta=[336,280],na=[320,180],oa=[300,600],aa=[300,300],ra=[300,250],ia=[300,1],sa=[1,1],ca=[0,0],la={banner:[[[1280,800],[zo,Ko,Jo,Yo,Wo,Go,sa]],[[1e3,800],[Ko,Jo,Yo,Wo,Go,sa]],[[970,800],[Ko,Jo,Wo,Go,sa]],[[728,800],[Jo,Go,sa]],[[1e3,350],[Yo,Wo,Go,sa]],[[970,350],[Wo,Go,sa]],[[728,350],[Go,sa]],[ca,[]]],box:[[[1024,400],[ra,aa,sa]],[[368,400],[ta,ra,aa,sa]],[[0,400],[ra,aa,sa]],[ca,[ra,sa]]],bigbox:[[[1024,600],[oa,aa,ra,sa]],[[368,400],[ta,ra,aa,sa]],[[0,400],[ra,aa,sa]],[ca,[ra,sa]]],int:[[ca,sa]],video:[[ca,[ea,Xo,Zo]]],inread:[[[530,400],[Qo,ia]],[[320,280],[na,ia]],[ca,ia]]},da="data-tms-ad-",ua="tmsAd",pa=(e,t,n,o="")=>W("ads.gam","Ads - GAM",e,t,n,o),fa=()=>{const e=N("site_brand"),t=N("site_locale");return"f24"===e&&"es"!==t||"obs"===e&&"fa"!==t||"mcd"===e};window.googletag=window.googletag||{cmd:[]};const ga=e=>{Vo||googletag.cmd.push((()=>{const{tms:t,googletag:n,navigator:o}=window,{gam:a}=t.tags.ads;n.pubads().enableSingleRequest(),n.pubads().disableInitialLoad(),n.pubads().setCentering(!0),"adpushup"in e||n.pubads().enableLazyLoad({fetchMarginPercent:200,renderMarginPercent:125,mobileScaling:1.5}),n.pubads().addEventListener("slotRenderEnded",(e=>{const n=t.dom.select(`#${e.slot.getSlotElementId()}`)[0];if(n){const o=`${ua}Type`in n.dataset?n:n.parentElement,r=o.dataset[`${ua}Owner`],i=n.querySelectorAll("iframe")[0],s=o.dataset[`${ua}Type`];if(void 0!==i&&i.setAttribute("tabindex","-1"),"disabled"!==o.dataset[`${ua}Status`]){let t="rendered";if(e.isEmpty?t="empty":(e.size[0]>3||"inread"===s)&&(t="resized"),o.dataset[`${ua}Status`]=t,"banner"===s){const e=o.closest(`[${da}container]`);e&&(e.dataset[`${ua}Status`]=t)}else"box"===s&&"readmoreTarget"in o.parentElement.dataset&&setTimeout((()=>{const{body:e}=document;e.classList.contains("u-readmore-active")&&"auto"!==e.style.height&&Number.parseInt(i.offsetHeight,10)>250&&(e.style.height=`${e.offsetHeight-265+i.offsetHeight}px`)}),300)}pa("slotRenderEnded",`Rendered 1 ${s} ad`,e),t.event.onPubSubReady((()=>{Ee("ad.rendered",e),pa("slotRenderEnded",'Triggered event "tms.event.ad.rendered"',{event:e,adWrapper:o})})),a.isFtpPerimeter()&&e.isEmpty&&"ftp"===r&&a.changeSlotOwner(o,n,"fmm")}})),n.pubads().addEventListener("impressionViewable",(e=>{const n=t.dom.select(`#${e.slot.getSlotElementId()}`)[0];if(n){const o=`${ua}Type`in n.dataset?n:n.parentElement;pa("impressionViewable",`1 ${o.dataset[`${ua}Type`]} ad seen by user`,e);try{t.event.onPubSubReady((()=>{setTimeout((()=>{Ee("ad.seen",o),pa("impressionViewable",'Triggered event "tms.event.ad.seen"',{event:e,adWrapper:o})}),a.isFtpPerimeter()?2400:1700)}))}catch(e){pa("impressionViewable",'Unable to trigger "tms.event.ad.seen"',e,"error")}}})),n.pubads().set("page_url",t.var("canonical")),n.pubads().setTargeting("facebook_webview",/fbav/i.test(o.userAgent)?"true":"false").setTargeting("twitter_webview",/twitter/i.test(o.userAgent)?"true":"false").setTargeting("ppr",t.is("ppr")?"true":"false").setTargeting("mirror",t.is("mirror")?"1":"0");const r=t.data.getUrlVariables().preview||(t.is("ppr")?"debug_fmm":"0");if("0"!==r&&n.pubads().setTargeting("preview",r),""!==top.document.referrer){const e=new URL(top.document.referrer).hostname.replaceAll(/[^\d+A-Za-z]/g,"").replace("www","")||"";""!==e&&n.pubads().setTargeting("referrer",e)}Vo=!0}));try{googletag.cmd.push((()=>{const{tms:e,googletag:t}=window,n=!e.gdpr.canUse("cookies","google"),o=!e.gdpr.canUse("create_ads_profile","google")||!e.gdpr.canUse("select_personalized_ads","google"),a={childDirectedTreatment:!1};n&&(a.limitedAds=n),o&&(a.nonPersonalizedAds=o),t.pubads().setPrivacySettings(a),pa("setBasicTargeting",`Switched to ${o?"non ":""}personalized ads because of user consent`,{limitedAds:n,nonPersonalizedAds:o},"consent")}),(()=>{const{tms:e,googletag:t}=window;t.pubads().setTargeting("hl",document.documentElement.lang??e.var("site_locale")).setTargeting("langue",e.var("site_locale")||"en").setTargeting("libelle_contenu_page",S(e.var("content_title"))).setTargeting("id_contenu",e.var("content_id")).setTargeting("thema",S(e.var("tags")?.name_clean)||[]).setTargeting("thema_id",S(e.var("tags")?.id)||[]).setTargeting("auteur",S(e.var("authors")?.name_clean)||[]).setTargeting("auteur_id",S(e.var("authors")?.id)||[]).setTargeting("show_title",S(e.var("show")?.name)||[]).setTargeting("show_id",e.var("show")?.id||[]).setTargeting("show_genre",e.var("show")?.genre||[]).setTargeting("rep1",S(e.var("cat1"))).setTargeting("rep2",S(e.var("cat2"))).setTargeting("rep_global",S(e.var("cat1"))).setTargeting("type_page1",e.var("content_type")).setTargeting("bc",e.is("brand_content")?"1":"0").setTargeting("url_pathname",new URL(e.var("canonical")).pathname.slice(1).split("/"))})),fa()&&googletag.cmd.push((()=>{const{tms:e,googletag:t}=window;t.pubads().setTargeting("site",e.var("site_brand").replace("mcd","mc-doualiya").replace(/(f24|obs)/,`france24${e.str.replaceAll(e.var("site_locale"),{fr:"francais",en:"anglais",ar:"arabe"})}`)).setTargeting("support","webresponsive").setTargeting("webresponsiveversion",e.var("device_type")).setTargeting("page","default").setTargeting("type",e.is("homepage")?"accueil":"default")}))}catch{}},ma=e=>{const t=[],n=la[e],o=Math.max(document.documentElement.clientWidth,window.innerWidth||0),a=Math.max(document.documentElement.clientHeight,window.innerHeight||0),r="video"===e?"v":"";if(void 0!==n)for(let i=0,s=n.length;i<s;i+=1){const s=n[i];if(s[0][0]<=o&&s[0][1]<=a){if("number"==typeof s[1][0])t.push(`${s[1][0]}x${s[1][1]}${r}`);else if("string"==typeof s[1][0])t.push(`${s[1][0]}`);else for(let n=0,o=s[1].length;n<o;n+=1)if("string"==typeof s[1][n])t.push(`${s[1][n]}`);else{const o=`${s[1][n][0]}x${s[1][n][1]}${r}`;"banner"===e&&"1x1"===o||t.push(o)}return t}}return t},va=(e,t)=>{const n=N("site_brand"),o=N("site_locale"),a=j("brand_content");return"ftp"===t?`/21643048729,33480810/${n.replace("mcd","mc-doualiya").replace(/(f24|obs)/,`france24${C(o,{fr:"francais",en:"anglais",ar:"arabe"})}`)}/webresponsive/${a?"contenus-partenaires":"default"}/${j("homepage")?"accueil":"default"}/${e}`:`/33480810/web/${n.replace("-","_")}/${o}/${a?"brand-content":N("content_type")}/${e}`},_a=(e,t,n,o={})=>{function a(e,t,n,a,r,i,s){const c=t;return()=>{const{tms:t,googletag:l,innerWidth:d,contextlayer:u}=window,{gam:p}=t.tags.ads;if("int"===e)p.blocks[e][n]=l.defineOutOfPageSlot(a,n).setTargeting("position",""===s?i:s).setTargeting("location",t.str.isFoundInArray(t.var("content_type"),["homepage","section","tag","emission","dossier"])?"list":"content").setTargeting("allowed_sizes",ma(e)).addService(l.pubads()),""!==s&&p.blocks[e][n].setTargeting("block_order",i);else{const o=d>1279;let f=""===s?i:s;if("top"===s&&o&&(f=["top","arche"]),p.blocks[e][n]=l.defineSlot(a,[r],n).setTargeting("position",f).setTargeting("location",t.str.isFoundInArray(t.var("content_type"),["homepage","section","tag","emission","dossier"])?"list":"content").setTargeting("allowed_sizes",ma(e)).defineSizeMapping(la[e]).addService(l.pubads()),""!==s&&p.blocks[e][n].setTargeting("block_order",i),"banner"===e)p.blocks[e][n].setTargeting("habillage",o?1:0);else if("inread"===e){p.blocks[e][n].setTargeting("ad_translation",u.translations["ad.blocks.label"]||"Advertising");const t=c.dataset[`${ua}InreadProviderExclusions`]||!1;t&&p.blocks[e][n].setTargeting("provider_exclusions",t.split(","))}}const f="adpushup"in o&&!["int","inread","video"].includes(e);if(p.blocks[e][n].setTargeting("ap_active",f?1:0),c.dataset[`${ua}Status`]="ready","banner"===e){const e=c.closest(`[${da}container]`);e&&(e.dataset[`${ua}Status`]="ready")}}}if(t){Ee("onBeforeAdsFilled"),Object.keys(o).forEach((e=>"function"==typeof o[e].beforeAdsFilled?o[e].beforeAdsFilled():""));const e=te(`[${da}type]`)[0];e&&!(`${ua}Int`in e.dataset)&&(se(le("div","",{class:"tms-ad","data-tms-ad-pos":1,"data-tms-ad-type":"int","data-tms-ad-status":"idle","data-tms-ad-owner":fa()?"ftp":"fmm",style:"line-height:0;font-size:0;height:0;border:none;overflow:hidden;"}),e),e.dataset[`${ua}Int`]="loaded",pa("fillBlocks","Injected interstitial injection zone"))}let r=te(`[${da}status="idle"]:not([${da}container])`);r=oe(r,`[${da}type="banner"],[${da}type="box"],[${da}type="bigbox"],[${da}type="int"],[${da}type="inread"]`);for(let e=0,t=r.length;e<t;e+=1){const t=r[e];let n=t.dataset[`${ua}Type`];if(t.parentNode.classList.contains("m-interstitial__ad")){if(te(".t-content__body > p:not(:empty):not(.empty)").length<4&&te(".t-content__body")[0].textContent.length<450){t.dataset[`${ua}Status`]="disabled";continue}j("brand_content")&&"box"===n&&(t.dataset[`${ua}Type`]="bigbox",n="bigbox")}const o=/(box|inread)/gi.test(n)&&te(".m-block-ad__content, .m-inread-ad__content",t)[0]||t;let i,s=[300,250];const c=Number.parseInt(t.dataset[`${ua}Pos`],10);let l;if(t.dataset[`${ua}Status`]="started",t.dataset[`${ua}Provider`]="gam","banner"===n){const e=t.closest(`[${da}container]`);e&&(e.dataset[`${ua}Status`]="started")}ge(o);const d=o.id;switch(n){case"banner":i=va(`bann${c<3?c:2}`,"fmm"),s=[728,90],l="top";break;case"int":i=va("int","fmm"),l="interstitiel";break;case"inread":i=va("inread","fmm");break;default:i=va(`pave${c<6?c:5}`,"fmm"),l=`middle${c>1&&c<6?c:""}`}if(void 0===t.dataset[`${ua}Owner`]&&(t.dataset[`${ua}Owner`]=fa()?"ftp":"fmm"),"ftp"===t.dataset[`${ua}Owner`]?i=va(l,"ftp"):l="",_t("gam")){if(t.dataset[`${ua}Status`]="disabled","banner"===n){const e=t.closest(`[${da}container]`);e&&(e.dataset[`${ua}Status`]="disabled")}}else googletag.cmd.push(a(n,t,d,i,s,c,l))}pa("fillBlocks",`Detected ${r.length} new idle ad blocks`,r),googletag.cmd.push((()=>{const{tms:e,googletag:t}=window,{gam:n}=e.tags.ads;t.enableServices(),n.servicesEnabled=!0,pa("fillBlocks","Enabled GAM services")})),googletag.cmd.push((()=>{const{tms:a,googletag:r}=window,{gam:i}=a.tags.ads,s=a.dom.select(`[${da}status="ready"]:not([${da}container])`),c=[],l=[];let d,u=[...Object.keys(la)];fa()&&"hubvisor"in o?(u=["inread","video"],d="hubvisor"):"adpushup"in o&&(d="adpushup");const p=e=>r.pubads().refresh(e,{changeCorrelator:n});for(let e=0,t=s.length;e<t;e+=1){const t=s[e],n=t.dataset[`${ua}Type`],o=(/(box|inread)/gi.test(n)&&a.dom.select(".m-block-ad__content, .m-inread-ad__content",t)[0]||t).id;if((u.includes(n)?c:l).push(i.blocks[n][o]),r.display(o),t.dataset[`${ua}Status`]="loaded","banner"===n){const e=t.closest(`[${da}container]`);e&&(e.dataset[`${ua}Status`]="loaded")}}if(s.length>0&&pa("fillBlocks",`Queued ${s.length} ad blocks to render`,s),l.length>0){if(fa()&&"hubvisor"in o&&t)o.hubvisor.call("f24:new-page",p,l.map((e=>e.getSlotElementId())));else if("adpushup"in o&&t){const{adpushup:e}=window;e.que.push((()=>e.init())),pa("fillBlocks","Adpushup init() ran",{adpushup:e})}pa("fillBlocks",`Delegated ${l.length} ad blocks for rendering to ${d}`,{renderReadyDelegated:l,isFirstFilling:t,isFirstPageLoad:e,plugins:o})}c.length>0&&(p(c),pa("fillBlocks",`Rendered ${c.length} owned ad blocks`,{renderReadyOwned:c})),Object.keys(o).forEach((e=>"function"==typeof o[e].afterAdsFilled?o[e].afterAdsFilled():"")),a.event.pubSubPublish("onAfterAdsFilled")}))},ha=(e,t,n,o="owner")=>{const a=e,r=t,i=y(o),s=a.dataset[`${ua}${i}`]||"";if(s!==n){const t=a.dataset[`${ua}Type`];googletag.destroySlots([Fo[t][r.id]]);const c=a.dataset[`${ua}${i}Exclusions`]||!1;let l=s;if(c&&(l=`${c},${l}`),a.dataset[`${ua}${i}Exclusions`]=l,""===n?delete a.dataset[`${ua}${i}`]:a.dataset[`${ua}${i}`]=n,a.dataset[`${ua}Status`]="idle","banner"===t){const e=a.closest(`[${da}container]`);e&&(e.dataset[`${ua}Status`]="idle")}r.removeAttribute("id"),"int"!==t&&r.removeAttribute("style"),delete r.dataset.googleQueryId,delete Fo[a.dataset[`${ua}Type`]][r.id],_a(!1,!1,!1),pa("changeSlotProperty",`No ad campaign available, changed ad ${o} to ${n}`,{adWrapper:e,newValue:n})}},ba=(e,t,n)=>ha(e,t,n,"owner"),ya=(e,t,n)=>ha(e,t,n,"inread-provider"),wa=()=>{googletag.cmd.push((()=>{const{tms:e,googletag:t}=window,{gam:n}=e.tags.ads,o=t.destroySlots();n.blocks={banner:[],box:[],bigbox:[],int:[],inread:[]},pa("destroyBlocks","Destroyed all existing ad blocks",o)}))},ka=(e={})=>{if(200===N("http_code")&&!Vo)if(pa("init"),Tt("select_basic_ads","google")){const t=Tt("cookies","google")?"securepubads.g.doubleclick.net":"pagead2.googlesyndication.com";de(`https://${t}/tag/js/gpt.js`,{id:"gam-script",async:""},(()=>{pa("init","SDK loaded",{sdkDomain:t}),ga(e),_a(!0,!0,!0,e),"1"===mt.getItem("broadcast_da")&&(window.scrollBy(0,1),setTimeout((()=>{window.scrollTo(0,0)}),25)),je((()=>{wa(),ga(e),_a(!1,!0,!0,e)}))}))}else Qe((()=>ka())),pa("init","prevented")},Ca=(e={})=>{Pe((()=>{tt((()=>{It()?ka(e):Ge((()=>ka(e)),"gam")}))}))};var Aa={load:Ca,localLog:pa,initialized:Vo,servicesEnabled:qo,blocks:Fo,sizeMappings:la,isFtpPerimeter:fa,setBasicTargeting:ga,getAllowedSizes:ma,changeSlotProperty:ha,changeSlotOwner:ba,changeSlotInreadProvider:ya,getSlotId:va,fillBlocks:_a,destroyBlocks:wa,init:ka};const Pa={},xa=e=>encodeURIComponent(Object.keys(e).map((t=>Array.isArray(e[t])?`${encodeURIComponent(t)}=${e[t].map((e=>encodeURIComponent(e))).join(",")}`:`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")),$a=()=>va("video","fmm"),Sa=e=>{let n=2;"main"===e?n=1:"smart-embed"===e&&(n=3);const o={facebook_webview:/fbav/i.test(window.navigator.userAgent)?"true":"false",twitter_webview:/twitter/i.test(window.navigator.userAgent)?"true":"false",ppr:j("ppr")?"true":"false",langue:N("site_locale")??"en",libelle_contenu_page:S(N("content_title")),id_contenu:N("content_id"),thema:S(N("tags")?.name_clean)||[],thema_id:N("tags")?.id||[],auteur:S(N("authors")?.name_clean)||[],auteur_id:N("authors")?.id||[],show_title:S(N("show")?.name)||[],show_id:N("show")?.id||[],show_genre:N("show")?.genre||[],rep1:S(N("cat1")),rep2:S(N("cat2")),rep_global:S(N("cat1")),type_page1:N("content_type"),url_pathname:new URL(N("canonical")).pathname.slice(1).split("/"),mirror:j("mirror")?"1":"0",bc:j("brand_content")?"1":"0",position:n,location:`video_${e}`,allowed_sizes:ma("video"),block_order:n,app_name:"web_fov"},a=t().preview||(j("ppr")?"debug_fmm":"0");if("0"!==a&&(o.preview=a),""!==top.document.referrer){const e=new URL(top.document.referrer).hostname.replaceAll(/[^\d+A-Za-z]/g,"").replace("www","")||"";""!==e&&(o.referrer=e)}return xa(o)},Ea=e=>{const t=btoa(`${e}.${N("canonical")}`);if(t in Pa)return Pa[t];const n=Math.random().toString().slice(2);return Pa[t]=n,n},Ta=(e,t)=>{const n=(document.body.parentElement.lang||"en").toLowerCase().replace("hans","cn").replace("hant","tw").replace(/(bm|ff)/,"fr").replace("ha","en").replace("-","_");return`https://pubads.g.doubleclick.net/gampad/ads?env=vp&gdfp_req=1&output=vast&iu=${$a()}&sz=480x70|480x360|480x361&unviewed_position_start=1&hl=${n}&ad_rule=0&ad_type=video&cust_params=${Sa(e)}&vpos=preroll&description_url=${encodeURIComponent(N("canonical"))}&url=${encodeURIComponent(document.location.href)}&gdfp_rep=1&gdpr=1&gdpr_consent=${Ot()?.tcString||""}&scor=${Ea(t)}`};var Ia={getIu:$a,getCustomParameters:Sa,getCustParams:Sa,getVAST:Ta,toQueryString:xa};const Oa=()=>{const e="rfi"===N("site_brand")?"AR_5":"AR_1",t=".t-content__body ",n=te(`${t}ul > li > h2,${t}ul > li > strong`).length>2,o=te(`${t}> p`).length<3,a=te(`${t}> p:last-of-type .a-read-more__label`).length>0,r=te(`${t}.m-em-image+:last-child,${t}.m-em-image+p:empty+:last-child,${t}.m-em-image+p.empty+:last-child,${t}.m-em-flash+:last-child,${t}.m-em-flash+p:empty+:last-child,${t}.m-em-flash+p.empty+:last-child,${t}.m-em-video+:last-child,${t}.m-em-video+p:empty+:last-child,${t}.m-em-video+p.empty+:last-child`).length>0;return(n||o||a||r)&&["fr","en"].includes(N("site_locale"))?"AR_11":e},Da=(e,t,n,o="")=>W("ads.outbrain","Ads - Post-article - Outbrain",e,t,n,o),La=(e,t)=>{void 0===window.OBR?de("https://widgets.outbrain.com/outbrain.js",{id:"outbrain-script",async:""},(()=>{Da("callSdk","Loaded Outbrain SDK"),e.dataset.tmsAdStatus="loaded",Da("callSdk","Initial ad request",{id:t,wrapper:e})})):(OBR.extern.researchWidget(),e.dataset.tmsAdStatus="loaded",Da("callSdk","New ad request after Ajax page changed",{id:t,wrapper:e}))},Ra=(e,t)=>{const n=e,o=le("div","",{class:"OUTBRAIN",id:`tms-ad-outbrain-${Math.random().toString().slice(2)}`,"data-widget-id":t,"data-src":N("canonical"),style:`overflow: hidden;text-align:${j("rtl")?"right":"left"};position:relative;`});return Da("inject","Injected new Outbrain ad injection zone",{id:t,outbrainWrapper:o,parentContent:n}),ae(o,n)},Ma=()=>{if(Da("init"),j("article")||j("depeche")||j("edition")||j("live")){const e=Oa(),t=te('[data-tms-ad-status="idle"][data-tms-ad-type="post-article"]')[0],n=_t("post-article");t&&(t.dataset.tmsAdStatus=n?"disabled":"started",n||(t.dataset.tmsAdProvider="outbrain",Ra(t,e),La(t,e)))}},Na=()=>{Pe((()=>{tt((()=>{It()?Ma():Ge((()=>Ma()),"outbrain")}))})),je(Ma)};var ja={load:Na,localLog:Da,wid:Oa,init:Ma,inject:Ra,callSdk:La};const Ua=(e,t,n,o="")=>W("ads.selfPromotion","Ads - Self-Promotion",e,t,n,o),Ha=()=>{if(A(N("content_type"),["article","depeche"])&&!j("brand_content"))try{ho(te("article .t-content__body")[0]);const e=te("article .t-content__body > p:not(:empty):not(.empty)");let t=!1;if(e.length>8&&(t=e.length-(j("mobile")?3:4)),!t||A(`${N("site_brand")}_${N("site_locale")}`,["f24_fr","f24_en","rfi_fr","rfi_cn","rfi_fa","rfi_ru"])||j("mobile")||(t=!1),t){const n=j("mobile")?"app":"newsletter",o=te(`div[data-selfpromo-${n}]`)[0];let a="newsletter";if(j("mobile")){const e=j("iOS")?["apple","android",0]:["android","apple",1],t=["https://apps.apple.com/app/id","https://play.google.com/store/apps/details?id="],n={f24:["364379394","com.france24.androidapp"],rfi:["551782765","com.rfi.androidapp"],mcd:["731882365","com.mcd.androidapp"]},o=te(`a[data-selfpromo-app-link='${e[1]}']`)[0];ce(o);te(`a[data-selfpromo-app-link='${e[0]}']`)[0].href=t[e[2]]+n[N("site_brand")][e[2]],a=`app-${e[0]}`}const r=re(o,e[t-1]),i=ge(r);r.classList.remove("o-self-promo--hidden"),xn(0,["all"],`#${i} a`,"exit",a,N("content_type"),"selfpromotion"),Ua("init",`Placed ${n} promo before ${t}th paragraph`,r)}else Ua("init","No placement possible")}catch{}},Ba=()=>{Pe(Ha),je(Ha)};var Va={load:Ba,localLog:Ua,init:Ha};const qa=t().dnrYT||"0";let Fa,za,Ya={},Ka={};const Wa=()=>Ya,Ja=()=>Ka,Ga={ready:"ready",playing:"playing",paused:"paused",ended:"stopped",cued:"cued",unstarted:"canplay",ad_playing:"ad_playing",ad_ended:"ad_ending"},Qa=()=>j("f24")?"00a7e3":"e2001a",Za=(e,t,n,o="")=>W("ads.youtubeRelated","Ads - Post-article - YouTube Related",e,t,n,o),Xa=()=>Tt("cookies","google")&&Tt("create_ads_profile","google")&&Tt("measure_ad_performance","google"),er=(e,t)=>{t.forEach((t=>{if(t.target.id===e){const n="function"==typeof Ya[e].getPlayerState?Ya[e].getPlayerState():-1;void 0===Ya[e].hasPlayed&&(Ya[e].hasPlayed=!1,Ya[e].hasAutoPaused=!1),!0===t.isIntersecting&&"function"==typeof Ya[e].playVideo?(-1===n||5===n||2===n&&Ya[e].hasAutoPaused||0===n&&!Ya[e].hasPlayed)&&(Ya[e].playVideo(),Ya[e].hasPlayed=!0,Ya[e].hasAutoPaused=!1,Za("setAutoplayInView","Autoplaying video because player is in viewport",{player:Ya[e]})):(1===n||-1===n&&Ya[e].hasPlayed)&&"function"==typeof Ya[e].pauseVideo&&(Ya[e].pauseVideo(),Ya[e].hasAutoPaused=!0,Za("setAutoplayInView","Paused video because player is out of viewport",{player:Ya[e]}))}}))},tr=e=>{const t={event:e,player:e.target,playerId:e.target.getIframe().id,state:Ga.unstarted,videoType:"youtube-smartembed"};switch(e.data){case Ga.ready:case Ga.ad_playing:case Ga.ad_ended:t.state=e.data;break;case YT.PlayerState.PLAYING:t.state=Ga.playing;break;case YT.PlayerState.PAUSED:t.state=Ga.paused;break;case YT.PlayerState.ENDED:t.state=Ga.ended;break;case YT.PlayerState.CUED:t.state=Ga.cued;break;default:t.state=Ga.unstarted}Ee(`video_player.state.${t.state}`,t,"fov")},nr=e=>{const t=te(`#${e}`)[0];t&&(Ya[e]=new YT.Player(`${e}`,{events:{onReady:e=>{const t=e;t.data=Ga.ready,tr(t)},onStateChange:tr,onAdPlay:e=>{const t=e;t.data=Ga.ad_playing,tr(t)},onAdEnd:e=>{const t=e;t.data=Ga.ad_ended,tr(t)}}}),Ka[e]=new IntersectionObserver((t=>{er(e,t)}),{root:void 0,threshold:[1]}),Ka[e].observe(t),Za("setAutoplayInView","Added YT API + autoplay to 1 player",{player:Ya[e]}))},or=()=>{const e=tms.dom.select("[video-type=youtube]");if(e.length>0){const t=[];return e.forEach((e=>{const n=e.getAttribute("video-id")||!1;n&&t.push(n)})),Za("getExcludedVideos",`Found ${t.length} video${1===t.length?"":"s"} to exclude from recommendations`,{videoIds:t,videoNodes:e}),t.length>0?`&block_videos=${t.join(",")}`:""}return""},ar=e=>{de("https://www.youtube.com/iframe_api",{id:"youtube-script",async:""},(()=>{window.YT.ready(e),Za("loadSdk","Loaded YT SDK + attached callback",{callback:e})}),(e=>{Za("loadSdk","Could not load YT SDK",{error:e})}))},rr=e=>{const t=e,n=Fa?.[1],o=Math.random().toString().slice(2),a=Ot(),r={primaryThemeColor:`#${Qa()}`,relatedChannels:[za],autonavRelatedVideos:!0,hideInfoBar:!1,adsConfig:{adTagParameters:{iu:$a(),cust_params:Sa("smart-embed")}}};"gdprApplies"in a&&(r.adsConfig.adTagParameters.cmpGdpr=a.gdprApplies?1:0,r.adsConfig.adTagParameters.cmpVcd=a.tcString,r.adsConfig.adTagParameters.cmpGvcd=a.addtlConsent);const i=le("div",`<aside class="o-aside-content  o-aside-content--no-background o-aside-content--related">\n<div class="o-aside-content__row o-aside-content__row--center">\n<div class="o-aside-content__title a-aside-title">${Fa?.[0]}</div>\n</div>  \n<div class="o-aside-content__row o-aside-content__row--center" style="padding: 0 16px;">     \n<div class="m-em-video" style="width: 100%;max-width: 720px;">\n<div class="m-em-video__video-wrapper video-type-youtube">\n<iframe id="youtube-smartembed-${o}" class="youtube-smart-embed" width="560" height="315"\nsrc="https://www.youtube.com/smart_embed?channels=${za}${or()}&hl=${n}&showinfo=1&color=white&rel=1&enablejsapi=1&origin=https%3A%2F%2F${window.location.hostname}&widget_referrer=https%3A%2F%2F${window.location.hostname.replace(/(rec|www)/,"yt-smartembeds")}&embed_config=${encodeURIComponent(JSON.stringify(r))}"\nframeborder="0" allow="accelerometer; autoplay;encrypted-media; gyroscope; picture-in-picture"\nreferrerpolicy="no-referrer-when-downgrade" title="YouTube videos" allowfullscreen></iframe>\n</div>\n</div>\n</div>\n</aside>`,{class:"o-ad-container t-content__related",id:`tms-ad-ytrelated-${o}`,"data-tms-ad-type":"yt-related","data-tms-ad-provider":"youtube","data-tms-ad-status":"loaded"});return Za("inject","Injected new YouTube Related player",{siblingContent:t,ytRelatedWrapper:i}),se(i,t),window.YT?window.YT.ready((()=>nr(`youtube-smartembed-${o}`))):ar((()=>nr(`youtube-smartembed-${o}`))),i},ir=e=>{if(Za("init","Init",{retrievedTranslations:Fa,retrievedChannel:za}),e||(Ya={},Ka={}),j("article")||j("depeche")){const e=te('[data-tms-ad-type="post-article"]:not([data-tms-ad-ytrelated])')[0],t=_t("yt-related");e&&(e.dataset.tmsAdYtrelated=t?"disabled":"loaded",Xa()&&!t?rr(e):t||Za("init","prevented"))}e&&window.addEventListener("message",(e=>{try{if("https://www.youtube.com"===e.origin){const t=e.data;if("object"==typeof t&&"message_id"in t&&"youtube-smart-embed-close"===t.message_id){te(".youtube-smart-embed").forEach((n=>{if(n.contentWindow===e.source){const e=n.closest('[data-tms-ad-type="yt-related"]');Za("init","Removed player because no recommendations were available"+("1"===qa?" (Did not because of dnrYT in URL)":""),{node:n,parentNode:e,message:t}),"1"!==qa&&ce(e)}}))}}}catch{}}),!1)},sr=(e,t)=>{Fa=e,za=t,Pe((()=>{tt((()=>{It()?ir(!0):Ge((()=>ir(!0)),"youtube-related")}))})),je((()=>ir(!1)))};var cr={load:sr,localLog:Za,init:ir,inject:rr,players:Wa,observers:Ja,loadSdk:ar,autoplayVideo:er,trackerStateChanged:tr,setAutoplayInView:nr,getExcludedVideos:or,checkConsent:Xa,brandColor:Qa};const lr=(e,t,n,o="")=>W("monitoring.pingdom","Monitoring - Pingdom",e,t,n,o),dr=(()=>{let e;return j("obs")?e="pa-55b5f8c8abe53d9c317560cb":"f24"===N("site_brand")?e="pa-55b5e9f3abe53dac307560cb":"rfi"===N("site_brand")?e="pa-55b5f893abe53d910d7560cb":"mcd"===N("site_brand")?e="pa-5b7195b854acd300160000f4":"fle"===N("site_brand")&&(e="pa-6373a0e29034fb001100151b"),e})(),ur=e=>{de(`https://rum-static.pingdom.net/${e}.js`,{id:"pingdom-script",async:""},(()=>{lr("inject","RUM loaded",{prumId:e})}))},pr=()=>{const e="mcd"===N("site_brand")?5:2;ht("prum",[0,e],!1)&&(lr("init"),ur(dr))},fr=()=>{Pe((()=>{tt((()=>{pr()}))}))};var gr={load:fr,localLog:lr,id:dr,inject:ur,init:pr};const mr=()=>{gr.load()};var vr={load:mr,pingdom:gr};const _r=(e,t,n,o="")=>W("marketing.crm","Marketing - CRM",e,t,n,o),hr=()=>{const e=mt.getItem("_tms_journey");return JSON.parse(e&&"{"===e.slice(0,1)?e:"{}")},br=(e="pagesRead",t="")=>{let n=!0;const o=hr();o.evt=o.evt||{},"pagesRead"===e?o.pagesRead=Number.parseInt(o.pagesRead+1||1,10):(o.evt[e]=""===t?0:t,n=!1),o.end=o.end||new Date(6048e5+Date.now()).toUTCString();const a=window.location.host.replace(/([\dA-Za-z-]+\.)*([\dA-Za-z-]+\.)/,"$2");mt.setItem("_tms_journey",JSON.stringify(o),o.end,"/",a),_r("updateJourney","Updated user journey",o),n&&Ee("userJourneyRefreshed",[o])},yr=()=>{Pe((()=>br("pagesRead"))),je((()=>br("pagesRead")))};var wr={load:yr,localLog:_r,getJourneyStatus:hr,updateJourney:br};const kr=(e,t,n,o="")=>W("marketing.crm.fovEvents","Marketing - CRM - FOV Events",e,t,n,o),Cr=[[2,"push_subscription"],[3,"pwa_popin"],[4,"app_banner"]],Ar=e=>{const{pagesRead:t,evt:n}=e;Cr.forEach((o=>{const a=o[1]in(n||{});t===o[0]?(kr(`${o[1]}`,`Triggering PubSub event for ${o[1]}`,{el:o,journey:e}),Ee(`marketing.${o[1]}`),br(o[1],1)):a||br(o[1],0)}))},Pr=()=>{He(((...e)=>Ar(e[1][0])))};var xr={load:Pr,localLog:kr,init:Ar};const $r=(e,t,n,o="")=>W("marketing.crm.popinSurvey","Marketing - CRM - Popin Survey",e,t,n,o),Sr=e=>{$r("showPopin","Sending popin.survey.show event in 3s",e),setTimeout((()=>{Ee("popin.survey.show"),setTimeout((()=>{xn(1,["all"],"[data-root-survey] .a-close-button","action","close","popin","survey"),xn(1,["all"],"[data-root-survey] .o-popin__btn > a","exit","open-survey","popin","survey")}),300),br("popinSurvey",1)}),3e3)},Er=e=>{1!==e?.evt?.popinSurvey&&(ht("popinSurvey",[0,49],!0)?e.pagesRead%25==2&&Sr(e):rt(42,(()=>Sr(e))).resume())},Tr=()=>{He(((...e)=>Er(e[1][0])))};var Ir={load:Tr,localLog:$r,init:Er};const Or=(e={})=>{wr.load(),xr.load(),Ir.load(),Object.keys(e).forEach((t=>e[t].load()))};var Dr={load:Or,common:wr,fovEvents:xr,popinSurvey:Ir};const Lr="1547077195584530",Rr=!0,Mr=(e,t,n,o="")=>W("marketing.pixels.fbPixel","Marketing - Pixels - Facebook Pixel",e,t,n,o),Nr=()=>Tt("cookies","c:facebook")&&Tt("create_ads_profile","c:facebook")&&Tt("measure_ad_performance","c:facebook"),jr=()=>{if(Nr())if(fbq("track","PageView"),Mr("fire","Hit - PageView",{fbq:fbq}),A(N("content_type"),["homepage","section","tag","emission","dossier"])){if("recherche"===N("content_type")){const e=N("page_name").replace("recherche.","");fbq("track","Search",{search_string:e}),Mr("fire","Hit - Search",{fbq:fbq,searchString:e})}}else{const e={content_ids:[N("content_id")],content_portal:`${N("site_brand")}_${N("site_locale")}${j("ppr")?"_rec":""}`,content_category:N("cat1"),content_title:N("page_name"),content_type:"product"};fbq("track","ViewContent",e),Mr("fire","Hit - ViewContent",{fbq:fbq,metaData:e})}else Mr("fire","prevented")},Ur=()=>{if("1"===(t().dfbp||"0"))Mr("init","Disabled because of QS");else if(Nr()){if(window.fbq)return;const e=function e(...t){return e.callMethod?e.callMethod(...t):e.queue.push(...t)};window.fbq=e,window._fbq||(window._fbq=e),e.push=e,e.loaded=!0,e.version="2.0",e.queue=[],de("https://connect.facebook.net/en_US/fbevents.js",{id:"fbPixel-script",async:""},(()=>{fbq.agent=`fov-${N("site_brand")}`,fbq("set","autoConfig",Rr,Lr),fbq("init",Lr),Mr("init"),jr(),je((()=>jr()))}))}else Mr("init","prevented")},Hr=()=>{Pe((()=>{tt((()=>{It()?Ur():Ge((()=>Ur()),"fbPixel")}))}))};var Br={load:Hr,localLog:Mr,id:Lr,autoConfig:Rr,checkConsent:Nr,init:Ur,fire:jr};const Vr="p-UA2LVRcV0GQAR",qr=()=>`${N("site_brand")}_${N("site_locale")}`,Fr=(e,t,n,o="")=>W("marketing.pixels.quantcast","Marketing - Pixels - Quantcast Pixel",e,t,n,o),zr=()=>Tt("cookies",11)&&Tt("create_ads_profile",11)&&Tt("measure_ad_performance",11),Yr=e=>{if(zr()){const t={qacct:Vr,labels:qr()};e||(t.event="refresh"),window._qevents.push(t),Fr("fire","Hit - Page",t)}else Fr("fire","prevented")},Kr=()=>{zr()?(window._qevents=window._qevents||[],de("https://secure.quantserve.com/quant.js",{id:"quantcast-script",async:""},(()=>{Fr("init"),Yr(!0),je((()=>Yr(!1)))}))):Fr("init","prevented")},Wr=()=>{Pe((()=>{tt((()=>{It()?Kr():Ge((()=>Kr()),"quantcast")}))}))};var Jr={load:Wr,localLog:Fr,id:Vr,checkConsent:zr,label:qr,fire:Yr,init:Kr};const Gr=(e={},t={})=>{Br.load(),Jr.load(),Object.keys(e).forEach((n=>e[n].load(n in t?t[n]:{})))};var Qr={load:Gr,fbPixel:Br,quantcast:Jr};const Zr="00518f0950dd1d41ab61ec38c907920b17",Xr=(e,t,n,o="")=>W("marketing.pixels.obPixel","Marketing - Pixels - Outbrain Pixel",e,t,n,o),ei=()=>Tt("cookies",164)&&Tt("create_ads_profile",164)&&Tt("measure_ad_performance",164),ti=()=>{ei()?(window.obApi("track","PAGE_VIEW"),Xr("fire","Hit - Page")):Xr("fire","prevented")},ni=()=>{if(ei()){if(window.obApi){const e=e=>"[object Array]"===Object.prototype.toString.call(e)?e:[e];return void(window.obApi.marketerId=[...e(window.obApi.marketerId),...e(Zr)])}const e=()=>"dispatch"in window.obApi?window.obApi.dispatch(...arguments):window.obApi.queue.push(arguments);e.version="1.1",e.loaded=!0,e.marketerId=Zr,e.queue=[],window.obApi=e,de("https://amplify.outbrain.com/cp/obtp.js",{id:"outbrain-pixel-script",async:""},(()=>{Xr("init"),ti(),je((()=>ti()))}))}else Xr("init","prevented")},oi=()=>{Pe((()=>{tt((()=>{It()?ni():Ge((()=>ni()),"obPixel")}))}))};var ai={load:oi,localLog:Xr,id:Zr,checkConsent:ei,fire:ti,init:ni};let ri;const ii=()=>ri,si=(e,t,n,o="")=>W("marketing.pixels.ownpage","Marketing - Pixels - Ownpage Pixel",e,t,n,o),ci=()=>Tt("cookies","c:ownpage")&&Tt("create_content_profile","c:ownpage")&&Tt("measure_content_performance","c:ownpage"),li=()=>{ci()?(window.Ownpage.trackPage(ri),si("fire","Hit - Page",{id:ri})):si("fire","prevented")},di=()=>{ci()?de("https://script.ownpage.fr/v1/ownpage.js",{id:"ownpage-pixel-script",async:""},(()=>{si("init","Init",{id:ri}),li(),je((()=>li()))})):si("init","prevented")},ui=e=>{ri=e,Pe((()=>{tt((()=>{It()?di():Ge((()=>di()),"ownpage")}))}))};var pi={load:ui,localLog:si,getId:ii,checkConsent:ci,fire:li,init:di};const fi=()=>{if("1"===(t().dp||"0")){const e=N("deeplink");alert(e),K("tms.tags.special.deeplink.init","Special - Deeplink - Shouted deeplink",e)}},gi=()=>{Pe(fi)};var mi={load:gi,init:fi};window.didomiEventListeners=window.didomiEventListeners||[];const vi=(e,t,n,o="")=>W("special.refusalBar","Special - Refusal bar",e,t,n,o),_i=e=>{const t={main:"757575",tpHover:"999",bg:"fff",bgRgba:"255,255,255,.9",font:"222",end:j("rtl")?"left":"right"};A(N("site_brand"),["f24","obs"])&&"fa"!==N("site_locale")?(t.main="00a7e3",t.tpHover="03c4ff"):(N("site_brand").includes("rfi")||A(N("site_brand"),["mcd","obs"]))&&(t.main="e20000",t.tpHover="cc0000");const n=`.refusal-bar{font-family: ${"km"===N("site_locale")?"'NotoSansKhmer','Noto Sans Khmer',":""}Roboto, Helvetica, Arial, Verdana, sans-serif;font-style:normal;font-weight:400;font-size:15px;line-height:1.25;width:100%;position:fixed;bottom:0;background:#${t.bg};background:rgba(${t.bgRgba});backdrop-filter:blur(4px);z-index:999;text-align:center;box-shadow: 0 0 10px rgba(0,0,0,0.25);transition: all ease .4s;}\n.refusal-bar.ready,.refusal-bar.done{bottom:-240px;box-shadow: none;}\n.refusal-bar.video-displayed { top: 0; z-index:999999999999; }\n.refusal-bar  a,.refusal-bar a:active,.refusal-bar a:link,.refusal-bar a:visited{-moz-transition:color .3s ease;transition:color .3s ease;text-decoration:none;color:#${t.main}}\n.refusal-bar a:hover{color:#${t.font};}\n.refusal-bar .refusal-bar_btn{display:inline-block;border-radius:4px;padding:6px 8px;margin-inline-start:5px;line-height:20px;text-indent:0;color:#fff;text-decoration:none;text-align:center;cursor:pointer;-moz-transition:all .3s ease;transition:all .3s ease;background-color:#${t.main};-moz-box-sizing:border-box;box-sizing:border-box;${"infomigrants"===N("site_brand")?`border:1px solid #${t.main};`:""}}\n.refusal-bar .refusal-bar_btn:hover{background-color:#${t.tpHover};}\n.refusal-bar .refusal-bar_inner {position:relative;display:block;padding:12px 0;max-width:980px;margin:0 auto;transition:all .3s;}\n.u-audio-player-visible .refusal-bar .refusal-bar_inner{margin-bottom:95px;} \n.refusal-bar .refusal-bar_hide, .refusal-bar .refusal-bar_hide-video{ position:absolute; top:3px; ${t.end}:6px; font-size:24px; font-weight:normal; color:#BFBFBF; cursor:pointer;}\n.refusal-bar .refusal-bar_hide-video{ position:absolute; top:0; ${t.end}:8px;color: #FFF;text-shadow: 0px 1px 3px rgba(0, 0, 0, .75);}\n.refusal-bar p {margin:0; padding: 0; font-size: 15px; line-height: 1.25; color:#${t.font};}\n.refusal-bar ul {margin:4px 0 10px; padding-inline-start:24px;list-style-type: disc;}\n.refusal-bar li {margin-bottom:3px;} .refusal-bar svg{color:#fff;width: 20px;height: 20px;margin-inline-end: 5px;vertical-align: -5px;line-height: 20px;}\n.refusal-bar .refusal-bar_video { display:none; justify-content:center; align-items: center; position: fixed; width:100%; height:100%;}\n.refusal-bar .refusal-bar_video-player { position:relative; max-width: 980px; }.refusal-bar .refusal-bar_video-player video{ width:100% }\n.refusal-bar.video-displayed .refusal-bar_video { display:flex; }.refusal-bar.video-displayed .refusal-bar_inner { display:none; }\n.refusal-bar .refusal-bar_first {width:100%; text-align:start; padding-inline-end:24px; }\n.refusal-bar .refusal-bar_last {width:100%; display:flex; flex-direction:row; justify-content:flex-end; align-items: center; margin-top: 8px;}\nhtml[dir=rtl] .refusal-bar svg {direction:rtl;} html[dir=rtl] .refusal-bar, html[dir=rtl] .refusal-bar p, html[dir=rtl] .refusal-bar span{font-family: Arial, Verdana, sans-serif;font-size:18px;line-height:21px;}\n@media screen and (max-width: 1024px) {.refusal-bar .refusal-bar_inner{padding:12px 10px;margin-bottom:60px;}\n.u-audio-player-visible .refusal-bar .refusal-bar_inner{margin-bottom:140px;}.refusal-bar .refusal-bar_first {padding-inline-end:14px;}}`;fe(n);const o=N("site_brand").replace("obs","f24"),a=le("div",`<div class="refusal-bar ready"><div class="refusal-bar_inner"><div class="refusal-bar_first">\n<p><span><strong>${e[0]}</strong><ul><li>${e[1]}</li><li>${e[2]}</li><li>${e[3]}</li></ul></span></p></div><div class="refusal-bar_last"><span class="refusal-bar_btn refusal-bar_play-video"><svg xmlns="http://www.w3.org/2000/svg" viewBox="-372.5 -3464 28 28"><g transform="translate(-372.5 -3464)" stroke="currentColor" stroke-width="1" fill="none"><circle cx="14" cy="14" r="13"></circle></g><path d="M-361.587-3456v12.356l9.268-6.178z"></path></svg>${e[4]}</span>\n<span class="refusal-bar_btn refusal-bar_change">${e[5]}</span><span class="refusal-bar_hide">&times;</span></div></div><div class="refusal-bar_video"><div class="refusal-bar_video-player"><video controls controlslist="nodownload noremoteplayback disablePictureInPicture" playsinline="1" preload="none" poster="https://static.france24.com/rgpd/poster.png"><source src="https://vod-france24.akamaized.net/rgpd/${o}/${"mcd"===o?"ar":e[6]}.mp4" type="video/mp4"></video><span class="refusal-bar_hide-video">&times;</span></div></div></div>`);ae(a,document.body),vi("inject","Injected refusal bar at the end of page");const r=a.children[0];setTimeout((()=>r.classList.remove("ready")),350),te(".refusal-bar_play-video")[0].addEventListener("click",(()=>{r.classList.add("video-displayed"),te("video",r)[0].play(),vi("inject","Clicked play video")})),te(".refusal-bar_hide-video")[0].addEventListener("click",(()=>{r.classList.remove("video-displayed"),te("video",r)[0].pause(),vi("inject","Clicked close video")})),te(".refusal-bar_change")[0].addEventListener("click",(()=>{r.classList.add("done"),setTimeout((()=>ce(r)),500),window.Didomi.notice.show(),vi("inject","Clicked change")})),te(".refusal-bar_hide")[0].addEventListener("click",(()=>{r.classList.add("done"),setTimeout((()=>ce(r)),500),vi("inject","Closed bar")}))},hi=e=>{window.didomiEventListeners.push({event:"notice.clickdisagree",listener(){_i(e)}})},bi=e=>{Pe((()=>hi(e)))};var yi={load:bi,localLog:vi,init:hi,inject:_i};const wi=["Because of your choice:","Articles will no longer be able to display external content such as YouTube videos, posts from X (Twitter) and Instagram pictures.","Cookies not linked to your personal data will be created to allow the website to run.","Lower quality ads may be displayed.","Learn why","Change my choice","en"],ki=["More news videos","en"];dt(kt),J(!0),je((()=>J(!1)));const Ci={pianoFovClicks:Tn,pianoFovAv:Gn,pianoScroll:oo},Ai={inread:ko},Pi={obPixel:ai,ownpage:pi};dn.load([588332,588386],Ci),fo.load(),Eo.load(),Ro.load(),ht("adpushup",[0,50],!0)&&(Bo.load(),Ai.adpushup=Bo),Aa.load(Ai),ko.load(),ja.load(),Va.load(),cr.load(ki,"UC94pBdaUbepV5n3_F_isSWg"),vr.load(),Dr.load(),Qr.load(Pi,{ownpage:"b6184e74d5e8498ea2c5032d44798b10"}),mi.load(),yi.load(wi);const xi={stats:{piano:{...dn,...Ci},chartbeat:fo},special:{deeplink:mi,refusalBar:yi},ads:{report:Eo,sponsoring:Ro,gam:Aa,youtube:Ia,outbrain:ja,selfPromotion:Va,youtubeRelated:cr},inread:ko,monitoring:vr,marketing:{crm:Dr,pixels:{...Qr,...Pi}}};return e.context=bt,e.cookies=mt,e.data=ut,e.dom=ve,e.event=st,e.gdpr=Rt,e.is=j,e.log=K,e.str=E,e.tags=xi,e.var=N,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
