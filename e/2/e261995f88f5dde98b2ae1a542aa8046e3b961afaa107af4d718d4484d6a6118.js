(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6216],{60375:75529:function(e,t,n){"use strict";var a=n(5632);t.Z=e=>{let{session:t,disable:n=!1}=e,r=(0,a.useRouter)(),s=localStorage.getItem("navattic:debug:auth");n||!t||s||r.push("/")}},15610:function(e,t,n){"use strict";n.r(t);var a=n(52322),r=n(2784),s=n(7471),u=n(97185),i=n(73364),o=n(10347),l=n(75529),c=n(23375),d=n(53954),h=n(23848),g=n(5632);function OnboardingPage(){var e;let t=(0,g.useRouter)(),{createWorkspace:n,email:u}=t.query,{currentUser:x}=(0,d.xJ)(),[{data:m}]=(0,o.r)(),{data:b,status:f}=(0,h.useSession)(),[p,v]=(0,r.useState)(n),_="loading"===f||!x;if((0,l.Z)({session:b,disable:_||!x.isOnboarded||!(null==m?void 0:null===(e=m.currentUserMemberships)||void 0===e?void 0:e.length)}),(0,r.useEffect)(()=>{var e;!m||p||!x||(null===(e=m.currentUserMemberships)||void 0===e?void 0:e.length)||v("true")},[p,x,m]),!x&&u){c.t.setLastSignInEmail(u);let e=encodeURIComponent(t.pathname);return t.push({pathname:"/auth/login",query:{callbackUrl:e}}),null}return"unauthenticated"===f?(t.push({pathname:"/auth/login",query:{error:"SessionRequired"}}),(0,a.jsx)(a.Fragment,{})):!_&&!x.isOnboarded&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{title:"Onboarding"}),(0,a.jsx)("div",{className:"flex flex-1 justify-center",children:(0,a.jsxs)("div",{className:"mx-auto my-14 w-full max-w-lg",children:[(0,a.jsx)("h3",{className:"mb-3 text-center text-2xl font-semibold text-gray-800",children:"Tell us a bit more about you"}),(0,a.jsx)("p",{className:"text-center text-base text-gray-700",children:"We'll use this information to provide you the best possible experience"}),(0,a.jsx)(s.Z,{allowCreateWorkspace:!!p,allowUpdateUser:!0})]})})]})||(0,a.jsx)(a.Fragment,{})}OnboardingPage.getLayout=t.default=OnboardingPage}},function(e){e.O(0,[3211,8426,3265,1617,4637,5837,4054,7330,9219,5306,6870,7156,6456,7185,9774,2888,179],,_N_E=e.O()}]);
//# sourceMappingURL=onboarding-cb16c692ba35ff3d.js.map