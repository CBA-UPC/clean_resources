!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"},(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[812],{25078:64730:24192:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});let o={icon:"OIzSg",title:"YZnLZ",subtitle:"oQs98",container:"GzZtE",igniteProductionOptions:"IOcGh",igniteProductOption:"Ahq2Z",radioInnerContainer:"QXuBs",price:"XezzS",description:"XjFjI",igniteAlert:"IwJZG",targeting:"VVkpl",targetingText:"xx3Yj",targetingLabel:"R15af",helpText:"gStOF",igniteSuccessButton:"ILRkA",infoText:"_vOn7",modalFooter:"k9mqe",fixedFooter:"a_6g9",shadow:"i4aV4",igniteSuccessButtonInner:"GDEWC",igniteButtons:"QgXyr",igniteExtinguishButton:"rw1Ql",helpButton:"T6LPn",igniteCancelButton:"M4lpn",extinguishCancelButton:"PHxLn",extinguishConfirmButton:"aYIQf",hasCustomBg:"DPlCX",successPopoverButton:"s2wDP",loadingText:"amVpp",popoverContainer:"ST0Bu",targetWrapper:"uJ6_Y",popover:"QJf1C",audienceButton:"tiqnP",audienceCaret:"F0ual",dropdownBtnContainer:"MarEW",dropdownBtnInner:"sXniv",selector:"ZD6so",selectorText:"OTU6z",selectorLabel:"Nfc7J",selectorWrapper:"WxUJP",selectorCaret:"Z6Gnb",selectorButton:"GDeB8",buttonSelected:"yzzBT",popoverWrapper:"ir1r5",blogLinkMention:"KRE3w",newDesign:"nF_dx",header:"TZx4d",fireBackgroundContainer:"QMsVD",fireBackground:"TV0vm",body:"SMAce",selectionLabel:"TVDzA",loading:"ycvbE",subtitleContainer:"achKX",otherPeoplePost:"SKewB",preview:"nhE3L",previewPost:"te1Ur",previewAvatar:"uhqpA",textButton:"SWOvi",loadingOverlay:"wKz4d",productsHeader:"J0B8j"}},18873:78018:83707:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},i="undefined"!=typeof window&&void 0!==window.document?window.document:{},n="fullscreenEnabled"in i&&Object.keys(o)||"webkitFullscreenEnabled"in i&&["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]||"mozFullScreenEnabled"in i&&["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"]||"msFullscreenEnabled"in i&&["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]||[];let a={requestFullscreen:requestFullscreenFunction:get exitFullscreenget fullscreenPseudoClassaddEventListener:function(e,t,s){return i.addEventListener(n[o[e]],t,s)},removeEventListener:get fullscreenEnabled(){return!!i[n[o.fullscreenEnabled]]},set fullscreenEnabled(val){},get fullscreenElementset fullscreenElementget onfullscreenchange(){return i[("on"+n[o.fullscreenchange]).toLowerCase()]},set onfullscreenchange(handler){return i[("on"+n[o.fullscreenchange]).toLowerCase()]=handler},get onfullscreenerrorset onfullscreenerror},45546:(e,t,s)=>{"use strict";s.d(t,{a:()=>M});var o=s(33970),i=s.n(o),n=s(5754),a=s.n(n),l=s(95004),r=s(73465),d=s(49803),c=s(25190),u=s(78667),p=s(54138),h=s.n(p),m=s(78994),g=s(44009),v=s(6135),b=s(53714),x=s(17276),f=s.n(x),C=s(33590),w=s(91253),y=s(39377),j=s(94833),k=j.z.object({badges:j.z.array(y.xD)}),N=(0,w.i)(k),P=S=()=>{var e=(0,u.bp)().apiFetchWithSchema;return(0,C.a)({queryKey:P(),queryFn:()=>{var t;return f()().async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,f()().awrap(e("/v2/tumblrmart/accessories/details",N,{method:"GET",schemaErrorPrintFullResponse:!0}));case 2:return t=s.sent,s.abrupt("return",t.response);case 4:case"end":return s.stop()}},null,null,null,Promise)},refetchOnMount:!1,refetchOnWindowFocus:!1})},I=s(43684);let T={hoverCardTargetWrapper:"Lssfa",hoverCardWrapper:"XyjT5",popoverContainer:"HiALI",popoverHeader:"ftMh_",icon:"ExLtT",popoverBody:"zQQ1t",title:"eS7H5",description:"gY71t",actions:"vlhpM",button:"oLcVd",isIconButton:"GU7ne",full:"Qppi3",loader:"lDyCD"};var A=s(2629),B=e=>{var t,s=e.children,o=e.productGroup,n=e.wrapperClassName,d=(0,u.bp)(),c=d._c,p=d.isLoggedIn,x=S(),f=x.data,C=x.isPending,w=(0,m.s0)(),y=(0,m.TH)().pathname,j=(0,l.useState)(!1),k=i()(j,2),N=k[0],P=k[1],B=null==f||null===(t=f.badges)||void 0===t?void 0:t.find(e=>e.productGroup===o);return B?(0,A.jsx)(b.ZP,{isOpen:N,toggle:()=>P(!N),width:180,component:C?(0,A.jsx)("span",{className:T.loader,children:(0,A.jsx)(v.Z,{centerOrientation:"horizontalAndVertical"})}):(0,A.jsxs)("div",{className:T.popoverContainer,children:[(0,A.jsx)("div",{className:T.popoverHeader,style:{background:(0,r.aA)(B.backgroundColors,"to bottom right")},children:(0,r.C6)(B.imageUrls.avatar,c("[Badge Management] Badge hover card badge image.","Image of a badge."),T.icon)}),(0,A.jsxs)("div",{className:T.popoverBody,children:[(0,A.jsx)("h2",{className:T.title,children:B.title}),(0,A.jsx)("p",{className:T.description,children:B.subtitle}),(null==B?void 0:B.actions)&&(0,A.jsx)("div",{className:T.actions,children:B.actions.map((e,t)=>{var s=(null==e?void 0:e.label)||c("[Badge Management] Badge hover card button label.","More details."),i=new URL(e.url),n=(0,r.SB)(i.hostname);return(0,A.jsxs)(g.Z,h()(h()({className:a()(T.button,{[T.isIconButton]:(null==e?void 0:e.icon)&&!(null!=e&&e.label),[T.full]:(null==e?void 0:e.icon)&&(null==e?void 0:e.label)}),label:s,onClick:()=>{(p||!n)&&(0,r.XW)(e.url,w)}},!p&&n&&{"data-login-wall-type":"accessory","data-login-wall-redirect":y,"data-login-wall-destination":`${i.pathname}${i.search}`}),{},{children:[(null==e?void 0:e.icon)&&(0,r.hX)(e.icon,void 0),null==e?void 0:e.label]}),`product-${o}-${t}`)})})]})]}),popoverWrapperClassName:T.hoverCardPopoverWrapper,targetWrapperClassName:T.hoverCardTargetWrapper,type:I.Oj.Hover,usePortals:!0,children:(0,A.jsx)("span",{className:a()(T.hoverCardWrapper,n),children:s})}):s},Z=s(25078),E=e=>{var t=e.badgeIndex,s=e.productGroup,o=e.isHoverCardDisabled,i=void 0!==o&&o,n=e.urls,l=e.unwrapped,d=e.badgeClassName,p=(0,u.bp)()._c,h=(0,c.v$)().isMobile,m=n.map((e,o)=>{var n=(0,r.tD)(e,p("[Badge Management] Image of TumblrMart badge","Badge image."),Z.Z.badgeImage);return(0,A.jsx)("span",{className:a()(Z.Z.badge,d),style:{"--badges-index":String(t+o)},children:h||i?n:(0,A.jsx)(B,{productGroup:s,children:n})},`badge-image-${s}-${t+o}`)});return void 0!==l&&l?m:(0,A.jsx)("span",{className:Z.Z.badgeContainer,children:m})},M=e=>{var t=e.badgeClassName,s=e.canShowBadges,o=e.isHoverCardDisabled,n=e.tumblrmartAccessories,c=e.unwrapped,u=void 0!==c&&c,p=(0,l.useState)(!1),h=i()(p,2),m=h[0],g=h[1],v=(0,l.useState)([]),b=i()(v,2),x=b[0],f=b[1],C=(0,l.useRef)(null),w=(0,l.useMemo)(()=>x.map(e=>e.urls).flat().length,[x]);if((0,l.useEffect)(()=>{null!=n&&n.badges&&f(n.badges)},[null==n?void 0:n.badges]),(0,d.L)(()=>{null!=C&&C.current&&g((0,r.cZ)(w,C.current.clientWidth))},[x]),!x.length||!s)return null;var y=0,j=x.map((e,s)=>{var i=e.productGroup,n=e.urls,a=(0,A.jsx)(E,{badgeIndex:y,productGroup:i,urls:n,isHoverCardDisabled:o,unwrapped:u,badgeClassName:t},`badge-container-${i}-${s}`);return y+=n.length,a});return u?j:(0,A.jsx)("span",{className:a()(Z.Z.badgesContainer,{[Z.Z.shouldStack]:m}),ref:C,style:{"--badges-total":String(w)},children:j})}},3802:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var o=s(50209),i=s.n(o),n=s(95004),a=s(44009),l=s(41338),r=s(78667),d=s(80057);let c={holder:"LaNUG",expandButton:"uR3i7"};var u=s(2629);class p extends n.Component{constructor(){super(...arguments),i()(this,"state",{clientHeight:void 0,unfoldNestedContent:!1,isExpanded:!1,maxHeightForVideo:0}),i()(this,"holderRef",(0,n.createRef)()),i()(this,"updateClientHeightState",()=>{var e;this.setState({clientHeight:null===(e=this.holderRef.current)||void 0===e?void 0:e.clientHeight})}),i()(this,"updateClientHeightStateAfterFlush",(0,l.Z)(this.updateClientHeightState)),i()(this,"expand",e=>{var t,s;e.stopPropagation(),null===(t=(s=this.props).onExpand)||void 0===t||t.call(s),this.setState({isExpanded:!0,unfoldNestedContent:!0})}),i()(this,"onVideoResize",(e,t)=>{var s=this.props.maxHeight;this.shouldCrop()&&t>s&&e<s&&this.setState({maxHeightForVideo:t+50})})}componentDidMount(){this.updateClientHeightStateAfterFlush()}componentWillUnmount(){this.updateClientHeightStateAfterFlush.cancel()}static preventScrollhouldCrop(){var e=this.state,t=e.clientHeight,s=e.isExpanded,o=this.props,i=o.maxHeight,n=o.maxHeightTolerance,a=o.preventTruncation,l=o.setIsLongPost,r=void 0===t||t>i+(n||50),d=!s&&r&&!a;return null==l||l(r),d}render(){var e=this.state,t=e.clientHeight,s=e.unfoldNestedContent,o=e.maxHeightForVideo,i=this.props,n=i.maxHeight,l=i.children,r=i.expandButtonClassName,h=void 0===r?c.expandButton:r,m=i.onCrop,g=i.appContext._t,v=this.shouldCrop();null==m||m(v);var b=v&&void 0!==t,x=g("Expand"),f={unfoldNestedContent:s,onVideoResize:this.onVideoResize};return(0,u.jsx)(d.mO.Provider,{value:f,children:(0,u.jsxs)("div",{className:c.holder,style:{maxHeight:v?Math.max(o||n):void 0},onScroll:p.preventScroll,children:[(0,u.jsx)("div",{ref:this.holderRef,children:l}),b&&(0,u.jsx)(a.Z,{wrapperClassName:h,onClick:this.expand,label:x,children:x})]})})}}let h=(0,r.HJ)(p)},14144:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s(9041);let i={postPlaceholder:"qrzdF"};var n=s(2629);let a=e=>{var t=e.margin,s=e.children,a=e.wrapperClassName,l=e.wrapperStyle,r=(0,o.YD)({rootMargin:void 0===t?"250%":t}),d=r.ref,c=r.inView,u=r.entry;if(!c&&(null==u?void 0:u.target)){var p=null==u?void 0:u.target,h=p.clientHeight,m=p.clientWidth;return(0,n.jsx)("div",{ref:d,role:"figure",className:i.postPlaceholder,style:{maxWidth:m,height:h}})}return(0,n.jsx)("div",{className:a,style:l,ref:d,children:s})}},27755:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=(0,s(36343).q)("airplane");o.defaultProps={size:{width:17,height:17}};let i=o},32697:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=(0,s(36343).q)("calendar");o.defaultProps={size:{width:18,height:18}};let i=o},80062:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=(0,s(36343).q)("clock");o.defaultProps={size:{width:18,height:18}};let i=o},28863:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=(0,s(36343).q)("collapse");o.defaultProps={size:{width:24,height:24}};let i=o},80437:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=(0,s(36343).q)("delete");o.defaultProps={size:{width:24,height:24}};let i=o},60499:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s(36343),i=(0,o.$)({filledIcon:(0,o.q)("fire-filled"),emptyIcon:(0,o.q)("fire-empty")});i.defaultProps={filled:!1,size:{width:23,height:20}};let n=i},83302:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=(0,s(36343).q)("full-screen");o.defaultProps={size:{width:24,height:24}};let i=o},69956:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=(0,s(36343).q)("ignite");o.defaultProps={size:{width:23,height:20}};let i=o},27252:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=(0,s(36343).q)("memberships-lock");o.defaultProps={size:{width:36,height:36}};let i=o},10490:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=(0,s(36343).q)("pause");o.defaultProps={size:{width:24,height:24}};let i=o},5860:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=(0,s(36343).q)("posts-poll");o.defaultProps={size:{width:24,height:24}};let i=o},17635:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s(36343),i=(0,o.$)({filledIcon:(0,o.q)("reply-filled"),emptyIcon:(0,o.q)("reply-empty")});i.defaultProps={filled:!1,size:{width:17,height:17}};let n=i},52177:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var o=s(33970),i=s.n(o),n=s(5754),a=s.n(n),l=s(95004);let r=s.p+"src/assets/icons/ignite-icon-80c800c6.svg";var d=s(42914),c=s(16273);function u(e,t){Object.entries(t).forEach(t=>{var s=i()(t,2),o=s[0],n=s[1];e.style[o]=n})}var p=s(64730),h=s(2629);let m=e=>{var t=(0,l.useRef)(null),s=(0,l.useState)(0),o=i()(s,2),n=o[0],m=o[1];return(0,l.useEffect)(()=>{var e=t.current;if(e){var s=window.innerWidth,o=window.innerHeight;u(e,{width:`${s}px`,height:`${o}px`}),e.style.setProperty("--fire-container-height",`${o+30}px`),e.querySelectorAll(`.${p.Z.fireEmoji}`).forEach(e=>{var t=.4*Math.random()+.6,i=30*t,n=o/120;u(e,{height:`${30*t}px`,width:`${i}px`,opacity:`${t}`,animationDuration:`${t*n}s`,animationDelay:`-${Math.random()*t*n}s`,left:`${Math.random()*s-i/2}px`})});var i=(0,d.Z)(100);return window.addEventListener("resize",i),},[n]),(0,h.jsxs)("div",{className:a()(p.Z.overlay,e.className),"data-testid":"ignite-animation",children:[(0,h.jsx)("div",{className:p.Z.fire,children:(0,h.jsxs)("svg",{width:"125",height:"189.864",viewBox:"0 0 125 189.864",children:[(0,h.jsx)("path",{className:p.Z.flameMain,fill:"#F36E21",d:"M76.553 186.09s-10.178-2.976-15.325-8.226-9.278-16.82-9.278-16.82-.241-6.647-4.136-18.465c0 0 3.357 4.969 5.103 9.938 0 0-5.305-21.086 1.712-30.418 7.017-9.333.571-35.654-2.25-37.534 0 0 13.07 5.64 19.875 47.54 6.806 41.899 16.831 45.301 6.088 53.985"}),(0,h.jsx)("path",{className:a()(p.Z.flameMain,p.Z.one),fill:"#F6891F",d:"M61.693 122.257c4.117-15.4 12.097-14.487-11.589-60.872 0 0 32.016 10.223 52.601 63.123 20.585 52.899-19.848 61.045-19.643 61.582.206.537-19.401-.269-14.835-18.532s-10.651-29.902-6.534-45.301z"}),(0,h.jsx)("path",{className:a()(p.Z.flameMain,p.Z.two),fill:"#FFD04A",d:"M81.657 79.192s11.549 24.845 3.626 40.02c-7.924 15.175-21.126 41.899-.425 64.998 0 0 40.847-33.305-3.201-105.018z"}),(0,h.jsx)("path",{className:a()(p.Z.flameMain,p.Z.three),fill:"#FDBA16",d:"M99.92 101.754s-23.208 47.027-12.043 80.072c0 0 32.741-16.073 20.108-45.79-12.631-29.717-8.065-21.928-8.065-34.282z"}),(0,h.jsx)("path",{className:a()(p.Z.flameMain,p.Z.four),fill:"#F36E21",d:"M103.143 105.917s8.927 30.753-1.043 46.868c-9.969 16.115-14.799 29.041-14.799 29.041s47.086-17.223 15.842-75.909z"}),(0,h.jsx)("path",{className:a()(p.Z.flameMain,p.Z.five),fill:"#FDBA16",d:"M62.049 104.171s-15.645 67.588 10.529 77.655c26.175 10.068-3.545-51.065-10.529-77.655z"}),(0,h.jsx)("path",{className:p.Z.flame,fill:"#F36E21",d:"M101.011 112.926s8.973 10.519 4.556 16.543c-6.197.266 1.185-12.063-4.556-16.543z"}),(0,h.jsx)("path",{className:a()(p.Z.flame,p.Z.one),fill:"#F36E21",d:"M55.592 126.854s-3.819 13.29 2.699 16.945c5.747-2.319-2.384-11.536-2.699-16.945z"}),(0,h.jsx)("path",{className:a()(p.Z.flame,p.Z.two),fill:"#F36E21",d:"M54.918 104.595s-3.959 6.109-1.24 8.949c3.252-.288-1.45-6.215 1.24-8.949z"})]})}),(0,h.jsx)("div",{ref:t,children:(0,c.Z)(0,60).map(e=>(0,h.jsx)("img",{src:r,alt:"",className:p.Z.fireEmoji},e))})]})}},64741:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>eE,eo:()=>eB,y4:()=>eZ});var o=s(95004),i=s(52177),n=s(17276),a=s.n(n),l=s(33970),r=s.n(l),d=s(1539),c=s(44009),u=(0,s(36343).q)("extinguisher");u.defaultProps={size:{width:13,height:18}};var p=s(2629);let h=e=>{var t=e.label,s=e.onClick,o=e.disabled;return(0,p.jsxs)(c.Z,{wrapperClassName:"hgLUH",label:t,onClick:s,disabled:void 0!==o&&o,children:[(0,p.jsx)(u,{}),(0,p.jsx)("div",{className:"cuF6B",children:t})]})};var m=s(90127),g=s(85795),v=s(78667),b=s(43166),x=s(67657),f=s(34438),C=s(33590);function w(e,t){var s=(0,v.bp)().apiFetch;return(0,C.a)({queryKey:["ignite-products"],queryFn:()=>{var e,o,i,n;return a()().async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,a()().awrap(s("/v2/ignite/products",{queryParams:{translations:"full",tumblelog_uuid:t}}));case 2:return o=(e=l.sent.response).products,i=e.audienceOptions,n=e.languageOptions,l.abrupt("return",{products:o,audienceOptions:i,languageOptions:n});case 8:case"end":return l.stop()}},null,null,null,Promise)},refetchOnWindowFocus:!1,staleTime:3e5,enabled:e})}var y=s(5553),j=s(43523),k=s(24946),N=s(6233),P=s(17287),S=s(69956),I=s(54382),T=s(67023);let A=e=>{var t=e.classname,s=e.percent;return(0,p.jsx)("div",{className:t,style:{width:`${s>100?100:s}%`}})},B={leftText:"s4g_h",valueText:"yXNX0",grid:"pMpfW",row:"HQcQr",bar:"hrv3x",barContainer:"VgtfT",highlightedValue:"rBSgB"};var Z=()=>(0,(0,v.bp)()._t)("Started:"),E=()=>(0,(0,v.bp)()._t)("Estimated Progress:"),M=e=>(0,(0,v.bp)()._getLocaleDateString)(new Date(1e3*e),T.C.WeekDayDateAndTime,!0);let L=e=>{var t=e.startingDate,s=e.impressionGoal,o=e.impressionCount;return(0,p.jsxs)("div",{className:B.grid,children:[(0,p.jsxs)("div",{className:B.row,children:[(0,p.jsx)("label",{className:B.leftText,children:Z()}),(0,p.jsx)("label",{className:B.valueText,children:M(t)})]}),0!==o&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:B.row,children:[(0,p.jsx)("label",{className:B.leftText,children:E()}),(0,p.jsx)("label",{id:"impressionCount",className:B.valueText,children:(0,p.jsx)(I.ZP,{params:{impressionCount:o,impressionGoal:s},components:{highlight:(0,p.jsx)("span",{className:B.highlightedValue})},children:"[highlight][impressionCount][/highlight] / [impressionGoal] impressions"})})]}),(0,p.jsx)("div",{className:B.barContainer,children:(0,p.jsx)(A,{classname:B.bar,percent:o/s*100})})]})]})};var R=s(63583),D=s.n(R),O=s(24192);let z=()=>{var e,t,s,o=(0,v.bp)()._c,i=(0,b.b8)().post,n=i.igniteTransaction,a=i.igniteReport,l=i.blog,r=i.isSingleUserBlaze,c=void 0===r||r,u=i.userIsBlazee,h=i.blazerBlog,m=(()=>{var e=!c&&u&&h;return c?{title:o("The post has been sponsored and is hot / trending","This post is on fire – in a good way!"),message:o("A follow up that shows how well the user sponsored post did","We’ll send a full report when your campaign is complete. Here's how it is going:")}:e?{title:(0,p.jsx)(I.ZP,{comment:"The post has been sponsored by other user and is hot / trending",params:{blogName:`@${h.name}`},components:{link:(0,p.jsx)(P.Z,{className:O.Z.blogLinkMention,blog:h,showBlogCard:!0})},children:"[link][blogName][/link] set this post on fire – in a good way!"}),message:(0,p.jsx)(I.ZP,{comment:"A follow up that shows how well the user sponsored post did (sponsored by other user) ",params:{blogName:`@${h.name}`},components:{link:(0,p.jsx)(P.Z,{className:O.Z.blogLinkMention,blog:h,showBlogCard:!0})},children:"We’ll send you and [link][blogName][/link] a full report when the campaign is complete. Here’s how it’s going:"})}:{title:(0,p.jsx)(I.ZP,{comment:"The non-owned post has been sponsored and is hot / trending",params:{blogName:`@${l.name}`},components:{link:(0,p.jsx)(P.Z,{className:O.Z.blogLinkMention,blog:l,showBlogCard:!0})},children:"Post by [link][blogName][/link] is on fire – in a good way!"}),message:(0,p.jsx)(I.ZP,{comment:"A follow up that shows how well the user non-owned sponsored post did",params:{blogName:`@${l.name}`},components:{link:(0,p.jsx)(P.Z,{className:O.Z.blogLinkMention,blog:l,showBlogCard:!0})},children:"We’ll send you and [link][blogName][/link] a full report when the campaign is complete. Here’s how it’s going:"})}})(),g=m.title,x=m.message;return(0,p.jsx)(d.Z,{theme:"success",wrapperClassName:O.Z.igniteAlert,title:g,message:x,icon:(0,p.jsx)(S.Z,{colors:{accent:R.blazeOrange,primary:R.blazeOrange}}),children:(0,p.jsx)(L,{startingDate:null!==(e=null==n?void 0:n.startTimestamp)&&void 0!==e?e:0,impressionGoal:null!==(t=null==n?void 0:n.impressionGoal)&&void 0!==t?t:0,impressionCount:null!==(s=null==a?void 0:a.impressions)&&void 0!==s?s:0})})};var F=s(54138),V=s.n(F),_=s(74446),H=s(399),W=s(68782),U=s(18060);let q=e=>{var t=e.onClose,s=(0,v.bp)(),i=s._c,n=s._t,a=s.apiFetch,l=(0,_.i)(),h=l.onEditTimelineObject,m=l.onRemoveTimelineObject,x=eZ().removePostOnExtinguish,f=(0,o.useState)(!1),C=r()(f,2),w=C[0],y=C[1],j=(0,o.useState)(null),k=r()(j,2),S=k[0],T=k[1],A=(0,b.b8)().post,B=(0,U.HW)().blazeCampaign,Z=A.id,E=A.blog,M=A.isSingleUserBlaze,L=void 0===M||M,R=A.userIsBlazee,D=A.blazerBlog,z=A.isBlazed,F=A.igniteTransaction,q=A.igniteReport,G=(null==F?void 0:F.transactionUuid)||"",$=(null==F?void 0:F.impressionGoal)||0,Q=(null==q?void 0:q.impressions)||0;(0,o.useEffect)(()=>()=>{w&&(B?null==h||h(V()(V()({},B),{},{status:"pending"===B.status?"canceled":"extinguished"})):x?null==m||m({id:A.id}):null==h||h(V()(V()({},A),{},{igniteStatus:void 0,isBlazed:!1,isBlazePending:!1,canBlaze:!0,canManageBlaze:void 0,hasExpandedVersionBelowIt:void 0,isExpandedInGrid:void 0})))},[w,x,m,h,A,B]);var J=()=>(0,g.ZP)(a).igniteCancelPendingBlaze(Z.toString(),E.uuid,G).fetch(),X=()=>(0,g.ZP)(a).igniteExtinguishPost(Z.toString(),E.uuid,G).fetch();return(0,p.jsx)(N.Z,{headerIcon:(0,p.jsx)(u,{}),title:w?i("The post blaze was successfully cancelled","Post successfully extinguished"):i("The user wants to extinguish a blazed post and needs to confirm","Are you sure to extinguish Blaze campaign?"),onClose:t,compact:!0,children:(0,p.jsxs)(p.Fragment,{children:[S&&(0,p.jsx)(d.Z,{theme:"error",wrapperClassName:O.Z.alert,message:S}),(0,p.jsx)(d.Z,{theme:"info",wrapperClassName:O.Z.igniteAlert,title:"",message:w?z?i("A follow up indicating the blazed post has been successfully stopped","It may take a little bit for the post to be fully removed from promotion across Tumblr."):i("A follow up indicating the pending blazed post has been successfully cancelled","The post will be removed from the moderation queue in a few moments."):(()=>{var e=!L&&R&&D,t=(0,p.jsx)("p",{children:(0,p.jsx)(I.ZP,{comment:"An approved sponsored post is being extinguished - confirmation message",children:"Would you still like to extinguish the campaign?"})});return L?z?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{children:(0,p.jsx)(I.ZP,{comment:"An approved sponsored owned post is being extinguished - intro message",children:"You can extinguish the remaining campaign and we’ll stop sharing your post across Tumblr."})}),(0,p.jsx)("p",{children:(0,p.jsx)(I.ZP,{comment:"An approved sponsored owned post is being extinguished - campaign performance message",params:{impressionCount:Q,impressionGoal:$},children:"So far it’s been shown to [impressionCount] out of [impressionGoal] impressions. All sales are final and this will not refund your purchase."})}),t]}):(0,p.jsx)(I.ZP,{children:"Your post will be removed from the Blaze moderation queue and a full refund of your payment will be issued."}):e?z?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{children:(0,p.jsx)(I.ZP,{comment:"An approved sponsored owned post is being extinguished - intro message (sponsored by other user)",params:{blogName:`@${D.name}`},components:{link:(0,p.jsx)(P.Z,{className:O.Z.blogLinkMention,blog:D,showBlogCard:!0})},children:"You can extinguish the remaining campaign initiated by [link][blogName][/link] and we’ll stop promoting your post across Tumblr."})}),(0,p.jsx)("p",{children:(0,p.jsx)(I.ZP,{comment:"An approved sponsored owned post is being extinguished - campaign performance message (sponsored by other user)",params:{impressionCount:Q,impressionGoal:$},children:"So far it’s been shown to [impressionCount] out of [impressionGoal] impressions."})}),t]}):(0,p.jsx)(I.ZP,{comment:"A pending sponsored owned post is being extinguished - intro message (sponsored by other user)",params:{blogName:`@${D.name}`},components:{link:(0,p.jsx)(P.Z,{className:O.Z.blogLinkMention,blog:D,showBlogCard:!0})},children:"Campaign initiated by [link][blogName][/link] will be removed from moderation queue and the post will not be promoted across Tumblr."}):z?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{children:(0,p.jsx)(I.ZP,{comment:"An approved sponsored non-owned post is being extinguished - intro message",params:{blogName:`@${E.name}`},components:{link:(0,p.jsx)(P.Z,{className:O.Z.blogLinkMention,blog:E,showBlogCard:!0})},children:"You can extinguish the remaining campaign with [link][blogName]’s[/link] post and we’ll stop promoting this post across Tumblr."})}),(0,p.jsx)("p",{children:(0,p.jsx)(I.ZP,{comment:"An approved sponsored non-owned post is being extinguished - campaign performance message",components:{br:(0,p.jsx)("br",{})},params:{impressionCount:Q,impressionGoal:$},children:"So far it’s been shown to [impressionCount] out of [impressionGoal] impressions.[br/]All sales are final and this will not refund your purchase."})}),t]}):(0,p.jsx)(I.ZP,{comment:"A pending sponsored non-owned post is being extinguished - intro message",params:{blogName:`@${E.name}`},components:{link:(0,p.jsx)(P.Z,{className:O.Z.blogLinkMention,blog:E,showBlogCard:!0})},children:"Campaign with [link][blogName]’s[/link] post will be removed from the moderation queue, the post will not be promoted and a full refund of your payment will be issued."})})(),icon:(0,p.jsx)("div",{})}),(0,p.jsxs)("div",{className:O.Z.igniteButtons,children:[w?(0,p.jsx)(c.Z,{onClick:t,label:n("Done"),wrapperClassName:O.Z.igniteSuccessButton,children:n("Done")}):(0,p.js{(z?X:J)().then(()=>{T(null),y(!0)}).catch(()=>{T((0,W.U)((0,H.Pk)(n)))})},label:i("Confirmation button for extinguishing a blazed post","Yes, extinguish Blaze campaign"),wrapperClassName:O.Z.extinguishConfirmButton,children:i("Confirmation button for extinguishing a blazed post","Yes, extinguish Blaze campaign")}),w?(0,p.jsx)("div",{}):(0,p.jsx)(c.Z,{onClick:t,label:n("No, continue campaign"),wrapperClassName:O.Z.extinguishCancelButton,children:n("No, continue campaign")})]})]})})};var G=s(5754),$=s.n(G),Q=s(68144),J=s(6135),X=s(48352),Y=s(32415),K=s(9041),ee=s(93415),et=s(44561),es=s(86785),eo=s(22424),ei=s(36583),en=s(45222),ea=s(28431),el=s(53714),er=s(37236),ed=s(43684),ec=s(44453);let eu={avatarWrapper:"RyfGF",dropdownBtnContainer:"ebil_",popoverWrapper:"xP9Ip",popoverContainer:"Zo900",blogSelectorPopover:"wLIxd",blogSelectorItem:"DKjfg",blogSelectorTextWrapper:"_8DeZd",blogSelectorBlogName:"pv2zo",blogSelectorBlogTitle:"kR4k3",blogSelectorButtonLabel:"k0Bm3",selectionLabel:"hO4Gs",buttonSelected:"kEGuS"};var ep=e=>{var t=e.blogs,s=e.onSelection;return(0,p.jsx)("div",{role:"listbox",className:eu.blogSelectorPopover,children:null==t?void 0:t.map(e=>(0,p.jsxs)(ea.Z,{className:$()(eu.dropdownBtnContainer,eu.blogSelectorItem),label:e.name,onClick:()=>s(e),children:[(0,p.jsx)(en.Z,{imageResponse:e.avatar,avatarShape:er.o.Circle,name:e.name,dimension:36,showBlogCard:!1,isLink:!1,wrapperClassName:eu.avatarWrapper}),(0,p.jsxs)("span",{className:eu.blogSelectorTextWrapper,children:[(0,p.jsx)("span",{className:eu.blogSelectorBlogName,children:e.name}),(0,p.jsx)("span",{className:eu.blogSelectorBlogTitle,children:e.title})]})]},e.uuid))})},eh=e=>{var t=e.initialBlog,s=e.blogs,i=e.onSelection,n=e.label,a=(0,o.useState)(!1),l=r()(a,2),d=l[0],c=l[1],u=()=>c(e=>!e);return(0,p.jsxs)("div",{className:eu.blogSelector,children:[(0,p.jsx)("span",{className:eu.selectionLabel,children:n}),(0,p.jsx)("div",{className:eu.popoverContainer,children:s.length>1?(0,p.jsx)(el.ZP,{component:(0,p.jsx)(ep,{blogs:s,onSelection:i}),width:"calc(100% - 48px)",maxWidth:328,height:"auto",usePortals:!0,position:ed.I2.BottomStart,targetWrapperDisplayBlock:!0,isOpen:d,toggle:u,popoverWrapperClassName:eu.popoverWrapper,children:(0,p.jsxs)(ec.Z,{label:n,onClick:u,isSelected:d,className:d?eu.buttonSelected:eu.buttonDeselected,children:[(0,p.jsx)(en.Z,{imageResponse:t.avatar,avatarShape:er.o.Circle,name:t.name,dimension:24,showBlogCard:!1,isLink:!1,wrapperClassName:eu.avatarWrapper}),(0,p.jsx)("span",{className:eu.blogSelectorButtonLabel,children:t.name})]})}):(0,p.jsxs)(ec.Z,{label:n,hideCaret:!0,children:[(0,p.jsx)(en.Z,{imageResponse:t.avatar,avatarShape:er.o.Circle,name:t.name,dimension:24,showBlogCard:!1,isLink:!1,wrapperClassName:eu.avatarWrapper}),(0,p.jsx)("span",{className:eu.blogSelectorButtonLabel,children:t.name})]})})]})};let em=e=>{var t=e.label,s=e.initialOption,i=e.options,n=e.onSelection,a=(0,o.useSt)(a,2),d=l[0],u=l[1],h=()=>u(e=>!e);return(0,p.jsx)("div",{className:O.Z.popoverContainer,children:(0,p.jsx)(el.ZP,{component:(0,p.jsx)("div",{role:"listbox",children:null==i?void 0:i.map((e,t)=>(0,p.jsx)(ea.Z,{isWrappingButton:!0,className:O.Z.dropdownBtnContainer,children:(0,p.jsx)(c.Z,{label:e.description,onClick:()=>n(e),className:O.Z.dropdownBtnInner,children:e.description})},t))}),width:"calc(100% - 48px)",maxWidth:328,maxHeight:"40vh",usePortals:!0,position:ed.I2.BottomStart,targetWrapperDisplayBlock:!0,isOpen:d,toggle:h,popoverWrapperClassName:O.Z.popoverWrapper,children:(0,p.jsx)(ec.Z,{label:t,onClick:h,isSelected:d,className:d?O.Z.buttonSelected:O.Z.buttonDeselected,children:(0,p.jsx)("span",{className:O.Z.selectorLabel,children:s.description})})})})};var eg=s(71958),ev=s(24628),eb=s(79757),ex=s(22689),ef=s(49422),eC=s(9132),ew=s(97699),ey=(0,ef.Bi)(e=>{var{store:t}=e,s=(0,ew.S0)(e,["store"]);let i=(0,o.useContext)(ex.iw),n=(0,eC.Me)(s.id);return(0,eC.Gw)(()=>(null==i||i(n),()=>null==i?void 0:i(void 0)),[i,n]),s=(0,ew.ih)({id:n},s)});(0,ef.LM)(e=>{let t=ey(e);returnp",t)});var ejlet t=ej(e);return(0,ef.az)("p",t)}),eN=s(91086),eP=()=>{var e=(0,v.bp)()._c,t=(0,eg.p)({placement:"bottom-start"}),s=t.useState("open");return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ev.x,{store:t,"aria-label":"Expand information on impressions",children:(0,p.jsx)("div",{className:$()("X0kwN",{snP5T:s}),children:(0,p.jsx)(eN.Z,{colors:{primary:D().transparentBlack40,background:D().white},size:{width:16,height:16}})})}),(0,p.jsx)(eb.J,{store:t,className:"kX_oQ",children:(0,p.jsx)(ek,{className:"gto4H",children:e("Information about what impressions mean w.r.t. our product Blaze in a collapsible info section","Impressions mean how many times a post will be put in front of another person.\n\nWe can't guarantee the exact number every time although we always do our best to get as close to the selected number of impressions as possible.")})})]})};let eS=function(e){var t=(0,v.bp)(),s=t._c,i=t._t,n=t._getLocaleNumberString,a="BlazePayment",l=(0,b.b8)().post.canBlazeSingleUser,r=(0,eo.wL)().logEvent,c=(0,v.bp)().isAdmin,u=e.blogs,h=e.products,m=e.audienceOptions,g=e.languageOptions,x=e.selectedProduct,f=e.setSelectedProduct,C=e.selectedAudience,w=e.setSelectedAudience,y=e.selectedLanguage,k=e.setSelectedLanguage,N=e.selectedBlog,P=e.setSelectedBlog;(0,o.useEffect)(()=>(r({eventName:j.J.ScreenView,page:a,eventDetails:{is_admin:c}}),()=>{r({eventName:j.J.ScreenLeft,page:a,eventDetails:{is_admin:c}})}),[]);var S=(0,o.useMemo)(()=>null==h?void 0:h.map(e=>({value:e.slug,children:(0,p.jsxs)("span",{className:O.Z.radioInnerContainer,children:[(0,p.jsxs)("span",{className:O.Z.description,children:[(0,p.jsx)("span",{className:O.Z.impressions,children:n(parseInt(e.impressions))}),(0,p.jsx)("span",{children:s("Impressions for a product in Blaze campaigns (modal)","Impressions")})]}),(0,p.jsx)("span",{className:O.Z.price,children:(0,p.jsx)("b",{children:e.price})})]})})),[h,n,s]);if(!h||!S||!S.length)return(0,p.jsx)(d.Z,{theme:"error",wrapperClassName:O.Z.alert,message:i("No p=>e.value===(null==x?void 0:x.slug)),T=s("Label for language selector in Blaze campaigns (modal)","Audience Language"),A=s("Label for audience Blaze campaigns (modal)","Send it to"),B=s("Label for blog selector in Blaze campaigns (modal)","Blaze it using");return(0,p.jsxs)(p.Fragment,{children:[!(void 0===l||l)&&u&&(0,p.jsx)(eh,{blogs:u,initialBlog:N||u[0],onSelection:P,label:B}),(0,p.jsxs)("div",{className:O.Z.productsHeader,children:[(0,p.jsx)("span",{className:O.Z.selectionLabel,children:s("Label for impression package selector in Blaze campaigns (modal)","Estimated impression packages")}),(0,p.jsx)(eP,{})]}),(0,p.jsx)(ei.Z,{className:O.Z.igniteProductionOptions,optionClassName:O.Z.igniteProductOption,groupLabel:i("Pricing"),name:"productSlug",optioedOptionIndex:I,onChange:e=>f(h[e])}),(0,p.jsx)("span",{className:O.Z.selectionLabel,children:A}),null!=m&&m.length&&C?(0,p.jsx)(em,{options:m,initialOption:C,onSelection:w,label:A}):(0,p.jsx)(ec.Z,{label:s("Option for targeting Blaze campaigns","@anyone"),hideCaret:!0,children:(0,p.jsx)("span",{className:O.Z.selectorLabel,children:s("Option for targeting Blaze campaigns","@anyone")})}),(null==g?void 0:g.length)&&y&&(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:O.Z.selectionLabel,children:T}),(0,p.jsx)(em,{options:g,initialOption:y,onSelection:k,label:T})]})]})},eI=e=>{var t,s,i=e.onIgniteCheckoutButtonClick,n=e.toggle,a=e.isRedirectingToPayment,l=e.alert,u=e.selectedProduct,h=e.setSelectedProduct,g=e.selectedAudience,x=e.setSelectedAudience,f=e.selectedLanguage,C=e.setSelectedLanguage,k=e.selectedBlog,P=e.setSelectedBlog,S=(0,v.bp)(),T=S._c,A=S.logEvent,B=S.isAdmin,Z=(0,b.b8)().post,E=eZ(),M=E.skipIntroStep,L=E.basePage,D=(0,K.YD)(),z=D.ref,F=D.inView,V=(0,o.useState)(!1),_=r()(V,2),H=_[0],W=_[1],U=(0,y.n)().data,q=w(!0,Z.blog.uuid),G=q.isPending,eo=q.data,ei=(0,Y.Pc)().data,en=!(null!=ei&&null!==(t=ei.user)&&void 0!==t&&t.hasBlazedBefore)&&!M,ea=(0,o.useState)(en?"intro":"products"),el=r()(ea,2),er=el[0],ed=el[1],ec=Z.canBlazeSingleUser,eu=void 0===ec||ec,ep=null==U?void 0:U.filter(e=>!e.isPrivateChannel),eh=G||!ep,em=()=>{A({eventName:j.J.BlazeLearnMoreTapped,eventDetails:{is_admin:B},pagment"})};(0,o.useEffect)(()=>{W(F)},[F]);var eg=(0,p.jsx)(c.Z,{className:O.Z.textButton,label:T("Label for a button to navigate back to intro section ofre"),onClick:()=>{ed("intro"),em()}}),ev=(0,et.Z)(U||[]),eb=(0,p.jsx)("a",{href:(0,m.VH)({blogName:(null==ev?void 0:ev.name)||""},"about"),target:"_blank",onClick:em});return(0,o.useEffect)(()=>("products"==er&&A({eventName:j.J.BlazePaymentShown,eventDetails:{is_admin:B},page:L}),()=>{"products"!=er||a||A({eventName:j.J.BlazePaymentCanceled,eventDetails:{is_admin:B},page:L})}),[]),(0,p.jsx)(N.Z,{title:" ",onClose:n,compact:!0,headerIcon:!0,theme:N.L.Rounded,modalWrapperClass:"blazeNewDesign",onGoBack:"products"==er&&en?()=>ed("intro"):void 0,goBackButton:(0,p.jsx)(Q.UX,{size:{width:12,height:12}}),children:(0,p.jsxs)(ee.I.Provider,{value:null,children:[eh&&(0,p.jsx)("div",{className:O.Z.loadingOverlay,children:(0,p.jsxs)("div",{className:O.Z.loadingContainer,children:[(0,p.jsx)("p",{className:O.Z.loadingText,children:T("Blaze modal - loading indicator","Loading products...")}),(0,p.jsx)(J.Z,{centerOrientation:"horizontal",color:R.paletteGray60})]})}),(0,p.jsxs)("div",{className:$()(O.Z.container,O.Z.newDesign,{[O.Z.loading]:eh}),children:[(0,p.jsxs)("div",{className:O.Z.header,children:[(0,p.jsx)("div",{className:O.Z.fireBackgroundContainer,children:(0,p.jsx)("div",{className:O.Z.fireBackground})}),l&&(0,p.jsx)(d.Z,{theme:"error",wrapperClassName:O.Z.alert,message:l}),(0,p.jsx)("h3",{className:O.Z.title,children:eu?T("Ignite modal title when Blazing your own post","Set your post ablaze."):T("Ignite modal title when Blazing other people post","Set a post that belongs to %1$s ablaze.",[Z.blogName])}),(0,p.jsx)("div",{className:$()(O.Z.subtitleContainer,{[O.Z.otherPeoplePost]:!eu}),children:(0,p.jsx)("p",{className:O.Z.subtitle,children:eu?T("Ignite modal description when Blazing your own post","Sponsor it to put it in front of more people across Tumblr!"):T("Ignite modal description when Blazing other people post","Sponsor this post to reach more people on Tumblr!")})})]}),(0,p.jsx)("div",{className:O.Z.body,children:!eh&&"products"==er&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(eS,{blogs:ep,products:null==eo?void 0:eo.products,audienceOptions:null==eo?void 0:eo.audienceOptions,languageOptions:null==eo?void 0:eo.languageOptions,selectedBlog:k,setSelectedBlog:P,selectedAudience:g,setSelectedAudience:x,selectedLanguage:f,setSelectedLanguage:C,selectedProduct:u,setSelectedProduct:h}),(0,p.jsxs)("div",{className:O.Z.infoText,children:[(0,p.jsx)("span",{children:T("Disclaimer for Blaze ad campaigns","Shown impressions are estimated.")}),(0,p.jsx)("span",{children:(0,p.jsx)(I.ZP,{components:{helpLink:(0,p.jsx)("a",{href:"https://www.tumblr.com/support",target:"_blank",onClick:()=>{A({eventName:j.J.BlazeHelpTapped,eventDetails:{is_admin:B},page:"BlazePayment"})}}),learnMoreLink:en?eg:eb},children:"[learnMoreLink]Learn more[/learnMoreLink] or get [helpLink]help[/helpLink] with Blaze."})})]})]})}),"intro"==er&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(X.Z,{page:"BlazeAbout"}),(0,p.jsx)(es.p,{})]}),(0,p.jsx)("div",{className:$()(O.Z.fixedFooter,{[O.Z.shadow]:!H}),children:(0,p.jsxs)("div",{className:O.Z.igniteButtons,children:[(null==eo||null===(s=eo.products)||void 0===s?void 0:s.length)&&"products"==er&&(0,p.jsx)(c.Z,{onClick:i,label:T("Confirmation that the user wants to proceed with Blaze","Blaze"),wrapperClassName:O.Z.igniteSuccessButton,disabled:a,className:O.Z.igniteSuccessButtonInner,children:a?(0,p.jsx)(J.Z,{centerOrientation:"horizontal",color:R.paletteGray60,small:!0}):T("Confirmation that the user wants to proceed with Blaze","Blaze")}),sx)(c.Z,{onClick:()=>ed("products"),label:T("Confirmation that a user wants to start the Blaze product selection page","Get started"),wrapperClassName:O.Z.igniteSuccessButton,className:O.Z.igniteSuccessButtonInner,children:T("Confirmation that a user wants to start the Blaze product selection page","Get started")})]})}),(0,p.jsx)("div",{ref:z})]})]})})},eT=()=>{var e=(0,v.bp)()._c,t=(0,b.b8)().post,s=t.blog,o=t.isSingleUserBlaze,i=void 0===o||o,n=t.userIsBlazee,a=t.blazerBlog;return(0,p.jsx)(d.Z,{theme:"warning",wrapperClassName:O.Z.igniteAlert,title:e("Blaze is the brand name - post is awaiting moderation","Blaze campaign pending!"),message:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{children:(0,p.jsx)(I.ZP,{comment:"A post is being sponsored for X views (Blaze is the name of the product) introduction message",children:"It may take up to 24 hours for the post to be moderated and queued up for delivery."})}),(()=>{var e=!i&&n&&a;return i?void 0:e?(0,p.jsx)("p",{children:(0,p.jsx)(I.ZP,{comment:"A post is being sponsored for X views (Blaze is the name of the product) notice when sponsored by other user",params:{blogName:`@${a.name}`},components:{link:(0,p.jsx)(P.Z,{className:O.Z.blogLinkMention,blog:a,showBlogCard:!0})},children:"Your post was Blazed by [link][blogName][/link] but you still have control over this campaign."})}):(0,p.jsx)("p",{children:(0,p.jsx)(I.ZP,{comment:"A post is being sponsored for X views (Blaze is the name of the product) notice for non-owned posts",params:{blogName:`@${s.name}`},components:{link:(0,p.jsx)(P.Z,{className:O.Z.blogLinkMention,blog:s,showBlogCard:!0})},children:"We’ve notified [link][blogName][/link] that you’ve Blazed their post. They might cancel or extinguish the campaign when it is active."})})})(),(0,p.jsx)("p",{children:(0,p.jsx)(I.ZP,{comment:"A post is being sponsored for X views (Blaze is the name of the product) email notification notice",children:"We’ll send you an email when your campaign is live!"})})]}),icon:(0,p.jsx)(S.Z,{})})},eA=function(e){var t,s,i,n=(0,v.bp)(),l=n._c,u=n._t,C=n.apiFetch,P=n._getLanguage,S=n.logEvent,I=n.isAdmin,T=(0,b.b8)().post,A=T.id,B=T.slug,Z=T.blogName,E=T.blog.uuid,M=T.canBlazeSingleUser,L=void 0===M||M,R=T.isBlazed,D=T.isBlazePending,F=A.toString(),V=P().localization,_=(0,k.sU)(V),H=e.toggle,W=e.isOpen,U=(0,o.useState)(!1),G=r()(U,2),$=G[0],Q=G[1],J=(0,o.useState)(!1),X=r()(J,2),Y=X[0],K=X[1],ee=(0,o.useState)(),et=r()(ee,2),es=et[0],eo=et[1],ei=(0,o.useState)(),en=r()(ei,2),ea=en[0],el=en[1],er=(0,o.useState)(),ed=r()(er,2),ec=ed[0],eu=ed[1],ep=(0,o.useState)(),eh=r()(ep,2),em=eh[0],eg=eh[1],ev=(0,o.useState)(null),eb=r()(ev,2),ex=eb[0],ef=eb[1],eC=eZ().basePage,ew=w(W&&!R&&!D,E).data,ey=(0y?void 0:ey.filter(e=>!e.isPrivateChannel),ek=em||(null==ej?void 0:ej[0]),eN=es||(null==ew||null===(t=ew.products)||void 0===t?void 0:t[0]),eP=ea||(null==ew||null===(s=ew.audienceOptions)||void 0===s?void 0:s[0]),eS=ec||(null==ew||null===(i=ew.languageOptions)||void 0===i?void 0:i[0]);if(!W)return null;var eA=(e,t,s,o)=>{var i,n;return a()().async(function(a){for(;;)switch(a.prev=a.next){case 0:return n=`${window.location.origin}${L?(0,m.J2)({blogName:null!==(i=null==o?void 0:o.name)&&void 0!==i?i:Z},"campaigns",F):(0,f.SS)({peeprBlogname:Z,peeprPostId:F,peeprPostSlug:B})}`,a.abrupt("return",(0,g.ZP)(C).ignitePost(F,E,e,n,t,s,null==o?void 0:o.uuid).fetch().then(e=>{var t=e.response,s=t.url,o=t.transactionUuid;if(!s)throw Error("Cannot redirect to checkout");return(0,x.NV)(F,{transactionUuid:o}),s}));case 2:case"end":return a.stop()}},null,null,null,.jsx)(q,{onClose:()=>{ef(null),Q(!1),H()}});if(R||D){var eB=(0,p.jsxs)("div",{className:O.Z.helpText,children:[(0,p.jsx)("a",{href:"https://www.tumblr.com/support",target:"_blank",onClick:()=>{S({eventName:j.J.BlazeModalHelpClicked})},children:u("Help")}),"  •  ",(0,p.jsx)("a",{href:`https://help.tumblr.com/hc/${_}/articles/5298854249367`,target:"_blank",onClick:()=>{S({eventName:j.J.BlazeModalFaqClicked})},children:u("FAQs")})]});return(0,p.jsx)(N.Z,{title:l("Blaze is the brand name here - sponsor a post","Tumblr Blaze"),onClose:H,compact:!0,children:(0,p.jsxs)(p.Fragment,{children:[ex&&(0,p.jsx)(d.Z,{theme:"error",wrapperClassName:O.Z.alert,message:ex}),D&&(0,p.jsx)(eT,{}),R&&(0,p.jsx)(z,{}),(0,p.jsxs)("div",{className:O.Z.modalFooter,children:[eB,(0,p.jsxs)("div",{className:O.Z.igniteButtons,children:[(0,p.jsx)(c.Z,{onClick:H,label:u("Done"),wrapperClassName:O.Z.igniteSuccessButton,children:u("Done")}),(0,p.jsx)(h,{label:l("CTA label - for stopping a campaign from running.","Extinguish Campaign"),onClick:()=>{Q(!0)},disabled:!1})]})]})]})})}return(0,p.jsx)(eI,{alert:ex,isRedirectingToPayment:Y,onIgniteCheckoutButtonClick:()=>{var e,t,s,o;return a()().async(function(i){for(;;)switch(i.prev=i.next){case 0:if(ef(null),K(!0),!(!eN||!eN.slug)){i.next=6;break}return ef(u("Please select a product before proceeding")),K(!1),i.abrupt("return");case 6:if(!(!L&&!ek)){i.next=10;break}return ef(u("Please select a blog before proceeding")),K(!1),i.abrupt("return");case 10:return i.prev=10,e=(null==eP?void 0:eP.key)||"anyone",t=L?void 0:ek,s=(null==eS?void 0:eS.key)||"any",i.next=16,a()().awrap(eA(eN.slug,e,s,t));case 16:o=i.sent,S({eventName:j.J.BlazePaymentCompleted,eventDetails:{package_identifier:eN.slug,is_admin:I},page:eC}),window.location.assign(o),i.next=26;break;case 21:i.prev=21,i.t0=i.catch(10),ef(u("There was a problem redirecting to checkout")),K(!1),(0,x.AU)(F);case 26:case"end":return i.stop()}},null,null,[[10,21]],Promise)},selectedBlog:ek,setSelectedBlog:eg,selectedAudience:eP,setSelectedAudience:el,selectedLanguage:eS,setSelectedLanguage:eu,selectedProduct:eN,setSelectedProduct:eo,toggle:H})};var eB=(0,o.createContext)({removePostOnExtinguish:!1,skipIntroStep:!1}),eZ=()=>(0,o.useContext)(eB);let eE=function(e){var t=e.toggleProductPopover,s=e.productPopoverIsOpen;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(eA,{isOpen:s,toggle:t}),s&&(0,p.jsx)(i.Z,{})]})}},86785:(e,t,s)=>{"use strict";s.d(t,{p:()=>k});var o=s(5754),i=s.n(o),n=s(44009),a=s(36343),l=(0,a.q)("blaze-checkmark");l.defaultProps={size:{width:57,height:56}};var r=(0,a.q)("blaze-community");r.defaultProps={size:{width:57,height:56}};var d=(0,a.q)("blaze-fire");d.defaultProps={size:{width:57,height:56}};var c=s(54382),u=s(43523),p=s(78667),h=s(24946),m=s(33970),g=s.n(m),v=s(68144),b=s(95004),x=s(63583),f=s(44453);let C={buttonEllipseIdentifier:"W5NBP",selected:"Rgrzy",buttonTitle:"SN3pO",selectorButtonGroupContainer:"Xy88p",selectorButtonContainer:"xwAlz",selectorButton:"RSejs",buttonDescription:"QDKSS"};var w=s(2629);function y(e){var t=(0,b.useState)(0),s=g()(t,2),o=s[0],n=s[1];return(0,w.jsx)("div",{className:C.selectorButtonGroupContainer,children:e.selectorButtonContentList.map((e,t)=>(0,w.jsxs)("div",{className:C.selectorButtonContainer,children:[(0,w.jsxs)(f.Z,{label:"Expand section for "+e.title,onClick:()=>{t==o?n(-1):n(t)},className:C.selectorButton,isSelected:o===t,iconSelected:(0,w.jsx)(v.Cq,{size:{width:12,height:12},colors:{primary:x.transparentBlack60}}),iconDeselected:(0,w.jsx)(v.nT,{size:{width:12,height:12},colors:{primary:x.transparentBlack60}}),children:[(0,w.jsx)("div",{className:i()(C.buttonEllipseIdentifier,{[C.selected]:o===t}),children:t+1}),(0,w.jsx)("div",{className:C.buttonTitle,children:e.title})]},e.title),o===t&&(0,w.jsx)("div",{className:C.buttonDescription,children:e.description})]},e.title))})}let j={iconsHeader:"enbwI",hasBlazeButton:"bsMAH",iconContainer:"pV1Zd",blazeIconSubtitle:"VHYIk",introSubheader:"C9hJo",introStepDescription:"h2o6n",introFooter:"x5SuW",introStepsContainer:"Bd_XU",introBlazeButton:"ri5eP"};function k(e){var t=(0,p.bp)(),s=t._c,o=t._getLanguage,a=t.logEvent,m=t.isAdmin,g=e.showBlazeButton,v=void 0!==g&&g,b=e.buttonLink,x=o().localization,f=(0,h.sU)(x),C=[{title:s("Blaze intro first step title","Choose a post and the audience you want to promote it to with Blaze"),description:(0,w.jsxs)("ul",{className:j.introStepDescription,children:[(0,w.jsx)("li",{children:s("Blaze guide first step description","Click on the Blaze icon at the bottom of an original post you'd like to promote (you can't Blaze a reblog).")}),(0,w.jsx)("li",{children:s("Blaze guide first step description","Select your desired number of impressions and audience (by country and/or language).")}),(0,w.jsx)("li",{children:s("Blaze guide first step description",'Tap "Blaze" at the bottom, and you\'ll be directed to the checkout. Add your payment details and tap "Pay now."')})]})},{title:s("Blaze guide second step title","Our moderators will review your campaign"),description:(0,w.jsxs)("ul",{className:j.introStepDescription,children:[(0,w.jsx)("li",{children:(0,w.jsx)(c.ZP,{components:{guidelinesLink:(0,w.jsx)("a",{href:"https://www.tumblr.com/policy/community",target:"_blank"})},comment:"Blaze guide second step description",children:"We moderate all content promoted via Blaze, checking it against our [guidelinesLink]Community Guidelines[/guidelinesLink] to ensure the best experience for everyone."})}),(0,w.jsx)("li",{children:s("Blaze guide second step description","Moderation time depends on the amount of content pending review. Typically, you'll wait no longer than one business day, but that's not guaranteed. If it's taking too long, you always have the option to extinguish your post.")})]})},{title:s("Blaze guide third step title","Your post goes live  (more than ever)"),description:(0,w.jsxs)("ul",{className:j.introStepDescription,children:[(0,w.jsx)("li",{children:s("Blaze guide third step description","Once approved, your Blazed post will appear as a sponsored post on your chosen audience's feeds (the dashboard, search results, and community hubs) within a few minutes.")}),(0,w.jsx)("li",{children:s("Blaze guide third step description","Users are shown a Blazed post once at most.")}),(0,w.jsx)("li",{children:s("Blaze guide third step description","If you change your mind, you can extinguish your Blazed post directly from the Blaze dashboard.")})]})}];return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:i()(j.iconsHeader,{[j.hasBlazeButton]:v}),children:[(0,w.jsxs)("div",{className:j.iconContainer,children:[(0,w.jsx)("div",{className:j.blazeIcon,children:(0,w.jsx)("span",{role:"img","aria-label":"Blaze Checkmark Icon",children:(0,w.jsx)(l,{})})}),(0,w.jsx)("div",{className:j.blazeIconSubtitle,children:s("How to Blaze description","Select post to Blaze")})]}),(0,w.jsxs)("div",{className:j.iconContainer,children:[(0,w.jsx)("div",{className:j.blazeIcon,children:(0,w.jsx)("span",{role:"img","aria-label":"Blaze Community Icon",children:(0,w.jsx)(r,{})})}),(0,w.jsx)("div",{className:j.blazeIconSubtitle,children:s("How to Blaze description","Choose Audience")})]}),(0,w.jsxs)("div",{className:j.iconContainer,children:[(0,w.jsx)("div",{className:j.blazeIcon,children:(0,w.jsx)("span",{role:"img","aria-label":"Blaze Fire Icon",children:(0,w.jsx)(d,{})})}),(0,w.jsx)("div",{className:j.blazeIconSubtitle,children:s("How to Blaze description","Promote it with Blaze")})]})]}),v&&(0,w.jsx)(n.Z,{label:s("Button for starting the blaze process","Blaze"),wrapperClassName:j.introBlazeButton,role:"button",as:"a",href:b,children:s("Button for starting the blaze process","Blaze")}),(0,w.jsx)("div",{className:j.introSubheader,children:s("Blaze intro subheader","Learn how Blaze works")}),(0,w.jsx)("div",{className:j.introStepsContainer,children:(0,w.jsx)(y,{selectorButtonContentList:C})}),(0,w.jsx)("div",{className:j.introFooter,children:(0,w.jsx)(c.ZP,{components:{faqLink:(0,w.jsx)("a",{href:`https://help.tumblr.com/hc/${f}/articles/5298854249367`,target:"_blank",onClick:()=>{a({eventName:u.J.BlazeFAQTapped,eventDetails:{is_admin:m},page:"BlazeAbout"})}})},comment:"Blaze intro page footer",children:"Want to learn more? Visit our [faqLink]FAQ page[/faqLink]"})})]})}},44453:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s(5754),i=s.n(o),n=s(44009),a=s(98384),l=s(63583),r=s(24192),d=s(2629);let c=e=>{var t=e.className,s=e.children,o=e.label,c=e.onClick,u=e.isSelected,p=e.hideCaret,h=e.iconSelected,m=void 0===h?(0,d.jsx)(a.mV,{size:{width:12,height:12},colors:{primary:l.black}}):h,g=e.iconDeselected,v=void 0===g?(0,d.jsx)(a.$S,{size:{width:12,height:12},colors:{primary:l.black}}):g;return(0,d.jsxs)(n.Z,{className:i()(r.Z.selector,t),wrapperClassName:r.Z.selectorButton,label:o,onClick:c,role:"button",children:[(0,d.jsx)("span",{className:r.Z.selectorWrapper,children:s}),!p&&(0,d.jsx)("span",{className:r.Z.selectorCaret,children:u?m:v})]})}},79406:(e,t,s)=>{"use strict";s.d(t,{Y:()=>n,p:()=>i});vareContext)(void 0),n=()=>(0,o.useContext)(i)},61248:(e,t,s)=>{"use strict";s.d(t,{Z:()=>Y});var o=s(50209),i=s.n(o),n=s(54138),a=s.n(n),l=s(5754),r=s.n(l),d=s(95004),c=s(44009),u=s(68280),p=s(94576),h=s(2629),m=e=>{var t=e.children,s=e.index,o=void 0===s?0:s,i=(0,d.useRef)(null);return"production"===u.Z.Development&&d.Children.forEach(t,e=>{if("string"==typeof e.type||"Slide"!==e.type.name)throw Error("FullScreenSwipeableView works correctly only with FullScreenSwipeableView.Slide as direct children")}),(0,d.useEffect)(()=>{var e,t=(0,p._5)();t&&null!==(e=i.current)&&void 0!==e&&e.scrollTo&&i.current.scrollTo({left:o*t.innerWidth})},[o]),(0,h.jsx)("div",{ref:i,className:"PuLtZ",children:t})};m.Slide=e=>{var t=e.children;return(0,h.jsx)("div",{className:"eFULQ",children:t})};var g=s(50213),v=s(93853),b=s(35665),x=s(40033),f=s(33970),C=s.n(f),w=s(9041),y=s(79406),j=s(25190),k=s(43166),N=s(93415),P=s(17276),S=s.n(P),I=s(31710),T=s(71017),A=s(74754),B=s(10381),Z=s(22979),E=s(85795),M=s(74446),L=s(59215),R=s(55015),D=s(32156);let O={flexLayout:"GHloH",isHidden:"Pha3k",centered:"LaNhI",mainSection:"yPZfR",showRelatedPostSection:"WYaZw",relatedPostsSection:"j8GND"};class z extends d.Component{constructor(){super(...arguments),i()(this,"state",{posts:[]}),i()(this,"apiHelper",(0,E.ZP)(this.props.appContext.apiFetch)),i()(this,"onLike",(e,t)=>{this.props.timelineContext.onLike(e,t),this.setState({posts:this.state.posts.map(s=>(0,Z.xT)(s)&&s.id===e?(0,D.bX)(s,t):s)})}),i()(this,"renderDesktopContent",()=>{var e=this.state.posts;return!(e.length<3)&&(0,h.jsx)(B.U$,{children:t=>{var s=Math.min(4,Math.floor((t.width+20)/320+3e-4));return(0,h.jsx)("div",{className:O.centered,style:{width:320*s-20},children:(0,h.jsxs)(A.ZP.Provider,{value:A.Vn,children:[(0,h.jsx)("h2",{children:this.props.appContext._t("More like this")}),(0,h.jsx)(I.Z,{numberOfColumns:s,columnWidth:300,columnSpacing:20,elementSpacing:10,chile.map(e=>this.renderElement(e)).filter(e=>e)})]})})}})}),i()(this,"renderElement",e=>{var t=`${e.placementId?`${e.placementId}:`:""}${e.id}${e.isExpandedInGrid?":expanded":""}`;return(0,h.jsx)(T.Z,{presentationStyle:R.Z.masonry,timelineObject:a()({},e),isNarrow:!0},t)})}componentDidMount(){var e,t,s=this;return S()().async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=s.apiHelper.getRelatedPosts(s.props.queryId,s.props.blogName,s.props.postsContext).fetch(),o.next=3,S()().awrap(=>"client_side_ad_waterfall"!==e.objectType),s.setState({posts:t},()=>{s.props.onLoad(t.length>=3)});case 5:case"end":return o.stop()}},null,null,null,Promise)}render(){return(0,h.jsx)(M.k.Provider,{value:a()(a()({},this.props.timelineContext),{},{onLike:this.onLike}),children:(0,h.jsx)(j.ZP,{children:e=>!e.isMobile&&this.renderDesktopContent()})})}}var F=(0,L.X9)(z,{appContext:!0,timelineContext:!0}),V=s(18873),_=s(45051);let H=function(e){var t,s,o=e.glassProps,i=e.children,n=(0,k.I_)(),l=n?n.post:void 0,c=(0,d.useRef)(null),u=(0,d.useState)(!1),p=C()(u,2),m=p[0],v=p[1],b=(0,y.Y)(),f=null!==(t=null==b?void 0:b.closeLightbox)&&void 0!==t?t:_.Z,P=null===(s=null==b?void 0:b.isTopmost)||void 0===s||s,S=(0,d.useCallback)(e=>{var t,s="string"==typeof(null===(t=e.target)||void 0===t?void 0:t.className)?e.target.className:"";(e.target===c.current||s.split(" ").includes(V.Z.column))&&f()},[f]),I=!P;return(0,h.jsx)(j.ZP,{children:e=>{if(e.isMobile||!(null!=l&&l.id)||l.adInstanceId)return(0,h.jsxs)(g.Z,a()(a()nClick:()=>null==b?void 0:b.closeLightbox()}),i]}));var t=String(l.rebloggedFromId?l.rebloggedFromId:l.id),s=a()(a()({},o),{},{glassIsClickable:!1,opacity:I?0:o.opacity});return(0,h.jsx)(g.Z,a()(a()({},s),{},{children:(0,h.jsxs)("div",{className:r()(O.flexLayout,{[O.isHidden]:I}),onClick:S,ref:c,role:"dialog",children:[(0,h.jsx)(x.Z,{onClick:()=>f()}),(0,h.jsxs)(N.I.Provider,{value:c.current,children:[(0,h.jsx)(w.df,{threshold:.7,children:e=>{var t=e.inView,s=e.ref;return(0,h.jsx)("div",{className:r()(O.mainSection,{[O.showRelatedPostSection]:m&&t}),ref:s,children:i})}}),(0,h.jsx)("div",{className:r()(O.relatedPostsSection,{[O.isHidden]:!m}),children:(0,h.jsx)(F,{queryId:t,blogName:l.blog.name,onLoad:v,postsContext:"lightbox"})})]})]})}))}})};var W=s(43523),U=s(68346),q=s(63583),G=s.n(q),$=s(9156);let Q={mobileImage:"uNsrv",image:"MjNMI",left:"UBbzn",center:"kjHHx",right:"rquNV",caption:"dvdaL"};var J=e=>{var t=e.glassProps,s=e.children;return(0,h.jsxs)(g.Z,a()(a()({},t),{},{children:[(0,h.jsx)(x.Z,{onClick:t.onGlassClick}),s]}))};class X extends d.Component{constructor(){super(...arguments),i()(this,"state",{isOpen:!1,isTopmost:!1,currentIndex:0,images:[]}),i()(s.setState(t=>({images:t.images.concat(e)})),()=>{var t=this.state.images.indexOf(e);this.openLightbe(t=>({images:t.images.filter(t=>t!==e)}))}),i()(this,"closeLightbox",()=>{var e;this.setState({isOpen:!1},this.logStateChange),null===(e=this.context)||void 0===e||e.closeLightbox()}),i()(this,"logStateChange",()=>{this.props.adContext.sendClickADMBeacon(this.props.adm),this.props.appContext.logEvent({eventName:W.J.Photo,eventDetails:a()({placement_id:this.props.placementId},this.props.krakenEventDetails)})}),i()(this,"renderDesktopContent",()=>{var e=this.state,t=e.currentIndex,s=e.images,o=s.length,i=t===s.length-1,n=0!==t&&o>=2?this.renderImage(s[t-1],"left"):null,a=this.renderImage(s[t],"center"),l=!i&&o>=t+1?this.renderImage(s[t+1],"right"):null;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(v.ZP,{hotkey:[{key:v.SV.Left,command:this.decrementImage},{key:v.SV.Right,command:this.incrementImage}]}),n,a,l]})}),i()(this,"renderMobileContent",()=>{var e=this.state,t=e.images,s=e.currentIndex;return(0,h.jsx)(c.Z,{onClick:this.closeLightbox,label:this.props.appContext._c("Clicking on the image will expand it and open a lightbox","Close image"),children:(0,h.jsx)(m,{index:s,children:t.map((e,t)=>(0,h.jsx)(m.Slide,{children:this.renderImage(e,"mobileImage")},t))})})}),i()(this,"renderImage",(e,t,s)=>{var o,i,n=this.props.appContext._c,a=this.state,l=a.currentIndex,d=a.images,u=e.imageResponse,p=e.caption;switch(t){case"left":o=this.decrementImage,i=n("Label for previous lightbox image. Clicking on this image goes to that previous image.","Previous image");break;case"right":o=this.incrementImage,i=n("Label for next lightbox image. Clicking on this image goes to that next image.","Next image");break;case"center":var m=l===d.length-1;1===d.length||m?(o=this.closeLightbox,i=n("Label for last lightbox image. Clicking on this image closes the lightbox.","Close image")):(o=this.incrementImage,i=n("Label for current lightbox image. Clicking on this image goes to the next image.","Click to go to next image"))}var g=new U.Z(u).getLargestImage().width,v=`${g}px`;return o?(0,h.jsxs)(c.Z,{"data-testid":"lightbox-image",wrapperClassName:r()(Q.image,Q[t]),onClick:o,label:i,children:[(0,h.jsx)(b.Z,{loading:"lazy",imageResponse:u,sizes:v}),p&&(0,h.jsx)("div",{className:Q.caption,children:p})]},s):(0,h.jsxs)("div",{className:r()(Q.image,Q[t]),children:[(0,h.jsx)(b.Z,{loading:"lazy",imageResponse:u,sizes:v}),p&&(0,h.jsx)("div",{className:Q.caption,children:p})]},s)}),i()(this,"decrementImage",()=>{0!==this.state.currentIndex&&this.setState(e=>a()(a()({},e),{},{currentIndex:e.currentIndex-1}))}),i()(this,"incrementImage",()=>{this.state.currentIndex!==this.state.images.length-1&&this.setState(e=>a()(a()({},e),{},{currentIndex:e.currentIndex+1}))}),i()(this,"openLightbox",e=>{var t;this.props.appContext.logEvent({eventName:W.J.FeatureExposed,eventDetails:{feature_key:"redpop_lightbox_open"}}),this.setState({isOpen:!0,isTopmost:!0,currentIndex:e}),null===(t=this.context)||void 0===t||t.setIsTopmost(!1)}),i()(this,"getContextValue",(0,$.Z)(e=>({addImageToLightbox:this.addImageToLightbox,removeImageFromLightbox:this.removeImageFromLightbox,closeLightbox:etIsTopmost:e=>this.setState({isTopmost:e})})))}render(){var e,t=this.state.isOpen,s=(null===(e=this.props.appContext.features)||void 0===e?void 0:e.redpopRelatedPostsLightbox)?H:J;return(0,h.jsxs)(y.p.Provider,{value:this.getContextValue(this.state.isTopmost),children:[this.props.children,t&&(0,h.jsx)(j.ZP,{children:e=>{var t=e.isMobile;return(0,h.jsx)(s,{glassProps:{onGlassClick:this.closeLightbox,centerContent:!0,color:G().black,opacity:.85},children:t?this.renderMobileContent():this.renderDesktopContent()})}})]})}}i()(X,"contextType",y.p);let Y=(0,L.X9)(X,{appContext:!0,adContext:!0})},94156:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var o=s(5754),i=s.n(o),n=s(95004),a=s(44009),l=s(78667),r=s(45051),d=s(79406),c=s(2629);let u=e=>{var t=e.children,s=e.imageResponse,o=e.altText,u=e.caption,p=e.className,h=(0,n.useRef)(r.Z),m=(0,n.useRef)({imageResponse:s,altText:o,caption:u}),g=(0,l.bp)()._t,v=(0,d.Y)();(0,n.useEffect)(()=>{if(v){var e=m.current;return h.current=v.addImageToLightbox(e),()=>{v.removeImageFromLightbox(e),h.current=r.Z}}},[v]);var b=g("Image");return(0,c.jsx)(a.Z,{wrapperClassName:i()("k4_Vq",p),onClick:()=>{h.current()},label:o?`${b}: ${o}`:b,children:t})}},31710:(e,t,s)=>{"use strict";s.d(t,{Z:()=>f});var o=s(54138),i=s.n(o),n=s(75464),a=s.n(n),l=s(50209),r=s.n(l),d=s(95004),c=s(46654),u=s(94522),p=s(93853),h=s(78667),m=s(18873),g=s(2629);let v=function(e){var t=e.columns,s=e.columnWidth,o=e.elementSpacing,n=e.columnSpacing,a=e.elementContainerClass,l=e.elementRole,r=e.numberOfColumns,d=e.onElementClick,c=(0,h.bp)().features;o=o||(c.reblogRedesignNew?0:5),n=n||o;var u={width:s?`${s}px`:`${100/r}%`,maxWidth:s?`${s}px`:void 0},v=i()(i()({},u),{},{marginLeft:n}),b={marginTop:o};return(0,g.jsx)("div",{className:m.Z.masonry,children:t.map((e,t)=>(0,g.jsx)("div",{className:m.Z.column,style:t>0?v:u,children:e.map((e,s)=>{var o=e.element,i=e.tabIndex;return(0,g.jsx)("div",{role:l,tabInd>0?b:void 0,onClick:()=>null==d?void 0:d(i),onKeyUp:e=>{e.key===p.SV.Enter&&(null==d||d(i))},children:o},`${t}-${s}`)})},`column-${t}`))})};var b=e=>{for(var t=e.fromChildren,s=e.numberOfColumns,o=e.offset,i=void 0===o?0:o,n=e.pinnedToUpperRightIndexes,a=[],l=0;l<s;l+=1)a.push([]);var r=[...t];return(void 0===n?[]:n).map((e,t)=>{var o=r[e];r.splice(e,1),r.splice((t+1)*s-1,0,o)}),r.forEach((e,t)=>{a[t%s].push({element:e,tabIndex:t+i})}),a};class x extends d.Component{constructor(){super(...arguments),r()(this,"state",{objectsToLayOut:[],columns:b({fromChildren:d.Children.toArray(this.props.children),numberOfColumns:this.props.numberOfColumns,pinnedToUpperRightIndexes:this.props.pinnedToUpperRightIndexes})}),r()(this,"columnSpacerRefs",[]),r()(this,"addNextObjectToLayOutToColumn",(e,t)=>{var s=this.state.objectsToLayOut,o=d.Children.count(this.props.children);if(!s.length){this.state.columns!==e&&this.setState({columns:e});return}if(!(t<0)){var i=a()(s),n=i[0],l=i.slice(1),r=[...e];r[t].push({element:n,tabIndex:o-s.length}),this.setState({columns:r,objectsToLayOut:l})}}),r()(this,"naivelyLayOutObjects",(e,t,s,o)=>{for(var i=[...t],n=this.props.numberOfColumns,a=b({numberOfColumns:n,fromChildren:e,offset:o}),l=Math.max(s,0),r=0;r<n;r+=1){var d=(r+l)%n;i[d]=[...i[d],...a[r]]}return i}),r()(this,"columnsWithoutRemovedChildren",(e,t)=>e.map(e=>e.filter(e=>{var s=e.element;return(0,d.isValidElement)(s)&&s.key&&0>t.indexOf(s.key)}))),r()(this,"updateColumnsWithNewProps",(e,t)=>{if(!t.length)return e;var s=t.map(e=>e.key);return e.map(e=>e.map(e=>{var o=e.element,i=e.taOf(o.key)>=0){var n=t.find(e=>e.key===o.key);if(n)return{tabIndex:i,element:n}}return{element:o,tabIndex:i}}))})}componentDidUpdate(e){var t=this.props,s=t.numberOfColumns,o=t.children,i=t.pinnedToUpperRightIndexes,n=!(0,u.X)(i,e.pinnedToUpperRightIndexes);if(s!==e.numberOfColumns||n){this.setState({columns:b({numberOfColumns:s,pinnedToUpperRightIndexes:i,fromChildren:d.Children.toArray(o)}),objectsToLayOut:[]});return}var a=d.Children.toArray(this.props.children),l=d.Children.toArray(e.children);this.makeLayoutPass(a,l)}render(){var e=this.state.columns.reduce((e,t,s)x)("div",{ref:e=>this.columnSpacerRefs[s]=e},`column ${s} bottom spacer`),tabIndex:-1}]],[]),t=i()({},this.props);return delete t.children,(0,g.jsx)(c.O6.Provider,{value:this.getMasonryContextValue(),children:(0,g.jsx)(v,i()({columns:e},t))})}getMasonryContextValue(){var e=this.props,t=e.numberOfColumns,s=e.columnSpacing,o=e.columnWidth,i=e.elementContainerClass,n=e.elementSpacing;return(0,c.QY)(t,s,o,n,i)}makeLayoutPasl==e?void 0:e.key)===(null==t?void 0:t.key))),o=s(t,e),i=s(e,t),n=e.reduce((e,s,o)=>{var i=t[o];return i&&s&&(0,u.X)(s.props,i.props)||e.push(s),e},[]),a=this.updateColumnsWithNewProps(this.state.columns,n),l=o.map(e=>e.key),r=-1,c=-1,p=0;p<this.props.numberOfColumns;p+=1){var h=this.columnSpacerRefs[p];if(h){var m=h.getBoundingClientRect().top;(m<c||-1===c)&&(c=m,r=p)}}var g=r;if(!o.length&&!i.length){this.addNextObjectToLayOutToColumn(a,g);return}var v=[...this.state.objectsToLayOut.filter(e=>(0,d.isValidElement)(e)&&e.key&&0>l.indexOf(e.key)),...i],b=v.slice(0,Math.ceil(v.length/2));a=this.columnsWithoutRemovedChildren(a,l);var x=this.naivelyLayOutObjects(b,a,g,t.length),f=v.slice(Math.ceil(v.length/2));this.setState({columns:x,objectsToLayOut:f})}}let f=x},73850:(e,t,s)=>{"use strict";s.d(t,{Z:()=>C});var o=s(33970),i=s.n(o),n=s(95004),a=s(28431),l=s(43523),r=s(43684),d=s(22979),c=s(78667),u=s(43166),p=s(20775),h=s(5754)e.AlreadyPurchased=4]="AlreadyPurchased",e}(x||{}),f=function(e){var t=(0,c.bp)(),s=t._t,o=t._c,h=(0,g.wL)().logEvent,f=e.showAdFree,C=e.showHideAd,w=e.afterHideAd,y=e.showReportAd,j=e.onAdReported,k=(0,n.useState)(!1),N=i()(k,2),P=N[0],S=N[1],I=(0,n.useState)(!1),T=i()(I,2),A=T[0],B=T[1],Z=(0,u.I_)(),E=[],M={[x.NotInterested]:s("I'm not interested in this."),[x.Offensive]:s("It's offensive or inappropriate."),[x.TooOften]:s("I see it too often."),[x.AlreadyPurchased]:s("I already purchased something from this ad.")},L={1:o("An option for reporting ads where the ad contains offensive or inappropriate material","It's offensive or inappropriate."),2:o("An option for reporting ads where the ad is not rendering correctly","This ad seems broken."),3:o("An option for reporting ads where the ad contains malicious material","This is a malicious ad."),4:o("An option for reporting ads where the ad has been shown to the user multiple times","See this ad too often."),5:o("An option for reporting ads where the ad contains flashing images","This ad contains flashing images.")},R=()=>{if(C&&(0,d.uz)(null==Z?void 0:Z.post)){var e,t=null==Z||null===(e=Z.post)||void 0===e?void 0:e.adProviderId;if(t===d.Rd.Smart||t===d.db.IponWeb)return!0}return!1},D=e=>{if((0,d.uz)(null==Z?void 0:Z.post)){var t=null==Z?void 0:Z.post;h({eventName:l.J.HideAd,eventDetails:{complaint_reason:e,is_ad:1,creative_id:t.creativeId,blog_name:t.blogName,campaign_id:t.campaignId,serve_id:t.serveId,post_id:t.id,placement_id:t.placementId}},{sendPayloadImmediately:!0})}};if(P){E.push((0,b.jsx)(a.Z,{isDisabled:!0,children:s("Why are you hiding this ad?")},"hide-ad-reason-title"));for(var O=0,z=Object.entries(M);O<z.length;O++)!function(){var e=i()(z[O],2),t=e[0],s=e[1];E.push((0,b.jsx)(a.Z,{onClick:()=>{D(parseInt(t,10)),null==w||w()},children:s},`hide-ad-reason-${t}`))}();return(0,b.jsx)(p.Z,{isOpen:P,blogName:"",width:400,renderItems:()=>E,popoverBoundary:r.gc.ScrollParent,showOverflowY:!0,onPopoverClose:()=>S(!1),meatballsClassName:e.meatballsClassName},"hide-ad-reason-meatballs-menu")}if(A){E.push((0,b.jsx)(a.Z,{isDisabled:!0,children:o("A header menu item for asking why a user is reporting an ad","Why are you reporting this ad?")},"report-ad-reason-title"));for(var F=0,V=Object.entries(L);F<V.length;F++)!function(){var e=i()(V[F],2),t=e[0],s=e[1];E.push((0,b.jsx)(a.Z,{onClick:()=>{null==j||j(parseInt(t,10)),R()&&D(parseInt(t,10))},children:s},`report-ad-reason-${t}`))}();return(0,b.jsx)(p.Z,{isOpen:A,blogName:"",width:400,renderItems:()=>E,popoverBoundary:r.gc.ScrollParent,showOverflowY:!0,onPopoverClose:()=>B(!1),meatballsClassName:e.meatballsClassName},"report-ad-reason-meatballs-menu")}if(f){var _=(0,d.uz)(null==Z?void 0:Z.post)?"tsp":"stream";E.push((0,b.jsx)(a.Z,{krakenEventName:l.J.AdFreeLinkClick,linkTo:`/settings/ad-free-browsing?source=${_}`,alwaysExternalLink:!0,className:v.Z.meatballItem,children:s("Go Ad-Free")},"ad-free"))}return R()&&E.push((0,b.jsx)(a.Z,{onClick:()=>S(!0),className:v.Z.meatballItem,children:s("Hide Ad")},"hide-ad")),y&&j&&E.push((0,b.jsx)(a.Z,{onClick:()=>B(!0),className:m()(v.Z.meatballItem,v.Z.red),children:o("A menu item for reporting an ad","Report Ad")},"report-ad")),(0,b.jsx)(p.Z,{blogName:"",width:200,renderItems:()=>E,popoverBoundary:r.gc.ScrollParent,showOverflowY:!0,meatballsClassName:e.meatballsClassName},"ad-meatballs-menu")};f.defaultProps={showAdFree:!0,showHideAd:!0,showReportAd:!1};let C=f},26187:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var o=s(5754),i=s.n(o),n=s(18488),a=s(34438),l=s(43523),r=s(78667),d=s(63583),c=s.n(d),u=s(2629);let p=e=>{var t=e.className,s=e.blog,o=e.plan,d=e.useBlogColors,p=e.context,h=e.useExternalLink,m=void 0!==h&&h,g=(0,r.bp)(),v=g.logEvent,b=g.wwwBaseUrl,x=null==o?void 0:o.checkoutLabels.support,f=(0,a.SS)({peeprBlogname:s.name},{peeprMembershipsParams:{isSupport:!0}}),C=d?c().blogBackgroundColor:c().paletteAccent,w=d?c().blogContrastingLinkColor:c().paletteAccentTransparent15;return(0,u.jsx)("div",{className:i()("veGhd",t),children:(0,u.jsx)(n.Z,{className:"N4DvW",label:x,theme:"default",size:"entireWidth",textColor:C,backgroundColor:w,disabledBackgroundColor:w,disabledTheme:"default",onClick:()=>{v({eventName:l.J.PostpSupportTap,eventDetails:{source:p}})},href:m?`${b}${f}`:f,feature:!m,target:m?"_blank":"",children:x})})}},79466:(e,t,s)=>{"use st[s.e(7456),s.e(9853)]).then(s.bind(s,4311)),"AsyncPostActivityNeue")},34330:(e,t,s)=>{"use strict";s.d(t,{Z:()=>y});var o=s(54138),i=s.n(o),n=s(54589),a=s.n(n),l=s(5754),r=s.n(l),d=s(44009),c=s(50213),u=s(68144),p=s(68384),h=s(53714),m=s(25190),g=s(43684),v=s(63583),b=s.n(v);let x={mobileWrapper:"JloGo",title:"oE9j4",list:"Ohe4v",listItem:"jOW7m",isMobile:"IQS1M",listItemInner:"ram4w",header:"lAM6N",chevron:"eHy7n",isOpen:"AYiEs"};var f=s(2629),C=["content","isActive","label","listItemClassName","listItemInnerClassName","onSelect","value","as","href"],w=e=>{var t=e.content,s=e.isActive,o=e.label,n=e.listItemClassName,l=e.listItemInnerClassName,c=e.onSelect,u=e.value,h=e.as,g=e.href,v=a()(e,C),w=(0,m.v$)().isMobile,y=w?24:16;return(0,f.jsxs)(d.Z,i()(i()(i()({wrapperClassName:r()(x.listItem,n,{[x.isMobile]:w}),className:r()(x.listItemInner,l),label:o,role:"option",onClick:e=>c(u,e),as:h},"a"===h?{href:g}:{}),v),{},{children:[t||o,void 0!==s&&s&&(0,f.jsx)(p.Z,{size:{width:y,height:y},colors:{primary:b().paletteGray65}})]}))};let y=e=>{var t=e.value,s=e.title,o=e.titleEl,i=e.options,n=e.isOpen,a=void 0!==n&&n,l=e.noChevron,d=e.noAnchor,p=void 0!==d&&d,v=e.onChangeIsOpen,C=e.onChange,y=e.onClickGlass,j=e.width,k=e.chromelessPopover,N=e.popoverPosition,P=void 0===N?g.I2.BottomStart:N,S=e.popoverRef,I=e.popoverWrapperClassName,T=e.listItemClassName,A=e.listItemIn(0,m.v$)().isMobile,Z=i.find(e=>e.value===t),E=(e,t)=>{C(e,t),null==v||v(!1)},M=(0,f.jsx)(f.Fragment,{children:i.map(e=>{var s=e.label,o=e.content,i=e.value,n=e.as,a=e.href;return(0,f.jsx)(w,{as:n,href:a,value:i,label:s,content:o||s,isActive:t===i,onSelect:E,listItemClassName:T,listItemInnerClassName:A},s)})}),L=(0,f.jsxs)("button",{onClick:()=>{null==v||v(!a)},className:x.title,children:[(0,f.jsx)("span",{children:(null==Z?void 0:Z.label)||s}),!(void 0!==l&&l)&&(0,f.jsx)(u.sn,{size:{width:14,height:14},colors:{primary:b().paletteGray65},className:x.chevron})]}),R=o?(0,f.jsx)("button",{children:o}):L,D=(0,f.jsxs)("div",{role:"listbox","data-testid":"mobile-selector",className:r()({[x.isOpen]:a}),chif.jsx)(c.Z,{onGlassClick:()=>{null==y||y()},children:(0,f.jsxs)("div",{className:x.mobileWrapper,children:[(0,f.jsx)("div",{className:x.header,children:o||s}),(0,f.jsx)("div",{className:x.list,children:M})]})})]}),O=(0,f.jsx)("div",{role:"listbox","data-testid":"desktop-selector",className:r()({[x.isOpen]:a(h.ZP,{isOpen:a,toggle:()=>{null==v||v(!a)},width:j,height:"auto",maxHeight:300,component:M,boundary:g.gc.ScrollParent,position:P,isChromeless:void 0!==k&&k,popoverWrapperClassName:I,useFlex:!0,disableScroll:!0,isFlipEnabled:!1,popoverRef:S,children:p?(0,f.jsx)(f.Fragment,{}):R})});return(0,f.jsx)(f.Fragment,{children:B?D:O})}},13277:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>b,IY:()=>g,is:()=>v});var o=s(78667),i=s(43166),n=s(33970),a=s.n(n),l=s(5754),r=s.n(l),d=s(95004),c=s(2629);let u=e=>{var t=e.children,s=function(e){var t=(0,d.useState)(!1),s=a()(t,2),o=s[0],i=s[1];return(0,d.useLaye]),(0,d.useEffect)(()=>{o&&(null==e||e())},[e,o]),o}(e.onButtonStyleChange);return(0,c.jsx)("div",{className:r()({vE6sH:s}),children:t})};var p=s(54382);let h={blackText:"lJK40"},m=e=>{var t=e.noteCount,s=e.formattedNoteCount;return e.showNotesString?(0,c.jsxs)(p.M2,{exemptNumberKeyFromParamCheck:!0,number:t,params:{fNumber:s},components:{noteCountWrapper:(0,c.jsx)("span",{className:h.blackText})},children:[(0,c.jsx)(p.CJ,{children:"[noteCountWrapper][fNumber][/noteCountWrapper] note"}),(0,c.jsx)(p.CN,{children:"[noteCountWrapper][fNumber][/noteCountWrapper] notes"})]}):(0,c.jsxs)(p.M2,{exemptNumberKeyFromParamCheck:!0,number:t,params:{fNumber:s},components:{noteCountWrapper:(0,c.jsx)("span",{className:h.blackText})},children:[(0,c.jsx)(p.CJ,{children:"[noteCountWrapper][fNumber][/noteCountWrapper]"}),(0,c.jsx)(p.CN,{children:"[noteCountith-notes"===e||"condensed-with-notes"===e}function v(e,t){var s=(0,o.bp)()._getLocaleNumberString,i=s(e),n=s(e,"compact");return{expandedNoteCount:i,currentNoteCount:"expanded-with-notes"===t||"expanded-without-notes"===t?i:n}}let b=e=>{var t=e.formattingMode,s=e.setFormattingModeBySize,n=(0,i.b8)().post.noteCount,a=(0,o.bp)()._n,l=g(t),r=v(n,t),d=r.currentNoteCount,p=r.expandedNoteCount;return(0,c.jsx)(u,{onButtonStyleChange:s,children:(0,c.jsx)("span",{className:"xu5ZG",title:a("%2$s note","%2$s notes",n,[p]),children:(0,c.jsx)(m,{noteCount:n,formattedNoteCount:d,showNotesString:l})})})}},3282:(e,t,s)=>{"use strict";s.d(t,{Z:()=>v,e:()=>g});var o=s(33970),i=s.n(o),n=s(95004),a=s(18599),l=s(78667),r=s(43166),d=s(49803),c=s(55015),u=s(21283),p=s(13277),h=e=>{switch(e){case"expanded-with-notes":return"condensed-with-notes";case"condensed-with-notes":return"expanded-without-notes";case"expanded-without-notes":case"condensed-without-notes":return"condensed-without-notes"}},m=s(2629),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expanded-with-notes",s=(0,l.bp)().getBrowserInfo,o=(0,r.b8)().presentationStyle,p=(0,n.useState)(!1),m=i()(p,2),g=m[0],v=m[1],b=(0,n.useState)(t),x=i()(b,2),f=x[0],C=x[1],w=e.current,y=(0,a.AJ)(s()),j="condensed-without-notes"!==f,k=(0,n.useCallback)(()=>{w&&w.scrollHeight>(y?w.clientHeight+1:w.clientHeight)&&j&&C(h(f))},[j,w,f,y]);return(0,d.L)(()=>{g&&k()},[g,k]),(0,n.useEffect)(()=>{if(g&&w&&"undefined"!=typeof ResizeObserver&&(o===c.Z.radar||o===c.Z.radarWithT{var e=new ResizeObserver());return e.observe(w),()=>{e.unobserve(w)}}},[w,g,.useEffect)(()=>{var e=setTimeout(()=>v(!0));return()=>clearTimeout(e)},[]),{formattingMode:g?f:null,setFormattingModeBySize:k}};let v=e=>{var t=g(e.containerRef,e.defaultFormattingMode),s=t.formattingMode,o=t.setFormattingModeBySize;return s?(0,m.jsx)(p.ZP,{formattingMode:s,setFormattingModeBySize:o}):null}},84997:(e,t,s)=>{"use st293).Z)(()=>s.e(2474).then(s.bind(s,78891)),"AsyncSendAPost")},85942:(e,t,s)=>{"use strict";s.d(t,{Z:()=>x});var o=s(5754),i=s.n(o),n=s(95004),a=s(60499),l=s(36343),r=(0,l.q)("sponsored-border");r.defaultProps={size:{width:25,height:25}};var d=(0,l.q)("sponsored-dollar");d.defaultProps={size:{width:14,height:8}};var c=s(54382),u=s(43523),p=s(78667),h=s(63583),m=s.n(h),g=s(22424);let v={sponsoredContainer:"fLccs",hideOnMobile:"b76BB",sponsoredSpinner:"zU1s3",sponsoredDollar:"LVy2A",sponsoredBorder:"m544j",sponsoredBlaze:"XuRmK",sponsoredText:"UGqjE",adFreeContainer:"lEZQk",adFreeText:"IBqNg"};var b=s(2629);let x=function(e){var t=e.dollarSize,s=e.blazeSize,o=e.link,l=e.color,h=void 0===l?m().paletteGray65:l,x=e.showSpinner,f=e.showSponsoredText,C=e.showAdFreeLink,w=e.hideOnMobile,y=e.isBlazeCampaign,j=e.className,k=(0,p.bp)().wwwBaseUrl,N=(0,g.wL)().logEvent,P=(0,n.useRef)(null),S=null!=o?o:`${k}/docs/en/relevantads`;return y&&(S=null!=o?o:"https://tumblr.zendesk.com/hc/en-us/articles/5298854249367"),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("a",{className:i()(v.sponsoredContainer,{[v.hideOnMobile]:void 0===w||w},j),href:S,target:"_blank",children:[(void 0===x||x)&&(0,b.jsxs)("div",{className:v.sponsoredSpinner,children:[y?(0,b.jsx)("div",{className:v.sponsoredBlaze,children:(0,b.jsx)(a.Z,{filled:!0,filledIconColors:{primary:"#666"},size:void 0===s?{width:13,height:13}:s})}):(0,b.jsx)("div",{className:v.sponsoredDollar,children:(0,b.jsx)(d,{size:void 0===t?{width:8,height:11}:t,colors:{primary:h}})}),(0,b.jsx)("div",{className:v.sponsoredBorder,ref:P,children:(0,b.jsx)(r,{size:{width:22,height:22},colors:{primary:h}})})]}),(void 0===f||f)&&(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:v.sponsoredText,style:{color:h},children:y?(0,b.jsx)(c.ZP,{comment:"Label for blaze campaigns, were Blaze is the product name.",children:"Sponsored with Blaze"}):(0,b.jsx)(c.ZP,{children:"Sponsored"})})})]}),(void 0===C||C)&&(0,b.jsx)("a",{className:v.adFreeContainer,target:"_blank",href:"/settings/ad-free-browsing?sock:()=>{N({eventName:u.J.AdFreeLinkClick})},style:{borderColor:h},children:(0,b.jsx)("div",{className:v.adFreeText,style:{color:h},children:(0,b.jsx)(c.ZP,{children:"Hide all ads"})})})]})}},43157:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s(97013),i=s(54382),n=s(2629);let a=e=>{var t=e.color,s=e.backgroundColor,a=e.size,l=s?{color:t,backgroundColor:s,padding:"2px 12px"}:{color:t};return(0,n.jsxs)("span",{className:"MbFgY",style:l,children:[(0,n.jsx)(o.Z,{size:{width:a,height:a},colors:{primary:t}}),(0,n.jsx)("span",{className:"fK9F5",children:(0,n.jsx)(i.ZP,{comment:"Indicates that the user has supported the creator of a post by subscribing to their blog.",children:"Supporting"})})]})}},26216:(e,t,s)=>{"use strict";s.d(t,{s:()=>A});var o=s(33970),i=s.n(o),n=s(54138),a=s.n(n),l=s(50209),r=s.n(l),d=s(95004),c=s(9041),u=s(83644),p=s(43523),h=s(19403),m=s(22979),g=s(70511),v=s(59215),b=s(7070),x=s(25190),f=s(78667),C=s(13521),w=s(46654),y=s(16273),j=s(964671nction S(){return document.visibilityState}let I=function(e){var t=e.logImpression,s=(0,f.bp)().features.redpopDesktopVerticalNav,o=(0,x.v$)().isMobile,i=((0,w.aA)()||{}).numberOfColumns,n=void 0===i?1:i,a=((0,C.cP)()||{}).numGlassOpen,l=(void 0===a?0:a)>0,r=(0,d.useRef)(),u=(0,d.useRef)(!1),p=(0,d.useRef)(0),h=(0,d.useRef)(S()),m=o?j.mobileHeaderHeight:s?0:j.desktopHeaderHeightPx,g=(0,d.useCallback)(()=>{var e,s,o="visible"===h.current&&"hidden"===S();u.current&&(o||!(null!==(e=r.current)&&void 0!==e&&e.inView)||l)&&t(p.current),null!==(s=r.current)&&void 0!==s&&s.inView||(u.current=!1),p.current=0},[t,l]),v=(0,d.useCallback)(()=>{g(),h.current=S()},[g]);(0,d.useEffect)(()=>(docu.removeEventListener("visibilitychange",v)}),[v]);var b=(0,d.useRef)(g);return b.current=g,(0,d.useEffect)(()=>()=>{r.current&&(r.current.current()},[]),(0,d.useEffect)(()=>{l&&g()},[g,l]),(0,d.useEffect)(()=>{var e=setInterval(()=>{if(null!==(e=r.current)&&void 0!==e&&e.inView&&"hidden"!==S()&&!l){var e,t=r.current.entry.intersectionRect,s=Math.round(t.bottom-t.top),o=window.innerHeight-m;p.current=p.current+Math.round(s/o*500/n)}},500);return()=>clearInterval(e)},[l,m,n]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(c.df,{className:k.Z.dwellTimeObserver,onChange:(e,t)=>{r.current={inView:e,entry:t},e||g()},rootMargin:`-${m}px 0px 0px 0px`,threshold:P,children:(0,N.jsx)("div",{})}),(0,N.jsx)(c.df,{classMiddlePoint,onChange:e=>{e&&(u.current=!0)},children:(0,N.jsx)("div",{})})]})};var T=s(22424);function A(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];class s extends d.Component{constructor(){super(...arguments),r()(this,"areImpressionsEnabled",!t),r()(this,"provideEventDetails",h.L),r()(this,"isIntersecting",!1),r()(this,"isAboutToIntersect",!1),r()(this,"isPostTruncated",!1),r()(this,"setIsPostTruncatedForImpressionEvent",e=>{this.isPostTruncated=e}),r()(this,"setInViewCallback",e=>{this.inViewCallbacllback",e=>{this.approachingViewCallback=e}),r()(this,"isInView",()=>this.ipproachingView",()=>this.isAboutToIntersect),r()(this,"onEnterView",e=>{if(this.isIntersecting=e,this.isIntersecting){var t;null===(t=this.inViewCallback)||void 0===t||t.call(this),this.inViewCallback=null,this.didBeginIntersecting()}else this.didEndIntersecting()}),r()(this,"beforeEnterView",e=>{if(this.isAboutToIntersect=e,this.isAboutToIntersect){var t;null===(t=this.approachingViewCallback)||void 0===t||t.call(this)}}),r()(this,"didBeginIntersecting",()=>{if(this.areImpressionsEnabled){var e=this.props,t=e.timelineObject,s=e.adContext,o=e.postNsfwContext.setNsfwPostInView,i=t.adm;!1===t.isBrandSafe&&o(t.id,!0),i&&s.sendImpressionADMBeacon(i),((null==t?void 0:t.displayType)===u.y.Sponsored||(0,m.WN)(t))&&(this.logImpression({eventName:p.J.Impression}),this.viewableImpressionTimer=window.setTimeout(()=>{this.logImpression({eventName:p.J.ViewableImpression}),this.viewableImpressionTimer=null},1e3))}}),r()(this,"logImpression",e=>{var t=e.eventName,s=this.props.appContext.logImpression,o=this.props.dashboardContext.tabId,i=this.props.timelineObject,n=i.placementId,l=i.displayType,r=i.serveId,d=a()(a()({},this.provideEventDetails(i,!0)),{},{tab:o});(0,T.tO)(s,this.context.eventDetails,{placementId:n,displayType:l,serveId:r,eventName:t,eventDetails:d})}),r()(this,"logImpressionWithDwellTime",(e,t)=>{var s,o=this.props.appContext,i=o.logImpression,n=o.isLoggedIn,l=o.configRef,r=this.props.timelineContext.displayMode,d=this.props.dashboardContext,c=d.tabId,h=d.tabs,v=this.props.timelineObject,b=v.placementId,x=v.displayType,f=v.serveId,C=v.shouldShowTip;if((null==v?void 0:v.displayType)!==u.y.Sponsored){var w=v.objectType===m.TE.Post?(0,g.fl)(m.TE.Post):v.objectType,y="/"===t?n?"/dashboard":null!=l&&l.takeoverLoggedOut?"/login":"/explore":t;(0,T.tO)(i,this.context.eventDetails,{placementId:b,displayType:x,serveId:f,pathname:y,eventName:p.J.Impression,eventDetails:a()(a()({},this.provideEventDetails(v,!0)),{},{post_id:v.id,trackable_type:w,dwell_time:e,display_mode:r,blog_id:null===(s=v.blog)||void 0===s?void 0:s.uuid,has_tip:!!C,is_post_trucated:this.isPostTruncated,tab:c,tab_position:c&&(null==h?void 0:h.indexOf(c))})},{allowRepeatedImpressions:!0})}}),r()(this,"didEndIntersecting",()=>{var e=this.props,t=e.timelineObject,s=e.postNsfwContext.setNsfwPostInView;this.viewableImpressionTimer&&(window.clearTimeout(this.viewableImpressionTimer),this.viewableImpressionTimer=null),!1===t.isBrandSafe&&s(t.id,!1)}),r()(this,"setImpressionsEnabled",e=>{var t=this.areImpressionsEnabled;this.areImpressionsEnabled=e,t!==e&&e&&this.isIntersecting&&this.didBeginIntersecting()}),r()(this,"setProvideEventDetails",e=>this.provideEventDetails=e)}render(){var s=this.props.timelineObject,o=s.placementId,i=s.serveId,n=s.displayType,l=a()(a()({},this.props),{},{setIsPostTruncatedForImpressionEvent:this.setIsPostTruncatedForImpressionEvent},t?{setImpressionsEnabled:this.setImpressionsEnabled,setProvideEventDetails:this.setProvideEventDetails,isInView:this.isInView,isApproachingView:this.isApproachingView,setInViewCallback:this.setInViewCallback,setApproachingViewCallback:this.setApproachingViewCallback}:{}),r=(0,N.jsx)(e,a()({},l));return o||i||n===u.y.Sponsored?(0,N.jsx)(B,{beforeEnterView:this.beforeEnterView,onEnterView:this.onEnterView,logDwelltimeImpression:thiect.placementId&&this.didEndIntersecting()}componentWillUnmount(){var e=this.props,t=e.timelineObject,s=e.postNsfwContext.setNsfwPostInView;this.viewableImpressionTimer&&window.clearTimeout(this.viewableImpressionTimer),!1===t.isBrandSafe&&s(t.id,!1)}}return r()(s,"contextType",T.fx),(0,b.D)(s,`${e.name}WithImpressionLogging`),(0,v.X9)(s,{appContext:!0,adContext:!0,timelineContext:!0,dashboardContext:!0,postNsfwContext:!0})}var B=e=>{var t=e.children,s=e.beforeEnterView,o=e.onEnterView,n=e.logDwelltimeImpression,a=`${Math.max(window.innerHeight+270,700)}px`,l=(0,d.useState)(),r=i()(l,2),u=r[0],p=r[1];return(0,d.useEffect)(()=>{p(window.location.pathname)},[]),(0,N.jsxs)("div",{className:k.Z.impressionLoggingWrapen:[u&&(0,N.jsx)(I,{logImpression:e=>n(e,u)}),(0,N.jsx)(c.df,{onChange:o,className:k.Z.hiddenObserver}),(0,N.jsx)(c.df,{onChange:s,rootMargin:`0px 0px ${a} 0px`,triggerOnce:!0,className:k.Z.hiddenObserver}),t]})}},69682:(e,t,s)=>{"use strict";s.d(t,{ej:()=>K,ZP:()=>$,$E:()=>J});var o=s(54138),i=s.n(o),n=s(17287),a=s(61248),l=s(76776),r=s(68280),d=s(5700),c=s(20567),u=s(50209),p=s.n(u),h=s(95004),m=s(44009),g=s(59215),v=s(2629);class b extends h.Component{constructor(){super(...arguments),p()(this,"state",{expanded:!1}),p()(this,"expand",()=>{this.setState({expanded:!0})})}componentDidUpdate(){var e=this.props.postTruncationContext.unfoldNestedContent,t=this.state.expanded;e&&!t&&this.expand()}render(){if(this.state.expanded)return this.props.components;var e=(0,this.props.appContext._t)("Keep reading");return(0,v.jsx)("div",{className:"ZqZ6N",children:(0,v.jsx)(m.Z,{onClick:this.expand,className:"lYffY",label:e,children:e})})}}let x=(0,g.X9)(b,{appContext:!0,postTruncationContext:!0});var f=s(68384),C=s(78667),w=s(63583),y=s.n(w);let j={pollAnswerContainer:"vtkd5",pollAnswerContentContainer:"N9n3m",pollAnswerButton:"nXX23",pollVoteProgressBar:"uEVCb",pollAnswerVoteCount:"Cetez",selectedPollAnswerIcon:"jkMFs"},k=function(e){var t=e.answered,s=e.choices,o=e.component,i=e.handleChoiceClick,n=e.isSelected,a=e.isPollAnswer,l=e.totalVotes,r=(0,C.bp)()._t;if(a){if(!t)return(0,v.jsx)(m.Z,{label:r("Poll Choice"),onClick:i,wrapperClassName:j.pollAnswerButton,children:(0,v.jsx)("div",{className:j.pollAnswerContainer,children:o})});var d,c=(null===(d=I(o.props.blockIndex,s))||void 0===d?void 0:d.voteCount)||0;return(0,v.jsxs)("div",{className:j.pollAnswerContainer,children:[(0,v.jsx)("progress",{className:j.pollVoteProgressBar,max:l,value:c}),(0,v.jsxs)("div",{className:j.pollAnswerContentContainer,children:[o,n&&(0,v.jsx)("div",{className:j.selectedPollAnswerIcon,children:(0,v.jsx)(f.Z,{size:{width:14,height:14},colors:{primary:y().paletteBlack}})}),(0,v.jsxs)("div",{className:j.pollAnswerVoteCount,children:[Math.round(c/l*100),"%"]})]})]})}return o};var N=s(85795),P=s(94522),S=s(45051);function I(e,t){return t.find(t=>{var s=t.blocks.fi|0===s})||null}var T=e=>!!e.selected.length;class A extends h.Component{constructor(){super(...arguments),p()(this,"state",{answered:T(this.props.layout),selected:this.props.layout.selected,totalVotes:this.props.layout.choices.reduce((e,t)=>e+t.voteCount,0),choices:this.props.layout.choices}),p()(this,"apiHelper",(0,N.ZP)(this.props.appContext.apiFetch))}componentDidUpdate(e){var t={};(0,P.X)(this.props.layout.selected,e.layout.selected)||(t.selected=this.props.layout.selected),(0,P.X)(e.layout.choices,this.props.layout.choices)||(t.choices=this.props.layout.choices),Object.keys(t).length&&this.setState(i()({},t))}render(){var e=this.props,t=e.components,s=e.layout;return(0,v.jsx)(v.Fragment,{children:t.map((e,t)=>{var o,i=I(e.props.blockIndex,this.state.choices);return(0,v.jsx)(k,{answered:this.state.answered,choices:this.state.choices,component:e,handleChoiceClick:i?this.handleChoiceClick(i.choiceId):S.Z,isSelected:!!i&&this.state.selected.indexOf(i.choiceId)>-1,totalVotes:this.state.totalVotes,isPollAnswer:(o=e.props.blockIndex,!!((0,d.U0)(s)&&s.choices.find(e=>{var t=e.blocks.find(e=>e===o);return t||0ChoiceClick(e){return()=>this.votePoll([e])}votePoll(e){return this.apiHelper.votePoll(this.props.layout.pollId,e).fetch().then(e=>{var t=e.response;this.setState({answered:!0,seleVotes:t.choices.reduce((e,t)=>e+t.voteCount,0),choices:t.choices})})}}let B=(0,C.HJ)(A);var Z=s(5754),E=s.n(Z),M=s(33515),L=s(68346),R=s(55855),D=s(96467),O=s(59992);class z extends h.Component{constructor(){super(...arguments),p()(this,"state",{isObjectFitSupported:!0})}componentDidMount(){this.setState(e=>{var t,s,o=null===(t=(s=CSS).supports)||void 0===t?void 0:t.call(s,"object-fit","cover");return e.isObjectFitSupported===o?null:{isObjectFitSupported:o}})}render(){var e=this.props,t=e.layout,s=e.components,o=e.postContext,n=e.adContext,a=n.adPlacementConfiguration,l=n.hydraConfigInstanceId;if(!this.state.isObjectFitSupported)return(0,v.jsx)(v.Fragment,{children:s});var r=(0,O.M3)(t),c=J(K(r)),u=this.rowHasPaywallComponent();return(0,v.jsx)("div",{className:"GzjsW",children:r.display.map(e=>{var t,n,r=e.blocks;if(!r.length)retf(u){var t=s.find(t=>t.props.blockIndex===e);if(t)return t}return s[c.indexOf(e)]});if(!p.length||1===r.length&&(null===(t=p[0])||void 0===t||null===(t=t.props)||void 0===t||null===(t=t.block)||void 0===t?void 0:t.type)===d.kH.None)return null;var m=p.filter(V);if(1===)return p;var g=r.reduce((e,t)=>`${e} ${t}`,"");if((null===(n=e.mode)||void 0===n?void 0:n.type)===d.T8.Carousel)return(0,v.jsx)(M.Z,{items:p,krakenEventDetails:(0,R.U)({adPlacementConfiguration:a,hydraConfigInstanceId:l,timelineObject:this.props.postContext.post})},g);var b=m.map(e=>(0,O.J0)((0,d.I3)(e.props.block))).sort((e,t)=>e-t)[0],x=!1,f=p.map(e=>{if(!V(e))return e;var t,s,n=e.props.block,a=new L.Z((0,d.I3)(n));(null===(t=null==o||null===(s=o.presentationStyle)||void 0===s?void 0:s.showsSmallImagesAtOriginalWidth)||void 0===t||t)&&1===p.length?a.getLargestImage().width<D.smallImagePostx=!0):a.generateDisplayHeights(e=>b*e.width);var l={displayAtOriginalSize:x,block:i()(i()({},n),{},{media:a.getImagesArray(),imageScale:1/p.length})};return(0,h.cloneElement)(e,l)});return(0,v.jsx)("div",{className:E()("CQmeg",{ntvhe:x}),children:f},g)})})}rowHasPaywallCos.some(e=>e.props.block.type===d.kH.Paywall)}}let F=(0,g.X9)(z,{postContext:!0,adContext:!0});function V(e){var t;return(null==e||null===(t=e.props)||void 0===t||null===(t=t.block)||void 0===t?void 0:t.type)===d.kH.Image}var _=(e,t)=>{var s=(0,l.i)(e,t);return(0,v.jsx)(l.Z,{block:e,blockIndex:t},s)};let H=function(e){var t,s,o=e.layout,i=e.components;return((0,d.af)(o)?t=(0,v.jsx)(c.Z,{blog:null===(s=o.attribution)||void 0===s?void 0:s.blog,isAsking:!0,components:i}):(0,d.U0)(o)?t=(0,v.jsx)(B,{components:i,layout:o}):(0,d.Rf)(o)?t=(0,v.jsx)(c.Z,{blog:o.attribution.blog,isAsking:!1,components:i}):(0,d.le)(o)?t=(0,v.jsx)(F,{layout:o,components:i}):(0,d.eQ)(o)?t=(0,v.jsx)(x,{components:i}):((0,d.m9)(o)||(0,d.PV)(o))&&(t=(0,v.jsx)(v.Fragment,{children:i})),t)?t:("production"===r.Z.Development&&console.warn(`Unsupported layout type "${o.type}" in post`),null)};var W=s(31679),U=s(43166);let q=function(e){var t=e.blocks.map(e=>i()({},e)),s=[],o=t.reduce((e,t)=>{if((0,d.dz)(t)&&(0,d.pZ)(t)){var o=e.length-1;if(o>=0){var i=e[o];if((0,d.cd)(i)&&i.elements[0].subtype===t.subtype)return s.push({type:d.kH.None}),i.elements=i.elements.concat(t),e}var n=t.subtype===d.lr.OrderedListItem?d.kH.OrderedList:d.kH.UnorderedList,a=[...s];return s=[],[...e,...a,{type:n,elements:[t]}]}var l=[...s];return s=[],[...e,...l,t]},[]);return o.push(...s),o};var G=s(16273);let $=e=>{var t=e.blocks,s=e.layouts,o=e.postingBlog,l=e.isOriginalPost,r=e.adm,c=e.placementId,u=e.isEdit,p=(0,U.uu)(),h=p.post,m=p.presentationStyle,g=p===U.Nw,b=(0,W.b)(),x=b.hydraConfigInstanceId,f=b.adPlacementConfiguration,C=function(e){for(var t=e.layouts,s=e.numberOfBlocks,o=e.isOriginalPost,n=e.postingBlog,a=[],l=0;l<s;l+=1)a.push(l);var r=[];if(th){var c={type:d.ms.Rows,rows:a.map(e=>[e])};r.push(c)}return t.forEach(e=>{if(r.push(e),(0,d.af)(e)){var t=a.slice(e.blocks.length);if(t.length){var s=i()({type:o?d.ms.None:d.ms.Answer,blocks:t},!o&&{attribution:{blog:n,type:"blog"}});r.push(s)}}else if((0,d.PV)(e)){var l=a.slice(e.truncateAfter+1),c={type:d.ms.BelowTheFold,blocks:l};r.push(c)}})uts:function(e){return e?e.filter(d.Lk):[]}(s),numberOfBlocks:t.length}),w=t.map(e=>(0,d.LX)(e)?i()(i()({},e),{},{blog:o}):e),y=function e(t,s){var o=[];return t.forEach(t=>{var i;if(t){if(null!==(i=t.nestedLayouts)&&void 0!==i&&i.length){var n=J(K(t)),a=[],l=[];t.nestedLayouts.forEach((t,o)=>{var i=J(K(t));if(o>0){var n=l[l.length-1];if(n+1!==i[0]){var r=X(s.slice(n+1,i[0])).map(_);a.push(...r);var d=(0,G.Z)(n+1,i[0]);l.push(...d)}}a.push(...e([t],s)),l.push(...i)});var r=X(s.slice(n[0],l[0])).map(_),d=X(s.slice(l[0]+l.length,n[n.length-1]+1)).map(_);o.push(Y(t,[...r,...a,...d]))}else{var c=J(K(t,s)),u=X(s.slice(c[0],c[c.length-1]+1));o.push(Y(t,u.map(_)))}}}),o}(function(e){if(e.length<=1)return e;var t,s,o,n,a,l,r=[];if(e.forEach(e=>{(0,d.PV)(e)?o=e:(0,d.eQ)(e)?n=e:(0,d.af)(e)?t=e:(0,d.Rf)(e)?s=e:(0,d.le)(e)?a=e:l=e}),o&&n){var c=[],u=[];if(t)c=[t];else if(a&&o.truncateAfter>-1){var p=o.blocks.length-1,h=Q(a,p);c=[h[0]],u=[h[1]]}r.push(i()(i()({},o),{},{nestedLayouts:c})),r.push(i()(i()({},n),u.length&&{nestedLayouts:u}))}else{if(!t||!a)return e;var m=t.blocks.length-1,g=Q(a,m),v=[g[1]];r.push(i()(i()({},t),{},{nestedLayouts:[g[0]]})),r.push(s?i()(i()({},s),{},{type:d.ms.Answer,nestedLayouts:v}):i()(i()({},l),{},{type:d.ms.None,nestedLayouts:v}))}return r}(C),w);return w.filter(d.RD).length?m.imagePostsOpenInPeepr?(0,v.jsx)(n.Z,{blogName:null==o?void 0:o.name,postId:null==h?void 0:h.id,showBlogCard:!1,children:y}):(0,v.jsx)(a.Z,{adm:r,placementId:c,krakenEventDetails:u||g?{}:(0,R.U)({adPlacementConfiguration:f,hydraConfigInstanceId:x,timelineObject:h}),children:y}):(0,v.jsx)(v.Fragment,{children:y})};function Q(e,t){var s=[{type:d.ms.Rows,display:[]},{type:d.ms.Rows,display:[]}];if((0,d.oF)(e)){var o=e.display;o.forEach((n,a)=>{if(t===n.blocks[n.blocks.length-1]){var l=o.slice(0,a+1),r=o.slice(a+1);s=[i()(i()({},e),{},{display:l}),i()(i()({},e),{},{display:r})]}})}if((0,d.Ps)(e)){var n=e.rows;n.forEach((o,a)=>{if(t===o[o.length-1]){var l=n.slice(0,a+1),r=n.slice(a+1);s=[i()(i()({},e),{},{rows:l}),i()(i()({},e),{},{rows:rrn s}function J(e){return e.sort((e,t)=>e-t)}function X(e){return e&&q({block{var s=K(e).reduce((e,t)=>e.concat(`${t} `),`${e.type} `);return(0,v.jsx)(H,{layout:e,components:t},s)}function K(e,t){return(0,d.af)(e)||(0,d.Rf)(e)||(0,d.PV)(e)||(0,d.eQ)(e)||(0,d.m9)(e)?e.blocks:(0,d.Ps)(e)?e.rows.flat():(0,d.oF)(e)?e.display.map(e=>e.blocks(0,d.U0)(e)&&(null==t?void 0:t.map((e,t)=>t))||[]}},24185:(e,t,s)=>{"use strict";s.d(t,{Z:()=>j});var o=s(50209),i=s.n(o),n=s(5754),a=s.n(n),l=s(95004),r=s(235),d=s(25190),c=s(90621),u=s(59215),p=s(44009),h=s(2474),m=s(78667),g=s(2629);let v=e=>{var t=e.onClick,s=e.disabled,o=(0,m.bp)()._t;return(0,g.jsx)(p.Z,{label:o("Move down"),onClick:t,disabled:void 0!==s&&s,children:(0,g.jsx)(h.br,{size:{width:21,height:21}})})};var b=s(57921);let x=e=>{var t=e.onClick,s=e.disabled,o=(0,m.bp)()._t;return(0,g.jsx)(p.Z,{label:o("Move to bottom"),onClick:t,disabled:void 0!==s&&s,children:(0,g.jsx)(b.E,{size:{width:21,height:21}})})},f=e=>{var t=e.onClick,s=e.disabled,o=(0,m.bp)()._t;return(0,g.jsx)(p.Z,{label:o("Move to top"),onClick:t,disabled:void 0!==s&&s,children:(0,g.jsx)(b.I,{size:{width:21,height:21}})})},C=e=>{var t=e.onClick,s=e.disabled,o=(0,m.bp)()._t;return(0,g.jsx)(p.Z,{label:o("Move up"),onClick:t,disabled:void 0!==s&&s,children:(0,g.jsx)(h.Ii,{size:{width:21,height:21}})})},w={queueControls:"squP2",controlIcon:"gc3fY",queueControlsInner:"fDUq4"};class y extends l.Component{constructor(){super(...arguments),i()(this,"allPosts",[]),i()(this,"queuedPosts",[]),i()(this,"moveUp",()=>{var e=this.props.id,t=this.queuedPosts.findIndex(t=>e===t)-1,s=this.allPosts.findIndex(e=>this.queuedPosts[t]===e);return this.queueReorder(this.allPosts[s-1]||0,t)}),i()(this,"moveDown",()=>{var e=this.props.id,t=this.queuedPosts.findlPosts.findIndex(e=>this.queuedPosts[t]===e);return this.queueReorder(tthis,"moveToTop",()=>this.queueReorder(0,0)),i()(this,"moveToBottom",()=>this.queueReorder(this.allPosts[this.allPosts.length-1],this.queuedPosts.length-1)),i()(this,"queueReorder",(e,t)=>{var s=this.props,o=s.id,i=s.blogName,n=s.timelineContext,a=s.appContext.apiFetch;return(0,c.wW)(a,{blogName:i,id:o,insertAfter:e}).fetch().then(()=>null==n?void 0:n.onQueueReorder(o,t))})}render(){return(0,g.jsx)(d.ZP,{children:e=>{var t=e.isMobile;return(0,g.jsx)("div",{className:a()(w.queueControls,this.props.className),children:this.getControls(t)})}})}getControls(e){var t=this.props.id;return(0,g.jsx)(r.Jj.Consumer,{children:s=>{var o=s.allPosts,i=s.queuedPosts;this.allPosts=o,this.queuedPosts=i;var n=this.queuength,a=this.queuedPosts.findIndex(e=>t===e),l=[];return e&&(l.push((0,g.jsx)("div",{className:w.controlIcon,children:(0,g.jsx)(C,{onClick:this.moveUp,disabled:a<=0})},"moveUp")),l.push((0,g.jsx)("div",{className:w.controlIcon,children:(0,g.jsx)(v,{onClick:this.moveDown,disabled:a===n-1})},"moveDown"))),l.push((0,g.jsx)("div",{className:w.controlIcon,children:(0,g.jsx)(f,{onClick:this.moveToTop,disabled:a<=0})},"moveToTop")),e&&l.push((0,g.jsx)("div",{className:w.controlIcon,children:(0,g.jsx)(x,{onClick:this.moveToBottom,disabled:a===n-1})},"moveToBottom")),l.length>0?(0,g.jsx)("div",{className:w.queueControlsInner,children:l}):null}})}}let j=(0,u.X9)(y,{appContext:!0,timelineContext:!0})},14713:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});let o=(e,t)=>e?e.map(e=>({value:e,label:e.name,title:e.title,selected:e.name===(null==t?void 0:t.name)})):[]},60189:(e,t,s)=>{"use strict";s.d(t,{Z:()=>b});var o=s(54138),i=s.n(o),n=s(54589),a=s.n(n),l=s(5754),r=s.n(l),d=s(27755),c=s(22790),u=s(9953),p=s(78667),h=s(63583),m=s.n(h),g=s(2629),v=["color","forceUseAirplane","disabled","wrapperClassName"];let b=e=>{var t=e.color,s=void 0===t?m().paletteGray65:t,o=e.forceUseAirplane,n=e.disabled,l=e.wrapperClassName,h=a()(e,v),b=(0,p.bp)()._t,x=n?m().paletteGray40:s,f=void 0!==o&&o?(0,g.jsx)(d.Z,{size:{width:21,height:21},colors:{primary:x}}):(0,g.jsx)(c.Z,{size:{width:24,height:24},colors:{primary:x}});return(0,g.jsx)(u._,i()(i()({},h),{},{action:"share-button",disabled:n,label:b("Share"),wrapperClassName:r()(l,{yDfZA:!!n}),children:f}))}},61721:(e,t,s)=>{"use strict";s.d(t,{x:()=>i});var o=s(5700),i=e=>{var t=e.presentationStyle,s=t.showsEditButton,i=t.showsReplyButton,n=t.showsShareButton,a=t.showsReblogButton,l=t.showsLikeButton,r=t.showsDeleteButton,d=t.showsQueueButton,c=t.showsPublishButton,u=e.post,p=u.canSendInMessage,h=u.canReply,m=u.canReblog,g=u.canLike,v=u.canDelete,b=u.canEdit,x=u.queuedState,f=u.shouldShowTip,C=u.state,w=u.blog,y=C===o.hA.Queued&&x===o.SH.Queued&&w,j=C===o.hA.Draft,k=C===o.hA.Private,N=m&&!w.isPasswordProtected&&!k&&a,P=m&&!w.isPasswordProtected&&!k&&d;return{isQueue:!!y,isDraft:j,isPrivate:k,canDoReply:!!(h&&i),canDoShare:p&&n,canDoReblog:N,canDoLike:g&&l,canDoEdit:!!(b&&s),canDoQueue:P,canDoDelete:!!(v&&r),canDoPublish:!!(b&&c),shouldShowTip:!!f}}},5659:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>tF,uL:()=>tD});var o=s(50209),i=s.n(o),n=s(54138),a=s.n(n),l=s(5754),r=s.n(l),d=s(50213),c=s(30420),u=s(64741),p=s(53714),h=s(79466),m=s(45222),g=s(85085),v=s(17287),b=s(82145),x=s(43523),f=s(78667),C=s(60857),w=s(81022),y=s(48430),j=s(5860),k=s(40565),N=s(38149),P=s(5700),S=s(63583),I=s.n(S);let T={root:"AImO6",tail:"sOyZs",tailOverlay:"TlhRk",avatar:"tpZ8V",body:"JYxnY",meta:"kEusV",blogInfo:"Qne7x",blogLink:"AXdIl",reblogParent:"KvHCB",reblogIcon:"tkkxL",preview:"WW8zi",text:"S6wzy",tags:"gGpxL",thumbnail:"ObSCE",mediaIcon:"gzn4G",cta:".content.filter(e=>(0,P.dz)(e)||(0,P.bT)(e)).map(e=>{switch(e.type){case P.kH.Text:return e.text;case P.kH.Poll:return e.question}}).join(" "),Z=(e,t)=>{var s=e.content,o=e.blog.isAdult,i=s.find(P.RD);return i?(0,A.jsx)("div",{"aria-label":t("Label for an image","Image"),children:(0,A.jsx)(N.Sw,{imageResponse:i.media,isSquare:!0,pixelated:o})}):(0,P.FI)(s,P.kH.Video)?(0,A.jsx)(E,{type:P.kH.Video,label:t("Label for a video block","Video"),icon:(0,A.jsx)(k.Z,{colors:{primary:S.paletteNavy}})}):(0,P.FI)(s,P.kH.Audio)?(0,A.jsx)(E,{type:P.kH.Audio,label:t("Label for an audio block","Audio"),icon:(0,A.jsx)(w.Z,{colors:{primary:S.paletteNavy}})}):(0,P.FI)(s,P.kH.Link)?(0,A.jsx)(E,{type:P.kH.Link,label:t("Label for a link block","Link"),icon:(0,A.jsx)(y.Z,{colors:{primary:S.paletteNavy}})}):(0,P.FI)(s,P.kH.Poll)?(0,A.jsx)(E,{type:P.kH.Poll,label:t("Label for a poll block","Poll"),icon:(0,A.jsx)(j.Z,{colors:{primary:S.paletteNavy}})}):null},E=e=>{var t=e.type,s=e.label,o=e.icon;return(0,A.jsx)("div",{className:T.mediaIcon,"data-media-type":t,"aria-label":s,children:o})},M=s(22424);let L=e=>{var t=e.note,s=t.blog,o=s.avatar,i=s.name,n=s.theme.avatarShape,a=t.postId,l=t.reblogParentBlogName,r=t.type,d=e.note,c=e.onClickNote,u=e.noteRef,p=(0,f.bp)()._c,h=(0,M.wL)().logEvent,w=B(d),y=Z(d,p),j=d.tags&&d.tags.length>0?d.tags:null;return(0,A.jsxs)("button",{"aria-label":p("A small preview of notes for a post","Not),h({eventName:x.J.NotesPreviewNoteClick})},children:[(0,A.jsx)("div",{className:T.tail}),(0,A.jsx)("div",{className:T.tailOverlay}),(0,A.jsxs)("div",{className:T.body,children:[(0,A.jsx)("div",{className:T.avatar,children:(0,A.jsx)(m.Z,{avatarShape:n,imageResponse:o,name:i,dimension:24,badge:g.Z.ofType(r),showBlogCard:!1})}),(0,A.jsxs)("div",{className:T.meta,children:[(0,A.jsxs)("div",{className:T.blogInfo,children:[(0,A.jsx)(v.Z,{className:T.blogLink,blogName:i,postId:a,krakenEventName:x.J.PostActivityNoteClickBlogName,krakenEventDetails:{type:r},showBlogCard:!1,ellipsisOverflow:!0,children:i}),l&&(0,A.jsx)("div",{className:T.reblogParent,children:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{className:T.reblogIcon,children:(0,A.jsx)(b.Z,{size:{width:14,height:14},isCompact:!0})}),(0,A.jsx)(v.Z,{blogName:l,href:(0,C.Z)(l),showBlogCard:!1,children:l})]})})]}),(w||j||y)&&(0,A.jsxs)("div",{className:T.preview,children:[w&&(0,A.jsx)("div",{className:T.text,children:w}),!w&&j&&(0,A.jsx)("div",{className:T.tags,children:j.map(e=>(0,A.jsx)("span",{children:`#${e}`},e))}),y&&(0,A.jsx)("div",{className:T.thumbnail,children:y})]})]})]}),(0,A.jsx)("div",{className:T.cta,children:p("A link to this note","View this note")})]})};var R=s(3282),D=s(28798),O=s(84997),z=s(44009),F=s(90127),V=s(95004),_=s(6259),H=s(74446);let W={pillDesign:"BzZTO",linkWrapper:"mc7Rk"},U=e=>{var t=e.editablePost,s=t.blog.name,o=t.id,i=(0,H.i)().onRemoveTimelineObject,n=(0,f.bp)()._c,a=(0,_._)().addOnCloseModalRouteHandler,l=(0,V.useRef)(null),r=n("Clicking the button will allow the user to reply.","Answer"),d=(0,V.useCallback)(e=>{var t;e&&(null==i||i({id:o})),null===(t=l.current)||void 0===t||t.call(l)},)(()=>{l.current=a(e=>d(!!e.isModalSuccess))},[]);return(0,A.jsx)(z.Z,{label:r,onClick:c,wrapperClassName:W.linkWrapper,className:W.pillDesign,as:"a",href:(0,F.s3)({blogName:s,postId:o.toString()}),children:r})};var q=s(33970),G=s.n(q),$=s(80437),Q=s(46200),J=s(9953),X=e=>{var t=e.id,s=e.disabled,o=void 0!==s&&s,i=(0,f.bp)()._t,n=(0,V.useState)(!1),a=G()(n,2),l=a[0],r=a[1];return t?(0,A.jsx)(Q.A,{isOpen:l,toggleIsOpen:()=>r(!l),children:(0,A.jsx)(J._,{action:"delete-bel:i("Delete"),disabled:o,onClick:()=>r(!l),children:(0,A.jsx)($.Z,{size:{width:21,height:21},colors:{primary:o?I().paletteGray40:I().paletteGray65}})})}):null},Y=s(26162),K=s(60499);let ee={igniteButton:"cnNot",label:"y56NR"},et=e=>{var t=e.color,s=void 0===t?I().paletteGray65:t,o=e.label,i=e.onClick,n=e.disabled,a=e.filled,l=e.textContent;return(0,A.jsxs)(J._,{action:"ignite-button",className:ee.igniteButton,label:void 0===o?"":o,onClick:i,disabled:void 0!==n&&n,children:[(0,A.jsx)(K.Z,{filled:void 0!==a&&a,emptyIconColors:{primary:s}}),l&&(0,A.jsx)("span",{className:ee.label,children:l})]})};var es=s(17276),eo=s.n(es),ei=s(54916),en=s(41524),ea=s(61093),el=s(78994),er=s(18046),ed=s(43166),ec=s(93613),eu=s(43906),ep=s(66591),eh=s(36343),em=(0,eh.q)("broken-heart-left");em.defaultProps={size:{width:24,height:24}};var eg=(0,eh.q)("broken-heart-right");eg.defaultProps={size:{width:16,height:24}};let ev={postLikeHeartAnimation:"WXF6Z",like:"y_8_Y",unlike:"WQE_S",brokenHeartRight:"zTFrW",brokenHeartLeft:"C281d"};class eb extends V.Component{constructor(){super(...arguments),i()(this,"state",{isAnimating",()=>{this.setState(()=>({isAnimating:!0})),window.setTimeout((e.liked!==this.props.liked&&this.animate()}render(){var e=this.props.liked;return this.state.isAnimating?e?(0,A.jsx)("div",{className:r()(ev.postLikeHeartAnimation,ev.like),children:(0,A.jsx)(ei.Z,{filled:!0,size:{height:51,width:57}})}):(0,A.jsxs)("div",{className:r()(ev.postLikeHeartAnimation,ev.unlike),children:[(0,A.jsx)("div",{className:ev.brokenHeartLeft,children:(0,A.jsx)(em,{size:{height:54,width:54}})}),(0,A.jsx)("div",{className:ev.brokenHeartRight,children:(0,A.jsx)(eg,{size:{height:54,width:36}})})]}):null}}let ex=e=>{var t=e.color,s=void 0===t?I().paletteGray65:t,o=e.postIndex,i=e.buttonStyle,n=void 0===i?"heart":i,l=e.className,d=(0,f.bp)(),c=d._c,u=d.isLoggedIn,p=d.features.exploreTodayTab,h=(0,H.i)().onInjectTimelineObjects,m=(0,ed.uu)(),g=m.post,v=g.canLike,b=g.earnedId,C=g.id,w=g.liked,y=g.placementId,j=g.reblogKey,k=g.blogName,N=m.getIsLongPost,P=(0,ec.V)().toggleToast,S=(0,M.wL)().logEvent,T=(0,ea.Z)().mutateAsync,B=(0,el.TH)().pathname,Z=(0,eu.g)(),E=Z.shouldShowLikeTip,L=Z.postLiked,R=E(void 0===o?0:o),D=u&&!v;return(0,A.jsx)(en.Z,{isOpen:R,content:c("Text that is shown as a tooltip to nudge the user to like a post.","Psst... liking a post you’re into makes your recommendations better 👀"),popoverProps:{useFlex:!0,targetStyles:{height:"100%"}},onFirstShow:()=>{S({page:"TourGuideLikeTooltip",eventName:x.J.Shown})},onDismiss:()=>{S({page:"TourGuideLikeTooltip",eventName:x.J.Dismissed})},children:(0,A.jsxs)(J._,a()(a()({action:"like-button",className:r()("B1Z5w",{ztpfZ:w,YCZ8P:D}),wrapperClassName:r()(l),label:w?c("Like button: Unlike label","Unlike"):c("Like button: Like label","Like"),onClick:()=>eo()().async(function(e){for(;;)switch(e.prev=e.next){case 0:T({id:C,liked:w,reblogKey:j,blogName:k,placementId:y,earnedId:b,isLongPost:null==N?void 0:N(),context:(0,F.qz)(B),tooltipShown:R}).then(e=>{var t,s;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.timeline)&&void 0!==t&&t.elements&&h({elementsToInject:null==e||null===(s=e.response)||void 0===s||null===(s=s.timeline)||void 0===s?void 0:s.elements,insertionOptions:{insertionPointId:C,insertionType:"append"}})}).catch(e=>{e instanceof ep.Z&&P(e.message,"error")}),w||L();case 2:case"end":return e.stop()}},null,null,null,Promise),disabled:D},!u&&{"data-login-wall-type":"like","data-login-wall-title":c('Login wall: Title shown when user clicks on the "Like post" button, after exceeding click counter limit',"You likey-likey?"),"data-login-wall-text":c('Login wall: Text shown when user clicks on the "Like post" button, after exceeding click counter limit',"Great! We are so glad to hear it. If you want to likey-likey this post and lotsy lotsy others just like it, simply sign up to Tumblr."),"data-login-wall-id":C,"data-login-wall-reblog-key":j,"data-login-wall-blog-name":k,"data-login-wall-placement-id":y,"data-login-wall-earned-id":b,"data-login-wall-redirect":(0,F.wT)({exploreMode:p?er.Ru.Today:er.Ru.Trending})}),{},{children:["heart"===n&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(ei.Z,{filled:w,size:{width:23,height:21},emptyIconColors:{primary:D?I().paletteGray40:s}}),(0,A.jsx)(eb,{liked:w})]}),"text"===n&&(0,A.jsx)(A.Fragment,{children:w?c("Like button: Unlike label","Unlike"):c("Like button: Like label","Like")})]}))})};var ef=s(23326),eC=s(78222);let ew=()=>{var e=(0,f.bp)(),t=e._c,s=e._t,o=e.isLoggedIn,i=e.features.embedPost2022,n=(0,eC.Z)(),a=(0,V.useState)(!1),l=G()(a,2),r=l[0],c=l[1],u=(0,ed.b8)().post,p=u.canLike,h=u.liked,m=u.id,g=(0,el.UO)().peeprPostId;if((0,V.useEffect)(()=>{"like"===n&&!=m&&c(!0)},[]),(0,V.useEffect)(()=>{h&&r&&c(!1)},[h,r]),!r||!i)return null;var v=()=>{c(!1)},b=[{text:s("Cancel"),onClick:v,buttonStyle:ef.X.Neutral},{text:(0,A.jsx)(ex,{buttonStyle:Name:"uM1xi"},"like-button"),onClick:()=>{c(!1)},buttonStylestom}];return(0,A.jsx)(d.Z,{onGlassClick:()=>v(),glassIsClickable:!1,children:(0,A.jsx)(ef.O,{title:t("Confirming if user wants to like a post after using a permalink","Do you want to like this post?"),buttons:b})})};var ey=s(85795),ej=s(59215);class ek extends V.Component{constructor(){super(...arguments),i()(this,"state",{dialogIsShowing:!1}),i()(this,"apiHelper",(0,ey.ZP)(this.props.appContext.apiFetch)),i()(this,"confirmPublish",()=>this.setState({dialogIsShowing:!0})),i()(this,"cancelConfirmation",()=>this.setState({dialogIsShowing:!1})),i()(this,"publishPost",()=>{var e=this.props,t=e.timelineContext,s=e.postContext.post,o=s.blog.uuid,i=s.id;return o&&this.apiHelper.quickPublishPost(o,i).fetch().then(()=>{var e;this.cancelConfirmation(),null==t||null===(e=t.onRemoveTimelineObject)||void 0===e||e.call(t,{id:i})})})}render(){var e=this.props,t=e.appContext._c,s=e.postContext.post.state,o=this.state.dialogIsShowing;if(s===P.hA.Published||s===P.hA.Private)return null;var i=t("Action button to publish a post, should be verb here","Post");return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(z.Z,{label:i,onClick:this.confirmPublish,className:W.pillDesign,children:i}),o&&this.renderDialog()]})}renderDialog(){var e=this.props.appContext._t;return(0,A.jsx)(d.Z,{onGlassClick:this.cancelConfirmation,children:(0,A.jsx)(ef.O,{title:e("Publish this post now?"),buttons:[{text:e("Cancel"),onClick:this.cancelConfirmation,buttonStyle:ef.X.Neutral},{text:e("OK"),onClick:this.publishPost,buttonStyle:ef.X.Confirm}]})})}}let eN=(0,ej.X9)(ek,{appContext:!0,postContext:!0,timelineContext:!0});var eP=s(24185),eS=e=>{var t=e.size,s=t.width,o=t.height,i=e.fill;return(0,A.jsxs)("svg",{width:s,height:o,fill:"none",viewBox:"0 0 24 24",children:[(0,A.jsx)("path",{fill:i,fillRule:"evenodd",d:"M12 21a9 9 0 100-18 9 9 0 000 18zm0 2c6.075 0 11-4.925 11-11S18.075 1 12 1 1 5.925 1 12s4.925 11 11 11z",clipRule:"evenodd"}),(0,A.jsx)("path",{fill:i,fillRule:"evenodd",d:"M12 5a1 1 0 00-1 1v6a1 1 0 001 1h5a1 1 0 100-2h-4V6a1 1 0 00-1-1z",clipRule:"evenodd"})]})};eS.defaultProps={size:{width:24,height:24},fill:S.paletteBlack};var eI=s(90621);class eT extends V.Component{constructor(){super(...arguments),i()(this,"state",{dialogIsShowing:!1}),i()(this,"confirmQueue",()=>this.setState({dialogIsShowing:!0})),i()(this,"cancelConfirmation",()=>this.setState({dialogIsShowing:!1})),i()(this,"queuePost",()=>{var e=this.props,t=e.timelineContext,s=e.postContext.post,o=s.blog.uuid,i=s.id,n=e.appContext.apiFetch;return o&&(0,eI.V6)(n,{blogUuid:o,postId:i}).fetch().then(()=>{var e;this.cancelConfirmation(),null==t||null===(e=t.onRemoveTimelineObject)||void 0===e||e.call(t,{id:i})})})}render(){var e=this.props,t=e.appContext._c,s=e.postContext.post.state,o=this.state.dialogIsShowing;if(s!==P.hA.Draft&&s!==P.hA.Submission)return null;var i=t("Action button to queue a post, should be verb here","Queue");return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(z.Z,{label:i,onClick:this.confirmQueue,children:(0,A.jsx)(eS,{fill:S.paletteGray65})}),o&&this.renderDialog()]})}renderDialog(){var e=this.props.appContext._t;return(0,A.jsx)(d.Z,{onGlassClick:this.cancelConfirmation,children:(0,A.jsx)(ef.O,{title:e("Queue this post for publishing?"),buttons:[{text:e("Cancel"),onClick:this.cancelConfirmation,buttonStyle:ef.X.Neutral},{text:e("OK"),onClick:this.queuePost,buttonStyle:ef.X.Confirm}]})})}}let eA=(0,ej.X9)(eT,{appContext:!0,postContext:!0,timelineContext:!0});var eB=s(54589),eZ=s.n(eB),eE=s(92209),eM=s(92816),eL=s(70256),eR=["reblogKey","reblogBlogName","reblogPostId","routeQueryProps","mode"];let eD=e=>{var t=e.reblogKey,s=e.reblogBlogName,o=e.reblogPostId,i=e.routeQueryProps,n=e.mode,l=void 0===n?"reblog":n,r=eZ()(e,eR),d=(0,el.TH)().pathname,c=(0,f.bp)(),u=c.isLoggedIn,p=c._c,h=()=>{var e=(0,eE.Z)(i),n={reblogKey:t,blogName:s,postId:o.toString()};return"reblog"===l?(0,F.oh)(n,e):(0,F.eJ)(n,e)};return u?(0,A.jsx)(eM.Z,a()(a()({},r),{},{getPath:h,isAlreadyOnPostFormPath:F.LX})):(0,A.jsx)(eM.Z,a()(a()({},r),{},{className:eL.Z.loggedOutLink,"data-login-wall-type":"reblog","data-login-wall-title":p('Login wall: Title shown when user clicks on the "Reblog" button, after exceeding click counter limit',"Want to share? You're nearly there…"),"data-login-wall-reblog-path":h(),"data-login-wall-redirect":d}))};var eO=s(20069),ez=s(18042),eF=s(37236);let eV={bubbles:"o6JAm",avatar:"LpPf2",ellipsis:"ALkTz"},e_=e=>{var t=e.onClickSelectedBlog,s=e.blogs,o=e.onMouseLeave,i=e.onMouseEnter,n=e.avatarTitle,a=(0,f.bp)()._c,l=(0,V.useCallback)((e,s)=>{t(s,e,{bubbleIndex:3})},[t]);if(1===s.length)return null;var r=s.length>4,d=r?s.slice(0,3):s;return(0,A.jsxs)("div",{"aria-label":a("A list of blogs","Blogs"),className:eV.bubbles,onMouseLeave:o,onMouseEnter:i,children:[d.map((e,s)=ssName:eV.avatar,onClick:o=>t(o,e,{bubbleIndex:s}),title:null==n?void 0:n(e.name),children:(0,A.jsx)(m.Z,{imageResponse:e.avatar,avatarShape:eF.o.Circle,dimension:50})},s)),r&&(0,A.jsx)("div",{className:eV.avatar,children:(0,A.jsx)(eO.ZP,{blogs:s.slice(3),selectedBlog:s[0],onClickSelectedBlog:l,children:e=>(0,A.jsx)(z.Z,{wrapperClassName:eV.ellipsis,onClick:e,children:(0,A.jsx)(ez.b,{colors:{primary:S.paletteNavy}})})})})]})};var eH=s(235),eW=s(54870),eU=s(54382),eq=s(25190),eG=s(43684),e$=s(22979),eQ=s(81095),eJ=s(77),eX=s(399),eY=s(8737),eK=s(68782),e0=s(82560);let e1={postFastReblogAnimation:"n8L1c"};class e2 extends V.Component{constructor(){super(...arguments),i()(this,"state",{isAnimating:!1}),i()(this,"animate",()=>{this.setState({isAnimating:!0},()=>setTimeout(()=>this.setState({isAnimating:!1}),800))})}render(){return this.props.children?this.state.isAnimating&&(0,A.jsx)("div",{className:e1.postFastReblogAnimation,children:(0,V.cloneElement)(this.props.children,{fill:this.props.fill})}):null}}i()(e2,"defaultPrReblogged=0]="Reblogged",e[e.Queued=1]="Queued",e}({});let e5=e=>{var t=e.color,s=void 0===t?I().paletteGray65:t,o=e.disabled,i=e.mode,n=void 0===i?"reblog":i,l=e.postIndex,d=void 0===l?0:l,c=e.enableFastQueueing,u=(0,f.bp)(),p=u.apiFetch,h=u._t,m=u._c,g=u.features,v=(0,M.wL)().logEvent,C=(0,ed.uu)(),w=C.post,y=w.id,j=w.reblogKey,k=w.placementId,N=w.placementId,S=w.earnedId,T=w.earnedId,B=w.blogName,Z=w.shouldShowTip,E=C.post,L=C.getIsLongPost,R=(0,eJ.iv)().tabId,D=(0,_._)().addOnCloseModalRouteHandler,O=(0,ec.V)().toggleToast,z=(0,eq.v$)().isMobile,F=(0,eH.q5)(),W=F.canFastReblog,U=F.canFastQueue,q=F.fastRebloggedPosts,$=F.setDefaultFastBlog,Q=F.getBlogs,J=(0,H.i)(),X=J.onReblogged,Y=J.onInjectTimelineObjects,K=(0,eu.g)(),ee=K.shouldShowReblogTip,et=K.reblogTipShown,es=ee(d),eo=V.useState(!1),ei=G()(eo,2),ea=ei[0],el=ei[1],er=V.useState(void 0),ep=G()(er,2),eh=ep[0],em=ep[1],eg=V.useRef(null),ev=V.useRef(null),eb=V.useRef((0,ey.ZP)(p)),ex=V.useRefll===(e=eC.current)||void 0===e?void 0:e.call(eC)},[]);var ew=Q(),ej="reblog"===n&&W,ek=U&&("queue"===n||"reblog"===n&&void 0!==c&&c),eN=!o&&(ej||ek),eP=ex.current||ef.current;eN||(ef.current=!1,eP=!1);var eI=eh===e4.Reblogged,eT=eh===e4.Queued,eA=eI?I().paletteGreen:I().palettePurple,eB=eI||q.includes(y)?I().paletteGreen:eh===e4.Queued?I().palettePurple:o?I().paletteGray40:ej?I().paletteBlue:ek?I().palettePink:s,eZ="reblog"===n?(0,A.jsx)(b.Z,{size:{width:21,height:21},colors:{primary:eB}}):(0,A.jsx)(eS,{fill:eB});if(!y||!j)return(0,A.jsxs)(A.Fragment,{children:[eZ,(0,A.jsx)(e2,{ref:ev,fill:eA})]});var eE=(e,t)=>eL(P.hA.Published,e,t),eM=(e,t)=>eL(P.hA.Queue,e,t),eL=(e,t,s)=>(es&&et(),null==t||t.preventDefault(),eb.current.postAPost({selectedBlogName:s,placementId:N,logEvent:v,isLongPost:null==L?void 0:L(),post:a()(a()({},E),{},{date:void 0,tags:void 0,content:[],layout:[],state:e,parentTumblelogUuid:E.blog.uuid,parentPostId:y,id:""}),reblogType:eQ.k.Fast}).fetch().then(t=>{var s,o,i;return null===(s=ev.current)||void 0===s||s.animate(),null!=t&&null!==(o=t.response)&&void 0!==o&&null!==(o=o.timeline)&&void 0!==o&&o.elements&&Y({elementsToInject:null==t||null===(i=t.response)||void 0===i||null===(i=i.timeline)||void 0===i?void 0:i.elements,insertionOptions:{insertionPointId:y,insertionType:"append"}}),E&&em(e===P.hA.Published?e4.Reblogged:e4.Queued)})),eR=e=>{(0,eY.r9)(y,N,null==L?void 0:L(),R),null!=e&&e.ctrlKey||null!=e&&e.metaKey||(eC.current=D(eO),es&&et())},eO=e=>{var t,s,o,i=e.isModalSuccess,n=e.response;null===(t=eC.current)||void 0===t||t.call(eC),(0,eY.Ly)(),i&&(eV&&v({eventName:x.J.ClientReblog,eventDetails:{placement_id:k,earned_id:S,has_tip:!!Z,tab:R}}),void 0===eh&&em(e4.Reblogged),null==X||X(y),null!=n&&null!==(s=n.response)&&void 0!==s&&null!==(s=s.timeline)&&void 0!==s&&s.elements)&&Y({elementsToInject:null==n||null===(o=n.response)||void 0===o||null===(o=o.timeline)||void 0===o?void 0:o.elements,insertionOptions:{insertionPointId:y,insertionType:"append"}})},ez=(e,t,s)=>{ef.current=!1,ex.current=!1,el(!ea),$(t),(ej?eE:eM)(e,t.name).then(()=>{v({eventDetails:a()(a()({},s),{},{tab:R}),eventName:ej?x.J.FastReblog:x.J.FastQueue}),O(ej?(0,A.jsx)(eU.ZP,{params:{blogName:t.name},children:"Reblogged to [blogName]"}):(0,A.jsx)(eU.ZP,{params:{blogName:t.name},children:"Queued to [blogName]"})),ej&&(null==X||X(y))}).,eK.U)((0,eX.Pk)(h)),"error")})},eF=e=>ez(e,ew[0]),eV=(0,e0.fE)({isMobile:z,features:g,editablePost:E,isReblog:!0}),e1=ej?h("Quick Reblog"):ek?h("Quick Queue"):"reblog"===n?h("Reblog"):m("Action button to queue a post, should be verb here","Queue"),e5={};if((0,e$.uz)(E)&&!T){var e3=E.advertiserId,e6=E.campaignId,e9=E.creativeId,e7=E.adGroupId,e8=E.adId;e5=a()(a()({},e5),{},{[e$.PC.AdvertiserId]:e3,[e$.PC.CampaignId]:e6,[e$.PC.CreativeId]:e9,[e$.PC.AdGroupId]:e7,[e$.PC.AdId]:e8})}return(0,A.jsxs)(A.Fragment,{children:[eN&&eP&&(0,A.jsx)(e_,{onMouseEnter:()=>ef.current=!0,onClickSelectedBlog:ez,onMouseLeave:e=>{var t;null!==(t=eg.current)&&void 0!==t&&t.contains(e.relatedTarget)||(ex.current=!1,ef.current=!1,el(!ea))},avatarTitle:e=>ej?h("Reblog to %1$s",[e]):h("Queue to %1$s",[e]),blogs:ew}),tD((0,A.jsx)(en.Z,{isOpen:ee(d)&&"reblog"===n,content:m("Text that is shown as a tooltip to nudge the user to reblog a post.","Tap for a little clue… 🔎"),popoverProps:{useFlex:!0,targetStyles:{height:"100%"}},onFirstShow:()=>{v({page:"TourGuideReblogTooltip",eventName:x.J.Shown})},onDismiss:()=>{v({page:"TourGuideReblogTooltip",eventName:x.J.Dismissed})},children:(0,A.jsx)(eD,a()(a()({mode:n,disabled:o,label:e1,reblogBlogName:B,reblogPostId:y,forwardedRef:eg,reblogKey:j,routeQueryProps:e5,disableNavigation:eN,className:r()({Od7LS:o}),onClick:e=>{eN?eF(e):eR(e),v({eventName:x.J.ReblogIconClick,eventDetails:{tooltipShown:!!es}})}},{on.current=!0,eN&&el(!ea)},onMouseLeave:()=>ex.current=!1}),{},{children:eZ}))}),a()({position:eG.I2.Top,content:eI?h("Reblogged"):eT?h("Queued"):"reblog"===n?h("Reblog"):m("Action button to queue a post, should be verb here","Queue")},eI&&{color:eW.v.GREEN})),(0,A.jsx)(e2,{ref:ev,fill:eA,children:"reblog"===n?(0,A.jsx)(b.Z,{size:{height:21,width:21},colors:{primary:eA}}):(0,A.jsx)(eS,{size:{height:21,width:21}})})]})};var e3=s(17635);let e6={disabled:"tc6fQ"},e9=function(e){var t=e.color,s=void 0===t?I().paletteGray65:t,o=e.onClick,i=e.disabled,n=e.forwardedRef,a=(0,f.bp)()._t,l=i?I().paletteGray40:s;return(0,A.jsx)(J._,{action:"reply-button",forwardedRef:n,label:a("Reply"),onClick:o,disabled:i,className:i&&e6.disabled,children:(0,A.jsx)(e3.Z,{size:{width:21,height:21},emptyIconColors:{primary:l}})})};var e7=s(60189),e8=s(40760),te=s(75376),tt=s(55351),ts=s(68280),to=s(50899),ti=s(17901),tn=s(68087),ta=s(31679),tl=s(58849),tr=s(14544),td=s(17114),tc=s(55855),tu=s(24228),tp=s(55015),th=s(96467),tm=s(70505),tg=s(39277),tv=s(20041),tb=s(95867);let tx=e=>{var t=e.canDoThingsFast,s=(0,V.useState)(!1),o=G()(s,2),i=o[0],n=o[1],a=(0,V.useRef)(null),l=(0,V.useRef)(!1),r=(0,V.useRef)(!1),d=l.current||r.current;return t||(r.current=!1,d=!1),{showBubbles:d,onBubbleMouseEnter:()=>{r.current=!0},onBubbleMouseLeave:e=>{var t;null!==(t=a.current)&&void 0!==t&&t.contains(e.relatedTarget)||(l.current=!1,r.current=!1,n(!i))},onBubbleMouseClick:()=>{r.current=!1,l.current=!1,n(!i)},onAnchorMorent=!0,t&&n(!i)},onAnchorMouseLeave:()=>{l.current=!1}}};var tf=s(86340),tC=s(5553),tw=s(24994);let ty={root:"v2JIl",title:"qcYGf",option:"Gdn85",blogOption:"asnZc",blogOptionMeta:"yX3XS",blogOptionTitle:"pT6VO",titleAvatar:"nT5UJ",optionIcon:"cP0pN",titleLabel:"QgXdE",optionLabel:"kt8zB",blogOptionName:"iGLok",listItem:"M9Ov7",listItemInner:"crS1E",chevron:"YqkCK",blogSelectorOpen:"n1exf",disabled:"CGCzZ"};var tj=s(22183),tk=e=>{var t=e._c,s=e.buttonState,o=e.iconColor,i=t("Tooltip for the reblog button","Reblog"),n=o,a=(0,A.jsx)(b.Z,{size:{height:21,width:21},colors:{primary:n}});switch(s){case"published":i=t("Tooltip when the post has been reblogged","Reblogged"),n=I().paletteGreen;break;case"queued":i=t("Tooltip when the post has been queued","Queued"),n=I().palettePurple;break;case"disabled":n=I().paletteGray40;break;case"reblog-hotkey-active":n=I().paletteBlue;break;case"queue-hotkey-active":n=I().palettePink,a=(0,A.jsx)(eS,{size:{height:24,width:24},fill:n});break;case"comment-hotkey-active":n=I().paletteOrange,a=(0,A.jsx)(tj.Z,{size:{height:21,width:21},colors:{primary:n}})}return{label:i,color:n,icon:a}},tN=e=>{var t=e.activeHotkey,s=e.disabled,o=e.postState;if(t)switch(t){case"reblog":return"reblog-hotkey-active";case"queue":return"queue-hotkey-active";case"comment":return"comment-hotkey-active"}if(s)return"disabled";switch(o){case P.hA.Published:return"published";case P.hA.Queue:return"queued"}return"default"};let tP=e=>{var t=e.disabled,s=void 0!==t&&t,o=e.iconColor,i=void 0===o?I().paletteGray65:o,n=e.onClick,l=e.postIndex,d=e.postState,c=e.onBubbleClick,u=(0,f.bp)()._c,p=(0,M.wL)().logEvent,h=(0,ed.b8)().post,m=(0,(0,eu.g)().shouldShowReblogTip)(void 0===l?0:l),g=(0,eH.q5)(),v=g.canFastReblog,C=g.canFastQueue,w=g.canFastQuote,y=v?"reblog":C?"queue":w?"comment":void 0,j=tk({buttonState:tN({postState:d,activeHotkey:y,disabled:s}),iconColor:i,_c:u}),k=j.label,N=j.color,S=!s&&(v||C||w),T=(0,tC.n)().data,B=tx({canDoThingsFast:S}),Z=B.showBubbles,E=B.onBubbleMouseEnter,L=B.onBubbleMouseLeave,R=B.onBubbleMouseClick,D=B.onAnchorMouseEnter,O=B.onAnchorMouseLeave;return(0,A.jsxs)(A.Fragment,{children:[S&&Z&&(0,A.jsxMouseLeave:L,onClickSelectedBlog:(e,t)=>{R(),y&&c(t,y)},avatarTitle:e=>{var t="";switch(y){case"reblog":t=u("Tooltip for reblogging to a particular blog","Reblog to %1$s",[e]);break;case"comment":t=u("Tooltip for reblogging with a comment to a particular blog","Reblog with comment to %1$s",[e]);break;case"queue":t=u("Tooltip for queuing a reblog to a particular blog","Queue to %1$s",[e])}return t},blogs:T||[]}),tD((0,A.jsx)(en.Z,{isOpen:m,content:u("Text that is shown as a tooltip to nudge the user to reblog a post.","Tap for a little clue… 🔎"),popoverProps:{useFlex:!0,targetStyles:{height:"100%"}},onFirstShow:()=>{p({pa{p({page:"TourGuideReblogTooltip",eventName:x.J.Dismissed})},children:(0,A.jsx)(tf.W,{action:"reblog-menu-button",href:s?void 0:(0,tw.T)(h),role:"button","aria-label":k,"aria-disabled":s,onClick:e=>{e.preventDefault(),s||(n(),p({eventName:x.J.ReblogIconClick,eventDetails:{tooltipShown:!!m}}))},className:r()({[ty.disabled]:s}),onMouseEnter:D,onMouseLeave:O,children:(0,A.jsx)(b.Z,{size:{height:21,width:21},colors:{primary:N}})})}),a()({position:eG.I2.Top,content:k},d===P.hA.Published&&{color:eW.v.GREEN}))]})};var tS=s(68144),tI=s(34330),tT=s(93415),tA=s(14713);let tB=e=>[{value:"reblog",label:e("A menu option to immediately reblog this post, without opening the post editor","Reblog now"),icon:(0,A.jsx)(b.Z,{size:{height:21,width:21},colors:{primary:I().paletteGray65}}),shortcut:"E"},{value:"comment",label:e("A menu option to reblog this post by opening the post editor","Reblog"),icon:(0,A.jsx)(tj.Z,{size:{height:21,width:21},colors:{primary:I().paletteGray65}}),shortcut:"Q",as:"a"},{value:"queue",label:e("A menu option to immediately add this post to your queue, without opening the post editor","Add to queue"),icon:(0,A.jsx)(eS,{size:{height:21,width:21},fill:I().paletteGray65}),shortcut:"W"}],tZ=e=>{var t,s,o=e.activeSelector,i=void 0===o?"reblog-selector":o,n=e.selectedBlog,l=e.onChangeActiveSelector,d=e.onChangeSelectedBlog,c=e.onClose,u=e.onSelectReblogAction,p=(0,f.bp)()._c,h=(0,tC.n)().data,g=(0,tA.Z)(h,n),v=tB(p),b=(0,ed.b8)().post,x=g.map(e=>{var t,s=e.value,o=e.label,i=e.title;return{content:(0,A.jsxs)("div",{className:r()(ty.option,ty.blogOption),children:[(0,A.jsx)("div",{className:ty.iconOption,children:(0,A.jsx)(m.Z,{imageResponse:s.avatar,avatarShape:null===(t=s.theme)||void 0===t?void 0:t.avatarShape,name:s.name,url:s.url,dimension:th.postFooterReblogMenuOptionAvatarWidth,showBlogCard:!1})}),(0,A.jsxs)("div",{className:ty.blogOptionMeta,children:[(0,A.jsx)("div",{className:r()(ty.optionLabel,ty.blogOptionName),children:o}),i&&(0,A.jsx)("div",{className:ty.blogOptionTitle,children:i})]})]}),value:s,label:o}}),C=v.map(e=>{var t=e.value,s=e.label,o=e.icon,i=e.as;return{content:(0,A.jsxs)("div",{className:ty.option,children:[(0,A.jsx)("div",{className:ty.optionIcon,children:o}),(0,A.jsx)("div",{className:ty.optionLabel,children:s})]}),value:t,label:s,as:i,href:(0,tw.T)(b)}});switch(i){case"blog-selector":s={options:x,onChange:(e,t)=>{null==t||t.nativeEvent.stopImmediatePropagation(),d(e),l("reblog-selector")}};break;case"reblog-select{l("reblog-selector"===i?"blog-selector":"reblog-selector")},className:ty.title,role:"presentation",children:[(0,A.jsx)("div",{className:ty.titleAvatar,children:(0,A.jsx)(m.Z,{imageResponse:null==n?void 0:n.avatar,avatarShape:null==n||null===(t=n.theme)||void 0===t?void 0:t.avatarShape,name:null==n?void 0:n.name,url:null==n?void 0:n.url,dimension:th.postFooterReblogMenuTitleAvatarWidth,showBlogCard:!1,isLink:!1})}),(0,A.jsx)("div",{"aria-label":"Active blog",className:ty.titleLabel,children:null==n?void 0:n.name}),(0,A.jsx)(tS.sn,{size:{width:th.postFooterReblogMenuCaretSize,height:th.postFooterReblogMenuCaretSize},colors:{primary:I().paletteGray65},className:ty.chevron})]});return(0,A.jsx)(tT.I.Provider,{value:null,children:(0,A.jsx)(tI.Z,a()(a()({},s),{},{titleEl:w,noAnchor:!0,isOpen:!0,onClickGlass:c,listItemClassName:ty.listItem,listItemInnerClassName:ty.listItemInner}))})},tE=()=>{var e=(0,f.bp)(),t=e.apiFetch,s=e._t,o=(0,M.wL)().logEvent,i=(0,ec.V)().toggleToast;return(e,n,l)=>eo()().async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,eo()().awrap((0,ey.ZP)(t).postAPost({selectedBlogName:n.name,placementId:e.placementId,logEvent:o,post:a()(a()({},e),{},{id:"",date:void 0,tags:void 0,content:[],layout:[],state:l,parentTumblelogUuid:e.blog.uuid,parentPostId:e.id}),reblogType:l===P.hA.Published?eQ.k.Fast:void 0}).fetch());case 3:return i(l===P.hA.Published?(0,A.jsx)(eU.ZP,{comment:"Message displayed after a post is successfully reblogged",params:{blogName:n.name},children:"Reblogged to [blogName]"}):(0,A.jsx)(eU.ZP,{comment:"Message displayed after a post is successfully queued",params:{blogName:n.name},children:"Queued to [blogName]"})),r.abrupt("return",!0);case 7:return r.prev=7,r.t0=r.catch(0),i((0,eK.U)((0,eX.Pk)(s)),"error"),r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,[[0,7]],Promise)},tM=e=>{var t=e.color,s=e.disabled,o=e.postIndex,i=e.selector,n=(0,M.wL)().logEvent,a=(0,V.useState)(!1),l=G()(a,2),d=l[0],c=l[1],u=(0,V.useState)(void 0===i?"reblog-selector":i),p=G()(u,2),h=p[0],m=p[1],g=(0,V.useState)(),v=G()(g,2),b=v[0],f=v[1],C=(0,ed.b8)().post,w=(0,tb.ZP)(),y=w.selectedBlog,j=w.onChangeSelectedBlog,k=tE(),N=()=>{d||(c(!0),n({eventName:x.J.ReblogPopoverOpen}))},S=(0,V.useCallback)(()=>{d&&(c(!1),m("reblog-selector"),n({eventName:x.J.ReblogPopoverClose}))},[d,n]),I=(e,t,s)=>eo()().async(function(o){for(;;)switch(o.prev=o.next){case 0:S(),o.t0=s,o.next="reblog"===o.t0?4:"queue"===o.t0?9:"comment"===o.t0?14:16;break;case 4:return o.next=6,eo()().awrap(k(e,t,P.hA.Published));case 6:return o.sent&&(f(P.hA.Published),n({eventName:x.J.ReblogPopoverReblogClick})),o.abrupt("break",16);case 9:return o.next=11,eo()().awrap(k(e,t,P.hA.Queue));case 11:return o.sent&&(f(P.hA.Queue),n({eventName:x.J.ReblogPopoverQueueClick})),o.abrupt("break",16);case 14:return n({eventName:x.J.ReblogPopoverReblogWithCommentClick}),o.abrupt("break",16);case 16:case"end":return o.stop()}},null,null,null,Promise),T=(0,tv.Z)({outsideEvents:{click:!0,scroll:!0},onOutsideEvent:S});return(0,A.jsxs)("div",{ref:T,className:r()(ty.root,{[ty.blogSelectorOpen]:"blog-selector"=(0,A.jsx)(tP,{disabled:s,iconColor:t,onClick:()=>{d?S():N()},postIndex:o,postState:b,onBubbleClick:(e,t)=>{j(e),I(C,e,t)}}),d&&(0,A.jsx)(tZ,{selectedBlog:y,onChangeSelectedBlog:j,acChangeActiveSelector:m,onSelectReblogAction:e=>{y&&I(C,y,e)},onClose:S})]})};var tL=s(61721);let tR={footer:"tOKgq",igniteTooltip:"x23xO",footerRow:"m5KTc",zeroNotes:"VNASy",noDivider:"y49Zv",noteCount:"gstmW",controls:"MCavR",controlIcon:"sfGru",controlAutoWidth:"Ed7CO",postControl:"t21M4",noteCountButton:"rlv6m",noteCountButtonInner:"RHkx9",noteCountContainer:"zrO3e",notesCloseButton:"ePsyd",controlsWithDivider:"r3vIz",postActivityWrapper:"yTb5J",postActivityWrapperOpen:"DUvqr",notesPreviewContainer:"SAyo6",fastQueueButton:"rW8sh"};var tD=(e,t)=>{var s;return(0,A.jsx)(eW.Z,a()(a()({},t),{},{popoverProps:{onHoverExitDelay:0,transitionStyles:a()(a()({},p.YE),{},{transitionDurationMS:0},null===(s=t.popoverProps)||void 0===s?void 0:s.transitionStyles)},children:e}))};class tO extends V.Component{constructor(e){super(e),t=this,i()(this,"noteCountRef",(0,V.createRef)()),i()(this,"previewNoteRef",(0,V.createRef)()),i()(this,"replyButtonRef",(0,V.createRef)()),i()(this,"getTopRow",()=>{var e,t=this.props,s=t.postContext,o=t.postSlotsContext,i=s.post.shouldShowTip,n=s.presentationStyle.showsFooterDivider,a=i?this.tippingContent():void 0,l=this.getIgniteButton(),d=this.getUserControlButtons(),c=(0,tL.x)(s),u=c.isQueue;if(c.isDraft||u)return null;var p=[],h=[];return(a&&p.push((0,A.jsx)(V.Fragment,{children:a},"tipping")),l&&p.push((0,A.jsx)(V.Fragment,{children:l},"ignite")),null==o||null===(e=o.transformPostFooterTopRowLeftControls)||void 0===e||e.call(o,p),d&&h.push((0,A.jsx)(V.Fragment,{children:d},"user-controls")),0===p.length&&0===h.length)?null:(0,A.jsxs)("div",{className:r()(tR.footerRow,{[tR.noDivider]:!n}),children:[(0,A.jsx)("div",{className:r()(tR.controls,tR.controlsWithDivider),children:p}),(0,A.jsx)("div",{className:tR.controls,children:h})]})}),i()(this,"getBottomRow",()=>{var e=this.props,t=e.appContext.isLoggedIn,s=e.postContext.presentationStyle.showsFooterDivider,o=this.noteContent();return(0,A.jsxs)("div",{className:r()(tR.footerRow,{[tR.noDivider]:!s,[tR.zeroNotes]:null===o}),children:[!!o&&(0,A.jsx)("div",{className:tR.noteCount,children:o}),t?this.renderControls():this.renderLoggedOutControls()]})}),i()(this,"postActivityContent",()=>{var e=this.props,t=e.timelineContext.onReplyAdded,s=e.postContext,o=s.post,i=o.id,n=o.blog,a=o.reblogKey,l=o.replyCount,r=o.reblogCount,d=o.likeCount,c=o.selfReplyCount,u=o.liked,p=o.shouldShowTip,m=o.community,g=o.rebloggedFromId,v=o.rebloggedRootName,b=s.presentationStyle.expandNotesOnMount,x=this.state,f=x.postActivityTypeToOpen,C=x.focusReplyOnMount,w=x.replyText,y=x.postActivityPinPreviewNote,j=(0,tL.x)(s),k=j.canDoReply,N=j.canDoReblog;return"tipping"===f?(0,A.jsx)(te.Z,{onClose:this.onTipButtonClick,blogname:n.name,postId:i,canDoReply:!!k,replyText:w}):(0,A.jsx)(h.Z,{id:i,blog:n,isCommunity:!!m,isReblog:void 0!==g,reblogFrom:v,reblogKey:a,canReply:k,canReblog:N,replyCount:l,reblogCount:r,likeCount:d,selfReplyCount:void 0===c?0:c,onReplyAdded:t,liked:u,focusReplyOnMount:C,onTipButtonClick:p?this.onTipButtonClick:void 0,expandNotesOnMount:b,pinPreviewNote:y,onModeChange:this.onModeChange})}),i()(this,"renderLoggedOutControls",()=>{var e,t=this.props,s=t.postContext,o=s.presentationStyle,i=o.showsReblogButton,n=o.showsLikeButton,a=s.post.state,l=t.postSlotsContext,r=t.postChromeStyles,d=[],c=this.getAdjustedForegroundColor();return d.push((0,A.jsx)(tz,{children:this.sendAPostContent()},"send a post")),i&&a!==P.hA.Private&&d.push((0,A.jsx)(tz,{children:(0,A.jsx)(e5,{color:c})},"reblog")),n&&d.push((0,A.jsxs)(tz,{children:[(0,A.jsx)(ex,{color:c}),(0,A.jsx)(ew,{})]},"like")),null==l||null===(e=l.transformPostFooterControls)||void 0===e||e.call(l,d,tz),(0,A.jsx)("div",{className:tR.controls,style:r,children:d})}),i()(this,"getUserControlButtons",()=>{var e=this.props,t=e.appContext.features.tumblrIgnite,s=e.postContext,o=e.canAnswer,i=e.isInboxAsk,n=e.editablePost,a=s.post,l=a.id,r=a.trail,d=a.shouldOpenInLegacy,c=a.canManageBlaze,u=s.presentationStyle,p=u.showsDeleteButton,h=u.showsEditButton,m=(0,tL.x)(s),g=m.canDoEdit,v=m.canDoDelete,b=[];return p&&(t&&c||v)&&b.push((0,A.jsx)(tz,{children:tD((0,A.jsx)(X,{id:l,disabled:c}),{position:eG.I2.Top,content:this.deleteTooltipMessage(),className:c?tR.igniteTooltip:void 0})},"delete")),h&&(t&&c||g&&n&&!i&&!o)&&b.push((0,A.jsx)(tz,{children:tD((0,A.jsx)(Y.Z,{editablePost:null!=n?n:this.props.postContext.post,trail:r,shouldAlwaysOpenInLegacy:d,disabled:!n||c}),{position:eG.I2.Top,content:this.editTooltipMessage(),className:c?tR.igniteTooltip:void 0})},"edit")),b.length>0?b:void 0}),i()(this,"getIgniteButton",function(){var e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{withLabel:!0},o=s.withLabel,i=t.props,n=i.appContext.features.tumblrIgnite,a=i.postContext.post,l=a.canBlaze,r=a.canManageBlaze,d=a.isBlazed;return n&&(l||r)&&(e=(0,A.jsx)(tz,{className:tR.controlAutoWidth,children:tD((0,A.jsx)(et,{color:r?I().betamaxOrange:I().paletteGray65,label:t.popoverMessage(),onClick:t.toggleIgniteProductPopover,filled:d,textContent:o?t.igniteTextMessage():void 0}),{position:eG.I2.Top,content:t.popoverMessage(),className:r?tR.igniteTooltip:void 0})},"ignite")),e}),i()(this,"renderControls",()=>{var e,t=this.props,s=t.appContext,o=s._t,i=s._c,n=s.labsSettings.fastQueue,l=t.postContext,d=t.isInInboxTimeline,c=t.isNarrow,u=t.isSubmissionDraft,p=t.isInboxAsk,h=t.canAnswer,m=t.postChromeStyles,g=t.editablePost,v=t.postIndex,b=t.postSlotsContext,x=t.deviceContext.isMobile,f=l.presentationStyle,C=f.showsReplyButton,w=f.showsShareButton,y=f.showsReblogButton,j=f.showsQueueButton,k=f.showsLikeButton,N=l.post,S=(0,tL.x)(l),I=S.isQueue,T=S.isDraft,B=S.canDoReply,Z=S.canDoShare,E=S.canDoReblog,M=S.canDoLike,L=S.canDoEdit,R=S.canDoQueue,O=S.canDoPublish,z=N.id,F=N.liked,V=N.state,_=N.blog,H=this.getAdjustedForegroundColor(),W=[];if((Z||w)&&W.push((0,A.jsx)(tz,{children:this.sendAPostContent()},"send a post")),(B||C)&&W.push((0,A.jsx)(tz,{children:tD((0,A.jsx)(e9,{forwardedRef:this.replyButtonRef,onClick:this.onReplyIconClick,color:H}),{position:eG.I2.Top,content:o("Reply")})},"reply")),j&&n&&!(T||u||p)&&!c&&W.push((0,A.jsx)(tz,{className:tR.fastQueueButton,children:(0,A.jsx)(e5,{mode:"queue",disabled:!R,color:H,postIndex:v})},"queue-post")),(E||y)&&!d&&(x?W.push((0,A.jsx)(tz,{children:(0,A.jsx)(tM,{disabled:!E,color:H,postIndex:v})},"reblog")):W.push((0,A.jsx)(tz,{children:(0,A.jsx)(e5,{disabled:!E,color:H,postIndex:v,enableFastQueueing:!n||c})},"reblog"))),(M||k)&&W.push((0,A.jsxs)(tz,{children:[tD((0,A.jsx)(ex,{color:H,postIndex:v}),a()({position:eG.I2.Top,content:o(F?"Liked":"Like")},F&&{color:eW.v.RED})),(0,A.jsx)(ew,{})]},"like")),L&&I&&W.push((0,A.jsx)(tt.Z,{children:(0,A.jsx)(tz,{children:(0,A.jsx)(D.Z,{})})},"reorder")),L&&I&&W.push((0,A.jsx)(tt.Z,{children:(0,A.jsx)(eP.Z,{blogName:_.name,id:z.toString()})},"queueControls")),T||I){var q=this.getUserControlButtons();q&&W.push(...q)}return g&&h&&W.push((0,A.jsx)(tz,{className:tR.controlAutoWidth,children:(0,A.jsx)(U,{editablePost:g})},"answer")),R&&(T||u)&&W.push((0,A.jsx)(tz,{children:tD((0,A.jsx)(eA,{}),{position:eG.I2.Top,content:i("Tooltip for button to queue a post, should be verb here","Queue")})},"queue")),O&&(T||V===P.hA.Queued||u)&&W.push((0,A.jsx)(tz,{className:r()(tR.postControl,tR.controlAutoWidth),children:(0,A.jsx)(eN,{})},"post")),null==b||null===(e=b.transformPostFooterControls)||void 0===e||e.call(b,W,tz),(0,A.jsx)("div",{className:tR.controls,style:m,children:W})}),i()(this,"editTooltipMessage",()=>{var e=this.props.postContext.post.canManageBlaze;return(0,this.props.appContext._t)(e?"A post in a Blaze campaign cannot be edited":"Edit")}),i()(this,"deleteTooltipMessage",()=>{var e=this.props.postContext.post.canManageBlaze;return(0,this.props.appContext._t)(e?"A post in a Blaze campaign cannot be deleted":"Delete")}),i()(this,"popoverMessage",()=>{var e=this.props.postContext.post,t=e.isBlazed,s=e.isBlazePending;return(0,this.props.appContext._t)(t?"This post is on fire – in a good way! We’ll send you a wrap-up when it’s done.":s?"Blaze campaign pending! We’ll email you when it’s approved.":"Blaze")}),i()(this,"igniteTextMessage",()=>{var e=this.props,t=e.appContext,s=t._c,o=t._t,i=e.postContext.post,n=i.isBlazed,a=i.isBlazePending;return n?s("Approved state of Blaze post button","Blazed"):a?s("Pending state of Blaze post button","Pending"):o("Blaze")}),i()(this,"toggleNotesPanel",()=>{this.setState(e=>("notes"===e.postActivityTypeToOpen||e.notesOpenedFromReply||this.logOpenNotesAnalyticsEvents(),{notesOpenedFromReply:!1,postActivityPinPreviewNote:!e.postActivityIsOpen&&e.postActivityPinPreviewNote}),()=>{this.togglePostActivity("notes")})}),i()(this,"toggleNotesPopover",()=>{this.setState(e=>{var t=!e.notesPopoverIsOpen;return t&&!e.notesOpenedFromReply&&this.logOpenNotesAnalyticsEvents(),{focusNotePopoverTextareaOnMount:!1,notesPopoverIsOpen:t,notesOpenedFromReply:!1,postActivityPinPreviewNote:!!t&&e.postActivityPinPreviewNote}})}),i()(this,"toggleSendAPostPopover",()=>{var e=this.props.dashboardContext.tabId;this.setState(e=>({sendAPostPopoverIsOpen:!e.sendAPostPopoverIsOpen})),this.props.adContext.sendClickADMBeacon(this.props.postContext.post.adm),this.props.logEvent({eventName:x.J.SendAPostClick,eventDetails:a()({placement_id:this.props.postContext.post.placementId,tab:e,type:"post"},(0,tc.U)({timelineObject:this.props.postContext.post,adPlacementConfiguration:this.props.adContext.adPlacementConfiguration,hydraConfigInstanceId:this.props.adContext.hydraConfigInstanceId}))})}),i()(this,"logOpenNotesAnalyticsEvents",()=>{var e=this.props,t=e.adContext,s=t.adPlacementConfiguration,o=t.hydraConfigInstanceId,i=t.sendClickADMBeacon,n=e.postContext.post,l=e.dashboardContext.tabId,r=e.logEvent,d=n.adm,c=n.earnedId,u=n.placementId;i(d),r({eventName:x.J.Notes,eventDetails:a()({placement_id:u,earned_id:c,tab:l},(0,tc.U)({timelineObject:n,adPlacementConfiguration:s,hydraConfigInstanceId:o}))})}),i()(this,"onPostActivityTransitionEnd",()=>{var e=this.state,t=e.focusReplyOnMount;!e.postActivityIsOpen&&(this.setState({postActivityTypeToOpen:null}),t&&this.setState({focusReplyOnMount:!1}))}),i()(this,"onModeChange",e=>{e!==ti.L.Replies&&this.setState({focusReplyOnMount:!1})}),i()(this,"onReplyIconClick",()=>{var e=this.props,t=e.adContext,s=t.adPlacementConfiguration,o=t.hydraConfigInstanceId,i=e.isNarrow,n=e.postContext.post,l=e.dashboardContext.tabId,r=e.logEvent,d=this.state,c=d.focusReplyOnMount,u=d.notesOpenedFromReply,p=d.notesPopoverIsOpen,h=d.postActivityIsOpen,m=d.postActivityTypeToOpen,g=n.placementId;if(p||"notes"===m||r({eventName:x.J.ReplyIconClick,eventDetails:a()({placement_id:g,tab:l},(0,tc.U)({timelineObject:n,adPlacementConfiguration:s,hydraConfigInstanceId:o}))}),h&&"notes"===m&&!u&&!c){this.setState({focusReplyOnMount:!0});return}this.setState({notesOpenedFromReply:!0}),i?this.toggleNotesPopover():(this.setState({focusReplyOnMo)=>{this.setState({postActivityPinPreviewNote:!0}),this.toggleNotes()}),i()(this,"toggleNotes",()=>{this.props.isNarrow?this.toggleNotesPopover():(this.setState({focusReplyOnMount:!1}),this.toggleNotesPanel())}),i()(this,"toggleIgniteProductPopover",()=>{this.setState(e=>({ignitePopoverIsOpen:!e.ignitePopoverIsOpen}))}),i()(this,"noteContent",()=>{var e=this.state,t=e.notesPopoverIsOpen,s=e.postActivityIsOpen,o=e.postActivityTypeToOpen,i=e.focusNotePopoverTextareaOnMount,n=e.postActivityPinPreviewNote,l=this.props,r=l.appContext,u=r._c,m=r.isLoggedIn,g=l.timelineContext.onReplyAdded,v=l.postContext,b=l.postSlotsContext,x=l.location,f=l.isInboxAsk,C=l.isSubmissionDraft,w=l.deviceContext.isMobile,y=v.post,j=y.id,k=y.blog,N=y.reblogKey,P=y.noteCount,S=y.replyCount,T=y.reblogCount,B=y.likeCount,Z=y.selfReplyCount,E=y.liked,M=y.rebloggedFromId,L=v.presentationStyle.expandNotesOnMount,D=(0,tL.x)(v),O=D.isDraft,z=D.isQueue,V=D.canDoReply,_=D.canDoReblog,H=D.shouldShowTip;if(!(t||s)&&!k.uuid||f||O&&void 0===M||z&&void 0===M||C)return null;var W=b.renderCustomNotesCountButton,U=(0,A.jsx)(J._,a()(a()({action:"note-count-button",onClick:this.toggleNotes,wrapperClassName:tR.noteCountButton,className:tR.noteCountButtonInner},!m&&!L&&{"data-login-wall-type":"notes","data-login-wall-title":u("Login wall: Title shown when user clicks on a blog or image after exceeding click counter limit","Seems we're out of free samples."),"data-login-wall-text":u("Login wall: Text shown when user clicks on a blog or image after exceeding click counter limit","But there's good news. Get free samples from now until, well, the ends of time itself by signing up for Tumblr and getting unlimited access not just to this blog, but countless others like it."),"data-login-wall-tag-blog-name":k.name,"data-login-wall-post-id":j}),{},{children:s&&"notes"==o?(0,A.jsxs)("div",{className:tR.notesCloseButton,children:[(0,A.jsx)(c.Z,{colors:{primary:I().paletteGray65}}),(0,A.jsx)("span",{children:u("Close the panel showing the notes for a post","Close notes")})]}):(0,A.jsx)("span",{ref:this.noteCountRef,className:tR.noteCountContainer,children:(0,A.jsx)("span",{"data-testid":"noteCountTotal",children:W?(0,A.jsx)(W,{containerRef:this.noteCountRef}):(0,A.jsx)(R.Z,{containerRef:this.noteCountRef})})})})),q={focusNotePopoverTextareaOnMount:i,id:j,blog:k,reblogKey:N,canReply:V,canReblog:_,close:this.toggleNotesPopover,replyCount:S,reblogCount:T,likeCount:B,selfReplyCount:void 0===Z?0:Z,onReplyAdded:g},G=(0,A.jsx)(h.Z,a()(a()({},q),{},{popoverLayout:!0,liked:E,totalNoteCount:P,onClose:this.toggleNotesPopover,onTipButtonClick:H?this.onTipButtonClick:void 0,pinPreviewNote:n}));return w?(0,A.jsxs)("div",{children:[U,t&&(0,A.jsx)(d.Z,{onGlassClick:this.toggleNotesPopover,topOffset:th.mobileHeaderHeight,children:G})]}):(0,A.jsx)(p.ZP,{closeForAllExternalClicks:!0,isOpen:t,toggle:this.toggleNotes,position:(0,F.lc)(x.pathname)?eG.I2.Right:eG.I2.Auto,width:320,height:510,component:G,outsideToggleRefs:[this.previewNoteRef,this.replyButtonRef],showOverflowY:!0,usePortals:!0,children:U})}),i()(this,"sendAPostContent",()=>{var e=this.state.sendAPostPopoverIsOpen,t=this.props,s=t.appContext._t,o=t.postContext,i=o.post,n=i.blog,a=i.id,l=i.slug,r=i.shortUrl,c=i.embedUrl,u=i.placementId,h=i.earnedId,m=i.canSendInMessage,g=i.postUrl,v=i.community,b=o.presentationStyle.hasCustomPostLink,x=t.location.pathname,f=t.deviceContext.isMobile,C=this.getAdjustedForegroundColor(),w=v?g:(0,tu.b)(n.name,a,l),y=b?`${to.Cw}${x}`:w,j=b?`${to.Cw}${x}`:r;return f?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(e7.Z,{disabled:!m,onClick:this.toggleSendAPostPopover,color:C}),e&&(0,A.jsx)(d.Z,{onGlassClick:this.toggleSendAPostPopover,topOffset:th.mobileHeaderHeight,children:(0,A.jsx)(O.Z,{blog:n,id:a,shortUrl:j,postUrl:y,slug:l,embedUrl:c,isMobile:!0,close:this.toggleSendAPostPopover,placementId:u,earnedId:h,asText:b})})]}):(0,A.jsx)(p.ZP,{width:340,height:"auto",isOpen:e,toggle:this.toggleSendAPostPopover,showOverflowY:!0,usePortals:!0,targetStyles:{verticalAlign:"middle"},position:eG.I2.AutoStart,component:(0,A.jsx)(O.Z,{blog:n,id:a,shortUrl:j,postUrl:y,slug:l,embedUrl:c,placementId:u,earnedId:h,asText:b}),children:tD((0,A.jsx)(e7.Z,{disabled:!m,onClick:this.toggleSendAPostPopover,color:C}),{content:s("Share"),position:eG.I2.Top})})}),i()(this,"getAdjustedForegroundColor",()=>{var e=this.props,t=e.isPaywallShown,s=e.postContext.post.blog,o=((null==s?void 0:s.theme)||{}).backgroundColor;return t?(0,tm.YK)(o||I().blogBackgroundColor):void 0}),i()(this,"togglePostActivity",e=>{var t=window.scrollY;this.setState(t=>({postActivityIsOpen:t.postActivityIsOpen,postActivityTyp})}),i()(this,"toggleTipping",()==>{this.setState(e=>({tippingPopoverIsOpen:!e.tippingPopoverIsOpen}))}),i()(this,"onTipButtonClick",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=t.props,o=s.isNarrow,i=s.appContext._c,n=s.postContext.post,a=n.id,l=n.blog.isMember,r=s.toastContext.toggleToast,d=s.logEvent;if(l){r((0,eX.iI)(i),"tumblrbot",`post-${a}`);return}t.setState({replyText:e,notesPopoverIsOpen:!1}),o?t.toggleTippingPopover():t.toggleTipping(),d({eventName:x.J.TipPostTap})}),i()(this,"tippingContent",()=>{var e=this.props.postContext,t=e.post,s=t.id,o=t.blog,i=this.state,n=i.tippingPopoverIsOpen,a=i.replyText,l=(0,tL.x)(e).canDoReply;return(0,A.jsx)(p.ZP,{width:tn.OH,height:tn.u5,closeForAllExternalClicks:!0,position:eG.I2.AutoStart,isOpen:n,toggle:this.onTipButtonClick,showOverflowY:!0,useFlex:!0,usePortals:!0,component:(0,A.jsx)(te.Z,{onClose:this.onTipButtonClick,blogname:o.name,postId:s,canDoReply:!!l,replyText:a}),children:(0,A.jsx)(e8.Z,{onClick:this.onTipButtonClick})})});var t,s=this.props.postContext,o=s.post,n=o.noteCount,l=o.community,u=s.presentationStyle.expandNotesOnMount,m=!!((n||l)&&u);this.state={ignitePopoverIsOpen:!1,notesPopoverIsOpen:!1,sendAPostPopoverIsOpen:!1,focusNotePopoverTextareaOnMount:!1,showDeleteDialog:!1,likeChanged:!1,focusReplyOnMount:!1,notesOpenedFromReply:!1,tippingPopoverIsOpen:!1,postActivityIsOpen:m,postActivityTypeToOpen:m?"notes":null,postActivityPinPreviewNote:!1,replyText:""},m&&this.logOpenNotesAnalyticsEvents()}render(){var e=this.props,t=e.appContext,s=t._t,o=t.features.tumblrIgnite,i=e.timelineContext.onRemoveTimelineObject,n=e.postContext,l=n.presentationStyle.showsDeleteButton,d=n.presentationStyle,c=n.post,p=c.id,h=c.canDelete,m=c.previewNote,g=n.isNarrow,v=this.state,b=v.postActivityIsOpen,x=v.ignitePopoverIsOpen;"production"===ts.Z.Development&&h&&l&&!i&&console.warn(`The post ${p} can be deleted but has no onRemoveTimelineObject handler. This can cause the UI to get out of date with the delete state of the post.`);var f=this.getAdjustedForegroundColor(),C=f?{color:f}:null,w=d===tp.Z.radar||d===tp.Z.radarWithTimestamp;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("footer",a()(a()({role:"contentinfo","aria-label":s("Post Footer"),className:tR.footer},C&&{style:C}),{},{children:[this.getTopRow(),this.getBottomRow(),!w&&m&&!b&&(0,A.jsx)("div",{className:tR.notesPreviewContainer,children:(0,A.jsx)(L,{note:m,noteRef:this.previewNoteRef,onClickNote:this.onNotesPreviewNoteClick})}),!g&&(0,A.jsx)("div",{className:r()(tR.postActivityWrapper,{[tR.postActivityWrapperOpen]:b}),onTransitionEnd:this.onPostActivityTransitionEnd,children:b&&this.postActivityContent()})]})),o&&(0,A.jsx)(u.ZP,{productPopoverIsOpen:x,toggleProductPopover:this.toggleIgniteProductPopover})]})}}i()(tO,"defaultProps",{isNarrow:!1});var tz=e=>{var t=e.children,s=e.className;return(0,A.jsx)("div",{className:r()(tR.controlIcon,s),children:t})};let tF=(0,tg.Z)(e=>{var t=(0,f.bp)(),s=(0,ta.b)(),o=(0,eJ.iv)(),i=(0,eq.v$)(),n=(0,tl.h)(),l=(0,tr.M)(),r=(0,ed.uu)(),d=(0,td.D)(),c=(0,H.i)(),u=(0,ec.V)(),p=(0,M.wL)();return(0,A.jsx)(tO,a()({appContext:t,adContext:s,dashboardContext:o,deviceContext:i,loginContext:n,paletteContext:l,postContext:r,postSlotsContext:d,timelineContext:c,toastContext:u,logEvent:p.logEvent},e))})},46154:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var o=s(54382),i=s(5700);let n={gifAttribution:"If3QZ"};var a=s(2629);let l=function(e){var t=e.attribution;if((0,i.yw)(t)){var s=t.url,l=t.blog.name;return(0,a.jsx)("div",{className:n.gifAttribution,"data-attribution":"true",children:(0,a.jsx)("a",{href:s,target:"_blank",rel:"noopener",children:(0,a.jsx)(o.ZP,{params:{blogName:l},components:{strong:(0,a.jsx)("strong",{})},children:"GIF by [strong][blogName][/strong]"})})})}return null}},29933:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>O,XK:()=>D});var o=s(5754),i=s.n(o),n=s(14144),a=s(5700),l=s(68859),r=s(54138),d=s.n(r),c=s(50209),u=s.n(c),p=s(95004),h=s(44009),m=s(10490),g=s(96977),v=s(35665),b=s(25190),x=s(59215),f=s(63583),C=s.n(f),w=s(96467),y=s.n(w);let j={nativePlayer:"VpTnv",progress:"iFok_",withImage:"GR0kA",seeking:"bgpDC",wrapper:"vP7cO",playPause:"zwgHD",trackInfo:"ZVJh0",trackTitle:"Lshd2",trackArtist:"LKThX",trackAlbum:"OKWej",albumImage:"Zz9Fz"};var k=s(2629);class N extends p.Component{constructor(){super(...arguments),u()(this,"state",{isPlaying:!1,seekingBarWidth:0,isDragging:!1}),u()(this,"onTimeUpdate",()=>{if(this.progress&&this.audioEl){var e=this.progress.clientWidth,t=this.audioEl.duration,s=this.audioEl.currentTime;this.setState({seekingBarWidth:Math.round(s/t*e)})}}),u()(this,"onEnded",()=>{this.setState({isPlaying:!1,seekingBarWidth:0}),this.audioEl&&(this.audioEl.currentTime=0)}),u()(this,"handlePlayButtonClick",()=>this.setState(e=>({isPlaying:!e.isPlaying}))),u()(this,"onTouchStart",e=>{this.state.isPlaying&&this.touchHandler(e)}),u()(this,"onTouchEndMouseUp()}),u()(th()(this,"onMouseMove",e=>{this.state.isDragging&&this.mouseHandler(e)}),u()(this,"onMouseDown",()=>{this.setState({isDragging:!0,isPlaying:!1})}),u()(this,"onMouseUp",()=>{this.handleTouchEndMouseUp()}),u()(this,"handleTouchEndMouseUp",()=>{this.setState({isDragging:!1,isPlaying:!0})}),u()(this,"touchHandler",e=>{var t=e.changedTouches[0].clientX,s=e.currentTarget;this.updateSeekBarPositionWithEvent(t,s)}),u()(this,"mouseHandler",e=>{var t=e.clientX,s=e.currentTarget;this.updateSeekBarPositionWithEvent(t,s)}),u()(this,"updateSeekBarPositionWithEvent",(e,t)=>{if(this.audioEl&&this.progress){var s,o=(null===(s=t.firstElementChild)||void 0===s?void 0:s.getBoundingClientRect().left)||0,i=this.audioEl.duration,n=this.progress.clientWidth,a=i/n*(e-o),l=Math.round(a/i*n);l<=n&&this.setState({seekingBarWidth:l}),this.audioEl.currentTime=a}}),u()(this,"playAudio",()=>{var "stopAudio",()=>{var e;null===(e=this.audioEl)||void 0===e||e.pause()})}componentDidUpdate(e,t){var s,o;null===(s=(o=this.props.autoDockContext).setComponentToAutoDock)||void 0===s||s.call(o,this.state.isPlaying),t.isPlaying!==this.state.isPlaying&&(this.state.isPlaying?this.playAudio():this.stopAudio()),e.isDocked&&!this.props.isDocked&&this.setState({isPlaying:!1})}render(){var e=this.props.appContext._c,t=`${j.progress} ${this.props.poster?j.withImage:""}`,s=this.state.isPlaying?e("Pause the currently playing audio file for this block","Pause"):e("Play the audio file for this block","Play"),o={onTouchStart:this.onTouchStart,onTouchMove:this.touchHandler,onTouchEnd:this.onTouchEnd},i={onClick:this.onProgressClick,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp};return(0,k.jsxs)("div",{className:j.nativePlayer,children:[(0,k.jsx)(b.ZP,{children:s=>{var n,a,l=s.isMobile;return(0,k.jsx)("div",d()(d()({},l?o:i),{},{className:t,ref:e=>this.progress=e,role:"slider","aria-label":e("The label used to describe the audio block controls","Audio Player"),"aria-valuemin":0,"aria-valuemax":null===(n=this.audioEl)||void 0===n?void 0:n.duration,"aria-valuenow":null===(a=this.audioEl)||void 0===a?void 0:a.currentTime,children:(0,k.jsx)("div",{className:j.seeking,ref:e=>this.seeking=e,style:{width:`${this.state.seekingBarWidth}px`}})}))}}),(0,k.jsxs)("div",{className:j.wrapper,children:[(0,k.jsx)(h.Z,{label:s,title:s,className:j.playPause,onClick:this.handlePlayButtonClick,type:"button","aria-pressed":this.state.isPlaying,children:this.state.isPlaying?(0,k.jsx)(m.Z,{colors:{primary:C().paletteWhite}}):(0,k.jsx)(g.Z,{cropped:!0,colors:{primary:C().paletteWhite},size:{width:24,height:24}})}),(0,k.jsxs)("div",{className:j.trackInfo,children:[this.props.trackInfo.title&&(0,k.jsx)("div",{className:j.trackTitle,children:this.props.trackInfo.title}),this.props.trackInfo.artist&&(0,k.jsx)("div",{className:j.trackArtist,children:this.props.trackInfo.artist}),this.props.trackInfo.album&&(0,k.jsx)("div",{className:j.trackAlbum,children:this.props.trackInfo.album})]}),(0,k.jsx)("audio",{preload:"auto",style:j,ref:e=>this.audioEl=e,onTimeUpdate:this.onTimeUpdate,onEnded:this.onEnded,title:this.props.trackInfo.title,crossOrigin:"anonymous",children:(0,k.jsx)("source",{className:"audio-source",src:this.props.src})}),this.props.poster?(0,k.jsx)("div",{className:j.albumImage,children:(0,k.jsx)(v.Z,{imageResponse:this.props.poster,sizes:`${y().audioPostAlbumCoverWidth}px`})}):null]})]})}}let P=(0,x.X9)(N,{appContext:!0,autoDockContext:!0}),S={embedWrapper:"BIsI3",embedSpotifyWrapper:"OHDdK",compact:"KilfT",spotifyPodcast:"SDYOz",embedSoundcloudWrapper:"zZeJN",embedBandcampWrapper:"t69by",audioBlock:"Z6JVM",embedIframe:"no7Dd",urlOnlyAudioBlock:"sl8DM"};var I=function(e){var t,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return void 0!==e.media&&"tumblr"===e.provider&&(s||(0,l.Z)(null===(t=e.media)||void 0===t?void 0:t.url))},T=e=>e.provider===a.nY.Spotify,A=e=>{var t,s;return T(e)&&!!(null!==(t=e.url)&&void 0!==t&&t.includes("/episode/")||null!==(s=e.url)&&void 0!==s&&s.includes("/show/"))},B=e=>e.provider===a.nY.Soundcloud,Z=e=>e.provider===a.nY.Bandcamp,E=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!I(e,t)&&!!e.embedUrl&&(T(e)||Z(e)||B(e))},M=(e,t,s,o)=>(0,k.jsx)(P,{poster:s,trackInfo:t,src:e.url,isDocked:o}),L=(e,t,s)=>(0,k.jsx)(n.Z,{wrapperClassName:i()(S.embedWrapper,t),children:(0,k.jsx)("iframe",{title:s,className:S.embedIframe,src:e,frameBorder:"0"})}),R=(e,t,s,o)=>{var i,n=e.title,a=e.artist,l=e.album,r=e.poster,d=e.url;if(I(e,o))return M(e.media,{title:n,artist:a,album:l},r,s);if(E(e,o))return L(e.embedUrl,t,n);var c=d||(null===(i=e.media)||void 0===i?void 0:i.url);return c?(0,k.jsx)("a",{className:S.urlOnlyAudioBlock,rel:"noopener noreferrer",children:c}):null},D=e=>!I(e)&&!T(e)&&!E(e);let O=e=>{var t=e.block,s=e.isDocked,o=e.showsMediaCompact,n=e.isEditing,a=i()({[S.compact]:!!s||void 0!==o&&o,[S.embedSpotifyWrapper]:T(t),[S.spotifyPodcast]:A(t),[S.embedSoundcloudWrapper]:E(t)&&B(t),[S.embedBandcampWrapper]:E(t)&&Z(t)});return(0,k.jsx)("div",{className:i()(S.audioBlock,a),children:R(t,a,s,void 0!==n&&n)})}},76776:(e,t,s)=>{"use strict";s.d(t,{i:()=>eJ,Z:()=>eX});var o=s(34728),i=s(54138),n=s.n(i),a=s(17276),l=s.n(a),r=s(33970),d=s.n(r),c=s(5754),u=s.n(c),p=s(95004),h=s(98384),m=s(38149),g=s(94156),v=s(53714),b=s(46154),x=s(54382),f=s(43523),C=s(43684),w=s(5700),y=s(31679),j=s(78667),k=s(22424),N=s(43166);function P(e){try{var t=new URL(e);return"https:"===t.protocol||"http:"===t.protocol}catch(e){return!1}}var S=s(68346),I=s(55855),T=s(22527),A=s(96488),B=s(63583),Z=s.n(B),E=s(96467);let M={imageBlock:"DdFPj",unstretched:"jWulj",imageBlockLightbox:"seYEy",altTextHelper:"Dt_Mi",altTextPopupWrapper:"od3k_",altTextPopup:"CdvbL",popupArrow:"POhPp",imageBlockGifAttribution:"NDQyX",imageBlockLink:"Pr7R3",attribution:"eqBap",attributionText:"tGxQL",attributionIcon:"x3zpc",attributionUnstretched:"k8FXT"};var L=s(2629),R=(e,t)=>{if(1===e)return t;var s=t.match(/[0-9]+/g);if(!s)return t;var o=s[0],i=parseInt(o,10);return t.replace(o,`${Math.round(i*e*100)/100}`)};let D=e=>{var t,s,o,i=e.block,a=e.displayAtOriginalSize,r=(0,N.uu)(),c=i.media,B=i.attribution,D=i.colors,O=i.altText,z=i.caption,F=i.imageScale,V=void 0===F?1:F,_=i.isBlurredImages,H=i.clickthrough,W=r!==N.Nw,U=W?r.post.actions:void 0,q=r.presentationStyle,G=q.mobilePostWidth,$=q.desktopPostWidth,Q=q.showsPostAttributionLink,J=(0,j.bp)(),X=J._t,Y=J._c,K=J.isLoggedIn,ee=(0,k.wL)().logEvent,et=(0,y.b)(),es=et.adPlacementConfiguration,eo=et.hydraConfigInstanceId;if(G){var ei=R(V,G);s=[`(max-width: ${E.phonsiveMaxBreakpoint}px)`,ei].join(" ")}var en=[s,R(V,$)].filter(e=>!!e).join(", "),ea=W&&!K?{"data-login-wall-type":"blogView","data-login-wall-title":Y("Login wall: Title shown when user clicks on a blog or image after exceeding click counter limit","Seems we're out of free samples."),"data-login-wall-text":Y("Login wall: Text shown when user clicks on a blog or image after exceeding click counter limit","But there's good news. Get free samples from now until, well, the ends of time itself by signing up for Tumblr and getting unlimited access not just to this blog, but countless others like it."),"data-login-wall-blog-name":r.post.blogName,"data-login-wall-post-id":r.post.id,"data-login-wall-post-slug":r.post.slug,"data-login-wall-redirect":"/dashboard"}:{},el=(0,p.useState)(!1),er=d()(el,2),ed=er[0],ec=er[1],eu=()=>{if(O&&O!==X("Image")&&"image"!==O)return(0,L.jsx)(v.ZP,{hasArrow:!0,isChromeless:!0,arrowWrapperClassName:M.popupArrow,popoverWrapperClassName:M.altTextPopupWrapper,component:(0,L.jsxs)("div",{className:M.altTextPopup,children:[(0,L.jsx)("h2",{children:(0,L.jsx)(x.ZP,{children:"Image Description"})}),null==O?void 0:O.split("\n").map((e,t)=>(0,L.jsxs)("span",{children:[e,(0,L.jsx)("br",{})]},t))]}),position:C.I2.BottomStart,isOpen:ed,toggle:null,skipClickToOpen:!0,skipClickToClose:!0,closeForAllExternalClicks:!0,isFlipEnabled:!1,useFlex:!0,targetStyles:{marginLeft:"20px",width:"40px"},positionBasedOffsetModifiers:{[C.I2.Bottom]:{left:-20,top:0}},straTextHelper,onClick:e=>{e.preventDefault(),e.stopPropagation(),ec(!ed)},onKeyDown:e=>{["Enter"," "].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),ec(!ed)),ed&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),ec(!1))},role:"button",tabIndex:0,children:"ALT"})})},ep=(0,L.jsxs)("figure",n()(n()({className:M.imageBlock},ea),{},{onBlur:e=>l()().async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l()().awrap((0,A.Z)(e));case 2:t.sent||ec(!1);case 4:case"end":return t.stop()}},null,null,null,Promise),children:[(0,L.jsx)(m.pC,{imageResponse:c,colors:D,altText:O,sizes:en,isBlurredImages:_}),eu()]})),eh=e=>{var t;ee({eventName:e,eventDetails:n()({placement_id:null==r||null===(t=r.post)||void 0===t?void 0:t.placementId},(0,I.U)({adPlacementConfiguration:es,hydraConfigInstanceId:eo,timelineObject:null==r?void 0:r.post}))})},emto),eh(f.J.PhotoClickThrough)},eg=()=>{eh(f.J.WrittenUrlClickThrough)},ev=(0,T.d)(U),eb=(null==H?void 0:H.webUrl)||(null==ev?void 0:ev.tspSkipLightbox)&&(null==ev?void 0:ev.urls.web),ex=eb?(0,L.jsx)("a",n()(n()({className:M.imageBlock,href:eb,target:"_blank",rel:"noopener"},!(null!=H&&H.webUrl)&&{onClick:em}),{},{children:ep})):(0,L.jsx)(g.Z,{className:M.imageBlockLightbox,imageResponse:c,altText:O,caption:z,children:ep}),ef=new S.Z(c),eC=ef.getLargestImage(),ew=null===(t=r.presentationStyle.showsSmallImagesAtOriginalWidth)||void 0===t||t;if(!(0,w.yw)(B)&&eC&&ew&&(void 0===a||a)&&eC.width<E.smallImagePostBreakpoint&&eC.height<2*E.smallImagePostBreakpoint&&(o=eC.width,ep=(0,L.jsxs)("figure",{className:u()(M.imageBlock,M.unstretched),style:{width:o},children:[(0,L.jsx)(m.pC,{imageResponse:ef.getImagesArrayWithoutCroppedImage(),colors:D,altText:O,sizes:`${o}px`,isBlurredImages:_}),eu()]}),ex=eb?(0,L.jsx)("a",n()(n()({className:M.imageBlock,href:eb,target:"_blank",rel:"noopener"},!(null!=H&&H.webUrl)&&{onClick:em}),{},{children:ep})):ep),B&&B.url&&P(B.url)&&Q){if((0,w.yw)(B))return(0,L.jsxs)("div",{className:M.imageBlockGifAttribution,children:[ex,(0,L.jsx)(b.Z,{attribution:B})]});var ey=B.url;if((0,w.Jr)(B)){var ej=B.displayText;return(0,L.jsxs)("div",{className:M.imageBlockLink,children:[ex,(0,L.jsxs)("a",{"aria-label":X("Attribution"),href:ey,target:"_blank",rel:"noopener",style:{width:o},className:u()(M.attribution,{[M.attributionUnstretched]:!!o}),onClick:eg,children:[(0,L.jsx)("div",{className:M.attributionText,children:ej}),(0,L.jsx)("div",{className:M.attributionIcon,children:(0,L.jsx)(h.iL,{size:{width:14,height:14},colors:{primary:Z().paletteGray40}})})]})]})}var ek=B.urlRedirect||ey,eN=ek&&P(ek)?ek:"",eP=new URL(ey||"").hostname;return(0,L.jsxs)("div",{className:M.imageBlockLink,children:[ex,(0,L.jsxs)("a",{href:eN,target:"_blank",rel:"noopener",style:{width:o},className:u()(M.attribution,{[M.attributionUnstretched]:!!o}),onClick:eg,children:[(0,L.jsx)("div",{className:M.attributionText,children:eP}),(0,L.jsx)("div",{className:M.attributionIcon,children:(0,L.jsx)(h.iL,{size:{width:14,height:14},colors:{primary:Z().paletteGray40}})})]})]})}return ex};var O=s(66058);let z=function(e){var t=e.block,s=t.url,o=t.displayUrl,i=t.title,n=t.description,a=t.author,l=t.poster,r=t.siteName;return(0,L.jsx)("div",{className:"zR66v",children:(0,L.jsx)(O.Z,{urls:{displayUrl:o,redirectUrl:s},info:{title:i,description:n,author:a,poster:l,siteName:r}})})};var F=s(76319),V=s(55673),_=s(97013),H=s(26187),W=s(2474),U=(0,L.jsx)("div",{className:"rjayT",children:(0,L.jsx)(W.Ii,{size:{width:15,height:15}})}),q=(0,L.jsx)("div",{className:"qos2S"});let G=()=>(0,L.jsxs)("div",{className:"q9Ryt",children:[q,U,(0,L.jsx)("div",{children:(0,L.jsx)(x.ZP,{comment:"The text for the 'teaser line' that separates the free content from the membership-only content",children:"Teaser"})}),U,q]});var $=s(34438),Q=s(52153),J=s(12736),X=s(93099),Y=s(12885),K=s(70505);let ee={paywallWrapper:"aU80z",isRenderedInPeepr:"nW3UY",isReblog:"hTKrt",header:"IfJLc",title:"FjdIX",text:"ZaZiD",actions:"cUWEe",checkout:"pKFYc"},et=function(e){var t,s=e.block,o=(0,j.bp)(),i=o.features.paywallConsumption,n=o.wwwBaseUrl,a=(0,J.z)().isPeeprShowing,l=(0,N.I_)(),r=null==l?void 0:l.post,d=s.title,c=s.text,p=s.blog,h=s.subtype;if(!p)return null;var m=p.subscriptionPlan,g=p.name,v=p.isPaywallOn,b=p.paywallAccess,x=p.theme||{},f=x.titleFont,C=x.titleFontWeight,y=x.linkColor,k=x.backgroundColor,P=(0,K.YK)(k||Z().blogBackgroundColor);if(!i)return null;if(h===w.br.Divider)return b===Q.bv.Creator?(0,L.jsx)(G,{}):null;if(h===w.br.Disabled&&b!==Q.bv.Disabled||b!==Q.bv.Disabled&&(!m||!v))return null;var S=h===w.br.Cta,I=(0,X.Z)($.u2,{peeprBlogname:null!==(t=null==p?void 0:p.name)&&void 0!==t?t:""}),T=null==l?void 0:l.presentationStyle.useExternalLinks,A=S?(0,F.Z)({mixedString:c.replace(/%s/,"{{blogName /}}"),components:{blogName:(0,L.jsx)("strong",{children:g})}}):(0,F.Z)({mixedString:c.replace(/%s/,"{{blogName /}}"),components:{blogName:T?(0,L.jsx)("a",{href:`${n}${I}`,target:"_blank",rel:"noopener",children:g}):(0,L.jsx)(V.rU,{to:I,children:g})}});return(0,L.jsxs)("div",{className:u()(ee.paywallWrapper,{[ee.isRenderedInPeepr]:a,[ee.isReblog]:(null==r?void 0:r.rebloggedFromId)!==void 0}),style:(0,Y.Z)(p),children:[(0,L.jsxs)("div",{className:ee.header,children:[S&&(0,L.jsx)(_.Z,{colors:{primary:y},size:{width:36,height:36}}),(0,L.jsx)("span",{className:ee.title,style:{fontFamily:`'${f}'`,fontWeight:"bold"===C?"bold":"normal"},children:d})]}),(0,L.jsx)("div",{className:ee.text,style:{color:P},children:A}),S&&(0,L.jsx)("div",{className:ee.actions,children:(0,L.jsx)(H.Z,{className:ee.checkout,blog:p,postId:null==r?void 0:r.id,plan:m,useBlogColors:!0,context:Q.Xh.Post,useExternalLink:T})})]})};var es=s(77865),eo=s(6135),ei=s(33590),en=s(94833),ea=s(91253),el=s(47186),er=(0,ea.i)(en.z.object({results:(0,el.M)(en.zrVotes:en.z.array(en.z.string()).optional()})).transform(e=>e.response);function ed(e,t,s){return["poll-results",{blogName:e,postId:t,pollId:s}]}let ec=e=>{var t=e.blogName,s=e.enabled,o=e.pollId,i=e.postId,a=e.isClosed,l=(0,j.bp)().apiFetchWithSchema;return(0,ei.a)(n()({queryKey:ed(t,i,o),queryFn:()=>l(`/v2/polls/${t}/${i}/${o}/results`,er,{schemaErrorPrintFullResponse:!0}),enabled:s,refetchOnWindowFocus:!1},a&&{staleTime:1/0}))};var eu=s(93799),ep=s(58849),eh=s(93613),em=s(45222),eg=s(44009),ev=s(32415),eb=s(37236);let ex={pollBlock:"oXROo",loader:"BCfLs",pollQuestion:"iLvsm",pollAnswer:"GhhyY",vote:"SHz7w",pollAnswerText:"VVJno",unpublished:"EMkTm",results:"Lu7CU",pollAnswerProgressBar:"D63Wc",highlight:"Fs5NP",pollAnswerAvatar:"MROL0",pollAnswerPercentage:"ACLdV",pollSummary:"SqYOv",forceBlogTheme:"ibcjV",inPostEditor:"WoipV"};var ef=e=>{var t,s=e.answer,o=e.isFinal,i=e.isTopResult,n=e.onSelect,a=e.selected,l=e.percentage,r=e.view,d=(0,ev.Pc)().data,c=null==d||null===(t=d.user)||void 0===t||null===(t=t.blogs)||void 0===t?void 0:t[0].avatar,p=u()(ex.pollAnswer,{[ex.results]:"results"===r,[ex.vote]:"vote"===r,[ex.unpublished]:"unpublished"===r,[ex.highlight]:o&&i});if("results"===r){var h=u()(ex.pollAnswerProgressBar,{[ex.pending]:!o});return(0,L.jsxs)("div",{className:p,"data-testid":"poll-answer",children:[(0,L.jsx)("div",{className:h,style:{width:`${l}%`,borderRadius:100===l?"8px":"8px 0 0 8px"}}),(0,L.jsx)("span",{className:ex.pollAnswerText,children:s.answerText}),a&&c&&(0,L.jsx)("span",{className:ex.pollAnswerAvatar,children:(0,L.jsx)(em.Z,{dimension:24,imageResponse:c,avatarShape:eb.o.Square,showBlogCard:!1,isLink:!1})}),(0,L.jsx)("span",{className:ex.pollAnswerPercentage,children:`${l>0&&l<.1?"<0.1":Math.round(10*l)/10}%`})]})}return(0,L.jsx)(eg.Z,{wrapperClassName:p,className:ex.pollAnswerText,label:s.answerText,onClick:()=>n(s),disabled:"loading"===r,children:s.answerText})},eC=s(78994),ew=s(42946),ey=s(84961),ej=s(86033),ek=e=>!!e.answers&&e.answers.length>=2,eN=e=>{if(!e.settings||e.settings.closeStatus!==w.L8.CLOSE_AFTER)return!1;if(e.timestamp&&e.settings.expireAfter)try{var t=(e.timestamp+e.settings.expireAfter)*1e3;return new Date(t)<=new Date}catch(e){return!1}return!0},eP=()=>{var e=(0,j.bp)().getUserInfo,t=(0,J.z)().isPeeprShowing,s=(0,p.useState)(!1),o=d()(s,2),i=o[).Z)(e());return t.then(e=>{n(!!e.viewWithBlogTheme)}),()=>{t.cancel()}},[e]),!!t&&!!i},eS=()=>{var e=(0,N.I_)(),t=(0,ey.L)(),s=(0,eC.UO)(),o=null==e?void 0:e.post,i=null==t?void 0:t.note;return null!=i&&i.blogName&&null!=i&&i.postId?[i.blogName,i.postId]:null!=o&&o.blogName&&null!=o&&o.id?[o.blogName,o.id]:[s.blogName||"",s.postId||""]},eI=(e,t,s,o)=>{var i=o._c,n=o._cn,a=e+s-t;if(a===ew.y.Week)return i("Relative time to show on a poll which just been created","6 days 23 hours");if(a>ew.y.Day){var l=Math.floor(a/ew.y.Day),r=Math.floor((a-l*ew.y.Day)/ew.y.Hour);if(0===r&&l<=1)return i("Relative time to show on a poll expires in less than 1 day","less than 24 hours");var d=n("Relative day string to show on a poll expires in 1 week","%1$s day","%1$s days",l),c=n("Relative hour string to show on a poll expires in 1 week","%1$s hour","%1$s hours",r);return 0!==r?`${d} ${c}`:d}var u=Math.floor(a/ew.y.Hour),p=Math.floor((a-u*ew.y.Hour)/ew.y.Minute),h=n("Relative hour string to show on a poll expires in 1 day","%1$s hour","%1$s hours",u),m=n("Relative minute string to show on a poll expires in 1 day","%1$s minute","%1$s minutes",p);return u&&p?`${h} ${m}`:u&&!p?h:!u&&p?m:i("Relative time to show on a poll expires in less than 1 minute","less than 1 minute")},eT=s(46244);let eA=e=>{var t=e.blogName,s=e.pollId,o=e.postId,i=(0,j.bp)().apiFetch;return(0,eT.D)({mutationFn:e=>i(`/v2/polls/${t}/${o}/${s}`,{method:"POST",body:{selected:[e]}})})};var eB=s(55015);let eZ=e=>{var t,s,o,i=e.block,a=(0,p.useState)("loading"),l=d()(a,2),r=l[0],c=l[1],h=(0,j.bp)(),m=h._c,g=h._cn,v=h.isLoggedIn,b=h.wwwBaseUrl,x=(0,ep.h)().openLoginWall,f=(0,N.I_)(),C=eP(),y=eS(),k=d()(y,2),P=k[0],S=k[1],I=(0,eh.V)().toggleToast,T=null==f?void 0:f.post,A=T?T.state:void 0,Z=A!==w.hA.Draft&&A!==w.hA.Queued&&A!==w.hA.Submission,E=(0,es.NL)(),M=ec({blogName:P,enabled:ek(i)&&Z,pollId:i.clientId,postId:S,isClosed:eN(i)}),R=M.data,D=M.error,O=M.isFetched,z=M.refetch,F=eA({blogName:P,pollId:i.clientId,postId:S}).mutate;(0,p.useEffect)(()=>{if(ek(i)&&!Z){c("unpublished");return}},[]),(0,p.useEffect)(()=>{O&&c(D?"vote":eN(i)||null!=R&&R.userVotes&&(null==R?void 0:R.userVotes.length)>0?"results":"vote")},[i,null==R?void 0:R.userVotes,D,O]);var V=e=>{if(T){if(!v){(null==f?void 0:f.presentationStyle)===eB.Z.embed?window.open(`${b}${(0,$.SS)({peeprBlogname:P,peeprPostId:null==S?void 0:S.toString(),peeprPostSlug:null==T?void 0:T.slug})}`):x({redirect:(0,$.SS)({peeprBlogname:P,peeprPostId:null==S?void 0:S.toString(),peeprPostSlug:T.slug})});return}var t=ed(P,S,i.clientId),s=E.getQueryData(t);E.setQueryData(t,{results:n()(n()({},null==s?void 0:s.results),{},{[e.clientId]:((null==s?void 0:s.results[e.clientId])||0)+1}),userVotes:[e.clientId]}),c("results"),F(e.client({queryKey:t}),e.detailedErrors.some(e=>e.code===eu.Z.VoteAlreadyVoted)?(I(m("Error message shown when a user is voting on the same poll more than once","You have already voted on this poll!"),"error"),z()):eN(i)||c("vote")}})}},_=(null==R?void 0:R.results)||{},H=(null==R?void 0:R.userVotes)||[],W="resulh.max(...Object.values(_)):void 0,U=Object.values(_).reduce((e,t)=>e+t,0),q=eN(i),G="unpublished"===r?m("Message displayed when a the poll is in a draft/queued/submission post","The poll will be active once you publish the post."):q?g("Describes the final result for a poll","Final result from %1$s vote","Final result from %1$s votes",U):g("Number of votes","%1$s vote","%1$s votes",U)+(i.timestamp&&null!==(t=i.settings)&&void 0!==t&&t.expireAfter?" • "+m("Indicated how much time is left before a poll closes","Remaining time: %1$s",[eI(i.timestamp,Math.round(Date.now()/1e3),null===(s=i.settings)||void 0===s?void 0:s.expireAfter,{_c:m,_cn:g})]):"");return ek(i)?"loading"===r?(0,L.jsx)("div",{className:ex.loader,children:(0,L.jsx)(eo.Z,{small:!0,color:B.paletteGray65,centerOrientation:"horizontalAndVertical"})}):(0,L.jsxs)("div",{className:u()(ex.pollBlock,{[ex.forceBlogTheme]:C,[ex.inPostEditor]:!T}),"data-attribution":"poll-block",children:[(0,L.jsx)("div",{className:ex.pollQuestion,children:i.question}),null===(o=i.answers)||void 0===o?void 0:o.map(e=>{var t=0===U||void 0===_[e.clientId]?0:_[e.clientId]/U*100;return(0,L.jsx)(ef,{answer:e,onSelect:V,selected:H.indexOf(e.clientId)>=0,percentage:t,isFinal:q,isTopResult:_[e.clientId]===W,view:r},`answer-${e.clientId}`)}),(0,L.jsx)("div",{className:ex.pollSummary,children:G})]}):null};var eE=s(50209),eM=s.n(eE),eL=s(9041),eR=s(65),eD=s(47339),eO=s(59215),ez=s(71969);class eF extends p.Component{constructor(){var e;super(...arguments),e=this,eM()(this,"state",{shouldAutoDock:!1,alwaysAutoDock:!1,mediaSize:{width:0,height:0}}),eMdiaManager",new eD.R),eM()(this,"setMediaWrapper",e=>this.mediaWrapper=e),eM()(this,"updateMediaSize",()=>{if(this.mediaWrapper&&!this.currentPostIsDocked()){var e=this.mediaWrapper.offsetWidth,t=this.mediaWrapper.offsetHeight;(e!==this.state.mediaSize.width||t!==this.state.mediaSize.height)&&this.setState({mediaSize:{width:e,height:t}})}}),eM()(this,"currentPostIsDocked",()=>{var e;return this.mediaIsDockable()&&!!this.props.dockableContext.reparentableMediaManager&&this.reparentableMediaManager.id===(null===(e=this.props.dockableContext.reparentableMediaManager)||void 0===e?void 0:e.id)}),eM()(this,"dockMedia",e=>{this.updateMediaSize(),this.props.dockableContext.dock({isAutoDock:e,dockedTimelineObject:this.getTimelineObject(),reparentableMediaManager:this.reparentableMediaManager,canAutoDock:this.state.alwaysAutoDock,timelineContext:this.props.timelineContext}),this.reparentableMediaManager.isReparented=!0}),eM()(this,"getTimelineObject",()=>n()(n()({},this.pr:[]})),eM()(this,"undockMedia",()=>{this.props.dockableContext.undock()}),eM()(this,"setComponentToAutoDock",function(t){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.mediaIsDockable()&&e.state.shouldAutoDock!==t&&e.setState({shouldAutoDock:t,alwaysAutoDock:s})}),eM()(this,"autoDock",e=>{this.mediaIsDockable()&&this.stkable",()=>this.props.postContext.presentationStyle.showsDockMediaBut(){this.reparentableMediaManager.id=this.props.dockableContext.getId()}componentWillUnmount(){var e=this.props.dockableContext.undock;this.currentPostIsDocked()&&e()}render(){var e=this.props,t=e.media,s=e.appContext._c,o=this.currentPostIsDocked(),i=s('Button label. "Dock" as in for videos that get put in the sidebar and are always visible when you scroll',"Dock post in sidebar"),a=(0,L.jsx)(eg.Z,{label:i,title:i,wrapperClassName:"WwHLs",onClick:this.onClickDock,children:(0,L.jsx)(W.vK,{size:{width:15,height:15},colors:{primary:Z().paletteWhite}})}),l=s('Button label. "Dock" as in for videos that get put in the sidebar and are always visible when you scroll',"Undock post in sidebar"),r=(0,L.jsxs)(eg.Z,{label:l,title:l,wrapperClassName:"bklUO",className:"WPVvO",onClick:this.undockMedia,wrapperStyle:{paddingBottom:`calc(${this.state.mediaSize.height/this.state.mediaSize.width*100}% - 4px)`},children:[(0,L.jsx)(W._C,{colors:{primary:Z().paletteBlack},size:{width:30,height:30}}),s("Undock a video that is in the sidebar.","Put it back")]});return(0,L.jsx)(ez.Z.Provider,{value:{setComponentToAutoDock:this.setComponentToAutoDock},children:(0,L.jsx)(eL.df,{onChange:this.autoDock,threshold:.5,children:(0,L.jsxs)("div",{ref:this.setMediaWrapper,className:"LbyNj",children:[this.reparentableMediaManager.render(t.component,this.forceUpdate.bind(this),n()(n()({},t.props),{},{isDocked:o})),(0,L.jsx)(eR.$,{shouldRenderContent:!o,reparentableContent:this.reparentableMediaManager}),this.mediaIsDockable()&&(o?r:a)]})})})}}let eV=(0,eO.X9)(eF,{appContext:!0,postContext:!0,dockableContext:!0,timelineContext:!0});var e_=s(29933);let eH=e=>{var t=e.block,s=(0,N.uu)().presentationStyle.showsMediaCompact;return(0,e_.XK)(t)?(0,L.jsx)(e_.ZP,{block:t,showsMediaCompact:s}):(0,L.jsx)(eV,{media:{props:{block:t,showsMediaCompact:s},component:e_.ZP}})};var eW=s(80057);let eU=()=>{var e=(0,p.useRef)(null),t=(0,eW.jY)().onVideoResize;return(0,p.useEffect)(()=>{var s=e.current;if(t&&s){var o=new ResizeObserver(e=>{var.offsetHeight)});return o.observe(s),()=>{o.unobserve(s),o.disconnect()}}},[]),e};var eq=s(92895),eG=s(3706);let e$=e=>{var t=e.block,s=e.isEditing,o=eU(),i=(0,p.useState)(!1),n=d()(i,2),a=n[0],l=n[1];(0,p.useEffect)(()=>{"undefined"!=typeof window&&l(!0)},[]);var r=a&&!(0,eq.SV)(t)&&((0,eq.c7)(t,s)||(0,eq.P2)(t,s))?(0,L.jsx)(eV,{media:{props:{block:t},component:eG.Z}}):(0,L.jsx)(eG.Zchildren:r})},eQ={list:"RihjV"};function eJ(e,t){return`${e.type} ${t}`}let eX=function e(t){var s=t.block,i=t.displayAtOriginalSize;if((0,w.dz)(s))return(0,L.jsx)(o.ZP,{block:s});if((0,w.cd)(s)){var n=s.elements.map((t,s)=>{var o=eJ(t,s);return(0,L.jsx)(e,{block:t,blockIndex:s},o)});switch(s.type){case w.kH.OrderedList:return(0,L.jsx)("ol",{className:eQ.list,children:n});case w.kH.UnorderedList:return(0,L.jsx)("ul",{className:eQ.list,children:n});default:return(0,L.jsx)("div",{})}}return(0,w.RD)(s)?(0,L.jsx)(D,{block:s,displayAtOriginalSize:i}):(0,w._P)(s)?(0,L.jsx)(eH,{block:s}):(0,w.R0)(s)?(0,L.jsx)(z,{block:s}):(0,w.gD)(s)?(0,L.jsx)(e$,{block:s}):(0,w.LX)(s)?(0,L.jsx)(et,{block:s}):(0,w.bT)(s)?(0,L.jsx)(eZ,{block:s}):null}},66058:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var o=s(62773),i=s(35665),n=s(31679),a=s(22424),l=s(43166),r=s(58546),d=s(28821),c=s(55855),u=s(96467);let p={linkCard:"gXnIr",card:"gaUuO",defaultUrl:"Nu6LP",header:"Sv170",headerGlass:"prqGC",titleWrapper:"AO6cP",withImage:"POcHT",headerBackgroundImage:"pqMQN",noFooter:"NMiaP",footer:"PUcxv",noHeader:"o9hq8",belowImage:"rKhPR",description:"nsUJI",source:"OCxEI",divider:"OVGbY"};var h=s(2629);let m=e=>{var t,s=e.urls,m=e.info,g=(0,a.wL)().logEvent,v=(0,l.uu)(),b=(0,n.b)(),x=b.hydraConfigInstanceId,f=b.adPlacementConfiguration,C=s.redirectUrl,w=s.displayUrl,y=v!==l.Nw?null==v||null===(t=v.post)||void 0===t?void 0:t.placementId:void 0,j=v!==l.Nw?(0,c.U)({adPlacementConfiguration:f,hydraConfigInstanceId:x,timelineObject:v.post}):{},k=(0,r.Q)(m)?function(e){return(0,h.jsx)("a",{className:p.defaultUrl,href:e,target:"_blank",rel:"noopener",children:e})}(C):function(e,t,s,n,a,l,d){var c=null!=n?n:d?(0,o.T)(d):null,m=!!s||!!c||!!a,g=!!t||!(0,r.y)(l),v=!!c||!!a,b=!m&&!g,x=[p.header];m||x.push(p.noFooter),l&&x.push(p.withImage);var f=u.phoneResponsiveMaxBreakpoint,C=`(max-width: ${f}px) 100vw, ${u.postWidth-2*u.linkCardHorizontalMargin}px`,w=g||b?(0,h.jsxs)("div",{className:x.join(" "),children:[l&&(0,h.jsx)(i.Z,{imageResponse:l,sizes:C,className:p.headerBackgroundImage}),(0,h.jsx)("div",{className:p.headerGlass,children:(0,h.jsx)("span",{className:p.titleWrapper,children:b?d||e:t})})]}):null,y=[p.footer];g||y.push(p.noHeader),l&&y.push(p.belowImage);var j=v?(0,h.jsxs)("div",{className:p.source,children:[c,c&&a&&(0,h.jsx)("span",{className:p.divider,children:"|"}),a]}):null,k=m?(0,h.jsxs)("div",{className:y.join(" "),children:[s&&(0,h.jsx)("div",{className:p.description,children:s}),j]}):null;return(0,h.jsxs)("a",{className:p.card,target:"_blank",href:e,children:[w,k]})}(C,null==m?void 0:m.title,null==m?void 0:m.description,null==m?void 0:m.siteName,null==m?void 0:m.author,null==m?turn(0,h.jsx)("div",{className:p.linkCard,onClick:y?()=>{(0,d.B)(g,y,j)}:void 0,role:"link",children:k})}},3706:(e,t,s)=>{"use strict";s.d(t,{Z:()=>_});var o=s(54138),i=s.n(o),n=s(5754),a=s.n(n),l=s(14144),r=s(96977),d=s(37560),c=s(33970),u=s.n(c),p=s(95004),h=s(43523),m=s(60042),g=s(22424),v=s(2629),b=(0,p.createContext)(null);b.displayName="YouTubeIframeContext";var x=e=>{var t=e.children,s=e.initialSeekTime,o=(0,p.useState)(s),i=u()(o,2),n=i[0],a=i[1];retue current playback position (to resume playback when docked)");return e},C=function(e){return e.StateClaying",e.AutoPlaying="autoPlaying",e.Paused="paused",e.Ended="ended",e}({}),y=function(e){return e.Play="play",e.Seek="seek",e.Mute="mute",e.GetCurrentTime="getCurrentTime",e}({}),j=e=>{var t=e.videoState,s=e.sendMessageToPlayer;(0,p.useEffect)(()=>{var e,o=()=>{t===w.Playing&&me),e=setTimeout(o,1e3))};return e=setTimeout(o,1e3),()=>clearTimeout(e)},[t,s])},k=e=>{var t=e.src,s=e.videoState,o=e.onVideoStateChange,i=e.onVideoCurrentTimeChange,n=t.split("#").pop(),a=(0,p.useState)(),l=u()(a,2),r=l[0],d=l[1];(0,p.useEffect)(()=>{if(n){var e=m.ag.listen(n,{[C.StateChanged]:e=>{if(e===w.Ready){var t=s(),i=t.source,n=t.origin,a=t.namespace,l=m.bG.bind(null,{source:i,target:n,namespace:a});d(()=>l),o(e,l)}elmeChanged]:i}),t=e.handler,s=e.getChannelInfo;return()=>m.ag.unlisten(t)}},[t,n,o,i]),j({videoState:s,sendMessageToPlayer:r})},N=()=>{var e=(0,g.wL)().logEvent,t={[w.Playing]:h.J.VideoPlay,[w.AutoPlaying]:h.J.VideoAutoPlay,[w.Paused]:h.J.VideoStop,[w.Ended]:h.J.VideoEnd},s=t=>{e({eveendor:"youtube",player_type:"youtube"}})};return e=>{var o=t[e];o&&s(o)}},P=(0,p.forwardRef)((e,t)=>{var s=e.src,o=e.isDocked,n=e.onStateChange,a=(0,p.useState)(w.Initializing),l=u()(a,2),r=l[0],c=l[1],h=f(),m=h.seekTime,g=h.setSeekTime,b=N(),x=(0,p.useCallback)((e,t)=>{if(!(o&&e===w.Playing&&[w.Buffering,w.Unstarted].includes(r))){var s=o&&e===w.Ready&&m;s&&(null==t||t(y.Seek,{to:m}),null==t||t(y.Play));var i=s?w.AutoPlaying:e;c(i),n&&n(i),b(i)}},[m,o,r]);return k({src:s,videoState:r,onVideoStateChange:x,onVideoCurrentTimeChange:g}),(0,v.jsx)(d.Z,i()(i()({ref:t},e),{},{allow:o?"autoplay":void 0}))}),S=s(38149),I=s(10381),T=s(92677),A=s(78667),B=s(43166),Z=s(63583),E=s.n(Z),M=s(96467),L=s.n(M),R=s(92895),D=s(33997);let O={videoBlock:"ypwxx",embeddedPlayer:"Cf37_",notYoutubeEmbed:"ONC_J",notYoutubeWrapper:"X93pX",externalLink:"l7zyP",playButton:"gGIs6"};var z=e=>{var t=e.url,s=e.poster,o=e.provider,i=(0,A.bp)()._c;return(0,v.jsxs)("div",{className:O.externalLink,children:[s&&(0,v.jsx)(S.wZ,{imageResponse:s,altText:o?i("Accessibility title of a thumbnail for a video on an external site. The placeholder is the name of the external site.","Thumbnail of a video on %1$s",[o]):i("Accessibility title of a thumbnail for a video on an unknown external site","Thumbnail of a video on an external site")}),(0,v.jsx)("div",{className:O.playButton,children:(0,v.jsxs)("a",{href:t,target:"_blank",rel:"noopener",children:[(0,v.jsx)(r.Z,{cropped:!0,colors:{primary:E().paletteWhite},size:{width:24,height:24}}),o&&i("Title of a link to open a video on an external site. The placeholder is the name of the external site.","Watch on %1$s",[o])]})})]})},F=e=>{var t,s=e.block,o=s.media,i=s.poster,n=s.filmstrip,a=e.isDocked,l=(0,B.uu)();return(0,v.jsx)(D.ZP,{media:o,useViewabilityTracker:l!==B.Nw,timelineObject:l!==B.Nw?null==l?void 0:l.post:void 0,poster:i,filmstrip:n,isDocked:a,showsDockMediaButton:l!==B.Nw?null==l||null===(t=l.presentationStyle)||void 0===t?void 0:t.showsDockMediaButton:void 0})},V=e=>{var t=e.provider,s=e.embedIframe,o=e.isDocked;return(0,v.jsx)(I.U$,{children:e=>{var n=e.width,r=s.height/s.width,c=t===T.G6.Youtube,u=Math.min(L().postWidth,n),p={src:s.url,title:t,allowFullScreen:!0,className:a()(O.embeddedPlayer,{[O.notYoutubeEmbed]:!c}),style:c?{maxWidth:u,height:r*u}:{}};return c?(0,v.jsx)(x,{children:(0,v.jsx)(l.Z,{children:(0,v.jsx)(P,i()(i()({},p),{},{isDocked:o}))})}):(0,v.jsx)(l.Z,{wrapperStyle:{paddingBottom:`${s.height/s.width*100}%`},children:(0,v.jsx)(d.Z,i()({},p))})}})};let _=function(e){var t=e.block,s=e.isDocked,o=e.isEditing,i=t.poster,n=t.provider,l=t.url,r=(0,R.c7)(t,o)?(0,v.jsx)(F,{block:t,isDocked:s}):(0,R.P2)(t,o)?(0,v.jsx)(V,{provider:t.provider,embedIframe:t.embedIframe,isDocked:s}):null;if(r){var d=n===T.G6.Youtube,c=!d&&(0,R.P2)(t)?{paddingBottom:`${t.embedIframe.height/t.embedIframe.width*100}%`}:void 0;return(0,v.jsx)("div",{className:a()(O.videoBlock,{[O.notYoutubeWrapper]:(0,R.P2)(t)&&!d}),style:c,children:r})}return(0,v.jsx):l,poster:i,provider:n})}},33997:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>ea});var o=s(17276),i=s.n(o),n=s(54138),a=s.n(n),l=s(50209),r=s.n(l),d=s(5754),c=s.n(d),u=s(83707),p=s(95004),h=s(9041),m=s(60612),g=s(44009),v=s(36343),b=(0,v.Fullscdeo_exitfullscreen",e}({}),C=function(e){return e.Start="video_start",e}({}),w=function(e){return e.Quartile25="video_quartile_25",e.Quartile50="video_quartile_50",e.Qu3Seconfunction(e){return e.PositionChange="position_change",e.Reset="reset",e}({}),k={[w.Quartile25]:.25,[w.Quartile50]:.5,[w.Quartile75]:.75,[w.Quartile100]:.98},N={[y.View1Second]:1,[y.View2Seconds]:2,[y.View3Seconds]:3,[y.View10Seconds]:10},P=s(22979),S=s(59215),I={a:0,c:1,p:50};let T=class{constructor(e,t){r()(this,"beacons",[]),r()(this,"lastMetReqTime",0),r()(this,"totalTimeMeetingReqs",0),this.ruleKey=e,this.reqAudioOn=!!t.a,this.reqContinuous=!!t.c,this.reqDuration=t.d,this.point}reset(){this.totalTimeMeetingReqs=0}setBeacons(e){tcons=e}fireBeacons(){!this.hasFiredBeacons&&(this.beacons.forEach(e=>e()),this.isDurationCheckpoint||(this.hasFiredBeacons=!0))}checkRule(e){if(!this.audioCheck(e)||!this.inViewCheck(e))return this.reqContinuous&&(this.lastMetReqTime=null),!1;var t=e.getTimePosition();null===this.lastMetReqTime?this.totalTimeMeetingReqs=0:this.totalTimeMeetingReqs+=t-this.lastMetReqTime;var s=this.durationCheck(t);return this.lastMetReqTime=t,s}audioCheck(e){return!(this.reqAudioOn&&e.isMuted())}inViewCheck(e){return!(this.reqPercentInView>0&&!e.isInView())}durationCheck(e){if(!this.reqDuration)return!0;if(this.reqContinuous)return this.totalTimeMeetingReqs>=this.reqDuration;var t=e===this.reqDuration,s=this.lastMetReqTime===this.reqDuration,o=e>this.reqDuration,i=Number(this.lastMetReqTime)<this.reqDuration,n=e-Number(this.lastMetReqTime)<1;return t&&!s||o&&i&&n}},A=class{constructor(e,t){if(r()(this,"setRulesFromDuration",e=>{var t=Object.keys(N).map(e=>{var t=new T(e,a()(a()({},I),{},{d:N[e]}));return t.beacons=[()=>this.beaconDefinition(e)],t});Number.isNaN(e)||(t=t.concat(Object.keys(k).mapisDurationCheckpoint:!0});return s.beacons=[()=>this.beaconDefinition(t)],s}))),this.rules=t}),!e)throw Error("RuleEngine cannot be instantiated without beaconDefinition! Check the placement id of the viewability tracker.");this.beaconDefinition=e,this.setRulesFromDuration(t)}updateMaxDuration(e){this.setRulesFromDuration(e)}checkRules(e){this.rules.forEach(t=reBeacons())}resetContinuousRules(){this.resetRioOnContinuousRules(){this.resetRules(e=>!!e.reqContinuous&&e.reqAudioOn)}resetRules(e){this.rules.forEach(t=>e(t)&&t.reset())}},B=class{constructor(e,t,s){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r()(this,"options",{}),r()(this,"isAutoplay",()=>this.videoEl.autoplay),r()(this,"isMuted",()=>this.videoEl.muted),r()(this,"getTimePosition",()=>this.videoEl.currentTime),r()(this,"getMaxDuration",()=>Number.isNaN(this.videoEl.duration)?null:this.videoEl.duration),r()(this,"handleMute",()=>this.stateChangeFn(f.Mute)),r()(this,"handleUnmute",()=>this.stateChangeFn(f.Unmute)),r()(this,"handleLoop",()=>this.stateChangeFn(f.Loop)),r()(this,"handleScrub",()=>this.stateChangeFn(f.Scrub)),r()(this,"handleFullscreen",()=>this.stateChangeFn(f.Fullscreen)),r()(this,"handleExitFullscreen",()=>this.stateChangeFn(f.ExitFullscreen)),r()(this,"handlePause",()=>this.stateChangeFn(this.isAutoplay()?f.Autopause:f.Pause)),r()(this,"handlePlay",()=>this.stateChy)),r()(this,"handleTimeUpdate",()=>this.stateChangeFn(j.PositionChange)),this.videoEl=e,this.stateChangeFn=t,this.isInView=s,this.options=o,this.lastKnownIsMuted=this.videoEl.muted,this.addEventListeners()}addEventListeners(){this.videoEl.addEventListener("timeupdate",()=>this.handleTimeUpdate()),this.videoEl.addEventListndlePlay()),this.videoEl.addEventListener("pause",()=>this.handlePause()),this.videoEl.addEventListener("ended",()=>{this.nextSeekedIsLoop=!0,this.options.doesVideoLoop&&this.handleLoop()}),this.videoEl.addEventListener("seeked",()=>{this.nextSeekedIsLoop&&0===Math.floor(this.videoEl.currentTime)?this.nextSeekedIsLoop=!1:this.handleScrub()}),["fullscreenchange","webkitfullscreenchange"].forEach(e=>{vat.fullscreenElement?this.handleFullscreen():this.handleExitFullscreen()})}),this.videoEl.addEventListener("webkitbeginfullscreen",()=>{this.addEventListener("webkitendfullscreen",()=>{this.handleExitFullscreen()}),this.videoEl.addEventListener("volumechange",()=>{var e=!this.lastKnownIsMuted&&this.isMuted(),t=this.lastKnownIsMuted&&!this.isMuted();this.lastKnownIsMuted=this.isMuted(),e?this.handleMute():t&&this.handleUnmute()})}};class Z extends p.Component{constructor(){super(...arguments),r()(this,"lastEventTime",0),r()(this,"totalPlayTime",0),r()(this,"totalUniquePlayedSeconds",new Set),r()(this,"provideEventDetails",x.L),r()(this,"updateTotalPlayTime",()=>{var e=this.videoContext.getTimePosition(),t=this.videoContext.getMaxDuration();t&&this.totalUniquePlayedSeconds.size<Math.ceil(t)&&this.totalUniquePlayedSeconds.add(Math.floor(e));var s=e-this.lastEventTime;this.lastEventTime=e,s>0&&s<1&&(this.totalPlayTime+=s)}),r()(this,"sendAnalyticsEvent",(e,t)=>{var s=this.props,o=s.videoRef,i=s.timelineObject,n=this.props.dashboardContext.tabId;if(o&&null!=i&&i.placementId){var l=o.currentTime,r=o.duration,d={eventName:e,eventDetails:a()(a()({},this.provideEventDetails(i,!0)),{},{is_ad:(0,P.uz)(i)||(0,P.A6)(i)||(0,P.N0)(i),placement_id:i.placementId,video:{current_position:Math.floor(l),total_length:Math.floor(r),total_play_length:this.totalPlayTime,total_unique_play_length:this.totalUniquePlayedSeconds.size,audio_on:!this.props.isMuted},tab:n})};this.props.appContext.logEvent(d,{sendPayloadImmediately:t})}}),r()(this,"sendUnloadEvent",()=>{var e;this.props.videoRef&&!(null!==(e=this.props.videoRef)&&void 0!==e&&e.paused)&&this.sendAnalyticsEvent(f.Autopause,!0)}),r()(this,"updateRulesEngineDuration",()=>{this.props.videoRef&&this.rulesEngine.updateMaxDuration(this.props.videoRef.duration)})}componentDidUpdate(e){!e.videoRef&&thisprops.videoRef&&this.setVideoContextAndRulesEngine(this.props.videoRef)}componentWillUnmount(){var e;null===(e=this.props.videoRef)||void 0===e||e.removeEventListener("loadedmetadata",this.updateRulesEngineDEventListener("beforeunload",this.sendUnloadEvent)}render(){return null}stateChanged(e){var t;switch(e){case f.Mute:case f.Unmute:case f.Loop:case f.Scrub:case f.Fullscreen:case f.ExitFullscreen:this.fireBeacon(e);break;case f.Play:case f.Autoplay:this.hasStarted||(this.hasStarted=!0,this.fireBeacon(C.Start)),this.fireBeacon(e);break;case f.Pause:case f.Autopause:this.rulesEngine.resetContinuousRthis.fireBeacon(e);break;case j.Reset:this.rulesEngine.resetRules(()=>!0);break;case j.PositionChange:null!==(t=this.props.videoRef)&&void 0!==t&&t.paused||this.updateTotalPlayTime(),this.rulesEngine.checkRules(this.vidcheckRules(this.videoContext)}}fireBeacon(e){this.sendAnalyticsEvent(e)}setVideoContextAndRulesEngine(e){var t=t=t.videoContextOptions;this.videoContext=new B(e,e=>this.stateChanged(e),s,o),this.rulesEngine=new A(this.sendAnalyticsEvent,e.duration),e.addEventListener("loadedmetadata",this.updateRulesEngineDuration),window.addEventListener("beforeunload",this.sendUnloadEvent)}}let E=(0,S.X9)(Z,{appContext:!0,adContext:!0,dashboardContext:!0});var M=s(10381),L=s(92677),R=s(11524),D=s(68346),O=s(63583),z=s.n(O),F=s(96467),V=s.n(F),_=s(28863),H=s(83302),W=(0,v.q)("hd");W.defaultProps={size:{width:24,height:24}};var U=s(10490),q=(0,v.q)("sound-off");q.defaultProps={size:{width:24,height:24}};var G=(0,v.q)("sound-on");G.defaultProps={size:{width:24,height:24}};var $=(0,v.q)("video-play");$.defaultProps={size:{width:24,height:24}};var Q=s(78667);let J={controls:"V3aM5",limited:"NUgGE",seekBarWrapper:"ES7KG",seekBar:"NqMAD",seekBarProgress:"kmLdA",buffer:"qW8gI",seekHandle:"g82Fd",seekHandleHover:"oaGjt",onHover:"YBpn6",frameThumbnail:"m4j3o",thumbnailTime:"FdHaH",time:"IUn0z",control:"cP4TA"};var X=s(2629),Y=(0,p.forwardRef)((e,t)=>{var s=e.filmstrip,o=e.onClickToggleFullScreen,i=e.onClickPlay,n=e.onClickPause,a=e.onClickVolume,l=e.onClickHd,r=e.isHdAvailable,d=e.isFullScreen,u=e.isHd,p=e.isMuted,h=e.isPlaying,m=e.isInitialOverlay,v=e.time,b=e.handlePosition,x=e.handleHoverPosition,f=e.onMouseMoveSeekbarWrapper,C=e.onMouseLeaveSeekbarWrapper,w=e.onMouseDownSeekbarWrapper,y=e.onMouseUpSeekbarWrapper,j=e.onClickSeekHandleHover,k=e.buffered,N=e.seekHover,P=e.frameTime,S=e.thumbnailStyles,I=e.useLimitedControls,T=e.soundDisabled,A=e.showMuteControlOnly,B=(0,Q.bp)()._c,Z=I&&{height:40,width:40},E=!T&&(0,X.jsx)(g.Z,{className:J.control,onClick:a,label:B("Video controls","Mute sound"),"aria-pressed":p,children:p?(0,X.jsx)(q,{size:Z}):(0,X.jsx)(G,{size:Z})}),M={display:m?"none":void 0};return I||A?(0,X.jsx)("div",{className:c()(J.controls,J.limited),style:M,children:E}):(0,X.jsxs)("div",{className:J.controls,style:M,children:[h?(0,X.jsx)(g.Z,{className:J.control,onClick:n,label:B("Video controls","Pause"),children:(0,X.jsx)(U.Z,{})}):(0,X.jsx)(g.Z,{className:J.control,onClick:i,label:B("Video controls","Play"),children:(0,X.jsx)($,{})}),(0,X.jsx)("div",{className:J.seekBarWrapper,onMouseMove:f,onMouseLeave:C,onMouseDown:w,onMouseUp:y,role:"progressbar",children:(0,X.jsxs)("div",{className:J.seekBar,ref:t,children:[(0,X.jsx)("div",{className:J.buffer,style:{width:`${k}%`}}),(0,X.jsx)("div",{className:J.seekBarProgress,style:{width:b}}),(0,X.jsx)("div",{className:c()(J.seekHandle,{[J.onHover]:N}),style:{left:b}}),(0,X.jsx)("div",{className:c()(J.seekHandleHover,{[J.onHover]:N}),style:N?{visibility:"visible",left:`${x}px`}:void 0,onClick:j,role:"button",children:s&&(0,X.jsx)("div",{className:J.frameThumbnail,style:S,children:(0,X.jsx)("div",{className:J.thumbnailTime,children:P})})})]})}),(0,X.jsx)("div",{className:J.time,children:v||"--:--"}),r&&(0,X.jsx)(g.Z,{className:J.control,onClick:l,label:B("Video controls","Toggle high definition"),children:(0,X.jsx)(W,{colors:{primary:u?z().paletteWhite:z().transparentWhite65}})}),(0,X.jsx)(g.Z,{className:J.control,onClick:o,label:B("Video controls","Toggle full screen"),children:d?(0,X.jsx)(_.Z,{"data-testid":"collapse-icon",size:{width:22,height:22}}):(0,X.jsx)(H.Z,{"data-testid":"fullscreen-icon",size:{width:22,height:22}})}),E]})}),K=s(96977),ee=s(6135);let et={overlayPoof:"kEaLk",loading:"C4lo4",overlay:"EfjkQ",isPlaying:"eB3NB"},es=e=>{var t=e.isPlaying,s=e.showPoof,o=e.isLoading,i=e.isInitialOverlay,n=e.onAnimationEndPoof;return(0,X.jsxs)("div",{className:c()(et.overlayPoof,{[et.isPlaying]:t}),children:[i&&(0,X.jsx)(K.Z,{cropped:!0,size:{width:24,height:24}}),s&&(0,X.jsx)("div",{className:et.overlay,onAnimationEnd:n,children:t?(0,X.jsx)(K.Z,{cropped:!0,size:{width:24,height:24}}):(0,X.jsx)(U.Z,{size:{width:24,height:24}})}),o&&(0,X.jsx)("div",{className:et.loading,children:(0,X.jsx)(ee.Z,{small:!0})})]})},eo={videoPlayer:"gDuxW",videoContainer:"yz4vl",hasNoMaxUndockedHeight:"oce3Y",isFullScreen:"RYYxJ",isDocked:"iTJ",e[e.AdPlaying=7]="AdPlaying",e[e.AdVolumeChange=8]="AdVolumeChange",e}({});class en extends p.Component{constructor(){var e;super(...arguments),e=this,r()(this,"state",{isMounted:!1,playing:!1,autoplay:!1,isMuted:!!this.props.isMuted,showControls:!0,time:"",isHd:!1,isHdAvailable:!1,seekHover:!1,handleHoverPosition:0,handlePosition:"0%",showHdIcon:!1,loading:!1,showPoof:!1,isInitialOverlay:!0,buffered:0,frameTime:"",thumbnailCount:10,filmstripOffset:0,hasPausedSource:null,isSeeking:!1,isFullScreen:!!this.props.isFullScreen,videoEl:null,isVideoIntersecting:!1,hasVideoIntersected:!1,hasClickedVideoOrMuteControl:!1,showMuteControlOnly:!0,moatQuartileEventsStatus:{AdVideoFirstQuartileIsDispatched:!1,AdVideoMidpointIsDispatched:!1,AdVideoThirdQuartileIsDispatched:!1},hideNativeVideoControls:!0}),r()(this,"fscreen",u.Z),r()(this,"seekBar",(0,p.createRef)()),r()(this,"videoContainerRef",(0,p.createRef)()),r()(this,"shouldShowNativeControls",()=>{var e=this.props.isVideoSponsoredDay,t=this.state.hideNativeVideoControls;return!e&&!t}),r()(this,"getVideoElementProps",e=>{var t,s=this.props,o=s.media,i=s.poster,n=s.appContext._t,l=s.minHeight,r=void 0===l?250:l,d=s.videoElementProps,c=this.state,u=c.playing,p=c.autoplay,h=c.isMuted,m=c.isFullScreen;return a()(a()({muted:h,autoPlay:p,style:{minHeight:Math.min(null!==(t=o.height)&&void 0!==t?t:r,r)},role:"button",crossOrigin:"anonymous",playsInline:!0,ref:this.setVideoEl,onEnded:this.onEnded,onTouchEnd:this.onTouchEnd,height:o.height,width:o.width,poster:i&&new D.Z(i).getOriginalSourceClosestToWidth(Math.min(e,V().postWidth)).url},this.shouldShowCustomControls()?{role:"button","aria-label":n(u?"Pause":"Play"),onClick:this.onVideoClick,onLoadedData:this.getVideoDurationInMinSec,onWaiting:this.onVideoWaiting,onCanPlayThrough:this.hideLoading,onPlaying:this.hideLoading,onSeeking:this.hideLoading,onSeeked:this.hideLoading,onVolumeChange:m?this.onVolumeChangeFullScreen:void 0,onTimeUpdate:this.onTimeUpdateVideo,onProgress:this.onProgressVideo}:a()(a()({},this.shouldShowNativeControls()&&{controls:!0}),{},{controlsList:"nodownload",onMouseEnter:this.showNativeControls,onMouseLeave:this.hideNativeControls,onTouchStart:this.showNativeControls})),void 0===d?{}:d)}),r()(this,"renderVideoControls",()=>{var e=this.props,t=e.filmstrip,s=e.soundDisabled,o=e.isVideoSponsoredDay,i=e.appContext._t,n=this.state,a=n.isHd,l=n.time,r=n.playing,d=n.isMuted,u=n.isInitialOverlay,p=n.isHdAvailable,h=n.isFullScreen,v=n.handlePosition,x=n.handleHoverPosition,f=n.buffered,C=n.seekHover,w=n.frameTime,y=n.isVideoFinished,j=n.videoEl,k=n.showMuteControlOnly;return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Y,{onClickToggleFullScreen:this.onClickToggleFullScreen,onClickPlay:this.onClickPlay,onClickPause:this.onClickPause,onClickVolume:this.onClickVolume,onClickHd:this.onClickHd,isFullScreen:h,isHdAvailable:p,isHd:a,isMuted:d,isPlaying:r,time:l,isInitialOverlay:u,handlePosition:v,handleHoverPosition:x,buffered:f,seekHover:C,frameTime:w,onMouseMoveSeekbarWrapper:this.onMouseMoveSeekbarWrapper,onMouseLeaveSeekbarWrapper:this.onMouseLeaveSeekbarWrapper,onMouseDownSeekbarWrapper:this.onMouseDownSeekbarWrapper,onMouseUpSeekbarWrapper:this.onMouseUpSeekbarWrapper,onClickSeekHandleHover:this.onClickSeekHandleHover,filmstrip:t,thumbnailStyles:this.getThumbnailStyles(),useLimitedControls:o||void 0,soundDisabled:s,showMuteControlOnly:k,ref:this.seekBar}),o&&(0,X.jsx)(m.ZP,{in:y&&(null==j?void 0:j.duration)===(null==j?void 0:j.currentTime),timeout:200,mountOnEnter:!0,unmountOnExit:!0,children:e=>(0,X.jsx)("div",{className:c()(eo.replayOverlay,{[eo.replayOut]:[m.d0,m.Ix,m.Wj].includes(e)}),style:{transition:"opacity 200ms"},children:(0,X.jsx)(g.Z,{label:i("Replay video"),wrapperClassName:eo.replayButton,onClick:this.onReplayVideoClick,children:(0,X.jsx)(b,{size:{height:65,width:65},colors:{primary:z().white}})})})})]})}),r()(this,"shouldShowCustomControls",()=>(this.props.isVids.state.isMounted),r()(this,"setVideoEl",e=>{this.setState({videoEl:e})}),r()(this,"playVideo",function(){var t;return i()().async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,i()().awrap(null===(t=e.state.videoEl)||void 0===t?void 0:t.play());case 3:s.next=8;break;case 5:s.prev=5,s.t0=s.catch(0),e.setState({playing:!1});case 8:case"evar e;return null===(e=thause()}),r()(this,"onCliuse(L.Fj.User,!1)),r()(this,"onClickPlay",()=>{this.onUXTriggerPlay(!1)}),r()(this,"onUXTriggerPause",(e,t)=>this.setState({hasPausedSource:e,autoplay:t,playing:!1})),r()(this,"onUXTriggerPlay",e=>this.setState({autoplay:e,playing:!0,hasPausedSource:null})),r()(this,"onClickVolume",e=>{e.preventDefault(),e.stopPropagation(),this.setState(e=>{var t=e.isMuted,s=e.videoEl;return t&&s&&!s.volume&&(s.volume=1),{isMuted:!t,hasClickedVideoOrMuteControl:!0}})}),r()(this,"onVolumeChangeFullScreen",e=>{this.setState({isMuted:e.currenterVideo",()=>{this.setState({showControls:!0,showMuteControlOnly:!1})}),r()(this,"onMouseLeaveVideo",()=>{this.setState(e=>({showControls:!e.hasClickedVideoOrMuteControl,showMuteControlOnly:!e.hasClickedVideoOrMuteControl}))}),r()(this,"onAnimationEndPoof",()=>this.setState({showPoof:!1})),r()(this,"onEnded",()=>{this.setState({isVideoFinished:!0}),this.props.disableAutolooping||this.resetVideoPosition(!0),this.state.hideNativeVideoControls||this.hideNativeControls()}),r()(thoplay:!1})}),r()(this,"onClickHd",()=>this.setState(e=>({isHd:!e.isHd}))),r()(this,"onVideoClick",()=>{if(!this.props.isVideoSponsoredDay){if(this.props.timelineObject&&(0,P.xT)(this.props.timelineObject)){var e,t=null===(e=this.props.timelineObject.actions)||void 0===e?void 0:e[0];if(null!=t&&t.tspSkipLightbox&&null!=t&&t.urls.web){window.open(null==t?void 0:t.urls.web,"_blank","noreferrer,noopener");return}}this.setState(e=>({playing:!e.playing,autoplay:!1,showPoof:!0,isInitialOverlay:!1,hasPausedSource:e.playing?L.Fj.User:null,hasClickedVideoOrMuteControl:!0}))}}),r()(this,"onVideoWaiting",()=>this.setState({loading:!0})),r()(this,"hideLoading",()=>this.setState({loading:!1})),r()(this,"hideNativeControls",()=>this.setState({hideNativeVideoControls:!0})),r()(this,"showNativeControls",()=>{this.setState({hideNativeVideoControls:!1})}),r()(this,"getVideoDurationInMinSec",()=>this.state.videoEl&&this.setState({time:this.formatVideoTime(this.state.videoEl.duration)})),r()(this,"formatVideoTime",e=>{var t=Math.floor(e%60);0${t}`:t}`}),r()(this,"isVideoInView",()=>this.state.isVideoIntersecting),r()(this,"setPlaybackPosition",e=>ion)||0;this.setState(e=>({handlePosition:`${e.handleHoverPosition}px`})),t&&(t.currentTime=s*e)}),r()(this,"onMouseMoveSeekbarWrapper",e=>{this.setState({seekHover:!0});var t,s,o=this.state,i=o.isSeeking,n=o.videoEl,a=o.thumbnailCount,l=(null===(t=e.currentTarget.firstElementChild)||void 0===t?void 0:t.getBoundingClientRect().width)||0,r=Math.abs(Math.round(e.clientX-((null===(s=e.currentTarget.firstElementChild)||void 0===s?void 0:s.getBoundingClientRect().left)||0)));if(!(r<0)&&!(r>l)){var d=r/l,c=100*d,u=Math.floor(d*((null==n?void 0:n.duration)||0));this.setState({handleHoverPosition:r,filmstripOffset:100/(a-1)*Math.floor(c/a)}),this.updateF,"updateFrameTime",e=>this.setState({fr()(this,"onMouseDownSeekbarWrapper")}),r()(this,"onMouseUpSeekbarWrapper",MouseLeaveSeekbarWrapper",()=>this.setState({seekHover:!1,isSeeking:!1})),r()(this,"onClickSeekHandleHover",e=>{var t,s,o=e.clientX-((null===(t=e.currentTarget.parentElement)||void 0===t?void 0:t.getBoundingClientRect().left)||0),i=null===(s=this.seekBar.current)||void 0===s?void 0:s.getBoundingClientRect().width;i&&this.setPlaybackPosition(o/i)}),r()(this,"getThumbnailStyles",()=>{var e=this.props.filmstrip,t=this.state,s=t.thumbnailCount,o=t.filmstripOffset;if(!e)return{};var i=e.height,n=e.width,a=e.url,l=.35*n/s,r=.35*i;return{top:-(r+10),left:-(l/2)+5,width:`${l}px`,height:`${r}px`,backgroundImage:`url(${a})`,backgroundSize:`${l*s}px ${r}px`,backgroundPosition:`${o}% 0%`}}),r()(this,"onTimeUpdateVideo",()=>{var e=this.state,t=e.showControls,s=e.videoEl;if(t&&s){var o=s.duration,i=s.currentTime;this.setState({handlePosition:`${i/o*100}%`,time:this.formatVideoTime(o-i)})}}),r()(this,"onProgressVideo",()=>{var e=this.state.videoEl;if(e){var t=e.duration,s=e.buffered,o=e.currentTime;if(t>0){for(var i=0;i<s.length;i+=1)if(s.start(s.length-1-i)<=o){var n=s.end(s.length-1-i);this.setState({buffered:n/t*100});break}}}}),r()(this,"onClickToggleFullScreen",()=>{var e,t;if(!this.state.isFullScreen&&null!==(e=this.videoContainerRef)&&void 0!==e&&e.current){if(this.props.onFullScreenChange){this.props.onFullScreenChange(!0);return}this.setViewportResizeRender("disable"),this.fscreen.requestFullscreen(null===(t=this.videoConthis.fscreen.addEventListener("fullscreenchange",this.onFullScreenExit)})}else{if(this.props.onFullScreenChange){this.props.onFullScreenChange(!1);return}this.fscreen.exitFullscreen()}}),r()(this,"onFullScreenExit",()=>{this.fscreen.fullscreenElement||this.setState({isFullScreen:!1},()=>{this.setViewportResizeRender("enable"),this.fscreen.removeEventListener("fullscreenchange",this.onFullScreenExit)})}),r()(this,"onReplayVideoClick",e=>{null==e||e.stopPropagation(),null==e||e.preventDefault(),this.resetVideoPosition(!1)}),r()(this,"resetVideoPosition",e=>this.setState({autoplay:e,handlePosition:"0%",isVideoFinished:!1,playing:!0},()=>{this.state.videoEl&&(this.state.videoEl.currentTime=0,this.playVideo())})),r()(this,"getMediaType",()=>{var e=this.props.media;return e.type===L.w3.Mov?void 0:e.type}),r()(this,"handleIntersectionChange",e=>{this.setState(t=>{var s=t.playing,o=t.hasPausedSource,i=t.isVideoFinished,n=t.autoplay,a=t.hasVideoIntersected||e,l=this.shouldAutoDock(a)?s:e&&!o&&!i;return{playing:l,autoplay:s!==l||n,isInitialOverlay:!1,isVideoIntersecting:e,hasVideoIntersected:a}})}),r()(this,"onVisibilityChange",()=>{var e=this.state,t=e.playing,s=e.hasPausedSource;"visible"===document.visibilityState?t||s!==L.Fj.DocumentVisibility||this.onUXTriggerPlay(!0):t&&this.onUXTriggerPause(L.Fj.DocumentVisibility,!0)})}shouldAutoDock(e){var t=this.state,s=t.playing,o=t.isMuted,i=this.props,n=i.showsDockMediaButton,a=i.alwaysAutoDock,l=i.dockableContext.isMediaDocked;return!!n&&s&&(!o||!!a&&e&&!l)}dispatchMoatVideoEvent(e){var t,s,o;(0,P.nJ)(null===(t=this.props)||void 0===t?void 0:t.timelineObject)&&(null===(s=this.moatApiReferenceInstance)||void 0===s||null===(o=s.dispatchEvent)||void 0===o||o.call(s,{type:ei[e],adVolume:this.state.isMuted?0:1}))}initMoatApiReference(){var e,t,s,o=null===(e=this.props)||void 0===e?void 0:e.timelineObject;if((0,P.nJ)(o)||null!==(t=this.state)&&void 0!==t&&t.videoEl){var i={level1:(null==o?void 0:o.advertiserId)||"",level2:(null==o?void 0:o.campaignId)||"",level3:(null==o?void 0:o.adGroupId)||"",level4:(null==o?void 0:o.creativeId)||""};this.moatApiReferenceInstance=function(e,t,s,o,i,n){var a,l,r=document.createElement("script"),d=[],c={vidIntType:"3on(e){c.sendEvent?(d&&(d.push(e),e=d,d=!1),c.sendEvent(e)):d&&d.push(e)},clientCallback:void 0};t="_moatApi"+Math.floor(1e8*Math.random());try{l=(a=e.ownerDocument).defaultView||a.parentWindow}catch(e){a=document,l=window}return l[t]=c,r.type="text/javascript",e&&e.insertBefore(r,e.childNodes[0]||null),r.src="https://z.moatads.com/"+o+"/moatvideo.js#"+t,c}(this.videoContainerRef.current,i,null===(s=this.state.videoEl)||void 0===s?void 0:s.duration,"tumblrjsvideo916683822435")}}componentDidMount(){window.addEventListener("visibilitychange",this.onVisibilityChange),this.numGlthis.numGlassContextOnMount=this.props.numGlassOpenContext.nu{window.removeEventListener("visibilitychange",this.onVisibilityChange)}componentDidUpdate(e,t){var s,o,i=this.state,n=i.isFullScreen,l=i.isMuted,r=i.playing,d=i.hasPausedSource,c=i.hasVideoIntersected,u=this.props,p=u.isDocked,h=u.numGlassOpenContext.numGlassOpen,m=u.alwaysAutoDock;e.isMuted!==this.props.isMuted&&this.props.isMuted!==l&&this.setState({isMuted:!l}),e.isFullScreen!==this.props.isFullScreen&&this.props.isFullScreen!==n&&this.setState({isFullScreen:!n}),this.props.playing!==e.playing&&r!==this.props.playing&&this.onVideoClick(),null===(s=(o=this.props.autoDockContext).setComponentToAutoDock)||void 0===s||s.call(o,this.shouldAutoDock(c),m),r&&this.numGlassContextOnMount<h?this.onUXTriggerPause(L.Fj.Glass,!0):!r&&d===L.Fj.Glass&&this.numGlassContextOnMount>=h&&this.onUXTriggerPlay(!0),t.playing!==r&&(r?(this.playVideo(),this.dispatchMoatVideoEvent(ei.AdVideoStart)):this.pauseVideo()),this.state.playing&&("100%"===this.state.handlePosition&&this.dispatchMoatVideoEvent(ei.AdVideoComplete),parseFloat(this.state.handlePosition)>=25&&!this.state.moatQuartileEventsStatus.AdVideoFirstQuartileIsDispatched&&(this.dispatchMoatVideoEvent(ei.AdVideoFirstQuartile),this.setState(e=>({moatQuartileEventsStatus:a()(a()({},e.moatQuartileEventsStatus),{},{AdVideoFirstQuartileIsDispatched:!0})}))),parseFloat(this.state.handlePosition)>=50&&!this.state.moatQuartileEventsStatus.AdVideoMidpointIsDispatched&&(this.dispatchMoatVideoEvent(ei.AdVideoMidpoint),this.setState(e=>({moatQuartileEventsStatus:a()(a()({},e.moatQuartileEventsStatus),{},{AdVideoMidpointIsDispatched:!0})}))),parseFloat(this.state.handlePosition)>=75&&!this.state.moatQuartileEventsStatus.AdVideoThirdQuartileIsDispatched&&(this.dispatchMoatVideoEvent(ei.AdVideoThirdQuartile),this.setState(e=>({moatQuartileEventsStatus:a()(a()({},e.moatQuartileEventsStatus),{},{AdVideoThirdQuartileIsDispatched:!0})}))),"0%"===this.state.handlePosition&&"100%"===t.handlePosition&&(this.dispatchMoatVideoEvent(ei.AdVideoStart),this.setState({moatQuartileEventsStatus:{AdVideoFirstQuartileIsDispatched:!1,AdVideoMidpointIsDispatched:!1,AdVideoThirdQuartileIsDispatched:!1}}))),e.isDocked&&!p&&this.onClickPause()}render(){var e=this.props,t=e.media,s=e.isDocked,o=e.hasNoMaxUndockedHeight,i=e.isVideoSponsoredDay,n=e.playerStyle,l=e.timelineObject,r=e.useViewabilityTracker,d=e.appContext._t,u=this.state,p=u.playing,m=u.showPoof,g=u.loading,v=u.isInitialOverlay,b=u.showControls,x=u.videoEl,f=u.isFullScreen;return(0,X.jsx)(M.ZP,{children:e=>{var u=e.width,C=e.setViewportResizeRender,w=c()(eo.videoPlayer,{[eo.hasNoMaxUndockedHeight]:o,[eo.isDocked]:s,[eo.isFullScreen]:f});return this.setViewportResizeRender=C,(0,X.jsxs)(h.df,{onChange:this.handleIntersectionChange,threshold:.5,className:w,role:"application","aria-label":d("Video Player"),style:n,children:[(0,X.jsxs)("div",{ref:this.videoContainerRef,onMouseEnter:this.onMouseEnterVideo,onMouseLeave:this.onMouseLeaveVideo,className:eo.videoContainer,children:[(0,X.jsx)("video",a()(a()({},this.getVideoElementProps(u)),{},{children:(0,X.jsx)("source",{src:t.url,type:this.getMediaType()})})),this.shouldShowCustomControls()&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(es,{isPlaying:p,showPoof:m,isLoading:g,isInitialOverlay:v,onAnimationEndPoof:this.onAnimationEndPoof}),(i||b)&&this.renderVideoControls()]})]}),r&&l&&(0,X.jsx)(E,{videoRef:x,isInView:this.isVideoInView,timelineObject:l,isMuted:this.state.isMuted,videoContextOptions:{doesVideoLoop:!this.props.disableAutolooping,trackPauseAsAutoStop:i}})]})}})}}r()(en,"defaultProps",{isMuted:!0,useViewabilityTracker:!0});let ea=(0,S.X9)(en,{appContext:!0,numGlassOpenContext:!0,dockableContext:!0,autoDockContext:!0})},4455:(e,t,s)=>{"use strict";s.d(t,{TR:()=>x,f0:()=>C,L2:()=>y});var o=s(33970),i=s.n(o),n=s(5754),a=s.n(n),l=s(95004),r=s(44009),d=s(26321),c=s(54382),u=s(32415),p=s(46819),h=s(78667),m=s(58849),g=s(91949),v=s(65370),b=s(2629);function x(e){var t=e.general,s=e.categories,o=e.state,i=e.toggleCallback,n=e.children,l=e.communityLabelVisibilitySetting,x=(0,h.bp)().isLoggedIn,C=(0,m.h)().openLoginWall,w=(0,u.Pc)().data,y=null==w?void 0:w.user,j=(0,g.Eo)(void 0!==t&&t,s,null==y?void 0:y.communityLabelCategories,o,l),k=(0,b.jsxs)("div",{className:v.Z.cover,"data-testid":"community-label-cover",children:[(0,b.jsx)("div",{className:v.Z.coverHeader,children:(0,b.jsx)(c.ZP,{comment:"Community Label in post body",children:"Community Label: Mature"})}),(0,b.jsx)("p",{className:v.Z.coverAuthorNotice,children:(0,b.jsx)(f,{categories:s})}),(0,b.jsx)(r.Z,{onClick:()=>{x?i(!0,p.Gl):C()},children:(0,b.jsx)(d.Z,{className:v.Z.coverButton,children:(0,b.jsx)(c.ZP,{comment:"Button text on community label in post body",children:"Show post"})})})]});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:a()(v.Z.content,{[v.Z.isShowingCover]:j}),children:(0,b.jsx)("span",{children:n})}),j&&k]})}function f(e){var t=e.categories,s=(0,h.bp)()._c,o=(0,l.useMemo)(()=>Object.entries(t).filter(e=>{var t=i()(e,2)[1];return(0,g.CS)(t)}).map(e=>{var t=i()(e,1)[0];return(0,g.id)(t,s).label}),[t,s]);if(0===o.length)return(0,b.jsx)(b.Fragment,{children:(0,g.id)("general",s).info});if(1===o.length)return(0,b.jsx)(c.ZP,{params:{label:o[0]},children:"[label]"});if(2===o.length)return(0,b.jsx)(c.ZP,{params:{firstLabel:o[0],secondLabel:o[1]},children:"[firstLabel], [secondLabel]"});var n=s("Separator of list of community labels",", "),a=o.slice(0,-1).join(n);return(0,b.jsx)(c.ZP,{params:{initialLabels:a,finalLabel:o[o.length-1]},children:"[initialLabels], [finalLabel]."})}function C(e){var t=e.general,s=e.toggleCallback,o=e.categories,i=e.state,n=e.communityLabelVisibilitySetting,l=e.className,d=(0,h.bp)(),x=d._c,f=d.isLoggedIn,C=(0,m.h)().openLoginWall,w=(0,u.Pc)().data,y={drugUse:x("Mature content category","Drug Use"),violence:x("Mature content category","Violence"),sexualThemes:x("Mature content cal Themes")};if(!i||!t)return null;var j=Object.keys(o).map(e=>o[e]&&y[e]).filter(e=>e).join(", "),k=i===p.Gl?x("Button to cover post with a community label","Hide post"):x("Button to show post with a community label","Show post"),N=null==w?void 0:w.user,P=(0,g.vj)(t,o,null==N?void 0:N.communityLabelCategories,i,n);return(0,b.jsxs)("div",{className:a()(v.Z.header,l),children:[(0,b.jsxs)("span",{className:v.Z.headerText,children:[(0,b.jsx)(c.ZP,{comment:"Community Label in post header",children:"Community Label: Mature"}),j&&(0,b.jsxs)(b.Fragment,{children:[": ",j]})]}),P&&(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(r.Z,{className:a()(v.Z.headerLink),onClick:()=>{var e=i===p.Gl?p.aY:p.Gl;if(e===p.Gl&&!f)return C();s(!0,e)},label:k,children:k})})]})}var w=p.aY,y=e=>{var t,s=(0,h.bp)(),o=s.communityLabelVisibilitySetting,n=s.isLoggedIn,a=l.useState((null==e?void 0:e.hasCommunityLabel)||!1),r=i()(a,2),deState(p.aY),m=i()(u,2),v=m[0],b=m[1],x=l.useCallback((e,t)=>{b(t),c(e)},[]),f=l.useMemo(()=>(0,ggleCallback:x,categories:C,general:y,communityLabelVisibilitySetting:o}),[o,y,C,t,x]);return{setCommunityLabel:x,state:t,headerProps:j,coverProps:j}}},71017:(e,t,s)=>{"use strict";s.d(t,{Z:()=>ej});var o=s(54138),i=s.n(o),n=s(50209),a=s.n(n),l=s(5754),r=s.n(l),d=s(9156),c=s(95004),u=s(17287),p=s(3802),h=s(33970),m=s.n(h),g=s(94576),v=s(2629);function b(e){var t=(0,c.useState)(void 0),s=m()(t,2),o=s[0],n=s[1],a=(0,c.useCallback)(()=>{var e,t=null===(e=(0,g._5)())||void 0===e?void 0:e.innerHeight;t&&(!o||Math.abs(t-o)>100)&&n(t)},[o]);return(0,c.useEffect)(()=>{var e;return n(null===e?void 0:e.innerHeight),(0,g.Rr)("resize",a),()=>(0,g.oQ)("resize",a)},[a]),(0,v.jsx)(p.Z,i()(i()({},e),{},{maxHeight:void 0!==o?.8*o:1/0,maxHeightTolerance:void 0!==o?1.2*o:1/0,preventTruncation:void 0===o||e.preventTruncation}))}var x=s(32697),f=s(80062),C=s(26216),w=s(43523),y=s(31679),j=s(22424),k=s(43166),N=s(55855),P=s(63583),S=s.n(P),I=s(44009);let T={ctaButton:"LrOId"},A=function(e){var t=e.ctaText,s=e.backgroundColor,o=void 0===s?S().paletteAccent:s,n=e.borderColor,a=void 0===n?S().paletteAccent:n,l=e.color,d=void 0===l?S().paletteWhite:l,c=e.clickUrl,u=e.placementId,p=e.onClick,h=(0,j.wL)().logEvent,m=(0,k.uu)().post,g=(0,y.b)(),b=g.hydraConfigInstanceId,x=g.adPlacementConfiguration,f=()=>{h({eventName:w.J.CTAButton,eventDetails:i()({placement_id:u},(0,N.U)({hydraConfigInstanceId:b,adPlacementConfiguration:x,timelineObject:m}))}),h({eventName:w.J.Click,eventDetails:i()({placement_id:u},(0,N.U)({hydraConfigInstanceId:b,adPlacementConfiguration:x,timelineObject:m}))})};return p?(0,v.jsx)("div",{className:r()(T.ctaButton),style:{r:o,color:d,borderColor:a},children:(0,v.jsx)(I.Z,{onClick:()=>{p(),f()},children:t})}):(0,v.jsx)("a",{className:r()(T.ctaButton),style:{backgroundColor:o,color:d,borderColor:a},href:c,rel:"nofollow noreferrer noopener",target:"_blank",onClick:f,children:t})};var B=s(24185),Z=s(5659),E=s(17276),M=s.n(E),L=s(98478),R=s(902),D=s(6233),O=s(26321),z=s(54382),F=s(78667);let V={flagged:"kZfp1",communityLabelFlag:"H2hul",inReview:"zwjUv",hasError:"WfICw",bannerPillButton:"TBfTV",pill:"EkBU0",bannerActions:"dJtjN",dismiss:"Nvxc5",communityLabelModalContent:"BF3AU",appealComment:"U9tmV",communityLabelModalActions:"X5e5s",primary:"F7dEp",outline:"UHvHp",appealButtons:"YYlrz",bannerText:"MQO0V"};class _ extends c.Component{constructor(){var e,t;super(...arguments),t=this,a()(this,"state",{appealState:null!==(e=this.props.initialAppealState)&&void 0!==e?e:"unavailable",openGlass:!1,hasError:!1,needsAppealComment:!1,appealComment:"",bannerDismissed:!1}),a()(this,"logEvent",e=>{var t=this.props.logEvent,s=this.props;t({eventName:e,eventDetails:{blog_name:s.blogName,post_id:s.postId}})}),a()(this,"toggleGlass",()=>{this.setState(e=>({openGlass:!e.openGlass}))}),a()(this,"onClickDismissGlass",()=>{this.toggleGlass(),this.setState({hasError:!1,needsAppealComment:!1,appealComment:""}),this.logEvent(w.J.CommunityLabelCancelReviewButtonClicked)}),a()(this,"onClickSubmitAppeal",()=>{this.submitAppeal("request_review"),this.logEvent(w.J.CommunityLabelRequestReviewButtonClicked)}),a()(this,"onClickDismissBanner",()=>{this.setState({bannerDismissed:!0}),this.logEvent(w.J.CommunityLabelDismissButtonClicked)}),a()(this,"onClickLearnMore",()=>{this.logEvent(lickInfoButton",()=>{this.logEventnChangeAppealComment",e=>{this.setState({appealComment:e.target.value})}),a()(this,"onClickOpenAppealModal",()=>{this.toggleGlass()}),a()(this,"submitAppeal",function(e){var s,o,n,a,l;return M()().async(function(r){for(;;)switch(r.prev=r.next){case 0:return o=(s=t.props).blogName,n=s.postId,a=s.appContext.apiFetch,l=t.state.appealComment,r.prev=2,r.next=5,M()().awrap(a(`/v2/blog/${o}/posts/${n}/community-label/appeal`,{method:"POST",body:i()({community_label_appeal_action:e},"request_review"===e&&{community_label_appeal_comment:l})}));case 5:"request_review"===e&&t.setState({appealState:"in_review",openGlass:!1}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),t.setState({hasError:!0});case 11:case"end":return r.stop()}},null,null,[[2,8]],Promise)})}render(){var e=this.state,t=e.openGlass,s=e.appealState,o=e.appealComment,i=this.props.appContext._t,n=(0,v.jsx)(D.Z,{title:i("Request community label review"),onClose:this.onClickDismissGlass,theme:D.L.Rounded,children:(0,v.jsxs)("div",{className:V.communityLabelModalContent,children:[(0,v.jsx)("p",{children:(0,v.jsx)(z.ZP,{components:{link:(0,v.jsx)("a",{href:"/policy/en/community",title:i("Community Guidelines"),target:"_blank",rel:"noopener noreferrer"})},children:`We have determined that your post contains content that would be better suited with a Community Label. While it does not violate our [link]Community Guidelines[/link], a Community Label has been added to your post so that it is only presented to those who wish to view that material. 

If you think this was done in error, you can Request Review to let us know. Please include a short explanation with your request:`})}),(0,v.jsx)("textarea",{className:V.appealComment,value:o,onChange:this.onChangeAppealComment,placeholder:i("Add a comment...")}),(0,v.jsxs)("div",{className:V.communityLabelModalActions,children:[(0,v.jsx)("div",{className:V.communityLabelModalLink,children:(0,v.jsx)("a",{href:"https://help.tumblr.com/hc/articles/5436241401239",title:"Learn more",target:"_blank",rel:"noopener noreferrer",onClick:this.onClickLearnMore,children:i("Learn More")})}),(0,v.jsxs)("div",{className:V.appealButtons,children:[(0,v.jsx)(I.Z,{"aria-label":i("Dismiss the post review request form"),onClick:this.onClickDismissGlass,children:(0,v.jsx)(O.Z,{className:r()(V.pill,V.outline,V.large),children:i("Dismiss")})}),(0,v.jsx)(I.Z,{"aria-label":i("Submit a post review request"),onClick:this.onClickSubmitAppeal,disabled:""===this.state.appealComment,children:(0,v.jsx)(O.Z,{className:r()(V.pill,V.primary,V.large),children:i("Request Review")})})]})]})]})}),a=(0,v.jsx)("a",{href:"https://help.tumblr.com/hc/articles/5436241401239",title:"Learn more",target:"_blank",rel:"noopener noreferrer",onClick:this.onClickInfoButton,children:(0,v.jsx)(R.Z,{colors:{primary:S().paletteWhite},size:{width:22,height:22}})}),l=(0,v.jsx)(I.Z,{"aria-label":i("Dismiss appeal banner"),onClick:this.onClickDismissBanner,children:(0,v.jsx)(L.Z,{className:V.dismiss})});return this.state.bannerDismissed?null:this.state.hasError?(0,v.jsxs)("div",{className:r()(V.flagged,V.communityLabelFlag,V.hasError),children:[(0,v.jsx)("span",{className:V.bannerText,children:i("There was an error submitting your request.")}),(0,v.jsx)("span",{className:V.bannerActions,children:l})]}):"in_review"===s?(0,v.jsxs)("div",{className:r()(V.flagged,V.communityLabelFlag,V.inReview),children:[(0,v.jsx)("span",{className:V.bannerText,children:i("Your post is in Community Label review.")}),(0,v.jsx)("span",{className:V.bannerActions,children:a})]}):"available"===s?(0,v.jsxs)("div",{className:r()(V.flagged,V.communityLabelFlag),children:[(0,v.jsx)("span",{className:V.bannerText,children:i("We reviewed your post and determined it needed a Community Label.")}),(0,v.jsxs)("span",{className:V.bannerActions,children:[(0,v.jsx)(I.Z,{"aria-label":i("Request second review of this post"),onClick:this.onClickOpenAppealModal,children:(0,v.jsx)(O.Z,{className:V.bannerPillButton,children:i("Request Second Review")})}),l,t&&n]})]}):"label_required"===s?(0,v.jsx)("div",{className:r()(V.flagged,V.communityLabelFlag),children:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:V.bannerText,children:i("Based on our Community Guidelines, this post requires a Community Label.")}),(0,v.jsxs)("span",{className:V.bannerActions,children:[(0,v.jsx)(I.Z,{"aria-label":i("Dismiss appeal banner"),onClick:this.onClickDismissBanner,children:(0,v.jsx)(O.Z,{className:V.bannerPillButton,children:i("Dismiss")})}),a]})]})}):null}}let H=e=>(0,v.jsx)(_,i()(i()({},e),{},{appContext:(0,F.bp)(),logEvent:(0,j.wL)().logEvent}));var W=s(50213),U=s(23326),q=s(5700);let G={flagged:"gQmlg",inReview:"wB6qM",approved:"_qMFx",appealButton:"SEj9V",appealInfo:"D7qy6"};class $ extends c.Component{constructor(){super(...arguments),a()(this,"state",{openGlass:!1,inReview:!1,hasError:!1,needsAppealComment:!1,appealComment:""}),a()(this,"logEvent",e=>{var t=this.props.logEvent,s=this.props;t({eventName:e,eventDetails:{blog_name:s.blogName,post_id:s.postId}})}),a()(this,"submitAppeal",()=>{var e=this.props,t=e.blogName,s=e.postId;return(0,e.appContext.apiFetch)(`/v2/blog/${t}/posts/${s}/appeal`,{method:"POST",body:{owner_appeal_nsfw:"request_review",appeal_comment:this.state.appealComment}}).then(()=>{this.setState({inReview:!0,openGlass:!1})}).catch(()=>{this.setState({hasError:!0})})}),a()(this,"toggleGlass",()=>{this.setState(e=>({openGlass:!e.openGlass}))}),a()(this,"onClickNext",()=>{this.setState({needsAppealComment:!0}),this.logEvent(w.J.AdultContentAppealNext)}),a()(this,"onClickSubmit",()=>{switch(this.submitAppeal(),this.props.classification){case q.CN.Explicit:this.logEvent(w.J.AdultContentAppealSubmitExplicit);break;case q.CN.Sensitive:this.logEvent(w.J.AdultContentAppealSubmitSensitive)}}),a()(this,"onClickDismiss",()=>{this.toggleGlass(),this.setState({hasError:!1,needsAppealComment:!1,appealComment:""}),this.logEvent(w.J.AdultContentAppealCancel)}),a()(this,"onClickAppealPost",()=>{switch(this.toggleGlass(),this.props.classification){case q.CN.Explicit:this.logEvent(w.J.AdultContentAppealOpenExplicit);break;case q.CN.Sensitive:this.logEvent(w.J.AdultContentAppealOpenSensitive)}}),a()(this,"onChangeAppealComment",e=>{this.setState({appealComment:e.target.value})})}render(){var e=this.props,t=e.flaggedType,s=e.isReblog,o=e.isNsfw,n=e.showApprovedAppeals,a=this.state,l=a.openGlass,d=a.inReview,c=a.hasError,u=a.needsAppealComment,p=a.appealComment,h=this.props.appContext,m=h._t,g=h.wwwBaseUrl;if("none"===t)return null;if(!o&&n&&"complete"===t)return(0,v.jsx)("div",{className:r()(G.flagged,G.approved),children:m("Your appeal was accepted! This post is no longer hidden.")});if(!o)return null;var b={onGlassClick:this.toggleGlass,glassIsClickable:!1},x={text:m("Next"),onClick:this.onClickNext,buttonStyle:U.X.Confirm},f={text:m("Submit Appeal"),onClick:this.onClickSubmit,buttonStyle:U.X.Confirm},C={text:m("Dismiss"),onClick:this.onClickDismiss,buttonStyle:U.X.Confirm},w=i()(i()({},C),{},{buttonStyle:U.X.Neutral}),y={text:m("Learn More"),link:`${g}/docs/adultcontentfaq`,buttonStyle:U.X.Neutral},j={text:m("Learn More"),link:`${g}/docs/contentappeals`,buttonStyle:U.X.Neutral},k=(0,v.jsx)(W.Z,i()(i()({},b),{},{children:(0,v.jsx)(U.O,{body:m("This post was flagged because somewhere in your reblog there might be sexually explicit content which is a violation of our Community Guidelines."),buttons:[y,C]})})),N=(0,v.jsx)(W.Z,i()(i()({},b),{},{children:(0,v.jsx)(U.O,{body:m("Your post is in content appeal. Once a decision has been made, we'll send you an email."),buttons:[j,C]})})),P=(0,v.jsx)(W.Z,i()(i()({},b),{},{children:(0,v.jsx)(U.O,{body:m("Unable to appeal the post. Please contact support for further help."),buttons:[y,C]})})),T=(0,v.jsx)(W.Z,i()(i()({},b),{},{children:(0,v.jsx)(U.O,{body:m("This post was flagged because we think it contains sexually explicit content which violates our Community Guidelines. It has been hidden from others, but not deleted. If you think this was done in error, tap Appeal and a real, live human will review it."),buttons:[x,y,w]})})),A=(0,v.jsx)(W.Z,i()(i()({},b),{},{children:(0,v.jsx)(U.O,{title:m("Want to tell us more?"),body:m('Use the space below to give us more context regarding your appeal and why you think the post was misclassified.<br/><br/>Sexually explicit content is imagery that depicts realistic human genitals or sex acts. For more information and related exceptions, read our <a target="_blank" rel="noopener" href="//tumblr.zendesk.com/hc/en-us/articles/231885248-Adult-Content">Sexually Explicit Content Policy</a>.'),isBodyHtml:!0,buttons:[f,w],children:(0,v.jsx)("textarea",{className:G.appealInfo,value:p,onChange:this.onChangeAppealComment,placeholder:m(`Write your appeal here. For example you can write:

"This post shows my top surgery recovery"
"This post shows other, non-sexual LGBTQ+ content" (please specify)
"This is a non-sexual nude drawing I created"
"My post is about breastfeeding"
"This post doesn't contain any nudity"`)})})})),B=(0,v.jsx)(W.Z,i()(i()({},b),{},{children:(0,v.jsx)(U.O,{body:m("This post was flagged because it contains sexually explicit content which violates our Community Guidelines. It has not been deleted but is now only viewable to you. This decision cannot be appealed."),buttons:[y,C]})})),Z=(0,v.jsx)(I.Z,{label:m("What does this mean?"),onClick:this.toggleGlass,children:(0,v.jsx)(R.Z,{colors:{primary:S().paletteWhite},size:{width:22,height:22}})});return"in_review"===t||d?(0,v.jsxs)("div",{className:r()(G.flagged,G.inReview),children:[m(s?"This reblog is in content appeal":"Your post is in content appeal"),Z,l&&N]}):s?(0,v.jsxs)("div",{className:G.flagged,children:[m("This post was flagged because somewhere in your reblog there might be sexually explicit content."),Z,l&&k]}):"unavailable"===t?(0,v.jsxs)("div",{className:G.flagged,children:[m("It looks like your post might be in violation of our Community Guidelines and is now hidden."),Z,l&&B]}):"complete"===t?(0,v.jsxs)("div",{className:G.flagged,children:[m("Based on our Community Guidelines this post contains sexually explicit content and is now only viewable to you."),Z,l&&B]}):(0,v.jsxs)("div",{className:G.flagged,children:[m("It looks like your post might be in violation of our Community Guidelines and is now hidden."),(0,v.jsx)("button",{className:G.appealButton,"aria-label":m("Appeal this post"),onClick:this.onClickAppealPost,children:m("Appeal")}),l&&(0,v.jsx)(v.Fragment,{children:c?P:u?A:T})]})}}let Q=e=>(0,v.jsx)($,i()(i()({},e),{},{appContext:(0,F.bp)(),logEvent:(0,j.wL)().logEvent}));var J=s(25769),X=s(25190),Y=s(68280),K=s(46819),ee=s(67023),et=s(52153),es=s(72146),eo=s(1163),ei=s(77),en=s(12736),ea=s(14544),el=s(17114),er=s(73125),ed=s(60857),ec=s(12885),eu=s(88410),ep=e=>{var t,s=e.layout,o=e.content,i=null==s?void 0:s.find(e=>e.type===q.ms.Ask);return(null==i||null===(t=i.blocks)||void 0===t?void 0:t.length)<(null==o?void 0:o.length)},eh=s(22527),em=s(36376),eg=s(96467),ev=s(69682),eb=s(96337),ex=s(4455);let ef=e=>{var t=e.expand,s=e.filteredTags,o=e.filteredContent,i=(0,F.bp)()._t,n=s&&s.length?"#tagfiltntentfiltering",a=`/settings/account${n}`,l=s&&s.length?s.map(e=>`#${e}`).join(", "):o.join(", "),r=(0,v.jsx)("a",{className:"q05ND",target:"_blank",href:a,children:l}),d=i(s&&s.length?"This post contains filtered tags.":"This post contains filtered content."),c=i("View post");return(0,v.jsxs)("div",{className:"W0ros",children:[(0,v.jsx)("p",{className:"uamX1",children:d}),r,(0,v.jsx)(I.Z,{onClick:t,className:"NQQC8",wrapperClassName:"dgAgY",label:c,children:c})]})};var eC=s(50244);let ew={scheduledQueueDate:"SirwX",scheduledQueueDay:"jn3oa",scheduledIndicator:"b1E_e",post:"FtjPK",withOutline:"r0etU",contentWrapper:"VDRZ4",submission:"hYZb4",contentSource:"d_FyU",isPaywallShown:"fX9yp",footerWrapper:"qYXF9",isRenderedInPeepr:"EBcaC",submissionWrapper:"nPaE8",submitter:"IyHrQ",hiddenNotice:"NwkDL"};class ey extends c.Component{constructor(){super(...arguments),a()(this,"state",{hasExpandedFromFiltered:!1,showPost:!0}),a()(this,"isLongPost",void 0),a()(this,"setIsLongPost",e=>{this.isLongPost=e}),a()(this,"getPostContextValue",(0,d.Z)((e,t)=>({presentationStyle:t,post:i()(i()({},e),{},{canReply:e.canReply&&t.showsReplyButton,canSendInMessage:e.canSendInMessage&&t.showsShareButton}),isNarrow:!!this.props.isNarrow,getIsLongPost:()=>this.isLongPost,setCommunityLabel:this.props.communityLabelState.setCommunityLabel}),{maxSize:1})),a()(this,"getSubmissionAttribution",()=>{var e=this.props.timelineObject,t=e.postAuthor,s=e.state,o=e.anonymousEmail,i=e.anonymousName;return t?(0,v.jsx)("div",{className:ew.submissionWrapper,children:(0,v.jsx)(u.Z,{className:ew.submission,blogName:t,href:(0,ed.Z)(t),children:(0,v.jsx)(z.ZP,{comment:"This text denotes that a post on some blog was submitted to it by some other user",params:{postAuthor:t},components:{span:(0,v.jsx)("span",{className:ew.submitter})},children:"Submitted by [span][postAuthor][/span]"})})}):s===q.hA.Submission&&o&&i?(0,v.jsx)("div",{className:ew.submission,children:(0,v.jsx)(z.ZP,{params:{anonymousEmail:o,anonymousName:i},components:{span:(0,v.jsx)("span",{className:ew.submitter})},children:"Submitted by [span][anonymousName] ([anonymousEmail])[/span]"})}):(0,v.jsx)("div",{className:ew.submission,children:(0,v.jsx)(z.ZP,{comment:"This text denotes that a post on some blog was submitted to it by some anonymous user",components:{span:(0,v.jsx)("span",{className:ew.submitter})},children:"Submitted by [span]anonymous[/span]"})})}),a()(this,"renderTags",(e,t,s)=>{var o=this.props.timelineObject,i=o.tags,n=o.tagsV2,a=o.paywallAccess,l=o.isPaywalled,r=o.recommendedColor;return(0,v.jsx)(eC.Z,{tags:i,tagsV2:n,isPaywallShown:t,isSupporting:a===et.bv.Member&&l,postChromeStyles:s,collapsedHeight:e?eg.wrappedTagsMobileHeight:eg.wrappedTagsDesktopHeight,recommendedColor:r})}),a()(this,"appendIsBlurredImages",(e,t)=>e.map(e=>e.type===q.kH.Image&&t?i()(i()({},e),{},{isBlurredImages:this.props.timelineObject.isBlurredImages}):e)),a()(this,"getInboxAttribution",e=>{var t=this.props.timelineObject,s=t.postUrl,o=t.askingName,i=t.askingUrl,n=t.askingAvatar,a=t.postAuthor,l=t.postAuthorAvatar,r=t.blog,d=void 0===o?"":o,c=void 0===i?"":i,u=n,p=(0,q.lG)(t);return p&&(d=void 0===a?"":a,u=l,c=(0,er.Z)(t.postAuthor)),{recipientName:e&&!r.primary?r.name:void 0,isSubmission:p,permalinkUrl:s,blog:{name:d,url:c,avatar:u,uuid:""}}}),a()(this,"getAttribution",(e,t)=>e?this.getInboxAttribution(t):(0,em.Z)(this.props.timelineObject)),a()(this,"expandFromFiltered",()=>this.setState({hasExpandedFromFiltered:!0})),a()(this,"hidePost",()=>this.setState({showPost:!1}))}render(){var e,t,s=this.props,o=s.timelineObject,n=s.appContext,a=n.autoTruncatingPosts,l=n.features,d=n._t,c=s.dashboardContext.tabId,u=s.modalOrPeeprShowingContext.isPeeprShowing,h=s.postSlotsContext,m=s.isInInboxTimeline,g=s.isNarrow,x=s.logEvent,f=s.postIndex,C=s.communityLabelState,y=s.onAdReported,j=s.showReportAd,N=o.actions,S=o.blog,I=o.blogName,T=o.id,B=o.content,E=o.layout,M=o.date,L=o.filtered,R=o.isNsfw,D=o.ownerAppealNsfw,O=o.rebloggedFromAdvertiserName,F=o.rebloggedFromCanBeFollowed,V=o.rebloggedFromFollowing,_=o.rebloggedFromId,W=o.rebloggedFromName,U=o.trail,G=o.type,$=o.canEdit,ee=o.isSubmission,eo=o.askingName,ei=o.sponsoredBadgeUrl,en=o.sourceUrl,ea=o.sourceTitle,el=o.sourceUrlRaw,er=o.dismissal,ed=o.state,em=o.placementId,eg=o.adm,eC=o.isPaywalled,ey=o.paywallAccess,ej=o.earnedId,ek=o.communityLabelAppealState,eN=o.isBlazed,eP=o.blazerBlog,eS=o.community,eI=this.state,eT=eI.hasExpandedFromFiltered,eA=eI.showPost,eB=l.paywallConsumption&&eC&&(ey===et.bv.NonMember||ey===et.bv.Disabled);if(G!==q.SB)return"production"===Y.Z.Development&&console.warn(`Post with id "${T}" is not blocks type and cannot be rendered`),null;var eZ=this.props.presentationStyle,eE=this.getAttribution(eZ.usesInboxAttribution,eZ.showsRecipientForInboxAttribution);null!=eE&&eE.blog.advertiserName&&(eZ=i()(i()({},eZ),{},{showsPosterAvatar:!1}));var eM=!(void 0!==F)&&S.canBeFollowed,eL=(0,eh.d)(N),eR=!!eo,eD=eR&&ed===q.hA.Submission,eO=this.props.timelineObject.isAnonymous&&ee&&m||this.props.timelineObject.isAnonymous&&eD,ez=$?i()(i()({},o),{},{sourceUrl:el}):void 0,eF=C.headerProps,eV=!!eN&&!!ei,e_=!(eV&&eP?eP:eE.blog).url,eH=d("Pinned Post"),eW=o.recommendationReason;(null===(e=eW)||void 0===e?void 0:e.text)===eH&&(eW=null),o.isPinned&&eZ.showsPinnedStatus&&(eW={text:eH,icon:es.c.Pin,color:P.paletteAccent,loggingReason:"",links:{}});var eU=(0,v.jsx)(J.m,{postState:ed,postAttribution:eE,reblogAttribution:_?{blogName:O||W||"",postId:_}:void 0,presentationStyle:eZ,showsFollowButton:!eZ.usesInboxAttribution&&(F||eM),showsSponsored:!!ei,isFollowingReblogger:V,dismissal:er,date:M,placementId:em,earnedId:ej,community:eS,isPaywalled:eC,showAsAnonymous:eO,blogHasNoAvatar:e_,isInboxAsk:eD,editablePost:ez,afterHideAd:this.hidePost,isBlazeCampaign:eV,communityLabelProps:eF,recommendationReason:eW,showReportAd:j,onAdReported:y}),eq=(0,v.jsx)(Q,{flaggedType:D,postId:T,blogName:I,isReblog:void 0!==_,isNsfw:R,showApprovedAppeals:eZ.showsApprovedAppealBanner,classification:o.classification});if(L&&!eT)return(0,v.jsx)(k.Mj.Provider,{value:this.getPostContextValue(o,eZ),children:(0,v.jsxs)("article",{className:ew.post,children:[eU,(0,v.jsx)(ef,{expand:this.expandFromFiltered,filteredTags:L.tags,filteredContent:L.content})]})});var eG=!!U.length&&!!B.length,e$=!U.find(e=>(0,q.eb)(e)&&e.blog.name===S.name&&e.blog.showFollowAction),eQ=(()=>{var e=this.getPostContextValue(o,eZ);return e.post.community&&e.post.authorBlog||S})(),eJ={content:B,layout:E,blog:i()(i()({},eQ),{},{showFollowAction:e$}),post:{id:T,timestamp:null==o?void 0:o.timestamp},isContributedContent:!0},eX=eG?[...U,eJ]:U,eY=!!(null!=eL&&eL.text)&&!!(null!=eL&&eL.urls.web),eK=eY&&(0,v.jsx)(A,{ctaText:eL.text,clickUrl:null==eL?void 0:eL.urls.web,color:null==eL?void 0:eL.textColor,backgroundColor:null==eL?void 0:eL.backgroundColor,placementId:em,onClick:this.props.ctaOnClick}),e0=(0,v.jsx)(eb.Q,{trail:eX,parentPlacementId:em,parentEarnedId:ej,contentFooter:eX.length&&eK}),e1=this.appendIsBlurredImages(B,eZ.blursImagesFromUnfollowedBlogs),e2=!!B.length&&!U.length,e4=e2&&eZ.showsOnlyFirstMediaBlock&&(0,eu.x)(e1),e5=e2&&(0,v.jsx)(ev.ZP,{isOriginalPost:!0,postingBlog:S,adm:eg,placementId:em,blocks:e4?[e4]:e1,layouts:e4?void 0:E}),e3=!!ee&&eZ.showsSubmissionAttribution&&this.getSubmissionAttribution(),e6=!!ea&&!!en&&(0,v.jsx)("div",{className:r()(ew.contentSource,{[ew.isPaywallShown]:eB}),children:(0,v.jsx)(z.ZP,{comment:'Content source. The placeholder is a link to the source of the post (like "website.com").',params:{sourceTitle:ea},components:{link:(0,v.jsx)("a",{href:en,target:"_blank",rel:"noopener noreferrer"})},children:"Source: [link][sourceTitle][/link]"})}),e9=(0,v.jsx)(v.Fragment,{children:this.props.children||(0,v.jsxs)(v.Fragment,{children:[e0,e5]})});e9=(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(ex.TR,i()(i()({},C.coverProps),{},{children:e9}))});var e7=!(null!==(t=this.props.timelineObject)&&void 0!==t&&t.forceTruncate)&&(!g&&!a||C.state===K.aY||C.state===K.fj);e9=eZ.maximumContentHeight?(0,v.jsx)(p.Z,{maxHeight:eZ.maximumContentHeight,maxHeightTolerance:eZ.maximumContentHeightBufferTolerance,preventTruncation:e7,setIsLongPost:g?null:this.setIsLongPost,onCrop:this.props.setIsPostTruncatedForImpressionEvent,onExpand:()=>x({eventName:w.J.ViewPost,eventDetails:{post_id:o.id,tab:c}}),children:e9}):eZ.autoLimitContentHeight?(0,v.jsx)(b,{preventTruncation:e7,setIsLongPost:g?null:this.setIsLongPost,onCrop:this.props.setIsPostTruncatedForImpressionEvent,onExpand:()=>x({eventName:w.J.ViewPost,eventDetails:{post_id:o.id,tab:c}}),children:e9}):(0,v.jsx)("div",{className:ew.contentWrapper,children:e9});var e8=this.props.paletteContext.name,te=eB&&S.theme?(0,ec.Z)(S):{},tt=eB&&S.theme?(0,ec.o)(S,e8):{};if(!eA)return(0,v.jsx)("article",{className:r()({[ew.withOutline]:eZ.hasOutline}),children:(0,v.jsx)("div",{className:ew.hiddenNotice,children:"Hidden"})});var ts=h.renderCustomFooter;return(0,v.jsx)(X.ZP,{children:e=>{var t=e.isMobile;return(0,v.jsx)(k.Mj.Provider,{value:this.getPostContextValue(o,eZ),children:(0,v.jsxs)("article",{className:r()(ew.post,{[ew.withOutline]:eZ.hasOutline}),children:[ed===q.hA.Queued&&this.renderQueueSchedule(t),eU,eq,(0,v.jsx)(H,{postId:T,blogName:I,initialAppealState:ek}),e9,e6,e3,!eX.length&&eY&&eK,(0,v.jsxs)("div",{className:r()(ew.footerWrapper,{[ew.isPaywallShown]:eB,[ew.isRenderedInPeepr]:u}),style:te,children:[!!eZ.showsTags&&this.renderTags(t,eB,tt),ts?(0,v.jsx)(ts,{}):(0,v.jsx)(Z.ZP,{isInInboxTimeline:m,canAnswer:eR&&!ep(o),isInboxAsk:eD,isPaywallShown:eB,isSubmissionDraft:ee&&ed===q.hA.Submission,postChromeStyles:tt,editablePost:ez,isNarrow:g,postIndex:f})]})]})})}})}renderQueueSchedule(e){var t=this.props.timelineObject,s=t.scheduledPublishTime,o=t.id,i=t.blogName,n=t.queuedState,a=this.props.appContext,l=a._getLocaleDateString,r=a._t;if(!s)return null;var d=new Date;d.setHours(23,59,59,999);var c=new Date(1e3*s),u=d.getTime()+5184e5>c.getTime()?ee.C.WeekdayShort:ee.C.MonthDayShort,p=l(c,u,!0),h=l(c,ee.C.Time,!0),m=n===q.SH.Scheduled?(0,v.jsx)("span",{className:ew.scheduledIndicator,title:r("Scheduled Post"),children:(0,v.jsx)(x.Z,{})}):(0,v.jsx)("span",{className:ew.scheduledIndicator,title:r("Queued Post"),children:(0,v.jsx)(f.Z,{})});return(0,v.jsxs)("div",{className:ew.scheduledQueueDate,role:"time",children:[(0,v.jsxs)("div",{className:ew.scheduledQueueDay,children:[m," ",p," ",h]}),e&&n===q.SH.Queued&&(0,v.jsx)(B.Z,{id:o.toString(),blogName:i})]})}}let ej=(0,C.s)(e=>{var t=(0,ex.L2)(e.timelineObject.communityLabels);return(0,v.jsx)(ey,i()(i()({},e),{},{appContext:(0,F.bp)(),adContext:(0,y.b)(),dashboardContext:(0,ei.iv)(),modalOrPeeprShowingContext:(0,en.z)(),paletteContext:(0,ea.M)(),postSlotsContext:(0,el.D)(),bluespaceContext:(0,eo.x)(),communityLabelState:t,logEvent:(0,j.wL)().logEvent}))},!1)},59992:(e,t,s)=>{"use strict";s.d(t,{J0:()=>r,M3:()=>l});var o=s(54138),i=s.n(o),n=s(5700),a=s(68346);function l(e){var t,s,o,a,l;return o=(0,n.Ps)(e)?(t=i()(i()({},e),{},{rows:e.rows}),s=i()(i()({},t),{},{display:t.rows.map(e=>({blocks:e}))}),delete s.rows,s):i()({},e),l=[],null===(a=o.display)||void 0===a||a.forEach(e=>{if(!e.mode||e.mode.type===n.T8.Weighted||e.mode.type===n.T8.Carousel){l.push(e);return}e.blocks.forEach(e=>{l.push({blocks:[e]})})}),i()(i()({},o),{},{display:l})}function r(e){var t=new a.Z(e).getLargestImage();return t.height/t.width}},50244:(e,t,s)=>{"use strict";s.d(t,{Z:()=>y});var o=s(54138),i=s.n(o),n=s(50209),a=s.n(n),l=s(5754),r=s.n(l),d=s(43157),c=s(95004),u=s(68280),p=s(41338),h=s(59215),m=s(63583),g=s.n(m),v=s(96467),b=s.n(v);let x={tags:"hAFp3",wrapper:"mwjNz",tag:"KSDLH",preTagsElement:"AXXSZ",seeAll:"nwVPE",supporting:"hyG7F",isPaywallShown:"wERE9",collapsed:"uXaAK",seeAllText:"m6pOC"};var f=s(78143),C=s(2629);class w extends c.Component{constructor(){super(...arguments),a()(this,"state",{collapsedState:"unknown"}),a()(this,"wrapper",null),a()(this,"showCollapsedUIIfNeeded",()=>{this.setState(()=>({collapsedState:this.wrapper&&this.wrapper.clientHeight>this.props.collapsedHeight?"collapsed":"expanded"}))}),a()(this,"showCollapsedUIIfNeededAfterFlush",(0,p.Z)(this.showCollapsedUIIfNeeded)),a()(this,"shouldRenderTags",()=>{var e=this.props,t=e.tags,s=e.tagsV2;return s&&s.length||t&&t.length}),a()(this,"getTagsVthis.props,t=e.tags;return e.tagsV2||(null==t?void 0:t.map(e=>({name:e})))}),a()(this,"getTagElements",()=>{var e=this.props,t=e.dashboardContext.highlightedTags,s=e.tagClassname,o=e.useExternalLinks,n=e.recommendedColor,a=this.getTagsV2();return a?a.map(e=>{if(e.name.startsWith("_"))return null;var a=e;return!e.style&&(null==t?void 0:t.includes(e.name.toLocaleLowerCase()))&&(a=i()(i()({},e),{},{style:{colors:[null!=n?n:m.paletteGreen]}})),(0,C.jsx)(f.Z,{className:r()(x.tag,s),tagName:e.name,useExternalLinks:o,tagV2:a},e.,e=componentWillUnmount(){this.showCollapsedUIIfNeededAfterFlush.cancel()}render(){var e,t,s=this.props,o=s.collapsedHeight,n=s.isPaywallShown,a=s.postChromeStyles,l=s.isSupporting,c=s.seeAllClassname,p=this.state.collapsedState,h=this.props.appContext._t;switch(p){case"unknown":e=!0,t=!1;break;case"expanded":e=!1,t=!1;break;case"collapsed":e=!0,t=!0}if("production"===u.Z.Development&&o!==b().wrappedTagsDesktopHeight&&o!==b().wrappedTagsMobileHeight&&console.warn("Please use dimensions.wrappedTagsDesktopHeight or dimensions.wrappedTagsMobileHeight as the values for collapsedHeight in this component."),!this.shouldRenderTags())return null;var m=null;return l&&(m=(0,C.jsx)("span",{className:r()(x.preTagsElement,x.supporting),children:(0,C.jsx)(d.Z,{color:g().paletteGreen,size:12})})),(0,C.jsx)("div",{className:r()(x.tags,{[x.collapsed]:e,[x.isPaywallShown]:n}),style:i()(i()({},a),"collapsed"===p?{maxHeight:o}:{}),children:(0,C.jsxs)("div",{ref:e=>this.wrapper=e,className:x.wrapper,children:[m,this.getTagElements(),t&&(0,C.jsxs)("a",{className:x.seeAll,onClick:this.expandTags,role:"button",children:["…"," ",(0,C.jsx)("span",{className:r()(x.seeAllText,c),children:h("See all")})]})]})})}}let y=(0,h.X9)(w,{appContext:!0,adContext:!0,dashboardContext:!0})},25769:(e,t,s)=>{"use strict";s.d(t,{m:()=>ep});var o=s(54138),i=s.n(o),n=s(54589),a=s.n(n),l=s(5754),r=s.n(l),d=s(45222),c=s(85085),u=s(45546),p=s(17287),h=s(31571),m=s(72314),g=s(19299),v=s(27252),b=s(73850),x=s(25447),f=s(85942),C=s(43157),w=s(33970),y=s.n(w),j=s(44009),k=s(28431),N=s(36343),P=(0,N.q)("bell-strikethrough");P.defaultProps={size:{width:16,height:16}};var S=s(53714),I=s(10849),T=s(95004),A=s(43523),B=s(78667),Z=s(43166),E=s(63583),M=s.n(E),L=s(42946),R=e=>{var t=e.endTimestamp,s=e.currentTimestamp,o=e.translationFns,i=o._c,n=o._cn,a=t-s;if(a===L.y.Week)return i("Relative string to show when time runs out in exactly 1 week","6 days 23 hours");if(a>L.y.Day){var l=Math.floor(a/L.y.Day),r=Math.floor((a-l*L.y.Day)/L.y.Hour);if(0===r){if(l<=1)return i("Relative hour string to show when time runs out in exactly 1 day","less than 24 hours");l-=1,r+=24}var d=n("Relative day string to show when time runs out in 1 or more days","%1$s day","%1$s days",l),c=n("Relative hour string to show when time runs out in 1 or more days","%1$s hour","%1$s hours",r);return`${d} ${c}`}var u=Math.floor(a/L.y.Hour),p=Math.floor((a-u*L.y.Hour)/L.y.Minute),h=n("Relative hour string to show when time runs out in less than 1 day","%1$s hour","%1$s hours",u),m=n("Relative minute string to show when time runs out in less than 1 day","%1$s minute","%1$s minutes",p);return u&&p?`${h} ${m}`:u&&!p?h:!u&&p?m:i("Relative time to show when time runs out in less than 1 minute","less than 1 minute")};let D={unmuteMenu:"RIBoR",menuHeading:"gIEq5",menuSubheading:"BsLEG",menuDivider:"vr9kN",menuDropdownItem:"oA9Km",popover:"dLuzh",unmuteNotificationButton:"Cd56W"};var O=s(2629),z=()=>{var e=(0,B.bp)(),t=e._c,s=e._cn,o=(0,Z.b8)().post,i=o.muted,n=o.muteEndTimestamp,a=(0,T.useState)(!1),l=y()(a,2),r=l[0],d=l[1],c=()=>d(!r),u=n||0,p=Math.round(Date.now()/1e3),h=0===u?t("Indicates that the post is muted.","Notifications muted"):t("Unmute button text which also indicates how much time before the mute automatically expires.","Notifications muted. %1$s remaining",[R({endTimestamp:u,currentTimestamp:p,translationFns:{_c:t,_cn:s}})]);return i?(0,O.jsx)(S.ZP,{targetWrapperClassName:D.popover,toggle:c,isOpen:r,render:()=>{var e=t("Indicated how much time before post notifications are unmuted.","%1$s remaining",[R({endTimestamp:u,currentTimestamp:p,translationFns:{_c:t,_cn:s}})]);return(0,O.jsxs)("div",{className:D.unmuteMenu,children:[(0,O.jsx)("div",{className:D.menuHeading,children:t("Heading on unmute dropdown","Notifications muted")}),u>0?(0,O.jsx)("div",{className:D.menuSubheading,children:e}):null,(0,O.jsx)("div",{className:D.menuDivider}),(0,O.jsx)(k.Z,{isWrappingButton:!0,className:D.menuDropdownItem,keepDropdownOpenAfterClick:!0,krakenEventName:A.J.UnmuteFromHeader,children:(0,O.jsx)(I.L,{onClick:c})},"mute")]})},height:"auto",closeForAllExternalClicks:!0,children:(0,O.jsx)(j.Z,{onClick:c,className:D.unmuteNotificationButton,"aria-label":h,children:(0,O.jsx)(P,{colors:{primary:M().paletteGray65},size:{width:16,height:16}})})}):null},F=s(64987),V=s(54382),_=s(32415),H=s(52153),W=s(5700),U=s(72146),q=s(22979),G=s(31679),$=s(74446),Q=s(55855),J=s(55015),X=s(4455),Y=s(76319),K=(0,N.q)("pin");K.defaultProps={size:{width:24,height:24}};var ee=s(19486),et=s(68280),es=s(70783);let eo={recommendationReason:"VPQeD",withIcon:"ESJX7"};var ei={[U.c.Search]:ee.Z,[U.c.Pin]:K},en={width:14,height:14};let ea=e=>{var t=e.reason,s=e.className,o=t.text,n=t.textHighlight,a=t.textHighlights,l=t.color,d=t.linknDestination;if(null!=a&&a.length){var h=a.map((e,t)=>`{{Component${t}/}}`),m=(0,es.A)(o,h),g=a.reduce((e,t,s)=>{var o=t.text,n=t.color;return i()(i()({},e),{},{[`Component${s}`]:(0,O.jsx)(p.Z,{blogName:o,style:{color:n},showBlogCard:!0,children:o})})},{});return(0,O.jsx)("span",{className:r()(eo.recommendationReason,s),style:{color:l},children:(0,Y.Z)({mixedString:m,components:g})})}if(c===U.c.Hashtag){var v=l,b="inherit",x=o;return n&&o.includes("%s")&&(b=l,v="inherit",x=(0,Y.Z)({mixedString:o.replace("%s","{{highlight/}}"),components:{highlight:(0,O.jsx)("span",{style:{color:b},children:"#"+n})}})),(0,O.jsx)("a",{href:null==u?void 0:u.href,style:{color:v},className:r()(eo.recommendationReason,s),children:x})}var f=c&&ei[c];"production"===et.Z.Development&&c&&!f&&console.warn(`No icon found for recommendation reason icon type "${c}"`);var C=f?(0,O.jsx)(f,{size:en,colors:{primary:l}}):null;return(0,O.jsxs)("a",{href:null==u?void 0:u.href,style:{color:l},className:r()(eo.recommendationReason,{[eo.withIcon]:C},s),children:[C,o]})};var el=s(99030);let er={header:"BjErQ",isLink:"PpzOx",avatar:"RYkKH",timestampWrapper:"MHZ5s",headerContent:"q4Pce",headerSponsored:"CsjTP",headerHasInlineAvatar:"J_Wh8",hidesPosterBlogname:"xjVqt",leftContent:"ZJdm4",leftContentMain:"ffqNn",leftContentSecondary:"pVS0A",timestamp:"j8f9p",withDotSeparatorContainer:"T28Qk",withDotSeparator:"ZlHiL",communityLabel:"QQAmL",innerText:"rJe2J",author:"zHhsx",attribution:"WJ6ij",postAttribution:"vGkyT",rebloggedFromName:"eLzSX",badgeContainer:"dMXm8",followButton:"rmjNp",private:"ps_dU",lock:"rFnRs",rightContent:"KFWnx",postMeatballsContainer:"a_qtV",headerBloglessAdvertiser:"yWEqH",subHeaderBlazeCampaign:"Dx0Mo",hasBadges:"MrqyD",attributionHeaderText:"NStl8",blazeBadge:"cTtCk",isCommercial:"y_F2V"},ed=e=>{var t,s,o,i,n=e.headerText,a=e.isNonInteractive,l=e.placementId,c=e.earnedId,m=e.isPaywalled,g=(0,Z.b8)(),b=g.post,f=g.presentationStyle,w=(0,G.b)(),y=w.hydraConfigInstanceId,j=w.adPlacementConfiguration,k=(0,B.bp)(),N=k._c,P=k.features.paywallConsumption,S=k.timestamps,I=b.id,T=b.blog,E=b.shouldShowTip,L=(0,Q.U)({hydraConfigInstanceId:y,adPlacementConfiguration:j,timelineObject:b}),R=P&&(null==T?void 0:T.paywallAccess)&&m,D=R&&(null==T?void 0:T.paywallAccess)!==H.bv.Member,z=J.Z.reblogRedesignNew.avatarDimension;return(0,O.jsxs)("div",{className:er.subHeaderBlazeCampaign,children:[(0,O.jsx)("div",{className:er.avatar,children:(0,O.jsx)(d.Z,{imageResponse:T.avatar,dimension:z,name:T.name,url:T.url,isAdult:T.isAdult,blog:T,isLink:!a,showBlogCard:!a,placementId:l,eventName:A.J.Avatar,eventDetails:L,liveNow:T.liveNow})}),(0,O.jsxs)("div",{className:r()(er.headerContent,er.headerHasInlineAvatar),children:[(0,O.jsxs)("div",{className:er.leftContent,children:[(0,O.jsxs)("div",{className:er.leftContentMain,children:[(0,O.jsx)("div",{className:r()(er.attribution,{[er.hasBadges]:!!(null!=T&&null!==(t=T.tumblrmartAccessories)&&void 0!==t&&null!==(t=t.badges)&&void 0!==t&&t.length)}),children:(0,O.jsxs)("div",{className:er.postAttribution,children:[(0,O.jsx)("span",{className:er.attributionHeaderText,children:n}),(0,O.jsx)(u.a,{canShowBadges:T.canShowBadges,tumblrmartAccessories:null==T?void 0:T.tumblrmartAccessories,unwrapped:!0,badgeClassName:er.badgeContainer})]})}),(0,O.jsx)(h.Z,{blogName:T.name,blogUrl:T.url,following:!!T.followed,className:er.followButton,isPostHeader:!0,extraFollowParams:{placementId:l,earnedId:c}})]}),S&&b.timestamp&&(0,O.jsx)("div",{className:er.leftContentSecondary,children:(0,O.jsx)(p.Z,{className:r()(er.timestampWrapper,er.withDotSeparator),blogName:b.blogName,postId:b.id,showBlogCard:!1,children:(0,O.jsx)(F.Z,{className:r()(er.timestamp),date:new Date(1e3*b.timestamp).toUTCString()})})})]}),(0,O.jsxs)("div",{className:er.rightContent,children:[R&&(null==T?void 0:T.paywallAccess)===H.bv.Member&&(0,O.jsx)(C.Z,{color:M().paletteWhite,backgroundColor:M().paletteGreen,size:20}),D&&(0,O.jsx)("span",{className:er.lockIcon,"aria-label":N("Indicates that the post has paywalled content that the user doesn't have access to, as they are not a subscriber.","For supporters"),children:(0,O.jsx)(v.Z,{colors:{primary:M().paletteGray65},size:{width:20,height:20}})}),(0,O.jsx)("span",{className:er.postMeatballsContainer,children:(0,O.jsx)(Z.Mj.Provider,{value:{post:b,presentationStyle:f},children:(0,O.jsx)(x.Z,{postUrl:b.postUrl,isPostPublishedOrPrivate:!0,blogName:b.blogName,blogUuid:null===(s=b.blog)||void 0===s?void 0:s.uuid,followed:null===(o=b.blog)||void 0===o?void 0:o.followed,date:b.date,showTip:E,isMember:null===(i=b.blog)||void 0===i?void 0:i.isMember,parentPostId:b.id})})}),E&&!D&&(0,O.jsx)(el.Z,{isMember:T.isMember,blog:T,postId:I})]})]})]})};var ec=s(83755),eu=["peeprPath"],ep=function(e){var t=e.postAttribution,s=e.reblogAttribution,o=e.showsFollowButton,n=e.showsSponsored,l=e.hideSponsoredText,w=void 0!==l&&l,y=e.presentationStyle,j=void 0===y?{}:y,k=e.isAd,N=e.isInboxAsk,P=e.showAsAnonymous,S=void 0!==P&&P,I=e.blogHasNoAvatar,T=e.isFollowingReblogger,E=e.dismissal,L=e.date,R=e.postState,D=e.isNonInteractive,Y=e.placementId,K=e.earnedId,ee=e.isPaywalled,et=e.community,es=e.editablePost,eo=e.afterHideAd,ei=e.isBlazeCampaign,en=e.communityLabelProps,el=e.recommendationReason,ep=e.onAdReported,eh=e.showReportAd,em=void 0!==eh&&eh,eg=(0,B.bp)(),ev=eg._t,eb=eg._c,ex=eg.features,ef=eg.timestamps,eC=(0,Z.uu)(),ew=eC!==Z.Nw,ey=(0,G.b)(),ej=ey.hydraConfigInstanceId,ek=ey.adPlacementConfiguration,eN=(0,$.i)().displayMode,eP=void 0===eN?q.mt.List:eN,eS=(0,_.Pc)().data,eI=(0,ec.z)({headerClassName:er.header,blogName:ew?eC.post.blogName:void 0,postId:ew?null===(eK=eC.post.id)||void 0===eK?void 0:eK.toString():void 0,postSlug:ew?eC.post.slug:void 0,presentationStyle:ew?eC.presentationStyle:void 0,source:"post_header",community:et}),eT=(eI.peeprPath,a()(eI,eu)),eA=j.showsEditButton,eB=j.showsDeleteButton,eZ=j.showsPostingBlogName,eE=j.showsBlazeeBlazerAuthor,eM=J.Z.reblogRedesignNew.reblogIconSize,eL=eZ||n,eR=ew&&(null==eC||null===(e0=eC.post)||void 0===e0?void 0:e0.canEdit)&&eA,eD=ew&&(null==eC||null===(e1=eC.post)||void 0===e1?void 0:e1.canDelete)&&eB,eO=ew&&(null==eC||null===(e2=eC.post)||void 0===e2?void 0:e2.canMute),ez=ew?null==eC||null===(e4=eC.post)||void 0===e4?void 0:e4.trail:void 0,eF=i()({source:"post_header"},ew?(0,Q.U)({hydraConfigInstanceId:ej,adPlacementConfiguration:ek,timelineObject:null==eC?void 0:eC.post}):{}),eV=ei&&n,e_=eV&&n&&!(null!=eC&&null!==(e5=eC.post)&&void 0!==e5&&e5.isSingleUserBlaze)&&!!(null!=eC&&null!==(e3=eC.post)&&void 0!==e3&&e3.blazerBlog),eH=s&&o&&(0,O.jsx)("div",{className:er.followButton,children:(0,O.jsx)(h.Z,{className:er.followButton,blogName:s.blogName,blogUrl:s.blogName,following:!!T,isPostHeader:!0,extraFollowParams:{placementId:Y,earnedId:K}})}),eW=r()(er.headerContent,{[er.hidesPosterBlogname]:!eL}),eU=S?null!=es&&es.anonymousName&&null!=es&&es.anonymousEmail?`${es.anonymousName} <${es.anonymousEmail}>`:ev("Anonymous"):(null==t||null===(e6=t.blog)||void 0===e6?void 0:e6.advertiserName)||(null==t||null===(e9=t.blog)||void 0===e9?void 0:e9.name),eq=s&&t?ev("%1$s reblogged a post from %2$s",[t.blog.name,s.blogName]):eU?ev("Posted by %1$s",[eU]):void 0,eG=n&&!eV&&(0,O.jsx)(f.Z,{showSpinner:!ex.tspUiUpdate&&eP!==q.mt.Masonry,showSponsoredText:!w,showAdFreeLink:!1,hideOnMobile:!1,isBlazeCampaign:ei}),e$=null==eS||null===(e7=eS.user)||void 0===e7?void 0:e7.hasTumblrPremium,eQ=J.Z.reblogRedesignNew.avatarDimension,eJ=s&&(0,O.jsx)(O.Fragment,{children:s.blogName&&(0,O.jsxs)("div",{className:er.rebloggedFromName,children:[(0,O.jsx)(p.Z,{blogName:s.blogName,placementId:Y,useInlinePopover:!0,krakenEvents:[{eventName:A.J.Posts,eventDetails:{source:"post_header"}},{eventName:A.J.ReblogNameClick,eventDetails:{source:"post_header"}}],children:s.blogName})," "]})}),eX=S||null==t||!t.blog.url||t.blog.advertiserName?(0,O.jsx)("span",{children:eU}):(0,O.jsx)(p.Z,{blogName:t.blog.name,blog:t.blog,placementId:Y,useInlinePopover:!0,className:er.author,rel:"author",krakenEvents:[{eventName:A.J.Posts,eventDetails:eF},{eventName:A.J.BlogNameClick,eventDetails:eF}],children:eU}),eY=(0,O.jsx)("span",{className:er.innerText});if(eE&&!eC.post.isSingleUserBlaze){if(eC.post.userIsBlazee){var eK,e0,e1,e2,e4,e5,e3,e6,e9,e7,e8,te,tt,ts,to,ti,tn,ta,tl,tr,td,tc,tu,tp,th,tm,tg,tv,tb,tx=!S&&null!==(tg=eC.post)&&void 0!==tg&&tg.blazerBlog?(0,O.jsx)(p.Z,{blog:eC.post.blazerBlog,placementId:Y,useInlinePopover:!0,className:er.author,rel:"author",krakenEvents:[{eventName:A.J.Posts,eventDetails:eF},{eventName:A.J.BlogNameClick,eventDetails:eF}],children:null===(tv=eC.post.blazerBlog)||void 0===tv?void 0:tv.name}):(0,O.jsx)("span",{children:null===(tb=eC.post.blazerBlog)||void 0===tb?void 0:tb.name});tm=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{className:er.blazeBadge,children:(0,O.jsx)(m.Z,{})}),(0,O.jsx)(V.ZP,{comment:"Displayed when an other user has blazed a post of the current user",components:{blazeeBlogLink:tx},children:"Blazed by [blazeeBlogLink/]"})]})}else tm=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{className:er.blazeBadge,children:(0,O.jsx)(m.Z,{})}),(0,O.jsx)(V.ZP,{comment:"Displayed when this user has blazed a post from an other user",params:{blogName:eC.post.blogName},components:{link:!S&&t?(0,O.jsx)(p.Z,{blog:t.blog,placementId:Y,useInlinePopover:!0,className:er.author,rel:"author",krakenEvents:[{eventName:A.J.Posts,eventDetails:eF},{eventName:A.J.BlogNameClick,eventDetails:eF}]}):(0,O.jsx)("span",{children:eC.post.blogName})},children:"Blazed [link][blogName]'s[/link] post"})]})}else if(!(null!=t&&t.recipientName)&&null!=t&&t.isSubmission)tm=(0,O.jsx)(V.ZP,{comment:"Displayed when a blog has submitted a post to a primary blog",components:{senderBlogLink:eX,innerElement:eY},children:"[senderBlogLink/] [innerElement]submitted:[/innerElement]"});else if(null!=t&&t.recipientName){var tf=(0,O.jsx)(p.Z,{blogName:t.recipientName,placementId:Y,useInlinePopover:!0,krakenEvents:[{eventName:A.J.Posts,eventDetails:{source:"post_header"}},{eventName:A.J.BlogNameClick,eventDetails:{source:"post_header"}}],children:t.recipientName});tm=t.isSubmission?(0,O.jsx)(V.ZP,{comment:"Displayed when a blog has submitted a post to a secondary blog",components:{senderBlogLink:eX,innerElement:eY,recipientBlogLink:tf},children:"[senderBlogLink/] [innerElement]submitted to[/innerElement] [recipientBlogLink/]:"}):(0,O.jsx)(V.ZP,{comment:"Displayed when a blog has sent a message to a secondary blog",components:{senderBlogLink:eX,innerElement:eY,recipientBlogLink:tf},children:"[senderBlogLink/] [innerElement]said to[/innerElement] [recipientBlogLink/]:"})}else tm=eX;if(k){var tC=(0,O.jsx)(f.Z,{showSpinner:!ex.tspUiUpdate&&eP!==q.mt.Masonry,showSponsoredText:!w,showAdFreeLink:!e$&&ex.adFreeAdsHeaderRedesign});return null!=t&&t.blog.name&&(tC=(0,O.jsxs)("div",{className:r()(er.leftContentMain),children:[(0,O.jsx)("div",{className:er.avatar,children:(0,O.jsx)(d.Z,{imageResponse:null==t?void 0:t.blog.avatar,dimension:eQ,name:null==t?void 0:t.blog.name,url:null==t?void 0:t.blog.url,isAdult:!1,blog:null==t?void 0:t.blog,isLink:!1,showBlogCard:!1,placementId:Y,eventName:A.J.Avatar,eventDetails:eF})}),(0,O.jsx)("span",{className:er.attribution,children:eU})]}),null!=t&&t.blog.url&&(tC=(0,O.jsx)("a",{href:null==t?void 0:t.blog.url,onClick:null==t?void 0:t.onClick,role:"button",target:"_blank",rel:"noopener",children:tC}))),(0,O.jsx)("header",{role:"banner",className:er.header,"aria-label":eq,children:(0,O.jsxs)("div",{className:r()(eW),children:[tC,(0,O.jsx)("span",{className:er.postMeatballsContainer,children:(0,O.jsx)(b.Z,{showAdFree:!e$,onAdReported:ep,showReportAd:em})})]})})}var tw=R===W.hA.Private&&(0,O.jsxs)("div",{className:r()(er.private,er.withDotSeparator),children:[(0,O.jsx)("div",{className:er.lock,children:(0,O.jsx)(g.Z,{size:eM,colors:{primary:M().paletteGray65}})}),ev("Private")]}),ty=e_||eE&&!(null!=eC&&null!==(e8=eC.post)&&void 0!==e8&&e8.isSingleUserBlaze)&&null!=eC&&null!==(te=eC.post)&&void 0!==te&&te.blazerBlog&&null!=eC&&null!==(tt=eC.post)&&void 0!==tt&&tt.userIsBlazee?null==eC||null===(ts=eC.post)||void 0===ts?void 0:ts.blazerBlog:null==t?void 0:t.blog,tj=eV?(0,O.jsx)(p.Z,{blogName:null==ty?void 0:ty.name,blog:ty,placementId:Y,useInlinePopover:!0,className:er.author,rel:"author",krakenEvents:[{eventName:A.J.Posts,eventDetails:eF},{eventName:A.J.BlogNameClick,eventDetails:eF}],children:(null==ty?void 0:ty.advertiserName)||(null==ty?void 0:ty.name)}):tm,tk=eL&&(0,O.jsxs)(O.Fragment,{children:[eV&&(0,O.jsx)("div",{className:er.blazeBadge,children:(0,O.jsx)(m.Z,{})}),tj," ",!eE&&(0,O.jsx)(u.a,{canShowBadges:null==ty?void 0:ty.canShowBadges,tumblrmartAccessories:null==ty?void 0:ty.tumblrmartAccessories,unwrapped:!0,badgeClassName:er.badgeContainer})]}),tN=(eL||eJ)&&(0,O.jsx)("div",{className:er.attribution,children:null!=s&&s.postId?(0,O.jsx)(V.ZP,{comment:"Shows up in post header to indicate that a post was reblogged by some other blogger.",components:{rebloggerAuthor:(0,O.jsx)(O.Fragment,{children:tk}),postAuthor:(0,O.jsx)(O.Fragment,{children:eJ})},children:"[rebloggerAuthor/] reblogged [postAuthor/]"}):(0,O.jsxs)(O.Fragment,{children:[tk,eJ]})}),tP=!(null!=eC&&null!==(to=eC.post)&&void 0!==to&&to.isSingleUserBlaze)&&null!=eC&&null!==(ti=eC.post)&&void 0!==ti&&ti.blazerBlog?null==ty?void 0:ty.canBeFollowed:o,tS=ty&&tP&&!eH&&eL&&(0,O.jsx)(h.Z,{blogName:ty.name,blogUrl:ty.url,following:!!ty.followed,wrapperClassName:er.followButton,className:er.followButton,isPostHeader:!0,extraFollowParams:{placementId:Y,earnedId:K}}),tI=eV&&null!=eC&&null!==(tn=eC.post)&&void 0!==tn&&tn.blazeTime?new Date((null==eC||null===(ta=eC.post)||void 0===ta?void 0:ta.blazeTime)*1e3):L,tT=ef&&tI&&(!n||eV),tA=(null==el?void 0:el.icon)===U.c.Pin,tB=el&&(0,O.jsx)(ea,{className:er.withDotSeparator,reason:el});tA&&!j.showsPinnedStatus?tB=null:tA||j.showsRecommendationReason||(tB=null);var tZ=(0,O.jsxs)("div",{className:er.leftContent,children:[tN||tS?(0,O.jsxs)("div",{className:er.leftContentMain,children:[tN,tS]}):null,(0,O.jsxs)("div",{className:r()(er.leftContentSecondary,er.withDotSeparatorContainer),children:[tT&&(0,O.jsx)(p.Z,{className:r()(er.timestampWrapper,er.withDotSeparator),blogName:eC.post.blogName,postId:eC.post.id,showBlogCard:!1,children:(0,O.jsx)(F.Z,{className:er.timestamp,date:tI})}),ex.dsaArticle26MarkPostAsCommercial&&eC.post.isCommercial&&(0,O.jsx)("div",{className:r()(er.isCommercial,er.withDotSeparator),children:eb("The label for commercial posts.","Commercial content")}),tw,tB,n&&(0,O.jsx)(f.Z,{showSpinner:!1,showSponsoredText:!w,showAdFreeLink:!1,hideOnMobile:!1,isBlazeCampaign:eV,className:er.withDotSeparator}),en&&(0,O.jsx)(X.f0,i()(i()({},en),{},{className:r()(er.withDotSeparator,er.communityLabel)}))]})]}),tE=ex.paywallConsumption&&(null==t||null===(tl=t.blog)||void 0===tl?void 0:tl.paywallAccess)&&(null==t||null===(tr=t.blog)||void 0===tr?void 0:tr.paywallAccess)===H.bv.Member&&ee&&(0,O.jsx)(C.Z,{color:M().paletteWhite,backgroundColor:M().paletteGreen,size:20}),tM=ex.paywallConsumption&&(null==t||null===(td=t.blog)||void 0===td?void 0:td.paywallAccess)&&(null==t||null===(tc=t.blog)||void 0===tc?void 0:tc.paywallAccess)!==H.bv.Member&&ee&&(0,O.jsx)("span",{className:er.lockIcon,"aria-label":eb("Indicates that the post has paywalled content that the user doesn't have access to, as they are not a subscriber.","For supporters"),children:(0,O.jsx)(v.Z,{colors:{primary:M().paletteGray65},size:{width:20,height:20}})}),tL=!D&&t&&(0,O.jsx)("div",{className:er.rightContent,children:eV?(0,O.jsx)("span",{className:er.postMeatballsContainer,children:(0,O.jsx)(b.Z,{showAdFree:!e$,afterHideAd:eo,onAdReported:ep,showReportAd:em})}):(0,O.jsxs)(O.Fragment,{children:[eG&&(0,O.jsx)("span",{className:er.postMeatballsContainer,children:(0,O.jsx)(b.Z,{showAdFree:!e$,afterHideAd:eo,onAdReported:ep,showReportAd:em})}),!eG&&(0,O.jsxs)(O.Fragment,{children:[tE,tM,eC.post.muted?(0,O.jsx)(z,{}):null,(0,O.jsx)("span",{className:er.postMeatballsContainer,children:(0,O.jsx)(x.Z,{dismissal:E,postUrl:t.permalinkUrl,isPostPublishedOrPrivate:!!R&&[W.hA.Published,W.hA.Private].includes(R),blogName:t.blog.name,blogUrl:t.blog.url,blogUuid:t.blog.uuid,followed:t.blog.followed,date:L,placementId:Y,renderPin:eA,currentTumblelog:ew&&(void 0!==N&&N||t.isSubmission)?null==eC||null===(tu=eC.post)||void 0===tu?void 0:tu.blogName:void 0,canDelete:eD,canEdit:eR,canMute:eO,editablePost:es,trail:ez,shouldOpenInLegacy:ew&&(null==eC||null===(tp=eC.post)||void 0===tp?void 0:tp.shouldOpenInLegacy)})})]})]})}),tR=J.Z.reblogRedesignNew.showsAvatarInline;ty&&ty.isBloglessAdvertiser&&(tR=!1),R===W.hA.Queued&&(tR=!0);var tD=tR&&ty&&(0,O.jsx)("div",{className:er.avatar,children:(0,O.jsx)(d.Z,i()({isAnonymous:S||void 0!==I&&I,imageResponse:ty.avatar,dimension:eQ,name:ty.name,url:ty.url,isAdult:ty.isAdult,blog:ty,isLink:!D,showBlogCard:!D,placementId:Y,eventName:A.J.Avatar,eventDetails:eF,liveNow:ty.liveNow,authorName:eC.post.postAuthor,authorImageResponse:!eC.post.community&&eC.post.postAuthorAvatar||void 0},s?{badge:c.Z.reblog()}:{}))});return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("header",i()(i()({className:r()(er.header,{[er.headerBloglessAdvertiser]:null==t||null===(th=t.blog)||void 0===th?void 0:th.isBloglessAdvertiser,[er.isLink]:eT.onClick}),"aria-label":eq,role:"banner"},eT),{},{children:[tD,(0,O.jsx)("div",{className:r()(eW,{[er.headerSponsored]:!!eG,[er.headerHasInlineAvatar]:!!tD}),children:tZ}),tL]})),e_&&(0,O.jsx)(ed,{isPaywalled:ee,headerText:tm,isNonInteractive:D,placementId:Y})]})}},83755:(e,t,s)=>{"use strict";s.d(t,{z:()=>u});var o=s(93804),i=s(34438),n=s(95004),a=s(78994),l=s(43523),r=s(18599),d=s(78667),c=s(22424),u=e=>{var t=e.headerClassName,s=e.blogName,u=e.postId,p=e.postSlug,h=e.presentationStyle,m=e.source,g=e.isReblogHeader,v=e.community,b=e.eventName,x=void 0===b?l.J.PostHeaderClick:b,f=(0,d.bp)(),C=f.wwwBaseUrl,w=f.getBrowserInfo,y=(0,c.wL)().logEvent,j=(0,a.s0)(),k=(0,a.TH)(),N=v&&u?(0,o.xm)({communityId:v.name,discussionId:u.toString(),slug:p}):(0,i.SS)({peeprBlogname:s,peeprPostId:null==u?void 0:u.toString(),peeprPostSlug:p}),P=(0,r.HP)(w()),S=(0,n.useCallback)(e=>{var s=e.target,o=s instanceof Element&&s.closest(`a,button,[role="button"],[role="link"]:not(.${t})`),i=s instanceof Element&&s.closest(`[role="group"]:not(.${t})`);if(!o&&!i&&N&&k.pathname!==N){var n="keyup"===e.type&&"key"in e;if((!n||"Enter"===e.key)&&(!n||"Enter"!==e.key||!o&&!i)){e.preventDefault(),y({eventName:x,eventDetails:m?{source:m}:void 0});var a=P?"metaKey":"ctrlKey";null!=h&&h.useExternalLinks||e[a]?window.open(`${C}${N}`,"_blank","noreferrer,noopener"):j(N)}}},[t,N,k.pathname,m,x,y,P,null==h?void 0:h.useExternalLinks,C,j]);return!N||k.pathname.startsWith(N)&&!g?{}:{peeprPath:N,onClick:S,onKeyUp:S,role:"link",tabIndex:0}}},96337:(e,t,s)=>{"use strict";s.d(t,{Q:()=>E});var o=s(54138),i=s.n(o),n=s(69682),a=s(54589),l=s.n(a),r=s(5754),d=s.n(r),c=s(45222),u=s(85085),p=s(45546),h=s(17287),m=s(31571),g=s(27252),v=s(25447),b=s(64987),x=s(50899),f=s(43523),C=s(52153),w=s(78667),y=s(43166),j=s(55015),k=s(63583),N=s.n(k),P=s(83755);let S={reblog:"u2tXn",reblogHeader:"fAAi8",isLink:"jLBd9",label:"zSfnO",attributionHeaderText:"MZvpp",leftContent:"QkCNg",rightContent:"wI_El",username:"lBFTL",userInfo:"GdjMk",timestampLink:"MvV_c",timestamp:"SqGYs",followButton:"a6sXh",attribution:"sqHC2",badgeContainer:"kyXe4",postMeatballsContainer:"jj685",withDotSeparatorContainer:"__C9O",withDotSeparator:"mVBb2",isCommercial:"uzCdy"};var I=s(2629),T=["peeprPath"],A=function(e){var t,s,o,n,a,r,k,A,B,Z,E,M=e.avatarConfiguration,L=e.labelConfiguration,R=e.followButtonConfiguration,D=e.children,O=e.parentPlacementId,z=e.parentEarnedId,F=e.isContributedContent,V=e.shouldShowTip,_=e.isMember,H=e.showBlogCards,W=void 0===H||H,U=e.isEdit,q=(0,w.bp)(),G=q._c,$=q.features,Q=q.timestamps,J=(0,y.I_)(),X=(0,P.z)({headerClassName:S.reblogHeader,blogName:null==L||null===(t=L.blog)||void 0===t?void 0:t.name,postId:null==L?void 0:L.postId,presentationStyle:J?J.presentationStyle:void 0,source:"reblog_header",isReblogHeader:!0,eventName:f.J.ReblogHeaderClick}),Y=X.peeprPath,K=l()(X,T),ee=Q&&!!(null!=L&&L.postTimestamp)&&!z,et=null,es={dimension:j.Z.reblogRedesignNew.avatarDimension};if(M){var eo=M.avatarImageResponse,ei=M.clickthrough,en=M.showsReblogIcon,ea=M.blogIsAdult,el=M.liveNow;es.liveNow=el,es.imageResponse=eo,es.isAdult=ea,es.showBlogCard=W,es.eventName=f.J.Avatar,es.eventDetails={source:"reblog_header"},en&&(es.badge=u.Z.reblog()),ei&&(es.name=ei.blogName,es.url=ei.href,es.blog=null==L?void 0:L.blog)}et=(0,I.jsx)(c.Z,i()({},es));var er=(0,I.jsx)("div",{className:S.attribution,children:(null==L||null===(s=L.blog)||void 0===s?void 0:s.advertiserName)||(null==L?void 0:L.text)});null!=L&&L.blog&&(er=(0,I.jsx)(h.Z,{blogName:L.blog.name,blog:L.blog,title:L.unselectableReason,showBlogCard:W,krakenEventName:f.J.BlogNameClick,krakenEventDetails:{source:"reblog_header"},useInlinePopover:!0,children:er}));var ed=null!=R&&R.showFollowAction&&null!=R&&R.canFollowBlog&&null!=L&&L.blog?(0,I.jsx)(m.Z,{blogName:null===(o=L.blog)||void 0===o?void 0:o.name,blogUrl:null===(n=L.blog)||void 0===n?void 0:n.url,following:!!R.isFollowingReblogger,isReblogHeader:!0,className:S.followButton,extraFollowParams:{placementId:O,earnedId:z}}):null,ec=$.paywallConsumption&&(null==L||null===(a=L.blog)||void 0===a?void 0:a.isPaywallOn)&&(null==L?void 0:L.paywallAccess)!==C.bv.Member&&(null==L?void 0:L.isPaywalled)&&(0,I.jsx)("span",{className:S.lockIcon,"aria-label":G("Indicates that the post has paywalled content that the user doesn't have access to, as they are not a subscriber.","For supporters"),children:(0,I.jsx)(g.Z,{colors:{primary:N().paletteGray65},size:{width:20,height:20}})}),eu=(null==L||null===(r=L.blog)||void 0===r?void 0:r.active)&&!U&&J&&i()(i()({},null==J?void 0:J.post),{},{id:L.postId||J.post.id,blogName:L.blog.name||J.post.blogName,blog:L.blog||J.post.blog,timestamp:L.postTimestamp||J.post.timestamp,date:L.postTimestamp?new Date(1e3*L.postTimestamp).toUTCString():J.post.date});return(0,I.jsxs)("div",{className:S.reblog,"data-is-contributed-content":F,children:[(0,I.jsxs)("div",i()(i()({className:d()(S.reblogHeader,{[S.isLink]:K.onClick}),role:"banner"},K),{},{children:[(0,I.jsxs)("div",{className:S.leftContent,children:[et,(0,I.jsxs)("div",{className:S.userInfo,children:[(0,I.jsx)("div",{className:S.username,children:(0,I.jsxs)("div",{className:S.label,children:[(0,I.jsxs)("span",{className:S.attributionHeaderText,children:[er," "]}),(0,I.jsx)(p.a,{canShowBadges:null==L||null===(k=L.blog)||void 0===k?void 0:k.canShowBadges,tumblrmartAccessories:null==L||null===(A=L.blog)||void 0===A?void 0:A.tumblrmartAccessories,unwrapped:!0,badgeClassName:S.badgeContainer})," ",ed]})}),(0,I.jsxs)("div",{className:S.withDotSeparatorContainer,children:[ee&&L.postTimestamp&&(0,I.jsx)(h.Z,{className:d()(S.timestampLink,S.withDotSeparator),blogName:null===(B=L.blog)||void 0===B?void 0:B.name,postId:L.postId,showBlogCard:!1,children:(0,I.jsx)(b.Z,{className:S.timestamp,date:new Date(1e3*L.postTimestamp).toUTCString()})}),$.dsaArticle26MarkPostAsCommercial&&(null==L?void 0:L.isCommercial)&&(0,I.jsx)("div",{className:d()(S.isCommercial,S.withDotSeparator),children:G("The label for commercial posts.","Commercial content")})]})]})]}),(0,I.jsxs)("div",{className:S.rightContent,children:[ec,eu&&(0,I.jsx)("span",{className:S.postMeatballsContainer,children:(0,I.jsx)(y.Mj.Provider,{value:{post:eu,presentationStyle:J.presentationStyle},children:(0,I.jsx)(v.Z,{postUrl:`${x.Cw}${Y}`,isPostPublishedOrPrivate:!0,blogName:eu.blogName,blogUuid:null===(Z=eu.blog)||void 0===Z?void 0:Z.uuid,followed:null===(E=eu.blog)||void 0===E?void 0:E.followed,date:eu.date,showTip:V,isMember:_,isReblogHeader:!0,parentPostId:J.post.id})})})]})]})),(0,I.jsx)("div",{className:S.childrenContainer,children:D})]})};A.defaultProps={labelConfiguration:null};var B=s(34438),Z=s(5700),E=e=>{var t=e.trail,s=e.parentPlacementId,o=e.parentEarnedId,a=e.disableFollow,l=e.contentFooter,r=e.showBlogCards,d=void 0===r||r,c=e.isEdit;return(0,I.jsx)(I.Fragment,{children:null==t?void 0:t.map((e,t)=>{if((0,Z.eb)(e)){var r,u,p,h,m,g,v,b,x=e.blog,f=x.canBeFollowed,C=!1!==x.active;m={text:e.blog.name,isCommercial:e.post.isCommercial},C&&(m=i()(i()({},m),{},{blog:e.blog,postId:e.post.id,postTimestamp:e.post.timestamp,clickthrough:(0,B.SS)({peeprBlogname:e.blog.name,peeprPostId:null===(b=e.post.id)||void 0===b?void 0:b.toString()}),isPaywalled:e.post.isPaywalled,paywallAccess:e.post.paywallAccess}),h={avatarImageResponse:e.blog.avatar,blogIsAdult:e.blog.isAdult,clickthrough:{href:e.blog.url,title:e.blog.title,blogName:e.blog.name},showsReblogIcon:0!==t,liveNow:e.blog.liveNow}),g=a||e.blog.isBloglessAdvertiser?{canFollowBlog:!1}:{canFollowBlog:C&&f,isFollowingReblogger:e.blog.followed,showFollowAction:e.blog.showFollowAction},v=e.post.id}else h={showsReblogIcon:0!==t},m={text:null===(r=e.brokenBlog)||void 0===r?void 0:r.name,blog:void 0},v=`${null===(u=e.brokenBlog)||void 0===u?void 0:u.name} ${JSON.stringify(e.content)}`;return(0,I.jsxs)(A,{avatarConfiguration:h,labelConfiguration:m,followButtonConfiguration:g,isContributedContent:e.isContributedContent,parentPlacementId:s,parentEarnedId:o,shouldShowTip:!!(0,Z.eb)(e)&&e.post.shouldShowTip,isMember:!!(0,Z.eb)(e)&&e.blog.isMember,tumblrmartAccessories:(0,Z.eb)(e)?null===(p=e.blog)||void 0===p?void 0:p.tumblrmartAccessories:void 0,showBlogCards:d,isEdit:c,children:[(0,I.jsx)(n.ZP,{blocks:e.content,layouts:e.layout,postingBlog:(0,Z.eb)(e)?e.blog:void 0,isOriginalPost:!1,isEdit:!0}),0===t&&l]},v)})})}},235:(e,t,s)=>{"use strict";s.d(t,{Jj:()=>a,e2:()=>n,q5:()=>l});var o=s(95004),i=s(45051),n=(0,o.createContext)({canFastReblog:!1,canFastQ,canFastQuote:!1,fastRebloggedPosts:[],setDefaultFastBlog:i.Z,getBlogs:()=>[]}),a=(0,o.createContext)({allPosts:[],queuedPosts:[]}),l=()=>(0,o.useContext)(n)},64987:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var o=s(5754),i=s.n(o),n=s(67023),a=s(78667),l=s(86225),r=s(2629);let d=function(e){var t=e.date,s=e.className,o=e.dateFormat,d=void 0===o?n.q.Automatic:o,c=(0,a.bp)(),u=c._c,p=c._getRelativeDateString,h=c._getLocaleDateString,m=h(t,n.C.Notes,!0),g=h(t,n.C.Time,!0),v=(t instanceof Date?t:(0,l.Z)(t)).toISOString();return(0,r.jsx)("time",{className:i()("M_e0U",s),dateTime:v,title:u('Tooltip text that shows when this post was posted. First variable is the date ("Aug 26, 2021"), second variable is the time ("5:20 PM").',"Posted %1$s - %2$s",[m,g]),suppressHydrationWarning:!0,children:p(t,d,void 0)})}},41524:(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var o=s(54138),i=s.n(o),n=s(33970),a=s.n(n),l=s(95004),r=s(9041),d=s(53714),c=s(43684),u=s(5754),p=s.n(u),h=s(2629),m={[c.I2.Right]:{left:6,top:-2},[c.I2.Left]:{left:-6,top:-2},[c.I2.Top]:{left:4,top:10},[c.I2.Bottom]:{left:4,top:8}};let g=e=>{var t=e.children,s=e.content,o=e.tooltipOffsetModifiers,n=e.position,u=void 0===n?c.I2.Bottom:n,g=e.popoverProps,v=e.isOpen,b=e.onFirstShow,x=e.onDismiss,f=e.tooltipWrapperClassName,C=e.arrowWrapperClassName,w=(0,l.useState)(v),y=a()(w,2),j=y[0],k=y[1],N=(0,r.YD)(),P=a()(N,2),S=P[0],I=P[1],T=(0,l.useState)(!1),A=a()(T,2),B=A[0],Z=A[1];return(0,l.useEffect)(()=>{k(v)},[v,k]),(0,l.useEffect)(()=>{I&&!B&&(Z(!0),null==b||b())},[I,B,Z,b]),(0,h.jsx)(d.ZP,i()(i()({hasArrow:!0,isChromeless:!0,arrowWrapperClassName:p()h.jsx)("div",{ref:S,className:p()("vgL3J",f),onClick:()=>{k(!1),null==x||x()},role:"button",children:s}),position:u,positionBasedOffsetModifiers:i()(i()({},m),void 0===o?{}:o),isOpen:j,toggle:null,skipClickToOpen:!0,skipClickToClose:!0,closeForAllExternalClicks:!0,isFlipEnabled:!1},g),{},{children:t}))}},18060:(e,t,s)=>{"use strict";s.d(t,{Ai:()=>u,Bp:()=>p,Fm:()=>g,HW:()=>h,J2:()=>v,W8:()=>b,aK:()=>C,bn:()=>x,iO:()=>f,zn:()=>m});var o=s(54138),i=s.n(o),n=s(90127),a=s(34438),l=s(5700),r=s(90655),d=s(22979),c=s(95004),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.searchMode,s=e.postType,o=e.param1;if(t&&s)return{searchMode:t,postType:s};var i=t,n=s;return o&&((0,r.uS)(o)?i=o:(0,l.XY)(o)&&(n=o)),{searchMode:i,postType:n}},p=(0,c.createContext)({}),h=()=>(0,c.useContext)(p),m=e=>{var t=e.response;return"posts"in t?t.posts:"timeline"in t?t.timeline.elements:[]},g=e=>(0,d.xT)(e)&&!(e.canBlaze||e.canManageBlaze),v=e=>{var t,s,o=e.response;return"links"in o?null===(t=o.links)||void 0===t?void 0:t.next:"timeline"in o&&"links"in o.timeline?null===(s=o.timeline.links)||void 0===s?void 0:s.next:void 0},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e.peeprBlogname,o=t.peeprFilterParams,l={postType:null==o?void 0:o.peeprSelectedPostType,searchMode:null==o?void 0:o.peeprSearchMode};return(0,a.Bm)(o)&&o.peeprSearchTerm?(0,n.h1)(s,i()({searchTerm:o.peeprSearchTerm},l)):(0,a.Jl)(o)&&o.peeprTag?(0,n.h1)(s,i()({tag:o.peeprTag},l)):(0,n.h1)(s,l)},x=e=>({removePostOnExtinguish:!1,skipIntroStep:!0,basePage:C[e]}),f={all:["created","pending","approved","rejected","completed","canceled","extinguished"],active:["created","pending","approved"],completed:["completed","extinguished"],unsuccessful:["rejected","canceled"]},C={about:"BlazeDashboardAbout",campaigns:"BlazeDashboardCampaigns",posts:"BlazeDashboardYourPosts"}},19403:(e,t,s)=>{"use strict";s.d(t,{L:()=>l});var o=s(22979),i=s(88451),n=s(24078),a=s(51400);function l(e,t){var s=this.props.adContext,l=s.hydraConfigInstanceId,r=s.adPlacementConfiguration,d=null==r?void 0:r.signature,c=e.objectType===o.TE.Post&&!(void 0===e.adm||null===e.adm),u=e.objectType===o.TE.Announcement&&e,p=u?(0,a.w)(u).bannerId:null,h=e.adInstanceCreationTime?Date.now()-e.adInstanceCreationTime:null,m=e.adProviderId,g=e.adProviderPlacementId,v=e.adProviderForeignPlacementId,b=e.adProviderInstanceId,x=e.adRequestId,f=e.fillId,C=e.supplyRequestId,w=e.supplyProviderId,y=e.streamSessionId,j=e.streamGlobalPosition,k=e.supplyOpportunityInstanceId,N=e.mediationCandidateId,P=e.adInstanceId,S=e.price,I=e.advertiserId,T=e.campaignId,A=e.adGroupId,B=e.adId,Z=e.creativeId,E=e.earnedId,M=(0,n.c)({hydraConfigInstanceId:l,hydraSignature:d,adProviderId:m,adProviderPlacementId:g,adProviderForeignPlacementId:v,adProviderInstanceId:b,adRequestId:x,fillId:f,supplyRequestId:C,supplyProviderId:w,streamSessionId:y,streamGlobalPosition:j,supplyOpportunityInstanceId:k,mediationCandidateId:N,adInstanceId:P,price:S,isTumblrSponsoredPost:c,adInstanceAge:h,advertiserId:I,campaignId:T,adGroupId:A,adId:B,banne=function(e){return e.Search="search",e.Pin="pin",e.Hashtag="hashtag",e}({})},90621:(e,t,s)=>{"use strict";s.d(t,{CG:()=>c,L2:()=>m,NV:()=>h,Po:()=>r,T6:()=>u,V6:()=>p,rK:()=>g,wW:()=>d,yR:()=>v});var o=s(54138),i=s.n(o),n=s(5700),a=s(1308),l=s(60023),r=(e,t)=>{var s=t.blogName;return new l.x(e,`/v2/blog/${s}/posts/queue`,{method:"GET",queryParams:i()(i()({},(0,a.xr)(["timezoneOffset"])),{},{reblog_info:!0})})},d=(e,t)=>{var s=t.blogName,o=t.id,i=t.insertAfter;return new l.x(e,`/v2/blog/${s}/posts/queue/reorder`,{method:"POST",body:{post_id:o,insert_after:i}})},c=(e,t)=>{var s=t.blogName;return new l.x(e,`/v2/blog/${s}/posts/queue/shuffle`,{method:"POST"})},u=(e,t)=>{var s=t.blogName,o=t.pause;return new l.x(e,`/v2/blog/${s}/posts/queue/state`,{method:"POST",body:{paused:o}})},p=(e,t)=>{var s=t.blogUuid,o=t.postId;return new l.x(e,`/v2/blog/${s}/post/edit`,{method:"POST",body:{id:o,state:n.hA.Queue}})},h=(e,t)=>{var s=t.blogName;return new l.x(e,`/v2/blog/${s}/posts/queue/settings`)},m=(e,t)=>{var s=t.blogName,o=t.postFrequency,i=t.startHour,n=t.endHour;return new l.x(e,`/v2/blog/${s}/posts/queue/settings`,{method:"POST",body:{post_frequency:o,start_hour:i,end_hour:n}})},g=(e,t)=>{var s=t.blogName;return new l.x(e,`/v2/blog/${s}/posts/queueplus/settings`)},v=(e,t)=>{var s=t.blogName,o=t.interval,i=t.perInterval,n=t.startTime,a=t.endTime;return new l.x(e,`/v2/blog/${s}/posts/queueplus/settings`,{method:"POST",body:{interval:o,per_interval:i,start_time:n,end_time:a}})}},81095:(e,t,s)=>{"use strict";s.d(t,{b:()=>o,k:()=>i});var o=function(e){return e.SPAM="spam",e.UNBLUR="unblur",e}({}),i=function(e){return e.Fast="fast",e}({})},46654:(e,t,s)=>{"use strict";s.d(t,{O6:()=>n,QY:()=>l,aA:()=>a});var o=s(915ns:e,columnSpacing:t,columnWidth:s,elementSpacing:o,elementContainerClass:i}))},84961:(e,t,s)=>{"use strict";s.d(t,{L:()=>n,z:()=>i});var o=s(95004),i=(0,o.createContext)(null),nxt)(i)},51400:(e,t,s)=>{"use strict";s.d(t,{w:()=>o});var o=e=>e.resources[0]},88410:(e,t,s)=>{"ut,{x:()=>i});var o=s(5700),i=e=>e.find(e=>(0,o.RD)(e))||e.find(e=>(0,o.gD)(e))},78222:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s(33970),i=s.n(o),n=s(55673);let a=()=>{var e=(0,n.lr)(),t=i()(e,1)[0],s=t.get("source");return"embed"!==s&&"blognetwork"!==s?null:t.get("action")}},71318:(e,t,s)=>{"use strict";s.d(t,{WM:()=>a,ac:()=>l});var o=s(33970),i=s.n(o),n=s(95004),a=()=>"undefined"!=typeof window&&window.matchMedia?window.matchMedia:null;function l(e){var t=(0,n.useMemo)(()=>{var t,s=a();return null!==(t=null==s?void 0:s(e))&&void 0!==t?t:null},[e]),s=(0,n.useSta),o=i()(s,2),l=o[0],r=o[1];return(0,n.useEffect)((return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}},[t]),l}},20041:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s(95004),i=s(72759);let n=e=>{var t=e.outsideEvents,s=e.onOutsideEvent,n=(0,o.useRef)(null),a=(0,o.useContext)(i.T),l=(0,o.useCallback)(e=>{var t,o=e.target;null!==(t=n.current)&&void 0!==t&&t.contains(o)||s()},[s]),r=t.click,d=t.scroll;return(0,o.useEffect)(()=>{if(a)re)=>{a.removeEventListener("click",l,!1),a.removeEventListener("scroll",l,!1)}},[a,l,r,d]),n}},67657:(e,t,s)=>{"use strict";s.d(t,{AU:()=>c,NV:()=>d,uG:()=>r});var o=s(54138),i=s.n(o),n=s(49116),a="igniteData",l=()=>{var e=n.E.getItem(a);return e?JSON.parse(e):null},r=(e,t)=>{var s,o,i=l();return null!==(s=null==i||null===(o=i[e])||void 0===o?void 0:o[t])&&void 0!==s?s:null},d=(e,t)=>{var s=l();n.E.setItem(a,JSON.stringify(i()(i()({},s),{},{[e]:t})))},c=e=>{var t=l();t&&(delete t[e],Object.keys(t).length?n.E.setItem(a,JSON.stringify(t)):n.E.removeItem(a))}},11524:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s(71318);function i(){var e=(0,o.WM)();return null!==e&&e("(hover: none)").matches}},22527:(e,t,s)=>{"use strict";s.d(t,{d:()=>i});var o=s(5700),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.find(e=>e.type===o.Gf.Cta)}},36376:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});let o=e=>{var t=e.postUrl,s=e.blog,o=e.community,i=e.authorBlog;return o&&i?{blog:i,permalinkUrl:t}:{blog:s,permalinkUrl:t}}},16273:(e,t,s)=>{"use strict";function=Math.ceil(t-e),o=s<0?-1:1;return Array(Math.abs(s)).fill(0).map((t,s)=>e+s*o)}s.d(t,{Z:()=>o})},92895:(e,t,s)=>{"use strict";s.d(t,{P2:()=>l,SV:()=>a,c7:()=>n});var o=s(92677),i=s(68859),n=function(e){var t,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v|void 0===t?void 0:t.url))},a=e=>(null==e?void 0:e.provider)===o.G6.Instagram,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&a"])retn o(e)||i(e)||n(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports}}]);