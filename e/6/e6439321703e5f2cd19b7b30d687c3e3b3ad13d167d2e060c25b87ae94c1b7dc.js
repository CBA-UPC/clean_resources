"use strict";(self.webpackChunkphotobucket_web=self.webpackChunkphotobucket_web||[]).push([[3994],{3994:function(e,a,n){n.r(a),n.d(a,{default:function(){return M}});var r=n(1413),t=n(29439),o=n(72668),s=n(16450),i=n(47313),l=!1,u=i.forwardRef((function(){return l||(console.warn(["MUI: The DatePicker component was moved from `@mui/lab` to `@mui/x-date-pickers`.","","You should use `import { DatePicker } from '@mui/x-date-pickers'`","or `import { DatePicker } from '@mui/x-date-pickers/DatePicker'`","","More information about this migration on our blog: https://mui.com/blog/lab-date-pickers-to-mui-x/."].join("\n")),l=!0),null})),c=n(51405),d=n(15103),m=n(88797),h=n(24193),g=n(73428),f=n(56104),v=n(93405),p=n(44758),Z=n(47825),b=n(19536),x=n(1550),j=n(83929),C=n(16429),k=n(16783),y=n(9289),P=n(61113),R=n(39837),D=n(28422),S=n(60790),w=n(25258),N=n(39437);var E=n(19655),W=n(91345);var _=n(8576),L=n(46417);function M(){var e,a,n,l,M,z,O,T,U,B,F,I="YYYY-MM-DD",Y=(0,i.useState)({}),Q=(0,t.Z)(Y,2),A=Q[0],$=Q[1],G=(0,i.useState)({}),H=(0,t.Z)(G,2),V=H[0],q=H[1],J=(0,o.a)(D.D9W,{fetchPolicy:"no-cache"}),K=function(){var e=(0,N.Z)().createAlert,a=(0,S.D)(D.l5o,{onError:function(a){a.graphQLErrors.length?a.graphQLErrors.forEach((function(a){e(a.message),w.Z.error(a)})):(w.Z.error(a),e("There was a problem updating your profile. Please try again later."))},onCompleted:function(e){e.userUpdate&&((0,W.at)({profile:(0,r.Z)({},e.userUpdate)}),(0,E._p)((0,E.v0)(),e.userUpdate.token).then(())}}),n=(0,t.Z)(a,2);return{mutation:n[0],results:n[1]}}(),X=K.mutation,ee=K.results,ae=function(){var e=(0,N.Z)().createAlert,a=(0,S.D)(D._xB,{onError:function(a){a.graphQLErrors.length?a.graphQLErrors.forEach((function(a){e(a.message),w.Z.error(a)})):(w.Z.error(a),e("There was a problem changing email. Please try again later."))}}),n=(0,t.Z)(a,2);return{mutation:n[0],results:n[1]}}(),ne=ae.mutation,re=ae.results,te=(0,i.useState)(!1),oe=(0,t.Z)(te,2),se=oe[0],ie=oe[1],le=null===(e=J.data)||void 0===e?void 0:e.getProfile,ue=(null===(a=_.k[A.country||""])||void 0===a?void 0:a.regions)||[];(0,i.useEffect)((function(){(ee.loading||re.loading)&&(ie(!0),setTimeout((,3e3))}),[ee.loading,re.loading]),(0,i.useEffect)((function(){if(le){var e={firstName:le.firstName,lastName:le.lastName,email:le.email,birthDate:le.birthDate,sex:le.sex,country:le.country,stateOrProvince:le.stateOrProvince,zip:le.zip,usageReasons:{bussiness:le.usageReasons.bussiness,hosting:le.usageReasons.hosting,personal:le.usageReasons.personal,personalSharing:le.usageReasons.personalSharing,storage:le.usageReasons.storage}};$(e)}}),[le]);var ce=function(e,a){var n=(0,r.Z)({},A),t=e;n[t]=a,$(n);var o=(0,r.Z)({},V);delete o[t],delete o.general,q(o)},de=function(e){ce(e.target.name,e.target.value)},me=he=function(e){var a=(0,r.Z)({},A),n=(0,r.Z)({},V),t=e.target.name;a.usageReasons&&(a.usageReasons[t]=e.target.checked,$(a)),n.usageReasons&&(delete n.usageReasons[t],delete n.general,q(n))};return le?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(R.Z,{title:"Account Profile"}),(0,L.jsxs)(Z.Z,{maxWidth:"sm",style:{marginTop:24,marginBottom:24},children:[(0,L.jsx)(y.Z,{children:(0,L.jsxs)("div",{children:[(0,L.jsx)(P.Z,{variant:"caption",children:null===le||void 0===le?void 0:le.username}),(0,L.jsx)(P.Z,{variant:"h5",gutterBottom:!0,children:"Profile Settings"})]})}),(0,L.jsx)(b.Z,{}),(0,L.jsx)(g.Z,{style:{marginTop:24},children:(0,L.jsx)("form",{onSubmit:function(e){null===e||void 0===e||e.preventDefault(),A.email&&(null===le||void 0===le?void 0:le.email)!==A.email&&ne({variables:{newEmail:A.email}});var a={firstName:A.firstName,lastName:A.lastName,birthDate:A.birthDate,sex:A.sex,country:A.country,stateOrProvince:A.stateOrProvince,zip:A.zip,usageReasons:A.usageReasons};X({variables:a})},children:(0,L.jsxs)(v.Z,{children:[(0,L.jsx)(k.Z,{margin:"normal",fullWidth:!0,label:"Username",value:le.username||"",disabled:!0}),(0,L.jsx)(k.Z,{margin:"normal",fullWidth:!0,label:"First name",value:A.firstName||"",onChange:de,name:"firstName"}),(0,L.jsx)(k.Z,{margin:"normal",fullWidth:!0,label:"Last Name",value:A.lastName||"",onChange:de,name:"lastName"}),(0,L.jsx)(k.Z,{margin:"normal",fullWidth:!0,label:"Email",value:A.email||"",onChange:de,name:"email"}),(0,L.jsx)(u,{disableFuture:!0,inputFormat:I,mask:"____-__-__",views:["year","month","day"],openTo:"year",label:"Date of Birth",value:A.birthDate||"",onChange:function(e){var a=(0,r.Z)({},A),n=(0,r.Z)({},V);if(e){var t=e;if(!t.isValid())return n.birthDate="Date is not valid",void q(n);a.birthDate=t.format(I),$(a),delete n.birthDate,delete n.general,q(n)}},renderInput:function(e){return(0,L.jsx)(k.Z,{fullWidth:!0,InputProps:(0,r.Z)((0,r.Z)({},e.InputProps),{},{inputProps:e.inputProps}),inputRef:e.inputRef,label:e.label,ref:e.ref,disabled:e.disabled,error:e.error})}}),(0,L.jsx)(k.Z,{margin:"normal",fullWidth:!0,label:"Gender",value:A.sex||"",onChange:de,name:"sex",select:!0,children:Object.keys(D.m$h).filter(().map((function(e){return(0,L.jsx)(c.Z,{value:D.m$h[e],children:e},e)}))}),(0,L.jsxs)(x.Z,{fullWidth:!0,margin:"normal",children:[(0,L.jsx)(d.Z,{id:"location-label",children:"Location"}),(0,L.jsx)(m.Z,{labelId:"location-label",label:"Location",value:A.country||"",name:"country",onChange:me,fullWidth:!0,children:_.h.map((function(e){return(0,L.jsx)(c.Z,{value:e.value,children:e.label},e.value)}))})]}),(0,L.jsxs)(x.Z,{fullWidth:!0,margin:"normal",children:[(0,L.jsx)(d.Z,{id:"state-label",children:"State/Province"}),(0,L.jsx)(m.Z,{labelId:"state-label",label:"State/Province",value:A.stateOrProvince||"",name:"stateOrProvince",onChange:me,fullWidth:!0,children:ue.map(()})]}),(0,L.jsx)(k.Z,{margin:"normal",fullWidth:!0,label:"Zip Code",value:A.zip||"",onChange:de,name:"zip"}),(0,L.jsxs)("div",{children:[(0,L.jsx)("h3",{children:"Reasons for using Photobucket"}),(0,L.jsx)(x.Z,{component:"fieldset",children:(0,L.jsxs)(C.Z,{children:[(0,L.jsx)(j.Z,{name:"personal",control:(0,L.jsx)(p.Z,{checked:(null===(n=A.usageReasons)||void 0===n?void 0:n.personal)||!1,name:"personal",onChange:he}),label:"Personal",color:"secondary"}),(0,L.jsx)(j.Z,{name:"bussiness",control:(0,L.jsx)(p.Z,{checked:(null===(l=A.usageReasons)||void 0===l?void 0:l.bussiness)||!1,name:"bussiness",onChange:he}),label:"Business",color:"primary"}),(0,L.jsx)(j.Z,{name:"storage",control:(0,L.jsx)(p.Z,{checked:(null===(M=A.usageReasons)||void 0===M?void 0:M.storage)||!1,name:"storage",onChange:he}),label:"Storage",color:"primary"}),(0,L.jsx)(j.Z,{name:"hosting",control:(0,L.jsx)(p.Z,{checked:(null===(z=A.usageReasons)||void 0===z?void 0:z.hosting)||!1,name:"hosting",onChange:he}),label:"Hosting",color:"primary"}),(0,L.jsx)(j.Z,{name:"personalSharing",control:(0,L.jsx)(p.Z,{checked:(null===(O=A.usageReasons)||void 0===O?void 0:O.personalSharing)||!1,name:"personalSharing",onChange:he}),label:"Sharing with Family and Friends",color:"primary"})]})})]}),(0,L.jsx)(f.Z,{children:(0,L.jsxs)(h.Z,{fullWidth:!0,color:se?"secondary":"primary",variant:"contained",type:"submit","data-test":"profile-settings-button",children:[se&&(!(null!==(T=ee.data)&&void 0!==T&&T.userUpdate)||!(null!==(U=re.data)&&void 0!==U&&U.changeEmail))&&"Saving",se&&((null===(B=ee.data)||void 0===B?void 0:B.userUpdate)||(null===(F=re.data)||void 0===F?void 0:F.changeEmail))&&(0,L.jsx)(s.Z,{}),!se&&"Save Changes"]})})]})})})]})]}):null}},16450:function(e,a,n){var r=n(64836);a.Z=void 0;var t=r(n(45045)),o=n(46417),s=(0,t.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");a.Z=s},93405:function(e,a,n){n.d(a,{Z:);var r=n(87462),t=n(63366),o=n(47313),s=n(83061),i=n(21921),l=n(17592),u=n(77342),c=n(77430),d=n(32298);0,c.Z)("MuiCardContent",["root"]);var h=n(46417),g=["className","component"],f=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:)((),v=o.forwardRef((function(e,a){var n=(0,u.Z)({props:e,name:"MuiCardContent"}),o=n.className,l=n.component,c=void 0===l?"div":l,d=(0,t.Z)(n,g),v=(0,r.Z)({},n,{component:c}),p=v);return(0,h.jsx)(f,(0,r.Z)({as:c,className:(0,s.Z)(p.root,o),ownerState:v,ref:a},d))}))}}]);