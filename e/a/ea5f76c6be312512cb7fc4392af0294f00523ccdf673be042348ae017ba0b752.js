"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[998],{"6jSl":function(e,t,n){n.r(t),n.d(t,{default:);var i=n("Tim7"),s=n("jbFD"),o=n.n(s),a=n("Oz0t"),r=n("beVP"),d=n("11lP"),c=n("dLhX"),l=n("2GZr"),_=n("QslU"),u=n("V67U"),A=n.n(u),E=n("AgMK"),T=n("FhAj"),S=n("bBVy"),v=n("3Fx5"),g=n("UBjJ"),f=function I(e){var t,n,i,s,o,r=e.ad,c=e.onRemove,l=void 0===c?f:c,u=e.onReserveAd,A=void 0===u?f:u,E=e.onReleaseAd,T=void 0===E?f:E,v=e.addCoachmarkIdentifier,I=void 0!==v&&v,O=e.onShareAd,D=void 0===O?f:O,N=e.onSellAd,R=void 0===N?f:N,x=e.onPauseAd,h=void 0===x?f:x,p=e.isActivePauseAds,m=e.isHorizontal,M=void 0!==m&&m,P=(0,a.useContext)(S.Z).domain,Z=P.get("config").get("COMMON").YAMS_IMAGE_RULES,j=(null==r?void 0:r.thumbnails[0])&&r.thumbnails[0]+"?rule="+Z.hw160,C=P.get("config").get("PAGES").MY_PAUSED_ADS,b=P.get("config").get("TRACKING").VIEW_TRACKING_DEFINITION_BY_PAGE[C],L=null==r?void 0:r.categories.reduce((function(e,t,n){var i,s=n+1;return(0,d.Z)({},e,((i={})["page_category_level"+s]=t.name,i))}),(0,d.Z)({},b,{ad_id:r.legacyId})),V=P.get("config").get("AD_CREATION").RESERVE_AD_STATUS,y=(n=new Date(null==r?void 0:r.expiresAt),i=new Date,s=n.getTime()-i.getTime(),(o=Math.ceil(s/864e5))<2?o+" día":o+" días");return(0,_.jsxs)(g.ZP,{isDisabled:!0,isHorizontal:M,children:[(0,_.jsxs)(g.ZP.Veil,{children:[(0,_.jsx)(g.ZP.Header,{}),(0,_.jsx)(g.ZP.ImgThumb,{alt:null==r?void 0:r.title,src:j,images:null==r?void 0:r.images,aspectRatioMode:g.ZP.ImgThumb.aspectRatioModes.myAds,ad:r})]}),(0,_.jsxs)(g.ZP.Detail,{children:[(0,_.jsxs)(g.ZP.UpperGroup,{children:[(0,_.jsxs)(g.ZP.Row,{size:"small",children:[(0,_.jsxs)(g.ZP.Col,{fullWidth:!0,children:[(0,_.jsx)(g.ZP.Row,{contentWraps:!0,children:(0,_.jsx)(g.ZP.Title,{title:null==r?void 0:r.title})}),(0,_.jsx)(g.ZP.AdLink,{children:(null==r||null==(t=r.price)?void 0:t.value)?(0,_.jsx)(g.ZP.Row,{contentWraps:!0,children:(0,_.jsx)(g.ZP.Price,{price:null==r?void 0:r.price})}):null})]}),(0,_.jsx)(g.ZP.Col,{children:(0,_.jsx)(g.ZP.MenuAdManagement,{id:I&&"COACHMARK_MYADS_STEP_1",adId:null==r?void 0:r.id,page:C,onRemoveAd:l,onShareAd:D,isPaused:!!(null==r?void 0:r.status)})})]}),(0,_.jsx)(g.ZP.Row,{size:"large",contentWraps:!0,children:(0,_.jsx)(g.ZP.Location,{city:null==r?void 0:r.city,province:null==r?void 0:r.province})}),(0,_.jsx)(g.ZP.Veil,{children:(0,_.jsxs)(g.ZP.Row,{verticallyAligned:!0,children:[(0,_.jsx)(g.ZP.ExpirationDate,{date:y}),(0,_.jsx)(g.ZP.RenewButton,{disabled:!0})]})})]}),(0,_.jsxs)(g.ZP.Footer,{children:[(0,_.jsx)(g.ZP.MenuVisibilityProducts,{disabled:!0}),(0,_.jsx)(g.ZP.MenuAdState,{ad:r,page:C,trackingData:L,isReserved:null==r?void 0:r.isReserved,isReservable:(null==r?void 0:r.reserveStatus)!==V.NON_RESERVABLE,onReserveAd:A,onReleaseAd:T,onSellAd:R,isPaused:!!(null==r?void 0:r.status),onPauseAd:h,isActivePauseAds:p})]})]})]})}I.displayName="AdCardPausedAdV2",I.propTypes={ad:A().object.isRequired,onRemove:A().func,onReserveAd:A().func,onReleaseAd:A().func,addCoachmarkIdentifier:A().bool,onShareAd:A().func,onSellAd:A().func,onPauseAd:A().func,isActivePauseAds:A().bool,isHorizontal:A().bool};var O=n("b6IY"),D=n("Yk0W"),N=n("uLBL"),R=n("nEiG"),x=n("8W94"),h=n("YevG"),p=n("VG2F"),m=n("5+Eg"),M=n("Ab2B"),P=n("LF2G"),Z=function(e){var t=(void 0===e?{}:e).page,n=(0,a.useContext)(S.Z),i=n.domain,s=n.i18n,o=i.get("config"),c=(0,a.useState)(null),_=c[0],u=c[1],A=(0,p.e)().add,E=o.get("AD_MANAGEMENT").DELETE_REASONS,T=E.SOLD_ON_SITE,v=E.SOLD_OTHER,g={MODAL_REMOVE_AD_SOLD_MILANUNCIOS:{reason:T,successNotificationText:"NOTIFICATION_SOLD_AD_SUCCESS",errorNotificationText:"NOTIFICATION_SOLD_AD_ERROR"},MODAL_REMOVE_AD_NO_SOLD:{reason:E.NO_SOLD,successNotificationText:"NOTIFICATION_REMOVE_AD_SUCCESS",errorNotificationText:"NOTIFICATION_REMOVE_AD_ERROR"},MODAL_REMOVE_AD_SOLD_OTHER:{reason:v,successNotificationText:"NOTIFICATION_SOLD_AD_SUCCESS",errorNotificationText:"NOTIFICATION_SOLD_AD_ERROR"},MODAL_REMOVE_AD_DO_NOT_WANT:{option:E.DO_NOT_WANT,successNotificationText:"NOTIFICATION_REMOVE_AD_SUCCESS",errorNotificationText:"NOTIFICATION_REMOVE_AD_ERROR"},MODAL_REMOVE_AD_OTHER:{option:E.OTHER,successNotificationText:"NOTIFICATION_REMOVE_AD_SUCCESS",errorNotificationText:"NOTIFICATION_REMOVE_AD_ERROR"}},f=(0,P.Z)((0,r.Z)((function(e){var t,n,s;return(0,l.__generator)(this,(function(o){switch(o.label){case 0:return t=e.selected,n=e.ad,[4,i.get("delete_ad_use_case").execute({adId:n.legacyId,reason:g[t].reason})];case 1:return s=o.sent(),s[0]?[2,[{selected:t,ad:n},null]]:[2,[null,{selected:t,ad:n}]]}}))})),{onSuccess:function(e){var n=e.selected,o=e.ad,a=i.get("config").get("TRACKING_EVENTS_NAMES").MY_AD_AD_DELETED,r=i.get("config").get("PAGES").MY_PAUSED_ADS,c=t||r,l=(null==o?void 0:o.trackingData)||{};i.get("call_link_tracking_use_case").execute({page:c,event:a,data:(0,d.Z)({},l,{reason_ad_deleted:n,hit_origin:"borrar"}),options:{protocols:{event_version:2}}}),A({content:s.t(g[n].successNotificationText),type:"success"})},onError:function(e){var t=e.selected;A({content:s.t(g[t].errorNotificationText),type:"error"})}}),I=f[0],};return{visible:!!_,ad:_,onClose:O,onOpe},onAccep},onSuccess:O}},j="ma-ContentMyPausedAdsV2";function C(e){var t=e.user,n=(0,a.useContext)(S.Z),i=n.domain,s=n.i18n,o=(0,v.tv)(),u=(0,p.e)().add,A=(0,a.useState)({isModalVisible:!1,selectedAdToRemove:null}),g=A[0],f=A[1],P=(0,O.I)(O.I.SIZES.SM),C=(0,E.SS)("ff_web_ba_my_ads_one_column_msite").isActive,b=!P&&C,L=b?j+"-mainAdList--horizontal":j+"-mainAdList",V=g.isModalVisible,y=(0,D.Z)((0,r.Z)((function(){var e,n,s,o,a,r,d;return(0,l.__generator)(this,(function(c){switch(c.label){case 0:return e=t.userId,[4,Promise.all([i.get("get_ad_list_by_status_my_ad_use_case").execute({status:"PAUSED",userId:e}),i.get("get_count_my_ad_use_case").execute({userId:e})])];case 1:return n=c.sent(),s=n[0],o=s[0],a=s[1],r=n[1],d=r[1],o?[2,[o,null]]:[2,[null,{list:a,count:d||{}}]]}}))}))),U=y.data,Y=void 0===U?{}:U,G=Y.list,F=Y.count,k=y.isSuccess,w=y.isLoading,B=y.refetch,H=function(){f((0,d.Z)({},g,{isModalVisible:!1,selectedAdToRemove:null}))},W=function(e){var t=e.ad;f((0,d.Z)({},g,{isModalVisible:!0,selectedAdToRemove:t}))},K=(0,r.Z)((function(e){var t,n,s;return(0,l.__generator)(this,(function(o){switch(o.label){case 0:return t=e.adId,[4,i.get("reserve_ad_ad_creation_use_case").execute({adId:t})];case 1:return n=o.sent(),(s=n[0])?[2,console.error(s)]:[2]}}))})),z=(0,r.Z)((function(e){var t,n,o;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:return t=e.adId,[4,i.get("active_ad_ad_creation_use_case").execute({adId:t})];case 1:return n=a.sent(),(o=n[0])?[2,console.error(o)]:(B(),u({content:s.t("MODAL_ACTIVE_AD_TOAST")}),[2])}}))})),q=Z(),X=q.onOpen,J=(0,c.Z)(q,["onOpen"]);(0,a.useEffect)((function(){var e=i.get("delete_ad_use_case").subscribe((function(){B()}));return function(){return e.unsubscribe()}}),[i,B]),(0,a.useEffect)((function(){var e=i.get("active_ad_ad_creation_use_case").subscribe}));retur}}),[i,B]);var Q=i.get("config").get("BASE_IMAGES_URL_STATICS");return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(R.Z,{children:[(0,_.jsx)(R.Z.Header,{isLoadingAdList:w,totalAds:null==F?void 0:F.active}),(0,_.jsx)(R.Z.CardsContainer,{}),(0,_.jsx)(R.Z.SearchBar,{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.search.value;o.push({pathname:s.url("/LINK_MY_ADS"),query:{search:t}})},onRemoveFilte}}),k&&(0,_.jsx)(R.Z.NavigationTabs,{count:F,isActivePauseAds:!0}),(0,_.jsx)(R.Z.Content,{children:(0,_.jsxs)(M.Z,{isLoading:w,hideContentWhileLoading:!0,children:[!k&&(0,_.jsx)("div",{className:j+"-emptyState",children:(0,_.jsx)(m.Z,{icon:(0,_.jsx)("img",{className:j+"-bannerImg",src:Q+"/images/myClassifieds/error-loading-page.a47485d4da.svg",alt:s.t("CONTENT_MY_PAUSED_ADS_ERROR_STATE_IMAGE_ALT")}),title:s.t("CONTENT_MY_PAUSED_ADS_ERROR_STATE_TITLE"),cta:(0,_.jsx)(T.ZP,{link:!0,isSubmit:!0,href:s.url("/LINK_MY_ADS/LINK_MY_PAUSED_ADS"),design:"flat",leftIcon:(0,_.jsx)(N.Z,{}),children:s.t("GENERIC_BUTTON_TEXT_RETRY")})})}),k&&!G.ads.length&&(0,_.jsx)("div",{className:j+"-emptyState",children:(0,_.jsx)(m.Z,{icon:(0,_.jsx)("img",{className:j+"-bannerImg",src:Q+"/images/myClassifieds/empty-ads.368d1f5d65.svg",alt:s.t("CONTENT_MY_PAUSED_ADS_EMPTY_STATE_IMAGE_ALT")}),title:s.t("CONTENT_MY_PAUSED_ADS_EMPTY_STATE_TITLE"),descriptions:[s.t("CONTENT_MY_PAUSED_ADS_EMPTY_STATE_SUBTITLE",{breakLine:"</br>"})]})}),k&&G.ads.length>0&&(0,_.jsx)("div",{className:L,children:G.ads.map((function(e){return(0,_.jsx)(I,{ad:e,isActivePauseAds:!0,onReleaseAd:z,onRemov},onReserveAd:K,onSellAd:W,isHorizontal:b},e.id)}))})]})})]}),J.visible&&(0,_.jsx)(x.Z,(0,d.Z)({userId:t.userId},J)),V&&(0,_.jsx)(h.Z,{isVisible:V,userId:t.userId,ad:g.selectedAdToRemove,onClickSoldOther:function(){H(),u({content:s.t("MODAL_SELL_AD_TOAST")})},onClose:H})]})}C.displayName="ContentMyPausedAdsV2",C.propTypes={user:A().object.isRequired};var b=n("CjDN"),L=n("Bd1x"),V=n("9Y+p"),y=n("IBpw"),U=n("h8GR"),Y=(0,b.Z)(C),G=function(e){var t=e.page,n=e.seoDefinition,i={data:{hit_information:e.trackingDefinition.hit_information},options:{protocols:{event_version:2}}};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(L.Z,{isLargeWidth:!0,children:(0,_.jsxs)(V.Z,{children:[(0,_.jsx)(y.Z,{seoDefinition:n}),(0,_.jsx)(U.Z,{page:t,data:i.data,options:i.options}),(0,_.jsx)(L.Z.Header,{page:t}),(0,_.jsx)(L.Z.Body,{children:(0,_.jsx)(L.Z.MainContent,{children:(0,_.jsx)(Y,{})})})]})}),(0,_.jsx)(L.Z.FooterLite,{})]})};G.displayName="MyPausedAdsV2",G.getInitialProps=function(){var e=(0,i.Z)(o().mark((function e(t){var n,i,s,a,r,d,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.context.domain,i=n.get("config"),s=i.get("PAGES"),a=i.get("TRACKING").VIEW_TRACKING_DEFINITION_BY_PAGE[s.MY_PAUSED_ADS],e.next=6,n.get("get_definition_by_page_seo_use_case").execute({page:s.MY_PAUSED_ADS});case 6:return r=e.sent,d=r[0],c=r[1],d&&console.error(d),e.abrupt("return",{page:s.MY_PAUSED_ADS,seoDefinition:c||{title:"HOME_SEO_TITLE",meta:[],link:[]},trackingDefinition:a});case 11:case"end":return e.stop()}}),e)})));retur}}();var F=G},Wi6}}]);