![function(t,e,n){var r;!function(i,o){"use strict";var a={version:"v2.6.9",settings:{}},u=0,c=[],s={},l="undefined",f=/^xlink:(\w+)/,d=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,p=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,h=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],v=0|(i&&i.document||{}).documentMode,g=i&&!!i.InstallTrigger;a.observable=function(t){t=t||{};var e={},n=Array.prototype.slice;function r(t,e){for(var n=t.split(" "),r=n.length,i=0;i<r;i++){var o=n[i];o&&e(o,i)}}return Object.defineProperties(t,{on:{value:function(n,i){return"function"!=typeof i||r(n,(function(t,n){(e[t]=e[t]||[]).push(i),i.typed=n>0})),t},enumerable:!1,writable:!1,configurable:!1},off:{value:function(n,i){return"*"!=n||i?r(n,(function(t,n){if(i)for(var r,o=e[t],a=0;r=o&&o[a];++a)r==i&&o.splice(a--,1);else delete e[t]})):e={},t},enumerable:!1,writable:!1,configurable:!1},one:{value:enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(i){for(var o,a=arguments.length-1,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c+1];return r(i,(function(r,i){o=n.call(e[r]||[],0);for(var a,c=0;a=o[c];++c)a.busy||(a.busy=1,a.apply(t,a.typed?[r].concat(u):u),o[c]!==a&&c--,a.busy=0);e["*"]&&"*"!=r&&t.trigger.apply(t,["*",r].concat(u))})),t},enumerable:!1,writable:!1,configurable:!1}}),t},function(t){var e,n,r,o,a,u=/^.+?\/\/+[^\/]+/,c=void 0!==i&&i,s="undefined"!=typeof document&&document,l=c&&history,f=c&&(l.location||c.location),d=k.prototype,p=s&&s.ontouchstart?"touchstart":"click",h=!1,v=t.observable(),g=!1,m=[],y=0;nction w(t){var n,r,i;n=E,r=1,e=c.addEventListener("popstate",e),c.addEventListener("hashchange",e),s.addEventListener(p,j),t&&E(!0)}ion E(t){var e,n=0==y;if(!(3<=y)&&(y++,m.push((),n)){for(;e=m.shift();)e();y=0}}function j(t){if(!(1!=t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!=e.nodeName;)e=e.parentNode;!e||"A"!=e.nodeName||e.hasAttribute("download")||!e.hasAttribute("href")||e.target&&"_self"!=e.target||-1==e.href.indexOf(f.href.match(u)[0])||e.href!=f.href&&(e.href.split("#")[0]==f.href.split("#")[0]||"#"!=n[0]&&0!==A(e.href).indexOf(n)||"#"==n[0]&&e.href.split(n)[0]!=f.href.split(n)[0]||!O(L(e.href),e.title||s.title))||t.preventDefault()}}.m=d.s=d.e=function(t){this.$.concat("@").some((function(e){var n=("@"==e?o:a)(x(t),x(e));if(void 0!==n)return this.trigger.apply(null,[e].concat(n)),g=!0}),this)},d.r=var I=new k,C=I.m.bind(I);C.create=C.base=C.exec=C.parser=C.query=function(){var t={};return(f.href||r).replace(/[?&](.+?)=([^&]*)/g,(),t},C.stop=function(){h&&(c&&(c.removeEventListener("popstate",e),c.removeEventListener("hashchange",e),s.removeEventListener(p,j)),v.trigger("stop"),h=!1)},C.start=C.base(),C.parser(),t.route=C}(a);var m=function(t){var e,n,r=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,i=r.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,o=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),u=/(?=[[\]()*+?.^$|])/g,c={"(":RegExp("([()])|"+i,"g"),"[":RegExp("([[\\]])|"+i,"g"),"{":RegExp("([{}])|"+i,"g")},s=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+i,"g"),"{ }",/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],l=void 0,f=[];function d(t){return t}function p(t,e){return e||(e=f),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?"g":"")}function h(t){if("{ }"===t)return s;var e=t.split(" ");if(2!==e.length||o.test(t))throw new Error('Unsupported brackets "'+t+'"');return(e=e.concat(t.replace(u,"\\").split(" ")))[4]=p(e[1].length>1?/{[\S\s]*?}/:s[4],e),e[5]=p(t.length>3?/\\({|})/g:s[5],e),e[6]=p(s[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+i,"g"),e[8]=t,e}unction g(t){(t||(t="{ }"))!==f[8]&&(f=h(t),e="{ }"===t?d:p,f[9]=e(s[9])),l=t}return v.split=function(t,e,n){n||(n=f);var r,i,o,a,u=[],s=n[6];for(i=o=s.lastIndex=0;r=s.exec(t);){if(a=r.index,i){if(r[2]){s.lastIndex=d(t,r[2],s.lastIndex);continue}if(!r[3])continue}r[1]||(l(t.slice(o,a)),o=s.lastIndex,(s=n[6+(i^=1)]).lastIndex=o)}return t&&o<t.length&&l(t.slice(o)),u;unction d(t,e,n){var r,i=c[e];for(i.lastIndex=n,n=1;(r=i.exec(t))&&(!r[1]||(r[1]===e?++n:--n)););return n?t.length:i.lastIndex}},v.hasExpr=v.loopKeys=v.array=Object.defineProperty(v,"settings",{set:get:function(){return n}}),v.settings=void 0!==a&&a.settings||{},v.set=g,v.R_STRINGS=r,v.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,v.S_QBLOCKS=i,v}(),y=function(){var t={};function e(e,r){return e?(t[e]||(t[e]=function(t){var e=function(t){var e,n=[],r=m.split(t.replace(u,'"'),1);if(r.length>2||r[0]){var i,o,a=[];for(i=o=0;i<r.length;++i)(e=r[i])&&(e=1&i?l(e,1,n):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(a[o++]=e);e=o<2?a[0]:"["+a.join(",")+'].join("")'}else e=l(r[1],0,n);n[0]&&(e=e.replace(c,());return e}(t);"try{return "!==e.slice(0,11)&&(e="return "+e);return new Function("E",e+";")}(e))).call(r,n):e}.haveRaw=m.hasRaw,e.hasExpr=m.hasExpr,e.loopKeys=m.loopKeys,e.clearCache=e.errorHandler=null;var r=String.fromCharCode(8279),o=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,a=RegExp(m.S_QBLOCKS,"g"),u=/\u2057/g,c=/\u2057(\d+)~/g;var s={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g};function l(t,e,n){if(t=t.replace(a,().replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var i,u=[],c=0;t&&(i=t.match(o))&&!i.index;){var l,f,d=/,|([[{(])|$/g;for(t=RegExp.rightContext,l=i[2]?n[i[2]].slice(1,-1).trim().replace(/\s+/g," "):i[1];f=(i=d.exec(t))[1];)p(f,d);f=t.slice(0,i.index),t=RegExp.rightContext,u[c++]=h(f,1,l)}t=c?c>1?"["+u.join(",")+'].join(" ").trim()':u[0]:h(t,e)}return t;var f='"in this?this:'+("object"!=typeof i?"global":"window")+").",d=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,p=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;eturn e.version=m.version="v2.4.2",e}(),_=function(){var t=/<yield\b/i,e=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,n=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,r=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,i={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},o=v&&v<10?d:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;function a(a,u,c){var s,f=a&&a.match(/^\s*<([-\w]+)/),d=f&&f[1].toLowerCase(),p=Y("div",c&&(s=d,~h.indexOf(s)));return a=a,u),o.test(d)?p=p,a,d):function(t,e){if(typeof t.innerHTML!=l)t.innerHTML=e;else{var n=(new DOMParser).parseFromString(e,"application/xml");t.appendChild(t.ownerDocument.importNode(n.documentElement,!0))}}(p,a),p.stub=!0,p}return a}();tion S(t,e,n,r,i,o,a){J(e.root)||(t?o(e,r,n,a.childNodes.length):r.insertBefore(e.root,n.root))}var A=a);function L(t,e,n,r){Z(t,(function(t){if(1==t.nodeType){if(t.isLoop=t.isLoop||t.parentNode&&t.parentNode.isLoop||M(t,"each")?1:0,n){var i=D(t);i&&!t.isLoop&&n.push(function(t,e,n,r){var i=new j(t,e,n),o=z(e.root),a=B(r);i.parent=a,i._parent=r,P(i,o,a),a!==r&&P(i,o,r);return e.root.innerHTML="",i}(i,{root:t,parent:e},t.innerHTML,e))}t.isLoop&&!r||function(t,e,n){var r,i=tt(t),o=if(!i)return;y.hasExpr(i)?e.one("mount",():o(e[i])}(t,e,[])}}))}function E(t,e,n){(t,(function(t){var n,i=t.nodeType;if(3==i&&"STYLE"!=t.parentNode.tagName&&r(t,t.nodeValue),1==i)return(n=M(t,"each"))?(function(t,e,n){U(t,"each");var r,i="string"!=typeof M(t,"no-reorder")||U(t,"no-reorder"),o=z(t),a=s[o]||{tmpl:T(t)},u=d.test(o),c=t.parentNode,l=document.createTextNode(""),f=D(t),p="option"===o.toLowerCase(),h=[],v=[],m="VIRTUAL"==t.tagName;n=y.loopKeys(n),c.insertBefore(l,t),e.one("before-mount",().on("update",(function(){var d=y(n.val,e),_=document.createDocumentFragment();G(d)||(d=(r=d||!1)?Object.keys(d).map(():[]);for(var A=0,L=d.length;A<L;A++){var E=d[A],O=i&&"object"==typeof E&&!r,I=v.indexOf(E),C=~I&&O?I:A,T=h[C];E=!r&&n.key?b(n,E,A):E,!O&&!T||O&&!~I||!T?((T=new j(a,{parent:e,isLoop:!0,hasImpl:!!s[o],root:u?c:t.cloneNode(),item:E},t.innerHTML)).mount(),m&&(T._root=T.root.firstChild),A!=h.length&&h[A]?(S(m,T,h[A],c,0,k,t),v.splice(A,0,E)):m?k(T,_):_.appendChild(T.root),h.splice(A,0,T),C=A):T.update(E,!0),C!==A&&O&&h[A]&&(W(d,v[A])&&S(m,T,h[A],c,0,x,t),n.pos&&(T[n.pos]=A),h.splice(A,0,h.splice(C,1)[0]),v.splice(A,0,v.splice(C,1)[0]),!f&&T.tags&&w(T,A)),T._item=E,H(T,"_parent",e)}if(function(t,e){for(var n,r=e.length,i=t.length;r>i;)n=e[--r],e.splice(r,1),n.unmount()}(d,h),c.insertBefore(_,l),p&&g&&!c.multiple)for(var N=0;N<c.length;N++)if(c[N].__riot1374){c.selectedIndex=N,delete c[N].__riot1374;break}f&&(e.tags[o]=h),v=d.slice()}))}(t,e,n),!1):(I(t.attributes,(),!D(t)&&void 0)}))}function j(t,e,n){var r,o=a.observable(this),s=e.opts)||{},f=e.parent,d=e.isLoop,h=e.hasImpl,m=V(e.item),b=[],w=[],k=e.root,x=k.tagName.toLowerCase(),S={},A=[];function j(){var t=h&&d?o:f||o;I(k.attributes,(function(e){if(!(e.name in S)){var n=e.value;s[R(e.name)]=y.hasExpr(n)?y(n,t):n}})),I(Object.keys(S),()}function T(t){I(Object.keys(t),(function(e){var n=!p.test(e)&&W(A,e);(typeof o[e]===l||n)&&(n||A.push(e),o[e]=t[e])}))}name&&k._tag&&k._tag.unmount(!0),this.isMounted=!1,k.isLoop=d,k._tag=this,H(this,"_riot_id",++u),F(this,{parent:f,root:k,opts:s},m),H(this,"tags",{}),I(k.attributes,(),r=_(t.tmpl,n,d),H(this,"update",(function(t,e){return t=V(t),d&&T(o.parent),t&&N(m)&&(!function(t){for(var e in m)typeof o[e]!==l&&K(o,e)&&(o[e]=t[e])}(t),m=t),F(o,t),j(),o.trigger("update",t),function(t,e){I(t,(function(t,n){var r=t.dom,o=t.attr,a=y(t.expr,e),u=t.parent||t.dom.parentNode;if(t.bool?a=!!a:null==a&&(a=""),t.value!==a){if(t.value=a,!o)return a+="",void(u&&(t.parent=u,"TEXTAREA"===u.tagName?(u.value=a,v||(r.nodeValue=a)):r.nodeValue=a));var c;if("value"!==o)if(U(r,o),C(a))!function(t,e,n,r){n[t]=function(t){var o=r._parent,a=r._item;if(!a)for(;o&&!a;)a=o._item,o=o._parent;K(t=t||i.event,"currentTarget")&&(t.currentTarget=n),K(t,"target")&&(t.target=t.srcElement),K(t,"which")&&(t.which=t.charCode||t.keyCode),t.item=a,!0===e.call(r,t)||/radio|check/.test(n.type)||(t.preventDefault&&t.preventDefault(),t.returnValue=!1),t.preventUpdate||(a?B(o):r).update()}}(o,a,r,e);else if("if"==o){var s=t.stub,l=a?s&&(O(s.parentNode,s,r),r.inStub=!1,J(r)||Z(r,()):(s=t.stub=s||document.createTextNode(""),r.parentNode?l():(e.parent||e).one("updated",l),r.inStub=!0)}else"show"===o?r.style.display=a?"":"none":"hide"===o?r.style.display=a?"none":"":t.bool?(r[o]=a,a&&q(r,o,o),g&&"selected"===o&&"OPTION"===r.tagName&&(r.__riot1374=a)):(0===a||a&&"object"!=typeof a)&&(c="riot-",o.slice(0,c.length)===c&&"riot-tag"!=o&&(o=o.slice("riot-".length)),q(r,o,a));else r.value!==a&&(r.value=a,q(r,o,a))}}))}(b,o),e&&o.parent?o.parent.one("updated",(function(){o.trigger("updated")})):it((),this})),H(this,"mixin",(function(){return I(arguments,(function(t){var e,n,r=[];t="string"==typeof t?a.mixin(t):t,e=C(t)?new t:t;var i=Object.getPrototypeOf(e);do{r=r.concat(Object.getOwnPropertyNames(n||e))}while(n=Object.getPrototypeOf(n||e));I(r,(function(t){if("init"!=t&&"__proto__"!=t){var n=Object.getOwnPropertyDescriptor(e,t)||Object.getOwnPropertyDescriptor(i,t),r=n&&(n.get||n.set);!o.hasOwnProperty(t)&&r?Object.defineProperty(o,t,n):o[t]=C(e[t])?e[t].bind(o):e[t]}})),e.init&&e.init.bind(o)()})),this})),H(this,"mount",(function(){j();var e=a.mixin("__global_mixin");if(e)for(var n in e)e.hasOwnProperty(n)&&o.mixin(e[n]);if(o._parent&&o._parent.root.isLoop&&T(o._parent),t.fn&&t.fn.call(o,s),E(r,o,b),D(!0),t.attrs&&function(t,e){var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;for(;n=r.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}(t.attrs,(),(t.attrs||h)&&E(o.root,o,b),o.parent&&!d||o.update(m),o.trigger("before-mount"),d&&!h)k=r.firstChild;else{for(;r.firstChild;)k.appendChild(r.firstChild);k.stub&&(k=f.root)}H(o,"root",k),d&&L(o.root,o.parent,null,!0),!o.parent||o.parent.isMounted?(o.isMounted=!0,o.trigger("mount")):o.parent.one("mount",()})),H(this,"unmount",(function(t){var e,n=k,r=n.parentNode,i=c.indexOf(o);if(o.trigger("before-unmount"),~i&&c.splice(i,1),r){if(f)G((e=B(f)).tags[x])?I(e.tags[x],():e.tags[x]=void 0;else for(;n.firstChild;)n.removeChild(n.firstChild);t?(U(r,"data-is"),U(r,"riot-tag")):r.removeChild(n)}this._virts&&I(this._virts,(),o.trigger("unmount"),D(),o.off("*"),o.isMounted=!1,delete k._tag})),L(r,this,w)}unction I(t,e){for(var n,r=t?t.length:0,i=0;i<r;i++)null!=(n=t[i])&&!1===e(n,i)&&i--;return t}unction T(t){if(t.outerHTML)return t.outerHTML;var e=Y("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}ction M(t,e){return t.getAttribute(e)}function q(t,e,n){var r=f.exec(e);r&&r[1]?t.setAttributeNS("http://www.w3.org/1999/xlink",r[1],n):t.setAttribute(e,n)}function D(t){return t.tagName&&s[M(t,"data-is")||M(t,"riot-tag")||t.tagName.toLowerCase()]}unction $(t,e,n){var r,i=t.parent;i&&(G(r=i.tags[e])?r.splice(n,0,r.splice(r.indexOf(t),1)[0]):P(t,e,i))}nction z(t){var e=D(t),n=M(t,"name");return n&&!y.hasExpr(n)?n:e?e.name:t.tagName.toLowerCase()}tion V(t){if(!(t instanceof j||t&&"function"==typeof t.trigger))return t;var e={};for(var n in t)p.test(n)||(e[n]=t[n]);return e}ction X(t,e){return(e||document).querySelectorAll(t)}r et,nt,rt,it=i||{});a.util={brackets:m,tmpl:y},a.mixin=(nt=(et={}).__global_mixin={},rt=0,function(t,e,n){if(N(t))a.mixin("__unnamed_"+rt++,t,!0);else{var r=n?nt:et;if(!e){if(typeof r[t]===l)throw new Error("Unregistered mixin: "+t);return r[t]}C(e)?(F(e.prototype,r[t]||{}),r[t]=e):r[t]=F(r[t]||{},e)}}),a.tag=a.tag2=a.mount=function(t,e,n){var r,i,o=[];function a(t){var e="";return I(t,(function(t){/[^-\w]/.test(t)||(t=t.trim().toLowerCase(),e+=',[data-is="'+t+'"],[riot-tag="'+t+'"]')})),e}f(A.inject(),N(e)&&(n=e,e=0),"string"==typeof t?("*"===t?t=i=u():t+=a(t.split(/, */)),r=t?X(t):[]):r=t,"*"===e){if(e=i||u(),r.tagName)r=X(e,r);else{var l=[];I(r,(),r=l}e=0}return function t(r){if(r.tagName){var i=M(r,"data-is")||M(r,"riot-tag");e&&i!==e&&(i=e,q(r,"data-is",e),q(r,"riot-tag",e));var a=function(t,e,n){var r=s[e],i=t._innerHTML=t._innerHTML||t.innerHTML;return t.innerHTML="",r&&t&&(r=new j(r,{root:t,opts:n},i)),r&&r.mount&&(r.mount(),W(c,r)||c.push(r)),r}(r,i||r.tagName.toLowerCase(),n);a&&o.push(a)}else r.length&&I(r,t)}(r),o},a.update=a.vdom=c,a.Tag=j,"object"==typeof e?t.exports=a:typeof n(5)!==l?void 0===(r=function(){return a}.call(e,n,e,t))||(t.exports=r):i.riot=a}("undefined"!=typeof window?window:void 0)},function(t,e){var n={};n.hexTable=new Array(256);for(var r=0;r<256;++r)n.hexTable[r]="%"+((r<16?"0":"")+r.toString(16)).toUpperCase();e.arrayToObject=e.merge=e.decode=e.encode=e.compact=e.isRegExp=e.isBuffer=,function(t,e,n){!function(){var e,r=void 0!==t.exports;e=r?n(6).runInContext():window._;var i={uuid:function(){var t=e.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var r=(t+e.random(16))%16|0;return t=Math.floor(t/16),("x"==n?r:3&r|8).toString(16)}))},isUuid4:function(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)},isUuid:;if(r)e.mixin(i,{chain:!0}),t.exports=e;else{if("function"!=typeof e)throw new Error("lodash must be included before lodash-extensions.");e.mixin(i,{chain:!0})}}()},hildren||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,getect.defiet:funcebpackPolyfill=1),t}},function(t,e,n){var r=n(1),i={delimiter:"&",arrayPrefixGenerators:{brackets:function(t,e){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t,e){return t}},strictNullHandling:!1,skipNulls:!1,encode:!0,stringify:function(t,e,n,o,a,u,c,s){if("function"==typeof c)t=c(e,t);else if(r.isBuffer(t))t=t.toString();else if(t instanceof Date)t=t.toISOString();else if(null===t){if(o)return u?r.encode(e):e;t=""}if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return u?[r.encode(e)+"="+r.encode(t)]:[e+"="+t];var l,f=[];if(void 0===t)return f;if(Array.isArray(c))l=c;else{var d=Object.keys(t);l=s?d.sort(s):d}for(var p=0,h=l.length;p<h;++p){var v=l[p];a&&null===t[v]||(f=Array.isArray(t)?f.concat(i.stringify(t[v],n(e,v),n,o,a,u,c)):f.concat(i.stringify(t[v],e+"["+v+"]",n,o,a,u,c)))}return f}};t.exports=function(t,e){var n,r,o=void 0===(e=e||{}).delimiter?i.delimiter:e.delimiter,a="boolean"==typeof e.strictNullHandling?e.strictNullHandling:i.strictNullHandling,u="boolean"==typeof e.skipNulls?e.skipNulls:i.skipNulls,c="boolean"==typeof e.encode?e.encode:i.encode,s="function"==typeof e.sort?e.sort:null;"function"==typeof e.filter?t=(r=e.filter)("",t):Array.isArray(e.filter)&&(n=r=e.filter);var l,f=[];if("object"!=typeof t||null===t)return"";l=e.arrayFormat in i.arrayPrefixGenerators?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":"indices";var d=i.arrayPrefixGenerators[l];n||(n=Object.keys(t)),s&&n.sort(s);for(var p=0,h=n.length;p<h;++p){var v=n[p];u&&null===t[v]||(f=f.concat(i.stringify(t[v],v,d,a,u,c,r,s)))}return f.join(o)}},function(t,e,n){var r=n(1),i={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1,parseValues:function(t,e){for(var n={},i=t.split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),o=0,a=i.length;o<a;++o){var u,c,s=i[o],l=-1===s.indexOf("]=")?s.indexOf("="):s.indexOf("]=")+1;-1===l?(]&&"]"===oec(t))&&u<nvar n="string"==typeof t?i.parseValues(t,e):t,o=e.plainObjects?Object.create(null):{},a=Object.keys(n),u=0,c=a.length;u<c;++u){var s=a[u],l=i.parseKeys(s,n[s],e);o=r.merge(o,l,e)}return r.compact(o)}},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r);function o(t){let e=(t=t||document.location.search).replace(/(^\?)/,"").split("&"),n={};return e.forEach(t=>{t=t.split("="),n[t[0]]=t[1]}),n}function a(t,e){return t.parentElement?function(t,e){let ncument).querySelectorAll(e),r=n.length;for(;--r>=0&&n.item(r)!==t;);return r>-1}(t,e)?t:a(t.parentElement,e):null}function u(t){let e,n,r=new XMLHttpRequest,i="",o=new Promise((function(t,r){e=t,n=r}));return t.method||(t.method="GET"),t.data&&(i=function(t,e){let n=[];for(let r in t)t.hasOwnProperty(r)&&(Array.isArray(t[r])?t[r].forEach(t=>{n.push(encodeURIComponent(r)+(e?"[]":"")+"="+encodeURIComponent(t))}):n.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r])));return n.join("&")}(t.data),"get"===t.method.toLowerCase()&&("/"!==t.url.substr(-1)&&(t.url+="/"),t.url+="?"+i)),r.onload=()=>{if(200===r.status){let n=t.json?JSON.parse(r.responseText):r.responseText;e(),t.success(n)}else n(),"function"==typeof t.error&&t.error(r.responseText)},r.open(t.method,t.url),r.withCredentials=!!t.withCredentials,"post"===t.method.toLowerCase()?(r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send(i)):r.send(),o}function c(t,e,n){let r,i=document.getElementsByTagName("head")[0];"undefined"===e?(r=document.createElement("script"),r.onload=n,r.src=t,i.insertBefore(r,i.lastChild)):ni,o,a=0;return function(){let u=Date.now(),c=e-(u-a);return r=this,i=arguments,n&&(clearTimeout(n),n=null),c<=0||c>e?(a=u,o=t.apply(r,i),n||(r=i=null)):n=window.setTimeout((function(){o=t.apply(r,i)}),e),o}}function l(){let t=o();t.logger&&window.console&&console.log&&console.log(...arguments)}function f(t){if(!window.history||!window.history.replaceState)return void console.log('Browser doesn"t support History API');let e=function(t,e){if(t.includes(e+"=")){let n=new RegExp(`&${e}(\\=[^&]*)?(?=&|$)|\\?${e}(\\=[^&]*)?(&|$)`),r=t.includes(`?${e}=`)&&t.includes("&")?"?":"";t=t.replace(n,r)}return t}(window.location.href,t);window.history.replaceState(null,null,e)}let d;function p(t){for(const t of d.querySelectorAll("[data-panel]"))t.style.display="none";d.querySelector(`[data-panel="${t}"]`).style.display="block"};for(const t of d.querySelectorAll(".global-navigation-mobile__menu-link[data-activate-panel]"))t.addEventListener("click",(function(t){t.preventDefault(),p(this.getAttribute("data-activate-panel"))}));d.querySelector(".global-navigation-mobile__icon.is-search").addEventListener("click",t=>{t.preventDefault(),d.classList.contains("is-search-active")?d.classList.remove("is-search-active"):(function(){d.parentNode.classList.remove("has-active-menu"),d.classList.remove("is-menu-active");for(const t of d.querySelectorAll("[data-panel]"))t.style.display="none";document.body.classList.remove("no-scroll")}(),function(){d.classList.add("is-search-active");const t=d.querySelector(".global-navigation-mobile__search-panel");t.style.position="fixed",d.querySelector(".global-navigation-mobile__search-input").focus(),t.style.position="absolute"}())});const t=window.location.href,e=d.querySelectorAll('a[data-param-name="redirect"]');for(const n of e)n.href+="?redirect="+encodeURIComponent(t);const n=d.querySelectorAll('input[name="redirect"]');for(const e of n)e.setAttribute("value",t)}};class v{constructor(t){this.searchIcon=t.querySelector(".global-navigation__search"),this.modalClose=t.querySelector(".global-nav-search-modal__close"),this.activeClass="homepage-search-is-active",this.desktopModalSearch=t.querySelector(".search-box.is-desktop-view.is-modal"),this.desktopModalSearchLabel=t.querySelector(".search-box__search-label"),this.desktopModalSearchInput=t.queryctor(".feed-header .search-box.is-desktop-view.is-top"),this.clickOutsideHandler=this.clickOutsideHandler.bind(this)}init(){this.setupNavModalSearch(),this.setupClickSearch(),this.setupCloseSearch()}setupUpNavModalHomepagePosition(){if(!this.homepageTopSearch||!this.desktopModalSearch)return;const t=this.homepageTopSearch.offsetLeft,e=this.homepageTopSearch.offsetTop-69;this.dis.desktopModalSearch.style.left=t+"px",this.desktopModalSearch.style.top=e+"px"}setupClickSearch(){this.desktopModalSearchLabel.addEventListener("click",t=>{t.prctivateSearch(){this.desktopModalSearch.classList.contains(this.activeClass)||(this.desktopModalSearch.classList.add(this.activeClass),requestAnimationFrame(()=>{this.desktopModalSearchInput.focus()}))}setupNavModalSearch(){this.e&&!e.className.includes("is-visible")&&(e.className+=" is-visible",this.setupUpN(()=>{document.body.addEventListener("clic,this.activateSearch())})}setupCloseSearch(){document.addEventListener("keydown",t=>{"Escape"===t.key&&this.closeModalSearch()}),this.modalClose.addEventListener("click",()=>{this.closeModalSearch()})}clickOutsideHandler(t){this.desktopModalSearch!==t.target&&!this.desktopModalSearch.contains(t.target)&&g().className.includes("is-visible")&&(this.desktopModalSearchLabel.blur(),this.desktopModalSearchInput.blur(),this.closeModalSearch())}closeModalSearch(){this.desktopModalSedes("is-visible")&&(t.className="global-nav-search-modal",document.body.removeEventListener("click",this.clickOutsideHandler))}}function g(){return document.querySelector(".global-nav-search-modal")}function m(t){let e,n=document.cookie.split(";"),r=n.length-1;for(;r>=0;){if(e=n[r].split("="),e[0].trim()===t)return e[1];r--}return null}var y={init:function(){const t=document.querySelector(".global-navigation");if(!t)return;if(new v(t).init(),m("fcvisited")){const t=document.querySelector(".global-navigation__link.is-fan-central");t&&(t.stylSelectorAll(".wds-global-navigation__links-and-search > .wds-global-navigation__link");[].forEach.call(t,(function(t){const e=t=>t.toString().replace(/^(https?:)?\/\/[^\/]===e(window.location)&&t.classList.add("wds-is-active")}));const e=document.querySelectorAll(".wds-global-navigation-wrapper [data-tracking]");[].forEach.call(e,(function(t){i.a.mount(t,"trackable")}))}var b={init:function(){const t=document.querySelector(".wds-global-navigation-wrapper.is-placeholder");t?function(t){return new Promise((e,n)=>{new Promise((t,e)=>{const n=window.upstream.siteUrl,r=window.upsumentElempi/nav_user_menu/?uselang=${en>{n.success?t(n.markup):e(n.message)},error:()=>{e("A server error occurred")}})}).then(n=>{t.outerHTML=n,e()}).catch(n)})}(t).then(_).catch(t=>{t&&console.log("Unable to display nav user menu: "+t)}):_()}};class w{static prefetchResource(t,e=!1){const n=document.createElement("link");n.href=t,n.rel="prefetch",e&&(n.as=e),document.head.appendChild(n)}static prefetchOnHover(t){const e=document.querySelectorAll(t);for(const t of e)t.href&&t.addEventListener("mouseenter",w.prefetchHoverHandler)}static prefetchHoverHandler(){this.removeEventListener("mouseenter",w.prefetchHoverHandler),w.prefetchResource(this.href)}static prefetchLinks(t){const e=document.querySelectorAll(t);for(const t of e)t.href&&w.prefetchResource(t.href)}}let k;class x{static canUseStorage(){if(void 0===k&&(k=!1,window.localStorage))try{window.localStorage.setItem("test","1"),window.localStorage.removeItem("test"),k=!0}catch(t){try{al Storage polyfill error:ing created"),Storage.prototytem=function(t,e){this._.prototype.getItem=function(t){return this._data.hasOwnProperty(t)?this._data[t]:null},Storage.prototype.removeItem=function(t){delete this._data[t]},Storage.prototype.clear=function(){this._data={}}}static get(t){if(!x.canUseStorage())return!1;let e=window.localStorage.getItem(t);return!!e&&(e=JSON.parse(e),x.isExpired(e)?(x.delete(t),!1):e._data)}static set(t,e,n=null){if(!x.canUseseInt(n),isNaN(n)||(r._expires=1e3*n+Date.now());try{window.localStorage.setItem(t,JSON.stringify(r))}catch(t){return!1}return!0}static delete(t){x.canUseStorage()&&window.localStorage.removeItem(t)}static isStorable(t){return!("function"==typeof t||"number"==typeof t&&isNaN(t)||void 0===t)}static isExpired(t){return t._expires&&Date.now()>=parseInt(t._expires)}}const S=window.upstream.siteUrl+"/wp-content/themes/upstream/dist/svg/default-user-avatar.svg";class A{static getUserData(t,e){Array.isArray(t)||(t=[t]);let n,r={};t.forEach(e=>{n=x.get("userData_"+e),n&&(r[e]=n,t.splice(t.indexOf(e),1))}),Object.keys(r).length>0&&(e(r),0===t.length)||A.getUserDataFromApi(t).then(t=>{e(t)}).catch(t=>{l(t)})}static getUserDataFromApi(t){return new Promise((e,n)=>{u({url:"https://services.wikia.com/profile/bulk",json:!0,data:{id:t},success:t=>{if(t.users){let n=A.formatUserData(t.users);A.cacheUserData(n),e(n)}else n("User data returned in unexpected format")},error:()=>{n("An error occurred while requesting user data")}})})}static cacheUserData(t){for(let e in t)x.set("userDataerData(t){if(0===t.length)return;let e,n=[];for(let r of t)e=r.getAttribute("data-user-id"),e&&n.push(e);n.length>0&&(n=n.filter((t,e,n)=>e==n.indexOf(t)),A.getUserData(n,e=>{A.populateUserData(t,e)}))}static populateUserData(t,e){for(const n of t){const t=n.getAttribute("data-user-id");if(!e[t]){l("No user data exists for ID: "+t);continue}const r=n.querySelector("img[data-avatar]");r&&(e[t].media.avatar?r.src=A.getScaledAvatar(e[t].media.avatar,r.width):r.src=S);const i=n.querySelector("[data-name]");i&&(i.innerHTML=e[t].name?e[t].name:e[t].userName);const o=n.querySelector("[data-bio]");o&&e[t].bio&&(o.innerHTML=e[t].bio);const a=n.querySelectorAll("[data-profile-link]");for(const n of a)n.setAttribute("href","https://www.fandom.com/u/"+e[t].userName);const u=n.querySelector("[data-facebook-link]");if(u){const n=A.getSocialNetwork(e[t],"facebook");n&&n.url&&(u.setAttribute("href",n.url),u.style.display="inline-block")}const c=n.querySelector("[data-twitter-linkay="inline-block")}n.style.visibility="visible"}}static getSocialNetwork(t,e){return t.socialNetworks.find(t=>t.network===e)}static formatUserData(t){let e={};return t.forEach(t=>{e[t.userId]=t}),e}static getScaledAvatar(t,e){e||(e=60);const n=/^(https?:\/\/static\.wikia\.nocookie\.net\/[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/.exec(t);return null!==n&&(t=`${n[1]}/scale-to-width-down/${e}`),t}}const L="production"===window.upstream.env?"I0UFPEG8MX":"testingJ6JYY5PVW6",E="production"===window.upstream.env?"4ab7452832b998baf41c7c93213f7468":"03b95ddd3007ed48b6f02c6fe7766a50" e=t.target.closest(".post");if(null===e)"section.post-archive"),r=(()=>{const t="wikia_beacon_id",e=t.length+1;return document.cookie.split(";").map(t=>t.trim()).filter(n=>n.substring(0,e)===t+"=").map(t=>decodeURIComponent(t.substring(e)))[0]||null})(),i=n.getAttribute("data-index"),o=[""+e.getAttribute("data-tracking-id")],a=[parseInt(e.getAttribute("data-absolute-position"))],u=n.getAttribute("data-query-id");r&&aa("clickedObjectIDsAfterSearch",{userToken:r,eventName:"news-stories-search-result",index:i,queryID:u,objectIDs:o,positions:a})},O=()=>{if(null===document.querySelector("body.search-results"))return;aa("init",{appId:L,apiKey:E});["body.search-resultdy.search-results .post-archive .post .excerpt a"].forEach(t=>{document.querySelectorAll(t).forEach(t=>{t.addEventListener("click",t=>{j(t)})})})};function I(){window.$p||(window.$p=function(t,e){l("liftigniter called in dev mode: "+t,e)}),$p("init","l9ehhrb6mtv75bp2"),$p("send","pageview")}let C=null;class T{constructor(t){return null===C&&(C=this),this.fandomAccount={production:{id:"UA-71552437-1",name:"fandomProd"},development:{id:"UA-71552437-2",name:"fandomDev"}},this.wikiAccountSampled={production:{id:"UA-32129070-1",name:"wikiSampledProd"},development:{id:"UA-32129070-2",name:"wikiSampledDev"}},this.wikiAccountUnsampled={production:{id:"UA-32132943-1",name:"wikiUnsampledProd"},development:{id:"UA-32132943-2",name:"wikiUnsampledDev"}},this.gaOptions={sampleRate:100,storage:t?"none":void 0},this.isStoriesPage=-1===["corporate","explore"].indexOf(window.upstream.pageType),this.activeTrackers=[],this.environment="production"===window.upstream.env?"production":"development",C}init(t){ga(()=>{this.isStoriesPage&&(this.activeTrackers.push(this.fandomAccount[this.environment]),this.activeTrackers.push(this.wikiAccountUnsampled[this.environment])),this.createTrackers(),this.setTrackerHostname(),this.setTrackerLocation(),t&&this.setTrackerAnonymous(),this.isStoriesPage&&this.setDimensions(this.activeTrackers),this.sendPageview()})}createTrackers(){this.activeTrackers.forEach((function(t){ga("create",t.id,"auto",t.name,this.gaOptions)})),ga("create",this.wikiAccountSampled[this.environment].id,"auto",this.wikiAccountSampled[this.environment].name,this.gaOptions)}setTrackerAnonymous(){this.activeTrackers.forEach((function(t){ga(t.name+".set","anonymizeIp",!0)}))}setTrackerHostname(){this.activeTrackers.forEach((function(t){ga(t.name+".set","hostname","wikia.com")}))}setTrackerLocation(){"/fandom"===window.location.pathname&&this.activeTrackers.forEach((function(t){ga(t.name+".set","location","https://www.fandom.com/")}))}sendPageview(){this.activeTrackers.forEach((function(t){ga(t.name+".send","pageview")}))}setDimensions(){const t=[];t[1]=window.upstream.pageType||"",t[2]=window.upstream.post.verticals.join(",")||"",t[3]=window.upstream.post.topics.concat(window.upstream.post.events).join(",")||"",t[4]=window.upstream.post.author||"",t[5]=window.upstream.post.authorType||"",window.upstream.post.publishDate?t[6]=window.upstream.post.publishDate.split(" ")[0]:t[6]="",t[7]=window.upstream.post.id||"",t[8]=window.upstream.contentLanguage||"",this.activeTrackers.forEach((function(e){t.forEach((t,n)=>{null!=t&&(t=t.toString()),ga(e.name+".set","dimension"+n,t)})}))}isValidGaEventObj(t){return"string"==typeof t.category&&"string"==typeof t.label&&"string"==typeof t.action&&(void 0===t.value||"number"==typeof t.value)}track(t){if(void 0===(t=Object.assign({},{action:"click",category:window.upstream.pageType},t)).nonInteraction)throw new Error("Missing `nonInteraction` fielisValidGaEventObj(t))return ga(this.fandomAccount[this.environment].name+".send","event",t.category,t.action,t.label,t.value,{nonInteraction:t.nonInteraction,hitCallback:()=>{l("ga tracking sent",t)}});throw new Error("Invalid params for tracking call. Make sure string values are specified for category, label and action\n\t\t\t If a value is specified, it must a number type")}}const N=m("wikia_beacon_id"),U=m("_b2");function R(){var t;t={a:window.upstream.post.id||"",page:window.upstream.post.title||""},function(t){if(!window.upstream.wikiBridge)return void l("Wiki bridge not setup, ignoring internal tracking call");const e=Object.assign({},t,{s:"upstream",lc:"enndow.upstream.wikiBridge.wikiId,beacon:N||"",cb:Math.floor(99999*Math.random()),url:window.location.href,r:document.referrer}),n=function(t,e){const n=[],r=function(t){return"view"===t.toLowerCase()}(t)?"view":"special/trackingevent";return Object.keys(e).forEach(t=>{const r=e[t];if(null!==r){const e=`${encodeURIComponent(t)}=${encodeURIComponent(r)}`;n.push(e)}}),`https://beacon.wikia-services.com/__track/${r}?${n.join("&")}`}(e.ga_category,e);"production"===window.upstream.env?c(n,"undefined",(function(){})):l("Internal tracking called in dev mode: ",n)}(Object.assign({},{b2:U},t))}const M={init(){const t=this.opts.trackingEvent||"click",e=this.root.getAttribute("data-tracking"),n=e&&JSON.parse(e).label;this.root.addEventListener(t,()=>{let e={category:this.opts.trackingCategory||window.upstream.pageType,label:n||this.opts.trackingLabel,action:t};e.nonInteraction="click"!==e.action;const r=this.root.getAttribute("tracking-value");r&&"number"==typeof parseInt(r)&&(e.value=parseInt(r)),(new T).track(e)})}};function q(t){!function(){document.querySelector("head");const t=document.querySelector("body");if(window.upstream.shouldLoadParsely){const e=document.createElement("script");e.setAttribute("id","parsely-script"),e.setAttribute("src","//d1z2jf7jlzjs58.cloudfront.net/p.js"),t.appendChild(e)}}(),ga(()=>{new T(t);i.a.mount("[data-trackable]","trackable"),i.a.mount(".article-container a:not([class*=btn])","trackable",{trackingLabel:"article.link"}),i.a.mount(".entry-meta .fb-share-btn","trackable",{trackingLabel:"social.facebook.byline"}),i.a.mount(".entry-meta .tweet-btn","trackable",{trackingLabel:"social.twitter.byline"}),i.a.mount(".entry-meta .reddit-btn","trackable",{trackingLabel:"social.reddit.byline"}),i.a.mount(".floating-social .fb-share-btn","trackable",{trackingLabel:"social.facebook.floating"}),i.a.mount(".floating-social .tweet-btn","trackable",{trackingLabel:"social.twitter.floating"}),i.a.mount(".floating-social .reddit-btn","trackable",{trackingLabel:"social.reddit.floating"})}),t||function(){const t=document.querySelector("head");let e;if(document.querySelector("body"),"production"===window.upstream.env){const e=document.createElement("script");e.innerHTML='(function(w,d,s,p,v,e,r) {w["$igniter_var"]=v;w[v]=w[v]||function(){(w[v].q=w[v].q||[]).push(arguments)};w[v].l=1*new Date();e=d.createElement(s),r=d.getElementsByTagName(s)[0];e.async=1;e.src=p+"?ts="+(+new Date()/3600000|0);r.parentNode.insertBefore(e,r)})(window,document,"script","//cdn.petametrics.com/l9ehhrb6mtv75bp2.js","$p");',e.onload=I,t.appendChild(e)}e=document.createElement("script"),e.innerHTML='var _comscore = _comscore || [];_comscore.push({ c1: "2", c2: "'+window.upstream.comscorePartnerId+'",options: { url_append: "comscorekw='+window.upstream.comscoreKeyword+'" }});(function() {var s = document.createElement("script"), el = document.getElementsByTagName("script")[0]; s.async = true;s.src = (document.location.protocol == "https:" ? "https://sb" : "http://b") + ".scorecardresearch.com/beacon.js";el.parentNode.insertBefore(s, el);})();',t.appendChild(e),e=document.createElement("script"),e.innerHTML='var _qevents = _qevents || [];(function() {  var elem = document.createElement("script");  elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";  elem.async = true;  elem.type = "text/javascript";  var scyTagName("scriode.insertBefore(elem, scpt);})();_qevents.push({  qacct:"p-8bG6eLqkH6Avk"});',t.appendChild(e)}()}i.a.tag("trackable","<yield></yield>",(function(){this.mixin(M)}));var D={init:function(t){q(t),R()}},P=n(2),$=n.n(P);const B="searchImpression",H="searchClicked",z=({type:t,payload:e})=>{((t,e)=>{switch(t){case B:return(t=>"string"==typeof t.searchPhrase&&"object"==typeof t.results&&t.results.every(({id:t,title:e,position:n,thumbnail:r})=>"string"==typeof t&&"string"==typeof e&&"number"==typeof n&&"boolean"==typeof r)&&("number"==typeof t.page||"number"==typeof t.offset)&&"number"==typeof t.limit&&"string"==typeof t.sortOrder&&"string"==typeof t.timestamp&&"string"==typeof t.beaconId&&"string"==typeof t.app&&"number"==typeof t.siteId&&"string"==typeof t.siteDomain&&"string"==typeof t.searchId&&"string"==typeof t.pvUniqueId)(e);case H:return(t=>"string"==typeof t.searchPhrase&&"object"==typeof t.clicked&&"string"==typeof t.clicked.type&&"string"==typeof t.clicked.id&&"string"==typeof t.clicked.title&&"number"==typeof t.clicked.position&&"boolean"==typeof t.clicked.thumbnail&&"string"==typeof t.timestamp&&"string"==typeof t.beaconId&&"string"==typeof t.app&&"number"==typeof t.siteId&&"string"==typeof t.siteDomain&&"string"==typeof t.searchId&&"string"==typeof t.pvUniqueId)(e);default:throw"Unrecognized eve)?((t/special/")=>{const r=n+t+"/"+e,i=document.createElement("script");i.src=r,document.head.appendChild(i),i.onload=()=>{document.head.removeChild(i)}})(t,(t=>btoa(encodeURIComponent(JSON.stringify(t))))(e)):console.error(`One of the fileds in ${t} is malformed or missing`)},F=t=>{t.siteDomain=window.location.host;const e=$.a.get("wikia_beacon_id");return t.beaconId=e||"dev",t.timestamp=(new Date).toISOString(),t};var W=n(3),G=n.n(W);const K=window.upstream.isMobileScreenSize?"fandom_mobile":"fandom_desktop",V=window.upstream.wikiBridge.wikiId;let Z;const J=()=>{if(!Z){const t=new URL(window.location).searchParams;Z=t.get("searchUID")||G.a.uuid()}return Z},Y=()=>""+window.goog_pvsid||"dev";let X;let Q;const tt=()=>{if(!Q){const t=new URL(window.location).searchParams;Q=t.get("s")||""}return Q},et=()=>{const t=document.querySelector("[data-track-search-mediawiki-article]");return t?t.classList.contains("mediawiki-article--test-variation-a")?"group-a":t.classList.contains("mediawiki-article--test-variation-b")?"group-b":"none":"none"},nt=t=>{(t=>{z({type:H,payload:F(t)})})({clicked:{type:t.getAttribute("data-tracking-type"),id:t.getAttribute("data-tracking-id"),title:t.getAttribute("data-tracking-title"),position:parseInt(t.getAttribute("data-tracking-position")),thumbnail:!!t.gembnail")},target:"redirect",searchPhrase:tt(),app:K,siteId:V,searchId:J(),pvUniqueId:Y()})},rt=(t,e)=>{document.querySelectorAll(e).forEach(e=>{e.addEventListener("click",e=>{nt(e.target.closest(t))})})},it=(t,e)=>{const n=(t=>{const e=[];return t.forEach(t=>{e.push({id:t.getAttribute("data-tracking-id"),title:t.getAttribute("data-tracking-title"),position:parseInt(t.getAttribute("data-tracking-position")),thumbnail:!!t.getAttribute("data-tracking-thumbnail")})}),e})(document.querySelectorAll(t));(t=>{z({type:B,payload:F(t)})})({searchPhrase:tt(),filters:{testGroup:et()},results:n,page:e,limit:n.length,sortOrder:"default",app:K,siteId:V,searchId:J(),pvUniqueId:Y()})};let ot=0;const at=()=>{const t=window.optimizely;ot>10||t&&t.initialized?(document.querySelectorAll(".pagination .page, [data-track-search-more-communities-link], [data-track-search-more-mediawiki-articles-link]").forEach(t=>{const e=new URL(t.getAttribute("href"));e.searchParams.get("searchUID")||(e.searchParams.append("searchUID",J()),t.setAttribute("href",e.toString()))}),rt("[data-track-search-stories-results]","[data-track-search-stories-results]"),rt("[data-track-search-community-right-rail]","[data-track-search-community-right-rail]"),it("[data-track-search-stories-results]",(()=>{if(!X){const t="/page/([0-9]*)",e=new URL(window.location).pathname.match(t);X=e?parseInt(e[1]):1}return X})()),it("[data-track-search-community-right-rail]",1),(()=>{const t=document.querySelector("[data-track-search-mediawiki-article]");return!!t&&t.classList.contains("mediawiki-article--test-on")})()&&(it("[data-track-search-mediawiki-article]",1),rt("[data-track-search-mediawiki-article]","[data-track-search-mediawikirlink]","[data-track-search-more-mediawiki-articles-link]"))):(ot++,setTimeout(at,100))};document.addEventListener("DOMContentLoaded",()=>at());class ut{getShareableUrl(){return window.location.href}}var ct=n(4);class st extends ut{constructor(t){super(),t=Object.assign({text:"",url:this.getShareableUrl(),hashtags:"fandom",via:"getfandom",related:"",inReplyTo:""},t),this.tweetText=t.text,this.url=t.url,this.hashtags=t.hashtags,this.via=t.via,this.related=t.related,this.inReplyTo=t.inReplyTo}createWebIntentUrl(){let t={text:this.tweetText,url:this.url};return this.hashtags.length&&(t.hashtags=this.hashtags),this.via.length&&(t.via=this.via),this.related.length&&(t.related=this.related),this.inReplyTo&&(t["in-reply-to"]=this.inReplyTo),"https://twitter.com/intent/tweet?"+ct.stringify(t)}mountElement(t){if("A"!==t.nodeName)throw new TypeError("Only <a> HTML elements may be mounted onto Twitter shareable instances");t.href=this.createWebIntentUrl()}}i.a.tag("tweet-button","<yield></yield>",(function(t){this.on("mount",()=>{new st(t).mountElement(this.root)})}));class lt extends ut{constructor(t){super(),this.url=t.url||this.getShareableUrl()}}i.a.tag("fb-share-button","<yield></yield>",(function(t){this.on("mount",()=>{const e=new lt(t);this.root.addEventListener("click",(function(t){t.preventDefault(),window.FB.ui({method:"share",href:e.url})}))})}));class ft extends ut{constructor(t){super(),this.url=t.url||this.getShareableUrl()}createRedditShareUrl(){return"//www.reddit.com/submit?url="+encodeURIComponent(this.url)}mountElement(t){if("A"!==t.nodeName)throw new TypeError("Only <a> HTML elements may be mounted onto Reddit shareable instances");t.href=this.createRedditShareUrl()}}i.a.tag("reddit-button)}));class dt extends ut{constructor(t={}){super(),this.url=t.url||this.getShareableUrl()}createLinkedinShareURL(){return"//www.linkedin.com/shareArticle?mini=true&url="cument.querySelectorAll(".ln-share-bt");for(let e of t){let t=new dt;e.href=t.createLinkedinShareURL(),e.target="_blank"}}}class pt{constructor(){this.units=[],this.links=[],this.getClickableUnits()}getClickableUnits(){this.units=Array.prototype.slice.call(document.querySelectorAll(".clickable-unit")),this.links=Array.prototype.slice.call(document.querySelectorAll(".clickable-unit-links"))}addAllUnitEvents(){this.units.length&&(this.unnt(t)),this.links.forEach(t=>pt.addLinkEvent(t)))}static addUnitEvent(t){t&&(t.addEventListener("mouseenter",t=>pt.enableLink(t.target),!1),t.addEventListener("mouseleave",t,!1),t.addEventListener("click",t=>pt.clickLink(t),!1))}static addLinkEvent(t){t.addEventListener("mouseenter",t=>pt.disableParentLink(t),!1),t.addEventListener("mouseleave",t=>pt.enableParentLink(t),!1)}static enableLink(t){t.classList.add("hover")}static disableLink(t){t.classList.remove("hover")}static clickLink(t){if("A"===t.target.nodeName||"IMG"===t.target.nodeName&&"A"===t.target.parentNode.nodeName)return;const e=a(t.target,".clickable-unit");if(!e)return;const n=e.querySelector(".clickable-anchor");n&&(window.location.href=n.getAttribute("href"))}static enableParentLink(t){a(t.target,".clickable-unit").classList.add("hover")}static disableParentLink(t){a(t.target,".clickable-unit").classList.remove("hover")}}class ht{static add[].forEach.call(e,e=>ht.addUnitddUnitEvents(t,e){const n=a(e,t);n&&(e.addEventListntListener("mouseleave",()=>ht.disableLink(n),!1),e.addEventListener("click",e=>ht.clickLink(e,t),!1))}static enableLink(t){t.classList.add("hover")}static disableLink(t){t.classList.remove("hover")}static clickLink(t,e){if("A"===t.target.nodeName||"IMG"===t.target.nodeName&&"A"===t.target.parentNode.nodeName)return;const n=a(t.queryis.scrollHandler=s(()=>this.checkImagesShouldLoad(),200)}init(){this.checkImagesShouldLoad(),window.addEventListener("scroll",this.scrollHandler),window.addEventListener("resize",this.scrollHandler)}getImageElements(){let t="img[data-src], [data-src-bg]";return window.innerWidth>=840&&(t+=", img[data-src-large], [data-src-large-bg]"),document.querySelectorAll(t)}checkImagesShouldLoad(){let t=!1;for(let e=0;e<this.elements.length;e++)this.elements[e].getBoundingClientRect().top-500<window.innerHeight&&(this.loadImage(this.elements[e]),t=!0);t&&(this.elements=this.getImageElements(),this.elements.length<1&&(window.removeEventListener("scroll",this.scrollHandler),window.removeEventListener("resize",this.scrollHandler)))}loadImage(t){if(t.hasAttribute("data-src"))t.setAttribute("src",t.getAttribute("data-src")),t.removeAttribute("data-src");else if(t.hasAttribute("data-src-large")){let e=new Image;e.src=t.getAttribute("data-src-large"),e.addEventListener("load",()=>{t.setAttribute("src",e.src),t.removeAttribute("data-src-large")})}else if(t.hasAttribute("data-src-bg"))t.style.backgroundImage="url("+t.getAttribute("data-src-bg")+")",t.removeAttribute("data-src-bg");else if(t.hasAttribute("data-src-large-bg")){let e=new Image;e.src=t.getAttribute("data-src-large-bg"),e.addEventListener("load",()=>{t.style.backgroundImage="url("+e.src+")",t.removeAttribute("data-src-large-bg")})}}}window.upstream.initFooterScripts=function(){f("cb"),f("useregion"),i.a.route.stop(),b.init(),function(){let t=document.querySelector(".article-rail");if(t){let e=t.parentElement.querySelector(".entry-meta");if(e&&!t.classList.contains("featured-article-rail")&&!window.upstream.isMobileScreenSize){let n=e.getBoundingClientRect().top,r=t.getBoundingClientRect().top;t.style.marginTop=n-r-18+"px"}t.classList.add("visible")}}(),function(){let t=document.querySelector(".video-rail");if(t){let e=document.querySelector(".video-content");if(e&&!window.upstream.isMobileScreenSize){let n=e.getBoundingClientRect().top,r=t.getBoundingClientRect().top;t.style.marginTop=n-r-35+"px"}t.classList.add("visible")}}(),function(){if(window.upstream.isMobileScreenSize){const t=document.querySelector("body.search-results .top-community");if(t){const e=".other-communities-link",n=document.createDocumentFragment(),r=document.querySelectorAll(".post"),i=r.length>5?4:r.length-1;n.appendChild(t),n.appendChild(document.querySelector(e)),r[i].insertAdjacentHTML("afterEnd",n.querySelector(e).outerHTML),r[i].insertAdjacentHTML("afterEnd",n.querySelector(".top-community").outerHTML)}}}(),A.showUserData(document.querySelectorAll("[data-user]")),(new vt).init(),(new pt).addAllUnitEvents(),ht.addEvents(".post",document.querySelectorAll(".post-list .post-thumbnail, .post-list .entry-title")),i.a.mount(".reddit-btn","reddit-button"),i.a.mount(".tweet-btn, .pull-quote .tweet-share-icon, .tweet-link","tweet-button"),i.a.mount(".fb-share-btn, .pull-quote .fb-share-icon, .fb-share-link","fb-share-button"),dt.initLinks(),function(){let t=".wds-global-navigation__link";w.po a",w.prefetchLinks(t),t='a[href*="articles"], a[href*="videos"]',w.prefetchOnHover(t)}(),window.trackingOptInOptions={onAcceptTracking:function(){D.init(!1)},onRejectTracking:function(){D.init(!0)},zIndex:5000104},c("//services.fandom.com/icbm/api/loader?app=requisite","undefined",(function(){})),O()}}]);