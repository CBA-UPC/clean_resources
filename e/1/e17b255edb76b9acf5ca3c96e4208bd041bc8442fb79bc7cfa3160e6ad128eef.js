(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{1339:function(e,a,t){"use strict";t.r(a);var s=t(5),l=t(567),r=t(548),i=t(839),u=t(812),n=t(838),c=Object(s.defineComponent)({__name:"step-essentials-summary",setup(e){const a=Object(l.j)(),t=Object(l.e)(),c=Object(l.k)(),o=Object(s.computed)((()=>Object(r.a)(parseFloat(a.value.price),{includeCurrency:!0}))),m=Object(s.computed)((()=>Object(r.a)(parseFloat(a.value.nextBestPrice),{includeCurrency:!0}))),d=Object(s.computed)((()=>a.value.freeShipping?"Envío gratis":Object(r.a)(parseFloat(a.value.shippingPrice),{includeCurrency:!0}))),p=Object(s.computed)((()=>{var e,t;return a.value.isLocal?null:null===(e=a.value)||void 0===e||null===(t=e.dispatchedFrom)||void 0===t?void 0:t.name}));return{__sfc:!0,summaryFieldClass:"width--all-6 width--fromW3-4 space--mb-4",thread:a,features:t,locationLabel:c,price:o,nextBestPrice:m,shippingPrice:d,shippingFrom:p,SummaryField:i.a,SummarySection:u.a,SummaryBaseValue:n.a}}}),o=t(44),m=Object(o.a)(c,(function(){var e=this,a=e._self._c,t=e._self._setupProxy;return a(t.SummarySection,{on:{edit:function(a){return e.$emit("edit")}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s("Información esencial"))]},proxy:!0},{key:"content",fn:function(){return[a("div",{staticClass:"space--mb-5"},[a("div",{staticClass:"text--b space--mb-2"},[e._v(e._s("Título"))]),a("div",{staticClass:"overflow--wrap-break text--lh-1-5"},[e._v(e._s(t.thread.title))])]),a("div",{staticClass:"flex flex--wrap"},[t.features.price?a(t.SummaryField,{class:t.summaryFieldClass,attrs:{label:"Precio actual"}},[a(t.SummaryBaseValue,{attrs:{value:t.price}})],1):e._e(),t.features.nextBestPrice?a(t.SummaryField,{class:t.summaryFieldClass,attrs:{label:"PRECIO HABITUAL"}},[a(t.SummaryBaseValue,{attrs:{value:t.nextBestPrice}})],1):e._e(),t.features.shippingPrice?a(t.SummaryField,{class:t.summaryFieldClass,attrs:{label:"Gastos de envío"}},[a(t.SummaryBaseValue,{attrs:{value:t.shippingPrice}})],1):e._e()],1),a("div",{staticClass:"flex flex--wrap"},[t.features.dispatchedFrom?a(t.SummaryField,{class:t.summaryFieldClass,attrs:{label:"¿Se envía desde otro país?"}},[a(t.SummaryBaseValue,{attrs:{value:t.shippingFrom}})],1):e._e(),t.features.locations?a(t.SummaryField,{class:t.summaryFieldClass,attrs:{label:"Disponibilidad"}},[a(t.SummaryBaseValue,{attrs:{value:t.locationLabel}})],1):e._e()],1),t.features.voucherCode?a(t.SummaryField,{class:t.summaryFieldClass,attrs:{label:"Código descuento"}},[a(t.SummaryBaseValue,{attrs:{value:t.thread.voucherCode}})],1):e._e()]},proxy:!0}])})}),[],!1,null,null,null);a.default=m.exports},812:function(e,a,t){"use strict";var s=t(5),l=t(510),r=Object(s.defineComponent)({__name:"summary-section",setup:e=>({__sfc:!0,BaseButton:l.a})}),i=t(44),u=Object(i.a)(r,(function(){var e=this,a=e._self._c,t=e._self._setupProxy;return a("div",[a("div",{staticClass:"space--mb-4"},[a("h2",{staticClass:"text--b size--all-xxl"},[e._t("title")],2)]),a("div",[e._t("content")],2),a("div",{staticClass:"space--mt-4"},[a(t.BaseButton,{attrs:{mode:"default",size:"s",variant:"secondary"},on:{click:function(a){return e.$emit("edit")}}},[e._v(" "+e._s("Editar")+" ")])],1)])}),[],!1,null,null,null);a.a=u.exports},838:function(e,a,t){"use strict";var s=t(5),l=Object(s.defineComponent)({__name:"summary-base-value",props:{value:null},setup:e=>({__sfc:!0})}),r=t(44),i=Object(r.a)(l,(function(){var e=this,a=e._self._c;e._self._setupProxy;return a("div",{staticClass:"overflow--wrap-break text--lh-1-5",class:!e.value&&"text--color-greyTint"},[e._v(e._s(e.value||"-"))])}),[],!1,null,null,null);a.a=i.exports},839:function(e,a,t){"use strict";var s=t(5),l=Object(s.defineComponent)({__name:"summary-field",props:{label:null},setup:e=>({__sfc:!0})}),r=t(44),i=Object(r.a)(l,(function(){var e=this,a=e._self._c;e._self._setupProxy;return a("div",[e.label?a("div",{staticClass:"text--b space--mb-2"},[e._v(e._s(e.label))]):[e._t("label")],e._t("default")],2)}),[],!1,null,null,null);a.a=i.exports}}]);allowed:t},count:t})})}function b(e){p({title:"paste-local-file"===e?"Wklejanie obrazków (ze schowka) nie jest dostępne.":"Przeciąganie obrazków nie jest dostępne.",body:"Zamiast tego użyj przycisku przesyłania."})}}).call(this,a(70).translation)},730:function(e,t,a){"use strict";var s={props:{alignCenter:{type:Boolean,default:!1}},computed:{containerClasses(){return{"boxAlign-ai--all-c":this.alignCenter}},hasTitle(){return!!this.$scopedSlots.title},hasSubTitle(){return!!this.$scopedSlots["sub-title"]}}},i=a(45),n=Object(i.a)(s,(function(){var e=this,t=e._self._c;return t("Transition",e._g({attrs:{appear:"",name:"slide-in","leave-active-class":"hide","leave-to-class":"hide"}},e.$listeners),[t("section",{staticClass:"flex flex--grow-1 flex--shrink-0 boxAlign-jc--all-c width--all-12",class:e.containerClasses},[t("div",{staticClass:"flex flex--dir-col space--fromW2-h-4 space--h-3 space--fromW3-t-6 space--b-4 boxAlign-ai--all-c width--all-12"},[e.hasTitle?t("div",{staticClass:"space--mb-4 width--all-12 width--max-pageNarrow"},[e._t("title")],2):e._e(),e.hasSubTitle?t("div",{staticClass:"space--mb-4 width--all-12 width--max-pageNarrow"},[e._t("sub-title")],2):e._e(),e._t("form"),e._t("footnotes")],2)])])}),[],!1,null,null,null);t.a=n.exports},731:function(e,t,a){"use strict";var s=a(45),i=Object(s.a)({},(function(e,t){return e("h1",{staticClass:"size--all-xxxl text--color-charcoal text--b",class:t.data.staticClass},[t._t("default")],2)}),[],!0,null,null,null);t.a=i.exports},750:function(e,t,a){var s=a(137),i=a(81),n=a(123);e.exports=function(e){return"string"==typeof e||!i(e)&&n(e)&&"[object String]"==s(e)}},752:function(e,t,a){"use strict";var s=a(45),i=Object(s.a)({},(function(e,t){return e("div",{class:t.data.staticClass},[e("div",{staticClass:"threadSubmission-gallery--item aGrid width--all-12"},[e("div",{staticClass:"threadSubmission-gallery--item-inner aGrid-item--cover"},[t._t("default")],2)])])}),[],!0,null,null,null);t.a=i.exports},764:function(e,t,a){"use strict";(function(e){var s=a(32),i=a.n(s),n=a(94),r=a(895),l=a(896),o=a(897),d=a(885),c=a(887),h=a(6),u=a(638),m=a(567),p=a(156),g=a(775),f=a(105),b=a(898),y=a(729),v=a(541),w=a.n(v),C=a(856);const x=["type","id"];t.a={name:"GalleryImageUpload",components:{FetchingPlaceholder:b.a,GalleryThumbnailsListSkeleton:r.a,GalleryDescription:l.a,GalleryImageUrlUpload:o.a,GalleryThumbnailsList:d.a,FileDrop:c.a,AlertMessage:C.a},props:{thread:{type:Object,required:!0},size:{type:Number,default:8},disabled:{type:Boolean,default:!1}},data:()=>({loading:!1,filesToUpload:[],messages:[]}),computed:{imageLoader:()=>f.b.create(y.a.images),isImageFetching(){return this.imageLoader.isLoading()},gallerySize(){return this.size||8},galleryImages(){return this.$store.state.threadForm.thread.galleryImages},isNoImages(){return 0===this.galleryImages.length&&0===this.filesToUpload.length},emptyThumbnailSlotsCount(){const e=this.gallerySize-this.galleryImages.length-this.filesToUpload.length;return e>0?e:0}},methods:Object.assign({},Object(n.b)("threadForm",["removeGalleryImage","addGalleryImages","changeGalleryImagesOrder"]),{selectFiles(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0;const s=Array.from(a).filter((e=>{const t=Object(u.a)(e);return t||this.showMimeErrorMessage(e),t}));Object(p.b)({type:"select",target:{name:"images",data:{count:s.length,isDragAndDrop:t,imagesCount:this.galleryImages.length}},context:this.$el}),s.length>this.emptyThumbnailSlotsCount&&(this.showImagesLimitErrorMessage(s[this.emptyThumbnailSlotsCount]),this.trackError(e("Przepraszamy. Możesz przesłać maksymalnie :count obrazków.",{count:this.gallerySize}))),this.uploadFiles(s.slice(0,this.emptyThumbnailSlotsCount))},async uploadFiles(t){if(this.filesToUpload=this.filesToUpload.concat(t),!this.loading){for(this.loading=!0;this.filesToUpload.length>0;){const t=this.filesToUpload[0];if(t instanceof File&&Object(m.a)(t))this.showSizeErrorMessage(t),this.trackError(e(":attribute nie może być większy niż :max kilobajtów.",{replaces:{attribute:"image",max:m.d}}));else try{await this.uploadFile(t)}catch(e){}this.filesToUpload.shift()}this.loading=!1}},showMimeErrorMessage(t){this.addMessage({message:e("Ups! Twój obrazek :image nie może zostać przesłany. Spróbuj przesłać go ponownie w formacie JPG, JPEG, PNG, GIF, WEBP lub BMP.",{replaces:{image:t.name}})})},showSizeErrorMessage(t){this.addMessage({message:e("Ups! Twój obraz :image jest za duży. Aby przesłać grafikę, zmniejsz rozmiar do 6 MB i spróbuj ponownie.",{replaces:{attribute:"image",max:m.d,image:t.name}})})},showImagesLimitErrorMessage(t){this.addMessage({message:e("Ups! Twój obrazek :image nie może zostać przesłany. Osiągnąłeś limit :count grafik.",{replaces:{image:t.name,count:this.gallerySize}})})},async uploadFile(e){const t=Object(h.b)({req:u.g,params:{bucket:this.thread.images.bucket,value:e,fileName:e.name}});try{var a;const e=await t.request;if(null===(a=e.upload)||void 0===a?void 0:a.slot)this.addGalleryImages([{bucket:this.thread.images.bucket,slots:[e.upload.slot]}]);else for(const t of e.upload.validation[0].translations)this.addMessage({message:t.body})}catch(e){}},uploadFromUrl(e){this.uploadFiles([e])},removeImage(e){this.removeGalleryImage(e)},moveImage(e){Object(p.b)({type:"move",target:{name:"image",data:{from:e.from.index,to:e.to.index}},context:this.$el}),this.changeGalleryImagesOrder({from:e.from.index,to:e.to.index})},addMessage(e){let{type:t="error",id:a=w()()}=e,s=i()(e,x);const n="error"===t;this.messages.length<10&&this.messages.push(Object.assign({type:t,id:a,hasCloseButton:n},s))},removeMessage(e){const t=this.messages.findIndex((t=>t.id===e));-1!==t&&this.messages.splice(t,1)},trackError(e){Object(p.b)({type:"view",target:{name:"submissionFieldErrorEncountered",data:{fieldName:"uploadImage",errorCopy:Object(g.a)(e)}},context:this.$el})}})}}).call(this,a(70).translation)},815:function(e,t,a){"use strict";var s={components:{GalleryThumbnailSlot:a(752).a}},i=a(45),n=Object(i.a)(s,(function(){var e=this._self._c;return e("GalleryThumbnailSlot",[e("div",{staticClass:"bRad--a bg--color-greyPanel boxAlign-ai--all-c boxAlign-jc--all-c flex height--all-full width--all-12"},[this._t("default")],2)])}),[],!1,null,null,null);t.a=n.exports},832:function(e,t,a){"use strict";var s={components:{FormInput:a(510).e}},i=a(45),n=Object(i.a)(s,(function(){var e=this,t=e._self._c;return t("label",[t("FormInput",e._g(e._b({directives:[{name:"track",rawName:"v-track:addImages.click",arg:"addImages",modifiers:{click:!0}}],staticClass:"hide",attrs:{type:"file"}},"FormInput",e.$attrs,!1),e.$listeners)),e._t("default")],2)}),[],!1,null,null,null);t.a=n.exports},845:function(e,t,a){"use strict";var s=a(45),i=Object(s.a)({},(function(e,t){return e("div",{staticClass:"text--color-white bg--color-brandPrimary size--all-xs width--all-12 hAlign--all-c space--v-1",class:t.data.staticClass},[t._v(" "+t._s("Główny obrazek")+" ")])}),[],!0,null,null,null);t.a=i.exports},856:function(e,t,a){"use strict";var s=a(5);const i={error:{color:"red",icon:"info-warning"},warn:{color:"yellow",icon:"warning"},info:{color:"blue",icon:"info"},success:{color:"green",icon:"thumb-up"},notification:{color:"black",icon:"bolt"}};var n=Object(s.defineComponent)({__name:"alert-message-icons",props:{messageType:null},setup(e){const t=e,a=Object(s.computed)((()=>{const{color:e,icon:a}=i[t.messageType];return{class:"text--color-".concat(e),icon:a}}));return{__sfc:!0,props:t,iconData:a}}}),r=a(45),l=Object(r.a)(n,(function(){var e=this._self._c,t=this._self._setupProxy;return e("span",{staticClass:"space--mr-3 space--mt-1",class:t.iconData.class},[e("BaseIcon",{attrs:{name:t.iconData.icon,width:"20",height:"20"}})],1)}),[],!1,null,null,null).exports,o=a(508),d={__name:"alert-message-close-btn",setup:e=>({__sfc:!0,BaseButton:o.a})},c=Object(r.a)(d,(function(){var e=this,t=e._self._c;return t(e._self._setupProxy.BaseButton,e._g({staticClass:"space--ml-a",attrs:{variant:"tertiary",mode:"default",square:""}},e.$listeners),[t("BaseIcon",{attrs:{name:"cross"}})],1)}),[],!1,null,null,null).exports,h=Object(s.defineComponent)({__name:"alert-message",props:{messageType:null,hasCloseButton:{type:Boolean},id:null},emits:["hide","action"],setup(e,t){let{emit:a}=t;const n=e,r=Object(s.ref)(!0),o=Object(s.computed)((()=>"border--color-".concat(i[n.messageType].color)));return{__sfc:!0,props:n,isVisible:r,emit:a,classes:o,hide:()=>{a("hide",n.id),r.value=!1},AlertMessageIcons:l,AlertMessageCloseBtn:c}}}),u=Object(r.a)(h,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return a.isVisible?t("div",{staticClass:"flex width--all-12 space--b-3 space--l-3 space--r-3 space--v-3 border border--w-2 bRad--a bg--color-white",class:a.classes},[t("div",{staticClass:"space--mr-2 flex boxAlign-as--all-c"},[t(a.AlertMessageIcons,{attrs:{"message-type":e.messageType}}),t("div",{staticClass:"text--lh-1-6 hAlign--all-l"},[e.$slots.title?t("div",{staticClass:"size--all-xl text--b space--mb-2"},[e._t("title")],2):e._e(),t("div",[e._t("message")],2),e.$slots.action?t("button",{staticClass:"linkGrey space--mt-2 size--all-s",on:{click:function(e){return a.emit("action")}}},[e._t("action")],2):e._e()])],1),e.hasCloseButton?t(a.AlertMessageCloseBtn,{on:{click:a.hide}}):e._e()],1):e._e()}),[],!1,null,null,null);t.a=u.exports},885:function(e,t,a){"use strict";var s=a(5);const i=s.default.component("DndZone",{props:{validate:{type:Function,default:function(e,t,a){if(e&&t&&a)return!0}},mirrorMinHeight:{type:Number,default:150},mirrorMaxWidth:{type:Number,default:500},calcInterval:{type:Number,default:150},lockDistance:{type:Number,default:25},shadowAnchor:{type:Function,default:function(){return this.$el}},mirrorAnchor:{type:Function,default:function(){return this.$el}},transitionDuration:{type:Number,default:.2},shadowOpacity:{type:Number,default:.5},shadowMargin:{type:[Boolean,String],default:"0px"},shadowPadding:{type:[Boolean,String],default:!1},dragstartBuffer:{type:Number,default:50},nativeScroll:{type:Boolean,default:!0},handleClass:{type:[Boolean,String],default:!1},pushToLast:{type:Boolean,default:!1}},data:()=>({isDndZone:!0,dndState:"Idle",positionCache:null,lockPosition:!1,dataObject:null,dataObjectContainer:null,registeredContainers:{},shadow:null,mirror:null,transitions:{leaveContainer:{id:null,updated:null},enterContainer:{id:null,updated:null}},dragOffset:{x:0,y:0},intervalID:null,event:null,cursorX:null,cursorY:null,prevX:0,prevY:0,lastAction:0,cursorEl:null,passiveCallback:{passive:!0},scrollInvoked:{top:null,left:null,bottom:null,right:null},activeScroll:!1,shadowPos:{top:0,left:0,pageXOffset:0,pageYOffset:0}}),computed:{dataObjectComponent(){return this.dataObjectContainer?this.dataObjectContainer.getDataObjectComponent(this.dataObject)[0]:null},dataObjectDomElement(){return this.dataObjectComponent?this.dataObjectComponent.$el:null},cursorContainer(){return this.cursorEl&&this.dataObject?this.getValidContainer(this.cursorEl):null},cursorIndex(){return this.cursorContainer&&this.cursorX&&this.cursorY&&!this.lockPosition?this.cursorContainer.getIndex(this.cursorX,this.cursorY):null},cursorPosition(){return this.cursorContainer?this.cursorContainer.dndId+"-"+this.cursorIndex:null}},watch:{cursorPosition(e){if(this.lockPosition)return this.positionCache;if(e&&this.dataObjectContainer){this.positionCache=e;let t=this.cursorContainer;if(!t)return;let a=Math.min(this.dataObjectContainer.dndModel.length-1,this.cursorIndex),s=this.dataObjectContainer.getDataObjectIndex(this.dataObject);if(this.dataObjectContainer==t){let e=Math.min(this.dataObjectContainer.dndModel.length-1,this.cursorIndex),a=this.dataObjectContainer.getDataObjectIndex(this.dataObject);if(a==e)return;if(!this.validate(this.dataObjectComponent,t,this))return;this.$emit("move",{from:{container:t,index:a},to:{container:t,index:e}}),this.dataObjectContainer.removeDataObject(this.dataObject),t.addDataObject(this.dataObject,e),this.lockPosition=!0,t.nr.hasChanged=!0,this.transitions.leaveContainer={id:this.dataObjectContainer.dndId,updated:!1},this.transitions.enterContainer={id:t.dndId,updated:!1}}else{if(t.dndZone!==this.dataObjectContainer.dndZone)return;if(!this.validate(this.dataObjectComponent,t,this))return;this.$emit("move",{from:{container:this.dataObjectContainer,index:s},to:{container:t,index:a}}),this.dataObjectContainer.removeDataObject(this.dataObject),this.dataObjectContainer.nr.hasChanged=!0,t.addDataObject(this.dataObject,this.cursorIndex,this.pushToLast),t.nr.hasChanged=!0,this.lockPosition=!0,this.transitions.leaveContainer={id:this.dataObjectContainer.dndId,updated:!1},this.transitions.enterContainer={id:t.dndId,updated:!1}}}}},mounted(){document.documentElement.style.setProperty("--dnd-transition-duration",this.transitionDuration+"s"),this.$el.addEventListener("mousedown",this.routeEvent),this.$el.addEventListener("touchstart",this.routeTouchEvent),this.$el.addEventListener("drag",this.muteEvent,!1),this.$el.addEventListener("dragstart",this.muteEvent,!1)},beforeDestroy(){this.$el.removeEventListener("mousedown",this.routeEvent),this.$el.removeEventListener("touchstart",this.routeTouchEvent),this.$el.removeEventListener("drag",this.muteEvent,!1),this.$el.removeEventListener("dragstart",this.muteEvent,!1)},methods:{routeEvent(e){if("mouseup"===e.type||0===e.buttons)this.clear();else if("mousedown"===e.type&&1===e.buttons)this.event=e,this.init(e);else if("mousemove"===e.type&&1===e.buttons&&(this.event=e,this.animateMirror(),!this.nativeScroll)){let e=this.canScroll();for(let t in e)e[t]&&!this.scrollInvoked[t]&&this.scroll(t)}},routeTouchEvent(e){if(e.touches.length>1)return!1;if("touchend"===e.type&&"DragTrack"===this.dndState&&(e.preventDefault(),e.stopPropagation()),"touchend"===e.type||e.touches.length>1)e.target.removeEventListener("touchmove",this.routeTouchEvent),e.target.removeEventListener("touchend",this.routeTouchEvent),this.clear();else if("touchstart"===e.type)e.target.addEventListener("touchmove",this.routeTouchEvent),e.target.addEventListener("touchend",this.routeTouchEvent),this.setTouchEvent(e),this.init(e);else if("touchmove"===e.type){if("DragTrack"===this.dndState&&(e.preventDefault(),e.stopPropagation(),this.setTouchEvent(e),this.animateMirror(),!this.nativeScroll)){let e=this.canScroll();for(let t in e)e[t]&&!this.scrollInvoked[t]&&this.scroll(t)}"DragStartBuffer"===this.dndState&&this.setIdleState()}},setTouchEvent(e){let t=e.touches[0]?e.touches[0].screenX:0,a=e.touches[0]?e.touches[0].screenY:0,s=e.touches[0]?e.touches[0].clientX:0,i=e.touches[0]?e.touches[0].clientY:0;this.event={screenX:t,screenY:a,clientX:s,clientY:i,target:"touchmove"===e.type?document.elementFromPoint(s,i)||document.body:e.target}},init(e){"Idle"===this.dndState&&(this.dndState="DragStartBuffer",window.setTimeout(function(){if("DragStartBuffer"===this.dndState){if(this.handleClass&&!e.target.classList.contains(this.handleClass))return void(this.dndState="Idle");let t=this.getValidItem(e.target);if(!t)return void(this.dndState="Idle");this.dataObject=t.dndModel;let a=this.getContainer(t);if(t&&a){this.dataObject=t.dndModel,this.updateDataObjectContainer(),this.dataObjectContainer.$children[0].$vnode.componentInstance._hasMove=!0,this.addListeners(),this.$el.classList.add("dnd-zone"),document.documentElement.style.setProperty("--dnd-transition-duration",this.transitionDuration+"s");let e=t.$el,a=t.$el.getBoundingClientRect();this.animateShadow(a,e),this.animateMirror(a,e),this.nativeScroll||(this.activeScroll=!0),Object.keys(this.registeredContainers).forEach((e=>{this.registeredContainers[e].saveRects()})),this.dataObjectDomElement.classList.add("dnd-dragged"),clearInterval(this.intervalID),this.intervalID=window.setInterval(this.track,this.calcInterval),this.dndState="DragTrack"}else this.dndState="Idle"}}.bind(this),this.dragstartBuffer))},animateShadow(e,t){!this.shadow&&e&&t?(this.shadow=t.cloneNode(!0),this.shadow.classList.add("dnd-shadow"),this.shadowOpacity&&this.shadow.style.setProperty("opacity",this.shadowOpacity,"important"),this.shadowMargin&&this.shadow.style.setProperty("margin",this.shadowMargin,"important"),this.shadowPadding&&this.shadow.style.setProperty("padding",this.shadowPadding,"important"),this.setRect(this.shadow,e),this.shadowAnchor().append(this.shadow)):e&&this.setRect(this.shadow,e)},animateMirror(e,t){if(!this.mirror&&e&&t){let a=document.createElement(t.parentElement.tagName),s=t.cloneNode(!0);a.append(s),this.cloneAttributes(a,t.parentElement),this.cloneAttributes(s,t),this.dragOffset.x=this.event.clientX-e.left,this.dragOffset.y=this.event.clientY-e.top;let i=this.mirrorMaxWidth/e.width,n=this.mirrorMinHeight/e.height,r=Math.min(1,Math.max(i,n));this.dragOffset.x*=r,this.dragOffset.y*=r,s.style.setProperty("transform","scale("+r+","+r+")"),s.style.setProperty("transform-origin","0 0"),s.style.setProperty("position","fixed","important"),s.classList.add("dnd-mirror"),s.style.setProperty("margin","0","important"),s.style.setProperty("width",e.width+"px","important"),s.style.setProperty("height",e.height+"px","important"),s.style.setProperty("pointer-events","none","important"),s.style.setProperty("visibility","visible","important"),a.style.setProperty("padding","0","important"),a.style.setProperty("visibility","hidden","important"),a.style.setProperty("position","fixed","important"),a.style.setProperty("pointer-events","none","important"),a.style.setProperty("width","0px","important"),a.style.setProperty("height","0px","important"),this.mirror=s,this.mirrorAnchor().append(a)}this.mirror.style.setProperty("top",this.event.clientY-this.dragOffset.y+"px"),this.mirror.style.setProperty("left",this.event.clientX-this.dragOffset.x+"px")},containerUpdated(e){if(this.transitions.leaveContainer.id===e.dndId&&(this.transitions.leaveContainer.updated=!0),this.transitions.enterContainer.id===e.dndId&&(this.transitions.enterContainer.updated=!0),this.transitions.enterContainer.updated&&this.transitions.leaveContainer.updated){this.registeredContainers[this.transitions.enterContainer.id].saveRects(),this.updateDataObjectContainer();let e=this.dataObjectDomElement;for(;e&&e!==this.$el;)e.classList.remove("dnd-move"),e=e.parentElement;let t=this.dataObjectDomElement.getBoundingClientRect();this.dataObjectDomElement.classList.add("dnd-dragged"),window.requestAnimationFrame((()=>{this.animateShadow(t)})),this.animateContainer(this.registeredContainers[this.transitions.enterContainer.id]),this.transitions.enterContainer.id!==this.transitions.leaveContainer.id&&this.animateContainer(this.registeredContainers[this.transitions.leaveContainer.id])}},animateContainer(e){e.newRect.height===e.oldRect.height&&e.newRect.width===e.oldRect.width||(e.setRect(e.oldRect),window.requestAnimationFrame((()=>{e.setRect(e.newRect),e.$el.classList.add("dnd-transition"),e.$el.addEventListener("transitionend",(()=>{e.$el.classList.remove("dnd-transition"),e.unsetRect()}),{once:!0})})))},track(){if(this.event&&"DragTrack"===this.dndState){if(this.lockPosition){if(Math.abs(this.event.clientX-this.cursorX)+Math.abs(this.event.clientY-this.cursorY)<this.lockDistance)return;this.lockPosition=!1}this.cursorEl=this.event.target,this.cursorX=this.event.clientX,this.cursorY=this.event.clientY}},clear(){if("Idle"!==this.dndState){if(this.removeListeners(),this.$el.classList.remove("dnd-zone"),document.documentElement.style.removeProperty("--dnd-transition-duration"),!this.dataObjectDomElement)return void this.setIdleState();let e=this.mirror.getBoundingClientRect();this.dataObjectDomElement.classList.remove("dnd-move");let t=this.dataObjectDomElement.getBoundingClientRect();if(Math.abs(e.top-t.top)+Math.abs(e.left-t.left)+Math.abs(e.width-t.width)+Math.abs(e.height-t.height)>0){this.mirror.style.setProperty("top",t.top+"px","important"),this.mirror.style.setProperty("left",t.left+"px","important"),this.mirror.style.setProperty("width",t.width+"px","important"),this.mirror.style.setProperty("height",t.height+"px","important"),this.mirror.style.setProperty("transform","scale(1,1)","important"),this.mirror.style.setProperty("transition-duration",this.transitionDuration+"s","important"),this.mirror.style.setProperty("transition-property","all","important"),this.mirror.classList.remove("dnd-mirror"),this.shadow.style.setProperty("top",t.top+"px","important"),this.shadow.style.setProperty("left",t.left+"px","important"),this.shadow.style.setProperty("width",t.width+"px","important"),this.shadow.style.setProperty("height",t.height+"px","important");let e=!0;this.mirror.addEventListener("transitionend",function(){e&&(e=!1,this.setIdleState(),this.$emit("dragEnd"))}.bind(this))}else this.setIdleState(),this.$emit("dragEnd")}},setIdleState(){this.dndState="Idle",this.shadow&&this.shadow.parentElement.removeChild(this.shadow),this.mirror&&this.mirror.parentElement.parentElement.removeChild(this.mirror.parentElement),this.dataObjectDomElement&&this.dataObjectDomElement.classList.remove("dnd-dragged"),this.activeScroll=null,this.dataObject=null,this.dataObjectContainer=null,this.shadow=null,this.mirror=null,this.event=null,this.cursorX=null,this.cursorY=null,this.cursorEl=null,this.prevX=null,this.prevY=null,Object.keys(this.registeredContainers).forEach((e=>{let t=this.registeredContainers[e];t.nr.hasChanged=!1,t.$el.classList.remove("dnd-transition"),t.unsetRect()}))},registerContainer(e){this.registeredContainers[e.dndId]=e},unregisterContainer(e){delete this.registeredContainers[e.dndId]},updateDataObjectContainer(){let e=Object.keys(this.registeredContainers);for(let t=0;t<e.length;t++){let a=this.registeredContainers[e[t]];if(a.getDataObjectIndex(this.dataObject)>-1)return void(this.dataObjectContainer=a)}this.dataObjectContainer=null},scroll(e){this.scrollInvoked[e]=window.setInterval(function(){switch(e){case"top":window.scrollTo(window.pageXOffset,window.pageYOffset-this.scrollSpeed(this.event,document.documentElement));break;case"left":window.scrollTo(window.pageXOffset-this.scrollSpeed(this.event,document.documentElement),window.pageYOffset);break;case"bottom":window.scrollTo(window.pageXOffset,window.pageYOffset+this.scrollSpeed(this.event,document.documentElement));break;case"right":window.scrollTo(window.pageXOffset+this.scrollSpeed(this.event,document.documentElement),window.pageYOffset)}this.shadow.style.setProperty("transition-duration","0s","important"),this.shadow.style.setProperty("top",this.shadowPos.top+this.shadowPos.pageYOffset-window.pageYOffset+"px"),this.canScroll()[e]&&this.activeScroll||(clearInterval(this.scrollInvoked[e]),this.shadow.style.removeProperty("transition-duration"),this.scrollInvoked[e]=null,this.dataObjectContainer.saveRects())}.bind(this),16)},scrollSpeed:(e,t)=>Math.max(0,20+Math.max(0-e.clientY,0-e.clientX,e.clientY-t.clientHeight,e.clientX-t.clientWidth)),canScroll(){return{top:this.event.clientY<=20&&window.pageYOffset>0,left:this.event.clientX<=20&&window.pageXOffset>0,bottom:this.event.clientY>=document.documentElement.clientHeight-20&&window.pageYOffset<document.documentElement.scrollHeight-document.documentElement.clientHeight,right:this.event.clientX>=document.documentElement.clientWidth-20&&window.pageXOffset<document.documentElement.scrollWidth-document.documentElement.clientWidth}},muteEvent:e=>(e.preventDefault(),e.stopPropagation(),!1),simulateMouseEvent(e){if("touchstart"===e.type&&(e.target.addEventListener("touchmove",this.simulateMouseEvent),e.target.addEventListener("touchend",this.simulateMouseEvent)),"touchend"===e.type&&"DragTrack"===this.dndState&&(e.preventDefault(),e.stopPropagation()),"touchend"===e.type)return void this.clear();if("touchmove"===e.type&&"DragTrack"===this.dndState&&(e.preventDefault(),e.stopPropagation()),"touchmove"===e.type&&"DragStartBuffer"===this.dndState&&this.setIdleState(),e.touches.length>1)return!1;let t="touchstart"===e.type?"mousedown":"touchend"===e.type?"mouseup":"mousemove",a=new MouseEvent(t,{view:window,bubbles:!0,cancelable:!0,screenX:e.touches[0]?e.touches[0].screenX:0,screenY:e.touches[0]?e.touches[0].screenY:0,clientX:e.touches[0]?e.touches[0].clientX:0,clientY:e.touches[0]?e.touches[0].clientY:0,button:0,buttons:1});("touchmove"===e.type?document.elementFromPoint(a.clientX,a.clientY)||document.body:e.target).dispatchEvent(a)},cloneAttributes(e,t){[...t.attributes].forEach((t=>{e.setAttribute("id"===t.nodeName?"data-id":t.nodeName,t.nodeValue)}))},addListeners(){document.body.addEventListener("mousemove",this.routeEvent),document.addEventListener("mouseup",(()=>{this.clear()}),{once:!0})},removeListeners(){document.body.removeEventListener("mousemove",this.routeEvent),this.$el.removeEventListener("mouseup",this.routeEvent)},getItem(e){for(;e&&e.$parent;){if(e.isDraggable&&e.dndModel)return e;e=e.$parent}return null},getValidItem(e){for(;e!==this.$el;){if(e.__vue__)return this.getItem(e.__vue__);e=e.parentElement}return null},getContainer(e){if(!this.dataObject)return null;for(;e&&e.$parent;){if(e.isNestable&&e.dndModel&&e.dndZone==this&&!this.isSubset(e.dndModel,this.dataObject))return e;e=e.$parent}return null},getValidContainer(){let e=this.cursorEl;for(;e&&e!==this.$el&&e!==document.body;){if(e.__vue__)return this.getContainer(e.__vue__);e=e.parentElement}return null},isSubset(e,t){return t.children&&t.children.length>0&&e!==t.children?Object.keys(t.children).some((a=>{this.isSubset(e,t.children[a])})):e===t.children},setRect(e,t){let a=e.style;this.shadowPos.left=t.left,this.shadowPos.top=t.top,this.shadowPos.pageXOffset=window.pageXOffset,this.shadowPos.pageYOffset=window.pageYOffset,a.setProperty("width",t.width+"px"),a.setProperty("height",t.height+"px"),a.setProperty("top",t.top+"px"),a.setProperty("left",t.left+"px")}},render:function(){return this.$slots.default}}),n=s.default.component("DndContainer",{props:{tag:{type:String,default:"div"},dndId:{type:[Number,String],default:null},dndModel:{type:Array,default:function(){return[]}},containerTransfer:{type:Object,default:function(){return{}}},verticalSearch:{type:Boolean,default:!1},isNestable:{type:Boolean,default:!0}},data:()=>({itemCount:null,oldRect:null,newRect:null,dndZone:null,processing:!1,nr:{rects:null,hasChanged:!1,hasUpdated:!1}}),mounted(){this.itemCount=this.dndModel.length,this.register(),this.oldRect=this.$el.getBoundingClientRect(),this.newRect=this.oldRect},beforeUpdate(){this.nr.hasChanged&&(this.unsetRect(),this.oldRect=this.$el.getBoundingClientRect())},updated(){this.nr.hasChanged&&(this.newRect=this.$el.getBoundingClientRect(),this.nr.hasChanged=!1,this.dndZone.containerUpdated(this))},beforeDestroy(){this.unsetRect()},methods:{addDataObject(e,t,a){0===this.dndModel.length||t>this.dndModel.length-1||a?this.dndModel.push(e):this.dndModel.splice(t,0,e)},removeDataObject(e){let t=this.dndModel.indexOf(e);this.dndModel.splice(t,1)},getDataObjectIndex(e){return this.dndModel.indexOf(e)},getDataObjectComponent(e){return this.$children[0].$children.filter((t=>t.dndModel===e))},getRectangleMap(e){let t=[],a=1/0,s=-1/0,i=[],n=[],r=[];if(this.verticalSearch)for(let a=0;a<e.length;a++)t.push(e[a].bottom);else{for(let l=0;l<e.length;l++){a=Math.min(a,e[l].top),s=Math.max(s,e[l].bottom),l===e.length-1||e[l].right>e[l+1].right?(n.push(e[l].right),t.push([a,s]),i.push([],n),r.push(l+1-n.length,l+1-n.length),n=[],a=l===e.length-1?1/0:e[l+1].bottom):n.push((e[l].right+e[l+1].left)/2)}i.push([]),r.push(e.length)}return{map:t.flat(),rows:i,pointers:r}},getIndex(e,t){let a=this.getRectangleMap(this.nr.rects);if(this.verticalSearch)return this.binarySearch(a.map,t);{let s=this.binarySearch(a.map,t);return this.binarySearch(a.rows[s],e)+a.pointers[s]}},getDndZone(e){for(;e.$parent;){if(e.isDndZone)return e;e=e.$parent}return null},register(){this.dndZone=this.getDndZone(this),this.dndZone&&this.dndZone.registerContainer(this)},unregister(){this.dndZone&&this.dndZone.unregisterContainer(this,!0)},binarySearch(e,t){let a=0,s=e.length-1,i=e.length;for(;a<=s;){let n=Math.floor((a+s)/2);e[n]>t?(i=n,s=n-1):a=n+1}return i},setRect(e){this.$el.style.setProperty("height",e.height+"px","important"),this.$el.style.setProperty("width",e.width+"px","important")},unsetRect(){this.$el.style.removeProperty("height"),this.$el.style.removeProperty("width")},saveRects(e){let t=[...this.$el.children];if(!e)for(let e=0;e<t.length;e++)if(t[e].classList.contains("dnd-move"))return void t[e].addEventListener("transitionend",(()=>{this.saveRects(!0)}),{once:!0});this.nr.rects=t.map((e=>this.getValidItem(e))).filter((e=>e)).map((e=>e.$el.getBoundingClientRect()))},getItem(e){for(;e&&e.$parent;){if(e.isDraggable&&e.dndModel)return e;e=e.$parent}return null},getValidItem(e){for(;e!==this.$el;){if(e.__vue__)return this.getItem(e.__vue__);e=e.parentElement}return null}},render:function(e){return e("transition-group",{props:{tag:this.tag,name:"dnd"},class:this.class,style:this.style,attrs:this.attrs},this.$slots.default)}}),r=s.default.component("DndItem",{props:{dndId:{type:[Number,String],default:null},handleClass:{type:[Boolean,String],default:!1},dndModel:{type:Object,default:function(){return{}}},isDraggable:{type:Boolean,default:!0}},render:function(){return this.$slots.default}});var l=a(752),o=a(845),d=a(45),c=Object(d.a)({},(function(e,t){return e("div",{directives:[{name:"track",rawName:"v-track:imageSizeWarning.view",arg:"imageSizeWarning",modifiers:{view:!0}}],staticClass:"boxAlign-ai--all-c boxAlign-jc--all-c flex bg--color-whiteTranslucent"},[e("span",{staticClass:"bg--color-orangePale text--color-brandPrimary size--all-xs width--all-12 space--v-1 boxAlign-ai--all-c boxAlign-jc--all-c flex"},[e("BaseIcon",{attrs:{name:"warning",small:""}}),e("span",{staticClass:"space--ml-2"},[t._v(t._s("Niska rozdzielczość"))])],1)])}),[],!0,null,null,null).exports,h={components:{BaseButton:a(508).a,GalleryThumbnailSlot:l.a,GalleryThumbnailCoverLabel:o.a,GalleryThumbnailSizeWarning:c},props:{isCover:{type:Boolean,default:!1},imageIndex:{type:Number,required:!0}},computed:{isShowSizeWarning(){var e;return null!==(e=this.$store.getters["threadForm/isShowGalleryImageSizeWarning"](this.imageIndex))&&void 0!==e&&e},imageUrl(){return this.$store.getters["threadForm/getGalleryImageUrl"](this.imageIndex)}}},u=Object(d.a)(h,(function(){var e=this,t=e._self._c;return t("GalleryThumbnailSlot",{staticClass:"width--all-6 width--fromW3-4 space--v-2 space--h-2"},[t("div",{staticClass:"threadSubmission-gallery--thumbnail aGrid height--all-full width--all-12 bRad--a"},[t("div",{staticClass:"mute--hover-opacity aGrid-item height--all-full width--all-12 flex boxAlign-ai--all-c boxAlign-jc--all-c border--color-greyBackground border bRad--a overflow--hidden bg--color-white clickable-grab"},[t("img",{staticClass:"aGrid-item width--max-12 height--max-100",attrs:{src:e.imageUrl}}),t("div",{staticClass:"aGrid-item aGrid-item--b-0 width--all-12"},[e.isShowSizeWarning?t("GalleryThumbnailSizeWarning"):e._e(),e.isCover?t("GalleryThumbnailCoverLabel",{staticClass:"dnd-zone--hide"}):e._e()],1),t("span",{staticClass:"aGrid-item box--all-b height--all-full width--all-12 dnd-handle"})]),t("BaseButton",{directives:[{name:"track",rawName:"v-track:removeImage.click",value:{isPoorQuality:!!e.isShowSizeWarning},expression:"{ isPoorQuality: !!isShowSizeWarning }",arg:"removeImage",modifiers:{click:!0}}],staticClass:"aGrid-item aGrid-item--r-0 aGrid-item--t-0 space--mt-n2 space--mr-n2 dnd-zone--hide)",attrs:{variant:"secondary",mode:"default",size:"s",square:""},on:{click:function(t){return e.$emit("remove")}}},[t("BaseIcon",{attrs:{name:"cross",small:""}})],1)],1)])}),[],!1,null,null,null).exports,m=a(815),p=a(832),g={components:{GalleryThumbnailSlot:l.a,GalleryImageFileInput:p.a},computed:{addImageLabel(){return this.$breakpoint.smAndDown?"Dodaj obrazki":"Dodaj lub przeciągnij obrazki"}}},f=Object(d.a)(g,(function(){var e=this,t=e._self._c;return t("GalleryThumbnailSlot",{staticClass:"space--v-2 space--h-2 width--all-6 width--fromW3-4"},[t("GalleryImageFileInput",{staticClass:"threadSubmission-gallery--add-item height--all-full width--all-12 flex flex--dir-col boxAlign-ai--all-c boxAlign-jc--all-c bRad--a clickable",attrs:{name:"files[]",accept:".jpg, .jpeg, .png, .gif, .webp",multiple:""},on:{change:function(t){return e.$emit("select-files",t.target.files)}}},[t("span",{staticClass:"circle--xl bg--color-brandPrimary"},[t("BaseIcon",{attrs:{name:"plus"}})],1),e.$breakpoint.smAndUp?t("span",{staticClass:"text--color-brandPrimary text--lh-1-2 size--all-xs hAlign--all-c space--h-3 space--mt-2"},[e._v(" "+e._s(e.addImageLabel)+" ")]):e._e()])],1)}),[],!1,null,null,null).exports,b=a(516),y=Object(s.defineComponent)({__name:"gallery-thumbnail-loader",setup:e=>({__sfc:!0,BaseSpinner:b.a})}),v=Object(d.a)(y,(function(){var e=this._self._c;return e("div",{staticClass:"circle--xxl bg--color-brandPrimary"},[e(this._self._setupProxy.BaseSpinner,{staticClass:"spinner--color-inverted"})],1)}),[],!1,null,null,null).exports,w={components:{GalleryThumbnail:u,GalleryThumbnailEmpty:m.a,GalleryThumbnailAddNew:f,GalleryThumbnailLoader:v,DndZone:i,DndContainer:n,DndItem:r},props:{emptySlotsSize:{type:Number,default:8},gallerySize:{type:Number,required:!0},loadingCount:{type:Number,default:0},images:{type:Array,default:()=>[]}},computed:{isShowAddNewImage(){return this.images.length+this.loadingCount<this.gallerySize}},methods:{imageUniqueKey:e=>e.remoteUrl?e.remoteUrl:e.path?e.path:e.slots[0].name}},C=Object(d.a)(w,(function(){var e=this,t=e._self._c;return t("DndZone",{attrs:{"handle-class":"dnd-handle"},on:{move:e.$listeners["move-image"]}},[t("DndContainer",{staticClass:"aGrid width--all-12 flex flex--wrap flex--shrink-0 boxAlign-as--all-fs",attrs:{"dnd-id":"grid-example","dnd-model":e.images}},[e._l(e.images,(function(a,s){return t("DndItem",{key:e.imageUniqueKey(a),attrs:{"dnd-id":a.path,"dnd-model":a}},[t("GalleryThumbnail",{attrs:{"is-cover":!s,"image-index":s},on:{remove:function(t){return e.$emit("remove-image",s,a)}}})],1)})),e._l(e.loadingCount,(function(e,a){return t("GalleryThumbnailEmpty",{key:`${e.name}_${a}`,staticClass:"space--v-2 space--h-2 width--all-6 width--fromW3-4"},[t("GalleryThumbnailLoader")],1)})),e.isShowAddNewImage?t("GalleryThumbnailAddNew",{key:"add_new_image",on:{"select-files":e.$listeners["select-files"]}}):e._e()],2)],1)}),[],!1,null,null,null);t.a=C.exports},887:function(e,t,a){"use strict";var s=a(45),i={components:{FileDropPlaceholder:Object(s.a)({},(function(e,t){return e("div",t._g({staticClass:"aGrid-item--cover bRad--a bg--color-white border border--color-brandPrimary border--dash boxAlign-ai--all-c boxAlign-jc--all-c flex flex--dir-col text--color-brandPrimary"},t.listeners),[e("svg",{staticClass:"space--mb-2",attrs:{width:"35",height:"33",viewBox:"0 0 35 33",fill:"currentColor"}},[e("path",{attrs:{d:"M30.2835 12.5386C32.6416 14.152 34.0068 16.8826 34.0068 19.8612C34.0068 24.8258 29.9111 28.9212 24.9468 28.9212H22.3404C20.9752 28.9212 20.9752 26.439 22.3404 26.439H24.9468C28.546 26.439 31.5248 23.4603 31.5248 19.861C31.5248 17.5028 30.2838 15.3929 28.2978 14.1516C28.2978 14.1516 27.6772 13.6551 27.8013 12.9106C28.4219 7.94606 24.9467 3.22983 19.9823 2.60904C14.273 1.74018 9.55692 6.0843 9.55692 11.7934C9.43279 12.5382 9.18455 13.1586 8.43981 13.1586C5.08865 13.5309 2.48254 16.3856 2.48254 19.8604C2.48254 23.4596 5.46129 26.4385 9.18439 26.4385H11.6666C13.0318 26.4385 13.0318 28.9207 11.6666 28.9207H9.18439C4.09575 28.9207 0 24.825 0 19.8607C0 15.5168 2.97875 11.9173 7.07444 10.9245C7.57094 4.09827 13.5281 -0.866217 20.2305 0.126563C26.3122 0.995422 30.7803 6.45642 30.2839 12.5381L30.2835 12.5386Z",fill:"currentColor"}}),e("path",{attrs:{d:"M15.7626 31.7764C15.7626 33.3897 18.2449 33.3897 18.2449 31.7764V20.2338L21.3478 23.3367C22.5888 24.4538 24.3265 22.7161 23.0853 21.5992L17.9967 16.3864C17.5002 15.8899 16.6315 15.7658 16.135 16.3864L10.9222 21.5992C9.6812 22.7163 11.4187 24.4538 12.6598 23.3367L15.7627 20.2338L15.7626 31.7764Z",fill:"currentColor"}})]),t._v(" "+t._s("Przeciągnij i upuść, aby przesłać")+" ")])}),[],!0,null,null,null).exports},props:{disabled:Boolean,default:!1},data:()=>({enterCount:0}),computed:{isAllowDrop(){return this.enterCount>0},wrapperClasses(){return this.isAllowDrop?"aGrid":""}},methods:{onDragEnter(e){e.dataTransfer.types.includes("Files")&&this.enterCount++,1===this.enterCount&&this.$emit("dragenter")},onDragLeave(){this.enterCount>0&&this.enterCount--,0===this.enterCount&&this.$emit("dragleave")},onDrop(e){this.enterCount=0,this.$emit("drop",e.dataTransfer.files)}}},n=Object(s.a)(i,(function(){var e=this,t=e._self._c;return e.disabled?t("div",[e._t("default")],2):t("div",{class:e.wrapperClasses,on:{dragover:function(e){e.stopPropagation(),e.preventDefault()},dragenter:e.onDragEnter,dragleave:e.onDragLeave,drop:function(t){return t.stopPropagation(),t.preventDefault(),e.onDrop.apply(null,arguments)}}},[e._t("default"),e.isAllowDrop?t("FileDropPlaceholder"):e._e()],2)}),[],!1,null,null,null);t.a=n.exports},895:function(e,t,a){"use strict";var s=a(5),i=a(815),n=a(832),r=Object(s.defineComponent)({__name:"gallery-thumbnails-list-skeleton",props:{disabled:{type:Boolean}},setup:e=>({__sfc:!0,ITEMS_COUNT:8,GalleryThumbnailEmpty:i.a,GalleryImageFileInput:n.a})}),l=a(45),o=Object(l.a)(r,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"aGrid width--all-12 flex flex--wrap flex--shrink-0 boxAlign-as--all-fs"},[e._l(a.ITEMS_COUNT,(function(e){return t(a.GalleryThumbnailEmpty,{key:e,staticClass:"space--v-2 space--h-2 width--all-6 width--fromW3-4"})})),e.disabled?e._e():t("div",{staticClass:"aGrid-item--cover flex flex--dir-col boxAlign-ai--all-c boxAlign-jc--all-c height--fromW3-8"},[t(a.GalleryImageFileInput,{staticClass:"button button--type-primary button--mode-brand button--shape-circle",attrs:{name:"files[]",accept:".jpg, .jpeg, .png, .gif, .webp",multiple:""},on:{change:function(t){return e.$emit("select-files",t.target.files)}}},[t("BaseIcon",{attrs:{name:"plus",left:""}}),e._v(" "+e._s("Dodaj obrazki")+" ")],1),t("div",{staticClass:"space--mt-2 text--color-charcoalTint text--b hAlign--all-c width--all-8 text--lh-1-5 size--all-s"},[e._v(" "+e._s("lub przeciągnij i upuść")+" "),t("div",[e._v("("+e._s("Maksymalny rozmiar pliku to 6 MB. Maksymalny wymiar obrazka to 6000 px, a minimalny to 150 px")+")")])])],1)],2)}),[],!1,null,null,null);t.a=o.exports},896:function(e,t,a){"use strict";var s={props:{threadType:{type:String,required:!0}},computed:{translations(){return({deal:{sub_title:"Przeciągnij i upuść, aby dodać do 8 obrazków. Możesz zmieniać ich kolejność oraz wybrać zdjęcie główne.",title:"Wyróżnij swoją okazję dzięki zdjęciom"},discussion:{sub_title:"Prześlij maks. 1 obrazek, aby opublikować dyskusję ze zdjęciem.",title:"Wyróżnij swoją dyskusję za pomocą obrazka"},sub_title:"Przeciągnij i upuść, aby dodać do 8 obrazków. Możesz zmieniać ich kolejność oraz wybrać zdjęcie główne.",title:"Wyróżnij swoją okazję dzięki zdjęciom",voucher:{sub_title:"Przeciągnij i upuść, aby dodać do 8 obrazków. Możesz zmieniać ich kolejność oraz wybrać zdjęcie główne.",title:"Wyróżnij swój kupon dzięki zdjęciom"}}||{})[this.threadType.toLowerCase()]||{}}}},i=a(45),n=Object(i.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex"},[t("div",{staticClass:"flex--grow-1"},[t("div",{staticClass:"space--mb-2 hide--toW2"},[t("h3",{staticClass:"size--fromW2-l text--b"},[e._v(e._s(e.translations.title))])]),t("p",{staticClass:"size--all-s text--color-greyShade"},[e._v(" "+e._s(e.translations.sub_title)+" ")])]),e._t("default")],2)}),[],!1,null,null,null);t.a=n.exports},897:function(e,t,a){"use strict";var s=a(5),i=a(510),n=a(508),r=Object(s.defineComponent)({__name:"gallery-image-url-upload",props:{disabled:{type:Boolean}},emits:["submit","paste-images"],setup(e,t){let{emit:a}=t;const r=Object(s.ref)("");return{__sfc:!0,emit:a,url:r,submit:function(){a("submit",r.value),r.value=""},pasteImages:function(e){const t=e.clipboardData.files;t.length>0&&a("paste-images",t)},FormRow:i.o,FormLabel:i.k,FormInputLabeled:i.i,BaseButton:n.a}}}),l=a(45),o=Object(l.a)(r,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[t(a.FormRow,{directives:[{name:"track",rawName:"v-track:formField",value:{name:"uploadImageViaLink"},expression:"{ name: 'uploadImageViaLink' }",arg:"formField"}],attrs:{disabled:e.disabled}},[t(a.FormLabel,[e._v(e._s("Prześlij przez URL"))]),t("div",{staticClass:"flex boxAlign-ai--all-c"},[t("div",{staticClass:"flex--grow-1"},[t(a.FormInputLabeled,{directives:[{name:"track",rawName:"v-track:submissionFieldSelected.click",arg:"submissionFieldSelected",modifiers:{click:!0}}],attrs:{name:"url",placeholder:"https://",disabled:e.disabled},on:{paste:a.pasteImages},scopedSlots:e._u([{key:"appendButton",fn:function(){return[t(a.BaseButton,{directives:[{name:"track",rawName:"v-track:uploadImgViaUrl.click",arg:"uploadImgViaUrl",modifiers:{click:!0}}],attrs:{variant:"primary",mode:"brand",square:"",disabled:!a.url||e.disabled,size:"s"},on:{click:a.submit}},[t("BaseIcon",{attrs:{name:"arrow-right"}})],1)]},proxy:!0}]),model:{value:a.url,callback:function(e){a.url=e},expression:"url"}})],1)])],1)],1)}),[],!1,null,null,null);t.a=o.exports},898:function(e,t,a){"use strict";var s={components:{BaseSpinner:a(516).a}},i=a(45),n=Object(i.a)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"aGrid-item--cover bRad--a bg--color-white border border--color-grey border--dash boxAlign-ai--all-c boxAlign-jc--all-c flex flex--dir-col text--color-greyShade"},[t("BaseSpinner",{staticClass:"spinner--size-big"}),t("span",{staticClass:"space--mt-3"},[e._v(" "+e._s("Wczytywanie obrazków...")+" ")])],1)}),[],!1,null,null,null);t.a=n.exports},899:function(e,t,a){"use strict";var s=a(764).a,i=a(45),n=Object(i.a)(s,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"track",rawName:"v-track:imageGallery",value:{imagesCount:e.galleryImages.length},expression:"{ imagesCount: galleryImages.length }",arg:"imageGallery"}],staticClass:"aGrid"},[e.isImageFetching?t("FetchingPlaceholder",{staticClass:"zIndex--above"}):e._e(),e.$breakpoint.xsOnly?t("GalleryDescription",{staticClass:"space--mb-2",attrs:{"thread-type":e.thread.type}}):e._e(),e._l(e.messages,(function(a){return t("AlertMessage",{key:a.id,staticClass:"space--mb-2",attrs:{id:a.id,"message-type":a.type,"has-close-button":a.hasCloseButton},on:{hide:e.removeMessage},scopedSlots:e._u([a.title?{key:"title",fn:function(){return[e._v(e._s(a.title))]},proxy:!0}:null,{key:"message",fn:function(){return[e._v(e._s(a.message))]},proxy:!0}],null,!0)})})),t("FileDrop",{on:{drop:function(t){return e.selectFiles(!0,...arguments)}}},[t("div",{staticClass:"border border--dash border--color-borderGrey bRad--a flex flex--dir-col space--h-3 space--v-3 space--mt-4"},[t("div",{staticClass:"flex"},[e.$breakpoint.smAndUp?t("GalleryDescription",{staticClass:"threadSubmission-gallery--width flex--dir-col flex--shrink-0 space--r-3",attrs:{"thread-type":e.thread.type}},[e.$breakpoint.smAndUp?t("GalleryImageUrlUpload",{staticClass:"space--mt-3",attrs:{disabled:0===e.emptyThumbnailSlotsCount},on:{submit:e.uploadFromUrl}}):e._e()],1):e._e(),t("div",{staticClass:"flex flex--dir-col flex--grow-1 space--mt-n2 space--ml-n2 space--mr-n2 space--mb-n2 userSelect--none"},[e.isNoImages?t("GalleryThumbnailsListSkeleton",{on:{"select-files":function(t){return e.selectFiles(!1,...arguments)}}}):t("GalleryThumbnailsList",{attrs:{"gallery-size":e.gallerySize,images:e.galleryImages,"loading-count":e.filesToUpload.length},on:{"move-image":e.moveImage,"remove-image":e.removeImage,"select-files":function(t){return e.selectFiles(!1,...arguments)}}})],1)],1)])])],2)}),[],!1,null,null,null);t.a=n.exports}}]);