"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5320],{19296:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(82187),l=n.n(s);const a="JWYoNAyrIIdW30u4PSGE",r="es9mguuOfkp6pBe1Bjlw",i="JCFCfOY_6UEZZSOO2xrl",o="Js64TOfWtHksI6TQ6knT",c="n8tsDTs8wDH73kejYfXs";var d=n(11527);const u=e=>{let{value:t,disabled:n,onSelected:s,id:u,className:m,condensed:p=!1,inputRef:h}=e;return(0,d.jsxs)("label",{className:l()(a,m),children:[(0,d.jsx)("input",{id:u,className:c,type:"checkbox",disabled:n,checked:t,onChange:e=>{const t=e.target.checked;s(t)},ref:h}),(0,d.jsx)("span",{className:l()(o,{[i]:p}),children:(0,d.jsx)("span",{className:l()(r,{[i]:p})})})]})}},88932:(e,t,n)=>{n.d(t,{DebugWindowContents:()=>Pn});n(63961),n(21164),n(38910);var s=n(50959),l=n(26489),a=n(38963),r=n(30794),i=n(62014),o=(n(79498),n(14292),n(3371),n(40032),n(42587)),c=n(90170),d=n(82742);const u=(0,c.v)();window.abba={get:async function(e,t){const n=new o.hH((0,d.G)()),s=(await n.getValues(o.hr.fromPartial({}))).pairs;let l={},a="";if(s.abbaOverrides?a=s.abbaOverrides:s.abbaoverrides&&(a=s.abbaoverrides),a)try{l=JSON.parse(a)}catch(r){}Object.prototype.hasOwnProperty.call(l,e)?setTimeout((()=>t(null,l[e])),0):u.post("sp://abba/v1/flags",{flags:[e]}).then((n=>{const{flags:s=[]}=n,l=s[0]&&s[0].featureName===e&&s[0].cell;t(null,l||null)})).catch((e=>{t(e)}))},getAll:function(e){u.get("sp://abba/v1/all_flags").then((t=>{const{flags:n=[]}=t,s=n.reduce(((e,t)=>(e[t.featureName]=t.cell,e)),{});e(null,JSON.stringify(s,null,2))})).catch((t=>{e(t)}))},getRequestedFlagNames:function(e){u.get("sp://abba/v1/requested_flag_names").then((t=>{e(null,JSON.stringify(t.sort(),null,2))})).catch((t=>{e(t)}))}};n(23066);var m=n(11527);var p=n(29132),h=n(74039),v=n(9063),x=n(2098);const f="scaF2wOGtuiU5UBKJrGa",j="PjVBb0nlrIUasTrrFgCx",g="MjtdwpkzFFhhmzeyzOy2",y="uVClWczmJLRR5jfAENGP",b=[{label:"Production",value:"prod"},{label:"Development",value:"dev"}],N=()=>{const e=(0,p.I0)(),t=(0,p.v9)((e=>e.inAppMessaging.env)),n=(0,p.v9)((e=>e.inAppMessaging.message)),[l,a]=(0,s.useState)(""),[r,i]=(0,s.useState)(""),[o,c]=(0,s.useState)(!1);(0,s.useEffect)((()=>{n&&o&&c(!1)}),[n,o]);const d=!n&&o;return(0,m.jsx)("div",{className:f,children:(0,m.jsxs)("div",{className:j,children:[(0,m.jsx)("div",{children:(0,m.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingEnv",children:"Mode (endpoint):"})}),(0,m.jsx)(v.v,{dir:"auto",value:t,id:"desktop.settings.inAppMessagingEnv",onSelect:function(t){"prod"!==t&&"dev"!==t||e((0,x.q1)(t))},children:b.map((e=>{let{label:t,value:n}=e;return(0,m.jsx)("option",{value:n,children:t},n)}))}),(0,m.jsx)("div",{children:(0,m.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingCreativeId",children:"Creative Id:"})}),(0,m.jsx)("div",{children:(0,m.jsx)("input",{className:g,placeholder:"(eg. 12123434)",id:"desktop.settings.inAppMessagingCreativeId",name:"Creative Id",type:"text",value:l,onChange:function(e){a(e.target.value),c(!1)}})}),(0,m.jsx)("div",{children:(0,m.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingAppUri",children:"URI for Dynamic Content (optional):"})}),(0,m.jsx)("div",{children:(0,m.jsx)("input",{className:g,placeholder:"(eg. spotify:artist:123)",id:"desktop.settings.inAppMessagingAppUri",name:"App Uri",type:"text",value:r,onChange:function(e){i(e.target.value),c(!1)}})}),(0,m.jsx)("div",{}),(0,m.jsx)("div",{}),(0,m.jsx)("div",{children:(0,m.jsx)(h.D,{colorSet:"invertedLight",onClick:function(t){t.preventDefault(),e((0,x.XJ)(l,r)),c(!1),window.setTimeout((()=>{c(!0)}),1e3)},children:"Get Preview"})}),d&&(0,m.jsx)("div",{className:y,children:"No Messsage found"})]})})};var w=n(86045),C=n(9958),S=n(47208),O=n(23982),A=n(45084),I=n(45672),k=n(70816),T=n(12931),E=n(17981),P=n(82187),R=n.n(P),D=n(15881),_=n(3834),L=n(15572),F=n(74970),V=n(41475);const B={tableContainer:"Oq75N3dIIFwLLxqhrTGw",collapsed:"Y1mIc_urBEFpW0IaPvTg",tableTitle:"A3f7b8Ykb8QaTHv9e6DV",tableToggle:"cN2yet80TrzvhUOVyNyJ",table:"w3RCrOKYvq_0htC6zhzd",tableHead:"viEusJyR3z4ijG1P7ji6",rowHeader:"qM20Y4j0mkUnh1qSFmb3",rowName:"PMJ_WnnsgiBd1d9yFIGf",rowValue:"zyDs7IcK71IYTnn2YfNJ",rowActions:"ofGd7aEjrX3mgVu0DbO8",propertyDescription:"WoXbezM6uoI1BhVP_Huq",rowAction:"zmgvPs6K0W0mLJ3xX1Uv",rowControl:"dPVfdc5bb3lNG2ybyp2a"},U=e=>{let{title:t,titleExtra:n,rows:l,cols:a,canCollapse:r=!1,isCollapsedInitially:i=!1,renderHead:o=!1,renderRow:c}=e;const[d,u]=(0,s.useState)(!!r&&i);return(0,m.jsxs)(D.x,{className:R()(B.tableContainer,{[B.collapsed]:d}),children:[t?(0,m.jsxs)("div",{className:B.tableTitle,onClick:()=>{r&&u(!d)},children:[r?(0,m.jsx)("button",{className:B.tableToggle,children:d?(0,m.jsx)(_.V,{size:"small"}):(0,m.jsx)(L.C,{size:"small"})}):null,(0,m.jsx)("h3",{children:t}),n]}):null,(0,m.jsxs)(F.i,{className:B.table,children:[(0,m.jsx)("colgroup",{children:a.map(((e,t)=>(0,m.jsx)("col",{width:e.width,className:e.className},t)))}),o?(0,m.jsx)("thead",{children:(0,m.jsx)("tr",{children:a.map(((e,t)=>(0,m.jsx)(V.x,{className:B.tableHead,children:e.name},t)))})}):null,(0,m.jsx)("tbody",{children:Array.isArray(l)?l.map((e=>c?c(e,a):null)):l})]})]})};function z(){const e=(0,C.zY)();return(0,s.useMemo)((()=>e?new e.Function("value","if (value) { navigator.clipboard.writeText(value) }"):()=>{}),[e])}const J="ipHwQurO5v9UGSq71YmY",M=()=>{var e,t,n,s;const l=z(),a=(0,E.p)(),r=(null===(e=a.token)||void 0===e?void 0:e.accessToken)??"Not authorized",i=new Date((null===(t=a.token)||void 0===t?void 0:t.accessTokenExpirationTimestampMs)??0);return(0,m.jsx)("div",{className:J,children:(0,m.jsx)(U,{title:"Authorization",rows:[{name:"Token",value:r},{name:"Expires At",value:i.toLocaleString()},{name:"Retry Attempt",value:(null===(n=a.retryAttempt)||void 0===n?void 0:n.toString())??"N/A"},{name:"Retry At",value:(null===(s=a.retryAt)||void 0===s?void 0:s.toLocaleString())??"N/A"}],cols:[{width:"30%"},{},{width:"16px"}],renderRow:e=>{let{name:t,value:n}=e;return(0,m.jsxs)(I.S,{hover:!0,children:[(0,m.jsx)(k.p,{className:B.rowName,highlight:!0,children:t}),(0,m.jsx)(k.p,{className:B.rowValue,truncate:!0,align:"right",children:n}),(0,m.jsx)(k.p,{className:B.rowActions,children:(0,m.jsx)("button",{className:B.rowAction,onClick:()=>l(n),children:(0,m.jsx)(T.c,{size:"small"})})})]})}})})};var G=n(34373);const H="WT_NZ6JEU_dK03UPUjQm",Y=e=>{let{name:t,value:n}=e;const s=z();return(0,m.jsxs)(I.S,{hover:!0,children:[(0,m.jsx)(k.p,{className:B.rowName,highlight:!0,children:t}),(0,m.jsx)(k.p,{className:B.rowValue,truncate:!0,align:"right",children:n}),(0,m.jsx)(k.p,{className:B.rowActions,children:(0,m.jsx)("button",{className:B.rowAction,onClick:()=>s(n),children:(0,m.jsx)(T.c,{size:"small"})})})]})},$=e=>{let{device:t}=e;return(0,m.jsx)(U,{title:t.name,rows:[{name:"Device",value:null==t?void 0:t.name},{name:"Identifier",value:t.id},{name:"Type",value:t.type},{name:"Group",value:t.isGroup.toString()},{name:"Local",value:t.isLocal.toString()},{name:"Active",value:t.isActive.toString()},{name:"Connecting",value:t.isConnecting.toString()},{name:"Disabled",value:t.isDisabled.toString()},{name:"Volume",value:t.volume.toString()},{name:"HiFi",value:t.hifiSupport.deviceSupported.toString()}],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:e=>(0,m.jsx)(Y,{...e}),canCollapse:!0,isCollapsedInitially:!0})},W=()=>{const e=(0,G.O)(),t=e.devices;return(0,m.jsxs)("div",{className:H,children:[(0,m.jsx)(U,{title:"Connect",rows:(0,m.jsx)(Y,{name:"Status",value:e.connectionStatus}),cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}]}),t.map((e=>(0,m.jsx)($,{device:e},e.id)))]})};var K=n(46127),q=n(8550),Z=n(76992),Q=n(44510),X=n(84922),ee=n(70468),te=n(89913),ne=n(20980),se=n(46384),le=n(23280),ae=n(19296),re=n(32734);var ie=n(18332),oe=n(48370);var ce=n(30678),de=n(67736),ue=n(47858);const me="bFE0oGWgZ40KJHjcBj12",pe="nzbIAA5MqUSD0hIKUuHg",he="hksYFxAm48XqAEbpcukQ",ve="UnO1u4VJB0B6pTtqWh1n",xe="xlSWVFMQmYmRK34yiPOA",fe="oKgZ0g8at59jN8nf8Bee",je="Nodut0kqaRIc93iGqbbP",ge="dUIum8rPR6Msq9wot5ky",ye="QHO5pYBkfWBn6qyAh9dp";const be=e=>{let{size:t,ranges:n}=e;if(0===n.length)return(0,m.jsx)("div",{className:he,children:(0,m.jsx)("div",{className:ve})});const s=`linear-gradient(90deg, ${n.map((e=>{const n=100*e.fromByte/t,s=100*e.toByte/t;return`transparent ${n}%, ${q.pCU} ${n}%, ${q.pCU} ${s}%, transparent ${s}%`})).join(", ")})`;return(0,m.jsx)("div",{className:he,children:(0,m.jsx)("div",{className:ve,style:{background:s}})})},Ne=e=>{let{item:t,file:n}=e;const s=(0,ce.g)(),l=z(),a=(function(e){let t,n,s=0;if(0===e.length)return s;for(t=0;t<e.length;t++)n=e.charCodeAt(t),s=(s<<5)-s+n,s|=0;return s}(`${n.format}${n.bitrate}${n.formatEnum}`)+180)%360;return(0,m.jsxs)(I.S,{hover:!0,children:[(0,m.jsx)(k.p,{className:B.rowName,highlight:!0,children:(0,m.jsxs)("div",{className:xe,style:{background:`linear-gradient(180deg, hsl(${a}, 60%, 30%), hsl(${a}, 40%, 70%))`},children:[(0,m.jsx)("span",{className:fe,children:n.format}),(0,m.jsx)("span",{className:je,children:we(n)})]})}),(0,m.jsx)(k.p,{className:B.rowValue,truncate:!0,children:(0,m.jsxs)("div",{className:pe,children:[n.fileId,(0,m.jsx)(be,{size:n.byteSize,ranges:n.byteRanges})]})}),(0,m.jsxs)(k.p,{className:B.rowActions,children:[(0,m.jsx)("button",{className:B.rowAction,onClick:()=>{s.play({uri:"spotify:internal:fileplayback",pages:[{items:[{...t,provider:"context",metadata:{"media.manifest":JSON.stringify({id:n.fileId,bitrate:n.bitrate,format:n.formatEnum,encryption:"aes"})}}]}]},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,m.jsx)(Z.J,{size:"small"})}),(0,m.jsx)("button",{className:B.rowAction,onClick:()=>{l(n.fileId)},children:(0,m.jsx)(T.c,{size:"small"})})]})]})};function we(e){switch(e.formatEnum){case 16:return"16-bit";case 22:return"24-bit";default:return Ce(e.bitrate,1e3,"k")}}function Ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(void 0!==e&&-1!==e)return"string"==typeof e&&(e=Number.parseInt(e,10)),`${(Number(e)/t).toLocaleString("en",{maximumFractionDigits:10})}${n}`}function Se(){return!0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)?"Yes":"No"}function Oe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(void 0!==e)return(0,ue.m)(Number(e))}const Ae=e=>{let{name:t,value:n}=e;const s=z();return(0,m.jsxs)(I.S,{hover:!0,children:[(0,m.jsx)(k.p,{className:B.rowName,highlight:!0,children:t}),(0,m.jsx)(k.p,{className:B.rowValue,truncate:!0,align:"right",children:n}),(0,m.jsx)(k.p,{className:B.rowActions,children:(0,m.jsx)("button",{className:B.rowAction,onClick:()=>s(n),children:(0,m.jsx)(T.c,{size:"small"})})})]})},Ie=e=>{let{terminalType:t,transportType:n,isDefaultDevice:s}=e;const l=s?"essentialPositive":"essentialBase",a=[];switch(t){case K.OE.TERMINAL_TYPE_SPEAKERS:a.push((0,m.jsx)(Q.X,{semanticColor:l,size:"small"}));break;case K.OE.TERMINAL_TYPE_HEADPHONES:a.push((0,m.jsx)(X.F,{semanticColor:l,size:"small"}));break;case K.OE.TERMINAL_TYPE_DISPLAY_DEVICE:a.push((0,m.jsx)(ee.x,{semanticColor:l,size:"small"}))}switch(n){case K.Fl.TRANSPORT_TYPE_BUILT_IN:case K.Fl.TRANSPORT_TYPE_VIRTUAL:break;case K.Fl.TRANSPORT_TYPE_USB:a.push((0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",style:{position:"relative",top:"3px",width:16,height:16,fill:(0,te.NE)(l)},children:(0,m.jsx)("path",{d:"m7.792.312-1.533 2.3A.25.25 0 0 0 6.467 3H7.5v7.319a2.5 2.5 0 0 0-.515-.298L5.909 9.56A1.5 1.5 0 0 1 5 8.18v-.266a1.5 1.5 0 1 0-1 0v.266a2.5 2.5 0 0 0 1.515 2.298l1.076.461a1.5 1.5 0 0 1 .888 1.129 2.001 2.001 0 1 0 1.021-.006v-.902a1.5 1.5 0 0 1 .756-1.303l1.484-.848A2.5 2.5 0 0 0 11.995 7h.755a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h.741a1.5 1.5 0 0 1-.747 1.142L8.76 8.99a2.584 2.584 0 0 0-.26.17V3h1.033a.25.25 0 0 0 .208-.389L8.208.312a.25.25 0 0 0-.416 0Z"})}));break;case K.Fl.TRANSPORT_TYPE_BLUETOOTH:a.push((0,m.jsx)(ne.X,{semanticColor:l,size:"small"}));break;case K.Fl.TRANSPORT_TYPE_DISPLAY_DEVICE:a.push((0,m.jsx)(ee.x,{semanticColor:l,size:"small"}))}return 0===a.length&&a.push((0,m.jsx)(se.S,{semanticColor:l,size:"small"})),(0,m.jsx)(m.Fragment,{children:a})},ke=e=>{let{name:t,id:n,isDefaultDevice:s,terminalType:l,terminalTypeRaw:a,transportType:r,transportTypeRaw:i}=e;const o=z();return(0,m.jsxs)(I.S,{hover:!0,children:[(0,m.jsxs)(k.p,{className:B.rowName,highlight:!0,children:[(0,m.jsx)(Ie,{terminalType:l,transportType:r,isDefaultDevice:s})," ",t]}),(0,m.jsx)(k.p,{className:B.rowValue,truncate:!0,children:n}),(0,m.jsx)(k.p,{className:B.rowValue,children:a}),(0,m.jsx)(k.p,{className:B.rowValue,children:i}),(0,m.jsx)(k.p,{className:B.rowActions,children:(0,m.jsx)("button",{className:B.rowAction,onClick:()=>o(n),children:(0,m.jsx)(T.c,{size:"small"})})})]})},Te=()=>{const e=(0,de.Y)((e=>(null==e?void 0:e.item)??null)),t=function(){const[e,t]=(0,s.useState)(null),n=(0,re.f)();return(0,s.useEffect)((()=>{let e=!0;return n.getPlaybackInfo().then((n=>{e&&t(n)})),()=>{e=!1}}),[n]),(0,oe._)(ie.r.INFO,(e=>{let{data:n}=e;t(n)})),e}(),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[n,l]=(0,s.useState)(null),a=(0,re.f)();return(0,s.useEffect)((()=>{let n=!0,s=null;if(null===e)l(null);else{const r=async()=>{const t=await a.getFiles(e);n&&l(t)};r(),null!==t&&(s=window.setInterval(r,t))}return()=>{n=!1,null!==s&&window.clearInterval(s)}}),[a,e,t]),n}(null==e?void 0:e.uri,500),l=(0,ce.g)(),[a,r]=(0,s.useState)([]);return(0,s.useEffect)((()=>{const e=(0,d.G)(),t=new K.Hv(e).getAudioOutputDevices({},(e=>{r(e.devices.sort(((e,t)=>e.isDefaultDevice?-1:t.isDefaultDevice?1:e.name.localeCompare(t.name))))}));return()=>{t.cancel()}}),[]),null===e?(0,m.jsx)("div",{className:me,children:"Nothing is currently playing."}):(0,m.jsxs)("div",{className:me,children:[(0,m.jsxs)("div",{className:ge,children:[(0,m.jsx)(le.x,{variant:"bodySmallBold",children:"Forced shuffle"}),(0,m.jsx)(ae.Z,{id:"forced-shuffe",value:l.getForcedShuffle(),onSelected:e=>{l.setForcedShuffle(e)}})]}),(0,m.jsx)("div",{children:(0,m.jsx)("button",{className:ye,onClick:()=>{l.play({uri:"invalid_context_uri"},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,m.jsx)("span",{children:"Clear context"})})}),(0,m.jsx)(U,{title:"Devices",rows:a,cols:[{name:"Name",width:"30%"},{name:"ID"},{name:"Terminal"},{name:"Transport"},{name:"Actions",width:"16px"}],renderRow:e=>(0,m.jsx)(ke,{...e}),canCollapse:!0}),(0,m.jsx)(U,{title:"Details",rows:[{name:"url"===(null==t?void 0:t.fileType)?"URL":"File ID",value:null==t?void 0:t.fileId},{name:"Type",value:null==t?void 0:t.fileType},{name:"Codec",value:null==t?void 0:t.codecName},{name:"Bitrate",value:Ce(null==t?void 0:t.fileBitrate,1e3,"k")},{name:"Strategy",value:null==t?void 0:t.strategy},{name:"Target Bitrate",value:Ce(null==t?void 0:t.targetBitrate,1e3,"k")},{name:"Advisted Bitrate",value:Ce(null==t?void 0:t.advisedBitrate,1e3,"k")},{name:"Target File Available",value:Se(null==t?void 0:t.targetFileAvailable)},{name:"Duration (hh:mm)",value:Oe(null==t?void 0:t.lengthMs)},{name:"Duration (ms)",value:Ce(null==t?void 0:t.lengthMs,1," ms")},{name:"Speed",value:Ce(null==t?void 0:t.playbackSpeed)},{name:"Gain Adjustment",value:Ce(null==t?void 0:t.gainAdjustment)},{name:"Loudness",value:null!=t&&t.hasLoudness?Ce(null==t?void 0:t.loudness):void 0}],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:e=>(0,m.jsx)(Ae,{...e}),canCollapse:!0}),(0,m.jsx)(U,{title:"Files",rows:n??[],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:t=>(0,m.jsx)(Ne,{item:e,file:t},t.fileId),canCollapse:!0,isCollapsedInitially:!0})]})};var Ee=n(76778),Pe=n(87453),Re=n(58218),De=n(53925);function _e(e,t){const n=(0,De.o)();(0,s.useEffect)((()=>{const s=n.getEvents();return s.addListener(e,t),()=>{s.removeListener(e,t)}}),[e,t,n])}var Le=n(31572),Fe=n(22842),Ve=n(92743),Be=n(95683),Ue=n(51833),ze=n(7605),Je=n(13747),Me=n(87280),Ge=n(75533),He=n(61233),Ye=n(35850),$e=n(44478),We=n(66150),Ke=n(30373),qe=n(83314),Ze=n(28497),Qe=n(24862);const Xe=e=>{let{view:t,className:n}=e;const l=(0,s.useCallback)((e=>{(0,Ye.$1)(t,e.nativeEvent,"search-panel")&&e.preventDefault()}),[t]),a=(0,s.useCallback)((e=>{t.dispatch({effects:Me.ql.of(new Me.Jb({search:e}))})}),[t]),r=(0,s.useCallback)((()=>{(0,Me.N$)(t)}),[t]),i=(0,s.useRef)(null);return(0,s.useEffect)((()=>{var e;t.dispatch({effects:Me.ql.of(new Me.Jb({search:""}))}),null===(e=i.current)||void 0===e||e.select()}),[t]),(0,m.jsx)("div",{className:n,children:(0,m.jsx)(Ke.N,{iconLeading:(0,m.jsx)(qe.j,{}),iconTrailing:(0,m.jsx)(Ze.k,{onClick:()=>r()}),children:(0,m.jsx)(Qe.y,{ref:i,onKeyDown:e=>l(e),onChange:e=>a(e.currentTarget.value)})})})};n(5900),n(36433);var et=n(1321);n(20761);function tt(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const nt=["spotify:artist:5INjqkS1o8h1imAzPqGZBb","spotify:album:79dL7FLiJFOO0EoehUHQBv","spotify:track:6K4t31amVTZDgR3sKmwUJJ","spotify:show:1OLcQdw2PFDPG1jo3s0wbp","spotify:episode:0VpyIy8Srg5IKQdRAbDDH1"],st=Object.values(et.TP).filter((e=>"string"==typeof e)).map((e=>({name:e,value:(0,et.EE)(e)})));function lt(e,t){let n=0;const s=[];if(t.type.is("["))t.parent();else if(t.type.is("Property")){if(!t.firstChild())return[];s.unshift(e.sliceDoc(t.from+1,t.to-1)),t.parent()}for(;t.parent()&&!t.type.is("JsonText");){if(t.type.is("Array"))s.unshift("[]");else if(t.type.is("Property")){if(!t.firstChild())break;s.unshift(e.sliceDoc(t.from+1,t.to-1)),t.parent()}if(++n>1e4)break}return s}function at(e,t){for(const n of t)if("[]"===n){if(!Array.isArray(e)||0===e.length)return null;e=e[0]}else Object.hasOwn(e,n)&&(e=e[n]);return e}function rt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Ve.ys)({activateOnTyping:!1,override:[t=>{const n=(0,ze.qz)(t.state).cursorAt(t.pos,-1);if(n.type.is("{")||n.type.is("Object")){const s=lt(t.state,n),l=function(e,t){return Object.getOwnPropertyNames(at(e,t))}(e,s);return{from:t.pos,options:l.map((e=>({type:"text",label:e,apply:`"${e}"`})))}}if(n.type.is("[")||n.type.is("Array")){const s=lt(t.state,n),l=at(e,s);return Array.isArray(l)&&tt(l[0])?{from:t.pos,options:[{type:"text",label:"{ ... }",apply:JSON.stringify(l[0]),boost:1},{type:"text",label:"{}",boost:0}]}:/extension/i.test(s[s.length-1])?{from:t.pos,options:st.map((e=>{let{name:t,value:n}=e;return{type:"constant",label:t,apply:`${n}`}}))}:{from:t.pos,options:nt.map((e=>({type:"text",label:`"${e}"`})))}}if(n.type.is("Property")){const s=lt(t.state,n),l=function(e,t){const n=at(e,t);return void 0===n?"null":Array.isArray(n)?"array":typeof n}(e,s),a=[];if("boolean"===l)a.push({type:"keyword",label:"true",boost:1}),a.push({type:"keyword",label:"false",boost:0});else if("null"===l)a.push({type:"keyword",label:"null",boost:1}),a.push({label:"{}",apply:"{}",boost:0});else if("string"===l){a.push({label:'""'});for(const e of nt)a.push({label:`"${e}"`})}else if("number"===l)if(/extension/i.test(s[s.length-1]))for(const{name:e,value:t}of st)a.push({type:"constant",label:e,apply:`${t}`});else a.push({label:"0",apply:"0"}),a.push({label:"10",apply:"10"}),a.push({label:"100",apply:"100"});else"object"===l?a.push({label:"{}",apply:"{}"}):"array"===l&&a.push({label:"[]",apply:"[]"});return{from:t.pos,options:a}}return null}]})}const it=[He.vk,(0,ze.nF)(He.VE),(0,Ye.Eu)(),(0,Ye.ZO)(),(0,Ye.HQ)(),(0,Ye.Uw)(),Ge.yy.allowMultipleSelections.of(!0),Ye.$f.of([...Be.wQ,...Be.f$,...Ve.B1,...Me.Lp,Be.oc]),(0,Me.yC)({top:!0,createPanel:e=>{const t=e.dom.ownerDocument.createElement("div");return(0,$e.s)(t).render((0,m.jsx)(We.LC,{target:e.dom.ownerDocument.head,children:(0,m.jsx)(Xe,{view:e})})),{dom:t,top:!0}}}),(0,ze.mi)(),(0,Ue.AV)()],ot=[...it,(0,Be.m8)(),(0,Je.ir)((0,Ue.ap)()),(0,ze.nY)(),(0,ze.n$)(),(0,Ve.vQ)()],ct=[...it,Ge.yy.readOnly.of(!0)],dt=new Ge.F6,ut=e=>{let{readOnly:t=!1,onChange:n,onDiagnostics:l,editorRef:a,className:r}=e;const i=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const e=new Ye.tk({parent:i.current,extensions:[...t?ct:ot,dt.of(rt({})),Ye.tk.updateListener.of((e=>{e.docChanged&&(null==n||n(e.state.doc.toString()));for(const t of e.transactions)for(const e of t.effects)e.is(Je.lC)&&(null==l||l(e.value))}))]});return void 0!==a&&(a.current=e),()=>{e.destroy()}}),[t,n,l,a]),(0,m.jsx)("div",{className:r,ref:i})};function mt(e){let{readOnly:t,className:n,onChange:l,onDiagnostics:a}=e;const r=(0,s.useRef)(),i=(0,s.useRef)(l),o=(0,s.useRef)(a);i.current=l,o.current=a;const c=(0,s.useCallback)((()=>{const e=r.current;return void 0!==e?e.state.doc.toString():null}),[]),d=(0,s.useCallback)((e=>{const t=r.current;void 0!==t&&t.dispatch({changes:{from:0,to:t.state.doc.length,insert:e}})}),[]),u=(0,s.useCallback)((e=>{const t=r.current;void 0!==t&&t.dispatch({effects:dt.reconfigure(rt(e))})}),[]),p=(0,s.useCallback)((e=>{var t;null==i||null===(t=i.current)||void 0===t||t.call(i,e)}),[]),h=(0,s.useCallback)((e=>{var t;null==o||null===(t=o.current)||void 0===t||t.call(o,e)}),[]);return{Editor:(0,m.jsx)(ut,{editorRef:r,readOnly:t,className:n,onChange:p,onDiagnostics:h}),getContent:c,setContent:d,setReference:u}}var pt=n(74694);const ht="X2I_RYWYpxMLnNlZS4pC",vt="SeONzyUTUcSX69dLCXjf",xt="a6zsfAU_4iY1od9MSoF4",ft=e=>{let{name:t,value:n}=e;const s=z();return(0,m.jsxs)(I.S,{hover:!0,children:[(0,m.jsx)(k.p,{className:B.rowName,highlight:!0,children:t}),(0,m.jsx)(k.p,{className:B.rowValue,truncate:!0,align:"right",children:n}),(0,m.jsx)(k.p,{className:B.rowActions,children:(0,m.jsx)("button",{className:B.rowAction,onClick:()=>s(n),children:(0,m.jsx)(T.c,{size:"small"})})})]})},jt=()=>{const e=(()=>{const e=(0,De.o)(),[t,n]=(0,s.useState)(e.getSubscriptions()),l=(0,s.useCallback)((()=>{n(e.getSubscriptions())}),[e,n]);return _e(Re.f.SUBSCRIBE,l),_e(Re.f.CANCEL,l),_e(Re.f.REFRESH,l),t})(),t=z(),n=Object.entries((0,Fe.v)(e,(e=>`${e.ident}${e.isPrefix?"*":""}`)));return(0,m.jsx)(U,{title:"Subscriptions",rows:n,cols:[{name:"Ident"},{name:"Actions",width:"16px"}],renderRow:e=>{let[n,s]=e;return(0,m.jsxs)(I.S,{hover:!0,children:[(0,m.jsxs)(k.p,{className:B.rowValue,truncate:!0,children:[n," (",s.length,")"]}),(0,m.jsx)(k.p,{className:B.rowActions,children:(0,m.jsx)("button",{className:B.rowAction,onClick:()=>t(n),children:(0,m.jsx)(T.c,{size:"small"})})})]},n)},canCollapse:!0})};function gt(e){if(e.ident.endsWith("/json"))return!0;if(0===e.payloads.length)return!1;const t=(0,Le.BB)(e.payloads[0]);return t.length>0&&"{"===t[0]}const yt=e=>{let{message:t}=e;const[n,l]=(0,s.useState)(!1),{Editor:a,setContent:r}=mt({readOnly:!0});return(0,s.useEffect)((()=>{if(0!==t.payloads.length)if(gt(t)){const e=JSON.parse((0,Le.BB)(t.payloads[0]));r(JSON.stringify(e,void 0,2))}else{const e=(0,Le.zv)(t.payloads[0]);r(JSON.stringify(e,void 0,2))}}),[t,r]),(0,m.jsxs)(I.S,{hover:!0,children:[(0,m.jsx)(k.p,{className:B.rowName,children:new Date(t.timestamp).toLocaleString()}),(0,m.jsx)(k.p,{className:B.rowName,children:t.ident}),(0,m.jsxs)(k.p,{className:B.rowName,children:[(0,m.jsx)("button",{className:B.rowAction,onClick:()=>l(!n),children:(0,m.jsx)(Ee.V,{size:"small"})}),(0,m.jsx)(pt.q,{isOpen:n,className:xt,onRequestClose:()=>l(!1),shouldCloseOnEsc:!0,shouldCloseOnBackdropClick:!0,animated:!0,children:a})]})]})},bt=()=>{const e=(0,De.o)(),[t,n]=(0,s.useState)(0),[l,a]=(0,s.useState)(!0);_e(Re.f.MESSAGE,(()=>{n(t+1)}));const r=l?e.getMessages().filter(gt):e.getMessages();return(0,m.jsx)(U,{title:"Messages",titleExtra:(0,m.jsxs)("div",{className:vt,children:[(0,m.jsx)(Pe.z,{id:"json-only",size:"small",checked:l,onChange:()=>a(!l)}),(0,m.jsx)(le.x,{as:"label",htmlFor:"json-only",variant:"marginal",children:"JSON only"})]}),rows:r,cols:[{name:"Time",width:"200px"},{name:"Ident"},{name:"Payload",width:"16px"}],renderRow:(e,t)=>(0,m.jsx)(yt,{message:e},`${t}-${e.ident}-${e.timestamp}`),canCollapse:!0})},Nt=()=>{const e=(()=>{const e=(0,De.o)(),[t,n]=(0,s.useState)(null);(0,s.useEffect)((()=>{e.getConnectionId().then((e=>n(e)))}),[e,n]);const l=(0,s.useCallback)((e=>n(e.data.connectionId)),[n]);return _e(Re.f.CONNECTION,l),t})();return(0,m.jsxs)("div",{className:ht,children:[(0,m.jsx)(U,{title:"PubSub",rows:(0,m.jsx)(ft,{name:"Connection ID",value:e??"-"}),cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}]}),(0,m.jsx)(jt,{}),(0,m.jsx)(bt,{})]})};n(4891);var wt=n(49857),Ct=n(28565),St=n(78147),Ot=n(25702),At=n(67375),It=n(57003),kt=n(85310),Tt=n(55685),Et=n(47500),Pt=n(31661),Rt=n(63691),Dt=n(99634),_t=n(39017),Lt=n(47978),Ft=n(12050),Vt=n(89170),Bt=n(72014);const Ut=36e5;function zt(){var e;const t=(0,s.useContext)(Bt.N),n=(0,Ft.C)(),l=null===(e=(0,Vt.r)())||void 0===e?void 0:e.username,a=(0,s.useMemo)((()=>At.Z9.getPropertySetId({clientId:t.remote_config_client_id},(0,At.y6)(),[])),[t.remote_config_client_id]),r=(0,s.useMemo)((()=>{var e,s,r;if(!t||!n.data||!l)return null;const i="web-player"===t.remote_config_client_id||"1"===n.data.employee;return{data:{platform:"WEB",clientId:t.remote_config_client_id,country:n.data.country,propertySetKey:a,clientVersion:(null===(e=t.event_sender_context_information)||void 0===e?void 0:e.client_version_string)??"",installationId:(null===(s=t.event_sender_context_information)||void 0===s?void 0:s.installation_id)??"",oauthClientId:(null===(r=t.event_sender_context_information)||void 0===r?void 0:r.client_id)??"",employee:i,catalogue:n.data.catalogue,originPlatform:t.app_platform,originVersion:t.os_version??"",userName:l}}}),[l,t,n.data,a]),{data:i}=(0,_t.useQuery)("traceback-config",(()=>(0,Lt.k)().request("https://remote-configuration-resolver.spotify.net/debug/traceback-config",{method:"POST",responseType:"json",headers:{"content-type":"application/json"},payload:JSON.stringify(r)}).then((e=>{const t=e.body;return Object.fromEntries(t.data.map((e=>[e.name,e])))}))),{staleTime:5e3,cacheTime:Ut,refetchInterval:Ut,refetchOnWindowFocus:!1,enabled:!!r});return i??{}}const Jt="HnpguQ3rtX44hdThdwy9",Mt="y1gsL5scUuLOArVrFYRl",Gt="Ni7focuLC626smvmOnLP",Ht="W5wjtyjHTJPGX5j7_WOp",Yt="gbwwwTt68IMGNnwRJ7x7",$t=e=>{let{property:t,value:n,onOverride:s,isOverridden:l}=e;if("int"===t.type||"internal"===t.type)throw Error("Invalid property type for dropdown!");const a="bool"===t.type?["true","false"]:t.values;return(0,m.jsx)(Ct.i,{id:`${t.name}-dropdown`,value:(n??t.default).toString(),onChange:e=>{var n;s(t.name,(n=e.currentTarget.value,"bool"===t.type?"true"===n:n))},className:R()({[Ht]:l}),children:a.map((e=>(0,m.jsx)("option",{value:e,children:e},e)))})},Wt=e=>{let{property:t,value:n,onOverride:l,isOverridden:a}=e;if("int"!==t.type)throw Error("Invalid property type for dropdown!");const[r,i]=(0,s.useState)(n??t.default),o=(0,wt.y1)((e=>{l(t.name,e)}),500);return(0,m.jsx)(Qe.y,{type:"number",min:t.lower,max:t.upper,value:r,onChange:e=>{i(e.currentTarget.value),o(Number.parseInt(e.currentTarget.value,10))},className:R()({[Ht]:a})})},Kt=e=>{let{property:t,localValue:n,remoteValue:s,experimentUrl:l,isRemoteUserSpecificOverride:a,onOverride:r,filter:i}=e;const o=n!==s,c=t.default.toString(),d=null==s?void 0:s.toString();let u=(l||c!==d?d:null)??null;return u&&l&&(u=(0,m.jsxs)("a",{href:l,target:"_blank",className:Yt,children:[d,a&&(0,m.jsx)(St.l,{size:"small"})]}),a&&(u=(0,m.jsx)(kt.ws,{label:"This value comes from a user-specific override in the linked experiment.",children:u}))),(0,m.jsxs)(I.S,{hover:!0,children:[(0,m.jsxs)(k.p,{className:B.rowName,title:t.name,highlight:!0,children:[(0,m.jsx)("a",{href:`https://sites.spotify.net/s/hyperlink?path=property-experiments&property=${t.name}`,rel:"noopener noreferrer",target:"_blank",children:i?(0,m.jsx)(Rt.o,{searchWords:[i??""],textToHighlight:t.name}):t.name}),(0,m.jsx)("div",{className:B.propertyDescription,children:t.description})]}),(0,m.jsx)(k.p,{className:B.rowValue,children:c}),(0,m.jsx)(k.p,{className:B.rowValue,children:u}),(0,m.jsx)(k.p,{className:B.rowValue,children:"bool"===t.type||"enum"===t.type?(0,m.jsx)($t,{property:t,value:n,onOverride:r,isOverridden:o}):"int"===t.type?(0,m.jsx)(Wt,{property:t,value:n,onOverride:r,isOverridden:o}):null})]})},qt="debugPanelRemoteConfigLastChangedAtByPropertyName",Zt=e=>{let{properties:t,localConfiguration:n,remoteConfiguration:l,setOverrides:a,clearOverrides:r}=e;const{filter:i}=(0,s.useContext)(Dt.fo),o=(0,S.um)(),c=()=>{const e=o.getItem(qt);return e instanceof Tt.d||e instanceof Et.y?{}:e},d=(e,t)=>{a(At.VK.fromJSON({[e]:t})),o.setItem(qt,{...c(),[e]:Date.now()})},u=(0,s.useRef)(c()),p=t.sort(((e,t)=>(u.current[t.name]??0)-(u.current[e.name]??0)||e.name.localeCompare(t.name))),h=zt();return(0,m.jsxs)("div",{className:Mt,children:[(0,m.jsxs)("div",{className:Gt,children:[(0,m.jsx)(Ot.P,{size:"small",onClick:()=>{r(),o.clearItem(qt)},children:"Clear local overrides"}),(0,m.jsx)(Pt.K,{placeholder:"Find",alwaysExpanded:!0})]}),(0,m.jsx)(D.x,{children:(0,m.jsxs)(F.i,{children:[(0,m.jsxs)("colgroup",{children:[(0,m.jsx)("col",{width:"30%"}),(0,m.jsx)("col",{}),(0,m.jsx)("col",{})]}),(0,m.jsxs)("tbody",{children:[(0,m.jsxs)(I.S,{children:[(0,m.jsx)(V.x,{className:B.rowHeader,children:"Name"}),(0,m.jsx)(V.x,{className:B.rowHeader,children:"Default"}),(0,m.jsx)(V.x,{className:B.rowHeader,children:"Remote"}),(0,m.jsx)(V.x,{className:B.rowHeader,children:"Local"})]}),p.filter((e=>-1!==e.name.toLowerCase().indexOf(i.toLowerCase()))).map((e=>{var t,s;return(0,m.jsx)(Kt,{property:e,localValue:n.getValue(e.name),remoteValue:l.getValue(e.name),experimentUrl:null==h||null===(t=h[e.name])||void 0===t||null===(t=t.experimentRef)||void 0===t?void 0:t.experimentUrl,isRemoteUserSpecificOverride:(null==h||null===(s=h[e.name])||void 0===s?void 0:s.isOverride)??!1,onOverride:d,filter:i},e.name)}))]})]})})]})},Qt=()=>{const e=[...(0,At.y6)()],{localConfiguration:t,remoteConfiguration:n,setOverrides:s,clearOverrides:l}=(0,It.j)();return(0,m.jsx)("div",{className:Jt,children:(0,m.jsx)(Dt.hz,{uri:"spotify:internal:debug:remote-config-properties",children:(0,m.jsx)(Zt,{properties:e,localConfiguration:t,remoteConfiguration:n,setOverrides:s,clearOverrides:l})})})};n(82693),n(61325),n(6882);var Xt=n(28150),en=n(55147);const tn="mHtMWLOMN_lZh6Eq1lBe",nn="MNRz4Pg1lZNyfjDZ3N6M",sn=()=>{const e=(0,Xt.TH)(),t=(0,Xt.s0)(),n=e=>{const n=(0,en.EC)(e);n&&t(n.toURLPath(!0),{state:{preventMoveFocus:!0}})},s=(0,en.EC)(e.pathname);return(0,m.jsxs)("div",{className:tn,children:[(0,m.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.target).get("navigateTo").toString(),s=new URL(t,"https://open.spotify.com");s.hostname&&s.pathname?n(s.pathname):n(t)},className:nn,children:[(0,m.jsx)("label",{htmlFor:"navigate-input",children:"Navigate to"}),(0,m.jsx)(le.x,{variant:"bodySmall",as:"input",style:{color:q.Snx},name:"navigateTo",id:"navigate-input",type:"text",placeholder:"ex. /search/nirvana",onKeyDown:e=>{"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||e.stopPropagation()}})]}),(0,m.jsx)("h2",{children:"Current location:"}),(0,m.jsxs)("ul",{children:[(0,m.jsxs)("li",{children:["Location: ",e.pathname]}),e.search&&(0,m.jsxs)("li",{children:["Search params: ?",e.search]}),e.hash&&(0,m.jsxs)("li",{children:["Hash params: #",e.hash]}),s?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("li",{children:["URL: ",s.toURL()]}),(0,m.jsxs)("li",{children:["URI: ",s.toURI()]})]}):(0,m.jsx)("li",{children:"Not parseable as a Spotify URI!"}),(0,m.jsxs)("li",{children:["Location state: ",(0,m.jsx)("pre",{children:JSON.stringify(e.state,null,2)})]})]})]})};var ln=n(78860),an=n(69457),rn=n(12589),on=n(65698),cn=n(39753),dn=n(41481),un=n(44790),mn=n(57900),pn=n(87635),hn=function(e){return e.IPL="IN_PERSON",e.RGS="REMOTE",e}(hn||{});var vn=n(69106),xn=n(11435),fn=n(14355);function jn(e){let{obj:t}=e;return(0,m.jsx)(F.i,{children:(0,m.jsx)("tbody",{children:Object.entries(t).map((e=>(0,m.jsx)(gn,{name:e[0],value:e[1]},e[0])))})})}function gn(e){let{name:t,value:n}=e;const s=z();let l;return"string"==typeof n||"number"==typeof n?l=n:"boolean"==typeof n?l=(0,m.jsx)(vn.N,{defaultChecked:n,isActive:!1,onClick:e=>{e.preventDefault()}}):"object"==typeof n&&(l=(0,m.jsx)(jn,{obj:n})),(0,m.jsxs)(I.S,{hover:!0,children:[(0,m.jsx)(k.p,{className:B.rowName,highlight:!0,children:t}),(0,m.jsx)(k.p,{className:B.rowValue,truncate:!0,align:"right",children:l}),(0,m.jsx)(k.p,{className:B.rowActions,children:(0,m.jsx)("button",{className:B.rowAction,onClick:()=>{void 0!==n&&s("object"==typeof n?JSON.stringify(n):n.toString())},children:(0,m.jsx)(T.c,{size:"small"})})})]})}const yn=[{title:"Current Session",Component:()=>{const{currentSession:e,refreshCurrentSession:t}=(0,mn.A)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(xn.o,{iconOnly:fn.t,onClick:()=>{t()}}),(0,m.jsx)(D.x,{children:e&&(0,m.jsxs)(F.i,{children:[(0,m.jsxs)("colgroup",{children:[(0,m.jsx)("col",{width:"30%"}),(0,m.jsx)("col",{}),(0,m.jsx)("col",{width:"16px"})]}),(0,m.jsx)("tbody",{children:Object.entries(e).map((e=>(0,m.jsx)(gn,{name:e[0],value:e[1]},e[0])))})]})})]})}},{title:"Create New Session",Component:()=>{const{createSession:e}=(0,mn.A)(),[t,n]=(0,s.useState)(null),[l,a]=(0,s.useState)(hn.IPL),r=(0,p.I0)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{children:"Create a new session as your current user (does nothing if you already have a session)"}),(0,m.jsxs)("div",{className:B.rowControl,children:[(0,m.jsxs)(v.v,{id:"sessionTypeDropdown",value:l,onSelect:e=>{switch(e){case hn.IPL:a(hn.IPL);break;case hn.RGS:a(hn.RGS);break;default:a(hn.IPL)}},children:[(0,m.jsx)("option",{value:hn.IPL,children:hn.IPL},hn.IPL),(0,m.jsx)("option",{value:hn.RGS,children:hn.RGS},hn.RGS)]}),(0,m.jsx)(h.D,{onClick:async t=>{t.preventDefault();const s=await e();n(s)},children:"Create"})]}),(0,m.jsx)(Ot.P,{onClick:()=>{r((0,un.xX)(pn.JamModalType.INVITE))},style:{marginTop:cn.mG},children:"Open invitation modal"}),null!==t&&(0,m.jsx)(dn.B,{value:JSON.stringify(t,null,2),readOnly:!0})]})}},{title:"Leave Current Session",Component:()=>{const{leaveSession:e,currentSession:t}=(0,mn.A)(),[n,l]=(0,s.useState)(null);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:B.rowName,children:"Leave your current session"}),(0,m.jsxs)("div",{className:B.rowControl,children:[(0,m.jsx)(Qe.y,{value:(null==t?void 0:t.sessionId)??"",readOnly:!0}),(0,m.jsx)(h.D,{onClick:async n=>{if(n.preventDefault(),!t)return;const s=await e();l(s)},children:"Leave"})]}),null!==n&&(0,m.jsx)(dn.B,{value:JSON.stringify(n,null,2),readOnly:!0})]})}},{title:"Delete Current Session",Component:()=>{const{currentSession:e,deleteSession:t}=(0,mn.A)(),[n,l]=(0,s.useState)(null);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:B.rowName,children:"Delete your current session"}),(0,m.jsxs)("div",{className:B.rowControl,children:[(0,m.jsx)(Qe.y,{value:(null==e?void 0:e.sessionId)??"",readOnly:!0}),(0,m.jsx)(h.D,{onClick:async n=>{if(n.preventDefault(),!e)return;const s=await t();l(s)},children:"Delete"})]}),null!==n&&(0,m.jsx)(dn.B,{value:JSON.stringify(n,null,2),readOnly:!0})]})}},{title:"Join Session as Guest",Component:()=>{const[e,t]=(0,s.useState)(""),n=(0,p.I0)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:B.rowName,children:"Join somebody else's session (paste join token)"}),(0,m.jsxs)("div",{className:B.rowControl,children:[(0,m.jsx)(Qe.y,{value:e,onChange:e=>t(e.currentTarget.value)}),(0,m.jsx)(h.D,{onClick:async t=>{t.preventDefault(),n((0,un.xX)(pn.JamModalType.JOIN,e))},children:"Join"})]})]})}}],bn=()=>{const[e,t]=(0,s.useState)(-1);return(0,m.jsxs)("div",{className:tn,children:[(0,m.jsx)("h1",{children:"Social Connect!"}),(0,m.jsx)(ln.U,{children:yn.map(((n,s)=>(0,m.jsxs)(an.Q,{children:[(0,m.jsx)(rn.i,{className:B.rowHeader,onClick:n=>{n.preventDefault(),t(s===e?-1:s)},isExpanded:s===e,children:n.title}),(0,m.jsx)(on.v,{isExpanded:s===e,children:n.Component&&(0,m.jsx)(n.Component,{})})]},`${s}-item`)))})]})};var Nn=n(39579);const wn="EpKDeW2JglvI1Jul9PDh",Cn="g2miUZeGB9MKVvwZBLXH",Sn=()=>{const{value:e,setValue:t,clearStoredKeyValue:n,clearSessionStorage:s}=(0,Nn.useSessionStorage)("eligibility"),{value:l,setValue:a,clearStoredKeyValue:r}=(0,Nn.useSessionStorage)("datetime");return(0,m.jsxs)("div",{className:wn,children:[(0,m.jsx)("h1",{children:"Premium Page Debug"}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:"Override Eligiiblity"}),(0,m.jsxs)("select",{className:Cn,value:e,onChange:e=>t(e.target.value),children:[(0,m.jsx)("option",{}),(0,m.jsx)("option",{value:"INTRO_ELIGIBLE",children:"INTRO_ELIGIBLE"}),(0,m.jsx)("option",{value:"NON_INTRO_ELIGIBLE",children:"NON_INTRO_ELIGIBLE"}),(0,m.jsx)("option",{value:"WINBACK",children:"WINBACK"})]}),(0,m.jsx)(h.D,{className:wn,size:"small",onClick:()=>n("eligibility"),children:"Remove Eligiblity Override"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:"Override Date"}),(0,m.jsx)("input",{className:Cn,type:"datetime-local",value:l,onChange:e=>a(e.target.value)}),(0,m.jsx)(h.D,{size:"small",onClick:()=>r("datetime"),children:"Remove Date/Time Override"})]}),(0,m.jsx)(h.D,{size:"small",onClick:s,children:"Remove All Overrides"})]})},On="wjncHEmBUc7V8RZYdENw",An="uyHngn_fJez61BsFl3tA",In="J2KhtXbDovVMDOMzv1Jy",kn="h5nLocSUS3w2NB53IdWQ",Tn="debugWindowActiveTabGroup",En="debugWindowActiveTabIndex",Pn=()=>{const e=(0,re.f)().getCapabilities().canGetFiles,t=(0,O.Y)(),n=(0,C.ky)();(0,s.useEffect)((()=>{n&&(n.title="Spotify Debug Window")}),[n]);const o=(0,s.useMemo)((()=>Object.fromEntries(Object.entries({Page:[null].filter(A.K),Authorization:[{label:"Access Token",Panel:M}],Playback:[e?{label:"Playback",Panel:Te}:null,{label:"Connect",Panel:W},t?{label:"Social Connect",Panel:bn}:null].filter(A.K),"Data Fetching":[null,{label:"PubSub",Panel:Nt},null].filter(A.K),UI:[{label:"Routing",Panel:sn}].filter(A.K),Other:[{label:"Remote Config",Panel:Qt},null,{label:"In-App Messaging",Panel:N},{label:"Your DJ",Panel:w.Fh},{label:"Premium Page",Panel:Sn}].filter(A.K)}).filter((e=>{let[t,n]=e;return n.length>0})))),[e,t]),c=Object.keys(o),d=(0,S.um)(),u=d.getItem(Tn),p="string"==typeof u&&u in o?u:c[0],[h,v]=(0,s.useState)(p),x=d.getItem(En),f="number"==typeof x&&x in o[h]?x:0,[j,g]=(0,s.useState)(f),y=o[h][j].Panel;return(0,m.jsx)("div",{className:"encore-dark-theme encore-layout-themes",children:(0,m.jsxs)("div",{className:On,children:[(0,m.jsx)(l.W,{className:An,children:(0,m.jsx)(a.b,{flexMobile:!0,children:c.map((e=>(0,m.jsxs)(s.Fragment,{children:[(0,m.jsx)(r.W,{children:e}),o[e].map(((t,n)=>(0,m.jsx)(i._,{active:h===e&&j===n,label:t.label,onClick:()=>{v(e),d.setItem(Tn,e),g(n),d.setItem(En,n)},className:In,children:t.label},t.label)))]},e)))})}),(0,m.jsx)("div",{className:kn,children:(0,m.jsx)(y,{})})]})})}},89170:(e,t,n)=>{n.d(t,{r:()=>a});n(38910);var s=n(29132),l=n(92718);const a=()=>{const e=(0,s.v9)((e=>{var t;return null===(t=e.session)||void 0===t?void 0:t.user}));return e?{type:l.p.USER,uri:e.uri,username:e.id,displayName:e.display_name??null,images:e.images.map((e=>{let{url:t,width:n,height:s}=e;return{url:t,width:n||void 0,height:s||void 0}}))}:null}}}]);
//# sourceMappingURL=xpui-debug-window-contents.5a0627c9.js.map