(()=>{"use strict";var e={};let t,n,i;(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})(e),function(e){let t=!1;function i(){const e=(new Error).stack;if(!e)return null;const t=e.split("\n")[3].split(" ");let n=t[t.length-1];return"("!==n[0]&&(n="("+n+")"),n}e.setAllowLogging=function(e){t=!!n.findHighestWindow().location.search.includes("bex_logging=true")||e},e.logInfo=function(...e){if(!t)return;const n=i(),o=Date.now()-performance.timing.navigationStart;console.log("%c%s%c%s%s","background: #00008B; color: White; font-weight: bold;","[CeX Header Bidding]","",o,n?" ".concat(n):"","",...e)},e.logWarning=function(...e){if(!t)return;const n=i(),o=Date.now()-performance.timing.navigationStart;console.log("%c%s%c%s%s","background: #FF8C00; color: White; font-weight: bold;","[CeX Header Bidding]","",o,n?" ".concat(n):"","",...e)},e.logError=function(e,...n){if(!t)return;const o=i(),r=Date.now()-performance.timing.navigationStart;n.length>0&&console.log("%c%s%c%s%s","background: #8B0000; color: White; font-weight: bold;","[CeX Header Bidding]","",r,o?" ".concat(o):"","",...n),console.error(e),console.trace()},e.logProblem=function(...e){if(!t)return;const n=i(),o=Date.now()-performance.timing.navigationStart;console.log("%c%s%c%s%s","background: #8B0000; color: White; font-weight: bold;","[CeX Header Bidding]","",o,n?" ".concat(n):"","",...e),console.trace()}}(t||(t={})),function(e){function n(){const e=window.top;let t=window;for(;t!==e;)try{t.parent.document,t=t.parent}catch(e){break}return t}function i(){return n().document}e.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)},e.replaceAll=function(e,t,n){return e.split(t).join(n)},e.fixDomain=function(e){return(e=(e=e.toLowerCase()).replace(/^http(s?):\/\//i,"")).startsWith("www.")&&(e=e.slice(4)),e.endsWith("/")&&(e=e.slice(0,-1)),e},e.guid=function(e=4){return e>11&&(e=11),Math.random().toString(36).substr(2,e)},e.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},e.findHighestWindow=n,e.findHighestDocument=i,e.hbFrameId="__bexHBFrame";const o=e.hbdevFrameId="__bexHBDevFrame";function r(e,t){const n=i();n.body||(n.body=n.createElement("body"));let o=n.querySelector("#".concat(t));return o||(o=n.createElement("iframe"),o.id=t,o.style.display="none",o.onload=function(){const t=o.contentDocument,n=t?.createElement("script");n&&(n.src="https://".concat(e,"/hbscript"),n.async=!0,n.defer=!0,t?.head.appendChild(n))},n.body.appendChild(o),o)}function a(e){if(!e.size)return[[300,250]];let t=[];const i=n().innerWidth;e.size.desktop&&i>480&&(t=t.concat(e.size.desktop)),e.size.mobile&&i<=480&&(t=t.concat(e.size.mobile)),e.size.universal&&t.length<1&&(t=t.concat(e.size.universal)),t=t.map((function(e){return{width:e[0],height:e[1]}}));let o=t.filter((function(e){return e.width<=i}));return o.length<1&&(o=[t.reduce((function(e,t){return Math.abs(i-e.width)>Math.abs(i-t.width)?t:e}),{width:e.size.original[0],height:e.size.original[1]})]),o}e.createHbFrame=r,e.initalizeHb=function(e,n){"www.slovenskenovice.si"===window.location.host&&window.afterIpromPrebid?(t.logInfo("Setting iframe creation through iprom initalizer..."),window.afterIpromPrebid.push((function(){return r(e,n)}))):r(e,n)},e.isDevelMode=function(e=!1,t){return!(!e&&void 0===t)&&(e?window.frameElement?.id===o:void 0===t||t.includes("hbdev.contentexchange.me"))},e.sendEventImage=function(e){const t=i(),n=t.createElement("img");n.src=e,n.onload=function(){t.body.removeChild(n)},n.style.display="none",t.body.appendChild(n)},e.crawlToPost=function(e){let t=e;for(;t&&!t.classList.contains("$bexAd_post");){if("BODY"===t.tagName)return null;if(!t.parentElement)return null;t=t.parentElement}return t},e.getCookie=function(e,t){const n="; ".concat(t).split("; ".concat(e,"="));if(2===n.length)return n.pop()?.split(";").shift()},e.filterConfig=function(e){const i=new URL(n().location.href).searchParams.get("bex_keeponly");if(!i||"direct"==i)return;const o=i.split("-"),r=o[0],a=o[1];let s=e.placement.execList;const c=[];for(;s;){const e=s.next;e&&delete s.next,s.type==r&&("headerbidding"==r&&(s.config.bids=s.config.bids.filter((function(e){return e.bidder==a}))),c.push(s)),s=e}e.placement.execList=c[0],t.logInfo("filtered config",e)},e.getAvailableSizes=a,e.makeAuctionRequest=function(e,t,n){if("DISPLAY"==n.adType){const i=a(n);return{id:t,domain:n.domain,placement:n.id,source:e,placement_size:{width:n.size.original[0],height:n.size.original[1]},availableSizes:i,size:null,type:"DISPLAY",mediaType:"banner",hasResponse:!1,hasWon:!1,cpm:0}}return{id:t,domain:n.domain,placement:n.id,source:e,placement_size:{width:0,height:0},availableSizes:[{width:0,height:0}],size:null,type:"NATIVE",mediaType:"native",hasResponse:!1,hasWon:!1,cpm:0}},e.makeAuctionResponse=function(e,t,n){if("DISPLAY"==n.adType){const i=a(n);return{id:t,domain:n.domain,placement:n.id,source:e,placement_size:{width:n.size.original[0],height:n.size.original[1]},availableSizes:i,size:{width:n.size.original[0],height:n.size.original[1]},type:"DISPLAY",mediaType:"banner",hasResponse:!0,hasWon:!1,cpm:0}}return{id:t,domain:n.domain,placement:n.id,source:e,placement_size:{width:0,height:0},availableSizes:[{width:0,height:0}],size:{width:0,height:0},type:"NATIVE",mediaType:"native",hasResponse:!0,hasWon:!1,cpm:0}},e.sendAuctionData=function(e){const t=n();e.window=[t.innerWidth,t.innerHeight];const i=new XMLHttpRequest;i.open("POST","".concat("https://hbstat.contentexchange.me","/auctionData")),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.send(JSON.stringify(e))},e.isMobile=function(){let e=!1;if("maxTouchPoints"in navigator)e=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)e=navigator.msMaxTouchPoints>0;else{var t=window.matchMedia&&matchMedia("(pointer:coarse)");if(t&&"(pointer:coarse)"===t.media)e=!!t.matches;else if("orientation"in window)e=!0;else{var n=navigator.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(n)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(n)}}return e}}(n||(n={})),function(e){function t(){const e=n.findHighestWindow();let t=e.bextag;return t||(e.bextag=t={targeting:{},headerbidding:{queue:[]},_internals:{headerbidding:{bexDisplayHB:{},bexNativeHB:{}},loaders:{},bds:{}},sendQueue:[],onBexAdFailed:[],onBexAdSuccess:[]}),"sendQueue"in e.bextag||(e.bextag.sendQueue=[]),"targeting"in e.bextag||(e.bextag.targeting={}),"headerbidding"in e.bextag||(e.bextag.headerbidding={}),"queue"in e.bextag.headerbidding||(e.bextag.headerbidding.queue=[]),"_internals"in e.bextag||(e.bextag._internals={}),"headerbidding"in e.bextag._internals||(e.bextag._internals.headerbidding={}),"bexDisplayHB"in e.bextag._internals.headerbidding||(e.bextag._internals.headerbidding.bexDisplayHB={}),"bexNativeHB"in e.bextag._internals.headerbidding||(e.bextag._internals.headerbidding.bexNativeHB={}),"loaders"in e.bextag._internals||(e.bextag._internals.loaders={}),"bds"in e.bextag._internals||(e.bextag._internals.bds={}),"onBexAdFailed"in e.bextag||(e.bextag.onBexAdFailed=[]),"onBexAdSuccess"in e.bextag||(e.bextag.onBexAdSuccess=[]),t}e.getBexTag=t,e.getBexDevTag=function(){const e=t();let n=e._devTag;n||(e._devTag=n={targeting:{},headerbidding:{queue:[]},_internals:{headerbidding:{bexDisplayHB:{},bexNativeHB:{}},loaders:{},bds:{}},sendQueue:[],onBexAdFailed:[],onBexAdSuccess:[]});const i=n;return"sendQueue"in i||(i.sendQueue=[]),"targeting"in i||(i.targeting={}),"headerbidding"in i||(i.headerbidding={}),"queue"in i.headerbidding||(i.headerbidding.queue=[]),"_internals"in i||(i._internals={}),"headerbidding"in i._internals||(i._internals.headerbidding={}),"bexDisplayHB"in i._internals.headerbidding||(i._internals.headerbidding.bexDisplayHB={}),"bexNativeHB"in i._internals.headerbidding||(i._internals.headerbidding.bexNativeHB={}),"loaders"in i._internals||(i._internals.loaders={}),"bds"in i._internals||(i._internals.bds={}),"onBexAdFailed"in i||(i.onBexAdFailed=[]),"onBexAdSuccess"in i||(i.onBexAdSuccess=[]),n}}(i||(i={}));let o,r,a,s,c,d,l=n.findHighestWindow(),u=l.adformtag=l.adformtag||[],f=document.cookie.replace(/^.*(cx_id=(.*?))(;|$).*?$/,"$2");function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function w(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}u.push((function(){if(f){var e=[{source:"firstpartyid",uids:[{id:f,atype:n.isMobile()?2:1}]}];u.setExtendedIDs(e)}})),(o||(o={})).getAdformTag=function(){return u},(r||(r={})).getPrebid=function(){const e=window;let t=e.pbjs;return t||(e.pbjs=t={que:[]}),t},a||(a={}),function(e){let i=w((function e(){I(this,e)}));e.MemoryStorage=i;let o=function(e){g(i,e);var n=h(i);function i(e,t){var o;return I(this,i),y(m(o=n.call(this)),"_name",void 0),y(m(o),"_storage",void 0),y(m(o),"_data",void 0),y(m(o),"_isLoaded",void 0),o._name=e,o._storage=t,o._data={},o._isLoaded=!1,o}return w(i,[{key:"getValue",value:function(e){return this.load(),this._data[e]}},{key:"setValue",value:function(e,t){this._data[e]=t,this.save()}},{key:"deleteKey",value:function(e){this.hasKey(e)&&(delete this._data[e],this.save())}},{key:"hasKey",value:function(e){return this.load(),void 0!==this._data[e]}},{key:"save",value:function(){try{this._storage.setItem(this._name,JSON.stringify(this._data))}catch(e){t.logError(e,"Failed to save browser storage!",this._name)}}},{key:"load",value:function(){if(!this._isLoaded){this._isLoaded=!0;try{const e=this._storage.getItem(this._name);if(!e)return;this._data=JSON.parse(e)}catch(e){t.logError(e,"Failed to load browser storage!",this._name),this._data={}}}}},{key:"clear",value:function(){this._data={},this.save()}}]),i}(i);e.BrowserStorage=o;let r=function(e){g(i,e);var t=h(i);function i(e){return I(this,i),t.call(this,e,n.findHighestWindow().sessionStorage)}return w(i)}(o);e.Session=r}(s||(s={})),function(e){const n={};e.registerFallback=function(e){return e?n[e.id]?t.logWarning("Fallback already registered!",e.name):void(n[e.id]=e):t.logWarning("No fallback provided during registration!")},e.invokeFallback=async function(e,i,o){if(!e||!i)return"";let r=e.execList;for(;null!=r;)try{const a=n[r.type];if(!a){t.logWarning("Fallback is not registered!",r.type),r=r?.next;continue}if(!a.isAvailable){t.logWarning("Fallback is not available!",a.name),r=r?.next;continue}if("object"==typeof r.config&&(r.config.adFormat=e.execList.config.adFormat||r.config.adFormat),await a.invoke(r.config,i,e,o))return t.logInfo("Fallback was successfully invoked and rendered an ad!",a.name),a.id;r=r?.next}catch(e){t.logError(e,"An error occured while trying to execute a fallback!"),r=r?.next}return t.logWarning("Ad was not able to be processed by the fallback system!"),""}}(c||(c={})),function(e){const i={},o=n.findHighestDocument();function r(e,t,n,i){const o=t.children;for(let r=0;r<o.length;r++){const s=o[r];"#text"!==s.nodeName&&"#comment"!==s.nodeName&&(s.classList.contains("cex-adform-container")||s.hasAttribute("onload")?t.removeChild(s):o[r].replaceWith(a(e,s,n,i)))}t.classList.add("bexAdLoaded")}function a(e,i,o,a){if(!i||!i.parentElement)return t.logWarning("Element you are trying to render does not exist or parentElement is invalid!",i),i;const s=i.className.split(" "),c={},d=[];for(let r of s){if(!r.startsWith("$bexAd"))continue;const s=r.split("_");if(!(s.length<3))if("html"===s[2])i.innerHTML=o[s[1]]||"";else if("image"===s[2]){const t=o.image.match(/\.(mp4|ogg|ogv|webm)($|\?)/),r=i,c=e,d=a.adFormat,p=e.getAttribute("widget_id")||"",h=p&&n.findHighestWindow()._contentExchange?.widget?.[p]||{width:400,height:209},b="in article"==d?400:"push"==d?r.naturalWidth:h.width,m="in article"==d?250:"push"==d?r.naturalHeight:h.height,x=t?o.image:"https://images4.contentexchange.me/fit/magic/?url=https://hb.contentexchange.me/template/transparent.png&size="+b+"x"+m,y=a.translation||"BexAd",v=c.querySelector(".\\$bexAd_title_html");if(y){var l=c.querySelector(".cex-adform-sticker"),u="push"==d?"position:absolute;bottom:5px;right:5px;":"float:right;margin:0 0 4px 8px;clear:right;";l&&"push"!=d?(l.innerHTML=!l.classList.contains("cex-sticker-replace")&&l.innerHTML||y||"BexAd",l.style.display="block"):v&&("push"==d?c.insertAdjacentHTML("beforeend",'<div style="opacity:0.45;'.concat(u,'z-index:10;display:block";><img width="18" style="width:18px" src="https://hbint.contentexchange.me/template/euro.png"></div> ')):"in article"!=d&&v.insertAdjacentHTML("beforebegin",'<div style="opacity:0.45;'.concat(u,'z-index:10;display:block";><img width="18" style="width:18px" src="https://hbint.contentexchange.me/template/euro.png"></div> ')))}if(t){var f=n.guid();r.outerHTML='<video id="bexvideo-'.concat(f,'" autoplay loop muted volume="0.45" playsinline src="').concat(x,'" title="').concat(o.title,'" style="max-width: 100%;max-height:100%;"></video>'),u="push"==d?"position:absolute;left:185px;bottom:5px;":"float:right;margin:0 0 4px 8px;clear:right;";var g="push"==d?"afterend":"beforebegin";v?.insertAdjacentHTML(g,'<a style="cursor:pointer;opacity:0.45;'.concat(u,'z-index:10;display:block";><img width="18" style="width:18px" src="https://hb.contentexchange.me/template/sound-off.svg" onclick="var vid = \'bexvideo-').concat(f,"',v = document.getElementById(vid),i = this;if (v.muted=!v.muted) i.src='https://hb.contentexchange.me/template/sound-off.svg'; else i.src='https://hb.contentexchange.me/template/sound-medium.svg'; return false;\"></a> ")),c?.classList.add("bexvideo")}else r.setAttribute("src",x),r.setAttribute("alt",o.title),r.style["background-image"]="url("+(o[s[1]]||"")+")",a.useImageContain?r.style["background-size"]="contain":r.style["background-size"]="cover",r.style["background-repeat"]="no-repeat",r.style["background-position"]="center"}else if("$type"===s[2]&&3===s.length)switch(s[1]){case"image":d.push("bexImage");break;case"title":d.push("bexTitle");break;case"post":d.push("bexPost");break;default:t.logWarning("Invalid template element type",s[1],i)}else if("$replace"===s[2]&&5===s.length){let e=i.getAttribute(s[3]);if(!e)continue;e=n.replaceAll(e,s[4],o[s[1]]),i.setAttribute(s[3],e)}else"$style"===s[2]&&4===s.length?c[s[1]]=s[3]:("clickUrl"===s[1]&&(o.clickTrackers&&i.addEventListener("click",(function(){t.logInfo("Advertisement has been clicked!",i);for(let e of o.clickTrackers)n.sendEventImage(e)})),o.clickFuncs&&i.addEventListener("click",(function(){t.logInfo("Executing click functions for",i);for(let e of o.clickFuncs)try{e()}catch(n){t.logError(n,"Failed to execute click function",e)}}))),i.setAttribute(s[2],o[s[1]]||""))}for(let e in c)i.style[e]=c[e];for(let e of d)i.classList.add(e);return r(e,i,o,a),i}e.registerRenderer=function(e){return e?i[e.id]?t.logWarning("Renderer already registered!",e.name):void(i[e.id]=e):t.logWarning("No renderer provided during registration!")},e.renderSticker=function(e,t){if(e.querySelector(".cex-adform-sticker")){const n=e.querySelector(".cex-adform-sticker");n.style.display="inline-block",n.innerHTML=!n?.classList.contains("cex-sticker-replace")&&n.innerHTML||t||"Ad"}else{const n=o.createElement("div");n.style="\n                line-height: 1.5;\n                position: absolute;\n                padding:0px 5px;\n                top:3px;\n                left:3px;\n                border-radius: 3px;\n                box-shadow: 1px 1px 1px 0 rgba(50, 50, 50, 0.2);\n                background-color: rgba(255, 255, 255, 0.7);\n                color: #2f2f2f;\n                font-size: 12px;\n                border: 1px solid #b3b3b3;\n                z-index:10;\n                display:block",n.className="cex-adform-sticker",n.innerHTML=n.innerHTML||t||"Ad",e.appendChild(n)}},e.renderTemplate=r,e.renderElement=a,e.createHTMLTemplate=function(e){const t=o.createElement("template"),i=n.guid();return e=e.replace(/##rnd##/g,i),t.innerHTML=e,t},e.invokeRenderer=async function(e,n,o,r){if(!e||!o)return!1;const a=i[e];if(!a)return t.logWarning("Renderer is not registered!",e),!1;if(!a.isAvailable)return t.logWarning("Renderer is not available!",a.name),!1;try{if(await a.render(n,o,r))return t.logInfo("Successfuly rendered advertisment!",a.name,n),!0}catch(e){t.logError(e,"An error occured while trying to render ad!",a.name,n)}return t.logWarning("Failed to render ad using the renderer system!"),!1}}(d||(d={}));let _,k,A,T,E=[],S=null;function F(){if(S)for(let e of E)"resolve"===S.func?e[0](S.passedData):e[1](S.passedData)}!function(e){function i(){const e=n.findHighestWindow();let t=null,i=null,o=null,r=window;for(;!i;){try{if("function"==typeof r.__tcfapi){"function"==typeof r.__tcfapi&&(o=2,t=r.__tcfapi),i=r;break}}catch(e){}try{r.frames.__tcfapiLocator&&(o=2,i=r)}catch(e){}if(r===e)break;r=r.parent}return{cmpFunction:t,cmpFrame:i,cmpVersion:o}}e.findCMP=i,e.IsCMPAvailable=function(){return null!==i().cmpVersion},e.getTCString=async function(){return new Promise((function(e,t){const n=i();if(!n||!n.cmpFunction)return t("No CMP function found!");n.cmpFunction("getTCData",2,(function(n,i){return i?e(n.tcString):t("Failed to get TCData!")}))}))},e.WaitForConsent=function(){return new Promise((function(e,n){if(S)return t.logInfo("Already passed consent system! Continuing..."),"resolve"===S.func?e(S.passedData):n(S.passedData);if(E.push([e,n]),1===E.length){const{cmpFunction:e,cmpVersion:n}=i();if(!e)return S={func:"reject"},F();if(2!==n)return S={func:"resolve"},F();let o=!1;setTimeout((function(){o||(o=!0,S={func:"reject",passedData:"Timeout reached"},F())}),500);const r=function(n,i){if(!o){if(!i)return t.logProblem("Failed to set event listener for consent!"),o=!0,S={func:"resolve"},F();if("tcloaded"===n.eventStatus||"useractioncomplete"===n.eventStatus){if(t.logInfo("Successfully gotten tcloaded/useractioncomplete event!"),e("removeEventListener",2,(function(e){if(e)return t.logInfo("Successfully removed event listener for consent!")}),r),o)return;return o=!0,S={func:"resolve"},F()}}};e("addEventListener",2,r)}}))},e.RunTest=function(){const{cmpFunction:e,cmpVersion:n}=i();e&&2===n&&e("addEventListener",2,(function(e,n){n?t.logInfo("Caught tcdata",e):t.logProblem("Failed to set event listener for consent!")}))}}(_||(_={})),function(e){const o=n.findHighestWindow(),a="https://hbstat.contentexchange.me",s={},c={},d={},l={},u={},f={},g=i.getBexTag();g.adIdToResponses=g.adIdToResponses||{};const p=g.adIdToResponses,h=r.getPrebid();function b(e){if(!e)return t.logProblem("No adId specified!");const n=p[e];if(!n)return t.logProblem("Failed to find registered response",e);const i=new XMLHttpRequest;i.open("POST","".concat(a,"/click")),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.send(JSON.stringify(n)),t.logInfo("Sending click data",n)}function m(e){if(!e)return t.logProblem("No adId specified!");const n=p[e];if(!n)return t.logProblem("Failed to find registered response",e);const i=new XMLHttpRequest;i.open("POST","".concat(a,"/viewImpression")),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.send(JSON.stringify(n)),t.logInfo("Sending viewable impression data",n)}e.setWinningBid=function(e){if(!e)return t.logWarning("Bid was not specified!");const n=p[e.adId];if(!n)return t.logWarning("Failed to find registered response",e.adId);n.hasWon=!0},e.mapAdUnitBidder=function(e,t,n){e&&t&&n&&((f[e]=f[e]||{})[t]=n)},e.registerBidResponse=function(e,t){p[e]=t},e.sendAuctionData=function(e,i){var o=arguments;const r=Object.assign({},i.requests[0])||n.makeAuctionRequest("error","N/A",{});r.source=e?"no auctData":"no auctID";const a=function(){i.requests.push(r),t.logWarning(...o)};if(!e)return a("No auction id specified!");if(!d[e])return a("Failed to find registered auction",e);if(!s[e])return a("Failed to find registered auction",e);const c=[];for(let t of d[e])p[t]&&c.push(p[t]);const l=s[e];i.requests=i.requests.concat(l),i.responses=i.responses.concat(c);const u=s[e][0].placement;t.logInfo("Adding auction data ("+u+") "+e,{responses:c,requests:s[e]})},e.sendGoogleData=function(e,n,i,o){if(!e||!n)return t.logProblem("No id or slot specified!")},e.sendImpression=function(e){if(!e)return t.logProblem("No adId specified!");const n=p[e];if(!n)return t.logProblem("Failed to find registered response",e);const i=new XMLHttpRequest;i.open("POST","".concat(a,"/impression")),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.send(JSON.stringify(n)),t.logInfo("Sending impression data",n)},e.sendClick=b,e.sendViewableImpression=m,e.trackAdViewability=function(e,n){if(!e||!n)return t.logWarning("No adId or targetElement specified!");const i=new IntersectionObserver((function(t){for(let o of t)if(o.isIntersecting){m(e),i.unobserve(n);break}}),{root:null,rootMargin:"0px",threshold:.5});i.observe(n)},e.init=function(){return new Promise((function(e,i){o.focus(),o.addEventListener("blur",(function(){setTimeout((function(){const e=o.document.activeElement;if(!e)return;if("IFRAME"!==e.tagName)return;const t=e.getAttribute("data-adId");t&&(o.focus(),b(t))}),0)})),h.que.push((function(){if(!h.onEvent)return i("Failed to find onEvent function!");h.onEvent("auctionInit",(function(e){l[e.auctionId]=e,c[e.auctionId]={},d[e.auctionId]=[],u[e.auctionId]=e.labels||[],t.logInfo("Auction initialized",e)})),h.onEvent("bidRequested",(function(e){l[e.auctionId]||t.logProblem("Failed to find registered auction",e.auctionId);let i=n.findHighestDocument(),o=n.findHighestWindow(),r=(i.referrer||"").split("/")[2]||"direct",a=o!=top?n.fixDomain(r):n.fixDomain(o.location.host);e.bids.forEach((function(t){let n,o=t.adUnitCode,r=i.getElementById(o),d=r&&r.getAttribute("domain")||a,l=o.split("-"),u=l[l.length-2],g="native"in t.mediaTypes?"NATIVE":"DISPLAY";if("DISPLAY"===g&&"sizes"in t){const e=t.sizes[0];n={width:e[0],height:e[1]}}else n={width:0,height:0};let p=[];if("DISPLAY"===g&&"sizes"in t)for(let e of t.sizes)p.push({width:e[0],height:e[1]});else p.push({width:0,height:0});const h=t.mediaType,b=c[e.auctionId][e.bidderCode+"_"+h]={id:f["div-ppas-mid-"+u][e.bidderCode+"_"+h],domain:d,placement:u,source:e.bidderCode,placement_size:n,availableSizes:p,size:null,type:g,mediaType:h,hasResponse:!1,hasWon:!1,cpm:0};(s[e.auctionId]=s[e.auctionId]||[]).push(b)}))})),h.onEvent("bidResponse",(function(e){if(!l[e.auctionId])return t.logProblem("Failed to find registered auction",e.auctionId);const n=c[e.auctionId][e.bidderCode+"_"+e.mediaType];if(!n)return t.logProblem("Failed to find registered request",e.bidderCode,e.mediaType,c[e.auctionId]);const i=Object.assign({},n);i.hasResponse=!0,i.cpm=e.cpm,"NATIVE"===i.type?i.size={width:0,height:0}:i.size={width:e.width,height:e.height},"contentexchange"===e.bidderCode&&(i.cpm=i.cpm/(.95*.65)),d[e.auctionId].push(e.adId),p[e.adId]=i})),e()}))}))}}(k||(k={})),function(e){let t;!function(e){e.Request="request",e.Response="response",e.Fallback="fallback",e.FallbackRequest="fallback_request"}(t||(t={})),n.isDevelMode();const i=(n.findHighestWindow(),r.getPrebid()),o={},a={};e.sendAuctionData=function(e,n){t.Request,o[n],t.Response,a[n]},e.sendFallbackData=function(e,n){t.Fallback},e.sendFallbackRequestData=function(e){t.FallbackRequest},e.initPrebid=function(){return new Promise((function(e,t){i.que.push((function(){if(!i.onEvent)return t("Failed to find onEvent function!");i.onEvent("bidRequested",(function(e){o[e.auctionId]=o[e.auctionId]||[];const t=JSON.parse(JSON.stringify(e));t.gdprConsent&&delete t.gdprConsent,o[e.auctionId].push(t)})),i.onEvent("bidResponse",(function(e){a[e.auctionId]=a[e.auctionId]||[],a[e.auctionId].push(e)})),e()}))}))}}(A||(A={})),function(e){const n=[],i=r.getPrebid();function o(e){return new Promise((function(e,t){return e}))}e.sendAdUnit=function(e,r=[],a){let{floorPrice:s,ssp_id:c,strict_check:d,market:l,domain:u}=a;return s=s||0,new Promise((function(a,d){t.logInfo("Sending pbjs bid request",e),i.que.push((function(){if(!i.requestBids)return a({id:e[0].code,winner:null,auctionId:null,responses:[]});if(c){const e={validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"ssp.adnetwork.agency",sid:c,hp:1}]}};i.setConfig&&i.setConfig({schain:e})}i.setConfig&&i.setConfig({cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"}}),i.bidderSettings={standard:{storageAllowed:!0}};var d=e[0];i.requestBids({adUnits:e,labels:r,bidsBackHandler:async function(e,r,c){if(t.logInfo("Got prebid responses",e,"for auction",c,"for adUnit",d.code),!e)return a({id:d.code,winner:null,auctionId:c,responses:[]});const l=e[d.code];let u=[];if(!l)return a({id:d.code,winner:null,auctionId:c,responses:[]});l.bids.length&&(u=function(e,t){let n=[];if(!e.length)return n;for(let i of e)"contentexchange"===i.bidderCode&&(i.cpm=i.cpm/(.95*.65)),i.cpm<t||n.push(i);return n.sort((function(e,t){return t.cpm-e.cpm}))}(l.bids,s)),u.length||u.length===l.bids.length||t.logWarning("Floor price has not been met! Ignoring...",d.code);let f=null;if(u.length){for(;!f&&u.length;){const e=u.shift();if(e){if("video"==e.mediaType&&o(),e.native&&n.includes(e.bidderCode))try{if(!await new Promise((function(e,t){return e})))continue}catch(e){t.logError(e,"Failed to scan bid!")}f=e}}f||t.logWarning("No bid has been allowed to be displayed! Ignoring...")}return f&&i.setWinningBid&&(i.setWinningBid(f.adId),"video"==f.mediaType&&o()),a({id:d.code,winner:f,auctionId:c,responses:l.bids})}})}))}))},e.init=function(){return new Promise((function(e,n){const o=document.createElement("script");o.src="https://hb.contentexchange.me/prebid",o.async=!0,o.onerror=function(){return n("Error loading prebid script!")},document.head.appendChild(o),i.que.push((async function(){const n={currency:{adServerCurrency:"EUR",conversionsRateFile:"https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json?date=$$TODAY$$",bidderCurrencyDefault:{contentexchange:"USD"}},realTimeData:{dataProviders:[{name:"geoedge",params:{key:"###GRUMI_KEY###"}}]}};_.IsCMPAvailable()&&(n.consentManagement={gdpr:{cmpApi:"iab",timeout:5e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1}},t.logInfo("Found CMP, using consent manager...")),n.userSync={aliasSyncEnabled:!0,userIds:[{name:"firstpartyid",bidders:["adformOpenRTB"],storage:{type:"cookie",name:"cx_id",expires:720}}],syncDelay:1e3},n.enableTIDs=!0,i.setConfig&&i.setConfig(n),await k.init(),await A.initPrebid(),e()}))}))}}(T||(T={}));const P=window,H=i.getBexTag();H._internals.loaders,P.bex=P.bex||{},P.bex.loaders=P.bex.loaders||{},P.bex.loaders.loadNativeWidget=function(e){var r=this;const a=n.findHighestWindow(),s=a.location.search.includes("bex_noadform=true")||a.location.search.includes("bex_keeponly")&&!a.location.search.includes("bex_keeponly=direct"),c=a.location.search.includes("bex_keeponly=direct"),d=e.develMode?i.getBexDevTag():H,l=H.onBexAdSuccess,u=H.targeting,f=d.headerbidding,g=d._internals.headerbidding,p=g.bexNativeHB,h=(g.bexDisplayHB,o.getAdformTag()),b=[];t.setAllowLogging(e.develMode);const m=document.currentScript;if(!m)return t.logProblem("Failed to find current script!");const x=m.parentElement;if(!x)return t.logProblem("Failed to find root element");const y=x.querySelectorAll(".\\$bexAd_post");if(y.length<1)return t.logWarning("Failed to find any bex posts in element!",x);function v(e,t,i){c||(n.filterConfig(e),f.queue.push((async function(){await p.executeAd(e.placement,t,i)})))}function w(e){e&&e.parentElement&&e.parentElement.removeChild(e)}function I(e){const t=document.createElement("script");if(e&&u.segment)for(let e of b){if(!e)continue;let t=e.getAttribute("data-adfscript");e.setAttribute("data-adfscript","".concat(t,"&mkw=").concat(encodeURIComponent(u.segment)))}t.src="https://s1.adform.net/banners/scripts/adx.js",t.async=!0,t.defer=!0,t.onerror=function(){for(let e of b)e&&w(e.parentElement)},setTimeout((function(){return document.body.appendChild(t)}),10)}function _(e,n,i){if(n.placement.noLazy){try{i()}catch(e){t.logError(e,"Failed to execute code after intersect!")}return}const o=new IntersectionObserver((function(n){for(let r of n)if(r.isIntersecting){t.logInfo("Caught native intersection handle!",e),o.unobserve(e);try{i()}catch(e){t.logError(e,"Failed to execute code after intersect!")}break}}),{root:null,rootMargin:"350px 0px 350px 0px",threshold:0});o.observe(e)}"www.slovenskenovice.si"===window.location.host&&(t.logInfo("Detected SlovenskeNovice, using iprom bypass..."),window.afterIpromPrebid=window.afterIpromPrebid||[]),e.develMode?n.findHighestDocument().querySelector("#".concat(n.hbdevFrameId))||n.initalizeHb(e.source,n.hbdevFrameId):n.findHighestDocument().querySelector("#".concat(n.hbFrameId))||n.initalizeHb(e.source,n.hbFrameId),t.logInfo("Loading widget ad for",x,"should use adform bypass",s);const A={},T=[];for(let i of e.posts){if(!i||!i.position||!i.placement||i.position>y.length)continue;let o=y[i.position-1],r=document.createElement("div");r.className="cex-adform-container cex-adform-style",r.style.zIndex="-5",Object.assign(r.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",background:"white"}),o.appendChild(r);const a="div-widget-"+i.placement.id+"-"+Math.floor(1e4*Math.random());o.id=a,o.setAttribute("widget_id",e.widget_id),o=r;const c={requests:[],responses:[]},l=n.makeAuctionRequest("adform-direct",a,i.placement);c.requests.push(l);const u="adx.adform.net/adx/?mid="+i.placement.id+"&rnd="+String(n.getRandomInt(1,1e4));s?A[u]={loaded:!1,auctionData:c}:(T.push(u),d.placementHandlers=d.placementHandlers||{},A[u]=new Promise((function(o,r){d.placementHandlers[u]=function(r){if(t.logInfo("ON_ LOAD",e.widget_id,i.placement.id,r?.place?"visible":"hidden",r?.isEmpty?"fallback":"hit",r),r&&!r.isEmpty){t.logInfo("direct-native resposnse",r);const e=n.makeAuctionResponse("adform-direct",a,i.placement);e.hasWon=!0,c.responses.push(e),k.registerBidResponse(a,e),o({loaded:!0,auctionData:c})}else o({loaded:!1,auctionData:c})}})),h.push((function(){h.onLoaded(Number(i.placement.id),(function(e){d.placementHandlers[e.data](e)})),h.onRendered(Number(i.placement.id),(function(n){if(t.logInfo("ON_ RENDER",i.position,e.widget_id,i.placement.id,n.ad.parentElement),!n||!n.ad||!n.ad.parentElement)return;const o=n.ad.parentElement?.parentElement;if(!o)return t.logInfo("NO ELEMENT FOR widget post",i);const r=o.getAttribute("id")||"";k.sendImpression(r),k.trackAdViewability(r,o),o.querySelectorAll("a.\\$bexAd_clickUrl_href").forEach((function(e){e.addEventListener("click",(function(e){t.logInfo("sending direct-native click",e),k.sendClick(r)}))}))}))}))),_(o,i,(async function(){const{loaded:e,auctionData:r}=await A[u];if(e){n.sendAuctionData(r),t.logInfo("Sending native data for adform-direct",e?"hit":"fallback",r);let i=document.createElement("script");i.setAttribute("data-adfscript",u),b.push(i),i.onerror=function(){const e=b.indexOf(i);-1!==e&&b.splice(e,1),w(o)},o.appendChild(i)}else v(i,o,r)}))}if(T.length&&(t.logInfo("ADFORM PRELOAD WIDGET",T),h.push({preload:T})),l.push((function(e){e&&e.classList.contains("bexAdloaded")&&(t.logInfo("Successfully loaded direct-native ad!",e),e.classList.contains("cex-ad-loaded")||e.classList.add("cex-ad-loaded"))})),!e.allowKeywords||!u.segment&&u.loaded)I(!1);else if(u.segment)I(!0);else{setTimeout((function(){u.loaded||(u.loaded=!0,I(!1))}),300);let e=new XMLHttpRequest;e.addEventListener("load",(function(){u.loaded=!0,u.segment=r.responseText,I(!0)})),e.open("GET","https://analytics.contentexchange.me/bex/keywords"),e.withCredentials=!0,e.send()}d.sendQueue.push({type:"widget",id:e.widget_id}),delete P.bex.loaders.loadNativeWidget};var D=self;for(var R in e)D[R]=e[R];e.__esModule&&Object.defineProperty(D,"__esModule",{value:!0})})();window.bex.loaders.loadNativeWidget({"widget_id":"oL5JShcfwhgrMjQp5","posts":[{"position":2,"useContainer":true,"placement":{"id":"691487","type":"HB-Google","noLazy":false,"adFormat":"in widget","ssp_id":"27","strict_check":false,"market":"rs","domain":"www.telegraf.rs","adType":"NATIVE","size":[0,0],"execList":{"type":"headerbidding","config":{"id":"div-ppas-mid-691487","translation":"Reklama","floorPrice":0.1785,"bids":[{"bidder":"adformOpenRTB","mediaType":"native","params":{"mid":"733010"}},{"bidder":"criteo","mediaType":"native","params":{"zoneId":"1412679"}},{"bidder":"appnexus","mediaType":"native","params":{"placementId":"18852830"}},{"bidder":"mgid","mediaType":"native","params":{"accountId":305,"placementId":"893499"}},{"bidder":"contentexchange","mediaType":"native","params":{"placementId":"368","adFormat":"native"}}],"adFormat":"in widget","ssp_id":"27","strict_check":false,"market":"rs","domain":"www.telegraf.rs","type":"NATIVE"},"next":{"type":"google","config":{"Placement_ID":"691487","domain":"www.telegraf.rs","Google":{"Key":"-7i+er-k-t+3r","Slot":"7432574831"},"ignoreDiv":false},"next":{"type":"adform","config":"1730205"}}}}},{"position":4,"useContainer":true,"placement":{"id":"800537","type":"HB-Google","noLazy":false,"adFormat":"in widget","ssp_id":"27","strict_check":false,"market":"rs","domain":"www.telegraf.rs","adType":"NATIVE","size":[0,0],"execList":{"type":"headerbidding","config":{"id":"div-ppas-mid-800537","translation":"Reklama","floorPrice":0.1785,"bids":[{"bidder":"adformOpenRTB","mediaType":"native","params":{"mid":"795962"}},{"bidder":"criteo","mediaType":"native","params":{"zoneId":"1412679"}},{"bidder":"appnexus","mediaType":"native","params":{"placementId":"18852839"}},{"bidder":"mgid","mediaType":"native","params":{"accountId":305,"placementId":"893499"}},{"bidder":"contentexchange","mediaType":"native","params":{"placementId":"369","adFormat":"native"}}],"adFormat":"in widget","ssp_id":"27","strict_check":false,"market":"rs","domain":"www.telegraf.rs","type":"NATIVE"},"next":{"type":"google","config":{"Placement_ID":"800537","domain":"www.telegraf.rs","Google":{"Key":"-76+er-k-t+3r","Slot":"9885649916"},"ignoreDiv":false},"next":{"type":"adform","config":"1730205"}}}}},{"position":5,"useContainer":true,"placement":{"id":"800538","type":"HB-Google","noLazy":false,"adFormat":"in widget","ssp_id":"27","strict_check":false,"market":"rs","domain":"www.telegraf.rs","adType":"NATIVE","size":[0,0],"execList":{"type":"headerbidding","config":{"id":"div-ppas-mid-800538","translation":"Reklama","floorPrice":0.1785,"bids":[{"bidder":"adformOpenRTB","mediaType":"native","params":{"mid":"795964"}},{"bidder":"criteo","mediaType":"native","params":{"zoneId":"1412679"}},{"bidder":"appnexus","mediaType":"native","params":{"placementId":"18852841"}},{"bidder":"mgid","mediaType":"native","params":{"accountId":305,"placementId":"893499"}},{"bidder":"contentexchange","mediaType":"native","params":{"placementId":"370","adFormat":"native"}}],"adFormat":"in widget","ssp_id":"27","strict_check":false,"market":"rs","domain":"www.telegraf.rs","type":"NATIVE"},"next":{"type":"google","config":{"Placement_ID":"800538","domain":"www.telegraf.rs","Google":{"Key":"-7i+er-k-t+3r","Slot":"2454431196"},"ignoreDiv":false},"next":{"type":"adform","config":"1730205"}}}}}],"source":"hb.contentexchange.me","allowKeywords":false,"develMode":false,"generated":"2024-01-22T19:23:11.513Z"});