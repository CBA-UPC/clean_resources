!function(t){"use strict";ar n=e(datawrapper.libraries.mapboxgl),r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};tion l(){}ototype={constructor:h,appendChild:insertBefore:querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var d="$";(var n=R(t),r=-1,i=e.length;++r<i;)n.add(e[r])}unction k(t){return function(){A(this,t)}}nction j(){this.textContent=""}function G(t){return function(){this.textContent=t}}function B(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}ion H(){return null}unction $(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}.prototype={add:remove:contains:;var J={},K=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(J={mouseenter:"mouseover",mouseleave:"mouseout"}));[null];rototype=ut.prototype={constructor:st,select:selectAll:filter:data:enter:function(){return new st(this._enter||this._groups.map(f),this._parents)},exit:join:merge:order:sort:call:nodes:node:size:empty:each:attr:style:property:classed:text:function(t){return arguments.length?this.each(null==t?j:("function"==typeof t?B:G)(t)):this.node().textContent},html:raise:function(){return this.each(Y)},lower:function(){return this.each(X)},append:insert:remove:clone:datum:on:dispatch:;var pt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};ar ht=var dt=function(t){return t},gt=ht,yt=Math.max;var mt=var _t=vt="object"==typeof pt&&pt&&pt.Object===Object&&pt,bt=vt,xt="object"==typeof self&&self&&self.Object===Object&&self,wt=bt||xt||Function("return this")(),Et=wt.Symbol,Nt=Et,It=Object.prototype,St=It.hasOwnProperty,Ct=It.toString,Lt=Nt?Nt.toStringTag:void 0;var Mt=Ot=Object.prototype.toString;var Pt=Mt,Rt=function(t){return Ot.call(t)},Tt=Et?Et.toStringTag:void 0;var At=var Dt=kt=At,Ft=Dt;var zt,jt=Gt=wt["__core-js_shared__"],Bt=(zt=/[^.]+$/.exec(Gt&&Gt.keys&&Gt.keys.IE_PROTO||""))?"Symbol(src)_1."+zt:"";var qt=Ut=Function.prototype.toString;var Vt=Yt=jt,Xt=qt,Ht=Dt,Wt=Vt,$t=/^\[object .+?Constructor\]$/,Zt=Function.prototype,Jt=Object.prototype,Kt=Zt.toString,Qt=Jt.hasOwnProperty,te=RegExp("^"+Kt.call(Qt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ee=ne=re=ee;var ie=oe=ie,ae=),se=_t,ue=ae,le=ue?dt,ce=Date.now;var pe=fe=pe(le),he=dt,de=mt,ge=fe;var ye=var me=var _e=ve=_e;var be=xe=be,we=Array.prototype.splice;var Ee=be;var Ne=be;var Ie=be;var Se=me,Ce=Le=Me=Oe=function Pe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pe.prototype.clear=Se,Pe.prototype.delete=Ce,Pe.prototype.get=Le,Pe.prototype.has=Me,Pe.prototype.set=Oe;var Re=Pe,Te=Re;var Ae=var De=var ke=function(t){return this.__data__.get(t)};var Fe=function(t){return this.__data__.has(t)},ze=ie(wt,"Map"),je=ie(Object,"create"),Ge=je;var Be=var qe=Ue=je,Ve=Object.prototype.hasOwnProperty;var Ye=Xe=je,He=Object.prototype.hasOwnProperty;var We=je;var $e=Be,Ze=qe,Je=Ye,Ke=Qe=function tn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tn.prototype.clear=$e,tn.prototype.delete=Ze,tn.prototype.get=Je,tn.prototype.has=Ke,tn.prototype.set=Qe;var en=tn,nn=Re,rn=ze;var on=var an=sn=an;var un=ln=an;var cn=an;var pn=an;var fn=hn=dn=un,gn=function(t){return ln(this,t).get(t)},yn=mn=fn;n.prototype.clear=hn,_n.prototype.delete=dn,_n.prototype.get=gn,_n.prototype.has=yn,_n.prototype.set=mn;var vn=_n,bn=Re,xn=ze,wn=vn;var En=Nn=Re,In=Ae,Sn=De,Cn=ke,Ln=Fe,Mn=En;n.prototype.clear=In,On.prototype.delete=Sn,On.prototype.get=Cn,On.prototype.has=Ln,On.prototype.set=Mn;var Pn=On,Rn=ae;var Tn=An=Tn,Dn=_e;var kn=var Fn=zn=Fn(),jn={exports:{}};!jn,jn.exports);var Gn=jn.exports,Bn=wt.Uint8Array,qn=Bn;var Un=Vn=Un;var Yn=var Xn=Hn=Dt,Wn=Object.create,$n=),Zn=$n;var Jn=Kn=Jn(Object.getPrototypeOf,Object),Qn=Object.prototype;var tr=er=Zn,nr=Kn,rr=tr;var ir=var or=ar=At,sr=or;var ur=lr=or,cr=Object.prototype,pr=cr.hasOwnProperty,fr=cr.propertyIsEnumerable,hr=ur(function(){return arguments}())?ur:dr=hr,gr=Array.isArray;var yr=mr=jt,_r=yr;var vr=br=vr,xr=or;var wr=Er={exports:{}};var Nr=function(){return!1};!Er,Er.exports);var Ir=Er.exports,Sr=At,Cr=Kn,Lr=or,Mr=Function.prototype,Or=Object.prototype,Pr=Mr.toString,Rr=Or.hasOwnProperty,Tr=Pr.call(Object);var Ar=Dr=At,kr=yr,Fr=or,zr={};zr["[object Float32Array]"]=zr["[object Float64Array]"]=zr["[object Int8Array]"]=zr["[object Int16Array]"]=zr["[object Int32Array]"]=zr["[object Uint8Array]"]=zr["[object Uint8ClampedArray]"]=zr["[object Uint16Array]"]=zr["[object Uint32Array]"]=!0,zr["[object Arguments]"]=zr["[object Array]"]=zr["[object ArrayBuffer]"]=zr["[object Boolean]"]=zr["[object DataView]"]=zr["[object Date]"]=zr["[object Error]"]=zr["[object Function]"]=zr["[object Map]"]=zr["[object Number]"]=zr["[object Object]"]=zr["[object RegExp]"]=zr["[object Set]"]=zr["[object String]"]=zr["[object WeakMap]"]=!1;var jr=var Gr=Br={exports:{}};!Br,Br.exports);var qr=Br.exports,Ur=jr,Vr=Gr,Yr=qr&&qr.isTypedArray,Xr=Yr?Vr(Yr):Ur;var Hr=Wr=Tn,$r=_e,Zr=Object.prototype.hasOwnProperty;var Jr=Kr=Jr,Qr=Tn;var ti=var ei=ni=/^(?:0|[1-9]\d*)$/;var ri=ii=ei,oi=dr,ai=gr,si=Ir,ui=ri,li=Xr,ci=Object.prototype.hasOwnProperty;var pi=var fi=hi=Dt,di=tr,gi=fi,yi=Object.prototype.hasOwnProperty;var mi=_i=pi,vi=mi,bi=vr;var xi=wi=ti,Ei=xi;var Ni=kn,Ii=Gn,Si=Yn,Ci=Xn,Li=ir,Mi=dr,Oi=gr,Pi=wr,Ri=Ir,Ti=jt,Ai=Dt,Di=Ar,ki=Xr,Fi=Hr,zi=var ji=Gi=Pn,Bi=kn,qi=zn,Ui=ji,Vi=Dt,Yi=xi,Xi=Hr;var Hi=Wi=Hi,$i=Dt;var Zi=Ji=_e,Ki=vr,Qi=ri,to=Dt;var eo=no=ye,ro=eo;var io=oo=Hi,ao=io((),so=ht,uo=Zi,lo=ao,co=ft(ye(());ar fo="1.13.6",ho="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},go=Array.prototype,yo=Object.prototype,mo="undefined"!=typeof Symbol?Symbol.prototype:null,_o=go.push,vo=go.slice,bo=yo.toString,xo=yo.hasOwnProperty,wo="undefined"!=typeof ArrayBuffer,Eo="undefined"!=typeof DataView,No=Array.isArray,Io=Object.keys,So=Object.create,Co=wo&&ArrayBuffer.isView,Lo=isNaN,Mo=isFinite,Oo=!{toString:null}.propertyIsEnumerable("toString"),Po=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Ro=Math.pow(2,53)-1;o=Fo("String"),jo=Fo("Number"),Go=Fo("Date"),Bo=Fo("RegExp"),qo=Fo("Error"),Uo=Fo("Symbol"),Vo=Fo("ArrayBuffer"),Yo=Fo("Function"),Xo=ho.document&&ho.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof Xo&&(Yo=;var Ho=Yo,Wo=Fo("Object"),$o=Eo&&Wo(new DataView(new ArrayBuffer(8))),Zo="undefined"!=typeof Map&&Wo(new Map),Jo=Fo("DataView");var Ko=$o?Jo,Qo=No||Fo("Array");ar ea=Fo("Arguments");!);var na=ea;sa=aa("byteLength"),ua=oa(sa),la=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var ca=wo?ia(!1),pa=aa("length");RSION=fo,ga.prototype.value=function(){return this._wrapped},ga.prototype.valueOf=ga.prototype.toJSON=ga.prototype.value,ga.prototype.toString=function(){return String(this._wrapped)};var ma="[object DataView]";a="forEach",Na=["clear","delete"],Ia=["get","has","set"],Sa=Na.concat(Ea,Ia),Ca=Na.concat(Ia),La=["add"].concat(Na,Ea,"has"),Ma=Zo?wa(Sa):Fo("Map"),Oa=Zo?wa(Ca):Fo("WeakMap"),Pa=Zo?wa(La):Fo("Set"),Ra=Fo("WeakSet");Fa=ka(xa),za=ka(ha),ja=ka(xa,!0);nction qa(t){return ga.toPath(t)}nction Ya(t){return t}on Ka(){}a.toPath=Ba,ga.iteratee=Za;var ts=Date.now||ar ns={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},rs=es(ns),is=es(Aa(ns)),os=ga.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},as=/(.)^/,ss={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},us=/\\|'|\r|\n|\u2028|\u2029/g;ar cs=/^\s*(\w|\$)+\s*$/;var ps=0;ar hs=To(();hs.placeholder=ga;var ds=To((),gs=oa(pa);ar ms=To(();var _s=To((),vs=hs(_s,ga,1);r ws=hs(xs,2);r Is=Ns(1),Ss=Ns(-1);r Ms=Ls(1,Is,Cs),Os=Ls(-1,Ss);unction Rs(t,e){return Ps(t,Xa(e))} ks=Ds(1),Fs=Ds(-1);qs=To(();r Ys=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g; $s=Ws((),Zs=Ws((),Js=Ws((),Ks=Ws((,!0);ar tu=To((),eu=To((); ou=To((),au=To((function(t,e){return ou(t,e)}));ar uu=To(();ar cu=To(lu);["pop","push","reverse","shift","sort","splice","unshift"],(),Ts(["concat","join","slice"],();var du=Object.freeze({__proto__:null,VERSION:fo,restArguments:To,isObject:Ao,isNull:function(t){return null===t},isUndefined:Do,isBoolean:ko,isElement:isString:zo,isNumber:jo,isDate:Go,isRegExp:Bo,isError:qo,isSymbol:Uo,isArrayBuffer:Vo,isDataView:Ko,isArray:Qo,isFunction:Ho,isArguments:na,isFinite:isNaN:ra,isTypedArray:ca,isEmpty:isMatch:da,isEqual:ba,isMap:Ma,isWeakMap:Oa,isSet:Pa,isWeakSet:Ra,keys:ha,allKeys:xa,values:Ta,pairs:invert:Aa,functions:Da,methods:Da,extend:Fa,extendOwn:za,assign:za,defaults:ja,create:clone:tap:function(t,e){return e(t),t},get:Va,has:mapObject:identity:Ya,constant:ia,noop:Ka,toPath:Ba,property:Ha,propertyOf:matcher:Xa,matches:Xa,times:random:Qa,now:ts,escape:rs,unescape:is,templateSettings:os,template:result:uniqueId:chain:iteratee:Za,partial:hs,bind:ds,bindAll:ms,memoize:delay:_s,defer:vs,throttle:debounce:wrap:function(t,e){return hs(e,t)},negate:bs,compose:after:before:xs,once:ws,findKey:Es,findIndex:Is,findLastIndex:Ss,sortedIndex:Cs,indexOf:Ms,lastIndexOf:Os,find:Ps,detect:Ps,findWhere:Rs,each:Ts,forEach:Ts,map:As,collect:As,reduce:ks,foldl:ks,inject:ks,reduceRight:Fs,foldr:Fs,filter:zs,select:zs,reject:every:js,all:js,some:Gs,any:Gs,contains:Bs,includes:Bs,include:Bs,invoke:qs,pluck:Us,where:max:Vs,min:shuffle:sample:Hs,sortBy:groupBy:$s,indexBy:Zs,countBy:Js,partition:Ks,toArray:Xs,size:pick:tu,omit:eu,first:ru,head:ru,take:ru,initial:nu,last:rest:iu,tail:iu,drop:iu,compact:function(t){return zs(t,Boolean)},flatten:without:au,uniq:su,unique:su,union:uu,intersection:difference:ou,unzip:lu,transpose:lu,zip:cu,object:range:pu,chunk:mixin:hu,default:ga}),gu=hu(du);nction _u(){}gu._=gu;var vu=.7,bu=1/vu,xu="\\s*([+-]?\\d+)\\s*",wu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Eu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nu=/^#([0-9a-f]{3,8})$/,Iu=new RegExp("^rgb\\("+[xu,xu,xu]+"\\)$"),Su=new RegExp("^rgb\\("+[Eu,Eu,Eu]+"\\)$"),Cu=new RegExp("^rgba\\("+[xu,xu,xu,wu]+"\\)$"),Lu=new RegExp("^rgba\\("+[Eu,Eu,Eu,wu]+"\\)$"),Mu=new RegExp("^hsl\\("+[wu,Eu,Eu]+"\\)$"),Ou=new RegExp("^hsla\\("+[wu,Eu,Eu,wu]+"\\)$"),Pu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ru(){return this.rgb().formatHex()}ion zu(t,e,n,r){return 1===arguments.length?Fu(t):new ju(t,e,n,null==r?1:r)}function ju(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ion Yu(t,e,n,r){return 1===arguments.length?Vu(t):new Xu(t,e,n,null==r?1:r)}function Xu(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}u(_u,Au,{copy:displayable:function(){return this.rgb().displayable()},hex:Ru,formatHex:Ru,formatHsl:function(){return Vu(this).formatHsl()},formatRgb:Tu,toString:Tu}),yu(ju,zu,mu(_u,{brighter:function(t){return t=null==t?bu:Math.pow(bu,t),new ju(this.r*t,this.g*t,this.b*t,this.opacity)},darker:rgb:displayable:hex:Gu,formatHex:Gu,formatRgb:Bu,toString:Bu})),yu(Xu,Yu,mu(_u,{brighter:function(t){return t=null==t?bu:Math.pow(bu,t),new Xu(this.h,this.s,this.l*t,this.opacity)},darker:rgb:displayable:formatHsl:));var Wu=Math.PI/180,$u=180/Math.PI,Zu=.96422,Ju=1,Ku=.82521,Qu=4/29,tl=6/29,el=3*tl*tl,nl=tl*tl*tl;unction il(t,e,n,r){return 1===arguments.length?rl(t):new ol(t,e,n,null==r?1:r)}function ol(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}mu(_u,{brighter:darker:rgb:)),yu(fl,(,mu(_u,{brighter:darker:rgb:));const gl=t=>Array.isArray(t);r _l={version:8,name:"Positron",metadata:{copyright:"Copyright (c) 2016, KlokanTech.com & OpenMapTiles contributors. Copyright (c) 2015, CartoDB Inc. All rights reserved. Derived from 'CartoDB Basemaps' (https://github.com/CartoDB/CartoDB-basemaps) designed by Stamen and Paul Norman for CartoDB Inc., licensed under CC-BY 3.0.","mapbox:autocomposite":!1,"mapbox:type":"template","mapbox:groups":{b6371a3f2f5a9932464fa3867530a2e5:{name:"Transportation",collapsed:!1},a14c9607bc7954ba1df7205bf660433f:{name:"Boundaries"},"101da9f13b64a08fa4b6ac1168e89e5f":{name:"Places",collapsed:!1}}},bearing:0,pitch:0,transition:{duration:0,delay:0},sources:{openmaptiles:{type:"vector",tiles:[],minzoom:0,maxzoom:14},terrain:{type:"vector",tiles:[],minzoom:3,maxzoom:10},"country-borders":{type:"vector",minzoom:8,maxzoom:10,tiles:[]}},sprite:"https://tiles.dwcdn.net/sprites/dwsprites",glyphs:"https://tiles.dwcdn.net/glyphs/{fontstack}/{range}.pbf",layers:[{id:"background",type:"background",paint:{"background-color":"%colors.land%"}},{id:"landuse_residential",type:"fill",source:"openmaptiles","source-layer":"landuse",maxzoom:22,filter:["all",["==","$type","Polygon"],["==","class","residential"]],layout:{visibility:"visible"},paint:{"fill-color":"%colors.housing-light%","fill-opacity":{base:.6,stops:[[8,.8],[9,.6]]}}},{id:"landcover_ice",type:"fill",source:"openmaptiles","source-layer":"landcover",filter:["==","class","ice"],layout:{visibility:"none"},paint:{"fill-color":"%colors.ice%","fill-outline-color":"rgba(0,0,0,0)","fill-opacity":{base:1,stops:[[0,.9],[3.99,.75],[4,.65],[6.99,.4325],[7,.5625],[7.99,.5],[8,.375],[8.99,.375],[9,.5]]}}},{id:"landcover_grass",type:"fill",source:"openmaptiles","source-layer":"landcover",filter:["==","class","grass"],layout:{visibility:"visible"},paint:{"fill-color":"%colors.green-light%","fill-opacity":{base:1,stops:[[4,.3],[6,1]]}}},{id:"park",type:"fill",source:"openmaptiles","source-layer":"park",filter:!1,layout:{visibility:"visible"},paint:{"fill-color":"%colors.green%","fill-opacity":{base:1,stops:[[4,.3],[6,1]]}}},{id:"landcover_wood",type:"fill",source:"openmaptiles","source-layer":"landcover",filter:["==","class","wood"],layout:{visibility:"visible"},paint:{"fill-color":"%colors.green-dark%","fill-opacity":{base:1,stops:[[4,.2],[6,1]]}}},{id:"mountains_1",type:"fill",source:"terrain","source-layer":"relief",filter:["==","shadow",1],maxzoom:12,paint:{"fill-color":"%colors.mountains-light%","fill-opacity":{base:0,stops:[[3,.0041],[3.1,.083],[3.2,.125],[3.3,.16],[3.4,.21],[3.5,.25],[6,.25],[11.5,.21],[11.6,.16],[11.7,.125],[11.8,.083],[11.9,.0041]]},"fill-outline-color":"rgba(0,0,0,0)"},layout:{visibility:"none"}},{id:"mountains_2",type:"fill",source:"terrain","source-layer":"relief",filter:["==","shadow",2],maxzoom:12,paint:{"fill-color":"%colors.mountains-light%","fill-opacity":{base:0,stops:[[3,.0041],[3.1,.083],[3.2,.125],[3.3,.16],[3.4,.21],[3.5,.25],[6,.25],[11.5,.21],[11.6,.16],[11.7,.125],[11.8,.083],[11.9,.0041]]},"fill-outline-color":"rgba(0,0,0,0)"},layout:{visibility:"none"}},{id:"mountains_3",type:"fill",source:"terrain","source-layer":"relief",filter:["all",["==","shadow",3],["!=","source_id",2598],["!=","source_id",4847],["!=","source_id",4851]],maxzoom:12,paint:{"fill-color":"%colors.mountains-dark%","fill-opacity":{base:0,stops:[[3,.0041],[3.1,.083],[3.2,.125],[3.3,.16],[3.4,.21],[3.5,.25],[6,.18],[11.5,.15],[11.6,.12],[11.7,.09],[11.8,.06],[11.9,.03]]},"fill-outline-color":"rgba(0,0,0,0)"},layout:{visibility:"none"}},{id:"mountains_4",type:"fill",source:"terrain","source-layer":"relief",filter:["all",["==","shadow",4],["!=","source_id",4848],["!=","source_id",4852]],maxzoom:12,paint:{"fill-color":"%colors.mountains-dark%","fill-opacity":{base:.25,stops:[[3,.0041],[3.1,.083],[3.2,.125],[3.3,.16],[3.4,.21],[3.5,.25],[6,.18],[11.5,.15],[11.6,.12],[11.7,.09],[11.8,.06],[11.9,.03]]},"fill-outline-color":"rgba(0,0,0,0)"},layout:{visibility:"none"}},{id:"mountains_5",type:"fill",source:"terrain","source-layer":"relief",filter:["all",["==","shadow",5],["!=","source_id",4849]],maxzoom:12,paint:{"fill-color":"%colors.mountains-dark%","fill-opacity":{base:.25,stops:[[3,.0041],[3.1,.083],[3.2,.125],[3.3,.16],[3.4,.21],[3.5,.25],[6,.18],[11.5,.15],[11.6,.12],[11.7,.09],[11.8,.06],[11.9,.03]]},"fill-outline-color":"rgba(0,0,0,0)"},layout:{visibility:"none"}},{id:"mountains_6",type:"fill",source:"terrain","source-layer":"relief",filter:["==","shadow",6],maxzoom:12,paint:{"fill-color":"%colors.mountains-dark%","fill-opacity":{base:.25,stops:[[3,.0041],[3.1,.083],[3.2,.125],[3.3,.16],[3.4,.21],[3.5,.25],[6,.18],[11.5,.15],[11.6,.12],[11.7,.09],[11.8,.06],[11.9,.03]]},"fill-outline-color":"rgba(0,0,0,0)"},layout:{visibility:"none"}},{id:"waterway",type:"line",source:"openmaptiles","source-layer":"waterway",filter:["==","$type","LineString"],layout:{visibility:"visible"},paint:{"line-color":"%colors.water%"}},{id:"water-outline",type:"line",source:"openmaptiles","source-layer":"water",filter:["==","$type","Polygon"],layout:{visibility:"visible"},paint:{"line-color":"%colors.water-outline%","line-width":2}},{id:"water",type:"fill",source:"openmaptiles","source-layer":"water",filter:["==","$type","Polygon"],layout:{visibility:"visible"},paint:{"fill-color":"%colors.water%","fill-antialias":!0}},{id:"ocean-outline",type:"line",source:"openmaptiles","source-layer":"water",filter:["==","class","ocean"],layout:{visibility:"visible"},paint:{"line-color":"%colors.water-outline%","line-width":2}},{id:"ocean",type:"fill",source:"openmaptiles","source-layer":"water",filter:["==","class","ocean"],layout:{visibility:"visible"},paint:{"fill-color":"%colors.water%","fill-antialias":!0}},{id:"road_path-casing",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["in","class","path","path_construction","track","track_construction"]],layout:{"line-cap":"square","line-join":"bevel",visibility:"visible"},paint:{"line-color":"%colors.roads-casing%","line-dasharray":[1,1],"line-width":{base:1.55,stops:[[4,.25],[20,10]]}}},{id:"road_path",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["in","class","path","path_construction","track","track_construction"]],layout:{"line-cap":"square","line-join":"bevel",visibility:"visible"},paint:{"line-color":"%colors.roads%","line-dasharray":[1,1],"line-width":{base:1.55,stops:[[4,.25],[20,10]]}}},{id:"tunnel_minor",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","tunnel"],["in","class","minor_road","minor","minor_construction"]],layout:{"line-cap":"butt","line-join":"miter",visibility:"visible"},paint:{"line-color":"%colors.roads-light%","line-width":{base:1.55,stops:[[4,.25],[20,30]]},"line-dasharray":[.36,.18]}},{id:"aeroway-area",type:"fill",metadata:{"mapbox:group":"1444849345966.4436"},source:"openmaptiles","source-layer":"aeroway",minzoom:4,filter:["all",["==","$type","Polygon"],["in","class","runway","taxiway"]],layout:{visibility:"visible"},paint:{"fill-opacity":{base:1,stops:[[13,0],[14,1]]},"fill-color":"%colors.roads%"}},{id:"aeroway-taxiway",type:"line",metadata:{"mapbox:group":"1444849345966.4436"},source:"openmaptiles","source-layer":"aeroway",minzoom:12,filter:["all",["in","class","taxiway"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.roads%","line-width":{base:1.5,stops:[[12,1],[17,10]]},"line-opacity":1}},{id:"aeroway-runway",type:"line",metadata:{"mapbox:group":"1444849345966.4436"},source:"openmaptiles","source-layer":"aeroway",minzoom:4,filter:["all",["in","class","runway"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.roads%","line-width":{base:1.5,stops:[[11,4],[17,50]]},"line-opacity":1}},{id:"road_minor-casing",type:"line",source:"openmaptiles","source-layer":"transportation",minzoom:5,filter:["all",["==","$type","LineString"],["in","class","minor","minor_construction","service","service_construction"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.roads-casing%","line-width":{base:1.55,stops:[[4,.55],[20,35]]}}},{id:"road_secondary_tertiary-casing",type:"line",source:"openmaptiles","source-layer":"transportation",minzoom:5,filter:["all",["==","$type","LineString"],["in","class","secondary","secondary_construction","tertiary","tertiary_construction"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.roads-casing%","line-width":{base:1.4,stops:[[6,1.5],[20,25]]}}},{id:"road_primary-casing",type:"line",source:"openmaptiles","source-layer":"transportation",minzoom:7,filter:["all",["==","$type","LineString"],["in","class","primary","primary_construction"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.roads-casing%","line-width":{base:1.4,stops:[[6,1.5],[20,33]]}}},{id:"road_trunk-casing",type:"line",source:"openmaptiles","source-layer":"transportation",minzoom:5,filter:["all",["==","$type","LineString"],["any",["in","class","trunk","trunk_construction"],["==","network","us-state"]]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.roads-casing%","line-width":{base:1.4,stops:[[6,1.5],[20,33]]}}},{id:"road_major_motorway_ramp-casing",type:"line",source:"openmaptiles","source-layer":"transportation",minzoom:4,filter:["all",["==","$type","LineString"],["in","class","motorway","motorway_construction"],["==","ramp",1]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.roads-casing%","line-width":{base:1.4,stops:[[8,1.5],[16,12]]},"line-offset":0}},{id:"road_major_motorway-casing",type:"line",source:"openmaptiles","source-layer":"transportation",minzoom:4,filter:["all",["==","$type","LineString"],["in","class","motorway","motorway_construction"],["!=","ramp",1]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.roads-casing%","line-width":{base:1.4,stops:[[8,1.5],[16,12]]},"line-offset":0}},{id:"road_minor",type:"line",source:"openmaptiles","source-layer":"transportation",minzoom:5,filter:["all",["==","$type","LineString"],["in","class","minor","minor_construction","service","service_construction"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.roads%","line-width":{base:1.55,stops:[[4,.25],[20,30]]}}},{id:"road_secondary_tertiary",type:"line",source:"openmaptiles","source-layer":"transportation",minzoom:5,filter:["all",["==","$type","LineString"],["in","class","secondary","secondary_construction","tertiary","tertiary_construction"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.roads%","line-width":{base:1.4,stops:[[6,.5],[20,20]]}}},{id:"road_primary",type:"line",source:"openmaptiles","source-layer":"transportation",minzoom:7,filter:["all",["==","$type","LineString"],["in","class","primary","primary_construction"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.roads%","line-width":{base:1.4,stops:[[6,.5],[20,30]]}}},{id:"road_trunk",type:"line",source:"openmaptiles","source-layer":"transportation",minzoom:5,filter:["all",["==","$type","LineString"],["any",["in","class","trunk","trunk_construction"],["==","network","us-state"]]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.roads%","line-width":{base:1.4,stops:[[6,.5],[20,30]]}}},{id:"road_major_motorway_ramp",type:"line",source:"openmaptiles","source-layer":"transportation",minzoom:4,filter:["all",["==","$type","LineString"],["in","class","motorway","motorway_construction"],["==","ramp",1]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.roads%","line-width":{base:1.4,stops:[[8,1],[16,10]]},"line-offset":0}},{id:"road_major_motorway",type:"line",source:"openmaptiles","source-layer":"transportation",minzoom:4,filter:["all",["==","$type","LineString"],["in","class","motorway","motorway_construction"],["!=","ramp",1]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.roads%","line-width":{base:1.4,stops:[[8,1],[16,10]]},"line-offset":0}},{id:"tunnel_major",type:"line",source:"openmaptiles","source-layer":"transportation",minzoom:5,filter:["all",["==","$type","LineString"],["==","brunnel","tunnel"],["in","class","primary","primary_construction","secondary","secondary_construction","tertiary","tertiary_construction","trunk","trunk_construction"]],layout:{"line-cap":"butt","line-join":"miter",visibility:"visible"},paint:{"line-color":"%colors.tunnels%","line-width":{base:1.4,stops:[[6,.5],[20,20]]},"line-dasharray":[.28,.14]}},{id:"tunnel_motorway",type:"line",source:"openmaptiles","source-layer":"transportation",minzoom:4,filter:["all",["==","$type","LineString"],["==","brunnel","tunnel"],["in","class","motorway","motorway_construction"]],layout:{"line-cap":"butt","line-join":"miter",visibility:"visible"},paint:{"line-color":"%colors.tunnels%","line-width":{base:1.4,stops:[[8,1],[16,10]]},"line-dasharray":[.09,.3]}},{id:"railway-transit",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","class","transit"],["!=","brunnel","tunnel"]],layout:{visibility:"visible"},paint:{"line-color":"%colors.roads-dark%","line-opacity":{base:1,stops:[[11,0],[16,1]]}}},{id:"railway",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["==","class","rail"],layout:{visibility:"visible"},paint:{"line-color":"%colors.roads-dark%","line-opacity":{base:1,stops:[[11,0],[16,1]]}}},{id:"building",type:"fill",source:"openmaptiles","source-layer":"building",minzoom:12,filter:["any",[">=","layer",0],["!has","layer"]],layout:{visibility:"visible"},paint:{"fill-color":"%colors.housing%","fill-outline-color":"%colors.housing-dark%","fill-antialias":!0}},{id:"waterway-bridge-case",type:"line",source:"openmaptiles","source-layer":"waterway",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"]],layout:{"line-cap":"butt","line-join":"miter",visibility:"visible"},paint:{"line-color":"%colors.roads%","line-width":{base:1.6,stops:[[12,.5],[20,10]]},"line-gap-width":{base:1.55,stops:[[4,.25],[20,30]]}}},{id:"waterway-bridge",type:"line",source:"openmaptiles","source-layer":"waterway",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.roads%","line-width":{base:1.55,stops:[[4,.25],[20,30]]}}},{id:"bridge_minor case",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","minor_road","minor","minor_construction"]],layout:{"line-cap":"butt","line-join":"miter",visibility:"visible"},paint:{"line-color":"%colors.roads%","line-width":{base:1.6,stops:[[12,.5],[20,10]]},"line-gap-width":{base:1.55,stops:[[4,.25],[20,30]]}}},{id:"bridge_major_casing",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","primary","primary_construction","secondary","secondary_construction","tertiary","tertiary_construction","trunk"]],layout:{"line-cap":"butt","line-join":"miter",visibility:"visible"},paint:{"line-color":"%colors.roads-casing%","line-width":{base:1.6,stops:[[12,.5],[20,10]]},"line-gap-width":{base:1.55,stops:[[4,.25],[20,30]]}}},{id:"bridge_minor",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","minor_road","minor","minor_construction"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.roads%","line-width":{base:1.55,stops:[[4,.25],[20,30]]}}},{id:"bridge_major",type:"line",source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","brunnel","bridge"],["in","class","primary","primary_construction","secondary","secondary_construction","tertiary","tertiary_construction","trunk"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.roads%","line-width":{base:1.4,stops:[[6,.5],[20,30]]}}},{id:"boundary_state",type:"line",metadata:{"mapbox:group":"a14c9607bc7954ba1df7205bf660433f"},source:"openmaptiles","source-layer":"boundary",filter:["all",["==","admin_level",4],["==","maritime",0]],layout:{"line-cap":"round","line-join":"round",visibility:"none"},paint:{"line-color":"%colors.boundary-light%","line-width":{base:1.3,stops:[[3,.5],[22,7.5]]},"line-blur":0,"line-dasharray":{base:4,stops:[[0,[1,0]],[10,[3,3]],[11,[4,4]],[12,[6,6]]]},"line-opacity":1}},{id:"boundary_country",type:"line",metadata:{"mapbox:group":"a14c9607bc7954ba1df7205bf660433f"},source:"openmaptiles","source-layer":"boundary",maxzoom:8,filter:["all",["==","admin_level",2],["==","maritime",0]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.boundary%","line-width":{base:1.1,stops:[[0,.5],[3,.5],[22,10]]},"line-blur":{base:1,stops:[[0,.2],[22,2]]},"line-opacity":1}},{id:"boundary_country_dw",type:"line",metadata:{"mapbox:group":"a14c9607bc7954ba1df7205bf660433f"},source:"country-borders","source-layer":"boundary",minzoom:8,filter:["all",["==","admin_level",2],["==","maritime",0]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.boundary%","line-width":{base:1.1,stops:[[0,.5],[3,.5],[22,10]]},"line-blur":{base:1,stops:[[0,.2],[22,2]]},"line-opacity":1}},{id:"boundary_extras",type:"line",metadata:{"mapbox:group":"a14c9607bc7954ba1df7205bf660433f"},source:"boundary-extras",layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"%colors.boundary%","line-width":{base:1.1,stops:[[0,.5],[3,.5],[22,10]]},"line-blur":{base:1,stops:[[0,.2],[22,2]]},"line-opacity":1}},{id:"water_name",type:"symbol",source:"openmaptiles","source-layer":"water_name",filter:["==","$type","LineString"],layout:{"text-field":"{name}","symbol-placement":"line-center","text-rotation-alignment":"map","text-font":["Roboto Regular"],"text-size":12,visibility:"visible"},paint:{"text-color":"%colors.text-water%","text-halo-color":"%colors.text-water-halo%","text-halo-width":1,"text-halo-blur":1}},{id:"highway_name_other",type:"symbol",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation_name",minzoom:13,filter:["all",["!in","class","motorway","motorway_construction"],["==","$type","LineString"]],layout:{"text-size":10,"text-max-angle":30,"text-transform":"%text-layout.text-transform%","text-font":["Roboto Regular"],"symbol-placement":"line-center",visibility:"visible","text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":"{name}"},paint:{"text-color":"%colors.text%","text-halo-color":"%colors.text-halo%","text-halo-width":2,"text-halo-blur":1}},{id:"highway_name_motorway",type:"symbol",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation_name",minzoom:13,filter:["all",["==","$type","LineString"],["in","class","motorway","motorway_construction"]],layout:{"text-size":10,"text-font":["Roboto Light"],"symbol-placement":"line-center",visibility:"visible","text-rotation-alignment":"viewport","text-pitch-alignment":"viewport","text-field":"{ref}"},paint:{"text-color":"%colors.text%","text-halo-color":"%colors.text-halo%","text-halo-width":1,"text-halo-blur":1}},{id:"place_other",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:14,filter:["all",["!in","class","city","suburb","town","village","province","country","state","continent"],["==","$type","Point"]],layout:{"text-size":10,"text-transform":"%text-layout.text-transform%","text-font":["Roboto Regular"],visibility:"visible","text-offset":[.5,0],"text-anchor":"center","text-field":"{name_en}"},paint:{"text-color":"%colors.text%","text-halo-color":"%colors.text-halo%","text-halo-width":1,"text-halo-blur":1}},{id:"place_suburb",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:15,filter:["all",["==","$type","Point"],["==","class","suburb"]],layout:{"text-size":10,"text-transform":"%text-layout.text-transform%","text-font":["Roboto Regular"],visibility:"visible","text-offset":[.5,0],"text-anchor":"center","text-field":"{name_en}"},paint:{"text-color":"%colors.text%","text-halo-color":"%colors.text-halo%","text-halo-width":1,"text-halo-blur":1}},{id:"place_village",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:14,filter:["all",["==","$type","Point"],["==","class","village"]],layout:{"text-size":10,"text-transform":"%text-layout.text-transform%","text-font":["Roboto Regular"],visibility:"visible","text-offset":[.5,.2],"icon-size":.4,"text-anchor":"left","text-field":"{name_en}"},paint:{"text-color":"%colors.text%","text-halo-color":"%colors.text-halo%","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_town",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:15,filter:["all",["==","$type","Point"],["==","class","town"]],layout:{"text-size":12,"icon-image":{base:1,stops:[[0,"circle-12"],[8,""]]},"text-transform":"%text-layout.text-transform%","text-font":["Roboto Regular"],visibility:"visible","text-offset":[.5,.2],"icon-size":.4,"text-anchor":{base:1,stops:[[0,"left"],[8,"center"]]},"text-justify":{base:1,stops:[[0,"left"],[8,"center"]]},"text-field":"{name_en}"},paint:{"text-color":"%colors.text%","text-halo-color":"%colors.text-halo%","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_label_city",type:"symbol",source:"openmaptiles","source-layer":"place",maxzoom:16,minzoom:5.5,filter:["all",["==","$type","Point"],["==","class","city"],["!=","capital",2],[">=","rank",4]],layout:{"text-size":10,"icon-image":{base:1,stops:[[0,"circle-12"],[8,""]]},"text-transform":"%text-layout.text-transform%","text-font":["Metropolis Regular"],visibility:"visible","text-offset":[.5,.2],"icon-size":.4,"text-anchor":{base:1,stops:[[0,"left"],[8,"center"]]},"text-field":"{name_en}"},paint:{"text-color":"%colors.text%","text-halo-color":"%colors.text-halo%","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_capital",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:12,minzoom:5,filter:["all",["==","$type","Point"],["all",["==","capital",2],["==","class","city"]]],layout:{"text-size":14,"icon-image":{base:1,stops:[[0,"square-12"],[8,""]]},"text-transform":"%text-layout.text-transform%","text-font":["Roboto Regular"],visibility:"visible","text-offset":[.5,.1],"icon-size":.8,"text-anchor":{base:1,stops:[[0,"left"],[8,"center"]]},"text-field":"{name}"},paint:{"text-color":"%colors.text%","text-halo-color":"%colors.text-halo%","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_city_large",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",minzoom:5,maxzoom:12,filter:["all",["==","$type","Point"],["all",["!=","capital",2],["<=","rank",4],["==","class","city"]]],layout:{"text-size":14,"icon-image":{base:1,stops:[[0,"circle-12"],[8,""]]},"text-transform":"%text-layout.text-transform%","text-font":["Roboto Regular"],visibility:"visible","text-offset":[.5,.2],"icon-size":.4,"text-anchor":{base:1,stops:[[0,"left"],[8,"center"]]},"text-field":"{name}"},paint:{"text-color":"%colors.text%","text-halo-color":"%colors.text-halo%","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_state",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:12,filter:["all",["==","$type","Point"],["==","class","state"],["<=","rank",2]],layout:{visibility:"visible","text-field":"{name_en}","text-font":["Roboto Regular"],"text-transform":"%text-layout.text-transform%","text-size":10},paint:{"text-color":"%colors.text%","text-halo-color":"%colors.text-halo%","text-halo-width":1,"text-halo-blur":1}},{id:"place_country_other",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:8,filter:["all",["==","$type","Point"],["all",["==","class","country"],[">=","rank",2]]],layout:{visibility:"visible","text-field":"{name_en}","text-font":["Roboto Regular"],"text-transform":"%text-layout.text-transform%","text-size":{base:1,stops:[[0,10],[6,12]]}},paint:{"text-halo-width":1.4,"text-halo-color":"%colors.text-halo%","text-color":"%colors.text%"}},{id:"place_country_major",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:6,filter:["all",["==","$type","Point"],["all",["<=","rank",1],["==","class","country"]]],layout:{visibility:"visible","text-field":"{name_en}","text-font":["Roboto Regular"],"text-transform":"%text-layout.text-transform%","text-size":{base:1.4,stops:[[0,10],[3,12],[4,14]]},"text-anchor":"center"},paint:{"text-halo-width":1.4,"text-halo-color":"%colors.text-halo%","text-color":"%colors.text%"}},{id:"building3d",type:"fill-extrusion",source:"openmaptiles","source-layer":"building",minzoom:14,filter:["any",[">=","layer",0],["!has","layer"]],paint:{"fill-extrusion-color":"%colors.housing-3d%","fill-extrusion-height":{property:"render_height",type:"identity"},"fill-extrusion-base":{property:"render_min_height",type:"identity"},"fill-extrusion-opacity":.7},layout:{visibility:"none"}}],id:"ciwf3o3u2008z2pmq7pmvm6xq"},vl={nb:"no",ky:"ru"},bl={default:"Roboto Regular",ar:"Cairo Regular",zh:"Noto Sans Regular",ja:"Noto Sans Regular",bg:"Roboto Regular",ru:"Roboto Regular",el:"Roboto Regular",he:"Noto Sans Regular"};const xl={ar:!0,hy:!0,be:!0,bg:!0,zh:!0,ka:!0,el:!0,he:!0,ja:!0,ja_kana:!0,kn:!0,kk:!0,ko:!0,mk:!0,ru:!0,sr:!0,th:!0,uk:!0};var wl=var El="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;=var Ol=ft(Ml);const Pl=18;n jl(t,e,n,r,i,o){const a=t.style,s=i||ct(_l),u=po(r,"colors.background","#ffffff"),l=kl(u);let c=l,p=ml(l);const f=p.map((t=>t.id));if(i){const t=ct(_l);for(const e in s.layers){const n=s.layers[e].id,r=Rs(t.layers,{id:n});r&&(s.layers[e]=r)}s.layers=s.layers.filter(()}co(s,n.meta.__config.defaultStyle),zl(s,n.chart().get("id")),s.sources.openmaptiles.minzoom=0,s.sources.openmaptiles.maxzoom=14;const h=d=po(r,"vis.locator-maps.mapStyles",[]),g=d.map((),y=g.includes(a),m=(y?g:f).find(()||f[0];let _=p.find((t=>t.id===m));if(y){_=d.find((t=>t.id===m));if(f.includes(_.id)){const t=Fl(_,u);t!==c&&(c=t,p=ml(t)),_=Ol(p.find((),_)}else c=Fl(_,u)}if(_.layers){const t={road_major_motorway_ramp:"road_major_motorway","road_major_motorway_ramp-casing":"road_major_motorway-casing",boundary_country_dw:"boundary_country",boundary_extras:"boundary_country"};for(const[e,n]of Object.entries(t))po(_,["layers",n])&&!po(_,["layers",e])&&(_.layers[e]=_.layers[n]);for(const t in _.layers){const e=Rs(s.layers,{id:t});if(!e){console.error(t," layer can not be found in the dw map style");continue}const n=Ol(e,_.layers[t],{arrayMerge:h});Object.assign(e,n)}}_.sprite&&(s.sprite=_.sprite);const v=c?-1:1,b={"boundary-light":"housing-light":"housing-dark":()=>Tl(_.colors.housing,.3*v),"housing-3d":()=>Rl(_.colors.housing,.4*v),"green-light":()=>Rl(_.colors.green,.2*v),"green-dark":()=>Tl(_.colors.green,.2*v),"roads-light":()=>Rl(_.colors.roads,.1*v),"roads-dark":()=>Tl(_.colors.roads,1.5*v),"roads-casing":()=>"transparent","water-outline":ice:tunnels:;for(const[t,e]of Object.entries(b))_.colors[t]||(_.colors[t]=e());const x={"text-layout":{"text-transform":"uppercase"},colors:p[0].colors};let w=JSON.stringify(s);const E=w.match(/"%([^"%]+)%"/g);E&&E.forEach(();const N=JSON.parse(w),I=[];let S=e?e.toLowerCase().split(/[-_]/)[0]:"en";S=vl[S]||S,yl(_,"text-layout.font",[_.font||bl.default]);const C={layout:["size","letter-spacing","font"],paint:["halo-blur","halo-width"]};N.layers.forEach((e=>{if(function(t,e){e.visibility&&("symbol"===t.type&&(t.layout.visibility=e.mapLabel?"visible":"none"),"transportation"===t["source-layer"]||"aeroway"===t["source-layer"]||t.id.indexOf("highway_name_motorway")>-1&&e.mapLabel||t.id.indexOf("highway_name_other")>-1&&e.mapLabel?t.layout.visibility=e.visibility.roads?"visible":"none":"water"===t.id||"waterway"===t.id||"water-outline"===t.id||t.id.indexOf("water_name")>-1&&e.mapLabel?t.layout.visibility=e.visibility.water?"visible":"none":"park"===t.id||"landcover_wood"===t.id||"park_outline"===t.id||"landcover_grass"===t.id?t.layout.visibility=e.visibility.green?"visible":"none":"landuse_residential"===t.id?t.layout.visibility=e.visibility.urban?"visible":"none":["boundary_country","boundary_country_dw","boundary_extras"].includes(t.id)?t.layout.visibility=e.visibility.boundary_country?"visible":"none":"boundary_state"===t.id?t.layout.visibility=e.visibility.boundary_state?"visible":"none":"mountains_1"===t.id||"mountains_2"===t.id||"mountains_3"===t.id||"mountains_4"===t.id||"mountains_5"===t.id||"mountains_6"===t.id?t.layout.visibility=e.visibility.mountains?"visible":"none":"building"===t.id?t.layout.visibility=e.visibility.building?"visible":"none":"building3d"===t.id?t.layout.visibility=e.visibility.building3d?"visible":"none":"landcover_ice"===t.id&&(t.layout.visibility=e.visibility.glaciers?"visible":"none"))}(e,t),I.push(e),"symbol"===e.type&&Object.entries(C).forEach((),"symbol"===e.type&&e.layout&&e.layout["text-field"]){bl[S]&&(e.layout["text-font"][0]=bl[S]);const t=ct(e);t.id+=":fallback",e.layout["text-field"]="{name:".concat(S,"}"),t.layout["text-field"]="{name:".concat(S)?"nonlatin":"latin","}");const n=["has","name:"+S];e.filter?e.filter=["all",e.filter,["all",n]]:e.filter=[n];const r=["!has","name:"+S];t.filter?t.filter=["all",t.filter,["all",r]]:t.filter=[r],I.push(t)}})),N.layers=I,N.metadata.style=_,N.metadata.styleIsDark=c,N.metadata.defaultColors={...po(r,"_computed.locator-maps",{}),mapStyle:po(r,"_computed.locator-maps.mapStyles",[]).find((t=>{let{id:e}=t;return e===_.id})),darkMode:{...po(r,"_computed.locator-maps.darkMode",{}),mapStyle:po(r,"_computed.locator-maps.darkMode.mapStyles",[]).find(()}},o(N)}var Gl=20;t Yl=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;ut.prototype.translate=ut.prototype.append=ut.prototype.insert=ut.prototype.parent=ut.prototype.selectAppend=ut.prototype.tspans=ut.prototype.appendMany=ut.prototype.at=ut.prototype.st=ut.prototype.prop=ut.prototype.property;var Xl={exports:{}};
/**
   * chroma.js - JavaScript library for color conversions
   *
   * Copyright (c) 2011-2019, Gregor Aisch
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice, this
   * list of conditions and the following disclaimer.
   *
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   * this list of conditions and the following disclaimer in the documentation
   * and/or other materials provided with the distribution.
   *
   * 3. The name Gregor Aisch may not be used to endorse or promote products
   * derived from this software without specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
   * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
   * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
   * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *
   * -------------------------------------------------------
   *
   * chroma.js includes colors from colorbrewer2.org, which are released under
   * the following license:
   *
   * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
   * and The Pennsylvania State University.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
   * either express or implied. See the License for the specific
   * language governing permissions and limitations under the License.
   *
   * ------------------------------------------------------
   *
   * Named colors are taken from X11 Color Names.
   * http://www.w3.org/TR/css3-color/#svg-color
   *
   * @preserve
   */Xl.exports=);var Hl=ft(Xl.exports);const Wl={horizontal:90,vertical:0,"diagonal-up":135,"diagonal-down":45};ion tc(t){return!!t&&t.constructor===Object}l.default=Jl;var nc={exports:{}};((nc.exports);var rc=nc.exports;function ic(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return oc(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}})),e.features=t.features.map((function(t){return oc(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return sc(t);default:throw new Error("unknown GeoJSON type")}}function oc(t){var e={type:"Feature"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}})),e.properties=ac(t.properties),e.geometry=sc(t.geometry),e}unction sc(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return sc(t)})),e):(e.coordinates=uc(t.coordinates),e)}unction lc(t,e,n){void 0===n&&(n={});var r,i=(n=n||{}).mutate;if(!t)throw new Error("geojson is required");return!Array.isArray(t)||(r=t[0],isNaN(r)||null===r||Array.isArray(r))?(!0!==i&&(t=ic(t)),Zl(t,()):t="mercator"===e?cc(t):pc(t),t}r fc=6371008.8,hc={meters:fc,metres:fc,millimeters:1e3*fc,millimetres:1e3*fc,centimeters:100*fc,centimetres:100*fc,kilometers:fc/1e3,kilometres:fc/1e3,miles:fc/1609.344,nauticalmiles:fc/1852,inches:39.37*fc,yards:fc/1.0936,feet:3.28084*fc,radians:1,degrees:fc/111325};unction gc(t){return!!t&&t.constructor===Object}function yc(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!function(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}(t))throw new Error("bbox must only contain numbers")}))}unction _c(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function vc(t,e){var n,r,i,o,a,s,u,l,c,p,f=0,h="FeatureCollection"===t.type,d="Feature"===t.type,g=h?t.features.length:1;for(n=0;n<g;n++){for(s=h?t.features[n].geometry:d?t.geometry:t,l=h?t.features[n].properties:d?t.properties:{},c=h?t.features[n].bbox:d?t.bbox:void 0,p=h?t.features[n].id:d?t.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=u?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,f,l,c,p))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],f,l,c,p))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,l,c,p))return!1;f++}} Ec=1e-6,Nc=1e-12,Ic=Math.PI,Sc=Ic/2,Cc=Ic/4,Lc=2*Ic,Mc=180/Ic,Oc=Ic/180,Pc=Math.abs,Rc=Math.atan,Tc=Math.atan2,Ac=Math.cos,Dc=Math.ceil,kc=Math.exp,Fc=Math.log,zc=Math.sin,jc=Math.sign||Gc=Math.sqrt,Bc=Math.tan;function qc(t){return t>1?Sc:t<-1?-Sc:Math.asin(t)}function Uc(){}ar Yc={Feature:function(t,e){Vc(t.geometry,e)},FeatureCollection:,Xc={Sphere:Point:MultiPoint:LineString:MultiLineString:Polygon:MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Wc(n[r],e)},GeometryCollection:;nction(){return!0}),(,(,[-Ic,-Sc]);ar xp=1e9,wp=-xp;unction Np(t,e,n){var r=wc(t,e-Ec,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}ar Sp,Cp,Lp,Mp,Op=Pp=new bc,Rp=new bc,Tp={point:Uc,lineStart:Uc,lineEnd:Uc,polygonStart:function(){Tp.lineStart=Ap,Tp.lineEnd=Fp},polygonEnd:result:;function Ap(){Tp.point=Dp}function Dp(t,e){Tp.point=kp,Sp=Lp=t,Cp=Mp=e}unction Fp(){kp(Sp,Cp)}var zp=Tp,jp=1/0,Gp=jp,Bp=-jp,qp=Bp,Up={point:lineStart:Uc,lineEnd:Uc,polygonStart:Uc,polygonEnd:Uc,result:;var Vp,Yp,Xp,Hp,Wp=Up,$p=0,Zp=0,Jp=0,Kp=0,Qp=0,tf=0,ef=0,nf=0,rf=0,of={point:af,lineStart:sf,lineEnd:cf,polygonStart:polygonEnd:result:;unction sf(){of.point=uf}nction cf(){of.point=af}gf=of;f.prototype={_radius:4.5,pointRadius:polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:point:result:Uc};var mf,_f,vf,bf,xf,wf=new bc,Ef={point:Uc,lineStart:lineEnd:polygonStart:polygonEnd:result:;r Sf,Cf,Lf,Mf,Of=Ef;et Rf,Tf,Af,Df;tion Gf(){}.prototype={constructor:Gf,point:sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:;var Uf=16,Vf=Ac(30*Oc);ar Xf=jf({point:);nction $f(t){var e,n,r,i,o,a,s,u,l,c,p=150,f=480,h=250,d=0,g=0,y=0,m=0,_=0,v=0,b=1,x=1,w=null,E=vp,N=null,I=Op,S=.5;rn C.stream=C.preclip=C.postclip=C.clipAngle=C.clipExtent=C.scale=C.translate=C.center=C.rotate=C.angle=C.reflectX=function(t){return arguments.length?(b=t?-1:1,M()):b<0},C.reflectY=C.precision=C.fitExtent=C.fitSize=C.fitWidth=C.fitHeight=var Zf,Jf,Kf=(Zf=;tion rh(t,e,n,r){var i,o=t.properties||{},a="Feature"===t.type?t.geometry:t;if("GeometryCollection"===a.type){var s=[];return vc(t,(),dc(s)}var u=Jl(t),l=u[1]>50&&u[3]>50;i=l?{type:a.type,coordinates:oh(a.coordinates,sh(a))}:function(t,e){return void 0===e&&(e={}),lc(t,"mercator",e)}(a);var c,p=(new rc.GeoJSONReader).read(i),f=e,n),"meters"),h=rc.BufferOp.bufferOp(p,f);if(!ih((h=(new rc.GeoJSONWriter).write(h)).coordinates))return c=l?{type:h.type,coordinates:ah(h.coordinates,sh(a))}:function(t,e){return void 0===e&&(e={}),lc(t,"wgs84",e)}(h),c.geometry?c:c,o)}r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;const i=t.getLayer(e);return Sh(i&&i.layout&&i.layout._values[n],r)}function Lh(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const o=t.getLayer(e);return Sh(o&&o.layout&&o.layout._values[n]&&o.layout._values[n].evaluate(r),i)}.invert=(Jf=,Qf.invert=eh.invert=const Ph=new Map;function Rh(t,e){return!!t.layout&&void 0!==t.layout[e]}h(t,e,n){const r=Lh(t,e,"text-field",n).slice(1,-1),i=n.properties[r];return i?"uppercase"===Lh(t,e,"text-transform",n)?i.toUpperCase():i:""}async function Vh(t){let{map:e,container:r,width:i,height:o,style:a,theme:s}=t;const u=e.getZoom(),{highResMap:l,highResContainer:c,highResZoom:p}=await {map:e,container:r,width:i,height:o,style:a,lowResZoom:u}),f=r.select(".mapboxgl-canvas-container").insert("svg.basemap",":first-child").at({width:i,height:o,viewBox:"0 0 ".concat(i," ").concat(o)}).st({position:"absolute",top:0,left:0,overflow:"hidden"}),h=f.append("defs"),d=new Map,g=po(s,2===s.version?"fontFamilies":"typography.fontFamilies",{}),y=Object.fromEntries(Object.entries(g).flatMap(()),m=th(Qf).scale(961/Lc).precision(0).angle([e.getBearing()]).rotate([-1*e.getCenter().lng,0]).fitExtent([[0,0],[i,o]],jh(e,i,o)),_=zf().projection(m);e.getStyle().layers.forEach((t=>{const n=t.id;if("building3d"===n)return;if(!Ah(e,n))return;const r=t.type,a="symbol"===r;let s=t.source;const c=!["boundaries","country-borders","openmaptiles","terrain"].includes(s);if("background"===r)return void f.append("rect").attr("id",n).attr("width",i).attr("height",o).attr("fill",Mh(e,n,"background-color")||Mh(e,n,"fill-color"));const g=e.queryRenderedFeatures({layers:[n]});if(!g.length)return;let v,b,x;if(l&&l.style._layers[n]&&{layerId:n,lowResZoom:u,highResZoom:p,isSymbol:a})){const e=l.queryRenderedFeatures({layers:[n]});if(c)v=e;else if("boundary_country"===n&&l,"boundary_country_dw",p))v=l.queryRenderedFeatures({layers:["boundary_country_dw"]}),s=l.getLayer("boundary_country_dw").source;else{v=[];for(const r of g){const i=e.filter((t=>zh(r,t)));if(i.length)v.push(...i);else{if(!n.startsWith("landcover_")&&"transportation"!==t["source-layer"]){v=e;break}v.push(r)}}}}else v=g;if(v=v,r,n),v.length){if(c){const t=e,n),r=t),i=r.map((t=>{try{return t.geometry&&Array.isArray(t.geometry.geometries)&&(t.geometry.geometries=t.geometry.geometries.filter(Boolean)),vh(t,{reverse:!0})}catch(e){return console.warn("Failed to rewind feature",t),t}}));b=su(v.map(()).flatMap(kh)}else if("landuse_residential"===n||"boundaries"===s||Th(t,"fill-outline-color")&&!n.includes("mountains")){const t=$s(v,Fh);b=Object.entries(t).flatMap(()}else b=v;if(a){x=f.append("g").attr("id",n);const r="line-center"===Ch(e,n,"symbol-placement");r&&x.appendMany("path",b).attr("d",().attr("id",().attr("fill","none").attr("stroke","none").attr("stroke-width","1px");const i="map-label",o=x.selectAll(i).data(b).enter().append("text");if(r?o.append("textPath").attr("class","textpath").attr("xlink:href",().attr("font-size",(function(t){return qh(e,n,t)})).attr("text-anchor","middle").attr("startOffset","50%").attr("dominant-baseline","central").text((function(t){return Uh(e,n,t)})):o.each((function(r){const i=lt(this),o=qh(e,n,r);i.attr("font-size",o);const a=e,n,r);i.attr("dominant-baseline",1===a.length?"middle":"ideographic");let s=0,u=0;if(Rh(t,"text-offset")){const t=Lh(e,n,"text-offset",r);s=10*t[0],u=10*t[1]}const l=m(r.geometry.coordinates),c={10:0,12:1,14:2}[o]||0,p=l[0]+s+c,f=l[1]+u;i.attr("transform","translate(".concat(p,", ").concat(f,")")),i.tspans(a,o+2)})),o.each((),o.attr("text-anchor",(),o.attr("font-size",(function(t){return qh(e,n,t)})),o.attr("fill",(),o.each((),Rh(t,"icon-image")){const t=e.getBounds().toArray();x.selectAll(i+"icon").data(b).enter().each((function(r){const i=Lh(e,n,"icon-image",r),o=e.style.imageManager.getImage(i);if(!o)return;const a=Lh(e,n,"icon-size",r,1),s=function(t){var e,n;return"Point"===t.geometry.type?null!==(e=t.geometry.coordinates)&&void 0!==e&&e.length?[t.geometry.coordinates]:[]:"LineString"===t.geometry.type?t.geometry.coordinates||[]:"MultiLineString"===t.geometry.type&&(null===(n=t.geometry.coordinates)||void 0===n?void 0:n.flat())||[]}(r).filter((e=>e,t)));if(!s.length)return void console.warn("Failed to get the points that make up feature",r);const u=s[Math.floor(s.length/2)],l=m(u),c=lt(this);let p;if("https://tiles.dwcdn.net/sprites/dwsprites"===e.getStyle().sprite){const t=[9*a,9*a];"circle-12"===i?p=c.append("circle").attr("transform","translate(".concat(l[0],", ").concat(l[1],")")).attr("r",t[0]/2).attr("fill","#444").attr("stroke","none"):"square-12"===i&&(p=c.append("rect").attr("transform","translate(".concat(l[0]-t[0]/2,", ").concat(l[1]-t[1]/2,")")).attr("width",t[0]).attr("height",t[1]).attr("fill","#444").attr("stroke","none"))}if(!p){const t=[o.data.width*a,o.data.height*a];p=c.append("image").attr("href",function(t,e,n){if(Ph.has(e))return Ph.get(e);const r=function(t,e){const n=t.createElement("canvas"),r=n.getContext("2d");return n.width=e.width,n.height=e.height,r.putImageData(e,0,0),n.toDataURL()}(n,new ImageData(new Uint8ClampedArray(t.data.data),t.data.width,t.data.height));return Ph.set(e,r),r}(o,i,this.ownerDocument)).attr("transform","translate(".concat(l[0]-t[0]/2,", ").concat(l[1]-t[1]/2,")")).attr("width",t[0]).attr("height",t[1])}const f=Oh(e,n,"icon-opacity",r,1);1!==f&&p.style("opacity",f)}))}}else x=c?f.append("g").attr("id",n).appendMany("path",b):f.append("path").attr("id",n).data([{type:"FeatureCollection",features:b}]),x.attr("d",_).attr("transform","translate(0.5, 0)"),"line"===r?(x.attr("fill","none"),x.attr("stroke-width",(function(t){return Oh(e,n,"line-floorwidth",t)}))):x.attr("stroke-width","0"),"ocean"===n&&Ah(e,"ocean-outline")&&(x.attr("stroke",(),x.attr("stroke-width",()),Th(t,"fill-outline-color")&&(x.attr("stroke",(function(t){return Oh(e,n,"fill-outline-color",t)})),x.attr("stroke-width",Bh(u))),Th(t,"line-color")&&x.attr("stroke",(function(t){return Oh(e,n,"line-color",t)})),Th(t,"line-width")&&x.attr("stroke-width",(function(t){return Oh(e,n,"line-width",t)})),Th(t,"line-dasharray")&&x.attr("stroke-dasharray",(function(t){let r=Mh(e,n,"line-dasharray");if(r[0]>=1e5)return;if(1===r[0]&&1===r[1])switch(Ch(e,n,"line-cap")){case"butt":r=[1.5,1.5];break;case"round":r=[2,1];break;default:r=[.8,2]}else if(1===r[0]&&2.2===r[1])switch(Ch(e,n,"line-cap")){case"butt":r=[1.8,4];break;case"round":r=[2.4,3.3];break;default:r=[.8,4.8]}const i=Oh(e,n,"line-floorwidth",t);return r.map(().join(" ")})),Th(t,"line-opacity")&&x.attr("stroke-opacity",(function(t){return Oh(e,n,"line-opacity",t)})),Th(t,"fill-opacity")&&x.attr("fill-opacity",(function(t){return Oh(e,n,"fill-opacity",t)})),Th(t,"fill-color")&&x.attr("fill",(function(t){return Oh(e,n,"fill-color",t)})),Th(t,"fill-pattern")&&x.attr("fill",(),Th(t,"line-gap-width")&&x.attr("stroke-width",(),Rh(t,"line-cap")&&x.attr("stroke-linecap",Ch(e,n,"line-cap")),Rh(t,"line-join")&&x.attr("stroke-linejoin",()}})),r.select(".mapboxgl-canvas").remove(),c&&c.remove()}var Yh={init,Xh={init;onst Wh=600;var $h=wt,Zh=/\s/;var Jh=Kh=/^\s+/;var Qh=At,td=or;var ed=nd=Dt,rd=id=/^[-+]0x[0-9a-f]+$/i,od=/^0b[01]+$/i,ad=/^0o[0-7]+$/i,sd=parseInt;var ud=Dt,ld=cd=pd=Math.max,fd=Math.min;var hd=dd=ft(hd);var gd=vn,yd=md=function(t){return this.__data__.has(t)};d.prototype.add=_d.prototype.push=yd,_d.prototype.has=md;var vd=_d,bd=xd=var wd=var Ed=var Nd=Id=Bn,Sd=_e,Cd=wd,Ld=Ed,Md=Nd,Od=Et?Et.prototype:void 0,Pd=Od?Od.valueOf:void 0;var Rd=var Td=Ad=Td,Dd=gr;var kd=var Fd=var zd=Fd,jd=function(){return[]},Gd=Object.prototype.propertyIsEnumerable,Bd=Object.getOwnPropertySymbols,qd=Bd?jd,Ud=qd,Vd=Jn(Object.keys,Object),Yd=tr,Xd=Vd,Hd=Object.prototype.hasOwnProperty;var Wd=$d=pi,Zd=Wd,Jd=vr;var Kd=Qd=kd,tg=Ud,eg=Kd;var ng=rg=ng,ig=Object.prototype.hasOwnProperty;var og=ag=ie(wt,"DataView"),sg=ze,ug=ie(wt,"Promise"),lg=ie(wt,"Set"),cg=ie(wt,"WeakMap"),pg=At,fg=Vt,hg="[object Map]",dg="[object Promise]",gg="[object Set]",yg="[object WeakMap]",mg="[object DataView]",_g=fg(ag),vg=fg(sg),bg=fg(ug),xg=fg(lg),wg=fg(cg),Eg=pg;(ag&&Eg(new ag(new ArrayBuffer(1)))!=mg||sg&&Eg(new sg)!=hg||ug&&Eg(ug.resolve())!=dg||lg&&Eg(new lg)!=gg||cg&&Eg(new cg)!=yg)&&(Eg=;var Ng=Pn,Ig=wd,Sg=Rd,Cg=og,Lg=Eg,Mg=gr,Og=Ir,Pg=Xr,Rg="[object Arguments]",Tg="[object Array]",Ag="[object Object]",Dg=Object.prototype.hasOwnProperty;var kg=Fg=kg,zg=or;var jg=Gg=jg;var Bg=ft(();ar Ug={init,Vg={init,Yg={init:,Xg={init;function Hg(t,e,n){let r,i;return 2===arguments.length&&"function"==typeof e?(i=e,r="include"):1===arguments.length?(i=void 0,r="include"):(i=n,r=e),t,"GET",r,null,i)}var Wg=Math.atan2,$g=Math.cos,Zg=Math.sin,Jg=Math.PI,Kg=Jg/2,Qg=180/Jg,ty=Jg/180;ction fy(t,e,n,r,i){let o;const a=r.boundaryGeom;if(!a||!a.objects)return void console.warn("No boundary geom");try{o=ay(a,a.objects.geom)}catch(t){return void console.warn("TopoJSON conversion not working ",t)}const s=zf().projection(null),u=s.centroid(o),l=Wf(Kf).scale(124.75).clipAngle(179.999).rotate([-u[0],-u[1]]).fitSize([r.width,r.height],o);s.projection(l),l.fitSize([r.width,r.height],o);const c=r.customUpload||r.hasInnerBorders,p={stroke:po(i,"region.landOutline","#494949"),strokeWidth:po(i,"region.outline.width",.7)/(c?2:1),strokeDasharray:po(i,"region.outline.strokeDashArray")};c||n.append("path").datum(o).attr("d",s).style("fill","transparent").st(p);const f=n.append("path").datum(o).attr("d",s).style("fill",po(i,"region.land"));c&&f.st(p),po(i,"region.outerBlur")&&uy(f,{strength:0,blur:6,alpha:.15});const h=e.getElementBounds(f.node()),d=po(i,"region.inBox",!1),g=d?0:(r.width-h.width)/2,y=d?0:(r.height-h.height)/2;if(n.translate([g*(r.position.indexOf("left")>-1?-1:1),y*(r.position.indexOf("top")>-1?-1:1)]),r.viewPoints){const a=ly(r.viewPoints),u=s.bounds(o),l=u[1][0]-u[0][0],c=u[1][1]-u[0][1];if(s.area(a)<=l*c*.8)if(s.area(a)<10){const t=n.append("circle.view").translate(s.centroid(a)).attr("r",3).style("fill",po(i,"view.color")).style("stroke-width",po(i,"view.strokeWidth")),r=e.getElementBounds(f.node()),o=e.getElementBounds(t.node()),u=4;(o.left+u<r.left||o.bottom-u>r.bottom||o.top+u<r.top||o.right-u>r.right)&&t.style("opacity",0)}else{const o=n.append("path.view").attr("d",s(a)).style("opacity",1).style("stroke",po(i,"view.color")).style("stroke-width",po(i,"view.strokeWidth")).style("stroke-dasharray",po(i,"view.strokeDashArray")),u=e.getElementBounds(t.node()),l=e.getElementBounds(o.node());(l.left<u.left-(r.position.indexOf("left")>-1?15:0)||l.bottom>u.bottom+10||l.top<u.top-15||l.right>u.right+(r.position.indexOf("right")>-1?15:0))&&o.style("opacity",0)}}return{centroidPx:s.centroid(o),dx:g,dy:y}}var hy,dy={exports:{}};
/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE */ar yy=ft(window.DOMPurify||(window.DOMPurify=gy().default||gy()));const my=_y=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"].sort(),vy=1e5,by=my((t=>t.version),();onst wy=(t,e)=>e,Ey={inBox:!1,globe:{globeOutline:{width:2,strokeDashArray:!1,color:"green"},landOutline:{width:1,strokeDashArray:!1,color:"black"},graticule:{width:.5,strokeDashArray:!1,color:"black"},outerBlur:!0,land:"#ffffff",water:"#288fd9",background:"#000000"},region:{outerBlur:!0,outline:{width:.7,strokeDashArray:!1},land:"#ffffff",landOutline:"black"},view:{strokeWidth:2,strokeDashArray:!1,color:"red"},label:{color:"#bababa",fontSize:!1,letterSpacing:1,lineHeight:1.2,fontWeight:!1,textTransform:!1,typeface:"inherit"},padding:{"bottom-right":"30px 15px 15px 15px","bottom-left":"15px 30px 15px 15px","top-right":"15px 15px 15px 30px","top-left":"15px 30px 15px 15px"}};const Ny=(t,e)=>e;function Iy(){let t=arguments.length>1?arguments[1]:void 0,e={type:"region",visType:void 0,width:250,height:250,center:[0,0],position:"top-right",boundaryGeom:void 0,viewPoints:void 0,labelText:"",customUpload:!1};if(e=Ol(e,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{arrayMerge:Ny}),"region"===e.type&&!e.boundaryGeom&&0===Object.keys(e.boundaryGeom).length)throw new Error("you need to pass geometry for type region");if(!e.viewPoints)throw new Error("you need to pass some view points");if(!e.themeData||!e.visType)throw new Error("you need to pass themeData and the visualization type");const n=e.themeData,e.visType);return function(r){r.html("");const i=r.classed("inset-map-container",!0).classed("inset-map-".concat(e.type),!0),o=i.append("svg").style("overflow","visible").at({width:e.width,height:e.height}).append("g.inset-map");if("globe"===e.type)py(o,e,n);else if("region"===e.type){const{centroidPx:r,dx:a,dy:s}=fy(i,t,o,e,n);""!==e.labelText&&i,t,e,n,r,a,s)}else console.warn("this type doesn't exist");return i}}var Sy={init(t,e,n,r){function i(i){if(!r.querySelector(".mapboxgl-canvas"))return;const{miniMap:a}=i;let s;if("globe"!==a.opt){const t=n.chart().asset("minimap-geometry.json");if(t)try{s=JSON.parse(t)}catch(t){}}t.html(""),a,s)&&function(i,a){const s=i.miniMap,u=n.__theme,l=r.querySelector(".mapboxgl-canvas").clientHeight,c=r.querySelector(".mapboxgl-canvas").clientWidth,p=void 0!==s.offsetX||void 0!==s.offsetX,f=Math.min(1,c/i.defaultMapSize),h=po(u,"vis.locator-maps.miniMap.distFromEdge",p?0:5),d=((s.size||165)-45)*f,g=d,y="globe"===s.opt?"globe":"region",m={"bottom-right":po(u,"vis.base.insetMap.padding.bottom-right",po(u,"vis.locator-maps.miniMap.padding.bottom-right","30px 15px 15px 30px")),"bottom-left":po(u,"vis.base.insetMap.padding.bottom-left",po(u,"vis.locator-maps.miniMap.padding.bottom-left","10px 35px 15px 10px")),"top-right":po(u,"vis.base.insetMap.padding.top-right",po(u,"vis.locator-maps.miniMap.padding.top-right","10px 5px 15px 35px")),"top-left":po(u,"vis.base.insetMap.padding.top-left",po(u,"vis.locator-maps.miniMap.padding.top-left","10px 35px 15px 15px"))};let _=0,v=0;if(p){const t=-1!==s.position.indexOf("right")?Number(m[s.position].split("px")[1]):Number(m[s.position].split("px")[3]),e=-1!==s.position.indexOf("top")?Number(m[s.position].split("px")[0]):Number(m[s.position].split("px")[2]);_=(c-d)*(s.offsetX/100)-t,v=(l-g)*(s.offsetY/100)-e}t.style("height",g+"px").style("bottom",().style("top",-1===s.position.indexOf("bottom")?h+v+"px":"unset").style("left","unset").style("right","unset").attr("class",s.position).style(-1===s.position.indexOf("right")?"left":"right",h+_+"px").style("padding",m[s.position]),u.vis["locator-maps"]||(u.vis["locator-maps"]={});u.vis["locator-maps"].insetMap||(u.vis["locator-maps"].insetMap={});u.vis["locator-maps"].insetMap.padding=m;const b=e.getStyle(),x=po(b,"metadata.style.colors.land","#f2f3f0"),w=po(b,"metadata.styleIsDark",!1),E={globe:{globeOutline:{color:po(b,"metadata.style.colors.miniMap.globe.globeOutline",w?Yu(x).darker(-1).hex():"#ffffff")},landOutline:{color:po(b,"metadata.style.colors.miniMap.globe.landOutline")},graticule:{color:po(b,"metadata.style.colors.miniMap.globe.graticule","hsla(0,0%,100%,".concat(w?.2:.5,")"))},land:po(b,"metadata.style.colors.miniMap.globe.land",w?"#000000":"#ffffff"),water:po(b,"metadata.style.colors.miniMap.globe.water",Rs(b.layers,{id:"ocean"}).paint["fill-color"]),background:po(b,"metadata.style.colors.miniMap.globe.background","#00000055")},region:{land:po(b,"metadata.style.colors.miniMap.region.land",w?Yu(x).darker(-1).hex():"#ffffff"),landOutline:po(b,"metadata.style.colors.miniMap.region.landOutline",w?"#000000":"#494949")},view:{color:po(b,"metadata.style.colors.miniMap.view",w?"#c91e1e":"#d00")},label:{color:po(b,"metadata.style.colors.miniMap.region.label",w?"#a8a8a8":"#bababa")}},N=(t,e)=>e;u.vis["locator-maps"].insetMap=Ol(u.vis["locator-maps"].insetMap,E,{arrayMerge:N});const I={type:y,viewPoints:o(c,l),visType:"locator-maps",width:d,height:d,center:e.getCenter().toArray(),position:s.position,boundaryGeom:a,labelText:s.label,customUpload:s.bounds&&s.bounds.imported,hasInnerBorders:!(!s.bounds||!s.bounds.hasInnerBorders),themeData:u,zoom:e.getZoom()},S=Iy(I,n.chart());t.call(S)}(i,s)}eturn{render:i,initEditor}}; Ry={circle:1,square:1,locator:1,certificate:1,heart:1,"round-square":1},Ty=_y.concat("img"),Ay=Ty.concat(["table","thead","tbody","tfoot","caption","colgroup","col","tr","td","th"]),Dy=Math.cos(.25*Math.PI),ky=Math.sin(.25*Math.PI);Uy=Vy=qy(!0),Yy=qy(!1);var Xy=Object.freeze({__proto__:null,straight:Uy,curveLeft:Vy,curveRight:Yy});onst Wy={triangle:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:20,path:"M-8.75,-3.75 L 1,0 L -8.75,3.75"},lines:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:15,path:"M-4.75,-3.75 L 0,0 L -4.75,3.75",strokes:!0}};function $y(t,e,r,i,o){const a=JSON.parse(JSON.stringify(t));if(a.coordinates).find(())return void console.warn('Invalid coordinates "'.concat(a.coordinates,'" for marker ').concat(a.id));r?a.markerColor=a.markerColor,r):(console.warn("no theme found"),a.markerColor="#333333");const s=Ly(e.getStyle(),a,o,i.vis().darkMode()),u=po(r,"vis.locator-maps.tooltip.maxWidth",200)+"px",l=document.createElement("div"),c=a.visibility;lt(l).classed("mobile-only",c.mobile&&!c.desktop).classed("desktop-only",!c.mobile&&c.desktop);const p=lt(l).append("div").attr("id",a.id).classed("text-only","none"===a.icon.id).classed("m-wrapper",!0).classed(a.class,""!==a.class);let f;const h=()=>{f=p.append("div").classed("export-rotation",!0);const t=a.text,e="box"===a.labelStyle||"box-rounded"===a.labelStyle,n=s("text.color");f.append("div.marker-text.label").style("text-align",a.anchor)).style("font-weight",t.bold?"700":"").style("font-style",t.italic?"italic":"").style("text-transform",t.uppercase?"uppercase":"").style("letter-spacing",t.space?"3px":"").style("color",n||"").style("font-size",t.fontSize+"px").style("text-shadow",e?"none":((1,1,s("text.halo"))).html(Oy(xy(a.title,Ty))).classed("label-style-box",e).classed("dw-italic",t.italic).classed("dw-bold",t.bold).classed("label-style-box-rounded","box-rounded"===a.labelStyle).style("background-color",e?Cy(n)<.45?"white":"#222":"none")};"none"===t.icon.id&&h();const d=a.icon,g=0!==d.vCenter,y=""!==a.markerSymbol;"circle"!==d.id&&"square"!==d.id&&"round-square"!==d.id||y?"certificate"!==d.id||y?"heart"===d.id&&y&&(d.scale=1.3):d.scale=1:d.scale=.75,"circle"===d.id&&(d.scale*=1.2);const m=28*(d.scale||1)*(a.scale||1),_=m/1.4,v=p.append("svg.svg-marker").attr("width",m).attr("height",m),b=v.append("g#svg-id-".concat(a.id)).translate([-m/2,-m/2]),x=b.append("g.helper").style("display","none").translate([m/2,m/2]);x.append("path.helper-line").attr("d","M0,0"),x.append("circle.helper.from").attr("r",3),x.append("circle.helper.to").attr("r",3),x.append("text.dx"),x.append("text.dy"),a.helpers=x;let w=425;"locator"===d.id&&(w=1.65*d.textBaseline);const E=s("markerColor"),N=Cy(E)<.45?"white":"#333333";if("none"!==d.id){d.width||(d.width=d["horiz-adv-x"],d.height=void 0!==d.vCenter?d.vCenter:425);const t=b.append("path.icon-"+d.id).attr("d",d.path).attr("transform","translate(".concat(m/2,",").concat(g?m/2:0,") scale(").concat(_/1e3,",-").concat(_/1e3,") translate(").concat(-d.width/2,",").concat(g?-d.height/2:.75*-d.height,")")).style("fill",E),e=b.append("path").attr("d",d.path).classed("icon-invis",!0).attr("transform","translate(".concat(m/2,",").concat(g?m/2:0,") scale(").concat(_/1e3,",-").concat(_/1e3,") translate(").concat(-d.width/2,",").concat(g?-d.height/2:.75*-d.height,")")).style("stroke","rgba(0,0,0,0)").style("fill","rgba(0,0,0,0)").style("vector-effect","non-scaling-stroke").style("stroke-width","10px");d.outline&&(t.st({fill:"none",stroke:E,"stroke-width":d.outline,"vector-effect":"non-scaling-stroke"}),e.st({fill:"none"}))}let I;if(y&&Ry[d.id]){const t="tb-".concat((1e9*Math.random()).toFixed());b.append("rect.textbox#".concat(t)).st({fill:"#ff00ff44",opacity:0,"pointer-events":"none"}).at({width:m,height:m}),I=b.append("text").text(a.markerSymbol).at({x:m/2,y:m-m*(w/920),fill:N,"data-anchor":"middle-center","data-bbox":t,"font-size":14*(a.scale||1),"font-weight":700})}"none"!==a.icon.id&&h();const S=b.append("defs").append("filter").attr("id","glow");S.append("feGaussianBlur").attr("class","blur").attr("stdDeviation","4.5").attr("result","coloredBlur");const C=S.append("feMerge");C.append("feMergeNode").attr("in","coloredBlur"),C.append("feMergeNode").attr("in","SourceGraphic");const L=1.05*_;let M=String(po(a,"tooltip.text",""));const O=M.trim().length>0;O&&(M=xy(M,Ay),M=Oy(M));const P=new n.default.Popup({offset:10,closeButton:!1,maxWidth:u}).setHTML('<span class="tooltip-text-wrapper">'.concat(M,"</span>")),R=new n.default.Marker(l).setLngLat(a.coordinates||[0,0]).setPopup(!!O&&P).addTo(e);if(y&&Ry[d.id]){const t="aceghijmnopqrsuvwxyz",e=a.markerSymbol,n=t.indexOf(e)>-1?-1:0;I.translate([0,-(w-425)/m*.15+n])}const T=R,a,i),A=lt(R._element).select(".marker-text").style("left",T[0]+"px").style("top",T[1]+"px");if(po(a,"connectorLine.enabled",!1)){const t=po(e.getStyle(),"metadata.styleIsDark",!1),n=i.getElementBounds(A.node()),r="none"!==a.icon.id?L/2:0,o="circle-out-1"===a.icon.id||"circle-out-2"===a.icon.id?-1:0,s={source:{x:T[0],y:T[1],width:n.width,height:n.height},arrowHead:a.connectorLine.arrowHead,sourcePadding:"plain"===a.labelStyle?5:0,targetPadding:r+a.connectorLine.targetPadding+o,circle:!1,type:a.connectorLine.type,strokeWidth:a.connectorLine.stroke,color:t?"#f1f1f1":"#333333"};a.connectorLineOpts=s;const u=Hy(s);v.call(u);const l=v.select(".callout-line").select("path").attr("d");v.select(".callout-line").at("transform",(()=>0!==a.rotate?"rotate("+a.rotate+")":"")),a.connectorLine.lineLength=Py(l,a.connectorLine.targetPadding),a.connectorLine.lineLength<=10&&v.select(".callout-line").remove()}return f.style("transform",().attr("data-rotate",a.rotate).attr("data-anchor",a.anchor).attr("data-offsetx",a.offsetX).attr("data-offsety",a.offsetY),{marker:R,markerSettings:a}}{init(t,e,n,r){let i,o,a,s,u,l=!0,c=null,p=new Set,f=new Set,h=new Set;const d=r.chart();let g={};const y={editor:!1,postRender:!1};turn{render:_,initEditor(n){y.editor=n;const c=n.chart;let p,f,h,d,m,v;x(),w(),e.on("mousemove",(),n&&window.addEventListener("mouseup",(),y.postRender=let b=JSON.stringify(r.chart().dataset().markers.map(nm));observeDeep("dataset.markers",((t,e)=>{if(void 0===e)return;const n=JSON.stringify(t.map(nm));if(n!==b&&(_(t,b&&JSON.parse(b)),b=n),w(),s&&s.getPopup()&&s.getPopup().isOpen()){let t=String(po(g[u.id].markerSettings,"tooltip.text",""));t=xy(t,Ay),t=Oy(t),s.getPopup().setHTML(t)}})),c.observeDeep("theme",(),["darkMode","metadata.visualize.dark-mode-invert"].forEach(()}}}};var im={init(t){let e,{mapContainer:n,mapkeyContainer:r,vis:i}=t;const o=i.colorMap()||(t=>t);function a(t,a){e=a,function(t){let{mapContainer:e,mapkeyContainer:n,mapStyle:r,settings:i,cm:o,darkMode:a}=t;if(n.classed("enabled",i.enabled),n.classed("mk-top","top"===i.position),n.classed("mk-bottom","top"!==i.position),n.html(""),!i.enabled)return;const s=i.items;i.title.length&&n.append("p.key-title.export-text").text(i.title);var u=n.parent().node();"top"===i.position?u.insertBefore(n.node(),e.node()):u.insertBefore(e.node(),n.node());const l=i.columnWidth||200;if("grid"===i.style){const t=[];pu(1,Math.min(7,s.length)).forEach((),n.append("style").html(t.join("\n\n"))}n=n.append("div.key-items").classed(i.style,!0);for(var c=0;c<s.length;c++){const t=s[c],e=n.append("div.key-item"),u=t.icon,l=""!==t.markerSymbol;"circle"!==u.id&&"square"!==u.id||l?"certificate"!==u.id||l?"heart"===u.id&&l?u.scale=1.3:"circle-out-1"!==u.id&&"circle-out-2"!==u.id||(u.scale=1.3):u.scale=1:u.scale=.75,u.scale*=1;const d=28*(u.scale||1),g=d/1.4,y=void 0!==u.vCenter?u.vCenter:425,m=void 0!==u.textBaseline?u.textBaseline:425,_=g*("locator"===u.id?1.1:.7),v=e.append("div.svg-container").append("svg").attr("width",d).attr("height",d).style("overflow","visible"),b=t.markerPattern&&"solid"!==t.markerPattern,x="icon-pattern-".concat(t.id),w=Ly(r,"area"===t.type?{properties:{...t,fill:t.markerColor},highlight:t.highlight}:"line"===t.type?{properties:{...t,stroke:t.markerColor}}:t,o,a),E=h(t,w);b&&$l({defs:v.append("defs"),id:"icon-pattern-".concat(t.id),stroke:E,strokeWidth:10,lineGap:10,patternType:t.markerPattern,scale:10}),v.append("path").attr("d",u.path).attr("transform","translate(".concat(.7*g,",").concat(_,") scale(").concat(g/1e3,",-").concat(g/1e3,") translate(").concat(-u["horiz-adv-x"]/2,",-").concat(y,")")).style("fill",b?"url(#".concat(x,")"):E).style("stroke",p(t,w)).style("fill-opacity",t.fillOpacity).style("stroke-width",f(t)).style("vector-effect",u.outline?"non-scaling-stroke":"none"),l&&Ry[u.id]&&v.append("text").text(t.markerSymbol).attr("x",d/2).attr("y",d-d*(m/900)).attr("font-size",14).attr("fill",Cy(E)<.45?"white":"black").attr("text-anchor","middle").attr("font-weight","700");const N="grid"===i.style?_y.concat("p"):_y.filter(();e.append("div").html('<p class="export-text">'+xy(t.text,N)+"</p>")}mapContainer:n,mapkeyContainer:r,mapStyle:e,settings:t,cm:o,darkMode:i.darkMode()})}return{render:a,initEditor}};ar am=Object.prototype.hasOwnProperty;r lm=new ArrayBuffer(16),cm=new Float64Array(lm),pm=new Uint32Array(lm);838:{bbox:[-128,23,-64,51]},382313:{bbox:[128,30,147,46]},295480:{bbox:[-10,37,-5,42.3],extraRegions:["iberian-peninsula"]},1311341:{bbox:[-12.19,34.58,5.61,45.01],extraRegions:["iberian-peninsula"]},108089:{bbox:[-82,-5,-74,2]},62149:{bbox:[-8.6,49.5,3,59.5],extraRegions:["british-isles"]},156393:{extraRegions:["ireland-island","british-isles"]},62273:{extraRegions:["ireland-island","british-isles"],label:"Ireland (country)"},62269:{extraRegions:["british-isles"]},62504:{extraRegions:["berlin-brandenburg"]},62422:{extraRegions:["berlin-brandenburg"]},167454:{bbox:[-77,-57,-65,-16]},2978650:{bbox:[4.37,57.86,31.45,71.22],useCachedBoundary:!0,extraRegions:["scandinavian-peninsula"]},412377:{extraRegions:["innlandet"]},407787:{extraRegions:["vestland"]},406389:{extraRegions:["troms-og-finnmark"]},412297:{extraRegions:["viken"]},406015:{extraRegions:["agder"]},52822:{extraRegions:["scandinavian-peninsula"]},304751:{extraRegions:["new-guinea"]},4521145:{extraChildren:["fakfak","kaimana","manokwari-city","manokwari-selatan1","manokwari-selatan2","manokwari","maybrat","raja-ampat","sorong-city","sorong-selatan","sorong","teluk-bintuni","teluk-wondama"]},4521144:{extraChildren:["deiyai","pegunungan-bintang"]},307866:{extraRegions:["new-guinea"]},72594:{useCachedBoundary:!0},2323309:{bbox:[2.92,50.96,7.43,53.85],useCachedBoundary:!0},62782:{bbox:[9.6322,53.3439,10.395,53.7844]},80500:{bbox:[111.35,-44.46,155.126,-8.581]},2369652:{useCachedBoundary:!0},2552485:{label:"Manhattan"},369518:{label:"Brooklyn"},369519:{label:"Queens"},8398123:{parent_id:8398124},8398122:{parent_id:8398124},8398120:{parent_id:8398124},8398119:{parent_id:8398124},8398118:{parent_id:8398124},8398115:{parent_id:8398124},8398114:{parent_id:8398124},8398113:{parent_id:8398124},8398108:{parent_id:8398124},8398107:{parent_id:8398124},8398121:{parent_id:8398124},8398117:{parent_id:8398124},8398116:{parent_id:8398124},8398112:{parent_id:8398124},8398111:{parent_id:8398124},8398110:{parent_id:8398124},8398109:{parent_id:8398124},8398106:{parent_id:8398124},8398105:{parent_id:8398124},8398104:{parent_id:8398124},8398103:{parent_id:8398124},8398102:{parent_id:8398124},8398101:{parent_id:8398124},8398100:{parent_id:8398124},8398099:{parent_id:8398124},8398098:{parent_id:8398124},8398097:{parent_id:8398124},8398096:{parent_id:8398124},8398094:{parent_id:8398124},8398093:{parent_id:8398124},8398092:{parent_id:8398124},8398091:{parent_id:8398124},8398090:{parent_id:8398124},8398089:{parent_id:8398124},8398088:{parent_id:8398124},8398087:{parent_id:8398124},8398086:{parent_id:8398124},8398085:{parent_id:8398124},8398084:{parent_id:8398124},8398083:{parent_id:8398124},8398082:{parent_id:8398124},8398080:{parent_id:8398124},8398071:{parent_id:8398124},8398070:{parent_id:8398124},556706:{bbox:[164.99,-47.484,179.05,-33.77]},192307:{useCachedBoundary:!0},1473946:{useCachedBoundary:!0,extraRegions:["israel-occupied-territories"]},72596:{useCachedBoundary:!0},443174:{bbox:[117.213,5.611,126.547,18.615]},2850940:{bbox:[117.213,5.611,126.547,18.615]},60189:{useCachedBoundary:!0,extraRegions:["russia-no-crimea"],label:"Russia and Crimea"},1059500:{extraRegions:["south-federal-district-no-crimea"],label:"South federal district with Crimea"},3795586:{extraRegions:["crimea"]},175905:{useCachedBoundary:!0},68841:{useCachedBoundary:!0},365307:{useCachedBoundary:!0},298285:{useCachedBoundary:!0},1320608:{extraRegions:["capital-region-denmark-no-bornholm"]},2192363:{extraRegions:["copenhagen-municipality-frederiksberg"]},1116270:{bbox:[-172,53,-130,72]},165789:{useCachedBoundary:!0},165471:{useCachedBoundary:!0},162109:{useCachedBoundary:!0},111968:{bbox:[-122.54,37.68,-122.35,37.84]},165466:{useCachedBoundary:!0},162061:{useCachedBoundary:!0},61320:{useCachedBoundary:!0},161816:{useCachedBoundary:!0},122586:{useCachedBoundary:!0}};nction Sm(t){let{oceans:e,boundaries:n}=t;return new Promise(((t,r)=>{if(0===e.length)return void t({oceans:e,boundaries:n});const{inputData:i,mapShaperCommand:o}=Im(e);Nm(i,o,((i,o)=>{if(i)return r(i);e=o,t({oceans:e,boundaries:n})}))}))}ction Om(t,e){let{bbox:n,osmId:r,boundaryName:i,type:o,preview:a}=t;if(!n)return console.warn("no bbox here"),void e(new Error("no bbox here"));const s=r.toString().startsWith("extra-"),u=()=>{const t=s?r:"osm-".concat(r);Hg("https://static.dwcdn.net/regions/".concat(t,".json?c=").concat(Math.random()),"omit",()},l=Em[r];l&&l.useCachedBoundary||s?s&&a?a.getContext(():u():a.getContext(()}var Pm={version:8,name:"boundaries",sources:{openmaptiles:{type:"vector",minzoom:0,maxzoom:17},boundaries:{type:"vector",minzoom:0,maxzoom:14}},layers:[{id:"ocean",type:"fill",source:"openmaptiles","source-layer":"water",filter:["==","class","ocean"],layout:{visibility:"visible"},paint:{"fill-color":"blue","fill-antialias":!0}},{id:"boundaries",type:"fill",source:"boundaries","source-layer":"admin",paint:{"fill-color":"#c00","fill-opacity":.2},layout:{}}]};let Rm=null;function Tm(t,e){t()?e():setTimeout((,100)}function Am(t,e){return(t||0)+Math.log(e/Wh)/Math.LN2}w.visualization.register("locator-map","base",(),...dw.visualization.hasVisHash?["ddd820a5"]:[]);const km=/\.datawrapper\.(de|dev|local)$/}();

