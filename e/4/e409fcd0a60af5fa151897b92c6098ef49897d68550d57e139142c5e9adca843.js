!{0:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=function(){function e(){this._loggers=[]}return e.prototype.addLogger=e.prototype.removeLogger=e.prototype.log=function(e,t){this._loggers.forEach((function(n){return n.log(e,t)}))},e.prototype.error=function(e,t){this._loggers.forEach((function(n){return n.error(e,t)}))},e.prototype.info=function(e,t){this._loggers.forEach((function(n){return n.info(e,t)}))},e.prototype.warn=function(e,t){this._loggers.forEach((function(n){return n.warn(e,t)}))},e.prototype.debug=function(e,t){this._loggers.forEach((function(n){return n.debug(e,t)}))},e.prototype.trace=e}(),i=n(2),o=function(){function e(e){var t=(void 0===e?{}:e).level;this.PREFIX="[exco:ap]",this._level=i.a.NONE,this._level=null!=t?t:i.a.NONE}return e.prototype.error=function(e,t){var n;this._level>=i.a.ERROR&&this._print("error",e||(null==t?void 0:t.message)||(null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.message),t)},e.prototype.warn=function(e,t){this._level>=i.a.WARN&&this._print("warn",e,t)},e.prototype.log=function(e,t){this._level>=i.a.LOG&&this._print("log",e,t||{})},e.prototype.info=function(e,t){this._level>=i.a.INFO&&this._print("info",e,t)},e.prototype.debug=function(e,t){this._level>=i.a.DEBUG&&this._print("debug",e,t)},e.prototype.trace=function(e,t){this._level>=i.a.TRACE&&this._print("trace",e,t)},e.prototype._print=e}(),a=new r;function s(e){window.location.search.includes("expd=1")&&a.addLogger(new o({level:i.a.ALL})),e.logger&&a.addLogger(e.logger)}t.a=a},1:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a}));var r,i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=i(i({},{AD:{ANY:"ad.*",INIT:"ad.init",STARTED:"ad.started",PLAYING:"ad.playing",TIME_UPDATE:"ad.time-update",IMPRESSION:"ad.impression",PROGRESS:"ad.progress",FIRST_QUARTILE:"ad.first-quartile",MIDPOINT:"ad.midpoint",THIRD_QUARTILE:"ad.third-quartile",COMPLETED:"ad.completed",CLICKED:"ad.clicked",SKIPPED:"ad.skipped",VIDEO_CLICKED:"ad.video-clicked",ERROR:"ad.error",VIEWABILITY:"ad.viewability",XML_PARSED:"ad.xml-parsed"},CONTENT:{ANY:"content.*",START:"content.start",RESUMED:"content.resumed",SKIPPED:"content.skipped",COMPLETED:"content.completed"},PLAYER:{ANY:"player.*",INIT:"player.init",LOAD:"player.load",MUTED:"player.muted",UNMUTED:"player.unmuted",PLAYING:"player.playing",PAUSED:"plauer.paused",CLOSED:"player.closed",SLOT_START:"player.slot-start",SLOT_END:"player.slot-end",IN_VIEW:"player.in-view",OUT_OF_VIEW:"player.out-of-view",FIRST_VIEW:"player.first-view",CTA_CLICKED:"player.cta-clicked",AUTOPLAY_BLOCKED:"player.autoplay-blocked",ACTION:{CLOSE:"player.action.close",PAUSE:"player.action.pause"}},STICKY:{CLOSED:"sticky.closed",OPENED:"sticky.opened",ACTION:{CLOSE:"sticky.action.close",HIDE:"sticky.action.hide"}},PLUGIN:{ANY:"plugin.*",EVENT:"plugin.event",ENABLED:"plugin.enabled",AUCTION:"plugin.auction",ACTION:{AUCTION:"plugin.action.auction"}}}),{INTERNAL:{CONTENT:{START:"internal.content.start",PLAYING:"internal.content.playing"},AD:{INIT:"internal.ad.init",SLOT_END:"internal.ad.slot-end",UPCOMING_SLOT:"internal.ad.upcoming-slot",PAUSE_FOR_CONTENT:"internal.ad.pause-for-content"},AUCTION:{END:"internal.auction.end"}},EXTERNAL:{CONTENT:{START:"external.content.start"},AD:{INIT:"external.ad.init"}}}),a=,117:function(e,t,n){"use strict";n.r(t);n(17);var r=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};c=u=function(e){return void 0!==e},l=function(e){return s(e)};nction(){eturn e.delay=function(t,n){void 0===t&&(t=0);var r="function"==typeof t?t:n;return new e("number"==typeof t?t:0).start().then(r).catch((function(){}))},e.Seconds=e.prototype.cancel=e.prototype.reset=e.prototype.Seconds=e.prototype.start=function(){this.cancel();var e=this.hold();return this.timerId=setTimeout(this.resolve,this.msec),this.startedAt=Date.now(),this.elapsed=0,e},e.prototype.pause=e.prototype.resume=e.prototype.hold=function(e){var t=this;return new Promise(().then((function(){return t.pause()})).then(e)},e.prototype.rewind=e.prototype.trigger=e}(),b=E=_={type:new E(y,"type"),adContent:new E((function(e){return e}),"adContent"),allowLongImpressions:new E(v,"ali",(),clickText:new E(y,"actext"),clickTextEnabled:new E(v,"actcall"),controlBar:new E(v,"co"),initVpaidOnStart:new E(v,"initVpaidOnStart"),demandMaxAdStarts:new E(m,"dmas",Math.min),enableAdUI:new E(v,"adui"),expectedSureFastStart:new E(v,"sff"),iframeSlot:new E(v,"ifsl"),impressionOnlyWithVideoStart:new E(v,"strictImp"),interactive:new E(v,"interactive"),isVidible:new E(v,"vidible"),keepAlive:new E(m,"ka",Math.min),sandbox:new E(v,"sb"),skipOffset:new E(m,"skipOffset",Math.min),suggestedDuration:new E(m,"sdur",Math.min),useIMA:new E(v,"IMA"),vastPreferType:new E(m,"vt"),viewableOnStart:new E(v,"vos"),vpaidUseJSV:new E(v,"vjsv"),moat:new E((function(e){return e}),"moat",(),impDetail:new E(v,"impDetail"),reqLimit:new E(m,"reqLimit"),stopAdsOnImpression:new E(v,"stopAdsOnImpression"),requireViewability:new E(v,"vb")};function w(e){return"[object String]"===Object.prototype.toString.call(e)}D={onLoadedFuncs:[]};(e){try{e=decodeURIComponent(e)}catch(t){try{e=unescape(e)}catch(e){}}return e}=7e3;!te||(te={})),ne||(ne={}));var ie=((P={})[te.E_REQUEST]={url:"/vpx/requesti"},P[te.E_LOADED]={url:"/vpx/loadedi"},P[te.E_MIDS]={url:"/vpx/midsi"},P[te.E_END]={url:"/vpx/endi",immediate:!0},P[te.E_ADSTART]={url:"/vpx/starti",immediate:!0},P[te.E_ADSTART_WO_IMPRESSION]={url:null,immediate:!0},P[te.E_CLICK]={url:"/vpx/click",immediate:!0},P[te.E_VAST_ERROR]={url:"/vpx/errori",immediate:!1},P[te.E_START]={url:"/ppx/starti"},P[te.E_SERVED_AND_START]={url:"/ppx/served_and_starti"},P[te.E_ADPLAYED]={url:"/ppx/adplayedi"},P[te.E_SCHEDULED]={url:null},P[te.E_DETECTED]={url:null},P[te.E_PLAYER_ERROR]={url:"/ppx/errori"},P[te.E_CONTENT_CLICK]={url:null},P[te.E_ACTUAL_REQUEST]={exclude:!0,server:"a",url:"/areq"},P[te.E_SUBMIT_DEBUG_LOG]={exclude:!0,url:"sdl"},P[te.E_CLIENT_EVENT]={exclude:!0,url:"/lpx/v1"},P);var oe={subid:"sid",domain:"domain",domainDetected:"dd",widthDetected:"wd",heightDetected:"hd",sessionId:"se",playerVersion:"pv",timeFromStart:"s",flashSupport:"f",detect:"sa",vastId:"v",playerId:"p",demandId:"dmid",memUsed:"m",time:"t",time2:"t2",duration:"d",quartile:"qd",gpvTime:"gt",fpwReadyTime:"ft",domReadyTime:"dt",gpvM:"gm",roundNo:"r",gpvOrdNo:"gpvn",totalMemS:"tm",vastType:"y",actualVastType:"yy",state:"st",gpvAttempt:"ga",errorCode:"en",errorMessage:"em",mediaURL:"mu",logStartRequest:"ls",logLoadRequest:"lr",cedatoxPlayerId:"cxp",cedatoxVastId:"cxv",chosenVastId:"cv",parentPlayerId:"pp",retryTestGroup:"rtg",gpvCookie:"gpvck",cookie:"ck",eventCookie:"evck",pricing:"pricing",currency:"currency",impType:"impType"},ae=["playerId","vastId","demandId"],se=["cedatoxPlayerId","cedatoxVastId","chosenVastId","parentPlayerId"],ce=["eventCookie","subid","domain","sessionId","playerVersion","domainDetected","gpvCookie","detect"],ue=ce.concat(["timeFromStart"]);Ae(e,t,n,r){e.serverEvents.supplyEvent({name:"SupplyError",errorCode:t,message:n}),he(e,te.E_PLAYER_ERROR,{errorCode:t,errorMessage:n},{})}ar Ee,_e,we=n(0);function Te(e,t,n,r,i){for(var o=t.players,a=[],s=5;s<arguments.length;s++)a[s-5]=arguments[s];try{return n.apply(i,a)}catch(t){return Ae(o,3,e+" - JS exception: "+t.message),we.a.error("Safeguard: ".concat(e),t),r&&r(t)}}unction Se(e,t){return function(n){n&&!0!==n.cancelled&&(e&&Ae(e,3,t+" - JS exception: "+n.message),we.a.error("Safecatch: ".concat(t),n))}}!function(e){e.RSS="rss",e.SPLIT_RSS="split-rss"}(Ee||(Ee={})),function(e){e.INSTREAM="instream",e.OUTSTREAM="outstream"}(_e||(_e={}));var Oe=Ce={video:{url:[y],clickUrl:Oe,list:[{mas:m,url:y,fallbackUrl:y,title:y,type:y,id:y,duration:m,clickUrl:Oe,formattedUrls:{mp4:y,hls:y},adContent:v,fetchingErrorCount:m,categories:[y],keywords:[y]}],start:m,shuffle:v,loop:v,controlBar:v},image:{url:y,position:y},variants:{list:[{label:y,file:y}],selected:m,searchPattern:,wait:v,external:o};unction Pe(e,t){var n=e.contentDefinition;try{f(c,n,Ce,t))}catch(e){}}ar Re=n(46);ar xe="__exco_"; Ve,Me=n(4);!Ve||(Ve={}));var Fe=new Me.EventEmitter2;Ge,Je=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Ye=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function ze(){try{return new XMLHttpRequest}catch(e){return null}}(Ge={}));var et,tt=unction(e){e[e.None=0]="None",e[e.ScheduledFetch=1]="ScheduledFetch",e[e.Prefetching=2]="Prefetching",e[e.Fetching=3]="Fetching",e[e.Fetched=4]="Fetched",e[e.Loading=5]="Loading",e[e.Initing=6]="Initing",e[e.Pending=7]="Pending",e[e.Ready=8]="Ready",e[e.Started=9]="Started",e[e.Playing=10]="Playing",e[e.Completed=11]="Completed",e[e.Finished=12]="Finished",e[e.Error=13]="Error"}(et||(et={}));var it,ot,at,st,ct=n(1),ut=function(){return(ut=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};!it||(it={})),ot||(ot={})),at||(at={})),st||(st={}));var lt=[null,"firstQuartile","midpoint","thirdQuartile","complete"];function dt(e,t,n,r,i,o,a,s,c){if(e){if("function"==typeof e.vastError)return e.vastError(t,n,r,i,o,a,s,c);if(92!=n){var u,l="";if(void 0!==o&&o){if(3!=n&&o.vastErrorWasReported)return;u=o.mediaURL,u="",l=(o.state>=et.Started?((new Date).getTime()-o.startAdTime)/1e3:((new Date).getTime()-o.loadAdTime)/1e3).toFixed(1)}else u="";void 0===a&&(a=!1),void 0===s&&(s=!1),void 0===c&&(c="vast error");var d={errorCode:n,errorMessage:r,mediaURL:u};a&&!o.logStartWasDone&&(d.logStartRequest=1,o.logStartWasDone=!0),s&&!o.logLoadWasDone&&(d.logLoadRequest=1,o.logLoadWasDone=!0),""!=l&&(d.time=l),o.vastErrorWasReported=!0,[20,21,10].includes(n)||we.a.error("VAST Error: ".concat(o.vastId," - ").concat(n," - ").concat(r),{error:i||new Error(r),eventData:d}),e.eventDispatcher.sendErrorEvent(o,r,e)}}}var pt=document.createElement("video");nction vt(e,t,n){if(!n||!n.ads||!n.ads.length)return{reason:27,code:20,message:"empty response"};var r=n.ads[0];return r.creatives&&r.creatives.length?Te("chooseAdCreative",{players:e,playerData:t},(function(){return function(e,t,n){for(var r,i=null,o=null,a=["",""],s=a[0],c=a[1],u="",l=0,d=n.creatives;l<d.length;l++){var p=d[l];if("linear"==p.type)for(var f=p,h=0,v=f.mediaFiles;h<v.length;h++){var m=v[h],y=ft(m.mimeType),g=y[0],A=y[1];switch(g){case"video":if(!mt(e,t,m,A))continue;break;case"jsvpaid":t.hasJSVPAID=!0;break;default:continue}if(t.vastPreferType!=it.VIDEO_ONLY||"video"==g){if("video"==g){if("video"==s&&!yt(e,t,o,c,m,A))continue}else if("video"==s)continue;s=(r=[g,f,m,A])[0],i=r[1],o=r[2],c=r[3]}}else"companion"==p.type&&(u=gt(e,p,u))}if(!o)return{reason:5,code:22,message:"no suitable media"};return Te("chooseAdCreative",{players:e,playerData:t,log:!0},(,(function(){return{reason:28,code:3,message:"js exception"}}))}(e,t,r)}),():{reason:7,code:23,message:"no valid creatives"}}function mt(e,t,n,r){if(e.usejsv){if(["webm","mp4","wmv","flv"].indexOf(r)<0)return!1;if(n.deliveryType&&"streaming"==n.deliveryType||n.fileURL)||n.fileURL.length<8)return!1}else try{if(!pt.canPlayType(n.mimeType))return!1}catch(e){}return!0}function yt(e,t,n,r,i,o){if("mp4"!==r&&"mp4"==o)return!0;if("mp4"!=o&&"mp4"==r)return!1;var a=!0;if(i.bitrate&&n.bitrate){if(a=!1,n.bitrate&&i.bitrate>n.bitrate)return!1;i.bitrate==n.bitrate&&(a=!0)}else if(n.width&&i.width){a=!1;var s=n.width*n.height,c=i.width*i.height;if(s&&c>s)return!1;c==s&&(a=!0)}return!a||!r||"mp4"!=r&&"webm"!=r&&("mp4"!=o||"ogg"!=r&&"3gp"!=r)}ar At=);ar Et=function(){return(Et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};ction It(e,t,n){if(!(n<=0)){var r=((t.duration||0)/4).toFixed(2),i=n/4;t.quartile=n,e.serverEvents.demandEvent(t,Et({name:"AdProgress",progress:i,duration:parseFloat(r)*n,durationDelta:parseFloat(r)},bt(e))),1===i?e.eventDispatcher.sendAdCompleteEvent(t,e):(e.eventDispatcher.sendAdProgressEvent(t,i,e),ct.b.emit(ct.a.AD.PROGRESS,{demand:t,quartile:n,progress:i}))}}ar Ot,Ct=function kt(e){var t;return!!e&&Pt(e)&&e)&&!(null==e?void 0:e.isPubDemand)&&!e)&&(null===(t=e.vastURL)||void 0===t?void 0:t.includes("94166617"))}unction Dt(e,t){var n;return!!(null===(n=e.priceTables)||void 0===n?void 0:n.exco)&&kt(t)}!Ot||(Ot={}));var Rt,Lt,xt,Nt=jt=function Ut(e,t,n){return function(r){var i,o,a,s,c=(new Date).getTime().toFixed(0),u=((null===(i=e.content)||void 0===i?void 0:i.currentItem)||{}).id,l=e.content instanceof Ga?e.content.getUrl():"",d=(null===(o=e.content)||void 0===o?void 0:o.getRelevantCategories())||[],p=(null===(a=e.content)||void 0===a?void 0:a.getRelevantKeywords())||[];return r=function(e,t){return e=(e=e.replace(/\-GPV_GDPR\-/g,t.gdprConsentApplies?"1":"0").replace(/\-GPV_GDPR_CONSENT\-/g,t.gdprConsentString||"")).replace(/\-GPV_US_PRIVACY\-/g,t.usPrivacy||"")}(r=r.replace(/\[(CB|CACHE_BUSTER|CACHEBUSTING)\]/g,c).replace(/\[(WIDTH|CONTAINER_WIDTH)\]/g,e.width?e.width.toFixed():"").replace(/\[(HEIGHT|CONTAINER_HEIGHT)\]/g,e.height?e.height.toFixed():"").replace(/\[UA\]/g,encodeURIComponent(navigator.userAgent)).replace(/\[SUBID\]/g,encodeURIComponent(e.subid)).replace(/\[URL\]/g,encodeURIComponent(e.domain)).replace(/\[URL_DETECTED\]/g,encodeURIComponent(e.domainDetected)).replace(/\[EX_VIDEO_ID\]/g,u).replace(/\[VIDEO_CATEGORIES\]/g,encodeURIComponent(null==d?void 0:d.join(","))).replace(/\[EX_CNT_TAGS\]/g,encodeURIComponent(null==d?void 0:d.join(","))).replace(/\[VIDEO_KEYWORDS\]/g,encodeURIComponent(null==p?void 0:p.join(","))).replace(/\[VIDEO_FILE_URL\]/g,encodeURIComponent(l)).replace(/\[AUTOPLAY\]/g,"1").replace(/\[MUTED\]/g,"1").replace(/\[GPD_ID\]/g,(null===(s=e.publisher)||void 0===s?void 0:s.googlePublisherId)||""),e),e.info&&(r=r,e)),e.isApp&&(r=r,t,e.appParams)),n&&(r=r.replace(/\[CLICK_URL\]/g,encodeURIComponent(n.clickUrl))),t&&(r=r,t)),e.customVars&&(r=e,r)),e.customParams&&(r=e,r)),r}}||(Rt={})),function(e){e.APP_NAME="an",e.APP_BUNDLE="msid"}(Lt||(Lt={}));var Bt=qt=n(36),Ht=n.n(qt),Wt=function(){return(Wt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Gt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Jt=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};var Yt=function(e){return Gt(void 0,void 0,void 0,(function(){var t,n;return Jt(this,(function(r){switch(r.label){case 0:return t=function(e){Ht.a;var t=Qt(e),n=t.params,r=t.storage,i=t.partnerId;return window.ID5.init(Wt(Wt({},n),{storage:r,partnerId:i}))}(e),[4,zt(t)];case 1:return[2,{provider:"id5",eids:[null==(n=r.sent())?void 0:n.eids]}]}}))}))},zt=function(e){return new Promise((function(t){e.onAvailable((function(e){Kt(null==e?void 0:e.getUserId())?t({enabled:e._userIdAvailable,eids:null==e?void 0:e.getUserIdAsEid()}):t(null)}))}))},Xt=Kt=Qt=function(e){return{name:"id5Id",partnerId:1235,params:{partner:1235,pd:Xt(e),abTesting:{enabled:!0,controlGroupPct:0}},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:7200}}},Zt=function(){return(Zt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},$t=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},en=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},tn={partner:1181347726,timeoutInMillis:3e3,manualWinReportEnabled:!0,ABTestingConfigurationSource:"percentage"},nn=rn=on=var an=function(e,t){return void 0===t&&(t=null),new Promise(()},sn=function(e,t,n){return void 0===n&&(n=null),Promise.race([e,an(t,n)])},cn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},un=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ln="0015a00003EkOH8AAN",dn=null,pn=fn=function(e){return cn(void 0,void 0,void 0,(function(){var t,n;return un(this,(function(r){switch(r.label){case 0:return t={eids:[],provider:"lexicon"},!1===pn(e)?[2,t]:[4,vn()];case 1:return r.sent(),dn?[3,3]:(dn=new window._33AcrossIdMappingsProvider({src:"ppid",pid:ln}),[4,hn()]);case 2:r.sent(),r.label=3;case 3:return(n=dn.getIds())&&(t.eids=n),[2,t]}}))}))},hn=function(){return cn(void 0,void 0,void 0,(function(){return un(this,(function(e){return[2,new Promise(()]}))}))},vn=function(){return cn(void 0,void 0,void 0,(function(){return un(this,(function(e){return[2,new Promise((function(e){R("lexicon-sdk",(function(){return"//cdn-ima.33across.com/ima.js"}),(function(){return e()}),!0)}))]}))}))},mn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},yn=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},gn=An=function bn(e,t,n){t[n]&&t[n].eids&&t[n].eids.forEach(()}var En=function(e){var t=[{name:"lotamePanoramaId"},{name:"pubCommonId",storage:{name:"pubCommonId",type:"html5"}},{name:"sharedId",storage:{name:"_sharedID",type:"html5"}},{name:"identityLink",params:{pid:"13963",notUse3P:!1},storage:{type:"cookie",name:"idl_env",expires:15,refreshInSeconds:1800}},{name:"unifiedId",params:{url:"//match.adsrvr.org/track/rid?ttd_pid=343asog&fmt=json"},storage:{type:"cookie",name:"pbjs-unifiedid",expires:60}},Qt(e)];return pn(e)&&t.push({name:"33acrossId",params:{pid:ln},storage:{name:"33acrossId",type:"html5",expires:90,refreshInSeconds:28800}}),t},_n=wn=function(e,t){if(e){var n=_n(e,"lexicon"),r=_n(e,"id5"),i=_n(e,"iiq");return t.iiq&&(i.abTestGroup=t.iiq.intentIqConfig.abTesting.currentTestGroup),{id5:r,iiq:i,lexicon:n}}};ar In,Sn,On=function(e){try{var t=e.split("!"),n=t.splice(1),r=t[0].split(","),i=r[0],o=r[1];return{ver:i,nodes:n.map((),complete:parseInt(o,10)||o||""}}catch(e){}};function(e){e.PLAYER_START="playerStart",e.PRE_ROLL="preRoll",e.BREAKING_ADS="breakingAds"}(In||(In={})),Sn||(Sn={}));var kn=function(){return(kn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)}; Ln,xn=Nn=jn=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Un=Vn=Mn=function(e,t){void 0===t&&(t=0);var n=e;if(t>0){var r=e),i=r[0],o=r[1];n=xn(50)?i:o}var a=function(e){return e.reduce((function(e,t){return e[t.prebidConfig.bidder]=++e[t.prebidConfig.bidder]||0,e}),{})}(n),s=n.filter((function(e){return a[e.prebidConfig.bidder]>0}));if(0===s.length)return n;var c=n.filter(();return jn(jn([],c,!0),Mn(s,t+1),!0)},Fn=function(e){var t,n,r,i=e.plist.filter((function(e){return"prebid"===e.type})),o=(t=Un(i),n=Vn(i),r=[],t.map(().forEach((),r),a=Un(o),s=Vn(o),c=i.filter((function(e){return!o.includes(e)})),u=xn(50)?jn(jn([],c,!0),s,!0):jn(jn([],c,!0),a,!0);return Mn(u)};function Bn(e){var t=e.gpvData,n=Fn(e);e.plist=e.plist.filter((function(e){return"prebid"!==e.type})),e.gpvData=e.gpvData.filter((function(e){return"prebid"!==e.type})),n.forEach((function(n){e.plist.push(n),t.forEach(()}))}!Ln||(Ln={}));var qn=function(){return(qn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Hn(e,t){var n,r=function(e){var t=Cn(e);return{video:kn({playerSize:Dn(e),context:e.isOutstream?"outstream":t.context,api:[1,2],mimes:["video/mp4","video/webm","application/javascript"],protocols:[2,3,5,6,7,8],playbackmethod:[2],placement:t.placement,plcmt:t.plcmt,linearity:1,minduration:1,startdelay:0,maxduration:60},e.skipParams)}}(e),i=qn(qn({code:"ad_unit_".concat(t.vastId.toString()),renderer:{url:"example.com/publishersCustomRenderer.js",render:function(){}},mediaTypes:r},e.prebidConfig.unit||{}),{ortb2Imp:{ext:{gpid:"ad_unit_".concat(t.vastId.toString())}},bids:[]});return"outstream"===(null===(n=null==r?void 0:r.video)||void 0===n?void 0:n.context)&&(i.renderer={url:"",render:function(){}}),i}function Wn(e,t){var n=function(e){return e.filter((function(e){return"prebid"===e.type})).filter(()}(e.plist),r=[];return n.forEach((),e.prebidJSAdUnitCode++,e.prebidJS.que.push((),r}var Gn=function(e,t){var n=t.prebidConfig.params,r=n.config,i=void 0===r?{}:r,o=n.schain;return i.schain=o?{validation:"relaxed",config:o}:function(e,t){var n,r,i={config:On((null===(n=e.tagConfig)||void 0===n?void 0:n.schain)||"")||{complete:1,nodes:[{asi:"playbuzz.com",hp:1,sid:Tn(null===(r=e.tagConfig)||void 0===r?void 0:r.schain)}],ver:"1.0"},validation:"relaxed"};if(t){if(i.config.nodes=i.config.nodes.filter((function(e){return"playbuzz.com"!==e.asi})),0===i.config.nodes.length)return null}else e.resellersJSONDomain&&(i.config.nodes=i.config.nodes.filter((function(e){return"playbuzz.com"===e.asi})));return i}(e,t.isPubDemand),t.isPubDemand&&(t.prebidConfig.params.pubDemand=!0),function(e){var t;e.bidder===Ln.YIELDMO?e.params.video={protocols:[2,3,5,6]}:e.bidder===Ln.PULSEPOINT?(e.params.video={},e.params.schain={ver:"1.0",nodes:[],complete:0}):(null===(t=e.params)||void 0===t?void 0:t.video)&&delete e.params.video}(t.prebidConfig),function(e){if(e.prebidMaxDuration){var t={maxduration:e.prebidMaxDuration};e.prebidConfig.params.video=kn(kn({},e.prebidConfig.params.video),t)}}(t),i.ortb2=function(e){var t,n=(null===(t=null==e?void 0:e.content)||void 0===t?void 0:t.currentItem)||{},r=n.id,i=void 0===r?"":r,o=n.title,a=void 0===o?"":o,s=n.url,c=void 0===s?"":s;return{site:{content:{id:w(i)?i:String(i),title:w(a)?a:String(a),url:w(c)?c:String(c)}}}}(e),i};function Jn(e){return Xn(e).then((function(t){var n={},r=Wn(e,n);return r.length?new Promise((function(i){if(!e.prebidJS.configWasSet)try{zn(t,e)}catch(e){}t.que.push((),Object.values(n).forEach((),t.que.push((function(){t.requestBids({adUnits:r,timeout:1e3*e.prebidConfig.timeout,bidsBackHandler:function(t){var r=[];e.prebidActiveAuctions--,t&&Object.values(t).forEach((function(t){Object.values(t).forEach((function(t){var i=n[t[0].adUnitCode];e.auctionTracker.trackBidResponse(i,t[0].cpm),function(e,t){if(isNaN(+t.cpm))throw new Error("no pricing provided in the bid");t.playerData=e,t.vast=t.vastXml?"data:;base64,".concat(btoa(t.vastXml)):t.vastUrl,e.vastURL=t.vast,e.prebidConfig.floorPrice=e.floorPrice,e.impressionData={currency:t.currency,impType:t.bidder,pricing:+t.cpm}}(i,t[0]),r.push(t[0])}))})),i(r)}})}))})):Promise.resolve([])}))}function Yn(e){var t={};return window.__tcfapi&&"function"==typeof window.__tcfapi&&(t.consentManagement=function(e){return{gdpr:{cmpApi:"static",consentData:{getTCData:{tcString:e.gdprConsentString,gdprApplies:e.gdprConsentApplies}}}}}(e)),t}var zn=function(e,t){e.que.push((function(){return e.setConfig(function(e){return qn(qn(qn({bidderTimeout:3e3},e.prebidConfig.config),Yn(e)),{ortb2:Pn(e),pageUrl:Bt(e).page,realTimeData:{dataProviders:[{name:"excoPublisherDemandRtdProvider",waitForIt:!0}]}})}(t))})),e.que.push((function(){return e.refreshUserIds()})),e.que.push(()},Xn=var Kn,Qn=Zn=$n=er=tr=function(){function e(e,t){this._secondPrice=null,this._players=e,this._startingPrice=t.startingPrice,this._startingPricePub=t.startingPricePub,this._currFloor=this._startingPrice,this._listen()}return e.prototype.getFloor=e.prototype.setSecondPrice=function(e){we.a.debug("Second price set to: ".concat(e)),this._secondPrice=e},e.prototype.resetSecondPrice=function(){we.a.debug("Second price reset, price set to: ".concat(this._currFloor)),this._secondPrice=null},e.prototype.getFactoredSecondaryPrice=function(e){var t=e?er(e):this._currFloor;return Zn(1.15*t)},e.prototype._listen=function(){},e.prototype._getFloorByDemandType=e.prototype._isOverrideFloorPrice=function(e,t){return!(!kt(e)||!Dt(this._players,e))||(!!(this._players.globalPricing&&e.isPubDemand&&t>$n(e))||!(this._players.isFlamingoOn||e.isPubDemand||!e.prebidConfig&&"rtb"!==e.type))},e}(),nr=n(2),rr=(Kn=function(e,t){return(Kn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Kn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ir=function(){return(ir=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},or=function(e){function t(t,n){var r=e.call(this)||this;if(r._emitter=new Me.EventEmitter2,r.requireViewability=!1,r.maxFailedVastRetries=0,r.maxAdStarts=0,r.lastChanceRetry=!1,r.vastErrorWasReported=!1,r.adType=null,r.curAdStarts=0,r.errorCount=0,r.totalRoundNo=0,r.retryCount=0,r.rotationNo=0,r.durationKnown=!1,r.wasDuplicated=!1,r.viewable=!1,r.priority=0,r.priorityTieBreaker=0,r.requireSound=!1,r.requireVisibility=!1,r.fill={rate:1,offset:0},r.video=null,r.initVpaidOnStartDone=!1,r.clickTextEnabled=!1,r.prebidMaxDuration=0,r.logStartWasDone=!1,r.logLoadWasDone=!1,r.vastResponseXML=null,r.delay={},r.skippable=!1,r.unlocked=!1,r.firedEvents={},r.impressionData={},r.apiImpressionData={},r.finishPromiseResolve=function(){},r.finishPromise=new Promise((function(e){r.finishPromiseResolve=e})),r.timers=null,r.flowTimeout=new A,r.impressionAfterStartTimeout=new A,r.requeryTimeout=null,r.callPauseTimer=new A(100),r.viewabilityTimer=new A(2e3),r.failSkipTimer=new A(300),r.keepAliveTimer=new A(500),r.nonLinearCompleteTimer=new A,r._state=et.None,r.videoElement=null,r.companionsElementDiv=null,r.moatAPI=null,r._adCompleteListeners=[],r._adStartListeneres=[],r.players=t,r.gpvDemand=n,r.applyPubDemandFields(n),f(c,r,{cxvid:m(n.cxvid),cxpid:m(n.cxpid),demandId:y(n.dmid),group:m(n.group,1),vastId:m(n.id,NaN),vastURL:y(n.url),playerId:m(n.pid,r.players.playerId),bidder:y(n.dp),maxAdStarts:m(n.mas),priority:m(n.priority),requireVisibility:v(n.rv),video:n.video,prebidMaxDuration:n.maxduration,vastXml:n.vastXml,apiImpressionData:n.impressionData,cookie:y(n.ck),cookieJson:n.cookieJson,delay:n.delay,beacons:n.callbacks,demandAdSlots:n.adSlots,tam:n.tam,ivtBlock:v(n.ivtb),extraData:n.extraData,title:n.title,flamingoDemand:n.fl,capping:n.capping}),r.vastXml&&(r.vastURL=""),r.requireSound=null!=r.players.requireSound?r.players.requireSound:v(n.rs),null!=n.fill&&(r.fill=h(r.fill,n.fill)),r.uniqId=++r.players.curUniq,function(e,t,n){var r={};d((,_)}(t,r,n),r.timers=h({},t.timers,n.timers),r.impressionAfterStartTimeout.Seconds(r.timers.impressionAfterStart),n.mvr&&(r.maxFailedVastRetries=m(n.mvr),r.maxFailedVastRetries>1&&r.maxFailedVastRetries<50&&(r.maxFailedVastRetries=2*r.maxFailedVastRetries)),r.customVars={rpm:n.rpm,cxrpm:n.cxrpm},n.prebid)try{var i;if(null==n.prebid.params._comment)if(r.prebidConfig=n.prebid,!t.prebidConfig)null==t.gdprConsentString&&null==t.gdprConsentApplies||(i={consentString:t.gdprConsentString,gdprApplies:t.gdprConsentApplies}),r.prefetch=catch(e){}return r}return rr(t,e),Object.defineProperty(t.prototype,"viewability",{get:function(){var e;return(null===(e=null==this?void 0:this.players)||void 0===e?void 0:e.isInView)?1:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:enumerable:!1,configurable:!0}),t.prototype.onStateChange=function(e){this._emitter.on("state-change",e)},Object.defineProperty(t.prototype,"progress",{get:function(){return(null==this?void 0:this.getProgress)&&this.getProgress()||null},enumerable:!1,configurable:!0}),t.prototype.onAdStart=function(e){this._adStartListeneres.push(e)},t.prototype.triggerAdPlayingCallback=t.prototype.onAdEnded=Object.defineProperty(t.prototype,"floorPrice",{get:function(){return this._floorPrice},set:function(e){this._floorPrice=e},enumerable:!1,configurable:!0}),t.prototype.applyPubDemandFields=t.prototype.getDemandMaxAdStarts=t.prototype.getDefaultDmasByType=t.prototype.isNonLinear=function(){return!1},t.prototype.initNonLinearCompleter=function(){},t.prototype.unlockAdSlot=t.prototype.isUnlocked=function(){return this.players.info.mobile?this.unlocked:this.players.hadUserInteraction},t.prototype.allowedDueToSound=function(e){return!this.requireSound||!this.players.started||(!this.players.muteToPlay||e||this.isUnlocked())&&!this.players.muted&&this.players.volume},t.prototype.allowedDueToVisibility=t.prototype.fetchAdUrl=t.prototype.initCompanion=function(e){if(void 0===e&&(e=document),this.companionHTML)try{this.companionsElementDiv||(this.companionsElementDiv=e.createElement("div"),this.companionsElementDiv.setAttribute("style","width:100%;height:100%;position:relative;top:-"+this.players.height+"px;z-index:0;"),this.insertCompanion()),this.companionsElementDiv&&(this.companionsElementDiv.innerHTML=this.companionHTML)}catch(e){}},t.prototype.insertCompanion=t.prototype.initMedia=function(){return this.state=et.Loading,this.players.auctionTracker.trackInitAd(this,er(this)),this.players.eventDispatcher.sendInitAdEvent(this,this.players),ct.b.emit(ct.a.AD.INIT,{demand:this}),this.adContainersReady.then((function(){}))},t.prototype.onAdResponse=function(){var e,t;return ye(e=this.players,(t=this).playerId,t.vastId,t.demandId),_t(t)&&ye(e,t.cxpid,t.cxvid),!pr(this.players,this)},t.prototype.syncVolume=function(e){this.setAdVolume&&this.setAdVolume(this.players.volume,this.players.muted,e)},t.prototype.getSkipOffset=function(){return this.skipOffset},t.prototype.getAdSkippableState=t.prototype.isSkippable=t.prototype.skipAd=function(){this.onSkip()},t.prototype.onSkip=function(){ja(this.players,this,"ad.skipped",{progress:this.getProgress()}),this.players.serverEvents.demandEvent(this,{name:"AdSkipped"}),St(this.players,te.E_AD_SKIPPED,this,{}),!this.skipVastTracker&&this.vastTracker&&this.vastTracker.skip(),this.players.beingVpaid&&ga(this.players,"jsAdSkipped",{}),this.failSkipTimer.cancel(),this.players.emit(Ve.AD_SKIPPED,this),this.players.eventDispatcher.sendAdSkipEvent(this,this.players),ct.b.emit(ct.a.AD.SKIPPED,{demand:this}),this.players.anyPlaying=!1,ha(this.players,this,2)},t.prototype.showAdUI=t.prototype.showAd=t.prototype.hideAd=t.prototype.destroyAd=t.prototype.verifyVastTrackerProgress=function(e){this.skipVastTracker||this.vastTracker&&(!e,this.players,this),e==st.COMPLETE&&this.vastTracker.complete())},t.prototype.onQuartile=function(e){if(this.state==et.Playing){var t=lt[e];this.verifyVastTrackerProgress(e),this.players.beingVpaid&&ga(this.players,"jsAd".concat(t&&t[0].toUpperCase()+t.slice(1)),{}),It(this.players,this,e),ja(this.players,this,"ad.".concat(t),{listCompleted:this.players.frozen})}},t.prototype.onComplete=function(){this.verifyVastTrackerProgress(st.COMPLETE),It(this.players,this,st.COMPLETE),Vt(this.players,this,"adcomplete"),this.skippable=!1,ct.b.emit(ct.a.AD.COMPLETED,{demand:this}),this.players.emit(Ve.AD_COMPLETE),we.a.log("Ad Complete",{demand:this,stage:nr.b.AD_COMPLETE})},t.prototype.viewableForSeconds=t.prototype.playsForSeconds=t.prototype.getErrorEvent=t}(b);ar sr=function(e){eturn rr(t,e),t.prototype.initAd=function(){ar()},t.prototype.pauseAd=function(){ar()},t.prototype.resumeAd=function(){ar()},t.prototype.showAd=function(){ar()},t.prototype.hideAd=function(){},t.prototype.startAd=t.prototype.stopAd=function(){},t.prototype.clearAd=function(){},t.prototype.destroyAd=function(){},t.prototype.resizeAd=function(e,t,n){},t.prototype.setAdVolume=t.prototype.getAdVolume=function(){return null},t.prototype.getProgress=function(){return null},Object.defineProperty(t.prototype,"progress",{get:function(){return null},enumerable:!1,configurable:!0}),t.prototype.getAdRemainingTime=t.prototype.showControlBar=function(){return!0},t.prototype.showAdUI=t}(or),cr=),ur=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ur(t,e),t.prototype.getErrorEvent=t.prototype.fetchAdUrl=function(e,t){var n=this;this.vastResponseXML=null;var r=this.players,this,e),i=r.error,o=r.vastUrl;if(!i){var a,s,c={withCredentials:(s=a||location||window.location||document.location,!(V(a)||s&&(-1!=s.host.indexOf("localhost")||-1!=s.host.indexOf("127.0.0.1")||s.port&&"80"!=s.port))),timeout:12e4,urlhandler:new cr(this),response:this.vastResponseXML,wrapperLimit:10};return this.players.DMVAST.client.totalCalls=0,o||(c.followAdditionalWrappers=!0),(o?this.players.DMVAST.client.get(o,c):this.players.DMVAST.parser.parseVAST(this.vastResponseXML,c)).then(().catch(()}},t.prototype.onVastResponse=t.prototype.handleVastResponse=function(e,t,n,r){var i=this,o=ht(this,t);o||(o=vt(this.players,this,e))||Te("initMedia",{players:this.players,playerData:this,log:!0},(function(){ta(i),i.players.serverEvents.demandTimedEvent(i,{name:"VastFetched",credentials:null==n?void 0:n.withCredentials,retryCount:i.retryCount}),r(i.players,i)}),(),o&&o.reason&&(dt(this.players,this.vastId,o.code,o.message,null,this,!1,!0),ha(this.players,this,o.reason,{code:o.code,message:o.message,credentials:null==n?void 0:n.withCredentials,retryCount:this.retryCount,status:t&&t.status}))},t}(or),dr=lr);function pr(e,t){return!(!e.chilled||t&&t.isUnlocked())||t&&e.isAdContent()}ar hr,vr=function(e){return"mobile"===e.device},mr=n(12),yr=gr=Ar=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},br=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Er="userId",_r="exco-uids",wr="exco-user-sync",Tr="user-sync-done",Ir="user-ids-updated",Sr=xn(100),Or=Cr=function(e){return Ar(void 0,void 0,void 0,(function(){var t;return br(this,(function(n){return t=e),[2,new Promise((function(e){Sr&&t||e(),Or(Tr,(function(){return e()})),setTimeout((function(){return e()}),2e3),k(t)}))]}))}))},kr=function(){return(kr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Pr="publisher",Dr="network",Rr="mcd_server_error",Lr="mcd_ivt_opportunity",xr="mcd_opportunity",Nr="mcd_auction",jr="mcd_ad_clicked",Ur="mcd_ad_complete",Vr="mcd_ad_error",Mr="mcd_ad_request",Fr="mcd_ad_response",Br="mcd_init_ad",qr="mcd_start_ad",Hr="mcd_player_ad_impression",Wr="mcd_ad_progress",Gr="mcd_player_ad_skipped",Jr=((hr={})[Mr]=10,hr[Vr]=10,hr.DEFAULT_SAMPLE=100,hr),Yr=["no <Ad> element","The VAST response document is empty."],zr=Xr=function(e,t){return zr(e)?t.floorPrice:er(t)},Kr=function(e,t,n){var r,i,o,a,s,c=Nt({demandId:e.demandId});return{demandId:c.demandId,supplyId:c.supplyId,demandIdX:c.demandIdX,supplyIdX:c.supplyIdX,demandIdDX:c.demandIdDX,supplyIdDX:c.supplyIdDX,cpm:Xr(n,e),adSourceOwner:e.isPubDemand?Pr:Dr,rollType:t.adSlotCurrentType,vb:t.isInView,mv:null===(r=null==t?void 0:t.flamingoModule)||void 0===r?void 0:r.name,mcdContentId:"preRoll"===t.adSlotCurrentType?null===(o=null===(i=null==t?void 0:t.content)||void 0===i?void 0:i.getNextContent())||void 0===o?void 0:o.id:null===(s=null===(a=null==t?void 0:t.content)||void 0===a?void 0:a.currentItem)||void 0===s?void 0:s.id}},Qr=function(){function e(e){var t,n=this;this.URL="https://pe.ex.co/events?v=2",this._newEndPointEvents=[Nr],this._config=e,this._externalEventDispatcher=e.overrides.eventDispatcher,t=Or(Ir,(function(e){return t(e)}))}return e.prototype.send=e.prototype._sendToNewEndPoint=e.prototype.addBaseAttribute=e.prototype.sendRequestEvent=function(e,t){this.sendDemandEvent(Mr,e,t)},e.prototype.sendResponseEvent=function(e,t){this.sendDemandEvent(Fr,e,t)},e.prototype.sendErrorEvent=e.prototype.sendInitAdEvent=function(e,t){this.sendDemandEvent(Br,e,t)},e.prototype.sendStartAdEvent=function(e,t){this.sendDemandEvent(qr,e,t)},e.prototype.sendAdCompleteEvent=function(e,t){this.sendDemandEvent(Ur,e,t)},e.prototype.sendAdClickedEvent=function(e,t){this.sendDemandEvent(jr,e,t)},e.prototype.sendAdProgressEvent=e.prototype.sendAdImpressionEvent=function(e,t){this.sendDemandEvent(Hr,e,t)},e.prototype.sendAdSkipEvent=e.prototype.getDemandExtraData=function(e,t,n){var r,i;return void 0===n&&(n={}),kr(kr(kr(kr({},function(e,t){return{id:e.vastId,type:e.type,bidder:e.bidder,duration:e.duration,sampling:Jr[t],did:e.demandId,transactionId:e.transactionId,maxDuration:gr(e)[e.type],flamingoScore:e.flamingoDemand}}(e,t)),function(e){var t;return{cache:jt(e),mediaType:e.adType,buyer:null===(t=e.ad)||void 0===t?void 0:t.system}}(e)),n),((r={})[_r]=null===(i=this._ids)||void 0===i?void 0:i.syncCookie,r))},e.prototype.sendDemandEvent=function(e,t,n,r){void 0===r&&(r={}),!this._config.reqSampled&&zr(e)||this.send(e,{extraData:this.getDemandExtraData(t,e,r),enrichedData:Kr(t,n,e)})},e}(),Zr=r ti=function(){return(ti=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};unction ri(e,t){if(t.gotAdImpression)return!0;if(t.skipVastTracker||(ei(e,t),t)),e,t.adType),t.state==et.Finished)return!1;if(e.paused&&!e.allowPausedImpressions)return aa(e,t),dt(e,t.vastId,61,"impression on paused",null,t),ha(e,t,4,{code:61,message:"impression on paused"}),!1;e.anyPlaying=!0,t.state=et.Playing,t.gotAdImpression=!0,t.triggerAdPlayingCallback(),function(e,t){e.demandTypeThrottleMap[t.type]?e.demandTypeThrottleMap[t.type].lastImpTime=Date.now():e.demandTypeThrottleMap[t.type]={lastImpTime:Date.now(),limitation:0}}(e,t),na(e,t),t.initNonLinearCompleter(),t.viewabilityTimer.start().then(().catch((function(){}));var n=t.utag,r=n&&!e.usableTagsSent[n]?(e.usableTagsSent[n]=!0,{utag:n}):{},i=bt(e);setTimeout((,e.adViewabilityDelay),e,t);var o=e,t);o.viewability=i;try{ct.b.emit(ct.a.AD.IMPRESSION,{demand:t,players:e}),e.emit(Ve.AD_STARTED,{apiImpressionData:o,playerData:t}),we.a.info("Ad Impression",{stage:nr.b.AD_IMPRESSION,demand:t})}catch(e){we.a.error("ad.started emit failed",e)}if(!t.isPubDemand&&("prebid"===t.type||"rtb"===t.type))try{!e,o)}catch(e){we.a.error("send iiq pixel failed",e)}try{Vt(e,t,"adstart")}catch(e){we.a.error("trigger beacon failed",e)}if(xn(20))try{e.sendPixel(e,o))}catch(e){we.a.error("send white ops pixel failed",e)}if(!t.skipVastTracker)try{t.vastTracker.load()}catch(e){we.a.error("load vast tracker failed",e)}if(e.beingVpaid)try{ga(e,"jsAdImpression",{})}catch(e){we.a.error("calling vpaid impression event failed",e)}e.curAdStarts++,t.curAdStarts++;var a=e.rollAdStarts||e.maxAdStarts;if(a&&e.curAdStarts>=a)try{va(e,t)}catch(e){we.a.error("freeze players failed",e)}try{!e,t)}catch(e){we.a.error("keep alive failed",e)}if(t.allowLongImpressions||t.flowTimeout.Seconds(t.timers.longImpression).start().then(().catch((function(){})),e.paused&&!t.isPaused)try{_a(e,t)}catch(e){we.a.error("pause player data failed",e)}return!0}var ii=function(){return(ii=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},oi=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},ai=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};nction ui(e){return oi(this,void 0,void 0,(function(){var t,n,r,i;return ai(this,(function(o){switch(o.label){case 0:return t=e.tamConfig,n=e.players,[4,k()];case 1:return(r=o.sent())?(i=r.contentWindow,je(r,t.pubId),window),li(i),i),i),n.isAmp&&i),(a=i).apstag=a.apstag||{_Q:[],init:function(){a.apstag._Q.push(["i",arguments,(new Date).getTime()])},fetchBids:,i,t),[4,di(i)]):[3,3];case 2:return o.sent(),[2,ci(i)];case 3:return[2]}var a}))}))}r pi=function(){return(pi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},fi=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},hi=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function vi(e){return fi(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return hi(this,(function(c){switch(c.label){case 0:return t=e.players,e.state=et.Prefetching,[4,mi(e)];case 1:return n=c.sent(),t.auctionTracker.trackBidRequest(e,e.floorPrice),[4,yi(n,e)];case 2:return(r=c.sent()).length>0?(i=e,r),(o=i))?[4,Ai(e,o)]:(we.a.error("TAM bid did not contain targeting",{error:new Error,demand:e,bid:i}),[2,!1])):[3,4];case 3:return a=c.sent(),t.auctionTracker.trackBidResponse(e,+a),s=o),e,{vastURL:s,priority:a}),[2,!0];case 4:return e.state=et.Finished,[2,!1]}}))}))}tion bi(e,t){return fi(this,void 0,void 0,(function(){var n;return hi(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,rt(e)];case 1:return[2,r.sent().cpm];case 2:return n=r.sent(),we.a.error("TAM mapping error: ".concat(n.message),{error:n,vastId:t.vastId}),[2,t.floorPrice];case 3:return[2]}}))}))}function Ei(e){e.plist.filter((function(e){return"rtb"===e.type})).forEach((function(t){t.vastURL=function(e,t){var n=e.gdprConsentString,r=e.gdprConsentApplies,i=t;return"boolean"==typeof r&&(i=j(i,"gdpr",r?"1":"0")),n&&(i=j(i,"gdpr_consent",n)),i}(e,t.vastURL),t.vastURL=e,t.vastURL),t.vastURL=e,t.vastURL)}))}var _i=wi=Ti=ar Si=function(){return(Si=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Oi=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Ci=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ki=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Pi=function(){eturn Object.defineProperty(e.prototype,"pending",{get:enumerable:!1,configurable:!0}),e.prototype.init=e.prototype.fetchAds=function(e){var t=(void 0===e?{}:e).exclude,n=void 0===t?[]:t;return Oi(this,void 0,void 0,(function(){var e=this;return Ci(this,(function(t){return[2,new Promise((function(t,r){return Oi(e,void 0,void 0,(function(){var e,r,i,o,a=this;return Ci(this,(function(s){switch(s.label){case 0:return this._shouldDoAuction()?(this._auctionId++,e=this,[4,this._getDemandsToFetch(n)]):(we.a.log("Fetching ads aborted - fetch is already in progress"),[2]);case 1:return e._demandList=s.sent(),this._isFetching=!0,this._players.fetchTime=Date.now(),this._allFetchedPromise(this._demandList).then((function(){a._isFetching=!1,we.a.info("Auction ended",{auctionId:a._auctionId,pending:a.pending}),ct.b.emit(ct.a.INTERNAL.AUCTION.END,{auctionId:a._auctionId,pending:a.pending}),t(a.pending)})),this._players.plist.filter(().forEach((function(e){return e.destroyAd()})),this._players.plist=ki(ki([],this._players.plist,!0),this._demandList,!0),this._players.gpvDataUpdated&&(this._players.gpvDataUpdated=!1,Bn(this._players)),this._startAuctionTracking(this._players),we.a.log("".concat(this._auctionId," Fetching ").concat(this._demandList.length," new demands"),this._demandList.map((function(e){return e.vastId}))),r=this._separateGroups(this._demandList),i=r[0],o=r[1],[4,sn(this._fetchPrimaryDemands(i),3e3,[])];case 2:return s.sent(),o.length>0&&this._fetchSecondaryDemands(o),[2]}}))}))}))]}))}))},e.prototype._allFetchedPromise=function(e){return new Promise((function(t){var n=new Set;e.forEach((function(r){return r.onStateChange((function(i){i>=et.Fetched&&!n.has(r)&&(n.add(r),n.size===e.length&&t(Array.from(n).filter((function(e){return e.state===et.Fetched}))))}))}))}))},e.prototype._startAuctionTracking=function(e){var t=this._players.auctionTracker.endAuction();t&&function(e,t){var n,r;if(e.auctionEventSession&&e.eventDispatcher&&e.eventDispatcher.send){var i={aid:null==(n=t)?void 0:n.index,type:null==n?void 0:n.type,dList:Array.from((null==n?void 0:n.dList.values())||[]),time:null==n?void 0:n.time,mv:null===(r=null==e?void 0:e.flamingoModule)||void 0===r?void 0:r.name,flamingo:e.isFlamingoOn};we.a.log("Auction Report Sent",i),e.eventDispatcher.send(Nr,{extraData:{ar:i}})}}(this._players,t),this._players.auctionTracker.startAuction(e)},e.prototype.clearCache=function(){this._ads=[],we.a.log("Clearing cache")},e.prototype._separateGroups=function(e){return Nn(e,()},e.prototype._fetchPrimaryDemands=function(e){we.a.log("Primary Fetch",{fetching:e.map((function(e){return{id:e.vastId,bidder:e.bidder,type:e.type,debug:e.gpvDemand}})),cached:this.pending.map((function(e){return{id:e.vastId,type:e.type}})),stage:nr.b.FETCH_PRIMARY}),this._initDemands(e);var t=Nn(e,(),n=t[0],r=t[1];return this._fetchVasts(this._players,r),this._fetchPrebids(this._players,n),this._allFetchedPromise(e)},e.prototype._fetchSecondaryDemands=function(e){var t=this._priceService.getFactoredSecondaryPrice(Ti(this._players,this._ads)),n=this._filterSecondaryDemands(e,t);this._initDemands(n,t),we.a.log("Secondary Fetch: floorPrice ".concat(t),{fetching:n.map((function(e){return{id:e.vastId,type:e.type}})),cached:this.pending.map((function(e){return{id:e.vastId,type:e.type}})),stage:nr.b.FETCH_SECONDAY}),this._fetchVasts(this._players,n)},e.prototype._filterSecondaryDemands=e.prototype._initDemands=function(e,t){this._setupDemandObject(this._players,e),this._setFloorPrice(e,t),this._setRtbParams(this._players,e)},e.prototype.getAds=function(e){return Oi(this,void 0,void 0,(function(){var t=this;return Ci(this,(function(n){return[2,new Promise((function(n){if(!t._players.monetize)return n([]);if(t._isDoneFetching())return t._isFetching=!1,n(t.getAdsByState(t._ads,et.Fetched));var r=e.timeout,i=+new Date;we.a.log("Start Retry Fetching",{timeout:r});var o=setInterval((function(){var e=+new Date-i;(t._isDoneFetching()||e>=r)&&(t._isFetching=!1,we.a.log("Done Retry Fetching",{diff:e,stage:nr.b.FETCH_DONE}),n(t.getAdsByState(t._ads,et.Fetched)),clearInterval(o))}),100)}))]}))}))},e.prototype._refresh=e.prototype._isGpvDataEmpty=e.prototype._getGpvDemand=e.prototype._isDoneFetching=e.prototype.getAdsByState=e.prototype._addAdToStack=e.prototype._getDemandsToFetch=function(e){return void 0===e&&(e=[]),Oi(this,void 0,void 0,(function(){var t,n;return Ci(this,(function(r){switch(r.label){case 0:return[4,this._createNewFetchList()];case 1:return t=r.sent(),n=this._filterCappedAds(this._filterExcludedDemands(t,e)),[2,(i=this._players,o=n,i.isIvt&&(o=o.filter((function(e){return!e.ivtBlock}))),o)]}var i,o}))}))},e.prototype._filterExcludedDemands=e.prototype._filterCappedAds=e.prototype._createNewFetchList=function(){return Oi(this,void 0,void 0,(function(){var e,t=this;return Ci(this,(function(n){switch(n.label){case 0:return[4,this.getPluginDemands()];case 1:return e=n.sent(),[2,ki(ki([],e,!0),this._getGpvDemand(),!0).map((function(e){return t._initPlayerData(new sr(t._players,e),t._players)}))]}}))}))},e.prototype.getPluginDemands=function(){return Oi(this,void 0,void 0,(function(){var e,t;return Ci(this,(function(n){switch(n.label){case 0:return[4,ct.b.emitAsync(ct.a.PLUGIN.ACTION.AUCTION,{players:this._players})];case 1:return e=n.sent(),(t=(e||[]).reduce((,[])).length>0&&we.a.debug("New Plugin Fetch List",{pluginDemands:t}),[2,t||[]]}}))}))},e.prototype._setupDemandObject=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];i.state==et.None&&this._initPlayerData(i,e)}},e.prototype._shouldDoAuction=e.prototype._fetchPrebids=function(e,t){var n=this;if(t.length>0)return t.forEach((function(t){ta(t),e.serverEvents.demandEvent(t,{name:"startVastPrefetch"}),e.eventDispatcher.sendRequestEvent(t,e),e.auctionTracker.trackBidRequest(t,t.floorPrice)})),Jn(e).then((function(e){return n.onPrebidAuctionSuccess(e)}),this.onPrebidAuctionError.bind(this))},e.prototype.onPrebidAuctionError=function(){},e.prototype.onPrebidAuctionSuccess=e.prototype._fetchVasts=e.prototype._resolveVast=function(e,t){((0,t)||(e.eventDispatcher.sendRequestEvent(t,e),this._isTAM(t)?(t.prefetch=this._prefetchVast(e,t)):this._fetchVast(e,t))},e.prototype._isPrebid=function(e){return!!e.prebidConfig},e.prototype._setRtbParams=function(e,t){Ei(e),function(e,t){var n=e.eids;n&&t.filter((function(e){return"rtb"===e.type})).filter(().forEach((function(e){var t=[];bn(t,n,"id5"),bn(t,n,"iiq"),bn(t,n,"lexicon"),t.length>0&&(e.vastURL+="&eids=".concat(btoa(JSON.stringify(t))))}))}(e,t)},e.prototype._isTAM=function(e){return"tam"===e.type},e.prototype._prefetchVast=e.prototype._fetchVast=function(e,t){t.state=et.Fetching;var n,r=t.vastXml,i=t.vastURL;if(!r){if(!i||"#"==i[0]||!i.trim())return;!t,n=Ut(e,t)(i))}ta(t),e.auctionTracker.trackRequest(t,t.floorPrice),t.fetchAdUrl(n,this._handleAdFetched.bind(this))},e.prototype._handleAdFetched=function(e,t){oa(e,t),this._addAdToStack(t),t.state=et.Fetched,e.auctionTracker.trackResponse(t,er(t)),e.eventDispatcher.sendResponseEvent(t,e),we.a.log("Ad Fetched",{demand:t,stage:nr.b.AD_FETCH})},e.prototype._stampCashEntry=e.prototype._isRTB=function(e){return"rtb"===e.type},e.prototype._setFloorPrice=function(e,t){var n=this;e.forEach((function(e){var r,i;e.floorPrice=t||n._priceService.getFloor(e),n._isRTB(e)&&e,e.floorPrice),n._isPrebid(e)&&(r=e,i=e.floorPrice,r.floorPrice=Math.max(i,.3))}))},e.prototype.removeAdFromCache=function(e){e.state=et.Finished;var t=this._ads.indexOf(e);-1!==t&&this._ads.splice(t,1),we.a.log("Removing ".concat(e.vastId," from cache"),{id:e.vastId,type:e.type})},e.prototype._initPlayerData=e}();var Di,Ri=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Li=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},xi=function(){function e(e,t){this._currentSlotType=In.BREAKING_ADS,this._lastAuctionTime=null,this._playingAd=null,this._currentSlotImpCount=0,this._isActiveSlot=!1,this._emptyAuctionCount=0,this._players=e,this._content=t,this._config=function(e){var t={enabled:!0,maxImpressions:99,interval:5};return{startingPrice:e.sessionTarget,startingPricePub:e.globalPricing&&e.sessionTargetPub?e.sessionTargetPub:e.sessionTarget,auctionInterval:t.interval,timeToFetchBeforeAdEnd:7,breakingAds:t}}(e),this._priceService=new tr(e,{startingPrice:this._config.startingPrice,startingPricePub:this._config.startingPricePub}),this._auctionManager=new Pi(e,this._priceService)}return e.prototype.init=function(){var e=this;if(we.a.info("ICOAR mode initialized",this._config),this._players.monetize&&!this._players.closed){this._isActiveSlot=!1,this._listen();var t=setInterval((function(){return e._reassess()}),1e3);this._players.apiInterface.on("closed",(),this._auctionManager.init(),this._fetchAds(),this._endSlot({playAdContent:!1})}},e.prototype._reassess=function(){this._players.closed||this._shouldStartAuction()&&this._fetchAds()},e.prototype._fetchAds=function(){var e=this;this._lastAuctionTime=null;var t,n,r=kt(this._playingAd)?[this._playingAd]:[];if(this._playingAd){var i=(t=this._auctionManager.pending,n=wi(t),wi(t.filter(())||n),o=i?.9*er(i):null;o&&this._priceService.setSecondPrice(o)}this._auctionManager.fetchAds({exclude:r}).then((function(){e._factorInterval(),e._lastAuctionTime=new Date,e._isActiveSlot||e._startSlot()}))},e.prototype._factorInterval=function(){0===this._auctionManager.pending.length?this._emptyAuctionCount++:this._emptyAuctionCount=0,this._emptyAuctionCount>4&&this._emptyAuctionCount<10&&(this._config.auctionInterval=1.5*this._config.auctionInterval,we.a.info("Increasing auction interval by a factor of 1.5 - interval set to ".concat(this._config.auctionInterval))),this._emptyAuctionCount>=10&&this._emptyAuctionCount<20&&(this._config.auctionInterval=5*this._config.auctionInterval,we.a.info("Increasing auction interval by a factor of 5 - interval set to ".concat(this._config.auctionInterval))),20===this._emptyAuctionCount&&(this._config.auctionInterval=null,we.a.info("Empty auction limit hit - Stopping auction"))},e.prototype._listen=function(){var e=this;this._players.on(Ve.AD_STARTED,this._onAdStart.bind(this)),this._players.on(Ve.AD_COMPLETE,(),this._players.on(Ve.AD_ERROR,this._onAdError.bind(this)),this._players.on(Ve.AD_SKIPPED,this._onAdSkipped.bind(this))},e.prototype._onAdStart=function(e){var t=e.apiImpressionData,n=e.playerData;this._playingAd=n,this._currentSlotImpCount++,ja(this._players,n,"ad.start",this._enrichAPIImpressionData(t,n)),this._players.auctionTracker.trackImpression(n,er(n))},e.prototype._enrichAPIImpressionData=e.prototype._onAdComplete=function(e){we.a.info("Ad Complete: ".concat(this._playingAd.vastId,"; Impressions left: ").concat(this._getCurrentSlotMaxImps()-this._currentSlotImpCount)),this._playingAd.destroyAd(),this._shouldEndSlot()?this._endSlot(e):this._playNextAd()},e.prototype._shouldEndSlot=e.prototype._onAdError=function(e){var t=e.error,n=e.playerData,r=n.getErrorEvent(t);this._playingAd&&this._playingAd===n&&(we.a.error("Ad Error ".concat(r.event.name,": vastId - ").concat(n.vastId,"; error - ").concat(t.message),{error:t,playerData:n}),this._onAdComplete({playAdContent:!1}))},e.prototype._onAdSkipped=function(e){we.a.log("Ad Skipped: vastId - ".concat(e.vastId)),this._auctionManager.removeAdFromCache(e),this._onAdComplete({playAdContent:!1})},e.prototype._shouldStartAuction=function(){var e=this._config.auctionInterval;return!this._isPlayerPaused()&&null!==this._config.auctionInterval&&(!!this._lastAuctionTime&&e<=Ct(this._lastAuctionTime,new Date))},e.prototype._isPlayerPaused=e.prototype._startSlot=function(){this._isActiveSlot=!0,we.a.log("Starting Slot - ".concat(this._currentSlotType)),!this._players.auctionTracker.activeAuction&&this._players.auctionTracker.startAuction(this._players),this._players.adSlotCurrentType=this._currentSlotType,ja(this._players,null,"ad.slot.start"),this._playNextAd()},e.prototype._playNextAd=function(){return Ri(this,void 0,void 0,(function(){var e,t;return Li(this,(function(n){switch(n.label){case 0:return[4,this._auctionManager.getAds({timeout:0})];case 1:return e=n.sent(),this._logAdsInCache("Play Next Ad"),(t=this._selectAd(e))?(we.a.log("Chosen Ad - ".concat(t.type," - ").concat(t.vastId," - price ").concat(er(t)),t),this._playAd(t)):(we.a.log("No ad cached - ending slot"),this._endSlot({playAdContent:!1})),[2]}}))}))},e.prototype._selectAd=e.prototype._getEligibleAdsForSlot=e.prototype._isLastAdInSlot=e.prototype._getCurrentSlotMaxImps=e.prototype._playAd=function(e){var t=er(e),n=$n(e);t<n&&we.a.log("Playing bid lower than floor price",{vastId:e.vastId,responseCPM:t,floor:n}),this._playingAd=e,this._auctionManager.removeAdFromCache(e),e.initMedia()},e.prototype._endSlot=function(e){var t;this._isActiveSlot=!1,this._currentSlotImpCount=0,this._priceService.resetSecondPrice(),(null===(t=this._playingAd)||void 0===t?void 0:t.adContent)&&e.playAdContent&&this._insertAdContent(),this._playingAd=null,this._players.emit(Ve.SLOT_END,{numOfImps:this._currentSlotImpCount}),ja(this._players,null,"ad.slot.end"),we.a.log("Ending Slot - ".concat(this._currentSlotType))},e.prototype._insertAdContent=e.prototype._logAdsInCache=function(e){var t=this._auctionManager.pending;we.a.log("".concat(e," - Ads in cache - ").concat(t.length),t.map(())},e}();function Ni(e){setTimeout((function(){e.content.pause()}),10)}function ji(e){e.content.hide()}unction Vi(e){setTimeout((function(){e.content.play()}),10)}unction Fi(e){Vi(e),e.monetize&&function(e){setTimeout((function(){Sa(e,null),e.anyPlaying&&ji(e)}),10)}(e)}function Bi(e){e.monetize?(Ni(e),e.on(Ve.SLOT_START,(),e.on(Ve.AD_STARTED,(function(){Ni(e),ji(e)})),e.on(Ve.SLOT_END,(function(){Vi(e),Ui(e)}))):Vi(e)}function qi(e){e.monetize?(e.content.paused=!0,e.on(Ve.SLOT_END,(function(){Vi(e),Ui(e)}))):Mi(e)}function Hi(e){Mi(e),e.once(Ve.PLAYER_FIRST_VIEW,(function(){Fi(e),e.on(Ve.SLOT_END,(function(){Ui(e)}))}))}function Wi(e){Fi(e);var t=!0;e.on(Ve.PLAYER_OUT_OF_VIEW,(function(){t||Ni(e),t=!1})),e.on(Ve.PLAYER_IN_VIEW,(function(){t||Vi(e),t=!1})),e.on(Ve.SLOT_END,(function(){Ui(e)}))}function Gi(e){Mi(e);var t=!0;e.on(Ve.PLAYER_OUT_OF_VIEW,(),e.on(Ve.PLAYER_IN_VIEW,(),e.on(Ve.SLOT_END,(function(){Ui(e)}))}function Ji(e){var t=Te("PCount",{players:e},();!e),e.serverEvents.supplyEvent({name:"SupplyLoaded",instanceCount:t}),e),e.rootDivElem),function(e){e.widthOverwrite&&e.heightOverwrite?(e.width=e.widthOverwrite,e.height=e.heightOverwrite,e.rootDivElem.style.width=e.width+"px",e.rootDivElem.style.height=e.height+"px"):e.widthDetected&&e.heightDetected&&0!==e.widthDetected&&0!==e.heightDetected&&(!e.sizeTolerance||Math.abs(e.width-e.widthDetected)>e.sizeTolerance||Math.abs(e.height-e.heightDetected)>e.sizeTolerance)&&(e.width=e.widthDetected,e.height=e.heightDetected)}(e),e);var n=De(e);if(e.playerReadyResolve(),Vt(e,null,"ready"),ja(e,null,"player.ready",{rootDiv:e.rootDivElem}),e.started=!0,e.autoplay=!0,e.paused=!1,e.content.setVolume(e.volume,e.muted,!1),e.serverEvents.supplyEvent({name:"SupplyStarted"}),e.clickToPlay&&(e.chilled=!0),e.closed)return!1;var r=e,n);!function(e){var t=new At(e.divElem,{threshold:[.1,.5]}),n=function(e){return e.visible&&e.entry.intersectionRatio>=.5},r=!1;t.observe(e.divElem,(function(t){e.partiallyInView=t),n(t)&&!r&&(r=!0,e.emit(Ve.PLAYER_FIRST_VIEW),ja(e,null,Ve.PLAYER_FIRST_VIEW)),n(t)?(e.isInView=!0,e.emit(Ve.PLAYER_IN_VIEW),ja(e,null,Ve.PLAYER_IN_VIEW)):(e.isInView=!1,e.emit(Ve.PLAYER_OUT_OF_VIEW),ja(e,null,Ve.PLAYER_OUT_OF_VIEW))}))}(e),function(e){var t,n=e.playbackMode;we.a.info("Starting Playback: ".concat(n));var r=((t={})[Di.AUTO_PLAY]=Bi,t[Di.AD_TO_PLAY]=Bi,t[Di.CLICK_TO_PLAY]=qi,t[Di.AUTO_PLAY_IN_VIEW]=Hi,t[Di.AUTO_PLAY_PAUSE_OUT_OF_VIEW]=Wi,t[Di.PLAY_IN_VIEW_PAUSE_OUT_OF_VIEW]=Gi,t),i=r[n];i?i(e):r[Di.AUTO_PLAY](e),e.once(Ve.CONTENT_START,(function(){e.on(Ve.SLOT_END,(function(){return Vi(e)})),e.on(Ve.AD_ERROR,(function(){return Vi(e)})),e.on(Ve.AD_SKIPPED,(function(){return Vi(e)})),e.on(Ve.AD_STARTED,(function(){return Ni(e)}))})),ct.b.on(ct.a.PLAYER.ACTION.PAUSE,(function(){Mi(e)}))}(e),r.init(),ja(e,null,"player.started")}Di||(Di={}));var zi=function(){return(zi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Xi(e,t,n,r){return Te("playPlayer",{players:e,playerData:t,log:!0},(function(){if(!t.allowedDueToSound(n))return!1;var i;!0,t),t.gotAdImpression=!1,t.adStartCount=0,t.startAdTime=Date.now(),t.state=et.Started;try{e.serverEvents.demandEvent(t,zi({name:"startAd"},r));var o=Yi(e);o&&e.width!==o.width&&e.height!==o.height&&Oa(e,"normal"),e.auctionTracker.trackStartAd(t,er(t)),e.eventDispatcher.sendStartAdEvent(t,e),ct.b.emit(ct.a.AD.STARTED,{demand:t}),we.a.log("Ad Start",{stage:nr.b.AD_START,demand:t}),i=t.startAd(n)}catch(e){i=e.message}return i&&(dt(e,t.vastId,42,i,null,t,!1),ha(e,t,17,{code:42,message:i})),!i}),(function(){return!1}))}function Ki(e,t,n){t.duration=n,t.initNonLinearCompleter(),t.durationKnown=!0,t.vastTracker&&(t.vastTracker.duration=t.duration,t.vastTracker.setDuration(t.duration)),ia(e)==t&&(ja(e,t,"player.durationChange"),e.beingVpaid&&(ga(e,"jsAdDurationChange",{duration:n}),ga(e,"jsAdRemainingTimeChange",{remainingTime:n})))} oo(e,t){t.firedEvents.AdStarted&&!t.firedEvents.AdImpression||t.onQuartile(st.FIRST)}function ao(e,t){t.firedEvents.AdStarted&&!t.firedEvents.AdImpression||t.onQuartile(st.MIDPOINT)}ion(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var Eo=function(e){eturn bo(t,e),t.prototype.fetchAdUrl=function(e,t){var n=this;this._fetchAdUrlCallback=t,this.state=et.Fetching,this.skipVastTracker=!0,this.vastPreferType==it.VIDEO_ONLY||this.players.observableOnly?(dt(this.players,this.vastId,22,"no suitable media: "+this.adType,null,this,!1,!0),ha(this.players,this,5,{code:22,message:"no suitable media: "+this.adType})):oa(this.players,this).then((function(){return n.loadSDK()})).then((,Se(this.players,"Init IMA SDK"))},t.prototype.loadSDK=function(){var e=this;if("undefined"==typeof google||void 0===google.ima)return new Promise((function(t){return R("google-ima-script-new",(function(){return function(e,t){t.trim&&(t=t.trim());var n=t.split("//");return n.length>1?(n[0]=e,n.join("//")):null}(e.players.protocol,"http://imasdk.googleapis.com/js/sdkloader/ima3.js")}),(function(){return t()}),!0)}))},t.prototype.emitEvent=function(e,t){switch(e){case this.AdsManagerLoadedEvent:case this.AdErrorLoadedEvent:this.flowTimeout.cancel(),this.onAdsRequested(t),this.isAdsRequested=!0;break;case this.AdErrorEvent:to(this.players,this,{errorMsg:t&&t.msg});break;case this.AdEvent.AD_BREAK_READY:case this.AdEvent.AD_METADATA:case this.AdEvent.ALL_ADS_COMPLETED:break;case this.AdEvent.CLICK:lo(this.players,this,{url:null,id:null,playerHandles:!1});break;case this.AdEvent.DURATION_CHANGE:po(this.players,this,{t:t.ad&&t.ad.getDuration()||null});break;case this.AdEvent.STARTED:no(this.players,this);break;case this.AdEvent.IMPRESSION:ro(this.players,this);break;case this.AdEvent.FIRST_QUARTILE:oo(this.players,this);break;case this.AdEvent.MIDPOINT:ao(this.players,this);break;case this.AdEvent.THIRD_QUARTILE:so(this.players,this);break;case this.AdEvent.COMPLETE:co(this.players,this);break;case this.AdEvent.LOADED:t&&t.ad&&this.initLoadedAd(t.ad),eo(this.players,this);break;case this.AdEvent.LINEAR_CHANGED:t&&t.ad&&this.initLoadedAd(t.ad),this.isNonLinear()||this.nonLinearCompleteTimer.cancel();break;case this.AdEvent.LOG:case this.AdEvent.CONTENT_PAUSE_REQUESTED:break;case this.AdEvent.CONTENT_RESUME_REQUESTED:this.state<=et.Playing&&this.priority>0?to(this.players,this,{errorMsg:t&&t.msg||"IMA Content Resume"}):Ao(this.players,this);break;case this.AdEvent.SKIPPABLE_STATE_CHANGED:go(this.players,this);break;case this.AdEvent.SKIPPED:yo(this.players,this);break;case this.AdEvent.USER_CLOSE:Ao(this.players,this);break;case this.AdEvent.VOLUME_CHANGED:mo(this.players,this);break;case this.AdEvent.VOLUME_MUTED:break;case this.AdEvent.PAUSED:ho(this.players,this);break;case this.AdEvent.RESUMED:vo(this.players,this)}},t.prototype.init=function(){var e,t;this.AdEvent=google.ima.AdEvent.Type,this.AdErrorCode=google.ima.AdError.ErrorCode,this.AdsManagerLoadedEvent=google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.AdErrorLoadedEvent=google.ima.AdError.Type.AD_LOAD,this.AdErrorEvent=google.ima.AdErrorEvent.Type.AD_ERROR,this.players.content instanceof Ga?this.contentVideoElement=this.players.content.getHTMLVideoElement()||this.videoElement:this.contentVideoElement=this.videoElement,qe(this.contentVideoElement)&&(this.contentVideoElement=(e=this.players,(t=document.createElement("video")).muted=!0,t.volume=e.volume,t.playsInline=!0,t)),this.imaAdSlot=document.createElement("div"),this.imaAdSlot.className="__exco_ad_ima_slot",this.adContainer.appendChild(this.imaAdSlot),this.width=this.players.width,this.height=this.players.height,this.isStarted=!1,this.isAdsRequested=!1,this.adDisplayContainer=new google.ima.AdDisplayContainer(this.imaAdSlot),this.adDisplayContainer.initialize(),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setAutoPlayAdBreaks(!1),this.adsLoader.getSettings().setDisableCustomPlaybackForIOS10Plus(!0),this.players.secureIMA||this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE),this.adsLoader.addEventListener(this.AdsManagerLoadedEvent,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(this.AdErrorEvent,this.onAdError.bind(this),!1)},t.prototype.getCustomParams=t.prototype.getTargetings=function(){var e,t,n,r,i=[],o=this.players.priceTables;if(Dt(this.players,this)){var a=(e=this.floorPrice,t=o.exco,r=t.filter((),(n=r.length?r[0]:t[t.length-1])||(n=t[0]),n);we.a.log("GAM price targeting: key: ".concat(a.k," value: ").concat(a.v,", floorPrice: ").concat(this.floorPrice)),i.push({key:"pf",value:a.v})}return i},t.prototype.addCustomParam=t.prototype.addTargeting=t.prototype.requestAd=function(){this.players.serverEvents.demandEvent(this,{name:"requestAds"}),this.adsRequest=new google.ima.AdsRequest,this.adsRequest.adTagUrl=this.addTargeting(this.mediaURL),this.adsRequest.linearAdSlotWidth=this.width,this.adsRequest.linearAdSlotHeight=this.height,this.adsRequest.forceNonLinearFullSlot=!0,this.adsLoader.requestAds(this.adsRequest)},t.prototype.getSuggestedDuration=t.prototype.getSuggestedRemainingTime=t.prototype.getAdRemainingTime=t.prototype.initLoadedAd=function(e){this.ad=e,this.duration=this.getSuggestedDuration(),this.durationKnown=!0},t.prototype.initNonLinearCompleter=function(){this.isNonLinear()&&Qi(this.players,this,this.duration)},t.prototype.getSkipOffset=function(){var t=this.ad.getSkipTimeOffset();return e.prototype.getSkipOffset.call(this)>0&&(t=t>0?Math.min(e.prototype.getSkipOffset.call(this),t):e.prototype.getSkipOffset.call(this)),t},t.prototype.getAdSkippableState=t.prototype.unlockAdSlot=t.prototype.onAdsRequested=function(e){this.onAdResponse()&&(e?(-1==[this.AdErrorCode.VAST_EMPTY_RESPONSE,this.AdErrorCode.VAST_ASSET_NOT_FOUND,this.AdErrorCode.VAST_NO_ADS_AFTER_WRAPPER,this.AdErrorCode.UNKNOWN_AD_RESPONSE].indexOf(e.code)&&(this.state=et.Started),this.emitEvent(this.AdErrorEvent,e)):(this.players.serverEvents.demandTimedEvent(this,{name:"AdsRequested",retryCount:this.retryCount}),this._fetchAdUrlCallback(this.players,this)))},t.prototype.clearAd=function(){this.lastError=null;try{this.clearSDK(),this.adContainer.removeChild(this.imaAdSlot)}catch(e){}},t.prototype.clearSDK=function(){try{this.adDisplayContainer.destroy(),this.adsLoader.destroy(),this.adsManager.destroy()}catch(e){}},t.prototype.initMedia=function(){var t=this;return e.prototype.initMedia.call(this).then(()},t.prototype.initAd=t.prototype.startAd=function(e){var t,n=this;this.isStarted||(this.forceVolume=!0,this.syncVolume(e),this.adsManager&&this.adsManager.start&&(this.transferError((function(){n.adsManager.start()})),this.sureFastStart=null===(t=this.expectedSureFastStart)||void 0===t||t,$i(this.players,this),this.isStarted=!0))},t.prototype.stopAd=t.prototype.resizeAd=t.prototype.setAdVolume=function(e,t,n,r){var i=this;this.adsManager&&(this.muted==t&&this.viewable||(this.requireSound||!this.players.muteToPlay||t||n||this.isUnlocked()||(t=!0),this.muted=t,e=t?0:e,(this.forceVolume&&!r||this.adsManager.getVolume()!=e)&&(this.transferError((function(){return i.adsManager.setVolume(e)})),this.forceVolume=!1)))},t.prototype.getAdVolume=t.prototype.isNonLinear=t.prototype.showControlBar=function(){return null!=this.controlBar&&this.controlBar},t.prototype.showAdUI=function(){return null!=this.enableAdUI&&this.enableAdUI},t.prototype.getClickText=function(){return this.players.info.mobile?null:this.clickTextEnabled?this.clickText||"Learn More":null},t.prototype.getProgress=t.prototype.pauseAd=function(){var e=this;this.transferError((function(){e.adsManager.pause()}))},t.prototype.resumeAd=t.prototype.skipAd=t.prototype.transferError=t.prototype.onAdsManagerLoaded=function(e){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.adsManager=e.getAdsManager(this.contentVideoElement,t),(this.players.muted||this.players.muteToPlay)&&(this.forceVolume=!0,this.setAdVolume(0,!0));var n=this.onAdEvent.bind(this),r=this.onAdProgressEvent.bind(this),i=this.onAdUserEvent.bind(this);this.adsManager.addEventListener(this.AdErrorEvent,this.onAdError.bind(this)),this.adsManager.addEventListener(this.AdEvent.AD_BREAK_READY,this.adBreakReadyHandler.bind(this)),this.adsManager.addEventListener(this.AdEvent.AD_METADATA,n),this.adsManager.addEventListener(this.AdEvent.ALL_ADS_COMPLETED,n),this.adsManager.addEventListener(this.AdEvent.DURATION_CHANGE,n),this.adsManager.addEventListener(this.AdEvent.IMPRESSION,n),this.adsManager.addEventListener(this.AdEvent.LINEAR_CHANGED,n),this.adsManager.addEventListener(this.AdEvent.LOADED,n),this.adsManager.addEventListener(this.AdEvent.LOG,n),this.adsManager.addEventListener(this.AdEvent.SKIPPABLE_STATE_CHANGED,n),this.adsManager.addEventListener(this.AdEvent.CONTENT_RESUME_REQUESTED,n),this.adsManager.addEventListener(this.AdEvent.CONTENT_PAUSE_REQUESTED,n),this.adsManager.addEventListener(this.AdEvent.STARTED,r),this.adsManager.addEventListener(this.AdEvent.FIRST_QUARTILE,r),this.adsManager.addEventListener(this.AdEvent.MIDPOINT,r),this.adsManager.addEventListener(this.AdEvent.THIRD_QUARTILE,r),this.adsManager.addEventListener(this.AdEvent.COMPLETE,r),this.adsManager.addEventListener(this.AdEvent.CLICK,i),this.adsManager.addEventListener(this.AdEvent.PAUSED,i),this.adsManager.addEventListener(this.AdEvent.RESUMED,i),this.adsManager.addEventListener(this.AdEvent.SKIPPED,i),this.adsManager.addEventListener(this.AdEvent.USER_CLOSE,i),this.adsManager.addEventListener(this.AdEvent.VOLUME_CHANGED,i),this.adsManager.addEventListener(this.AdEvent.VOLUME_MUTED,i),this.emitEvent(this.AdsManagerLoadedEvent)},t.prototype.onAdEvent=function(e){var t=this;this.delayEvent(e,(function(){t.emitEvent(e.type,{ad:e.getAd()})}))},t.prototype.onAdProgressEvent=function(e){var t=this;this.delayEvent(e,(function(){t.emitEvent(e.type,{ad:e.getAd()})}))},t.prototype.delayEvent=t.prototype.onAdUserEvent=t.prototype.onAdError=function(e){var t=e.getError();this.lastError={msg:t.getMessage(),code:t.getErrorCode()},t.getType()==this.AdErrorLoadedEvent?this.emitEvent(this.AdErrorLoadedEvent,this.lastError):this.emitEvent(this.AdErrorEvent,this.lastError),this.clearSDK()},t.prototype.getErrorEvent=t.prototype.adBreakReadyHandler=function(){},t}(or),_o=);r Io="margin:0;padding:0;top:0px;left:0px;position:absolute;width:100%;height:100%;";r Co=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ko=function(){return(ko=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Po=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Do=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.firstQuartile=!1,t.isPotentiallyNonLinear=!1,t}return Co(t,e),t.prototype.getAdRemainingTime=function(){var e;try{e=(e=this.vpaidJs.getAdRemainingTime())<0?null:e}catch(e){}return e},t.prototype.getAdDuration=t.prototype.verifyDuration=t.prototype.isNonLinear=t.prototype.initNonLinearCompleter=function(){this.isNonLinear()&&Qi(this.players,this,this.duration)},t.guessError=t.clickData=t.prototype.considerVolumeChange=function(){if(!this.players.dynamicSound){var e,t,n=!1,r=!1;try{if(0==this.vpaidJs.getAdVolume())return;this.viewable?this.viewableForSeconds()<1?"JS VPAID - AdVolume change too soon after adStarted":(n=!0,"JS VPAID - AdVolume change allowed"):"JS VPAID - AdVolume change before viewable",n||(this.vpaidJs.setAdVolume(0),0==this.vpaidJs.getAdVolume()&&(r=!0,"JS VPAID - AdVolume change reverted"))}catch(e){"JS VPAID - AdVolumeChanged exception"+(e&&e.message?e.message:"")}this.players,t=n||r,(e=this).mediaURL,e.vastId,be(0,0,t?.01:.1)}},t.prototype.event=function(e,t){var n=this,r=void 0===t?{}:t,i=r.data,o=r.setVolume,a=void 0!==o&&o,s=this.vpaidEvents.currentEvent;try{A.delay(this.delay[s]||0).then(().catch(Se(this.players,"jsvpaid event ".concat(s))),a&&this.syncVolume()}catch(e){Ae(this.players,3,"jsVpaid"+s+" hanlder JS exception: "),e&&e.terminateVpaid&&ha(this.players,this,9,{code:10,message:"volume violation",vpaidError:at.VPAID_VOLUME_VIOLATION})}},t.prototype.AdLoaded=t.prototype.AdError=t.prototype.AdStarted=t.prototype.AdStopped=function(){this.event(uo)},t.prototype.AdPlaying=function(){this.event(vo)},t.prototype.AdPaused=function(){this.event(ho)},t.prototype.AdVideoStart=t.prototype.AdVideoFirstQuartile=t.prototype.AdVideoMidpoint=function(){this.event(ao)},t.prototype.AdVideoThirdQuartile=function(){this.event(so)},t.prototype.AdVideoComplete=function(){this.event(co)},t.prototype.AdImpression=t.prototype.AdRemainingTimeChange=function(){var e={t:null};if(this.state==et.Playing){var t=this.getAdRemainingTime();null!=t&&t>0||this.firstQuartile?this.nonLinearCompleteTimer.cancel():null!=this.lastRemainingTime||this.isPotentiallyNonLinear||this.durationKnown?this.lastRemainingTime&&this.lastRemainingTime<1&&(Qi(this.players,this,.5),this.isPotentiallyNonLinear=!0,this.lastRemainingTime=null):(this.isPotentiallyNonLinear=!0,Qi(this.players,this,this.duration)),e={t:t}}this.event(fo,{data:e,log:!1})},t.prototype.AdDurationChange=t.prototype.AdVolumeChange=t.prototype.AdClickThru=t.prototype.AdSkipped=function(){this.event(yo)},t.prototype.AdSkippableStateChange=function(){this.event(go)},t.prototype.AdUserClose=t.prototype.AdSizeChange=function(){},t.prototype.AdExpandedChange=function(){},t.prototype.insertCompanion=t.prototype.isUnlocked=function(){return!this.players.info.mobile&&this.players.hadUserInteraction},t.prototype.unlockAdSlot=function(){!this.unlocked&&this.videoElement&&this.state<et.Initing&&(this.unlocked=!0,this.videoElement.load())},t.prototype.initMedia=function(){var t=this;return this.vpaidJs=null,e.prototype.initMedia.call(this).then((function(){return Oo(t.players,t).then((function(){t.vpaidEvents=new Ro(t),t.initVpaidOnStart?(t.state=et.Ready,Xi(t.players,t,!1)):Zi(t.players,t)})).catch((function(e){dt(t.players,t.vastId,100,e.message,null,t),ha(t.players,t,15,{code:100,message:e.message})}))}))},t.prototype.initAd=function(){var e={AdParameters:this.adParameters||""},t={slot:this.vpaidJsIframeAdElem,videoSlot:this.vpaidJsIframeVideo,videoSlotCanAutoPlay:!0===this.players.mainAutoplay};if(this.mediaURL.indexOf("moatwrapper.js")>=0){var n=this.vpaidJsIframeVideo.canPlayType.bind(this.vpaidJsIframeVideo);this.vpaidJsIframeVideo.canPlayType=var r=this.vpaidJs.initAd(this.players.widthOverwrite||this.players.width,this.players.heightOverwrite||this.players.height,"normal",400,e,t);if(!r&&void 0!==r)return"jsVpaid error"},t.prototype.startAd=function(e){var t;if(this.players.rootDivElem.style.top="0px",this.syncVolume(e),this.initVpaidOnStart&&!this.initVpaidOnStartDone)return this.initVpaidOnStartDone=!0,void this.initAd();try{this.vpaidJs.startAd(),this.sureFastStart=null!==(t=this.expectedSureFastStart)&&void 0!==t&&t,$i(this.players,this)}catch(e){return"jsVpaid start error"}return null},t.prototype.pauseAd=function(){this.vpaidJs&&this.vpaidJs.pauseAd&&this.vpaidJs.pauseAd()},t.prototype.resumeAd=t.prototype.stopAd=t.prototype.showAd=t.prototype.clearAd=t.prototype.resizeAd=t.prototype.setAdVolume=function(e,t,n,r){if(this.vpaidJs&&this.vpaidJs.setAdVolume){if(!this.requireSound&&this.players.muteToPlay&&!t&&!n&&!this.isUnlocked()){if(this.initialSound)return;t=!0}if(this.muted=t,e=t?0:e,!r)try{this.vpaidJsIframeVideo.volume=e,this.vpaidJsIframeVideo.muted=t,this.initialSound&&this.vpaidJs.getAdVolume&&this.vpaidJs.getAdVolume()===e||this.vpaidJs.setAdVolume(e),this.initialSound=!0}catch(e){}}},t.prototype.getAdVolume=t.prototype.showAdUI=t.prototype.getProgress=t.prototype.getAdSkippableState=function(){return this.vpaidJs.getAdSkippableState&&this.vpaidJs.getAdSkippableState()||e.prototype.getAdSkippableState.call(this)},t.prototype.skipAd=t.prototype.getErrorEvent=t}(lr),Ro=function(e){eturn Co(t,e),t.prototype.subscribe=function(){var e=this;N(_o.prototype,(function(t){e[t]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e.currentEvent=t,e.playerData.vpaidJs){var i=e.playerData[t];i&&i.apply(e.playerData,Po([],n,!0))}else fr(e.playerData.players,e.playerData,t)},e.playerData.vpaidJs.subscribe(e[t],t)}))},t.prototype.unsubscribe=t}(_o),Lo=);ar No=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jo=function(e){eturn No(t,e),t.prototype.initMedia=function(){var t=this;return e.prototype.initMedia.call(this).then((function(){t.initCompanion(),t.players,t),He(t.players,t.videoElement,t.mediaURL),qe(t.videoElement)||(t.videoElement.autoplay=!1,t.videoElement.controls=t.players.controlBar&&"native"==t.players.controlBarType,t.videoElement.loop=!1,t.videoElement.load())})).catch(Se(this.players,"initMedia"))},t.prototype.getSkipOffset=t.prototype.initAd=function(){},t.prototype.startAd=function(e){this.showAd(),this.sureFastStart=!0,this.syncVolume(e);var t=xo(this.videoElement);t&&t.then&&t.catch((function(){ct.b.emit(ct.a.PLAYER.AUTOPLAY_BLOCKED)})),this.players,this.videoElement,t,"vast")},t.prototype.pauseAd=function(){this.videoElement.pause()},t.prototype.resumeAd=function(){this.videoElement.play()},t.prototype.stopAd=function(){this.videoElement.pause()},t.prototype.clearAd=function(){this.videoElement&&this.videoElement.pause()},t.prototype.destroyAd=t.prototype.resizeAd=function(e,t,n){},t.prototype.setAdVolume=function(e,t,n,r){this.requireSound||!this.players.muteToPlay||t||n||this.isUnlocked()?(this.muted=t,r||this.videoElement&&(this.videoElement.muted!==t&&(this.videoElement.muted=t),this.videoElement.volume!==e&&(this.videoElement.volume=e))):!this.muted&&this.state<=et.Started&&this.setAdVolume(e,!0,!1)},t.prototype.getAdVolume=t.prototype.getProgress=t.prototype.getAdRemainingTime=t.prototype.getErrorEvent=t}(lr);unction(){return(Go=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Jo=[/^Intent/,/^Custom/],Yo=);r Ko=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qo=function(e){eturn Ko(t,e),t.prototype.AdLoaded=function(){var t=this,n=this.vpaidJsIframeAdElem.vdb_Player;if(n){var r=this.jsVpaidFrame.contentWindow.vidible;r&&(n.addEventListener(r.AD_START,(),n.addEventListener(r.VIDEO_START,(function(){3!=t.currentlyPlaying&&(t.currentlyPlaying=2,ha(t.players,t,36,{code:300,message:"vidible content exception",vpaidError:at.VPAID_VIDIBLE_CONTENT}))})))}e.prototype.AdLoaded.call(this)},t.prototype.AdVideoComplete=t}(Do),Zo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.proxy=null,r.proxy=r.vastURL,r}return Zo(t,e),Object.defineProperty(t.prototype,"tamProxy",{get:enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tamConfig",{get:enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"slotId",{get:function(){return this.tamConfig.slotId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pubId",{get:function(){return this.tamConfig.pubId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deals",{get:enumerable:!1,configurable:!0}),t}(jo);var ea={video:jo.prototype,jsvpaid:Do.prototype,jsvidible:Qo.prototype,jsima:Eo.prototype,vast:lr.prototype,prebidAdapter:dr.prototype,tam:$o.prototype};ction ia(e){return e.findPlayerData((function(e){return e.state==et.Playing}))}function oa(e,t){return t.adContainersReady=t.adContainersReady||e.playerReady.then((function(){e.unlockedVideos.length>0?(t.reusableVideoTrace=e.unlockedVideos.pop(),t.videoElement=t.reusableVideoTrace.target,t.unlocked=!0):(t.videoElement=Be(),t.reusableVideoTrace=t.videoElement)),t.adContainer=t),t.adContainer.appendChild(t.videoElement),e.divElem.appendChild(t.adContainer)})).catch(Se(e,"prepareAdContainers"))}nction ca(e,t){Te("destroyPlayerData",{players:e,playerData:t,log:!0},(function(){if(-1===e.plist.indexOf(t))return!1;if(t.state==et.Finished&&null==t.requeryTimeout)return!1;t.state=et.Finished,null!=t.requeryTimeout&&(clearTimeout(t.requeryTimeout),t.requeryTimeout=null),t.flowTimeout.cancel(),t.viewabilityTimer.cancel(),t.keepAliveTimer.cancel(),sa(0,t),-1!==e.plist.indexOf(t)&&e.plist.splice(e.plist.indexOf(t),1);try{setTimeout((,200)}catch(e){}}))}r da={error:1},pa=[{action:{terminate:!0},reasons:[2,1,5,7,8,3,9,21,20,17,24,30,31,12,22,35]},{action:{error:0},reasons:[10,11,4]},{action:{error:100},reasons:[18]},{action:{error:105,maxRetries:3},reasons:[6]},{action:{error:105},reasons:[19,36]}];unction ha(e,t,n,r){if(void 0===n&&(n=29),"function"==typeof e.finishPlayerData)return e.finishPlayerData(t,n,r);if(t.state!=et.Error&&t.state!=et.Finished){if(e.anyPlaying=e.anyPlaying&&fa(e,t),ra(e,t),t.flowTimeout.cancel(),r&&(e.emit(Ve.AD_ERROR,{error:r,playerData:t}),ct.b.emit(ct.a.AD.ERROR,{error:r,demand:t}),e,t,r),t.state=et.Error,60===r.code&&(t.skippable=!1,ja(e,t,"ad.complete",{error:r,playerData:t}))),t.state==et.Playing){e.adFinishedAt=e.now();var i={listCompleted:e.frozen,skipped:2==n,error:!!r,tooLong:3==n};t.skippable=!1,ja(e,t,"adcomplete",i),ja(e,t,"ad.complete",i),t.finishPromiseResolve()}return pr(e,t)||function(e,t){for(var n=da,r=0,i=pa;r<i.length;r++){var o=i[r];if(o.reasons.indexOf(t)>=0){n=o.action;break}}if(n.terminate)return!0;n.error&&n.error>=1&&(e.state=et.Error,e.errorCount=e.errorCount+n.error);n.maxRetries&&(e.maxFailedVastRetries=Math.min(n.maxRetries,e.maxFailedVastRetries));return!function(e,t){var n=0;t.maxFailedVastRetries>0&&(n=t.maxFailedVastRetries);e.maxFailedVastRetries>0&&(0==n||e.maxFailedVastRetries<n)&&(n=e.maxFailedVastRetries);if((n>0&&t.retryCount+1>n||e.maxTotalVastRetries>0&&e.totalVastRetries+1>e.maxTotalVastRetries)&&!(t.lastChanceRetry&&t.retryCount<2))return!1;return!0}(e.players,e)}(t,n)?(ca(e,t),void(2==n&&e.paused?Sa(e,"ui"):function(e){if(0==e.plist.length&&!e.waitingForAds)e.beingVpaid&&va(e).then((function(){}))}(e))):void 0}}function va(e,t){e.frozen=!0,e.playNextRepeatTimer.cancel();var n=0==e.plist.length;return function(e,t){if(e.plist.length)for(var n=e.plist.length-1;n>=0;n--)e.plist[n]!==t&&ca(e,e.plist[n])}(e,t),ja(e,null,"player.adspaused"),t||(e.anyPlaying=!1,e.beingVpaid&&!e.vpaidContent&&ga(e,"jsAdError",{error:"no ads"})),t?t.finishPromise:n?Promise.resolve():A.delay(1e3)}var ma="data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=";r Aa=function(){return(Aa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};tion Ta(e,t,n,r){var i=ia(e);return n||r instanceof or&&r!==i||"content"==r&&i?{allowed:!1,playerData:i}:{allowed:!0,playerData:i}}function Ia(e,t){var n=Ta(e,0,e.paused,t),r=n.playerData;n.allowed&&("content"==t&&!e.interactive||t instanceof or&&!t.interactive||(e.autoplay=!1,e.paused=!0,r?(ba(e,r),t!=r&&_a(e,r)):"content"!==t&&e.content instanceof Ga&&e.content.isVisible()&&e.content.pauseContent(),setTimeout((,0),e.beingVpaid&&ga(e,"jsAdPaused",{})))}function Sa(e,t,n,r,i){var o,a=ia(e);if(!1===e.paused&&a&&a.isPaused)return Ea(e,a),void wa(0,a);var s=Ta(e,0,!r&&!0===e.started&&!e.paused&&e.autoplay,t),c=s.playerData;s.allowed&&(e.paused=!1,e.autoplay=!(r||e.playingVastId),c?(Ea(e,c),t!=c&&wa(0,c)):n&&e.content.play(),ja(e,null,"player.resumed"),e.beingVpaid&&ga(e,"jsAdPlaying",{}),e.waitForResumePromise=null,null===(o=e.waitForResumeResolve)||void 0===o||o.call(e))}function Oa(e,t,n,r){if((e.width!=n||e.height!=r)&&e.rootDivElem){var i=!1;if(void 0===n&&void 0===r){var o=Yi(e);if(!o)return;n=o.width,r=o.height}else i=!0,n=Number(n),r=Number(r);if(n>=0&&r>=0){e.width=n,e.height=r,i&&(e.widthOverwrite=n,e.heightOverwrite=r,e.rootDivElem.style.width=n+"px",e.rootDivElem.style.height=r+"px");for(var a=0,s=e.plist;a<s.length;a++){var c=s[a];try{c.resizeAd&&c.resizeAd(n,r,t)}catch(e){}}}}}function Ca(e,t,n,r,i){void 0===t&&(t=e.volume),void 0===i&&(i=!1);var o=null!=n?n:0==t;if(i&&function(e){e.info.mobile||(e.hadUserInteraction=!0),e.content instanceof Ga&&e.content.unlockSlot();for(var t=0,n=e.plist;t<n.length;t++){n[t].unlockAdSlot()}}(e),function(e,t,n,r,i){var o=ia(e);o&&o.setAdVolume(t,n,i,r==o)}(e,t,o,r,i),e.content instanceof Ga&&e.content.setVolume(t,o,i),!(e.volume==t&&e.muted==o||e.muted&&o)){t>0&&(e.dynamicSound=!0),o&&null==n||(e.volume=t),e.muted=o;for(var a=0,s=e.plist;a<s.length;a++){var c=s[a];try{c.syncVolume(i),c.vastTracker&&c.vastTracker.setMuted(o)}catch(e){}}e.beingVpaid&&ga(e,"jsAdVolumeChange",{volume:t,muted:o}),ja(e,null,"player.volumeChanged",{volume:e.volume,muted:e.muted})}}unction Pa(e){var t=ia(e);if(t){(!t.skippableLastCheck||Date.now()-t.skippableLastCheck>=1e3)&&(t.skippableLastCheck=Date.now(),t.skippableChecked=t.getAdSkippableState());var n=t.showAdUI();return Aa(Aa({content:!1,paused:e.paused||t.isPaused},t.getProgress()),{adUI:n,skippable:t.skippableChecked,volume:e.volume,muted:null!=t.muted?t.muted:e.muted})}return e.content instanceof Ga?Aa(Aa({content:!0,paused:e.paused},e.content.getProgress()),{adUI:!1,skippable:!1,volume:e.volume,muted:e.content.video.muted}):null}r La=function(){eturn e.prototype.pause=e.prototype.play=function(e){void 0===e&&(e={userInteraction:!0}),Sa(this.players,"api",e.userInteraction,e.vastId,e.eventParams),this.sound(null,e.userInteraction)},e.prototype.overrideInitParams=e.prototype.setContentVariant=function(e){var t,n;!0===this.players.gpvConfLoaded&&(t=this.players,n=e,t.content instanceof Ga&&t.content.setVideoVariant(n))},e.prototype.setVideoFormat=e.prototype.seekContent=e.prototype.setCurrentContent=e.prototype.setContent=e.prototype.setExtContent=e.prototype.setPausable=e.prototype.setConsentData=function(e){void 0===e&&(e={}),this.players.gdprConsentApplies=e.gdprConsentApplies,this.players.gdprConsentString=e.gdprConsentString},e.prototype.sound=e.prototype.resize=e.prototype.skip=e.prototype.close=e.prototype.pauseAds=function(){var e,t;e=this.players,t=ia(e),e.autoplay=!1,t&&va(e,t)},e.prototype.show=e.prototype.hide=e.prototype.sendDemandEvent=e.prototype.sendSupplyEvent=e.prototype.getPlayerVersion=function(){return this.players.playerVersion},e.prototype.getProgress=e.prototype.getSessionTargetConfig=e.prototype.hasPubDemand=function(){return this.players.hasPublisherDemand},e.prototype.isIvtSession=function(){return this.players.isIvt},e}(); Ua=function(){return(Ua=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)}; Ba,qa=function(){function e(e){var t=this;this.subscriber={},this.started=!1,this.baseUrl="",this.getSubtitleList=function(){return t.hls.subtitleTracks||[]},this.getSubtitle=function(){return t.hls.subtitleTrack},this.setSubtitle=function(e){null!=e&&t.hls.subtitleTrack!==e&&(t.hls.subtitleTrack=e)},this.getLevelList=function(){return t.hls.levels||[]},this.getLevel=function(){return t.hls.currentLevel},this.setLevel=function(e){null!=e&&t.hls.currentLevel!==e&&(t.hls.currentLevel=e)},this.getAudioList=this.getAudio=this.setAudio=this.config=Ua({},e),e.autoStartLoad=!1,this.hls=new Hls(Ua({enableWorker:!0,startLevel:-1,capLevelToPlayerSize:!1,autoLevelEnabled:!0,maxBufferLength:10,maxMaxBufferLength:20},e)),this.hls.on(Hls.Events.MANIFEST_PARSED,(function(){var e,n,r;(null===(e=t.config)||void 0===e?void 0:e.autoLevelCapping)&&(t.hls.autoLevelCapping=t.config.autoLevelCapping),(null===(n=t.config)||void 0===n?void 0:n.autoStartLoad)&&(t.hls.startLoad(-1),t.started=null===(r=t.config)||void 0===r?void 0:r.autoStartLoad)})),this.hls.on(Hls.Events.ERROR,(),this.hls.on(Hls.Events.LEVEL_LOADED,()}return e.prototype.init=e.prototype.onError=e.prototype.recoverMediaError=function(){this.hls.recoverMediaError()},e.prototype.destroy=function(){this.hls.destroy()},e.prototype.play=e.prototype.setEnded=e}(),Ha=),Wa=function(){return(Wa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ga=function(){eturn e.prototype.getRelevantCategories=function(){var e,t;return this._isContentAboutToChange()?null===(e=this.getNextContent())||void 0===e?void 0:e.categories:null===(t=this.getCurrentItem())||void 0===t?void 0:t.categories},e.prototype.getRelevantKeywords=function(){var e,t;return this._isContentAboutToChange()?null===(e=this.getNextContent())||void 0===e?void 0:e.keywords:null===(t=this.getCurrentItem())||void 0===t?void 0:t.keywords},e.prototype.getNextContent=e.prototype._isContentAboutToChange=Object.defineProperty(e.prototype,"currentContext",{get:enumerable:!1,configurable:!0}),e.prototype.init=e.prototype.getList=e.prototype.initFetchingErrorCount=e.prototype.create=e.prototype.setMasPerContent=e.prototype.setMasForMidContent=e.prototype.setMasForFirstContent=e.prototype.setVideoSrc=function(e){var t=this;void 0===e&&(e=this.currentVideoIndex),this.currentVideoIndex=e;var n=this.getCurrentItem(),r=this.variantsList[this.selectedVariant];if(n){var i=this.getVideoSrc(n);i?(this.currentItem=n,this.currentVariant=r,Va(i)?Ma(this.video)||Fa()?this.setHLSVideoSrc():new Promise(().then(():this.setMP4VideoSrc()):(this.currentItem=null,this.currentVariant=null)}},e.prototype.getVideoSrc=e.prototype.getHLSVideoSrc=e.prototype.getMP4VideoSrc=e.prototype.isMp4=e.prototype.setHLSVideoSrc=function(){var e=this.getHLSVideoSrc();this.hls=this.hls||this.createHLSManager(e),this.hls?this.hls.init(this.video,e):(this.setMP4VideoSrc(),ja(this.players,null,"content.error",{src:e,errorMsg:"hls is not supported"})),this.currentVideoSrc=e,ja(this.players,null,"content.changed",{url:e,clickUrl:this.currentItem.clickUrl||this.clickUrl,index:this.currentVideoIndex,variant:this.selectedVariant,time:this.video.currentTime,adContent:this.isAdContent()}),this.videoChanged=!0,this.playOnHLSScriptLoaded&&(this.playOnHLSScriptLoaded=!1,this.play())},e.prototype.createHLSManager=e.prototype.onHLSError=e.prototype.setMP4VideoSrc=e.prototype.nativeContolsVisible=e.prototype.resetFetchingErrorCount=e.prototype.playNextVideo=e.prototype.removeAdContent=e.prototype.getCurrentTime=e.prototype.getCurrentVariantLabel=e.prototype.getDuration=e.prototype.getClickData=e.prototype.destroyHls=e.prototype.nextVideo=e.prototype.getNextIndex=e.prototype.next=e.prototype.prev=e.prototype.load=e.prototype.play=e.prototype.getCurrentItem=e.prototype.isAdContent=e.prototype.canPreroll=e.prototype.shouldMonetize=e.prototype.insertAdContent=e.prototype.insertAt=e.prototype.removeAt=e.prototype.pause=e.prototype.showContent=e.prototype.hideContent=e.prototype.setContent=e.prototype.setVideoFormat=e.prototype.seekContent=e.prototype.setCurrentVideo=function(e){null!=e.index&&(this.playNextVideo(e.index),e.allowAdBreak&&ka(this.players))},e.prototype.isVisible=function(){return this.visible},e.prototype.removeContent=e.prototype.setVolume=e.prototype.shouldPlay=e.prototype.start=e.prototype.hide=function(){this.hideContent()},e.prototype.show=function(){this.showContent()},e.prototype.pauseContent=e.prototype.setWait=e.prototype.isUnlocked=e.prototype.unlockSlot=function(){!this.unlocked&&this.video&&(this.unlocked=!0,this.started||this.load())},e.prototype.getUrl=e.prototype.getHTMLVideoElement=e.prototype.getProgress=e.prototype.useFallback=e.prototype.setDefaultMas=e.getListFromUrls=e}(),Ja=function(){eturn Object.defineProperty(e.prototype,"activeAuction",{get:enumerable:!1,configurable:!0}),e.prototype.startAuction=function(e){var t=this._createAuction(e);t.active=!0,this._auctions.push(t)},e.prototype.endAuction=function(){var e=this.activeAuction||null;return e&&(e.active=!1),e},e.prototype.trackBidRequest=function(e,t){var n,r,i,o=e.vastId,a=null===(r=null===(n=this.activeAuction)||void 0===n?void 0:n.dList)||void 0===r?void 0:r.get(o);null===(i=null==a?void 0:a.runs)||void 0===i||i.push([this.getStep("bidReq",t,e)]),this.activeAuction.dList.set(o,a)},e.prototype.trackBidResponse=function(e,t){var n,r,i,o,a,s=e.vastId,c=null===(r=null===(n=this.activeAuction)||void 0===n?void 0:n.dList)||void 0===r?void 0:r.get(s);null===(i=null==c?void 0:c.runs[(null==c?void 0:c.runs.length)-1])||void 0===i||i.push(this.getStep("bidRes",t,e)),null===(a=null===(o=this.activeAuction)||void 0===o?void 0:o.dList)||void 0===a||a.set(s,c)},e.prototype.trackRequest=function(e,t){var n,r,i,o,a,s,c=e.vastId,u=null===(r=null===(n=null==this?void 0:this.activeAuction)||void 0===n?void 0:n.dList)||void 0===r?void 0:r.get(c);"tam"===u.type||"prebid"===u.type?null===(i=null==u?void 0:u.runs[u.runs.length-1])||void 0===i||i.push(this.getStep("vastReq",t,e)):null===(o=null==u?void 0:u.runs)||void 0===o||o.push([this.getStep("vastReq",t,e)]),null===(s=null===(a=null==this?void 0:this.activeAuction)||void 0===a?void 0:a.dList)||void 0===s||s.set(c,u)},e.prototype.trackResponse=function(e,t){var n,r,i,o=e.vastId,a=this.activeAuction.dList.get(o);null===(n=null==a?void 0:a.runs[(null==a?void 0:a.runs.length)-1])||void 0===n||n.push(this.getStep("vastRes",t,e)),null===(i=null===(r=this.activeAuction)||void 0===r?void 0:r.dList)||void 0===i||i.set(o,a)},e.prototype.trackImpression=function(e,t){var n,r=e.vastId,i=this.activeAuction.dList.get(r);null===(n=null==i?void 0:i.runs[(null==i?void 0:i.runs.length)-1])||void 0===n||n.push(this.getStep("imp",t,e)),this.activeAuction.dList.set(r,i)},e.prototype.trackInitAd=function(e,t){var n,r=e.vastId,i=this.activeAuction.dList.get(r);null===(n=i.runs[i.runs.length-1])||void 0===n||n.push(this.getStep("initAd",t,e)),this.activeAuction.dList.set(r,i)},e.prototype.trackStartAd=function(e,t){var n,r=e.vastId,i=this.activeAuction.dList.get(r);null===(n=null==i?void 0:i.runs[(null==i?void 0:i.runs.length)-1])||void 0===n||n.push(this.getStep("startAd",t,e)),this.activeAuction.dList.set(r,i)},e.prototype._createAuction=function(e){var t=this,n={index:e.roll,type:e.adSlotCurrentType,time:Date.now(),dList:new Map,active:!1};return e.plist.forEach((),n},e.prototype._makeDemandEntry=function(e){var t=e.vastId,n=e.type,r=void 0===n?"vast":n,i=e.bidder,o=e.isPubDemand,a=e.demandId,s=Nt({demandId:a});return{id:t,type:r,isPD:o,bidder:i,sId:s.supplyId,sIdX:s.supplyIdX,sIdDx:s.supplyIdDX,dId:s.demandId,dIdX:s.demandIdX,dIdDx:s.demandIdDX,runs:[]}},e.prototype.getStep=function(e,t,n){return{step:e,timeStamp:Date.now(),cpm:t,transactionId:n.transactionId}},e}(),Ya=);!Ba||(Ba={}));var za=function(e){function t(){var t=e.call(this)||this;return t._internalEventsEmitter=Fe,t.isInView=!1,t.partiallyInView=!1,t.isOutstream=!1,t.globalPricing=!1,t.monetize=!0,t.observableOnly=!1,t.beingVpaid=!1,t.trySound=!1,t.anvato=!1,t.jwplayer=!1,t.checkDomPresence=!0,t.checkDetectedSize=!1,t.vpaidContent=!1,t.curUniq=0,t.freqRetry=!1,t.anyPlaying=!1,t.allowSound=!1,t.allowPausedImpressions=!0,t.usejsv=!1,t.hadUserInteraction=!1,t.areqMethod=0,t.multipleEventMethod=0,t.mediaPreview=!1,t.intent=!1,t.controlsTouch=!1,t.secureIMA=!1,t.videoPreload="metadata",t.clickText=null,t.clickTextEnabled=!1,t.iframe=!1,t.areqEventsQueue={},t.areqEntryCount=0,t.areqTimer=null,t.eventsQueue={},t.gpvExtraParams={},t.gpvMethod=0,t.prebidJS={initialized:!1,que:[]},t.prebidActiveAuctions=0,t.prebidJSAdUnitCode=1,t.requeryPrebidTimer=null,t.requeryPrebidPromise=null,t.gpvAttempt=0,t.waitingForAds=!1,t.debug={},t.conf={},t.initOverrides=[],t.gpvConfLoaded=!1,t.timers=null,t.iiq=null,t.vastWaitFactor=1,t.totalVastRetries=null,t.maxTotalVastRetries=null,t.maxFailedVastRetries=null,t.maxAdStarts=null,t.rollAdStarts=null,t.restTime=null,t.rollDemandMaxAdStarts=null,t.vpaidInitLimit=3,t.autoScheduleReset=!1,t.sizeTolerance=null,t.widthOverwrite=null,t.heightOverwrite=null,t.rawSchedule=null,t.nullSchedule={api:!1,content:{wait:0,mas:0},time:{start:9e9,mas:0},auto:null},t.sessionConfig={tc:null,tcp:null,mv:"default",pt:null,grh:null},t.auctionTracker=new Ja,t.eventDispatcher=null,t.flamingoModule=null,t.postRoll=!1,t.roll=0,t.noAdRounds=0,t.mainAutoplay=!0,t.viewAutoplay=0,t.controlBarType=null,t.clickToPlay=!1,t.vastList={},t.playNextRepeatTimer=new A,t.viewStartPlayerInterval=null,t.viewCheckPlayerInterval=null,t.externalViewabilityFunction=null,t.debugLogReason="gpv",t.debugLog="",t.debugLogBuffer="",t.logToHTML=!1,t.submitDebugLogOnPlayerError=!1,t.submitDebugLogOnVastError=!1,t.submitDebugLogForVastId=null,t.plist=[],t.unlockedVideos=[],t.domIsReady=!1,t.started=!1,t.paused=!1,t.scheduledPixelSent=!1,t.showBrandMenu=!1,t.demandTypeThrottleMap={},t.sendStringParams=Qe,t.anyAdPlayed=!1,t.usableTagsSent={},t.curAdStarts=0,t.reqThrottleMap={},t.hlsConfig={},t.iiqPercentage=0,t.iiqEnabled=!1,t.now=Date.now,t.startTime=(new Date).getTime(),t.playerReady=new Promise((),t}return Ya(t,e),t.prototype.on=function(e,t){this._internalEventsEmitter.on(e,t)},t.prototype.off=function(e,t){this._internalEventsEmitter.off(e,t)},t.prototype.once=function(e,t){this._internalEventsEmitter.once(e,t)},t.prototype.emit=Object.defineProperty(t.prototype,"sessionTarget",{get:function(){return this.sessionConfig.tc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionTargetPub",{get:enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this.sessionTarget||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targetPub",{get:enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"priceTables",{get:enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schedule",{get:set:enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPublisherDemand",{get:enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isIvt",{get:function(){var e,t;return null===(t=null===(e=this.sessionConfig)||void 0===e?void 0:e.grh)||void 0===t?void 0:t.woiv},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteOpsId",{get:function(){var e,t;return null===(t=null===(e=this.sessionConfig)||void 0===e?void 0:e.grh)||void 0===t?void 0:t.wolud},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFlamingoOn",{get:enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteOpsState",{get:enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skipParams",{get:enumerable:!1,configurable:!0}),t.prototype.findPlayerData=t.prototype.reachedDemandMaxAdStarts=t.prototype.isAdContent=t.prototype.getContentElement=t}(b);nction Qa(e,t){f(c,e,{allowLongImpressions:v(t.ali),allowPausedImpressions:v(t.pausedImpressions),allowSound:v(t.as)||a(v(t.muted),(),anvato:v(t.anvato),autoScheduleReset:v(t.asr),blackListName:y(t.bl),checkDomPresence:v(t.checkdom),checkDetectedSize:v(t.checkdetected),clickText:y(t.actext),clickTextEnabled:v(t.actcall),closeButton:v(t.scb),controlBar:v(t.co),controlBarMaybe:v(t.com),controlBarType:y(t.cotype),controlsTouch:v(t.cot),enableAdUI:v(t.adui),event2RateLow:m(t.erate_low),eventCookie:y(t.evck),eventServer:y(t.esrv),eventServer2:y(t.esrv2),hadUserInteraction:v(t.husi),iframe:v(t.iframe),interactive:v(t.interactive),jwplayer:v(t.jwplayer),mainAutoplay:Ka(t.ap,"ads"),maxAdStarts:m(t.mas),maxFailedVastRetries:m(t.mvr),maxTotalVastRetries:m(t.tvr),mediaPreview:v(t.mediaPreview),observableOnly:v(t.oo),prerollTimeout:m(t.pretime),restTime:m(t.rest),requireSound:v(t.rs),secureIMA:v(t.secureima),showBrandMenu:v(t.showBrandMenu),showNextNavigation:v(t.showNextNavigation),sizeTolerance:m(t.sizeTol),trySound:v(t.trySound),videoPreload:y(t.vp),viewAutoplay:m(t.apv,0),vpaidInitLimit:m(t.vpl),flamingoModule:t.fl,location:t.loc})}ar $a=es=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};window.CEDATO_API=window.CEDATO_API||{registerPlayer:getPlayer:;var ts=),ns={};var rs=function(){return(rs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},is=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};unction as(e,t){for(var n=[],r=0,i=e.plist;r<i.length;r++){var o=i[r];o.demandId?o.demandId==t&&n.push(o):(o.vastId==t||o.cxvid&&o.cxvid==t)&&n.push(o)}e.anyPlaying=n.length>0||e.anyPlaying;for(var a=0,s=n;a<s.length;a++){var c=s[a];e.anyPlaying=e.anyPlaying&&fa(e,c),ca(e,c)}return n.length}unction cs(e,t,n){var i,o,a,s,c;if(T(t)){e.waitingForAds=!1,e.gpvTime=O(e.startTime),e),(e.initOverrides||n)&&(t=function(e,t,n){var r=e.find((function(e){return"config"==e.name})),i={};r&&r.value&&(i=U(r.value,{id:"c"}));n&&(i=U(i,n));return t.map((function(e){return"c"==e.id?U(e,i):e}))}(e.initOverrides||[],t,n),t=e.initOverrides||[],t)),e.urlReplacer=null;for(var u=0,l=t;u<l.length;u++){if("c"==(f=l[u]).id&&"d"==f.c)return void va(e);"c"==f.id?ss(e,f):"d"==f.c&&as(e,f.id)}for(var d=0,p=t;d<p.length;d++){var f;if((f=p[d]).id&&"c"!=f.id&&"d"!=f.c){var h=new sr(e,f);e.plist.push(h)}}return(null===(i=window.__EXCO)||void 0===i?void 0:i.SIM)&&(null===(a=null===(o=window.__EXCO)||void 0===o?void 0:o.SIM)||void 0===a?void 0:a.DEMANDS_CB)&&(null===(c=null===(s=window.__EXCO)||void 0===s?void 0:s.SIM)||void 0===c||c.DEMANDS_CB(t)),t}}var us=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},ls=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};ar ps={cvars:{IP:"",DNT:"0"},ap:!0,id:"c",vwf:1,as:!1,mvr:1.01,ho:!1,adServerError:!0,esrv2:"https://e.channelexco.com/event",schedule:{initialPreRollTimeout:10,minSecondsBetweenFetch:0,slots:{interval:15},content:{limit:60,mas:2,wait:10},time:{wait:10,limit:60,mas:1,start:15}},co:!1,impDetail:!0,moat:{ids:{level3:"[DMID]",level2:"",level4:"",level1:"",slicer1:""},partnerCode:"cedatojsvideo958042602703",rate:0}},fs=[];var hs=new Set(["20","21","22","23","24","25","26"]),vs=ms=n(5),ys=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},gs=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=,o;,As=function bs(e,t){return ys(this,void 0,void 0,(function(){return gs(this,(function(n){return[2,new Promise((function(n){var r,i,o=(r=e.adServerURL,(i=new URLSearchParams(r)).get("p")+i.get("cb"));e.isApp&&e),window.__EXCO.CDT_TAG_CB=window.__EXCO.CDT_TAG_CB||{},window.__EXCO.CDT_TAG_CB[o]=window.__EXCO.CDT_TAG_CB[o]||function(e){return n(e)},window.CEDATO_TAG=window.CEDATO_TAG||{players:[],version:"-NA-",init:,e.adServerURL=function(e,t){void 0===t&&(t={});try{return ee(e,t)}catch(n){return we.a.error("Failed to append additional params to url - ".concat(e),{error:n,params:t}),e}}(e.adServerURL,{pub:1}),e.adServerURL).catch(()}))]}))}))}function Es(e){return ys(this,void 0,void 0,(function(){var t,n;return gs(this,(function(r){switch(r.label){case 0:return[4,ds({get:nt,compress:mr.compressObj,decompress:mr.decompressObj,data:_s(e)})];case 1:return t=r.sent(),n=t?t):null,we.a.log("GPV service response",n),[2,n]}}))}))}ar ws=Ts=Is=Ss=n(56),Os=n(57);var Cs=function(e){return Ts(void 0,void 0,void 0,(function(){var t,n,r,i,o,a,s,c,u;return Is(this,(function(l){switch(l.label){case 0:return l.trys.push([0,7,,8]),Object(ct.c)(e.NgEvents),Object(we.b)(e),[4,Cr({network:null==e?void 0:e.networkId,gdpr:null==e?void 0:e.gdprConsentApplies,gdpr_consent:null==e?void 0:e.gdprConsentString})];case 1:return l.sent(),(t=e)).send(xr),[4,Promise.all([bs(e,t),Es(e)])];case 2:return n=l.sent(),r=n[0],i=n[1],ms.default.isEnabled(e,ms.PLUGINS.TABOOLA)?[4,ms.default.load(ms.PLUGINS.TABOOLA,{callbacks:e.callbacks})]:[3,5];case 3:return o=l.sent(),a=r,[4,o.apply(r.gpv)];case 4:a.gpv=l.sent(),l.label=5;case 5:return s=function(e,t,n,r){var i,o,a,s=e.adServerURL,c=e.overrides,u=t.gpv,l=Xa(t.params,!0));l.renderingContext=e.renderingContext||document,l.sessionConfig=n||l.sessionConfig,l.publisher=e.publisher,l.networkId=+(null===(i=e.publisher.seat)||void 0===i?void 0:i.id)||+e.networkId,l.userId=e.userId,l.pageLoadUid=e.pageLoadUid,l.country=e.country,l.browser=e.browser,l.os=e.os,l.rootDivElem=l),l.info=Os.getDeviceInfo(),l.isAmp=e.isAmp,l.src=s,l.autoplay=![Di.CLICK_TO_PLAY].includes(e.playbackMode),l.mainAutoplay="ads",l.hlsConfig=c.hlsConfig,l.allowSound="must"===c.allowSound,l.customParams=c.customParams,l.adViewabilityDelay=c.adViewabilityDelay,l.eventDispatcher=r,l.iiqPercentage=c.iiqPercentage,l.iiqEnabled=e.iiqEnabled,l.externalViewabilityFunction=c.viewability,l.sendRemoteLogs=e.sendRemoteLogs,l.adServerURL=s,!1===c.monetize&&(l.monetize=!1),l.gpvData=cs(l,u,e.supplyExtraParams),l.auctionEventSession=xn(10),l.prebidConfig=function(e,t){var n=Rn(e);return n.src="https://cdn.ex.co/prebid/production/release/1.7.0/latest/expb.js",n}(l),l.playbackMode=e.playbackMode||Di.AUTO_PLAY,l.isOutstream=e.isOutstream,l.plugins=e.plugins,l.callbacks=e.callbacks,(null===(o=e.skipButton)||void 0===o?void 0:o.enabled)&&(l.skipOffset=5);l.globalPricing=e.globalPricing,l.isApp=e.isApp,l.isApp&&(l.appParams=e.appParams,!l.domain&&(null===(a=l.appParams)||void 0===a?void 0:a.name)&&(l.domain="app://".concat(encodeURIComponent(l.appParams.name))));return l.gdprConsentApplies=e.gdprConsentApplies,l.gdprConsentString=e.gdprConsentString,l.resellersJSONDomain=e.publisher.resellersJSONDomain||e.resellersJSONDomain,Bn(l),l}(e,r,i,t),function(e,t,n){var r=this,i=new URL(e).search,o=setInterval((function(){return ys(r,void 0,void 0,(function(){var e;return gs(this,(function(r){switch(r.label){case 0:return t.closed?(clearInterval(o),[2,!1]):[4,rt("".concat(t.serverHost(),"/player/gpv").concat(i))];case 1:return e=r.sent(),ms.default.isEnabled(n,ms.PLUGINS.TABOOLA)?[4,ms.default.get(ms.PLUGINS.TABOOLA)]:[3,4];case 2:return[4,r.sent().apply(e)];case 3:e=r.sent(),r.label=4;case 4:return t.gpvData=e,t.gpvDataUpdated=!0,[2]}}))}))}),3e5)}(e.adServerURL,s,e),t,s),s.isIvt&&s),ke(s,null,e.contents),[4,Na(s,window.CEDATO_API,r.gpv)];case 6:return c=l.sent(),Ps(s),[2,ks(c)];case 7:return u=l.sent(),Se(null,"Player init error")(u),[3,8];case 8:return[2]}}))}))},ks=function(e){return new Promise(()};var Ps=var Ds,Rs=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Ls=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},xs=document.currentScript,Ns=null===(Ds=null==xs?void 0:xs.dataset)||void 0===Ds?void 0:Ds.id;window.__EXCO=window.__EXCO||{},Ns&&(window.__EXCO[Ns]=window.__EXCO[Ns]||{}),(window.__EXCO[Ns]||window.__EXCO).AP_INIT=,12:17:18:2:function(e,t,n){"use strict";var r,i;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),r||(r={})),i||(i={}))},27:36:function(e,t){
/**
 * @id5io/id5-api.js
 * @version v1.0.36
 * @link https://id5.io/
 * @license Apache-2.0
 */
![function(e,t,n){"use strict";t.c=function(e,t){var n=!0;return L(e,(),n},t.v=E,t.w=_,t.u=w,t.z=t.p=I,t.q=function(){return g},n.d(t,"a",(function(){return S})),t.j=C,t.o=k,t.t=P,t.k=D,t.r=function(e){return C(e,f)},t.s=function(e){return C(e,h)},t.l=function(e){return C(e,v)},t.m=t.n=R,t.i=function(e){return(e=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)"))?decodeURIComponent(e[2]):null},t.y=t.b=function(e,t,n){var r,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};try{var c=s.method||(n?"POST":"GET");document.createElement("a").href=e;var u,l="object"===o(t)&&null!==t?t:{success:error:;"function"==typeof t&&(l.success=t),(r=new window.XMLHttpRequest).onreadystatechange=function(){var e;r.readyState===x&&(200<=(e=r.status)&&e<300||304===e?l.success(r.responseText,r):l.error(r.statusText,r))},r.ontimeout=function(){w("ajax","xhr timeout after ",r.timeout,"ms")},"GET"===c&&n&&(i((u=function(e,t){var n=document.createElement("a");return t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e),t=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString,{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:t?n.search:function(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var n=t.split("=");t=(n=(t=2,function(e){if(Array.isArray(e))return e}(n=n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(n,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))[0],n=n[1];return/\[\]$/.test(t)?(e[t=t.replace("[]","")]=e[t]||[],e[t].push(n)):e[t]=n||"",e}),{}):{}}(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}(e,s)).search,n),e=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}(u)),r.open(c,e,!0),s.withCredentials&&(r.withCredentials=!0),L(s.customHeaders,(),s.preflight&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type",s.contentType||"text/plain"),"POST"===c&&n?r.send(n):r.send()}catch(e){w("ajax","xhr construction",e)}},t.f=t.d=t.h=function(e){var t=/[()-.:;=?_/]/g;return D(e.brands)&&(e.brands=j(e.brands,(function(e){return P(e.brand)&&e.brand.search(t)<0}))),D(e.fullVersionList)&&(e.fullVersionList=j(e.fullVersionList,()),e},t.g=t.x=t.e=function e(t,n){var r=U(t)&&U(n);if(!r)return t===n;var i=Object.keys(t);if(r=Object.keys(n),i.length!==r.length)return!1;for(var o=0,a=i;o<a.length;o++){var s=a[o];if(!e(t[s],n[s]))return!1}return!0};var r=n(6);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return unction d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){return e=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!==o(t=n.call(e,t||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===o(e)?e:String(e)}var f="Number",h="Object",v="Boolean",m=Object.prototype.toString,y="TRUE"===O("id5_debug").toUpperCase(),g="TRACE"===O("id5_debug").toUpperCase(),A=Boolean(window.console),b=!1;function E(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];T(console.info,e,"INFO",n)}function _(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];T(console.warn,e,"WARNING",n)}function w(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];T(console.error,e,"ERROR",n)}r S=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(i,r.b);var e,t,n=u(i);eturn e=i,(t=[{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];E.apply(void 0,[this._invocationId].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];E.apply(void 0,[this._invocationId].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_.apply(void 0,[this._invocationId].concat(t))}},{key:"error",value:])&&s(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),i}();function O(e){return null===(e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search))?"":decodeURIComponent(e[1].replace(/\+/g," "))}unction k(e){return C(e,"Function")}function P(e){return C(e,"String")} x=4;r U=,function(e,t){e.exports={STORAGE_CONFIG:{ID5:{name:"id5id",expiresDays:90},LAST:{name:"id5id_last",expiresDays:90},CONSENT_DATA:{name:"id5id_cached_consent_data",expiresDays:30},PD:{name:"id5id_cached_pd",expiresDays:30},SEGMENTS:{name:"id5id_cached_segments",expiresDays:30},PRIVACY:{name:"id5id_privacy",expiresDays:30},LIVE_INTENT:{name:"id5li",expiresDays:90}},LEGACY_COOKIE_NAMES:["id5.1st","id5id.1st"],PRIVACY:{JURISDICTIONS:{gdpr:!0,ccpa:!1,lgpd:!0,other:!1}},ID5_EIDS_SOURCE:"id5-sync.com",LIVE_INTENT_POLL_INTERVAL_MS:500}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=a(e);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(n=a(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}unction u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p}));var l=),d=new l,p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(t,l);var e=o(t);eturn u(t,[{key:"debug",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this._delegate).debug.apply(e,[this._prefix].concat(n))}},{key:"info",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this._delegate).info.apply(e,[this._prefix].concat(n))}},{key:"warn",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this._delegate).warn.apply(e,[this._prefix].concat(n))}},{key:"error",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this._delegate).error.apply(e,[this._prefix].concat(n))}}]),t}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return A}));var r=n(0),i=n(18),o=(t=n(1),n.n(t)),a=(n(5),["localStoragePurposeConsent","ccpaString"]);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}unction u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function d(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return e=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!==s(t=n.call(e,t||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===s(e)?e:String(e)}var h={tcfv1:{objName:"__cmpCall",objKeys:["command","parameter"],returnObjName:"__cmpReturn"},tcfv2:{objName:"__tcfapiCall",objKeys:["command","version"],returnObjName:"__tcfapiReturn"},uspv1:{objName:"__uspapiCall",objKeys:["command","version"],returnObjName:"__uspapiReturn"}},v=Object.freeze({NONE:"none",TCF_V1:"TCFv1",TCF_V2:"TCFv2",USP_V1:"USPv1",ID5_ALLOWED_VENDORS:"ID5"}),m=Object.freeze({FORCE_ALLOWED_BY_CONFIG:"force_allowed_by_config",ID5_CONSENT:"id5_consent",PROVISIONAL:"provisional",JURISDICTION:"jurisdiction",CONSENT_API:"consent_api"}),y=),g=function(){eturn d(e,[{key:"localStorageGrant",value:,{key:"isGranted",value:,{key:"hashCode",value:function(){this.localStoragePurposeConsent,this.ccpaString;var e=this,a);return Object(r.d)(JSON.stringify(e))}}]),e}(),A=function(){eturn d(e,[{key:"requestConsent",value:function(e,t,n,i){if(e)this.consentData=new g,Object(r.w)(this.invocationId,"cmpApi: ID5 is operating in forced consent mode and will not retrieve any consent signals from the CMP"),i(this.consentData);else if(this._consentRequested)i(this.consentData);else switch(this.consentData=new g,this._consentRequested=!0,t){case"static":this.parseStaticConsentData(n,i);break;case"iab":this.lookupIabConsent(i);break;default:Object(r.u)(this.invocationId,"cmpApi: Unknown consent API: ".concat(t)),this.resetConsentData(),i(this.consentData)}}},{key:"getOrCreateConsentData",value:,{key:"parseStaticConsentData",value:function(t,n){t=t||{};var i={};Object(r.s)(t.getConsentData)?i=e.parseTcfData(t,1):Object(r.s)(t.getTCData)?i=e.parseTcfData(t.getTCData,2):Object(r.k)(t.allowedVendors)?i={api:v.ID5_ALLOWED_VENDORS,allowedVendors:t.allowedVendors.map((function(e){return String(e)})),gdprApplies:!0}:Object(r.s)(t.getUSPData)?i=e.parseUspData(t.getUSPData):Object(r.w)(this.invocationId,"cmpApi: No static consent data detected! Using defaults."),c(this.consentData,i),Object(r.v)(this.invocationId,"cmpApi: Detected API '".concat(this.consentData.api,"' from static consent data"),t),n(this.consentData)}},{key:"lookupIabConsent",value:function(e){var t=this,n=[],r=(i=function(r){return n[r]=!1,function(i){n[r]||(n[r]=!0,i&&c(t.consentData,i),n.every((function(e){return e}))&&e(t.consentData))}})(0),i=i(1);this.lookupTcf(r),this.lookupUsp(i)}},{key:"lookupUsp",value:function(t){var n=this,i=(o=e.findUsp()).uspapiFrame,o=o.uspapiFunction;if(!i)return Object(r.w)(this.invocationId,"cmpApi: USP not found! Using defaults for CCPA."),void t();(Object(r.o)(o)?(Object(r.v)(this.invocationId,"cmpApi: Detected USP is directly accessible, calling it now."),o):(Object(r.v)(this.invocationId,"cmpApi: Detected USP is outside the current iframe. Using message passing."),e.buildCmpSurrogate("uspv1",i)))("getUSPData",1,(function(i,o){o?t(e.parseUspData(i)):(Object(r.u)(n.invocationId,"cmpApi: USP callback not succesful. Using defaults for CCPA."),t())}))}},{key:"lookupTcf",value:function(t){var n=(o=e.findTCF()).cmpVersion,i=o.cmpFrame,o=o.cmpFunction;if(!i)return Object(r.w)(this.invocationId,"cmpApi: TCF not found! Using defaults for GDPR."),void t();Object(r.o)(o)?this.lookupDirectTcf(n,o,t):(Object(r.v)(this.invocationId,"cmpApi: Detected TCF is outside the current iframe. Using message passing."),this.lookupMessageTcf(n,i,t))}},{key:"lookupMessageTcf",value:function(t,n,r){n=e.buildCmpSurrogate(1===t?"tcfv1":"tcfv2",n),this.lookupDirectTcf(t,n,r)}},{key:"lookupDirectTcf",value:function(t,n,i){function o(e,t,n){Object(r.v)(c.invocationId,"cmpApi: TCFv".concat(e," - Received a call back: ").concat(t),n)}function a(e,t){Object(r.u)(c.invocationId,"cmpApi: TCFv".concat(e," - Received insuccess: ").concat(t,". Please check your CMP setup. Using defaults for GDPR."))}var s,c=this,u={},l={},d=1===t?(s=d("getConsentData"),d=d("getVendorConsents"),n("getConsentData",null,s),n("getVendorConsents",null,d)):2===t&&n("addEventListener",t,()}},{key:"resetConsentData",value:,{key:"localStorageGrant",value:function(e,t){if(!0===e||!0===t)return Object(r.w)(this.invocationId,"cmpApi: Local storage access granted by configuration override, consent will not be checked"),new y(!0,m.FORCE_ALLOWED_BY_CONFIG,v.NONE);if(this.consentData&&this.consentData.api!==v.NONE)return this.consentData.localStorageGrant();if(Object(r.s)(this.storedPrivacyData)||(n=this.localStorage.getItemWithExpiration(this.storageConfig.PRIVACY),this.storedPrivacyData=n&&JSON.parse(n),Object(r.v)(this.invocationId,"cmpApi: Loaded stored privacy data from local storage",this.storedPrivacyData)),this.storedPrivacyData&&!0===this.storedPrivacyData.id5_consent)return new y(!0,m.ID5_CONSENT,v.NONE);if(!this.storedPrivacyData||!Object(r.m)(this.storedPrivacyData.jurisdiction))return new y(!0,m.PROVISIONAL,v.NONE);var n=(n=this.storedPrivacyData.jurisdiction)in o.a.PRIVACY.JURISDICTIONS&&o.a.PRIVACY.JURISDICTIONS[n];return new y(!1===n,m.JURISDICTION,v.NONE)}},{key:"setStoredPrivacy",value:function(e){try{Object(r.s)(e)?(this.storedPrivacyData=e,this.localStorage.setItemWithExpiration(this.storageConfig.PRIVACY,JSON.stringify(e))):Object(r.u)(this.invocationId,"cmpApi: Cannot store privacy data if it is not an object",e)}catch(e){Object(r.u)(this.invocationId,"cmpApi: Error while storing privacy data",e)}}}],[{key:"buildCmpSurrogate",value:function(e,t){return function(n,i,o){var a=Math.random()+"",s=h[e],c={},u={};u[s.objKeys[0]]=n,u[s.objKeys[1]]=i,u.callId=a,c[s.objName]=u,u=function e(t){(t=Object(r.g)(t,"data.".concat(s.returnObjName)))&&t.callId===a&&(window.removeEventListener("message",e),o(t.returnValue,t.success))},window.addEventListener("message",u,!1),t.postMessage(c,"*")}}},{key:"parseUspData",value:function(e){if(Object(r.s)(e)&&Object(r.t)(e.uspString))return{api:v.USP_V1,hasCcpaString:!0,ccpaString:e.uspString};Object(r.u)(this.invocationId,"cmpApi: No or malformed USP data. Using defaults for CCPA.")}},{key:"parseTcfData",value:function(t,n){var i,o;if(1===n)i=e.isValidV1ConsentObject,o=e.normalizeV1Data;else{if(2!==n)return void Object(r.u)(this.invocationId,"cmpApi: No or malformed CMP data. Using defaults for GDPR.");i=e.isValidV2ConsentObject,o=e.normalizeV2Data}if(i(t))return o(t);Object(r.u)(this.invocationId,"cmpApi: Invalid CMP data. Using defaults for GDPR.",t)}},{key:"isValidV1ConsentObject",value:function(e){var t=Object(r.g)(e,"getConsentData.gdprApplies");return!!Object(r.l)(t)&&(!1===t||Object(r.t)(e.getConsentData.consentData)&&Object(r.s)(e.getVendorConsents)&&1<Object.keys(e.getVendorConsents).length)}},{key:"isValidV2ConsentObject",value:function(e){var t=e&&e.gdprApplies;e=e&&e.tcString;return!1===t||Object(r.t)(e)}},{key:"normalizeV1Data",value:function(e){return{consentString:e.getConsentData.consentData,localStoragePurposeConsent:Object(r.g)(e,"getVendorConsents.purposeConsents.1"),gdprApplies:e.getConsentData.gdprApplies,api:v.TCF_V1}}},{key:"normalizeV2Data",value:function(e){var t=Object(r.g)(e,"purpose.consents.1");return Object(r.l)(t)||(t=Object(i.a)(e.tcString,1)),{consentString:e.tcString,localStoragePurposeConsent:t,gdprApplies:e.gdprApplies,api:v.TCF_V2}}},{key:"findTCF",value:function(){for(var e,t,n=0,r=window;!e;){try{if("function"==typeof r.__tcfapi||"function"==typeof r.__cmp){t="function"==typeof r.__tcfapi?(n=2,r.__tcfapi):(n=1,r.__cmp),e=r;break}}catch(e){}try{if(r.frames.__tcfapiLocator){n=2,e=r;break}}catch(e){}try{if(r.frames.__cmpLocator){n=1,e=r;break}}catch(e){}if(r===window.top)break;r=r.parent}return{cmpVersion:n,cmpFrame:e,cmpFunction:t}}},{key:"findUsp",value:]),e}()},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return e=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!==r(t=n.call(e,t||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===r(e)?e:String(e)}n.d(t,"a",(function(){return c}));var s="_exp",c=function(){function e(t){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"available",!1),o(this,"win",void 0),o(this,"writingEnabled",void 0),this.win=t,this.writingEnabled=n,n="__id5test";try{this.writingEnabled&&this.win.localStorage.setItem(n,n),this.win.localStorage.removeItem(n),this.available=!0}catch(t){}}var t,n;return t=e,(n=[{key:"isAvailable",value:function(){return this.available}},{key:"getItem",value:,{key:"setItem",value:,{key:"removeItem",value:,{key:"getItemWithExpiration",value:function(e){var t=e.name;return!(e=this.getItem(t+s))||new Date(e).getTime()-Date.now()<=0?(this.removeItemWithExpiration({name:t}),null):this.getItem(t)}},{key:"setItemWithExpiration",value:function(e,t){var n=e.name;e=e.expiresDays,e=Date.now()+864e5*e,e=new Date(e).toUTCString();this.setItem(n+s,e),this.setItem(n,t)}},{key:"removeItemWithExpiration",value:function(e){e=e.name,this.removeItem(e),this.removeItem(e+s)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";var r=n(12);n.d(t,"a",(function(){return r}));var i=n(3);n.d(t,"b",(function(){return i.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));t=n(1);var r=n.n(t),i=n(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function s(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return e=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!==o(t=n.call(e,t||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===o(e)?e:String(e)}n(5);var u=function(){function e(t,n,o,a,c){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"isEnabled",void 0),s(this,"invocationId",void 0),s(this,"localStorage",void 0),s(this,"storageConfig",void 0),s(this,"_windowObj",void 0),s(this,"_handler",void 0),s(this,"_hasLiveIntentId",!1),s(this,"_liveIntentId",void 0),s(this,"_liveIntentIdTimestamp",void 0);var l=this;this._windowObj=t,this.isEnabled=n,this.invocationId=o,this.localStorage=a,this.storageConfig=c,n&&(this._checkLocalStorage(),Object(i.v)(this.invocationId,"Starting polling detection of LiveIntent API"),this._handler=setInterval((function(){Object(i.g)(u._windowObj,"liQ.ready")&&(Object(i.v)(u.invocationId,"Stopping polling detection of LiveIntent API: found"),clearInterval(l._handler),l._onDetected())}),r.a.LIVE_INTENT_POLL_INTERVAL_MS))}var t,n;return t=e,(n=[{key:"_checkLocalStorage",value:function(){var e;this.localStorage.isAvailable()&&(e=this.localStorage.getItemWithExpiration(this.storageConfig.LIVE_INTENT),e=Object(i.t)(e)?JSON.parse(e):void 0,Object(i.s)(e)&&(Object(i.v)(this.invocationId,"Retrieved LiveIntent ID from local storage"),this._setLiveIntentId(e)))}},{key:"_onDetected",value:function(){var e=this;Object(i.v)(this.invocationId,"Detected LiveIntent API on the page! Requesting their ID.");var t=Object(i.g)(this._windowObj,"liQ.resolve");if(Object(i.o)(t))try{t((function(t){Object(i.v)(e.invocationId,"Received LiveIntent API `resolve` lookup response",t),t.unifiedId&&e._setLiveIntentIdFromResponse(t.unifiedId,Date.now())}))}catch(t){Object(i.u)("Error caught while calling resolve() on LiveIntent API",t)}}},{key:"_setLiveIntentIdFromResponse",value:function(e,t){t={liveIntentId:e,timestamp:t},this.localStorage.setItemWithExpiration(this.storageConfig.LIVE_INTENT,JSON.stringify(t)),this._setLiveIntentId(t)}},{key:"_setLiveIntentId",value:function(e){Object(i.v)(self.invocationId,"Received LiveIntent ID",e),this._liveIntentId=e.liveIntentId,this._liveIntentIdTimestamp=e.timestamp,this._hasLiveIntentId=!0}},{key:"getLiveIntentId",value:,{key:"hasLiveIntentId",value:])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return g}));var r=n(9);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}unction a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(n=s(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}unction c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return e=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!==i(t=n.call(e,t||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===i(e)?e:String(e)}var f=Object.freeze({TIMER:"TIMER",SUMMARY:"SUMMARY",COUNTER:"COUNTER"}),h=function(){function e(t,n,i){c(this,e),d(this,"name",void 0),d(this,"tags",void 0),d(this,"values",void 0),this.name=t,this.tags=r.a.from(n),this.type=i,this.values=[]}return l(e,[{key:"reset",value:function(){this.values=[]}}]),e}(),v=function(){o(t,h);var e=a(t);function t(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;return c(this,t),e.call(this,n,r,f.TIMER)}return l(t,[{key:"startMeasurement",value:,{key:"record",value:function(e){try{this.values.push({value:e,timestamp:Date.now()})}catch(e){}}},{key:"recordNow",value:]),t}(),m=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;c(this,e),this.timer=t,this.startTime=performance.now()}return l(e,[{key:"record",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;try{var t=performance.now()-this.startTime|0,n=e||this.timer;return n&&n.record(t),t}catch(e){return}}}]),e}(),y=function(){o(t,h);var e=a(t);function t(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;return c(this,t),e.call(this,n,r,f.COUNTER)}return l(t,[{key:"inc",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;try{0===this.values.length?this.values.push({value:e,timestamp:Date.now()}):(this.values[0].value+=e,this.values[0].timestamp=Date.now())}catch(e){}}}]),t}(),g=function(){o(t,h);var e=a(t);function t(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;return c(this,t),e.call(this,n,r,f.SUMMARY)}return l(t,[{key:"record",value:]),t}()},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=Object.freeze({});t.a={EMPTY:i,from:toString:function(e){return Array.from(Object.entries(e),(function(e){e=(t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2))[0];var t=t[1];return"".concat(e,"=").concat(t)})).sort().toString()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=n(11),window.ID5||(window.ID5=n.a)},function(e,t,n){"use strict";var r=n(0),i=n(16),o=n(17),a=n(4),s=n(19),c=n(20),u=n(5),l=n(21),d=n(7),p=n(22),f=n(30),h=n(6);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function b(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return e=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!==v(t=n.call(e,t||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===v(e)?e:String(e)}var _="https://id5-sync.com";n=new(function(){function e(){!this,e),b(this,"loaded",!1),b(this,"_isUsingCdn",!1),b(this,"_referer",!1),b(this,"_version",c.a),b(this,"versions",{}),b(this,"invocationId",0),this.loaded=!0,this._isUsingCdn=!!(document&&document.currentScript&&document.currentScript.src&&0===document.currentScript.src.indexOf("https://cdn.id5-sync.com")),this._referer=Object(i.a)(),this.versions[c.a]=!0}var t,n;return t=e,(n=[{key:"debug",get:set:,{key:"init",value:function(e){var t=this.invocationId;this.invocationId+=1;try{Object(r.v)(t,"ID5 API version ".concat(this._version,". Invoking init()"),e);var n=new l.a(t,e),i=n.getOptions(),c=this._configureDiagnostics(i);c&&(c.loadDelayTimer().recordNow(),c.invocationCountSummary().record(this.invocationId));var p=new r.a(this.invocationId),f=this._registerIntegration(n,c,p),h=new u.a(window.top,!i.applyCreativeRestrictions),v=new d.a(window,!i.disableLiveIntentIntegration,t,h,n.storageConfig),m=new a.b(t,h,n.storageConfig),y=new o.a(t,(,h,n.storageConfig),g=new s.a(t,n,y,m,v,c);return this.getId(g,!1),Object(r.v)(t,"ID5 initialized for partner ".concat(i.partnerId," with referer ").concat(this._referer.referer," and options"),e),g._integrationInstance=f,g}catch(e){Object(r.u)(t,"Exception caught during init()",e)}}},{key:"refreshId",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!Object(r.l)(t))throw new Error("Invalid signature for refreshId(): second parameter must be a boolean");try{Object(r.v)(e.invocationId,"Invoking refreshId()",arguments),e.startRefresh(t),e.updateOptions(n),e.consentManagement.resetConsentData(),this.getId(e,t)}catch(t){Object(r.u)(e.invocationId,"Exception caught from refreshId()",t)}return e}},{key:"getId",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];Object(r.m)(window.navigator.userAgentData)&&!e.getOptions().disableUaHints?this.gatherUaHints().then((function(i){return t.getIdWithUaHints(e,Object(r.h)(i),n)})).catch((function(i){Object(r.u)("Error while calling navigator.userAgentData.getHighEntropyValues()",i),t.getIdWithUaHints(e,void 0,n)})):this.getIdWithUaHints(e,void 0,n)}},{key:"getIdWithUaHints",value:function(e,t,n){var i,o,a,s=this,c=e.getOptions(),u=0,l=!1,d=!1,f=!1,h=!1,v=c.refreshInSeconds,m=e.localStorageGrant();m.isDefinitivelyAllowed()&&(Object(r.v)(e.invocationId,"Using local storage for cached ID",m),i=e.clientStore.getResponse(),o=e.clientStore.getDateTime(),Object(r.r)(null==i||null===(a=i.cache_control)||void 0===a?void 0:a.max_age_sec)&&(v=i.cache_control.max_age_sec),l=o<=0||Date.now()-o>1e3*v,u=e.clientStore.getNb(c.partnerId),d=!e.clientStore.isStoredPdUpToDate(c.partnerId,c.pd),f=!e.clientStore.storedSegmentsMatchesSegments(c.partnerId,c.segments)),i||(Object(r.v)(e.invocationId,"No cached ID found"),i=e.clientStore.getResponseFromLegacyCookie(),l=!0),i&&i.universal_uid&&!d&&!f?(Object(r.v)(e.invocationId,"ID5 User ID available from cache:",{storedResponse:i,storedDateTime:o,refreshNeeded:l}),o<=0||12096e5<Date.now()-o||(e.setUserId(i,!0),u=e.clientStore.incNb(c.partnerId,u),h=!0)):i&&i.universal_uid&&d?Object(r.v)(e.invocationId,"PD value has changed, so ignoring User ID from cache"):i&&i.universal_uid&&f?Object(r.v)(e.invocationId,"Segments have changed, so ignoring User ID from cache"):i&&!i.universal_uid?Object(r.u)(e.invocationId,"Invalid stored response: ",i):Object(r.v)(e.invocationId,"No ID5 User ID available from cache");var y=null===(o=e._metrics)||void 0===o?void 0:o.consentRequestTimer(c.debugBypassConsent?"bypass":c.cmpApi).startMeasurement();e.consentManagement.requestConsent(c.debugBypassConsent,c.cmpApi,c.consentData,(function(o){y&&y.record();var a,m,g,A=e.localStorageGrant();Object(r.v)(e.invocationId,"Local storage grant",A),A.allowed?(i=e.clientStore.getResponse()||e.clientStore.getResponseFromLegacyCookie(),a=!e.clientStore.storedConsentDataMatchesConsentData(o),e.clientStore.putHashedConsentData(o),e.clientStore.isStoredPdUpToDate(c.partnerId,c.pd)||e.clientStore.putHashedPd(c.partnerId,c.pd),e.clientStore.putHashedSegments(c.partnerId,c.segments),((A=!i||!i.universal_uid||!i.signature)||l||a||d||f||n)&&(Object(r.v)(e.invocationId,"Decided to fetch a fresh ID5 ID",{missingStoredData:A,refreshInSecondsHasElapsed:l,consentHasChanged:a,pdHasChanged:d,segmentsHaveChanged:f,forceFetch:n}),m=null===(a=e._metrics)||void 0===a?void 0:a.extensionsCallTimer().startMeasurement(),g=s.gatherData(c,e,u,o,i,t,v,e.getProvidedOptions()),p.a.gather(e.invocationId).then(())):Object(r.v)(e.invocationId,"No legal basis to use ID5",o)}))}},{key:"gatherData",value:function(e,t,n,i,o,a,s,c){var u={partner:e.partnerId,v:this._version,o:"api",tml:this._referer.topmostLocation,ref:this._referer.ref,cu:this._referer.canonicalUrl,u:this._referer.stack[0]||window.location.href,top:this._referer.reachedTop?1:0,localStorage:t.clientStore.isLocalStorageAvailable()?1:0,nbPage:n,id5cdn:this._isUsingCdn,ua:window.navigator.userAgent,att:e.att};n=i.gdprApplies;return Object(r.m)(n)&&(u.gdpr=n?1:0),n=i.consentString,Object(r.m)(n)&&(u.gdpr_consent=n),Object(r.m)(i.allowedVendors)&&(u.allowed_vendors=i.allowedVendors),o=o&&o.signature?o.signature:void 0,Object(r.m)(o)&&(u.s=o),Object(r.m)(a)&&(u.ua_hints=a),i.hasCcpaString&&(u.us_privacy=i.ccpaString),t.liveIntentApi.hasLiveIntentId()&&(u.li=t.liveIntentApi.getLiveIntentId()),Object(r.x)({pd:"pd",partnerUserId:"puid",provider:"provider",segments:"segments"}).forEach((function(t){t=(n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2))[0];var n=n[1];Object(r.m)(e[t])&&(u[n]=e[t])})),!0===e.abTesting.enabled&&(u.ab_testing={enabled:!0,control_group_pct:t.getOptions().abTesting.controlGroupPct}),0<t.getInvalidSegments()&&(u._invalid_segments=t.getInvalidSegments()),Object(r.q)()&&(u._trace=!0),u.provided_options={refresh_in_seconds:c.refreshInSeconds},u.used_refresh_in_seconds=s,u}},{key:"fetchFreshID5ID",value:function(e,t,n,i,o,a){var s="".concat(_,"/g/v2/").concat(t.partnerId,".json"),c=Object(f.d)();Object(r.v)(i.invocationId,"Fetching ID5 ID (forceFetch:".concat(o,") from:"),s,e),Object(r.b)(s,{success:this.handleSuccessfulFetchResponse(i,t,a,n,c),error:function(e){Object(r.u)(i.invocationId,"Error during AJAX request to ID5 server",e),c&&c.record(null===(e=i._metrics)||void 0===e?void 0:e.fetchFailureCallTimer())}},JSON.stringify(e),{method:"POST",withCredentials:!0})}},{key:"handleSuccessfulFetchResponse",value:function(e,t,n,i,o){var a=this;return function(s){o&&o.record(null===(c=e._metrics)||void 0===c?void 0:c.fetchSuccessfulCallTimer());var c=a.validateResponseIsCorrectJson(s,e,"fetch");if(c)if(Object(r.t)(c.universal_uid)){Object(r.v)(e.invocationId,"Valid json response from ID5 received",c);try{e.setUserId(c,!1),e.consentManagement.setStoredPrivacy(c.privacy);var u,l,d=e.localStorageGrant();d.isDefinitivelyAllowed()?(Object(r.v)(e.invocationId,"Storing ID in cache"),e.clientStore.putResponse(s),e.clientStore.setDateTime((new Date).toUTCString()),e.clientStore.setNb(t.partnerId,n?0:1)):(Object(r.v)(e.invocationId,"Cannot use local storage to cache ID",d),e.clientStore.clearAll(t.partnerId)),e.clientStore.removeLegacyCookies(t.partnerId),!0===c.cascade_needed&&d.isDefinitivelyAllowed()&&0<=t.maxCascades&&!t.applyCreativeRestrictions&&(u=t.partnerUserId&&0<t.partnerUserId.length,l="".concat(_,"/").concat(u?"s":"i","/").concat(t.partnerId,"/").concat(t.maxCascades,".gif?id5id=").concat(e._userId,"&o=api&").concat(u?"puid="+t.partnerUserId+"&":"","gdpr_consent=").concat(i.consentString,"&gdpr=").concat(i.gdprApplies),Object(r.v)(e.invocationId,"Opportunities to cascade available",l),Object(r.f)(l))}catch(s){Object(r.u)(e.invocationId,"Error during processing of valid ID5 server response",c,s)}}else Object(r.u)(e.invocationId,"Server response failed to validate",c)}}},{key:"validateResponseIsCorrectJson",value:function(e,t,n){if(!e||!Object(r.t)(e)||e.length<1)Object(r.u)(t.invocationId,"Empty ".concat(n,' response from ID5 servers: "').concat(e,'"'));else try{return JSON.parse(e)}catch(i){Object(r.u)(t.invocationId,"Cannot parse the JSON server ".concat(n," response"),e)}return null}},{key:"gatherUaHints",value:,{key:"_configureDiagnostics",value:function(e){try{var t,n,i,o,a=new f.a("api",c.a);return a.addCommonTags(y(y({},Object(f.c)(e.partnerId)),{},{tml:this._referer.topmostLocation})),null!==(t=e.diagnostics)&&void 0!==t&&t.publishingDisabled||(o=Object(f.b)(e.diagnostics.publishingSampleRatio),null!==(n=e.diagnostics)&&void 0!==n&&n.publishAfterLoadInMsec&&0<e.diagnostics.publishAfterLoadInMsec&&a.schedulePublishAfterMsec(e.diagnostics.publishAfterLoadInMsec,o),null!==(i=e.diagnostics)&&void 0!==i&&i.publishBeforeWindowUnload&&a.schedulePublishBeforeUnload(o)),a}catch(e){return void Object(r.u)(this.invocationId,"Failed to configure diagnostics",e)}}},{key:"_registerIntegration",value:function(e,t,n){try{var i=new h.a.Instance(window,"api",c.a,e,t,n);return i.register(),i}catch(e){Object(r.u)("Failed to register integration instance",e)}}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());t.a=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Role",(function(){return f})),n.d(t,"Event",(function(){return h})),n.d(t,"Properties",(function(){return m})),n.d(t,"Instance",(function(){return A})),t.electLeader=b;var r=n(13),i=n(14),o=n(15),a=n(3);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}unction u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}unction p(e){return e=e,"string"),"symbol"===s(e)?e:String(e)}var f=Object.freeze({UNKNOWN:"unknown",LEADER:"leader",FOLLOWER:"follower"}),h=Object.freeze({ID5_MESSAGE_RECEIVED:"message",ID5_INSTANCE_JOINED:"instance-joined",ID5_LEADER_ELECTED:"leader-elected"}),v=Object.freeze(Object.values(h)),m=y=),g=function(){eturn u(e,[{key:"addInstance",value:function(e){var t,n;this._instancesCounter.inc(),this._partnersCounter.add(null==e||null===(t=e.sourceConfiguration)||void 0===t||null===(n=t.options)||void 0===n?void 0:n.partnerId),this._domainsCounter.add(null==e?void 0:e.domain),this._windowsCounter.add(null==e?void 0:e.href)}}]),e}(),A=function(){function e(t,n,r,s,c){var u=5<arguments.length&&void 0!==arguments[5]?arguments[5]:a.c;l(this,e),d(this,"properties",void 0),d(this,"_messenger",void 0),d(this,"_knownInstances",new Map),d(this,"role",void 0),d(this,"_leader",void 0),d(this,"_metrics",void 0),d(this,"_logger",void 0),d(this,"_callbacks",new Map),d(this,"_instanceCounters",void 0);var p=i.a();this.properties=new m(p,o.a,n,r,s,t.location),this.role=f.UNKNOWN,this._metrics=c,this._instanceCounters=new g(c,this.properties),this._loadTime=performance.now(),this._logger=void 0!==u?new a.b("Instance(id=".concat(p,")"),u):a.c,this._logger.debug("Instance created"),this._window=t}return u(e,[{key:"register",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3e3,t=this,n=t._window;this._messenger=new r.a(t.properties.id,n,t._logger),this._messenger.onMessageReceived((function(e){var n=performance.now()-e.timestamp|0;t._metrics.instanceMsgDeliveryTimer().record(n),t._logger.debug("Message received",e),e.type===E.TYPE&&(n=e.payload,t._addInstance(n.instance),e.dst===r.b&&t._messenger.sendResponseMessage(e,new E(t.properties),E.TYPE)),t._doFireEvent(h.ID5_MESSAGE_RECEIVED,e)})),setTimeout((function(){var e=Array.from(t._knownInstances.values());e.push(t.properties),e=b(e),t._leader=e,t.role=e.id===t.properties.id?f.LEADER:f.FOLLOWER,t._doFireEvent(h.ID5_LEADER_ELECTED,t.role,t._leader),t._logger.debug("Leader elected",e.id,"my role",t.role)}),e),t._messenger.broadcastMessage(new E(t.properties),E.TYPE),void 0===n.__id5_instances&&(n.__id5_instances=[]),n.__id5_instances.push(this)}},{key:"deregister",value:,{key:"getRole",value:function(){return this.role}},{key:"on",value:function(e,t){var n;return void 0!==e&&v.includes(e)&&((n=this._callbacks.get(e))?n.push(t):this._callbacks.set(e,[t])),this}},{key:"_addInstance",value:,{key:"_doFireEvent",value:function(e){for(var t=this,n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=this._callbacks.get(e);o&&o.forEach(()}}]),e}();function b(e){if(e&&0!==e.length)return e.sort((function(e,t){var n=-i.b(e.version,t.version);return 0===n&&0===(n=0===(n=e.source.localeCompare(t.source))?-i.b(e.sourceVersion,t.sourceVersion):n)?e.id.localeCompare(t.id):n}))[0]}var E=d(E,"TYPE","HelloMessage")},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f}));var r=n(3);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return e=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!==i(t=n.call(e,t||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===i(e)?e:String(e)}function l(e,t,n,r,i,o){var a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:void 0;s(this,l),c(this,"_isId5Message",!0),c(this,"id",void 0),c(this,"timestamp",void 0),c(this,"type",void 0),c(this,"src",void 0),c(this,"dst",void 0),c(this,"request",void 0),c(this,"payload",void 0),this.id=r,this.timestamp=e,this.src=t,this.dst=n,this.type=o,this.request=a,this.payload=i}var d=void 0,p=function(){eturn a(e,[{key:"createBroadcastMessage",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e.constructor.name;return new l(performance.now(),this._senderId,d,++this._messageSeqNb,e,t||e.constructor.name)}},{key:"createResponse",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t.constructor.name;return new l(performance.now(),this._senderId,e.src,++this._messageSeqNb,t,n||t.constructor.name,e)}},{key:"createUnicastMessage",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t.constructor.name;return new l(performance.now(),this._senderId,e,++this._messageSeqNb,t,n||t.constructor.name)}}]),e}(),f=function(){function e(t,n){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:r.c;s(this,e),c(this,"_id",void 0),c(this,"_messageFactory",void 0),c(this,"_log",void 0),c(this,"_onMessageCallBackFunction",void 0),this._id=t,this._messageFactory=new p(this._id),this._log=i,this._window=n,this._register()}return a(e,[{key:"_register",value:function(){var e=this;e._abortController="undefined"!=typeof AbortController?new AbortController:void 0;var t=null===(t=e._abortController)||void 0===t?void 0:t.signal;e._window.addEventListener("message",(function(t){var n=t.data;void 0!==n&&n._isId5Message&&(t.data.src!==e._id?void 0===t.data.dst||t.data.dst===e._id?e._onMessageCallBackFunction&&"function"==typeof e._onMessageCallBackFunction&&e._onMessageCallBackFunction(n):e._log.debug("Ignore msg not to me"):e._log.debug("Ignore loopback msg"))}),{capture:!1,signal:t})}},{key:"deregister",value:function(){this._abortController&&this._abortController.abort()}},{key:"onMessageReceived",value:function(e){this._onMessageCallBackFunction=e}},{key:"broadcastMessage",value:,{key:"sendResponseMessage",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t.constructor.name;this._log.debug("Sending response message",e,n,t),this._postMessage(this._messageFactory.createResponse(e,t,n))}},{key:"unicastMessage",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t.constructor.name;this._log.debug("Sending response to",e,n,t),this._postMessage(this._messageFactory.createUnicastMessage(e,t,n))}},{key:"_postMessage",value:]),e}()},function(e,t,n){"use strict";(function(e){t.a=function(){return void 0!==e&&void 0!==e.crypto&&void 0!==e.crypto.randomUUID?e.crypto.randomUUID():"".concat(1e6*Math.random()|0)},t.b=function(e,t){var n="^\\d+(\\.\\d+(\\.\\d+){0,1}){0,1}$";if(e.match(n)&&t.match(n)){var r=e.split("."),i=t.split(".");n=e=function(e,t){return 0==(t=e-t)?0:t<0?-1:1};return 0!==(t=e(n(r[0]),n(i[0])))||0!==(t=e(n(r[1]),n(i[1])))?t:e(n(r[2]),n(i[2]))}}}).call(t,n(2))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="1.0.1"},function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return o}));var i,o=(i=window,function(){try{var e,t,n=a(),r=n.length-1,o=null!==n[r].location||0<r&&null!==n[r-1].referrer,s=n);n[n.length-1].canonicalUrl&&(e=n[n.length-1].canonicalUrl);try{t=i.top.document.referrer}catch(e){}return{topmostLocation:s.detectedRefererUrl,ref:t||null,reachedTop:o,numIframes:r,stack:s.stack,canonicalUrl:e}}catch(e){}});function a(){var e=function(){var e,t=[];do{try{e=e?e.parent:i;try{var n=e===i.top,o={referrer:e.document.referrer||null,location:e.location.href||null,isTop:n};n&&(o=r(o,{canonicalUrl:function(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}(e.document)})),t.push(o)}catch(n){t.push({referrer:null,location:null,isTop:e===i.top})}}catch(n){return t.push({referrer:null,location:null,isTop:!1}),t}}while(e!==i.top);return t}(),t=);if(t)for(var n=0,o=t.length;n<o;n++)e[n].ancestor=t[n];return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),i=(t=n(1),n.n(t)),o=n(4);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function c(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return e=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!==a(t=n.call(e,t||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===a(e)?e:String(e)}var l=function(){ar t,n,a;return t=e,a=[{key:"makeStoredHash",value:function(e){return Object(r.d)("string"==typeof e?e:"")}},{key:"storedDataMatchesCurrentData",value:],(n=[{key:"get",value:function(e){try{var t=this.localStorageGrant();if(t.isDefinitivelyAllowed()){var n=this.localStorage.getItemWithExpiration(e);return Object(r.v)(this.invocationId,"Local storage get key=".concat(e.name," value=").concat(n)),n}Object(r.w)(this.invocationId,"clientStore.get() has been called without definitive grant",t)}catch(e){Object(r.u)(this.invocationId,e)}}},{key:"clear",value:function(e){try{this.localStorage.removeItemWithExpiration(e)}catch(e){Object(r.u)(this.invocationId,e)}}},{key:"put",value:function(e,t){try{var n=this.localStorageGrant();n.isDefinitivelyAllowed()?(Object(r.v)(this.invocationId,"Local storage put key=".concat(e.name," value=").concat(t)),this.localStorage.setItemWithExpiration(e,t)):Object(r.w)(this.invocationId,"clientStore.put() has been called without definitive grant",n)}catch(e){Object(r.u)(this.invocationId,e)}}},{key:"localStorageGrant",value:,{key:"isLocalStorageAvailable",value:function(){return this.localStorage.isAvailable()}},{key:"getResponseFromLegacyCookie",value:function(){var e;return i.a.LEGACY_COOKIE_NAMES.forEach((function(t){Object(r.i)(t)&&(e=Object(r.i)(t))})),e?JSON.parse(e):null}},{key:"getResponse",value:function(){var e=this.get(this.storageConfig.ID5);return e&&JSON.parse(decodeURIComponent(e))}},{key:"clearResponse",value:function(){this.clear(this.storageConfig.ID5)}},{key:"putResponse",value:,{key:"getHashedConsentData",value:,{key:"clearHashedConsentData",value:function(){this.clear(this.storageConfig.CONSENT_DATA)}},{key:"putHashedConsentData",value:function(e){e!==new o.a&&this.put(this.storageConfig.CONSENT_DATA,e.hashCode())}},{key:"getHashedPd",value:function(e){return this.get(this.pdCacheConfig(e))}},{key:"isStoredPdUpToDate",value:function(t,n){var i=this.getHashedPd(t),o=Object(r.n)(n)&&!Object(r.n)(i);t=Object(r.n)(i)&&Object(r.n)(n);return o||t||i===e.makeStoredHash(n)}},{key:"clearHashedPd",value:function(e){this.clear(this.pdCacheConfig(e))}},{key:"putHashedPd",value:,{key:"getHashedSegments",value:,{key:"putHashedSegments",value:,{key:"storedSegmentsMatchesSegments",value:,{key:"clearHashedSegments",value:function(e){this.clear(this.segmentsCacheConfig(e))}},{key:"getDateTime",value:,{key:"clearDateTime",value:,{key:"setDateTime",value:,{key:"getNb",value:function(e){return(e=this.get(this.nbCacheConfig(e)))?parseInt(e):0}},{key:"clearNb",value:,{key:"setNb",value:,{key:"incNb",value:,{key:"pdCacheConfig",value:function(e){return this.storageConfig.PD.withNameSuffixed(e)}},{key:"nbCacheConfig",value:,{key:"segmentsCacheConfig",value:,{key:"clearAll",value:,{key:"removeLegacyCookies",value:function(e){var t=new Date(Date.now()-1e3).toUTCString();i.a.LEGACY_COOKIE_NAMES.forEach((function(n){Object(r.y)("".concat(n),"",t),Object(r.y)("".concat(n,"_nb"),"",t),Object(r.y)("".concat(n,"_").concat(e,"_nb"),"",t),Object(r.y)("".concat(n,"_last"),"",t),Object(r.y)("".concat(n,".cached_pd"),"",t),Object(r.y)("".concat(n,".cached_consent_data"),"",t)}))}},{key:"storedConsentDataMatchesConsentData",value:])&&s(t.prototype,n),a&&s(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";t.a=function(e,t){var n=152+t-1;t=~~(n/i);if(e&&"C"===e.charAt(0)&&!(e.length<=t))return t=e.charAt(t),void 0!==(t=r[t])?0!=(t&1<<i-n%i-1):void 0};var r={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"-":62,_:63,"+":62,"/":63},i=6},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));t=n(1);var r=n.n(t),i=n(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function c(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return e=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!==o(t=n.call(e,t||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===o(e)?e:String(e)}n(4),n(7);var l=function(){ar t,n,o;return t=e,o=[{key:"doFireOnAvailableCallBack",value:function(e){Object(i.v)(e.invocationId,"Id5Status.doFireOnAvailableCallBack"),e._availableCallbackFired=!0,e._availableCallbackTimerId=void 0,e._availableCallback(e)}},{key:"doFireOnUpdateCallBack",value:function(e){Object(i.v)(e.invocationId,"Id5Status.doFireOnUpdateCallBack"),e._updateCallback(e)}},{key:"doFireOnRefreshCallBack",value:function(e){Object(i.v)(e.invocationId,"Id5Status.doFireOnRefreshCallBack"),e._refreshCallbackFired=!0,e._refreshCallbackTimerId=void 0,e._isRefreshing=!1,e._isRefreshingWithFetch=!1,e._refreshCallback(e)}}],(n=[{key:"getOptions",value:function(){return this.config.getOptions()}},{key:"getProvidedOptions",value:function(){return this.config.getProvidedOptions()}},{key:"getInvalidSegments",value:function(){return this.config.getInvalidSegments()}},{key:"updateOptions",value:function(e){return this.config.updOptions(e)}},{key:"startRefresh",value:,{key:"setUserId",value:function(t,n){var r=this,o=t.universal_uid;if(this._isExposed=!0,Object(i.s)(t.ab_testing))switch(t.ab_testing.result){case"normal":break;default:case"error":Object(i.u)(this.invocationId,"Id5Status: There was an error with A/B Testing. Make sure controlGroupRatio is a number >= 0 and <= 1");break;case"control":this._isExposed=!1,this.info("User is in control group!")}var a=this._userId!==o||!1===Object(i.e)(this._ext,t.ext);this._userIdAvailable=!0,this._userId=o,this._ext=t.ext,this._fromCache=n,this.info("User id updated, hasChanged: ".concat(a,", fromCache: ").concat(n)),Object(i.o)(this._availableCallback)&&!1===this._availableCallbackFired&&(this._availableCallbackTimerId&&(this.info("Cancelling pending onAvailableCallback watchdog"),clearTimeout(this._availableCallbackTimerId),this._availableCallbackTimerId=void 0),this._availableCallbackTimerId=setTimeout((function(){return e.doFireOnAvailableCallBack(r)}),0)),this._isRefreshing&&Object(i.o)(this._refreshCallback)&&!1===this._refreshCallbackFired&&(!1!==n&&!1!==this._isRefreshingWithFetch||(this._refreshCallbackTimerId&&(this.info("Cancelling pending onRefreshCallback watchdog"),clearTimeout(this._refreshCallbackTimerId),this._refreshCallbackTimerId=void 0),this._refreshCallbackTimerId=setTimeout((function(){return e.doFireOnRefreshCallBack(r)}),0))),a&&Object(i.o)(this._updateCallback)&&setTimeout((function(){return e.doFireOnUpdateCallBack(r)}),0)}},{key:"getUserId",value:,{key:"getLinkType",value:,{key:"getExt",value:function(){var e=!1===this._isExposed?{}:this._ext;return a({abTestingControlGroup:!this.exposeUserId()},e)}},{key:"isFromCache",value:function(){return this._fromCache}},{key:"exposeUserId",value:function(){return this._isExposed}},{key:"getUserIdAsEid",value:function(){return{source:r.a.ID5_EIDS_SOURCE,uids:[{atype:1,id:this.getUserId(),ext:this.getExt()}]}}},{key:"onAvailable",value:function(t,n){if(!Object(i.o)(t))throw new Error("onAvailable expect a function");var r;return Object(i.o)(this._availableCallback)?this.info("onAvailable was already called, ignoring"):(this._availableCallback=t,(r=this)._userIdAvailable?(this.info("User id already available firing callback immediately"),this._availableCallbackTimerId=setTimeout((function(){return e.doFireOnAvailableCallBack(r)}),0)):0<n&&(this._availableCallbackTimerId=setTimeout((function(){return e.doFireOnAvailableCallBack(r)}),n))),this}},{key:"onUpdate",value:function(t){if(!Object(i.o)(t))throw new Error("onUpdate expect a function");this._updateCallback=t;var n=this;return this._userIdAvailable&&setTimeout((function(){return e.doFireOnUpdateCallBack(n)}),0),this}},{key:"onRefresh",value:function(t,n){if(!Object(i.o)(t))throw new Error("onRefresh expect a function");this._refreshCallbackTimerId&&(clearTimeout(this._refreshCallbackTimerId),this._refreshCallbackTimerId=void 0),this._refreshCallback=t;var r=this;return!0===this._isRefreshing&&!1===this._isRefreshingWithFetch&&this._userIdAvailable?this._refreshCallbackTimerId=setTimeout((function(){return e.doFireOnRefreshCallBack(r)}),0):0<n&&(this._refreshCallbackTimerId=setTimeout((function(){return e.doFireOnRefreshCallBack(r)}),n)),this}},{key:"localStorageGrant",value:function(){return this.clientStore.localStorageGrant()}},{key:"info",value:function(e){Object(i.v)(this.invocationId,"Id5Status: "+e)}}])&&s(t.prototype,n),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),i=(t=n(1),n.n(t));function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function s(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){return e=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!==o(t=n.call(e,t||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===o(e)?e:String(e)}var p=),f=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;function n(e){var n=void 0!==t?Math.max(1,t):e.expiresDays;return new p(e.name,n)}c(this,e);var r=i.a.STORAGE_CONFIG;this.ID5=n(r.ID5),this.LAST=n(r.LAST),this.CONSENT_DATA=n(r.CONSENT_DATA),this.PD=n(r.PD),this.PRIVACY=n(r.PRIVACY),this.SEGMENTS=n(r.SEGMENTS),this.LIVE_INTENT=n(r.LIVE_INTENT)},h=function(){function e(t,n){if(c(this,e),s(this,"invocationId",void 0),s(this,"options",void 0),s(this,"providedOptions",void 0),s(this,"invalidSegments",void 0),this.invocationId=t,this.options={debugBypassConsent:!1,allowLocalStorageWithoutConsentApi:!1,cmpApi:"iab",consentData:{getConsentData:{consentData:void 0,gdprApplies:void 0},getVendorConsents:{}},refreshInSeconds:7200,partnerId:void 0,partnerUserId:void 0,callbackOnAvailable:void 0,callbackOnUpdates:void 0,callbackTimeoutInMs:void 0,pd:void 0,abTesting:{enabled:!1,controlGroupPct:0},provider:void 0,maxCascades:8,applyCreativeRestrictions:!1,segments:void 0,disableUaHints:!1,disableLiveIntentIntegration:!1,storageExpirationDays:void 0,att:void 0,diagnostics:{publishingDisabled:!1,publishAfterLoadInMsec:3e4,publishBeforeWindowUnload:!0,publishingSampleRatio:.01}},this.providedOptions={},!Object(r.r)(n.partnerId)&&!Object(r.t)(n.partnerId))throw new Error("partnerId is required and must be a number or a string");this.invalidSegments=0,this.updOptions(n),this.storageConfig=new f(n.storageExpirationDays)}return l(e,[{key:"getOptions",value:function(){return this.options}},{key:"getProvidedOptions",value:function(){return this.providedOptions}},{key:"getInvalidSegments",value:function(){return this.invalidSegments}},{key:"updOptions",value:function(t){var n,i=this,c=this;Object(r.s)(t)?(this.setPartnerId(t.partnerId),n=Object.keys(t).forEach((function(u){var l,d,p,f,h,m;"segments"===u?(m=t[u],l=[],Object(r.k)(m)?(m.forEach((function(e,t){return t="segments[".concat(t,"]"),Object(r.k)(e.ids)&&Object(r.c)(e.ids,r.t)?e.ids.length<1?(Object(r.u)(c.invocationId,"Config option ".concat(t,".ids should contain at least one segment ID")),void(c.invalidSegments+=1)):Object(r.t)(e.destination)?void l.push(e):(v(c.invocationId,"".concat(t,".destination"),"String",e.destination),void(c.invalidSegments+=1)):(v(c.invocationId,"".concat(t,".ids"),"Array of String",e.ids),void(c.invalidSegments+=1))})),n(u,l)):v(c.invocationId,u,"Array",m)):"diagnostics"===u?(d=i.options.diagnostics,p=t.diagnostics,Object(r.j)(p,e.configTypes.diagnostics)&&(f={},d),Object.keys(p).forEach((),i.options[u]=f),i.providedOptions[u]=t[u]):"partnerId"!==u&&(h=e.configTypes[u],m=t[u],Object(r.j)(m,h)?n(u,m):v(c.invocationId,u,h,m))}))):Object(r.u)(this.invocationId,"Config options must be an object")}},{key:"setPartnerId",value:function(e){var t;if(Object(r.t)(e)){if(t=parseInt(e),isNaN(t)||t<0)throw new Error("partnerId is required and must parse to a positive integer")}else Object(r.r)(e)&&(t=e);if(Object(r.r)(t)){if(Object(r.r)(this.options.partnerId)&&t!==this.options.partnerId)throw new Error("Cannot update config with a different partnerId");this.options.partnerId=t,this.providedOptions.partnerId=e}}}]),e}();function v(e,t,n,i){Object(r.u)(e,"Config option ".concat(t," must be of type ").concat(n," but was ").concat(toString.call(i),". Ignoring..."))}s(h,"configTypes",{debugBypassConsent:"Boolean",allowLocalStorageWithoutConsentApi:"Boolean",cmpApi:"String",consentData:"Object",refreshInSeconds:"Number",partnerUserId:"String",callbackOnAvailable:"Function",callbackOnUpdates:"Function",callbackTimeoutInMs:"Number",pd:"String",abTesting:"Object",provider:"String",maxCascades:"Number",applyCreativeRestrictions:"Boolean",disableUaHints:"Boolean",disableLiveIntentIntegration:"Boolean",storageExpirationDays:"Number",att:"Number",diagnostics:"Object"})},function(e,t,n){"use strict";var r=n(0),i=n(23);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){var r,i;r=e,t=n[i=t],(i=u(i))in r?Object.defineProperty(r,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[i]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){return e=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!==o(t=n.call(e,t||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===o(e)?e:String(e)}n=new(function(){ar t,n;return t=e,(n=[{key:"gather",value:function(e){var t,n,o={lbCDN:"%%LB_CDN%%"};return i.a.allSettled([(t="https://lb.eu-1-id5-sync.com/lb/v1",n=e,new i.a((function(i){Object(r.b)(t,{success:function(t){t=function(t,n){try{return JSON.parse(n)}catch(t){return Object(r.u)(e,"Cannot parse the JSON  response from: ".concat("https://lb.eu-1-id5-sync.com/lb/v1"),n),o}}(0,t),i(t)},error:function(e){Object(r.w)(n,"Got error from ".concat(t," endpoint"),e),i(o)}},null)})))]).then(().catch((function(t){return Object(r.u)(e,"Got error ".concat(t," when gathering extensions data")),o}))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),t.a=n},function(e,t,n){"use strict";(function(e){var r,i=n(24),o=void 0!==(r=void 0!==e?e:window)&&void 0!==r.Promise?r.Promise:i.a;t.a=o}).call(t,n(2))},function(e,t,n){"use strict";(function(e){var r=n(28),i=n(29),o=setTimeout;unction s(){}type.catch=c.prototype.then=c.prototype.finally=r.a,c.all=c.allSettled=i.a,c.resolve=c.reject=c.race=c._immediateFn="function"==typeof e?function(t){e(t)}:c._unhandledRejectionFn=t.a=c}).call(t,n(25).setImmediate)},function(e,t,n){(.call(t,n(2))},function(e,t,n){(.call(t,n(2),n(27))},function(e,t,n){"use strict";t.a=function(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var i=r.length,o=0;o<r.length;o++)!o,r[o])}))}},function(e,t,n){"use strict";t.b=function(e,t){return Math.random()<e&&r.a?function(n,i){return new r.b(t,{sampling:e}).publish(n,i)}:function(e){return e}},t.d=t.c=f,n.d(t,"a",(function(){return h}));var r=n(31),i=n(32),o=n(8);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){var r,i;r=e,t=n[i=t],(i=l(i))in r?Object.defineProperty(r,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[i]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){return e=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!==a(t=n.call(e,t||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===a(e)?e:String(e)}unction p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ar h=function(){!r,i.a);var e,t,n=r);function r(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,c(c({source:e,version:t},f(i)),o))}return e=r,(t=[{key:"loadDelayTimer",value:function(){return this.timer("id5.api.instance.load.delay",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"fetchCallTimer",value:function(e){return this.timer("id5.api.fetch.call.time",c({status:e},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))}},{key:"fetchFailureCallTimer",value:function(){return this.fetchCallTimer("fail",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"fetchSuccessfulCallTimer",value:function(){return this.fetchCallTimer("success",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"extensionsCallTimer",value:function(){return this.timer("id5.api.extensions.call.time",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"consentRequestTimer",value:function(e){return this.timer("id5.api.consent.request.time",c({requestType:e},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))}},{key:"invocationCountSummary",value:function(){return this.summary("id5.api.invocation.count",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"instanceCounter",value:function(e){return this.counter("id5.api.instance.count",c({instanceId:e},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))}},{key:"instanceUniqueDomainsCounter",value:function(e){return this.counter("id5.api.instance.domains.count",c({instanceId:e},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))}},{key:"instanceUniqWindowsCounter",value:function(e){return this.counter("id5.api.instance.windows.count",c({instanceId:e},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))}},{key:"instanceUniqPartnersCounter",value:function(e){return this.counter("id5.api.instance.partners.count",c({instanceId:e},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))}},{key:"instanceJoinDelayTimer",value:function(){return this.timer("id5.api.instance.join.delay.time",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"instanceLateJoinCounter",value:function(e){return this.counter("id5.api.instance.lateJoin.count",c({instanceId:e},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))}},{key:"instanceMsgDeliveryTimer",value:function(){return this.timer("id5.api.instance.message.delivery.time",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}}])&&u(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),r}()},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}unction a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function s(e){return e=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!==r(t=n.call(e,t||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===r(e)?e:String(e)}n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var c="https://diagnostics.id5-sync.com/measurements",u="undefined"!=typeof Promise&&"undefined"!=typeof fetch,l=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t||c,this._metadata=n}var t,n;return t=e,(n=[{key:"publish",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;return e&&0<e.length?(e.forEach((function(e){var t;t=e.tags,Object.keys(t).forEach(()})),fetch(this.url,{method:"POST",headers:{"Content-Type":"text/plain"},mode:"no-cors",body:JSON.stringify({metadata:o(o({},this._metadata),t),measurements:e})})):Promise.resolve()}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(8),i=n(9);unction a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){return e=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!==c(t=n.call(e,t||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===c(e)?e:String(e)}var h=function(){eturn p(e,[{key:"has",value:,{key:"set",value:,{key:"get",value:,{key:"values",value:function(){return Object.entries(this).map((function(e){return(e=function(e,t){return e)||e,t)||e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2))[0],e[1]}))}}]),e}(),v=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;l(this,e),s(this,"_registry",void 0),s(this,"commonTags",void 0),s(this,"_scheduled",void 0),this._registry=new h,this.commonTags=i.a.from(t)}return p(e,[{key:"getOrCreate",value:function(e,t,n){var r=a(a({},t),this.commonTags);t="".concat(e,"[").concat(i.a.toString(r),"]");return this._registry.has(t)||this._registry.set(t,n(e,r)),this._registry.get(t)}},{key:"getAllMeasurements",value:function(){return this._registry.values().map(().filter(()}},{key:"reset",value:,{key:"addCommonTags",value:function(e){this.commonTags=a(a({},this.commonTags),i.a.from(e))}},{key:"timer",value:function(e){return this.getOrCreate(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},(function(e,t){return new r.d(e,t)}))}},{key:"counter",value:function(e){return this.getOrCreate(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},(function(e,t){return new r.a(e,t)}))}},{key:"summary",value:function(e){return this.getOrCreate(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},()}},{key:"publish",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;return Promise.resolve(this.getAllMeasurements()).then(().then(()}},{key:"schedulePublishAfterMsec",value:function(e,t){var n;return this._scheduled||(n=this,setTimeout((,e),this._scheduled=!0),this}},{key:"schedulePublishBeforeUnload",value:]),e}()}])},4:function(e,t,n){(function(r){var i;
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */!function(o){var a=Array.isArray?Array.isArray:tEmitter2=l,l.prototype.delimiter=".",l.prototype.setMaxListeners=l.prototype.event="",l.prototype.once=function(e,t){return this._once(e,t,!1)},l.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},l.prototype._once=l.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},l.prototype.prependMany=l.prototype._many=l.prototype.emit=l.prototype.emitAsync=l.prototype.on=function(e,t){return this._on(e,t,!1)},l.prototype.prependListener=l.prototype.onAny=function(e){return this._onAny(e,!1)},l.prototype.prependAny=l.prototype.addListener=l.prototype.on,l.prototype._onAny=l.prototype._on=l.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();r=d.call(this,null,i,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var o=0;o<r.length;o++){var s=r[o];if(n=s._listeners,a(n)){for(var c=-1,u=0,l=n.length;u<l;u++)if(n[u]===t||n[u].listener&&n[u].listener===t||n[u]._origin&&n[u]._origin===t){c=u;break}if(c<0)continue;return this.wildcard?s._listeners.splice(c,1):this._events[e].splice(c,1),0===n.length&&(this.wildcard?delete s._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete s._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var n=Object.keys(t);for(var r in n){var i=n[r],o=t[i];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&e(t[i]),0===Object.keys(o).length&&delete t[i])}}}(this.listenerTree),this},l.prototype.offAny=l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=l.prototype.listeners=l.prototype.eventNames=l.prototype.listenerCount=l.prototype.listenersAny=void 0===(i=function(){return l}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(18))},46:47:48:49:5:50:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.safeDecodeStr=t.safeEncodeStr=t.safeDecodeJson=t.safeEncodeJson=t.decodeJson=t.encodeJson=t.decodeStr=t.encodeStr=void 0;const r=n(27),i=[["+","-"],["/","_"],["=","~"]];t.encodeStr=t=>e?e.from(t).toString("base64"):btoa(t);t.decodeStr=t.encodeJson=e=>(0,t.encodeStr)((0,r.JSONstringify)(e));t.decodeJson=e=>(0,r.JSONparse)((0,t.decodeStr)(e));t.safeEncodeJson=e=>(0,t.safeEncodeStr)((0,r.JSONstringify)(e));t.safeDecodeJson=t.safeEncodeStr=t.safeDecodeStr=).call(this,n(51).Buffer)},51:52:53:54:55:function(e,t,n){var r={".":[5,9],"./":[5,9],"./index":[5,9],"./index.ts":[5,9],"./public-path":[17,7],"./public-path.ts":[17,7],"./tbla":[16,9,0],"./tbla/":[16,9,0],"./tbla/index":[16,9,0],"./tbla/index.ts":[16,9,0],"./tbla/src/api":[44,9,2],"./tbla/src/api.ts":[44,9,2],"./tbla/src/callbacks":[41,9,5],"./tbla/src/callbacks.ts":[41,9,5],"./tbla/src/constants":[15,9,1],"./tbla/src/constants/":[15,9,1],"./tbla/src/constants/api.constants":[39,9,6],"./tbla/src/constants/api.constants.ts":[39,9,6],"./tbla/src/constants/demand.constants":[38,9,7],"./tbla/src/constants/demand.constants.ts":[38,9,7],"./tbla/src/constants/events.constants":[40,9,8],"./tbla/src/constants/events.constants.ts":[40,9,8],"./tbla/src/constants/index":[15,9,1],"./tbla/src/constants/index.ts":[15,9,1],"./tbla/src/events":[42,9,4],"./tbla/src/events.ts":[42,9,4],"./tbla/src/macros":[43,9,9],"./tbla/src/macros.ts":[43,9,9],"./tbla/src/moat":[45,9,3],"./tbla/src/moat.ts":[45,9,3]};.keys=i.id=55,e.exports=i},56:t)}n}=n}});