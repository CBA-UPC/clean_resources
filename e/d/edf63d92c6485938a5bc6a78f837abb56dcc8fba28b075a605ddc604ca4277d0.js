/* Built on 2024-02-12 11:12:04 */
define("lib/i18n",[],,define("lib/tools",["static/utils","lib/i18n!front"],function(e,t){var i={pendingPrepare:[]};i.encloseTextWithTag=i.parseUrl=i.addUrlParam=i.getUrlHash=i.removeUrlHash=i.setUrlHash=i.isEmpty=i.pad=i.ucfirst=i.ucwords=i.cleanStr=i.translit="u").replace(/[ýÿ]/g,"y"{(new Image).src=i,:t!==i-1?e:e.substring(i+9)},i.replaceThumbcast=function(e){for(var t=e.split(/(<script>|<\/script>)/g),i=0;i<t.length;i++)"<script>"===t[i]||"<\/script>"===t[i]?t[i]="":"document.write(xv.thumbs.replaceThumbUrl("===t[i].substring(0,41)?t[i]=window.xv.thumbs.replaceThumbUrl(t[i].substring(42,t[i].lastIndexOf("))")-1)):"xv.thumbs.casting.displayRandomThumb("===t[i].substring(0,37)?t[i]=window.xv.thumbs.casting.displayRandomThumb(t[i].substring(38,t[i].lastIndexOf(")")-1),!0):"document.write(xv.thumbs.replaceActGalThumbUrl("===t[i].substring(0,47)?t[i]=window.xv.thumbs.replaceActGalThumbUrl(t[i].substring(48,t[i].lastIndexOf("))")-1)):"xv.thumbs.prepareVideo("===t[i].substring(0,23)&&(t[i]="");return t.join(ng_prepare_video_list[t]_prepare_viop:n.offset().top-10-t},i))};var="&hl="+i),e.loadScrumber_"+n,{"%numbfile_size_"+s,{ 0===t?this.getMaxValue():t},i.bitwise_enum.prototype={setWithValue:function(e){return thntByValue(e[t]iVal|=i:this(e);return 0!=(this.i(e){return(this(e){return 0!=(this.ient(Math.p.isElementOn(Math.ppow(2,n))&&t.push(i),t},[])},getValue:function(){r.pow(2,this.oB=typeof t[s]&"),i("debug_")ap(function(e(e,t){return e[t]=!0,e},{})},i.formatDurationMethods={"short":"short",medium:"medium","long":"long",g()}.Must=f,e.Context=d,e.Writer=h,s&&s.path||"")+": "+u)}}),n}),define("text!lib/helpers/loader/before.mustache",[],function(){return'<span class="x-loader-inline before{{#is_button}} btn btn-default{{/is_button}}"{{#id}} id="{{id}}"{{/id}}>{{{ loader }}}{{#text}}{{#safe}}{{{ text }}}{{/safe}}{{^safe}}{{ text }}{{/safe}} {{/text}}</span>'}),define("text!lib/helpers/loader/after.mustache",[],function(){return'<span class="x-loader-inline after{{#is_button}} btn btn-default{{/is_button}}"{{#id}} id="{{id}}"{{/id}}>{{#text}}{{#safe}}{{{ text }}}{{/safe}}{{^safe}}{{ text }}{{/safe}} {{/text}}{{{ loader }}}</span>'}),define("lib/helpers/inline_loader",["lib/tools","mustache","text!./loader/before.mustache","teode&&this.node.remove()}},l}),defirn n.preventDefault(),!1})}}),define("text!skins/default/pagination/pagination.mustache",[],function(){return'<div class="pagination {{ pagination_class }}">\n\t<ul>\n\t\t{{# list }}\n\t\t\t<li{{# item.classes }} class="{{ item.classes }}"{{/ item.classes }}>\n\t\t\t\t{{# link }}\n\t\t\t\t<a {{# link.url }} href="{{ link.url }}"{{/ link.url }}{{# link.classes }} class="{{ link.classes }}"{{/ link.classes }} data-page="{{ link.pageIndex }}">\n\t\t\t\t\t{{{ link.content }}}\n\t\t\t\t</a>\n\t\t\t\t{{/ link }}\n\t\t\t\t{{{ item.customContent }}}\n\t\t\t</li>\n\t\t{{/ list }}\n\t</ul>\n</div>'}),define("skins/default/pagination",["config/main","lib/i18n!front","mustache","text!./pagitring(e.dyn.locale)}},new o}),define("text!lib/helpers/popup/template.mustache",[],function(){return'<div class="x-popup {{ position }} {{ cls }}">\n\t<div class="x-popup-arrow"></div>\n\t<div class="x-popup-content"></div>\n\t{{{ closebtn }}}\n</div>\n'}),define("text!lib/helpers/popup/template_close.mustache",[],function(){return'<div class="x-popup-close">{{{ closebtn_content }}}</div>'}),define("lib/helpers/popup",["mustache","text!./popup/template.mustache","text!./popindow.setTimeout(r,500)}),o}),define("text!lib/helpers/popup/language_switcher.mustache",[],function(){return'<ul>\n\t{{#languages}}\n\t<li><a href="{{{ url }}}"><span class="flag-small flag-{{{ country }}}"></span> {{ name }}</a></li>\n\t{{/languages}}\n</ul>'}),define("lib/helpers/popup/language_switcher",["mustache","../popup","text!lib/helpers/popup/utoclose=3e3),new t(n,r,a)}}),define("text!lib/helpers/overlay/template.html",[],function(){return'<div class="x-overlay">\n\t<div class="x-body">\n\t\t<div class="x-content"></div>\n\t\t<div class="x-close{{^closable}} hidden{{/closable}}" title="{{{ close_title }}}">{{{ icon }}}</div>\n\t</div>\n</div>'}),define("lib/helpers/overlay",["mustache","text!./overlay/temp?t.close():t.hide())})}}},n}),define("lib/helpers/overlay/box",["lib/toolstotype.close.apply(this)},n}),define("text!lib/helpers/overlay/contextual_popup/alert.mustache",[],function(){return'<div class="contextual-popup-content">\n\t<div class="contextual-popup-message">\n\t\t{{{ message }}}\n\t</div>\n\t{{^bNoBtn}}\n\t\t<div class="contextual-popup-actions">\n\t\t\t<button class="contextual-popup-content-close btn btn-danger" data-send-form="1">{{{ ok }}}</button>\n\t\t</div>\n\t{{/bNoBtn}}\n</div>'}),define("text!lib/helpers/overlay/contextual_popup/confirm.mustache",[],function(){return'<div class="contextual-popup-content">\n\t<div class="contextual-popup-message">\n\t\t{{{ message }}}\n\t</div>\n\t<div class="contextual-popup-actions">\n\t\t<button class="ok-close btn btn-danger" data-send-form="1">{{{ ok }}}</button>\n\t\t<button class="contextual-popup-content-close btn btn-default">{{{ cancel }}}</button>\n\t</div>\n</div>'}),define("text!lib/helpers/overlay/contextual_popup/loading.mustache",[],function(){return'<div class="contextual-popup-content">\n\t<div class="contextual-popup-message">\n\t\t{{{ message }}}\n\t</div>\n</div>'}),define("lib/helpers/overlay/contextual_popup",["mustache","./box","../inline_loader","lib/i18n!front","text!./contextual_popup/alert.mustache","text!./contextual_popup/confirm.mustache","text!./context&t.autoclose_fade})}},new r}),define("skins/common/basic_feature",["config/main","lib/i18n!front","lib/helperthis.bErrorPopupNotif=e}},n}),define("skins/common/main_cats/builder",["config/main","le_feature(null,!1)}},new i}),define("text!skins/common/main_cats/switcher.mustache",[],function(){return'<ul>\n\t{{#main_cats}}\n\t\t<li{{#is_user_cat}} class="current"{{/is_user_cat}}>\n\t\t\t<a href="{{ url }}" class="btn cat">\n\t\t\t\t<span>{{{ picto }}}</span> {{{ name }}}\n\t\t\t</a>\n\t\t</li>\n\t{{/main_cats}}\n\t{{^no_disabled_alert}}\n\t<li class="alert-toggle {{{ disabled_alert_class }}}">\n\t\t<button class="btn" type="button"><span class="icon-f icf-square unchecked"></span><span class="icon-f icf-check-square checked"></span> <span class="text">{{{ disabled_alert_text }}}</span></button>\n\t</li>\n\t{{/no_disabled_alert}}\n</ul>'}),define("text!skins/common/main_cats/switcher_feature_toggle.mustache",[],function(){return'<span class="alert-toggle {{{ disabled_alert_class }}}">\n\t<span class="icon-f icf-square unchecked"></span><span class="icon-f icf-check-square checked"></span> <span class="text">{{{ disabled_alert_text }}}</span>\n</span>'}),define("skins/common/main_cats/switcher",["mustache","config/main","lib/helpers/popup","lib/i18n!front","static/cookies","./builder","text!skins/common/main_cats/switcher.mustache","text!skins/common/main_cats/switchew l},xv.main_cats.switcher}),define("skins/common/mozaique/simple_dropdown",["lib/helpers/popup","stati>30&&l.scrollLeft(r-30)}},n}),define("llling:function(){return i}}}),definener:function(e){i.push(e)}}}),define("lib/helpers/events",[urn e.isScrolling()}},new i}),define("skins/common/tracker/virn i().getIdsList()}},new n}),define("skins/common/profile/sub_actions",["config/main","lib/i18n!front","lib/helpers/overlay/contextual_popup","skinssimplePost(s,o,i,n)}},new s}),define("text!skins/common/history/history_popup.mustache",[],function(){return'<div class="disable-history-confirm">\n\t{{ content }}\n\t<form>\n\t\t<label><input type="checkbox" name="clear" value="1"/> {{ history }}</label>\n\t</form>\n</div>'}),define("skint;)e=e.parent;return e}},e}),define("text!skins/form/validator/form_errors/contener.mustache",[],function(){return"<div class='validator-err-sc'>\n\t<a href=\"#\" class='close-btn'><span class='icon-f icf-close-thin'></span></a>\n\t<h3>{{{ title }}}</h3>\n\t<span class=\"icon-f icf-warning icon-bg\"></span>\n\t<div></div>\n</div>"}),define("text!skins/form/validator/form_errors/error.mustache",[],function(){return"<p class=\"form-error-shortcut\">\n\t<span class='icon-f icf-caret-right'></span>\n\t<a href='#'>\n\t\t{{#label}}<strong>{{{ label }}}</strong> :{{/label}}\n\t\t<span>{{{ error }}}</span>\n\t</a>\n</p>"}),define("skins/form/validator",["./validator/schema","mustache","lib/helpers/inline_loader","lib/helpers/overlay/contextual_popup","lib/i18n!front","text!./validator/form_errors/contener.mustache","text!./validator/ind(".vloader").remove()},l}),define("skins/form/captchafunction(e){this.log(e)}},i}),define("text!skins/common/currency_switch/switcher.mustache",[],function(){return'<ul>\n\t{{#currencies}}\n\t\t<li>\n\t\t\t<button class="btn{{#is_current}} is-current{{/is_current}}" type="button" data-id="{{ id }}">{{{ short_name }}}</button>\n\t\t</li>\n\t{{/currencies}}\n</ul>'}),define("skins/common/currency_switch/switcher",["config/main","mustache","lib/helpers/popup","lib/i18n!front","text!skins/common/currencs),undefined,e)}),i}},new o}),define("skins/common/mozaique/premium_redion"==typeof i&&i()}},new t}),define("skins/common/form/login/base",["config/main","static/console","static/dom","lib/tools","lib/i18n!front","lib/helpers/inline_loader","lib/helpers/overlay/box","lib/helpers/overlay/contextual_popup","skins/form/validator","skins/form/captcha"],functioqjs=null,this.validators={}};return c.prototype={getType:function(){return"form_base"},setOpenCloseModes:function(e,t,i,n,s){"string"!=typeof e&&(e=""),"boolean"==typeof t&&(this.bClosableForm=t),"boolean"==typeof i&&(this.bCloseOnEscape=i),"boolean"==typeof s&&(this.bFormRepositionOnOverlayClick=s),this.setOnCloseCallback(n);var o=["signin","signup","premium"];this.form_opening_origin_mode=e,this.form_opening_mode=o[0];for(var a in o)0===e.indexOf(o[a])&&(this.form_opening_mof e&&(this.fnOnFormClose=(n,t,s),this.val&&delete thihing||this.doToggleForms(e)},doToggleForms:function(e){console.error("doToggleForms igninform"in_form.lateredEnd&&r.onFopNodes is not ){e.bIsLoad():window.location.href=t},ngLoader(),this.redirect(e)Path(this.bReloadWithHash))},setReloadWithHash:function(e){this.bReloadWithHash="boolean"!=typeof e||e},onSubmit:fuvalidators[i].resetSeloadWithConnect?n:"straig(t+=window.locs.box&&thr),i.box.positiohis.blosable:1};this.loadForm(n)},close:function(){this.box&&thiss.onFormLoaonClickLinks(u.forceclose"),thsetConfirmation()};break}})}},c}),define("skins/common/form/login/btn_actions",["skins/form/validator",,no_init_validate:!0}))}},i}),define("skins/common/design/text(t.length)}return s}},new i}),define("skins/common/form/login/standard",["config/main","lib/tools","skins/form/validatoe.preventDefault(),!1}})},r}),define("lib/helpers/scrollbar",["lib/tools"],function(e){var t=window.requestAnimation(}),this.onScrollCallback()}};i.S_MAIN_CONTAINER_CLASS="xscroll-container",i.S_MOVE_HORIZONTAL="horizontal",i.S_MOVE_VERTICAL="vertical",i.S_MODE_HORIZONTAL=i.S_MOVE_HORIZONTAL,i.S_MODE_VERTICAL=i.S_MOVE_VERTICAL,i.S_MODE_AUTO="auto",i.I_MOUSE_GRAB_LIMIT=50;var n={oOptions:{$Container:undefined,sMode:i.S_MODE_AUTO,bAutoHide:!0,iAutoHideDelayMs:3e3,iMinGrabSizePx:50,iMaxGrabSizePercent:95,iBarMarginPx:5,bNoAutoHideWhileGrabbing:!0,bNoAutoHideWhileHovering:!0,bCanMouseGrabToScroll:!1},oListeners:{fnOnScroll:null}};return i.p&(this.oContainefos(!0),this.updateView(!0)},updateView:function(e){var t=this,n=!!e||this.updateContentInfos();if(this.$content&&this.$content.length){if(!this.bFirstDraw){if(setTimeout(function(){t.updateView()},50),!this.$content.is(":visible"))return;this.bFirstDraw=!0}var s=this.$content.is(":visible")?2e3:1e4;this.oUpdateViewTimeout||(this.oUpdateViewTimeout=setTimeout(function(){t.oUpdateViewTimeout=null,t.updateView()},s)),n&&(this.oContainerInfos.iScrollHeight>this.oContainerInfos.iHeight?this.sMode!==i.S_MODE_AUTO&&this.sMode!==i.S_MODE_VERTICAL||this.updateVerticalBar(!0):this.deleteVerticalBar(),this.oContainerInfos.iScrollWidth>this.oContainerInfos.iWidth?this.sMode!==i.S_MODE_AUTO&&this.sMode!==i.S_MODE_HORIZONTAL||this.updateHorizontalBar(!0):this.deleteHorizontalBar(),this.updateGrabPos(),this.onScrollCallbacgetVerticalScroll.oListeners.fns.updateHoriz,iTop:a,iHeight:t,rMarginPx)/e.iScrollWidth,e},getContainer:function(){return this.$container},createVerticalBar:function(){this.$VerticalBar&&this.$VerticalBar.length||(this.$VerticalBar=$('<div class="xscroll-v"></div>'),this.$VerticalGrab=$('<div class="xscroll-grab"></div>'),
this.$VerticalBar.on("mousedown",this,this.onMouseDownScrollBarVertical).on("touchstart",this,this.onMouseDownScrollBarVertical).append(this.$VerticalGrab),this.oOptions.bCanMouseGrabToScroll&&this.$content.off("mousedown",this.onMouseDownContentVertical).on("mousedown",this,this.onMouseDownContentVertical),this.$container.addClass("xscroll-v-added").append(this.$VerticalBar))},getVerticalScrollPerc:function(e){if(!e){if(!this.updateContentInfos())return 0;e=!0}return Math.round(this.oContainerInfos.iScrollTop/(this.oContainerInfos.iScrollHeight-this.oContainerInfos.iHeight)*100*1e3)/1e3},getVerticalScrollRatio:function(e){if(!e){if(!this.updateContentInfos())return 0;e=!0}return Math.round(100*this.oContainerInfos.iScrollHeightRatio*1e4)/1e4},getVerticalGrabScrollPerc:function(e){var t=this.getVerticalScrollRatio(e),i=Math.round((this.oContainerInfos.iHeight-2*this.oOptions.iBarMarginPx-this.oOptions.iMinGrabSizePx)/(this.oContainerInfos.iScrollHeight-this.oContainerInfos.iHeight)*100*1e4)/1e4;return Math.min(t,i)},updateVerticalGrabPos:function(e){if(this.$VerticalGrab&&this.$VerticalGrab.length){if(!e){if(!this.updateContentInfos())return;e=!0}var t=this.getVerticalGrabScrollPerc(e);this.$VerticalGrab.css({top:Math.floor(this.oContainerInfos.iScrollTop*t/100)+this.oOptions.iBarMarginPx+"px"}),this.onScrollCallback()}},updateVerticalBar:function(e){if(this.createVerticalBar(),!e){if(!this.updateContentInfos())return;e=!0}this.$VerticalBar.css({height:this.oContainerInfos.iHeight});var t=this.getVerticalScrollRatio(e);this.iGrabHeight=Math.ceil(this.oContainerInfos.iHeight*t/100),this.iGrabHeight<this.oOptions.iMinGrabSizePx&&(this.iGrabHeight=this.oOptions.iMinGrabSizePx),this.iGrabHeight>this.oContainerInfos.iHeight*this.oOptions.iMaxGrabSizePercent/100&&(this.iGrabHeight=Math.ceil(this.oContainerInfos.iHeight*this.oOptions.iMaxGrabSizePercent/100)),this.$VerticalGrab.css({height:this.iGrabHeight}),this.updateVerticalGrabPos(e)},deleteVerticalBar:function(){this.$VerticalBar&&this.$VerticalBar.length&&(this.$container.removeClass("xscroll-v-added"),this.$VerticalBar.remove(),this.$VerticalBar.off("mousedown",this.onMouseDownScrollBarVertical).off("touchstart",this.onMouseDownScrollBarVertical),this.$VerticalBar=null,this.$VerticalGrappend(this.$HorizontalBarInfos.iWidth)*100*1e3)/1.iScrollWidthRatio*1e4)/1e4}4)/1e4;return Math.min(t}),this.onScrollCall.updateHorizontalGra,this.$Hmousemove",this.onInteract)}e.is(this.$HorizontalGrab))},scrollLeft:function(e,t){this.sMode!==i.S_MODE_AUTO&&(this.sMode,i.S_MODE_HORIZONTAL);var n=this.getContainerInfos();!0===t&&(e=Math.max(0,Math.min(100,e)),e=Math.round((n.iScrollWidth-n.iWidth)*e/100)),e=Math.max(0,Math.min(n.iScrollWidth,e)),this.$content&&this.$content.length&&this.$content.scrollLeft(e),this.updateHohis.updateVoOptions.iAutoHideDelayMs)}},onMouseEnter:function(e){e.datation(){e.t.oTimerOn(e){e.data.updateGrabPos()},onMouseDownContentVertical:function(e){var t=e.data;return t.iLastPageContentY=e.pageY,t.bContentMouseGrabMoovingY=!1,null===t.iLastPageContentX&&($(document).on("mousemove",t,t.onMouseMoveContent).on("mouseup",t,t.onMouseUpContent),t.addOnMouseClickContent()),!1},ddOnMouseClickConteiLastPageContentYContentMouseGrabMoovingis.fnMouseClickContent,!0)s.fnMouseClickContenremoveOnMouseClickContent()},,t,t.onMouseUpScrollBar),!1},on,t,t.onMouseUpScrollBpdateHorizontalGrabhend",t.onMouseUpScrollBar)}},i}),define("text!skins/common/dropdown/tpls/dropdown.mustache",[],function(){return'<div class="{{getClasses}}{{#needsScrollbar}} with-scrollbar{{/needsScrollbar}}">\n\t<div class="x-dropdown-selected{{#oOptions.bOneLineSelected}} x-dropdown-selected-one-line{{/oOptions.bOneLineSelected}}">\n\t\t{{#getDefaultOption}}\n\t\t<div class="x-dropdown-selected-option" data-x-value="{{{ key }}}">\n\t\t\t<span class="icon-f {{#oOptions.sAlwaysIcon}}{{{ oOptions.sAlwaysIcon }}}{{/oOptions.sAlwaysIcon}}{{^oOptions.sAlwaysIcon}}{{#option.icon}}{{{ . }}}{{/option.icon}}{{/oOptions.sAlwaysIcon}}"></span>\n\t\t\t<span class="x-dropdown-value">{{{ option.value }}}</span>\n\t\t\t<span class="x-dropdown-caret icon-f"></span>\n\t\t</div>\n\t\t{{/getDefaultOption}}\n\t</div>\n\t<div class="{{getOptionsClasses}}">\n\t\t<div class="x-options-container">\n\t\t\t{{{ getDefaultSep }}}\n\t\t\t{{{ getMainOptions }}}\n\t\t\t{{{ getSep }}}\n\t\t\t{{{ getSepOptions }}}\n\t\t</div>\n\t</div>\n</div>'}),define("text!skins/common/dropdown/tpls/dropdown_option.mustache",[],function(){return'<div class="x-dropdown-option{{#option.disabled}} disabled{{/option.disabled}}{{#option.bSelected}} selected{{/option.bSelected}}{{#option.action_on_disabled}} with-action{{/option.action_on_disabled}}" data-x-value="{{{ key }}}">\n\t<span class="icon-f {{#option.icon}}{{{ . }}}{{/option.icon}}"></span>\n\t<span class="x-dropdown-value">{{{ option.value }}}</span>\n</div>'}),define("text!skins/common/dropdown/tpls/dropdown_sep.mustache",[],function(){return'<div class="x-dropdown-sep">\n\t<span class="x-dropdown-sep-text">{{{ . }}}</span>\n</div>'}),define("skins/common/dropdown/dropdown",["lib/tools","mustache","lib/helpers/scrollbar","text!./tpls/dropdown.mustache","text!./tpls/dropdown_option.mustache","text!./oScrollBar.updateView()}},r}),define("text!skins/common/form/login/purchase/tpls/payment_type_button.mustache",[],function(){return'<div class="payment-type-text">{{{ sIcon }}}{{{ sText }}}</div>'}),define("skins/common/form/login/purchase/payment_type",["mustache","lib/tools","config/main","lib/i18n!front","text!./tpls/palates.sTplPaymentType,i)},a}),define("text!skins/common/form/login/purchase/tpls/product_dropdown_desc.mustache",[],function(){return'<span class="product-desc">\n\t<span class="product-desc-main">{{{ sMainText }}}</span>\n\t<span class="product-desc-sep price"> - </span>\n\t<span class="product-desc-price">{{{ sMainPrice }}}</span>\n\t{{#sDescription}}\n\t\t<span class="product-desc-sep description"> - </span>\n\t\t<span class="product-desc-description">{{{.}}}</span>\n\t{{/sDescription}}\n</span>'}),define("skins/common/form/login/purchase/product",["mustache","lib/i18n!front","skins/common/form/login/purchase/payment_type","text!./tpls/prod,sDescription:r})}},Product}),define("text!skins/common/form/login/purchase/buttons_form/tpls/selectable_element.mustache",[],function(){return'<div class="selectable-element-parent {{ sParentClasses }}">\n\t<div class="selectable-element {{ sClasses }}">\n\t\t{{{ sContent }}}\n\t</div>\n</div>'}),define("skins/common/form/login/purchase/buttons_form/payment_type_button",["mustache","lib/tools","skins/common/dropdown/dropdown","skins/common/form/login/purchase/payment_type","text!./tpls/s",n.CRYPTO_CURRENCY),r}}},a}),define("text!skins/common/form/login/purchase/buttons_form/tpls/chosemethod_modal.mustache",[],function(){return'<div class="chosemethod-modal">\n\t<div class="chose-title {{{ payment_type }}}">\n\t\t<div class="chose-current">{{{ offer_not_available }}}</div>\n\t\t<div class="chose-next">{{{ use_this_these_method }}}</div>\n\t</div>\n\t<div class="methods">\n\t</div>\n</div>'}),define("skins/common/form/login/purchase/buttons_form/chose_payment_type",["mustache","lib/tools","config/main","lib/i18n!front","lib/helpers/overlay/box","skins/common/form/login/purchase/payment_type","skins/common/form/login/purchase/buttons_form/payment_type_button","text!./tpls/e.overlay.close()}}})})}},u}),define("skins/common/form/login/purchase/buttons_form/buttons_form",["mustache","lib/tools","config/main","lib/i18n!front","skins/common/form/login/purchase/product","skins/common/form/login/purchase/payment_type","skins/common/form/login/purchase/buttons_form/payment_type_button","skins/common/form/login/purchase/buttons_form/chose_payment_type","text!./tpls/s||t.toggle(!1),e[i]=1})}},c}),define("skins/common/form/loPTO_TYPE[t[1]]},CRYPTO_TYPE}),define("skins/common/form/login/purchase/multiform_option",["mustache","lib/tools","config/main","lib/i18n!front","skins/common/form/login/purchase/payment_type","skins/common/form/login/purchase/crypto_type","skins/common/form/login/purchase/product","skins/common/form/login/purchase/buttons_form/chose_payment_type","skins/common/dropdown/dropdown"],function(e,t,i,n,s,o,a,r,l){var u={oOptions:{oFormInfo:undefined,$context:undefined,bHideProductWhenSolo:!1},oTemps(this,e||{},u),this.init()};return c.prototype={init:function(){if(!this.oOptions.oFormInfo)return void log.error("Missing form infos in reqjs");this.oOptions.$context||(this.oOptions.$context=$("body")),this.sFormId=this.find("form").attr("id"),this.sFormId&&this.find("form").append($('<input type="hidden" name="'+this.sFormId+'[product]"/>')),this.$selectPaymentMethod=this.find(".select-payment-method"),this.$selectOffer=this.find(".select-offer"),this.parseProducts(),this.parseOffersForPaymentTypes(),this.initPaymentMethodDropdown(),this.s.oOptions.$co[i]=[]),e[i].push(t),e},{})his.oPaymentTypesProducts=e},getSelectedPaymentType:function(){return this.oSelectPaymentMethodDropdown.getSelectedVnot display products.')]||(a.push(e),o[t]=!0)}}),a},initPaymentMethodDropdown:function(){var e=this;this.initPaymentInfos();varicon:n.icon,value:n.text},t},{});this.$selectPaymentMethod.empty(),this.oSelectPaymentMethodDropdown=new l({oOptions:{$container:this.$selectPaymentMethod,oKeyValues:t,bStyleLeft:!0,bStyleLeftMobile:!1,iNbMaxDisplayedOptions:5,aClasses:["selectable-element","payment-type"],sSepName:"Crypto",sSepPrefix:"CRYPTO"},oListeners:{fnOnSelectItem:function(t,i){var n=e.find(".offer .x-dropdown-selected-option").attr("data-x-value"),o=e.oProducts[n];e.updateProductsDropdown();var a=i.split("-");a.length>1&&"CRYPTO"===a[0]&&(e.find('[name="'+e.sFormId+'[crypto_currency]"]').attr("value",a[1]),i=s.CRYPTO_CURRENCY),e.selectFirstCompatibleOffer(o,i)}}})ropdown.clickOption(n.iId)}},getCompreturn e.sPaymentType===t})},initProductsDropdown:function(){var e=this;this.$selectOffer.empty(),this.oSelectOfferDropdown=new l({oOptions:{$container:this.$selectOffer,oKeyValues:{},bStyleLeft:!0,bStyleLeftMobile:!1,iNbMaxDisplayedOptions:4,aClasses:["selectable-element","offer"],bAlwaysScrollbar:!0},oListeners:{fnOnSelectItem:function(t,i){e.find(".submit-txt-product").toggle(!1),e.find(".submit-txt-product-"+i).toggle(!0),e.find(".offer-price .product").toggle(!1),e.find(".offer-price .product[data-value="+i+"]").toggle(!0),e.find('[name="'+e.sFormId+'[product]"]').attr("value",i)},fnOnSelectUnavailableItem:function(t,i){var n=e.oProducts[i];new r({oOptions:{aProducts:e.oProductsByUnique[n.getUnicity()],sCurrentPaymentType:e.getSelectedPaymentType()},oLctFirstCompatibleOffer(n,i)},onCryptoSelect:function(t,i){e.oSelectPaymentMethodDropdown.setSelection("CRYPTO-"+i),e.updateProductsDropdown(),e.selectFirstCompatibleOffer(n,s.CRYPTO_CURRENCY)}}})}}}),this.updateProductsDropdown()},updateProductsDropdown:function(){var e=this.getSelectedPaymentType(),t=this.getAvatDropdownOptionDisplay()},e},{});i=this.getUna!0,action_on_disabled:!0},e},i),this.oSelectOfferDropdown.oOptions.oKeyValues=i,this.oSelectOfferDropdown.redraw(),this.oSelectOfferDropdown.$dropdown.parent().toggle(!0),this.oOptions.bHideProductWhenSolo&&Object.values(i).length<=1&&this.oSelectOfferDropdown.$dropdown.parent().toggle(!1);var n=this.oSelectOfferDropdown.getKeyValues()[0].key;n&&this.oSelectOfferDropdown.clicron",icon:"icf-crypto-trx"}}},c}),define("skins/common/form/login/premium",["mustache","lib/tools","config/main","./base","./btn_actions","skins/common/dropdown/dropdown","skins/common/form/login/purchase/buttons_form/buttons_form","skins/common/form/login/purchase/multiform_option","skins/commomobile-condense-toggle")},d}),define("skins/common/tracker/user_videos_list_tracker",["coreturn new Promise(o)})}},i}),define("skins/common/tracker/videos_i_like",["eturn new e("aVideosILike")}),define("skins/default/form/login",["config/main","skins/common/form/login/standard","skins/common/form/login/premium","skins/common/tracker/video_subs","skins/cotupNodes.apply(this,[e])},a}),define("skins/common/history/page_view_history",["config/main","static/tracker","static/utils","lib/i18n!front","lib/helpers/overlay/contextual_popup","skins/common/basic_feature","mustache","text!skins/common/hists.oFeature.enable(e)},new c}),define("text!skins/common/suggests/suggest_popup.mustache",[],function(){return'<div class="suggest-popup popup-confirm">\n\t<p>{{ content }}</p>\n\t<button class="btn btn-primary btn-ok">{{ ok }}</button>\n\t<button class="btn btn-primary btn-close">{{ not_ok }}</button>\n</div>'}),define("skins/common/suggests/suggests_manager",["static/utils","mustache","lib/i18n!front","lib/helpers/overlay/contextual_popup","eof t&&t()},"json")}},new o}),define("skins/common/video/vote_manager",["config/main","lib/helpers/inline_loader","lib/helpd]=this.notlogged_func)}},u}),define("text!skins/common/mozaique/thumb_block_menu/btn.mustache",[],function(){return'<button class="action-menu"><span class="open icon-f icf-ellipsis-v"></span><span class="close icon-f icf-close-thin"></span></button>'}),define("skins/common/mozaique/thumb_block_menu/one_tb_menu",["config/main","mustache","lib/helpers/popup","lib/i18n!front","lib/helpers/inline_loader","lib/helpers/events","skins/common/profile/sub_actions","skins/common/history/page_view_history","skins/common/suggests/suggests_manager","skins/common/video/vote_manager","skins/common/tracker/videos_i_his.$Content.append(t)}}},d}),define("skins/common/mozaique/thumb_block_menu",["config/main","mustache","lib/i18n!front","lib/helpers/inline_loader","lib/helpers/events","./tht.disable&&t.disable()}}},a}),define("skins/xnxx/mozaique/thumb_block_menu",["skins/common/mozaique/thumb_block_menu","skins/common/mozaique/thumb_block_menu/one_tb_menu","conus=my_tb_menus,my_tb_menus}),define("lib/helpers/thumbs/mozaique",["lique.is(e)&&0===this.idx}},a}),define("lib/helpers/thumbs/mp4vp",["statiListener("playing",f),u}},a}),define("lib/helpers/thumbnextPreview()}}return a}},o}),define("lib/helpers/thumbs/engine_creator",["config/main","static/utils","s(){e(this).on(i,e.noop)}}})}(jQuery),define("jquery-mobile-events",function(){}),define("lib/helpers/thumbs/rotator",["lib/helpers/events","./engine_creagine(this.no_video_pv))}},i}),define("lib/helpers/thumbs_rotator",["static/cookies",".tTimeout(c,1e3-t));c()}}),a}),define("skins/xnxx/mozaique/thumb_block_common_init",["skins/xnxx/mozaique/thumb_block_menu","lib/helpers/thumbs_rotator","skins/common/mozaiv.thumb_block_initiator=s,s}),define("text!skins/common/xcams/currently_online_popup.mustache",[],function(){return'<div class="mac-models">\n\t<h2>{{{ title }}}</h2>\n\t<a href="{{{ home_url }}}" target="_blank" class="btn btn-xs btn-primary">{{{ more }}}</a>\n\t<div class="models">\n\t\t{{#models}}\n\t\t\t<a class="model" target="_blank" href="{{{ link_url }}}">\n\t\t\t\t<div class="live_model_thumb">\n\t\t\t\t\t<img src="{{^live_img_url}}{{{ img_url }}}{{/live_img_url}}{{#live_img_url}}{{{ live_img_url }}}" onerror="this.onerror=null;this.src=\'{{{ img_url }}}\';$(this).parent().addClass(\'not-live\');{{/live_img_url}}" alt="{{{ name }}}"/>\n\t\t\t\t</div>\n\t\t\t\t<span class="name">{{{ name }}}</span>\n\t\t\t\t<span class="live badge">{{{ live }}}</span>\n\t\t\t</a>\n\t\t{{/models}}\n\t</div>\n</div>'}),define("skins/common/xcams/currennction(e){})}),p++}}},new i}),define("text!skins/common/games/nutaku_migration_pop.mustache",[],function(){return'<div class="nutaku-mig">\n\t<div class="nutaku-mig__cont">\n\t\t<p class="nutaku-mig__hey">{{{ sHey }}}</p>\n\t\t<h3 class="nutaku-mig__start-playing">{{{ sStartPlaying }}}</h3>\n\t\t<p class="nutaku-mig__confirm-for">{{{ sConfirmFor }}}</p>\n\t\t<ul class="nutaku-mig__confirm-for-list">\n\t\t\t{{#aConfirmFor}}\n\t\t\t\t<li>{{{ sReason }}}</li>\n\t\t\t{{/aConfirmFor}}\n\t\t</ul>\n\t\t{{#aPrimaryLinks}}\n\t\t\t<a href="{{sConfirmUrl}}" target="_blank" class="nutaku-mig__btn__confirm btn btn-primary">{{{ sConfirm }}}</a>\n\t\t{{/aPrimaryLinks}}\n\t\t{{#aSecondaryLinks}}\n\t\t\t<a href="{{sNoThxUrl}}" target="_blank" class="nutaku-mig__btn__no-thx btn btn-secondary">{{{ sNoThx }}}</a>\n\t\t{{/aSecondaryLinks}}\n\t</div>\n\t<div class="nutaku-mig__logo">\n\t\t<img src="{{sLogoUrl}}" alt="{{sLogoAlt}}" />\n\t</div>\n</div>'}),define("skins/common/games/nutaku_migration_pop",["config/main","static/cookies","lib/i18n!front","lib/helpers/overlay/box","mustache","text!./nutUpperCase())+" GAMES"})}},a}),define("text!skins/common/download_app/popup.mustache",[],function(){return'<div id="popup-opening-message">\n\t<span id="popup-opening-close" class="icon-f icf-close-thin" title="{{{ close }}}"></span>\n\t<div id="popup-opening-content">\n\t\t<div id="popup-opening-desc">\n\t\t\t<p class="popup-opening-title">\n\t\t\t\t<strong>{{{ title }}}</strong>\n\t\t\t</p>\n\t\t\t<p class="popup-opening-link">{{{ link }}}</p>\n\t\t\t<p class="popup-opening-infos">{{{ infos }}}</p>\n\t\t</div>\n\t\t<span class="icon-f icf-device-mobile"></span>\n\t</div>\n</div>'}),define("skins/common/download_app",["config/main","mustache","lib/i18n!front","text!skins/common/detPopupDisplay(!1)}}},new s}),define("skins/common/dee-stop-anim")},500)}},new e}),define("skin).on("resize",t)}catch(i){}}),define("skins/common/design/old_ie",["lib/iate","1",864e5,"/")}},new i}),define("skins/xnxx/common_all",["config/main","static/cookies"sign/old_ie"],function(){})}),define("skins/common/blog_survey",["co(){t.removeLocal(s,"/")})}}}),define("skins/common/history/easyrn t.length>0&&t[0]}},new n}),define("skins/common/history/one_infoction(t){e.clear(t)}},new t}),define("text!skins/common/geo_switch/contener.mustache",[],function(){return'<div>\n\t<div class="filter">\n\t\t<label>\n\t\t\t<span class="icon-f icf-search"></span>\n\t\t\t<input type="text"{{#placeholder}} placeholder="{{ placeholder }}"{{/placeholder}}/>\n\t\t</label>\n\t\t<button type="button" class="clear"><span class="icon-f icf-close-thin"></span></button>\n\t</div>\n\t<ul class="countries row">{{{ list }}}</ul>\n\t{{^simple_contener}}\n\t<ul class="width-ref row">{{{ ref-list }}}</ul>\n\t<div class="see-all"><button type="button" class="btn btn-primary"></button></div>\n\t{{/simple_contener}}\n</div>'}),define("text!skins/common/geo_switch/list_element.mustache",[],function(){return'<li class="{{^empty}}country-{{ code }} {{/empty}}col-xs-12 {{^half}}col-sm-4 col-md-3 col-lg-2{{/half}}{{#half}}col-sm-2 col-md-1-5 col-lg-1{{/half}}{{#cur}} current{{/cur}}{{#empty}} empty{{/empty}}">{{^empty}}\n\t<a href="/change-country/{{ code }}" class="btn"><span class="flag-small flag-{{ code }}"></span> {{{ name }}}</a>\n{{/empty}}</li>'}),define("text!skins/common/geo_switch/list_no_result.mustache",[],function(){return'<li class="no-result col-xs-12">\n\t{{{ no_result }}}\n</li>'}),define("skins/common/geo_switch/geo_switch",["config/main","static/utils","mustache","lib/i18n!front","lib/helpers/overlay","lib/helpers/inline_loader","skins/common/history/one_info_tracker","text!./contener.mustache","text!./list_element.mustache","textthis.update_popup()}},new f}),define("skins/common/design/big_ui",["r("resize")},500)})}},new t}),define("skins/default/video/watch_later/watch_later_tracker",["skins/common/tracker/user_videos_list_tracker"],function(e){return new e("aWatchLater")}),define("skins/default/video/watch_later",["config/main","lib/i18n!front","lib/helpers/popup","./watch_later/watch_later_tracker","dClass("disabled"))}},new a}),define("skins/default/mozaique/thumb_block_viewed",["config/main","skins/common/history/one_info_tracker","skins/common/history/page_view_history","rn new Promise(a)})}},new s}),define("text!skins/default/header/theme_switcher.mustache",[],function(){return'<ul id="theme-switcher-list">\n\t{{#themes}}\n\t\t<li><span class="btn" data-mode="{{ mode }}">{{ name }}</span></li>\n\t{{/themes}}\n</ul>'}),define("skins/default/header/theme_switcher",["config/main","static/utils","lib/i18n!front","skins/common/basic_feature","mustache","text!skins/default/headt.initChoiceBtn(e)}})}}}},a}),define("skins/common/listing/settings",["config/main","static/cookies","static/dom","static/utils","lib/helpers/popup","lib/helpers/thumbs_rotator","lib/i18n!front","skins/common/suggests/suggests_manager","skins/common/history/page_view_history","skins/common/geo_switch/geo_switch","skins/common/main_cats/switcher","skins/common/design/big_ui","skins/common/basic_feature","skins/common/currency_switch/switcher","skins/default/video/watch_later","skins/default/mozaique/thumb_block_viewed","skins/default/header/theme_switcher","mustache","text!lib/helpers/popup/language_switcher.mustache","text!skins/default/headhlightInterval+500)}},new D}),require.config({waitSeconds:90,paths:{jquery:"jquery",text:"text"},shim:{json3:{exports:"".").pop().indexOf("local")}}},packages:[{name:"moment",main:"moment",location:"libs/moment"}]}),"object"==typeof html5player&&"function"==typeof html5player.showPlayer&&html5player.showPlayer(),define("static/console",window.xv.console(){return window.xv.tracker}),define("static/utils",window.xv.utils),define("static/dom",window.xv.dom),define("static/cookies",window.xv.cookies),define("static/storage",window.xv.storage),define("static/thumbs",window.xv.thumbs),document.addEventListener||require(["respond"]),require(["config/main","lib/helpers/inline_loader","lib/helpers/common/listing/settings"])}),define("skins/xnxx",function(){}),define("skins/xnx,window.location.pathname)}eurn e.fn.scrollLock=t,this}}),define("skins/common/search/autocomplete",["config/main","static/dom","mustache","lib/tools","lib/converter","lib/i18ne(o),$(this).trigger(e)})}}}),define("text!skins/xnxx/search/autocomplete.mustache",[],function(){return'{{#has_keywords}}\n\t<div class="title" style="padding-left:{{padding.left}};padding-right:{{padding.right}}">{{{lbl_suggestions}}}</div>\n\t<ul class="keywords">\n\t\t{{#results.keywords}}\n\t\t<li style="padding-left:{{padding.left}};padding-right:{{padding.right}}"{{#more}} class="more"{{/more}}>\n\t\t\t<a href="/search/{{#is_premium_search}}gold/{{/is_premium_search}}{{#uri}}{{{N}}}{{/uri}}?top">\n\t\t\t\t<span class="nbres">{{R}}</span>\n\t\t\t\t<span class="keywords">{{#highlight}}{{t1}}<span class="highlighted">{{t2}}</span>{{t3}}{{/highlight}}{{^highlight}}{{N}}{{/highlight}}</span>\n\t\t\t</a>\n\t\t</li>\n\t\t{{/results.keywords}}\n\t</ul>\n{{/has_keywords}}\n{{#has_pornstars}}\n\t<div class="title" style="padding-left:{{padding.left}};padding-right:{{padding.right}}">{{{lbl_pss}}}</div>\n\t<ul class="pornstars">\n\t\t{{#results.pornstar}}\n\t\t<li style="padding-left:{{padding.left}};padding-right:{{padding.right}}">\n\t\t\t<a href="/pornstar/{{{F}}}">\n\t\t\t\t<span class="thumb" style="background-image:url(\'{{{P}}}\')"></span>\n\t\t\t\t<span class="name">{{#highlight}}{{t1}}<span class="highlighted">{{t2}}</span>{{t3}}{{/highlight}}{{^highlight}}{{N}}{{/highlight}}</span>\n\t\t\t\t<span class="rank"><span class="rank-type">{{#model}}M{{/model}}{{^model}}P{{/model}}</span>{{#RF}}#<span class="rank-pos">{{RF}}</span>{{/RF}}</span>\n\t\t\t</a>\n\t\t</li>\n\t\t{{/results.pornstar}}\n\t</ul>\n{{/has_pornstars}}'}),define("skins/xnxx/search/autocomplete",["skins/common/search/autocomplete","tee,t){e($("#header"),null,t)}),define("skindow.mobile_cat_list_resize)}),define("skins/xnxx/header/all_pages",["skins/xnxx/search/autocomplete","skins/common/geo_switch/geo_switch","skins/xnxx/header/mobile_cat"],function(){}),define("text!skins/common/help_wizard/help_wizard_container.mustache",[],function(){return'<div class="help-wizard-cover">\n\t<div class="help-wizard-skip{{{ skip_class }}}"><span class="icon-f icf-angle-double-right"></span> {{{ skip }}}</div>\n</div>'}),define("text!skins/common/help_wizard/help_wizard_mask.mustache",[],function(){return'<div class="help-wizard-mask">\r\n\t<div class="help-wizard-focus">\r\n\t\t<div class="help-wizard-description">\r\n\t\t\t<div class="help-wizard-description-content"></div>\r\n\t\t\t<p class="help-wizard-next"><button class="btn btn-primary">{{{ next }}}</button></p>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="help-wizard-layer"></div>\r\n</div>'}),define("text!skins/common/help_wizard/help_wizard_loading.mustache",[],function(){return'<div class="help-wizard-mask">\r\n\t<div class="help-wizard-layer loader-layer"></div>\r\n\t<span class="help-wizard-loading icon-f icf-spinner icf-anim-pulse"></span>\r\n</div>'}),define("text!skins/common/help_wizard/help_wizard_cursor.mustache",[],function(){return'<div class="help-wizard-cursor">\r\n\t<span class="icon-f icf-hand-pointer-o"></span>\r\n\t<span class="icon-f icf-hand-pointer"></span>\r\n</div>'}),
define("skins/common/help_wizard/help_wizard",["config/main","lib/i18n!front","static/dom","mustache","skins/common/history/one_info_tracker","text!./help_wizard_container.mustache","text!./help_wizard_mask.mustache","text!./help_wizard_loading.mustache","text!./help_wizard_cursor.mustache"],functd_function),this.oOptions=n};u.prototype={show:function(){if(!0!==this.bShowOK){this.bShowOK=!0,this.bClosed=!1;var e=this;this.setToHightLight(this.$ToHighlight,function(){e.showStep2()})}},showStep2:function(){if(!0!==this.bShowStep2OK){if(this.bShowStep2OK=!0,this.create(),this.setShowCursorAnimOn(this.oOptions.show_cursor_anim_on),this.position(),!this.$ToHighlight&&!this.$Description)return void this.close();"undefined"!=typeof this.oOptions.skip_position&&this.oWizard.setSkinBtnPosition(this.oOptions.skip_position);var e=this;this.$Mask.css({opacitys.hide_cover_timer)})},250)}),this.eWindowResize=function(){!1!==e.tWindowResize&&(clearTimeout(e.tWindowResize),e.tWindowResize=!1),e.$Mask.stop().hide(),e.tWindowResize=setTimeout(function(){e.tWindowResize=!1,e.senimation(),e.$Mask.fadeIn()})},200)},"function"==typeof this.oOptions.after_show_function&&this.oOptions.after_show_function(this),$(window).on("resize",ption.addClass("nction"==typeof t&&t"function"==typeof t&nterval=setInterval(t,2500)},stopCursorAnimation:function(){"undefined"!=typeof this.tCursorInterval&&!1!==this.tCursorInterval&&(clearInterval(this.tCursorInterval),this.tCursorwNextWizard()})}th"ms").addClass("aut("transition-duration","0")},stopShowDesc:function(){"undefined"!=typeof this.tShowDesc&&!1!==this.tShowDesc&&(clearTimeout(this.tShowDesc),this.tShOptions.shrsor&&thi:this.iCursorLeftEnd-n/6}}}},showNextWizard:function(){thdindOrEnded()||e}catch(auto_launch)&&this.launch()};returnhis.aInEscapeKey).donewizs.f t&&t()}s.iCurre.sEndRedirect=!1,this.end()},getContainer:function(){return this.$C$Skip.addClass("right").iCurrentwizard-hiding-masask),this.tAutoHbClo.endStep2d(functio==typeof (){window.location.href=e})}},c}),define("skins/xnxx/help_wizard/wizard_info",["co:{hide_cover_timer:1e3}}]}}}),define("text!skins/common/search/report.mustache",[],function(){return'<div class="report-search-words">\n\t<h2><span class="icon-f icf-warning-stop icf-white-fill"></span> {{{ sTitle }}}</h2>\n\t<p class="desc">{{{ sDesc }}}</p>\n\t<ul class="search-report-list">\n\t\t{{#aSearchs}}\n\t\t\t<li><label><input type="radio" name="search_query" value="{{{ sName }}}" data-type="{{{ sType }}}"{{#bOneSearch}} checked="checked"{{/bOneSearch}}/> {{{ sLabel }}}</label></li>\n\t\t{{/aSearchs}}\n\t</ul>\n\t<div class="form form-horizontal">\n\t\t<div class="form-group">\n\t\t\t<div class="col-sm-12">\n\t\t\t\t<textarea class="form-control" rows="2" placeholder="{{{ sComment }}}"></textarea>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="form-group">\n\t\t\t<div class="col-sm-12">\n\t\t\t\t<p class="label-i-understand">{{{ sTypeIUnderstand }}}</p>\n\t\t\t\t<input class="form-control" placeholder=\'"{{{ sIUnderstand }}}"\' name="i_understand"></input>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<button class="btn btn-primary disabled" disabled>{{{ sSend }}}</button>\n</div>'}),define("skins/common/search/report",["config/main","mustache","lib/i18n!front","static/utils","lib/helpers/overlay/box","lib/helpers/overlay/contextual_popup","text!skins/comn(){l.show()},!0)}})}})}},r}),define("skins/xnxx/search",["config/main","static/thumbs","lib/i18n!front","static/utils","./search/add_history_nav","skins/xnxx/mozaique/thumb_block_common_init","lib/helpers/thumbs_rotator","sta.search),i.openForm()})})}),define("skins/xnxx/category",["./search"],function(){}),define("skins/xnxx/http_status",["skins/xnxx/header/all_pages"],function(){}),define("text!skins/xnxx/suggests/thumb_block_suggest_options.mustache",[],function(){return'<div>\n\t<p>{{{explication}}} :</p>\n\t<ul>\n\t\t{{#options}}\n\t\t\t<li>\n\t\t\t\t<button type="button" class="btn btn-primary {{class}}">{{{name}}}</button>\n\t\t\t</li>\n\t\t{{/options}}\n\t</ul>\n</div>'}),define("skins/xnxx/su)}).addClass("init-ok")})}}),define("skins/common/main_regional",["config/main","lib/tools","n(){l=r.offset().top,c()})}}),define("skins/xnxx/main",["lib/helpers/thumbs_rotator","skins/xnxx/header/all_pages","skins/xnxx/suggests/suggests_manager","tion(e){xv.thumbs_rotator=e}),define("lib/helpers/suggest_tracker",["static/cookies","config/main","ew_list),108e5,"/")}},new n}),define("skins/common/listing/dates_link_pagination",["codata.moz_type,"",1e3,"/"))}}),define("lib/helpers/popup/to.oTooltip.setContent(e)}},t}),define("text!skins/common/profile/subscribe/subscribed.mustache",[],function(){return'<div class=\'subscribed\'>\n\t<p>{{ subscribed }}{{^hide_view_activities}} <a href="/my-subs/videos">{{ view_activities }}</a>{{/hide_view_activities}}{{#has_related}} <span>{{ also_like }}:</span>{{/has_related}}</p>\n\t{{#has_related}}<div class="profileslist">{{{ related_html }}}</div>{{/has_related}}\n</div>'}),define("text!skins/common/profile/subscribe/related_profile.mustache",[],function(){return'\n<div class="profile">\n\t<a class="profile-img" href="{{ url }}">\n\t\t{{{ img }}}\n\t\t<span class="flag-small flag-{{ country }}"></span>\n\t</a>\n\t<p class="profile-name">\n\t\t<a href="{{ url }}" title="{{ username_display }}">{{ username_display }}</a>\n\t</p>\n\t<div id="{{ div_sub_id }}"></div>\n\t{{#about_me}}\n\t\t<p class="profile-desc">\n\t\t\t{{{ about_me }}}\n\t\t</p>\n\t{{/about_me}}\n</div>'}),define("text!skins/default/profile/subscribe/btn_sub.mustache",[],function(){return'<span class="user-subscribe">\n\t<span class="count">{{ count }}</span>\n</span>'}),define("skins/default/profile/subscribe/btns",["mustache","config/main","lib/i18n!front","skins/common/profile/sub_actions","skins/default/profile/subscribe/btn","text!skins/default/profile/null,null,!1,c)}},init_btns}),
define("skins/default/profile/subscribe/btn",["config/main","static/utils","lib/helpers/popup","lib/helpers/popup/tooltip","lib/i18n!front","lib/helpers/inline_loader","lib/helpers/overlay/contextual_popup","skins/}),this.tooltip.open())}},l}),define("skins/common/mozaique/vids_list_by_uploader",["lib/i18n!front","lib/tools","lib/helpers/inline_loader","skins/default/profile/subscribe/btn","skins/common/history/one_info_tracker","lib/helpervids").length)+")")}},new a}),define("skins/common/mozaique/premium_tab_listing",["config/main","static/cookies","skins/commooin(","),432e5,"/")}},new n}),define("skins/xnxx/mozaique",["config/main","./search/add_history_nav","lib/helpers/thumbs_rotator","lib/helpers/suggest_tracker","skins/xnxx/header/all_pages","skins/common/lis){new e(t,"gold-bydate")}))}),define("lib/helpers/thumbhumbs[e].checkPreview()}},i}),define("text!skins/default/profile/action/link/captcha.html",[],function(){return'<p>{{{ labels.ip_not_trusted }}}</p>\n<div id="prof-recaptcha">{{{ loader }}}</div>\n<p>{{{ labels.verifiy_to_trust }}}</p>'}),define("skins/default/profile/action/link",["config/main","mustache","static/utils","lib/tools","lib/helpers/popup","lib/helpers/inline_loader","lib/i18n!front"his.url_or_callback(r)}}},p}),define("text!skins/account/social/friends_list/action_btn_desktop.mustache",[],function(){return'<button class="action-desktop-btn btn btn-default" title="{{{ title }}}">\n\t<span class="icon-f icf-user"></span>\n\t<span class="icon-f icf-{{ icf }} small-icf"></span>\n</button>\n'}),define("text!skins/account/social/friends_list/action_btn_mobile.mustache",[],function(){return'<button class="action-mobile-btn btn btn-default btn-xs" title="{{{ title }}}">\n\t<span class="icon-f icf-{{ icf }}"></span>\n\t<span class="text">{{{ title }}}</span>\n</button>\n'}),define("text!skins/account/social/friends_list/action_success.mustache",[],function(){return'<strong class="success-message text-success"><span class="icon-f icf-check"></span> {{{ message }}}</strong>'}),define("skins/account/social/friends_list_base",["config/main","mustache","skins/default/profile/action/link","lib/i18n!front","text!./friends_list/action_btn_desktop.mustache","text!./friends_list/action_btn_mobile.mustache","text!./friends_list/action_success.mustache"],fles(t,i,n,s,o,a,r,l,u,c,f)}};return r.prototype={initProfiles:function(a,r,l,u,c,f,d,h,p,_,m){for(var g in d)!function(){var b=g,v=$("#profile_"+b);if(!(v.length<1)){var D=$(t.render(e.dyn.is_desktop?s:o,{title:n.__(a),icf:l}));v.append(D);var y={};y[String(c)]=d[b].display;var w=function(){e.dyn.is_desktop?D.remove():D.off("click").prop("disabled",!0),delete d[b],m--;var t="";switch(a){case"profile.unfriend":t=m<1?n.__("profile.friends.no_yet"):1===m?n.__("profile.friends.my_friend"):n.__("profile.friends.my_nb",{"%count%":m.toString()});break;case"profile.unlike":t=m<1?n.__("profile.like.no_yet"):1===m?n.__("profile.like.my_like"):n.__("profile.like.my_nb",{"%count%":m.toString()});break;case"subscriptions.unsubscribe":if("xnxx"===e.sitename){t=m<1?n.__("profile.subscription.no_uploader_yet"):1===m?n.__("profile.subscription.my_followed"):n.__("profile.subscription.my_uploaders_nb");break}if("social_subscriptions_channels"===h||"channels"===h){t=m<1?n.__("profile.subscription.no_chan_yet"):1===m?n.__("profile.subscription.my_chan_subscription"):n.__("profile.subscription.my_chan_nb",{"%count%":m.toString()});break}t=m<1?n.__("profile.subscription.no_yet"):1===m?n.__("profile.subscription.my_subscription"):n.__("profile.subscription.my_nb",{"%count%":m.toString()});break;case"misc.cancel_not_interested":t=m<1?n.__("profile.subscription.no_chan_not_interesting"):1===m?n.__("profile.subscription.one_chan_not_interesting"):n.__("profile.subscription.nb_chan_not_interesting",{"%count%":m.toString()});break;case"subscriptions.subscribe":t=m<1?n.__("xnxx"===e.sitename?"profile.subscription.no_uploaders_not_interesting":"profile.subscription.no_chan_not_interesting"):1===m?n.__("xnxx"===e.sitename?"profile.subscription.one_uploader_not_interesting":"profile.subscription.one_chan_not_interesting"):n.__("xnxx"===e.sitename?"profile.subscription.nb_uploaders_not_interesting":"profile.subscription.nb_chan_not_interesting",{"%count%":m.toString()});break;case"profile.actions.block":t=m<1?n.__("profile.liked.no_yet"):1==m?n.__("profile.liked.my_like"):n.__("profile.liked.my_nb",{"%count%":m.toString()});break;case"profile.actions.unblock":t=m<1?n.__("profile.blocked.no_yet"):1==m?n.__("profile.blocked.one_account"):n.__("profile.blocked.nb_accounts",{"%count%":m.toString()})}v.fadeOut(),p.html(t),void 0!==f&&"function"==typeof f.fnCallbackOnchange&&_!==m&&f.fnCallbackOnchange({iInitialNbItem:_,iNewNbItem:m})};if("fnSubscribe"===r||"fnUnsubscribe"===r||"fnUnreject"===r){var C={user_name:b,csrf:d[b].csrf},k={},x={confirm_unfollow:!1,confirm_unreject:!1,sub:!1,reject:!1,is_sub:!1,is_rejected:!1},F={tooltip:!1,btn_display:!1,btn_class:!1};"fnSubscribe"===r?(C.is_follower=!1,F.sub_btn=D,k.onSub=w):"fnUnsubscribe"===r?(C.is_follower=!0,C.is_rejected=!1,F.sub_btn=D,u&&c&&(x.confirm_unfollow=n.__(u,y)),k.onUnsub=w):"fnUnreject"===r&&(C.is_follower=!1,C.is_rejected=!0,F.reject_btn=D,F.reject_btn_only=!0,u&&c&&(x.confirm_unreject=n.__(u,y)),k.onUnsub=w),require(["skins/"+e.sitename+"/profilub:!1},elts:F,listeners:k})})}else{new i(D,"/profiles/"+b+r,!(!u||!c)&&n.__(u,y),!1,d[b].csrf).onSuccess=w}}}();e.dyn.is_desktop&&setTimeout(function(){$(".action-desktop-btn").addClass("read")},2e3)}},r}),define("skins/common/profile/sub_overlay",["lib/tools","lib/i18n!front","lib/helpers/overlay/box","lib/helpers/inline_loader","skins/account/social/friends_list_base"t,i,n,o,"%user%",e)}},new a}),define("skins/common/sub_suggestions/suggestBlock",["config/main","mustache","lib/tools","lib/i18n!front","lib/helpers/popup/tooltip","lib/helpers/overlay/box","lib/helpers/thumbs/wall","lib/helpers/inline_loader","lib/helpers/scrollbar"],function(e,t,i,n,s,o,a,r,l){var u=function(e){this.oOptions={},i.initParams(this.oOptions,e,u.DEFAULT_OPTIONS),this.oEventListeners={},this.iEventListenerCount=0};return u.DEFAULT_OPTIONS={iCancelTimeout:3e3,oTemplates:{sTplThumbBlock:null,sTplPopPreview:null,sTplPopPreviewThumb:nulwVideos" not implemented.')},fnCustomSetUrl:null},oOnDataLoadedoUrls:{fnPopPreviewVideos:null}},u.SUGGEST_TYPE={CHANNEL_SUB:"channel",MEMBERSHIP:"membership",CATEGORY:"category"},u.REVIEW={UNREVIEWED:"ur",ADDED:"a",REJECTED:"r"},u.EVENT={REVIEW_UPDATE:"r",REVIEW_UPDATE_VALIDATED:"r_ok"},u.ACTION={SUBSCRIBE:"s",REJECT:"r"},u.buildFromJSON=function(e,t,i){return void 0===t&&(t=new u(i)),t.setId(e.i).setUserName(e.u).setDisplayName(e.d).setUrl(e.url).setCountryCode(e.c).setThumb(e.th).setUserPic(e.thp).setCsrf(e.sc).setIsPicListingTypeProfile("profile"===e.tht).setNbVideos(e.cnt.v).setNbVideosFree(e.cnt.f).setNbVideosPremium(e.cnt.m).setVideos(e.vis)},u.isValidObjectOption=function(e,t)function(i){return e[i]===t})},u.prototype={getTplThumb:function(){if(null===this.oOptions.oTemplates.sTplThumbBlock)throw new Error('Function "sTplThumbBlock" not set');return this.oOptions.oTemplates.sTplThumbBlock},getTplPopPreview:function(){if(null===this.oOptions.oTemplates.sTplPopPreview)throw new Error('Function "sTplPopPreview" not set');return this.oOptions.oTemplates.sTplPopPreview},getTplPopPreviewThumb:function(){if(null===this.oOptions.oTemplates.sTplPopPreviewThumb)throw new Error('Function "sTplPopPreviewThumb" not set');return this.oOptions.oTemplates.sTplPopPreviewThumb},getPopPreviewData:function(){throw new Error('Function "getPopPreviewData" not implemented.')},dReject" not implemented.')},setId:function(e){return this.iId=e,this},setUserName:function(e){return this.sUserName=e,this},setDisplayName:function(e){return this.sDisplayName=e,this},setUrl:function(e){return"string"==typeof e&&"function"==typeof this.oOptions.oUrls.fnCustomSetUrl&&(e=this.oOptions.oUrls.fnCustomSetUrl(e)),thiseLower=e.toLowerCase(),this},setThumb:function(e){return this.sThumb=e,this},setUserPic:function(e){return this.sUserPic=e,this},
setDisplayType:function(e){return this.sDisplayType=e,this},setReview:function(e){return this.sReview=e,this},setNbSubscribers:function(e){return this.iNbSubscribers=e,this},setNbSubscribersFormatted:function(e){return this.sNbSubscribersFormatted=e,this},setCsrf:function(e){return this.sCsrf=e,this},setIsPicListingTypeProfile:function(e){return this.bIsPicListingTypeProfile=e,this},setNbVideos:function(e){return this.iNbVideos=e,isNaN(this.iNbVideos)&&(this.iNbVideos=0),this},setNbVideosFree:function(e){return this.iNbVideosFree=e,isNaN(this.iNbVideosFree)&&(this.iNbVideosFree=0),this},setNbVideosPremium:function(e){return this.iNbVideosPremium=e,isNaN(this.iNbVideosPremium)&&(this.iNbVide{return this.aVideos=e,this},openPopPreview:function(){var i=$(t.render(this.getTplPopPreview(),this.getPopPreviewData())),n=o.get($("body"),!0,"close");n.setContent(i),n.setScrollAndResizeReposition("auto"),n.setOverlayClosable(!0),n.setEscapeClosable(!0),n.addClass("auto-width-popup premium-feed-channel-preview-pop");var s=i.find(".mozaique"),u=s.find(".cover-led-channelreview-opened"),c&&c.stop()},n.show("auto");var d=0,h=!1,p=function(n){if(!0!==h){h=!0;var o=$('<p class="loader">'+r.getIcf()+"</p>");s.append(o),$.get(f.oOptions.oUrls.fnPopPreviewVideos(f,d),function(r){if(f.onPopPreviewLoadedMore(r,i,n),o.remove(),r.result){var l=$(t.render(f.getTplPopPreviewThumb(),{video_list:r.videos}));0===d&&s.empty(),s.append(l),e.dyn.is_desktop?"default"!==e.sitename&&"xnxx"!==e.sitename||require(["skins/"+e.sitename+"/mozaique/thumb_block_common_init"],function(t){"default"===e.sitename&&t.init_listing(s,{tb_menu:!1}),"xnxx"===e.sitename&&t.init_listing(s,{tb_menu:!1,premium_redirect_alert:!1})})function(){c.addThumb(this)}):c=new a(s),r.nb_remaining>0?d++:d=!1,h=!1}},"json")}},_=i.find(".channel-actions"),m=_.find(".sub"),g=_.find(".reject");m.on("click",function(){n.close(),f.$alose(),f.$rejectBtn.click()}),p(!0),new l({oOptions:{$Container:s,sMode:l.S_MODE_VERTICAL},oListeners:{fnOnScroll:function(e){u&&u.length&&u.css("top",e.oVertical.iScroll),"number"==typeof d&&e.oVertical.iScrollInvert<20&&p()LoadedMore:function(e,t,i){},getId:function(){return this.iId},getReview:function(){return this.sReview},getDisplayName:function(){return this.sDisplayName},renderThumb:function(){return this.$render?this.$render:(this.$render=$(t.render(this.getTplThumb(),this.getTplData())),this.initThumbEvents(),this.$render)},initThumbEvents:function(){if(this.$render&&this.$render.length){this.$renderThumbLink=this.$render.find(".thumb a"),this.$addBtn=this.$render.find(".sub"),this.$addBtnLabel=this.$addBtn.find(".label"),this.$rejectBtn=this.$render.find(".reject"),this.$rejectBtnLabel=this.$rejectBtn.find(".label");var e=this;this.$renderThumbLink.on("click",function(t){t.preventDefault(),e.openPopPreview()}),this.setChannelActionSubAndReject()}},getTplData:function(){return{sUserName:this.sUserName,sDisplayName:this.sDisplayName,sUrl:this.sUrl,sThumb:this.sThumb,sUserPic:this.sUserPic,bIsPicListingTypeProfile:this.bIsPicListingTypeProfile,sNbVideosVal:this.iNbVideosPremium?n.__(1===this.iNbVideosPremium?"misc.one_video":"misc.nb_videos",{"%count%":this.iNbVideosPremium.toLocaleString(e.dyn.locale)}):null,sNbVideosValShort:this.iNbVideosPremium.toLocaleString(e.dyn.locale),sDefaultThumbPic:e.domains["static"]+(this.bIsPicListingTypeProfile?"/v3/img/skins/default/profile_default_big.jpg":"/v3/img/skins/"+("xnxx"===e.sitename?"xnxx":"default")+"/channel-default-thumb.png"),sDefaultProfilPic:e.domains["static"]+"/v3/img/skins/default/profile_default_big.jpg",sClickPreview:n.__("misc.click_preview"),sSubscribe:n.__("subscriptions.subscribe"),sNotInterested:n.__("misc.not_interested"),sAdd:n.__("misc.add"),sRemove:n.__("misc.actions.remove")}},setTooltip:function(e,t){t="string"==typeof t&&t.length?t:n.__("misc.internal_error_retry"),this.oTooltip?(this.oTooltip.setButton(e),this.oTooltip.setContent(t)):(this.oTooltip=new s,this.oTooltip.create(t,e,{})),this.oTooltip.open()},onEvent:function(e,t,i){if(!u.isValidObjectOption(u.EVENT,e))throw new Error('onEvent "'+e+'" not a valide Event.');"undefined"==typeof this.oEventListeners[e]&&(this.oEventListeners[e]={}),this.iEventListenerCount++,"string"==typeof i&&i.length||(i="callback_"+this.iEventListenerCount),this.oEventListeners[e][i]=t},removeEvent:function(e,t){"undefined"!=typeof this.oEventListeners[e]&&"undefined"!=typeof this.oEventListeners[e][t]&&delete this.oEventListeners[e][t]},triggerEvent:function(e){if("undefined"!=typeof this.oEventListeners[e])for(var t in this.oEventListeners[e])this.oEventListeners[e][t](this)}},u}),define("text!skins/common/premium_feed/cover_loader.mustache",[],function(){return"<div class=\"cover-loader\"><span class='icon-f icf-spinner icf-anim-pulse'></span></div>"}),define("skins/common/sub_suggestions/suggestList",["./suggestBlock","config/main","mustache","lib/tools","lib/i18n!front","lib/helpers/scrollbar","text!skins/common/premium_feed/cover_loader.mustache"],function(e,t,i,n,s,o,a){var r=function(e){this.oOptions={},n.initParams(this.oOptions,e,r.DEFAULT_OPTIONS),this.setMozaiqueCountLimit(this.getMozaiqueInfiniteCountLimit()),this.setMozaiqueDivClass(""),this.bIsLoadMaxReached=!1,this.bIsLoadError=!1,this.iSuggestRenderAdded=0,this.iCurrentSuggestPointer=-1,this.aSuggests=[],this.iMozChannelLoadedIdsSent=0,this.oEventListeners={},this.iEventListenerCount=0,this.sLastReview=null,this.sLastValidatedReview=null,this.sLastScrollKey=""};return r.DEFAULT_OPTIONS={bDisplay2RowsWhenReview:!1,bAutoLoadMoreOnScrollDisplay:!0,oUrls:{sLoad:"/feed/channels",fnCustomSetBlockUrl:null},oTemplates:{sTplThumbBlock:null,sTplPopPreview:null,sTplPopPreviewThumb:null},oThumbsCount:{640:{iMinWidth:0,iMaxWidth:640,iColsCount:2,bCanDisplay2Rows:!0},767:{iMinWidth:641,iMaxWidth:767,iColsCount:3,bCanDisplay2Rows:!0},1023:{iMinWidth:768,iMaxWidth:1023,iColsCount:4},1339:{iMinWidth:1024,iMaxWidth:1339,iColsCount:5},1899:{iMinWidth:1340,iMaxWidth:1899,iColsCount:6},"default":{iMinWidth:1900,iColsCount:7},infinite:{iColsCount:20}}},r.EVENT={LOADED:"l_ok",REVIEW_UPDATE:"r",REVIEW_UPDATE_VALIDATED:"r_ok"},r.S_DEFAULT_MOZAIQUE_DIV_CLASS="suggest-list mozaique thumbs-5-colsyblue;":e];return void 0!==t?t:null},addSuggest:function(t){this.aSuggests.push(t);var i=this;return t.onEvent(e.EVENT.REVIEW_UPDATE_VALIDATED,function(e){i.onSuggestBlockReviewValidated(e)}),t.onEvent(e.EVENT.REVIEW_UPDATE,function(e){i.onSuggestBlockReviewUpdate(e)}),t},getLoadedSuggestIds:function(){var e=[];for(var t in this.aSuggests){var i=this.aSuggests[t];e.push(i.getId())}return e},load:function(e){var t=this,i=this.getLoadedSuggestIds();"function"==typeof e&&this.onEvent(r.EVENT.LOADce(function(e,t){return e+t},0);if(this.isMozaiqueToLoading()){if(this.iMozChannelLoadedIdsSent===n)return;"undefined"!=typeof this.xChannelCall&&"function"==typeof this.xChannelCall.abort&&this.xChannelCall.abort()}this.iMozChannelLoadedIdsSent=n,this.setMozaiqueToLoading(),this.xChannelCall=$.post({url:this.oOptions.oUrls.sLoad,data:{ids:i},complete:function(){t.unsetMozaiqueToLoading()},success:function(e){e.result&&(e.data&&"object"==typeof e.data?t.onMainDataLoad(e.data):t.setMozaiqueToLoadError(),t.triggerEvent(r.EVENT.LOADED))},error:function(e){if(!e||"abort"!==e.statusText){t.iAjaxErrorsCount++,console.log("%c Loading channels - Ajax ERROR","color:red;","iAjaxErrorsCount : "+t.iAjaxErrorsCount,e);t.iAjaxErrorsCount<2?(console.log("%c Trying again","color:red;"),setTimeout(function(){t.load()},500)):(t.setMozaiqueToLoadError(),console.log("%c Loading channels - Too many Ajax ERROR","color:red;",2))}},dataType:"json"})},resetAndLoad:function(e){this.aSuggests=[],this.emptySuggestToMozaique();var t=this;this.load(function(){t.triggerEvent(r.EVENT.REVIEW_UPDATE),t.triggerEvent(r.EVENT.REVIEW_UPDATE_VALIDATED),"function"==Reached&&!this.ataLoad" not implemented.')},buildSuggestFromJSON:function(t,i,n){if(i||"object"==typeof i||(i={}),this.oOptions.oTemplates){"object"!=typeof i.oTemplates&&(i.oTemplates={});for(var s in this.oOptions.oTemplates)null!==this.oOptions.oTemplates[s]&&(i.oTemplates[s]=this.oOptions.oTemplates[s])}return this.oOptions.oUrls&&this.oOptions.oUrls.fnCustomSetBlockUrl&&("object"!=typeof i.oUrls&&(i.oUrls={}),i.oUrls.fnCustomSetUrl=this.oOptions.oUrls.fnCustomSetBlockUrl),void 0===n&&(n=e),n.buildFromJSON(t,i)},render:function(){throw new Error('Function "render" not implemented.')},renderMozaique:function(){if(this.$mozaique)return this.$mozaique;var e=this.getMozaiqueDivClass();return e=e&&e.length?" class='"+e+"'":"",this.$mozaique=$("<div"+e+"></div>"),this.fillMozaique(),this.$mozaique},renderWithDefaultLimit:function(){return this.setMozaiqueCountLimit(this.getMozaiqueCurrentSizeCountLimit()),this.render()},renderWithSideScroll:function(){if(this.$render)return this.$render;this.setMozaiqueCountLimit(this.getMozaiqueInfiniteCountLimit()),this.render();var e=this.renderMozaique(),t=this,i={oOptions:{$Container:e,sMode:o.S_MODE_HORIZONTAL,bCanMouseGrabToScroll:!0}};return this.oOptions.bAutoLoadMoreOnScrollDisplay&&(i.oListeners={fnOnScroll:function(e){var i=e.oHorizontal.iScrollSize+"-"+e.oHorizontal.iScroll+"-"+e.oHorizontal.iScrollInvert;t.sLastScrollKey!==i&&(e.oHorizontal.iSize>20&&e.oHorizontal.iScrollInvert<20&&!t.bFillMozaiqueRequested&&t.loadAndFillMozaique(),t.sLastScrollKey=i)}}),new o(i),this.bIsScrollDisplay=!0,this.$render},setRender2Rows:function(){if(this.oOptions.bDisplay2RowsWhenReview&&this.canCurrentWidthHave2Rows()&&!this.bIs2RowsDisplayed){this.bIs2RowsDisplayed=!0;var e=this.renderMozaique(),t=2*(e.outerHeight()+1);e.css({height:t,"max-height":t}),e.addClass("suggest-list-2-rows");var i=this.getMozaiqueCurrentSizeConfig();(!this.bIsScrollDisplay||this.iColsCountLimit<2*i.iColsCount)&&(this.setMozaiqueCountLimit(2*i.iColsCount),this.fillMozaique())}},fillMozaique:function(){if(this.canLoadMore()){if(!this.hasNextSuggestLoaded())return void this.loadAndFillMozaique();for(this.oOptions.bAutoLoadMoreOnScrollDisplay&&this.bIsScrollDisplay&&this.iSuggestRenderAdded>=this.iColsCountLimit&&(this.iSuggestRenderAdded=0);this.iSuggestRenderAdded<this.iColsCountLimit;){var e=this.getNextSuggest();if(null===e){this.loadAndFillMozaique();break}var t=e.renderThumb();t&&t.length&&this.appendSuggestToMozaique(t)}}},loadAndFillMozaique:function(){if(!this.bFillMozaiqueRequested){this.bFillMozaiqueRequested=!0;var e=this;this.load(function(){e.bFillMozaiqueRequested=!1,e.fillMozaique(),this.iSuggestRenderAdded++},removeSuggestToMozaique:function(e){e.remove(),this.iSuggestRenderAdd,this.iSuggestRenderAdmber"==typeof e&&e>0?e:null},getMrentSizeConfig().iColsCount},gbsCount.infinite.iColsCouzeConfig().bCanDisplay2Rows},getMozaiqueCurrentSizeConfig:function(){var e=null,t=$(window).outerWidth();for(var i in this.oOptions.oThumbsCount){var n=this.oOptions.oThumbsCount[i];"infinite"!==i&&("number"!=typeof n.iMaxWidth||t<=n.iMaxWidth)&&("number"!=typeof n.iMinWidth||t>=n.iMinWidth)&&(e=i)}return this.oOptions.oThumbsCount[null!==e?e:"default"]},getMozaiqueDivClass:function(){return"undefined"!=typeof this.sMozaiqueDivClass?this.sMozaiqueDivClass:r.S_DEFAULT_MOZAIQUE_DIV_CLASS},setMozaiqueDivClass:function(e,t){"string"==typeof e?(this.sMozaiqueDivClass=e.trim(),!0!==t&&(this.sMozaiqueDivClass+=" "+r.S_DEFAULT_MOZAIQUE_DIV_CLASS)):this.sMozaiqueDivClass=!0===t?"":r.S_DEFAULT_MOZAIQUE_DIV_CLASS,this.sMozaiqueDivClass=this.sMozaiqueDivClass0===this.bMozaiqueIsLoading},setMozaiqueToLoading:function(){this.isMozaiqueToLoading()||(this.bMozaiqueIsLoading=!0,this.$mozaique&&(this.$mozaiqueLoader||(this.$mozaiqueLoader=this.getALoader()),this.$mozaique.append(this.$mozaiqueLoader)))},unsetMozaiqueToLoading:function(){this.isMozaiqueToLoading()&&(this.bMozaiqueIsLoading=!1,this.$mozaiqueLoader&&this.$mozaiqueLoader.remove())},getMozaiqueErrorMessage:function(){return s.__("loading.error")},setMozaiqueToLoadError:function(){this.bIsLoadError=!0,this.$mozaique&&this.$mozaique.append($('<p class="suggest-list-error">'+this.getMozaiqueErrorMeion(){return $(i.render(a))},getNextSuggest:function(e){if(!this.hasNextSuggestLoaded()){if("function"==typeof e)if(this.canLoadion(){e(t.getNextSuggest())})}else e(null);else this.canLoadMore()&&this.load();return null}this.iCurrentSuggestPointer++;var i=this.aSuggests[this.iCurrentSuggestPointer];return"function"==typeof e&&e(i),i},hasNextSuggestLoaded:function(){return!!this.aSuggests.length&&this.iCurrentSuggestPointer+1<this.aSuggests.length},replaceUserRender:function(t,i){var n=t.renderThumb();if(i instanceof e){var s=i.renderThumb();n.replaceWith(s)}else this.removeSuggestToMozaique($render)},onEvent:function(e,t,i,n){if(!this.isValidEvent(e))throw new Error('onEvent "'+e+'" not a valide Event.');"undefined"==typeof this.oEventListeners[e]&&(this.oEventListeners[e]={}),this.iEventListenerCount++,"string"==typeof i&&i.length||(i="callback_"+this.iEventListenerCount),this.oEventListeners[e][i]={fnCallback:t,bClearWhenCalled:!!n}},isValidEvent:function(t){return e.isValidObjectOption(r.EVENT,t)},removeEvent:function(e,t){"undefined"!=typeof this.oEventListeners[e]&&"undefined"!=typeof this.oEventListeners[e][t]&&delete this.oEventListeners[e][t]},triggerEvent:function(e){if("undefined"!=typeof this.oEventListeners[e])for(var t in this.oEventListeners[e])this.oEventListeners[e][t].fnCallback(this),this.oEventListeners[e][t].bClearWhenCalled&&this.removeEvent(e,t)},onSuggestBlockReviewUpdate:function(e){this.sLastReview=e.getReview(),this.triggerEvent(r.EVENT.REVIEW_UPDATE)},onSuggestBlockReviewValidated:function(e){this.sLastValidatedReview=e.getReview(),this.triggerEvent(r.EVENT.REVIEW_UPDATE_VALIDATED)}},r}),define("text!skins/common/sub_suggestions/suggestBlock/thumb_channel.mustache",[],function(){return'<div id="profile_{{ sUserName }}" class="thumb-block thumb-block-premium-feed-channel">\n\t<div class="thumb-inside">\n\t\t<div class="thumb">\n\t\t\t<a href="{{ sUrl }}">\n\t\t\t\t<img src="{{ sThumb }}" id="pic_{{ sUserName }}"{{#bIsPicListingTypeProfile}} class="profile-pic"{{/bIsPicListingTypeProfile}} onerror="this.src=\'{{ sDefaultThumbPic }}\'; this.onerror=null;"/>\n\t\t\t\t<span class="profile-name">{{{ sDisplayName }}}</span>\n\t\t\t\t{{#sNbVideosVal}}\n\t\t\t\t\t<span class="profile-counts">{{{ sNbVideosVal }}}</span>\n\t\t\t\t{{/sNbVideosVal}}\n\t\t\t\t<span class="profile-hover">\n                    <span class="label">\n\t                    <span class="icon-f icf-eye"></span>\n\t                    {{{ sClickPreview }}}\n                    </span>\n                </span>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n\t<div class="thumb-under">\n\t\t{{#sUserPic}}\n\t\t\t<img class="profile-pic" src="{{ sUserPic }}" onerror="this.src=\'{{ sDefaultProfilPic }}\'; this.onerror=null;">\n\t\t{{/sUserPic}}\n\t\t<p class="channel-actions">\n\t\t\t<button class="btn btn-ticket sub" type="button">\n\t\t\t\t<span class="icf-ticket-left-side"><span class="icon-f icf-ticket-wide"></span></span>\n\t\t\t\t<span class="icf-ticket-right-side"><span class="icon-f icf-ticket-wide"></span></span>\n\t\t\t\t<span class="label">{{{ sSubscribe }}}</span>\n\t\t\t</button>\n\t\t\t<button class="btn btn-default reject" type="button">\n\t\t\t\t<span class="label"><span class="icon-f icf-ban mobile-only-hide"></span> {{{ sNotInterested }}}</span>\n\t\t\t\t<span class="ticket-rip"></span>\n\t\t\t</button>\n\t\t</p>\n\t</div>\n</div>'}),define("text!skins/common/premium_feed/channel_preview.mustache",[],function(){return'<div class="channel-preview-header{{#membership_info.nb_videos}} with-membership-info{{/membership_info.nb_videos}}">\n\t<div class="prof-pic-n-page-link{{#channel_pic_src}} with-pic{{/channel_pic_src}}">\n\t\t{{#channel_pic_src}}\n\t\t\t<img src="{{{ channel_pic_src }}}" alt="" class="profile-pic" />\n\t\t{{/channel_pic_src}}\n\t\t<a href="{{{ href }}}" title="{{{ channel_page_title }}}" class="btn btn-default page-link" target="_blank">{{{ channel_page }}}</a>\n\t</div>\n\n\t<h2>\n\t\t<span class="label">{{{ channel_title }}}</span>\n\t</h2>\n\t{{#membership_info.nb_videos}}\n\t\t<div class="membership-info">\n\t\t\t<span class="icon-f icf-bar-chart"></span>\n\t\t\t<div class="membership-info-videos">\n\t\t\t\t<p><span class="icon-f icf-crown"></span> <span class="nb-videos">{{{membership_info.nb_videos}}}</span></p>\n\t\t\t\t<p><span class="icon-f icf-lock"></span> <span class="no-access">{{{membership_info.nb_videos_no_access}}}</span></p>\n\t\t\t</div>\n\t\t\t<div class="membership-info-other">\n\t\t\t\t<p><span class="icon-f icf-play-square-o"></span> {{{membership_info.last_update}}}</p>\n\t\t\t\t<p><span class="icon-f icf-comments-o"></span> {{{membership_info.last_chat}}}</p>\n\t\t\t</div>\n\t\t\t<div class="membership-info-detail">\n\t\t\t\t<span class="icon-f icf-question-circle-o info"></span>\n\t\t\t\t<div class="membership-info-detail-hover">\n\t\t\t\t\t<span class="icon-f icf-close-thin close"></span>\n\t\t\t\t\t<p><span class="icon-f icf-crown"></span> <span class="membership-info-detail-videos">{{{membership_info.detail_videos}}}</span></p>\n\t\t\t\t\t<p><span class="icon-f icf-lock"></span> <span class="membership-info-detail-no-access">{{{membership_info.detail_no_access}}}</span></p>\n\t\t\t\t\t<p><span class="icon-f icf-play-square-o"></span> {{{membership_info.detail_last_update}}}</p>\n\t\t\t\t\t<p><span class="icon-f icf-comments-o"></span> {{{membership_info.detail_last_chat}}}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t{{/membership_info.nb_videos}}\n\n\t<p class="channel-actions">\n\t\t<button class="{{{ sub_btn_class }}}" type="button">{{{ sub_btn }}}</button>\n\t\t<button class="{{{ reject_btn_class }}}" type="button">{{{ reject_btn }}}</button>\n\t</p>\n</div>\n\n<div class="mozaique-container">\n\t<div class="mozaique thumbs-2-cols">\n\t\t{{{ mozaique }}}\n\t\t{{{ cover_loader }}}\n\t</div>\n</div>'}),define("text!skins/common/premium_feed/channel_preview_mozaique_tbs.mustache",[],function(){return'{{#video_list}}\n\t<div id="video_{{{ id }}}_channel_preview" data-id="{{{ id }}}" class="thumb-block">\n\t\t<div class="thumb-inside">\n\t\t\t<div class="thumb">\n\t\t\t\t<a href="{{{ url }}}" target="_blank">\n\t\t\t\t\t<img src="{{{ img }}}{{{ thumb }}}" data-idcdn="10" data-videoid="{{{ id }}}" id="pic_{{{ id }}}" />\n\t\t\t\t\t<span class="video-title">{{{ title }}}</span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{{/video_list}}'}),define("skins/common/sub_suggestions/suggestBlock/suggestChannel",["../suggestBlock","config/main","mustache","lib/tools","lib/i18n!front","skins/common/profile/sub_actions","text!./thumb_channel.mustache","text!skins/common/premium_feed/channel_preview.mustache","text!skins/common/premium_feed/channel_preview_mozaique_tbs.mustache","text!skins/common/premium_feed/cover_loader.mustache"],function(e,t,i,n,s,o,a,r,l,u){var c=function(t){e.apply(this,[t]),n.initParams(this.oOptions,t,c.DEFAULT_OPTIONS)};return c.DEFAULT_OPTIONS={oTemplates:{sTplThumbBlock:a,sTplPopPreview:r,sTplPopPreviewThumb:l},oUrls:{fnPopPreviewVideos:function(e,t){return"/feed/channels/"+e.iId+"/videos/"+t}}},c.prototype=Object.create(e.prototype),c.prototype.constructor=c,c.buildFromJSON=function(t,i){var n=e.buildFromJSON(t,new c(i),i);return n.setNbSubscribers(t.cnt.s).setNbSubscribersFormatted(t.cnt.sf),n},c.prototype.getPopPreviewData=function(){return{channel_pic_src:this.sUserPic,channel_title:this.sDisplayName,mozaique:i.render(this.getTplPopPreviewThumb(),{video_list:this.aVideos}),cover_loader:i.render(u),href:this.sUrl,sub_btn_class:this.$addBtn.prop("class"),reject_btn_class:this.$rejectBtn.prop("class"),sub_btn:this.$addBtn.html(),reject_btn:this.$rejectBtn.html(),channel_page_title:s.__("profile.channel_page"),channel_page:s.__("profile.channel_page")}},c.prototype.setChannelActionSubAndReject=function(){this.tCancelTimeout&&(clearTimeout(this.tCancelTimeout),this.tCancelTimeout=null),this.sSubBtnLabelSave&&(this.$addBtnLabel.html(this.sSubBtnLabelSave),this.sSubBtnLabelSave=!1),this.sRejectBtnLabelSave&&(this.$rejectBtnLabel.html(this.sRejectBtnLabelSave),this.sRejectBtnLabelSave=!1);var e=this;this.$addBtn.off("click").removeClass("loading").css("opacity","1").on("click",function(t){t.preventDefault(),e.sub()}),this.$rejectBtn.off("click").removeClass("loading").css("opacity","1").on("click",function(t){t.preventDefault(),e.reject()})},c.prototype.sub=function(){var t=this,i=function(e){t.setTooltip(t.$addBtn,e.message)};o.follow(t.sUserName,t.sCsrf,function(){t.setReview(e.REVIEW.ADDED),t.triggerEvent(e.EVENT.REVIEW_UPDATE),t.setChannelActionsCancel(e.ACTION.SUBSCRIBE)},i)},c.prototype.reject=function(){var t=this,i=function(e){t.setTooltip(t.$rejectBtn,e.message)};o.reject(t.sUserName,t.sCsrf,function(){t.setReview(e.REVIEW.REJECTED),t.triggerEvent(e.EVENT.REVIEW_UPDATE),t.setChannelActionsCancel(e.ACTION.REJECT)},i)},c.prototype.setChannelActionsCancel=function(t){if(this.sCancellableAction=t,this.$addBtn&&0!==this.$addBtn.length&&this.$rejectBtn&&0!==this.$rejectBtn.length){this.$renderThumbLink.off("click").on("click",function(e){e.preventDefault()});var i,n,a;this.sCancellableAction===e.ACTION.SUBSCRIBE?(this.sSubBtnLabelSave=this.$addBtnLabel.html(),i=this.$addBtn,n=this.$addBtnLabel,a=this.$rejectBtn):(this.sRejectBtnLabelSave=this.$rejectBtnLabel.html(),i=this.$rejectBtn,n=this.$rejectBtnLabel,a=this.$addBtn),a.off("click").css({opacity:"0.5"}),n.html(s.__("misc.cancel"));var r=this;i.addClass("loading").off("click").on("click",function(){r.setReview(e.REVIEW.UNREVIEWED),r.triggerEvent(e.EVENT.REVIEW_UPDATE),o.unfollow(r.sUserName,r.sCsrf,function(){r.setChannelActionSubAndReject()})}),this.tCancelTimeout=setTimeout(function(){r.tCancelTimeout=null,r.triggerEvent(e.EVENT.REVIEW_UPDATE_VALIDATED)},this.oOptions.iCancelTimeout)}},c}),define("text!skins/common/sub_suggestions/suggestList/suggestListChannel.mustache",[],function(){return'<div class="suggest-list-block">\n\t{{#has_suggests_title}}\n\t\t<h3 class="suggest-list-title">\n\t\t\t<span class="title">{{{ suggests_title }}}</span>\n\t\t\t<span class="added-removed">{{{ added_removed_total }}}</span>\n\t\t</h3>\n\t{{/has_suggests_title}}\n\t{{! mozaique }}\n</div>'}),define("skins/common/sub_suggestions/suggestList/suggestListChannel",["../suggestList","../suggestBlock","../suggestBlock/suggestChannel","config/main","mustache","lib/tools","lib/i18n!front","skins/common/profile/sub_overlay","text!./suggestListChannel.mustache"],function(e,t,i,n,s,o,a,r,l){var u=function(i){e.apply(this,[i]),o.initParams(this.oOptions,i,u.DEFAULT_OPTIONS),this.oSuggestsReview={},this.oSuggestsCount={};for(var n in t.REVIEW)this.oSuggestsCount[t.REVIEW[n]]=0};return u.DEFAULT_OPTIONS={bShowTitleAndCounters:!0,bUseAnimations:!0,bDisplay2RowsWhenReview:!0,oTemplates:{sTplList:l},oUrls:{sLoad:"/feed/channels",sListAdded:"/account/subscriptions/channels",sListRejected:"/account/subscriptions/not-interested"}},u.EVENT={},u.prototype=Object.create(e.prototype),u.prototype.constructor=u,u.prototype.onMainDataLoad=function(e){if(this.setReviewCount(t.REVIEW.ADDED,"number"==typeof e.nb_chans_added?e.nb_chans_added:0),this.setReviewCount(t.REVIEW.REJECTED,"number"==typeof e.nb_chans_rejected?e.nb_chans_rejected:0),this.setReviewCount(t.REVIEW.UNREVIEWED,"number"==typeof e.nb_chans_disp?e.nb_chans_disp:0),this.updateReviewRenderCounts(),e.subs&&e.subs.length)for(var i in e.subs)this.addSuggest(this.buildSuggestFromJSON(e.subs[i]));else this.bIsLoadMaxReached=!0},u.prototype.buildSuggestFromJSON=function(n,s){var o=e.prototype.buildSuggestFromJSON.apply(this,[n,s,i]);return o.setReview(t.REVIEW.UNREVIEWED),o},u.prototype.addSuggest=function(t){return this.updateReviewCounts(t),e.prototype.addSuggest.apply(this,[t])},u.prototype.updateReviewCounts=function(e){var t=this.oSuggestsReview[e.getId()],i=e.getReview();if(!this.isValidReview(i))throw new Error('SuggestListChannel updateReviewCounts "'+i+'" not a valide Review State.');if("string"==typeof t){if(t===i)return;this.oSuggestsCount[t]--,this.oSuggestsCount[i]++}this.oSuggestsReview[e.getId()]=i},u.prototype.getTplList=function(){if(null===this.oOptions.oTemplates.sTplList)throw new Error('Function "sTplList" not set');return this.oOptions.oTemplates.sTplList},u.prototype.render=function(){if(this.$render)return this.$render;var t=this.oOptions.bShowTitleAndCounters,i=t?0===this.countUnreviewed()?a.__("xnxx"===n.siteName?"premium_feed.here_some_uploaders":"premium_feed.here_some_channels"):a.__("xnxx"===n.siteName?"premium_feed.uploaders_left_to_review":"premium_feed.channels_left_to_review",{"%count%":'<strong class="feed-nb-channels-unreviewed">'+this.countUnreviewed(!0)+"</strong>"}):"",o=t?a.__("xnxx"===n.siteName?"":"premium_feed.channels_added_removed_total",{"%link_added%":'<a href="'+this.oOptions.oUrls.sListAdded+'" class="suggest-list-added">',"%link_removed%":'<a href="'+this.oOptions.oUrls.sListRejected+'" class="suggest-list-rejected">',"%link_end%":"</a>","%nb_added%":'<strong class="suggest-list-added-count">'+this.countAdded(!0)+"</strong>","%nb_removed%":'<strong class="suggest-list-rejected-count">'+this.countRejected(!0)+"</strong>","%nb_total%":'<strong class="suggest-list-total-count">'+this.countTotal(!0)+"</strong>"},"xnxx"===n.siteName?"%link_added%<span class='icon-f icf-plus-circle'></span> %nb_added%%link_end% / %link_removed%<span class='icon-f icf-minus-circle'></span> %nb_removed%%link_end%":""):"";this.$render=$(s.render(this.getTplList(),{has_suggests_title:t,suggests_title:i,added_removed_total:o})),this.$addedChannels=this.$render.find(".suggest-list-added"),this.$rejectedChannels=this.$render.find(".suggest-list-rejected");var l=this;this.$addedChannels&&this.$addedChannels.length&&this.$addedChannels.on("click",function(e){e.preventDefault(),r.setOverlay({sUrl:l.oOptions.oUrls.sListAdded,fnOnListUpdate:function(){l.resetAndLoad()}})}),this.$rejectedChannels&&this.$rejectedChannels.length&&this.$rejectedChannels.on("click",function(e){e.preventDefault(),r.setOverlay({sUrl:l.oOptions.oUrls.sListRejected,fnOnListUpdate:function(){l.resetAndLoad()}})}),this.$countAddedChannels=this.$render.find(".suggest-list-added-count"),this.$countRejectedChannels=this.$render.find(".suggest-list-rejected-count"),this.$countUnreviewedChannels=this.$render.find(".feed-nb-channels-unreviewed"),this.$countTotalChannels=this.$render.find(".suggest-list-total-count"),this.onEvent(e.EVENT.REVIEW_UPDATE_VALIDATED,function(){l.updateReviewRenderCounts()},"callback_updateRenderReviewCount");var u=this.renderMozaique(this);return this.$render.append(u),this.$render},u.prototype.updateReviewRenderCounts=function(){this.$countAddedChannels&&this.$countAddedChannels.length&&this.$countAddedChannels.html(this.countAdded()),this.$countRejectedChannels&&this.$countRejectedChannels.length&&this.$countRejectedChannels.html(this.countRejected()),this.$countUnreviewedChannels&&this.$countUnreviewedChannels.length&&this.$countUnreviewedChannels.html(this.countUnreviewed()),this.$countTotalChannels&&this.$countTotalChannels.length&&this.$countTotalChannels.html(this.countTotal())},u.prototype.setOnListUpdate=function(e){this.fnOnListUpdate="function"==typeof e?e:null},u.prototype.setReviewCount=function(e,t){if(!this.isValidReview(e))throw new Error('SuggestListChannel setReviewCount "'+e+'" not a valide Review State.');this.oSuggestsCount[e]=t},u.prototype.countAdded=function(e){var i=this.oSuggestsCount[t.REVIEW.ADDED];return e?i.toLocaleString(n.dyn.locale):i},u.prototype.countRejected=function(e){var i=this.oSuggestsCount[t.REVIEW.REJECTED];return e?i.toLocaleString(n.dyn.locale):i},u.prototype.countUnreviewed=function(e){var i=this.oSuggestsCount[t.REVIEW.UNREVIEWED];return e?i.toLocaleString(n.dyn.locale):i},u.prototype.countTotal=function(e){var t=0;for(var i in this.oSuggestsCount)t+=this.oSuggestsCount[i];return e?t.toLocaleString(n.dyn.locale):lidObjectOption(t.REVIEW,e)},u.prototype.isValidEvent=function(i){return t.isValidObjectOption(u.EVENT,i)||e.prototype.isValidEvent.apply(this,[i])},u.prototype.getMozaiqueErrorMessage=function(){return a.__("loading.channels_suggests_error")},u.prototype.replaceUserRender=function(i,n,s){if(!this.oOptions.bShowTitleAndCounters||!this.oOptions.bUseAnimations)return e.prototype.replaceUserRender.apply(this,[i,n]);var o=i.renderThumb();o.find("*),"function"==typeof s&&s()};if(n instanceof t){var l=n.renderThumb();r=function(){l.css("opacity","0"),o.replaceWith(l),l.animate({opacity:1}),"function"==typeof s&&s()}}var u=i.getReview()===t.REVIEW.ADDED?this.$countAddedChannels:this.$countRejectedChannels,c=u.offset(),f=o.offset(),d=Math.round(c.left+u.outerWidth()/2-(f.left+o.outerWidth()/2)),h=Math.round(c.top+u.outerHeight()/2-(f.top+o.outerHeight()/2));o.stop().delay(200).css({position:"relative","transform-origin":"50% 50%","z-index":"2"}).animate({"datapx) scale("+(1-e+.1*e)+")")},complete:r})},u.prototype.onSuggestBlockReviewUpdate=function(t){this.updateReviewCounts(t),e.prototype.onSuggestBlockReviewUpdate.apply(this,[t])},u.prototype.onSuggestBlockReviewValidated=function(t){this.updateReviewCounts(t),e.prototype.onSuggestBlockReviewValidated.apply(this,[t]);vation(){i.setRender2Rows()})})},u.prototype.getLastValidatedReview=function(){return this.sLastValidatedReview},u}),define("text!skins/common/sub_suggestions/suggestBlock/thumb_membership.mustache",[],function(){
return'<div id="profile_{{ sUserName }}" class="thumb-block thumb-block-premium-feed-channel is-membership">\n\t<div class="thumb-inside">\n\t\t<div class="thumb">\n\t\t\t<a href="{{ sUrl }}">\n\t\t\t\t<img src="{{ sThumb }}" id="pic_{{ sUserName }}"{{#bIsPicListingTypeProfile}} class="profile-pic"{{/bIsPicListingTypeProfile}} onerror="this.src=\'{{ sDefaultThumbPic }}\'; this.onerror=null;"/>\n\t\t\t\t<span class="profile-name">{{{ sDisplayName }}}</span>\n\t\t\t\t{{#sNbVideosVal}}\n\t\t\t\t\t<span class="profile-counts">{{{ sNbVideosVal }}}</span>\n\t\t\t\t{{/sNbVideosVal}}\n\t\t\t\t<span class="top-right-tags"><span class="is-membership-mark icon-f icf-crown"></span></span>\n\t\t\t\t<span class="profile-hover">\n                    <span class="label">\n\t                    <span class="icon-f icf-eye"></span>\n\t                    {{{ sClickPreview }}}\n                    </span>\n                </span>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n\t<div class="thumb-under">\n\t\t{{#sUserPic}}\n\t\t\t<img class="profile-pic" src="{{ sUserPic }}" onerror="this.src=\'{{ sDefaultProfilPic }}\'; this.onerror=null;">\n\t\t{{/sUserPic}}\n\t\t<p class="channel-actions">\n\t\t\t<button class="btn btn-primary sub" type="button">\n\t\t\t\t<span class="label">\n\t\t\t\t\t<span class="is-membership-mark icon-f icf-crown"></span>\n\t\t\t\t\t{{ sMonthPrice }}<sup>/{{ sMonth }}</sup>\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t\t<button class="btn btn-default reject" type="button">\n\t\t\t\t<span class="label"><span class="icon-f icf-ban mobile-only-hide"></span> {{{ sNotInterested }}}</span>\n\t\t\t\t<span class="ticket-rip"></span>\n\t\t\t</button>\n\t\t</p>\n\t</div>\n</div>'}),define("skins/common/purchase_form/purchull,this.fnOnFormClose=null};return e.prototype={setPreventScrollToTop:function(e){this.bPreventScrollToTop=e},setVideoId:function(e){this.sVideoId=e},setUserId:function(e){this.sUserId=e},setOrigin:function(e){this.sOrigin=e},setOnFormLoadedEnd:function(e){this.fnOnFormLoadedEnd=e},setOnCloseCallback:function(e){this.fnOnFormClose=e,this.oForm&&"function"==typeof this.oForm.setOnCloseCallback&&"function"==typeof this.fnOnFormClose&&this.oForm.setOnCloseCallback(this.fnOnFormClose)},open:function(){var e=this;require(["skins/common/form/login/premium"],function(t){e.oForm=new t(e.sUserId,e.sVideoId,e.sOrigin,e.bPreventScrollToTop),"function"==typeof e.fnOnFormLoadedEnd&&(e.oForm.onFormLoadedEnd=function(t){e.fnOnFormLoadedEnd(t)}),"function"==typeof e.fnOnFormClose&&e.oForm.setOnCloseCallback(e.fnOnFormClose),e.oForm.open()})}},e}),define("skins/common/sub_suggestions/suggestBlock/suggestMembership",["../suggestBlock","config/main","mustache","lib/tools","lib/i18n!front","lib/helpers/overlay/box","lib/helpers/thumbs/wall","lib/helpers/inline_loader","lib/helpers/overlay/contextual_popup","skins/common/profile/sub_actions","text!./thumb_membership.mustache","text!skins/common/premium_feed/channel_preview.mustache","text!skins/common/premium_feed/channel_preview_mozaique_tbs.mustache","text!skins/common/premium_feed/cover_loader.mustache"],function(e,t,i,n,s,o,a,r,l,u,c,f,d,h){var p=function(t){e.apply(this,[t]),n.initParams(this.oOptions,t,p.DEFAULT_OPTIONS)};return p.DEFAULT_OPTIONS={sPurchaseOrigin:null,oTemplates:{sTplThumbBlock:c,sTplPopPreview:f,sTplPopPreviewThumb:iId+"/membership-videos/"+t}},oOnDataLoaviewVideos:function(e){self}}},p.prototype=Object.create(e.prototype),p.prototype.constructor=p,p.buildFromJSON=function(t,i){var n=e.buildFromJSON(t,new p(i),i);return n.setPrice(t.mbp).setDisplayPrice(t.mbpf).setNbVideosMembership(t.cnt.b),n},p.prototype.setPrice=function(e){return this.iPrice="number"==typeof e?e:0,this},p.prototype.setDisplayPrice=function(e){return this.sDisplayPrice=e,this},p.prototype.setNbVideosMembership=function(e){return this.iNbVideosMembership="number"==typeof e?e:0,this},p.prototype.setNbVideosMembershipNoAccess=function(e){return this.iNbVideosMembershipNoAccess="number"==typeof e?e:0,this},p.prototype.setLastUpdate=function(e){return this.sLastUpdate=e,this},p.prototype.setLastChatUpdate=function(e){return this.sLastChatUpdate=e,this},p.prototype.getTplData=function(){var t=e.prototype.getTplData.apply(this);return t.sMonthPrice=this.sDisplayPrice,t.sMonth=s.__("misc.month_l"),t},p.prototype.onPopPreviewLoadedMore=function(e,i,n){if(n){this.setLastUpdate(e.last_update),this.setLastChatUpdate(e.last_chat_activity),this.setNbVideosMembershipNoAccess(e.nb_videos_no_access),i.find(".last-update-ago").html(this.sLastUpdate),i.find(".last-chat-act-ago").html(this.sLastChatUpdate),i.find(".membership-info-videos .nb-videos").html(s.__((this.iNbVideosMembership,"misc.nb_videos"),{"%count%":"<strong>"+this.iNbVideosMembership.toLocaleString(t.dyn.locale)+"</strong>"})),i.find(".membership-info-videos .no-access").html(s.__((this.iNbVideosMembershipNoAccess,"misc.nb_videos"),{"%count%":"<strong>"+this.iNbVideosMembershipNoAccess.toLocaleString(t.dyn.locale)+"</strong>"})),i.find(".membership-info-detail-videos").html(this.iNbVideosMembership>1?s.__("video.nb_included",{"%count%":"<strong>"+this.iNbVideosMembership.toLocaleString(t.dyn.locale)+"</strong>"}):s.__("video.one_included")),i.find(".membership-info-detail-no-access").html(this.iNbVideosMembershipNoAccess>1?s.__("video.nb_not_access",{"%count%":"<strong>"+this.iNbVideosMembershipNoAccess.toLocaleString(t.dyn.locale)+"</strong>"}):1===this.iNbVideosMembershipNoAccess?s.__("video.one_not_access"):s.__("video.none_access"));var o=i.find(".membership-info-detail-hover"),a=i.find(".membership-info-denco.off("mouseout mimeout(function()l&&(clearTimeout(l),l=null)}),a.on("click",function(e){e.preventDefault(),u()}),i.find(".membership-info-detail .close").on("click",function(e){e.preventDefault(),c()})}},p.prototype.getPopPreviewData=function(){return{channel_pic_src:this.sUserPic,channel_title:this.sDisplayName,mozaique:i.render(this.getTplPopPreviewThumb(),{video_list:this.aVideos}),cover_loader:i.render(h),href:this.sUrl,sub_btn_class:this.$addBtn.prop("class"),reject_btn_class:this.$rejectBtn.prop("class"),sub_btn:this.$addBtn.html(),reject_btn:this.$rejectBtn.html(),channel_page_title:s.__("profile.channel_page"),channel_page:s.__("profile.channel_page"),membership_info:{nb_videos:s.__("misc.nb_videos",{"%count%":"<strong>...</strong>"}),nb_videos_no_access:s.__("misc.nb_videos",{"%count%":"<strong>...</strong>"}),last_update:'<span class="last-update-ago">...</span>',last_chat:'<span class="last-chat-act-ago">...</span>',detail_videos:s.__("misc.nb_included",{"%count%":"<strong>...</strong>"}),detail_no_access:s.__("video.nb_not_access",{"%count%":"<strong>...</strong>"}),detail_last_update:s.__("misc.last_update")+' : <strong class="last-update-ago">...</strong>',detail_last_chat:s.__("profile.last_chat_activity")+' : <strong class="last-chat-act-ago">...</strong>'}}},p.prototype.initThumbEvents=function(){if(this.$render&&this.$render.length){this.$renderThumbLink=this.$render.find(".thumb a"),this.$addBtn=this.$render.find(".sub"),this.$addBtnLabel=this.$addBtn.find(".label"),this.$rejectBtn=this.$render.find(".reject"),this.$rejectBtnLabel=this.$rejectBtn.find(".label");var e=this;this.$renderThumbLink.on("click",function(t){t.preventDefault(),e.openPopPreview()}),this.setChannelActionSubAndReject()}},p.prototype.setChannelActionSubAndReject=function(){this.tCancelTimeout&&(clearTimeout(this.tCancelTimeout),this.tCancelTimeout=null),this.sSubBtnLabelSave&&(this.$addBtnLabel.html(this.sSubBtnLabelSave),this.sSubBtnLabelSave=!1),this.sRejectBtnLabelSave&&(this.$rejectBtnLabel.html(this.sRejectBtnLabelSave),this.sRejectBtnLabelSave=!1);var e=this;this.$addBtn.off("click").removeClass("loading").css("opacity","1").on("click",function(t){t.preventDefault(),e.membershipSub()}),this.$rejectBtn.off("click").removeClass("loading").css("opacity","1").on("click",function(t){t.preventDefault(),e.reject()})},p.prototype.membershipSub=function(){this.$addBtn.off("click"),this.$rejectBtn.off("click");var e=l.loading(),t=this;require(["skins/common/purchase_form/purchase_pop"],function(i){var n=new i;n.setUserId(t.getId()),"string"==typeof t.oOptions.sPurchaseOrigin&&n.setOrigin(t.oOptions.sPurchasembership-channel").submit()}),n.setOnCloseCallback(function(){t.setChannelActionSubAndReject()}),n.open()})},p.prototype.retip(t.$rejectBtn,e.message)};u.rejectMeionsCancel(e.ACTION.REJECT)},i)},p.prototype.setChannelActionsCancel=function(t){if(this.sCancellableAction=t,this.$addBtn&&0!==this.$addBtn.length&&this.$rejectBtn&&0!==this.$rejectBtn.length){this.$renderThumbLink.off("click").on("click",function(e){e.preventDefault()});var i,n,o;this.sCancellableAction===e.ACTION.SUBSCRIBE?(this.sSubBtnLabelSave=this.$addBtnLabel.html(),i=this.$addBtn,n=this.$addBtnLabel,o=this.$rejectBtn):(this.sRejectBtnLabelSave=this.$rejectBtnLabel.html(),i=this.$rejectBtn,n=this.$rejectBtnLabel,o=this.$addBtn),o.off("click").css({opacity:"0.5"}),n.html(s.__("misc.cancel"));var a=this;i.addClass("loading").off("click").on("click",function(){a.setReview(e.REVIEW.UNREVIEWED),a.triggerEvent(e.EVENT.REVIEW_UPDATE),u.unfollowMembership(a.sUserName,a.sCsrf,function(){a.setChannelActionSubAndReject()})}),thNT.REVIEW_UPDATE_VALIDATED)},this.oOptions.iCancelTimeout)}},p}),define("skins/common/sub_suggestions/suggestList/suggestListMembership",["../suggestList","../suggestBlock","../suggestBlock/suggestMembership","config/main","mustache","lib/tools","lib/i18n!front","lib/helpers/scrollbar"],function(e,t,i,n,s,o,a,r){var l=function(t){e.apply(this,[t]),o.initParams(this.oOptions,t,l.DEFAULT_OPTIONS)};return l.DEFAULT_OPTIONS={bUseAnimations:!0,sPurchaseOrigin:null,oUrls:{sLoad:"/feed/memberships"}},l.EVENT={},l.prototype=Object.create(e.prototype),l.prototype.constructor=l,l.prototype.onMainDataLoad=function(e){if(e.memberships&&e.memberships.length)for(var t in e.memberships)this.addSuggest(this.buildSuggestFromJSON(e.memberships[t]));else this.bIsLoadMaxReached=!0},l.prototype.buildSuggestFromJSON=function(t,n){return n||"object"==typeof n||(n={}),"string"==typeof this.oOptions.sPurchaseOrigin&&(n.sPurchaseOrigin=this.oOptions.sPurchaseOrigin),e.prototype.buildSuggestFromJSON.apply(this,[t,n,i])},l.prototype.render=function(){return this.$render?this.$render:(this.$render=this.renderMozaique(this),this.$render)}"function"==typeof e?e:null},l.protomembership_suggests_error")},l.prototype.onSuggestBlockReviewValidated=function(t){e.prototype.onSuggestBlockReviewValidated.apply(this,[t]);var i=this;this.getNextSuggest(functio2Rows()&&i.setRender2Rows()})})},l.prototype.replaceUserRender=function(i,n){if(!this.oOptions.bUseAnimations)return e.prototype.replaceUserRender.apply(this,[i,n]);var s=i.renderThumb(),o=this;s.find("*").off("click"),s.animate({opacity:0},function(){if(n instanceof t){var e=n.renderThumb();e.css("opacity","0"),s.replaceWith(e),e.animate({opacity:1},function(){o.setRender2Rows()})}else o.removeSuggestToMozaique(s)})},l}),define("text!skins/common/premium_feed/categories_filter_resume.mustache",[],function(){return'<div class="categories-filter-resume">\n\t<h3>{{{ title }}} <button type="button" class="btn btn-default reset"><span class="icon-f icf-close"></span> {{{ reset }}}</button></h3>\n\t<div class="row cat-list">\n\t\t<div class="col-xs-6">\n\t\t\t<button type="button" class="btn btn-lg btn-default add"><span class="icon-f icf-plus-square icf-white-fill"></span></button>\n\t\t</div>\n\t\t<div class="col-xs-6">\n\t\t\t<button type="button" class="btn btn-lg btn-default exclude"><span class="icon-f icf-minus-square icf-white-fill"></span></button>\n\t\t</div>\n\t\t{{^empty_list_text}}\n\t\t\t<div class="col-xs-6">\n\t\t\t\t{{#add_list}}\n\t\t\t\t\t<p data-id="{{{ id }}}">\n\t\t\t\t\t\t<button type="button" class="btn btn-default remove" data-id="{{{ id }}}"><span class="icon-f icf-close"></span></button>\n\t\t\t\t\t\t<span class="label">{{{ name }}}</span>\n\t\t\t\t\t</p>\n\t\t\t\t{{/add_list}}\n\t\t\t</div>\n\t\t\t<div class="col-xs-6">\n\t\t\t\t{{#exclude_list}}\n\t\t\t\t\t<p data-id="{{{ id }}}">\n\t\t\t\t\t\t<button type="button" class="btn btn-default remove" data-id="{{{ id }}}"><span class="icon-f icf-close"></span></button>\n\t\t\t\t\t\t<span class="label">{{{ name }}}</span>\n\t\t\t\t\t</p>\n\t\t\t\t{{/exclude_list}}\n\t\t\t</div>\n\t\t{{/empty_list_text}}\n\t\t{{#empty_list_text}}\n\t\t\t<p class="empty">{{{ empty_list_text }}}</p>\n\t\t{{/empty_list_text}}\n\t</div>\n\t<p class="close"><button type="button" class="btn btn-primary">{{{ ok }}}</button></p>\n</div>'}),define("text!skins/common/premium_feed/categories_filter_update_list.mustache",[],function(){return'<div class="categories-filter-update-list {{{ list_id }}}">\n\t<h3><span class="icon-f icf-minus-square icf-white-fill"></span><span class="icon-f icf-plus-square icf-white-fill"></span> {{{ title }}}</h3>\n\t<div class="row cat-list mobile-hide">\n\t\t{{#lists_3_cols}}\n\t\t<div class="col-xs-4">\n\t\t\t{{#list}}\n\t\t\t\t<p data-id="{{{ id }}}" class="{{{ status }}}">\n\t\t\t\t\t<button type="button" class="btn btn-default action" data-id="{{{ id }}}"><span class="icon-f icf-square"></span><span class="icon-f icf-minus-square"></span><span class="icon-f icf-plus-square"></span> <span class="label">{{{ name }}}</span></button>\n\t\t\t\t</p>\n\t\t\t{{/list}}\n\t\t</div>\n\t\t{{/lists_3_cols}}\n\t</div>\n\t<div class="row cat-list mobile-show">\n\t\t{{#lists_2_cols}}\n\t\t<div class="col-xs-6">\n\t\t\t{{#list}}\n\t\t\t\t<p data-id="{{{ id }}}" class="{{{ status }}}">\n\t\t\t\t\t<button type="button" class="btn btn-default action" data-id="{{{ id }}}"><span class="icon-f icf-square"></span><span class="icon-f icf-minus-square"></span><span class="icon-f icf-plus-square"></span> <span class="label">{{{ name }}}</span></button>\n\t\t\t\t</p>\n\t\t\t{{/list}}\n\t\t</div>\n\t\t{{/lists_2_cols}}\n\t</div>\n\t<p class="close"><button type="button" class="btn btn-primary">{{{ ok }}}</button></p>\n</div>'}),define("text!skins/common/premium_feed/categories_review.mustache",[],function(){return'<div class="categories-review">\n\t<h2>{{{ title }}}</h2>\n\n\t<div class="cats-row">\n\t\t{{#cols}}\n\t\t\t<div class="cats-col">\n\t\t\t\t<h3>{{{ col_title }}}</h3>\n\t\t\t\t<div class="cats{{^col_cats}} empty{{/col_cats}}">\n\t\t\t\t\t{{#col_cats}}\n\t\t\t\t\t\t<p data-id="{{{ id }}}">{{{ name }}}</p>\n\t\t\t\t\t{{/col_cats}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{{/cols}}\n\t</div>\n\n\t<button type="button" class="btn btn-primary ok">{{{ ok }}}</button>\n</div>'}),define("text!skins/common/premium_feed/category_review.mustache",[],function(){return'<div class="category-review">\n\t<h2>\n\t\t<a href="{{{ href }}}" title="{{{ category_page }}}" class="btn btn-default" target="_blank">{{{ category_page }}}</a>\n\t\t<span class="label">{{{ category_title }}}</span>\n\t</h2>\n\n\t<div class="category-actions">\n\t\t<p>\n\t\t\t<button class="btn btn-primary sub" type="button">{{{ sub_btn }}}</button>\n\t\t\t<span><span class="icon-f icf-info-circle"></span> {{{ sub_desc }}}</span>\n\t\t</p>\n\t\t<p>\n\t\t\t<button class="btn btn-primary sub-in-chan" type="button">{{{ sub_in_chan_btn }}}</button>\n\t\t\t<span><span class="icon-f icf-info-circle"></span> {{{ sub_in_chan_desc }}}</span>\n\t\t</p>\n\t\t<p>\n\t\t\t<button class="btn btn-default unsub" type="button">{{{ unsub_btn }}}</button>\n\t\t\t<span><span class="icon-f icf-info-circle"></span> {{{ unsub_desc }}}</span>\n\t\t</p>\n\t\t<p>\n\t\t\t<button class="btn btn-default reject" type="button">{{{ reject_btn }}}</button>\n\t\t\t<span><span class="icon-f icf-info-circle"></span> {{{ reject_desc }}}</span>\n\t\t</p>\n\t</div>\n\t<p>\n\t\t<button type="button" class="btn btn-default cancel">{{{ cancel }}}</button>\n\t</p>\n</div>'}),define("text!skins/common/premium_feed/containers.mustache",[],function(){return'<button id="hide-suggests" class="hide-suggests btn btn-xs btn-default">{{{ hide_suggests }}}</button>\n<div class="clearfix"></div>\n\n<div id="feed-videos-filters">\n\t<p>{{{ showing_x_vids }}}{{{ new_videos_channels }}}</p>\n\t{{{ filters }}}\n</div>\n<div id="feed-videos"></div>\n\n<button id="hide-suggests-2" class="hide-suggests btn btn-xs btn-default">{{{ hide_suggests }}}</button>\n<div class="clearfix"></div>'}),define("text!skins/common/premium_feed/free_search.mustache",[],function(){return'<div class="free-search-filter">\n\t<h3>\n\t\t<span class="icon-f icf-search"></span> {{{ title }}}\n\t</h3>\n\t<div class="input-group">\n\t\t<input type="text" class="form-control" placeholder="{{{ placeholder }}}"{{#value}} value="{{{ value }}}"{{/value}}/>\n\t\t<span class="input-group-btn">\n            <button class="btn btn-primary ok" type="button">{{{ ok }}}</button>\n        </span>\n\t</div>\n\t<p>\n\t\t<button type="button" class="btn btn-default clear"><span class="icon-f icf-trash"></span> {{{ clear }}}</button>\n\t\t<button type="button" class="btn btn-default cancel">{{{ cancel }}}</button>\n\t</p>\n</div>'}),define("text!skins/common/premium_feed/min_length_filter.mustache",[],function(){return'<div class="free-min-length-filter">\n\t<h3>\n\t\t<span class="icon-f icf-clock"></span> {{{ title }}}\n\t</h3>\n\t<div class="form-range">\n\t\t<span class="min">{{ min_label }}</span>\n\t\t<span class="max">{{ max_label }}</span>\n\t\t<input type="range" min="{{ min }}" max="{{ max }}" value="{{ value }}" step="1" />\n\t</div>\n\t<p>\n\t\t<button type="button" class="btn btn-primary ok">{{{ ok }}}</button>\n\t\t<button type="button" class="btn btn-default cancel">{{{ cancel }}}</button>\n\t</p>\n</div>'}),define("text!skins/common/premium_feed/other_suggest.mustache",[],function(){return'<div id="{{{ id }}}" class="thumb-block thumb-block-premium-feed-channel thumb-block-premium-feed-other-suggest">\n\t<div class="thumb-inside">\n\t\t<div class="big-button-container">\n\t\t\t<a href="{{ href }}" class="more" target="_blank">\n\t\t\t\t<span>\n\t\t\t\t\t<span class="cat">{{{ category }}}</span>\n\t\t\t\t\t{{{ name }}}\n\t\t\t\t\t<span class="thumbs"><span class="icon-f icf-thumb-up"></span> / <span class="icon-f icf-thumb-down"></span></span>\n\t\t\t\t</span>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n</div>'}),define("text!skins/common/premium_feed/simple_dropdown_menu.mustache",[],function(){return'<div class="simple-dropdown premium-feed-filters">\n\t{{#filters}}\n\n\t\t\t<div class="niv1{{#list.length}} with-niv2{{/list.length}}">\n\t\t\t\t<span class="show-niv2{{#is_reset}} is-reset{{/is_reset}}">\n\t\t\t\t\t{{^is_reset}}<span class="icon-f icf-caret-down"></span>{{/is_reset}}\n\t\t\t\t\t<span class="label" data-filter="{{{ filter }}}">{{#forced_label}}{{{ forced_label }}}{{/forced_label}}{{^forced_label}}{{#list}}{{#active}}{{#label}}{{{ label }}}{{/label}}{{^label}}{{{ name }}}{{/label}}{{/active}}{{/list}}{{/forced_label}}</span>\n\t\t\t\t</span>\n\t\t\t\t{{#list.length}}\n\t\t\t\t\t<div class="niv2 premium-feed-filters">\n\t\t\t\t\t\t<div class="uls">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t{{#list}}\n\t\t\t\t\t\t\t\t\t<li><a href="{{{ href }}}"{{#active}} class="current"{{/active}} data-filter="{{{ filter }}}" data-value="{{{ value }}}">{{{ name }}}</a></li>\n\t\t\t\t\t\t\t\t{{/list}}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{{/list.length}}\n\t\t\t</div>\n\n\t{{/filters}}\n</div>'}),define("skins/common/premium_feed",["config/main","mustache","lib/tools","static/utils","static/dom","static/thumbs","static/storage","lib/i18n!front","lib/helpers/overlay/box","lib/helpers/thumbs/wall","lib/helpers/inline_loader","lib/helpers/overlay/contextual_popup","lib/helpers/popup/tooltip","skins/common/profile/sub_actions","skins/common/profile/sub_overlay","skins/common/mozaique/simple_dropdown","skins/common/history/page_view_history","skins/common/history/one_info_tracker","skins/common/basic_feature","skins/common/main_cats/switcher","skins/common/sub_suggestions/suggestList","skins/common/sub_suggestions/suggestList/suggestListChannel","skins/common/sub_suggestions/suggestList/suggestListMembership","skins/common/sub_suggestions/suggestBlock","text!skins/common/premium_feed/categories_filter_resume.mustache","text!skins/common/premium_feed/categories_filter_update_list.mustache","text!skins/common/premium_feed/categories_review.mustache","text!skins/common/premium_feed/category_review.mustache","text!skins/common/premium_feed/containers.mustache","text!skins/common/premium_feed/cover_loader.mustache","text!skins/common/premium_feed/free_search.mustache","text!skins/common/premium_feed/min_length_filter.mustache","text!skins/common/premium_feed/other_suggest.mustache","text!skins/common/premium_feed/simple_dropdown_menu.mustache"],function(e,t,i,n,s,o,a,r,l,u,c,f,d,h,p,_,m,g,b,v,D,y,w,C,k,x,F,S,E,T,I,P,O,M){var L={categories_filter_resume:k,categories_filter_update:x,categories_review:F,category_review:S,channel_thumb:null,channel_preview:null,channel_preview_thumb_list:null,membership_thumb:null,containers:E,cover_loader:T,free_search_filter:I,min_length_filter:P,other_suggest:O,simple_dropdown:M},A={premium_name:"RED"},N={add_exclude_cats_to_result:"premium_feed.add_exclude_cats_to_result",all:"misc.all",all_content:"misc.all_content",all_qualities:"listing.all_qualities",cancel:"misc.cancel",cat_content_no_longer_offered:"premium_feed.cat_content_no_longer_offered",cat_no_longer_offered:"premium_feed.cat_no_longer_offered",categories:"video.categories",category:"category",categories_added:"premium_feed.categories.added",categories_added_in_channels:"premium_feed.categories.added_in_channels",categories_ignored:"premium_feed.categories.ignored",categories_rejected:"premium_feed.categories.rejected",categories_unreviewed:"premium_feed.categories.unreviewed",category_page:"video.category_page",category_dont_show_it_again:"video.category.dont_show_it_again",channel_page:"profile.channel_page",channels_added_removed_total:"premium_feed.channels_added_removed_total",channels_left_to_review:"premium_feed.channels_left_to_review",clear:"search.clear",direct_purchase:"premium.direct_purchase",direct_purchase_short:"premium.direct_purchase",duration_minutes_min:"video.duration_minutes_min",filter_add_categories:"premium_feed.filter_add_categories",filter_exclude_categories:"premium_feed.filter_exclude_categories",filters_restrict_results:"search.filters_restrict_results",free:"misc.free",free_only:"videos.free_vids",free_videos:"videos.free_vids",free_videos_short:"misc.free",here_some_channels:"premium_feed.here_some_channels",hide_suggests:"premium_feed.hide_suggests",membership:"profile.membership",membership_short:"profile.membership",min_length_title_free:"premium_feed.minimum_duration_of_free_videos",min_length_title_premium:"premium_feed.minimum_duration_of_site_videos",minimum_duration:"video.duration",nb_mins_long:"misc.nb_mins_long",new_channel_added_since_last_visit:"premium_feed.new_channel_added_since_last_visit",new_channels_added_since_last_visit:"premium_feed.new_channels_added_since_last_visit",new_video_added_since_last_visit:"premium_feed.new_video_added_since_last_visit",new_video_channel_added_since_last_visit:"premium_feed.new_video_channel_added_since_last_visit",new_video_channels_added_since_last_visit:"premium_feed.new_video_channels_added_since_last_visit",new_videos_added_since_last_visit:"premium_feed.new_videos_added_since_last_visit",new_videos_channel_added_since_last_visit:"premium_feed.new_videos_channel_added_since_last_visit",new_videos_channels_added_since_last_visit:"premium_feed.new_videos_channels_added_since_last_visit",not_interested:"misc.not_interested",ok:"misc.OK",older_videos:"order.oldest_original_date",older_videos_in_premium:"order.oldest_date_added",premium_videos:"videos.premium",premium_videos_short:"premium.premium",random_order:"order.random_order",randomize_again:"order.randomize_again",recent_videos:"order.newest_original_date",recent_videos_in_premium:"order.newest_date_added",red_and_free:"premium_feed.red_and_free",red_only:"videos.red_vids",reset_filters:"search.reset_filters",reset_selection:"misc.reset_selection",search:"search",search_for:"search.for",see_all:"misc.see_all",show_suggests:"premium_feed.show_suggests",showing_vids_out_off_total:"listing.showing_nb_vids",sub_to_cat_global:"premium_feed.sub_to_cat_global",sub_to_cat_in_subbed_channels:"premium_feed.sub_to_cat_in_subbed_channels",sub_to_channels_to_populate:"premium_feed.sub_to_channels_to_populate",sub_to_channels_to_populate_version:"premium_feed.sub_to_channels_to_populate_version",subscribe:"subscriptions.subscribe",subscribe_in_channel:"premium_feed.category.subscribe_in_channel",subscription_date:"premium_feed.subscription_date",unwatched_videos_only:"listing.unwatched_videos_only",watched_videos_only:"listing.watched_videos_only",welcome:"legal.disclaimer.vpn_detect.welcome",welcome_content:"premium_feed.welcome_to_custom_homepage"},R={channels_added_removed_total:""},U={reject_cat:"ban",sub_cat:!1,sub_cat_in_chan:!1,unsub_cat:"eye-blocked"},B={account_subscriptions:"/account/subscriptions/channels",account_not_interested:"/account/subscriptions/not-interested",hash_red:"#red",hash_red_and_free:"#red-and-{page_init_end:function(e){},get_channel_top_title:function(e){},append_channel_videos:function(e,t){},init_videos_list:function(e){},init_desktop_channel_videos:function(e){},add_pagination:function(e){},suggest_launch_wizard:function(){},fnMakeMembershipPageUrl:function(e){return e}},H=function(t){if(this.bNoCatSuggests=!0,e.data.user_cats=[],this.$PageContainer=$("#page-videos-content"),0===this.$PageContainer.length)return!1;if(this.oOptions=j,this.oTexts=A,this.oTranslations=N,this.oIcfs=U,this.oForcedTranslations=R,this.oTemplates=L,this.oUrls=B,this.oFunctions=V,void 0!==t){if("undefined"!=typeof t.options)for(var i in t.options)"undefined"!=typeof this.oOptions[i]&&(this.oOptions[i]=t.options[i]);if("undefined"!=typeof t.texts)for(var n in t.texts)"undefined"!=typeof this.oTexts[n]&&(this.oTexts[n]=t.texts[n]);if("undefined"!=typeof t.translations)for(var s in t.translations)"undefined"!=typeof this.oTranslations[s]&&(this.oTranslations[s]=t.translations[s]);if("undefined"!=typeof t.forced_translations)for(var o in t.forced_translations)"undefined"!=typeof this.oForcedTranslations[o]&&(this.oForcedTranslations[o]=t.forced_translations[o]);if("undefined"!=typeof t.icfs)for(var a in t.icon_f)"undefined"!=typeof this.oIcfs[a]&&(this.oIcfs[a]=t.icon_f[a]);if("undefined"!=typeof t.templates)for(var l in t.templates)"undefined"!=typeof this.oTemplates[l]&&(this.oTemplates[l]=t.templates[l]);if("undefined"!=typeof t.urls)for(var u in t.urls)"undefined"!=typeof this.oUrls[u]&&(this.oUrls[u]=t.urls[u]);if("undefined"!=typeof t.functions)for(var c in t.functions)"undefined"!=typeof this.oFunctions[c]&&(this.oFunctions[c]=t.functions[c])}this.iCancelTimeout=3e3,this.iSuggestsCount=0,this.iSuggestsContainerNbRows=1,this.iSuggestsContainerNbRows2=2,this.iMobileSuggestsContainerNbRows=1,this.iMobileSuggestsContainerNbRows2=2,this.iMaxMobileSuggestsContainerNbRows=3,this.iMaxMobileSuggestsContainerNbRows2=6,this.iTooFewChannelsLimit=2,this.iAjaxErrorsCount=0,this.aLoadedSuggests=[],this.aVisibleSuggests=[],this.oFiltersLabels=[],this.iFilterSensitivity="undefined"!=typeof e.data.sensitivity?e.data.sensitivity:0,this.iFilterViewMode="undefined"!=typeof e.data.view_mode?e.data.view_mode:0,this.iFilterSort="undefined"!=typeof e.data.sort?e.data.sort:0,this.iFilterSortRandomize=!1,this.iFilterMinLengthPremium="undefined"!=typeof e.data.premium_min_length?e.data.premium_min_length:0,this.iFilterMinLengthFree="undefined"!=typeof e.data.free_min_length?e.data.free_min_length:0,this.sFilterQuality="undefined"!=typeof e.data.quality?e.data.quality:"360P",this.oFilterCategories={cats:[],excats:[]},this.aShowFreeAvailableFilters=[],this.iDefaultFilterShowFree=0,!e.dyn.login_info.has_memberships||"default"!==e.sitename&&"xnxx"!==e.sitename||(this.aShowFreeAvailableFilters.push("membership"),this.iDefaultFilterShowFree+=4),e.dyn.login_info.is_premium&&(this.aShowFreeAvailableFilters.push("premium"),this.iDefaultFilterShowFree+=2),!e.dyn.login_info.has_ppv_videos||"default"!==e.sitename&&"xnxx"!==e.sitename||(this.aShowFreeAvailableFilters.push("ppv"),this.iDefaultFilterShowFree+=8),this.aShowFreeAvailableFilters.push("free"),this.iDefaultFilterShowFree+=1,this.iFilterShowFree="undefined"!=typeof e.data.show_free?e.data.show_free:this.iDefaultFilterShowFree;var d=g.get("premiumFeed_lastFreeSearchFilter");this.sFilterFreeSearch=d||!1;var h=g.get("premiumFeed_lastCatFilter");if(h&&h.cats&&e.data.categories&&e.data.categories.length>0)for(var p in e.data.categories){var v=e.data.categories[p];-1!==h.cats.indexOf(v.id)?this.oFilterCategories.cats.push(v.id):-1!==h.excats.indexOf(v.id)&&this.oFilterCategories.excats.push(v.id)}this.bHasTooFewVideos=!1,this.oFeatureSuggestOpened=new b(b.S_F_PREMIUM_FEED_CHANNELS),this.oFeatureSuggestOpened.activateLoadingPopup(!1),this.oFeatureSuggestOpened.activateErrorPopup(!1),this.bSuggestsContainerManualShow=this.oFeatureSuggestOpened.isEnabled(),this.oSimpleDropdown=new _;var C=this,k={oTemplates:{},oUrls:{fnCustomSetBlockUrl:this.oFunctions.fnMakeMembershipPageUrl}},x={sPurchaseOrigin:"custom_home_membership",oTemplates:{},oUrls:{fnCustomSetBlockUrl:this.oFunctions.fnMakeMembershipPageUrl}};null!==this.oTemplates.channel_thumb&&(k.oTemplates.sTplThumbBlock=this.oTemplates.channel_thumb),null!==this.oTemplates.membership_thumb&&(x.oTemplates.sTplThumbBlock=this.oTemplates.membership_thumb),null!==this.oTemplates.channel_preview&&(k.oTemplates.sTplPopPreview=this.oTemplates.channel_preview,x.oTemplates.sTplPopPreview=this.oTemplates.channel_preview),null!==this.oTemplates.channel_preview_thumb_list&&(k.oTemplates.sTplPopPreviewThumb=this.oTemplates.channel_preview_thumb_list,x.oTemplates.sTplPopPreviewThumb=this.oTemplates.channel_preview_thumb_list),this.oSuggestListChannel=new y(k),this.oSuggestListChannel.onEvent(D.EVENT.REVIEW_UPDATE_VALIDATED,function(){C.loadVideos()}),this.oSuggestListChannel.onEvent(D.EVENT.LOADED,function(){C.bChannelSuggestLoaded=!0,C.bChannelSuggestDisplayed&&(C.bChannelSuggestWizardDisplayed||(C.bChannelSuggestWizardDisplayed=!0,C.oFunctions.suggest_launch_wizard()))}),this.oSuggestListMembership=new w(x);var F=g.get("premiumFeed_lastPage")||null;0===this.iFilterViewMode||this.isViewModeAvailable()?this.loadVideos(F):f.confirm(r.__("premium_feed.filter_mode",0),C.loadVideos(F)})}),e.data.isFirstVisit&&C.openWelcomePopup(),this.oFunctions.page_init_end(C)}
;return H.prototype={createContainers:function(){if("undefined"==typeof this.$VideosContainer){this.$PageContainer.empty(),this.$PageContainer.append($(t.render(this.oTemplates.containers,{hide_suggests:r.__(this.bSuggestsContainerManualShow?this.oTranslations.hide_suggests:this.oTranslations.show_suggests),showing_x_vids:r.__(this.oTranslations.showing_vids_out_off_total,{"%nb_videos%":'<strong id="feed-nb-videos"></strong>',"%nb_total%":'<strong id="feed-nb-total"></strong>'}),new_videos_channels:e.data.new_videos||e.data.new_channels?" "+r.__(this.oTranslations["new"+(e.data.new_videos>0?e.data.new_videos>1?"_videos":"_video":"")+(e.data.new_channels>0?e.data.new_channels>1?"_channels":"_channel":"")+"_added_since_last_visit"],{"%videos_count%":e.data.new_videos?"<strong>"+e.data.new_videos.toString()+"</strong>":"","%channels_count%":e.data.new_channels?"<strong>"+e.data.new_channels.toString()+"</strong>":""}):"",filters:this.getFiltersHTML()}))),this.$ManualHideSuggestsBtn=this.$PageContainer.children("#hide-suggests"),this.$ManualHideSuggestsBtn2=this.$PageContainer.children("#hide-suggests-2"),this.$VideosContainer=this.$PageContainer.children("#feed-videos"),this.$CountVideos=this.$PageContainer.find("#feed-nb-videos"),this.$CountTotalVideos=this.$PageContainer.find("#feed-nb-total"),this.$VideoFilters=this.$PageContainer.find("#feed-videos-filters"),this.initVideoFilters();var i=this;this.$ManualHideSuggestsBtn.appendTo($(".premium-switch-page-dropdown")),this.$ManualHideSuggestsBtn.add(this.$ManualHideSuggestsBtn2).on("click",function(){i.manualHideShowSuggestsContainers()}),this.updateSuggestLists()}},updateSuggestLists:function(){var e=this.oSuggestListChannel.getLoadedSuggestIds(),t=e.length,i=this.oSuggestListChannel.countAdded()<this.iTooFewChannelsLimit,n=i&&this.bHasTooFewVideos,s=1,o=!this.bSuggestsContainerManualShow,a=this;if(0===t&&this.oSuggestListChannel.canLoadMore())return void this.oSuggestListChannel.load(function(){a.updateSuggestLists()});s=0===t||n?2:1;var l=this.oSuggestListChannel.renderWithSideScroll(),u=this.oSuggestListMembership.renderWithDefaultLimit();this.iSuggestsDisplayMode!==s&&(this.iSuggestsDisplayMode=s,1===this.iSuggestsDisplayMode?(this.$PageContainer.prepend(l),this.$PageContainer.append(u),this.$ManualHideSuggestsBtn.show(),this.$ManualHideSuggestsBtn2.show()):2===this.iSuggestsDisplayMode&&(this.$PageContainer.prepend(l),u.detach(),this.$ManualHideSuggestsBtn.show(),this.$ManualHideSuggestsBtn2.hide()),l.is(":visible")&&(this.bChannelSuggestDisplayed=!0,this.bChannelSuggestLoaded&&(this.bChannelSuggestWizardDisplayed||(this.bChannelSuggestWizardDisplayed=!0,this.oFunctions.suggest_launch_wizard())))),o?(l.is(":visible")&&l.hide(),u.is(":visible")&&u.hide()):(l.is(":visible")||l.fadeIn("fast",function(){a.bChannelSuggestDisplayed=!0,a.bChannelSuggestLoaded&&(a.bChannelSuggestWizardDisplayed||(a.bChannelSuggestWizardDisplayed=!0,a.oFunctions.suggest_launch_wizard()))}),1===this.iSuggestsDisplayMode?u.is(":visible")||u.fadeIn("fast"):2===this.iSuggestsDisplayMode&&u.is(":visible")&&u.hide()),i?(this.$HasTooFewChannelsAddedAlert&&this.$HasTooFewChannelsAddedAlert.length||(this.$HasTooFewChannelsAddedAlert=$('<p class="welcome-channel-sub-message">'+r.__(this.oTranslations.sub_to_channels_to_populate)+"</p>")),this.$PageContainer.prepend(this.$HasTooFewChannelsAddedAlert)):this.$HasTooFewChannelsAddedAlert&&this.$HasTooFewChannelsAddedAlert.length&&(this.$HasTooFewChannelsAddedAlert.remove(),this.$HasTooFewChannelsAddedAlert=null)},getVideosContainer:function(){return this.createContainers(),this.$VideosContainer},setVideosContainerToLoading:function(){if(!0!==this.bVideosContainerIsLoading){this.bVideosContainerIsLoading=!0,this.$VideosContainerLoader||(this.$VideosContainerLoader=$(t.render(this.oTemplates.cover_loader)));this.getVideosContainer().append(this.$VideosContainerLoader).addClass("loading")}},uner.removeClass("loading"))},loadVideos:function(t){t="string"==typeof t?t:"/feed/0","undefined"!=typeof this.xVideoCall&&"function"==typeof this.xVideoCall.abort&&this.xVideoCall.abort(),this.setVideosContainerToLoading();var i=this;this.xVideoCall=$.post({url:t,data:this.getVideoLoadData(),complete:function(){i.unsetVideosContainerToLoading()},success:function(n){if(n.result){g.set("premiumFeed_lastCatFilter",i.oFilterCategories),g.set("premiumFeed_lastFreeSearchFilter",i.sFilterFreeSearch),g.set("premiumFeed_lastPage",t),$ListingContainer=i.getVideosContainer(),$ListingContainer.empty(),"number"!=typeof n.nb_videos_total&&(n.nb_videos_total=0),n.nb_videos_total<12?i.setTooFewVideos(!0):i.setTooFewVideos(!1),i.$CountVideos.text(n.nb_videos_total.toLocaleString(e.dyn.locale));var s=$(n.html);if($ListingContainer.toggleClass("no-videos",0===s.length),i.updateSuggestLists(),0===n.nb_videos_total)return void(0===n.nb_channels&&0===n.nb_categories?i.$VideoFilters.hide():$ListingContainer.append('<p class="empty">'+r.__(i.oTranslations.filters_restrict_results)+"</p>"));i.$VideoFilters.show(),$ListingContainer.prepend(s),"undefined"!=typeof n.show_free&&n.show_free!==i.iFilterShowFree&&i.updateFilterSelect("show_free",n.show_free),"undefined"!=typeof n.premium_min_length&&n.premium_min_length!==i.iFilterMinLengthPremium&&i.updateFilterSelect("premium_min_length",n.premium_min_length),"undefined"!=typeof n.free_min_length&&n.free_min_length!==i.iFilterMinLengthFree&&i.updateFilterSelect("free_min_length",n.free_min_length),"undefined"!=typeof n.view_mode&&n.view_mode!==i.iFilterViewMode&&i.updateFilterSelect("view_mode",n.view_mode),i.iFilterSortRandomize=!1,"undefined"!=typeof n.sort&&n.sort!==i.iFilterSort&&i.updateFilterSelect("sort",n.sort),"undefined"!=typeof n.quality&&n.quality!==i.sFilterQuality&&i.updateFilterSelect("quality",n.quality),"undefined"!=typeof n.free_search&&n.free_search!==i.sFilterFreeSearch&&i.updateFilterSelect("free_search",n.free_search),"undefined"!=typeof n.cats&&"undefined"!=typeof n.excats&&i.hasCategoriesFilterChanged(n)&&(i.oFilterCategories.cats=n.cats,i.oFilterCategories.excats=n.excats,i.updateCategoriesFilter()),3===i.iFilterSort&&i.initChannelShowMore($ListingContainer),i.oFunctions.init_videos_list($ListingContainer),i.oFunctions.add_pagination($ListingContainer),$ListingContainer.find(".paginationattr("hreRROR","color:lightcoral;"))},dataTet().top-t;s.scroh=this.sFilterFreeSeeChannelVideosClick(e)}))})},showMoreChannelVideosClick:function(e){if(e.data("loaded"))return void e.removeClass("show-less");if(e.hasClass("show-less")){if(!0===!e.find(".mozaique .thumb-block").not(".show-more-less-vids").last().is(":visible"))return void e.removeClass("show-less")}var t=this,n=$('<p class="loader">'+c.getIcf()+"</p>"),s=e.find(".mozaique"),o=e.data("id-profile"),a=e.data("page-loaded"),r=e.find("a.more");r.off("click"),s.append(n),$.post({url:"/feed/channel/"+o+"/"+(a+1),data:this.getVideoLoadData(),complete:fudClass("no-more-to-load"))}},error:function(i){t.iAjaxErrorsCount++,console.log("%c Loading SHOW MORE channel videos - Ajax ERROR","color:red;","iAjaxErrorsCount : "+t.iAjaxErrorsCount,i);t.iAjaxErrorsCount<2?(console.log("Trying again"),setTimeout(function(){t.showMoreChannelVideosClick(e)},500)):console.log("%c Loading SHOW MORE channel videos - Too many Ajax ERROR","color:red;",2)},dataTy,this.updateSuggestLists())},manu),this.updateSuimple_dropdown,{filt+"><label></labelers()}).addClFilter(),this.lo!1!==this.sFilter):this.$ResetFilters.hide()},isViewModeAvailable:function(){return m.isTracthis.oFiltersLabect(t,i),n.loadVide),this.showHideResetBtn(ilterSelectLabel(e).html(tontent),oPopup.show("auto")}nslations.minimum_duration)},getMin__(this.oTranslations.all))},get__(this.oTranslations.all))dexOf("free")&&(o.free=s),oum&&(t+=2),e.free&&(todeShowFreeFilterValue(ue(this.iFilterShowFree)[e]===t.length?i:t.join(" + ")},opoPopup),oPopup.show("auto")},initCati.close()}),i.setContent(u)},opreventDefault(),p.close()})excats[t])return!0;retu,!0===e&&this.loadVideos()}},ing(e.dyn.locale)+"</")),""===s&&(s="neutropup.show("auto"),i.focus()},(this.oTranslations.search)},resizeWindowEvt:function(e){!1!==this.tWindowResize&&(clearTimeout(this.tWindowResize),this.tWindowResize=!1);var t=this;if(!0===this.bResizingWindow)return void(this.tWindowResize=setTimeout(function(){t.resizeWindowEvt(e)},1e3));var i=s.getViewportWidth();if("increase-rows-1"!==e&&"increase-rows-2"!==e&&i===this.iLastViewportWidth)return void("string"==typeof e&&-1!==e.indexOf("same-width")||(t+("string"==typeof e?e:""))},1e3)));"string"==typeof e&&0===e.indexOf("same-width")&&(e=e.replace("same-width","")),!1!==this.tWindowEndResize&&(clearTimeout(this.tWindowEndResize),this.tWindowEndResize=!1),this.bResizingWindow=!0,this.iLastViewportWidth=i;var n=this.countVisibleSuggestThumbsSpace(this.getSuggestsContainerNbRows()),o=this.countVisibleSuggestThumbsSpace(this.getSuggestsContainerNbRows2());if(n===this.iLastResizeChannelThumbsSpace&&o===this.iLastResizeChannelThumbsSpace2)return void(this.bResizingWindow=!1);this.iLastResizeChannelThumbsSpace=n,this.iLastResizeChannelThumbsSpace2=o;var a=this.getFirstCatSuggest();if(a&&(this.countChannelsLeftToLoad()>0||this.countVisibleUnreviewedChannels()>0)){var r=this.getSuggestsContainer(),l=this.getSuggestsContainer2(),u=this.countChannelsLeftToLoad()<1;"increase-rows-1"!==e&&"increase-rows-2"!==e||!a.bAdded||u?this.appendOCatSuggest(a,r,l):"increase-rows-2"===e&&this.appendOCatSuggest(a,null,l)}this.tWindowEndResize=setTimeout(function(){t.bResizingWindoa.set("welcome-popup",!0)})}},H}),define("text!skins/xnxx/premium_feed/categories_filter_resume.mustache",[],function(){return'<div class="categories-filter-resume">\n\t<h3>{{{ title }}} <button type="button" class="btn btn-default reset"><span class="icon-f icf-close"></span> {{{ reset }}}</button></h3>\n\t<div class="row cat-list">\n\t\t<div class="col-xs-6">\n\t\t\t<button type="button" class="btn btn-lg btn-primary add"><span class="icon-f icf-plus-square icf-white-fill"></span></button>\n\t\t</div>\n\t\t<div class="col-xs-6">\n\t\t\t<button type="button" class="btn btn-lg btn-primary exclude"><span class="icon-f icf-minus-square icf-white-fill"></span></button>\n\t\t</div>\n\t\t{{^empty_list_text}}\n\t\t\t<div class="col-xs-6">\n\t\t\t\t{{#add_list}}\n\t\t\t\t\t<p data-id="{{{ id }}}">\n\t\t\t\t\t\t<button type="button" class="btn btn-primary remove" data-id="{{{ id }}}"><span class="icon-f icf-close"></span></button>\n\t\t\t\t\t\t<span class="label">{{{ name }}}</span>\n\t\t\t\t\t</p>\n\t\t\t\t{{/add_list}}\n\t\t\t</div>\n\t\t\t<div class="col-xs-6">\n\t\t\t\t{{#exclude_list}}\n\t\t\t\t\t<p data-id="{{{ id }}}">\n\t\t\t\t\t\t<button type="button" class="btn btn-primary remove" data-id="{{{ id }}}"><span class="icon-f icf-close"></span></button>\n\t\t\t\t\t\t<span class="label">{{{ name }}}</span>\n\t\t\t\t\t</p>\n\t\t\t\t{{/exclude_list}}\n\t\t\t</div>\n\t\t{{/empty_list_text}}\n\t\t{{#empty_list_text}}\n\t\t\t<p class="empty">{{{ empty_list_text }}}</p>\n\t\t{{/empty_list_text}}\n\t</div>\n\t<p class="close"><button type="button" class="btn btn-primary">{{{ ok }}}</button></p>\n</div>'}),define("text!skins/xnxx/premium_feed/categories_filter_update_list.mustache",[],function(){return'<div class="categories-filter-update-list {{{ list_id }}}">\n\t<h3>\x3c!--<span class="icon-f icf-minus-square icf-white-fill"></span><span class="icon-f icf-plus-square icf-white-fill"></span>--\x3e {{{ title }}}</h3>\n\t<div class="row cat-list mobile-hide">\n\t\t{{#lists_3_cols}}\n\t\t<div class="col-xs-4">\n\t\t\t{{#list}}\n\t\t\t\t<p data-id="{{{ id }}}" class="{{{ status }}}">\n\t\t\t\t\t<button type="button" class="btn btn-primary action" data-id="{{{ id }}}"><span class="icon-f icf-square"></span><span class="icon-f icf-minus-square"></span><span class="icon-f icf-plus-square"></span> <span class="label">{{{ name }}}</span></button>\n\t\t\t\t</p>\n\t\t\t{{/list}}\n\t\t</div>\n\t\t{{/lists_3_cols}}\n\t</div>\n\t<div class="row cat-list mobile-show">\n\t\t{{#lists_2_cols}}\n\t\t<div class="col-xs-6">\n\t\t\t{{#list}}\n\t\t\t\t<p data-id="{{{ id }}}" class="{{{ status }}}">\n\t\t\t\t\t<button type="button" class="btn btn-primary action" data-id="{{{ id }}}"><span class="icon-f icf-square"></span><span class="icon-f icf-minus-square"></span><span class="icon-f icf-plus-square"></span> <span class="label">{{{ name }}}</span></button>\n\t\t\t\t</p>\n\t\t\t{{/list}}\n\t\t</div>\n\t\t{{/lists_2_cols}}\n\t</div>\n\t<p class="close"><button type="button" class="btn btn-primary">{{{ ok }}}</button></p>\n</div>'}),define("text!skins/xnxx/premium_feed/thumb_channel.mustache",[],function(){return'<div id="profile_{{ sUserName }}" class="thumb-block thumb-block-premium-feed-channel">\n\t<div class="thumb-inside">\n\t\t<div class="thumb">\n\t\t\t<a href="{{ sUrl }}#_premium">\n\t\t\t\t<img src="{{ sThumb }}" id="pic_{{ sUserName }}"{{#bIsPicListingTypeProfile}} class="profile-pic"{{/bIsPicListingTypeProfile}} onerror="this.src=\'{{ sDefaultThumbPic }}\'; this.onerror=null;"/>\n\t\t\t\t<span class="profile-name">{{{ sDisplayName }}}</span>\n\t\t\t\t{{#sNbVideosVal}}\n\t\t\t\t\t<span class="profile-counts">\n\t\t\t\t\t<span class="mobile-show-inline"><span class="icon-f icf-play-rectangle"></span> {{{ sNbVideosValShort }}}</span>\n\t\t\t\t\t<span class="mobile-hide">{{{ sNbVideosVal }}}</span></span>\n\t\t\t\t{{/sNbVideosVal}}\n\t\t\t\t<span class="profile-hover">\n                    <span class="label">\n\t                    <span class="icon-f icf-eye"></span>\n\t                    {{{ sClickPreview }}}\n                    </span>\n                </span>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n\t<div class="thumb-under">\n\t\t<p class="channel-actions">\n\t\t\t<button class="btn btn-primary sub" type="button">\n\t\t\t\t<span class="label"><span class="icon-f icf-plus-circle"></span> <span class="text">{{{ sAdd }}}</span></span>\n\t\t\t</button>\n\t\t\t<button class="btn btn-primary reject" type="button"><span class="label"><span class="icon-f icf-minus-circle"></span> <span class="text">{{{ sRemove }}}</span></span></button>\n\t\t</p>\n\t</div>\n</div>\n'}),define("text!skins/xnxx/premium_feed/channel_preview.mustache",[],function(){return'<div class="channel-preview-header">\n\t<h2>\n\t\t<a href="{{{ href }}}" title="{{{ channel_page }}}" class="btn btn-default page-link">{{{ channel_page }}}</a>\n\t\t<span class="label">{{{ channel_title }}} {{#count_free}}<span class="free-plate" title="{{{ count_free_title }}}">{{{ count_free }}}</span>{{/count_free}} {{#count_premium}}<span class="gold-plate" title="{{{ count_premium_title }}}">{{{ count_premium }}}</span>{{/count_premium}}</span>\n\t</h2>\n\n\t<p class="channel-actions">\n\t\t<button class="btn btn-primary sub" type="button">{{{ sub_btn }}}</button>\n\t\t<button class="btn btn-primary reject" type="button">{{{ reject_btn }}}</button>\n\t</p>\n</div>\n\n<div class="mozaique-container">\n\t<div class="mozaique thumbs-2-cols">\n\t\t{{{ mozaique }}}\n\t\t{{{ cover_loader }}}\n\t</div>\n</div>'}),define("text!skins/xnxx/premium_feed/thumb_membership.mustache",[],function(){return'<div id="profile_{{ sUserName }}" class="thumb-block thumb-block-premium-feed-channel">\n\t<div class="thumb-inside">\n\t\t<div class="thumb">\n\t\t\t<a href="{{ sUrl }}#_premium">\n\t\t\t\t<img src="{{ sThumb }}" id="pic_{{ sUserName }}"{{#bIsPicListingTypeProfile}} class="profile-pic"{{/bIsPicListingTypeProfile}} onerror="this.src=\'{{ sDefaultThumbPic }}\'; this.onerror=null;"/>\n\t\t\t\t<span class="profile-name">{{{ sDisplayName }}}</span>\n\t\t\t\t{{#sNbVideosVal}}\n\t\t\t\t\t<span class="profile-counts">\n\t\t\t\t\t<span class="mobile-show-inline"><span class="icon-f icf-play-rectangle"></span> {{{ sNbVideosValShort }}}</span>\n\t\t\t\t\t<span class="mobile-hide">{{{ sNbVideosVal }}}</span></span>\n\t\t\t\t{{/sNbVideosVal}}\n\t\t\t\t<span class="profile-hover">\n                    <span class="label">\n\t                    <span class="icon-f icf-eye"></span>\n\t                    {{{ sClickPreview }}}\n                    </span>\n                </span>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n\t<div class="thumb-under">\n\t\t<p class="channel-actions">\n\t\t\t<button class="btn btn-primary sub" type="button">\n\t\t\t\t<span class="label">\n\t\t\t\t\t<span class="is-membership-mark icon-f icf-crown"></span>\n\t\t\t\t\t{{ sMonthPrice }}<sup>/{{ sMonth }}</sup>\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t\t<button class="btn btn-primary reject" type="button"><span class="label"><span class="icon-f icf-minus-circle"></span> <span class="text">{{{ sRemove }}}</span></span></button>\n\t\t</p>\n\t</div>\n</div>\n'}),define("text!skins/xnxx/premium_feed/containers.mustache",[],function(){return'<button id="hide-suggests" class="hide-suggests btn btn-xs btn-primary">{{{ hide_suggests }}}</button>\n<div class="clearfix"></div>\n<h3 id="sub-suggests-title" class="sub-suggests-title"><span class="title">{{{ suggests_title }}}</span> <span class="added-removed">{{{ added_removed_total }}}</span> <span class="added-removed-cats">{{{ added_removed_cats }}}</span></h3>\n<div id="sub-suggests" class="sub-suggests mozaique thumbs-5-cols"></div>\n\n<div id="feed-videos-filters">\n\t<p>{{{ showing_x_vids }}}{{{ new_videos_channels }}}</p>\n\t{{{ filters }}}\n</div>\n<div id="feed-videos"></div>\n\n\n<button id="hide-suggests-2" class="hide-suggests btn btn-xs btn-primary">{{{ hide_suggests }}}</button>\n<div class="clearfix"></div>\n<h3 id="sub-suggests-title-2" class="sub-suggests-title"><span class="title">{{{ suggests_title }}}</span> <span class="added-removed">{{{ added_removed_total }}}</span> <span class="added-removed-cats">{{{ added_removed_cats }}}</span></h3>\n<div id="sub-suggests-2" class="sub-suggests mozaique thumbs-5-cols"></div>'}),define("skins/xnxx/premium_feed",["skins/common/premium_feed","skins/xnxx/mozaique/thumb_block_common_init","skins/default/pagination","skins/xnxx/mozaique/thumb_block_menu","lib/tools","text!skins/xnxx/premium_feed/categories_filter_resume.mustache","text!skins/xnxx/premium_feed/categories_filter_update_list.mustache","text!skins/xnxx/premium_feed/thumb_channel.mustache","text!skins/xnxx/premium_feed/channel_preview.mustache","text!skins/xnxx/premium_feed/thumb_membership.mustache","text!skins/xnxx/premium_feed/containers.mustache","lib/helpers/suggest_tracker","skins/xnxx/header/all_pages"],function(e,t,i,n,s,o,a,r,l,u,c){new e({templates:{categories_filter_resume:o,categories_filter_update:a,channel_thumb:r,channel_preview:l,membership_thumb:u,containers:c},texts:{premium_name:"GOLD"},translations:{add_exclude_cats_to_result:"premium_feed.add_exclude_cats_to_personalized_result",channel_page:"profile",channels_left_to_review:"premium_feed.uploaders_left_to_review",channels_added_removed_total:"",here_some_channels:"premium_feed.here_some_uploaders",new_channel_added_since_last_visit:"premium_feed.new_uploader_added_since_last_visit",new_channels_added_since_last_visit:"premium_feed.new_uploaders_added_since_last_visit",new_video_channel_added_since_last_visit:"premium_feed.new_video_uploader_added_since_last_visit",new_video_channels_added_since_last_visit:"premium_feed.new_video_uploaders_added_since_last_visit",new_videos_channel_added_since_last_visit:"premium_feed.new_videos_uploader_added_since_last_visit",new_videos_channels_added_since_last_visit:"premium_feed.new_videos_uploaders_added_since_last_visit",not_interested:"misc.actions.remove",red_and_free:"premium_feed.gold_and_free",red_only:"videos.gold_vids",sub_to_cat_global:"premium_feed.add_cat_global",sub_to_cat_in_subbed_channels:"premium_feed.add_cat_for_added_uploaders",sub_to_channels_to_populate:"premium_feed.sub_to_uploaders_to_populate",sub_to_channels_to_populate_version:"premium_feed.sub_to_uploaders_to_populate_version",subscribe:"misc.add",subscribe_in_channel:"premium_feed.category.add_in_channel",subscription_date:"premium_feed.followed_date"},forced_translations:{channels_added_removed_total:"%link_added%<span class='icon-f icf-plus-circle'></span> %nb_added%%link_end% / %link_removed%<span class='icon-f icf-minus-circle'></span> %nb_removed%%link_end%"},icon_f:{reject_cat:"minus-circle",sub_cat:"plus-circle",sub_cat_in_chan:"plus-circle"},urls:{account_not_interested:"/account/followed/not-interested",account_subscriptions:"/account/followed",hash_red:"#gold",hash_red_and_free:"#gold-and-free:"next",prev_class:"prinsertBefore($BtnConta e.find("h4.clear-infobar")},init_desktop_channel_videos:function(e){t.init_listing(e,{tb_menu:!1,premium_redirect_alert:!1})},init_videos_list:function(e){t.init_listi){new e(t,"premium-feed")})},page_init_end:function(e){},fnMakeMembershipPageUrl:function(e){var t=s.parseUrl(e);return(t.body?t.body:"")+(t.query?"?"+t.query:"")+"#_gold-videos,membership,best"}}}),n.addEntryToDefaultOrder("report"),n.addEntryToDefaultOrder("not_interested")}),define("skins/common/video/lastviews",["config/main","static/cookies","cknb",e,432e5,"/")}}},new n}),define("skins/xnxx/prof_videos_history",["config/main","static/utils","lib/helpers/popup","lib/helpers/inline_loader","lib/helpers/overlay/box","lib/helpers/overlay/contextual_popup","lib/helpers/thumbs_rotator","skins/common/history/page_view_history","skins/common/video/),window.location.pathname)}),function(e){"function"==typeof define&&define.amd?define("lib/pathchan.onhashchange),e}};return t}),define("lib/historyndow.xv_listen_hash}},new t}),define("text!skins/default/profile/listing/video_tab.mustache",[],function(){return'<div{{#sContentBlockClass}} class="{{{ sContentBlockClass }}}"{{/sContentBlockClass}}></div>\n'}),define("text!skins/default/profile/listing/video_filters.mustache",[],function(){return'\n<div class="filters">\n\t<span class="content-title mobile-hide">{{{ sTitle }}}</span>\n\t{{#iContentFiltersLength}}\n\t\t<span class="content-filters">\n\t\t\t{{#aContentFilters}}\n\t\t\t\t{{^bIsHidden}}\n\t\t\t\t\t<span class="{{#bMobileInSelect}}{{#oActiveSortFilter}}mobile-hide{{/oActiveSortFilter}}{{/bMobileInSelect}} content-filter-k-{{{ sKey }}}">\n\t\t\t\t\t\t<button type="button" class="with-checkbox-toggle content-filter{{#bIsDisabled}} is-disabled{{/bIsDisabled}}" data-filter="{{{ sKey }}}"{{#bIsLockUnlock}} data-type="lock-unlock"{{/bIsLockUnlock}}>\n\t\t\t\t\t\t\t{{^bIsLockUnlock}}<span class="checkbox toggle no-label w-28"><input type="checkbox"{{#bIsChecked}} checked="checked"{{/bIsChecked}}{{#bIsDisabled}} disabled="disabled"{{/bIsDisabled}}/><label></label></span>{{/bIsLockUnlock}}\n\t\t\t\t\t\t\t{{#sIcf}}\n\t\t\t\t\t\t\t\t<span class="icon-f icf-{{#sUncheckIcf}}{{#bIsChecked}}{{{ sIcf }}}{{/bIsChecked}}{{^bIsChecked}}{{{ sUncheckIcf }}}{{/bIsChecked}}{{/sUncheckIcf}}{{^sUncheckIcf}}{{{ sIcf }}}{{/sUncheckIcf}}"></span>\n\t\t\t\t\t\t\t{{/sIcf}}\n\t\t\t\t\t\t\t<span class="label">{{#sUncheckDisplay}}{{#bIsChecked}}{{{ sDisplay }}}{{/bIsChecked}}{{^bIsChecked}}{{{ sUncheckDisplay }}}{{/bIsChecked}}{{/sUncheckDisplay}}{{^sUncheckDisplay}}{{{ sDisplay }}}{{/sUncheckDisplay}}</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t{{/bIsHidden}}\n\t\t\t{{/aContentFilters}}\n\t\t</span>\n\t{{/iContentFiltersLength}}\n\n\t<div class="main-cat-filter"></div>\n\n\t{{#oActiveSortFilter}}\n\t\t<span class="sort-filter mobile-hide">\n\t\t\t({{#aSortFilters}}{{#fnSortFiltersIndex}} / {{/fnSortFiltersIndex}}<button type="button" data-sort="{{{ sKey }}}"{{#bIsSelected}} class="is-selected"{{/bIsSelected}}>{{{ sDisplay }}}</button>{{/aSortFilters}})\n\t\t</span>\n\t{{/oActiveSortFilter}}\n\n\t{{#oActiveSortFilter}}\n\t\t<button type="button" class="dropdown-filters-btn mobile-show">\n\t\t\t<span class="label">{{{ oActiveSortFilter.sDisplay }}}</span>\n\t\t\t{{#bCounterInMobileDropdown}}<span class="count">{{{ sCount }}}</span>{{/bCounterInMobileDropdown}}\n\t\t\t<span class="icon-f icf-caret-down"></span>\n\t\t</button>\n\n\t\t<div class="dropdown-filters-list content-filters">\n\t\t\t{{#aSortFilters}}\n\t\t\t\t<button type="button" data-sort="{{{ sKey }}}" {{#bIsSelected}} class="is-selected"{{/bIsSelected}}>{{{ sDisplay }}}</button>\n\t\t\t{{/aSortFilters}}\n\n\t\t\t{{#aContentFilters}}\n\t\t\t\t{{^bIsHidden}}\n\t\t\t\t\t{{#bMobileInSelect}}\n\t\t\t\t\t\t<button type="button" class="with-checkbox-toggle content-filter" data-filter="{{{ sKey }}}">\n\t\t\t\t\t\t\t<span class="checkbox toggle no-label w-28"><input type="checkbox"{{#bIsChecked}} checked="checked"{{/bIsChecked}}/><label></label></span>\n\t\t\t\t\t\t\t{{#sIcf}}\n\t\t\t\t\t\t\t\t<span class="icon-f icf-{{{ sIcf }}}"></span>\n\t\t\t\t\t\t\t{{/sIcf}}\n\t\t\t\t\t\t\t<span class="label">{{{ sDisplay }}}</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t{{/bMobileInSelect}}\n\t\t\t\t{{/bIsHidden}}\n\t\t\t{{/aContentFilters}}\n\t\t</div>\n\t{{/oActiveSortFilter}}\n</div>'}),define("text!skins/default/profile/main_cats_switch.mustache",[],function(){return'<div class="profile-maincat-switch-cont">\n\t<button type="button" class="profile-maincat-switch btn btn-clear">\n\t\t<span class="profile-maincat-switch-label">{{#bMobileSmaller}}<span class="mobile-show-inline-block">{{{ sTxtSmaller}}}</span> <span class="mobile-hide">{{/bMobileSmaller}}{{{ sTxt }}}{{#bMobileSmaller}}</span>{{/bMobileSmaller}}</span> <span class="icon-f icf-caret-down"></span>\n\t</button>\n</div>'}),define("skins/default/profile/main_cats_switch",["config/main","mustache","static/utils","lib/i18n!front","lib/helpers/popup","text!skins/default/profile[e.data.main_cat].picto}},a}),define("skins/default/profile/listing/videos_fjs",["config/main","mustache","static/thumbs","static/dom","static/storage","lib/tools","lib/i18n!front","lib/history","lib/helpers/inline_loader","lib/helpers/popup","skins/default/pagination","text!./video_tab.mustache","texbership_ppv","premium")}},m});define("skins/common/purcrchase-",S_HASH_ID_SEP:"-"}}),define("skins/common/purchase_form/purchase_btn",["config/main","static/thumbs","lib/tools","skins/common/pult();e.data.openForm()}}},o}),define("skins/common/purchase_form/purchase_form_init",["config/main","lib/tools","skins/common/punew n;return s.initPage(),s}),define("text!skins/xnxx/profile/video_filters.mustache",[],function(){return'{{#oActiveSortFilter}}\n\t<button type="button" class="dropdown-filters-btn">\n\t\t<span class="label">{{{ oActiveSortFilter.sDisplay }}}</span>\n\t\t<span class="icon-f icf-caret-down"></span>\n\t</button>\n\n\t{{#aContentFilters}}\n\t\t<button type="button" class="with-checkbox-toggle radio-toggle-tab content-filter {{#bIsChecked}}active{{/bIsChecked}}" data-filter="{{{ sKey }}}">\n\t\t\t<span class="label">{{{ sDisplay }}}</span>\n\t\t</button>\n\t{{/aContentFilters}}\n\n\t<div class="dropdown-filters-list">\n\t\t{{#aSortFilters}}\n\t\t\t<button type="button" data-sort="{{{ sKey }}}" {{#bIsSelected}} class="is-selected"{{/bIsSelected}}>{{{ sDisplay }}}</button>\n\t\t{{/aSortFilters}}\n\t</div>\n{{/oActiveSortFilter}}\n'}),define("text!skins/xnxx/profile/content_tab.mustache",[],function(){return'<span class="name">{{{ sTabName }}}</span>\n<span class="count">{{{ sCount }}}</span>'}),define("skins/xnxx/profile/videos_fjs",["config/main","mustache","lib/i18n!front","skins/default/pagination","lib/tools","skins/default/profile/listing/videos_fjs","skins/common/purchase_form/purchase_form_init","text!skins/xnxx/profile/video_filters.mustache","text!skins/xnxx/profile/content_tab.mustache"],function(e,t,i,n,s,o,a,r,l){return XNVideoListing=function(e,t,i){s.initLogger(),log.debug("%c\n\n XNXX NEW XNVideoListing --- ","color: #5c99fe;",e,t,i),"object"==typeof i&&i||(i={}),i.bMainCatsSwitchInPopMobileFiltersOnly=!0,i.sTplVideoFilters=r,i.bAppendContentOnLoaded=!0,i.bErrorIfNoContentFilter=!0,this.oTemplates={sTplContentTab:l},o.apply(this,[e,t,i]),this.initNbVideos(),i.bUseContentFilters&&this.initContentFilters(),e&&(this.init(),a.initBtns(this.$videosContainer))},XNVideoListing.CONTENT_TAB={PREMIUM:"premium",MEMBERSHIP:"membership",PPV:"ppv"},XNVideoListing.prototype=new o,XNVideoListing.prototype.appendFilters=function(e){},XNVideoListing.pris.bVideoContainerAdded=!0)},XNVide-list-pagination").remove()},XNVideoListing.prototype.appendPagination=function(e,t){log.debug("%c XNXX appendPagination --- ","color: #5c99fe;",e,t);var i=null,s=null,o=this.oPopMobileFilters&&"function"==typeof this.oPopMobileFilters.setButton&&this.$mobileFiltersBtn&&this.$mobileFiltersBtn.length,a=e&&e.length;if(a?i=e.clone(!0):"top"===t&&o&&(i=n.createHTMLObject({list:[{item:{customContent:"<span class='to-be-replaced'></span>"}}]})),i&&i.length&&i.addClass("profile-list-pagination"),a)if("top"===t){if(o){s=this.$mobileFiltersBtn.clone(!0);var r=$("<li></li>");r.append(s),i.find("ul").prepend(r)}i.insertBefore(this.$videosContainer)}else i.insertAfter(this.$videosContainer);else"top"===t&&o&&(s=this.$mobileFiltersBtn.clone(!0),i.find(".to-be-replaced").replaceWith(s),i.insertBefore(this.$videosContainer));null!==s&&this.oPopMobileFilters.setButton(s)},XNVideoListing.prototype.getContentFilterTotal=function(e,t){log.info("%c getContentFilterTotal ---","color: mediumpurple;","sFilter",e,"sForcedLockUnlock",t);var i,n=[e],s=!1;for(i in this.aContentFilters)oFilter=this.aContentFilters[i],"uploadsonly"===oFilter.sKey&&oFilter.bIsChecked&&(s=!0),
"lock-unlock"===oFilter.sKey&&"string"!=typeof t&&(oFilter.bIsDisabled||"locked"!==oFilter.sChoice&&"unlocked"!==oFilter.sChoice||n.push(oFilter.sChoice));"locked"!==t&&"unlocked"!==t||n.push(t);var o=this.getCombinedContentFilters(n);return s&&"number"==typeof this.oNbVideosUploadsOnly[o]?(log.info("%c getContentFilterTotal --- RETURN UploadsOnly","color: mediumpurple;",this.oNbVideosUploadsOnly[o]),this.oNbVideosUploadsOnly[o]):(log.info("%c getContentFilterTotal --- RETURN oNbVideos","color: mediumpurple;","number"==typeof this.oNbVideos[o]?this.oNbVideos[o]:0),"number"==typeof this.oNbVideos[o]?this.oNbVideos[o]:0)},XNVideoListing.prototype.initContentFilters=function(){this.bHasChecked=!1,this.aContentFilters=[],this.initContentFiltersData();var e=Object.keys(this.oContentFiltersSettings);for(var t in e){var i=e[t];this.oNbVideos[i]>0&&this.aContentFilters.push(this.oContentFiltersSettings[i])}},XNVideoListing.prototype.initContentFiltersData=function(){this.oContentFiltersSettings={},this.oContentFiltersSettings[XNVideoListing.CONTENT_TAB.PREMIUM]={sName:i.__("premium.premium"),iDisplayOrder:2,iUrlOrder:1,sKeyForUploadsOnly:XNVideoListing.CONTENT_TAB.PREMIUM},this.oContentFiltersSettings[XNVideoListing.CONTENT_TAB.MEMBERSHIP]={sName:i.__("profile.membership"),iDisplayOrder:3,iUrlOrder:3},this.oContentFiltersSettings[XNVideoListing.CONTENT_TAB.PPV]={sName:i.__("premium.on_demand"),iDisplayOrder:4,iUrlOrder:4},this.addContentFilterProps(XNVideoListing.CONTENT_TAB.PREMIUM),this.addContentFilterProps(XNVideoListing.CONTENT_TAB.MEMBERSHIP),this.addContentFilterProps(XNVideoListing.CONTENT_TAB.PPV)},XNVideoListing.prototype.addContentFilterProps=function(e){var t=this,n=this.oContentFiltersSettings[e];n.sKey=e,n.sDisplay=this.getContentTabLabel(e,tht.getContentFilterTotal(e))},n.iNbVideos=this.oNbVideos[e],n.bDefaultChecked=!this.bHasChecked,n.bIsChecked=!this.bHasChecked,this.bHasChecked=!0,n.sDisabledAlert=i.__("profile.this_only_content_available"),n.sIcf=!1,n.bMobileInSelect=!1,n.iEmptyIfNoContentLevel=1,n.bIsDisabled=this.hasOnlyVideoOfTab(e)},XNVideoListing.prototype.getContentTabLabel=function(i,n){return t.render(this.oTemplates.sTplContentTab,{sTabName:this.oContentFiltersSettings[i].sName,sCount:n.toLocaleString(e.dyn.locale)})},XNVideoListing.prototype.initNbVideos=function(){var t=Object.values(XNVideoListing.CONTENT_TAB),i=this.mixArrayValuesCombinations(t,"_");this.oNbVideos={},log.debug("Computing video counts for filters",t);for(var n in i){var s=i[n];if(-1===s.indexOf("locked_unlocked")){if(s=s.replace("sub_membership_ppv","premium"),this.oNbVideos[s]=0,e.data.nb_videos)if(e.data.main_cat)e.data.nb_videos[s]&&e.data.nb_videos[s][e.data.main_cat]&&(this.oNbVideos[s]=e.data.nb_videos[s][e.data.main_cat]);else if(e.data.nb_videos[s])for(var o in e.data.nb_videos[s])this.oNbVideos[s]+=e.data.nb_videos[s][o];log.debug("Found",this.oNbVideos[s],"videos for",s)}}},XNVideoL{return this.oNbVideos[e]>0},XNVideoListing.prototype.hasOnlyVideoOfTab=function(e){var t=Object.values(XNVideoListing.CONTENT_TAB);for(var i in t){var n=t[i];if(n!==e&&this.hasVideoTab(n))return!1}return!0},XNVideoListing.prototyp(e),s):s};return i("",e,[])},XNVideoListing.prototype.getLockUnlock=function(){var t=this,n={sType:"lock-unlock",sKey:"lock-unlock",aChoices:[],fnDisplay:function(){return""},bMobileInSelect:!1,iDisplayOrder:1,iUrlOrder:5};return this.oNbVideos.premium_locked>0&&this.oNbVideos.premium_unlocked>0?(n.sChoice="all",n.sDefaultChoice="all",n.sIcf="unlock",n.aChoices.push({sKey:"all",sIcf:"unlock",fnDisplay:function(){return'<span class="count">'+t.getContentFilterTotal("sub_membership_ppv","unlocked").toLocaleString(e.dyn.locale)+"/"+t.getContentFilterTotal("sub_membership_ppv","all").toLocaleString(e.dyn.locale)+"</span>"},sChoiceAlert:i.__("misc.all_content"),sChoiceClass:"is-default-all",sChoiceMozClass:"is-lock-unlock-mixed"}),n.aChoices.push({sKey:"unlocked",sIcf:"unlock",fnDisplay:function(){return'<span class="count">'+t.getContentFilterTotal("sub_membership_ppv","unlocked").toLocaleString(e.dyn.locale)+"/"+t.getContentFilterTotal("sub_membership_ppv","all").toLocaleString(e.dyn.locale)+"</span>"},sChoiceAlert:i.__("premium.owned_content_only")}),n.aChoices.push({sKey:"ling(e.dyn.locale)+"</span>"},sChoiceAlert:i.__("premium.not_owned_content_only")})):this.oNbVideos.premium_unlocked>0?(n.sChoice="unlocked",n.sDefaultChoice="unlocked",n.sIcf="unlock",n.bIsDisabled=!0,n.sDisabledAlert=i.__("premium.all_content_is_owned"),n.aChoices.push({sKey:"unloc"count">'+n+"/"+n+"</span>"}})):(n.sChoice="unlocked",n.sDefaultChoice="unlocked",n.sIcf="unlock",n.bIsDisabled=!0,n.sDisabledAlert=i.__("premium.no_content_is_owned")+(e.dyn.login_info.is_logged?"":"<br/><br/>"+i.__("premium.if_content_purchased_log_in",{"%link%":'<a href="/account/" class="login-link" data-mode="signin">',"%link_end%":"</a>"})),n.bDisabledAlertAutoCloseTimer=e.dyn.login_info.is_logged,n.aChoices.push({sKey:"unlocing(e.dyn.locale)+"</span>"}})),n},XNVideoListing.prototype.insertContentFilters=function(e){if(e&&e.length&&this.$filters&&this.$filters.length){var t=this,i=this.$filters.filter(".content-filter");i.length&&(e.empty(),i.each(function(){var i=$(this),n=i.clone(!0),s=n.attr("data-filter");t.oContentFiltersSettings[s].bIsChecked&&n.addClass("active");var o=$('<div class="content-filter"></div>');o.append(n),e.append(o),n.on("click",function(e){e.preventDefault(),t.$filters.removeClass("active"),i.addClass("active"),t.$contentFilters.removeClass("active"),$(this).addClass("active"),t.toggleContentFilter($(this).data("filter"),!0,!1,!0)})}),this.$contentFilters=e.find(".content-filter"))}},XNVideoListing.prototype.loadedPosts=function(t,i,s){var o=[],a=this,r=n.createElementsBased(i.current_page,i.nb_per_pagion(e){""!==e&&a.load(e,!0)}});if(i.nb_posts>0)for(var l in i.posts){var u=i.posts[l];u.profile_name=e.data.user.display,u.manager=this;for(var c in u.videos){var f=u.videos[c];o.push(f.id),this.oVideos[f.id]=f}}this.savePage(t,o,r,null,i.nb_posts),this.setPage(t,s),this.insertContentFilters(this.$container.find(".content-filters")),this.updateFiltersHtml()},XNVideoListing.prototype.loaded=function(e,t,i){var n=[],s=this.makePagination(t.current_page,t.nb_per_page,t.nb_videos);if(t.nb_videos>0)for(var o in t.videos){var a=t.videos[o],r=a.id;if(n.push(r),this.oVideos[a.id]=a,-1===this.aLoadedVideosIds.indexOf(r))this.aVideos.push(a),this.aLoadedVideosIds.push(r);else for(var l in this.aVideos)this.aVideos[l].id===r&&(this.aVideos[l]=a)}this.savePage(e,n,s,null,t.nb_videos,t.current_page),this.setPage(e,i),this.insertContentFilters(this.$container.find(".content-filters"))},XNVideoListing.prototype.appendPageContent=function(e,t){o.prototype.appendPageContent.apply(this,[e,t]),a.initBtns(this.$container)},XNVideoListing}),define("skins/common/profile/subscribe/btns_controler",["config/main","static/utils","mustache","lib/tools","lib/i18n!front","lib/helpers/popup","lib/helpers/popup/tooltip","lib/helpers/overlay/contextual_popup","lib/helpers/inline_loader","skins/}),this.tooltip.open())}},f}),define("text!skins/common/profile/subscribe/btn_reject.mustache",[],function(){return'<span class="user-reject"></span>'}),define("text!skins/xnxx/profile/subscribe/btn_sub.mustache",[],function(){return'<span class="user-subscribe"></span>'}),define("skins/xnxx/profile/subscribe/btns_controler",["config/main","lib/tools","lib/i18n!front","skins/common/profile/subscribe/btns_controler","text!skins/common/profile/subscribe/btn_reject.mustache","text!skins/xnxx/profile/pe._init.apply(this,[i])},r}),define("skins/xnxx/profile/title_actions",["config/main","skins/xnxx/profilme,btn_class:"sub-strip"}})}),define("skins/common/profile/last_channels92e6,"/",!0,"None")}},new t}),define("skins/common/form/cross_site_login",["config/main","static/cookies","skins/common/video/lastviews","skins/common/proFullCookie(e.freechvws)}}})}),define("skins/xnxx/profile",["config/main","lib/history","lib/i18n!front","static/dom","skins/xnxx/profile/videos_fjs","skins/common/mozaique/premium_redirect_alert","lib/helpers/thumbs_rotator","skins/xnxx/header/all_pages","lib/helpers/suggest_tracker","skins/xnxx/profile/title_actions","skins/common/form/cross_site_login"],function(e,t,i,n,s,o){var a={fan_club:"/fan-club/",premium:"/videos-premium/"};a[undefined]="/videos/",a[!1]="/videos/";var r=function(){this.initr.model?"montainer.addClassmoveClass(")&&null!==t)&&null!==this.oListingGold},setupListingFree:function(){if(this.$VideosFree=$("#psvideos"),this.$VideosFree&&this.$VideosFree.length){var n={sHashBase:this.sHashFree,oHistory:t,sListingClass:"mozaique cust-nb-cols mozaique-left-bordered mozaique-left-bordered-with-pagin",aSortFilters:[{sKey:"best",sDisplay:i.__("videos.watch_recently")},{sKey:"new",sDisplay:i.__("misc.new")}]};if("string"==typeof document.referrer){var o=document.referrer.indexOf("?pmsc=head_mob_chans_tab");n.oLoadUrlParams={from:o>-1?"headermob":"goldtab"}}e.data.nb_videos.free&&(n.oMainCatsNbVideos=e.data.nb_videos.free),e.data.show_up_only.free&&(n.aContentFilters=[{sKey:"uploadsonly",sDisplay:i.__("videos.uploaded_by",{"%uploader%":e.data.user.display}),bIsChecked:!1,bDefaultChecked:!1}]),this.oListingFree=new s(this.$VideosFree,e.data.user.url+a[e.data.fan_club],n),this.oListingFree.init()}},setupListingGold:function(){if(this.$VideosGold=$("#gold-videos"),this.$VideosGold&&this.$VideosGold.length){var r=function(n){var o={sHashBase:this.sHashGold,oHistory:t,sListingClass:"mozaique cust-nb-cols mozaique-left-bordered mozaique-left-bordered-with-pagin",aSortFilters:[{sKey:"best",sDisplay:i.__("videos.watch_recently")},{sKey:"new",sDisplay:i.__("misc.new")}]};if("string"==typeof document.referrer&&-1!==document.referrer.indexOf("/gold/videos")){var r=document.referrer.indexOf("?pmsc=head_mob_chans_tab");o.oLoadUrlParams={from:r>-1?"headermob":"goldtab"}}e.data.nb_videos.premium&&(o.oMainCatsNbVideos=e.data.nb_videos.premium),e.data.show_up_only.premium&&(o.aContentFilters=[{sKey:"uploadsonly",sDisplay:i.__("videos.uploaded_by",{"%uploader%":e.data.user.display}),bIsChecked:!1,bDefaultChecked:!1}]),o.bUseContentFilters=!0,s.apply(this,[n,e.data.user.url+a[e.data.premiumTab],o]),this.init();var l=this;this.$freePremiumSwitch=$("#results-free-or-premium"),this.$freePremiumSwitch.length&&$(window).on("scroll",function(){l.onScrollPremSub()})};r.prototype=new s,r)}),this.onScrollPremSub()}}w(this.$freePremiumSwitch))},this.oListingGold=new r(this.$VidstingFree.loadFromHash()})}}},new r}),define("skins/xnxx/suggestions_page",["skins/common/suggests/suggests_manager","skins/common/history/page_view_history","lib/i18n!front","lib/helpers/thumbs_rotator","lib/helpers/suggest_tracker","skins/common/main_regional","skins/xnxx/header/all_pages","skins/xnxxtTracking(s)}),n.append(l)}}),define("skins/xnxx/tags",["lib/tools","sp",a),n.val().length>0&&a()}),define("skins/xnxx/todays_selection",["./search/add_history_nav","lib/helpers/thumbs_rotator","skins/xnxx/header/all_pages","lib/helpers/suggest_tracker","skins/xnxx/suggests/suggests_manager","skins/common/main_regional","skins/common/lis"videos.todays_selection"))}),define("lib/tab",["config/mais._onhashchange(e,t)})}}},s}),define("skins/common/thread/node",["config/main","static/console","lib/helpers/overlay/contextoggleVotesDelete(!0)})}}},s}),define("text!skins/common/thread/ui/form.mustache",[],function(){return'<div class="thread-node thread-node-form hidden">\r\n\t{{^force_anonymous}}\r\n\t<div class="thread-node-picture">\r\n\t\t<img src="{{{ img }}}"{{#img_error}} onerror="this.src=\'{{{ img_error }}}\';this.onerror=null;"{{/img_error}} />\r\n\t\t{{#profile_name}}\r\n\t\t<div class="thread-node-poster">\r\n\t\t\t<span class="thread-node-poster-name">{{{ profile_name }}}</span>\r\n\t\t</div>\r\n\t\t{{/profile_name}}\r\n\t</div>\r\n\t{{/force_anonymous}}\r\n\t<div class="thread-node-loader hidden"></div>\r\n\t<div class="thread-node-error hidden"></div>\r\n\t<div class="thread-node-content">\r\n\t\t{{{ form }}}\r\n\t</div>\r\n</div>'}),define("text!skins/common/thread/ui/form_message.mustache",[],function(){return'<div class="alert alert-{{{ alert_type }}} form-error-list-contener">\r\n\t<ul class="form-error-list"><li>{{{ message }}}</li></ul>\r\n\t<span class="icon-f icf-{{{ icon }}}"></span>\r\n</div>'}),define("skins/common/thread/ui/form",["config/main","mustache","static/utils","lib/tools","static/dom","skins/form/validator","text!./form.mustache","te="post[user]"]').val(t)}},l}),define("skins/common/thread/form",[.ui_node.setDefault(e,t)}},i}),define("text!skins/common/thread/ui/report_form.mustache",[],function(){return'<div>\n\t<h2 class="text-center">{{{ title }}}</h2>\n\t{{{ form }}}\n</div>'}),define("skins/common/thread/ui/report_form",["lib/helpers/overlay/box","./form","text!./report_fored=!1,this.overlay.hide()},s}),define("skins/common/thread/report_form",["static/cookies","./ui/rn(){this.ui_node.close()}},n}),define("skins/common/thread/root",["config/main","static/cookies","./noh="boolean"!=typeof e||e}},o}),define("text!skins/common/thread/ui/node.mustache",[],function(){return'<div class="thread-node">\r\n\t<div class="thread-node-nb-before hidden"></div>\r\n\t{{#has_profile}}\r\n\t<div class="thread-node-picture">\r\n\t\t<img src="{{{ default_img }}}" />\r\n\t\t<span class="flag-small hidden"></span>\r\n\t</div>\r\n\t{{/has_profile}}\r\n\t<div class="thread-node-loader hidden"></div>\r\n\t<div class="thread-node-error hidden"></div>\r\n\t<div class="thread-node-content hidden">\r\n\t\t<div class="thread-node-poster">\r\n\t\t\t{{^has_profile}}<span class="flag-small hidden"></span>{{/has_profile}}\r\n\t\t\t<span class="thread-node-poster-name"></span>\r\n\t\t\t<span class="thread-node-date"></span>\r\n\t\t</div>\r\n\t\t<div class="thread-node-message"></div>\r\n\t\t<div class="thread-node-metadata">\r\n\t\t\t<span class="icon-f icf-thumb-up"></span>\r\n\t\t\t<span class="thread-node-nb-votes votes-up"></span>\r\n\t\t\t<span class="icon-f icf-thumb-down"></span>\r\n\t\t\t<span class="thread-node-nb-votes votes-down"></span>\r\n\t\t\t<a class="thread-node-btn-post hidden">{{{ lbl_reply }}}</a>\r\n\t\t\t<a class="thread-node-btn-edit hidden">{{{ lbl_edit }}}</a>\r\n\t\t\t<a class="thread-node-btn-delete hidden">{{{ lbl_delete }}}</a>\r\n\t\t\t<a class="thread-node-btn-restore hidden">{{{ lbl_undelete }}}</a>\r\n\t\t\t<a class="thread-node-btn-report hidden">{{{ lbl_report }}}</a>\r\n\t\t</div>\r\n\t\t{{> children}}\r\n\t</div>\r\n\t<div class="thread-node-nb-after hidden"></div>\r\n</div>'}),define("text!skins/common/thread/ui/children.mustache",[],function(){return'<div class="thread-node-children hidden">\r\n\t<div class="thread-node-children-show"><span></span></div>\r\n\t<div class="thread-node-children-hide"><span>{{{ lbl_hide_replies }}}</span></div>\r\n\t<div class="thread-node-children-nodes" style="display:none"></div>\r\n</div>\r\n<div class="thread-node-children-loader hidden"></div>\r\n<div class="thread-node-children-error hidden"></div>\r\n<div class="thread-node-children-load-next">\r\n\t<a href="#" class="thread-node-btn thread-node-children-load-next-btn hidden"></a>\r\n\t<a href="#" class="thread-node-btn thread-node-children-load-all-btn hidden">{{{ lbl_load_all }}}</a>\r\n\t<a href="#" class="thread-node-btn thread-node-btn-post hidden">{{{ lbl_post_reply }}}</a>\r\n</div>'}),define("text!skins/common/thread/ui/message.mustache",[],function(){return'{{#is_video}}<span class="icon uploads"></span>{{/is_video}}\n{{#is_gallery}}<span class="icon albums"></span>{{/is_gallery}}\n{{#is_playlist}}<span class="icon playlist"></span>{{/is_playlist}}\n<a class="preview preview-{{ t }}" href="{{ u }}" data-thumb="{{{ i }}}">{{{ n }}}</a>\n{{#v}}<span class="icon-f icf-check-circle verified"></span>{{/v}}'}),define("text!skins/common/thread/ui/friend_button.mustache",[],function(){return'{{#is_friend}}\n\t<div class="thread-node-pic-bottom" title="{{{ lbl_already_friends }}}"><span class="icon-f icf-user-check"></span></div>\n{{/is_friend}}\n{{#friend_req_asked}}\n\t<div class="thread-node-pic-bottom" title="{{{ lbl_friend_req_asked }}}"><span class="icon-f icf-user-hourglass"></span></div>\n{{/friend_req_asked}}\n{{#can_ask_friend}}\n\t<div class="thread-node-pic-bottom">\n\t\t<button type="button" class="btn btn-default btn-xs thread-node-friend-ask-btn" title="{{{ lbl_add_to_friends }}}">\n\t\t\t<span class="icon-f icf-user-plus"></span>\n\t\t</button>\n\t<et716","✳":"2733","✴":"2734","❄":"2744","❇":"2747","❗":"2757","❤":"2764","➡":"27a1","⤴":"2934","⤵":"2935","⬅":"2b05","⬆":"2b06","⬇":"2b07","⬛":"2b1b","⬜":"2b1c","⭐":"2b50","⭕":"2b55","〰":"3030","〽":"303d","㊗":"3297","㊙":"3299","🀄":"1f004","🅿":"1f17f","🈂":"1f202","🈚":"1f21a","🈯":"1f22f","🈷":"1f237","🎞":"1f39e","🎟":"1f39f","🏋":"1f3cb","🏌":"1f3cc","🏍":".append('<em> (Debug: <span class="flag-small flag-'+i.lang_country.toLowerCase()+'"></span> '+i.lang+")</em>"),this.renderVotes(i.votes),this.setupEditBtn(i.edit,i.max_edit_time),this["delete"].toggleClass("hidden",!i["delete"]),this.undelete.toggleClass("hidden",!i.undelete),this.report.toggleClass("hidden",!i.report),this.content.removeClass("hidden"),this.rendered=!0,this.renderChildren(),this.renderPostBtn()},renderDate:function(e,t){this.date.html(e).prop("title",t)},renderMessage:function(i){if("string"==typeof i)return emojione&&this.logic_node.thread.show_emojis&&(i=emojione.toImage(i)),void this.message.html(i);var n=i.m;emojione&&this.logic_node.thread.show_emojis&&(n=emojione.toImage(n));for(var o in i.p){var a=i.p[o];a.is_video="v"===a.t,a.is_profile="p"===a.t,a.is_gallery="g"===a.t,a.is_playlist="f"===a.t,n=n.replace(new RegExp("##A"+a.x+"A##","g"),t.render(r,a))}this.message.html(n).find(".preview").each(function(){var t=e(this),i=t.data("thumb");if(i){var n=t.prev(".icon,.icon-f"),o=t.next(".icon,.icon-f");n=n.length>0&&"string"==typeof n[0].outerHTML?n[0].outerHTML+" ":"",o=o.length>0&&"string"==typeof o[0].outerHTML?" "+o[0].outerHTML:"";var a=e("<span>"+n+"<strong></strong>"+o+'<br><img src="'+i+'" /></span>');a.find("strong").text(t.text());var r=new s(t,a,{relative_to:this.node,trigger:"mouseenter",popup_class:"x-thread-node-link-preview-popup"});t.on("mouseleave",function(){r.close()})}})},renderChildren:function(){this.rendered&&(this.ct||u.__(this.getMessageKey(s),{},o))},hideChildrenError:function(){thiss.report.addClass("success").html(u.__(this.getMessageKey("report_thanks"),{},"Thanks for your re</li>\n\t<li><a href="#" class="worst{{#active_worst}} active{{/active_worst}}">{{{ lbl_wore","text!./sort_popup.mustache","lib/i18n!front"],function(e,t,i,n,s,o){var a=function(e,t,n,s){void 0!==e&&(this.type=etart_worst%Worst%end_worst% / %start_old%Old%end_old% / %start_author%Author%end_author%"),e},a.prototype.getMessageKey=function(e){return"sort_by"===e?"misc.sort_by_top_new_worst_old_author":"reply"===e||"post_reply"===e?"misc.post_message":"sort_by_top"===e?"misc.top":"sen=function(e,t){i.prototype.setNbChildren.apply(this,[e]),this.sort_btn.toggleClass(.__(this.getMessageKey("sort_by_top"),{},"Top"),lbl_new:o.__(this.getMessageKey("sort_by_new"),{},"New"),lbl_worst:o.,lbl_old:o.__(this.getMessageKey("sort_by_old"),{},"Old"),lbl_author:o.__(this.getMessageKey("sort_by_author"),{},"Author"),active_top:"top"===this.sort,active_new:"new"===this.sort,active_worst:"worpreventDefault(),n.logic_node.updateSort("new"),n.sort_popup.close()}),this.sort_worst=i.fnction(t,i){void 0!==i&&e.apply(this,[t,i])};return t.prototype=new e,t.prototype.createChild=function(e,i){danger").html(e.ERROR);else if("string"!=typeof e.URL){var i=this;t.addClass("text-danger").html(this.messages.error_occured_retry.replace("%herefields.id_document.isMissing(this.exemption)?o.WARNING_LEVEL.ALERT:this.isIdenPicUploadUri:function(){throw"Not implemented"},getProfilePicStatusPicto:function(){return ===this.fields.profile_pic.id_file||!this.fields.profile_pic.id_file)||(!(null===this.fields.id_document.id_file||!this.fields.id_document.id_file)||(!(null===this.fields.consent_form.id_file||!this.fields.consent_form.id_file)||!!(this.fields.who_are_they.isRequired()||this.fields.name.isRequired()||this.fields.real_name.isRequired()||this.fields.sex.isRequired()||this.fields.country.isRequired()||this.fields.birth_date.isRequired()))))},setInt:function(e,t){return"string"==typeof t&&(t=parseInt(t)),"number"==typeof t&&!isNaN(t)&&(this[e]=t,!0)},setStr:function(e,t,i){return"string"==typeof t&&(!("object"==typeof i&&!i[t])&&(this[e]=t,!0))},clone:function(){return new o(JSON.parse(JSON.stringify(this)))},getFormattedData:function(e){var t=JSON.parse(JSON.stringify(this));return t.value=t.fields.name.value,t.can_edit=this.canEdit(),t.warning_level=this.getWarningLevel(),t.type_icon=this.getTypePicto(),"string"==typeof e&&"string"==typeof t.value&&(t.highlightedName=n.highlightStringParts(t.value,e)),t.exemption||(t.exemption="NONE"),sType=this.geInputModelType(),sType===o.S_MODEL_TYPE_MODEL?(t.has_id=!0,t.idps=this.iIdps):t.has_id=!1,t},getFieldInfoFormFormat:function(e){var t=undefined;return"sex"===e.name&&(t=this.sex_display),"country"===e.name&&(t=this.country_display),{sValue:e.get(),sRequirement:e.getStatus(),bRequired:e.isRequired(this.exemption),bShown:e.isShown(),bEditable:e.isEditable(),sDisplay:t,aRejectReasons:e.getRejectReasons()}},getInfoFormFormat:function(){var e=this;if(this.bIsLightForm){var i={fields:this.fields,inputs:["name","birth_date","who_are_they"].reduce(function(t,i){return t[i]=e.getFieldInfoFormFormat(e.fields[i]),t},{}),bHasId:this.hasId(),metadata_upload_uri:this.getMetadataUploadUri()};return log.debug("%c oModel --- getInfoFormFormat --- return ligfields.profile_pic.getRejectReasons()},{sInputName:"id_document"cument.isMissing(this.exemption),sFileaccount/models/model-file/id-document/"+this.fields.id_document.id_file},t.prototype.getIdentificationDocUploadUri=function(){return"/account/modelr)},this.intervall-(a-this.last_chec.length;i++){var n=e.children.item(i),s=n.attributes;for(var o in s){var a=s[o],r=a.nodeName,l=a.nodeValue;r!==undefined&&(t[r]=l)}var u=n.nodeName;if("undefined"==typeof t[u])t[u]=_(n);else{if("undefined"==typeof t[u].pueElement)&&!t.complete)&&(e(t)?i&&i.call(t):s(t,i),!0)},v.getTag=function(t,i){if(e(t))return t.exifdata[i]},v.getIptcTag=function(t,i){if(e(t))return t.iptcdata[i]},v.getAllTags=function(t){if(!e(t))return{};var i,n=t.exifdata,s={};for(i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);return s},v.getAllIptcTags=function(t){if(!e(t))return{};var i,n=t.iptcdata,s={};for(i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);return s},v.pretty=function(t){if(!e(t))return"";var i,n=t.exifdata,s="";for(i in n)n.hasOwnProperty(i)&&("object"==typeof n[i]?n[i]instanceof Number?s+=i+" : "+n[i]+" ["+n[i].numerator+"/"+n[i].denominator+"]\r\n":s+=i+" : ["+n[i].length+" values]\r\n":s+=i+" : "+n[i]+"\r\n");return s},v.readFromBinaryFile=function(e){return o(e)},"function"==typeof define&&define.amd&&define("exif-js",[],function(){return v})}.call(this),define("libs/exif",function(){}),define("skins/form/validator/crop_image",["static/utils","./input_base","lib/helpers/overlay/contextual_popup","lib/i18n!front","libs/croppie","jquery-scrollLock","libs/exif"],function(e,t,i,n){var s=function(e,i){"object"==typeof i&&(t.apply(this,[e,i]),this._init())};return s.prototype=new t,s.prototype._init=function(){var e=this;if(this.label=$("#"+this.id+"-label"),0===this.label.length)return void console.error("Unable to find the label");if(this.displayError=$("#"+this.id+"-display-error"),0===this.displayError.length)return void console.error("Unable to find display error crop validator");if(this.displayCrop=$("#"+this.id+"-display"),0===this.displayCrop.length)return void console.error("Unable to find display crop validator");if(this.sourceCrop=$("#"+this.id+"-source"),0===this.sourceCrop.length)return void console.error("Unable to find source crop validator");if(this.actionsCrop=$("#"+this.id+"-actions"),0===this.sourceCrop.length)return void console.error("Unable to find actions crop validator");this.input_agent=this.getInputAgent(),this.adBlockEnabled=!1;var t=document.createElement("div");t.innerHTML="&nbsp;",t.className="adsbox pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",document.body.appendChild(t),window.setTimeout(function(){0===t.offsetHeight&&(e.adBlockEnabled=!0,$("#message_adblock").removeClass("hidden")),t.remove()},100),this.is_ios=/iPod/.test(navigator.userAgent)&&!window.MSStream,this.uploadCrop=!1,this.lastParentWidth=0,this.lastCropWidth=0,this.width=this.options.width,this.height=this.options.height,this.fit_container=this.options.fit_container,this.$container=this.options.$container,this.imageUploaded=!1,this.resizeTimer=!1,this.crop_to_window_size(),this.sourceCrop.on("change",function(){e.hide_crop(),e.imageUploaded=!1,e.validate()}).prop("disabled",!1),$("."+this.id+"-rotate").on("click",function(){return e.rotate_image(this.dataset.action),!1}),$(window).on("resize",function(){e.on_resize()}),this.options.no_init_validate||this.validate()},s.prototype.showIcon=function(e,t){this.icon?this.icon.removeClass():this.icon=this.displayError.find(".icon-error-content"),this.displayError.removeClass("hidden"),this.icon.addClass("icon-f icf-"+e+" text-"+t);var i=this;i.showError(),i.showWarning(),this.icon.on("mouseover",function(){i.showError(),i.showWarning()})},s.prototype.hideIcon=function(){this.icon&&this.displayError.addClass("hidden")},s.prototype.getInputAgent=function(){return this.label},s.prototype.doValidate=function(){if(this.is_ios)return i.alert(n.__("misc.device_not_compatible"),null,!0),!1;if(this.adBlockEnabled)return i.alert(n.__("misc.please_disabled_adblock"),null,!0),!1;if(0===this.sourceCrop[0].files.length)return!this.options.required||(this.setError(this.getMessage("required","Required")),!1);var t=this.sourceCrop[0].files[0].name;if(!t)return!this.options.required||(this.setError(this.getMessage("required","Required")),!1);if("object"==typeof this.options.extensions&&this.options.extensions.length>0){var s="",o=t.lastIndexOf(".");if(-1===o)return this.setError(this.getMessage("extensions","Invalid extension (%extension%).",{"%extension%":e.escape(s)})),!1;if(s=t.substring(o+1).toLowerCase(),!/^[a-z0-1]{2,20}$/.test(s))return this.setError(this.getMessage("extensions","Invalid extension (%extension%).",{"%extension%":e.escape(s)})),!1;var a=!1;for(var r in this.options.extensions)if(this.options.extensions.hasOwnProperty(r)&&this.options.extensions[r].toLowerCase()===s){a=!0;break}if(!a)return this.setError(this.getMessage("extensions","Invalid extension (%extension%).",{"%extension%":e.escape(s)})),!1}return!!this.imageUploaded||(this.read_file(),this.getOrientation(),!1)},s.prototype.getOrientation=function(e){var t=this,i={1:0,6:90,3:180,8:-90,2:0,5:90,4:180,7:-90};(new FileReader).onload=function(e){var n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return!1;for(var s=n.byteLength,o=2;o<s;){if(n.getUint16(o+2,!1)<=8)return callback(-1);var a=n.getUint16(o,!1);if(o+=2,65505==a){if(1165519206!=n.getUint32(o+=2,!1))return!1;var r=18761==n.getUint16(o+=6,!1);o+=n.getUint32(o+4,r);var l=n.getUint16(o,r);o+=2;for(var u,c=0;c<l;c++)if(274==n.getUint16(o+12*c,r)){u=n.getUint16(o+12*c+8,r);break}u&&(t.rotate_image(i[u]),[2,5,4,7].indexOf(u)&&t.flip_image("NORMAL"))}else{if(65280!=(65280&a))break;o+=n.getUint16(o,!1)}}return!1}},s.prototype.read_file=function(){var e=this,t=new FileReader;t.onload=function(i){var n=new Image;n.onload=function(){e.imageUploaded=i.target.result,e.update_crop_image(),e.validate()},n.src=t.result},t.readAsDataURL(this.sourceCrop[0].files[0])},s.prototype.set_image_url=function(e){this.imageUploaded=e,this.update_crop_image()},s.prototype.show_crop=function(){this.displayCrop.removeClass("hidden"),this.actionsCrop.removeClass("hidden")},s.prototype.hide_crop=function(){this.displayCrop.addClass("hidden"),this.actionsCrop.addClass("hidden")},s.prototype.get_container_width=function(){if(!this.$container)return this.sourceCrop.parents("form").innerWidth();var e=window.getComputedStyle(this.$container[0],null);return this.$container[0].clientWidth-(parseFloat(e.paddingLeft)+parseFloat(e.paddingRight))},s.prototype.crop_to_window_size=function(){var e,t,i=this,n=i.get_container_width();if(i.lastParentWidth===n)return!1;if(i.lastParentWidth=n,e=i.width,t=i.height,(i.fit_container||n<300)&&(e=n,t=100*i.height/(100*i.width/n)),i.lastCropWidth===e)return!1;try{i.hide_crop(),i.displayCrop.croppie("destroy"),i.uploadCrop=i.displayCrop.croppie({viewport:{width:e,height:t,type:"square"},enableExif:!0,enableOrientation:!0,boundary:{width:e,height:t},update:function(){i.set_crop_value()}}),i.lastCropWidth=e}catch(s){return console.info(s),!1}return i.displayCrop.children(".cr-boundary .cr-overlay").scrollLock(),!0},s.prototype.update_crop_image=function(){var e=this;this.show_crop(),this.displayCrop.css({visibility:"hidden !important"}),this.uploadCrop.croppie("bind",{url:this.imageUploaded}).then(function(){e.uploadCrop.croppie("setZoom",0),e.displayCrop.css({visibility:"visible"}),e.set_crop_value()})},s.prototype.on_resize=function(){var e=this;this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(function(){e.crop_to_window_size()&&e.imageUploaded&&e.update_crop_image()},10)},s.prototype.set_crop_value=function(){var e=this;this.uploadCrop.croppie("result",{type:"canvas",size:"original"}).then(function(t){e.input.val(t),e.validate()})},s.prototype.getIconPositionReference=function(){return this.sourceCrop},s.prototype.rotate_image=function(e){this.uploadCrop.croppie("rotate",parseInt(e))},s.prototype.flip_image=function(e){var t=this;t.uploadCrop.croppie("bind",{url:t.imageUploaded,orientation:e})},s}),define("text!skins/common/video/user_metadata_suggest/templates/model_info_form.mustache",[],function(){return'<div class="container-model-info-form">\n    <div class="overlay smooth-hidden"></div>\n\n\t<div class="small-padding pull-left">\n\t\t<button type="button" class="btn btn-xs btn-default cancel-model-info-form">\n\t\t\t<span class="icon-f icf-arrow-left"></span> {{{back_to_list}}}\n\t\t</button>\n\t</div>\n\t<div class="clearfix"></div>\n\n\t<h2>{{{ sTitle }}}</h2>\n\n    <form action="#" method="post" class="model-info-form">\n        <div class="row">\n\t        {{#name.bShown}}\n\t\t        <div class="col-sm-6 col-xs-12 model-info-input-block" data-name="name">\n\t\t\t        <label>{{{ name.sDisplay }}}</label>\n\t\t\t        <span class="input-group-btn{{#name.bIsError}} is-error{{/name.bIsError}}">\n\t                    <input type="text" name="name" class="form-control" autocomplete="off"{{#name.bEditable}} placeholder="{{{name.sDisplay}}}"{{/name.bEditable}}{{^name.bEditable}} disabled="disabled"{{/name.bEditable}}/>\n\t                </span>\n\t\t\t\t\t<ul class="reject-reasons">\n\t\t\t\t\t{{#name.aRejectReasons}}\n\t\t\t\t\t\t<li>{{{.}}}</li>\n\t\t\t\t\t{{/name.aRejectReasons}}\n\t\t\t\t\t</ul>\n\t\t        </div>\n\t        {{/name.bShown}}\n\t        {{#real_name.bShown}}\n\t\t        <div class="col-sm-6 col-xs-12 model-info-input-block" data-name="real_name">\n\t\t\t        <label>{{{ real_name.sDisplay }}}</label>\n\t\t\t        <span class="input-group-btn{{#real_name.bHasExemptionToggle}} with-exemption-toggle{{/real_name.bHasExemptionToggle}}{{#real_name.bIsError}} is-error{{/real_name.bIsError}}">\n\t\t\t\t        {{#real_name.bHasExemptionToggle}}\n\t\t\t\t\t        <button type="button" class="model-info-exemption-toggle" data-field="real_name">\n\t\t\t\t\t\t        <span class="icon-f icf-info-slash-circle-o"></span>\n\t\t\t\t\t        </button>\n\t\t\t\t        {{/real_name.bHasExemptionToggle}}\n\t                    <input type="text" name="real_name" class="form-control" autocomplete="off"{{#real_name.bEditable}} placeholder="{{{real_name.sDisplay}}}"{{/real_name.bEditable}}{{^real_name.bEditable}} disabled="disabled"{{/real_name.bEditable}}/>\n\t                </span>\n\t\t\t        {{#sRealNameLegend}}<p class="legend">({{{ sRealNameLegend }}})</p>{{/sRealNameLegend}}\n\t\t\t\t\t<ul class="reject-reasons">\n\t\t\t\t\t{{#real_name.aRejectReasons}}\n\t\t\t\t\t\t<li>{{{.}}}</li>\n\t\t\t\t\t{{/real_name.aRejectReasons}}\n\t\t\t\t\t</ul>\n\t\t        </div>\n\t        {{/real_name.bShown}}\n\t        {{#sex.bShown}}\n\t\t        <div class="col-sm-6 col-xs-12 model-info-input-block" data-name="sex">\n\t\t\t        <label>{{{ sex.sDisplay }}}</label>\n\t\t\t        <span class="input-group-btn{{#sex.bHasExemptionToggle}} with-exemption-toggle{{/sex.bHasExemptionToggle}}{{#sex.bIsError}} is-error{{/sex.bIsError}}">\n\t\t\t\t        {{#sex.bHasExemptionToggle}}\n\t\t\t\t\t        <button type="button" class="model-info-exemption-toggle" data-field="sex">\n\t\t\t\t\t\t        <span class="icon-f icf-info-slash-circle-o"></span>\n\t\t\t\t\t        </button>\n\t\t\t\t        {{/sex.bHasExemptionToggle}}\n\t                    <select name="sex" class="form-control" autocomplete="off"{{^sex.bEditable}} disabled="disabled"{{/sex.bEditable}}>\n\t\t                    {{#sex.bEditable}}\n\t\t\t                    {{#aSexList}}<option value="{{{ sValue }}}"{{#bSelected}} selected="selected"{{/bSelected}}>{{{ sDisplay }}}</option>{{/aSexList}}\n\t\t                    {{/sex.bEditable}}\n\t\t                    {{^sex.bEditable}}\n\t\t\t                    {{#aSexList}}{{#bSelected}}<option value="{{{ sValue }}}" selected="selected">{{{ sDisplay }}}</option>{{/bSelected}}{{/aSexList}}\n\t\t                    {{/sex.bEditable}}\n\t\t\t\t        </select>\n\t                </span>\n\t\t\t\t\t<ul class="reject-reasons">\n\t\t\t\t\t{{#sex.aRejectReasons}}\n\t\t\t\t\t\t<li>{{{.}}}</li>\n\t\t\t\t\t{{/sex.aRejectReasons}}\n\t\t\t\t\t</ul>\n\t\t        </div>\n\t        {{/sex.bShown}}\n\t\t\t{{#birth_date.bShown}}\n\t            <div class="col-sm-6 col-xs-12 model-info-input-block" data-name="birth_date">\n\t                <label>{{{ birth_date.sDisplay }}}</label>\n\t                <span class="input-group-btn{{#birth_date.bHasExemptionToggle}} with-exemption-toggle{{/birth_date.bHasExemptionToggle}}{{#birth_date.bIsError}} is-error{{/birth_date.bIsError}}">\n\t\t\t\t        {{#birth_date.bHasExemptionToggle}}\n\t\t\t\t\t        <button type="button" class="model-info-exemption-toggle" data-field="birth_date">\n\t\t\t\t\t\t        <span class="icon-f icf-info-slash-circle-o"></span>\n\t\t\t\t\t        </button>\n\t\t\t\t        {{/birth_date.bHasExemptionToggle}}\n\t                    <input type="date" name="birth_date" class="form-control" max="{{sBirthDateMax}}" {{#birth_date.bEditable}} placeholder="{{{sBirthDatePlaceHolder}}}"{{/birth_date.bEditable}}{{^birth_date.bEditable}} disabled="disabled"{{/birth_date.bEditable}}"/>\n\t                </span>\n\t\t\t\t\t<ul class="reject-reasons">\n\t\t\t\t\t{{#birth_date.aRejectReasons}}\n\t\t\t\t\t\t<li>{{{.}}}</li>\n\t\t\t\t\t{{/birth_date.aRejectReasons}}\n\t\t\t\t\t</ul>\n\t            </div>\n\t\t\t{{/birth_date.bShown}}\n\t\t\t{{#country.bShown}}\n\t\t        <div class="col-sm-6 col-xs-12 model-info-input-block" data-name="country">\n\t\t\t        <label>{{{ country.sDisplay }}}</label>\n\t\t\t        <span class="input-group-btn{{#country.bHasExemptionToggle}} with-exemption-toggle{{/country.bHasExemptionToggle}}{{#country.bIsError}} is-error{{/country.bIsError}}">\n\t\t\t\t        {{#country.bHasExemptionToggle}}\n\t\t\t\t\t        <button type="button" class="model-info-exemption-toggle" data-field="country">\n\t\t\t\t\t\t        <span class="icon-f icf-info-slash-circle-o"></span>\n\t\t\t\t\t        </button>\n\t\t\t\t        {{/country.bHasExemptionToggle}}\n\t\t\t\t        <select name="country" class="form-control" autocomplete="off"{{^country.bEditable}} disabled="disabled"{{/country.bEditable}}>\n\t\t                    {{#country.bEditable}}\n\t\t\t                    {{#aCountries}}<option value="{{{ sValue }}}"{{#bSelected}} selected="selected"{{/bSelected}}>{{{ sDisplay }}}</option>{{/aCountries}}\n\t\t                    {{/country.bEditable}}\n\t\t\t\t\t        {{^country.bEditable}}\n\t\t\t\t\t\t        {{#aCountries}}{{#bSelected}}<option value="{{{ sValue }}}" selected="selected">{{{ sDisplay }}}</option>{{/bSelected}}{{/aCountries}}\n\t\t\t\t\t        {{/country.bEditable}}\n\t\t\t\t        </select>\n\t                </span>\n\t\t\t\t\t<ul class="reject-reasons">\n\t\t\t\t\t{{#country.aRejectReasons}}\n\t\t\t\t\t\t<li>{{{.}}}</li>\n\t\t\t\t\t{{/country.aRejectReasons}}\n\t\t\t\t\t</ul>\n\t\t        </div>\n\t\t\t{{/country.bShown}}\n\t\t\t{{#bExemptionShown}}\n\t\t\t<div class="col-sm-6 col-xs-12 model-info-input-block" data-name="exemption">\n\t\t\t\t<label>{{{ sExemption }}}</label>\n\t\t\t\t<span class="input-group-btn">\n\t\t\t\t\t<select name="exemption" class="form-control" autocomplete="off"{{^bIsExemptionEditable}} disabled="disabled"{{/bIsExemptionEditable}}>\n\t\t\t\t\t\t{{#aExemptions}}<option value="{{{ sValue }}}"{{#bSelected}} selected="selected"{{/bSelected}}>{{{ sDisplay }}}</option>{{/aExemptions}}\n\t\t\t\t\t</select>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t{{/bExemptionShown}}\n        </div>\n\t\t{{#who_are_they.bShown}}\n\t        <div class="model-info-input-block" data-name="who_are_they">\n\t\t        <label>{{{ who_are_they.sDisplay }}}</label>\n\t\t        <span class="input-group-btn{{#who_are_they.bHasExemptionToggle}} with-exemption-toggle{{/who_are_they.bHasExemptionToggle}}{{#who_are_they.bIsError}} is-error{{/who_are_they.bIsError}}">\n\t\t\t        {{#who_are_they.bHasExemptionToggle}}\n\t\t\t\t        <button type="button" class="model-info-exemption-toggle" data-field="who_are_they">\n\t\t\t\t\t        <span class="icon-f icf-info-slash-circle-o"></span>\n\t\t\t\t        </button>\n\t\t\t        {{/who_are_they.bHasExemptionToggle}}\n\t\t            <textarea name="who_are_they" class="form-control" {{^who_are_they.bEditable}} disabled="disabled"{{/who_are_they.bEditable}}></textarea>\n\t\t        </span>\n\t\t\t\t{{#sWhoAreTheyLegend}}<p class="legend">({{{ sWhoAreTheyLegend }}})</p>{{/sWhoAreTheyLegend}}\n\t\t\t\t<ul class="reject-reasons">\n\t\t\t\t{{#who_are_they.aRejectReasons}}\n\t\t\t\t\t<li>{{{.}}}</li>\n\t\t\t\t{{/who_are_they.aRejectReasons}}\n\t\t\t\t</ul>\n\t        </div>\n\t\t{{/who_are_they.bShown}}\n\n\n\t    {{#bFilesShowBlock}}\n\t\t    <div class="row">\n\t\t\t    <div class="col-xs-12 model-info-files has-{{iFileBlocksCount}}-blocks">\n\t\t\t\t    {{{ sF    <div class="model-info-form-er-block{{#bCanUseFileDrop}} file-drop{{/bCanUseFileDrop}}{{#bHasFileErrors}} has-file}}"{{/bCtionT  <p c :{{/bHasFile}}{{ss="alert-{{sFi>\n\n\t\t\t\t<span class="file-block-overlay uploading-overlay"><span>{{{ sIsUploading }}}</span></span>\n\t\t\t</div>\n\t\t\t{{#bCanUseFileDrop}}<span class="file-block-overlay file-drop-overlay"><span><span class="icon-f icf-upload"></span> {{{ sDropHere }}}</span></span>{{/bCanUseFileDrop}}\n\t\t{{/bCanUpload}}\n\t</div>\n{{/oFile}}\n'}),define("text!skins/common/video/user_metadata_suggest/templates/model_info_form_exemption_pop.mustache",[],function(){return'<div>\n\t<h3>{{{sTitle}}} :</h3>\n\n\t<ul>\n\t\t{{#ativeLink}}} <shoose-thumb">\n\ickFromVideo}}}</hntries,input_not:{exy:n.__("video.user_s.$errorContainer=nulpreventDefault(nputs=this.$overlontent : Model DaeFieldsVisibility(),untry.sRequirenction(){var e=this.getsValue:n,bSelection(){var e="";re(this.oInpoRules.datThey:n.__("videoInputsInfo.exeon.bEditablcel")};returnuired:!!s&&s.bRd:t===o}})):n,bShowAlternativeutton:not(.is-selectp.close(),t.trigger("!1,t.inputs[i].bEditable|with key",i),n.exemptis(this.oInpt=e.getFormInpsInfo.who_are_thlayContent.find(".model-info-input-block[data-name=who_are_they]").hide()}if(e.oInputsInfo.Info).forEach(functeldNameFile(e)){var t=this.getFieldFileName(e);this.$overlayContent.find(y+'[data-name="'+t+'"]').hide()}else{var ilayContent.find(y+'[data-name="'+i+'"]').show()}else{this.showFieldValue(e);var n=this.oInputsInfo[e],s=this.$overlayContent.find('.model-info-input-block[data-name="'+e+'"]');s.show();var o=!!s.find("input").val()||!!s.find("select").val()||!!s.find("textarea").val();t||o||!n.bRequired?s.find(".input-group-btn").removeClass("missing-required"):s.find(".input-group-btn").addClass("missing-required")}},hideFieldValue:function(e){var t=this.$inputs.filter("[name="+e+"]");"exemption"!==e&&t.val()&&(this.oVisibilityToggledInputsValues[e]=t.val(),t.val(""))},showFieldValue:function(e){"exemption"!==e&&"undefined"!=typeof this.oVisibilityToggledInputsValues[e]&&(this.$inputs.filter("[name="+e+"]").val(this.oVisibilityToggledInputsValues[e]),delete this.oVisibilityToggledInputsValues[e])},initSubmit:function(){null!==this.$overlayContent&&(log.debug("initSubmit",this.$overlayContent.find("form").length),this.$overlayContent.find("form").on("submit",this,this.onFormSubmit))},onFormSubmit:function(e){e.preventDefault();var t=e.data;return t.isSubmitLock()?void log.debug("submit form --- RETURN isSubmitLock"):(log.debug("submit form"),t.addSubmitLock(),t.bShouldValidateFormOnInputChange=!0,t.isFormValid()?void t.uploadFormData():void t.removeSubmitLock())},uploadFormData:function(t){if(null!==this.$overlayContent){if(log.debug("uploadFormData"),this.iUploadingCount=0,this.iUploadAwaitCount=0,this.initUploadErrorsReceived(),this.oFormDataTemp=new FormData(this.$form[0]),oSelf=this,sType=this.oModel.geInputModelType(),this.bIsLightForm)return void this.onFormDataUploaded();if(log.debug("uploadFormData",sType),"boolean"==typeof t&&sType!==d.S_MODEL_TYPE_UNIDENTIFIED||(t=!1),!t){var i=Object.entries(e.dyn.modelSuggest.newSuggestedModel).reduce(function(e,t){var i=t[0],n=t[1];return(n&&!n.is_file||"exemption"===i)&&e.push(i),e},[]),s=new FormData,o=[],a="",r=!1;for(var l in i){var u=i[l],c=this.$inputs.filter("[name="+u+"]"),f=c&&c.length,h=f?c.val():"exemption"===u?d.S_EXEMPTION_NONE:"";"exemption"===u&&(r=!0),f&&h&&h.length&&this.oInputsInfo[u]&&this.oInputsInfo[u].sDisplay&&o.push(this.oInputsInfo[u].sDisplay),s.append(u,h)}r||s.append("exemption",d.S_EXEMPTION_NONE),this.iUploadingCount++,this.iUploadAwaitCount++,a=o.length?"<br/> - "+o.join("<br/> - "):"<br/> - ("+n.__("video.user_suggest.no_data_sent")+")",Object.entries(this.oModel.fields).forEach(function(e){var t=e[0],i=e[1];if(!i.is_file){var n=oSelf.$inputs.filter('[name="'+t+'"]');n&&n.length&&i.set(n.val())}}),log.debug("uploadFormData --- AJAX MetaData Sending",this.oModel.getMetadataUploadUri(),s),this.bCloseLock=!0,$.ajax({url:this.oModel.getMetadataUploadUri(),type:"POST",data:s,contentType:!1,processData:!1,success:function(e){log.debug("uploadFormData --- AJAX MetaData SUCCESS",e);var t=!0;if(e.result){var i=!1;oSelf.iUploadAwaitCount--,e.data&&sType===d.S_MODEL_TYPE_UNIDENTIFIED&&(e.data.modelId?(oSelf.setModelIdSuggestion(e.data.modelId),oSelf.upf.formDataUploadError(s):oSelf.formDataUploadError(s+a)}t&&oSelf.formD?s.uploadFile(tsage,o=n.__("misc.inding",e.sFileUploadUri,t);var r=e.sSetIdFuncName;this.bCloseLock=!1,processData:!1,success:function(t){if(log.debug("uploadFormData --- AJAX FILE SUCCESS",t),t.result)a.iUploadAwaitCount--,t.data&&t.data.data.documentFileId);else{var n=ents(y);i.addClass("has-file-rrorsReceived)},onFormDataUplos.getFormInputsValues(),s=!0,o=[],sFormValid "es[_].toLocaleString(e.dynfield")),log.debuthis.$inputs.filter("[name=red){var c=this.$inputs.filter("[name="+D.sInputName+"]").val();void 0!==c&&""!==c||(s=!1,r(D.sInputName,D.sDisplay,n.__("video.user_suggest.empty_field")),log.debug("isFormValid --- ERROR","empty",{sKey:l,sValue:c,oFileInfo:D},"color: crimson"))}}return this.setFormErrors(o),log.debug("isFormValid",s?"FORM IS VALID":"Form has ERRORS",o,i),inline_loader","lib/helpers/scrollbar","./model_existing","./model_suggest","text!./templates/models_list.mustache","text!./templates/find_models.mustache"],function(e,t,i,n,s,o,a,r,l,u,c){var f=function(){this.iModelMinSearchEntryLength=1,this.iWhoAreTheyEntryLength=10,this.bIsForUpload=!1,this.bDisplayMobile=$(window).width()<1024,this.sLastSearch=null,this.sSearchInputSelector=null,this.bIsLightModelCreation=!1,this.sContainer=null,this.$ModelsList=null,this.xCurrentRequest=null,this.oRequestTimer=null,this.bIsLoading=!1,this.oSearchCache={},this.oModelsCache={id:{},ids:{},ide:{}},"xnxx"===e.sitename?this.sDefaultProfilePicture="/profiles-picture/xnxx":this.sDefaultProfilePicture="/profiles-picture/xvideos",this.oModelCreator=null};return f.prototype={fnSetIsForUpload:function(){this.bIsForUpload=!0},fnSetSearchInputSelector:function(e){this.sSearchInputSelector=e},fnSetModelCreationToLight:function(e){this.bIsLightModelCreation="boolean"!=typeof e||e},fnSetContainerSelector:function(e){this.sContainer=e},fnManageModelInput:function(){var e=this;$(window).on("click",function(t){return!!e.$ModelsList.is(":hidden")||(void 0!==$(t.target).parents("#models_list").get(0)||void 0!==$(t.target).parents(e.sContainer).get(0)||void e.fnClose())}),this.$ModelsList.find(".mozaique").each(function(){"is-init"!==$(this).data("model-submitted-click")&&($(this).data("model-submitted-click","is-init"),$(this).on("click",".model-submitted",function(t){t.preventDefault(),t.stopPropagation();var i={};if($(this).data("id")&&"undefined"!=typeof e.oModelsCache.id[$(this).data("id")])i=new r(e.oModelsCache.id[$(this).data("id")]);else if($(this).data("ids")&&"undefined"!=typeof e.oModelsCache.ids[$(this).data("ids")])i=new l(e.oModelsCache.ids[$(this).data("ids")]);else{if(!$(this).data("ide")||"undefined"==typeof e.oModelsCache.ide[$(this).data("ide")])return;i=new l(e.oModelsCache.ide[$(this).data("ide")])}e.fnTriggerAddModelToList(i),e.fnTriggerCleanUpModelInput()}))}),$(this.sSearchInputSelector).off("click focus").on("click focus",function(t){t.stopPropagation();var i=$(this).val();i.length>=e.iModelMinSearchEntryLength&&e.fnDrawModelsDataList(i)}).off("keyup change").on("keyup change",function(t){var i=$(this).val();if(null===e.sLastSearch||e.sLastSearch!==i){if(e.sLastSearch=i,i.length<e.iModelMinSearchEntryLength)return void e.fnClose();e.fnGetModelsSuggestionsList(i)}}).off("paste").on("paste",function(e){$input=$(this),setTimeout(function(){$input.trigger("keyup")},100)})},fnClose:function(){this.$ModelsList.hide(),this.$ModelsList.find(".mozaique").empty()},fnGetModelsSuggestionsList:function(i){if(null!==this.xCurrentRequest&&("function"==typeof this.xCurrentRequest.abort&&this.xCurrentRequest.abort(),this.xCurrentRequest=null),null!==this.oRequestTimer&&(clearTimeout(this.oRequestTimer),this.oRequestTimer=null),"undefined"!=typeof this.oSearchCache[i]&&Date.now()-this.oSearchCache[i].iTime<12e4)return this.setSuggestionsListLoading(!1),void this.fnDrawModelsDataList(i);this.setSuggestionsListLoading(!0);var n=this;this.oRequestTimer=setTimeout(function(){var s="/video-user-suggest/find-model";n.oRequestTimer=null,n.bIsForUpload&&(s+="/upload"),n.xCurrentRequest=$.ajax({method:"POST",url:s,data:{model_name:i,csrf:e.dyn.csrf_find_model},dataType:"json",success:function(e){if(n.setSuggestionsListLoading(!1),!e.result||"undefined"==typeof e.models)return void n.fnGenerateFindModelError(!("string"!=typeof e.message||!e.message.length)&&e.message);var t,s=e.models||[],o=e.suggestions||[],a={id:[],ids:[],ide:[]};for(t in s)n.oModelsCache.id[s[t].id]=s[t],a.id.push(s[t].id);for(t in o){var r=o[t];r.ids?(n.oModelsCache.ids[r.ids]=r,a.ids.push(r.ids)):r.ide&&(n.oModelsCache.ide[r.ide]=r,a.ide.push(r.ide))}n.oSearchCache[i]={iTime:Date.now(),oSearch:a},n.fnDrawModelsDataList(i),null!==n.xCurrentRequest&&(n.xCurrentRequest=null)},error:function(e,i,s){"string"==typeof s&&s.length||(s="ajax error"),s+="<br/>("+t.escape(t.unescape(s))+")",s+=e.status?"<br/>("+t.escape(t.unescape(e.status))+")":"",n.setSuggestionsListLoading(!1),n.fnGenerateFindModelError(s),null!==n.xCurrentRequest&&(n.xCurrentRequest=null)}})},250)},setSuggestionsListLoading:function(e){if("boolean"!=typeof e&&(e=!0),this.bIsLoading!==e)if(this.bIsLoading=e,e){var t=$('<span class="loader"></span>');t.append(o.getIcf()),this.$ModelsList.show().find(".mozaique").empty().append(t),this.$ModelsList.find("#add_new_form_access").prop("disabled",!0)}else this.$ModelsList.find(".mozaique").find(".loader").remove(),this.$ModelsList.find("#add_new_form_access").prop("disabled",!1)},getSearchOrderedModelList:function(e){var t=[];if("undefined"==typeof this.oSearchCache[e])return t;var i={ids:0,ide:0,id:0},n=[Math.floor(15),30];for(var s in n){var o=n[s];for(var a in i){var r=this.oSearchCache[e].oSearch[a]&&this.oSearchCache[e].oSearch[a].length?this.oSearchCache[e].oSearch[a].length:0;if(!(t.length>=o&&"id"!==a))for(;i[a]<=o&&i[a]<r;){var l=this.oSearchCache[e].oSearch[a][i[a]];if("undefined"!=typeof this.oModelsCache[a][l]&&t.push(this.oModelsCache[a][l]),i[a]++,t.length>=o&&"id"!==a)break;if(t.length>=30)return t}}}return t},fnDrawModelsDataList:function(e){if("undefined"==typeof this.oSearchCache[e])return!1;var t=this.getSearchOrderedModelList(e),n=this.fnFormatModelsList(t,e),s=i.render(u,{models:n})emove"===i?l.fnAddToTmpRemoveSuggestionsStored(o,a,r):l.fnRemoveFromTmpRemoveSuggestionsStored(o,a,r)},error:function(e,i,n){"string"==typeof n&&n.length||(n=t.unescape(s.__("internal_error"))),n+="<br/>("+t.escape(t.unescape(n))+")",n+=e.status?"<br/>("+t.escape(t.unescape(e.status))+")":"",l.fnGenerateError(n,o)}})},fnManageTagInput:function(){var e=this;this.$popupContent.find(".validate-suggest-tag").on("click",function(t){t.preventDefault(),t.stopImmediatePropagation();var i=$(this).parent().find("input[name=metadata_tag_suggestion]");e.fnValidateTagInput(i.val())}),this.$popupContent.find("input[name=metadata_tag_suggestion]").on("keyup",function(t){tAllFields:function(){this.fnCleanUpModelInput()},fnAddItemToList:function(n,o){var a=this;if(this.fnCountMetadataTypeItems(n)>this.iLimitMetadataLength)return void a.fnGenerateError(t.unescape(s.__("video.users_suggest.max_metadata_length_reached")),n);var r=!1,c="tag"===n?"keyword":"model",f={csrf:e.dyn.csrf_submit_suggestion};if(!("undefined"!=typeof o.id&&null!==o.id||"undefined"!=typeof o.value&&null!==o.value))return void a.fnGenerateError(t.unescape(s.__("video.users_suggest.failed_suggestion_try_later")),n);if(this.fnMetadataAlreadyExist(n,o)){var d=null;return"model"===n&&(d="undefined"!=typeof o.who_are_they.value?".new-model-error-global":".add-model-error-global"),void a.fnGenerateError(t.unescape(s.__("video.user_suggest."+n+"_already_exists")),n,d)}"undefined"!=typeof o.id&&null!==o.id?f.id_element=o.id:"undefined"!=typeof o.value&&null!==o.value&&(f.element_name=o.value),"model"===n&&(Object.entries(o.fields).forEach(function(e){var t=e[0],i=e[1];"undefined"!=typeof i.value&&null!==i.value&&(r=!0,f[t]=i.value)}),!0===r&&this.oModelFindDropDown.fnDisplayModelInputWaitMessage()),$.ajax({method:"POST",url:"/video-user-suggest/"+a.sIdVideo+"/add/"+c,dataType:"json",data:f,success:function(e){if(!1===e.result)return void a.oModelFindDropDpeof d.pltype||"videosilike"!==d.pltype)return;_=d.pltype}else if("string"==tyw Promise(function(e,t){r.getIds().then(function(t){i.ids=t.join(","),e(i)})});i.ids=r.getIds().join(",")}}else"random"===_&&(t=se("fav_"+h).join(","),i={ordered_ids:t.length>0?t:O});return i},le=function(e,t){var i="";t&&(i=' class="text-danger"'),H?H.setContent("<strong"+i+">"+e+"</strong>"):H=new o(y,"<strong"+i+">"+e+"</strong>",{trigger:!1,position:{v:"below",h:"right"},r(){(U+F<=o-F||V||!q)&&(L=U+F===o&&V,y.html("&gt;").toggleClass("disabled",L).css("cursor","").toggleClass("ass("hidden").children("h4").html(r);var l=$(n.replaceThumbcast(s.html));v.html(l),n.executp>");_e()},"json").fail(_e)};return e.dyn.login_info.is_logged&&e.dyn.login_info.profile||!f?(o(re()),m):new Promise(function(e,t){re().then(function(t){o(t),e(m)})})},ge=function(t,i,n,s){var o;e.dyn.login_info.is_logged&&e.dyn.login_info.profile||!f?o=re():re().then(function(e){o=e}),console.log(o),$.post(ne(t,i),o,function(e){return e.result?(n(e),void s()):(s(),e.message?void ce(i,e.message,!0):(ce(i,M.failed_loading_vids,!0),void he(U,!0)))},"json").fail(function(){s(),ce(i,M.failed_loading_vids,!0)})},be=function(){if(!q&&!V)return q=!0,ge(T,"after",function(e){var t=$(n.replaceThumbcast(e.html));v.append(t),n.executePendingPrepare(v.find(".thumb-block")),xv.thumb_block_initiator?xv.thumb_block_initiator.init_listing(t,{is_thumb_list:!0}):a(t,!0),e.end_reached&&(V=!0),z+=e.videos.length,T=e.videos[e.videos.length-1],he(U,!0)},function(){q=!1})},ve=function(){if(!W&&!B)return W=!0,ge(E,"before",function(e){var t=function(){var t=$(n.replaceThumbcast(e.html));v.prepend(t),n.executePendingPrepare(</div>\n'}),define("skins/common/video/sponsor",["mustache","static/utils","lib/i18isTrailer(a)?o.oTrailer:o.oFreeVideo)),u=l[0],c=l[1],f={};f.pseudo=a.p,a.i&&(f.postid=a.i),f.vartext=u;var d="https://visit.sheer.com/c/"+r+t.objectToGetParams(f);return $(e.render(s,{get_full_video_on:i.__(c,{"%strong%":"<strong>","%strong_end%":"</strong>","%site%":'<div class="sheer-bg"><a href="'+d+'" target="_blank" rel="noopener">'+n.capitalizeWord(a.n)+"</a></div>"})}))},isTrailer:function(e){return e.t===undefined?e.i!==undefined:e.t&&e.i},getLegacySponsorLink:function(t){return $(e.render(s,{get_full_video_on:i.__("video.get_full_on",{"%strong%":"<strong>","%strong_end%":"</strong>","%site%":'<div class="sheer-bg"><a href="'+t.u+'" target="_blank" rel="noopener">'+n.capitalizeWord(t.n)+"</a></div>"})}))}},new a}),define("skins/common/video/related",["config/main","static/dom","lib/helpers/thumbs_rotator","lib/tools"],function(e,t,i,n){var s,o=$("#related-videos"),a=o.children(".show-more"),r=!1,l=o.children(".mozaique"),u=l.children(".thumb-block"),c=!1;0===a.length&&(a=o.children(".row").find(".show-more"));var f=function(e){if(!0===e||c){c=!1,s=null;var (t.rtl="rtl"),t}return!1},is_used_by_lang:function(e){},is_validated_by_lang:function(e){},update:function(){},get:function(e){for(var t in this.all)if(this.all[t].c==e)return this.compile_elem(this.all[t]);return!1},get_all:function(){var e=[];for(var t in this.all){var i=this.compile_elem(this.all[t]);i.order=t,!1!==i&&e.push(i)}return e},geve_to:t,popup_class:"video-page-lang-switcher-popup"}},get_tpl_lang_list_options:function(e){return{id:"video-page-lang-sel-"+e,translated_title:s.__("form.translation_already_validated"),languages:this.get_all()}},organize_col:function(e){if(e&&0!=e.opened&&$(e.popup).length){var t=$(e.popup).find("ul"),i=parseInt(t.width()),n=t.children("li"),s=parseInt(n.first().width()),o=Math.round(i/s),a=Math.ceil(n.length/o);n.detach().sort(function(e,t){var i=parseInt($(e).data("order")),n=parseInt($(t).data("order"));return i=i%a*999+i,n=n%a*999+n,i<n?-1:i>n?1:0}),t.append(n)}}},a}),define("skins/xnxx/video/user_suggest/title/locales",["../locales","config/main"],function(e,t){var n=function(t){e.apply(this,arguments)};return n.prototype=new e,n.prototype.is_used_by_lang=function(e){return-1!==$.inArr!=typeof e&&(e=$("#video-rename-"+this.id+" rror",{"%min%":String(this.min_words_or_chars)}))}else $.trim(e).length<this.min_words_or_chars&&(t=s.__("video.rename.min_chars_error",{"%min%":String(this.min_words_or_chars)}));return $.trim(e).length>this.max_chars&&(t=s.__("video.rename.max_chars_error",{"%max%":String(this.max_chars)})),t},is_error_tooltip:function(){"not_savable"===this.save_status&&this.open_tooltip(this.is_error())},open_tooltip:function(e,i){null===this.pop?this.pop=new t($("#video-rename-"+this.id+" .lang-save"),"",{trigger:!1,position:{v:"above",h:"right"},popup_class:"rename-input-error",autoclose:"number"==typeof i?i:2e3}):this.pop.options.autoclose="number"==typeof i?i:2e3,this.pop.open(),this.pop.setContent($("<p class='message'>"+e+"</p>"))},close_tooltip:function(){null!==this.pop&&this.pop.isOpened()&&this.pop.close()},add_save_class:function(e){var t="saving saved not_savable";"string"==typeof e?$("#video-rename-"+this.id+" .lang-save").removeClass(t).addClass(e):$ave").removeClass(t)},is_focus:function(){return $("#video-rename-"+this.id+" input[type=text]").is(":focus")},set_focus:function(){this.is_focus()||$("#video-rename-"+this.id+" input[type=text]").select()},get_lang_btn_widthis).data("lang")),t.form.focus_input($(this).data("lang"))},function(){t.form.focus_input($(this).data("lang"))}),this.updated=!0}}},close_lang_popup:function(){this.pop&&"function"==typeof this.pop.close&&this.pop.close()}},s}),define("text!skins/xnxx/video/user_suggest/title/edit_title_btn.mustache",[],function(){return'\n<button type="button" id="video-rename" class="loading" title="{{ edit }}">\n\t<span class="icon-f icf-pencil"></span>\n\t{{{ loader }}}\n</button>'}),define("text!skins/xnxx/video/user_suggest/title/form.mustache",[],function(){return'<div>\n\t<h1>{{{ title }}} :</h1>\n\t<h2>{{{ video_title }}}</h2>\n\t<h3>{{{warning}}}</h3>\n\t<form id="video-rename-form">\n\t\t{{{ new_inp_btn }}}\n\t</form>\n</div>'}),define("sk","./title/locales","./title/input","./title/new_input_btn","text!./title/edit_title_btn.mustache","text!./title/form.mustache"],function(e,t,i,n,e={initForm:!1,overlay:null,locales:null,video:null,inputs:[],inputs_id_count:0,new_inp_btn:null,init_vars:function(){this.init_video_infos(),this.inputs=[],this.inputs_id_count=0,this.new_inp_btn=new u(this)pdate()},submit_form:function(e){e.preventDefault()},update:function(e){var t=0;for(var i in this.inputs)if(this.inputs[i].update(),e){var n=this.inputs[i].get_lang_btn_width();n>t&&(t=n)}if(e){t>100&&(t=100);for(var i in this.inputs)this.inputs[i].set_lang_btn_width(t)}this.new_inp_btn.update(),this.locales.update()},create_input:function(e,t,i,n){if(!this.locales.is_validated_by_lang(e)){this.inputs_id_count++;var s=new l(this.inputs_id_count,e,this,"string"==typeof t&&t,void 0!==i&&i,void 0!==n&&n);this.inputs.push(s),this.insert_input(s)}},insert_input:function(e){this.close_lang_popups(),$(e.render()).insertBefore($("#video-rename-new-lang")),this.update(!0)},focus_input:function(e){this.get_input_by_lang(e).set_focus(),this.close_lang_popups()},get_input_by_lang:function(e){for(var t in this.inputs)if(this.inputs[t].lang==e)return this.inputs[t]},close_lang_popups:function(){this.new_inp_btn.close_lang_popup();for(var e in this.inputs)this.inputs[e].clos:t};null!==i&&null!==s&&(a.idreq=i,a.token=s),$.post({dataType:"json",url:"/video-user-suggest/"+this.video.id+"/submit",data:a,success:function(i,s,a){if(!0===i.result){var r=o.get_local_saved_inputs(),l=!1;for(var u in r)r[u].lang===e&&(r[u].title=t,r[u].timestamp=$.now(),l=!0);!1===l&&r.push({title:t,lang:e,id_req:i.idreq,token:i.token,timestamp:$.now()}),n.set("inputs",r,o.get_local_storage_namespace()),o.get_input_by_lang(e).saved(i.idreq,i.token)}else o.get_input_by_lang(e).updated_title("save_failed"),o.get_input_by_lang(e).open_tooltip(i.message)},error:functi},get_local_saved_inputs:function(){var e=n.get("inputs",this.get_local_storage_namespace());return e&&"object"==typeotimestamp?0:e.timestamp<t.titypeof e&&setTims="video-gold"></span>{{/cover}}\n\t\t\t<span class="premium-log-overlay"><span class="icon-f icf-play"></span></span>\n\t\t</div>\n\t\t<p>{{{ text_side }}}</p>\n\t</div>\n\t<p>{{{ text_under }}}</p>\n</div>'}),define("skins/xnxx/video/premium_block_popup",["config/main","mustache","lib/i18n!front","lib/helpers/overlay/box","lib/helpers/thumbs_rotator","lib/helpers/thumbs/wall","skins/common/video/fake_loader","skins/xnxx/form/login","text!skins/xnxx/video/premium_blo(".premium-log-overlay").length&&(require(["skins/common/purchase_form/purchase_f()}),!(e.dyn.is_premium&&e.dyn.video_premium&&(e.dyn.video_premium.membership||e.dyn.video_premium.ppv)||,c=function(){if("function"==typeof r.setTempOrigin&&"video"===e.data.action)if(-1!==window.location.search.indexOf("xsc=qp"))r.setTempOrigin("quickies_profile");else if(-1!==window.location.search.indexOf("xsc=qssearch.substring(t+7,t+8),n="m"===i;n&&(i=window.location.search.substring(t+8,t+9)),r.setTempOrigin("full_vmpOrigin(s?"premium_on_freelogin_info.nction(e){e.preventDefa .video-metadata").find("a, span, button, input, textarea, select, .btn").each(function(){var e=$(this);e.closest("#disclaimer_message").length||e.coverlay/contextual_popup","skins/form/validator","lib/i18n!front"],function(e,t,i,n,s,o,a){var r=function(){tt("/video-report/"+e.data.id_video+"/0",u,function(e){if(!e.result){if(12===e.code){var i=$(e.form);l.replaceWith(i),l=i,t.aJsRules=e.js_rules,t.setupForm();var n=$("div.g-recaptcha");return void(n.length>0&&grecaptcha.render(n[0]))}return void s.alert(e.message,function()},!0)}).done(function(){r.close()})})}},r}),define("skins/xnxx/video",["config/main","skins/xnxx/header/all_pagarea&&("boolean"!=typeof e.dyn.video_premium_user_allowed||!1!==e.dyn.video_premium_user_allowed)&&e.dyn.login_info.is_loggo(e.data.id_video,"aVideosILike.ids"),n.__("video.votes.thanks"))},null),e.dyn.premium||e.dyn.login_-title-container"),u=!1;if(l.length&&r&&r.length){var c=l.width(),f=r.width(),d=f-c;d>400&&(o.appendTo(r),o.css("width",Math.min(.7*r.werrorChanged(!0,this));this.hideTooltip(),this.errorChanged&&this.errormoveClass("validator-error"),this.checkbox_err&&this.checkbox_err.popup=null,this.popup_timer=null,this.has_error=!1,this.error_txt=!1,thisyreturn s}({1:[function(e,t,i){"use strict";t.exports=function(e,t,i){if("function"==typeof Array.prototype.find)retu[\d{12ted. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===undefined?this.localeData(),N("second","s"),B("second",15),K("s",ws),K("ss",ws,bs),ee(["s","ss"],js);var Lo=q("Seconds",!1);S("S",0,0,function(){return~~(this.milli0))}),r.search&&t.on("@search.focus",function(){t.stayFocused=!0,t.search.addClass("focused")}).on("@se("<link/>",{rel:"stylesheet",href:t
}).appendTo("head"));O.lengtites.svg",P.imageType=i.imageType),c(n)>4?(U=P.regUnicode,P.imageType=i.imageTe();i.moveToElementText(e),i.setStart(t.startContanier,t.startOffset),i.setEnd(t.endContainer,t.endOffset),i.select()});var U,B={defaultBase:"https://cdnjs.cloudflare.com/ajax/libs/emojione/",defaultBase3:"https://cdn.jsdelivr.net/",base:null,isLoading:!1},j=function(e,i){var n=this;x(i),$[n.id=++T]={},I[n.id]={},t(function(){k(n,e,i)})};j.prototype.on=function(t,i){if(t&&e.isFunction(i)){var n=this;e.each(t.toLowerCase().split(" "),function(e,t){F(n,t),($[n.id][t]||($[n.id][t]=[])).push(i)})}return this},j.prototype.off=function(t,i){if(t){var n=this.id;e.each(t.toLowerCase().replace(/_/g,".").split(" "),function(t,s){$[n][s]&&!/^@/.test(s)&&(i?e.each($[n][s],function(e,t){t===i&&($[n][s]=$[n][s].splice(e,1))}):$[n][s]=[])})}return this},j.prototype.trigger=function(){var e=L.call(arguments),t=[this].concat(e.slice(0,1));return t.push(e.slice(1)),i.apply(this,t)},j.prototype.setFocus=function(){var e=this;return t(fuTEXTAREA")||t.is("INPUT")?t.val():t.text(),s)),t})}),thddClass("text-danger"),this.setError(this.getMessage(options.show_emojis&&$("#"+this.id+"_emoji .emojionearea-editor").length>0?$($("#"+thiins/form/validator/file_validator",["static/utils","./input_base""==typeof this.options.extensions&&this.options.extensions.length>0){var i="",n=t.lastInxtension%).",{"%extension%":e.escape(i)})),!1}return!0},i}),define("skins/form/validator/integerl())?s.validator.setWarning("<span>"+s.options.mismatch_}),this.validate()}};return t.prototype=new e,t.prototype.doValidate=function(e){return 0===e.length?!this.options.required||(this.setError(this.getMessage("required","Required")),!1):e.match(/^\d+(\.\d+)?$/g)?(e=parseFloat(e),null!==this.options.min&&e<this.options.min?(this.setError(this.getMessage("min","Must be greater than %min%",{"%value%":e.toString(),"%min%":this.options.min})),!1):!(this.options.max>0&&e>this.options.max)||(this.setEr_))&&'"+275760-09-13T00:00:00.000-31T23:59:59.999Z"'==i(new f(-1))})}}else{var s,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var i=n.stringi2\x5c]/g,T=function(e){return E.lastIndex=0,'"'+(E.test(e)?e,c||u){case"boolean":case"[object Boolean]":return""+l;case"number":case"[obr(s=o.charCodeAt(I),t=I;s>=32&&92!=s&&34!=s;)s=o.charCodeAt(++I);e+=o.slice(t,I)}if"==r)return I+=4,!0;if("fals"==r&&101==o.charCodeAt(I+4))return I+=5,!1;if("null"==r)return I+=4,null;L()}return"$"},N=function(e){var t,i;if("$"==e&&L(),"string"==typeof e){if("@"==(y?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=A());)i?","==e?"]"==(e=A())&&L():L():i=!0,","==e&&L(),t.push(N(e));return t}if("{"==e){for(t={};"}"!=(e=A());)i?","==e?"}"==(e=A())&&L():L():i=!0,","!=e&&"string"==typeof e&&"@"==(y?e.charAt(0):e[0])&&":"==A()||L(),t[e.slice(1)]=N(A());return t}L()}return e},R=function(e,t,i){var n=U(e,t,i);n===m?delete e[t]:e[t]=n},U=function(e,t,i){var n,s=e[t];if("object"==typeof s&&s)if("[object Array]"==b.call(s))for(n=s.length;n--;)R(b,w,s);else w(s,function(e){R(s,e,i)});return i.call(e,t,s)};n.parse=function(e,t){var i,n;return I=0,P=""+e,i=N(A()),"$"!=A()&&L(),I=P=null,t&&"[object Function]"==b.call(t)?U((n={},n[""]=i,n),"",t):i}}}return n.runInContext=e,n}var t="function"==typeof define&&define.amd,i={"function":!0,object:!0},n=i[typeof exports]&&exports&&!exports.nodeType&&exports,s=i[typeof window]&&window||this,o=n&&i[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!o||o.global!==o&&o.window!==o&&o.self!==o||(s=o),n&&!t)e(s,n);else{var a=s.JSON,r=s.JSON3,l=!1,u=e(s,s.JSON3={noConflict:function(){return l||(l=!0,s.JSON=a,s.JSON3=r,a=r=null),u}});s.JSON={parse:u.parse,stringify:u.stringify}}t&&define("json3",[],function(){return u})}.call(this),define("lib/json",[],function(){"undefined"!=typeof JSON&&"undefined"!=typeof JSON.parse||require(["json3"])}),define("skins/form/validator/tag_adder",["lib/converter","lib/tools","static/utils","./input_base","skins/form/widget/tag_adder","lib/json"],function(e,t,i,n,s){var o=function(e,t){"object"==typeof t&&(this.setupXhr("title_blacklist","/account/checkblacklist","title"),this.setupXhr("step_blacklist","/account/checkstep","string"),n.apply(this,[e,t]),this._init())};return o.prototype=new n,o.prototype._init=function(){new s(this.input.parents(".tag-adder"));var e=this;this.input.on("change input",function(){e.validate()}),this.input.parent().children("input[type=text]").on("blur",function(){e.validate()}),this.options.show_char_count&&this.initCounter(),this.options.no_init_validate||this.validate()},o.prototype.options_choices=!1,o.prototype.cleanTags=function(e){var n=[],o=this;if("object"==typeof this.options.choices&&!1===this.options_choices){this.options_choices=[];for(var a in this.options.choices){var r=this.options.choices[a];"number"==typeof r&&(r=r.toString()),this.options_choices.push(t.translit(r))}}for(var l in e){var u=e[l];"number"==typeof u&&(u=u.toString());var c=i.escape(i.unescape(u.toString()).replace(/\ +/g," ").trim().toLowerCase(),!0),f=function(){var e=s.getInstance(o.input);if(!e)return!1;e.del_tag(u)},d=this.input.parents(".tag-list").find('[data-elem="tag"][data-value="'+u+'"]');if("undefined"!=typeof this.options.choices&&$.isArray(this.options.choices)&&this.options.choices.length>0){if(-1===this.options_choices.indexOf(t.translit(u)))return this.setError(this.getMessage("not_in_list","'%value%'",{"%value%":u}),f),!1;n.push(u)}else{if(!(c.length>=this.options.min_tag_length))return d.addClass("error"),this.setError(this.getMessage("input_too_short","%value% is too short (%nb_chars% characters min)",{"%value%":'"'+u+'"',"%nb_chars%":this.options.min_tag_length}),f),!1;if(!(c.length<=this.options.max_tag_length))return d.addClass("error"),this.setError(this.getMessage("input_too_long","%value% is too long (%nb_chars% characters max)",{"%value%":'"'+u+'"',"%nb_chars%":this.options.max_tag_length}),f),!1;d.removeClass("error"),n.push(u)}}return n},o.prototype.doValidate=function(e){""===e&&(e="[]");var t=JSON.parse(e),i=this.cleanTags(t,this.options);return!1!==i&&(this.counter&&(this.counter.removeClass("text-danger").children(".count").html(i.length),0===i.length?this.counter.addClass("empty"):this.counter.removeClass("empty")),this.options.min_tags>0&&("object"!=typeof t||i.length<this.options.min_tags)?(this.counter&&this.counter.addClass("text-danger"),this.setError(this.getMessage("min_tags","%nb% tags minimum",{"%nb%":this.options.min_tags})),!1):!(this.options.max_tags>0&&i.length>this.options.max_tags)||(this.counter&&this.counter.addClass("text-danger"),this.setError(this.getMessage("max_tags","%nb% tags maximum",{"%nb%":this.options.max_tags})),!1))},o.prototype.getTooltipParent=function(){return this.input.parents(".content")},o.prototype.getIconPositionReference=function(){return this.input.parents(".tag-list").children("label")},o.prototype.getInputAgent=function(){return this.input.parents(".tag-list")},o.prototype.counter=!1,o.prototype.initCounter=function(){var e=this.options.max_tags>0&&this.options.max_tags;this.counter=$("<span class='floating-count'><span class='count'></span>"+(e?"<span class='max'>/"+e+"</span>":"")+"</span>"),this.counter.insertAfter(this.input.parent())},o}),define("skins/form/validator/title_blacklist",["./string"],function(e){var t=function(t,i){i.options.blacklist&&this.setupXhr("title_blacklist","/account/checkblacklist","title"),i.options.step_blacklist&&this.setupXhr("step_blacklist","/account/checkstep","string"),e.apply(this,[t,i])};return t.prototype=new e,t.prototype.doValidate=function(t){return!!e.prototype.doValidate.apply(this,[t])},t}),define("skins/form/validator/translations_langs",["static/utils","./base"],function(e,t){var i=function(e,t,n){return!!e&&("string"==typeof t&&0!==t.length&&"empty"!==t&&("unk"===t?i(!0,n,!1):t))},n=function(e,i){t.apply(this,[e,i]);var n=e.getRoot();this.fields=[],this.langs=[];for(var s in i.options.fields)this.setupField(n,i.options.fields[s],i.options.lang_suffix)};return n.prototype=new t,n.prototype.setupField=function(e,t,n){var s="#"+e.form.prop("id")+"_"+t.replace(/\|/g,"_"),o=$(s);if(0===o.length)return console.error('Unable to find lang field "'+s+'" in translations_langs'),!1;var a=s.lastIndexOf(n);if(-1===a)return console.error('Unable to find suffix "'+n+'" in "'+s+"' in translations_langs"),!1;var r=s.substring(0,a),l=$(r);if(0===l.length)return console.error('Unable to find title field "'+r+'" in translations_langs'),!1;var u=l.data("validator");if(!u)return console.error('Unable to find validator for field "'+r+'" in translations_langs'),!1;var c={input:l,validator:u,has_value:$.trim(l.val()).length>0,lang:i(o.val(),o.data("detected"))};this.fields.push(c);var f=this.fields.length-1,d=this,h=u.doValidate;u.doValidate=function(e){if(c.lang)for(var t=0;t<f;t++)if(d.fields[t].lang===c.lang)return this.setError(this.getMessage("invalid","The same lang cannot be used twice")),!1;return h.apply(this,[e])};var p=function(){var e=c.lang;c.lang=i(c.has_value,o.val(),o.data("detected")),e!==c.lang&&d.validate()};o.on("change",p),l.on("keyup",function(){var e=c.has_value;c.has_value=$.trim(l.val()).length>0,e!==c.has_value&&p()})},n.prototype.validate=function(){for(var e in this.fields)this.fields[e].validator.validate();return!0},n.prototype.isValid=function(){return!0},n.prototype.focus=function(){},n}),define("skins/form/validator/user_email",["config/main","static/utils","./email"],function(e,t,i){var n=function(e,t){this.setupXhr("email","/account/checkemail","email"),"boolean"==typeof t.options.allow_variant&&t.options.allow_variant&&this.setXhrOtherParam("email","allow_variant","1"),"number"==typeof t.options.exclude_id_user&&t.options.exclude_id_user>0&&this.setXhrOtherParam("email","exclude",t.options.exclude_id_user),i.apply(this,[e,t])};return n.prototype=new i,n.prototype.doValidate=function(e){return!!i.prototype.doValidate.apply(this,[e])},n});