window.SubxReferUrl='www.thecut.com'; window.SubxDNT=0;var scriptTime = '2024-01-31 14:05:59'; window.SubxClientEvents = {
    blueConic: 0,
    scriptGroup: "VoxUS",
    scriptDomain: "Prod",
    IsBrand: function(brandId) {
        return true;
    },
    maxTime: 0,
    gtmstatus: 0,
    accountNo: '',
    versionNo: '20240131140559',
    region: "US", 
    userDetails: null,
    hideContent: 0,
    sxpw: false,
    hasRecaptcha: false,
    recaptchaAdded: false,
    spwCookieValue: 0,
    isLoggedIn: false,
    hasSub: false,
    pausedAud: false,
    CheckDaily: 0,
    firstElementToHide: 0,
    recapV3: 1,
    hiderecap: 1,
    formButtonDynamic: 1,
    SuxwebAuth: null,
    customizedEventRun: false,
    isBot: false,
    getCSS: function () {
        var cssHtml = ".subxstyle {color: transparent !important; text-shadow: 0 0 12px rgba(0, 0, 0, 0.5); -webkit-user-select: none !important; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; -o-user-select: none; user-select: none;} .subxstyle a{color: transparent !important; background: transparent !important; border: transparent !important;} .subxstyle img.lazyimage, .subxstyle img.lazyloaded, .subxstyle picture.lazyimage.lazyloaded {opacity: 1;filter: blur(12px);} .subxstyle .media-loaded .lazyloaded {filter: blur(12px);}  .subxstyle .listicle-intro, .subxstyle .listicle-slide-dek, .subxstyle .listicle-slide-hed-number{color: transparent !important; text-shadow: 0 0 12px rgb(0 0 0 / 50%); -webkit-user-select: none !important;} .subxstyle .EmbedFrame{opacity: 1;filter: blur(12px);} .subxstyle .listicle-slide-dek p a {opacity: 1; filter: blur(12px);} .subxstyle .EmbeddedMedia, .subxstyle .embed-video, .subxstyle .listicle-slide-media-outer{ -webkit-filter: blur(20px);} ";
        cssHtml += ".subxstyle .ingredients{opacity: 1; filter: blur(12px);} .subxstyle .directions{opacity: 1; filter: blur(12px);}";
        cssHtml += ".subxstyle .listicle-slide-hed-text, .subxstyle .gallery-list .list-item .item-info-title, .subxstyle .gallery-list .list-item .product-headline {color: transparent !important; text-shadow: 0 0 12px rgb(0 0 0 / 50%); -webkit-user-select: none !important;} .subxstyle .end-of-content-playlist.watch-next-in-body {display:none;}";
        cssHtml += ".embedded-loop.align-center.subxstyle{ -webkit-filter: blur(50px);-moz-filter: blur(50px);-o-filter: blur(50px);-ms-filter: blur(50px);filter: blur(50px);}";
        cssHtml += ".subxstyle .standard-body-content, .subxstyle .body-ul{opacity: 1; filter: blur(12px);} ";
        return cssHtml;
    },
    triggerEvent: function () {
        if (typeof window._nymGtmPage == "undefined")
            return false;
        //else if (window.ZITFunctions.dlEnabled)
        //{
        //    var dataLayerName = window.ZITFunctions.dataLayerName;
        //    if (window.google_tag_manager && typeof window.google_tag_manager[dataLayerName] != "undefined" && typeof window.google_tag_manager[dataLayerName].dataLayer != "undefined" && window.google_tag_manager[dataLayerName].dataLayer.get('userDetails'))
        //        return true;
        //    else
        //        return false;
        //}
        else {
            window.ZITUtils.writeDebug("_nymGtmPage detected:" + JSON.stringify(window._nymGtmPage));
            return true;
        }
    },
    addRecaptchaEvent: function () {
        if (typeof window.SubxClientEvents.hiderecap != "undefined" && window.SubxClientEvents.hiderecap == 1 && window.SubxClientEvents.hasRecaptcha && !window.SubxClientEvents.recaptchaAdded) {
            console.log("Add in recaptcha style " + window.SubxClientEvents.hasRecaptcha);
            var cssWrapper = document.createElement('style');
            cssWrapper.setAttribute("type", "text/css");
            cssWrapper.setAttribute("id", "subxRecaptchaId");
            cssWrapper.innerHTML = ".grecaptcha-badge { visibility: hidden !important; } ";
            if (document.head)
                document.head.appendChild(cssWrapper);
            else
                document.getElementsByTagName("head")[0].appendChild(cssWrapper);
            window.SubxClientEvents.recaptchaAdded = true;
        }
        else
            console.log("Skip Add in recaptcha style " + window.SubxClientEvents.hasRecaptcha);
    },
    getLinkedCanvas: function (pid, canvasIdentifier, canvasId) {
        if (canvasId > 0) {
            var retUrl = 'https://' + this.scriptDomain.toLowerCase() + '.zeddit.com/' + window.location.hostname + '/GetCanvas?curSession=' + window.ZITFunctions.retrieveCurSession() + '&wid=' + canvasId + "&uemail=" + window.ZITUtils.readCookie('_sem') + '&canvasIdentifier=' + canvasIdentifier + '&DNT=' + window.ZITFunctions.isDNT + '&host=' + encodeURIComponent(window.location.href);
            return retUrl;
        }
    },
    processExtLinks: function (text, extLink) {
        window.ZITUtils.writeDebug("To process button: " + text);
        if (text.indexOf("Connect with Google") >= 0) {
            return this.GetExtAPILinks('google-oauth2');
        }
        else if (text.indexOf("Connect with Facebook") >= 0) {
            return this.GetExtAPILinks('facebook');
        }
        else if (extLink && extLink.indexOf("https://subs.nymag.com/account") >= 0) {
            var updateextLink = "https://" + window.location.hostname + "/oauth/logout?originalUrl=" + encodeURIComponent(extLink);
            return updateextLink;
        }
        else
            return "";
    },
    GetExtAPILinks: function (extLinkType) {
        var url = "";
        if (typeof auth0 == "undefined") {
            try {
                window.ZITloader.loadDependencies("https://cdn.auth0.com/js/auth0/9.18/auth0.min.js").then(function () {
                    window.ZITUtils.writeDebug("Going to initialize webAuth for " + window.location.hostname);
                    url = window.SubxClientEvents.GetFacebookGoogleLink(extLinkType);
                });
            }
            catch (error) {
                window.ZITFunctions.sendRaygunData(error, "GetExtAPILinks " + extLinkType);
            }
        }
        else {
            console.log("Subx:Auth0 has already been initialized.");
            url = window.SubxClientEvents.GetFacebookGoogleLink(extLinkType);
        }
        return url;
    },
    GetFacebookGoogleLink: function (extLinkType) {
        var curClientId = 'VoKhEwPXg2t0k9XQiMqY2pSUllwOFlDa';
        if (this.SuxwebAuth == null) {
            console.log("Going to initialize webAuth");
            this.SuxwebAuth = new auth0.WebAuth({
                domain: window.location.hostname,
                clientID: curClientId
            });
        }
        if (this.SuxwebAuth != null) {
            console.log("Going to call authorize");
            var url = this.SuxwebAuth.client.buildAuthorizeUrl({
                clientID: curClientId, // string
                responseType: 'token id_token', // code
                redirectUri: window.location.href,
                nonce: 'abxcdesd',
                state: window.ZITFunctions.retrieveOrigSession(),
            });
            url = url.replace(window.location.hostname, window.location.hostname + "/oauth");
            url = url + "&socialConnection=" + extLinkType
            window.ZITUtils.writeDebug("Generate url:" + url);
            return url;
        }
        else {
            console.log("No Auth returns");
            return "";
        }
    },
    BeforeCanvasInitialization: function () {
    },
    setUserName: function (username) {
        window.ZITUtils.createCookieinDetails('_sem', username, 365, 0, 0, 0);
        window.ZITUtils.writeDebug('customized user email updated:' + username);
    },
    retrieveHistoryspw: function (currentStatus) {
        window.ZITUtils.writeDebug('Going to retrieve history spw:' + currentStatus + " " + window.ZITFunctions.spwCookieName + " " + this.spwCookieValue);
        var retUrl = "";
        if (window.ZITFunctions.spwCookieName == "_smpw") {
            retUrl = "&spw=0";
        }
        else if (this.spwCookieValue <= 0) {
            var srpwcookie = window.ZITUtils.readCookie('_srpw');
            var sapwcookie = window.ZITUtils.readCookie('_sapw');
            window.ZITUtils.writeDebug('Going to retrieve history spw:' + currentStatus + " " + srpwcookie + " " + sapwcookie);
            if (srpwcookie && currentStatus == 1)
                retUrl = "&spw=" + srpwcookie;
            else if (sapwcookie && currentStatus == 0)
                retUrl = "&spw=" + sapwcookie;
            else
                retUrl = "&spw=0";
        }
        else
            retUrl = "&spw=" + this.spwCookieValue;
        window.ZITUtils.writeDebug('History spw retrieved ' + retUrl);
        return retUrl;
    },
    recordHistoryspw: function (currentStatus, futureStatus) {
        window.ZITUtils.writeDebug('Going to record history spw:' + futureStatus + " " + currentStatus + " " + window.ZITFunctions.spwCookieName);
        if (futureStatus != currentStatus && window.ZITFunctions.spwCookieName == "_spw") {
            if (currentStatus == 0) //Anonymous
            {
                var oldcookie = this.spwCookieValue;
                window.ZITUtils.writeDebug("Detected old anonymous cookie " + oldcookie + " sapw");
                if (oldcookie)
                    window.ZITUtils.createCookieinDetails('_sapw', oldcookie, 30, 0);
                else
                    window.ZITUtils.createCookie('_sapw', '', -1);
            }
            else {
                var oldcookie = this.spwCookieValue;
                window.ZITUtils.writeDebug("Detected old register cookie " + oldcookie + " srpw");
                if (oldcookie)
                    window.ZITUtils.createCookieinDetails('_srpw', oldcookie, 30, 0);
                else
                    window.ZITUtils.createCookie('_srpw', '', -1);
            }
        }
    },
    readFromDataLayer: function () {
        window.SubxClientEvents.retrieveData();
        window.ZITUtils.writeDebug("readFromDataLayer is called.");
        try {
            var dataLayerName = window.ZITFunctions.dataLayerName;
            var trackingData = window.ZITFunctions.InitiateTrackingData();
            var rA = window.ZITUtils.readCookie("_rA");
            if (rA && rA != null)
                window.ZITFunctions.dataLayerValue += "&_rA=" + rA + "&_rAExp=" + window.ZITUtils.readCookie("_rAExp");
            else
                window.ZITFunctions.dataLayerValue += "&_rA=0";
            var rAReg = window.ZITUtils.readCookie("_rAReg");
            if (rAReg && rAReg != null)
                window.ZITFunctions.dataLayerValue += "&_rAReg=" + rAReg + "&_rARegExp=" + window.ZITUtils.readCookie("_rARegExp");
            else
                window.ZITFunctions.dataLayerValue += "&_rAReg=0";
            window.ZITFunctions.dataLayerValue += "&sxrExp=" + window.ZITUtils.readCookie("_sxrExp");
            //userDetails = window.google_tag_manager[dataLayerName].dataLayer.get('userDetails');
            this.spwCookieValue = window.ZITUtils.readCookie("_spw");
            window.ZITUtils.writeDebug("spw detected " + this.spwCookieValue);
            var host = window.ZITFunctions.host();
            this.hasSub = false;
            //if (userDetails && userDetails != null) {
            //    window.ZITFunctions.dataLayerValue += "&dName14=newYorkMediaUserID&dValue14=" + userDetails.newYorkMediaUserID;
            //    window.ZITFunctions.dataLayerValue += "&dName15=vultureArticleCount&dValue15=" + userDetails.vultureArticleCount;
            //}
            //else {
            //    window.ZITUtils.writeDebug("userDetails is empty");
            //}
            window.ZITFunctions.dataLayerValue += "&dName16=host&dValue16=" + host;
            var nymcid = window.ZITUtils.readCookie("nymcid");
            window.ZITFunctions.dataLayerValue += "&dName23=nymcid&dValue23=" + nymcid;
            this.checkUserProfile(true);
            var shouldExcludePaywall = /crosswords|paywall exclude/i.test(window._nymGtmPage.tags);
            if (!shouldExcludePaywall) {
                var htmlEle = document.getElementsByTagName("html");
                if (htmlEle != null && htmlEle.length > 0) {
                    var layoutUri = htmlEle[0].getAttribute("data-layout-uri");
                    window.ZITUtils.writeDebug("layoutUri detected " + layoutUri);
                    //const hasProductComponent = window._nymGtmPage.hasProduct;
                    shouldExcludePaywall = /ecom-article|ecom-products|non-monetizable/i.test(layoutUri);
                    if (shouldExcludePaywall) {
                        window.ZITUtils.writeDebug("should not show to ecom-article|ecom-products|non-monetizable/");
                    }
                }
                if (!shouldExcludePaywall) {
                    if (window._nymGtmPage.featureTypes.toLowerCase().indexOf("ecomm") >= 0) {
                        shouldExcludePaywall = true;
                        window.ZITUtils.writeDebug("feature type ecomm treat as excemption page");
                    }
                    else if (window._nymGtmPage.featureTypes.toLowerCase() == "sponsor story") {
                        shouldExcludePaywall = true;
                        window.ZITUtils.writeDebug("feature type sponsor story treat as excemption page");
                    }
                    else if (window._nymGtmPage.hasProduct && window._nymGtmPage.tags.includes("paywall exclude")) {
                        shouldExcludePaywall = true;
                        window.ZITUtils.writeDebug("should not show to has product paywall exclude");
                    }
                }
                if (!shouldExcludePaywall)
                    window.ZITUtils.writeDebug("Not an excemption page ");
            }
            else
                window.ZITUtils.writeDebug("should not show to canvases /coronavirus news|pivot|obituary|paywall exclude/");
            window.ZITFunctions.dataLayerValue += "&NoPaywall=" + shouldExcludePaywall;
            window.ZITFunctions.dataLayerValue += "&HasProd=" + window._nymGtmPage.hasProduct;
            window.ZITFunctions.dataLayerValue += "&extrainfo=" + encodeURIComponent(JSON.stringify(window._nymGtmPage));
            window.ZITUtils.writeDebug("extrainfo:" + encodeURIComponent(JSON.stringify(window._nymGtmPage)));
        }
        catch (error) {
            window.ZITFunctions.sendRaygunData(error, "readFromDataLayer V2");
        }
        window.ZITFunctions.isAnalysisProcessed = true;
        window.SubxClientEvents.gtmstatus = 1;
    },
    retrieveEmail: function () {
        return "";
    },
    globalExclude: function () {
        if (window.ZITFunctions.dataLayerValue && (window.ZITFunctions.dataLayerValue.indexOf("NoPaywall=true") >= 0 || window.ZITFunctions.dataLayerValue.indexOf("HasProd=true") >= 0)) {
            window.ZITUtils.writeDebug("Exclude by No Paywall and hasProd=true");
            return true;
        }
        else if (window.ZITFunctions.dataLayerValue && window.SubxClientEvents.hasSub && !window.SubxClientEvents.pausedAud) {
            window.ZITUtils.writeDebug("Exclude by has Sub");
            return true;
        }
        else
            return false;
    },
    retrieveRegMember: function (brandId) {
    },
    isSpecialSection: function () {
    },
    specialPath: function () {
        return false;
    },
    documentIncludesComponent(componentName) {
        return document.querySelector(`[data-uri*="/${componentName}/"]`);
    },
    isArticle: function () {
        //isTargetedUser() will update isPanelAud when isSubscribed then using target profile to target
        //isTargetedUserByLogInStatus() will update isRegAud when isReg then using target profile to target
        //isPublishTimeFrameRestricted() is passed in as monthDiff will be used as target profile
        //isMeterInRange() count pageview (scoped to siteScope & articleType)
        //isTargetedArticle() taret by article featured type
        //isTargetedCohort() target by cohort value
        //isTargetedUrl() target by urls 

        if (window._nymGtmPage.pageType == "Article") {
            if (!this.specialPath() && !this.setArticleId()) {
                window.ZITUtils.writeDebug("Exclude by not special Path and article history");
                return false;
            }

            const isStrategist = window.ZITFunctions.brandId == 1079;;

            var isArticleFlag = isStrategist;
            var spw = window.ZITUtils.readCookie("_spw");
            var hasDatawall = false;
            if ((typeof spw != "undefined" && spw > 0) || this.specialPath())
                hasDatawall = true;
            if (isArticleFlag && !hasDatawall) {
                console.log('Tout no-op due to excluded isStrategist: ' + " " + isStrategist );
                return false;
            }
            else if (window._nymGtmPage.hasProduct && !window._nymGtmPage.tags.includes('paywall exclude')) {
                console.log('Tout no-op due to excluded hasProd no paywall exclude : ' + " " + window._nymGtmPage.hasProduct + " " + window._nymGtmPage.tags + " " + window._nymGtmPage.featureTypes);
                return false;
            }
            else if (window._nymGtmPage.featureTypes.toLowerCase() == "sponsor story") {
                console.log("Tout no-op due to sponsor story");
                return false;
            }
            else (isArticleFlag)
            console.log('Still show datawall canvas for isStrategist: ' + " " + isStrategist);
            return true;
        }
        else {
            console.log('Tout no-op due to not an article type: ', window._nymGtmPage.pageType);
            return false;
        }
    },
    retrieveData: function () {
        window.ZITUtils.writeDebug("retrieveData is called. ");
        const currentStoryPublishedDate = new Date(window._nymGtmPage.publishDateISO);
        const restrictedTimeFrame = new Date();

        const monthDifferential = (
            // First of all, grab the differential in months.
            restrictedTimeFrame.getMonth() -
            currentStoryPublishedDate.getMonth() +
            // Secondly, take into account that the dates might not be on the same year, so add the difference.
            12 * (restrictedTimeFrame.getFullYear() - currentStoryPublishedDate.getFullYear())
        );
        window.ZITFunctions.dataLayerValue += "&monthDiff=" + monthDifferential;
        const featureTypesFromArticle = window._nymGtmPage.tags.includes('new york magazine') ? window._nymGtmPage.featureTypes + ', magazine' : window._nymGtmPage.featureTypes;
        window.ZITFunctions.dataLayerValue += "&dName2=featureTypesFA&dValue2=" + featureTypesFromArticle;
        const keyName = 'identity-cohorts';
        var cohortsValue = localStorage && localStorage.getItem(keyName) ? JSON.parse(localStorage.getItem(keyName)) : [];
        window.ZITFunctions.dataLayerValue += "&dName3=cohortsValue&dValue3=" + cohortsValue;
        const tagsOnThisArticle = window._nymGtmPage.tags.split(', ');
        window.ZITFunctions.dataLayerValue += "&dName4=articleTag&dValue4=" + tagsOnThisArticle;
        window.ZITFunctions.dataLayerValue += "&dName5=authors&dValue5=" + window._nymGtmPage.authors;
        window.ZITFunctions.dataLayerValue += "&dName6=contentChannel&dValue6=" + window._nymGtmPage.contentChannel;
        window.ZITFunctions.dataLayerValue += "&dName7=featureTypes&dValue7=" + window._nymGtmPage.featureTypes;
        window.ZITFunctions.dataLayerValue += "&dName8=liveblog&dValue8=" + window._nymGtmPage.liveBlog;
        window.ZITFunctions.dataLayerValue += "&dName9=wordCount&dValue9=" + window._nymGtmPage.wordCount;
        window.ZITFunctions.dataLayerValue += "&dName10=originalpublishDate&dValue10=" + window._nymGtmPage.originalPublishDateISO;
        window.ZITFunctions.dataLayerValue += "&dName13=pageType&dValue13=" + window._nymGtmPage.pageType;
    },
    GetReadingCounter: function () {
        var trackingData = window.ZITFunctions.retrieveTrackingData();
        var spw = this.spwCookieValue;
        var readingData = this.retrieveReadingData();
        var readArticles = 0;
        if (trackingData.isEmailAud == 1)
            readArticles = window.ZITUtils.readCookie("_rAReg");
        else
            readArticles = window.ZITUtils.readCookie("_rA");
        window.ZITUtils.writeDebug("Reading counter retrieved " + readArticles + " " + spw + " " + trackingData.isEmailAud + " " + JSON.stringify(readingData) );
        var retString = "";
        if (spw && spw > 0 && readArticles && readArticles > 0) {
            retString =  "&pm=" + (parseInt(readArticles) - 1);
            retString = retString + "&dm=" + (parseInt(readArticles) - 1);
            retString = retString + "&tm=" + 0;
        }
        else {
            retString = "&pm=" + readingData.sM;
            retString = retString + "&dm=" + readingData.dM;
            retString = retString + "&tm=" + readingData.tM;
        }
        return retString;
    },
    retrieveReadingData: function () {
        var existingObject = window.ZITUtils.readCookie('_sxr');
        if (existingObject) {
            window.ZITFunctions.curReadingData = JSON.parse(existingObject);
        }
        else
            window.ZITFunctions.curReadingData = {
                tM: 0, //totalarticles
                sM: 0, //Sessionarticles
                dM: 0, //Dayarticles
                tM2: 0, //totalarticles
                sM2: 0, //Sessionarticles
                dM2: 0, //Dayarticles
                RA: 0, //Dayarticles
            };
        if (typeof window.ZITFunctions.curReadingData.dM == "undefined")
            window.ZITFunctions.curReadingData.dM = 0;
        if (typeof window.ZITFunctions.curReadingData.tM == "undefined")
            window.ZITFunctions.curReadingData.tM = 0;
        if (typeof window.ZITFunctions.curReadingData.sM == "undefined")
            window.ZITFunctions.curReadingData.sM = 0;
        if (typeof window.ZITFunctions.curReadingData.dM2 == "undefined")
            window.ZITFunctions.curReadingData.dM2 = 0;
        if (typeof window.ZITFunctions.curReadingData.tM2 == "undefined")
            window.ZITFunctions.curReadingData.tM2 = 0;
        if (typeof window.ZITFunctions.curReadingData.sM2 == "undefined")
            window.ZITFunctions.curReadingData.sM2 = 0;
        if (typeof window.ZITFunctions.curReadingData.RA == "undefined" || window.ZITFunctions.curReadingData.RA < 0)
            window.ZITFunctions.curReadingData.RA = 0;
        return window.ZITFunctions.curReadingData;
    },
    intializeDailyReadingData: function (trackingData) {
        if (typeof trackingData.tP == "undefined") {
            if (typeof trackingData.dP == "undefined")
                trackingData.tP = 0;
            else
                trackingData.tP = trackingData.dP;
        }
        else
            trackingData.tP = parseInt(trackingData.tP) + parseInt(trackingData.dP);
        if (typeof trackingData.tM == "undefined") {
            if (typeof trackingData.dM == "undefined")
                trackingData.tM = 0;
            else
                trackingData.tM = trackingData.dM;
        }
        else
            trackingData.tM = parseInt(trackingData.tM) + parseInt(trackingData.dM);
        if (typeof trackingData.tM2 == "undefined") {
            if (typeof trackingData.dM2 == "undefined")
                trackingData.tM2 = 0;
            else
                trackingData.tM2 = trackingData.dM2;
        }
        else
            trackingData.tM2 = parseInt(trackingData.tM2) + parseInt(trackingData.dM2);
        trackingData.dM = 0;
        trackingData.dM2 = 0;
        return trackingData;
    },
    saveReadingDataToSxr: function (trackingData, sxrExpiryDays) {
        if (typeof trackingData != undefined) {
            if (sxrExpiryDays <= 0)
                sxrExpiryDays = 30;
            window.ZITUtils.createCookieinDetails('_sxr', JSON.stringify(trackingData), 30, 0, 0, 0);
            var expires = new Date(Date.now() + sxrExpiryDays * 24 * 60 * 60 * 1000);
            window.ZITUtils.createCookieinDetails('_sxrExp', expires.toISOString(), 30, 0, 0, 0);
            window.ZITUtils.writeDebug("ReadingData updated " + JSON.stringify(trackingData));
        }
        else
            window.ZITUtils.writeDebug("No ReadingData to write.");
        window.ZITFunctions.curReadingData = trackingData;
    },
    CopyFromReadingData: function (readingData) {
        var trackingData = window.ZITFunctions.retrieveTrackingData();
        trackingData.sM = readingData.sM;
        trackingData.dM = readingData.dM;
        trackingData.tM = readingData.tM;
        trackingData.sM2 = readingData.sM2;
        trackingData.dM2 = readingData.dM2;
        trackingData.tM2 = readingData.tM2;
        trackingData.RA = readingData.RA;
        window.ZITFunctions.saveTrackingDataToSxo(trackingData);
        window.ZITUtils.writeDebug('TrackingCounter has been copied ' + JSON.stringify(trackingData));
    },
    retrieveUserProfile: function (userProfile, updateDataLayer) {
        var userType = "Anonymous";
        window.SubxClientEvents.pausedAud = false;
        window.subxUserProfile = userProfile;
        if (userProfile && userProfile.isAuthenticated) {
            var trackingData = window.ZITFunctions.retrieveTrackingData();
            window.subxEmail = userProfile.email;
            if (updateDataLayer) {
                window.ZITUtils.writeDebug("Going to retrieve data from profile");
                var host = window.ZITFunctions.host();
                var auth0Id = "";
                var stripeCustomerId = "";
                window.SubxClientEvents.hasSub = false;
                try {
                    if (userProfile.sub)
                        auth0Id = window.ZITUtils.jsencrypt(host, userProfile.sub);
                    else
                        auth0Id = window.ZITUtils.jsencrypt(host, "Auth0IdNotPresent");
                    var metadata = userProfile["http://nymag.com/app_metadata"];
                    if (metadata) {
                        window.SubxClientEvents.hasSub = metadata.has_subscription;
                        try {
                            if (metadata.stripe) {
                                stripeCustomerId = metadata.stripe[0].customer_id;
                            }
                        }
                        catch { }
                    }
                }
                catch (error) {
                    window.ZITFunctions.sendRaygunData(error, "Error in retrieve data from userProfile " + JSON.stringify(userProfile))
                    return;
                }
                window.ZITUtils.writeDebug("Value detected #" + auth0Id + "  #" + stripeCustomerId + " #" + window.SubxClientEvents.hasSub);
                if (userProfile.isSubscriptionPaused) {
                    window.SubxClientEvents.pausedAud = true;
                    userType = "FreeRegister";
                    window.SubxClientEvents.recordHistoryspw(trackingData.isEmailAud, 1);
                    if (trackingData.isEmailAud == 0) {
                        window.ZITUtils.writeDebug("Clear pre-register cookie " + auth0Id);
                        window.ZITFunctions.setLogIn();
                    }
                    window.ZITFunctions.setEmailAud();
                }
                else if (window.SubxClientEvents.hasSub) {
                    userType = "Member";
                    window.SubxClientEvents.recordHistoryspw(trackingData.isEmailAud, 2);
                    if (stripeCustomerId && stripeCustomerId != "") {
                        window.ZITUtils.createCookieinDetails('_sue', window.ZITUtils.jsencrypt(host, stripeCustomerId), 365, 0);
                        window.ZITUtils.writeDebug("Clear after-subscribe cookie " + stripeCustomerId);
                    }
                    else {
                        window.ZITUtils.createCookieinDetails('_sue', window.ZITUtils.jsencrypt(host, "NoStripeId"), 365, 0);
                        window.ZITUtils.writeDebug("Clear after-subscribe cookie NoStripeId");
                    }
                    window.ZITFunctions.setMembership();
                    window.ZITFunctions.setLogIn();
                }
                else if (auth0Id != "") {
                    userType = "FreeRegister";
                    window.SubxClientEvents.recordHistoryspw(trackingData.isEmailAud, 1);
                    if (trackingData.isEmailAud == 0) {
                        window.ZITUtils.writeDebug("Clear pre-register cookie " + auth0Id);
                        window.ZITFunctions.setLogIn();
                    }
                    var isMember = window.ZITUtils.readCookie('_isMemAud') || 0;
                    if (isMember == 1)
                        window.SubxClientEvents.setExpiredMem();
                    window.ZITFunctions.setEmailAud();
                }
                window.ZITFunctions.dataLayerValue += "&dName11=auth0_id&dValue11=" + auth0Id;
                window.ZITFunctions.dataLayerValue += "&dName12=stripe_customer_id&dValue12=" + window.ZITUtils.jsencrypt(host, stripeCustomerId);
                window.ZITFunctions.dataLayerValue += "&dName21=has_subscription&dValue21=" + window.SubxClientEvents.hasSub;
                window.ZITFunctions.dataLayerValue += "&dName17=userType&dValue17=" + userType;
                window.ZITFunctions.dataLayerValue += "&dName22=apiresult&dValue22=true";
                window.ZITFunctions.dataLayerValue += "&dName20=pausedAud&dValue20=" + window.SubxClientEvents.pausedAud;
            }
            else
                console.log("Skip update data");
            window.stopDatawall = false;
            window.ZITUtils.writeDebug("Stop datawall V1" + window.stopDatawall + " " + updateDataLayer);
            //if (submitEvent) {
            //    window.ZITUtils.writeDebug("Going to dispatch auth0 event " + JSON.stringify(userProfile));
            //    const auth0InitEvent = new CustomEvent('auth0:init', {
            //        detail: userProfile
            //    });
            //    window.dispatchEvent(auth0InitEvent);
            //    debugger;
            //}
            //else
            //    console.log("Skip dispatching auth0 event");
        }
        else if (userProfile && typeof userProfile.isAuthenticated != "undefined" && userProfile.isAuthenticated == false) //not authenticated
        {
            var trackingData = window.ZITFunctions.retrieveTrackingData();
            if (trackingData.isEmailAud == 1 || trackingData.isRegAud == 1) {
                window.SubxClientEvents.recordHistoryspw(trackingData.isEmailAud, 0);
                window.ZITFunctions.setLogOut();
                window.ZITUtils.writeDebug("Clear after-login cookie ");
            }
            if (updateDataLayer) {
                window.ZITFunctions.dataLayerValue += "&dName11=auth0_id&dValue11=";
                window.ZITFunctions.dataLayerValue += "&dName12=stripe_customer_id&dValue12=";
                window.ZITFunctions.dataLayerValue += "&dName21=has_subscription&dValue21=false";
                window.ZITFunctions.dataLayerValue += "&dName17=userType&dValue17=" + userType;
                window.ZITFunctions.dataLayerValue += "&dName22=apiresult&dValue22=true";
                window.ZITFunctions.dataLayerValue += "&dName20=pausedAud&dValue20=" + window.SubxClientEvents.pausedAud;
            }
            window.stopDatawall = false;
            window.ZITUtils.writeDebug("Stop datawall V2" + window.stopDatawall + " " + updateDataLayer);
        }
        else {
            window.ZITFunctions.sendRaygunData(new Error('Failed to detect userProfile ' + window.location.href + " " + JSON.stringify(userProfile)));
        }
        if (updateDataLayer && !window.stopDatawall) {
            window.ZITFunctions.dataLayerValue += "&dName19=nextNewsLetter&dValue19=";
            if (userType == "Anonymous") {
                if (localStorage && window.localStorage.getItem("newsletterSpeedBumpSignUpStatus_streamliner") != "success")
                    window.ZITFunctions.dataLayerValue += "streamliner";
                else if (localStorage && window.localStorage.getItem("newsletterSpeedBumpSignUpStatus_nym-daily") != "success")
                    window.ZITFunctions.dataLayerValue += "nym-daily";
                else if (localStorage && window.localStorage.getItem("newsletterSpeedBumpSignUpStatus_nym-daily") != "success")
                    window.ZITFunctions.dataLayerValue += "vulture-podcasts";
            }
        }
        if (window.stopDatawall == false) {
            const getprofileEvent = new CustomEvent('subxgetprofile', {
                detail: userProfile
            });
            window.dispatchEvent(getprofileEvent);
        }
    },
    checkUserProfile: function (updateDataLayer) {
        window.stopDatawall = true;
        window.datawallProcessed = false;
        window.ZITUtils.writeDebug("Stop datawall " + window.stopDatawall + " " + updateDataLayer);
        var responseText = "";
        try {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", 'https://' + window.location.hostname + '/oauth/user/profile');
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.onreadystatechange = function () {
                if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
                    window.ZITUtils.writeDebug(xhr.responseText);
                    responseText = xhr.responseText;
                    var userProfile = JSON.parse(xhr.responseText);
                    if (window.stopDatawall == true) //means the dataLayer value hasn't been added other place
                        window.SubxClientEvents.retrieveUserProfile(userProfile, updateDataLayer);
                }
            };
            xhr.send();
        }
        catch (error) {
            window.ZITFunctions.sendRaygunData(error, 'exception in checking userProfile ' + window.location.href + " TX:" + responseText);
        }
    },
    setLogIn: function () {
        window.ZITUtils.writeDebug("Going to set Log In." + this.spwCookieValue);
        var readingData = this.retrieveReadingData();
        //after LogIn previous canvas should be cleared
        window.ZITUtils.createCookie('_spw', '', -1);
        this.spwCookieValue = 0;
        window.ZITUtils.writeDebug("_spw removed " + this.spwCookieValue);
        //Previous register reading counter should be retrieved
        var readArticle = window.ZITUtils.readCookie('_rA');
        if (readArticle && readArticle > 0) {
            readingData.RA += parseInt(readArticle);
            readingData.tM += 0;
            readingData.dM += parseInt(readArticle);
            readingData.sM += parseInt(readArticle);
            this.saveReadingDataToSxr(readingData, 30);
            window.ZITUtils.createCookie('_rA', '', -1);
        }
        this.CopyFromReadingData(readingData);
    },
    handleLogOut: function () {
        var url = "https://" + window.location.hostname + "/oauth/logout?originalUrl=" + encodeURIComponent(window.location.href);
        console.log(url);
        window.open(url, '_self');
    },
    setLogOut: function () {
        window.ZITUtils.writeDebug("Going to set set Log Out.");
        var readingData = this.retrieveReadingData();
        var readArticleReg = window.ZITUtils.readCookie('_rAReg'); //if already hit datawall need to retrieve the article read
        if (readArticleReg && readArticleReg > 0) {
            readingData.RA += parseInt(readArticleReg);
            readingData.tM += 0;
            readingData.dM += parseInt(readArticleReg);
            readingData.sM += parseInt(readArticleReg);
            window.ZITUtils.createCookie('_rAReg', '', -1);
            this.saveReadingDataToSxr(readingData, 30);
        }
        this.CopyFromReadingData(readingData);
        window.ZITUtils.createCookie('_sem', '', -1);
    },
    setExpiredMem: function () {
        window.ZITUtils.createCookie('_isMemAud', '', -1);
        window.ZITUtils.createCookie('_sxMD', '', -1);
        window.ZITUtils.createCookie('_MChecked', '', -1);
        var regCookie = window.ZITUtils.readCookie('_srpw');
        if (regCookie) {
            window.ZITUtils.writeDebug('_spw updated:' + regCookie);
            window.ZITUtils.createCookieinDetails('_spw', regCookie, 30, 0);
            window.ZITUtils.createCookie('_srpw', '', -1);
        }
        var trackingData = window.ZITFunctions.InitiateTrackingData();
        trackingData.isRegAud = 0;
        window.ZITFunctions.saveTrackingDataToSxo(trackingData);
        var readingData = this.retrieveReadingData();
        var readArticleReg = window.ZITUtils.readCookie('_rAReg'); //if already hit datawall need to retrieve the article read
        if (readArticleReg && readArticleReg > 0) {
            readingData.RA += parseInt(readArticleReg);
            readingData.tM += 0;
            readingData.dM += parseInt(readArticleReg);
            readingData.sM += parseInt(readArticleReg);
            this.saveReadingDataToSxr(readingData, 30);
        }
        this.CopyFromReadingData(readingData);
        //window.ZITFunctions.dataLayerValue += "&dName20=pausedAud&dValue20=true";
        window.ZITUtils.writeDebug('Expired Membership updated:1');
    },
    clearReaderCounter: function (trackingData) {
        var readingData = this.retrieveReadingData();
        if (window.ZITFunctions.spwCookieName == "_spw") {
            if (trackingData.isEmailAud == 1) {
                var readArticle = window.ZITUtils.readCookie('_rAReg');
                if (typeof readArticle == "undefined" || readArticle == null || readArticle == 0) {
                    window.ZITUtils.createCookieinDetails("_rAReg", readingData.RA, 30, 0, 0, 0);
                    var expires = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000);
                    window.ZITUtils.createCookieinDetails("_rARegExp", expires.toISOString(), 30, 0, 0, 0);
                }
            }
            else {
                var readArticle = window.ZITUtils.readCookie('_rA');
                if (typeof readArticle == "undefined" || readArticle == null || readArticle == 0) {
                    window.ZITUtils.createCookieinDetails("_rA", readingData.RA, 30, 0, 0, 0);
                    var expires = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000);
                    window.ZITUtils.createCookieinDetails("_rAExp", expires.toISOString(), 30, 0, 0, 0);
                }
            }
            readingData.dM = 0;
            readingData.sM = 0;
            readingData.tM = 0;
            readingData.RA = 0;
            this.saveReadingDataToSxr(readingData, 30);
            window.ZITUtils.writeDebug('ReaderCounter has been cleared');
        }
        else if (window.ZITFunctions.spwCookieName == "_sspw") {
            readingData.dM2 = 0;
            readingData.sM2 = 0;
            readingData.tM2 = 0;
            this.saveReadingDataToSxr(readingData, 30);
            window.ZITUtils.writeDebug('Special ReaderCounter has been cleared');
        }
        else
            window.ZITUtils.writeDebug('No ReaderCounter needs to clear ' + window.ZITFunctions.spwCookieName);
    },
    updateReaderCounter: function (counter) {
        var trackingData = this.retrieveReadingData();
        if (typeof window.SubxClientEvents.isSpecialSection != "undefined" && window.SubxClientEvents.isSpecialSection()) {
            var totalSpecialCounter = parseInt(trackingData.dM2) + parseInt(trackingData.tM2);
            if (counter > totalSpecialCounter) {
                trackingData.dM2 = parseInt(trackingData.dM2) + parseInt(counter - totalSpecialCounter);
                trackingData.sM2 = parseInt(trackingData.sM2) + parseInt(counter - totalSpecialCounter);
                window.ZITUtils.writeDebug('dM2,sM2 updated:' + (counter - totalSpecialCounter));
            }
        }
        else {
            if (counter > trackingData.RA) {
                trackingData.dM = parseInt(trackingData.dM) + parseInt(counter - trackingData.RA);
                trackingData.sM = parseInt(trackingData.sM) + parseInt(counter - trackingData.RA);
                window.ZITUtils.writeDebug('dM,sM updated:' + (counter - trackingData.RA));
            }
            trackingData.RA = counter;
        }
        this.saveReadingDataToSxr(trackingData, 30);
        window.ZITUtils.writeDebug('reading RA updated:' + counter+ " "+ trackingData.RA);

    },
    retriveArticleIdFromJourneyData: function () {
        if (window._nymGtmPage && window._nymGtmPage.pageUri != "") {
            var pageUri = window._nymGtmPage.pageUri;
            var pageComponents = pageUri.split("/");
            var articleId = "NA";
            if (window.ZITFunctions.brandId == 1079 || window.ZITFunctions.brandId == 1073) {
                if (pageComponents != null && pageComponents.length > 3)
                    articleId = pageComponents[3].replace("@published", "");
            }
            else {
                if (pageComponents != null && pageComponents.length > 2)
                    articleId = pageComponents[2].replace("@published", "");
            }
            window.ZITUtils.writeDebug("Article retrieved " + articleId);
            return articleId;
        }
        else
            return 'NA';
    },
    checkArticleIdFromCookie: function (articleId) {
        var aStr = window.ZITUtils.localStorageStore('_aHis');
        if (aStr == null || typeof aStr == "undefined" || window.ZITFunctions.testMode) {
            return false;
        }
        else {
            var articleLists = aStr.split(",");
            for (var i = 0; i < articleLists.length; i++) {
                if (articleLists[i] == articleId)
                    return true;
            }
            return false;
        }
    },
    addArticleId: function () {
        var articleId = this.retriveArticleIdFromJourneyData();
        var found = this.checkArticleIdFromCookie(articleId);
        if (found) {
            window.ZITUtils.writeDebug("The article has been counted before " + articleId);
        }
        else if (!window.ZITFunctions.testMode) {
            var aStr = window.ZITUtils.localStorageStore('_aHis');
            if (typeof aStr == "undefined" || aStr == null || aStr == "")
                aStr = articleId;
            else
                aStr = aStr + "," + articleId;
            window.ZITUtils.writeDebug("The article has been added to the history " + articleId);
            window.ZITUtils.localStorageStore('_aHis', aStr);
        }
    },
    setArticleId: function () {
        if (this.specialPath())
            return false;
        var articleId = this.retriveArticleIdFromJourneyData();
        if (articleId != null && typeof articleId != "undefined" && articleId != "") {
            var found = this.checkArticleIdFromCookie(articleId);
            if (found) {
                window.ZITUtils.writeDebug("The article has been counted before ");
                return false;
            }
            return true;
        }
        else {
            window.ZITUtils.writeDebug("No article Id retrieved ");
            return false;
        }
    },
    getParagraph: function () {
    },
    addtoQuery: function () {
        var specialQuery = "";
        var spw  = window.ZITUtils.readCookie("_spw");
        if (((typeof spw != "undefined" && spw > 0) || this.specialPath()) && window.ZITFunctions.datawall == 1 && (window.ViewerLoader.accessresult == 0 || window.ViewerLoader.accessresult == 5))
            specialQuery = specialQuery + "&keyword=datawall";
        return specialQuery;
    },
    formCustomizedClickString: function (canvasId) {
        try {
            var url = "&is_subx=true";
            url = url + "&_pg=" + window.pageloadId;
            var canvasData = window.ZITFunctions.retrieveCanvasDataFrmCookie(canvasId);
            if (canvasData != null) {
                url = url + "&itm_source=";
                if (window.ZITFunctions.brandId == 1075)
                    url = url + "vsitepromo"; //Vulture
                else if (window.ZITFunctions.brandId == 1074)
                    url = url + "csitepromo"; //The Cut
                else if (window.ZITFunctions.brandId == 1073)
                    url = url + "disitepromo"; //Intelligencer
                else if (window.ZITFunctions.brandId == 1071)
                    url = url + "cusitepromo"; //Curbed
                else if (window.ZITFunctions.brandId == 1072)
                    url = url + "gsitepromo"; //Grub Street)
                else
                    url = url + "sitepromo"; //Vulture
                var shortCode = canvasData.canvasName.toLowerCase();
                var canvasName = canvasData.canvasName;
                if (canvasName == "Content Cliff")
                    shortCode = "cliff";
                else if (canvasName == "Baby Growl")
                    shortCode = "bbg";
                else if (canvasName == "Registration Wall")
                    shortCode = "regwall";
                else if (canvasName == "Warning Growl")
                    shortCode = "warning";
                else if (canvasName == "Resume Subscription - Content Cliff")
                    shortCode = "resume_cliff";
                else if (canvasName == "Resume Subscription - Baby Growl")
                    shortCode = "resume_bbg";
                url = url + "&itm_medium=" + shortCode;
                var canvasDesc = "";
                if (canvasData.desc && canvasData.desc != null) {
                    canvasDesc = canvasData.desc.replace(" ", "_");
                }
                url = url + "&itm_campaign=" + canvasDesc;
            }
            else
                window.ZITUtils.writeDebug("canvas not found for " + canvasId);
            if (window.ZITFunctions.dataLayerValue && window.ZITFunctions.dataLayerValue.indexOf("&dName20=pausedAud&dValue20=true") >= 0) {
                url = url + "&triggerResumeFlow=true";
                url = url + "&redirectUrl=" + window.SubxClientEvents.referralReferral();
            } else {
                url = url + "&redirectUrl=" + window.SubxClientEvents.referralReferral();
            }
            return url;
        }
        catch (error) {
            window.ZITFunctions.sendRaygunData(error, "formCustomizedClickString " + canvasId);
        }
    },
    appendEndString: function () {
        if (window.ZITFunctions.dataLayerValue && window.ZITFunctions.dataLayerValue.indexOf("&dName20=pausedAud&dValue20=true") >= 0) {
            return "#/subscriptions-billing";
        }
        return "";
    },
    sendOrigSessionUpdateEvent(origSession, replaceSessionId) {
        if (replaceSessionId != null) {
            window.SubxClientEvents.identifier = replaceSessionId;
            window.SubxClientEvents.oldidentifier = origSession;
            this.customizedEventRun = false;
            console.log("Going to dispatch subxorigSession event " + replaceSessionId + " update from " + origSession);
            var origInitEvent = new CustomEvent('subxorigSession', {
                detail: replaceSessionId
            });
            window.dispatchEvent(origInitEvent);
        }
        else if (origSession != null) {
            window.SubxClientEvents.identifier = origSession;
            window.SubxClientEvents.oldidentifier = "";
            console.log("Going to dispatch subxorigSession event " + origSession);
            var origInitEvent = new CustomEvent('subxorigSession', {
                detail: origSession
            });
            window.dispatchEvent(origInitEvent);
        }
    },
    subxorigSessionEventListener: function () {
        console.log("subxorigSession Eventevent has been called. " + window.SubxClientEvents.identifier + " " + this.customizedEventRun + " " + window.SubxClientEvents.isBot);
        if (!window.SubxClientEvents.isBot) {
            if (typeof window.SubxClientEvents.identifier != "undefined" && !this.customizedEventRun) {
                var querystring = 'origSession=' + encodeURIComponent(window.SubxClientEvents.identifier);
                var oldquerystring = "";
                if (typeof window.SubxClientEvents.oldidentifier != "undefined" && window.SubxClientEvents.oldidentifier != "")
                    oldquerystring = 'origSession=' + encodeURIComponent(window.SubxClientEvents.oldidentifier);
                document.querySelectorAll('a[class*="link"]').forEach(function (a) {
                    if (a.href.indexOf(window.location.hostname) < 0) {
                        var isOwnedDomain = /nymag.com|vulture.com|grubstreet.com|thecut.com|curbed.com/i.test(a.href);
                        if (isOwnedDomain) {
                            try {
                                if (a.href.indexOf(window.location.hostname) < 0 && a.href.indexOf("origSession=") < 0) {
                                    var newLink = "";
                                    if (a.href.indexOf("?") >= 0)
                                        newLink = a.href + "&" + querystring;
                                    else
                                        newLink = a.href + "?" + querystring;
                                    a.setAttribute("href", newLink);
                                }
                                else if (a.href.indexOf(window.location.hostname) < 0 && oldquerystring != "" && a.href.indexOf("origSession=") >= 0) {
                                    var newLink = a.href;
                                    newLink = newLink.replace(oldquerystring, querystring);
                                    a.setAttribute("href", newLink);
                                }
                            }
                            catch (error) {
                                console.error(error);
                            }
                        }
                    }
                });
                try {
                    document.querySelectorAll('li.site>a,li.site-link>a').forEach(function (a) {
                        try {
                            if (a.href.indexOf(window.location.hostname) < 0) {
                                var isOwnedDomain = /nymag.com|vulture.com|grubstreet.com|thecut.com|curbed.com/i.test(a.href);
                                if (isOwnedDomain) {
                                    if (a.href.indexOf("origSession=") < 0) {
                                        var newLink = "";
                                        if (a.href.indexOf("?") >= 0)
                                            newLink = a.href + "&" + querystring;
                                        else
                                            newLink = a.href + "?" + querystring;
                                        a.setAttribute("href", newLink);
                                    }
                                    else if (oldquerystring != "" && a.href.indexOf("origSession=") >= 0) {
                                        var newLink = a.href;
                                        newLink = newLink.replace(oldquerystring, querystring);
                                        a.setAttribute("href", newLink);
                                    }
                                }
                            }
                        }
                        catch (error) {
                            console.error(error);
                        }
                    });
                }
                catch (error) {
                    window.ZITFunctions.sendRaygunData(error, "MobileAppendLink ");
                }
                this.customizedEventRun = true;
                console.log("Remove listen to event subx:origSession " + this.customizedEventRun);
            }
        }
    },
    MonitorProfile: function () {
        if (window.stopDatawall == true && datawallProcessed == false) {
            window.ZITFunctions.sendRaygunData(new Error("No profile retrieved after 1 minute"), "MonitorProfile");
        }
    },
    AddCustomizedEventListener: function () {
        if (navigator && navigator.userAgent && navigator.userAgent.toLowerCase().indexOf("bot") < 0 && navigator.userAgent.toLowerCase().indexOf("google") < 0) {
            console.log("Add customized event listener:subxorigSession");
            window.addEventListener("subxorigSession", () => window.SubxClientEvents.subxorigSessionEventListener());
        }
        else
            window.SubxClientEvents.isBot = true;
        console.log("Add customized event listener:addRecaptcha");
        window.addEventListener("addRecaptcha", () => window.SubxClientEvents.addRecaptchaEvent());
        console.log("Add customized event listener:auth0:init");
        window.addEventListener('auth0:init', (event) => {
            console.log("subx auth0:init event " + window.stopDatawall + " " + window.datawallProcessed);
            window.ZITUtils.writeDebug(JSON.stringify(event.detail));
            if (window.stopDatawall == true &&  !window.datawallProcessed) {
                window.SubxClientEvents.retrieveUserProfile(event.detail, true);
                if (window.stopDatawall == true && window.datawallProcessed == false) {
                    window.ZITFunctions.sendRaygunData(new Error("Error in retrieveUserProfile event v2 " + JSON.stringify(event.detail)));
                    var userType = "Anonymous";
                    window.ZITFunctions.dataLayerValue += "&dName11=auth0_id&dValue11=";
                    window.ZITFunctions.dataLayerValue += "&dName12=stripe_customer_id&dValue12=";
                    window.ZITFunctions.dataLayerValue += "&dName21=has_subscription&dValue21=false";
                    window.ZITFunctions.dataLayerValue += "&dName17=userType&dValue17=" + userType;
                    window.ZITFunctions.dataLayerValue += "&dName22=apiresult&dValue22=false";
                    window.ZITFunctions.dataLayerValue += "&dName20=pausedAud&dValue20=false";
                    window.stopDatawall = false;
                    window.ZITUtils.writeDebug("Stop datawall AddCustomizedEventListener " + window.stopDatawall);
                    const getprofileEvent = new CustomEvent('subxgetprofile', {
                        detail: event.detail
                    });
                    window.dispatchEvent(getprofileEvent);
                }
            }
        });
    },
    RetrieveCategory: function() {
        var categoryNo = parseInt(window.ZITFunctions.categoryNo);
        if (categoryNo > 0)
        {
            var url = window.location.href.replace("https://", "");
            var ucomponents = url.split('/');
            if (ucomponents && ucomponents.length > categoryNo)
            {
                window.ZITFunctions.keyword = ucomponents[categoryNo];
            }
            if (window.ZITFunctions.keyword != '' && window.ZITFunctions.newpage)
                window.ZITFunctions.updateCategoryInfo(window.ZITFunctions.keyword);
        }
    },
    InitiateEvents: function() {
    },
    referralReferral: function () {
        var referral = window.location.href;
        try {
            var pos = referral.indexOf("#_ga");
            if (pos >= 0) {
                var pos2 = referral.indexOf("#", pos + 1);
                if (pos2 <= 0)
                    pos2 = referral.indexOf("&", pos + 1);
                if (pos2 <= 0)
                    pos2 = referral.indexOf("?", pos + 1);
                if (pos2 >= 0) {
                    var sub1 = referral.substring(0, pos - 1);
                    sub1 += referral.substring(pos2, referral.length);
                    referral = sub1;
                }
                else
                    referral = referral.substring(0, pos);
            }
        }
        catch (error) {
            window.ZITFunctions.sendRaygunData(error, "referralReferral " + window.location.href);
        }
        return encodeURIComponent(referral);
    },
    AfterCanvasInitialization: function () {
        var fixContainers = document.querySelectorAll(".zeddit-rcm");
        if (window.IntersectionObserver) {
            const fixcallback = (entries, observer) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        var animationType = entry.target.getAttribute('animation-type');
                        var canvases = entry.target.getElementsByClassName('zit-widget-wrapper--new-panel');
                        if (canvases != null && canvases.length > 0) {
                            var canvasId = canvases[0].getAttribute('data-wid');
                            window.ZITUtils.writeDebug("Canvas become active " + canvasId + " " + animationType);
                            if (animationType != "slide" || animationType != "popup") {
                                window.ZITFunctions.sendGAData(0, 'ShowFixCanvas', canvasId, false);
                                observer.unobserve(entry.target);
                            }
                            else
                                window.ZITUtils.writeDebug('Canvas ' + canvasId + " skip of type " + animationType);
                        }
                        else
                            window.ZITUtils.writeDebug("No widget wrapper detected.");
                    }
                });
            };
            window.ZITUtils.writeDebug(fixContainers.length + " container has been added.");
            fixContainers.forEach((target) => {
                window.ZITUtils.writeDebug(target.getAttribute('animation-type') + " " + target.getAttribute('data-iscg') + " added.");
                const observer = new IntersectionObserver(fixcallback);
                observer.observe(target);
            });
        }
        else
            window.ZITUtils.writeDebug('IntersectionObserver not found');
    },
    getContainer: function () {
        return document.getElementsByTagName("subxtechbodystart");
    },
    getAnimateContainer: function () {
        var doc = document.getElementsByTagName("main");
        if (doc == null || doc.length <= 0)
            doc = document.getElementsByTagName("body");
        try {
            return doc[0];
        }
        catch (error) {
            window.ZITUtils.writeDebug("Error in getAnimateContainer:" + JSON.stringify(error));
            return null;
        }
    },
    getCSS: function () {
        var cssHtml = "";
        return cssHtml;
    },
    hideArticleContent: function (contentToHide, firstElementToRemovePosition) {
        [...contentToHide].slice(firstElementToRemovePosition).forEach((element) => {
            element.remove();
        });
    },

    paywallContent: function () {
        var articleContent = document.querySelectorAll('.clay-paragraph');
        this.firstElementToHide = 1;
        window.SubxClientEvents.hideArticleContent(articleContent, this.firstElementToHide);

        document.querySelector('html').style.overflowY = 'hidden';
        // Fix to disable scrolling on iOS 12 <
        document.body.style.position = 'fixed';
    },
    hideLayoutElements: function () {
        const elementsToHide = document.querySelectorAll('.tags, .comments-link');

        elementsToHide.forEach((element) => {
            element.remove();
        });
    },
    customizeMasking: function (data) {
        var animationType = data.response.CurCanvas.animationType;
        var htmlCode = data.response.Message;
        var trackingData = window.ZITFunctions.InitiateTrackingData();
        var isAuthenticated = (trackingData.isPanelAud == 1);
        var type = "registration-wall";
        if (animationType == "none")
            type = "registration-wall_inline";
        window.ZITUtils.writeDebug("Animation Type Customized BlockContent:" + animationType + " " + type + " " + isAuthenticated);

        // The standard variation `registration-wall` uses the default articleContent and firstElementToHide
        // so these properties are not enumerated in the config.
        const behaviorPlacementConfigs = {
            'registration-wall': {
                contentBehavior: window.SubxClientEvents.paywallContent,
                placement: 'afterbegin',
                selector: 'body'
            },
            'registration-wall_inline': {
                layoutBehavior: window.SubxClientEvents.hideLayoutElements,
                contentBehavior: window.SubxClientEvents.hideArticleContent,
                articleContent: document.querySelectorAll('.article-content > *'),
                firstElementToHide: 2,
                placement: 'afterend',
                selector: `.article-content ${isAuthenticated ? 'p[class^="clay-paragraph"' : '> :last-child'}`
            }
        };

        // Don't show the regwall if:
        // - Element wasn't found
        // - Page should not count as a view shouldPageCountAsViewed
        // - The article contains one of the exclusion tags shouldExcludePaywallBasedOnTags
        if (htmlCode == "") return;

        const selectedBehavior = behaviorPlacementConfigs[type];

        // If the regwall is inline, if the user is not authenticated,
        // remove the content of the article except for the first paragraph and lede image.
        // Insert inline regwall after the last remaining element in the article content OR,
        // if user is authenticated and we are not removing content, after the first paragraph.
        // Also remove comments and tags for inline regwall.
        // For a traditional (not inline) regwall, paywall the content if the user is not authenticated.
        // Append traditional regwall to the body.
        // This will maintain a little bit of consistency for the screen reader.
        if (!isAuthenticated) {
            selectedBehavior.contentBehavior(selectedBehavior.articleContent, selectedBehavior.firstElementToHide);
            if (selectedBehavior.layoutBehavior) selectedBehavior.layoutBehavior();
        }
        document.querySelector(selectedBehavior.selector).insertAdjacentHTML(selectedBehavior.placement, htmlCode);

    },
    elementIsEligibleParagraph: function (element) {
        const componentClass = element.className;

        const isDefaultOrDropCapParagraph = componentClass === 'clay-paragraph' || componentClass === 'clay-paragraph_drop-cap';

        // If the current component is anything other than a default/drop cap clay paragraph we should not display the newsletter speed bump under it.
        return isDefaultOrDropCapParagraph;
    },
    sendDataEvent: function (dataid, actionName, canvasId, brandId, userCode) {
        //this.sendGADataEvent(dataid, actionName, category);
        window.ZITUtils.writeDebug("sendDataEvent " + dataid + "#" + actionName + "#" + canvasId + "#" + brandId);
        if (window.dataLayer) {
            try {
                var canvasData = window.ZITFunctions.retrieveCanvasDataFrmCookie(canvasId);
                if (canvasData != null) {
                    var eventName = "";
                    var newdataLayerObject = {};
                    var canvasName = canvasData.canvasName;
                    var canvasDesc = "";
                    if (canvasData.desc && canvasData.desc != null)
                        canvasDesc = decodeURIComponent(canvasData.desc.toLowerCase());
                    var canvasPosition = canvasName.toLowerCase();
                    if (dataid == 41 || dataid == 42 || dataid == 44 || dataid == 51) {
                        eventName = "eec.promotionView";
                        canvasPosition = canvasData.promoName.toLowerCase();
                        newdataLayerObject = {
                            event: eventName,
                            ecommerce: {
                                promoView: {
                                    promotions: []
                                }
                            }
                        };
                    }
                    else if (dataid == 11 || dataid == 111 || actionName.indexOf("Action") >= 0 || actionName.indexOf("Close") >= 0) {
                        eventName = "eec.promotionClick";
                        canvasPosition = canvasData.promoName.toLowerCase();
                        canvasPosition = canvasPosition + " - ";
                        var linkType = (actionName.toUpperCase().indexOf("SIGN IN") >= 0 || actionName.toUpperCase().indexOf("SIGN ME IN") >= 0 || actionName.toUpperCase().indexOf("LOGIN") >= 0) ? "sign in" : ((actionName.toUpperCase().indexOf("REGISTER") >= 0 || actionName.toUpperCase().indexOf("CREATE") >= 0) ? "register" : (actionName.toUpperCase().indexOf("RESUME") >= 0) ? "resume" : (actionName.toUpperCase().indexOf("VIEW ACCOUNT") >= 0) ? "view account" : "");
                        if (linkType == "") {
                            if (dataid == 0 && actionName.toUpperCase().indexOf("CLOSE") >= 0)
                                linkType = "dismiss";
                            else if (actionName.toUpperCase().indexOf("SIGN OUT") >= 0 || actionName.toUpperCase().indexOf("LOG OUT") >= 0)
                                linkType = "dismiss";
                            else if (dataid == 11 || dataid == 111)
                                linkType = "subscribe";
                        }
                        if (linkType == "") {
                            window.ZITUtils.writeDebug("No linkType found for " + dataid + "#" + actionName + "#" + canvasId + "#" + brandId);
                            return;
                        }
                        canvasPosition = canvasPosition + linkType;
                        newdataLayerObject = {
                            event: eventName,
                            ecommerce: {
                                promoClick: {
                                    promotions: []
                                }
                            }
                        };
                    }
                    var canvasId = canvasName.toLowerCase();
                    if (canvasDesc != "")
                        canvasId = canvasId + " - " + canvasDesc.replace("_", " ");
                    if (eventName != "") {
                        var ecommerceObject = {
                            id: canvasId,
                            name: canvasName,
                            creative: canvasData.canvasTitle,
                            position: canvasPosition,
                            dimension136: canvasData.price,
                            dimension137: canvasData.canvasId
                        };
                        if (canvasData.price == null || canvasData.price == "" || canvasData.price == "{{v}}")
                            delete ecommerceObject.dimension136;
                        if (eventName == "eec.promotionClick")
                            newdataLayerObject.ecommerce.promoClick.promotions.push(ecommerceObject);
                        else
                            newdataLayerObject.ecommerce.promoView.promotions.push(ecommerceObject);
                        console.log("DataLayer object pushed " + JSON.stringify(newdataLayerObject));
                        window.dataLayer.push(newdataLayerObject);
                    }
                    else
                        window.ZITUtils.writeDebug("No data sent for " + dataid + " " + actionName);
                }
                else
                    window.ZITUtils.writeDebug("No canvas retrieved for " + canvasId);
            }
            catch (error) {
                window.ZITFunctions.sendRaygunData(error, "sendDataEvent " + dataid + "#" + actionName + "#" + canvasId + "#" + brandId);
            }
        }
        else
            window.ZITUtils.writeDebug("No window dataLayer defined.");
    },
    customizepostSignUp: function (result, recapChaCode) {
        window.ZITUtils.writeDebug("Going to call customizepostSignUp " + recapChaCode + " " + JSON.stringify(result));
        var prefix = "stg";
        if (result.EncodedAuthUId && result.EncodedAuthUId != "") {
            var cookieName = "stg_nymag_sid";
            if (window.location.hostname.indexOf("stg.") < 0) {
                cookieName = "nymag_sid";
                prefix = "subs";
            }
            window.ZITUtils.writeDebug("Going to create cookie " + cookieName);
            window.ZITUtils.createCookieinDetails(cookieName, encodeURIComponent(result.EncodedAuthUId), 365, 0, 0, 0);
            window.ZITFunctions.setLogIn();
            this.checkUserProfile(false);
        }
        else {
            window.ZITUtils.writeDebug("authId not found " + JSON.stringify(result));
        }
        if (result.RequireSignUpEmail && result.RequireSignUpEmail != "") {
            try {
                var xhr = new XMLHttpRequest();
                xhr.open("POST", 'https://' + window.location.hostname + '/api/newsletter/users');
                xhr.setRequestHeader("Content-Type", "application/json");
                xhr.setRequestHeader("Authorization", "token " + result.AuthToken);
                xhr.onreadystatechange = function () {
                    if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
                        window.ZITUtils.writeDebug(xhr.responseText);
                        var url = "https://" + prefix + ".nymag.com/oauth/login?" + cookieName + "=" + encodeURIComponent(result.EncodedAuthUId) + "&originalUrl=" + encodeURIComponent(window.location.href);
                        window.ZITUtils.writeDebug(url);
                        debugger;
                        window.location.href = url;
                    }
                };
                var newsLetterData = {
                    "email": result.RequireSignUpEmail,
                    "lists": { "registration-wall": true },
                    "recaptcha": recapChaCode,
                    "signuppage": window.location.href,
                    "source_registration-wall": "registration-wall",
                    "vars": { "source_registration-wall": "registration-wall" }
                };
                xhr.send(JSON.stringify(newsLetterData));
            }
            catch (error) {
                console.error(error);
            }
        }
        else {
            var url = "https://" + prefix + ".nymag.com/oauth/login?" + cookieName + "=" + encodeURIComponent(result.EncodedAuthUId) + "&originalUrl=" + encodeURIComponent(window.location.href);
            window.ZITUtils.writeDebug(url);
            debugger;
            window.location.href = url;
        }
    },

    AddInDynamicCanvasContainer: function () {
        if (window.ZITFunctions.datawall == 1 && (window.ViewerLoader.accessresult == 0 || window.ViewerLoader.accessresult == 5)) {
            window.ZITUtils.writeDebug("Blocked Article detected no SpeedBumpComponents will be inserted:" + data.response.CurCanvas.animationType);
            return;
        }
        else {
            const articleParagraphs = document.querySelectorAll('[class*="clay-paragraph"]');
            const articleProducts = document.querySelectorAll('[data-uri*="product"]');
            const ledeComponentInset = document.querySelector('.lede-image-wrapper.inset');
            const newsletterSpeedBumpConfiguration = {
                componentMinPlacement: ledeComponentInset ? 4 : 2,
                maxCharacterCount: 300,
                // stateful values
                placed: false
            };
            var counter = 1;
            // If the article contains no paragraph components or does contain product components dont display the newsletter tout
            if (!articleParagraphs.length || articleProducts.length) return;

            articleParagraphs.forEach((paragraphElement, index) => {
                if (newsletterSpeedBumpConfiguration.placed || !this.elementIsEligibleParagraph(paragraphElement)) return;

                if (counter >= newsletterSpeedBumpConfiguration.componentMinPlacement) {
                    var element = articleParagraphs[index];
                    let candidateElement = element.nextElementSibling;
                    const isLastParagraphElement = candidateElement && candidateElement === articleParagraphs[articleParagraphs.length - 1];
                    const isNextElementParagraph = candidateElement && Array.from(candidateElement.classList).find(classValue => classValue.includes('clay-paragraph'));

                    const isPreviousElementInset = element.previousElementSibling && Array.from(element.previousElementSibling.classList).find(classValue => classValue.includes('inset'));


                    // If next component is anything other than a clay paragraph, don't place it. Find something else or don't do anything.
                    if (!isNextElementParagraph || candidateElement.parentElement.parentElement.classList.contains('liveblog-update')) return;

                    // If previous component is an inset component. reset the counter so the paragraph won't be placed next to that component
                    if (isPreviousElementInset) {
                        // Set this value to 2 in case there's an inset lede component that changes this value to 4 when it's defined above
                        newsletterSpeedBumpConfiguration.componentMinPlacement = 2;
                        counter = 0;
                    }
                    else {
                        /* If there's no true eligible candidate element, place the newsletter speed bump above the second paragraph from the bottom but
                        only if that paragraph's character count is 300 or more */
                        var isValid = true;
                        if (isLastParagraphElement) {
                            candidateElement = articleParagraphs[articleParagraphs.length - 2];

                            const exceedsCharacterCount = candidateElement.innerText.length < newsletterSpeedBumpConfiguration.maxCharacterCount;
                            const isPreviousElementParagraph = candidateElement.previousElementSibling && candidateElement.previousElementSibling.classList.contains('clay-paragraph');

                            if (exceedsCharacterCount || !isPreviousElementParagraph) isValid= false;
                        }
                        if (isValid) {
                            window.ZITUtils.writeDebug(`[Paywall-Newsletter-Speed-Bump-Placement]: Found Position for paragraph ` + index + " " + counter);

                            var canvashtml = "<div class=\"zeddit-rcm\" data-pid=\"" + window.ZITFunctions.brandId + "\" data-type=\"canvas-display\" animation-type=\"none\" variant=\"1\"></div>";
                            candidateElement.parentNode.insertAdjacentHTML("beforebegin", canvashtml);
                            newsletterSpeedBumpConfiguration.placed = true;
                        }
                    }
                }

                counter += 1;
            });
        }
    }
};;window.SubxSetting = JSON.parse('{"brandId":1074,"MaxHours":-1,"MaxMinutes":-61,"Weeks":0,"IsActivateXAlternate":false,"IsActivateX":false,"AnimateTypeId":0,"ActivateXsecondClickMaxHours":-1,"ActivateXsecondClickMaxMinutes":-1,"ActivateXsecondClickMaxWeeks":0,"ActivateXthirdClickMaxHours":-1,"ActivateXthirdClickMaxMinutes":-1,"ActivateXthirdClickMaxWeeks":0,"PreHtmlCode":"","WidgetDomain":"www.thecut.com","isPath":false,"EmailCanvasSuccessTextFontSize":"","EmailCanvasSuccessTextFontFamily":"","EmailCanvasSuccessTextFontWeight":"","EmailCanvasSuccessTextFontStyle":"","EmailCanvasSuccessTextLineSpace":"","EmailCanvasSuccessTextLetterSpace":"","SubscriberId":"","EmailId":"","Subscribertag":"","Emailtag":"","MemberTag":"","RegisterTag":"","DLSubscribertag":"","DLEmailtag":"","DLMemberTag":"","DLRegisterTag":"","LSSubscribertag":"","LSEmailtag":"","LSMemberTag":"","LSRegisterTag":"","CanvasAlertMessage1FontFamily":"","CanvasAlertMessage1FontWeight":"","CanvasAlertMessage1FontStyle":"","CanvasAlertMessage1FontSize":"","CanvasAlertMessage1LineSpace":"","CanvasAlertMessage1LetterSpace":"","CanvasAlertMessage2FontFamily":"","CanvasAlertMessage2FontWeight":"","CanvasAlertMessage2FontStyle":"","CanvasAlertMessage2FontSize":"","CanvasAlertMessage2LineSpace":"","CanvasAlertMessage2LetterSpace":"","IsAddGoogleFontCSS":false,"AudiencePercentage":0,"OfferPercentage":0,"ApiKey":"nkeqpgdvo","BrandDomain":"thecutus","PaymentPercentage":100,"CategoryUrlNo":0,"GroupEnabled":0,"SessionLimitEnabled":0,"GAAccount":"","GTMTag":"GTM-NL7LR9Z","datawallEnabled":1,"isHideOnSubmitSlideCanvas":false,"HideOnSubmitSlideCanvasMaxMinutes":-1,"HideOnSubmitSlideCanvasMaxHours":-1,"HideOnSubmitSlideCanvasMaxWeeks":0,"HideCanvasTypeForRegisters":0,"HideCanvasTypeForMembers":0,"isHideOnSubmitPopupCanvas":false,"HideOnSubmitPopupCanvasMaxMinutes":-1,"HideOnSubmitPopupCanvasMaxHours":-1,"HideOnSubmitPopupCanvasMaxWeeks":0,"isReCaptchaOn":true,"isHideAllEmailCanvas":0,"reCaptchaSiteKey":"6LcQmfoUAAAAAHL2UQnKmKFkIgzXmLeJs0YET0Ps","reCaptchaSecretKey":"","PanelPercentage":-1,"MemberSignedInWidget":0,"fromCache":0,"CacheKey":null,"widgetDataLayer":"pageType;auth0_id;has_subscription,,pageType;has_subscription;auth0_id,,pageType;has_subscription;authID,,pageType;has_subscription;featureTypes;auth0_id,,pageType;has_subscription;pausedAud,,pageType;stripe_customer_id,","widgetLocalStorage":"","CacheDate":"2024-01-31T13:59:11.166354Z","allowedTypes":[{"CT":"get","AT":"slide"},{"CT":"post","AT":"slide"}],"CKSubscribertag":"","CKEmailtag":"","CKMemberTag":"","CKRegisterTag":"","ckIdentity":"","lsIdentity":"","qsIdentity":"","DLIdentity":"","BrandUrl":"https://emaillead.zeddit.com"}');window.SubxSettings = null;(function(n,t){var u,tt,k,d,y,r,o,g,nt,p,w;!function(n){function h(){}function c(n,t){return function(){n.apply(t,arguments)}}function t(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];o(n,this)}function e(n,t){for(;3===n._state;)n=n._value;return 0===n._state?void n._deferreds.push(t):(n._handled=!0,void f(function(){var u=1===n._state?t.onFulfilled:t.onRejected,f;if(null===u)return void(1===n._state?r:i)(t.promise,n._value);try{f=u(n._value)}catch(e){return void i(t.promise,e)}r(t.promise,f)}))}function r(n,r){try{if(r===n)throw new TypeError("A promise cannot be resolved with itself.");if(r&&("object"==typeof r||"function"==typeof r)){var f=r.then;if(r instanceof t)return n._state=3,n._value=r,void u(n);if("function"==typeof f)return void o(c(f,r),n)}n._state=1;n._value=r;u(n)}catch(e){i(n,e)}}function i(n,t){n._state=2;n._value=t;u(n)}function u(n){2===n._state&&0===n._deferreds.length&&f(function(){n._handled||s(n._value)});for(var t=0,i=n._deferreds.length;i>t;t++)e(n,n._deferreds[t]);n._deferreds=null}function l(n,t,i){this.onFulfilled="function"==typeof n?n:null;this.onRejected="function"==typeof t?t:null;this.promise=i}function o(n,t){var u=!1;try{n(function(n){u||(u=!0,r(t,n))},function(n){u||(u=!0,i(t,n))})}catch(f){if(u)return;u=!0;i(t,f)}}var a=setTimeout,f="function"==typeof setImmediate&&setImmediate||function(n){a(n,0)},s=function(n){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};t.prototype["catch"]=function(n){return this.then(null,n)};t.prototype.then=function(n,t){var i=new this.constructor(h);return e(this,new l(n,t,i)),i};t.all=function(n){var i=Array.prototype.slice.call(n);return new t(function(n,t){function u(r,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return void o.call(e,function(n){u(r,n)},t)}i[r]=e;0==--f&&n(i)}catch(s){t(s)}}if(0===i.length)return n([]);for(var f=i.length,r=0;r<i.length;r++)u(r,i[r])})};t.resolve=function(n){return n&&"object"==typeof n&&n.constructor===t?n:new t(function(t){t(n)})};t.reject=function(n){return new t(function(t,i){i(n)})};t.race=function(n){return new t(function(t,i){for(var r=0,u=n.length;u>r;r++)n[r].then(t,i)})};t._setImmediateFn=function(n){f=n};t._setUnhandledRejectionFn=function(n){s=n};"undefined"!=typeof module&&module.exports?module.exports=t:n.Promise||(n.Promise=t)}(n);String.prototype.replaceAll=function(n,t){var i=this;return i.replace(n,t)};String.prototype.startsWith=function(n){return n==null||n==""||this.length==0||n.length>this.length?!1:this.substr(0,n.length)==n?!0:!1};var f={},v=[],ut=document.body,h=function(i,r,u,f){var l,h,o,e,a,s,c;if(i=i||"",r=r||{},u=u||"",f=f||function(){},i==""){console.log("Url is empty.");return}if(l=function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(i);return t},typeof r=="object"){for(h="",o=l(r),e=0;e<o.length;e++)h+=encodeURIComponent(o[e])+"="+encodeURIComponent(r[o[e]]),e!=o.length-1&&(h+="&");i+="?"+h}else typeof r=="function"&&(u=r,f=u);typeof u=="function"&&(f=u,u="callback");Date.now||(Date.now=function(){return(new Date).getTime()});a=Date.now();s="jsonp"+Math.round(a+Math.random()*1000001);n[s]=function(i){f(i);try{delete n[s]}catch(r){n[s]=t}};i=i.indexOf("?")===-1?i+"?":i+"&";c=document.createElement("script");c.setAttribute("src",i+u+"="+s);document.getElementsByTagName("head")[0].appendChild(c)};n.JSONP=h;n.SubxMode=u;u={isLocal:!1,version:"3.8.7",isTest:!1,getWidgetApiUrl:function(t){return"https://"+this.getBrandDomain(t)+".zeddit.com/"+n.location.hostname+"/GetCustomWidgetV2"},getBootstrapeScriptUrl:function(){return this.getBootstrapeNewPanelScriptUrl()},getBootstrapeNewPanelScriptUrl:function(){return this.isLocal?localbaseurl+"/Scripts/embed/widget/ZITBootstrap-newpanel-1.0.js?v="+(new Date).getTime():"https://d2ip7iv1l4ergv.cloudfront.net/embed/widget/ZITBootstrap-newpanel-1.0.js?v="+this.version},getMyloScriptUrl:function(){return"https://cdn.mylo.id/mylo-sdk-javascript/1.6.0/mylo.min.js"},getJqueryScript:function(){if(typeof jQuery!="undefined")if(jQuery.fn.jquery.startsWith("1.1"))n.ZITUtils.writeDebug("Outdated jquery detected. Going to load new jQuery.");else return n.ZITUtils.writeDebug("jQuery has already been loaded "+jQuery.fn.jquery),"";else n.ZITUtils.writeDebug("Going to load jQuery");return n.ZITFunctions.host()=="wwwtimetesting.cdsglobal.co.uk"||n.ZITFunctions.host()=="www.subscription.co.uk"?"":this.isLocal?"/Scripts/jquery.3.5.min.js":"https://d2ip7iv1l4ergv.cloudfront.net/embed/widget/jquery.3.6.min.js"},getFormValidationScript:function(){return n.ZITUtils.writeDebug("Going to load Form validator"),n.ZITFunctions.host()=="wwwtimetesting.cdsglobal.co.uk"||n.ZITFunctions.host()=="www.subscription.co.uk"?"":"//cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js"},getCryptoScript:function(){return"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js"},getJqueryIdletimerScript:function(){return"//cdnjs.cloudflare.com/ajax/libs/jquery-idletimer/1.0.0/idle-timer.min.js"},getNewCanvasScript:function(){return this.isLocal?"/Scripts/embed/widget/ZITNewCanvas.js?v="+(new Date).getTime():"https://d2ip7iv1l4ergv.cloudfront.net/embed/widget/ZITNewCanvas.js?v="+this.version},getNewCanvasPostScript:function(){return this.isLocal?"/Scripts/embed/widget/ZITNewCanvasPost.js?v="+(new Date).getTime():"https://d2ip7iv1l4ergv.cloudfront.net/embed/widget/ZITNewCanvasPost.js?v="+this.version},getRecaptchaAPIScript:function(t){return n.SubxClientEvents&&n.SubxClientEvents.recapV3&&n.SubxClientEvents.recapV3==1?"https://www.google.com/recaptcha/api.js?render="+t:"https://www.google.com/recaptcha/enterprise.js?render="+t},getAuth0Script:function(){return"https://cdn.auth0.com/js/auth0/9.18/auth0.min.js"},getDataTrackingScript:function(){return u.getDataTrackingDomain()+"SetCampaignViewWithData"},getDataTrackingDomain:function(){return typeof n.SubxClientEvents.region!="undefined"&&n.SubxClientEvents.region=="US"?"https://dataus.zeddit.com/":"https://datatracking.zeddit.com/"},getBrandDomain:function(){var t=n.location.host;if(typeof n.SubxClientEvents!="undefined"&&typeof n.SubxClientEvents.scriptGroup!="undefined"&&n.SubxClientEvents.scriptGroup!=""){if(n.SubxClientEvents.scriptGroup=="HearstUS")return u.isTest?"coreustest":"prod";if(typeof n.SubxClientEvents!="undefined"&&typeof n.SubxClientEvents.scriptDomain!="undefined"&&n.SubxClientEvents.scriptDomain!="")return n.SubxClientEvents.scriptDomain.toLowerCase()}else return"gatewall"},getAccessCanvas:function(t,i,r){if(r>0)return"https://"+this.getBrandDomain(t)+".zeddit.com/"+n.location.hostname+"/GetCanvas?curSession="+n.ZITFunctions.retrieveCurSession()+"&uemail="+n.ZITUtils.readCookie("_sem")+"&canvasIdentifier="+i+"&DNT="+n.ZITFunctions.isDNT+"&host="+encodeURIComponent(n.location.href)},getSubxCore:function(t){var h=n.ZITFunctions.retrieveOrigSession(),a=n.ZITFunctions.retrieveCurSession(),v=n.ZITFunctions.retrieveTrackingData(),i="https://"+this.getBrandDomain(t)+".zeddit.com/"+n.location.hostname+"/SubxCoreV1?origId=",o,y,p,w,c,b,r,u,l,f,k,s,e;return h&&h!=""?i=i+encodeURIComponent(h):(o=n.ZITloader.getQueryString("dtId"),o&&o!=""&&(i=i+o)),i=i+"&curSession=",typeof a!="undefined"&&(i=i+a),i=i+"&pid="+t,i=i+"&vtype="+n.ZITFunctions.retrieveVisitorType(),i=i+"&sxTg="+n.ZITFunctions.retrieveTestGroup(),navigator&&(i=i+"&nvg="+navigator.maxTouchPoints),y=n.ZITUtils.readCookie("_debugRP"),i=i+"&debugRP="+y,i=i+"&urlNo="+n.ZITFunctions.categoryNo,p=n.ZITUtils.readCookie("_sanba"),i=i+"&ANba="+p,i=i+"&np="+(n.ZITFunctions.newpage==!0?1:0),w=n.ZITUtils.readCookie("_isFirst")||0,w>0&&(i=i+"&isFirst=1"),i=i+"&isArticle="+n.ViewerLoader.isArticle(),c=n.ZITUtils.readCookie("_isMemAud")||0,i=i+"&isMemAud="+c,i=i+"&DNT="+n.ZITFunctions.isDNT,i=i+"&mOnly="+(n.ViewerLoader.specialPath?1:0),n.ZITFunctions.dataLayerValue!=""&&(i+=n.ZITFunctions.dataLayerValue),b=n.ZITUtils.readCookie("_MChecked")||0,c>0?(i=i+"&sue="+n.ZITUtils.readCookie("_sue"),i=i+"&uemail="+n.ZITUtils.readCookie("_sem"),i=i+"&isMber=1",typeof n.ZITUtils.readCookie("_sue")!="undefined"&&b==0?i=i+"&hasChecked=0":typeof n.ZITUtils.readCookie("_sue")!="undefined"?(i=i+"&hasChecked=1",n.ZITUtils.writeDebug(" Membership has been checked today ")):typeof n.SubxClientEvents.retrieveRegMember!="undefined"?n.ZITUtils.createCookie("_isMemAud","",-1):n.ZITUtils.writeDebug(" Customized membership by pass daily check.")):(r=n.ZITUtils.readCookie("_sue"),r&&r!=""||(i=i+"&sue="+encodeURIComponent(r)),r=n.ZITloader.getQueryString("sue")),n.ZITUtils.writeDebug("email retrieved "+n.subxEmail),n.subxEmail&&n.subxEmail!=""&&(i=i+"&emailId="+encodeURIComponent(n.subxEmail)),i=i+"&mlFile="+v.ML,n.ZITFunctions.updateSPWCookie(),typeof n.SubxClientEvents.retrieveHistoryspw!="undefined"?i=i+n.SubxClientEvents.retrieveHistoryspw(v.isEmailAud):(u=n.ZITUtils.readCookie(n.ZITFunctions.spwCookieName),n.ZITUtils.writeDebug(n.ZITFunctions.spwCookieName+" "+u),u&&u!=""&&n.ZITFunctions.spwCookieName!="_smpw"?i=i+"&spw="+u:(l=n.ZITUtils.readCookie("_srpw"),i=l?i+"&spw="+l:i+"&spw=0")),typeof n.SubxClientEvents.isSpecialSection!="undefined"&&n.SubxClientEvents.isSpecialSection()&&(i=i+"&isSpecialSec=1"),f=n.ZITUtils.readCookie("_sxo"),k=n.ZITFunctions.host(),typeof f!="undefined"&&f!=""&&f!=null&&(i=i+"&sxo="+btoa(f)),typeof n.SubxClientEvents.addtoQuery!="undefined"&&(i=i+n.SubxClientEvents.addtoQuery()),s=n.ZITFunctions.keyword,s&&s!=""&&(i+="&keyword="+encodeURIComponent(s)),n.ZITFunctions.isDNT==0&&(e=n.ZITUtils.localStorageStore("_scrH"),typeof e!="undefined"&&e!=""&&e!=null&&(i=i+"&scrH="+n.ZITUtils.jsencrypt(k,e),n.ZITUtils.localStorageStore("_scrH",null))),i+"&refer="+encodeURIComponent(n.location.href)}};n.ViewerLoader={toRemoveSpw:0,username:"",htmlCode:"",isFirstRegWall:-1,accessFinished:!1,specialPath:!1,remainingArticle:-1,accessresult:-1,HideNormalOnFirstRegWall:0,HideEmailAud:0,MemberEnabled:0,isRegister:0,totalWaitingTime:0,isArticle:function(){if(typeof n.SubxClientEvents.isArticle=="undefined"){var t=document.getElementsByTagName("subxtechbodystart"),i=document.getElementsByTagName("subxtechbodyend");return t!=null&&t.length>0&&i!=null&&i.length>0?1:0}return n.SubxClientEvents.isArticle()?1:0},customizedint:function(t,i,r){var a=this,f=n.SubxClientEvents.getContainer(),s=n.SubxClientEvents.getAnimateContainer(),k=n.SubxClientEvents.getParagraph(),v=n.ZITUtils.readCookie("_isMemAud")||0,p=n.ZITFunctions.retrieveTrackingData(),c=n.ZITFunctions.brandId,e,l,y,w,o,b;n.ZITUtils.writeDebug("Calling customizedint");v==1?(n.ZITUtils.writeDebug("Membership Mode"),o='<div class="zeddit-rcm" data-pid="'+n.ZITFunctions.brandId+'" data-type="canvas-disclaimer" animation-type="none" data-issignin="1" data-ism="1"><\/div>',e=f==null?s:f[0],e?e.insertAdjacentHTML("beforebegin",o):n.ZITUtils.writeDebug("Non subxbody"),n.ViewerLoader.isFirstRegWall=0,n.ViewerLoader.accessFinished=!0):(a.isRegister==1||p.isRegAud==1)&&a.MemberEnabled==0?(n.ZITUtils.writeDebug("Register Mode"),o='<div class="zeddit-rcm" data-pid="'+n.ZITFunctions.brandId+'" data-type="canvas-disclaimer" animation-type="none" data-issignin="1"><\/div>',e=f==null?s:f[0],e?e.insertAdjacentHTML("beforebegin",o):n.ZITUtils.writeDebug("Non subxbody"),n.ZITUtils.writeDebug("Register Hide Mode"),n.ViewerLoader.isFirstRegWall=0,n.ViewerLoader.accessFinished=!0):p.isEmailAud==1&&n.ViewerLoader.HideEmailAud==1&&a.MemberEnabled==0?(n.ZITUtils.writeDebug("Email Aud Hide Mode"),o='<div class="zeddit-rcm" data-pid="'+n.ZITFunctions.brandId+'" data-type="canvas-disclaimer" animation-type="none" data-issignin="1"><\/div>',e=f==null?s:f[0],e?e.insertAdjacentHTML("beforebegin",o):n.ZITUtils.writeDebug("Non subxbody"),n.ViewerLoader.isFirstRegWall=0,n.ViewerLoader.accessFinished=!0):v==0&&(f!=null&&f.length>0||s!=null||typeof customizeMasking!="undefined")?(n.ZITFunctions.updateSPWCookie(),l="",t>0?(n.ZITUtils.writeDebug("Going to call canvas "+t),h(u.getAccessCanvas(n.ZITFunctions.brandId,i,t),function(i){var e,h,u,a,p,v,w,y,o,b;if(i.response.Result==1&&i.response.CurCanvas.rcmHtml!=""?(l=r.response.Message,n.ZITUtils.writeDebug("Canvas html code updated.")):(n.ZITFunctions.sendRaygunData(new Error("Canvas is not received successfully "+JSON.stringify(r)),"Unable to retrieve the canvas "+t),n.ZITUtils.writeDebug("Canvas html code not retrieved.")),n.SubxExtCanvas=i.response.CachedCanvas&&i.response.CachedCanvas.length>0?i.response.CachedCanvas:null,l==""&&(r.response.CanvasStatus=0,n.ZITUtils.writeDebug("Canvas status has been updated to 0.")),r&&r.response&&r.response.CanvasStatus==0&&(r.response.AccessResult==0||r.response.AccessResult==5)?(n.ZITUtils.writeDebug("No canvas retrieved skip gatewall"),r.response.AccessResult=-10):n.ZITUtils.writeDebug("Going to process "+JSON.stringify(r.response)),r&&r.response&&(r.response.AccessResult==0||r.response.AccessResult==5)){if(n.ZITUtils.writeDebug("Going to block "+r.response.AccessResult),n.ViewerLoader.isFirstRegWall=!n.ZITUtils.readCookie(n.ZITFunctions.spwCookieName)&&n.ViewerLoader.HideNormalOnFirstRegWall&&n.ViewerLoader.HideNormalOnFirstRegWall==1?1:0,typeof n.SubxClientEvents.customizeMasking=="undefined")if(e=f!=null&&f.length>0?f[0]:s,n.ZITUtils.writeDebug("Animation Type Standard BlockContent:"+r.response.CurCanvas.animationType),l=i.response.CurCanvas.rcmHtml,h=document.createElement("style"),typeof n.SubxClientEvents.getCSS!="undefined"?h.innerHTML+=n.SubxClientEvents.getCSS():n.ZITUtils.writeDebug("No customized css."),document.body.appendChild(h),typeof r.response.CurCanvas.animationType=="undefined"||r.response.CurCanvas.animationType==""||s==null)n.ZITUtils.writeDebug("Masking parent tag:"+e.tagName+" "+s),e.insertAdjacentHTML("beforebegin",r.response.Message),e.className+=" subxstyle";else if(u=f[0],u)for(n.ZITUtils.writeDebug("Masking animation containers Tag:"+u.tagName+" "),u.insertAdjacentHTML("beforebegin",r.response.Message);u&&u.tagName!="SUBXTECHBODYEND";){if(typeof u.className=="undefined")u.className+=" subxstyle",(c==975||c==995)&&(u.className+=" embed");else if(u.className.indexOf("subxstyle")<0)u.className+=" subxstyle",(c==975||c==995)&&(u.className+=" embed");else{n.ZITUtils.writeDebug("Element already added ");break}u=u.nextSibling}else n.ZITUtils.writeDebug("No subxtechbody detected. ");else n.SubxClientEvents.customizeMasking(r);n.ZITFunctions.sendGAData(0,"BlurContent",0,"Registration",!0)}else{if(n.ZITUtils.writeDebug("Do not block "),typeof n.SubxClientEvents.unblockContent=="undefined")while(u&&u.tagName!="SUBXTECHBODYEND")typeof u.className!="undefined"&&(u.className=u.className.replace("subxstyle embed",""),u.className=u.className.replace("subxstyle","")),u=u.nextSibling;else n.SubxClientEvents.unblockContent();n.ViewerLoader.remainingArticle=r.response.RA;r.response.AccessResult==1&&n.ZITFunctions?(n.ZITFunctions.updateReaderCounter(r.response.RA),a=n.ZITUtils.readCookie("_sxcc"),a&&a!=""||(p=new Date,n.ZITUtils.createCookieinDetails("_sxcc",p.toLocaleString(),30,0,0,0))):r.response.AccessResult!=-10&&n.ZITFunctions.updateReaderCounter(r.response.RA);r.response.AccessResult>1&&(v=r.response.SignedInMessage,w=n.ZITUtils.readCookie("_siM")||0,r.response.AccessResult==3&&(v+=r.response.Message),(w==0||r.response.AccessResult!=2)&&e.insertAdjacentHTML("beforebegin",v),r.response.Username&&n.ZITFunctions.setUserName(r.response.Username),n.ZITUtils.createCookie(n.ZITFunctions.spwCookieName,"",-1));n.ZITUtils.writeDebug("Keep original format");n.ViewerLoader.isFirstRegWall=0}for(y=document.querySelectorAll(".zeddit-rcm.is-cg"),o=0,b=y.length;o<b;o++)n.ViewerLoader.initDynamicWidget(y[o],i.response);n.ViewerLoader.accessFinished=!0})):(n.ZITUtils.writeDebug("Skip calling url "+t),n.ViewerLoader.remainingArticle=r.response.RA,r.response.AccessResult==1&&n.ZITFunctions?(n.ZITFunctions.updateReaderCounter(r.response.RA),y=n.ZITUtils.readCookie("_sxcc"),y&&y!=""||(w=new Date,n.ZITUtils.createCookieinDetails("_sxcc",w.toLocaleString(),30,0,0,0))):r.response.AccessResult!=-10&&n.ZITFunctions.updateReaderCounter(r.response.RA),r.response.AccessResult>1&&(o=r.response.SignedInMessage,b=n.ZITUtils.readCookie("_siM")||0,r.response.AccessResult==3&&(o+=r.response.Message),(b==0||r.response.AccessResult!=2)&&e.insertAdjacentHTML("beforebegin",o),r.response.Username&&n.ZITFunctions.setUserName(r.response.Username),n.ZITUtils.createCookie(n.ZITFunctions.spwCookieName,"",-1)),n.ZITUtils.writeDebug("Keep original format"),n.ViewerLoader.isFirstRegWall=0,n.ViewerLoader.accessFinished=!0)):(n.ZITUtils.writeDebug("filter out mode "+v+" "+f+" "+s),n.ZITFunctions.setFilterOut(1),n.ZITUtils.writeDebug("Non-Developer"),n.ViewerLoader.isFirstRegWall=0,n.ViewerLoader.accessFinished=!0)},initDynamicWidget:function(t,i){t.setAttribute("data-src",location.href);var r=n.ZITFunctions.retrieveTrackingData(),o=n.ZITFunctions.retrieveOrigSession(),s=n.ZITFunctions.retrieveCurSession(),h=n.ZITFunctions.brandId,u={key:0,pid:t.getAttribute("data-pid")||0,isContentGate:t.getAttribute("data-iscg")||0,isMembership:t.getAttribute("data-ism")||0,isSignIn:t.getAttribute("data-issignin")||0,remaining:t.getAttribute("data-ra")||0,wid:t.getAttribute("data-wid")||0,isnew:t.getAttribute("data-isnew")||0,displays:t.getAttribute("data-displays")||0,defaultPageSize:t.getAttribute("data-no-post")||4,isLocal:t.getAttribute("data-local")||0,widgetType:t.getAttribute("data-type")||"",animationType:t.getAttribute("animation-type")||"",variant:t.getAttribute("variant")||0,funnelType:t.getAttribute("funnel-type")||"",isDisplayWidget:!1,isNewCanvas:!0,brandUrl:"",widgetDisplayType:"",timeToFlash:5e3,timeToRemove:8e3,timeToDisplay:3e3,apiURL:"",layout:1,filterType:"",filterValue:"",noOfPostVisibleInCarousel:0,showThumbnail:!0,autoPlay:!1,closeType:3,appearAtScrollPosition:50,initSession:o,curSession:s,origId:o,emailpanelobject:"",isPreview:!1,isSandbox:!1,isOptOut:!1,hasFullName:!1,isDisclaimerShowFromStart:!1,apiKey:n.ZITFunctions.apiKey,isShowTab:!1,isSlide:!1,isAnimate:!1,popupShowOn:0,popupShowOnMobile:0,popupAppearAtScrollPosition:50,popupAppearAtScrollPositionMobile:50,scrollStatus:0,deviceForScrollStatus:0,slideShowOn:0,slideTimerTime:0,animateFrequency:0,popupDelayTime:0,popupDelayTimeMobile:0,doNotTrack:e,isR:r.R,pv:r.sP,dP:r.dP,dS:r.dS,tS:r.tS,tP:r.tP,cPs:r.cPs,lPs:r.lPs,lVd:r.lVd,F:r.F||0,Nba:r.Nba,dT:r.devT,isEmailAud:r.isEmailAud||0,isPanelAud:r.isPanelAud||0,isDropoff:r.isDropoff||0,isRegAud:r.isRegAud||0,userName:r.userName,emailId:r.emailId,emailTag:r.emailTag,subscribeTag:r.subTag,groupName:r.groupName||"",w:0,isActivateX:!1,isActivateXAlternate:!1,activateX_AnimType:0,activateX_MaxMinutes:0,activateX_SecondClick_MaxMinutes:0,activateX_ThirdClick_MaxMinutes:0,isTest:!1,isSlideScrollUpHide:!1,isHideOnSubmitSlideCanvas:!1,hideOnSubmitSlideCanvas_MaxMinutes:0,isHideOnSubmitPopupCanvas:!1,hideOnSubmitPopupCanvas_MaxMinutes:0,canvasType:"",isReCaptchaOn:r.isReCaptchaOn,reCaptchaSiteKey:n.ZITUtils.decrypt(r.reCaptchaSiteKey),reCaptchaSecretKey:n.ZITUtils.decrypt(r.reCaptchaSecretKey)};u.pid=="xxx"&&(u.pid=1065);var f=u.isSignIn==1?i.SignInCanvas:i.CurCanvas;u.doNotTrack=f.DoNotTrack;u.wid==0&&(u.wid=f.widgetId);t.setAttribute("data-brandurl",f.brandUrl);h==988&&u.isSignIn==1&&n.ZITUtils.createCookieinDetails("_siM",1,365,0,0,0);t.setAttribute("data-origId",o);n.ZITloader.initDataWallCanvas(t,u,f)}};n.ZITloader={getAPIURL:function(t){var it=[],rt=[],ut=[],ft=[],et=[],ot=[],st=[],ht=[],ct=[],lt=[],at=s,vt=f.WidgetOtherContainerConfig,v,o,y,yt,p,pt,wt,bt,i,kt,d,g,w,dt,gt,e,c,nt,ni,b,tt,k,ti;t&&(at=l,vt=f.WidgetPopupContainerConfig);var h=n.ZITFunctions.testData,a=!1,r=n.ZITFunctions.retrieveTrackingData();for(v=0;v<at;v++)o=vt[v],rt.push(o.widgetType),ft.push(o.animationType),et.push(o.isContentGate),ot.push(o.isMembership),st.push(o.isSignIn),lt.push(o.variant),y=0,h&&h.testAnamiation==o.animationType&&h.testCanvasType==o.widgetType&&h.testContentG==0&&(h.testCanvasType=="canvas-display"&&h.testVariant==o.variant?(o.wid<=0&&(o.wid=h.testWidget),y=1,a=!0):h.testCanvasType!="canvas-display"&&(o.wid<=0&&(o.wid=h.testWidget),y=1,a=!0)),it.push(o.wid),ht.push(y),yt="zit."+o.animationType+"."+r.isPanelAud+".displaysD",p=n.ZITUtils.readCookie(yt),p||(p="0"),pt=parseInt(p),ut.push(pt),wt="zit."+o.widgetType+"."+o.animationType+"."+o.isContentGate,bt=n.ZITUtils.readCookie(wt)||0,ct.push(bt);return h&&!a?(n.ZITUtils.writeDebug("Test data not found"),n.ZITUtils.writeDebug(JSON.stringify(h))):h||n.ZITUtils.writeDebug("No test data"),i=u.getWidgetApiUrl(n.ZITFunctions.brandId),i=i+"?p_id="+n.ZITFunctions.brandId,a&&(i=i+"&idg="+ht.join(",")),i=i+"&wid="+it.join(","),i=i+"&type="+rt.join(","),kt=n.ZITUtils.readCookie("__adblocker"),i=i+"&adBlk="+kt,i=i+"&display="+ut.join(","),i=i+"&animation_type="+ft.join(","),i=i+"&cL="+ct.join(","),i=i+"&isContentGate="+et.join(","),d=n.ZITUtils.readCookie("_cath")||"",d!=""&&(i=i+"&cath="+d),g=n.ZITUtils.readCookie("_cfreqh")||"",g!=""&&(i=i+"&caFreq="+g),i=i+"&isMber="+ot.join(","),i=i+"&isSignIn="+st.join(","),i=i+"&variant="+lt.join(","),r.groupName!=""&&(i=i+"&sxTg="+r.groupName),typeof r.last_wid!="undefined"&&r.last_wid>0&&(i=i+"&lastWid="+r.last_wid),i=i+"&clickedId=0&iss="+n.ZITFunctions.retrieveCurSession()+"&dtId="+encodeURIComponent(n.ZITFunctions.retrieveOrigSession()),i=i+"&doffer="+n.ZITFunctions.doffer,i=i+"&sfreq="+r.SFreq,w=n.ZITUtils.readCookie("zit.all.0")||0,w&&w>0&&(i=i+"&allcL="+w),dt=n.ZITUtils.readCookie("_isMemAud")||0,dt>0&&(i=i+"&isMemAud=1"),gt=n.ZITUtils.readCookie("_sxMD")||0,i=i+"&sxmd="+gt,i=i+"&nba="+r.Nba,e="",typeof n.SubxClientEvents.isSpecialSection!="undefined"&&n.SubxClientEvents.isSpecialSection()?(e=e+"&pm="+r.sM2,e=e+"&dm="+r.dM2,e=e+"&tm="+r.tM2):n.SubxClientEvents&&typeof n.SubxClientEvents.GetReadingCounter!="undefined"?e=e+n.SubxClientEvents.GetReadingCounter():(c=n.ZITUtils.readCookie("_rA"),nt=n.ZITUtils.readCookie("_spw"),nt&&nt>0&&c&&c>0?(e=e+"&pm="+(parseInt(c)-1),e=e+"&dm="+(parseInt(c)-1),e=e+"&tm=0"):(e=e+"&pm="+r.sM,e=e+"&dm="+r.dM,e=e+"&tm="+r.tM)),n.ZITUtils.writeDebug("apiPage Retrieved"+e+" "+(r.tM+r.dM)+" "+c),e&&(i=i+e),i=i+"&DNT="+n.ZITFunctions.isDNT,typeof n.SubxClientEvents.addtoQuery!="undefined"&&(i=i+n.SubxClientEvents.addtoQuery()),ni="zit.npwcc",b=n.ZITFunctions.sessionStore(ni),typeof b!="undefined"&&b!=null&&(i=i+"&exl="+b.replace("null,","")),n.ZITFunctions.isDNT==0&&(i=i+"&pv="+r.sP,i=i+"&sSr="+r.sSr,i=i+"&wHis="+r.tWids,i=i+"&wN="+r.wN,i=i+"&tPrice="+r.TPrice,i=i+"&tP="+r.tP+"&dp="+r.dP+"&isreturn="+r.R,tt="",tt=Array.isArray(r.lPs)?r.lPs.join(","):r.lPs,i=i+"&dS="+r.dS+"&cPs="+r.cPs+"&freq="+r.F+"&lPs="+tt+"&lVd="+r.lVd),i=i+"&apiKey="+n.ZITFunctions.apiKey+"&isEmailAud="+r.isEmailAud+"&isPanelAud="+r.isPanelAud+"&isRegAud="+r.isRegAud+"&isDropoff="+r.isDropoff,i=typeof r.devT!="undefined"&&r.devT!=4?i+"&dT="+r.devT:i+"&dT=4",k=n.ZITFunctions.keyword,k&&k!=""&&(i+="&keyword="+encodeURIComponent(k)),ti=n.ZITUtils.readCookie("_sxRD")||0,i=i+"&sxrd="+ti,n.ZITFunctions.localStorageValue!=""&&(i+=n.ZITFunctions.localStorageValue),typeof n.SubxClientEvents.gtmstatus!="undefined"&&(i=i+"&gtm="+n.SubxClientEvents.gtmstatus),n.ZITFunctions.dataLayerValue!=""&&(i+=n.ZITFunctions.dataLayerValue),i=i+"&host="+encodeURIComponent(n.location.href),o.apiURL=i,i},initScript:function(n){if(Array.isArray(n)){var i=this,t=[];return n.forEach(function(n){t.push(i.script(n))}),Promise.all(t)}return new Promise(function(t,i){var f=!1,e=document.getElementsByTagName("script")[0],r=document.createElement("script"),o=!1,u,s;if(v.length!=0)for(u=0,s=v.length;u<s;u++)n==v[u]&&(t(this),o=!0);o||(v.push(n),r.type="text/javascript",r.src=n,r.async=!0,r.onload=r.onreadystatechange=function(){f||this.readyState&&this.readyState!="complete"||(f=!0,t(this))},r.onerror=r.onabort=i,e.parentNode.insertBefore(r,e))})},setNptTechAdblockerCookie:function(t){n.ZITUtils.createCookieinDetails("__adblocker",t,0,5,0,0)},checkAdBlock:function(){console.log("Check Ads Block.");var n=document.createElement("script");n.setAttribute("async",!0);n.setAttribute("src","//www.npttech.com/advertising.js");n.setAttribute("onerror","window.ZITloader.setNptTechAdblockerCookie(true);");document.getElementsByTagName("head")[0].appendChild(n)},loadDependencies:function(n){try{return n!=""?this.initScript(n):new Promise(function(n){n(this)})}catch(t){return console.error(t),new Promise(function(n){n(this)})}},initContainer:function(t,i,r){(function(u){n.LoadCanvasFormValidate&&(u.validator?(console.log("validator has been loaded 1"),n.LoadCanvasFormValidate(t,i,r)):(console.log("validator has not been loaded, wait for 3 seconds 1"),setTimeout(n.LoadCanvasFormValidate(t,i,r),3e3)))})(jQuery)},getQueryString:function(t,i){i||(i=n.location.href);t=t.replace(/[\[\]]/g,"\\$&");var u=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),r=u.exec(i);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},htmlDecode:function(n){try{var t=String(n);return t=t.replaceAll(/&quot;/g,'"'),t=t.replaceAll(/&#39;/g,"'"),t=t.replaceAll(/&lt;/g,"<"),t=t.replaceAll(/&gt;/g,">"),t.replaceAll(/&amp;/g,"&")}catch(i){}return n},DisplayWidget:function(t,i,r,o){var c,k,et,d,v,g,nt,tt,y,h,l;if(r==null){n.ZITUtils.writeDebug("Malfunctioned/Empty json String.");o.animationType=="popup"&&n.ZITFunctions.SubxLimitSlide&&(n.ZITFunctions.SubxPopupClosed++,n.ZITUtils.writeDebug("Popup canvas closed by Malfunction."));n.ZITFunctions.setCanvas(0);return}var it=i%10,p=n.ZITFunctions.brandId,rt=n.ZITFunctions.retrieveOrigSession(),w=n.ZITFunctions.retrieveCurSession();t.setAttribute("data-src",location.href);var ot=r.css||"",s=n.ZITFunctions.retrieveTrackingData(),b=997,ct=n.ZITUtils.readCookie(n.ZITFunctions.spwCookieName)||0;if(typeof r.isContentGate!="undefined"&&r.isContentGate==0&&(o.isContentGate=0,n.ZITUtils.writeDebug("isContentGate flag updated back to 0 "+o.wid)),r&&(r.DoNotTrack=="1"||r.DoNotTrack=="2")){if(o.isMembership==1&&o.isSignIn==0&&(b=998),r.DoNotTrack=="1")n.ZITUtils.clearCookie("Receive Exclude from WidgetInitialization"),e=!0;else if(r.DoNotTrack=="2"){n.ZITUtils.writeDebug("No widget to show for reason:"+r.Message+" "+o.widgetType+" "+o.variant);o.animationType=="popup"&&n.ZITFunctions.SubxLimitSlide&&(n.ZITFunctions.SubxPopupClosed++,n.ZITUtils.writeDebug("Popup canvas closed by DNT."));n.ZITFunctions.setCanvas(0);return}}else noWidget=!1;o.wid==0&&(o.wid=r.widgetId);o.wid!=0&&(Array.isArray(s.sWids)?(c=!1,s.sWids.forEach(function(t){t==o.wid&&(n.ZITUtils.writeDebug("Repeated widget id detected."),c=!0)}),c||(s.sWids.push(o.wid),s.wN=parseInt(s.wN)+1)):(s.sWids=[],s.sWids.push(o.wid),s.wN=1),Array.isArray(s.tWids)?(c=!1,s.tWids.forEach(function(t){t==o.wid&&(n.ZITUtils.writeDebug("Repeated widget id detected."),c=!0)}),c||s.tWids.push(o.wid)):(s.tWids=[],s.tWids.push(o.wid)),n.ZITFunctions.saveTrackingDataToSxo(s));o.animationType=="all"&&(o.animationType=r.AnimationType);o.doNotTrack=r.DoNotTrack;t.setAttribute("data-brandurl",r.brandUrl);k=r.displays;t.setAttribute("data-displays",k);p==988&&o.isSignIn==1&&n.ZITUtils.createCookieinDetails("_siM",1,365,0,0,0);o.widgetName=r.WidgetName;t.setAttribute("data-origId",rt);r.isMembership&&r.isMembership==1&&(t.setAttribute("data-ism",1),t.setAttribute("data-iscg",1),o.isSignIn==0&&(b=998));n.ZITUtils.writeDebug("DW "+o.isSignIn+" "+o.isContentGate+" "+n.ZITFunctions.spwCookieName+" "+o.wid+" "+typeof n.SubxClientEvents.triggerEvent);var a=parseInt(!r.duration||r.duration==""?"-1":r.duration),st=parseInt(!r.maxsessions||r.maxsessions==""?"-1":r.maxsessions),ut=parseInt(!r.cL||r.cL==""?"0":r.cL),ft=parseInt(!r.cLDuration||r.cLDuration==""?"0":r.cLDuration);ft>0&&ut>0&&n.ZITUtils.createCookieinDetails("zit."+o.widgetType+"."+o.animationType+"."+o.isContentGate,ut,0,0,ft,0);et=parseInt(!r.allcL||r.allcL==""?"0":r.allcL);d=parseInt(!r.AllcLDuration||r.AllcLDuration==""?"0":r.AllcLDuration);d>0&&d>0&&n.ZITUtils.createCookieinDetails("zit.all."+o.isContentGate,et,0,0,d,0);try{n.ZITUtils.writeDebug("Going to initialize Widget type normal "+a+" "+o.wid);a>0&&o.wid>0&&(n.ZITUtils.createCookieinDetails("zit."+o.animationType+"."+o.isPanelAud+".displaysD",k,0,0,a,0),st>0&&(v=n.ZITUtils.readCookie("zit."+o.animationType+"."+o.isPanelAud+".sessionD"),(!v||v.indexOf(w,0)<0)&&(v?n.ZITUtils.createCookieinDetails("zit."+o.animationType+"."+o.isPanelAud+".sessionD",v+","+w,0,0,a,0):n.ZITUtils.createCookieinDetails("zit."+o.animationType+"."+o.isPanelAud+".sessionD",w,0,0,a,0))));g=document.createElement("div");g.className="js-zitWidgetWrapper";g.innerHTML=ot+n.ZITloader.htmlDecode(r.rcmHtml);t.appendChild(g);n.ZITFunctions&&(n.ZITFunctions.saveCanvasData(o,t,r),o.isContentGate==1?(o.isMembership!=1&&n.ZITFunctions.setDatawallFlag(),o.isSignIn==0&&o.animationType=="none"&&(n.ZITUtils.createCookieinDetails(n.ZITFunctions.spwCookieName,o.wid,30,0,0,0),n.ZITUtils.writeDebug(n.ZITFunctions.spwCookieName+" has been updated to "+o.wid)),n.ZITFunctions.clearReaderCounter(s)):n.ZITUtils.writeDebug("Not CG Canvas"));o.isnew&&(nt=document.createElement("div"),nt.className="js-previewSalesFunnel",nt.innerHTML='<div class="js-previewSalesFunnel-menu"><\/div>',t.appendChild(nt),tt=document.createElement("div"),tt.className="js-previewSalesFunnel-overlay",tt.innerHTML=String.Empty,t.appendChild(tt));y=document.createElement("div");y.setAttribute("id","zit-background-glass");y.setAttribute("style","position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;background:#fff;display:none !important;");y.innerHTML='<img style="position:absolute;top:50%;left:50%;margin:-12px 0 0 -12px;" src="https://i0.wp.com/cdnjs.cloudflare.com/ajax/libs/galleriffic/2.0.1/css/loader.gif?zoom=2&amp;resize=48%2C48" alt="" width="24" height="24" srcset="https://i0.wp.com/cdnjs.cloudflare.com/ajax/libs/galleriffic/2.0.1/css/loader.gif?zoom=2&amp;resize=48%2C48" src-orig="https://i0.wp.com/cdnjs.cloudflare.com/ajax/libs/galleriffic/2.0.1/css/loader.gif?resize=48%2C48" scale="2">';document.body.appendChild(y);r.rcmHtml!=""?(o.timeToFlash=r.timeToFlash,o.timeToDisplay=r.timeToDisplay,o.timeToRemove=r.timeToRemove,o.autoPlay=r.autoPlay,o.layout=r.layout,o.showThumbnail=r.showThumbnail,o.closeType=r.closeType,o.appearAtScrollPosition=r.appearAtScrollPosition,o.rcc=r.remaining,o.origId=rt,o.initSession=w,o.displays=k,o.isNewCanvas=r.isNewCanvas,o.isShowTab=r.isShowTab,o.isAnimate=r.isAnimate,o.isSlide=r.isSlide,o.scrollStatus=r.scrollStatus,o.deviceForScrollStatus=r.deviceForScrollStatus,o.slideShowOn=r.slideShowOn,o.slideTimerTime=r.slideTimerTime,o.popupShowOn=r.popupShowOn,o.popupShowOnMobile=r.popupShowOnMobile,o.popupDelayTime=r.popupDelayTime,o.popupDelayTimeMobile=r.popupDelayTimeMobile,o.popupAppearAtScrollPosition=r.popupAppearAtScrollPosition,o.popupAppearAtScrollPositionMobile=r.popupAppearAtScrollPositionMobile,o.animateFrequency=r.animateFrequency,o.isActivateX=r.isActivateX,o.isActivateXAlternate=r.isActivateXAlternate,o.activateX_AnimType=r.activateX_AnimType,o.activateX_MaxMinutes=r.activateX_MaxMinutes,o.activateX_SecondClick_MaxMinutes=r.activateX_SecondClick_MaxMinutes,o.activateX_ThirdClick_MaxMinutes=r.activateX_ThirdClick_MaxMinutes,o.isTest=r.isTest,o.isSlideScrollUpHide=r.isSlideScrollUpHide,o.isHideOnSubmitSlideCanvas=r.isHideOnSubmitSlideCanvas,o.hideOnSubmitSlideCanvas_MaxMinutes=r.hideOnSubmitSlideCanvas_MaxMinutes,o.isHideOnSubmitPopupCanvas=r.isHideOnSubmitPopupCanvas,o.hideOnSubmitPopupCanvas_MaxMinutes=r.hideOnSubmitPopupCanvas_MaxMinutes,o.canvasType=r.method,o.widgetType.indexOf("canvas")>=0&&(o.isNewCanvas=!0),(o.widgetType=="canvas-panel"||o.widgetType=="canvas-email")&&(s=n.ZITFunctions.retrieveTrackingData(),s.last_wid=o.wid,s.w=o.wid,o.isReCaptchaOn=s.isReCaptchaOn,n.ZITFunctions.saveTrackingDataToSxo(s)),h=r.method,l=function(){typeof n["ZIT.WidgetCtrl"]!="undefined"?(n["ZIT.WidgetCtrl"].init(t,o),n.ZITUtils.writeDebug("Datawall Widget initialized:"+JSON.stringify(o))):setTimeout(l,250)},h&&(h=="get"||h=="disclaimer")?n.ZITloader.loadDependencies(u.getJqueryScript()).then(function(){n.ZITloader.loadDependencies(u.getNewCanvasScript(p)).then(function(){n.ZITloader.loadDependencies(u.getBootstrapeNewPanelScriptUrl()).then(function(){n.ZITUtils.sessionStore("zit.disablepop",0);n.ZITloader.loadDependencies(u.getJqueryIdletimerScript()).then(function(){o.isReCaptchaOn?(n.SubxClientEvents.hasRecaptcha=!0,n.dispatchEvent(new CustomEvent("addRecaptcha",{})),console.log("ReCaptcha is on 3"),n.ZITloader.loadDependencies(u.getRecaptchaAPIScript(o.reCaptchaSiteKey)).then(function(){setTimeout(l,250)})):(console.log("ReCaptcha is Off 3"),setTimeout(l,250))})})})}):h&&(h=="post"||h=="hybrid"||h=="display"||h=="static")?n.ZITloader.loadDependencies(u.getJqueryScript()).then(function(){n.ZITloader.loadDependencies(u.getNewCanvasScript(p)).then(function(){n.ZITloader.loadDependencies(u.getFormValidationScript()).then(function(){n.ZITloader.loadDependencies(u.getCryptoScript()).then(function(){n.ZITloader.loadDependencies(u.getNewCanvasPostScript(p)).then(function(){n.ZITloader.loadDependencies(u.getBootstrapeNewPanelScriptUrl()).then(function(){n.ZITUtils.sessionStore("zit.disablepop",0);n.ZITloader.loadDependencies(u.getJqueryIdletimerScript()).then(function(){o.isReCaptchaOn?(n.SubxClientEvents.hasRecaptcha=!0,n.dispatchEvent(new CustomEvent("addRecaptcha",{})),console.log("ReCaptcha is on TD "+o.isReCaptchaOn+" "+s.isReCaptchaOn),n.ZITloader.loadDependencies(u.getRecaptchaAPIScript(o.reCaptchaSiteKey)).then(function(){setTimeout(l,250)})):(console.log("ReCaptcha is Off TD "+o.isReCaptchaOn+" "+s.isReCaptchaOn),setTimeout(l,250))})})})})})})}):n.ZITUtils.writeDebug("Config Issue:"+h+"#"+JSON.stringify(o))):(n.ZITUtils.writeDebug("No html code retrieved"),o.animationType=="popup"&&n.ZITFunctions.SubxLimitSlide&&(n.ZITFunctions.SubxPopupClosed++,n.ZITUtils.writeDebug("Popup canvas closed by NoHtmlCode.")),n.ZITFunctions.setCanvas(0));f.WidgetConfig&&f.WidgetConfig.length>it?f.WidgetConfig[it]=o:f.WidgetConfig&&(f.WidgetConfig[f.WidgetConfig.length-1]=o,n.ZITUtils.writeDebug("Config length "+f.WidgetConfig.length+"#"+it))}catch(ht){n.ZITFunctions.sendRaygunData(ht,"Error in generating Canvas"+JSON.stringify(o));b!=997&&n.ZITFunctions.sendCampaignData(b,n.ZITFunctions.apiKey,o.pid,"Error in Generating Canvas ");o.animationType=="popup"&&n.ZITFunctions.SubxLimitSlide&&(n.ZITFunctions.SubxPopupClosed++,n.ZITUtils.writeDebug("Popup canvas closed by Exception."));n.ZITFunctions.setCanvas(0)}},init:function(t){var r=this,c=20,i=function(){if(n.ZITFunctions.SubxLimitSlide&&n.ZITFunctions.haspopup-n.ZITFunctions.SubxPopupClosed>0&&(a<15e3||n.ZITFunctions.SubxPopupOpened>0)){n.ZITUtils.writeDebug(" Slide on hold because of popup open "+n.ZITFunctions.SubxPopupOpened+" ("+n.ZITFunctions.SubxPopupClosed+" / "+n.ZITFunctions.haspopup+") "+a);a=a+1e3;setTimeout(i,1e3);return}n.ZITUtils.writeDebug(" Slide showing because of popup open "+n.ZITFunctions.SubxPopupOpened+" ("+n.ZITFunctions.SubxPopupClosed+" / "+n.ZITFunctions.haspopup+") "+a);h(r.getAPIURL(!1),function(t){var l,c,i,u;if(t.response!=""){var r=t.response,a=n.ZITFunctions.retrieveOrigSession(),v=n.ZITFunctions.retrieveCurSession(),o=n.ZITFunctions.retrieveTrackingData(),h=n.ZITwidgetContainers;for(l=0;l<s;l++)c=f.WidgetOtherContainerConfig[l],i={key:0,pid:0,isContentGate:0,isMembership:0,isSignIn:0,wid:0,widgetType:"",animationType:"",variant:0,funnelType:"",displays:0,remaining:0,isnew:0,defaultPageSize:4,isLocal:0,isDisplayWidget:!1,isNewCanvas:!0,brandUrl:"",widgetDisplayType:"",timeToFlash:5e3,timeToRemove:8e3,timeToDisplay:3e3,apiURL:"",layout:1,filterType:"",filterValue:"",noOfPostVisibleInCarousel:0,showThumbnail:!0,autoPlay:!1,closeType:3,appearAtScrollPosition:50,initSession:a,curSession:v,origId:a,emailpanelobject:"",isPreview:!1,isSandbox:!1,isOptOut:!1,hasFullName:!1,isDisclaimerShowFromStart:!1,apiKey:n.ZITFunctions.apiKey,isShowTab:!1,isSlide:!1,isAnimate:!1,popupShowOn:0,popupShowOnMobile:0,popupAppearAtScrollPosition:50,popupAppearAtScrollPositionMobile:50,scrollStatus:0,deviceForScrollStatus:0,slideShowOn:0,slideTimerTime:0,animateFrequency:0,popupDelayTime:0,popupDelayTimeMobile:0,doNotTrack:e,isR:o.R,pv:o.sP,dP:o.dP,dS:o.dS,tS:o.tS,tP:o.tP,cPs:o.cPs,lPs:o.lPs,lVd:o.lVd,F:o.F||0,Nba:o.Nba,dT:o.devT,isEmailAud:o.isEmailAud||0,isPanelAud:o.isPanelAud||0,isDropoff:o.isDropoff||0,isRegAud:o.isRegAud||0,userName:o.userName,emailId:o.emailId,emailTag:o.emailTag,subscribeTag:o.subTag,groupName:o.groupName||"",w:0,isActivateX:!1,isActivateXAlternate:!1,activateX_AnimType:0,activateX_MaxMinutes:0,activateX_SecondClick_MaxMinutes:0,activateX_ThirdClick_MaxMinutes:0,isTest:!1,isSlideScrollUpHide:!1,isHideOnSubmitSlideCanvas:!1,hideOnSubmitSlideCanvas_MaxMinutes:0,isHideOnSubmitPopupCanvas:!1,hideOnSubmitPopupCanvas_MaxMinutes:0,canvasType:"",isReCaptchaOn:o.isReCaptchaOn,reCaptchaSiteKey:n.ZITUtils.decrypt(o.reCaptchaSiteKey),reCaptchaSecretKey:n.ZITUtils.decrypt(o.reCaptchaSecretKey)},i.pid=c.pid,i.isContentGate=c.isContentGate,i.isMembership=c.isMembership,i.isSignIn=c.isSignIn,i.wid=c.wid,i.widgetType=c.widgetType,i.animationType=c.animationType,i.variant=c.variant,i.funnelType=c.funnelType,n.ZITUtils.writeDebug("displayOtherCanvas:"+JSON.stringify(i)),u=c.index,i.wid>0&&i.widgetType==""?r.fix_get!=null&&typeof r.fix_get.widgetId!="undefined"&&r.fix_get.widgetId==i.wid?n.ZITloader.DisplayWidget(h[u],u,r.fix_get,i):r.fix_post!=null&&typeof r.fix_post.widgetId!="undefined"&&r.fix_post.widgetId==i.wid?n.ZITloader.DisplayWidget(h[u],u,r.fix_post,i):console.log("Canvas not retrieved "+i.wid+" "+i.widgetType):i.widgetType=="canvas-panel"?i.animationType=="none"&&r.fix_get?n.ZITloader.DisplayWidget(h[u],u,r.fix_get,i):i.animationType=="slide"&&r.slide_get&&n.ZITloader.DisplayWidget(h[u],u,r.slide_get,i):i.widgetType=="canvas-email"?i.animationType=="none"&&r.fix_post?n.ZITloader.DisplayWidget(h[u],u,r.fix_post,i):i.animationType=="slide"&&r.slide_post&&n.ZITloader.DisplayWidget(h[u],u,r.slide_post,i):i.widgetType=="canvas-display"?r.display1&&i.variant==r.display1.variant?n.ZITloader.DisplayWidget(h[u],u,r.display1,i):r.display2&&i.variant==r.display2.variant?n.ZITloader.DisplayWidget(h[u],u,r.display2,i):r.display3&&i.variant==r.display3.variant?n.ZITloader.DisplayWidget(h[u],u,r.display3,i):r.display4&&i.variant==r.display4.variant?n.ZITloader.DisplayWidget(h[u],u,r.display4,i):r.display5&&i.variant==r.display5.variant&&n.ZITloader.DisplayWidget(h[u],u,r.display5,i):i.widgetType=="canvas-disclaimer"&&(r.disclaimer1&&i.wid>0&&i.wid==r.disclaimer1.widgetId&&n.ZITloader.DisplayWidget(h[u],u,r.disclaimer1,i),r.disclaimer2&&i.wid>0&&i.wid==r.disclaimer2.widgetId&&n.ZITloader.DisplayWidget(h[u],u,r.disclaimer2,i),r.disclaimer1&&i.wid==0&&n.ZITloader.DisplayWidget(h[u],u,r.disclaimer1,i))}else n.ZITFunctions.setCanvas(0)});n["ZIT.WidgetConfig"]=f.WidgetConfig},u=function(){var a=document.querySelectorAll(".zeddit-rcm"),d,rt,t,p,w,o,v,b,k,y,it;if(n.ZITwidgetContainers=a,a.length===0||n.ViewerLoader.isFirstRegWall<0)setTimeout(u,300),c--;else{for(n.ZITUtils.writeDebug("Panels found:"+a.length),n.ZITFunctions.totalCanvas=a.length,f.WidgetConfig=new Array(a.length),f.WidgetPopupContainerConfig=new Array(a.length),f.WidgetOtherContainerConfig=new Array(a.length),d=0,rt=a.length;d<rt;d++){if(t=a[d],t.classList.contains("is-cg")){n.ZITUtils.writeDebug("Detect data wall canvas to skip");continue}p=t.getAttribute("data-type")||"";w=t.getAttribute("animation-type")||"";w==""&&(w=t.getAttribute("data-animation-type")||"");var nt=t.getAttribute("data-iscg")||0,ut=t.getAttribute("variant")||0,g=t.getAttribute("data-wid")||0,tt=!1;n.ZITFunctions.testMode&&n.ZITFunctions.testData?(o=n.ZITFunctions.testData,o.testWidget>0&&(g<=0||o.testWidget==g)&&o.testAnamiation==w&&o.testCanvasType==p&&o.testContentG==nt&&(o.testCanvasType=="canvas-display"&&o.testVariant==ut?tt=!0:o.testCanvasType!="canvas-display"&&(tt=!0))):n.ZITUtils.writeDebug("Non-testMode skip supress logic ");v=!1;g==1186?v=!1:n.ZITFunctions.testMode&&!tt?(n.ZITUtils.writeDebug("testMode hide all live campaigns C:"+o.testCanvasType+"-"+p+" #A: "+o.testAnamiation+"-"+w+" #CG: "+o.testContentG+"-"+nt+" #V: "+o.testVariant+"-"+ut+" #W: "+o.testWidget+"-"+g),v=!1):n.ZITFunctions.useallowedCanvas&&nt==0&&p!=""&&p!="canvas-disclaimer"?n.ZITFunctions.allowedCAType.forEach(function(t){var i=p.replace("canvas-",""),r=i=="panel"?"get":i=="email"?"post":i;t.CT==r&&t.AT==w&&(v=!0,n.ZITUtils.writeDebug("Found allowed canvas "+t.CT+" "+t.AT));n.ZITUtils.writeDebug(i+" "+w+" "+JSON.stringify(t)+" "+r)}):v=!0;b=n.ZITUtils.readCookie("zit.session.slide.type.close")||"";b!=""&&w=="slide"&&(k=b=="get"?"canvas-panel":b=="post"?"canvas-email":b=="display"?"canvas-display":b=="hybrid"?"canvas-hybrid":"canvas-disclaimer",p==k&&(n.ZITUtils.writeDebug("The slide canvas of "+p+" has been closed within the session. The canvas will not be shown."),v=!1),n.ZITUtils.writeDebug("target type "+k));n.ViewerLoader.isFirstRegWall==1&&(n.ZITUtils.writeDebug("Hide normal canvas because first regwall."+n.ViewerLoader.isFirstRegWall),v=!1);n.ZITFunctions.preferCanvasType==1&&k=="canvas-email"?(n.ZITUtils.writeDebug("Hide email canvas because panel canvas is preferred."),v=!1):n.ZITFunctions.preferCanvasType==2&&k=="canvas-panel"?(n.ZITUtils.writeDebug("Hide panel canvas because email canvas is preferred."),v=!1):t.getAttribute("data-pid")!=0&&t.getAttribute("data-pid")!=n.ZITFunctions.brandId?(n.ZITUtils.writeDebug("Hide panel canvas because invalid brandId "+t.getAttribute("data-pid")+" "+n.ZITFunctions.brandId),v=!1):n.ZITUtils.writeDebug(n.ZITFunctions.preferCanvasType+" "+k);v?(y={pid:t.getAttribute("data-pid")||0,isContentGate:t.getAttribute("data-iscg")||0,isMembership:t.getAttribute("data-ism")||0,isSignIn:t.getAttribute("data-issignin")||0,wid:t.getAttribute("data-wid")||0,widgetType:t.getAttribute("data-type")||"",animationType:t.getAttribute("animation-type")||"",variant:t.getAttribute("variant")||0,funnelType:t.getAttribute("funnel-type")||"",index:d},it=!1,y.pid!=n.ZITFunctions.brandId&&n.ZITFunctions.brandId>0&&y.pid>0&&(n.ZITUtils.writeDebug("Hide canvas because brandId is not consistent."+y.pid+" "+n.ZITFunctions.brandId),n.ZITFunctions.brandId!=1014&&n.ZITFunctions.brandId!=952&&n.ZITFunctions.brandId!=969?ZITFunctions.sendRaygunData(new Error("BrandId is not consistent V2 "+y.pid+" VS "+n.ZITFunctions.brandId),"CanvasBrand"):it=!0),it?n.ZITUtils.writeDebug(" block canvas container of different brand "+y.pid+" "+n.ZITFunctions.brandId):(y.animationType=="popup"?(f.WidgetPopupContainerConfig[l]=y,l++):(f.WidgetOtherContainerConfig[s]=y,s++),n.ZITUtils.writeDebug("Popup:"+l+"#Other:"+s))):(n.ZITUtils.writeDebug(" block empty canvas container"),n.ZITFunctions.setCanvas(0))}l>0?h(r.getAPIURL(!0),function(t){var c,o,u,h;if(t.response!=""&&(t.response.popup_get||t.response.popup_post)){var v=t.response,y=n.ZITFunctions.retrieveOrigSession(),p=n.ZITFunctions.retrieveCurSession(),r=n.ZITFunctions.retrieveTrackingData();for(c=0;c<l;c++)o=f.WidgetPopupContainerConfig[c],u={key:0,pid:0,isContentGate:0,isMembership:0,isSignIn:0,wid:0,widgetType:"",animationType:"",variant:0,funnelType:"",displays:0,remaining:0,isnew:0,defaultPageSize:4,isLocal:0,isDisplayWidget:!1,isNewCanvas:!0,brandUrl:"",widgetDisplayType:"",timeToFlash:5e3,timeToRemove:8e3,timeToDisplay:3e3,apiURL:"",layout:1,filterType:"",filterValue:"",noOfPostVisibleInCarousel:0,showThumbnail:!0,autoPlay:!1,closeType:3,appearAtScrollPosition:50,initSession:y,curSession:p,origId:y,emailpanelobject:"",isPreview:!1,isSandbox:!1,isOptOut:!1,hasFullName:!1,isDisclaimerShowFromStart:!1,apiKey:n.ZITFunctions.apiKey,isShowTab:!1,isSlide:!1,isAnimate:!1,popupShowOn:0,popupShowOnMobile:0,popupAppearAtScrollPosition:50,popupAppearAtScrollPositionMobile:50,scrollStatus:0,deviceForScrollStatus:0,slideShowOn:0,slideTimerTime:0,animateFrequency:0,popupDelayTime:0,popupDelayTimeMobile:0,doNotTrack:e,isR:r.R,pv:r.sP,dP:r.dP,dS:r.dS,tP:r.tP,tS:r.tS,cPs:r.cPs,lPs:r.lPs,lVd:r.lVd,F:r.F||0,Nba:r.Nba,dT:r.devT,isEmailAud:r.isEmailAud||0,isPanelAud:r.isPanelAud||0,isDropoff:r.isDropoff||0,isRegAud:r.isRegAud||0,userName:r.userName,emailId:r.emailId,emailTag:r.emailTag,subscribeTag:r.subTag,groupName:r.groupName||"",w:0,isActivateX:!1,isActivateXAlternate:!1,activateX_AnimType:0,activateX_MaxMinutes:0,activateX_SecondClick_MaxMinutes:0,activateX_ThirdClick_MaxMinutes:0,isTest:!1,isSlideScrollUpHide:!1,isHideOnSubmitSlideCanvas:!1,hideOnSubmitSlideCanvas_MaxMinutes:0,isHideOnSubmitPopupCanvas:!1,hideOnSubmitPopupCanvas_MaxMinutes:0,canvasType:"",isReCaptchaOn:r.isReCaptchaOn,reCaptchaSiteKey:n.ZITUtils.decrypt(r.reCaptchaSiteKey),reCaptchaSecretKey:n.ZITUtils.decrypt(r.reCaptchaSecretKey)},u.pid=o.pid,u.isContentGate=o.isContentGate,u.isMembership=o.isMembership,u.isSignIn=o.isSignIn,u.wid=o.wid,u.widgetType=o.widgetType,u.animationType=o.animationType,u.variant=o.variant,u.funnelType=o.funnelType,n.ZITUtils.writeDebug("Display Popup:"+JSON.stringify(u)),h=o.index,n.ZITFunctions.SubxLimitSlide&&(n.ZITFunctions.haspopup++,n.ZITUtils.writeDebug("Popup detected for limit slide brands "+n.ZITFunctions.haspopup)),u.widgetType=="canvas-panel"&&n.ZITloader.DisplayWidget(a[h],h,v.popup_get,u),u.widgetType=="canvas-email"&&n.ZITloader.DisplayWidget(a[h],h,v.popup_post,u);s>0?i():n.ZITUtils.writeDebug(" No other config found in the page")}else n.ZITUtils.writeDebug(" No popup retrieved from the server"),s>0?i():n.ZITUtils.writeDebug(" No other config found in the page")}):(n.ZITUtils.writeDebug(" No popup config found in the page"),s>0?i():n.ZITUtils.writeDebug(" No other config found in the page"))}},o=function(){n.ViewerLoader.accessFinished?u():setTimeout(o,1e3)};n.ZITFunctions.datawall==1&&n.ViewerLoader.accessresult>=0?t&&t.response?t.response.CurCanvas?(console.log("Going to intialize "+t.response.CurCanvas.widgetId),n.ViewerLoader.customizedint(t.response.CurCanvas.widgetId,t.response.CurCanvas.getCanvasIdentifier,t)):n.ViewerLoader.customizedint(0,"",t):(n.ViewerLoader.accessFinished=!0,t?console.log("No datawall data response."):console.log("No datawall data.")):n.ZITFunctions.datawall==1?(n.ZITUtils.writeDebug("Skip Datawall because of Access PreCheck"+n.ViewerLoader.accessresult),typeof n.SubxClientEvents.is_first_twitter!="undefined"&&n.SubxClientEvents.is_first_twitter&&n.SubxClientEvents.addArticleId(),n.ViewerLoader.isFirstRegWall=0,n.ViewerLoader.accessFinished=!0,typeof n.SubxClientEvents.retrieveRegMember!="undefined"&&n.SubxClientEvents.retrieveRegMember(n.ZITFunctions.brandId)):(n.ViewerLoader.accessFinished=!0,typeof n.SubxClientEvents.retrieveRegMember!="undefined"&&n.SubxClientEvents.retrieveRegMember(n.ZITFunctions.brandId));rt||n.SubxClientEvents!="undefined"&&typeof n.SubxClientEvents.globalExclude!="undefined"&&n.SubxClientEvents.globalExclude()?n.ZITUtils.writeDebug("Skip Canvas because of Form Page or Global Exclude "):o();typeof n.SubxClientEvents.AfterCanvasInitialization!="undefined"&&n.SubxClientEvents.AfterCanvasInitialization()},initDataWallCanvas:function(t,i,r){n.ZITUtils.writeDebug("config:"+JSON.stringify(i));n.ZITloader.DisplayWidget(t,9,r,i);typeof n.SubxClientEvents.AfterDatawallCanvasInitialization!="undefined"&&n.SubxClientEvents.AfterDatawallCanvasInitialization()},initializeTestCanvas:function(t){if(n.ZITFunctions.testData.testWidget<=0){if(n.ZITFunctions.testData.testWidget=t.tW,n.ZITFunctions.testData.testAnamiation=t.tA,n.ZITFunctions.testData.testCanvasType=t.tP,n.ZITFunctions.testData.testContentG=t.tC,n.ZITFunctions.testData.testVariant=t.tV||0,n.ZITFunctions.testData.testContentG==1&&n.ZITFunctions.testData.testWidget>0){n.ZITUtils.createCookieinDetails(n.ZITFunctions.spwCookieName,n.ZITFunctions.testData.testWidget,30,0,0,0);n.ZITUtils.writeDebug(n.ZITFunctions.spwCookieName+" has been updated to test w "+n.ZITFunctions.testData.testWidget);var i=n.ZITFunctions.retrieveTrackingData();n.ZITFunctions.clearReaderCounter(i)}(t.cC||0)==1&&n.ZITUtils.createCookie("_isFirst","",-1)}},handleMemberCheckResult:function(t){if(t.LogOut==1)n.ZITFunctions.setLogOut();else{t.LogOut==2&&n.SubxClientEvents&&n.SubxClientEvents.CheckDaily&&n.SubxClientEvents.CheckDaily==1&&n.ZITUtils.createCookieinDetails("_MChecked",1,1,0,0,0);var i=n.ZITUtils.readCookie("_isMemAud")||0;i==1&&t.Username=="SubxUser"&&(n.ZITUtils.writeDebug("Creating Membership container"),n.ZITFunctions.testData.testWidget=5880,n.ZITFunctions.testData.testAnamiation="slide",n.ZITFunctions.testData.testCanvasType="canvas-email",n.ZITFunctions.testData.testContentG=0)}},initializeDataWallData:function(t){if(t.NotDataWall&&t.NotDataWall==1)n.ZITFunctions.datawall=0,n.ZITFunctions.setFilterOut(1),n.ZITUtils.writeDebug("Not data wall brand"),n.ViewerLoader.isFirstRegWall=0;else{n.ZITFunctions.datawall=1;n.ViewerLoader.toRemoveSpw=t.RSpw;n.ViewerLoader.toRemoveSpw==1&&n.ZITUtils.createCookie(n.ZITFunctions.spwCookieName,"",-1);n.ViewerLoader.htmlCode=t.AccessHtmlCode;n.ViewerLoader.accessresult=t.AccessResult;n.ViewerLoader.HideNormalOnFirstRegWall=t.HideNormalOnFirstRegWall;var i=n.ZITUtils.readCookie("_isMemAud")||0;n.ViewerLoader.HideNormalOnFirstRegWall==0&&r.isEmailAud==0&&r.isPanelAud==0&&i==0&&(n.ViewerLoader.isFirstRegWall=0);n.ViewerLoader.HideEmailAud=t.HideEmailAud;n.ViewerLoader.MemberEnabled=t.MemberEnabled;n.ViewerLoader.isRegister=t.isRegister}n.ZITUtils.writeDebug("First Reg "+n.ZITFunctions.spwCookieName+" "+n.ZITUtils.readCookie(n.ZITFunctions.spwCookieName)+" "+n.ViewerLoader.HideNormalOnFirstRegWall+" "+n.ViewerLoader.isFirstRegWall)},listenToUserProfile:function(){n.ZITUtils.writeDebug("listenToUserProfile event detected email:"+n.subxEmail);typeof n.stopDatawall!="undefined"&&n.stopDatawall==!1&&n.datawallProcessed==!1?n.ZITloader.getDataWall():n.datawallProcessed==!1&&n.ZITFunctions.sendRaygunData(new Error("Skip listenToUserProfile event detected email v2:"+n.subxEmail+" "+n.stopDatawall+" "+n.datawallProcessed))},getDataWallTiming:function(){typeof n.SubxClientEvents=="undefined"||typeof n.SubxClientEvents.triggerEvent=="undefined"||n.SubxClientEvents.triggerEvent()?(n.ZITFunctions.dlEnabled&&typeof n.SubxClientEvents.readFromDataLayer!="undefined"?n.SubxClientEvents.readFromDataLayer():n.SubxClientEvents.retrieveData(),n.SubxClientEvents&&typeof n.SubxClientEvents.BeforeCanvasInitialization!="undefined"&&n.SubxClientEvents.BeforeCanvasInitialization(),typeof n.stopDatawall=="undefined"||n.stopDatawall==!1?(n.ZITUtils.writeDebug("Skip datawall event handler "+n.stopDatawall),n.ZITloader.getDataWall()):(n.ZITUtils.writeDebug("Skip datawall logic waiting for the event handler "+n.stopDatawall),n.addEventListener("subxgetprofile",()=>n.ZITloader.listenToUserProfile()))):n.ZITFunctions.dlEnabled?(n.ZITUtils.writeDebug("Waiting for datawall trigger event for another 100ms."),setTimeout(n.ZITloader.getDataWallTiming,100)):(console.log("Waiting for journey-init trigger event."),n.addEventListener("journey-init",()=>n.ZITloader.getDataWallTiming()))},getDataWall:function(){n.stopDatawall=!0;n.datawallProcessed=!0;n.ZITUtils.writeDebug("Going to call getDatawall "+n.subxEmail+" "+n.stopDatawall);typeof n.SubxClientEvents.specialPath=="undefined"?n.ViewerLoader.specialPath=jsonData.specialPath:(n.ViewerLoader.specialPath=n.SubxClientEvents.specialPath(),n.ZITUtils.writeDebug("Retrieve special Path from customized scrip "+n.ViewerLoader.specialPath));n.SubxClientEvents.RetrieveCategory();typeof n.SubxClientEvents!="undefined"&&typeof n.SubxClientEvents.retrieveRegMember!="undefined"&&n.SubxClientEvents.retrieveRegMember(n.ZITFunctions.brandId);var t=(new Date).getTime()-b;console.log("Calling subxCore "+JSON.stringify(n.JOURNEY_INFO)+" Time:"+t+"ms ");h(u.getSubxCore(n.ZITFunctions.brandId),function(t){var c=(new Date).getTime()-b,i,f,u,s,o,h;console.log("Get subxCore response "+JSON.stringify(n.JOURNEY_INFO)+" Time:"+c+"ms ");i=t.response;typeof n.JOURNEY_INFO=="undefined"||typeof n.JOURNEY_INFO.ads=="undefined"||!n.JOURNEY_INFO.ads||n.ZITFunctions.testMode?(console.log("Ads detected "+JSON.stringify(n.JOURNEY_INFO)+" "+n.ZITFunctions.testMode),i.Result==3?(i.origId!=""&&(n.ZITFunctions.origSession=i.origId,f=i.origId,n.SubxClientEvents&&typeof n.SubxClientEvents.sendOrigSessionUpdateEvent!="undefined"&&n.SubxClientEvents.sendOrigSessionUpdateEvent(r.oS,f),r.oS=f),typeof n.SubxClientEvents!="undefined"&&typeof n.SubxClientEvents.InitializeCustomEvent!="undefined"&&n.SubxClientEvents.InitializeCustomEvent(i),typeof i.S3RA!="undefined"&&i.S3RA>0&&n.ZITUtils.createCookieinDetails("_rA",parseInt(i.S3RA),parseInt(i.S3RAExp),0,0,0),typeof i.S3RAReg!="undefined"&&i.S3RAReg>0&&n.ZITUtils.createCookieinDetails("_rAReg",parseInt(i.S3RAReg),parseInt(i.S3RARegExp),0,0,0),n.ZITUtils.writeDebug("To update Sxr "+i.Sxr+" "+i.S3SxrExp),r=n.ZITFunctions.updateTrackingDataCounter(r,i.CurSession,i.CDT,i.Sxr,i.S3SxrExp),r.ML=i.MLResult,i.RandomPage&&i.RandomPage>0&&(r.RP=i.RandomPage),r.CC=i.countryCode,typeof i.TotalPrice!="undefined"&&(r.TPrice=i.TotalPrice),u=n.ZITUtils.readCookie("_sem"),(u==null||typeof u=="undefined"||u==""||n.subxEmail&&n.subxEmail!="")&&i.EmailId&&i.EmailId!=""&&(n.ZITUtils.writeDebug("Going to update username "+i.EmailId),n.ZITFunctions.setUserName(i.EmailId)),i.groupName!=""&&(r.groupName=i.groupName=="NA"?"":i.groupName,n.ZITUtils.writeDebug("group updated "+i.groupName)),n.ZITFunctions.doffer=i.dOffer,n.ZITFunctions.preferCanvasType=i.canvasType,typeof i.deviceType!="undefined"&&i.deviceType<4&&(r.devT=i.deviceType,n.ZITUtils.writeDebug("deviceType updated "+r.devT)),n.SubxClientEvents&&typeof n.SubxClientEvents.setExpiredMem!="undefined"?i.LogOut==1&&n.SubxClientEvents.setExpiredMem():n.ZITFunctions.handleMemberCheckResult(),r.Nba=i.Nba,n.ZITUtils.writeDebug("NBA Updated:"+r.Nba),(n.ZITFunctions.getCookieValue("_sxRD")||"")==""&&i.RegisterSession&&i.RegisterSession!=""&&(n.ZITFunctions.setRegAud(),n.ZITUtils.createCookieinDetails("_sxRD",i.RegisterSession,45,0,0,0)),typeof i.ANba!="undefined"&&(n.ZITUtils.createCookieinDetails("_sanba",i.ANba,30,0,0,0),n.ZITUtils.writeDebug("ai model update to "+i.ANba)),n.ZITFunctions.saveTrackingDataToSxo(r),n.ZITloader.initializeDataWallData(i),n.ZITloader.initializeTestCanvas(i),n.ZITloader.init(t),n.ZITAnalyticsLoader.init(),n.ZITFunctions&&n.ZITFunctions.sendDataLayer("subx-pageview",0,"")):i.Result==4?e=!0:i.Result<0&&(e=!0,n.ZITUtils.createCookieinDetails("zit.data.toexclude",1,7,0,0,0),n.ZITUtils.writeDebug(i.Message))):(s=(new Date).getTime()-b,console.log("The template has been canceled by ads "+JSON.stringify(n.JOURNEY_INFO)+" Time:"+s+"ms "),n.JOURNEY_INFO={status:"completed",ads:!0,blocked:!1},typeof n.SubxClientEvents!="undefined"&&typeof n.SubxClientEvents.sendCustomizedEvent!="undefined"&&(n.SubxClientEvents.sendCustomizedEvent("journey-info",n.JOURNEY_INFO),console.log("window.Journey_Info updated to "+JSON.stringify(n.JOURNEY_INFO))),i.RandomPage&&i.RandomPage>0&&(r.RP=i.RandomPage),r.Nba=i.Nba,typeof i.ANba!="undefined"&&(n.ZITUtils.createCookieinDetails("_sanba",i.ANba,30,0,0,0),n.ZITUtils.writeDebug("ai model update to "+i.ANba)),n.ViewerLoader.remainingArticle=t.response.RA,t.response.AccessResult==1&&n.ZITFunctions?(n.ZITFunctions.updateReaderCounter(i.RA),o=n.ZITUtils.readCookie("_sxcc"),o&&o!=""||(h=new Date,n.ZITUtils.createCookieinDetails("_sxcc",h.toLocaleString(),30,0,0,0))):t.response.AccessResult!=-10&&n.ZITFunctions.updateReaderCounter(i.RA),i.MLResult!=""&&(r.ML=i.MLResult),n.ZITFunctions.saveTrackingDataToSxo(r),n.ZITFunctions.dlEnabled&&typeof n.SubxClientEvents.readFromDataLayer!="undefined"?n.SubxClientEvents.readFromDataLayer(t):(n.SubxClientEvents.retrieveData(),n.ZITloader.init(t)),n.ZITAnalyticsLoader.init(),n.ZITFunctions&&n.ZITFunctions.sendDataLayer("subx-pageview",0,""))})}};n.ZITUtils={writeDebug:function(t){var i=n.ZITUtils.readCookie("_sd")||0;i==1&&console.log("subx tech:"+t)},xdr:function(n,t,i,r,u){var f;XMLHttpRequest?(f=new XMLHttpRequest,"withCredentials"in f&&(f.open(t,n,!0),f.onerror=u,f.onreadystatechange=function(){f.readyState===4&&(f.status>=200&&f.status<400?r(f.responseText):u(new Error("Response returned with non-OK status")))},f.send(i))):XDomainRequest?(f=new XDomainRequest,f.open(t,n),f.onerror=u,f.onload=function(){r(f.responseText)},f.send(i)):h(n,r)},dateToString:function(n,t,i,r,u){return n+"-"+(t+1)+"-"+i+"-"+r+"-"+u},dayToString:function(n,t,i){return n+"-"+(t+1)+"-"+i},readCookie:function(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0,f=u.length;i<f;i++){for(t=u[i];t.charAt(0)===" ";)t=t.substring(1,t.length);if(t.indexOf(r)===0)return t.substring(r.length,t.length)}return null},createCookie:function(t,i,r){var u=new Date;u.setTime(u.getTime()+r*864e5);var e="; expires="+u.toGMTString(),o=n.location.hostname,f="";f=o.indexOf("www")>=0?t+"="+i+e+"; path=/; domain="+o.replace("www","")+"; samesite=lax;":t+"="+i+e+"; path=/; samesite=lax;";n.ZITUtils.writeDebug("Cookie Update:"+f);document.cookie=f},sessionStore:function(n,t){var r=!1,i;try{sessionStorage&&(r=!0)}catch(u){}if(typeof t!="undefined"&&t!==null&&r&&sessionStorage.setItem(n,t),typeof t=="undefined"){if(r){i=sessionStorage.getItem(n);try{i=JSON.parse(i)}catch(u){i=i}return i}return null}t===null&&r&&sessionStorage.removeItem(n)},localStorageStore:function(t,i){var r=!1,u;try{localStorage&&(r=!0)}catch(f){}if(typeof i!="undefined"&&i!==null&&(r?localStorage.setItem(t,i):(console.log("Local Storage not supported use cookie instead. "),n.ZITUtils.createCookie(t,i,365,0,0,0))),typeof i=="undefined")return r?u=localStorage.getItem(t):(console.log("Local Storage not supported use cookie instead. "),u=n.ZITUtils.readCookie(t)),u;i===null&&(r?localStorage.removeItem(t):n.ZITUtils.createCookie(t,"",-1))},clearCookie:function(t){n.ZITUtils.writeDebug("To clear cookie because of reason "+t);n.ZITUtils.createCookie("zit.data.toexclude","1",-1);n.ZITUtils.createCookie("_sxo","",-1);n.ZITUtils.createCookie("sessionId","",-1)},createCookieinDetails:function(t,i,r,u,f,e){var o;this.createCookie(t,"",-1);o=new Date;o.setTime(o.getTime()+r*864e5+u*36e5+f*6e4+e*1e3);var c="; expires="+o.toGMTString(),h=t+"="+i+c+"; path=/;samesite=lax;",s=n.location.host;s.startsWith("www.")&&(s=s.replace("www.","."),h+="domain="+s+";");n.ZITUtils.writeDebug("Cookie Create:"+h);document.cookie=h},dayToString:function(n,t,i){return n+"-"+(t+1)+"-"+i},des_createKeys:function(n){var o;pc2bytes0=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964];pc2bytes1=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697];pc2bytes2=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272];pc2bytes3=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144];pc2bytes4=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256];pc2bytes5=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488];pc2bytes6=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746];pc2bytes7=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568];pc2bytes8=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578];pc2bytes9=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488];pc2bytes10=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800];pc2bytes11=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744];pc2bytes12=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128];pc2bytes13=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261];var s=n.length>=24?3:1,u=new Array(32*s),h=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],f,e,r=0,c=0,t;for(o=0;o<s;o++)for(left=n.charCodeAt(r++)<<24|n.charCodeAt(r++)<<16|n.charCodeAt(r++)<<8|n.charCodeAt(r++),right=n.charCodeAt(r++)<<24|n.charCodeAt(r++)<<16|n.charCodeAt(r++)<<8|n.charCodeAt(r++),t=(left>>>4^right)&252645135,right^=t,left^=t<<4,t=(right>>>-16^left)&65535,left^=t,right^=t<<-16,t=(left>>>2^right)&858993459,right^=t,left^=t<<2,t=(right>>>-16^left)&65535,left^=t,right^=t<<-16,t=(left>>>1^right)&1431655765,right^=t,left^=t<<1,t=(right>>>8^left)&16711935,left^=t,right^=t<<8,t=(left>>>1^right)&1431655765,right^=t,left^=t<<1,t=left<<8|right>>>20&240,left=right<<24|right<<8&16711680|right>>>8&65280|right>>>24&240,right=t,i=0;i<h.length;i++)h[i]?(left=left<<2|left>>>26,right=right<<2|right>>>26):(left=left<<1|left>>>27,right=right<<1|right>>>27),left&=-15,right&=-15,f=pc2bytes0[left>>>28]|pc2bytes1[left>>>24&15]|pc2bytes2[left>>>20&15]|pc2bytes3[left>>>16&15]|pc2bytes4[left>>>12&15]|pc2bytes5[left>>>8&15]|pc2bytes6[left>>>4&15],e=pc2bytes7[right>>>28]|pc2bytes8[right>>>24&15]|pc2bytes9[right>>>20&15]|pc2bytes10[right>>>16&15]|pc2bytes11[right>>>12&15]|pc2bytes12[right>>>8&15]|pc2bytes13[right>>>4&15],t=(e>>>16^f)&65535,u[c++]=f^t,u[c++]=e^t<<16;return u},des:function(t,i,r,u,f){var rt=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],ut=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-134217728,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-134217728,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-134217728,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-134217728,-2146435040,-2146402272,1081344],ft=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],et=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],ot=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],st=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],ht=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],ct=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696],b=n.ZITUtils.des_createKeys(t),h=0,l,c,s,a,v,o,e,w,y,d,p,g,nt,tt,lt=i.length,k=0,it=b.length==32?3:9;for(w=it==3?r?[0,32,2]:[30,-2,-2]:r?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],i+="\0\0\0\0\0\0\0\0",result="",tempresult="",u==1&&(y=f.charCodeAt(h++)<<24|f.charCodeAt(h++)<<16|f.charCodeAt(h++)<<8|f.charCodeAt(h++),p=f.charCodeAt(h++)<<24|f.charCodeAt(h++)<<16|f.charCodeAt(h++)<<8|f.charCodeAt(h++),h=0);h<lt;){for(r?(o=i.charCodeAt(h++)<<16|i.charCodeAt(h++),e=i.charCodeAt(h++)<<16|i.charCodeAt(h++)):(o=i.charCodeAt(h++)<<24|i.charCodeAt(h++)<<16|i.charCodeAt(h++)<<8|i.charCodeAt(h++),e=i.charCodeAt(h++)<<24|i.charCodeAt(h++)<<16|i.charCodeAt(h++)<<8|i.charCodeAt(h++)),u==1&&(r?(o^=y,e^=p):(d=y,g=p,y=o,p=e)),s=(o>>>4^e)&252645135,e^=s,o^=s<<4,s=(o>>>16^e)&65535,e^=s,o^=s<<16,s=(e>>>2^o)&858993459,o^=s,e^=s<<2,s=(e>>>8^o)&16711935,o^=s,e^=s<<8,s=(o>>>1^e)&1431655765,e^=s,o^=s<<1,o=o<<1|o>>>31,e=e<<1|e>>>31,c=0;c<it;c+=3){for(nt=w[c+1],tt=w[c+2],l=w[c];l!=nt;l+=tt)a=e^b[l],v=(e>>>4|e<<28)^b[l+1],s=o,o=e,e=s^(ut[a>>>24&63]|et[a>>>16&63]|st[a>>>8&63]|ct[a&63]|rt[v>>>24&63]|ft[v>>>16&63]|ot[v>>>8&63]|ht[v&63]);s=o;o=e;e=s}o=o>>>1|o<<31;e=e>>>1|e<<31;s=(o>>>1^e)&1431655765;e^=s;o^=s<<1;s=(e>>>8^o)&16711935;o^=s;e^=s<<8;s=(e>>>2^o)&858993459;o^=s;e^=s<<2;s=(o>>>16^e)&65535;e^=s;o^=s<<16;s=(o>>>4^e)&252645135;e^=s;o^=s<<4;u==1&&(r?(y=o,p=e):(o^=d,e^=g));tempresult+=r?String.fromCharCode(o>>>24,o>>>16&255,o>>>8&255,o&255,e>>>24,e>>>16&255,e>>>8&255,e&255):String.fromCharCode(o>>>16&65535,o&65535,e>>>16&65535,e&65535);k+=r?16:8;k==512&&(result+=tempresult,tempresult="",k=0)}return result+tempresult},stringToHex:function(n){for(var i="",r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],t=0;t<n.length;t++)i+=r[n.charCodeAt(t)>>4]+r[n.charCodeAt(t)&15];return i},HexTostring:function(n){for(var r,i="",t=0;t<n.length;t+=2)r=parseInt(n.substring(t,t+2),16),i+=String.fromCharCode(r);return i},jsdecrypt:function(t,i){return n.ZITUtils.des(t,n.ZITUtils.HexTostring(i),0,0)},jsencrypt:function(t,i){return i&&i!=""?n.ZITUtils.stringToHex(n.ZITUtils.des(t,i,1,0)):""},decrypt:function(t){var i=n.ZITFunctions.host();return n.ZITUtils.jsdecrypt(i,t)},encrypt:function(t){var i=n.ZITFunctions.host();return n.ZITUtils.jsencrypt(i,t)},retieveQueryString:function(t,i){i||(i=n.location.href);t=t.replace(/[\[\]]/g,"\\$&");var u=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),r=u.exec(i);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}};tt=function(){var n=document.documentElement,t=document.body,r="scrollTop",i="scrollHeight";return n==null||t==null?100:(n[i]||t[i])-n.clientHeight<=0?100:(n[r]||t[r])/((n[i]||t[i])-n.clientHeight)*100};n.ZITAnalyticsLoader={timerReached:!1,firsttimerReached:!1,firstscroll:!1,maxPercent:0,initTrackingScrollDepth:function(){var u,o;if(e=e||n.doNotTrack=="1"||navigator.doNotTrack=="yes"||navigator.doNotTrack=="1"||navigator.msDoNotTrack=="1"||n.ZITUtils.readCookie("zit.data.toexclude")=="1",!e){var i=Math.ceil(tt()/10)*10,a=n.ZITFunctions.retrieveCurSession(),f=n.ZITFunctions.retrieveTrackingData();if(i>n.ZITAnalyticsLoader.maxPercent){n.ZITAnalyticsLoader.firsttimerReached||n.ZITAnalyticsLoader.timerReached?n.ZITAnalyticsLoader.firsttimerReached&&n.ZITUtils.writeDebug("Detect first timer reached "+i+" "+n.ZITAnalyticsLoader.maxPercent+" "+n.ZITAnalyticsLoader.firstScroll+"  "+n.ZITAnalyticsLoader.timerReached):(n.ZITAnalyticsLoader.firstScroll=!0,n.ZITUtils.writeDebug("Detect first scroll "+i+" "+n.ZITAnalyticsLoader.maxPercent+" "));n.ZITAnalyticsLoader.maxPercent=i;f.cPs=n.ZITAnalyticsLoader.maxPercent;n.ZITFunctions.saveTrackingDataToSxo(f);try{var s=new Date,h=new Date(2018,1,1),c=(s.getTime()-h.getTime())/1e3,t={sh:[],cPu:f.cPu,si:n.ZITUtils.readCookie("sessionId"),maxP:0},r=n.ZITUtils.localStorageStore("_scrH");typeof r!="undefined"&&r!=""&&r!=null?(t=JSON.parse(r),t.si==""&&(t.si=n.ZITUtils.readCookie("sessionId")),typeof t.maxP=="undefined"&&(t.maxP=0)):n.ZITUtils.writeDebug("No _scrH has been detected.");u=!1;localStorage&&(u=!0);n.ZITUtils.writeDebug("ls Support:"+u+" "+i+" "+t.maxP);(u||i>t.maxP)&&(o={stime:c,sp:i},t.sh.push(o),i>t.maxP&&(t.maxP=i),n.ZITUtils.localStorageStore("_scrH",JSON.stringify(t)))}catch(l){n.ZITUtils.writeDebug(l)}}}},init:function(){var t=this,i;if(e=e||n.doNotTrack=="1"||navigator.doNotTrack=="yes"||navigator.doNotTrack=="1"||navigator.msDoNotTrack=="1"||n.ZITUtils.readCookie("zit.data.toexclude")=="1",e){n.ZITUtils.writeDebug("sdnt disabled");return}i=function(){n.ZITUtils.writeDebug("scroll Timer going to be switched on "+n.ZITFunctions.timerReached+" "+n.ZITAnalyticsLoader.maxPercent);n.ZITFunctions.timerReached=!0;n.ZITFunctions.firsttimerReached=!0;n.ZITUtils.writeDebug("scroll Timer has been switched on "+n.ZITFunctions.timerReached+" "+n.ZITAnalyticsLoader.maxPercent);t.initTrackingScrollDepth();n.addEventListener?n.addEventListener("scroll",t.initTrackingScrollDepth,!1):n.attachEvent("scroll",t.initTrackingScrollDepth)};i()}};n.ZITFunctions={isAnalysisProcessed:!1,isDebug:!1,brandId:0,isDNT:0,gaEnabled:!1,dlEnabled:!1,categoryNo:0,origSession:"",curSession:"",processedCanvas:0,showCanvas:0,testMode:!1,curTrackingData:null,curDataLayer:null,SubxPopupClosed:0,SubxPopupOpened:0,SubxLimitSlide:!0,haspopup:0,useallowedCanvas:!1,allowedCAType:[],spwCookieName:"_spw",doffer:-1,preferCanvasType:-1,apiKey:"",keyword:"",datawall:0,dataLayerName:"",localStorageValue:"",dataLayerValue:"",dataLayer:0,cookieValue:"",testData:{},newpage:!1,host:function(){return n.location.hostname},encrypt:function(t){var i=n.ZITFunctions.host();return n.ZITUtils.jsencrypt(i,t)},sessionStore:function(t,i){return n.ZITUtils.sessionStore(t,i)},sendtoBlueConic:function(t){n.ZITFunctions.isDNT==1?n.ZITUtils.writeDebug("sendtoBlueConic DNT datatracking disabled."):typeof n.SubxClientEvents.blueConic!="undefined"&&n.SubxClientEvents.blueConic==1?(console.log(n.SubxClientEvents.blueConic),n.SubxClientEvents.sendtoBlueConic(t)):n.ZITUtils.writeDebug("blueConic is not enabled.")},updateSessionHistory:function(t,i){var r="",e=0,u=n.ZITUtils.localStorageStore("_ssh")||"",o="",f=u.indexOf(t),s;return n.ZITUtils.writeDebug("Update session index "+t+" "+u+" "+f),u==""||f<0||i.SFreq<=0?(s=u.split(","),s.length>0?s.forEach(function(t){var i;if(t!=""){e=e+1;var u=new Date,f=new Date(2018,1,1),s=(u.getTime()-2592e6-f.getTime())/6e4;try{i=parseInt(t);i>s?(o=t,r=r.concat(t),r=r.concat(",")):n.ZITUtils.writeDebug("Session "+t+" has been removed.")}catch(h){}}}):n.ZITUtils.writeDebug("No session histories detected."),o!=""&&f<0&&(n.ZITUtils.writeDebug("Detected last session Id "),i.pspv=i.sP,i.pslv=parseInt(t)-parseInt(o)-parseInt(i.cdT),i.pssSr=i.sSr,i.pswN=i.wN,i.psdS=i.dS,i.pscdT=parseInt(i.pscdT)+parseInt(i.cdT)),f<0?(r=r.concat(t),r=r.concat(","),i.SFreq=e+1,i.sSr=0,i.sWids=[],i.wN=0,i.cdT=0):(i.SFreq=e,n.ZITUtils.writeDebug("No new session detected.")),n.ZITUtils.localStorageStore("_ssh",r),n.ZITUtils.writeDebug("SF updated to "+i.SFreq),n.ZITFunctions.saveTrackingDataToSxo(i),n.ZITUtils.writeDebug(JSON.stringify(i))):n.ZITUtils.writeDebug("No new session detected."+u+" "+f+" "+i.SFreq),i},updateCategoryInfo:function(t){var u;if(t&&t!="")try{var e=n.ZITUtils.readCookie("_cath")||"",o=n.ZITUtils.readCookie("_cfreqh")||"",i=e.split(","),r=o.split(","),u=0,f=!1;if(i.length>0&&r.length>0&&i.length==r.length)for(u=0;u<i.length;u++)i[u]==t&&(r[u]=parseInt(r[u])+1,f=!0);else i=[],r=[];f||(i.push(t),r.push(1));n.ZITUtils.createCookieinDetails("_cath",i.join(","),30,0,0,0);n.ZITUtils.createCookieinDetails("_cfreqh",r.join(","),30,0,0,0)}catch(s){n.ZITFunctions.sendRaygunData(s,"Error in updateCategoryInfo")}},updateSessionInfo:function(t){var i=!1,r=n.ZITFunctions.curSession;return t==""||r&&r==t||(n.ZITUtils.writeDebug("New Session detected"),n.ZITUtils.createCookieinDetails("sessionId",t,0,0,20,0),n.ZITFunctions.curSession=t,i=!0),i},updateTrackingDataCounter:function(i,r,u,f,e){var s,l;if(n.ZITFunctions.isDNT==1)return i.cPu!=n.location.href&&(i.cPu=n.location.href,n.ZITFunctions.newpage=!0),i;var h=new Date,c=n.ZITUtils.dayToString(h.getFullYear(),h.getMonth(),h.getDate()),o=null;return f!=null&&f!=""&&e>0?(o=JSON.parse(f),i.sM=o.sM,i.dM=o.dM,i.tM=o.tM,i.sM2=o.sM2,i.dM2=o.dM2,i.tM2=o.tM2,i.RA=o.RA,i.lVd=o.lVd,n.ZITUtils.writeDebug("Reading Counter updated from s3 "+JSON.stringify(o)+" "+e)):n.SubxClientEvents&&typeof n.SubxClientEvents.retrieveReadingData!="undefined"&&(o=n.SubxClientEvents.retrieveReadingData(),n.ZITUtils.writeDebug("Reading Counter detected "+JSON.stringify(o))),(i.lVd==""||i.lVd!=c)&&(n.ZITUtils.writeDebug("New Date detected "+c),i.lVd!=""&&(i.R=1),i.lVd=c,i.tP=typeof i.tP=="undefined"?typeof i.dP=="undefined"?0:i.dP:parseInt(i.tP)+parseInt(i.dP),i.tM=typeof i.tM=="undefined"?typeof i.dM=="undefined"?0:i.dM:parseInt(i.tM)+parseInt(i.dM),i.tM2=typeof i.tM2=="undefined"?typeof i.dM2=="undefined"?0:i.dM2:parseInt(i.tM2)+parseInt(i.dM2),i.dM=0,i.dM2=0,o!=null&&(o=n.SubxClientEvents.intializeDailyReadingData(o),n.ZITUtils.writeDebug("IntializeDailyReadingData "+JSON.stringify(o))),i.tS=parseInt(i.tS)+parseInt(i.dS),i.dS=0,i.pscdT=0,i.cPu=""),n.ZITUtils.localStorageStore("_sxpca",null),s=n.ZITFunctions.updateSessionInfo(r),(s||i.SFreq<0)&&(i=n.ZITFunctions.updateSessionHistory(r,i)),s?(i.dS=parseInt(i.dS)+1,i.dS>1&&(i.R=1),i.sP=1,i.sM=0,i.sM2=0,o!=null&&(o.sM=0,o.sM2=0,n.ZITUtils.writeDebug("readingCounter updated "+JSON.stringify(o)))):i.cdT=parseInt(u)-parseInt(r),o.sM=i.sM,o.dM=i.dM,o.tM=i.tM,o.sM2=i.sM2,o.dM2=i.dM2,o.tM2=i.tM2,o.RA=i.RA,o!=null&&n.SubxClientEvents.saveReadingDataToSxr(o,e),(s||i.cPu!=n.location.href)&&(n.ZITUtils.writeDebug("New Page detected"),i.dP=parseInt(i.dP)+1,i.sSr=parseInt(i.sSr)+parseInt(i.cPs),Array.isArray(i.lPs)?(i.lPs.length>4&&i.lPs.shift(),i.lPs.push(i.cPs)):typeof i.lPs!=t?(l=i.lPs,i.lPs=[],i.lPs.push(l),i.lPs.push(i.cPs)):(i.lPs=[],i.lPs.push(i.cPs)),i.cPs=1,s||(i.sP=parseInt(i.sP)+1),i.cPu=n.location.href,n.ZITFunctions.newpage=!0),i},InitiateDataLayer:function(){var t=n.ZITUtils.readCookie("_sxgdl");return n.ZITFunctions.curDataLayer=t?JSON.parse(t):{sxCn:"",sxC:"L",sxCs:"L",sxCd:"L",sxCv:"L",sxTg:"",sxId:"subxId",sxCid:"canvasId",sxTid:"",event:""},n.ZITFunctions.curDataLayer},InitiateTrackingData:function(){if(n.location.href.indexOf("debugWid=")>0&&(n.ZITFunctions.testMode=!0,console.log("Subx Enter Test Mode")),n.ZITFunctions.retrieveTrackingData(),n.ZITFunctions.retrieveCurSession(),typeof n.ZITFunctions.curTrackingData.oS=="undefined"||n.ZITFunctions.curTrackingData.oS==""||n.ZITFunctions.curTrackingData.oS==null){var t=n.ZITloader.getQueryString("origSession"),i="orig";(t==null||t=="")&&(i="subx",t=n.ZITloader.getQueryString("subx"));t!=null&&(n.ZITFunctions.curTrackingData.oS=t,n.ZITUtils.writeDebug("Cross domain subx identified from "+i+" "+t),n.SubxClientEvents&&typeof n.SubxClientEvents.sendOrigSessionUpdateEvent!="undefined"&&n.SubxClientEvents.sendOrigSessionUpdateEvent(t,null))}return n.ZITFunctions.origSession=n.ZITFunctions.curTrackingData.oS,n.ZITFunctions.curTrackingData.cPu&&n.location.href!=n.ZITFunctions.curTrackingData.cPu?(n.ZITFunctions.newpage=!0,n.SubxClientEvents&&n.SubxClientEvents.scriptGroup=="VoxUS"&&(n.ZITFunctions.curTrackingData.tWids=[])):n.ZITFunctions.newpage=!1,n.ZITUtils.writeDebug("Inital tracking data "+JSON.stringify(n.ZITFunctions.curTrackingData)+" "+n.ZITFunctions.curTrackingData.oS+" "+n.ZITFunctions.newpage),n.ZITFunctions.isDNT==0&&n.ZITFunctions.UpdateFrequency(),n.ZITFunctions.testData={testWidget:0,testAnamiation:"",testCanvasType:"",testVariant:0,testContentG:0},n.ZITFunctions.curTrackingData},UpdateFrequency:function(){var e=n.ZITUtils.readCookie("_sxh")||"",c=new Date(2020,10,1),l=new Date,o=Math.floor((l.getTime()-c.getTime())/864e5),a=o.toString().concat(","),v=e.indexOf(a),s=0,t="",r=0,h=0,u=0,i,f;e==""||v<0?(n.ZITUtils.writeDebug("Welcome."+c+" "+l+" "+o),i=e.split(","),i.length>0&&i.forEach(function(n){var i=parseInt(n);i>=o-30&&i>=0&&(t=t.concat(n),t=t.concat(","),s=s+1)}),t=t.concat(a),i=t.split(","),i.length>0&&i.forEach(function(t){var i=parseInt(t);r=h==0||h+1==i?r+1:0;r>u&&(u=r,n.ZITUtils.writeDebug("max update to "+u));h=i}),n.ZITFunctions.curTrackingData.F=s+1,n.ZITFunctions.curTrackingData.RF=u,n.ZITFunctions.curTrackingData.RP=0,n.ZITFunctions.curTrackingData.ML="",n.ZITFunctions.saveTrackingDataToSxo(n.ZITFunctions.curTrackingData),n.ZITUtils.writeDebug("RP updated to 0 and RF updated to "+n.ZITFunctions.curTrackingData.RF),n.ZITUtils.createCookieinDetails("_sxh",t,30,0,0,0),n.ZITUtils.readCookie("_sanba")!=null&&(n.ZITUtils.readCookie("_sanba")==2||n.ZITUtils.readCookie("_sanba")==3)&&(f=n.ZITUtils.readCookie("_spw"),f&&f!=""?n.ZITUtils.writeDebug("Already blocked before "+f):n.ZITUtils.createCookie("_sanba","",-1))):n.ZITUtils.writeDebug("Repeat Occurance")},retrieveCurSession:function(){return(typeof n.ZITFunctions.curSession=="undefined"||n.ZITFunctions.curSession=="")&&(n.ZITFunctions.curSession=typeof n.ZITUtils.readCookie("sessionId")!="undefined"?n.ZITUtils.readCookie("sessionId"):n.ZITUtils.readCookie("sessionId")),n.ZITFunctions.curSession?n.ZITFunctions.curSession:""},retrieveSFOTrackingData:function(){if(n.ZITFunctions.curSfoTrackingData==null){var t=n.ZITUtils.readCookie("_sfo");t?(console.log(t),n.ZITFunctions.curSfoTrackingData=JSON.parse(t)):n.ZITFunctions.curSfoTrackingData={origSession:"",lastUrl:"",deviceType:0,curSession:"",readArticle:0,hascanvas:0,isReCaptchaOn:!1,reCaptchaSiteKey:"",reCaptchaSecretKey:"",hideNomralCanvasOnFirstReg:0}}return typeof n.ZITFunctions.curSfoTrackingData.hascanvas=="undefined"&&(n.ZITFunctions.curSfoTrackingData.hascanvas=0),typeof n.ZITFunctions.curSfoTrackingData.isReCaptchaOn=="undefined"&&(n.ZITFunctions.curSfoTrackingData.isReCaptureOn=!1),typeof n.ZITFunctions.curSfoTrackingData.reCaptchaSiteKey=="undefined"&&(n.ZITFunctions.curSfoTrackingData.reCaptchaSiteKey=""),typeof n.ZITFunctions.curSfoTrackingData.reCaptchaSecretKey=="undefined"&&(n.ZITFunctions.curSfoTrackingData.reCaptchaSecretKey=""),typeof n.ZITFunctions.curSfoTrackingData.hideNomralCanvasOnFirstReg=="undefined"&&(n.ZITFunctions.curSfoTrackingData.hideNomralCanvasOnFirstReg=0),n.ZITFunctions.curSfoTrackingData},updateSPWCookie:function(){n.ViewerLoader.specialPath?(n.ZITFunctions.spwCookieName="_smpw",n.ZITUtils.writeDebug(n.ZITFunctions.spwCookieName)):typeof n.SubxClientEvents.isSpecialSection!="undefined"?(n.ZITUtils.writeDebug("spwCookie to update "+n.ZITFunctions.spwCookieName+" "+n.SubxClientEvents.isSpecialSection()),typeof n.SubxClientEvents.isSpecialSection!="undefined"&&n.SubxClientEvents.isSpecialSection()&&n.ZITFunctions.spwCookieName=="_spw"?n.ZITFunctions.spwCookieName="_sspw":typeof n.SubxClientEvents.isSpecialSection=="undefined"||n.SubxClientEvents.isSpecialSection()||n.ZITFunctions.spwCookieName!="_sspw"||(n.ZITFunctions.spwCookieName="_spw"),n.ZITUtils.writeDebug("spwCookie update to "+n.ZITFunctions.spwCookieName)):(n.ZITFunctions.spwCookieName="_spw",n.ZITUtils.writeDebug("No cookie "+n.ZITFunctions.brandId+" "+n.location.href+" "+n.location.href.indexOf("/mhsquad/")))},retrieveTrackingData:function(){var t,i;return n.ZITFunctions.curTrackingData==null&&(t=n.ZITUtils.readCookie("_sxo"),n.ZITFunctions.curTrackingData=t?JSON.parse(t):{R:0,tP:0,tM:0,sP:0,sM:0,dP:0,dM:0,dS:0,tS:0,cPs:0,lPs:[],sSr:0,sWids:[],wN:0,cdT:0,F:0,RF:0,w:0,SFreq:0,last_wid:0,bid:0,accNo:"",clientId:"",isEmailAud:0,isPanelAud:0,hDW:0,isRegAud:0,isExAud:0,isDropoff:0,devT:4,exPW:0,Nba:-1,userName:"",dataLayer:"",localSt:"",emailId:"",emailTag:"",subTag:"",lVd:"",oS:"",cPu:"",pspv:0,pslv:0,pssSr:0,pswN:0,psdS:0,pscdT:0,RP:0,TPrice:0,ML:"",isReCaptchaOn:!1,reCaptchaSiteKey:"",reCaptchaSecretKey:"",extRefer:""}),typeof n.ZITFunctions.curTrackingData.RF=="undefined"&&(n.ZITFunctions.curTrackingData.RF=0),typeof n.ZITFunctions.curTrackingData.tS=="undefined"&&(n.ZITFunctions.curTrackingData.tS=0),typeof n.ZITFunctions.curTrackingData.dP=="undefined"&&(n.ZITFunctions.curTrackingData.dP=0),typeof n.ZITFunctions.curTrackingData.dM=="undefined"&&(n.ZITFunctions.curTrackingData.dM=0),typeof n.ZITFunctions.curTrackingData.tM=="undefined"&&(n.ZITFunctions.curTrackingData.tM=0),typeof n.ZITFunctions.curTrackingData.sM=="undefined"&&(n.ZITFunctions.curTrackingData.sM=0),typeof n.ZITFunctions.curTrackingData.dM2=="undefined"&&(n.ZITFunctions.curTrackingData.dM2=0),typeof n.ZITFunctions.curTrackingData.tM2=="undefined"&&(n.ZITFunctions.curTrackingData.tM2=0),typeof n.ZITFunctions.curTrackingData.sM2=="undefined"&&(n.ZITFunctions.curTrackingData.sM2=0),typeof n.ZITFunctions.curTrackingData.isRegAud=="undefined"&&(n.ZITFunctions.curTrackingData.isRegAud=0),(typeof n.ZITFunctions.curTrackingData.SFreq=="undefined"||n.ZITFunctions.curTrackingData.SFreq==null)&&(n.ZITFunctions.curTrackingData.SFreq=0),typeof n.ZITFunctions.curTrackingData.Nba=="undefined"&&(n.ZITFunctions.curTrackingData.Nba=-1),typeof n.ZITFunctions.curTrackingData.sSr=="undefined"&&(n.ZITFunctions.curTrackingData.sSr=0),typeof n.ZITFunctions.curTrackingData.sWids=="undefined"&&(n.ZITFunctions.curTrackingData.sWids=[]),typeof n.ZITFunctions.curTrackingData.wN=="undefined"&&(n.ZITFunctions.curTrackingData.wN=0),typeof n.ZITFunctions.curTrackingData.pspv=="undefined"&&(n.ZITFunctions.curTrackingData.pspv=0),typeof n.ZITFunctions.curTrackingData.pslv=="undefined"&&(n.ZITFunctions.curTrackingData.pslv=0),typeof n.ZITFunctions.curTrackingData.pssSr=="undefined"&&(n.ZITFunctions.curTrackingData.pssSr=0),typeof n.ZITFunctions.curTrackingData.pswN=="undefined"&&(n.ZITFunctions.curTrackingData.pswN=0),typeof n.ZITFunctions.curTrackingData.psdS=="undefined"&&(n.ZITFunctions.curTrackingData.psdS=0),typeof n.ZITFunctions.curTrackingData.pscdT=="undefined"&&(n.ZITFunctions.curTrackingData.pscdT=0),typeof n.ZITFunctions.curTrackingData.cdT=="undefined"&&(n.ZITFunctions.curTrackingData.cdT=0),typeof n.ZITFunctions.curTrackingData.isDropoff=="undefined"&&(n.ZITFunctions.curTrackingData.isDropoff=0),typeof n.ZITFunctions.curTrackingData.extRefer=="undefined"&&(n.ZITFunctions.curTrackingData.extRefer=""),typeof n.ZITFunctions.curTrackingData.isReCaptchaOn=="undefined"&&(n.ZITFunctions.curTrackingData.isReCaptchaOn=!1),typeof n.ZITFunctions.curTrackingData.reCaptchaSiteKey=="undefined"&&(n.ZITFunctions.curTrackingData.reCaptchaSiteKey=""),typeof n.ZITFunctions.curTrackingData.reCaptchaSecretKey=="undefined"&&(n.ZITFunctions.curTrackingData.reCaptchaSecretKey=""),typeof n.ZITFunctions.curTrackingData.hDW=="undefined"&&(n.ZITFunctions.curTrackingData.hDW=0,i=n.ZITUtils.readCookie("_spw"),n.ZITFunctions.curTrackingData.hDW=i&&i!=null?1:0),(typeof n.ZITFunctions.curTrackingData.RA=="undefined"||n.ZITFunctions.curTrackingData.RA<0)&&(n.ZITFunctions.curTrackingData.RA=0),n.ViewerLoader.remainingArticle=n.ZITFunctions.curTrackingData.RA,typeof n.ZITFunctions.curTrackingData.RP=="undefined"&&(n.ZITFunctions.curTrackingData.RP=0),typeof n.ZITFunctions.curTrackingData.TPrice=="undefined"&&(n.ZITFunctions.curTrackingData.TPrice=0),typeof n.ZITFunctions.curTrackingData.ML=="undefined"&&(n.ZITFunctions.curTrackingData.ML=""),n.ZITFunctions.curTrackingData},retrieveNBA:function(){var t="";return n.ZITFunctions.curTrackingData==null&&n.ZITFunctions.retrieveTrackingData(),n.ZITFunctions.curTrackingData!=null&&(t="N"+n.ZITFunctions.curTrackingData.Nba),n.ZITUtils.writeDebug("nba retrieved:N"+t),t},retrieveOrigSession:function(){var t="";return n.ZITFunctions.curTrackingData==null&&n.ZITFunctions.retrieveTrackingData(),n.ZITFunctions.curTrackingData!=null&&(t=n.ZITFunctions.curTrackingData.oS),n.ZITUtils.writeDebug("id retrieved:"+t),t},retrieveVisitorType:function(){var t=1;return n.ZITFunctions.curTrackingData==null&&n.ZITFunctions.retrieveTrackingData(),n.ZITFunctions.curTrackingData!=null&&n.ZITFunctions.curTrackingData&&(n.ZITFunctions.curTrackingData.F>1||n.ZITFunctions.curTrackingData.dS>1)&&(t=2),n.ZITUtils.writeDebug("visitor type retrieved:"+t),t},retrieveTestGroup:function(){var t="";return n.ZITFunctions.curTrackingData==null&&n.ZITFunctions.retrieveTrackingData(),n.ZITFunctions.curTrackingData!=null&&(t=n.ZITFunctions.curTrackingData.groupName),n.ZITUtils.writeDebug("Test Group retrieved:"+t),t},retrieveDeviceType:function(){var t=4;return n.ZITFunctions.curTrackingData==null&&n.ZITFunctions.retrieveTrackingData(),n.ZITFunctions.curTrackingData!=null&&n.ZITFunctions.curTrackingData&&typeof n.ZITFunctions.curTrackingData.devT!="undefined"&&(t=n.ZITFunctions.curTrackingData.devT),n.ZITUtils.writeDebug("device type retrieved:"+t+" "+n.ZITUtils.readCookie("_sxo")),t},retrieveFreq:function(){var t=0;return n.ZITFunctions.curTrackingData==null&&n.ZITFunctions.retrieveTrackingData(),n.ZITFunctions.curTrackingData!=null&&n.ZITFunctions.curTrackingData&&typeof n.ZITFunctions.curTrackingData.F!="undefined"&&(t=n.ZITFunctions.curTrackingData.F),n.ZITUtils.writeDebug("freq retrieved:"+t+" "+n.ZITUtils.readCookie("_sxo")),t},retrieveSPV:function(){var t=0;return n.ZITFunctions.curTrackingData==null&&n.ZITFunctions.retrieveTrackingData(),n.ZITFunctions.curTrackingData!=null&&(n.ZITFunctions.curTrackingData&&typeof n.ZITFunctions.curTrackingData.dP!="undefined"&&(t=n.ZITFunctions.curTrackingData.dP),n.ZITFunctions.curTrackingData&&typeof n.ZITFunctions.curTrackingData.tP!="undefined"&&(t=t+n.ZITFunctions.curTrackingData.tP)),n.ZITUtils.writeDebug("total page view retrieved:"+t+" "+n.ZITUtils.readCookie("_sxo")),t},retrieveRetUrl:function(){var t=n.ZITFunctions.retrieveTrackingData();return t.cPu},retrieveDropoffStage:function(){var t=0;return n.ZITFunctions.curTrackingData==null&&n.ZITFunctions.retrieveTrackingData(),n.ZITFunctions.curTrackingData!=null&&n.ZITFunctions.curTrackingData&&typeof n.ZITFunctions.curTrackingData.isDropoff!="undefined"&&(t=n.ZITFunctions.curTrackingData.isDropoff),n.ZITUtils.writeDebug("dropoff retrieved:"+t),t},updateCanvasTitleToCookie:function(t,i){try{var u=n.ZITUtils.localStorageStore("_sxpca"),r=[];typeof u!="undefined"&&u!=null&&u!=""&&(r=JSON.parse(u));r.length>0&&r.forEach(function(r){var f,u;r.canvasId==t.canvasId&&(f="title-wid-"+t.canvasId,n.ZITUtils.writeDebug("Going to search for "+f),u=i.getElementsByClassName(f),u&&u.length>0?r.canvasTitle=u[0].innerText:(r.canvasTitle="",n.ZITUtils.writeDebug("No title retrieved for the canvas")),n.ZITUtils.writeDebug("Canvas Data has been updated "+JSON.stringify(r)))});n.ZITUtils.localStorageStore("_sxpca",JSON.stringify(r))}catch(f){n.ZITFunctions.sendRaygunData(f,"updateCanvasTitleToCookieV2-"+r.canvasId)}},saveCanvasDataToCookie:function(i,r){var u,s,e;try{if(u=r.getElementsByClassName("zit-widget-wrapper--new-panel"),u!=null&&u.length>0?(i.canvasName=u[0].getAttribute("data-name"),i.linkText=u[0].getAttribute("data-ctaText"),i.promoName=u[0].getAttribute("data-campaignName"),i.desc=u[0].getAttribute("data-desc"),i.price=u[0].getAttribute("data-price"),s="title-wid-"+i.canvasId,n.ZITUtils.writeDebug("Going to search for "+s),e=r.getElementsByClassName(s),e&&e.length>0?i.canvasTitle=e[0].innerText:(i.canvasTitle="",n.ZITUtils.writeDebug("No title retrieved for the canvas")),n.ZITUtils.writeDebug("Canvas retrieved from container "+i.canvasName)):n.ZITUtils.writeDebug("No element retrieved."),typeof i!=t){var o=n.ZITUtils.localStorageStore("_sxpca"),f=[],h=!1;typeof o!="undefined"&&o!=null&&o!=""&&(f=JSON.parse(o));f.length>0&&f.forEach(function(n){n.canvasId==i.canvasId&&(h=!0,n.promoName=i.promoName,n.linkText=i.linkText,n.canvasName=i.canvasName,n.desc=i.desc,n.price=i.price,n.canvasTitle=i.canvasTitle)});h?n.ZITUtils.writeDebug("Canvas already exists."+i.canvasId):(n.ZITUtils.writeDebug("Canvas Data will be added "+JSON.stringify(i)),f.push(i));n.ZITUtils.localStorageStore("_sxpca",JSON.stringify(f));n.ZITUtils.writeDebug("Canvas Data updated "+JSON.stringify(f))}else n.ZITUtils.writeDebug("No Canvas Data to write.")}catch(c){typeof n.SubxClientEvents.sendJAMDataEvent!="undefined"&&n.ZITFunctions.sendRaygunData(c,"saveCanvasDataToCookie-"+i.canvasId);console.error(c)}},retrieveCanvasDataFrmCookie:function(t){var i,r,u,f;try{if(n.ZITUtils.writeDebug("retrieveCanvasDataFrmStorage "+t),t>0)if(i=n.ZITUtils.localStorageStore("_sxpca"),r=[],typeof i!="undefined"&&i!=null&&i!=""&&(r=JSON.parse(i)),r.length>0){for(u=0;u<r.length;u++)if(f=r[u],n.ZITUtils.writeDebug("Cookie found "+JSON.stringify(f)+": "+t),f.canvasId==t)return f}else n.ZITUtils.writeDebug("Cookie "+r.length+": "+i)}catch(e){n.ZITFunctions.sendRaygunData(e,"retrieveCanvasDataFrmCookie-"+t)}return null},saveCanvasClickUrlToCookie:function(t,i){try{if(i!=""&&t>0){var u=n.ZITUtils.localStorageStore("_sxpca"),r=[];typeof u!="undefined"&&u!=null&&u!=""&&(r=JSON.parse(u));r.length>0&&r.forEach(function(n){n.canvasId==t&&(n.canvasLk=i)});n.ZITUtils.localStorageStore("_sxpca",JSON.stringify(r));n.ZITUtils.writeDebug("Canvas Data click updated "+JSON.stringify(r))}else n.ZITUtils.writeDebug("No Canvas Data to write.")}catch(f){n.ZITFunctions.sendRaygunData(f,"saveCanvasClickUrlToCookie-"+t)}},saveTrackingDataToSxo:function(i){typeof i!=t?(n.ZITUtils.createCookieinDetails("_sxo",JSON.stringify(i),365,0,0,0),n.ZITUtils.writeDebug("TrackingData updated "+JSON.stringify(i))):n.ZITUtils.writeDebug("No trackingData to write.");n.ZITFunctions.curTrackingData=i},retrieveIsSlideCloseCookie:function(){var t=parseInt(n.ZITUtils.readCookie("zit.npw.slide.close"))||0;return n.ZITFunctions.curTrackingData==null&&n.ZITFunctions.retrieveTrackingData(),n.ZITFunctions.curTrackingData!=null&&(n.ZITFunctions.curTrackingData.isSlideClose=t,n.ZITFunctions.curTrackingData.firstClickX=n.ZITFunctions.curTrackingData.firstClickX==1?1:n.ZITFunctions.curTrackingData.firstClickX==2?2:0,n.ZITFunctions.saveTrackingDataToSxo(n.ZITFunctions.curTrackingData)),n.ZITUtils.writeDebug("isSlideClose retrieved:"+t),t},retrieveIsSlideCloseSession:function(){var t=parseInt(n.ZITUtils.sessionStore("zit.npw.slide.close"))||0;return n.ZITFunctions.curTrackingData==null&&n.ZITFunctions.retrieveTrackingData(),n.ZITFunctions.curTrackingData!=null&&(n.ZITFunctions.curTrackingData.isSlideCloseAlt=t,n.ZITFunctions.saveTrackingDataToSxo(n.ZITFunctions.curTrackingData)),n.ZITUtils.writeDebug("isSlideCloseAlt retrieved:"+t),t},setCanvas:function(t){t==1?(n.ZITFunctions.showCanvas=n.ZITFunctions.showCanvas+1,n.ZITFunctions.processedCanvas=n.ZITFunctions.processedCanvas+1,n.ZITUtils.writeDebug("Canvas counter has been updated."+n.ZITFunctions.showCanvas+" "+n.ZITFunctions.processedCanvas+" "+n.ZITFunctions.totalCanvas)):(n.ZITFunctions.processedCanvas=n.ZITFunctions.processedCanvas+1,n.ZITUtils.writeDebug("Canvas counter has been updated."+n.ZITFunctions.showCanvas+" "+n.ZITFunctions.processedCanvas+" "+n.ZITFunctions.totalCanvas));n.ZITFunctions.processedCanvas>=n.ZITFunctions.totalCanvas&&n.ZITFunctions.showCanvas<=0&&n.ZITFunctions.sendtoBlueConic("no-subx")},getCookieValue:function(t){var i=n.ZITUtils.readCookie(t)||"";return n.ZITUtils.writeDebug(t+" retrieved:"+i),i},clearReaderCounter:function(){var t=n.ZITFunctions.retrieveTrackingData(),i;n.SubxClientEvents&&typeof n.SubxClientEvents.clearReaderCounter!="undefined"?n.SubxClientEvents.clearReaderCounter(t):n.ZITFunctions.spwCookieName=="_spw"&&(i=n.ZITUtils.readCookie("_rA"),(typeof i=="undefined"||i==null)&&n.ZITUtils.createCookieinDetails("_rA",t.RA,30,0,0,0));n.ZITFunctions.spwCookieName=="_spw"?(t.dM=0,t.sM=0,t.tM=0,t.RA=0,t.tWids=[],this.saveTrackingDataToSxo(t),n.ZITUtils.writeDebug("ReaderCounter has been cleared")):n.ZITFunctions.spwCookieName=="_sspw"?(t.dM2=0,t.sM2=0,t.tM2=0,this.saveTrackingDataToSxo(t),n.ZITUtils.writeDebug("Special ReaderCounter has been cleared")):n.ZITUtils.writeDebug("No ReaderCounter needs to clear "+n.ZITFunctions.spwCookieName)},updateReaderCounter:function(t){var i,r;n.SubxClientEvents&&typeof n.SubxClientEvents.updateReaderCounter!="undefined"&&n.SubxClientEvents.updateReaderCounter(t);i=n.ZITFunctions.retrieveTrackingData();typeof n.SubxClientEvents.isSpecialSection!="undefined"&&n.SubxClientEvents.isSpecialSection()?(r=parseInt(i.dM2)+parseInt(i.tM2),t>r&&(i.dM2=parseInt(i.dM2)+parseInt(t-r),i.sM2=parseInt(i.sM2)+parseInt(t-r),n.ZITUtils.writeDebug("dM2,sM2 updated:"+(t-r)),n.SubxClientEvents.addArticleId())):(t>i.RA&&(i.dM=parseInt(i.dM)+parseInt(t-i.RA),i.sM=parseInt(i.sM)+parseInt(t-i.RA),n.ZITUtils.writeDebug("dM,sM updated:"+(t-i.RA)),n.SubxClientEvents.addArticleId()),i.RA=t);this.saveTrackingDataToSxo(i);n.ZITUtils.writeDebug("RA updated:"+i.RA)},updateOrigSession:function(t){var i=n.ZITFunctions.retrieveTrackingData();i.oS=t;this.saveTrackingDataToSxo(i);n.ZITUtils.writeDebug("oS updated:"+t)},setEmailAud:function(){var t=n.ZITFunctions.retrieveTrackingData();t.isEmailAud=1;this.saveTrackingDataToSxo(t);n.ZITUtils.writeDebug("existing email Aud updated:"+t.isEmailAud)},setExpAud:function(){var t=n.ZITFunctions.retrieveTrackingData();t.isExAud=1;this.saveTrackingDataToSxo(t);n.ZITUtils.writeDebug("ExpAud updated:"+t.isExAud)},setRegAud:function(){var t=n.ZITFunctions.retrieveTrackingData();t.isEmailAud=1;t.isRegAud=1;this.saveTrackingDataToSxo(t);(n.ZITFunctions.getCookieValue("_sxRD")||"")==""?(n.ZITUtils.createCookieinDetails("_sxRD",n.ZITUtils.readCookie("sessionId"),365,0,0,0),n.ZITUtils.writeDebug("_sxRD updated:"+n.ZITUtils.readCookie("sessionId"))):n.ZITUtils.writeDebug("_sxRD exists:"+n.ZITFunctions.getCookieValue("_sxRD"));n.ZITUtils.createCookie("_spw","",-1);n.ZITUtils.createCookie("_sspw","",-1);n.ZITUtils.writeDebug("RegAud updated:1")},resetGTMAcc:function(){var t=n.ZITFunctions.retrieveTrackingData();t.GTMTag="";t.accNo="";this.saveTrackingDataToSxo(t);n.ZITUtils.writeDebug("GTM Account has been reset")},getUserName:function(){var t=n.ZITUtils.readCookie("_sue")||"";return n.ZITUtils.writeDebug("new username retrieved:"+t),t},setMembership:function(){n.ZITUtils.createCookieinDetails("_isMemAud",1,30,0,0,0);(n.ZITFunctions.getCookieValue("_sxMD")||"")==""?(n.ZITUtils.createCookieinDetails("_sxMD",n.ZITUtils.readCookie("sessionId"),365,0,0,0),n.ZITUtils.writeDebug("_sxMD updated:"+n.ZITUtils.readCookie("sessionId"))):n.ZITUtils.writeDebug("_sxMD exists:"+n.ZITFunctions.getCookieValue("_sxMD"));this.setRegAud();n.ZITUtils.writeDebug("Membership updated:1")},setLogIn:function(t){var i,r;n.SubxClientEvents&&typeof n.SubxClientEvents.setLogIn!="undefined"?n.SubxClientEvents.setLogIn(t):(i=n.ZITFunctions.retrieveTrackingData(),n.ZITUtils.createCookieinDetails("_rA",i.RA,30,0,0,0),n.ZITUtils.createCookie("_spw","",-1),r=n.ZITUtils.readCookie("_rAReg"),r&&r>0?(i.RA=r,i.tM=0,i.dM=r,i.sM=r,this.saveTrackingDataToSxo(i),n.ZITUtils.createCookie("_rAReg","",-1)):(i.RA=0,i.tM=0,i.dM=0,i.sM=0,this.saveTrackingDataToSxo(i)),n.SubxClientEvents&&typeof n.SubxClientEvents.CopyFromTrackingData!="undefined"&&n.SubxClientEvents.CopyFromTrackingData(i))},setLogOut:function(){var i,t;n.ZITUtils.createCookie("_spw","",-1);n.SubxClientEvents&&typeof n.SubxClientEvents.setLogOut!="undefined"?n.SubxClientEvents.setLogOut():(t=n.ZITFunctions.retrieveTrackingData(),i=n.ZITUtils.readCookie("_rA"),i&&i>0?(t.RA=i,t.tM=0,t.dM=i,t.sM=i,n.ZITUtils.createCookie("_rA","",-1)):(t.RA=0,t.tM=0,t.dM=0,t.sM=0),this.saveTrackingDataToSxo(t),n.ZITUtils.createCookieinDetails("_rAReg",t.RA,30,0,0,0));t=n.ZITFunctions.retrieveTrackingData();t.isEmailAud=0;t.isRegAud=0;this.saveTrackingDataToSxo(t);n.ZITFunctions&&(n.ZITFunctions.sendGAData(115,"Click to Log Out",n.ZITUtils.readCookie("_sue"),"Membership",!1),n.ZITFunctions.sendCWPClickData(n.ZITFunctions.apiKey,115,t.oS,n.ZITUtils.readCookie("sessionId"),n.ZITFunctions.brandId,0,0,n.location.href));n.ZITUtils.createCookie("_isMemAud","",-1);n.ZITUtils.createCookie("_sue","",-1);n.ZITUtils.createCookie("_sxMD","",-1);n.ZITUtils.createCookie("_sxRD","",-1);n.ZITUtils.createCookie("_MChecked","",-1);n.ZITUtils.createCookie("_sf","",-1);n.ZITUtils.writeDebug("Membership updated:1")},setUserName:function(t){n.SubxClientEvents&&typeof n.SubxClientEvents.setUserName!="undefined"?n.SubxClientEvents.setUserName(t):(n.ZITUtils.createCookieinDetails("_sue",t,365,0,0,0),n.ZITUtils.writeDebug("new username updated:"+t))},setFilterOut:function(t){n.ZITUtils.createCookieinDetails("_sf",t,0,0,20,0);n.ZITUtils.writeDebug("update filter out flag:"+t)},setDropOffAud:function(t){var i=n.ZITFunctions.retrieveTrackingData();(!i.isDropoff||i.isDropoff<t)&&(i.isDropoff=t);this.saveTrackingDataToSxo(i);n.ZITUtils.writeDebug("new dropoff group updated:"+i.oS)},setSubscriberAud:function(t){var i=n.ZITFunctions.retrieveTrackingData();i.isPanelAud=t;this.saveTrackingDataToSxo(i);n.ZITUtils.writeDebug("existing subscriber Aud updated:"+i.oS)},saveCanvasData:function(n,t,i){var r={canvasId:n.wid,canvasAn:n.animationType,canvasCT:n.widgetType,authId:i.authId,promoName:"",linkText:"",canvasName:n.widgetName,canvasCG:n.isContentGate+n.isMembership,canvasType:i.actionType,canvasLk:""};this.saveCanvasDataToCookie(r,t)},setDatawallFlag:function(){var t=n.ZITFunctions.retrieveTrackingData();t.hDW=1;this.saveTrackingDataToSxo(t);n.ZITUtils.writeDebug("existing subscriber Aud updated:"+t.oS)},sendControlData:function(t,i,r,f,e,o,s){if(n.ZITFunctions.isDNT==1)n.ZITUtils.writeDebug("sendControlData DNT datatracking disabled.");else{var h=n.ZITFunctions.retrieveOrigSession(),c=n.ZITFunctions.retrieveCurSession(),l=n.ZITFunctions.retrieveDeviceType(),a=n.ZITFunctions.retrieveVisitorType(),v={apiKey:i,action:t,origId:h,cursession:c,external:0,pid:r,host:n.ZITFunctions.host(),cid:f,wid:e,salesplan:o,extData:s,vtype:a,dtype:l};n.ZITUtils.xdr(u.getDataTrackingScript(r),"POST",JSON.stringify(v),function(t){var i=JSON.parse(t);i&&i.Result==0?(n.ZITUtils.sessionStore("zit.data.cursessionid",i.origId),i.AudGroup&&ZITFunctions.setSubscriberAud(i.AudGroup),i.EmailGroup&&i.EmailGroup==1&&ZITFunctions.setEmailAud(),i.DropoffGroup&&i.DropoffGroup!=0&&ZITFunctions.setDropOffAud(i.DropoffGroup)):n.ZITUtils.writeDebug("data tracking re: "+i.origId)},function(n){console.error("error: "+n)})}},sendCampaignData:function(t,i,r,f){var e,a;if(n.ZITFunctions.isDNT==1)n.ZITUtils.writeDebug("sendCampaignData DNT datatracking disabled.");else{var s=n.ZITUtils.readCookie("_sxo"),h="",o="";if(n.ZITloader&&(o=n.ZITloader.getQueryString("dtId")),n.ZITUtils.writeDebug("Query string loaded "+o),s||o&&o!=""){e=JSON.parse(s);e&&e.oS&&e.oS!=""&&(h=e.oS);n.ZITUtils.writeDebug("id1 retrieved:"+h);var v=n.ZITFunctions.retrieveCurSession(),c=1,l=0;e&&(e.F>1||e.dS>1)&&(c=2);e&&typeof e.devT!="undefined"&&(l=e.devT);a={apiKey:i,action:t,origId:h,cursession:v,external:1,pid:r,extData:f,vtype:c,dtype:l};n.ZITUtils.xdr(u.getDataTrackingScript(r),"POST",JSON.stringify(a),function(t){var i=JSON.parse(t);i&&i.Result==0?(n.ZITUtils.sessionStore("zit.data.cursessionid",i.origId),i.AudGroup&&ZITFunctions.setSubscriberAud(i.AudGroup),i.EmailGroup&&i.EmailGroup==1&&ZITFunctions.setEmailAud(),i.DropoffGroup&&i.DropoffGroup!=0&&ZITFunctions.setDropOffAud(i.DropoffGroup)):n.ZITUtils.writeDebug("data tracking: "+i.origId)},function(n){console.error("error: "+n)})}else setTimeout(function(){var c,e,l,a,v;s=n.ZITUtils.readCookie("_sxo");c=0;(s||o&&o!="")&&(e=JSON.parse(s),o&&o!=""?h=o:e&&e.oS&&e.oS!=""&&(h=e.oS),e&&typeof e.devT!="undefined"&&(c=e.devT));l=1;s&&(s.F>1||s.dS>1)&&(l=2);n.ZITUtils.writeDebug("id2 retrieved:"+h);a=n.ZITFunctions.retrieveCurSession();v={apiKey:i,action:t,origId:h,cursession:a,external:1,pid:r,extData:f,vtype:l,dtype:c};n.ZITUtils.xdr(u.getDataTrackingScript(r),"POST",JSON.stringify(v),function(t){var i=JSON.parse(t),r;i&&i.Result==0?(i.origId&&i.origID!=""&&(r=n.ZITFunctions.retrieveTrackingData(),r.oS=i.origId,n.ZITFunctions.saveTrackingDataToSxo(r)),i.AudGroup&&ZITFunctions.setSubscriberAud(i.AudGroup),i.EmailGroup&&i.EmailGroup==1&&ZITFunctions.setEmailAud(),i.DropoffGroup&&i.DropoffGroup!=0&&ZITFunctions.setDropOffAud(i.DropoffGroup)):n.ZITUtils.writeDebug("data tracking returns: "+i.origId)},function(n){console.error("error: "+n)})},1500)}},sendCWPClickData:function(t,i,r,f,e,o,s,h,c){var y,l;if(n.ZITFunctions.isDNT==1)n.ZITUtils.writeDebug("sendCWPClickData DNT datatracking disabled.");else{var p=n.ZITFunctions.retrieveDeviceType(),w=n.ZITFunctions.retrieveVisitorType(),a="",v=h;c&&(y=n.ZITFunctions.host(),v=encodeURIComponent(n.location.href),a=n.ZITUtils.jsencrypt(y,h+"#"+c));(e==null||typeof e=="undefined")&&(e=n.ZITFunctions.brandId);n.ZITUtils.writeDebug("Data for "+e+" retrieved.");l={apiKey:t,action:i,origId:r,external:0,pid:e,cid:o,wid:s,extData:a,referal:v,cursession:f,vtype:w,dtype:p};n.ZITUtils.writeDebug("calling CWP data tracking "+JSON.stringify(l));n.ZITUtils.xdr(u.getDataTrackingScript(e),"POST",JSON.stringify(l),function(t){var i=JSON.parse(t);i&&i.Result==0?n.ZITUtils.writeDebug("successful "+i.origId):n.ZITUtils.writeDebug("data tracking re: "+i.origId)},function(t){n.ZITUtils.writeDebug("error: "+t)})}},sendClickData:function(t,i,r,f,e,o,s,h,c){var y,l;if(n.ZITFunctions.isDNT==1)n.ZITUtils.writeDebug("sendClickData DNT datatracking disabled.");else{var p=n.ZITFunctions.retrieveDeviceType(),w=n.ZITFunctions.retrieveVisitorType(),a="",v=h;c&&(y=n.ZITFunctions.host(),a=n.ZITUtils.jsencrypt(y,"{ refer: "+h+", text:"+c+"}"),v=n.location.href);l={apiKey:t,action:i,origId:r,external:1,pid:e,cid:o,wid:s,extData:a,referal:v,cursession:f,vtype:w,dtype:p};n.ZITUtils.writeDebug("calling click data tracking "+JSON.stringify(l));n.ZITUtils.xdr(u.getDataTrackingScript(e),"POST",JSON.stringify(l),function(t){var i=JSON.parse(t);i&&i.Result==0?n.ZITUtils.writeDebug("successful "+i.origId):n.ZITUtils.writeDebug("data tracking re: "+i.origId)},function(t){n.ZITUtils.writeDebug("error: "+t)})}},sendGAPGData:function(t,i){var r;if(n.ZITFunctions.isDNT==1)n.ZITUtils.writeDebug("sendGAPGData DNT datatracking disabled.");else if(n.ZITFunctions.gaEnabled){if(r=n.ZITUtils.readCookie("_sxo"),r){var f=JSON.parse(r),u=f.accNo,e=f.bid;n.ga&&ga.create||function(n,t,i,r,u,f,e){n.GoogleAnalyticsObject=u;n[u]=n[u]||function(){(n[u].q=n[u].q||[]).push(arguments)};n[u].l=1*new Date;f=t.createElement(i);e=t.getElementsByTagName(i)[0];f.async=1;f.src=r;e.parentNode.insertBefore(f,e)}(n,document,"script","https://www.google-analytics.com/analytics.js","ga");u!=""&&ga&&(ga("create",u,"auto"),ga(function(t){n.ZITUtils.writeDebug("New tracker created Acc:"+u+" Name:"+t.get("name"))}),typeof i!="undefined"?ga("send","pageview",{dimension1:e,dimension2:t,dimension3:i}):ga("send","pageview",{dimension1:e,dimension2:t}))}}else console.log("GAPG disabled!")},sendGAData:function(t,i,r,u,f,e){if(n.ZITFunctions.isDNT==1)n.ZITUtils.writeDebug("sendGAData DNT datatracking disabled.");else try{var o=n.ZITUtils.readCookie("_sxo");o&&typeof n.SubxClientEvents.sendDataEvent!="undefined"?(n.ZITUtils.writeDebug("ZITsendGAData:"+t+"#"+i+"#"+r+"#"+u+"#"+f+"#"+n.ZITFunctions.brandId+"#"+e),n.SubxClientEvents.sendDataEvent(t,i,r,n.ZITFunctions.brandId,e)):n.ZITUtils.writeDebug("Skip tracking for no cookie object found or not Heart brands")}catch(s){n.ZITFunctions.sendRaygunData(s,"Error in sendGAData")}},sendRaygunData:function(t,i){!function(n,t,i,r,u,f,e,o){n.RaygunObject=u;n[u]=n[u]||function(){(n[u].o=n[u].o||[]).push(arguments)};f=t.createElement(i);e=t.getElementsByTagName(i)[0];f.async=1;f.src=r;e.parentNode.insertBefore(f,e);o=n.onerror;n.onerror=function(t,i,r,f,e){o&&o(t,i,r,f,e);e||(e=new Error(t));n[u].q=n[u].q||[];n[u].q.push({e:e})}}(n,document,"script","//cdn.raygun.io/raygun4js/raygun.min.js","rg4js");rg4js("apiKey","LRAN3VFUmhiYmftvwrsDcw");rg4js("options",{wrapAsynchronousCallbacks:!1,debugMode:!0,ignore3rdPartyErrors:!1,disableErrorTracking:!1,disablePulse:!0,pulseMaxVirtualPageDuration:18e5,pulseIgnoreUrlCasing:!1,automaticPerformanceCustomTimings:!1});var r=n.ZITUtils.readCookie("_sue")||"",u=!0;r&&r!=""&&(u=!1);rg4js("setUser",{identifier:n.ZITFunctions.retrieveOrigSession(),isAnonymous:u});rg4js("send",{error:t,tags:[i]})},sendDataLayer:function(t,i,r){var f,u;if(n.ZITFunctions.isDNT==1)n.ZITUtils.writeDebug("sendDataLayer DNT datatracking disabled.");else if(n.ZITFunctions.dlEnabled)try{n.ZITUtils.writeDebug("push to dataLayer "+t);n.dataLayer?(n.ZITFunctions.InitiateDataLayer(),typeof n.ZITFunctions.curDataLayer!="undefined"?(f=n.ZITFunctions.retrieveOrigSession(),n.ZITFunctions.curDataLayer.event=t,n.ZITFunctions.curDataLayer.sxId=f,u={sxCn:r,sxId:n.ZITFunctions.curDataLayer.sxId,sxCid:i,sxTid:n.ZITFunctions.curDataLayer.sxTid,event:n.ZITFunctions.curDataLayer.event,sxTg:-1},u.sxTg=n.ZITFunctions.retrieveNBA(),t=="subx-pageview"&&typeof n.ZITFunctions.curDataLayer.sxTid!="undefined"&&n.ZITFunctions.curDataLayer.sxTid!=""?(u.sxCid=0,u.sxTid=n.ZITFunctions.curDataLayer.sxTid.split(",")):u.sxTid=(t=="subx-completion"||t=="subx-impression")&&typeof n.ZITFunctions.curDataLayer.sxTid!="undefined"&&n.ZITFunctions.curDataLayer.sxTid!=""?n.ZITFunctions.curDataLayer.sxTid.split(","):[],n.ZITUtils.writeDebug(t+" "+JSON.stringify(u)),n.dataLayer.push(u)):n.ZITUtils.writeDebug("dataLayer is undefined")):n.ZITUtils.writeDebug("window.dataLayer is undefined")}catch(e){n.ZITFunctions.sendRaygunData(e,"Error in sending to datalayer V2")}else console.log("Send to DataLayer is disabled")},findValueFromDataLayer:function(t){try{var r;for(i in n.google_tag_manager)typeof n.google_tag_manager[i]=="object"&&n.google_tag_manager[i].gtmDom&&(r=i);if(typeof n.google_tag_manager!="undefined")for(i in n[r])if(n[r]&&n[r][i]&&n[r][i][t])return n[r][i][t]}catch(u){n.ZITFunctions.sendRaygunData(u,"Error in findValueFromDataLayerV5")}return""},findFromDataLayer:function(t,r){var u;try{for(i in n.google_tag_manager)typeof n.google_tag_manager[i]=="object"&&n.google_tag_manager[i].gtmDom&&(u=i);if(typeof n.google_tag_manager!="undefined")for(i in n[u])if(r&&r!=""){if(n[u][i][t]&&n[u][i][t]==r)return i}else if(n[u][i][t])return i}catch(f){n.ZITFunctions.sendRaygunData(f,"Error in findFromDataLayerV5")}return-1},readFromCookie:function(t){try{if(typeof t!="undefined"&&t!=""){var r=t.split(","),i=0;r.length>0&&r.forEach(function(t){if(t!=""){var u=n.ZITUtils.readCookie(t),r=i==0?"":i;n.ZITFunctions.cookieValue+="&fName"+r+"="+t+"&fValue"+r+"="+encodeURIComponent(u);i=i+1}})}}catch(u){n.ZITFunctions.sendRaygunData(u,"Error in readFromCookie")}},updateIdentityfromQS:function(t){var i=t.split(",");i.length>0&&i.forEach(function(t){var i,u,r;t!=""&&(i=0,t.startsWith("E_")?i=1:t.startsWith("S_")?i=2:t.startsWith("R_")?i=3:t.startsWith("M_")&&(i=4),u=!1,r="",i>0&&(t=t.substring(2,t.length),n.ZITUtils.writeDebug(t),r=n.location.href,r&&r.indexOf(t)>=0&&(u=!0),u&&(i==1?n.ZITFunctions.setEmailAud():i==2?n.ZITFunctions.setSubscriberAud(1):i==3?n.ZITFunctions.setRegAud():i==4&&n.ZITFunctions.setMembership()),n.ZITUtils.writeDebug(" ToUpdate:"+u+" "+i+" "+t+" "+r)))})},updateIdentityfromLS:function(t){if(localStorage){var i=t.split(",");i.length>0&&i.forEach(function(t){var i,u,r,f;t!=""&&(i=0,t.startsWith("E_")?i=1:t.startsWith("S_")?i=2:t.startsWith("R_")?i=3:t.startsWith("M_")&&(i=4),u=!1,r="",i>0&&(t=t.substring(2,t.length),n.ZITUtils.writeDebug(t),f=t.split("="),f.length>1?(r=localStorage.getItem(f[0]),r&&r.indexOf(f[1])>0&&(u=!0)):(r=localStorage.getItem(t),typeof r!="undefined"&&r!=null&&(u=!0)),u&&(i==1?n.ZITFunctions.setEmailAud():i==2?n.ZITFunctions.setSubscriberAud(1):i==3?n.ZITFunctions.setRegAud():i==4&&n.ZITFunctions.setMembership()),n.ZITUtils.writeDebug(" ToUpdate:"+u+" "+i+" "+t+" "+r)))})}},updateIdentityfromDL:function(t){var i=t.split(",");i.length>0&&i.forEach(function(t){var i,u,f,r;t!=""&&(i=0,t.startsWith("E_")?i=1:t.startsWith("S_")?i=2:t.startsWith("R_")?i=3:t.startsWith("M_")&&(i=4),u=!1,r="",i>0&&(n.ZITUtils.writeDebug(t),t=t.substring(2,t.length),f=t.split("="),f.length>1?(r=n.ZITFunctions.findValueFromDataLayer(f[0]),r&&r.indexOf(f[1])>0&&(u=!0)):(r=n.ZITFunctions.findValueFromDataLayer(t),typeof r!="undefined"&&r!=null&&(u=!0)),u&&(i==1?n.ZITFunctions.setEmailAud():i==2?n.ZITFunctions.setSubscriberAud(1):i==3?n.ZITFunctions.setRegAud():i==4&&n.ZITFunctions.setMembership()),n.ZITUtils.writeDebug(" ToUpdate:"+u+" "+i+" "+t+" "+r)))})},updateIdentityfromCookie:function(t){var i=t.split(",");i.length>0&&i.forEach(function(t){var i,u,r,f;t!=""&&(i=0,t.startsWith("E_")?i=1:t.startsWith("S_")?i=2:t.startsWith("R_")?i=3:t.startsWith("M_")&&(i=4),u=!1,r="",i>0&&(t=t.substring(2,t.length),n.ZITUtils.writeDebug(t),f=t.split("="),f.length>1?(r=n.ZITUtils.readCookie(f[0]),r&&r.indexOf(f[1])>0&&(u=!0)):(r=n.ZITUtils.readCookie(t),typeof r!="undefined"&&r!=null&&(u=!0)),u&&(i==1?n.ZITFunctions.setEmailAud():i==2?n.ZITFunctions.setSubscriberAud(1):i==3?n.ZITFunctions.setRegAud():i==4&&n.ZITFunctions.setMembership()),n.ZITUtils.writeDebug(" ToUpdate:"+u+" "+i+" "+t+" "+r)))})},readFromStorage:function(){if(localStorage)try{if(typeof r.localSt!="undefined"&&r.localSt!=""){var i=r.localSt.split(","),t=0;i.length>0&&i.forEach(function(i){if(i!=""){var u=localStorage.getItem(i),r=t==0?"":t;n.ZITFunctions.localStorageValue+="&lName"+r+"="+i+"&lValue"+r+"="+encodeURIComponent(u);t=t+1}})}}catch(u){n.ZITFunctions.sendRaygunData(u,"Error in readFromStorage")}else n.ZITFunctions.sendRaygunData(new Error("Local Storage is not supported."),"Error in readFromStorage")}};n.dataLayer=n.dataLayer||[];n["ZIT.Functions"]=n.ZITFunctions;n["ZIT.Utils"]=n.ZITUtils;n.ZITFunctions.brandId=1074;var c=n.ZITUtils.readCookie("zit.data.toexclude"),l=0,s=0,it=!0,e=!1,a=0,rt=!1,b=(new Date).getTime();if(n.SubxSetting==null&&(n.SubxSettings.forEach(function(t){n.location.href.indexOf(t.WidgetDomain)>=0&&t.isPath&&(n.SubxSetting=t,n.ZITFunctions.brandId=t.brandId)}),n.SubxSetting==null&&n.SubxSettings.forEach(function(t){n.location.href.indexOf(t.WidgetDomain)>=0&&!t.isPath&&(n.SubxSetting=t,n.ZITFunctions.brandId=t.brandId)})),n.SubxSetting==null){console.log("No brand setting is retrieved.");return}n.SubxSetting.isPath&&(k=n.SubxSetting.WidgetDomain,n.location.href.indexOf(k)<0?(n.ZITFunctions.brandId=1074,e=!0,n.ZITUtils.writeDebug("Not target Path "+n.ZITFunctions.brandId),d=n.ZITloader.getQueryString("origSession")||"",d!=""&&(r=n.ZITFunctions.InitiateTrackingData(),r.oS=d,n.ZITFunctions.saveTrackingDataToSxo(r))):n.ZITUtils.writeDebug("Target Path match "+n.ZITFunctions.brandId+" "+k+" "+n.location.href));n.ZITUtils.writeDebug("brandId retrieved "+n.ZITFunctions.brandId);typeof n.SubxDNT!="undefined"&&n.SubxDNT==1?(console.log("DNT mode has been detected."),n.ZITFunctions.isDNT=1):console.log("Normal mode has been detected.");c||(n.ZITUtils.createCookieinDetails("zit.data.toexclude",0,365,0,0,0),c=n.ZITUtils.readCookie("zit.data.toexclude"));!c&&n.ZITFunctions.host().indexOf(".zeddit.com")>=0&&(c="0",n.ZITUtils.writeDebug("approved by domain "+n.ZITFunctions.host()),it=!1);y=n.ZITUtils.readCookie("__adblocker");y==null||typeof y=="undefined"?n.ZITloader.checkAdBlock():console.log("adBlocker already checked:"+y);e=c&&c=="0"&&!e?!1:!0;n.ZITFunctions.brandId==0&&typeof n.SubxClientEvents!="undefined"&&(console.log("SubxTech: unsupported domain."),e=!0);e?n.ZITUtils.writeDebug("cookie disabled, canvas is disabled"):(typeof n.JOURNEY_INFO=="undefined"&&(n.JOURNEY_INFO={status:"pending"},typeof n.SubxClientEvents!="undefined"&&typeof n.SubxClientEvents.sendCustomizedEvent!="undefined"&&n.SubxClientEvents.sendCustomizedEvent("journey-info",n.JOURNEY_INFO),console.log("window.Journey_Info created to "+JSON.stringify(n.JOURNEY_INFO))),n.SubxClientEvents&&typeof n.SubxClientEvents.AddCustomizedEventListener!="undefined"&&n.SubxClientEvents.AddCustomizedEventListener(),it?(r=n.ZITFunctions.InitiateTrackingData(),r.oS!=""&&r.oS!=null&&n.SubxClientEvents&&typeof n.SubxClientEvents.sendOrigSessionUpdateEvent!="undefined"&&n.SubxClientEvents.sendOrigSessionUpdateEvent(r.oS,null),o=n.ZITFunctions.retrieveSFOTrackingData(),r.oS==""&&o&&o.origSession!=""&&(r.oS=o.origSession,r.RA=o.readArticle,n.ZITFunctions.saveTrackingDataToSxo(r)),n.ViewerLoader.isFirstRegWall=o.hideNomralCanvasOnFirstReg&&o.hideNomralCanvasOnFirstReg==1?1:0,o&&o.hascanvas==1&&n.ZITloader.loadDependencies(u.getJqueryScript()).then(function(){n.ZITloader.loadDependencies(u.getNewCanvasScript(0)).then(function(){n.ZITloader.loadDependencies(u.getFormValidationScript()).then(function(){n.ZITloader.loadDependencies(u.getCryptoScript()).then(function(){n.ZITloader.loadDependencies(u.getNewCanvasPostScript(0)).then(function(){n.ZITloader.loadDependencies(u.getJqueryIdletimerScript()).then(function(){o.isReCaptchaOn?(n.SubxClientEvents.hasRecaptcha=!0,n.dispatchEvent(new CustomEvent("addRecaptcha",{})),n.ZITloader.loadDependencies(u.getRecaptchaAPIScript(o.reCaptchaSiteKey)).then(function(){setTimeout(n.ZITloader.initContainer(o.isReCaptureOn,o.reCaptchaSiteKey,o.reCaptchaSecretKey),250)})):setTimeout(n.ZITloader.initContainer(o.isReCaptureOn,o.reCaptchaSiteKey,o.reCaptchaSecretKey),250)})})})})})}),g=n.ZITloader.getQueryString("code")||"",g!=""&&(nt=n.ZITloader.getQueryString("state")||"",n.ZITFunctions.retrieveOrigSession()==nt?(n.ZITFunctions.setRegAud(),n.ZITUtils.createCookieinDetails("_sue",g,365,0,0,0),n.location.href=n.ZITFunctions.retrieveRetUrl()):console.log("Invalid register status "+nt+" "+n.ZITFunctions.retrieveOrigSession())),n.ZITFunctions.InitiateDataLayer(),r.accNo=n.SubxSetting.GAAccount,n.ZITFunctions.brandId=n.SubxSetting.brandId,r.bid=n.SubxSetting.brandId,r.isReCaptchaOn=n.SubxSetting.isReCaptchaOn,r.isReCaptchaOn?(r.reCaptchaSiteKey=n.ZITUtils.encrypt(n.SubxSetting.reCaptchaSiteKey),r.reCaptchaSecretKey=n.ZITUtils.encrypt(n.SubxSetting.reCaptchaSecretKey)):(r.reCaptchaSiteKey="",r.reCaptchaSecretKey=""),n.ZITFunctions.categoryNo=parseInt(n.SubxSetting.categoryUrlNo),n.ZITFunctions.apiKey=n.SubxSetting.ApiKey,n.SubxSetting.PreHtmlCode!=""&&(p=document.createElement("div"),p.id="subxCodeContainer",p.innerHTML=n.SubxSetting.PreHtmlCode,document.body.insertAdjacentElement("afterbegin",p)),n.ZITFunctions&&n.SubxSetting.GTMTag&&n.SubxSetting.GTMTag!=""?(n.ZITFunctions.dlEnabled=!0,n.ZITFunctions.dataLayer=1,r.GTMTag=n.SubxSetting.GTMTag,n.ZITFunctions.dataLayerName=n.SubxSetting.GTMTag,typeof n.SubxSetting.DLIdentity!="undefined"&&n.SubxSetting.DLIdentity!=""&&n.ZITFunctions.updateIdentityfromDL(n.SubxSetting.DLIdentity)):(n.ZITFunctions.isAnalysisProcessed=!0,console.log("ZITFunctions not exits or GTMTag is empty")),typeof n.SubxSetting.ckIdentity!="undefined"&&n.SubxSetting.ckIdentity!=""&&n.ZITFunctions.updateIdentityfromCookie(n.SubxSetting.ckIdentity),typeof n.SubxSetting.lsIdentity!="undefined"&&n.SubxSetting.lsIdentity!=""&&n.ZITFunctions.updateIdentityfromLS(n.SubxSetting.lsIdentity),typeof n.SubxSetting.qsIdentity!="undefined"&&n.SubxSetting.qsIdentity!=""&&n.ZITFunctions.updateIdentityfromQS(n.SubxSetting.qsIdentity),n.ZITFunctions.saveTrackingDataToSxo(r),n.ZITloader.getDataWallTiming()):(w=n.ZITloader.getQueryString("dtId"),w!=null&&w!=""&&r.oS==""&&n.ZITFunctions.updateOrigSession(w),n.ZITFunctions.curSession="",n.ZITFunctions.brandId=n.ZITloader.getQueryString("pid"),n.ZITUtils.writeDebug("Initial tracking data "+n.ZITFunctions.brandId)),n.SubxClientEvents.InitiateEvents())})(window);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      or while checking user browser!",e)}}function S(e){try{var t={Data:e},n=JSON.stringify(t);(0,o.logInfo)("ATS Analytics - tried to send analytics data!"),(0,l.hj)("https://analytics.rlcdn.com",(function(){(0,o.logInfo)("ATS Analytics - events sent successfully!")}),n,{method:"POST",contentType:"application/json"})}catch(e){(0,o.logError)("ATS Analytics - request encounter an error: ",e)}}var b=Object.assign((0,r.ZP)({analyticsType:"endpoint"}),{track:function(e){var t=e.eventType,n=e.args;void 0!==n&&b.callHandler(t,n)}});b.originEnableAnalytics=b.enableAnalytics,b.shouldFireRequest=function(e){if(0!==e){var t=100===Math.floor(100*Math.random()+1);return(0,o.logInfo)("ATS Analytics - Should Fire Request: ",t),t}return(0,o.logInfo)("ATS Analytics - Should Fire Request: ",!1),!1},b.getUserAgent=function(){return window.navigator.userAgent},b.setSamplingCookie=function(e){var t=new Date;t.setTime(t.getTime()+864e5),m.setCookie("_lr_sampling_rate",e,t.toUTCString())},b.enableAnalytics=function(e){if(e.options.pid){b.context={events:[],pid:e.options.pid,bidWonTimeout:e.options.bidWonTimeout};var t=e.options;(0,o.logInfo)("ATS Analytics - adapter enabled! "),b.originEnableAnalytics(t)}else(0,o.logError)("ATS Analytics - Publisher ID (pid) option is not defined. Analytics won't work")},b.callHandler=function(e,t){if(e===a.FP.BID_REQUESTED?p=p.concat(function(e){var t="true"===m.getCookie("_lr_env_src_ats");return e.bids.map((function(n){return{envelope_source:t,has_envelope:!!n.userId&&!!n.userId.idl_env,bidder:n.bidder,bid_id:n.bidId,auction_id:e.auctionId,user_browser:A(),user_platform:navigator.platform,auction_start:new Date(e.auctionStart).toJSON(),domain:window.location.hostname,pid:b.context.pid,adapter_version:3,bid_won:!1}}))}(t)):e===a.FP.BID_RESPONSE&&f.push(function(e){return{bid_id:e.requestId,response_time_stamp:new Date(e.responseTimestamp).toJSON(),currency:e.currency,cpm:e.cpm,net_revenue:e.netRevenue}}(t)),e===a.FP.AUCTION_END){var n=b.context.bidWonTimeout?b.context.bidWonTimeout:2e3,r=[];setTimeout((function(){var e=(0,i.R)().getAllWinningBids();if((0,o.logInfo)("ATS Analytics - winning bids: ",e),p.length){var t={};f.length?(r=p.filter((function(e){return f.filter((function(t){e.bid_id===t.bid_id&&Object.assign(e,t)}))})),e.length&&(r=r.filter((function(n){return e.filter((function(e){t.bid_id=e.requestId,t.bid_won=!0,n.bid_id===t.bid_id&&Object.assign(n,t)}))})))):r=p;try{var n=m.getCookie("_lr_sampling_rate");n?b.shouldFireRequest(parseInt(n))&&((0,o.logInfo)("ATS Analytics - events to send: ",r),S(r)):function(e){(0,o.logInfo)("ATS Analytics - preflight request!"),(0,l.hj)("https://check.analytics.rlcdn.com/check/"+b.context.pid,{success:function(t){var n=JSON.parse(t);(0,o.logInfo)("ATS Analytics - Sampling Rate: ",n);var i=n.samplingRate;b.setSamplingCookie(i);var r=Number(i);t&&i&&b.shouldFireRequest(r)&&((0,o.logInfo)("ATS Analytics - events to send: ",e),S(e))},error:function(){b.setSamplingCookie(0),(0,o.logInfo)("ATS Analytics - Sampling Rate Request Error!")}},void 0,{method:"GET",crossOrigin:!0})}(r),r=[]}catch(e){(0,o.logError)("ATS Analytics - preflight request encounter an error: ",e)}}}),n)}},s.ZP.registerAnalyticsAdapter({adapter:b,code:u,gvlid:97});(0,i.z)("atsAnalyticsAdapter")}},function(e){e.O(0,[14861],(function(){return t=45813,e(e.s=t);var t}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[86190],{34292:function(A,B,I){I.d(B,{m:function(){return n}});var n={1:"IAB20-3",2:"IAB18-5",3:"IAB10-1",4:"IAB2-3",5:"IAB19-8",6:"IAB22-1",7:"IAB18-1",8:"IAB12-3",9:"IAB5-1",10:"IAB4-5",11:"IAB13-4",12:"IAB8-7",13:"IAB9-7",14:"IAB7-1",15:"IAB20-18",16:"IAB10-7",17:"IAB19-18",18:"IAB13-6",19:"IAB18-4",20:"IAB1-5",21:"IAB1-6",22:"IAB3-4",23:"IAB19-13",24:"IAB22-2",25:"IAB3-9",26:"IAB17-18",27:"IAB19-6",28:"IAB1-7",29:"IAB9-30",30:"IAB20-7",31:"IAB20-17",32:"IAB7-32",33:"IAB16-5",34:"IAB19-34",35:"IAB11-5",36:"IAB12-3",37:"IAB11-4",38:"IAB12-3",39:"IAB9-30",41:"IAB7-44",42:"IAB7-1",43:"IAB7-30",50:"IAB19-30",51:"IAB17-12",52:"IAB19-30",53:"IAB3-1",55:"IAB13-2",56:"IAB19-30",57:"IAB19-30",58:"IAB7-39",59:"IAB22-1",60:"IAB7-39",61:"IAB21-3",62:"IAB5-1",63:"IAB12-3",64:"IAB20-18",65:"IAB11-2",66:"IAB17-18",67:"IAB9-9",68:"IAB9-5",69:"IAB7-44",71:"IAB22-3",73:"IAB19-30",74:"IAB8-5",78:"IAB22-1",85:"IAB12-2",86:"IAB22-3",87:"IAB11-3",112:"IAB7-32",113:"IAB7-32",114:"IAB7-32",115:"IAB7-32",118:"IAB9-5",119:"IAB9-5",120:"IAB9-5",121:"IAB9-5",122:"IAB9-5",123:"IAB9-5",124:"IAB9-5",125:"IAB9-5",126:"IAB9-5",127:"IAB22-1",132:"IAB1-2",133:"IAB19-30",137:"IAB3-9",138:"IAB19-3",140:"IAB2-3",141:"IAB2-1",142:"IAB2-3",143:"IAB17-13",166:"IAB11-4",175:"IAB3-1",176:"IAB13-4",182:"IAB8-9",183:"IAB3-5"}}}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[2284],{26296:function(n,u,e){function r(n,u){for(var e=[],r=0;r<Math.ceil(n.length/u);r++){var s=r*u,t=s+u;e.push(n.slice(s,t))}return e}e.d(u,{y:function(){return r}})}}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[17968],{52712:function(n,t,r){r.d(t,{b6:function(){return p},kX:function(){return f},m1:function(){return s},sM:function(){return u}});var e=r(4942),a=r(93324),c=r(89062),o=r(68792);function i(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.push.apply(r,e)}return r}function l(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,e.Z)(n,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))}))}return n}var u=0,f=1,s=2;function p(n){var t=n.apiName,r=n.apiVersion,i=n.apiArgs,p=void 0===i?["command","callback","parameter","version"]:i,v=n.callbackArgs,b=void 0===v?["returnValue","success"]:v,d=n.mode,O=void 0===d?u:d,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,g={},m="".concat(t,"Call"),j="".concat(t,"Return");function k(n){var t,r="string"==typeof n.data&&n.data.includes(j)?JSON.parse(n.data):n.data;if(null!=r&&null!==(t=r[j])&&void 0!==t&&t.callId){var e=r[j];g.hasOwnProperty(e.callId)&&g[e.callId].apply(g,(0,c.Z)(b.map((function(n){return e[n]}))))}}function h(){for(var n,r=y,e=!1;null!=r;){try{if("function"==typeof r[t]){n=r,e=!0;break}}catch(n){}try{if(r.frames["".concat(t,"Locator")]){n=r;break}}catch(n){}if(r===y.top)break;r=r.parent}return[n,e]}var w,P=h(),Z=(0,a.Z)(P,2),D=Z[0],E=Z[1];if(D)return E?w=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new o.Z((function(r,e){var o=D[t].apply(D,(0,c.Z)(I(l(l({},n),{},{callback:n.callback||O===s?S(n.callback,r,e):void 0})).map((function(n){var t=(0,a.Z)(n,2);t[0];return t[1]}))));(O===f||null==n.callback&&O===u)&&r(o)}))}:(y.addEventListener("message",k,!1),w=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new o.Z((function(r,c){var o=Math.random().toString(),i=(0,e.Z)({},m,l(l({},Object.fromEntries(I(n).filter((function(n){return"callback"!==(0,a.Z)(n,1)[0]})))),{},{callId:o}));g[o]=S(null==n?void 0:n.callback,r,c,(t||null==(null==n?void 0:n.callback))&&function(){delete g[o]}),D.postMessage(i,"*"),O===f&&r()}))}),Object.assign(w,{isDirect:E,close:function(){!E&&y.removeEventListener("message",k)}});function I(n){return n=Object.assign({version:r},n),p.map((function(t){return[t,n[t]]}))}function S(n,t,r,e){var a="function"==typeof n;return function(c,o){if(e&&e(),O!==f){var i=null==o||o?t:r;i(a?void 0:c)}a&&n.apply(this,arguments)}}}}}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[53188],{73109:function(e,n,t){var r=t(71002),o=t(78640),a=t(64358),i=t(20265),d=t(14699),s=t(15164),u=t(17673),p="concert",l={code:p,isBidRequestValid:function(e){return!!e.params.partnerId||((0,a.logWarn)("Missing partnerId bid parameter"),!1)},buildRequests:function(e,n){var t,r;(0,a.logMessage)(e),(0,a.logMessage)(n);var o=[],i={meta:{prebidVersion:"8.18.0",pageUrl:n.refererInfo.page,screen:[window.screen.width,window.screen.height].join("x"),browserLanguage:window.navigator.language,debug:(0,a.debugTurnedOn)(),uid:c(n,e),optedOut:f(),adapterVersion:"1.2.0",uspConsent:n.uspConsent,gdprConsent:n.gdprConsent,gppConsent:n.gppConsent,tdid:m(n,e)}};return!i.meta.gppConsent&&null!==(t=n.ortb2)&&void 0!==t&&null!==(r=t.regs)&&void 0!==r&&r.gpp&&(i.meta.gppConsent={gppString:n.ortb2.regs.gpp,applicableSections:n.ortb2.regs.gpp_sid}),i.slots=e.map((function(e){var t,r;!function(e,n){if(n.userId){var t=function(e,n,t,r){if(e){var o={id:e,atype:r};return t&&(o.ext=t),{source:n,uids:[o]}}}(n.userId.uid2&&n.userId.uid2.id,"uidapi.com",void 0,3);e.push(t)}}(o,e);var a=function(e){if(e){var n=e.getBoundingClientRect();return{left:n.left+window.scrollX,top:n.top+window.scrollY}}}(document.getElementById(e.adUnitCode));return{name:e.adUnitCode,bidId:e.bidId,transactionId:null===(t=e.ortb2Imp)||void 0===t||null===(r=t.ext)||void 0===r?void 0:r.tid,sizes:e.params.sizes||e.sizes,partnerId:e.params.partnerId,slotType:e.params.slotType,adSlot:e.params.slot||e.adUnitCode,placementId:e.params.placementId||"",site:e.params.site||n.refererInfo.page,ref:n.refererInfo.ref,offsetCoordinates:{x:null==a?void 0:a.left,y:null==a?void 0:a.top}}})),i.meta.eids=o.filter(Boolean),(0,a.logMessage)(i),{method:"POST",url:"".concat("https://bids.concert.io","/bids/prebid"),data:JSON.stringify(i)}},interpretResponse:function(e,n){(0,a.logMessage)(e),(0,a.logMessage)(n);var t=e.body;if(!t||"object"!==(0,r.Z)(t))return[];var o;return o=t.bids.map((function(e){return{requestId:e.bidId,cpm:e.cpm,width:e.width,height:e.height,ad:e.ad,ttl:e.ttl,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]},creativeId:e.creativeId,netRevenue:e.netRevenue,currency:e.currency}})),(0,a.debugTurnedOn)()&&t.debug&&(0,a.logMessage)("CONCERT",t.debug),(0,a.logMessage)(o),o},onTimeout:function(e){(0,a.logMessage)("concert bidder timed out"),(0,a.logMessage)(e)},onBidWon:function(e){(0,a.logMessage)("concert bidder won bid"),(0,a.logMessage)(e)}};(0,d.dX)(l);var g=(0,s.df)({bidderCode:p});function c(e,n){if(f()||!v(e))return!1;var t=(0,i.Z)(n[0],"userId.sharedid.id")||(0,i.Z)(n[0],"userId.pubcid"),r=(0,i.Z)(n[0],"crumbs.pubcid");if(t)return t;if(r)return r;var o="c_uid",d="vmconcert_uid",s=g.getDataFromLocalStorage(o),u=g.getDataFromLocalStorage(d);return s&&(u=s,g.setDataInLocalStorage(d,u),g.removeDataFromLocalStorage(o)),u||(u=(0,a.generateUUID)(),g.setDataInLocalStorage(d,u)),u}function f(){return"true"===g.getDataFromLocalStorage("c_nap")}function v(e){var n=!0;"string"==typeof(null==e?void 0:e.uspConsent)&&"1"===(null==e?void 0:e.uspConsent[0])&&"Y"===(null==e?void 0:e.uspConsent[2].toUpperCase())&&(n=!1);var t=(0,u.h)(null==e?void 0:e.gdprConsent);return n&&t}function m(e,n){return f()||!v(e)?null:(0,i.Z)(n[0],"userId.tdid")||null}(0,o.z)("concertBidAdapter")},17673:function(e,n,t){t.d(n,{h:function(){return o}});var r=t(20265);function o(e){return null==e||!e.gdprApplies||!0===(0,r.Z)(e,"vendorData.purpose.consents.1")}}},function(e){var n;n=73109,e(e.s=n)}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[21266],{55630:function(n,e,t){var o,r,i,a,c,s,u=t(71002),l=t(78640),f=t(64358),d=t(96475),p=t(3193),g=t(34516),m=t(34614),v=t(99128),b=t(26372),y=t(54078),C=t(52712),P=!1,M={iab:function(n){var e=n.onSuccess,t=n.onError,o=n.onEvent;var r=(0,C.b6)({apiName:"__tcfapi",apiVersion:2,apiArgs:["command","version","callback","parameter"]});if(!r)return t("TCF2 CMP not found.");r.isDirect?(0,f.logInfo)("Detected CMP API is directly accessible, calling it now..."):(0,f.logInfo)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now...");r({command:"addEventListener",callback:function(n,r){(0,f.logInfo)("Received a response from CMP",n),r?(o(n),!1!==n.gdprApplies&&"tcloaded"!==n.eventStatus&&"useractioncomplete"!==n.eventStatus||A(n,{onSuccess:e,onError:t})):t("CMP unable to register callback function.  Please check CMP setup.")}})},static:function(n){var e=n.onSuccess,t=n.onError;A(a,{onSuccess:e,onError:t})}};function S(n){var e,t,i=!1,a=null,s=!1;function u(n){null!=a&&clearTimeout(a),i||null==n||(0===n?e():a=setTimeout(e,n))}function l(e,t,o){if(u(null),i=!0,g.rp.setConsentData(e),"function"==typeof n){for(var r=arguments.length,a=new Array(r>3?r-3:0),c=3;c<r;c++)a[c-3]=arguments[c];n.apply(void 0,[t,o].concat(a))}}if((0,m.q9)(Object.keys(M),o)){var f={onSuccess:function(n){return l(n,!1)},onError:function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];l.apply(void 0,[null,!0,n].concat(t))},onEvent:function(n){t=n,s||(s=!0,null!=c&&u(c))}};e=function(){var n=function(n){l(n,!1,"".concat(s?"Timeout waiting for user action on CMP":"CMP did not load",", continuing auction..."))};A(t,{onSuccess:n,onError:function(){return n(w(void 0))}})},M[o](f),null!=c&&s||u(r)}else l(null,!1,"CMP framework (".concat(o,") is not a supported framework.  Aborting consentManagement module and resuming auction."))}var h=(0,v.g3)("gdpr",(function(n,e){var t;t=function(t,o){if(o){var r=f.logWarn;t&&(r=f.logError,o="".concat(o," Canceling auction as per consentManagement config."));for(var i=arguments.length,a=new Array(i>2?i-2:0),c=2;c<i;c++)a[c-2]=arguments[c];r.apply(void 0,[o].concat(a))}t?(n.stopTiming(),"function"==typeof e.bidsBackHandler?e.bidsBackHandler():(0,f.logError)("Error executing bidsBackHandler")):n.call(this,e)},s?((0,f.logInfo)("User consent information already known.  Pulling internally stored information..."),t(!1)):S(t)}));function A(n,e){var t,o,r=e.onSuccess,a=e.onError;t=n&&"boolean"==typeof n.gdprApplies?n.gdprApplies:i,o=n&&n.tcString,"boolean"==typeof t&&(!0!==t||o&&(0,f.isStr)(o))?r(w(n)):a("CMP returned unexpected value during lookup process.",n)}function w(n){return s={consentString:n?n.tcString:void 0,vendorData:n||void 0,gdprApplies:n&&"boolean"==typeof n.gdprApplies?n.gdprApplies:i},n&&n.addtlConsent&&(0,f.isStr)(n.addtlConsent)&&(s.addtlConsent=n.addtlConsent),s.apiVersion=2,s}p.vc.getConfig("consentManagement",(function(n){return function(n){if((n=n&&(n.gdpr||n.usp||n.gpp?n.gdpr:n))&&"object"===(0,u.Z)(n)){var e;(0,f.isStr)(n.cmpApi)?o=n.cmpApi:(o="iab",(0,f.logInfo)("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),(0,f.isNumber)(n.timeout)?r=n.timeout:(r=1e4,(0,f.logInfo)("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),c=(0,f.isNumber)(n.actionTimeout)?n.actionTimeout:null,i=!0===n.defaultGdprScope,(0,f.logInfo)("consentManagement module has been activated..."),"static"===o&&((0,f.isPlainObject)(n.consentData)?(null!=(null===(e=a=n.consentData)||void 0===e?void 0:e.getTCData)&&(a=a.getTCData),r=0):(0,f.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),P||(0,l.R)().requestBids.before(h,50),P=!0,g.rp.enable(),S()}else(0,f.logWarn)("consentManagement (gdpr) config not defined, exiting consent manager")}(n.consentManagement)})),y.S.before((function(n,e){return n(e.then((function(n){var e=g.rp.getConsentData();return e&&("boolean"==typeof e.gdprApplies&&(0,d.N)(n,"regs.ext.gdpr",e.gdprApplies?1:0),(0,d.N)(n,"user.ext.consent",e.consentString)),n})))})),(0,b.f8)({type:b.Z,name:"gdprAddtlConsent",fn:function(n,e){var t,o=null===(t=e.gdprConsent)||void 0===t?void 0:t.addtlConsent;o&&"string"==typeof o&&(0,d.N)(n,"user.ext.ConsentedProvidersSettings.consented_providers",o)}}),(0,l.z)("consentManagement")},26372:function(n,e,t){t.d(e,{DZ:function(){return a},Px:function(){return c},TP:function(){return u},YC:function(){return s},Z:function(){return i},f8:function(){return g},fP:function(){return m},gm:function(){return o},md:function(){return l}});var o=["request","imp","bidResponse","response"],r=["default","pbs"],i=o[0],a=o[1],c=o[2],s=o[3],u=r[0],l=r[1],f=new Set(o);var d,p=(d={},{registerOrtbProcessor:function(n){var e=n.type,t=n.name,r=n.fn,i=n.priority,a=void 0===i?0:i,c=n.dialects,s=void 0===c?[u]:c;if(!f.has(e))throw new Error("ORTB processor type must be one of: ".concat(o.join(", ")));s.forEach((function(n){d.hasOwnProperty(n)||(d[n]={}),d[n].hasOwnProperty(e)||(d[n][e]={}),d[n][e][t]={priority:a,fn:r}}))},getProcessors:function(n){return d[n]||{}}}),g=p.registerOrtbProcessor,m=p.getProcessors}},function(n){n.O(0,[17968],(function(){return e=55630,n(n.s=e);var e}));n.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[69168],{30277:function(n,t,e){var r=e(71002),i=e(97326),o=e(60136),a=e(82963),c=e(61120);function u(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&null!==(n=(0,c.Z)(n)););return n}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(n,t,e){var r=u(n,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?n:e):i.value}},s.apply(this,arguments)}var l=e(93324),p=e(4942),f=e(18916),g=e(43144),d=e(15671),v=e(89062),h=e(78640),m=e(64358),y=e(96475),b=e(3193),P=e(34516),w=e(99128),S=e(54078),Z=e(52712),C=e(68792),O=e(16310);function k(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,r=(0,c.Z)(n);if(t){var i=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)}}function M(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function j(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?M(Object(e),!0).forEach((function(t){(0,p.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):M(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function E(n,t,e){!function(n,t){if(t.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n,t),t.set(n,e)}function T(n,t){var e=function(n,t,e){if(!t.has(n))throw new TypeError("attempted to "+e+" private field on non-instance");return t.get(n)}(n,t,"set");return function(n,t){if(t.set)return"__destrObj"in t||(t.__destrObj={set value(e){t.set.call(n,e)}}),t.__destrObj;if(!t.writable)throw new TypeError("attempted to set read only private field");return t}(n,e)}var D,I,R,G,N=!1;function A(n,t){var e=t.onSuccess,r=t.onError;new C.Z((function(t){return t(n())})).then(e,(function(n){n instanceof _?r.apply(void 0,[n.message].concat((0,v.Z)(n.args))):r("GPP error:",n)}))}var W="1.0",_=(0,g.Z)((function n(t,e){(0,d.Z)(this,n),this.message=t,this.args=null==e?[]:[e]})),z=new WeakMap,L=new WeakMap,U=new WeakMap,V=function(){function n(t,e){var r=this;(0,d.Z)(this,n),E(this,z,{writable:!0,value:void 0}),E(this,L,{writable:!0,value:void 0}),E(this,U,{writable:!0,value:[]}),(0,p.Z)(this,"initialized",!1),this.apiVersion=this.constructor.apiVersion,this.cmpVersion=e,this.cmp=e;var i=[0,1].map((function(n){return function(t){for(;(0,f.Z)(r,U).length;)(0,f.Z)(r,U).pop()[n](t)}})),o=(0,l.Z)(i,2);T(this,z).value=o[0],T(this,L).value=o[1]}return(0,g.Z)(n,[{key:"init",value:function(n){var t=this,e=this.updateWhenReady(n);return this.initialized||(this.initialized=!0,this.cmp({command:"addEventListener",callback:function(n,e){var r;null==e||e?"error"===(null==n||null===(r=n.pingData)||void 0===r?void 0:r.cmpStatus)?(0,f.Z)(t,L).call(t,new _('CMP status is "error"; please check CMP setup',n)):t.isCMPReady((null==n?void 0:n.pingData)||{})&&t.events.includes(null==n?void 0:n.eventName)&&(0,f.Z)(t,z).call(t,t.updateConsent(n.pingData)):(0,f.Z)(t,L).call(t,new _("Received error response from CMP",n))}})),e}},{key:"refresh",value:function(){return this.cmp({command:"ping"}).then(this.updateWhenReady.bind(this))}},{key:"updateConsent",value:function(n){return this.getGPPData(n).then((function(n){if(null==n||(0,m.isEmpty)(n))throw new _("Received empty response from CMP",n);return X(n)})).then((function(n){return(0,m.logInfo)("Retrieved GPP consent from CMP:",n),n}))}},{key:"nextUpdate",value:function(){var n=this;return new C.Z((function(t,e){(0,f.Z)(n,U).push([t,e])}))}},{key:"updateWhenReady",value:function(n){return this.isCMPReady(n)?this.updateConsent(n):this.nextUpdate()}}],[{key:"register",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.apiVersion=n,this.CLIENTS[n]=this,t&&(this.CLIENTS.default=this)}},{key:"init",value:function(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z.b6;return null==this.INST&&(this.INST=this.ping(t).catch((function(t){throw n.INST=null,t}))),this.INST.then((function(n){var t=(0,l.Z)(n,2),e=t[0],r=t[1];return[e,e.initialized?e.refresh():e.init(r)]}))}},{key:"ping",value:function(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z.b6,e={apiName:"__gpp",apiArgs:["command","callback","parameter"]},r=t(j(j({},e),{},{mode:Z.kX}));return new C.Z((function(i,o){if(null!=r){var a=!1,c=function(r,c){if(!a)if(null==c||c){if(null!=r){a=!0;var u=null==r?void 0:r.gppVersion,s=n.getClient(u);u!==s.apiVersion?(0,m.logWarn)("Unrecognized GPP CMP version: ".concat(u,". Continuing using GPP API version ").concat(s,"...")):(0,m.logInfo)("Using GPP version ".concat(u));var l=s.apiVersion===W?Z.sM:Z.m1,p=new s(u,t(j(j({},e),{},{mode:l})));i([p,r])}}else o(r)};r({command:"ping",callback:c}).then((function(n){return c(n,!0)}),o)}else o(new _("GPP CMP not found"))})).finally((function(){r&&r.close()}))}},{key:"getClient",value:function(n){return this.CLIENTS.hasOwnProperty(n)?this.CLIENTS[n]:this.CLIENTS.default}}]),n}();(0,p.Z)(V,"CLIENTS",{}),(0,p.Z)(V,"INST",void 0);var x=function(n){(0,o.Z)(e,n);var t=k(e);function e(){var n;(0,d.Z)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),(0,p.Z)((0,i.Z)(n),"events",["sectionChange","cmpStatus"]),n}return(0,g.Z)(e,[{key:"isCMPReady",value:function(n){return"loaded"===n.cmpStatus}},{key:"getGPPData",value:function(n){var t=this,e=C.Z.all((n.supportedAPIs||n.apiSupport||[]).map((function(n){return t.cmp({command:"getSection",parameter:n}).catch((function(t){(0,m.logWarn)("Could not retrieve GPP section '".concat(n,"'"),t)})).then((function(t){return[n,t]}))}))).then((function(n){return Object.fromEntries(n.filter((function(n){var t=(0,l.Z)(n,2);t[0];return null!=t[1]})).map((function(n){var t=(0,l.Z)(n,2),e=t[0],r=t[1],i=[Object.fromEntries(Object.entries(r).filter((function(n){return"Gpc"!==(0,l.Z)(n,1)[0]})))];return null!=r.Gpc&&i.push({SubsectionType:1,Gpc:r.Gpc}),[e,i]})))}));return C.Z.all([this.cmp({command:"getGPPData"}),e]).then((function(n){var t=(0,l.Z)(n,2),e=t[0],r=t[1];return Object.assign({},e,{parsedSections:r})}))}}]),e}(V);s((0,c.Z)(x),"register",x).call(x,W);var B=function(n){(0,o.Z)(e,n);var t=k(e);function e(){var n;(0,d.Z)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),(0,p.Z)((0,i.Z)(n),"events",["sectionChange","signalStatus"]),n}return(0,g.Z)(e,[{key:"isCMPReady",value:function(n){return"ready"===n.signalStatus}},{key:"getGPPData",value:function(n){return C.Z.resolve(n)}}]),e}(V);s((0,c.Z)(B),"register",B).call(B,"1.1",!0);var J={iab:function(n){var t=n.onSuccess,e=n.onError,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z.b6;A((function(){return V.init(r).then((function(n){var t=(0,l.Z)(n,2);t[0];return t[1]}))}),{onSuccess:t,onError:e})},static:function(n){return A((function(){return X(R)}),n)}};function H(n){var t=!1,e=null;function r(r,i,o){if(null!=e&&clearTimeout(e),t=!0,P.TJ.setConsentData(r),"function"==typeof n){for(var a=arguments.length,c=new Array(a>3?a-3:0),u=3;u<a;u++)c[u-3]=arguments[u];n.apply(void 0,[i,o].concat(c))}}if(J.hasOwnProperty(D)){var i={onSuccess:function(n){return r(n,!1)},onError:function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];r.apply(void 0,[null,!0,n].concat(e))}};if(J[D](i),!t){var o=function(){var n=function(n){r(n,!1,"GPP CMP did not load, continuing auction...")};A((function(){return X(G)}),{onSuccess:n,onError:function(){return n(F())}})};0===I?o():e=setTimeout(o,I)}}else r(null,!1,"GPP CMP framework (".concat(D,") is not a supported framework.  Aborting consentManagement module and resuming auction."))}var q=(0,w.g3)("gpp",(function(n,t){var e;e=function(e,r){if(r){var i=m.logWarn;e&&(i=m.logError,r="".concat(r," Canceling auction as per consentManagement config."));for(var o=arguments.length,a=new Array(o>2?o-2:0),c=2;c<o;c++)a[c-2]=arguments[c];i.apply(void 0,[r].concat(a))}e?(n.stopTiming(),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():(0,m.logError)("Error executing bidsBackHandler")):n.call(this,t)},G?((0,m.logInfo)("User consent information already known.  Pulling internally stored information..."),e(!1)):H(e)}));function X(n){if(null!=(null==n?void 0:n.applicableSections)&&!Array.isArray(n.applicableSections)||null!=(null==n?void 0:n.gppString)&&!(0,m.isStr)(n.gppString)||null!=(null==n?void 0:n.parsedSections)&&!(0,m.isPlainObject)(n.parsedSections))throw new _("CMP returned unexpected value during lookup process.",n);return F(n)}function F(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return G={gppString:null==n?void 0:n.gppString,applicableSections:(null==n?void 0:n.applicableSections)||[],parsedSections:(null==n?void 0:n.parsedSections)||{},gppData:n},P.TJ.setConsentData(n),G}b.vc.getConfig("consentManagement",(function(n){return function(n){(n=n&&n.gpp)&&"object"===(0,r.Z)(n)?((0,m.isStr)(n.cmpApi)?D=n.cmpApi:(D="iab",(0,m.logInfo)("consentManagement.gpp config did not specify cmp.  Using system default setting (".concat("iab",")."))),(0,m.isNumber)(n.timeout)?I=n.timeout:(I=1e4,(0,m.logInfo)("consentManagement.gpp config did not specify timeout.  Using system default setting (".concat(1e4,")."))),"static"===D&&((0,m.isPlainObject)(n.consentData)?(R=n.consentData,I=0):(0,m.logError)("consentManagement.gpp config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),(0,m.logInfo)("consentManagement.gpp module has been activated..."),N||((0,h.R)().requestBids.before(q,50),O.Ww.before((function(n,t){return n(Object.assign({gppConsent:P.TJ.getConsentData()},t))}))),N=!0,P.TJ.enable(),H()):(0,m.logWarn)("consentManagement.gpp config not defined, exiting consent manager module")}(n.consentManagement)})),S.S.before((function(n,t){return n(t.then((function(n){var t=P.TJ.getConsentData();return t&&(Array.isArray(t.applicableSections)&&(0,y.N)(n,"regs.gpp_sid",t.applicableSections),(0,y.N)(n,"regs.gpp",t.gppString)),n})))})),(0,h.z)("consentManagementGpp")}},function(n){n.O(0,[17968],(function(){return t=30277,n(n.s=t);var t}));n.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[5160],{9099:function(n,t,e){var o,a,c=e(71002),i=e(78640),r=e(64358),s=e(96475),u=e(3193),l=e(86104),g=e(34516),f=e(99128),p=e(92797),d=e(54078),m=e(52712),v="iab",P=v,b=50,S=!1,D={iab:function(n){var t=n.onSuccess,e=n.onError;var o=(c={},{consentDataCallback:function(n,o){o&&n.uspString&&(c.usPrivacy=n.uspString),c.usPrivacy?U(c,{onSuccess:t,onError:e}):e("Unable to get USP consent string.")}}),a=(0,m.b6)({apiName:"__uspapi",apiVersion:1,apiArgs:["command","version","callback"]});var c;if(!a)return e("USP CMP not found.");a.isDirect?(0,r.logInfo)("Detected USP CMP is directly accessible, calling it now..."):(0,r.logInfo)("Detected USP CMP is outside the current iframe where Prebid.js is located, calling it now...");a({command:"getUSPData",callback:o.consentDataCallback}),a({command:"registerDeletion",callback:function(n,t){return(null==t||t)&&l.ZP.callDataDeletionRequest(n)}}).catch((function(n){(0,r.logError)("Error invoking CMP `registerDeletion`:",n)}))},static:function(n){var t=n.onSuccess,e=n.onError;U(o,{onSuccess:t,onError:e})}};function y(n){var t=null,e=!1;function o(o,a){if(null!=t&&clearTimeout(t),e=!0,g.nX.setConsentData(o),null!=n){for(var c=arguments.length,i=new Array(c>2?c-2:0),r=2;r<c;r++)i[r-2]=arguments[r];n.apply(void 0,[a].concat(i))}}if(D[P]){var a={onSuccess:o,onError:function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),a=1;a<t;a++)e[a-1]=arguments[a];o.apply(void 0,[null,"".concat(n," Resuming auction without consent data as per consentManagement config.")].concat(e))}};D[P](a),e||(0===b?U(void 0,a):t=setTimeout(a.onError.bind(null,"USPAPI workflow exceeded timeout threshold."),b))}else o(null,"USP framework (".concat(P,") is not a supported framework. Aborting consentManagement module and resuming auction."))}var h=(0,f.g3)("usp",(function(n,t){var e=this;S||M(),y((function(o){if(null!=o){for(var a=arguments.length,c=new Array(a>1?a-1:0),i=1;i<a;i++)c[i-1]=arguments[i];r.logWarn.apply(void 0,[o].concat(c))}n.call(e,t)}))}));function U(n,t){var e=t.onSuccess,o=t.onError;!n||!n.usPrivacy?o("USPAPI returned unexpected value during lookup process.",n):(!function(n){n&&n.usPrivacy&&(a=n.usPrivacy)}(n),e(a))}function M(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];S||((0,r.logInfo)("USPAPI consentManagement module has been activated".concat(n?"":" using default values (api: '".concat(P,"', timeout: ").concat(b,"ms)"))),S=!0,g.nX.enable()),y()}u.vc.getConfig("consentManagement",(function(n){return function(n){(n=n&&n.usp)&&"object"===(0,c.Z)(n)||(0,r.logWarn)("consentManagement.usp config not defined, using defaults"),n&&(0,r.isStr)(n.cmpApi)?P=n.cmpApi:(P=v,(0,r.logInfo)("consentManagement.usp config did not specify cmpApi. Using system default setting (".concat(v,")."))),n&&(0,r.isNumber)(n.timeout)?b=n.timeout:(b=50,(0,r.logInfo)("consentManagement.usp config did not specify timeout. Using system default setting (".concat(50,")."))),"static"===P&&((0,r.isPlainObject)(n.consentData)&&(0,r.isPlainObject)(n.consentData.getUSPData)?(n.consentData.getUSPData.uspString&&(o={usPrivacy:n.consentData.getUSPData.uspString}),b=0):(0,r.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),M(!0)}(n.consentManagement)})),(0,p.v5)("requestBids").before(h,50),d.S.before((function(n,t){return n(t.then((function(n){var t=g.nX.getConsentData();return t&&(0,s.N)(n,"regs.ext.us_privacy",t),n})))})),(0,i.z)("consentManagementUsp")}},function(n){n.O(0,[17968],(function(){return t=9099,n(n.s=t);var t}));n.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[77635],{99957:function(n,r,t){t.d(r,{Nh:function(){return i},fe:function(){return c}});var u=t(78640),e=t(31136);function i(n,r,t){var e=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(r===t)return n;var i=n;try{i=(0,u.R)().convertCurrency(n,r,t)}catch(n){if(!e)throw n}return i}function o(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;return function(u,e){return null==n&&(n=e),t(u,e,n,r)}}function c(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(n){return[n.cpm,n.currency]},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o();return(0,e.xI)((function(t){return r.apply(null,n(t))}))}}}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[57748],{81694:function(n,o,t){function e(n,o){return function(){for(var t,e,i=document.domain.split("."),u="_gd".concat(Date.now(),"_").concat(o),c=0;c<i.length;c++){var r=i.slice(c).join(".");if(n.setCookie(u,"1",void 0,void 0,r),e=n.getCookie(u),n.setCookie(u,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,r),"1"!==e)return t;t=r}}}t.d(o,{U:function(){return e}})}}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[5334],{13949:function(n,e,o){var t=o(93324),i=o(78640),r=o(3193),u=o(92797),f=o(64358),c=o(96475),d=o(26372),l=o(52021),a=o(5644),s=o(99957),g=o(31136),v=o(10075),p="fledgeForGpt",b={},m=!1;function h(n){var e=n.auctionId;b[e]={}}function C(n){var e=n.auctionId,o=n.bidsReceived,i=n.bidderRequests;try{var r=null==i?void 0:i.flatMap((function(n){return n.bids}));Object.entries(b[e]).forEach((function(n){var e=(0,t.Z)(n,2),i=e[0],u=e[1],d=function(n){return n.adUnitCode===i},l=function(){var n,e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(o.length>0){var i=o.reduce((0,g.gW)((0,s.fe)((function(n){return[n.cpm,n.currency]}))));n=i.cpm,e=i.currency}else{var r=t.map((function(n){return"function"==typeof n.getFloor&&n.getFloor()})).filter((function(n){return n})),u=r.length&&r.reduce((0,g.LT)((0,s.fe)((function(n){return[n.floor,n.currency]}))));n=null==u?void 0:u.floor,e=null==u?void 0:u.currency}var f={};return n&&((0,c.N)(f,"auctionSignals.prebid.bidfloor",n),e&&(0,c.N)(f,"auctionSignals.prebid.bidfloorcur",e)),f}(null==o?void 0:o.filter(d),null==r?void 0:r.filter(d));!function(n,e){var o=(0,v.aE)(n);o&&o.setConfig?(o.setConfig({componentAuction:e.map((function(n){return{configKey:n.seller,auctionConfig:n}}))}),(0,f.logInfo)(p,"register component auction configs for: ".concat(n,": ").concat(o.getAdUnitPath()),e)):(0,f.logWarn)(p,"unable to register component auction config for ".concat(n),e)}(i,u.map((function(n){return(0,f.mergeDeep)({},l,n)})))}))}finally{delete b[e]}}function y(n,e,o,t){b.hasOwnProperty(e)?(!b[e].hasOwnProperty(o)&&(b[e][o]=[]),b[e][o].push(t)):(0,f.logWarn)(p,"Received component auction config for auction that has closed (auction '".concat(e,"', adUnit '").concat(o,"')"),t),n(e,o,t)}function O(){return"runAdAuction"in navigator&&"joinAdInterestGroup"in navigator}function P(n,e){if(O()){var o,t=r.vc.getConfig("fledgeForGpt"),i=null!==(o=null==t?void 0:t.bidders)&&void 0!==o?o:[];e.forEach((function(n){var e=(null==t?void 0:t.enabled)&&(0==i.length||i.includes(n.bidderCode));Object.assign(n,r.vc.runWithBidder(n.bidderCode,(function(){var n,o;return{fledgeEnabled:null!==(n=r.vc.getConfig("fledgeEnabled"))&&void 0!==n?n:e?t.enabled:void 0,defaultForSlots:null!==(o=r.vc.getConfig("defaultForSlots"))&&void 0!==o?o:e?null==t?void 0:t.defaultForSlots:void 0}})))}))}n(e)}r.vc.getConfig("fledgeForGpt",(function(n){var e;(e=n.fledgeForGpt)&&!0===e.enabled?(m||((0,u.v5)("addComponentAuction").before(y),(0,u.v5)("makeBidRequests").after(P),l.on(a.FP.AUCTION_INIT,h),l.on(a.FP.AUCTION_END,C),m=!0),(0,f.logInfo)("".concat(p," enabled (browser ").concat(O()?"supports":"does NOT support"," fledge)"),e)):(m&&((0,u.v5)("addComponentAuction").getHooks({hook:y}).remove(),(0,u.v5)("makeBidRequests").getHooks({hook:P}).remove(),l.off(a.FP.AUCTION_INIT,h),l.off(a.FP.AUCTION_END,C),m=!1),(0,f.logInfo)("".concat(p," disabled"),e))})),(0,d.f8)({type:d.DZ,name:"impExtAe",fn:function(n,e,o){var t,i,r;o.bidderRequest.fledgeEnabled?n.ext=Object.assign(n.ext||{},{ae:null!==(t=null===(i=n.ext)||void 0===i?void 0:i.ae)&&void 0!==t?t:o.bidderRequest.defaultForSlots}):null===(r=n.ext)||void 0===r||delete r.ae}}),(0,d.f8)({type:d.YC,name:"extPrebidFledge",fn:function(n,e,o){var t,i,r;((null===(t=e.ext)||void 0===t||null===(i=t.prebid)||void 0===i||null===(r=i.fledge)||void 0===r?void 0:r.auctionconfigs)||[]).forEach((function(n){var e,t,i=o.impContext[n.impid];null!=i&&null!==(e=i.imp)&&void 0!==e&&null!==(t=e.ext)&&void 0!==t&&t.ae?(i.fledgeConfigs=i.fledgeConfigs||[],i.fledgeConfigs.push(n)):(0,f.logWarn)("Received fledge auction configuration for an impression that was not in the request or did not ask for it",n,null==i?void 0:i.imp)}))},dialects:[d.md]}),(0,d.f8)({type:d.YC,name:"fledgeAuctionConfigs",priority:-1,fn:function(n,e,o){var t=Object.values(o.impContext).flatMap((function(n){return(n.fledgeConfigs||[]).map((function(e){return{bidId:n.bidRequest.bidId,config:e.config}}))}));t.length>0&&(n.fledgeAuctionConfigs=t)},dialects:[d.md]}),(0,i.z)("fledgeForGpt")},26372:function(n,e,o){o.d(e,{DZ:function(){return u},Px:function(){return f},TP:function(){return d},YC:function(){return c},Z:function(){return r},f8:function(){return v},fP:function(){return p},gm:function(){return t},md:function(){return l}});var t=["request","imp","bidResponse","response"],i=["default","pbs"],r=t[0],u=t[1],f=t[2],c=t[3],d=i[0],l=i[1],a=new Set(t);var s,g=(s={},{registerOrtbProcessor:function(n){var e=n.type,o=n.name,i=n.fn,r=n.priority,u=void 0===r?0:r,f=n.dialects,c=void 0===f?[d]:f;if(!a.has(e))throw new Error("ORTB processor type must be one of: ".concat(t.join(", ")));c.forEach((function(n){s.hasOwnProperty(n)||(s[n]={}),s[n].hasOwnProperty(e)||(s[n][e]={}),s[n][e][o]={priority:u,fn:i}}))},getProcessors:function(n){return s[n]||{}}}),v=g.registerOrtbProcessor,p=g.getProcessors}},function(n){n.O(0,[29703,77635],(function(){return e=13949,n(n.s=e);var e}));n.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[87083],{31498:function(n,e,r){var t=r(93324),o=r(78640),u=r(64358),i=r(20265),a=r(3193),c=r(86104),l=r(34516),s=r(52021),p=r(5644),f=r(9633),d=r(16310),v=r(50571),g=r(74947);function h(n,e){var r="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=function(n,e){if(!n)return;if("string"==typeof n)return y(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(n,e)}(n))||e&&n&&"number"==typeof n.length){r&&(n=r);var t=0,o=function(){};return{s:o,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,a=!1;return{s:function(){r=r.call(n)},n:function(){var n=r.next();return i=n.done,n},e:function(n){a=!0,u=n},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw u}}}}function y(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}var m={purpose:{},feature:{}},b={purpose:"purpose.consents",feature:"specialFeatureOptins"},E={storage:{type:"purpose",default:{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},id:1},basicAds:{type:"purpose",id:2,default:{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]}},personalizedAds:{type:"purpose",id:4},measurement:{type:"purpose",id:7},transmitPreciseGeo:{type:"feature",id:1}},w=new Set,A=new Set,k=new Set,B=new Set,S=new Set,P=new Set,C=!1,D=!1,I=[f.UL,f.y2,f._U,f.XG],O="TCF2",j=[],x=[2];function F(n,e,r){if(e){var t=a.vc.getConfig("gvlMapping");if(t&&t[e])return t[e];if(n===f.wu)return l.$P;var o=l.qh.get(e),i=o.gvlid,c=o.modules;if(null==i&&Object.keys(c).length>0){var s,p=h(I);try{for(p.s();!(s=p.n()).done;){var d=s.value;if(c.hasOwnProperty(d)){i=c[d],d!==n&&(0,u.logWarn)("Multiple GVL IDs found for module '".concat(e,"'; using the ").concat(d," module's ID (").concat(i,") instead of the ").concat(n,"'s ID (").concat(c[n],")"));break}}}catch(n){p.e(n)}finally{p.f()}}return null==i&&r&&(i=r()),i||null}return null}function Z(n,e,r){return null==n&&l.rp.enabled?((0,u.logWarn)("Attempting operation that requires purpose ".concat(e," consent while consent data is not available").concat(r?" (module: ".concat(r,")"):"",". Assuming no consent was given.")),!0):n&&n.gdprApplies}function $(n,e,r,t){var o=!!(0,i.Z)(n,"vendorData.".concat(b[e],".").concat(r)),u=!!(0,i.Z)(n,"vendorData.vendor.consents.".concat(t));return"purpose"===e&&x.includes(r)&&(o||(o=!!(0,i.Z)(n,"vendorData.purpose.legitimateInterests.".concat(r))),u||(u=!!(0,i.Z)(n,"vendorData.vendor.legitimateInterests.".concat(t)))),{purpose:o,vendor:u}}function M(n,e,r,t){var o=E[n.purpose];if((n.vendorExceptions||[]).includes(r))return!0;var u=n.enforceVendor&&!(t===l.$P||(n.softVendorExceptions||[]).includes(r)),i=$(e,o.type,o.id,t),a=i.purpose,c=i.vendor;return(!n.enforcePurpose||a)&&(!u||c)}function T(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return null};return function(o){var u=l.rp.getConsentData(),i=o[d.bp];if(Z(u,n,i)){var a=F(o[d.$k],i,t(o)),c=!!e(u,i,a);if(!c)return r&&r.add(i),{allow:c}}}}function V(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return null};return T(n,(function(e,r,t){return!!M(m.purpose[n],e,r,t)}),e,r)}function U(n){return function(e){if(e[d.$k]!==f.wu)return n(e)}}var N,q,G,L=(N=V(1,w),function(n){if(n[d.$k]!==f.wu||D)return N(n)}),W=V(1,w),_=V(1,w),z=U(V(2,A)),K=V(7,k,(function(n){return e=n[d.bp],r=n[d.Hw],function(n){if("function"!=typeof n)return n;try{return n.call(o.adapter,r)}catch(n){(0,u.logError)("Error invoking ".concat(e," adapter.gvlid()"),n)}}(null==(o=c.ZP.getAnalyticsAdapter(e))||null===(t=o.adapter)||void 0===t?void 0:t.gvlid);var e,r,t,o})),R=V(4,B),H=U((q=T("2-10",(function(n,e,r){for(var t=2;t<=10;t++){var o,u,i,a;if(null!==(o=m.purpose[t])&&void 0!==o&&null!==(u=o.vendorExceptions)&&void 0!==u&&u.includes(e))return!0;var c=$(n,"purpose",t,r),l=c.purpose,s=c.vendor;if(l&&(s||null!==(i=m.purpose[t])&&void 0!==i&&null!==(a=i.softVendorExceptions)&&void 0!==a&&a.includes(e)))return!0}return!1}),S),G=V(4,S),function(){var n,e=null!==(n=m.purpose[4])&&void 0!==n&&n.eidsRequireP4Consent?G:q;return e.apply(this,arguments)})),X=T("Special Feature 1",(function(n,e,r){return M(m.feature[1],n,e,r)}),P);s.on(p.FP.AUCTION_END,(function(){var n=function(n){return Array.from(n.keys()).filter((function(n){return null!=n}))},e={storageBlocked:n(w),biddersBlocked:n(A),analyticsBlocked:n(k),ufpdBlocked:n(B),eidsBlocked:n(S),geoBlocked:n(P)};s.emit(p.FP.TCF2_ENFORCEMENT,e),[w,A,k,B,S,P].forEach((function(n){return n.clear()}))})),a.vc.getConfig("consentManagement",(function(n){return function(n){var e=(0,i.Z)(n,"gdpr.rules");e||(0,u.logWarn)("TCF2: enforcing P1 and P2 by default"),e=Object.fromEntries((e||[]).map((function(n){return[n.purpose,n]}))),D=!!(0,i.Z)(n,"strictStorageEnforcement"),Object.entries(E).forEach((function(n){var r,o=(0,t.Z)(n,2),u=o[0],i=o[1];m[i.type][i.id]=null!==(r=e[u])&&void 0!==r?r:i.default})),C||(null!=m.purpose[1]&&(C=!0,j.push((0,v.oB)(g.S1,O,L)),j.push((0,v.oB)(g.K$,O,W)),j.push((0,v.oB)(g.EL,O,_))),null!=m.purpose[2]&&j.push((0,v.oB)(g.UE,O,z)),null!=m.purpose[4]&&j.push((0,v.oB)(g.oK,O,R),(0,v.oB)(g.S5,O,R)),null!=m.purpose[7]&&j.push((0,v.oB)(g.x$,O,K)),null!=m.feature[1]&&j.push((0,v.oB)(g.g0,O,X)),j.push((0,v.oB)(g.e,O,H)))}(n.consentManagement)})),(0,o.z)("gdprEnforcement")}},function(n){var e;e=31498,n(n.s=e)}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[65296],{96787:function(t,o,e){var n=e(78640),a=e(64358),r=e(96475),d=e(20265),i=e(3193),u=e(92797),c=e(34614),s=void 0,f={},l=!1,p=function(t){var o=f.customGptSlotMatching;if((0,a.isGptPubadsDefined)()){var e=t.reduce((function(t,o){return t[o.code]=t[o.code]||[],t[o.code].push(o),t}),{});window.googletag.pubads().getSlots().forEach((function(t){var n=(0,c.sE)(Object.keys(e),o?o(t):(0,a.isAdUnitCodeMatchingSlot)(t));if(n){var d={name:"gam",adslot:b(t.getAdUnitPath())};e[n].forEach((function(t){var o,e,n;(0,r.N)(t,"ortb2Imp.ext.data.adserver",Object.assign({},null===(o=t.ortb2Imp)||void 0===o||null===(e=o.ext)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.adserver,d))}))}}))}},b=function(t){return(i.vc.getConfig("gptPreAuction")||{}).mcmEnabled?t.replace(/(^\/\d*),\d*\//,"$1/"):t},g=function(t,o){var e=t.ortb2Imp.ext.data;if(e.pbadslot)return e.pbadslot;if((0,a.isGptPubadsDefined)()){var n=window.googletag.pubads().getSlots().filter((function(t){return t.getAdUnitPath()===o}));if(0!==n.length)return 1===n.length?o:"".concat(o,"#").concat(t.code)}},v=function(t){var o=t.ortb2Imp.ext.data,e=f.customPbAdSlot;if(!o.pbadslot)if(e)o.pbadslot=e(t.code,(0,d.Z)(o,"adserver.adslot"));else{try{var n=document.getElementById(t.code);if(n.dataset.adslotid)return void(o.pbadslot=n.dataset.adslotid)}catch(t){}if(!(0,d.Z)(o,"adserver.adslot"))return o.pbadslot=t.code,!0;o.pbadslot=o.adserver.adslot}},m=function(t,o){p(o);var e=f,n=e.useDefaultPreAuction,a=e.customPreAuction;o.forEach((function(t){t.ortb2Imp=t.ortb2Imp||{},t.ortb2Imp.ext=t.ortb2Imp.ext||{},t.ortb2Imp.ext.data=t.ortb2Imp.ext.data||{};var o=t.ortb2Imp.ext;if(a||n){var e,r=(0,d.Z)(o,"data.adserver.adslot");a?e=a(t,r):n&&(e=g(t,r)),e&&(o.gpid=o.data.pbadslot=e)}else{var i=v(t);o.gpid||i||(o.gpid=o.data.pbadslot)}}));for(var r=arguments.length,i=new Array(r>2?r-2:0),u=2;u<r;u++)i[u-2]=arguments[u];return t.call.apply(t,[s,o].concat(i))},h=function(t){(f=(0,a.pick)(t,["enabled",function(t){return!1!==t},"customGptSlotMatching",function(t){return"function"==typeof t&&t},"customPbAdSlot",function(t){return"function"==typeof t&&t},"customPreAuction",function(t){return"function"==typeof t&&t},"useDefaultPreAuction",function(t){return!0===t}])).enabled?l||((0,u.v5)("makeBidRequests").before(m),l=!0):((0,a.logInfo)("".concat("GPT Pre-Auction",": Turning off module")),f={},(0,u.v5)("makeBidRequests").getHooks({hook:m}).remove(),l=!1)};i.vc.getConfig("gptPreAuction",(function(t){return h(t.gptPreAuction)})),h({}),(0,n.z)("gptPreAuction")}},function(t){var o;o=96787,t(t.s=o)}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[29703],{10075:function(n,t,u){u.d(t,{CS:function(){return o},aE:function(){return i},ky:function(){return d}});var e=u(34614),r=u(64358);function o(n){return function(t){return(0,r.compareCodeAndSlot)(t,n)}}function i(n){var t;return(0,r.isGptPubadsDefined)()&&(t=(0,e.sE)(window.googletag.pubads().getSlots(),o(n))),t}function d(n){var t=i(n);return t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}}}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[94750],{87206:function(e,t,r){var n=r(44925),i=r(71002),a=r(93324),o=r(89062),d=r(4942),s=r(78640),l=r(64358),u=r(20265),c=r(48928),p=r(14699),g=r(35706),f=r(24679),v=r(3193),b=r(15164),m=["mind","maxd","size","playerSize","protocols","durationRangeSec"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S="grid",x="https://grid.bidswitch.net/hbjson",O="https://x.bidswitch.net/sync?ssp=themediagrid",j="tmguid",w=(0,b.df)({bidderCode:S}),I="Bid from response has no adid parameter - ",R="Bid from response has no adm parameter - ",P="Array of bid objects is empty",E="Seatbid array from response has empty item",k="Response is empty",Z="Response has empty seatbid array",A="Seatbid from response has no array of bid objects - ",T={trustx:{endpoint:"https://grid.bidswitch.net/hbjson?sp=trustx",syncurl:"https://x.bidswitch.net/sync?ssp=themediagrid",bidResponseExternal:{netRevenue:!1}},gridNM:{defaultParams:{multiRequest:!0}}},N=!1,z={code:S,gvlid:686,aliases:["playwire","adlivetech","gridNM",{code:"trustx",skipPbsAliasing:!0}],supportedMediaTypes:[f.Mk,f.pX],isBidRequestValid:function(e){return e&&Boolean(e.params.uid||e.params.secid)},buildRequests:function(e,t){var r,d,s,c;if(!e.length)return null;var p=null,g=null,b=null,h=null,S=null,O=null,I=null,R=!1,P=t||{},E=P.bidderRequestId,k=P.gdprConsent,Z=P.uspConsent,A=P.timeout,N=P.refererInfo,z=P.gppConsent,D=N?encodeURIComponent(N.page):"",C=parseInt(A)||null,B=[],_={},M=[],q=[],U=[];e.forEach((function(e){var r={bid:e,savedPrebidBid:null};if(e.params.uid||e.params.secid){E||(E=e.bidderRequestId),b||(b=e.schain),h||(h=e.userIdAsEids),I||(I=T[e.bidder]&&T[e.bidder].endpoint);var o=e.params,d=e.mediaTypes,s=e.bidId,u=e.adUnitCode,c=e.rtd,v=e.ortb2Imp,S=y(y({},(T[e.bidder]||{}).defaultParams),o),x=S.secid,O=S.pubid,j=S.source,w=S.uid,P=S.keywords,k=S.forceBidder,Z=S.multiRequest,A=S.content,N=S.video,z=function(e,t){var r=e.video?"video":"banner",n=parseFloat(t.params.bidFloor||t.params.floorcpm||0)||null;if("function"==typeof t.getFloor){var o=t.getFloor({currency:"USD",mediaType:r,size:t.sizes.map((function(e){var t=(0,a.Z)(e,2);return{w:t[0],h:t[1]}}))});"object"!==(0,i.Z)(o)||"USD"!==o.currency||isNaN(parseFloat(o.floor))||(n=Math.max(n,parseFloat(o.floor)))}return n}(d||{},e),F=c&&c.jwplayer&&c.jwplayer.targeting;F&&!g&&F.content&&(g=F.content);var X,J,G,V,L,W,H={id:s.toString(),tagid:(x||w).toString(),ext:{divid:u.toString()}};if(v)if(v.instl&&(H.instl=parseInt(v.instl)||null),v.ext)H.ext.gpid=(null===(X=v.ext.gpid)||void 0===X?void 0:X.toString())||(null===(J=v.ext.data)||void 0===J||null===(G=J.pbadslot)||void 0===G?void 0:G.toString())||(null===(V=v.ext.data)||void 0===V||null===(L=V.adserver)||void 0===L||null===(W=L.adslot)||void 0===W?void 0:W.toString()),v.ext.data&&(H.ext.data=v.ext.data);if((0,l.isEmpty)(P)||(p||(p=P),H.ext.bidder={keywords:P}),z&&(H.bidfloor=z),!d||d[f.Mk]){var K=function(e,t){var r=t.sizes||e.sizes;if(!r||!r.length)return;var n=r.map((function(e){return(0,l.parseGPTSingleSizeArrayToRtbSize)(e)})),i=(0,l.parseGPTSingleSizeArrayToRtbSize)(r[0]);n.length&&(i.format=n);return i}(e,d?d[f.Mk]:{});K&&(H.banner=K)}if(d&&d[f.pX]){var Q=function(e,t,r){var i=y(y({},t),e),a=i.mind,o=i.maxd,d=i.size,s=i.playerSize,u=i.protocols,c=i.durationRangeSec,p=void 0===c?[]:c,g=(0,n.Z)(i,m);if(d&&(0,l.isStr)(d)){var f=d.split("x");2===f.length&&parseInt(f[0])&&parseInt(f[1])&&(g.w=parseInt(f[0]),g.h=parseInt(f[1]))}if(!g.w||!g.h){var v=((s||r||[]).toString().match(/^\d+,\d+/)||[])[0],b=v&&v.split(",").map((function(e){return parseInt(e)}));b&&2===b.length&&Object.assign(g,(0,l.parseGPTSingleSizeArrayToRtbSize)(b))}if(!g.w||!g.h)return;var h=a||p[0]||parseInt(g.minduration)||null,S=o||p[1]||parseInt(g.maxduration)||null;h&&(g.minduration=h);S&&(g.maxduration=S);u&&u.length&&(g.protocols=u);return g}(N,d[f.pX],e.sizes);Q&&(H.video=Q)}if(H.banner||H.video)if(Z){var Y,$,ee,te,re={tid:null==t||null===(Y=t.ortb2)||void 0===Y||null===($=Y.source)||void 0===$||null===(ee=$.tid)||void 0===ee||null===(te=ee.toString)||void 0===te?void 0:te.call(ee),ext:{wrapper:"Prebid_js",wrapper_version:"8.18.0"}};e.schain&&(re.ext.schain=e.schain);var ne={id:e.bidderRequestId&&e.bidderRequestId.toString(),site:{page:D},tmax:C,source:re,imp:[H]};O&&(ne.site.publisher={id:O});var ie=A||F&&F.content;ie&&(ne.site.content=ie),M.push(ne),q.push(j),U.push(r)}else _[s]=r,B.push(H);!R&&k&&T[k]&&(R=k)}})),(R=v.vc.getConfig("forceBidderName")||R)&&T[R]&&(I=T[R].endpoint,this.forceBidderName=R);var F={tid:null==t||null===(r=t.ortb2)||void 0===r||null===(d=r.source)||void 0===d||null===(s=d.tid)||void 0===s||null===(c=s.toString)||void 0===c?void 0:c.call(s),ext:{wrapper:"Prebid_js",wrapper_version:"8.18.0"}};b&&(F.ext.schain=b);var X=B.length||!M.length?{id:E&&E.toString(),site:{page:D},tmax:C,source:F,imp:B}:null;return g&&(X.site.content=g),[].concat(M,[X]).forEach((function(e){if(e){S=null;var r=(0,u.Z)(t,"ortb2.user.data");r&&r.length&&(S={data:(0,o.Z)(r)}),k&&k.consentString&&(O={consent:k.consentString});var n=(0,u.Z)(t,"ortb2.user.ext.device");n&&((O=O||{}).device=y({},n)),h&&h.length&&((O=O||{}).eids=(0,o.Z)(h)),O&&Object.keys(O).length&&((S=S||{}).ext=O);var a=w.getDataFromLocalStorage(j)||function(){if(v.vc.getConfig("localStorageWriteAllowed")){var e=(0,l.generateUUID)().replace(/-/g,"");return w.setDataInLocalStorage(j,e),e}return null}();a&&((S=S||{}).id=a.toString()),S&&(e.user=S);var d=(0,u.Z)(t,"ortb2.user.keywords")||null,s=(0,u.Z)(t,"ortb2.site.keywords")||null;d&&((p=p||{}).user=p.user||{},p.user.ortb2=[{name:"keywords",keywords:d.split(",")}]),s&&((p=p||{}).site=p.site||{},p.site.ortb2=[{name:"keywords",keywords:s.split(",")}]),p&&(p=function(e){var t={};return Object.keys(e).forEach((function(r){var n=e[r];if(n)if("site"===r||"user"===r){var a={};Object.keys(n).forEach((function(e){if(Array.isArray(n[e])){var t=[];n[e].forEach((function(e){if("object"===(0,i.Z)(e)&&e.name){var r={name:e.name,segments:[]};Object.keys(e).forEach((function(t){Array.isArray(e[t])&&e[t].forEach((function(e){e&&("string"==typeof e?r.segments.push({name:t,value:e}):"segments"===t&&"string"==typeof e.name&&"string"==typeof e.value&&r.segments.push(e))}))})),r.segments.length&&t.push(r)}})),t.length&&(a[e]=t)}})),t[r]=a}else t[r]=n})),Object.keys(t).length&&t}(p))&&(e.ext={keywords:p}),k&&k.gdprApplies&&(e.regs={ext:{gdpr:k.gdprApplies?1:0}});var c=(0,u.Z)(t,"ortb2.regs")||{};if(z||null!=c&&c.gpp){var g,f,b,m={gpp:null!==(g=null==z?void 0:z.gppString)&&void 0!==g?g:null==c?void 0:c.gpp,gpp_sid:null!==(f=null==z?void 0:z.applicableSections)&&void 0!==f?f:null==c?void 0:c.gpp_sid};e.regs=(0,l.mergeDeep)(null!==(b=null==e?void 0:e.regs)&&void 0!==b?b:{},m)}Z&&(e.regs||(e.regs={ext:{}}),e.regs.ext||(e.regs.ext={}),e.regs.ext.us_privacy=Z),!0===v.vc.getConfig("coppa")&&(e.regs||(e.regs={}),e.regs.coppa=1);var x=(0,u.Z)(t,"ortb2.site");if(x){var I=[].concat((0,o.Z)(x.cat||[]),(0,o.Z)(x.pagecat||[])).filter((function(e){return e&&"string"==typeof e}));I.length&&(e.site.cat=I);var R=(0,u.Z)(x,"content.genre");R&&"string"==typeof R&&(e.site.content=y(y({},e.site.content),{},{genre:R}));var P=(0,u.Z)(x,"content.data");if(P&&P.length){var E=e.site.content||{};e.site.content=(0,l.mergeDeep)(E,{data:P})}var A=(0,u.Z)(x,"content.id");A&&(e.site.content=y(y({},e.site.content),{},{id:A}))}}})),[].concat((0,o.Z)(M.map((function(e,t){var r,n=(I||x).replace(/[?&]sp=([^?&=]+)/,(function(e,t){return t&&(r=t),""})),i=q[t]||r;return{method:"POST",url:n+(n.indexOf("?")>-1?"&":"?")+"no_mapping=1"+(i?"&sp=".concat(i):""),data:JSON.stringify(e),bidObject:U[t]}}))),(0,o.Z)(X?[{method:"POST",url:I||x,data:JSON.stringify(X),bidsMap:_}]:[]))},interpretResponse:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.Th;e=e&&e.body;var n,i=[];e?e.seatbid&&!e.seatbid.length&&(n=Z):n=k;var a=this.forceBidderName||this.code;return!n&&e.seatbid&&e.seatbid.forEach((function(e){C(D(e),t,i,r,a)})),n&&(0,l.logError)(n),i},getUserSyncs:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],i=t[2],a=t[3];if(!N&&n.pixelEnabled){var o="";i&&("boolean"==typeof i.gdprApplies&&(o+="&gdpr=".concat(Number(i.gdprApplies))),"string"==typeof i.consentString&&(o+="&gdpr_consent=".concat(i.consentString))),a&&(o+="&us_privacy=".concat(a));var d=this.forceBidderName||this.code,s=T[d]&&T[d].syncurl||O;return N=!0,{type:"image",url:s+o}}},ajaxCall:function(e,t,r,n){return(0,c.hj)(e,t,r,n)},onDataDeletionRequest:function(e){var t=[],r=[z.code].concat((0,o.Z)(z.aliases.map((function(e){return e.code||e}))));e.forEach((function(e){var n=e.bids;return n&&n.forEach((function(e){var n=e.bidder,i=e.params;r.includes(n)&&i&&i.uid&&t.push(i.uid)}))})),t.length&&z.ajaxCall("https://media.grid.bidswitch.net/uspapi_delete",(function(){}),JSON.stringify({uids:t}),{contentType:"application/json",method:"POST"})}};function D(e){return e?e.bid?e.bid[0]||(0,l.logError)(P):(0,l.logError)(A+JSON.stringify(e)):(0,l.logError)(E),e&&e.bid&&e.bid[0]}function C(e,t,r,n,i){if(e){var a;if(e.adid||(a=I+JSON.stringify(e)),a||e.adm||e.nurl){var o=t.bidsMap?t.bidsMap[e.impid]:t.bidObject,d=o||{},s=d.bid,u=d.savedPrebidBid;if(s&&function(e,t){if((0,l.isNumber)(t))return e>t||e===t&&Math.random()>.5;return!0}(e.price,u&&u.cpm)){var c={requestId:s.bidId,cpm:e.price,width:e.w,height:e.h,creativeId:e.adid,currency:"USD",netRevenue:!0,ttl:360,meta:{advertiserDomains:e.adomain?e.adomain:[]},dealId:e.dealid};o.savedPrebidBid=c,e.ext&&e.ext.bidder&&e.ext.bidder.grid&&e.ext.bidder.grid.demandSource&&(c.adserverTargeting={hb_ds:e.ext.bidder.grid.demandSource},c.meta.demandSource=e.ext.bidder.grid.demandSource),"video"===e.content_type?(e.adm?(c.vastXml=e.adm,c.adResponse={content:c.vastXml}):e.nurl&&(c.vastUrl=e.nurl),c.mediaType=f.pX,s.renderer||s.mediaTypes&&s.mediaTypes.video&&"outstream"!==s.mediaTypes.video.context||(c.renderer=function(e,t,r){var n=r.install({id:t.id,url:t.url,loaded:!1});try{n.setRender(B)}catch(e){(0,l.logWarn)("Prebid Error calling setRender on renderer",e)}return n}(0,{id:s.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"},n))):(c.ad=e.adm,c.mediaType=f.Mk);var p=T[i]&&T[i].bidResponseExternal||{};r.push((0,l.mergeDeep)(c,p))}}else a=R+JSON.stringify(e);a&&(0,l.logError)(a)}}function B(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:e.adResponse})}))}(0,p.dX)(z),(0,s.z)("gridBidAdapter")},44925:function(e,t,r){function n(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}r.d(t,{Z:function(){return n}})}},function(e){var t;t=87206,e(e.s=t)}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[79114],{45407:function(e,t,n){var i=n(78640),o=n(64358),r=n(20265),a=n(48928),s=n(92797),d=n(15164),l=n(9633),c="identityLink",p=(0,d.df)({moduleType:l.y2,moduleName:c}),v="_lr_env",f={name:c,gvlid:97,decode:function(e){return{idl_env:e}},getId:function(e,t){var n=e&&e.params||{};if(n&&"string"==typeof n.pid){var i=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,a=i?t.consentString:"",s=2===r.Z(t,"vendorData.tcfPolicyVersion");if(!i||a&&""!==a){var d="https://api.rlcdn.com/api/identity/envelope?pid=".concat(n.pid).concat(i?(s?"&ct=4&cv=":"&ct=1&cv=")+a:"");return{callback:function(e){if(window.ats)o.logInfo("identityLink: ATS exists!"),window.ats.retrieveEnvelope((function(t){t?(o.logInfo("identityLink: An envelope can be retrieved from ATS!"),g(!0),e(JSON.parse(t).envelope)):u(d,e,n)}));else{var t=(i=p.getCookie(v)||p.getDataFromLocalStorage(v))?window.atob(i):void 0;t?(o.logInfo("identityLink: LiveRamp envelope successfully retrieved from storage!"),e(JSON.parse(t).envelope)):u(d,e,n)}var i}}}o.logInfo("identityLink: Consent string is required to call envelope API.")}else o.logError("identityLink: requires partner id to be defined")},eids:{idl_env:{source:"liveramp.com",atype:3}}};function u(e,t,n){var i,r={success:function(e){var n;if(e)try{n=JSON.parse(e)}catch(e){o.logInfo(e)}t(n&&n.envelope?n.envelope:"")},error:function(e){o.logInfo("identityLink: identityLink: ID fetch encountered an error",e),t()}};n.notUse3P||p.getCookie("_lr_retry_request")||((i=new Date).setTime(i.getTime()+36e5),p.setCookie("_lr_retry_request","true",i.toUTCString()),o.logInfo("identityLink: A 3P retrieval is attempted!"),g(!1),(0,a.hj)(e,r,void 0,{method:"GET",withCredentials:!0}))}function g(e){var t=new Date;t.setTime(t.getTime()+2592e6),p.setCookie("_lr_env_src_ats",e,t.toUTCString())}(0,s.Bx)("userId",f),(0,i.z)("identityLinkIdSystem")}},function(e){var t;t=45407,e(e.s=t)}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[40155],{33390:function(e,t,r){var i=r(93324),n=r(89062),a=r(4942),o=r(71002),d=r(78640),s=r(20265),p=r(64358),u=r(96475),c=r(24679),l=r(3193),f=r(5644),m=r(15164),g=r(52021),v=r(34614),b=r(14699),y=r(90154),x=r(35706),h=r(10075),I=r(85370);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,d=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){d=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(d)throw a}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}var S="ix",E="roundel",U=[c.Mk,c.pX,c.B5],P=[144,144],T={JPY:1},k="p",D="x",j=1,A=2,B=3,N=4,_=5,F=9,R={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},X={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","utiq.com":"","intimatemerger.com":"","33across.com":"","liveintent.indexexchange.com":"","google.com":""},z=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId","pairId"],L=["mimes","minduration","maxduration"],W=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h","plcmt"],M="ixdiag",q="".concat(S,"_features"),J=!1,G=(0,m.df)({bidderCode:S}),V={REQUESTED_FEATURE_TOGGLES:["pbjs_enable_multiformat"],featureToggles:{},isFeatureEnabled:function(e){return(0,s.Z)(this.featureToggles,"features.".concat(e,".activated"),!1)},getFeatureToggles:function(){if(G.localStorageIsEnabled()){var e=(0,p.safeJSONParse)(G.getDataFromLocalStorage(q));(0,s.Z)(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles()}},setFeatureToggles:function(e){var t=e.body,r=new Date,i=(0,s.Z)(t,"ext.features");i&&(this.featureToggles={expiry:r.setHours(r.getHours()+1),features:i},G.localStorageIsEnabled()&&G.setDataInLocalStorage(q,JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},G.localStorageIsEnabled()&&G.removeDataFromLocalStorage(q)}},H=0,Q="",$="",Y=!1,K=2;function ee(e){var t=te(e,c.pX),r=(0,s.Z)(e,"mediaTypes.video"),i=(0,s.Z)(e,"params.video");if(oe(r,i).length)return{};for(var n in t.video=i?(0,p.deepClone)(e.params.video):{},t.ext.tid=(0,s.Z)(e,"ortb2Imp.ext.tid"),function(e,t){if((0,s.Z)(t,"mediaTypes.video.context")===y.gZ){var r=(0,s.Z)(t,"mediaTypes.video.renderer");if(r||(r=(0,s.Z)(t,"renderer")),(0,s.Z)(t,"schain",!1))e.displaymanager="pbjs_wrapper";else if(r&&"object"===(0,o.Z)(r)){if(void 0!==r.url){var i="";try{i=new URL(r.url).hostname}catch(e){return}i.includes("js-sec.indexww")?e.displaymanager="ix":e.displaymanager=r.url}}else e.displaymanager="ix"}}(t,e),fe(t,e),r)-1===W.indexOf(n)||t.video.hasOwnProperty(n)||(t.video[n]=r[n]);if(t.video.minduration>t.video.maxduration)return(0,p.logError)("IX Bid Adapter: video minduration [".concat(t.video.minduration,"] cannot be greater than video maxduration [").concat(t.video.maxduration,"]"),{bidder:S,code:F}),{};var a=i&&i.context||r&&r.context;if(function(e){e.video.hasOwnProperty("plcmt")&&(!(0,p.isInteger)(e.video.plcmt)||e.video.plcmt<1||e.video.plcmt>4)&&((0,p.logWarn)("IX Bid Adapter: video.plcmt [".concat(e.video.plcmt,"] must be an integer between 1-4 inclusive")),delete e.video.plcmt)}(t),a&&!t.video.hasOwnProperty("placement")&&(a===y.LD?t.video.placement=1:a===y.gZ?(0,s.Z)(i,"playerConfig.floatOnScroll")?t.video.placement=5:(t.video.placement=3,Y=!0):(0,p.logWarn)("IX Bid Adapter: Video context '".concat(a,"' is not supported"))),!t.video.w||!t.video.h){var d=de((0,s.Z)(t,"video.playerSize"))||de((0,s.Z)(e,"params.size"));if(!d)return(0,p.logWarn)("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};t.video.w=d[0],t.video.h=d[1]}return re(e,t,c.pX),t}function te(e,t){var r={};if(r.id=e.bidId,r.ext={},(0,s.Z)(e,"params.".concat(t,".siteId"))&&!isNaN(Number(e.params[t].siteId)))switch(t){case c.Mk:r.ext.siteID=e.params.banner.siteId.toString();break;case c.pX:r.ext.siteID=e.params.video.siteId.toString();break;case c.B5:r.ext.siteID=e.params.native.siteId.toString()}else r.ext.siteID=e.params.siteId.toString();return!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(r.ext.sid=String(e.params.id)),r}function re(e,t,r){var i=null,n=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(i={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),(0,p.isFn)(e.getFloor)){var a="*",o="*";if(r&&(0,p.contains)(U,r)){var d=t[r];a=r,o=[d.w,d.h]}try{n=e.getFloor({mediaType:a,size:o})}catch(e){(0,p.logWarn)("priceFloors module call getFloor failed, error : ",e)}}var s=!1;n?(t.bidfloor=n.floor,t.bidfloorcur=n.currency,t.ext.fl=k,s=!0):i&&(t.bidfloor=i.floor,t.bidfloorcur=i.currency,t.ext.fl=D,s=!0),s&&(r==c.Mk?((0,u.N)(t,"banner.ext.bidfloor",t.bidfloor),(0,u.N)(t,"banner.ext.fl",t.ext.fl)):r==c.pX?((0,u.N)(t,"video.ext.bidfloor",t.bidfloor),(0,u.N)(t,"video.ext.fl",t.ext.fl)):((0,u.N)(t,"native.ext.bidfloor",t.bidfloor),(0,u.N)(t,"native.ext.fl",t.ext.fl)))}function ie(e,t,r){var i={},n=!(!(0,s.Z)(e,"exp")||!(0,p.isInteger)(e.exp)),a=(0,s.Z)(e,"dealid")||(0,s.Z)(e,"ext.dealid");T.hasOwnProperty(t)?i.cpm=e.price/T[t]:i.cpm=e.price/100,i.requestId=e.impid,a&&(i.dealId=a),i.netRevenue=true,i.currency=t,i.creativeId=e.hasOwnProperty("crid")?e.crid:"-",e.mtype!=K||(!e.ext||e.ext.vasturl)&&e.ext?e.ext&&e.ext.vasturl&&(i.vastUrl=e.ext.vasturl):i.vastXml=e.adm;var o=null;if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{o=JSON.parse(e.adm)}catch(e){(0,p.logWarn)("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||e.mtype==K?(i.width=r.video.w,i.height=r.video.h,i.mediaType=c.pX,i.mediaTypes=r.mediaTypes,i.ttl=n?e.exp:3600):o&&o.native?(i.native={ortb:o.native},i.width=e.w?e.w:1,i.height=e.h?e.h:1,i.mediaType=c.B5,i.ttl=n?e.exp:3600):(i.ad=e.adm,i.width=e.w,i.height=e.h,i.mediaType=c.Mk,i.ttl=n?e.exp:300),i.meta={},i.meta.networkId=(0,s.Z)(e,"ext.dspid"),i.meta.brandId=(0,s.Z)(e,"ext.advbrandid"),i.meta.brandName=(0,s.Z)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(i.meta.advertiserDomains=e.adomain),i}function ne(e){return Array.isArray(e)&&2===e.length&&(0,p.isInteger)(e[0])&&(0,p.isInteger)(e[1])}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(ne(e))return e[0]===t[0]&&e[1]===t[1];for(var r=0;r<e.length;r++)if(e[r][0]===t[0]&&e[r][1]===t[1])return!0;return!1}function oe(e,t){var r=[];e||(0,p.logWarn)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");var i,n=w(L);try{for(n.s();!(i=n.n()).done;){var a=i.value,o=e&&e.hasOwnProperty(a),d=t&&t.hasOwnProperty(a);o||d||r.push("IX Bid Adapter: ".concat(a," is not included in either the adunit or params level"))}}catch(e){n.e(e)}finally{n.f()}var s=e&&e.hasOwnProperty("protocol"),u=e&&e.hasOwnProperty("protocols"),c=t&&t.hasOwnProperty("protocol"),l=t&&t.hasOwnProperty("protocols");return s||u||c||l||r.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),r}function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ne(e)?e:!!ne(e[0])&&e[0]}function se(e,t,r){if(e)return Z(Z({},(0,v.sE)(r,(function(t){return t.bidId===e}))),(0,v.sE)(t,(function(t){return t.id===e})))}function pe(e,t,r,i){var n="https://htlb.casalemedia.com/openrtb/pbjs",a=function(e){var t=[],r={};if((0,p.isArray)(e)){var i,n=w(e);try{for(n.s();!(i=n.n()).done;){var a=i.value;X.hasOwnProperty(a.source)&&(0,s.Z)(a,"uids.0")&&(r[a.source]=!0,""!=X[a.source]&&(a.uids[0].ext={rtiPartner:X[a.source]}),delete a.uids[0].atype,t.push(a))}}catch(e){n.e(e)}finally{n.f()}}return{toSend:t,seenSources:r}}((0,s.Z)(e,"0.userIdAsEids")),d=a.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&function(e,t){var r=window.headertag.getIdentityInfo();if(r&&"object"===(0,o.Z)(r))for(var i in r)if(r.hasOwnProperty(i)){var n=r[i];!n.responsePending&&n.data&&"object"===(0,o.Z)(n.data)&&Object.keys(n.data).length&&!t.seenSources[n.data.source]&&e.push(n.data)}}(d,a),t&&t.bidderCode===E&&!a.seenSources["liveramp.com"])return[];var c=[],f=function(e){var t={};return t.id=e[0].bidderRequestId.toString(),t.site={},t.ext={},t.ext.source="prebid",t.ext.ixdiag={},t.ext.ixdiag.ls=G.localStorageIsEnabled(),t.imp=[],t.at=1,t}(e);f=function(e,t){t.length>0&&(e.ext.features={},t.forEach((function(t){e.ext.features[t]={activated:V.isFeatureEnabled(t)}})));return e}(f,V.REQUESTED_FEATURE_TOGGLES);var m=function(e,t){var r,i=e.map((function(e){return e.adUnitCode})).filter((function(e,t,r){return r.indexOf(e)===t})),n={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"8.18.0",userIds:ge(e[0]),url:window.location.href.split("?")[0],vpd:Y,ae:t},a=w(i);try{var o=function(){var t=r.value,i=e.filter((function(e){return e.adUnitCode===t}))[0];(0,s.Z)(i,"mediaTypes")&&(Object.keys(i.mediaTypes).length>1&&n.mfu++,(0,s.Z)(i,"mediaTypes.native")&&n.nu++,(0,s.Z)(i,"mediaTypes.banner")&&n.bu++,"outstream"===(0,s.Z)(i,"mediaTypes.video.context")&&(n.ou++,we(i)&&(n.ren=!0)),"instream"===(0,s.Z)(i,"mediaTypes.video.context")&&n.iu++,n.allu++)};for(a.s();!(r=a.n()).done;)o()}catch(e){a.e(e)}finally{a.f()}return n}(e,(0,s.Z)(t,"fledgeEnabled"));for(var g in m)f.ext.ixdiag[g]=m[g];f=function(e,t,r,i,n){var a,o,d=(0,s.Z)(t,"timeout");d&&(e.ext.ixdiag.tmax=d);l.vc.getConfig("userSync")&&(e.ext.ixdiag.syncsPerBidder=l.vc.getConfig("userSync").syncsPerBidder);var u=function(){if(!G.localStorageIsEnabled())return;var e,t={};try{e=JSON.parse(G.getDataFromLocalStorage(M)||"{}")}catch(e){return(0,p.logError)("ix can not read ixdiag from localStorage."),null}return Object.keys(e).forEach((function(r){Object.keys(e[r]).forEach((function(i){"number"==typeof e[r][i]&&(t[i]=t[i]?t[i]+e[r][i]:e[r][i])}))})),t}();(0,p.isEmpty)(u)||(e.ext.ixdiag.err=u);e.ext.ixdiag.imps=Object.keys(r).length,e.source={tid:null==t||null===(a=t.ortb2)||void 0===a||null===(o=a.source)||void 0===o?void 0:o.tid},i[0].schain&&(e.source.ext={},e.source.ext.schain=i[0].schain);n.length>0&&(e.user={},e.user.eids=n);document.referrer&&""!==document.referrer&&(e.site.ref=document.referrer);return e}(f,t,r,e,d),f=function(e,t){if(t){t.gdprConsent&&((Q=t.gdprConsent).hasOwnProperty("gdprApplies")&&(e.regs={ext:{gdpr:Q.gdprApplies?1:0}}),Q.hasOwnProperty("consentString")&&(e.user=e.user||{},e.user.ext={consent:Q.consentString||""},Q.hasOwnProperty("addtlConsent")&&Q.addtlConsent&&(e.user.ext.consented_providers_settings={addtl_consent:Q.addtlConsent}))),t.uspConsent&&((0,u.N)(e,"regs.ext.us_privacy",t.uspConsent),$=t.uspConsent);var r=(0,s.Z)(t,"refererInfo.page");r&&(e.site.page=r),t.gppConsent&&((0,u.N)(e,"regs.gpp",t.gppConsent.gppString),(0,u.N)(e,"regs.gpp_sid",t.gppConsent.applicableSections))}l.vc.getConfig("coppa")&&(0,u.N)(e,"regs.coppa",1);return e}(f,t);var v={};H=e[0].params.siteId,v.s=H;for(var b=Object.keys(r),y=!1,x=0;x<b.length&&!(c.length>=4);x++){f=ue(r,b,f,x);var h=(0,s.Z)(t,"ortb2")||{},I=Z({},h.site||h.context);I.page=ce(t);var O=Z({},h.user);(0,p.isEmpty)(h)||y||((f=le(t,f,h,I,O)).site=(0,p.mergeDeep)({},f.site,I),f.user=(0,p.mergeDeep)({},f.user,O),y=!0),f=me(r,f,b,x,v,n);var C=x===b.length-1;f=Ue(f=Ee(f=Te(f))),C&&(c.push({method:"POST",url:n+"?s="+H,data:(0,p.deepClone)(f),option:{contentType:"text/plain"},validBidRequests:e}),f.imp=[],y=!1)}return c}function ue(e,t,r,i){var a=e[t[i]],o=a.missingImps,d=void 0===o?[]:o,l=a.ixImps,f={ixImps:void 0===l?[]:l,missingBannerImpressions:d},m=Object.keys(f).map((function(e){return f[e]})).filter((function(e){return Array.isArray(e)})).reduce((function(e,t){return e.concat.apply(e,(0,n.Z)(t))}),[]),g=e[t[i]].gpid,v=e[t[i]].dfp_ad_unit_code,b=e[t[i]].tid,y=e[t[i]].sid,x=e[t[i]].ae,h=m.filter((function(e){return c.Mk in e})),I=m.filter((function(e){return!(c.Mk in e)}));if(h.length>0){var O=h.reduce((function(e,t){return e[t.adunitCode]||(e[t.adunitCode]=[]),e[t.adunitCode].push(t),e}),{});for(var Z in O){for(var w=O[Z],C=w[0],S={id:C.id,banner:{topframe:C.banner.topframe,format:w.map((function(e){var t=e.banner;return{w:t.w,h:t.h,ext:e.ext}}))}},E=0;E<S.banner.format.length;E++)null!=S.banner.format[E].ext&&null!=S.banner.format[E].ext.sid&&delete S.banner.format[E].ext.sid,"bidfloor"in w[E]&&(S.banner.format[E].ext.bidfloor=w[E].bidfloor);var U=e[t[i]].pos;(0,p.isInteger)(U)&&(S.banner.pos=U),(v||g||b||y||x)&&(S.ext={},S.ext.dfp_ad_unit_code=v,S.ext.gpid=g,S.ext.tid=b,S.ext.sid=y,1==x&&(S.ext.ae=1)),"bidfloor"in w[0]&&(S.bidfloor=w[0].bidfloor),"bidfloorcur"in w[0]&&(S.bidfloorcur=w[0].bidfloorcur);var P=e[t[i]].adUnitFPD;P&&(0,u.N)(S,"ext.data",P),r.imp.push(S)}}return I.length>0&&I.forEach((function(e){if((0,u.N)(e,"ext.gpid",g),r.imp.length>0){var t=!1;r.imp.forEach((function(i,n){e.id===i.id&&c.pX in e?(i.video=e.video,i.video.ext=Object.assign({},e.video.ext,e.ext),(0,s.Z)(i,"video.ext.bidfloor",!1)&&(0,s.Z)(i,"bidfloor",!1)&&i.video.ext.bidfloor<i.bidfloor&&(i.bidfloor=i.video.ext.bidfloor),!(0,s.Z)(i,"ext.siteID",!1)&&(0,s.Z)(e,"video.ext.siteID")&&((0,u.N)(i,"ext.siteID",e.video.ext.siteID),(0,u.N)(r,"ext.ixdiag.usid",!0)),t=!0):e.id===i.id&&c.B5 in e&&(i.native=e.native,i.native.ext=Object.assign({},e.native.ext,e.ext),(0,s.Z)(i,"native.ext.bidfloor",!1)&&(0,s.Z)(i,"bidfloor",!1)&&i.native.ext.bidfloor<i.bidfloor&&(i.bidfloor=i.native.ext.bidfloor),!(0,s.Z)(i,"ext.siteID",!1)&&(0,s.Z)(e,"native.ext.siteID",!1)&&((0,u.N)(i,"ext.siteID",e.native.ext.siteID),(0,u.N)(r,"ext.ixdiag.usid",!0)),t=!0)})),t||r.imp.push(e)}else r.imp.push(e)})),r}function ce(e){var t=e&&e.bidderCode||"ix",r=l.vc.getConfig(t),n="";if((n=(0,s.Z)(e,"ortb2.site.page")?e.ortb2.site.page:(0,s.Z)(e,"refererInfo.page"),r)&&"object"===(0,o.Z)(r.firstPartyData))return function(e,t,r){var n;try{n=new URL(t)}catch(r){(0,p.logWarn)("IX Bid Adapter: Invalid URL set in ortb2.site.page: ".concat(t,". Using referer URL instead.")),n=new URL((0,s.Z)(e,"refererInfo.page"))}for(var a=new URLSearchParams(n.search),o=0,d=Object.entries(r);o<d.length;o++){var u=(0,i.Z)(d[o],2),c=u[0],l=u[1];a.has(c)||a.append(c,l)}return n.search=a.toString(),n.toString()}(e,n,r.firstPartyData);return n}function le(e,t,r,i,n){if(t.ext.ixdiag.fpd=!0,Object.keys(i).forEach((function(e){-1===R.SITE.indexOf(e)&&delete i[e]})),Object.keys(n).forEach((function(e){-1===R.USER.indexOf(e)&&delete n[e]})),r.device){var a=Z({},r.device.sua);(0,p.isEmpty)(a)||(0,u.N)(t,"device.sua",a)}return r.hasOwnProperty("regs")&&!e.gppConsent&&(r.regs.hasOwnProperty("gpp")&&"string"==typeof r.regs.gpp&&(0,u.N)(t,"regs.gpp",r.regs.gpp),r.regs.hasOwnProperty("gpp_sid")&&Array.isArray(r.regs.gpp_sid)&&(0,u.N)(t,"regs.gpp_sid",r.regs.gpp_sid)),t}function fe(e,t){var r=(0,s.Z)(t,"ortb2Imp.ext.data");r&&(0,u.N)(e,"ext.data",r)}function me(e,t,r,i,n,a){var o=e[r[i]].pbadslot,d=e[r[i]].tagId,s=e[r[i]].adUnitCode,p=e[r[i]].divId;return(o||d||s||p)&&(t.ext.ixdiag.pbadslot=o,t.ext.ixdiag.tagid=d,t.ext.ixdiag.adunitcode=s,t.ext.ixdiag.divId=p),t}function ge(e){var t=e.userId||{};return z.filter((function(e){return t[e]}))}function ve(e,t){if(t)for(var r=0;r<e.length;r++){var i=e[r];if(t[0]===i[0]&&t[1]===i[1]){e.splice(r,1);break}}}function be(e,t){var r=function(e){var t=te(e,c.B5),r=e.nativeOrtbRequest;return r.eventtrackers=[{event:1,methods:[1,2]}],r.privacy=1,t.native={request:JSON.stringify(r),ver:"1.2"},t.ext.tid=(0,s.Z)(e,"ortb2Imp.ext.tid"),fe(t,e),re(e,t,c.B5),t}(e);if(0!=Object.keys(r).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(r),t[e.adUnitCode].gpid=(0,s.Z)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,s.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,s.Z)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,s.Z)(e,"params.tagId");var i=e.adUnitCode,n=document.getElementById(i)?i:(0,h.ky)(i).divId;t[e.adUnitCode].adUnitCode=i,t[e.adUnitCode].divId=n}}function ye(e,t){var r=ee(e);if(0!=Object.keys(r).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(r),t[e.adUnitCode].gpid=(0,s.Z)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,s.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,s.Z)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,s.Z)(e,"params.tagId");var i=e.adUnitCode,n=document.getElementById(i)?i:(0,h.ky)(i).divId;t[e.adUnitCode].adUnitCode=i,t[e.adUnitCode].divId=n}}function xe(e,t,r,i){var n=function(e){var t=te(e,c.Mk);t.banner={},t.adunitCode=e.adUnitCode;var r=(0,s.Z)(e,"params.size");return r&&(t.banner.w=r[0],t.banner.h=r[1]),t.banner.topframe=(0,p.inIframe)()?0:1,re(e,t,c.Mk),t}(e),a=ae((0,s.Z)(e,"mediaTypes.banner.sizes"),(0,s.Z)(e,"params.size"));if(r.hasOwnProperty(e.adUnitCode)||(r[e.adUnitCode]={}),r[e.adUnitCode].gpid=(0,s.Z)(e,"ortb2Imp.ext.gpid"),r[e.adUnitCode].dfp_ad_unit_code=(0,s.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),r[e.adUnitCode].tid=(0,s.Z)(e,"ortb2Imp.ext.tid"),r[e.adUnitCode].pbadslot=(0,s.Z)(e,"ortb2Imp.ext.data.pbadslot"),r[e.adUnitCode].tagId=(0,s.Z)(e,"params.tagId"),r[e.adUnitCode].pos=(0,s.Z)(e,"mediaTypes.banner.pos"),(0,s.Z)(i,"fledgeEnabled")){var o=(0,s.Z)(e,"ortb2Imp.ext.ae");o?(0,p.isInteger)(o)?r[e.adUnitCode].ae=o:(0,p.logWarn)("error setting auction environment flag - must be an integer"):1==(0,s.Z)(i,"defaultForSlots")&&(r[e.adUnitCode].ae=1)}var d=(0,s.Z)(e,"ortb2Imp.ext.data");d&&(r[e.adUnitCode].adUnitFPD=d);var u=(0,s.Z)(e,"params.id");!u||"string"!=typeof u&&"number"!=typeof u||(r[e.adUnitCode].sid=String(u));var l=e.adUnitCode,f=document.getElementById(l)?l:(0,h.ky)(l).divId;r[e.adUnitCode].adUnitCode=l,r[e.adUnitCode].divId=f,a&&(r[e.adUnitCode].hasOwnProperty("ixImps")||(r[e.adUnitCode].ixImps=[]),r[e.adUnitCode].ixImps.push(n)),function(e,t,r){if(t.hasOwnProperty(e.adUnitCode)){var i=[];t[e.adUnitCode].hasOwnProperty("missingSizes")&&(i=t[e.adUnitCode].missingSizes),ve(i,e.params.size),t[e.adUnitCode].missingSizes=i}else if((0,s.Z)(e,"mediaTypes.banner.sizes")){var n=(0,p.deepClone)(e.mediaTypes.banner.sizes);ve(n,e.params.size);var a={missingSizes:n,impression:r};t[e.adUnitCode]=a}}(e,t,n)}function he(e,t,r){var i=(0,p.deepClone)(t);return i.banner.w=r[0],i.banner.h=r[1],re(e,i,c.Mk),i}function Ie(e){"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===S&&function(e){if(G.localStorageIsEnabled()){var t;try{t=JSON.parse(G.getDataFromLocalStorage(M)||"{}")}catch(e){(0,p.logWarn)("ix can not read ixdiag from localStorage.")}var r=new Date;if(Object.keys(t).map((function(e){var i=new Date(e);i.setDate(i.getDate()+7)-r<0&&delete t[e]})),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===S){var i=r.toISOString().slice(0,10),n=e.arguments[1].code;n&&(t[i]=t[i]||{},Number(t[i][n])||(t[i][n]=0),t[i][n]++)}G.setDataInLocalStorage(M,JSON.stringify(t))}}(e)}function Oe(e){e.renderer.push((function(){var t=e.adUnitCode,r=document.getElementById(t)?t:(0,h.ky)(t).divId;r?window.createIXPlayer(r,e):(0,p.logWarn)("IX Bid Adapter: adUnitCode: ".concat(r," not found on page."))}))}function Ze(e,t){var r=x.Th.install({id:e,url:t,loaded:!1});try{r.setRender(Oe)}catch(e){return(0,p.logWarn)("Prebid Error calling setRender on renderer",e),null}return t?r:((0,p.logWarn)("Outstream renderer URL not found"),null)}function we(e){if("outstream"!==(0,s.Z)(e,"mediaTypes.video.context"))return!1;var t=(0,s.Z)(e,"mediaTypes.video.renderer");return t||(t=(0,s.Z)(e,"renderer")),!!("object"!==(0,o.Z)(t)||!t.url||!t.render)||t.backupOnly}var Ce={code:S,gvlid:10,aliases:[{code:E,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:U,isBidRequestValid:function(e){J||(g.on(f.FP.AUCTION_DEBUG,Ie),g.on(f.FP.AD_RENDER_FAILED,Ie),J=!0);var t,r,i=(0,s.Z)(e,"params.video"),n=(0,s.Z)(e,"params.size"),a=(0,s.Z)(e,"mediaTypes.banner.sizes"),o=(0,s.Z)(e,"mediaTypes.video"),d=(0,s.Z)(e,"mediaTypes.video.playerSize"),u=e.params.hasOwnProperty("bidFloor"),c=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!(0,p.contains)(U,e.mediaType))return(0,p.logWarn)("IX Bid Adapter: media type is not supported."),!1;if((0,s.Z)(e,"mediaTypes.banner")&&!a)return!1;if(n){var l=de(n);if(!l)return(0,p.logError)("IX Bid Adapter: size has invalid format.",{bidder:S,code:j}),!1;if(!ae(e.sizes,l)&&!ae(d,l)&&!ae(a,l))return(0,p.logError)("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:S,code:A}),!1}if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return(0,p.logError)("IX Bid Adapter: siteId must be string or number type.",{bidder:S,code:N}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return(0,p.logError)("IX Bid Adapter: siteId must valid value",{bidder:S,code:N}),!1;if((u||c)&&!(u&&c&&(t=e.params.bidFloor,r=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof r&&r.match(/^[A-Z]{3}$/)))))return(0,p.logError)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:S,code:_}),!1;if(o&&i){var m=ee(e).video,v=oe(o,i);if((0,s.Z)(e,"mediaTypes.video.context")===y.gZ&&we(e)&&m){var b=[(0,s.Z)(m,"w"),(0,s.Z)(m,"h")];if(!(b[0]>=P[0]&&b[1]>=P[1]))return(0,p.logError)("IX Bid Adapter: ".concat(b," is an invalid size for IX outstream renderer")),!1}if(v.length)return v.forEach((function(e){(0,p.logError)(e,{bidder:S,code:B})})),!1}return function(e){return void 0===(0,s.Z)(e,"mediaTypes.native")||e.nativeOrtbRequest&&Array.isArray(e.nativeOrtbRequest.assets)&&e.nativeOrtbRequest.assets.length>0}(e)},buildRequests:function(e,t){var r=[],i={},a={},o={},d={};for(var u in V.getFeatureToggles(),e.forEach((function(e){var r=Object.keys((0,s.Z)(e,"mediaTypes",{}));for(var n in r)switch(r[n]){case c.Mk:xe(e,d,i,t);break;case c.pX:ye(e,a);break;case c.B5:be(e,o);break;default:(0,p.logWarn)("IX Bid Adapter: ad unit mediaTypes ".concat(n," is not supported"))}})),d)if(d.hasOwnProperty(u)){var l=d[u].missingSizes;i.hasOwnProperty(u)||(i[u]={}),i[u].hasOwnProperty("missingImps")||(i[u].missingImps=[],i[u].missingCount=0);for(var f=d[u].impression,m=0;m<l.length;m++){var g=he(e[0],f,l[m]);i[u].missingImps.push(g),i[u].missingCount++}}var v,b=[];return Object.keys(i).length>0&&b.push(i),Object.keys(a).length>0&&b.push(a),Object.keys(o).length>0&&b.push(o),V.isFeatureEnabled("pbjs_enable_multiformat")?r.push.apply(r,(0,n.Z)(pe(e,t,(v={},b.forEach((function(e){Object.keys(e).forEach((function(t){Object.keys(v).includes(t)?v[t].hasOwnProperty("ixImps")&&e[t].hasOwnProperty("ixImps")?v[t].ixImps=[].concat((0,n.Z)(v[t].ixImps),(0,n.Z)(e[t].ixImps)):v[t].hasOwnProperty("missingImps")&&e[t].hasOwnProperty("missingImps")?v[t].missingImps=[].concat((0,n.Z)(v[t].missingImps),(0,n.Z)(e[t].missingImps)):e[t].hasOwnProperty("ixImps")?v[t].ixImps=e[t].ixImps:e[t].hasOwnProperty("missingImps")&&(v[t].missingImps=e[t].missingImps):v[t]=e[t]}))})),v)))):(Object.keys(i).length>0&&r.push.apply(r,(0,n.Z)(pe(e,t,i))),Object.keys(a).length>0&&r.push.apply(r,(0,n.Z)(pe(e,t,a))),Object.keys(o).length>0&&r.push.apply(r,(0,n.Z)(pe(e,t,o)))),r},interpretResponse:function(e,t){var r=[],i=null,n=(0,s.Z)(e,"body.ext.protectedAudienceAuctionConfigs")||[];if(V.setFeatureToggles(e),!e.hasOwnProperty("body"))return r;for(var a=e.body,d=a.seatbid||[],u=0;u<d.length;u++)if(d[u].hasOwnProperty("bid")){for(var l=d[u].bid,f=t.data,m=0;m<l.length;m++){var g=se(l[m].impid,f.imp,t.validBidRequests);if((i=ie(l[m],a.cur,g)).mediaType===c.pX&&we(g)){var v=(0,s.Z)(a,"ext.videoplayerurl");if(i.renderer=Ze(l[m].bidId,v),!i.renderer)continue}r.push(i)}if((0,s.Z)(f,"ext.ixdiag.err")&&G.localStorageIsEnabled())try{G.removeDataFromLocalStorage(M)}catch(e){(0,p.logError)("ix can not clear ixdiag from localStorage.")}}if(!(Array.isArray(n)&&n.length>0))return r;n=n.filter((function(e){return!!function(e){return"object"===(0,o.Z)(e)&&null!==e}(e)||((0,p.logWarn)("Malformed auction config detected:",e),!1)}));try{return{bids:r,fledgeAuctionConfigs:n}}catch(e){return(0,p.logWarn)("Error attaching AuctionConfigs",e),r}},transformBidParams:function(e,t){return(0,I.u)({siteID:"number"},e)},getUserSyncs:function(e,t){var r=[],i=null;if(t.length>0&&(i=(0,s.Z)(t[0],"body.ext.publishersyncsperbidderoverride")),void 0!==i&&0==i)return[];if(e.iframeEnabled)r.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{var n=null;l.vc.getConfig("userSync")&&(n=l.vc.getConfig("userSync").syncsPerBidder),0===n&&(n=i),n=i&&(0===n||n)?i>n?n:i:1;for(var a=0;a<n;a++)r.push({type:"image",url:Se(n,a)})}return r}};function Se(e,t){var r="",i="0";return Q&&Q.hasOwnProperty("gdprApplies")&&(i=Q.gdprApplies?"1":"0"),Q&&Q.hasOwnProperty("consentString")&&(r=Q.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid&site_id="+H.toString()+"&p="+e.toString()+"&i="+t.toString()+"&gdpr="+i+"&gdpr_consent="+r+"&us_privacy="+($||"")}function Ee(e){return e.imp.forEach((function(t,r){var i=t.ext;if(null==i)return e;Pe(t)<2||Object.keys(i).forEach((function(n){if(c.Mk in t){var a=t.banner.ext;if(void 0!==a&&void 0!==a[n]&&a[n]==i[n]&&delete e.imp[r].banner.ext[n],void 0!==t.banner.format)for(var o=0;o<t.banner.format.length;o++)null!=t.banner.format[o].ext&&null!=t.banner.format[o].ext[n]&&t.banner.format[o].ext[n]==i[n]&&delete e.imp[r].banner.format[o].ext[n]}if(c.pX in t){var d=t.video.ext;void 0!==d&&void 0!==d[n]&&d[n]==i[n]&&delete e.imp[r].video.ext[n]}if(c.B5 in t){var s=t.native.ext;void 0!==s&&void 0!==s[n]&&s[n]==i[n]&&delete e.imp[r].native.ext[n]}}))})),e}function Ue(e){return e.imp.forEach((function(t,r){if(null==t.ext)return e;if(!(Pe(t)<2)){if(c.Mk in t){var i=t.banner.ext;if(void 0!==i&&void 0!==i.siteID&&delete e.imp[r].banner.ext.siteID,void 0!==t.banner.format)for(var n=0;n<t.banner.format.length;n++)void 0!==t.banner.format[n].ext&&void 0!==t.banner.format[n].ext.siteID&&((0,u.N)(e.imp[r],"ext.siteID",t.banner.format[n].ext.siteID),(0,u.N)(e,"ext.ixdiag.usid",!0),delete e.imp[r].banner.format[n].ext.siteID)}if(c.pX in t){var a=t.video.ext;void 0!==a&&void 0!==a.siteID&&delete e.imp[r].video.ext.siteID}if(c.B5 in t){var o=t.native.ext;void 0!==o&&void 0!==o.siteID&&delete e.imp[r].native.ext.siteID}}})),e}function Pe(e){var t=0;return void 0!==e.banner&&(t+=1),void 0!==e.video&&(t+=1),void 0!==e.native&&(t+=1),t}function Te(e){return null==e.device&&(e.device={}),e.device.h=window.screen.height,e.device.w=window.screen.width,e}(0,b.dX)(Ce),(0,d.z)("ixBidAdapter")}},function(e){e.O(0,[33402,29703],(function(){return t=33390,e(e.s=t);var t}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[93157],{20676:function(n,r,t){t.d(r,{c:function(){return f}});var e=t(89062),u=t(83790),c=t(20265),o=["user.keywords"].concat(u.Iq.flatMap((function(n){return["keywords","content.keywords"].map((function(r){return"".concat(n,".").concat(r)}))})));function a(){for(var n=new Set,r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];return t.filter((function(n){return n})).flatMap((function(n){return Array.isArray(n)?n:n.split(",")})).map((function(n){return n.replace(/^\s*/,"").replace(/\s*$/,"")})).filter((function(n){return n})).forEach((function(r){return n.add(r)})),Array.from(n.keys())}function f(n){for(var r=arguments.length,t=new Array(r>1?r-1:0),u=1;u<r;u++)t[u-1]=arguments[u];return a.apply(void 0,(0,e.Z)(o.map((function(r){return(0,c.Z)(n,r)}))).concat(t))}}}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[2903],{43238:function(e,t,n){var r=n(71002),o=n(89062),i=n(93324),a=n(4942),c=n(78640),s=n(64358),d=n(20265),u=n(96475),l=n(64563),f=n(86104),p=n(5644),g=n(48928),v=n(3193),b=n(15164),I=n(9633);function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D,U,O,w,k,A,j,S=(0,b.df)({moduleType:I._U,moduleName:"magnite"}),T="mgniSession",Z="Magnite Analytics",C=["rubicon"],B={1:"timeout-error",2:"input-error",3:"connect-error",4:"request-error",999:"generic-error"},N=0,R=(0,c.R)(),M=p.FP,L=M.AUCTION_INIT,P=M.AUCTION_END,q=M.BID_REQUESTED,_=M.BID_RESPONSE,W=M.BIDDER_DONE,x=M.BID_TIMEOUT,V=M.BID_WON,z=M.BILLABLE_EVENT,H=M.SEAT_NON_BID,F=M.BID_REJECTED,J=function(){A={auctions:{},auctionOrder:[],timeouts:{},billing:{},pendingEvents:{},eventPending:!1,elementIdMap:{},sessionData:{}},k={pvid:(0,s.generateUUID)().slice(0,8),analyticsEventDelay:500,analyticsBatchTimeout:5e3,analyticsProcessDelay:1,dmBilling:{enabled:!1,vendors:[],waitForAuction:!0},pbaBrowserLocation:"client.browser"}};J(),v.vc.getConfig("rubicon",(function(e){(0,s.mergeDeep)(k,e.rubicon),!0===(0,d.Z)(e,"rubicon.updatePageView")&&(k.pvid=(0,s.generateUUID)().slice(0,8))})),v.vc.getConfig("s2sConfig",(function(e){var t=e.s2sConfig;j=t}));var G=function(){A.pendingEvents.trigger="batched-".concat(Object.keys(A.pendingEvents).sort().join("-")),$(A.pendingEvents),A.pendingEvents={},A.eventPending=!1},Q=function(e,t,n){A.auctions[t]&&!A.auctions[t].sent?A.auctions[t].pendingEvents=(0,s.mergeDeep)(A.auctions[t].pendingEvents,e):k.analyticsEventDelay>0?(A.pendingEvents=(0,s.mergeDeep)(A.pendingEvents,e),A.eventPending||(setTimeout(G,k.analyticsEventDelay),A.eventPending=!0)):(e.trigger="solo-".concat(n),$(e))},$=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=k.analyticsEndpoint||w;if(o){var i=E(E({},ee()),e);if(r)navigator.sendBeacon(o,JSON.stringify(i));else{if(null!==(t=window.pbjs)&&void 0!==t&&null!==(n=t.rp)&&void 0!==n&&n.eventDispatcher){var a=new CustomEvent("beforeSendingMagniteAnalytics",{detail:i});window.pbjs.rp.eventDispatcher.dispatchEvent(a)}(0,g.hj)(o,null,JSON.stringify(i),{contentType:"application/json"})}}else(0,s.logWarn)("".concat(Z,": Endpoint not initialized, skipping sending event"),e)},K=function(e,t){var n=A.auctions[e],r=X(n.auction);n.sent=!0,$(E(E({auctions:[r]},n.pendingEvents||{}),{},{trigger:t}))},X=function(e){var t,n,r=(0,s.deepClone)(e);return r.dmWebVitals=null==R||null===(t=R.rp)||void 0===t||null===(n=t.getDmWebVitals)||void 0===n?void 0:n.call(t,r.auctionId,!0),r.samplingFactor=1,r.adUnits=Object.entries(r.adUnits).map((function(e){var t=(0,i.Z)(e,2),n=(t[0],t[1]);return n.bids=Object.entries(n.bids).map((function(e){var t=(0,i.Z)(e,2),r=(t[0],t[1]),o=["error","no-bid","success"];return o.indexOf(r.status)>o.indexOf(n.status)&&(n.status=r.status),r.pbsBidId&&(r.oldBidId=r.bidId,r.bidId=r.pbsBidId,delete r.pbsBidId),r})),n})),r},Y=function(e,t){var n=function(e){var t,n;if("number"==typeof(0,d.Z)(e,"floorData.cpmAfterAdjustments"))t=e.floorData.cpmAfterAdjustments,n=e.floorData.floorCurrency;else{if("string"==typeof e.currency&&"USD"===e.currency.toUpperCase())return Number(e.cpm);t=e.cpm,n=e.currency}if("USD"===n)return Number(t);try{return Number(R.convertCurrency(t,n,"USD"))}catch(r){return(0,s.logWarn)("".concat(Z,": Could not determine the bidPriceUSD of the bid "),e),e.conversionError=!0,e.ogCurrency=n,e.ogPrice=t,0}}(e);return t&&t.bidPriceUSD>n?t:(0,s.pick)(e,["bidPriceUSD",function(){return n},"dealId",function(e){return e||void 0},"mediaType","dimensions",function(){var t=e.width||e.playerWidth,n=e.height||e.playerHeight;return t&&n?{width:t,height:n}:void 0},"floorValue",function(){return(0,d.Z)(e,"floorData.floorValue")},"floorRuleValue",function(){return(0,d.Z)(e,"floorData.floorRuleValue")},"floorRule",function(){return(0,s.debugTurnedOn)()?(0,d.Z)(e,"floorData.floorRule"):void 0},"adomains",function(){var t=(0,d.Z)(e,"meta.advertiserDomains"),n=Array.isArray(t)&&t.filter((function(e){return"string"==typeof e}));return n&&n.length>0?n.slice(0,10):void 0},"networkId",function(){var t=(0,d.Z)(e,"meta.networkId");return t&&t.toString()||void 0},"conversionError",function(e){return!0===e||void 0},"ogCurrency","ogPrice","rejectionReason"])},ee=function(){var e={channel:"web",integration:k.int_type||"pbjs",referrerUri:U,version:"8.18.0",referrerHostname:se.referrerHostname||te(U),timestamps:{timeSincePageLoad:performance.now(),eventTime:Date.now(),prebidLoaded:se.MODULE_INITIALIZED_TIME}};return D&&(0,u.N)(e,k.pbaBrowserLocation||"client.browser",D),k.wrapperName&&(e.wrapper={name:k.wrapperName,family:k.wrapperFamily,rule:k.rule_name,modelNames:k.wrapperModels}),A.sessionData&&(e.session=(0,s.pick)(A.sessionData,["id","pvid","start","expires"]),(0,s.isEmpty)(A.sessionData.fpkvs)||(e.fpkvs=Object.keys(A.sessionData.fpkvs).map((function(e){return{key:e,value:A.sessionData.fpkvs[e]}})))),e},te=function(e){try{se.referrerHostname=(0,s.parseUrl)(e,{noDecodeWholeURL:!0}).hostname}catch(t){(0,s.logError)("".concat(Z,": Unable to parse hostname from supplied url: "),e,t),se.referrerHostname=""}return se.referrerHostname},ne=function(){var e=Date.now(),t=function(){var e=S.getDataFromLocalStorage(T);if(e)try{return JSON.parse(window.atob(e))}catch(e){(0,s.logError)("".concat(Z,": Unable to decode ").concat(T," value: "),e)}return{}}();return(!Object.keys(t).length||e-t.lastSeen>18e5||t.expires<e)&&(t={id:(0,s.generateUUID)(),start:e,expires:e+216e5}),Object.keys(t).length&&(t.lastSeen=e,t.fpkvs=E(E({},t.fpkvs),re()),t.pvid=k.pvid,function(e){try{S.setDataInLocalStorage(T,window.btoa(JSON.stringify(e)))}catch(e){(0,s.logError)("".concat(Z,": Unable to encode ").concat(T," value: "),e)}}(t)),t},re=function(){return k.fpkvs=Object.assign(k.fpkvs||{},function(){var e;try{e=(0,s.parseQS)((0,s.getWindowLocation)().search)}catch(t){e={}}return Object.keys(e).reduce((function(t,n){return n.match(/utm_/)&&(t[n.replace(/utm_/,"")]=e[n]),t}),{})}()),Object.keys(k.fpkvs).forEach((function(e){k.fpkvs[e]=k.fpkvs[e]+""})),k.fpkvs},oe=function(e){return{width:e.w||e[0],height:e.h||e[1]}},ie=function(e,t){var n,r={},o=m(A.auctionOrder);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=A.auctions[i].auction;for(var c in a.adUnits){var d=a.adUnits[c],u=void 0;try{u=e(d,a)}catch(e){(0,s.logWarn)("".concat(Z,": Error running matches function: ").concat(t),e),u=!1}if(u&&(r={adUnit:d,auction:a},t))return r}}}catch(e){o.e(e)}finally{o.f()}return r},ae=function(e){var t=function(e){if(!v.vc.getConfig("useBidCache"))return{renderTransactionId:e.transactionId,renderAuctionId:e.auctionId};var t=ie((function(t,n){var r=(0,d.Z)(A,"auctions.".concat(n.auctionId,".gamRenders.").concat(t.transactionId));return t.adUnitCode===e.adUnitCode&&r}),!1),n=t.adUnit,r=t.auction;return{renderTransactionId:n&&n.transactionId||e.transactionId,renderAuctionId:r&&r.auctionId||e.auctionId}}(e),n=t.renderTransactionId,r=t.renderAuctionId,o=n!==e.transactionId;(0,s.logInfo)("".concat(Z,": Bid Won : "),{isCachedBid:o,renderAuctionId:r,renderTransactionId:n,sourceAuctionId:e.auctionId,sourceTransactionId:e.transactionId});var i=(0,d.Z)(A,"auctions.".concat(e.auctionId,".auction.adUnits.").concat(e.transactionId,".bids.").concat(e.requestId)),a=(0,d.Z)(A,"auctions.".concat(e.auctionId,".auction.adUnits.").concat(e.transactionId)),c=E(E({},i),{},{sourceAuctionId:e.auctionId,renderAuctionId:r,transactionId:e.transactionId,sourceTransactionId:e.transactionId,bidId:i.pbsBidId||e.bidId||e.requestId,renderTransactionId:n,accountId:O,siteId:a.siteId,zoneId:a.zoneId,mediaTypes:a.mediaTypes,adUnitCode:a.adUnitCode,isCachedBid:o||void 0});return delete c.pbsBidId,c},ce=function(){window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t=(0,s.isAdUnitCodeMatchingSlot)(e.slot),n=ie((function(e,n){var r=(A.elementIdMap[e.adUnitCode]||[e.adUnitCode]).some(t),o=(0,d.Z)(A,"auctions.".concat(n.auctionId,".gamRenders.").concat(e.transactionId));return r&&!o}),!0),r=n.adUnit,o=n.auction,i="".concat(e.slot.getAdUnitPath()," - ").concat(e.slot.getSlotElementId());if(r&&o){var a=o.auctionId;(0,s.logInfo)("".concat(Z,": Gam Render: "),{slotName:i,transactionId:r.transactionId,auctionId:a,adUnit:r});var c=function(e,t,n){var r=(0,s.pick)(e,["advertiserId",function(e){return(0,s.isNumber)(e)?e:void 0},"creativeId",function(t){return(0,s.isNumber)(e.sourceAgnosticCreativeId)?e.sourceAgnosticCreativeId:(0,s.isNumber)(t)?t:void 0},"lineItemId",function(t){return(0,s.isNumber)(e.sourceAgnosticLineItemId)?e.sourceAgnosticLineItemId:(0,s.isNumber)(t)?t:void 0},"adSlot",function(){return e.slot.getAdUnitPath()},"isSlotEmpty",function(){return e.isEmpty||void 0}]);return r.auctionId=n.auctionId,r.transactionId=t.transactionId,r}(e,r,o);(0,u.N)(A,"auctions.".concat(a,".gamRenders.").concat(r.transactionId),!0),Q({gamRenders:[c]},a,"gam"),!A.auctions[a].sent&&Object.keys(A.auctions[a].gamRenders).every((function(e){return A.auctions[a].gamRenders[e]}))&&(clearTimeout(A.timeouts[a]),delete A.timeouts[a],k.analyticsEventDelay>0?setTimeout((function(){K(a,"gam-delayed")}),k.analyticsEventDelay):K(a,"gam"))}else(0,s.logInfo)("".concat(Z,": Could not find matching adUnit for Gam Render: "),{slotName:i})}))},se=(0,l.ZP)({analyticsType:"endpoint"});function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!1;(w=(0,d.Z)(e,"options.endpoint"))||((0,s.logError)("".concat(Z,": required endpoint missing")),t=!0),(O=Number((0,d.Z)(e,"options.accountId")))||((0,s.logError)("".concat(Z,": required accountId missing")),t=!0),t||se.originEnableAnalytics(e),(0,s.isGptPubadsDefined)()?ce():(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){return ce()})))}se.originEnableAnalytics=se.enableAnalytics;var ue=function(e){var t=ae(e);Q({bidsWon:[t]},t.renderAuctionId,"bidWon")},le=function(e,t){Object.keys(t).forEach((function(n){Array.isArray(t[n])&&t[n].length&&(e[n]=t[n].length)}))};window.addEventListener("beforeunload",(function(){var e,t;(0,s.logInfo)("".concat(Z,": Before Unload"));var n={};Object.keys(A.auctions).forEach((function(e){A.auctions[e].sent||(n.auctions=n.auctions||0,n.auctions+=1,A.auctions[e].pendingEvents&&Object.keys(A.auctions[e].pendingEvents).length&&le(n,A.auctions[e].pendingEvents),(0,s.logInfo)("".concat(Z,": Auction ").concat(e," not sent!")))})),le(n,A.pendingEvents);var o=A.auctionOrder[A.auctionOrder.length-1],i=null==R||null===(e=R.rp)||void 0===e||null===(t=e.getDmWebVitals)||void 0===t?void 0:t.call(e,o,!0);"object"===(0,r.Z)(i)&&Object.keys(i).length&&(n.dmWebVitals=i),Object.keys(n).length&&(n.accountId=O,$({missedEvents:n,trigger:"unload"},!0))})),se.enableAnalytics=de,se.originDisableAnalytics=se.disableAnalytics,se.disableAnalytics=function(){se._oldEnable=de,w=void 0,O=void 0,N=0,J(),se.originDisableAnalytics()},se.onDataDeletionRequest=function(){if(!S.localStorageIsEnabled())throw Error("Unable to access local storage, no data deleted");S.removeDataFromLocalStorage(T)},se.MODULE_INITIALIZED_TIME=Date.now(),se.referrerHostname="";var fe=function(e,t){var n=(0,d.Z)(A,"auctions.".concat(e.auctionId,".auction")),r=(0,d.Z)(n,"adUnits.".concat(e.transactionId)),o=r.bids[e.requestId];if(!o&&e.originalRequestId){var i=r.bids[e.originalRequestId];r.bids[e.requestId]=E(E({},i),{},{bidId:e.requestId,bidderDetail:e.targetingBidder}),o=r.bids[e.requestId]}if("boolean"!=typeof(0,d.Z)(n,"floors.enforcement")&&(0,d.Z)(e,"floorData.enforcements")&&((0,u.N)(n,"floors.enforcement",e.floorData.enforcements.enforceJS),(0,u.N)(n,"floors.dealsEnforced",e.floorData.enforcements.floorDeals)),!o&&e.seatBidId&&(o=r.bids[e.seatBidId]={bidder:e.bidderCode,source:"server",bidId:e.seatBidId,unknownBid:!0}),o){o.status=t;var a=pe(e,n.auctionStart);o.clientLatencyMillis=a.total,o.httpLatencyMillis=a.net,o.bidResponse=Y(e,o.bidResponse);var c=(0==e.pbsBidId?(0,s.generateUUID)():e.pbsBidId)||(0==e.seatBidId?(0,s.generateUUID)():e.seatBidId);c&&(o.pbsBidId=c)}else(0,s.logError)("".concat(Z,": Could not find associated bid request for bid response with requestId: "),e.requestId)},pe=function(e,t){try{var n=e.metrics.getMetrics(),r=e.src||e.source;return{total:parseInt(n["adapter.".concat(r,".total")]),net:parseInt(Array.isArray(n["adapter.".concat(r,".net")])?n["adapter.".concat(r,".net")][n["adapter.".concat(r,".net")].length-1]:n["adapter.".concat(r,".net")])}}catch(e){var o=Date.now()-t;return{total:o,net:o}}};se.track=function(e){var t,n,r,i,a,c=e.eventType,l=e.args;switch(c){case L:N+=1,A.sessionData=S.localStorageIsEnabled()&&ne(),i=f.ZP.aliasRegistry,a=Object.keys(i).filter((function(e){return"rubicon"===i[e]})),C.push.apply(C,(0,o.Z)(a)),U=(0,d.Z)(l,"bidderRequests.0.refererInfo.page");var g=(0,s.pick)(l,["auctionId","timestamp as auctionStart","timeout as clientTimeoutMillis"]);if(g.accountId=O,g.auctionCount=N,!D){var v=(0,d.Z)(l,"bidderRequests.0.ortb2.device.ua",navigator.userAgent)||"";D=function(e){var t=e.toLowerCase();return t.includes("edg")?"Edge":/opr|opera|opt/i.test(t)?"Opera":/chrome|crios/i.test(t)?"Chrome":/fxios|firefox/i.test(t)?"Firefox":t.includes("safari")&&!/chromium|ucbrowser/i.test(t)?"Safari":"OTHER"}(v)}g.bidderOrder=l.bidderRequests.map((function(e){return e.bidderCode}));var b=(0,d.Z)(l,"bidderRequests.0.bids.0.floorData");b&&(g.floors=function(e){return"noData"===e.location?(0,s.pick)(e,["location","fetchStatus","floorProvider as provider"]):(0,s.pick)(e,["location","modelVersion as modelName","modelWeight","modelTimestamp","skipped","enforcement",function(){return(0,d.Z)(e,"enforcements.enforceJS")},"dealsEnforced",function(){return(0,d.Z)(e,"enforcements.floorDeals")},"skipRate","fetchStatus","floorMin","floorProvider as provider"])}(b));var I=(0,d.Z)(l,"bidderRequests.0.gdprConsent");I&&(g.gdpr=(0,s.pick)(I,["gdprApplies as applies","consentString","apiVersion as version"]));var m=Object.keys((0,d.Z)(l,"bidderRequests.0.bids.0.userId",{})).map((function(e){return{provider:e,hasId:!0}}));m.length&&(g.user={ids:m}),j&&(g.serverTimeoutMillis=j.timeout);var y={};g.adUnits=l.adUnits.reduce((function(e,t){var n=(0,s.pick)(t,["code as adUnitCode","transactionId","mediaTypes",function(e){return Object.keys(e)},"sizes as dimensions",function(e){return(e||[[1,1]]).map(oe)}]);n.pbAdSlot=(0,d.Z)(t,"ortb2Imp.ext.data.pbadslot"),n.pattern=(0,d.Z)(t,"ortb2Imp.ext.data.aupname"),n.gpid=(0,d.Z)(t,"ortb2Imp.ext.gpid"),n.bids={},e[t.transactionId]=n,y[t.transactionId]=!1;var r=(0,d.Z)(t,"ortb2Imp.ext.data.elementid");r&&(A.elementIdMap[t.code]=A.elementIdMap[t.code]||[],("string"==typeof r?[r]:r).forEach((function(e){A.elementIdMap[t.code].includes(e)||A.elementIdMap[t.code].push(e)})));return e}),{}),A.auctions[l.auctionId]={auction:g,gamRenders:y,pendingEvents:{}};break;case q:l.bids.forEach((function(e){var t=(0,d.Z)(A,"auctions.".concat(l.auctionId,".auction.adUnits.").concat(e.transactionId));t.bids[e.bidId]=(0,s.pick)(e,["bidder","bidId","source",function(){return"s2s"===e.src?"server":"client"},"status",function(){return"no-bid"}]),t.siteId&&t.zoneId||-1===C.indexOf(e.bidder)||(0,d.Z)(e,"params.accountId")==O&&(t.accountId=parseInt(O),t.siteId=parseInt((0,d.Z)(e,"params.siteId")),t.zoneId=parseInt((0,d.Z)(e,"params.zoneId")))}));break;case _:fe(l,"success");break;case F:var h=l.rejectionReason===p.Gw.pe?"rejected-ipf":"rejected";fe(l,h);break;case H:ge(l);break;case W:var E=(0,d.Z)(l,"serverErrors.0"),w=l.serverResponseTimeMs;l.bids.forEach((function(e){var t=(0,d.Z)(A,"auctions.".concat(e.auctionId,".auction.adUnits.").concat(e.transactionId,".bids.").concat(e.bidId));if(void 0!==e.serverResponseTimeMs?t.serverLatencyMillis=e.serverResponseTimeMs:w&&"s2s"===e.source&&(t.serverLatencyMillis=w),!E||t.status&&-1===["no-bid","error"].indexOf(t.status)||(t.status="error",t.error={code:B[E.code]||B[999],description:E.message}),!t.clientLatencyMillis||!t.httpLatencyMillis){var n=pe(e,(0,d.Z)(A,"auctions.".concat(l.auctionId,".auction.auctionStart")));t.clientLatencyMillis=t.clientLatencyMillis||n.total,t.httpLatencyMillis=t.httpLatencyMillis||n.net}}));break;case V:k.analyticsProcessDelay>0?setTimeout((function(){ue(l)}),k.analyticsProcessDelay):ue(l);break;case P:var T=A.auctions[l.auctionId];if(!T)break;T.auction.auctionEnd=l.auctionEnd,A.auctionOrder.push(l.auctionId),l.adUnits&&l.adUnits.every((function(e){return function(e){return e.mediaTypes&&1===Object.keys(e.mediaTypes).length&&"instream"===(0,d.Z)(e,"mediaTypes.video.context")}(e)}))||0===k.analyticsBatchTimeout?K(l.auctionId,"solo-auction"):A.timeouts[l.auctionId]=setTimeout((function(){K(l.auctionId,"auctionEnd")}),k.analyticsBatchTimeout);break;case x:l.forEach((function(e){var t=(0,d.Z)(A,"auctions.".concat(e.auctionId,".auction.adUnits.").concat(e.transactionId,".bids.").concat(e.bidId),{});"error"!==t.status&&(t.status="error",t.error={code:"timeout-error",description:"prebid.js timeout"})}));break;case z:if(k.dmBilling.enabled&&(t=l,n=k.dmBilling.vendors.includes(t.vendor),r="boolean"!=typeof(0,d.Z)(A.billing,"".concat(t.vendor,".").concat(t.billingId)),"string"==typeof t.billingId&&n&&r)){(0,u.N)(A.billing,"".concat(l.vendor,".").concat(l.billingId),!1);var R=function(e){var t=(0,s.deepClone)(e);return t.type="string"==typeof e.type&&e.type||"general",t.accountId=O,(0,u.N)(A.billing,"".concat(e.vendor,".").concat(e.billingId),!0),t}(l);Q({billableEvents:[R]},l.auctionId,"billing")}else(0,s.logInfo)("".concat(Z,": Billing event ignored"),l)}};var ge=function(e){var t=e.seatnonbid,n=e.auctionId,r=(0,d.Z)(A,"auctions.".concat(n,".auction"));if(r){var o=r.adUnits;t.forEach((function(e){var t=e.seat;e.nonbid.forEach((function(e){try{var n=e.status,i=e.impid,a=Object.keys(o).find((function(e){return o[e].adUnitCode===i})),c=o[a],d=ve[n]||{status:"no-bid"};c.bids[(0,s.generateUUID)()]=E({bidder:t,source:"server",isSeatNonBid:!0,clientLatencyMillis:Date.now()-r.auctionStart},d)}catch(e){(0,s.logWarn)("Unable to match nonbid to adUnit")}}))}))}else(0,s.logWarn)("Unable to match nonbid to auction")},ve={0:{status:"no-bid"},100:{status:"error",error:{code:"request-error",description:"general error"}},101:{status:"error",error:{code:"timeout-error",description:"prebid server timeout"}},200:{status:"rejected"},202:{status:"rejected"},301:{status:"rejected-ipf"}};f.ZP.registerAnalyticsAdapter({adapter:se,code:"magnite",gvlid:52});(0,c.z)("magniteAnalyticsAdapter")}},function(e){e.O(0,[14861],(function(){return t=43238,e(e.s=t);var t}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[67659],{26249:function(e,r,n){var o=n(78640),s=n(64358),i=n(48928),t=n(92797),d=n(15164),l=n(9633),a="merkleId",f="https://prebid.sv.rkdms.com/identity/",u="_svsid",g=(0,d.df)({moduleType:l.y2,moduleName:a});function p(e,r,n){var o=new Date;o.setTime(o.getTime()+1e3*n*60),g.setCookie(e,r,o.toUTCString(),"Lax")}function c(e){var r=function(e){return"string"==typeof e.sv_session?e.sv_session:g.getCookie(u)}(e),n=e.endpoint+"?sv_domain=".concat(e.sv_domain,"&sv_pubid=").concat(e.sv_pubid,"&ssp_ids=").concat(e.ssp_ids.join());return r&&(n="".concat(n,"&sv_session=").concat(r)),(0,s.logInfo)("Merkle url :"+n),n}function m(e,r){var n=c(e);return function(e){i.OI()(n,(function(n){var o;if(n)try{o=JSON.parse(n),function(e,r){(0,s.logInfo)("Merkle setting "+"".concat(u)),r&&r._svsid&&"string"==typeof r._svsid&&p(u,r._svsid,e.expires)}(r,o),(0,s.logInfo)("Merkle responseObj "+JSON.stringify(o))}catch(e){(0,s.logError)(e)}var i=(new Date).toUTCString();o.date=i,(0,s.logInfo)("Merkle responseObj with date "+JSON.stringify(o)),e(o)}),(function(r){(0,s.logError)("".concat(a,": merkleId fetch encountered an error"),r),e()}),{method:"GET",withCredentials:!0})}}var I={name:a,decode:function(e){var r=e&&e.pam_id&&"string"==typeof e.pam_id.id?e.pam_id:void 0;if((0,s.logInfo)("Merkle id "+JSON.stringify(r)),r)return{merkleId:r};var n=e&&null!=e&&e.merkleId&&Array.isArray(e.merkleId)?e.merkleId:void 0;return(0,s.logInfo)("merkleIds: "+JSON.stringify(n)),n?{merkleId:n}:void 0},getId:function(e,r){(0,s.logInfo)("User ID - merkleId generating id");var n=e&&e.params||{};if("string"==typeof n.sv_pubid)if(Array.isArray(n.ssp_ids)){if(!r||"boolean"!=typeof r.gdprApplies||!r.gdprApplies)return"string"!=typeof n.endpoint&&((0,s.logWarn)("User ID - merkleId submodule endpoint string is not defined"),n.endpoint=f),"string"!=typeof n.sv_domain&&(n.sv_domain=I.findRootDomain()),{callback:m(n,e&&e.storage||{})};(0,s.logError)("User ID - merkleId submodule does not currently handle consent strings")}else(0,s.logError)("User ID - merkleId submodule requires a valid ssp_ids array to be defined");else(0,s.logError)("User ID - merkleId submodule requires a valid sv_pubid string to be defined")},extendId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;(0,s.logInfo)("User ID - stored id "+n);var o=e&&e.params||{};if("string"!=typeof o.endpoint&&((0,s.logWarn)("User ID - merkleId submodule endpoint string is not defined"),o.endpoint=f),!r||"boolean"!=typeof r.gdprApplies||!r.gdprApplies){"string"!=typeof o.sv_domain&&(o.sv_domain=I.findRootDomain());var i=e&&e.storage||{};if(i&&i.refreshInSeconds&&"number"==typeof o.refreshInSeconds)return{id:n};var t=25200;o&&o.refreshInSeconds&&"number"==typeof o.refreshInSeconds&&(t=o.refreshInSeconds,(0,s.logInfo)("User ID - merkleId param refreshInSeconds"+t));var d=new Date(n.date);if(d&&(d&&Date.now()-d.getTime()>1e3*t)){(0,s.logInfo)("User ID - merkleId needs refreshing id");var l=m(o,i);return{callback:l}}return(0,s.logInfo)("User ID - merkleId not refreshed"),{id:n}}(0,s.logError)("User ID - merkleId submodule does not currently handle consent strings")},eids:{merkleId:{atype:3,getSource:function(e){var r;return null!=e&&null!==(r=e.ext)&&void 0!==r&&r.ssp?"".concat(e.ext.ssp,".merkleinc.com"):"merkleinc.com"},getValue:function(e){return e.id},getUidExt:function(e){return e.keyID?{keyID:e.keyID}:e.ext?e.ext:void 0}}}};(0,t.Bx)("userId",I),(0,o.z)("merkleIdSystem")}},function(e){var r;r=26249,e(e.s=r)}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[72075],{67172:function(n,r,e){e.d(r,{fC:function(){return b}});var t=e(93324),i=e(50571),o=e(74947),u=e(41087),c=e(71002),a=e(64358),f=e(20265),l=e(96475);function d(n){var r={},e=[];n.forEach((function(n){n.wp&&e.push(n),n.get&&n.paths.forEach((function(e){var t=r;e.split(".").forEach((function(n){t.children=t.children||{},t.children[n]=t.children[n]||{},t=t.children[n]})),t.rule=n}))}));var t=(0,u.Db)(e);function i(n,r,e){return new Proxy(n,{get:function(n,t,o){var a=Reflect.get(n,t,o);if(r.hasOwnProperty(t)){var f=r[t],l=f.children,d=f.rule;if(l&&null!=a&&"object"===(0,c.Z)(a))return i(a,l,e);if(d&&(0,u.a)(a)&&e(d))return d.get(a)}return a}})}function o(n){return function(){n.forEach((function(n){return n()}))}}return function(n){for(var e={},c=arguments.length,a=new Array(c>1?c-1:0),f=1;f<c;f++)a[f-1]=arguments[f];return{obj:i(n,r.children||{},u.RD.apply(void 0,[e].concat(a))),verify:o(t.apply(void 0,[e,n].concat(a)))}}}function v(n){return Object.assign({wp:!0,run:function(n,r,e,t,i){var o=e&&e.hasOwnProperty(t),d=o?e[t]:void 0,v=o&&null!=d&&"object"===(0,c.Z)(d)?(0,a.deepClone)(d):d;return function(){var e=null==r?n:(0,f.Z)(n,r),c=e&&(0,u.a)(e[t]),h=c?e[t]:void 0;!o&&c&&i()?delete e[t]:o===c&&h===d&&(0,a.deepEqual)(h,v)||!i()||(0,l.N)(n,(null==r?[]:[r]).concat(t).join("."),v)}}},n)}function h(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.xD;return[{name:o.EL,paths:u.ZZ,applies:(0,u.js)(o.EL,n)},{name:o.S5,paths:u.$8,applies:(0,u.js)(o.S5,n)}].map(v)}var p=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.xD;return d((0,u.Mp)(n).concat(h(n)))}();var b=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return function(r,e){r.global=r.global||{},r.bidder=r.bidder||{};var i=new Set(Object.keys(r.bidder)),o=[];function u(r){var t=n(r,e);return o.push(t.verify),t.obj}var c={global:u(r.global),bidder:Object.fromEntries(Object.entries(r.bidder).map((function(n){var r=(0,t.Z)(n,2);return[r[0],u(r[1])]})))};return{obj:c,verify:function(){Object.entries(c.bidder).filter((function(n){var r=(0,t.Z)(n,1)[0];return!i.has(r)})).forEach((function(i){var o=(0,t.Z)(i,2),u=o[0],c=o[1],f={},l=n(f,e);(0,a.mergeDeep)(l.obj,c),l.verify(),r.bidder[u]=f})),o.forEach((function(n){return n()}))}}}}()}}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[85279],{24980:function(e,r,t){t.d(r,{T:function(){return O},x:function(){return g}});var n=t(93324),i=new WeakMap;function o(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i.has(e)){var t=Object.entries(e);t.sort((function(e,r){return(e=e[1].priority||0)===(r=r[1].priority||0)?0:e>r?-1:1})),i.set(e,t.map((function(e){var r=(0,n.Z)(e,2);return[r[0],r[1].fn]})))}var o=i.get(e).filter((function(e){var t=(0,n.Z)(e,1)[0];return!r.hasOwnProperty(t)||r[t]})).map((function(e){var t=(0,n.Z)(e,2),i=t[0],o=t[1];return r.hasOwnProperty(i)?r[i].bind(this,o):o}));return function(){var e=this,r=Array.from(arguments);o.forEach((function(t){t.apply(e,r)}))}}var a=t(64358),s=t(4942),d=t(20265),p=t(24679);function u(e){return(e=(0,a.parseSizesInput)(e)).map((function(e){var r=e.split("x"),t=(0,n.Z)(r,2),i=t[0],o=t[1];return{w:parseInt(i,10),h:parseInt(o,10)}}))}var f=new Set(["pos","placement","plcmt","api","mimes","protocols","playbackmethod","minduration","maxduration","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","minbitrate","maxbitrate","delivery","playbackend"]),c={instream:1};var m=t(15840);var l,v=t(26372),b=t(83790),y=(l={},(0,s.Z)(l,v.Z,{fpd:{priority:99,fn:function(e,r){(0,a.mergeDeep)(e,r.ortb2)}},onlyOneClient:{priority:-99,fn:(0,b.A_)("ORTB request")},props:{fn:function(e,r){Object.assign(e,{id:e.id||(0,a.generateUUID)(),test:e.test||0});var t=parseInt(r.timeout,10);isNaN(t)||(e.tmax=t)}}}),(0,s.Z)(l,v.DZ,{fpd:{priority:99,fn:function(e,r){(0,a.mergeDeep)(e,r.ortb2Imp)}},id:{fn:function(e,r){e.id=r.bidId}},banner:{fn:function(e,r,t){if(!t.mediaType||t.mediaType===p.Mk){var n=(0,d.Z)(r,"mediaTypes.banner");if(n){var i={topframe:!0===(0,a.inIframe)()?0:1};n.sizes&&(i.format=u(n.sizes)),n.hasOwnProperty("pos")&&(i.pos=n.pos),e.banner=(0,a.mergeDeep)(i,e.banner)}}}},pbadslot:{fn:function(e){var r,t,n,i,o=null===(r=e.ext)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.pbadslot;o&&"string"==typeof o||(null===(n=e.ext)||void 0===n||(null===(i=n.data)||void 0===i||delete i.pbadslot))}}}),(0,s.Z)(l,v.Px,{mediaType:{priority:99,fn:m.R},banner:{fn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.createPixel,t=void 0===r?function(e){return(0,a.createTrackPixelHtml)(decodeURIComponent(e))}:r;return function(e,r){e.mediaType===p.Mk&&(r.adm&&r.nurl?(e.ad=r.adm,e.ad+=t(r.nurl)):r.adm?e.ad=r.adm:r.nurl&&(e.adUrl=r.nurl))}}()},props:{fn:function(e,r,t){var i;Object.entries({requestId:null===(i=t.bidRequest)||void 0===i?void 0:i.bidId,seatBidId:r.id,cpm:r.price,currency:t.ortbResponse.cur||t.currency,width:r.w,height:r.h,dealId:r.dealid,creative_id:r.crid,creativeId:r.crid,burl:r.burl,ttl:r.exp||t.ttl,netRevenue:t.netRevenue}).filter((function(e){var r=(0,n.Z)(e,2);r[0];return void 0!==r[1]})).forEach((function(r){var t=(0,n.Z)(r,2),i=t[0],o=t[1];return e[i]=o})),e.meta||(e.meta={}),r.adomain&&(e.meta.advertiserDomains=r.adomain)}}}),l);y[v.DZ].native={fn:function(e,r,t){if(!t.mediaType||t.mediaType===p.B5){var n,i=r.nativeOrtbRequest;i&&(null!==(n=(i=Object.assign({},t.nativeRequest,i)).assets)&&void 0!==n&&n.length?e.native=(0,a.mergeDeep)({},{request:JSON.stringify(i),ver:i.ver},e.native):(0,a.logWarn)("mediaTypes.native is set, but no assets were specified. Native request skipped.",r))}}},y[v.Px].native={fn:function(e,r){if(e.mediaType===p.B5){var t;if(t="string"==typeof r.adm?JSON.parse(r.adm):r.adm,!(0,a.isPlainObject)(t)||!Array.isArray(t.assets))throw new Error("ORTB native response contained no assets");e.native={ortb:t}}}},y[v.DZ].video={fn:function(e,r,t){if(!t.mediaType||t.mediaType===p.pX){var i=(0,d.Z)(r,"mediaTypes.video");if(!(0,a.isEmpty)(i)){var o=Object.fromEntries(Object.entries(i).filter((function(e){var r=(0,n.Z)(e,1)[0];return f.has(r)})));if(i.playerSize){var s=u(i.playerSize);s.length>1&&(0,a.logWarn)("video request specifies more than one playerSize; all but the first will be ignored"),Object.assign(o,s[0])}var m=c[i.context];null!=m&&(o.placement=m),e.video=(0,a.mergeDeep)(o,e.video)}}}},y[v.Px].video={fn:function(e,r,t){if(e.mediaType===p.pX){if((0,d.Z)(t.imp,"video.w")&&(0,d.Z)(t.imp,"video.h")){var n=[t.imp.video.w,t.imp.video.h];e.playerWidth=n[0],e.playerHeight=n[1]}r.adm&&(e.vastXml=r.adm),r.nurl&&(e.vastUrl=r.nurl)}}};var h=t(61283);function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.context,t=void 0===r?{}:r,n=e.processors,i=void 0===n?O:n,s=e.overrides,d=void 0===s?{}:s,p=e.imp,u=e.request,f=e.bidResponse,c=e.response,m=new WeakMap;function l(e,r,t,n){var a;return function(){return null==a&&(a=function(){var a=t.bind(this,o(i()[e]||{},d[e]||{}));return r&&(a=r.bind(this,a)),function(){try{return a.apply(this,arguments)}catch(e){n.call.apply(n,[this,e].concat(Array.prototype.slice.call(arguments)))}}}()),a.apply(this,arguments)}}var b=l(v.DZ,p,(function(e,r,t){var n={};return e(n,r,t),n}),(function(e,r,t){(0,a.logError)("Error while converting bidRequest to ORTB imp; request skipped.",{error:e,bidRequest:r,context:t})})),y=l(v.Z,u,(function(e,r,t,n){var i={imp:r};return e(i,t,n),i}),(function(e,r,t,n){throw(0,a.logError)("Error while converting to ORTB request",{error:e,imps:r,bidderRequest:t,context:n}),e})),h=l(v.Px,f,(function(e,r,t){var n={};return e(n,r,t),n}),(function(e,r,t){(0,a.logError)("Error while converting ORTB seatbid.bid to bidResponse; bid skipped.",{error:e,bid:r,context:t})})),g=l(v.YC,c,(function(e,r,t,n){var i={bids:r};return e(i,t,n),i}),(function(e,r,t,n){throw(0,a.logError)("Error while converting from ORTB response",{error:e,bidResponses:r,ortbResponse:t,context:n}),e}));return{toORTB:function(e){var r=e.bidderRequest,n=e.bidRequests,i=e.context,o=void 0===i?{}:i;n=n||r.bids;var s={req:Object.assign({bidRequests:n},t,o),imp:{}};s.req.impContext=s.imp;var d=n.map((function(e){var n=Object.assign({bidderRequest:r,reqContext:s.req},t,o),i=b(e,n);if(null!=i){if(i.hasOwnProperty("id"))return Object.assign(n,{bidRequest:e,imp:i}),s.imp[i.id]=n,i;(0,a.logError)("Converted ORTB imp does not specify an id, ignoring bid request",e,i)}})).filter(Boolean),p=y(d,r,s.req);return s.req.bidderRequest=r,null!=p&&m.set(p,s),p},fromORTB:function(e){var r=e.request,t=e.response,n=m.get(r);if(null==n)throw new Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign(e,{ortbRequest:r},t,e)}var o=Object.fromEntries((r.imp||[]).map((function(e){return[e.id,e]}))),s=(t.seatbid||[]).flatMap((function(e){return(e.bid||[]).map((function(r){if(o.hasOwnProperty(r.impid)&&n.imp.hasOwnProperty(r.impid))return h(r,i(n.imp[r.impid],{imp:o[r.impid],seatbid:e,ortbResponse:t}));(0,a.logError)("ORTB response seatbid[].bid[].impid does not match any imp in request; ignoring bid",r)}))})).filter(Boolean);return g(s,t,i(n.req))}}}var O=(0,a.memoize)((function(){return(0,h.F)(y,(0,v.fP)(v.TP))}))},61283:function(e,r,t){t.d(r,{F:function(){return i}});var n=t(26372);function i(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var o=r.shift(),a=r.length>1?i.apply(void 0,r):r[0];return Object.fromEntries(n.gm.map((function(e){return[e,Object.assign({},o[e],a[e])]})))}},15840:function(e,r,t){t.d(r,{R:function(){return o},e:function(){return i}});var n=t(24679),i={1:n.Mk,2:n.pX,4:n.B5};function o(e,r,t){if(!e.mediaType){var n=t.mediaType;if(!n&&!i.hasOwnProperty(r.mtype))throw new Error("Cannot determine mediaType for response");e.mediaType=n||i[r.mtype]}}}}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[31249],{4972:function(r,a,e){var o=e(78640),n=e(92797),t=e(15164),i=e(64358),l=e(9633),d="pairId",c="pairId",u=(0,t.df)({moduleType:l.y2,moduleName:d});function p(r){return u.localStorageIsEnabled()?u.getDataFromLocalStorage(r):null}function s(r){return u.cookiesAreEnabled()?u.getCookie(r):null}var f={name:d,gvlid:755,decode:function(r){return r&&Array.isArray(r)?{pairId:r}:void 0},getId:function(r){var a=p(c)||s(c),e=[];if(a&&"string"==typeof a)try{e=e.concat(JSON.parse(atob(a)))}catch(r){(0,i.logInfo)(r)}var o=r&&r.params||{};if(o&&o.liveramp){var n=o.liveramp.storageKey||"_lr_pairId",t=p(n)||s(n);try{var l=JSON.parse(atob(t));e=e.concat(l.envelope)}catch(r){(0,i.logInfo)(r)}}if(0!=e.length)return{id:e};(0,i.logInfo)("PairId not found.")},eids:{pairId:{source:"google.com",atype:571187}}};(0,n.Bx)("userId",f),(0,o.z)("pairIdSystem")}},function(r){var a;a=4972,r(r.s=a)}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[70951],{99933:function(e,i,r){r.d(i,{X:function(){return x}});var t=r(61283),d=r(4942),n=r(93324),a=r(26372),o=r(20265),s=r(64358),c=r(11021),b=r(86104),u=r(96475);var p=r(39702);var v=r(3193),f=r(78640);var l,g=r(24679);var m=(l={},(0,d.Z)(l,a.Z,{extPrebid:{fn:function(e,i){var r;(0,u.N)(e,"ext.prebid",(0,s.mergeDeep)({auctiontimestamp:i.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},null===(r=e.ext)||void 0===r?void 0:r.prebid)),v.vc.getConfig("debug")&&(e.ext.prebid.debug=!0)}},extPrebidChannel:{fn:function(e){var i,r;(0,u.N)(e,"ext.prebid.channel",Object.assign({name:"pbjs",version:(0,f.R)().version},null===(i=e.ext)||void 0===i||null===(r=i.prebid)||void 0===r?void 0:r.channel))}},extPrebidAliases:{fn:function(e,i,r){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=t.am,n=void 0===d?b.ZP:d;if(n.aliasRegistry[i.bidderCode]){var a=n.bidderRegistry[i.bidderCode];a&&a.getSpec().skipPbsAliasing||(0,u.N)(e,"ext.prebid.aliases.".concat(i.bidderCode),n.aliasRegistry[i.bidderCode])}}}}),(0,d.Z)(l,a.DZ,{params:{fn:p.j},adUnitCode:{fn:function(e,i){var r=i.adUnitCode;r&&(0,u.N)(e,"ext.prebid.adunitcode",r)}}}),(0,d.Z)(l,a.Px,{mediaType:{fn:c.P,priority:99},videoCache:{fn:function(e,i){if(e.mediaType===g.pX){var r=(0,o.Z)(i,"ext.prebid.cache.vastXml")||{},t=r.cacheId,d=r.url;if(!t||!d){var n=(0,o.Z)(i,"ext.prebid.targeting")||{},a=n.hb_uuid,s=n.hb_cache_host,c=n.hb_cache_path;a&&s&&c&&(t=a,d="https://".concat(s).concat(c,"?uuid=").concat(a))}t&&d&&Object.assign(e,{videoCacheKey:t,vastUrl:d})}},priority:-10},bidderCode:{fn:function(e,i,r){var t;e.bidderCode=r.seatbid.seat,e.adapterCode=(0,o.Z)(i,"ext.prebid.meta.adaptercode")||(null===(t=r.bidRequest)||void 0===t?void 0:t.bidder)||e.bidderCode}},pbsBidId:{fn:function(e,i){var r=(0,o.Z)(i,"ext.prebid.bidid");(0,s.isStr)(r)&&(e.pbsBidId=r)}},adserverTargeting:{fn:function(e,i){var r=(0,o.Z)(i,"ext.prebid.targeting");(0,s.isPlainObject)(r)&&(e.adserverTargeting=r)}},extPrebidMeta:{fn:function(e,i){e.meta=(0,s.mergeDeep)({},(0,o.Z)(i,"ext.prebid.meta"),e.meta)}},pbsWurl:{fn:function(e,i){var r=(0,o.Z)(i,"ext.prebid.events.win");(0,s.isStr)(r)&&(e.pbsWurl=r)}}}),(0,d.Z)(l,a.YC,{serverSideStats:{fn:function(e,i,r){Object.entries({errors:"serverErrors",responsetimemillis:"serverResponseTimeMs"}).forEach((function(e){var t=(0,n.Z)(e,2),d=t[0],a=t[1],s=(0,o.Z)(i,"ext.".concat(d,".").concat(r.bidderRequest.bidderCode));s&&(r.bidderRequest[a]=s,r.bidRequests.forEach((function(e){return e[a]=s})))}))}}}),l),h=r(24980),x=(0,s.memoize)((function(){return(0,t.F)((0,h.T)(),m,(0,a.fP)(a.md))}))},11021:function(e,i,r){r.d(i,{E:function(){return o},P:function(){return s}});var t,d=r(4942),n=r(24679),a=r(15840),o=(t={},(0,d.Z)(t,n.Mk,"banner"),(0,d.Z)(t,n.B5,"native"),(0,d.Z)(t,n.pX,"video"),t);function s(e,i,r){var t,d,s=r.mediaType;s||(s=a.e.hasOwnProperty(i.mtype)?a.e[i.mtype]:null===(t=i.ext)||void 0===t||null===(d=t.prebid)||void 0===d?void 0:d.type,o.hasOwnProperty(s)||(s=n.Mk));e.mediaType=s}},39702:function(e,i,r){r.d(i,{j:function(){return a}});var t=r(78653),d=r(86104),n=r(96475);function a(e,i,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=a.adUnit,s=a.bidderRequests,c=a.index,b=void 0===c?t.K.index:c,u=a.bidderRegistry,p=void 0===u?d.ZP.bidderRegistry:u,v=i.params,f=p[i.bidder];f&&f.getSpec().transformBidParams&&(o=o||b.getAdUnit(i),s=s||[r.bidderRequest],v=f.getSpec().transformBidParams(v,!0,o,s)),v&&(0,n.N)(e,"ext.prebid.bidder.".concat(i.bidder),v)}}}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[73365],{70968:function(r,t,e){var n=e(93324),a=e(4942),o=e(89062),i=e(78640),u=e(92797),s=e(15164),c=e(64358),d=e(20265),p=e(96475),f=e(34614),m=e(9633),l="permutive",v=(0,c.prefixLog)("[PermutiveRTD]"),g="permutive-prebid-rtd",b="p_standard",h="permutive",w="p_standard_aud",x=(0,s.df)({moduleType:m.XG,moduleName:l});function Z(r){return(0,c.isPlainObject)(r)?{params:r}:{}}var y={};function S(r){var t=function(){try{return Z(window.permutive.addons.prebid.getPermutiveRtdConfig())}catch(r){return null}}()||y;return(0,c.mergeDeep)({waitForIt:!1,params:{maxSegs:500,acBidders:[],overwrites:{}}},t,r)}function _(r,t,e){var i,u,s,f,m=(0,d.Z)(t,"params.acBidders"),l=(0,d.Z)(t,"params.maxSegs"),g=(0,d.Z)(t,"params.transformations")||[],x=null!==(i=null==e||null===(u=e.ssp)||void 0===u?void 0:u.ssps)&&void 0!==i?i:[],Z=null!==(s=null==e||null===(f=e.ssp)||void 0===f?void 0:f.cohorts)&&void 0!==s?s:[];new Set([].concat((0,o.Z)(m),(0,o.Z)(x))).forEach((function(t){var i={ortb2:r[t]||{}},u=[];m.indexOf(t)>-1&&(u=e.ac),x.indexOf(t)>-1&&(u=(0,o.Z)(new Set([].concat((0,o.Z)(u),(0,o.Z)(Z)))).slice(0,l));var s=function(r,t,e,i,u,s){var f;v.logInfo("Current ortb2 config",{bidder:r,config:t});var m=(0,d.Z)(s,r)||[],l={name:"permutive.com",segment:e.map((function(r){return{id:r}}))},g=u.filter((function(r){var t=r.id;return k.hasOwnProperty(t)})).map((function(r){var t=r.id,e=r.config;return k[t](l,e)})),x={name:h,segment:m.map((function(r){return{id:r}}))},Z=(0,c.mergeDeep)({},t),y=((0,d.Z)(Z,"ortb2.user.data")||[]).filter((function(r){return r.name!==l.name&&r.name!==x.name})).concat(l,g,x);v.logInfo("Updating ortb2.user.data",{bidder:r,user_data:y}),(0,p.N)(Z,"ortb2.user.data",y);var S=(0,d.Z)(Z,"ortb2.user.keywords"),_=(f={},(0,a.Z)(f,b,e),(0,a.Z)(f,w,i),(0,a.Z)(f,h,m),f),I=Object.entries(_).flatMap((function(r){var t=(0,n.Z)(r,2),e=t[0];return t[1].map((function(r){return"".concat(e,"=").concat(r)}))})),D=[S].concat((0,o.Z)(I)).filter(Boolean).join(",");v.logInfo("Updating ortb2.user.keywords",{bidder:r,keywords:D}),(0,p.N)(Z,"ortb2.user.keywords",D),e.length>0&&((0,p.N)(Z,"ortb2.user.ext.data.".concat(b),e),v.logInfo('Extending ortb2.user.ext.data with "'.concat(b,'"'),e));m.length>0&&((0,p.N)(Z,"ortb2.user.ext.data.".concat(h),m.map(String)),v.logInfo('Extending ortb2.user.ext.data with "'.concat(h,'"'),m));e.length>0&&((0,p.N)(Z,"ortb2.site.ext.permutive.".concat(b),e),v.logInfo('Extending ortb2.site.ext.permutive with "'.concat(b,'"'),e));return v.logInfo("Updated ortb2 config",{bidder:r,config:Z}),Z}(t,i,u,Z,g,e);r[t]=s.ortb2}))}function I(r,t,e){var n=r&&r.adUnits||(0,i.R)().adUnits,a={deepSetValue:p.N,deepAccess:d.Z,isFn:c.isFn,mergeDeep:c.mergeDeep},o={appnexusAst:"appnexus"};n&&n.forEach((function(r){r.bids.forEach((function(r){var n=r.bidder;void 0!==o[n]&&(n=o[n]);var i=function(r,t){var e=(0,d.Z)(r,"params.acBidders")||[];return(0,f.q9)(e,t)}(t,n),u=function(r,t){var e=(0,d.Z)(r,"params.overwrites.".concat(t));return e&&(0,c.isFn)(e)?e:null}(t,n);if(u){u(r,e,i,a,(function(r){return r}))}}))}))}function D(r){try{r()}catch(r){(0,c.logError)(r)}}function N(r,t){try{return JSON.parse(x.getDataFromLocalStorage(r))||t}catch(r){return t}}var F="_unknown_",k={iab:function(r,t){return{name:r.name,ext:{segtax:t.segtax},segment:(r.segment||[]).map((function(r){return{id:(e=r.id,n=t.iabIds,n[e]||F)};var e,n})).filter((function(r){return r.id!==F}))}}};function E(r,t){var e=function(r){var t=N("_psegs",[]).map(Number).filter((function(r){return r>=1e6})).map(String),e=N("_ppam",[]),n=N("_pcrprs",[]),a={ac:[].concat((0,o.Z)(n),(0,o.Z)(e),(0,o.Z)(t)),ix:N("_pindexs",[]),rubicon:N("_prubicons",[]),appnexus:N("_papns",[]),gam:N("_pdfps",[]),ssp:N("_pssps",{cohorts:[],ssps:[]})};for(var i in a)"ssp"===i?a[i].cohorts&&Array.isArray(a[i].cohorts)&&(a[i].cohorts=a[i].cohorts.slice(0,r)):a[i]=a[i].slice(0,r);return a}((0,d.Z)(t,"params.maxSegs"));D((function(){I(r,t,e)})),D((function(){var n;_(null===(n=r.ortb2Fragments)||void 0===n?void 0:n.bidder,t,e)}))}var O=!1,R={name:l,getBidRequestData:function(r,t,e){var n=function(){v.logInfo("Request data updated"),t()},a=S(e);E(r,a),D((function(){if(O||!a.waitForIt||void 0===window.permutive||"function"!=typeof window.permutive.ready)return n();window.permutive.ready((function(){v.logInfo("SDK is realtime, updating cohorts"),O=!0,E(r,S(e)),n()}),"realtime"),v.logInfo("Registered cohort update when SDK is realtime")}))},init:function(r,t){var e;return e=(0,c.safeJSONParse)(x.getDataFromLocalStorage(g)),y=Z(e),!0}};(0,u.Bx)("realTimeData",R),(0,i.z)("permutiveRtdProvider")}},function(r){var t;t=70968,r(r.s=t)}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[29060],{9171:function(e,o,r){var n,t=r(71002),i=r(44925),a=r(4942),c=r(78640),l=r(64358),u=r(20265),d=r(96475),s=r(3193),f=r(48928),m=r(52021),p=r(5644),v=r(92797),h=r(34614),g=r(25102),y=r(55975),b=r(78653),O=r(26372),j=r(99128),F=r(36066),C=r(10075),k=r(99957),S=["modelGroups"];function Z(e,o){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?Z(Object(r),!0).forEach((function(o){(0,a.Z)(e,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))}))}return e}var R="Price Floors",P=(0,f.OI)(1e4),T=Symbol(),M=[T,"gptSlot","adUnitCode","size","domain","mediaType"],w=!1,D=!1,U={},E=[],I={};function A(e,o){return Math.ceil((parseFloat(e)*Math.pow(10,o)).toFixed(1))/Math.pow(10,o)}var B,z=function(){return null==B&&(B=(0,l.parseUrl)((0,g.nH)().topmostLocation,{noDecodeWholeURL:!0}).hostname),B};function N(e,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.index,t=void 0===n?b.K.index:n;return(null==e?void 0:e.adUnitCode)||t.getAdUnit(o).code}var W=(n={},(0,a.Z)(n,T,(function(){return"*"})),(0,a.Z)(n,"size",(function(e,o){return(0,l.parseGPTSingleSizeArray)(o.size)||"*"})),(0,a.Z)(n,"mediaType",(function(e,o){return o.mediaType||"banner"})),(0,a.Z)(n,"gptSlot",(function(e,o){return function(e){var o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,r=(void 0===o?b.K.index:o).getAdUnit({transactionId:e});return"gam"===(0,u.Z)(r,"ortb2Imp.ext.data.adserver.name")&&r.ortb2Imp.ext.data.adserver.adslot}((e||o).transactionId)||(0,C.ky)(N(e,o)).gptSlot})),(0,a.Z)(n,"domain",z),(0,a.Z)(n,"adUnitCode",(function(e,o){return N(e,o)})),n);function q(e,o,r){return e.length?e.reduce((function(e,n){var t=W[n](o,r)||"*";return e.push("*"===t?["*"]:[t.toLowerCase(),"*"]),e}),[]):[]}function V(e,o){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=q((0,u.Z)(e,"schema.fields")||[],o,n);if(!t.length)return{matchingFloor:void 0};var i=t.map((function(e){return e[0]})).join("-"),a=(0,u.Z)(e,"matchingInputs.".concat(i));if(a)return x({},a);var c=G(t,(0,u.Z)(e,"schema.delimiter")||"|"),l=(0,h.sE)(c,(function(o){return e.values.hasOwnProperty(o)})),s={floorMin:e.floorMin||0,floorRuleValue:e.values[l],matchingData:c[0],matchingRule:l===(null===(r=e.meta)||void 0===r?void 0:r.defaultRule)?void 0:l},f=(0,u.Z)(o,"ortb2Imp.ext.prebid.floors.floorMin");return"number"==typeof f&&(s.floorMin=f),s.matchingFloor=Math.max(s.floorMin,s.floorRuleValue),(0,d.N)(e,"matchingInputs.".concat(i),x({},s)),s}function G(e,o){return e.reduce((function(e,r){var n=[];return e.map((function(e){r.map((function(r){n.push(e+o+r)}))})),n})).sort((function(e,o){return e.split("*").length-o.split("*").length}))}function L(e,o,r){return parseFloat((0,F.O)(e,x(x({},o),{},{cpm:e}),r))}function H(e,o){var r=Math.pow(10,10);return e*r/(o*r)*(e*r)/r}var J={banner:function(e){return(0,u.Z)(e,"mediaTypes.banner.sizes")||[]},video:function(e){return(0,u.Z)(e,"mediaTypes.video.playerSize")||[]},native:function(e){return(0,u.Z)(e,"mediaTypes.native.image.sizes")?[(0,u.Z)(e,"mediaTypes.native.image.sizes")]:[]}};function K(e,o){var r=Object.keys(e.mediaTypes||{});return"*"===o.mediaType&&1===r.length&&(o.mediaType=r[0]),"*"===o.size&&-1!==r.indexOf(o.mediaType)&&J[o.mediaType]&&1===J[o.mediaType](e).length&&(o.size=J[o.mediaType](e)[0]),o}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currency:"USD",mediaType:"*",size:"*"},o=this,r=I[o.auctionId];if(!r||r.skipped)return{};e=K(o,e);var n=V(r.data,x({},o),{mediaType:e.mediaType,size:e.size}),t=e.currency||r.data.currency;if(n.matchingFloor&&t!==r.data.currency)try{n.matchingFloor=(0,c.R)().convertCurrency(n.matchingFloor,r.data.currency,t)}catch(e){(0,l.logWarn)("".concat(R,": Unable to get currency conversion for getFloor for bidder ").concat(o.bidder,". You must have currency module enabled with defaultRates in your currency config")),t=r.data.currency}if(r.enforcement.bidAdjustment&&n.matchingFloor){var i=y.S.get(o.bidder,"inverseBidAdjustment");if(i)n.matchingFloor=i(n.matchingFloor,o);else{var a=L(n.matchingFloor,null,o);n.matchingFloor=a?H(n.matchingFloor,a):n.matchingFloor}}return n.matchingFloor?{floor:A(n.matchingFloor,4),currency:t}:{}}function _(e,o){var r=(0,l.deepClone)(e);return r.schema.delimiter=e.schema.delimiter||"|",r.values=function(e,o){var r=e.schema.fields,n=e.schema.delimiter,t=o&&-1===r.indexOf("adUnitCode")&&r.unshift("adUnitCode");return Object.keys(e.values).reduce((function(r,i){return r[(t?"".concat(o).concat(n).concat(i):i).toLowerCase()]=e.values[i],r}),{})}(r,o),r.currency=r.currency||"USD",r}function Q(e,o){var r=(0,l.deepClone)(U);if(2===(0,u.Z)(r,"data.floorsSchemaVersion")){var n=r.data,t=n.modelGroups,a=(0,i.Z)(n,S);r.data=Object.assign(a,function(e,o){for(var r=Math.floor(Math.random()*o+1),n=0;n<e.length;n++)if((r-=e[n].modelWeight)<=0)return e[n]}(t,a.modelWeightSum))}var c=0===Object.keys((0,u.Z)(r,"data.values")||{}).length;if(r.data=c?function(e){var o=e.find((function(e){var o;return null!=(null===(o=e.floors)||void 0===o?void 0:o.schema)}));return e.reduce((function(e,r){var n,t;if(null!=(null===(n=r.floors)||void 0===n?void 0:n.schema)&&!(0,l.deepEqual)(r.floors.schema,null==o||null===(t=o.floors)||void 0===t?void 0:t.schema))return(0,l.logError)("".concat(R,": adUnit '").concat(r.code,"' declares a different schema from one previously declared by adUnit '").concat(o.code,"'. Floor config for '").concat(r.code,"' will be ignored.")),e;var i=Object.assign({},null==o?void 0:o.floors,{values:void 0},r.floors);if(oe(i))if(e.values){var a=_(i,r.code).values;Object.assign(e.values,a)}else(e=_(i,r.code)).location="adUnit";else null!=r.floors&&(0,l.logWarn)("adUnit '".concat(r.code,"' provides an invalid `floor` definition, it will be ignored for floor calculations"),r);return e}),{})}(e):_(r.data),0===Object.keys((0,u.Z)(r,"data.values")||{}).length)r.skipped=!0;else{var d=(0,l.getParameterByName)("pbjs_skipRate")||r.skipRate,s=100*Math.random()<parseFloat(d);r.skipped=s}return r.hasOwnProperty("floorMin")&&(r.data.floorMin=r.floorMin),function(e,o,r){e.forEach((function(e){e.bids.forEach((function(e){o.skipped?delete e.getFloor:e.getFloor=Y,e.auctionId=r,e.floorData={skipped:o.skipped,skipRate:o.skipRate,floorMin:o.floorMin,modelVersion:(0,u.Z)(o,"data.modelVersion"),modelWeight:(0,u.Z)(o,"data.modelWeight"),modelTimestamp:(0,u.Z)(o,"data.modelTimestamp"),location:(0,u.Z)(o,"data.location","noData"),floorProvider:o.floorProvider,fetchStatus:U.fetchStatus}}))}))}(e,r,o),r}function X(e){e.hasExited||(E=E.filter((function(o){return o.timer!==e.timer})),e.reqBidsConfigObj.auctionId=e.reqBidsConfigObj.auctionId||(0,l.generateUUID)(),I[e.reqBidsConfigObj.auctionId]=Q(e.reqBidsConfigObj.adUnits||(0,c.R)().adUnits,e.reqBidsConfigObj.auctionId),e.nextFn.apply(e.context,[e.reqBidsConfigObj]),e.hasExited=!0)}function $(e){return e=function(e){if((0,l.isNumber)(e.default)){var o,r,n="*",t=((null===(o=e.schema)||void 0===o?void 0:o.fields)||[]).length;t?n=Array(t).fill("*").join((null===(r=e.schema)||void 0===r?void 0:r.delimiter)||"|"):(0,d.N)(e,"schema.fields",[T]),e.values=e.values||{},null==e.values[n]&&(e.values[n]=e.default,e.meta={defaultRule:n})}return e}(e),o=(0,u.Z)(e,"schema.fields"),!!(Array.isArray(o)&&o.length>0&&o.every((function(e){return-1!==M.indexOf(e)}))||((0,l.logError)("".concat(R,": Fields recieved do not match allowed fields")),0))&&(r=e,n=e.schema.fields.length,i=e.schema.delimiter||"|","object"===(0,t.Z)(r.values)&&(r.values=Object.keys(r.values).reduce((function(e,o){return function(e,o,r,n){return"string"==typeof e&&e.split(n).length===r&&"number"==typeof o}(o,r.values[o],n,i)&&(e[o]=r.values[o]),e}),{}),Object.keys(r.values).length>0));var o,r,n,i}var ee={1:function(e){return $(e)},2:function(e){return!(!Array.isArray(e.modelGroups)||0===e.modelGroups.length)&&(e.modelWeightSum=0,e.modelGroups.every((function(o){return!("number"!=typeof o.modelWeight||!$(o))&&(e.modelWeightSum+=o.modelWeight,!0)})))}};function oe(e){return"object"===(0,t.Z)(e)&&(e.floorsSchemaVersion=e.floorsSchemaVersion||1,"function"!=typeof ee[e.floorsSchemaVersion]?((0,l.logError)("".concat(R,": Unknown floorsSchemaVersion: "),e.floorsSchemaVersion),!1):ee[e.floorsSchemaVersion](e))}function re(e,o){if(e&&"object"===(0,t.Z)(e)&&oe(e))return(0,l.logInfo)("".concat(R,": A ").concat(o," set the auction floor data set to "),e),x(x({},e),{},{location:o});(0,l.logError)("".concat(R,": The floors data did not contain correct values"),e)}var ne=(0,j.g3)("priceFloors",(function(e,o){var r={reqBidsConfigObj:o,context:this,nextFn:e,haveExited:!1,timer:null};U.auctionDelay>0&&w?(r.timer=setTimeout((function(){(0,l.logWarn)("".concat(R,": Fetch attempt did not return in time for auction")),U.fetchStatus="timeout",X(r)}),U.auctionDelay),E.push(r)):X(r)}));function te(){E.forEach((function(e){clearTimeout(e.timer),X(e)})),E=[]}function ie(e){var o;w=!1,U.fetchStatus="success";try{o=JSON.parse(e)}catch(r){o=e}var r=re(o,"fetch");r&&(U.data=r,U.skipRate=(0,l.isNumber)(r.skipRate)?r.skipRate:U.skipRate,U.floorProvider=r.floorProvider||U.floorProvider),te()}function ae(e){w=!1,U.fetchStatus="error",(0,l.logError)("".concat(R,": Fetch errored with: "),e),te()}function ce(e){var o;(U=(0,l.pick)(e,["floorMin","enabled",function(e){return!1!==e},"auctionDelay",function(e){return e||0},"floorProvider",function(o){return(0,u.Z)(e,"data.floorProvider",o)},"endpoint",function(e){return e||{}},"skipRate",function(){return isNaN((0,u.Z)(e,"data.skipRate"))?e.skipRate||0:e.data.skipRate},"enforcement",function(e){return(0,l.pick)(e||{},["enforceJS",function(e){return!1!==e},"enforcePBS",function(e){return!0===e},"floorDeals",function(e){return!0===e},"bidAdjustment",function(e){return!1!==e}])},"additionalSchemaFields",function(e){return"object"===(0,t.Z)(e)&&Object.keys(e).length>0?(o=e,void Object.keys(o).forEach((function(e){-1===M.indexOf(e)&&"function"==typeof o[e]&&(M.push(e),W[e]=o[e])}))):void 0;var o},"data",function(e){return e&&re(e,"setConfig")||void 0}])).enabled?((o=U.endpoint).url&&!w?"GET"!==(o.method||"GET")?(0,l.logError)("".concat(R,": 'GET' is the only request method supported at this time!")):(P(o.url,{success:ie,error:ae},null,{method:"GET"}),w=!0):w&&(0,l.logWarn)("".concat(R,": A fetch is already occuring. Skipping.")),D||(m.on(p.FP.AUCTION_END,(function(e){setTimeout((function(){return delete I[e.auctionId]}),3e3)})),(0,c.R)().requestBids.before(ne,50),(0,v.v5)("addBidResponse").before(le,(0,l.debugTurnedOn)()?4:50),D=!0)):((0,l.logInfo)("".concat(R,": Turning off module")),U={},I={},(0,v.v5)("addBidResponse").getHooks({hook:le}).remove(),(0,c.R)().requestBids.getHooks({hook:ne}).remove(),D=!1)}var le=(0,j.A)("priceFloors",(function(e,o,r,n){var t=I[r.auctionId];if(!t||!r||t.skipped)return e.call(this,o,r,n);var i,a=b.K.index.getBidRequest(r),d=V(t.data,a,x(x({},r),{},{size:[r.width,r.height]}));if(!d.matchingFloor)return(0,l.logWarn)("".concat(R,": unable to determine a matching price floor for bidResponse"),r),e.call(this,o,r,n);var s,f=t.data.currency.toUpperCase(),m=r.currency||"USD";if(f===m.toUpperCase())i=r.cpm;else if(r.originalCurrency&&f===r.originalCurrency.toUpperCase())i=r.originalCpm;else try{i=(0,c.R)().convertCurrency(r.cpm,m.toUpperCase(),f)}catch(t){return(0,l.logError)("".concat(R,": Unable do get currency conversion for bidResponse to Floor Currency. Do you have Currency module enabled? ").concat(r)),e.call(this,o,r,n)}return function(e,o,r,n){r.floorData={floorValue:o.matchingFloor,floorRule:o.matchingRule,floorRuleValue:o.floorRuleValue,floorCurrency:e.data.currency,cpmAfterAdjustments:n,enforcements:x({},e.enforcement),matchedFields:{}},e.data.schema.fields.forEach((function(n,t){var i=o.matchingData.split(e.data.schema.delimiter)[t];r.floorData.matchedFields[n]=i}))}(t,d,r,i=L(i,r,a)),function(e,o,r){var n=!1!==(0,u.Z)(e,"enforcement.enforceJS"),t=!0===(0,u.Z)(e,"enforcement.floorDeals")||!r.dealId,i=r.floorData.cpmAfterAdjustments<o.matchingFloor;return n&&i&&t}(t,d,r)?(n(p.Gw.pe),void(0,l.logWarn)("".concat(R,": ").concat(r.bidderCode,"'s Bid Response for ").concat(o," was rejected due to floor not met (adjusted cpm: ").concat(null==r||null===(s=r.floorData)||void 0===s?void 0:s.cpmAfterAdjustments,", floor: ").concat(null==d?void 0:d.matchingFloor,")"),r)):e.call(this,o,r,n)}));s.vc.getConfig("floors",(function(e){return ce(e.floors)})),(0,O.f8)({type:O.DZ,name:"bidfloor",fn:function(e,o,r){if("function"==typeof o.getFloor){var n,t;try{var i=o.getFloor({currency:r.currency||s.vc.getConfig("currency.adServerCurrency")||"USD",mediaType:r.mediaType||"*",size:"*"});n=i.currency,t=i.floor}catch(e){return void(0,l.logWarn)("Cannot compute floor for bid",o)}t=parseFloat(t),null==n||null==t||isNaN(t)||Object.assign(e,{bidfloor:t,bidfloorcur:n})}}}),(0,O.f8)({type:O.DZ,name:"extPrebidFloors",fn:function(e,o,r){if(null!=e.bidfloor){var n,t,i,a,c,l,u,s,f,m,p=r.reqContext.floorMin||{},v=p.floorMinCur,h=p.floorMin;null==v&&(v=e.bidfloorcur);var g=(null===(n=e.ext)||void 0===n||null===(t=n.prebid)||void 0===t||null===(i=t.floors)||void 0===i?void 0:i.floorMinCur)||(null===(a=e.ext)||void 0===a||null===(c=a.prebid)||void 0===c?void 0:c.floorMinCur)||v,y=(null===(l=e.ext)||void 0===l||null===(u=l.prebid)||void 0===u||null===(s=u.floors)||void 0===s?void 0:s.floorMin)||(null===(f=e.ext)||void 0===f||null===(m=f.prebid)||void 0===m?void 0:m.floorMin),b=(0,k.Nh)(e.bidfloor,e.bidfloorcur,v),O=!(!y||!g)&&(0,k.Nh)(y,g,v),j=O&&O<b?O:b;(0,d.N)(e,"ext.prebid.floors.floorMin",j),(null==h||h>j)&&(h=j),r.reqContext.floorMin={floorMin:h,floorMinCur:v}}},dialects:[O.md],priority:-1}),(0,O.f8)({type:O.Z,name:"extPrebidFloors",fn:function(e,o,r){var n,t,i;D&&(0,d.N)(e,"ext.prebid.floors.enabled",(null===(n=e.ext)||void 0===n||null===(t=n.prebid)||void 0===t||null===(i=t.floors)||void 0===i?void 0:i.enabled)||!1),null!=r&&r.floorMin&&(0,l.mergeDeep)(e,{ext:{prebid:{floors:r.floorMin}}})},dialects:[O.md]}),(0,c.z)("priceFloors")},26372:function(e,o,r){r.d(o,{DZ:function(){return a},Px:function(){return c},TP:function(){return u},YC:function(){return l},Z:function(){return i},f8:function(){return p},fP:function(){return v},gm:function(){return n},md:function(){return d}});var n=["request","imp","bidResponse","response"],t=["default","pbs"],i=n[0],a=n[1],c=n[2],l=n[3],u=t[0],d=t[1],s=new Set(n);var f,m=(f={},{registerOrtbProcessor:function(e){var o=e.type,r=e.name,t=e.fn,i=e.priority,a=void 0===i?0:i,c=e.dialects,l=void 0===c?[u]:c;if(!s.has(o))throw new Error("ORTB processor type must be one of: ".concat(n.join(", ")));l.forEach((function(e){f.hasOwnProperty(e)||(f[e]={}),f[e].hasOwnProperty(o)||(f[e][o]={}),f[e][o][r]={priority:a,fn:t}}))},getProcessors:function(e){return f[e]||{}}}),p=m.registerOrtbProcessor,v=m.getProcessors},44925:function(e,o,r){function n(e,o){if(null==e)return{};var r,n,t=function(e,o){if(null==e)return{};var r,n,t={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],o.indexOf(r)>=0||(t[r]=e[r]);return t}(e,o);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],o.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}r.d(o,{Z:function(){return n}})}},function(e){e.O(0,[29703,77635],(function(){return o=9171,e(e.s=o);var o}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[2563],{29312:function(d,n,e){var i=e(78640),o=e(92797),u=e(64358),r={name:"pubProvidedId",gvlid:e(34516).$P,decode:function(d){var n=d?{pubProvidedId:d}:void 0;return(0,u.logInfo)("PubProvidedId: Decoded value "+JSON.stringify(n)),n},getId:function(d){var n=d&&d.params||{},e=[];return(0,u.isArray)(n.eids)&&(e=e.concat(n.eids)),"function"==typeof n.eidsFunction&&(e=e.concat(n.eidsFunction())),{id:e}}};(0,o.Bx)("userId",r),(0,i.z)("pubProvidedIdSystem")}},function(d){var n;n=29312,d(d.s=n)}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[55126],{15817:function(e,r,t){var a=t(93324),i=t(89062),n=t(4942),s=t(71002),o=t(78640),d=t(64358),p=t(20265),l=t(96475),c=t(14699),u=t(24679),m=t(3193),g=t(35706),f=t(55975),h=t(5644),b=t(85370);function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var w="pubmatic",x="PubMatic: ",I="USD",O=void 0,P="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),T={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},S="number",z="string",C="boolean",k="array",E={mimes:k,minduration:S,maxduration:S,startdelay:S,playbackmethod:k,api:k,protocols:k,w:S,h:S,battr:k,linearity:S,placement:S,plcmt:S,minbitrate:S,maxbitrate:S,skip:S},R=1,_=3,j={1:"PMP",5:"PREF",6:"PMPG"},M={bootstrapPlayer:function(e){var r={code:e.adUnitCode};if(e.vastXml?r.vastXml=e.vastXml:e.vastUrl&&(r.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var t,a=M.getRendererId("pubmatic",e.rendererCode),i=document.getElementById(e.adUnitCode),n=0;n<window.bluebillywig.renderers.length;n++)if(window.bluebillywig.renderers[n]._id===a){t=window.bluebillywig.renderers[n];break}t?t.bootstrap(r,i):(0,d.logWarn)("".concat(x,": Couldn't find a renderer with ").concat(a))}else(0,d.logWarn)("".concat(x,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,r){var t=P.replace("$RENDERER",e),a=g.Th.install({url:t,loaded:!1,adUnitCode:r});try{a.setRender(M.outstreamRender)}catch(e){(0,d.logWarn)("".concat(x,": Error tying to setRender on renderer"),e)}return a},outstreamRender:function(e){e.renderer.push((function(){M.bootstrapPlayer(e)}))},getRendererId:function(e,r){return"".concat(e,"-").concat(r)}},N=[u.Mk,u.pX,u.B5],W=0,U=!1,A=["pubmatic"],q=["all"];function B(e,r){if(!(0,d.isStr)(r))return r&&(0,d.logWarn)("PubMatic: Ignoring param key: "+e+", expects string-value, found "+(0,s.Z)(r)),O;switch(e){case"pmzoneid":return r.split(",").slice(0,50).map((function(e){return e.trim()})).join();case"kadfloor":case"lat":case"lon":return parseFloat(r)||O;case"yob":return parseInt(r)||O;default:return r}}function Z(e){var r;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(r=e.params.adSlot,(0,d.isStr)(r)?r.replace(/^\s+/g,"").replace(/\s+$/g,""):(r&&(0,d.logWarn)("pubmatic: adSlot must be a string. Ignoring adSlot"),""));var t=e.params.adSlot,a=t.split(":");if(t=a[0],2==a.length&&(e.params.adUnitIndex=a[1]),a=t.split("@"),e.params.adUnit=a[0],a.length>1){if(2!=(a=a[1].split("x")).length)return void(0,d.logWarn)("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(a[0],10),e.params.height=parseInt(a[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(u.Mk)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var i=0,n=[];i<e.mediaTypes.banner.sizes.length;i++)2===e.mediaTypes.banner.sizes[i].length&&n.push(e.mediaTypes.banner.sizes[i]);e.mediaTypes.banner.sizes=n,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}function X(e,r,t){var a,i="Ignoring param key: "+e+", expects "+t+", found "+(0,s.Z)(r);switch(t){case C:a=d.isBoolean;break;case S:a=d.isNumber;break;case z:a=d.isStr;break;case k:a=d.isArray}return a(r)?r:((0,d.logWarn)(x+i),O)}var D={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},F=h.oF,J=h.zA,L=h.FY,V=h.s$,$=Object.values(D);function H(e){var r;if(e.ortb){e=e.ortb,r=y(y({ver:"1.2"},e),{},{assets:[]});var t=e.assets,a=function(e){return e.title||e.img||e.data||e.video};if(t.length<1||!t.some((function(e){return a(e)})))return(0,d.logWarn)("".concat(x,": Native assets object is empty or contains some invalid object")),U=!0,r;t.forEach((function(e){var t=e;t.img&&(t.img.type==_?(t.w=t.w||t.width||(t.sizes?t.sizes[0]:O),t.h=t.h||t.height||(t.sizes?t.sizes[1]:O),t.wmin=t.wmin||t.minimumWidth||(t.minsizes?t.minsizes[0]:O),t.hmin=t.hmin||t.minimumHeight||(t.minsizes?t.minsizes[1]:O)):t.img.type==R&&(t.w=t.w||t.width||(t.sizes?t.sizes[0]:O),t.h=t.h||t.height||(t.sizes?t.sizes[1]:O))),t&&void 0!==t.id&&a(t)&&r.assets.push(t)}))}else r=function(e){if(!e&&!(0,d.isPlainObject)(e))return(0,d.logWarn)("".concat(x,": Native assets object is empty or not an object: ").concat(e)),void(U=!0);var r={ver:"1.2",assets:[]};for(var t in e)if(!J.includes(t))if(L.hasOwnProperty(t)||$.includes(t)){var a=e[t],i=0;a.required&&(0,d.isBoolean)(a.required)&&(i=Number(a.required));var n={id:r.assets.length,required:i};if(t in D)n.data={type:V[D[t]]},(a.len||a.length)&&(n.data.len=a.len||a.length),a.ext&&(n.data.ext=a.ext);else if("icon"===t||"image"===t){if(n.img={type:"icon"===t?F.ICON:F.MAIN},a.aspect_ratios)if((0,d.isArray)(a.aspect_ratios))if(a.aspect_ratios.length){var s=a.aspect_ratios[0],o=s.min_width,p=s.min_height;(0,d.isInteger)(o)&&(0,d.isInteger)(p)?(n.img.wmin=o,n.img.hmin=p):(0,d.logWarn)("".concat(x,": image.aspect_ratios min_width or min_height are invalid: ").concat(o,", ").concat(p));var l=a.aspect_ratios.filter((function(e){return e.ratio_width&&e.ratio_height})).map((function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)}));l.length>0&&(n.img.ext={aspectratios:l})}else(0,d.logWarn)("".concat(x,": image.aspect_ratios was passed, but it's empty: ").concat(a.aspect_ratios));else(0,d.logWarn)("".concat(x,": image.aspect_ratios was passed, but it's not a an array: ").concat(a.aspect_ratios));n.img.w=a.w||a.width,n.img.h=a.h||a.height,n.img.wmin=a.wmin||a.minimumWidth||(a.minsizes?a.minsizes[0]:O),n.img.hmin=a.hmin||a.minimumHeight||(a.minsizes?a.minsizes[1]:O),a.sizes&&(2===a.sizes.length&&(0,d.isInteger)(a.sizes[0])&&(0,d.isInteger)(a.sizes[1])?((0,d.logInfo)("".concat(x,": if asset.sizes exist, by OpenRTB spec we should remove wmin and hmin")),n.img.w=a.sizes[0],n.img.h=a.sizes[1],delete n.img.hmin,delete n.img.wmin):(0,d.logWarn)("".concat(x,": image.sizes was passed, but its value is not an array of integers: ").concat(a.sizes))),a.ext&&(n.img.ext=a.ext),a.mimes&&(n.img.mimes=a.mimes)}else"title"===t?(n.title={len:a.len||a.length||140},a.ext&&(n.title.ext=a.ext)):"ext"===t&&(n.ext=a,delete n.required);r.assets.push(n)}else(0,d.logWarn)("".concat(x,": Unrecognized native asset code: ").concat(t,". Asset will be ignored."));return r.assets.length<1?((0,d.logWarn)("".concat(x,": Could not find any valid asset")),void(U=!0)):r}(e);return r}function G(e){var r,t=e.mediaTypes.banner.sizes,a=[];if(t!==O&&(0,d.isArray)(t)){if(r={},e.params.width||e.params.height)r.w=e.params.width,r.h=e.params.height;else{if(0===t.length)return r=O,(0,d.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),r;r.w=parseInt(t[0][0],10),r.h=parseInt(t[0][1],10),t=t.splice(1,t.length-1)}t.length>0&&(a=[],t.forEach((function(e){e.length>1&&a.push({w:e[0],h:e[1]})})),a.length>0&&(r.format=a)),r.pos=0,r.topframe=(0,d.inIframe)()?0:1}else(0,d.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),r=O;return r}function Y(e){var r,t=(0,d.mergeDeep)((0,p.Z)(e.mediaTypes,"video"),e.params.video);if(t!==O){for(var a in r={},function(e,r){(0,p.Z)(e,"placement")||(0,d.logWarn)("Video.Placement param missing for "+r)}(t,e.adUnitCode),E)t.hasOwnProperty(a)&&(r[a]=X(a,t[a],E[a]));(0,d.isArray)(e.mediaTypes.video.playerSize[0])?(r.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),r.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):(0,d.isNumber)(e.mediaTypes.video.playerSize[0])&&(r.w=parseInt(e.mediaTypes.video.playerSize[0],10),r.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else r=O,(0,d.logWarn)("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return r}function K(e,r){var t,a,i={},n={},o=e.hasOwnProperty("sizes")?e.sizes:[],c="",g=[],f=null==r?void 0:r.fledgeEnabled;if(function(e,r){r.params.deals&&((0,d.isArray)(r.params.deals)?r.params.deals.forEach((function(r){(0,d.isStr)(r)&&r.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:r})):(0,d.logWarn)("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+r)})):(0,d.logWarn)("PubMatic: Error: bid.params.deals should be an array of strings."))}(i={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:B("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:B("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?B("currency",e.params.currency):I},e),function(e,r){var t,a="";if(r.params.dctr)if(a=r.params.dctr,(0,d.isStr)(a)&&a.length>0){var i=a.split("|");a="",i.forEach((function(e){a+=e.length>0?e.trim()+"|":""})),t=a.length,"|"===a.substring(t,t-1)&&(a=a.substring(0,t-1)),e.ext.key_val=a.trim()}else(0,d.logWarn)("PubMatic: Ignoring param : dctr with value : "+a+", expects string-value, found empty or non-string value")}(i,e),function(e,r){var t=r.rtd&&r.rtd.jwplayer&&r.rtd.jwplayer.targeting||void 0,a="";if(void 0!==t&&""!==t&&t.hasOwnProperty("segments")){var i,n=t.segments.length;a+="jw-id="+t.content.id;for(var s=0;s<n;s++)a+="|jw-"+t.segments[s]+"=1";(i=e.ext)&&void 0===i.key_val?i.key_val=a:i.key_val+="|"+a}}(i,e),e.hasOwnProperty("mediaTypes"))for(c in e.mediaTypes)switch(c){case u.Mk:(t=G(e))!==O&&(i.banner=t);break;case u.B5:n.request=JSON.stringify(H(e.nativeParams)),U?((0,d.logWarn)("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."),U=!1):i.native=n;break;case u.pX:(a=Y(e))!==O&&(i.video=a)}else t={pos:0,w:e.params.width,h:e.params.height,topframe:(0,d.inIframe)()?0:1},(0,d.isArray)(o)&&o.length>1&&((o=o.splice(1,o.length-1)).forEach((function(e){g.push({w:e[0],h:e[1]})})),t.format=g),i.banner=t;return function(e,r){var t=y({},(0,p.Z)(r,"ortb2Imp.ext.data"));Object.keys(t).forEach((function(r){"pbadslot"===r?"string"==typeof t[r]&&t[r]&&(0,l.N)(e,"ext.data.pbadslot",t[r]):"adserver"===r?["name","adslot"].forEach((function(r){var a=(0,p.Z)(t,"adserver.".concat(r));"string"==typeof a&&a&&((0,l.N)(e,"ext.data.adserver.".concat(r.toLowerCase()),a),"adslot"===r&&(0,l.N)(e,"ext.dfp_ad_unit_code",a))})):(0,l.N)(e,"ext.data.".concat(r),t[r])}))}(i,e),function(e,r){var t=-1;"function"!=typeof r.getFloor||m.vc.getConfig("pubmatic.disableFloors")||[u.Mk,u.pX,u.B5].forEach((function(a){if(e.hasOwnProperty(a)){var i=[];"banner"===a&&(e[a].w&&e[a].h&&i.push([e[a].w,e[a].h]),(0,d.isArray)(e[a].format)&&e[a].format.forEach((function(e){return i.push([e.w,e.h])}))),0===i.length&&i.push("*"),i.forEach((function(i){var n=r.getFloor({currency:e.bidfloorcur,mediaType:a,size:i});if((0,d.logInfo)(x,"floor from floor module returned for mediatype:",a," and size:",i," is: currency",n.currency,"floor",n.floor),"object"===(0,s.Z)(n)&&n.currency===e.bidfloorcur&&!isNaN(parseInt(n.floor))){var o=parseFloat(n.floor);(0,d.logInfo)(x,"floor from floor module:",o,"previous floor value",t,"Min:",Math.min(o,t)),t=-1===t?o:Math.min(o,t),(0,d.logInfo)(x,"new floor value:",t)}}))}}));e.bidfloor&&((0,d.logInfo)(x,"floor from floor module:",t,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(t,e.bidfloor)),t=Math.max(t,e.bidfloor));e.bidfloor=!isNaN(t)&&t>0?t:O,(0,d.logInfo)(x,"new impObj.bidfloor value:",e.bidfloor)}(i,e),function(e,r,t){if(t){var a,i;e.ext=e.ext||{},void 0!==(null==r||null===(a=r.ortb2Imp)||void 0===a||null===(i=a.ext)||void 0===i?void 0:i.ae)&&(e.ext.ae=r.ortb2Imp.ext.ae)}else{var n;null!==(n=e.ext)&&void 0!==n&&n.ae&&delete e.ext.ae}}(i,e,f),i.hasOwnProperty(u.Mk)||i.hasOwnProperty(u.B5)||i.hasOwnProperty(u.pX)?i:O}function Q(e,r){(r=r.filter((function(e){return"string"==typeof e||((0,d.logWarn)("PubMatic: acat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,r,t){return t.indexOf(e)===r}))).length>0&&((0,d.logWarn)("PubMatic: acat: Selected: ",r),e.ext.acat=r)}function ee(e){return!0===(0,d.isArray)(e)&&e.length>0}var re={code:w,gvlid:76,supportedMediaTypes:[u.Mk,u.pX,u.B5],isBidRequestValid:function(e){if(e&&e.params){if(!(0,d.isStr)(e.params.publisherId))return(0,d.logWarn)("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(u.pX)){var r=(0,p.Z)(e.mediaTypes,"video.mimes"),t=(0,p.Z)(e,"params.video.mimes");if(!1===ee(r)&&!1===ee(t))return(0,d.logWarn)("PubMatic: Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[u.pX].hasOwnProperty("context"))return(0,d.logError)("".concat(x,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[u.pX].context&&!(0,d.isStr)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[u.pX].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(u.Mk)||e.mediaTypes.hasOwnProperty(u.B5)?(delete e.mediaTypes[u.pX],(0,d.logWarn)("".concat(x,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),e),!0):((0,d.logError)("".concat(x,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1)}return!0}return!1},buildRequests:function(e,r){var t,a,n,o,c,g,h,b,v,w;r&&r.refererInfo&&(w=r.refererInfo);var x,P=function(e){return{pageURL:(null==e?void 0:e.page)||window.location.href,refURL:(null==e?void 0:e.ref)||window.document.referrer}}(w),S=function(e){return{id:""+(new Date).getTime(),at:1,cur:[I],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(P),z="",C=[],k=[],E=[];if(e.forEach((function(e){var t,a;if((x=(0,d.deepClone)(e)).params.adSlot=x.params.adSlot||"",Z(x),x.mediaTypes&&x.mediaTypes.hasOwnProperty("video")||x.params.hasOwnProperty("video"));else if(!(x.hasOwnProperty("mediaTypes")&&x.mediaTypes.hasOwnProperty(u.B5)||0!==x.params.width||0!==x.params.height))return void(0,d.logWarn)("PubMatic: Skipping the non-standard adslot: ",x.params.adSlot,JSON.stringify(x));P.pubId=P.pubId||x.params.publisherId,(P=function(e,r){var t,a,i;for(t in r.kadpageurl||(r.kadpageurl=r.pageURL),T)T.hasOwnProperty(t)&&(a=e[t])&&(i=T[t],"object"===(0,s.Z)(i)&&(a=i.f(a,r)),(0,d.isStr)(a)?r[t]=a:(0,d.logWarn)("PubMatic: Ignoring param : "+t+" with value : "+T[t]+", expects string-value, found "+(0,s.Z)(a)));return r}(x.params,P)).transactionId=null===(t=x.ortb2Imp)||void 0===t||null===(a=t.ext)||void 0===a?void 0:a.tid,""===z?z=x.params.currency||O:x.params.hasOwnProperty("currency")&&z!==x.params.currency&&(0,d.logWarn)("PubMatic: Currency specifier ignored. Only one currency permitted."),x.params.currency=z,x.params.hasOwnProperty("dctr")&&(0,d.isStr)(x.params.dctr)&&C.push(x.params.dctr),x.params.hasOwnProperty("bcat")&&(0,d.isArray)(x.params.bcat)&&(k=k.concat(x.params.bcat)),x.params.hasOwnProperty("acat")&&(0,d.isArray)(x.params.acat)&&(E=E.concat(x.params.acat));var i=K(x,r);i&&S.imp.push(i)})),0!=S.imp.length){S.site.publisher.id=P.pubId.trim(),W=P.pubId.trim(),S.ext.wrapper={},S.ext.wrapper.profile=parseInt(P.profId)||O,S.ext.wrapper.version=parseInt(P.verId)||O,S.ext.wrapper.wiid=P.wiid||r.auctionId,S.ext.wrapper.wv="prebid_prebid_8.18.0",S.ext.wrapper.transactionId=P.transactionId,S.ext.wrapper.wp="pbjs";var R,_,j=r?f.S.get(r.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==j){if(S.ext.marketplace={},r&&1==j){var M=f.S.get(r.bidderCode,"allowedAlternateBidderCodes");(0,d.isArray)(M)?(M=M.map((function(e){return e.trim().toLowerCase()})).filter((function(e){return!!e})).filter(d.uniques),A=M.includes("*")?q:[].concat((0,i.Z)(A),(0,i.Z)(M))):A=q}S.ext.marketplace.allowedbidders=A.filter(d.uniques)}S.user.gender=P.gender?P.gender.trim():O,S.user.geo={},S.user.yob=B("yob",P.yob),S.site.page=P.kadpageurl.trim()||S.site.page.trim(),S.site.domain=(R=S.site.page,(_=document.createElement("a")).href=R,_.hostname),"object"===(0,s.Z)(m.vc.getConfig("content"))&&(S.site.content=m.vc.getConfig("content")),"object"===(0,s.Z)(m.vc.getConfig("device"))&&(S.device=Object.assign(S.device,m.vc.getConfig("device"))),S.device.language=S.device.language&&S.device.language.split("-")[0],(0,l.N)(S,"source.tid",null==r||null===(t=r.ortb2)||void 0===t||null===(a=t.source)||void 0===a?void 0:a.tid),-1!==window.location.href.indexOf("pubmaticTest=true")&&(S.test=1),e[0].schain&&(0,l.N)(S,"source.ext.schain",e[0].schain),r&&r.gdprConsent&&((0,l.N)(S,"user.ext.consent",r.gdprConsent.consentString),(0,l.N)(S,"regs.ext.gdpr",r.gdprConsent.gdprApplies?1:0)),r&&r.uspConsent&&(0,l.N)(S,"regs.ext.us_privacy",r.uspConsent),null!=r&&null!==(n=r.gppConsent)&&void 0!==n&&n.gppString?((0,l.N)(S,"regs.gpp",r.gppConsent.gppString),(0,l.N)(S,"regs.gpp_sid",r.gppConsent.applicableSections)):null!=r&&null!==(o=r.ortb2)&&void 0!==o&&null!==(c=o.regs)&&void 0!==c&&c.gpp&&((0,l.N)(S,"regs.gpp",r.ortb2.regs.gpp),(0,l.N)(S,"regs.gpp_sid",r.ortb2.regs.gpp_sid)),!0===m.vc.getConfig("coppa")&&(0,l.N)(S,"regs.coppa",1),function(e,r){var t=(0,p.Z)(r,"0.userIdAsEids");(0,d.isArray)(t)&&t.length>0&&(0,l.N)(e,"user.eids",t)}(S,e);var N,U,X,D=r&&r.ortb2||{},F=D.user,J=D.device,L=D.site,V=D.bcat;if(L){var $=S.site,H=$.page,G=$.domain,Y=$.ref;(0,d.mergeDeep)(S,{site:L}),S.site.page=H,S.site.domain=G,S.site.ref=Y}if(F&&(0,d.mergeDeep)(S,{user:F}),V&&(k=k.concat(V)),null!=J&&J.sua&&(S.device.sua=null==J?void 0:J.sua),null!=F&&F.geo&&null!=J&&J.geo?(S.device.geo=y(y({},S.device.geo),J.geo),S.user.geo=y(y({},S.user.geo),F.geo)):(null!=F&&F.geo||null!=J&&J.geo)&&(S.user.geo=S.device.geo=null!=F&&F.geo?y(y({},S.user.geo),F.geo):y(y({},S.user.geo),J.geo)),null!==(g=D.ext)&&void 0!==g&&null!==(h=g.prebid)&&void 0!==h&&null!==(b=h.bidderparams)&&void 0!==b&&null!==(v=b[r.bidderCode])&&void 0!==v&&v.acat){var ee=D.ext.prebid.bidderparams[r.bidderCode].acat;Q(S,ee)}else E.length&&Q(S,E);if(function(e,r){(r=r.filter((function(e){return"string"==typeof e||((0,d.logWarn)("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,r,t){if(e.length>3)return t.indexOf(e)===r;(0,d.logWarn)("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&((0,d.logWarn)("PubMatic: bcat: Selected: ",r),e.bcat=r)}(S,k),null!=r&&r.timeout)S.tmax=r.timeout;else S.tmax=null===(N=window)||void 0===N||null===(U=N.PWT)||void 0===U||null===(X=U.versionDetails)||void 0===X?void 0:X.timeout;return S.ext.epoch=(new Date).getTime(),"object"===(0,s.Z)(m.vc.getConfig("app"))&&(S.app=m.vc.getConfig("app"),S.app.publisher=S.site.publisher,S.app.ext=S.site.ext||O,"object"!==(0,s.Z)(S.app.content)&&(S.app.content=S.site.content||O),delete S.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(S),bidderRequest:r}}},interpretResponse:function(e,r){var t=[],i=I,n=JSON.parse(r.data),s=n.site&&n.site.ref?n.site.ref:"";try{e.body&&e.body.seatbid&&(0,d.isArray)(e.body.seatbid)&&(i=e.body.cur||i,e.body.seatbid.forEach((function(e){e.bid&&(0,d.isArray)(e.bid)&&e.bid.forEach((function(a){var o={requestId:a.impid,cpm:parseFloat((a.price||0).toFixed(2)),width:a.w,height:a.h,creativeId:a.crid||a.id,dealId:a.dealid,currency:i,netRevenue:true,ttl:300,referrer:s,ad:a.adm,pm_seat:e.seat||null,pm_dspid:a.ext&&a.ext.dspid?a.ext.dspid:null,partnerImpId:a.id||""};n.imp&&n.imp.length>0&&n.imp.forEach((function(e){if(a.impid===e.id)switch(function(e,r){if(e.ext&&null!=e.ext.bidtype)r.mediaType=N[e.ext.bidtype];else{(0,d.logInfo)("PubMatic: bid.ext.bidtype does not exist, checking alternatively for mediaType");var t=e.adm,a="",i=new RegExp(/VAST\s+version/);if(t.indexOf('span class="PubAPIAd"')>=0)r.mediaType=u.Mk;else if(i.test(t))r.mediaType=u.pX;else try{(a=JSON.parse(t.replace(/\\/g,"")))&&a.native&&(r.mediaType=u.B5)}catch(e){(0,d.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+t)}}}(a,o),o.mediaType){case u.Mk:break;case u.pX:o.width=a.hasOwnProperty("w")?a.w:e.video.w,o.height=a.hasOwnProperty("h")?a.h:e.video.h,o.vastXml=a.adm,function(e,r){var t,a,i;if(r.bidderRequest&&r.bidderRequest.bids){for(var n=0;n<r.bidderRequest.bids.length;n++)r.bidderRequest.bids[n].bidId===e.requestId&&(t=r.bidderRequest.bids[n].params,a=r.bidderRequest.bids[n].mediaTypes[u.pX].context,i=r.bidderRequest.bids[n].adUnitCode);a&&"outstream"===a&&t&&t.outstreamAU&&i&&(e.rendererCode=t.outstreamAU,e.renderer=M.newRenderer(e.rendererCode,i))}}(o,r),function(e,r,t){var a,i,n;if(null!=r&&null!==(a=r.ext)&&void 0!==a&&a.prebiddealpriority){var s=(0,d.getBidRequest)(e.requestId,[t.bidderRequest]),o=(0,p.Z)(s,"mediaTypes.video");if((null==o?void 0:o.context)==u.Oh){var l=(null==r||null===(i=r.ext)||void 0===i||null===(n=i.video)||void 0===n?void 0:n.duration)||(null==o?void 0:o.maxduration);e.video={context:u.Oh,durationSeconds:l,dealTier:r.ext.prebiddealpriority}}}}(o,a,r);break;case u.B5:!function(e,r){if(e.hasOwnProperty("adm")){var t="";try{t=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void(0,d.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+r.adm)}r.native={ortb:y({},t.native)},r.mediaType=u.B5,r.width||(r.width=0),r.height||(r.height=0)}}(a,o)}})),a.ext&&a.ext.deal_channel&&(o.dealChannel=j[a.ext.deal_channel]||null),function(e,r,t){e.meta={},r.ext&&r.ext.dspid&&(e.meta.networkId=r.ext.dspid,e.meta.demandSource=r.ext.dspid),r.ext&&r.ext.dchain&&(e.meta.dchain=r.ext.dchain);var a=t||r.ext&&r.ext.advid;a&&(e.meta.advertiserId=a,e.meta.agencyId=a,e.meta.buyerId=a),r.adomain&&ee(r.adomain)&&(e.meta.advertiserDomains=r.adomain,e.meta.clickUrl=r.adomain[0],e.meta.brandId=r.adomain[0]),r.cat&&ee(r.cat)&&(e.meta.secondaryCatIds=r.cat,e.meta.primaryCatId=r.cat[0])}(o,a,e.seat),e.ext&&e.ext.buyid&&(o.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),a.ext&&a.ext.marketplace&&(o.bidderCode=a.ext.marketplace),t.push(o)}))})));var o=(0,p.Z)(e.body,"ext.fledge_auction_configs");if(o)return o=Object.entries(o).map((function(e){var r=(0,a.Z)(e,2),t=r[0],i=r[1];return{bidId:t,config:Object.assign({auctionSignals:{}},i)}})),{bids:t,fledgeAuctionConfigs:o}}catch(e){(0,d.logError)(e)}return t},getUserSyncs:function(e,r,t,a,i){var n,s,o=""+W;(t&&(o+="&gdpr="+(t.gdprApplies?1:0),o+="&gdpr_consent="+encodeURIComponent(t.consentString||"")),a&&(o+="&us_privacy="+encodeURIComponent(a)),null!=i&&i.gppString&&null!=i&&null!==(n=i.applicableSections)&&void 0!==n&&n.length)&&(o+="&gpp="+encodeURIComponent(i.gppString),o+="&gpp_sid="+encodeURIComponent(null==i||null===(s=i.applicableSections)||void 0===s?void 0:s.join(",")));return!0===m.vc.getConfig("coppa")&&(o+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+o}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+o}]},transformBidParams:function(e,r,t,a){return(0,b.u)({publisherId:"string",adSlot:"string"},e)}};(0,c.dX)(re),(0,o.z)("pubmaticBidAdapter")}},function(e){e.O(0,[33402],(function(){return r=15817,e(e.s=r);var r}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[13184],{95456:function(t,n,e){var r=e(71002),o=e(93324),a=e(4942),i=e(78640),c=e(3193),u=e(92797),f=e(64358),s=e(52021),g=e(5644),l=e(86104),p=e(34516),v=e(34614),h=e(99128),d=e(9633),D=e(67172);function b(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function O(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?b(Object(e),!0).forEach((function(n){(0,a.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):b(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var m,y,E=(0,e(16310).Oj)((function(t){return l.ZP.resolveAlias(t)})),j=[],P=[],T=[];var R,w=(R=!1,function(){var t;R||(Object.entries((t={},(0,a.Z)(t,g.FP.AUCTION_INIT,["onAuctionInitEvent"]),(0,a.Z)(t,g.FP.AUCTION_END,["onAuctionEndEvent",F]),(0,a.Z)(t,g.FP.BID_RESPONSE,["onBidResponseEvent"]),(0,a.Z)(t,g.FP.BID_REQUESTED,["onBidRequestEvent"]),t)).forEach((function(t){var n=(0,o.Z)(t,2),e=n[0],r=(0,o.Z)(n[1],2),a=r[0],i=r[1];s.on(e,(function(t){i&&i(t),P.forEach((function(n){try{n[a]&&n[a](t,n.config,y)}catch(t){(0,f.logError)("RTD provider '".concat(n.name,"': error in '").concat(a,"':"),t)}}))}))})),R=!0)});function C(){return{gdpr:p.rp.getConsentData(),usp:p.nX.getConsentData(),gpp:p.TJ.getConsentData(),coppa:!!c.vc.getConfig("coppa")}}function I(){y=C();var t=[];T.forEach((function(n){var e=(0,v.sE)(j,(function(t){return t.name===n.name}));e&&e.init&&e.init(n,y)&&t.push(Object.assign(e,{config:n}))})),P=t,(0,f.logInfo)("Real time data module enabled, using submodules: ".concat(P.map((function(t){return t.name})).join(", ")))}var A,Z,q=(0,h.g3)("rtd",(function(t,n){y=C();var e=[],r=[];P.forEach((function(t){if("function"==typeof t.getBidRequestData){e.push(t);var n=t.config;n&&n.waitForIt&&r.push(t)}}));var o,a=r.length&&m.auctionDelay&&m.auctionDelay>0,i=r.length,c=!1,u=[];if(!e.length)return s();function f(){c||(this.config&&this.config.waitForIt&&i--,0===i&&setTimeout(s,0))}function s(){c||(c=!0,clearTimeout(o),u.forEach((function(t){return t()})),t.call(this,n))}o=setTimeout(s,a?m.auctionDelay:0),e.forEach((function(t){var e=(0,D.fC)(n.ortb2Fragments||{},E(d.XG,t.name));u.push(e.verify),t.getBidRequestData(O(O({},n),{},{ortb2Fragments:e.obj}),f.bind(t),t.config,y)}))}));function F(t){var n=P.filter((function(t){return"function"==typeof t.getTargetingData}));if(n.length){var e=t.adUnitCodes;if(e){for(var o=[],a=n.length-1;a>=0;a--){var i=n[a].getTargetingData(e,n[a].config,y,t);i&&"object"===(0,r.Z)(i)?o.push(i):(0,f.logWarn)("invalid getTargetingData response for sub module",n[a].name)}var c=function(t){if(!Array.isArray(t)||!t.length)return{};return t.reduce((function(t,n){for(var e in n)if(n.hasOwnProperty(e))if(t.hasOwnProperty(e)){var r=n[e];for(var o in r)r.hasOwnProperty(o)&&(t[e][o]=r[o])}else t[e]=n[e];return t}),{})}(o);return t.adUnits.forEach((function(t){var n=t.code&&c[t.code];n&&((0,f.logInfo)("RTD set ad unit targeting of",n,"for",t),t[g.k2.xn]=Object.assign(t[g.k2.xn]||{},n))})),t.adUnits}}}function B(t){P.forEach((function(t){if("function"==typeof t.onDataDeletionRequest)try{t.onDataDeletionRequest(t.config)}catch(n){(0,f.logError)("Error executing ".concat(t.name,".onDataDeletionRequest"),n)}}));for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];t.apply(this,e)}(0,u.bA)("realTimeData",(function(t){return j.push(t),p.qh.register(d.XG,t.name,t.gvlid),function(){var n=j.indexOf(t);n>=0&&(j.splice(n,1),I())}})),A=c.vc,Z=A.getConfig("realTimeData",(function(t){var n=t.realTimeData;n.dataProviders?(Z(),m=n,T=n.dataProviders,w(),(0,u.v5)("startAuction").before(q,20),l.ZP.callDataDeletionRequest.before(B),I()):(0,f.logError)("missing parameters for real time module")})),(0,i.z)("rtdModule")}},function(t){t.O(0,[72075],(function(){return n=95456,t(t.s=n);var n}));t.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[56187],{40060:function(e,r,t){var n=t(89062),i=t(4942),o=t(93324),a=t(71002),s=t(78640),d=t(24980),c=t(99933),u=t(14699),p=t(3193),l=t(24679),f=t(34614),m=t(35706),g=t(64358),v=t(96475),b=t(20265),x=t(20676),y=t(85370);function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var j="https://video-outstream.rubiconproject.com/apex-2.2.1.js",k=p.vc.getConfig("rubicon")||{};p.vc.getConfig("rubicon",(function(e){(0,g.mergeDeep)(k,e.rubicon)}));var O={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160",632:"1200x450",634:"340x450"};(0,g._each)(O,(function(e,r){return O[e]=r}));var S=(0,d.x)({request:function(e,r,t,i){var o,d,c,u=i.bidRequests,l=e(r,t,i);l.cur=["USD"],l.test=p.vc.getConfig("debug")?1:0,(0,v.N)(l,"ext.prebid.cache",{vastxml:{returnCreative:!0===k.returnVast}}),(0,v.N)(l,"ext.prebid.bidders",{rubicon:{integration:k.int_type||"pbjs"}}),(0,v.N)(l,"ext.prebid.targeting.pricegranularity",{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:(c=p.vc).getConfig("customPriceBucket")&&c.getConfig("customPriceBucket").buckets}[c.getConfig("priceGranularity")]});var f=(0,s.R)().installedModules;return!f||f.length&&-1===f.indexOf("rubiconAnalyticsAdapter")||(0,v.N)(l,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),function(e,r,t){var i,o,a={},s=x.c.apply(void 0,[t].concat((0,n.Z)(r.map((function(e){return e.params.keywords})))));r.forEach((function(r){var t,n,i,o,s,d={user:{ext:{data:_({},r.params.visitor)}},site:{ext:{data:_({},r.params.inventory)}}},c=e.imp.find((function(e){var r,t,n,i,o;return null===(r=e.ext)||void 0===r||null===(t=r.prebid)||void 0===t||null===(n=t.bidder)||void 0===n||null===(i=n.rubicon)||void 0===i||null===(o=i.video)||void 0===o?void 0:o.language}));c&&(d.site.content={language:null===(t=c.ext)||void 0===t||null===(n=t.prebid)||void 0===n||null===(i=n.bidder)||void 0===i||null===(o=i.rubicon)||void 0===o||null===(s=o.video)||void 0===s?void 0:s.language});a=(0,g.mergeDeep)(a,r.ortb2||{},d);var u=p.vc.getConfig("user.id");a.user.id=a.user.id||u})),(0,g.mergeDeep)(e,a),s&&s.length&&(0,v.N)(e,"site.keywords",s.join(","));null==e||(null===(i=e.ext)||void 0===i||(null===(o=i.prebid)||void 0===o||delete o.storedrequest))}(l,u,t.ortb2),null==l||(null===(o=l.ext)||void 0===o||(null===(d=o.prebid)||void 0===d||delete d.storedrequest)),!0===k.disableFloors&&delete l.ext.prebid.floors,u.filter((function(e){return"object"===(0,a.Z)(e.floorData)})).length>0&&(l.ext.prebid.floors={enabled:!1}),l},imp:function(e,r,t){var n,i,o=Z(r);if(!o.includes(l.Mk)||1!=o.length){var a=e(r,t);return a.id=r.adUnitCode,delete a.banner,p.vc.getConfig("s2sConfig.defaultTtl")&&(a.exp=p.vc.getConfig("s2sConfig.defaultTtl")),"atf"===r.params.position&&a.video&&(a.video.pos=1),"btf"===r.params.position&&a.video&&(a.video.pos=3),null===(n=a.ext)||void 0===n||(null===(i=n.prebid)||void 0===i||delete i.storedrequest),!0===r.params.bidonmultiformat&&o.length>1&&(0,v.N)(a,"ext.prebid.bidder.rubicon.formats",o),function(e,r){"USD"!=r.bidfloorcur&&(delete r.bidfloor,delete r.bidfloorcur);if(!r.bidfloor){var t=parseFloat((0,b.Z)(e,"params.floor"));isNaN(t)||(r.bidfloor=t,r.bidfloorcur="USD")}}(r,a),a}},bidResponse:function(e,r,t){var n,i=e(r,t);i.meta.mediaType=(0,b.Z)(r,"ext.prebid.type");var a=t.bidRequest,s="outstream"===(null===(n=a.mediaTypes.video)||void 0===n?void 0:n.context)?A(a,l.pX):[void 0,void 0],d=(0,o.Z)(s,2),c=d[0],u=d[1];return i.width=r.w||c||i.playerWidth,i.height=r.h||u||i.playerHeight,i.mediaType===l.pX&&"outstream"===a.mediaTypes.video.context&&(i.renderer=function(e){var r=m.Th.install({id:e.adId,url:k.rendererUrl||j,config:k.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{r.setRender(R)}catch(e){(0,g.logWarn)("Prebid Error calling setRender on renderer",e)}return r}(i)),(0,b.Z)(r,"ext.bidder.rp.advid")&&(0,v.N)(i,"meta.advertiserId",r.ext.bidder.rp.advid),i},context:{netRevenue:!1!==k.netRevenue,ttl:300},processors:c.X}),w={code:"rubicon",gvlid:52,supportedMediaTypes:[l.Mk,l.pX,l.B5],isBidRequestValid:function(e){var r=!0;if("object"!==(0,a.Z)(e.params))return!1;for(var t=0,n=["accountId","siteId","zoneId"];t<n.length;t++)if(e.params[n[t]]=parseInt(e.params[n[t]]),isNaN(e.params[n[t]]))return(0,g.logError)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var i=Z(e,!0);if(!i.length)return!1;i.includes(l.pX)&&(r=function(e){var r=!0,t=Object.prototype.toString.call([]),n=Object.prototype.toString.call(0),i={mimes:t,protocols:t,linearity:n,api:t};return Object.keys(i).forEach((function(t){Object.prototype.toString.call((0,b.Z)(e,"mediaTypes.video."+t))!==i[t]&&(r=!1,(0,g.logError)("Rubicon: mediaTypes.video."+t+" is required and must be of type: "+i[t]))})),r}(e));var o=[l.Mk,l.B5].filter((function(e){return i.includes(e)})).length>0;return o?r&&o:r},buildRequests:function(e,r){var t,n=[],i=[];if((t=e.filter((function(e){var r=Z(e)||[],t=r.length,n=e.params||{},i=n.bidonmultiformat,o=n.video;return 1===t&&(r.includes(l.pX)||r.includes(l.B5))||2===t&&!r.includes(l.Mk)||o&&r.includes(l.pX)||i&&(r.includes(l.pX)||r.includes(l.B5))})))&&t.length){var o=S.toORTB({bidRequests:t,bidderRequest:r});i.push({method:"POST",url:"https://".concat(k.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:o,bidRequest:t})}var a=e.filter((function(e){var r=Z(e)||[],t=e.params||{},n=t.bidonmultiformat,i=t.video;return r.includes(l.Mk)&&(1===r.length||n||!n&&!i||!n&&i&&!r.includes(l.pX))}));if(!0!==k.singleRequest)n=i.concat(a.map((function(e){var t=w.createSlotParams(e,r);return{method:"GET",url:"https://".concat(k.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:w.getOrderedParams(t).reduce((function(e,r){var n=t[r];return(0,g.isStr)(n)&&""!==n||(0,g.isNumber)(n)?"".concat(e).concat(P(r,n),"&"):e}),"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})));else{var s=a.reduce((function(e,r){return(e[r.params.siteId]=e[r.params.siteId]||[]).push(r),e}),{});n=i.concat(Object.keys(s).reduce((function(e,t){var n,i;return(n=s[t],i=10,n.map((function(e,r){return r%i==0?n.slice(r,r+i):null})).filter((function(e){return e}))).forEach((function(t){var n=w.combineSlotUrlParams(t.map((function(e){return w.createSlotParams(e,r)})));e.push({method:"GET",url:"https://".concat(k.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:w.getOrderedParams(n).reduce((function(e,r){var t=n[r];return(0,g.isStr)(t)&&""!==t||(0,g.isNumber)(t)?"".concat(e).concat(P(r,t),"&"):e}),"")+"slots=".concat(t.length,"&rand=").concat(Math.random()),bidRequest:t})})),e}),[]))}return n},getOrderedParams:function(e){var r=/^tg_v/,t=/^tg_i/,n=/^eid_|^tpid_/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","gpp","gpp_sid","rp_schain"].concat(Object.keys(e).filter((function(e){return n.test(e)}))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((function(e){return r.test(e)}))).concat(Object.keys(e).filter((function(e){return t.test(e)}))).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter((function(e){return-1===i.indexOf(e)})))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];var r=e.reduce((function(r,t,n){return Object.keys(t).forEach((function(i){r.hasOwnProperty(i)||(r[i]=new Array(e.length)),r[i].splice(n,1,t[i])})),r}),{}),t=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(r).forEach((function(e){var n=r[e].join(";"),i=n.match(t);r[e]=i?i[1]:n})),r},createSlotParams:function(e,r){var t,n,i,s,d;e.startTime=(new Date).getTime();var c=e.params,u=A(e,"banner"),m=c.latLong||[],v=(0,o.Z)(m,2),x=v[0],y=v[1],h={account_id:c.accountId,site_id:c.siteId,zone_id:c.zoneId,size_id:u[0],alt_size_ids:u.slice(1).join(",")||void 0,rp_floor:(c.floor=parseFloat(c.floor))>=.01?c.floor:void 0,rp_secure:"1",tk_flint:"".concat(k.int_type||"pbjs_lite","_v8.18.0"),"x_source.tid":null===(t=r.ortb2)||void 0===t||null===(n=t.source)||void 0===n?void 0:n.tid,"x_imp.ext.tid":null===(i=e.ortb2Imp)||void 0===i||null===(s=i.ext)||void 0===s?void 0:s.tid,l_pb_bid_id:e.bidId,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:c.userId,"p_geo.latitude":isNaN(parseFloat(x))?void 0:parseFloat(x).toFixed(4),"p_geo.longitude":isNaN(parseFloat(y))?void 0:parseFloat(y).toFixed(4),"tg_fl.eid":e.code,rf:C(e,r)};if("function"==typeof e.getFloor&&!k.disableFloors){var j;try{j=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){(0,g.logError)("Rubicon: getFloor threw an error: ",e)}h.rp_hard_floor="object"!==(0,a.Z)(j)||"USD"!==j.currency||isNaN(parseInt(j.floor))?void 0:j.floor}!0===c.bidonmultiformat&&(0,b.Z)(e,"mediaTypes")&&Object.keys(e.mediaTypes).length>1&&(h.p_formats=Object.keys(e.mediaTypes).join(","));var O={1:"atf",3:"btf"}[(0,b.Z)(e,"mediaTypes.banner.pos")]||"";h.p_pos="atf"===c.position||"btf"===c.position?c.position:O;var S,R,I=p.vc.getConfig("user.id");(I&&(h.ppuid=I),e.userIdAsEids&&e.userIdAsEids.forEach((function(e){try{if("adserver.org"===e.source)h.tpid_tdid=e.uids[0].id,h["eid_adserver.org"]=e.uids[0].id;else if("liveintent.com"===e.source)h["tpid_liveintent.com"]=e.uids[0].id,h["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(h["tg_v.LIseg"]=e.ext.segments.join(","));else if("liveramp.com"===e.source)h.x_liverampidl=e.uids[0].id;else if("id5-sync.com"===e.source)h["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.linkType||"");else{var r="rubiconproject.com"===e.source?e.uids[0].id:"".concat(e.uids[0].id,"^").concat(e.uids[0].atype||"");h["eid_".concat(e.source)]=r}if(!h.ppuid){var t=(0,f.sE)(e.uids,(function(e){return e.ext&&"ppuid"===e.ext.stype}));t&&t.id&&(h.ppuid=t.id)}}catch(r){(0,g.logWarn)("Rubicon: error reading eid:",e,r)}})),r.gdprConsent&&("boolean"==typeof r.gdprConsent.gdprApplies&&(h.gdpr=Number(r.gdprConsent.gdprApplies)),h.gdpr_consent=r.gdprConsent.consentString),r.uspConsent&&(h.us_privacy=encodeURIComponent(r.uspConsent)),null!==(d=r.gppConsent)&&void 0!==d&&d.gppString)&&(h.gpp=r.gppConsent.gppString,h.gpp_sid=null===(S=r.gppConsent)||void 0===S||null===(R=S.applicableSections)||void 0===R?void 0:R.toString());return h.rp_maxbids=r.bidLimit||1,function(e,r,t){var n={user:{ext:{data:_({},e.params.visitor)}},site:{ext:{data:_({},e.params.inventory)}}};e.params.keywords&&(n.site.keywords=(0,g.isArray)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);var i=(0,g.mergeDeep)({},e.ortb2||{},n),o=(0,b.Z)(e.ortb2Imp,"ext")||{},s=(0,b.Z)(e.ortb2Imp,"ext.data")||{},d=(0,b.Z)(e,"ortb2Imp.ext.gpid"),c={user:[4],site:[1,2,5,6]},u={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},p=function(e,r,t){return"data"===r&&Array.isArray(e)?e.filter((function(e){return e.segment&&(0,b.Z)(e,"ext.segtax")&&c[t]&&-1!==c[t].indexOf((0,b.Z)(e,"ext.segtax"))})).map((function(e){var r=e.segment.filter((function(e){return e.id})).reduce((function(e,r){return e.push(r.id),e}),[]);if(r.length>0)return r.toString()})).toString():("object"!==(0,a.Z)(e)||Array.isArray(e))&&void 0!==e?Array.isArray(e)?e.filter((function(e){if("object"!==(0,a.Z)(e)&&void 0!==e)return e.toString();(0,g.logWarn)("Rubicon: Filtered value: ",e,"for key",r,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString():void 0},f=function(e,r,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=p(e,n,r),a=u[n]&&i?"".concat(u[n]):"data"===n?"".concat(u[r],"iab"):"".concat(u[r]).concat(n);t[a]=t[a]?t[a].concat(",",o):o};r===l.Mk?(["site","user"].forEach((function(e){Object.keys(i[e]).forEach((function(r){"site"===e&&"content"===r&&i[e][r].data?f(i[e][r].data,e,"data"):"ext"!==r?f(i[e][r],e,r):i[e][r].data&&Object.keys(i[e].ext.data).forEach((function(r){f(i[e].ext.data[r],e,r,!1)}))}))})),Object.keys(s).forEach((function(e){"adserver"!==e?f(s[e],"site",e):"gam"===s[e].name&&f(s[e].adslot,name,e)})),d&&(t.p_gpid=d),t["tg_i.pbadslot"]&&delete t["tg_i.dfp_ad_unit_code"]):(Object.keys(o).length&&(0,g.mergeDeep)(t.imp[0].ext,o),d&&(t.imp[0].ext.gpid=d),(0,g.mergeDeep)(t,i))}(e,l.Mk,h),!0===p.vc.getConfig("coppa")&&(h.coppa=1),e.schain&&z(e.schain)&&(h.rp_schain=w.serializeSupplyChain(e.schain)),h},serializeSupplyChain:function(e){if(!z(e))return"";var r=e.ver,t=e.complete,n=e.nodes;return"".concat(r,",").concat(t,"!").concat(w.serializeSupplyChainNodes(n))},serializeSupplyChainNodes:function(e){var r=["asi","sid","hp","rid","name","domain"];return e.map((function(e){return r.map((function(r){return encodeURIComponent(e[r]||"")})).join(",")})).join("!")},interpretResponse:function(e,r){e=e.body;var t=r.data;if(!e||"object"!==(0,a.Z)(e))return[];if(e.seatbid){var n=(0,b.Z)(e,"ext.errors.rubicon");return Array.isArray(n)&&n.length>0&&(0,g.logWarn)("Rubicon: Error in video response"),S.fromORTB({request:t,response:e}).bids}var i,s=e.ads,d=0,c=r.bidRequest;return"object"===(0,a.Z)(c)&&!Array.isArray(c)&&Z(c).includes(l.pX)&&"object"===(0,a.Z)(s)&&(s=s[c.adUnitCode]),!Array.isArray(s)||s.length<1?[]:s.reduce((function(r,t,n){if(t.impression_id&&i===t.impression_id?d++:i=t.impression_id,"ok"!==t.status)return r;var s,u,p=Array.isArray(c)?c[n-d]:c;if(p&&"object"===(0,a.Z)(p)){var f={requestId:p.bidId,currency:"USD",creativeId:t.creative_id||"".concat(t.network||"","-").concat(t.advertiser||""),cpm:t.cpm||0,dealId:t.deal,ttl:300,netRevenue:!1!==k.netRevenue,rubicon:{advertiserId:t.advertiser,networkId:t.network},meta:{advertiserId:t.advertiser,networkId:t.network,mediaType:l.Mk}};if(t.creative_type&&(f.mediaType=t.creative_type),t.adomain&&(f.meta.advertiserDomains=Array.isArray(t.adomain)?t.adomain:[t.adomain]),t.creative_type===l.pX)f.width=p.params.video.playerWidth,f.height=p.params.video.playerHeight,f.vastUrl=t.creative_depot_url,f.impression_id=t.impression_id,f.videoCacheKey=t.impression_id;else{f.ad=(s=t.script,u=t.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(u,"'>\n<script type='text/javascript'>").concat(s,"<\/script>\n</div>\n</body>\n</html>"));var m=O[t.size_id].split("x").map((function(e){return Number(e)})),v=(0,o.Z)(m,2);f.width=v[0],f.height=v[1]}f.rubiconTargeting=(Array.isArray(t.targeting)?t.targeting:[]).reduce((function(e,r){return e[r.key]=r.values[0],e}),{rpfl_elemid:p.adUnitCode}),r.push(f)}else(0,g.logError)("Rubicon: bidRequest undefined at index position:".concat(n),c,e);return r}),[]).sort((function(e,r){return(r.cpm||0)-(e.cpm||0)}))},getUserSyncs:function(e,r,t,n,i){if(!E&&e.iframeEnabled){var o,a={};if(t&&("boolean"==typeof t.gdprApplies&&(a.gdpr=Number(t.gdprApplies)),"string"==typeof t.consentString&&(a.gdpr_consent=t.consentString)),n&&(a.us_privacy=encodeURIComponent(n)),null!=i&&i.gppString)a.gpp=i.gppString,a.gpp_sid=null===(o=i.applicableSections)||void 0===o?void 0:o.toString();return a=Object.keys(a).length?"?".concat((0,g.formatQS)(a)):"",E=!0,{type:"iframe",url:"https://".concat(k.syncHost||"eus",".rubiconproject.com/usync.html")+a}}},transformBidParams:function(e,r){return(0,y.u)({accountId:"number",siteId:"number",zoneId:"number"},e)}};function C(e,r){var t;return t=e.params.referrer?e.params.referrer:r.refererInfo.page,e.params.secure?t.replace(/^http:/i,"https:"):t}function R(e){var r,t=document.getElementById(e.adUnitCode);(r=t.querySelector("div[id^='google_ads']"))&&r.style.setProperty("display","none"),function(e){var r=e.querySelector("script[id^='sas_script']"),t=r&&r.nextSibling;t&&"iframe"===t.localName&&t.style.setProperty("display","none")}(t);var n=e.renderer.getConfig();e.renderer.push((function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:t,align:n.align||"center",position:n.position||"append"},closeButton:n.closeButton||!1,label:n.label||void 0,collapse:n.collapse||!0})}))}function A(e,r){var t=e.params;if(r===l.pX){var n=[];return t.video&&t.video.playerWidth&&t.video.playerHeight?n=[t.video.playerWidth,t.video.playerHeight]:Array.isArray((0,b.Z)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?n=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(n=e.sizes[0]),n}var i=[];return Array.isArray(t.sizes)?i=t.sizes:void 0!==(0,b.Z)(e,"mediaTypes.banner.sizes")?i=I(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?i=I(e.sizes):(0,g.logWarn)("Rubicon: no sizes are setup or found"),function(e){var r=[15,2,9];return e.sort((function(e,t){var n=r.indexOf(e),i=r.indexOf(t);return n>-1||i>-1?-1===n?1:-1===i?-1:n-i:e-t}))}(i)}function I(e){return(0,g.parseSizesInput)(e).reduce((function(e,r){var t=parseInt(O[r],10);return t&&e.push(t),e}),[])}function T(e){var r=void 0!==(0,b.Z)(e,"mediaTypes.".concat(l.pX)),t=void 0!==(0,b.Z)(e,"mediaTypes.".concat(l.Mk)),n=void 0!==(0,b.Z)(e,"params.bidonmultiformat"),i="object"!==(0,a.Z)((0,b.Z)(e,"params.video"));return!(!r||!n)||(t&&i&&(r=!1),r&&i&&(0,v.N)(e,"params.video",{}),r)}function Z(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=[];if(T(e)){if(-1===["outstream","instream"].indexOf((0,b.Z)(e,"mediaTypes.".concat(l.pX,".context"))))return r&&(0,g.logError)("Rubicon: mediaTypes.video.context must be outstream or instream"),t;if(A(e,l.pX).length<2)return r&&(0,g.logError)("Rubicon: could not determine the playerSize of the video"),t;r&&(0,g.logMessage)("Rubicon: making video request for adUnit",e.adUnitCode),t.push(l.pX)}if(void 0!==(0,b.Z)(e,"mediaTypes.".concat(l.B5))&&t.push(l.B5),void 0!==(0,b.Z)(e,"mediaTypes.".concat(l.Mk))){if(0===A(e,l.Mk).length)return r&&(0,g.logError)("Rubicon: could not determine the sizes for banner request"),t;r&&(0,g.logMessage)("Rubicon: making banner request for adUnit",e.adUnitCode),t.push(l.Mk)}return t}function z(e){var r=!1,t=["asi","sid","hp"];return e.nodes?((r=e.nodes.reduce((function(e,r){return e?t.every((function(e){return r.hasOwnProperty(e)})):e}),!0))||(0,g.logError)("Rubicon: required schain params missing"),r):r}function P(e,r){return"rp_schain"===e?"rp_schain=".concat(r):"".concat(e,"=").concat(encodeURIComponent(r))}var E=!1;(0,u.dX)(w),(0,s.z)("rubiconBidAdapter")},26372:function(e,r,t){t.d(r,{DZ:function(){return a},Px:function(){return s},TP:function(){return c},YC:function(){return d},Z:function(){return o},f8:function(){return m},fP:function(){return g},gm:function(){return n},md:function(){return u}});var n=["request","imp","bidResponse","response"],i=["default","pbs"],o=n[0],a=n[1],s=n[2],d=n[3],c=i[0],u=i[1],p=new Set(n);var l,f=(l={},{registerOrtbProcessor:function(e){var r=e.type,t=e.name,i=e.fn,o=e.priority,a=void 0===o?0:o,s=e.dialects,d=void 0===s?[c]:s;if(!p.has(r))throw new Error("ORTB processor type must be one of: ".concat(n.join(", ")));d.forEach((function(e){l.hasOwnProperty(e)||(l[e]={}),l[e].hasOwnProperty(r)||(l[e][r]={}),l[e][r][t]={priority:a,fn:i}}))},getProcessors:function(e){return l[e]||{}}}),m=f.registerOrtbProcessor,g=f.getProcessors}},function(e){e.O(0,[85279,33402,93157,70951],(function(){return r=40060,e(e.s=r);var r}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[92972],{54834:function(o,e,n){var t=n(71002),r=n(78640),i=n(64358),d=n(92797),a=n(34516),u=n(15164),c=n(9633),l=n(81694),f=(0,u.df)({moduleType:c.y2,moduleName:"sharedId"}),s="cookie",m="html5",g="_pubcid_optout",p="PublisherCommonId";function v(o,e){if(e===s)return f.getCookie(o);if(e===m&&f.hasLocalStorage()){var n=f.getDataFromLocalStorage("".concat(o,"_exp"));if(!n)return f.getDataFromLocalStorage(o);if(new Date(n).getTime()-Date.now()>0)return f.getDataFromLocalStorage(o)}}function I(o,e){return function(n,t){e?b(e,o,(function(){n(t()||o)}))():n(o)}}function b(o){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;if(o){var t=(0,i.parseUrl)(o);t.search.id=encodeURIComponent("pubcid:"+e);var r=(0,i.buildUrl)(t);return function(){(0,i.triggerPixel)(r,n)}}}function h(){return!!(f.cookiesAreEnabled()&&v(g,s)||f.hasLocalStorage()&&v(g,m))}var C={name:"sharedId",aliasName:"pubCommonId",gvlid:a.$P,decode:function(o,e){if(!h())return(0,i.logInfo)(" Decoded value PubCommonId "+o),{pubcid:o};(0,i.logInfo)("PubCommonId decode: Has opted-out")},getId:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>2?arguments[2]:void 0;if(h())(0,i.logInfo)("PubCommonId: Has opted-out");else{var n=a.VP.getCoppa();if(!n){var r=o.params,d=(r=void 0===r?{}:r).create,u=void 0===d||d,c=r.pixelUrl,l=e;if(!l){try{"object"===(0,t.Z)(window[p])&&(l=window[p].getId())}catch(o){}l||(l=u&&(0,i.hasDeviceAccess)()?(0,i.generateUUID)():void 0)}return{id:l,callback:I(l,c)}}(0,i.logInfo)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId")}},extendId:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>2?arguments[2]:void 0;if(h())return(0,i.logInfo)("PubCommonId: Has opted-out"),{id:void 0};var n=a.VP.getCoppa();if(n)(0,i.logInfo)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId");else{var t=o.params,r=(t=void 0===t?{}:t).extend,d=void 0!==r&&r,u=t.pixelUrl;if(d){if(u){var c=b(u,e);return{callback:c}}return{id:e}}}},domainOverride:(0,l.U)(f,"sharedId"),eids:{pubcid:{source:"pubcid.org",atype:1}}};(0,d.Bx)("userId",C),(0,r.z)("sharedIdSystem")}},function(o){o.O(0,[57748],(function(){return e=54834,o(o.s=e);var e}));o.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[3161],{38622:function(e,t,n){var r=n(4942),o=n(89062),a=n(93324),i=n(78640),c=n(64358),s=n(25102),u=n(92797),d=n(68792),f=n(3193),l=n(15164),p=n(34614),g=n(50571),m=n(74947),v=n(10286),h=n(9633),b=!1;var y={maxTopicCaller:2,bidders:[{bidder:"pubmatic",iframeURL:"https://ads.pubmatic.com/AdServer/js/topics/topics_frame.html"},{bidder:"rtbhouse",iframeURL:"https://topics.authorizedvault.com/topicsapi.html"}]},w=(0,l.eA)("topicsFpd"),S="prebid:topics",O="lastUpdated",L=[],x={1:600,2:601,3:602,4:603};function D(e,t){return t.reduce((function(t,n){var r=n[e];return t.hasOwnProperty(r)||(t[r]=[]),t[r].push(n),t}),{})}function E(e){return L.push(e)}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;return Object.entries(D("taxonomyVersion",t)).filter((function(e){var t=(0,a.Z)(e,1)[0];return!!n.hasOwnProperty(t)||((0,c.logWarn)('Unrecognized taxonomyVersion from Topics API: "'.concat(t,'"; topic will be ignored')),!1)})).flatMap((function(t){var r=(0,a.Z)(t,2),o=r[0],i=r[1];return Object.entries(D("modelVersion",i)).map((function(t){var r=(0,a.Z)(t,2),i=r[0],c=r[1],s={ext:{segtax:n[o],segclass:i},segment:c.map((function(e){return{id:e.topic.toString()}}))};return null!=e&&(s.name=e),s}))}))}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return"browsingTopics"in e&&e.featurePolicy.allowsFeature("browsing-topics")}var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=null;try{T(e)&&(t=d.Z.resolve(e.browsingTopics()))}catch(e){(0,c.logError)("Could not call topics API",e)}return null==t&&(t=d.Z.resolve([])),t}().then((function(e){return P((0,s.nH)().domain,e)}));function Z(){var e=[],t=(f.vc.getConfig("userSync.topics")||y).bidders||[],n=new Map((0,c.safeJSONParse)(w.getDataFromLocalStorage(S)));return n&&n.forEach((function(r,a){var i=t.find((function(e){var t=e.bidder;return a===t}));i&&(0,g.xD)(m.S5,(0,v.T)(h.UL,a))&&(F(r.lastUpdated,(null==i?void 0:i.expiry)||21)?(n.delete(a),w.setDataInLocalStorage(S,JSON.stringify((0,o.Z)(n)))):Object.keys(r).forEach((function(t){t!==O&&e.push(r[t])})))})),e}function j(e){if(e&&e.data)try{var t=(0,c.safeJSONParse)(e.data);if((0,p.q9)(L,e.origin)&&t&&t.segment&&!(0,c.isEmpty)(t.segment.topics)){var n=t.segment,r=n.domain,o=n.topics,a=n.bidder,i=P(r,o);i&&C(a,i)}}catch(e){}}function C(e,t){var n=new Map((0,c.safeJSONParse)(w.getDataFromLocalStorage(S))),a=(0,r.Z)({},O,(new Date).getTime());t.forEach((function(e){a[e.ext.segclass]=e})),n.set(e,a),w.setDataInLocalStorage(S,JSON.stringify((0,o.Z)(n)))}function F(e,t){var n=(new Date).getTime();return Math.ceil((n-e)/864e5)>t}function M(e,t){return(0,o.Z)(e).sort((function(){return.5-Math.random()})).slice(0,t)}function J(){window.addEventListener("message",j,!1)}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(T(e)){var t=f.vc.getConfig("userSync.topics")||y;if(t){J();var n=M(t.bidders||[],t.maxTopicCaller||1);n&&n.forEach((function(t){var n=t.bidder,r=t.iframeURL,o=t.fetchUrl,a=t.fetchRate;if(n&&r){var i=e.createElement("iframe");i.name="ifrm_".concat(n),i.src="".concat(r,"?bidder=").concat(n),i.style.display="none",E(new URL(r).origin),r&&e.documentElement.appendChild(i)}if(n&&o){var s=new Map((0,c.safeJSONParse)(w.getDataFromLocalStorage(S))).get(n);(!s||s&&F(s.lastUpdated,a||1))&&window.fetch("".concat(o,"?bidder=").concat(n),{browsingTopics:!0}).then((function(e){return e.json()})).then((function(e){if(e&&e.segment&&!(0,c.isEmpty)(e.segment.topics)){var t=e.segment,n=t.domain,r=t.topics,o=t.bidder,a=P(n,r);a&&C(o,a)}}))}}))}else(0,c.logWarn)("Topics config not defined under userSync Object")}}(0,u.Bx)("firstPartyData",{name:"topics",queue:1,processFpd:function(e,t){var n=t.global,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.data,a=void 0===o?U:o;return b||(N(),b=!0),a.then((function(e){return(e=[].concat(e,Z())).length&&(0,c.mergeDeep)(n,{user:{data:e}}),{global:n}}))}}),(0,i.z)("topicsFpdModule")}},function(e){var t;t=38622,e(e.s=t)}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[33402],{85370:function(n,e,u){u.d(e,{u:function(){return t}});var r=u(64358);function t(n,e){return Object.keys(n).forEach((function(u){var t,s;e[u]&&((0,r.isFn)(n[u])?e[u]=n[u](e[u]):e[u]=(t=n[u],s=e[u],"string"===t?s&&s.toString():"number"===t?Number(s):s),isNaN(e[u])&&delete e.key)})),e}}}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[82599],{70789:function(e,t,r){var n=r(71002),i=r(89062),o=r(4942),a=r(78640),c=r(64358),u=r(24679),s=r(14699),d=r(3193),p=r(15164),l=r(29865);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g="triplelift",b=null,v=null,y=(0,p.df)({bidderCode:g}),h={gvlid:28,code:g,supportedMediaTypes:[u.Mk,u.pX],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var r="https://tlx.3lift.com/header/auction?",n=function(e,t){var r,n,o={},a=e[0].schain,u=function(e){var t={},r={},n={},i=e.ortb2||{},o=function(){var e=y.getDataFromLocalStorage("opecloud_ctx");if(!e)return null;try{return JSON.parse(e)}catch(e){return(0,c.logError)("Triplelift: error parsing JSON: ",e),null}}(),a=Object.assign({},i.site),u=Object.assign({},i.user);if(o){u.data=u.data||[];try{u.data.push({name:"www.1plusx.com",ext:o})}catch(e){(0,c.logError)("Triplelift: error adding 1plusX segments: ",e)}}I(r,a),I(n,u),(0,c.isEmpty)(r)||(t.context=r);(0,c.isEmpty)(n)||(t.user=n);return t}(t);o.imp=e.map((function(e,t){var r={id:t,tagid:e.params.inventoryCode,floor:S(e)};return O(e)&&(r.video=function(e){var t=m(m({},e.params.video),e.mediaTypes.video);try{t.w||(t.w=t.playerSize[0][0]),t.h||(t.h=t.playerSize[0][1])}catch(e){(0,c.logWarn)("Video size not defined",e)}"instream"===t.context&&(t.placement||(t.placement=1));"outstream"===t.context&&(t.placement?-1===[3,4,5].indexOf(t.placement)&&((0,c.logMessage)("video.placement value of ".concat(t.placement," is invalid for outstream context. Setting placement to 3")),t.placement=3):t.placement=3);t.playbackmethod&&Number.isInteger(t.playbackmethod)&&(t.playbackmethod=Array.from(String(t.playbackmethod),Number));return delete t.playerSize,t}(e)),e.mediaTypes.banner&&!x(e)&&(r.banner={format:w(e.sizes)}),(0,c.isEmpty)(e.ortb2Imp)||(r.fpd=function(e){var t={},r={};I(r,e.ext),(0,c.isEmpty)(r)||(t.context=r);return t}(e.ortb2Imp),(0,c.isEmpty)(e.ortb2Imp.ext)||(r.ext=m({},e.ortb2Imp.ext))),r}));var s=[].concat((0,i.Z)((d=[e[0]],j(d,"tdid","adserver.org","TDID"))),(0,i.Z)(function(e){return j(e,"idl_env","liveramp.com","idl")}([e[0]])),(0,i.Z)(function(e){return j(e,"criteoId","criteo.com","criteoId")}([e[0]])),(0,i.Z)(function(e){return j(e,"pubcid","pubcid.org","pubcid")}([e[0]])),(0,i.Z)(function(e){var t=["adserver.org","liveramp.com","criteo.com","pubcid.org"],r=[];e.userIdAsEids&&e.userIdAsEids.forEach((function(e){try{if(-1===t.indexOf(e.source)){var n=e.uids.map((function(t){return{id:t.id,ext:{rtiPartner:e.source}}}));r.push({source:e.source,uids:n})}}catch(t){(0,c.logWarn)("Triplelift: Error attempting to add ".concat(e," to bid request"),t)}}));return r}(e[0])));var d;s.length>0&&(o.user={ext:{eids:s}});var p=function(e,t){var r={};(0,c.isEmpty)(e)||(r.schain=m({},e));(0,c.isEmpty)(t)||(r.fpd=m({},t));return r}(a,u);(0,c.isEmpty)(p)||(o.ext=p);null!=t&&null!==(r=t.ortb2)&&void 0!==r&&null!==(n=r.regs)&&void 0!==n&&n.gpp&&(o.regs=Object.assign({},t.ortb2.regs));null!=t&&t.ortb2&&(o.ext.ortb2=Object.assign({},t.ortb2));return o}(e,t);if(r=(0,l.t)(r,"lib","prebid"),r=(0,l.t)(r,"v","8.18.0"),t&&t.refererInfo){var o=t.refererInfo.page;r=(0,l.t)(r,"referrer",o)}return t&&t.timeout&&(r=(0,l.t)(r,"tmax",t.timeout)),t&&t.gdprConsent&&(b=void 0===t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies,r=(0,l.t)(r,"gdpr",b.toString()),void 0!==t.gdprConsent.consentString&&(v=t.gdprConsent.consentString,r=(0,l.t)(r,"cmp_cs",v))),t&&t.uspConsent&&(r=(0,l.t)(r,"us_privacy",t.uspConsent)),t&&t.fledgeEnabled&&(r=(0,l.t)(r,"fledge",t.fledgeEnabled)),!0===d.vc.getConfig("coppa")&&(r=(0,l.t)(r,"coppa",!0)),r.lastIndexOf("&")===r.length-1&&(r=r.substring(0,r.length-1)),(0,c.logMessage)("tlCall request built: "+r),{method:"POST",url:r,data:n,bidderRequest:t}},interpretResponse:function(e,t){var r=t.bidderRequest,n=e.body.bids||[],i=e.body.paapi||[];if(n=n.map((function(e){return function(e,t){var r={},n=t.width||1,i=t.height||1,o=t.deal_id||"",a=t.crid||"",c=e.bids[t.imp_id];0!=t.cpm&&t.ad&&(r={requestId:c.bidId,cpm:t.cpm,width:n,height:i,netRevenue:!0,ad:t.ad,creativeId:a,dealId:o,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},O(c)&&"video"===t.media_type&&(r.vastXml=t.ad,r.mediaType="video",r.ttl=3600),t.advertiser_name&&(r.meta.advertiserName=t.advertiser_name),t.adomain&&t.adomain.length&&(r.meta.advertiserDomains=t.adomain),t.tl_source&&"hdx"==t.tl_source&&(O(c)&&"video"===t.media_type?r.meta.mediaType="video":r.meta.mediaType="banner"),t.tl_source&&"tlx"==t.tl_source&&(r.meta.mediaType="native"),a&&(r.meta.networkId=a.slice(0,a.indexOf("_"))));return r}(r,e)})),i.length>0){var o=i.map((function(e){return{bidId:r.bids[e.imp_id].bidId,config:e.auctionConfig}}));return(0,c.logMessage)("Response with FLEDGE:",{bids:n,fledgeAuctionConfigs:o}),{bids:n,fledgeAuctionConfigs:o}}return n},getUserSyncs:function(e,t,r,n,i){var o=function(e){if(!e)return;if(e.iframeEnabled)return"iframe";if(e.pixelEnabled)return"image"}(e);if(o){var a="https://eb2.3lift.com/sync?";return"image"===o&&(a=(0,l.t)(a,"px",1),a=(0,l.t)(a,"src","prebid")),(null!==v||b)&&(a=(0,l.t)(a,"gdpr",b),a=(0,l.t)(a,"cmp_cs",v)),n&&(a=(0,l.t)(a,"us_privacy",n)),i&&(i.gppString&&(a=(0,l.t)(a,"gpp",i.gppString)),i.applicableSections&&0!==i.applicableSections.length&&(a=(0,l.t)(a,"gpp_sid",i.applicableSections.filter((function(e){return Number.isInteger(e)})).join(",")))),[{type:o,url:a}]}}};function O(e){return E(e)&&(x(e)||function(e){return E(e)&&"outstream"===e.mediaTypes.video.context.toLowerCase()}(e))}function x(e){return E(e)&&"instream"===e.mediaTypes.video.context.toLowerCase()}function E(e){return e.mediaTypes.video&&e.mediaTypes.video.context}function S(e){var t=null;if("function"==typeof e.getFloor)try{var r=e.getFloor({currency:"USD",mediaType:O(e)?"video":"banner",size:"*"});"object"!==(0,n.Z)(r)||"USD"!==r.currency||isNaN(parseFloat(r.floor))||(t=parseFloat(r.floor))}catch(e){(0,c.logError)("Triplelift: getFloor threw an error: ",e)}return null!==t?t:e.params.floor}function I(e,t){(0,c.isEmpty)(t)||Object.keys(t).forEach((function(r){null!=t[r]&&(e[r]=t[r])}))}function j(e,t,r,n){return e.map(function(e){return function(t){return t&&t.userId&&t.userId[e]}}(t)).filter(_(t)).map(function(e,t){return function(r){return{source:e,uids:[{id:r.id?r.id:r,ext:{rtiPartner:t}}]}}}(r,n))}var _=function(e){return function(t,r,n){var i=!!t&&((0,c.isStr)(t)?!!t:(0,c.isPlainObject)(t)&&!(0,c.isArray)(t)&&!(0,c.isEmpty)(t)&&t.id&&(0,c.isStr)(t.id)&&!!t.id);return i||void 0===n[0]||(0,c.logWarn)("Triplelift: invalid ".concat(e," userId format")),i}};function w(e){return e.filter(C).map((function(e){return{w:e[0],h:e[1]}}))}function C(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}(0,s.dX)(h),(0,a.z)("tripleliftBidAdapter")}},function(e){e.O(0,[54213],(function(){return t=70789,e(e.s=t);var t}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[67292],{21138:function(u,n,t){t.d(n,{l:function(){return e}});var e={uid2:{source:"uidapi.com",atype:3,getValue:function(u){return u.id},getUidExt:function(u){if(u.ext)return u.ext}}}}}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[86433,68102],{78816:function(e,t,o){var r=o(78640),n=o(64358),i=o(92797),a=o(15164),s=o(9633),l=o(62906),u=o(21138),d="uid2",c=l.ov,f="PrebidJS-".concat("8.18.0","-UID2Module-").concat(c),h="UID2: ";function p(e,t){return function(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];e.apply(void 0,[t+" "].concat(r))}}var g=p(n.logInfo,h),v=p(n.logWarn,h),k=(0,a.df)({moduleType:s.y2,moduleName:d}),y={name:d,decode:function(e){var t=function(e){if("string"==typeof e){return g("Found server-only token. Refresh is unavailable for this token."),{uid2:{id:e}}}if(Date.now()<e.latestToken.identity_expires)return{uid2:{id:e.latestToken.advertising_token}};return null}(e);return g("UID2 decode returned",t),t},getId:function(e,t){var o,r,n,i,a,s,u,d;if(!0!==(null==t?void 0:t.gdprApplies)){var c={apiBaseUrl:null!==(o=null==e||null===(r=e.params)||void 0===r?void 0:r.uid2ApiBase)&&void 0!==o?o:"https://prod.uidapi.com",paramToken:null==e||null===(n=e.params)||void 0===n?void 0:n.uid2Token,serverCookieName:null!==(i=null==e||null===(a=e.params)||void 0===a?void 0:a.uid2Cookie)&&void 0!==i?i:null==e||null===(s=e.params)||void 0===s?void 0:s.uid2ServerCookie,storage:null!==(u=null==e||null===(d=e.params)||void 0===d?void 0:d.storage)&&void 0!==u?u:"localStorage",clientId:f,internalStorage:"__uid2_advertising_token"};g("UID2 configuration loaded and mapped.",c);var h=(0,l.Rh)(c,k,g,v);return g("UID2 getId returned",h),h}v("UID2 is not intended for use where GDPR applies. The UID2 module will not run.")},eids:u.l};(0,i.Bx)("userId",y),(0,r.z)("uid2IdSystem")},62906:function(e,t,o){o.d(t,{Rh:function(){return f},ov:function(){return l}});var r=o(89062),n=o(15671),i=o(43144),a=o(71002),s=o(78640),l="1.1";var u=function(){function e(t,o,r,i){(0,n.Z)(this,e),this._baseUrl=t.baseUrl,this._clientVersion=o,this._logInfo=r,this._logWarn=i}return(0,i.Z)(e,[{key:"createArrayBuffer",value:function(e){for(var t=new Uint8Array(e.length),o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}},{key:"hasStatusResponse",value:function(e){return"object"===(0,a.Z)(e)&&e&&e.status}},{key:"isValidRefreshResponse",value:function(e){return this.hasStatusResponse(e)&&("optout"===e.status||"expired_token"===e.status||"success"===e.status&&e.body&&(t=e.body,!!("object"===(0,a.Z)(t)&&null!==t&&t.advertising_token&&t.identity_expires&&t.refresh_from&&t.refresh_token&&t.refresh_expires)));var t}},{key:"ResponseToRefreshResult",value:function(e){return this.isValidRefreshResponse(e)?"success"===e.status?{status:e.status,identity:e.body}:e:"Response didn't contain a valid status"}},{key:"callRefreshApi",value:function(e){var t,o,n=this,i=this._baseUrl+"/v2/token/refresh",a=new XMLHttpRequest;a.overrideMimeType("text/plain"),a.open("POST",i,!0),a.setRequestHeader("X-UID2-Client-Version",this._clientVersion);var s=new Promise((function(e,r){t=e,o=r}));return a.onreadystatechange=function(){if(a.readyState===a.DONE)try{if(e.refresh_response_key&&200===a.status){n._logInfo("Decrypting refresh API response");var i=n.createArrayBuffer(atob(a.responseText));window.crypto.subtle.importKey("raw",n.createArrayBuffer(atob(e.refresh_response_key)),{name:"AES-GCM"},!1,["decrypt"]).then((function(e){n._logInfo("Imported decryption key"),window.crypto.subtle.decrypt({name:"AES-GCM",iv:i.slice(0,12),tagLength:128},e,i.slice(12)).then((function(e){var i=String.fromCharCode.apply(String,(0,r.Z)(new Uint8Array(e)));n._logInfo("Decrypted to:",i);var a=JSON.parse(i),s=n.ResponseToRefreshResult(a);"string"==typeof s?o(s):t(s)}),(function(e){return n._logWarn("Call to UID2 API failed",e)}))}),(function(e){return n._logWarn("Call to UID2 API failed",e)}))}else{n._logInfo("Error status OR no response decryption key available, assuming unencrypted JSON");var s=JSON.parse(a.responseText),l=n.ResponseToRefreshResult(s);"string"==typeof l?o(l):t(l)}}catch(e){o(e)}},this._logInfo("Sending refresh request",e),a.send(e.refresh_token),s}}]),e}(),d=function(){function e(t,o,r,i){(0,n.Z)(this,e),this._storage=t,this._preferLocalStorage=o,this._storageName=r,this._logInfo=i}return(0,i.Z)(e,[{key:"readCookie",value:function(e){return this._storage.cookiesAreEnabled()?this._storage.getCookie(e):null}},{key:"readLocalStorage",value:function(e){return this._storage.localStorageIsEnabled()?this._storage.getDataFromLocalStorage(e):null}},{key:"readModuleCookie",value:function(){return this.parseIfContainsBraces(this.readCookie(this._storageName))}},{key:"writeModuleCookie",value:function(e){this._storage.setCookie(this._storageName,JSON.stringify(e),Date.now()+864e5)}},{key:"readModuleStorage",value:function(){return this.parseIfContainsBraces(this.readLocalStorage(this._storageName))}},{key:"writeModuleStorage",value:function(e){this._storage.setDataInLocalStorage(this._storageName,JSON.stringify(e))}},{key:"readProvidedCookie",value:function(e){return JSON.parse(this.readCookie(e))}},{key:"parseIfContainsBraces",value:function(e){return null!=e&&e.includes("{")?JSON.parse(e):e}},{key:"storeValue",value:function(e){this._preferLocalStorage?this.writeModuleStorage(e):this.writeModuleCookie(e)}},{key:"getStoredValueWithFallback",value:function(){var e=this._preferLocalStorage?"local storage":"cookie",t=(this._preferLocalStorage?this.readModuleStorage:this.readModuleCookie).bind(this),o=(this._preferLocalStorage?this.writeModuleStorage:this.writeModuleCookie).bind(this),r=(this._preferLocalStorage?this.readModuleCookie:this.readModuleStorage).bind(this),n=t();if(n){if("string"==typeof n){var i=r();if(i&&"object"===(0,a.Z)(i))return this._logInfo("".concat(e," contained a basic token, but found a refreshable token fallback. Copying the fallback value to ").concat(e,".")),o(i),i}}else{var s=r();if(s)return this._logInfo("".concat(e," was empty, but found a fallback value.")),"object"===(0,a.Z)(s)&&(this._logInfo("Copying the fallback value to ".concat(e,".")),o(s)),s}return n}}]),e}();function c(e,t,o,r,n,i){return n("UID2 base url provided: ",e),new u({baseUrl:e},o,n,i).callRefreshApi(t).then((function(e){n("Refresh endpoint responded with:",e);var o={originalToken:t,latestToken:e.identity};return r.storeValue(o),o}))}function f(e,t,o,r){var n,i,a,s=null,l="cookie"!==e.storage,u=new d(t,l,e.internalStorage,o);o("Module is using ".concat(l?"local storage":"cookies"," for internal storage.")),e.paramToken?(s=e.paramToken,o("Read token from params",s)):e.serverCookieName&&(s=u.readProvidedCookie(e.serverCookieName),o("Read token from server-supplied cookie",s));var f,h,p=u.getStoredValueWithFallback();if(o("Loaded module-stored tokens:",p),p&&"string"==typeof p){if(!s)return o("Returning legacy cookie value."),{id:p};o("Discarding superseded legacy cookie."),p=null}s&&p&&((null===(f=p.originalToken)||void 0===f?void 0:f.advertising_token)!==s.advertising_token&&(o("Server supplied new token - ignoring stored value.",null===(h=p.originalToken)||void 0===h?void 0:h.advertising_token,s.advertising_token),p=null));var g=!(null!==(n=p)&&void 0!==n&&n.latestToken)||s&&s.identity_expires>p.latestToken.identity_expires,v=g?s:p.latestToken;if(o("UID2 module selected latest token",g,v),!v||Date.now()>v.refresh_expires)return o("Newest available token is expired and not refreshable."),{id:null};if(Date.now()>v.identity_expires){var k=c(e.apiBaseUrl,v,e.clientId,u,o,r);return o("Token is expired but can be refreshed, attempting refresh."),{callback:function(e){k.then((function(t){o("Refresh reponded, passing the updated token on.",t),e(t)}))}}}Date.now()>v.refresh_from&&(o("Refreshing token in background with low priority."),c(e.apiBaseUrl,v,e.clientId,u,o,r));var y={originalToken:null!==(i=s)&&void 0!==i?i:null===(a=p)||void 0===a?void 0:a.originalToken,latestToken:v};return u.storeValue(y),{id:y}}(0,s.z)("uid2IdSystem_shared")}},function(e){e.O(0,[67292],(function(){return t=78816,e(e.s=t);var t}));e.O()}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[34579],{98709:function(r,e,t){var n=t(78640),i=t(64358),o=t(48928),d=t(92797),u="unifiedId",a={name:u,gvlid:21,decode:function(r){return r&&"string"==typeof r.TDID?{tdid:r.TDID}:void 0},getId:function(r){var e=r&&r.params||{};if(e&&("string"==typeof e.partner||"string"==typeof e.url)){var t=e.url||"https://match.adsrvr.org/track/rid?ttd_pid=".concat(e.partner,"&fmt=json");return{callback:function(r){var e={success:function(e){var t;if(e)try{t=JSON.parse(e)}catch(r){(0,i.logError)(r)}r(t)},error:function(e){(0,i.logError)("".concat(u,": ID fetch encountered an error"),e),r()}};(0,o.hj)(t,e,void 0,{method:"GET",withCredentials:!0})}}}(0,i.logError)("User ID - unifiedId submodule requires either partner or url to be defined")},eids:{tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}}}};(0,d.Bx)("userId",a),(0,n.z)("unifiedIdSystem")}},function(r){var e;e=98709,r(r.s=e)}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[54213],{29865:function(n,u,e){function t(n,u,e){return e?n+u+"="+encodeURIComponent(e)+"&":n}e.d(u,{t:function(){return t}})}}]);
(self.pbjsChunk=self.pbjsChunk||[]).push([[9215],{82547:function(e,n,r){var t=r(89062),o=r(71002),i=r(93324),a=r(4942),u=r(78640),c=r(34614),s=r(3193),f=r(52021),l=r(34516),d=r(86104),g=r(5644),m=r(92797),v=r(64358),b=r(20265),h=new Map;function p(e){var n={};function r(e){var r,o,i=JSON.stringify([null===(r=e.source)||void 0===r?void 0:r.toLowerCase(),e.ext]);n.hasOwnProperty(i)?(o=n[i].uids).push.apply(o,(0,t.Z)(e.uids)):n[i]=e}return Object.entries(e).forEach((function(e){var n=(0,i.Z)(e,2),t=n[0],o=n[1];o=Array.isArray(o)?o:[o],("pubProvidedId"===t?o:o.map((function(e){return function(e,n){var r=h.get(n);if(r&&e){var t={};t.source=(0,v.isFn)(r.getSource)?r.getSource(e):r.source;var o=(0,v.isFn)(r.getValue)?r.getValue(e):e;if((0,v.isStr)(o)){var i={id:o,atype:r.atype};if((0,v.isFn)(r.getUidExt)){var a=r.getUidExt(e);a&&(i.ext=a)}if(t.uids=[i],(0,v.isFn)(r.getEidExt)){var u=r.getEidExt(e);u&&(t.ext=u)}return t}}return null}(e,t)}))).filter((function(e){return null!=e})).forEach(r)})),Object.values(n)}var y,I,w,E,S,D,O=r(15164),j=r(96475),P=r(7563),k=r(68792),A=r(26372),C=r(99128),N=r(38196),Z=r(9633),T=r(50571),x=r(74947),U=r(10286),F="User ID",R=O.c$,L=O.Dp,_="_pbjs_id_optout",q=(0,O.eA)("userId"),G={isAllowed:T.xD},M=!1,B=[],W=[],J={},z=[],V=function(){return null==D&&(D=(0,C.V6)()),D};function Y(e){return V().fork().renameWith((function(n){return["userId.mod.".concat(n),"userId.mods.".concat(e,".").concat(n)]}))}function $(e,n){n=n||e.storageMgr;var r="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null,t=e.config.storage.name;return function(e,o,i){n.setCookie(t+(e||""),o,i,"Lax",r)}}function H(e,n){var r=e.config.storage,t=e.storageMgr;try{var o=new Date(Date.now()+864e5*r.expires).toUTCString(),i=(0,v.isPlainObject)(n)?JSON.stringify(n):n;if(r.type===R){var a=$(e);a(null,i,o),a("_cst",pe(),o),"number"==typeof r.refreshInSeconds&&a("_last",(new Date).toUTCString(),o)}else r.type===L&&(t.setDataInLocalStorage("".concat(r.name,"_exp"),o),t.setDataInLocalStorage("".concat(r.name,"_cst"),pe()),t.setDataInLocalStorage(r.name,encodeURIComponent(i)),"number"==typeof r.refreshInSeconds&&t.setDataInLocalStorage("".concat(r.name,"_last"),(new Date).toUTCString()))}catch(e){(0,v.logError)(e)}}function K(e){var n,r,t,o;switch(null===(n=e.config)||void 0===n||null===(r=n.storage)||void 0===r?void 0:r.type){case R:var i=$(e,q),a=new Date(Date.now()-864e5).toUTCString();t=function(e){return i(e,"",a)},o=["","_last","_cst"];break;case L:t=function(n){return q.removeDataFromLocalStorage(e.config.storage.name+n)},o=["","_last","_exp","_cst"]}t&&o.forEach((function(e){try{t(e)}catch(e){(0,v.logError)(e)}}))}function Q(e){var n=(0,v.getPrebidInternal)().setEidPermissions;"function"==typeof n&&(0,v.isArray)(e)&&n(function(e){var n=[];return e.filter((function(e){return(0,v.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(r){var t=h.get(r)||{};(0,b.Z)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&t.source&&n.push({source:t.source,bidders:e.config.bidders})}))})),n}(e))}function X(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=e.storageMgr,o=e.config.storage,i=r?"".concat(o.name,"_").concat(r):o.name;try{if(o.type===R)n=t.getCookie(i);else if(o.type===L){var a=t.getDataFromLocalStorage("".concat(o.name,"_exp"));""===a?n=t.getDataFromLocalStorage(i):a&&new Date(a).getTime()-Date.now()>0&&(n=decodeURIComponent(t.getDataFromLocalStorage(i)))}"string"==typeof n&&"{"===n.trim().charAt(0)&&(n=JSON.parse(n))}catch(e){(0,v.logError)(e)}return n}function ee(e,n,r){n=V().fork().startTiming("userId.callbacks.total").stopBefore(n);var t=(0,v.delayExecution)((function(){clearTimeout(undefined),n()}),e.length);e.forEach((function(e){var n=Y(e.submodule.name).startTiming("callback").stopBefore(t);try{e.callback((function(t){t?(e.config.storage&&H(e,t),e.idObj=e.submodule.decode(t,e.config),Ie(ne(r))):(0,v.logInfo)("".concat(F,": ").concat(e.submodule.name," - request id responded with an empty value")),n()}),X.bind(null,e))}catch(r){(0,v.logError)("Error in userID module '".concat(e.submodule.name,"':"),r),n()}e.callback=void 0}))}function ne(e){return Array.isArray(e)&&e.length?te(e):{}}function re(e,n,r){return Object.fromEntries(Object.entries(e.reduce((function(e,t){var o=n(t);return o&&Object.keys(o).forEach((function(n){var i,a=null===(i=J[n])||void 0===i?void 0:i.indexOf(r(t)),u={priority:(0,v.isNumber)(a)?a:-1,value:o[n]};if(e[n]){var c=u.priority>e[n].priority?u:e[n];e[n]=c}else e[n]=u})),e}),{})).map((function(e){var n=(0,i.Z)(e,2);return[n[0],n[1].value]})))}function te(e){return re(e.filter((function(e){return(0,v.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})),(function(e){return e.idObj}),(function(e){return e.submodule.name}))}function oe(e,n){[e].some((function(e){return!Array.isArray(e)||!e.length}))||e.forEach((function(e){e.bids&&(0,v.isArray)(e.bids)&&e.bids.forEach((function(e){var r=function(e,n){return Array.isArray(e)&&e.length&&n?te(e.filter((function(e){return!e.config.bidders||!(0,v.isArray)(e.config.bidders)||(0,c.q9)(e.config.bidders,n)}))):{}}(n,e.bidder);Object.keys(r).length&&(e.userId=r,e.userIdAsEids=p(r))}))}))}var ie,ae={};function ue(){var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.delay,o=void 0===t?k.Z.timeout:t,i=(0,k.P)(),a=(0,k.P)(),u=!1;function c(r){return n=V().fork(),null!=e&&e.reject(ae),e=(0,k.P)(),k.Z.race([r,e.promise]).finally(n.startTiming("userId.total"))}var s=y,d=B;function b(e){return function(){if(s===y&&d===B)return e.apply(void 0,arguments)}}function h(){return l.NO.promise.finally(n.startTiming("userId.init.consent"))}var p=c(k.Z.all([m.Cd,i.promise]).then(h).then(b((function(){we(s,d)}))).then((function(){return a.promise.finally(n.startTiming("userId.callbacks.pending"))})).then(b((function(){var e=s.filter((function(e){return(0,v.isFn)(e.callback)}));if(e.length)return new k.Z((function(n){return ee(e,n,s)}))}))));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.refresh,r=void 0!==n&&n,t=e.submoduleNames,l=void 0===t?null:t,m=e.ready,v=void 0!==m&&m;return v&&!u&&(u=!0,i.resolve(),w>0?a.resolve():f.on(g.FP.AUCTION_END,(function e(){f.off(g.FP.AUCTION_END,e),o(I).then(a.resolve)}))),r&&u&&(p=c(p.catch((function(){return null})).then(h).then(b((function(){var e=we(s,d.filter((function(e){return null==l||l.includes(e.submodule.name)})),!0).filter((function(e){return null!=e.callback}));if(e.length)return new k.Z((function(n){return ee(e,n,s)}))}))))),p}}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le()||[],n=E&&e.find((function(e){return e.source===E}));if(n&&"string"==typeof(0,b.Z)(n,"uids.0.id")){var r=n.uids[0].id.replace(/[\W_]/g,"");if(r.length>=32&&r.length<=150)return r;(0,v.logWarn)("User ID - Googletag Publisher Provided ID for ".concat(E," is not between 32 and 150 characters - ").concat(r))}}var se=(0,C.g3)("userId",(function(e,n){var r=this,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.delay,i=void 0===o?k.Z.timeout:o,a=t.getIds,c=void 0===a?he:a;k.Z.race([c().catch((function(){return null})),i(w)]).then((function(){oe(n.adUnits||(0,u.R)().adUnits,y),V().join((0,C.Bf)(n.metrics),{propagate:!1,includeGroups:!0}),e.call(r,n)}))}));function fe(){return ne(y)}function le(){return p(fe())}function de(e){return p(function(e,n){if(!Array.isArray(e)||!e.length)return{};var r=te(e),t=Object.keys(r).find((function(e){var r=h.get(e);return(null==r?void 0:r.source)===n||(0,v.isFn)(null==r?void 0:r.getSource)&&r.getSource()===n}));return t?(0,a.Z)({},t,r[t]):[]}(y,e))[0]}function ge(e,n,r){return ie().then((function(){var t={};if((0,v.isFn)(r)){(0,v.logInfo)("".concat(F," - Getting encrypted signal from custom function : ").concat(r.name," & source : ").concat(e," "));var o=r(e);t[e]=o?me(o):null}else{var i=de(e);(0,v.logInfo)("".concat(F," - Getting encrypted signal for eids :").concat(JSON.stringify(i))),(0,v.isEmpty)(i)||(t[i.source]=!0===n?me(i):i.uids[0].id)}return(0,v.logInfo)("".concat(F," - Fetching encrypted eids: ").concat(t[e])),t[e]}))}function me(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r="";if(1===n)r="object"===(0,o.Z)(e)?window.btoa(JSON.stringify(e)):window.btoa(e);return"".concat(n,"||").concat(r)}function ve(){if((0,v.isGptPubadsDefined)()){window.googletag.secureSignalProviders=window.googletag.secureSignalProviders||[];var e=s.vc.getConfig("userSync.encryptedSignalSources");if(e){var n=e.registerDelay||0;setTimeout((function(){e.sources&&e.sources.forEach((function(e){var n=e.source,r=e.encrypt,t=e.customFunc;n.forEach((function(e){window.googletag.secureSignalProviders.push({id:e,collectorFunction:function(){return ge(e,r,t)}})}))}))}),n)}else(0,v.logWarn)("".concat(F," - ESP : encryptedSignalSources config not defined under userSync Object"))}}function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.submoduleNames,r=arguments.length>1?arguments[1]:void 0;return ie({refresh:!0,submoduleNames:n}).then((function(){return r&&(0,v.isFn)(r)&&r(),fe()}))}function he(){return ie().then((function(){return fe()}),(function(e){return e===ae?Promise.resolve().then(he):((0,v.logError)("Error initializing userId",e),k.Z.reject(e))}))}function pe(){for(var e=Number(l.NO.hash),n=[];e>0;)n.push(String.fromCharCode(255&e)),e>>>=8;return btoa(n.join())}function ye(e,n,r){var t=l.rp.getConsentData();if(e.config.storage){var o,i=X(e),a=!1;if("number"==typeof e.config.storage.refreshInSeconds){var u=new Date(X(e,"last"));a=u&&Date.now()-u.getTime()>1e3*e.config.storage.refreshInSeconds}!i||a||n||function(e){var n=X(e,"cst");return!n||n!==pe()}(e)?o=e.submodule.getId(e.config,t,i):"function"==typeof e.submodule.extendId&&(o=e.submodule.extendId(e.config,t,i)),(0,v.isPlainObject)(o)&&(o.id&&(H(e,o.id),i=o.id),"function"==typeof o.callback&&(e.callback=o.callback)),i&&(e.idObj=e.submodule.decode(i,e.config))}else if(e.config.value)e.idObj=e.config.value;else{var c=e.submodule.getId(e.config,t,void 0);(0,v.isPlainObject)(c)&&("function"==typeof c.callback&&(e.callback=c.callback),c.id&&(e.idObj=e.submodule.decode(c.id,e.config)))}Ie(ne(r))}function Ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe();if(e&&E){var n=ce(p(e));n&&((0,v.isGptPubadsDefined)()?window.googletag.pubads().setPublisherProvidedId(n):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setPublisherProvidedId(n)}))))}}function we(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return V().fork().measureTime("userId.init.modules",(function(){if(!n.length)return[];if(!(n=n.filter((function(e){return(!e.config.storage||De(e))&&G.isAllowed(x.EL,(0,U.T)(Z.y2,e.config.name))}))).length)return(0,v.logWarn)("".concat(F," - no ID module configured")),[];var t=n.reduce((function(e,t){return Y(t.submodule.name).measureTime("init",(function(){try{ye(t,r,n),e.push(t)}catch(e){(0,v.logError)("Error in userID module '".concat(t.submodule.name,"':"),e)}return e}))}),[]);return t.length&&Q(t),t.forEach(Ee.bind(null,e)),t}))}function Ee(e,n){for(var r=!1,t=0;t<e.length;t++)if(n.config.name.toLowerCase()===e[t].config.name.toLowerCase()){r=!0,e[t]=n;break}r||e.push(n)}var Se=new Set([L,R]);function De(e){var n,r;switch(null===(n=e.config)||void 0===n||null===(r=n.storage)||void 0===r?void 0:r.type){case L:if(e.storageMgr.localStorageIsEnabled())return!q.getDataFromLocalStorage(_)||((0,v.logInfo)("".concat(F," - opt-out localStorage found, storage disabled")),!1);break;case R:if(e.storageMgr.cookiesAreEnabled())return!q.getCookie(_)||((0,v.logInfo)("".concat(F," - opt-out cookie found, storage disabled")),!1)}return!1}function Oe(e){h.clear(),Object.entries(re(e,(function(e){return e.eids}),(function(e){return e.name}))).forEach((function(e){var n=(0,i.Z)(e,2),r=n[0],t=n[1];return h.set(r,t)}))}function je(){Oe(z);var e=function(e,n){return Array.isArray(e)?e.reduce((function(e,n){return!n||(0,v.isEmptyStr)(n.name)||(n.storage&&!(0,v.isEmptyStr)(n.storage.type)&&!(0,v.isEmptyStr)(n.storage.name)&&Se.has(n.storage.type)||(0,v.isPlainObject)(n.value)?e.push(n):n.storage||n.value||e.push(n)),e}),[]):[]}(W);if(e.length){var n=z.filter((function(e){return!(0,c.sE)(B,(function(n){return n.name===e.name}))}));B.splice(0,B.length),n.map((function(n){var r=(0,c.sE)(e,(function(e){return e.name&&(e.name.toLowerCase()===n.name.toLowerCase()||n.aliasName&&e.name.toLowerCase()===n.aliasName.toLowerCase())}));return r&&n.name!==r.name&&(r.name=n.name),n.findRootDomain=N.W,r?{submodule:n,config:r,callback:void 0,idObj:void 0,storageMgr:(0,O.df)({moduleType:Z.y2,moduleName:r.name})}:null})).filter((function(e){return null!==e})).forEach((function(e){return B.push(e)})),!M&&B.length&&((0,u.R)().requestBids.before(se,40),d.ZP.callDataDeletionRequest.before(ke),P.G.after((function(e){return e(ce())})),(0,v.logInfo)("".concat(F," - usersync config updated for ").concat(B.length," submodules: "),B.map((function(e){return e.submodule.name}))),M=!0)}}function Pe(e,n){if(e){var r={},o=new Map(n.map((function(e){return e.submodule.aliasName?[e.submodule.aliasName,e.submodule.name]:[]})));Object.keys(e).forEach((function(n){var i=(0,v.isArray)(e[n])?(0,t.Z)(e[n]).reverse():[];r[n]=i.map((function(e){return o.has(e)?o.get(e):e}))})),J=r}else J={}}function ke(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];(0,v.logInfo)("UserID: received data deletion request; deleting all stored IDs..."),B.forEach((function(e){if("function"==typeof e.submodule.onDataDeletionRequest)try{var n;(n=e.submodule).onDataDeletionRequest.apply(n,[e.config,e.idObj].concat(r))}catch(n){(0,v.logError)("Error calling onDataDeletionRequest for ID submodule ".concat(e.submodule.name),n)}K(e)})),e.apply(this,r)}function Ae(e){return function(){return Promise.resolve(e.apply(this,arguments))}}!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.delay,t=void 0===r?k.Z.timeout:r;E=void 0,B=[],W=[],M=!1,y=[],ie=ue({delay:t}),null!=S&&S(),z=[],S=e.getConfig("userSync",(function(e){var n=e.userSync;n&&(E=n.ppid,n.userIds&&(W=n.userIds,I=(0,v.isNumber)(n.syncDelay)?n.syncDelay:500,w=(0,v.isNumber)(n.auctionDelay)?n.auctionDelay:0,je(),Pe(n.idPriority,B),ie({ready:!0})))})),(0,u.R)().getUserIds=fe,(0,u.R)().getUserIdsAsEids=le,(0,u.R)().getEncryptedEidsForSource=Ae(ge),(0,u.R)().registerSignalSources=ve,(0,u.R)().refreshUserIds=Ae(be),(0,u.R)().getUserIdsAsync=Ae(he),(0,u.R)().getUserIdsAsEidBySource=de}(s.vc),(0,m.bA)("userId",(function(e){(0,c.sE)(z,(function(n){return n.name===e.name}))||(z.push(e),l.qh.register(Z.y2,e.name,e.gvlid),je(),ie({refresh:!0,submoduleNames:[e.name]}))})),(0,A.f8)({type:A.Z,name:"userExtEids",fn:function(e,n,r){var t=(0,b.Z)(r,"bidRequests.0.userIdAsEids");t&&Object.keys(t).length>0&&(0,j.N)(e,"user.ext.eids",t)}}),(0,u.z)("userId")},7563:function(e,n,r){r.d(n,{G:function(){return t}});var t=(0,r(92797).z3)("sync",(function(){}))},26372:function(e,n,r){r.d(n,{DZ:function(){return a},Px:function(){return u},TP:function(){return s},YC:function(){return c},Z:function(){return i},f8:function(){return m},fP:function(){return v},gm:function(){return t},md:function(){return f}});var t=["request","imp","bidResponse","response"],o=["default","pbs"],i=t[0],a=t[1],u=t[2],c=t[3],s=o[0],f=o[1],l=new Set(t);var d,g=(d={},{registerOrtbProcessor:function(e){var n=e.type,r=e.name,o=e.fn,i=e.priority,a=void 0===i?0:i,u=e.dialects,c=void 0===u?[s]:u;if(!l.has(n))throw new Error("ORTB processor type must be one of: ".concat(t.join(", ")));c.forEach((function(e){d.hasOwnProperty(e)||(d[e]={}),d[e].hasOwnProperty(n)||(d[e][n]={}),d[e][n][r]={priority:a,fn:o}}))},getProcessors:function(e){return d[e]||{}}}),m=g.registerOrtbProcessor,v=g.getProcessors}},function(e){var n;n=82547,e(e.s=n)}]);
window.pbjs = window.pbjs || {};
pbjs.cmd=pbjs.cmd || [];
pbjs.cmd.push(function() {
   pbjs.setConfig({
      floors:{...rubiFloors, floorProvider: 'rubicon',enforcement:{floorDeals:!1},endpoint:{url: 'https://ads.rubiconproject.com/floors/7470-pbjs-floors.json'},auctionDelay:1,data: {"floorProvider":"rubicon","modelGroups":[{"modelWeight":10,"modelVersion":"mlcp-v1-adunit@2024-01-30-13","schema":{"fields":["domain","mediaType","adUnitCode"],"delimiter":"|"},"values":{"www.polygon.com|banner|div-gpt-ad-medium_rectangle_variable":0.01,"www.curbed.com|*|*":0.01,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_gamestop_mobile_tablet_1":0.01,"chicago.eater.com|*|*":0.01,"www.arrowheadpride.com|*|*":0.02,"www.polygon.com|*|*":0.01,"www.ninersnation.com|*|*":0.03,"www.thedodo.com|banner|div-gpt-ad-marquee_m":0.05,"www.theringer.com|banner|div-gpt-ad-mobile_leaderboard_hub":0.03,"www.theverge.com|banner|div-gpt-ad-desktop_leaderboard_variable":0.01,"www.thedodo.com|banner|div-gpt-ad-banner_m_1":0.05,"www.prideofdetroit.com|*|*":0.05,"www.theverge.com|banner|div-gpt-ad-mobile_hero":0.02,"www.theverge.com|banner|div-gpt-ad-medrec_frontpage_hero_mobile":0.03,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.01,"www.ninersnation.com|banner|7470-sbnation_amp_ros_atf":0.05,"www.vox.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article_1":0.01,"www.theverge.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.03,"www.sbnation.com|banner|7470-sbnation_amp_ros_athena":0.05,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_variable":0.02,"www.polygon.com|banner|div-gpt-ad-medium_rectangle_gamestop_desktop":0.01,"www.eater.com|*|*":0.01,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.02,"www.theverge.com|banner|div-gpt-ad-desktop_hero":0.03,"www.postingandtoasting.com|*|*":0.04,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.01,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.01,"www.vulture.com|*|*":0.01,"nymag.com|*|*":0.01,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.01,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable":0.01,"www.theverge.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.01,"dc.eater.com|*|*":0.09,"www.thedodo.com|banner|div-gpt-ad-interstitial_m":0.05,"www.postingandtoasting.com|banner|7470-sbnation_amp_ros_atf":0.01,"www.theringer.com|banner|div-gpt-ad-medium_rectangle_variable":0.02,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.01,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_gamestop_desktop":0.03,"www.theverge.com|*|*":0.01,"www.theverge.com|banner|div-gpt-ad-mobile_leaderboard":0.02,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.01,"www.vulture.com|banner|div-gpt-ad-mobile_article_body":0.01,"*|*|*":0.01,"www.vox.com|banner|div-gpt-ad-desktop_article_body_1":0.01,"www.sbnation.com|*|*":0.04},"default":0.01},{"modelWeight":5,"modelVersion":"mlcp-2p0-adunit@2024-01-30-13","schema":{"fields":["domain","mediaType","adUnitCode"],"delimiter":"|"},"values":{"vegas.eater.com|*|*":0.52,"www.vox.com|banner|div-gpt-ad-desktop_article_medrec_dynamic":0.33,"atlanta.eater.com|*|*":0.51,"www.thedodo.com|banner|div-gpt-ad-upper_rec":1.16,"www.polygon.com|banner|div-gpt-ad-medium_rectangle_variable":0.23,"www.theringer.com|banner|div-gpt-ad-desktop_article_body_2":0.19,"www.blazersedge.com|banner|7470-sbnation_amp_ros_atf":0.2,"www.hogshaven.com|*|*":0.45,"www.theverge.com|banner|div-gpt-ad-medrec_frontpage_river_tablet_desktop":0.37,"www.thrillist.com|banner|7470-thrillist_amp_ros_atf":0.14,"www.behindthesteelcurtain.com|*|*":0.9,"www.dawgsbynature.com|*|*":0.23,"nymag.com|banner|div-gpt-ad-prelude":0.19,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_gamestop_mobile_tablet_1":0.41,"www.thedodo.com|banner|div-gpt-ad-banner_m_1_1":0.34,"www.celticsblog.com|*|*":0.23,"ny.eater.com|banner|div-gpt-ad-in_map_1":0.51,"www.polygon.com|banner|div-gpt-ad-package_cover_ad_mobile":0.44,"nymag.com|banner|div-gpt-ad-mobile_med_rec_athena_1":12.27,"www.arrowheadpride.com|*|*":0.45,"www.vox.com|banner|div-gpt-ad-desktop_feature_body":10.0,"www.polygon.com|*|*":0.82,"www.ninersnation.com|*|*":0.4,"www.thecut.com|banner|div-gpt-ad-mobile_article_body_1":0.83,"www.barcablaugranes.com|*|*":0.11,"www.theverge.com|banner|div-gpt-ad-desktop_article_body":10.18,"www.polygon.com|banner|div-gpt-ad-hub_river_med_rec_1":0.65,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.4,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article_1":0.15,"www.grubstreet.com|*|*":0.49,"www.libertyballers.com|*|*":0.17,"www.popsugar.com|banner|div-gpt-ad-upper_rec":0.23,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.15,"www.thedodo.com|banner|div-gpt-ad-marquee_m":0.21,"www.sbnation.com|banner|7470-sbnation_amp_ros_atf":0.18,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article_fallback":0.22,"www.theverge.com|banner|div-gpt-ad-desktop_leaderboard_variable":0.45,"www.thecut.com|banner|div-gpt-ad-prelude_article":0.31,"www.thedodo.com|banner|div-gpt-ad-banner_m_1":0.49,"houston.eater.com|*|*":0.49,"www.goldenstateofmind.com|banner|7470-sbnation_amp_ros_athena":0.23,"www.thrillist.com|banner|div-gpt-ad-interstitial_m":0.4,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":1.05,"www.theverge.com|banner|div-gpt-ad-mobile_hero":0.33,"www.theverge.com|banner|div-gpt-ad-medrec_frontpage_hero_mobile":0.29,"www.silverscreenandroll.com|banner|7470-sbnation_amp_ros_atf":0.24,"www.theringer.com|banner|div-gpt-ad-hub_river_leaderboard":0.25,"www.eater.com|banner|div-gpt-ad-in_map_1":0.45,"www.theverge.com|banner|div-gpt-ad-btf_medium_rectangle_variable_feature_extended_sticky":0.73,"www.racked.com|*|*":0.11,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.45,"www.patspulpit.com|banner|7470-sbnation_amp_ros_athena":0.44,"www.ninersnation.com|banner|7470-sbnation_amp_ros_atf":0.26,"www.vox.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article_1":0.43,"www.polygon.com|banner|div-gpt-ad-desktop_article_body_failsafe":0.73,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_hub":0.24,"www.theverge.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":1.45,"detroit.eater.com|*|*":0.54,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_6":0.16,"nola.eater.com|*|*":0.67,"www.vulture.com|banner|div-gpt-ad-desktop_article_body_1":1.38,"www.thecut.com|banner|div-gpt-ad-athena_features_dynamic_mobile_3":6.79,"www.vox.com|banner|div-gpt-ad-desktop_feature_footer":0.41,"www.patspulpit.com|banner|7470-sbnation_amp_ros_atf":0.2,"www.vulture.com|banner|div-gpt-ad-mobile_footer_latest":0.15,"www.theringer.com|banner|div-gpt-ad-desktop_article_body_3":0.2,"www.polygon.com|banner|div-gpt-ad-medium_rectangle_gamestop_desktop":0.19,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":4.54,"www.eater.com|*|*":0.39,"www.patspulpit.com|*|*":0.29,"www.polygon.com|banner|div-gpt-ad-athena_features_dynamic_mobile_2":0.97,"www.theringer.com|banner|div-gpt-ad-desktop_leaderboard_variable":0.28,"www.thedodo.com|banner|div-gpt-ad-endcap":0.34,"ny.curbed.com|*|*":0.49,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.39,"www.polygon.com|banner|div-gpt-ad-mobile_feature_footer":0.35,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.2,"www.thedodo.com|banner|div-gpt-ad-billboard_1":1.15,"www.theverge.com|banner|div-gpt-ad-tablet_leaderboard":0.44,"www.baltimorebeatdown.com|*|*":0.16,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.15,"www.thecut.com|banner|div-gpt-ad-medium_rectangle_variable_1":0.42,"www.polygon.com|banner|div-gpt-ad-desktop_leaderboard_variable":0.23,"www.thrillist.com|banner|div-gpt-ad-marquee_m":0.41,"www.popsugar.com|banner|7470-pinnacle_amp_ros_atf":0.07,"www.bleedinggreennation.com|banner|7470-sbnation_amp_ros_athena":0.39,"www.postingandtoasting.com|*|*":0.25,"www.theringer.com|banner|div-gpt-ad-tablet_leaderboard":0.13,"www.thrillist.com|banner|div-gpt-ad-banner_m_1_2":0.4,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":1.42,"www.thrillist.com|*|*":1.72,"www.theverge.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":1.2,"www.thrillist.com|banner|div-gpt-ad-marquee":0.49,"www.bleedinggreennation.com|banner|7470-sbnation_amp_ros_atf":0.23,"www.theringer.com|banner|div-gpt-ad-desktop_article_medrec_dynamic":0.24,"www.thrillist.com|banner|div-gpt-ad-banner_m_1":2.14,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable_2":0.27,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.46,"www.bigblueview.com|*|*":0.47,"www.thecut.com|*|*":0.73,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.38,"www.theringer.com|banner|div-gpt-ad-btf_medium_rectangle_variable_hub":0.28,"www.polygon.com|banner|div-gpt-ad-mobile_footer":0.14,"nymag.com|*|*":1.73,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.18,"www.theringer.com|banner|div-gpt-ad-native_ad_mobile":0.19,"www.popsugar.com|banner|div-gpt-ad-marquee_m":0.09,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable":0.42,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.41,"denver.eater.com|*|*":0.52,"www.vox.com|banner|div-gpt-ad-desktop_leaderboard_variable_static":0.43,"www.silverscreenandroll.com|banner|7470-sbnation_amp_ros_athena":0.4,"ny.eater.com|banner|div-gpt-ad-in_map":0.67,"la.eater.com|*|*":0.52,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable_3":0.31,"www.vox.com|banner|div-gpt-ad-desktop_feature_body_dynamic":1.61,"www.prideofdetroit.com|banner|7470-sbnation_amp_ros_athena":0.54,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.33,"www.thedodo.com|banner|7470-thedodo_amp_ros_atf":0.65,"www.thedodo.com|banner|div-gpt-ad-upper_rec_1":1.21,"www.thedodo.com|banner|div-gpt-ad-interstitial_m":0.51,"www.postingandtoasting.com|banner|7470-sbnation_amp_ros_atf":0.19,"www.blazersedge.com|*|*":0.27,"www.vox.com|banner|div-gpt-ad-failsafe_article_med_rec_athena_mobile":3.3,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_river":0.4,"www.libertyballers.com|banner|7470-sbnation_amp_ros_athena":0.19,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_5":0.13,"www.vulture.com|banner|div-gpt-ad-prelude_article":0.29,"www.thrillist.com|banner|div-gpt-ad-upper_rec":0.51,"www.canishoopus.com|*|*":0.47,"www.polygon.com|banner|div-gpt-ad-mobile_leaderboard_hub":0.36,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":1.57,"www.theringer.com|banner|div-gpt-ad-medium_rectangle_variable":0.36,"www.thrillist.com|banner|div-gpt-ad-interstitial_m_1":0.39,"www.thrillist.com|banner|div-gpt-ad-banner_m_1_1":0.48,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.17,"www.theringer.com|banner|div-gpt-ad-mobile_footer":0.15,"www.eater.com|banner|div-gpt-ad-medium_rectangle_variable":0.5,"www.popsugar.com|*|*":0.11,"www.ninersnation.com|banner|7470-sbnation_amp_ros_athena":0.67,"www.vox.com|banner|div-gpt-ad-desktop_article_body":12.27,"www.bavarianfootballworks.com|*|*":0.15,"www.thedodo.com|banner|div-gpt-ad-upper_rec_2":1.22,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.63,"www.thecut.com|banner|div-gpt-ad-mobile_article_body":1.14,"www.buffalorumblings.com|*|*":0.89,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.44,"www.postingandtoasting.com|banner|7470-sbnation_amp_ros_athena":0.29,"www.vox.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.45,"www.silverscreenandroll.com|*|*":0.36,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable_1":0.31,"www.thecut.com|banner|div-gpt-ad-athena_features_dynamic_mobile_1":4.54,"www.netsdaily.com|*|*":0.27,"www.polygon.com|banner|div-gpt-ad-failsafe_article_med_rec_athena_mobile":0.45,"miami.eater.com|*|*":0.46,"www.theringer.com|banner|div-gpt-ad-hub_river_med_rec_1":0.28,"www.thedodo.com|banner|div-gpt-ad-marquee":0.47,"www.theverge.com|banner|div-gpt-ad-mobile_leaderboard":0.53,"www.vox.com|banner|div-gpt-ad-medium_rectangle_variable":0.51,"www.theringer.com|*|*":0.31,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.33,"www.vulture.com|banner|div-gpt-ad-desktop_article_body":1.21,"www.thecut.com|banner|div-gpt-ad-mobile_article_body_4":0.6,"www.theverge.com|banner|div-gpt-ad-btf_leaderboard_variable":0.45,"www.vulture.com|banner|div-gpt-ad-primary_article":0.32,"www.dailynorseman.com|*|*":0.42,"www.vulture.com|banner|div-gpt-ad-mobile_article_body":0.45,"www.thedodo.com|banner|div-gpt-ad-leaderboard_1":1.78,"www.bloggingtheboys.com|*|*":0.68,"www.theringer.com|banner|div-gpt-ad-desktop_article_body":0.23,"www.bleedinggreennation.com|*|*":0.34,"nymag.com|banner|div-gpt-ad-athena_hub":12.27,"www.vox.com|banner|div-gpt-ad-desktop_feature_body_eoy_slot":1.6,"*|*|*":0.6,"www.windycitygridiron.com|*|*":0.42,"london.eater.com|*|*":0.13,"www.thrillist.com|banner|div-gpt-ad-interstitial_m_2":0.35,"www.theringer.com|banner|div-gpt-ad-desktop_article_body_1":0.23,"www.theverge.com|banner|div-gpt-ad-mobile_river_leaderboard_1":1.96,"www.thrillist.com|banner|div-gpt-ad-upper_rec_1":0.66,"nashville.eater.com|*|*":0.5,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_1":0.41,"www.vox.com|*|*":1.18,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_5":1.48,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.2,"www.thecut.com|banner|div-gpt-ad-athena_features_dynamic_mobile":6.09,"www.thecut.com|banner|div-gpt-ad-athena_features_dynamic_mobile_2":7.09,"www.theverge.com|banner|div-gpt-ad-desktop_river_leaderboard":0.71,"www.theringer.com|banner|div-gpt-ad-desktop_article_medrec_dynamic_1":0.19,"www.polygon.com|banner|div-gpt-ad-athena_features_dynamic_mobile":1.2,"www.theringer.com|banner|div-gpt-ad-hub_river_leaderboard_1":0.2,"www.thecut.com|banner|div-gpt-ad-medium_rectangle_variable":0.38,"www.goldenstateofmind.com|*|*":0.18,"www.thecut.com|banner|div-gpt-ad-medium_rectangle_variable_2":0.38,"ny.eater.com|banner|div-gpt-ad-in_map_3":0.49,"www.prideofdetroit.com|banner|7470-sbnation_amp_ros_atf":0.51,"www.vox.com|banner|div-gpt-ad-desktop_article_body_1":1.46,"www.theringer.com|banner|div-gpt-ad-athena_article":0.26,"www.theverge.com|banner|div-gpt-ad-mobile_footer":0.5,"www.sbnation.com|*|*":0.32},"default":0.01},{"modelWeight":5,"modelVersion":"mlcp-1p0-adunit@2024-01-30-13","schema":{"fields":["domain","mediaType","adUnitCode"],"delimiter":"|"},"values":{"www.thedodo.com|*|*":0.34,"vegas.eater.com|*|*":0.38,"www.vox.com|banner|div-gpt-ad-desktop_article_medrec_dynamic":0.21,"atlanta.eater.com|*|*":0.34,"www.thedodo.com|banner|div-gpt-ad-upper_rec":0.78,"www.polygon.com|banner|div-gpt-ad-medium_rectangle_variable":0.14,"www.theringer.com|banner|div-gpt-ad-desktop_article_body_2":0.14,"www.blazersedge.com|banner|7470-sbnation_amp_ros_atf":0.17,"www.hogshaven.com|*|*":0.31,"www.theverge.com|banner|div-gpt-ad-medrec_frontpage_river_tablet_desktop":0.24,"www.thrillist.com|banner|7470-thrillist_amp_ros_atf":0.12,"www.acmepackingcompany.com|banner|7470-sbnation_amp_ros_athena":0.29,"www.behindthesteelcurtain.com|*|*":0.58,"www.dawgsbynature.com|*|*":0.19,"nymag.com|banner|div-gpt-ad-prelude":0.14,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_gamestop_mobile_tablet_1":0.3,"www.thedodo.com|banner|div-gpt-ad-banner_m_1_1":0.2,"www.celticsblog.com|*|*":0.19,"ny.eater.com|banner|div-gpt-ad-in_map_1":0.42,"www.polygon.com|banner|div-gpt-ad-package_cover_ad_mobile":0.22,"www.eater.com|banner|div-gpt-ad-desktop_leaderboard_variable":0.25,"nymag.com|banner|div-gpt-ad-mobile_med_rec_athena_1":12.27,"www.eater.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.37,"chicago.eater.com|*|*":0.48,"www.arrowheadpride.com|*|*":0.31,"www.vox.com|banner|div-gpt-ad-desktop_feature_body":5.16,"www.polygon.com|*|*":0.48,"www.ninersnation.com|*|*":0.23,"www.thecut.com|banner|div-gpt-ad-mobile_article_body_1":0.42,"www.barcablaugranes.com|*|*":0.07,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.65,"www.theverge.com|banner|div-gpt-ad-desktop_article_body":10.0,"www.polygon.com|banner|div-gpt-ad-hub_river_med_rec_1":0.36,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.21,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article_1":0.11,"www.grubstreet.com|*|*":0.35,"www.libertyballers.com|*|*":0.15,"www.popsugar.com|banner|div-gpt-ad-upper_rec":0.15,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.13,"www.thedodo.com|banner|div-gpt-ad-marquee_m":0.16,"www.sbnation.com|banner|7470-sbnation_amp_ros_atf":0.15,"www.theringer.com|banner|div-gpt-ad-mobile_leaderboard_hub":0.3,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article_fallback":0.12,"www.theverge.com|banner|div-gpt-ad-desktop_leaderboard_variable":0.3,"www.thecut.com|banner|div-gpt-ad-prelude_article":0.23,"www.thedodo.com|banner|div-gpt-ad-banner_m_1":0.26,"www.theringer.com|banner|div-gpt-ad-mobile_leaderboard":0.21,"houston.eater.com|*|*":0.38,"www.goldenstateofmind.com|banner|7470-sbnation_amp_ros_athena":0.16,"www.thrillist.com|banner|div-gpt-ad-interstitial_m":0.28,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.53,"www.theverge.com|banner|div-gpt-ad-mobile_hero":0.25,"www.theverge.com|banner|div-gpt-ad-medrec_frontpage_hero_mobile":0.22,"www.theringer.com|banner|div-gpt-ad-hub_river_leaderboard":0.17,"www.racked.com|*|*":0.1,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.24,"www.patspulpit.com|banner|7470-sbnation_amp_ros_athena":0.27,"www.ninersnation.com|banner|7470-sbnation_amp_ros_atf":0.19,"www.vox.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article_1":0.27,"www.polygon.com|banner|div-gpt-ad-desktop_article_body_failsafe":0.37,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_hub":0.15,"www.theverge.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":1.01,"seattle.eater.com|*|*":0.49,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_6":0.12,"nola.eater.com|*|*":0.48,"www.acmepackingcompany.com|*|*":0.2,"www.vulture.com|banner|div-gpt-ad-desktop_article_body_1":0.75,"www.thecut.com|banner|div-gpt-ad-athena_features_dynamic_mobile_3":2.14,"www.vox.com|banner|div-gpt-ad-desktop_feature_footer":0.31,"www.patspulpit.com|banner|7470-sbnation_amp_ros_atf":0.14,"www.vulture.com|banner|div-gpt-ad-mobile_footer_latest":0.12,"www.theringer.com|banner|div-gpt-ad-desktop_article_body_3":0.14,"www.polygon.com|banner|div-gpt-ad-medium_rectangle_gamestop_desktop":0.12,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":1.95,"www.eater.com|*|*":0.29,"www.patspulpit.com|*|*":0.2,"www.theringer.com|banner|div-gpt-ad-desktop_leaderboard_variable":0.2,"www.thedodo.com|banner|div-gpt-ad-endcap":0.25,"ny.curbed.com|*|*":0.34,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.23,"www.polygon.com|banner|div-gpt-ad-mobile_feature_footer":0.21,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.15,"www.thedodo.com|banner|div-gpt-ad-billboard_1":0.88,"www.theverge.com|banner|div-gpt-ad-tablet_leaderboard":0.37,"www.baltimorebeatdown.com|*|*":0.13,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.12,"www.thecut.com|banner|div-gpt-ad-mobile_article_body_2":0.31,"www.thecut.com|banner|div-gpt-ad-medium_rectangle_variable_1":0.29,"www.polygon.com|banner|div-gpt-ad-desktop_leaderboard_variable":0.13,"www.thrillist.com|banner|div-gpt-ad-marquee_m":0.33,"www.popsugar.com|banner|7470-pinnacle_amp_ros_atf":0.04,"www.postingandtoasting.com|*|*":0.18,"www.theringer.com|banner|div-gpt-ad-tablet_leaderboard":0.11,"www.thrillist.com|banner|div-gpt-ad-banner_m_1_2":0.29,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.73,"www.thrillist.com|*|*":0.66,"www.theverge.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.83,"www.thrillist.com|banner|div-gpt-ad-marquee":0.33,"www.bleedinggreennation.com|banner|7470-sbnation_amp_ros_atf":0.18,"www.theringer.com|banner|div-gpt-ad-desktop_article_medrec_dynamic":0.16,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable_2":0.21,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.26,"www.bigblueview.com|*|*":0.31,"www.thecut.com|*|*":0.49,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.21,"www.polygon.com|banner|div-gpt-ad-mobile_footer":0.1,"www.vulture.com|*|*":0.38,"ny.eater.com|banner|div-gpt-ad-in_map_4":0.41,"nymag.com|*|*":0.92,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.12,"www.theringer.com|banner|div-gpt-ad-native_ad_mobile":0.15,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable":0.29,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.27,"www.vox.com|banner|div-gpt-ad-desktop_leaderboard_variable_static":0.31,"ny.eater.com|banner|div-gpt-ad-in_map":0.57,"la.eater.com|*|*":0.36,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable_3":0.22,"www.vox.com|banner|div-gpt-ad-desktop_feature_body_dynamic":0.92,"www.prideofdetroit.com|banner|7470-sbnation_amp_ros_athena":0.35,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.2,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_short":0.43,"www.thedodo.com|banner|div-gpt-ad-upper_rec_1":0.91,"www.theringer.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.21,"www.postingandtoasting.com|banner|7470-sbnation_amp_ros_atf":0.15,"www.blazersedge.com|*|*":0.2,"www.vox.com|banner|div-gpt-ad-failsafe_article_med_rec_athena_mobile":1.88,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_river":0.28,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_5":0.1,"www.vulture.com|banner|div-gpt-ad-prelude_article":0.19,"www.thrillist.com|banner|div-gpt-ad-upper_rec":0.37,"www.canishoopus.com|*|*":0.32,"www.polygon.com|banner|div-gpt-ad-mobile_leaderboard_hub":0.27,"www.thrillist.com|banner|div-gpt-ad-interstitial_m_1":0.3,"www.thrillist.com|banner|div-gpt-ad-banner_m_1_1":0.3,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.13,"www.theringer.com|banner|div-gpt-ad-mobile_footer":0.12,"www.eater.com|banner|div-gpt-ad-medium_rectangle_variable":0.38,"www.popsugar.com|*|*":0.08,"www.eater.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.34,"www.ninersnation.com|banner|7470-sbnation_amp_ros_athena":0.39,"www.vox.com|banner|div-gpt-ad-desktop_article_body":10.0,"www.barcablaugranes.com|banner|7470-sbnation_amp_ros_athena":0.08,"www.bavarianfootballworks.com|*|*":0.1,"www.thedodo.com|banner|div-gpt-ad-upper_rec_2":0.87,"www.vulture.com|banner|div-gpt-ad-prelude":0.24,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.38,"www.buffalorumblings.com|*|*":0.58,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.2,"www.postingandtoasting.com|banner|7470-sbnation_amp_ros_athena":0.2,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_gamestop_desktop":0.39,"www.vox.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.29,"www.silverscreenandroll.com|*|*":0.21,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable_1":0.24,"www.thecut.com|banner|div-gpt-ad-athena_features_dynamic_mobile_1":1.95,"www.netsdaily.com|*|*":0.18,"www.polygon.com|banner|div-gpt-ad-failsafe_article_med_rec_athena_mobile":0.26,"miami.eater.com|*|*":0.31,"www.theverge.com|*|*":0.49,"www.bloggingtheboys.com|banner|7470-sbnation_amp_ros_athena":0.39,"www.theringer.com|banner|div-gpt-ad-hub_river_med_rec_1":0.17,"ny.eater.com|*|*":0.49,"www.thedodo.com|banner|div-gpt-ad-marquee":0.29,"www.theverge.com|banner|div-gpt-ad-mobile_leaderboard":0.4,"www.vox.com|banner|div-gpt-ad-medium_rectangle_variable":0.33,"www.theringer.com|*|*":0.25,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.2,"www.vulture.com|banner|div-gpt-ad-desktop_article_body":0.64,"www.thecut.com|banner|div-gpt-ad-mobile_article_body_4":0.33,"www.theverge.com|banner|div-gpt-ad-btf_leaderboard_variable":0.35,"www.vulture.com|banner|div-gpt-ad-primary_article":0.24,"www.dailynorseman.com|*|*":0.22,"www.vulture.com|banner|div-gpt-ad-mobile_article_body":0.27,"www.thedodo.com|banner|div-gpt-ad-leaderboard_1":0.88,"www.bloggingtheboys.com|*|*":0.34,"www.theringer.com|banner|div-gpt-ad-desktop_article_body":0.15,"www.bleedinggreennation.com|*|*":0.21,"nymag.com|banner|div-gpt-ad-athena_hub":12.27,"*|*|*":0.43,"www.windycitygridiron.com|*|*":0.29,"www.thecut.com|banner|div-gpt-ad-mobile_article_body_3":0.36,"london.eater.com|*|*":0.11,"www.thrillist.com|banner|div-gpt-ad-interstitial_m_2":0.26,"www.theringer.com|banner|div-gpt-ad-desktop_article_body_1":0.18,"www.theverge.com|banner|div-gpt-ad-mobile_river_leaderboard_1":0.92,"www.thrillist.com|banner|div-gpt-ad-upper_rec_1":0.45,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_1":0.29,"www.vox.com|*|*":0.82,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.14,"www.thecut.com|banner|div-gpt-ad-athena_features_dynamic_mobile":4.95,"www.thecut.com|banner|div-gpt-ad-athena_features_dynamic_mobile_2":2.94,"www.theverge.com|banner|div-gpt-ad-desktop_river_leaderboard":0.56,"www.theringer.com|banner|div-gpt-ad-desktop_article_medrec_dynamic_1":0.13,"www.theringer.com|banner|div-gpt-ad-hub_river_leaderboard_1":0.15,"www.thecut.com|banner|div-gpt-ad-medium_rectangle_variable":0.28,"www.goldenstateofmind.com|*|*":0.14,"www.thecut.com|banner|div-gpt-ad-medium_rectangle_variable_2":0.31,"ny.eater.com|banner|div-gpt-ad-in_map_3":0.4,"www.theringer.com|banner|div-gpt-ad-athena_article":0.17,"www.theverge.com|banner|div-gpt-ad-mobile_footer":0.34,"www.sbnation.com|*|*":0.2},"default":0.01},{"modelWeight":10,"modelVersion":"mlcp-0p5-adunit@2024-01-30-13","schema":{"fields":["domain","mediaType","adUnitCode"],"delimiter":"|"},"values":{"www.thedodo.com|*|*":0.19,"www.vox.com|banner|div-gpt-ad-desktop_article_medrec_dynamic":0.16,"www.thedodo.com|banner|div-gpt-ad-upper_rec":0.58,"www.polygon.com|banner|div-gpt-ad-medium_rectangle_variable":0.1,"www.theringer.com|banner|div-gpt-ad-desktop_article_body_2":0.1,"www.blazersedge.com|banner|7470-sbnation_amp_ros_atf":0.13,"www.hogshaven.com|*|*":0.18,"www.theverge.com|banner|div-gpt-ad-medrec_frontpage_river_tablet_desktop":0.16,"www.thrillist.com|banner|7470-thrillist_amp_ros_atf":0.1,"www.dawgsbynature.com|*|*":0.16,"nymag.com|banner|div-gpt-ad-prelude":0.11,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_gamestop_mobile_tablet_1":0.2,"www.thedodo.com|banner|div-gpt-ad-banner_m_1_1":0.17,"www.celticsblog.com|*|*":0.15,"ny.eater.com|banner|div-gpt-ad-in_map_1":0.33,"www.polygon.com|banner|div-gpt-ad-package_cover_ad_mobile":0.13,"nymag.com|banner|div-gpt-ad-mobile_med_rec_athena_1":12.27,"www.eater.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.35,"chicago.eater.com|*|*":0.37,"www.arrowheadpride.com|*|*":0.23,"www.vox.com|banner|div-gpt-ad-desktop_feature_body":1.93,"www.ninersnation.com|*|*":0.18,"www.thecut.com|banner|div-gpt-ad-mobile_article_body_1":0.22,"www.barcablaugranes.com|*|*":0.06,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.4,"www.theverge.com|banner|div-gpt-ad-desktop_article_body":7.84,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.15,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article_1":0.08,"www.grubstreet.com|*|*":0.24,"www.libertyballers.com|*|*":0.13,"www.popsugar.com|banner|div-gpt-ad-upper_rec":0.11,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.1,"www.thedodo.com|banner|div-gpt-ad-marquee_m":0.11,"www.sbnation.com|banner|7470-sbnation_amp_ros_atf":0.13,"www.theringer.com|banner|div-gpt-ad-mobile_leaderboard_hub":0.24,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article_fallback":0.09,"pdx.eater.com|*|*":0.36,"www.theverge.com|banner|div-gpt-ad-desktop_leaderboard_variable":0.2,"www.thecut.com|banner|div-gpt-ad-prelude_article":0.16,"www.theringer.com|banner|div-gpt-ad-mobile_leaderboard":0.15,"houston.eater.com|*|*":0.34,"www.thrillist.com|banner|div-gpt-ad-interstitial_m":0.18,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.38,"www.prideofdetroit.com|*|*":0.34,"www.theverge.com|banner|div-gpt-ad-mobile_hero":0.18,"www.theverge.com|banner|div-gpt-ad-medrec_frontpage_hero_mobile":0.14,"www.theringer.com|banner|div-gpt-ad-hub_river_leaderboard":0.14,"www.theverge.com|banner|div-gpt-ad-btf_medium_rectangle_variable_feature_extended_sticky":0.27,"www.racked.com|*|*":0.07,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.15,"www.patspulpit.com|banner|7470-sbnation_amp_ros_athena":0.18,"www.ninersnation.com|banner|7470-sbnation_amp_ros_atf":0.16,"www.arrowheadpride.com|banner|7470-sbnation_amp_ros_athena":0.26,"www.vox.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article_1":0.17,"www.polygon.com|banner|div-gpt-ad-desktop_article_body_failsafe":0.2,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_hub":0.11,"www.theverge.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.71,"seattle.eater.com|*|*":0.34,"detroit.eater.com|*|*":0.34,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_6":0.1,"www.acmepackingcompany.com|*|*":0.16,"philly.eater.com|*|*":0.35,"www.vulture.com|banner|div-gpt-ad-desktop_article_body_1":0.51,"www.vox.com|banner|div-gpt-ad-desktop_feature_footer":0.19,"www.patspulpit.com|banner|7470-sbnation_amp_ros_atf":0.12,"www.vulture.com|banner|div-gpt-ad-mobile_footer_latest":0.1,"www.theringer.com|banner|div-gpt-ad-desktop_article_body_3":0.11,"www.polygon.com|banner|div-gpt-ad-medium_rectangle_gamestop_desktop":0.09,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":1.06,"www.eater.com|*|*":0.19,"www.patspulpit.com|*|*":0.14,"www.polygon.com|banner|div-gpt-ad-athena_features_dynamic_mobile_2":0.19,"www.theringer.com|banner|div-gpt-ad-desktop_leaderboard_variable":0.14,"www.thedodo.com|banner|div-gpt-ad-endcap":0.17,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.14,"www.polygon.com|banner|div-gpt-ad-mobile_feature_footer":0.12,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.12,"www.thedodo.com|banner|div-gpt-ad-billboard_1":0.68,"www.theverge.com|banner|div-gpt-ad-tablet_leaderboard":0.32,"www.theverge.com|banner|div-gpt-ad-desktop_hero":0.3,"www.baltimorebeatdown.com|*|*":0.12,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.1,"www.eater.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.29,"www.thecut.com|banner|div-gpt-ad-mobile_article_body_2":0.19,"www.thecut.com|banner|div-gpt-ad-medium_rectangle_variable_1":0.18,"www.polygon.com|banner|div-gpt-ad-desktop_leaderboard_variable":0.1,"www.thrillist.com|banner|div-gpt-ad-marquee_m":0.21,"www.popsugar.com|banner|7470-pinnacle_amp_ros_atf":0.02,"www.postingandtoasting.com|*|*":0.15,"www.cincyjungle.com|*|*":0.23,"www.theringer.com|banner|div-gpt-ad-tablet_leaderboard":0.1,"www.thrillist.com|banner|div-gpt-ad-banner_m_1_2":0.21,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.41,"www.theverge.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.58,"www.thrillist.com|banner|div-gpt-ad-marquee":0.22,"www.theringer.com|banner|div-gpt-ad-desktop_article_medrec_dynamic":0.11,"www.thrillist.com|banner|div-gpt-ad-banner_m_1":0.39,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable_2":0.16,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.18,"www.bigblueview.com|*|*":0.27,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.12,"www.theringer.com|banner|div-gpt-ad-btf_medium_rectangle_variable_hub":0.13,"www.polygon.com|banner|div-gpt-ad-mobile_footer":0.08,"www.vulture.com|*|*":0.24,"nymag.com|*|*":0.52,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.08,"www.theringer.com|banner|div-gpt-ad-native_ad_mobile":0.11,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable":0.19,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.16,"www.theringer.com|banner|div-gpt-ad-hub_river_med_rec":0.16,"www.vox.com|banner|div-gpt-ad-desktop_leaderboard_variable_static":0.24,"www.buffalorumblings.com|banner|7470-sbnation_amp_ros_athena":0.4,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable_3":0.13,"www.vox.com|banner|div-gpt-ad-desktop_feature_body_dynamic":0.67,"www.prideofdetroit.com|banner|7470-sbnation_amp_ros_athena":0.29,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.13,"www.theverge.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.31,"dc.eater.com|*|*":0.35,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_short":0.3,"www.thedodo.com|banner|div-gpt-ad-upper_rec_1":0.64,"www.theringer.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.14,"www.blazersedge.com|*|*":0.15,"dallas.eater.com|*|*":0.37,"www.vox.com|banner|div-gpt-ad-failsafe_article_med_rec_athena_mobile":1.35,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_river":0.18,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_5":0.08,"www.vulture.com|banner|div-gpt-ad-prelude_article":0.14,"www.thrillist.com|banner|div-gpt-ad-upper_rec":0.26,"sandiego.eater.com|*|*":0.38,"www.canishoopus.com|*|*":0.18,"www.polygon.com|banner|div-gpt-ad-mobile_leaderboard_hub":0.18,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.47,"www.thrillist.com|banner|div-gpt-ad-interstitial_m_1":0.19,"www.thrillist.com|banner|div-gpt-ad-banner_m_1_1":0.2,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.11,"www.theringer.com|banner|div-gpt-ad-mobile_footer":0.1,"sf.eater.com|*|*":0.34,"www.eater.com|banner|div-gpt-ad-medium_rectangle_variable":0.25,"www.popsugar.com|*|*":0.06,"www.eater.com|banner|div-gpt-ad-in_map":0.16,"www.eater.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.29,"www.ninersnation.com|banner|7470-sbnation_amp_ros_athena":0.21,"www.vox.com|banner|div-gpt-ad-desktop_article_body":10.0,"www.bavarianfootballworks.com|*|*":0.07,"www.thedodo.com|banner|div-gpt-ad-upper_rec_2":0.77,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.22,"www.buffalorumblings.com|*|*":0.35,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.13,"www.postingandtoasting.com|banner|7470-sbnation_amp_ros_athena":0.17,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_gamestop_desktop":0.25,"www.vox.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.19,"www.silverscreenandroll.com|*|*":0.15,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable_1":0.17,"www.thecut.com|banner|div-gpt-ad-athena_features_dynamic_mobile_1":0.46,"www.polygon.com|banner|div-gpt-ad-failsafe_article_med_rec_athena_mobile":0.17,"miami.eater.com|*|*":0.25,"www.theverge.com|*|*":0.38,"www.theringer.com|banner|div-gpt-ad-hub_river_med_rec_1":0.13,"ny.eater.com|*|*":0.39,"www.thedodo.com|banner|div-gpt-ad-marquee":0.25,"www.theverge.com|banner|div-gpt-ad-mobile_leaderboard":0.3,"www.vox.com|banner|div-gpt-ad-medium_rectangle_variable":0.21,"www.theringer.com|*|*":0.2,"www.eater.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.24,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.14,"www.vulture.com|banner|div-gpt-ad-desktop_article_body":0.4,"www.thecut.com|banner|div-gpt-ad-mobile_article_body_4":0.18,"www.theverge.com|banner|div-gpt-ad-btf_leaderboard_variable":0.25,"www.vulture.com|banner|div-gpt-ad-primary_article":0.17,"www.dailynorseman.com|*|*":0.16,"www.vulture.com|banner|div-gpt-ad-mobile_article_body":0.17,"www.thedodo.com|banner|div-gpt-ad-leaderboard_1":0.5,"www.bloggingtheboys.com|*|*":0.2,"www.theringer.com|banner|div-gpt-ad-desktop_article_body":0.11,"www.bleedinggreennation.com|*|*":0.16,"nymag.com|banner|div-gpt-ad-athena_hub":3.26,"*|*|*":0.3,"www.windycitygridiron.com|*|*":0.2,"www.thecut.com|banner|div-gpt-ad-mobile_article_body_3":0.18,"london.eater.com|*|*":0.09,"www.thrillist.com|banner|div-gpt-ad-interstitial_m_2":0.17,"www.theringer.com|banner|div-gpt-ad-desktop_article_body_1":0.13,"www.theverge.com|banner|div-gpt-ad-mobile_river_leaderboard_1":0.48,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_1":0.16,"www.vox.com|*|*":0.59,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_5":0.43,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.11,"www.thecut.com|banner|div-gpt-ad-athena_features_dynamic_mobile":1.51,"www.thecut.com|banner|div-gpt-ad-athena_features_dynamic_mobile_2":0.56,"www.theringer.com|banner|div-gpt-ad-desktop_article_medrec_dynamic_1":0.1,"www.polygon.com|banner|div-gpt-ad-athena_features_dynamic_mobile":0.27,"www.theringer.com|banner|div-gpt-ad-hub_river_leaderboard_1":0.11,"www.thecut.com|banner|div-gpt-ad-medium_rectangle_variable":0.19,"www.goldenstateofmind.com|*|*":0.12,"www.thecut.com|banner|div-gpt-ad-medium_rectangle_variable_2":0.19,"ny.eater.com|banner|div-gpt-ad-in_map_3":0.25,"www.theringer.com|banner|div-gpt-ad-athena_article":0.13,"www.theverge.com|banner|div-gpt-ad-mobile_footer":0.25,"www.sbnation.com|*|*":0.15,"twincities.eater.com|*|*":0.34},"default":0.01},{"modelWeight":10,"modelVersion":"asbr-v1-adunit@2024-01-30-13","schema":{"fields":["domain","mediaType","adUnitCode"],"delimiter":"|"},"values":{"www.polygon.com|*|*":0.63,"www.theringer.com|banner|div-gpt-ad-mobile_leaderboard_hub":0.28,"www.vulture.com|*|*":0.83,"www.theringer.com|banner|div-gpt-ad-medium_rectangle_variable":0.26,"www.theringer.com|*|*":0.22,"*|*|*":0.56,"www.vox.com|*|*":0.8},"default":0.01},{"modelWeight":50,"modelVersion":"bp-v1-adunit@2024-01-30-13","schema":{"fields":["domain","mediaType","adUnitCode"],"delimiter":"|"},"values":{"www.thedodo.com|*|*":0.19,"www.vox.com|banner|div-gpt-ad-desktop_article_medrec_dynamic":0.21,"www.thedodo.com|banner|div-gpt-ad-upper_rec":0.58,"www.polygon.com|banner|div-gpt-ad-medium_rectangle_variable":0.1,"www.theringer.com|banner|div-gpt-ad-desktop_article_body_2":0.1,"www.theverge.com|banner|div-gpt-ad-medrec_frontpage_river_tablet_desktop":0.16,"www.thrillist.com|banner|7470-thrillist_amp_ros_atf":0.1,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_river_1":0.21,"nymag.com|banner|div-gpt-ad-prelude":0.11,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_gamestop_mobile_tablet_1":0.2,"www.celticsblog.com|*|*":0.15,"ny.eater.com|banner|div-gpt-ad-in_map_1":0.33,"www.polygon.com|banner|div-gpt-ad-package_cover_ad_mobile":0.13,"nymag.com|banner|div-gpt-ad-mobile_med_rec_athena_1":12.27,"chicago.eater.com|*|*":0.37,"www.arrowheadpride.com|*|*":0.23,"www.vox.com|banner|div-gpt-ad-desktop_feature_body":1.93,"www.ninersnation.com|*|*":0.18,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.4,"www.theverge.com|banner|div-gpt-ad-desktop_article_body":7.84,"www.polygon.com|banner|div-gpt-ad-hub_river_med_rec_1":0.36,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.15,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article_1":0.08,"www.theverge.com|banner|div-gpt-ad-desktop_article_body_failsafe":0.85,"www.grubstreet.com|*|*":0.24,"www.libertyballers.com|*|*":0.13,"www.popsugar.com|banner|div-gpt-ad-upper_rec":0.11,"www.curbed.com|banner|div-gpt-ad-athena_features_dynamic_mobile":0.28,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.1,"www.thedodo.com|banner|div-gpt-ad-marquee_m":0.11,"www.sbnation.com|banner|7470-sbnation_amp_ros_atf":0.13,"www.theringer.com|banner|div-gpt-ad-mobile_leaderboard_hub":0.24,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article_fallback":0.09,"www.thrillist.com|banner|div-gpt-ad-endcap_m":0.16,"pdx.eater.com|*|*":0.36,"www.theverge.com|banner|div-gpt-ad-desktop_leaderboard_variable":0.2,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_5":0.12,"www.theringer.com|banner|div-gpt-ad-mobile_leaderboard":0.15,"houston.eater.com|*|*":0.34,"www.thrillist.com|banner|div-gpt-ad-interstitial_m":0.18,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.38,"www.prideofdetroit.com|*|*":0.61,"www.theverge.com|banner|div-gpt-ad-mobile_hero":0.18,"www.theverge.com|banner|div-gpt-ad-medrec_frontpage_hero_mobile":0.14,"www.theringer.com|banner|div-gpt-ad-hub_river_leaderboard":0.14,"www.eater.com|banner|div-gpt-ad-in_map_1":0.16,"www.theverge.com|banner|div-gpt-ad-btf_medium_rectangle_variable_feature_extended_sticky":0.27,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.15,"www.ninersnation.com|banner|7470-sbnation_amp_ros_atf":0.16,"www.arrowheadpride.com|banner|7470-sbnation_amp_ros_athena":0.26,"www.vox.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article_1":0.17,"www.polygon.com|banner|div-gpt-ad-desktop_article_body_failsafe":0.2,"www.vox.com|banner|div-gpt-ad-hub_river_med_rec_1":1.47,"www.theverge.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.71,"www.vox.com|banner|div-gpt-ad-desktop_feature_body_dynamic_2":0.52,"seattle.eater.com|*|*":0.49,"detroit.eater.com|*|*":0.54,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_6":0.1,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_5":0.16,"philly.eater.com|*|*":0.35,"www.vulture.com|banner|div-gpt-ad-desktop_article_body_1":0.51,"www.vox.com|banner|div-gpt-ad-desktop_feature_footer":0.19,"www.vulture.com|banner|div-gpt-ad-mobile_footer_latest":0.12,"www.theringer.com|banner|div-gpt-ad-desktop_article_body_3":0.11,"www.vox.com|banner|div-gpt-ad-desktop_feature_body_dynamic_1":0.76,"www.polygon.com|banner|div-gpt-ad-medium_rectangle_gamestop_desktop":0.09,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.01,"www.eater.com|*|*":0.19,"www.patspulpit.com|*|*":0.14,"www.polygon.com|banner|div-gpt-ad-athena_features_dynamic_mobile_2":0.19,"www.theringer.com|banner|div-gpt-ad-desktop_leaderboard_variable":0.14,"www.thedodo.com|banner|div-gpt-ad-endcap":0.17,"ny.curbed.com|*|*":0.49,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.14,"www.polygon.com|banner|div-gpt-ad-mobile_feature_footer":0.12,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.12,"www.thedodo.com|banner|div-gpt-ad-billboard_1":0.68,"www.theverge.com|banner|div-gpt-ad-tablet_leaderboard":0.32,"www.theverge.com|banner|div-gpt-ad-desktop_hero":0.3,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.1,"www.curbed.com|banner|div-gpt-ad-mobile_article_body":0.25,"www.eater.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.29,"www.polygon.com|banner|div-gpt-ad-desktop_leaderboard_variable":0.23,"www.thrillist.com|banner|div-gpt-ad-marquee_m":0.21,"www.popsugar.com|banner|7470-pinnacle_amp_ros_atf":0.04,"www.postingandtoasting.com|*|*":0.15,"www.theringer.com|banner|div-gpt-ad-tablet_leaderboard":0.1,"www.thrillist.com|banner|div-gpt-ad-banner_m_1_2":0.21,"www.polygon.com|banner|div-gpt-ad-mobile_med_rec_athena":0.27,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.41,"www.theverge.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.58,"www.thrillist.com|banner|div-gpt-ad-marquee":0.22,"www.theringer.com|banner|div-gpt-ad-desktop_article_medrec_dynamic":0.11,"www.thrillist.com|banner|div-gpt-ad-banner_m_1":0.39,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable_2":0.16,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.18,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_7":0.09,"www.thecut.com|*|*":0.01,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.12,"www.theringer.com|banner|div-gpt-ad-btf_medium_rectangle_variable_hub":0.13,"www.polygon.com|banner|div-gpt-ad-mobile_footer":0.08,"www.vulture.com|*|*":0.24,"ny.eater.com|banner|div-gpt-ad-in_map_4":0.29,"nymag.com|*|*":0.52,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.08,"www.theringer.com|banner|div-gpt-ad-native_ad_mobile":0.11,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable":0.19,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.16,"www.theringer.com|banner|div-gpt-ad-hub_river_med_rec":0.16,"www.vox.com|banner|div-gpt-ad-desktop_leaderboard_variable_static":0.24,"www.vox.com|banner|div-gpt-ad-desktop_article_body_failsafe":0.49,"www.theringer.com|banner|div-gpt-ad-hub_river_leaderboard_2":0.14,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable_3":0.13,"www.vox.com|banner|div-gpt-ad-desktop_feature_body_dynamic":0.67,"www.prideofdetroit.com|banner|7470-sbnation_amp_ros_athena":0.54,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.13,"www.theverge.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.31,"dc.eater.com|*|*":0.35,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_short":0.43,"www.thedodo.com|banner|7470-thedodo_amp_ros_atf":0.36,"www.vulture.com|banner|div-gpt-ad-athena_footer":0.42,"www.thedodo.com|banner|div-gpt-ad-upper_rec_1":0.64,"www.theringer.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.14,"dallas.eater.com|*|*":0.37,"www.vox.com|banner|div-gpt-ad-failsafe_article_med_rec_athena_mobile":1.35,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_river":0.18,"www.goldenstateofmind.com|banner|7470-sbnation_amp_ros_atf":0.14,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_5":0.08,"www.vulture.com|banner|div-gpt-ad-prelude_article":0.14,"www.thrillist.com|banner|div-gpt-ad-upper_rec":0.26,"sandiego.eater.com|*|*":0.38,"www.polygon.com|banner|div-gpt-ad-mobile_leaderboard_hub":0.18,"www.thrillist.com|banner|div-gpt-ad-endcap":0.29,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.47,"www.thrillist.com|banner|div-gpt-ad-interstitial_m_1":0.19,"austin.eater.com|*|*":0.56,"www.thrillist.com|banner|div-gpt-ad-banner_m_1_1":0.2,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.17,"www.theringer.com|banner|div-gpt-ad-mobile_footer":0.1,"sf.eater.com|*|*":0.34,"www.eater.com|banner|div-gpt-ad-medium_rectangle_variable":0.25,"www.theverge.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.55,"www.popsugar.com|*|*":0.06,"www.eater.com|banner|div-gpt-ad-in_map":0.16,"www.eater.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.29,"www.ninersnation.com|banner|7470-sbnation_amp_ros_athena":0.21,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_6":0.37,"www.theringer.com|banner|div-gpt-ad-hub_river_med_rec_2":0.08,"www.thedodo.com|banner|div-gpt-ad-upper_rec_2":0.77,"www.vulture.com|banner|div-gpt-ad-prelude":0.17,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.01,"www.theringer.com|banner|div-gpt-ad-desktop_article_medrec_dynamic_2":0.12,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.13,"www.postingandtoasting.com|banner|7470-sbnation_amp_ros_athena":0.17,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_gamestop_desktop":0.25,"www.vox.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.19,"www.silverscreenandroll.com|*|*":0.15,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable_1":0.17,"www.polygon.com|banner|div-gpt-ad-failsafe_article_med_rec_athena_mobile":0.17,"www.theverge.com|*|*":0.38,"www.thecut.com|banner|div-gpt-ad-desktop_article_body":1.26,"www.theringer.com|banner|div-gpt-ad-hub_river_med_rec_1":0.13,"ny.eater.com|*|*":0.39,"www.thedodo.com|banner|div-gpt-ad-marquee":0.25,"www.theverge.com|banner|div-gpt-ad-mobile_leaderboard":0.3,"www.vox.com|banner|div-gpt-ad-medium_rectangle_variable":0.21,"www.theringer.com|*|*":0.2,"www.eater.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.24,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.14,"www.vulture.com|banner|div-gpt-ad-desktop_article_body":0.4,"www.theverge.com|banner|div-gpt-ad-btf_leaderboard_variable":0.25,"www.vulture.com|banner|div-gpt-ad-primary_article":0.17,"www.dailynorseman.com|*|*":0.16,"www.vulture.com|banner|div-gpt-ad-mobile_article_body":0.17,"www.thedodo.com|banner|div-gpt-ad-leaderboard_1":1.78,"www.bloggingtheboys.com|*|*":0.2,"www.theringer.com|banner|div-gpt-ad-desktop_article_body":0.11,"www.bleedinggreennation.com|*|*":0.16,"nymag.com|banner|div-gpt-ad-athena_hub":3.26,"*|*|*":0.3,"london.eater.com|*|*":0.09,"www.popsugar.com|banner|div-gpt-ad-banner_m_1_1":0.07,"www.thrillist.com|banner|div-gpt-ad-interstitial_m_2":0.17,"www.theringer.com|banner|div-gpt-ad-desktop_article_body_1":0.13,"www.eater.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.36,"www.theverge.com|banner|div-gpt-ad-mobile_river_leaderboard_1":0.48,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_1":0.16,"www.vox.com|*|*":0.59,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_5":0.43,"www.theringer.com|banner|div-gpt-ad-desktop_article_medrec_dynamic_1":0.1,"www.polygon.com|banner|div-gpt-ad-athena_features_dynamic_mobile":0.27,"www.theringer.com|banner|div-gpt-ad-hub_river_leaderboard_1":0.11,"www.goldenstateofmind.com|*|*":0.12,"www.vox.com|banner|div-gpt-ad-btf_medium_rectangle_variable_hub":0.11,"ny.eater.com|banner|div-gpt-ad-in_map_3":0.25,"www.polygon.com|banner|div-gpt-ad-btf_leaderboard_variable":0.04,"www.theringer.com|banner|div-gpt-ad-athena_article":0.13,"www.theverge.com|banner|div-gpt-ad-mobile_footer":0.25,"www.sbnation.com|*|*":0.15,"twincities.eater.com|*|*":0.34},"default":0.01},{"modelWeight":10,"modelVersion":"cw-v1-adunit@2024-01-30-13","schema":{"fields":["domain","mediaType","adUnitCode"],"delimiter":"|"},"values":{"www.thedodo.com|*|*":0.21,"www.vox.com|banner|div-gpt-ad-desktop_article_medrec_dynamic":0.21,"atlanta.eater.com|*|*":0.31,"www.thedodo.com|banner|div-gpt-ad-upper_rec":0.65,"www.polygon.com|banner|div-gpt-ad-medium_rectangle_variable":0.13,"www.theringer.com|banner|div-gpt-ad-desktop_article_body_2":0.1,"www.blazersedge.com|banner|7470-sbnation_amp_ros_atf":0.15,"www.hogshaven.com|*|*":0.28,"www.theverge.com|banner|div-gpt-ad-medrec_frontpage_river_tablet_desktop":0.23,"www.thrillist.com|banner|7470-thrillist_amp_ros_atf":0.1,"www.acmepackingcompany.com|banner|7470-sbnation_amp_ros_athena":0.25,"www.dawgsbynature.com|*|*":0.19,"nymag.com|banner|div-gpt-ad-prelude":0.12,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_gamestop_mobile_tablet_1":0.27,"www.thedodo.com|banner|div-gpt-ad-banner_m_1_1":0.19,"www.celticsblog.com|*|*":0.19,"ny.eater.com|banner|div-gpt-ad-in_map_1":0.39,"www.polygon.com|banner|div-gpt-ad-package_cover_ad_mobile":0.16,"nymag.com|banner|div-gpt-ad-mobile_med_rec_athena_1":12.27,"www.eater.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.35,"chicago.eater.com|*|*":0.45,"www.arrowheadpride.com|*|*":0.3,"www.vox.com|banner|div-gpt-ad-desktop_feature_body":1.71,"www.polygon.com|*|*":0.43,"www.ninersnation.com|*|*":0.21,"www.thecut.com|banner|div-gpt-ad-mobile_article_body_1":0.27,"www.barcablaugranes.com|*|*":0.06,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.47,"www.theverge.com|banner|div-gpt-ad-desktop_article_body":7.84,"www.polygon.com|banner|div-gpt-ad-hub_river_med_rec_1":0.37,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.19,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article_1":0.1,"www.grubstreet.com|*|*":0.29,"www.libertyballers.com|*|*":0.15,"www.popsugar.com|banner|div-gpt-ad-upper_rec":0.14,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.1,"www.thedodo.com|banner|div-gpt-ad-marquee_m":0.16,"www.sbnation.com|banner|7470-sbnation_amp_ros_atf":0.15,"www.theringer.com|banner|div-gpt-ad-mobile_leaderboard_hub":0.24,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article_fallback":0.1,"pdx.eater.com|*|*":0.42,"www.theverge.com|banner|div-gpt-ad-desktop_leaderboard_variable":0.28,"www.thecut.com|banner|div-gpt-ad-prelude_article":0.2,"www.theringer.com|banner|div-gpt-ad-mobile_leaderboard":0.15,"www.thrillist.com|banner|div-gpt-ad-interstitial_m":0.27,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.4,"www.prideofdetroit.com|*|*":0.43,"www.theverge.com|banner|div-gpt-ad-mobile_hero":0.23,"www.theverge.com|banner|div-gpt-ad-medrec_frontpage_hero_mobile":0.2,"www.theringer.com|banner|div-gpt-ad-hub_river_leaderboard":0.14,"www.eater.com|banner|div-gpt-ad-in_map_1":0.32,"www.theverge.com|banner|div-gpt-ad-btf_medium_rectangle_variable_feature_extended_sticky":0.37,"www.racked.com|*|*":0.09,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.23,"www.patspulpit.com|banner|7470-sbnation_amp_ros_athena":0.24,"www.ninersnation.com|banner|7470-sbnation_amp_ros_atf":0.18,"www.vox.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article_1":0.27,"www.polygon.com|banner|div-gpt-ad-desktop_article_body_failsafe":0.28,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_hub":0.14,"www.theverge.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.82,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_6":0.1,"nola.eater.com|*|*":0.45,"www.acmepackingcompany.com|*|*":0.2,"www.vulture.com|banner|div-gpt-ad-desktop_article_body_1":0.46,"www.thecut.com|banner|div-gpt-ad-athena_features_dynamic_mobile_3":0.4,"www.vox.com|banner|div-gpt-ad-desktop_feature_footer":0.33,"www.patspulpit.com|banner|7470-sbnation_amp_ros_atf":0.13,"www.vulture.com|banner|div-gpt-ad-mobile_footer_latest":0.12,"www.theringer.com|banner|div-gpt-ad-desktop_article_body_3":0.11,"www.polygon.com|banner|div-gpt-ad-medium_rectangle_gamestop_desktop":0.1,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":1.39,"www.eater.com|*|*":0.27,"www.patspulpit.com|*|*":0.19,"www.polygon.com|banner|div-gpt-ad-athena_features_dynamic_mobile_2":0.3,"www.theringer.com|banner|div-gpt-ad-desktop_leaderboard_variable":0.14,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.19,"www.polygon.com|banner|div-gpt-ad-mobile_feature_footer":0.15,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.12,"www.thedodo.com|banner|div-gpt-ad-billboard_1":0.84,"www.theverge.com|banner|div-gpt-ad-tablet_leaderboard":0.36,"www.baltimorebeatdown.com|*|*":0.13,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.1,"www.thecut.com|banner|div-gpt-ad-mobile_article_body_2":0.23,"www.thecut.com|banner|div-gpt-ad-medium_rectangle_variable_1":0.28,"www.polygon.com|banner|div-gpt-ad-desktop_leaderboard_variable":0.12,"www.thrillist.com|banner|div-gpt-ad-marquee_m":0.31,"www.popsugar.com|banner|7470-pinnacle_amp_ros_atf":0.02,"www.postingandtoasting.com|*|*":0.17,"www.theringer.com|banner|div-gpt-ad-tablet_leaderboard":0.1,"www.thrillist.com|banner|div-gpt-ad-banner_m_1_2":0.24,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.49,"www.windycitygridiron.com|banner|7470-sbnation_amp_ros_athena":0.3,"www.thrillist.com|*|*":0.43,"www.theverge.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.75,"www.thrillist.com|banner|div-gpt-ad-marquee":0.28,"www.bleedinggreennation.com|banner|7470-sbnation_amp_ros_atf":0.18,"www.theringer.com|banner|div-gpt-ad-desktop_article_medrec_dynamic":0.11,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable_2":0.2,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.23,"www.bigblueview.com|*|*":0.29,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.2,"www.theringer.com|banner|div-gpt-ad-btf_medium_rectangle_variable_hub":0.13,"www.polygon.com|banner|div-gpt-ad-mobile_footer":0.1,"www.vulture.com|*|*":0.3,"ny.eater.com|banner|div-gpt-ad-in_map_4":0.39,"nymag.com|*|*":0.57,"www.polygon.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.11,"www.theringer.com|banner|div-gpt-ad-native_ad_mobile":0.11,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.25,"www.theringer.com|banner|div-gpt-ad-hub_river_med_rec":0.16,"www.vox.com|banner|div-gpt-ad-desktop_leaderboard_variable_static":0.29,"ny.eater.com|banner|div-gpt-ad-in_map":0.51,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable_3":0.22,"www.vox.com|banner|div-gpt-ad-desktop_feature_body_dynamic":0.77,"www.prideofdetroit.com|banner|7470-sbnation_amp_ros_athena":0.34,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_4":0.19,"dc.eater.com|*|*":0.42,"www.thedodo.com|banner|7470-thedodo_amp_ros_atf":0.19,"www.thedodo.com|banner|div-gpt-ad-upper_rec_1":0.77,"www.thedodo.com|banner|div-gpt-ad-interstitial_m":0.29,"www.theringer.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.14,"www.postingandtoasting.com|banner|7470-sbnation_amp_ros_atf":0.15,"www.blazersedge.com|*|*":0.19,"dallas.eater.com|*|*":0.44,"www.vox.com|banner|div-gpt-ad-failsafe_article_med_rec_athena_mobile":1.4,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_river":0.24,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_5":0.08,"www.vulture.com|banner|div-gpt-ad-prelude_article":0.19,"www.thrillist.com|banner|div-gpt-ad-upper_rec":0.35,"www.canishoopus.com|*|*":0.32,"www.polygon.com|banner|div-gpt-ad-mobile_leaderboard_hub":0.27,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.56,"www.thrillist.com|banner|div-gpt-ad-interstitial_m_1":0.26,"www.thrillist.com|banner|div-gpt-ad-banner_m_1_1":0.24,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.11,"www.theringer.com|banner|div-gpt-ad-mobile_footer":0.1,"www.popsugar.com|*|*":0.07,"www.eater.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.32,"www.ninersnation.com|banner|7470-sbnation_amp_ros_athena":0.28,"www.vox.com|banner|div-gpt-ad-desktop_article_body":4.24,"www.barcablaugranes.com|banner|7470-sbnation_amp_ros_athena":0.07,"www.bavarianfootballworks.com|*|*":0.09,"www.thedodo.com|banner|div-gpt-ad-upper_rec_2":0.82,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic":0.35,"www.buffalorumblings.com|*|*":0.56,"www.polygon.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_3":0.18,"www.postingandtoasting.com|banner|7470-sbnation_amp_ros_athena":0.2,"www.theverge.com|banner|div-gpt-ad-medium_rectangle_gamestop_desktop":0.33,"www.vox.com|banner|div-gpt-ad-btf_medium_rectangle_variable_article":0.27,"www.silverscreenandroll.com|*|*":0.2,"www.vulture.com|banner|div-gpt-ad-medium_rectangle_variable_1":0.23,"www.thecut.com|banner|div-gpt-ad-athena_features_dynamic_mobile_1":0.49,"www.netsdaily.com|*|*":0.17,"www.polygon.com|banner|div-gpt-ad-failsafe_article_med_rec_athena_mobile":0.25,"miami.eater.com|*|*":0.28,"www.theverge.com|*|*":0.45,"www.bloggingtheboys.com|banner|7470-sbnation_amp_ros_athena":0.33,"www.theringer.com|banner|div-gpt-ad-hub_river_med_rec_1":0.13,"ny.eater.com|*|*":0.45,"www.thedodo.com|banner|div-gpt-ad-marquee":0.29,"www.theverge.com|banner|div-gpt-ad-mobile_leaderboard":0.36,"www.vox.com|banner|div-gpt-ad-medium_rectangle_variable":0.32,"www.theringer.com|*|*":0.2,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_1":0.18,"www.vulture.com|banner|div-gpt-ad-desktop_article_body":0.4,"www.thecut.com|banner|div-gpt-ad-mobile_article_body_4":0.21,"www.theverge.com|banner|div-gpt-ad-btf_leaderboard_variable":0.32,"www.vulture.com|banner|div-gpt-ad-primary_article":0.21,"www.dailynorseman.com|*|*":0.2,"www.vulture.com|banner|div-gpt-ad-mobile_article_body":0.24,"www.thedodo.com|banner|div-gpt-ad-leaderboard_1":0.57,"www.bloggingtheboys.com|*|*":0.28,"www.theringer.com|banner|div-gpt-ad-desktop_article_body":0.11,"www.bleedinggreennation.com|*|*":0.2,"nymag.com|banner|div-gpt-ad-athena_hub":3.26,"www.vox.com|banner|div-gpt-ad-desktop_feature_body_eoy_slot":0.73,"*|*|*":0.37,"www.windycitygridiron.com|*|*":0.24,"www.thecut.com|banner|div-gpt-ad-mobile_article_body_3":0.23,"london.eater.com|*|*":0.1,"www.thrillist.com|banner|div-gpt-ad-interstitial_m_2":0.23,"www.theringer.com|banner|div-gpt-ad-desktop_article_body_1":0.13,"www.theverge.com|banner|div-gpt-ad-mobile_river_leaderboard_1":0.57,"www.vulture.com|banner|div-gpt-ad-mobile_article_body_1":0.22,"www.vox.com|*|*":0.64,"www.vox.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_5":0.49,"www.theringer.com|banner|div-gpt-ad-mobile_article_body_med_rec_dynamic_2":0.11,"www.thecut.com|banner|div-gpt-ad-athena_features_dynamic_mobile":1.2,"www.thecut.com|banner|div-gpt-ad-athena_features_dynamic_mobile_2":0.56,"www.theverge.com|banner|div-gpt-ad-desktop_river_leaderboard":0.51,"www.theringer.com|banner|div-gpt-ad-desktop_article_medrec_dynamic_1":0.1,"www.theringer.com|banner|div-gpt-ad-hub_river_leaderboard_1":0.11,"www.thecut.com|banner|div-gpt-ad-medium_rectangle_variable":0.26,"www.goldenstateofmind.com|*|*":0.14,"www.thecut.com|banner|div-gpt-ad-medium_rectangle_variable_2":0.28,"ny.eater.com|banner|div-gpt-ad-in_map_3":0.32,"www.prideofdetroit.com|banner|7470-sbnation_amp_ros_atf":0.36,"www.theringer.com|banner|div-gpt-ad-athena_article":0.13,"www.theverge.com|banner|div-gpt-ad-mobile_footer":0.33,"www.sbnation.com|*|*":0.18},"default":0.01}],"modelTimestamp":1706619600,"currency":"USD","skipRate":5,"floorsSchemaVersion":2}},
  });
});
pbjs.processQueue();
//EOF