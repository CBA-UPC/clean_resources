"use strict";(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[5871],{31289:(t,e,a)=>{a.d(e,{QG:()=>y,O4:()=>b,uM:()=>I,et:()=>m});var r=a(66062),i=a(18274),n=a(68858),o=a(66229),s=a(34629),d=a(55752),c=a.n(d);function p(t,e){return c()(t(),["bloggerState","bloggerMap",e],{})}function l(t,e,a,r){var i=p(t,a.amebaId).attribute||{},n=i.isPremium,o=i.isTieup;return!(n||o||!i.isShowAdUser)&&!function(t,e,a){var{adState:r}=t();return!!c()(r,["adLoadMap",e,a])}(t,e,r)}var u="LoadPcAdIds",h="ResetAdsData",g=(t,e)=>({type:s.tB,payload:{id:e,pathname:t}}),f=(t,e)=>({type:s.yX,payload:{id:e,pathname:t}}),v=(t,e,a)=>({type:s.Kt,payload:{id:e,pathname:t,error:a},error:!0}),y=(0,i.H)(((t,e)=>function(){var a=(0,r.Z)((function*(a,r){var i=u;if(l(r,t,e,i)){a(g(t,i)),"[adLoadAction] ".concat(i);try{var{amebaId:s}=e,d=p(r,s).blog||"";yield a((0,o.Mz)(d,n.SU)),a(f(t,i))}catch(c){c instanceof Error&&console.warn(c),a(v(t,i,c))}}}));return function(t,e){return a.apply(this,arguments)}}())),b=(0,i.H)(((t,e,a)=>function(){var i=(0,r.Z)((function*(r,i){var s=h;if(l(i,t,a,s)){r(g(t,s)),"[adLoadAction] ".concat(s);try{var{amebaId:d}=a,c=p(i,d).blog||"",u=[r((0,o.Mz)(c,n.wO))];yield Promise.all(u),r((0,o.gq)(t,c,e)),r(f(t,s))}catch(y){y instanceof Error&&console.warn(y),r(v(t,s,y))}}}));return ())),m=t=>({type:s.FO,payload:{count:t}}),I=,10793:(t,e,a)=>{a.d(e,{f:()=>d});var r=a(76955),i=a(52377),n=a(5154),o=a.n(n),s=a(54285);class d extends r.PureComponent{constructor(t){super(t),this.handleClick=this.handleClick.bind(this),this.handleInview=this.handleInview.bind(this),this.startListen=this.startListen.bind(this),this.stopListen=this.stopListen.bind(this),this.inviewTracked=!1,this.tapTracked=!1}static get defaultProps(){return{activate:["tap"],algorithmId:"",bloggerAmebaId:"",categories:[],categoryId:"",subCategoryId:"",children:null,contentId:"",disable:!1,displayPosition:"",entryId:"",orderId:"",pageId:"",sectionId:"",serviceId:"",tagName:"",tapLogger:o(),viewLogger:o()}}componentDidMount(){this.startListen()}componentDidUpdate(){this.startListen()}et params(){var{algorithmId:t,bloggerAmebaId:e,categoryId:a,subCategoryId:r,contentId:i,displayPosition:n,pageId:o,entryId:s,orderId:d,sectionId:c,serviceId:p,tagName:l}=this.props;return{algorithmId:t,bloggerAmebaId:e,categories:this.props.categories.filter((),categoryId:a,subCategoryId:r,contentId:i,displayPosition:n,pageId:o,entryId:s,orderId:d,sectionId:c,serviceId:p,tagName:l}}startListen(){-1===this.props.activate.indexOf("view")||this.inviewTracked||(d.intersectionListener||(d.intersectionListener=(0,s.T)({})),this.stopListen(),this.trigger=i.findDOMNode(this),this.trigger&&!this.unlisten&&(this.unlisten=d.intersectionListener.listen(this.trigger,(t=>{(t.isIntersecting||t.intersectionRatio>0)&&(this.stopListen(),this.handleInview())}))))}andleClick(t){var e=r.Children.only(this.props.children).props.onClick;e&&e(t),this.props.tapLogger(this.params)}ender(){if(this.props.disable)return this.props.children;var t=this.props.children;return-1!==this.props.activate.indexOf("tap")&&(t=r.cloneElement(t,{onClick:this.handleClick})),t}}d.displayName="Tracker"},45871:(t,e,a)=>{a.r(e),a.d(e,{default:()=>P});var r=a(66062),i=a(76955),n=a(97175),o=a(66948),s=a(5663),d=a.n(s),c=a(55752),p=a.n(c),l=a(51650),u=a(73614),h=a(78168),g=a(26413),f=a(31289),v=a(68858),y=a(29466),b=a.n(y),m=a(84596),I=a(31058);var w=a(10793),O=a(92700);function L(){return(L=(0,r.Z)((function*(t){var{dispatch:e,match:a,location:r}=t,{params:i,route:n}=a,{amebaId:o}=i,{pathname:s}=r,d=n.pageType;yield Promise.all([e((0,u.Rs)(o)),e((0,f.O4)(s,d,i))])}))).apply(this,arguments)}var _=t=>{var{useRouter:e=l.tv,useBloggerAttribute:a=g.j,useTrackViewLog:r=O.Z}=t,n=r(),{match:s,location:c}=e(),{amebaId:u}=s.params,{pageType:h}=s.route,{pathname:f}=c,y=function(t,e){return(0,o.v9)((a=>{var r=(0,I.XJ)(a,t);return(0,m.$V)(a,{blogId:r,adKey:e})}),b())}(u,v.rY.SpInterstitial),L=p()(y,"profit_x"),_=a(u),{isShowAdUser:P}=_,S=(0,o.v9)(m.dS)===v.X4.Interstitial,j=P&&S,k=(0,i.useRef)(null);return(0,i.useEffect)((()=>{if(!j||!L||d()(L))return()=>{};var{media_id:t,page_id:e,spot_ids:a}=L;if(!t||!e||!a||0===a.length)returnvar r=null,i=null,n=k.current;if(n){if(!n.querySelector(".ca_profitx_ad_container")){(i=document.createElement("div")).classList.add("ca_profitx_ad_container","ca_profitx_mediaid_".concat(t),"ca_profitx_pageid_".concat(e));var o=document.createElement("div");o.classList.add("ca_profitx_ad"),o.setAttribute("data-ca-profitx-ad","true"),o.setAttribute("data-ca-profitx-pageid",e);a.forEach((t=>{var e=o.cloneNode(!0);e.setAttribute("data-ca-profitx-tagid",t),e.setAttribute("data-ca-profitx-spotid","".concat("pfxad_").concat(t)),i&&i.appendChild(e)})),n.appendChild(i)}if(null===n.querySelector('[data-ca-ad-type="interstitial"]')){r=document.createElement("script");var s={async:"",charset:"utf-8","data-ca-ad-type":"interstitial","data-ca-profitx-js":"","data-ca-profitx-pageid":e,src:"https://cdn.caprofitx.com/media/".concat(t,"/pfx.js"),type:"text/javascript"};Object.entries(s).forEach((t=>{var[e,a]=t;r&&r.setAttribute(e,a)})),n.appendChild(r)}}return()=>{n&&[r,i].forEach((t=>{t&&n.contains(t)&&n.removeChild(t)}))}}),[f,L,j]),j?i.createElement(w.f,{activate:["view"],key:f,pageId:h,sectionId:"interstitial-ads",viewLogger:n},i.createElement("div",{ref:k})):i.createElement("div",null)},P=(0,h.ee)((0,n.provideHooks)({done:))(i.memo(_))},26413:(t,e,a)=>{a.d(e,{j:()=>s});var r=a(29466),i=a.n(r),n=a(66948),o=a(31058),s=t=>(0,n.v9)((,i())},85819:(t,e,a)=>{a.d(e,{I:()=>i});var r=a(66948),i=,84596:(t,e,a)=>{a.d(e,{$V:()=>s,CB:()=>c,JZ:()=>l,PY:()=>p,dS:()=>u,jj:()=>d,ly:()=>o});var r=a(55752),i=a.n(r),n=a(35613),o=(t,e)=>i()(t,["raichoAdState","requestStatusMap",...(0,n.E)(e)]),s=(t,e)=>{var{blogId:a,adKey:r}=e;return i()(t,["adState","adIdsMap",a,r])},d=c=t=>i()(t,["adState","attribute","hasBillboardPanel"],!1),p=t=>i()(t,["adState","attribute","canBillboardPanelRequest"],!1),l=t=>i()(t,["adState","pageTransitionCount"],0),u=t=>i()(t,["adState","fullPageAdType"],"")},66229:(t,e,a)=>{a.d(e,{Mz:()=>v,gq:()=>y});var r=a(41185),i=a(66062),n=a(18274),o=a(20076),s=a(55752),d=a.n(s),c=a(80602),p=a(68858);r h=g=(t,e,a)=>({type:c.gU,payload:{blogId:t,adsTypes:e,error:a},error:!0}),f=(t,e)=>!!e&&!t.some((),v=(0,n.H)((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{ignoreAdNG:!1};return function(){var r=(0,i.Z)((function*(r,i,n){var{fetchr:s}=n,c=f(e,a.ignoreAdNG),p=i(),l=((p.adState||{}).adIdsMap||{})[t]||null,v=l?[]:e;if(0===v.length&&0===(v=e.filter((t=>-1===Object.keys(l).indexOf(t)))).length)return null;try{var y=d()(p,["bloggerState","blogMap",t,"blog_name"],""),b=v.join(","),m=yield s.read("adIds").params({amebaId:y,blogId:t,options:{ads_types:b,ignore_ad_ng_user:c}}).end(),I=(0,o.ZP)(m.data,(t=>{v.forEach((e=>{t.data=u(u({},t.data),{},{[e]:d()(t,["data",e],{})})}))}));return r(h(t,I))}catch(w){return r(g(t,e,w))}}));return ()})),y=,92700:(t,e,a)=>{a.d(e,{Z:);var r=a(76955),i=a(85819),n=a(5563);function o(){var t=(0,i.I)();return(0,r.useCallback)((,[t])}}}]);