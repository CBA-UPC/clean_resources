function bf_init(){var e,t=document.querySelectorAll(".brandfolder")[0];if("undefined"!=typeof bf_url)e=bf_url;else if("undefined"!=typeof brandfolderLoadUrl)e=brandfolderLoadUrl;else if(void 0!==t){var n=t.href;n||(n=t.getElementsByTagName("a")[0].href),(!(e=n.substr(n.lastIndexOf("/")+1))||e.length<=0||""===e||"undefined"==e)&&(e="error")}else e="error";e=e.replace("/",""),(window.Brandfolder||(Brandfolder={})).account={brandfolder_id:e},Brandfolder.showEmbed||function(){window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||;var t={};if(/IEMobile/i.test(navigator.userAgent))t.ieMobile=!0;else{var n=window.navigator.userAgent;(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0)&&(t.ie=!0),"ontouchstart"in window&&/like Mac OS X/i.test(navigator.userAgent)?t.iOS=!0:"ontouchstart"in window&&(t.touch=!0)}var i=function(e){var t,n,i;for(t=1,n=arguments.length;t<n;t++){var a=arguments[t]||{};for(i in a)a.hasOwnProperty(i)&&(e[i]=a[i])}return e},a=function(e){var t=document.createElement("div");return t.innerHTML=e,document.body.insertBefore(t.firstChild,document.body.firstChild),document.body.firstChild},s=function(e){var t=document.createElement("style");t.type="text/css",t.media="screen",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)},r=o=d=u=function(){var e=document.documentElement;return{width:window.innerWidth||e&&e.clientWidth||document.body.clientWidth,height:window.innerHeight||e&&e.clientHeight||document.body.clientHeight}},l=c=f=function(e){var t={brandfolder_id:Brandfolder.account.brandfolder_id,assetHostBF:BFG.domain||"https://brandfolder.com",branding:!0},n=Brandfolder.account.client_options;return t=i(t,"object"==typeof n?n:{}),(e=i(t,"undefined"!=typeof bfOptions?bfOptions:{},e||{})).params=e.params||{},e.params.referrer=c(),e},h={createElement:function(){for(var e=this,n=e.element=document.querySelectorAll(".brandfolder")[0],i=document.querySelectorAll(".brandfolder"),a=i.length-1;a>=0;a--)n=e.element=i[a],n&&(n.setAttribute("target","_blank"),n.onclick=t.touch&&e.bindTouchEvents())}},p={show:function(e){if(t.ie||t.touch||t.ieMobile||t.iOS){this.options=f(e);var n=this.url(this.options);window.open("").location=n}else this.init(e),this.overlay.style.visibility="visible",this.overlay.style.display="block",this.dialog.focus(),o(r(),"bfw-dialog-open");document.getElementsByTagName("body")[0].style.overflow="hidden"},hide:function(){this.overlay&&(this.overlay.style.display="none"),d(r(),"bfw-dialog-open"),document.getElementsByTagName("body")[0].style.overflow="auto"},init:function(t){if(this.options=f(t),!this.overlay){var n;s("html.bfw-dialog-open object,html.bfw-dialog-open iframe,html.bfw-dialog-open embed {visibility: hidden;} html.bfw-dialog-open iframe#bfw-dialog-iframe {visibility: visible; background-color: white;}"),n="error"==e?"referrer="+this.options.params.referrer:"referral_brandfolder_name="+e+"&referrer="+this.options.params.referrer;var i='<div class="uvOverlay1" id="bfw-overlay" style="position: relative; visibility:hidden; z-index: 100003;"><div id="bfw-overlay-background" style="background: #000; filter: alpha(opacity=80); opacity: .80; position: fixed; top: 0px; right: 0; bottom: 0; left: 0;"></div><div class="uvOverlay2" style="height: 100%; overflow: auto; position: fixed; top: 0; right: 0; bottom: 0; left: 0;"><div class="uvOverlay3" style="height: 100%; min-height: 300px; min-width: 300px; position: relative; width: 100%;" onclick="return Brandfolder.hideEmbed()"><div id="bfw-dialog" style="-webkit-box-shadow: rgba(0,0,0,.5) 0 5px 5px; height: 88%; margin: 0px 0 0 0px; position: absolute; top: 8%; left: 2.5%; width: 95%;"><div id="bfw-dialog-content" style="position:static; width:100%; height:100%"></div>';this.branding(this.options)&&(i+='<a id="bfw-dialog-powered-by" href="https://brandfolder.com/?'+n+'" style="background: url(https://cdn.bfldr.com/27C9EC93/at/9x7tz6w2rgnszpp2t8hcxtj/brandfolder-by-smartsheet-logo.svg?auto=webp&format=png) 0 0 no-repeat; background-size: 192px;font-size: 11px;height: 30px;position: absolute;top: -35px;left: 5px;text-indent: -9000px;width: 237px;" onclick="event.cancelBubble = true;if(event.stopPropagation) event.stopPropagation()">Organize and share your brand assets</a>'),i+='<div id="bfw-dialog-close" title="Close Dialog" style="cursor:pointer;opacity:0.55;z-index: 100004; margin: 0; padding: 0; position: absolute; top: -32px; right: 4px;" onclick="return Brandfolder.hideEmbed()" onmouseover="this.style.opacity=\'1.0\'" onmouseout="this.style.opacity=\'0.55\'"><img src="https://cdn.bfldr.com/27C9EC93/at/hwk3nb8x6xcwmxsmm99426/close-white-x.png?auto=webp&format=png" style="height:20px;" alt="Close Brandfolder"></div></div></div></div></div>',this.overlay=a(i)}var r=this.options.brandfolder_id;if(this.options.query&&(r+=this.options.query),this.options.collection_id&&(r+=this.options.collection_id),!this.dialog||this.dialog.getAttribute("data-widget-key")!==r){url=this.url(this.options);var o='<iframe id="bfw-dialog-iframe" src="'+url+'" seamless="seamless" frameBorder="0" name="bfw-iframe" style="display: block; background-image:url(https://cdn.bfldr.com/27C9EC93/at/7m29ns9wf3373bt8h5n5z45/loading_embed.gif?auto=webp&format=gif);background-repeat:no-repeat;background-attachment:fixed;background-position:center;border: 2px solid whiteSmoke;background-color:white; -moz-border-radius: 4px; -webkit-border-radius: 4px; border-radius: 4px; height: 100%; padding: none; position: absolute; top: 0px; right: 0; bottom: 0; left: 0; width: 100%;"></iframe>';this.iframeSrc=url,this.dialogContent=document.getElementById("bfw-dialog-content"),this.dialogContent.innerHTML=o,this.dialog=document.getElementById("bfw-dialog"),this.options.preview||this.dialog.setAttribute("data-widget-key",r),document.onkeydown=function(e){if(27==(e=e||window.event).keyCode)return Brandfolder.hideEmbed()}}},positionDialog:function(){var e=l(this.overlay),t=u(),n=this.overlay.style;n.width="auto",n.height="auto",n.left=(t.width-e.width)/2+"px";var i=(t.height-e.height)/2;n.top=Math.max(i,55)+"px"},branding:function(t){return void 0!==t.brandfolder_id&&(e=t.brandfolder_id),!(e.indexOf("?b=f")>-1||!1===t.branding)||(e=e.replace("?b=f",""),!1)},url:function(t){var n,i,a,s="";return void 0!==t.brandfolder_id&&(e=t.brandfolder_id.split("?")[0]),a=(n=""!==e?t.assetHostBF+"/"+e+"/embed":t.assetHostBF+"/embed").split("?"),n=a[0],i=a[1]?a[1]:"",void 0!==t.collection_id&&(i="&collection_slug="+t.collection_id),void 0!==t.guest_pw&&(i+="&guest_pw="+t.guest_pw)&&i.length>0&&void 0!==t.guest_id&&(i+="&guest_id="+t.guest_id),i||void 0===t.guest_id||(i="&guest_id="+t.guest_id),void 0!==t.query&&(s="&q="+t.query),i?n+"?"+i+"&style=popup"+s:n+"?style=popup"+s}};Brandfolder.showEmbed=function(e){p.show(e)},Brandfolder.hideEmbed=h.createElement()}()}!"undefined"!=typeof window?window:this,(function(e,t){"use strict"; l(e){return e}ction p(e,t){return t.toUpperCase()}(){return!0},de=re.slice,ue=re.flat?le=re.push,ce=re.indexOf,fe={},he=fe.toString,pe=fe.hasOwnProperty,me=pe.toString,ge=me.call(Object),ve={},be=ye=we=e.document,_e={type:!0,src:!0,nonce:!0,noModule:!0},xe="3.7.0",ke=/HTML$/i,Ce=Ce.fn=Ce.prototype={jquery:xe,constructor:Ce,length:0,toArray:function(){return de.call(this)},get:pushStack:each:map:slice:first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:odd:eq:end:push:le,sort:re.sort,splice:re.splice},Ce.extend=Ce.fn.extend=Ce.extend({expando:"jQuery"+(xe+Math.random()).replace(/\D/g,""),isReady:!0,error:noop:function(){},isPlainObject:isEmptyObject:globalEval:each:text:makeArray:inArray:isXMLDoc:merge:grep:map:guid:1,support:ve}),"function"==typeof Symbol&&(Ce.fn[Symbol.iterator]=re[Symbol.iterator]),Ce.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),();var $e=re.pop,Te=re.sort,Se=re.splice,Fe="[\\x20\\t\\r\\n\\f]",je=new RegExp("^"+Fe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Fe+"+$","g");Ce.contains=var De=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;Ce.escapeSelector=var Be=we,Ee=le;!function(){){},j,D,B,E,I,A,P=Ee,M=Ce.expando,O=0,N=0,R=i(),L=i(),z=i(),H=i(),U=q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",W="(?:\\\\[\\da-fA-F]{1,6}"+Fe+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Y="\\["+Fe+"*("+W+")(?:"+Fe+"*([*^$|!~]?=)"+Fe+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+W+"))|)"+Fe+"*\\]",V=":("+W+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Y+")*)|.*)\\)|)",G=new RegExp(Fe+"+","g"),K=new RegExp("^"+Fe+"*,"+Fe+"*"),X=new RegExp("^"+Fe+"*([>+~]|"+Fe+")"+Fe+"*"),Q=new RegExp(Fe+"|>"),J=new RegExp(V),Z=new RegExp("^"+W+"$"),ee={ID:new RegExp("^#("+W+")"),CLASS:new RegExp("^\\.("+W+")"),TAG:new RegExp("^("+W+"|[*])"),ATTR:new RegExp("^"+Y),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Fe+"*(even|odd|(([+-]|)(\\d*)n|)"+Fe+"*(?:([+-]|)"+Fe+"*(\\d+)|))"+Fe+"*\\)|)","i"),bool:new RegExp("^(?:"+q+")$","i"),needsContext:new RegExp("^"+Fe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Fe+"*((?:-\\d)?\\d*)"+Fe+"*\\)|)(?=[^-]|$)","i")},te=/^(?:input|select|textarea|button)$/i,ne=/^h\d$/i,ie=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ae=/[+~]/,se=new RegExp("\\\\[\\da-fA-F]{1,6}"+Fe+"?|\\\\([^\\r\\n\\f])","g"),oe=ue=function(){f()},le=g((,{dir:"parentNode",next:"legend"});try{P.apply(re=de.call(Be.childNodes),Be.childNodes),re[Be.childNodes.length].nodeType}catch(e){P={apply:call:}for($ in n.matches=n.matchesSelector=n.contains=n.attr=n.error=Ce.uniqueSort=Ce.fn.uniqueSort=T=Ce.expr={cacheLength:50,createPseudo:a,match:ee,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:CHILD:PSEUDO:,filter:{TAG:CLASS:ATTR:CHILD:PSEUDO:,pseudos:{not:a((),has:a((),contains:a((),lang:a((),target:root:focus:enabled:u(!1),disabled:u(!0),checked:selected:empty:parent:header:function(e){return ne.test(e.nodeName)},input:function(e){return te.test(e.nodeName)},button:text:first:l((),last:l((),eq:l((),even:l((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:l((),lt:l((),gt:l(()}},T.pseudos.nth=T.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[$]=o($);for($ in{submit:!0,reset:!0})T.pseudos[$]=d($);h.prototype=T.filters=T.pseudos,T.setFilters=new h,ve.sortStable=M.split("").sort(U).join("")===M,f(),ve.sortDetached=r((),Ce.find=n,Ce.expr[":"]=Ce.expr.pseudos,Ce.unique=Ce.uniqueSort,n.compile=k,n.select=C,n.setDocument=f,n.escape=Ce.escapeSelector,n.getText=Ce.text,n.isXML=Ce.isXMLDoc,n.selectors=Ce.expr,n.support=Ce.support,n.uniqueSort=Ce.uniqueSort}();var Ie=Ae=Pe=Ce.expr.match.needsContext,Me=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Ce.filter=Ce.fn.extend({find:filter:function(e){return this.pushStack(o(this,e||[],!1))},not:is:);var Oe,Ne=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Ce.fn.init=.prototype=Ce.fn,Oe=Ce(we);var Re=/^(?:parents|prev(?:Until|All))/,Le={children:!0,contents:!0,next:!0,prev:!0};Ce.fn.extend({has:closest:index:add:addBack:),Ce.each({parent:parents:function(e){return Ie(e,"parentNode")},parentsUntil:function(e,t,n){return Ie(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return Ie(e,"nextSibling")},prevAll:function(e){return Ie(e,"previousSibling")},nextUntil:function(e,t,n){return Ie(e,"nextSibling",n)},prevUntil:siblings:children:contents:,();var ze=/[^\x20\t\r\n\f]+/g;Ce.Callbacks=Ce.extend({Deferred:when:);var He=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Ce.Deferred.exceptionHook=Ce.readyException=var Ue=Ce.Deferred();Ce.fn.ready=Ce.extend({isReady:!1,readyWait:1,ready:),Ce.ready.then=Ue.then,"complete"===we.readyState||"loading"!==we.readyState&&!we.documentElement.doScroll?e.setTimeout(Ce.ready):(we.addEventListener("DOMContentLoaded",h),e.addEventListener("load",h));var qe=We=/^-ms-/,Ye=/-([a-z])/g,Ve=g.uid=1,g.prototype={cache:set:get:access:remove:hasData:;var Ge=new g,Ke=new g,Xe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Qe=/[A-Z]/g;Ce.extend({hasData:data:function(e,t,n){return Ke.access(e,t,n)},removeData:function(e,t){Ke.remove(e,t)},_data:function(e,t,n){return Ge.access(e,t,n)},_removeData:function(e,t){Ge.remove(e,t)}}),Ce.fn.extend({data:removeData:function(e){return this.each((function(){Ke.remove(this,e)}))}}),Ce.extend({queue:dequeue:_queueHooks:),Ce.fn.extend({queue:dequeue:function(e){return this.each((function(){Ce.dequeue(this,e)}))},clearQueue:promise:);var Je=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ze=new RegExp("^(?:([+-])=|)("+Je+")([a-z%]*)$","i"),et=["Top","Right","Bottom","Left"],tt=we.documentElement,nt=function(e){return Ce.contains(e.ownerDocument,e)},it={composed:!0};tt.getRootNode&&(nt=;var at=st={};Ce.fn.extend({show:hide:toggle:);var rt,ot,dt=/^(?:checkbox|radio)$/i,ut=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,lt=/^$|^module$|\/(?:java|ecma)script/i;rt=we.createDocumentFragment().appendChild(we.createElement("div")),(ot=we.createElement("input")).setAttribute("type","radio"),ot.setAttribute("checked","checked"),ot.setAttribute("name","t"),rt.appendChild(ot),ve.checkClone=rt.cloneNode(!0).cloneNode(!0).lastChild.checked,rt.innerHTML="<textarea>x</textarea>",ve.noCloneChecked=!!rt.cloneNode(!0).lastChild.defaultValue,rt.innerHTML="<option></option>",ve.option=!!rt.lastChild;var ct={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead,ct.th=ct.td,ve.option||(ct.optgroup=ct.option=[1,"<select multiple='multiple'>","</select>"]);var ft=/<|&#?\w+;/,ht=/^([^.]*)(?:\.(.+)|)/;Ce.event={global:{},add:remove:dispatch:handlers:addProp:fix:special:{load:{noBubble:!0},click:{setup:trigger:_default:,beforeunload:{postDispatch:}},Ce.removeEvent=Ce.Event=Ce.Event.prototype={constructor:Ce.Event,isDefaultPrevented:T,isPropagationStopped:T,isImmediatePropagationStopped:T,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=$,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:stopImmediatePropagation:,Ce.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},Ce.event.addProp),Ce.each({focus:"focusin",blur:"focusout"},(),Ce.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(),Ce.fn.extend({on:one:off:);var pt=/<script|<style|<link/i,mt=/checked\s*(?:[^=]|=\s*.checked.)/i,gt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;Ce.extend({htmlPrefilter:function(e){return e},clone:cleanData:),Ce.fn.extend({detach:remove:text:append:prepend:before:after:empty:clone:html:replaceWith:),Ce.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},();var vt=new RegExp("^("+Je+")(?!px)[a-z%]+$","i"),bt=/^--/,yt=wt=_t=new RegExp(et.join("|"),"i");!);var xt=["Webkit","Moz","ms"],kt=we.createElement("div").style,Ct={},$t=/^(none|table(?!-c[ea]).+)/,Tt={position:"absolute",visibility:"hidden",display:"block"},St={letterSpacing:"0",fontWeight:"400"};Ce.extend({cssHooks:{opacity:{get:},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:css:),Ce.each(["height","width"],(),Ce.cssHooks.marginLeft=O(ve.reliableMarginLeft,(),Ce.each({margin:"",padding:"",border:"Width"},(),Ce.fn.extend({css:),Ce.Tween=U,U.prototype={constructor:U,init:cur:run:,U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:set:},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:,Ce.easing={linear:swing:_default:"swing"},Ce.fx=U.prototype.init,Ce.fx.step={};var Ft,jt,Dt=/^(?:toggle|show|hide)$/,Bt=/queueHooks$/;Ce.Animation=Ce.extend(X,{tweeners:{"*":[},tweener:prefilters:[G],prefilter:),Ce.speed=Ce.fn.extend({fadeTo:animate:stop:finish:),Ce.each(["toggle","show","hide"],(),Ce.each({slideDown:Y("show"),slideUp:Y("hide"),slideToggle:Y("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(),Ce.timers=[],Ce.fx.tick=Ce.fx.timer=Ce.fx.interval=13,Ce.fx.start=Ce.fx.stop=Ce.fx.speeds={slow:600,fast:200,_default:400},Ce.fn.delay=);var Et,It=Ce.expr.attrHandle;Ce.fn.extend({attr:function(e,t){return qe(this,Ce.attr,e,t,arguments.length>1)},removeAttr:),Ce.extend({attr:attrHooks:{type:{set:},removeAttr:),Et={set:,Ce.each(Ce.expr.match.bool.source.match(/\w+/g),();var At=/^(?:input|select|textarea|button)$/i,Pt=/^(?:a|area)$/i;Ce.fn.extend({prop:removeProp:),Ce.extend({prop:propHooks:{tabIndex:{get:},propFix:{for:"htmlFor",class:"className"}}),ve.optSelected||(Ce.propHooks.selected={get:set:),Ce.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(),Ce.fn.extend({addClass:removeClass:toggleClass:hasClass:);var Mt=/\r/g;Ce.fn.extend({val:),Ce.extend({valHooks:{option:{get:,select:{get:set:}}),Ce.each(["radio","checkbox"],();var Ot=e.location,Nt={guid:Date.now()},Rt=/\?/;Ce.parseXML=var Lt=/^(?:focusinfocus|focusoutblur)$/,zt=function(e){e.stopPropagation()};Ce.extend(Ce.event,{trigger:simulate:),Ce.fn.extend({trigger:triggerHandler:);var Ht=/\[\]$/,Ut=/\r?\n/g,qt=/^(?:submit|button|image|reset|file)$/i,Wt=/^(?:input|select|textarea|keygen)/i;Ce.param=Ce.fn.extend({serialize:serializeArray:);var Yt=/%20/g,Vt=/#.*$/,Gt=/([?&])_=[^&]*/,Kt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Xt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Qt=/^(?:GET|HEAD)$/,Jt=/^\/\//,Zt={},en={},tn="*/".concat("*"),nn=we.createElement("a");nn.href=Ot.href,Ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ot.href,type:"GET",isLocal:Xt.test(Ot.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:ajaxPrefilter:te(Zt),ajaxTransport:te(en),ajax:function(t,n){object"==typeof t&&(n=t,t=void 0),n=n||{};var a,s,r,o,d,u,l,c,f,h,p=Ce.ajaxSetup({},n),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?Ce(m):Ce.event,v=Ce.Deferred(),b=Ce.Callbacks("once memory"),y=p.statusCode||{},w={},_={},x="canceled",k={readyState:0,getResponseHeader:getAllResponseHeaders:setRequestHeader:overrideMimeType:statusCode:abort:;if(v.promise(k),p.url=((t||p.url||Ot.href)+"").replace(Jt,Ot.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(ze)||[""],null==p.crossDomain){u=we.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=nn.protocol+"//"+nn.host!=u.protocol+"//"+u.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=Ce.param(p.data,p.traditional)),ne(Zt,p,n,k),l)return k;for(f in(c=Ce.event&&p.global)&&0==Ce.active++&&Ce.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Qt.test(p.type),s=p.url.replace(Vt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Yt,"+")):(h=p.url.slice(s.length),p.data&&(p.processData||"string"==typeof p.data)&&(s+=(Rt.test(s)?"&":"?")+p.data,delete p.data),!1===p.cache&&(s=s.replace(Gt,"$1"),h=(Rt.test(s)?"&":"?")+"_="+Nt.guid+++h),p.url=s+h),p.ifModified&&(Ce.lastModified[s]&&k.setRequestHeader("If-Modified-Since",Ce.lastModified[s]),Ce.etag[s]&&k.setRequestHeader("If-None-Match",Ce.etag[s])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+tn+"; q=0.01":""):p.accepts["*"]),p.headers)k.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(m,k,p)||l))return k.abort();if(x="abort",b.add(p.complete),k.done(p.success),k.fail(p.error),a=ne(en,p,n,k)){if(k.readyState=1,c&&g.trigger("ajaxSend",[k,p]),l)return k;p.async&&p.timeout>0&&(d=e.setTimeout((function(){k.abort("timeout")}),p.timeout));try{l=!1,a.send(w,i)}catch(e){if(l)throw e;i(-1,e)}}else i(-1,"No Transport");return k},getJSON:getScript:),Ce.each(["get","post"],(),Ce.ajaxPrefilter((),Ce._evalUrl=Ce.fn.extend({wrapAll:wrapInner:wrap:unwrap:),Ce.expr.pseudos.hidden=Ce.expr.pseudos.visible=Ce.ajaxSettings.xhr=var an={0:200,1223:204},sn=Ce.ajaxSettings.xhr();ve.cors=!!sn&&"withCredentials"in sn,ve.ajax=sn=!!sn,Ce.ajaxTransport((),Ce.ajaxPrefilter((),Ce.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":}),Ce.ajaxPrefilter("script",(),Ce.ajaxTransport("script",();var rn,on=[],dn=/(=)\?(?=&|$)|\?\?/;Ce.ajaxSetup({jsonp:"callback",jsonpCallback:),Ce.ajaxPrefilter("json jsonp",(),ve.createHTMLDocument=((rn=we.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===rn.childNodes.length),Ce.parseHTML=Ce.fn.load=Ce.expr.pseudos.animated=Ce.offset={setOffset:,Ce.fn.extend({offset:position:offsetParent:),Ce.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(),Ce.each(["top","left"],(),Ce.each({Height:"height",Width:"width"},(),Ce.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(),Ce.fn.extend({bind:unbind:delegate:undelegate:hover:),Ce.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),();var un=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;Ce.proxy=Ce.holdReady=Ce.isArray=Array.isArray,Ce.parseJSON=JSON.parse,Ce.nodeName=s,Ce.isFunction=be,Ce.isWindow=ye,Ce.camelCase=m,Ce.type=i,Ce.now=Date.now,Ce.isNumeric=Ce.trim="function"==typeof define&&define.amd&&define("jquery",[],(function(){return Ce}));var ln=e.jQuery,cn=e.$;return Ce.noConflict=void 0===t&&(e.jQuery=e.$=Ce),Ce})),),Function.prototype.bind||(Function.prototype.bind=,(),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}((),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}((function(e){return function(){ a,s=Math.max,r=Math.abs,o=/left|center|right/,d=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,c=/%$/,f=e.fn.position;e.position={scrollbarWidth:getScrollInfo:getWithinInfo:,e.fn.position=e.ui.position={fit:{left:top:,flip:{left:function(e,t){var n,i,a=t.within,s=a.offset.left+a.scrollLeft,o=a.width,d=a.isWindow?a.scrollLeft:a.offset.left,u=e.left-t.collisionPosition.marginLeft,l=u-d,c=u+t.collisionWidth-o-d,f="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];l<0?((n=e.left+f+h+p+t.collisionWidth-o-s)<0||n<r(l))&&(e.left+=f+h+p):c>0&&((i=e.left-t.collisionPosition.marginLeft+f+h+p-d)>0||r(i)<c)&&(e.left+=f+h+p)},top:,flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:}}(),e.ui.position})),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}((),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}((),(function(e){var t,n=0,i=Array.prototype.slice;return e.cleanData=(t=e.cleanData,,e.widget=e.widget.extend=e.widget.bridge=e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:_getCreateOptions:_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:_destroy:e.noop,widget:option:_setOptions:_setOption:_setOptionClasses:_setOptionDisabled:enable:function(){return this._setOptions({disabled:!1})},disable:_classes:_untrackClassesElement:_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:_toggleClass:_on:_off:_delay:_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:_trigger:,e.each({show:"fadeIn",hide:"fadeOut"},(),e.widget})),function(e){"function"==typeof define&&define.amd?define(["jquery","../keycode","../position","../safe-active-element","../unique-id","../version","../widget"],e):e(jQuery)}((),(),function(e){"use strict";ar n=n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=n.prototype.checkPositionWithEventLoop=n.prototype.checkPosition=var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",()}(jQuery),function(e){"use strict";function t(t){return this.each((function(){var n=e(this),a=n.data("bs.alert");a||n.data("bs.alert",a=new i(this)),"string"==typeof t&&a[t].call(n)}))}var n='[data-dismiss="alert"]',i=i.VERSION="3.2.0",i.prototype.close=var a=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=a,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),jQuery),jQuery),function(e){"use strict"; a=".dropdown-backdrop",s='[data-toggle="dropdown"]',r=r.VERSION="3.2.0",r.prototype.toggle=function(i){BF&&BF.fx&&BF.fx.dispatchWindowEvent&&BF.fx.dispatchWindowEvent("closeBFDropdowns");var a=e(this);if(!a.is(".disabled, :disabled")){var s=n(a),r=s.hasClass("open");if(t(),!r){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var o={relatedTarget:this};if(s.trigger(i=e.Event("show.bs.dropdown",o)),i.isDefaultPrevented())return;a.trigger("focus"),s.toggleClass("open").trigger("shown.bs.dropdown",o)}return!1}},r.prototype.keydown=var o=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",().on("click.bs.dropdown.data-api",s,r.prototype.toggle).on("keydown.bs.dropdown.data-api",s+', [role="menu"], [role="listbox"]',r.prototype.keydown)}(jQuery),function(e){"use strict";ar n=n.VERSION="3.2.0",n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),window.DD_RUM&&window.DD_RUM.startView&&window.DD_RUM.startView(window.location.pathname+"/asset-modal-tab/"+i.slice(1)),!t.parent("li").hasClass("active")){var a=n.find(".active:last a")[0],s=e.Event("show.bs.tab",{relatedTarget:a});if(t.trigger(s),!s.isDefaultPrevented()){var r=e(i);this.activate(t.closest("li"),n),this.activate(r,r.parent(),()}}},n.prototype.activate=var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',()}(jQuery),jQuery),function(e){"use strict";ar n=n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=n.prototype.show=n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(e(".modal-dialog.modal-asset").length&&BFG.editTabUnsavedChanges?BF.fx.dispatchWindowEvent("unsavedChangesAlert",null):(BF.dialog.unmountTabComponents(),this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal(),e(".user-permissions-modal").length&&ReactRailsUJS.unmountComponents("#dialogBody")))},n.prototype.enforceFocus=n.prototype.escape=n.prototype.hideModal=n.prototype.removeBackdrop=n.prototype.backdrop=function(t){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy((function(e){if(e.target===e.currentTarget){var t=window.getSelection();if("Range"==t.type||t.toString().length>0)return}e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))}),this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;a?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(150):s()}else t&&t()},n.prototype.checkScrollbar=n.prototype.setScrollbar=n.prototype.resetScrollbar=n.prototype.measureScrollbar=var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',()}(jQuery),function(e){"use strict";function t(t){return this.each((function(){var i=e(this),a=i.data("bs.tooltip"),s="object"==typeof t&&t;(a||"destroy"!=t)&&(a||i.data("bs.tooltip",a=new n(this,s)),"string"==typeof t&&a[t]())}))}var n=n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=n.prototype.getDelegateOptions=n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout((function(){"in"==n.hoverState&&n.show()}),n.options.delay.show)},n.prototype.leave=n.prototype.show=n.prototype.applyPlacement=n.prototype.replaceArrow=n.prototype.setContent=n.prototype.hide=n.prototype.fixTitle=n.prototype.hasContent=n.prototype.getPosition=n.prototype.getCalculatedOffset=n.prototype.getViewportAdjustedDelta=n.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},n.prototype.getUID=n.prototype.tip=n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=n.prototype.toggleEnabled=n.prototype.toggle=n.prototype.destroy=var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),jQuery),function(e,t){u=(d={get:contains:remove:replace:clear:copy:,,l=function(t,n){this._process_options(n),this.dates=new u,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(v.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today, tfoot th.clear").attr("colspan",(function(e,t){return parseInt(t)+1})),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};l.prototype={constructor:l,_process_options:function(a){this._o=e.extend({},this._o,a);var s=this.o=e.extend({},this._o),r=s.language;switch(g[r]||(r=r.split("-")[0],g[r]||(r=p.language)),s.language=r,s.startView){case 2:case"decade":s.startView=2;break;case 1:case"year":s.startView=1;break;default:s.startView=0}switch(s.minViewMode){case 1:case"months":s.minViewMode=1;break;case 2:case"years":s.minViewMode=2;break;default:s.minViewMode=0}s.startView=Math.max(s.startView,s.minViewMode),!0!==s.multidate&&(s.multidate=Number(s.multidate)||!1,!1!==s.multidate&&(s.multidate=Math.max(0,s.multidate))),s.multidateSeparator=String(s.multidateSeparator),s.weekStart%=7,s.weekEnd=(s.weekStart+6)%7;var o=v.parseFormat(s.format);if(s.startDate!==-1/0&&(s.startDate?s.startDate instanceof Date?s.startDate=this._local_to_utc(this._zero_time(s.startDate)):s.startDate=v.parseDate(s.startDate,o,s.language):s.startDate=-1/0),s.endDate!==1/0&&(s.endDate?s.endDate instanceof Date?s.endDate=this._local_to_utc(this._zero_time(s.endDate)):s.endDate=v.parseDate(s.endDate,o,s.language):s.endDate=1/0),s.daysOfWeekDisabled=s.daysOfWeekDisabled||[],e.isArray(s.daysOfWeekDisabled)||(s.daysOfWeekDisabled=s.daysOfWeekDisabled.split(/[,\s]*/)),s.daysOfWeekDisabled=e.map(s.daysOfWeekDisabled,(),s.datesDisabled=s.datesDisabled||[],!e.isArray(s.datesDisabled)){var d=[];d.push(v.parseDate(s.datesDisabled,o,s.language)),s.datesDisabled=d}s.datesDisabled=e.map(s.datesDisabled,();var u=String(s.orientation).toLowerCase().split(/\s+/g),l=s.orientation.toLowerCase();if(u=e.grep(u,(function(e){return/^auto|left|right|top|bottom$/.test(e)})),s.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===u.length)switch(u[0]){case"top":case"bottom":s.orientation.y=u[0];break;case"left":case"right":s.orientation.x=u[0]}else l=e.grep(u,(function(e){return/^left|right$/.test(e)})),s.orientation.x=l[0]||"auto",l=e.grep(u,(),s.orientation.y=l[0]||"auto";else;if(s.defaultViewDate){var c=s.defaultViewDate.year||(new Date).getFullYear(),f=s.defaultViewDate.month||0,h=s.defaultViewDate.day||1;s.defaultViewDate=n(c,f,h)}else s.defaultViewDate=i();s.showOnFocus=s.showOnFocus===t||s.showOnFocus},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var n,i,a,s=0;s<e.length;s++)n=e[s][0],2===e[s].length?(i=t,a=e[s][1]):3===e[s].length&&(i=e[s][1],a=e[s][2]),n.on(a,i)},_unapplyEvents:_buildEvents:function(){var t={keyup:e.proxy((,this),keydown:e.proxy(this.keydown,this)};!0===this.o.showOnFocus&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),t],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy((function(e){this._focused_from=e.target}),this)}],[this.element,{blur:e.proxy((,this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy((,this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:_detachSecondaryEvents:_trigger:function(t,n){var i=n||this.dates.get(-1),a=this._utc_to_local(i);this.element.trigger({type:t,namespace:"bsDatepicker",date:a,dates:e.map(this.dates,this._utc_to_local),format:e.proxy((,this)})},show:function(){if(!this.element.attr("readonly"))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this},hide:remove:_utc_to_local:_local_to_utc:_zero_time:_zero_utc_time:getDates:getUTCDates:getDate:getUTCDate:clearDates:setDates:setUTCDates:setDate:s("setDates"),setUTCDate:s("setUTCDates"),setValue:getFormattedDate:setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:setDatesDisabled:place:_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),n=[],i=!1;return arguments.length?(e.each(arguments,e.proxy((,this)),i=!0):(n=(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val())&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=e.map(n,e.proxy((,this)),n=e.grep(n,e.proxy((,this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():n.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var e=this.o.weekStart,t="<tr>";this.o.calendarWeeks&&(this.picker.find(".datepicker-days thead tr:first-child th.datepicker-switch").attr("colspan",(),t+='<th class="cw">&#160;</th>');for(;e<this.o.weekStart+7;)t+='<th class="dow">'+g[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:setRange:getClassNames:fill:function(){var i,a=new Date(this.viewDate),s=a.getUTCFullYear(),r=a.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,d=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,u=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=g[this.o.language].today||g.en.today||"",f=g[this.o.language].clear||g.en.clear||"";if(!isNaN(s)&&!isNaN(r)){this.picker.find(".datepicker-days thead th.datepicker-switch").text(g[this.o.language].months[r]+" "+s),this.picker.find("tfoot th.today").text(c).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot th.clear").text(f).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths();var h=n(s,r-1,28),p=v.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(p),h.setUTCDate(p-(h.getUTCDay()-this.o.weekStart+7)%7);var m=new Date(h);m.setUTCDate(m.getUTCDate()+42),m=m.valueOf();for(var b,y=[];h.valueOf()<m;){if(h.getUTCDay()===this.o.weekStart&&(y.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+h+(this.o.weekStart-h.getUTCDay()-7)%7*864e5),_=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),x=new Date(Number(x=n(_.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864e5),k=(_-x)/864e5/7+1;y.push('<td class="cw">'+k+"</td>")}if((b=this.getClassNames(h)).push("day"),this.o.beforeShowDay!==e.noop){var C=this.o.beforeShowDay(this._utc_to_local(h));C===t?C={}:"boolean"==typeof C?C={enabled:C}:"string"==typeof C&&(C={classes:C}),!1===C.enabled&&b.push("disabled"),C.classes&&(b=b.concat(C.classes.split(/\s+/))),C.tooltip&&(i=C.tooltip)}b=e.unique(b),y.push('<td class="'+b.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+h.getUTCDate()+"</td>"),i=null,h.getUTCDay()===this.o.weekEnd&&y.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var $=this.picker.find(".datepicker-months").find("th:eq(1)").text(s).end().find("span").removeClass("active");if(e.each(this.dates,(),(s<o||s>u)&&$.addClass("disabled"),s===o&&$.slice(0,d).addClass("disabled"),s===u&&$.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var T=this;e.each($,(function(t,n){if(!e(n).hasClass("disabled")){var i=new Date(s,t,1);!1===T.o.beforeShowMonth(i)&&e(n).addClass("disabled")}}))}y="",s=10*parseInt(s/10,10);var S=this.picker.find(".datepicker-years").find("th:eq(1)").text(s+"-"+(s+9)).end().find("td");s-=1;for(var F,j=e.map(this.dates,(function(e){return e.getUTCFullYear()})),D=-1;D<11;D++)F=["year"],-1===D?F.push("old"):10===D&&F.push("new"),-1!==e.inArray(s,j)&&F.push("active"),(s<o||s>u)&&F.push("disabled"),y+='<span class="'+F.join(" ")+'">'+s+"</span>",s+=1;S.html(y)}},updateNavArrows:click:function(t){t.preventDefault();var i,a,s,r=e(t.target).closest("span, td, th");if(1===r.length)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=v.modes[this.viewMode].navStep*("prev"===r[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var d=new Date;d=n(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0),this.showMode(-2);var u="linked"===this.o.todayBtn?null:"view";this._setDate(d,u);break;case"clear":this.clearDates()}break;case"span":r.is(".disabled")||(this.viewDate.setUTCDate(1),r.is(".month")?(s=1,a=r.parent().find("span").index(r),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(i,a,s))):(s=1,a=0,i=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(i,a,s))),this.showMode(-1),this.fill());break;case"td":r.is(".day")&&!r.is(".disabled")&&(s=parseInt(r.text(),10)||1,i=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),r.is(".old")?0===a?(a=11,i-=1):a-=1:r.is(".new")&&(11===a?(a=0,i+=1):a+=1),this._setDate(n(i,a,s)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:_setDate:function(e,t){var n;t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate"),this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,n){if(!e)return t;if(!n)return e;var i,a,s=new Date(e.valueOf()),r=s.getUTCDate(),o=s.getUTCMonth(),d=Math.abs(n);if(n=n>0?1:-1,1===d)a=-1===n?i=o+n,s.setUTCMonth(i),(i<0||i>11)&&(i=(i+12)%12);else{for(var u=0;u<d;u++)s=this.moveMonth(s,n);i=s.getUTCMonth(),s.setUTCDate(r),a=for(;a();)s.setUTCDate(--r),s.setUTCMonth(i);return s},moveYear:dateWithinRange:keydown:function(e){if(this.picker.is(":not(:visible)"))27===e.keyCode&&this.show();else{var t,n,a,s,r=!1,o=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),t),a=this.moveYear(o,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),t),a=this.moveMonth(o,t),this._trigger("changeMonth",this.viewDate)):((n=new Date(this.dates.get(-1)||i())).setUTCDate(n.getUTCDate()+t),(a=new Date(o)).setUTCDate(o.getUTCDate()+t)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),t),a=this.moveYear(o,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),t),a=this.moveMonth(o,t),this._trigger("changeMonth",this.viewDate)):((n=new Date(this.dates.get(-1)||i())).setUTCDate(n.getUTCDate()+7*t),(a=new Date(o)).setUTCDate(o.getUTCDate()+7*t)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:o=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(o),r=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(r)this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change()}},showMode:;var c=c.prototype={updateDates:updateRanges:dateUpdated:function(t){if(!this.updating){this.updating=!0;var n=e(t.target).data("datepicker").getUTCDate(),i=e.inArray(t.target,this.inputs),a=i-1,s=i+1,r=this.inputs.length;if(-1!==i){if(e.each(this.pickers,(),n<this.dates[a])for(;a>=0&&n<this.dates[a];)this.pickers[a--].setUTCDate(n);else if(n>this.dates[s])for(;s<r&&n>this.dates[s];)this.pickers[s++].setUTCDate(n);this.updateDates(),delete this.updating}}},remove:;var f=e.fn.datepicker,h=function(n){var i,a=Array.apply(null,arguments);return a.shift(),this.each((function(){var s=e(this),d=s.data("datepicker"),u="object"==typeof n&&n;if(!d){var f=r(this,"date"),h=o(e.extend({},p,f,u).language),m=e.extend({},p,h,f,u);if(s.is(".input-daterange")||m.inputs){var g={inputs:m.inputs||s.find("input").toArray()};s.data("datepicker",d=new c(this,e.extend(m,g)))}else s.data("datepicker",d=new l(this,m))}if("string"==typeof n&&"function"==typeof d[n]&&(i=d[n].apply(d,a))!==t)return!1})),i!==t?i:this};e.fn.datepicker=h;var p=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,container:"body"},m=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=l;var g=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:getDaysInMonth:validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:parseDate:function(i,a,s){f(!i)return t;if(i instanceof Date)return i;"string"==typeof a&&(a=v.parseFormat(a));var o,d,u,c=/([\-+]\d+)([dmwy])/,f=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,u=0;u<f.length;u++)switch(o=c.exec(f[u]),d=parseInt(o[1]),o[2]){case"d":i.setUTCDate(i.getUTCDate()+d);break;case"m":i=l.prototype.moveMonth.call(l.prototype,i,d);break;case"w":i.setUTCDate(i.getUTCDate()+7*d);break;case"y":i=l.prototype.moveYear.call(l.prototype,i,d)}return n(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}f=i&&i.match(this.nonpunctuation)||[],i=new Date;var h,p,m={},b=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:m:d:function(e,t){return e.setUTCDate(t)}};y.M=y.MM=y.mm=y.m,y.dd=y.d,i=n(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var w=a.parts.slice();if(f.length!==w.length&&(w=e(w).filter(().toArray()),f.length===w.length){var _,x,k;for(u=0,_=w.length;u<_;u++){if(h=parseInt(f[u],10),o=w[u],isNaN(h))switch(o){case"MM":p=e(g[s].months).filter(r),h=e.inArray(p[0],g[s].months)+1;break;case"M":p=e(g[s].monthsShort).filter(r),h=e.inArray(p[0],g[s].monthsShort)+1}m[o]=h}for(u=0;u<b.length;u++)(k=b[u])in m&&!isNaN(m[k])&&(x=new Date(i),y[k](x,m[k]),isNaN(x)||(i=x))}return i},formatDate:headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=v,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=f,this},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',(),e(()}(window.jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=global.window&&global.window.$?e(global.window.$):e(jQuery,window)}((function(e,t){"use strict";var n=function(t,n){var i=this;this.$element=e(t),this.textDirection=this.$element.css("direction"),this.options=e.extend(!0,{},e.fn.tokenfield.defaults,{tokens:this.$element.val()},this.$element.data(),n),this._delimiters="string"==typeof this.options.delimiter?[this.options.delimiter]:this.options.delimiter,this._triggerKeys=e.map(this._delimiters,(function(e){return e.charCodeAt(0)})),this._firstDelimiter=this._delimiters[0];var a=e.inArray(" ",this._delimiters),s=e.inArray("-",this._delimiters);a>=0&&(this._delimiters[a]="\\s"),s>=0&&(delete this._delimiters[s],this._delimiters.unshift("-"));var r=["\\","$","[","{","^",".","|","?","*","+","(",")"];e.each(this._delimiters,(function(t,n){e.inArray(n,r)>=0&&(i._delimiters[t]="\\"+n)}));var o,d=null,u=t.style.width,l=this.$element.width();d&&e.each(d,();var c="rtl"===e("body").css("direction")?"right":"left",f={position:this.$element.css("position")};f[c]=this.$element.css(c),this.$element.data("original-styles",f).data("original-tabindex",this.$element.prop("tabindex")).css("position","absolute").css(c,"-10000px").prop("tabindex",-1),this.$wrapper=e('<div class="tokenfield form-control" />'),this.$element.hasClass("input-lg")&&this.$wrapper.addClass("input-lg"),this.$element.hasClass("input-sm")&&this.$wrapper.addClass("input-sm"),"rtl"===this.textDirection&&this.$wrapper.addClass("rtl");var h=this.$element.prop("id")||(new Date).getTime()+""+Math.floor(100*(1+Math.random()));this.$input=e('<input type="'+this.options.inputType+'" class="token-input" autocomplete="off" />').appendTo(this.$wrapper).prop("placeholder",this.$element.prop("placeholder")).prop("id",h+"-tokenfield").prop("tabindex",this.$element.data("original-tabindex"));var p=e('label[for="'+this.$element.prop("id")+'"]');if(p.length&&p.prop("for",this.$input.prop("id")),this.$copyHelper=e('<input type="text" />').css("position","absolute").css(c,"-10000px").prop("tabindex",-1).prependTo(this.$wrapper),u?this.$wrapper.css("width",u):o?this.$wrapper.css("width",o):this.$element.parents(".form-inline").length&&this.$wrapper.width(l),(this.$element.prop("disabled")||this.$element.parents("fieldset[disabled]").length)&&this.disable(),this.$element.prop("readonly")&&this.readonly(),this.$mirror=e('<span style="position:absolute; top:-999px; left:0; white-space:pre;"/>'),this.$input.css("min-width",this.options.minWidth+"px"),e.each(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],(),this.$mirror.appendTo("body"),this.$wrapper.insertBefore(this.$element),this.$element.prependTo(this.$wrapper),this.update(),this.setTokens(this.options.tokens,!1,!this.$element.val()&&this.options.tokens),this.listen(),!e.isEmptyObject(this.options.autocomplete)){var m="rtl"===this.textDirection?"right":"left",g=e.extend({minLength:this.options.showAutocompleteOnFocus?0:null,position:{my:m+" top",at:m+" bottom",of:this.$wrapper}},this.options.autocomplete);this.$input.autocomplete(g)}if(!e.isEmptyObject(this.options.typeahead)){var v=this.options.typeahead,b={minLength:this.options.showAutocompleteOnFocus?0:null},y=e.isArray(v)?v:[v,v];y[0]=e.extend({},b,y[0]),this.$input.typeahead.apply(this.$input,y),this.typeahead=!0}};n.prototype={constructor:n,createToken:function(t,n){var i=this;if(void 0===n&&(n=!0),(t="string"==typeof t?{value:t,label:t}:e.extend({},t)).value=e.trim(t.value.toString()),t.label=t.label&&t.label.length?e.trim(t.label):t.value,
t.value.length&&t.label.length&&!(t.label.length<=this.options.minLength)&&!(this.options.limit&&this.getTokens().length>=this.options.limit)){var a=e.Event("tokenfield:createtoken",{attrs:t});if(this.$element.trigger(a),a.attrs&&!a.isDefaultPrevented()){var s=e('<div class="token" />').append('<span class="token-label" />').append('<a href="#" class="close" tabindex="-1">&times;</a>').data("attrs",t);this.$input.hasClass("tt-input")?this.$input.parent().before(s):this.$input.before(s),this.$input.css("width",this.options.minWidth+"px");var r=s.find(".token-label"),o=s.find(".close");this.maxTokenWidth||(this.maxTokenWidth=this.$wrapper.width()-o.outerWidth()-parseInt(o.css("margin-left"),10)-parseInt(o.css("margin-right"),10)-parseInt(s.css("border-left-width"),10)-parseInt(s.css("border-right-width"),10)-parseInt(s.css("padding-left"),10)-parseInt(s.css("padding-right"),10),parseInt(r.css("border-left-width"),10),parseInt(r.css("border-right-width"),10),parseInt(r.css("padding-left"),10),parseInt(r.css("padding-right"),10),parseInt(r.css("margin-left"),10),parseInt(r.css("margin-right"),10)),r.css("max-width",this.maxTokenWidth),this.options.html?r.html(t.label):r.text(t.label),s.on("mousedown",().on("click",(function(e){return!i._disabled&&!i._readonly&&(i.preventDeactivation=!1,e.ctrlKey||e.metaKey?(e.preventDefault(),i.toggle(s)):void i.activate(s,e.shiftKey,e.shiftKey))})).on("dblclick",(),o.on("click",e.proxy(this.remove,this)),this.$element.trigger(e.Event("tokenfield:createdtoken",{attrs:t,relatedTarget:s.get(0)})),n&&this.$element.val(this.getTokensList()).trigger(e.Event("change",{initiator:"tokenfield"}));i=this;return setTimeout((function(){i.update()}),0),this.$element.get(0)}}},setTokens:function(t,n,i){if(n||this.$wrapper.find(".token").remove(),t){void 0===i&&(i=!0),"string"==typeof t&&(t=this._delimiters.length?t.split(new RegExp("["+this._delimiters.join("")+"]")):[t]);var a=this;return e.each(t,(function(e,t){a.createToken(t,i)})),this.$element.get(0)}},getTokenData:function(t){var n=t.map(().get();return 1==n.length&&(n=n[0]),n},getTokens:getTokensList:function(t,n,i){var a=(t=t||this._firstDelimiter)+((n=null!=n?n:this.options.beautify)&&" "!==t?" ":"");return e.map(this.getTokens(i),(function(e){return e.value})).join(a)},getInput:function(){return this.$input.val()},setInput:function(e){this.$input.hasClass("tt-input")?this.$input.typeahead("val",e):this.$input.val(e)},listen:function(){var n=this;this.$element.on("change",e.proxy(this.change,this)),this.$wrapper.on("mousedown",e.proxy(this.focusInput,this)),this.$input.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("paste",e.proxy(this.paste,this)).on("keydown",e.proxy(this.keydown,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.$copyHelper.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keydown",e.proxy(this.keydown,this)).on("keyup",e.proxy(this.keyup,this)),this.$input.on("keypress",e.proxy(this.update,this)).on("keyup",e.proxy(this.update,this)),this.$input.on("autocompletecreate",().on("autocompleteselect",().on("typeahead:selected typeahead:autocompleted",(),e(t).on("resize",e.proxy(this.update,this))},keydown:function(t){(this.focused){var a=this;switch(t.keyCode){case 8:if(!this.$input.is(document.activeElement))break;this.lastInputValue=this.$input.val();break;case 37:n("rtl"===this.textDirection?"next":"prev");break;case 38:i("prev");break;case 39:n("rtl"===this.textDirection?"prev":"next");break;case 40:i("next");break;case 65:if(this.$input.val().length>0||!t.ctrlKey&&!t.metaKey)break;this.activateAll(),t.preventDefault();break;case 9:case 13:if(this.$input.data("ui-autocomplete")&&this.$input.data("ui-autocomplete").menu.element.find("li:has(a.ui-state-focus), li.ui-state-focus").length)break;if(this.$input.hasClass("tt-input")&&this.$wrapper.find(".tt-cursor").length)break;if(this.$input.hasClass("tt-input")&&this.$wrapper.find(".tt-hint").val()&&this.$wrapper.find(".tt-hint").val().length)return this.$wrapper.find(".tt-input").val(this.$wrapper.find(".tt-hint").val()),this.createTokensFromInput(t,this.$input.data("edit"));if(this.$input.is(document.activeElement)&&this.$input.val().length||this.$input.data("edit"))return this.createTokensFromInput(t,this.$input.data("edit"));if(13===t.keyCode){if(!this.$copyHelper.is(document.activeElement)||1!==this.$wrapper.find(".token.active").length)break;if(!a.options.allowEditing)break;this.edit(this.$wrapper.find(".token.active"))}}this.lastKeyDown=t.keyCode}},keypress:function(t){if(-1!==e.inArray(t.which,this._triggerKeys)&&this.$input.is(document.activeElement))return this.$input.val()&&this.createTokensFromInput(t),!1},keyup:focus:function(){this.focused=!0,this.$wrapper.addClass("focus"),this.$input.is(document.activeElement)&&(this.$wrapper.find(".active").removeClass("active"),this.$firstActiveToken=null,this.options.showAutocompleteOnFocus&&this.search())},blur:paste:function(e){var t=this;t.options.allowPasting&&setTimeout((function(){t.createTokensFromInput(e)}),1)},change:createTokensFromInput:function(e,t){if(!(this.$input.val().length<this.options.minLength)){var n=this.getTokensList();return this.setTokens(this.$input.val(),!0),n==this.getTokensList()&&this.$input.val().length?!1:(this.setInput(""),this.$input.data("edit")&&this.unedit(t),!1)}},next:function(e){if(e){var t=this.$wrapper.find(".active:first");if(!(!t||!this.$firstActiveToken)&&t.index()<this.$firstActiveToken.index())return this.deactivate(t)}var n=this.$wrapper.find(".active:last").nextAll(".token:first");n.length?this.activate(n,e):this.$input.focus()},prev:function(e){if(e){var t=this.$wrapper.find(".active:last");if(!(!t||!this.$firstActiveToken)&&t.index()>this.$firstActiveToken.index())return this.deactivate(t)}var n=this.$wrapper.find(".active:first").prevAll(".token:first");n.length||(n=this.$wrapper.find(".token:first")),n.length||e?this.activate(n,e):this.$input.focus()},activate:function(t,n,i,a){if(t){if(void 0===a)a=!0;if(i)n=!0;if(this.$copyHelper.focus(),n||(this.$wrapper.find(".active").removeClass("active"),a?this.$firstActiveToken=t:delete this.$firstActiveToken),i&&this.$firstActiveToken){var s=this.$firstActiveToken.index()-2,r=t.index()-2,o=this;this.$wrapper.find(".token").slice(Math.min(s,r)+1,Math.max(s,r)).each(()}t.addClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select()}},activateAll:deactivate:function(e){e&&(e.removeClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select())},toggle:edit:function(t){if(t){var n=t.data("attrs"),i={attrs:n,relatedTarget:t.get(0)},a=e.Event("tokenfield:edittoken",i);if(this.$element.trigger(a),!a.isDefaultPrevented()){t.find(".token-label").text(n.value);var s=t.outerWidth(),r=this.$input.hasClass("tt-input")?this.$input.parent():this.$input;t.replaceWith(r),this.preventCreateTokens=!0,this.$input.val(n.value).select().data("edit",!0).width(s),this.update(),this.$element.trigger(e.Event("tokenfield:editedtoken",i))}}},unedit:function(e){if((this.$input.hasClass("tt-input")?this.$input.parent():this.$input).appendTo(this.$wrapper),this.$input.data("edit",!1),this.$mirror.text(""),this.update(),e){var t=this;setTimeout((function(){t.$input.focus()}),1)}},remove:function(t,n){if(!(this.$input.is(document.activeElement)||this._disabled||this._readonly)){var i="click"===t.type?e(t.target).closest(".token"):this.$wrapper.find(".token.active");if("click"!==t.type){if(!n)n="prev";if(this[n](),"prev"===n)var a=0===i.first().prevAll(".token:first").length}var s={attrs:this.getTokenData(i),relatedTarget:i.get(0)},r=e.Event("tokenfield:removetoken",s);if(this.$element.trigger(r),!r.isDefaultPrevented()){var o=e.Event("tokenfield:removedtoken",s),d=e.Event("change",{initiator:"tokenfield"});i.remove(),this.$element.val(this.getTokensList()).trigger(o).trigger(d),this.$wrapper.find(".token").length&&"click"!==t.type&&!a||this.$input.focus(),this.$input.css("width",this.options.minWidth+"px"),this.update(),t.preventDefault(),t.stopPropagation()}}},update:function(){var e=this.$input.val(),t=parseInt(this.$input.css("padding-left"),10)+parseInt(this.$input.css("padding-right"),10);if(this.$input.data("edit")){if(e||(e=this.$input.prop("placeholder")),e===this.$mirror.text())return;this.$mirror.text(e);var n=this.$mirror.width()+10;if(n>this.$wrapper.width())return this.$input.width(this.$wrapper.width());this.$input.width(n)}else{this.$input.width(this.options.minWidth);var i="rtl"===this.textDirection?this.$input.offset().left+this.$input.outerWidth()-this.$wrapper.offset().left-parseInt(this.$wrapper.css("padding-left"),10)-t-1:this.$wrapper.offset().left+this.$wrapper.width()+parseInt(this.$wrapper.css("padding-left"),10)-this.$input.offset().left-t;isNaN(i)?this.$input.width("100%"):this.$input.width(i)}},focusInput:search:disable:function(){this.setProperty("disabled",!0)},enable:function(){this.setProperty("disabled",!1)},readonly:function(){this.setProperty("readonly",!0)},writeable:setProperty:destroy:function(){this.$element.val(this.getTokensList()),this.$element.css(this.$element.data("original-styles")),this.$element.prop("tabindex",this.$element.data("original-tabindex"));var t=e('label[for="'+this.$input.prop("id")+'"]');return t.length&&t.prop("for",this.$element.prop("id")),this.$element.insertBefore(this.$wrapper),this.$element.removeData("original-styles").removeData("original-tabindex").removeData("bs.tokenfield"),this.$wrapper.remove(),this.$mirror.remove(),this.$element}};var i=e.fn.tokenfield;return e.fn.tokenfield=function(t,i){var a,s=[];Array.prototype.push.apply(s,arguments);var r=this.each((function(){var r=e(this),o=r.data("bs.tokenfield"),d="object"==typeof t&&t;"string"==typeof t&&o&&o[t]?(s.shift(),a=o[t].apply(o,s)):o||"string"==typeof t||i||(r.data("bs.tokenfield",o=new n(this,d)),r.trigger("tokenfield:initialize"))}));return void 0!==a?a:r},e.fn.tokenfield.defaults={minWidth:60,minLength:0,html:!0,allowEditing:!0,allowPasting:!0,limit:0,autocomplete:{},typeahead:{},showAutocompleteOnFocus:!1,createTokensOnBlur:!1,delimiter:",",beautify:!0,inputType:"text"},e.fn.tokenfield.Constructor=n,e.fn.tokenfield.noConflict=function(){return e.fn.tokenfield=i,this},n})),this,(function(e){var t=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){function i(e,t){return n(t,e)}e.each(t,i)},map:e.map,filter:e.grep,every:function(t,n){var i=!0;return t?(e.each(t,(function(e,a){if(!(i=n.call(null,a,e,t)))return!1})),!!i):i},some:function(t,n){var i=!1;return t?(e.each(t,(function(e,a){if(i=n.call(null,a,e,t))return!1})),!!i):i},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){function n(){return String(t)}return e.isFunction(t)?t:n},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i,a;return function(){var s,r,o=this,d=arguments;return s=function(){i=null,n||(a=e.apply(o,d))},r=n&&!i,clearTimeout(i),i=setTimeout(s,t),r&&(a=e.apply(o,d)),a}},throttle:function(e,t){var n,i,a,s,r,o;return r=0,o=function(){r=new Date,a=null,s=e.apply(n,i)},function(){var d=new Date,u=t-(d-r);return n=this,i=arguments,u<=0?(clearTimeout(a),a=null,r=d,s=e.apply(n,i)):a||(a=setTimeout(o,u)),s}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),n="0.11.1",i=),a=),s=function(){"use strict";ction s(t){return e.parseJSON(t)}ar o;try{(o=window.localStorage).setItem("~~~","!"),o.removeItem("~~~")}catch(e){o=null}return t.mixin(n.prototype,{_prefix:_ttlKey:_noop:_safeSet:get:set:remove:clear:isExpired:),n}(),r=function(){"use strict";ar i=0,s={},r=6,o=new a(10);return n.setMaxPendingRequests=n.resetCache=function(){o.reset()},t.mixin(n.prototype,{_fingerprint:_get:get:cancel:function(){this.cancelled=!0}}),n}(),o=window.SearchIndex=function(){"use strict";="c",d="i";return t.mixin(n.prototype,{bootstrap:add:get:search:all:reset:serialize:),n}(),d=),u=),l=function(){"use strict";n (),c=function(){"use strict";ar a;return a=window&&window.Bloodhound,n.noConflict=n.tokenizers=i,t.mixin(n.prototype,{__ttAdapter:_loadPrefetch:_initialize:initialize:add:get:search:all:function(){return this.index.all()},clear:clearPrefetchCache:clearRemoteCache:ttAdapter:function(){return this.__ttAdapter()}}),n}();return c})),0,(function(e){var t=function(){"use strict";return{isMsie:isBlankString:escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:isElement:isJQuery:toStr:bind:e.proxy,each:map:e.map,filter:e.grep,every:some:mixin:e.extend,identity:function(e){return e},clone:getIdGenerator:templatify:defer:debounce:throttle:stringify:noop:function(){}}}(),n=function(){"use strict";s={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return e}(),i=function(){"use strict";ar i,a;return i="typeahead:",a={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},t.mixin(n.prototype,{_trigger:before:trigger:),n}(),a=function(){"use strict";unction t(t,n,i){return e.call(this,"async",t,n,i)}/\s+/,u=r();return{onSync:n,onAsync:t,off:i,trigger:a}}(),s=function(e){"use strict";ar i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return (window.document),r=function(){"use strict";o;return o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=t.mixin(n.prototype,a,{_onBlur:_onFocus:_onKeydown:_onInput:_managePreventDefault:_shouldTrigger:_checkLanguageDirection:_setQuery:bind:focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:setQuery:hasQueryChangedSinceLastFocus:getInputValue:function(){return this.$input.val()},setInputValue:resetInputValue:function(){this.setInputValue(this.query)},getHint:setHint:clearHint:clearHintIfInvalid:hasFocus:function(){return this.$input.is(":focus")},hasOverflow:isCursorAtEnd:destroy:),n}(),o=function(){"use strict";function n(n,a){(n=n||{}).templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||e.error("missing source"),n.node||e.error("missing node"),n.name&&!o(n.name)&&e.error("invalid dataset name: "+n.name),a.mixin(this),this.highlight=!!n.highlight,this.name=n.name||u(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=r(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=t.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=e(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)} d,u;return d={val:"tt-selectable-display",obj:"tt-selectable-object"},u=t.getIdGenerator(),n.extractData=t.mixin(n.prototype,a,{_overwrite:_append:_renderSuggestions:_appendSuggestions:_renderPending:function(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:_empty:_getSuggestionsFragment:_getFooter:function(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:_resetLastSuggestion:_injectQuery:update:cancel:e.noop,clear:isEmpty:destroy:),n}(),d=function(){"use strict";function n(n,i){ar s=this;(n=n||{}).node||e.error("node is required"),i.mixin(this),this.$node=e(n.node),this.query=null,this.datasets=t.map(n.datasets,a),s.$node.prepend('<a class="tt-ignore" rel="tooltip" title="Tip: A comma can also ignore" onclick="$(\'.tokenfield .token-input\').blur(); $(\'.tokenfield .token-input\').focus(); return true;">&times;</a>')}return t.mixin(n.prototype,a,{_onSelectableClick:_onRendered:_onCleared:_propagate:_allDatasetsEmpty:_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:_ensureVisible:bind:isOpen:open:close:setLanguageDirection:selectableRelativeToCursor:setCursor:getSelectableData:getActiveSelectable:getTopSelectable:update:empty:destroy:),n}(),u=),l=);!function(){"use strict";m,g;p=e.fn.typeahead,m={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},g={initialize:function(a,c){ar p;return c=t.isArray(c)?c:[].slice.call(arguments,1),p=n((a=a||{}).classNames),this.each(f)},isEnabled:function(){var e;return a(this.first(),(function(t){e=t.isEnabled()})),e},enable:function(){return a(this,(function(e){e.enable()})),this},disable:function(){return a(this,(function(e){e.disable()})),this},isActive:function(){var e;return a(this.first(),(function(t){e=t.isActive()})),e},activate:function(){return a(this,(function(e){e.activate()})),this},deactivate:function(){return a(this,(function(e){e.deactivate()})),this},isOpen:open:function(){return a(this,(function(e){e.open()})),this},close:select:function(t){var n=!1,i=e(t);return a(this.first(),(function(e){n=e.select(i)})),n},autocomplete:moveCursor:val:destroy:,e.fn.typeahead=e.fn.typeahead.noConflict=function(){return e.fn.typeahead=p,this}}()})),function(){var e;(e=function(){eturn e.prototype.add_node=e.prototype.add_group=function(e){var t,n,i,a,s,r;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,children:0,disabled:e.disabled}),r=[],i=0,a=(s=e.childNodes).length;a>i;i++)n=s[i],r.push(this.add_option(n,t,e.disabled));return r},e.prototype.add_option=function(e,t,n){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:!0===n?n:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e}()).select_to_array=function(t){var n,i,a,s,r;for(i=new e,a=0,s=(r=t.childNodes).length;s>a;a++)n=r[a],i.add_node(n);return i.parsed},this.SelectParser=e}.call(this),function(){var e,t;t=this,e=function(){eturn e.prototype.set_default_values=e.prototype.set_default_text=e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=e.prototype.input_focus=e.prototype.input_blur=e.prototype.result_add_option=e.prototype.results_update_field=e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=e.prototype.choices_count=function(){var e,t,n;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,e=0,t=(n=this.form_field.options).length;t>e;e++)n[e].selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=e.prototype.keyup_checker=e.prototype.generate_field_id=e.prototype.generate_random_char=e.prototype.container_width=e.browser_is_supported=e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),t.AbstractChosen=e}.call(this),function(){var e,t,n,i={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var a in t)i.call(t,a)&&(e[a]=t[a]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=this,(e=jQuery).fn.extend({chosen:function(n){return AbstractChosen.browser_is_supported()?this.each((function(){var i;return(i=e(this)).hasClass("chzn-done")?void 0:i.data("chosen",new t(this,n))})):this}}),t=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.setup=i.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},i.prototype.set_up_html=function(){var t,n;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",(t=["chzn-container"]).push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chzn-rtl"),n={id:this.container_id,class:t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.container=e("<div />",n),this.is_multiple?this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;"/></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>'):this.container.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" placeholder="Search..."/></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chzn-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},i.prototype.register_observers=i.prototype.search_field_disabled=i.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chzn-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).click(this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=i.prototype.search_results_mousewheel=function(e){var t,n,i;return null!=(t=-(null!=(n=e.originalEvent)?n.wheelDelta:void 0)||(null!=(i=e.originialEvent)?i.detail:void 0))?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},i.prototype.blur_test=i.prototype.close_field=i.prototype.activate_field=i.prototype.test_active_click=i.prototype.results_build=function(){var e,t,i,a,s;for(this.parsing=!0,this.selected_option_count=null,this.results_data=n.SelectParser.select_to_array(this.form_field),
this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),e="",i=0,a=(s=this.results_data).length;a>i;i++)(t=s[i]).group?e+=this.result_add_group(t):t.empty||(e+=this.result_add_option(t),t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(t.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(e),this.parsing=!1},i.prototype.result_add_group=i.prototype.result_do_highlight=function(e){var t,n,i,a,s;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),a=(i=parseInt(this.search_results.css("maxHeight"),10))+(s=this.search_results.scrollTop()),(t=(n=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())>=a)return this.search_results.scrollTop(t-i>0?t-i:0);if(s>n)return this.search_results.scrollTop(n)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=i.prototype.results_hide=i.prototype.set_tab_index=function(){var e;return this.form_field_jq.attr("tabindex")?(e=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",e)):void 0},i.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.click(():void 0},i.prototype.show_search_field_default=i.prototype.search_results_mouseup=function(t){var n;return(n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first()).length?(this.result_highlight=n,this.result_select(t),this.search_field.focus()):void 0},i.prototype.search_results_mouseover=function(t){var n;return(n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first())?this.result_do_highlight(n):void 0},i.prototype.search_results_mouseout=i.prototype.choice_build=i.prototype.choice_destroy_link_click=i.prototype.choice_destroy=function(e){return this.result_deselect(e.attr("rel"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},i.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_option_count=null,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},i.prototype.results_reset_cleanup=i.prototype.result_select=function(e){var t,n,i,a;return this.result_highlight?(n=(t=this.result_highlight).attr("id"),this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=t,this.selected_item.removeClass("chzn-default")),t.addClass("result-selected"),a=n.substr(n.lastIndexOf("_")+1),(i=this.results_data[a]).selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):(this.selected_item.find("span").first().text(i.text),this.allow_single_deselect&&this.single_deselect_control_build()),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},i.prototype.result_activate=i.prototype.result_deactivate=function(e){return e.removeClass("active-result result-selected disabled-result")},i.prototype.result_deselect=i.prototype.single_deselect_control_build=i.prototype.winnow_results=function(){var t,n,i,a,s,r,o,d,u,l,c,f,h,p,m,g,v,b;for(this.no_results_clear(),u=0,l=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html(),r=this.search_contains?"":"^",s=new RegExp(r+l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),h=new RegExp(l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),p=0,g=(b=this.results_data).length;g>p;p++)if(!(n=b[p]).empty)if(n.group)e("#"+n.dom_id).css("display","none");else{if(t=!1,d=n.dom_id,o=e("#"+d),s.test(n.html))t=!0,u+=1;else if(this.enable_split_word_search&&(n.html.indexOf(" ")>=0||0===n.html.indexOf("["))&&(a=n.html.replace(/\[|\]/g,"").split(" ")).length)for(m=0,v=a.length;v>m;m++)i=a[m],s.test(i)&&(t=!0,u+=1);t?(l.length?(c=n.html.search(h),f=(f=n.html.substr(0,c+l.length)+"</em>"+n.html.substr(c+l.length)).substr(0,c)+"<em>"+f.substr(c)):f=n.html,o.html(f),this.result_activate(o,n),null!=n.group_array_index&&e("#"+this.results_data[n.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&d===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(o))}return 1>u&&l.length?this.no_results(l):this.winnow_results_set_highlight()},i.prototype.winnow_results_set_highlight=function(){var e,t;return this.result_highlight||null==(e=(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?t.first():this.search_results.find(".active-result").first())?void 0:this.result_do_highlight(e)},i.prototype.no_results=i.prototype.no_results_clear=i.prototype.keydown_arrow=i.prototype.keyup_arrow=i.prototype.keydown_backstroke=i.prototype.clear_backstroke=i.prototype.keydown_checker=i.prototype.search_field_scale=function(){var t,n,i,a,s,r,o;if(this.is_multiple){for(0,s=0,i="position:absolute; left: -1000px; top: -1000px; display:none;",r=0,o=(a=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;o>r;r++)i+=(n=a[r])+":"+this.search_field.css(n)+";";return(t=e("<div />",{style:i})).text(this.search_field.val()),e("body").append(t),s=t.width()+25,t.remove(),this.f_width||(this.f_width=this.container.outerWidth()),s>this.f_width-10&&(s=this.f_width-10),this.search_field.css({width:s+"px"})}},i.prototype.generate_random_id=i}(AbstractChosen),n.Chosen=t}.call(this),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=e()}}((function(){var e;return function e(t,n,i){function a(r,o){if(!n[r]){if(!t[r]){var d="function"==typeof require&&require;if(!o&&d)return d(r,!0);if(s)return s(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[r]={exports:{}};t[r][0].call(l.exports,(function(e){var n=t[r][1][e];return a(n||e)}),l,l.exports,e,t,n,i)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(e,t){ar i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}t.exports=n},{}],2:[{"./closest":1}],3:[{}],4:[{"./is":3,delegate:2}],5:[{}],6:[{}],7:[function(t,n,i){!this,(function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(t),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){eturn r(e,[{key:"resolveOptions",value:,{key:"initSelection",value:,{key:"selectFake",value:,{key:"removeFake",value:,{key:"selectTarget",value:,{key:"copyText",value:,{key:"handleResult",value:,{key:"clearSelection",value:,{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:get:function(){return this._action}},{key:"target",set:get:function(){return this._target}}]),e}();e.exports=o}))},{select:5}],8:[function(t,n,i){!this,(function(e,t,n,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}u=a(t),l=a(n),c=a(i),f=),h=function(e){eturn o(t,e),f(t,[{key:"resolveOptions",value:,{key:"listenClick",value:,{key:"onClick",value:,{key:"defaultAction",value:function(e){return d("action",e)}},{key:"defaultTarget",value:,{key:"defaultText",value:,{key:"destroy",value:],[{key:"isSupported",value:]),t}(l.default);e.exports=h}))},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)})),function(e,t,n){or(var a="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s])}({1:[{"./color":2}],2:[function(e,t){var n=e("color-convert"),i=e("color-string");t.exports=function(e){return new a(e)};var a=function(e){if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof e)(t=i.getRgba(e))?this.setValues("rgb",t):(t=i.getHsla(e))&&this.setValues("hsl",t);else if("object"==typeof e){var t;void 0!==(t=e).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):(void 0!==t.c||void 0!==t.cyan)&&this.setValues("cmyk",t)}};a.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},cmyk:rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){return this.values.rgb.concat([this.values.alpha])},hslaArray:alpha:red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:hexString:rgbString:function(){return i.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return i.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return i.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return i.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return i.hslaString(this.values.hsl,this.values.alpha)},keyword:luminosity:contrast:dark:function(){var e=this.values.rgb;return 128>(299*e[0]+587*e[1]+114*e[2])/1e3},light:negate:lighten:function(e){return this.values.hsl[2]+=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},darken:function(e){return this.values.hsl[2]-=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},saturate:desaturate:greyscale:clearer:opaquer:rotate:function(e){var t=this.values.hsl[0];return t=0>(t=(t+e)%360)?360+t:t,this.values.hsl[0]=t,this.setValues("hsl",this.values.hsl),this},mix:function(e,t){for(var n=2*(t=1-(null==t?.5:t))-1,i=this.alpha()-e.alpha(),a=((-1==n*i?n:(n+i)/(1+n*i))+1)/2,s=1-a,r=this.rgbArray(),o=e.rgbArray(),d=0;d<r.length;d++)r[d]=r[d]*a+o[d]*s;this.setValues("rgb",r);var u=this.alpha()*t+e.alpha()*(1-t);return this.setValues("alpha",u),this},toJSON:function(){return this.rgb()}},a.prototype.getValues=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=this.values[e][n];return 1!=this.values.alpha&&(t.a=this.values.alpha),t},a.prototype.setValues=function(e,t){var i={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],cmyk:["cyan","magenta","yellow","black"]},a={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],cmyk:[100,100,100,100]},s=1;if("alpha"==e)s=t;else if(t.length)this.values[e]=t.slice(0,e.length),s=t[e.length];else if(void 0!==t[e[0]]){for(var r=0;r<e.length;r++)this.values[e][r]=t[e[r]];s=t.a}else if(void 0!==t[i[e][0]]){var o=i[e];for(r=0;r<e.length;r++)this.values[e][r]=t[o[r]];s=t.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==s?s:this.values.alpha)),"alpha"!=e){for(var d in i){d!=e&&(this.values[d]=n[e][d](this.values[e]));for(r=0;r<d.length;r++){var u=Math.max(0,Math.min(a[d][r],this.values[d][r]));this.values[d][r]=Math.round(u)}}return!0}},a.prototype.setSpace=a.prototype.setChannel=function(e,t,n){return void 0===n?this.values[e][t]:(this.values[e][t]=n,this.setValues(e,this.values[e]),this)}},{"color-convert":3,"color-string":4}],3:[function(e,t,n){var i=e("./conversions");n={};for(var a in t.exports=n,i){n[a+"Raw"]=a);var s=/(\w+)2(\w+)/.exec(a),r=s[1],o=s[2];n[r]=n[r]||{},n[r][o]=n[a]=a)}},{"./conversions":5}],5:[function(e,t){function n(e){var t,n,i=e[0]/255,a=e[1]/255,s=e[2]/255,r=Math.min(i,a,s),o=Math.max(i,a,s),d=o-r;return o==r?t=0:i==o?t=(a-s)/d:a==o?t=2+(s-i)/d:s==o&&(t=4+(i-a)/d),0>(t=Math.min(60*t,360))&&(t+=360),n=(r+o)/2,[t,100*(o==r?0:.5>=n?d/(o+r):d/(2-o-r)),100*n]}function i(e){var t,n,i=e[0],a=e[1],s=e[2],r=Math.min(i,a,s),o=Math.max(i,a,s),d=o-r;return n=0==o?0:d/o*1e3/10,o==r?t=0:i==o?t=(a-s)/d:a==o?t=2+(s-i)/d:s==o&&(t=4+(i-a)/d),0>(t=Math.min(60*t,360))&&(t+=360),[t,n,o/255*1e3/10]}function a(e){var t,n=e[0]/255,i=e[1]/255,a=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-i,1-a)))/(1-t)),100*((1-i-t)/(1-t)),100*((1-a-t)/(1-t)),100*t]}ction d(e){var t,n,i,a,s,r=e[0]/360,o=e[1]/100,d=e[2]/100;if(0==o)return[s=255*d,s,s];t=2*d-(n=.5>d?d*(1+o):d+o-d*o),a=[0,0,0];for(var u=0;3>u;u++)0>(i=r+1/3*-(u-1))&&i++,i>1&&i--,s=1>6*i?t+6*(n-t)*i:1>2*i?n:2>3*i?t+6*(n-t)*(2/3-i):t,a[u]=255*s;return a}function u(e){var t=e[0],n=e[1]/100,i=e[2]/100;return 2*(n*=1>=(i*=2)?i:2-i)/(i+n),[t,100*n,100*((i+n)/2)]}function l(e){return a(d(e))}function c(e){return s(d(e))}unction h(e){var t,n,i=e[0],a=e[1]/100,s=e[2]/100;return t=a*s,[i,100*(t/=1>=(n=(2-a)*s)?n:2-n),100*(n/=2)]}function p(e){return a(f(e))}function m(e){return s(f(e))}unction v(e){return n(g(e))}function b(e){return i(g(e))}function y(e){return s(g(e))}function w(e){var t,n,i,a=e[0]/100,s=e[1]/100,r=e[2]/100;return n=-.9689*a+1.8758*s+.0415*r,i=.0557*a+-.204*s+1.057*r,[255*(t=0>(t=(t=3.2406*a+-1.5372*s+-.4986*r)>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92)?0:t),255*(n=0>(n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92)?0:n),255*(i=0>(i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92)?0:i)]}function _(e){return $[e]}function x(e){return n(_(e))}function k(e){return i(_(e))}.exports={rgb2hsl:n,rgb2hsv:i,rgb2cmyk:a,rgb2keyword:s,rgb2xyz:r,rgb2lab:o,hsl2rgb:d,hsl2hsv:u,hsl2cmyk:l,hsl2keyword:c,hsv2rgb:f,hsv2hsl:h,hsv2cmyk:p,hsv2keyword:m,cmyk2rgb:g,cmyk2hsl:v,cmyk2hsv:b,cmyk2keyword:y,keyword2rgb:_,keyword2hsl:x,keyword2hsv:k,keyword2cmyk:C,xyz2rgb:w};var $={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],
khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},T={};for(var S in $)T[JSON.stringify($[S])]=S},{}],4:[function(e,t){function n(e){if(e){var t=/^#([a-fA-F0-9]{3})$/,n=/^#([a-fA-F0-9]{6})$/,i=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([\d\.]+)\s*)?\)$/,a=/^rgba?\(\s*([\d\.]+)\%\s*,\s*([\d\.]+)\%\s*,\s*([\d\.]+)\%\s*(?:,\s*([\d\.]+)\s*)?\)$/,s=/(\D+)/,r=[0,0,0],o=1,d=e.match(t);if(d){d=d[1];for(var u=0;u<r.length;u++)r[u]=parseInt(d[u]+d[u],16)}else if(d=e.match(n)){d=d[1];for(u=0;u<r.length;u++)r[u]=parseInt(d.slice(2*u,2*u+2),16)}else if(d=e.match(i)){for(u=0;u<r.length;u++)r[u]=parseInt(d[u+1]);o=parseFloat(d[4])}else if(d=e.match(a)){for(u=0;u<r.length;u++)r[u]=Math.round(2.55*parseFloat(d[u+1]));o=parseFloat(d[4])}else if(d=e.match(s)){if("transparent"==d[1])return[0,0,0,0];if(!(r=v.keyword2rgb(d[1])))return}for(u=0;u<r.length;u++)r[u]=m(r[u],0,255);return o=o||0==o?m(o,0,1):1,r.push(o),r}}function i(e){if(e){var t=/^hsla?\(\s*(\d+)\s*,\s*([\d\.]+)%\s*,\s*([\d\.]+)%\s*(?:,\s*([\d\.]+)\s*)?\)/,n=e.match(t);if(n)return[m(parseInt(n[1]),0,360),m(parseFloat(n[2]),0,100),m(parseFloat(n[3]),0,100),m(parseFloat(n[4])||1,0,1)]}}function a(e){return n(e).slice(0,3)}unction r(e){var t=n(e);return t||(t=i(e))?t[3]:void 0}unction d(e,t){return 1>t||e[3]&&e[3]<1?u(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}unction l(e,t){return 1>t||e[3]&&e[3]<1?c(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"}nction h(e,t){return"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+(t||e[3]||1)+")"} v=e("color-convert");t.exports={getRgba:n,getHsla:i,getRgb:a,getHsl:s,getAlpha:r,hexString:o,rgbString:d,rgbaString:u,percentString:l,percentaString:c,hslString:f,hslaString:h,keyword:p}},{"color-convert":3}]},{},[1]),jQuery),function(e,t){var n=0,i=Array.prototype.slice,a=e.cleanData;e.cleanData=e.widget=function(n,i,a){var s,r,o,d,u={},l=n.split(".")[0];n=n.split(".")[1],s=l+"-"+n,a||(a=i,i=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[l]=e[l]||{},r=e[l][n],o=e[l][n]=e.extend(o,r,{version:a.version,_proto:e.extend({},a),_childConstructors:[]}),(d=new i).options=e.widget.extend({},d.options),e.each(a,(),o.prototype=e.widget.extend(d,{widgetEventPrefix:r?d.widgetEventPrefix:n},u,{constructor:o,namespace:l,widgetName:n,widgetFullName:s}),r?(e.each(r._childConstructors,(function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,o,n._proto)})),delete r._childConstructors):i._childConstructors.push(o),e.widget.bridge(n,o)},e.widget.extend=e.widget.bridge=e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:_destroy:e.noop,widget:function(){return this.element},option:_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:enable:function(){return this._setOption("disabled",!1)},disable:_on:_off:_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:_trigger:function(t,n,i){var a,s,r=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(a in s)a in n||(n[a]=s[a]);return this.element.trigger(n,i),!(e.isFunction(r)&&!1===r.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},()}(jQuery),jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:_destroy:_mouseCapture:_mouseStart:_mouseDrag:_mouseStop:_mouseUp:cancel:_getHandle:_createHelper:_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:_convertPositionTo:_generatePosition:_clear:_trigger:plugins:{},_uiHash:),e.ui.plugin.add("draggable","connectToSortable",{start:stop:drag:),e.ui.plugin.add("draggable","cursor",{start:stop:),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var i=e(n.helper),a=e(this).data("ui-draggable").options;i.css("opacity")&&(a._opacity=i.css("opacity")),i.css("opacity",a.opacity)},stop:function(t,n){var i=e(this).data("ui-draggable").options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:drag:),e.ui.plugin.add("draggable","snap",{start:drag:function(t,n){var i,a,s,r,o,d,u,l,c,f,h=e(this).data("ui-draggable"),p=h.options,m=p.snapTolerance,g=n.offset.left,v=g+h.helperProportions.width,b=n.offset.top,y=b+h.helperProportions.height;for(c=h.snapElements.length-1;c>=0;c--)d=(o=h.snapElements[c].left)+h.snapElements[c].width,l=(u=h.snapElements[c].top)+h.snapElements[c].height,o-m>v||g>d+m||u-m>y||b>l+m||!e.contains(h.snapElements[c].item.ownerDocument,h.snapElements[c].item)?(h.snapElements[c].snapping&&h.options.snap.release&&h.options.snap.release.call(h.element,t,e.extend(h._uiHash(),{snapItem:h.snapElements[c].item})),h.snapElements[c].snapping=!1):("inner"!==p.snapMode&&(i=m>=Math.abs(u-y),a=m>=Math.abs(l-b),s=m>=Math.abs(o-v),r=m>=Math.abs(d-g),i&&(n.position.top=h._convertPositionTo("relative",{top:u-h.helperProportions.height,left:0}).top-h.margins.top),a&&(n.position.top=h._convertPositionTo("relative",{top:l,left:0}).top-h.margins.top),s&&(n.position.left=h._convertPositionTo("relative",{top:0,left:o-h.helperProportions.width}).left-h.margins.left),r&&(n.position.left=h._convertPositionTo("relative",{top:0,left:d}).left-h.margins.left)),f=i||a||s||r,"outer"!==p.snapMode&&(i=m>=Math.abs(u-b),a=m>=Math.abs(l-y),s=m>=Math.abs(o-g),r=m>=Math.abs(d-v),i&&(n.position.top=h._convertPositionTo("relative",{top:u,left:0}).top-h.margins.top),a&&(n.position.top=h._convertPositionTo("relative",{top:l-h.helperProportions.height,left:0}).top-h.margins.top),s&&(n.position.left=h._convertPositionTo("relative",{top:0,left:o}).left-h.margins.left),r&&(n.position.left=h._convertPositionTo("relative",{top:0,left:d-h.helperProportions.width}).left-h.margins.left)),!h.snapElements[c].snapping&&(i||a||s||r||f)&&h.options.snap.snap&&h.options.snap.snap.call(h.element,t,e.extend(h._uiHash(),{snapItem:h.snapElements[c].item})),h.snapElements[c].snapping=i||a||s||r||f)}}),e.ui.plugin.add("draggable","stack",{start:),e.ui.plugin.add("draggable","zIndex",{start:stop:)}(jQuery),function(e){function t(e,t,n){return e>t&&t+n>e}e.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:_destroy:_setOption:_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:_drop:ui:),e.ui.intersect=function(e,n,i){if(!n.offset)return!1;var a,s=(e.positionAbs||e.position.absolute).left,r=s+e.helperProportions.width,o=(e.positionAbs||e.position.absolute).top,d=o+e.helperProportions.height,u=n.offset.left,l=u+n.proportions.width,c=n.offset.top,f=c+n.proportions.height;switch(i){case"fit":return s>=u&&l>=r&&o>=c&&f>=d;case"intersect":return s+e.helperProportions.width/2>u&&l>r-e.helperProportions.width/2&&o+e.helperProportions.height/2>c&&f>d-e.helperProportions.height/2;case"pointer":return a=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,t((e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,c,n.proportions.height)&&t(a,u,n.proportions.width);case"touch":return(o>=c&&f>=o||d>=c&&f>=d||c>o&&d>f)&&(s>=u&&l>=s||r>=u&&l>=r||u>s&&r>l);default:return!1}},e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:drop:dragStart:drag:dragStop:}(jQuery),function(e){widget("ui.resizable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,n,i,a,s=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;t.length>n;n++)i=e.trim(t[n]),(a=e("<div class='ui-resizable-handle "+("ui-resizable-"+i)+"'></div>")).css({zIndex:r.zIndex}),"se"===i&&a.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(a);this._renderAxis=this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover((),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(().mouseleave(()),this._mouseInit()},_destroy:_mouseCapture:_mouseStart:_mouseDrag:_mouseStop:_updateVirtualBoundaries:_updateCache:_updateRatio:_respectSize:_proportionallyResize:_renderProxy:_change:{e:w:n:s:se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:,_propagate:plugins:{},ui:),e.ui.plugin.add("resizable","animate",{stop:),e.ui.plugin.add("resizable","containment",{start:resize:stop:),e.ui.plugin.add("resizable","alsoResize",{start:resize:stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:resize:stop:),e.ui.plugin.add("resizable","grid",{resize:)}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:_destroy:_mouseStart:_mouseDrag:_mouseStop:)}(jQuery),function(e){widget("ui.sortable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:_destroy:_setOption:_mouseCapture:_mouseStart:_mouseDrag:function(t){var n,i,a,s,r=this.options,o=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-e(document).scrollTop()<r.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed)),t.pageX-e(document).scrollLeft()<r.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed))),!1!==o&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(a=(i=this.items[n]).item[0],(s=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&a!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==a&&!e.contains(this.placeholder[0],a)&&("semi-dynamic"!==this.options.type||!e.contains(this.element[0],a))){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:cancel:serialize:toArray:_intersectsWith:_intersectsWithPointer:_intersectsWithSides:_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:refresh:_connectWith:_getItemsAsjQuery:_removeCurrentsFromItems:_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,a,s,r,o,d,u,l=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(i=(a=e(f[n])).length-1;i>=0;i--)(s=e.data(a[i],this.widgetFullName))&&s!==this&&!s.options.disabled&&(c.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(n=c.length-1;n>=0;n--)for(r=c[n][1],i=0,u=(o=c[n][0]).length;u>i;i++)(d=e(o[i])).data(this.widgetName+"-item",r),l.push({item:d,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:_createPlaceholder:function(t){var n,i=(t=t||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:update:),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(i){var a,s,r,o,d,u,l,c,f,h,p=null,m=null;for(a=this.containers.length-1;a>=0;a--)if(!e.contains(this.currentItem[0],this.containers[a].element[0]))if(this._intersectsWith(this.containers[a].containerCache)){if(p&&e.contains(this.containers[a].element[0],p.element[0]))continue;p=this.containers[a],m=a}else this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",i,this._uiHash(this)),this.containers[a].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(r=1e4,o=null,d=(h=p.floating||n(this.currentItem))?"left":"top",u=h?"width":"height",l=this.positionAbs[d]+this.offset.click[d],s=this.items.length-1;s>=0;s--)e.contains(this.containers[m].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(!h||t(this.positionAbs.top+this.offset.click.top,this.items[s].top,this.items[s].height))&&(c=this.items[s].item.offset()[d],f=!1,Math.abs(c-l)>Math.abs(c+this.items[s][u]-l)&&(f=!0,c+=this.items[s][u]),r>Math.abs(c-l)&&(r=Math.abs(c-l),o=this.items[s],this.direction=f?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;o?this._rearrange(i,o,null,!0):this._rearrange(i,null,this.containers[m].element,!0),this._trigger("change",i,this._uiHash()),this.containers[m]._trigger("change",i,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:_adjustOffsetFromHelper:_getParentOffset:_getRelativeOffset:_cacheMargins:_cacheHelperProportions:_setContainment:_convertPositionTo:_generatePosition:_rearrange:_clear:_trigger:_uiHash:)}(jQuery),function(){"use strict";function e(e){function t(t,i){var s,m,g=t==window,v=i&&void 0!==i.message?i.message:void 0;if(!(i=e.extend({},e.blockUI.defaults,i||{})).ignoreIfBlocked||!e(t).data("blockUI.isBlocked")){if(i.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,i.overlayCSS||{}),s=e.extend({},e.blockUI.defaults.css,i.css||{}),i.onOverlayClick&&(i.overlayCSS.cursor="pointer"),m=e.extend({},e.blockUI.defaults.themedCSS,i.themedCSS||{}),v=void 0===v?i.message:v,g&&h&&n(window,{fadeOut:0}),v&&"string"!=typeof v&&(v.parentNode||v.jquery)){var b=v.jquery?v[0]:v,y={};e(t).data("blockUI.history",y),y.el=b,y.parent=b.parentNode,y.display=b.style.display,y.position=b.style.position,y.parent&&y.parent.removeChild(b)}e(t).data("blockUI.onUnblock",i.onUnblock);var w,_,x,k,C=i.baseZ;w=l||i.forceIframe?e('<iframe class="blockUI" style="z-index:'+C+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+i.iframeSrc+'"></iframe>'):e('<div class="blockUI" style="display:none"></div>'),_=i.theme?e('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+C+++';display:none"></div>'):e('<div class="blockUI blockOverlay" style="z-index:'+C+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),i.theme&&g?(k='<div class="blockUI '+i.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(C+10)+';display:none;position:fixed">',i.title&&(k+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(i.title||"&nbsp;")+"</div>"),k+='<div class="ui-widget-content ui-dialog-content"></div>',k+="</div>"):i.theme?(k='<div class="blockUI '+i.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(C+10)+';display:none;position:absolute">',i.title&&(k+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(i.title||"&nbsp;")+"</div>"),k+='<div class="ui-widget-content ui-dialog-content"></div>',k+="</div>"):k=g?'<div class="blockUI '+i.blockMsgClass+' blockPage" style="z-index:'+(C+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+i.blockMsgClass+' blockElement" style="z-index:'+(C+10)+';display:none;position:absolute"></div>',x=e(k),v&&(i.theme?(x.css(m),x.addClass("ui-widget-content")):x.css(s)),i.theme||_.css(i.overlayCSS),_.css("position",g?"fixed":"absolute"),(l||i.forceIframe)&&w.css("opacity",0);var $=[w,_,x],T=e(g?"body":t);e.each($,(),i.theme&&i.draggable&&e.fn.draggable&&x.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var S=f&&(!e.support.boxModel||e("object,embed",g?null:t).length>0);if(c||S){if(g&&i.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%"),(c||!e.support.boxModel)&&!g)var F=d(t,"borderTopWidth"),j=d(t,"borderLeftWidth"),D=F?"(0 - "+F+")":0,B=j?"(0 - "+j+")":0;e.each($,()}if(v&&(i.theme?x.find(".ui-widget-content").append(v):x.append(v),(v.jquery||v.nodeType)&&e(v).show()),(l||i.forceIframe)&&i.showOverlay&&w.show(),i.fadeIn){var E=i.onBlock?i.onBlock:u,I=i.showOverlay&&!v?E:u,A=v?E:u;i.showOverlay&&_._fadeIn(i.fadeIn,I),v&&x._fadeIn(i.fadeIn,A)}else i.showOverlay&&_.show(),v&&x.show(),i.onBlock&&i.onBlock.bind(x)();if(a(1,t,i),g?(h=x[0],p=e(i.focusableElements,h),i.focusInput&&setTimeout(r,20)):o(x[0],i.centerX,i.centerY),i.timeout){var P=setTimeout((,i.timeout);e(t).data("blockUI.timeout",P)}}}on d(t,n){return parseInt(e.css(t,n),10)||0}e.fn._fadeIn=e.fn.fadeIn;var u=e.noop||function(){},l=/MSIE/.test(navigator.userAgent),c=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),f=(document.documentMode,e.isFunction(document.createElement("div").style.setExpression));e.blockUI=function(e){t(window,e)},e.unblockUI=function(e){n(window,e)},e.growlUI=e.fn.block=e.fn.unblock=e.blockUI.version=2.7,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var h=null,p=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}((function(e){function t(e){return e}r a=/\+/g,s=e.cookie=function(a,r,o){if(void 0!==r){if("number"==typeof(o=e.extend({},s.defaults,o)).expires){var d=o.expires,u=o.expires=new Date;u.setDate(u.getDate()+d)}return r=s.json?JSON.stringify(r):String(r),document.cookie=[s.raw?a:encodeURIComponent(a),"=",s.raw?r:encodeURIComponent(r),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}for(var l=s.raw?t:n,c=document.cookie.split("; "),f=a?void 0:{},h=0,p=c.length;h<p;h++){var m=c[h].split("="),g=l(m.shift()),v=l(m.join("="));if(a&&a===g){f=i(v);break}a||(f[g]=i(v))}return f};s.defaults={},e.removeCookie=)),function(e){var t=e.fn.editable=function(n,i,a){if("function"!=typeof i&&(i=function(){}),"function"!=typeof a&&(a=function(){}),"string"==typeof n)var s=this,r=n,o="input";else{if("object"!=typeof n)throw'Argument Error - jQuery.editable("click", function(){ ~~ })';"string"==typeof(s=n.trigger||this)&&(s=e(s));r=n.action||"click",o=n.type||"input"}var d=this,u={start:function(){s.unbind("clickhold"===r?"mousedown":r),s!==d&&s.hide();var n=("textarea"===o?d.html().replace(/<br( \/)?>/gm,"\n").replace(/&gt;/gm,">").replace(/&lt;/gm,"<"):d.text()).replace(/^\s+/,"").replace(/\s+$/,""),l=e("textarea"===o?"<textarea>":"<input>");l.val(n).css("width","textarea"===o?"100%":d.width()+d.height()).css("font-size","100%").css("margin",0).attr("id","editable_"+1*new Date).addClass("editable"),"textarea"===o&&l.css("height",d.height());var c=function(){var e=l.val().replace(/^\s+/,"").replace(/\s+$/,""),i=t(e);"textarea"===o&&(i=i.replace(/[\r\n]/gm,"<br />")),d.html(i),a({value:e,target:d,old_value:n}),u.register(),s!==d&&s.show()};l.blur(c),"input"===o&&l.keydown((),
d.html(l),l.focusTextToEnd(),l.on("mousedown mouseup",(),i(d)},register:function(){if("clickhold"===r){var e=null;s.bind("mousedown",(function(t){e=setTimeout((function(){u.start(t)}),500)})),s.bind("mouseup mouseout",(function(){clearTimeout(e)}))}else s.bind(r,u.start)}};return u.register(),this}}(jQuery),jQuery.fn.focusTextToEnd=function(){this.focus();var e=this.val();return this.val("").val(e),this},function(e){"use strict";e.fn.hideseek=function(t){var n={list:".hideseek-data",nodata:"",attribute:"text",highlight:!1,ignore:"",headers:"",navigation:!1,ignore_accents:!1,hidden_mode:!1};t=e.extend(n,t);return this.each((function(){var n=e(this);n.opts=[],e.map(["list","nodata","attribute","highlight","ignore","headers","navigation","ignore_accents","hidden_mode"],(),n.opts.headers&&(n.opts.ignore+=n.opts.ignore?", "+n.opts.headers:n.opts.headers);var i=e(n.opts.list);n.opts.navigation&&n.attr("autocomplete","off"),n.opts.hidden_mode&&i.children().hide(),n.keyup((function(t){unction s(e){return a(e).prevAll(":visible:first")}f(38!=t.keyCode&&40!=t.keyCode&&13!=t.keyCode){var o=n.val().toLowerCase();i.children(n.opts.ignore.trim()?":not("+n.opts.ignore+")":"").removeClass("selected").each((function(){-1==("text"!=n.opts.attribute?e(this).attr(n.opts.attribute)||"":e(this).text()).toLowerCase().removeAccents(n.opts.ignore_accents).indexOf(o)||o===(!!n.opts.hidden_mode&&"")?(e(this).hide(),n.trigger("_after_each")):(n.opts.highlight?e(this).removeHighlight().highlight(o).show():e(this).show(),n.trigger("_after_each"))})),n.opts.nodata&&(i.find(".no-results").remove(),i.children(':not([style*="display: none"])').length||i.children().first().clone().removeHighlight().addClass("no-results").show().prependTo(n.opts.list).text(n.opts.nodata)),n.opts.headers&&e(n.opts.headers,i).each((),n.trigger("_after")}n.opts.navigation&&(38==t.keyCode?a(i).length?(s(i).addClass("selected"),a(i).last().removeClass("selected")):i.children(":visible").last().addClass("selected"):40==t.keyCode?a(i).length?(r(i).addClass("selected"),a(i).first().removeClass("selected")):i.children(":visible").first().addClass("selected"):13==t.keyCode&&(a(i).find("a").length?document.location=a(i).find("a").attr("href"):n.val(a(i).text())))}))}))},e(document).ready((function(){e('[data-toggle="hideseek"]').hideseek()}))}(jQuery),jQuery.fn.highlight=function(e){function t(e,n){var i=0;if(3==e.nodeType){var a=e.data.removeAccents(!0).toUpperCase().indexOf(n);if(a>=0){var s=document.createElement("mark");s.className="highlight";var r=e.splitText(a);r.splitText(n.length);var o=r.cloneNode(!0);s.appendChild(o),r.parentNode.replaceChild(s,r),i=1}}else if(1==e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var d=0;d<e.childNodes.length;++d)d+=t(e.childNodes[d],n);return i}return this.length&&e&&e.length?this.each(():this},jQuery.fn.removeHighlight=String.prototype.removeAccents=function(e){function t(t,n,i){var a=n.hash.slice(1),s=document.getElementById(a)||document.getElementsByName(a)[0];if(s){t&&t.preventDefault();var r=e(i.target);if(!(i.lock&&r.is(":animated")||i.onBefore&&!1===i.onBefore.call(i,t,s,r))){if(i.stop&&r.stop(!0),i.hash){var o=s.id==a?"id":"name",d=e("<a> </a>").attr(o,a).css({position:"absolute",top:e(window).scrollTop(),left:e(window).scrollLeft()});s[o]="",e("body").prepend(d),location=n.hash,d.remove(),s[o]=a}r.scrollTo(s,i).trigger("notify.serialScroll",[s])}}}var n=location.href.replace(/#.*/,""),i=e.localScroll=i.defaults={duration:1e3,axis:"y",event:"click",stop:!0,target:window,reset:!0},i.hash=function(n){if(location.hash){if((n=e.extend({},i.defaults,n)).hash=!1,n.reset){var a=n.duration;delete n.duration,e(n.target).scrollTo(0,n),n.duration=a}t(0,location,n)}},e.fn.localScroll=function(a){eturn(a=e.extend({},i.defaults,a)).lazy?this.bind(a.event,():this.find("a,area").filter(s).bind(a.event,().end().end()}}(jQuery),function(e){ar n=e.scrollTo=n.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},n.window=e.fn._scrollable=function(){return this.map((function(){var t=this;if(!(!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])))return t;var n=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==n.compatMode?n.body:n.documentElement}))},e.fn.scrollTo=function(i,a,s){return"object"==typeof a&&(s=a,a=0),"function"==typeof s&&(s={onAfter:s}),"max"==i&&(i=9e9),s=e.extend({},n.defaults,s),a=a||s.duration,s.queue=s.queue&&s.axis.length>1,s.queue&&(a/=2),s.offset=t(s.offset),s.over=t(s.over),this._scrollable().each((function(){f(null!=i){var o,d=this,u=e(d),l=i,c={},f=u.is("html,body");switch(typeof l){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(l)){l=t(l);break}if(!(l=e(l,this)).length)return;case"object":(l.is||l.style)&&(o=(l=e(l)).offset())}e.each(s.axis.split(""),(),r(s.onAfter)}})).end()},n.max=(jQuery),function(e){function t(e){return e.replace(/(:|\.)/g,"\\$1")}var n="1.4.13",i={},a={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2,preventDefault:!0},s=function(t){var n=[],i=t.dir&&"left"==t.dir?"scrollLeft":"scrollTop";return this.each((function(){if(this!=document&&this!=window){var t=e(this);t[i]()>0?n.push(this):(t[i](1),t[i]()>0&&n.push(this),t[i](0))}})),n.length||this.each((),"first"===t.el&&n.length>1&&(n=[n[0]]),n};e.fn.extend({scrollable:firstScrollable:smoothScroll:function(n,i){if("options"===(n=n||{}))return i?this.each(():this.first().data("ssOpts");var a=e.extend({},e.fn.smoothScroll.defaults,n),s=e.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",(function(n){var i=this,r=e(this),o=e.extend({},a,r.data("ssOpts")||{}),d=a.exclude,u=o.excludeWithin,l=0,c=0,f=!0,h={},p=location.hostname===i.hostname||!i.hostname,m=o.scrollTarget||(e.smoothScroll.filterPath(i.pathname)||s)===s,g=t(i.hash);if(o.scrollTarget||p&&m&&g){for(;f&&d.length>l;)r.is(t(d[l++]))&&(f=!1);for(;f&&u.length>c;)r.closest(u[c++]).length&&(f=!1)}else f=!1;f&&(o.preventDefault&&n.preventDefault(),e.extend(h,o,{scrollTarget:o.scrollTarget||g,link:i}),e.smoothScroll(h))})),this}}),e.smoothScroll=function(t,n){if("options"===t&&"object"==typeof n)return e.extend(i,n);var a,s,r,o,d=0,u="offset",l="scrollTop",c={},f={};"number"==typeof t?(a=e.extend({link:null},e.fn.smoothScroll.defaults,i),r=t):(a=e.extend({link:null},e.fn.smoothScroll.defaults,t||{},i)).scrollElement&&(u="position","static"==a.scrollElement.css("position")&&a.scrollElement.css("position","relative")),l="left"==a.direction?"scrollLeft":l,a.scrollElement?(s=a.scrollElement,/^(?:HTML|BODY)$/.test(s[0].nodeName)||(d=s[l]())):s=e("html, body").firstScrollable(a.direction),a.beforeScroll.call(s,a),r="number"==typeof t?t:n||e(a.scrollTarget)[u]()&&e(a.scrollTarget)[u]()[a.direction]||0,c[l]=r+d+a.offset,"auto"===(o=a.speed)&&(o=c[l]||s.scrollTop(),o/=a.autoCoefficent),f={duration:o,easing:a.easing,complete:,a.step&&(f.step=a.step),s.length?s.stop().animate(c,f):a.afterScroll.call(a.link,a)},e.smoothScroll.version=n,e.smoothScroll.filterPath=e.fn.smoothScroll.defaults=a}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}((function(e){e.extend(e.fn,{validate:valid:removeAttrs:rules:),e.extend(e.expr[":"],{blank:filled:unchecked:),e.validator=e.validator.format=e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:onfocusout:onkeyup:onclick:highlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(i):e(t).addClass(n).removeClass(i)},unhighlight:,setDefaults:messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:form:checkForm:element:showErrors:resetForm:numberOfInvalids:objectLength:hideErrors:function(){this.hideThese(this.toHide)},hideThese:valid:size:function(){return this.errorList.length},focusInvalid:findLastActive:elements:clean:errors:reset:prepareForm:prepareElement:elementValue:check:customDataMessage:customMessage:findDefined:defaultMessage:formatAndAdd:addWrapper:defaultShowErrors:validElements:invalidElements:showLabel:errorsFor:idOrName:validationTargetFor:checkable:findByName:getLength:depend:dependTypes:{boolean:function(e){return e},string:function:,optional:startRequest:stopRequest:previousValue:,classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:classRules:attributeRules:dataRules:staticRules:normalizeRules:normalizeRule:addMethod:methods:{required:email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:creditcard:minlength:function(t,n,i){var a=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||a>=i},maxlength:rangelength:min:function(e,t,n){return this.optional(t)||e>=n},max:range:equalTo:remote:}),e.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var t,n={};e.ajaxPrefilter?e.ajaxPrefilter(():(t=e.ajax,e.ajax=,e.extend(e.fn,{validateDelegate:)}));const loadChatWidget=()=>{function e(e){return new Promise((t=>{if(document.querySelector(e))return t(document.querySelector(e));const n=new MutationObserver(();n.observe(document.body,{childList:!0,subtree:!0})}))}e("#SuppliedEmail-label").then((e=>{e.innerHTML="Email"})),e("#SuppliedName-label").then(();new MutationObserver((()=>{let e=document.getElementsByClassName("embeddedServiceLiveAgentStateOfflineSupportDefaultUI");if(e[0]&&e[0].childNodes.length>1){let t=document.createElement("p"),n=document.createElement("a"),i=document.createAttribute("style");i.value="padding:5px;margin:5px;",t.setAttributeNode(i);let a=document.createAttribute("href");a.value=BFG.supportWebformUrl,n.setAttributeNode(a);let s=document.createAttribute("target");s.value="_blank",n.setAttributeNode(s);let r=document.createTextNode("here");n.appendChild(r);let o=document.createTextNode("No agents currently available. Please create a case "),d=document.createTextNode(".");t.appendChild(o),t.appendChild(n),t.appendChild(d),e[0].replaceChildren(t)}let t=document.getElementsByClassName("showDockableContainer");t[0]&&(e[0]&&e[0].parentElement.parentElement.parentElement.parentElement.parentElement==t[0]?t[0].style.height="20%":console.log("Chat Container not in Offline Mode"))})).observe(document.body,{childList:!0,subtree:!0,attributes:!0});try{const e=e=>{embedded_svc.settings.displayHelpButton=!1,embedded_svc.settings.language="",embedded_svc.settings.enabledFeatures=["LiveAgent"],
embedded_svc.settings.entryFeature="LiveAgent",embedded_svc.init(`https://${BFG.supportChatSubdomain}.my.salesforce.com`,`https://${BFG.supportChatSubdomain}.my.salesforce-sites.com/support`,e,BFG.supportChatOrgId,BFG.supportChatConfigName,{baseLiveAgentContentURL:`https://${BFG.supportChatBaseUrl}/content`,deploymentId:BFG.supportChatDeploymentId,buttonId:BFG.supportChatButtonId,baseLiveAgentURL:`https://${BFG.supportChatBaseUrl}/chat`,eswLiveAgentDevName:BFG.supportChatConfigName,isOfflineSupportEnabled:!0})};if(window.embedded_svc)e("https://service.force.com");else{var t=document.createElement("script");t.setAttribute("src",`https://${BFG.supportChatSubdomain}.my.salesforce.com/embeddedservice/5.0/esw.min.js`),t.onload=()=>{embedded_svc.addEventHandler("onSettingsCallCompleted",(({isAgentAvailable:e})=>updateLiveChatStatus(e))),embedded_svc.addEventHandler("onAvailability",(),e(null)},document.body.appendChild(t)}}catch(e){console.error(e)}},updateLiveChatStatus=e=>{const t=document.querySelector(".s-live-chat span");t&&(t.style.backgroundColor=e?"#58e186":"#F64E63")},clickEvent=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});if(document.addEventListener("DOMContentLoaded",(()=>{[...document.getElementsByClassName("j-chat-button")].forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();try{const e=document.getElementsByClassName("embeddedServiceSidebarMinimizedDefaultUI")[0]||document.getElementsByClassName("helpButtonEnabled")[0];e&&e.dispatchEvent(clickEvent)}catch(e){console.error(e)}}))}))})),function(e,t){if("function"==typeof define&&define.amd)define([],t);else if("object"==typeof module&&module.exports)module.exports=t();else{var n=t();for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}(this,(function(){function e(e,t,n){var i=document.createElement(e);if(i.setAttribute("class",t),null==n)return i;var a=document.createTextNode(n);return i.appendChild(a),i}function t(t,i,a,s,r){function o(){g.removeEventListener("click",o),_.removeEventListener("click",d),x.removeEventListener("click",u),f.dismissOverlay&&m.removeEventListener("click",o),document.removeEventListener("keyup",l),document.body.removeChild(p)}function d(){o(),null!==f.onOk&&("prompt"===r?f.onOk(k.value):f.onOk())}function u(){o(),null!==f.onCancel&&f.onCancel()}f("undefined"==typeof window)throw"Cannot use this in node.";var c=document.getElementsByClassName("msc-confirm");c.length>0&&document.body.removeChild(c[0]);var f={title:"Confirm",subtitle:"",onOk:null,onCancel:null,okText:"OK",cancelText:"Cancel",placeholder:"Enter value",dismissOverlay:!1,defaultValue:""};if("object"==typeof t){for(var h in t)f[h]=t[h];"function"!=typeof f.onOk&&(f.onOk=null),"function"!=typeof f.onCancel&&(f.onCancel=null)}else f.title="string"==typeof t?t:f.title,f.subtitle="string"==typeof i?i:f.subtitle,f.onOk="function"==typeof a?a:f.onOk,f.onCancel="function"==typeof s?s:f.onCancel,"function"==typeof i&&(f.onOk=i);var p=e("div","msc-confirm"),m=e("div","msc-overlay"),g=e("button","msc-close");g.innerHTML="&times;",m.appendChild(g),f.dismissOverlay&&m.addEventListener("click",o),g.addEventListener("click",o);var v=e("div","msc-content"),b=e("h3","msc-title",f.title),y=e("div","msc-body"),w=e("div","msc-action"),_=e("button","msc-ok dark",f.okText),x=e("button","msc-cancel dark",f.cancelText),k=e("input","msc-input");y.appendChild(e("p","msc-sub",f.subtitle)),w.appendChild(_),"alert"!==r&&(w.appendChild(x),x.addEventListener("click",u)),_.addEventListener("click",d),v.appendChild(b),v.appendChild(y),v.appendChild(w),p.appendChild(m),p.appendChild(v),document.body.appendChild(p),p.style.display="block",v.classList.add("msc-confirm--animate"),"prompt"===r?(k.setAttribute("type","text"),k.setAttribute("placeholder",f.placeholder),k.value=f.defaultValue,k.addEventListener("keyup",(),y.appendChild(k),k.focus()):"alert"===r?_.focus():x.focus(),document.addEventListener("keyup",l)}var n=13;return{mscConfirm:function(e,n,i,a){t(e,n,i,a,"confirm")},mscPrompt:function(e,n,i,a){t(e,n,i,a,"prompt")},mscAlert:mscClose:function(){var e=document.getElementsByClassName("msc-confirm");e.length>0&&document.body.removeChild(e[0])}}})),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ProgressBar=e()}}((function(){var e;return function e(t,n,i){function a(r,o){if(!n[r]){if(!t[r]){var d="function"==typeof require&&require;if(!o&&d)return d(r,!0);if(s)return s(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[r]={exports:{}};t[r][0].call(l.exports,(function(e){var n=t[r][1][e];return a(n||e)}),l,l.exports,e,t,n,i)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(t,n,i){(function(){var t=this||Function("return this")(),a=function(){"use strict";function a(){}ction d(e,t,n,i,a,s,r){var o,d,l,c=e<s?0:(e-s)/a;for(o in t)t.hasOwnProperty(o)&&(l="function"==typeof(d=r[o])?d:p[d],t[o]=u(n[o],i[o],l,c));return t}ction f(e,t){var n={},i=typeof t;return s(e,"string"===i||"function"===i?,n}ar p,m,g,v,b,y,w="linear",_=500,x=1e3/60,k=Date.now?Date.now:function(){return+new Date},C="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:k;return m="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame)||setTimeout,h.prototype.tween=h.prototype.setConfig=function(e){e=e||{},this._configured=!0,this._attachment=e.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=e.delay||0,this._start=e.start||a,this._step=e.step||a,this._finish=e.finish||a,this._duration=e.duration||_,this._currentState=r({},e.from||this.get()),this._originalState=this.get(),this._targetState=r({},e.to||this.get());var t=this;this._timeoutHandler=var n=this._currentState,i=this._targetState;return o(i,n),this._easing=f(n,e.easing||w),this._filterArgs=[n,this._originalState,i,this._easing],l(this,"tweenCreated"),this},h.prototype.get=h.prototype.set=function(e){this._currentState=e},h.prototype.pause=h.prototype.resume=h.prototype.seek=h.prototype.stop=h.prototype.isPlaying=h.prototype.setScheduleFunction=h.prototype.dispose=h.prototype.filter={},h.prototype.formula={linear:function(e){return e}},p=h.prototype.formula,r(h,{now:C,each:s,tweenProps:d,tweenProp:u,applyFilter:l,shallowCopy:r,defaults:o,composeEasingObject:f}),"function"==typeof SHIFTY_DEBUG_NOW&&(t.timeoutHandler=c),"object"==typeof i?n.exports=h:"function"==typeof e&&e.amd?e((function(){return h})):void 0===t.Tweenable&&(t.Tweenable=h),h}();a.shallowCopy(a.prototype.formula,{easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:easeInOutQuint:easeInSine:easeOutSine:easeInOutSine:easeInExpo:easeOutExpo:easeInOutExpo:easeInCirc:easeOutCirc:easeInOutCirc:easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},elastic:swingFromTo:swingFrom:swingTo:bounce:bouncePast:easeFromTo:easeFrom:function(e){return Math.pow(e,4)},easeTo:),function(){function e(e,t,n,i,a,s){function r(e){return((h*e+p)*e+m)*e}ion f(e,t){var n,i,a,s,o,u;for(a=e,u=0;u<8;u++){if(c(s=r(a)-e)<t)return a;if(c(o=d(a))<1e-6)break;a-=s/o}if((a=e)<(n=0))return n;if(a>(i=1))return i;for(;n<i;){if(c((s=r(a))-e)<t)return a;e>s?n=a:i=a,a=.5*(i-n)+n}return a}var h=0,p=0,m=0,g=0,v=0,b=0;return h=1-(m=3*t)-(p=3*(i-t)-m),g=1-(b=3*n)-(v=3*(a-n)-b),l(e,u(s))}.setBezierFunction=a.unsetBezierFunction=(),),function(e){unction n(e){var t=e.match(_);return t?(1===t.length||e.charAt(0).match(w))&&t.unshift(""):t=["",""],t.join(T)}unction a(e){return d($,e,s)}unction r(e){return 3===(e=e.replace(/#/,"")).length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),S[0]=o(e.substr(0,2)),S[1]=o(e.substr(2,2)),S[2]=o(e.substr(4,2)),S}function o(e){return parseInt(e,16)}nction l(e){for(var t=e.match(x),n=t.length,i=e.match(C)[0],a=0;a<n;a++)i+=parseInt(t[a],10)+",";return i.slice(0,-1)+")"}nction h(t,n){e.each(n,(function(e){var i=t[e],a=m(p(t,n[e].chunkNames),n[e].chunkNames);i=g(n[e].formatString,a),t[e]=u(i)}))}function p(e,t){for(var n,i={},a=t.length,s=0;s<a;s++)i[n=t[s]]=e[n],delete e[n];return i}ction b(t,n){e.each(n,(function(e){var i,a=n[e].chunkNames,s=a.length,r=t[e];if("string"==typeof r){var o=r.split(" "),d=o[o.length-1];for(i=0;i<s;i++)t[a[i]]=o[i]||d}else for(i=0;i<s;i++)t[a[i]]=r;delete t[e]}))}function y(t,n){e.each(n,(function(e){var i=n[e].chunkNames,a=i.length,s=t[i[0]];if("string"===typeof s){for(var r="",o=0;o<a;o++)r+=" "+t[i[o]],delete t[i[o]];t[e]=r.substr(1)}else t[e]=s}))}var w=/(\d|\-|\.)/,_=/([^\-0-9\.]+)/g,x=/[0-9.\-]+/g,k=new RegExp("rgb\\("+x.source+/,\s*/.source+x.source+/,\s*/.source+x.source+"\\)","g"),C=/^.*\(/,$=/#([0-9]|[a-f]){3,6}/gi,T="VAL",S=[],F=[];e.prototype.filter.token={tweenCreated:function(e,t,n){i(e),i(t),i(n),this._tokenData=c(e)},beforeTween:function(e,t,n,i){b(i,this._tokenData),f(e,this._tokenData),f(t,this._tokenData),f(n,this._tokenData)},afterTween:}(a)}).call(null)},{}],2:[function(e,t){var n=e("./shape"),i=e("./utils"),a=function(){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,n.apply(this,arguments)};a.prototype=new n,a.prototype.constructor=a,a.prototype._pathString=a.prototype._trailString=function(e){return this._pathString(e)},t.exports=a},{"./shape":7,"./utils":9}],3:[function(e,t){var n=e("./shape"),i=e("./utils"),a=a.prototype=new n,a.prototype.constructor=a,a.prototype._initializeSvg=a.prototype._pathString=a.prototype._trailString=t.exports=a},{"./shape":7,"./utils":9}],4:[function(e,t){t.exports={Line:e("./line"),Circle:e("./circle"),SemiCircle:e("./semicircle"),Square:e("./square"),Path:e("./path"),Shape:e("./shape"),utils:e("./utils")}},{"./circle":2,"./line":3,"./path":5,"./semicircle":6,"./shape":7,"./square":8,"./utils":9}],5:[function(e,t){var n=e("shifty"),i=e("./utils"),a={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},s=s.prototype.value=s.prototype.set=s.prototype.stop=s.prototype.animate=function(e,t,a){t=t||{},i.isFunction(t)&&(a=t,t={});var s=i.extend({},t),r=i.extend({},this._opts);t=i.extend(r,t);var o=this._easing(t.easing),d=this._resolveFromAndTo(e,o,s);this.stop(),this.path.getBoundingClientRect();var u=this._getComputedDashOffset(),l=this._progressToOffset(e),c=this;this._tweenable=new n,this._tweenable.tween({from:i.extend({offset:u},d.from),to:i.extend({offset:l},d.to),duration:t.duration,easing:o,step:finish:)},s.prototype._getComputedDashOffset=s.prototype._progressToOffset=s.prototype._resolveFromAndTo=s.prototype._calculateFrom=s.prototype._calculateTo=s.prototype._stopTween=s.prototype._easing=t.exports=s},{"./utils":9,shifty:1}],6:[function(e,t){var n=e("./shape"),i=e("./circle"),a=e("./utils"),s=function(){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,n.apply(this,arguments)};s.prototype=new n,s.prototype.constructor=s,s.prototype._initializeSvg=function(e){e.setAttribute("viewBox","0 0 100 50")},s.prototype._initializeTextContainer=s.prototype._pathString=i.prototype._pathString,s.prototype._trailString=i.prototype._trailString,t.exports=s},{"./circle":2,"./shape":7,"./utils":9}],7:[function(e,t){var n=e("./path"),i=e("./utils"),a="Object is destroyed",s=function e(t,a){if(!(this instanceof e))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=i.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%",marginLeft:"auto",marginRight:"auto",maxWidth:"150px",textAlign:"center"},warnings:!1},a,!0),i.isObject(a)&&void 0!==a.svgStyle&&(this._opts.svgStyle=a.svgStyle),i.isObject(a)&&i.isObject(a.text)&&void 0!==a.text.style&&(this._opts.text.style=a.text.style);var s,r=this._createSvgView(this._opts);if(!(s=i.isString(t)?document.querySelector(t):t))throw new Error("Container does not exist: "+t);this._container=s,this._container.appendChild(r.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&i.setStyles(r.svg,this._opts.svgStyle),this.svg=r.svg,this.path=r.path,this.trail=r.trail,this.text=null;var o=i.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new n(r.path,o),i.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};s.prototype.animate=s.prototype.stop=s.prototype.destroy=s.prototype.set=s.prototype.value=s.prototype.setText=s.prototype._createSvgView=s.prototype._initializeSvg=s.prototype._createPath=s.prototype._createTrail=s.prototype._createPathElement=s.prototype._createTextContainer=s.prototype._initializeTextContainer=function(){},s.prototype._pathString=function(){throw new Error("Override this function for each progress bar")},s.prototype._trailString=s.prototype._warnContainerAspectRatio=t.exports=s},{"./path":5,"./utils":9}],8:[function(e,t){var n=e("./shape"),i=e("./utils"),a=function(){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",n.apply(this,arguments)};a.prototype=new n,a.prototype.constructor=a,a.prototype._pathString=a.prototype._trailString=t.exports=a},{"./shape":7,"./utils":9}],9:[function(e,t){function n(e,t,i){for(var a in e=e||{},i=i||!1,t=t||{})if(t.hasOwnProperty(a)){var s=e[a],r=t[a];i&&l(s)&&l(r)?e[a]=n(s,r,i):e[a]=r}return e}function i(e,t){var n=e;for(var i in t)if(t.hasOwnProperty(i)){var a=t[i],s=new RegExp("\\{"+i+"\\}","g");n=n.replace(s,a)}return n}unction s(e,t){c(t,()}unction o(e){return"string"==typeof e||e instanceof String}function d(e){return"function"==typeof e}unction l(e){return!u(e)&&("object"===typeof e&&!!e)}function c(e,t){for(var n in e)if(e.hasOwnProperty(n)){t(e[n],n)}}r p="Webkit Moz O ms".split(" "),m=.001;t.exports={extend:n,render:i,setStyle:a,setStyles:s,capitalize:r,isString:o,isFunction:d,isObject:l,forEachObject:c,floatEquals:f,removeChildren:h}},{}]},{},[4])(4)})),0,(function(){"use strict";function e(){}setTimeout;t.prototype.catch=t.prototype.then=t.prototype.finally=t.all=t.resolve=t.reject=t.race=t._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){o(e,0)},t._unhandledRejectionFn=var d=);d.Promise||(d.Promise=t)})),function(){function e(){}function t(e){this.path=e,this.at_2x_path=e.replace(/\.\w+$/,()}function n(e){this.el=e,this.path=new t(this.el.getAttribute("src"));var n=this;this.path.check_2x_variant(()}var i,a,s,r="undefined"==typeof exports?window:exports,o={check_mime_type:!0};if(r.Retina=e,e.configure=function(e){for(var t in null==e&&(e={}),e)o[t]=e[t]},e.init=function(e){null==e&&(e=r);var t=e.onload||new Function;e.onload=function(){var e,i,a=document.getElementsByTagName("img"),s=[];for(e=0;e<a.length;e++)i=a[e],s.push(new n(i));t()}},e.isRetina=function(){var e="(-webkit-min-device-pixel-ratio: 1.5),                      (min--moz-device-pixel-ratio: 1.5),                      (-o-min-device-pixel-ratio: 3/2),                      (min-resolution: 1.5dppx)";return r.devicePixelRatio>1||!(!r.matchMedia||!r.matchMedia(e).matches)},r.RetinaImagePath=t,localStorage){if(localStorage.retinajs_confirmed_paths)try{t.confirmed_paths=JSON.parse(localStorage.retinajs_confirmed_paths)}catch(e){t.confirmed_paths={}}else t.confirmed_paths={};if(localStorage.retinajs_skip_paths)try{t.skip_paths=JSON.parse(localStorage.retinajs_skip_paths)}catch(e){t.skip_paths={}}else t.skip_paths={};i=!1,a=s=function(){if(localStorage)try{localStorage.retinajs_confirmed_paths=JSON.stringify(t.confirmed_paths),localStorage.retinajs_skip_paths=JSON.stringify(t.skip_paths)}catch(e){a=s=function(){}}i=!1}}else t.confirmed_paths={},t.skip_paths={},a=s=function(){};t.prototype.is_external=t.prototype.check_2x_variant=function(e){var n,i=this;return this.is_external()||t.skip_paths[this.at_2x_path]?e(!1):t.confirmed_paths[this.at_2x_path]?e(!0):((n=new XMLHttpRequest).open("HEAD",this.at_2x_path),n.onreadystatechange=function(){if(4!=n.readyState)return e(!1);if(n.status>=200&&n.status<=399){if(o.check_mime_type){var s=n.getResponseHeader("Content-Type");if(null==s||!s.match(/^image/i))return t.skip_paths[i.at_2x_path]=1,a(),e(!1)}return t.confirmed_paths[i.at_2x_path]=1,a(),e(!0)}return t.skip_paths[i.at_2x_path]=1,a(),e(!1)},void n.send())},r.RetinaImage=n,n.prototype.swap=function(e){function t(){n.el.complete?(n.el.setAttribute("width",n.el.offsetWidth),n.el.setAttribute("height",n.el.offsetHeight),n.el.setAttribute("src",e)):setTimeout(t,5)}void 0===e&&(e=this.path.at_2x_path);var n=this;t()},e.isRetina()&&e.init(r)}(),this,(function(e){"use strict";function t(e){var t=Se.prototype;for(var n in e)if(e.hasOwnProperty(n)){if(t[n])throw new Error("API method is already defined: "+n);t[n]=e[n]}return t}function n(e){var t=e.touches,n=e;return void 0===e.touches&&void 0!==e.originalEvent&&(t=e.originalEvent.touches),void 0!==t&&t.length>0&&(n=t[0]),{x:n.clientX||0,
y:n.clientY||0}}function i(){return $e||(Ce||(Ce=document.createElement("canvas")),Ce&&Ce.getContext?$e=Ce.getContext("2d"):null)}function a(e,t,n){if(!i())return!1;if(t*n<=1048576)return!1;Ce.width=Ce.height=1,$e.fillStyle="#FF00FF",$e.fillRect(0,0,1,1),$e.drawImage(e,1-t,0);try{var a=$e.getImageData(0,0,1,1).data;return 255===a[0]&&0===a[1]&&255===a[2]}catch(e){return!1}}function s(e){var t=Math.floor(e.width||e.frameWidth||e.target.innerWidth()),n=Math.floor(e.height||e.frameHeight||e.target.innerHeight());return{aspect:t/n,height:n,width:t}}function r(e){var t=s(e);if("function"!=typeof window.getComputedStyle)return t;var n=window.getComputedStyle(e.target[0]);return n.width?(t.width=Math.floor(Number(n.width.replace("px",""))),t.height=Math.floor(t.width/t.aspect),t):t}function o(e){var t=Math.floor(e.frameWidth||e.width||e.target.innerWidth()),n=Math.floor(e.frameHeight||e.height||e.target.innerHeight());return{aspect:t/n,height:n,width:t}}function d(e,t,n){var i="fit"===e,a="fill"===e,s={width:"100%",height:"100%",top:0,left:0,bottom:0,right:0,position:"absolute",overflow:"hidden"};if(!e||"stretch"===e)return s;var r=t.aspect>=n.aspect,o=t.width,d=t.height;return(i&&r||a&&!r)&&(o=n.width,d=n.width/t.aspect),(a&&r||i&&!r)&&(d=n.height,o=n.height*t.aspect),o=Math.floor(o),d=Math.floor(d),s.width=o,s.height=d,s.top=Math.floor((n.height-d)/2),s.left=Math.floor((n.width-o)/2),s.right=s.left,s.bottom=s.top,s}function u(e){return e.naturalWidth?{height:e.naturalHeight,width:e.naturalWidth}:((Te=Te||new Image).src=e.src,{height:Te.height,width:Te.width})}function l(e,t){return 1===e.length?[c(e[0],t)]:t.framesX&&t.framesY?h(e,t):f(e,t)}function c(e,t){var n={id:0,sprites:[]};p(e,t,n);for(var i=t.frames,a=Number(t.framesX)||i,s=Math.ceil(i/a),r=Math.floor(n.width/a),o=Math.floor(n.height/s),d=n.isSubsampled?2:1,u=0;u<i;u++){var l=u%a*r,c=Math.floor(u/a)*o;n.sprites.push({id:u,x:l,y:c,width:r,height:o,sampledX:l/d,sampledY:c/d,sampledWidth:r/d,sampledHeight:o/d})}return n}function f(e,t){for(var n=[],i=0;i<e.length;i++){var a=c(e[i],{frames:1,framesX:1,detectSubsampling:t.detectSubsampling});a.id=i,n.push(a)}return n}function h(e,t){for(var n=[],i=0;i<e.length;i++){var a=c(e[i],{frames:void 0,framesX:t.framesX,framesY:t.framesY,detectSubsampling:t.detectSubsampling});a.id=i,n.push(a)}return n}function p(e,t,n){var i=u(e);return n.isSubsampled=t.detectSubsampling&&a(e,i.width,i.height),n.width=i.width,n.height=i.height,n.sampledWidth=i.width/(n.isSubsampled?2:1),n.sampledHeight=i.height/(n.isSubsampled?2:1),n}function m(e,t,n,i){for(var a=i*t+n,s=0,r=null,o=null;o=e[s];){if(!(a>=o.sprites.length)){r=o.sprites[a];break}a-=o.sprites.length,s++}return{sprite:r,sheet:o}}function g(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return n}function v(){}function b(e){var t,n=e.source;t="string"==typeof n?[n]:n;for(var i=[],a=e.preloadCount||t.length,s=e.initiated||v,r=e.progress||v,o=e.complete||v,d=0,u=!1,l=!1,c=function(){d+=1,r({index:g(this,i),loaded:d,total:t.length,percent:Math.round(d/t.length*100)}),(l=l||this===i[0])&&!u&&d>=a&&(u=!0,o(i))},f=0,h=t;f<h.length;f++){var p=h[f],m=new Image;i.push(m),m.onload=m.onabort=m.onerror=c,m.src=p}s(i)}function y(e,t,n){for(var i=String(e);i.length<t;)i=String(n)+i;return i}function w(e,t){var n=t.digits||2,i=t.lanePlacer||"{lane}",a=t.framePlacer||"{frame}",s=0,r=0;t.frame&&(s=t.frame[0],r=t.frame[1]);var o=0,d=0;t.lane&&(o=t.lane[0],d=t.lane[1]);for(var u=[],l=o;l<=d;l+=1)for(var c=s;c<=r;c+=1)u.push(e.replace(i,y(l,n,"0")).replace(a,y(c,n,"0")));return u}function _(){}ion F(e,t,n){n&&e.bind(t+"."+je,()}ction E(e){e.target.attr("unselectable","on").css({width:"",height:"","-ms-user-select":"none","-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","user-select":"none"});var t=e.responsive?r(e):s(e),n=d(e.sizeMode,o(e),t);e.target.css({width:t.width,height:t.height,position:"relative",overflow:"hidden"}),e.stage.css(n).hide(),e.canvas&&(e.canvas.css(n).hide(),e.canvasRatio=e.canvasRatio||B(e.context),"number"==typeof n.width&&"number"==typeof n.height?(e.canvas[0].width=n.width*e.canvasRatio||t.width,e.canvas[0].height=n.height*e.canvasRatio||t.height):(e.canvas[0].width=t.width*e.canvasRatio,e.canvas[0].height=t.height*e.canvasRatio),e.context.scale(e.canvasRatio,e.canvasRatio))}function I(e,t){return e.state=e.state||{},e.state[t]=e.state[t]||{},e.state[t]}function A(e,t){var n=I(e,"plugin");return n[t]=n[t]||{},n[t]}nction O(e){return I(e,"playback")}function N(e,t){e.lane=e.wrapLane?T(t,0,e.lanes-1,e.lanes):C(t,0,e.lanes-1)}function R(e){e.frame+=e.reverse?-1:1,e.frame=T(e.frame,0,e.frames-1,e.frames),e.loop||e.frame!==e.stopFrame||W(e)}function L(e,t){e.frame=Number(t),e.frame=e.wrap?T(e.frame,0,e.frames-1,e.frames):C(e.frame,0,e.frames-1)}function z(e){O(e).handler&&(H(e),R(e),U(e))}function H(e){var t=O(e);t.lastFrame=e.frame,t.lastLane=e.lane}function U(e){var t=O(e);t.lastFrame===e.frame&&t.lastLane===e.lane||e.target.trigger("onFrameChanged."+je,e),e.target.trigger("onFrame."+je,e),e.target.trigger("onDraw."+je,e)}function q(e,t,n){H(e),null!=t&&L(e,t),null!=n&&N(e,n),U(e)}function W(e){e.animate=!1;var t=O(e);null!=t.handler&&(window.clearInterval(t.handler),t.handler=null)}function Y(e){var t=O(e);!t.handler||e.animate&&t.frameTime===e.frameTime||W(e),e.animate&&!t.handler&&(t.frameTime=e.frameTime,t.handler=window.setInterval((,t.frameTime))}unction G(e,t){if(!Ne[e])return t=t||{},Ne[e]=t,t;Me('Plugin name "'+e+'" is already taken')}function K(e,t){Pe('"registerModule" is deprecated, use "registerPlugin" instead'),G(e,t)}function X(e){return Ne[e]}function Q(e){J(e);for(var t=0;t<e.plugins.length;t+=1){var n=e.plugins[t];if("string"==typeof n){var i=X(n);i?e.plugins[t]=i:Me("No plugin found with name "+n)}}}function J(e){e.mods&&(Pe('"mods" option is deprecated, use "plugins" instead'),e.plugins=e.mods,delete e.mods),e.behavior&&(Pe('"behavior" option is deprecated, use "plugins" instead'),e.plugins.push(e.behavior),delete e.behavior),e.module&&(Pe('"module" option is deprecated, use "plugins" instead'),e.plugins.push(e.module),delete e.module)}function Z(e){Le+=1,e.id=String(Le),ze[e.id]=e}nction ne(e){var t=e.target;j(t);for(var n=0,i=Ee;n<i.length;n++){F(t,h=i[n],S)}for(var a=0,s=e.plugins;a<s.length;a++){for(var r=s[a],o=0,d=De;o<d.length;o++){F(t,h=d[o],r[h])}for(var u=0,l=Be;u<l.length;u++){F(t,h=l[u],r[h])}}F(t,"onLoad",(function(e,t){Y(t)}));for(var c=0,f=Be;c<f.length;c++){var h;F(t,h=f[c],e[h])}}function ie(e){e.images||(e.metrics=[]),e.metrics=l(e.images,e);var t=m(e.metrics,e.frames,0,0);t.sprite&&(e.frameWidth=t.sprite.width,e.frameHeight=t.sprite.height)}function ae(e){Q(e),ne(e),E(e),e.source=k(e.source),e.loading=!0,e.target.addClass("loading").trigger("onInit."+je,e),b({source:e.source,preloadCount:e.preloadCount,progress:function(t){e.progress=t,e.target.trigger("onProgress."+je,e)},complete:function(t){e.images=t,e.loading=!1,e.frames=e.frames||t.length,ie(e),E(e),e.stage.show(),e.target.removeClass("loading").trigger("onLoad."+je,e).trigger("onFrame."+je,e).trigger("onDraw."+je,e).trigger("onComplete."+je,e)}})}function se(e){var t=this,n=e.target,i=Re.extend(!0,{},Ie,e);if(i.source=i.source||[],i.plugins=i.plugins||[],n.find("img").each((function(){Array.isArray(i.source)||(i.source=[]),i.source.push(Re(t).attr("src"))})),n.empty().addClass("spritespin-instance").append("<div class='spritespin-stage'></div>"),"canvas"===i.renderer){var a=document.createElement("canvas");a.getContext&&a.getContext("2d")?(i.canvas=Re(a).addClass("spritespin-canvas"),i.context=a.getContext("2d"),n.append(i.canvas),n.addClass("with-canvas")):i.renderer="image"}return i.target=n,i.stage=n.find(".spritespin-stage"),n.data(je,i),Z(i),i}function re(e){He();var t=e.target.data(je);return t?Re.extend(t,e):t=se(e),ae(t),t}function oe(e){ee(e),W(e),e.target.trigger("onDestroy",e).html(null).attr("style",null).attr("unselectable",null).removeClass(["spritespin-instance","with-canvas"]),j(e.target),e.target.removeData(je)}unction ue(e,t){var i=n(e),a=de(t);a.oldX=a.currentX,a.oldY=a.currentY,a.currentX=i.x,a.currentY=i.y,void 0!==a.oldX&&void 0!==a.oldY||(a.oldX=a.currentX,a.oldY=a.currentY),void 0!==a.startX&&void 0!==a.startY||(a.startX=a.currentX,a.startY=a.currentY,a.clickframe=t.frame,a.clicklane=t.lane),a.dX=a.currentX-a.startX,a.dY=a.currentY-a.startY,a.ddX=a.currentX-a.oldX,a.ddY=a.currentY-a.oldY,a.ndX=a.dX/t.target.innerWidth(),a.ndY=a.dY/t.target.innerHeight(),a.nddX=a.ddX/t.target.innerWidth(),a.nddY=a.ddY/t.target.innerHeight()}function le(e){var t=de(e);t.startX=t.startY=void 0,t.currentX=t.currentY=void 0,t.oldX=t.oldY=void 0,t.dX=t.dY=0,t.ddX=t.ddY=0,t.ndX=t.ndY=0,t.nddX=t.nddY=0}function ce(e,t){var n,i=Fe(this);if("data"===e)return i.data(je);if("api"===e){var a=i.data(je);return a.api=a.api||new Se(a),a.api}if("destroy"===e)return i.each(();if(2===arguments.length&&"string"==typeof e&&((n={})[e]=t,e=n),"object"==typeof e)return re(Fe.extend(!0,{target:i},e)).target;throw new Error("Invalid call to spritespin")}function fe(e,t){for(var n=0,i=t;n<i.length;n++){var a=i[n];if(e[a]||a in e)return a}return t[0]}function he(){Fe(document).unbind(qe)}function pe(e){he(),Fe(document).bind(qe,e)}unction ge(e){me(),Fe(window).bind(We,e)}function ve(e){(e=e||document.documentElement)[Ue.requestFullscreen]()}function be(){return document[Ue.exitFullscreen]()}function ye(){return document[Ue.fullscreenEnabled]}nction xe(e,t){_e()?this.apiRequestFullscreen(t):this.exitFullscreen()}function ke(e,t){t=t||{};var n=e.width,i=e.height,a=e.source,s=e.sizeMode,r=e.responsive,o=function(){e.width=window.screen.width,e.height=window.screen.height,e.source=t.source||a,e.sizeMode=t.sizeMode||"fit",e.responsive=!1,ae(e)},d=function(){e.width=n,e.height=i,e.source=a,e.sizeMode=s,e.responsive=r,ae(e)};pe((function(){_e()?(o(),ge(o)):(he(),me(),d())})),ve(e.target[0])}var Ce,$e,Te,Se=),Fe=window.jQuery||window.$,je="spritespin",De=["mousedown","mousemove","mouseup","mouseenter","mouseover","mouseleave","mousewheel","wheel","click","dblclick","touchstart","touchmove","touchend","touchcancel","selectstart","gesturestart","gesturechange","gestureend"],Be=["onInit","onProgress","onLoad","onFrameChanged","onFrame","onDraw","onComplete","onDestroy"],Ee=["dragstart"],Ie={source:void 0,width:void 0,height:void 0,frames:void 0,framesX:void 0,lanes:1,sizeMode:void 0,renderer:"canvas",lane:0,frame:0,frameTime:40,animate:!0,retainAnimate:!1,reverse:!1,loop:!0,stopFrame:0,wrap:!0,wrapLane:!1,sense:1,senseLane:void 0,orientation:"horizontal",detectSubsampling:!0,preloadCount:void 0,responsive:void 0,plugins:["360","drag"]},Ae=x("log"),Pe=x("warn"),Me=x("error"),Oe=Object.freeze({$:Fe,getCursorPosition:n,detectSubsampling:a,getOuterSize:s,getComputedSize:r,getInnerSize:o,getInnerLayout:d,measure:l,findSpecs:m,naturalSize:u,preload:b,sourceArray:w,noop:_,log:Ae,warn:Pe,error:Me,toArray:k,clamp:C,wrap:T,prevent:S,bind:F,unbind:j,isFunction:D,pixelRatio:B}),Ne={},Re=Fe,Le=0,ze={},He=function(){function e(e,t){te((function(n){for(var i=0,a=n.plugins;i<a.length;i++){var s=a[i];"function"==typeof s[e]&&s[e].apply(n.target,[t,n])}}))}e=function(){};for(var n=function(t){Re(window.document).bind(t+"."+je,()},i=0,a=De;i<a.length;i++){n(a[i])}var s=null;Re(window).on("resize",()};Fe.fn[je]=ce,t({isPlaying:isLooping:function(){return this.data.loop},toggleAnimation:stopAnimation:function(){this.data.animate=!1,W(this.data)},startAnimation:function(){this.data.animate=!0,Y(this.data)},loop:function(e){return this.data.loop=e,Y(this.data),this},currentFrame:function(){return this.data.frame},updateFrame:skipFrames:function(e){var t=this.data;return q(t,t.frame+(t.reverse?-e:+e)),this},nextFrame:prevFrame:playTo:function(e,t){var n=this.data;if((t=t||{}).force||n.frame!==e){if(t.nearest){var i=e-n.frame,a=e>n.frame?i-n.frames:i+n.frames,s=Math.abs(i)<Math.abs(a)?i:a;n.reverse=s<0}return n.animate=!0,n.loop=!1,n.stopFrame=e,Y(n),this}}});var Ue={requestFullscreen:fe(document.documentElement,["requestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"]),exitFullscreen:fe(document,["exitFullscreen","webkitExitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"]),fullscreenElement:fe(document,["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"]),fullscreenEnabled:fe(document,["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"]),fullscreenchange:fe(document,["onfullscreenchange","onwebkitfullscreenchange","onmozfullscreenchange","onMSFullscreenChange"]).replace(/^on/,""),fullscreenerror:fe(document,["onfullscreenerror","onwebkitfullscreenerror","onmozfullscreenerror","onMSFullscreenError"]).replace(/^on/,"")},qe=Ue.fullscreenchange+"."+je+"-fullscreen",We="orientationchange."+je+"-fullscreen";t({fullscreenEnabled:ye,fullscreenElement:we,exitFullscreen:be,toggleFullscreen:function(e){xe(this.data,e)},requestFullscreen:),function(){function e(e,t){if(!t.loading&&t.stage.is(":visible")){ue(e,t);var n,i,a=de(t),s=t.target,r=s.offset();"horizontal"===t.orientation?(n=s.innerWidth()/2,i=a.currentX-r.left):(n=s.innerHeight()/2,i=a.currentY-r.top),q(t,t.frame+(i>n?1:-1))}}var t="click";G(t,{name:t,mouseup:e,touchend:e})}(),function(){function e(e){return A(e,r)}function t(e){return"number"==typeof e.orientation?e.orientation*Math.PI/180:"horizontal"===e.orientation?0:Math.PI/2}function n(t,n){var i=e(n);if(!n.loading&&!P(n,"dragging")&&n.stage.is(":visible")){var a=(new Date).getTime();i.startAt&&a-i.startAt>200&&t.preventDefault(),i.startAt=a,i.wasPlaying=!!O(n).handler,i.frame=n.frame||0,i.lane=n.lane||0,M(n,"dragging",!0),ue(t,n)}}function i(t,n){P(n,"dragging")&&(M(n,"dragging",!1),le(n),n.retainAnimate&&e(n).wasPlaying&&V(n))}function a(n,i){var a=e(i),s=de(i);if(P(i,"dragging")){ue(n,i);var r=t(i),o=Math.sin(r),d=Math.cos(r),u=(s.nddX*d-s.nddY*o)*i.sense||0,l=(s.nddX*o+s.nddY*d)*(i.senseLane||i.sense)||0;a.frame+=i.frames*u,a.lane+=i.lanes*l;i.frame,i.lane;q(i,Math.floor(a.frame),Math.floor(a.lane)),W(i)}}ar r="drag";G("drag",{name:"drag",mousedown:n,mousemove:a,mouseup:i,documentmousemove:a,documentmouseup:i,touchstart:n,touchmove:a,touchend:i,touchcancel:i}),G("move",{name:"move",mousemove:s,mouseleave:i,touchstart:n,touchmove:a,touchend:i,touchcancel:i})}(),function(){function e(e){return A(e,o)}function t(t){var n=e(t);n.frameTime=t.frameTime,n.animate=t.animate,n.reverse=t.reverse}function n(t){var n=e(t);t.frameTime=n.frameTime,t.animate=n.animate,t.reverse=n.reverse}function i(e,n){P(n,"loading")||P(n,"dragging")||!n.stage.is(":visible")||(t(n),ue(e,n),M(n,"dragging",!0),n.animate=!0,Y(n))}function a(e,t){M(t,"dragging",!1),le(t),W(t),n(t),Y(t)}function s(e,t){if(P(t,"dragging")){ue(e,t);var n,i,a=de(t),s=t.target,r=s.offset();"horizontal"===t.orientation?(n=s.innerWidth()/2,i=(a.currentX-r.left-n)/n):(n=t.height/2,i=(a.currentY-r.top-n)/n),t.reverse=i<0,i=i<0?-i:i,t.frameTime=80*(1-i)+20,("horizontal"===t.orientation&&a.dX<a.dY||"vertical"===t.orientation&&a.dX<a.dY)&&e.preventDefault()}}function r(e,t){t.animate=!0,Y(t)}var o="hold";G(o,{name:o,mousedown:i,mousemove:s,mouseup:a,mouseleave:a,touchstart:i,touchmove:s,touchend:a,touchcancel:a,onFrame:r})}(),function(){function e(e){return A(e,r)}function t(e,t,n){return e[t]||n}function n(n,i){var a=e(i);a.fling=t(i,"swipeFling",10),a.snap=t(i,"swipeSnap",.5)}nction s(t,n){if(P(n,"dragging")){M(n,"dragging",!1);var i,a,s=e(n),r=de(n),o=n.frame,d=n.lane,u=s.snap,l=s.fling;"horizontal"===n.orientation?(i=r.ndX,a=r.ddX):(i=r.ndY,a=r.ddY),i>=u||a>=l?o=n.frame-1:(i<=-u||a<=-l)&&(o=n.frame+1),le(n),q(n,o,d),W(n)}}var r="swipe";G(r,{name:r,onLoad:n,mousedown:i,mousemove:a,mouseup:s,mouseleave:s,touchstart:i,touchmove:a,touchend:s,touchcancel:s})}(),function(){function e(e,t){if(!t.loading&&t.stage.is(":visible")){e.preventDefault();var n=e.originalEvent,i=0===n.deltaX?0:n.deltaX>0?1:-1,a=0===n.deltaY?0:n.deltaY>0?1:-1;q(t,t.frame+a,t.lane+i)}}var t="wheel";G(t,{name:t,wheel:e})}(),function(){function e(e){return A(e,r)}function t(t,n){var i=e(n);i.stage||(i.stage=Fe(s),i.stage.appendTo(n.target)),i.stage.find(".spritespin-progress-label").text("0%").css({"text-align":"center"}),i.stage.find(".spritespin-progress-bar").css({width:"0%"}),i.stage.hide().fadeIn()}function n(t,n){var i=e(n);i.stage.find(".spritespin-progress-label").text(n.progress.percent+"%").css({"text-align":"center"}),i.stage.find(".spritespin-progress-bar").css({width:n.progress.percent+"%"})}function i(t,n){Fe(e(n).stage).fadeOut()}function a(t,n){Fe(e(n).stage).remove()}var s="\n<div class='spritespin-progress'>\n  <div class='spritespin-progress-label'></div>\n  <div class='spritespin-progress-bar'></div>\n</div>\n",r="progress";G(r,{name:r,onInit:t,onProgress:n,onLoad:i,onDestroy:a})}(),function(){function e(e,t){t.stage.find(".spritespin-frames").detach(),"image"===t.renderer&&$(t.images).addClass("spritespin-frames").appendTo(t.stage)}function t(e,t){var n=m(t.metrics,t.frames,t.frame,t.lane),i=n.sheet,a=n.sprite;if(i&&a){var s=t.source[i.id],r=t.images[i.id];if("canvas"===t.renderer){t.canvas.show();var o=t.canvas[0].width/t.canvasRatio,d=t.canvas[0].height/t.canvasRatio;return t.context.clearRect(0,0,o,d),void t.context.drawImage(r,a.sampledX,a.sampledY,a.sampledWidth,a.sampledHeight,0,0,o,d)}var u=t.stage.innerWidth()/a.sampledWidth,l=t.stage.innerHeight()/a.sampledHeight,c=Math.floor(-a.sampledY*l),f=Math.floor(-a.sampledX*u),h=Math.floor(i.sampledWidth*u),p=Math.floor(i.sampledHeight*l);"background"!==t.renderer?($(t.images).hide(),$(r).show().css({position:"absolute",top:c,left:f,"max-width":"initial",width:h,height:p})):t.stage.css({"background-image":"url('"+s+"')","background-position":f+"px "+c+"px","background-repeat":"no-repeat","-webkit-background-size":h+"px "+p+"px","-moz-background-size":h+"px "+p+"px","-o-background-size":h+"px "+p+"px","background-size":h+"px "+p+"px"})}}var n="360";G(n,{name:n,onLoad:e,onDraw:t})}(),function(){function e(e){return A(e,v)}function t(e,t,n){return e[t]||n}function n(n,i){var a=e(i);a.canvas=a.canvas||Fe("<canvas class='blur-layer'></canvas>"),a.context=a.context||a.canvas[0].getContext("2d"),a.steps=a.steps||[],a.fadeTime=Math.max(t(i,"blurFadeTime",200),1),a.frameTime=Math.max(t(i,"blurFrameTime",i.frameTime),16),a.trackTime=null,a.cssBlur=!!t(i,"blurCss",!1);var u=o(i),l=i.responsive?r(i):s(i),c=d(i.sizeMode,u,l);a.canvas[0].width=i.width*i.canvasRatio,a.canvas[0].height=i.height*i.canvasRatio,a.canvas.css(c).show(),a.context.scale(i.canvasRatio,i.canvasRatio),i.target.append(a.canvas)}function i(t,n){var i=e(n);a(n),null==i.timeout&&l(n)}function a(t){var n=e(t),i=O(t),a=Math.abs(t.frame-i.lastFrame);a=a>=t.frames/2?t.frames-a:a,n.steps.unshift({frame:t.frame,lane:t.lane,live:1,step:n.frameTime/n.fadeTime,d:a,alpha:0})}function u(e){b.length=0;for(var t=0;t<e.length;t+=1)e[t].alpha<=0&&b.push(t);for(var n=0,i=b;n<i.length;n++){var a=i[n];e.splice(a,1)}}function l(t){var n=e(t);n.timeout=window.setTimeout((function(){g(t)}),n.frameTime)}function c(t){var n=e(t);window.clearTimeout(n.timeout),n.timeout=null}function f(e,t){var n="blur("+Math.min(Math.max(t/2-4,0),2.5)+"px)";e.css({"-webkit-filter":n,filter:n})}function h(e,t){t.canvas.show();t.canvas[0].width,e.canvasRatio,t.canvas[0].height,e.canvasRatio}function p(e,t,n){if(!(n.alpha<=0)){var i=m(e.metrics,e.frames,n.frame,n.lane),a=i.sheet,s=i.sprite;if(a&&s){e.source[a.id];var r=e.images[a.id];if(!1!==r.complete){t.canvas.show();var o=t.canvas[0].width/e.canvasRatio,d=t.canvas[0].height/e.canvasRatio;t.context.globalAlpha=n.alpha,t.context.drawImage(r,s.sampledX,s.sampledY,s.sampledWidth,s.sampledHeight,0,0,o,d)}}}}function g(t){var n=e(t);if(c(t),n.context){var i=0;h(t,n),n.context.clearRect(0,0,t.width,t.height);for(var a=0,s=n.steps;a<s.length;a++){var r=s[a];r.live=Math.max(r.live-r.step,0),r.alpha=Math.max(r.live-.25,0),p(t,n,r),i+=r.alpha+r.d}n.cssBlur&&f(n.canvas,i),u(n.steps),n.steps.length&&l(t)}}var v="blur",b=[];G(v,{name:v,onLoad:n,onFrameChanged:i})}(),function(){function e(e){return A(e,c)}function t(e,t,n){return e[t]||n}function n(n,i){var a=e(i);a.maxSamples=u(t(i,"easeMaxSamples",5),0),a.damping=u(l(t(i,"easeDamping",.9),.999),0),a.abortTime=u(t(i,"easeAbortTime",250),16),a.updateTime=u(t(i,"easeUpdateTime",i.frameTime),16),a.samples=[],a.steps=[]}function i(e,t){P(t,"dragging")&&(r(t),s(t))}function a(t,n){for(var i,a=e(n),s=a.samples,d=0,u=0,l=0,c=0,f=s;c<f.length;c++){var h=f[c];if(i){var p=h.time-i.time;if(p>a.abortTime)return d=u=l=0,r(n);u+=h.frame-i.frame,d+=h.lane-i.lane,l+=p,i=h}else i=h}s.length=0,l&&(a.lane=n.lane,a.lanes=0,a.laneStep=d/l*a.updateTime,a.frame=n.frame,a.frames=0,a.frameStep=u/l*a.updateTime,o(n))}function s(t){var n=e(t);for(n.samples.push({time:(new Date).getTime(),frame:t.frame,lane:t.lane});n.samples.length>n.maxSamples;)n.samples.shift()}function r(t){var n=e(t);null!=n.handler&&(window.clearTimeout(n.handler),n.handler=null)}function o(t){var n=e(t);n.handler=window.setTimeout((,n.updateTime)}function d(t){var n=e(t);n.lanes+=n.laneStep,n.frames+=n.frameStep,n.laneStep*=n.damping,n.frameStep*=n.damping,q(t,Math.floor(n.frame+n.frames),Math.floor(n.lane+n.lanes)),P(t,"dragging")?r(t):Math.abs(n.frameStep)>.005||Math.abs(n.laneStep)>.005?o(t):r(t)}var u=Math.max,l=Math.min,c="ease";G(c,{name:c,onLoad:n,mousemove:i,mouseup:a,mouseleave:a,touchmove:i,touchend:a,touchcancel:a})}(),function(){function e(e){return A(e,a)}function t(e,t,n){return e[t]||n}function n(n,i){var a=e(i);a.images=[],a.offsets=[],a.frame=i.frame,a.speed=t(i,"gallerySpeed",500),a.opacity=t(i,"galleryOpacity",.25),a.stage=t(i,"galleryStage",Fe("<div></div>")),a.stage.empty().addClass("gallery-stage").prependTo(i.stage);for(var l=0,c=0,f=i.images;c<f.length;c++){var h=f[c],p=u(h),m=i.height/p.height,g=Fe(h);a.stage.append(g),a.images.push(g),a.offsets.push(-l+(i.width-h.width*m)/2),l+=i.width,g.css({"max-width":"initial",opacity:a.opacity,width:i.width,height:i.height})}var v=o(i),b=i.responsive?r(i):s(i),y=d(i.sizeMode,v,b);a.stage.css(y).css({width:l,left:a.offsets[a.frame]}),a.images[a.frame].animate({opacity:1},{duration:a.speed})}function i(t,n){var i=e(n),a=de(n),s=P(n,"dragging");i.frame===n.frame||s?(s||i.dX!==a.dX)&&(i.dX=a.dX,i.ddX=a.ddX,i.stage.stop(!0,!0).css({left:i.offsets[i.frame]+i.dX})):(i.stage.stop(!0,!1).animate({left:i.offsets[n.frame]},{duration:i.speed}),i.images[i.frame].animate({opacity:i.opacity},{duration:i.speed}),i.frame=n.frame,i.images[i.frame].animate({opacity:1},{duration:i.speed}),i.stage.animate({left:i.offsets[i.frame]}))}var a="gallery";G(a,{name:a,onLoad:n,onDraw:i})}(),function(){function e(e){return A(e,i)}function t(t,n){var i=e(n),a=n.metrics[0];if(a){"horizontal"===n.orientation?(i.scale=n.target.innerHeight()/a.sampledHeight,n.frames=a.sampledWidth):(i.scale=n.target.innerWidth()/a.sampledWidth,n.frames=a.sampledHeight);var s=Math.floor(a.sampledWidth*i.scale),r=Math.floor(a.sampledHeight*i.scale);n.stage.css({"background-image":"url("+n.source[a.id]+")","background-repeat":"repeat-both","-webkit-background-size":s+"px "+r+"px","-moz-background-size":s+"px "+r+"px","-o-background-size":s+"px "+r+"px","background-size":s+"px "+r+"px"})}}function n(t,n){var i=e(n),a="horizontal"===n.orientation?1:0,s=a?0:1,r=n.frame%n.frames,o=Math.round(a*r*i.scale),d=Math.round(s*r*i.scale);n.stage.css({"background-position":o+"px "+d+"px"})}var i="panorama";G(i,{name:i,onLoad:t,onDraw:n})}(),function(){nction a(t,n){var a=e(n);a.source=i(n,"zoomSource",n.source),a.doubleClickTime=i(n,"zoomDoubleClickTime",500),a.stage=a.stage||Fe("<div class='zoom-stage'></div>"),a.stage.css({width:"100%",height:"100%",top:0,left:0,bottom:0,right:0,position:"absolute"}).appendTo(n.target).hide()}function s(t,n){var i=e(n);i.stage&&(i.stage.remove(),delete i.stage)}function r(t,i){var a=e(i);if(a.stage.is(":visible")){t.preventDefault(),M(i,"dragging",!1);var s=n(t),r=s.x/i.width,o=s.y/i.height;null==a.oldX&&(a.oldX=r,a.oldY=o),null==a.currentX&&(a.currentX=r,a.currentY=o);var d=r-a.oldX,u=o-a.oldY;a.oldX=r,a.oldY=o,t.type.match(/touch/)&&(d=-d,u=-u),a.currentX=C(a.currentX+d,0,1),a.currentY=C(a.currentY+u,0,1),q(i,i.frame,i.lane)}}function o(t,n){t.preventDefault();var i=e(n),a=(new Date).getTime();i.clickTime?a-i.clickTime>i.doubleClickTime?i.clickTime=a:(i.clickTime=void 0,l(n)&&r(t,n)):i.clickTime=a}function d(t,n){e(n).stage.is(":visible")&&r(t,n)}function u(t,n){var i=e(n),a=n.lane*n.frames+n.frame,s=i.source[a],r=m(n.metrics,n.frames,n.frame,n.lane),o=i.currentX,d=i.currentY;if(null==o&&(o=i.currentX=.5,d=i.currentY=.5),s)o=Math.floor(100*o),d=Math.floor(100*d),i.stage.css({"background-repeat":"no-repeat","background-image":"url('"+s+"')","background-position":o+"% "+d+"%"});else if(r.sheet&&r.sprite){var u=r.sprite,l=r.sheet,c=n.source[l.id],f=-Math.floor(u.sampledX+o*(u.sampledWidth-n.width)),h=-Math.floor(u.sampledY+d*(u.sampledHeight-n.height)),p=l.sampledWidth,g=l.sampledHeight;i.stage.css({"background-image":"url('"+c+"')","background-position":f+"px "+h+"px","background-repeat":"no-repeat","-webkit-background-size":p+"px "+g+"px","-moz-background-size":p+"px "+g+"px","-o-background-size":p+"px "+g+"px","background-size":p+"px "+g+"px"})}}function l(t){var n=e(t);if(!n.stage)throw new Error("zoom module is not initialized or is not available.");return n.stage.is(":visible")?(n.stage.fadeOut(),t.stage.fadeIn(),!1):(n.stage.fadeIn(),t.stage.fadeOut(),!0)}var c="zoom";G(c,{name:c,mousedown:o,touchstart:o,mousemove:d,touchmove:d,onInit:a,onDestroy:s,onDraw:u}),t({toggleZoom:)}();var Ye=Oe;e.Utils=Ye,e.sourceArray=w,e.Api=Se,e.extendApi=t,e.instances=ze,e.applyEvents=ne,e.boot=ae,e.create=se,e.createOrUpdate=re,e.destroy=oe,e.namespace=je,e.eventNames=De,e.callbackNames=Be,e.eventsToPrevent=Ee,e.defaults=Ie,e.getInputState=de,e.updateInput=ue,e.resetInput=le,e.applyLayout=E,e.getPlaybackState=O,e.updateFrame=q,e.stopAnimation=W,e.applyAnimation=Y,e.startAnimation=V,e.registerPlugin=G,e.registerModule=K,e.getPlugin=X,e.applyPlugins=Q,e.getState=I,e.getPluginState=A,e.is=P,e.flag=M,Object.defineProperty(e,"__esModule",{value:!0})})),function(e,t,n){"use strict";!{1:[function(i){var a,s,r,o,d=function(e){return e&&e.__esModule?e:{default:e}},u=i("./modules/handle-dom"),l=i("./modules/utils"),c=i("./modules/handle-swal-dom"),f=i("./modules/handle-click"),h=d(i("./modules/handle-key")),p=d(i("./modules/default-params")),m=d(i("./modules/set-params"));r=o=function(){ar r=arguments[0];if(u.addClass(t.body,"stop-scrolling"),c.resetInput(),r===n)return l.logStr("SweetAlert expects at least 1 attribute!"),!1;var d=l.extend({},p.default);switch(typeof r){case"string":d.title=r,d.text=arguments[1]||"",d.type=arguments[2]||"";break;case"object":if(r.title===n)return l.logStr('Missing "title" argument!'),!1;for(var g in d.title=r.title,p.default)d[g]=i(g);d.confirmButtonText=d.showCancelButton?"Confirm":p.default.confirmButtonText,d.confirmButtonText=i("confirmButtonText"),d.doneFunction=arguments[1]||null;break;default:return l.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof r),!1}m.default(d),c.fixVerticalPosition(),c.openModal(arguments[1]);for(var v=c.getModal(),b=v.querySelectorAll("button"),y=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],w=function(e){return f.handleButton(e,d,v)},_=0;_<b.length;_++)for(var x=0;x<y.length;x++){var k=y[x];b[_][k]=w}c.getOverlay().onclick=w,a=e.onkeydown;var C=function(e){return h.default(e,d,v)};e.onkeydown=C,e.onfocus=o.enableButtons()},r.setDefaults=o.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");l.extend(p.default,e)},r.close=o.close=r.showInputError=o.showInputError=r.resetInputError=o.resetInputError=r.disableButtons=o.disableButtons=function(){var e=c.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!0,n.disabled=!0},r.enableButtons=o.enableButtons=void 0!==e?e.sweetAlert=e.swal=r:l.logStr("SweetAlert is a frontend module!")},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",
showLoaderOnConfirm:!1};n.default=i,t.exports=n.default},{}],3:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0});var a=t("./utils"),s=(t("./handle-swal-dom"),t("./handle-dom")),r=function(t,n,i){ar u,l,c,f=t||e.event,h=f.target||f.srcElement,p=-1!==h.className.indexOf("confirm"),m=-1!==h.className.indexOf("sweet-overlay"),g=s.hasClass(i,"visible"),v=n.doneFunction&&"true"===i.getAttribute("data-has-done-function");switch(p&&n.confirmButtonColor&&(u=n.confirmButtonColor,l=a.colorLuminance(u,-.04),c=a.colorLuminance(u,-.14)),f.type){case"mouseover":case"mouseup":r(l);break;case"mouseout":r(u);break;case"mousedown":r(c);break;case"focus":var b=i.querySelector("button.confirm"),y=i.querySelector("button.cancel");p?y.style.boxShadow="none":b.style.boxShadow="none";break;case"click":var w=i===h,_=s.isDescendant(i,h);if(!w&&!_&&g&&!n.allowOutsideClick)break;p&&v&&g?o(i,n):v&&g||m?d(i,n):s.isDescendant(i,h)&&"BUTTON"===h.tagName&&sweetAlert.close()}},o=function(e,t){var n=!0;s.hasClass(e,"show-input")&&((n=e.querySelector("input").value)||(n="")),t.doneFunction(n),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},d=i.default={handleButton:r,handleConfirm:o,handleCancel:d},n.exports=i.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[{}],5:[function(t,i,a){Object.defineProperty(a,"__esModule",{value:!0});var s=t("./handle-dom"),r=t("./handle-swal-dom"),o=function(t,i,a){var o=t||e.event,d=o.keyCode||o.which,u=a.querySelector("button.confirm"),l=a.querySelector("button.cancel"),c=a.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(d)){for(var f=o.target||o.srcElement,h=-1,p=0;p<c.length;p++)if(f===c[p]){h=p;break}9===d?(f=-1===h?u:h===c.length-1?c[0]:c[h+1],s.stopEventPropagation(o),f.focus(),i.confirmButtonColor&&r.setFocusStyle(f,i.confirmButtonColor)):13===d?("INPUT"===f.tagName&&(f=u,u.focus()),f=-1===h?u:n):27===d&&!0===i.allowEscapeKey?(f=l,s.fireClick(f,o)):f=n}};a.default=o,i.exports=a.default},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(n,i,a){var s=Object.defineProperty(a,"__esModule",{value:!0});var r=n("./utils"),o=n("./handle-dom"),d=s(n("./default-params")),u=s(n("./injected-html")),l=".sweet-alert",c=".sweet-overlay",f=h=(),p=m=function(){return t.querySelector(c)},g=v=function(n){var i=h();o.fadeIn(m(),10),o.show(i),o.addClass(i,"showSweetAlert"),o.removeClass(i,"hideSweetAlert"),e.previousActiveElement=t.activeElement,i.querySelector("button.confirm").focus(),setTimeout((,500);var a=i.getAttribute("data-timer");if("null"!==a&&""!==a){var s=n;i.timeout=setTimeout((function(){(s?"true"===i.getAttribute("data-has-done-function"):null)?s(null):sweetAlert.close()}),a)}},b=function(){var e=h(),t=p();o.removeClass(e,"show-input"),t.value=d.default.inputValue,t.setAttribute("type",d.default.inputType),t.setAttribute("placeholder",d.default.inputPlaceholder),y()},y=w=function(){h().style.marginTop=o.getTopMargin(h())};a.sweetAlertInitialize=f,a.getModal=h,a.getOverlay=m,a.getInput=p,a.setFocusStyle=g,a.openModal=v,a.resetInput=b,a.resetInputError=y,a.fixVerticalPosition=w},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel button tertiary sm" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm button primary warning sm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';n.default=i,t.exports=n.default},{}],8:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var a=e("./utils"),s=e("./handle-swal-dom"),r=e("./handle-dom"),o=["error","warning","info","success","input","prompt"],d=function(e){var t=s.getModal(),i=t.querySelector("h2"),d=t.querySelector("p"),u=t.querySelector("button.cancel"),l=t.querySelector("button.confirm");if(i.innerHTML=e.html?e.title:r.escapeHtml(e.title).split("\n").join("<br>"),d.innerHTML=e.html?e.text:r.escapeHtml(e.text||"").split("\n").join("<br>"),e.text&&r.show(d),e.customClass)r.addClass(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var c=t.getAttribute("data-custom-class");r.removeClass(t,c),t.setAttribute("data-custom-class","")}if(r.hide(t.querySelectorAll(".sa-icon")),e.type&&!a.isIE8()){var f=function(){for(var i=!1,a=0;a<o.length;a++)if(e.type===o[a]){i=!0;break}if(!i)return logStr("Unknown alert type: "+e.type),{v:!1};var d=n;-1!==["success","error","warning","info"].indexOf(e.type)&&(d=t.querySelector(".sa-icon.sa-"+e.type),r.show(d));var u=s.getInput();switch(e.type){case"success":r.addClass(d,"animate"),r.addClass(d.querySelector(".sa-tip"),"animateSuccessTip"),r.addClass(d.querySelector(".sa-long"),"animateSuccessLong");break;case"error":r.addClass(d,"animateErrorIcon"),r.addClass(d.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":r.addClass(d,"pulseWarning"),r.addClass(d.querySelector(".sa-body"),"pulseWarningIns"),r.addClass(d.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":u.setAttribute("type",e.inputType),u.value=e.inputValue,u.setAttribute("placeholder",e.inputPlaceholder),r.addClass(t,"show-input"),setTimeout((,400)}}();if("object"==typeof f)return f.v}if(e.imageUrl){var h=t.querySelector(".sa-icon.sa-custom");h.style.backgroundImage="url("+e.imageUrl+")",r.show(h);var p=80,m=80;if(e.imageSize){var g=e.imageSize.toString().split("x"),v=g[0],b=g[1];v&&b?(p=v,m=b):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}h.setAttribute("style",h.getAttribute("style")+"width:"+p+"px; height:"+m+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?u.style.display="inline-block":r.hide(u),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?l.style.display="inline-block":r.hide(l),e.cancelButtonText&&(u.innerHTML=r.escapeHtml(e.cancelButtonText)),e.confirmButtonText&&(l.innerHTML=r.escapeHtml(e.confirmButtonText)),e.confirmButtonColor&&(l.style.backgroundColor=e.confirmButtonColor,l.style.borderLeftColor=e.confirmLoadingButtonColor,l.style.borderRightColor=e.confirmLoadingButtonColor,s.setFocusStyle(l,e.confirmButtonColor)),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var y=!!e.doneFunction;t.setAttribute("data-has-done-function",y),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)};i.default=d,t.exports=i.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0});var a=s=r=o=d=function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,i,a="#";for(i=0;3>i;i++)n=parseInt(e.substr(2*i,2),16),a+=("00"+(n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16))).substr(n.length);return a};i.extend=a,i.hexToRgb=s,i.isIE8=r,i.logStr=o,i.colorLuminance=d},{}]},{},[1]),"function"==typeof define&&define.amd?define((function(){return sweetAlert})):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document),ThreeSixtyViewer={},ThreeSixtyViewer.init=function(e){$(".s-expand-view").hide(),$("#three-sixty-viewer").spritespin({source:e,width:700,height:500,frameTime:20,loop:!1,responsive:!1,detectSubsampling:!0,wrap:!0,sizeMode:"fit",sense:2,plugins:["progress","360","move"]}),$("a.three-sixty-viewer-full_screen-button").click(()},jQuery.trumbowyg={langs:{en:{viewHTML:"View HTML",undo:"Undo",redo:"Redo",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",superscript:"Superscript",subscript:"Subscript",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",link:"Link",createLink:"Insert link",unlink:"Remove link",_self:"Same tab (default)",_blank:"New tab",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",removeformat:"Remove format",fullscreen:"Fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",required:"Required",description:"Description",title:"Title",text:"Text",target:"Target",width:"Width"}},plugins:{},svgPath:null,svgAbsoluteUseHref:!1,hideButtonTexts:null},Object.defineProperty(jQuery.trumbowyg,"defaultOptions",{value:{lang:"en",fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,autogrowOnEnter:!1,imageWidthModalEdit:!1,hideButtonTexts:null,prefix:"trumbowyg-",tagClasses:{},semantic:!0,semanticKeepAttributes:!1,resetCss:!1,removeformatPasted:!1,tabToIndent:!1,tagsToRemove:[],tagsToKeep:["hr","img","embed","iframe","input"],btns:[["viewHTML"],["undo","redo"],["formatting"],["strong","em","del"],["superscript","subscript"],["link"],["insertImage"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"],["horizontalRule"],["removeformat"],["fullscreen"]],btnsDef:{},changeActiveDropdownIcon:!1,inlineElementsSelector:"a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u",pasteHandlers:[],plugins:{},urlProtocol:!1,minimalLinks:!1,linkTargets:["_self","_blank"],svgPath:null},writable:!1,enumerable:!0,configurable:!1}),function(e,t,n,i){"use strict";var a="tbwconfirm",s="tbwcancel";i.fn.trumbowyg=function(e,t){var n="trumbowyg";if(e===Object(e)||!e)return this.each(();if(1===this.length)try{var a=i(this).data(n);switch(e){case"execCmd":return a.execCmd(t.cmd,t.param,t.forceCss,t.skipTrumbowyg);case"openModal":return a.openModal(t.title,t.content);case"closeModal":return a.closeModal();case"openModalInsert":return a.openModalInsert(t.title,t.fields,t.callback);case"saveRange":return a.saveRange();case"getRange":return a.range;case"getRangeText":return a.getRangeText();case"restoreRange":return a.restoreRange();case"enable":return a.setDisabled(!1);case"disable":return a.setDisabled(!0);case"toggle":return a.toggle();case"destroy":return a.destroy();case"empty":return a.empty();case"html":return a.html(t)}}catch(e){}return!1};var r=function(a,s){var r=this,o="trumbowyg-icons",d=i.trumbowyg;r.doc=a.ownerDocument||n,r.$ta=i(a),r.$c=i(a),null!=(s=s||{}).lang||null!=d.langs[s.lang]?r.lang=i.extend(!0,{},d.langs.en,d.langs[s.lang]):r.lang=d.langs.en,r.hideButtonTexts=null!=d.hideButtonTexts?d.hideButtonTexts:s.hideButtonTexts;var u=null!=d.svgPath?d.svgPath:s.svgPath;if(r.hasSvg=!1!==u,!1!==u&&(d.svgAbsoluteUseHref||0===i("#"+o,r.doc).length))if(null==u&&i("script[src]").each((function(e,t){var n=t.src,i=n.match("trumbowyg(.min)?.js");null!=i&&(u=n.substring(0,n.indexOf(i[0]))+"ui/icons.svg")})),null==u)console.warn("You must define svgPath: https://goo.gl/CfTY9U");else if(!d.svgAbsoluteUseHref){var l=r.doc.createElement("div");l.id=o,r.doc.body.insertBefore(l,r.doc.body.childNodes[0]),i.ajax({async:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"xml",crossDomain:!0,url:u,data:null,beforeSend:null,complete:null,success:)}var c=r.doc.querySelector("base")?t.location.href.replace(t.location.hash,""):"";r.svgPath=d.svgAbsoluteUseHref?u:c;var f=r.lang.header,h=r.btnsDef={viewHTML:{fn:"toggle",class:"trumbowyg-not-disable"},undo:{isSupported:h,key:"Z"},redo:{isSupported:h,key:"Y"},p:{fn:"formatBlock"},blockquote:{fn:"formatBlock"},h1:{fn:"formatBlock",title:f+" 1"},h2:{fn:"formatBlock",title:f+" 2"},h3:{fn:"formatBlock",title:f+" 3"},h4:{fn:"formatBlock",title:f+" 4"},h5:{fn:"formatBlock",title:f+" 5"},h6:{fn:"formatBlock",title:f+" 6"},subscript:{tag:"sub"},superscript:{tag:"sup"},bold:{key:"B",tag:"b"},italic:{key:"I",tag:"i"},underline:{tag:"u"},strikethrough:{tag:"strike"},strong:{fn:"bold",key:"B"},em:{fn:"italic",key:"I"},del:{fn:"strikethrough"},createLink:{key:"K",tag:"a"},unlink:{},insertImage:{},justifyLeft:{tag:"left",forceCss:!0},justifyCenter:{tag:"center",forceCss:!0},justifyRight:{tag:"right",forceCss:!0},justifyFull:{tag:"justify",forceCss:!0},unorderedList:{fn:"insertUnorderedList",tag:"ul"},orderedList:{fn:"insertOrderedList",tag:"ol"},horizontalRule:{fn:"insertHorizontalRule"},removeformat:{},fullscreen:{class:"trumbowyg-not-disable"},close:{fn:"destroy",class:"trumbowyg-not-disable"},formatting:{dropdown:["p","blockquote","h1","h2","h3","h4"],ico:"p"},link:{dropdown:["createLink","unlink"]}},r.o=i.extend(!0,{},d.defaultOptions,s),r.o.hasOwnProperty("imgDblClickHandler")||(r.o.imgDblClickHandler=r.getDefaultImgDblClickHandler()),r.urlPrefix=r.setupUrlPrefix(),r.disabled=r.o.disabled||"TEXTAREA"===a.nodeName&&a.disabled,s.btns?r.o.btns=s.btns:r.o.semantic||(r.o.btns[3]=["bold","italic","underline","strikethrough"]),i.each(r.o.btnsDef,(function(e,t){r.addBtnDef(e,t)})),r.eventNamespace="trumbowyg-event",r.keys=[],r.tagToButton={},r.tagHandlers=[],r.pasteHandlers=[].concat(r.o.pasteHandlers),r.isIE=-1!==e.userAgent.indexOf("MSIE")||-1!==e.appVersion.indexOf("Trident/"),r.isMac=-1!==e.platform.toUpperCase().indexOf("MAC"),r.init()};r.prototype={DEFAULT_SEMANTIC_MAP:{b:"strong",i:"em",s:"del",strike:"del",div:"p"},init:function(){var e=this;e.height=e.$ta.outerHeight()-39,e.initPlugins();try{e.doc.execCommand("enableObjectResizing",!1,!1),e.doc.execCommand("defaultParagraphSeparator",!1,"p")}catch(e){}e.buildEditor(),e.buildBtnPane(),e.fixedBtnPaneEvents(),e.buildOverlay(),setTimeout(()},addBtnDef:setupUrlPrefix:buildEditor:function(){var e=this,n=e.o.prefix,a="";e.$box=i("<div/>",{class:n+"box "+n+"editor-visible "+n+e.o.lang+" trumbowyg"}),e.$edBox=i("<div/>",{class:n+"editor-box"}),e.isTextarea=e.$ta.is("textarea"),e.isTextarea?(a=e.$ta.val(),e.$ed=i("<div/>").appendTo(e.$edBox),e.$box.insertAfter(e.$ta).append(e.$edBox,e.$ta)):(e.$ed=e.$ta,a=e.$ed.html(),e.$ta=i("<textarea/>",{name:e.$ta.attr("id"),height:e.height}).val(a),e.$box.insertAfter(e.$ed).append(e.$ta,e.$edBox),e.$edBox.append(e.$ed),e.syncCode()),e.$ta.addClass(n+"textarea").attr("tabindex",-1),e.$ed.addClass(n+"editor").attr({contenteditable:!0,dir:e.lang._dir||"ltr"}).html(a),e.o.tabindex&&e.$ed.attr("tabindex",e.o.tabindex),e.$c.is("[placeholder]")&&e.$ed.attr("placeholder",e.$c.attr("placeholder")),e.$c.is("[spellcheck]")&&e.$ed.attr("spellcheck",e.$c.attr("spellcheck")),e.o.resetCss&&e.$ed.addClass(n+"reset-css"),e.semanticCode(),e.o.autogrowOnEnter&&e.$ed.addClass(n+"autogrow-on-enter");var s,r=!1,o=!1;e.$ed.on("dblclick","img",e.o.imgDblClickHandler).on("keydown",(function(t){var n=t.which;if(8!==n&&13!==n&&46!==n||e.toggleSpan(!0),!t.ctrlKey&&!t.metaKey||t.altKey){if(e.o.tabToIndent&&"Tab"===t.key)try{return t.shiftKey?e.execCmd("outdent",!0,null):e.execCmd("indent",!0,null),!1}catch(e){}}else{r=!0;var i=e.keys[String.fromCharCode(t.which).toUpperCase()];try{return e.execCmd(i.fn,i.param),!1}catch(e){}}})).on("compositionstart compositionupdate",(function(){o=!0})).on("keyup compositionend",(function(t){if("compositionend"===t.type)o=!1;else if(o)return;var n=t.which;if(!(n>=37&&n<=40)){if(8!==n&&13!==n&&46!==n||e.toggleSpan(),!t.ctrlKey&&!t.metaKey||89!==n&&90!==n)if(r||16===n||17===n)void 0===t.which&&e.semanticCode(!1,!1,!0);else{var i=!e.isIE||"compositionend"===t.type;e.semanticCode(!1,i&&13===n),e.$c.trigger("tbwchange")}else e.semanticCode(!1,!0),e.$c.trigger("tbwchange");setTimeout((function(){r=!1}),50)}})).on("input",(function(t){var n=t.originalEvent;"object"==typeof n&&("insertReplacementText"===n.inputType||"insertText"===n.inputType&&null===n.data)&&e.$c.trigger("tbwchange")})).on("mouseup keydown keyup",().on("focus blur",(function(t){if("blur"===t.type&&e.clearButtonPaneStatus(),e.$c.trigger("tbw"+t.type),e.o.autogrowOnEnter){if(e.autogrowOnEnterDontClose)return;"focus"===t.type?(e.autogrowOnEnterWasFocused=!0,e.autogrowEditorOnEnter()):e.o.autogrow||(e.$edBox.css({height:e.$edBox.css("min-height")}),e.$c.trigger("tbwresize"))}})).on("keyup focus",(function(){e.$ta.val().match(/<.*>/)||e.$ed.html().match(/<.*>/)||setTimeout((function(){var t=e.isIE?"<p>":"p";e.doc.execCommand("formatBlock",!1,t),e.syncCode()}),0)})).on("cut drop",().on("paste",(),e.$ta.on("keyup",(function(){e.$c.trigger("tbwchange")})).on("paste",(),i(e.doc.body).on("keydown."+e.eventNamespace,(function(t){if(27===t.which&&i("."+n+"modal-box").length>=1)return e.closeModal(),!1}))},autogrowEditorOnEnter:buildBtnPane:function(){var e=this,t=e.o.prefix,n=e.$btnPane=i("<div/>",{class:t+"button-pane"});i.each(e.o.btns,(function(a,s){Array.isArray(s)||(s=[s]);var r=i("<div/>",{class:t+"button-group "+(s.indexOf("fullscreen")>=0?t+"right":"")});i.each(s,(),r.html().trim().length>0&&n.append(r)})),e.$box.prepend(n)},buildBtn:function(e){var t=this,n=t.o.prefix,a=t.btnsDef[e],s=a.dropdown,r=null==a.hasIcon||a.hasIcon,o=t.lang[e]||e,d=i("<button/>",{type:"button",class:n+e+"-button "+(a.class||"")+(r?"":" "+n+"textual-button"),html:t.hasSvg&&r?'<svg><use xlink:href="'+t.svgPath+"#"+n+(a.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>':t.hideButtonTexts?"":a.text||a.title||t.lang[e]||e,title:(a.title||a.text||o)+(a.key?" ("+(t.isMac?"Cmd":"Ctrl")+" + "+a.key+")":""),tabindex:-1,mousedown:function(){return s&&!i("."+e+"-"+n+"dropdown",t.$box).is(":hidden")||i("body",t.doc).trigger("mousedown"),!((t.$btnPane.hasClass(n+"disable")||t.$box.hasClass(n+"disabled"))&&!i(this).hasClass(n+"active")&&!i(this).hasClass(n+"not-disable")||(t.execCmd((s?"dropdown":a.fn)||e,a.param||e,a.forceCss),1))}});if(s){d.addClass(n+"open-dropdown");var u=n+"dropdown",l={class:u+"-"+e+" "+u+" "+n+"fixed-top "+(a.dropdownClass||"")};l["data-"+u]=e;var c=i("<div/>",l);i.each(s,(),t.$box.append(c.hide())}else a.key&&(t.keys[a.key]={fn:a.fn||e,param:a.param||e});return s||(t.tagToButton[(a.tag||e).toLowerCase()]=e),d},buildSubBtn:function(e){var t=this,n=t.o.prefix,a=t.btnsDef[e],s=null==a.hasIcon||a.hasIcon;return a.key&&(t.keys[a.key]={fn:a.fn||e,param:a.param||e}),t.tagToButton[(a.tag||e).toLowerCase()]=e,i("<button/>",{type:"button",class:n+e+"-dropdown-button "+(a.class||"")+(a.ico?" "+n+a.ico+"-button":""),html:t.hasSvg&&s?'<svg><use xlink:href="'+t.svgPath+"#"+n+(a.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>'+(a.text||a.title||t.lang[e]||e):a.text||a.title||t.lang[e]||e,title:a.key?"("+(t.isMac?"Cmd":"Ctrl")+" + "+a.key+")":null,style:a.style||null,mousedown:)},isSupportedBtn:buildOverlay:function(){var e=this;return e.$overlay=i("<div/>",{class:e.o.prefix+"overlay"}).appendTo(e.$box),e.$overlay},showOverlay:hideOverlay:fixedBtnPaneEvents:function(){var e=this,n=e.o.fixedFullWidth,a=e.$box;e.o.fixedBtnPane&&(e.isFixed=!1,i(t).on("scroll."+e.eventNamespace+" resize."+e.eventNamespace,())},setDisabled:destroy:function(){var e=this,n=e.o.prefix;e.isTextarea?e.$box.after(e.$ta.css({height:""}).val(e.html()).removeClass(n+"textarea").show()):e.$box.after(e.$edBox.css({height:""}).removeClass(n+"editor").removeAttr("contenteditable").removeAttr("dir").html(e.html()).show()),e.$ed.off("dblclick","img"),e.destroyPlugins(),e.$box.remove(),e.$c.removeData("trumbowyg"),i("body").removeClass(n+"body-fullscreen"),e.$c.trigger("tbwclose"),i(t).off("scroll."+e.eventNamespace+" resize."+e.eventNamespace),i(e.doc.body).off("keydown."+e.eventNamespace)},empty:function(){this.doc.execCommand("insertHTML",!1,""),this.$ta.val(""),this.syncCode(!0)},toggle:function(){var e=this,t=e.o.prefix;e.o.autogrowOnEnter&&(e.autogrowOnEnterDontClose=!e.$box.hasClass(t+"editor-hidden")),e.semanticCode(!1,!0),e.$c.trigger("tbwchange"),setTimeout((,0)},toggleSpan:function(e){this.$ed.find("span").each((function(){!0===e?i(this).attr("data-tbw-flag",!0):i(this).attr("data-tbw-flag")?i(this).removeAttr("data-tbw-flag"):i(this).contents().unwrap()}))},dropdown:html:syncTextarea:syncCode:semanticCode:function(e,t,n){var a=this;a.saveRange(),a.syncCode(e);var s=!0;if(a.range&&a.range.collapsed&&(s=!1),a.o.semantic){if(a.semanticTag("b",a.o.semanticKeepAttributes),a.semanticTag("i",a.o.semanticKeepAttributes),a.semanticTag("s",a.o.semanticKeepAttributes),a.semanticTag("strike",a.o.semanticKeepAttributes),t){var r=a.o.inlineElementsSelector,o=":not("+r+")";a.$ed.contents().filter(().wrap("<span data-tbw/>");var d=d(a.$ed.children(r).first()),a.semanticTag("div",!0),i("[data-tbw]",a.$ed).contents().unwrap(),a.$ed.find("p:empty").remove()}!n&&s&&a.restoreRange(),a.syncTextarea()}},semanticTag:function(e,t,n){var a,s=this,r=e;if(null!=this.o.semantic&&"object"==typeof this.o.semantic&&this.o.semantic.hasOwnProperty(e))a=this.o.semantic[e];else{if(!0!==this.o.semantic||!this.DEFAULT_SEMANTIC_MAP.hasOwnProperty(e))return;a=this.DEFAULT_SEMANTIC_MAP[e]}n&&(e=a,a=r),i(e,this.$ed).each((function(){var e=!1,n=i(this);if(0===n.contents().length)return!1;s.range&&s.range.startContainer.parentNode===this&&(e=!0);var r=i("<"+a+"/>");r.insertBefore(n),t&&i.each(n.prop("attributes"),(),r.html(n.html()),n.remove(),!0===e&&(s.range.selectNodeContents(r.get(0)),s.range.collapse(!1))}))},createLink:function(){for(var e,t,n,a=this,s=a.doc.getSelection(),r=s.getRangeAt(0),o=s.focusNode,d=(new XMLSerializer).serializeToString(r.cloneContents())||r+"",u=a.o.linkTargets[0];["A","DIV"].indexOf(o.nodeName)<0;)o=o.parentNode;if(o&&"A"===o.nodeName){var l=i(o);d=l.text(),e=l.attr("href"),a.o.minimalLinks||(t=l.attr("title"),n=l.attr("target")||u);var c=a.doc.createRange();c.selectNode(o),s.removeAllRanges(),s.addRange(c)}a.saveRange();var f={url:{label:a.lang.linkUrl||"URL",required:!0,value:e},text:{label:a.lang.text,value:d}};if(!a.o.minimalLinks){var h=a.o.linkTargets.reduce((,{});i.extend(f,{title:{label:a.lang.title,value:t},target:{label:a.lang.target,value:n,options:h}})}a.openModalInsert(a.lang.createLink,f,(function(e){var t=a.prependUrlPrefix(e.url);if(!t.length)return!1;var n=i(['<a href="',t,'">',e.text||e.url,"</a>"].join(""));return e.title&&n.attr("title",e.title),(e.target||u)&&n.attr("target",e.target||u),a.range.deleteContents(),a.range.insertNode(n[0]),a.syncCode(),a.$c.trigger("tbwchange"),!0}))},prependUrlPrefix:function(e){return this.urlPrefix?/^([a-z][-+.a-z0-9]*:|\/|#)/i.test(e)?e:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?"mailto:"+e:this.urlPrefix+e:e},unlink:function(){var e=this,t=e.doc.getSelection(),n=t.focusNode;if(t.isCollapsed){for(;["A","DIV"].indexOf(n.nodeName)<0;)n=n.parentNode;if(n&&"A"===n.nodeName){var i=e.doc.createRange();i.selectNode(n),t.removeAllRanges(),t.addRange(i)}}e.execCmd("unlink",void 0,void 0,!0)},insertImage:fullscreen:function(){var e,n=this,a=n.o.prefix,s=a+"fullscreen",r=s+"-placeholder",o=n.$box.outerHeight();n.$box.toggleClass(s),(e=n.$box.hasClass(s))?n.$box.before(i("<div/>",{class:r}).css({height:o})):i("."+r).remove(),i("body").toggleClass(a+"body-fullscreen",e),i(t).trigger("scroll"),n.$c.trigger("tbw"+(e?"open":"close")+"fullscreen")},execCmd:function(e,n,a,s){var r=this;s=!!s||"","dropdown"!==e&&r.$ed.focus(),"strikethrough"===e&&r.o.semantic&&r.semanticTag("strike",r.o.semanticKeepAttributes,!0);try{r.doc.execCommand("styleWithCSS",!1,a||!1)}catch(e){}try{r[e+s](n)}catch(a){try{e(n)}catch(a){"insertHorizontalRule"===e?n=void 0:"formatBlock"===e&&r.isIE&&(n="<"+n+">"),r.doc.execCommand(e,!1,n),r.syncCode(),r.semanticCode(!1,!0);try{var o=t.getSelection().focusNode;i(t.getSelection().focusNode.parentNode).hasClass("trumbowyg-editor")||(o=t.getSelection().focusNode.parentNode);var d=r.o.tagClasses[n];d&&i(o).addClass(d)}catch(e){}}"dropdown"!==e&&(r.updateButtonPaneStatus(),r.$c.trigger("tbwchange"))}},openModal:function(e,n,r){var o=this,d=o.o.prefix;if(r=!1!==r,i("."+d+"modal-box",o.$box).length>0)return!1;o.o.autogrowOnEnter&&(o.autogrowOnEnterDontClose=!0),o.saveRange(),o.showOverlay(),o.$btnPane.addClass(d+"disable");var u,l=i("<div/>",{class:d+"modal "+d+"fixed-top"}).css({top:o.$box.offset().top+o.$btnPane.height(),zIndex:99999}).appendTo(i(o.doc.body)),c=d+"dark";0!==o.$c.parents("."+c).length&&l.addClass(c),o.$overlay.one("click",(function(){return l.trigger(s),!1})),u=r?i("<form/>",{action:"",html:n}).on("submit",(function(){return l.trigger(a),!1})).on("reset",().on("submit reset",():n;var f=i("<div/>",{class:d+"modal-box",html:u}).css({top:"-"+o.$btnPane.outerHeight(),opacity:0,paddingBottom:r?null:"5%"}).appendTo(l).animate({top:0,opacity:1},100);return e&&i("<span/>",{text:e,class:d+"modal-title"}).prependTo(f),r&&(i(":input:first",f).focus(),o.buildModalBtn("submit",f),o.buildModalBtn("reset",f),l.height(f.outerHeight()+10)),i(t).trigger("scroll"),o.$c.trigger("tbwmodalopen"),l},buildModalBtn:function(e,t){var n=this.o.prefix;return i("<button/>",{class:n+"modal-button "+n+"modal-"+e,type:e,text:this.lang[e]||e}).appendTo(i("form",t))},closeModal:function(){var e=this,t=e.o.prefix;e.$btnPane.removeClass(t+"disable"),e.$overlay.off();var n=i("."+t+"modal-box",i(e.doc.body));n.animate({top:"-"+n.height()},100,(function(){n.parent().remove(),e.hideOverlay(),e.$c.trigger("tbwmodalclose")})),e.restoreRange()},openModalInsert:function(e,t,n){var r=this,o=r.o.prefix,d=r.lang,u="",l=o+"form-"+Date.now()+"-";return i.each(t,(function(e,t){var n=t.label||e,a=t.name||e,s=t.attributes||{},r=l+e,c=Object.keys(s).map(().join(" ");if("function"==typeof t.type)return t.name||(t.name=a),void(u+=t.type(t,r,o,d));u+='<div class="'+o+'input-row">',u+='<div class="'+o+'input-infos"><label for="'+r+'"><span>'+(d[n]?d[n]:n)+"</span></label></div>",u+='<div class="'+o+'input-html">',i.isPlainObject(t.options)?(u+='<select name="target">',u+=Object.keys(t.options).map((e=>'<option value="'+e+'" '+(e===t.value?"selected":"")+">"+t.options[e]+"</option>")).join(""),u+="</select>"):(u+='<input id="'+r+'" type="'+(t.type||"text")+'" name="'+a+'" '+c,u+=("checkbox"===t.type&&t.value?' checked="checked"':"")+' value="'+(t.value||"").replace(/"/g,"&quot;")+'">'),u+="</div></div>"})),r.openModal(e,u).on(a,(function(){var e=i("form",i(this)),s=!0,o={};i.each(t,(function(t,n){var a=n.name||t,d=i(':input[name="'+a+'"]',e);switch(d[0].type.toLowerCase()){case"checkbox":o[a]=d.is(":checked");break;case"radio":o[a]=d.filter(":checked").val();break;default:o[a]=i.trim(d.val())}n.required&&""===o[a]?(s=!1,r.addErrorOnModalField(d,r.lang.required)):n.pattern&&!n.pattern.test(o[a])&&(s=!1,r.addErrorOnModalField(d,n.patternError))})),s&&(r.restoreRange(),n(o,t)&&(r.syncCode(),r.$c.trigger("tbwchange"),r.closeModal(),i(this).off(a)))})).one(s,()},addErrorOnModalField:function(e,t){var n=this.o.prefix,a=n+"msg-error",s=e.closest("."+n+"input-row");e.on("change keyup",(),s.addClass(n+"input-error").find("."+n+"input-infos label").append(i("<span/>",{class:a,text:t}))},getDefaultImgDblClickHandler:saveRange:restoreRange:function(){var e,t=this,n=t.metaRange,i=t.range,a=t.doc.getSelection();if(i){if(n&&n.start!==n.end){var s,r=0,o=[t.$ed[0]],d=!1,u=!1;for(e=t.doc.createRange();!u&&(s=o.pop());)if(3===s.nodeType){var l=r+s.length;!d&&n.start>=r&&n.start<=l&&(e.setStart(s,n.start-r),d=!0),d&&n.end>=r&&n.end<=l&&(e.setEnd(s,n.end-r),u=!0),r=l}else for(var c=s.childNodes,f=c.length;f>0;)f-=1,o.push(c[f])}try{a.removeAllRanges()}catch(e){}a.addRange(e||i)}},getRangeText:clearButtonPaneStatus:updateButtonPaneStatus:function(){var e=this,t=e.o.prefix,n=t+"active-button "+t+"active",a=t+"original-icon",s=e.getTagsRecursive(e.doc.getSelection().anchorNode);e.clearButtonPaneStatus(),i.each(s,(function(s,r){var o=e.tagToButton[r.toLowerCase()],d=i("."+t+o+"-button",e.$btnPane);if(d.length>0)d.addClass(n);else try{var u=(d=i("."+t+"dropdown ."+t+o+"-dropdown-button",e.$box)).find("svg use"),l=d.parent().data(t+"dropdown"),c=i("."+t+l+"-button",e.$box),f=c.find("svg use");c.addClass(n),e.o.changeActiveDropdownIcon&&u.length>0&&(c.addClass(a).data(a,f.attr("xlink:href")),f.attr("xlink:href",u.attr("xlink:href")))}catch(e){}}))},getTagsRecursive:function(e,t){var n=this;if(t=t||(e&&e.tagName?[e.tagName]:[]),!e||!e.parentNode)return t;e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode);var a=e.tagName;return"DIV"===a?t:("P"===a&&""!==e.style.textAlign&&t.push(e.style.textAlign),i.each(n.tagHandlers,(),t.push(a),n.getTagsRecursive(e.parentNode,t).filter(())},initPlugins:destroyPlugins:}(navigator,window,document,jQuery),$(document).ready((function(){$(".dropdown-menu").find(jQuery.rails.linkClickSelector).on("click",()})),function(){var e=this,t=e._,n={},i=Array.prototype,a=Object.prototype,s=Function.prototype,r=i.push,o=i.slice,d=i.concat,u=a.toString,l=a.hasOwnProperty,c=i.forEach,f=i.map,h=i.reduce,p=i.reduceRight,m=i.filter,g=i.every,v=i.some,b=i.indexOf,y=i.lastIndexOf,w=Array.isArray,_=Object.keys,x=s.bind,k="undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):e._=k,k.VERSION="1.5.2";var C=k.each=k.forEach=function(e,t,i){if(null!=e)if(c&&e.forEach===c)e.forEach(t,i);else if(e.length===+e.length){for(var a=0,s=e.length;s>a;a++)if(t.call(i,e[a],a,e)===n)return}else{var r=k.keys(e);for(a=0,s=r.length;s>a;a++)if(t.call(i,e[r[a]],r[a],e)===n)return}};k.map=k.collect=var $="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=k.reduceRight=k.foldr=k.find=k.detect=k.filter=k.select=k.reject=k.every=k.all=var T=k.some=k.any=k.contains=k.include=k.invoke=k.pluck=k.where=k.findWhere=function(e,t){return k.where(e,t,!0)},k.max=k.min=k.shuffle=k.sample=var S=k.sortBy=var F=k.groupBy=F((),k.indexBy=F((),k.countBy=F((),k.sortedIndex=function(e,t,n,i){for(var a=(n=null==n?k.identity:S(n)).call(i,t),s=0,r=e.length;r>s;){var o=s+r>>>1;n.call(i,e[o])<a?s=o+1:r=o}return s},k.toArray=k.size=k.first=k.head=k.take=k.initial=k.last=k.rest=k.tail=k.drop=k.compact=var j=k.flatten=k.without=k.uniq=k.unique=k.union=k.intersection=k.difference=k.zip=k.object=k.indexOf=function(e,t,n){if(null==e)return-1;var i=0,a=e.length;if(n){if("number"!=typeof n)return e[i=k.sortedIndex(e,t)]===t?i:-1;i=0>n?Math.max(0,a+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;a>i;i++)if(e[i]===t)return i;return-1},k.lastIndexOf=k.range=var D=function(){};k.bind=k.partial=k.bindAll=k.memoize=k.delay=k.defer=k.throttle=function(e,t,n){var i,a,s,r=null,o=0;n||(n={});var d=return function(){var u=new Date;o||!1!==n.leading||(o=u);var l=t-(u-o);return i=this,a=arguments,0>=l?(clearTimeout(r),r=null,o=u,s=e.apply(i,a)):r||!1===n.trailing||(r=setTimeout(d,l)),s}},k.debounce=k.once=k.wrap=k.compose=k.after=k.keys=_||k.values=k.pairs=k.invert=k.functions=k.methods=k.extend=k.pick=k.omit=k.defaults=k.clone=k.tap=var B=k.isEqual=k.isEmpty=k.isElement=function(e){return!(!e||1!==e.nodeType)},k.isArray=w||function(e){return"[object Array]"==u.call(e)},k.isObject=C(["Arguments","Function","String","Number","Date","RegExp"],(),k.isArguments(arguments)||(k.isArguments=,"function"!=typeof/./&&(k.isFunction=function(e){return"function"==typeof e}),k.isFinite=k.isNaN=k.isBoolean=k.isNull=function(e){return null===e},k.isUndefined=function(e){return void 0===e},k.has=function(e,t){return l.call(e,t)},k.noConflict=k.identity=function(e){return e},k.times=k.random=var E={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};E.unescape=k.invert(E.escape);var I={escape:new RegExp("["+k.keys(E.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(E.unescape).join("|")+")","g")};k.each(["escape","unescape"],(),k.result=k.mixin=var A=0;k.uniqueId=k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=k.chain=var N=k.mixin(k),C(["pop","push","reverse","shift","sort","splice","unshift"],(),C(["concat","join","slice"],(),k.extend(k.prototype,{chain:value:function(){return this._wrapped}})}.call(this),function(){(e,t){this.c=e,this.a=t}tion X(e){for(var t=e.f.length,n=0;n<t;n++){var i=e.f[n].split(":"),a=i[0].replace(/\+/g," "),s=["n4"];if(2<=i.length){var r;if(r=[],o=i[1])for(var o,d=(o=o.split(",")).length,u=0;u<d;u++){var l;if((l=o[u]).match(/^[\w-]+$/))if(null==(f=ue.exec(l.toLowerCase())))l="";else{if(l=null==(l=f[2])||""==l?"n":de[l],null==(f=f[1])||""==f)f="4";else var c=oe[f],f=c||(isNaN(f)?"4":f.substr(0,1));l=[l,f].join("")}else l="";l&&r.push(l)}0<r.length&&(s=r),3==i.length&&(r=[],0<(i=(i=i[2])?i.split(","):r).length&&(i=re[i[0]])&&(e.c[a]=i))}for(e.c[a]||(i=re[a])&&(e.c[a]=i),i=0;i<s.length;i+=1)e.a.push(new v(a,s[i]))}}function Q(e,t){this.c=e,this.a=t}r ee=Date.now||te=!!window.FontFace;g.prototype.c=E.prototype.start=var ne={D:"serif",C:"sans-serif"},ie=null;I.prototype.start=var ae=null;R.prototype.g=R.prototype.h=z.prototype.load=q.prototype.load=W.prototype.load=var se="https://fonts.googleapis.com/css",re={latin:"BESbswy","latin-ext":"\xe7\xf6\xfc\u011f\u015f",cyrillic:"\u0439\u044f\u0416",greek:"\u03b1\u03b2\u03a3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},oe={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},de={i:"i",italic:"i",n:"n",normal:"n"},ue=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,le={Arimo:!0,Cousine:!0,Tinos:!0};Q.prototype.load=J.prototype.load=Z.prototype.load=var ce=new z(window);ce.a.c.custom=function(e,t){return new W(t,e)},ce.a.c.fontdeck=function(e,t){return new Z(t,e)},ce.a.c.monotype=function(e,t){return new q(t,e)},ce.a.c.typekit=function(e,t){return new J(t,e)},ce.a.c.google=var fe={load:n(ce.load,ce)};"function"==typeof define&&define.amd?define((function(){return fe})):"undefined"!=typeof module&&module.exports?module.exports=fe:(window.WebFont=fe,window.WebFontConfig&&ce.load(window.WebFontConfig))}(),window.Highlight={show:function(e,t){if(this.hide(0),e&&!(e.length<1)){var n=e.get();(!t||t.length<1)&&(t=$("body"));var i=t.get(0);if(this._addOverlayLayer(n[0],i))for(var a=0;a<n.length;a++)this._showElement(n[a]);return!1}},hide:function(e){e=void 0!==e?e:500;var t=document.body.querySelector(".highlight-overlay");if(t){t.style.opacity=0,setTimeout((,e);var n=document.querySelectorAll(".highlight-showElement");if(n&&n.length>0)for(var i=n.length-1;i>=0;i--)n[i].className=n[i].className.replace(/highlight-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"");var a=document.querySelectorAll(".highlight-fixParent");if(a&&a.length>0)for(i=a.length-1;i>=0;i--)a[i].className=a[i].className.replace(/highlight-fixParent/g,"").replace(/^\s+|\s+$/g,"")}},_showElement:function(e){e.className+=" highlight-showElement";var t=this._getPropValue(e,"position");"absolute"!==t&&"relative"!==t&&(e.className+=" highlight-relativePosition");for(var n=e.parentNode;null!=n&&"body"!==n.tagName.toLowerCase();){var i=this._getPropValue(n,"z-index");/[0-9]+/.test(i)&&(n.className+=" highlight-fixParent"),n=n.parentNode}if(!this._elementInViewport(e)){var a=e.getBoundingClientRect(),s=this._getWinSize().height,r=a.bottom-(a.bottom-a.top),o=a.bottom-s;r<0||e.clientHeight>s?window.scrollBy(0,r-30):window.scrollBy(0,o+100)}},_getPropValue:function(e,t){var n="";return e.currentStyle?n=e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),n&&n.toLowerCase?n.toLowerCase():n},_getWinSize:function(){if(null!=window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}},_elementInViewport:_addOverlayLayer:function(e,t){var n=document.createElement("div"),i="";if(n.className="highlight-overlay","body"===t.tagName.toLowerCase())i+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",n.setAttribute("style",i);else{var a=this._getOffset(t);a&&(i+="width: "+a.width+"px; height:"+a.height+"px; top: 0px;left: 0px;",n.setAttribute("style",i))}return t.appendChild(n),n.onclick=function(){Highlight.hide()},t.onclick=function(){Highlight.hide()},setTimeout((function(){i+="opacity: .9;",n.setAttribute("style",i)}),10),!0},_getOffset:function(e){var t={};t.width=e.offsetWidth,t.height=e.offsetHeight;for(var n=0,i=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)n+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return t.top=i,t.left=n,t}},$.fn.extend({lockFor:function(e){var t=$(this);return"request"==e&&t.find("button").addClass("button disabled").attr("disabled","disabled"),t.attr("data-locked","true")},isLockedFor:function(){return"true"===$(this).attr("data-locked")},isLocked:unlockFor:function(e){var t=$(this);return"request"==e&&t.find("button.button.disabled").removeClass("disabled").removeAttr("disabled"),t.attr("data-locked","false")},isUnlocked:),function(){var e={},t=Object.freeze(["viewed","downloaded","shared","deleted","updated","deleted_attachment","added_attachments","searched"]);e.createSession=e.updateSession=function(e){i(e)},e.deleteSession=e.createEvent=function(e,t,i,a){BFG.currentUser&&BFG.currentUser.su||(o()?r(e,t,i,a):n().done(())},e.trackSearchEvent=function(e){if(0!=e.length){var t=BF.fx.collection().key,n=BF.fx.brandfolder().key,i={search_query:e.trim()};t.length>0?r("searched",t,"collection",i):n&&r("searched",n,"brandfolder",i)}};var n=function(){return $.ajax({url:INSIGHTS_API_URL+"/ingestion/api/v1/sessions",method:"POST",xhrFields:{withCredentials:!0}})},i=function(e){return $.ajax({url:INSIGHTS_API_URL+"/ingestion/api/v1/sessions",method:"PUT",xhrFields:{withCredentials:!0},data:{data:{attributes:{user:{email:e}}}}})},a=function(e){if(e&&e.resource_type&&e.resource_type!=SOURCE.resource_type)return{resource_type:e.resource_type,resource_key:e.resource_key};if(SOURCE&&"share_manifest"==SOURCE.resource_type){if(BF.fx.resource()&&"share_manifest"!=BF.fx.resource().type)return{resource_type:BF.fx.resource().type,resource_key:BF.fx.resource().key};if(BF.fx.brandfolder()&&BF.fx.brandfolder().key){var t=BF.fx.collection()&&BF.fx.collection().key?BF.fx.collection:BF.fx.brandfolder;return{resource_type:t().type,resource_key:t().key}}return null}return SOURCE},s=function(e){return e&&e.search_query?{search_query:e.search_query}:{}},r=function(e,n,i,r){var o=t.indexOf(e)>-1;if(o&&n&&i&&a(r)){var d=a(r);d.share_manifest_key=BFG.manifest&&BFG.manifest.key||"";var u={source:d,action_name:e,resource_key:n,resource_type:i},l=s(r);return Object.keys(l).forEach((),$.ajax({url:INSIGHTS_API_URL+"/ingestion/api/v1/events",method:"POST",xhrFields:{withCredentials:!0},data:{data:{attributes:{data:u}}}})}o?console.warn("resourceKey and resourceType are required to create an event."):console.warn("'"+e+"' is not a valid actionName for an event. Allowed actionNames are: '"+t.join("', '")+"'.")},o=window.Insight=e}(),function(){var e=[],t={};t.notifications=e;var n={},i=["help","error","success"],a=_.template('    <li class="m-notification-list-item <%= type %> j-notification-list-item" data-notification-key="<%= key %>">      <a class="j-notification-dismiss" aria-label="<%= bfTranslate("Close alert button") %>" href="#" role="button" tabindex="1"><span class="bff-close"></span></a>      <% if(body){ %>        <div class="m-notification-title"><%= title %></div>        <div class="m-notification-body"><%= body %></div>      <% } else { %>        <div class="m-notification-title no-expand"><%= title %></div>      <% } %>    </li>  ');t.create=function(t){var n=new r(t);return e.push(n),n.trigger("create.notify"),"success"==t.type&&setTimeout((function(){n.make.dismissed()}),8e3),n},t.find=function(t){var n=new RegExp(t,"i"),i=_.find(e,(function(e){return t===e.key})),a=_.find(e,();return i||a},t.last=function(){return _.max(t.all(),(function(e){if("dismissed"!=e.status)return e.createdAt}))},t.info=function(e){var n={status:t.last()&&t.last().type||null,count:t.all().length};return n[e]||n},t.all=function(){return _.filter(e,()},t.makeAll=function(e){_.each(t.all(),(function(t){t.make[e]()}))},t.updateIcon=function(){_.each(t.info(),()};var s=r=function(e){if(!(e=e||{}).type||!e.title)throw"Notifications need a type and a title.";var t=this;t.type=e.type,t.title=e.title,t.body=e.body,t.target=e.target,t.parentTarget=e.parentTarget,t.key=s(),t.$el=$(a(t)),t.createdAt=Date.now(),t.trigger=function(){var e=Array.prototype.slice.call(arguments);t.$el.trigger("event.notify",t),_.each(e,()},t.make={active:function(){return t.$el.removeClass("dormant dismissed").addClass("active"),t.$el.focus(),t.trigger("active.notify"),t},dormant:function(){return t.$el.removeClass("active dismissed").addClass("dormant"),t.trigger("dormant.notify"),t},dismissed:function(){t.$el.remove(),delete t},expanded:function(){return t.$el.toggleClass("expanded"),t.trigger("expanded.notify"),t},highlighted:function(){return Highlight.show($(t.target),$(t.targetParent)),t.trigger("highlighted.notify"),t}},t.isActive=function(){return t.$el.hasClass("active")},t.isDormant=function(){return t.$el.hasClass("dormant")},t.isDismissed=function(){return t.$el.hasClass("dismissed")},t.isExpanded=t.isCollapsed=t.isHighlighted=var r=function(){return d(),o(),t.$el=t.$el.appendTo(n[t.type]),$(".j-notifications-home-container").is(":visible")&&t.make.dormant(),t},o=function(){var n=e.init||["active","expanded"];_.each(n,()},d=function(){_.each(i,()};r()};window.Notify=t;var o=$(document).ready((function(){$(".j-notifications-dismiss-all").on("click",(function(){return Notify.makeAll("dismissed"),!1})),$(".j-notifications-expand-all").on("click",(),$(".j-notifications").on("click",".j-notification-dismiss",(function(e){var t=Notify.find(o(e.target));return t&&t.make.dismissed(),!1})),$(".j-notifications").on("event.notify",t.updateIcon),$(".navbar .dropdown-toggle").on("click",(function(){Notify.makeAll("dormant")})),$(".j-notifications").trigger("event.notify")}))}(),function(){var e={};$.extend({onKey:function(t,n,i){i=i||250,n=n||"general",clearTimeout(e[n]),e[n]=setTimeout(t,i)}})}(),window.BF={},BF.vars={speed:250,reax:50,assets:["generic_file","external_medium","press","person","font","color"],assetPlurals:{generic_file:"files",external_medium:"media",press:"press",person:"people",font:"fonts",color:"colors"}},BF.handlers=BF.handlers||{},BF.pages=BF.pages||{},BF.init=function(){$(".dropdown-toggle").dropdown(),$(".j-language_selector").on("change",(function(){var e=$(this).val(),t=$(this).data("lang"),n=window.location.href,i=-1===n.indexOf("?")?"?":"&",a=n+i+"locale="+e;n.indexOf("locale=")>-1&&(a=location.href.replace("locale="+t,"locale="+e)),window.location.href=a})),BF.fx.handle("tooltips",$("[rel~=tooltip]")),BF.fx.handle("popovers",$("[rel~=popover]")),BF.fx.handle("selectFieldTransform",$(".j-new-permission-level")),BF.fx.handle("selectFieldTransform",$(".j-permission-level")),$.each($(".lazy-links"),(),BF.activeNav=function(e){for(var t=0;t<BF.sectionsArray.length;t++){var n=BF.sectionsArray[t],i=$(n).length?$(n).offset().top-50:null,a=$(n).height(),s=$("a[href='"+BF.sectionsArray[0]+"']"),r=BF.sectionsArray[0],o=$("a[href='"+n+"']");!s.hasClass("nav-active")&&e<$(r).offset().top&&(s.addClass("nav-active"),s.children(".j-section-count").html()),e>=i&&e<=i+a&&!o.hasClass("active")?o.addClass("nav-active"):o.removeClass("nav-active")}},$(window).scroll((function(){var e=$(window).scrollTop();$(window).height(),$(window).width(),$(document).height(),e>=35?$(".m-notifications-popup-container").addClass("top10"):$(".m-notifications-popup-container").removeClass("top10")}))},BF.Analytics={show:function(){var e=$(this),t=e.parents(".j-brandfolder-panel"),n=t.data("slug"),i=t.data("brandfolder-name"),a=e.data("slug"),s="/"+n+"/api/modals/analytics";1==e.data("collection")&&(s=s+"?collection_slug="+a),BF.dialog.render("Analytics for "+i,s,(function(){$(".j-disable-slack").click((function(e){e.preventDefault(),BF.Analytics.update.call($(".j-disable-slack").parents("form").get(0),!0)}))}))},update:function(e){var t=$(this),n=(BF.fx.slug(),t.find("#brandfolder_hooks_slack").val());e&&(n="");var i={google_analytics_id:t.find("#brandfolder_google_analytics_id").val(),hooks:{slack:n,webhook:t.find("#brandfolder_hooks_webhook").val(),ignored_types:t.find("#brandfolder_ignored_types").val()}};$.ajax({url:t.attr("action"),type:"PUT",data:$.param({brandfolder:i}),success:function(){BF.dialog.dismiss(),Notify.create({title:bfTranslate("Analytics & Events Updated"),type:"success"})},error:function(e){var t=JSON.parse(e.responseText);Notify.create(t)}})}},BF.API={request:function(e,t,n){var i={};return e=BF.fx.parseURL(e).reconstruct((function(e){e.params.token=BF_Token,i.authorization="Bearer "+BF_Token,"undefined"!=typeof BF_Manifest&&BF_Manifest&&(i["x-bf-manifest"]=BF_Manifest,e.params.manifest=BF_Manifest)})),$.ajax({url:e,headers:i,dataType:"json",contentType:"application/json;charset=utf-8",data:n,async:!0,type:t})},get:function(e){return BF.API.request(e,"GET")},put:function(e,t){return BF.API.request(e,"PUT",t)},patch:function(e,t){return BF.API.request(e,"PATCH",t)},post:delete:,BF.currentSearchTerm=void 0,BF.currentSearchTermWithFilters=void 0,BF.fx={data:function(e,t){var n=e instanceof jQuery?e:$(e);return n.data(t)||n.parents("[data-"+t+"]").data(t)},handle:function(e,t){var n=Array.prototype.slice.call(arguments,2);return t.not('[data-handled~="'+e+'"]').each((function(){BF.handlers[e].call(this,n);var t=$(this).attr("data-handled");t?$(this).attr("data-handled",t+" "+e):$(this).attr("data-handled",e)}))},enableDropdown:function(){$(document).on("keyup click",(function(e){var t=$(e.target).closest(".j-dropdown-parent");t.length&&"Escape"!==e.key?t.hasClass("expanded")?(t.removeClass("expanded").addClass("collapsed"),t.attr("aria-expanded","false")):t.hasClass("collapsed")&&(t.attr("aria-expanded","true"),t.removeClass("collapsed").addClass("expanded")):$(".j-dropdown-parent").removeClass("expanded").addClass("collapsed")}))},renderFlash:function(e,t){t||(t="error"),Notify.create({title:e,type:t})},should_pluralize:function(e,t){return 1==e&&t?t:t?BF.fx.pluralize(t):""},pluralize:function(e){switch(e.toLowerCase()){case"person":return"people";case"press":return"press";case"external_medium":return"external_media";case"information":return"texts";case"approval":return"approvals";default:return e+"s"}},singularize:function(e){switch(e.toLowerCase()){case"people":return"person";case"press":return"press";case"external_media":return"external_medium";case"information":case"text":return"text";default:return e.substring(0,e.length-1)}},friendlyName:function(e){switch(e.toLowerCase()){case"external_medium":case"external_media":return"external media";case"generic_file":case"generic_files":return"file";default:return e}},snakeCase:resource:function(){var e=$(".j-resource");return{name:String(e.data("name")||"").trim(),key:String(e.data("key")||"").toLowerCase().trim(),slug:String(e.data("slug")||"").toLowerCase().trim(),type:String(e.data("type")||"").trim()}},organization:function(){var e=$(".j-organization");return{name:String(e.data("name")||"").trim(),key:String(e.data("key")||"").toLowerCase().trim(),slug:String(e.data("slug")||"").toLowerCase().trim(),type:"Organization"}},brandfolder:function(){var e=$(".j-brandfolder");return{name:String(e.data("name")||"").trim(),key:String(e.data("key")||"").toLowerCase().trim(),slug:String(e.data("slug")||"").toLowerCase().trim(),type:"Brandfolder"}},collection:function(){var e=$(".j-collection");return{name:String(e.data("name")||"").trim(),key:String(e.data("key")||"").toLowerCase().trim(),slug:String(e.data("slug")||"").toLowerCase().trim(),view_only:e.data("view-only"),type:"Collection"}},slug:permSlug:function(){return $(".j-slug").data("permslug")},brandfolderID:function(){return BF.fx.brandfolder().key},collectionName:function(){return BF.fx.collection().name},collectionSlug:role:function(){return $(".j-brandfolder-show-container").data("role")},countAssets:fadeInOK:function(e){var t=$(e).find(".m-asset-ok-overlay");t.html("<span class='bff-confirmation'></span>").fadeIn(BF.vars.speed,(function(){t.fadeOut(1500,(function(){t.empty()}))}))},fadeInError:function(e){var t=$(e).find(".m-asset-error-overlay");t.html("<span class='bff-close'></span>").fadeIn(BF.vars.speed,()},countElements:function(e){var t=$("#section-"+e+" .m-element[data-key]:visible").length,n=1===t?"Asset":"Assets",i=$(".nav-pills-sections[data-section="+e+"]");$("#section-"+e+" .j-section-count").html(t+" "+n);var a=$("#section-"+e+" .j-select-section");t>0?(i.removeClass("s-category-no-assets"),a.removeClass("hide")):(i.addClass("s-category-no-assets"),a.addClass("hide"))},countAllElements:function(){var e=$(".m-element[data-key]:visible").not(".m-link").length,t=1===e?"Asset":"Assets";$j_assets=$(".j-assets"),$j_assets.text(e+" "+t)},hashtagFilter:function(e){BF.dialog.dismiss(),0===e.indexOf("#")&&(e=e.replace("#","")),BF.fx.fillInAndFilterQuery('tags:"'+e+'"')},fillInAndFilterQuery:function(e){var t=$("#brandfolderSearch");t.focus(),Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(t[0],e);var n=new Event("input",{bubbles:!0});t[0].dispatchEvent(n),setTimeout((function(){$(".search-options-dropdown .anchor-element-click-container").click(),$(".search-options-dropdown #OR").click();var e=$(".search-input-container > .search-button"),t=$(".search-input-container > .search-button-mobile"),n=$(".search-input-container > #brandfolderSearch");e.is(":visible")&&e.click(),t.is(":visible")&&t.click(),n.is(":visible")&&BF.fx.dispatchWindowEvent("submitJQueryInput")}),0)},hidePin:function(){$(".j-brandfolder-pin").hide()},hexToRGB:rgbToHEX:function(e,t,n){return((1<<24)+(parseInt(e)<<16)+(parseInt(t)<<8)+parseInt(n)).toString(16).slice(1)},validateEmail:function(e){var t=e.indexOf("@"),n=e.lastIndexOf(".");return!(t<1||n<t+2||n+2>=e.length)},captureBfKeyboardShortcuts:function(){$(window).keydown((function(e){if($(".modal.in").length<=0&&!$(e.target).is("textarea")&&!$(e.target).is("input")&&"70"==e.which&&(e.metaKey||e.ctrlKey)&&(t=$(".search-input-container")).length){e.preventDefault();var t=$(".search-input-container");$("#brandfolderSearch").focus(),t.addClass("pulse-search"),t.offset()&&$.scrollTo(t.offset().top-100,BF.vars.speed,{onAfter:)}}))},processHash:function(){var e=window.location.hash,t=e.split("?");return t&&(t=t[0].split("/")),e&&"#"!==e&&(BF.dialog.dismiss(),"#!settings"===t[0]?"privacy"===t[1]?$("[data-opener='settings/privacy']").click():$("[data-opener='settings']").click():"#!manage_users"===t[0]?$(".j-brandfolder-show-user-permissions").first().click():"#!analytics_events"===t[0]?$("[data-opener='analytics_events']").click():"#!embed_code"===t[0]?$("[data-opener='embed_code']").click():"#!preview_as_guest"===t[0]?$("[data-opener='preview_as_guest']").click():"#!request_assets"===t[0]?$("[data-opener='request_assets']").click():"#!"===e.substr(0,2)&&t[1]&&BF.Asset.fetchAsset(t[1]).done((function(e){BF.Asset.show(e.data,void 0,t[2])}))),!1},parseURL:function(e){function t(e){var t={};return e&&e.length>0&&$.each(decodeURIComponent(e).split("&"),(function(e,n){parts=n.split("="),key=parts[0],value=parts[1],"[]"==key.slice(-2)?(key=key.slice(0,key.length-2),t[key]=t[key]||[],t[key].push(value)):t[key]=value})),t}return hashParts=e.split("#"),paramParts=hashParts[0].split("?"),vars={baseURL:paramParts[0],params:t(paramParts[1]),hash:hashParts[1]},fns={reconstruct:toString:function(){return e=vars.baseURL,Object.keys(vars.params).length>0&&(e=e+"?"+$.param(vars.params)),vars.hash&&(e=e+"#"+vars.hash),e}},parsedURL=$.extend(vars,fns),parsedURL},numberFormat:function(e){return(e=(e=e.toString()).replace(new RegExp("^(\\d{"+(e.length%3?e.length%3:0)+"})(\\d{3})","g"),"$1 $2").replace(/(\d{3})+?/gi,"$1 ").trim()).replace(/\s/g,",")},throwClippy:function(e){var t=e.responseText;"string"==typeof t?void 0!==(t=JSON.parse(t)).title?Notify.create(t):_.each(t,(function(e){void 0!==e.title?Notify.create(e):_.each(e,(function(e){Notify.create(e)}))})):(t=JSON.parse(e.responseText),_.each(t,(function(e){Notify.create(e)})))},organizationSlug:function(e){return $(e).data("organization-slug")},putCursorAtEnd:function(e){var t,n;document.createRange?((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select())},disableSortable:function(e){$(e).hasClass("ui-sortable")&&($(e).sortable("disable"),$("<style id='disabled-sorting'>").prop("type","text/css").html(".m-element-action-sort {display: none !important;}").appendTo("head"))},enableSortable:function(e){$(e).sortable("option","disabled",!1),$("#disabled-sorting").remove()},dataLayerPush:dispatchWindowEvent:function(e,t,n){var i=t?e+t:e,a=new window.CustomEvent(i,{detail:n});window.dispatchEvent(a)},updateAssetPageCount:function(e,t){var n=$(".asset-count-container .qty"),i=$(".asset-count-container .assets"),a=Number(n.html()),s=t?a+e:a-e;s&&n.html(s),1==a&&1!==s?i.html("Assets"):1!=a&&1==s&&i.html("Asset")}},BF.dialog={render:function(e,t,n,i){$("#dialog").trigger("new-modal-load"),$("#dialog").modal("show"),$(".modal-dialog .modal-header .bff-download").remove(),n=n||$.noop,e=e&&""!==e.toString().trim()?e:"No title";var a=encodeURIComponent(e),s=t.indexOf("attachments")>0?{resource_type:"Brandfolder"}:{};t.indexOf("/attachments/")>-1&&($(".modal-content").prepend('<div class="back-arrow"><div class="arrow"><div class="line"></div><div class="point"/></div></div>'),BF.fx.handle("backToAsset",$(".back-arrow"))),$("#dialogHeader").html(decodeURIComponent(a)),$("#dialogBody").html('<div class="s-dialog-body-loading flex-wrapper center" style="font-size: 94px; color: #ccc; height: 100%;"><video className="brandfolder-loader" width="90" height="90" poster="https://cdn.brandfolder.io/4OQZ5PW1/as/pxmju5-qfr48-21nt37/generic-loader.gif"/></div>');var r=t.replace(window.location.origin+"/",""),o=window.location.origin+"/"+r,d=!!(i&&i.length>0);d?window.DD_RUM&&window.DD_RUM.startView&&window.DD_RUM.startView(window.location.pathname+"/asset-modal-tab/"+i):t&&t.indexOf("/ui/")>=0&&window.DD_RUM&&window.DD_RUM.startView&&window.DD_RUM.startView(window.location.pathname+"/asset-modal-tab/attachments"),$.ajax({url:o,type:"GET",dataType:"html",data:s,beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},success:function(e){var t=window.innerHeight>=1160&&e.indexOf("s-portrait-view"),a=window.innerHeight>=900&&e.indexOf("s-landscape-view")>0;t||a?$("#dialogBody").html(e.replace("/view.","/view@2x.")):$("#dialogBody").html(e);var s=[];$.each($("#dialogBody .m-download-attachment"),(),$.fn.preload=$(s).preload(),BF.fx.handle("showShareModal",$(".j-brandfolder-show-share")),n(),d&&$(".s-attachment-tabs li."+i+" a").tab("show")},error:function(e){var t=JSON.parse(e.responseText);Notify.create(t)}})},renderFlash:function(e,t){t=t||"error",Notify.create({title:e,type:t})},dismiss:function(){$("form.new_search_filter").length>0&&$("form.new_search_filter").attr("data-locked","false"),$(".modal-dialog.modal-asset").length&&BFG.editTabUnsavedChanges?$("#dialog").modal("hide"):($("#dialog").modal("hide"),$(".modal-backdrop").remove(),$(".modal-open").removeClass("modal-open"))},setup:function(){$("#dialogHeader").empty(),$("#dialogBody").empty(),$("#dialogFlash").empty(),$("#dialog").removeClass("modal-vertical-center"),BF.fullModal?($assetModal=$("#dialog").find(".modal-dialog").removeClass(),$assetModal.addClass("modal-dialog").addClass("modal-full modal-asset"),BF.fullModal=!1):$("#dialog").find(".modal-dialog").removeClass().addClass("modal-dialog").addClass("modal-lg")},formData:function(){var e=$("#dialog").find("form.j-asset-submit");if(e.is(":visible")){var t=BF.fx.data(e,"asset"),n=e.find("input,textarea,select"),i=_.reduce(n,(function(e,t){if($field=$(t),$field.attr("name")&&$field.val()&&-1!=$field.attr("name").indexOf("[tag_names]")){var n=$field.val().split(", "),i=_.uniq(n);e[$field.attr("name")]=i.join(", ")}else"custom_fields[]"!==$field.attr("name")&&(e[$field.attr("name")]=$field.val());return e}),{});return["generic_file","person","press"].indexOf(t)>=0&&(e.data("upload-queue")||e.data("upload-queue",[]),i[t]={attachments_attributes:e.data("upload-queue")}),$.param(i)}return{}},unmountTabComponents:function(){window.DD_RUM&&window.DD_RUM.startView&&window.DD_RUM.startView(window.location.pathname),ReactRailsUJS.unmountComponents("#attachments"),ReactRailsUJS.unmountComponents("#similarity"),ReactRailsUJS.unmountComponents("#comments"),ReactRailsUJS.unmountComponents("#embed"),ReactRailsUJS.unmountComponents("#usage"),ReactRailsUJS.unmountComponents("#metadata"),ReactRailsUJS.unmountComponents("#asset-templating-settings"),ReactRailsUJS.unmountComponents(".filestack-uploader-component"),ReactRailsUJS.unmountComponents("#uppy-attachment-upload"),ReactRailsUJS.unmountComponents("#new-edit-modal"),ReactRailsUJS.unmountComponents("#brandfolder-configuration"),ReactRailsUJS.unmountComponents("#brandfolder-advanced"),ReactRailsUJS.mountComponents("#logo-image-upload"),ReactRailsUJS.mountComponents("#favicon-image-upload"),ReactRailsUJS.mountComponents("#header-image-upload"),ReactRailsUJS.mountComponents("#background-image-upload"),ReactRailsUJS.mountComponents("#card-image-upload"),ReactRailsUJS.mountComponents("#email-logo-image-upload"),ReactRailsUJS.mountComponents(".embed-attachment-button-component")}},BF.Asset={new:function(){var e=BF.fx.data(this,"section"),t=BF.fx.data(this,"asset"),n=BF.fx.data(this,"singular");Notify.makeAll("dormant");var i=BF.fx.slug()+"/sections/"+e+"/ui/"+BF.fx.pluralize(t)+"/new";BF.fx.collectionSlug()&&(i=i+"?collection_slug="+BF.fx.collectionSlug()),BF.dialog.render("New "+BF.fx.friendlyName(n),i,BF.handlerGroups.newAsset)},create:function(e){var t=$(this),n=BF.fx.data(t,"section"),i=BF.fx.data(t,"asset"),a=BF.fx.pluralize(i),s=$("button.j-modal-submit-button"),r=s.html();"external_medium"===BF.fx.data(t,"singular")?s.html("<span class='bff-spinner-gif'></span> "+bfTranslate(" Fetching Media")):s.html("<span class='bff-spinner-gif'></span> "+bfTranslate("Adding Asset"));var o="/"+BF.fx.slug()+"/sections/"+n+"/ui/"+a;BF.fx.collectionSlug()&&(o=o+"?collection_slug="+BF.fx.collectionSlug()),$.ajax({url:o,type:"POST",dataType:"json",data:e,success:function(e){Notify.makeAll("dormant"),t.unlockFor("request"),BF.fx.updateAssetPageCount(1,!0),e.html?(e.asset_key,"link"===i?($(".j-sample-link").tooltip("hide"),$(".j-sample-link").remove(),$(".j-new-links-show").show(),BF.fx.fadeInOK($(e.html).insertBefore(".j-new-element.j-new-link"))):BF.fx.dispatchWindowEvent("refreshSection",n),BF.dialog.dismiss(),BF.fx.countElements(n),BF.fx.countAllElements()):Notify.create(e)},error:function(e){BF.fx.throwClippy(e),s.html(r),t.lockFor("changes"),t.unlockFor("request")}})},show:function(e,t,n){var i={},a=e.id,s=e.type,r=e.relationships.section.data.id,o=e.attributes.name,d=BF.fx.data($(".j-slug"),"edit"),u=BF.fx.data($(".j-slug"),"wp-browser"),l=BF.fx.collection().slug,c=BF.fx.data($(".j-brandfolder-show-container"),"sharing-disallowed"),f=BF.fx.slug()||BF.fx.data($(".j-brandfolder-show-container"),"brandfolder-slug");d&&(i.edit=!0),u&&(i.wp_browser=!0),l&&(i.collection_slug=l),BFG.manifestDigest&&(i.manifest_digest=BFG.manifestDigest),c&&(i.sharing_disallowed=!0),t&&(i.ugt_locale=t);var h=f+"/sections/"+r+"/ui/"+s+"/"+a+"?"+$.param(i);Notify.makeAll("dormant"),BF.fullModal=!0,BF.dialog.render(encodeURIComponent(o),h,BF.handlerGroups.showAsset,n);var p={resource_type:BF.fx.resource().type,resource_key:BF.fx.resource().key};Insight.createEvent("viewed",a,"asset",p),"share_manifest"===p.resource_type&&Insight.createEvent("viewed",a,"asset")},update:function(e,t){t=t||$.noop;var n=$(this).hasClass("j-asset-submit")?$(this):$("#asset-edit-form"),i=BF.fx.data(n,"section"),a=BF.fx.data(n,"asset"),s=BF.fx.data(n,"singular"),r=BF.fx.data(n,"key"),o=$("button.j-modal-submit-button"),d=o.html();"media"===s?o.html("<span class='bff-spinner-gif'></span> "+bfTranslate(" Fetching Media")):o.html("<span class='bff-spinner-gif'></span> "+bfTranslate(" Updating Asset"));var u="/"+BF.fx.brandfolder().slug+"/sections/"+i+"/ui/"+BF.fx.pluralize(a)+"/"+r;BF.fx.collection().slug&&(u=u+"?collection_slug="+BF.fx.collection().slug),$.ajax({url:u,type:"PUT",dataType:"json",data:BF.dialog.formData(a),success:function(e){if(Notify.makeAll("dormant"),n.unlockFor("request"),o.html(d),"link"==a)return BF.Asset.refresh(e.asset_key,e.html),void $("button.close").click();BF.fx.dispatchWindowEvent("refreshSection",i);var t=e.html.split('data-name="')[1],s=t.slice(0,t.indexOf('"'));$("#"+r).attr("data-name",s),BF.fullModal=!0,u.indexOf("?")>0?u+="&edit=true":u+="?edit=true",BF.dialog.render(encodeURIComponent(s),u,BF.handlerGroups.showAsset),Insight.createEvent("updated",r,"asset")},error:function(e){BF.fx.throwClippy(e),o.html(d),n.unlockFor("request")}})},destroy:function(){var e=$(this),t=BF.fx.data(e,"type")||BF.fx.data(e,"asset"),n=BF.fx.data(e,"section");if(BF.fx.updateAssetPageCount(1,!1),"links"===n||BF.fx.collectionSlug()){BF.fx.data(e,"singular");var i=BF.fx.data(e,"key"),a=$("button.j-edit-destroy"),s=a.html();a.html('<span class="bff-spinner-gif"></span>'+bfTranslate("Deleting"));var r="link"===t?"links":t,o="/"+BF.fx.slug()+"/sections/"+n+"/ui/"+r+"/"+e.attr("id");BF.fx.collectionSlug()&&(o=o+"?collection_slug="+BF.fx.collectionSlug()),$.ajax({url:o,type:"DELETE",success:function(a){"link"===t&&BF.Asset.findElements(i).remove(),e.fadeOut(BF.vars.speed,(function(){e.remove(),BF.fx.countElements(n),BF.fx.countAllElements()})),Notify.create({type:"success",title:bfTranslate("Successfully deleted ")+a.name}),e.unlockFor("changes"),BF.dialog.dismiss(),Insight.createEvent("deleted",i,"asset")},error:function(){Notify.create({type:"error",title:bfTranslate("Error deleting asset. Please try again.")}),a.html(s),e.lockFor("changes"),e.unlockFor("request")}})}else{var d=e.attr("id");BF.Asset.destroyReactAsset(d,e)}},destroyReactAsset:function(e,t){var n=t.closest("article.section-container").attr("id"),i=$("button.j-edit-destroy"),a=i.html();i.html('<span class="bff-spinner-gif"></span>'+bfTranslate("Deleting")),$.ajax({url:"/api/v4/assets/"+e,type:"DELETE",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},success:function(){BF.fx.dispatchWindowEvent("refreshSection",n),Notify.create({type:"success",title:bfTranslate("Successfully Deleted")}),t.unlockFor("changes"),BF.dialog.dismiss(),Insight.createEvent("deleted",e,"asset")},error:function(){Notify.create({type:"error",title:bfTranslate("Error deleting asset. Please try again.")}),i.html(a),t.lockFor("changes"),t.unlockFor("request")}})},findElement:findElements:refresh:fetchAsset:function(e,t){return url="/api/v4/assets/"+e+"?&include=section"+(t?"&ugt_locale="+t:""),$.ajax({type:"GET",url:url,contentType:"application/json",headers:{Authorization:"Bearer "+BF_Token}})},nextPrev:function(e,t,n){
var i,a=$("#"+e);if("next"===t)i=a.next();else{if("prev"!==t)return BF.dialog.dismiss();i=a.prev()}if(i&&i.length){var s=i.attr("id");if(BFG.editTabUnsavedChanges){var r={direction:t};return void BF.fx.dispatchWindowEvent("unsavedChangesAlert",null,r)}BF.Asset.fetchAsset(s,n).done(()}else BF.dialog.dismiss()}},BF.Brandfolder={updatePrivacy:function(){var e=$(this),t=e.closest("label"),n=e.is(":checked"),i=n?"public":$("#brandfolder_stealth_mode").is(":checked")?"stealth":"private",a=e.data("brandfolder-slug");"brandfolder"===a?Notify.create({title:bfTranslate("Could not make private"),body:bfTranslate("Brandfolder's Brandfolder cannot be private."),type:"error"}):$.ajax({url:"/"+a,type:"put",dataType:"json",data:$.param({brandfolder:{privacy:i}}),success:function(){t.attr("data-privacy",i),"private"==i?(BF.PrivacySettings.showBrandfolder.call(e),Notify.create({title:bfTranslate("Your Brandfolder is now private"),type:"success"})):(BF.PrivacySettings.showBrandfolder.call(e),Notify.create({title:bfTranslate("Your Brandfolder is now public"),type:"success"})),BF.Brandfolder.updatePrivacyIcon(i,a)},error:function(t){e.prop("checked",!n);var i=JSON.parse(t.responseText);Notify.create(i)}})},updatePrivacyIcon:function(e,t){var n=$(".j-brandfolder-show-privacy-settings[data-brandfolder-slug='"+t+"']");n.find(".circle").removeClass("public private stealth").addClass(e),n.find(".privacy").text(e)},toggleControlledCustomFields:function(e,t){var n=e.data("toggle-to");$.ajax({url:"/"+t,type:"PUT",contentType:"application/json",data:JSON.stringify({brandfolder:{controlled_custom_fields_enabled:n}}),success:function(){e.data("toggle-to",!n),$(".j-controlled-custom-fields").toggle()},error:function(){Notify.create({title:bfTranslate("Unable to update Brandfolder. Try again."),type:"error"})}})},updateUserAgreement:function(){var e=$(this),t=e.closest("label"),n=e.is(":checked"),i=n?"true":"false",a=e.data("brandfolder-slug");"brandfolder"===a?Notify.create({title:bfTranslate("Could not update user agreement"),type:"error"}):$.ajax({url:"/"+a,type:"put",dataType:"json",data:$.param({brandfolder:{user_agreement:i}}),success:function(){var e=$this.parents(".m-brandfolder-user-agreement-container").children(".m-brandfolder-user-agreement-form");t.attr("data-privacy",i),"false"==i?(e.addClass("hidden"),Notify.create({title:bfTranslate("Your Brandfolder requires no user agreement."),type:"success"})):(e.removeClass("hidden"),Notify.create({title:bfTranslate("Your Brandfolder now requires a user agreement"),type:"success"}))},error:function(t){e.prop("checked",!n);var i=JSON.parse(t.responseText);Notify.create(i)}})}},BF.BulkAction={result_poller:function(e,t,n){var i=$(".download_progress_indicator span");n>3e5?Notify.create({title:bfTranslate("Could not convert file"),body:bfTranslate("Sorry, the file could not be converted."),type:"error"}):$.ajax({url:e,type:"POST",data:t,crossDomain:!0,beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},success:function(a,s,r){var o=r.status,d=a.complete,u=a.total;if(200===o)i.text("Beginning Download"),window.location=a.data.redirect_url,setTimeout((function(){$(".download_progress_indicator").removeClass("active"),setTimeout((function(){$(".download_progress_indicator").css("visibility","hidden"),i.text(bfTranslate("Hang tight! We're preparing your download..."))}),1e3)}),1e3);else{$(".download_progress_indicator").css("visibility","visible").addClass("active");var l=1.1*n;setTimeout((function(){BF.BulkAction.result_poller(e,t,l),i.text(bfTranslate("Hang tight! We're preparing your download... ")+d+bfTranslate(" of ")+u)}),l)}},error:function(){$(".download_progress_indicator").css("visibility","hidden"),Notify.create({title:bfTranslate("Could not convert file"),body:bfTranslate("Sorry, the file could not be converted."),type:"error"})}})},selected_asset_keys:function(){return _.map(BF.Assets.where({bulkSelected:!0}),(function(e){return e.get("asset_key")}))},bulk_download:function(){$(".j-bulk-download .dropdown-menu").hide();var e=[],t=[];$("input[name=select_attachment]:checked").each((function(){t.push($(this).val()),e.push($(this).data("asset-key"))}));var n="attachment",i={attachment_keys:t},a="/api/v3/"+SOURCE.resource_type+"s/"+SOURCE.resource_key+"/"+n+"s/download",s=$(".j-download-options > .j-resize-download-height").val(),r=$(".j-download-options > .j-resize-download-width").val(),o=$(".j-download-options > .j-resize-download-format").val(),d=$(".j-download-options > .j-resize-download-fill").val();s&&(i.height=s),r&&(i.width=r),o&&(i.file_format=o),d&&(i.pad=d),$(".download_progress_indicator").css("visibility","visible").addClass("active"),$.ajax({url:a,type:"POST",data:i,beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},success:function(e){$("input[name=select_attachment]:checked").prop("checked",!1).trigger("change"),e.data&&e.data.redirect_url?(Notify.create({title:"Downloaded "+e.data.total_count+" "+BF.fx.should_pluralize(e.data.total_count,n),type:"success"}),window.location.href=e.data.redirect_url,$(".download_progress_indicator").css("visibility","hidden")):BF.BulkAction.result_poller(a.replace("download","bulk-convert-download-poller"),e.data,500)},error:function(){Notify.create({title:bfTranslate("Something went wrong. Try again soon!"),type:"error"}),$(".download_progress_indicator").css("visibility","hidden")},complete:function(){$(".j-bulk-download .dropdown-menu").show(),e.forEach(()}})},bulk_advanced_download_show:function(e){var t=BF.fx.resource()||BF.BulkAction.resource(),n=Array.from(e.props.selectedAssetKeys);$.ajax({url:"/bulk/advanced_download/gather",type:"POST",data:{asset_keys:n,resource_type:t.type,resource_key:t.key},dataType:"json",success:function(e){BF.dialog.render(bfTranslate("Bulk Download & Sharing"),e.show_url,(function(){BF.fx.handle("bulkAdvancedDownload",$(".j-download-selected")),BF.fx.handle("bulkAdvancedDownloadShare",$(".j-share-selected")),BF.fx.handle("bulkAdvancedCSVDownload",$(".j-download-attachments-csv")),BF.fx.handle("tooltips",$("[rel~=tooltip]")),$(".modal-dialog").addClass("BulkDownloadModal modal-content-wrapper"),$(".modal-dialog .modal-header").addClass("modal-content-wrapper__header"),$(".modal-dialog .modal-body").addClass("modal-content-wrapper__body"),$(".modal-dialog .modal-header").prepend("<span class='bff-download icon'></span>")}))},error:function(e){var t=JSON.parse(e.responseText);Notify.create(t)}})},bulk_download_share:function(){var e=[];$("input[name=select_attachment]:checked").each((function(){e.push($(this).val())}));var t="attachment",n={attachment_keys:e},i="/api/v3/"+SOURCE.resource_type+"s/"+SOURCE.resource_key+"/"+t+"s/download",a=$(".j-download-options > .j-resize-download-height").val(),s=$(".j-download-options > .j-resize-download-width").val(),r=$(".j-download-options > .j-resize-download-format").val(),o=$(".j-download-options > .j-resize-download-fill").val();a&&(n.height=a),s&&(n.width=s),r&&(n.file_format=r),o&&(n.pad=o),$(".download_progress_indicator span").text("Preparing Share Link"),$(".download_progress_indicator").css("visibility","visible").addClass("active"),$.ajax({url:i,type:"POST",data:n,beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},success:function(e){var t=e.data.manifest_key;$("input[name=select_attachment]:checked").prop("checked",!1).trigger("change"),$(".download_progress_indicator").css("visibility","hidden"),$("#dialog").trigger("new-modal-load"),$("#dialogHeader").html("Share"),$.ajax({url:"/share_manifests_modal/"+t,type:"get",dataType:"html",success:function(e){BF.BulkAction.update_modal(e)},error:)},error:function(){Notify.create({title:bfTranslate("Something went wrong. Try again soon!"),type:"error"}),$(".download_progress_indicator").css("visibility","hidden")}})},bulk_advanced_csv_download:function(){var e=$(this);e.attr("disabled",!0);var t=[];$("input[name=select_attachment]:checked").each((function(){t.push($(this).val())}));var n=$(".download_progress_indicator");$(".download_progress_indicator span").text(bfTranslate("Hang tight! We're building your CSV download")),n.css("visibility","visible").addClass("active");var i=BF.fx.resource().key,a=BF.fx.resource().type,s=(e.data("jwt"),"/api/v3/csv_download/attachments"),r={attachment_keys:t,resource_type:a+"s",resource_key:i},o=new XMLHttpRequest;o.open("POST",s,!0),o.responseType="arraybuffer",o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.setRequestHeader("Authorization","Bearer "+BF_Token),o.onload=function(){if(200===this.status){var t="",n=o.getResponseHeader("Content-Disposition");if(n&&-1!==n.indexOf("attachment")){var i=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(n);null!=i&&i[1]&&(t=i[1].replace(/['"]/g,""))}var a=o.getResponseHeader("Content-Type"),s="function"==typeof File?new File([this.response],t,{type:a}):new Blob([this.response],{type:a}),r=window.URL||window.webkitURL,d=r.createObjectURL(s);if(t){var u=document.createElement("a");void 0===u.download?window.location=d:(u.href=d,u.download=t,document.body.appendChild(u),u.click())}else window.location=d;setTimeout((function(){r.revokeObjectURL(d)}),100),$(".download_progress_indicator").removeClass("active")}else $(".download_progress_indicator").removeClass("active"),Notify.create({title:bfTranslate("An error occured!"),body:bfTranslate("Please try again!"),type:"error"});e.attr("disabled",!1)},o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(JSON.stringify(r))},update_modal:function(e){var t=$("#dialog");t.find("#dialogBody").html(e),t.addClass("modal-vertical-center"),t.find(".modal-dialog").removeClass("modal-sm").addClass("modal-lg").addClass("modal-sweet-alert"),t.modal("show"),BF.fx.handle("tooltips",$("[rel~=tooltip]")),BF.Share.enableSharingActionButtons(),BF.Share.attachSharingEvents()},resource:function(){return{type:$(".j-bulk-select-actions").data("resource-type"),key:$(".j-bulk-select-actions").data("resource-key")}}},function(){BF.BulkCollection={create:function(){var e="/"+BF.fx.slug()+"/collections/new";BFG&&BFG.resource&&BFG.resource.type&&"collection"===BFG.resource.type&&(e=e+"?parent_collection_key="+BFG.resource.key),$.ajax({url:e,type:"get",headers:{"x-brandfolder-modal":!0},dataType:"html",success:error:function(e){var t=JSON.parse(e.responseText);Notify.create(t)}})},dialogLoaded:function(data,createOnly){function updateSlug(){$collectionNameField.val()&&$collectionSlugField.val($collectionNameField.val().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").substring(0,$collectionSlugField.attr("maxlength")))}function updateSelect(){$newCollectionOptions=$form.find(".j-new-collection-options"),createOnly||"+"==$(this).val()?($newCollectionOptions.show(),$form.find(".chzn-single span").addClass("aqua-blue bold")):($form.find(".chzn-single span").removeClass("aqua-blue bold"),$newCollectionOptions.hide())}var $dialog=$("#dialog");$dialog.trigger("new-modal-load"),$dialog.find("#dialogHeader").html("Create/Add To Collection"),$dialog.find("#dialogBody").html(data),$dialog.addClass("modal-vertical-center"),$dialog.find(".modal-dialog").addClass("modal-sweet-alert modal-lg"),$dialog.modal("show");var $form=$dialog.find("form"),page=$form.data("page"),$submitButton=$form.find(".j-modal-submit-button"),$collectionNameField=$form.find("input#collection_name"),$collectionSlugField=$form.find("input#collection_slug");BF.fx.handle("tooltips",$("[rel~=tooltip]")),BF.fx.handle("datepicker",$("[data-behaviour~=datepicker]")),BF.fx.handle("selectFieldTransform",$(".j-select-collection")),$form.submit((function(e){return""===$(".j-select-collection").val()?(e.preventDefault(),$form.find(".chzn-single").addClass("invalid"),!1):"+"!==$(".j-select-collection").val()||""!==$collectionNameField.val()&&""!==$collectionSlugField.val()?($submitButton.html('<span class="bff-spinner-gif"></span> '+bfTranslate("Saving")),$form.lockFor("request"),!0):(e.preventDefault(),""===$collectionNameField.val()&&$collectionNameField.addClass("invalid"),""===$collectionSlugField.val()&&$collectionSlugField.addClass("invalid"),!1)})),$form.find(".chzn-single").click((function(){$(this).removeClass("invalid")})),$collectionNameField.keyup(updateSlug),$collectionSlugField.change((),$dialog.find(".j-modal-cancel-button").click((function(e){e.preventDefault(),BF.dialog.dismiss()})),$form.find("input").keypress((function(e){if($form.find("input").removeClass("invalid"),13==e.which)return e.preventDefault(),$form.submit(),!1})),$selectBox=$form.find("select#collection_collection_key"),$selectBox.change(updateSelect),updateSelect.call($selectBox[0]),$availabilityCheckbox=$form.find("input#asset_association_set_expiration"),$availabilityCheckbox.change((function(){$availabilityOptions=$form.find(".j-expiry-options"),$(this).is(":checked")?$availabilityOptions.removeClass("s-hide"):($availabilityOptions.addClass("s-hide"),$availabilityOptions.find('input[type="text"]').val(""))})),$form.on("ajax:complete",(function(e,xhr){if(xhr.status<400)eval(xhr.responseText);else{$submitButton.html(bfTranslate("Done")),$form.unlockFor("request"),$form.unlockFor("changes");var response=JSON.parse(xhr.responseText);Notify.create(response),"Upgrade Required"==response.title?BF.dialog.dismiss():BF.BulkCollection.dialogLoaded(response.html)}}))}}}(),BF.Collection={updatePrivacy:function(){var e=$(this),t=e.closest("label"),n=e.is(":checked"),i=n?"public":$("#brandfolder_stealth_mode").is(":checked")?"stealth":"private";$.ajax({url:"/"+BF.fx.slug()+"/"+BF.fx.collectionSlug(),type:"put",dataType:"json",data:$.param({collection:{privacy:i}}),success:function(){t.attr("data-privacy",i),"private"==i?(BF.PrivacySettings.showCollection.call(e),Notify.create({title:bfTranslate("Your collection is now private"),type:"success"})):(BF.PrivacySettings.showCollection.call(e),Notify.create({title:bfTranslate("Your collection is now public"),type:"success"})),BF.Collection.updatePrivacyIcon(i,BF.fx.collectionSlug())},error:function(t){e.prop("checked",!n);var i=JSON.parse(t.responseText);Notify.create(i)}})},updatePrivacyIcon:function(e,t){var n=$(".j-brandfolder-show-privacy-settings[data-brandfolder-slug='"+t+"']");n.find(".circle").removeClass("public private stealth").addClass(e),n.find(".privacy").text(e)},updateUserAgreement:function(){var e=$(this),t=e.closest("label"),n=e.is(":checked"),i=n?"true":"false";"brandfolder"===e.data("collection-slug")?Notify.create({title:bfTranslate("Could not update user agreement"),type:"error"}):$.ajax({url:"/"+BF.fx.slug()+"/"+BF.fx.collectionSlug(),type:"put",dataType:"json",data:$.param({collection:{user_agreement:i}}),success:function(){var e=$this.parents(".m-brandfolder-user-agreement-container").children(".m-brandfolder-user-agreement-form");t.attr("data-privacy",i),"false"==i?(e.addClass("hidden"),Notify.create({title:bfTranslate("Your Collection requires no user agreement."),type:"success"})):(e.removeClass("hidden"),Notify.create({title:bfTranslate("Your Collection now requires a user agreement"),type:"success"}))},error:function(t){e.prop("checked",!n);var i=JSON.parse(t.responseText);Notify.create(i)}})}},$(document).ready((function(){BF.fx.handle("destroyBrandfolder",$(".j-destroy-brandfolder"))})),BF.handlerGroups={newAsset:function(){$.trumbowyg.svgPath="/icons.svg",BF.fx.handle("filepickerTransform",$(".filepicker")),BF.fx.handle("submitNewForm",$(".j-asset-submit, .j-modal-submit-button")),BF.fx.handle("updatePreview",$(".j-update-preview")),BF.fx.handle("selectFieldTransform",$(".j-font-chozen")),BF.fx.handle("setFocusOnFirstInput",$("#dialog")),BF.fx.handle("datepicker",$("[data-behaviour~=datepicker]")),BF.fx.handle("inputExternalLink",$(".j-external-link")),BF.fx.handle("fetchMediaOnBlur",$("#external_medium_url")),BF.fx.handle("showShareModal",$(".j-brandfolder-show-share")),BF.fx.handle("convertHEXtoRGB",$(".j-hex-input")),BF.fx.handle("convertRGBtoHEX",$(".j-rgb-input")),BF.fx.handle("bulkUpload",$(".j-bulk-upload")),BF.fx.handle("tagsInput",$("input[data-role=tokenfield]")),BF.fx.handle("setupAutoSuggestedTags",$(".j-autosuggested-tag-container")),BF.fx.handle("instantiateWysiwyg",$(".j-wysiwyg-textarea"))},showAsset:function(){$.trumbowyg.svgPath="/icons.svg",BF.fx.handle("tooltips",$(".modal-body [rel~=tooltip]")),BF.fx.handle("popovers",$(".modal-body [rel~=popover]")),BF.fx.handle("swapPreviewImg",$(".modal-body .m-download-attachment")),BF.fx.handle("updateActiveTabDropdown",$(".j-update-active-tab")),BF.fx.handle("triggerReactTabEvent",$(".j-trigger-react-tab")),BF.fx.handle("copyToClipboard",$(".j-copy-color, .j-description-copy, .j-copy")),BF.fx.handle("showOtherMetadata",$(".j-other-metadata-show")),BF.fx.handle("enableEmbedToggle",$(".j-toggle-embed-media")),BF.fx.handle("selectFieldTransform",$(".j-select-image-dimensions, .j-select-file-type")),BF.fx.handle("selectSmallDimensions",$(".j-small-dimensions")),BF.fx.handle("toggleRestrictedDimensions",$(".j-toggle-restricted-dimensions")),BF.fx.handle("updateRestrictedDimensions",$(".j-update-restricted-dimensions")),BF.fx.handle("validateRestrictedDimensions",$(".j-validate-restricted-dimensions")),BF.fx.handle("maintainRestrictedDimensionsRatio",$(".j-validate-restricted-dimensions")),BF.fx.handle("selectMediumDimensions",$(".j-medium-dimensions")),BF.fx.handle("selectLargeDimensions",$(".j-large-dimensions")),BF.fx.handle("selectOriginalDimensions",$(".j-original-dimensions")),BF.fx.handle("refreshAssetShow",$(".j-attachment-video-conversion-status[data-key]")),BF.fx.handle("showAttachmentOptionDropdown",$(".j-attachment-options")),BF.fx.handle("trackAssetDownloadForAttachment",$(".j-track-download-attachment")),BF.fx.handle("showDownloadAlert",$(".j-show-download-alert")),BF.fx.handle("showVideoOptionDropdown",$(".j-video-options")),BF.fx.handle("openCloseVideoOptions",$(".current-video-option")),BF.fx.handle("videoFormatCheckbox",$(".video-checkbox-option")),BF.fx.handle("openDropdownOnHover",$(".j-wordpress-options")),BF.fx.handle("selectAssetExtension",$(".j-asset-ext")),BF.fx.handle("closeAttachmentOptionDropdown",$(".j-download-custom-attachment")),BF.fx.handle("submitAttachmentConversionForm",$(".attachment_convert_form")),BF.fx.handle("maintainImageSizeRatio",$(".j-asset-width, .j-asset-height")),BF.fx.handle("toggleAspectRatioLock",$(".j-toggle-aspect-ratio-lock")),BF.fx.handle("selectAllPreText",$("pre")),BF.fx.handle("showReply",$(".j-show-reply")),BF.fx.handle("deleteComment",$(".j-delete-comment")),BF.fx.handle("filterOnCustomFields",$(".j-custom-field")),BF.fx.handle("showSocialShare",$(".j-social-share-links")),BF.fx.handle("showAdvancedDownload",$(".j-advanced-download-link")),BF.fx.handle("filepickerTransform",$(".filepicker")),BF.fx.handle("selectFieldTransform",$(".j-font-chozen")),BF.fx.handle("submitUpdateForm",$(".j-asset-submit, .j-modal-submit-button")),BF.fx.handle("removeAsset",$(".j-edit-remove")),BF.fx.handle("destroyAsset",$(".j-edit-destroy")),BF.fx.handle("datepicker",$("[data-behaviour~=datepicker]")),BF.fx.handle("inputExternalLink",$(".j-external-link")),BF.fx.handle("fetchMediaOnBlur",$("#external_medium_url")),BF.fx.handle("showShareModal",$(".j-brandfolder-show-share")),BF.fx.handle("updatePreview",$(".j-update-preview")),BF.fx.handle("convertHEXtoRGB",$(".j-hex-input")),BF.fx.handle("convertRGBtoHEX",$(".j-rgb-input")),BF.fx.handle("addCustomField",$(".j-add-custom-field")),BF.fx.handle("removeCustomField",$(".j-remove-custom-field")),BF.fx.handle("tagsInput",$("input[data-role=tokenfield]")),BF.fx.handle("setupAutoSuggestedTags",$(".j-autosuggested-tag-container")),BF.fx.handle("selectFieldTransform",$(".j-custom-field-value")),BF.fx.handle("deleteAssetThumbnailOverride",$(".j-delete-asset-thumbnail-override")),BF.fx.handle("deleteAssetWatermark",$(".j-delete-asset-watermark")),BF.fx.handle("assetThreeSixtyViewer",$(".j-asset-threesixty-toggle")),BF.fx.handle("assetBackgroundColor",$(".j-asset-background-color")),BF.fx.handle("templatingButtonToggle",$(".j-templating-button-toggle")),BF.fx.handle("instantiateWysiwyg",$(".j-wysiwyg-textarea")),BF.fx.handle("activateLabelFromBreadcrumb",$(".j-select-label-breadcrumb"))},editAsset:function(){BF.handlerGroups.showAsset(),BF.fx.handle("filepickerTransform",$(".filepicker")),BF.fx.handle("selectFieldTransform",$(".j-font-chozen")),BF.fx.handle("submitUpdateForm",$(".j-asset-submit, .j-modal-submit-button")),BF.fx.handle("removeAsset",$(".j-edit-remove")),BF.fx.handle("destroyAsset",$(".j-edit-destroy")),BF.fx.handle("datepicker",$("[data-behaviour~=datepicker]")),BF.fx.handle("inputExternalLink",$(".j-external-link")),BF.fx.handle("fetchMediaOnBlur",$("#external_medium_url")),BF.fx.handle("showShareModal",$(".j-brandfolder-show-share")),BF.fx.handle("updatePreview",$(".j-update-preview")),BF.fx.handle("convertHEXtoRGB",$(".j-hex-input")),BF.fx.handle("convertRGBtoHEX",$(".j-rgb-input")),BF.fx.handle("addCustomField",$(".j-add-custom-field")),BF.fx.handle("removeCustomField",$(".j-remove-custom-field")),BF.fx.handle("tagsInput",$("input[data-role=tokenfield]")),BF.fx.handle("selectFieldTransform",$(".j-custom-field-value")),BF.fx.handle("deleteAssetThumbnailOverride",$(".j-delete-asset-thumbnail-override")),BF.fx.handle("deleteAssetWatermark",$(".j-delete-asset-watermark")),BF.fx.handle("assetBackgroundColor",$(".j-asset-background-color")),BF.fx.handle("assetThreeSixtyViewer",$(".j-asset-threesixty-toggle")),BF.fx.handle("templatingButtonToggle",$(".j-templating-button-toggle"))},shareModal:,_.extend(BF.handlers,{toggleControlledCustomFields:function(){$(this).on({click:function(){$checkbox=$(this);var e=$checkbox.data("brandfolder-slug");BF.Brandfolder.toggleControlledCustomFields($checkbox,e)}})}}),_.extend(BF.handlers,{submitNewInvitation:function(){$(this).on({submit:function(e){e.preventDefault(),$(".pulsate").removeClass("pulsate"),$email_field=$(this).find(".j-new-permission-email"),/(.+@.+)|\*/.test($email_field.val())?(BF.Invitation.create.call(this),$(this).unlockFor("changes")):BF.fx.renderFlash(bfTranslate("Invalid email address"))}})},destroyInvitation:function(){$(this).on({click:function(){var e=$(this);swal({title:bfTranslate("Really?"),text:bfTranslate("Are you sure you want to delete this invitation?\n\n"),type:"warning",showCancelButton:!0,confirmButtonText:bfTranslate("Delete"),closeOnConfirm:!0,customClass:"deleting"},(function(t){t&&BF.Invitation.destroy.call(e)}))}})},openBrandfolder:function(){$(this).on({click:function(e){var t=$(this),n=$(e.target);n.hasClass(".workspaces-list")||n.parents(".workspaces-list").length>0||(window.location="/"+t.parents(".j-brandfolder-panel").data("slug"))}})},submitChangeOfPermission:function(){$(this).on({change:function(){BF.UserPermission.update.call(this)}})},inviteSelectedAccessRequests:function(){$(this).on({click:function(e){e.preventDefault();var t=[];return $("input[name=access_request]:checked").each((function(){t.push($(this).val())})),t.length>0&&($(".j-new-permission-email").val(t),$("#dialog").animate({scrollTop:$(".j-brandfolder-panel-body-users").position().top},"slow"),BF.handlers.calloutCollabsSelect.call($("#invitation_permission_level_chzn"))),!1}})},deleteSelectedAccessRequests:function(){$(this).on({click:function(e){e.preventDefault();var t=[],n=$(this);return $("input[name=access_request]:checked").each((),t.length>0&&swal({title:bfTranslate("Confirm Delete"),text:bfTranslate("Are you sure you want to delete "+t.length+" selected "+BF.fx.should_pluralize(t.length,"access request")+"?\n\n"),type:"warning",showCancelButton:!0,confirmButtonText:bfTranslate("Delete"),closeOnConfirm:!0,customClass:"deleting"},(function(e){e&&BF.UserPermission.deleteSelectedAccessRequests(n.data("slug"),n.data("collectionslug"),n.data("collectionsbrandfolderslug"),t)})),!1}})},inviteAccessRequestMasterToggle:function(){$(this).on({click:function(){var e=$(this).siblings("input[type='checkbox']"),t=!e.prop("checked");e.prop("checked",t).removeClass("partially-checked"),t?$("input[name=access_request]").prop("checked",!0):$("input[name=access_request]").prop("checked",!1)}})},inviteAccessRequestToggle:function(){$(this).on({click:function(){var e=$(this).siblings("input[type='checkbox']"),t=!e.prop("checked");$(this).hasClass("checked")?$(this).removeClass("checked"):$(this).addClass("checked"),e.prop("checked",t);var n=$("input[name='access_request_master']"),i=$("input[name='access_request']").length,a=$("input[name='access_request']:checked").length;0===a?n.prop("checked",!1).removeClass("partially-checked"):a===i?n.prop("checked",!0).removeClass("partially-checked"):n.prop("checked",!1).addClass("partially-checked")}})},inviteAccessRequest:function(){$(this).on({click:function(){return $(".j-access-request-toggle").prop("checked",!1),$(".j-new-permission-email").val($(this).text()),$("#dialog").animate({scrollTop:$(".j-brandfolder-panel-body-users").position().top},"slow"),BF.handlers.calloutCollabsSelect.call($("#invitation_permission_level_chzn")),!1}})},destroyUserPermission:function(){var e=$(this).hasClass("j-destroy-all-permissions")?bfTranslate("Are you sure you want to remove this user from all properties in this Organization?\n\n"):bfTranslate("Are you sure you want to remove this user?\n\n");$(this).on({click:function(){var t=$(this);swal({title:bfTranslate("Really?"),text:e,type:"warning",showCancelButton:!0,confirmButtonText:bfTranslate("Remove"),closeOnConfirm:!0,customClass:"deleting"},()}})},calloutCollabsSelect:function(){var e=$(this);e.tooltip({title:bfTranslate("Choose an access level and click 'Send Invites'"),delay:{show:500,hide:100},trigger:"manual"}).tooltip("show"),$(".j-invitation-form .chzn-single").addClass("pulsate"),e.on({focus:function(){e.tooltip("hide")},click:function(){$(".j-invitation-form .chzn-single").removeClass("pulsate")}})},updatePrivacySetting:function(){$(this).on({change:function(){BF.fx.collectionSlug().length>0?BF.Collection.updatePrivacy.call(this):BF.Brandfolder.updatePrivacy.call(this)}})},updateDefaultNewUserPermission:function(){$(this).on({change:function(e){e.preventDefault();var t=$(this),n=t.val(),i=BF.fx.pluralize(t.data().resourceType).toLowerCase(),a=t.data().resourceKey,s={data:{type:i,id:a,attributes:{default_user_permission:n}}},r="/api/v4/"+("portals"===i?"private/":"")+i+"/"+a;$.ajax({url:r,type:"PUT",data:s,dataType:"json",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},success:function(){Notify.create({title:bfTranslate("Default Permission Saved"),body:bfTranslate("This setting has been saved for new users."),type:"success"})},error:function(){Notify.create({title:bfTranslate("Error Saving Default Permission"),body:bfTranslate("The default permission was not saved. Try refreshing the page and setting the permission again."),type:"error"})}})}})},copyInviteLink:function(){$(this).on({click:function(e){e.preventDefault();var t,n,i=$(this).data("link"),a=$(this).data("token"),s=$(this).data("email"),r=$(this).data("level");"*"==s?(t="<div class='s-reusuable-invite-link'><p><strong>"+bfTranslate("Reusable")+"</strong> "+bfTranslate("invite link for")+" <strong>"+r+"</strong> "+bfTranslate("access")+"</p>",n=""):(t="<div class='s-invitation-link'><p><strong>"+s+"</strong> "+bfTranslate("invited as a")+" <strong>"+r+"</strong></p>",n="<a class='noline j-resend-button' rel='tooltip' href='javascript:void(0);' title="+bfTranslate("Resend invitation")+" data-token='"+a+"'><span class='bff-enter'></span></a>"),Notify.create({title:bfTranslate("Invitation Link"),body:t+"<pre class='s-copy-contents'><a class='noline' target='_blank' rel='tooltip' href='mailto:?to="+s+"&amp;body="+i+"&amp;subject=Brandfolder%20Invitation' title="+bfTranslate("Email link")+"><span class='bff-email'></span></a>"+n+"<a class='j-copy-button noline hidden-xs' rel='tooltip' data-clipboard-text='"+i+"' href='javascript:void(0);' title="+bfTranslate("Copy to clipboard")+"><span class='bff-copy'></span></a><textarea rows='1' readonly='readonly'>"+i+"</textarea></pre></div>",type:"help"}),BF.fx.handle("copyToClipboard",$(".j-copy-button")),BF.fx.handle("resendInviteLink",$(".j-resend-button")),BF.fx.handle("selectAllPreText",$("pre")),$("[rel~=tooltip]").tooltip({container:".j-notification-list",trigger:"hover",delay:{show:100,hide:20}})}})},resendInviteLink:function(){$(this).on({click:function(){var e=$(this),t=e.data("token");e.removeClass("j-resend-button"),e.off("click"),$.ajax({url:"/invitations/"+t+"/resend",type:"post",dataType:"json",complete:function(){e.find("i"),e.attr("title","Sent!").tooltip("fixTitle").tooltip("setContent").tooltip("show"),setTimeout((function(){e.tooltip("hide")}),1250)}})}})},reportPreviewEmbed:function(){$(this).on({click:function(e){e.stopPropagation()}})},destroyBrandfolder:function(){$(this).on({click:function(e){if(e.stopPropagation(),$(this).hasClass("s-not-allowed"))Notify.create({title:"Not Authorized",body:"This feature is only available to Owners.",type:"error"});else{$(this).prop("disabled",!0);var t=$(this).data("brandfolder-slug"),n=encodeURIComponent($(this).data("brandfolder-name")),i=decodeURIComponent(n),a=$(this).data("libraryname"),s=$(this).data("brandguide-exists"),r=bfTranslate("There is no way to undo this action. It is immediate and all users belonging to this Library will lose access."),o=bfTranslate("There is no way to undo this action. It is immediate and all users belonging to this Brandfolder will lose access."),d="true"===BFG.getty_client?r:o,u=bfTranslate("To confirm deletion, please enter the URL for the Library below: "),l=bfTranslate("To confirm deletion, please enter the URL for the Brandfolder below: "),c="true"===BFG.getty_client?u:l,f=s?bfTranslate("Please note this action will delete any associated Brandguides.")+"<br><br>":"";$(".sweet-alert input").removeClass("invalid"),swal({title:bfTranslate("Are you sure you want to delete "+i+"?"),text:d+"<br><br>"+f+c+"<strong>"+t+"</strong>",type:"input",inputPlaceholder:t,showCancelButton:!0,closeOnConfirm:!1,confirmButtonText:bfTranslate("Delete"),customClass:"deleting",html:!0},(function(e){if(!1===e||""===e)return $(".sweet-alert input").addClass("invalid"),swal.showInputError(bfTranslate("Type the name of your "+a)),$("button.j-destroy-brandfolder").prop("disabled",!1),!1;$("div.sweet-alert button.confirm").prop("disabled",!0),$.ajax({url:"/"+t,data:{typed_slug:e},type:"DELETE",success:function(){swal({type:"success",title:"Deleted!",text:i+" has been successfully deleted.",showConfirmButton:!1}),window.location=window.location.pathname},error:function(){$(".sweet-alert input").addClass("invalid"),swal.showInputError(bfTranslate("An error occured and this "+a+" was not deleted! Please try again and contact support if the error persists."))}})}))}}})},showEmbedCodeModal:function(){$(this).on({click:function(e){e.stopPropagation();var t=$(this).parents(".j-brandfolder-panel").data("slug"),n=$(this).parents(".j-brandfolder-panel").data("brandfolder-name");BF.fx.collectionName().length>0&&(n=encodeURIComponent(BF.fx.collectionName())),BF.dialog.render("Embed code for "+n,"/"+t+"/api/modals/embed_settings?collection_slug="+BF.fx.collectionSlug(),(function(){BF.fx.handle("copyToClipboard",$(".j-copy-button"))}))}})},showOrgSupportModal:function(){var e=$("#organization_support_form"),t=$("#organization_support_form form");$(this).on({click:function(t){t.stopPropagation(),$(this).data("email"),e.hasClass("slide-up")?(e.addClass("slide-down"),e.removeClass("slide-up")):(e.removeClass("slide-down"),e.addClass("slide-up"))}}),t.on("submit",(function(n){n.preventDefault();var i=t.attr("action"),a=$(this);$.ajax({type:"POST",url:i,data:t.serialize(),success:function(){a.val("Sent"),setTimeout((function(){e.addClass("slide-down").removeClass("slide-up"),a.val("Send"),e.find("textarea").val("")}),2e3)},error:function(){a.val("Error Sending")}})}))},hideOrgSupportModal:function(){var e=$("#organization_support_form");$(this).on({click:)},showAnalyticsModal:function(){$(this).on({click:function(e){e.stopPropagation(),$(this).hasClass("s-not-allowed")?Notify.create({title:"Not Authorized",
body:"This feature is only available to Owners & Admins.",type:"error"}):BF.Analytics.show.call(this)}})},showGuestUploadModal:function(){$(this).on({click:function(e){e.stopPropagation(),$(this).hasClass("s-not-allowed")?Notify.create({title:"Not Authorized",body:"This feature is only available to Owners & Admins.",type:"error"}):$.ajax({url:"/guest_upload/new",type:"GET",data:{brandfolder_key:SOURCE.resource_key},dataType:"html",success:function(e){function t(){$(".chzn-container .chzn-single").hasClass("chzn-default")?$(".j-modal-submit-button").prop("disabled",!0):$(".j-modal-submit-button").prop("disabled",!1)}$dialog=$("#dialog"),$dialog.trigger("new-modal-load"),$dialog.find("#dialogBody").html(e),$dialog.addClass("modal-vertical-center"),$dialog.find(".modal-dialog").removeClass("modal-lg").addClass("modal-sweet-alert modal-sm"),$dialog.modal("show"),$dialog.find(".j-select-section").chosen({width:"100%",disable_search_threshold:15}).change(t),$dialog.find("form").submit((function(e){e.preventDefault(),e.stopPropagation();var t=$dialog.find(".j-select-section").val(),n=$dialog.find(".j-description").val(),i=$dialog.find(".j-automatic-approval").prop("checked");$.ajax({url:"/api/v4/sections/"+t+"/upload_links",type:"POST",data:{data:{attributes:{description:n,automatic_approval:i}}},beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},success:function(e){var t=window.location.origin+"/guest_upload/"+e.data.id;$dialog.find("form").unlockFor("changes"),$(".modal-title").html(bfTranslate("Guest Upload Link")),$(".modal-subtitle, .modal-input-container").addClass("hidden"),$("a.guest-upload-link").removeClass("hidden").html(t).attr("href",t),$(".j-copy-link").removeClass("hidden").attr("data-clipboard-text",t),BF.fx.handle("copyToClipboard",$(".j-copy-link"))}})}))}})}})},showInviteUsersModal:function(){$(this).on({click:function(e){e.stopPropagation(),BF.UserPermission.showInviteUsers.call(this)}})},showMessageUsersModal:function(){$(this).on({click:function(e){e.stopPropagation(),BF.UserPermission.showMessageUsers.call(this)}})},showPrivacyModal:function(){$(this).on({click:function(e){if(e.stopPropagation(),$(this).hasClass("j-adminable-by")){var t=BF.fx.collectionSlug()?"Collection":"Brandfolder";BF.PrivacySettings["show"+t].call(this)}}})},showUserPermissionsModal:function(){$(this).on({click:)},showShareModal:function(){$(this).on({click:function(e){e.stopPropagation();var t=$(this),n=t.data("asset-key"),i=t.data("url");if(n){var a=t.data("title").replace(" ","_").replace(/(&[A-Z]+;)/gi,"").replace(/[^0-9A-Z_-]/gi,""),s=t.data("title"),r="jpg"===t.data("assetExtension")||"png"===t.data("assetExtension")?t.data("assetExtension"):"jpg",o=BFG.smartCDNRoot+"/"+t.data("cdnKey")+"/as/"+n+"/orig."+r,d=t.data("assetExtension"),u=(r="jpg"===d||"png"===d?d:"jpg",o=BFG.smartCDNRoot+"/"+t.data("cdnKey")+"/as/"+n+"/"+encodeURI(a)+r),l="";if(t.data("is-video")){var c=$(".s-download-attachments-container li")[0];u=$(c).find(".m-asset-img-thumb").attr("src"),o=u,l="Check out the video here: "+$(c).find(".m-asset-img-thumb").data("video-src")}var f=BF.fx.resource()||BF.BulkAction.resource();$.ajax({url:"/share_manifests",type:"post",data:{resource_type:f.type,resource_key:f.key,shareable:"AssetGroup",payload:{asset_keys:[n]}},dataType:"html",success:function(e){BF.dialog.setup();var t=$("#dialog");t.find("#dialogBody").html(e),t.addClass("modal-vertical-center"),t.find(".modal-dialog").addClass("modal-sweet-alert"),t.on("show.bs.modal",(function(){$(this).hasClass("modal-vertical-center")&&$(this).css("display","flex")})),t.modal("show"),BF.fx.handle("tooltips",$("[rel~=tooltip]")),BF.Share.enableSharingActionButtons(),BF.Share.attachSharingEvents(),o&&$.getScript("//platform-api.sharethis.com/js/sharethis.js#property=5ada0e75d0b9d300137e3c9a&product=custom-share-buttons",(function(){window.__sharethis__.load("inline-share-buttons",{id:"social-share-list",enabled:!0,font_size:14,padding:8,radius:6,networks:["twitter","pinterest","facebook","linkedin","wechat","print","messenger","email","tumblr","flipboard","googleplus","reddit","stumbleupon","sms","blogger","delicious","digg","whatsapp"],size:36,show_mobile_buttons:!0,spacing:"10px",spacing_bottom:"10px",url:o,title:s,image:u,description:l})})),Insight.createEvent("shared",n,"asset")},error:function(e){var t=JSON.parse(e.responseText);Notify.create(t)}})}else i&&i.indexOf("/organizations/")>-1?BF.Share.shareOrgLink.call(this):(BF.Share.shareResource.call(this),BF.fx.collectionSlug()?(Insight.createEvent("shared",BF.fx.collection().key,"collection"),BF.fx.dataLayerPush({collection:BF.fx.collectionSlug(),brandfolder:BF.fx.slug(),event:"CollectionShare"})):(Insight.createEvent("shared",BF.fx.brandfolder().key,"brandfolder"),BF.fx.dataLayerPush({brandfolder:BF.fx.slug(),event:"BrandfolderShare"})))}})}}),function(){var searchTimeout;_.extend(BF.handlers,{submitNewForm:function(){$(this).on({submit:function(e){var t=$(this);if(e.preventDefault(),t.isUnlocked()){t.lockFor("request");var n=BF.dialog.formData();BF.Asset.create.call(this,n)}else t.isLockedFor("changes")&&t.unlockFor("changes").submit();return!1},click:function(){$(this).parents("form").submit()}})},enableDropdown:function(){$(document).on("keyup click",(function(e){var t=$(e.target).closest(".j-dropdown-parent");t.length&&"Escape"!==e.key?t.hasClass("expanded")?(t.removeClass("expanded").addClass("collapsed"),t.attr("aria-expanded","false")):t.hasClass("collapsed")&&(t.attr("aria-expanded","true"),t.removeClass("collapsed").addClass("expanded")):$(".j-dropdown-parent").removeClass("expanded").addClass("collapsed")}))},submitUpdateForm:function(){$(this).on({submit:function(e){e.preventDefault();var t=$(this);if(t.isUnlocked()){t.lockFor("request");var n=BF.dialog.formData();BF.Asset.update.call(t,n,(function(){var e=$(".s-attachment-tabs .overview a");e.length>0?e.click():BF.dialog.dismiss(),t.data("upload-queue",[])}))}else t.isLockedFor("changes")&&t.unlockFor("changes").submit();return!1},click:)},makePrivate:function(){$(this).on({click:)},destroyAsset:function(){$(this).on({click:function(){var e=$(this),t=BF.fx.data(e,"asset"),n=BF.fx.data(e,"name")||"this "+BF.fx.friendlyName(t),i=BF.Asset.findElement(BF.fx.data(e,"key")),a=e.data("cdn-link"),s=bfTranslate("Are you sure you want to delete ")+n+"?"+bfTranslate(" Deleting this asset will cause broken image links on sites where it's embedded. Check the usage tab to see active external links before deleting. \n\n"),r=bfTranslate("Are you sure you want to delete ")+n+"?\n\n",o=a?s:r,d=a?bfTranslate("This asset has external links."):bfTranslate("Really?");swal({title:d,text:o,type:"warning",showCancelButton:!0,confirmButtonText:"Delete",closeOnConfirm:!0,customClass:"deleting"},(function(e){return!!e&&(BF.Asset.destroy.call(i),!0)}))}})},removeAsset:function(){$(this).on({click:function(){var e=$(this),t=BF.fx.data(e,"asset"),n=BF.fx.data(e,"name")||"this "+BF.fx.friendlyName(t),i=BF.Asset.findElement(BF.fx.data(e,"key"));swal({title:bfTranslate("Really?"),text:bfTranslate("Are you sure you want to remove ")+n+bfTranslate(" from the collection?\n\n"),type:"warning",showCancelButton:!0,confirmButtonText:bfTranslate("Remove"),closeOnConfirm:!0,customClass:"deleting"},(function(e){return!!e&&(BF.Asset.destroy.call(i),!0)}))}})},openNewOnClick:function(){$(this).on({click:)},trackAssetModalDownload:function(){var e=$(this),t=e.data("asset-key");Insight.createEvent("downloaded",t,"asset");var n=e.find("button");n.prop("disabled",!0),setTimeout((function(){n.prop("disabled",!1)}),1500)},createCollection:function(){$(this).click((function(e){e.preventDefault(),BF.BulkCollection.create()}))},bulkAdvancedDownloadShow:function(){$(this).on({click:function(e){return e.stopPropagation(),BF.BulkAction.bulk_advanced_download_show($(this)),!1}})},bulkAdvancedDownload:function(){$(this).on({click:function(e){return e.stopPropagation(),BFG.downloadAlertEnabled?(e.preventDefault(),BF.fx.dispatchWindowEvent("launchDownloadAlert",null,{downloadCallback:BF.BulkAction.bulk_download})):BF.BulkAction.bulk_download(),!1}})},bulkAdvancedDownloadShare:function(){$(this).on({click:)},bulkAdvancedCSVDownload:function(){$(this).on({click:function(e){return e.stopPropagation(),BFG.downloadAlertEnabled?(e.preventDefault(),BF.fx.dispatchWindowEvent("launchDownloadAlert",null,{downloadCallback:BF.BulkAction.bulk_advanced_csv_download})):BF.BulkAction.bulk_advanced_csv_download(),!1}})},backgroundSettings:function(){$this=$(this),$this.on({blur:function(){if("radio"===this.type)$("input.custom-hex").val(null);else{if("#"!=this.value[0])return swal({type:"error",title:bfTranslate("Invalid Hex Color"),text:bfTranslate("Please enter a valid hex code beginning with #")}),void $("input.custom-hex").val(null);$(".j-brandfolder-background:checked").attr("checked",null)}var e={data:{attributes:{options:{asset_background_color:this.value}}}};$.ajax({url:"/api/v4/brandfolders/"+BF.fx.brandfolder().key,type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify(e),beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},success:function(){Notify.create({title:bfTranslate("Brandfolder Updated!"),body:bfTranslate("Asset background color updated."),type:"success"})},error:function(){Notify.create({title:bfTranslate("Update Failed!"),body:bfTranslate("Please try again."),type:"error"})}})},click:function(){"radio"===this.type&&($("input.custom-hex").val(null),this.blur())}})},toggleSetting:function(){$this=$(this),$this.on({click:function(){var e=$(this),t={},n=e.data("setting");t[n]=this.value;var i={data:{attributes:t}},a=""==BF.fx.brandfolder().key?$(this).closest("#brandfolder-advanced").data("resource-key"):BF.fx.brandfolder().key,s=BF.fx.collectionSlug().length>0,r=s?bfTranslate("Collection Updated! "):bfTranslate("Brandfolder Updated! "),o=s?"collections/"+BF.fx.collection().key:"brandfolders/"+a;$.ajax({url:"/api/v4/"+o,type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify(i),beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},success:function(){var t=bfTranslate("Setting updated.");switch(n){case"web_to_print":t=bfTranslate("Web to print setting updated.");break;case"no_duplicates":t=bfTranslate("Don't allow duplicates settings updated.");break;case"default_strict_search":case"default_search_operator":t=bfTranslate("Default search settings updated.");break;case"default_sections_display":t=bfTranslate("Default sections display setting updated.");break;case"default_pins_display":t=bfTranslate("Default pins display setting updated.");break;case"social_share":t=bfTranslate("Social share updated.");break;case"custom_aspect_ratio":t=bfTranslate("Custom Aspect Ratio updated.");break;case"auto_tagging":t=bfTranslate("Auto tagging updated.");break;case"restrict_shares":t=bfTranslate("Share settings updated.");break;case"allow_positioning":t=bfTranslate("Positioning settings updated.");break;case"view_only":t=bfTranslate("View Only setting updated.");break;case"guest_commenting":t=bfTranslate("Guest commenting settings updated.");break;case"controlled_custom_fields_enabled":BFG&&BFG.brandfolderSettings&&(BFG.brandfolderSettings.controlled_custom_fields_enabled="true"===e.val()),BF.fx.dispatchWindowEvent("controlledCustomFieldsToggled",null,{toggled:"true"===e.val()})}Notify.create({title:r,body:t,type:"success"})},error:function(){Notify.create({title:bfTranslate("Update Failed!"),body:bfTranslate("Please try again."),type:"error"})}})}})},submitApprovalsUpdate:function(){$this=$(this),$this.on({click:function(e){e.preventDefault(),swal({title:bfTranslate("Required Approvals"),text:"<p>"+bfTranslate("This will affect which assets are accessible to all users of this Brandfolder.")+"</p>",type:"warning",showCancelButton:!0,confirmButtonText:bfTranslate("Change"),closeOnConfirm:!1,customClass:"required-approvals-1",allowOutsideClick:!0,html:!0},(function(e){e&&swal({title:bfTranslate("Are you sure?"),text:"<p>"+bfTranslate("Are you sure you want to change approval settings?")+"</p>",type:"warning",showCancelButton:!0,confirmButtonText:bfTranslate("Change"),closeOnConfirm:!1,allowOutsideClick:!0,html:!0,showLoaderOnConfirm:!0,customClass:"required-approvals-2"},(function(e){if(e){var t=$("input.j-required-approvals:checked").val(),n=parseInt(t),i=$(".existing_approvals_data").data("existingApproversData");if($("form#approval-form").unlockFor("changes"),0===n)BF.handlers.updateRequiredApprovals(0),i.forEach(();else if(1===n){var a=$(".j-single-approver").val();if(0===a.length)return swal.close(),Notify.create({title:bfTranslate("Update Failed!"),body:bfTranslate("Please choose one approver in the dropdown menu, or select a different setting."),type:"error"}),!1;BF.handlers.updateRequiredApprovals(1),BF.handlers.createBFApprover(a),i.forEach((function(e){e[1]!=a&&BF.handlers.removeBFApprover(e[0])}))}else{var s=$.map($(".j-manage-approver:checked"),(function(e){return[$(e).data("approverData")]})),r=s.length;if(r<2)return swal.close(),Notify.create({title:bfTranslate("Update Failed!"),body:bfTranslate("Please choose at least two approvers in the list, or select a different setting."),type:"error"}),!1;BF.handlers.updateRequiredApprovals(r);var o=s.map((function(e){return null==e[0]&&BF.handlers.createBFApprover(e[1]),e[1]}));i.forEach((function(e){o.indexOf(e[1])<0&&BF.handlers.removeBFApprover(e[0])}))}$(".modal-content button.close").trigger("click"),swal({type:"success",title:bfTranslate("Processing Assets"),text:bfTranslate("Approvals settings updated."),allowOutsideClick:!0,showConfirmButton:!1,timer:1500})}}))}))}})},updateRequiredApprovals:function(e){var t={data:{attributes:{required_approvals:e}}};$("input#required_approvals").data("initialValue");$.ajax({url:"/api/v4/brandfolders/"+BF.fx.brandfolderID(),type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify(t),beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},success:function(){},error:function(){Notify.create({title:bfTranslate("Update Failed!"),body:bfTranslate("Please try again."),type:"error"})}})},createBFApprover:function(e){var t={data:{attributes:{brandfolder_approver:{user_key:e}}}};$.ajax({url:"/api/v4/brandfolders/"+BF.fx.brandfolderID()+"/approvers",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(t),beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},success:function(){},error:function(){Notify.create({title:bfTranslate("Update Failed!"),body:bfTranslate("Please try again."),type:"error"})}})},removeBFApprover:function(e){$.ajax({url:"/api/v4/brandfolder_approvers/"+e,type:"DELETE",contentType:"application/json",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},success:function(){},error:function(){Notify.create({title:bfTranslate("Update Failed!"),body:bfTranslate("Please reload this page and try again."),type:"error"})}})},toggleApproverLists:function(){$this=$(this),$this.on({click:function(){var e=parseInt($("input.j-required-approvals:checked").val()),t=$(".j-approvers-list"),n=$(".j-single-approver-dropdown");e>1?(t.removeClass("hidden"),t.fadeIn(500,(function(){t.show()}))):t.fadeOut(500,(function(){t.hide()})),1==e?(n.removeClass("hidden"),n.fadeIn(500,(function(){n.show()}))):n.fadeOut(300,(function(){n.hide()}))}})},toggleUserAgreement:function(){$this=$(this),$this.on({change:function(){BF.fx.collectionSlug().length>0?BF.Collection.updateUserAgreement.call(this):BF.Brandfolder.updateUserAgreement.call(this)}})},deleteSettingImages:function(){$(this).on({click:function(){$parent=$(this).parents(".j-upload-settings-well"),$parent.find(".complete").removeClass("complete"),$parent.find(".filepicker_object").val(""),$("#brandfolder-customize form").lockFor("changes");var e=$parent.find("#card-image-upload, #brandfolder-customize .settings-upload-image #header-image-upload, #email-logo-image-upload");"none"===e.css("display")&&e.css("display","block")}})},deleteAssetThumbnailOverride:function(){$this=$(this),$this.on({click:function(){var e=$this.data("fallback-src");$parent=$(this).parents(".j-upload-settings-well"),$parent.find(".complete").removeClass("complete"),$parent.find(".filepicker_object").val("{}"),$(".m-asset-advanced-container").find(".j-upload-settings-well").data("has-thumbnail-override",!1),$(".j-preview .m-asset-img-thumb").attr("src",e),$("#asset-edit-form form").lockFor("changes")}})},deleteAssetWatermark:function(){$this=$(this),$this.on({click:function(){var e=$this.data("fallback-src");$parent=$(this).parents(".j-upload-settings-well"),$parent.find(".complete").removeClass("complete"),$parent.find(".filepicker_object").val("{}"),$(".m-asset-advanced-container").find(".j-upload-settings-well").data("has-watermark",!1),$(".j-preview .m-asset-img-thumb").attr("src",e),$("#asset-edit-form form").lockFor("changes")}})},assetBackgroundColor:function(){$this=$(this),$this.on({blur:function(){if("radio"===this.type)$("input.custom-hex").val(null);else{if("#"!=this.value[0])return swal({type:"error",title:bfTranslate("Invalid Hex Color"),text:bfTranslate("Please enter a valid hex code beginning with #")}),void $("input.custom-hex").val(null);$(".j-asset-background-color:checked").attr("checked",null)}var e=$this.closest(".j-asset-submit").data("key"),t={data:{attributes:{data:{asset_background_color:this.value}}}};$.ajax({url:"/api/v4/assets/"+e,type:"PUT",contentType:"application/json",data:JSON.stringify(t),beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)}})},click:function(){"radio"===this.type&&$("input.custom-hex").val(null)}})},assetThreeSixtyViewer:function(){$this=$(this),$this.on({click:function(){var e=$this.closest(".j-asset-submit").data("key"),t={data:{attributes:{data:{three_sixty_viewer:this.value}}}};$.ajax({url:"/api/v4/assets/"+e,type:"PUT",contentType:"application/json",data:JSON.stringify(t),beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},success:function(){Notify.create({title:bfTranslate("Asset Updated"),body:bfTranslate("360 Viewer setting updated"),type:"success"})}})}})},templatingButtonToggle:function(){$('a[data-toggle="tab"]').on("shown.bs.tab",(function(e){e.target.href.indexOf("templating-settings")>0?$(".m-modal-actions").addClass("hidden"):$(".m-modal-actions").hasClass("hidden")&&$(".m-modal-actions").removeClass("hidden")}))},instantiateWysiwyg:function(){$(".modal-content .right"),$(".modal-content .left");$(".j-wysiwyg-textarea").trumbowyg({semantic:!1,urlProtocol:!0,btns:[["viewHTML"],["formatting"],["strong","em","del"],["link"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"]]}).on("tbwchange",(function(){BF.handlers.checkIfEditOrDownload($(this).parents("form"))}))},openEditWorkspaceSettings:function(e){url="/"+e.brandfolderSlug+"/collections/"+e.workspaceSlug+"/api/modals/settings",BF.dialog.render(bfTranslate("Settings for ")+e.workspaceName,url,(function(){$("#dialog").find("#collection_name").focus(),BF.fx.handle("tooltips",$("[rel~=tooltip]")),BF.fx.handle("deleteSettingImages",$(".j-delete-settings-image")),BF.fx.handle("destroyCollection",$(".j-destroy-collection")),BF.fx.handle("backgroundSettings",$(".j-brandfolder-background"))}))},openEditBrandfolder:function(){$(this).on({click:function(e){if(e.stopPropagation(),$(this).hasClass("s-not-allowed"))Notify.create({title:bfTranslate("Not Authorized"),body:bfTranslate("This feature is only available to Owners & Admins."),type:"error"});else{var t=$(this).parents(".j-brandfolder-panel").data("slug")||$(this).data("slug"),n=$(this).parents(".j-brandfolder-panel").data("brandfolder-name")||$(this).data("brandfolder-name"),i="/"+t+"/api/modals/settings";if($("#dialog").find(".modal-header").addClass("bf-settings-header").prepend("<span class='bff-settings bf-settings-header-icon'></span>"),BF.fx.collectionSlug().length>0){var a=encodeURIComponent(BF.fx.collectionName());n=decodeURIComponent(a),i="/"+t+"/collections/"+BF.fx.collectionSlug()+"/api/modals/settings"}BF.dialog.render(bfTranslate("Settings for ")+n,i,(function(){BF.fx.handle("tooltips",$("[rel~=tooltip]")),BF.fx.handle("deleteSettingImages",$(".j-delete-settings-image")),BF.fx.handle("destroyBrandfolder",$(".j-destroy-brandfolder")),BF.fx.handle("destroyCollection",$(".j-destroy-collection")),BF.fx.handle("toggleControlledCustomFields",$(".j-toggle-controlled-custom-fields")),BF.fx.handle("backgroundSettings",$(".j-brandfolder-background")),BF.fx.handle("toggleEmbedAsset",$(".j-toggle-embed-asset")),BF.fx.handle("toggleViewOnly",$(".j-toggle-view-only")),BF.fx.handle("toggleSetting",$(".j-toggle-setting")),BF.fx.handle("submitApprovalsUpdate",$(".j-submit-approvals-update")),BF.fx.handle("toggleApproverLists",$(".j-required-approvals")),BF.fx.handle("toggleUserAgreement",$(".j-agreement-switch")),$("#dialog").find("#brandfolder_name").focus(),$("#dialog").find("#collection_name").focus()}))}}})},switchToEditLinks:function(){$(this).on({click:)},switchToShowLinks:function(){$(this).on({click:)},stopPropagationOnClick:function(){$(this).on({click:function(e){e.stopPropagation()}})},initializeDialogModal:function(){$(this).on("new-modal-load","#dialog",(function(){BF.dialog.setup()}))},setFocusOnFirstInput:function(){$(this).on("shown",(function(){$that=$(this).find('form:first *:input:not(:button, :hidden, ".j-nofocus"):first'),$that.focus()}))},minPasswordInput:function(){var e=$(this);e.on({keyup:function(){$(this).hasClass("invalid")&&e.val().length>5&&(e.removeClass("invalid"),e.addClass("success"))},blur:function(){e.val().length<6&&e.addClass("invalid")}})},confirmPasswordInputs:function(){var e=$(this),t=$(this).parents().find(".j-password-check");e.on({keyup:function(){t.val().length>5&&($(this).val()==t.val()?(e.addClass("success"),t.addClass("success"),e.removeClass("invalid")):(e.removeClass("success"),t.removeClass("success"),e.addClass("invalid")))},blur:function(){e.val()!=t.val()&&t.val().length>5&&(e.addClass("invalid"),e.removeClass("success"),t.removeClass("success"))}})},checkIfEditOrDownload:function(e){if(e.hasClass("download")||e.lockFor("changes"),e.hasClass("j-invitation-form")){var t=$("#invitation_email").val(),n=$("#invitation_personal_message").val();""===t&&""===n&&e.unlockFor("changes")}},alertOfUnsavedChanges:function(){$(this).on({change:function(){BF.handlers.checkIfEditOrDownload($(this).parents("form"))},keyup:function(){BF.handlers.checkIfEditOrDownload($(this).parents("form"))},paste:function(){BF.handlers.checkIfEditOrDownload($(this).parents("form"))}},"#dialog textarea:not(.no-trigger), #dialog input[type=radio]:not(.no-trigger), #dialog input[type=checkbox]:not(.no-trigger), #dialog input[type=text]:not(.no-trigger), #dialog select:not(.no-trigger), #dialog input[type=email]:not(.no-trigger)")},updatePreview:function(){var e,t=$(this),n=t.parents(".j-edit-container,.j-new-container").data("asset");if(["generic_file","press"].indexOf(n)>0)e=BF.handlers.imagePreviewUpdater;else if("person"===n)e=BF.handlers.personPreviewUpdater;else if("color"===n){e="hex"===t.data("format")?BF.handlers.hexPreviewUpdater:BF.handlers.rgbcmykPreviewUpdater}t.on({keyup:e})},imagePreviewUpdater:function(){$("#dialogBody .j-asset-name").text($('#dialogBody input[id$="name"]').val()),$("#dialogBody .j-asset-description").text($('#dialogBody textarea[id$="description"]').val())},personPreviewUpdater:function(){$('#dialogBody input[id$="person_title"]').val()?$("#dialogBody .j-asset-name").html($('#dialogBody input[id$="name"]').val()+', <span class="s-person-title-element">'+$('#dialogBody input[id$="person_title"]').val()+"</span>"):$("#dialogBody .j-asset-name").text($('#dialogBody input[id$="name"]').val()),$("#dialogBody .j-asset-description").html("<strong>"+$('#dialogBody input[id$="title"]').val()+"</strong>"+$('#dialogBody textarea[id$="bio"]').val())},hexPreviewUpdater:function(){var e=$(".j-hex-sample");""===this.value?e.css("background-color","#ffffff"):e.css("background-color","#"+this.value)},rgbcmykPreviewUpdater:function(){var e=$(this),t=e.data("format"),n=$(".j-"+e.data("format")+"-sample"),i=_.map($('[data-format="'+t+'"]'),(function(e){return e.value}));if(_.any(i,())n.css("background-color","#ffffff");else if(Color()[t]){var a=Color()[t](i);n.css("background-color",a.hexString())}},addCustomField:function(){$(this).on({click:function(){var e=$("<div class='m-modal-form-field'><input type='text' class='s-custom-field-key j-custom-field-key' placeholder='Key'><input type='text' name='custom_fields[ignore]' class='s-custom-field-value j-custom-field-value' placeholder='Value'><div class='s-remove-custom-field j-remove-custom-field'><span class='bff-close' rel='tooltip' title="+bfTranslate("Remove field")+"></i></div></div>");e.prependTo($(".j-custom-fields-list")),e.find(".j-custom-field-key:first-child").focus(),e.find(".j-custom-field-key").on({blur:function(){var t=e.find(".j-custom-field-value");t.attr("name","custom_fields["+this.value+"]"),t.attr("id","custom_fields_"+this.value)}}),BF.fx.handle("removeCustomField",e.find($(".j-remove-custom-field"))),BF.fx.handle("tooltips",$("[rel~=tooltip]"))}})},removeCustomField:function(){$(this).on({click:function(){this.parentElement.remove()}})},updateActiveTabDropdown:function(){$(this).on({click:function(){var e=$(this),t=$(e.children().find("span")).html(),n=e.parents().find(".navbar-toggler .active-tab"),i=e.parents().find(".navbar-collapse");n.html(t),i.removeClass("in")}})},triggerReactTabEvent:function(){$(this).on({mouseenter:function(){var e=$(this).find("a"),t=e.attr("href").replace("#",""),n=e.data("assetKey");BF.fx.dispatchWindowEvent(t+"AssetTabHover",n)}}).on({click:function(){var e=$(this).find("a"),t=e.attr("href").replace("#",""),n=e.data("assetKey");BF.fx.dispatchWindowEvent(t+"AssetTabClick",n)}})},swapPreviewImg:function(){var e=$(this);e.on({click:function(){var t=e.siblings(".active");e.hasClass("active")||(t.removeClass("active"),e.addClass("active"));var n,i=$("#dialogBody"),a=0!==i.find(".m-show-full-size-display a").length,s=i.find(".m-show-full-size-display video").length>0||i.find(".m-show-full-size-display .mejs-video").length>0,r=i.find(".m-show-full-size-display #audio-attachment").length>0,o=e.data("attachmentKey"),d=(n=!a&&s?i.find(".m-show-full-size-display video"):!a&&r?i.find(".m-show-full-size-display #audio-attachment"):i.find(".m-show-full-size-display img")).data("key");if(void 0!==n&&o!==d){var u=e.data("attViewInlineLink")||e.find("img").data("expand-view")||e.find("img")[0].currentSrc,l=e.find("img").data("key"),c=e.data("muxUrl"),f=c||".mov"===u.slice(u.lastIndexOf("."))||".mp4"===u.slice(u.lastIndexOf("."))||".ogv"===u.slice(u.lastIndexOf("."))||".webm"===u.slice(u.lastIndexOf("."));if(".wav"===u.slice(u.lastIndexOf("."))||".mp3"===u.slice(u.lastIndexOf("."))||".m4a"===u.slice(u.lastIndexOf("."))){var h=$(this).data("previewImg").indexOf("element.png")>0||$(this).data("previewImg").indexOf("view.png")>0||$(this).data("previewImg").indexOf("view@2x.png")>0?e.data("previewImg"):null;r?(n.remove(),BF.handlers.loadHtml5Audio(u,h)):(a&&n.parent().remove(),s&&n.remove(),BF.handlers.loadHtml5Audio(u,h))}else if(f)if(a&&n.parent().remove(),(s||r)&&n.remove(),c)BF.handlers.loadVideoJS(c,"application/x-mpegURL");else{var p=$(this).data("video-type");BF.handlers.loadVideoJS(u,p)}else{n.remove();var m=e.data("preview-img");BF.handlers.loadImg(u,l,m,$(this))}}}})},loadVideoJS:function(e,t){try{videojs("hls-player > div > video").dispose()}catch(e){}$(".m-show-full-size-display").html('<div id="hls-player"><div data-vjs-player><video class="video-js vjs-default-skin" controls /></div></div>'),videojs("hls-player > div > video").src({src:e,type:t})},loadHtml5Audio:function(e,t){var n=e.substr(0,e.lastIndexOf(".")),i=n+".ogg";urlmp3=n+".mp3";var a=t?' style="background-image: url('+t.replace("element.png","element@2x.png").replace("view.png","element@2x.png").replace("view@2x.png","element@2x.png")+')"':"";$(".m-show-full-size-display").html('<audio id="audio-attachment" controls'+a+"><source src="+i+' type="audio/ogg"><source src='+urlmp3+' type="audio/mpeg">Your browser does not support the audio element.</audio>')},loadImg:function(e,t,n,i){var a=window.innerHeight>=1160&&i.parents(".m-download-attachment").hasClass("s-portrait-view"),s=window.innerHeight>=900&&i.parents(".m-download-attachment").hasClass("s-landscape-view"),r='<img class="m-asset-img-full m-person-img-full" alt='+e+' onerror="BF.handlers.preventBrokenImages(this)" data-key='+t+" src="+(a||s?n.replace("/view.","/view@2x."):n)+' style="visibility: visible; opacity: 1;"/>',o=BFG.brandfolderSettings&&BFG.brandfolderSettings.hide_asset_open_in_new_tab;if(BFG.viewOnly||o)$(".m-show-full-size-display").html(r);else{var d='<div class="view-asset-new-tab-link"><span>Open in new tab</span></div>';$(".m-show-full-size-display").html('<a class="s-expand-view" target="_blank" rel="nofollow" href='+e+">"+r+d+"</a>")}},submitAnalyticsId:function(){$(this).on({submit:function(e){$(this).unlockFor("changes"),e.preventDefault(),BF.Analytics.update.call(this,!1)}},".j-submit-analytics-id")},submitBrandfolderPrivacySettings:function(){$(this).on({submit:function(e){e.preventDefault(),$(this).unlockFor("changes"),BF.PrivacySettings.updateBrandfolder.call(this)}},".j-submit-brandfolder-privacy-settings")},accessFormsHandler:function(){$(this).on("click",(function(){var e=$(this);$(".j-access-form-tab").removeClass("active"),e.addClass("active");var t=e.closest(".access-container").find(".access-form"),n="auth-options"===e.data("access-type")?"show-login-auth":e.data("access-type");t.removeClass("active"),t.filter("."+n).addClass("active")}))},accessPageHandler:function(){$(".j-switch-to-sso-link, .j-switch-to-bf-link").on("click",()},submitBrandfolderGuestPassword:function(){$(this).on({submit:function(e){e.preventDefault();var t=$(this);t.find("input[type=submit]").addClass("button disabled").attr("disabled","disabled"),t.data("ask")&&void 0===$.cookie("guest_id")?(e.preventDefault(),swal({type:"input",title:"",text:bfTranslate("Enter your email for access to this Brandfolder:"),confirmButtonText:"Continue",showCancelButton:!0,cancelButtonText:"Skip",inputPlaceholder:"Email"},(function(e){var n;return e&&e.length>0?(e=e.trim(),n=BF.fx.validateEmail(e)):e="",""===e||null===e||!0===n?$.cookie("guest_id",encodeURI(e),{expires:90}):Notify.create({title:bfTranslate("Invalid email"),body:e+bfTranslate(" does not appear to be a valid email address."),type:"error"}),t.submit(),!1}))):t.unbind("submit").submit()}})},submitCollectionGuestPassword:function(){$(this).on({submit:function(e){e.preventDefault();var t=$(this);t.find("input[type=submit]").addClass("button disabled").attr("disabled","disabled"),t.data("ask")&&void 0===$.cookie("guest_id")?(e.preventDefault(),swal({type:"input",title:"",text:bfTranslate("Enter your email for access to this Collection:"),confirmButtonText:"Continue",showCancelButton:!0,cancelButtonText:"Skip",inputPlaceholder:"Email"},(function(e){var n;return e&&e.length>0?(e=e.trim(),n=BF.fx.validateEmail(e)):e="",""===e||null===e||!0===n?$.cookie("guest_id",encodeURI(e),{expires:90}):Notify.create({title:"Invalid email",body:e+bfTranslate(" does not appear to be a valid email address."),type:"error"}),t.submit(),!1}))):t.unbind("submit").submit()}})},clickLabelsCheckbox:function(){$(this).on({click:,".j-yh-checkbox-container h4")},filterOnHashtagClick:function(){$(this).on({click:function(e){e.preventDefault(),e.stopPropagation(),BF.fx.hashtagFilter($(this).text())}},".j-hashtag-link")},changeView:function(){$(this).on({click:function(){if(!1===BF_List)window.location=window.location.href+"?list=true";else{var e=window.location.href.split("?list")
;window.location=e[0]}}})},inputExternalLink:function(){var e=$(this),t=$("input",e),n=$("a",e),i=$("i",e);t.on({keyup:function(){val=t.val(),val.length>0?(i.show(),val.match(/^[a-zA-Z]+:\/\//)||(val="http://"+val),n.attr("href",val)):i.hide()}})},overrideSlugField:function(){$(this).on({click:function(){$(".j-slug-check").focus()}})},createSlug:function(){$(this).on({change:function(){var e=$(".j-slug-check");if(!e.hasClass("touched")||""===e.val()){var t=$(this).val();t=(t=(t=t.replace(/[^a-zA-Z0-9\.]+/g,"")).replace(/ /g,"-")).replace(/\.+/g,"-"),e.val(t.substring(0,50).toLowerCase()),e.trigger("change")}},focus:function(){""===$(".j-slug-check").val()&&$(this).trigger("change")},keyup:function(){$(this).trigger("change")}})},checkOrgSlug:function(){$(this).on({change:function(){var e=$("#organization-slug"),t=$(this);""===t.val()||t.val()==BF.fx.data(t,"existing-slug")?(e.removeClass("success invalid"),t.removeClass("touched success invalid"),$(".j-slug-invalid").hide(),$(".j-slug-warning").hide()):$.getJSON("/api/slug/organization/"+t.val()+".json",(function(n){n.valid?(e.removeClass("invalid").addClass("success"),t.removeClass("invalid").addClass("success"),$(".j-slug-invalid").hide(),$(".j-slug-warning").show()):(e.removeClass("success").addClass("invalid"),t.removeClass("success").addClass("invalid"),$(".j-slug-warning").hide(),$(".j-slug-invalid").show())}))},focus:function(){$("#organization-slug").addClass("focus"),$(".input-group-addon").css("background-color","white")},focusout:mouseenter:function(){$("#organization-slug").addClass("hover")},mouseout:function(){$("#organization-slug").removeClass("hover")},keyup:function(){var e=$(this);e.addClass("touched"),e.trigger("change")}})},checkBrandfolderSlug:function(){$(this).on({change:function(){var e=$(this);""===e.val()&&e.removeClass("touched"),""===e.val()||e.val()==BF.fx.data(e,"existing-slug")?(e.removeClass("success").removeClass("invalid"),$(".j-slug-invalid").hide(),$(".j-slug-warning").hide()):$.getJSON("/api/slug/brandfolder/"+e.val()+".json",(function(t){t.valid?(e.removeClass("invalid").addClass("success"),$(".j-slug-invalid").hide(),$(".j-slug-warning").show()):(e.removeClass("success").addClass("invalid"),$(".j-slug-warning").hide(),$(".j-slug-invalid").show())}))},keyup:)},passwordCharacterCount:function(){$(this).on({focus:blur:)},fetchMediaOnBlur:function(){$(this).on({blur:function(){return BF.Media.fetch.call(this),!1},change:function(){return $("#external_medium_embedlyed").val(!1),!1}})},showOtherMetadata:function(){$(this).on({click:function(){return $(this).nextAll(".j-other-metadata").slideDown(),$(this).hide(),!1}})},convertHEXtoRGB:function(){var e=$("#color_r"),t=$("#color_g"),n=$("#color_b");$(this).on({blur:function(){if(""!==$(this).val()&&""===e.val()&&""===t.val()&&""===n.val()){var i=BF.fx.hexToRGB($(this).val());i&&(e.val(i.r),t.val(i.g),n.val(i.b)),$(".j-rgb-sample").css("background-color","#"+$(this).val())}return!1}})},convertRGBtoHEX:function(){var e=$("#color_r"),t=$("#color_g"),n=$("#color_b"),i=$("#color_hex");$(this).on({blur:function(){if(""!==e.val()&&""!==t.val()&&""!==n.val()&&""===i.val()){var a=BF.fx.rgbToHEX(e.val(),t.val(),n.val());i.val(a.toUpperCase()),$(".j-hex-sample").css("background-color","#"+a)}return!1}})},moveModalIntoView:function(){$(this).on({click:function(e){$("#dialog").on("shown.bs.modal",(function(){var t=$("body").height();window.aprox_scroll_y=e.pageY-e.screenY;var n=screen.height/2+window.aprox_scroll_y-350;n<300&&(n=300);var i=n+$(".modal-dialog").outerHeight(!0);i>t&&(n-=i-t),$(".modal-dialog").css("top",n+"px")}))}})},enableEmbedToggle:function(){$(this).on({click:function(e){e.preventDefault(),$("#dialog").find(".embed-media").slideToggle()}})},refreshAssetShow:function(){$(this).on({click:function(){var e=$(this).data("key");BF.Asset.fetchAsset(e).done(()}})},bulkUpload:function(){$(this).on({click:)},showManageSectionsModal:function(){$(this).on({click:function(e){e.preventDefault(),e.stopPropagation(),BF.SectionManager.show.call(this)}})},changeShareTabName:function(){$(this).click((function(){$(".j-tab-dropdown").text($(this).text());var e="/share_manifests/"+$(".share-container").data("manifest-digest");$.ajax({url:e,type:"put",data:{internal:$(this).data("internal")},success:function(){},error:function(){}})}))},changeShareEndDate:function(e){var t="/share_manifests/"+$(".share-container").data("manifest-digest"),n=new Date(e),i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()));$.ajax({url:t,type:"put",data:{availability_end:i},error:)},changeTimeZone:function(){$(this).on("change",(function(){var e="/share_manifests/"+$(".share-container").data("manifest-digest");$.ajax({url:e,type:"put",data:{share_manifest:{time_zone:$(this).val()}}})}))},nameShareManifest:function(){$(this).blur((function(){var e="/share_manifests/"+$(".share-container").data("manifest-digest"),t=$(this),n=t.val();$.ajax({url:e,type:"put",data:{name:n},success:function(){},error:function(){t.val("")}})}))},toggleShareIdentification:function(){$(this).click((function(){var e="/share_manifests/"+$(".share-container").data("manifest-digest"),t=$(this),n=t.is(":checked");$.ajax({url:e,type:"put",data:{require_identification:$(this).is(":checked")},success:function(){},error:function(){n?t.prop("checked",!1):t.prop("checked",!0)}})}))},toggleShareExpiration:function(){$(this).click((function(){var e=$(this),t=$(this).is(":checked"),n="/share_manifests/"+$(".share-container").data("manifest-digest"),i=new Date($(".j-availability-end-date").val()),a=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes()));$.ajax({url:n,type:"put",data:{expires:t,availability_end:a},success:function(){var e=$(".j-set-availability");$(".j-toggle-expires").is(":checked")?(e.removeClass("s-hide"),e.addClass("availability-flex")):(e.addClass("s-hide"),e.removeClass("availability-flex"))},error:function(){t?e.prop("checked",!1):e.prop("checked",!0)}})}))},selectSmallDimensions:function(){$(this).on({click:function(){$(this).closest(".s-width-and-height-inputs").find(".j-asset-height").val($(this).data("height")),$(this).closest(".s-width-and-height-inputs").find(".j-asset-width").val($(this).data("width")),$(this).addClass("s-highlight-size-selection"),$(this).siblings().removeClass("s-highlight-size-selection")}})},selectMediumDimensions:function(){$(this).on({click:function(){$(this).closest(".s-width-and-height-inputs").find(".j-asset-height").val($(this).data("height")),$(this).closest(".s-width-and-height-inputs").find(".j-asset-width").val($(this).data("width")),$(this).addClass("s-highlight-size-selection"),$(this).siblings().removeClass("s-highlight-size-selection")}})},selectLargeDimensions:function(){$(this).on({click:function(){$(this).closest(".s-width-and-height-inputs").find(".j-asset-height").val($(this).data("height")),$(this).closest(".s-width-and-height-inputs").find(".j-asset-width").val($(this).data("width")),$(this).addClass("s-highlight-size-selection"),$(this).siblings().removeClass("s-highlight-size-selection")}})},selectOriginalDimensions:function(){$(this).on({click:function(){$(this).closest(".s-width-and-height-inputs").find(".j-asset-height").val($(this).data("height")),$(this).closest(".s-width-and-height-inputs").find(".j-asset-width").val($(this).data("width")),$(this).addClass("s-highlight-size-selection"),$(this).siblings().removeClass("s-highlight-size-selection")}})},toggleRestrictedDimensions:function(){$(this).on({click:function(e){e.stopPropagation();var t=$(this),n="/api/v4/attachments/"+t.data("attachment-key"),i={data:{attributes:{dimensions_restricted:!t.data("attachment-restricted")}}};t.toggleClass("s-bulk-selected"),t.hasClass("s-bulk-selected")?$(".m-element").find(".asset-icons").addClass("hidden"):$(".m-element").find(".asset-icons").removeClass("hidden"),t.parents().eq(3).find(".j-restricted-dimension-settings").toggle(),$.ajax({url:n,type:"PUT",contentType:"application/json",data:JSON.stringify(i),beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},error:function(){t.toggleClass("s-bulk-selected"),t.hasClass("s-bulk-selected")?$(".m-element").find(".asset-icons").removeClass("hidden"):$(".m-element").find(".asset-icons").addClass("hidden"),t.parents().eq(3).find(".j-restricted-dimension-settings").toggle()}})}})},maintainRestrictedDimensionsRatio:function(){$(this).on({keyup:function(){var e=$(this),t=e.siblings(".s-size-input"),n=e.parent().data("width")/e.parent().data("height"),i=e.val(),a=e.parents(".m-download-attachment").find(".j-attachment-options").data("original-width"),s=e.parents(".m-download-attachment").find(".j-attachment-options").data("original-height"),r=e.parents().eq(3).find(".j-asset-width"),o=e.parents().eq(3).find(".j-asset-height"),d=e.parents().eq(2).find(".j-restricted-min-width"),u=e.parents().eq(2).find(".j-restricted-min-height"),l=e.parents().eq(2).find(".j-restricted-max-width"),c=e.parents().eq(2).find(".j-restricted-max-height");if(e.hasClass("j-restricted-max-width"))if(Number(i)>Number(a))e.val(a),t.val(s),r.val(a),o.val(s),r.attr({max:a}),o.attr({max:s}),d.attr({max:a}),u.attr({max:s}),e.tooltip({title:"Width over maximum"}).tooltip("show"),setTimeout((function(){e.tooltip("destroy")}),2e3);else{var f=Math.round(i/n);r.attr({max:i}),d.attr({max:i}),o.attr({max:f}),u.attr({max:f}),e.parents(".m-download-attachment").find(".j-attachment-options").data("max-width",i),e.parents(".m-download-attachment").find(".j-attachment-options").data("max-height",f),t.val(f),r.val(i),o.val(f)}else if(e.hasClass("j-restricted-max-height"))if(Number(i)>Number(s))e.val(s),t.val(s),r.val(a),o.val(s),r.attr({max:a}),o.attr({max:s}),d.attr({max:a}),u.attr({max:s}),e.tooltip({title:"Height over maximum"}).tooltip("show"),setTimeout((function(){e.tooltip("destroy")}),2e3);else{f=Math.round(i*n);r.attr({max:f}),o.attr({max:i}),d.attr({max:f}),u.attr({max:i}),e.parents(".m-download-attachment").find(".j-attachment-options").data("max-height",i),e.parents(".m-download-attachment").find(".j-attachment-options").data("max-width",f),t.val(f),r.val(f),o.val(i)}else if(e.hasClass("j-restricted-min-height"))if(Number(i)>Number(c.val()))e.val(c.val()),t.val(l.val()),e.tooltip({title:"Height over maximum"}).tooltip("show"),setTimeout((function(){e.tooltip("destroy")}),2e3);else{f=Math.round(i*n);r.attr({min:f}),o.attr({min:i}),e.parents(".m-download-attachment").find(".j-attachment-options").data("min-height",i),e.parents(".m-download-attachment").find(".j-attachment-options").data("min-width",f),t.val(f)}else if(Number(i)>Number(l.val()))e.val(l.val()),t.val(c.val()),e.tooltip({title:"Width over maximum"}).tooltip("show"),setTimeout((function(){e.tooltip("destroy")}),2e3);else{f=Math.round(i/n);r.attr({min:i}),o.attr({min:f}),e.parents(".m-download-attachment").find(".j-attachment-options").data("min-width",i),e.parents(".m-download-attachment").find(".j-attachment-options").data("min-height",f),t.val(f)}}})},validateRestrictedDimensions:function(){$(this).on({blur:function(){var e=$(this);Number(e.val())||(e.addClass("invalid"),e.val(1),e.tooltip({title:bfTranslate("Value lower than minimum")}).tooltip("show"),setTimeout((,2e3))}})},updateRestrictedDimensions:function(){$(this).on({click:function(e){e.preventDefault(),e.stopPropagation(),$this=$(this),$this.prop("disabled",!0);var t=$(this).data("attachment-key"),n="/api/v4/attachments/"+t,i={data:{attributes:{restricted_min_height:Number($("#restricted_min_height_"+t).val()),restricted_max_height:Number($("#restricted_max_height_"+t).val()),restricted_min_width:Number($("#restricted_min_width_"+t).val()),restricted_max_width:Number($("#restricted_max_width_"+t).val())}}};$.ajax({url:n,type:"PUT",data:JSON.stringify(i),dataType:"json",contentType:"application/json",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},success:function(){$this.parents().eq(2).find(".j-validate-restricted-dimensions").addClass("success"),setTimeout((function(){$this.parents().eq(2).find(".j-validate-restricted-dimensions").removeClass("success")}),300)},error:function(){$this.parents().eq(2).find(".j-validate-restricted-dimensions").addClass("invalid"),setTimeout((,300)},complete:)}})},showAttachmentOptionDropdown:function(){$(this).on({click:function(){var $this=$(this);if($this.hasClass("open"))$this.removeClass("open"),$this.find("span.close-icon").removeClass("bff-close"),$this.find("span.options-button-copy").removeClass("hide-copy"),$(".j-attachment-options-dropdown").hide(),$(".s-preselected-sizes a").removeClass("s-highlight-size-selection"),$(".t-show-modal-download-action button").removeClass("disabled");else{$(".j-attachment-options").removeClass("open"),$(".j-attachment-options-dropdown").hide(),$(".t-show-modal-download-action button").addClass("disabled"),$this.addClass("open"),$this.siblings(".j-attachment-options-dropdown").show(),$this.find("span.close-icon").addClass("bff-close"),$this.find("span.options-button-copy").addClass("hide-copy"),$this.siblings(".s-custom-asset-dropdown").find(".s-preselected-sizes").children().children().css("font-weight","normal"),$(".s-asset-ext").removeClass("selected");var ext=$this.siblings().find(".original-extension").text().trim().toLowerCase(),webViewableExtensions=eval($this.closest(".j-attachment-options").data("web-viewable")),otherDimensionsExtensions=[/tif/i],toggleDimensionsExtensions=_.union(webViewableExtensions,otherDimensionsExtensions);$("#type").val(ext),$(".original-extension").addClass("selected"),_.some(toggleDimensionsExtensions,(function(e){return 1==e.test(ext)}))?$(".j-hide-custom-sizes").show():$(".j-hide-custom-sizes").hide()}}})},trackAttachmentDownload:function(){var e=$(this).data("assetKey"),t={resource_type:$(this).data("sourceType").toLowerCase(),resource_key:$(this).data("sourceKey").toLowerCase()};Insight.createEvent("downloaded",e,"asset",t),"share_manifest"===t.resource_type&&Insight.createEvent("downloaded",e,"asset")},trackAssetDownloadForAttachment:function(){$(this).on({click:function(){BF.handlers.trackAttachmentDownload.bind($(this))()}})},showDownloadAlert:function(){$(this).on({click:function(e){var t=$(this),n="attachment"===t.data("track-type")?BF.handlers.trackAttachmentDownload.bind(t):BF.handlers.trackAssetModalDownload.bind(t);if(BFG.downloadAlertEnabled){e.preventDefault();var i=t.data("asset-key"),a=t.closest(".m-download-attachment").data("attachment-key"),s=t.attr("href"),r={assetKey:i,attachmentKey:a,downloadCallback:;BF.fx.dispatchWindowEvent("launchDownloadAlert",null,r)}else n()}})},showVideoOptionDropdown:function(){$(this).on({click:function(e){var t=$(this);if(e.preventDefault(),BF.fx.handle("selectFieldTransform",$(".j-select-video-format")),t.hasClass("open"))t.removeClass("open"),t.find("span.close-icon").removeClass("bff-close"),t.find("span.options-button-copy").removeClass("hide-copy"),$(".j-video-options-dropdown").hide(),$(".s-preselected-sizes a").removeClass("s-highlight-size-selection");else{$(".j-video-options").removeClass("open"),$(".j-video-options-dropdown").hide(),t.addClass("open"),t.siblings(".j-video-options-dropdown").show(),t.find("span.close-icon").addClass("bff-close"),t.find("span.options-button-copy").addClass("hide-copy"),t.siblings(".s-custom-asset-dropdown").find(".s-preselected-sizes").children().children().css("font-weight","normal"),$(".s-asset-ext").removeClass("selected");for(var n=t.parent().find(".input-text"),i=0;i<n.length;i++)$(n[i]).html().replace(/ /g,"")===t.next().find(".video-format").html().replace(/ /g,"")&&$(n[i]).parent().find(".video-checkbox-option").addClass("show-checkbox")}}})},selectAssetExtension:function(){$(this).on({click:function(){var $this=$(this);if(!$this.hasClass("selected")){$this.siblings(".j-asset-ext").removeClass("selected"),$this.addClass("selected");var ext=$this.text().trim().toLowerCase(),webViewableExtensions=eval($this.closest(".s-asset-ext-list").data("web-viewable")),otherDimensionsExtensions=[/tif/i],toggleDimensionsExtensions=_.union(webViewableExtensions,otherDimensionsExtensions);$this.parents().find("#type").val(ext),_.some(toggleDimensionsExtensions,()?$(".j-hide-custom-sizes").show():$(".j-hide-custom-sizes").hide()}}})},closeAttachmentOptionDropdown:function(){$(this).on({click:function(){$(".j-attachment-options-dropdown").hide(),$(".t-show-modal-download-action button").removeClass("disabled");var e=$(".j-attachment-options");e.removeClass("open"),e.find("span.close-icon").removeClass("bff-close"),e.find("span.options-button-copy").removeClass("hide-copy"),$(".s-preselected-sizes a").removeClass("s-highlight-size-selection");var t=$(this).data("asset-key"),n={resource_type:BF.fx.resource().type,resource_key:BF.fx.resource().key};Insight.createEvent("downloaded",t,"asset",n),"share_manifest"===n.resource_type&&Insight.createEvent("viewed",t,"asset")}})},attachmentConversionPoller:function(e,t,n){var i=$(".download_progress_indicator span");n>4e4?Notify.create({title:bfTranslate("Could not convert file"),body:bfTranslate("Sorry, the file could not be converted."),type:"error"}):(n>5e3&&i.text(bfTranslate("Still working...")),n>25e3&&i.text(bfTranslate("No really, still working on it...")),$.ajax({url:e,type:"GET",data:t,crossDomain:!0,beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},success:function(a,s,r){if(200===r.status)i.text(bfTranslate("Beginning Download")),window.location=a.download_url,setTimeout((function(){$(".download_progress_indicator").removeClass("active"),setTimeout((function(){$(".download_progress_indicator").css("visibility","hidden"),i.text(bfTranslate("Hang tight! We're preparing your download..."))}),1e3)}),1e3);else{$(".download_progress_indicator").css("visibility","visible").addClass("active");var o=1.1*n;setTimeout((,o)}},error:function(){$(".download_progress_indicator").removeClass("active"),setTimeout((function(){$(".download_progress_indicator").css("visibility","hidden")}),1e3),Notify.create({title:bfTranslate("Could not convert file"),body:bfTranslate("Sorry, the file could not be converted."),type:"error"})}}))},submitAttachmentConversionForm:function(){$(this).on({submit:function(e){e.preventDefault();var t=function(){var e=this.attr("action"),t=this.serialize(),n=500;$(".download_progress_indicator span").text(bfTranslate("Hang tight! We're preparing your download...")),BF.handlers.attachmentConversionPoller(e,t,n)};if(BFG.downloadAlertEnabled){var n={assetKey:$(this).data("asset-key"),attachmentKey:$(this).closest(".m-download-attachment").data("attachment-key"),downloadCallback:t.bind($(this))};BF.fx.dispatchWindowEvent("launchDownloadAlert",null,n)}else t.bind($(this))()}})},maintainImageSizeRatio:function(){$(this).on({focus:function(){var e=$(this).siblings(".s-size-input");e[0].disabled=!0,e.css("color","#999999")},blur:function(){$(this).siblings(".s-size-input")[0].disabled=!1,$(this).siblings(".s-size-input").css("color","#384650"),$(this).tooltip("destroy"),$(this).parent().find(".j-asset-width").trigger("keyup"),$(this).parent().find(".j-asset-height").trigger("keyup")},keyup:function(e){var t=$(this),n=Number(t.val()),i=t.siblings(".s-size-input"),a=t.closest(".s-width-and-height-inputs").data("width")/t.closest(".s-width-and-height-inputs").data("height"),s=Number(t.closest(".m-download-attachment").find(".j-attachment-options").data("min-width")),r=Number(t.closest(".m-download-attachment").find(".j-attachment-options").data("min-height")),o=Number(t.closest(".m-download-attachment").find(".j-attachment-options").data("max-width")),d=Number(t.closest(".m-download-attachment").find(".j-attachment-options").data("max-height")),u=!e.which&&!e.keyCode;t.hasClass("j-asset-width")?t.closest(".s-download-attachment").hasClass("unlocked")||(n>o?(t.val(o),i.val(d),t.tooltip({title:bfTranslate("Width over maximum")}).tooltip("show"),setTimeout((function(){t.tooltip("destroy")}),2e3)):n<s&&u?(t.val(s).trigger("keyup"),t.tooltip({title:bfTranslate("Width lower than minimum")}).tooltip("show"),setTimeout((function(){t.tooltip("destroy")}),2e3)):i.val(Math.round(n/a))):t.closest(".s-download-attachment").hasClass("unlocked")||(n>d?(t.val(d),i.val(o),t.tooltip({title:bfTranslate("Height over maximum")}).tooltip("show"),setTimeout((function(){t.tooltip("destroy")}),2e3)):n<r&&u?(t.val(r).trigger("keyup"),t.tooltip({title:bfTranslate("Height lower than minimum")}).tooltip("show"),setTimeout((function(){t.tooltip("destroy")}),2e3)):i.val(Math.round(n*a)))}})},toggleAspectRatioLock:function(){$(this).on({click:function(){var e=$(this),t=e.closest(".s-download-attachment");t.hasClass("unlocked")?(t.removeClass("unlocked"),e.children(".bff-public").addClass("hidden"),e.children(".bff-private").removeClass("hidden"),t.find(".j-asset-width").val(t.data().width),t.find(".j-asset-height").val(t.data().height),t.closest("form").find(".j-asset-pad").val(!1)):(t.addClass("unlocked"),e.children(".bff-private").addClass("hidden"),e.children(".bff-public").removeClass("hidden"),t.closest("form").find(".j-asset-pad").val(!0))}})},selectAllPreText:function(){$(this).on("click",(function(){var e,t=this.querySelectorAll("textarea")[0];t&&t.select?t.select():document.selection?((e=document.body.createTextRange()).moveToElementText(t),e.select()):window.getSelection&&t&&(window.getSelection().removeAllRanges(),(e=document.createRange()).selectNode(t),window.getSelection().addRange(e))}))},tagsInput:function(){var e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{cache:!1,url:"/api/brandfolders/"+BF.fx.slug()+"/tags.json?token="+BF_Token+"&limit=100&collection_slug="+BF.fx.collectionSlug()},remote:{url:"/api/brandfolders/"+BF.fx.slug()+"/tags.json?token="+BF_Token+"&collection_slug="+BF.fx.collectionSlug()+"&query=%QUERY",wildcard:"%QUERY"}});e.initialize();var t=$(this);window.sortedTokens=t.data("sortedtokens"),t.on("tokenfield:initialize",(function(){window.sortedTokens?($(".tokenfield .token").each((function(e,t){window.sortedTokens.filter((function(e){if(e.name===$($(t).children("span.token-label")[0]).html()&&e.auto_generated)return t})).length>0&&$(this).addClass("auto-generated"),$(this).addClass("existing")})),delete window.sortedTokens):$(".tokenfield .token").addClass("existing")})).tokenfield({typeahead:[{highlight:!0},{display:"value",source:e.ttAdapter()}],createTokensOnBlur:!0,limit:0,minWidth:80}).on("tokenfield:createtoken",(function(){$(this).tokenfield("getTokens")})).on("tokenfield:createdtoken",()},setupAutoSuggestedTags:function(){function e(e){var a=d.data("sortedtokens").map(().join(",").toLowerCase(),s=e;s.sort(();var r=s.filter((function(e){return!(void 0===e.tag||a.indexOf(e.tag.toLowerCase())>-1)}));for(i=0;i<r.length&&i<o;i+=1)n.prepend("<button class='tag-button j-autosuggested-tag' type='button'><h4 class='tag-copy'>"+r[i].tag+"</h4></button>");t()}function t(){n.find(".j-autosuggested-tag").on("click",(function(){d.tokenfield("createToken",$(this).text()),BF.handlers.captureTagSelectEvent($(this)),$(this).fadeOut(350)}))}var n=$(this);if("development"!==BF_Environment){n.find(".loading-autotags-copy").show();var a="https://suggested-attachment-tag.brandfolder.io/v1/similarattachmenttags",s=n.data("thumbnail-url")?n.data("thumbnail-url"):"",r=BF.fx.organization().key,o=15,d=$("input[data-role=tokenfield]"),u=Array.isArray(n.data("user-generated-tags"))?n.data("user-generated-tags").join(", "):"",l=Array.isArray(n.data("extracted-tags"))?n.data("extracted-tags").join(", "):"",c={attachment:{asset_type:$(".j-asset-submit").data("asset"),org_key:r,tags:l,url:s,user_generated_tags:u}};$.ajax({url:a,type:"POST",data:JSON.stringify(c),beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},success:function(t){n.find(".loading-autotags-copy").hide(),t&&t.suggestedtags&&t.suggestedtags.tags?e(t.suggestedtags.tags):n.find(".no-autotags-copy").show()},error:function(){n.find(".loading-autotags-copy").hide(),n.find(".no-autotags-copy").show()}})}else n.find(".no-autotags-copy").show()},captureTagSelectEvent:function(e){var t={type:"selected",feature:"suggested-attachment-tag",eventTime:(new Date).toISOString(),actor:{id:BFG.currentUser.user_id,type:"user",location:{userAgent:navigator.userAgent,referrer:window.location.href}},object:{name:e.text(),type:"tag"},prepositionalObject:{id:$(".j-asset-submit").data("key"),type:"asset"},indirectObject:{id:BF.fx.resource().key,type:BF.fx.resource().type},brandfolder:{id:BF.fx.brandfolder().key,type:BF.fx.brandfolder().type},organization:{id:BF.fx.organization().key,type:"organization"}};$.ajax({url:"https://client-event-firehose.brandfolder-svc.com/v1/client-event-firehose",type:"POST",data:JSON.stringify(t),processData:!1,contentType:"application/json",complete:function(e){console.log(e)}})},filterOnCustomFields:function(){var e=$(this);e.on({click:function(e){e.preventDefault(),e.stopPropagation(),BF.dialog.dismiss();var t=$(this).find("td").first().text().trim(),n=$(this).find("td").last().text().trim();BF.fx.fillInAndFilterQuery("custom_fields."+t+':"'+n.replace('"','\\"')+'"')}}),e.find("a").on({click:function(e){return e.stopImmediatePropagation(),!0}})},preventBrokenImages:function(e){var t=$(e),n=t.data("extension")||"asset",i=BFG.icon_service_url+"/assets/types/"+n+".svg";return t.removeAttr("onerror"),t.attr("src",i),t.attr("srcset",i),t.attr("css","padding: 25px"),!0},scrollToTop:function(){var e=$(this);e.on("click",(function(){e.hasClass("visible")&&$("html, body").stop().animate({scrollTop:0},"500","swing")}))},loadTab:function(){},showSocialShare:function(){var e=$(this),t=e.data("asset-key"),n=e.data("title").toString(),i=n?n.replace(" ","_").replace(/(&[A-Z]+;)/gi,"").replace(/[^0-9A-Z_-]/gi,""):"",a=e.data("assetExtension");a="jpg"===a||"png"===a?a:"jpg";var s=BFG.smartCDNRoot+"/"+e.data("cdnKey")+"/as/"+t+"/"+encodeURI(i.replace(".",""))+"."+a;s&&$.getScript("//platform-api.sharethis.com/js/sharethis.js#property=5ada0e75d0b9d300137e3c9a&product=custom-share-buttons",(function(){window.__sharethis__.load("inline-share-buttons",{id:"social-share-list",enabled:!0,font_size:14,padding:8,radius:6,networks:["twitter","pinterest","facebook","linkedin","wechat","messenger","email"],size:36,show_mobile_buttons:!0,spacing:"10px",spacing_bottom:"10px",url:s,image:s,title:n,description:""})}))},forcePrintuiSync:function(){var e=$(this);e.on("click",(function(){var t=e.data("section-id");$.ajax({url:"/api/v3/printui/sync?section_id="+t,type:"GET",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+BF_Token)},success:function(){window.location="/"+BF.fx.slug(),Notify.create({title:"Sync complete! Reloading...",type:"success"})},error:function(){Notify.create({title:bfTranslate("Error during sync. Please try again!"),type:"error"})}})}))},activateLabelFromBreadcrumb:function(){var e=$(this);e.on("click",(function(){var t=e.data("label-key");BF.dialog.dismiss(),BF.fx.dispatchWindowEvent("activateLabel",null,t)}))},showAdvancedDownload:function(){var e=$(this);e.on("click",(function(){var t={assetKey:e.data("asset-key"),attachmentKey:e.closest(".m-download-attachment").data("attachment-key")};BF.fx.dispatchWindowEvent("launchAdvancedDownload",null,t)}))}})}(),_.extend(BF.handlers,{selectFieldTransform:function(){$(this).chosen({width:"100%",no_results_text:"No matches for",allow_single_deselect:!0,disable_search_threshold:15})},tooltips:function(e){var t=_.extend({html:!0,trigger:"hover",container:"body",delay:{show:100,hide:20}},e);$(this).tooltip(t),$(this).on("hidden",(function(e){e.stopPropagation()}))},popovers:function(e){e=e||{};var t=_.extend({html:!0,trigger:"hover",delay:{show:100,hide:20}},e);$(this).popover(t)},datepicker:function(e){var t=$(this);e=e||{};var n=_.extend({format:"mm/dd/yyyy",todayHighlight:!0},e);t.datepicker(n),t.find("+ .input-group-addon").click((function(){t.trigger("focus")}))},previewBrandfolder:function(){$(this).on({click:function(){return Brandfolder.showEmbed({brandfolder_id:$(this).attr("data-brandfolder-slug"),branding:!1,preview:!0,collection_id:BF.fx.collectionSlug()}),!1}})},removeInvalidUponEdit:function(){$(this).one({keyup:)},copyToClipboard:function(){new Clipboard("."+$(this)[0].className.split(" ").join(".")).on("success",(function(e){$(e.trigger).is(":button")&&$(e.trigger).hasClass("s-copy-color")?($(e.trigger).attr("title",bfTranslate("Copied!")),$(e.trigger).children("a").tooltip({trigger:"manual",container:"body",content:bfTranslate("Copied!")}).tooltip("show"),setTimeout((,1250)):$(e.trigger).is(":button")?($(e.trigger).tooltip({trigger:"manual",container:"body"}).tooltip("show"),setTimeout((,1250)):$(e.trigger).is("a")?($(e.trigger).attr("title",bfTranslate("Copied!")).tooltip("fixTitle").tooltip("setContent").tooltip("show"),setTimeout((function(){$(e.target).attr("title",bfTranslate("Copy to clipboard")).tooltip("fixTitle").tooltip("setContent").tooltip("hide")}),1250)):$(e.trigger).is("textarea")?(e.trigger.value=bfTranslate("Copied to clipboard"),setTimeout((,1250)):(e.trigger.value=bfTranslate("Copied to clipboard"),setTimeout((function(){e.target.value=e.data["text/plain"]}),1250))})),$this=$(this),$this.hover((function(){$(this).parents(".m-element").addClass("hoverClass")}),()},stopBubbling:function(){$(this).on("click",()},initLiveChat:function(){$(this).one("mouseenter",()},backToAsset:function(){$(this).on({click:function(){var e=BF.fx.data($(this).parents().eq(1).find(".video-modal-wrap"),"asset");$("#"+e+" .j-asset-name a").click()}})},openDropdownOnHover:function(){$(this).hover((function(){$(this).find(".dropdown-menu").stop(!0,!0).fadeIn(),$(this).find(".dropdown-toggle").addClass("hover")}),(function(){$(this).find(".dropdown-menu").stop(!0,!0).delay(100).fadeOut("fast"),$(this).find(".dropdown-toggle").removeClass("hover")})),$(this).find(".dropdown-toggle").on({click:function(){var e=$(this).find(".j-clickable").attr("href");void 0!==e&&($(this).siblings(".dropdown-menu").stop(!0,!0).delay(100).fadeOut("fast"),$(this).removeClass("hover"),window.location=e)}})}}),String.prototype.titleize=function(){for(var e=this.split(" "),t=[],n=0;n<e.length;++n)t.push(e[n].charAt(0).toUpperCase()+e[n].toLowerCase().slice(1));return t.join(" ")},_.extend(BF.handlers,{deleteGuestUploadLink:function(){$(this).on({click:function(){var e=$(this).data("upload-link-key"),t=$(this).parent().parent();$.ajax({url:"/api/v4/upload_links/"+e,type:"DELETE",beforeSend:success:function(){t.remove()}})}})}}),_.extend(BF.handlers,{openOrgUpgrade:function(){$(this).on({click:function(){var e=BF.fx.organizationSlug($(this).parents(".j-brandfolder-panel")),t=$(this).data("libraryname");if(!0===$(this).data("noSubscription")){var n=bfTranslate("Uh oh... it looks like you're in need of a subcription");BF.dialog.render(n,"/organizations/"+e+"/brandfolders/new")}else{e||(e=$(this).data("org-slug"));var i=$(this).data("limit"),a=$(this).data("word");a||(a="Brandfolder"),n=bfTranslate("Uh oh... looks like your plan only supports ")+i+" "+BF.fx.should_pluralize(i,t),
"Brandfolder"==a?BF.dialog.render(n,"/organizations/"+e+"/brandfolders/new"):"true"==BFG.getty_client?window.location.href="mailto:${BFG.supportEmail}?subject=Media Manager Inquiry&body=Please detail your support request here":BF.dialog.render(n,"/"+$(this).data("brandfolder-slug")+"/collections/new")}$("#dialog").find(".modal-dialog").removeClass().addClass("modal-dialog").addClass("modal-org-upgrade")}})},openEditOrganizationName:function(){$(this).on({click:function(e){e.stopPropagation();var t=BF.fx.organizationSlug($(this).parents(".j-brandfolder-panel")),n=$(this).parents(".j-brandfolder-panel").data("organization-name");$("#dialog").find(".modal-header").addClass("bf-settings-header").prepend("<span class='bff-settings bf-settings-header-icon'></span>"),BF.dialog.render(bfTranslate("Settings for ")+n,"/organizations/"+t+"/api/modals/basic_settings",()}})},checkIfEditOrDownload:function(e){if(e.hasClass("download")||e.lockFor("changes"),e.hasClass("j-invitation-form")){var t=$("#invitation_email").val(),n=$("#invitation_personal_message").val();""===t&&""===n&&e.unlockFor("changes")}},alertOfUnsavedChanges:function(){$(this).on({change:function(){BF.handlers.checkIfEditOrDownload($(this).parents("form"))},keyup:function(){BF.handlers.checkIfEditOrDownload($(this).parents("form"))},paste:,"#dialog textarea:not(.no-trigger), #dialog input[type=checkbox]:not(.no-trigger), #dialog input[type=radio]:not(.no-trigger), #dialog input[type=text]:not(.no-trigger), #dialog select:not(.no-trigger), #dialog input[type=email]:not(.no-trigger)")}}),function(){_.extend(BF.handlers,{submitSubscription:function(){$(this).on({click:)}});var e=function(){return $(".active[data-bf-plan]").data("bf-plan")},t=n=function(){$(".j-submit-subscription").attr("disabled","disabled");$(".j-submit-subscription").data("org-slug");$("#subscriptionForm #plan_name").val(e()),$("#subscriptionForm #frequency").val(t())}}(),_.extend(BF.handlers,{submitUserDelete:function(){var e=$(this);e.on({submit:function(t){t.preventDefault(),swal({title:bfTranslate("Delete User"),text:bfTranslate("Please enter your current password to delete your user account:"),type:"input",inputType:"password",showCancelButton:!0,closeOnConfirm:!1,customClass:"deleting"},(function(t){$("#current_password").val(t),swal({title:bfTranslate("Really?"),text:bfTranslate("Are you sure you want to delete your user account?\n\n"),type:"warning",showCancelButton:!0,confirmButtonText:bfTranslate("Delete Me"),closeOnConfirm:!0,customClass:"deleting"},(function(t){if(!t)return!1;e.unbind("submit").submit()}))}))}})}}),BF.Invitation={create:function(){var e=$(".tab-pane.active"),t=e.find(".j-new-permission-level").val(),n={resource_key:e.data("resource-key"),resource:e.data("resource"),invitation:{email:e.find(".j-new-permission-email").val(),personal_message:e.find(".j-message-input").val(),permission_level:t}};$(".j-submit-invitation span").removeClass("bff-email").addClass("bff-spinner-gif"),$.ajax({type:"POST",url:"/invitations",dataType:"html",data:n,headers:{Authorization:"Bearer "+BF_Token},success:function(n){var i=$(n).find(".j-invitation"),a=$(n).find(".j-user-permission"),s=$(n).siblings(".errors");if("guest"!=t&&$(".j-user-limits").fadeOut(),s.prependTo(e),i.length)i.prependTo(e.find(".s-invitations .invitations")).hide().fadeIn(BF.vars.speed),e.find(".j-empty-row-invites").hide();else if(a.length){e.find("#j-user-list-start").append(a).hide().fadeIn(BF.vars.speed),e.find(".j-empty-row-users").hide();var r=$(".tab-pane.active .j-user-permission").length,o=BF.fx.should_pluralize(r,"user");$(".tab-pane.active").find("#userSearch").attr("placeholder","Search "+r+" "+o)}var d=$(".tab-pane.active .j-invitation").length,u=$(".tab-pane.active .j-user-permission").length;$(".tab-pane.active .j-invitation-count").html(d),$(".tab-pane.active .j-users-count").html(u),$("ul.s-invitations").removeClass("hidden");var l=[];$.each(i.parent().find(".j-invitation"),(),BF.UserPermission.removeAccessRequestsFromView(l);var c=e.find(".j-new-permission-email").val();if(c&&(c.match(/@/g)||[]).length,e.find(".j-invitation:visible").length,e.find(".j-user-permission:visible").length,e.find(".j-new-permission-email").val(""),e.find(".j-message-input").val(""),BF.UserPermission.addNewListItemHandlers(e),"function"==typeof window.CustomEvent){var f=new CustomEvent("dashbarUpdated",{detail:{refresh:!0}});window.dispatchEvent(f)}},error:function(e){var t=[].concat(JSON.parse(e.responseText));_.each(t,()},complete:)},destroy:function(){var e=$(this),t=e.attr("data-token");$.ajax({type:"DELETE",url:"/invitations/"+t,headers:{Authorization:"Bearer "+BF_Token,"Content-Type":"application/json"},dataType:"json",success:function(){var t,n=e.parents(".j-invitation"),i=$(".tab-pane.active");n.fadeOut(BF.vars.speed,(function(){if(n.remove(),t=parseInt($("#userSearch").attr("placeholder").replace(/[^0-9]/gi,""))-1,"Owner"===$(".s-single-permission").children().first().text())var e="owner";else e="user";$("#userSearch").attr("placeholder","Search "+t+" "+BF.fx.should_pluralize(t,e));var a=i.find(".j-invitation").length;$(".j-invitation-count").html(a),a||i.find(".j-empty-row-invites").show()}))},error:function(e){var t=e.responseText||bfTranslate("Whoops, looks like something went wrong");BF.fx.renderFlash(t)}})}},BF.Media={fetch:function(){var e=$("#dialog form.j-asset-submit"),t=$(this).val();t.length>0&&$.ajax({url:"https://api.embed.ly/1/oembed?key="+BFG.EMBEDLY_API_KEY+"&maxheight=385&frame=true&secure=true&url="+encodeURIComponent(t),type:"GET",async:!1,dataType:"json",success:function(t){e.find("#external_medium_thumbnail").val(t.thumbnail_url),e.find("#external_medium_embed_code").val(t.html),e.find("#external_medium_embedlyed").val(!0);var n=e.find("div.trumbowyg-editor");""==n.html()&&n.html(t.description);var i=e.find("#external_medium_name");""==i.val()&&i.val(t.title);var a=e.find("#external_medium_tags");a.tokenfield("createToken",t.type),a.tokenfield("createToken",t.provider_name)},error:function(){}})}},BF.PrivacySettings={showBrandfolder:function(){var e=$(this),t=e.data("brandfolder-slug"),n=e.data("brandfolder-name"),i="/"+t+"/api/modals/brandfolders/privacy_settings";BF.fx.collectionSlug().length>0&&(n=BF.fx.collectionName(),i=i+"/"+BF.fx.collectionSlug()),BF.dialog.render(bfTranslate("Privacy Settings for ")+n,i,(function(){var e=$(".m-brandfolder-privacy-setting-switch label.toggle").data("privacy");$(".j-toggle-password").click((function(){$(".j-guest-password").toggle()})),$(".j-toggle-notify-admins").click((function(){$(".j-notify-admin").toggle()})),$(".j-show-guests").click((function(){$(".j-guests").slideToggle()})),BF.fx.handle("updatePrivacySetting",$(".j-privacy-switch")),BF.fx.handle("tooltips",$("[rel~=tooltip]")),BF.fx.handle("copyToClipboard",$(".j-copy-button")),BF.fx.handle("stopBubbling",$(".j-copy-button")),BF.fx.handle("makePrivate",$(".j-make-private-link")),"public"==e&&($(".j-privacy-toggle-alert").show(),$(".m-brandfolder-advanced-privacy-settings").block({message:"",fadeIn:0,fadeOut:0,centerX:!0,centerY:!0,overlayCSS:{backgroundColor:"#fff",opacity:.75,cursor:"auto"},css:{display:"none"}})),$(".j-close-privacy-settings").click((function(){BF.dialog.dismiss()}))}))},updateBrandfolder:function(){var e=$(this),t=e.find("#brandfolder_notify_admins").is(":checked")?1:0,n=$(".j-notify-admin input").val(),i=$("#brandfolder_stealth_mode").is(":checked")?"stealth":"private",a=!!e.find("#brandfolder_enable_simple_password").is(":checked"),s=e.find("#brandfolder_access_request_prompt").val(),r=e.find("#brandfolder_password").val(),o={brandfolder:{notify_admins:t,whitelisted_domains:n,privacy:i,enable_simple_password:a,password:r,access_request_prompt:s}},d=e.data("slug"),u=$(".j-simple-password-change");u.length&&u.val().trim()?swal({title:"",text:bfTranslate("A Simple Password has already been set. Are you sure you want to change it?\n\nDoing so will prevent all previous users with the password from accessing this Private Brandfolder.\n\n"),type:"warning",showCancelButton:!0,confirmButtonText:"Yes",closeOnConfirm:!0},(function(t){t?BF.PrivacySettings.submitBrandfolderUpdate(e,d,o,i):$(".j-simple-password-change").addClass("pulsate")})):BF.PrivacySettings.submitBrandfolderUpdate(e,d,o,i)},submitBrandfolderUpdate:function(e,t,n,i){$.ajax({url:e.attr("action"),type:"PUT",data:n,success:function(e){BF.Brandfolder.updatePrivacyIcon(i,t),BF.dialog.dismiss(),e&&Notify.create(e)},error:function(e){var t=JSON.parse(e.responseText);Notify.create(t)}})},showCollection:function(){$(this);var e=BF.fx.slug(),t=BF.fx.collectionName(),n="/"+e+"/collections/"+BF.fx.collectionSlug()+"/privacy_settings";BF.dialog.render("Privacy Settings for "+t,n,(function(){var e=$(".m-brandfolder-privacy-setting-switch label.toggle").data("public");$(".j-toggle-password").click((function(){$(".j-guest-password").toggle()})),$(".j-toggle-notify-admins").click((function(){$(".j-notify-admin").toggle()})),$(".j-show-guests").click((),BF.fx.handle("updatePrivacySetting",$(".j-privacy-switch")),BF.fx.handle("tooltips",$("[rel~=tooltip]")),BF.fx.handle("copyToClipboard",$(".j-copy-button")),BF.fx.handle("stopBubbling",$(".j-copy-button")),BF.fx.handle("makePrivate",$(".j-make-private-link")),e&&($(".j-privacy-toggle-alert").show(),$(".m-brandfolder-advanced-privacy-settings").block({message:"",fadeIn:0,fadeOut:0,centerX:!0,centerY:!0,overlayCSS:{backgroundColor:"#fff",opacity:.75,cursor:"auto"},css:{display:"none"}})),$(".j-close-privacy-settings").click(()}))},updateCollection:function(){var e=$(this),t=BF.fx.slug(),n=BF.fx.collectionSlug(),i="/"+t+"/collections/"+n+"/privacy_settings",a=$("#brandfolder_stealth_mode").is(":checked")?"stealth":"private",s=!!e.find("#collection_enable_simple_password").is(":checked"),r=e.find("#collection_password").val(),o=e.find("#collection_notify_admins").is(":checked")?1:0,d=$(".j-notify-admin input").val(),u=e.find("#collection_access_request_prompt").val(),l={collection:{notify_admins:o,whitelisted_domains:d,privacy:a,enable_simple_password:s,password:r,access_request_prompt:u}},c=$(".j-simple-password-change");c.length&&c.val().trim()?swal({title:"",text:bfTranslate("A Simple Password has already been set. Are you sure you want to change it?\n\nDoing so will prevent all previous users with the password from accessing this Private Collection.\n\n"),type:"warning",showCancelButton:!0,confirmButtonText:"Yes",closeOnConfirm:!0},(function(e){e?BF.PrivacySettings.submitCollectionUpdate(i,l,a,n):$(".j-simple-password-change").addClass("pulsate")})):BF.PrivacySettings.submitCollectionUpdate(i,l,a,n)},submitCollectionUpdate:function(e,t,n,i){$.ajax({url:e,type:"PUT",data:t,success:function(e){BF.Collection.updatePrivacyIcon(n,i),BF.dialog.dismiss(),e&&Notify.create(e)},error:)}},BF.Utils={escapeHtmlEntities:function(e){return"undefined"!=typeof jQuery?jQuery("<div/>").text(e).html():e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}},(function(){return )({1:[function(e,t,n){"use strict";var i=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("@babel/runtime-corejs3/core-js-stable/instance/concat")),s=i(e("@babel/runtime-corejs3/core-js-stable/instance/includes")),r=i(e("@babel/runtime-corejs3/core-js-stable/instance/map")),o=i(e("@babel/runtime-corejs3/core-js-stable/instance/reduce")),d=function(e){="xregexp",c=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,f=e.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,c],"g",{conjunction:"or"});e.tag=e.build=;n.default=d,t.exports=n.default},{"@babel/runtime-corejs3/core-js-stable/instance/concat":10,"@babel/runtime-corejs3/core-js-stable/instance/includes":13,"@babel/runtime-corejs3/core-js-stable/instance/map":15,"@babel/runtime-corejs3/core-js-stable/instance/reduce":16,"@babel/runtime-corejs3/core-js-stable/object/define-property":20,"@babel/runtime-corejs3/helpers/interopRequireDefault":26}],2:[function(e,t,n){"use strict";var i=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("@babel/runtime-corejs3/core-js-stable/instance/slice")),s=i(e("@babel/runtime-corejs3/core-js-stable/instance/concat")),r=i(e("@babel/runtime-corejs3/core-js-stable/instance/includes")),o=n.default=o,t.exports=n.default},{"@babel/runtime-corejs3/core-js-stable/instance/concat":10,"@babel/runtime-corejs3/core-js-stable/instance/includes":13,"@babel/runtime-corejs3/core-js-stable/instance/slice":17,"@babel/runtime-corejs3/core-js-stable/object/define-property":20,"@babel/runtime-corejs3/helpers/interopRequireDefault":26}],3:[function(e,t,n){"use strict";var i=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("@babel/runtime-corejs3/core-js/get-iterator")),s=i(e("@babel/runtime-corejs3/core-js-stable/instance/includes")),r=i(e("@babel/runtime-corejs3/core-js-stable/instance/concat")),o=i(e("@babel/runtime-corejs3/core-js-stable/instance/for-each")),d=function(e){nction i(t){var i="",a=-1;return(0,o.default)(e).call(e,t,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,(),a<65535&&(i+="\\u".concat(p(h(a+1))),a<65534&&(i+="-\\uFFFF")),i}unction u(e,t){var n,i,a=c[e],s="";a.bmp&&!a.isBmpLast&&(s=(0,r.default)(n="[".concat(a.bmp,"]")).call(n,a.astral?"|":""));(a.astral&&(s+=a.astral),a.isBmpLast&&a.bmp)&&(s+=(0,r.default)(i="".concat(a.astral?"|":"","[")).call(i,a.bmp,"]"));return t?"(?:(?!".concat(s,")(?:[\ud800-\udbff][\udc00-\udfff]|[\0-\uffff]))"):"(?:".concat(s,")")}ar c={},f=e._dec,h=e._hex,p=e._pad4;e.addToken(/\\([pP])(?:{(\^?)([^}]*)}|([A-Za-z]))/,(function(e,n,i){var a="Invalid double negation ",o="Unknown Unicode token ",u="Unicode token missing data ",f="Astral mode required for Unicode token ",h="Astral mode does not support Unicode tokens within character classes",p="P"===e[1]||!!e[2],m=(0,s.default)(i).call(i,"A"),g=t(e[4]||e[3]),v=c[g];if("P"===e[1]&&e[2])throw new SyntaxError(a+e[0]);if(!c.hasOwnProperty(g))throw new SyntaxError(o+e[0]);if(v.inverseOf){var b;if(g=t(v.inverseOf),!c.hasOwnProperty(g))throw new ReferenceError((0,r.default)(b="".concat(u+e[0]," -> ")).call(b,v.inverseOf));v=c[g],p=!p}if(!v.bmp&&!m)throw new SyntaxError(f+e[0]);if(m){if("class"===n)throw new SyntaxError(h);return l(g,p)}return"class"===n?p?d(g):v.bmp:"".concat((p?"[^":"[")+v.bmp,"]")}),{scope:"all",optionalFlags:"A",leadChar:"\\"}),e.addUnicodeData=function(n){var i="Unicode token requires name",s="Unicode token has no character data ",r=!0,o=!1,d=void 0;try{for(var u,l=(0,a.default)(n);!(r=(u=l.next()).done);r=!0){var f=u.value;if(!f.name)throw new Error(i);if(!(f.inverseOf||f.bmp||f.astral))throw new Error(s+f.name);c[t(f.name)]=f,f.alias&&(c[t(f.alias)]=f)}}catch(e){o=!0,d=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw d}}e.cache.flush("patterns")},e._getUnicodeProperty=;n.default=d,t.exports=n.default},{"@babel/runtime-corejs3/core-js-stable/instance/concat":10,"@babel/runtime-corejs3/core-js-stable/instance/for-each":12,"@babel/runtime-corejs3/core-js-stable/instance/includes":13,"@babel/runtime-corejs3/core-js-stable/object/define-property":20,"@babel/runtime-corejs3/core-js/get-iterator":23,"@babel/runtime-corejs3/helpers/interopRequireDefault":26}],4:[function(e,t,n){"use strict";var i=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("../../tools/output/blocks")),s=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Blocks");e.addUnicodeData(a.default)};n.default=s,t.exports=n.default},{"../../tools/output/blocks":171,"@babel/runtime-corejs3/core-js-stable/object/define-property":20,"@babel/runtime-corejs3/helpers/interopRequireDefault":26}],5:[function(e,t,n){"use strict";var i=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("../../tools/output/categories")),s=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");e.addUnicodeData(a.default)};n.default=s,t.exports=n.default},{"../../tools/output/categories":172,"@babel/runtime-corejs3/core-js-stable/object/define-property":20,"@babel/runtime-corejs3/helpers/interopRequireDefault":26}],6:[function(e,t,n){"use strict";var i=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("../../tools/output/properties")),s=n.default=s,t.exports=n.default},{"../../tools/output/properties":173,"@babel/runtime-corejs3/core-js-stable/object/define-property":20,"@babel/runtime-corejs3/helpers/interopRequireDefault":26}],7:[function(e,t,n){"use strict";var i=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("../../tools/output/scripts")),s=n.default=s,t.exports=n.default},{"../../tools/output/scripts":174,"@babel/runtime-corejs3/core-js-stable/object/define-property":20,"@babel/runtime-corejs3/helpers/interopRequireDefault":26}],8:[function(e,t,n){"use strict";var i=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("./xregexp")),s=i(e("./addons/build")),r=i(e("./addons/matchrecursive")),o=i(e("./addons/unicode-base")),d=i(e("./addons/unicode-blocks")),u=i(e("./addons/unicode-categories")),l=i(e("./addons/unicode-properties")),c=i(e("./addons/unicode-scripts"));(0,s.default)(a.default),(0,r.default)(a.default),(0,o.default)(a.default),(0,d.default)(a.default),(0,u.default)(a.default),(0,l.default)(a.default),(0,c.default)(a.default);var f=a.default;n.default=f,t.exports=n.default},{"./addons/build":1,"./addons/matchrecursive":2,"./addons/unicode-base":3,"./addons/unicode-blocks":4,"./addons/unicode-categories":5,"./addons/unicode-properties":6,"./addons/unicode-scripts":7,"./xregexp":9,"@babel/runtime-corejs3/core-js-stable/object/define-property":20,"@babel/runtime-corejs3/helpers/interopRequireDefault":26}],9:[function(e,t,n){"use strict";ction r(e,t){var n;if(!x.isRegExp(e))throw new TypeError("Type RegExp expected");var i=e[P]||{},r=u(e),o="",d="",c=null,f=null;return(t=t||{}).removeG&&(d+="g"),t.removeY&&(d+="y"),d&&(r=O.replace.call(r,new RegExp("[".concat(d,"]+"),"g"),"")),t.addG&&(o+="g"),t.addY&&(o+="y"),o&&(r=s(r+o)),t.isInternalOnly||(void 0!==i.source&&(c=i.source),null!=(0,A.default)(i)&&(f=o?s((0,A.default)(i)+o):(0,A.default)(i))),e=a(new RegExp(t.source||e.source,r),l(e)?(0,E.default)(n=i.captureNames).call(n,0):null,c,f,t.isInternalOnly)}nction u(e){return V?(0,A.default)(e):O.exec.call(/\/([a-z]*)$/i,RegExp.prototype.toString.call(e))[1]}nction f(e,t,n){return O.test.call((0,D.default)(n).call(n,"x")?/^(?:\s|#[^#\n]*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,(0,E.default)(e).call(e,t))}on y(e){M.astral=e}nction x(e,t){if(x.isRegExp(e)){if(void 0!==t)throw new TypeError("Cannot supply flags when copying a RegExp");return r(e)}if(e=void 0===e?"":String(e),t=void 0===t?"":String(t),x.isInstalled("astral")&&!(0,D.default)(t).call(t,"A")&&(t+="A"),L[e]||(L[e]={}),!L[e][t]){for(var n,i={hasNamedCapture:!1,captureNames:[]},s=H,o="",d=0,u=m(e,t),l=u.pattern,c=(0,A.default)(u);d<l.length;){do{(n=b(l,c,d,s,i))&&n.reparse&&(l=(0,E.default)(l).call(l,0,d)+n.output+(0,E.default)(l).call(l,d+n.matchLength))}while(n&&n.reparse);if(n)o+=n.output,d+=n.matchLength||1;else{var f=x.exec(l,q[s],d,"sticky"),h=(0,S.default)(f,1)[0];o+=h,d+=h.length,"["===h&&s===H?s=U:"]"===h&&s===U&&(s=H)}}L[e][t]={pattern:O.replace.call(o,/(?:\(\?:\))+/g,"(?:)"),flags:O.replace.call(c,/[^gimuy]+/g,""),captures:i.hasNamedCapture?i.captureNames:null}}var p=L[e][t];return a(new RegExp(p.pattern,(0,A.default)(p)),p.captures,e,t)}var k=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var C=k(e("@babel/runtime-corejs3/core-js-stable/instance/concat")),$=k(e("@babel/runtime-corejs3/core-js-stable/instance/index-of")),T=k(e("@babel/runtime-corejs3/core-js-stable/object/create")),S=k(e("@babel/runtime-corejs3/helpers/slicedToArray")),F=k(e("@babel/runtime-corejs3/core-js-stable/instance/for-each")),j=k(e("@babel/runtime-corejs3/core-js/get-iterator")),D=k(e("@babel/runtime-corejs3/core-js-stable/instance/includes")),B=k(e("@babel/runtime-corejs3/core-js-stable/parse-int")),E=k(e("@babel/runtime-corejs3/core-js-stable/instance/slice")),I=k(e("@babel/runtime-corejs3/core-js-stable/instance/sort")),A=k(e("@babel/runtime-corejs3/core-js-stable/instance/flags")),P="xregexp",M={astral:!1,namespacing:!1},O={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},N={},R={},L={},z=[],H="default",U="class",q={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},W=/\$(?:{([\w$]+)}|<([\w$]+)>|(\d\d?|[\s\S]))/g,Y=void 0===O.exec.call(/()??/,"")[1],V=void 0!==(0,A.default)(/x/),G={}.toString,K=i("u"),X=i("y"),Q={g:!0,i:!0,m:!0,u:K,y:X};x.prototype=/(?:)/,x.version="4.3.0",x._clipDuplicates=s,x._hasNativeFlag=i,x._dec=o,x._hex=c,x._pad4=p,x.addToken=function(e,t,n){var i=(n=n||{}).optionalFlags;if(n.flag&&v(n.flag),i){i=O.split.call(i,"");var a=!0,s=!1,o=void 0;try{for(var d,u=(0,j.default)(i);!(a=(d=u.next()).done);a=!0){v(d.value)}}catch(e){s=!0,o=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw o}}}z.push({regex:r(e,{addG:!0,addY:X,isInternalOnly:!0}),handler:t,scope:n.scope||H,flag:n.flag,reparse:n.reparse,leadChar:n.leadChar}),x.cache.flush("patterns")},x.cache=x.cache.flush=x.escape=x.exec=function(e,t,n,i){var a,s="g",o=!1,d=!1;(o=X&&!!(i||t.sticky&&!1!==i))?s+="y":i&&(d=!0,s+="FakeY"),t[P]=t[P]||{};var u=t[P][s]||(t[P][s]=r(t,{addG:!0,addY:o,source:d?"".concat(t.source,"|()"):void 0,removeY:!1===i,isInternalOnly:!0}));return n=n||0,u.lastIndex=n,a=N.exec.call(u,e),d&&a&&""===a.pop()&&(a=null),t.global&&(t.lastIndex=a?u.lastIndex:0),a},x.forEach=x.globalize=x.install=x.isInstalled=x.isRegExp=x.match=x.matchChain=function(e,t){return function e(n,i){ar s=t[i].regex?t[i]:{regex:t[i]},r=[],o=!0,d=!1,u=void 0;try{for(var l,c=(0,j.default)(n);!(o=(l=c.next()).done);o=!0){var f=l.value;(0,F.default)(x).call(x,f,s.regex,a)}}catch(e){d=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(d)throw u}}return i!==t.length-1&&r.length?e(r,i+1):r}([e],0)},x.replace=x.replaceEach=x.split=x.test=x.uninstall=x.union=function(e,t,n){ar a,s,r=(n=n||{}).conjunction||"or",o=0;if(!h(e,"Array")||!e.length)throw new TypeError("Must provide a nonempty array of patterns to merge");var d=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,u=[],l=!0,c=!1,f=void 0;try{
for(var p,m=(0,j.default)(e);!(l=(p=m.next()).done);l=!0){var g=p.value;x.isRegExp(g)?(a=o,s=g[P]&&g[P].captureNames||[],u.push(O.replace.call(x(g.source).source,d,i))):u.push(x.escape(g))}}catch(e){c=!0,f=e}finally{try{l||null==m.return||m.return()}finally{if(c)throw f}}var v="none"===r?"":"|";return x(u.join(v),t)},N.exec=N.test=N.match=N.replace=function(e,t){var n,i,a,s=x.isRegExp(e);return s?(e[P]&&(i=e[P].captureNames),n=e.lastIndex):e+="",a=h(t,"Function")?O.replace.call(String(this),e,():O.replace.call(null==this?this:String(this),e,(function(){function e(e,t,n,s){if(t=t||n){var r=+t;if(r<=a.length-3)return a[r]||"";if((r=i?(0,$.default)(i).call(i,t):-1)<0)throw new SyntaxError("Backreference to undefined group ".concat(e));return a[r+1]||""}if("$"===s)return"$";if("&"===s||0==+s)return a[0];var o,d;if("`"===s)return(0,E.default)(o=a[a.length-1]).call(o,0,a[a.length-2]);if("'"===s)return(0,E.default)(d=a[a.length-1]).call(d,a[a.length-2]+a[0].length);if(s=+s,!isNaN(s)){if(s>a.length-3)throw new SyntaxError("Backreference to undefined group ".concat(e));return a[s]||""}throw new SyntaxError("Invalid token ".concat(e))}for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return O.replace.call(String(t),W,e)})),s&&(e.global?e.lastIndex=0:e.lastIndex=n),a},N.split=x.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,(,{scope:"all",leadChar:"\\"}),x.addToken(/\\u{([\dA-Fa-f]+)}/,(,{scope:"all",leadChar:"\\"}),x.addToken(/\[(\^?)\]/,(,{leadChar:"["}),x.addToken(/\(\?#[^)]*\)/,d,{leadChar:"("}),x.addToken(/\s+|#[^\n]*\n?/,d,{flag:"x"}),x.addToken(/\./,(function(){return"[\\s\\S]"}),{flag:"s",leadChar:"."}),x.addToken(/\\k<([\w$]+)>/,(,{leadChar:"\\"}),x.addToken(/\\(\d+)/,(,{scope:"all",leadChar:"\\"}),x.addToken(/\(\?P?<([\w$]+)>/,(,{leadChar:"("}),x.addToken(/\((?!\?)/,(,{optionalFlags:"n",leadChar:"("});var J=x;n.default=J,t.exports=n.default},{"@babel/runtime-corejs3/core-js-stable/instance/concat":10,"@babel/runtime-corejs3/core-js-stable/instance/flags":11,"@babel/runtime-corejs3/core-js-stable/instance/for-each":12,"@babel/runtime-corejs3/core-js-stable/instance/includes":13,"@babel/runtime-corejs3/core-js-stable/instance/index-of":14,"@babel/runtime-corejs3/core-js-stable/instance/slice":17,"@babel/runtime-corejs3/core-js-stable/instance/sort":18,"@babel/runtime-corejs3/core-js-stable/object/create":19,"@babel/runtime-corejs3/core-js-stable/object/define-property":20,"@babel/runtime-corejs3/core-js-stable/parse-int":21,"@babel/runtime-corejs3/core-js/get-iterator":23,"@babel/runtime-corejs3/helpers/interopRequireDefault":26,"@babel/runtime-corejs3/helpers/slicedToArray":29}],10:[function(e,t){t.exports=e("core-js-pure/stable/instance/concat")},{"core-js-pure/stable/instance/concat":159}],11:[function(e,t){t.exports=e("core-js-pure/stable/instance/flags")},{"core-js-pure/stable/instance/flags":160}],12:[function(e,t){t.exports=e("core-js-pure/stable/instance/for-each")},{"core-js-pure/stable/instance/for-each":161}],13:[function(e,t){t.exports=e("core-js-pure/stable/instance/includes")},{"core-js-pure/stable/instance/includes":162}],14:[function(e,t){t.exports=e("core-js-pure/stable/instance/index-of")},{"core-js-pure/stable/instance/index-of":163}],15:[function(e,t){t.exports=e("core-js-pure/stable/instance/map")},{"core-js-pure/stable/instance/map":164}],16:[function(e,t){t.exports=e("core-js-pure/stable/instance/reduce")},{"core-js-pure/stable/instance/reduce":165}],17:[function(e,t){t.exports=e("core-js-pure/stable/instance/slice")},{"core-js-pure/stable/instance/slice":166}],18:[function(e,t){t.exports=e("core-js-pure/stable/instance/sort")},{"core-js-pure/stable/instance/sort":167}],19:[function(e,t){t.exports=e("core-js-pure/stable/object/create")},{"core-js-pure/stable/object/create":168}],20:[function(e,t){t.exports=e("core-js-pure/stable/object/define-property")},{"core-js-pure/stable/object/define-property":169}],21:[function(e,t){t.exports=e("core-js-pure/stable/parse-int")},{"core-js-pure/stable/parse-int":170}],22:[function(e,t){t.exports=e("core-js-pure/features/array/is-array")},{"core-js-pure/features/array/is-array":52}],23:[function(e,t){t.exports=e("core-js-pure/features/get-iterator")},{"core-js-pure/features/get-iterator":53}],24:[{"core-js-pure/features/is-iterable":54}],25:[function(e,t){ar i=e("../core-js/array/is-array");t.exports=n},{"../core-js/array/is-array":22}],26:[{}],27:[function(e,t){function n(e,t){if(a(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],s=!0,r=!1,o=void 0;try{for(var d,u=i(e);!(s=(d=u.next()).done)&&(n.push(d.value),!t||n.length!==t);s=!0);}catch(e){r=!0,o=e}finally{try{s||null==u.return||u.return()}finally{if(r)throw o}}return n}}var i=e("../core-js/get-iterator"),a=e("../core-js/is-iterable");t.exports=n},{"../core-js/get-iterator":23,"../core-js/is-iterable":24}],28:[{}],29:[function(e,t){ar i=e("./arrayWithHoles"),a=e("./iterableToArrayLimit"),s=e("./nonIterableRest");t.exports=n},{"./arrayWithHoles":25,"./iterableToArrayLimit":27,"./nonIterableRest":28}],30:[function(e,t){e("../../modules/es.array.is-array");var n=e("../../internals/path");t.exports=n.Array.isArray},{"../../internals/path":119,"../../modules/es.array.is-array":145}],31:[function(e,t){e("../../../modules/es.array.concat");var n=e("../../../internals/entry-virtual");t.exports=n("Array").concat},{"../../../internals/entry-virtual":81,"../../../modules/es.array.concat":141}],32:[function(e,t){e("../../../modules/es.array.for-each");var n=e("../../../internals/entry-virtual");t.exports=n("Array").forEach},{"../../../internals/entry-virtual":81,"../../../modules/es.array.for-each":142}],33:[function(e,t){e("../../../modules/es.array.includes");var n=e("../../../internals/entry-virtual");t.exports=n("Array").includes},{"../../../internals/entry-virtual":81,"../../../modules/es.array.includes":143}],34:[function(e,t){e("../../../modules/es.array.index-of");var n=e("../../../internals/entry-virtual");t.exports=n("Array").indexOf},{"../../../internals/entry-virtual":81,"../../../modules/es.array.index-of":144}],35:[function(e,t){e("../../../modules/es.array.map");var n=e("../../../internals/entry-virtual");t.exports=n("Array").map},{"../../../internals/entry-virtual":81,"../../../modules/es.array.map":147}],36:[function(e,t){e("../../../modules/es.array.reduce");var n=e("../../../internals/entry-virtual");t.exports=n("Array").reduce},{"../../../internals/entry-virtual":81,"../../../modules/es.array.reduce":148}],37:[function(e,t){e("../../../modules/es.array.slice");var n=e("../../../internals/entry-virtual");t.exports=n("Array").slice},{"../../../internals/entry-virtual":81,"../../../modules/es.array.slice":149}],38:[function(e,t){e("../../../modules/es.array.sort");var n=e("../../../internals/entry-virtual");t.exports=n("Array").sort},{"../../../internals/entry-virtual":81,"../../../modules/es.array.sort":150}],39:[function(e,t){var n=e("../array/virtual/concat"),i=Array.prototype;t.exports=function(e){var t=e.concat;return e===i||e instanceof Array&&t===i.concat?n:t}},{"../array/virtual/concat":31}],40:[function(e,t){var n=e("../regexp/flags"),i=RegExp.prototype;t.exports=,{"../regexp/flags":50}],41:[function(e,t){var n=e("../array/virtual/includes"),i=e("../string/virtual/includes"),a=Array.prototype,s=String.prototype;t.exports=,{"../array/virtual/includes":33,"../string/virtual/includes":51}],42:[function(e,t){var n=e("../array/virtual/index-of"),i=Array.prototype;t.exports=function(e){var t=e.indexOf;return e===i||e instanceof Array&&t===i.indexOf?n:t}},{"../array/virtual/index-of":34}],43:[function(e,t){var n=e("../array/virtual/map"),i=Array.prototype;t.exports=function(e){var t=e.map;return e===i||e instanceof Array&&t===i.map?n:t}},{"../array/virtual/map":35}],44:[function(e,t){var n=e("../array/virtual/reduce"),i=Array.prototype;t.exports=function(e){var t=e.reduce;return e===i||e instanceof Array&&t===i.reduce?n:t}},{"../array/virtual/reduce":36}],45:[function(e,t){var n=e("../array/virtual/slice"),i=Array.prototype;t.exports=function(e){var t=e.slice;return e===i||e instanceof Array&&t===i.slice?n:t}},{"../array/virtual/slice":37}],46:[function(e,t){var n=e("../array/virtual/sort"),i=Array.prototype;t.exports=,{"../array/virtual/sort":38}],47:[function(e,t){e("../../modules/es.object.create");var n=e("../../internals/path").Object;t.exports=function(e,t){return n.create(e,t)}},{"../../internals/path":119,"../../modules/es.object.create":151}],48:[function(e,t){e("../../modules/es.object.define-property");var n=e("../../internals/path").Object,i=t.exports=n.defineProperty.sham&&(i.sham=!0)},{"../../internals/path":119,"../../modules/es.object.define-property":152}],49:[function(e,t){e("../modules/es.parse-int");var n=e("../internals/path");t.exports=n.parseInt},{"../internals/path":119,"../modules/es.parse-int":153}],50:[function(e,t){e("../../modules/es.regexp.flags");var n=e("../../internals/regexp-flags");t.exports=function(e){return n.call(e)}},{"../../internals/regexp-flags":121,"../../modules/es.regexp.flags":154}],51:[function(e,t){e("../../../modules/es.string.includes");var n=e("../../../internals/entry-virtual");t.exports=n("String").includes},{"../../../internals/entry-virtual":81,"../../../modules/es.string.includes":155}],52:[function(e,t){var n=e("../../es/array/is-array");t.exports=n},{"../../es/array/is-array":30}],53:[function(e,t){e("../modules/web.dom-collections.iterator"),e("../modules/es.string.iterator");var n=e("../internals/get-iterator");t.exports=n},{"../internals/get-iterator":88,"../modules/es.string.iterator":156,"../modules/web.dom-collections.iterator":157}],54:[function(e,t){e("../modules/web.dom-collections.iterator"),e("../modules/es.string.iterator");var n=e("../internals/is-iterable");t.exports=n},{"../internals/is-iterable":99,"../modules/es.string.iterator":156,"../modules/web.dom-collections.iterator":157}],55:[{}],56:[function(e,t){var n=e("../internals/is-object");t.exports=,{"../internals/is-object":100}],57:[{}],58:[function(e,t){var n=e("../internals/is-object");t.exports=,{"../internals/is-object":100}],59:[function(e,t){"use strict";var n=e("../internals/array-iteration").forEach,i=e("../internals/array-method-is-strict"),a=e("../internals/array-method-uses-to-length"),s=i("forEach"),r=a("forEach");t.exports=s&&r?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},{"../internals/array-iteration":61,"../internals/array-method-is-strict":63,"../internals/array-method-uses-to-length":64}],60:[function(e,t){var n=e("../internals/to-indexed-object"),i=e("../internals/to-length"),a=e("../internals/to-absolute-index"),s=t.exports={includes:s(!0),indexOf:s(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":131,"../internals/to-length":133}],61:[function(e,t){var n=e("../internals/function-bind-context"),i=e("../internals/indexed-object"),a=e("../internals/to-object"),s=e("../internals/to-length"),r=e("../internals/array-species-create"),o=[].push,d=t.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},{"../internals/array-species-create":66,"../internals/function-bind-context":85,"../internals/indexed-object":94,"../internals/to-length":133,"../internals/to-object":134}],62:[function(e,t){var n=e("../internals/fails"),i=e("../internals/well-known-symbol"),a=e("../internals/engine-v8-version"),s=i("species");t.exports=,{"../internals/engine-v8-version":80,"../internals/fails":84,"../internals/well-known-symbol":139}],63:[function(e,t){"use strict";var n=e("../internals/fails");t.exports=,{"../internals/fails":84}],64:[function(e,t){var n=e("../internals/descriptors"),i=e("../internals/fails"),a=e("../internals/has"),s=Object.defineProperty,r={},o=t.exports=,{"../internals/descriptors":76,"../internals/fails":84,"../internals/has":90}],65:[function(e,t){var n=e("../internals/a-function"),i=e("../internals/to-object"),a=e("../internals/indexed-object"),s=e("../internals/to-length"),r=t.exports={left:r(!1),right:r(!0)}},{"../internals/a-function":55,"../internals/indexed-object":94,"../internals/to-length":133,"../internals/to-object":134}],66:[function(e,t){var n=e("../internals/is-object"),i=e("../internals/is-array"),a=e("../internals/well-known-symbol")("species");t.exports=,{"../internals/is-array":97,"../internals/is-object":100,"../internals/well-known-symbol":139}],67:[{}],68:[function(e,t){var n=e("../internals/to-string-tag-support"),i=e("../internals/classof-raw"),a=e("../internals/well-known-symbol")("toStringTag"),s="Arguments"==i()),r=t.exports=n?i:,{"../internals/classof-raw":67,"../internals/to-string-tag-support":136,"../internals/well-known-symbol":139}],69:[function(e,t){var n=e("../internals/well-known-symbol")("match");t.exports=,{"../internals/well-known-symbol":139}],70:[function(e,t){var n=e("../internals/fails");t.exports=!n(()},{"../internals/fails":84}],71:[function(e,t){"use strict";var n=e("../internals/iterators-core").IteratorPrototype,i=e("../internals/object-create"),a=e("../internals/create-property-descriptor"),s=e("../internals/set-to-string-tag"),r=e("../internals/iterators"),o=function(){return this};t.exports=,{"../internals/create-property-descriptor":73,"../internals/iterators":104,"../internals/iterators-core":103,"../internals/object-create":109,"../internals/set-to-string-tag":124}],72:[function(e,t){var n=e("../internals/descriptors"),i=e("../internals/object-define-property"),a=e("../internals/create-property-descriptor");t.exports=n?,{"../internals/create-property-descriptor":73,"../internals/descriptors":76,"../internals/object-define-property":111}],73:[{}],74:[function(e,t){"use strict";var n=e("../internals/to-primitive"),i=e("../internals/object-define-property"),a=e("../internals/create-property-descriptor");t.exports=,{"../internals/create-property-descriptor":73,"../internals/object-define-property":111,"../internals/to-primitive":135}],75:[function(e,t){"use strict";var n=e("../internals/export"),i=e("../internals/create-iterator-constructor"),a=e("../internals/object-get-prototype-of"),s=e("../internals/object-set-prototype-of"),r=e("../internals/set-to-string-tag"),o=e("../internals/create-non-enumerable-property"),d=e("../internals/redefine"),u=e("../internals/well-known-symbol"),l=e("../internals/is-pure"),c=e("../internals/iterators"),f=e("../internals/iterators-core"),h=f.IteratorPrototype,p=f.BUGGY_SAFARI_ITERATORS,m=u("iterator"),g="keys",v="values",b="entries",y=function(){return this};t.exports=,{"../internals/create-iterator-constructor":71,"../internals/create-non-enumerable-property":72,"../internals/export":83,"../internals/is-pure":101,"../internals/iterators":104,"../internals/iterators-core":103,"../internals/object-get-prototype-of":113,"../internals/object-set-prototype-of":117,"../internals/redefine":120,"../internals/set-to-string-tag":124,"../internals/well-known-symbol":139}],76:[function(e,t){var n=e("../internals/fails");t.exports=!n(()},{"../internals/fails":84}],77:[function(e,t){var n=e("../internals/global"),i=e("../internals/is-object"),a=n.document,s=i(a)&&i(a.createElement);t.exports=,{"../internals/global":89,"../internals/is-object":100}],78:[{}],79:[function(e,t){var n=e("../internals/get-built-in");t.exports=n("navigator","userAgent")||""},{"../internals/get-built-in":86}],80:[function(e,t){var n,i,a=e("../internals/global"),s=e("../internals/engine-user-agent"),r=a.process,o=r&&r.versions,d=o&&o.v8;d?i=(n=d.split("."))[0]+n[1]:s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(i=n[1]),t.exports=i&&+i},{"../internals/engine-user-agent":79,"../internals/global":89}],81:[function(e,t){var n=e("../internals/path");t.exports=,{"../internals/path":119}],82:[{}],83:[function(e,t){"use strict";var n=e("../internals/global"),i=e("../internals/object-get-own-property-descriptor").f,a=e("../internals/is-forced"),s=e("../internals/path"),r=e("../internals/function-bind-context"),o=e("../internals/create-non-enumerable-property"),d=e("../internals/has"),u=t.exports=,{"../internals/create-non-enumerable-property":72,"../internals/function-bind-context":85,"../internals/global":89,"../internals/has":90,"../internals/is-forced":98,"../internals/object-get-own-property-descriptor":112,"../internals/path":119}],84:[{}],85:[function(e,t){var n=e("../internals/a-function");t.exports=,{"../internals/a-function":55}],86:[function(e,t){var n=e("../internals/path"),i=e("../internals/global"),a=t.exports=,{"../internals/global":89,"../internals/path":119}],87:[function(e,t){var n=e("../internals/classof"),i=e("../internals/iterators"),a=e("../internals/well-known-symbol")("iterator");t.exports=,{"../internals/classof":68,"../internals/iterators":104,"../internals/well-known-symbol":139}],88:[function(e,t){var n=e("../internals/an-object"),i=e("../internals/get-iterator-method");t.exports=,{"../internals/an-object":58,"../internals/get-iterator-method":87}],89:[function(e,t){(.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],90:[{}],91:[{}],92:[function(e,t){var n=e("../internals/get-built-in");t.exports=n("document","documentElement")},{"../internals/get-built-in":86}],93:[function(e,t){var n=e("../internals/descriptors"),i=e("../internals/fails"),a=e("../internals/document-create-element");t.exports=!n&&!i(()},{"../internals/descriptors":76,"../internals/document-create-element":77,"../internals/fails":84}],94:[function(e,t){var n=e("../internals/fails"),i=e("../internals/classof-raw"),a="".split;t.exports=n(()?Object},{"../internals/classof-raw":67,"../internals/fails":84}],95:[function(e,t){var n=e("../internals/shared-store"),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=,t.exports=n.inspectSource},{"../internals/shared-store":126}],96:[function(e,t){var n,i,a,s=e("../internals/native-weak-map"),r=e("../internals/global"),o=e("../internals/is-object"),d=e("../internals/create-non-enumerable-property"),u=e("../internals/has"),l=e("../internals/shared-key"),c=e("../internals/hidden-keys"),f=r.WeakMap,h=p=if(s){var m=new f,g=m.get,v=m.has,b=m.set;n=i=a=else{var y=l("state");c[y]=!0,n=i=a=function(e){return u(e,y)}}t.exports={set:n,get:i,has:a,enforce:h,getterFor:p}},{"../internals/create-non-enumerable-property":72,"../internals/global":89,"../internals/has":90,"../internals/hidden-keys":91,"../internals/is-object":100,"../internals/native-weak-map":106,"../internals/shared-key":125}],97:[function(e,t){var n=e("../internals/classof-raw");t.exports=Array.isArray||,{"../internals/classof-raw":67}],98:[function(e,t){var n=e("../internals/fails"),i=/#|\.prototype\./,a=s=a.normalize=r=a.data={},o=a.NATIVE="N",d=a.POLYFILL="P";t.exports=a},{"../internals/fails":84}],99:[function(e,t){var n=e("../internals/classof"),i=e("../internals/well-known-symbol"),a=e("../internals/iterators"),s=i("iterator");t.exports=,{"../internals/classof":68,"../internals/iterators":104,"../internals/well-known-symbol":139}],100:[{}],101:[{}],102:[function(e,t){var n=e("../internals/is-object"),i=e("../internals/classof-raw"),a=e("../internals/well-known-symbol")("match");t.exports=,{"../internals/classof-raw":67,"../internals/is-object":100,"../internals/well-known-symbol":139}],103:[function(e,t){"use strict";var n,i,a,s=e("../internals/object-get-prototype-of"),r=e("../internals/create-non-enumerable-property"),o=e("../internals/has"),d=e("../internals/well-known-symbol"),u=e("../internals/is-pure"),l=d("iterator"),c=!1,f=[].keys&&("next"in(a=[].keys())?(i=s(s(a)))!==Object.prototype&&(n=i):c=!0),null==n&&(n={}),u||o(n,l)||r(n,l,f),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:c}},{"../internals/create-non-enumerable-property":72,"../internals/has":90,"../internals/is-pure":101,"../internals/object-get-prototype-of":113,"../internals/well-known-symbol":139}],104:[function(e,t,n){arguments[4][91][0].apply(n,arguments)},{dup:91}],105:[function(e,t){var n=e("../internals/fails");t.exports=!!Object.getOwnPropertySymbols&&!n(()},{"../internals/fails":84}],106:[function(e,t){var n=e("../internals/global"),i=e("../internals/inspect-source"),a=n.WeakMap;t.exports="function"==typeof a&&/native code/.test(i(a))},{"../internals/global":89,"../internals/inspect-source":95}],107:[function(e,t){var n=e("../internals/is-regexp");t.exports=,{"../internals/is-regexp":102}],108:[function(e,t){var n=e("../internals/global"),i=e("../internals/string-trim").trim,a=e("../internals/whitespaces"),s=n.parseInt,r=/^[+-]?0[Xx]/,o=8!==s(a+"08")||22!==s(a+"0x16");t.exports=o?s},{"../internals/global":89,"../internals/string-trim":129,"../internals/whitespaces":140}],109:[function(e,t){var n,i=e("../internals/an-object"),a=e("../internals/object-define-properties"),s=e("../internals/enum-bug-keys"),r=e("../internals/hidden-keys"),o=e("../internals/html"),d=e("../internals/document-create-element"),u=e("../internals/shared-key"),l=">",c="<",f="prototype",h="script",p=u("IE_PROTO"),m=function(){},g=v=b=y=r[p]=!0,t.exports=Object.create||,{"../internals/an-object":58,"../internals/document-create-element":77,"../internals/enum-bug-keys":82,"../internals/hidden-keys":91,"../internals/html":92,"../internals/object-define-properties":110,"../internals/shared-key":125}],110:[function(e,t){var n=e("../internals/descriptors"),i=e("../internals/object-define-property"),a=e("../internals/an-object"),s=e("../internals/object-keys");t.exports=n?Object.defineProperties:,{"../internals/an-object":58,"../internals/descriptors":76,"../internals/object-define-property":111,"../internals/object-keys":115}],111:[{"../internals/an-object":58,"../internals/descriptors":76,"../internals/ie8-dom-define":93,"../internals/to-primitive":135}],112:[{"../internals/create-property-descriptor":73,"../internals/descriptors":76,"../internals/has":90,"../internals/ie8-dom-define":93,"../internals/object-property-is-enumerable":116,"../internals/to-indexed-object":131,"../internals/to-primitive":135}],113:[function(e,t){var n=e("../internals/has"),i=e("../internals/to-object"),a=e("../internals/shared-key"),s=e("../internals/correct-prototype-getter"),r=a("IE_PROTO"),o=Object.prototype;t.exports=s?Object.getPrototypeOf:,{"../internals/correct-prototype-getter":70,"../internals/has":90,"../internals/shared-key":125,"../internals/to-object":134}],114:[function(e,t){var n=e("../internals/has"),i=e("../internals/to-indexed-object"),a=e("../internals/array-includes").indexOf,s=e("../internals/hidden-keys");t.exports=,{"../internals/array-includes":60,"../internals/has":90,"../internals/hidden-keys":91,"../internals/to-indexed-object":131}],115:[function(e,t){var n=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys");t.exports=Object.keys||function(e){return n(e,i)}},{"../internals/enum-bug-keys":82,"../internals/object-keys-internal":114}],116:[{}],117:[function(e,t){var n=e("../internals/an-object"),i=e("../internals/a-possible-prototype");t.exports=Object.setPrototypeOf||("__proto__"in{}?):void 0)},{"../internals/a-possible-prototype":56,"../internals/an-object":58}],118:[function(e,t){"use strict";var n=e("../internals/to-string-tag-support"),i=e("../internals/classof");t.exports=n?{}.toString:,{"../internals/classof":68,"../internals/to-string-tag-support":136}],119:[{dup:91}],120:[function(e,t){var n=e("../internals/create-non-enumerable-property");t.exports=,{"../internals/create-non-enumerable-property":72}],121:[function(e,t){"use strict";var n=e("../internals/an-object");t.exports=,{"../internals/an-object":58}],122:[{}],123:[function(e,t){var n=e("../internals/global"),i=e("../internals/create-non-enumerable-property");t.exports=,{"../internals/create-non-enumerable-property":72,"../internals/global":89}],124:[function(e,t){var n=e("../internals/to-string-tag-support"),i=e("../internals/object-define-property").f,a=e("../internals/create-non-enumerable-property"),s=e("../internals/has"),r=e("../internals/object-to-string"),o=e("../internals/well-known-symbol")("toStringTag");t.exports=,{"../internals/create-non-enumerable-property":72,"../internals/has":90,"../internals/object-define-property":111,"../internals/object-to-string":118,"../internals/to-string-tag-support":136,"../internals/well-known-symbol":139}],125:[function(e,t){var n=e("../internals/shared"),i=e("../internals/uid"),a=n("keys");t.exports=,{"../internals/shared":127,"../internals/uid":137}],126:[function(e,t){var n=e("../internals/global"),i=e("../internals/set-global"),a="__core-js_shared__",s=n[a]||i(a,{});t.exports=s},{"../internals/global":89,"../internals/set-global":123}],127:[function(e,t){var n=e("../internals/is-pure"),i=e("../internals/shared-store");(t.exports=("versions",[]).push({version:"3.6.4",mode:n?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":101,"../internals/shared-store":126}],128:[function(e,t){var n=e("../internals/to-integer"),i=e("../internals/require-object-coercible"),a=t.exports={codeAt:a(!1),charAt:a(!0)}},{"../internals/require-object-coercible":122,"../internals/to-integer":132}],129:[function(e,t){var n=e("../internals/require-object-coercible"),i="["+e("../internals/whitespaces")+"]",a=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),r=t.exports={start:r(1),end:r(2),trim:r(3)}},{"../internals/require-object-coercible":122,"../internals/whitespaces":140}],130:[function(e,t){var n=e("../internals/to-integer"),i=Math.max,a=Math.min;t.exports=,{"../internals/to-integer":132}],131:[function(e,t){var n=e("../internals/indexed-object"),i=e("../internals/require-object-coercible");t.exports=function(e){return n(i(e))}},{"../internals/indexed-object":94,"../internals/require-object-coercible":122}],132:[{}],133:[function(e,t){var n=e("../internals/to-integer"),i=Math.min;t.exports=,{"../internals/to-integer":132}],134:[function(e,t){var n=e("../internals/require-object-coercible");t.exports=,{"../internals/require-object-coercible":122}],135:[{"../internals/is-object":100}],136:[function(e,t){var n={};n[e("../internals/well-known-symbol")("toStringTag")]="z",t.exports="[object z]"===String(n)},{"../internals/well-known-symbol":139}],137:[{}],138:[function(e,t){var n=e("../internals/native-symbol");t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":105}],139:[function(e,t){var n=e("../internals/global"),i=e("../internals/shared"),a=e("../internals/has"),s=e("../internals/uid"),r=e("../internals/native-symbol"),o=e("../internals/use-symbol-as-uid"),d=i("wks"),u=n.Symbol,l=o?u:u&&u.withoutSetter||s;t.exports=,{"../internals/global":89,"../internals/has":90,"../internals/native-symbol":105,"../internals/shared":127,"../internals/uid":137,"../internals/use-symbol-as-uid":138}],140:[{}],141:[function(e){"use strict";var t=e("../internals/export"),n=e("../internals/fails"),i=e("../internals/is-array"),a=e("../internals/is-object"),s=e("../internals/to-object"),r=e("../internals/to-length"),o=e("../internals/create-property"),d=e("../internals/array-species-create"),u=e("../internals/array-method-has-species-support"),l=e("../internals/well-known-symbol"),c=e("../internals/engine-v8-version"),f=l("isConcatSpreadable"),h=9007199254740991,p="Maximum allowed index exceeded",m=c>=51||!n((),g=u("concat"),v=t({target:"Array",proto:!0,forced:!m||!g},{concat:function(){var e,t,n,i,a,u=s(this),l=d(u,0),c=0;for(e=-1,n=arguments.length;e<n;e++)if(a=-1===e?u:arguments[e],v(a)){if(c+(i=r(a.length))>h)throw TypeError(p);for(t=0;t<i;t++,c++)t in a&&o(l,c,a[t])}else{if(c>=h)throw TypeError(p);o(l,c++,a)}return l.length=c,l}})},{"../internals/array-method-has-species-support":62,"../internals/array-species-create":66,"../internals/create-property":74,"../internals/engine-v8-version":80,"../internals/export":83,"../internals/fails":84,"../internals/is-array":97,"../internals/is-object":100,"../internals/to-length":133,"../internals/to-object":134,"../internals/well-known-symbol":139}],142:[function(e){"use strict";var t=e("../internals/export"),n=e("../internals/array-for-each");t({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},{"../internals/array-for-each":59,"../internals/export":83}],143:[function(e){"use strict";var t=e("../internals/export"),n=e("../internals/array-includes").includes,i=e("../internals/add-to-unscopables");t({target:"Array",proto:!0,forced:!e("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},{"../internals/add-to-unscopables":57,"../internals/array-includes":60,"../internals/array-method-uses-to-length":64,"../internals/export":83}],144:[function(e){"use strict";var t=e("../internals/export"),n=e("../internals/array-includes").indexOf,i=e("../internals/array-method-is-strict"),a=e("../internals/array-method-uses-to-length"),s=[].indexOf,r=!!s&&1/[1].indexOf(1,-0)<0,o=i("indexOf"),d=a("indexOf",{ACCESSORS:!0,1:0});t({target:"Array",proto:!0,forced:r||!o||!d},{indexOf:)},{"../internals/array-includes":60,"../internals/array-method-is-strict":63,"../internals/array-method-uses-to-length":64,"../internals/export":83}],145:[function(e){e("../internals/export")({target:"Array",stat:!0},{isArray:e("../internals/is-array")})},{"../internals/export":83,"../internals/is-array":97}],146:[function(e,t){"use strict";var n=e("../internals/to-indexed-object"),i=e("../internals/add-to-unscopables"),a=e("../internals/iterators"),s=e("../internals/internal-state"),r=e("../internals/define-iterator"),o="Array Iterator",d=s.set,u=s.getterFor(o);t.exports=r(Array,"Array",(,(,"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},{"../internals/add-to-unscopables":57,"../internals/define-iterator":75,"../internals/internal-state":96,"../internals/iterators":104,"../internals/to-indexed-object":131}],147:[function(e){"use strict";var t=e("../internals/export"),n=e("../internals/array-iteration").map,i=e("../internals/array-method-has-species-support"),a=e("../internals/array-method-uses-to-length"),s=i("map"),r=a("map");t({target:"Array",proto:!0,forced:!s||!r},{map:)},{"../internals/array-iteration":61,"../internals/array-method-has-species-support":62,"../internals/array-method-uses-to-length":64,"../internals/export":83}],148:[function(e){"use strict";var t=e("../internals/export"),n=e("../internals/array-reduce").left,i=e("../internals/array-method-is-strict"),a=e("../internals/array-method-uses-to-length"),s=i("reduce"),r=a("reduce",{1:0});t({target:"Array",proto:!0,forced:!s||!r},{reduce:)},{"../internals/array-method-is-strict":63,"../internals/array-method-uses-to-length":64,"../internals/array-reduce":65,"../internals/export":83}],149:[function(e){"use strict";var t=e("../internals/export"),n=e("../internals/is-object"),i=e("../internals/is-array"),a=e("../internals/to-absolute-index"),s=e("../internals/to-length"),r=e("../internals/to-indexed-object"),o=e("../internals/create-property"),d=e("../internals/well-known-symbol"),u=e("../internals/array-method-has-species-support"),l=e("../internals/array-method-uses-to-length"),c=u("slice"),f=l("slice",{ACCESSORS:!0,0:0,1:2}),h=d("species"),p=[].slice,m=Math.max;t({target:"Array",proto:!0,forced:!c||!f},{slice:)},{"../internals/array-method-has-species-support":62,"../internals/array-method-uses-to-length":64,"../internals/create-property":74,"../internals/export":83,"../internals/is-array":97,"../internals/is-object":100,"../internals/to-absolute-index":130,"../internals/to-indexed-object":131,"../internals/to-length":133,"../internals/well-known-symbol":139}],150:[function(e){"use strict";var t=e("../internals/export"),n=e("../internals/a-function"),i=e("../internals/to-object"),a=e("../internals/fails"),s=e("../internals/array-method-is-strict"),r=[],o=r.sort,d=a((),u=a((function(){r.sort(null)})),l=s("sort");t({target:"Array",proto:!0,forced:d||!u||!l},{sort:)},{"../internals/a-function":55,"../internals/array-method-is-strict":63,"../internals/export":83,"../internals/fails":84,"../internals/to-object":134}],151:[function(e){e("../internals/export")({target:"Object",stat:!0,sham:!e("../internals/descriptors")},{create:e("../internals/object-create")})},{"../internals/descriptors":76,"../internals/export":83,"../internals/object-create":109}],152:[function(e){var t=e("../internals/export"),n=e("../internals/descriptors");t({target:"Object",stat:!0,forced:!n,sham:!n},{defineProperty:e("../internals/object-define-property").f})},{"../internals/descriptors":76,"../internals/export":83,"../internals/object-define-property":111}],153:[function(e){var t=e("../internals/export"),n=e("../internals/number-parse-int");t({global:!0,forced:parseInt!=n},{parseInt:n})},{"../internals/export":83,"../internals/number-parse-int":108}],154:[{}],155:[function(e){"use strict";var t=e("../internals/export"),n=e("../internals/not-a-regexp"),i=e("../internals/require-object-coercible");t({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:)},{"../internals/correct-is-regexp-logic":69,"../internals/export":83,"../internals/not-a-regexp":107,"../internals/require-object-coercible":122}],156:[function(e){"use strict";var t=e("../internals/string-multibyte").charAt,n=e("../internals/internal-state"),i=e("../internals/define-iterator"),a="String Iterator",s=n.set,r=n.getterFor(a);i(String,"String",(,()},{"../internals/define-iterator":75,"../internals/internal-state":96,"../internals/string-multibyte":128}],157:[function(e){e("./es.array.iterator");var t=e("../internals/dom-iterables"),n=e("../internals/global"),i=e("../internals/classof"),a=e("../internals/create-non-enumerable-property"),s=e("../internals/iterators"),r=e("../internals/well-known-symbol")("toStringTag");for(var o in t){var d=n[o],u=d&&d.prototype;u&&i(u)!==r&&a(u,r,o),s[o]=s.Array}},{"../internals/classof":68,"../internals/create-non-enumerable-property":72,"../internals/dom-iterables":78,"../internals/global":89,"../internals/iterators":104,"../internals/well-known-symbol":139,"./es.array.iterator":146}],158:[function(e,t){var n=e("../../../es/array/virtual/for-each");t.exports=n},{"../../../es/array/virtual/for-each":32}],159:[function(e,t){var n=e("../../es/instance/concat");t.exports=n},{"../../es/instance/concat":39}],160:[function(e,t){var n=e("../../es/instance/flags");t.exports=n},{"../../es/instance/flags":40}],161:[function(e,t){e("../../modules/web.dom-collections.iterator");var n=e("../array/virtual/for-each"),i=e("../../internals/classof"),a=Array.prototype,s={DOMTokenList:!0,NodeList:!0};t.exports=,{"../../internals/classof":68,"../../modules/web.dom-collections.iterator":157,"../array/virtual/for-each":158}],162:[function(e,t){var n=e("../../es/instance/includes");t.exports=n},{"../../es/instance/includes":41}],163:[function(e,t){var n=e("../../es/instance/index-of");t.exports=n},{"../../es/instance/index-of":42}],164:[function(e,t){var n=e("../../es/instance/map");t.exports=n},{"../../es/instance/map":43}],165:[function(e,t){var n=e("../../es/instance/reduce");t.exports=n},{"../../es/instance/reduce":44}],166:[function(e,t){var n=e("../../es/instance/slice");t.exports=n},{"../../es/instance/slice":45}],167:[function(e,t){var n=e("../../es/instance/sort");t.exports=n},{"../../es/instance/sort":46}],168:[function(e,t){var n=e("../../es/object/create");t.exports=n},{"../../es/object/create":47}],169:[function(e,t){var n=e("../../es/object/define-property");t.exports=n},{"../../es/object/define-property":48}],170:[{"../es/parse-int":49}],171:[function(e,t){t.exports=[{name:"InAdlam",astral:"\ud83a[\udd00-\udd5f]"},{name:"InAegean_Numbers",astral:"\ud800[\udd00-\udd3f]"},{name:"InAhom",astral:"\ud805[\udf00-\udf3f]"},{name:"InAlchemical_Symbols",astral:"\ud83d[\udf00-\udf7f]"},{name:"InAlphabetic_Presentation_Forms",bmp:"\ufb00-\ufb4f"},{name:"InAnatolian_Hieroglyphs",astral:"\ud811[\udc00-\ude7f]"},{name:"InAncient_Greek_Musical_Notation",astral:"\ud834[\ude00-\ude4f]"},{name:"InAncient_Greek_Numbers",astral:"\ud800[\udd40-\udd8f]"},{name:"InAncient_Symbols",astral:"\ud800[\udd90-\uddcf]"},{name:"InArabic",bmp:"\u0600-\u06ff"},{name:"InArabic_Extended_A",bmp:"\u08a0-\u08ff"},{name:"InArabic_Mathematical_Alphabetic_Symbols",astral:"\ud83b[\ude00-\udeff]"},{name:"InArabic_Presentation_Forms_A",bmp:"\ufb50-\ufdff"},{name:"InArabic_Presentation_Forms_B",bmp:"\ufe70-\ufeff"},{name:"InArabic_Supplement",bmp:"\u0750-\u077f"},{name:"InArmenian",bmp:"\u0530-\u058f"},{name:"InArrows",bmp:"\u2190-\u21ff"},{name:"InAvestan",astral:"\ud802[\udf00-\udf3f]"},{name:"InBalinese",bmp:"\u1b00-\u1b7f"},{name:"InBamum",bmp:"\ua6a0-\ua6ff"},{name:"InBamum_Supplement",astral:"\ud81a[\udc00-\ude3f]"},{name:"InBasic_Latin",bmp:"\0-\x7f"},{name:"InBassa_Vah",astral:"\ud81a[\uded0-\udeff]"},{name:"InBatak",bmp:"\u1bc0-\u1bff"},{name:"InBengali",bmp:"\u0980-\u09ff"},{name:"InBhaiksuki",astral:"\ud807[\udc00-\udc6f]"},{name:"InBlock_Elements",bmp:"\u2580-\u259f"},{name:"InBopomofo",bmp:"\u3100-\u312f"},{name:"InBopomofo_Extended",bmp:"\u31a0-\u31bf"},{name:"InBox_Drawing",bmp:"\u2500-\u257f"},{name:"InBrahmi",astral:"\ud804[\udc00-\udc7f]"},{name:"InBraille_Patterns",bmp:"\u2800-\u28ff"},{name:"InBuginese",bmp:"\u1a00-\u1a1f"},{name:"InBuhid",bmp:"\u1740-\u175f"},{name:"InByzantine_Musical_Symbols",astral:"\ud834[\udc00-\udcff]"},{name:"InCJK_Compatibility",bmp:"\u3300-\u33ff"},{name:"InCJK_Compatibility_Forms",bmp:"\ufe30-\ufe4f"},{name:"InCJK_Compatibility_Ideographs",bmp:"\uf900-\ufaff"},{name:"InCJK_Compatibility_Ideographs_Supplement",astral:"\ud87e[\udc00-\ude1f]"},{name:"InCJK_Radicals_Supplement",bmp:"\u2e80-\u2eff"},{name:"InCJK_Strokes",bmp:"\u31c0-\u31ef"},{name:"InCJK_Symbols_And_Punctuation",bmp:"\u3000-\u303f"},{name:"InCJK_Unified_Ideographs",bmp:"\u4e00-\u9fff"},{name:"InCJK_Unified_Ideographs_Extension_A",bmp:"\u3400-\u4dbf"},{name:"InCJK_Unified_Ideographs_Extension_B",astral:"[\ud840-\ud868][\udc00-\udfff]|\ud869[\udc00-\udedf]"},{name:"InCJK_Unified_Ideographs_Extension_C",astral:"\ud869[\udf00-\udfff]|[\ud86a-\ud86c][\udc00-\udfff]|\ud86d[\udc00-\udf3f]"},{name:"InCJK_Unified_Ideographs_Extension_D",astral:"\ud86d[\udf40-\udfff]|\ud86e[\udc00-\udc1f]"},{name:"InCJK_Unified_Ideographs_Extension_E",astral:"\ud86e[\udc20-\udfff]|[\ud86f-\ud872][\udc00-\udfff]|\ud873[\udc00-\udeaf]"},{name:"InCJK_Unified_Ideographs_Extension_F",astral:"\ud873[\udeb0-\udfff]|[\ud874-\ud879][\udc00-\udfff]|\ud87a[\udc00-\udfef]"},{name:"InCarian",astral:"\ud800[\udea0-\udedf]"},{name:"InCaucasian_Albanian",astral:"\ud801[\udd30-\udd6f]"},{name:"InChakma",astral:"\ud804[\udd00-\udd4f]"},{name:"InCham",bmp:"\uaa00-\uaa5f"},{name:"InCherokee",bmp:"\u13a0-\u13ff"},{name:"InCherokee_Supplement",bmp:"\uab70-\uabbf"},{name:"InChess_Symbols",astral:"\ud83e[\ude00-\ude6f]"},{name:"InCombining_Diacritical_Marks",bmp:"\u0300-\u036f"},{name:"InCombining_Diacritical_Marks_Extended",bmp:"\u1ab0-\u1aff"},{name:"InCombining_Diacritical_Marks_For_Symbols",bmp:"\u20d0-\u20ff"},{name:"InCombining_Diacritical_Marks_Supplement",bmp:"\u1dc0-\u1dff"},{name:"InCombining_Half_Marks",bmp:"\ufe20-\ufe2f"},{name:"InCommon_Indic_Number_Forms",bmp:"\ua830-\ua83f"},{name:"InControl_Pictures",bmp:"\u2400-\u243f"},{name:"InCoptic",bmp:"\u2c80-\u2cff"},{name:"InCoptic_Epact_Numbers",astral:"\ud800[\udee0-\udeff]"},{name:"InCounting_Rod_Numerals",astral:"\ud834[\udf60-\udf7f]"},{name:"InCuneiform",astral:"\ud808[\udc00-\udfff]"},{name:"InCuneiform_Numbers_And_Punctuation",astral:"\ud809[\udc00-\udc7f]"},{name:"InCurrency_Symbols",bmp:"\u20a0-\u20cf"},{name:"InCypriot_Syllabary",astral:"\ud802[\udc00-\udc3f]"},{name:"InCyrillic",bmp:"\u0400-\u04ff"},{name:"InCyrillic_Extended_A",bmp:"\u2de0-\u2dff"},{name:"InCyrillic_Extended_B",bmp:"\ua640-\ua69f"},{name:"InCyrillic_Extended_C",bmp:"\u1c80-\u1c8f"},{name:"InCyrillic_Supplement",bmp:"\u0500-\u052f"},{name:"InDeseret",astral:"\ud801[\udc00-\udc4f]"},{name:"InDevanagari",bmp:"\u0900-\u097f"},{name:"InDevanagari_Extended",bmp:"\ua8e0-\ua8ff"},{name:"InDingbats",bmp:"\u2700-\u27bf"},{name:"InDogra",astral:"\ud806[\udc00-\udc4f]"},{name:"InDomino_Tiles",astral:"\ud83c[\udc30-\udc9f]"},{name:"InDuployan",astral:"\ud82f[\udc00-\udc9f]"},{name:"InEarly_Dynastic_Cuneiform",astral:"\ud809[\udc80-\udd4f]"},{name:"InEgyptian_Hieroglyphs",astral:"\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2f]"},{name:"InElbasan",astral:"\ud801[\udd00-\udd2f]"},{name:"InEmoticons",astral:"\ud83d[\ude00-\ude4f]"},{name:"InEnclosed_Alphanumeric_Supplement",astral:"\ud83c[\udd00-\uddff]"},{name:"InEnclosed_Alphanumerics",bmp:"\u2460-\u24ff"},{name:"InEnclosed_CJK_Letters_And_Months",bmp:"\u3200-\u32ff"},{name:"InEnclosed_Ideographic_Supplement",astral:"\ud83c[\ude00-\udeff]"},{name:"InEthiopic",bmp:"\u1200-\u137f"},{name:"InEthiopic_Extended",bmp:"\u2d80-\u2ddf"},{name:"InEthiopic_Extended_A",bmp:"\uab00-\uab2f"},{name:"InEthiopic_Supplement",bmp:"\u1380-\u139f"},{name:"InGeneral_Punctuation",bmp:"\u2000-\u206f"},{name:"InGeometric_Shapes",bmp:"\u25a0-\u25ff"},{name:"InGeometric_Shapes_Extended",astral:"\ud83d[\udf80-\udfff]"},{name:"InGeorgian",bmp:"\u10a0-\u10ff"},{name:"InGeorgian_Extended",bmp:"\u1c90-\u1cbf"},{name:"InGeorgian_Supplement",bmp:"\u2d00-\u2d2f"},{name:"InGlagolitic",bmp:"\u2c00-\u2c5f"},{name:"InGlagolitic_Supplement",astral:"\ud838[\udc00-\udc2f]"},{name:"InGothic",astral:"\ud800[\udf30-\udf4f]"},{name:"InGrantha",astral:"\ud804[\udf00-\udf7f]"},{name:"InGreek_And_Coptic",bmp:"\u0370-\u03ff"},{name:"InGreek_Extended",bmp:"\u1f00-\u1fff"},{name:"InGujarati",bmp:"\u0a80-\u0aff"},{name:"InGunjala_Gondi",astral:"\ud807[\udd60-\uddaf]"},{name:"InGurmukhi",bmp:"\u0a00-\u0a7f"},{name:"InHalfwidth_And_Fullwidth_Forms",bmp:"\uff00-\uffef"},{name:"InHangul_Compatibility_Jamo",bmp:"\u3130-\u318f"},{name:"InHangul_Jamo",bmp:"\u1100-\u11ff"},{name:"InHangul_Jamo_Extended_A",bmp:"\ua960-\ua97f"},{name:"InHangul_Jamo_Extended_B",bmp:"\ud7b0-\ud7ff"},{name:"InHangul_Syllables",bmp:"\uac00-\ud7af"},{name:"InHanifi_Rohingya",astral:"\ud803[\udd00-\udd3f]"},{name:"InHanunoo",bmp:"\u1720-\u173f"},{name:"InHatran",astral:"\ud802[\udce0-\udcff]"},{name:"InHebrew",bmp:"\u0590-\u05ff"},{name:"InHigh_Private_Use_Surrogates",bmp:"\udb80-\udbff"},{name:"InHigh_Surrogates",bmp:"\ud800-\udb7f"},{name:"InHiragana",bmp:"\u3040-\u309f"},{name:"InIPA_Extensions",bmp:"\u0250-\u02af"},{name:"InIdeographic_Description_Characters",bmp:"\u2ff0-\u2fff"},{name:"InIdeographic_Symbols_And_Punctuation",astral:"\ud81b[\udfe0-\udfff]"},{name:"InImperial_Aramaic",astral:"\ud802[\udc40-\udc5f]"},{name:"InIndic_Siyaq_Numbers",astral:"\ud83b[\udc70-\udcbf]"},{name:"InInscriptional_Pahlavi",astral:"\ud802[\udf60-\udf7f]"},{name:"InInscriptional_Parthian",astral:"\ud802[\udf40-\udf5f]"},{name:"InJavanese",bmp:"\ua980-\ua9df"},{name:"InKaithi",astral:"\ud804[\udc80-\udccf]"},{name:"InKana_Extended_A",astral:"\ud82c[\udd00-\udd2f]"},{name:"InKana_Supplement",astral:"\ud82c[\udc00-\udcff]"},{name:"InKanbun",bmp:"\u3190-\u319f"},{name:"InKangxi_Radicals",bmp:"\u2f00-\u2fdf"},{name:"InKannada",bmp:"\u0c80-\u0cff"},{name:"InKatakana",bmp:"\u30a0-\u30ff"},{name:"InKatakana_Phonetic_Extensions",bmp:"\u31f0-\u31ff"},{name:"InKayah_Li",bmp:"\ua900-\ua92f"},{name:"InKharoshthi",astral:"\ud802[\ude00-\ude5f]"},{name:"InKhmer",bmp:"\u1780-\u17ff"},{name:"InKhmer_Symbols",bmp:"\u19e0-\u19ff"},{name:"InKhojki",astral:"\ud804[\ude00-\ude4f]"},{name:"InKhudawadi",astral:"\ud804[\udeb0-\udeff]"},{name:"InLao",bmp:"\u0e80-\u0eff"},{name:"InLatin_1_Supplement",bmp:"\x80-\xff"},{name:"InLatin_Extended_A",bmp:"\u0100-\u017f"},{name:"InLatin_Extended_Additional",bmp:"\u1e00-\u1eff"},{name:"InLatin_Extended_B",bmp:"\u0180-\u024f"},{name:"InLatin_Extended_C",bmp:"\u2c60-\u2c7f"},{name:"InLatin_Extended_D",bmp:"\ua720-\ua7ff"},{name:"InLatin_Extended_E",bmp:"\uab30-\uab6f"},{name:"InLepcha",bmp:"\u1c00-\u1c4f"},{name:"InLetterlike_Symbols",bmp:"\u2100-\u214f"},{name:"InLimbu",bmp:"\u1900-\u194f"},{name:"InLinear_A",astral:"\ud801[\ude00-\udf7f]"},{name:"InLinear_B_Ideograms",astral:"\ud800[\udc80-\udcff]"},{name:"InLinear_B_Syllabary",astral:"\ud800[\udc00-\udc7f]"},{name:"InLisu",bmp:"\ua4d0-\ua4ff"},{name:"InLow_Surrogates",bmp:"\udc00-\udfff"},{name:"InLycian",astral:"\ud800[\ude80-\ude9f]"},{name:"InLydian",astral:"\ud802[\udd20-\udd3f]"},{name:"InMahajani",astral:"\ud804[\udd50-\udd7f]"},{name:"InMahjong_Tiles",astral:"\ud83c[\udc00-\udc2f]"},{name:"InMakasar",astral:"\ud807[\udee0-\udeff]"},{name:"InMalayalam",bmp:"\u0d00-\u0d7f"},{name:"InMandaic",bmp:"\u0840-\u085f"},{name:"InManichaean",astral:"\ud802[\udec0-\udeff]"},{name:"InMarchen",astral:"\ud807[\udc70-\udcbf]"},{name:"InMasaram_Gondi",astral:"\ud807[\udd00-\udd5f]"},{name:"InMathematical_Alphanumeric_Symbols",astral:"\ud835[\udc00-\udfff]"},{name:"InMathematical_Operators",bmp:"\u2200-\u22ff"},{name:"InMayan_Numerals",astral:"\ud834[\udee0-\udeff]"},{name:"InMedefaidrin",astral:"\ud81b[\ude40-\ude9f]"},{name:"InMeetei_Mayek",bmp:"\uabc0-\uabff"},{name:"InMeetei_Mayek_Extensions",bmp:"\uaae0-\uaaff"},{name:"InMende_Kikakui",astral:"\ud83a[\udc00-\udcdf]"},{name:"InMeroitic_Cursive",astral:"\ud802[\udda0-\uddff]"},{name:"InMeroitic_Hieroglyphs",astral:"\ud802[\udd80-\udd9f]"},{name:"InMiao",astral:"\ud81b[\udf00-\udf9f]"},{name:"InMiscellaneous_Mathematical_Symbols_A",bmp:"\u27c0-\u27ef"},{name:"InMiscellaneous_Mathematical_Symbols_B",bmp:"\u2980-\u29ff"},{name:"InMiscellaneous_Symbols",bmp:"\u2600-\u26ff"},{name:"InMiscellaneous_Symbols_And_Arrows",bmp:"\u2b00-\u2bff"},{name:"InMiscellaneous_Symbols_And_Pictographs",astral:"\ud83c[\udf00-\udfff]|\ud83d[\udc00-\uddff]"},{name:"InMiscellaneous_Technical",bmp:"\u2300-\u23ff"},{name:"InModi",astral:"\ud805[\ude00-\ude5f]"},{name:"InModifier_Tone_Letters",bmp:"\ua700-\ua71f"},{name:"InMongolian",bmp:"\u1800-\u18af"},{name:"InMongolian_Supplement",astral:"\ud805[\ude60-\ude7f]"},{name:"InMro",astral:"\ud81a[\ude40-\ude6f]"},{name:"InMultani",astral:"\ud804[\ude80-\udeaf]"},{name:"InMusical_Symbols",astral:"\ud834[\udd00-\uddff]"},{name:"InMyanmar",bmp:"\u1000-\u109f"},{name:"InMyanmar_Extended_A",bmp:"\uaa60-\uaa7f"},{name:"InMyanmar_Extended_B",bmp:"\ua9e0-\ua9ff"},{name:"InNKo",bmp:"\u07c0-\u07ff"},{name:"InNabataean",astral:"\ud802[\udc80-\udcaf]"},{name:"InNew_Tai_Lue",bmp:"\u1980-\u19df"},{name:"InNewa",astral:"\ud805[\udc00-\udc7f]"},{name:"InNumber_Forms",bmp:"\u2150-\u218f"},{name:"InNushu",astral:"\ud82c[\udd70-\udeff]"},{name:"InOgham",bmp:"\u1680-\u169f"},{name:"InOl_Chiki",bmp:"\u1c50-\u1c7f"},{name:"InOld_Hungarian",astral:"\ud803[\udc80-\udcff]"},{name:"InOld_Italic",astral:"\ud800[\udf00-\udf2f]"},{name:"InOld_North_Arabian",astral:"\ud802[\ude80-\ude9f]"},{name:"InOld_Permic",astral:"\ud800[\udf50-\udf7f]"},{name:"InOld_Persian",astral:"\ud800[\udfa0-\udfdf]"},{name:"InOld_Sogdian",astral:"\ud803[\udf00-\udf2f]"},{name:"InOld_South_Arabian",astral:"\ud802[\ude60-\ude7f]"},{name:"InOld_Turkic",astral:"\ud803[\udc00-\udc4f]"},{name:"InOptical_Character_Recognition",bmp:"\u2440-\u245f"},{name:"InOriya",bmp:"\u0b00-\u0b7f"},{name:"InOrnamental_Dingbats",astral:"\ud83d[\ude50-\ude7f]"},{name:"InOsage",astral:"\ud801[\udcb0-\udcff]"},{name:"InOsmanya",astral:"\ud801[\udc80-\udcaf]"},{name:"InPahawh_Hmong",astral:"\ud81a[\udf00-\udf8f]"},{name:"InPalmyrene",astral:"\ud802[\udc60-\udc7f]"},{name:"InPau_Cin_Hau",astral:"\ud806[\udec0-\udeff]"},{name:"InPhags_Pa",bmp:"\ua840-\ua87f"},{name:"InPhaistos_Disc",astral:"\ud800[\uddd0-\uddff]"},{name:"InPhoenician",astral:"\ud802[\udd00-\udd1f]"},{name:"InPhonetic_Extensions",bmp:"\u1d00-\u1d7f"},{name:"InPhonetic_Extensions_Supplement",bmp:"\u1d80-\u1dbf"},{name:"InPlaying_Cards",astral:"\ud83c[\udca0-\udcff]"},{name:"InPrivate_Use_Area",bmp:"\ue000-\uf8ff"},{name:"InPsalter_Pahlavi",astral:"\ud802[\udf80-\udfaf]"},{name:"InRejang",bmp:"\ua930-\ua95f"},{name:"InRumi_Numeral_Symbols",astral:"\ud803[\ude60-\ude7f]"},{name:"InRunic",bmp:"\u16a0-\u16ff"},{name:"InSamaritan",bmp:"\u0800-\u083f"},{name:"InSaurashtra",bmp:"\ua880-\ua8df"},{name:"InSharada",astral:"\ud804[\udd80-\udddf]"},{name:"InShavian",astral:"\ud801[\udc50-\udc7f]"},{name:"InShorthand_Format_Controls",astral:"\ud82f[\udca0-\udcaf]"},{name:"InSiddham",astral:"\ud805[\udd80-\uddff]"},{name:"InSinhala",bmp:"\u0d80-\u0dff"},{name:"InSinhala_Archaic_Numbers",astral:"\ud804[\udde0-\uddff]"},{name:"InSmall_Form_Variants",bmp:"\ufe50-\ufe6f"},{name:"InSogdian",astral:"\ud803[\udf30-\udf6f]"},{name:"InSora_Sompeng",astral:"\ud804[\udcd0-\udcff]"},{name:"InSoyombo",astral:"\ud806[\ude50-\udeaf]"},{name:"InSpacing_Modifier_Letters",bmp:"\u02b0-\u02ff"},{name:"InSpecials",bmp:"\ufff0-\uffff"},{name:"InSundanese",bmp:"\u1b80-\u1bbf"
},{name:"InSundanese_Supplement",bmp:"\u1cc0-\u1ccf"},{name:"InSuperscripts_And_Subscripts",bmp:"\u2070-\u209f"},{name:"InSupplemental_Arrows_A",bmp:"\u27f0-\u27ff"},{name:"InSupplemental_Arrows_B",bmp:"\u2900-\u297f"},{name:"InSupplemental_Arrows_C",astral:"\ud83e[\udc00-\udcff]"},{name:"InSupplemental_Mathematical_Operators",bmp:"\u2a00-\u2aff"},{name:"InSupplemental_Punctuation",bmp:"\u2e00-\u2e7f"},{name:"InSupplemental_Symbols_And_Pictographs",astral:"\ud83e[\udd00-\uddff]"},{name:"InSupplementary_Private_Use_Area_A",astral:"[\udb80-\udbbf][\udc00-\udfff]"},{name:"InSupplementary_Private_Use_Area_B",astral:"[\udbc0-\udbff][\udc00-\udfff]"},{name:"InSutton_SignWriting",astral:"\ud836[\udc00-\udeaf]"},{name:"InSyloti_Nagri",bmp:"\ua800-\ua82f"},{name:"InSyriac",bmp:"\u0700-\u074f"},{name:"InSyriac_Supplement",bmp:"\u0860-\u086f"},{name:"InTagalog",bmp:"\u1700-\u171f"},{name:"InTagbanwa",bmp:"\u1760-\u177f"},{name:"InTags",astral:"\udb40[\udc00-\udc7f]"},{name:"InTai_Le",bmp:"\u1950-\u197f"},{name:"InTai_Tham",bmp:"\u1a20-\u1aaf"},{name:"InTai_Viet",bmp:"\uaa80-\uaadf"},{name:"InTai_Xuan_Jing_Symbols",astral:"\ud834[\udf00-\udf5f]"},{name:"InTakri",astral:"\ud805[\ude80-\udecf]"},{name:"InTamil",bmp:"\u0b80-\u0bff"},{name:"InTangut",astral:"[\ud81c-\ud821][\udc00-\udfff]"},{name:"InTangut_Components",astral:"\ud822[\udc00-\udeff]"},{name:"InTelugu",bmp:"\u0c00-\u0c7f"},{name:"InThaana",bmp:"\u0780-\u07bf"},{name:"InThai",bmp:"\u0e00-\u0e7f"},{name:"InTibetan",bmp:"\u0f00-\u0fff"},{name:"InTifinagh",bmp:"\u2d30-\u2d7f"},{name:"InTirhuta",astral:"\ud805[\udc80-\udcdf]"},{name:"InTransport_And_Map_Symbols",astral:"\ud83d[\ude80-\udeff]"},{name:"InUgaritic",astral:"\ud800[\udf80-\udf9f]"},{name:"InUnified_Canadian_Aboriginal_Syllabics",bmp:"\u1400-\u167f"},{name:"InUnified_Canadian_Aboriginal_Syllabics_Extended",bmp:"\u18b0-\u18ff"},{name:"InVai",bmp:"\ua500-\ua63f"},{name:"InVariation_Selectors",bmp:"\ufe00-\ufe0f"},{name:"InVariation_Selectors_Supplement",astral:"\udb40[\udd00-\uddef]"},{name:"InVedic_Extensions",bmp:"\u1cd0-\u1cff"},{name:"InVertical_Forms",bmp:"\ufe10-\ufe1f"},{name:"InWarang_Citi",astral:"\ud806[\udca0-\udcff]"},{name:"InYi_Radicals",bmp:"\ua490-\ua4cf"},{name:"InYi_Syllables",bmp:"\ua000-\ua48f"},{name:"InYijing_Hexagram_Symbols",bmp:"\u4dc0-\u4dff"},{name:"InZanabazar_Square",astral:"\ud806[\ude00-\ude4f]"},{name:"Inundefined",astral:"\ud803[\udfe0-\udfff]|\ud806[\udda0-\uddff]|\ud807[\udfc0-\udfff]|\ud80d[\udc30-\udc3f]|\ud82c[\udd30-\udd6f]|\ud838[\udd00-\udd4f\udec0-\udeff]|\ud83b[\udd00-\udd4f]|\ud83e[\ude70-\udeff]"}]},{}],172:[{}],173:[{}],174:[function(e,t){t.exports=[{name:"Adlam",astral:"\ud83a[\udd00-\udd4b\udd50-\udd59\udd5e\udd5f]"},{name:"Ahom",astral:"\ud805[\udf00-\udf1a\udf1d-\udf2b\udf30-\udf3f]"},{name:"Anatolian_Hieroglyphs",astral:"\ud811[\udc00-\ude46]"},{name:"Arabic",bmp:"\u0600-\u0604\u0606-\u060b\u060d-\u061a\u061c\u061e\u0620-\u063f\u0641-\u064a\u0656-\u066f\u0671-\u06dc\u06de-\u06ff\u0750-\u077f\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u08ff\ufb50-\ufbc1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfd\ufe70-\ufe74\ufe76-\ufefc",astral:"\ud803[\ude60-\ude7e]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb\udef0\udef1]"},{name:"Armenian",bmp:"\u0531-\u0556\u0559-\u0588\u058a\u058d-\u058f\ufb13-\ufb17"},{name:"Avestan",astral:"\ud802[\udf00-\udf35\udf39-\udf3f]"},{name:"Balinese",bmp:"\u1b00-\u1b4b\u1b50-\u1b7c"},{name:"Bamum",bmp:"\ua6a0-\ua6f7",astral:"\ud81a[\udc00-\ude38]"},{name:"Bassa_Vah",astral:"\ud81a[\uded0-\udeed\udef0-\udef5]"},{name:"Batak",bmp:"\u1bc0-\u1bf3\u1bfc-\u1bff"},{name:"Bengali",bmp:"\u0980-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09fe"},{name:"Bhaiksuki",astral:"\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc45\udc50-\udc6c]"},{name:"Bopomofo",bmp:"\u02ea\u02eb\u3105-\u312f\u31a0-\u31ba"},{name:"Brahmi",astral:"\ud804[\udc00-\udc4d\udc52-\udc6f\udc7f]"},{name:"Braille",bmp:"\u2800-\u28ff"},{name:"Buginese",bmp:"\u1a00-\u1a1b\u1a1e\u1a1f"},{name:"Buhid",bmp:"\u1740-\u1753"},{name:"Canadian_Aboriginal",bmp:"\u1400-\u167f\u18b0-\u18f5"},{name:"Carian",astral:"\ud800[\udea0-\uded0]"},{name:"Caucasian_Albanian",astral:"\ud801[\udd30-\udd63\udd6f]"},{name:"Chakma",astral:"\ud804[\udd00-\udd34\udd36-\udd46]"},{name:"Cham",bmp:"\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa5c-\uaa5f"},{name:"Cherokee",bmp:"\u13a0-\u13f5\u13f8-\u13fd\uab70-\uabbf"},{name:"Common",bmp:"\0-@\\[-`\\{-\xa9\xab-\xb9\xbb-\xbf\xd7\xf7\u02b9-\u02df\u02e5-\u02e9\u02ec-\u02ff\u0374\u037e\u0385\u0387\u0589\u0605\u060c\u061b\u061f\u0640\u06dd\u08e2\u0964\u0965\u0e3f\u0fd5-\u0fd8\u10fb\u16eb-\u16ed\u1735\u1736\u1802\u1803\u1805\u1cd3\u1ce1\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf7\u1cfa\u2000-\u200b\u200e-\u2064\u2066-\u2070\u2074-\u207e\u2080-\u208e\u20a0-\u20bf\u2100-\u2125\u2127-\u2129\u212c-\u2131\u2133-\u214d\u214f-\u215f\u2189-\u218b\u2190-\u2426\u2440-\u244a\u2460-\u27ff\u2900-\u2b73\u2b76-\u2b95\u2b98-\u2bff\u2e00-\u2e4f\u2ff0-\u2ffb\u3000-\u3004\u3006\u3008-\u3020\u3030-\u3037\u303c-\u303f\u309b\u309c\u30a0\u30fb\u30fc\u3190-\u319f\u31c0-\u31e3\u3220-\u325f\u327f-\u32cf\u32ff\u3358-\u33ff\u4dc0-\u4dff\ua700-\ua721\ua788-\ua78a\ua830-\ua839\ua92e\ua9cf\uab5b\ufd3e\ufd3f\ufe10-\ufe19\ufe30-\ufe52\ufe54-\ufe66\ufe68-\ufe6b\ufeff\uff01-\uff20\uff3b-\uff40\uff5b-\uff65\uff70\uff9e\uff9f\uffe0-\uffe6\uffe8-\uffee\ufff9-\ufffd",astral:"\ud800[\udd00-\udd02\udd07-\udd33\udd37-\udd3f\udd90-\udd9b\uddd0-\uddfc\udee1-\udefb]|\ud81b[\udfe2\udfe3]|\ud82f[\udca0-\udca3]|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd66\udd6a-\udd7a\udd83\udd84\udd8c-\udda9\uddae-\udde8\udee0-\udef3\udf00-\udf56\udf60-\udf78]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udfcb\udfce-\udfff]|\ud83b[\udc71-\udcb4\udd01-\udd3d]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd00-\udd0c\udd10-\udd6c\udd70-\uddac\udde6-\uddff\ude01\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udfff]|\ud83d[\udc00-\uded5\udee0-\udeec\udef0-\udefa\udf00-\udf73\udf80-\udfd8\udfe0-\udfeb]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udd00-\udd0b\udd0d-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddca\uddcd-\ude53\ude60-\ude6d\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]|\udb40[\udc01\udc20-\udc7f]"},{name:"Coptic",bmp:"\u03e2-\u03ef\u2c80-\u2cf3\u2cf9-\u2cff"},{name:"Cuneiform",astral:"\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc70-\udc74\udc80-\udd43]"},{name:"Cypriot",astral:"\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f]"},{name:"Cyrillic",bmp:"\u0400-\u0484\u0487-\u052f\u1c80-\u1c88\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f"},{name:"Deseret",astral:"\ud801[\udc00-\udc4f]"},{name:"Devanagari",bmp:"\u0900-\u0950\u0955-\u0963\u0966-\u097f\ua8e0-\ua8ff"},{name:"Dogra",astral:"\ud806[\udc00-\udc3b]"},{name:"Duployan",astral:"\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9c-\udc9f]"},{name:"Egyptian_Hieroglyphs",astral:"\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e\udc30-\udc38]"},{name:"Elbasan",astral:"\ud801[\udd00-\udd27]"},{name:"Elymaic",astral:"\ud803[\udfe0-\udff6]"},{name:"Ethiopic",bmp:"\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u137c\u1380-\u1399\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e"},{name:"Georgian",bmp:"\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u10ff\u1c90-\u1cba\u1cbd-\u1cbf\u2d00-\u2d25\u2d27\u2d2d"},{name:"Glagolitic",bmp:"\u2c00-\u2c2e\u2c30-\u2c5e",astral:"\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a]"},{name:"Gothic",astral:"\ud800[\udf30-\udf4a]"},{name:"Grantha",astral:"\ud804[\udf00-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3c-\udf44\udf47\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]"},{name:"Greek",bmp:"\u0370-\u0373\u0375-\u0377\u037a-\u037d\u037f\u0384\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03e1\u03f0-\u03ff\u1d26-\u1d2a\u1d5d-\u1d61\u1d66-\u1d6a\u1dbf\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fc4\u1fc6-\u1fd3\u1fd6-\u1fdb\u1fdd-\u1fef\u1ff2-\u1ff4\u1ff6-\u1ffe\u2126\uab65",astral:"\ud800[\udd40-\udd8e\udda0]|\ud834[\ude00-\ude45]"},{name:"Gujarati",bmp:"\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0af1\u0af9-\u0aff"},{name:"Gunjala_Gondi",astral:"\ud807[\udd60-\udd65\udd67\udd68\udd6a-\udd8e\udd90\udd91\udd93-\udd98\udda0-\udda9]"},{name:"Gurmukhi",bmp:"\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a76"},{name:"Han",bmp:"\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u3005\u3007\u3021-\u3029\u3038-\u303b\u3400-\u4db5\u4e00-\u9fef\uf900-\ufa6d\ufa70-\ufad9",astral:"[\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879][\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]"},{name:"Hangul",bmp:"\u1100-\u11ff\u302e\u302f\u3131-\u318e\u3200-\u321e\u3260-\u327e\ua960-\ua97c\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc"},{name:"Hanifi_Rohingya",astral:"\ud803[\udd00-\udd27\udd30-\udd39]"},{name:"Hanunoo",bmp:"\u1720-\u1734"},{name:"Hatran",astral:"\ud802[\udce0-\udcf2\udcf4\udcf5\udcfb-\udcff]"},{name:"Hebrew",bmp:"\u0591-\u05c7\u05d0-\u05ea\u05ef-\u05f4\ufb1d-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufb4f"},{name:"Hiragana",bmp:"\u3041-\u3096\u309d-\u309f",astral:"\ud82c[\udc01-\udd1e\udd50-\udd52]|\ud83c\ude00"},{name:"Imperial_Aramaic",astral:"\ud802[\udc40-\udc55\udc57-\udc5f]"},{name:"Inherited",bmp:"\u0300-\u036f\u0485\u0486\u064b-\u0655\u0670\u0951-\u0954\u1ab0-\u1abe\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8\u1cf9\u1dc0-\u1df9\u1dfb-\u1dff\u200c\u200d\u20d0-\u20f0\u302a-\u302d\u3099\u309a\ufe00-\ufe0f\ufe20-\ufe2d",astral:"\ud800[\uddfd\udee0]|\ud804\udf3b|\ud834[\udd67-\udd69\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad]|\udb40[\udd00-\uddef]"},{name:"Inscriptional_Pahlavi",astral:"\ud802[\udf60-\udf72\udf78-\udf7f]"},{name:"Inscriptional_Parthian",astral:"\ud802[\udf40-\udf55\udf58-\udf5f]"},{name:"Javanese",bmp:"\ua980-\ua9cd\ua9d0-\ua9d9\ua9de\ua9df"},{name:"Kaithi",astral:"\ud804[\udc80-\udcc1\udccd]"},{name:"Kannada",bmp:"\u0c80-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2"},{name:"Katakana",bmp:"\u30a1-\u30fa\u30fd-\u30ff\u31f0-\u31ff\u32d0-\u32fe\u3300-\u3357\uff66-\uff6f\uff71-\uff9d",astral:"\ud82c[\udc00\udd64-\udd67]"},{name:"Kayah_Li",bmp:"\ua900-\ua92d\ua92f"},{name:"Kharoshthi",astral:"\ud802[\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f-\ude48\ude50-\ude58]"},{name:"Khmer",bmp:"\u1780-\u17dd\u17e0-\u17e9\u17f0-\u17f9\u19e0-\u19ff"},{name:"Khojki",astral:"\ud804[\ude00-\ude11\ude13-\ude3e]"},{name:"Khudawadi",astral:"\ud804[\udeb0-\udeea\udef0-\udef9]"},{name:"Lao",bmp:"\u0e81\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf"},{name:"Latin",bmp:"A-Za-z\xaa\xba\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u02e0-\u02e4\u1d00-\u1d25\u1d2c-\u1d5c\u1d62-\u1d65\u1d6b-\u1d77\u1d79-\u1dbe\u1e00-\u1eff\u2071\u207f\u2090-\u209c\u212a\u212b\u2132\u214e\u2160-\u2188\u2c60-\u2c7f\ua722-\ua787\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua7ff\uab30-\uab5a\uab5c-\uab64\uab66\uab67\ufb00-\ufb06\uff21-\uff3a\uff41-\uff5a"},{name:"Lepcha",bmp:"\u1c00-\u1c37\u1c3b-\u1c49\u1c4d-\u1c4f"},{name:"Limbu",bmp:"\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1940\u1944-\u194f"},{name:"Linear_A",astral:"\ud801[\ude00-\udf36\udf40-\udf55\udf60-\udf67]"},{name:"Linear_B",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa]"},{name:"Lisu",bmp:"\ua4d0-\ua4ff"},{name:"Lycian",astral:"\ud800[\ude80-\ude9c]"},{name:"Lydian",astral:"\ud802[\udd20-\udd39\udd3f]"},{name:"Mahajani",astral:"\ud804[\udd50-\udd76]"},{name:"Makasar",astral:"\ud807[\udee0-\udef8]"},{name:"Malayalam",bmp:"\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4f\u0d54-\u0d63\u0d66-\u0d7f"},{name:"Mandaic",bmp:"\u0840-\u085b\u085e"},{name:"Manichaean",astral:"\ud802[\udec0-\udee6\udeeb-\udef6]"},{name:"Marchen",astral:"\ud807[\udc70-\udc8f\udc92-\udca7\udca9-\udcb6]"},{name:"Masaram_Gondi",astral:"\ud807[\udd00-\udd06\udd08\udd09\udd0b-\udd36\udd3a\udd3c\udd3d\udd3f-\udd47\udd50-\udd59]"},{name:"Medefaidrin",astral:"\ud81b[\ude40-\ude9a]"},{name:"Meetei_Mayek",bmp:"\uaae0-\uaaf6\uabc0-\uabed\uabf0-\uabf9"},{name:"Mende_Kikakui",astral:"\ud83a[\udc00-\udcc4\udcc7-\udcd6]"},{name:"Meroitic_Cursive",astral:"\ud802[\udda0-\uddb7\uddbc-\uddcf\uddd2-\uddff]"},{name:"Meroitic_Hieroglyphs",astral:"\ud802[\udd80-\udd9f]"},{name:"Miao",astral:"\ud81b[\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f]"},{name:"Modi",astral:"\ud805[\ude00-\ude44\ude50-\ude59]"},{name:"Mongolian",bmp:"\u1800\u1801\u1804\u1806-\u180e\u1810-\u1819\u1820-\u1878\u1880-\u18aa",astral:"\ud805[\ude60-\ude6c]"},{name:"Mro",astral:"\ud81a[\ude40-\ude5e\ude60-\ude69\ude6e\ude6f]"},{name:"Multani",astral:"\ud804[\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea9]"},{name:"Myanmar",bmp:"\u1000-\u109f\ua9e0-\ua9fe\uaa60-\uaa7f"},{name:"Nabataean",astral:"\ud802[\udc80-\udc9e\udca7-\udcaf]"},{name:"Nandinagari",astral:"\ud806[\udda0-\udda7\uddaa-\uddd7\uddda-\udde4]"},{name:"New_Tai_Lue",
bmp:"\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u19de\u19df"},{name:"Newa",astral:"\ud805[\udc00-\udc59\udc5b\udc5d-\udc5f]"},{name:"Nko",bmp:"\u07c0-\u07fa\u07fd-\u07ff"},{name:"Nushu",astral:"\ud81b\udfe1|\ud82c[\udd70-\udefb]"},{name:"Nyiakeng_Puachue_Hmong",astral:"\ud838[\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udd4f]"},{name:"Ogham",bmp:"\u1680-\u169c"},{name:"Ol_Chiki",bmp:"\u1c50-\u1c7f"},{name:"Old_Hungarian",astral:"\ud803[\udc80-\udcb2\udcc0-\udcf2\udcfa-\udcff]"},{name:"Old_Italic",astral:"\ud800[\udf00-\udf23\udf2d-\udf2f]"},{name:"Old_North_Arabian",astral:"\ud802[\ude80-\ude9f]"},{name:"Old_Permic",astral:"\ud800[\udf50-\udf7a]"},{name:"Old_Persian",astral:"\ud800[\udfa0-\udfc3\udfc8-\udfd5]"},{name:"Old_Sogdian",astral:"\ud803[\udf00-\udf27]"},{name:"Old_South_Arabian",astral:"\ud802[\ude60-\ude7f]"},{name:"Old_Turkic",astral:"\ud803[\udc00-\udc48]"},{name:"Oriya",bmp:"\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b77"},{name:"Osage",astral:"\ud801[\udcb0-\udcd3\udcd8-\udcfb]"},{name:"Osmanya",astral:"\ud801[\udc80-\udc9d\udca0-\udca9]"},{name:"Pahawh_Hmong",astral:"\ud81a[\udf00-\udf45\udf50-\udf59\udf5b-\udf61\udf63-\udf77\udf7d-\udf8f]"},{name:"Palmyrene",astral:"\ud802[\udc60-\udc7f]"},{name:"Pau_Cin_Hau",astral:"\ud806[\udec0-\udef8]"},{name:"Phags_Pa",bmp:"\ua840-\ua877"},{name:"Phoenician",astral:"\ud802[\udd00-\udd1b\udd1f]"},{name:"Psalter_Pahlavi",astral:"\ud802[\udf80-\udf91\udf99-\udf9c\udfa9-\udfaf]"},{name:"Rejang",bmp:"\ua930-\ua953\ua95f"},{name:"Runic",bmp:"\u16a0-\u16ea\u16ee-\u16f8"},{name:"Samaritan",bmp:"\u0800-\u082d\u0830-\u083e"},{name:"Saurashtra",bmp:"\ua880-\ua8c5\ua8ce-\ua8d9"},{name:"Sharada",astral:"\ud804[\udd80-\uddcd\uddd0-\udddf]"},{name:"Shavian",astral:"\ud801[\udc50-\udc7f]"},{name:"Siddham",astral:"\ud805[\udd80-\uddb5\uddb8-\udddd]"},{name:"SignWriting",astral:"\ud836[\udc00-\ude8b\ude9b-\ude9f\udea1-\udeaf]"},{name:"Sinhala",bmp:"\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df4",astral:"\ud804[\udde1-\uddf4]"},{name:"Sogdian",astral:"\ud803[\udf30-\udf59]"},{name:"Sora_Sompeng",astral:"\ud804[\udcd0-\udce8\udcf0-\udcf9]"},{name:"Soyombo",astral:"\ud806[\ude50-\udea2]"},{name:"Sundanese",bmp:"\u1b80-\u1bbf\u1cc0-\u1cc7"},{name:"Syloti_Nagri",bmp:"\ua800-\ua82b"},{name:"Syriac",bmp:"\u0700-\u070d\u070f-\u074a\u074d-\u074f\u0860-\u086a"},{name:"Tagalog",bmp:"\u1700-\u170c\u170e-\u1714"},{name:"Tagbanwa",bmp:"\u1760-\u176c\u176e-\u1770\u1772\u1773"},{name:"Tai_Le",bmp:"\u1950-\u196d\u1970-\u1974"},{name:"Tai_Tham",bmp:"\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa0-\u1aad"},{name:"Tai_Viet",bmp:"\uaa80-\uaac2\uaadb-\uaadf"},{name:"Takri",astral:"\ud805[\ude80-\udeb8\udec0-\udec9]"},{name:"Tamil",bmp:"\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bfa",astral:"\ud807[\udfc0-\udff1\udfff]"},{name:"Tangut",astral:"\ud81b\udfe0|[\ud81c-\ud820][\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]"},{name:"Telugu",bmp:"\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c77-\u0c7f"},{name:"Thaana",bmp:"\u0780-\u07b1"},{name:"Thai",bmp:"\u0e01-\u0e3a\u0e40-\u0e5b"},{name:"Tibetan",bmp:"\u0f00-\u0f47\u0f49-\u0f6c\u0f71-\u0f97\u0f99-\u0fbc\u0fbe-\u0fcc\u0fce-\u0fd4\u0fd9\u0fda"},{name:"Tifinagh",bmp:"\u2d30-\u2d67\u2d6f\u2d70\u2d7f"},{name:"Tirhuta",astral:"\ud805[\udc80-\udcc7\udcd0-\udcd9]"},{name:"Ugaritic",astral:"\ud800[\udf80-\udf9d\udf9f]"},{name:"Vai",bmp:"\ua500-\ua62b"},{name:"Wancho",astral:"\ud838[\udec0-\udef9\udeff]"},{name:"Warang_Citi",astral:"\ud806[\udca0-\udcf2\udcff]"},{name:"Yi",bmp:"\ua000-\ua48c\ua490-\ua4c6"},{name:"Zanabazar_Square",astral:"\ud806[\ude00-\ude47]"}]},{}]},{},[8])(8)})),function(){var e,t,n,i,a,s,r;BF.SectionManager={show:function(){$(this),BF.dialog.render(bfTranslate("Manage Sections"),"/"+BF.fx.slug()+"/api/modals/sections",(function(){(e=$("#dialog")).css({display:"flex","align-items":"center"}),e.find(".modal-dialog").addClass("modal-lg").addClass("manage-sections-modal")}))},renderContent:function(o){e=$("#dialog"),t=e.find(".manage-sections"),n=e.find("ul.sortable-section-list"),i=n.find("li.sortable-section.template"),a=e.find("form"),s=a.find("#add-section-section-name"),r=a.find("#add-section-asset-type"),$add_new_section_button=e.find(".add-section__new-button"),$hide_add_section_form=e.find(".add-section__hide-button-form"),$save_button=e.find(".j-modal-submit-button"),BF.SectionManager.addSortableSections(o),BF.fx.handle("tooltips",e.find("[rel~=tooltip]")),$add_new_section_button.click((function(){$(this).hide(),e.find(".add-section__row").addClass("visible"),s.focus(),r.prop("selectedIndex",0),$save_button.addClass("disabled")})),$hide_add_section_form.click((function(){$add_new_section_button.show(),e.find(".add-section__row").removeClass("visible"),$save_button.removeClass("disabled")})),a.validate({ignore:[],rules:{"add-section-section-name":{required:!0,maxlength:64,SectionNameUnique:!0,SectionNameContainsAlphanumeric:!0},"add-section-asset-type":{SectionAssetTypeSelected:!0}},errorPlacement:submitHandler:function(){section_data={key:null,name:s.val(),asset_type:r.val(),position:null};var t=BF.SectionManager.addSortableSection(section_data);s.val(""),e.find(".add-section__row").removeClass("visible"),$save_button.removeClass("disabled"),$add_new_section_button.show(),n.animate({scrollTop:n.prop("scrollHeight")},100),t.css("opacity",.1).fadeTo(500,1)}}),e.find(".j-modal-submit-button").click((function(e){e.preventDefault(),a.isLockedFor("changes")?""==$("#add-section-section-name").val()?BF.SectionManager.submitSectionChanges():swal({title:bfTranslate("Unsaved Changes"),text:bfTranslate("Please click the Add Section button to add the new section before saving changes.\n\n"),type:"warning",showCancelButton:!1,confirmButtonText:bfTranslate("OK"),closeOnConfirm:!0}):BF.dialog.dismiss()}))},addSortableSections:addSortableSection:function(t){var s=i.clone();s.find(".name").html(BF.Utils.escapeHtmlEntities(t.name)),s.find(".asset_type").html(t.label),s.data("section-label",t.label),s.data("section-key",t.key),s.data("section-name",t.name),s.data("section-asset-type",t.asset_type),s.data("section-position",t.position),s.removeClass("template").appendTo(n),BF.fx.handle("tooltips",s.find("[rel~=tooltip]"));var r=s.find(".name"),o={trigger:s.find("span.bff-edit"),action:"click"};return r.editable(o,(function(){var e=r.find("input");s.addClass("currently-editing"),e.focusTextToEnd(),e.keyup(()}),(),s.mousedown((function(e){$(e.target).hasClass("name")||$(e.target).hasClass("editable")||document.activeElement.blur()})),s.find(".actions .delete").click((),n.data("sortable")&&n.sortable({start:stop:function(){e.find("[rel~=tooltip]").tooltip("enable"),a.lockFor("changes"),$save_button.removeClass("disabled"),BF.SectionManager.recalculateSectionPositions()}}),n.disableSelection(),BF.SectionManager.recalculateSectionPositions(),s},deleteSortableSection:function(e){if(e.data().sectionKey!==printuiSectionKey){var t=bfTranslate("Are you sure you want to delete the ")+e.data("section-name")+bfTranslate(" section?"),n=parseInt(e.data("section-label"));n>0&&(t+="\n\n"+n+" "+BF.fx.should_pluralize(n,"asset")+bfTranslate(" in this section will be permanently deleted!")),swal({title:bfTranslate("Really?"),text:t,type:"warning",showCancelButton:!0,confirmButtonText:bfTranslate("Delete"),cancelButtonText:bfTranslate("Cancel"),closeOnConfirm:!0,customClass:"deleting"},(function(t){t&&e.toggle("hidden",(function(){e.data("section-key")&&e.data("section-key").length>0?e.addClass("deleted"):e.remove(),a.lockFor("changes"),BF.SectionManager.recalculateSectionPositions()}))}))}else BF.SectionManager.preventDelete(e)},preventDelete:function(){swal({title:bfTranslate("Templating Section"),text:bfTranslate("Unable to delete."),type:"warning",showCancelButton:!1,confirmButtonText:bfTranslate("Okay"),closeOnConfirm:!0})},recalculateSectionPositions:function(){n.find("li.sortable-section").not(".template").not(".deleted").each(()},validateInlineSectionName:function(e){var t=e.find(".name"),n=e.data("section-name"),i=t.text();is_present=i.length>0,is_not_too_long=i.length<64,is_unique=BF.SectionManager.isSectionNameUnique(i),contains_alphanumeric=BF.SectionManager.doesSectionNameContainAlphanumeric(i),is_present&&is_not_too_long&&is_unique&&contains_alphanumeric?(e.data("section-name",i),e.removeClass("currently-editing")):(e.removeClass("currently-editing"),t.html(n),swal({title:bfTranslate("Invalid Section Name"),text:bfTranslate("Section names must be unique,\nhave at least one alphanumeric character,\nand must be between 1 and 64 characters in length\n\n"),type:"warning",showCancelButton:!1,confirmButtonText:bfTranslate("OK"),closeOnConfirm:!0},(function(e){e&&(t.click(),t.find("input").val(i))})))},isSectionNameUnique:function(e){var t=n.find("li.sortable-section").not(".template").not(".deleted").not(".currently-editing"),i=!0;return t.each((function(t,n){if($(n).data("section-name")==e)return i=!1,!1})),i},doesSectionNameContainAlphanumeric:submitSectionChanges:function(){t.block({message:"&nbsp;",fadeIn:0,fadeOut:0,centerX:!0,centerY:!0}),BF.API.put("/api/brandfolders/"+BF.fx.slug()+"/sections.json",JSON.stringify(BF.SectionManager.sortableSectionsData())).done((function(){Notify.create({title:bfTranslate("Sections Updated! Reloading..."),type:"success"}),location.reload()})).fail((function(e){var t="";e.responseJSON&&e.responseJSON.exception&&(e.responseJSON.exception.indexOf("IngestionRelatedSection")>=0&&(t="This section can not be deleted since it is configured to handle ingestions. Please remove those associations first."));Notify.create({title:bfTranslate("An error occurred when updating sections. Please try again."),body:bfTranslate(t),type:"error"}),a.unlockFor("changes"),BF.dialog.dismiss()}))},sortableSectionsData:function(){var e=n.find("li.sortable-section").not(".template").not(".currently-editing"),t={sections:[]};return e.each((function(){var e=$(this),n={section_key:e.data("section-key"),name:e.data("section-name"),default_asset_type:e.data("section-asset-type"),position:e.data("section-position")};e.hasClass("deleted")&&(n.destroyed=!0),t.sections.push(n)})),t},editSectionByKey:function(e){var t=n.find("li.sortable-section").not(".template").filter(().find(".name");setTimeout((function(){t.click()}),750)}},$.validator.addMethod("SectionNameUnique",(function(e,t){return this.optional(t)||BF.SectionManager.isSectionNameUnique(e)}),bfTranslate("Section name must be unique!")),$.validator.addMethod("SectionNameContainsAlphanumeric",(,bfTranslate("Section name must have at least one alphanumeric character!")),$.validator.addMethod("SectionAssetTypeSelected",(function(e,t){return this.optional(t)||"default"!=e}),bfTranslate("Please select an asset type!"))}(),BF.Share={queryTerm:function(){return encodeURIComponent($("#brandfolderSearch").val())},queryOperator:queryURL:function(){var e,t=$(this);if(t.data("url"))e=t.data("url");else{var n=BF.fx.slug()?BF.fx.slug():t.parents(".j-brandfolder-panel").data("slug"),i=BF.fx.permSlug()?BF.fx.permSlug():t.parents(".j-brandfolder-panel").data("permslug"),a="";BF.fx.collectionSlug().length>0&&(a="/collection");var s=BF.Share.queryTerm(),r=BF.Share.queryOperator();e=window.location.protocol+"//"+window.location.host+"/"+location.pathname.replace("#","").replace("/"+n,"p/"+i+a)+"?o="+r+"&q="+s,"Embed_show"==window.action&&(e=e.replace("/embed",""))}return encodeURIComponent(e)},shareOrgLink:function(){var e=$(this),t="/organizations/"+BF.fx.organizationSlug(e)+"/api/modals/share/organization_link";$.ajax({url:t,type:"post",data:{url:BF.Share.queryURL.call(this)},dataType:"html",success:function(e){BF.Share.renderShareModal(e)},error:function(e){var t=JSON.parse(e.responseText);Notify.create(t)}})},shareResource:function(){var e=$(this),t="/"+(BF.fx.slug()?BF.fx.slug():e.parents(".j-brandfolder-panel").data("slug"))+"/share/as_search_context",n=BF.Share.queryURL.call(this);$.ajax({url:t,type:"post",data:{url:n},dataType:"html",success:function(e){BF.Share.renderShareModal(e),BF.fx.handle("copyToClipboard",$(".j-copy-to-clipboard"))},error:function(e){var t=JSON.parse(e.responseText);Notify.create(t)}})},renderShareModal:function(e){var t=$("#dialog");t.trigger("new-modal-load"),$("#dialogHeader").html("Share"),t.find("#dialogBody").html(e),t.addClass("modal-vertical-center"),t.find(".modal-dialog").removeClass().addClass("modal-dialog").addClass("modal-lg modal-sweet-alert"),t.modal("show"),BF.fx.handle("tooltips",$("[rel~=tooltip]")),BF.Share.enableSharingActionButtons()},enableSharingActionButtons:function(){BF.fx.handle("stopBubbling",$(".j-copy-button")),BF.fx.handle("copyToClipboard",$(".j-copy-button")),BF.fx.handle("selectAllPreText",$("pre"))},attachSharingEvents:function(){BF.fx.handle("changeShareTabName",$(".j-tab-switch")),BF.fx.handle("toggleShareIdentification",$(".j-toggle-require-identification")),BF.fx.handle("nameShareManifest",$(".j-name-share-manifest")),BF.fx.handle("toggleShareExpiration",$(".j-toggle-expires")),BF.fx.handle("changeTimeZone",$(".j-select-time-zone"));var e=moment().add(6,"days").toDate(),t=e.getDate(),n=e.getMonth()+1;t<10&&(t="0"+t),n<10&&(n="0"+n);var i=n+"/"+t+"/"+e.getFullYear()+" 11:59 PM";$("#share_link_expire").datetimepicker({useCurrent:!1,minDate:moment().toDate(),defaultDate:i,showClose:!0,icons:{time:"bff-clock",date:"bff-calendar",up:"bff-caret-up",down:"bff-caret-down",previous:"bff-caret-left",next:"bff-caret-right",today:"bff-calendar",clear:"bff-trash",close:"bff-close"}}).on("dp.change",(),$(".j-set-availability .input-group-addon").click(()}},BF.UserPermission={currentPage:1,fetchingResults:!1,noMoreResults:!1,currentRequest:{abort:function(){}},_resetPageCount:function(){BF.UserPermission.currentPage=1},show:function(e,t){var n,i,a,s=bfTranslate("Manage Users"),r=!1,o=!1;if(void 0===t){var d=$(this);d.addClass("s-show-spinner"),n=d.data("resource"),i=d.data("resource-key"),a=d.data("slug"),o=d.data("brandfolder-card")}else n=t.initialResourceType,i=t.initialResourceKey,a=t.initialResourceSlug,r=t.openNewTab;if("organization"===n){var u="/api/user_permissions/"+n+"/"+i;e&&(u=u+"?e="+e),BF.dialog.render(s,u,(function(){void 0===t&&d.removeClass("s-show-spinner"),BF.UserPermission.attachSidebarHandlers(),BF.UserPermission.attachInitialTabHandlers($(".tab-pane.active"));var e=0;$(".tab-content").on("scroll",(function(){var t=$(this).scrollTop();if(t>e){var n=$(".tab-pane.active");if($(".tab-content").scrollTop()+$(".tab-content").height()>n.height()-500&&!1===BF.UserPermission.fetchingResults&&!1===BF.UserPermission.noMoreResults){var i=BF.UserPermission.currentPage+1,a=n.find("#userSearch").val();BF.UserPermission.fetchingResults=!0,BF.UserPermission.fetchMorePermissions(i,a,(function(){}))}}e=t}))}))}else{var l=a+"/bulk_management#user_management";o?window.location=window.origin+"/"+l:r?window.open(l,"_blank"):window.location=l}},showInviteUsers:function(){var e=bfTranslate("Invite Users"),t=$("#dialogBody .tab-pane.active"),n="api/user_permissions/"+t.data("resource")+"/"+t.data("resource-key")+"/invite";BF.dialog.setup(),BF.dialog.render(e,n)},switchTabs:function(){BF.UserPermission.currentRequest.abort(),BF.UserPermission.currentPage=1,BF.UserPermission.noMoreResults=!1,$(".tab-content").find(".s-dialog-body-loading").addClass("s-show-spinner"),$(".tab-pane").children().remove();var e=$(".tab-pane.active"),t=e.data("resource"),n=e.data("resource-key");BF.UserPermission.currentRequest=$.ajax({url:"/api/user_permissions/"+t+"/"+n+"/switch",type:"GET",dataType:"html",data:{resource_key:n},success:function(t){$(".tab-content").find(".s-dialog-body-loading").removeClass("s-show-spinner"),e.append(t),BF.UserPermission.attachInitialTabHandlers(e)}})},showMessageUsers:function(){var e="Message Users",t=$("#dialogBody .tab-pane.active"),n="api/user_permissions/"+t.data("resource")+"/"+t.data("resource-key")+"/message";BF.dialog.setup(),BF.dialog.render(e,n)},switchTabs:function(){BF.UserPermission.currentRequest.abort(),BF.UserPermission.currentPage=1,BF.UserPermission.noMoreResults=!1,$(".tab-content").find(".s-dialog-body-loading").addClass("s-show-spinner"),$(".tab-pane").children().remove();var e=$(".tab-pane.active"),t=e.data("resource"),n=e.data("resource-key");BF.UserPermission.currentRequest=$.ajax({url:"/api/user_permissions/"+t+"/"+n+"/switch",type:"GET",dataType:"html",data:{resource_key:n},success:function(t){$(".tab-content").find(".s-dialog-body-loading").removeClass("s-show-spinner"),e.append(t),BF.UserPermission.attachInitialTabHandlers(e)}})},fetchMorePermissions:function(e,t,n){var i=$(".tab-pane.active"),a=i.data("resource"),s=i.data("resource-key");$(".tab-pane.active").addClass("s-show-spinner"),$(".no-results").remove(),BF.UserPermission.currentRequest=$.ajax({url:"/api/user_permissions/"+a+"/"+s+"/more",type:"GET",dataType:"html",data:{page:e,search:t},success:function(e){var t=$(".tab-pane.active");t.removeClass("s-show-spinner"),BF.UserPermission.currentPage=BF.UserPermission.currentPage+1,BF.UserPermission.fetchingResults=!1,$(e).length<50&&(BF.UserPermission.noMoreResults=!0),t.find(".j-user-permission").length>0?t.find(".j-user-permission").last().after(e):t.find("#j-user-list-start").append(e),BF.UserPermission.addNewListItemHandlers(t),n()},error:)},addNewListItemHandlers:function(e){BF.fx.handle("destroyInvitation",e.find(".j-invitation-destroy")),BF.fx.handle("copyInviteLink",e.find(".j-copy-invite-link")),BF.fx.handle("destroyUserPermission",e.find(".j-permission-destroy, .j-destroy-all-permissions")),BF.fx.handle("submitChangeOfPermission",e.find(".j-permission-level")),BF.fx.handle("selectFieldTransform",e.find(".j-new-permission-level")),BF.fx.handle("selectFieldTransform",e.find(".j-permission-level")),BF.fx.handle("tooltips",e.find("[rel~=tooltip]"))},attachInitialTabHandlers:function(e){BF.fx.handle("destroyInvitation",$(".j-invitation-destroy")),BF.fx.handle("copyInviteLink",$(".j-copy-invite-link")),BF.fx.handle("destroyUserPermission",$(".j-permission-destroy, .j-destroy-all-permissions")),BF.fx.handle("submitChangeOfPermission",$(".j-permission-level")),BF.fx.handle("submitNewInvitation",$(".j-invitation-form")),BF.fx.handle("selectFieldTransform",$(".j-new-permission-level")),BF.fx.handle("selectFieldTransform",$(".j-permission-level")),BF.fx.handle("showInviteUsersModal",$(".j-invite-users")),BF.fx.handle("showMessageUsersModal",$(".j-message-users")),BF.fx.handle("tooltips",$("[rel~=tooltip]")),BF.fx.handle("inviteAccessRequest",$(".j-access-request")),BF.fx.handle("inviteAccessRequestMasterToggle",$(".j-access-request-toggle")),BF.fx.handle("inviteAccessRequestToggle",$(".j-access-request-checkbox")),BF.fx.handle("inviteSelectedAccessRequests",$(".j-invite-selected-access-requests")),BF.fx.handle("deleteSelectedAccessRequests",$(".j-delete-selected-access-requests")),BF.fx.handle("updateDefaultNewUserPermission",$(".j-default-permission-level")),BF.fx.handle("selectFieldTransform",$(".j-default-permission-level")),e.find(".j-invitation").slice(3).addClass("s-hide"),$("#dialog").find("#invitation_email").focus();var t=e.find("#userSearch");$(this).data("resource"),$(this).data("slug"),e.find(".j-user-permission").length<50&&(BF.UserPermission.noMoreResults=!0),t.on("keyup",_.debounce((function(){BF.UserPermission.currentPage=1,BF.UserPermission.fetchMorePermissions(BF.UserPermission.currentPage,t.val(),(function(){BF.UserPermission.currentPage=1}))}),200)),t.on("keyup",(function(){BF.UserPermission.currentRequest.abort(),""!==e.find("#userSearch").val()?(e.find(".j-user-download-container").hide(),e.find(".clear-content-button").removeClass("hide-search")):$(".clear-content-button").click(),e.find(".j-user-permission").remove()})),$(window).keydown((function(t){$(".j-brandfolder-panel-body-users").length>0&&$("#userSearch").length>0&&!$(t.target).is("textarea")&&!$(t.target).is("input")&&"70"==t.which&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),e.find("#userSearch").focus())})),$(".s-user-search-input-container > *").focus(().blur((function(){""===e.find("#userSearch").val()&&e.find(".s-user-search-input-container").removeClass("user-search-focus")})),$(".clear-content-button").on("click",(function(){BF.UserPermission.currentRequest.abort(),BF.UserPermission.currentPage=1,BF.UserPermission.noMoreResults=!1,e.find("#userSearch").val(""),e.find(".j-user-download-container").show(),e.find(".clear-content-button").addClass("hide-search"),e.find(".s-user-search-input-container").removeClass("user-search-focus"),e.find(".j-user-permission").remove(),BF.UserPermission.fetchMorePermissions(BF.UserPermission.currentPage,"",()}))},attachSidebarHandlers:function(){$('a[data-toggle="tab"]').on("shown.bs.tab",(function(e){BF.UserPermission.switchTabs(),$(".sidebar").find("li").removeClass("active"),$(e.target).find("li").addClass("active")})),$(".j-tab-switch.accordion").on("click",(function(){var e=$(this).data("slug");$(this).hasClass("collection-container")?($(".collection-accordion-group").not(".accordion-group.collection-"+e).slideUp("fast"),$(".accordion-group.collection-"+e).slideDown("fast"),$(".j-tab-switch.accordion.collection-container").removeClass("expanded"),$(this).addClass("expanded")):($(".brandfolder-accordion-group").not(".accordion-group.brandfolder-"+e).slideUp("fast"),$(".accordion-group.brandfolder-"+e).slideDown("fast"),$(".j-tab-switch.accordion.brandfolder-container").removeClass("expanded"),$(this).addClass("expanded"))}))},update:function(){var e=$(this),t=$(".tab-pane.active"),n=t.data("resource"),i=t.data("resource-key"),a=e.parents(".j-user-permission").data("user-key"),s=e.val();$.ajax({url:"/api/user_permissions/"+n+"/"+i+"/"+a,type:"PUT",dataType:"json",data:{user_permission:{permission_level:s}},success:function(){e.data("last-selection",e.val()),BF.fx.fadeInOK(e.parents(".j-user-permission"))},error:function(t){BF.fx.fadeInError(e.parents(".j-user-permission")),e.val(e.data("last-selection")),e.trigger("liszt:updated");var n=JSON.parse(t.responseText);Notify.create(n)}})},destroy:function(){var e,t,n=$(this),i=n.parents(".j-user-permission").data("user-key");t=n.hasClass("j-destroy-all-permissions")?"/api/user_permissions/Organization/"+BF.fx.organization().key+"/"+i+"/destroy_all":"/api/user_permissions/"+(e=$(".tab-pane.active")).data("resource")+"/"+e.data("resource-key")+"/"+i,$.ajax({url:t,type:"DELETE",dataType:"json",data:{},success:function(){var e=$(".tab-pane.active .j-user-permission").length-1;n.closest("li").fadeOut(BF.vars.speed,(function(){n.closest("li").remove(),$(".tab-pane.active .j-users-count").html(e),0==e&&$(".tab-pane.active .j-empty-row-users").show()}));var t=BF.fx.should_pluralize(e,"user");if($(".tab-pane.active").find("#userSearch").attr("placeholder","Search "+e+" "+t),"function"==typeof window.CustomEvent){var i=new CustomEvent("dashbarUpdated",{detail:{refresh:!0}});window.dispatchEvent(i)}},error:function(e){var t=JSON.parse(e.responseText);Notify.create(t)}})},removeAccessRequestsFromView:function(e){$.each(e,(function(e,t){$('.m-brandfolder-panel-access-requests li[data-email="'+t+'"]').fadeOut(BF.vars.speed,(function(){$(this).remove(),0===$(".m-brandfolder-panel-access-requests li.request-item").length&&$(".j-access-requests-container").fadeOut()}))}))},deleteSelectedAccessRequests:function(e,t,n,i){var a,s;t?(a="/"+n+"/api/collections/request",s=$.param({selected_emails:i,collection_slug:t})):(a="/"+e+"/api/brandfolders/request",s=$.param({selected_emails:i,brandfolder_slug:e})),$.ajax({url:a,type:"DELETE",dataType:"json",data:s,success:error:function(e){var t=JSON.parse(e.responseText);Notify.create(t)}})}},_.extend(BF.handlers,{destroyCollection:function(){$(this).on({click:function(e){if(e.stopPropagation(),$(this).hasClass("s-not-allowed"))Notify.create({title:bfTranslate("Not Authorized"),body:bfTranslate("This feature is only available to Admins."),type:"error"});else{var t=BF.fx.collectionSlug(),n=encodeURIComponent($(this).data("collection-name")),i=decodeURIComponent(n),a=!0===BFG.resource.is_workspace?"Workspace":"Collection",s=$(this).data("brandguide-exists"),r=bfTranslate("There is no way to undo this action. It is immediate and all users belonging to this Workspace will lose access."),o=bfTranslate("There is no way to undo this action. It is immediate and all users belonging to this Collection will lose access."),d=BFG.resource.is_workspace?r:o,u=bfTranslate("To confirm deletion, please enter the URL for the Workspace below: "),l=bfTranslate("To confirm deletion, please enter the URL for the Collection below: "),c=BFG.resource.is_workspace?u:l,f=s?bfTranslate("Please note this action will delete any associated Brandguides.")+"<br><br>":"";$(".sweet-alert input").removeClass("invalid"),swal({title:bfTranslate("Are you sure you want to delete "+i+"?"),text:d+"<br><br>"+f+c+"<strong>"+t+"</strong>",type:"input",inputPlaceholder:t,showCancelButton:!0,closeOnConfirm:!1,confirmButtonText:bfTranslate("Delete"),customClass:"deleting",html:!0},(function(e){if(e!=t)return $(".sweet-alert input").addClass("invalid"),swal.showInputError(bfTranslate("Type the name of your "+a)),!1;$.ajax({url:"/"+BF.fx.slug()+"/"+t,data:{typed_slug:e},type:"DELETE",success:function(){swal({type:"success",title:bfTranslate("Deleted!"),text:i+bfTranslate(" has been successfully deleted."),showConfirmButton:!1}),window.location="/"+BF.fx.slug()},error:function(e){$(".sweet-alert input").addClass("invalid"),"error"==e.statusText?swal.showInputError(bfTranslate("Error deleting - refresh and try again. This "+a+" may have already been deleted.")):swal.showInputError(bfTranslate("That url is unavailable!!"))}})}))}}})},submitCollectionPrivacySettings:function(){$(this).on({submit:function(e){e.preventDefault(),$(this).unlockFor("changes"),BF.PrivacySettings.updateCollection.call(this)}},".j-submit-collection-privacy-settings")}}),function(){function e(e,s){function r(){for(var r=-1*f;r<=f;r+=2){var u,c=l[r-1],h=l[r+1];g=(h?h.newPos:0)-r,c&&(l[r-1]=void 0);var p=c&&c.newPos+1<o,m=h&&0<=g&&g<d;if(p||m){!p||m&&c.newPos<h.newPos?n((u=a(h)).components,void 0,!0):((u=c).newPos++,n(u.components,!0,void 0));var g=i(u,s,e,r);if(u.newPos+1>=o&&g+1>=d)return t(u.components,s,e);l[r]=u}else l[r]=void 0}f++}if(s===e)return[{value:s}];if(!s)return[{value:e,removed:!0}];if(!e)return[{value:s,added:!0}];var o=s.length,d=e.length,u=o+d,l=[{newPos:-1,components:[]}],c=i(l[0],s,e,0);if(l[0].newPos+1>=o&&c+1>=d)return[{value:s}];for(var f=1;f<=u;){var h=r();if(h)return h}}function t(e,t,n){for(var i=0,a=e.length,s=0,r=0;i<a;i++){var o=e[i];o.removed?(o.value=n.slice(r,r+o.count),r+=o.count):(o.value=t.slice(s,s+o.count),s+=o.count,o.added||(r+=o.count))}return e}function n(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})}function i(e,t,n,i){for(var a=t.length,s=n.length,r=e.newPos,o=r-i,d=0;r+1<a&&o+1<s&&t[r+1]==n[o+1];)r++,o++,d++;return d&&e.components.push({count:d}),e.newPos=r,o}ar s,r,o,d,u,l,c,f=h=p={}.hasOwnProperty,m=[].slice;c="mentionsInput",d={get:set:function(e,t,n){if(null==n&&(n=t),e[0].selectionStart)return e[0].selectStart=t,e[0].selectionEnd=n}},u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},l=$.widget("ui.areacomplete",$.ui.autocomplete,{options:$.extend({},$.ui.autocomplete.prototype.options,{matcher:"(\\b[^,]*)"}),_create:function(){return this.overriden={select:this.options.select,focus:this.options.focus},this.options.select=$.proxy(this.selectCallback,this),this.options.focus=$.proxy(this.focusCallback,this),$.ui.autocomplete.prototype._create.call(this),this.matcher=new RegExp(this.options.matcher+"$")},selectCallback:function(e,t){var n,i,a,s;return i=(s=this._value()).substring(0,this.start),n=s.substring(this.end),s=i+(a=t.item.value)+n,this._value(s),d.set(this.element,i.length+a.length),this.overriden.select&&(t.item.pos=this.start,this.overriden.select(e,t)),!1},focusCallback:function(){return!!this.overriden.focus&&this.overriden.focus(event,ui)},search:function(e,t){var n,i;if(!e){if(e=this._value(),i=d.get(this.element).start,e=e.substring(0,i),!(n=this.matcher.exec(e)))return"";this.start=n.index,this.end=n.index+n[0].length,this.searchTerm=n[1]}return $.ui.autocomplete.prototype.search.call(this,this.searchTerm,t)},_renderItem:function(e,t){var n,i,a;return i=$("<li>"),n=$("<a>").appendTo(i),t.image&&n.append('<img src="'+t.image+'" />'),a=(a=t.value.replace(this.searchTerm.substring(),"<strong>$&</strong>")).replace(/ \<([A-Za-z@0-9\.\/\<\>]+)\>/i,"<span class='s-mention-email'>$1</span>"),n.append(a),i.appendTo(e)}}),$.widget("ui.editablecomplete",$.ui.areacomplete,{options:$.extend({},$.ui.areacomplete.prototype.options,{showAtCaret:!1}),selectCallback:function(e,t){var n,i;return i={start:this.start,end:this.end},this.overriden.select&&(t.item.pos=i,!1===this.overriden.select(e,t))||(n=document.createTextNode(t.item.value),insertMention(n,i,this.options.suffix),this.element.change()),!1},search:function(e,t){var n,i,a,s;if(!e){if(e=(i=(s=window.getSelection()).focusNode).textContent,a=s.focusOffset,e=e.substring(0,a),!(n=this.matcher.exec(e)))return"";this.start=n.index,this.end=n.index+n[0].length,this._setDropdownPosition(i),this.searchTerm=n[1]}return $.ui.autocomplete.prototype.search.call(this,this.searchTerm,t)},_setDropdownPosition:function(e){var t,n,i,a;if(this.options.showAtCaret)return(t=document.createRange()).setStart(e,this.start),t.collapse(!0),n=(a=t.getClientRects()[0]).left+(window.scrollX||window.pageXOffset),i=a.top+a.height+(window.scrollY||window.pageYOffset),this.options.position.of=document,this.options.position.at="left+"+n+" top+"+i}}),s=function(){function e(e,t){this.input=e,this.options=$.extend({},this.settings,t),this.options.source||(this.options.source=this.input.data("source")||[])}return e.prototype.marker="\u200b",e.prototype._getMatcher=function(){var e;return e="[^"+this.options.trigger+"]","\\B["+this.options.trigger+"]("+e+"{0,20})"},e.prototype._markupMention=e}(),o=function(t){function n(e,t){var i,a;this.input=e,this._updateHScroll=f(this._updateHScroll,this),this._updateVScroll=f(this._updateVScroll,this),this._updateValue=f(this._updateValue,this),this._onSelect=f(this._onSelect,this),this._addMention=f(this._addMention,this),this._updateMentions=f(this._updateMentions,this),this._update=f(this._update,this),this.settings={trigger:"@",widget:"areacomplete",autocomplete:{autoFocus:!0,delay:0}},n.__super__.constructor.call(this,this.input,t),this.mentions=[],this.input.addClass("input"),(i=$("<div>",{class:"mentions-input"})).css("display",this.input.css("display")),
this.container=this.input.wrapAll(i).parent(),this.hidden=this._createHidden(),this.highlighter=this._createHighlighter(),this.highlighterContent=$("div",this.highlighter),this.input.focus((a=this,function(){return a.highlighter.addClass("focus")})).blur(this)),t=$.extend({matcher:this._getMatcher(),select:this._onSelect,source:this.options.source,appendTo:this.input.parent()},this.options.autocomplete),this.autocomplete=this.input[this.options.widget](t),this._setValue(this.input.val()),this._initEvents()}var i;return h(n,t),i=["backgroundColor","marginTop","marginBottom","marginLeft","marginRight","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderLeftWidth","borderBottomWidth","borderRightWidth","fontSize","fontStyle","fontFamily","fontWeight","lineHeight","height","boxSizing"],n.prototype._initEvents=function(){var e,t;return this.input.on("input."+c+" change."+c,this._update),"INPUT"===(e=this.input.prop("tagName"))?(this.input.on("focus."+c,(t=this,function(){return t.interval=setInterval(t._updateHScroll,10)})),this.input.on("blur."+c,function(e){return function(){return setTimeout(e._updateHScroll,10),clearInterval(e.interval)}}(this))):"TEXTAREA"===e?(this.input.on("scroll."+c,function(e){return function(){return setTimeout(e._updateVScroll,10)}}(this)),this.input.on("resize."+c,this))):void 0},n.prototype._setValue=function(e){var t,n,i;for(i=0,n=/@\[([^\]]+)\]\(([^ \)]+)\)/g,this.value=e.replace(n,"$1"),this.input.val(this.value),t=n.exec(e);t;)this._addMention({name:t[1],uid:t[2],pos:t.index-i}),i+=t[2].length+5,t=n.exec(e);return this._updateValue()},n.prototype._createHidden=function(){var e;return(e=$("<input>",{type:"hidden",name:this.input.attr("name")})).appendTo(this.container),this.input.removeAttr("name"),e},n.prototype._createHighlighter=function(){var e,t,n,a,s;for(t=$("<div>",{class:"highlighter"}),"INPUT"===this.input.prop("tagName")?t.css("whiteSpace","pre"):(t.css("whiteSpace","pre-wrap"),t.css("wordWrap","break-word")),e=$("<div>",{class:"highlighter-content"}),t.append(e).prependTo(this.container),n=0,a=i.length;n<a;n++)s=i[n],t.css(s,this.input.css(s));return this.input.css("backgroundColor","transparent"),t},n.prototype._update=n.prototype._updateMentions=function(){var t,n,i,a,s,r,o,d,u,l,c,f,h;for(f=this.input.val(),i=e(this.value,f),h=this,c=function(e,t){var n,i,a,s,r;for(r=[],n=0,i=(s=h.mentions).length;n<i;n++)(a=s[n]).pos>=e?r.push(a.pos+=t):r.push(void 0);return r},n=0,s=0,o=i.length;s<o;s++)(t=i[s]).added?c(n,t.count):t.removed&&c(n,-t.count),t.removed||(n+=t.count);for(a=r=(l=this.mentions.slice(0)).length-1;r>=0;a=r+=-1)d=l[a],u=f.substring(d.pos,d.pos+d.name.length),d.name!==u&&this.mentions.splice(a,1);return this.value=f},n.prototype._addMention=function(e){return this.mentions.push(e),this.mentions.sort((function(e,t){return e.pos-t.pos}))},n.prototype._onSelect=function(e,t){return this._updateMentions(),this._addMention({name:t.item.value,pos:t.item.pos,uid:t.item.uid}),this._updateValue()},n.prototype._updateValue=function(){var e,t,n,i,a,s,r,o,d;for(d=this.input.val(),n=[],t=[],e=0,i=0,a=(o=this.mentions).length;i<a;i++)s=o[i],r=d.substring(e,s.pos),n.push(l(r)),t.push(r),n.push("<strong>"+s.name+"</strong>"),t.push(this._markupMention(s)),e=s.pos+s.name.length;return r=d.substring(e),this.highlighterContent.html(n.join("")+l(r)),this.hidden.val(t.join("")+r)},n.prototype._updateVScroll=function(){var e;return e=this.input.scrollTop(),this.highlighterContent.css({top:"-"+e+"px"}),this.highlighter.height(this.input.height())},n.prototype._updateHScroll=function(){var e;return e=this.input.scrollLeft(),this.highlighterContent.css({left:"-"+e+"px"})},n.prototype._replaceWithSpaces=function(e,t){return e.replace(t,Array(t.length).join(" "))},n.prototype._cutChar=function(e,t){return e.substring(0,t)+e.substring(t+1)},n.prototype.setValue=function(){var e,t,n,i,a;for(a="",e=0,t=(i=1<=arguments.length?m.call(arguments,0):[]).length;e<t;e++)a+="string"==typeof(n=i[e])?n:this._markupMention(n);return this._setValue(a)},n.prototype.getValue=function(){return this.hidden.val()},n.prototype.getRawValue=n.prototype.getMentions=function(){return this.mentions},n.prototype.clear=function(){return this.input.val(""),this._update()},n.prototype.destroy=function(){return this.input.areacomplete("destroy"),this.input.off("."+c).attr("name",this.hidden.attr("name")),this.container.replaceWith(this.input)},n}(s),r=function(e){function t(e,n){this.input=e,this._onSelect=f(this._onSelect,this),this._addMention=f(this._addMention,this),this.settings={trigger:"@",widget:"editablecomplete",autocomplete:{autoFocus:!0,delay:0}},t.__super__.constructor.call(this,this.input,n),n=$.extend({matcher:this._getMatcher(),suffix:this.marker,select:this._onSelect,source:this.options.source,showAtCaret:this.options.showAtCaret},this.options.autocomplete),this.autocomplete=this.input[this.options.widget](n),this._setValue(this.input.html()),this._initEvents()}var n,i;return h(t,e),t.prototype.selector="[data-mention]",i=function(e){return'<strong data-mention="'+e.uid+'">'+e.value.replace(/ \<([A-Za-z@0-9\.\/\<\>]+)\>/i,"").trim()+"</strong>"},n=function(e,t,n){var i,a,s;return i=(s=window.getSelection()).focusNode,(a=s.getRangeAt(0)).setStart(i,t.start),a.setEnd(i,t.end),a.deleteContents(),a.insertNode(e),n?(n=document.createTextNode(n),$(n).insertAfter(e),a.setStartAfter(n)):a.setStartAfter(e),a.collapse(!0),s.removeAllRanges(),s.addRange(a),e},t.prototype._initEvents=function(){return this.input.find(this.selector).each((e=this,function(t,n){return e._watch(n)}));var e},t.prototype._setValue=function(e){var t,n;return t=/@\[([^\]]+)\]\(([^ \)]+)\)/g,e=e.replace(t,(n=this,function(e,t,a){return i({value:t,uid:a})+n.marker})),this.input.html(e)},t.prototype._addMention=function(e){var t,a;return a=$(i(e))[0],t=n(a,e.pos,this.marker),this._watch(t)},t.prototype._onSelect=function(e,t){return this._addMention(t.item),this.input.trigger("change."+c),!1},t.prototype._watch=function(e){return e.addEventListener("DOMCharacterDataModified",(function(t){var n,i,a,s;if(t.newValue!==t.prevValue)return s=t.target,n=(a=window.getSelection()).focusOffset,$(s).insertBefore(e),$(e).remove(),(i=document.createRange()).setStart(s,n),i.collapse(!0),a.removeAllRanges(),a.addRange(i)}))},t.prototype.update=t.prototype.setValue=function(){var e,t,n,i,a;for(a="",e=0,t=(i=1<=arguments.length?m.call(arguments,0):[]).length;e<t;e++)a+="string"==typeof(n=i[e])?n:this._markupMention(n);return this._setValue(a),this._initEvents(),this.input.focus()},t.prototype.getValue=function(){var e,t;return t=this.input.clone(),e=this._markupMention,$(this.selector,t).replaceWith((function(){var t,n;return n=$(this).data("mention"),t=$(this).text(),e({name:t,uid:n})})),t.html().replace(this.marker,"")},t.prototype.getMentions=function(){var e;return e=[],$(this.selector,this.input).each((function(){return e.push({uid:$(this).data("mention"),name:$(this).text()})})),e},t.prototype.clear=t.prototype.destroy=function(){return this.input.editablecomplete("destroy"),this.input.off("."+c),this.input.html(this.getValue())},t}(s),$.fn[c]=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?m.call(arguments,1):[],n=this,this.each((function(){var i,a;if("string"==typeof t&&"_"!==t.charAt(0)){if(i=$(this).data("mentionsInput"),t in i)return n=i[t].apply(i,e)}else{if("INPUT"===(a=this.tagName)||"TEXTAREA"===a)return $(this).data("mentionsInput",new o($(this),t));if("true"===this.contentEditable)return $(this).data("mentionsInput",new r($(this),t))}})),n}}.call(this),window.BF.pages.Brandfolders_show=function(){function e(){$(".j-brandfolder-search-filters").addClass("open")}ar n=$("body");if($("#j-filter-bar"),BF.fx.handle("setFocusOnFirstInput",$("#brandfolder-customize, #dialog")),BF.fx.handle("openNewOnClick",$(".j-new-element")),BF.fx.handle("openEditBrandfolder",$(".j-edit-brandfolder")),BF.fx.handle("switchToEditLinks",$(".j-edit-link")),BF.fx.handle("switchToShowLinks",$(".j-show-link")),BF.fx.handle("stopPropagationOnClick",$(".j-link a")),BF.fx.handle("bulkAdvancedDownloadShow",$(".j-bulk-advanced-download")),BF.fx.handle("createCollection",$(".j-create-collection")),BF.fx.handle("stopPropagationOnClick",$(".j-press-name a")),BF.fx.handle("initializeDialogModal",n),BF.fx.handle("tooltips",$("[rel~=tooltip]")),BF.fx.handle("popovers",$("[rel~=popover]")),BF.fx.handle("createSlug",$(".j-slug-create")),BF.fx.handle("checkBrandfolderSlug",$(".j-slug-check")),BF.fx.handle("enableDropdown",$(".j-dropdown-parent")),BF.fx.handle("openBrandfolder",$(".j-brandfolder-card")),BF.fx.handle("scrollToTop",$(".j-back-to-top")),BF.fx.handle("forcePrintuiSync",$(".j-force-printui-sync")),BF.fx.handle("destroyInvitation",$(".j-invitation-destroy")),BF.fx.handle("destroyUserPermission",$(".j-permission-destroy, .j-destroy-all-permissions")),BF.fx.handle("showUserPermissionsModal",$(".j-brandfolder-show-user-permissions")),BF.fx.handle("showAnalyticsModal",$(".j-brandfolder-show-analytics")),BF.fx.handle("showGuestUploadModal",$(".j-brandfolder-show-guest-upload")),BF.fx.handle("showAdvancedSettingsModal",$(".j-brandfolder-show-advanced-settings")),BF.fx.handle("showPrivacyModal",$(".j-brandfolder-show-privacy-settings")),BF.fx.handle("showEmbedCodeModal",$(".j-brandfolder-embed-code")),BF.fx.handle("submitChangeOfPermission",$(".j-permission-level")),BF.fx.handle("submitNewInvitation",$(".j-invitation-form")),BF.fx.handle("updateBrandfolderPrivacySetting",$(".j-privacy-switch")),BF.fx.handle("submitAnalyticsId",n),BF.fx.handle("clickLabelsCheckbox",n),BF.fx.handle("submitBrandfolderPrivacySettings",n),BF.fx.handle("submitCollectionPrivacySettings",n),BF.fx.handle("submitBrandfolderGuestPassword",$(".j-submit-brandfolder-guest-password")),BF.fx.handle("submitCollectionGuestPassword",$(".j-submit-collection-guest-password")),BF.fx.handle("accessFormsHandler",$(".j-access-form-tab")),BF.fx.handle("accessPageHandler",$(".j-access-container")),BF.fx.handle("calloutCollabsSelect",$(".j-permission-level-callout")),BF.fx.handle("alertOfUnsavedChanges",n),BF.fx.handle("filterOnHashtagClick",n),BF.fx.handle("showShareModal",$(".j-brandfolder-show-share")),BF.fx.handle("showManageSectionsModal",$(".j-manage-sections-link")),BF.fx.handle("openOrgUpgrade",$(".j-collections-upgrade")),$(window).on("hashchange",BF.fx.processHash).trigger("hashchange"),$.localScroll({duration:250,target:"body",offset:-15,hash:!1}),n.click((function(){$(".tooltip").hide(),$("[rel~=popover]").popover("hide")})),BF.fx.captureBfKeyboardShortcuts(),"none"!==BF.fx.role()){$("#dialog, #brandfolder-customize").on("shown.bs.modal",(function(){$(".tooltip").hide(),window.modalShown=!0,$(window).trigger("resize")})).on("show.bs.modal",(),$("#dialog").on("hide.bs.modal",(function(e){var t=$(this),n=t.find("form"),i=n.toArray().some((function(e){return $(e).isLockedFor("changes")}));t.find(".modal-header").removeClass("bf-settings-header"),$(".bf-settings-header-icon.bff-settings").remove(),$(this).find("video").length>0&&$("video").remove(),$("div").find(".embedly-player").length>0&&$("div").find(".embedly-player").remove(),$("div").find(".mejs-container").length>0&&$("div").find(".mejs-container").remove(),$("audio").length>0&&$("audio")[0].pause(),i&&(e.preventDefault(),swal({title:bfTranslate("Save changes?"),text:bfTranslate("You have unsaved changes!\nDo you want to save them?\n\n"),type:"warning",showCancelButton:!0,confirmButtonText:bfTranslate("Yes"),cancelButtonText:bfTranslate("No"),closeOnConfirm:!0},(function(e){if(e){var i=t.find(".j-modal-submit-button");i.addClass("pulsate"),i.focus()}else n.toArray().forEach((function(e){return $(e).unlockFor("changes")})),$("#dialog").modal("hide")}))),BF.vars.media_element_player&&(BF.vars.media_element_player.pause(),delete BF.vars.media_element_player),window.modalShown=!1})),$(document).scroll((function(){$(".tooltip").hide()})),void 0!==$.cookie("return_to")&&(window.location.hash=$.cookie("return_to")),0===$("#j-private").length&&($.removeCookie("return_to"),$.removeCookie("return_to",{path:"/"}));var i=window.location.search.match(/(\?|&)+e=(.+)&?/i);!i||"admin"!==BF.fx.role()&&"owner"!==BF.fx.role()||BF.UserPermission.show.call($("[data-key=users]"),i[2]);var a=!0;$(".j-search_filter_toggle").on("click",(function(n){n.preventDefault(),a?(e(),a=!1):(t(),a=!0)})),$(".j-close-filters-button").on("click",(function(e){e.preventDefault(),t(),a=!0})),$(".j-cancel-filters").on("click",(function(e){e.preventDefault(),$(".j-brandfolder-search-filters input").attr("checked",!1),$(".j-submit-search").trigger("click"),t(),$("#radio_upload_alltime").prop("checked",!0)})),$(".j-brandfolder-search-filters input").on("change",(function(){$(".j-submit-search").trigger("click")})),$(".j-reset-filters").on("click",(function(){$(".j-brandfolder-search-filters input").attr("checked",!1),$(".j-submit-search").trigger("click"),$("#radio_upload_alltime").prop("checked",!0)})),$(document).on("shown.bs.modal",(),$(window).on("scroll",(function(){var e=$(this).scrollTop(),t=$(".j-back-to-top");$(document).height()>1e4&&(e<5e3&&t.hasClass("visible")&&t.removeClass("visible"),e>5e3&&!t.hasClass("visible")&&t.addClass("visible"))}))}},window.BF.pages.Collections_show=function(){BF.pages.Brandfolders_show.call()},window.BF.pages.DownloadRequests_show=function(){var e=$("body");BF.fx.handle("initializeDialogModal",e)},document.addEventListener&&document.addEventListener("DOMContentLoaded",bf_init,!1),/WebKit/i.test(navigator.userAgent))var _timer=setInterval((,10);window.onload=bf_init(),function(e){var t=0,n={resizeMaxTry:4,resizeWaitTime:50,minimumHeight:550,defaultHeight:550,heightOffset:5,exceptPages:"",debugMode:!1,visibilitybeforeload:!1,blockCrossDomain:!1,externalHeightName:"bodyHeight",onMessageFunctionName:"getHeight",domainName:"*",watcher:!1,watcherTime:400};e.iframeHeight=function(n,i){var a,s,r=this;e.iframeHeight.resizeTimeout=null,e.iframeHeight.resizeCount=0,r.$el=e(n),r.el=n,r.$el.before("<div id='iframeHeight-Container-"+t+"' style='padding: 0; margin: 0; border: none; background-color: transparent;'></div>"),r.$el.appendTo("#iframeHeight-Container-"+t),r.$container=e("#iframeHeight-Container-"+t),r.$el.data("iframeHeight",r),r.watcher=null,r.debug={FirstTime:!0,Init:function(){"console"in window||(console={}),"log info warn error dir clear".replace(/\w+/g,(function(e){e in console||(console[e]=console.log||new Function)}))},Log:function(e){this.FirstTime&&!0===this.FirstTime&&(this.Init(),this.FirstTime=!1),r.options.debugMode&&!0===r.options.debugMode&&console&&(null!==e||""!==e)&&console.log("Iframe Plugin : "+e)},GetBrowserInfo:(this.GetBrowserInfo,s={chrome:!1,safari:!1,mozilla:!1,msie:!1,webkit:!1},(a=navigator.userAgent)).browserObj&&(s[a.browserObj]=!0,s.version=a.version),s.chrome?s.webkit=!0:s.webkit&&(s.safari=!0),s)};var o=function(){try{var e;return e=r.debug.GetBrowserInfo.msie&&"7.0"==r.debug.GetBrowserInfo.version?r.$el.get(0).contentWindow.location.href:r.$el.get(0).contentDocument.location.href,r.debug.Log("This page is non-Cross Domain - "+e),!1}catch(e){return r.debug.Log("This page is Cross Domain"),!0}};r.resetIframe=function(){!r.options.visibilitybeforeload||r.debug.GetBrowserInfo.msie&&"7.0"==r.debug.GetBrowserInfo.version||r.$el.css("visibility","hidden"),r.debug.Log("Old Height is "+r.$el.height()+"px"),r.$el.css("height","").removeAttr("height"),r.debug.Log("Reset iframe"),r.debug.Log("Height is "+r.$el.height()+"px after reset")},r.resizeFromOutside=function(e){if(r.options.blockCrossDomain)return r.debug.Log("Blocked cross domain fix"),!1;if(void 0===e)return!1;if("string"!=typeof e.data)return!1;if("reset"==e.data)r.$el.css("height","").removeAttr("height");else{if(!/^ifh*/.test(e.data))return!1;if("number"!=typeof parseInt(e.data.substring(3)))return!1;var t=parseInt(e.data.substring(3))+parseInt(r.options.heightOffset);r.resetIframe(),r.setIframeHeight(t)}return!0},r.checkMessageEvent=function(){if(r.options.blockCrossDomain||r.debug.GetBrowserInfo.msie&&"7.0"==r.debug.GetBrowserInfo.version)return r.debug.Log("Blocked cross domain fix"),!1;r.resetIframe(),!r.options.visibilitybeforeload||r.debug.GetBrowserInfo.msie&&"7.0"==r.debug.GetBrowserInfo.version||r.$el.css("visibility","visible"),window.addEventListener?window.addEventListener("message",r.resizeFromOutside,!1):window.attachEvent&&window.attachEvent("onmessage",r.resizeFromOutside),r.$el.id||(r.$el.id="iframe-id-"+ ++t);var e=document.getElementById(r.$el.attr("id")),n=r.options.onMessageFunctionName;return e.contentWindow.postMessage?(e.contentWindow.postMessage(n,"*"),r.debug.Log("Cross Domain Iframe started"),!0):(r.debug.Log("Your browser does not support the postMessage method!"),!1)};var d=function(){e.iframeHeight.resizeCount<=r.options.resizeMaxTry?(e.iframeHeight.resizeCount++,e.iframeHeight.resizeTimeout=setTimeout(e.iframeHeight.resizeIframe,r.options.resizeWaitTime),r.debug.Log(e.iframeHeight.resizeCount+" time(s) tried")):(clearTimeout(e.iframeHeight.resizeTimeout),e.iframeHeight.resizeCount=0,r.debug.Log("set default height for iframe"),r.setIframeHeight(r.options.defaultHeight+r.options.heightOffset))};r.sendInfotoTop=function(){if(top.length>0&&"undefined"!=typeof JSON){var t={};t[r.options.externalHeightName].value=e(document).height();var n="*";return t=JSON.stringify(t),top.postMessage(t,n),r.debug.Log("sent info to top page"),!1}return!0},r.setIframeHeight=function(e){r.$el.height(e).css("height",e),r.$el.data("iframeheight")!=e&&r.$container.height(e).css("height",e),!r.options.visibilitybeforeload||r.debug.GetBrowserInfo.msie&&"7.0"==r.debug.GetBrowserInfo.version||r.$el.css("visibility","visible"),r.debug.Log("Now iframe height is "+e+"px"),r.$el.data("iframeheight",e)},e.iframeHeight.resizeIframe=function(){if(r.resetIframe(),o())r.$el.height(r.options.defaultHeight+r.options.heightOffset).css("height",r.options.defaultHeight+r.options.heightOffset),!r.options.visibilitybeforeload||r.debug.GetBrowserInfo.msie&&"7.0"==r.debug.GetBrowserInfo.version||r.$el.css("visibility","visible"),r.checkMessageEvent();else if(r.$el.css("height")===r.options.minimumHeight+"px"&&r.resetIframe(),null!==r.$el.get(0).contentWindow.document.body){r.debug.Log("This page has body info");var t=e(r.$el.get(0).contentWindow.document).height(),n=r.$el.get(0).contentWindow.document.location.pathname.substring(r.$el.get(0).contentWindow.document.location.pathname.lastIndexOf("/")+1).toLowerCase();r.debug.Log("page height : "+t+"px || page name : "+n),t<=r.options.minimumHeight&&-1==r.options.exceptPages.indexOf(n)?d():t>r.options.minimumHeight&&-1==r.options.exceptPages.indexOf(n)&&r.setIframeHeight(t+r.options.heightOffset)}else r.debug.Log("This page has not body info"),d()},this.$el.bind("updateIframe",(function(){e.iframeHeight.resizeIframe(),r.debug.Log("Updated Iframe Manually")})),this.$el.bind("killWatcher",(function(){window.clearInterval(r.watcher),r.debug.Log("Killed Watcher")})),r.init=function(){return r.options=e.extend({},e.iframeHeight.defaultOptions,i),1==r.options.watcher&&(r.options.blockCrossDomain=!0),r.debug.Log(r.options),void 0===r.$el.get(0).tagName||"iframe"!==r.$el.get(0).tagName.toLowerCase()?(r.debug.Log("This element is not iframe!"),!1):(e.iframeHeight.resizeIframe(),r.$el.load((function(){e.iframeHeight.resizeIframe()})),r.options.watcher&&(r.watcher=setInterval((,r.options.watcherTime)),!0)},r.init()},e.iframeHeight.defaultOptions=n,e.fn.iframeHeight=e.iframeHeightExternal=function(){function t(t){var i;if("domain"in t&&(i=t.domain),"origin"in t&&(i=t.origin),"*"===n.domainName||i===n.domainName){if(t.data==n.onMessageFunctionName){var a="ifh"+e(document).height();t.source.postMessage(a,t.origin)}"getHeight"==t.data&&BF.fx.handle("moveModalIntoView",e('.j-asset-name a,.j-element:not(".j-link,.j-information")'))}else e.iframeHeight.debug.Log("It's not same domain. Blocked!")}return 1===arguments.length&&e.isPlainObject(arguments[0])&&(n=arguments[0]),window.addEventListener?window.addEventListener("message",t,!1):window.attachEvent&&window.attachEvent("onmessage",t),{update:function(){this.reset(),window.__domainname=n.domainName,setTimeout((function(){var t="ifh"+e(document).height();parent.postMessage(t,window.__domainname)}),90)},reset:}}(jQuery),window.BF.pages.Embed_index=function(){BF.pages.Brandfolders_index.call()},window.BF.pages.Embed_show=function(){BF.pages.Brandfolders_show.call()},window.BF.pages.Invitations_show=function(){BF.pages.Organizations_new.call()},window.BF.pages.Organizations_create=function(){BF.pages.Organizations_new.call()},window.BF.pages.Embed_index=function(){$("body"),BF.fx.handle("popovers",$("[rel~=popover]")),BF.fx.handle("showShareModal",$(".j-organization-show-share"))},window.BF.pages.Organizations_index=function(){var e=$("body");BF.fx.handle("popovers",$("[rel~=popover]")),BF.fx.handle("updatePrivacySetting",$(".j-privacy-switch")),BF.fx.handle("submitAnalyticsId",e),BF.fx.handle("submitBrandfolderPrivacySettings",e),BF.fx.handle("clickLabelsCheckbox",e),BF.fx.handle("selectFieldTransform",$(".j-new-permission-level")),BF.fx.handle("selectFieldTransform",$(".j-permission-level")),BF.fx.handle("showPrivacyModal",$(".j-brandfolder-show-privacy-settings")),BF.fx.handle("openBrandfolder",$(".j-brandfolder-card")),BF.fx.handle("alertOfUnsavedChanges",e),BF.fx.handle("initializeDialogModal",e),BF.fx.handle("openOrgUpgrade",$(".j-brandfolder-card-new")),BF.fx.handle("openDropdownOnHover",$(".j-org-dropdown")),BF.fx.handle("openEditOrganizationName",$(".j-edit-organization")),BF.fx.handle("showShareModal",$(".j-organization-show-share, .j-brandfolder-show-share")),BF.fx.handle("showUserPermissionsModal",$(".j-organization-show-user-permissions")),BF.fx.handle("showAnalyticsModal",$(".j-brandfolder-show-analytics")),BF.fx.handle("showUserPermissionsModal",$(".j-brandfolder-show-user-permissions")),BF.fx.handle("showEmbedCodeModal",$(".j-brandfolder-embed-code")),BF.fx.handle("destroyBrandfolder",$(".j-destroy-brandfolder")),BF.fx.handle("openDropdownOnHover",$(".j-gear-popover-actions, .j-org-dropdown")),BF.fx.handle("openEditBrandfolder",$(".j-edit-brandfolder"));var t={duration:250,target:"body",offset:-10,hash:!1};$.localScroll(t);var n=window.location.hash,i=n.split("/");if(n&&"#"!==n)"#!settings"===i[0]?$("[data-key="+i[1]+"]").click():"#!org_settings"===i[0]?$("[data-opener='org_settings']").click():"#!manage_users"===i[0]?$("[data-opener='manage_users']").click():"#!org_events"===i[0]?$("[data-opener='org_events']").click():"#!org_share"===i[0]?$("[data-opener='org_share']").click():"#!bf_share"===i[0]&&$("[data-opener="+i[1]+"]").click();else if(n){var a=$("#"+n.replace("#",""));a&&$.scrollTo(a,t)}$(".modal").on("shown.bs.modal",(),$("#dialog").on("hide.bs.modal",(function(e){var t=$(this),n=t.find("form"),i=n.toArray().some((function(e){return $(e).isLockedFor("changes")})),a=$(".update-check").length>0&&$(".update-check").html().indexOf("true")>=0;t.find(".modal-header").removeClass("bf-settings-header"),$(".bf-settings-header-icon.bff-settings").remove(),$(this).find("video").length>0&&$("video.s-attachment-video-player").remove(),(i||a)&&(e.preventDefault(),swal({title:bfTranslate("Save changes?"),text:bfTranslate("You have unsaved changes.\nDo you want to save them?\n\n"),type:"warning",showCancelButton:!0,confirmButtonText:bfTranslate("Yes"),cancelButtonText:bfTranslate("No"),closeOnConfirm:!0},(function(e){if(e){var i=t.find(".j-modal-submit-button");a&&(i=t.find(".j-modal-submit-button-licenses")),i.addClass("pulsate"),i.focus()}else n.toArray().forEach((function(e){return $(e).unlockFor("changes")})),$("#dialog").modal("hide")}))),window.modalShown=!1}))},window.BF.pages.Organizations_new=function(){BF.fx.handle("createSlug",$(".j-slug-create")),BF.fx.handle("checkOrgSlug",$(".j-slug-check")),BF.fx.handle("removeInvalidUponEdit",$(".invalid")),BF.fx.handle("passwordCharacterCount",$(".j-signup-password"))},window.BF.pages.Organizations_Search_index=function(){BF.pages.Organizations_index.call()},window.BF.pages.Organizations_show=function(){BF.pages.Organizations_index.call()},window.BF.pages.Sessions_create=function(){BF.pages.Sessions_new.call()},window.BF.pages.Sessions_new=function(){},window.BF.pages.ShareManifests_index=function(){BF.fx.handle("deleteGuestUploadLink",$(".j-delete-guest-upload")),BF.pages.Brandfolders_show.call()},window.BF.pages.ShareManifests_show=function(){$(".j-print-contact-sheet").on("click",(function(){window.print()})),$(".j-download-all").on("click",(function(){var e=$(".download_progress_indicator span");e.text("Hang tight! We're preparing your download..."),$(".download_progress_indicator").css("visibility","visible").addClass("active"),$.ajax({url:"/api/v3/share_manifests/"+BF_Manifest+"/assets/download",type:"post",success:function(t){e.text("Beginning Download"),window.location=t.data.redirect_url,$(".asset-card").each((function(){Insight.createEvent("downloaded",$(this).attr("id"),"asset")})),setTimeout((function(){$(".download_progress_indicator").removeClass("active"),setTimeout((function(){$(".download_progress_indicator").css("visibility","hidden"),e.text("Hang tight! We're preparing your download...")}),1e3)}),1e3)}})})),$(".j-view-assets-form").on("submit",(function(e){var t=$(e.target).find('input[name="email"]').val(),n=$(e.target).data("manifest");Insight.updateSession(t),$.ajax({url:"/share_manifests/"+n+"/guest_view",type:"post",data:{email:t},success:)})),BF.pages.Brandfolders_show.call()},window.BF.pages.Subscriptions_billing=function(){BF.pages.Subscriptions_new.call()},window.BF.pages.Subscriptions_create=function(){BF.pages.Subscriptions_new.call()},window.BF.pages.Subscriptions_edit=function(){BF.pages.Subscriptions_new.call()},window.BF.pages.Subscriptions_new=function(){BF.fx.handle("submitSubscription",$(".j-submit-subscription")),BF.fx.handle("formatCCYear",$("#cc_exp")),$("#cc_number").payment("formatCardNumber"),$("#cc_exp").payment("formatCardExpiry"),$("#cc_cvc").payment("formatCardCVC")},window.BF.pages.Subscriptions_update=function(){BF.pages.Subscriptions_new.call()},window.BF.pages.Trial_Card_new=window.BF.pages.Subscriptions_edit,window.BF.pages.Trial_Card_create=window.BF.pages.Subscriptions_edit,window.BF.pages.Trial_create=function(){BF.pages.Trial_new.call()},window.BF.pages.Trial_new=function(){BF.pages.Organizations_new.call()},window.BF.pages.Trial_create=window.BF.pages.Trial_new,window.BF.pages.Users_create=function(){BF.pages.Organizations_new.call()},window.BF.pages.Users_destroy=window.BF.pages.Users_edit=window.BF.pages.Users_update=function(){BF.fx.handle("submitUserDelete",$(".j-user-delete")),BF.fx.handle("removeInvalidUponEdit",$(".invalid")),BF.fx.handle("copyToClipboard",$(".j-copy-button")),BF.fx.handle("selectAllPreText",$("pre")),BF.fx.handle("passwordCharacterCount",$(".j-signup-password"));var e=document.location.toString();if(e.match("#")&&$(".nav-tabs a[href=#"+e.split("#")[1]+"]").tab("show"),$(".nav-tabs a").on("shown.bs.tab",(function(e){window.location.hash=e.target.hash,window.scrollTo(0,0)})),$(".invalid")){var t=$(".invalid").first().parents(".tab-pane").attr("id");$(".nav-tabs a[href=#"+t+"]").tab("show"),window.scrollTo(0,0)}},window.BF.pages.Users_new=function(){},this,(function(){"use strict";nction n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}idDate}(e%t+t)%t} he(e){return this._monthsParseExact?(a(this,"_monthsRegex")||me.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=Qa),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function pe(e){return this._monthsParseExact?(a(this,"_monthsRegex")||me.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Ja),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}e(){return this._week.dow}n Ie(e){return!0===e?Be(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}on Le(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ue.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=as),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function ze(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ue.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ss),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}e){var t=null;if(void 0===cs[e]&&"undefined"!=typeof module&&module&&module.exports&&Ze(e))try{t=os._abbr,require("./locale/"+e),tt(t)}catch(t){cs[e]=null}return cs[e]}tion st(){return ia(cs)}("isBefore",[].slice.call(arguments,0))}nction Et(){return this._isValid}t)||this.isAfter(e,t)}n Tn(e,t){return this.isValid()&&(b(e)&&e.isValid()||St(e).isValid())?Zt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Sn(e){return this.from(St(),e)}eturn p(this)}ction Vn(){var t,n,i,a=this._eras||at("en")._eras;for(t=0,n=a.length;t<n;++t){if("string"==typeof a[t].since)i=e(a[t].since).startOf("day"),a[t].since=i.valueOf();switch(typeof a[t].until){case"undefined":a[t].until=1/0;break;case"string":i=e(a[t].until).startOf("day").valueOf(),a[t].until=i.valueOf()}}return a}nction Xn(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].name
;if(i[e].until<=n&&n<=i[e].since)return i[e].name}return""}function Qn(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].narrow;if(i[e].until<=n&&n<=i[e].since)return i[e].narrow}return""}nction ei(e){return a(this,"_erasNameRegex")||oi.call(this),e?this._erasNameRegex:this._erasRegex}function ti(e){return a(this,"_erasAbbrRegex")||oi.call(this),e?this._erasAbbrRegex:this._erasRegex}unction ii(e,t){return t.erasAbbrRegex(e)}function ai(e,t){return t.erasNameRegex(e)}on ci(){return ke(this.year(),1,4)}unction hi(){var e=this.localeData()._week;return ke(this.year(),e.dow,e.doy)}on wi(){return this._isUTC?"UTC":""}n Fi(e,t){return Ti(e,t,"months")}unction Di(e,t,n){return Si(e,t,n,"weekdays")}function Bi(e,t,n){return Si(e,t,n,"weekdaysShort")}n Ri(e){return 4800*e/146097}ray.prototype.some?Array.prototype.some:var ia,aa=e.momentProperties=[],sa=!1,ra={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null,ia=Object.keys?Object.keys:var oa,da={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ua=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,la=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ca={},fa={},ha={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},pa="Invalid date",ma="%d",ga=/\d{1,2}/,va={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ba={},ya={},wa=/\d/,_a=/\d\d/,xa=/\d{3}/,ka=/\d{4}/,Ca=/[+-]?\d{6}/,$a=/\d\d?/,Ta=/\d\d\d\d?/,Sa=/\d\d\d\d\d\d?/,Fa=/\d{1,3}/,ja=/\d{1,4}/,Da=/[+-]?\d{1,6}/,Ba=/\d+/,Ea=/[+-]?\d+/,Ia=/Z|[+-]\d\d:?\d\d/gi,Aa=/Z|[+-]\d\d(?::?\d\d)?/gi,Pa=/[+-]?\d+(\.\d{1,3})?/,Ma=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;oa={};var Oa,Na={},Ra=0,La=1,za=2,Ha=3,Ua=4,qa=5,Wa=6,Ya=7,Va=8;Oa=Array.prototype.indexOf?Array.prototype.indexOf:F("M",["MM",2],"Mo",(),F("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),F("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),N("month","M"),z("month",8),Q("M",$a),Q("MM",$a,_a),Q("MMM",(function(e,t){return t.monthsShortRegex(e)})),Q("MMMM",(function(e,t){return t.monthsRegex(e)})),te(["M","MM"],(),te(["MMM","MMMM"],(function(e,t,n,i){var a=n._locale.monthsParse(e,i,n._strict);null!=a?t[La]=a:h(n).invalidMonth=e}));var Ga="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ka="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Xa=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Qa=Ma,Ja=Ma;F("Y",0,0,(),F(0,["YY",2],0,(function(){return this.year()%100})),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),N("year","y"),z("year",1),Q("Y",Ea),Q("YY",$a,_a),Q("YYYY",ja,ka),Q("YYYYY",Da,Ca),Q("YYYYYY",Da,Ca),te(["YYYYY","YYYYYY"],Ra),te("YYYY",(),te("YY",(),te("Y",(),e.parseTwoDigitYear=var Za=Y("FullYear",!0);F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),z("week",5),z("isoWeek",5),Q("w",$a),Q("ww",$a,_a),Q("W",$a),Q("WW",$a,_a),ne(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=W(e)}));var es={dow:0,doy:6};F("d",0,"do","day"),F("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),F("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),F("dddd",0,0,(),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),Q("d",$a),Q("e",$a),Q("E",$a),Q("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Q("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Q("dddd",(),ne(["dd","ddd","dddd"],(),ne(["d","e","E"],();var ts="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ns="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),is="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),as=Ma,ss=Ma,rs=Ma;F("H",["HH",2],0,"hour"),F("h",["hh",2],0,qe),F("k",["kk",2],0,We),F("hmm",0,0,(),F("hmmss",0,0,(),F("Hmm",0,0,(),F("Hmmss",0,0,(),Ye("a",!0),Ye("A",!1),N("hour","h"),z("hour",13),Q("a",Ve),Q("A",Ve),Q("H",$a),Q("h",$a),Q("k",$a),Q("HH",$a,_a),Q("hh",$a,_a),Q("kk",$a,_a),Q("hmm",Ta),Q("hmmss",Sa),Q("Hmm",Ta),Q("Hmmss",Sa),te(["H","HH"],Ha),te(["k","kk"],(),te(["a","A"],(),te(["h","hh"],(),te("hmm",(),te("hmmss",(),te("Hmm",(),te("Hmmss",();var os,ds=/[ap]\.?m?\.?/i,us=Y("Hours",!0),ls={calendar:da,longDateFormat:ha,invalidDate:pa,ordinal:ma,dayOfMonthOrdinalParse:ga,relativeTime:va,months:Ga,monthsShort:Ka,week:es,weekdays:ts,weekdaysMin:is,weekdaysShort:ns,meridiemParse:ds},cs={},fs={},hs=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ps=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ms=/Z|[+-]\d\d(?::?\d\d)?/,gs=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],vs=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],bs=/^\/?Date\((-?\d+)/i,ys=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ws={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=w("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(),e.ISO_8601=function(){},e.RFC_2822=function(){};var _s=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(),xs=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(),ks=Cs=["year","quarter","month","week","day","hour","minute","second","millisecond"];Nt("Z",":"),Nt("ZZ",""),Q("Z",Aa),Q("ZZ",Aa),te(["Z","ZZ"],();var $s=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ts=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ss=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Zt.fn=At.prototype,Zt.invalid=It;var Fs=an(1,"add"),js=an(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ds=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(),Bs=1e3,Es=60*Bs,Is=60*Es,As=3506328*Is;F("N",0,0,"eraAbbr"),F("NN",0,0,"eraAbbr"),F("NNN",0,0,"eraAbbr"),F("NNNN",0,0,"eraName"),F("NNNNN",0,0,"eraNarrow"),F("y",["y",1],"yo","eraYear"),F("y",["yy",2],0,"eraYear"),F("y",["yyy",3],0,"eraYear"),F("y",["yyyy",4],0,"eraYear"),Q("N",ii),Q("NN",ii),Q("NNN",ii),Q("NNNN",ai),Q("NNNNN",si),te(["N","NN","NNN","NNNN","NNNNN"],(),Q("y",Ba),Q("yy",Ba),Q("yyy",Ba),Q("yyyy",Ba),Q("yo",ri),te(["y","yy","yyy","yyyy"],Ra),te(["yo"],(),F(0,["gg",2],0,(function(){return this.weekYear()%100})),F(0,["GG",2],0,(),di("gggg","weekYear"),di("ggggg","weekYear"),di("GGGG","isoWeekYear"),di("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),Q("G",Ea),Q("g",Ea),Q("GG",$a,_a),Q("gg",$a,_a),Q("GGGG",ja,ka),Q("gggg",ja,ka),Q("GGGGG",Da,Ca),Q("ggggg",Da,Ca),ne(["gggg","ggggg","GGGG","GGGGG"],(),ne(["gg","GG"],(),F("Q",0,"Qo","quarter"),N("quarter","Q"),z("quarter",7),Q("Q",wa),te("Q",(),F("D",["DD",2],"Do","date"),N("date","D"),z("date",9),Q("D",$a),Q("DD",$a,_a),Q("Do",(),te(["D","DD"],za),te("Do",();var Ps=Y("Date",!0);F("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),z("dayOfYear",4),Q("DDD",Fa),Q("DDDD",xa),te(["DDD","DDDD"],(),F("m",["mm",2],0,"minute"),N("minute","m"),z("minute",14),Q("m",$a),Q("mm",$a,_a),te(["m","mm"],Ua);var Ms=Y("Minutes",!1);F("s",["ss",2],0,"second"),N("second","s"),z("second",15),Q("s",$a),Q("ss",$a,_a),te(["s","ss"],qa);var Os,Ns,Rs=Y("Seconds",!1);for(F("S",0,0,(function(){return~~(this.millisecond()/100)})),F(0,["SS",2],0,(),F(0,["SSS",3],0,"millisecond"),F(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),F(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),F(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),F(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),F(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),F(0,["SSSSSSSSS",9],0,(),N("millisecond","ms"),z("millisecond",16),Q("S",Fa,wa),Q("SS",Fa,_a),Q("SSS",Fa,xa),Os="SSSS";Os.length<=9;Os+="S")Q(Os,Ba);for(Os="S";Os.length<=9;Os+="S")te(Os,yi);Ns=Y("Milliseconds",!1),F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");var Ls=v.prototype;Ls.add=Fs,Ls.calendar=fn,Ls.clone=hn,Ls.diff=wn,Ls.endOf=Mn,Ls.format=$n,Ls.from=Tn,Ls.fromNow=Sn,Ls.to=Fn,Ls.toNow=jn,Ls.get=K,Ls.invalidAt=Wn,Ls.isAfter=pn,Ls.isBefore=mn,Ls.isBetween=gn,Ls.isSame=vn,Ls.isSameOrAfter=bn,Ls.isSameOrBefore=yn,Ls.isValid=Un,Ls.lang=Ds,Ls.locale=Dn,Ls.localeData=Bn,Ls.max=xs,Ls.min=_s,Ls.parsingFlags=qn,Ls.set=X,Ls.startOf=Pn,Ls.subtract=js,Ls.toArray=Ln,Ls.toObject=zn,Ls.toDate=Rn,Ls.toISOString=kn,Ls.inspect=Cn,"undefined"!=typeof Symbol&&null!=Symbol.for&&(Ls[Symbol.for("nodejs.util.inspect.custom")]=,Ls.toJSON=Hn,Ls.toString=xn,Ls.unix=Nn,Ls.valueOf=On,Ls.creationData=Yn,Ls.eraName=Xn,Ls.eraNarrow=Qn,Ls.eraAbbr=Jn,Ls.eraYear=Zn,Ls.year=Za,Ls.isLeapYear=ve,Ls.weekYear=ui,Ls.isoWeekYear=li,Ls.quarter=Ls.quarters=vi,Ls.month=ce,Ls.daysInMonth=fe,Ls.week=Ls.weeks=Se,Ls.isoWeek=Ls.isoWeeks=Fe,Ls.weeksInYear=hi,Ls.weeksInWeekYear=pi,Ls.isoWeeksInYear=ci,Ls.isoWeeksInISOWeekYear=fi,Ls.date=Ps,Ls.day=Ls.days=Oe,Ls.weekday=Ne,Ls.isoWeekday=Re,Ls.dayOfYear=bi,Ls.hour=Ls.hours=us,Ls.minute=Ls.minutes=Ms,Ls.second=Ls.seconds=Rs,Ls.millisecond=Ls.milliseconds=Ns,Ls.utcOffset=Ht,Ls.utc=qt,Ls.local=Wt,Ls.parseZone=Yt,Ls.hasAlignedHourOffset=Vt,Ls.isDST=Gt,Ls.isLocal=Xt,Ls.isUtcOffset=Qt,Ls.isUtc=Jt,Ls.isUTC=Jt,Ls.zoneAbbr=wi,Ls.zoneName=_i,Ls.dates=w("dates accessor is deprecated. Use date instead.",Ps),Ls.months=w("months accessor is deprecated. Use month instead",ce),Ls.years=w("years accessor is deprecated. Use year instead",Za),Ls.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ut),Ls.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Kt);var zs=$.prototype;zs.calendar=T,zs.longDateFormat=I,zs.invalidDate=A,zs.ordinal=P,zs.preparse=Ci,zs.postformat=Ci,zs.relativeTime=M,zs.pastFuture=O,zs.set=k,zs.eras=Vn,zs.erasParse=Gn,zs.erasConvertYear=Kn,zs.erasAbbrRegex=ti,zs.erasNameRegex=ei,zs.erasNarrowRegex=ni,zs.months=re,zs.monthsShort=oe,zs.monthsParse=ue,zs.monthsRegex=pe,zs.monthsShortRegex=he,zs.week=Ce,zs.firstDayOfYear=Te,zs.firstDayOfWeek=$e,zs.weekdays=Ee,zs.weekdaysMin=Ae,zs.weekdaysShort=Ie,zs.weekdaysParse=Me,zs.weekdaysRegex=Le,zs.weekdaysShortRegex=ze,zs.weekdaysMinRegex=He,zs.isPM=Ge,zs.meridiem=Ke,tt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:),e.lang=w("moment.lang is deprecated. Use moment.locale instead.",tt),e.langData=w("moment.langData is deprecated. Use moment.localeData instead.",at);var Hs=Math.abs,Us=Ui("ms"),qs=Ui("s"),Ws=Ui("m"),Ys=Ui("h"),Vs=Ui("d"),Gs=Ui("w"),Ks=Ui("M"),Xs=Ui("Q"),Qs=Ui("y"),Js=Yi("milliseconds"),Zs=Yi("seconds"),er=Yi("minutes"),tr=Yi("hours"),nr=Yi("days"),ir=Yi("months"),ar=Yi("years"),sr=Math.round,rr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},or=Math.abs,dr=At.prototype;return dr.isValid=Et,dr.abs=Ii,dr.add=Pi,dr.subtract=Mi,dr.as=zi,dr.asMilliseconds=Us,dr.asSeconds=qs,dr.asMinutes=Ws,dr.asHours=Ys,dr.asDays=Vs,dr.asWeeks=Gs,dr.asMonths=Ks,dr.asQuarters=Xs,dr.asYears=Qs,dr.valueOf=Hi,dr._bubble=Ni,dr.clone=qi,dr.get=Wi,dr.milliseconds=Js,dr.seconds=Zs,dr.minutes=er,dr.hours=tr,dr.days=nr,dr.weeks=Vi,dr.months=ir,dr.years=ar,dr.humanize=Ji,dr.toISOString=ea,dr.toString=ea,dr.toJSON=ea,dr.locale=Dn,dr.localeData=Bn,dr.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ea),dr.lang=Ds,F("X",0,0,"unix"),F("x",0,0,"valueOf"),Q("x",Ea),Q("X",Pa),te("X",(),te("x",(),e.version="2.29.4",t(St),e.fn=Ls,e.min=jt,e.max=Dt,e.now=ks,e.utc=c,e.unix=xi,e.months=Fi,e.isDate=d,e.locale=tt,e.invalid=m,e.duration=Zt,e.isMoment=b,e.weekdays=Di,e.parseZone=ki,e.localeData=at,e.isDuration=Pt,e.monthsShort=ji,e.weekdaysMin=Ei,e.defineLocale=nt,e.updateLocale=it,e.locales=st,e.weekdaysShort=Bi,e.normalizeUnits=R,e.relativeTimeRounding=Xi,e.relativeTimeThreshold=Qi,e.calendarFormat=cn,e.prototype=Ls,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})),(function(e,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(n,i){var a,s,r,o,d,u,l,c={},f=!0,h=!1,p=!1,m=0,g=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],v=["days","months","years","decades"],b=["top","bottom","auto"],y=["left","right","auto"],w=["default","top","bottom"],_={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},x={},k=C=$=T=function(){return $("h")||$("m")||$("s")},S=F=j=D=B=E=I=A=P=M=O=N=R=function(e){return!0===i.disabledDates[e.format("YYYY-MM-DD")]},L=function(e){
return!0===i.enabledDates[e.format("YYYY-MM-DD")]},z=function(e){return!0===i.disabledHours[e.format("H")]},H=U=q=W=Y=V=G=K=X=Q=J=Z=ee=te=ne=function(){ee(null)},ie=ae={next:function(){var e=g[l].navFnc;s.add(g[l].navStep,e),G(),M(e)},previous:pickerSwitch:selectMonth:selectYear:selectDecade:selectDay:incrementHours:function(){var e=a.clone().add(1,"h");U(e,"h")&&ee(e)},incrementMinutes:function(){var e=a.clone().add(i.stepping,"m");U(e,"m")&&ee(e)},incrementSeconds:function(){var e=a.clone().add(1,"s");U(e,"s")&&ee(e)},decrementHours:function(){var e=a.clone().subtract(1,"h");U(e,"h")&&ee(e)},decrementMinutes:decrementSeconds:togglePeriod:togglePicker:showPicker:function(){p.find(".timepicker > div:not(.timepicker-picker)").hide(),p.find(".timepicker .timepicker-picker").show()},showHours:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-hours").show()},showMinutes:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-minutes").show()},showSeconds:selectHour:selectMinute:function(t){ee(a.clone().minutes(parseInt(e(t.target).text(),10))),ae.showPicker.call(c)},selectSecond:clear:ne,today:close:te},se=re=function(){var t,n={year:month:day:hour:minute:;return r.prop("disabled")||!i.ignoreReadonly&&r.prop("readonly")||p||(void 0!==r.val()&&0!==r.val().trim().length?ee(ie(r.val().trim())):f&&i.useCurrent&&(i.inline||r.is("input")&&0===r.val().trim().length)&&(t=C(),"string"==typeof i.useCurrent&&(t=n[i.useCurrent](t)),ee(t)),p=E(),N(),q(),p.find(".timepicker-hours").hide(),p.find(".timepicker-minutes").hide(),p.find(".timepicker-seconds").hide(),Z(),O(),e(window).on("resize",A),p.on("click","[data-action]",se),p.on("mousedown",!1),h&&h.hasClass("btn")&&h.toggleClass("active"),A(),p.show(),i.focusOnShow&&!r.is(":focus")&&r.focus(),P({type:"dp.show"})),c},oe=de=function(e){var t,n,a,s,r=null,o=[],d={},u=e.which,l="p";for(t in x[u]=l,x)x.hasOwnProperty(t)&&x[t]===l&&(o.push(t),parseInt(t,10)!==u&&(d[t]=!0));for(t in i.keyBinds)if(i.keyBinds.hasOwnProperty(t)&&"function"==typeof i.keyBinds[t]&&(a=t.split(" ")).length===o.length&&_[u]===a[a.length-1]){for(s=!0,n=a.length-2;n>=0;n--)if(!(_[a[n]]in d)){s=!1;break}if(s){r=i.keyBinds[t];break}}r&&(r.call(c,p),e.stopPropagation(),e.preventDefault())},ue=le=ce=fe=he=pe=me=if(c.destroy=c.toggle=oe,c.show=re,c.hide=te,c.disable=c.enable=c.ignoreReadonly=function(e){if(0===arguments.length)return i.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return i.ignoreReadonly=e,c},c.options=c.date=c.format=c.timeZone=function(e){if(0===arguments.length)return i.timeZone;if("string"!=typeof e)throw new TypeError("newZone() expects a string parameter");return i.timeZone=e,c},c.dayViewHeaderFormat=function(e){if(0===arguments.length)return i.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return i.dayViewHeaderFormat=e,c},c.extraFormats=c.disabledDates=function(t){if(0===arguments.length)return i.disabledDates?e.extend({},i.disabledDates):i.disabledDates;if(!t)return i.disabledDates=!1,Z(),c;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return i.disabledDates=he(t),i.enabledDates=!1,Z(),c},c.enabledDates=c.daysOfWeekDisabled=c.maxDate=function(e){if(0===arguments.length)return i.maxDate?i.maxDate.clone():i.maxDate;if("boolean"==typeof e&&!1===e)return i.maxDate=!1,Z(),c;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=C()));var t=ie(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(i.minDate&&t.isBefore(i.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(d));return i.maxDate=t,i.useCurrent&&!i.keepInvalid&&a.isAfter(e)&&ee(i.maxDate),s.isAfter(t)&&(s=t.clone().subtract(i.stepping,"m")),Z(),c},c.minDate=c.defaultDate=c.locale=c.stepping=c.useCurrent=c.collapse=c.icons=function(t){if(0===arguments.length)return e.extend({},i.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(i.icons,t),p&&(te(),re()),c},c.tooltips=c.useStrict=function(e){if(0===arguments.length)return i.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return i.useStrict=e,c},c.sideBySide=function(e){if(0===arguments.length)return i.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return i.sideBySide=e,p&&(te(),re()),c},c.viewMode=c.toolbarPlacement=c.widgetPositioning=c.calendarWeeks=c.showTodayButton=function(e){if(0===arguments.length)return i.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return i.showTodayButton=e,p&&(te(),re()),c},c.showClear=c.widgetParent=c.keepOpen=function(e){if(0===arguments.length)return i.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return i.keepOpen=e,c},c.focusOnShow=function(e){if(0===arguments.length)return i.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return i.focusOnShow=e,c},c.inline=function(e){if(0===arguments.length)return i.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return i.inline=e,c},c.clear=c.keyBinds=c.getMoment=c.debug=c.allowInputToggle=function(e){if(0===arguments.length)return i.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return i.allowInputToggle=e,c},c.showClose=function(e){if(0===arguments.length)return i.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return i.showClose=e,c},c.keepInvalid=function(e){if(0===arguments.length)return i.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return i.keepInvalid=e,c},c.datepickerInput=function(e){if(0===arguments.length)return i.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return i.datepickerInput=e,c},c.parseInputDate=c.disabledTimeIntervals=c.disabledHours=function(t){if(0===arguments.length)return i.disabledHours?e.extend({},i.disabledHours):i.disabledHours;if(!t)return i.disabledHours=!1,Z(),c;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(i.disabledHours=pe(t),i.enabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!U(a,"h");){if(a.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}ee(a)}return Z(),c},c.enabledHours=c.viewDate=n.is("input"))r=n;else if(0===(r=n.find(i.datepickerInput)).length)r=n.find("input");else if(!r.is("input"))throw new Error('CSS class "'+i.datepickerInput+'" cannot be applied to non input element');if(n.hasClass("input-group")&&(h=0===n.find(".datepickerbutton").length?n.find(".input-group-addon"):n.find(".datepickerbutton")),!i.inline&&!r.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return a=C(),s=a.clone(),e.extend(!0,i,I()),c.options(i),me(),ce(),r.prop("disabled")&&c.disable(),r.is("input")&&0!==r.val().trim().length?ee(ie(r.val().trim())):i.defaultDate&&void 0===r.attr("placeholder")&&ee(i.defaultDate),i.inline&&re(),c};return e.fn.datetimepicker=e.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:down:"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:enter:function(){this.hide()},escape:function(){this.hide()},"control space":t:delete:,debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},e.fn.datetimepicker})),$(document).ready((function(){BF.init(),(BF.pages[window.action]||$.noop).call(),BF.fx.handle("tooltips",$("[rel~=tooltip]")),BF.fx.handle("popovers",$("[rel~=popover]")),BF.fx.handle("initLiveChat",$(".j-support-toggle")),BF.fx.handle("showOrgSupportModal",$(".j-organization-support")),BF.fx.handle("hideOrgSupportModal",$(".j-close-organization-support")),$(window).on("load",()}));