"use strict";(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[2366],{63189:(e,t,r)=>{r.d(t,{Z:()=>h});var a=r(38241),s=r(35272),o=r(60655),i=r(55553),n=r(96832),l=r(56494),d=r(34853);onst c=()=>(0,d.tZ)("div",{width:"1.6rem",children:(0,d.tZ)("svg",{fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,d.tZ)("path",{d:"M7.00065 0.333008C3.32065 0.333008 0.333984 3.31967 0.333984 6.99967C0.333984 10.6797 3.32065 13.6663 7.00065 13.6663C10.6807 13.6663 13.6673 10.6797 13.6673 6.99967C13.6673 3.31967 10.6807 0.333008 7.00065 0.333008ZM7.00065 7.66634C6.63398 7.66634 6.33398 7.36634 6.33398 6.99967V4.33301C6.33398 3.96634 6.63398 3.66634 7.00065 3.66634C7.36732 3.66634 7.66732 3.96634 7.66732 4.33301V6.99967C7.66732 7.36634 7.36732 7.66634 7.00065 7.66634ZM7.66732 9.66634C7.66732 10.0345 7.36884 10.333 7.00065 10.333C6.63246 10.333 6.33398 10.0345 6.33398 9.66634C6.33398 9.29815 6.63246 8.99967 7.00065 8.99967C7.36884 8.99967 7.66732 9.29815 7.66732 9.66634Z",fill:"#A82700"})})});class p extends n.Component{constructor(...e){super(...e),this.state={error:!1,value:this.props.value},this.onChange=e=>{const t=u({},e);this.props.onChange(t);const{value:r}=t.target;this.setState({value:r}),this.validate(r)&&this.props.onValidated&&this.props.onValidated(r,e)},this.onFocus=this.onBlur=e=>{const t=u({},e);this.props.onBlur(t);const r=this.state.value;this.setState({started:!0},(()=>{this.validate(r)&&this.props.onValidated&&this.props.onValidated(r,t)}))}}validate(e){let t=!1;return this.props.validateFn&&(this.state.started||this.props.persistError)&&(t=this.props.validateFn(e),this.setState((()=>({error:!t})))),t}UNSAFE_componentWillReceivePropsender(){const e=[""].concat(this.props.classes);return this.state.error&&e.push("error"),(0,d.BX)("section",{className:e.join(" "),css:(0,a.iv)({marginBottom:this.props.collapseBottomMargin?"0.4rem    ":"1.5rem"},"",""),children:[(0,d.tZ)("label",{css:this.props.labelStyles,htmlFor:this.props.name,children:this.props.title}),(0,d.tZ)("input",{"aria-labelledby":this.props.ariaLabeledBy,autoComplete:this.props.autocomplete,autoFocus:this.props.autoFocus,className:this.props.className,"data-test":this.props.dataTest,disabled:this.props.disabled,max:this.props.max,min:this.props.min,name:this.props.name,onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus,placeholder:this.props.placeholder,style:this.props.inputStyles,tabIndex:this.props.tabIndex,type:this.props.type||"text",value:this.state.value}),(0,d.BX)("div",{children:[(0,d.BX)(o.Z,{"aria-hidden":!0,"aria-labelledby":"spoken",visible:this.state.error&&!(0,l.fp)(this.props.errorMessage),children:[(0,d.tZ)(c,{}),this.props.errorMessage]}),this.props.ariaErrorMessage?(0,d.tZ)(i.O,{"aria-live":"assertive",id:"spoken",children:this.props.ariaErrorMessage}):null]})]})}}p.defaultProps={ariaLabeledBy:void 0,ariaErrorMessage:void 0,autocomplete:void 0,autoFocus:void 0,classes:[],collapseBottomMargin:!1,disabled:!1,errorMessage:"",inputStyles:{},labelStyles:{},max:void 0,min:void 0,name:void 0,onBlur:s.Z,onChange:s.Z,onValidated:void 0,persistError:!1,placeholder:"",startOnFocus:!1,tabIndex:void 0,title:"",type:"text",value:void 0};const h=p},60655:(e,t,r)=>{r.d(t,{Z:()=>a});const a=(0,r(46255).Z)("div",{target:"ezxqs5i0"})((({theme:e,visible:t=!1})=>({alignItems:"center",justifyContent:"flex-start",display:t?"flex":"none",flexDirection:"row",color:"#A82700",fontSize:e.fonts.size[12],lineHeight:e.fonts.lineHeight[16],margin:"0.4rem 0 0.4rem","& svg":{marginRight:"0.4rem"}})),"")},55553:(e,t,r)=>{r.d(t,{O:()=>o,Z:()=>i});var a=r(46255);const s=(0,a.Z)("p",{target:"e188ztcp1"})((({theme:e,visible:t=!1})=>({background:e.colors.black.primary,borderRadius:"0.3rem",color:e.colors.white.primary,display:"block",fontSize:"1.3rem",fontWeight:"bold",height:t?"initial":"0",lineHeight:"1.755rem",margin:t?`${e.dimensions.gutter} 0 1rem 0`:0,padding:t?"1.4rem 1rem":"0",position:"relative",textAlign:"center",transition:"all 0.2s",width:"100%"})),""),o=(0,a.Z)("p",{target:"e188ztcp0"})((,""),i=s},47659:(e,t,r)=>{r.r(t),r.d(t,{default:()=>O});var a=r(38241),s=r(17);const o=(0,r(46255).Z)("div",{target:"eaqj1pf0"})({name:"1azakc",styles:"text-align:center"});var i=r(61711),n=r(70515),l=r(63189),d=r(62156),u=r(46423),c=r(87805),p=r(80942),h=r(72798),m=r(90758),F=r(63992),g=r(75628),v=r(11129),b=r(71130),C=r(96832),x=r(34853);const y={103:;var f={name:"1efi8gv",styles:"font-weight:bold"},Z={name:"akdqam",styles:"margin-top:1rem"},D={name:"eivff4",styles:"display:none"},w={name:"eivff4",styles:"display:none"},S={name:"1efi8gv",styles:"font-weight:bold"};const E=({close:e,openForgotPasswordModal:t,onSuccess:r,saveEmail:E})=>{const k=(0,m.Z)(),A=(0,b.useSelector)(g.h_),B=(0,b.useSelector)(v.v4),z=(0,b.useSelector)(v.MQ),[M,O]=(0,C.useState)(!1),[_,P]=(0,C.useState)(""),[T,L]=(0,C.useState)(""),[I,R]=(0,C.useState)(null),[H,N]=(0,C.useState)(""),V=(0,x.tZ)("a",{css:f,href:"https://help.iheart.com",rel:"noreferrer",target:"_blank",children:k("Help Center")}),X=e=>{const t=e.trim(),r=t&&t.length>=4;return O(!!r),r},j={color:p.ZP.colors.gray.medium,display:"block",fontSize:"13px",letterSpacing:"2px",marginBottom:"1rem",textTransform:"uppercase"};return(0,x.BX)("div",{children:[(0,x.tZ)(n.Z,{css:(0,a.iv)({fontSize:p.ZP.fonts.size.medium,justifyContent:"center",margin:"0 0 1rem"},"",""),children:k("Change Email")}),(0,x.tZ)("p",{css:(0,a.iv)({display:I?"block":"none",overflow:"auto"},"",""),"data-test":"form-error",children:I}),(0,x.BX)("form",{css:Z,method:"POST",onSubmit:e=>(e.preventDefault(),e.target.querySelectorAll(".error").length?(O(!1),!1):(R(""),_!==T?(R(k("Emails must match")),O(!1),!1):_&&(0,d.Z)(_)?(0,h.Z)((0,F.Uk)({ampUrl:A,newEmail:_,password:H,profileId:B,sessionId:z})).then((({data:e})=>{const t=(e=>{if(e.errors)return e.errors.description||e.errors})(e);if(t)return R(t),void O(!1);r(),E(_)})).catch((e=>{const t=(0,s.Z)(e,"response.data",{});u.ZP.error([u.Ke.AUTH,u.Ke.FORM],{},{},new Error(t)),R((e=>{if(!e.errors||!e.errors[0])return k("There was an error updating your email");const{code:t,description:r}=e.errors[0];return t&&y[t]?y[t](k):r||e.errors[0]})(t)),O(!1)})):(R(k("Please enter a valid email")),O(!1),!1))),children:[(0,x.tZ)("input",{css:D,name:"fakeusernameremembered",type:"text"}),(0,x.tZ)("input",{css:w,name:"fakepasswordremembered",type:"password"}),(0,x.tZ)(l.Z,{dataTest:"setting-email-input",errorMessage:k("Please enter a valid email"),labelStyles:j,name:"newEmail",onChange:e=>P(e.target.value),tabIndex:1,title:k("New Email"),type:"text",validateFn:X,value:_}),(0,x.tZ)(l.Z,{dataTest:"setting-confirmemail-input",errorMessage:k("Please enter the same value again"),labelStyles:j,name:"newEmailConfirm",onChange:e=>L(e.target.value),tabIndex:2,title:k("Confirm New Email"),type:"text",validateFn:e=>{var t;const r=e.trim(),a=document.querySelector('[name="newEmail"]'),s=X(r)&&r===(null==a||null==(t=a.value)?void 0:t.trim());return O(!!s),s},value:T}),(0,x.tZ)(l.Z,{dataTest:"setting-email-confirmpassword",errorMessage:k("Please enter your password"),labelStyles:j,name:"userPassword",onChange:tabIndex:3,title:k("Password"),type:"password",validateFn:e=>{const t=e&&e.length>=4;return O(!!t),t},value:H}),(0,x.BX)(o,{children:[(0,x.tZ)(i.Z,{"aria-label":k("Confirm"),"data-test":"change-email-confirm-button",disabled:!M,marginRight:"1rem",styleType:"cta",type:"submit",children:k("Confirm")}),(0,x.tZ)(c.Z,{"aria-label":k("Cancel"),"data-test":"change-email-cancel-button",onClick:children:k("Cancel")})]})]}),(0,x.BX)("p",{css:(0,a.iv)({color:p.ZP.colors.gray[400],marginTop:"2rem",textAlign:"center"},"",""),children:[(0,x.tZ)("span",{css:S,onClick:t,children:k("Forgot Password?")}),(0,x.tZ)("br",{}),k("Or, Visit Our {helpCenterLink}",{helpCenterLink:V})]})]})};var k=r(29929),A=r(36599),B=r(24586),z=r(40887),M={name:"2cobu1",styles:"width:unset;text-align:left"};const O=({modal:e,close:t})=>{const r=(0,b.useDispatch)(),a=(0,b.useSelector)(A.oY);return(0,x.tZ)(e,{children:(0,x.tZ)(e.Container,{children:(0,x.BX)(e.Content,{css:M,children:[(0,x.tZ)(E,{close:t,onSuccess:openForgotPasswordModal:saveEmail:e=>{r((0,z.MJ)("email",e)),a&&!a.includes("@")&&r((0,z.MJ)("name",e))}}),(0,x.tZ)(e.Close,{})]})})})}},87805:(e,t,r)=>{r.d(t,{Z:()=>l});var a=r(46255),s=r(51588),o=r(15001),i=r(34737),n=r(28744);const l=(0,a.Z)(n.Z,{target:"e688iol0"})((({center:e=!1,customStyles:t={},floatRight:r=!1,marginLeft:a="0",marginRight:n="0",marginTop:l="0",isBlock:d=!1,styleType:u="dark",theme:c})=>{const p={dark:{backgroundColorDisabled:c.colors.gray[200],borderColor:c.colors.gray[500],hoverColor:c.colors.black.dark,hoverOpacity:.15,textColor:c.colors.gray[500],textColorDisabled:c.colors.gray[500]},light:{backgroundColorDisabled:c.colors.gray[300],borderColor:c.colors.white.primary,hoverColor:c.colors.white.primary,hoverOpacity:.3,textColor:c.colors.white.primary,textColorDisabled:c.colors.gray[500]}},h=(0,s.Z)({},p[u],t),m=(0,i.Z)(h.hoverColor,h.hoverOpacity);return{backgroundColor:c.colors.transparent.primary,border:`1px solid ${h.borderColor}`,float:r?"right":"none",margin:e?"auto":0,marginLeft:a,marginRight:n,marginTop:l,color:h.textColor,width:d?"100%":"auto","i, svg":{marginRight:"0.5rem"},"&:not(:disabled):hover":{[o.Z.toString()]:{backgroundImage:`radial-gradient(circle, ${c.colors.transparent.primary} 1%, ${m} 1%)`,backgroundColor:m,backgroundPosition:"center",backgroundSize:"15000%"}},"&:not(:disabled):active":{[o.Z.toString()]:{backgroundColor:"transparent",backgroundSize:"100%",transition:"background 0s"}},"&:disabled":{backgroundColor:h.backgroundColorDisabled,border:"none",color:h.textColorDisabled}}}),"")},62156:(e,t,r)=>{r.d(t,{Z:);const a=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i;function s(e){const t=e.trim();return!!t&&a.test(t)}}}]);
//# sourceMappingURL=components-ChangeEmailModal.www.js.map