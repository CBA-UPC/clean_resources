/*
* Braze Web SDK v3.5.1
* (c) Braze, Inc. 2022 - http://braze.com
* License available at https://github.com/Appboy/appboy-web-sdk/blob/master/LICENSE
* Compiled on 2022-03-24
*/
(function(){!function(e,t){if("function"==typeof define&&define.amd)define("libs/braze/sdk.js",[],t);else if("object"==typeof module&&module.exports){var n=t();module.exports=n,module.exports.default=n}else if(e.appboy){var i,r=t();for(i in r)e.appboy[i]=r[i]}else e.appboy=t()}("undefined"!=typeof self?self:this,function(){var e,t={};r r="function"==typeof Object.create?Object.create:o="function"==typeof Object.defineProperties?Object.defineProperty:var a,s=this);f("function"==typeof Object.setPrototypeOf)a=Object.setPrototypeOf;else{var l;e:{var c={};try{c.__proto__={eg:!0},l=c.eg;break e}catch(e){}l=!1}a=l?null}var f=a;("String.prototype.repeat",,u("Promise",;var d=p={Gb:;type.setItem=g.prototype.getItem=g.prototype.clearData=var E={md:Db:Fd:Jd:info:warn:function(e){E.Ca&&(e="Appboy SDK Warning: "+e+" (v3.5.1)",null!=E.F?E.F(e):console.warn(e))},error:,A={CustomEvent:"ce",yf:"p",If:"pc",wh:"ca",zf:"i",Hc:"ie",af:"cci",cf:"ccic",Ze:"ccc",$e:"ccd",ce:"ss",Nf:"se",xf:"si",Qd:"sc",Pd:"sbc",wf:"sfe",df:"iec",Ff:"lr",Ue:"uae",Ye:"ci",Xe:"cc",Df:"lcaa",Ef:"lcar",ff:"inc",ef:"add",gf:"rem",hf:"set",Of:"sgu"},_="feed_displayed",k="content_cards_displayed",D={aa:{O:"AppboyServiceWorkerAsyncStorage",VERSION:6,G:{jf:"data",Wd:"pushClicks",Pc:"pushSubscribed",nh:"fallbackDevice",Ve:"cardUpdates",rb:"optOut",Td:"pendingData",Yd:"sdkAuthenticationSignature"},eb:1}},O=E,C={Re:"allowCrawlerActivity",zc:"baseUrl",Hf:"noCookies",Nd:"devicePropertyAllowlist",Dc:"devicePropertyWhitelist",qf:"disablePushTokenMaintenance",sf:"enableLogging",tf:"enableSdkAuthentication",Gf:"manageServiceWorkerExternally",vf:"minimumIntervalBetweenTriggerActionsInSeconds",Mf:"sessionTimeoutInSeconds",Te:"appVersion",Lf:"serviceWorkerLocation",Jf:"safariWebsitePushId",Lc:"localization",We:"contentSecurityNonce",rf:"enableHtmlInAppMessages",Se:"allowUserSuppliedJavascript",qh:"inAppMessageZIndex",sh:"openInAppMessagesInNewTab",uh:"openNewsFeedCardsInNewTab",xh:"requireExplicitInAppMessageDismissal",mh:"doNotLoadFontAwesome",Zd:"sdkFlavor",Ic:"language",rh:"openCardsInNewTab"};nction N(e){return"[object Date]"===Object.prototype.toString.call(e)}rototype.A=function(){return{u:this.$a,t:this.type,ts:this.time,s:this.sessionId,d:this.data}},K.prototype.A=var X=/^[^\x00-\x1F\x22]+$/,Z=new RegExp(/^.+@.+\..+$/),$=51200,Q="50KB",ee={};function te(e,t){this.f=e,this.H=t}(e=te.prototype).o=e.fg=e.Tg=function(e){return!!V(e,"set first name","the firstName",!0)&&mi(this.f,"first_name",e)},e.Xg=function(e){return!!V(e,"set last name","the lastName",!0)&&mi(this.f,"last_name",e)},e.Rg=e.Ug=e.Qg=e.Og=function(e){return!!V(e,"set country","the country",!0)&&mi(this.f,"country",e)},e.Vg=function(e){return!!V(e,"set home city","the homeCity",!0)&&mi(this.f,"home_city",e)},e.Wg=e.Sg=function(e){return!!T(re,e,'Email notification setting "'+e+'" is not a valid subscription type.',"User.NotificationSubscriptionTypes")&&mi(this.f,"email_subscribe",e)},e.Gd=e.Yg=e.Ng=e.wc=},e.E},e.gg=function(e,t){return!(!H(e,"add to custom user attribute array","the given key")||null!=t&&!H(t,"add to custom user attribute array","the given value"))&&qn(this.H,A.ef,e,t).h},e.G},e.z},e.A},e.Mb=function(e){this.f.Mb(e)},e.P.h},e.hg=function(e){return!V(e,"add user to subscription group","subscription group ID",!1)||0>=e.length?(O.error("addToSubscriptionGroup requires a non-empty subscription group ID"),!1):Xn(this.H,e,oe).h},e.h};var ne=/^[0-9 .\\(\\)\\+\\-]+$/,ie={MALE:"m",FEMALE:"f",OTHER:"o",UNKNOWN:"u",NOT_APPLICABLE:"n",PREFER_NOT_TO_SAY:"p"},re={OPTED_IN:"opted_in",SUBSCRIBED:"subscribed",UNSUBSCRIBED:"unsubscribed"},oe="subscribed",ae="unsubscribed";function se.R}ee.User=te,ee.User.Genders=ie,ee.User.NotificationSubscriptionTypes=re,ee.User.prototype.getUserId=te.prototype.o,ee.User.prototype.setFirstName=te.prototype.Tg,ee.User.prototype.setLastName=te.prototype.Xg,ee.User.prototype.setEmail=te.prototype.Rg,ee.User.prototype.setGender=te.prototype.Ug,ee.User.prototype.setDateOfBirth=te.prototype.Qg,ee.User.prototype.setCountry=te.prototype.Og,ee.User.prototype.setHomeCity=te.prototype.Vg,ee.User.prototype.setLanguage=te.prototype.Wg,ee.User.prototype.setEmailNotificationSubscriptionType=te.prototype.Sg,ee.User.prototype.setPushNotificationSubscriptionType=te.prototype.Gd,ee.User.prototype.setPhoneNumber=te.prototype.Yg,ee.User.prototype.setAvatarImageUrl=te.prototype.Ng,ee.User.prototype.setLastKnownLocation=te.prototype.wc,ee.User.prototype.setCustomUserAttribute=te.prototype.Ed,ee.User.prototype.addToCustomAttributeArray=te.prototype.gg,ee.User.prototype.removeFromCustomAttributeArray=te.prototype.Gg,ee.User.prototype.incrementCustomUserAttribute=te.prototype.zg,ee.User.prototype.addAlias=te.prototype.fg,ee.User.prototype.setCustomLocationAttribute=te.prototype.Pg,ee.User.prototype.addToSubscriptionGroup=te.prototype.hg,ee.User.prototype.removeFromSubscriptionGroup=te.prototype.Hg,se.prototype.hd=function(){},se.prototype.kd=function(){},se.prototype.kb=function(){};var le={Ld:"Chrome",Ec:"Edge",Fc:"Internet Explorer",Sd:"Opera",Qc:"Safari",oh:"Firefo}h(ce,se),ce.prototype.hd=function(){return this.hb},ce.prototype.kd=function(){return this.version},ce.prototype})},h(fe,se),fe.prototype.hd=function(){return this.De[0]||"Unknown Browser"},fe.prototypen"},fe.prototypem)},he.prototype})};var de=[{U:navigator.platform,M:"Win",R:"Windows"},{U:navigator.platform,M:"Mac",R:"Mac"},{U:navigator.platform,M:"BlackBerry",R:"BlackBerry"},{U:navigator.platform,M:"FreeBSD",R:"FreeBSD"},{U:navigator.platform,M:"OpenBSD",R:"OpenBSD"},{U:navigator.platform,M:"Nintendo",R:"Nintendo"},{U:navigator.platform,M:"SunOS",R:"SunOS"},{U:navigator.platform,M:"PlayStation",R:"PlayStation"},{U:navigator.platform,M:"X11",R:"X11"},{U:navigator.userAgent,M:["iPhone","iPad","iPod"],R:"iOS"},{U:navigator.platform,M:"Pike v",R:"iOS"},{U:navigator.userAgent,M:["Web0S"],R:"WebOS"},{U:navigator.platform,M:["Linux armv7l","Android"],R:"Android"},{U:navigator.userAgent,M:["Android"],R:"Android"},{U:navigator.platform,M:"Linux",R:"Linux"}],pe=new he;function ge(e,t){this.kc=e,this.totype.clearD])};var De={dc:"ab.storage.userId",Cc:"ab.storage.deviceId",La:"ab.storage.sessionId"},Oe={Rc:"ab.test",Qb:"ab.storage.events",Ja:"ab.storage.attributes",yc:"ab.storage.attributes.anonymous_user",Xb:"ab.storage.device",$d:"ab.storage.sdk_metadata",be:"ab.storage.session_id_for_cached_metadata",cc:"ab.storage.pushToken",Mc:"ab.storage.newsFeed",Kc:"ab.storage.lastNewsFeedRefresh",pb:"ab.storage.cardImpressions",ae:"ab.storage.serverConfig",Sc:"ab.storage.triggers",Tc:"ab.storage.triggers.ts",Bf:"ab.storage.lastTriggeredTime",Af:"ab.storage.lastTriggeredTimesById",Cf:"ab.storage.lastTriggerEventDataById",$b:"ab.storage.messagingSessionStart",qb:"ab.storage.cc",Vb:"ab.storage.ccLastFullSync",Ub:"ab.storage.ccLastCardUpdated",ab:"ab.storage.ccClicks",bb:"ab.storage.ccImpressions",sa:"ab.storage.ccDismissals",Zb:"ab.storage.lastDisplayedTriggerTimesById",Jc:"ab.storage.lastDisplayedTriggerTime",tb:"ab.storage.triggerFireInstancesById",cb:"ab.storage.signaturototype.$},Ce.prototype.st1}},Ce.prototypl}},Ce.prototype.rem1}},Te.prototype:e},Te.prototype.store=function(e,t){for(var n=P(De),i=document.cookie.split(";"),r=0;r<i.length;r++){for(var o=i[r];" "===o.charAt(0);)o=o.substring(1);for(var a=!1,s=0;s<n.length;s++)if(0===o.indexOf(n[s])){a=!0;break}a&&(-1===(o=o.split("=")[0]).indexOf("."+this.$)&&Ne(this,o))}return(n=new Date).setTime(n.getTime()+6e4*this.ne),n="expires="+n.toUTCString(),i="domain="+this.ue,t=this.ye?t:encodeURIComponent(JSON.stringify(t)),4093<=(e=this.Pa(e)+"="+t+";"+n+";"+i+";path=/").length?(O.info("Storage failure: string is "+e.length+" chars which is too large to store as a cookie."),!1):(document.cookie=e,!0)},Te.prototypll},Te.prototype.rem))},Me.prototype.st,!0)},Me.prototalue},Me.prototype.rnull},xe.prototype.rn n},xe.prototnull},xe.prototype.re(e)},Pe.prototb[e]},Pe.prototb={}};var Gidtc.Uon=e},bc:{Ud:0,Rnull}function je(e){return null==e.X&&(e.X=new Pet}ee.WindowUtils=Ge,ee.WindowUtils.openUri=Ge.Eg,(e=Be.prototype).Pb=function(e){return Re(je(this),e)}),e)N(e).K()}d=!0}is))},!0)}t))}};var We=-1,Ve={Sb:"captioned_image",fe:"text_announcement",ac:"short_news",Rb:"banner_image",Ac:"control"},He={ua:"id",xa:"v",ta:"db",Xd:"r",ca:"ca",ka:"p",ba:"ea",ha:"e",TYPE:"tp",va:"i",Ma:"tt",Ka:"ds",URL:"u",wa:"dm",qa:"ar",ra:"cl",V:"t"},qe={ua:"id",xa:"v",ta:"db",Wb:"cr",ca:"ca",ka:"p",Tb:"t",ba:"ea",ha:"e",TYPE:"tp",va:"i",Ma:"tt",Ka:"ds",URL:"u",wa:"dm",qa:"ar",ra:"cl",V:"s"},Jh,d)}function Xe(e,t,n,i,r,o,a,s,u,l,c,f,h,d,p,g){Be.call(this,e,t,n,i,r,o,a,s,u,l,c,f,h,d}function nt(e,t){if(null!=t){e.Xf=null;var n=-1===t.className.indexOf("ab-in-app-message")?t.getElementsByClassName("ab-in-app-message")[0]:t,i=!1;eOut}(e,n));var r=document.body;if(null!=r)var o=r.scrollyd()},i?setTimeout(n,Dt):n(),e.Zf&&e.Zf.foclt()}ee.Card=Be,ee.Card.fromContentCardsJson=ze,ee.Card.prototype.dismissCard=Be.prototype.tg,ee.Card.prototype.subscribeToClickedEvent=Be.prototype.Pb,ee.Card.prototype.subscribeToDismissedEvent=Be.prototype.Hd,ee.Card.prototype.removeSubscription=Be.prototype.N,ee.Card.prototype.removeAllSubscriptions=Be.prototype.K,h(Ye,Be),Ye.prototst,e},ee.Banner=Ye,h(Xe,Be),Xe.prototype.A=function(){var e={};return e[qe.TYPE]=Ve.Sb,e[qe.ua]=this.id,e[qe.xa]=this.viewed,e[qe.Ma]=this.title,e[qe.va]=this.imageUrl,e[qe.Ka]=this.description,e[qe.ca]=this.updated,e[qe.Wb]=this.created,e[qe.Tb]=this.categories,e[qe.ba]=this.expiresAt,e[qe.URL]=this.url,e[qe.wa]=this.linkText,e[qe.qa]=this.aspectRatio,e[qe.ha]=this.extras,e[qe.ka]=this.pinned,e[qe.ta]=this.dismissible,e[qe.ra]=this.clicked,e[qe.V]=this.test,e},ee.CaptionedImage=Xe,h(Ze,Be),Ze.prototst,e},ee.ClassicCard=Ze,h($e,Be),$e.prototst,e},ee.ControlCard=$e,(e=Qe.prototype).Je=function(){return!0},e.Pb=function(e){return Re(this.X,e)},e.Hd=function(e){return Re(this.fc,e)N(e).K()}=!0)},e.Ya=function(){return!this.Oa&&(this.Oa=!0,Ue(this.X),!0)},e.yd=function(){return!this.oe&&(this.oe=!0,Ue(this.fc),!0)}.Xf)};var rt={Md:4281545523,Uc:4294967295,Kd:4278219733,lf:4293914607,mf:4283782485,Kf:3224580915,kf:4288387995},ot={ph:"hd",lh:"ias",vh:"of",nf:"do",ub:"umt",sb:"tf",Od:"te"},at="BOTTOM",st={TOP:"TOP",BOTTOM:at},ut="NONE",lt={NEWS_FEED:"NEWS_FEED",URI:"URI",NONE:ut},ct="AUTO_DISMISS",ft={AUTO_DISMISS:ct,MANUAL:"SWIPE"},ht="NONE",dt={NONE:ht,BLANK:"BLANK"},pt="TOP",gt={TOP:pt,GRAPHIC:"GRAPHIC"},bt="CENTER",vt={START:"START",CENTER:bt,END:"END"},mt="FIT_CENTER",yt={CENTER_CROP:"CENTER_CROP",FIT_CENTER:mt},wt="SLIDEUP",St="MODAL",Et="MODAL_STYLED",At="FULL",_t="WEB_HTML",kt="HTML",Dt=500,Ot="ab-show",Ct="ab-hide",Tt="ab-pause-scrolw Pe}ee.InAppMessage=Qe,ee.InAppMessage.SlideFrom=st,ee.InAppMessage.ClickAction=lt,ee.InAppMessage.DismissType=ft,ee.InAppMessage.OpenTarget=dt,ee.InAppMessage.ImageStyle=gt,ee.InAppMessage.TextAlignment=vt,ee.InAppMessage.Orientation={PORTRAIT:"PORTRAIT",LANDSCAPE:"LANDSCAPE"},ee.InAppMessage.CropType=yt,ee.InAppMessage.fromJson=tt,ee.InAppMessage.prototype.subscribeToClickedEvent=Qe.prototype.Pb,ee.InAppMessage.prototype.subscribeToDismissedEvent=Qe.prototype.Hd,ee.InAppMessage.prototype.removeSubscription=Qe.prototype.N,ee.InAppMessage.prototype.removeAllSubscriptions=Qe.prototype.K,ee.InAppMessage.prototype.closeMessage=Qe.prototype.rg,It.prototype.Pb=function(e){return Re(this.X,e)},It.prototN(e)},It.protot.K()},It.prototy,!0)};var Nt,Mt=-1;function xt(e){this.trigge)}function Bt(e,t){this.cards=e,this.lastUpdated=t}ee.InAppMessageButton=It,ee.InAppMessageButton.prototype.subscribeToClickedEvent=It.prototype.Pb,ee.InAppMessageButton.prototype.removeSubscription=It.prototype.N,ee.InAppMessageButton.prototype.removeAllSubscriptions=It.prototype.K,ee.ControlMessage=xt,h(Pt,Qe),ee.FullScreenMessage=Pt,h(Rt,Qe),Rt.prototy),!0},ee.HtmlMessage=Rt,h(Ut,Qe),ee.ModalMessage=Ut,h(Gt,Qe),Gt.prototyrn!1},ee.SlideUpMessage=Gt,Bt.prototyrn e},Bt.prototype.Va=function(e,t){e.Va(t)},Bt.prototya(t)};var j=[]}function zt(e){this.I))}ee.Feed=Bt,ee.Feed.prototype.getUnreadCardCount=Bt.prototype.Ie,h(Lt,Bt),Lt.prototyhis)},Lt.prototype.Va=function(e,t){e.Va(t,!0)},Lt.prototy,!0)},ee.ContentCards=Lt,ee.ContentCards.prototype.getUnviewedCardCount=Lt.prototype.yg,zt.prototye[0]},zt.prototype.A=function(){return this.Ta},Kt.prototyrn!1},Kt.prototv:e}};var Wt=1,Vt=2,Ht=3,qt=4,Jt=5,Yt=6,Xt=10,Zt=11,$t=12,Qt=15,en=16,tn=17,nn="date";function rn(e){this.filt(t)}function sn(e,t){this.Ta=e,this.Xa=t}function un(e,t){this.Qa=e,this.Ab=t}function ln(e){this.Wa=e}function cn(e,t){this.Wa=e,this.Xa=t}function fn(e){this.Qa=e}rn.prototyrn t},rn.prototrn e},sn.prototype.ea=function(e){if(null==this.Ta||null==this.Xa)return!1;var t=e[1];return e[0]===this.Ta&&this.Xa.ea(t)},sn.prototype.A=function(){return{e:this.Ta,pf:this.Xa.A()}},un.prototyt&&n},un.prototype.A=function(){return this.Qa},ln.prototys.Wa},ln.prototype.A=function(){return this.Wa},cn.prototya(t)},cn.prototA()}},fn.prototy.Qa)},fn.prototype.A=function(){return this.Qa};var hn={OPEN:"open",Oc:"purchase",Vd:"push_click",Bc:"custom_event",Yb:"iam_click",V:"test"};function dn(e,t){this.type=e,this.d)}dn.prototull}};var mn="open",yn="purchase",wn="purchase_property",Sn="push_click",En="custom_event",An="custom_event_property",_n="iam_click",kn="test",d)}Dn[mn]=hn.OPEN,Dn[yn]=hn.Oc,Dn[wn]=hn.Oc,Dn[Sn]=hn.Vd,Dn[En]=hn.Bc,Dn[An]=hn.Bc,Dn[_n]=hn.Yb,Dn[kn]=hn.V,On.protot.Aa}};var In=-1,Nn={Gc:"inapp",ee:"templated_e)}}function Pn(e,t,n,i,r,o,a,s,u,l,c,f){var h=this;this.$=e,this.ag=t,this.we=n,this.Uf=i,this.vb=r,this.fb=0,this.ic=l.P.Ge,this.re=null,this.D=o,this.ec=a,this.f=s,this.J=u,this.b=l,this.W=f,this.Sf=c,this.Xc=new Pe,this.yb=["npm"],this.Pf=50,this.Na=0,function(e,t){Re(e.Yc,t)}(tNa=0}),this.Rf=1e3,this.Qn!1}function Gn(e,t,n,r,o,a,s,u){null==r&&(r=!0),r&&Hn(e);var l=we(ern e}(e.b),f=function(e){var t=(new Date).valueOf(),n=hi(e.J).wd,i=Ee(e.b,Oe.$b);return(null==i||null!=n)&&((n=null==i||t-i>1e3*n)&&Se(e.b,Oe.$b,t),n)}(e.D);if(0<l.length)for(var h=e.f.o(),d=i(l),p=d.next();!p.done;p=d.next()){var g=null==(p=p.value).$a&&null==h||p.$a===h;p.type===A.ce&&g&&(f=!0)}if(!u&&!f&&e.Na>=e.Pf)O.info("Declining to flush data due to 50 consecutive authentication failures");else if(u=n||f,!r||0!==l.length||0!==c.length||t||u){var b=!1,v=function(t,n){var i=!1;xn({url:e.vb+"/data/",data:t,headers:n,h:function(r){if(null!=t.respond_with&&t.respond_with.triggers&&(e.fb=Math.max(e.fb-1,0)),Un(e,t,r,n)){e.Na=0;var a=e.J;if(null!=r&&null!=r.config){var s=r.config;if(s.time>hi(a).Jb){var u=!1;null!=(s=new ci(s.time,s.events_blacklist,s.attributes_blacklist,s.purchases_blacklist,s.messaging_session_timeout,s.vapid_public_key,s.content_cards)).pa&&hi(a).pa!==s.pa&&(u=!0);var l=!1;null!=s.Bb.enabled&&(hi(a).Bb.enabled||!1)!==s.Bb.enabled&&(l=!0),a.lc=s,Se(a.b,Oe.ae,s.A()),u&&Ue(a.bd),l&&Ue(a.je)}}null!=t.respond_with&&t.respond_with.user_id!=e.f.o()||(null!=t.device&&Se(e.b,Oe.Xb,t.device),null!=t.sdk_metadata&&(Se(e.b,Oe.$d,t.sdk_metadata),Se(e.b,Oe.be,e.D.Fb())),e.Sf(r),"function"==typeof o&&o())}else r.auth_error&&(i=!0)},&a(=!0)}e:""},y={};for(n=m(e.f.o()),(t||u)&&(y[n]=Fn(e,t,u),u&&e.fbh(n)},u=(l=i(l)).next();!u.done;u=l.next())t("events",u.value.qc());for(l=(c=i(c)).next();!l.done;l=c.next())t("attributes",l.value);for(var w in c=!1,l={},y)e.W.xb&&w!==n?jn(e,y[w]):(l.ob=Rn(e,y[w]),l.xc=zn(e,l.ob),Bnxc)}}(l)),c=!0),l={ob:l.ob,xc:l.xc};r&&!c?Vn(e):f&&(O.info("Invoking new session subscriptions"),Ue(e.Xc))}else Vn(e),"function"==typeof s&&}}function zn(e,t){var n=[["X-Braze-Api-Key",e.$]],i=!1;return null!=t.respond_with&&t.respond_with.triggers&&(n.push(["X-Braze-TriggersRequest","true"]),i=!0),null!=t.respond_with&&t.respond_with.feed&&(n.push(["X-Braze-FeedRequest","true"]),i=!0),i&&n.push(["X-Braze-DataRequest","true"]),e.W.xb&&(null!=(e=Ee(e.W.b,Oe.cb))&&n.push(["X-Braze-Auth-Signature",e=Pn.prototype).Za=function(e,t,n,i,r){var o=this,a=Rn(this,{});a.last_full_sync_at=e,a.last_card_updated_at=t,null!=(e=this.f.o())&&(a.user_id=e);var s=[["X-Braze-Api-Key",this.$],["X-Braze-DataRequest","true"],["X-Braze-ContentCardsRequest","true"]];this.W.xb&&(null!=(e=Ee(this.W.b,Oe.cb))&&s.push(["X-Braze-Auth-Signature",e])),Bn(a,function(){xn({url:o.vb+"/content_cards/sync",data:a,header&r()},&r()}})})}his)}null})})}}"+t)}his)},!0)},!0)}),n)}),o)}j),a}j),t},e.sd=function(e){var t=new Ft,n=bi(this.D);return e.Ya()?null==(e=Kn(e))?t:(t.j.push(new L(this.f.o(),A.Qd,(new Date).valueOf(),n,e)),t.h=ye(this.b,t.j),t):(O.info("This in-app message has already received a click. Ignoring analytics event."),t)}),n)},e.td=function(e,t,n){var i=new Ft,r=bi(this.D);return e.Ya(n)?null==(e=Kn(e))?i:(n=A.Qd,null!=t&&(e.bid=t,n=A.Pd),i.j.push(new L(this.f.o(),n,(new Date).valueOf(),r,e)),i.h=ye(this.b,i.j),i):(O.info("This in-app message has already received a click. Ignoring analytics event."),i)j),n},e.Va=function(e,t){for(var n=new Ft,i=bi(this.D),r=[],o=[],a=t?Ee(this.b,Oe.bb)||{}:Ee(this.b,Oe.pb)||{},s=0;s<e.length;s++)e[s].zd(),e[s]instanceof $e?o.push(e[s]):r.push(e[s]),a[e[s].id]=!0;return e=Wn(r),o=Wn(o),null==e&&null==o?n:(Se(this.b,t?Oe.bb:Oe.pb,a),null!=e&&n.j.push(new L(this.f.o(),t?A.af:A.Ye,(new Date).valueOf(),i,e)),null!=o&&t&&n.j.push(new L(this.f.o(),A.cf,(new Date).valueOf(),i,o)),n.h=ye(this.b,n.j),n)},e.Ua=function(e,t){var n=new Ft,i=bi(this.D);if(e.Ya(),null==e.url||""===e.url)return O.info("Card "+e.id+" has no url. Not logging click to Braze servers."),n;if(t){var r=Ee(this.b,Oe.ab)||{};r[e.id]=!0,Se(this.b,Oe.ab,r)}return null==(e=Wn([e]))?n:(n.j.push(new L(this.f.o(),t?A.Ze:A.Xe,(new Date).valueOf(),i,e)),n.h=ye(this.b,n.j),n)},e.pd=function(e){var t=new Ft,n=bi(this.D);if(!e.yd())return O.info("Card "+e.id+" refused this dismissal. Ignoring analytics event."),t;var i=Ee(this.b,Oe.sa)||{};return i[e.id]=!0,Se(this.b,Oe.sa,i),null==(e=Wn([e]))?t:(t.j.push(new L(this.f.o(),A.$e,(new Date).valueOf(),n,e)),t.h=ye(this.b,t.j),t)}h(t)};var Zn={BROWSER:"browser",BROWSER_VERSION:"browserVersion",OS:"os",RESOLUTION:"resolution",LANGUAGE:"language",TIME_ZONE:"timeZone",USER_AGENT:"userAge=t}function ei(e){var t=me(e.b,De.Cc);null==t&&(t=new K(p.Gb()),be(e.b,De.Cc,t)),t=new $n(t.ga);for(var n=0;n<e.me.length;n++){var i=e.me[n];switch(i){case"browser":t[i]=pe.hb;break;case"browserVersion":t[i]=pe.version;break;case"os":var r=pe.ia?pe.ia||null:(r=Ee(e.b,Oe.Xb))&&r.os_version?r.os_version:pe.kb();t[i]=r;break;case"resolution":t[i]=screen.width+"x"+screen.height;break;case"language":t[i]=pe.language;break;case"timeZone":e:{if(r=new Date,"undefined"!=typeof Intl&&"function"==typeof Intl.DateTimeFormat)try{if("function"==typeof Intl.DateTimeFormat().resolvedOptions){var o=Intl.DateTimeFormat().resolvedOptions().timeZone;if(null!=o&&""!==o){var a=o;break e}}}catch(e){O.info("Intl.DateTimeFormat threw an error, probably https://bugs.chromium.org/p/chromium/issues/detail?id=811403, falling back to GTM offset: "+e.message)}a=r.getTimezoneOffset(),r=parseInt(a/60);var s=parseInt(a%60),u="GMT";0!==a&&(u=u+(0>a?"+":"-")+("00"+Math.abs(r)).slice(-2)+":"+("00"+Math.abs(s)).slice(-2)),a=u}t[i]=a;break;case"userAgent":t[i]=pe.userAgent}}ret}function ai(e,t,n,i){var d),t}(t),s=null,u=null;if(null!=t.getKey)try{s=btoa(String.fromCharCode.apply(null,new Uint8Array(t.getKey("p256dh")))),u=btoa(String.fromCharCode.apply(null,new Uint8Array(t.getKey("auth"))))}catch(r){if("invalid arguments"!==r.message)throw r}t=(r=t).options&&(o=r.options.applicationServerKey)&&o.byteLength&&0<o.byteLength?btoa(String.fromCharCode.apply(null,new Uint8Array(o))).replace(/\+/g,"-").replace(/\//g,"_"):null,e.Da.Ad(a,i,s,u,t),a&&"function"==typeof n&&n(an ction Ii(e,t,n,iw.")}switch(t.type){case Nn.Gc:var s=tt(t.data);if(null==s){O.error("Could not parse trigger data for trigger "+t.id+", ignoring."),e.H.T(t.id,ot.ub);break}a(s);break;case Nn.ee:if(nuli,r)}(t.dr,o)},n,t.Ha))){O.error("Could not parse trigger data for trigger "+t.id+", ignoring."),e.H.T(t.id,ot.ub);break}!function e(t,n,i,r,o){var a=Fn(t,!1,!1);(a=Rn(t,a)).template={trigger_id:n.Ia,trigger_event_type:i},null!=r&&(a.template.data=r.qc());var s=zn(t,a);Bn(a,function(){xn({url:t.vb+"/template/",data:a,headere())},a,s)}})})}(e.H,s,i,r);break;default:O.error("Trigger "+t.id+" was of unexpected type "+t.type+", ignoring."),e.H.T(t.id,ot.L)}ee.DeviceProperties=Zn,$n.prototyt),e},ti.prototyacy)},ti.prototyage)},ti.prototype.watchPos.Nc)},ii.protot.pa}},(e=ri.prototyps.$c}e||t}sion}:t()},e.subscribe=function(e,t,n){var i=this;if(e=this.ve||e,this.oa())if(this.mc){if(!this.Wc&&null!=window.location){var r=this.xe;if(-1===r.indexOf(window.location.host)&&(r=window.location.host+r),-1===r.indexOf(window.location.protocol)&&(r=window.location.protocol+"//"+r),0!==window.location.href.indexOf(r.substr(0,r.lastIndexOf("/")+1)))return void O.error("Cannot subscribe to push from a path higher than the service worker location (tried to subscribe from "+window.location.pathname+" but service worker is at "+r+")")}if(this.Ga())si(this,"Notifications from this site are blocked. This may be a temporary embargo or a permanent denial.",n);else if(this.J&&!hi(this.J).pa&&0===hi(this.J).Jb)O.info("Waiting for VAPID key from server config before subscribing to puke=t}(tt,n)});else{var o=this.(!1)})}}else this.$c&&(null==e||""===e?O.error("You must supply the safariWebsitePushId argument in order to use registerAppboyPushMessages on Safari"):(r=window.safari.pushNotification.permission(e),function e(t,n,i,r,o){if("default"===i.permission)try{window.safari.pushNotification.requestPermission(t.$f,n,{api_key:t.$,device_id:ei(t.ecr,o)})}catch(e){si(t,"Could not request permission for push: "+e,o)}else"denied"===i.permission?si(t,"The user has blocked notifications from this site, or Safari push is not configured in the Braze dashboard.",o):"granted"===i.permission&&(O.info("Device successfully subscribed to push."),ai(t,i.deviceToken,r,new Date))}(this,e,r,t,n)));else O.info(this.Nc)},e.unsubs.Nc)},ci.protot.Bb}},pi.prototye.ga},vi.prototrn t},vi.prototy",n)},vi.prototy,!0)},vi.prototy!1)}},yi.prototy.Yc)},yi.prototye,e)},wi.prototype.Hb=function(){},wi.prototype.Ra=function(){},wi.prototype.clearData=function(){},h(Si,wi),(e=Si.prototyps.ya}0))}},e.oc=function(){for(var e=[],t=0;t<this.B.length;t++)e.push(this.B[t].A());Se(this.b,Oe.qb,e)}e,t)}(t))}.Ub)},e.cleaUb))},h(ki,wi),(e=ki.prototypKc))}c,e)}b))}}.gb)},e.cleagb))},h(Oi,wi),Oi.prototye])}},Oi.prototy))}}},Oi.prototyCf)}},Oi.prototype.cleaa=[]};var xi={GOOGLE_TAG_MANAGER:"gg",MPARTICLE:"mp",SEGMENT:"sg",TEALIUM:"tl",MANUAL:"manu",NPM:"npm",CDN:"wcd",SHOPIFY:"shp"};ee.BrazeSdkMetadata=xi,"undefined"==typeof console&&(window.console={log:function(){}});var Pi,Ri=window.Element.prototype;if("function"!=typeof Ri.matches&&(Ri.matches=Ri.msMatchesSelector||Ri.mozMatchesSelector||Ri.webkitMatchesSelee[t]}),Element.prototype.closest||(Element.prototype.clnull}),"function"!=typeof window.CustomEvent){vl),n};Ui.prototype=window.Event.prototype,window.CustomEvent=Ui}"object"==typeof module&&module.exports?Pi=module.exports:(window.appboy||(window.appboy={}),Pi=window.appboy);var Gi,Bi=Pi,ji=new functi!0}null==e&&(t,n)},lg:function(e,t){return new Qn(e,to,lw Pe,t)},kg:function(e,t,n,i){return new Si(e,t,n,in,i],ai(e)}});var o,a,s,u,l,c,f,h,d,b,v,m,E,N,M,R,U=new Pe,G=new Pe,B=[],j=!1,F=!1;return{Jh:function(e){return Re(U,eG,e)},nd:function(n,r){if(j)return O.info("Braze has already been initialized with an API key."),!0;if(O.md(null!=r&&r[C.sf]),null==n||""===n||"string"!=typeof n)return O.error("Braze requires a valid API key to be initialized."),!1;if(o=n,s=r||{},pe.Ag&&!s[C.Re])return O.info("Ignoring activity from crawler bot "+navigator.userAgent),F=!0,! Me)}(n,s[C.Hf]||!1);var p=new Te(null,!0);if(p.Z("ab.optOut"))return O.info("Ignoring all activity due to previous opt out"),p.store("ab.optOut","This-cookie-will-expire-in-"+Ie(p)),F=!0,!1;for(var g=(p=i(x(s))).next();!g.done;g=p.next())g=g.value,-1===P(C).indexOf(g)&&O.warn("Ignoring unknown initialization option '"+g+"'.");p=["mparticle","wordpress","tealium"],null!=s[C.Zd]&&(g=s[C.Zd],-1!==p.indexOf(g)?u=g:O.error("Invalid sdk flavor passed: "+g));var y=[];if(d=e.rc(),B.push(d),b=e.mg(d,r),y.push(b),N=e.rc(),B.push(N),null==(p=s[C.zc])||""===p||"string"!=typeof p)return O.error("Braze requires a valid SDK Endpoint to be initialized. Please set the 'baseUrl' initialization option to the value of your SDK Endpoint."),!1;if(0!==(p=p.replace(/(\.[a-z]+)[^\.]*$/i,"$1/api/v3")).indexOf("http")&&(p="https://"+p),g=s[C.Nd]||s[C.Dc],s[C.Dc]&&t(C.Dc,"initialization option",C.Nd),null!=g)if(I(g)){for(var w=[],S=0;S<g.length;S++)T(Zn,g[S],"devicePropertyAllowlist contained an invalid value.","DeviceProperties")&&w.push(g[S]);g=w}else O.error("devicePropertyAllowlist must be an array. Defaulting to all properties."),g=null;return h=e.lg(r,g),g=new fi(r),f=e.rc(),c=e.jg(r,s[C.tf],f),B.push(f),l=e.pg(o,p,"3.5.1b(e)},r,h,g,c),null==(w=s[C.vf])&&(w=30),E=e.qg(w,N,r,l),y.push(E),w=!0===s[C.Se]||!0===s[C.rf],null!=s.enableHtmlInAppMessages&&t("enableHtmlInAppMessages","initialization option","allowUserSuppliedJavascript"),v=e.rc(),B.push(v),m=e.kg(v,l,r,g,w),y.push(m),function(e,t){Re(e.je,t)}(g,function(){m.Zc,t)}(l,function(){m.Za()}),l.nd(),M=e.og(l.lb(),o,h,p,s,g,r),R=e.ng(l.lb()),r="Initialized ",s&&s[C.zc]&&(r+='for the Braze backend at "'+s[C.zc]+'" '),O.info(r+'with API key "'+n+'".'),n=pe.language,r=!1,s&&(s[C.Ic]&&(t(C.Ic,"initialization option",C.Lc),n=s[C.Ic],r=!0),s[C.Lc]&&(n=s[C.Lc],r=!0)),function(e,t){if(Nt={en:{NO_CARDS_MESSAGE:"We have no updates for you at this time.<br/>Please check again later.",FEED_TIMEOUT_MESSAGE:"Sorry, this refresh timed out.<br/>Please try again later."},ar:{NO_CARDS_MESSAGE:"Ù„ÙŠØ³ Ù„Ø¯ÙŠÙ†Ø§ Ø£ÙŠ ØªØ­Ø¯ÙŠØ«. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ø§Ø­Ù‚Ø§Ù‹",FEED_TIMEOUT_MESSAGE:"ÙŠØ±Ø¬Ù‰ ØªÙƒØ±Ø§Ø± Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§"},cs:{NO_CARDS_MESSAGE:"V tuto chvÃ­li pro vÃ¡s nemÃ¡me Å¾Ã¡dnÃ© aktualizace.<br/>Zkontrolujte prosÃ­m znovu pozdÄ›ji.",FEED_TIMEOUT_MESSAGE:"ProsÃ­m zkuste to znovu pozdÄ›ji."},da:{NO_CARDS_MESSAGE:"Vi har ingen updates.<br/>PrÃ¸v venligst senere.",FEED_TIMEOUT_MESSAGE:"PrÃ¸v venligst senere."},de:{NO_CARDS_MESSAGE:"Derzeit sind keine Updates verfÃ¼gbar.<br/>Bitte spÃ¤ter noch einmal versuchen.",FEED_TIMEOUT_MESSAGE:"Bitte spÃ¤ter noch einmal versuchen."},es:{NO_CARDS_MESSAGE:"No tenemos actualizaciones.<br/>Por favor compruÃ©belo mÃ¡s tarde.",FEED_TIMEOUT_MESSAGE:"Por favor intÃ©ntelo mÃ¡s tarde."},"es-mx":{NO_CARDS_MESSAGE:"No tenemos ninguna actualizaciÃ³n.<br/>Vuelva a verificar mÃ¡s tarde.",FEED_TIMEOUT_MESSAGE:"Por favor, vuelva a intentarlo mÃ¡s tarde."},et:{NO_CARDS_MESSAGE:"Uuendusi pole praegu saadaval.<br/>Proovige hiljem uuesti.",FEED_TIMEOUT_MESSAGE:"Palun proovige hiljem uuesti."},fi:{NO_CARDS_MESSAGE:"PÃ¤ivityksiÃ¤ ei ole saatavilla.<br/>Tarkista myÃ¶hemmin uudelleen.",FEED_TIMEOUT_MESSAGE:"YritÃ¤ myÃ¶hemmin uudelleen."},fr:{NO_CARDS_MESSAGE:"Aucune mise Ã  jour disponible.<br/>Veuillez vÃ©rifier ultÃ©rieurement.",FEED_TIMEOUT_MESSAGE:"Veuillez rÃ©essayer ultÃ©rieurement."},he:{NO_CARDS_MESSAGE:".××™×Ÿ ×œ× ×• ×¢×“×›×•× ×™×. ×‘×‘×§×©×” ×‘×“×•×§ ×©×•×‘ ×‘×§×¨×•×‘",FEED_TIMEOUT_MESSAGE:".×‘×‘×§×©×” × ×¡×” ×©×•×‘ ×‘×§×¨×•×‘"},hi:{NO_CARDS_MESSAGE:"à¤¹à¤®à¤¾à¤°à¥‡ à¤ªà¤¾à¤¸ à¤•à¥‹à¤ˆ à¤…à¤ªà¤¡à¥‡à¤Ÿ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆà¤‚à¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤¬à¤¾à¤¦ à¤®à¥‡à¤‚ à¤«à¤¿à¤° à¤¸à¥‡ à¤œà¤¾à¤à¤š à¤•à¤°à¥‡à¤‚.à¥¤",FEED_TIMEOUT_MESSAGE:"à¤•à¥ƒà¤ªà¤¯à¤¾ à¤¬à¤¾à¤¦ à¤®à¥‡à¤‚ à¤¦à¥‹à¤¬à¤¾à¤°à¤¾ à¤ªà¥à¤°à¤¯à¤¾à¤¸ à¤•à¤°à¥‡à¤‚à¥¤."},id:{NO_CARDS_MESSAGE:"Kami tidak memiliki pembaruan. Coba lagi nanti.",FEED_TIMEOUT_MESSAGE:"Coba lagi nanti."},it:{NO_CARDS_MESSAGE:"Non ci sono aggiornamenti.<br/>Ricontrollare piÃ¹ tardi.",FEED_TIMEOUT_MESSAGE:"Riprovare piÃ¹ tardi."},ja:{NO_CARDS_MESSAGE:"ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br/>å¾Œã§ã‚‚ã†ä¸€åº¦ç¢ºèªã—ã¦ãã ã•ã„ã€‚",FEED_TIMEOUT_MESSAGE:"å¾Œã§ã‚‚ã†ä¸€åº¦è©¦ã—ã¦ãã ã•ã„ã€‚"},ko:{NO_CARDS_MESSAGE:"ì—…ë°ì´íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ìŒì— ë‹¤ì‹œ í™•ì¸í•´ ì£¼ì‹­ì‹œì˜¤.",FEED_TIMEOUT_MESSAGE:"ë‚˜ì¤‘ì— ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì‹­ì‹œì˜¤."},ms:{NO_CARDS_MESSAGE:"Tiada kemas kini. Sila periksa kemudian.",FEED_TIMEOUT_MESSAGE:"Sila cuba kemudian."},nl:{NO_CARDS_MESSAGE:"Er zijn geen updates.<br/>Probeer het later opnieuw.",FEED_TIMEOUT_MESSAGE:"Probeer het later opnieuw."},no:{NO_CARDS_MESSAGE:"Vi har ingen oppdateringer.<br/>Vennligst sjekk igjen senere.",FEED_TIMEOUT_MESSAGE:"Vennligst prÃ¸v igjen senere."},pl:{NO_CARDS_MESSAGE:"Brak aktualizacji.<br/>ProszÄ™ sprawdziÄ‡ ponownie pÃ³Åºniej.",FEED_TIMEOUT_MESSAGE:"ProszÄ™ sprÃ³bowaÄ‡ ponownie pÃ³Åºniej."},pt:{NO_CARDS_MESSAGE:"NÃ£o temos atualizaÃ§Ãµes.<br/>Por favor, verifique mais tarde.",FEED_TIMEOUT_MESSAGE:"Por favor, tente mais tarde."},"pt-br":{NO_CARDS_MESSAGE:"NÃ£o temos nenhuma atualizaÃ§Ã£o.<br/>Verifique novamente mais tarde.",FEED_TIMEOUT_MESSAGE:"Tente novamente mais tarde."},ru:{NO_CARDS_MESSAGE:"ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹.<br/>ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ ÑĞ½Ğ¾Ğ²Ğ° Ğ¿Ğ¾Ğ·Ğ¶Ğµ.",FEED_TIMEOUT_MESSAGE:"ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºÑƒ Ğ¿Ğ¾Ğ·Ğ¶Ğµ."},sv:{NO_CARDS_MESSAGE:"Det finns inga uppdateringar.<br/>FÃ¶rsÃ¶k igen senare.",FEED_TIMEOUT_MESSAGE:"FÃ¶rsÃ¶k igen senare."},th:{NO_CARDS_MESSAGE:"à¹€à¸£à¸²à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸²à¸£à¸­à¸±à¸à¹€à¸”à¸• à¸à¸£à¸¸à¸“à¸²à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ à¸²à¸¢à¸«à¸¥à¸±à¸‡.",FEED_TIMEOUT_MESSAGE:"à¸à¸£à¸¸à¸“à¸²à¸¥à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆà¸ à¸²à¸¢à¸«à¸¥à¸±à¸‡."},uk:{NO_CARDS_MESSAGE:"ĞĞ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ–.<br/>Ğ»Ğ°ÑĞºĞ°, Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€Ñ‚Ğµ Ğ·Ğ½Ğ¾Ğ²Ñƒ Ğ¿Ñ–Ğ·Ğ½Ñ–ÑˆĞµ.",FEED_TIMEOUT_MESSAGE:"Ğ‘ÑƒĞ´ÑŒ Ğ»Ğ°ÑĞºĞ°, ÑĞ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ñ‰Ğµ Ñ€Ğ°Ğ· Ğ¿Ñ–Ğ·Ğ½Ñ–ÑˆĞµ."},vi:{NO_CARDS_MESSAGE:"ChÃºng tÃ´i khÃ´ng cÃ³ cáº­p nháº­t nÃ o.<br/>Vui lÃ²ng kiá»ƒm tra láº¡i sau.",FEED_TIMEOUT_MESSAGE:"Vui læœ‰"æšr/>D_TIMEOUT_MESSAGE:"è«‹ç¨å€™å†è©¦."},"zh-tw":{NO_CARDS_MESSAGE:"æš«æ™‚æ²’æœ‰ED_TIMEOUT_MESSAGE:"è«‹ç¨å€™å†è©¦."},zh:{NO_CARDS_MESSAGE:"æš‚æ—¶æ²¡æœ‰æ›´æ–°.<br/>è¯·ç¨åå†è¯•.",FEED_TIMEOUT_MESSAGE:"è¯·ç¨å€™å†è¯•."}},null!=e&&(e=e.toLowerCase(does not yet have a localization f})"),"functi){function r(){E.na(hn.Vd,[a],h)}var o=i.lastClick,a=i.trackingString;O.info("Firing push click trigger from "+a+" push click at "+o);var s,u,c,f,h=(u=o,c=a,f=bi((s=l).D),new L(s.f.o(),A.If,u,f,{cid:c}));!function(e,t,n){bi(e.D),O.info("Requesting explicit trigger refresh."),Gn(e,null,!0,null,t,n)}(l,r,r),w(t,e.G.Wd,n)}),S(t,e.G.Ve,function(e){! n=ctingth;r++)if(i===t[r].userId||null==i&&null==t[r].userId){for(var o=t[r].card,a=null,s=0;s<e.B.length;s++)if(o.id===e.B[ll!,o)b(!lue!=e",!on(n  anessectreturn n.h}},td:function(e,t,n){if(r()){ifin(eurn).hP ERN ETB EUR FJD FKP GBP GEL GGP GHS GIP GMD GNF GTQ GYD HKD HNL HRK HTG H LK MKAR SOS WSPT cha"")hGr){l!V(,ghchPtained an invalid value.","BrazeSdkMetadata"))return!1;return l.dd(e),!0}},ah:function(){t("stopWebTracking","method","disableSDK"),null!=l&&l.nb();var e=new Te(null,!0);e.store("ab.optOut","This-cookie-will-expire-in-"+Ie(e)),new g(e=D.aa).setItem(e.G.rb,e.eb,!0),n(),F=!0},sg:function(){null!=l&&l.nb();var e=new Te(null,!0);e.store("ab.optOut","This-cookie-will-expire-in-"+Ie(e)),new g(e=D.aa).setItem(e.G.rb,e.eb,!0),n(),F=!0},Kg:function(){t("resumeWebTracking","method","enableSDK"),new Te(null,!0).remove("ab.optOut");var e=D.aa;w(new g(e),e.G.rb,e.eb),n()},ug:function(){new Te(null,!0).remove("ab.optOut");var e=D.aa;w(new g(e),e.G.rb,e.eb),n()},Bg:function(){return!!new Te(null,!0).Z("ab.optOut")},kh:function(){if(null==a)throw Error("Appboy must be initialized before calling methods.");a.clearData();for(var e=x(D),t=0;t<e.length;t++)new g(D[e[t]]).clearData();j&&(b.clearData(!0),E.clearData(!0))}}},Li={};for(Gi in ee)Li[Gi]=ee[Gi];for(var Fi in Li.initialize=ji.nd,Li.destroy=ji.Db,Li.getDeviceId=ji.xg,Li.toggleAppboyLogging=ji.Jd,Li.setLogger=ji.Fd,Li.openSession=ji.uc,Li.changeUser=ji.Ra,Li.getUser=ji.lb,Li.requestImmediateDataFlush=ji.nb,Li.requestFeedRefresh=ji.Cd,Li.getCachedFeed=ji.jd,Li.subscribeToFeedUpdates=ji.dh,Li.requestContentCardsRefresh=ji.Za,Li.getCachedContentCards=ji.Eb,Li.subscribeToContentCardsUpdates=ji.bh,Li.logCardImpressions=ji.Va,Li.logCardClick=ji.Ua,Li.logCardDismissal=ji.pd,Li.logFeedDisplayed=ji.Dg,Li.logContentCardsDisplayed=ji.Cg,Li.logInAppMessageImpression=ji.ud,Li.logInAppMessageClick=ji.sd,Li.logInAppMessageButtonClick=ji.rd,Li.logInAppMessageHtmlClick=ji.td,Li.subscribeToNewInAppMessages=ji.fh,Li.subscribeToInAppemoveSubscription=ji.N,Li.removeAllSubscriptions=ji.K,Li.logCustomEvent=ji.qd,Li.logPurchase=ji.vd,Li.isPushSupported=ji.oa,Li.isPushBlocked=ji.Ga,Li.isPushGranted=ji.od,Li.isPushPPushMessagebeToSdki.gh,Li.addSdkMetadata=ji.dd,Li.stopWebTracking=ji.ah,Li.disableSDK=ji.sg,Li.resumDK=ji.ug,Li.wipeData=ji.kh,Li.isDisableypeof t?t[Fi]=Li[Fi]:Bi[Fi]=Li[Fi];return t})}).call(window),function(){"use strict";vation(t,n,i,r){var o=r.config.version;if(!o)throw new Error("A ver[t])throw new function(e){i()]*)\)/.exec(t);return e=null,n&&(e=n[1],t=t.substring(0,n.index)),nction(e){return e.toUpperCase()})},lowerFirst:function(e){return e.charAt(0).toLowerCase()+e.slice(1)},toBool:function(e){reurn t=t||",",),function(e){return e.toUpperCase().replace(t,"")})},fromCamelCase:function(e,t){return t=t||"-",e.replace(/[A-Z]/g,function(e){return t+e.toLowerCase()})},toEventName:function(e){return e.replace(/^on([A-Z])/,function(e){return e.charAt(2).toLowerCase()})},isEventOption:function(e){return/^on([A-Z])/.test(e)}}}),define("fingifyObject(n))&&(r+="?"+n),(i=this._stringifyObject(i))&&(r+="#"+i),r},getParam:function(e,t){var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t||wir t=this.getParam(e);return t?t.split(","):null},getAllParams:function(e){var t=(e?this._getParsableUrl(e):window.location).search.substring(1),n=t.split("&"),i={};if(""===t)return{};for(var r=0;r<n.length;r++){var o=n[r].split("=");i[unescape(o[0])]=unescape(o[1])}return i},getHashParam:function(e,t){var n=(t||window.location.hash).substring(1),i="",r="";if(-1!=n.indexOf(e)){if(-1!=(i=n.substring(n.indexOf(e))).indexOf("&"))r=i.split("&")[0].split("=");else r=i.Ex=a)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5nent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,!0!==o[u]&&(s+="="+o[u].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("=""'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=t(s[0]);if(u=(i.read||i)(u,l)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(r[l]=u,e===l)break}catch(e){}}return e?r[e]:r}}return r.set=o,r.get=function(e){return a(e,!1)},r.getJSON=function(e){return a(e,!0)},rs={},r.withConverter=n,r}(function(){})}),define("fly/managers/cookie-2.0",["fly/libs/js-cookie-2.2.0"],function(e){var t={domains:{default:null}};return{init:function(e){this.setConfig(e)},setConfig:function(e){"object"==typeof e&&null!==e&&Object.assign(t,e)},set:function(n,i,r){r=r||{},("object"==typeof i&&null!==i||Array.isArray(i))&&(i=JSON.stringify(i)),r.domain?r.domain in t.domains&&(r.domain=t.domains[r.domain]):r.domain=t.domains.default,r.domain||delete r.domain,e.set(n,i,r)},get:function(t){var n,i=e.get(t);try{n=JSON.parse(i)}catch(e){n=i}return n},remove:function(t,n){e.remove(t,n)}}}),define("fly/managers/debug-2.0",["module","version!fly/utils/string-helper","version!fly/utils/url-helper","version!fly/managers/cookie"],function(e,t,n,i){var r,o,a,s={},u={queryParam:"jsDebug",cookie:{name:"fly_js_debug",domain:"default"}},l=!1,c=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};return Object.assign(u,earam)||[])?i.set(u.cookie.name,o,{path:"/",domain:u.cookie.domain}):a=i.get(u.cookie.name)||[],(o.indexOf("true")>-1||o.indexOf("all")>-1)&&(i.set(u.cookie.name,!0,{path:"/",domain:u.cookie.domain}),l=!0),(r=function(e){this.name=e,this.color="hsl("+c(0,360)+","+c(35,80)+"%,"+c(20,45)+"%)",(!0===a||Array.isArray(o)&&o.indexOf(this.name)>-1||Array.isArray(a)&&a.indexOf(this.name)>-1)&&this.enable()}).proe,t){if=t.c["error","info","log","trace","warn"].indexOf(e)&&n.unshift("%c "+this.name+" ","color:#fff;border-radius:3px;background-color:"+this.color+";"),"object"==typeof window.console&&"function"==typeof window.console[e]&&window.console[e].apply(window.console,n)}return this},disable:function(){return this.enabled=!1,this},enable:function(){return this.enabled=!0,this},error:function(){return this._call("error",arguments)},info:function(){return this._call("info",arguments)},log:function(){return this._call("log",arguments)},profile:function(){return this._call("profile",arguments)},profileEnd:function(){return this._call("profileEnd",arguments)},timeStamp:function(){return this._call("timeStamp",arguments)},trace:function(){return this._call("trace",arguments)},warn:function(){return this._call("warn",arguments)}},{init:function(e){var t=new r(e);return s[e]=t,t},get:function(e){return s[e]||this.init(e)}}}),define("third-party/braze",["libs/braze/sdk.js","version!fly/managers/debug"],f.initialize(CBSNEWS.brazeWebPush.apiKey,{baseUrl:CBSNEWS.brazeWebPush.baseUrl,enableLogging:t.enabled,manageSerbsitePushId:CBSNEWS.brazeWebPush.safariPushId,serviceWorkerLocation:"/servic){var n=t.init("push");return window.appboy=e,{isAllowed:function(){var t=e.isPushPermissionGranted();return n.log("isAllowed",t),t},isDenied:function(){var t=e.isPushBlocked();return n.log("isDenied",t),t},isSupported:function(){var t=e.isPushSupported();return n.log("isSupported",t),t},subscribe:function(t,i){n.log("Requesting permission..."),e.registerAppboyPushMessages(function(e,i,r){n.log("subscribe success",e,i,r),t({endpoint:e,publicKey:i,userAutibe:function(){n.log("Unsubscribe"),e.unregisterAppboyPushMessages(function(){n.log("Unsubscribed")},function(){n.error("Failed to unsubscribe")})}}}),window.uuid||(window.uuid={}),void 0===window.uuid.v4&&(window.uuid.v4=function(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!=e&&12!=e&&16!=e&&20!=e||(n+="-"),n+=(12==e?4:16==e?3&t|8:t).toString(16);return n}),define("fly/libs/uuid.v4",function(){}),define("managers/tealium",["version!fly/managers/debug","fly/libs/uuid.v4"],function(e){var t=e.get("tealium");return{trackingData:{},viewGuid:null,resetGuidEnabled:!0,init:function(e){this.trackingData=e,t.log("init","loading tracking data",this.trackingData)},explicitTrackView:function(e){e=Object.assign({},CBSNEWS.tracking,e);t.loking.queue.push({type:"view",data:e,callback:function(){var t=new CustomEvent("tracking:view",{detail:e});window.dispatchEvent(t)}.bind(this)})},explicitTrackLink:function(e){e=Object.assign({},CBSNEWS.tracking,e);t.log("explicitTrackLink",e),CBSNEWS.tracking.queue.push({type:"luid=e,CBSNEWS.tracking.pageViewGuid=this.viewGuid,t.log("setViewGuid",this.viewGuid)},resetViewGuid:function(){if(this.resetGuidEnabled){this.viewGuid=uuid.v4(),CBSNEWS.tracking.pageViewGuid=this.viewGuid;var e=document.createEvent("Event");e.initEvent("cbsnews.tealium.resetViewGuid",!0,!0),window.dispatchEvent(e)}return t.log("resetViewGuid",this.viewGuid),this.viewGuid},getViewGuid:function(){return this.viewGuid},syncResetViewGuid:function(){var e;return e=this.resetViewGuid(),this.resetGuidEnabled=!this.resetGuidEnabled,e},getTrackingData:function(){return this.trackingData}}}),define("managers/push-notifications",["managers/adapter-push-notifications-braze","managers/tealium","version!fly/managers/debug"],function(e,t,n){var i=n.init("push");e.isSupported()&&!e.isDenied()&&(e.isAllowed()?e.subscribe(function(e){i.log("track re-subscribe success")},function(e){i.log("track re-subscribe failure")}):(window.addEventListener("pushNotifications:open",function(){e.subscribe(function(e){i.log("track subscribe success"),t.explicitTrackLink({_clickAction:"trackClick",clickGenericText:"Allow",link_text:"pushNotificationsPrimer: Allow"})},function(e){i.log("track subscribe failure"),t.explicitTrackLink({_clickAction:"trackClick",clickGenericText:"Block"+(e.isTemporaryDenial?" (tmp)":""),link_text:"pushNotificationsPrimer: Block"+(e.isTemporaryDenial?" (tmp)":"")})})},{once:!0,passive:!0}),window.addEventListener("pushNotifications:close",function(e){i.log("track primer close"),t.explicitTrackLink({_clickAction:"trackClick",clickGenericText:e.detail.type,link_text:"pushNotificationsPrimer: "+e.detail.t!0,passive:!0}),"permissions"in navigator&&navigator.permissions.query({name:"notifications"}).then(e=>{e.onchange=(t=>{i.log("disable primer, state changed to",e.state),document.documentElement.classList.remove("push-notifications--can-subscribe")})}),document.documentElement.classList.contains("push-notifications-primer--visible")?(i.log("track primer impression"),t.explicitTrackLink({_clickAction:"trackWebPushImpression",link_text:"pushNotificationsPrimer: trackWebPushImpression"})):window.addEventListener("pushNotifications:show",function(e){i.log("track primer impression"),t.explicitTrackLink({_clickAction:"trackWebPushImpression",link_text:"pushNotificationsPrimer: trackWebPushImpression"})},{once:!0,passive:!0}),i.log("enable primer"),document.documentElement.classList.add("push-notifications--can-subscribe")))}),require(["managers/push-notifications"]),define("push-notifications",function(){});