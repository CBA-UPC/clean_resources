if (typeof gemius_hcconn != 'undefined' && typeof gemius_hcconn.fpdata != 'undefined' && (gemius_hcconn.fpdata=='' || gemius_hcconn.fpdata[0]=='-')) {
	gemius_hcconn.fpdata = "31p1D61mWA.xAXksZHoLShRxitOTLh2Td9n81tRQ.tL.37|1705988244";
	gemius_hcconn.fpcdomain = 'tvp.pl';
}
urable:!0,writable:!0}):t[e]=n,t}const h=new s.Z(a.Hn),c="weather";h.initValue(c,{});class d extends o.Z{constructor(){super(...arguments),l(this,"loadingMessage",void 0),l(this,"loadingLocationFromEvent",!1)}defineProps(){return{loadingDelay:1e3,disableAutoload:!1,fetchComponentUrl:"/ajax/nsk/weather/widget",errorMessage:"Błąd wczytywania",siteId:null,requiredStylesheets:[]}}defineUi(){return{status:`#${this.id}Status`,retry:`#${this.id}Retry`,widget:`#${this.id}Widget`}}defineEvents(){return{"click retry":"onRetryClick","loadWeather widget":"onWidgetLoadWeather"}}afterInit(){this.elExists.widget&&(this.elExists.status&&(this.loadingMessage=this.el.status.textContent),this.props.disableAutoload="true"===this.props.disableAutoload||"1"===this.props.disableAutoload||!0===this.props.disableAutoload,this.props.disableAutoload||setTimeout(this.loadWeatherForSavedLocation.bind(this),this.props.loadingDelay),this.listenForLocationInterfaceLoad(),this.props.requiredStylesheets.forEach((t=>{(0,r.h)(t,this.node)})))}onRetryClick(){this.loadWeatherComponent()}onWidgetLoadWeather(t){var e;t.preventDefault(),t.stopImmediatePropagation(),this.loadingLocationFromEvent=!0,this.loadWeatherComponent(null==t||null===(e=t.details)||void 0===e?void 0:e.location)}async loadWeatherForSavedLocation(){const t=await this.getSavedLocation()||{};this.activeLocation=t.name,this.loadWeatherComponent(this.activeLocation)}async getSavedLocation(){return await h.get(c)}loadWeatherComponent(t){this.activeLocation=t,this.elExists.status&&(this.el.status.textContent=this.loadingMessage),this.updateState(0),this.fetchWeatherComponent(t).then((e=>{this.handleWeatherComponentResponse(t,e)})).catch((()=>{this.handleWeatherComponentError(t)}))}handleWeatherComponentResponse(t,e){if(this.updateState(1),void 0!==document.createRange)return this.el.widget.append(document.createRange().createContextualFragment(e));this.el.widget.innerHTML=e}handleWeatherComponentError(t){t?this.loadWeatherComponent():this.showRetryState()}showRetryState(){this.el.status.textContent=this.props.errorMessage,this.updateState(2)}updateState(t){this.node.classList.toggle("js-error",2===t),this.node.classList.toggle("js-ready",1===t),0===t&&(this.el.widget.innerHTML="")}getNewAbortControllerSignal(){return this.abortController&&this.abortController.abort(),this.abortController=new AbortController,this.abortController.signal}fetchWeatherComponent(t){const e=this.getNewAbortControllerSignal(),n={id:this.id};return this.props.siteId&&(n.siteId=this.props.siteId),t&&(n.location=t),(new i.Z).get(this.props.fetchComponentUrl,n,{},!1,{cache:!0,signal:e})}onLocationChange(t){let{value:e}=t;if(this.activeLocation===e.name)return;const n=new Event("loadWeather",{bubbles:!0,cancelable:!0});n.details={location:e.name},this.onWidgetLoadWeather(n)}listenForLocationInterfaceLoad(){document.addEventListener(a.Jm,(t=>{t.value.localizationChangeCallback=this.onLocationChange.bind(this)}))}}},8619:(t,e,n)=>{function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{H:()=>r,_:()=>i});class i extends Error{constructor(){super(...arguments),o(this,"name","AbortError"),o(this,"message","Aborted")}}class s extends EventTarget{constructor(){super(...arguments),o(this,"aborted",!1)}}class r{constructor(){o(this,"signal",new s),o(this,"abort",(()=>{const t=new CustomEvent("abort");this.signal.dispatchEvent(t),this.signal.aborted=!0}))}}},6617:(t,e,n)=>{n.d(e,{Z:()=>r});var o=n(8619);const i=[];var s=new WeakSet;class r{constructor(){var t,e;(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t=this,e=s),e.add(t)}static getCachedRequests(){return i}ajax(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if("GET"===e&&h.cache&&i.length&&i.find((e=>e.url===t))){const{response:e}=i.find((e=>e.url===t));return Promise.resolve(e)}return new Promise(((c,d)=>{var u;if(null!==(u=h.signal)&&void 0!==u&&u.aborted)return d(new o._);const p=new XMLHttpRequest;p.open(e,t);let f={"X-Requested-With":"XMLHttpRequest"};if("GET"!==e&&(f["Content-Type"]="application/x-www-form-urlencoded"),f=this.combineObjects(f,r),this.setRequestHeaders(p,f),p.onload=()=>{let e=p.response;e&&"application/json"==p.getResponseHeader("Content-Type")&&(e=JSON.parse(p.response)),200==p.status||201==p.status||204==p.status?(h.cache&&i.push({url:t,response:e}),c(e)):d(l?p:e)},p.onerror=()=>d(new Error("Network error")),p.onabort=()=>{d(new o._)},h.signal&&function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}(this,s,a).call(this,p,h.signal),"GET"!==e){let t="";t=this.isContentMultipart(r)?this.payloadForMultipart(n):this.objectToParams(n),p.send(t)}else p.send()}))}payloadForMultipart(t){let e=new FormData;return this.buildFormData(e,t),e}buildFormData(t,e,n){if(!e||"object"!=typeof e||e instanceof Date||e instanceof File){const o=null==e?"":e;t.append(n,o)}else Object.keys(e).forEach((o=>{this.buildFormData(t,e[o],n?`${n}[${o}]`:o)}))}isContentMultipart(t){return void 0!==t["Content-Type"]&&/multipart.form-data/.test(t["Content-Type"])}combineObjects(t,e){let n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}setRequestHeaders(t,e){this.isContentMultipart(e)&&delete e["Content-Type"],Object.keys(e).forEach((function(n){t.setRequestHeader(n,e[n])}))}post(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.ajax(t,"POST",e,n,o)}get(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.ajax(`${t}${this.objectToParams(e).length?`?${this.objectToParams(e)}`:""}`,"GET",{},n,o,i)}objectToParams(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).map((n=>{if("object"==typeof t[n]){const o=""===e?n:`${e}[${n}]`;return this.objectToParams(t[n],o)}return""===e?`${n}=${t[n]}`:`${e}[${n}]=${t[n]}`})).join("&")}}function a(t,e){const n=()=>{t.abort()};e.addEventListener("abort",n),t.onreadystatechange=()=>{4===t.readyState&&e.removeEventListener("abort",n)}}},5068:(t,e,n)=>{function o(){return o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},o.apply(this,arguments)}function i(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function s(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var r=new WeakSet,a=new WeakSet,l=new WeakSet;class h{constructor(t){var e,o,s;i(this,l),i(this,a),i(this,r),this.id=t,this.configKeyPrefix=(e=h,o=h,s=c,function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(e,o),s).call(h,t),this.configuration={},this.storage=n.g.localStorage}initValue(t,e){return(e=e??{}).hasOwnProperty("ttl")||(e.ttl=e.fetchCallback?h.DEFAULT_TTL:null),this.configuration[t]=o({},e),this}has(t){return this.configuration.hasOwnProperty(t)}get(t,e){return new Promise(((n,o)=>{const i=(t,e,o)=>{o&&this.set(t,e),n(e)};if(!this.has(t))return void n(void 0);const l=new Date;let h=s(this,a,u).call(this,t);null===h||h.expires&&(e||h.expires<l.getTime())?s(this,r,d).call(this,t).then((e=>{i(t,e,!0)})).catch(o):i(t,h.value)}))}isFresh(t){const e=s(this,a,u).call(this,t);return null!==e&&(!e.expires||e.expires>(new Date).getTime())}set(t,e){if(!this.has(t))throw new Error(`Property ${t} is not configured!`);const n=s(this,l,p).call(this,t),o=this.configuration[t];let i={value:e,expires:o.ttl?(new Date).getTime()+o.ttl:null};return this.storage.setItem(n,JSON.stringify(i)),this}remove(t){if(!this.has(t))throw new Error(`Property with id '${t}' is not configured!`);this.storage.removeItem(s(this,l,p).call(this,t))}}function c(t){return"_cc_"+t+"_"}function d(t){return new Promise(((e,n)=>{if(!this.has(t))return void e(void 0);const o=this.configuration[t];if("function"==typeof o.fetchCallback)try{let t=o.fetchCallback();return"object"==typeof(i=t)&&"function"==typeof i.then?void t.then(e).catch(n):void e(t)}catch(t){n(t)}var i;!function(t){e(t.hasOwnProperty("default")?t.default:void 0)}(o)}))}function u(t){return JSON.parse(this.storage.getItem(s(this,l,p).call(this,t)))}function p(t){return this.configKeyPrefix+t}h.DEFAULT_TTL=6e4,e.Z=h},3057:(t,e,n)=>{n.d(e,{Z:()=>s});class o{constructor(t){this.component=t}bindComponentElements(){if(0===Object.keys(this.component.ui).length)return;let t,e,n;for(t in this.component.ui)Object.prototype.hasOwnProperty.call(this.component.ui,t)&&(n=this.component.ui[t],e="#"===n.charAt(0)&&-1===n.indexOf(" "),e?(this.component.el[t]=document.getElementById(n.substring(1)),this.component.elExists[t]=!!this.component.el[t]):(this.component.el[t]=this.component.node?this.component.node.querySelectorAll(n):null,this.component.elExists[t]=!!(this.component.el[t]&&this.component.el[t].length>0)))}bindComponentEvents(){if(0===Object.keys(this.component.events).length)return;let t,e,n,o,i;for(t in this.component.events)if(Object.prototype.hasOwnProperty.call(this.component.events,t)){if(n=t.split(" ")[0],o=t.split(" ")[1],i=this.component.events[t],e=void 0!==o&&Object.prototype.hasOwnProperty.call(this.component.el,o)?this.component.el[o]:this.component.node,!e)continue;if(this.isNodeList(e)){let t;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&e[t].addEventListener(n,this.component[i].bind(this.component))}else e.addEventListener(n,this.component[i].bind(this.component))}}isNodeList(t){let e=Object.prototype.toString.call(t);return/^\[object (HTMLCollection|NodeList|Object)\]$/.test(e)}}function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},i.apply(this,arguments)}class s{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.id=t,this.className=e,this.props={},this.ui={},this.events={},this.el={},this.elExists={}}init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.ui=this.defineUi(),this.events=this.defineEvents(),this.props=this.defineProps(),i(this.props,t),this.node=""!==this.id?document.getElementById(this.id):document;const e=new o(this);e.bindComponentElements(),e.bindComponentEvents(),this.afterInit()}afterInit(){}defineUi(){return{}}defineEvents(){return{}}defineProps(){return{}}}},4104:(t,e,n)=>{n.d(e,{h:()=>o});const o=(t,e)=>new Promise((n=>{const o=document.createElement("link");o.rel="stylesheet",o.href=t,window.navigator.userAgent.includes("Mozilla")?n():o.onload=()=>{n()},e.insertAdjacentElement("afterbegin",o)}))},8832:(t,e,n)=>{n.d(e,{Ae:()=>s,Hn:()=>o,Jm:()=>a,QZ:()=>r,eC:()=>h,ej:()=>l,nG:()=>i});const o="sloc",i="selectedLocalization",s="event_sloc_changeLocalization",r="event_sloc_loadLocalization",a="emit_sloc_loadLocalization",l="event_sloc_chooseLocalization",h="js-active"}}]);