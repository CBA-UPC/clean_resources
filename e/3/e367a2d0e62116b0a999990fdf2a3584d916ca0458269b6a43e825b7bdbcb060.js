(function(window){var BlockAdBlock=BlockAdBlock.prototype._options=null;BlockAdBlock.prototype._var=null;BlockAdBlock.prototype._bait=null;BlockAdBlock.prototype._log=BlockAdBlock.prototype.setOption=BlockAdBlock.prototype._creatBait=BlockAdBlock.prototype._destroyBait=BlockAdBlock.prototype.check=BlockAdBlock.prototype._checkBait=function(loop){var detected=false;if(this._var.bait===null){this._creatBait();}
if(window.document.body.getAttribute('abp')!==null||this._var.bait.offsetParent===null||this._var.bait.offsetHeight==0||this._var.bait.offsetLeft==0||this._var.bait.offsetTop==0||this._var.bait.offsetWidth==0||this._var.bait.clientHeight==0||this._var.bait.clientWidth==0){detected=true;}
if(window.getComputedStyle!==undefined){var baitTemp=window.getComputedStyle(this._var.bait,null);if(baitTemp&&(baitTemp.getPropertyValue('display')=='none'||baitTemp.getPropertyValue('visibility')=='hidden')){detected=true;}}
if(this._options.debug===true){this._log('_checkBait','A check ('+(this._var.loopNumber+1)+'/'+this._options.loopMaxNumber+' ~'+(1+this._var.loopNumber*this._options.loopCheckTime)+'ms) was conducted and detection is '+(detected===true?'positive':'negative'));}
if(loop===true){this._var.loopNumber++;if(this._var.loopNumber>=this._options.loopMaxNumber){this._stopLoop();}}
if(detected===true){this._stopLoop();this._destroyBait();this.emitEvent(true);if(loop===true){this._var.checking=false;}}else if(this._var.loop===null||loop===false){this._destroyBait();this.emitEvent(false);if(loop===true){this._var.checking=false;}}};BlockAdBlock.prototype._stopLoop=BlockAdBlock.prototype.emitEvent=BlockAdBlock.prototype.clearEvent=BlockAdBlock.prototype.on=BlockAdBlock.prototype.onDetected=function(fn){return this.on(true,fn);};BlockAdBlock.prototype.onNotDetected=window.BlockAdBlock=BlockAdBlock;if(window.blockAdBlock===undefined){window.blockAdBlock=new BlockAdBlock({checkOnLoad:true,resetOnEnd:true});}})(window);