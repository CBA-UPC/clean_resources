!function(e,o){"use strict";var a={apikey:"",debug:!1,beaconUri:"https://beacon.sftoaa.com/v2/",use_stoke_beacon:!0,_sent_log:[],turbine:null,inputs_that_match:function(t){var a=new RegExp(t,"i"),i=[];return o.querySelectorAll("input").forEach(function(t){var e={elm:t};e.is_text_format="true"!==t.value&&"false"!==t.value&&"radio"!==t.type&&"hidden"!==t.type;var n=o.querySelector('[for="'+t.id+'"]')||{innerHTML:""};e.matches_by=[],a.test(t.placeholder)&&e.matches_by.push("placeholder:"+t.placeholder),a.test(t.id)&&e.matches_by.push("id:"+t.id),a.test(t.name)&&e.matches_by.push("name:"+t.name),a.test(n.innerHTML)&&e.matches_by.push("label:"+n.innerHTML),a.test(t.type)&&e.matches_by.push("type:"+t.type),e.is_text_format&&e.matches_by.length&&i.push(e)}),i.sort(,i},sendData:function(t,e){var n=JSON.stringify(e);if(!this._sent_log.includes(t+n)){this._sent_log.push(t+n),this.log("sending...",t,e);var a=new XMLHttpRequest;a.open("POST",t,!0),a.setRequestHeader("Content-Type","application/json"),a.send(n)}},getIdentifier:function(t){function n(t){return{id:1,class:2,name:3,action:4}[t.name]||10}return Array.from(t.attributes).sort(.map(function(t){var e=t.name,n=t.value;return"id"==e?"#"+n:"class"==e?"."+n.replace(/\s+/g,"."):""==n?"["+e+"]":"[".concat(e,"='").concat(n,"']")}).join("")},is_email:log:function(){this.turbine&&this.turbine.logger.info.apply(this.turbine.logger,arguments),this.debug&&console.log.apply(null,arguments)},toQueryString:function(t){var e="";for(var n in t)t[n]&&(e+=(e?"&":"")+n+"="+encodeURIComponent(t[n]));return e},ga_client_id:function(){try{return e[e.GoogleAnalyticsObject].getAll()[0].get("clientId")}catch(t){}try{return decodeURIComponent(o.cookie).match(/_ga=.*?(\d+\.\d+);/)[1]}catch(t){}},ga_gclid:function(){try{return e[e.GoogleAnalyticsObject].getAll()[0].get("_gclid")}catch(t){}try{return decodeURIComponent(o.cookie).match(/gclid=(.*?);/)[1]}catch(t){}},ga_trackingId:function(){try{return e[e.GoogleAnalyticsObject].getAll()[0].get("trackingId")}catch(t){}},ga_userId:function(){try{return e[e.GoogleAnalyticsObject].getAll()[0].get("userId")}catch(t){}},aa_account:aa_mcmid:function(){try{return decodeURIComponent(o.cookie).match(/AMCV_.*?=.*?\|MCMID\|(.*?)\|/)[1]}catch(t){}},aa_mcorgid:function(){try{return decodeURIComponent(o.cookie).match(/AMCV_(.*?)=/)[1]}catch(t){}},aa_set_customer_ids:function(){if(this.turbine){this.log("Setting Customer Ids");var t=this.turbine.getSharedModule("adobe-mcid","mcid-instance"),e=this.aa_mcmid(),n={id:e,authState:Visitor.AuthState.AUTHENTICATED};t.setCustomerIDs({stoke_ecid_ca:n}),this.log("setCustomerIDs("+JSON.stringify(n)+")"),this.turbine.getSharedModule("adobe-analytics","get-tracker")().then(function(t){t.transactionID=e,t.tl(),a.log("tracker.transactionID = "+e+" (mcmid)")})}else this.log("Turbine not found on page, aborting setting customer ids")},get_email:function(){var e=this,t=this.inputs_that_match("email");if(!t.length)throw new Error("No Email fields found on page");if(!(t=t.filter().length)throw new Error("No Email Fields contained an email");if(this.inputs_that_match("password").length)throw new Error("Password fields found on page, not making attempt");return t[0].elm.value},get_payload:send:function(){try{if(!this.apikey)throw new Error("Api Key not set");if(!this.use_stoke_beacon)return;if(this.ga_client_id()){var t=o.createElement("img");t.style.display="none",t.src="https://beacon.sftoaa.com/superglu/track?"+this.toQueryString({c:this.apikey,g:this.ga_client_id(),gt:this.ga_trackingId(),gu:this.ga_userId(),e:this.get_email(),aa:this.aa_account(),ae:this.aa_mcmid()}),o.body.appendChild(t)}this.apikey.startsWith("ed9b5bbc")&&this.sendData(this.beaconUri+"b0833a44-2ec7-4525-a865-4eb52743298b",this.get_payload()),this.sendData(this.beaconUri+this.apikey,this.get_payload())}catch(t){this.log(t)}}};if(e.stoke_beacon)for(var t in e.stoke_beacon)a[t]=e.stoke_beacon[t];e.stoke_beacon=a,function t(){a.log("onload called"),"complete"==o.readyState?(o.addEventListener("submit",function(){e.stoke_beacon.send()}),o.querySelectorAll("form").forEach(,e.MktoForms2&&MktoForms2.whenReady(function(t){return t.onSubmit(}),a.log("Stoke Beacon Loaded")):e.addEventListener("load",t)}();var n,i,c=[];n=function(){o.querySelectorAll("iframe").forEach(function(t){if(-1==c.indexOf(t)){try{if(!t.contentWindow.stoke_beacon){t.contentWindow.stoke_beacon={apikey:a.apikey};var e=o.createElement("script");e.src=o.currentScript?o.currentScript.src:"https://beacon.sftoaa.com/v2/sendem.js",e.async=!0,t.contentWindow.document.head.appendChild(e)}}catch(t){}c.push(t)}})},o.addEventListener("mousemove",}(window,document);