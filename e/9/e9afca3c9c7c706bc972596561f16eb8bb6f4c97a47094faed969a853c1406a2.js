window._PHV2SITE = JSON.parse(`{"subacc":1218909015,"webUserId":171567,"banAdult":false,"uuid":"b5ace24e-2ded-41b5-a50e-e903ea73692f","params":["","","",""],"publicKey":"BKd4NvP4tYLr9w4ut9ePOJo4JgvJOuMLgj1TAvpuvUQyYa_tFt8BQlT_38BGbWCzwVH5oGdQ05u9TdYrNlS48Ek","publicKeyId":2747,"scriptDomain":"news-sopoge.cc","monetization":{},"trafficCategory":"adult"}`);
(()=>{var t,e,n={104:()=>{window.Sentry=void 0!==window.Sentry?window.Sentry:{captureException:t=>{},captureMessage:t=>{}}},41:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(81),r=n.n(i),o=n(645),s=n.n(o)()(r());s.push([t.id,".FDbb8Wnq608tUyIr34sw {\n    position: fixed;\n    z-index: 999999998;\n    width: 100%;\n    height: 100%;\n    text-align: center;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    transition: all .2s ease .1s;\n    display: block !important;\n    opacity: 1\n}\n\n.dSueNY05zzaehWarFW14 {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 999999999;\n    width: 100%;\n    height: 100%;\n    color: #fff;\n    font-size: 2rem;\n    font-weight: 400;\n    flex-direction: column;\n}\n\n.dSueNY05zzaehWarFW14 h2 {\n    width: 80%;\n    color: #fff;\n    max-width: 650px;\n    margin: 0 auto 20px;\n    padding: 0;\n    height: auto;\n    min-width: auto;\n    font-size: 2.5rem;\n    line-height: normal\n}\n\n.dSueNY05zzaehWarFW14 p {\n    width: 80%;\n    max-width: 700px;\n    margin: 0 auto 20px;\n    padding: 0;\n    font-size: 1.5rem;\n    line-height: normal\n}\n",""]),s.locals={"ph-bd-wrapper":"FDbb8Wnq608tUyIr34sw","ph-bg-text":"dSueNY05zzaehWarFW14"};const a=s},363:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(81),r=n.n(i),o=n(645),s=n.n(o)()(r());s.push([t.id,".KVtbBcvXTUYvOvZs6wrj {\n    position: fixed;\n    display: flex;\n    align-items: center;\n    padding: 6px;\n    column-gap: 10px;\n    max-width: 350px;\n    min-width: 320px;\n    background: white;\n    border-radius: 10px;\n    box-shadow: 0px 0px 6px 1px grey;\n    z-index: 999999999;\n    cursor: pointer;\n}\n\n.CjpHMPr199849lywLCFY {\n    width: 100%;\n    overflow: hidden;\n}\n\n.nEkcwUVdKzlNzo7NUys2 img {\n    min-width: 70px;\n    max-width: 70px;\n    height: 70px;\n    object-fit: cover;\n    border-radius: 5px;\n}\n\n.CjpHMPr199849lywLCFY h4.r_rGsmwI5ND73ki6aTww, .CjpHMPr199849lywLCFY p.lNjVOo7KS8sifThXeWZa {\n    margin: 0;\n    font-family: sans-serif;\n    max-width: 95%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n\n.CjpHMPr199849lywLCFY h4.r_rGsmwI5ND73ki6aTww {\n    color: #000;\n    font-size: 14px;\n    line-height: 1;\n}\n\n.CjpHMPr199849lywLCFY p.lNjVOo7KS8sifThXeWZa {\n    color: #7f7f7f;\n    font-size: 12px;\n}\n\n.Mxymo_yLws7agAeIDEwp {\n    position: absolute;\n    z-index: 1;\n    right: 10px;\n    top: 10px;\n    width: auto;\n    height: 12px;\n    font-family: sans-serif;\n    font-size: 12px;\n    color: grey;\n    opacity: 0.7;\n    cursor: pointer;\n}\n\n\n.K30KdozISNdk7X2RvOBb {\n    right: 6px;\n    top: 6px;\n}\n\n.GoqfeqyUjMtAlPeHsnhM {\n    left: 6px;\n    top: 6px;\n}\n\n.Fcapwea7xhnCamsa3QIO {\n    left: 6px;\n    bottom: 6px;\n}\n\n.l2gPON5LWs3Yn2VNU25y {\n    right: 6px;\n    bottom: 6px;\n}\n\n.mXAoTaIdocSbkJqhG5Oa {\n    display: none;\n}\n\n@media screen and (max-width: 450px) {\n    .KG1uLm46O6aSkN2qZcaT {\n        display: flex;\n        left: 0;\n        right: 0;\n        margin: 0 auto;\n        width: auto;\n        min-width: initial;\n        bottom: 6px;\n        top: initial;\n        height: fit-content;\n    }\n\n    .w68f41dXePa4_P1rn3cY {\n        top: 6px;\n        width: auto;\n        min-width: initial;\n        bottom: initial;\n        left: 0;\n        right: 0;\n        margin: 0 auto;\n        height: fit-content;\n    }\n\n    .nEkcwUVdKzlNzo7NUys2 {\n        left: 0px;\n        position: relative;\n    }\n}",""]),s.locals={banner:"KVtbBcvXTUYvOvZs6wrj",info:"CjpHMPr199849lywLCFY","img-placeholder":"nEkcwUVdKzlNzo7NUys2",title:"r_rGsmwI5ND73ki6aTww",text:"lNjVOo7KS8sifThXeWZa",close:"Mxymo_yLws7agAeIDEwp","position-top-right":"K30KdozISNdk7X2RvOBb","position-top-left":"GoqfeqyUjMtAlPeHsnhM","position-bottom-left":"Fcapwea7xhnCamsa3QIO","position-bottom-right":"l2gPON5LWs3Yn2VNU25y","position-center":"mXAoTaIdocSbkJqhG5Oa","mobile-bottom":"KG1uLm46O6aSkN2qZcaT","mobile-top":"w68f41dXePa4_P1rn3cY"};const a=s},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);i&&s[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),e.push(u))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var o={},s=[],a=0;a<t.length;a++){var c=t[a],l=i.base?c[0]+i.base:c[0],u=o[l]||0,d="".concat(l," ").concat(u);o[l]=u+1;var p=n(d),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var f=r(h,i);i.byIndex=a,e.splice(a,0,{identifier:d,updater:f,references:1})}s.push(d)}return s}function r(t,e){var n=e.domAPI(e);n.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var o=i(t=t||[],r=r||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var a=n(o[s]);e[a].references--}for(var c=i(t,r),l=0;l<o.length;l++){var u=n(o[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}o=c}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},i={};function r(t){var e=i[t];if(void 0!==e)return e.exports;var o=i[t]={id:t,exports:{}};return n[t](o,o.exports,r),o.exports}r.m=n,r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.f={},r.e=t=>Promise.all(Object.keys(r.f).reduce(((e,n)=>(r.f[n](t,e),e)),[])),r.u=t=>t+".js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="lands-static:",r.l=(n,i,o,s)=>{if(t[n])t[n].push(i);else{var a,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==e+o){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",e+o),a.src=n),t[n]=[i];var p=(e,i)=>{a.onerror=a.onload=null,clearTimeout(h);var r=t[n];if(delete t[n],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((t=>t(i))),e)return e(i)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),c&&document.head.appendChild(a)}},r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&!t;)t=n[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{r.b=document.baseURI||self.location.href;var t={963:0,711:0};r.f.j=(e,n)=>{var i=r.o(t,e)?t[e]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise(((n,r)=>i=t[e]=[n,r]));n.push(i[2]=o);var s=r.p+r.u(e),a=new Error;r.l(s,(n=>{if(r.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+e,e)}};var e=(e,n)=>{var i,o,[s,a,c]=n,l=0;if(s.some((e=>0!==t[e]))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(c)c(r)}for(e&&e(n);l<s.length;l++)o=s[l],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=self.webpackChunklands_static=self.webpackChunklands_static||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),r.nc=void 0,(()=>{"use strict";r(104);class t{list;_activated={};constructor(t){const e=this;this.list=t,t.forEach((function(t){try{return Promise.resolve(t.monetization.activateIfPossible()).then((function(n){n&&(e._activated[t.id]=!0)}))}catch(t){return Promise.reject(t)}})),this._listenUserEvent()}_listenUserEvent(){document.addEventListener("phv2site.activate",(t=>{const{id:e}=t.detail,n=this.list.find((t=>t.id===e));n&&(this._activated[n.id]||(n.monetization.activateForce(),this._activated[n.id]=!0))}))}activate(t){if("native_web_push"!==t);else{const e=new CustomEvent("phv2site.activate",{detail:{id:t}});document.dispatchEvent(e)}}}function e(t,e,n){e[n]&&t.push({id:n,monetization:e[n]})}var n=r(379),i=r.n(n),o=r(795),s=r.n(o),a=r(569),c=r.n(a),l=r(565),u=r.n(l),d=r(216),p=r.n(d),h=r(589),f=r.n(h),m=r(363),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p();i()(m.Z,g);const w=m.Z&&m.Z.locals?m.Z.locals:void 0;function v(t,e){return fetch(t).then((t=>{switch(t.status){case 200:return t.json();case 204:return e;default:return t.text().then((e=>{if(0===e.length)return Promise.reject(`status code ${t.status}`);try{return Promise.reject(JSON.parse(e))}catch(t){return Promise.reject(e)}}))}}))}function b(t){const e=document.createElement("div");return e.innerHTML=t,e.firstChild}function y(t){const e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(e),i=new Uint8Array(n.length);for(let t=0;t<n.length;++t)i[t]=n.charCodeAt(t);return i}function _(t){return new Promise(((e,n)=>{const i=indexedDB.open(t,1);i.onerror=function(t){n(i.error)},i.onupgradeneeded=function(t){i.result.createObjectStore("RPStore",{keyPath:"id"})},i.onsuccess=function(t){const n=i.result.transaction("RPStore","readwrite").objectStore("RPStore");e(n)}}))}function k(t){return btoa(String.fromCharCode.apply(null,new Uint8Array(t)))}function C(t){if(!t.getKey)throw new Error("subscription.getKey is not a callable function");return k(t.getKey("auth"))}function x(t){if(!t.getKey)throw new Error("subscription.getKey is not a callable function");return k(t.getKey("p256dh"))}function P(t,e,n,i,r,o,s,a,c,l,u){t.add({id:"pdp_id",value:e}),t.add({id:"uuid",value:n}),t.add({id:"uid",value:i}),t.add({id:"subacc",value:r}),t.add({id:"ban_adult",value:o}),t.add({id:"subscribe_date",value:s}),t.add({id:"sub1",value:a[0]}),t.add({id:"sub2",value:a[1]}),t.add({id:"sub3",value:a[2]}),t.add({id:"sub4",value:a[3]}),t.add({id:"vapid_key_id",value:c}),t.add({id:"landing_id",value:l}),t.add({id:"traffic",value:u})}function S(t,e){0===e?t():setTimeout((()=>t()),1e3*e)}function T(t){return fetch(t,{method:"HEAD"})}const E=`<div class='${w.banner}' data-phv2-banner='{{ ID }}'>\n      <div class='${w["img-placeholder"]}'>\n          <img src='{{ ICON }}' alt='icon'>\n      </div>\n  \n      <svg class='${w.close}' data-close style='display: none;' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50' width='50px' height='50px'>\n          <path d='M 9.15625 6.3125 L 6.3125 9.15625 L 22.15625 25 L 6.21875 40.96875 L 9.03125 43.78125 L 25 27.84375 L 40.9375 43.78125 L 43.78125 40.9375 L 27.84375 25 L 43.6875 9.15625 L 40.84375 6.3125 L 25 22.15625 Z' />\n      </svg>\n  \n      <div class='${w.info}'>\n        <h4 class='${w.title}'>{{ TITLE }}</h4>\n        <p class='${w.text}'>{{ TEXT }}</p>\n      </div>\n  </div>`;class ${config;inpageSettings;constructor(t,e){this.config=t,this.inpageSettings=e}activateForce(){throw new Error("manual activation is not possible")}activateIfPossible(){return this._show(),!0}_requestAd(t){try{const e=this;function n(n){n.forEach((n=>S((()=>e._renderBanner(n.id,n.title,n.text,n.icon,n.link,e.inpageSettings.position)),t)))}const i=e.config.webUserId,r=e.config.subacc,o=!e.config.banAdult,s=e.config.trafficCategory||"",a=e.config.params[0],c=e.config.params[1],l=e.config.params[2],u=e.config.params[3],d=1,p=function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return Promise.resolve(function(t,e,n,i,r,o,s,a,c){return v(`https://show.revopush.com/api/v1/inpage/show/?uid=${t}&subacc=${e}&sub1=${n}&sub2=${i}&sub3=${r}&sub4=${o}&adult=${s}&limit=${c}&traffic=${a}`,[])}(i,r,a,c,l,u,o,s,d)).then(n)}),(function(t){}));return Promise.resolve(p&&p.then?p.then((function(){})):void 0)}catch(h){return Promise.reject(h)}}_renderBanner(t,e,n,i,r,o){const s=b((a=E,c={ID:t,TITLE:e,TEXT:n,ICON:i},Object.entries(c).forEach((([t,e])=>{a=a.replaceAll(`{{ ${t.toUpperCase()} }}`,e.toString())})),a));var a,c;s.classList.add(...function(t){return[w[`position-${t}`],I(t)]}(o));const l=s.querySelector("[data-close]");S((()=>l.style.removeProperty("display")),5);const u=()=>{document.body.removeChild(s)};l.addEventListener("click",(t=>{u(),S((()=>this._requestAd(0)),this.inpageSettings.delay_after_close)})),s.addEventListener("click",(t=>{t.target===l||l.contains(t.target)||(window.open(r,"_blank"),u(),S((()=>this._requestAd(0)),this.inpageSettings.delay_after_click))})),document.body.appendChild(s)}_show(){try{const t=this;return t._requestAd(t.inpageSettings.delay),Promise.resolve()}catch(t){return Promise.reject(t)}}}function I(t){return t.includes("top")?w["mobile-top"]:t.includes("bottom")?w["mobile-bottom"]:void 0}var j=r(41),L={};L.styleTagTransform=f(),L.setAttributes=u(),L.insert=c().bind(null,"head"),L.domAPI=s(),L.insertStyleElement=p();i()(j.Z,L);const A=j.Z&&j.Z.locals?j.Z.locals:void 0;function N(){return navigator.serviceWorker.ready}function z(t,e){if(function(){const t=document.querySelector("#phLock");t&&t.remove()}(),t)throw e;return e}function W(){}const M=function(t){try{const e=`/${t.monetization.native_web_push.worker_name}.js`;return Promise.resolve(navigator.serviceWorker.register(e,{updateViaCache:"all"}).then(N)).then((function(e){if(void 0===e.pushManager)throw new Error("pushManager is undefined");return Promise.resolve(e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:y(t.publicKey)})).then((function(e){return Promise.resolve((n="https://"+t.scriptDomain,i={endpoint:e.endpoint,auth:C(e),p256dh:x(e),publicKeyId:t.publicKeyId,subacc:t.subacc,landingId:0,sub1:t.params[0],sub2:t.params[1],sub3:t.params[2],sub4:t.params[3]},fetch(`${n}/subscribe?subacc=${i.subacc}&endpoint=${i.endpoint}&auth=${i.auth}&p256dh=${i.p256dh}&keyId=${i.publicKeyId}&land=${i.landingId}&p1=${i.sub1}&p2=${i.sub2}&p3=${i.sub3}&p4=${i.sub4}`).then((t=>t.json())))).then((function(n){if(!n.id)throw new Error(`subscribe response without id: ${JSON.stringify(n)}`);return Promise.resolve(function(t,e,n,i,r,o,s,a,c,l,u){try{return Promise.resolve(_("PHV2DBNEW")).then((function(e){P(e,t,n,i,r,o,s,a,c,l,u)}))}catch(t){return Promise.reject(t)}}(n.id,e.endpoint,t.uuid,t.webUserId,t.subacc,t.banAdult,Math.floor(Date.now()/1e3),t.params,t.publicKeyId,0,t.trafficCategory||"")).then(W)}));var n,i}))}))}catch(t){return Promise.reject(t)}};class O{config;pushSettings;constructor(t,e){this.config=t,this.pushSettings=e}activateForce(){this._show()}_shouldBeActivatedManually(){return void 0!==this.pushSettings.lazy_activation&&this.pushSettings.lazy_activation}activateIfPossible(){return!this._shouldBeActivatedManually()&&(this._activate(),!0)}_activate(){S((()=>this._show()),this.pushSettings.delay)}_show(){const t=this;return Promise.resolve(function(t,e){try{var n=t()}catch(t){return e(!0,t)}return n&&n.then?n.then(e.bind(null,!1),e.bind(null,!0)):e(!1,n)}((function(){return function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){if(!("serviceWorker"in navigator))throw new Error("serviceWorker is not supported");return function(t,e,n){if("granted"===Notification.permission||"denied"===Notification.permission)return!1;if(0===n)return!1;const i=document.createElement("div");i.setAttribute("id","phLock"),i.setAttribute("class",A["ph-bd-wrapper"]),i.setAttribute("style",`display:none;background: rgba(0, 0, 0, ${n/100});`);const r=document.createElement("div");r.setAttribute("class",A["ph-bg-text"]),t&&(r.innerHTML+=`<h2>${t}</h2>`),e&&(r.innerHTML+=`<p>${e}</p>`),i.appendChild(r),document.body.appendChild(i)}(t.pushSettings.caption,t.pushSettings.description,t.pushSettings.dimming),Promise.resolve(M(t.config)).then(W)}),(function(e){var n,i;Sentry.captureException(e,{extra:{subacc:t.config.subacc}}),n="https://"+t.config.scriptDomain,i={error:e.message||"",subacc:t.config.subacc,landingId:0,sub1:t.config.params[0],sub2:t.config.params[1],sub3:t.config.params[2],sub4:t.config.params[3]},fetch(`${n}/reject?error=${i.error}&subacc=${i.subacc}&land=${i.landingId}&p1=${i.sub1}&p2=${i.sub2}&p3=${i.sub3}&p4=${i.sub4}`).then((t=>t.json()))}))}),z))}}const D="_phv2onclickcapping";class F{config;settings;constructor(t,e){this.config=t,this.settings=e}activateForce(){throw new Error("manual activation is not possible")}activateIfPossible(){return"interactive"===document.readyState?this._activate():document.addEventListener("DOMContentLoaded",(()=>this._activate())),!0}_listenForClickOnSelector(t){let e=document;if(""!==this.settings.selector)try{e=document.querySelector(this.settings.selector)}catch(t){throw new Error(`invalid selector: "${this.settings.selector}"`)}null!==e&&e.addEventListener("click",t)}_activate(){const t=this;function e(e){e&&(t._openPopAds(t.settings.type,e),t._updateClickInfo())}try{this._listenForClickOnSelector((function(n){try{if(null!==n.target.closest("[data-phv2-banner]"))return Promise.resolve();if(!t._checkDelay())return Promise.resolve();if(!t._checkCapping())return Promise.resolve();const i=function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return Promise.resolve(t._getPopAd()).then(e)}),(function(t){}));return Promise.resolve(i&&i.then?i.then((function(){})):void 0)}catch(t){return Promise.reject(t)}}))}catch(t){}}_checkDelay(){const t=this._readCapping();if(0===t.lastClickTimestamp)return!0;return(Date.now()-t.lastClickTimestamp)/1e3>=this.settings.delay}_cappingWindowTtl(){return this._readCapping().cappingWindowFirstClickTimestamp+1e3*this.settings.capping.duration-Date.now()}_checkCapping(){const t=this._readCapping(),e=t.cappingWindowClicks>=this.settings.capping.limit,n=(Date.now(),t.cappingWindowFirstClickTimestamp,this._cappingWindowTtl());return!(e&&n>0)}_readCapping(){const t={totalClicks:0,firstClickTimestamp:0,lastClickTimestamp:0,cappingWindowFirstClickTimestamp:0,cappingWindowClicks:0},e=window.localStorage.getItem(D);if(null===e)return t;try{return JSON.parse(e)}catch(e){return t}}_writeCapping(t){window.localStorage.setItem(D,JSON.stringify(t))}_openPopAds(t,e){switch(T(e.impr).then((t=>{})),t){case"new_tab":window.open(e.link);break;case"new_tab_left":window.open(window.location.href),window.location=e.link;break;case"new_tab_left_with_redirect":const n=window.userCustomRedirectUrl||"";window.open(n.startsWith("http")?n:window.location.href),window.location=e.link;break;case"popup":!function(t,e,n,i){const r=void 0!==window.screenLeft?window.screenLeft:window.screenX,o=void 0!==window.screenTop?window.screenTop:window.screenY,s=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;n=n>1?n:s*n,i=i>1?i:s*i;const c=s/window.screen.availWidth,l=(s-n)/2/c+r,u=(a-i)/2/c+o,d=window.open(t,e,`scrollbars=yes, width=${n/c}, height=${i/c}, top=${u}, left=${l}`);window.focus&&d.focus()}(e.link,"popup",1/3,1/3);break;case"replace":window.location=e.link;break;default:throw new Error(`pop type "${t}" not supported`)}}_updateClickInfo(){try{const t=this._readCapping();t.lastClickTimestamp=Date.now(),t.firstClickTimestamp||(t.firstClickTimestamp=t.lastClickTimestamp),this._cappingWindowTtl()<=0&&(t.cappingWindowClicks=0,t.cappingWindowFirstClickTimestamp=t.lastClickTimestamp),t.totalClicks++,t.cappingWindowClicks++,this._writeCapping(t)}catch(t){}}_getPopAd(){try{const c=this;return Promise.resolve((t=c.config.webUserId,e=c.config.subacc,n=c.config.params[0],i=c.config.params[1],r=c.config.params[2],o=c.config.params[3],s=!c.config.banAdult,a=c.config.trafficCategory||"",v(`https://show.revopush.com/api/v1/pop/show/?uid=${t}&subacc=${e}&sub1=${n}&sub2=${i}&sub3=${r}&sub4=${o}&adult=${s}&traffic=${a}`)))}catch(t){return Promise.reject(t)}var t,e,n,i,r,o,s,a}}function U(t){}function K(){return!0}const q="2pushclickvisit",H="2pushclickvisitclosed";class V{settings;constructor(t){this.settings=t}activateForce(){throw new Error("manual activation is not possible")}activateIfPossible(){try{const t=this;return Promise.resolve(t._activate()).then(K)}catch(t){return Promise.reject(t)}}_activate(){const t=this;function e(){return Promise.resolve(t._showNotificationRequest()).then(n)}function n(e){if(!e)return void t._setCloseTimestamp();const n=window.open(t.settings.redirectUrl,"_blank");window.addEventListener("message",(t=>{"subscribed"===t.data.event&&n.close()}))}return Promise.resolve(function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){if(t._incrementVisit()<t.settings.showOnVisit)return;return Math.floor(Date.now()/1e3)-t._getCloseTimestamp()<t.settings.closeDelay?void 0:Promise.resolve(function(t){try{const e=Date.now();return 0===t?Promise.resolve(Date.now()-e):Promise.resolve(new Promise((n=>{setTimeout((()=>n(Date.now()-e)),1e3*t)})))}catch(t){return Promise.reject(t)}}(t.settings.delay)).then(e)}),U))}_incrementVisit(){let t=parseInt(window.localStorage.getItem(q)||"0",10);return t++,window.localStorage.setItem(q,t.toString(10)),t}_showNotificationRequest(){return new Promise((t=>{this._renderVariant(document.body,this.settings.variant,{bg:this.settings.backgroundColor,color:this.settings.textColor,btnColor:this.settings.buttons.color,icon:this.settings.iconUrl,iconColor:this.settings.iconColor,title:this.settings.title,text:this.settings.text,deny:this.settings.buttons.deny,allow:this.settings.buttons.allow,position:this.settings.position,size:this.settings.size},{onClose:()=>t(!1),onDeny:()=>t(!1),onAllow:()=>t(!0)})}))}_renderVariant(t,e,n,i){try{const r=this;return Promise.resolve(r._buildElement(e,n)).then((function(e){t.appendChild(e);const n={"[data-btn-close]":i.onClose,"[data-btn-deny]":i.onDeny,"[data-btn-allow]":i.onAllow};for(let t in n)e.querySelectorAll(t).forEach((i=>i.addEventListener("click",(()=>{n[t](),document.body.removeChild(e)}))))}))}catch(t){return Promise.reject(t)}}_buildElement(t,e){try{const n=this;return Promise.resolve(n._importComponent(t)).then((function(t){return b((0,t.default)(e))}))}catch(t){return Promise.reject(t)}}_importComponent(t){switch(t){case"standard":return r.e(588).then(r.bind(r,588));case"lightbox":return r.e(316).then(r.bind(r,316));case"panel":return r.e(434).then(r.bind(r,434));case"safari":return r.e(492).then(r.bind(r,492));case"floatingButton":return r.e(444).then(r.bind(r,444));default:throw new Error(`wrong variant: ${t}`)}}_setCloseTimestamp(){window.localStorage.setItem(H,Math.floor(Date.now()/1e3).toString())}_getCloseTimestamp(){return parseInt(window.localStorage.getItem(H),10)||0}}const Z=window._PHV2SITE;if(void 0!==Z){!function(n,i){const r=[];n.monetization.native_web_push&&e(r,i,"native_web_push"),n.monetization.inpage&&e(r,i,"inpage"),n.monetization.onclick&&e(r,i,"onclick"),n.monetization.two_click_push&&e(r,i,"two_click_push"),window._phv2Activator=new t(r),document.dispatchEvent(new CustomEvent("phv2site.ready",{detail:n}))}(Z,{native_web_push:new O(Z,Z.monetization.native_web_push),inpage:new $(Z,Z.monetization.inpage),onclick:new F(Z,Z.monetization.onclick),two_click_push:new V(Z.monetization.two_click_push)})}})()})();
