!function e(r,a,c){function d(i,t){if(!a[i]){if(!r[i]){var n="function"==typeof require&&require;if(!t&&n)return n(i,!0);if(u)return u(i,!0);var o=new Error("Cannot find module '"+i+"'");throw o.code="MODULE_NOT_FOUND",o}var s=a[i]={exports:{}};r[i][0].call(s.exports,function(t){var e=r[i][1][t];return d(e||t)},s,s.exports,e,r,a,c)}return a[i].exports}for(var u="function"==typeof require&&require,t=0;t<c.length;t++)d(c[t]);return d}({1:[function(y){window.makeQliticsFn=function(t,i){"use strict";function o(i,n){return function(){if(i.readyState===i.DONE)if(299<i.status)n({success:!1});else try{var t=JSON.parse(i.responseText);n({success:!0,data:t})}catch(e){n({success:!1})}}}function n(t,i){try{var n=new XMLHttpRequest;n.onreadystatechange=o(n,i),n.withCredentials=!0,n.open("GET",t,!0),n.send()}catch(e){i({success:!1})}}function s(t){var e=typeof t,i=!!t&&("object"===e||"function"===e)?Object.prototype.toString.call(t):"";return"[object Function]"===i||"[object GeneratorFunction]"===i}function r(t,e){return delete(t=Object.assign({},t))[e],t}function a(t){n("//"+(i||l)+"/api/device-tracker-id",t)}function c(e){a(function(t){t.success&&t.data["device-tracker-id"]?h.setItem(v.deviceTracker.name,t.data["device-tracker-id"],v.deviceTracker.expiry,v.deviceTracker.path):e()})}function d(t,e){function i(){n<t?(setTimeout(function(){c(i)},2e3),n++):e()}var n=1;c(i)}function u(){return{"event-type":"ad-blocker-detected-event",event:{id:p.v4(),"session-event-id":b._getSessionId(),"page-view-event-id":b._getPageVisitId(),"publisher-id":b.publisherId}}}if(!window.qlitics||!0!==window.qlitics.__inited){"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var i=arguments[e];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t});var h={getItem:function(t){return t&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,e,i,n,o,s){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var r="";if(i)switch(i.constructor){case Number:r=i===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+i;break;case String:r="; expires="+i;break;case Date:r="; expires="+i.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+r+(o?"; domain="+o:"")+(n?"; path="+n:"")+(s?"; secure":""),!0}},p=y("node-uuid");y("blockadblock");var l="localhost:5001",v={session:{expiry:5400,name:"qtype-session"},deviceTracker:{expiry:new Date("2035-01-01"),name:"thinmint",path:"/",maxRetries:3}},f=["page-view","story-view","story-element-view","story-element-action","story-share"],_=["member-id"],g=["init","set","track"],b={init:function(){this.hasStoryViewHappened=!1,this._trackSession()},set:function(t){if(-1!==_.indexOf(t)){var e="set-"+t;if(s(this[e])){var i=Array.prototype.slice.call(arguments);i.shift(),this[e].apply(this,i)}}},track:function(t){if(-1!==f.indexOf(t)&&s(this[t])){var e=Array.prototype.slice.call(arguments);e.shift(),this[t].apply(this,e)}},_getPageVisitId:function(){return this.pageVisitId||(this.pageVisitId=p.v4()),this.pageVisitId},_getSessionId:function(){return this.sessionId||(this.sessionId=h.getItem(v.session.name)||p.v4(),h.setItem(v.session.name,this.sessionId,v.session.expiry)),this.sessionId},_getPageRandom:function(){return this.pageRandom||(this.pageRandom=p.v4()),this.pageRandom},_trackSession:function(){h.getItem(v.session.name)||this._track("session",{id:this._getSessionId()}),this.sessionId||this._getSessionId()},_track:function(t,e){return{"event-type":t,event:Object.assign({id:p.v4(),"member-id":this.memberId},e,{"publisher-id":this.publisherId})}.event},_createEvent:function(t,e){return{"event-type":t,event:Object.assign({id:p.v4(),"member-id":this.memberId},e,{"publisher-id":this.publisherId})}},_trackEvents:function(t){return t},"set-member-id":function(t){this.memberId=t},"page-view":function(t){this.pageViewEvent=this._track("page-view",Object.assign({id:this._getPageVisitId(),"session-event-id":this._getSessionId(),url:window.location.href,referrer:document.referrer},t)),d(v.deviceTracker.maxRetries,function(){console.log("Couldn't set device-tracker-id on current domain")})},"story-view":function(t){if(this.hasStoryViewHappened){var e=this._createEvent("story-view",Object.assign({"session-event-id":this._getSessionId(),"page-view-event-id":this._getPageVisitId()},t)),i=r(this.pageViewEvent,"id"),n=this._createEvent("page-view",Object.assign({"parent-page-view-event-id":this._getPageVisitId()},i));this._trackEvents([n,e])}else this._track("story-view",Object.assign({"session-event-id":this._getSessionId(),"page-view-event-id":this._getPageVisitId()},t));this.hasStoryViewHappened=!0},"story-element-view":function(t){this._track("story-element-view",Object.assign({"session-event-id":this._getSessionId(),"page-view-event-id":this._getPageVisitId()},t))},"story-element-action":function(t){this._track("story-element-action",Object.assign({"session-event-id":this._getSessionId(),"page-view-event-id":this._getPageVisitId()},t))},"story-share":function(t){this._track("content-share",Object.assign({"session-event-id":this._getSessionId(),"page-view-event-id":this._getPageVisitId()},t,{"content-type":"story"}))}};b.publisherId=t,b.analyticsHost=i;var m=window.qlitics.q||[];window.qlitics=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();-1!==g.indexOf(e)&&s(b[e])&&b[e].apply(b,t)},m.forEach(function(t){window.qlitics.apply(window.qlitics,t)}),"undefined"==typeof window.blockAdBlock?u():window.blockAdBlock.onDetected(u),window.qlitics.__inited=!0,delete window.makeQliticsFn}}},{blockadblock:2,"node-uuid":3}],2:[function(){var n,t;n=window,(t=function(t){this._options={checkOnLoad:!1,resetOnEnd:!1,loopCheckTime:50,loopMaxNumber:5,baitClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",baitStyle:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",debug:!1},this._var={version:"3.2.1",bait:null,checking:!1,loop:null,loopNumber:0,event:{detected:[],notDetected:[]}},t!==undefined&&this.setOption(t);var e=this,i=function(){setTimeout(function(){!0===e._options.checkOnLoad&&(!0===e._options.debug&&e._log("onload->eventCallback","A check loading is launched"),null===e._var.bait&&e._creatBait(),setTimeout(function(){e.check()},1))},1)};n.addEventListener!==undefined?n.addEventListener("load",i,!1):n.attachEvent("onload",i)}).prototype._options=null,t.prototype._var=null,t.prototype._bait=null,t.prototype._log=function(t,e){console.log("[BlockAdBlock]["+t+"] "+e)},t.prototype.setOption=function(t,e){if(e!==undefined){var i=t;(t={})[i]=e}for(var n in t)this._options[n]=t[n],!0===this._options.debug&&this._log("setOption",'The option "'+n+'" he was assigned to "'+t[n]+'"');return this},t.prototype._creatBait=function(){var t=document.createElement("div");t.setAttribute("class",this._options.baitClass),t.setAttribute("style",this._options.baitStyle),this._var.bait=n.document.body.appendChild(t),this._var.bait.offsetParent,this._var.bait.offsetHeight,this._var.bait.offsetLeft,this._var.bait.offsetTop,this._var.bait.offsetWidth,this._var.bait.clientHeight,this._var.bait.clientWidth,!0===this._options.debug&&this._log("_creatBait","Bait has been created")},t.prototype._destroyBait=function(){n.document.body.removeChild(this._var.bait),!(this._var.bait=null)===this._options.debug&&this._log("_destroyBait","Bait has been removed")},t.prototype.check=function(t){if(t===undefined&&(t=!0),!0===this._options.debug&&this._log("check","An audit was requested "+(!0===t?"with a":"without")+" loop"),!0===this._var.checking)return!0===this._options.debug&&this._log("check","A check was canceled because there is already an ongoing"),!1;this._var.checking=!0,null===this._var.bait&&this._creatBait();var e=this;return!(this._var.loopNumber=0)===t&&(this._var.loop=setInterval(function(){e._checkBait(t)},this._options.loopCheckTime)),setTimeout(function(){e._checkBait(t)},1),!0===this._options.debug&&this._log("check","A check is in progress ..."),!0},t.prototype._checkBait=function(t){var e=!1;if(null===this._var.bait&&this._creatBait(),null===n.document.body.getAttribute("abp")&&null!==this._var.bait.offsetParent&&0!=this._var.bait.offsetHeight&&0!=this._var.bait.offsetLeft&&0!=this._var.bait.offsetTop&&0!=this._var.bait.offsetWidth&&0!=this._var.bait.clientHeight&&0!=this._var.bait.clientWidth||(e=!0),n.getComputedStyle!==undefined){var i=n.getComputedStyle(this._var.bait,null);!i||"none"!=i.getPropertyValue("display")&&"hidden"!=i.getPropertyValue("visibility")||(e=!0)}!0===this._options.debug&&this._log("_checkBait","A check ("+(this._var.loopNumber+1)+"/"+this._options.loopMaxNumber+" ~"+(1+this._var.loopNumber*this._options.loopCheckTime)+"ms) was conducted and detection is "+(!0===e?"positive":"negative")),!0===t&&(this._var.loopNumber++,this._var.loopNumber>=this._options.loopMaxNumber&&this._stopLoop()),!0===e?(this._stopLoop(),this._destroyBait(),this.emitEvent(!0),!0===t&&(this._var.checking=!1)):null!==this._var.loop&&!1!==t||(this._destroyBait(),this.emitEvent(!1),!0===t&&(this._var.checking=!1))},t.prototype._stopLoop=function(){clearInterval(this._var.loop),this._var.loop=null,!(this._var.loopNumber=0)===this._options.debug&&this._log("_stopLoop","A loop has been stopped")},t.prototype.emitEvent=function(t){!0===this._options.debug&&this._log("emitEvent","An event with a "+(!0===t?"positive":"negative")+" detection was called");var e=this._var.event[!0===t?"detected":"notDetected"];for(var i in e)!0===this._options.debug&&this._log("emitEvent","Call function "+(parseInt(i)+1)+"/"+e.length),e.hasOwnProperty(i)&&e[i]();return!0===this._options.resetOnEnd&&this.clearEvent(),this},t.prototype.clearEvent=function(){this._var.event.detected=[],this._var.event.notDetected=[],!0===this._options.debug&&this._log("clearEvent","The event list has been cleared")},t.prototype.on=function(t,e){return this._var.event[!0===t?"detected":"notDetected"].push(e),!0===this._options.debug&&this._log("on",'A type of event "'+(!0===t?"detected":"notDetected")+'" was added'),this},t.prototype.onDetected=function(t){return this.on(!0,t)},t.prototype.onNotDetected=function(t){return this.on(!1,t)},n.BlockAdBlock=t,n.blockAdBlock===undefined&&(n.blockAdBlock=new t({checkOnLoad:!0,resetOnEnd:!0}))},{}],3:[function(t,k){(function(){function t(t,e,i){var n=e&&i||0,o=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){o<16&&(e[n+o++]=h[t])});o<16;)e[n+o++]=0;return e}function l(t,e){var i=e||0,n=u;return n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]}function i(t,e,i){var n=e&&i||0,o=e||[],s=null!=(t=t||{}).clockseq?t.clockseq:_,r=null!=t.msecs?t.msecs:(new Date).getTime(),a=null!=t.nsecs?t.nsecs:b+1,c=r-g+(a-b)/1e4;if(c<0&&null==t.clockseq&&(s=s+1&16383),(c<0||g<r)&&null==t.nsecs&&(a=0),1e4<=a)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");g=r,_=s;var d=(1e4*(268435455&(r+=122192928e5))+(b=a))%4294967296;o[n++]=d>>>24&255,o[n++]=d>>>16&255,o[n++]=d>>>8&255,o[n++]=255&d;var u=r/4294967296*1e4&268435455;o[n++]=u>>>8&255,o[n++]=255&u,o[n++]=u>>>24&15|16,o[n++]=u>>>16&255,o[n++]=s>>>8|128,o[n++]=255&s;for(var h=t.node||f,p=0;p<6;p++)o[n+p]=h[p];return e||l(o)}function n(t,e,i){var n=e&&i||0;"string"==typeof t&&(e="binary"==t?new d(16):null,t=null);var o=(t=t||{}).random||(t.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var s=0;s<16;s++)e[n+s]=o[s];return e||l(o)}var r,o=this;if("function"==typeof o.require)try{var s=o.require("crypto").randomBytes;r=s&&function(){return s(16)}}catch(e){}if(!r&&o.crypto&&crypto.getRandomValues){var a=new Uint8Array(16);r=function w(){return crypto.getRandomValues(a),a}}if(!r){var c=new Array(16);r=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),c[e]=t>>>((3&e)<<3)&255;return c}}for(var d="function"==typeof o.Buffer?o.Buffer:Array,u=[],h={},p=0;p<256;p++)u[p]=(p+256).toString(16).substr(1),h[u[p]]=p;var v=r(),f=[1|v[0],v[1],v[2],v[3],v[4],v[5]],_=16383&(v[6]<<8|v[7]),g=0,b=0,m=n;if(m.v1=i,m.v4=n,m.parse=t,m.unparse=l,m.BufferClass=d,void 0!==k&&k.exports)k.exports=m;else if("function"==typeof define&&define.amd)define(function(){return m});else{var y=o.uuid;m.noConflict=function(){return o.uuid=y,m},o.uuid=m}}).call(this)},{}]},{},[1]);; window.makeQliticsFn(49, 'prod-analytics.qlitics.com');9ac411e-3218-42fb-90ae-47ae55444e16":{targets:{default:{}}},"2a12e2cd-bd1b-4877-8b9f-48678cda7af6":{targets:{default:{}}},"432081eb-6e8e-4abc-a88f-ca5357aa7244":{targets:{default:{}}},"3a0e7e26-f50d-4c57-88c2-274908569b0d":{showEmotesArticlesByDefault:!0,externalConfig:!0},"6a77571a-6d92-4b17-a748-5010048b4ef5":{targets:{default:{}}},"91621fb2-9f22-4666-9605-614a805ef456":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{},"vuukle-ad-4":{}}},"f9036f75-b88a-4f5c-ae94-c9c8799a4677":{externalConfig:!0},"5e23e4f7-8c8f-4089-a01d-710bc798da90":{externalConfig:!0},"0c2fffb6-b8c3-4fb0-9073-45df1a9d04ed":{targets:{default:{},"vuukle-ad-2":{}}},"6a39c124-67fa-4f04-8fe7-a575ecd2027c":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{},"vuukle-ad-4":{},"vuukle-ad-5":{},"vuukle-ad-6":{},"vuukle-ad-7":{},"vuukle-ad-8":{},"vuukle-ad-9":{}}},"a1ab5e4d-fc4a-417a-8454-ea57c8bfaaf0":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{}}},"f3249e3c-6c77-4bb6-b805-d09198b21a05":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{}}},"12eef24a-ee2a-4ca4-8c01-64c8aa78fccd":{targets:{default:{},secondDefault:{}}},"5d6d4f55-ff35-4ac0-baaf-b5dc3ee32486":{targets:{default:{},"vuukle-ad-2":{},"vuukle-ad-3":{},"vuukle-ad-4":{insert:"after",selector:"#article_body > p:first-of-type",adUnitGeos:["CN"]},"vuukle-ad-5":{}}},"e1e87e0a-d5f2-4943-860d-fef621987289":{externalConfig:!0},"ae417a03-65b0-45cb-9ebd-9f8ccce96b51":{targets:{default:{}}},"eb3b67e0-1ed2-4881-b622-7f8e6128507a":{targets:{default:{}}},"9b305fac-eacd-470a-8cc3-d4caf68480f4":{externalConfig:!0},"b1aaa3ee-e3e9-444c-b043-ad06699c7e2a":{targets:{default:{}}},"6d18d31b-113b-4676-923f-41dadfa912b0":{targets:{default:{}}},"f623b291-820b-4ded-a360-ef133909646c":{externalConfig:!0},"ddc3d585-821a-474d-b7da-9360d9e4f2e7":{externalConfig:!0},"28a76eea-83ab-4eb0-bdc9-ec32a67a8bb2":{externalConfig:!0},"f85f9333-42c4-42c5-80b4-a9a1e3d905a1":{externalConfig:!0},"7cecf616-b9b1-4fc2-9f8e-7d16ef1f7494":{showCWAudioButton:!1,targets:{default:{},secondDefault:{}}},"6bd54cd3-71bd-475a-b1fd-25ba5a6cdcd2":{showCWAudioButton:!1,targets:{default:{},secondDefault:{}}},"1feb6d34-f2ca-4219-bff0-28be03a6d8da":{externalConfig:!0},"64136411-69b5-4424-9e24-f6821f0f060e":{targets:{default:{},secondDefault:{}}},"45e74a80-4a92-4e89-8a8a-4b4449edb14d":{externalConfig:!0},"4a47762d-888d-4589-a7a3-5c06f4587bf8":{targets:{default:{},"vuukle-ad-2":{},"vuukle-ad-3":{},"vuukle-ad-4":{},"vuukle-ad-5":{},"vuukle-ad-6":{}}},"95a1784e-cc5c-455b-a8d6-fa6170771686":{targets:{default:{},"vuukle-ad-2":{},"vuukle-ad-3":{},"vuukle-ad-4":{},"vuukle-ad-5":{},"vuukle-ad-6":{},"vuukle-ad-7":{},"vuukle-ad-8":{insert:"inside",selector:".inside-right-sidebar"},"vuukle-ad-9":{insert:"after",selector:".entry-content > p:nth-of-type(11)"}}},"bc9ef239-b220-46fa-9adb-9a0157bfe4ad":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{}}},"eb3aedc9-183a-4364-a940-c37f4724dd2e":{targets:{default:{},secondDefault:{},"vuukle-ad-3":{}}},"b355463c-4831-4067-8c93-a2303c39a309":{externalConfig:!0},"c003c14d-297a-43c9-97b2-630e05b1d9fb":{externalConfig:!0},"e8a206d5-67d4-44bc-97af-a160da26b683":{externalConfig:!0},"f9488e7c-9ed2-4e12-ae31-e48f1006d071":{externalConfig:!0},"61ba9d28-1cfd-405b-87ca-3feb7326bbd6":{externalConfig:!0},"b6b7829f-9f0f-4af3-a36c-1cecf00f8baf":{externalConfig:!0},"c77634b5-93d5-413c-90ce-286bc462c5d6":{externalConfig:!0},"72a2c4c9-2fa6-47ba-b3cc-b1438b302ddc":{targets:{default:{},secondDefault:{}}},"bc095434-27f9-4779-a350-6e9caca7f21e":{targets:{default:{}}},"4529953f-a9cc-483a-8451-a9b0bf17a1ae":{hideLabelLogo:!0,targets:{default:{},secondDefault:{},"vuukle-ad-3":{},"vuukle-ad-4":{},"vuukle-ad-5":{}}},"f9c98646-e2a2-4e40-92e9-58aea917d809":{targets:{default:{},secondDefault:{}}},"ead41e46-a5fd-11e2-bc97-bc764e0492cc":{externalConfig:!0},"bf94f923-206b-4e74-9b54-8d667098c757":{targets:{default:{}}},"080b9f86-b7c8-48d1-b8c4-20f02a6daee0":{gaEvents:!0,targets:{default:{},secondDefault:{},"vuukle-ad-3":{}}},"5cda731e-bcb7-413f-984d-b76aadaea139":{gaEvents:!0,targets:{default:{},"vuukle-ad-3":{}}},"a2df33e0-e37c-45d2-bf13-3176e7711b3b":{targets:{default:{},secondDefault:{}}},"83a32972-5af0-484d-ab84-c5c8c7e86d9d":{externalConfig:!0},"f1b26352-3ac0-4373-98d3-b5d88d39602b":{targets:{"vuukle-ad-3":{}}},"e1c9ead0-29bb-4aee-b3a9-68174fd455f8":{targets:{default:{},secondDefault:{}}},"7f46a5fa-c1f6-473b-adfa-f4c9999cb7bf":{},"5c57e36e-8a31-4068-bc1b-26cf3fbf24ed":{showCWAudioButton:!1,targets:{default:{},secondDefault:{}}},"053a2dad-4d97-4846-abdf-3ffa0a7345b2":{externalConfig:!0},"e09d1311-dcda-49b0-b37b-73ba36c08d54":{gaEvents:!0,targets:{default:{sideAds:1},secondDefault:{sideAds:1},"vuukle-ad-3":{},"vuukle-ad-4":{}}},"6f21915c-70db-4db2-b86b-463efc2927dc":{externalConfig:!0},"58625c59-58a8-44ec-9a46-72c2d7b40c6a":{externalConfig:!0},"b14f5e1c-a7f4-4957-bddb-dda8b99c151f":{externalConfig:!0},"5f7de88a-8422-45f8-8434-33c27c88e494":{showCWAudioButton:!1,targets:{default:{},secondDefault:{}}},"78a282d5-4b03-4a1f-8a9f-4aecfa3876a3":{externalConfig:!0},"ad44d797-8c59-423a-886a-5e25ab9e53fc":{disableQuizLogin:!0,targets:{"vuukle-ad-3":{}}},"2cd2a90e-d838-4419-bc3a-e27006a8cdaa":{targets:{"vuukle-ad-3":{}}},"6d0ad858-38ef-42d2-bc15-b5394e8ddcc3":{targets:{"vuukle-ad-3":{}}},"dd210d92-3646-4bec-b97d-aded2022a9ec":{targets:{"vuukle-ad-3":{}}},"025dc823-7837-4535-8909-79f78a0e64f1":{targets:{"vuukle-ad-3":{}}},"04c7aee7-224b-440d-ac9b-cb199abf2358":{targets:{"vuukle-ad-3":{hideAdLabel:!0}}},"19049fe7-a743-4212-b91f-345332984a00":{targets:{"vuukle-ad-3":{}}},"b9bc1dcc-e97d-4033-82b4-96b63072c472":{targets:{"vuukle-ad-3":{}}},"31520fb1-51f3-4521-af23-3ce5730f4a28":{targets:{"vuukle-ad-3":{}}},"656d28e4-0a86-440b-ba38-a154c0eac0f7":{targets:{"vuukle-ad-3":{}}},"76d59655-9d32-4bf3-8bba-ea625ee044a0":{targets:{"vuukle-ad-3":{}}},"bb68512c-1daf-4aae-95c2-943675f03da2":{targets:{"vuukle-ad-3":{}}},"ce57bead-42f7-45b9-a6ee-7d95dcb6f53e":{targets:{"vuukle-ad-3":{}}},"54f5f0ae-60c4-467a-ac88-715728dfb0e5":{targets:{"vuukle-ad-3":{}}},"9a65254d-e0d8-40ce-a209-8513ae24cbab":{targets:{"vuukle-ad-3":{postInsertionOperation:()=>{const e=document.querySelector("#vuukle-ad-3");e&&e.parentElement&&(e.parentElement.style.float="right")}}}},"76135452-44ce-41b4-a49d-fc6f19545533":{targets:{"vuukle-ad-3":{}}},"f7f415c2-121f-4782-a7f7-8b3e41ac8388":{targets:{"vuukle-ad-3":{}}},"505c1185-b850-4243-830e-966153f5dc66":{externalConfig:!0},"8c4da6b7-780a-4ade-86d1-887c30e5af8b":{externalConfig:!0},"6494c164-044d-4311-9d91-53947348c007":{externalConfig:!0},"eaa782ec-5d98-4cbf-b2e4-6ecb1fa630f3":{externalConfig:!0},"869226d0-a742-450a-94a2-17e7a43659f7":{externalConfig:!0},"2bc125b8-ae0d-4a68-b6de-d6b324e35934":{externalConfig:!0},"de8d5bd5-1ea0-44d4-a0d4-c519299d80c1":{externalConfig:!0},"227dda61-ad39-440b-9ffd-4f1dbf1644b0":{externalConfig:!0},"c79b75ad-35ab-440b-b099-f4574ba39771":{externalConfig:!0},"2ef1400c-04eb-4838-8ffa-28232fe5a214":{externalConfig:!0},"81ac9e4a-bbdd-456f-a9da-02819977dc9b":{externalConfig:!0},"c1cb99b8-515c-4bf4-8f98-5ceb2be6811b":{disableQuizLogin:!0,targets:{"vuukle-ad-3":{}}},"8e770cea-4778-40ff-b06c-c51d851e2ca0":{externalConfig:!0},"2abb8a65-52a3-4813-8d9e-60fc98eadeb6":{externalConfig:!0},"56f2bd7a-86e1-4018-be4c-386831006619":{externalConfig:!0},"ceb3d467-a603-4ca6-b10d-36bb629f916c":{externalConfig:!0},"b4318906-5f52-4d6c-b40b-dd6a2e6f97fb":{externalConfig:!0},"24620f34-3043-44b6-a4e6-4cd1efd120c9":{externalConfig:!0},"327a8f65-b02f-4aaa-b6ad-b7aafbc1331d":{externalConfig:!0},"d2e04f5f-fe35-494e-a528-a99a86305307":{externalConfig:!0},"953f7799-6f90-450d-a8fa-c5eafad5c1c3":{externalConfig:!0},"6b12d066-5401-49d6-9b0d-075088382dde":{externalConfig:!0},"b7e47a2e-01e6-49ef-b066-df66ae891595":{externalConfig:!0},"ba36348e-4b61-4e5d-928c-5669c074ab21":{externalConfig:!0},"4b2136ed-d349-4f19-9d57-246dff67bb7f0":{externalConfig:!0},"407ac1f4-1c19-4493-bdef-f7e9236b1515":{externalConfig:!0},"42164773-827e-42bd-8c5c-91bb25840611":{targets:{"vuukle-ad-3":{}}},"2fd387b9-f020-4c23-96ee-bd7b92af6099":{externalConfig:!0},"36c1b54c-8fbb-4400-8920-4a3210ccc7c5":{externalConfig:!0},"cc5f8583-5b87-4aac-9f59-f99c24c827c0":{externalConfig:!0},"2920c103-3b04-4f5b-9f5f-15163159408b":{externalConfig:!0},"84b63afa-2046-4d08-883a-073f6f516695":{externalConfig:!0},"15801e19-3883-480d-8fb9-c27d6f8f6dc5":{externalConfig:!0},"5069a9fd-ea6a-4209-8356-e79bbb2c7e7f":{externalConfig:!0},"24ab14c8-776c-4198-9bc1-ef52c930649b":{ads:!1},"bc9fd4eb-d7be-4d00-87ef-b570563b015f":{externalConfig:!0,ads:!1},"664e0b85-5b2c-4881-ba64-3aa9f992d01c":{},"54c90d10-586c-4036-9ffd-bc54eaf71af1":{compact:!0},"28c15853-07ca-4cae-9ba9-e2b08ede81c4":{externalConfig:!0},"6ff6a1d2-d34b-462f-bf11-c86cae0e6821":{externalConfig:!0}},s=["8ccda731-6ed4-4965-a6e9-e05ae318389d","06bbd0e5-c863-4bd4-a24f-65cbbb6ebf90","fb7adc50-1895-4260-ae4e-d958e0943e86","3a576486-18b5-4438-b12f-340af1d2a0e0","8c6794b5-f7fd-4cd1-a038-a8d1b5f6a758","96bf641a-66d8-11e5-9bc9-002590f371ee","10d0bfe0-3737-4481-80ab-d837492181de","46059264-25f1-4b76-a88b-6d1c75c66f42","55971aa3-e05a-49d3-b2e9-83243ce15cc4","ae9bb8a3-d291-4ba3-9172-1f02e37aaff3","b1714e6a-1ebd-42a7-8149-91c7949ffa3c","6c9faada-99c9-4675-a276-ea1e17165a25","3368388b-0a3d-45da-a382-6fb1019db01b","c0b2fe99-a42f-4deb-b87f-53acab8905a0","2efc88c2-1141-4a6a-90d9-7e47f4476335","3779bc94-f3ce-4138-af5d-1d3c0d7ee3b8","3f9039a9-057a-4853-a545-0a9d334060a7","1826a8a1-7b9f-464b-8308-004d8fa65dd1"],n=["0f55d425-672f-419b-8b54-007e54113a1c"]},7705:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var o,s=i(1208),n=i(5830);i(1009);class a{}o=a,(0,s.Z)(a,"baseUrl","https://cdn.vuukle.com/widgets"),(0,s.Z)(a,"baseLegacyUrl","https://cdn.vuukle.com/legacy/widgets"),(0,s.Z)(a,"urls",{comments:`${o.baseUrl}/index.html`,emotes:`${o.baseUrl}/emotes.html`,modal:`${o.baseUrl}/modal.html`,newsfeed:`${o.baseUrl}/newsfeed.js`,trafficExchange:`${o.baseUrl}/trafficexchange.js`,powerbar:`${o.baseUrl}/powerbar.html`,sharebar:`${o.baseUrl}/sharebar.html`,subscribe:`${o.baseUrl}/subscribe.html`,verticalSharebar:`${o.baseUrl}/sharebar.html`,verticalPowerbar:`${o.baseUrl}/powerbar.html`,audio:`${o.baseUrl}/audio.html`,quiz:`${o.baseUrl}/quiz.html`,quizAlt:`${o.baseUrl}/quiz.html`}),(0,s.Z)(a,"legacyUrls",{comments:`${o.baseUrl}/index-legacy.html`,emotes:`${o.baseUrl}/emotes-legacy.html`,modal:`${o.baseUrl}/modal-legacy.html`,sharebar:`${o.baseUrl}/sharebar-legacy.html`,verticalSharebar:`${o.baseUrl}/sharebar-legacy.html`,powerbar:`${o.baseUrl}/powerbar-legacy.html`,verticalPowerbar:`${o.baseUrl}/powerbar-legacy.html`,newsfeed:`${o.baseUrl}/newsfeed.js`,trafficExchange:`${o.baseUrl}/trafficexchange.js`,subscribe:`${o.baseUrl}/subscribe-legacy.html`,audio:`${o.baseUrl}/audio-legacy.html`,quiz:`${o.baseUrl}/quiz.html`,quizAlt:`${o.baseUrl}/quiz.html`}),(0,s.Z)(a,"selectors",{comments:"#vuukle-comments",emotes:"#vuukle-emote",modal:"body",newsfeed:"#vuukle-newsfeed",trafficExchange:"#vuukle-traffic-exchange",quiz:"#vuukle-quiz",quizAlt:"#quiz",sharebar:".vuukle-sharebar",subscribe:".vuukle-subscribe",verticalSharebar:".vuukle-sharebar-vertical",powerbar:".vuukle-powerbar",verticalPowerbar:".vuukle-powerbar-vertical",audio:".vuukle-audio"}),(0,s.Z)(a,"versions",{comments:"3.32.3",emotes:"3.12.7",modal:"3.14.4",sharebar:"2.21.7",powerbar:"2.21.7",subscribe:"1.1.2",quiz:"1.17.6",audio:"1.2.0"});void 0!=="".matchAll||n.Z.hasOwnProperty("dev")||(a.urls.comments=a.legacyUrls.comments,a.urls.emotes=a.legacyUrls.emotes,a.urls.modal=a.legacyUrls.modal,a.urls.powerbar=a.legacyUrls.powerbar,a.urls.verticalPowerbar=a.legacyUrls.verticalPowerbar,a.urls.sharebar=a.legacyUrls.sharebar,a.urls.verticalSharebar=a.legacyUrls.verticalSharebar,a.urls.subscribe=a.legacyUrls.subscribe,a.urls.audio=a.legacyUrls.audio,a.urls.quiz=a.legacyUrls.quiz||a.legacyUrls.quizAlt);const r=a},6801:(e,t,i)=>{"use strict";i.d(t,{Gf:()=>b,IW:()=>f,J8:()=>n,Ln:()=>g,N5:()=>m,PP:()=>s,qu:()=>v,rX:()=>p});i(1009);var o=i(2962);const s={adConfigLoadEnd:"Advertisement config load end",adConfigLoadError:"Advertisement config load error",adConfigLoadStart:"Advertisement config load start",adEnd:"Advertisement End",adStart:"Advertisement Start",commsCreatorEnd:"Communication creator end",commsCreatorStart:"Communication creator start",geoRequestCache:"Geo request retrieval from cache",geoRequestEnd:"Geo request end",geoRequestError:"Geo request error",geoRequestStart:"Geo request start",platformStart:"Start",prebidLoadEnd:"Prebid loading end",prebidLoadError:"Prebid loading error",prebidLoadStart:"Prebid loading start",websocketOpened:"Websocket connection opened",widgetsCreatorEnd:"Widget creator end",widgetsCreatorStart:"Widget creator start"},n={adConfigStartToError:"Advertisement config load start -> load error",adStartToConfigLoadEnd:"Advertisement start -> ad config load end",adStartToConfigLoadStart:"Advertisement start -> ad config load start",adStartToEnd:"Advertisement start -> end",adStartToPrebidLoadStart:"Advertisement start -> prebid script load start",commsStartToEnd:"Communication creator start -> end",geoStartToEnd:"Geo request start -> geo request end",geoStartToError:"Geo request start -> geo request error",platformStartToAdConfigLoadEnd:"Platform start -> ad config load end",platformStartToAdConfigLoadError:"Platform start -> ad config load error",platformStartToAdEnd:"Platform start -> advertisement end",platformStartToAdStart:"Platform start -> advertisement start",platformStartToCommsEnd:"Platform start -> communication creator end",platformStartToCommsStart:"Platform start -> communication creator start",platformStartToGeoCache:"Platform start -> geo request cache retrieval",platformStartToGeoEnd:"Platform start -> geo request end",platformStartToGeoError:"Platform start -> geo request error",platformStartToGeoStart:"Platform start -> geo request start",platformStartToLog:"Platform start -> version log",platformStartToPrebidError:"Platform start -> prebid script load error",platformStartToPrebidLoad:"Platform start -> prebid script load end",platformStartToPrebidLoadStart:"Platform start -> prebid script load start",platformStartToWebsocketOpen:"Platform start -> websocket connection opened",platformStartToWidgetsEnd:"Platform start -> widget creation end",platformStartToWidgetsStart:"Platform start -> widget creation start",prebidStartToEnd:"Prebid loading start -> end",prebidStartToError:"Prebid loading start -> error",widgetStartToEnd:"Widget creation start -> end"};function a(e){if("true"===o.Z.get("vkdebug")){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];e(...i)}}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Vuukle Platform";console.profile(e)}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Vuukle Platform";console.profileEnd(e)}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mark";performance.mark(e)}function c(e){return e.toString().padStart(2,"0")}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mark",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mark";performance.getEntriesByName(e,t).forEach((e=>{console.log.apply(console,function(e,t){e=[].slice.call(e),t&&e.unshift(t);let i="#"+Math.floor(16777216*Math.random()).toString(16);const o=new Date,s=`[${o.getHours().toString()}:${c(o.getMinutes())}:${c(o.getSeconds())}]`;return e.unshift(`display: inline-block; color: #fff; background: ${i}; padding: 1px 4px; border-radius: 3px;`),e.unshift("display: inline-block; color: #fff; background: #1e88e5; padding: 1px 4px; border-radius: 3px;"),e.unshift(`${s} %cVuukle Platform%c`),e}([],`${t} - ${e.name}: ${e.duration.toFixed(2)}ms`))}))}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;performance.measure(e,t,i),u(e,"measure")}const m=e=>a(r,e),g=e=>a(d,e),f=e=>a(l,e),p=(e,t,i)=>a(h,e,t,i),v=function(e){},b=function(e,t){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];window.location.search.includes("vdebug")?console[e](...o):t&&v(e,...o)}},50:(e,t,i)=>{"use strict";i.d(t,{Z:()=>v});var o=i(1208),s=i(7705),n=i(6801),a=i(1324),r=i(5739),d=i(6148),l=i(5926),c=i(7842),u=i(6670),h=i(2589);const m=class{constructor(e,t,i){this.apiKeyConfig=e,this.createPassbackUnit(t,i)}createPassbackAdLabel(e,t){const i=(0,u.E)(e),o=document.createElement("div");o.className="vuukle-ad-label",o.style.cssText=`\n        display: flex;\n        justify-content: space-evenly;\n        flex-basis: 100%;\n        margin: 0 auto 5px;\n        width: ${t}px;\n        height: 11px;\n        line-height: 1.1 !important;\n        padding: 0px;\n      `;const s=document.createElement("span");s.style.display="none";const n=document.createElement("a");n.ariaLabel="Vuukle",n.href="https://vuukle.com",n.target="_blank",n.rel="noopener nofollow",n.style.cssText="\n        background-color: transparent; \n        box-shadow: none;\n      ",n.innerHTML=(0,h.Ew)(11,"0 0 30 30"),s.appendChild(n);const a=document.createElement("span");return a.textContent="Advertisement",a.style.cssText=`\n        display: block;\n        font-size: 10px !important;\n        color: ${i<=.3?"#fff":"#6c757d"};\n        margin: 0px;\n        text-align: center;\n        flex: 1;\n        padding: 0px;\n        line-height: 1 !important;\n      `,o.appendChild(s),o.appendChild(a),o}createPassbackUnit(e,t){var i,o,s,a;if(!e)return void(0,n.qu)("warn","Placement element not present for passback unit. Skipping creation");const r=document.createElement("script");r.async=!0,r.src=`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${this.apiKeyConfig.passbackCaPub}`,r.crossOrigin="anonymous";const d=document.createElement("ins");d.className="adsbygoogle",d.style.cssText=`\n        display: inline-block;\n        width: ${(null===(i=this.apiKeyConfig.targets)||void 0===i||null===(i=i[t])||void 0===i||null===(i=i.passbackUnit)||void 0===i?void 0:i.width)||300}px;\n        height: ${(null===(o=this.apiKeyConfig.targets)||void 0===o||null===(o=o[t])||void 0===o||null===(o=o.passbackUnit)||void 0===o?void 0:o.height)||250}px;\n      `,d.dataset.adClient=this.apiKeyConfig.passbackCaPub,d.dataset.adSlot=null===(s=this.apiKeyConfig.targets)||void 0===s||null===(s=s[t])||void 0===s||null===(s=s.passbackUnit)||void 0===s?void 0:s.adSlot;const l=document.createElement("script");l.innerHTML="(adsbygoogle = window.adsbygoogle || []).push({});",e.appendChild(r),e.appendChild(d),e.appendChild(l);const c=this.createPassbackAdLabel(e,(null===(a=this.apiKeyConfig.targets)||void 0===a||null===(a=a[t])||void 0===a||null===(a=a.passbackUnit)||void 0===a?void 0:a.width)||300);return e.insertAdjacentElement("afterbegin",c),e}};var g=i(1869);const f=class{constructor(e,t){if(e&&t){const{installationKey:i}=e,o=document.createElement("div");o.className="OUTBRAIN",o.setAttribute("data-ob-contentUrl","%%PATTERN:url%%"),o.setAttribute("data-widget-id","AR_3"),o.setAttribute("data-ob-installation-key",i),o.setAttribute("data-consent-string","${GDPR_CONSENT_164}"),o.setAttribute("data-consent-version","2"),t.appendChild(o);const s=document.createElement("script");s.async=!0,s.type="text/javascript",s.src="https://widgets.outbrain.com/outbrain.js",document.head.appendChild(s)}}};class p{constructor(e,t){this.apiKeyConfig=e,this.articleConfig=t,(0,o.Z)(this,"currentAdIds",[]),(0,o.Z)(this,"getLocation",(function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;const o=i.document.querySelectorAll(e)[p.articleCounter-1];if(o||p.articleCounter-1==0)return o;for(let o=p.articleCounter-1;o>0;o--){var s;let n=i.document.querySelectorAll(e)[o];if(n&&(null===(s=n.parentElement)||void 0===s||!s.querySelector(`div[id*=${t}]`)))return n}return null})),p.articleCounter++}isTrafficExchange(e){return e.includes("vuukle-traffic-exchange-ad")}async getInsertLocationForAnAd(e,t,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,s=null;const n=a.Z.isMobileUser&&e?e:t;if("string"==typeof n){const e="boolean"==typeof p.canCreateTXAds&&!0===p.canCreateTXAds;if(this.isTrafficExchange(n)&&!e)return null;s=this.articleConfig.endlessMode?this.getLocation(n,i):o.document.querySelector(n),s||(s=await(0,r.br)(n,250,40,o))}if("function"==typeof n&&(s=n()),Array.isArray(n))for(const e of n){const t=this.articleConfig.endlessMode?this.getLocation(e,i):o.document.querySelector(e);if(t){s=t;break}}return s}applyCustomCSS(e,t){var i,o,s;if(!t)return;const n=(a.Z.isMobileUser?null===(i=this.apiKeyConfig.customMobileCSS)||void 0===i?void 0:i[e]:null===(o=this.apiKeyConfig.customDesktopCSS)||void 0===o?void 0:o[e])||(null===(s=this.apiKeyConfig.customCSS)||void 0===s?void 0:s[e]);n&&(t.style.cssText+=n)}applyGreyBackground(e,t){e.style.backgroundColor="#f3f3f3",t&&(t.wrapper.style.padding="15px 0")}insertTXInsideElement(e,t,i){let o;"string"==typeof t&&(o=document.querySelector(t)),"function"==typeof t&&(o=t()),o&&o instanceof HTMLElement&&c.Z.applyDivInsertionStrategy(s.Z.selectors.trafficExchange.replace("#",""),i,e,o)}createFirstAd(e,t){var i,o,s,a,r;if(!e)return void(0,n.qu)("warn","[Platform.js] AD Element is missing");if(e.querySelector(".vuukle-ads"))return;const d=new g.Z(this.articleConfig,"",this.articleConfig.endlessMode?void 0:"1",t,null===(i=this.apiKeyConfig.targets)||void 0===i||null===(i=i.default)||void 0===i?void 0:i.hideAdLabel,this.apiKeyConfig.hideLabelLogo,(null===(o=this.apiKeyConfig.targets)||void 0===o||null===(o=o.default)||void 0===o?void 0:o.sideAds)||0,null===(s=this.apiKeyConfig.targets)||void 0===s||null===(s=s.default)||void 0===s?void 0:s.scrollingAd);if(this.currentAdIds.push(d.advertisementID),null!==(a=this.apiKeyConfig.targets)&&void 0!==a&&null!==(a=a.default)&&void 0!==a&&a.scrollingAd||null!==(r=this.apiKeyConfig.targets)&&void 0!==r&&null!==(r=r.default)&&void 0!==r&&r.greyBg){var l;const t=document.createElement("div");e.appendChild(t),t.appendChild(d.wrapper),null!==(l=this.apiKeyConfig.targets)&&void 0!==l&&null!==(l=l.default)&&void 0!==l&&l.greyBg&&this.applyGreyBackground(t,d)}else e.appendChild(d.wrapper);d.wrapper.style.minHeight||(d.wrapper.style.minHeight="330px"),this.articleConfig.endlessMode&&d.initVuukleHBQueue(),this.applyCustomCSS("default",d.wrapper)}createSecondAd(e,t,i,o){const s=document.querySelector("#vuukle-ad-2".concat(i));if(!(e&&2===e.querySelectorAll(".vuukle-ads").length||s&&2===s.querySelectorAll(".vuukle-ads").length)&&(t||s)){var a,r,d;const t=new g.Z(this.articleConfig,"",this.articleConfig.endlessMode?void 0:"2",o,null===(a=this.apiKeyConfig.targets)||void 0===a||null===(a=a.secondDefault)||void 0===a?void 0:a.hideAdLabel,this.apiKeyConfig.hideLabelLogo,(null===(r=this.apiKeyConfig.targets)||void 0===r||null===(r=r.secondDefault)||void 0===r?void 0:r.sideAds)||0,null===(d=this.apiKeyConfig.targets)||void 0===d||null===(d=d.secondDefault)||void 0===d?void 0:d.scrollingAd);if(this.currentAdIds.push(t.advertisementID),s)s.appendChild(t.wrapper);else{if(!e)return void(0,n.qu)("warn","[Platform.js] Second AD Element is missing");var l,c;if(null!==(l=this.apiKeyConfig.targets)&&void 0!==l&&null!==(l=l.secondDefault)&&void 0!==l&&l.scrollingAd||null!==(c=this.apiKeyConfig.targets)&&void 0!==c&&null!==(c=c.secondDefault)&&void 0!==c&&c.greyBg){var u;const i=document.createElement("div");e.appendChild(i),i.appendChild(t.wrapper),i.style.order="2",null!==(u=this.apiKeyConfig.targets)&&void 0!==u&&null!==(u=u.secondDefault)&&void 0!==u&&u.greyBg&&this.applyGreyBackground(i,t)}else e.appendChild(t.wrapper);t.wrapper.style.order="2"}this.articleConfig.endlessMode&&t.initVuukleHBQueue(),t.wrapper.style.minHeight||(t.wrapper.style.minHeight="330px"),this.applyCustomCSS("secondDefault",t.wrapper)}}createAdAtCustomLocation(e,t,i,o){var s,a,r;let d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(!e)return void(0,n.qu)("warn","[Platform.js] Custom AD Element is missing");if(e.querySelector(".vuukle-ads"))return;const l=new g.Z(this.articleConfig,d,i,o,null===(s=this.apiKeyConfig.targets)||void 0===s||null===(s=s[t])||void 0===s?void 0:s.hideAdLabel,this.apiKeyConfig.hideLabelLogo,0,null===(a=this.apiKeyConfig.targets)||void 0===a||null===(a=a[t])||void 0===a?void 0:a.scrollingAd);this.currentAdIds.push(l.advertisementID),e.appendChild(l.wrapper),this.articleConfig.endlessMode&&l.initVuukleHBQueue();const c=e.parentElement;var u,h;(c&&this.isTrafficExchange(c.id)&&l.refreshAd(),void 0!==(null===(r=this.apiKeyConfig.targets)||void 0===r||null===(r=r[t])||void 0===r?void 0:r.postInsertionOperation))&&(null===(u=this.apiKeyConfig.targets)||void 0===u||null===(u=u[t])||void 0===u||null===(h=u.postInsertionOperation)||void 0===h||h.call(u));return l}createGPTUnit(e,t,i,o,s){var n,r,d;const l=s?s.toString():c.Z.getTheGPTNumberOfTheAdTarget(e),u=this.createAdAtCustomLocation(t,e,a.Z.isMobileUser&&null!==(n=this.apiKeyConfig.targets)&&void 0!==n&&null!==(n=n[e])&&void 0!==n&&n.gptNumberMobile?null===(r=this.apiKeyConfig.targets)||void 0===r||null===(r=r[e])||void 0===r?void 0:r.gptNumberMobile:l,i,o);null!==(d=this.apiKeyConfig.targets)&&void 0!==d&&null!==(d=d[e])&&void 0!==d&&d.greyBg&&t&&this.applyGreyBackground(t,u)}generateVerticalSideAds(e,t){var i,o;const s=e=>`\n       position: fixed;\n       z-index: 3000;\n       ${e}: 0px;\n       margin-left: 5px;\n       top: 30px;\n       width: 160px;\n       height: 600px;\n       display: block;\n       text-align: center;\n       margin-top: 50px;\n     `;null!==(i=this.apiKeyConfig.targets)&&void 0!==i&&i[t].enableLeftVertical&&e?e.style.cssText+=s("left"):null!==(o=this.apiKeyConfig.targets)&&void 0!==o&&o[t].enableRightVertical&&e&&(e.style.cssText+=s("right"))}createCustomAd(e,t,i){var o,s;let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";var a;if(null!==(o=this.apiKeyConfig.targets)&&void 0!==o&&o[e].passbackUnit){if(new m(this.apiKeyConfig,i,e),null!==(a=this.apiKeyConfig.targets)&&void 0!==a&&null!==(a=a[e].passbackUnit)&&void 0!==a&&a.replaceWithGPT){var r;const o=1e3*((null===(r=this.apiKeyConfig.targets)||void 0===r||null===(r=r[e])||void 0===r||null===(r=r.passbackUnit)||void 0===r?void 0:r.replaceTime)||30);setTimeout((()=>{var o;i&&c.Z.emptyTheContentsOfAnElement(i),this.createGPTUnit(e,i,t,n,null===(o=this.apiKeyConfig.targets)||void 0===o||null===(o=o[e])||void 0===o?void 0:o.gptNumber)}),o)}}else if(null!==(s=this.apiKeyConfig.targets)&&void 0!==s&&s[e].outbrainUnit)new f(this.apiKeyConfig.targets[e].outbrainUnit,i);else{var d;this.createGPTUnit(e,i,t,n,null===(d=this.apiKeyConfig.targets)||void 0===d||null===(d=d[e])||void 0===d?void 0:d.gptNumber)}this.generateVerticalSideAds(i,e),this.applyCustomCSS(e,i)}async insertAdDivAtGivenSelector(e,t){if(this.apiKeyConfig.targets){const o=this.apiKeyConfig.targets[t],{selector:s,mobileSelector:r,insert:d,gptId:l,gptIdMobile:u}=o,h=await this.getInsertLocationForAnAd(r,s,t),m=document.getElementById(t.concat(e));if(h&&h instanceof HTMLElement&&!m){var i;const o=c.Z.applyDivInsertionStrategy(t,e,d,h);if(null!==(i=this.apiKeyConfig.targets)&&void 0!==i&&i[t].skipAdCreation)return;this.createCustomAd(t,a.Z.isMobileUser&&u?u:l,o,e)}else{const e=a.Z.isMobileUser&&r?r:s;(0,n.qu)("warn","string"==typeof e?`[Platform.js] Element at the selector '${e}' is missing`:"[Platform.js] Element at the evaluated selector is missing")}}}decideWhetherAdShouldBeDynamicallyInserted(e,t,i){if("function"==typeof this.apiKeyConfig.getDateFunction&&this.apiKeyConfig.injectAdsDynamicallyBeforeDate&&!i){const i=this.apiKeyConfig.getDateFunction();if(!(i instanceof Date))return void this.insertAdDivAtGivenSelector(e,t);const o=new Date(this.apiKeyConfig.injectAdsDynamicallyBeforeDate);i.valueOf()<o.valueOf()&&this.insertAdDivAtGivenSelector(e,t)}else this.insertAdDivAtGivenSelector(e,t)}async createAdvancedAd(e,t,i){this.apiKeyConfig.targets&&Object.keys(this.apiKeyConfig.targets).forEach((async o=>{var s,n,d,l,u,h,m,g;if(null!==(s=this.apiKeyConfig.targets)&&void 0!==s&&s[o].adUnitGeos&&(null===(n=this.apiKeyConfig.targets)||void 0===n||!n[o].adUnitGeos.includes(a.Z.userCountry)))return;if(null!==(d=this.apiKeyConfig.targets)&&void 0!==d&&d[o].ignorePaths||null!==(l=this.apiKeyConfig.targets)&&void 0!==l&&l[o].ignorePathsMobile){var f,p,v;const e=a.Z.isMobileUser&&null!==(f=this.apiKeyConfig.targets)&&void 0!==f&&f[o].ignorePathsMobile?null===(p=this.apiKeyConfig.targets)||void 0===p?void 0:p[o].ignorePathsMobile:(null===(v=this.apiKeyConfig.targets)||void 0===v?void 0:v[o].ignorePaths)||[];if(c.Z.matchesPath(e))return}if("boolean"==typeof(null===(u=this.apiKeyConfig.targets)||void 0===u?void 0:u[o].onlyDesktop)){var b,w;const e=a.Z.isMobileUser&&(null===(b=this.apiKeyConfig.targets)||void 0===b?void 0:b[o].onlyDesktop),t=!(a.Z.isMobileUser||null!==(w=this.apiKeyConfig.targets)&&void 0!==w&&w[o].onlyDesktop);if(e||t)return}"function"==typeof(null===(h=this.apiKeyConfig.targets)||void 0===h?void 0:h[o].preInsertionOperation)&&(null===(m=(g=this.apiKeyConfig.targets[o]).preInsertionOperation)||void 0===m||m.call(g));const y="object"==typeof this.articleConfig.ads&&this.articleConfig.ads.noDefaults;if("default"!==o&&"secondDefault"!==o||y){var C;if((null===(C=this.apiKeyConfig.targets)||void 0===C||null===(C=C[o])||void 0===C?void 0:C.insert)&&(this.apiKeyConfig.targets[o].selector||this.apiKeyConfig.targets[o].mobileSelector)){var k;this.decideWhetherAdShouldBeDynamicallyInserted(i,o,Boolean(null===(k=this.apiKeyConfig.targets)||void 0===k?void 0:k[o].bypassDynamicInjectionDateLimit))}else{var S,x,A;if(null!==(S=this.apiKeyConfig.targets)&&void 0!==S&&S[o].skipAdCreation)return;let e=document.getElementById(o.concat(i));e||(e=await(0,r.br)(`#${o.concat(i)}`,250,20)),this.createCustomAd(o,a.Z.isMobileUser&&null!==(x=this.apiKeyConfig.targets)&&void 0!==x&&x[o].gptIdMobile?this.apiKeyConfig.targets[o].gptIdMobile:null===(A=this.apiKeyConfig.targets)||void 0===A?void 0:A[o].gptId,e,i)}}else{var L,Z,I,E,_,T;"default"===o?this.createFirstAd(e,a.Z.isMobileUser&&null!==(L=this.apiKeyConfig.targets)&&void 0!==L&&null!==(L=L.default)&&void 0!==L&&L.gptIdMobile?null===(Z=this.apiKeyConfig.targets)||void 0===Z||null===(Z=Z.default)||void 0===Z?void 0:Z.gptIdMobile:null===(I=this.apiKeyConfig.targets)||void 0===I||null===(I=I.default)||void 0===I?void 0:I.gptId):this.createSecondAd(e,t,i,a.Z.isMobileUser&&null!==(E=this.apiKeyConfig.targets)&&void 0!==E&&null!==(E=E.default)&&void 0!==E&&E.gptIdMobile?null===(_=this.apiKeyConfig.targets)||void 0===_||null===(_=_.secondDefault)||void 0===_?void 0:_.gptIdMobile:null===(T=this.apiKeyConfig.targets)||void 0===T||null===(T=T.secondDefault)||void 0===T?void 0:T.gptId)}}))}findAndReplaceExistingAdUnits(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const{targets:t,replaceAdsAtTopLevel:i,adUnit:o}=this.apiKeyConfig,s=i?window.top:window;if(i){const e=JSON.parse((0,d._2)(`vuukleconfhttps://cdn.vuukle.com/ads/${this.articleConfig.host}.json`)||"{}");e&&e.data&&(s._vuukleConfig=e.data),l.Z.loadPrebid(o,s)}if(t){const i={};if(Object.keys(t).forEach((e=>{var o,n,r;const d=a.Z.isMobileUser&&null!==(o=t[e].replaceExistingAd)&&void 0!==o&&o.ignorePathsMobile?null===(n=t[e].replaceExistingAd)||void 0===n?void 0:n.ignorePathsMobile:(null===(r=t[e].replaceExistingAd)||void 0===r?void 0:r.ignorePaths)||[];if(t[e].replaceExistingAd&&!c.Z.matchesPath(d||[],s)){var l,u,h;i[e]=t[e];const o=a.Z.isMobileUser&&null!==(l=t[e].replaceExistingAd)&&void 0!==l&&l.mobileSelector?null===(u=t[e].replaceExistingAd)||void 0===u?void 0:u.mobileSelector:null===(h=t[e].replaceExistingAd)||void 0===h?void 0:h.selector;let s="";if("function"==typeof o&&(s=o().id),"string"==typeof o&&(s=o.slice(1)),Array.isArray(o))for(const e of o)if(document.querySelector(e)){s=e.slice(1);break}s&&this.currentAdIds.push(s)}})),Object.keys(i).length>0){const o=async t=>{var o,n,r,d,l;if(null!==(o=this.apiKeyConfig.targets)&&void 0!==o&&o[t].ignorePaths||null!==(n=this.apiKeyConfig.targets)&&void 0!==n&&n[t].ignorePathsMobile){var u,h,m;const e=a.Z.isMobileUser&&null!==(u=this.apiKeyConfig.targets)&&void 0!==u&&u[t].ignorePathsMobile?null===(h=this.apiKeyConfig.targets)||void 0===h?void 0:h[t].ignorePathsMobile:(null===(m=this.apiKeyConfig.targets)||void 0===m?void 0:m[t].ignorePaths)||[];if(c.Z.matchesPath(e,s))return}if("boolean"==typeof(null===(r=this.apiKeyConfig.targets)||void 0===r?void 0:r[t].onlyDesktop)){var g,f;const e=a.Z.isMobileUser&&(null===(g=this.apiKeyConfig.targets)||void 0===g?void 0:g[t].onlyDesktop),i=!(a.Z.isMobileUser||null!==(f=this.apiKeyConfig.targets)&&void 0!==f&&f[t].onlyDesktop);if(e||i)return}const p=await this.getInsertLocationForAnAd(null===(d=i[t].replaceExistingAd)||void 0===d?void 0:d.mobileSelector,null===(l=i[t].replaceExistingAd)||void 0===l?void 0:l.selector,t,s);if(p&&!s.document.getElementById(t.concat(e))){var v,b,w,y;c.Z.emptyTheContentsOfAnElement(p);const o=c.Z.applyDivInsertionStrategy(t,e,null===(v=i[t].replaceExistingAd)||void 0===v?void 0:v.insert,p,s);this.createCustomAd(t,a.Z.isMobileUser&&null!==(b=this.apiKeyConfig.targets)&&void 0!==b&&null!==(b=b[t])&&void 0!==b&&b.gptIdMobile?null===(w=this.apiKeyConfig.targets)||void 0===w?void 0:w[t].gptIdMobile:null===(y=this.apiKeyConfig.targets)||void 0===y||null===(y=y[t])||void 0===y?void 0:y.gptId,o,e)}};setTimeout((()=>{const e=(e,i,o)=>{var s,n,a;const r=e.getResponseInformation(),d=(null==r||null===(s=r.lineItemId)||void 0===s?void 0:s.toString())||(null==r||null===(n=r.sourceAgnosticLineItemId)||void 0===n?void 0:n.toString());return console.log(`[Platform] ${o} Detected line item for ${i} - ${d}, does the div of it exist on the page - ${Boolean(document.querySelector(`#${i}`))}, Is it included in whitelist - ${null===(a=t[o].replaceExistingAd)||void 0===a||null===(a=a.publisher_gam_lineitems_whitelist)||void 0===a?void 0:a.includes(d)}`),d},n=()=>{const e=new Set,t=this.currentAdIds.filter((e=>!e.includes("div-gpt-ad-1497448474263"))),i=()=>{t.forEach((t=>{const i=c.Z.findSlotById(t,s);i&&e.add(i)}))};if(i(),e.size>0){const t=e=>e.toString().padStart(2,"0");setInterval((()=>{i();const o=new Date,n=`[${o.getHours().toString()}:${t(o.getMinutes())}:${t(o.getSeconds())}]`;console.log(`[Platform] ${n} Refresh all slots`),e.forEach((e=>{s.googletag.pubads().refresh([e])}))}),3e4)}};let a=!1;Object.keys(i).forEach((async i=>{var r;if(null!==(r=t[i].replaceExistingAd)&&void 0!==r&&r.publisher_gam_lineitems_whitelist){let r=!1;const d=[],l=[],u=[];let h=!1;const m=this.currentAdIds.filter((e=>!e.includes("div-gpt-ad-1497448474263")));if(m.forEach(((n,a)=>{const g=c.Z.findSlotById(n,s);if(g){var f;d.push(g);const s=e(g,n,i);if(s&&null!==(f=t[i].replaceExistingAd)&&void 0!==f&&null!==(f=f.publisher_gam_lineitems_whitelist)&&void 0!==f&&f.includes(s)&&(u.push(n),r=!0,o(i)),(void 0===s||"undefined"===s)&&document.querySelector(`#${n}`)){l.push(n);let s=!1;window.googletag.pubads().addEventListener("slotRenderEnded",(a=>{if(a.slot===g){if(!s){var d;console.log(`[Platform] ${n} is now rendered`);const s=e(g,n,i);s&&null!==(d=t[i].replaceExistingAd)&&void 0!==d&&null!==(d=d.publisher_gam_lineitems_whitelist)&&void 0!==d&&d.includes(s)&&(r=!0,o(i)),u.push(n),l.length<=u.length&&(h=!0)}s=!0}}))}(l.length===u.length||0===l.length&&a===m.length-1)&&(h=!0)}})),!a){const e=setInterval((()=>{h&&!r&&(n(),clearInterval(e)),h&&r&&clearInterval(e)}),500);a=!0}}else o(i)}))}),3e4)}}}static removeAllAds(){if(l.Z.canCreateAds){const e=document.querySelectorAll(".vuukle-ads");if(0===e.length){const e=setInterval((()=>{const t=document.querySelectorAll(".vuukle-ads");t.length>0&&clearInterval(e),t.forEach((e=>{e.remove()}))}),2e3)}else e.forEach((e=>{e.remove()}));l.Z.canCreateAds=!1}}findAndReplaceAdSenseUnits(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=[],i=[];if(this.apiKeyConfig.targets&&Object.keys(this.apiKeyConfig.targets).forEach((e=>{var o,s,n,r,d,l;let u=!0;if(null!==(o=this.apiKeyConfig.targets)&&void 0!==o&&o[e].ignorePaths||null!==(s=this.apiKeyConfig.targets)&&void 0!==s&&s[e].ignorePathsMobile){var h,m,g;const t=a.Z.isMobileUser&&null!==(h=this.apiKeyConfig.targets)&&void 0!==h&&h[e].ignorePathsMobile?null===(m=this.apiKeyConfig.targets)||void 0===m?void 0:m[e].ignorePathsMobile:(null===(g=this.apiKeyConfig.targets)||void 0===g?void 0:g[e].ignorePaths)||[];if(c.Z.matchesPath(t))return}if("boolean"==typeof(null===(n=this.apiKeyConfig.targets)||void 0===n?void 0:n[e].onlyDesktop)){var f,p;const t=a.Z.isMobileUser&&(null===(f=this.apiKeyConfig.targets)||void 0===f?void 0:f[e].onlyDesktop),i=!(a.Z.isMobileUser||null!==(p=this.apiKeyConfig.targets)&&void 0!==p&&p[e].onlyDesktop);u=!t&&!i}if(null!==(r=this.apiKeyConfig.targets)&&void 0!==r&&r[e].replaceAdSense&&u){const i=c.Z.getTheGPTNumberOfTheAdTarget(e);t.push(i)}if((null!==(d=this.apiKeyConfig.targets)&&void 0!==d&&d[e].replaceAdSenseWithSlotID||null!==(l=this.apiKeyConfig.targets)&&void 0!==l&&l[e].replaceAdSenseWithSlotIDMobile)&&u){var v,b,w;const t=a.Z.isMobileUser&&null!==(v=this.apiKeyConfig.targets)&&void 0!==v&&v[e].replaceAdSenseWithSlotIDMobile?null===(b=this.apiKeyConfig.targets)||void 0===b?void 0:b[e].replaceAdSenseWithSlotIDMobile:null===(w=this.apiKeyConfig.targets)||void 0===w?void 0:w[e].replaceAdSenseWithSlotID,o=c.Z.getTheGPTNumberOfTheAdTarget(e);i.push({gptNumber:o,slotID:t||"",targetName:e})}})),0===t.length&&0===i.length)return;const o=document.querySelectorAll('ins[class="adsbygoogle"]');let s=[];o.length>0&&o.forEach((e=>{e&&s.push(e)})),setTimeout((()=>{i.length>0&&i.forEach((t=>{const i=document.querySelector(`ins[data-ad-slot="${t.slotID}"]`);if(i){var o;const s=document.createElement("div");i.insertAdjacentElement("afterend",s),null===(o=i.parentElement)||void 0===o||o.removeChild(i),this.createGPTUnit(t.targetName,s,void 0,e,t.gptNumber)}})),s.forEach((i=>{t.length>0&&(c.Z.emptyTheContentsOfAnElement(i),this.createGPTUnit("",i,void 0,e,t.shift()))}))}),3e4)}}(0,o.Z)(p,"canCreateTXAds",void 0),(0,o.Z)(p,"articleCounter",0);const v=p},7842:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var o=i(1208);class s{static emptyTheContentsOfAnElement(e){for(;e.lastChild;)e.removeChild(e.lastChild)}static getTheGPTNumberOfTheAdTarget(e){const t=/\d+/g.exec(e);return t&&t[0]?t[0]||"":void 0}static applyDivInsertionStrategy(e,t,i,o){const s=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:window).document.createElement("div");switch(s.id=e.concat(t),i){case"after":o.insertAdjacentElement("afterend",s);break;case"before":o.insertAdjacentElement("beforebegin",s);break;case"prependInside":o.insertAdjacentElement("afterbegin",s);break;default:o.appendChild(s)}return s}}(0,o.Z)(s,"containsKeyword",((e,t)=>{for(const i of t)if(e.includes(i))return!0;return!1})),(0,o.Z)(s,"matchesPath",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;for(let i=0;i<e.length;i++){if(new RegExp(e[i]).test(t.location.pathname))return!0}return!1})),(0,o.Z)(s,"findSlotById",(function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:window).googletag.pubads().getSlots().find((t=>t.getSlotElementId()===e))}));const n=s},8078:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var o=i(1208),s=i(6801),n=i(2867),a=i(1324);class r{constructor(e,t,i){this.articleConfig=e,this.apiKeyConfig=t,this.communicationCreator=i,e.amp||("Safari"===a.Z.browser?this.detectAdblockerOnSafari():this.loadAdblockerBait())}detectAdblockerOnSafari(){r.adblockDetected?this.onAdblockDetected():setTimeout((()=>{const e=document.querySelectorAll(".vuukle-ads");if(0===e.length)this.onAdblockDetected(),r.adblockDetected=!0;else if(e.length>0){let t=0;e.forEach((e=>{const i=e.querySelector('div[id*="div-gpt-ad"]');(i&&""===i.innerHTML||!i)&&t++})),t===e.length&&(this.onAdblockDetected(),r.adblockDetected=!0)}r.adblockDetectionHasExecuted=!0}),2e3)}async loadAdblockerBait(){if(r.adblockDetected)return void this.onAdblockDetected();const e=()=>{this.onAdblockDetected(),r.adblockDetected=!0},t=document.createElement("div");t.className="ad-zone ad-space ad-unit textads banner-ads banner_ads",t.style.height="10px",document.body.appendChild(t),setTimeout((()=>{var i;const o="none"===(null===(i=window.getComputedStyle(t))||void 0===i?void 0:i.display);t.remove(),(0,s.Gf)("info",!0,"[Vuukle] Adblocker status: "+(o?"found":"not found")),o&&e()}),2e3)}onAdblockDetected(){var e,t;this.articleConfig.amp||r.adblockDetectionHasExecuted||(null!==(e=this.apiKeyConfig)&&void 0!==e&&e.trackUnfilledAds&&n.Z.log("unfilled_ads",this.articleConfig,[{key:"unfilledAdId",value:"blocked"}]),this.apiKeyConfig&&n.Z.log("ads_block",this.articleConfig),null===(t=this.communicationCreator)||void 0===t||t.tellWidgetsAboutAdblock(),r.adblockDetectionHasExecuted=!0)}}(0,o.Z)(r,"adblockDetected",!1),(0,o.Z)(r,"adblockDetectionHasExecuted",!1);const d=r},1869:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var o=i(1208),s=i(4654),n=i(6801),a=i(5926),r=i(2867),d=i(1324),l=i(2589),c=i(9715),u=i(8078),h=i(1059),m=i(6670);const g=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.hideLabelLogo=e,(0,o.Z)(this,"wrapper",void 0),(0,o.Z)(this,"advertisementID",void 0),(0,o.Z)(this,"uniqueID",void 0),t&&(this.uniqueID=(0,h.Z)()),this.advertisementID="div-gpt-ad-1497448474263"+(this.uniqueID?`-${this.uniqueID}`:"")}createWrapperElement(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=document.createElement("div"),i=document.createElement("div"),o=document.createElement("script");return t.className="vuukle-ads",t.setAttribute("style","display: block !important;height: auto;margin: 0px auto;text-align: center; clear: both; overflow: hidden;"),i.id=this.advertisementID,o.type="text/javascript",o.innerHTML="",i.appendChild(o),t.appendChild(i),e||setTimeout((()=>{const e=this.createAdLabel(t);t.insertAdjacentElement("afterbegin",e),this.watchAdDiv(t,i)}),3e3),[t,i]}createAdLabel(e){const t=(0,m.E)(e),i=document.createElement("div");i.className="vuukle-ad-label",i.style.cssText="\n      display: flex;\n      justify-content: space-evenly;\n      flex-basis: 100%;\n      margin: 0 auto 5px;\n      width: 100px;\n      height: 11px;\n      line-height: 1.1 !important;\n      padding: 0px;\n    ";const o=document.createElement("span");o.style.display="none";const s=document.createElement("a");s.ariaLabel="Vuukle",s.href="https://vuukle.com",s.target="_blank",s.rel="noopener nofollow",s.style.cssText="\n      background-color: transparent; \n      box-shadow: none;\n    ",s.innerHTML=(0,l.Ew)(11,"0 0 30 30"),o.appendChild(s);const n=document.createElement("span");return n.textContent="Advertisement",n.style.cssText=`\n      display: block;\n      font-size: 10px !important;\n      color: ${t<=.3?"#fff":"#6c757d"};\n      margin: 0px;\n      text-align: center;\n      flex: 1;\n      padding: 0px;\n      line-height: 1 !important;\n    `,i.appendChild(o),i.appendChild(n),i}watchAdDiv(e,t){function i(){setTimeout((()=>{const i=e.querySelector(".vuukle-ad-label"),o=t.firstElementChild&&t.firstElementChild.querySelector("iframe");if(i&&o){const e=parseInt(o.width)<80?80:parseInt(o.width);i.style.width=e+"px",o.style.setProperty("width",`${e}px`,"important")}else i&&(i.style.width="80px")}),0)}if(void 0!==window.ResizeObserver){new window.ResizeObserver(i).observe(t)}new MutationObserver(i).observe(t,{childList:!0,subtree:!0})}};class f extends g{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,h=arguments.length>4&&void 0!==arguments[4]&&arguments[4],m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,g=arguments.length>7&&void 0!==arguments[7]&&arguments[7];super(arguments.length>5&&void 0!==arguments[5]&&arguments[5],""===t),this.articleConfig=e,this.scrollingAd=g,(0,o.Z)(this,"wrapper",void 0),(0,o.Z)(this,"additionalAds",[]);const f="object"==typeof e.ads&&e.ads.gptOverride,p=s||f||"1497448474263";this.advertisementID=i?`div-gpt-ad-${p}-${i}`.concat(t):`div-gpt-ad-${p}-${this.uniqueID}`.concat(t),m>0&&!d.Z.isMobileUser?this.createSideAds(h,m):this.wrapper=this.createWrapperElement(h)[0],a.Z.canRefreshAds&&this.refreshAdUntilVisible(),c.xw[this.articleConfig.apiKey].trackUnfilledAds&&setTimeout((()=>{this.wrapper.offsetParent&&(this.areAdsPresent()||u.Z.adblockDetected||((0,n.Gf)("warn",!0,`Vuukle - ${(0,l.xz)()} [Platform.js] Unfilled ad -`,this.advertisementID),r.Z.log("unfilled_ads",e,[{key:"unfilledAdId",value:this.advertisementID}])))}),1e4)}createSideAds(e,t){this.advertisementID+="a";this.wrapper=this.createWrapperElement(e)[0],this.wrapper.style.display="flex",this.wrapper.style.justifyContent="center",this.wrapper.style.flexWrap="wrap";for(let e=0;e<t;e++){const t=document.createElement("div");let i=this.advertisementID;i=i.substring(0,i.length-1)+"bcdefghijklmnopqrstuvwxyz"[e],t.id=i,t.style.marginLeft="3px",this.wrapper.appendChild(t),this.additionalAds.push(t)}}areAdsPresent(){return Boolean(this.wrapper.querySelector('div[id*="google_ads_iframe"]'))}refreshAdUntilVisible(){let e=0;const t=setInterval((()=>{f.prebidLoaded&&f.initialPeriodPassed&&(f.prebidBlocked||u.Z.adblockDetected||f.noGPT?clearInterval(t):this.wrapper.offsetParent?(this.areAdsPresent()?clearInterval(t):(this.refreshAd(),e++,(0,n.Gf)("info",!0,`Vuukle - ${(0,l.xz)()} [Platform.js] Refreshing ad: ${e}`,this.advertisementID)),5===e&&clearInterval(t)):clearInterval(t))}),1e4)}initVuukleHBQueue(){window.vuuklehb=window.vuuklehb||{},window.vuuklehb.que=window.vuuklehb.que||[],window.vuuklehb.que.push((()=>{window.vuuklehb.vInitSlot&&window.vuuklehb.vInitSlot(this.advertisementID)}))}refreshAd(){window.vuuklehb&&window.vuuklehb.vRefresh&&window.vuuklehb.vRefresh(this.advertisementID,!0)}createWrapperElement(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=super.createWrapperElement(e),i=t[0],o=i.querySelector("script");return o instanceof HTMLScriptElement&&o.parentNode&&o.parentNode.removeChild(o),this.scrollingAd&&(i.style.position=(0,s.qN)(12)||(0,s.qN)(11)||(0,s.qN)(10)?"-webkit-sticky":"sticky",i.style.top="0",i.style.clear="both",setTimeout((()=>{let e=i.parentElement;for(;e&&"BODY"!==e.tagName;)e.style.setProperty("overflow","visible","important"),e=e.parentElement}),0)),[i,t[1]]}watchAdDiv(e,t){let i=[()=>{var e;return null===(e=t.firstElementChild)||void 0===e?void 0:e.querySelector("iframe")}];this.additionalAds.forEach((e=>{i.push((()=>{var t;return null===(t=e.firstElementChild)||void 0===t?void 0:t.querySelector("iframe")}))}));const o=()=>{setTimeout((()=>{const t=e.querySelector(".vuukle-ad-label");if(t){let e=0;i.forEach((i=>{const o=i(),s=null==o?void 0:o.width,n=s?Math.max(parseInt(s),80):80;if(e+=n||0,t.style.width=e+"px",null==o||o.style.setProperty("margin","0 auto"),null==o||o.style.setProperty("width",`${s}px`,"important"),c.xw[this.articleConfig.apiKey].enforceAdHeight){const e=null==o?void 0:o.height;null==o||o.style.setProperty("height",`${e}px`,"important")}}))}}),0)};if(void 0!==window.ResizeObserver){const e=new window.ResizeObserver(o);e.observe(t),this.additionalAds.forEach((t=>{t&&e.observe(t)}))}const s=new MutationObserver(o);if(s.observe(t,{childList:!0,subtree:!0}),this.additionalAds.forEach((e=>{e&&s.observe(e)})),this.scrollingAd){const t=e.parentElement;t&&(t.style.height=d.Z.isMobileUser?"348px":"424px",t.style.clear="both")}}}(0,o.Z)(f,"prebidLoaded",!1),(0,o.Z)(f,"prebidBlocked",!1),(0,o.Z)(f,"initialPeriodPassed",!1),(0,o.Z)(f,"noGPT",!1);const p=f},5926:(e,t,i)=>{"use strict";i.d(t,{Z:()=>P});var o=i(1208),s=i(1655),n=(i(1009),i(7705)),a=i(6801),r=i(1788),d=i(2867),l=i(1324),c=i(2962),u=i(5739),h=i(2589),m=i(6148),g=i(9715),f=i(8078),p=i(50),v=i(7842);const b=class{constructor(e){const t=document.createElement("script");t.async=!0,t.id=`AV${e}`,t.src=`https://tg1.vuukle.com/api/adserver/spt?AV_TAGID=${e}&AV_PUBLISHERID=607eaa2728f57c570863c77a`,t.type="text/javascript",document.head.appendChild(t)}};var w=i(1059),y=i(5830),C=i(939);class k extends C.Z{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;super(`${(0,w.Z)("INTL-ad-")}`,"Ad"),this.frequencyCapInHours=s,this.gptNumber=n,this.gptId=a,(0,o.Z)(this,"redirectUrl",""),(0,o.Z)(this,"INTLAdStyles",`\n    #${this.id} {\n      justify-content: center;\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-container {\n      padding: 0 12px 10px;\n      border-radius: 6px;\n      background: #fff;\n      box-shadow: 0px 8px 12px rgb(60 64 67 / 15%), 0px 4px 4px rgb(60 64 67 / 30%);\n      width: unset;\n      height: unset;\n      position: static;\n      left: unset;\n      top: unset;\n      transform: unset;\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-overlay {\n      background: rgba(52, 58, 65, 0.6);\n      backdrop-filter: blur(15px);\n      -webkit-backdrop-filter: blur(15px);\n    }\n    .vuukle-interstitial-ad #${this.id}-header {\n      color: #000;\n      font-weight: 700;\n      font-family: 'Roboto', arial, sans-serif;\n      font-size: 12px;\n      padding: 16px;\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-header {\n      padding: unset;\n      box-shadow: unset;\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-header .vuukle-info-modal-close {\n      padding: 8px;\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-header .vuukle-info-modal-close svg{\n      width: 1.5em;\n      height: 1.5em;\n      vertical-align: middle;\n      fill: rgb(95, 99, 104);\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-container .vuukle-ad-label {\n      display: none !important;\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-close {\n      display: block;\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-body {\n      padding: unset;\n    }\n    @media (max-width: 1000px) {\n      .vuukle-interstitial-ad .vuukle-info-modal-body {\n        padding-top: unset;\n        margin-bottom: unset;\n      }\n      .vuukle-interstitial-ad .vuukle-info-modal-container {\n        max-width: unset;\n      }\n    }\n    .vuukle-interstitial-ad .vuukle-info-modal-powered {\n      position: static;\n      left: unset;\n      top: unset;\n      width: unset;\n      height: unset;\n      transform: unset;\n      font-weight: normal;\n      font-size: 9px;\n      justify-content: flex-end;\n      align-items: baseline;\n      padding: 0;\n      border-radius: 0;\n      border: none;\n    }\n  `),(0,o.Z)(this,"anchorLinkListenersAdded",!1);const r=!t&&!i,d=l.Z.isMobileUser&&i,c=!l.Z.isMobileUser&&t;super.create(),super.setModalBodyContent(`<div id="${e}"></div>`);const u=document.createElement("style");u.innerHTML=this.INTLAdStyles,document.body.appendChild(u);const h=this.modalElement.querySelector(".vuukle-info-modal-close");h&&(h.onclick=()=>{setTimeout((()=>{location.href=this.redirectUrl}),150)}),(r||d||c)&&this.addAnchorLinkListeners()}addAnchorLinkListeners(){if(this.anchorLinkListenersAdded)return;Array.from(document.querySelectorAll("a")).forEach((e=>{e.addEventListener("click",(t=>{if(t.stopImmediatePropagation(),t.preventDefault(),this.canShowInterstitialAds()){var i;this.show(this.modalElement);const t="object"==typeof y.Z.ads&&y.Z.ads.gptOverride,o=this.gptId||t||"1497448474263";null!==(i=document.querySelector(`#div-gpt-ad-${o}-${this.gptNumber||(0,w.Z)()}`))&&void 0!==i&&i.hasChildNodes()||this.refreshAd(),this.redirectUrl=e.href}else location.href=e.href}))})),this.anchorLinkListenersAdded=!0}canShowInterstitialAds(){if("#vkintldebug"===window.location.hash)return!0;let e=l.Z.canUseCookies;try{if(localStorage.setItem("LS_test","value"),localStorage.getItem("LS_test")){localStorage.removeItem("LS_test");e=!(0,m._2)("vuukle_interstitial_shown")&&l.Z.canUseCookies}else e=!1}catch(t){e=!1}return e}show(e){this.canShowInterstitialAds()&&(C.Z.modalVisible||(e.style.display="flex",C.Z.modalVisible=!0),super.show(e),(0,m.m4)("vuukle_interstitial_shown","true",this.frequencyCapInHours))}refreshAd(){const e="object"==typeof y.Z.ads&&y.Z.ads.gptOverride,t=`div-gpt-ad-${this.gptId||e||"1497448474263"}-${this.gptNumber||(0,w.Z)()}`;window.vuuklehb&&window.vuuklehb.vRefresh&&window.vuuklehb.vRefresh(t,!0)}getModalHTML(){return`\n      <div class="vuukle-interstitial-ad" role="dialog" aria-modal="true" aria-labelledby="${this.id}-header">\n        <div class="vuukle-info-modal-overlay"></div>\n        <div class="vuukle-info-modal-container">\n          <div class="vuukle-info-modal-header">\n            <div style="display: flex; justify-content: space-between;">\n              <div>\n                <h4 id="${this.id}-header">${this.header}</h4>\n              </div>\n              <button class="vuukle-info-modal-close" title="Close Ad" aria-label="Close Ad">\n                <svg viewBox="0 0 48 48" fill="#5F6368">\n                  <path d="M38 12.83L35.17 10 24 21.17 12.83 10 10 12.83 21.17 24 10 35.17 12.83 38 24 26.83 35.17 38 38 35.17 26.83 24z">\n                  </path>\n                  <path d="M0 0h48v48H0z" fill="none">\n                  </path>\n                </svg>\n              </button>\n            </div>\n          </div>\n          <div class="vuukle-info-modal-body">\n          </div>\n          <a class="vuukle-info-modal-powered" href="https://vuukle.com/">\n            Powered by ${(0,h.Ew)(40)}\n          </a>\n        </div>\n      </div>\n    `}}const S=k;var x=i(1869);const A=class{constructor(){const e=document.createElement("script");e.src="//get.s-onetag.com/6cf263c1-ed77-4534-9978-1fe44a9601a8/tag.min.js",e.async=!0,e.defer=!0,document.head.appendChild(e)}};var L=i(4735);const Z=class{constructor(e,t,i,s,n){if(this.articleConfig=e,this.placementElement=t,this.adId=i,this.options=s,(0,o.Z)(this,"zIndex","9999999999"),(0,o.Z)(this,"positionalStyles",{center:"left: 50%; transform: translate(-50%);",centerMedia:"left: 50% !important; transform: translate(-50%) !important;",left:"left: 0;",top:"bottom: unset; top: 0; left: 50%; transform: translate(-50%);",topBg:"bottom: unset; top: 0; left: 50%; transform: translate(-50%); display: flex; align-items: flex-end;"}),(0,o.Z)(this,"positionalMobileStyles",{bottom:"bottom: 0;",top:"bottom: unset !important; top: 0;"}),(0,o.Z)(this,"topPositionStyles",`\n    position: fixed !important;\n    right: -50%;\n    transform: translate(-50%);\n    z-index: ${this.zIndex};\n    height: 30px;\n    align-items: flex-end;\n  `),n){const e=e=>`\n          @media only screen and (${"mobile"===e?"max-width: 997px":"min-width: 998px"}){\n            .vuukle-sticky-ad[data-ad-id="${i}"] {\n              display: none !important;\n            } \n          }\n        `,t=document.createElement("style");t.innerHTML=e(n),document.body.appendChild(t)}this.makeAdSticky()}getStickyElementStyles(e,t,i){return`\n      min-width: ${e}px;\n      height: ${t}px;\n      position: fixed;\n      z-index: ${this.zIndex};\n      bottom: 0px;\n      text-align: center;\n      ${this.positionalStyles[i]}\n    `}createAdLabelWrapper(){const e=document.createElement("div");return e.className="vuukle-sticky-ad-label",e.style.cssText="\n      display: flex;\n      width: 100%;\n      text-align: center;\n      position: relative;\n      justify-content: center;\n    ",e}createAdLabel(){const e=document.createElement("div");return e.textContent="Advertisement",e.className="vuukle-sticky-ad-label-text-compact",e.style.cssText="\n      color: #6c757d;\n      height: 18px;\n      font-size: 12px;\n      line-height: 17px;\n    ",e}createAndConfigureCloseButton(e){const t=document.createElement("div");t.className="vuukle-sticky-ad-close",t.style.cssText="\n      display: flex;\n      width: 100%;\n      text-align: center;\n      position: relative;\n      justify-content: flex-end;\n      top: 6px;\n    ";const i=document.createElement("span");return i.onclick=()=>{var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)},i.title="Close",i.style.cssText='\n      cursor: pointer;\n      width: 18px;\n      height: 18px;\n      background-position: center center;\n      background-repeat: no-repeat;\n      border-radius: 50%;\n      background-size: 60%;\n      background-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22close-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpolygon%20fill%3D%22white%22%20points%3D%2219.346%205.421%2017.256%203.332%2011.338%209.25%205.42%203.332%203.332%205.421%209.25%2011.338%203.332%2017.257%205.42%2019.345%2011.338%2013.427%2017.256%2019.345%2019.346%2017.257%2013.428%2011.338%22%20clip-rule%3D%22evenodd%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E");\n      background-color: rgba(0, 0, 0, 0.5);\n    ',l.Z.isMobileUser||(i.style.visibility="hidden",e.onmouseover=()=>{i.style.visibility="visible"},e.onmouseout=()=>{i.style.visibility="hidden"}),t.prepend(i),t}adjustStickyAdAsItRefreshes(e){const t=this.placementElement.querySelector(".vuukle-ads");if(t){new MutationObserver((()=>{const i=t.offsetHeight+e.offsetHeight;this.placementElement.style.height=`${i}px`})).observe(t,{childList:!0,subtree:!0})}}addResponsiveStyles(e,t,i,o){const s=document.createElement("style");s.id=`${this.adId}-styles`,s.innerHTML=`\n      #${this.adId} .vuukle-ad-label {\n        display: none !important;\n      }\n\n      @media only screen and (max-width: 997px){\n        #${this.adId} {\n          width: 320px !important;\n          min-width: unset !important;\n          min-height: 60px !important;\n          height: unset !important;\n          ${this.positionalStyles.centerMedia}\n          ${this.positionalMobileStyles[e]||""}\n        }\n        // .vuukle-sticky-ad-bg {\n        //   height: 68px !important;\n        //   ${this.positionalStyles.centerMedia}\n        //   ${this.positionalMobileStyles[e]||""}\n        // }\n        .vuukle-sticky-ad-label {\n          ${"top"===e&&e!==t?this.topPositionStyles:""}\n          ${i?`\n            ${o?"":"top: unset !important;"}\n            position: relative !important;\n            height: unset;\n          `:""}\n        }\n        .vuukle-sticky-ad-label > p {\n          ${o||"top"===e?"display: none !important;":""}\n        }\n        .vuukle-sticky-ad-label > a {\n          ${o||"top"===e?"display: none !important;":""}\n        }\n        .vuukle-sticky-ad-label > .vuukle-sticky-ad-label-text-compact {\n          ${o||"top"===e?"display: block !important;":""}\n        }\n      }\n    `,document.head.appendChild(s)}addScrollFeatures(e,t,i){const o=(0,L.Z)((()=>{e.style.visibility="visible",t.style.visibility="visible"}),500);let s=0;this.options.showAfter&&i&&(e.style.visibility="hidden",t.style.visibility="hidden",s=parseInt(this.options.showAfter)),window.addEventListener("scroll",(()=>{i&&(window.scrollY>=s?(e.style.visibility="visible",t.style.visibility="visible"):(e.style.visibility="hidden",t.style.visibility="hidden")),this.options.hideOnScroll&&(e.style.visibility="hidden",t.style.visibility="hidden",this.options.showAfter&&window.scrollY>=s?o():this.options.showAfter||o())}))}makeAdSticky(){if(this.articleConfig.endlessMode&&document.getElementById(`${this.adId}-styles`)||!this.adId)return;const e=this.options.position||"center",t=this.options.mobilePosition||e||"bottom",i=this.options.width||728,o=this.options.height||90,s="top"===t||"top"===e,n="top"===t&&"top"===e,a=this.placementElement.parentElement,r=document.createElement("div");null==a||a.appendChild(r),r.appendChild(this.placementElement),r.style.cssText=`\n      position: fixed;\n      z-index: ${this.zIndex};\n      width: 100%;\n      top: 0;\n    `,r.classList.add("vuukle-sticky-ad"),r.dataset.adId=this.adId,this.placementElement.style.cssText+=this.getStickyElementStyles(i,o,e);const d=this.createAdLabelWrapper(),l=this.createAdLabel(),c=this.createAndConfigureCloseButton(r);(n||s)&&(c.appendChild(d),d.appendChild(l)),n?this.placementElement.insertAdjacentElement("beforeend",c):(this.placementElement.insertAdjacentElement(s?"beforeend":"afterbegin",c),s||this.placementElement.insertAdjacentElement("beforeend",d)),this.adjustStickyAdAsItRefreshes(c),this.addResponsiveStyles(t,e,s,n),this.addScrollFeatures(r,d,s)}};const I=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.slotId=e,this.activeGeos=t,this.insertInImageAdScript()}insertInImageAdScript(){if(this.activeGeos.length>0&&!this.activeGeos.includes(l.Z.userCountry))return;const e=document.createElement("div");e.id="gpt-passback";const t=document.createElement("script");t.innerHTML=`\n      window.googletag = window.googletag || {cmd: []};\n      googletag.cmd.push(function() {\n        googletag.defineSlot('${this.slotId}', [1, 1], 'gpt-passback').addService(googletag.pubads());\n        googletag.enableServices();\n        googletag.display('gpt-passback');\n      });\n    `,e.appendChild(t),document.body.appendChild(e)}};const E=class{constructor(){const e=document.createElement("script"),t=document.createElement("script");e.innerHTML="\n      window.grumi = {\n        cfg: {\n          advs: {\n            '4430731919': true,\n            '5016837261': true\n          }\n        },       \n        key: 'c2f70d6c-41d6-4133-8d0e-bd5fbd5557b5'\n      };\n    ",t.src="//rumcdn.geoedge.be/c2f70d6c-41d6-4133-8d0e-bd5fbd5557b5/grumi-ip.js",t.async=!0,document.body.appendChild(e),document.body.appendChild(t)}};var _=i(8413);const T=["1feb6d34-f2ca-4219-bff0-28be03a6d8da"];class M{constructor(e,t,i,s,n){this.articleConfig=t,this.communicationsCreator=i,this.widgetsCreator=n,(0,o.Z)(this,"adblockDetector",void 0),(0,o.Z)(this,"adUnitCreator",void 0),(0,o.Z)(this,"insertContainerDiv",((e,t,i)=>{let o;if("string"==typeof i)o=document.querySelector(i);else if("function"==typeof i)o=i();else for(const e of i){const t=document.querySelector(e);if(t){o=t;break}}if(o)switch(t){case"after":o.insertAdjacentElement("afterend",e);break;case"before":o.insertAdjacentElement("beforebegin",e);break;case"prependInside":o.insertAdjacentElement("afterbegin",e);break;default:o.appendChild(e)}})),(0,a.IW)(a.PP.adStart),(0,a.rX)(a.J8.platformStartToAdStart,a.PP.platformStart,a.PP.adStart),t.apiKey&&!l.Z.isBot&&("false"!==c.Z.get("vuuklead")?(M.realtimeAnalytics=s,g.xw[t.apiKey]?g.xw[t.apiKey].externalConfig?this.fetchAdvancedConfig(e):this.processAdvancedConfig(g.xw[t.apiKey],e):(g.xw[t.apiKey]={externalConfig:!0},this.fetchAdvancedConfig(e))):(0,a.qu)("log","%c [VUUKLE] ADs initialization blocked because of debugging key","background: #f66; color: #fff; padding: 5px;"))}fetchAdvancedConfig(e){const t=()=>{g.xw[this.articleConfig.apiKey]={...g.xw[this.articleConfig.apiKey],...window.vuukleAdConfiguration}};if(window.vuukleAdConfiguration)return t(),void this.processAdvancedConfig(window.vuukleAdConfiguration,e);(0,u.fs)(`https://cdn.vuukle.com/domain-configs/${this.articleConfig.host}.js`).then((()=>{window.vuukleAdConfiguration?(t(),this.processAdvancedConfig(g.xw[this.articleConfig.apiKey],e)):(0,a.qu)("error","Ad configuration for this host is missing")})).catch((()=>{var e;T.includes(this.articleConfig.apiKey)&&(null===(e=this.adblockDetector)||void 0===e||e.onAdblockDetected());this.communicationsCreator&&this.communicationsCreator.checkForAdblockers(),d.Z.log("view_page",this.articleConfig)}))}insertWidgetsDynamically(e,t){var i,o,s,a,r;if(!l.Z.userCountryDetermined)return void setTimeout((()=>this.insertWidgetsDynamically(e,t)),100);e.widgets&&this.widgetsCreator&&(!e.widgets.widgetInsertionGeos||null!==(i=e.widgets)&&void 0!==i&&i.widgetInsertionGeos&&e.widgets.widgetInsertionGeos.includes(l.Z.userCountry))&&!this.articleConfig.amp&&this.widgetsCreator.createWidgets(e.widgets,p.Z.articleCounter);const d=l.Z.isMobileUser&&null!==(o=e.insertQuizAndAd)&&void 0!==o&&null!==(o=o.quizOptions)&&void 0!==o&&o.ignorePathsMobile?(null===(s=e.insertQuizAndAd)||void 0===s?void 0:s.quizOptions.ignorePathsMobile)||[]:(null===(a=e.insertQuizAndAd)||void 0===a||null===(a=a.quizOptions)||void 0===a?void 0:a.ignorePaths)||[],c=v.Z.matchesPath(d);e.insertQuizAndAd&&this.widgetsCreator&&(!e.insertQuizAndAd.insertionGeos||null!==(r=e.insertQuizAndAd)&&void 0!==r&&r.insertionGeos&&e.insertQuizAndAd.insertionGeos.includes(l.Z.userCountry))&&!this.articleConfig.amp&&!c&&this.widgetsCreator.createWidgets({preInsertionOperation:()=>{var i,o,s;null!==(i=e.insertQuizAndAd)&&void 0!==i&&null!==(i=i.quizOptions)&&void 0!==i&&i.preQuizInsertionCallback&&e.insertQuizAndAd.quizOptions.preQuizInsertionCallback();const n=document.createElement("div");var a,r,d,c;(n.style.display="flex",n.style.flexWrap="wrap",n.style.backgroundColor="#f3f3f3",n.style.justifyContent="center",n.style.alignItems="center",n.id="vuukle-quiz-container".concat(t),null!==(o=e.insertQuizAndAd)&&void 0!==o&&null!==(o=o.containerDivOptions)&&void 0!==o&&o.containerDivStyles&&(n.style.cssText+=e.insertQuizAndAd.containerDivOptions.containerDivStyles),null!==(s=e.insertQuizAndAd)&&void 0!==s&&null!==(s=s.containerDivOptions)&&void 0!==s&&s.customInsertionFunction)?e.insertQuizAndAd.containerDivOptions.customInsertionFunction(n):this.insertContainerDiv(n,(null===(a=e.insertQuizAndAd)||void 0===a||null===(a=a.quizOptions)||void 0===a?void 0:a.insert)||"inside",l.Z.isMobileUser&&null!==(r=e.insertQuizAndAd)&&void 0!==r&&null!==(r=r.quizOptions)&&void 0!==r&&r.mobileSelector?null===(d=e.insertQuizAndAd)||void 0===d||null===(d=d.quizOptions)||void 0===d?void 0:d.mobileSelector:(null===(c=e.insertQuizAndAd)||void 0===c||null===(c=c.quizOptions)||void 0===c?void 0:c.selector)||"")},quiz:{insert:"inside",selector:"#vuukle-quiz-container".concat(t)},postInsertionOperation:()=>{var i,o;const s=document.querySelector(n.Z.selectors.quiz.concat(t))||document.querySelector(n.Z.selectors.quizAlt.concat(t));var a,r,d,c;s&&(s.style.marginTop="16px",s.style.marginRight="1px",null!==(a=e.insertQuizAndAd)&&void 0!==a&&null!==(a=a.quizOptions)&&void 0!==a&&a.quizStyles&&(s.style.cssText+=e.insertQuizAndAd.quizOptions.quizStyles));(null!==(i=e.insertQuizAndAd)&&void 0!==i&&null!==(i=i.quizOptions)&&void 0!==i&&i.postQuizInsertionCallback&&e.insertQuizAndAd.quizOptions.postQuizInsertionCallback(),null!==(o=e.insertQuizAndAd)&&void 0!==o&&null!==(o=o.quizOptions)&&void 0!==o&&o.quizMaxHeight)&&(null===(r=this.widgetsCreator)||void 0===r||null===(r=r.communicationCreator)||void 0===r||r.tellQuizToChangeMaxHeight(e.insertQuizAndAd.quizOptions.quizMaxHeight));e.disableQuizLogin&&(null===(d=this.widgetsCreator)||void 0===d||null===(d=d.communicationCreator)||void 0===d||d.disableQuizLogin());e.compactQuizzly&&!l.Z.isMobileUser&&(null===(c=this.widgetsCreator)||void 0===c||null===(c=c.communicationCreator)||void 0===c||c.enableQuizCompactMode())}},p.Z.articleCounter)}processAdvancedConfig(e,t){var i;"boolean"==typeof e.gaEvents?r.Z.sendGAEvents=e.gaEvents:("object"==typeof e.insertQuizAndAd||null!==(i=this.communicationsCreator)&&void 0!==i&&i.isQuizOnThePage())&&(r.Z.sendGAEvents=!0),this.insertWidgetsDynamically(e,t),e.disableQuizLogin&&this.communicationsCreator&&this.communicationsCreator.disableQuizLogin(),e.compactQuizzly&&this.communicationsCreator&&!l.Z.isMobileUser&&this.communicationsCreator.enableQuizCompactMode(),e.showEmotesArticlesByDefault&&this.communicationsCreator&&this.communicationsCreator.showEmotesArticlesByDefault();const o=document.querySelector(n.Z.selectors.comments.concat(t))||document.querySelector(n.Z.selectors.emotes.concat(t)),a=null!==document.querySelector(n.Z.selectors.comments.concat(t))&&this.articleConfig.comments.enabled,c=null!==document.querySelector(n.Z.selectors.emotes.concat(t))&&this.articleConfig.emotes.enabled,u=a||c;let h=!0,m=!0,g=!0;if("boolean"==typeof e.showCWAudioButton&&this.communicationsCreator&&this.communicationsCreator.toggleAudioButton(e.showCWAudioButton),(this.articleConfig.amp&&e.fireViewPageInAMP&&!d.Z.viewPageFired||!e.skipPageView&&!this.articleConfig.noViewPage&&!d.Z.viewPageFired)&&d.Z.log("view_page",this.articleConfig),this.articleConfig.amp)return void this.loadAdConfiguration(this.articleConfig,e,null,!0,"");if(e.CMP&&_.Z.loadCMP(e.CMP),e.blockKeywords&&(m=!v.Z.containsKeyword(this.articleConfig.url,e.blockKeywords)),e.blockAdsByTags&&this.articleConfig.tags&&(g=!v.Z.containsKeyword(this.articleConfig.tags,e.blockAdsByTags),g||d.Z.log("ads_false",this.articleConfig)),h=g&&m,e.disableAdsOnPageVariable){const e=s.Z.get("publir_subscriber");"boolean"==typeof window.publir_show_ads&&(h=window.publir_show_ads),"1"===e&&(h=!1)}const b="boolean"==typeof this.articleConfig.ads&&!this.articleConfig.ads,w="object"==typeof this.articleConfig.ads&&!1===this.articleConfig.ads.enabled;var y,C;((b||w)&&(h=!1),"boolean"==typeof e.ads&&!1===e.ads&&(h=!1),M.canCreateAds||(h=!1),e.setVuukleSite&&(window.vuukleSite=e.setVuukleSite),e.quizCallToAction)&&(null===(y=this.communicationsCreator)||void 0===y||y.activateCTAInQuiz(e.quizCallToAction));if(h){var k;this.adUnitCreator=new p.Z(e,this.articleConfig),e.targets&&(M.loadPrebid(e.adUnit),e.skipAdblockCheck||(this.adblockDetector=new f.Z(this.articleConfig,e,this.communicationsCreator))),this.loadAdConfiguration(this.articleConfig,e,o,u,t),null===(k=this.communicationsCreator)||void 0===k||k.toggleAdSpaceCreation(Boolean(e.targets));if(!document.querySelector(n.Z.selectors.trafficExchange.concat(t))&&e.insertTX){const{insert:i,selector:o}=e.insertTX;this.adUnitCreator.insertTXInsideElement(i,o,t)}}else m&&g||d.Z.log("policy_bad",this.articleConfig);e.CWBubblePosition&&(null===(C=this.communicationsCreator)||void 0===C||C.changeCommentsBubblePosition(e.CWBubblePosition))}static loadPrebid(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"prebid3",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;null===t.document.querySelector(`head script[src="https://cdn.vuukle.com/static/${e}.js"]`)&&((0,a.IW)(a.PP.prebidLoadStart),(0,a.rX)(a.J8.adStartToPrebidLoadStart,a.PP.adStart,a.PP.prebidLoadStart),(0,a.rX)(a.J8.platformStartToPrebidLoadStart,a.PP.platformStart,a.PP.prebidLoadStart),(0,u.fs)(`https://cdn.vuukle.com/static/${e}.js`,{},t).then((()=>{(0,a.IW)(a.PP.prebidLoadEnd),(0,a.rX)(a.J8.prebidStartToEnd,a.PP.prebidLoadStart,a.PP.prebidLoadEnd),(0,a.rX)(a.J8.platformStartToPrebidLoad,a.PP.platformStart,a.PP.prebidLoadEnd),x.Z.prebidLoaded=!0,(0,a.Gf)("info",!0,`Vuukle - ${(0,h.xz)()} [Platform.js] Prebid script loaded`),setTimeout((()=>{x.Z.initialPeriodPassed=!0}),5e3)})).catch((()=>{(0,a.IW)(a.PP.prebidLoadError),(0,a.rX)(a.J8.prebidStartToError,a.PP.prebidLoadStart,a.PP.prebidLoadError),(0,a.rX)(a.J8.platformStartToPrebidError,a.PP.platformStart,a.PP.prebidLoadError),x.Z.prebidBlocked=!0,x.Z.prebidLoaded=!0})))}loadAdConfiguration(e,t,i,o,s){if((0,a.IW)(a.PP.adConfigLoadStart),(0,a.rX)(a.J8.adStartToConfigLoadStart,a.PP.adStart,a.PP.adConfigLoadStart),window._vuukleConfig)return void this.processAdConfiguration(window._vuukleConfig,t,i,e,o,s);const n=(0,m._2)(`vuukleconfhttps://cdn.vuukle.com/ads/${e.host}.json`),r=(0,m._2)(`vuukleconftimehttps://cdn.vuukle.com/ads/${e.host}.json`);if(n&&r)try{const a=JSON.parse(n);if((new Date).valueOf()-Number(r)<18e5)return void this.processAdConfiguration(a.data,t,i,e,o,s)}catch(e){(0,a.qu)("error",e)}const d=n=>{const r=()=>{(0,m.ti)(`vuukleconfhttps://cdn.vuukle.com/ads/${e.host}.json`,JSON.stringify({time:(new Date).valueOf(),data:n})),(0,m.ti)(`vuukleconftimehttps://cdn.vuukle.com/ads/${e.host}.json`,(new Date).valueOf().toString())};window._vuukleConfig=n,l.Z.canUseCookies?r():l.Z.addStorageUpdateCallback((()=>{r()})),(0,a.IW)(a.PP.adConfigLoadEnd),(0,a.rX)(a.J8.adStartToConfigLoadEnd,a.PP.adConfigLoadStart,a.PP.adConfigLoadEnd),(0,a.rX)(a.J8.platformStartToAdConfigLoadEnd,a.PP.platformStart,a.PP.adConfigLoadEnd),this.processAdConfiguration(n,t,i,e,o,s)},c=t=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.setRequestHeader("Content-Type","text/plain"),i.send(),i.onreadystatechange=()=>{if(4===i.readyState&&200===i.status){const t=JSON.parse(i.responseText);t.errors&&"no_cache"===t.errors[0]?c(`https://api.vuukle.com/api/v1/AdsJson/fillKVcacheForHost?host=${e.host}`):d(t)}else 200!==i.status&&((0,a.IW)(a.PP.adConfigLoadError),(0,a.rX)(a.J8.adConfigStartToError,a.PP.adConfigLoadStart,a.PP.adConfigLoadError),(0,a.rX)(a.J8.platformStartToAdConfigLoadError,a.PP.platformStart,a.PP.adConfigLoadError))},i.onerror=()=>{var t;T.includes(e.apiKey)&&(null===(t=this.adblockDetector)||void 0===t||t.onAdblockDetected())}};c(`https://cdn.vuukle.com/ads/${e.host}.json`)}processAdConfiguration(e,t,i,o,s,n){if(window._vuukleConfig||(window._vuukleConfig=e),"boolean"==typeof e.noGpt&&(x.Z.noGPT=e.noGpt),e.realtime&&(M.realtimeAnalytics&&(M.realtimeAnalytics.enabled=!0,M.realtimeAnalytics.init(o)),this.communicationsCreator&&this.communicationsCreator.enableRealtime()),o.amp)return;p.Z.canCreateTXAds=!e.noAdsTX;const d=g.xw[o.apiKey];e.disableAdRefresh&&(M.canRefreshAds=!1);const c=()=>{var t;if(l.Z.userCountryDetermined||!e.excludedAds){if(e.excludedAds&&e.excludedAds[l.Z.userCountry]){e.excludedAds[l.Z.userCountry].forEach((e=>{var t;null===(t=d.targets)||void 0===t||delete t[e]}))}if(this.adUnitCreator.createAdvancedAd(i,s,n),d.excludeAdSenseRefreshFrom&&null!==(t=d.excludeAdSenseRefreshFrom)&&void 0!==t&&t.includes(o.host)||this.adUnitCreator.findAndReplaceAdSenseUnits(n),this.adUnitCreator.findAndReplaceExistingAdUnits(n),d.quizNewsfeedPopupAdId){const e=setInterval((()=>{r.Z.quizNewsfeedPopupInstance&&d.quizNewsfeedPopupAdId&&(r.Z.quizNewsfeedPopupInstance.injectAd(d.quizNewsfeedPopupAdId),clearInterval(e))}),100)}d.iframeIDForPlatformInjection&&setTimeout((async()=>{const e=await(0,u.br)(`iframe[id="${d.iframeIDForPlatformInjection}"]`,1e3,20);if(e&&e.contentDocument&&e.contentWindow){e.contentWindow.VUUKLE_CONFIG=this.articleConfig;const t=e.contentDocument.createElement("script");t.src="https://cdn.vuukle.com/platform.js",e.contentDocument.head.appendChild(t),e.style.minWidth=l.Z.isMobileUser?"300px":"650px",e.style.minHeight=l.Z.isMobileUser?"700px":"350px"}}),0)}else setTimeout(c,100)};if(c(),e.videoPlayer){e.videoPlayer.countryExclude&&e.videoPlayer.countryExclude.includes(l.Z.userCountry)||("boolean"==typeof e.videoPlayer.onlyDesktop?(e.videoPlayer.onlyDesktop&&!l.Z.isMobileUser&&new b(e.videoPlayer.aniviewID),!e.videoPlayer.onlyDesktop&&l.Z.isMobileUser&&new b(e.videoPlayer.aniviewID)):new b(e.videoPlayer.aniviewID))}if(e.emotesAd){if(e.emotesAd.countryInclude&&e.emotesAd.countryInclude.length>0){var h;var m;if(null===(h=e.emotesAd.countryInclude)||void 0===h?void 0:h.includes(l.Z.userCountry))null===(m=this.communicationsCreator)||void 0===m||m.sendAdToEmotes(e.emotesAd.emotesSlot,e.emotesAd.imageUrl,e.emotesAd.clickUrl,e.emotesAd.label)}else{var f;null===(f=this.communicationsCreator)||void 0===f||f.sendAdToEmotes(e.emotesAd.emotesSlot,e.emotesAd.imageUrl,e.emotesAd.clickUrl,e.emotesAd.label)}}if(e.audioAdID&&this.communicationsCreator&&this.communicationsCreator.enableAudioAds(e.audioAdID),(e.stickyAd||e.extraStickyAds)&&this.processStickyAdConfigs(e,d,o,n),t.sovrnBeacon&&new A,t.enableGeoEdge&&new E,t.INTLAd){const i=l.Z.isMobileUser&&t.INTLAd.ignorePathsMobile?t.INTLAd.ignorePathsMobile:t.INTLAd.ignorePaths;if(!t.INTLAd.ignorePaths||!t.INTLAd.ignorePathsMobile||i&&!v.Z.matchesPath(i)){var w,y,C;const i=(null===(w=t.targets)||void 0===w||null===(w=w[t.INTLAd.adId])||void 0===w?void 0:w.gptNumber)||v.Z.getTheGPTNumberOfTheAdTarget(t.INTLAd.adId);new S(t.INTLAd.adId,t.INTLAd.desktopOnly,t.INTLAd.mobileOnly,e.INTLFreqCap||2,i,null===(y=t.targets)||void 0===y||null===(y=y[t.INTLAd.adId])||void 0===y?void 0:y.gptId),this.adUnitCreator.createAdAtCustomLocation(document.querySelector(`#${t.INTLAd.adId}`),t.INTLAd.adId,i,null===(C=t.targets)||void 0===C||null===(C=C[t.INTLAd.adId])||void 0===C?void 0:C.gptId,n)}}t.inImageAd&&new I(t.inImageAd.slotId,t.inImageAd.activeGeos),(0,a.IW)(a.PP.adEnd),(0,a.rX)(a.J8.adStartToEnd,a.PP.adStart,a.PP.adEnd),(0,a.rX)(a.J8.platformStartToAdEnd,a.PP.platformStart,a.PP.adEnd)}processStickyAdConfigs(e,t,i,o){const s=s=>{var n,a,r;const d=s.countryInclude&&s.countryInclude.length>0,c=null===(n=s.countryInclude)||void 0===n?void 0:n.includes(l.Z.userCountry);if(d&&!c)return;const u="center"===s.stickyAdPosition||"top"===s.stickyAdPosition||!s.stickyAdPosition;let h=null;s.divId?(h=document.createElement("div"),h.id=s.divId,document.body.appendChild(h)):s.targetDivId&&(h=document.getElementById(s.targetDivId));const m=s.targetDivId||s.divId||"",g=(null===(a=t.targets)||void 0===a||null===(a=a[m])||void 0===a?void 0:a.gptNumber)||v.Z.getTheGPTNumberOfTheAdTarget(m);if(this.adUnitCreator.createAdAtCustomLocation(h,m,g,null===(r=t.targets)||void 0===r||null===(r=r[m])||void 0===r?void 0:r.gptId,o),h){const t=e.hideStickyAdOn||s&&s.hideStickyAdOn;new Z(i,h,m,{height:u?90:250,mobilePosition:s.stickyAdMobilePosition,position:s.stickyAdPosition,width:u?728:300,showAfter:s.showStickyAfter,hideOnScroll:s.hideOnScroll},t)}};e.stickyAd&&s(e.stickyAd),e.extraStickyAds&&e.extraStickyAds.forEach((e=>{s(e)}))}}(0,o.Z)(M,"realtimeAnalytics",void 0),(0,o.Z)(M,"canRefreshAds",!0),(0,o.Z)(M,"canCreateAds",!0);const P=M},3314:(e,t,i)=>{"use strict";i.d(t,{Y:()=>s});var o=i(1208);class s{constructor(e){(0,o.Z)(this,"widgetObject",void 0),(0,o.Z)(this,"listener",void 0),this.widgetObject=e}isValidEvent(e){if(!(e instanceof Object||e.data instanceof Object||e.data.sourceWindowName))return!1;let t=!1;if(Array.isArray(this.widgetObject))for(let i of this.widgetObject)i.iframe.name===e.data.sourceWindowName&&(t=!0);else t=e.data.sourceWindowName===this.widgetObject.iframe.name;return t}postMessage(e){Array.isArray(this.widgetObject)?this.widgetObject.forEach((t=>{t.onLoad((t=>t.postMessage(e,"*")))})):this.widgetObject.onLoad((t=>t.postMessage(e,"*")))}removeMessageListener(){window.removeEventListener("message",this.listener)}}},3899:(e,t,i)=>{"use strict";i.d(t,{V:()=>c});var o=i(1208),s=i(6801),n=i(6281),a=i(2867),r=i(1324),d=i(3164),l=i(3314);class c extends l.Y{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0;super(e),this.widgetObject=e,this.articleConfig=t,this.powerbarListeners=i,this.commentsListener=l,this.emotesListener=c,this.quizListener=u,(0,o.Z)(this,"listener",(e=>{var t;if(this.isValidEvent(e)){var i,o,r,l;if((0,s.qu)("log","[Vuukle.js | Modal] message:",e),null!==(t=e.data.modalReply)&&void 0!==t&&t.hideModal&&this.handleHideModal(e),e.data.modalLoaded&&this.notifyModalLoading(e),e.data.followInfo&&this.commentsListener&&this.commentsListener.postMessage({followInfo:e.data.followInfo}),e.data.modalMessage&&this.broadcastModalMessage(e),e.data.loginToken&&e.data.tokenType)"regular"===e.data.tokenType?(d.Z.setRegularCommenting(!0),d.Z.setGuestCommenting(!1),d.Z.setAnonymousCommenting(!1)):"guest"===e.data.tokenType&&(d.Z.setRegularCommenting(!1),d.Z.setGuestCommenting(!0),d.Z.setAnonymousCommenting(!1)),d.Z.saveToken(e.data.loginToken),null===(i=this.commentsListener)||void 0===i||i.postMessage({loginToken:e.data.loginToken}),this.powerbarListeners.forEach((t=>t.postMessage({loginToken:e.data.loginToken}))),null===(o=this.powerbarListeners[0])||void 0===o||o.fetchUserId(),null===(r=this.emotesListener)||void 0===r||r.postMessage({loginToken:e.data.loginToken}),null===(l=this.quizListener)||void 0===l||l.postMessage({loginToken:e.data.loginToken});e.data.blockedUserID&&this.commentsListener&&this.commentsListener.postMessage({blockedUserID:e.data.blockedUserID}),e.data.unBlockedUserID&&this.commentsListener&&this.commentsListener.postMessage({unBlockedUserID:e.data.unBlockedUserID}),e.data.reportEvent&&this.reportToAnalyticsServer(e),e.data.callSSO&&this.callSSOAuth(),e.data.openedShareNetwork&&this.powerbarListeners.length>0&&this.powerbarListeners[0].postMessage({openedShareNetwork:e.data.openedShareNetwork},{sendToOneInstance:!0}),e.data.alertMessage&&n.Z.createNotification(e.data.alertMessage.text,e.data.alertMessage.type),e.data.signUpComplete&&a.Z.log("user_register",this.articleConfig)}})),window.addEventListener("message",this.listener),this.postMessage({canUseCookies:r.Z.canUseCookies}),this.postMessage({loginToken:d.Z.getToken()}),this.postMessage({isMobile:r.Z.isMobileUser}),this.postMessage({customShareUrls:t.powerbar&&t.powerbar.customUrls||t.sharebar&&t.sharebar.customUrls})}switchThemeToDarkMode(e){this.postMessage({shouldUseDarkMode:e})}changeTheme(e){this.postMessage({changeTheme:e})}changeThemeColor(e){this.postMessage({themeColor:e})}notifyModalLoading(e){var t,i;const o=document.querySelector(`#${this.widgetObject.id}`);o instanceof HTMLIFrameElement&&(o.style.display=e.data.modalLoaded?"none":"block"),null===(t=this.commentsListener)||void 0===t||t.postMessage({modalLoaded:e.data.modalLoaded}),this.powerbarListeners.forEach((t=>t.postMessage({modalLoaded:e.data.modalLoaded}))),null===(i=this.quizListener)||void 0===i||i.postMessage({modalLoaded:e.data.modalLoaded})}broadcastModalMessage(e){var t,i;(this.commentsListener&&this.commentsListener.postMessage({modalMessage:e.data.modalMessage}),e.data.modalMessage.loggedIn)?(this.powerbarListeners.forEach((e=>e.postMessage({loggedIn:!0}))),null===(t=this.quizListener)||void 0===t||t.postMessage({loggedIn:!0})):(this.powerbarListeners.forEach((t=>t.postMessage({modalMessage:e.data.modalMessage}))),null===(i=this.quizListener)||void 0===i||i.postMessage({modalMessage:e.data.modalMessage}))}reportToAnalyticsServer(e){const{action:t}=e.data.reportEvent;"string"==typeof t&&a.Z.log(t,this.articleConfig)}callSSOAuth(){var e,t;const i=(null===(e=this.articleConfig.comments)||void 0===e||null===(e=e.auth)||void 0===e||null===(e=e.sso)||void 0===e?void 0:e.onClick)||(null===(t=this.articleConfig.auth)||void 0===t||null===(t=t.sso)||void 0===t?void 0:t.onClick);"function"==typeof i?i():console.error("[Vuukle] ⚠ Please configure SSO to allow users to authenticate.")}handleHideModal(e){const t=document.querySelector(`#${this.widgetObject.id}`);t instanceof HTMLIFrameElement&&(t.style.display="none"),this.commentsListener&&this.commentsListener.postMessage({modalData:e.data.modalReply})}}},8776:(e,t,i)=>{"use strict";i.d(t,{u:()=>l});var o=i(1208),s=i(4654),n=i(6281),a=i(2867),r=i(1324),d=i(3164);class l{constructor(e,t,i){this.articleConfig=t,this.widgetListener=i,(0,o.Z)(this,"widgetObject",void 0),(0,o.Z)(this,"listener",(e=>{var t;if(this.isValidEvent(e)){var i,o;if((0,s.ZV)("log","[Vuukle.js | Modal(Windowed)] message:",e),null!==(t=e.data.modalReply)&&void 0!==t&&t.hideModal&&this.handleHideModal(),e.data.modalLoaded)null===(i=this.widgetListener)||void 0===i||i.postMessage({modalLoaded:e.data.modalLoaded});if(e.data.modalMessage&&this.broadcastModalMessage(e),e.data.reportEvent&&this.reportToAnalyticsServer(e),e.data.callSSO&&this.callSSOAuth(),e.data.openedShareNetwork&&this.widgetListener&&this.widgetListener.postMessage({openedShareNetwork:e.data.openedShareNetwork},{sendToOneInstance:!0}),e.data.alertMessage&&n.Z.createNotification(e.data.alertMessage.text,e.data.alertMessage.type),e.data.modalWindowLoaded&&(this.widgetObject.setLoaded(!0),this.widgetObject.executeAllCallbacks()),e.data.vuukle_event&&this.shareEventToPublished(e.data.vuukle_event,this.articleConfig.eventHandler),e.data.signUpComplete&&a.Z.log("user_register",this.articleConfig),e.data.loginToken&&e.data.tokenType)"regular"===e.data.tokenType?(d.Z.setRegularCommenting(!0),d.Z.setGuestCommenting(!1),d.Z.setAnonymousCommenting(!1)):"guest"===e.data.tokenType&&(d.Z.setRegularCommenting(!1),d.Z.setGuestCommenting(!0),d.Z.setAnonymousCommenting(!1)),d.Z.saveToken(e.data.loginToken),null===(o=this.widgetListener)||void 0===o||o.postMessage({loginToken:e.data.loginToken})}})),this.widgetObject=e,window.addEventListener("message",this.listener),this.postMessage({canUseCookies:r.Z.canUseCookies}),this.postMessage({loginToken:d.Z.getToken()}),this.postMessage({isMobile:r.Z.isMobileUser}),this.postMessage({customShareUrls:t.powerbar&&t.powerbar.customUrls||t.sharebar&&t.sharebar.customUrls})}broadcastModalMessage(e){var t,i;e.data.modalMessage.loggedIn?null===(t=this.widgetListener)||void 0===t||t.postMessage({loggedIn:!0}):null===(i=this.widgetListener)||void 0===i||i.postMessage({modalMessage:e.data.modalMessage})}reportToAnalyticsServer(e){const{action:t}=e.data.reportEvent;"string"==typeof t&&a.Z.log(t,this.articleConfig)}callSSOAuth(){var e,t;const i=(null===(e=this.articleConfig.comments)||void 0===e||null===(e=e.auth)||void 0===e||null===(e=e.sso)||void 0===e?void 0:e.onClick)||(null===(t=this.articleConfig.auth)||void 0===t||null===(t=t.sso)||void 0===t?void 0:t.onClick);"function"==typeof i?i():console.error("[Vuukle] ⚠ Please configure SSO to allow users to authenticate.")}handleHideModal(){var e;null===(e=this.widgetObject.currentWindow)||void 0===e||e.close(),this.widgetObject.setLoaded(!1)}isValidEvent(e){return!!(e instanceof Object||e.data instanceof Object||e.data.sourceWindowName)&&e.data.sourceWindowName===this.widgetObject.windowName}shareEventToPublished(e,t){"function"==typeof t&&t(e)}changeThemeColor(e){this.postMessage({themeColor:e})}postMessage(e){this.widgetObject.onLoad((t=>t.postMessage(e,"*")))}}},8870:(e,t,i)=>{"use strict";i.d(t,{y:()=>y});var o=i(1208),s=i(6801),n=i(3314),a=i(6670),r=i(3164),d=i(1324),l=i(6148),c=i(8776),u=i(6644),h=i(1788),m=i(1059),g=i(939);class f extends g.Z{constructor(e,t){super(`${(0,m.Z)("Quiz-cta-popup-")}`,(null==e?void 0:e.callToActionText)||""),this.ctaOptions=e,this.quizListener=t,(0,o.Z)(this,"callToActionPopupCSS","\n    .vuukle-info-modal-body {\n      padding: 20px;\n    }\n    .vuukle-info-modal-container.vuukle-quiz-cta-popup {\n      max-width: 900px;\n      width: unset;\n      overflow: auto;\n      height: auto;\n    }\n    .vuukle-info-modal-container.vuukle-quiz-cta-popup .vuukle-info-modal-body {\n      padding-top: 5px;\n    }\n    .vuukle-info-modal-container.vuukle-quiz-cta-popup .vuukle-info-modal-header {\n      box-shadow: unset;\n    }\n    .vuukle-info-modal-container.vuukle-quiz-cta-popup .vuukle-info-modal-header h4 {\n      font-style: normal;\n      font-weight: 700;\n      font-size: 15px;\n      line-height: 18px;\n      color: #60657B;\n      mix-blend-mode: normal;\n      text-align: left;\n      margin-left: 40px;\n    }\n    .vuukle-info-modal-container.vuukle-quiz-cta-popup .vuukle-info-modal-header .vuukle-info-modal-close {\n      justify-content: flex-end;\n    }\n\n    @media (max-width: 1024px) {\n      .vuukle-info-modal-container.vuukle-quiz-cta-popup {\n        max-width: 100vw;\n        height: 100vh !important;\n        width: 100vw;\n      }\n    }\n  "),(0,o.Z)(this,"isInitialized",!1),super.create();const i=document.createElement("style");i.innerHTML=this.callToActionPopupCSS,document.head.appendChild(i);const s=this.modalElement.querySelector(".vuukle-info-modal-header");s&&(s.style.padding="20px 0")}initializePopup(){if(!this.isInitialized){var e,t;const i=new DOMParser,o="function"==typeof(null===(e=this.ctaOptions)||void 0===e?void 0:e.callToActionPopupHTML)?this.ctaOptions.callToActionPopupHTML(this.quizListener,this):null===(t=this.ctaOptions)||void 0===t?void 0:t.callToActionPopupHTML,s=i.parseFromString(o||"","text/html");this.modalBodyElement.insertAdjacentHTML("afterbegin",s.documentElement.innerHTML),Array.from(this.modalBodyElement.querySelectorAll("script")).forEach((e=>{var t;const i=document.createElement("script");Array.from(e.attributes).forEach((e=>{i.setAttribute(e.name,e.value)}));const o=document.createTextNode(e.innerHTML);i.appendChild(o),null===(t=e.parentNode)||void 0===t||t.replaceChild(i,e)})),this.isInitialized=!0}}showPopup(){this.show(this.modalElement)}getModalHTML(){return`\n      <div role="dialog" aria-modal="true" aria-labelledby="${this.id}-header">\n        <div class="vuukle-info-modal-overlay"></div>\n        <div class="vuukle-info-modal-container vuukle-quiz-cta-popup">\n          <div class="vuukle-info-modal-header">\n            <div>\n              <h4 id="${this.id}-header">${this.header}</h4>\n            </div>\n            <button class="vuukle-info-modal-close" title="Close" aria-label="Close Modal">\n              <svg style="width: 20px; height: 20px;" viewBox="0 0 24 24">\n                <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />\n              </svg>\n            </button>\n          </div>\n          <div class="vuukle-info-modal-body">\n          </div>\n        </div>\n      </div>\n    `}}const p=f;var v=i(6281),b=i(2867),w=i(8413);class y extends n.Y{constructor(e,t,i,n,c){let m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];if(super(e),this.widgetObject=e,this.modalListener=t,this.articleConfig=i,this.widgetsCreator=n,this.emotesListener=c,this.powerbarListeners=m,(0,o.Z)(this,"modalWindow",void 0),(0,o.Z)(this,"modalWindowListener",void 0),(0,o.Z)(this,"modalIframe",void 0),(0,o.Z)(this,"commentsListener",void 0),(0,o.Z)(this,"ctaPopup",void 0),(0,o.Z)(this,"loginTypes",[]),(0,o.Z)(this,"themeColor",""),(0,o.Z)(this,"customLogoLink",""),(0,o.Z)(this,"listener",(e=>{if(this.isValidEvent(e)){if((0,s.qu)("log","[Vuukle.js | Quiz] message:",e),e.data.loginTypes&&(this.loginTypes=e.data.loginTypes),e.data.getQuestionAnswer&&this.postMessage({chosenAnswer:this.getQuestionAnswer(e.data.getQuestionAnswer)}),e.data.getRecordedIdOfReportedQuestion&&this.postMessage({recordedQuestionId:this.getReportedQuestion(e.data.getRecordedIdOfReportedQuestion)}),e.data.setReportedQuestion){const{quizId:t,reportId:i}=e.data.setReportedQuestion;this.setReportedQuestion(t,i)}if(e.data.setQuestionAnswer){const{quizId:i,answerIndex:o}=e.data.setQuestionAnswer;var t;if(this.setQuestionAnswer(i,o),window.gtag&&h.Z.sendGAEvents)window.gtag("event",(null===(t=this.articleConfig.overrideGAEventNames)||void 0===t?void 0:t.quiz_answered)||"quiz_answered",{event_category:"vuukle_engagement"})}var i,o,n,a;if(e.data.userAge&&this.setQuestionAnswer("age",e.data.userAge),e.data.userGender&&this.setQuestionAnswer("gender",e.data.userGender),"requestLogin"in e.data&&this.handleLoginRequest(e),e.data.loggedOutQW)r.Z.removeToken(),null===(i=this.commentsListener)||void 0===i||i.postMessage({loggedOutQW:!0}),null===(o=this.modalListener)||void 0===o||o.postMessage({removeSLToken:!0}),this.powerbarListeners.forEach((e=>{e.postMessage({loginToken:null})})),null===(n=this.emotesListener)||void 0===n||n.postMessage({loginToken:null});if(e.data.callSSO&&this.performSSOAuth(),e.data.removeAnswersForTheseIds&&this.removeAnswersForIDs(e.data.removeAnswersForTheseIds),e.data.showCTAPopup&&("function"==typeof window.quizCallToActionCallback?window.quizCallToActionCallback(this,this.ctaPopup):(this.ctaPopup.initializePopup(),this.ctaPopup.showPopup())),e.data.openLink&&(window.location.href=e.data.openLink),e.data.alertMessage&&v.Z.createNotification(e.data.alertMessage.text,e.data.alertMessage.type),e.data.articleSharedWithNetwork)if(b.Z.log(`share_${e.data.articleSharedWithNetwork}`,this.articleConfig),window.gtag&&h.Z.sendGAEvents)window.gtag("event",(null===(a=this.articleConfig.overrideGAEventNames)||void 0===a?void 0:a[`share_${e.data.articleSharedWithNetwork}`])||`share_${e.data.articleSharedWithNetwork}`,{event_category:"vuukle_engagement"});if(e.data.customLogoLink&&(this.customLogoLink=e.data.customLogoLink),e.data.cookieUsageAgreed&&(w.Z.executeWhenStorageValueCanBeSet("vuukle_cookie_usage_agreed",(()=>{(0,l.ti)("vuukle_cookie_usage_agreed","true")})),d.Z.canUseCookies=!0,w.Z.hasConsent=!0),e.data.userId&&this.setUserID(e.data.userId),e.data.targetingTopic){const t=e.data.targetingTopic.replace(/\s+/g,"-");window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting("quizzly_audience",t)}))}}})),window.addEventListener("message",this.listener),i.amp&&(this.modalWindow=new u.Z(i)),this.postMessage({canUseCookies:d.Z.canUseCookies}),this.postMessage({loginToken:r.Z.getToken()}),r.Z.addSSOTokenListener(`${e.id}-listener`,(e=>{this.postMessage({loginToken:e})})),setTimeout((()=>{const t=e.iframe.parentElement;t&&this.postMessage({shouldUseDarkMode:(0,a.E)(t)<.3})}),0),d.Z.userCountryDetermined){const e="true"===(0,l._2)("vuukle_cookie_usage_agreed");w.Z.isGDPR&&(e?(d.Z.canUseCookies=!0,w.Z.hasConsent=!0):this.postMessage({showCookieNotice:!0}))}else{const e=setInterval((()=>{if(d.Z.userCountryDetermined){const t="true"===(0,l._2)("vuukle_cookie_usage_agreed");w.Z.isGDPR&&(t?(d.Z.canUseCookies=!0,w.Z.hasConsent=!0):this.postMessage({showCookieNotice:!0})),clearInterval(e)}}),1e3)}this.postMessage({userId:(0,l._2)("vuukle_user_id")})}enableCTAPopup(e){this.ctaPopup=new p(e,this),this.postMessage({enableCTAButtonWithText:null==e?void 0:e.callToActionText})}setThemeColor(e){this.themeColor=e}setUserID(e){d.Z.canUseCookies?w.Z.executeWhenStorageValueCanBeSet("vuukle_user_id",(()=>{(0,l.ti)("vuukle_user_id",e)})):d.Z.addStorageUpdateCallback((()=>{w.Z.executeWhenStorageValueCanBeSet("vuukle_user_id",(()=>{(0,l.ti)("vuukle_user_id",e)}))}))}removeAnswersForIDs(e){const t=(0,l._2)("vuukle_quiz_answers");if(t){const i=JSON.parse(t);e.forEach((e=>{"number"==typeof i[e]&&delete i[e]})),w.Z.executeWhenStorageValueCanBeSet("vuukle_quiz_answers",(()=>{(0,l.ti)("vuukle_quiz_answers",JSON.stringify(i))}))}}openAndInitializeWindowedModal(){this.modalWindow.currentWindow||this.modalWindow.openModalInWindow(),this.modalWindowListener||(this.modalWindowListener=new c.u(this.modalWindow,this.articleConfig,this))}handleLoginRequest(e){this.articleConfig.amp?(this.openAndInitializeWindowedModal(),e.data.loginTypes&&(this.loginTypes=e.data.loginTypes),this.modalWindowListener.postMessage({loadModal:!0,modalData:{type:"login",data:{showQuizzlyLogo:!0,customLogoLink:this.customLogoLink}},loginTypes:e.data.loginTypes||this.loginTypes}),this.modalWindowListener.changeThemeColor(this.themeColor)):(e.data.loginTypes?(this.sendMessageToModal({loadModal:!0,loginTypes:e.data.loginTypes}),this.loginTypes=e.data.loginTypes):this.sendMessageToModal({modalData:{type:"login",data:{showQuizzlyLogo:!0,customLogoLink:this.customLogoLink}},loginTypes:this.loginTypes}),this.toggleModal(!0))}performSSOAuth(){var e,t;const i=(null===(e=this.articleConfig.comments)||void 0===e||null===(e=e.auth)||void 0===e||null===(e=e.sso)||void 0===e?void 0:e.onClick)||(null===(t=this.articleConfig.auth)||void 0===t||null===(t=t.sso)||void 0===t?void 0:t.onClick);"function"==typeof i?i():console.error("[Vuukle] ⚠ Please configure SSO to allow users to authenticate.")}sendMessageToModal(e){if(this.modalListener)this.modalListener.postMessage(e);else if(this.widgetsCreator){var t,i,o;this.widgetsCreator.createModal(e);const s=this.widgetObject.iframe.parentElement;null===(t=this.modalListener)||void 0===t||t.switchThemeToDarkMode((0,a.E)(s)<.3),null===(i=this.modalListener)||void 0===i||i.changeThemeColor(this.themeColor),null===(o=this.commentsListener)||void 0===o||o.postMessage({modalLoaded:!0})}}updateModalInstance(e,t){this.modalIframe=e,this.modalListener=t}updateCommentsListenerInstance(e){this.commentsListener=e}toggleModal(e){var t;const i=document.querySelector(`#${null===(t=this.modalIframe)||void 0===t?void 0:t.id}`);i&&(i.style.display=e?"block":"none")}getQuestionAnswer(e){const t=(0,l._2)("vuukle_quiz_answers");if(t){return JSON.parse(t)[e]}return null}getReportedQuestion(e){const t=(0,l._2)("vuukle_quiz_reported_questions");if(t){return JSON.parse(t)[e]}return null}setQuestionAnswer(e,t){const i=()=>{let i=(0,l._2)("vuukle_quiz_answers");i||(w.Z.executeWhenStorageValueCanBeSet("vuukle_quiz_answers",(()=>{(0,l.ti)("vuukle_quiz_answers","{}")})),i=(0,l._2)("vuukle_quiz_answers"));const o=JSON.parse(i||"{}");o[e]=t,w.Z.executeWhenStorageValueCanBeSet("vuukle_quiz_answers",(()=>{(0,l.ti)("vuukle_quiz_answers",JSON.stringify(o))}))};d.Z.canUseCookies?i():d.Z.addStorageUpdateCallback((()=>{i()}))}setReportedQuestion(e,t){const i=()=>{let i=(0,l._2)("vuukle_quiz_reported_questions");i||(w.Z.executeWhenStorageValueCanBeSet("vuukle_quiz_reported_questions",(()=>{(0,l.ti)("vuukle_quiz_reported_questions","{}")})),i=(0,l._2)("vuukle_quiz_reported_questions"));const o=JSON.parse(i||"{}");o[e]=t,w.Z.executeWhenStorageValueCanBeSet("vuukle_quiz_reported_questions",(()=>{(0,l.ti)("vuukle_quiz_reported_questions",JSON.stringify(o))}))};d.Z.canUseCookies?i():d.Z.addStorageUpdateCallback((()=>{i()}))}changeTheme(e){this.postMessage({changeTheme:e})}}},5577:(e,t,i)=>{"use strict";i.d(t,{W:()=>a});var o=i(1208),s=i(6801),n=i(3314);class a extends n.Y{constructor(e){super(e),this.widgetObject=e,(0,o.Z)(this,"listener",(e=>{this.isValidEvent(e)&&(0,s.qu)("log","[Vuukle.js | Subscribe] message:",e)})),window.addEventListener("message",this.listener)}}},1788:(e,t,i)=>{"use strict";i.d(t,{Z:()=>M});var o=i(1208),s=i(4654),n=i(1655),a=(i(1009),i(7705)),r=i(6801),d=i(2867),l=i(1324),c=i(3164),u=i(8078),h=i(9715),m=i(6670),g=i(3314),f=i(8776);class p extends g.Y{constructor(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;super(e),this.currentWidgetObject=e,this.otherWidgetObjects=t,this.articleConfig=i,this.sharebarListeners=s,this.modalListener=n,this.widgetsCreator=a,(0,o.Z)(this,"loginTypes",[]),(0,o.Z)(this,"modalIframe",void 0),(0,o.Z)(this,"modalWindow",void 0),(0,o.Z)(this,"modalWindowListener",void 0),(0,o.Z)(this,"commentsListener",void 0),(0,o.Z)(this,"listener",(e=>{if(this.isValidEvent(e)){if((0,r.qu)("log","[Vuukle.js | Audio] message:",e),e.data.reportEvent&&this.reportToAnalyticsServer(e),"requestLogin"in e.data&&this.handleLoginRequest(e),"listenState"in e.data&&!("firstClick"in e.data)){var t;const{listenState:i}=e.data;null===(t=this.commentsListener)||void 0===t||t.postMessage({listenState:i}),this.otherWidgetObjects.length>0&&this.postMessage({listenState:i},{sendToOthers:!0}),this.sharebarListeners.forEach((e=>e.postMessage({listenState:i})))}if("listenState"in e.data&&"firstClick"in e.data){var i;const{firstClick:t,listenState:o}=e.data;null===(i=this.commentsListener)||void 0===i||i.postMessage({listenState:o,firstClick:t}),this.otherWidgetObjects.length>0&&this.postMessage({listenState:o,firstClick:t},{sendToOthers:!0}),this.sharebarListeners.forEach((e=>e.postMessage({listenState:o,firstClick:t})))}"audioSrc"in e.data&&this.shareAudioSyncMessage(e.data,"audioSrc"),"currentTime"in e.data&&this.shareAudioSyncMessage(e.data,"currentTime"),"hasEnded"in e.data&&this.shareAudioSyncMessage(e.data,"hasEnded"),"welcomeAudioStarted"in e.data&&this.shareAudioSyncMessage(e.data,"welcomeAudioStarted"),"welcomeAudioSrc"in e.data&&this.shareAudioSyncMessage(e.data,"welcomeAudioSrc"),"welcomeAudioTime"in e.data&&this.shareAudioSyncMessage(e.data,"welcomeAudioTime"),"welcomeAudioState"in e.data&&this.shareAudioSyncMessage(e.data,"welcomeAudioState")}})),window.addEventListener("message",this.listener),setTimeout((()=>{const t=e.iframe.parentElement;if(t){const e=(0,m.A)(t);this.postMessage({backgroundColor:e}),this.postMessage({shouldUseDarkMode:(0,m.E)(t)<.3})}}),0)}shareAudioSyncMessage(e,t){var i;const o=e[t];null===(i=this.commentsListener)||void 0===i||i.postMessage({[t]:o}),this.otherWidgetObjects.length>0&&this.postMessage({[t]:o},{sendToOthers:!0}),this.sharebarListeners.forEach((e=>e.postMessage({[t]:o})))}reportToAnalyticsServer(e){const{action:t}=e.data.reportEvent;"string"==typeof t&&d.Z.log(t,this.articleConfig)}handleLoginRequest(e){this.articleConfig.amp?(this.openAndInitializeWindowedModal(),e.data.loginTypes&&(this.loginTypes=e.data.loginTypes),this.modalWindowListener.postMessage({loadModal:!0,modalData:{type:"login"},loginTypes:e.data.loginTypes||this.loginTypes})):(e.data.loginTypes?(this.sendMessageToModal({loadModal:!0,loginTypes:e.data.loginTypes}),this.loginTypes=e.data.loginTypes):this.sendMessageToModal({modalData:{type:"login"}}),this.toggleModal(!0))}openAndInitializeWindowedModal(){this.modalWindow.currentWindow||this.modalWindow.openModalInWindow(),this.modalWindowListener||(this.modalWindowListener=new f.u(this.modalWindow,this.articleConfig,this))}toggleModal(e){var t;const i=document.querySelector(`#${null===(t=this.modalIframe)||void 0===t?void 0:t.id}`);i instanceof HTMLElement&&(i.style.display=e?"block":"none")}sendMessageToModal(e){this.modalListener?this.modalListener.postMessage(e):this.widgetsCreator&&this.widgetsCreator.createModal(e)}updateModalInstance(e,t){this.modalListener=t,this.modalIframe=e}updateCommentsListenerInstance(e){this.commentsListener=e}postMessage(e,t){t?t.sendToOthers&&this.otherWidgetObjects.forEach((t=>{t.onLoad((t=>t.postMessage(e,"*")))})):this.currentWidgetObject.onLoad((t=>t.postMessage(e,"*")))}}var v=i(6281),b=i(989),w=i(8413),y=i(2589),C=i(6148);class k extends g.Y{constructor(e,t,i,s,n,a){var d;let u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],g=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],f=arguments.length>8?arguments[8]:void 0,p=arguments.length>9?arguments[9]:void 0;if(super(e),this.widgetObject=e,this.index=t,this.articleConfig=i,this.widgetsCreator=s,this.realtime=n,this.emotesListener=a,this.powerbarListeners=u,this.audioWidgetListeners=g,this.quizListener=f,this.modalListener=p,(0,o.Z)(this,"modalIframe",void 0),(0,o.Z)(this,"themeColor",void 0),(0,o.Z)(this,"listener",(async e=>{if(this.isValidEvent(e)){if((0,r.qu)("log","[Vuukle.js | Comments] message:",e),e.data.syncWidget instanceof Object&&this.synchronizeWidgets(e),e.data.reportEvent&&this.reportToAnalyticsServer(e),"object"==typeof e.data.realtimeMessage&&("commentPosted"===e.data.realtimeMessage.type&&M.postedCommentCount++,this.realtime.send(e.data.realtimeMessage)),e.data.commentInputBoxRect&&(M.commentInputBoxRect=e.data.commentInputBoxRect),e.data.realtimeCommentsLoaded&&(M.commentCountLock=!1),e.data.realtimeRepliesLoaded&&"number"==typeof e.data.realtimeRepliesLoaded&&(this.widgetObject.commentCount+=e.data.realtimeRepliesLoaded),e.data.loadModal){var t,i;this.widgetsCreator.createModal(e.data);const o=this.widgetObject.iframe.parentElement;null===(t=this.modalListener)||void 0===t||t.switchThemeToDarkMode((0,m.E)(o)<.3),null===(i=this.modalListener)||void 0===i||i.changeThemeColor(this.themeColor),e.data.loginTypes&&this.powerbarListeners.forEach((e=>{e.postMessage({loginTypesSent:!0})}))}var o,s,n,a;if(e.data.vuukle_event&&this.shareEventToPublished(e.data.vuukle_event,this.articleConfig.eventHandler),e.data.articleData instanceof Object&&this.updateCommentCounts(e),e.data.settings&&e.data.settings.theme&&e.data.settings.theme.color&&this.updateTXColor(e),e.data.anonToken&&(c.Z.setAnonymousCommenting(!0),c.Z.setRegularCommenting(!1),c.Z.setGuestCommenting(!1),c.Z.saveToken(e.data.anonToken),c.Z.setAnonToken(e.data.anonToken)),e.data.removeAnonToken&&(c.Z.setAnonToken(null),c.Z.removeToken()),"string"==typeof e.data.updatedUID)l.Z.userAPIKey=e.data.updatedUID,null===(o=this.emotesListener)||void 0===o||o.updateVotedEmote(),this.powerbarListeners.forEach((e=>{e.setUserIdAvailable(!0),e.updateRecommendedState()}));if(e.data.modalData&&this.openModalWithMessage(e),e.data.callSSO&&(c.Z.setSSOInfo(!0),this.performSSOAuth()),e.data.openBrowserLink&&(window.location.href=e.data.openBrowserLink),"boolean"==typeof e.data.isEmailVerified&&this.modalListener&&this.modalListener.postMessage({isEmailVerified:e.data.isEmailVerified}),"string"==typeof e.data.userId&&this.powerbarListeners.forEach((t=>t.postMessage({userId:e.data.userId}))),e.data.alertMessage&&v.Z.createNotification(e.data.alertMessage.text,e.data.alertMessage.type),e.data.userInfo&&this.emotesListener&&this.emotesListener.postMessage({userInfo:e.data.userInfo}),e.data.loggedOut&&this.handleLogout(),"listenState"in e.data&&!("firstClick"in e.data)){const{listenState:t}=e.data;this.powerbarListeners.forEach((e=>e.postMessage({listenState:t}))),this.audioWidgetListeners.forEach((e=>e.postMessage({listenState:t})))}if("listenState"in e.data&&"firstClick"in e.data){const{firstClick:t,listenState:i}=e.data;this.powerbarListeners.forEach((e=>e.postMessage({listenState:i,firstClick:t}))),this.audioWidgetListeners.forEach((e=>e.postMessage({listenState:i,firstClick:t})))}if("audioSrc"in e.data&&this.shareAudioSyncMessage(e.data,"audioSrc"),"currentTime"in e.data&&this.shareAudioSyncMessage(e.data,"currentTime"),"hasEnded"in e.data&&this.shareAudioSyncMessage(e.data,"hasEnded"),"welcomeAudioStarted"in e.data&&this.shareAudioSyncMessage(e.data,"welcomeAudioStarted"),"welcomeAudioSrc"in e.data&&this.shareAudioSyncMessage(e.data,"welcomeAudioSrc"),"welcomeAudioTime"in e.data&&this.shareAudioSyncMessage(e.data,"welcomeAudioTime"),e.data.forgetToken)c.Z.removeToken(),this.powerbarListeners.forEach((e=>{e.postMessage({loginToken:null})})),null===(s=this.emotesListener)||void 0===s||s.postMessage({loginToken:null}),null===(n=this.modalListener)||void 0===n||n.postMessage({removeSLToken:!0}),null===(a=this.quizListener)||void 0===a||a.postMessage({loginToken:null});e.data.cookieUsageAgreed&&(w.Z.executeWhenStorageValueCanBeSet("vuukle_cookie_usage_agreed",(()=>{(0,C.ti)("vuukle_cookie_usage_agreed","true")})),l.Z.canUseCookies=!0,w.Z.hasConsent=!0)}})),window.addEventListener("message",this.listener),this.postMessage({canUseCookies:l.Z.canUseCookies}),i.amp){var b;i.comments.hideRecommendedArticles&&this.postMessage({disableToT:!0}),null!==(b=i.theme)&&void 0!==b&&b.darkMode&&this.postMessage({enableDarkMode:!0});const e=setInterval((()=>{window.hasResized&&(this.postMessage({hasResized:!0}),clearInterval(e))}),5e3)}if(this.postMessage({loginToken:c.Z.getToken()}),setTimeout((()=>{const t=e.iframe.parentElement;if(t){const e=(0,m.A)(t);this.postMessage({backgroundColor:e}),this.postMessage({shouldUseDarkMode:(0,m.E)(t)<.3})}}),0),this.audioWidgetListeners.length>0&&this.postMessage({showAudioButton:!1}),null!==(d=h.xw[i.apiKey])&&void 0!==d&&d.compact&&this.postMessage({compactMode:!0}),this.postMessage({isMobile:l.Z.isMobileUser}),this.postMessage({cookiesDisabled:!(0,y.tA)()}),l.Z.userCountryDetermined){const e="true"===(0,C._2)("vuukle_cookie_usage_agreed");w.Z.isGDPR&&(e?(l.Z.canUseCookies=!0,w.Z.hasConsent=!0):this.postMessage({showCookieNotice:!0}))}else{const e=setInterval((()=>{if(l.Z.userCountryDetermined){const t="true"===(0,C._2)("vuukle_cookie_usage_agreed");w.Z.isGDPR&&(t?(l.Z.canUseCookies=!0,w.Z.hasConsent=!0):this.postMessage({showCookieNotice:!0})),clearInterval(e)}}),1e3)}}setThemeColor(e){this.themeColor=e}shareAudioSyncMessage(e,t){const i=e[t];this.powerbarListeners.forEach((e=>e.postMessage({[t]:i}))),this.audioWidgetListeners.forEach((e=>e.postMessage({[t]:i})))}updateCommentCounts(e){const{articleData:t}=e.data;M.fillVuukleCountElement(this.index,t.commentCount||0),this.realtime.send({type:b.u.SetCommentCount,commentCount:t.commentCount})}reportToAnalyticsServer(e){const{action:t}=e.data.reportEvent;"string"==typeof t&&d.Z.log(t,this.articleConfig)}performSSOAuth(){var e,t;const i=(null===(e=this.articleConfig.comments)||void 0===e||null===(e=e.auth)||void 0===e||null===(e=e.sso)||void 0===e?void 0:e.onClick)||(null===(t=this.articleConfig.auth)||void 0===t||null===(t=t.sso)||void 0===t?void 0:t.onClick);"function"==typeof i?i():console.error("[Vuukle] ⚠ Please configure SSO to allow users to authenticate.")}openModalWithMessage(e){if(this.modalListener){this.modalListener.postMessage({modalData:e.data.modalData});const t=document.querySelector(`#${this.modalIframe.id}`);t&&(t.style.display=e.data.modalData.hideModal?"none":"block")}}handleLogout(){!w.Z.isGDPR&&!w.Z.isCCPA||l.Z.canUseCookies||this.deleteCookies(),this.emotesListener&&(this.emotesListener.postMessage({userInfo:{apiKey:null}}),this.emotesListener.updateVotedEmote()),this.quizListener&&this.quizListener.postMessage({loginToken:null})}synchronizeWidgets(e){e.data.syncWidget.commentAdded&&this.powerbarListeners.forEach((t=>t.postMessage({syncWidget:{commentAdded:e.data.syncWidget.commentAdded}}))),e.data.syncWidget.addCommentsToCounter&&this.powerbarListeners.forEach((t=>t.postMessage({syncWidget:{addCommentsToCounter:e.data.syncWidget.addCommentsToCounter}})))}updateTXColor(e){const t=document.querySelector(a.Z.selectors.trafficExchange.concat(this.index));if(t){const i=document.createElement("style");i.innerHTML=`\n        #${t.id} .vuukle-tx-read-more {\n          background: ${e.data.settings.theme.color};\n        }\n      `,document.head.appendChild(i)}}deleteCookies(){this.postMessage({deleteCookies:!0}),this.emotesListener&&this.emotesListener.removeCookies(),this.powerbarListeners.forEach((e=>{e.postMessage({deleteCookies:!0}),e.removeCookies()})),this.modalListener&&this.modalListener.postMessage({deleteCookies:!0}),l.Z.deleteCookies()}shareEventToPublished(e,t){"function"==typeof t&&t(e)}updateModalInstance(e,t){this.modalListener=t,this.modalIframe=e}changeTheme(e){this.postMessage({changeTheme:e})}}class S extends g.Y{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var a;(super(e),this.widgetObject=e,this.articleConfig=t,this.powerbarListeners=i,(0,o.Z)(this,"listener",(e=>{this.isValidEvent(e)&&((0,r.qu)("log","[Vuukle.js | Emotes] message:",e),e.data.syncWidget instanceof Object&&this.powerbarListeners.forEach((t=>t.postMessage({syncWidget:e.data.syncWidget}))),e.data.getVotedEmote&&this.postMessage({votedEmote:this.getVotedEmote()||null}),e.data.deleteVotedEmote&&this.deleteEmote(),e.data.emoteVote&&this.setEmote(e.data.emoteVote))})),(0,o.Z)(this,"deleteEmoteRequest",(e=>(0,s.$f)("DELETE","https://api.vuukle.com/api/v1/emote_ratings/remove",{apiKey:this.articleConfig.apiKey,articleAvatar:this.articleConfig.img,articleId:this.articleConfig.articleId,cookieId:e,host:this.articleConfig.host,tag:this.articleConfig.tags,title:this.articleConfig.title,uri:this.articleConfig.url},"application/json",c.Z.getToken(),!0))),(0,o.Z)(this,"postEmoteVote",(async e=>(0,s.$f)("POST","https://api.vuukle.com/api/v1/emote_ratings",{amp:this.articleConfig.amp,apiKey:this.articleConfig.apiKey,articleAvatar:this.articleConfig.img,articleId:this.articleConfig.articleId,emote:e,host:this.articleConfig.host,tag:this.articleConfig.tags,title:this.articleConfig.title,uri:this.articleConfig.url},"application/json",c.Z.getToken(),!0))),(0,o.Z)(this,"getVotedEmote",(()=>{const e=this.articleConfig.amp?parseInt((0,C._2)(this.getVotedCookieName())||""):parseInt(n.Z.get(this.getVotedCookieName())||"",10);if(e>=1&&e<=6)return e})),(0,o.Z)(this,"setEmote",(async e=>{const t={expires:60,sameSite:"Lax"};let i=await this.postEmoteVote(e);return 0==i.success&&i.errors.includes("invalid_apikey")&&console.warn("[VUUKLE] Emote post request was not completed because the apiKey is either invalid or not given. Please check your configuration."),l.Z.canUseCookies?this.articleConfig.amp?(w.Z.executeWhenStorageValueCanBeSet(this.getVotedCookieName(),(()=>{(0,C.m4)(this.getVotedCookieName(),e.toString(),1440)})),w.Z.executeWhenStorageValueCanBeSet(this.getCookieId(),(()=>{(0,C.m4)(this.getCookieId(),i.data.cookieId,1440)}))):(w.Z.executeWhenStorageValueCanBeSet(this.getVotedCookieName(),(()=>{n.Z.set(this.getVotedCookieName(),e.toString(),t)})),w.Z.executeWhenStorageValueCanBeSet(this.getCookieId(),(()=>{n.Z.set(this.getCookieId(),i.data.cookieId,t)}))):l.Z.addStorageUpdateCallback((()=>{this.articleConfig.amp?(w.Z.executeWhenStorageValueCanBeSet(this.getVotedCookieName(),(()=>{(0,C.m4)(this.getVotedCookieName(),e.toString(),1440)})),w.Z.executeWhenStorageValueCanBeSet(this.getCookieId(),(()=>{(0,C.m4)(this.getCookieId(),i.data.cookieId,1440)}))):(w.Z.executeWhenStorageValueCanBeSet(this.getVotedCookieName(),(()=>{n.Z.set(this.getVotedCookieName(),e.toString(),t)})),w.Z.executeWhenStorageValueCanBeSet(this.getCookieId(),(()=>{n.Z.set(this.getCookieId(),i.data.cookieId,t)})))})),i})),(0,o.Z)(this,"deleteEmote",(()=>{const e=this.articleConfig.amp?(0,C._2)(this.getCookieId())||"":n.Z.get(this.getCookieId())||"";return this.deleteEmoteRequest(e)})),(0,o.Z)(this,"removeCookies",(()=>{const e={expires:30,sameSite:"Lax"},t={expires:60,sameSite:"Lax"};if(this.articleConfig.amp){(0,C.ti)(this.getCookieId(),null),(0,C.ti)(this.getVotedCookieName(),null);try{const e=Object.keys(localStorage);e&&e.forEach((e=>{e.includes("vuukle_emotes_vote")&&(0,C.ti)(e,null)}))}catch(e){}}else{n.Z.remove(this.getCookieId(),e),n.Z.remove(this.getVotedCookieName(),t);const i=n.Z.get(),o=Object.keys(i);o&&o.forEach((e=>{e.includes("vuukle_emotes_vote")&&n.Z.remove(e,t)}))}})),(0,o.Z)(this,"getCookieId",(()=>l.Z.userAPIKey&&!l.Z.userAPIKey.startsWith("$")?`vuukle_emotes_vote_${this.articleConfig.host}&${this.articleConfig.articleId}&CookieId&${l.Z.userAPIKey}`:`vuukle_emotes_vote_${this.articleConfig.host}&${this.articleConfig.articleId}&CookieId`)),(0,o.Z)(this,"getVotedCookieName",(()=>l.Z.userAPIKey&&!l.Z.userAPIKey.startsWith("$")?`vuukle_emotes_vote_${this.articleConfig.host}&${this.articleConfig.articleId}&${l.Z.userAPIKey}`:`vuukle_emotes_vote_${this.articleConfig.host}&${this.articleConfig.articleId}`)),window.addEventListener("message",this.listener),this.postMessage({canUseCookies:l.Z.canUseCookies}),this.articleConfig.amp)&&(this.articleConfig.emotes.hideRecommendedArticles&&this.postMessage({disableRecommendations:!0}),null!==(a=t.theme)&&void 0!==a&&a.darkMode&&this.postMessage({enableDarkMode:!0}));this.postMessage({loginToken:c.Z.getToken()}),this.postMessage({votedEmote:this.getVotedEmote()}),setTimeout((()=>{const t=e.iframe.parentElement;if(t){const e=(0,m.A)(t);this.postMessage({backgroundColor:e}),this.postMessage({shouldUseDarkMode:(0,m.E)(t)<.3})}}),0)}updateVotedEmote(){this.postMessage({votedEmote:this.getVotedEmote()||null})}changeTheme(e){this.postMessage({changeTheme:e})}}var x=i(3899),A=i(6644);class L extends g.Y{constructor(e,t,s,a,u,h){super(e),this.currentWidgetObject=e,this.otherWidgetObjects=t,this.index=s,this.articleConfig=a,this.widgetsCreator=u,this.modalListener=h,(0,o.Z)(this,"modalIframe",void 0),(0,o.Z)(this,"loginTypes",[]),(0,o.Z)(this,"modalWindow",void 0),(0,o.Z)(this,"modalWindowListener",void 0),(0,o.Z)(this,"audioWidgetListeners",[]),(0,o.Z)(this,"commentsListener",void 0),(0,o.Z)(this,"isUserIdAvailable",!1),(0,o.Z)(this,"socialItems",void 0),(0,o.Z)(this,"allowedShareItems",void 0),(0,o.Z)(this,"translations",void 0),(0,o.Z)(this,"canShowMoreShares",void 0),(0,o.Z)(this,"extraShareUrls",void 0),(0,o.Z)(this,"themeColor",""),(0,o.Z)(this,"listener",(async e=>{if(this.isValidEvent(e)){if((0,r.qu)("log","[Vuukle.js | Powerbar] message:",e),e.data.vuukle_event&&this.shareEventToPublished(e.data.vuukle_event,this.articleConfig.eventHandler),e.data.reportEvent&&this.reportToAnalyticsServer(e),e.data.callInterceptor instanceof Object&&this.interceptShare(e),e.data.loginTypes&&(this.loginTypes=e.data.loginTypes),e.data.socialItems&&(this.socialItems=e.data.socialItems),e.data.allowedItems&&(this.allowedShareItems=e.data.allowedItems),e.data.translations&&(this.translations=e.data.translations),"boolean"==typeof e.data.canShowMoreShares&&(this.canShowMoreShares=e.data.canShowMoreShares),e.data.extraShareUrls&&(this.extraShareUrls=e.data.extraShareUrls),e.data.togglePopover){const e=(await i.e(231).then(i.bind(i,5180))).default;e.setSocialItems(this.socialItems),e.setTranslations(this.translations),e.setCanShowMoreButton(this.canShowMoreShares),e.setArticleConfig(this.articleConfig),e.setOnMoreShareClick((()=>{this.openShareItemsModal({data:{shareItems:this.allowedShareItems}})})),e.setOnPopoverHidden((()=>{this.postMessage({popoverHidden:!0})})),e.setExtraUrls(this.extraShareUrls);const t=this.currentWidgetObject.iframe.parentElement;e.setDarkMode((0,m.E)(t)<.3),e.togglePopover(this.currentWidgetObject.iframe),e.setOnShareButtonClick(((e,t)=>{var i;(d.Z.log(`share_${e}`,this.articleConfig),window.gtag&&M.sendGAEvents)&&window.gtag("event",(null===(i=this.articleConfig.overrideGAEventNames)||void 0===i?void 0:i[`share_${e}`])||`share_${e}`,{event_category:"vuukle_engagement"});this.postMessage({updateShareCounter:{name:e,count:t}}),this.postMessage({updateShareCounter:{name:e,count:t}},{sendToOthers:!0})}))}if(e.data.syncWidget instanceof Object&&this.postMessage({syncWidget:e.data.syncWidget},{sendToOthers:!0}),e.data.scrollTo&&this.scrollToWidget(e),e.data.openBrowserLink&&(window.location.href=e.data.openBrowserLink),e.data.verticalPosition&&this.adjustVerticalPowerbars(e),e.data.shareItems instanceof Object&&this.openShareItemsModal(e),"requestLogin"in e.data&&this.handleLoginRequest(e),e.data.alertMessage&&v.Z.createNotification(e.data.alertMessage.text,e.data.alertMessage.type),e.data.callSSO&&this.performSSOAuth(),"listenState"in e.data&&!("firstClick"in e.data)){var t;const{listenState:i}=e.data;null===(t=this.commentsListener)||void 0===t||t.postMessage({listenState:i}),this.otherWidgetObjects.length>0&&this.postMessage({listenState:i},{sendToOthers:!0}),this.audioWidgetListeners.forEach((e=>{e.postMessage({listenState:i})}))}if("listenState"in e.data&&"firstClick"in e.data){var o;const{firstClick:t,listenState:i}=e.data;null===(o=this.commentsListener)||void 0===o||o.postMessage({listenState:i,firstClick:t}),this.otherWidgetObjects.length>0&&this.postMessage({listenState:i,firstClick:t},{sendToOthers:!0}),this.audioWidgetListeners.forEach((e=>{e.postMessage({listenState:i,firstClick:t})}))}if("audioSrc"in e.data&&this.shareAudioSyncMessage(e.data,"audioSrc"),"currentTime"in e.data&&this.shareAudioSyncMessage(e.data,"currentTime"),"hasEnded"in e.data&&this.shareAudioSyncMessage(e.data,"hasEnded"),"welcomeAudioStarted"in e.data&&this.shareAudioSyncMessage(e.data,"welcomeAudioStarted"),"welcomeAudioSrc"in e.data&&this.shareAudioSyncMessage(e.data,"welcomeAudioSrc"),"welcomeAudioTime"in e.data&&this.shareAudioSyncMessage(e.data,"welcomeAudioTime"),"welcomeAudioState"in e.data&&this.shareAudioSyncMessage(e.data,"welcomeAudioState"),"expandVerticalSharebar"in e.data){const t=this.currentWidgetObject.iframe.parentElement;if(t){const i=l.Z.isMobileUser?"145px":"130px";t.style.width=e.data.expandVerticalSharebar?i:"60px",t.style.maxWidth=e.data.expandVerticalSharebar?i:"60px"}}e.data.setRecommendCookieID&&this.setRecommendCookieID(e.data.setRecommendCookieID),e.data.removeRecommendCookieID&&this.removeRecommendCookieID(),e.data.setRecommendationState&&this.setRecommendedState(),e.data.removeRecommendationState&&this.removeRecommendedState()}})),(0,o.Z)(this,"removeCookies",(()=>{if(this.articleConfig.amp){this.removeRecommendCookieID(),this.removeRecommendedState();try{const e=Object.keys(localStorage);e&&e.forEach((e=>{e.includes("vuukle_recommend")&&(0,C.ti)(e,null)}))}catch(e){}}else{this.removeRecommendCookieID(),this.removeRecommendedState();const e=n.Z.get(),t=Object.keys(e);t&&t.forEach((e=>{e.includes("vuukle_recommend")&&n.Z.remove(e,{expires:30,sameSite:"Lax"})}))}})),window.addEventListener("message",this.listener),this.postMessage({canUseCookies:l.Z.canUseCookies}),a.amp&&(this.modalWindow=new A.Z(a)),l.Z.userAPIKey&&!l.Z.userAPIKey.includes("$")&&(this.isUserIdAvailable=!0,this.postMessage({userIdAvailable:!0})),this.postMessage({loginToken:c.Z.getToken()}),this.postMessage({recommendCookieID:this.getRecommendCookieID()}),this.postMessage({voted:"true"===this.getRecommendedState()}),c.Z.addSSOTokenListener(`${e.id}-listener`,(e=>{this.postMessage({loginToken:e})})),this.postMessage({isMobile:l.Z.isMobileUser}),setTimeout((()=>{const t=e.iframe.parentElement;t&&this.postMessage({shouldUseDarkMode:(0,m.E)(t)<.3})}),0)}changeTheme(e){this.postMessage({changeTheme:e})}setThemeColor(e){this.themeColor=e}updateRecommendedState(){this.postMessage({recommendCookieID:this.getRecommendCookieID()}),this.postMessage({voted:"true"===this.getRecommendedState()})}setUserIdAvailable(e){this.isUserIdAvailable=e}fetchUserId(){if(!this.commentsListener||l.Z.userAPIKey.includes("$")){const e=c.Z.getToken();e&&(0,s.$f)("POST","https://api.vuukle.com/api/v1/Auth/me",void 0,"application/json",e).then((e=>{e.success&&(l.Z.userAPIKey=e.data.userId,this.isUserIdAvailable=!0,this.updateRecommendedState(),setTimeout((()=>{this.postMessage({userIdAvailable:!0}),this.postMessage({userIdAvailable:!0},{sendToOthers:!0})}),2e3))}))}else l.Z.userAPIKey.includes("$")||(this.postMessage({userIdAvailable:!0}),this.postMessage({userIdAvailable:!0},{sendToOthers:!0}))}getRecommendCookieName(){return`vuukle_recommend_${this.articleConfig.host}&${this.articleConfig.articleId}&${l.Z.userAPIKey}`}getRecommendCookieIDCookieName(){return`vuukle_recommend_CookieId_${this.articleConfig.host}&${this.articleConfig.articleId}&${l.Z.userAPIKey}`}getRecommendCookieID(){return this.articleConfig.amp?(0,C._2)(this.getRecommendCookieIDCookieName())||"":n.Z.get(this.getRecommendCookieIDCookieName())||""}setRecommendCookieID(e){this.isUserIdAvailable?l.Z.canUseCookies?this.articleConfig.amp?w.Z.executeWhenStorageValueCanBeSet(this.getRecommendCookieIDCookieName(),(()=>{(0,C.m4)(this.getRecommendCookieIDCookieName(),e,720)})):w.Z.executeWhenStorageValueCanBeSet(this.getRecommendCookieIDCookieName(),(()=>{n.Z.set(this.getRecommendCookieIDCookieName(),e,{expires:30,sameSite:"Lax"})})):l.Z.addStorageUpdateCallback((()=>{this.articleConfig.amp?w.Z.executeWhenStorageValueCanBeSet(this.getRecommendCookieIDCookieName(),(()=>{(0,C.m4)(this.getRecommendCookieIDCookieName(),e,720)})):w.Z.executeWhenStorageValueCanBeSet(this.getRecommendCookieIDCookieName(),(()=>{n.Z.set(this.getRecommendCookieIDCookieName(),e,{expires:30,sameSite:"Lax"})}))})):setTimeout((()=>this.setRecommendCookieID(e)),300)}removeRecommendCookieID(){this.isUserIdAvailable?this.articleConfig.amp?(0,C.ti)(this.getRecommendCookieIDCookieName(),null):n.Z.remove(this.getRecommendCookieIDCookieName(),{expires:30,sameSite:"Lax"}):setTimeout((()=>this.removeRecommendCookieID()),300)}getRecommendedState(){return this.articleConfig.amp?(0,C._2)(this.getRecommendCookieName()):n.Z.get(this.getRecommendCookieName())}setRecommendedState(){this.isUserIdAvailable?l.Z.canUseCookies?this.articleConfig.amp?w.Z.executeWhenStorageValueCanBeSet(this.getRecommendCookieName(),(()=>{(0,C.m4)(this.getRecommendCookieName(),"true",720)})):w.Z.executeWhenStorageValueCanBeSet(this.getRecommendCookieName(),(()=>{n.Z.set(this.getRecommendCookieName(),"true",{expires:30,sameSite:"Lax"})})):l.Z.addStorageUpdateCallback((()=>{this.articleConfig.amp?w.Z.executeWhenStorageValueCanBeSet(this.getRecommendCookieName(),(()=>{(0,C.m4)(this.getRecommendCookieName(),"true",720)})):w.Z.executeWhenStorageValueCanBeSet(this.getRecommendCookieName(),(()=>{n.Z.set(this.getRecommendCookieName(),"true",{expires:30,sameSite:"Lax"})}))})):setTimeout((()=>this.setRecommendedState()),300)}removeRecommendedState(){this.isUserIdAvailable?this.articleConfig.amp?(0,C.ti)(this.getRecommendCookieName(),null):n.Z.remove(this.getRecommendCookieName(),{expires:30,sameSite:"Lax"}):setTimeout((()=>this.removeRecommendedState()),300)}shareAudioSyncMessage(e,t){var i;const o=e[t];null===(i=this.commentsListener)||void 0===i||i.postMessage({[t]:o}),this.otherWidgetObjects.length>0&&this.postMessage({[t]:o},{sendToOthers:!0}),this.audioWidgetListeners.forEach((e=>{e.postMessage({[t]:o})}))}reportToAnalyticsServer(e){const{action:t}=e.data.reportEvent;var i;"string"==typeof t&&(d.Z.log(t,this.articleConfig),window.gtag&&M.sendGAEvents&&window.gtag("event",(null===(i=this.articleConfig.overrideGAEventNames)||void 0===i?void 0:i[t])||t,{event_category:"vuukle_engagement"}))}openAndInitializeWindowedModal(){this.modalWindow.currentWindow||this.modalWindow.openModalInWindow(),this.modalWindowListener||(this.modalWindowListener=new f.u(this.modalWindow,this.articleConfig,this))}handleLoginRequest(e){this.articleConfig.amp?(this.openAndInitializeWindowedModal(),e.data.loginTypes&&(this.loginTypes=e.data.loginTypes),this.modalWindowListener.postMessage({loadModal:!0,modalData:{type:"login"},loginTypes:e.data.loginTypes||this.loginTypes}),this.modalWindowListener.changeThemeColor(this.themeColor)):(e.data.loginTypes?(this.sendMessageToModal({loadModal:!0,loginTypes:e.data.loginTypes}),this.loginTypes=e.data.loginTypes):this.sendMessageToModal({modalData:{type:"login"},loginTypes:this.loginTypes}),this.toggleModal(!0))}performSSOAuth(){var e,t;const i=(null===(e=this.articleConfig.comments)||void 0===e||null===(e=e.auth)||void 0===e||null===(e=e.sso)||void 0===e?void 0:e.onClick)||(null===(t=this.articleConfig.auth)||void 0===t||null===(t=t.sso)||void 0===t?void 0:t.onClick);"function"==typeof i?i():console.error("[Vuukle] ⚠ Please configure SSO to allow users to authenticate.")}sendMessageToModal(e){if(this.modalListener)this.modalListener.postMessage(e);else if(this.widgetsCreator){var t,i,o;this.widgetsCreator.createModal(e);const s=this.currentWidgetObject.iframe.parentElement;null===(t=this.modalListener)||void 0===t||t.switchThemeToDarkMode((0,m.E)(s)<.3),null===(i=this.modalListener)||void 0===i||i.changeThemeColor(this.themeColor),null===(o=this.commentsListener)||void 0===o||o.postMessage({modalLoaded:!0})}}toggleModal(e){var t;const i=document.querySelector(`#${null===(t=this.modalIframe)||void 0===t?void 0:t.id}`);i&&(i.style.display=e?"block":"none")}openShareItemsModal(e){const t={modalData:{hideModal:!1,type:"shares",data:e.data.shareItems},loginTypes:this.loginTypes};this.articleConfig.amp?(this.openAndInitializeWindowedModal(),this.modalWindowListener.postMessage(t)):(this.sendMessageToModal(t),this.toggleModal(!t.modalData.hideModal))}adjustVerticalPowerbars(e){const t=Array.prototype.slice.call(document.querySelectorAll(a.Z.selectors.verticalPowerbar.concat(String(this.index)))),i=Array.prototype.slice.call(document.querySelectorAll(a.Z.selectors.verticalSharebar.concat(String(this.index))));t&&t.forEach((t=>{t.style.top="0px"!==e.data.verticalPosition&&e.data.verticalPosition||t.style.top||"10px"})),i&&i.forEach((t=>{t.style.top="0px"!==e.data.verticalPosition&&e.data.verticalPosition||t.style.top||"10px"}))}scrollToWidget(e){window.location.hash="","comments"===e.data.scrollTo?this.articleConfig.endlessMode?window.location.hash=`${a.Z.selectors.comments}`.concat(this.index):window.location.hash=`${a.Z.selectors.comments}`:"emotes"===e.data.scrollTo&&(this.articleConfig.endlessMode?window.location.hash=`${a.Z.selectors.emotes}`.concat(this.index):window.location.hash=`${a.Z.selectors.emotes}`)}interceptShare(e){var t,i;const o=(null===(t=this.articleConfig.powerbar)||void 0===t?void 0:t.shareInterceptor)||(null===(i=this.articleConfig.sharebar)||void 0===i?void 0:i.shareInterceptor);let s=["",""];"function"==typeof o?s=o(e.data.callInterceptor.social,e.data.callInterceptor.url,e.data.callInterceptor.title):console.warn("[Vuukle] ⚠ Your interceptor is not (correctly) configured, default share data will be used instead."),this.postMessage({intercept:{social:e.data.callInterceptor.social,title:s[1],url:s[0]}},{sendToOneInstance:!0})}shareEventToPublished(e,t){"function"==typeof t&&t(e)}updateModalInstance(e,t){this.modalIframe=e,this.modalListener=t}updateAudioListenerInstance(e){this.audioWidgetListeners=e}updateCommentsListenerInstance(e){this.commentsListener=e}postMessage(e,t){if(t){if(t.sendToOneInstance){let t=this.otherWidgetObjects[0]||this.currentWidgetObject;t.iframeLoaded||this.otherWidgetObjects.forEach((e=>{e.iframeLoaded&&(t=e)})),t.onLoad((t=>t.postMessage(e,"*")))}t.sendToOthers&&this.otherWidgetObjects.forEach((t=>{t.onLoad((t=>t.postMessage(e,"*")))}))}else this.currentWidgetObject.onLoad((t=>t.postMessage(e,"*")))}}var Z,I=i(5577),E=i(50),_=i(8870);class T{constructor(e,t,i,s,n,a,c,u,h,m){var g;(this.index=e,this.commentsIframe=t,this.emotesIframe=i,this.powerbars=s,this.subscribeWidgets=n,this.audioWidgets=a,this.quizWidget=c,this.articleConfig=u,this.realtime=h,this.widgetsCreator=m,(0,o.Z)(this,"modalIframe",void 0),(0,o.Z)(this,"commentsListener",void 0),(0,o.Z)(this,"quizListener",void 0),(0,o.Z)(this,"powerbarListeners",[]),(0,o.Z)(this,"emotesListener",void 0),(0,o.Z)(this,"modalListener",void 0),(0,o.Z)(this,"subscribeListeners",[]),(0,o.Z)(this,"audioListeners",[]),(0,o.Z)(this,"initializeModal",((e,t)=>{var i,o;return!!e&&(this.modalIframe=e,this.modalListener=new x.V(this.modalIframe,this.articleConfig,this.powerbarListeners,this.commentsListener,this.emotesListener,this.quizListener),this.modalListener.postMessage(t),T.widgetsOnPageWithThemeSupport[this.index].modalListener=this.modalListener,null===(i=this.commentsListener)||void 0===i||i.updateModalInstance(e,this.modalListener),this.powerbarListeners.forEach((t=>t.updateModalInstance(e,this.modalListener))),this.audioListeners.forEach((t=>t.updateModalInstance(e,this.modalListener))),null===(o=this.quizListener)||void 0===o||o.updateModalInstance(e,this.modalListener),!0)})),(0,r.IW)(r.PP.commsCreatorStart),(0,r.rX)(r.J8.platformStartToCommsStart,r.PP.platformStart,r.PP.commsCreatorStart),this.powerbars.length>0&&(this.powerbars.forEach((e=>{this.powerbarListeners.push(new L(e,this.powerbars.filter((t=>t.id!==e.id)),this.index,this.articleConfig,this.widgetsCreator,this.modalListener))})),T.widgetsOnPageWithThemeSupport[e]={},T.widgetsOnPageWithThemeSupport[e].powerbarListeners=T.widgetsOnPageWithThemeSupport[e].powerbarListeners||[],this.powerbarListeners.forEach((t=>{var i;null===(i=T.widgetsOnPageWithThemeSupport[e].powerbarListeners)||void 0===i||i.push(t)}))),this.audioWidgets.length>0&&(this.audioWidgets.forEach((e=>{this.audioListeners.push(new p(e,this.audioWidgets.filter((t=>t.id!==e.id)),this.articleConfig,this.powerbarListeners,this.modalListener,this.widgetsCreator))})),this.powerbarListeners.forEach((e=>{e.updateAudioListenerInstance(this.audioListeners)}))),this.emotesIframe&&(this.emotesListener=new S(this.emotesIframe,this.articleConfig,this.powerbarListeners),T.widgetsOnPageWithThemeSupport[e]||(T.widgetsOnPageWithThemeSupport[e]={}),T.widgetsOnPageWithThemeSupport[e].emotesListener=this.emotesListener),this.quizWidget&&(this.quizListener=new _.y(this.quizWidget,this.modalListener,this.articleConfig,this.widgetsCreator,this.emotesListener,this.powerbarListeners),T.widgetsOnPageWithThemeSupport[e]||(T.widgetsOnPageWithThemeSupport[e]={}),T.widgetsOnPageWithThemeSupport[e].quizListener=this.quizListener,T.quizWidgetsOnThePage.set(e,this.quizListener),this.quizListener.postMessage({responseGroups:T.responseGroups})),this.commentsIframe)&&(this.commentsListener=new k(this.commentsIframe,this.index,this.articleConfig,this.widgetsCreator,this.realtime,this.emotesListener,this.powerbarListeners,this.audioListeners,this.quizListener,this.modalListener),T.widgetsOnPageWithThemeSupport[e]||(T.widgetsOnPageWithThemeSupport[e]={}),T.widgetsOnPageWithThemeSupport[e].commentsListener=this.commentsListener,this.powerbarListeners.forEach((e=>e.updateCommentsListenerInstance(this.commentsListener))),this.audioListeners.forEach((e=>e.updateCommentsListenerInstance(this.commentsListener))),null===(g=this.quizListener)||void 0===g||g.updateCommentsListenerInstance(this.commentsListener));this.subscribeWidgets.length>0&&this.subscribeWidgets.forEach((e=>{this.subscribeListeners.push(new I.W(e))})),this.requestInitialData(),(0,r.IW)(r.PP.commsCreatorEnd),(0,r.rX)(r.J8.commsStartToEnd,r.PP.commsCreatorStart,r.PP.commsCreatorEnd),(0,r.rX)(r.J8.platformStartToCommsEnd,r.PP.platformStart,r.PP.commsCreatorEnd),l.Z.addCookieConsentListener("-"+e,(e=>this.changeCookieSettingsForWidgets(e))),l.Z.addGeoListener("-"+e,(e=>this.shareMessageWithWidgets(["comments","powerbar","audio"],{geoData:e}))),d.Z.addIPListener("-"+e,(e=>this.shareMessageWithWidgets(["comments","powerbar","audio"],{ip:e}))),this.shareMessageWithWidgets(["comments","powerbar","audio"],{country:l.Z.userCountry}),this.shareMessageWithWidgets(["comments","powerbar","audio"],{userGUID:l.Z.userAPIKey})}shareMessageWithWidgets(e,t){const i={comments:this.commentsListener,emotes:this.emotesListener,modal:this.modalListener,quiz:this.quizListener},o={powerbar:this.powerbarListeners,subscribe:this.subscribeListeners,audio:this.audioListeners};for(let o of e){var s;null===(s=i[o])||void 0===s||s.postMessage(t)}for(let i of e){const e=o[i];e&&e.forEach((e=>{e.postMessage(t)}))}}activateCTAInQuiz(e){var t;null===(t=this.quizListener)||void 0===t||t.enableCTAPopup(e)}showEmotesArticlesByDefault(){var e;null===(e=this.emotesListener)||void 0===e||e.postMessage({loadArticlesByDefault:!0})}isQuizOnThePage(){return Boolean(this.quizWidget&&this.quizListener)}removeMessageListeners(){const e=[this.commentsListener,this.emotesListener,this.modalListener,this.quizListener],t=[this.powerbarListeners,this.subscribeListeners,this.audioListeners];for(let t of e)null==t||t.removeMessageListener();for(let e of t)null==e||e.forEach((e=>e.removeMessageListener()))}toggleAudioButton(e){this.shareMessageWithWidgets(["comments"],{showAudioButton:e})}tellWidgetsAboutAdblock(){this.shareMessageWithWidgets(["comments","modal"],{adblockEnabled:!0})}enableQuizCompactMode(){var e,t;this.shareMessageWithWidgets(["quiz"],{compactMode:!0}),null===(e=this.quizWidget)||void 0===e||e.changeHeight(250),null===(t=this.quizWidget)||void 0===t||t.changeWidth(250)}tellQuizToChangeMaxHeight(e){this.shareMessageWithWidgets(["quiz"],{setMaxHeightTo:e})}toggleAdSpaceCreation(e){this.shareMessageWithWidgets(["comments"],{canCreateAdSpace:e})}tellCWToPostAnonToken(){this.shareMessageWithWidgets(["comments"],{anonToken:c.Z.getAnonToken()})}enableAudioAds(e){this.shareMessageWithWidgets(["powerbar","comments","audio"],{audioAdID:e})}checkForAdblockers(){u.Z.adblockDetectionHasExecuted||new u.Z(this.articleConfig,h.xw[this.articleConfig.apiKey],this)}async getDataFromVuukleServers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{quizOverride:!1};return await(0,s.$f)("GET","https://api.vuukle.com/api/v1/Comments/loadVuukle",{apiKey:this.articleConfig.apiKey,articleId:this.articleConfig.articleId,globalRecommendation:this.articleConfig.globalRecommendations,host:this.articleConfig.host,start:0,uri:this.articleConfig.url,quizEnabled:e.quizOverride||Boolean(this.quizWidget),...Boolean(this.quizWidget)?{quizLngCode:document.documentElement.lang||"en",title:this.articleConfig.title}:{}},"text/plain")}async initiateQuizNewsfeedPopup(e){if(!T.quizNewsfeedPopupCreated){T.quizNewsfeedPopupCreated=!0;const t=(await i.e(839).then(i.bind(i,1855))).default;T.quizNewsfeedPopupInstance=new t(e,this.articleConfig,this.widgetsCreator)}}async requestPublicConfig(){try{const t=await(0,s.$f)("GET","https://api.vuukle.com/api/v1/Publishers/PublicConfigs",{apiKey:this.articleConfig.apiKey,host:this.articleConfig.host},"text/plain");if(!t.success)throw new Error(t.errors[0]);if(t.data.settings.comments.browserNotificationEnabled&&!n.Z.get("vuukle_notification_subscription")&&!n.Z.get("vuukle_notification_subscription_dismissed")&&window.ServiceWorker){new(0,(await i.e(909).then(i.bind(i,4341))).WebNotificationPopup)}if("boolean"!=typeof t.data.settings.ads||t.data.settings.ads||E.Z.removeAllAds(),"/"!==window.location.pathname){var e;const t=await(0,s.$f)("GET","https://api.vuukle.com/api/v1/Articles/GetIabTopic",{host:this.articleConfig.host,articleId:this.articleConfig.articleId},"text/plain");null!==(e=t.data)&&void 0!==e&&null!==(e=e.article)&&void 0!==e&&e.iabTopic&&(window._vuukleIabtopic=t.data.article.iabTopic)}if(!T.quizNewsfeedPopupCreated&&t.data.settings.article.interactivityHub)try{const e=await this.getDataFromVuukleServers({quizOverride:!0});e.data.quiz&&this.initiateQuizNewsfeedPopup(e.data)}catch(e){(0,s.ZV)("error","Unable to initiate Quiz and Newsfeed widgets popup")}}catch(e){e.message&&console.error("[Platform.js] Error",e.message)}}changeCommentsBubblePosition(e){this.commentsIframe&&this.commentsIframe.changeBubblePosition(e)}async requestInitialData(){if(!(this.commentsIframe||this.emotesIframe||this.quizWidget||0!==this.powerbars.length||0!==this.audioWidgets.length||0!==this.subscribeWidgets.length||document.querySelector(a.Z.selectors.newsfeed.concat(this.index))))return l.Z.isArticleBrandSafe=null,void this.requestPublicConfig();try{var e;const a=await this.getDataFromVuukleServers();if(!a.success)throw new Error(a.errors[0]);var t,o,r,d;if("boolean"!=typeof a.data.settings.ads||a.data.settings.ads||E.Z.removeAllAds(),this.shareMessageWithWidgets(["comments","emotes","powerbar","subscribe","audio","quiz","modal"],{loadVuukle:a.data}),window.getLoadVuukleSettings=()=>a.data.settings,a.data.settings.theme.color)null===(t=this.commentsListener)||void 0===t||t.setThemeColor(a.data.settings.theme.color),null===(o=this.quizListener)||void 0===o||o.setThemeColor(a.data.settings.theme.color),null===(r=this.powerbarListeners)||void 0===r||r.forEach((e=>e.setThemeColor(a.data.settings.theme.color)));if(a.data.article.iabTopic&&(window._vuukleIabtopic=a.data.article.iabTopic),void 0!==a.data.article.isArticleBrandSafe&&(l.Z.isArticleBrandSafe=a.data.article.isArticleBrandSafe,window._vuukleArticleBrandSafe=null===a.data.article.isArticleBrandSafe?"null":a.data.article.isArticleBrandSafe.toString(),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting("isArticleBrandSafe",null===a.data.article.isArticleBrandSafe?"null":a.data.article.isArticleBrandSafe.toString())}))),a.data.article.quizDisabled)null===(d=this.quizWidget)||void 0===d||d.iframe.remove();if(a.data.settings.enabledFeatures){const e=a.data.settings.enabledFeatures;var u,m;if(!e.includes("CommentsWidget"))null===(u=this.commentsIframe)||void 0===u||u.iframe.remove();if(!e.includes("EmotesWidget"))null===(m=this.emotesIframe)||void 0===m||m.iframe.remove();e.includes("ShareBar")||this.powerbars.forEach((e=>e.iframe.remove()))}if(T.fillVuukleCountElement(this.index,(null===(e=a.data.article)||void 0===e?void 0:e.commentCount)||0),this.commentsIframe){var g,f,p;if(a.data.settings.article.showCommentCount)this.commentsIframe.createScrollListenerForCommentBubble("number"==typeof(null===(f=a.data.article)||void 0===f?void 0:f.commentCount)?null===(p=a.data.article)||void 0===p?void 0:p.commentCount:0);if(a.data.settings.article.showNewsletterPopUp&&!T.popupCreated){new(0,(await i.e(852).then(i.bind(i,6294))).default),T.popupCreated=!0}!a.data.settings.comments.hideCommentWidget||null!==(g=h.xw[this.articleConfig.apiKey])&&void 0!==g&&g.compact||this.commentsIframe.changeMinHeight(80)}if(a.data.quiz&&this.quizListener&&!a.data.article.quizDisabled&&(a.data.settings.article.interactivityHub&&this.initiateQuizNewsfeedPopup(a.data),this.quizListener.postMessage({quiz:a.data.quiz}),this.quizListener.postMessage({questionsAnsweredByUser:(0,C._2)("vuukle_quiz_answers")}),a.data.article.iabTopic)){const e=a.data.article.iabTopic.replace(/\s+/g,"-");window.gtag?window.gtag("event","quizzly_1p_data",{event_category:`quizzly_${e}`}):(window.dataLayer=window.dataLayer||[],window.dataLayer.push(["event","quizzly_1p_data",{event_category:`quizzly_${e}`}]))}if(!T.quizNewsfeedPopupCreated&&!a.data.quiz&&a.data.settings.article.interactivityHub&&!a.data.article.quizDisabled)try{const e=await this.getDataFromVuukleServers({quizOverride:!0});e.data.quiz&&this.initiateQuizNewsfeedPopup(e.data)}catch(e){(0,s.ZV)("error","Unable to initiate Quiz and Newsfeed widgets popup")}if(a.data.quiz&&0===a.data.quiz.length&&this.quizListener&&!a.data.article.quizDisabled&&this.quizListener.postMessage({noQuiz:!0}),a.data.loginTypes.includes("anonymous")&&(c.Z.setAnonymousCommenting(!0),c.Z.setRegularCommenting(!1),c.Z.setGuestCommenting(!1),this.tellCWToPostAnonToken()),a.data.settings.comments.browserNotificationEnabled&&!n.Z.get("vuukle_notification_subscription")&&!n.Z.get("vuukle_notification_subscription_dismissed")&&window.ServiceWorker){new(0,(await i.e(909).then(i.bind(i,4341))).WebNotificationPopup)}}catch(e){l.Z.isArticleBrandSafe=null,this.commentsListener?this.commentsListener.postMessage({fetchFailLabel:!0}):this.powerbarListeners&&this.powerbarListeners.forEach((e=>{e.postMessage({fetchFailLabel:!0})})),this.powerbarListeners.forEach((e=>{e.postMessage({fetchFail:!0})})),this.quizListener&&this.quizListener.postMessage({noQuiz:!0}),"incorrect_apiKey"===e.message&&console.error("[Platform.js] ApiKey is not correct!")}}changeCookieSettingsForWidgets(e){this.shareMessageWithWidgets(["comments","emotes","powerbar","modal","quiz"],{canUseCookies:e}),l.Z.canUseCookies=e}disableQuizLogin(){this.shareMessageWithWidgets(["quiz"],{disableLogin:!0})}sendAdToEmotes(e,t,i,o){this.shareMessageWithWidgets(["emotes"],{emotesAd:{emotesSlot:e,imageUrl:t,clickUrl:i,label:o}})}enableRealtime(){this.commentsIframe&&(this.commentsIframe.addRealtimeListener(),this.commentsIframe.createRealtimeBar(),this.shareMessageWithWidgets(["comments"],{enableRealtime:!0}))}static fillVuukleCountElement(e,t){document.querySelectorAll(e?`[data=vuukle-count${e}]`:"[data=vuukle-count]").forEach((e=>{e.innerHTML=t<=0&&e.dataset.emptyText?e.dataset.emptyText:String(t)}))}static attachResizeListener(){window.addEventListener("message",(e=>{let t;try{t=JSON.parse(e.data)}catch(i){t=e.data}if("resize"===t.type&&t.sourceWindowName){(0,r.qu)("log","Resize message received",e);const i=document.querySelector(`iframe[name="${t.sourceWindowName}"]`);i instanceof HTMLIFrameElement&&(i.style.height=`${t.data.height}px`)}}))}static removeWidgetsFromThemingObject(e){delete T.widgetsOnPageWithThemeSupport[e]}}Z=T,(0,o.Z)(T,"popupCreated",!1),(0,o.Z)(T,"quizNewsfeedPopupCreated",!1),(0,o.Z)(T,"sendGAEvents",!1),(0,o.Z)(T,"quizNewsfeedPopupInstance",void 0),(0,o.Z)(T,"commentCountLock",!1),(0,o.Z)(T,"commentInputBoxRect",void 0),(0,o.Z)(T,"postedCommentCount",0),(0,o.Z)(T,"widgetsOnPageWithThemeSupport",{}),(0,o.Z)(T,"responseGroups",null),(0,o.Z)(T,"quizWidgetsOnThePage",new Map),(0,o.Z)(T,"sendResponseGroupsToQuizWidgets",(()=>{Z.quizWidgetsOnThePage.forEach((e=>{e.postMessage({responseGroups:Z.responseGroups})}))})),T.attachResizeListener(),window.changeVuukleWidgetsTheme=e=>{"dark"!==e&&"light"!==e||Object.keys(T.widgetsOnPageWithThemeSupport).forEach((t=>{var i,o,s,n,a;null===(i=T.widgetsOnPageWithThemeSupport[t].commentsListener)||void 0===i||i.changeTheme(e),null===(o=T.widgetsOnPageWithThemeSupport[t].emotesListener)||void 0===o||o.changeTheme(e),null===(s=T.widgetsOnPageWithThemeSupport[t].powerbarListeners)||void 0===s||s.forEach((t=>t.changeTheme(e))),null===(n=T.widgetsOnPageWithThemeSupport[t].modalListener)||void 0===n||n.changeTheme(e),null===(a=T.widgetsOnPageWithThemeSupport[t].quizListener)||void 0===a||a.changeTheme(e)}))},window.sendResponseGroupsToQuizzly=()=>{T.responseGroups=(0,C._2)("quizzly_surveys_response_groups"),T.sendResponseGroupsToQuizWidgets()};const M=T},8413:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var o=i(1208),s=(i(1009),i(6801)),n=i(5830),a=i(9715),r=i(2867),d=i(1324);const l=JSON.parse('{"_":[{"identifier":"agreed-with-terms","type":"cookie","maxAgeSeconds":31536000,"cookieRefresh":false,"domains":["cdn.vuukle.com"],"purposes":[1]},{"identifier":"vuukle_token","type":"cookie","maxAgeSeconds":31536000,"cookieRefresh":false,"domains":["*"],"purposes":[1]},{"identifier":"dash_token","type":"cookie","maxAgeSeconds":31536000,"cookieRefresh":false,"domains":["*.vuukle.com"],"purposes":[1]},{"identifier":"anonymous_token","type":"cookie","maxAgeSeconds":2592000,"cookieRefresh":false,"domains":["*"],"purposes":[1]},{"identifier":"vsid","type":"cookie","maxAgeSeconds":2592000,"cookieRefresh":false,"domains":["*"],"purposes":[1,7,8,9,10]},{"identifier":"uid-s","type":"cookie","maxAgeSeconds":31536000,"cookieRefresh":false,"domains":["*"],"purposes":[1,8,9,10]},{"identifier":"vuukle_geo_region","type":"cookie","maxAgeSeconds":604800,"cookieRefresh":false,"domains":["*"],"purposes":[1,2,3,4,5,6,9]},{"identifier":"ivt_reported","type":"cookie","maxAgeSeconds":7776000,"cookieRefresh":false,"domains":["*"],"purposes":[1,8,9,10]},{"identifier":"traffic_type","type":"cookie","maxAgeSeconds":7776000,"cookieRefresh":false,"domains":["*"],"purposes":[1,8,9,10]},{"identifier":"vuukle_notification_subscription","type":"cookie","maxAgeSeconds":15552000,"cookieRefresh":false,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_notification_subscription_dismissed","type":"cookie","maxAgeSeconds":86400,"cookieRefresh":false,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_emotes_vote_{domain}&{articleId}&CookieId","type":"cookie","maxAgeSeconds":2592000,"cookieRefresh":false,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_emotes_vote_{domain}&{articleId}&CookieId&{userId}","type":"cookie","maxAgeSeconds":2592000,"cookieRefresh":false,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_emotes_vote_{domain}&{articleId}","type":"cookie","maxAgeSeconds":5184000,"cookieRefresh":false,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_emotes_vote_{domain}&{articleId}&{userId}","type":"cookie","maxAgeSeconds":5184000,"cookieRefresh":false,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_recommend_{domain}&{articleId}&{userId}","type":"cookie","maxAgeSeconds":2592000,"cookieRefresh":false,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_recommend_CookieId_{domain}&{articleId}&{userId}","type":"cookie","maxAgeSeconds":2592000,"cookieRefresh":false,"domains":["*"],"purposes":[1]},{"identifier":"login_attempts","type":"cookie","maxAgeSeconds":86400,"cookieRefresh":false,"domains":["dash.vuukle.com"],"purposes":[1]},{"identifier":"triesAmount","type":"cookie","maxAgeSeconds":18000,"cookieRefresh":false,"domains":["news.vuukle.com"],"purposes":[1]},{"identifier":"vuukle_emotes_vote_{domain}&{articleId}&CookieId","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_emotes_vote_{domain}&{articleId}&CookieId&{userId}","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_emotes_vote_{domain}&{articleId}","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_emotes_vote_{domain}&{articleId}&{userId}","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_emotes_vote_{domain}&{articleId}&CookieId_duration","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_emotes_vote_{domain}&{articleId}&CookieId&{userId}_duration","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_emotes_vote_{domain}&{articleId}_duration","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_emotes_vote_{domain}&{articleId}&{userId}_duration","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_recommend_{domain}&{articleId}&{userId}","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_recommend_CookieId_{domain}&{articleId}&{userId}","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_recommend_{domain}&{articleId}&{userId}_duration","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_recommend_CookieId_{domain}&{articleId}&{userId}_duration","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"hrefAfter","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"showedNotes","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"vuukleconf","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"vuukleconftime","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_interstitial_shown","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1,2]},{"identifier":"vuukle_interstitial_shown_duration","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1,2]},{"identifier":"_vuukleGeo","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1,2,3,4,5,6,9]},{"identifier":"vuukle_quiz_answers","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_user_id","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1,8,9,10]},{"identifier":"quizzly_surveys_response_groups","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1,7,8,9,10]},{"identifier":"quizzly_surveys_response_groups_duration","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1,7,8,9,10]},{"identifier":"vuukle_quiz_reported_questions","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1]},{"identifier":"vuukle_cookie_usage_agreed","type":"web","maxAgeSeconds":null,"domains":["*"],"purposes":[1,9,10]},{"identifier":"commentsStore","type":"web","maxAgeSeconds":null,"domains":["cdn.vuukle.com"],"purposes":[1]},{"identifier":"prevc","type":"web","maxAgeSeconds":null,"domains":["cdn.vuukle.com"],"purposes":[1]},{"identifier":"user_visits","type":"web","maxAgeSeconds":null,"domains":["cdn.vuukle.com"],"purposes":[1]},{"identifier":"unposted_comment","type":"web","maxAgeSeconds":null,"domains":["cdn.vuukle.com"],"purposes":[1]},{"identifier":"unposted_comment_simplebox","type":"web","maxAgeSeconds":null,"domains":["cdn.vuukle.com"],"purposes":[1]},{"identifier":"builderConfig","type":"web","maxAgeSeconds":null,"domains":["dash.vuukle.com"],"purposes":[1]},{"identifier":"savedBuilderConfig","type":"web","maxAgeSeconds":null,"domains":["dash.vuukle.com"],"purposes":[1]},{"identifier":"adUnitsFilter","type":"web","maxAgeSeconds":null,"domains":["dash.vuukle.com"],"purposes":[1]},{"identifier":"deviceFilter","type":"web","maxAgeSeconds":null,"domains":["dash.vuukle.com"],"purposes":[1]},{"identifier":"categoryFilter","type":"web","maxAgeSeconds":null,"domains":["dash.vuukle.com"],"purposes":[1]},{"identifier":"disabledButton","type":"web","maxAgeSeconds":null,"domains":["dash.vuukle.com"],"purposes":[1]},{"identifier":"option","type":"web","maxAgeSeconds":null,"domains":["news.vuukle.com"],"purposes":[1]},{"identifier":"editorData","type":"web","maxAgeSeconds":null,"domains":["news.vuukle.com"],"purposes":[1]},{"identifier":"tables","type":"web","maxAgeSeconds":null,"domains":["news.vuukle.com"],"purposes":[1]},{"identifier":"read","type":"web","maxAgeSeconds":null,"domains":["news.vuukle.com"],"purposes":[1]},{"identifier":"scroll-pos","type":"web","maxAgeSeconds":null,"domains":["news.vuukle.com"],"purposes":[1]}]}');const c=new class{get isGDPR(){return this._isGDPR}set isGDPR(e){this._isGDPR=e}get isCCPA(){return this._isCCPA}set isCCPA(e){this._isCCPA=e}get hasConsent(){return this._hasConsent}set hasConsent(e){this._hasConsent=e}get cookieConsentKnown(){return this._cookieConsentKnown}set cookieConsentKnown(e){this._cookieConsentKnown=e}constructor(){(0,o.Z)(this,"GDPRCountryCodes",["GB","BE","BG","CZ","DK","DE","EE","IE","EL","ES","FR","HR","IT","CY","LV","LT","LU","HU","MT","NL","AT","PL","PT","RO","SI","SK","FI","SE","IS","LI","NO","BR","CA","California"]),(0,o.Z)(this,"_isGDPR",void 0),(0,o.Z)(this,"_isCCPA",void 0),(0,o.Z)(this,"VUUKLE_VENDOR_ID",1004),(0,o.Z)(this,"_hasConsent",!1),(0,o.Z)(this,"hasLegitimateInterest",!1),(0,o.Z)(this,"_cookieConsentKnown",!1),(0,o.Z)(this,"ccpaBoxMoved",!1),(0,o.Z)(this,"purposeRestrictions",{}),(0,o.Z)(this,"storageKeysWithPurposes",{}),l._.forEach((e=>{this.storageKeysWithPurposes[e.identifier]=e.purposes})),this.storageKeysWithPurposes.voteAndRecommendPurposes=[1]}executeWhenStorageValueCanBeSet(e,t){if(!this.isGDPR)return void t();if(!this.cookieConsentKnown)return void setTimeout((()=>{this.executeWhenStorageValueCanBeSet(e,t)}),100);let i=[];if(i=e.includes("vuukle_emotes_vote")||e.includes("vuukle_recommend")?this.storageKeysWithPurposes.voteAndRecommendPurposes:this.storageKeysWithPurposes[e],0===i.length)return;let o=!1;for(const e of i){if("number"==typeof this.purposeRestrictions[e]&&0===this.purposeRestrictions[e])return;if(o="number"!=typeof this.purposeRestrictions[e]||1===this.purposeRestrictions[e]&&this.hasConsent||2===this.purposeRestrictions[e]&&this.hasLegitimateInterest,!o)return}(o||this.hasConsent)&&t()}checkVuukleVendor(e){if(e.vendorData.vendor.consents&&"boolean"==typeof e.vendorData.vendor.consents[this.VUUKLE_VENDOR_ID])return(0,s.qu)("log","[Vuukle] user consent",e.vendorData.vendor.consents[this.VUUKLE_VENDOR_ID]),d.Z.canUseCookies=e.vendorData.vendor.consents[this.VUUKLE_VENDOR_ID],this.hasConsent=e.vendorData.vendor.consents[this.VUUKLE_VENDOR_ID],this.cookieConsentKnown=!0,!0;if(e.vendorData.vendor.legitimateInterests&&"boolean"==typeof e.vendorData.vendor.legitimateInterests[this.VUUKLE_VENDOR_ID])return(0,s.qu)("log","[Vuukle] user legitimate interest",e.vendorData.vendor.legitimateInterests[this.VUUKLE_VENDOR_ID]),this.hasLegitimateInterest=e.vendorData.vendor.legitimateInterests[this.VUUKLE_VENDOR_ID],this.cookieConsentKnown=!0,!0;if(e.vendorData.publisher.restrictions)for(const t in e.vendorData.publisher.restrictions)"number"==typeof e.vendorData.publisher.restrictions[t][this.VUUKLE_VENDOR_ID]&&(this.purposeRestrictions[parseInt(t)]=e.vendorData.publisher.restrictions[t][this.VUUKLE_VENDOR_ID]);return this.cookieConsentKnown=!0,!1}consentChangeListener(e){let t=!0;const i=(i,o)=>{if(o&&"useractioncomplete"===i.eventStatus){const o=i.vendor.consents[this.VUUKLE_VENDOR_ID];(0,s.qu)("log","consent data",i,o,e),"boolean"==typeof o&&(d.Z.canUseCookies=o,e&&t&&(e(o),t=!0)),this.hasConsent=Boolean(o),this.cookieConsentKnown=!0}},o=setInterval((()=>{window.__tcfapi&&(window.__tcfapi("addEventListener",2,i),clearInterval(o))}),1e3)}moveCCPABox(){if(!this.ccpaBoxMoved){const e=a.xw[n.Z.apiKey];e&&e.CCPABox&&(window.googlefc=window.googlefc||{},window.googlefc.ccpa=window.googlefc.ccpa||{},window.googlefc.callbackQueue=window.googlefc.callbackQueue||[],window.googlefc.callbackQueue.push({INITIAL_CCPA_DATA_READY:()=>{const t=document.querySelector(".fc-ccpa-root");if(t){const i=document.querySelector(e.CCPABox.moveTo);i&&(e.CCPABox.movePosition&&"before"===e.CCPABox.movePosition?i.insertAdjacentElement("beforebegin",t):e.CCPABox.movePosition&&"after"===e.CCPABox.movePosition?i.insertAdjacentElement("afterend",t):i.appendChild(t),this.ccpaBoxMoved=!0)}const i=setInterval((()=>{window.__uspapi("getUSPData",1,(e=>{if("Y"===e.uspString[2]||e.uspString.includes("-")){var o;if(t)null===(o=t.parentElement)||void 0===o||o.removeChild(t);clearInterval(i)}}))}),1e3)}}))}}uspConsentListener(e){let t=!0;const i=(i,o)=>{o&&((0,s.qu)("log","usp consent data",i,e),"N"===i.uspString[2]||i.uspString.includes("-")?d.Z.canUseCookies=!0:"Y"===i.uspString[2]&&(d.Z.canUseCookies=!1),t&&(e&&e(d.Z.canUseCookies),this.moveCCPABox(),t=!1))};setInterval((()=>{window.__uspapi&&window.__uspapi("getUSPData",1,i)}),2500),setTimeout((()=>{window.__uspapi||r.Z.log("no_ccpa_support",n.Z)}),25e3)}async checkForConsent(){if(!d.Z.userCountry)return setTimeout((()=>this.checkForConsent()),200);if(n.Z.amp)return this.checkForAMPConsent();this.isGDPR&&this.consentChangeListener(),this.isCCPA&&this.uspConsentListener();const{requestCMP:e,requestUSP:t}=await i.e(950).then(i.bind(i,7270));this.isGDPR&&e((e=>{e&&e.consentString&&e.vendorData&&((0,s.qu)("log","[Vuukle] consent info",e),this.checkVuukleVendor(e))})),this.isCCPA&&t((e=>{e&&e.usPrivacy&&("N"===e.usPrivacy[2]||e.usPrivacy.includes("-")?d.Z.canUseCookies=!0:"Y"===e.usPrivacy[2]&&(d.Z.canUseCookies=!1),this.moveCCPABox())}))}checkForAMPConsent(){"boolean"!=typeof n.Z.ampConsent&&"boolean"!=typeof window._granted||((0,s.qu)("log","AMP consent",n.Z.ampConsent||window._granted),d.Z.canUseCookies=Boolean(n.Z.ampConsent||window._granted))}loadCMP(e){if(d.Z.userCountry||setTimeout((()=>this.loadCMP(e)),100),this.isGDPR||this.isCCPA){const t=document.createElement("script"),i=document.createElement("script"),o=e||"42d2f509-fe7c-4488-9a1e-e253af7103f2-test",s=void 0;t.dataset.domainScript=o,t.type="text/javascript",t.src=s?`https://cookie-cdn.cookiepro.com/consent/${o}/otSDKStub.js`:"https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js",i.type="text/javascript",i.innerHTML="function OptanonWrapper(){}",document.head.insertAdjacentElement("afterbegin",t),document.head.insertAdjacentElement("afterbegin",i)}}}},939:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var o=i(1208),s=i(5830),n=i(2589);class a{constructor(e,t){(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"header",void 0),(0,o.Z)(this,"modalElement",void 0),(0,o.Z)(this,"innerModalCSS","\n    .vuukle-info-modal-overlay {\n      background: rgba(222, 233, 243, 0.5);\n      cursor: default;\n      display: block;\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n    }\n\n    .vuukle-info-modal-container {\n      background: rgb(255, 255, 255);\n      border-radius: 0.5rem;\n      box-shadow: 0 0.2rem 0.5rem rgba(69, 77, 93, 0.3);\n      display: block;\n      padding: 0;\n      text-align: left;\n      animation: slide-down 0.2s ease 1;\n      width: 900px;\n      height: 370px;\n      z-index: 1;\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n    }\n\n    .vuukle-info-modal-body {\n      overflow-y: auto;\n      position: relative;\n      padding: 40px;\n      -webkit-overflow-scrolling: touch;\n      font-size: 14px;\n      line-height: 22px;\n      font-weight: 400;\n      color: rgb(1, 102, 152);\n    }\n\n    .vuukle-info-modal-header {\n      position: relative;\n      padding: 20px 30px;\n      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      width: 100%;\n    }\n\n    .vuukle-info-modal-header > div {\n      text-align: center;\n      width: 100%;\n    }\n\n    .vuukle-info-modal-header h4 {\n      margin: 0;\n      font-size: 20px;\n      line-height: 32px;\n      font-weight: 400;\n      color: rgb(1, 102, 152);\n    }\n\n    .vuukle-info-modal-header .vuukle-info-modal-close {\n      display: inline-flex;\n      background: none;\n      border: none;\n    }\n\n    .vuukle-info-modal-close {\n      cursor: pointer;\n    }\n\n    .vuukle-info-modal-header .vuukle-info-modal-close:hover svg {\n      fill: #7b7f83;\n    }\n\n    .vuukle-info-modal-header .vuukle-info-modal-close svg {\n      fill: #c3c5c7;\n    }\n\n    .vuukle-info-modal-powered {\n      position: absolute;\n      left: 50%;\n      top: 565%;\n      transform: translate(-50%, -50%);\n      z-index: 1;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 40px;\n      width: 225px;\n      padding: 10px 20px;\n      text-align: center;\n      background-color: white;\n      border-radius: 20px;\n      box-sizing: border-box;\n      cursor: pointer;\n      font-size: 12px;\n      font-weight: bold;\n      text-decoration: none;\n      color: #000;\n    }\n\n    .vuukle-info-modal-logo {\n      width: 160px;\n      height: 40px;\n      margin: 30px auto 0;\n      display: flex;\n      justify-content: center;\n    }\n\n    .vuukle-info-modal-logo a {\n      width: 100%;\n      height: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .vuukle-info-modal-powered svg {\n      margin-left: 10px;\n    }\n\n    .vuukle-info-modal-footer {\n      position: absolute;\n      bottom: 0;\n      height: 40px;\n      width: 100%;\n      background-color: #FACC2B;\n      color: rgb(1, 102, 152);\n      text-align: center;\n      line-height: 40px;\n      font-size: 14px;\n      font-weight: 400;\n      border-bottom-left-radius: 0.5rem;\n      border-bottom-right-radius: 0.5rem;\n    }\n\n    .vuukle-info-modal-footer a {\n      text-decoration: none;\n      cursor: pointer;\n      color: rgb(1, 102, 152);\n    }\n\n    .vuukle-info-modal-footer a:hover {\n      text-decoration: underline;\n    }\n\n    @media (max-width: 1000px) {\n      .vuukle-info-modal-container {\n        max-width: 90vw;\n        height: auto !important;\n      }\n      .vuukle-info-modal-body {\n        padding-top: 20px;\n        margin-bottom: 20px;\n      }\n    }\n\n    @media (max-width: 500px) {\n      .vuukle-info-modal-powered {\n        top: 605%;\n      }\n      .vuukle-info-modal-footer {\n        line-height: 20px;\n      }\n\n      .vuukle-info-modal-header h4 {\n        font-size: 16px;\n        line-height: 17px;\n      }\n    }\n\n    @media (max-width: 330px) {\n      .vuukle-info-modal-powered {\n        top: 605%;\n      }\n    }\n  "),(0,o.Z)(this,"modalParentCSS","\n    display: none;\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 2147483647;\n  "),(0,o.Z)(this,"modalBodyElement",void 0),(0,o.Z)(this,"modalCloseButtonElement",void 0),(0,o.Z)(this,"created",!1),this.id=e,this.header=t}show(e){a.modalVisible||(e.style.display="block",a.modalVisible=!0)}hide(e){e.style.display="none",a.modalVisible=!1}create(){if(!this.created&&!document.getElementById(this.id)){this.modalElement=document.createElement("div"),this.modalElement.id=this.id,this.modalElement.innerHTML=this.getModalHTML(),this.modalElement.style.cssText=this.modalParentCSS;const e=document.createElement("style");e.innerHTML=this.getModalContainerStyles()+this.innerModalCSS,document.body.appendChild(this.modalElement),document.body.appendChild(e),this.attachModalElementsToObjects(),this.created=!0}}getModalHTML(){return`\n      <div role="dialog" aria-modal="true" aria-labelledby="${this.id}-header">\n        <div class="vuukle-info-modal-overlay"></div>\n        <div class="vuukle-info-modal-container">\n          <div class="vuukle-info-modal-header">\n            <div>\n              <h4 id="${this.id}-header">${this.header}</h4>\n            </div>\n            <button class="vuukle-info-modal-close" title="Close" aria-label="Close Modal">\n              <svg style="width: 20px; height: 20px;" viewBox="0 0 24 24">\n                <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />\n              </svg>\n            </button>\n            <a class="vuukle-info-modal-powered" href="https://vuukle.com/">\n              POWERED BY ${(0,n.Ew)(80,"0 0 143 30")}\n            </a>\n          </div>\n          <div class="vuukle-info-modal-logo">\n            <img src='https://image.vuukle.com/${s.Z.apiKey}'/>\n          </div>\n          <div class="vuukle-info-modal-body">\n          </div>\n          <div class="vuukle-info-modal-footer">\n            If you need any assistance, please contact our <a href="mailto:support@vuukle.com"><b>support</b></a>\n          </div>\n        </div>\n      </div>\n    `}getModalContainerStyles(){return`\n      #${this.id} > div {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        overflow: hidden;\n        padding: 0.4rem;\n      }\n    `}attachClickHandlerForHideModal(e){e.addEventListener("click",(()=>this.hide(this.modalElement)))}attachModalElementsToObjects(){const e=this.modalElement.querySelector(".vuukle-info-modal-body"),t=this.modalElement.querySelector(".vuukle-info-modal-close");e&&(this.modalBodyElement=e),t&&(this.modalCloseButtonElement=t,this.attachClickHandlerForHideModal(this.modalCloseButtonElement))}setModalBodyContent(e){this.modalBodyElement.innerHTML=e}appendToModalBody(e){this.modalBodyElement.innerHTML+=e}setContainerDimensions(e,t){const i=this.modalElement.querySelector(".vuukle-info-modal-container");i&&(i.style.width=`${e}px`,i.style.height=`${t}px`)}}(0,o.Z)(a,"modalVisible",!1);const r=a},8563:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var o=i(1208);i(1009);const s="3.43.0";const n=class{constructor(e,t,i,n,a){this.comments=e,this.emotes=t,this.powerbar=i,this.quiz=n,this.articleConfig=a,(0,o.Z)(this,"modal",void 0),(0,o.Z)(this,"responseModal",void 0),(0,o.Z)(this,"availableLanguages",["ru","sr","de","no","es","zh","ko","it","ja","fr","kn","ms","id","hr","bs","fa","tr","zh-Hant","pt-br","vi","sq","ar","ro","hi","pa","he"]),(0,o.Z)(this,"setFromJSON",((e,t)=>{let i=!1;if(e&&-1===this.availableLanguages.indexOf(e)&&!t){const t=e.substring(0,2);if(-1===this.availableLanguages.indexOf(t))return;i=!0}else if(!e)return;const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(4===o.readyState&&200===o.status){const e=JSON.parse(o.responseText);this.comments&&this.articleConfig.comments.enabled&&e.comments&&this.comments.onLoad((t=>t.postMessage({customText:e.comments.customText},"*"))),this.comments&&this.articleConfig.comments.enabled&&e.modal&&(this.responseModal=e.modal,this.modal&&this.modal.onLoad((e=>e.postMessage({customText:this.responseModal.customText},"*")))),this.emotes&&this.articleConfig.emotes.enabled&&e.emotes&&this.emotes.onLoad((t=>t.postMessage({customText:e.emotes.customText},"*"))),this.powerbar&&this.articleConfig.powerbar.enabled&&e.powerbar&&this.powerbar.forEach((t=>{t.onLoad((t=>t.postMessage({customText:e.powerbar.customText},"*")))})),this.quiz&&this.articleConfig.quiz.enabled&&e.quiz&&this.quiz.onLoad((t=>t.postMessage({customText:e.quiz.customText},"*")))}};let n="";n=this.articleConfig.customTranslationUrl?this.articleConfig.customTranslationUrl:`https://cdn.vuukle.com/widgets/translations/${i?e.substring(0,2):e}.json?version=${s}`,o.open("GET",n),o.setRequestHeader("Content-Type","application/json"),o.send()})),(0,o.Z)(this,"initializeModal",(e=>{e&&(this.modal=e,this.modal.onLoad((e=>{this.responseModal&&e.postMessage({customText:this.responseModal.customText},"*")})))})),this.articleConfig=a,"en"!==this.articleConfig.language||this.articleConfig.customTranslationUrl?this.setFromJSON(this.articleConfig.language,Boolean(this.articleConfig.customTranslationUrl)):document.documentElement.lang&&"en"!==document.documentElement.lang&&this.setFromJSON(document.documentElement.lang)}}},6281:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var o=i(1208),s=i(2589);class n{static createNotificationCorner(){const e=document.getElementById("vuukle_alerts_fixed_left");if(e)n.cornerCreated=!0,n.notificationCorner=e;else{const e=document.createElement("div");e.id="vuukle_alerts_fixed_left",e.style.cssText="\n        position: fixed;\n        bottom: 10px;\n        right: -16px;\n        borderRadius: 5px;\n        display: flex;\n        flex-direction: column-reverse;\n        height: 100vh;\n        overflow-y: auto;\n        pointer-events: none;\n        align-items: flex-end;\n        z-index: 2147483648;\n        color: #000;\n      ",n.cornerCreated=!0,n.notificationCorner=e,document.body.appendChild(e)}}static createNotification(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;if(this.createdNotifications.includes(e))return;this.createdNotifications.push(e),n.cornerCreated||n.createNotificationCorner();const o=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),d=document.createElement("h4"),l=document.createElement("div"),c=document.createElement("span");o.id=`alert-${(0,s.qs)()}`,o.style.cssText=n.alertContainerStyles,o.style.borderLeft=`5px solid ${n.alertColors[t]}`,r.style.cssText=n.alertTextContainerStyles,d.style.cssText=n.alertTextStyles,l.style.cssText=n.alertRemoveButtonStyles,a.style.display="flex",a.style.alignItems="center",a.innerHTML=n.notificationLogoHTML,r.innerHTML=e,l.textContent="+",l.setAttribute("aria-label","Close Alert"),l.setAttribute("role","button"),l.setAttribute("title","Close Alert"),l.onclick=()=>n.removeNotificationById(o.id,e),r.appendChild(d),l.appendChild(c),o.appendChild(a),o.appendChild(r),o.appendChild(l),n.notificationCorner.appendChild(o),setTimeout((()=>{n.removeNotificationById(o.id,e)}),i)}static removeNotificationById(e,t){this.createdNotifications=this.createdNotifications.filter((e=>e!==t));const i=document.getElementById(e);i&&i.parentNode&&i.parentNode.removeChild(i)}}(0,o.Z)(n,"cornerCreated",!1),(0,o.Z)(n,"notificationCorner",void 0),(0,o.Z)(n,"createdNotifications",[]),(0,o.Z)(n,"alertContainerStyles","\n    padding: 12px 16px;\n    overflow: hidden;\n    display: flex;\n    position: relative;\n    font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',sans-serif;\n    font-weight: 500;\n    box-shadow: rgb(67 90 111 / 30%) 0px 0px 1px, rgb(67 90 111 / 47%) 0px 8px 10px -4px;\n    margin-right: 10px;\n    margin-bottom: 15px;\n    border-left: 5px solid #909399;\n    align-items: center;\n    background: #fff;\n    pointer-events: auto;\n  "),(0,o.Z)(n,"alertTextContainerStyles","\n    flex: 1 1 0%;\n  "),(0,o.Z)(n,"alertTextStyles","\n    font-weight: 600px;\n    line-height: 20px;\n    margin-bottom: 0;\n    margin-top: 0;\n    letter-spacing: -0.05px;\n    font-size: 14px;\n  "),(0,o.Z)(n,"alertRemoveButtonStyles","\n    transform: rotate(45deg);\n    margin-left: 10px;\n    cursor: pointer;\n    font-size: 26px;\n  "),(0,o.Z)(n,"alertColors",{error:"#f56c6c",info:"#909399",success:"#67c23a",warning:"#e6a23c"}),(0,o.Z)(n,"notificationLogoHTML",`\n    <a href="https://vuukle.com" target="_blank" rel="noopener nofollow" style="margin-right: 5px;">\n      ${(0,s.Ew)(30,"0 0 30 30")}\n    </a>\n  `);const a=n},989:(e,t,i)=>{"use strict";i.d(t,{u:()=>u,Z:()=>h});var o=i(1208),s=i(7705),n=i(6801),a=i(1324),r=i(6148),d=i(8413);class l{static setNotificationList(e){this.notificationList=e}static createNotificationCorner(){const e=document.getElementById("vuukle_alerts_fixed_left");if(e)return e;{const e=document.createElement("div");return e.id="vuukle_alerts_fixed_left",e.style.cssText="\n        position: fixed;\n        bottom: 10px;\n        right: -16px;\n        borderRadius: 5px;\n        display: flex;\n        flex-direction: column-reverse;\n        height: 100vh;\n        overflow-y: scroll;\n        pointer-events: none;\n        align-items: flex-end;\n        z-index: 2147483648;\n        color: #000;\n      ",e}}static createNotification(e,t){const i=document.createElement("div");i.style.pointerEvents="auto",document.getElementById(`${t.Guid}`)||e.querySelector(`.a${t.Guid}`)||(i.innerHTML+=`\n        <div id="${t.Guid}" style="${l.notificationContainerStyles}">\n          <a href="${t.Subject}" class="a${t.Guid}" style="display: flex;text-decoration: none;color: black;">\n            <div style="${l.notificationImageStyles(t.Image)}"></div>\n            <div style="margin: 0 20px;width:200px">\n              <p style="${l.notificationTextStyles}">${t.Notification}</p>\n            </div>\n          </a>\n          <div style="width:40px;height:100%;position:relative">\n            <svg data-id="${t.Guid}" data-prodid = "${t.prod_db_id}" class="delVuukleNotifSVG" style="position:absolute;top:45%;right:20%;cursor:pointer" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M15 5L5 15" stroke="#60657B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M5 5L15 15" stroke="#60657B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>\n          </div>\n        </div>\n      `,e.appendChild(i))}static setShownNotes(e,t){try{const i=(0,r._2)("showedNotes")||JSON.stringify({});let o=JSON.parse(i);o?o[e]&&!o[e].includes(t)?o[e].push(t):o[e]=[t]:o={[e]:[t]},a.Z.canUseCookies?d.Z.executeWhenStorageValueCanBeSet("showedNotes",(()=>{(0,r.ti)("showedNotes",JSON.stringify(o))})):a.Z.addStorageUpdateCallback((()=>{d.Z.executeWhenStorageValueCanBeSet("showedNotes",(()=>{(0,r.ti)("showedNotes",JSON.stringify(o))}))}))}catch(e){return}}static removeNotificationById(e,t){const i=document.getElementById(e);if(i&&i.style){i.style.display="none";const e=this.notificationList.find((e=>i.innerText.trim()==e.Notification));e&&l.setShownNotes(t,e.Guid)}}static addNotificationRemoveListeners(e,t){e.querySelectorAll(".delVuukleNotifSVG").forEach((e=>{e.onclick=()=>{l.removeNotificationById(e.dataset.id,t)}}))}static addNotificationClickListeners(e,t,i,o){e.querySelectorAll(`.a${i}`).forEach((e=>{e.onclick=()=>{a.Z.canUseCookies?d.Z.executeWhenStorageValueCanBeSet("hrefAfter",(()=>{(0,r.ti)("hrefAfter",JSON.stringify(o))})):a.Z.addStorageUpdateCallback((()=>{d.Z.executeWhenStorageValueCanBeSet("showedNotes",(()=>{(0,r.ti)("hrefAfter",JSON.stringify(o))}))}))}}))}}(0,o.Z)(l,"notificationList",[]),(0,o.Z)(l,"notificationContainerStyles","\n    display: flex;\n    width: 397px;\n    background: white;\n    box-shadow: rgb(67 90 111 / 30%) 0px 0px 1px, rgb(67 90 111 / 47%) 0px 0px 8px 2px;\n    padding: 20px 0;\n    border-radius: 5px;\n    margin: 5px 10px;\n  "),(0,o.Z)(l,"notificationImageStyles",(e=>`\n    margin-left: 20px;\n    background-image:url(${e});\n    width: 90px;\n    height: 100%;\n    background-size: 100% 100%;\n    border-radius: 5px;\n  `)),(0,o.Z)(l,"notificationTextStyles","\n    height: 75px;\n    overflow: hidden;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 4;\n    display: -webkit-box;\n    margin: 0;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    width: 200px;\n    font-size: 16px;\n    font-family: Helvetica Neue;\n    font-weight:700;\n  ");const c=l;let u=function(e){return e.Ping="ping",e.Start="start",e.StartWriting="startWriting",e.StopWriting="stopWriting",e.IsWriting="isWriting",e.SetCommentCount="setCommentCount",e.CommentPosted="commentPosted",e.CommentDeleted="commentDeleted",e.StartCommentsReading="startReadingComments",e.StopCommentsReading="stopReadingComments",e.Notifications="notifications",e.WebVitals="webVitals",e}({});const h=class{constructor(e){this.config=e,(0,o.Z)(this,"enabled",!1),(0,o.Z)(this,"webSocket",void 0),(0,o.Z)(this,"data",void 0),(0,o.Z)(this,"intervalId",void 0),(0,o.Z)(this,"notificationsIntervalId",void 0),(0,o.Z)(this,"addMessageListener",(e=>this.webSocket&&this.webSocket.addEventListener("message",e))),this.enabled&&this.init(e)}init(e){this.webSocket=new WebSocket("wss://s1.vuukle.com:8443"),this.data={host:e.host,referrer:e.refHost||"",refurl:encodeURIComponent(document.referrer||""),type:"",userid:"",version:"1.50",author:e.author,meta:{id:e.articleId,img:e.img,tag:e.tags,title:e.title},tag:"string"==typeof e.tags?e.tags.split(",")[0]:"",uri:encodeURIComponent(e.url),browser:a.Z.browser,device:a.Z.device,os:a.Z.os,country:a.Z.userCountry},e.amp&&(this.data.device="AMP"),this.intervalId=window.setInterval((()=>{this.webSocket.send(JSON.stringify({type:"ping"}))}),3e4);const t=s.Z.selectors.comments.replace("#","");!1!==e.comments.enabled&&null!==document.querySelector(`div[id*="${t}"]`)||(this.notificationsIntervalId=window.setInterval((()=>{this.webSocket.send(JSON.stringify({type:"notifications",host:e.host}))}),1e4)),window.addEventListener("pagehide",(()=>this.webSocket.close())),this.webSocket.onclose=()=>{this.clearRealtimeMessageIntervals(),this.init(e)},this.webSocket.onerror=e=>{(0,n.qu)("error","Realtime socket error: ",e),this.clearRealtimeMessageIntervals()},this.webSocket.onopen=()=>{(0,n.IW)(n.PP.websocketOpened),(0,n.rX)(n.J8.platformStartToWebsocketOpen,n.PP.platformStart,n.PP.websocketOpened)},this.watchAndCreateNotifications(),this.send({type:u.Start})}clearRealtimeMessageIntervals(){window.clearInterval(this.intervalId),this.notificationsIntervalId&&window.clearInterval(this.notificationsIntervalId)}watchAndCreateNotifications(){const e=c.createNotificationCorner();let t="{}",i="[]";try{t=(0,r._2)("showedNotes")||JSON.stringify({}),i=(0,r._2)("hrefAfter")||JSON.stringify([])}catch(e){}const o=JSON.parse(t),s=JSON.parse(i),a=!o,d=o&&!o[this.config.host],l=a||d;this.addMessageListener((t=>{try{const i=JSON.parse(t.data).notifications;c.setNotificationList(i),(i&&i.length>0||s&&s.length>0)&&!document.getElementById("vuukle_alerts_fixed_left")&&document.body.appendChild(e),document.getElementById("vuukle_alerts_fixed_left")&&i.map((t=>{if(l||o&&Array.isArray(o[this.config.host])&&!o[this.config.host].includes(t.Guid)){const o=(new Date).getTime()/1e3,s=t.From+900;o>=t.From&&o<=s&&0!==i.length&&(c.createNotification(e,t),c.addNotificationRemoveListeners(e,this.config.host),c.addNotificationClickListeners(e,this.config.host,t.Guid,i))}})),0!==s.length&&s.map((t=>{if(l||o&&Array.isArray(o[this.config.host])&&!o[this.config.host].includes(t.Guid)){const i=(new Date).getTime()/1e3,o=t.From+900;i>=t.From&&i<=o&&(c.createNotification(e,t),c.addNotificationRemoveListeners(e,this.config.host))}}))}catch(e){(0,n.qu)("warn","Websocket server response processing error has occured",e)}}))}send(e){if(!this.webSocket||!this.enabled)return;let t={};t=e.type===u.Start||e.type===u.CommentPosted||e.type===u.SetCommentCount||e.type===u.CommentDeleted||e.type===u.StartCommentsReading?{apikey:this.config.apiKey,userid:a.Z.userAPIKey}:{userid:a.Z.userAPIKey},e.webVitals&&Object.keys(e.webVitals).length>0&&(t={...t,webVitals:{...e.webVitals}});const i={...this.data,...t};1===this.webSocket.readyState?this.webSocket.send(JSON.stringify({...i,...e}).replace("","")):this.webSocket.addEventListener("open",(()=>this.webSocket.send(JSON.stringify({...i,...e}).replace("",""))))}}},2867:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var o=i(1208),s=i(6801),n=i(1324);class a{static addIPListener(e,t){this.onIPReceived.set(e,t)}static removeIPListenersByIndex(e){this.onIPReceived.get("-"+e)&&this.onIPReceived.delete("-"+e)}static getParams(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=a.cleanString(e.title||""),s={action:t,hashed_email:n.Z.userAPIKey,hostname:e.apiKey,pubdomain:e.host,refDomain:a.cleanString(e.refHost||""),sessionId:n.Z.sessionID,version:"4.20",articleImg:"",articleTitle:encodeURI(o).replace(/#/g,"%23"),article_id:encodeURI(e.articleId||""),hashed_article_url:encodeURIComponent(a.cleanUrl(e.url)),referrer:encodeURI(e.author||""),tags:a.processTag(e.tags||""),browser:n.Z.browser,device:n.Z.device,os:n.Z.os,isArticleBrandSafe:n.Z.isArticleBrandSafe};let r="";return i&&Object.keys(s).forEach(((e,t)=>{r+=0===t?`${e}=${s[e]}`:`&${e}=${s[e]}`})),i?r:s}static async reportBot(e){if(!a.botReported)try{if(""!==e.url.trim()){const t=a.getParams(e,"bot_detected");e.amp&&(t.device="AMP");const i=new XMLHttpRequest;i.open("GET",`https://publish.vuukle.com/bq-publish?callback=&${JSON.stringify(t)}&_=1489139930741`),i.send(),a.botReported=!0}}catch(e){(0,s.qu)("warn","ServerLogger request failed")}}static async logPost(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];(0,s.qu)("log",`📊 [BQ Event]\n      - action: ${e},\n      - article params: ${JSON.stringify(t)}`);try{if(""!==t.url.trim()){let s=a.getParams(t,e,!0);if(o.length>0&&o.forEach((e=>{s+=`&${e.key}=${e.value}`})),t.amp&&(s+="&device=AMP"),i){const i=a.getParams(t,e);t.amp&&(i.device="AMP"),o.length>0&&o.forEach((e=>{i[e.key]=e.value})),navigator.sendBeacon("https://publish.vuukle.com/bq-publish",JSON.stringify(i))}else{const t=new XMLHttpRequest;t.open("POST","https://publish.vuukle.com/bq-publish"),t.send(s),"view_page"===e&&(t.onreadystatechange=()=>{if((4===t.readyState||200===t.status)&&t.responseText){const e=JSON.parse(t.response);a.onIPReceived.forEach((t=>t(e.ip))),window._vuukleGeo?window._vuukleGeo.ip=e.ip:window._vuukleGeo={ip:e.ip}}})}}}catch(e){(0,s.qu)("warn","ServerLogger request failed")}}static async log(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!n.Z.isBot||e.includes("ivt"))if(n.Z.userCountryDetermined&&(n.Z.isArticleBrandSafeKnown||"thephoblographer.com"!==t.host)){if("view_page"!==e||!a.viewPageFired){"view_page"===e&&(a.viewPageFired=!0),(0,s.qu)("log",`📊 [BQ Event]\n      - action: ${e},\n      - article params: ${JSON.stringify(t)}`);try{if(""!==t.url.trim()){const o=a.getParams(t,e);i.length>0&&i.forEach((e=>{o[e.key]=e.value})),t.amp&&(o.device="AMP"),"view_page"!==e&&delete o.isArticleBrandSafe;const s=new XMLHttpRequest;s.open("GET",`https://publish.vuukle.com/bq-publish?callback=&${JSON.stringify(o)}&_=1489139930741`),s.send(),"view_page"===e&&(s.onreadystatechange=()=>{if((4===s.readyState||200===s.status)&&s.responseText){const e=JSON.parse(s.response);a.onIPReceived.forEach((t=>t(e.ip))),window._vuukleGeo?window._vuukleGeo.ip=e.ip:window._vuukleGeo={ip:e.ip}}})}}catch(e){(0,s.qu)("warn","ServerLogger request failed")}}}else setTimeout((()=>a.log(e,t,i)),100)}static cleanString(e){let t="";try{t=e.replace(/[\[\]\{\}\\/\"\']/g,"")}catch(i){t=e.replace(/\[/g,"").replace(/\]/g,"").replace(/"/g,"").replace(/'/g,"").replace(/\{/g,"").replace(/\}/g,"").replace(/\\/g,"")}return t&&0!==t.length||(t=e.replace("[","").replace("]","").replace(/"/g,"").replace(/'/g,"")),t}static processTag(e){return e.split(",")[0].replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"").slice(0,10)}static cleanUrl(e){if(""===e.trim()||!e)return"";try{const t=new URL(e);return t.hostname.replace("www.","").replace(/^(m\.)/,"")+t.pathname+t.search}catch(e){return""}}}(0,o.Z)(a,"viewPageFired",!1),(0,o.Z)(a,"botReported",!1),(0,o.Z)(a,"onIPReceived",new Map);const r=a},1324:(e,t,i)=>{"use strict";i.d(t,{Z:()=>b});var o=i(1208),s=i(4654),n=i(1655),a=i(5830),r=(i(1009),i(6801));const d=void 0!==navigator.userAgentData;function l(){return i.e(163).then(i.bind(i,465))}function c(){return i.e(858).then(i.bind(i,5891))}async function u(){if(d){return(await l()).detectBrowser()}return(await c()).detectBrowser()}async function h(){if(d){return(await l()).detectDevice()}return(await c()).detectDevice()}async function m(){if(d){return(await l()).detectOS()}return(await c()).detectOS()}var g=i(2589),f=i(6148),p=i(3164),v=i(8413);const b=new class{constructor(){(0,o.Z)(this,"_canUseCookies",!1),(0,o.Z)(this,"sameSiteCookieOptions",{expires:30,sameSite:"lax"}),(0,o.Z)(this,"userCountry",""),(0,o.Z)(this,"userCountryDetermined",!1),(0,o.Z)(this,"userID",""),(0,o.Z)(this,"storageUpdateCallbacks",new Set),(0,o.Z)(this,"browser","unknown"),(0,o.Z)(this,"os","unknown"),(0,o.Z)(this,"device","unknown"),(0,o.Z)(this,"isMobileUser",window.innerWidth<=1024),(0,o.Z)(this,"cookieChangeListeners",new Map),(0,o.Z)(this,"onGeoDataReceived",new Map),(0,o.Z)(this,"isBot",/(bot|check|cloud|crawler|download|monitor|preview|scan|spider|google|qwantify|yahoo|facebookexternalhit|flipboard|tumblr|vkshare|whatsapp|curl|perl|python|wget|heritrix|ia_archiver)/i.test(navigator.userAgent)),(0,o.Z)(this,"startTimestamp",Math.floor(Date.now()/1e3)),(0,o.Z)(this,"_isArticleBrandSafe",null),(0,o.Z)(this,"isArticleBrandSafeKnown",!1),window.addVuukleCookieConsentListener=this.addCookieConsentListener.bind(this)}get canUseCookies(){return this._canUseCookies}get isArticleBrandSafe(){return this._isArticleBrandSafe}set isArticleBrandSafe(e){this._isArticleBrandSafe=e,this.isArticleBrandSafeKnown=!0}set canUseCookies(e){this._canUseCookies!==e&&(this._canUseCookies=e,this.executeCallbacks(),this.cookieChangeListeners.forEach((t=>t(e))),Array.isArray(window.tempVuukleCookieConsentListeners)&&(window.tempVuukleCookieConsentListeners.forEach((t=>{if("function"==typeof t){t(e);const i=t;this.addCookieConsentListener(`temp-listener-${this.cookieChangeListeners.size}`,i)}else{const[i,o]=t;v.Z.executeWhenStorageValueCanBeSet(o,(()=>i(e)));const s=i;this.addCookieConsentListener(`temp-listener-${this.cookieChangeListeners.size}`,s,o)}})),window.tempVuukleCookieConsentListeners=null))}addCookieConsentListener(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";v.Z.cookieConsentKnown?i?v.Z.executeWhenStorageValueCanBeSet(i,(()=>t(this.canUseCookies))):t(this.canUseCookies):this.cookieChangeListeners.set(e,(e=>{i?v.Z.executeWhenStorageValueCanBeSet(i,(()=>t(e))):t(e)}))}addGeoListener(e,t){this.userCountryDetermined?t({country:this.userCountry}):this.onGeoDataReceived.set(e,t)}addStorageUpdateCallback(e){this.storageUpdateCallbacks.add(e)}removeCookieListenerByIndex(e){this.cookieChangeListeners.get("-"+e)&&this.cookieChangeListeners.delete("-"+e)}removeGeoListenersByIndex(e){this.onGeoDataReceived.get("-"+e)&&this.onGeoDataReceived.delete("-"+e)}get sessionID(){const e=a.Z.amp?(0,f._2)("vsid"):n.Z.get("vsid");if(!e&&this.canUseCookies){const e=(0,g.qs)();return v.Z.executeWhenStorageValueCanBeSet("vsid",(()=>{a.Z.amp?(0,f.ti)("vsid",e):n.Z.set("vsid",e,this.sameSiteCookieOptions)})),e}if(!e&&!this.canUseCookies){const e=(0,g.qs)();this.addStorageUpdateCallback((()=>{v.Z.executeWhenStorageValueCanBeSet("vsid",(()=>{a.Z.amp?(0,f.ti)("vsid",e):n.Z.set("vsid",e,this.sameSiteCookieOptions)}))}))}return e||(0,g.qs)()}executeCallbacks(){this.canUseCookies&&this.storageUpdateCallbacks.size>0&&(this.storageUpdateCallbacks.forEach((e=>e())),this.storageUpdateCallbacks.clear())}get userAPIKey(){if(this.userID)return this.userID;const e=a.Z.amp?(0,f._2)("uid-s"):n.Z.get("uid-s");if(e)return"$"+e.substring(1);const t=`${(0,g.qs)().substring(1)}`;return this.canUseCookies?v.Z.executeWhenStorageValueCanBeSet("uid-s",(()=>{a.Z.amp?(0,f.ti)("uid-s",t):n.Z.set("uid-s",t,{expires:365,sameSite:"lax"})})):this.addStorageUpdateCallback((()=>{v.Z.executeWhenStorageValueCanBeSet("uid-s",(()=>{a.Z.amp?(0,f.ti)("uid-s",t):n.Z.set("uid-s",t,{expires:365,sameSite:"lax"})}))})),"$"+t.substring(1)}set userAPIKey(e){this.userID=e}deleteCookies(){a.Z.amp?((0,f.ti)("vsid",null),(0,f.ti)("uid-s",null),(0,f.ti)("vuukle_geo_region",null)):(n.Z.remove("vsid",this.sameSiteCookieOptions),n.Z.remove("uid-s",{expires:365,sameSite:"Lax"}),n.Z.remove("vuukle_geo_region",{expires:7,sameSite:"Lax"}),n.Z.remove("vuukle_notification_subscription",{expires:180,sameSite:"Lax"}),n.Z.remove("vuukle_notification_subscription_dismissed",{expires:1,sameSite:"Lax"})),p.Z.removeToken(),p.Z.setAnonToken(null),(0,f.ti)("hrefAfter",null),(0,f.ti)("showedNotes",null),(0,f.ti)(`vuukleconfhttps://cdn.vuukle.com/ads/${a.Z.host}.json`,null),(0,f.ti)(`vuukleconftimehttps://cdn.vuukle.com/ads/${a.Z.host}.json`,null),(0,f.ti)("_vuukleGeo",null)}async provideUserInfoInGlobalObject(e){let t=e.browser;"unknown"!==this.browser&&"unknown"!==t||(t=await u());const i={city:e.region,country_code:e.countryName||e.country_code,browser:t,device:e.device,os:e.os};window._vuukleGeo?window._vuukleGeo={...window._vuukleGeo,...i}:window._vuukleGeo=i,this.onGeoDataReceived.forEach((t=>t({country:e.countryName||e.country_code})))}async determineCookieUsability(){(0,r.IW)(r.PP.geoRequestStart),(0,r.rX)(r.J8.platformStartToGeoStart,r.PP.platformStart,r.PP.geoRequestStart);const e=e=>{v.Z.GDPRCountryCodes.includes(e)||(this.canUseCookies=!0,v.Z.cookieConsentKnown=!0),this.userCountry=e},t=a.Z.amp?(0,f._2)("vuukle_geo_region"):n.Z.get("vuukle_geo_region"),i=window._vuukleGeo;if(t){const i=JSON.parse(t);this.browser=i.browser||"unknown",this.os=i.os||"unknown",this.device=i.device||"unknown",this.userCountry=i.country_code,this.provideUserInfoInGlobalObject(i),(0,r.IW)(r.PP.geoRequestCache),(0,r.rX)(r.J8.platformStartToGeoCache,r.PP.platformStart,r.PP.geoRequestCache),e(i.country_code),this.userCountryDetermined=!0}else if(i)(0,r.IW)(r.PP.geoRequestCache),(0,r.rX)(r.J8.platformStartToGeoCache,r.PP.platformStart,r.PP.geoRequestCache),e(i.country_code),this.onGeoDataReceived.forEach((e=>e({country:i.country_code}))),this.userCountryDetermined=!0;else try{const e=void 0?"https://cdntest.vuukle.com/getGeo":"https://vuukle.com/getGeo",t=new XMLHttpRequest;t.open("POST",e,!0),t.setRequestHeader("Content-Type","text/plain"),t.send(JSON.stringify({viewportWidth:window.innerWidth})),t.onreadystatechange=async()=>{if(4===t.readyState&&200===t.status){const e=JSON.parse(t.responseText);if(e){const t=v.Z.GDPRCountryCodes.includes(e.countryName),i="California"===e.region;v.Z.isGDPR=t,v.Z.isCCPA=i,this.userCountry=e.countryName,this.browser=e.browser,this.os=e.os,this.device=e.device,this.canUseCookies=!t&&!i;const o={country_code:e.countryName,region:e.region,os:e.os,device:e.device,browser:e.browser};if(!e.countryName){const e=await(0,s.$f)("GET","https://get.geojs.io/v1/ip/country.json",void 0,"text/plain");o.country_code=e.country,this.userCountry=e.country}this.userCountryDetermined=!0,t||i?v.Z.checkForConsent():(v.Z.cookieConsentKnown=!0,v.Z.executeWhenStorageValueCanBeSet("vuukle_geo_region",(()=>{a.Z.amp?(0,f.m4)("vuukle_geo_region",JSON.stringify(o),168):n.Z.set("vuukle_geo_region",JSON.stringify(o),{expires:7,sameSite:"lax"})}))),this.provideUserInfoInGlobalObject(e)}}(0,r.IW)(r.PP.geoRequestEnd),(0,r.rX)(r.J8.geoStartToEnd,r.PP.geoRequestStart,r.PP.geoRequestEnd),(0,r.rX)(r.J8.platformStartToGeoEnd,r.PP.platformStart,r.PP.geoRequestEnd)},t.onerror=async()=>{this.device=await h(),this.os=await m(),this.browser=await u(),this.userCountryDetermined=!0}}catch(e){(0,r.IW)(r.PP.geoRequestError),(0,r.rX)(r.J8.geoStartToError,r.PP.geoRequestStart,r.PP.geoRequestError),(0,r.rX)(r.J8.platformStartToGeoError,r.PP.platformStart,r.PP.geoRequestError),(0,r.qu)("error",e),this.device=await h(),this.os=await m(),this.browser=await u(),this.userCountryDetermined=!0}}}},3164:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var o=i(1208),s=i(1655),n=i(5830),a=i(6148),r=i(1324),d=i(8413);const l=new class{constructor(){(0,o.Z)(this,"anonCommenting",!1),(0,o.Z)(this,"defaultCookieOptions",{expires:30,sameSite:"Lax"}),(0,o.Z)(this,"useIsolatedToken",!1),(0,o.Z)(this,"guestCommenting",!1),(0,o.Z)(this,"regularCommenting",!0),(0,o.Z)(this,"ssoTokenChangeListeners",new Map)}isRegularTokenPresent(){const e=`vuukle_${this.useIsolatedToken?n.Z.apiKey+"-":""}token`;return n.Z.amp?null!==(0,a._2)(e):void 0!==s.Z.get(e)}isAnonymousTokenPresent(){return n.Z.amp?null!==(0,a._2)("vuukle_anonymous_token"):void 0!==s.Z.get("vuukle_anonymous_token")}addSSOTokenListener(e,t){this.ssoTokenChangeListeners.set(e,t)}fireTokenListeners(e){this.ssoTokenChangeListeners.forEach((t=>t(e||this.getToken()||"")))}get tokenName(){return this.isRegularTokenPresent()||this.regularCommenting?`vuukle_${this.useIsolatedToken?n.Z.apiKey+"-":""}token`:this.guestCommenting&&!this.anonCommenting?"vuukle_guest_token":"vuukle_anonymous_token"}setSSOInfo(e){this.useIsolatedToken=e}setGuestCommenting(e){this.guestCommenting=e}setRegularCommenting(e){this.regularCommenting=e}setAnonymousCommenting(e){this.anonCommenting=e}saveToken(e){r.Z.canUseCookies?d.Z.executeWhenStorageValueCanBeSet(this.useIsolatedToken?"vuukle_token":this.tokenName,(()=>{n.Z.amp?(0,a.ti)(this.tokenName,e):s.Z.set(this.tokenName,e,this.defaultCookieOptions)})):r.Z.addStorageUpdateCallback((()=>{d.Z.executeWhenStorageValueCanBeSet(this.useIsolatedToken?"vuukle_token":this.tokenName,(()=>{n.Z.amp?(0,a.ti)(this.tokenName,e):s.Z.set(this.tokenName,e,this.defaultCookieOptions)}))}))}setGuestToken(e){r.Z.canUseCookies?d.Z.executeWhenStorageValueCanBeSet("vuukle_guest_token",(()=>{n.Z.amp?(0,a.ti)("vuukle_guest_token",e):s.Z.set("vuukle_guest_token",e,this.defaultCookieOptions)})):r.Z.addStorageUpdateCallback((()=>{d.Z.executeWhenStorageValueCanBeSet("vuukle_guest_token",(()=>{n.Z.amp?(0,a.ti)("vuukle_guest_token",e):s.Z.set("vuukle_guest_token",e,this.defaultCookieOptions)}))}))}getAnonToken(){return n.Z.amp?(0,a._2)("vuukle_anonymous_token")||"":s.Z.get("vuukle_anonymous_token")||""}setAnonToken(e){e||(n.Z.amp?(0,a.ti)("vuukle_anonymous_token",null):s.Z.remove("vuukle_anonymous_token",r.Z.sameSiteCookieOptions)),r.Z.canUseCookies?e&&d.Z.executeWhenStorageValueCanBeSet("vuukle_anonymous_token",(()=>{n.Z.amp?(0,a.ti)("vuukle_anonymous_token",e):s.Z.set("vuukle_anonymous_token",e,r.Z.sameSiteCookieOptions)})):e&&r.Z.addStorageUpdateCallback((()=>{d.Z.executeWhenStorageValueCanBeSet("vuukle_anonymous_token",(()=>{n.Z.amp?(0,a.ti)("vuukle_anonymous_token",e):s.Z.set("vuukle_anonymous_token",e,r.Z.sameSiteCookieOptions)}))}))}removeToken(){n.Z.amp?(0,a.ti)(this.tokenName,null):s.Z.remove(this.tokenName,this.defaultCookieOptions)}getToken(){return n.Z.amp?(0,a._2)(this.tokenName)||void 0:s.Z.get(this.tokenName)}}},4405:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var o=i(1208),s=i(5739);const n=class{constructor(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(this.id=e,this.url=s,this.params=n,this.hasSkeleton=a,this.lazyLoad=r,(0,o.Z)(this,"iframe",void 0),(0,o.Z)(this,"iframeLoaded",void 0),(0,o.Z)(this,"iframeWasViewed",void 0),(0,o.Z)(this,"iframeWindow",void 0),(0,o.Z)(this,"iframeSkeleton",void 0),(0,o.Z)(this,"onLoadCallbacks",void 0),(0,o.Z)(this,"onLoad",(e=>{if("function"==typeof e)return this.iframeLoaded?e(this.iframeWindow):void("function"==typeof e&&this.onLoadCallbacks.add(e))})),(0,o.Z)(this,"iframeOnLoad",(()=>{var e;this.iframe.src?(this.iframeWindow=this.iframe.contentWindow,this.iframeLoaded=!0,null===(e=this.iframeSkeleton)||void 0===e||e.remove(),this.onLoadCallbacks.size>0&&this.onLoadCallbacks.forEach((e=>e(this.iframeWindow)))):setTimeout((()=>this.iframeOnLoad()),100)})),!this.id)throw new Error("Iframe id is required");if(!s)throw new Error("Iframe url is required");this.iframeLoaded=!1,this.iframeWasViewed=!1,this.onLoadCallbacks=new Set;const d=document.createElement("iframe"),l=`${s}?version=${n.version}`;this.onLoad((e=>e.postMessage({configuration:n},l))),d.style.width="100%",d.style.minWidth="100%",d.height="0",d.name=this.id,d.id=this.id,d.title=t,d.frameBorder="0",d.scrolling="no",d.dataset.src=l,d.loading="lazy",d.classList.add("lazyload"),this.iframe=d,this.lazyLoad?"loading"in HTMLIFrameElement.prototype?(d.src=l,d.onload=this.iframeOnLoad):i.e(657).then(i.t.bind(i,1467,23)).then((e=>{e.default.cfg.iframeLoadMode=1,d.onload=this.iframeOnLoad})):this.loadIframe()}loadIframe(){this.iframeLoaded||(this.iframe.removeAttribute("loading"),this.iframe.src=`${this.url}?version=${this.params.version}`)}get isInView(){return!(!(0,s.w1)(this.iframe)&&!(0,s.v4)(this.iframe))&&(this.iframeWasViewed=!0,!0)}}},5053:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var o=i(7705),s=i(4405);class n extends s.Z{constructor(e,t){super(e,"Vuukle Modal Widget",o.Z.urls.modal,{amp:t.amp,sdk:t.sdk,apiKey:t.apiKey,host:t.host,url:t.url,img:t.img,title:t.title,globalLang:t.language,lang:t.comments&&t.comments.transliteration.language,font:t.theme&&t.theme.font,link:t.link,anonymous:t.comments&&t.comments.auth&&t.comments.auth.anonymous,version:o.Z.versions.modal},!1,!1),this.id=e,this.config=t,this.iframe.style.width="100%",this.iframe.style.height="100%",this.iframe.style.display="none",this.iframe.style.position="fixed",this.iframe.style.top="0",this.iframe.style.left="0",this.iframe.style.right="0",this.iframe.style.bottom="0",this.iframe.style.zIndex="2147483647",this.iframe.onload=this.iframeOnLoad,this.onLoad((e=>e.postMessage({cardStyles:t.theme&&t.theme.cardStyles},"*")))}}const a=n},6644:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var o=i(1208),s=i(7705);const n=class{constructor(e){this.config=e,(0,o.Z)(this,"windowUrl",void 0),(0,o.Z)(this,"currentWindow",void 0),(0,o.Z)(this,"windowName","modal-window"),(0,o.Z)(this,"loaded",!1),(0,o.Z)(this,"onLoadCallbacks",new Set),(0,o.Z)(this,"configuration",void 0),(0,o.Z)(this,"onLoad",(e=>{if("function"==typeof e)return this.loaded?e(this.currentWindow):void("function"==typeof e&&this.onLoadCallbacks.add(e))})),(0,o.Z)(this,"executeAllCallbacks",(()=>{this.onLoadCallbacks.forEach((e=>e(this.currentWindow))),this.onLoadCallbacks.clear()}));const t=s.Z.urls.modal;this.configuration={amp:e.amp,sdk:e.sdk,apiKey:e.apiKey,host:e.host,url:e.url,img:e.img,title:e.title,globalLang:e.language,lang:e.comments&&e.comments.transliteration.language,font:e.theme&&e.theme.font,link:e.link,anonymous:e.comments&&e.comments.auth&&e.comments.auth.anonymous,version:s.Z.versions.modal},this.windowUrl=`${t}?version=${this.configuration.version}`,this.onLoad((e=>e.postMessage({configuration:this.configuration},this.windowUrl)))}setLoaded(e){this.loaded=e}openModalInWindow(){const e=window.open(this.windowUrl,this.windowName,"status = 1, height = 540, width = 600, resizable = 0, top=200, left=400, screenX=400, screenY=200");if(this.currentWindow=e,e){const t=window.setInterval((()=>{e&&e.closed&&(window.clearInterval(t),this.currentWindow=null,this.loaded=!1,e.close())}),1e3)}}}},4876:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var o=i(7705),s=i(4405);class n extends s.Z{constructor(e,t){super(e,"Vuukle Quiz Widget",o.Z.urls.quiz,{apiKey:t.apiKey,host:t.host,articleId:t.articleId,tags:t.tags,title:t.title,url:t.url,version:o.Z.versions.quiz,language:document.documentElement.lang||"en"}),this.id=e,this.config=t,this.iframe.style.maxHeight="265px",this.iframe.allow="web-share; clipboard-write"}changeHeight(e){this.iframe.style.maxHeight=`${e}px`}changeWidth(e){this.iframe.style.maxWidth=`${e}px`,this.iframe.style.width=`${e}px`}}const a=n},1181:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var o=i(7705),s=i(4405);class n extends s.Z{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e,"Vuukle Subscribe Widget",o.Z.urls.subscribe,{apiKey:t.apiKey,host:t.host,articleId:t.articleId,tags:t.tags,title:t.title,url:t.url,buttonColor:t.subscribe.buttonColor,buttonTextColor:t.subscribe.buttonTextColor,backgroundColor:t.subscribe.backgroundColor,textColor:t.subscribe.textColor,version:o.Z.versions.subscribe,inSubscribePopup:i},!1,!0),this.id=e,this.config=t,this.iframe.style.minHeight="120px"}insertSkeleton(){}}const a=n},2962:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});const o=new URLSearchParams(window.location.search)},6670:(e,t,i)=>{"use strict";function o(e,t,i){return Math.min(Math.max(e,i),t)}i.d(t,{E:()=>y,A:()=>w});class s extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var n=s;function a(e){if("string"!=typeof e)throw new n(e);if("transparent"===e.trim().toLowerCase())return[0,0,0,0];let t=e.trim();t=g.test(e)?function(e){const t=e.toLowerCase().trim(),i=d[function(e){let t=5381,i=e.length;for(;i;)t=33*t^e.charCodeAt(--i);return(t>>>0)%2341}(t)];if(!i)throw new n(e);return`#${i}`}(e):e;const i=c.exec(t);if(i){const e=Array.from(i).slice(1);return[...e.slice(0,3).map((e=>parseInt(l(e,2),16))),parseInt(l(e[3]||"f",2),16)/255]}const s=u.exec(t);if(s){const e=Array.from(s).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,16))),parseInt(e[3]||"ff",16)/255]}const a=h.exec(t);if(a){const e=Array.from(a).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,10))),parseFloat(e[3]||"1")]}const r=m.exec(t);if(r){const[t,i,s,a]=Array.from(r).slice(1).map(parseFloat);if(o(0,100,i)!==i)throw new n(e);if(o(0,100,s)!==s)throw new n(e);return[...p(t,i,s),Number.isNaN(a)?1:a]}throw new n(e)}const r=e=>parseInt(e.replace(/_/g,""),36),d="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce(((e,t)=>{const i=r(t.substring(0,3)),o=r(t.substring(3)).toString(16);let s="";for(let e=0;e<6-o.length;e++)s+="0";return e[i]=`${s}${o}`,e}),{});const l=(e,t)=>Array.from(Array(t)).map((()=>e)).join(""),c=new RegExp(`^#${l("([a-f0-9])",3)}([a-f0-9])?$`,"i"),u=new RegExp(`^#${l("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),h=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${l(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),m=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,g=/^[a-z]+$/i,f=e=>Math.round(255*e),p=(e,t,i)=>{let o=i/100;if(0===t)return[o,o,o].map(f);const s=(e%360+360)%360/60,n=(1-Math.abs(2*o-1))*(t/100),a=n*(1-Math.abs(s%2-1));let r=0,d=0,l=0;s>=0&&s<1?(r=n,d=a):s>=1&&s<2?(r=a,d=n):s>=2&&s<3?(d=n,l=a):s>=3&&s<4?(d=a,l=n):s>=4&&s<5?(r=a,l=n):s>=5&&s<6&&(r=n,l=a);const c=o-n/2;return[r+c,d+c,l+c].map(f)};function v(e){if("transparent"===e)return 0;function t(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}const[i,o,s]=a(e);return.2126*t(i)+.7152*t(o)+.0722*t(s)}var b=i(2589);function w(e){const t="rgba(0, 0, 0, 0)";if(!e)return t;const i=getComputedStyle(e);if("none"!==i.backgroundImage)return"";const o=i.backgroundColor;return o===t?w(e.parentElement):o}function y(e){if(!e)return 1;let t,i=w(e.parentElement);i.includes("rgba")&&(i=function(e){const t=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);if(t){const[,e,i,o,s]=t,n=1-Number(s);return`rgb(${Math.min(Math.round(Number(e)+255*n),255)}, ${Math.min(Math.round(Number(i)+255*n),255)}, ${Math.min(Math.round(Number(o)+255*n),255)})`}return e}(i));try{t=(0,b.So)(v(i))}catch(e){t=1}return t}},5739:(e,t,i)=>{"use strict";function o(e,t){const i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:window).document.querySelector(`meta[${e}='${t}']`);return i?i.content:""}function s(e){const t=e.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth,s=t.top<=i&&t.top+t.height>=0,n=t.left<=o&&t.left+t.width>=0;return s&&n}function n(e){let t,i;return!(!e||1!==e.nodeType)&&(i=document.documentElement,t=e.getBoundingClientRect(),!!t&&t.bottom>=0&&t.right>=0&&t.top<=i.clientHeight&&t.left<=i.clientWidth)}async function a(e,t,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window;return new Promise((s=>{let n=0;const a=setInterval((()=>{const t=o.document.querySelector(e);t&&(clearInterval(a),s(t)),n===i&&(clearInterval(a),s(null)),n++}),t)}))}i.d(t,{bq:()=>o,br:()=>a,fs:()=>r,oS:()=>d,v4:()=>n,w1:()=>s});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return new Promise(((o,s)=>{const n=i.document.createElement("script");n.type="text/javascript",n.src=e,n.onload=()=>o(e),n.onerror=s,n.async=!0,t instanceof Object&&Object.keys(t).forEach((e=>n[e]=t[e]));try{i.document.head.appendChild(n)}catch(e){s(e)}}))};function d(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent}},2589:(e,t,i)=>{"use strict";i.d(t,{Ew:()=>r,So:()=>l,kC:()=>c,qs:()=>a,tA:()=>m,xz:()=>d});var o=i(1655),s=i(6148),n=i(5830);function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function r(e,t){return`\n    <svg\n      width="${e}px"\n      viewbox="${t||"0 0 143 30"}"\n      version="1.1"\n      xmlns="http://www.w3.org/2000/svg"\n      xmlns:xlink="http://www.w3.org/1999/xlink"\n    >\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g transform="translate(-150.000000, -31.000000)" fill-rule="nonzero">\n          <g transform="translate(150.000000, 31.000000)">\n            <path\n              d="M41.8097027,29.0691892 L42.3657568,29.0691892 L54.204,1.80093081 L48.8013243,1.80093081 L44.2726216,12.2153514 C43.2397297,14.5605405 42.2069189,18.3368108 42.2069189,18.3368108 C42.2069189,18.3368108 41.1342973,14.5208108 40.1014865,12.2153514 L35.4535946,1.80093081 L29.4948649,1.80093081 L41.8097027,29.0691892 Z M59.7741892,29.1883784 C62.118,29.1883784 64.0645946,28.0754595 65.0974054,26.0481892 L64.9782162,28.8307297 L70.3412432,28.8307297 L70.3412432,11.8972703 L64.9782162,11.8972703 L64.9782162,20.9602703 C64.9782162,23.1067297 63.7864865,24.339 61.6413243,24.339 C59.7345405,24.339 58.8207568,23.226 58.8207568,21.318 L58.8207568,11.8972703 L53.4578919,11.8972703 L53.4578919,21.6757297 C53.4578919,26.4854595 56.0797297,29.1883784 59.7741892,29.1883784 Z M80.7617838,29.1883784 C83.1056757,29.1883784 85.0524324,28.0754595 86.0845946,26.0481892 L85.9662162,28.8307297 L91.3289189,28.8307297 L91.3289189,11.8972703 L85.9662162,11.8972703 L85.9662162,20.9602703 C85.9662162,23.1067297 84.7743243,24.339 82.6289189,24.339 C80.7218919,24.339 79.8081892,23.226 79.8081892,21.318 L79.8081892,11.8972703 L74.4458919,11.8972703 L74.4458919,21.6757297 C74.4458919,26.4854595 77.0671622,29.1883784 80.7617838,29.1883784 Z M100.915946,23.9414595 L102.345405,22.431 L106.556757,28.8307297 L112.793514,28.8307297 L106.158649,18.8138108 L112.157838,11.8972703 L106.198378,11.8972703 L100.637838,18.4162703 C100.796757,17.343 100.915946,16.0312703 100.915946,14.7592703 L100.915946,0.131416216 L95.5524324,0.131416216 L95.5524324,28.8307297 L100.915946,28.8307297 L100.915946,23.9414595 Z M115.301351,28.8307297 L120.624324,28.8307297 L120.624324,0.131416216 L115.301351,0.131416216 L115.301351,28.8307297 Z M129.844865,21.9937297 L142.675946,21.9937297 C143.073243,16.071 139.776486,11.5395405 133.697838,11.5395405 C128.454324,11.5395405 124.362973,15.1965405 124.362973,20.3242703 C124.362973,25.5314595 128.256486,29.1883784 134.293784,29.1883784 C137.82973,29.1883784 139.894865,28.1151892 141.524595,26.6841892 L138.465405,23.3849189 C137.631081,23.9811892 136.161081,24.7364595 134.214324,24.7364595 C131.790811,24.7364595 130.361351,23.7427297 129.844865,21.9937297 Z M129.765405,18.8931892 C130.202432,16.866 131.631892,15.9120811 133.738378,15.9120811 C135.843243,15.9120811 137.035135,17.0250811 137.272703,18.8931892 L129.765405,18.8931892 Z"\n              id="Shape"\n              fill="#FACC2B"\n            />\n            <path\n              d="M12.4448919,5.99524054 C5.66632703,5.99524054 0.171030811,10.9249459 0.171030811,17.0061892 C0.171030811,19.2473514 0.919248649,21.3307297 2.20112432,23.0697568 C2.03273514,25.079027 1.54816216,27.9091622 0.171030811,29.2876216 C0.171030811,29.2876216 4.37897838,28.6966216 7.22951351,26.9742973 C8.81278378,27.6419189 10.5797838,28.0171622 12.4448919,28.0171622 C19.2235135,28.0171622 24.7187838,23.0874324 24.7187838,17.0061892 C24.7187838,10.9249459 19.2235135,5.99524054 12.4448919,5.99524054 Z"\n              id="Path"\n              fill="#FACC2B"\n            />\n            <path\n              d="M12.4448919,5.99524054 C5.66632703,5.99524054 0.171030811,10.9249459 0.171030811,17.0061892 C0.171030811,19.2473514 0.919248649,21.3307297 2.20112432,23.0697568 C2.03273514,25.079027 1.54816216,27.9091622 0.171030811,29.2876216 C0.171030811,29.2876216 4.37897838,28.6966216 7.22951351,26.9742973 C8.81278378,27.6419189 10.5797838,28.0171622 12.4448919,28.0171622 C19.2235135,28.0171622 24.7187838,23.0874324 24.7187838,17.0061892 C24.7187838,10.9249459 19.2235135,5.99524054 12.4448919,5.99524054 Z"\n              id="Path"\n              fill="#4885ED"\n            />\n            <path\n              d="M12.4421351,24.8694324 L12.7312703,24.8694324 L18.8872703,10.6898108 L16.0778919,10.6898108 L13.7228919,16.1052973 C13.1858108,17.3249189 12.6487297,19.2884595 12.6487297,19.2884595 C12.6487297,19.2884595 12.0908919,17.3041622 11.5538108,16.1052973 L9.13686486,10.6898108 L6.03832703,10.6898108 L12.4421351,24.8694324 Z"\n              id="Path"\n              fill="#FFFFFF"\n            />\n            <path\n              d="M28.6454595,12.7881892 C28.6454595,6.70699459 23.1501892,1.77718703 16.3715676,1.77718703 C11.4767027,1.77718703 7.25202973,4.34843514 5.28135405,8.06723514 C7.29767838,6.76494324 9.7697027,5.99514324 12.4439189,5.99514324 C19.2225405,5.99514324 24.7178108,10.9248649 24.7178108,17.0061892 C24.7178108,19.3322432 23.9117027,21.4883514 22.5394054,23.2662162 C25.2882973,24.594973 28.6454595,25.0696216 28.6454595,25.0696216 C27.2682973,23.6915676 26.7837568,20.8614324 26.6153514,18.8517568 C27.8972432,17.1127297 28.6454595,15.0293514 28.6454595,12.7881892 Z"\n              id="Path"\n              fill="#FACC2B"\n            />\n          </g>\n        </g>\n      </g>\n    </svg>\n  `}function d(){function e(e){return e.toString().padStart(2,"0")}const t=new Date;return`[${t.getHours().toString()}:${e(t.getMinutes())}:${e(t.getSeconds())}]`}function l(e){return+(Math.round(Number(e+"e+2"))+"e-2")}function c(e){return e[0].toUpperCase()+e.slice(1)}const u=()=>((0,s.ti)("vuukle_test_user_ls","true"),!!(0,s._2)("vuukle_test_user_ls")&&((0,s.ti)("vuukle_test_user_ls",null),!0)),h=()=>(o.Z.set("vuukle_test_user_cookie","true",{sameSite:"Lax",secure:!0}),!!o.Z.get("vuukle_test_user_cookie")&&(o.Z.remove("vuukle_test_user_cookie"),!0));function m(){return n.Z.amp?u():h()}},6148:(e,t,i)=>{"use strict";i.d(t,{_2:()=>a,m4:()=>n,ti:()=>s});var o=i(6801);function s(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;try{null===t?(i.localStorage.removeItem(e),i.localStorage.removeItem(`${e}_duration`)):i.localStorage.setItem(e,t)}catch(t){(0,o.qu)("warn",`Error saving/removing data to/from localStorage  ${e}`,t.message)}}function n(e,t,i){s(`${e}_duration`,(Date.now()+60*i*60*1e3).toString()),s(e,t)}function a(e){try{const t=localStorage.getItem(`${e}_duration`);if(t){return Date.now()>parseInt(t)?(s(`${e}_duration`,null),s(e,null),null):localStorage.getItem(e)}return localStorage.getItem(e)}catch(t){return(0,o.qu)("warn",`Error getting data from localStorage: ${e}`,t.message),null}}},4654:(e,t,i)=>{"use strict";function o(){}i.d(t,{$f:()=>a,ZV:()=>o,fs:()=>r,qN:()=>s,vh:()=>n});var s=e=>{var t=navigator.userAgent.match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//);return t&&t[0]===e.toString()};function n(e){var t=document.createElement("p");return t.innerHTML=e,t.innerText.trim()}var a=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i instanceof FormData?"":"application/json",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return new Promise(((a,r)=>{var d,l=new XMLHttpRequest,c="GET"===e?"".concat(t,"?").concat("object"==typeof i&&null!==i?(d=i,Object.keys(d).filter((e=>void 0!==d[e]&&null!==d[e])).map((e=>"".concat(e,"=").concat(encodeURIComponent(d[e])))).join("&")):{}):t;l.open(e,c,!0),o&&l.setRequestHeader("Content-Type",o),s&&l.setRequestHeader("Authorization","Bearer ".concat(s)),n&&(l.withCredentials=!0),l.onload=()=>{l.status>=200&&l.status<300?a(JSON.parse(l.response)):r(new Error(l.statusText))},l.onerror=()=>r(new Error(l.statusText)),l.onabort=()=>r(new Error("cancelled")),"GET"===e?l.send():i instanceof FormData?l.send(i):l.send(JSON.stringify(i))}))},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((i,o)=>{var s=document.createElement("script");s.type="text/javascript",s.src=e,s.onload=()=>i(e),s.onerror=o,s.async=!0,t instanceof Object&&Object.keys(t).forEach((e=>s[e]=t[e]));try{document.head.appendChild(s)}catch(e){o(e)}}))}},5812:(e,t,i)=>{var o=i(2199);e.exports=function(e){return function t(i){return 0===arguments.length||o(i)?t:e.apply(this,arguments)}}},811:(e,t,i)=>{var o=i(5812),s=i(2199);e.exports=function(e){return function t(i,n){switch(arguments.length){case 0:return t;case 1:return s(i)?t:o((function(t){return e(i,t)}));default:return s(i)&&s(n)?t:s(i)?o((function(t){return e(t,n)})):s(n)?o((function(t){return e(i,t)})):e(i,n)}}}},7844:(e,t,i)=>{var o=i(5812),s=i(811),n=i(2199);e.exports=function(e){return function t(i,a,r){switch(arguments.length){case 0:return t;case 1:return n(i)?t:s((function(t,o){return e(i,t,o)}));case 2:return n(i)&&n(a)?t:n(i)?s((function(t,i){return e(t,a,i)})):n(a)?s((function(t,o){return e(i,t,o)})):o((function(t){return e(i,a,t)}));default:return n(i)&&n(a)&&n(r)?t:n(i)&&n(a)?s((function(t,i){return e(t,i,r)})):n(i)&&n(r)?s((function(t,i){return e(t,a,i)})):n(a)&&n(r)?s((function(t,o){return e(i,t,o)})):n(i)?o((function(t){return e(t,a,r)})):n(a)?o((function(t){return e(i,t,r)})):n(r)?o((function(t){return e(i,a,t)})):e(i,a,r)}}}},1550:e=>{e.exports=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)}},2579:e=>{e.exports=function(e){return"[object Object]"===Object.prototype.toString.call(e)}},2199:e=>{e.exports=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}},95:(e,t,i)=>{var o=i(811),s=i(3127),n=o((function(e,t){return s((function(e,t,i){return t}),e,t)}));e.exports=n},3127:(e,t,i)=>{var o=i(7844),s=i(2579),n=i(9857),a=o((function e(t,i,o){return n((function(i,o,n){return s(o)&&s(n)?e(t,o,n):t(i,o,n)}),i,o)}));e.exports=a},9857:(e,t,i)=>{var o=i(7844),s=i(1550),n=o((function(e,t,i){var o,n={};for(o in t)s(o,t)&&(n[o]=s(o,i)?e(o,t[o],i[o]):t[o]);for(o in i)s(o,i)&&!s(o,n)&&(n[o]=i[o]);return n}));e.exports=n},1655:(e,t,i)=>{"use strict";function o(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)e[o]=i[o]}return e}i.d(t,{Z:()=>n});var s=function e(t,i){function s(e,s,n){if("undefined"!=typeof document){"number"==typeof(n=o({},i,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var r in n)n[r]&&(a+="; "+r,!0!==n[r]&&(a+="="+n[r].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+a}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var i=document.cookie?document.cookie.split("; "):[],o={},s=0;s<i.length;s++){var n=i[s].split("="),a=n.slice(1).join("=");try{var r=decodeURIComponent(n[0]);if(o[r]=t.read(a,r),e===r)break}catch(e){}}return e?o[e]:o}},remove:function(e,t){s(e,"",o({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,o({},this.attributes,t))},withConverter:function(t){return e(o({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const n=s},4735:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var o=function(e,t,i){var o=null,s=null,n=function(){o&&(clearTimeout(o),s=null,o=null)},a=function(){if(!t)return e.apply(this,arguments);var a=this,r=arguments,d=i&&!o;return n(),s=function(){e.apply(a,r)},o=setTimeout((function(){if(o=null,!d){var e=s;return s=null,e()}}),t),d?s():void 0};return a.cancel=n,a.flush=function(){var e=s;n(),e&&e()},a}},1208:(e,t,i)=>{"use strict";function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!==o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function n(e,t,i){return(t=s(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z:()=>n})},1059:(e,t,i)=>{"use strict";i.d(t,{Z:()=>x});const o="object"==typeof global&&global&&global.Object===Object&&global;var s="object"==typeof self&&self&&self.Object===Object&&self;const n=(o||s||Function("return this")()).Symbol;const a=function(e,t){for(var i=-1,o=null==e?0:e.length,s=Array(o);++i<o;)s[i]=t(e[i],i,e);return s};const r=Array.isArray;var d=Object.prototype,l=d.hasOwnProperty,c=d.toString,u=n?n.toStringTag:void 0;const h=function(e){var t=l.call(e,u),i=e[u];try{e[u]=void 0;var o=!0}catch(e){}var s=c.call(e);return o&&(t?e[u]=i:delete e[u]),s};var m=Object.prototype.toString;const g=function(e){return m.call(e)};var f=n?n.toStringTag:void 0;const p=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":f&&f in Object(e)?h(e):g(e)};const v=function(e){return null!=e&&"object"==typeof e};const b=function(e){return"symbol"==typeof e||v(e)&&"[object Symbol]"==p(e)};var w=n?n.prototype:void 0,y=w?w.toString:void 0;const C=function e(t){if("string"==typeof t)return t;if(r(t))return a(t,e)+"";if(b(t))return y?y.call(t):"";var i=t+"";return"0"==i&&1/t==-Infinity?"-0":i};const k=function(e){return null==e?"":C(e)};var S=0;const x=function(e){var t=++S;return k(e)+t}}},s={};function n(e){var t=s[e];if(void 0!==t)return t.exports;var i=s[e]={exports:{}};return o[e](i,i.exports,n),i.exports}n.m=o,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(i,o){if(1&o&&(i=this(i)),8&o)return i;if("object"==typeof i&&i){if(4&o&&i.__esModule)return i;if(16&o&&"function"==typeof i.then)return i}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var r=2&o&&i;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((e=>a[e]=()=>i[e]));return a.default=()=>i,n.d(s,a),s},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,i)=>(n.f[i](e,t),t)),[])),n.u=e=>326===e?"frb.platform.js":{163:"chu",231:"ppv",384:"webntf",657:"lzs",839:"qnp",852:"sbp",858:"uau",909:"webntfpop",950:"cnsnt"}[e]+".platform.js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},n.l=(e,t,o,s)=>{if(i[e])i[e].push(t);else{var a,r;if(void 0!==o)for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var c=d[l];if(c.getAttribute("src")==e){a=c;break}}a||(r=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.src=e),i[e]=[t];var u=(t,o)=>{a.onerror=a.onload=null,clearTimeout(h);var s=i[e];if(delete i[e],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((e=>e(o))),t)return t(o)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),r&&document.head.appendChild(a)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={179:0};n.f.j=(t,i)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)i.push(o[2]);else{var s=new Promise(((i,s)=>o=e[t]=[i,s]));i.push(o[2]=s);var a=n.p+n.u(t),r=new Error;n.l(a,(i=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var s=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;r.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",r.name="ChunkLoadError",r.type=s,r.request=a,o[1](r)}}),"chunk-"+t,t)}};var t=(t,i)=>{var o,s,[a,r,d]=i,l=0;if(a.some((t=>0!==e[t]))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(d)d(n)}for(t&&t(i);l<a.length;l++)s=a[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},i=self.webpackChunk=self.webpackChunk||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e=n(6801),t=n(5830),i=(n(1009),n(5926)),o=n(989),s=n(2867),a=n(1324),r=n(1208),d=n(7705),l=n(1788),c=n(5739),u=n(9715),h=n(8563),m=n(4405);class g extends m.Z{constructor(e,t){super(e,"Vuukle Audio Widget",d.Z.urls.audio,{apiKey:t.apiKey,host:t.host,articleId:t.articleId,tags:t.tags,title:t.title,url:t.url,version:d.Z.versions.audio,debug:window.location.search.includes("vdebug")},!1,!0),this.id=e,this.config=t,this.iframe.style.minHeight="50px"}}const f=g;var p=n(4654),v=n(4735),b=n(3164),w=n(2962);class y extends m.Z{constructor(e,t,i){var o;let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(super(e,"Vuukle Comments Widget",d.Z.urls.comments,{amp:t.amp,sdk:t.sdk,apiKey:t.apiKey,host:t.host,articleId:t.articleId,author:t.author||void 0,globalLang:t.language,img:t.img,lang:t.comments&&t.comments.transliteration.language,tags:t.tags,title:t.title,url:t.url,referrer:t.refHost,font:t.theme&&t.theme.font,emotesEnabled:t.emotes&&t.emotes.enabled||!0,refHost:t.refHost,l_d:t.comments&&t.comments.transliteration.enabledByDefault,totWideImg:t.recommendationsWideImages,link:t.link,gr:t.globalRecommendations,hideCommentBoxWithButton:t.comments&&t.comments.hideCommentInputBoxWithButton,wpSync:t.wordpressSync,disableButtons:t.comments&&t.comments.disableButtons,hasAnonFallback:Boolean(b.Z.getAnonToken()),isCustomText:Boolean(t.customTranslationUrl),version:d.Z.versions.comments,debug:"true"===w.Z.get("vdebug")},!0,!0),this.config=t,this.realtimeSocket=i,this.articleIndex=n,(0,r.Z)(this,"bubbleOperationCallbacks",new Set),(0,r.Z)(this,"realtimeBar",null),(0,r.Z)(this,"commentCount",0),(0,r.Z)(this,"createRealtimeBar",(()=>{document.querySelector("#vuukle-comments-realtime-bar".concat(this.articleIndex))||(this.realtimeBar=document.createElement("div"),this.realtimeBar.style.cssText="\n        // position: fixed;\n        // top: 0;\n        // left: 0;\n        width: 100%;\n        height: 25px;\n        background: #3997e9;\n        color: #fff;\n        cursor: pointer;\n        font-size: 15px;\n        font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',sans-serif;\n        font-weight: 500;\n        text-align: center;\n        // z-index: 9999;\n        display: none;\n      ",this.realtimeBar.id="vuukle-comments-realtime-bar".concat(this.articleIndex),this.realtimeBar.textContent="",this.realtimeBar.onclick=()=>{this.iframe.scrollIntoView(),this.realtimeBar&&(this.realtimeBar.style.display="none",this.realtimeBar.textContent="",l.Z.commentCountLock=!1),this.onLoad((e=>e.postMessage({loadNewRealtime:!0},"*")))},document.body.insertAdjacentElement("afterbegin",this.realtimeBar))})),(0,r.Z)(this,"serverScrollLogger",(e=>{if(e)return s.Z.log("view_comments",this.config),this.onLoad((e=>e.postMessage({isViewed:!0},"*"))),()=>!1;let t=!1;return(0,v.Z)((e=>{e&&!t&&(s.Z.log("view_comments",this.config),this.onLoad((e=>e.postMessage({isViewed:!0},"*"))),t=!0)}),300)})),(0,r.Z)(this,"hashedAuthCallback",(async e=>{if(b.Z.setSSOInfo(!0),void 0!==e){if("string"!=typeof e)return console.error("[Vuukle] vuukleLogin has been called with invalid argument. Please pass it a string.");try{const t=await(0,p.$f)("POST","https://api.vuukle.com/api/v1/Auth/siteLogin",e,"application/json");if(!t.token)throw new Error("Server response doesn't contain profile token");this.onLoad((e=>e.postMessage({authenticateUser:{token:t.token}},"*"))),b.Z.saveToken(t.token),b.Z.fireTokenListeners(t.token)}catch(e){console.error("[VUUKLE] SSO Authentication Error:",e)}}else this.onLoad((e=>e.postMessage({authenticateUser:{signOut:!0}},"*")))})),(0,r.Z)(this,"regularAuthCallback",((e,t)=>{window.location.host&&window.location.host.match("americanthinker.com")||(e&&t&&"string"==typeof e&&"string"==typeof t?this.onLoad((i=>i.postMessage({authenticateUser:{name:e,email:t}},"*"))):(console.warn("⚠️[VUUKLE]: SSO wasn't successful. Please provide valid user details: name: string, email: string"),this.onLoad((e=>e.postMessage({authenticateUser:{}},"*")))))})),this.articleIndex=n,this.iframe.allow="web-share",this.iframe.style.minWidth="100%",this.iframe.style.overflow="hidden",this.iframe.style.order="1",this.iframe.style.minHeight=null!==(o=u.xw[t.apiKey])&&void 0!==o&&o.compact?"50px":"320px",i.enabled&&"undefined"!=typeof DOMRect&&this.createRealtimeBar(),this.onLoad((e=>e.postMessage({cardStyles:t.theme&&t.theme.cardStyles},"*"))),this.onLoad((e=>e.postMessage({listenButtonStyles:t.theme&&t.theme.listenButtonStyles},"*"))),window.location.hash&&window.location.hash.match(/commentID/)){const e=window.location.hash.split("-")[1];this.onLoad((t=>{if(t.postMessage({loadComment:e},"*"),"interactive"===document.readyState||"complete"==document.readyState)setTimeout((()=>{const e=this.iframe.getBoundingClientRect();window.scrollTo(e.x,e.y)}),1500);else{const i=this.iframe;function o(){"interactive"!==document.readyState&&"complete"!==document.readyState||setTimeout((()=>{const e=i.getBoundingClientRect();window.scrollTo(e.x,e.y),document.removeEventListener("readystatechange",o)}),1500)}document.addEventListener("readystatechange",o)}})),this.loadIframe()}const a=this.serverScrollLogger(t.amp||!1);if("undefined"!=typeof IntersectionObserver){new IntersectionObserver((e=>{e.forEach((e=>{const{boundingClientRect:t,intersectionRatio:i,isIntersecting:o}=e,s=i>.025||o;a(s),s&&this.realtimeBar&&t.top>=-300&&(this.realtimeBar.style.display="none")}))}),{threshold:.1}).observe(this.iframe)}else window.addEventListener("scroll",(()=>{a(this.isInView),this.isInView&&this.realtimeBar&&this.iframe.getBoundingClientRect().top>=-300&&(this.realtimeBar.style.display="none")}),!1);window.vuukleAuthUser=this.regularAuthCallback,window.vuukleLogin=this.hashedAuthCallback;const c=window.tempVuukleToken;c&&(this.hashedAuthCallback("no-token"===c?void 0:c),window.tempVuukleToken=null)}changeMinHeight(e){this.iframe.style.minHeight=`${e}px`}createScrollListenerForCommentBubble(e){const t=this.createCommentBubble(e),i=this.bubbleOperationCallbacks;u.ww.includes(this.config.apiKey)||window.addEventListener("scroll",(function e(){window.scrollY/(document.documentElement.scrollHeight-document.documentElement.clientHeight)>=.3&&(t&&(t.style.display="flex",i.forEach((e=>e()))),window.removeEventListener("scroll",e),setTimeout((()=>{null==t||t.remove()}),5e3))}))}createCommentBubble(e){if(document.querySelector(`#vuukle-comments-bubble-${this.id}`))return;const t=document.createElement("a"),i=document.createElement("sup"),o=document.createElement("svg");return t.style.cssText="\n      position: fixed;\n      display: none;\n      align-items: center;\n      flex-direction: column;\n      right: 20px;\n      bottom: 20px;\n      width: 64px;\n      height: 64px;\n      border-radius: 50%;\n      background: #f42;\n      color: #fff;\n      text-align: center;\n      transition: all 0.5s;\n      text-decoration: none;\n      z-index: 100000;\n    ",o.style.cssText="\n      width: 24px;\n      height: 24px;\n      fill: #fff;\n      vertical-align: middle;\n    ",i.style.cssText="\n      position: absolute;\n      right: 2px;\n      top: -6px;\n      height: 25px;\n      border-radius: 20px;\n      min-width: 30px;\n      box-sizing: border-box;\n      background: rgb(245, 34, 45);\n      color: rgb(255, 255, 255);\n      line-height: 25px;\n      text-align: center;\n      padding: 0px 5px;\n      font-size: 15px;\n      font-weight: 400;\n      white-space: nowrap;\n      box-shadow: rgb(255 255 255) 0px 0px 0px 1px;\n      z-index: 100000;\n    ",t.insertAdjacentHTML("afterbegin",'<svg style="width: 24px; height: 24px; fill: #fff; vertical-align: middle; display: block; margin: auto; margin-top: 22px;" viewbox="0 0 24 24"><path d="M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9Z"></path></svg>'),t.href="#",t.id=`vuukle-comments-bubble-${this.id}`,t.onclick=e=>{e.preventDefault(),s.Z.log("CWbubbleClick",this.config),this.iframe.scrollIntoView({behavior:"auto",block:"center",inline:"center"})},i.innerHTML=e.toString(),e>0&&t.appendChild(i),document.body.appendChild(t),t}changeBubblePosition(e){this.bubbleOperationCallbacks.add((()=>{const t=document.getElementById(`vuukle-comments-bubble-${this.id}`);t&&("left"===e?(t.style.removeProperty("right"),t.style.left="20px"):(t.style.removeProperty("left"),t.style.right="20px"))}))}addRealtimeListener(){this.realtimeSocket.addMessageListener((t=>{try{const e=JSON.parse(t.data);if(e.currentCommentCount||e.usersWriting){if(this.onLoad((t=>t.postMessage({realtimeResponse:e},"*"))),e.currentCommentCount>this.commentCount&&this.realtimeBar&&!l.Z.commentCountLock)return this.commentCount=e.currentCommentCount,void(l.Z.commentCountLock=!0);if(l.Z.commentCountLock&&this.realtimeBar&&!this.isCommentInputBoxInView){const t=e.currentCommentCount-this.commentCount-l.Z.postedCommentCount,i=t>1;0!==this.commentCount&&t>0?(this.realtimeBar.style.display="block",this.realtimeBar.textContent=`Load ${t} new message${i?"s":""}`):(this.realtimeBar.textContent="",this.realtimeBar.style.display="none")}}}catch(t){(0,e.qu)("warn","Realtime Message error",t)}}))}get isCommentInputBoxInView(){const e=this.iframe.getBoundingClientRect();if(l.Z.commentInputBoxRect){const t=l.Z.commentInputBoxRect,i=new DOMRect(e.left+t.left,e.top+t.top,t.width,t.height);return i.bottom>0&&i.right>0&&i.left<window.innerWidth&&i.bottom<window.innerHeight}return e.bottom>0&&e.right>0&&e.left<window.innerWidth&&e.top<window.innerHeight}}const C=y;class k extends m.Z{constructor(e,t){super(e,"Vuukle Emotes Widget",d.Z.urls.emotes,{amp:t.amp,apiKey:t.apiKey,host:t.host,articleId:t.articleId,img:t.img,author:t.author||void 0,tags:t.tags,title:t.title,url:t.url,totWideImg:t.recommendationsWideImages,gr:t.globalRecommendations,link:t.link,hideAllLabels:t.emotes&&t.emotes.hideAllLabels,disable:t.emotes&&JSON.stringify(t.emotes.disable),font:t.theme&&t.theme.font,commentsEnabled:t.comments&&t.comments.enabled&&Boolean(document.querySelector(`div[id*=${d.Z.selectors.comments.substring(1)}]`)),isCustomText:Boolean(t.customTranslationUrl),useKV:!1,version:d.Z.versions.emotes},!1,!0),this.config=t,this.iframe.style.minHeight="145px",this.onLoad((e=>e.postMessage({cardStyles:t.theme&&t.theme.cardStyles},"*"))),this.onLoad((e=>e.postMessage({badgeStyles:t.theme&&t.theme.badgeStyles},"*")))}}const S=k;var x=n(5053);class A extends m.Z{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"horizontal",o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,n=1;const a=t.amp&&t.powerbar&&t.powerbar.comments||t.amp&&t.sharebar&&t.sharebar.comments,r=t.amp&&t.powerbar&&t.powerbar.emotes||t.amp&&t.sharebar&&t.sharebar.emotes;o&&s||a&&r?n=0:o||a?n=3:(s||r)&&(n=2);const l={amp:t.amp,apiKey:t.apiKey,host:t.host,articleId:t.articleId,img:t.img,title:t.title,url:t.url,tags:t.tags,author:t.author||void 0,lang:t.language,referrer:t.refHost,gr:t.globalRecommendations,font:t.theme&&t.theme.font,standalone:n,mode:i,enableInterceptor:t.powerbar.enableInterceptor||t.sharebar.enableInterceptor,useKV:!1,version:d.Z.versions.powerbar||d.Z.versions.sharebar,shouldRunAudioAds:!1,debug:window.location.search.includes("vdebug")};super(e,"Vuukle Sharebar Widget","vertical"===i?d.Z.urls.verticalSharebar:d.Z.urls.sharebar,l,"vertical"!==i,!0),this.iframe.style.minHeight="45px",this.iframe.allow="clipboard-write",this.onLoad((e=>e.postMessage({cardStyles:t.theme&&t.theme.cardStyles},"*"))),this.onLoad((e=>e.postMessage({powerbarStyles:t.theme&&(t.theme.powerbarStyles||t.theme.sharebarStyles)},"*"))),this.onLoad((e=>e.postMessage({shareURLS:t.powerbar&&t.powerbar.customUrls||t.sharebar&&t.sharebar.customUrls},"*")))}}const L=A;var Z=n(1181),I=n(4876);class E{constructor(t,i,o){var s=this;if(this.realtimeObj=o,(0,r.Z)(this,"articleConfig",void 0),(0,r.Z)(this,"articleIndex",void 0),(0,r.Z)(this,"modal",new Map),(0,r.Z)(this,"comments",new Map),(0,r.Z)(this,"emotes",new Map),(0,r.Z)(this,"quiz",new Map),(0,r.Z)(this,"powerbars",new Map),(0,r.Z)(this,"verticalPowerbars",new Map),(0,r.Z)(this,"subscribeWidgets",new Map),(0,r.Z)(this,"audioWidgets",new Map),(0,r.Z)(this,"communicationCreator",void 0),(0,r.Z)(this,"customText",void 0),(0,r.Z)(this,"getLocation",(function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;const s=e.startsWith("#")?document.querySelector(e):document.querySelectorAll(e)[o-1];if(s||o-1==0)return s;for(let s=o-1;s>0;s--){var n;let o=document.querySelectorAll(e)[s];if(o&&(null===(n=o.parentElement)||void 0===n||!n.querySelector(i?`div[class*=${t}]`:`div[id*=${t}]`)))return o}return null})),(0,r.Z)(this,"insertWidget",(function(e,t,i){let o,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;if("string"==typeof t)o=s.articleConfig.endlessMode?s.getLocation(t,i,n,a):document.querySelector(t);else if("function"==typeof t)o=t();else for(const e of t){const t=s.articleConfig.endlessMode?s.getLocation(e,i,n,a):document.querySelector(e);if(t){o=t;break}}if(o){const t=document.createElement("div");switch(n?t.className=i:t.id=i,e){case"after":o.insertAdjacentElement("afterend",t);break;case"before":o.insertAdjacentElement("beforebegin",t);break;case"prependInside":o.insertAdjacentElement("afterbegin",t);break;default:o.appendChild(t)}return t}return null})),E.initializedIDs.indexOf(t)>=0)throw new Error("⚠ Widgets already have been created for this ID.");E.initializedIDs.push(t),(0,e.IW)(e.PP.widgetsCreatorStart),(0,e.rX)(e.J8.platformStartToWidgetsStart,e.PP.platformStart,e.PP.widgetsCreatorStart),this.articleConfig=i,this.articleIndex=t,this.createCommentsWidget(t,o),this.createEmotesIframe(t),this.createPowerbars(t,!!this.comments.size,!!this.emotes.size),this.createSubscribeWidgets(t),this.createAudioWidgets(t),this.createQuizWidget(t),this.communicationCreator=new l.Z(t,[...this.comments.values()][0],[...this.emotes.values()][0],[...this.powerbars.values(),...this.verticalPowerbars.values()],[...this.subscribeWidgets.values()],[...this.audioWidgets.values()],[...this.quiz.values()][0],this.articleConfig,o,this),this.customText=new h.Z([...this.comments.values()][0],[...this.emotes.values()][0],[...this.powerbars.values(),...this.verticalPowerbars.values()],[...this.quiz.values()][0],this.articleConfig),this.initializeInsideDom(),""===t&&(E.addNewsfeedToDOM(t),E.addTrafficExchangeToDOM(t,this.articleConfig.apiKey)),(0,e.qu)("log",`[VUUKLE] Widgets of id '${t.substring(1)}' are generated!`),(0,e.IW)(e.PP.widgetsCreatorEnd),(0,e.rX)(e.J8.widgetStartToEnd,e.PP.widgetsCreatorStart,e.PP.widgetsCreatorEnd),(0,e.rX)(e.J8.platformStartToWidgetsEnd,e.PP.platformStart,e.PP.widgetsCreatorEnd)}createWidgets(e,t){null!=e&&e.preInsertionOperation&&e.preInsertionOperation();let i=0;if(null!=e&&e.comments){this.insertWidget(e.comments.insert,a.Z.isMobileUser&&e.comments.mobileSelector?e.comments.mobileSelector:e.comments.selector,d.Z.selectors.comments.slice(1).concat(this.articleIndex),!1,t)&&(this.createCommentsWidget(this.articleIndex,this.realtimeObj),i++)}if(null!=e&&e.emotes){this.insertWidget(e.emotes.insert,a.Z.isMobileUser&&e.emotes.mobileSelector?e.emotes.mobileSelector:e.emotes.selector,d.Z.selectors.emotes.slice(1).concat(this.articleIndex),!1,t)&&(this.createEmotesIframe(this.articleIndex),i++)}if(null!=e&&e.sharebar&&(null==e||e.sharebar.forEach((e=>{this.insertWidget(e.insert,a.Z.isMobileUser&&e.mobileSelector?e.mobileSelector:e.selector,e.isVertical?d.Z.selectors.verticalSharebar.slice(1).concat(this.articleIndex):d.Z.selectors.sharebar.slice(1).concat(this.articleIndex),!0,t)&&(this.createPowerbars(this.articleIndex,!!this.comments.size,!!this.emotes.size),i++)}))),null!=e&&e.audio&&e.audio.forEach((e=>{this.insertWidget(e.insert,a.Z.isMobileUser&&e.mobileSelector?e.mobileSelector:e.selector,d.Z.selectors.audio.slice(1).concat(this.articleIndex),!0,t)&&(this.createAudioWidgets(this.articleIndex),i++)})),null!=e&&e.subscribe&&e.subscribe.forEach((e=>{this.insertWidget(e.insert,a.Z.isMobileUser&&e.mobileSelector?e.mobileSelector:e.selector,d.Z.selectors.subscribe.slice(1).concat(this.articleIndex),!0,t)&&(this.createSubscribeWidgets(this.articleIndex),i++)})),null!=e&&e.newsfeed){this.insertWidget(e.newsfeed.insert,a.Z.isMobileUser&&e.newsfeed.mobileSelector?e.newsfeed.mobileSelector:e.newsfeed.selector,d.Z.selectors.newsfeed.slice(1).concat(this.articleIndex),!1,t)&&(E.addNewsfeedToDOM(this.articleIndex),i++)}if(null!=e&&e.quiz){this.insertWidget(e.quiz.insert,a.Z.isMobileUser&&e.quiz.mobileSelector?e.quiz.mobileSelector:e.quiz.selector,d.Z.selectors.quiz.slice(1).concat(this.articleIndex),!1,t)&&(this.createQuizWidget(this.articleIndex),i++)}i>0&&(this.initializeInsideDom(),this.communicationCreator.removeMessageListeners(),this.communicationCreator=new l.Z(this.articleIndex,[...this.comments.values()][0],[...this.emotes.values()][0],[...this.powerbars.values(),...this.verticalPowerbars.values()],[...this.subscribeWidgets.values()],[...this.audioWidgets.values()],[...this.quiz.values()][0],this.articleConfig,this.realtimeObj,this),this.customText=new h.Z([...this.comments.values()][0],[...this.emotes.values()][0],[...this.powerbars.values(),...this.verticalPowerbars.values()],[...this.quiz.values()][0],this.articleConfig)),null!=e&&e.postInsertionOperation&&e.postInsertionOperation()}createEmotesIframe(e){if(this.articleConfig.emotes&&this.articleConfig.emotes.enabled){const t=document.querySelector(d.Z.selectors.emotes.concat(String(e)||""));t instanceof HTMLDivElement&&this.emotes.set(t,new S("emotes-iframe".concat(e),this.articleConfig))}}createQuizWidget(e){if(this.articleConfig.quiz&&this.articleConfig.quiz.enabled){const t=document.querySelector(d.Z.selectors.quiz.concat(String(e)||""))||document.querySelector(d.Z.selectors.quizAlt.concat(String(e)||""));t instanceof HTMLDivElement&&this.quiz.set(t,new I.Z("quiz-iframe".concat(e),this.articleConfig))}}createSubscribeWidgets(e){if(this.articleConfig.subscribe&&this.articleConfig.subscribe.enabled){document.querySelectorAll(d.Z.selectors.subscribe.concat(String(e)||"")).forEach(((t,i)=>this.subscribeWidgets.set(t,new Z.Z("subscribe-widget".concat(e).concat(`-${i}`),this.articleConfig))))}}createAudioWidgets(e){if(this.articleConfig.audio&&this.articleConfig.audio.enabled){document.querySelectorAll(d.Z.selectors.audio.concat(String(e)||"")).forEach(((t,i)=>this.audioWidgets.set(t,new f("audio-widget".concat(e).concat(`-${i}`),this.articleConfig))))}}createPowerbars(e,t,i){if(this.articleConfig.powerbar&&!1===this.articleConfig.powerbar.enabled||this.articleConfig.sharebar&&!1===this.articleConfig.sharebar.enabled)return;const o=Array.prototype.slice.call(document.querySelectorAll(d.Z.selectors.powerbar.concat(String(e)))),s=Array.prototype.slice.call(document.querySelectorAll(d.Z.selectors.sharebar.concat(String(e)))),n=Array.prototype.slice.call(document.querySelectorAll(d.Z.selectors.verticalPowerbar.concat(String(e)))),r=Array.prototype.slice.call(document.querySelectorAll(d.Z.selectors.verticalSharebar.concat(String(e))));o.forEach(((o,s)=>this.powerbars.set(o,new L("h-sharebar".concat(e).concat(`-${s}`),this.articleConfig,"horizontal",t,i)))),s.forEach(((o,s)=>this.powerbars.set(o,new L("h-sharebar".concat(e).concat(`-${s}`),this.articleConfig,"horizontal",t,i)))),n.forEach(((o,s)=>{o.style.zIndex="99999",o.style.width="60px",o.style.maxWidth="60px",o.style.position=o.style.position||"fixed",o.style.top=o.style.top||"10px",a.Z.isMobileUser&&(o.style.right="0",o.style.left="unset"),this.verticalPowerbars.set(o,new L("v-sharebar".concat(e).concat(`-${s}`),this.articleConfig,"vertical",t,i))})),r.forEach(((o,s)=>{o.style.zIndex="99999",o.style.width="60px",o.style.maxWidth="60px",o.style.position=o.style.position||"fixed",o.style.top=o.style.top||"10px",a.Z.isMobileUser&&(o.style.right="0",o.style.left="unset"),this.verticalPowerbars.set(o,new L("v-sharebar".concat(e).concat(`-${s}`),this.articleConfig,"vertical",t,i))}))}createCommentsWidget(e,t){if(this.articleConfig.comments&&!1===this.articleConfig.comments.enabled)return;const i=document.querySelector(d.Z.selectors.comments.concat(e));i instanceof HTMLDivElement&&(i.style.cssText+="display: flex;flex-direction: column;width: 100%;align-items: stretch;",this.comments.set(i,new C("v-comments".concat(e),this.articleConfig,t,e)))}createModal(e){const t=document.querySelector("body"),i=document.createElement("div");t instanceof HTMLBodyElement&&(t.appendChild(i),this.modal.set(i,new x.Z("vuukle-modal".concat(this.articleIndex),this.articleConfig)),this.communicationCreator.initializeModal([...this.modal.values()][0],e),this.customText.initializeModal([...this.modal.values()][0]),this.modal.forEach(((e,t)=>t.appendChild(e.iframe))))}static addNewsfeedToDOM(e){const t=document.querySelector(d.Z.selectors.newsfeed.concat(e));if(t instanceof HTMLDivElement){const e=document.createElement("div");e.id="vuukle-newsfeed-app",t.appendChild(e),(0,c.fs)(d.Z.urls.newsfeed)}}static addTrafficExchangeToDOM(e,t){const i=document.querySelector(d.Z.selectors.trafficExchange.concat(e));if(i instanceof HTMLDivElement){const e=document.createElement("div");e.id="vuukle-traffic-exchange-app",u.xw[t]&&u.xw[t].trafficExchangeRows&&(e.dataset.rows=u.xw[t].trafficExchangeRows),i.appendChild(e),(0,c.fs)(d.Z.urls.trafficExchange)}}initializeInsideDom(){this.comments.forEach(((e,t)=>{t.appendChild(e.iframe)})),this.emotes.forEach(((e,t)=>{t.appendChild(e.iframe)})),this.powerbars.forEach(((e,t)=>{t.appendChild(e.iframe)})),this.verticalPowerbars.forEach(((e,t)=>{t.appendChild(e.iframe)})),this.subscribeWidgets.forEach(((e,t)=>{t.appendChild(e.iframe)})),this.audioWidgets.forEach(((e,t)=>{t.appendChild(e.iframe)})),this.quiz.forEach(((e,t)=>{t.appendChild(e.iframe)}))}static removeWidgets(t){const i=this.initializedIDs.indexOf(t);if(-1===i)return void(0,e.qu)("log",`[VUUKLE] Widgets of id '${t.substring(1)}' aren't generated, nothing to remove`);this.initializedIDs.splice(i,1);const o=document.querySelector(`iframe[id*="v-comments${t}"]`),n=document.querySelector(`iframe[id*="vuukle-modal${t}"]`),r=document.querySelector(`iframe[id*="emotes-iframe${t}"]`),d=document.querySelectorAll(`iframe[id*="h-powerbar${t}"]`),c=document.querySelectorAll(`iframe[id*="v-powerbar${t}"]`),u=document.querySelectorAll(`iframe[id*="h-sharebar${t}"]`),h=document.querySelectorAll(`iframe[id*="v-sharebar${t}"]`),m=document.querySelectorAll(`iframe[id*="subscribe-widget${t}"]`),g=document.querySelectorAll(`iframe[id*="audio-widget${t}"]`),f=document.querySelector(`iframe[id*="quiz-iframe${t}"]`);o&&o.remove(),n&&n.remove(),r&&r.remove(),d&&d.forEach((e=>e.remove())),c&&c.forEach((e=>e.remove())),u&&u.forEach((e=>e.remove())),h&&h.forEach((e=>e.remove())),m&&m.forEach((e=>e.remove())),g&&g.forEach((e=>e.remove())),f&&f.remove(),a.Z.removeCookieListenerByIndex(t),a.Z.removeGeoListenersByIndex(t),s.Z.removeIPListenersByIndex(t),l.Z.removeWidgetsFromThemingObject(t),l.Z.quizWidgetsOnThePage.delete(t),(0,e.qu)("log",`[VUUKLE] Widgets of id '${t.substring(1)}' are removed!`)}}(0,r.Z)(E,"initializedIDs",[]);const _=E;const T=new class{initializeEndlessMode(){t.Z.singlePage||this.activateUrlChangeListener()}constructor(){(0,r.Z)(this,"stashedNewWidgetsCalls",new Map),(0,r.Z)(this,"articleIDs",new Map),(0,r.Z)(this,"firstTime",!0),window.newVuukleWidgets=this.generateNewVuukleWidgets.bind(this)}activateUrlChangeListener(){let e=document.location.href.replace(document.location.search,"");setInterval((()=>{if(e!==document.location.href.replace(document.location.search,"")){const t=document.location.href.replace(document.location.search,"");e=t;const i=this.stashedNewWidgetsCalls.get(t);i&&(i(),this.stashedNewWidgetsCalls.delete(t))}}),1e3)}generateNewVuukleWidgets(e){if(!e.articleId){if(!e.url)throw new Error("Article ID is required to create new Vuukle Widgets");e.articleId=e.url}if(e.img||(console.warn(`[Vuukle] Article with the id ${e.articleId} has missing img.`),e.img=""),e.title||(console.warn(`[Vuukle] Article with the id ${e.articleId} has missing title.`),e.title=""),!t.Z.apiKey)throw new Error("⚠ [VUUKLE] API key is missing in the VUUKLE_CONFIG");const n={...t.Z,articleId:e.articleId,author:e.author,img:e.img||"",tags:e.tags,title:e.title||"",url:e.url||""};s.Z.viewPageFired=!1;const a=()=>{const a=()=>{const a=new o.Z(n),r=new _("-"+String(e.elementsIndex),n,a);new i.Z("-"+String(e.elementsIndex),n,r.communicationCreator,a,r),t.Z.noViewPage||s.Z.log("view_page",n)};t.Z.singlePage?a():this.firstTime?(a(),this.firstTime=!1):this.stashedNewWidgetsCalls.set(String(e.url),(()=>{a()})),this.articleIDs.set(String(e.url),n.articleId||"")};"loading"!==document.readyState?a():document.addEventListener("readystatechange",(()=>{"interactive"!==document.readyState&&"complete"!==document.readyState||a()}))}};var M,P;if(1===window.VUUKLE_PLATFORM)throw new Error("⚠️[VUUKLE] Vuukle is already defined.");if(window.VUUKLE_PLATFORM=1,(0,e.N5)("Platform"),(0,e.IW)(e.PP.platformStart),u.g7.indexOf(t.Z.apiKey)>-1)throw new Error("Your domain has been blocked, please contact support[at]vuukle.com to get it unblocked");function q(){if(!t.Z.endlessMode){const e=new o.Z(t.Z),s=new _("",t.Z,e);new i.Z("",t.Z,s.communicationCreator,e,s)}const e="boolean"==typeof t.Z.ads&&!t.Z.ads,n="object"==typeof t.Z.ads&&!1===t.Z.ads.enabled;(e||n)&&s.Z.log("ads_false",t.Z),t.Z.endlessMode&&T.initializeEndlessMode()}if(a.Z.determineCookieUsability(),null!==(M=u.xw[t.Z.apiKey])&&void 0!==M&&M.track5s){function D(){"hidden"===document.visibilityState&&s.Z.logPost("exit_5s",t.Z,!0,t.Z.endlessMode?[{key:"article_id",value:encodeURI(T.articleIDs.get(document.location.href)||"")}]:[])}window.addEventListener("visibilitychange",D),setTimeout((()=>window.removeEventListener("visibilitychange",D)),5e3)}if(window.removeVuukleWidgets=e=>{_.removeWidgets("-"+e)},window.generateVuukleAds=e=>{new i.Z(e?"-"+e:"",t.Z)},console.log("%c[VUUKLE] platform.js version: 3.43.0. Need help? Reach us at support[at]vuukle[dot]com","color:#039BE5;"),window.tempVuukleWidgets&&(window.newVuukleWidgets(window.tempVuukleWidgets),window.tempVuukleWidgets=void 0),document.addEventListener("click",(e=>{let i=e.target;for(;i&&(void 0===i.tagName||"a"!=i.tagName.toLowerCase()||!i.href);)i=i.parentNode;if(i&&i.href&&i.host&&i.host!==location.host){const o=[{key:"refDomain",value:i.host}];t.Z.endlessMode&&o.push({key:"article_id",value:encodeURI(T.articleIDs.get(document.location.href)||"")}),e.defaultPrevented||(s.Z.log("view_exit",t.Z,o),i.target&&!i.target.match(/^_(self|parent|top)$/i)||(setTimeout((()=>{location.href=i.href}),150),e.preventDefault()))}})),(0,e.Ln)("Platform"),(0,e.rX)(e.J8.platformStartToLog,e.PP.platformStart,void 0),null!==(P=u.xw[t.Z.apiKey])&&void 0!==P&&P.initAfterScroll){function W(){var e,i;null!==(e=u.xw[t.Z.apiKey])&&void 0!==e&&e.initAfterScrollPixels?window.scrollY>=(null===(i=u.xw[t.Z.apiKey])||void 0===i?void 0:i.initAfterScrollPixels)&&(q(),window.removeEventListener("scroll",W)):(q(),window.removeEventListener("scroll",W))}window.addEventListener("scroll",W)}else if("loading"!==document.readyState)q();else{let z=!1;document.addEventListener("readystatechange",(()=>{"interactive"!==document.readyState&&"complete"!==document.readyState||z||(z=!0,q())}))}})()})();