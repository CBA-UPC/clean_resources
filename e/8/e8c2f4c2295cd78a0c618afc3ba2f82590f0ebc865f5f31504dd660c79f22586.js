/*! For license information please see 4890.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[4890],{4890:function(e,t,i){var s=i(8764).lW;e.exports=function(){"use strict";var e="8.6.1";const t={},n=r=a=o=l={prefixed:!0},d=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],h=d[0];let u;for(let Ng=0;Ng<d.length;Ng++)if(d[Ng][1]in document){u=d[Ng];break}if(u){for(let Rg=0;Rg<u.length;Rg++)l[h[Rg]]=u[Rg];l.prefixed=u[0]!==h[0]}let c=[];const p=(e,t,i)=>(s,n,r)=>{const a=t.levels[n],o=new RegExp(`^(${a})$`);let l=e;if("log"!==s&&r.unshift(s.toUpperCase()+":"),i&&(l=`%c${e}`,r.unshift(i)),r.unshift(l+":"),c){c.push([].concat(r));const e=c.length-1e3;c.splice(0,e>0?e:0)}if(!window.console)return;let d=window.console[s];d||"debug"!==s||(d=window.console.info||window.console.log),d&&a&&o.test(s)&&d[Array.isArray(r)?"apply":"call"](window.console,r)};function m(e,t=":",i=""){let s,n="info";const r=return s=p(e,r,i),r.createLogger=r.createNewLogger=r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},r.level=r.history=r.history.filter=r.history.clear=r.history.disable=r.history.enable=r.error=(...e)=>s("error",n,e),r.warn=(...e)=>s("warn",n,e),r.debug=r}const g=m("VIDEOJS"),f=g.createLogger,y=Object.prototype.toString,_=bject.freeze({__proto__:null,each:v,reduce:b,isObject:T,isPlain:S,merge:w,values:E,defineLazyProperty:k});let x,I=!1,A=null,D=!1,L=!1,P=!1,O=!1,N=!1,R=null,M=null,U=null,B=!1,F=!1,j=!1,q=!1;const $=Boolean(K()&&("ontouchstart"in window||window.navigator.maxTouchPoints||window.DocumentTouch&&window.document instanceof window.DocumentTouch)),H=window.navigator&&window.navigator.userAgentData;if(H&&(D="Android"===H.platform,P=Boolean(H.brands.find((e=>"Microsoft Edge"===e.brand))),O=Boolean(H.brands.find((e=>"Chromium"===e.brand))),N=!P&&O,R=M=(H.brands.find(()||{}).version||null,F="Windows"===H.platform),!O){const Mg=window.navigator&&window.navigator.userAgent||"";I=/iPod/i.test(Mg),A=),D=/Android/i.test(Mg),x=),L=/Firefox/i.test(Mg),P=/Edg/i.test(Mg),O=/Chrome/i.test(Mg)||/CriOS/i.test(Mg),N=!P&&O,R=M=),U=),B=/Safari/i.test(Mg)&&!N&&!D&&!P,F=/Windows/i.test(Mg),j=/iPad/i.test(Mg)||B&&$&&!/iPhone/i.test(Mg),q=/iPhone/i.test(Mg)&&!j}const V=q||j||I,z=(B||V)&&!N;var W=Object.freeze({__proto__:null,get IS_IPOD(){return I},get IOS_VERSION(){return A},get IS_ANDROID(){return D},get ANDROID_VERSION(){return x},get IS_FIREFOX(){return L},get IS_EDGE(){return P},get IS_CHROMIUM(){return O},get IS_CHROME(){return N},get CHROMIUM_VERSION(){return R},get CHROME_VERSION(){return M},get IE_VERSION(){return U},get IS_SAFARI(){return B},get IS_WINDOWS(){return F},get IS_IPAD(){return j},get IS_IPHONE(){return q},TOUCH_ENABLED:$,IS_IOS:V,IS_ANY_SAFARI:z});ction Y(e){return T(e)&&1===e.nodeType}ion ie(e,t){return X(t),e.classList.contains(t)}(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};const t=e.offsetWidth,i=e.offsetHeight;let s=0,n=0;for(;e.offsetParent&&e!==document[l.fullscreenElement];)s+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return{left:s,top:n,width:t,height:i}}ction _e(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((e=>("function"==typeof e&&(e=e()),Y(e)||fe(e)?e:"string"==typeof e&&/\S/.test(e)?document.createTextNode(e):void 0))).filter(()}st Se=J("querySelector"),we=J("querySelectorAll");unction ke(e){[...document.styleSheets].forEach((t=>{try{const i=[...t.cssRules].map((e=>e.cssText)).join(""),s=document.createElement("style");s.textContent=i,e.document.head.appendChild(s)}catch(i){const s=document.createElement("link");s.rel="stylesheet",s.type=t.type,s.media=t.media.mediaText,s.href=t.href,e.document.head.appendChild(s)}}))}var Ce=Object.freeze({__proto__:null,isReal:K,isEl:Y,isInFrame:Q,createEl:Z,textContent:ee,prependTo:te,hasClass:ie,addClass:se,removeClass:ne,toggleClass:re,setAttributes:ae,getAttributes:oe,getAttribute:le,setAttribute:de,removeAttribute:he,blockTextSelection:ue,unblockTextSelection:ce,getBoundingClientRect:pe,findPosition:me,getPointerPosition:ge,isTextNode:fe,emptyEl:ye,normalizeContent:_e,appendContent:ve,insertContent:be,isSingleLeftClick:Te,$:Se,$$:we,computedStyle:Ee,copyStyleSheetsToWindow:ke});let xe,Ie=!1;const Ae=function(){if(!1===xe.options.autoSetup)return;const e=Array.prototype.slice.call(document.getElementsByTagName("video")),t=Array.prototype.slice.call(document.getElementsByTagName("audio")),i=Array.prototype.slice.call(document.getElementsByTagName("video-js")),s=e.concat(t,i);if(s&&s.length>0)for(let e=0,t=s.length;e<t;e++){const t=s[e];if(!t||!t.getAttribute){De(1);break}void 0===t.player&&null!==t.getAttribute("data-setup")&&xe(t)}else Ie||De(1)};)&&("complete"===document.readyState?Le():window.addEventListener("load",Le));const Pe=Oe=var Ne=new WeakMap;let Re,Me=3;ction je(e){if(e.fixed_)return e;function t(){return!0}f(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){const s=e||window.event;e={};for(const t in s)"layerX"!==t&&"layerY"!==t&&"keyLocation"!==t&&"webkitMovementX"!==t&&"webkitMovementY"!==t&&"path"!==t&&("returnValue"===t&&s.preventDefault||(e[t]=s[t]));if(e.target||(e.target=e.srcElement||document),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=e.defaultPrevented=!1,e.stopPropagation=e.isPropagationStopped=i,e.stopImmediatePropagation=e.isImmediatePropagationStopped=i,null!==e.clientX&&void 0!==e.clientX){const t=document.documentElement,i=document.body;e.pageX=e.clientX+(t&&t.scrollLeft||i&&i.scrollLeft||0)-(t&&t.clientLeft||i&&i.clientLeft||0),e.pageY=e.clientY+(t&&t.scrollTop||i&&i.scrollTop||0)-(t&&t.clientTop||i&&i.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}const qe=$e=["touchstart","touchmove"];e=Object.freeze({__proto__:null,fixEvent:je,on:He,off:Ve,trigger:ze,one:We,any:Ge});const Ke=30,Ye=Qe=function(e,t){let i=window.performance.now();return ,Je=function(e,t,i,s=window){let n;const r=a=return a.cancel=r,a};var Ze=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Ke,bind_:Ye,throttle:Qe,debounce:Je});let et;class tt{on(e,t){const i=this.addEventListener;this.addEventListener=()=>{},He(this,e,t),this.addEventListener=i}ne(e,t){const i=this.addEventListener;this.addEventListener=()=>{},We(this,e,t),this.addEventListener=i}eueTrigger(e){et||(et=new Map);const t=e.type||e;let i=et.get(this);i||(i=new Map,et.set(this,i));const s=i.get(t);i.delete(t),window.clearTimeout(s);const n=window.setTimeout((,0);i.set(t,n)}}tt.prototype.allowedEvents_={},tt.prototype.addEventListener=tt.prototype.on,tt.prototype.removeEventListener=tt.prototype.off,tt.prototype.dispatchEvent=tt.prototype.trigger;const it=st=nt=rt=at=ot=lt=dt=ht=ut={onone(...e){const{isTargetingSelf:t,target:i,type:s,listener:n}=dt(this,e,"one");if(t)ht(i,"one",s,n);else{const e=(...t)=>{this.off(i,s,e),n.apply(null,t)};e.guid=n.guid,ht(i,"one",s,e)}},anyofftrigger;function ct(e,t={}){const{eventBusKey:i}=t;if(i){if(!e[i].nodeName)throw new Error(`The eventBusKey "${i}" does not refer to an element.`);e.eventBusEl_=e[i]}else e.eventBusEl_=Z("span",{className:"vjs-event-bus"});return Object.assign(e,ut),e.eventedCallbacks&&e.eventedCallbacks.forEach((),e.on("dispose",(),e}const pt={state:{},setState;onst gt=function(e){return"string"!=typeof e?e:e.replace(/./,(e=>e.toLowerCase()))},ft=function(e){return"string"!=typeof e?e:e.replace(/./,(e=>e.toUpperCase()))},yt=var _t=Object.freeze({__proto__:null,toLowerCase:gt,toTitleCase:ft,titleCaseEquals:yt}),vt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};r St=Tt((]=n[o]}));St.code,St.codes,St.aliases,St.names,St.title;cvity()}on(e,t){}off(e,t){}one(e,t){}aned_)}player(){return this.tions_}el(){return t))),l}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.chrn t}setIcon(e,t=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const i="http://www.w3.org/2000/svg",s=Z("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),n=document.createElementNS(i,"svg");n.setAttributeNS(null,"viewBox","0 0 512 512");const r=document.createElementNS(i,"use");return n.appendChild(r),r.setAttributeNS(null,"href",`#vjs-icon-${e}`),s.appendChild(n),this.iconIsSet_?t.replaceChild(s,t.querySelector(".vjs-icon-placeholder")):t.appendChild(s),this.iconIsSe(i)}}buildCSSClass(){r}),1)}$(e,t){return Se(e,t||this.contetEl())}hasClass(e){return ie(this.el_,e)}addClass(...e){se(this.el,...e)}toggleClass(e,t){re(this.el_,e,t)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-sh,e)}width(e,t){return this.dimension("widt)}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}focus(){this.el_.focus()}blur(){this.el_wn(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,t=null;const i=10,s=200;let n;this.on("touch,n=!0)})),this.on("toucn=!1)}}));const r=function(){n=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",(function(i){t=null,!0===n&&window.performance.now()-e<s&&(i.preventDefault(),this.trigger("ta(i),i}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),window.clearTimeoud(i),i}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),window.clearInterva}}function Et(e,t,i){if("number"!=typeof t||t<0||t>i)throw new Error(`Failed to execute '${e}' on 'TimeRanges': The index provided (${t}) is non-numeric or out of bounds (0-$t]])}wt.registerComponent("Component",wt);c,n+s+i};lee,t)}var Ot=Object.freeze({__proto__:null,createTimeRanges:xt,createTimeRange:xt,setFormatTime:Dt,resetFormatTime:Lt,formatTi||"")}Rt.prototype.code=0,Rt.prototype.message="",Rt.prototype.status=null,Rt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Rt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(let Ug=0;Ug<Rt.errorTypes.length;Ug++)Rt[Rt.errorTypes[Ug]]=Ug,Rt.prototype[Rt.errorTypes[Ug]]=Ug;va{}))}c}}))})};var qt={textTrackp(jt))},jsonToTexacks()},trackToJson_:jt};const $t="vjs-modal-dialog";class Ht extog"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dieKeyDown(e){if(e.stopPropagation(),St.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(!St.isEventKey(e,"Tab"))return;const t=this.focusableEls_(),i=this.el_.querySelector(":focus");let s;for(let e=0;e<t.length;e++)if(i===t[e]){s=e;break}document.activeElement===this.el_&&(s=0),e.shiftKey&&0===s?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||s!==t.length-1||(t[0].focus(),e.preventDefle")))}}Ht.prototype.options_={pauseOnOpen:!0,temporary:!0},wt.registerComponent("ModalDialurn t}}Vt.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const Bg in Vt.prototype.allowedEvents_)Vt.prototype["on"+Bg]=null;const zt=function(e,t){for(let i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].enabled=!1)};class Wt extng_=!1}addTrack(e){e.enabled&&zt(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,zt(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}ced=!1)};class Xt ext_))}}c t}}const Jt={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Zt={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},ei={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},ti={disabled:"disabled",hidden:"hidden",showing:"showing"};class ii extends tt{constructor(e={}){super();const t={id:e.id||"vjs_track_"+Ue(),kind:e.kind||"",language:e.language||""};let i=e.label||"";for(const e in t)Object.defineProperty(this,e,{get(){return t[e]},set(){}});Object.defineProperty(this,"label",{get(){returnge"))}})}}const si=function(e){const t=["protocol","hostname","port","pathname","search","hash","host"],i=document.createElement("a");i.href=e;const s={};for(let e=0;e<t.length;e++)s[t[e]]=i[t[e]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=window.location.protocol),s.host||(s.host=window.location.hostturturn""},ai=function(e,t=window.location){const i=si(e);return(":"===i.protocol?t.protocol:i.protocol)+i.host!==t.protocol+t.host};var oi=Object.freeze({__proto__:null,parseUrl:si,getAbsoluteURL:ni,getFileExtension:ri,isCrossOrigin:ai}),li="undefined"!=typeof window?window:void 0!==vt?vt:"undefined"!=typeof self?self:{}xports})),hi=bt(di),ui=pi,ci=Object.prototype.tf-8")ll,n)}};Si.httpHandler=gi),t):t},yi=Si))}function wi(e){if(void 0===e.callback)throw new Error("callback argument missing");vary)}}var o,l,d=e.xhr||null;d||(d=e.cors||e.useXDR?new Si.XDomainRequest:new Si.XMLHttpRequest);var h,u=d.url=e.uri||e.url,c=d.method=e.method||"GET",p=e.body||e.data,m=d.headers=e.headers||{},g=!!e.sync,f=!1,y={body:void 0,headers:{},statusCode:0,method:c,url:u,rawRequest:d};if("json"in e&&!1!==e.json&&(f=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==c&&"HEAD"!==c&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),p=JSON.stringify(!0===e.json?p:e.json))),d.onreadystatechange=s,d.onload=a,d.onerror=r,d.onprogress=function(){},d.onabort=function(){l=!0},d.ontimeout=r,d.open(c,u,!g,e.username,e.password),g||(d.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(h=setT,r(e)}}),e.timeout)),d.setRequestHeader)for(o in m)m.hasOwnProperty(o)&&d.setRequestHeader(o,m[o]);else if(e.headers&&!bi(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(d.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(d),d.send(p||n null}function ki(){}Si.XMLHttpRequest=li.XMLHttpRequest||ki,Si.XDomainRequest="withCredentials"in new Si.XMLHttpRequest?Si.XMLHttpRequest:li.XDomainRequest,vi(["get","put","post","patch","head","dewi(i)}})),yi.default=_i;const Ci=function(e,t){const i=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()),s=[];i.oncue=function(e){t.addCue(e)},i.onparsingerror=function(e){s.push(e)},i.et:t})},i.parse(e),s.length>0&&(window.console&&window.console.groupCollapsed&&window.console.groupCollapsed(`Text Track parsing errors for ${t.src}`),s.forEach((e=>g.error(e))),window.console&&window.console.groupEnd&&window.console.groupEnd()),i.flush()},xi=function(e,t){const i={uri:e},s=ai(e);s&&(i.cors=s);const n="use-credentials"===t.tech_.crossOrigin();n&&(i.withCredentials=n),yi(i,Ye(this,(function(e,i,s){if(e)return g.error(e,i);t.loaded_=!0,"function"!=typeof window.WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjsesrc}`)})):Ci(s,t)})))};class Ii extends ii{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const t=w(e,{kind:ei[e.kind]||"subtitles",language:e.language||e.srclang||""});let i=ti[t.mode]||"disabled";const s=t.default;"metadata"!==t.kind&&"chapters"!==t.kind||(i="hidden"),super(t),this.tech_=t.tech,this.cues_=[],this.activeCues_=[],this.preload_=!1!==this.tech_.preloadTextTracks;const n=new Qt(this.cues_),r=new Qt(this.activeCues_);let a=!1;this.timeupdateHandler=Yler)))}));const o=()=>{this.stopTracking()};this.tech_.one("dispose",o),"disabled"!==i&&this.startTracking(),Object.defineProperties(this,{default:{get(){return s},set(){}},mode:{get(){returnge"))}},cn:null},set(){}},activeCes_),r},set(){}}}),t.src?(this.src=t.src,this.preload_||(this.loaded_=!0),(this.preload_||"subtitles"!==t.kind&&"captions"!==t.kind)&&xi(this.src,this)):this.loak}}}}Ii.prototype.allowedEvents_={cuechange:"cuechange"};class Ai extends ii{constructor(e={}){const t=w(e,{kind:Zt[e.kind]||""});super(t);let i=!1;Object.defineProperty(this,"enabled",{get(){return i},set(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("enabledchange"))}}),t.enabled&&(this.enabled=t.enabled),this.loaded_=!0}}class Di extends ii{constructor(e={}){const t=w(e,{kind:Jt[e.kind]||""});super(t);let i=!1;Object.defineProperty(this,"selected",{get(){returnge"))}}),t.selected&&(this.selected=t.selected)}}class Li extends tt{constructor(e={}){let t;super();const i=new Ii(e);this.kind=i.kind,this.src=i.src,this.srclang=i.language,this.label=i.label,this.default=i.default,Object.defineProperties(this,{readyState:{get(){return t}},track:{get(){return i}}}),t=Li.NONE,i.addEventListener("loadethis})}))}}Li.prototype.allowedEvents_={load:"load"},Li.NONE=0,Li.LOADING=1,Li.LOADED=2,Li.ERROR=3;const Pi={audio:{ListClass:Wt,TrackClass:Ai,capitalName:"Audio"},video:{ListClass:Xt,TrackClass:Di,capitalName:"Video"},text:{ListClass:Kt,TrackClass:Ii,capitalName:"Text"}};Object.keys(Pi).facks_`}));const Oi={remoteText:{ListClass:Kt,TrackClass:Ii,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Yt,TrackClass:Li,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Ni=Object.assign({},Pi,Oi);Oi.names=Object.keys(Oi),Pi.names=Object.keys(Pi),Ni.names=[].concat(Oi.names).concat(Pi.names);var Ri={};function Mi(e,t,i,s,n={}){const r=e.textTracks();n.kind=t,i&&(n.label=i),s&&(n.language=s),n.tech=e;const a=new Ni.text.TrackClass(n);return r.addTrack(a),a}class Ui extstopTrackingProgress(){this.clearInterval(this.progressIn}reset(){}crossOrigin(){}setCrossOr:xt()}play(){}setScrubbing(e){}scrub))}))}addWebVttScript_(){if(!window.WebVTT)if(document.body.contains(this.el())){if(!this.options_["vtt.js"]&&S(Ri)&&Object.keys(Ri).length>0)return void this.trigger("vttjsloaded");const e=document.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dir=null})),window.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttS,n)}))}addT{}}requestPictureInPicture(){return Promise.rturn!0}setDisablePictureInPicme(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTraks(e){}canPlayType(e){r0)}}Ni.names.fName]}})),Ui.prototype.featuresVolumeControl=!0,Ui.prototype.featuresMuteControl=!0,Ui.prototype.featuresFullscreenResize=!1,Ui.prototype.featuresPlaybackRate=!1,Ui.prototype.featuresProgressEvents=!1,Ui.prototype.featuresSourceset=!1,Ui.prototype.featuresTimeupdateEvents=!1,Ui.prototype.featuresNativeTextTracks=!1,Ui.prototype.featuresVideoFrameCallback=!1,Ui.withSourceHnull)}},wt.registerComponent("Tech",Ui),Ui.registerTech("Tech",Ui),Ui.defaultTechOrder_=[];const Bi={},Fi={)),1)}function Hi(e,t){e.fTe),s))}function Wi(e,t,i,s=null){const n="call"+ft(i),r=e.reduce(Yi(n),s),a=r===ji,o=a?null:t[i](r);return Qi(e,i,o,a),o}const Gi={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Xi={setCurrentTime:1,setMuted:1,setVolume:1},Ki={play:1,pnull}function Zi(e,t){const i=Fi[e.id()];let s=null;if(null==i)return s=t(e),Fi[e.id()]=[[t,s]],s;for(let e=0;e<i.length;e++){const[n,r]=i[e];n===t&&(s=r)}return null===s&&(s=t(e),i.push([t,s])),s}function es(e={},t=[],i,s,n=[],r=!1){const[a,...o]=t;if("string"==typeof a)es(e,Bi[a],i,s,n,r);else if(a){const t=Zi(s,a);if(!t.setSource)return n.push(t),es(e,o,i,s,n,r);t.setSource(Object.assigns,n,r)}))}else o.length?es(e,o,i,s,n,r):r?i(e,n):es(e,Bi["*"],i,s,n,!0)}const ts={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/we)]| isturn e}var as='<svg xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play">\n      <path d="M16 10v28l22-14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">\n      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">\n      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">\n      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">\n      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">\n      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">\n      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">\n      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">\n      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">\n      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">\n      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">\n      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">\n      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">\n      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">\n      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">\n      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">\n      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">\n      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">\n      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-share">\n      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">\n      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-square">\n      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">\n      <circle cx="24" cy="24" r="20"></circle>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">\n      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">\n      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">\n      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">\n      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">\n      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">\n      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">\n      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">\n      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">\n      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">\n      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">\n      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">\n      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">\n      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">\n      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">\n      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">\n      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>\n      <path fill="none" d="M-1-3h24v24H-1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">\n      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">\n      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-twitter">\n      <path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5T1369.5 1125 1185 1335.5t-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5T285 1033q33 5 61 5 43 0 85-11-112-23-185.5-111.5T172 710v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5T884 653q-8-38-8-74 0-134 94.5-228.5T1199 256q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">\n      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">\n      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>\n    </symbol>\n  </defs>\n</svg>';class os extreak}}}}wt.registerComponent("MediaLoader",os);class ls ext(s),s}dispose(){this.controlTextEl_=null,super.die",i)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSCle)}}wt.registerComponent("ClickableComponese())}}ds.prototype.crossorigin=ds.prototype.crossOrigin,wt.registerComponent("PosterImage",ds);const hs="#222",us="#ccc",cs={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-`:""}class fs extends wt{constructor(e,t,i){super(e,t,i);const s=e=>this.updateDisplay(e),n=e=>{this.updateDisplayOverlay(),this.updateDisplay(e)};e.on("loadstart",(e=>this.toggleDisplay(e))),e.on("texttrackchange",s),e.on("loadedmetack(e)})),e.ready(Ye(this,(function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)return void this.hide();e.on("fullscreenchange",n),e.on("playerresize",n);const t=window.screen.orientation||window,i=window.screen.orientation?"change":"orientationchange";t.addEventListener(i,n),e.on("dier(i,n)));const s=this.options_.playerOptions.tracks||[];for(let e=0;e<s.length;e++)this.player_.addRemoteTextTrack(s[e],!0);this.preselectTrac))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!window.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),t=this.player_.currentHeight(),i=e/t,s=this.player_.videoWidth()/this.player_.videoHeight();let n=0,r=0;Math.abs(i-s)>.1&&(i>s?n=Math.round((e-t*s)/2):r=Math.round((t-e/s)/2)),ms(this.el_,"insetInline",gs(n)),ms(this.el_,"insetBlock",gs(r))}updateDisplayState(e){const t=this.player_.textTrackSettings.getValues(),i=e.activeCues;let s=i.length;for(;s--;){const e=i[s];if(!e)continue;const n=e.displayState;if(t.color&&(n.firstChild.style.color=t.color),t.textOpacity&&ms(n.firstChild,"color",ps(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(n.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&ms(n.firstChild,"backgroundColor",ps(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?ms(n,"backgroundColor",ps(t.windowColor,t.windowOpacity)):n.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?n.firstChild.style.textShadow=`2px 2px 3px ${hs}, 2px 2px 4px ${hs}, 2px 2px 5px ${hs}`:"raised"===t.edgeStyle?n.firstChild.style.textShadow=`1px 1px ${hs}, 2px 2px ${hs}, 3px 3px ${hs}`:"depressed"===t.edgeStyle?n.firstChild.style.textShadow=`1px 1px ${us}, 0 1px ${us}, -1px -1px ${hs}, 0 -1px ${hs}`:"uniform"===t.edgeStyle&&(n.firstChild.style.textShadow=`0 0 4px ${hs}, 0 0 4px ${hs}, 0 0 4px ${hs}, 0 0 4px ${hs}`)),t.fontPercent&&1!==t.fontPercent){const e=window.parseFloat(n.style.fontSize);n.style.fontSize=e*t.fontPercent+"px",n.style.height="auto",n.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?n.firstChild.style.fontVariant="small-caps":n.firstChild.style.fontFamily=cs[t.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),"function"!=typeof window.WebVTT||eiveCues)))return;const t=[];for(let i=0;i<e.length;++i){const s=e[i];for(let e=0;e<s.activeCues.length;++e)t.push(s.activeCues[e])}window.WebVTT.processCues(window,t,this.el_);for(let t=0;t<e.length;++t){const i=e[t];for(let e=0;e<i.activeCues.length;++e){const s=i.activeCues[e].displayState;se(s,"vjs-text-track-cue","vjs-text-track-cue-"+(i.language?i.language:t)),i.language&&de(s,"lang",i.language)}this.player_.textTrackSettings&&this.updateDisplayState(i)}}}wt.registerComponent("TextTrackDispler"])}}wt.registerComponent("LoadingSpinner",ys);class _s exte)}}wt.registerComponent("Buttd_=!0}}vs.prototype.controlText_="Play Video",wt.registerComponent("BigPlayButton",vs);class bs extose"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClwn(e)}}wt.registerComponent("CloseButt(e)))}}Ts.prototype.controlText_="Play",wt.registerComponent("PlayToggle",Ts);class Ss extEl_),t}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}updateTextNode_(e=0){e=Pt(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTexNode_))})))}updateContent(e){}}Ss.prototype.labelText_="Time",Ss.prototype.controlText_="Time",wt.registerComponent("TimeDispde_(t)}}ws.prototype.labelText_="Current Time",ws.prototype.controlText_="Current Time",wt.registerComponent("CurrentTimeDispde_(t)}}Es.prototype.labelText_="Duration",Es.prototype.controlText_="Duration",wt.registerComponent("DurationDispd(t),e}}wt.registerComponent("TimeDivide_(t)}}Cs.prototype.labelText_="Remaining Time",Cs.prototype.controlText_="Remaining Time",wt.registerComponent("RemainingTimeDisplay",Cs);class xs exng(e)))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Z("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Z("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}Â `})),this.contentEl_.appendChild(document.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.s.hide()}}wt.registerComponent("LiveDis)?t:e))}Is.prototype.controlText_="Seek to live, currently playing live",wt.registerComponent("SeekToLive",Is);var Ds=Object.freeze({__proto__:null,clamp:As});class Ls eenable()}enabled(){return thise,!0)}handleMous")}}wt.registerComponent("Slider",Ls)ngth}))}}wt.registerComponent("LoadProgressBar",Os);class Ns extends wt{constructor(e,t){super(e,t),this.update=Qe(Ye(this,this.update),Ke)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden"write(i)}write(e){ee(th&&s()}))}}wt.registerComponent("TimeToo(e,t,s)}}Rs.prototype.options_={children:[]},V||D||Rs.prototype.options_.children.push("timeTooltip"),wt.registerComponent("PlayProgres"px"}))}}Ms.prototype.options_={children:["timeTooltip"]},wt.registerComponent("MouseTimeDisplay",Ms);const Us=5,Bs=12;class Fs edlers_()}setEventHandlers_(){this.update_=Ye(this,this.update),this.update=Qe(this.update_,Ke),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document&&"visibilityState"in document&&this.on(document,"visibilitychange",this.toggleVisr")})}update(e){if("hidden"===document.visibilityState)return;const t=super.update();return this.requestNamedAnimationFrame("SeekBargresn(e))}handleMouseMove(e,t=!1){if(!Te(e)||isNaN(this.player_.duration()))return;let i;t||this.player_.scrubbing()||this.player_.scrubbing(!0);const s=this.calculateDistance(e),n=this.player_.liveTracker;if(n&&n.isLive()){if(s>=.99)return void n.seekToLiveEdge();const e=n.seekableStart(),t=n.liveCurrentTime();if(i=e+s*n.liveWindow(),i>=t&&(i=t),i<=e&&(i=e+.1),i===1/0)return}else i=s*this.player_.duration(),i===this.player_.duration()&&(i-=.1);this.userSeek_(i)}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&)-Us)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const t=this.player_.liveTracker;if(St.isEventKey(e,"Space")||St.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(St.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(St.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),t&&t.isLive()?this.userSeek_(t.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(St(e))){e.preventDefault(),e.stopPropagation();const i=10*(St.codes[St(e)]-St.codes[0])/100;t&&t.isLive()?this.userSeek_(t.seekableStart()+t.liveWindow()*i):this.userSeek_(this.player_.duration()*i)}else St.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-Us*Bs)):St.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+Us*Bs)):super.handleKispose()}}Fs.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},V||D||Fs.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),wt.registerComponent("Seestart()}}js.prototype.options_={children:["seekBar"]},wt.registerComponent("ProgressControl",js);class qs eisable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInr.show()}}qs.prototype.controlText_="Picture-in-Picture",wt.registerComponent("PictureInPictureToggle",qs);class $s eisable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSScreen()}}$s.prototype.controlText_="Fullscreen",wt.registerComponent("FullscreenToggle",$s);const Hs=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidt"})),e}}wt.registerComponent("VolumeLevel",Vs);class zs extends wt{constructor(e,t){super(e,t),this.update=Qe(Ye(this,this.up${s}%`)}write(e){ee(th&&n()}))}}wt.registerComponent("VolumeLevelToo"px"}))}}Ws.prototype.options_={children:["volumeLevelTooltip"]},wt.registerComponent("MouseVolumeLevelDis_(e)}))}}Gs.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},V||D||Gs.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),Gs.prototype.playerEvent="volumechange",wt.registerComponent("VolumeBar",Gs);class Xs extends wt{constructor(e,t={}){t.vertical=t.vertical||!1,(void 0===t.volumeBar||S(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),super(e,t),Hs(this,e),this.throttledHandleMouseMove=Qe(Ye(this,this.handleMouseMove),Ke),this.handleMouseUpHandler_=e=>this.handleMouseUp(e),this.on("mousedown",(e=>this.handleMouseDown(e))),this.on("touchstart",(e=>this.handleMouseDown(e))),this.on("mousemove",(e=>this.handleMouseMove(e))),this.on(this.volumeBar,["focus","slideractive"],(()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")})),this.on(this.volumeBar,["blur","sliderinac ${e}`})}handleMouseDown(e){const t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}Xs.prototype.options_={children:["volumeBar"]},wt.registerComponent("VolumeControl",Xs)den")}))};class Ys eate(e)))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSxt(e)}}Ys.prototype.controlText_="Mute",wt.registerComponent("MuteToggle",Ys);class Qs eactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider${e}`})}dispose(){this.handleMouseOut(),super..focus()}handleMouseOver(e){this.addClass("vjs-hover"),He(document,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Ve(document,"keyup",this.handleKeyPressuseOut()}}Qs.prototype.options_={children:["muteToggle","volumeControl"]},wt.registerComponent("VolumePTime]))}}wt.registerComponent("SkipForTime]))}}Zs.prototype.controlText_="Skip Backward",wt.registerComponent("SkipBackward",Zs);class en eClick(e)}addEventListenerForItem(e){e instanceof wt&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTawt.registerComponent("Menu",en);class tn extends wt{constructor(e,t={}){super(e,t),this.menuButton_=new _s(e,t),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const i=_s.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+i,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const s=e=>this.handleClick(e);this.handleMenuKeyUp_=e=>this.handleMenuKeyUp(e),this.on(this.menuButton_,"tap",s),this.on(this.menuButton_,"click",s),this.on(this.menuButton_,"keydown",(e=>this.handleKeyDown(e))),this.on(this.menuButton_,"mouuKeyUp_)})),this.on("mouseleave",(e=>this.handleMouseLeave(e))),this.on("keydown",(e=>this.handleSubmenuKeyeturn e}create,t)}dispose(){this.handleMouseLeave(),super.KeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}hanhover")}handleSubmenuKeyPress(e){this.handleSubmenuKle()}}wt.registerComponent("MenuBu",s)}))}}wt.registerComponent("TrackButton",sn);const nn=["Tab","Esc","Up","Down","Right","Left"];class rn eown(e)}handleClick(e){this.seled_=!1))}}wt.registerComponent("MenuItem",rn);class an extends rn{constructor(e,t){const i=t.track,s=e.textTracks();t.label=i.label||i.language||"Unknown",t.selected="showing"===i.mode,super(e,t),this.track=i,this.kinds=(t.kinds||[t.kind||this.track.kind]).filter(Boolean);const n=(...e)=>{this.handleTracksChange.apply(this,e)},r=(...e)=>{this.handleSelectedLanguageChange.apply(this,e)};if(e.on(["loadstart","texttrackchange"],n),s.addEventListener("change",n),s.addEventListener("selectedlanguagechange",r),this.on("ange",r)})),void 0===s.onchange){let e;this.on(["tap","click"],(function(){if("object"!=typeof window.Event)try{e=new window.Event("change")}catch(e){}e||(e=document.createEvent("Event"),e.initEvent("change",!0,!0)),s.dispatchEvent(e)}))}this.handleTrackkind}}}dispose(){this.track=null,super.dispose()}}wt.registerComponent("TextTrackMenuhange()}}wt.registerComponent("OffTextTrackMenueturn e}}wt.registerComponent("TextTrackBurtTime)}}wt.registerComponent("ChaptersTrackMenueturn e}}hn.prototype.kind_="chapters",hn.prototype.controlText_="Chapters",wt.registerComponent("ChaptersBuass()}`}}un.prototype.kind_="descriptions",un.prototype.controlText_="Descriptions",wt.registerComponent("DescriptionsBuass()}`}}cn.prototype.kind_="subtitles",cn.prototype.controlText_="Subtitles",wt.registerComponent("SubtitlesBuhange()}}wt.registerComponent("CaptionSettingsMenutems(e)}}mn.prototype.kind_="captions",mn.prototype.controlText_="Captions",wt.registerComponent("CaptionsBu`}))),s}}wt.registerComponent("SubsCapsMenue,gn),e}}fn.prototype.kinds_=["captions","subtitles"],fn.prototype.controlText_="Subtitles",wt.registerComponent("SubsCapsBunabled)}}wt.registerComponent("AudioTrackMenueturn e}}_n.prototype.controlText_="Audio Track",wt.registerComponent("AudioTrackBus.rate)}}vn.prototype.contentElType="button",wt.registerComponent("PlaybackRateMenu()+"x")}}bn.prototype.controlText_="Playback Rate",wt.registerComponent("PlaybackRateMenuBu(e,t,i)}}wt.registerComponent("Spacer",Tn);class Sn extends Tn{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSnt:"Â "})}}wt.registerComponent("CustomControlS:"ltr"})}}wn.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]},wt.registerComponent("Contrsage):""}}En.prototype.options_=Object.assign({},Ht.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),wt.registerComponent("ErrorDisplay",En);const kn="vjs-text-track-settings",Cn=["#000","Black"],xn=["#00F","Blue"],In=["#0FF","Cyan"],An=["#0F0","Green"],Dn=["#F0F","Magenta"],Ln=["#F00","Red"],Pn=["#FFF","White"],On=["#FF0","Yellow"],Nn=["1","Opaque"],Rn=["0.5","Semi-Transparent"],Mn=["0","Transparent"],Un={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Cn,Pn,Ln,An,xn,On,Dn,In]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[Nn,Rn,Mn]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Pn,Cn,Ln,An,xn,On,Dn,In]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],defaul:Number(e)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[Nn,Rn]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[M;break}}Un.windowColor.options=Un.backgroundColor.options;class qn oin("")}createElFgColor_(){const e=`captions-text-legend-${this.id_}`;return['<fieldset class="vjs-fg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text"),"</legend>",'<span class="vjs-text-color">',this.createElSelect_("color",e),"</span>",'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")}createElBgColor_(){const e=`captions-background-${this.id_}`;return['<fieldset class="vjs-bg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text Background"),"</legend>",'<span class="vjs-bg-color">',this.createElSelect_("backgroundColor",e),"</span>",'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"s_()]}label(){return this.localize("Caption Settingettings"}getValues(){return b(Un,((e,t,i)=>{const s=Fn(this.$(t.selector),t.parser);return void 0!==s&&(e[i]=s),e}),{})}setValues(e){v(Un,((t,i)=>{jn(this.$(t.selector),e[i],t.cus()}handleLanguagechange(){this.fill()}}wt.registerComponent("TextTrackSettings",qn);class $n extends wt{constructor(e,t){let i=t.ResizeObserver||window.ResizeObserver;null===t.ResizeObserver&&(i=!1),super(e,w({createEl:!i,reportTouchActivity:!1},t)),this.ResizeObserver=t.ResizeObserver||window.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=Je((()=>{this.resizeHandler()}),100,!1,this),i?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loaesize",e)},this.one("load",this.loadLspose()}}wt.registerComponent("ResizeManager",$n);const Hn={trackingThreshold:20,liveTolerance:15};class Vn cking()))}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const t=Number(window.performance.now().toFixed(4)),i=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+i;const s=this.liveCurrentTime(),n=this.player_.currentTime();let r=this.player_.paused()||this.seekedBehindLive_||Math.abs(s-n)>this.options_.liveTolerance;this.timeupdateSeen_&&s!==1/0||(r=!1),r!==this.behindLiveEdge_&&(this.behindLiveEdge_=r,this.trigger("liveedgdLiveEdge(){return this.behinspose()}}wt.registerComponent("LiveTracker",Vn);class zn =null}}wt.registerComponent("TitleBar",znet(n),!0)},Gn=Object.defineProperty({},"inneinninnerablnneceWatch_)},Qn=Object.defineProperty({}srcsrc",Qn]Watch_()}};class er e_(i)}overrideNativeAudioTracks(e){this.overrideNative_(_(e)}))}createEl(){let e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){const t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),er.disposeMediaElement(e),e=t}else{e=document.createElement("video");const t=w({},this.options_.tag&&oe(this.options_.tag));$&&!0===this.options_.nativeControlsForTouch||delete t.controls,ae(e,Object.assign(t,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&de(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const t=["loop","muted","playsinline","autoplay"];for(let i=0;i<t.length;i++){const s=t[i],n=this.options_[s];void 0!==n&&(n?de(e,s,s):he(e,s),e[s]=nbbing_=e}scrubbing(){return this.ision||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.ofeen"))}requestPictureInPicture(){return this.el_.requestPictureI}k(er,"hild(t),e})),er.iPlayType)},er.cayType(e)},er.cane(e.type)},er.canConreturn!1}},er.canreturn!1}},er.canControlPlreturn!1}},er.canOverride}return!0},er.supportsNativen z||V&&N},er.supportsNativeVideoTracks=function(){return!(!er.TEST_VID||!er.TEST_VID.videoTracks)},er.supportsNativeAioTracks)},er.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]t]()),!0)})),er.prototype.featuresVolumeControl=er.canControlVolume(),er.prototype.movingMediaElementInDOM=!V,er.prototype.featuresFullscreenResize=!0,er.prototype.featuresProgressEvents=!0,er.prototype.featuresTimeupdateEvents=!0,er.prototype.featuresVideoFrameCallback=!(!er.TEST_VID||!er.TEST_VID.requestVideoFrameCallback),er.disposeMe(e){}}()}},er.resetMeh(e){}}()},["muted","defaultMuted","autoplay","controls","loop","playsinline"ibute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"ibute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"s.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"el_[e]=t}})),["pause","load","play"el_[e]()}})),Ui.withSourceHandlers(er),er.nativeSourceHandler={},er.nativeSourceHandler.creturn""}},er.nativeSourceHandler.canHa}return""},er.nativeSourceHandler.harc(e.src)},er.nativeSourceHandler.dispose=function(){},er.registerSourceHandler(er.nativeSourceHandler),Ui.registerTech("Html5",er);const tr=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],ir={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},sr=["tiny","xsmall","small","medium","large","xlarge","huge"],nr={};sout-${t}`}));const rr={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class ar extends wt{constructor(t,i,s){if(t.id=t.id||i.id||`vjs_video_${Ue()}`,(i=Object.assign(ar.getTagSettings(t),i)).initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language){const e=t.closest("[lang]");e&&(i.language=e.getAttribute("lang"))}if(super(null,i,s),this.boundDocumentFullscreenChange_=e=>this.documentFullscreenChange_(e),this.boundFullWindowOnEscKey_=e=>this.fullWindowOnEscKey(e),this.boundUpdateStyleEl_=e=>this.updateStyleEl_(e),this.boundApplyInitTime_=e=>this.applyInitTime_(e),this.boundUpdateCurrentBreakpoint_=e=>this.updateCurrentBreakpoint_(e),this.boundHandleTechClick_=e=>this.handleTechClick_(e),this.boundHandleTechDoubleClick_=e=>this.handleTechDoubleClick_(e),this.boundHandleTechTouchStart_=e=>this.handleTechTouchStart_(e),this.boundHandleTechTouchMove_=e=>this.handleTechTouchMove_(e),this.boundHandleTechTouchEnd_=e=>this.handleTechTouchEnd_(e),this.boundHandleTechTap_=e=>this.handleTechTap_(e),this.isFullscreen_=!1,this.log=f(this.id_),this.fsApi_=l,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=t,this.tagAttributes=t&&oe(t),this.language(this.options_.language),i.languages){const e={};Object.getOwnPropertyNames(i.languagesguages[t]})),this.languages_=e}else this.languages_=ar.prototype.options_.languages;this.resetCache_(),this.poster_=i.poster||"",this.controls_=!!i.controls,t.controls=!1,t.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],t.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),i.plugins&&Object.keys(i.pluginst exist`)})),this.scrubbing_=!1,this.el_=this.createEl(),ct(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(He(document,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const n=w(this.options_);if(i.plugins&&Object.keys(i.pluginsugins[e])})),i.debug&&this.debug(!0),this.options_.playerOptions=n,this.middleware_=[],this.playbackRates(i.playbackRates),i.experimentalSvgIcons){const e=(new window.DOMParser).parseFromString(as,"image/svg+xml");if(e.querySelector("parsererror"))g.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const t=e.documentElement;t.style.display="none",this.el_.appendChild(t),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio("audio"===t.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),$&&this.addClass("vjs-touch-enabled"),V||this.addClass("vjs-workinghover"),ar.players[this.id_]=this;const r=e.split(".")[0];this.addClass(`vjs-v${r}`),this.userActive(!0),this.reportUserActivity(),this.one("play",(e=>this.listenForUserActivity_(e))),this.on("keydown",(e=>this.handleKeyDown(e))),this.on("languagechange",(e=>this.handleLanguagechange(e))),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.oOnlyMode)}))}dispose(){this.trigger("dispose"),this.off("dispose"),Ve(document,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Ve(document,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),ar.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Ji(this),Ni.name&&t.off()})),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e,t=this.tag,i=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");const s="video-js"===this.tag.tagName.toLowerCase();i?e=this.el_=t.parentNode:s||(e=this.el_=super.createEl("div"));const n=oe(t);if(s){for(e=this.el_=t,t=this.tag=document.createElement("video");e.children.length;)t.appendChild(e.firstChild);ie(e,"video-js")||se(e,"video-js"),e.appendChild(t),i=this.playerElIngest_=e,Object.keys(eatch(e){}}))}if(t.setAttribute("tabindex","-1"),n.tabindex="-1",N&&F&&(t.setAttribute("role","application"),n.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in n&&delete n.width,"height"in n&&delete n.height,Object.getOwnPropertyNames(ne(i,n[i])})),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=e.player=this,this.addClass("vjs-paused"),!0!==window.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Pe("vjs-styles-dimensions");const e=Se(".vjs-styles-defaults"),t=Se("head");t.insertBefore(this.styleEl_,e?e.nextSibling:t.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const r=t.getElementsByTagName("a");for(let e=0;e<r.length;e++){const t=r.item(e);se(t,"vjs-hidden"),t.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!i&&t.parentNode.insertBefore(e,t),te(t,e),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),th "${e}"`)}width(e){return this.dimension(El_()}updateStyleEl_(){if(!0===window.VIDEOJS_NO_DYNAMIC_STYLE){const e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,i=this.tech_&&this.tech_.el();return void(i&&(e>=0&&(i.width=e),t>=0&&(i.height=t)))}let e,t,i,s;i=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";const n=i.split(":"),r=n[1]/n[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*r,s=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(s),Oe(this.styleEl_,`\n      .${s} {\n        width: ${e}px;\n        height: ${t}px;\n      }\n\n      .${s}.vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: ${100*r}%;\n      }\n    `)}loadTech_(e,t){this.tech_&&this.unloadTech_();const i=ft(e),s=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(Ui.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;let n=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(n=!1);const r={source:t,autoplay:n,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${s}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Ni.namevateName]})),Object.assign(r,this.options_[i]),Object.assign(r,this.options_[s]),Object.assign(r,this.options_[e.toLowerCase()]),this.tag&&(r.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(r.startTime=this.cache_.currentTime);const a=Ui.getTech(e);if(!a)throw new Error(`No Tech named '${i}' exists! '${i}' should be registered using videojs.registerTech()'`);this.tech_=new a(r),this.tech_.ready(Ye(this,this.handleTechReady_),!0),qt.jsonToTextTracks(this.textTracksJson_||[],this.tech_),t}_`](t)))})),Object.keys(ir_`](t)}))})),this.on(this.tech_,"loadstart",(e=>this.handleTechLoadStart_(e))),this.on(this.tech_,"sourceset",(e=>this.handleTechSourceset_(e))),this.on(this.tech_,"waiting",(e=>this.handleTechWaiting_(e))),this.on(this.tech_,"ended",(e=>this.handleTechEnded_(e))),this.on(this.tech_,"seeking",(e=>this.handleTechSeeking_(e))),this.on(this.tech_,"play",(e=>this.handleTechPlay_(e))),this.on(this.tech_,"pause",(e=>this.handleTechPause_(e))),this.on(this.tech_,"durationchange",(e=>this.handleTechDurationChange_(e))),this.on(this.tech_,"fullscreenchange",((e,t)=>this.handleTechFullscreenChange_(e,t))),this.on(this.tech_,"fullscrrror_(e,t))),this.on(this.tech_,"enterpictureinpicture",(e=>this.handleTechEnterPictureInPicture_(e))),this.on(this.tech_,"leavepictureinpicture",(e=>this.handleTechLeavePictureInPicture_(e))),this.on(this.tech_,"error",(e=>this.handleTechError_(e))),this.on(this.tech_,"posterchange",(e=>this.handleTechPosterChange_(e))),this.on(this.tech_,"textdata",(e=>this.handleTechTextData_(e))),this.on(this.tech_,"ratechange",(e=>this.handleTechRateChange_(e))),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||te(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,thisndleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger(toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const t=e.target.player;if(t&&t!==this)return;const i=this.el();let s=document[this.fsApi_.fullscreenElement]===i;!s&&i.matches&&(s=i.matches(":"+this.fsApi_.fullscreen)),this.isFulcture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPata",e)}getCache(){return tvolume:1,e}}),!0)}techGet_(e){if(this.tech_&&this.tech_.isReady_){if(e in Gi)return Vi(this.middleware_,this.tech_,e);if(e in Ki)return Wi(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw g(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,t),t;if("TypeError"===t.name)throw g(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,t),this.tech_.isReady_=!1,t;thro(e)}))}pause(){this.techCallFullscreenHelper_(e){let t;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){const e=this.el_[this.fsApi_.requestFullscreen](t);return e&&e.then((()=>this.isFullscreen(!0)),(()=>this.isFullscreen(!1))),e}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFu(t,i))}))}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=document[this.fsApi_.exitFullscreen]();return e&&screen(!1)))),e}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFuture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&window.documentPictureInPicture){const e=document.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(Z("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),window.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeightre")})),t)))}return"pictureInPictureEnabled"in document&&!1===this.disablePictureInPicture()?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is aeys(e)))}handleHotkeys(e){const t=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:i=(e=>St.isEventKey(e,"f")),Key(e,"m")),playPe,"Space"))}=t;if(i.call(this,e)){e.preventDefault(),e.stopPropagation();const t=wt.getComponent("FullscreenToggle");!1!==document[this.fsApi_.fullscreenEnabled]&&t.prototype.handleClick.call(this,e)}else s.call(this,e)?(e.preventDefault(),e.stopPropagation(),wt.getComponent("MuteToggle").prototype.handleClick.call(this,e)):n.call(this,e)&&(e.preventDefault(),e.stopPropagation(),wt.getComponent("PlayToggle").prototype.handleClick.cal}return""}selectSource(e){const t=this.options_.techetTech(e)]ech.!0})))),s};leti)i,tech:e}};return s=this.options_.sourceOrder?i(e,t,n(r)):i(t,e,r),s||!1}handleSrc_(e,t){if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const i=ns(e);if(i.length){if(this.changingSrc_=!0,t||(this.cache_.sources=i),this.updateSourceCaches_(i[0]),$i(this,i[0],((e,s)=>{if(this.middleware_=s,t||(this.cache_.sources=i),this.updateSourceCaches_(e),this.src_(e))return i.length>1?this.handleSrc_(i.slice(1)):(this.changingSrc_=!1,this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0),void this.triggerReady());Hi(s,this.tech_)})),i.length>ceerror",e)};this.one("error",e),this.one("playing",t),this.resetRetryOnError_=()=>{this.off("error",e),this.off("playing",t)}}}else this.sMess()}resetVolumeBar_(){this.volume(1),this.trigger("voluurce||{}}currentSrc(){return this.currentSource()&&this.currentSource.type||""}preload(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_())}reportUserActivity(e){this.userAcactive")}}listenForUserActivity_(){let e,t,i;const s=Ye(this,this.reportUserAeenY,s())},r=function(){s(),this.clearInterval(e),e=this.setInterval(s,250)},a=function(t){s(),this.clearInterval(e)};this.on("mousedown",r),this.on("mousemove",n),this.on("mouseup",a),this.on("mouseleave",a);const o=this.getChild("controlBar");let l;!o||V||D||(o.on("moTimeout=0})),o.on("motyTimeout}))),this.on("keydown",s),this.on("keyup",!1)}),e))};this.setInter()))}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermock(t)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.video0}currentBreakpoint(){return this.be"))}}Ni.nameteName])}})),ar.prototype.crossorigin=ar.prototype.crossOrigin,ar.players={};const or=window.navigator;ar.prototype.options_={techOrder:Ui.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:or&&(or.languages&&or.languages[0]||or.userLanguage||or.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"hGet_(e)}})),tigger(e)}})),wt.registerComponent("Player",ar);const lr="plugin",dr="activePlugins_",hr={},ur=e=>hr.hasOwnProp[e]dr]t.nt[eash()),s}.dispose)}version(){return this.constructHash(t))}handleStateC||""}}function _r(e,t){let iy(this,s)}}function vr(e,t,i,s){return _r(`${t} is deprecated and will be removed in ${e}.0; please use ${i} instead.`,s)}yr.getPlugin=cr,yr.BASE_PLUGIN_NAME=lr,yr.registerPlugin(lr,yr),ar.prototype.uis[dr][e]},ar.prototypern!!ur(e)slice(1):e;function Tr(e,t,i){let s=Tr.getPlayer(e);if(s)return t&&g.warn(`Player "${e}" is already initialised. Options will not be applied.`),i&&s.ready(i),s;const r="string"==typeof e?Se("#"+br(e)):e;if(!Y(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a="getRootNode"in r&&r.getRootNode()instanceof window.ShadowRoot?r.getRootNode():r.ownerDocument.body;r.ownerDocument.defaultView&&a.contains(r)||g.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(r.parentNode&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),n("beforesetup"p hooks")}));const o=wt.getComponent("Player");return s=new o(r,t,i),n("setup").forEach((e=>e(s))),s}if(Tr.hooks_=t,Tr.hooks=n,Tr.hook=r,Tr.hookOnce=o,Tr.removeHook=a,!0!==window.VIDEOJS_NO_DYNAMIC_STYLE&&K()){let Fg=Se(".vjs-styles-defaults");if(!Fg){Fg=Pe("vjs-styles-defaults");const jg=Se("head");jg&&jg.insertBefore(Fg,jg.firstChild),Oe(Fg,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}De(1,Tr),Tr.VERSION=e,Tr.options=ar.prototype.options_,Tr.ar.players,Tr e||t[s]}},Tr.getr(Boolean),Tr.players=ar.players,Tr.getComponent=wt.getComponent,Tr.registel(wt,e,t)),Tr.getTech=Ui.getTech,Tr.registerTech=Ui.registerTech,Tr.use=qi,Object.defineProperty(Tr,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Tr.middleware,"TERMINATOR",{value:ji,writeable:!1,enumerable:!0}),Tr.browser=W,Tr.obj=C,Tr.mergeOptions=vr(9,"videojs.mergeOptions","videojs.obj.merge",w),Tr.defineLazyProperty=vr(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",k),Tr.bind=vr(9,"videojs.bind","native Function.prototype.bind",Ye),Tr.registerPlugin=yr.registerPlugin,Tr.deregisterPlugin=yr.deregisterPluginugin(e,t)),Tr.getPlugins=yr.getPlugins,Tr.getPlugin=yr.getPlugin,Tr.getPluginVersion=yr.getPluginVersion,Tr.aguages[e]},Tr.log=g,Tr.createLogger=f,Tr.time=Ot,Tr.createTimeRange=vr(9,"videojs.createTimeRange","videojs.time.createTimeRanges",xt),Tr.createTimeRanges=vr(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",xt),Tr.formatTime=vr(9,"videojs.formatTime","videojs.time.formatTime",Pt),Tr.setFormatTime=vr(9,"videojs.setFormatTime","videojs.time.setFormatTime",Dt),Tr.resetFormatTime=vr(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",Lt),Tr.parseUrl=vr(9,"videojs.parseUrl","videojs.url.parseUrl",si),Tr.isCrossOrigin=vr(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",ai),Tr.EventTarget=tt,Tr.any=Ge,Tr.on=He,Tr.one=We,Tr.off=Ve,Tr.trigger=ze,Tr.xhr=yi,Tr.TextTrack=Ii,Tr.AudioTrack=Ai,Tr.VideoTrack=Di,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"guments)}})),Tr.computedStyle=vr(9,"videojs.computedStyle","videojs.dom.computedStyle",Ee),Tr.dom=Ce,Tr.fn=Ze,Tr.num=Ds,Tr.str=_t,Tr.url=oi,Tt((funcrts=i(Tr)}(0,(fefault:e}}var i=t(e);class s{_(e)}}),t}}class n extends i.default.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"ls_.length}}),e[Symbol_.ngth=0}}n.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const e in n.prototype.allowedEvents_)n.prototype["on"+e]=null;var r="4.0.RSION=r,s},o=function(e){return a(this,i.default.obj.merge({},e))};return i.default.registerPlugin("qualityLevels",o),o.VERSION=r,o}))}));exports=a})),wr="http://example.com",Er=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=window.location&&window.location.href||"");var i="function"==typeof window.URL,s=/^\/\//.test(e),n=!window.location&&!/\/\//i.test(e);if(i?e=new window.URL(e,window.location||wr):/\/\//i.test(e)||(e=Sr.buildAbsoluteURL(window.location&&window.location.href||"",e)),i){var r=new URL(t,e);return n?r.href.slice(wr.length):s?r.href.slice(r.protocol.length):r.href}return Sr.buildAbsoluteURL(e,t)},kr=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(i,1),i>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,s=0;s<i;++s)t[s].call(this,arguments[1]);else for(var n=Array.prototype.slice.call(arguments,1),r=t.length,a=0;a<r;++a)t[a].apply(this,n)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}(),Cr=function(e){return window.atob?window.atob(e):s.from(e,"base64").toString("binary")};function xr(e){for(var t=Cr(e),i=new Uint8Array(t.length),s=0;s<t.length;s++)i[s]=t.charCodeAt(sing(t+1)}}const Ar=String.fromChar2],[^,]*))')},Pr=function(e){const t={};if(!e)return t;const i=e.split(Lr());let s,n=i.length;for(;n--;)""!==i[n]&&(s=/([^=]*)=(.*)/.exec(i[n]).slice(1),s[0]=s[0].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1"),t[s[0]]=s[1]);return t};class Or appers=[]}push(e){let t,i;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappencat([s])}),[e]).forEach((e=>{for(let t=0;t<this.customParsers.length;t++)if(this.customParsers[t].call(this,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e),t)this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(e),t)return i={type:"tag",tagType:"inf"},t[1]&&(i.duration=parseFloat(t[1])),t[2]&&(i.title=t[2]),void this.trigger("data",i);if(t=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(e),t)return i={type:"tag",tagType:"targetduration"},t[1]&&(i.duration=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-VERSION:([0-9.]*)?/.exec(e),t)return i={type:"tag",tagType:"version"},t[1]&&(i.version=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(e),t)return i={type:"tag",tagType:"media-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(e),t)return i={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(e),t)return i={type:"tag",tagType:"playlist-type"},t[1]&&(i.playlistType=t[1]),void this.trigger("data",i);if(t=/^#EXT-X-BYTERANGE:(.*)?$/.exec(e),t)return i=hi(Dr(t[1]),{type:"tag",tagType:"byterange"}),void this.trigger("data",i);if(t=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(e),t)return i={type:"tag",tagType:"allow-cache"},t[1]&&(i.allowed=!/NO/.test(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-MAP:(.*)$/.exec(e),t){if(i={type:"tag",tagType:"map"},t[1]){const e=Pr(t[1]);e.URI&&(i.uri=e.URI),e.BYTERANGE&&(i.byterange=Dr(e.BYTERANGE))}this.trigger("data",i)}else if(t=/^#EXT-X-STREAM-INF:(.*)$/.exec(e),t){if(i={type:"tag",tagType:"stream-inf"},t[1]){if(i.attributes=Pr(t[1]),i.attributes.RESOLUTION){const e=i.attributes.RESOLUTION.split("x"),t={};e[0]&&(t.width=parseInt(e[0],10)),e[1]&&(t.height=parseInt(e[1],10)),i.attributes.RESOLUTION=t}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}this.trigger("data",i)}else{if(t=/^#EXT-X-MEDIA:(.*)$/.exec(e),t)return i={type:"tag",tagType:"media"},t[1]&&(i.attributes=Pr(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-ENDLIST/.exec(e),t)this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e),t)this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(e),t)return i={type:"tag",tagType:"program-date-time"},t[1]&&(i.dateTimeString=t[1],i.dateTimeObject=new Date(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-KEY:(.*)$/.exec(e),t)return i={type:"tag",tagType:"key"},t[1]&&(i.attributes=Pr(t[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void this.trigger("data",i);if(t=/^#EXT-X-START:(.*)$/.exec(e),t)return i={type:"tag",tagType:"start"},t[1]&&(i.attributes=Pr(t[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(e),t)return i={type:"tag",tagType:"cue-out-cont"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT:(.*)?$/.exec(e),t)return i={type:"tag",tagType:"cue-out"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-IN:(.*)?$/.exec(e),t)return i={type:"tag",tagType:"cue-in"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-SKIP:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"skip"},i.attributes=Pr(t[1]),i.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(i.attributes["SKIPPED-SEGMENTS"]=parseInt(i.attributes["SKIPPED-SEGMENTS"],10)),i.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(i.attributes["RECENTLY-REMOVED-DATERANGES"]=i.attributes["RECENTLY-REMOVED-DATERANGES"].split(Ar)),void this.trigger("data",i);if(t=/^#EXT-X-PART:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"part"},i.attributes=Pr(t[1]),["DURATION"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))})),["INDEPENDENT","GAP"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=/YES/.test(i.attributes[e]))})),i.attributes.hasOwnProperty("BYTERANGE")&&(i.attributes.byterange=Dr(i.attributes.BYTERANGE)),void this.trigger("data",i);if(t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"server-control"},i.attributes=Pr(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=/YES/.test(i.attributes[e]))})),void this.trigger("data",i);if(t=/^#EXT-X-PART-INF:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"part-inf"},i.attributes=Pr(t[1]),["PART-TARGET"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))})),void this.trigger("data",i);if(t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"preload-hint"},i.attributes=Pr(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"butes[e]}})),void this.trigger("data",i);if(t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"rendition-report"},i.attributes=Pr(t[1]),["LAST-MSN","LAST-PART"s[e],10))})),void this.trigger("data",i);if(t=/^#EXT-X-DATERANGE:(.*)$/.exec(e),t&&t[1]){i={type:"tag",tagType:"daterange"},i.attributes=Pr(t[1]),["ID","CLASS"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=String(i.attributes[e]))})),["START-DATE","END-DATE"utes[e]))})),["DURATION","PLANNED-DURATION"utes[e]))})),["END-ON-NEXT"utes[e]))})),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"ring(16))}));const e=/^X-([A-Z]+-)+[A-Z]+$/;for(const t in i.attributes){if(!e.test(t))continue;const s=/[0-9A-Fa-f]{6}/g.test(i.attributes[t]),n=/^\d+(\.\d+)?$/.test(i.attributes[t]);i.attributes[t]=s?i.attributes[t].toString(16):n?parseFloat(i.attributes[t]):String(i.attributes[t])}this.trigger("data",i)}else if(t=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(e),t)this.trigger("data",{type:"tag",tagType:"independent-segments"});else{if(t=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(e),t)return i={type:"tag",tagType:"content-steering"},i.attributes=Pr(t[1]),void this.trigger("data",i);this.trigger("data",{type:"tag",data:e.slice(4)})}}}}else this.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uris}),!0}))}addTagMapper({expression:e,map:t(i)?t(i):i;this.tagMappers.push(i)erCe[i),t[a]=l)};class Ur extends kr{constructor(){super(),this.lineStream=new Ir,this.parseStream=new Or,this.lineStream.pipe(this.parseStream),this.lastProgramDateTime=null;const e=this,t=[];let i,s,n={},r=!1;const a=function(){},o={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},l="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let d=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],segments:[]};let h=0,u=0;const c={};thisegment=n)})),this.parseStream.on("data",(function(p){let m,g;({tag(.version)},"aCache=!0)+e.length},endlist(){this.manifest.endLegments=t},key(){if(p.attributes)if("NONE"!==p.attributes.METHOD)if(p.attributes.URI){if("com.apple.streamingkeydelivery"===p.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:p.attributes});if("com.microsoft.playready"===p.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:p.attributes.URI});if(p.attributes.KEYFORMAT===l)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(p.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===p.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==p.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):p.attributes.KEYID&&"0x"===p.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:p.attributes.KEYFORMAT,keyId:p.attributes.KEYID.substring(2)},pssh:xr(p.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));p.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:p.attributes.METHOD||"AES-128",uri:p.attributes.URI},void 0!==p.attributes.IV&&(s.iv=p.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else s=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"medi.number})},"discontinuit.number})},"plalay(i.key=s)},"ibutes.NAME]=g},dit.length)},"programDateTime)},taranifee list"})},"cue-out"(){n.cueOut=p.data},"cue-out-cont"(){n.cueOutCont=p.datIn=p.data},skip(){this.manifest.skip=Rr(p.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",p.attributes,["SKIPPED-SEGMENART`})}))},"servis set"})},"pr#${i}`})}},"renditibutes,i)}manifest)},daterange(){this.manifest.dateRanges.push(Rr(p.attributes));const e=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${e}`,p.attributes,["ID","START-DATE"]);const t=this.manifest.dateRanges[e];t.endDate&&t.startDate&&new Date(t.endDate)<new Date(t.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),t.duration&&t.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),t.plannedDuration&&t.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const i=!!t.endOnNext;if(i&&!t.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),i&&(t.duration||t.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),t.duration&&t.endDate){const i=t.startDate.getTime()+1e3*t.duration;this.manifest.dateRanges[e].endDate=new Date(i)}if(c[t.id]){for(const e in c[t.id])if(t[e]&&JSON.stringify(c[t.id][e])!==JSON.stringify(t[e])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const e=this.manifest.dateRanges.findIndex((e=>e.id===t.id));this.manifest.dateRanges[e]=hi(this.manifest.dateRanges[e],t),c[t.id]=hi(c[t.id],t),this.manifest.dateRanges.pop()}else c[t.id]=t},"independengments=!0},"contenER-URI"])}}[p.tagType]||a).cion),n={}},comment]=p.data)}})[p.type].", ")}`})}push(e){this.lineStreer("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var Br,Fr,jr={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},qr=["video","audio","text"],$r=["Video","Audio",(-2n"}turn null},Wr=function(e){return void 0===e&&(e=""),jr.audio.test(e.trim().toLowerCerC"'+r(eturn!1}))},Qr="mp4a.40.2",Jr="avc1.4d400d",Zr=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,ea=/^application\/dashson2).(ia(e)/8)},na=function(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},ra=function(e){returnngth||0))},oa=window.BigInt||Number,la=[oa("0x1"),oa("0x100"),oa("0x10000"),oa("0x1000000"),oa("0x100000000"),oa("0x10000000000"),oa("0x1000000000000"),oa("0x100000000000000"),oa("0x10000000000000000")];Br=new Uint16Array([65484]),255===(Fr=new Uint8Array(Br.buffer,Br.byteOffset,Br.byteLength))[0]||FrNum}re;rengt[r+i])}))},ma="http://exampeUR,s,ze(e):e}function Ta(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}var Sa=ba({HTML:"text/html",isHTML:function(e){return e===Sa.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),wa=ba({HTML:"http://www.w3.org/1999/xht==wa.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"}),Ea={assign:Ta,find:va,freeze:ba,MIME_TYPE:Sa,NAMESPACE:wa},ka=Ea.find,Ca=Ea=e)}var Na={},Ra=Na.ELEMENT_NODE=1,Ma=Na.ATTRIBUTE_NODE=2,Ua=Na.TEXT_NODE=3,Ba=Na.CDATA_SECTION_NODE=4,Fa=Na.ENTITY_REFERENCE_NODE=5,ja=Na.ENTITY_NODE=6,qa=Na.PROCESSING_INSTRUCTION_NODE=7,$a=Na.COMMENT_NODE=8,Ha=Na.DOCUMENT_NODE=9,Va=Na.DOCUMENT_TYPE_NODE=10,za=Na.DOCUMENT_FRAGMENT_NODE=11,Wa=Na.NOTATION_NODE=12,Ga={},Xa={};Ga.INDEX_SIZE_ERR=(Xa[1]="Index size error",1),Ga.DOMSTRING_SIZE_ERR=(Xa[2]="DOMString size error",2);var Ka=Ga.HIERARCHY_REQUEST_ERR=(Xa[3]="Hierarchy request error",3);Ga.WRONG_DOCUMENT_ERR=(Xa[4]="Wrong document",4),Ga.INVALID_CHARACTER_ERR=(Xa[5]="Invalid character",5),Ga.NO_DATA_ALLOWED_ERR=(Xa[6]="No data allowed",6),Ga.NO_MODIFICATION_ALLOWED_ERR=(Xa[7]="No modification allowed",7);var Ya=Ga.NOT_FOUND_ERR=(Xa[8]="Not found",8);Ga.NOT_SUPPORTED_ERR=(Xa[9]="Not supported",9);var Qa=Ga.INUSE_ATTRIBUTE_ERR=(Xa[10]="Attribute i": "+t),i}func._inc=t}}func=null)}}function ao(){}func)}function _o(e){return e&&e.nodeType===oo.DOCUMENT_TYPE_NODE}function vo(e){return e&&e.nodeType===oo.EL,t}function Io(){this._nsMap={}}function Ao(){}function Do(){}function Lo(){}function Po(){}function Oo(){}function No(){}function Ro(){}function Mo(){}function Uo(){}function Bo(){}function Fo(){}funco),'"')}function Vo(e,t,i,s,n){if(n||(n=[]),s){if(!(e=s(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case Ra:var r=e.attributes,a=r.length,o=e.firstChild,l=e.tagName,d=l;if(!(i=Ca.isHTML(e.namespaceURI)||i)&&!e.prefix&&e.namespaceURI){for(var h,u=0;u<r.length;u++)if("xmlns"===r.item(u).name){h=r.item(u).value;break}if(!h)for(var c=n.length-1;c>=0;c--)if(""===(p=n[c]).prefix&&p.namespace===e.namespaceURI){h=p.namespace;break}if(h!==e.namespaceURI)for(c=n.length-1;c>=0;c--){var p;if((p=n[c]).namespace===e.namespaceURI){p.prefix&&(d=p.prefix+":"+l);break}}}t.push("<",d);for(var m=0;m<a;m++)"xmlns"==(g=r.item(m)).prefix?n.push({prefix:g.localName,namespace:g.value}):"xmlns"==g.nodeName&&n.push({prefix:"",namespace:g.value});for(m=0;m<a;m++){var g,f,y;$o(g=r.item(m),i,n)&&(Ho(t,(f=g.prefix||"")?"xmlns:"+f:"xmlns",y=g.namespaceURI),n.push({prefix:f,namespace:y})),Vo(g,t,i,s,n)}if(l===d&&$o(e,i,n)&&(Ho(t,(f=e.prefix||"")?"xmlns:"+f:"xmlns",y=e.namespaceURI),n.push({prefix:f,namespace:y})),o||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),i&&/^script$/i.test(l))for(;o;)o.data?t.push(o.data):Vo(o,t,i,s,n.slice()),o=o.nextSibling;else for(;o;)Vo(o,t,i,s,n.slice()),o=o.nextSibling;t.push("</",d,">")}else t.push("/>");return;case Ha:case za:for(o=e.firstChild;o;)Vo(o,t,i,s,n.slice()),o=o.nextSibling;return;case Ma:return Ho(t,e.name,e.value);case Ua:return t.push(e.data.replace(/[<&>]/g,lo));case Ba:return t.push("<![CDATA[",e.data,"]]>");case $a:return t.push("\x3c!--",e.data,"--\x3e");case Va:var _=e.publicId,v=e.systemId;if(t.push("<!DOCTYPE ",e.name),_)t.push(" PUBLIC ",_),v&&"."!=v&&t.push(" ",v),t.push(">");else if(v&&"."!=v)t.push(" SYSTEM ",v,">");else{var b=e.internalSubset;b&&t.push(" [",b,"]"),t.push(">")}return;case qa:return t.push("<?",e.target," ",e.data,"?>");case Fa:return t.push("&",e.nodeName,";");default:t.push("??",e.{e[t]=i}Ga.INVALID_STATE_ERR=(Xa[11]="Invalid state",11),Ga.SYNTAX_ERR=(Xa[12]="Syntax error",12),Ga.INVALID_MODIFICATION_ERR=(Xa[13]="Invalid modification",13),Ga.NAMESPACE_ERR=(Xa[14]="Invalid namespace",14),Ga.INVALID_ACCESS_ERR=(Xa[15]="Invalid access",15),Ja.prototype=Error.prototype,Pa(Ga,Ja),Za.prototype={lens[e]:null.join("")},filter:function(e){return Array.prototype.filter.call(this,el(this,e)}},eo.prot[e]||null},Oa(eo,Za),io.prototype={length:0,item:Za.prototype.item,gereturn i}},seis,e,i),i},setNis,e,t),t},removthis,t),t},removeNthis,i),i},getNturn null}},ao.prototype={{return!0},crea}return s},createDod=i||"",s}},oo.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Co(this,e,t)},reeChild(t)},ro(this,e)},ae(e,null)},hasirstChild}s,this,e)}e(),e=t)}},iture(e,t)},has.length>0},loturn null},lookupNaturn null},isDefaulPrefix(e)}},Pa(Na,oo),Pa(Na,oo.prototype),uo.prototype={nodeName:"#document",nodeType:Ha,doctype:null,documentElement:null,_inc:1,inment=e),e},ro(this,e)},relement=e)},this,e,t)},getEi,!0})),t},getElementsB}})),s}))},creement=t,t},createDocume=new Za,e},createTextNode:function(e){var t=new Lo;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new Po;return t.ownerDocument=this,t.appendData(e),t},createCDData(e),t},createProcessingI.data=t,i},creatfied=!0,t},createEntiteName=e,t},createment=i,i},createAlName=t,i}},Oa(uo,oo),Io.prototype={nodeType:Ra,hateNode(e)},gevalue||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},seteNode(i)},removteNode(t)},ao(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttnodeName)},removeAteNode(i)},hasAdeNS(e,t)},getAvalue||""},setAteNode(s)},getAttriemNS(e,t)},getElement)})),i}))},getElementsB)})),s}))}},uo.prototype.getElementsByTagName=Io.prototype.getElementsByTagName,uo.prototype.getElementsByTagNameNS=Io.prototype.getElementsByTagNameNS,Oa(Io,oo),Ao.prototype.nodeType=Ma,Oa(Ao,oo),Do.prototype={data:"",subng(e,e+t)},=e.length},ta(e,0,t)},ar(Xa[Ka])},a(e,t,"")},r=i.length}},Oa(Do,oo),Lo.prototype={nodeName:"#text",nodeType:Uaibling),s}},Oa(Lo,Do),Po.prototype={nodeName:"#comment",nodeType:$a},Oa(Po,Do),Oo.prototype={nodeName:"#cdata-section",nodeType:Ba},Oa(Oo,Do),No.prototype.nodeType=Va,Oa(No,oo),Ro.prototype.nodeType=Wa,Oa(Ro,oo),Mo.prototype.nodeType=ja,Oa(Mo,oo),Uo.prototype.nodeType=Fa,Oa(Uo,oo),Bo.prototype.nodeName="#document-fragment",Bo.prototype.nodeType=za,Oa(Bo,oo),Fo.prototype.nodeType=qa,Oa(Fo,oo),jo.prototype.serialill(e,t,i)},oo.prototype.toString=qo;try{if(Object.definodeValue}}Object.defineProperty(eo.prototype,"le.$$length}}),Object.defineProperty(oo.prototype,"textCon qg(eValu"$$"+t]=i}}}catch($g){}var Xo={DocumentType:No,DOMException:Ja,DOMImplementation:ao,Element:Io,Node:oo,NodeList:Za,XMLSerializer:,target:"â",Tau:"Î¤",tau:"Ï",tbrk:"â´",Tcaron:"Å¤",tcaron:"Å¥",Tcedil:"Å¢",tcedil:"Å£",Tcy:"Ð¢",tcy:"Ñ",tdot:"â",telrec:"â",Tfr:"ð",tfr:"ð±",there4:"â´",Therefore:"â´",therefore:"â´",Theta:"Î",theta:"Î¸",thetasym:"Ï",thetav:"Ï",thickapprox:"â",thicksim:"â¼",ThickSpace:"ââ",thinsp:"â",ThinSpace:"â",thkap:"â",thksim:"â¼",THORN:"Ã",thorn:"Ã¾",Tilde:"â¼",tilde:"Ë",TildeEqual:"â",TildeFtop:"â¤",topbot:"â¶",topcir:"â«±",T",uarr:"â",Uarrocir:"â¥",Ubrcy:"Ð",ubrcy:"Ñ",Ubreve:"Å¬",ubreve:"Å­",Ucirc:"Ã",ucirc:"Ã»",Ucy:"Ð£",ucy:"Ñ",udarr:"â",Udblac:"Å°",udblac:"Å±",udhar:"â¥®",ufisht:"â¥¾",Ufr:"ð",ufr:"ð²",Ugrave:"Ã",ugrave:"Ã¹",uHar:"â¥£",uharl:"â¿",uharr:"â¾",uhblk:"â",ulcorn:"â",ulcorner:"â",ulcrop:"â",ultri:"â¸",Umacr:"Åª",umacr:"Å«",uml:"Â¨",UnderBar:"_",UnderBrace:"â",UnderBracket:"âµ",UnderParenthesis:"â",Union:"â",UnionPlus:"â",Uogon:"Å²",uogon:"Å³",Uopf:"ð",uopf:"ð¦",UpArrow:"â",Uparrow:"â",uparrow:"â",UpArrowBar:"â¤",UpArrowDownArrow:"â",UpDownArrow:"â",Updownarrow:"â",updownarrow:"â",UpEquilibrium:"â¥®",upharpoonleft:"â¿",upharpoonright:"â¾",uplus:"â",UpperLeftArrow:"â",UpperRightArrow:"â",Upsi:"Ï",upsi:"Ï",upsih:"Ï",Upsilon:"Î¥",upsilon:"Ï",UpTee:"â¥",UpTeeArrow:"â¥",upuparrows:"â",urcorn:"â",urcorner:"â",urcrop:"â",Uring:"Å®",uring:"Å¯",urtri:"â¹",Uscr:"ð°",uscr:"ð",utdot:"â°",Utilde:"Å¨",utilde:"Å©",utri:"âµ",utrif:"â´",uuarr:"â",Uuml:"Ã",uuml:"Ã¼",uwangle:"â¦§",vangrt:"â¦",varepsilon:"Ïµ",varkappa:"Ï°",varnothing:"â",varphi:"Ï",varpi:"Ï",varpropto:"â",vArr:"â",varr:"â",varrho:"Ï±",varsigma:"Ï",varsubsetneq:"âï¸",varsubsetneqq:"â«ï¸",varsupsetneq:"âï¸",varsupsetneqq:"â«ï¸",vartheta:"Ï",vartriangleleft:"â²",vartriangleright:"â³",Vbar:"â««",vBar:"â«¨",vBarv:"â«©",Vcy:"Ð",vcy:"Ð²",VDash:"â«",Vdash:"â©",vDash:"â¨",vdash:"â¢",Vdashl:"â«¦",Vee:"â",vert:"|",VerticalBar:"âopf:"ð§",vprop:"â",vrtri:"â³",Vscr:"ð±",vscr:"ð",vsubnE:"â«ï¸",vsubne:"âï¸",vsupnE:"â«ï¸",vsupne:"âï¸",Vvdash:"âª",vzigzag:"â¦",Wcirc:"Å´",wcirc:"Åµ",wedbar:"â©",Wedge:"â",wedge:"â§",wedgeq:"â",weierp:"â",Wfr:"ð",wfr:"ð´",Wopf:"ð",wopf:"ð¨",wp:"â",wr:"â",wreath:"â",Wscr:"ð²",wscr:"ð",xcap:"â",xcirc:"â¯",xcup:"â",xdtri:"â½",Xfr:"ð",xfr:"ðµ",xhArr:"âº",xharr:"â·",Xi:"Î",xi:"Î¾",xlArr:"â¸",xlarr:"âµ",xmap:"â¼",xnis:"â»",xodot:"â¨",Xopf:"ð",xopf:"ð©",xoplus:"â¨",xotime:"â¨",xrArr:"â¹",xrarr:"â¶",Xscr:"ð³",xscr:"ð",xsqcup:"â¨",xuplus:"â¨",xutri:"â³",xvee:"â",xwedge:"â",Yacute:"Ã",yacute:"Ã½",YAcy:"Ð¯",yacy:"Ñ",Ycirc:"Å¶",ycirc:"Å·",Ycy:"Ð«",ycy:"Ñ",yen:"Â¥",Yfr:"ð",yfr:"ð¶",YIcy:"Ð",yicy:"Ñ",Yopf:"ð",yopf:"ðª",Yscr:"ð´",yscr:"ð",YUcy:"Ð®",yucy:"Ñ",Yuml:"Å¸",yuml:"Ã¿",Zacute:"Å¹",zacute:"Åº",Zcaron:"Å½",zcaron:"Å¾",Zcy:"Ð",zcy:"Ð·",Zdot:"Å»",zdot:"Å¼",zeetrf:"â¨",ZeroWidthSpace:"â",Zeta:"Î",zeta:"Î¶",Zfr:"â¨",zfr:"ð·",ZHcy:"Ð",zhcy:"Ð¶",zigrarr:"â",Zopf:"â¤",zopf:"ð«",Zscr:"ðµ",zscr:"ð",zwj:"â",zwnj:"â"}),t.entityMap=t.HTML_ENTITIES}));Ko.XML_ENTITIES,Ko.HTML_ENTITIES,Ko.entityMap;var Yo=Ea.NAMESPACE,Qo=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Jo=new RegExp("[\\-\\.0-9"+Qo.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Zo=new RegExp("^"+Qo.source+Jo.source+"*(?::"+Qo.source+Jo.source+"*)?$"),el=0,tl=1,il=2,sl=3,nl=4,rl=5,al=6,ol=7;function ll(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,ll)}function dl(){}function hl(e,t,i,s,n){function r(e){if(e>65535){var t=55296+((e-=65536)>>10),i=56320+(1023&e);return String.fromCharCode(t,i)}return String.fromCharCode(e)}function a(e){var t=e.ject.prototype.hasOwnProperty.call(S,E)&&s.endPrefixMapping(E);w||n.fatalError("end tag name: "+b+" is not match the current start tagName:"+T.tagName)}else p.push(T);v++;break;case"?":c&&l(f),v=_l(e,f,s);break;case"!":c&&l(f),v=yl(e,f,s,n);break;default:c&&l(f);var k=new vl,C=p[p.length-1].currentNSMap,x=(v=cl(e,f,k,C,a,n),k.length);if(!k.closed&&gl(e,v,k.tagName,m)&&(k.closed=!0,i.nbsp||n.warning("unclosed xml attribute")),c&&x){for(var I=ul(c,{}),A=0;A<x;A++){var D=k[A];l(D.offset),D.locator=ul(c,{})}s.locator=I,pl(k,s,C)&&p.push(k),s.locator=c}else pl(k,s,C)&&p.push(k);Yo.isHTML(k.uri)&&!k.closed?v=ml(e,v,k.tagName,a,s):umber,t}function cl(e,t,i,s,n,r){fun?\w+;/g,n),s)}for(var o,l=++t,d=el;;){var h=e.charAt(l);switch(h){caak;case"'":case'"':if(d===)),t=l+1,e must after "="');a(o,u=e.slice(t,l),t),r.warning('attribute "'+o+'" missed start quot('+h+")!!"),t=l+1,d=rl}break;case"/":switch(d){case el:i.setTagName(e.slice(t,l));case rl:case al:case ol:d=ol,case il:i.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return r.ecked|selected)$/i)||r.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,t),t=l,d=tl;break;case rl:r.warning('attribute space is required"'+o+'"!!');case al:d=tl,t=l;break;case sl:d=nl,t=l;break;case ol:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function pl(e,t,i){for(var s=e.tagName,n=null,r=e.length;r--;){var a=e[r],o=a.qName,l=a.value;if((c=o.indexOf(":"))>0)var d=a.prefix=o.slice(0,c),h=o.slice(c+1),u.XMLNS,t.starn,!0;if(t.epping(d)}function m/^(?:script|textarea)$/i.test(i)){var r=e.indexOf("</(a=a.replace(/&#?\w+s(a,0,a.lent(t+2))return"-"===e.charAt(t+3)?(n=e.indexOf("--\x3e",t+4))>t?(i.comment(e,t+4,n-t-4),n+3):=e.substlength;if(a>1&&/!doctype/i.test(r[0][0])){var o=r[1][0],l=!1,d=!1;a>3&&(/^public$(e,t,i){var s=e.indexOf("?>",t);if(s){var n=e.substring(t,s).match(/^<\?(\S*)\s*(,n[2]),s+2)ames={}}function bl(e,t){var i,s=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=t,n.exec(e);i=n.exec(e);)if(s.push(i),i[1])return s}ll.prototype=new Error,lle,t,i){var s=this.domBuilder;s.startDocument(),fl(t,t={}),hl(e,t,i,s,this.errorHandrots[e={q{rencton(thintation,wl=Ea.NAMESPACE,El=Tl.ParseError,kl=Tl.XMLReader;function Cl(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function xl(e){this.options=e||{locator:{}}}function Il(e,t,i){if(!e){if(t instanceof Al)return t;e=t}var s={},n=e instanceof Function;function r(t){var r=e[t];!r&&n&&(r=2==e.length?function(i){e(t,i)}:e),s[t]=r&&function(e){r("[xmldom "+t+"]\t"+e+Ll(i))}||function(){}}return i=i||{},r("warning"),r("error"),r("fatalError"),s}function Al(){this.cdata=!1}function Dl(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function Ll(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function Pl(e,t,i){return"string"==typeof e?e.substr(t,i):e.length>=t+i||t?new java.lang.String(e,t,i)+"":e}function Ol(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}xl.prototype.parseFromString=function(e,t){var i=this.options,s=new kl,n=i.domBuilder||new Al,r=i.errorHandler,a=i.locator,o=i.xmlns||{},l=/\/x?html?$/.test(t),d=l?Ko.HTML_ENTITIES:Ko.XML_ENTITIES;a&&n.setDocumentLocator(a),s.errorHandler=Il(r,n,a),s.domBuilder=i.domBuilder||n,l&&(o[""]=wl.HTML),o.xml=o"==typeof =this.ltAttMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var i=this.doc.createProcessingInstruction(e,t);this.locator&&Dl(this.locator,i),Ol(this,i)},ignorableWhitespace:function(e,t,i){},characters:function(e,t,i){if(e=Pl.apply(this,arguments)){if(this.cdata)var s=this.doc.createCDATASection(e);else s=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(s):/^\s*$/.test(e)&&this.doc.appendChild(s),this.locator&&Dl(this.locator,s)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,i){e=Pl.apply(this,arguments);var s=this.doc.createComment(e);this.locator&&Dl(this.locator,s),Ol(this,s)},startCDATA:function(){this.cdata=!0},endCDATA:function(){:function(e,t,i){var s=this.doc.implementation;if(s&&s.createDocumentType){var n=s.createDocumentType(e,t,i);this.locator&&Dl(this.locator,n),Ol(this,n),this.doc.doctype=n}},warning:function(e){console.warn("[xmldom warning]\t"+e,Ll(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,Ll(this.locator))},fatalError:function(e){throw new El(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){Al.prototype[e]=function(){return null}}));var Nl={_=e=.foRl(=[];for(let s=e;s<t;s++)i.push(s);return i},Fl=e=>e.reduce(((e,t)=>e.concat(t)),[]),jl=e=>{if(!e.length)return[];const t=[];for(let i=0;i<e.length;i++)t.push(e[i]);return t},ql=(e,t)=>e.reduce(((e,i,s)=>(i[t]&&e.push(s),e)),[]),$l=(e,t)=>Ul(e.reduce(((e,i)=>(i.forID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const Vl=({baseUrl:e="",source:t="",range:i="",indexRange:s=""})=>{const n={uri:t,resolvedUri:ga(e||"",t)};if(i||"bi="bigint"==typeof a||"bigINTEGER&&(t=Number(t)),n.byterange={length:t,ofs/a}},dyncale:n(e.floseUreferences[e],o=a.referencedSize,d=a.subsegmentDuration;let f;f="bigint"==typeof p?p+window.BigInt(o)-window.BigInt(1):p+o-1;const y=Yl({baseUrl:i,timescale:l,timeline:r,periodStart:c,presentationTime:m,number:g,duration:d,sourceDuration:n,indexRange:`${p}-${f}`,type:u})[0];s&&(y.map=s),h.push(y),p+="bigint"==typeof p?window.BigInt(o):o,m+=d/l,g++}return e.segments=h,e},Jl=["AUDIO","SUBTITLES"],Zl=1/60,ed=e=>$l(e,(({timeline:e})=>e)).sort(((e,t)=>e.timeline>t.timeline?1nce:t})=>{e.medit n=t.se:e,newManifest:t})=>{const i=e.playlists.concat(id(e)),s=t.playlists.concat(id(t));return t.timelineSt.t t=redt.segments[0]&&(t.segments[0].discontinuity=!0),e[i].segments.push(...t.segments)),t.attributes.contentProtection&&(e[i].attributes.contentProtection=t.attributes.contentProtection)):(e[i]=t,e[i].attributes.timelineStarts=[]),e[i].attributes.timelineStarts.push({start:t.attributes.periodStart,timel}),{}));i=i.concat(t)})),i.map((e=>(e.discontinuityStarts=ql(e.segments||[],"discontinuity"),e)))},ld=(e,t)=>{const i=ad(e.sidx),s=i&&t[i]&&t[i].sidx;return s&&Ql(e,s,e.sidx.resolvedUri),e},dd=(e,t={})=>{if(!Object.keys(t).length)return e;for(const i in e)e[i]=ld(e[i],t);return e},hd=({attributes:e,segments:t,sidx:i,mediaSequence:s,discontinuitySequence:n,discontinuityStarts:r},a)=>{const o={attributes:{NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs,"PROst:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuitySequence:n,discontinuityStarts:r,timelineStarts:e.timelineStarts,mediaSequence:s,segments:t};return e.contentPrattation:e.duration,timelineStarts:e.timeli n=.atst e=r?` (${r})`:"";o=`${n.attributes.lang}${e}`}e[o]||(e[o]={language:a,autoselect:!0,default:"main"===r,playlists:[],uri:""});const l=ld(hd(n,i),t);return e[o].playlists.push(l),void 0===s&&"main"ud(i),")&&(e[s].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[s].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[s]["3D"]=t["3D"])})),e):e),{}),gd=({attributes:e,segments:t,sidx:i,disco"",endList:"static"==Type,yd=({attributeype||"audio"===e.contentType,_t"===e.contentType,vd=(e,t)=>{e.forEach((e=>{e.mediaSequence=0,e.discontinuitySequence=t.findIndex((function({timeline:t}){return t===e.timeline})),e.segments&&e.segments.forEach(((e,t)=>{e.number=t}))}))},bd=e=>e?Object.keys(e).reduce(((t,i)=>{const s=e[i];return t.concat(s.playlists)}),[]):[],Td=({dashPlay,eventStream:r})=>{if(!e.length)return{};const{sourceDuration:a,typeonDelay:l,minimumUpdatePeriod:d}=e[0].attributes,h=od(e.filter(fd)).map(gd),u=od(e.filter(yd)),c=od(e.filter(_d)),p=e.map((e=>e.attributes.captionServices)).filter(Boolean),m={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:dd(h,s)};d>=0&&(m.minimumUpdatePeriod=1e3*d),t&&(m.locations=t),i&&(m.contentSteering=i),.length>0&&(m.eventStream=r);const g=0===m.playlists.length,f=u.length?cd(u,s,g):null,y=c.length?pd(bd(y)),elinUBTITLES.subs=y),p.length&&(m.mediaGroups["CLOSED-CAPTIONS"].cc=md(p)),n?rd({oldManifest:n,newManifest:m}):m},Sd=(e,t,i)=>{const{NOW:s,clientOffset:n,availabilityStartTime:r,timescale:a=1,periodStart:o=0,minimumUpdatePeriod:l=0}=e,d=(s+n)/1e3+l-(r+o);return Math.ceil((d*a-t)/i)},wd=(e,t&(hart|0}Offset||0,o=e.periodStart+(t.time-a)/r;return{uri:s,timeline:t.timeline,duration:t.duration,resolvedUri:ga(e}}=e,n=Vl({baseUrl:i,source:s.sourceURL,range:s.range}),r=Vl({baseUrl:i,source:t.media,range:t.mediaRangtime-o)/a,s}=0;return n.attributes=i,n.segments=r,t.base&&i.indexRange&&(n.sidx=r[0],n.segments=[]),n},Pd=e=>e.map(Ld),Od=(e,t)=>jl(e.childNodes).filter((({tagName:e})=>e===t)),Nd=e=>e.textContent.trim(),Rd=e=>parseFloat(e.split("/").reduce(((e,t)=>e/t))),Md=e=>{const t=31536e3,i=2592e3,s=86400,n=3600,r=60,a=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!a)return 0;const[o,l,d,h,u,c]=a.slice(1);return parseFloat(o||0)*t+parseFloat,mirn t=parseInt(e,10);return isNaN(t)?Md(e):t},d(e){return parseInt(e,10)},t(e){return parseInt(e,10)},r(e){return parseInt(e,10)},presentationTime(e){return parseInt(e,10)},DEFAULT(e){return e}},Fd=e=>e&&e.attributes?jl(e.attributes).reduce(((e,t)=>{const i=Bd[t.name]||Bd.DEFAULT;return e[t.name]=i(t.value),e}),{}):{},jd={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21edcom.adobe.primetime"},qd=(e,t)=>t.length?Fl(e.map((function(e){return t.map((function(t){const i=Nd(t),s=ga(e.baseUrl,i),n=Ml(Fd(t),{baseUrl:s});return s!==i&&!n.serviceLocation&&e.serviceLocation&&(n.serviceLocation=e.serviceLocation),n}))}))):e,$d=e=>{const t=Od(e,"SegmentTemplate")[0],i=Od(e,"SegmentList")[0],s=i&&Od(i,"SegmentURL").map((e=>Ml({tag:"SegmentURL"},Fd(e)))),n=Od(e,"SegmentBase")[0],r=i||t,a=r&&Od(r,"SegmentTimeline")[0],o=i||n||t,l=o&&Od(o,"Initialization")[0],d=t&&Fd(t);d&&l?d.initialization=l&&Fd(l):d&&d.initialization&&(d.initialization={sourceURL:d.initialization});const h={template:d,segmentTimeline:a&&Od(a,"S").map((e=>Fd(e))),list:i&&Ml(Fd(i),{segmentUrls:s,initialization:Fd(l)}),base:n&&Ml(Fd(n),{initialization:Fd(l)})};return Object.keys(h).forEach((e=>{h[e]||delete h[e]})),h},Hd=(e,t,i)=>s=>{const n=Od(s,"BaseURL"),r=qd(t,n),a=Ml(e,Fd(s)),o=$d(s);return r.map((e=>({segmentInfo:Ml(i,o),attributes:Ml(a,e)})))},Vd=e=>e.reduce(((e,t)=>{const i=Fd(t);i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase());const s=jd[i.schemeIdUri];if(s){e[s]={attributes:i};const n=Od(t,"cenc:pssh")[0];if(n){const t=Nd(n);e[s].pssh=t&&_a(t)}}return e}),{}),zd=e=>"urn:scte:dash:cc:cea-608:2015"===e("string"!=typeof e.value?[]:e.value.split(";")).map((e=>{let t,i;return i=e,/^CC\d=/.test(e)?[t,i]=e.split("="):/^CC\d$/.test(e)&&(t=e),{channel:t,language:i}})):"urn:scte:dash:cc:cea-708:2015"===e.schemeIdUri?eturn{schemeIdUri:s,veOffset:i.presentationTimeOffset||0}}))}))),Gd=(e,t,i)=>s=>{const n=Fd(s),r=qd(t,Od(s,"BaseURL")),a=Od(s,"Roled(s,"Accessibility")[0],h=zd(Fd(d));h&&(l=Ml(l,{captionServices:h}));const u=Od(s,"Label")[0];if(u&&u.childNodes.length){const e=u.childNodes[0].nodeValue.trim();l=Ml(l,{label:e})}const c=Vd(Od(s,"ContentProtection"));Object.keys(c).length&&(l=Ml(l,{contentProtection:c}));const p=$d(s),m=Od(s,"Representation"),g=Ml(i,p);return Fl(m.map(Hd(l,r,g)))},Xd=(e,t)=>(i,s)=>{const n=qd(t,Od(i.node,"BaseURL")),r=Ml(e,{periodStart:i.attributes.start});"number"==typeof i.attributes.duration&&(r.periodDuration=i.attributes.duration);const a=Od(i.node,"AdaptationSet"),o=$d(i.node);return Fl(a.map(Gd(r,n,o)))},Kd=(e,t)=>{if(e.length>1&&t({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!e.length)return null;const i=Ml({serverURL:Nd(e[0])},Fd(e[0]));return i.queryBeforeStart="true"===i.queryBeforeStart,i},Yd=({attributes:e,priorPeriodAttributes:t,mpdType:i})=>"number"==typeof e.start?e.start:t&&"number"==typeof t.start&&"number"==typeof t.duratfesi}]NOWh((ations,contentSteeringInfo:Kd(h,r),representationInfo:Fl(u.map(Xd(l,d))),eventStream:Fl(u.map(Wd))}},Jd=e=>{if(""===e)throw new Error(Hl.DASH_EMPTY_MANIFEST);const t=new Nl;let i,s;try{i=t.parseFromString(e,"application/xml"),s=i&&"MPD"===i.documentElement.tagName?i.documentElement:null}catch(e){}if(!s||s&&s.getElementsByTagName("parsererror").length>0)throw new Error(Hl.DASH_INVALID_XML);return s},Zd=e=>{const t=Od(e,"UTCTiming")[0];if:ca Td({dashPlaylists:s,locations:i.locations,contping:t.sidxMapping,previousManifest:t.previousManifest,eventStream:i.eventStream})},th=e=>Zd(Jd(e));var ih=Math.pow(2,32),sh=function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.getBigUint64?(t=i.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:i.getUint32(0)*ih+i.getUint32(4)},nh=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUitationTime=t.getUint32(s),i.firstOffset=t.getUint32(s+4),s+=8):(i.earliestPrese2;vatart>>>4,s i},rh=aa([73,68,51]),ah=function(e,t){void 0===t&&(t=0);var i=10||!urn"ction(e){return Array.isArray(e)?e.map((function(e){return lh(e)}))=aa(tvar rt[r+2]<<8|t[r+3])>>>0,o=t.suth){if(s)break;l=t.length}var d=t.subarray(d,i.slice(1),s))),r=l}return n},uh={,73aa([174]),ion74]([136]),CodecID:aa([134]),CodecPrivate:aa([99,16AudioTrack:aa([225])]),Timestamp:aa([231215,177]),BlockGroupa([155]),Block:aa([161]),SimpleBlock:aa([163])},ch=[128,64,32,16,8,4,2,1],ph=function(e){for(varionsubarray(t,t+n);return i&&((r=Array.prototype.slice.call(e,t,t+n))[0]^=ch[n-1]),,2}/g).map((function(t){return e(t)})):"number"==typeof t?ha(t):t},fh=function(e){return Array.isArray(e)?e.map((function(e){return gh(e)})):[gh(e)]},yh=function e(t,i,s){if(s>h)}r(vn+rrra0;i[r+o+(,khiff"3g),m{va!paffs>=13). i}turToS{};et ngtturrn ,(fngt(i),tyt){a.push([i,s]),i=null,s=null);return zh(a)},eu=e=>{const t=[];length;i++)t.push(e.start(i)+" => "+e.end(i));return t.join(", ")},tu=function(e,t,i=1){return((e.length?e.end(e.length-1):0)-t)>{const t=[=0;i<e.length;i++)t.push({start:e.start(i),end:e.end(i)});return t}0;for(let i=0;i<e.let.serverControl.partHoldBack?t.serverControl.partHoldBack:i&&t.partTargetDuration?3*t.partTargetDuration:t.sgetDuration:0},uu=function(e,t){let i=0,s=t-e.mediaSequence,n=e.segments[s];if(n){if(void 0!==n.start)return{result:n.start,precise:!0};if(void 0!==n.end)rn.dentber);r{ret||esolength)return Eu(e,(e=>e.playlists&&e.playlists.length||e.uri));for(let t=0;t<e.playlists.length;t++){const i=e.playlists[t],s=i.attributes&&i.attributes.CODof s||"number"!ing:i,customTagParsers:s=[],customTagMappers:n=[],llhls:r})=>{const a=new Ur;e&&a.on("warn",e),t&&a.on("info",t),s.forEach((e=>a.addParser(e))),n.forEach((e=>a.addTagMapper(e))),a.push(i),a.end();const o=a.manifest;if(r||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(e){o.hasOwnProperty(e)&&delete o[e]})),o.segments&&o.segments.forEach((function(e){["parts","preloadHints"].forEach((function(t){e.hasOwnProperty(t)&&delete e[t]}))})))t=o.segments.reduce(((e,t)=>MaT-I.meu.wtio,i=Au)=>{e.uri=t;for(let t=0;t<e.playlists.length;t++)if(!e.playlists[t].uri){const i=`placeholder-uri-${t}`;e.playlists[t].uri=i}const s=ku(e);Lu(e,((t,n,r,a)=>{if(!t.playlists||!t.playlists.length){if(s&&"AUDIO"===n&&!t.uri)for(let t=0;t<e.playlists.length;t++){const i=e.playlists[t];if(i.attributes&&i.attributes.AUDIO&&i.attributes.AUDIO===r)return}t.playlists=[hi({},t)]}t.playlists.forEach((function(t,s){const o=i(n,r,a,t),l=Iu(s,o);t.uri?t.resolvedUri=t.resolvedUri||qh(e.uri,t.uri):(t.uri=0===s?o:l,t.resolvedUri=t.uri),t.id=t.id||l,t.attributes=t.attribuhis.pendateTime/1e3)}setPendProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach(((t,i)=>{t.startDate.getTime()<e&&this.processedDateRanges_.delete(i)}))}}const{EventTarget:Bu}=Tr,Fu=(e,t)=>{if(t.endList||!t.serverControl)return e;const i={};if(t.serverControl.ct.=qh(t,e.uri))}))},Hu=function(e){const t=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints)for(let e=0;e<i.preloadHints.length;e++)if("MAP"===i.preloadHints[e].type)return t;i.duration=e.targetDuration,i.preload=!0,t.push(i)}return t},Vu=(e,t)=>e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment,zu=(e,t,i=Vu)=>{const s=Vh(e,{}),n=s.playlists[t.id];if(!n)return null;if(i(n,t))return null;t.segments=Hu(t);const r=Vh(n,t);if(r.preloadSegment&&!t.preloadSegment&&delete r.preloadSegment,n.segments){if(t.skip){t.segments=t.segments||[];for(let e=0;e<t.skip.skippedSegments;e++)t.segments.unshift({skipped:!0})}r.segments=qu(n.segments,t.segments,t.mediaSequence-n.mediaSequence)}r.segments.forEach((e=>{$u(e,r.resolvedUri)}));for(let e=0;e<s.playlists.length;e++)s.playlists[e].id===t.id&&(s.playlists[e]=r);return s.playlists[t.id]=r,s.playlists[t.uri]=r,Lu(e,((e,i,s,n)=>{if(e.playlists)for(let i=0;i<e.playlists.length;i++)t.id===e.playlists[i].id&&(e.playlists[i]=r)})),s},Wu=(e,t)=>{const i=e.segments||[],s=i[i.length-1],n=s&&s.parts&&s.parts[s.parts.length-1],r=n&&n.duration||s&&s.duration;return t&&r?1e3*r:500*(e.partTargetDuration||e.targetDuration||10)};cl=t.is.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const t=this.dateRangesStorage_.getDateoTextTrack_&&this.addDateRangesToTextTrack_(t)}handleMediaupdatetimeout_(){if("HAVE_METADATA"!==this.state)return;cg:this.request.responseText,url:this.media().uri,id:this.media().id})}))}playlistRequestError(e,t,i){const{uri:s,id:n}=t;this.request=null,i&&(this.state=i),thitatus:e.status,message:`HLS playlist request error at URL: ${s}.`,responseText:e.resistate="HAVE_METADATA";const n=t||this.parseManifest_({url:i,manifestString:e});n.lastRequest=Date.now(),Pu({playlist:n,uri:i,id:s});const rration,this.pendingMedia_=null,r?(this.main=r,this.media_=this.main.playlists[s]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Wu(this.media(),!!r)),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),window.clearTimeout(thmeo vos.media.bind(this,e,!1),t))}const i=this.state,s=!this.media_||e.id!==this.media_.id,n=this.main.playlists[e.id];if(n&&n.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(s&&(this.trigger("mediachanging"),"HAVE_MAIN_MANIFEST"===i?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(Wu(e,!0)),s){if(this.state="SWITCHING.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},((t,s)=>{if(this.request){if(e.laslisatar("is.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"_CUs.st.t3:5dateTimeout=null,this.load()}),e)}else this.started?t&&!t.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}updateMeut(teTimeout_(e)}),e))}start(){if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=window.location.href),this.src.resolvedUri=this.src.uri,void setTimeout((()=>{this.setupInitialPlaylist(this.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},((e,t)=>{if(!this.request)return;if(this.request=null,e)return this.error={status:t.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:t.responseText,code:2},"HAVE_NOTHING"===this.state&&(this.started=!1),this.trigger("error");this.src=$h(this.src,t);const i=this.parseManifest_({manifestString:t.responseText,url:this.src});this.setupInitialPlaylist(i)}))}srcUri(){return"string"==typeof this.src?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists)return this.main=e,Mu(this.main,this.srcUri()),e.playlists.forEach((e=>{e.segments=Hu(e),e.segments.forEach((t=>{$u(t,e.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.main.playlists[0]));const t=this.srcUri()||window.location.href;this.main=Ru(e,t),this.haveMetadata({playlistObject:e,url:t,id:this.main.playlists[0].id}),this.trigger("le.rth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===i.statusCode||206===i.statusCode||0===i.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(n||e.responseText)))),s(t,e)},Yu=(e,t)=>{if(!e||!e.size)return;let i=t;return e.forEach((e=>{i=e(i)})),i},Qu=(e,t,i,s)=>{e&&e.size&&e.forEach((e=>{e(t,i,s)}))},Ju=function(){const e=function e(t,i){t=Vh({timeout:45e3},t);const s=e.beforeRequest||Tr.Vhs.xhr.beforeRequest,n=e._requestCallbackSet||Tr.Vhs.xhr._requestCallbackSet||new Set,r=e._responseCallbackSet||Tr.Vhs.xhr._responseCallbackSet;s&&"function"==typeof s&&(Tr.log.warn("beforeRequest is deprecated, use onRequest instead."),n.add(s));const a=!0===Tr.Vhs.xhr.original?Xu:Tr.Vhs.xhr,o=Yu(n,t);n.delete(s);const l=a(o||t,(function(e,t){return Qu(r,l,e,t),Ku(l,e,t,i)})),d=l.abort;return l.abort=function(){return l.aborted=!0,d.apply(l,arguments)},l.uri=t.uri,l.requestTime=Date.now(),l};return e.original=!0,e},Zu=function(e){let t;const i=e.offset;return t="bigint"==typeof e.offset||"bigint"==typeof e.length?window.BigInt(e.offset)+window.BigInt(e.length)-window.BigInt(1):e.offset+e.length-1,"bytes="+i+"-"+t},ec=function(e){cone.end(t)},ic=function(eeturn"00".substring(0,2-i.length)+i+(t%2<126?String.fromCharCode(e):"."},nc=f(i=>{const s=e[i];na(s)?t[i]={bytes:s.buffer,byteOffset:s.byteOffset,byteLength:s.byteLength}:t[i]=s})),t},rc=function(e){const t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},ac=function(e){return e.resolvedUri},oc=e=>{const t=Array.prototype.s6;let s,n,r="";for(let e=0;e<t.length;t++)i+ct.freeze({__proto__:null,createTra(i<.leInf(s=n),{segment:s,estimatedStart:s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationStart:Cu.duration(t,t.mediaSequence+t.segments.indexOf(s)),type:s.videoTimingInfo?"accurate":"estimate"})},gc=(e,t)=>{if(!t||!t.segments||0===t.segments.length)return null;let i,s=0;for(let n=0;n<t.segments.length&&(i=t.segmentss){if(e>s+n.duration*uc)return null;i=n}return{segment:i,estimatedStart:i.vid===ck:nd time must be prov l=o.segment,d=fc(l.dateTimeObject,e);if("estimate"===o.type)return 0===i?a({message:`${e} is not buffered yet. Try again`}):(s(o.estimatedStart+d),void r.o",(()=>{vc({programTime:e,playlist:t,retryCount:i-1,seekTo:s,pauseAfterSeek:n,tech:r,callback:a})})));const h=l.start+d,u=()=>a(null,r.currentTime());r.one("seeked",u),n&&r.pause(),s(h)},bc=(e,t)=>{if(4===e.readyState)return t()},Tc=(e,t,i)=>{let s,n=[],r=!1;const a=function(e,t,s,n){return t.abort(),r=!0,i(e,t,s,n)},o=functl,terange&&!n.byterange)continue;const r=s.byterange,a=n.byteturn Lu(e,((e,s,n,r)=>{if(e.playlists&&e.playlists.length){const s=e.playlists;i=Vh(i,Ac(s,t))}})),i};class Lc extends Sc{constructor(e,t,i={},s){super(),this.mainPlaylistLoader_=s||this,s||(this.isMain_=!0);const{withCredentials:n=!1}=i;if(this.vhs_=t,this.withCredentials=n,this.addMetadataToTextTrack=i.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",(()=>{this.refresh.state&&(this.started=!1)}load(e){window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const t=this.media();if(e){const e=t?t.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=window.setTimeout((()=>this.load()),e)}else this.started?t&&!t.endList?(this.isMain_&&!this..trigger("loadedplaylist"):this.sta.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},((t,i)=>{if(this.requestErrored_(t,i))return void("HAVE_NOTHING"===this.state&&(this.started=!1));const s=i.responseText!==this.mainPlaylistLoader_.mainXml_;return this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeadeyli(),tOfredlieponseHeaders&&s.responseHeaders.date?Date.parse(s.responseHeaders.date):this.mainLoaded_:Date.parse(s.responseText),this.mainPlaylistLoader_.clientOffset_=g_)),this.mainPladateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(t),Boolean(t)}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(window.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let t=e.main&&e.main.minimumUpdatePeriod;0===t&&(e.me(`found invalid minimumUpdatePnst IA2,forCrei.reor.rtyct=[{rt)onvmCo,0gtinex5&0,y(nction(e){var t,i,n=e.sps||[],r=h;t++>>8),a.push(255&n[t].byteLsh(20,017,17]),s(E.avcC,new Uin0,7,0,0,0,0,0,0,0,0,1,0,0,0,o>>>24&255,oration=e.duration||4d,0,0,0,1,0,0,0,0,0ngth)>>>24,(16711680&e.lengt>24,(16711680&t)>>>16,(652824,n[i++]=(16711680&o.duration)>>>16,n[i++]=(65280&o.duration)>>>8,n[i++]=++]o.frn s(E.trun,i)},w=function(e,t){return"audio"===e.type?j(e,t):q(e,t)};var G,X,K,Y,Q,J,Z,ee,te={ftyp:a=function(){return s(E.ftyp,k,C,k,x)},mdat:function(e){return s(E.mdat,e)},moof:d,moov:h,initSegment:function(e){var t,i=a(),s=h(e);return(t=new Uint8Array(i.byteLength+s.byteLength)).set(i),t.set(s,i.byteLength),t}},ie=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRe();return i.dataOffset=t,i.compositionTimeOffset=e.pts-e.dts,i.duration=e.duration,i.size=4*e.length,i.size+=e.byteLength,e.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},ne={groupNalsIntoFrames:function(e){var t,i,s=[],n=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,s.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(i=e[t]).nalUnitType?(s.length&&(s.duration=i.dts-s.dts,n.byteLength+=s.byteLength,n.nalCount+=s.length,n.duration+=s.duration,n.push(s)),(s=[i])(i));return n.lengthgth,n.duration+=s.durpts,s.dts=e[0].dts,n.byteLength=0,n.nalCos),n.byteLength+=s.byteLength,n.nah+=i.byteLength,o=0,l=e.byteLength,d=e.nalCount,h=new Uint8Array(l+4*d),u=new DataView(h.buffer);for(t=0;t<e.length;t++)for(n=e[t],i=0;i<n.length;i++)for(r=n[i],s=0;s<r.length;s++)a=r[s],u.setUint32(o,a.data.byteLength),o+=4,h.set(a.data,o),o+=a.data.byteLength;return h},generateSampleTableForFrame:function(e,t){var i,s=[];return i=se(e,t||0),s.push(i),s},concatenateNalDataForFrame:function(e){var t,i,s=0,n=e.b,84,1,2,4,8,168,2,4,nction(e,t){return e.concat(t)}),[])),t}),{})},de=function(){if(!G){var e={96e3:[re,[227,64],oe(154),[56]],88200:[re,[231],oe(170),[56]],64e3:[re,[248,192],oe(240),[56]],48e3:[re,[255,192],oe(268),[55,148,128],oe(54),[112]],44100:[re,[255,192],oe(268),[55,163,128],oe(84),[112]],32e3:[re,[255,192],oe(268),[55,234],oe(226),[/he},audioTsToSeconds:Q=function(e,t){ts-l,pts:o.pts-l});return e.nction(e,t,i){return t.miata,s),s+=i.data.byteLength;return n}},fe=ue.ONE_SECOND_IN_TS,ye={clearDtsInfo:function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,dodeTime,i+=s,i=Math.max(0,i),"audigmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timmentDts?e.minSegmentDts=t.dts:e.ms:e.maxSegmentDts=Math.max(e.maxSe t=0,i={payloadType:-1,payloadSize:0},s=0,n=0;t<e.byteLength&&e[t]!==ve;){for(;255===e[t];)s+=255,t++;for(s+=e[t++];255===e[t];)n+=255,t++;if(n+=e[t++],!i.payload&&s===_e){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){i.payloadType=s,i.payloadSize=n,i.payload=e.subarrion8|ee.payload[3],e.paylr]&&0===e[r+1]&&3===ength)return e;t=s-n.len<t;a++,r++)a===n[0]&&_=[new Re(0,0),new Re{captionServices:e.careams_.forEach((functio.on("dotialdone",this.trion(e){var t,i,s;if("sei_rbsp"=payload&&t.payloadType===Se.USEthis.la(function(e,t){return e.pts===t.pts?e.presortIacket(e):this.dispatchCeaush")},we.prototype.partialrEach((function(e){e.reset()}),4147:8220,4148:8221,4149:822620:9123,4221:9135,424096&e&&e===t?"":String.folor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.vinCount=41,this.windowStyle=0,this.penStyle=0},xe.prototype.getText=function(){return this.rows.join("\n")},xe.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},xe.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOve-},xe.prototype.isEmpty=functiype.addText=function(e){thforeRowOverflow=t)},Ie.prototype.ar t,i=this,s=e.captionServi.type?(i.new708Packet(),i708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Ae.prototype.add708Bytes=function(e){var t=e.ccData,i=t>>>8,s=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.daq=r>>6,e.sizeCode=63&r;n<t.r=this.current708Packet.data,a=this.services[e];for(a||(a=this.initService(e,n));n<t+i&&n<r.length;n++)s=r[n],Ce(s)?n=this.handleText(n,a):24===s?n=this.multiByteCharacter(n,a):16===s?n=this.extendedCommands(n,:137===s?n=this.displayWindows8===s?a.currentWindow.bacnt708Packet.ptsVals[Math.flos,n),this.services[pe.handleText=function(e,t,i){var s,n,r=i&&i.isExtended,a=i&&i.isMultiByte,o=this.current708Packet.data,l=r?4096:0,d=o[e],h=o[e+1],u=t.currentWindow;function c(e){return e.map((e=>("0"+(255&e).toString(16)).slice(-2))).join("")}if(a?(n=[d,h],e++):n=[d],t.textDecoder_&&!r)s=t.textDecoder_.decode(new Uint8Array(n));else if(a){const e=c(n);s=String.fromCharCode(parseInt(e,16))}else s=ke(l|d);return u.pendingNewLine&&!u.isEmpty()&&u.newLine(this.getPts(e)),u.pendingNewLine=!1,u.addText(s),e},Ae.prototype.multiByteCharacter=function(e,t){var i=this.current708Packet.data,s=i[e+1],n=i[e+2];return Ce(s)&&Ce(n)&&(e=this.handleText(++e,t,{isMultiByte:!0})),e},Ae.prototype.setCurrentWindow=function(e,t){var i=7&this.current708Packet.dataon(e,t){var i=this.current708Packet.data,s=i[e],n=7&s;t.setCurrentWindow(n);var r=t.currentWindow;return s=i[++e],r.visible=(32&s)>>5,r.rowLock=(16&s)>>4,r.columnLock=(8&s)>>(e,t){var i=this.current708Packet.data,s=i[e],n=9:251,544:193,545:2:212,571:217,572:249,573:2.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,s,n,r;if((t=32639&e.ccData)!==this.PADDING_&&(this.lastControlCode_=null),s=t>>>8,n=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADIN_)this.mode_="popOsplayed_,this.displayed_artPts_=e.pts;else if(t===ws_=2,this.setRollUp(e.nonDisplayed_[this.row_].te.flushDisplayed(e.pts),this.dplayed(e.pts),this.displayed_=Ne()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(s,n))r=Le((s=(3&s)<<8)|n),this[this.mode_](e.pts,r),this.column_++;else if(this.isExtCharacter(s,n))"popOn"===this.mode_?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),r=Le((s=(3&s)<<8)|n),this[this.mode_](e.pts,r),this.column_++;else if(this.isMidRowCode(s,n))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&n)&&this.addFlCode(s,n)){const e=3&n;this.nonDisplayed_[this.row_].offset=e,this.column_+=e}else if(this.isPAC(s,n)){var a=Oe.indexOf(7968&t);if("rollUp"===this.mode_&&(a-this.rollUpRows_+cletion(e){const t=e=>{this.trigger("log",{level:"warn",message:"Skipping a malformxt&&e.text.length){try{e.text=e.text.trim()}catch(e){t(s)}e.text.length&&i.push({text:e.text,line:s+1,position:10+Math.min(70,10*e.indent)+2.5*e.offset})}else null==e&&t(s)})),i.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,content:i,stream:this.name_})},Re.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ne(),this.nonDisplayed_=Ne(),this.lastControlCode_=null,this.column_=0,this.row_=Pe,this.rollUpRows_=2,this.formatting_=[]},Re.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&DING_L_,th_=41|otype2)&&t>=32&&t<=63},RelushDisplayed(e),this.nonDisplayed_=Ne(),this.displayed_=n(){i=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};He.prototype=new Be;var Ve,ze={TimestampRolloverStream:He,handleRollover:$e},We=(e,t,i)=>{if(!e)return-1;for(var s=i;s<e.length;s++)if(e[s]===t)return s;return-1},Ge={typedArrayIndexOf:We}.typedArrayIndexOf,Xe={Iso88591:0,Utf16:1,Utf16be:2(16)).slice(-2);return n},Ye=function(e,t,i){return decodeURIComponent(Ke(e,t,i))},Qe=function(e,t,i){return unescape(Ke(e,t,i))},Je=function(eiptor},s=0,n=[],r=0;if(Ve.prototype.init.call(this),this.dispatchType=tt.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(t=0;t<i.descriptor.leenray(10,14)),s-=it.parseSyncSafeInteger(Stamp,t.dtss.trigger("data",t)ze.Timestamarray(n),0),t=s.byteLength-n)},this.flush=function(){t===ut&&e[0]===ct&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new ot,nt=function(){var e,t,i,s;nt.prototype.init.call(this),s=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,s){var n=0;s.payloadUnitStartIndicator&&(n+=rocessPes_(t,s,i)},this.processPeshis.push=function(a){({pat:fa")},this.flush=function(){if(!i&&e){var s={type:"metadata",tracks:[]};null!==e.video&&s.tracks.push({timelGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return thallvark}f.trle(1!==t[e]&&e<r);i=i=e-2,e+=3;break;default:e+=3}t=tset")},thir("endedtimelinetion(){var e,t,i,sy(1)),o.conction(e){var t,i,s,n,r,o,l,d,h,u,c,p,m=0,g=0,f=0,y=0,_=[1,1];if(i=(t=new Ct(e)).readUnsignedByte(),n=t.readUnsignedByte(),s=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),Et[i]&&(3===(r=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(c=3!==r?8:12,p=0;p<c;p+nedGolt.rExp14|e[2]<<7|e[3]},Ot=function(e,t,i){var s,n="";for(s=t;s<i;s++)n+="%"+("00"+e[s].toString(16)).slice(-2);return n},Nt=function(e,t,i){return unescape(Ot(e,t,i))},Rt=:function(ecount","samprofileCompatibilit,Yt=ue,Qt=Tt,Jt=It.H264Stream,Zt=qt,ei=Rt.isLikelyAacData,ti=ue.ONE_SECOND_IN_TS,ii=$t,si=Ht,ni=function(e,t){t.stream=e,this.trigger("log",t)},ri=function(e,t){for(var i=Object.keys(t),s=0;s<i.length;s++){var n=i[s];"headOfPipeline"!==n&&t[n].on&&t[n].on("log",ni.bind(e,n))}},ai=function(e,t){var i;if(e.length!==t.length)ren(t){Xt.collectDtsInf Uint8Array(l.byteLh),i++,h.set(l),h.set(d,pic_parameter_set_rbsp"!==t.nalUnitType=void 0},this.getGopForFusion_=function(t){var i,s,n,r,a,orseStream=new Kt.TransportParseStream,n.elementaryStream=new Kt.ElementaryStream,n.timestampRolloverStream=new Kt.TimestampRolloverStream,n.adtsStream=new Qt,n.h264Stream=new Jt,n.captionStr),n.coalescen.pam),n.timestampRolloverStreks[a].type||((i=r.tracks[a]).timelineStaroSe=t,rigseMediaDecodeTime=s),i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,Xt.clearDtsInfo(i),n.audioTimestampRolloverStream&&n.audioTimestampRolloverStream.discod 0iggis.-2)de(e[2]),t+=String.fromCharCode(e[3])},_i=fi.toUnsigne,t){var i,.subarray(i+8,r t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=wi(e.subarray(4)):t.baseMediaDecodeTime=Si(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t},ki=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},Ci=function(e){var t,i={version:e[0],flags:new Uir=4&i.flags[2],a=;for(n&&(i.dataOffset=s.gu+=4,a&&(t.duration=s.geversion?t.compositionT=4),i.samplu+=4),d&&(1===i.versionnction(e){var t,i=f?sDi=urnew DataView(e.buffer,e.byteOffset,e.byteLength),l={logs:[],seiNals:[]};for(n=0;n+4<e.length;n+=r)if(r=o.getUint32(n),n+=4,!(r<=0))switch(31&e[n]){case 6:var d=e.subarray(n+1,n+1+r),h=Mi(n,t);if(s={nalUnitTypes=a.pts,(e.NalDi,e=es.r{},logs:[]},this.resetCaptionStream()},this.reset()},$i=qi,Hi=function(e){for(var t=0,i=String.fromCharCode(e[t]),s="";"\0"!==i;)s+=i,t++,i=String.fromCharCode(e[t] t,)l+gthme_)&&i,n=1===e&&id 0!==e|i=Ti,Zi=y6|i[n+2]<<8|i[n+3]),(a=Ji(t,["mdia","mdhd"])[0]r=Yi(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),a=e[r]||0)}}var h=e[i]||9e4;"bigint"==typeof n&&(r=rs.BigInt(r),h=rs.BigInt(h));var u=(n+r)/h;return"bisety(7&e[(i+teL;break}"slicbarray(n),s-=n,n=0,i&&i.bytert! You ci))&&(i=e.audio[0].dts),e.audio.forEach((function(e){e.dts=fs(e.dts,i),e.pts=fs(e.pts,i),e.dtsTime=e.dts/_s,e.ptsTime=e.pts/_s}))}if(e.video&&e.vis,n.ptsTime=n.pts/_s}}},ks=function(e){for(var t,i=!1,s=0,n=null,r=null,a=0,o=0;e.length-o>=3;){switch(ys.aac.parseType(e,o)){case"timed-metadata":if(e.length-o<10){i=!0;break}if((a=ys.aac.parseId3TagSize(e,o))>e.length){i=!0;break}null===r&&(t=e.subarray(o,o+a),r=ys.aac.parseAacTimestamp(t)),o+=a;break;case"audio":if(e.length-o<7){i=!0;break}if((a=ys.aac.parseAdtsSize(e,o))>e.length){i=!0;break}null===n&&(t=e.subarray(o,o+a),n=ys.aac.parseSampleRate(t)),,Cs=function(e){var t={pid:nulyteLength}ngInfo",(function(t){const ",(ds(TsToSeconds(t.start.pts)},end:{decode:ue.videoTsToSeconds(t.end.dts),presentation:ue.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:ue.videoTsToSeconds(t.baseMediaDecodeTime)};t.prependedContentDuration&&(i.prependedContentDuration=ue.videoTsToSeconds(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:i})})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ue.videoTsToSeconds(t.start),end:ue.videoTsToSeconds(t.end)}})})),t.on("videoTimingInfo",(function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ue.videoTsToSeconds(t.start),end:ue.videoTsToSeconds(t.end)}})})),t.on("log",(function(t){e.postMessage({action:"log",log:t})}))};class As{constructor(e,t){this.options=t||{},this.self=e,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new gi.Transmuxer(this.options),Is(this.self,this.transmuxer)}pushMp4Captions(e){this.captionParser||(this.captionParser=new $i,this.captionParser.init());const t=new Uint8Array(e.data,e.byteOffset,e.byteLength),i=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:i&&i.captions||[],logs:i&&i.logs||[],data:t.buffer},[tdatMes3(est i="number"!=typeof t||isNaN(t)?void 0:t*uespect(e,i);let n=null;s&&(n={robeTs",reis.transmuxer.setRemux(e.remux)}flush(e){thisagge(ageta:gopInfo=e.data.gopInfo},Vc=e=>{const{transmuxer:t,bytes:i,audioAppendStart:s,gopsToAlignWith:n,remux:r,onData:a,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:d,onVideoSegmentTimingInfo:h,onAudioSegmentTimingInfo:u,onId3:c,onCaptions:p,onDone:m,onEndedTimeline:g,onTransmuxerLog:f,isEndOfTimelnfo"==spandStart:s}),Array.isArray(n)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:n}),void 0!==r&&t.postMessage({action:"setRemux",remux:r}),i.byteLength){const e=i instanceof ArrayBuffer?i:i.buffer,s=i instanceof ArrayBuffer?0:i.byteOffset;t.postMessage({action:"push",data:e,byteOffset:s,byteLength:i.byteLength},[e])}y&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},zc=e=>{e.currentTx=null,t.transmuxQueue.length=0,i.call(t)),t.postMessage({action:"init",options:e}),t}};const Yc=function(e){const t=e.transmuxer,i=e.endAction||e.action,s=e.callback,n=hi({},e,{endAction:null,transmuxer:null,callback:null}),r=n=>{n.data.action===i&&(t.removeEventListener("message",r),n.data.data&&(n.data.data=new Uint8Array(n.data.data,e.byteOffset||0,e.byteLength||n.data.data.byteLength),e.data&&(e.data=n.data.data)),s(n.data))};if(t.addEventListener("message",r),e.data){const i=e.data instanceof ArrayBuffer;n.byteOffset=i?0:e.data.byteOffset,n.byteLength=e.data.byteLength;const s=[i?e.data:e.data.buffer];t.postMessage(n,s)}else t.postMessage(n)},Qc={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Jc=e=>{e.forEach((e=>{e.abort()})rget,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return i.bytesRece i(a,e);if(16!==r.byteLength)return i({status:n.status,message:"Invalid HLS key at URL: "+n.uri,code:Qc.FAILURE,xhr:n},e);const o=new DataView(r),l=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]);for(let e=0;e<t.length;e++)t[e].bytes=l;return i(null,e)},sp=(e,t)=>{const i=Uh(e.map.bytes);if("mp4"!==i){const s=e.map.resolvedUri||e.map.uri;return t({interap.stats=Zc(n),e.key?e.encryptedBytes=new Uint8Array(a):e.bytes=new Uint8Array(a),t(null,e)},ap=({segment:e,bytes:t,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:h,doneFn:u,onTransmuxerLog:c})=>{const p=e.map&&e.mart&&(g(e.start),g=null),f&&void 0!==e.end&&f(e.end)},onVideoTimingInfo:e=>{y&&void 0!==e.start&&(y(e.start),y=null),_&&void 0!==e.end&&_(e.end)},onVideoSegmentTimingInfo:e=>{n(e)}nCaptions:t=>bined"===t.type?"video":t.type,u(null,e,t))}});Yc({action:"probeTs",transmuxer:e.transmuxer,data:t,baseStartTime:e.baseStartTime,callback:s=>{e.bytes=t=s.data;const n=s.result;n&&(i(e,{hasAudio:n.hasAudio,hasVideo:n.hasVideo,isMuxed:m}),i=null),v()}})},op=({segment:e,bytes:t,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:h,doneFn:u,onTransmuxerLog:c})=>{let p=new Uint8Array(t);if(Bh(p)){e.isFmp4=!0;const{tracks:n}=e.map,r={isFmp4:!0,hasVideo:!!n.video,hasAudio:!!n.audio};n.audio&&n.audio.codec&&"enca"!==n.audio.codec&&(r.audioCodec=n.audio.codec),n.video&&n.video.codec&&"encv"!==n.video.codec&&(r.videoCodec=n.video.codec),n.video&&n.audio&&(r.isMuxed=!0),i(e,r);const l=(t,i)=>{h(e,{data:p,type:r.hasAudio&&!r.isMuxed?"audio":"video"}),i&&i.length&&a(e,i),t&&t.length&&o(e,t),u(null,e,{})};Yc({action:"probeMp4StartTime",timescales:e.map.timescales,data:p,transmuxer:e.transmuxer,callback:({data:i,startTime:a})=>{t=i.buffer,e.bytes=p=i,r.hasAudio&&!r.isMuxed&&s(e,"audio","start",a),r.hasVideo&&s(e,"video","start",a),Yc({action:"probeEmsgID3",data:p,transmuxer:e.transmuxer,offset:a,callback:({emsgData:i,id3Frames:s})=>{t=i.buffer,e.bytes=p=i,n.video&&i.byteLength&&e.transmuxer?Yc({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:e.transmuxer,data:p,timescales:e.map.timescales,trackIds:[n.video.id],callback:i=>{t=i.data.buffer,e.bytes=p=i.data,i.logs.forEach((function(e){c(Vh(e,{stream:"mp4CaptionParser"}))})),l(i.captions,s)}}):l(void 0,s)}})}})}else if(e.transmuxer){if(void 0===e.container&&(e.container=Uh(p)),"ts"!==e.container&&"aac"!==e.container)return i(e,{hasAudio:!1,hasVideo:!1}),void u(null,e,{});ap({segment:e,bytes:t,trackInfoFn:i,timingInfoFn:s,videoS:omeline:l,endedTimelineFnn({);cw UdByop(melineFn:d,dataFn:h,doneFn:u,Tim){iker:t,segment:f,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:h,doneFn:u,onTransmuxerLog:c});op({segment:f,bytes:f.bytes,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:h,doneFn:u,onTransmuxerLog:c})};if(f.endOfAllRequests=Date.now(),f.map&&f.map.encryptedBytes&&!f.map.bytes)return lp({decryptionWorker:t,id:f.requestId+"-init",encryptedBytes:f.map.encryptedBytes,key:f.map.key},(t=>{f.map.bytes=t,sp(f,(t=>{if(t)return Jc(e),u(t,f);p()}))}));p()}}}},up=({loadendState:e,abortFn:t})=>i=>{i.target.aborted&&t&&!e.calledAbortFn&&(t(),e.calledAbortFn=!0)},cp=({segment:e,progressFn:t,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:h})=>i=>{if(!i.target.aborted)return e.stats=Vh(e.stats,ep(i)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(i,e)},pp=({xhr:e,xhrOptions:t,decryptionWorker:i,segment:s,abortFn:n,progressFn:r,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingIFn:d,id3Fn:h,captionsp,dataFn:m,doneFn:g,onTransmuxerLog:f})=>{const y=[],_=hp({activeXhrs:y,decryptionWorker:i,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:h,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:p,dataFn:m,doneFn:g,onTransmuxerLog:f});if(s.key&&!s.key.bytes){const i=[s.key];s.map&&!s.map.bytes&&s.map.key&&s.map.key.resolvdUri&&i.push(s.map.key);const n=e(Vh(t,{uri:s.key.rybuffer"}),ip(s,i,_));y.push(n)}if(s.map&&!s.map.bytes){if(s.map.key&&(!s.key||s.key.resolvedUri!==s.st i=e(Vh(t,{uer"}),ip(s,[s.map.key],_));y.push(i)}const i=e(Vh(t,{uri:s.map.resolvedUri,responseType:"arraybuffer",head(i)}cons",headers:ec(s)}),b=e(v,rp({segment:s,finishProcessingFn:_,responseType:v.responseType}));b.addEventListener("progress",cp({segment:s,progressFn:r,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:h,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:p,dataFn:m})),y.push(b);const T={};return y.forEach((e=>{e.addEventLi},yctis):ANDLUTByPlayerDimensions:n};let o=e.playlists;Cu.isAudioOnly(e)&&(o=r.getAudioTrackPlaylists_(),a.audioOnly=!0);let l=o.map((e=>{let t;const ist:e}t="sortedPlaylistReps";return c&&(t="bandwidthBestRep"),d[0]&&(t="enabledPlaylistReps"),Tp(`choosing ${Sp(e)} using ${t} with options`,a),e.playlist}return Tp("could not choose a playlist with options",a),null}const p=h.filter((e=>e.width&&e.height));Ep(p,((e,t)=>e.width-t.width));const m=p.filter((e=th))[0];let f,y,_,v;if(g||(f=p.filter((e=>e.width>i||e.height>s)),y=f.filter((e=>e.width===f[0].width&&e.height===f[0].h.leastPixelDiffSelector){con=Math.abs(e.wdwidth:e.pixelDiff-t.pixelDiff)),v=e[0]}const b=v||_||g||c||d[0]||l[0];if(b&&b.playlist){let e="sortedPlaylistReps";return v?e="leastPixelDiffRep":_?e="resolutionPlusOneRep":g?e="resolutionBestRep":c?e="bandwidthBestRep":d[0]&&(e="enabledPlaylistReps"),Tp(`choosing ${Sp(b)} using ${e} with options`,a),b.playlist}return Tp("could not choose a playlist with options",a),null};const Ip=function(){const e=this.useDevicePixelRatio&&window.devict be bth!th"dth:s,duration:n,segmentDuration:r,timeUntilRebuffer:a,currentTimeline:o,syncController:l}=e,d=t.playlists.filter((e=>!Cu.isIncompatible(e)))t t=l.getSyncPoint(e,n,o,i)?1:2;return{playlist:e,rebufferingImpact:Cu.estimateSegmentRequestTime(r,s,e)*t-a}})),c=u.filter((e=>e.rebufferingImpact<=0));return Ep(c,((e,t)=>kp(t.playlist,e.playlist))),c.length?c[0]:(Ep(u,( e.bytes&i)&&(s="SERVICEacks().getTsitObj),rcueues,o=[];for(let e=0;e<a.length;e++)a[e]&&o.push(a[e]);const l=o.reduce(((e,t)=>{const i=e[t.startTime]||[];return i.push(t),e[t.startTime]=i,e}),{}),d=Object.keys(l).sorut:"SCTE35-OUT",scte35In:"SCTE35-IN"},Bp=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),Fp=({inbandTextTracks:e,dateRanges:t})=>{const i=e.metadataTrack_;if(!i)return;const s=window.WebKitDataCue||window.VTTCue;t.forEach((e=>{for(const t of Object.keys(e)){if(Bp.has(t))continue;consle.n[];const s=Math.ceil((t-i+3)*jh);let n;for(n=0;n<e.length&&!(e[n].pts>s);n++);return e.slice(n)},Vp=(e,t,i)=>{if(!t.length)return e;if(i)return t.slice();const s=t[0].pts;let n=0;for(;n<e.length&&!(e[n].pts>=s);n++);return e.slice(0,n).concat(t)},zp=(e,t,i,s)=>{const n=Math.ceil((t-s)*jh),r=Math.ceil((i-s)*jh),a=e.slice();let o=e.length;for(;o--&&!(e[o].pts<=r););if(-1===o)return a;let l=o+1;for(;l--&&!(e[l].pts<=n););return l=Math.max(l,0),a.splice(l,o-l+1),a},Wp=function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;const i=Object.keys(e).sort(),s=Object.keys(t).sort();if(i.length!==s.length)return!1;for(let n=0;n<i.length;n++){const r=i[n];if(r!==s[n])return!1;if(e[r]!==t[r])return!1}return!0},Gp=22,Xp=function(e,t,i){t=t||[];const s=[];let n=0;for(let r=0;r<t.length;r++){const a=t[r];if(e===a.timeline&&(s.push(r),n+=a.duration,n>i))return r}return 0===s.length?0:s[s.length-1]},Kp=1,Yp=500,Qp=e=>"number"==typeof e&&isFinite(e),Jp=1/60,Zp=(e,t,i)=>"main"===e&&t&&i?i.hasAudio||i.hasVideo?t.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null,em=(e,t,i)=>{let s=t-Pc.BACK_BUFFER_LENGTH;e.length&&(s=Math.max(s,e.start(0)));const n=t-i;return Math.min(n,s)},tm=e=>{const{startOfSegment:t,duration:i,segment:s,part:n,playlist:{mediaSequence:r,id:a,segments:o=[]},mediaIndex:l,partIndex:d,timeline:h}=e,u=o.length-1;let c="mediaIndex/partIndex increment";e.getMediaInfoForTime?c=`getMediaInfoForTime (${e.getMediaInfoForTime})`:e.isSyncRequest&&(c="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(c+=` with independent ${e.independent}`);const p="number"==typeof d,m=e.segment.uri?"segment":"pre-segment",g=p?du({preloadSegment:s})-1:0;return`${m} [${r+l}/${r+u}]`+(p?` part [${d}/${g}]`:"")+` segment start/end [${s.start} => ${s.end}]`+(p?` part start/end [${n.start} => ${n.end}]`:"")+` startOfSegment [${t}]`+` duration [${i}]`+`list [${a}]`},im=e=>`${e}TimingInfo`,sm=(e,t)=>e.length?e.end(e.length-1):t,nm=({segmentTimeline:e,currentTimeline:t,startOfSegment:i,buffered:s,calculateTimestampOffsetForEaentTimeline:t,segmentTimeline:i,loaderType:s,audioDisabled:n})=>{if(t===i)return!1;if("audio"===s){const t=e.lastTimelineChange({type:"main"});return!t||t.to!==i}if("main"===s&&n){cons}return!1},am=e=>{let t=0;return["video","audio"].forEach((function(i){const s=e[`-w,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",(()=>{this.isEndOfStream_()||(this.ended_=!1)})),this.fetchAtBuffer_=!1,this.replaceSegmentsUntil_=-1,this.logger_=Hh(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(e){e!==this.state_&&(this.logger_(`${this.state_} -> ${e}`),this.state_=e,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",(()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})),"main"===this.loaderType_&&this.timelineChangeController_.on("pendingtimelinechange",(()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})),"audio"===this.loaderType_&&this.timelineChangeController_.on("timelinechange",(()=>{this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}))}createTransmuxer_(){return Kc.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppendsG"===this.state?(this.abort_(),this.state="READY",thiendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,window.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state=return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&Kc.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)returneUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,t=!1){if(!e)return null;const i=rc(e);let s=this.initSegments_[i];return t&&!s&&e.bytes&&(this.initSegments_[i]=s={resolvedUri"INIT"!==this.state||(this.state="READY"))}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,t={}){if(!e)return;const i=this.playlist_,s=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));let n=null;if(i&&(i.id?n=i.id:i.uri&&(n=i.uri)),this.logger_(`playlist update [${n} => ${e.id||e.uri}]`),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==e.uri)return null!==this.mediaIndex&&(e.endList||"number"!=typeof e.partTargetDuration?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");const r=e.mediaSequence-i.mediaSequence;if(this.logger_(`live window shift [${r}]`),null!==this.mediaIndex)if(this.mediaIndex-=r,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const e=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!e.parts||!e.parts.length||!e.parts[this.partIndex])){const e=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=e}}s&&(s.mediaIndex-=r,s.mediaIndex<0?(s.mediaIndex=null,s.partIndex=null):(s.mediaIndex>=0&&(s.segment=e.segments[s.mediaIndex]),s.partIndex>=0&&s.segment.parts&&(s.part=s.segment.parts[s.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,e)}pause(){this.checkBufferTimeout_&&(window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return null===this.checkBufferTimeout_}resetLoaderProperties(){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0}}resetEverything(e){this.resetLoaderProperties(),this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.resyncLoader()}resyncLoader(){this.transmuxer_&&Kc.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,t,i=(()=>{}),s=!1){if(t===1/0&&(t=this.duration_()),t<=e)return void this.logger_("skipping remove because end ${end} is <= start ${start}");if(!this.sourceUpdater_||!this.getMediaInfo_())return void this.logger_("skipping remove because no source updater or starting media info");let n=1;const r=()=>{n--,0===n&&i()};!s&&this.audioDisabled_||(n++,this.sourceUpdater_.removeAudio(e,t,r)),(s||"main"===this.loaderType_)&&(this.gopBuffer_=zp(this.gopBuffer_,e,t,this.timeMapping_),n++,this.sourceUpdater_.removeVideo(e,t,r));for(const i in this.inbandTextTracks_)qp(e,t,this.inbandTextTracks_[i]);qp(e,t,this.segmentMetadataTrack_),r()}monitorBuffer_(){this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){"REheckBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window.setTimeout(this.monitorBufferTick_.bind(this),Yp)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();e&&("number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}isEndOfStream_(e=this.mediaIndex,t=this.playlist_,i=this.partIndex){if(!t||!this.mediaSource_)return!1;const s="number"==typeof e&&t.segments[e],n=e+1===t.segments.length,r=!s||!s.parts||i+1===s.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&n&&r}chooseNextRequest_(){const e=this.buffered_(),t=nu(e)||0,i=ru(e,this.currentTime_()),s=!this.hasPlayed_()&&urrentTimelinementIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});a.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${t}`:`currentTime ${this.currentTime_()}`,a.mediaIndex=e,a.startOfSegment=i,a.partIndex=s}const o=r[a.mediaIndex];let l=o&&"number"==typeof a.partIndex&&o.parts&&o.parts[a.partIndex];if(!o||"number"==typeof a.partIndex&&!l)return null;"number"!=typeof a.partIndex&&o.parts&&(a.partIndex=0,l=o.parts[0]);const d=this.vhs_.playlists&&this.vhs_.playlists.maparts.length-1];t&&t.indepurce_.readyState;return a.mediaIndex>=r.length-1&&h&&!this.seeking_()?null:this.genenull,timestampOffset:null,timeline:d.timeline,duration:h&&h.duration||d.duration,nArray:r,inbandTextTracks:a,timestampOffset:i})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,t,i){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||(this.pendingSegment_.hasAppendedData_?this.addMetadataToTextTrack(i,t,this.duration_()):this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,i)))}processMetadataQueue_(){this.metadataQueue_.id3.forEach((e=>e())),this.metadataQueue_.caption.forEach((e=>e())),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach((e=>e()))}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach((e=>e()))}hasEnoughInfoToLoad_(){if("audio"!==this.loaderType_)return!0;const e=this.pendingSegment_;return!(!e||this.getCurrentMediaInfo_()&&rm({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;const{hasAudio:i,hasVideo:s,isMuxed:n}=t;return!(s&&!e.videoTimingInfo||i&&!this.audioDisabled_&&!n&&!e.audioTimingInfo||rm({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_())return vodleQuotaExceededError_({segmentInfo:e,type:t,bytes:i}))}appendToSourceBuffer_({segmentInfo:e,type:t,initSegment:i,data:s,bytes:n}){if(!n){const e=[s];let t=s.byteLength;i&&(e.unshift(i),t+=i.byteLength),n=Pp({bytes:t,segments:e})}this.sourceUpdater_,i){if(!this.pendingSegment_||t!==this.pendingSegment_.requestId)return;const s=this.pendingSegment_.segment,n=`${e}TimingInfo`;s[n]||(s[n]={}),s[n].transmuxerPrependedSeconds=i.prependedContentDuration||0,s[n].transmuxedPresentationStart=i.start.presentation,s[n].transmuxedDecodeStart=i.start.decode,s[n].transmuxedPresentationEnd=i.end.presentation,s[n].transmuxedDecodeEnd=i.end.decode,s[n].baseMediaDecodeTime=i.baseMediaDecodeTime}appendData_(e,t){const{type:i,data:s}=t;if(!s||!s.byteLength)return;if("audio"===i&&this.audioDisabled_)return;const n=this.getInitSegmentAndUpdateState_({type:i,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:n,data:s})}loa,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,t,i){if(this.callQueue_.length)return void this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,i));if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return;if(t.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Qc.ABORTED)return;return this.pause(),e.code===Qc.TIMEOUT?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}const s=this.pendingSegment_;this.saveBandwidthRelatedStats_(s.duration,t.stats),s.endOfAllRequests=t.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=Vp(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(s)}setTimeMapping_(e){const t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)}updateMediaSecondsLoaded_(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())}trueSegmentStart_({currentStart:e,playlist:t,mediaIndex:i,firstVideoFrameTimeForData:s,currentVideoTimestampOffset:n,useVideoTimingInfo:r,videoTimingInfo:a,audioTimingInfo:o}){if(void 0!==e)return e;if(!r)return o.start;const l=t.segments[i-1];return 0!==i&&l&&void 0!==l.start&&l.end===s+n?a.start:s}waitForAppendsToComplete_(e){const t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),void this.trigger("error");const{hasAudio:i,hasVideo:s,isMuxed:n}=t,r="main"===this.loaderType_&&s,a=!this.audioDisabled_&&i&&!n;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);r&&e.waitingOnAppends++,a&&e.waitingOnAppends++,r&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const t=Zp(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!t&&(this.error({message:t,playlistExclnfo.starestampOffset-=this.getSeideet!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:t,timingInfo:i}){return this.useDtsForTimestampOffset_?e&&"number"==typeof e.transmuxedDecodeStart?e.transmuxedDecodeStderimingInfo;i&&(e.timingInfo.end="number"==typeof i.end?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());const e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmehroughput_(e),ths.logger_un-appended entTimelioaderT=e.part,n=i.end&ate"),this.trigger(ecordThrougt.raughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const t=e.segment,i=t.start,s=t.end;if(!Qp(i)||!Qp(s))return;qp(i,s,this.segmentMetadataTrack_);const n=window.WebKitDataCue||window.VTTCue,r={custom:t.custom,dateTimeObe]},mm=(e,t)=>{for(let i=0;i<t.length;i++){const s=t[i];if("mediaSource"===s.type)return null;if(s.type===e)riaIndex} to ${s}Buffer`),n.queuePending[s]=null,Source endOfStream(${e||""})`);try{t.mediaSource.endOfStream(e)}catch(e){Tr.log.warn("Failed to call media source endOfStream",e)}}},duration:e=>t=>{t.logger_(`Setting mediaSource duration to ${e}`);try{t.mediaSource.duration=e}catch(e){Tr.log.warn("Failed to set media source duration",e)}},abort:()=>(e,t)=>{if("open"!==t.mediaSource.readyState)return;const i=t[`${e}Buffer`];if(ym(t.mediaSource,i)){t.logger_(`calling abort on ${e}Buffer`);try{i.abort()}catch(t){Tr.log.warn(`Failed to abort on ${e}Buffer`,t)}}},addSourceBuffer:(e,t)=>i=>{const s=um(e),n=Xr(t);i.logger_(`Adding ${e}Buffer with codec ${t} to mediaSource`);const.addEventListener("updateend",i[`on${s}UpdateEnd_`]),r.addEventListener("error",i[`on${s}Error_`]),i.codecs[e]=t,i[`${e}Bulogger_(`${e} source buffer update end. Buffered: \n`,s),t.queuePending[e]){const i=t.queuePending[e].doneFn;t.queuePending[e]=null,i&&i(t[`${e}Error_`])}gm(e,t)};clathis.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=bm("video",this),this.onAudriggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initiadSourceB),name:"abort"})}removeSourceBuffer(e){tBufuffer is not supporndow.SourceBuffer.prototype&&"frs`),this.delayedAudioAppendQueue_:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():Zh(this.audioBuffered(),this.videoBuffered())}setDuration(e,t=hm){vm({type:"mediaSource",sourceUpdater:this,action:_m.duration(e),name:"duration",doneFn:t})}endOfStream(e=null,t=hm){"string"!=typeof e&&(e=void 0),vm({type:"mediaSource",sourceUpdater:this,action:_m.endOfStream(e),name:"endOfStream",doneFn:t})}removeAudio(e,t,i=hm){this.audioBuffered().length&&0!==this.audioBuffered().end(0)?vm({type:"audio",sourceUpdater:this,action:_m.remove(e,t),doneFn:i,name:"remove"}):i()}removeVideo(e,t,i=hm){this.videoBuffered().length&&0!==this.videoBuffered().end(0)?vm({type:"video",sourceUpdater:this,action:_m.remove(e,t),doneFn:i,name:"remove"}):i()}updating(){risBuffer&&this.audioTimestampOffset_!==e&&(vm({type:"audio",sourceUpdater:this,action:_m.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(vm({type:"video",sourceUpdater:this,action:_m.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&vm({type:"audio",sourceUpdater:this,action:_m.callback(e),name:"callback""})}dispose(){this.trigger("dispose"),cm.forEach((e=>{this.abort(e),,t={}){super(e,t),this.mediaSource_=null,this.subtitlesTrack_=null,this.loaderType_="subtitle",this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.lmingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return zh();const e=this.subtitet s=this.initSegments_[i];if(t&&!s&&e.bytes){const t=wm.byteLength+e.bytes.byteLength,n=new Uint8Array(t);n.set(e.bytes),n.set(wm,e.bytes.byteLength),this.initSegments_[i]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:n}}return s||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}remove(e,t){qp(e,t,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequeline(e.timeline)){const e=()cRequest})}return e}sde===Qc.ABORTED?this.mediaReturn this.state="WAIT loading vtt.js"})));n.requested=!ytes;i&&(t=Sm(t)),s.parse(t)}let n=e.bytes;i&&(n=Sm(n)),s.parse(n),s.flush()}updateTimeMapping_(e,t,i){const s=e.segment;if(!t)return;if(!e.cues.length)return void(s.empty=!0);const n=e.timestampmap,r=n.MPEGTS/jh-n.LOCAL+t.mapping;if(e.cues.forEach((e=>{e.startTime+=r,e.endTime+=r})),!i.syncInfo){const t=e.cues[0].startTime,n=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(t,n-s.d window.VTTCue(n,n+r.duration,""),s.adStartTime=n-e,s.adEndTime=s.adStartTime+i,t.addCue(s-1),Math.abs(s.time+gu({defauarence-e.ments&&e.segments.length&&e.segments[0].dateTimeObject){const t=e.segments[0],i=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-i}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:t}){const i=this.calculateSegmentTimeMapping_(e,e.timingInfo,t),s=e.segment;i&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:s.start}));const n=s.dateTimeObject;s.discontinuity&&t&&n&&(this.timelineToDatetimeMappings[s.timeline]=-n.getTime()/1e3)}timestampOffsetForTimeline(e){return void 0===this.timelines[e]?null:this.timelines[e].time}mappingForTimeline(e){return void 0===this.tcontinuti),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:t,to:i}){return"number"==typeof t&&"number"==typeof i&&(this.pendingTimelineChanges_[e]={type:e,from:t,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_yp},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const Pm=Uc(his.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listene];if(t)if)t[a].apply(thi[r]=r<<1^283*(r>>7))^r]=r;f^16);rlety sr=a255&p]^a[f|e>>>24},l,y;for(d=i[teLength);decryptChun,t};self.ogetActiveGroup(),olist.id,a=(r.filtate audio ProbTypes:{[e]:i}}=t;Tr.log.warn("Problem encountered loadinrack.Disabling subtitle track.");const s=i.activeTrack();s&&(s.mode="disabled"),i.onTrackChanged()}},qm={AUDIO:(e,t,i)=>{oad())&&r.load()})),t.on("loadedplaylist",(()=>{r.playlis),s.paused()||r.load()})),t.on("error",jm[e](e,i))},SUBTITLES:(e,t,i)=>{const{tech:s,requestOptions:n,segmentLoaders:{[e]:r},mediaTypes:{[e]:a}}=i;t.on("loadedmetadata",(()=>{const e=t.media();r.playlist(e,n),r.track(a.activeTrack()),(!s.paused()||e.endList&&"none"!==s.preload())&&r.load(()||r.loadntLoaders:{[e]:n},requestOptions:r,main:{mediaGroups:a},mediaTypes:{[e]:{groups:o,tracks:l,logger_:d}},mainPlaylistLoader:h}=t,u=ku(h.maonst n in a[e]){o[n]||(o[n]=[]);for(const c in a[e][n]){let p,m=a[e][n][c];if(u?(d(`AUDIO group '${n}'  r in o[e]){l[r]||(l[r]=[]);for,l[r].push(p),void 0===d[u]){const e=i.addRemoteTextTrack({id:u,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:u},!1).track;d[u]=e}}}r.on("error",jm[e](e,t))},"CLOSED-CAPTIONS":(e,t)=>{const{tech:i,main:{mediaGroups:s},mediaTypes:{[e]:{groups:n,tracks:r}}}=t;for(const t in s[e]){n[t]||(n[t]=[]);for(const a in s[e][t]){const o=s[e][t][a];if(!/^(?:CC|SERVICE)/.test(o.instreamId))continue;const l=i.options_.vhs&&i.options_.vhs.captionServices||{};let d={label:a,language:o.language,instreamId:o.instreamId,default:o.default&&o.autoselect};if(l[d.instreamId]&&(d=Vh(d,l[d.instreamId])),void 0===d.default&&delete d.default,n[t].push(Vh({id:a},o)),void 0===r[a]){const e=i.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;r[a]=e}}}}},Hm=(e,t)=>{for(let i=0;i<e.length;i++){if(wu(t,e[i]))return!0;if(e[i].playlists&&Hm(e[i].playlists,t))return!0}return!1},Vm=(e,t)=>i=>{const{mainPlaylistLoader:s,mediaTypes:{[e]:{groups:n}}}=t,r=s.media();if(!r)return null;let a=null;r.attributes[e]&&(a=n[r.attributes[e]]);const o=Object.keys(n);if(!a)if("AUDIO"===e&&o.length>1&&ku(t.main))for(let e=0;e<o.length;e++){const t=n[o[e]];if(Hm(t,r)){a=t;break}}else n.main?a=n.main:1===o.length&&(a=n[o[0]]);return void 0===i?a:null!==i&&a&&a.filter((e=>e.id===i.id))[0]||null},zm={AUDIO:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:i}}}=t;for(const e in i)if(i[e].enabled)return i[e];return null},SUBTITLES:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:i}}}=t;for(const e in i)if("showing"===i[e].mode||"hidden"===i[ea}}=e;["AUDIO","SUBTITLES"].forEach((i=>{t[i].activeGroup=Vm(i,e),t[i].activeTrack=zm[i](i,e),t[i].onGroupChanged=Um(i,e),t[i].onGroupChanging=Bm(i,e),t[i].onTrackChanged=Fm(i,e),t[i].getActiveGroup=Wm(i,e)}));const o=t.AUDIO.activeGroup();if(o){const e=(o.filter((e=>e.default))[0]||o[0]).id;t.AUDIO.tracks[e].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),r.setAudio(!0)):a.setAudio(!0)}i.on("mediachange",(()=>{["AUDIO","SUBTITLES"].forEach((e=>t[e].onGroupChanged()))})),i.on("mediachanging",(()=>{["AUDIO","SUBTITLES"].forEach((e=>t[e].onGroupChanging()))}));const l=()=>{t.AUDIO.onTrackChanged(),s.trigger({type:"usage",name:"vhs-audio-change"})};s.audioTracks().addEventListener("change",l),s.remoteTextTracks().addEventListene",l),s.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),s.clearTracks("audio");for(cm,lastTrack_:null,logger_:Hh(`MediaGroups[${t}]`)}})),e};class Km{constructor(){this.priority_=[]}set version(e){1===e&&(this.version_=perties(e,t){this.manifestType_=t.serverUri?"HLS":"DASH";const i=t.serverUri||t.serverURL;if(!i)return this.logger_(`steering manifest URL is ${i}, cannot request steering manifani)}const s=JSON.parse(this.request_.responseText);this.startTTLTimeout_(),this.assignSteeringProperties_(s)}))}setProxyServerUrl_(e){const t=new window.URL(e),i=new window.URL(this.proxyServerUrl_);return i.searchParams.set("url",encodeURI(t.toString())),this.setSteeringParams_(i.toString())}decodeDataUriManifest_(e){const t=JSON.parse(window.atob(e));this.assignSteeringProperties_(t)}setSteeringParams_(e){const t=new window.URL(e),i=this.getPathway(),s=this.getBandwidth_();if(i){const e=`_${this.manifestType_}_pathway`;t.searchParams.set(e,i)}if(s){const e=`_${this.manifestType_}_throughput`;t.searchParams.set(e,s)}return t.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version)return this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),void this.trigger("error");this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const t=(e=>{for(const t of e)if(this.availablePathways_.has(t))return t;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==t&&(this.currentPathway=t,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const t=e=>this.excludedSteeringManifestURLs.has(e);if(this.proxyServerUrl_){const i=this.setProxyServerUrl_(e);if(!t(i))return i}const i=this.setSteeringParams_(e);return t(i)?null:i}startTTLTimeout_(e=this.steeringManifest.ttl){const t=1e3*e;this.ttlTimeout_=window.setTimeout((()=>{this.requestSteeringManifest()}),t)}clearTTLTimeout_(){window.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.,this.clearTTLTimeout_(),this.currentPaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.excludedPathways_=new Set,this.steeringManifest=new Km}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}}const Qm=10;let Jm;const Zm=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],eg=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},tg=function({currentPlaylist:e,buffered:t,currentTime:i,nextPlaylist:s,bufferLowWaterLine:n,bufferHighWaterLine:r,duration:a,bufferBasedABR:o,log:l}){if(!s)return Tr.log.warn("We received no playlist to switch to. Please check your stream."),!1;const d=`allowing switch ${e&&e.id||"null"} -> ${s.id}`;if(!e)return l(`${d}t playlist isaylist is live llhls, but currentTime isn't in buffered.`),!1);const u=ru(t,i),c=o?Pc.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Pc.MAX_BUFFER_LOW_WATER_LINE;if(a<c)return l(`${d} as duration < max low water line (${a} < ${c})`),!0;const p=s.attributes.BANDWIDTH,m=e.attributes.BANDWIDTH;if(p<m&&(!o||u<r))current bandwidth (${p} < ${m})`;return o&&(e+=` and forwardBuffer < bufferHighWaterLine (${u} < ${er >= bufferLowWaterLine (${u} >= ${n})`;return o&&(e+=` and next bandwidth > current bandwidth (${p} > ${m})`),l(e),!0}return l(`not ${d} as no switching criteria met`),!1};class ig extends Tr.EventTarget{constructor(e){super();const{src:t,witnon-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:m}=e;null==m&&(m=1/0),Jm=r,this.bufferBasedABR=BooueTags_=a,this.playlistExclusionDuration=o,this.maextTracks:this.inbandTextTracks_,cacheEncryptionKeys:h,sourceUpdater:this.sooader_.bandwidth;this.contentSteeringController_=new Ym(this.vhs_.xhr,f),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",(()=>this.startABRTimer_())),this.tech_.on("pause",(()=>this.stopABRTimer_())),this.tech_.on("play",(()=>this.startABRTimer_()))),Zm.forEach((e=>{this[e+"_"]=eg.bind(this,e)})),this.logger_=Hh("pc"),this.triggeredFmp4Usage=!1,"none"===this.tech_.preload()?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=d()?"play":"loadstart";this.tech_.one(y,(()=>{cata__=Date.now()-e,this.mainAppendsToLoadedDa}timeToLoadedData_(){return this.timeToLoadedData__ger({type:"usage",name:`vhs-rendition-change-${t}`})),this.mainPlaylistLoader_.media(e,i)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((e=>{const t=this.mediaTypes_[e],i=t?t.activeGroup():null,s=this.contia(),t=1.5*e.targetDuration*1e3;Su(this.mainPlaylistLoader_.main,this.mainimeout=t,e.endList&&"none"!==this.tech_.tOptions_),this.mainSegmentLoader_.load()),Gm({sourceType:thisDIO:this.audioSegmentLoader_,SUBTITLESns_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.Ar.media()?this.trigger("selectedinitialmedia"):tylistLoader.one("loadedmetadata",(()=>{this.tdplaylist",(()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){let t;if(this.initContentSteeringController_(),this.excludeUnsupportedVariants_(),this.enableLowInitialPlaylist&&(t=this.selectInitialPlaylist()),t||(t=this.selectPlaylist()),!t||!this.shouldSwitchToMedia_(t))return;if(this.initialMedia_=t,this.switchMedia_(this.initialMed{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})})),this.mainPlaylistLoader_.on("mediachanging",(()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()})),this.mainPlaylistLoader_.on("mediachange",(()=>{laylistLoader_.media())?this.requestOpterexcludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))})),this.mainPlaylistLoader_.on("renditiondisabled",(()=>{this.tech_.trigger({type:"usage",name:"vhs-);const n=[];(s||"audio"===e)&&n.push("AUDIO"),(s||"subtitle"===e)&&(n.push("CLOSED-CAPTIONS"),n.push("SUBTITLES")),n.forEach((e=>{const t=this.mediaTypes_[e]&&this.mediaTypes_[e].activePlaylistLoader;t&&i.push(t)})),["main","audio","subtitle"].forEach((t=>{const s=this[`${t}SegmentLoader_`];!s||e!==t&&"all"!==e||i.push(s)})),i.forEach((e=>t.forEach((t=>{"function"==typeof e[t]&&e[t]()}))))}setCurrentTime(e){const t=Yh(this.tech_.buffered(),e);return this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media()&&this.mainPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.resetEverything(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.r this.load()):0}duration(){if(!this.mainP(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlayt i=this.syncController_.getExpiredTime(t,this.duration());if(null===i)return;const s=this.mainPlaylistLoader_.main,n=Jm.Playlist.seekable(t,i,Jm.Playlist.liveEdgeDelay(s,t));if(0===n.length)return;if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(e.length)return}let r,a;this.seekable_&&this.seekable_.length&&(r=this.seekable_.end(0),a=this.seekable_.start(0)),e?e.start(0)>n.end(0)||n.start(0)>e.end(0)?this.seekable_=n:this.seekable_=zh([[e.start(0)>n.start(0)this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===r&&this.seekable_.start(0)===a||(this.logger_(`seekemoveEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlayliine codecs for playlist."},playlistExclusionDuration:1/0});const r=(e,t)=>e?Kr(t):Yr)}})),n&&o&&t.attributes.AUDIO){const e=t.attributes.AUDIO;this.main().playlists.forEach((i=>{(i.attributes&&i.attributes.AUDIO)===e&&i!==t&&(i.excludeUntil=1/0)})),this.logger_(`(Vr(this.sourceUpdater_.codecs[t]||"")[0]||{}).type,n=(Vr(s[t]||"")[0]||{}).tyceUpdater_.codecs[t]}" -> "${s[t]}"`)})),e.length)return void this.excludePlaylist({playlistToExclude:t,error:{message:`Codec switching not supported: ${e.join(", ")}.`,Buffers())return;if(!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)rdeUnsupportedVariants_(){const e=tideo||Yr(rted: ${rl.video){&&o.push(`video codec "${e.type}" !== "${r.type}"`),t&&a&&teReason_,s=!0);const l=!r.excludeUntil&&r.excludeUntil!==1/0;!i.has(r.id)&&o&&l&&(i.add(r.id),r.excludeUntil=1/0,r.lastExcludeReason_="content-steering",this.logger_(`excluding ${r.id} for ${r.lastExcludeReason_}`))})),"DASH"===this.contentSteeringController_.manifestType_&&Object.keys(this.mediaTypes_).forEach((t=>{const i=this.mediaTypes_[t];if(i.activePlaylistLoader){const t=i.activePlaylistLoader.media_;t&&t.attributes.serviceLocation!==e&&(s=!0)}})),s&&this.changeSegmentPathway_()}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),"DASH"===this.contentSteeringController_.manifestType_&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}}const sg=(e,t,i)=>s-download-exclusion`}),"sub,playlistExclusionDuration:1/0})))}checkCurrentTime_(){i_.currentT(tvehido,this.beforeSeekableWindow_(e,t)){const t=e.start(0);i=t+(t===!==i)return this.logger_(`Trying to seek outside of seekable at time ${t} with seekable range ${eu(e)}. Seeking to ${i}.`),this.tech_.setCurrentTime(i),!0;const s=this.playlistController_.sourceUpdater_,n=this.tech_.buffered(),r=s.audioBuffer?s.audioBuffered():null,a=s.videoBuffer?s.videoBuffered():null,o=this.media(Time(i),!0)}waiting_(){if(thetC-> ${i.end(0)}]. Attempting to resume playback by seeking to the current time.`),void this.tech_.trigger({type:"usage",name:"vhs-unkhissage",name:"vhs-video-underflow"}),!0;const n=Qh(s,t);return n.length>0&&(this.logger_(`Stopped at ${t} and seeking to ${n.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(t),!0)}afterSeekableWi+3*i.targetDuration),t>n}beforeSeekableWindow_(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:t,currentTime:i}){if(!e)return;let s;if(e.length&&t.length){const n=Yh(e,i-3),r=Yh(e,i),a=Yh(tger_(`Encountered a gap in video from ${s.start} to ${s.end}. Seeking to current time ${i}`),!0)}skipTheGap_(e){const t=this.tech_.buffered(),i=this.t,i,"scheduled currentTime:",e,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+Gh(e);for(let e=0;e<i.length;e++){const s=i.start(e),n=i.end(e);if(t-s<4&&t-s>2)return{start:s,end:n}}return null}}const lg={errore,t){let i=0,s=0;cons"usage",name:"vhs-error-reload-canceled"});else{if(n.getSource&&"function"==typeof n.getSource)return i=Date.now(),n.getSource.call(e,a);Tr.log.error("ERROR: reloadSourceOnError - The option getSource must be a fue.off("dispose"dg(this,e)};var ug="3.7.0",cg="7.0.1",pg="1.2.2",mg="7.1.0",gg="4.0.1";const fg={PlaylistLoader:Gu,Playlist:Cu,utils:hc,STANDARD_PLAYLIST_SELECTOR:Ip,Lp,lastBandwidthSelector:Ip,movingAverageBandwidthSelector:Ap,comparePlaylistBandwidth:kp,comparePlaylistResolution:Cp,xhr:Ju()};Object.keys(Pc).forEach((e=>{Object.defineProperty(fg,e,{get(){return Tr.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),Pc[e]},set(t){Tr.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),"number"!=typeof t||t<0?Tr.log.warn(`value of Vhs.${e} must be greater than or equal to 0`):Pc[e]=t}})}));const yg="videojs-vhs",_g=function(e,t){const i=t.media();let s=-1;for(let t=0;t<e.length;t++)if(e[t].id===i.id){s=t;break}e.selectedIndex_=s,e.trigger({selectedIndex:s,type:"change"})},vg=function(e,t){t.representations().forEach((t=>{e.addQualityLevel(t)})),_g(e,t.playlists)};fg.canPlaySource=function(){return Tr.log.warn("VHS is no longer a tech. Please remove it ={};for(const i in e)a[i]={},r&&[i].pssh&&(a[i].pssh=t.contenti)=>{if(!i.contentProtection)return e;const s=t.reduce(((e,t)=>{const s=i.contentProtection[t];return s&&s.pssh&&(e[t]={pssh:s.pssh}),e}),{});return Object.keys(s).length&&e.push(s),e}),[]),Sg=({player:e,sourceKeySystems:t,audioMedia:i,mainPlaylists:s})=>{if(!e.eme.initializeMediaKeys)return Promise.resolve();const n=i?s.concat([i]):s,r=Tg(n,Object.keys(t)),a=[],o=[];return r.forEach((t=>{o.push(new Promise(((t,i)=>{e.tech_.one("keysessioncreated",t)}))),a.push(new Promise(((i,s)=>{e.eme.initializeMediaKeys({keySystems:t},(e=>{e?s(e):i()}))})))})),Promise.race([Promise.all(a),Promise.race(o)])},wg=({player:e,sourceKeySystems:t,media:i,audioMedia:s})=>{const n=bg(t,i,s);return!(!n||(e.currentSource().keySystems=n,n&&!e.eme&&(Tr.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1)))},Eg=()=>{if(!window.localStorage)return null;const e=window.localStorage.getItem(yg);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},kg=e=>{if(!window.localStorage)return!1;let t=Eg();t=t?Vh(t,e):e;try{window.localStorage.setItem(yg,JSON.stringify(t))}catch(e){return!1}return t},Cg=e=>0===e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(e.substring(e.indexOf(",")+1)):e,xg=(e,t)=>{e._requestCallbackSet||(e._requestCallbackSet=new Set),e._requestCallbackSet.add(t)},Ig=(e,t)=>{e._responseCallbackSet||(e._responseCallbackSet=new Set),e._responseCallbackSet.add(t)},Ag=(e,t)=>{e._requestCallbackSet&&(e._requestCallbackSet.delete(t),e._requestCallbackSet.size||delete e._requestCallbackSet)},Dg=(e,t)=>{e._responseCallbackSet&&(e._responseCallbackSet.delete(t),e._responseCallbackSet.size||delete e._responseCallbackSet)};fg.supportsNativeHls=function(){if(!document||!document.createElement)return!1;const e=document.createElement("video");return!!Tr.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),fg.supportsNativeDash=!!(document&&document.createElement&&Tr.getTech("Html5").isSupported())&&/maybe|probably/i.test(document.createElement("video").canPlayTyg.supportsNativeHls:"dash"===e&&fg.supportsNativeDash,fg.isSupported=function(){return Tr.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")},fg.xhr.onRequest=function(e){xg(fg.xhr,e)},fg.xhr.onResponse=function(e){Ig(fg.xhr,e)},fg.xhr.offRequest=function(e){Ag(fg.xhr,e)},fg.xhr.offResponse=function(eponent("Component");class Pg extends Lg{constructor(e,t,i){if(super(t,i.vhs),"number"==typeof i.initialBandwidth&&(this.options_.bandwidth=i.initialBandwidth),this.logger_=Hh("VhsHandler"),t.options_&&t.options_.playerId){const e=Tr.getPlayer(t.options_.playerId);this.player_=e}if(this.tdeNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(document,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(e=>{const t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;t&&t.contains(this.tech_.el())stController_.chekihis.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()})),this.on(this.tech_,"play",this.play)}setOptions_(){if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensioource_.useBandwidthFrs.othis.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.calculateTigment=this.options_.calculateTimestampOffsetForEachSegment||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=!1!==this.options_.llhls,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,"number"!=typeof this.options_.playlistExclusionDuration&&(this.options_.playlistExclusionDuration=60),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){const e=Eg();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Pc.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Pc.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelR,"customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","calculateTimestampOffsetForEachSegment","exactManifestTimings","leastPixelDiffSelector"].forEach((e=>{void 0!==this.source_[e]&&(this.options_[e]=this.source_[e])})),this.limitRenditionByPlayerDimensions=this.oDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}src(e,t){if(!e)return;this.setOptions_(),this.options_.src=Cg(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=fg,this.options_.sourceType=ta(t),this.options_.seekTo=e=>{this.tech_.seekable:()=>this.seekable(),media:()=>this.playlistCo(),playlistController:this.playlistController_});this.playbackWatcher_=new og(i),this.playlistController_.on("error",(()=>{const e=Tr.players[this.tech_.options_.playerId];let t=this.playlistController_.error;"object"!=typeof t||t:3}):t.code=3,e.error(t)}));const s=this.options_.bufferBasedABR?fg.movingAverageBandwidthSelector(.55):fg.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylioller_.mainSegmentLoader_.throughput.rate=e,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let e=this.playlistController_.mainSegmentLoader_.bandwidth;const t=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,i=1e7;if(this.options_.useNetworkInformationApi&&t){const s=1e3*t.downlink*1e3;e=s>=iRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{ge0},mainAppendsToLoadedData:{get:()=>this.p()||0,enumerable:!0},audioAppendsToLoaData_()||0,enumerable:!0},appendsToLoadedData:{get:(),this.playlistController_.on("selectedinitialmedia",(()=>{rg(tffers",(()=>Controller_ourceUrl_=window.ssions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),Sg({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then((()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()})).catch((e=>{this.logger_("error while creating EME key session",e),this.player_.error({message:"Failed to initialize media keys for EME",code:3})}))}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,t=wg({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});this.player_.tech_.on("keystatuschange",(e=>{if("output-restricted"!==e.status)return;const t=this.playlistController_.main();if(!t||!t.playlists)return;const i=[];t.playlists.forEach((e=>{e&&e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height>=720&&(!e.excludeUntil||e.excludeUntil<1/0)&&(e.excludeUntil=1/0,i.push(e))})),i.length&&(Tr.log.warn('DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.',...i),this.playlistController_.mainSegmentLoader_.resetEverything(),this.playlistController_.fastQualityChange_())})),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),t?this.createKeySessions_():this.playlistController_.sourceUpdater_.initializedEme()}setupQualityLevels_(){const e=Tr.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",(()=>{vg(this.qualityLevels_,this)})),this.playlists.on("mediachange",(()=>{_g(this.qualityLevels_,this.playlists)})))}static version(){return{"@videojs/http-streaming":ug,"mux.js":cg,"mpd-parser":pg,"m3u8-parser":mg,"aes-decrypter":gg}}version(){return this.constructor.version()}canChangeType(){return Tm.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&window.URL.revokeObjectURL&&(window.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,t){return _c({playlist:this.playlistController_.media(),time:e,callback:t})}seekToProgramTime(e,t,i=!0,s=2){return vc({programTime:e,playlist:this.playlistController_.media(),retryCount:s,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}setupXhrHooks_(){this.xhr.onRequest=e=>{xg(this.xhr,e)},this.xhr.onResponse=e=>{Ig(this.xhr,e)},this.xhr.offRequest=e=>{Ag(this.xhr,e)},this.xhr.offResponse=e=>{Dg(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}}const Og={name:"videojs-http-streaming",VERSION:ug,canHandleSource(e,t={}){const i=Vh(Tr.options,t);return Og.canPlayType(e.type,i)},handleSource(e,t,i={}){const s=Vh(Tr.options,i);return t.vhs=new Pg(e,t,s),t.vhs.xhr=Ju(),t.vhs.setupXhrHooks_(),t.vhs.src(e.src,e.type),t.vhs},canPlayType(e,t){const i=ta(e);if(!i)return"";const s=Og.getOverrideNative(t);return!fg.supportsTypeNatively(i)||s?"maybe":""},getOverrideNative(e={}){const{vhs:t={}}=e,i=!(Tr.browser.IS_ANY_SAFARI||Tr.browser.IS_IOS),{overrideNative:s=i}=t;return s}};return Kr("avc1.4d400d,mp4a.40.2")&&Tr.getTech("Html5").registerSourceHandler(Og,0),Tr.VhsHandler=Pg,Tr.VhsSourceHandler=Og,Tr.Vhs=fg,Tr.use||Tr.registerComponent("Vhs",fg),Tr.options.vhs=Tr.options.vhs||{},Tr.getPlugin&&Tr.getPlugin("reloadSourceOnError")||Tr.registerPlugin("reloadSourceOnError",hg),Tr}()}}]);
//# sourceMappingURL=4890.js.map?id=7055dedf9c99424b