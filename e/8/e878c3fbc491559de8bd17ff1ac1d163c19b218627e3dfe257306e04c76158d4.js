(self.webpackChunkaem_module_ui_frontend=self.webpackChunkaem_module_ui_frontend||[]).push([[9354],{9354:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:);var n=a(2749),s=a(9755),i=a.n(s),l=a(7510),o=a(6611);class r extends n.Z{constructor(e){super(e),this.timer=0,this.navTimer=0,this.$navButtons=i()(r.S_PANEL_BUTTONS),this.$navSelector=i()(r.S_NAV_SELECTOR),this.$panels=i()(r.S_PANELS),this.$linkOnFocusVisible=".cmp-desktop-nav a:focus-visible",this.bindElements()}bindElements(){this.$navButtons.on("mouseenter",this.revealPanelHandler.bind(this)),this.$navButtons.on("mouseleave",this.hidePanelHandler.bind(this)),this.$navButtons.on("keydown",(e=>{"Enter"===e.key&&this.revealPanelHandlerForEnterkey.call(this,e)})),this.$panels.on("mouseenter",(),this.$panels.on("mouseleave",this.panelLeaveHandler.bind(this)),l.EventBusInstance.on(o.events.cuda.navBarDesktop.openPanel,(e=>{const t=e.detail;this.fadeInPanel(t.panelId,!1)})),l.EventBusInstance.on(o.events.cuda.navBarDesktop.closePanel,(e=>{const t=e.detail;this.fadeOutPanel(t.panelId)}))}activeNavButtonSwitcher(){this.$navButtons.removeClass(r.M_NAV_BTN_ACTIVE),this.$navButtons.attr("aria-expanded","false")}fadeInPanel(e,t){const a=this.$panels.filter(`[data-nav-panel-id="${e}"]`);this.$navButtons.filter(`[data-nav-panel="${e}"]`).addClass(r.M_NAV_BTN_ACTIVE),window.clearTimeout(this.timer),window.setTimeout((()=>{this.$panels.removeClass(r.M_PANEL),this.fadeInOverlay(),a.addClass(r.M_PANEL);const e=a.find("a:first").eq(0)[0];window.setTimeout((()=>{e.focus(),!1===t&&this.hideOutlineForLink()}),100)}),300)}hideOutlineForLink(){i()(this.$linkOnFocusVisible).addClass("no-outline")}showOutlineForLinkadeOutPanel(e){const t=this.$panels.filter(`[data-nav-panel-id="${e}"]`);this.fadeOutOverlay(),this.$navButtons.removeClass(r.M_NAV_BTN_ACTIVE),this.$navButtons.attr("aria-expanded","false"),t.removeClass(r.M_PANEL)}fadeInOverlay(){i()(this.$elements.overlay).addClass(r.M_OVERLAY)}fadeOutOverlay(){i()(this.$elements.overlay).removeClass(r.M_OVERLAY)}revealPanelHandler(e){e.preventDefault();const t=i()(e.currentTarget),a=t.data("navPanel");this.activeNavButtonSwitcher.call(this),this.fadeInPanel(parseInt(a,10),!1),this.moveNavSelector(t),this.showNavSelector()}revealPanelHandlerForEnterkey(e){e.preventDefault();const t=i()(e.currentTarget),a=t.data("navPanel");this.activeNavButtonSwitcher.call(this),this.fadeInPanel(parseInt(a,10),!0),this.moveNavSelector(t),this.showNavSelector()}hidePanelHandler(e){const t=i()(e.currentTarget).data("navPanel");this.timer=window.setTimeout((()=>{this.fadeOutPanel(t),this.hideNavSelector()}),300)}panelLeaveHandler(e){const t=i()(e.currentTarget).data("navPanelId");this.timer=window.setTimeout((,300)}showNavSelector(){this.$navSelector.addClass(r.M_NAV_SELECTOR_ACTIVE),i()(".cmp-horizontal-tab")[0].focus()}oveNavSelector(e){const t=e.position();this.$navButtons.removeClass(r.M_NAV_BTN_ACTIVE),this.$navButtons.attr("aria-expanded","false");const a={left:t.left,width:`${e.outerWidth()||0}px`,height:`${e.outerHeight()||0}px`};this.$navSelector.css(a),e.addClass(r.M_NAV_BTN_ACTIVE),e.attr("aria-expanded","true")}}r.S_PANEL_BUTTONS="[data-nav-panel]",r.S_NAV_SELECTOR=".js-cmp-header__bottom-menu__list__item-selector",r.S_PANELS="[data-nav-panel-id]",r.M_NAV_SELECTOR_ACTIVE="cmp-header__bottom-menu__list__item-selector--active",r.M_NAV_BTN_ACTIVE="cmp-header__bottom-menu__list__item-link--active",r.M_NAV_BTN=".cmp-header__bottom-menu__list__item-link",r.M_OVERLAY="cmp-desktop-nav__overlay--active",r.M_PANEL="cmp-desktop-nav__panel--show"}}]);