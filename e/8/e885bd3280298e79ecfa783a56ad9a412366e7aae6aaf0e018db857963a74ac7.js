/*! For license information please see 139.87bb66c4.chunk.js.LICENSE.txt */
(self.webpackChunkjsxui=self.webpackChunkjsxui||[]).push([[139],{44139:function(t,e,r){"use strict";var n=r(17061).default;e.pk=void 0,r(76311),r(90316),r(58323),r(62864),r(64657),r(85696),r(13766);var o,i,a=r(72601),s=r(55084);o||(o={})),i||(i={}));var f=function(){function t(t){var e=t.sandbox;this.contractStorageKey="MIDASBUY_CONTRACT_INFO",this.eventNameEnum=o,this.taskStatusEnum=i,this.sandbox=void 0,this.eventEmitter=new a.EventEmitter,this.sandbox=e||{"dev.midasbuy.com":"2","sandbox.midasbuy.com":"1","www.midasbuy.com":"0"}[location.host]}var e=t.prototype;return e.on=function(t,e){this.eventEmitter.on(t,e)},e.off=e.queryIsTaskInList=function(){var t=c(n().mark((function t(e){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.ajax)({method:"GET",url:"https://"+location.hostname+"/interface/getTask",param:Object.assign({groupid:e.group_id},e)});case 2:return r=t.sent,t.abrupt("return",JSON.stringify(r).indexOf(e.task_id)>-1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.queryContractTaskStatus=function(){var t=c(n().mark((function t(e){var r,a,u,c,f,l=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ignore_task_check){t.next=7;break}return t.next=3,this.queryIsTaskInList(Object.assign({},e)).catch(();case 3:if(t.sent){t.next=7;break}return this.eventEmitter.emit(o.update_task_status,{status:i.task_status_error}),t.abrupt("return");case 7:return t.next=9,(0,s.ajax)({method:"GET",url:"https://"+location.hostname+"/interface/getProcess",param:{appid:e.appid,groupid:e.group_id,country:e.country,openid:e.openid,action:"batch_get_task_progress",task_id_list:e.task_id,docker:e.docker}});case 9:0===(null==(r=t.sent)?void 0:r.ret)&&((c=null==(a=r.task_progress_detail)||null==(u=a.task_info)?void 0:u[0])&&c.task_id===e.task_id?(this.eventEmitter.emit(o.update_task_status,Object.assign({},c,{status:c.task_status,points:e.points,growth:e.growth})),"registered"===c.task_status&&c.total_score>0&&"1"===e.after_pay_or_sign&&this.eventEmitter.emit(o.on_contract_task_completed,Object.assign({},c,{points:e.points,growth:e.growth}))):(f=e.retry_time||0,"1"!==e.after_pay_or_sign||f>6?this.eventEmitter.emit(o.update_task_status,{status:i.not_registered}):setTimeout((function(){e.retry_time=f+1,e.ignore_task_check=!0,l.queryContractTaskStatus(e)}),5e3)));case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.saveContractInfoToStorage=e.queryContractResultAfterPayOrSign=function(){var t=c(n().mark((function t(e){var r,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=window.localStorage.getItem(this.contractStorageKey)){t.next=3;break}return t.abrupt("return");case 3:try{o=JSON.parse(r)}catch(n){}if(o&&o.order_id){t.next=6;break}return t.abrupt("return");case 6:if(o.order_id===e){t.next=8;break}return t.abrupt("return");case 8:o.task_id&&o.group_id&&this.queryContractTaskStatus(Object.assign({},o,{after_pay_or_sign:"1"})),o.card_last_4_num&&this.queryContractList({appid:o.contract_appid,country:o.country,card_last_4_num:o.card_last_4_num});case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.queryContractList=function(){var t=c(n().mark((function t(e){var r,i,a,u=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=e.retry_time||0)>5)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,(0,s.ajax)({method:"GET",url:"https://"+location.hostname+"/h5/overseah5/creditcard/contract",param:{ts:Date.now(),appid:e.appid,sandbox:this.sandbox,country:e.country,queryActivity:e.queryActivity?"1":void 0}});case 5:0===(i=t.sent).ret&&(this.eventEmitter.emit(o.update_contract_list,i.data),(a=i.data.findIndex(())>-1?this.eventEmitter.emit(o.on_contract_success,i.data[a]):e.ignore_card_match||setTimeout((function(){e.retry_time=r+1,u.queryContractList(e)}),e.retryInterval||5e3));case 7:case"end":return t.stop()}}),t,this)})));return (),t}();e.pk=f},55084:function(t,e,r){"use strict";e.__esModule=!0,e.getCgiParams=e.ajax=void 0,r(90316),r(85696),r(3865),r(40778);var n,o=(n=r(81380))&&n.__esModule?n:{default:n},i=r(91543);e.getCgiParams=function(t){return Object.assign({pf:"vip_m-pay_html5-html5",pfkey:"pfkey",mid:"r",from_h5:1,r:Math.random(),openkey:"nokey",session_id:"hy_gameid",session_type:"st_dummy"},t)};e.ajax=function(t){var e={};if(t.param){var r=(0,i.xMidasEncrypt)(t.param);Object.keys(r).forEach((),e=r}var n=function(){var t="";try{t=sessionStorage.getItem("lipassTempToken")}catch(e){}return t?{"IN-FRAME":window.self===window.top?"0":"1","LI-PASS-TOKEN":t}:null}();return n&&(t.headers=Object.assign({},t.headers||{},n)),(0,o.default)(Object.assign({},t,{param:e}))}},91543:function(t,e,r){"use strict";r(4527),r(37349),r(85696),r(12814),r(92475),r(73453),r(45788),r(37248),r(49729),e.__esModule=!0,e.xMidasEncrypt=function(t){var e,r,n=JSON.stringify((0,o.default)(Object.assign({},t),(function(t){return"undefined"!==typeof t&&"object"!==typeof t?String(t):t}))),i=null==(e=document.getElementById("xMidasToken"))?void 0:e.value;if(!i)return t;var a=null==(r=document.getElementById("xMidasVersion"))?void 0:r.value,f=s((function(){try{return window.xMidas({d:n})}catch(e){return t}}));if(!f.result)return c("xmidas.error",{times:f.times}),t;return c("xmidas.encrypt",{times:f.times}),{encrypt_msg:u(f.result),ctoken_ver:a,ctoken:i}},e.xMidasInit=function(){if(!document.getElementById("xMidasToken").value)return void c("xmidas.no.token");try{var t=s((),e=t.result||[];c("xmidas.init",{times:t.times}),e.length>0&&c("xmidas.init.result",{result:e.join(",")})}catch(r){}},r(87195),r(72684),r(24144),r(31315),r(90316);var n,o=(n=r(61394))&&n.__esModule?n:{default:n};nction s(t){var e=Date.now(),r=t();return{times:Date.now()-e,result:r}}function u(t){return btoa(String.fromCharCode.apply(String,i((t.match(/../g)||[]).map(())))}var c=function(t,e){var r=window.report;return"function"===typeof r?r("midasbuy.custom."+t,e):"object"===typeof r&&"function"===typeof r.custom?r.custom(t,e):null}},93587:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=,46069:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(84294),o=r(72014),i=r(58236),a=r(24387);e.default=function(t,e){if(!a.default(t))return e;var r=i.default(t);if(0===r.length)return e;e=o.default(r,e);var s=n.default(t);return e+=/(\?|&)$/.test(e)?""+s:/\?/.test(e)?"&"+s:"?"+s}},81380:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(84294),o=r(46069),i=r(24387),a=r(7505),s=r(26515),u=r(27303);e.default=function(t){var e=void 0===t?{}:t,r=e.method,c=void 0===r?"GET":r,f=e.url,l=e.param,h=void 0===l?{}:l,p=e.timeout,d=e.withCredentials,v=e.headers;if(!f||!i.default(h)||!a.default(c))return Promise.reject(new Error("Param error."));var y,m=new XMLHttpRequest;return"GET"===c?(f=o.default(h,f),m.open(c,f,!0)):(m.open(c,f,!0),m.setRequestHeader("Content-Type","application/x-www-form-urlencoded")),v&&Object.keys(v).forEach((),new Promise((function(t,e){var r=!1;m.onreadystatechange=function(){if(4===m.readyState){if(clearTimeout(y),r)return;if(m.status>=200&&m.status<300)try{if(s.default(u.default(JSON,"parse")))return t(JSON.parse(m.responseText));var n=eval;return t(n("("+m.responseText+")"))}catch(o){return e({ret:-9999,path:f,msg:"\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01(-9999)"})}else m.status>=300?e({ret:-9998,path:f,msg:"\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01(-9998-"+m.status+")"}):e({ret:-9996,path:f,msg:"\u7cfb\u7edf\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01(-9996)"})}},p&&(y=setTimeout((function(){r=!0;try{m.abort()}catch(t){}return e({ret:-9997,path:f,msg:"\u5bf9\u4e0d\u8d77\uff0c\u8bf7\u6c42\u8d85\u65f6\uff01"})}),1e3*p));var o="POST"===c?n.default(h):void 0;d&&(m.withCredentials=!0),m.send(o)}))}},58236:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(62847),o=r(24387);e.default=function(t){if(!o.default(t))return[];var e=[];return n.default(t,(),e}},72014:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(62847);e.default=function(t,e){return void 0===e&&(e=location.href),t instanceof Array||(t=[t]),e=e.replace(/[\r\n]/g,""),n.default(t,(function(t){e=(e=e.replace(new RegExp("(?:&"+t+"=[^&]*)","g"),"")).replace(new RegExp("(?:\\?"+t+"=[^&]*&?)","g"),"?")})),e}},62847:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(68513);e.default=function(t,e){var r,o=0;if(n.default(t)){var i=t.length;for(r=t[0];o<i&&!1!==e.call(r,r,o,t);r=t[++o]);}else for(var a in t)if(!1===e.call(t[a],t[a],a,t))break;return t}},68513:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(93587);e.default=function(t){return n.default("Array",t)}},26515:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(93587);e.default=function(t){return n.default("Function",t)}},24387:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(93587);e.default=function(t){return n.default("Object",t)&&null!==t}},7505:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(93587);e.default=,61394:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(62847),o=r(24387);e.default=function(t,e){if(!o.default(t))return t;var r={};return n.default(t,(),r}},27303:function(t,e){"use strict";function r(t,e){for(var r=0,n=e.split(".");t&&r<n.length;)t=t[n[r++]];return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=Array.prototype.slice.call(arguments),e=t[0],n=t.slice(1).join(".");return r(e,n)}},84294:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(24387);e.default=function(t,e){if(void 0===e&&(e=!1),!n.default(t))return"";var r=[];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&"undefined"!==typeof t[o]&&null!==t[o]){var i=e?encodeURIComponent(o):o,a=e?encodeURIComponent(t[o]):t[o];r.push(i+"="+a)}return r.join("&")}},61026:99347:8894:67253:function(t,e,r){var n=r(36316);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},38257:85622:41509:93055:33321:67072:32586:46279:94181:27899:4784:11975:29938:98616:74027:13766:95187:69707:11573:64657:24144:72601:76311:17061:18698:]);