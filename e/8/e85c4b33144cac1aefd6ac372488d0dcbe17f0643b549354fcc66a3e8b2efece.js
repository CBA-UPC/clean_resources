
(function(){Ace.Define("SpinSport_Client_Module_FreeBet",function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){"use strict";function ft(){}function et(){}function tt(){}function ot(){}function ei(){}function oi(){}function st(){}function ht(){}function ct(){}function d(){}function hi(n,t,r){this.$0={};this.$0.ManifestVersion="DSharp";this.$0.LibraryProperties=new i.LibraryManifestLibraryProperties(n,t);this.$0.Api=r}function li(t){n.defineProperty(this,"Balance",null);n.defineProperty(this,"InProgress",!1);n.defineProperty(this,"Available",null);n.defineProperty(this,"CurrentTurnover",null);n.defineProperty(this,"RequiredTurnover",null);n.defineProperty(this,"TurnoverAchieved",null);this.$0=t}unction lt(){}function k(){}unction pi(){r.AbstractLibraryActivator.call(this)}function yu(n,t){r.ServiceConfiguration.call(this,null,null);this.serviceType="B8CZV";this.c$2=n;this.c$1=t}function ki(n){f.WidgetConfiguration.call(this,n);this.mediatorType="3ZhfyK";this.presenterType="2w3Uz9";this.stateDataType="3aSKf9";this.presenterConfigurationType="4YYJmx"}function gi(n){f.WidgetConfiguration.call(this,n);this.mediatorType="3yFs7m";this.presenterType="4BMFUk"}function tr(n){f.WidgetConfiguration.call(this,n);this.mediatorType="3yFs7m";this.presenterType="2v3AoW"}function it(n){this.c$1=!1;this.c$2=!1;this.c$3=!1;f.WidgetConfiguration.call(this,n);this.mediatorType="2tms4G";this.presenterType="4P9XIt"}function at(n){f.WidgetConfiguration.call(this,n);this.mediatorType="ODdao";this.presenterType="3MXsd4";this.presenterConfigurationType="2ZFzMI"}function vt(){o.AbstractSkinnablePresenterConfiguration.call(this)}function yt(){o.AbstractSkinnablePresenterConfiguration.call(this)}unction wt(){o.WidgetPresenter.call(this)}function bt(){o.WidgetPresenter.call(this)}unction dt(){o.WidgetPresenter.call(this)}function rt(n,t,i){r.BaseService.call(this,"FreeBetWidgetService",null);this.e$0=n;this.e$1=t;this.e$2=i}function g(n,t){f.WidgetMediator.call(this);this.e$0=n;this.e$1=t}function gt(n,t,i){f.WidgetMediator.call(this);this.e$0=n;this.e$1=t;this.e$2=i}function ni(n,t,i,r){f.WidgetMediator.call(this);this.e$3=n;this.e$0=t;this.e$1=i;this.e$2=r}function wr(n,t){e.TemplateItem.call(this,n,t);e.TemplateItem.prototype.initialise.call(this)}function kr(n,t){e.TemplateItem.call(this,n,t);this.CurrencyFormat=""}function gr(n,t){e.TemplateItem.call(this,n,t);this.e$2=""}function tu(n,t){e.TemplateItem.call(this,n,t)}function ru(n,t,i){e.TemplateItem.call(this,n,t);this.e$3=i}function ti(){o.AbstractSkinnableWidgetPresenter.call(this)}function ii(n){u.AbstractActionService.call(this);this.f$0=n}function ut(n){u.AbstractActionService.call(this);this.f$0=n}unction ui(n){y.ExpandableWidgetMediator.call(this);this.f$0=n}r si,ci,ai,vi,yi,wi,bi,di,nr,ir,rr,ur,fr,er,or,sr,hr,cr,lr,ar,vr,yr,pr,br,dr,nu,iu,uu,fu,eu,ou,su,hu,lu,au;st.$0=function(n){ct.$0(n.CoreContext.Container);var t=new pi;t.setContainer(n.CoreContext.Container);t.initialise()};si={};ht.$0=function(){return st.$0};ct.$0=function(n){i.AliasedContainerExtensions.addAliasedWithLifetime(n,kt,kt,"jMzVJ","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,it,it,"3PJSBi","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,at,at,"3YRV2U","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,ii,ii,"3eqULw","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,ut,ut,"39skvi","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,fi,fi,"23vPZd","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,rt,rt,"B8CZV","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,ri,ri,"1oEsiM","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,ui,ui,"3ZhfyK","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,g,g,"2tms4G","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,gt,gt,"ODdao","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,ni,ni,"3yFs7m","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,lt,lt,"4YYJmx","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,vt,vt,"2ZFzMI","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,yt,yt,"2NxoLX","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,pt,pt,"2w3Uz9","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,wt,wt,"4BMFUk","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,bt,bt,"2v3AoW","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,dt,dt,"4P9XIt","TRANSIENT");i.AliasedContainerExtensions.addAliasedWithLifetime(n,ti,ti,"3MXsd4","TRANSIENT")};d.$0=function(){var n=[];return n.push(d.$1()),n.push(d.$2()),n.push(d.$3()),n};d.$1=function(){var n=new u.ActionConfiguration;return n.Name="4NQQRk",n.Performer="3eqULw",n.PlatformPerformer=null,n.RequiredProperties=new Array(0),n.Validators=new Array(0),n.DefaultProperties={},n};d.$2=function(){var n=new u.ActionConfiguration;return n.Name="4HRk1I",n.Performer="39skvi",n.PlatformPerformer=null,n.RequiredProperties=new Array(1),n.RequiredProperties[0]="NEW_FREE_BET_DATA",n.Validators=new Array(0),n.DefaultProperties={},n};d.$3=function(){var n=new u.ActionConfiguration;return n.Name="13GILP",n.Performer="23vPZd",n.PlatformPerformer=null,n.RequiredProperties=new Array(0),n.Validators=new Array(0),n.DefaultProperties={},n};ci={Build:function(){return this.$0.Initialiser=ht.$0(),this.$0.ActionServices=d.$0(),this.$0}};ai={$get_BalanceString:function(){return n.isValue(this.Balance)?c.CurrencyUtils.convertToCurrencyLessString(this.Balance):null},clear:function(){this.Balance=null;this.Available=null;this.CurrentTurnover=null;this.RequiredTurnover=null;this.TurnoverAchieved=0;this.InProgress=!1},getData:function(){var n=this;return function(){var t=new l.FreeBetData;return t.Available=n.Available,t.Balance=n.Balance,t.CurrentTurnover=n.CurrentTurnover,t.RequiredTurnover=n.RequiredTurnover,t.TurnoverAchieved=n.TurnoverAchieved,t}()},setData:function(n,t){this.Available=n.Available;this.Balance=n.Balance;this.CurrentTurnover=n.CurrentTurnover;this.RequiredTurnover=n.RequiredTurnover;this.TurnoverAchieved=n.TurnoverAchieved;this.InProgress=t;this.$0.sendNotification("FREE_BET_PROXY_UPDATED",null,null)}};vi={};yi={$get_ExpandableComponent:;n.createPropertyGet(k,"$0",function(){return'<div class="freeBetContainer"><div class="freeBetMain"><\/div><div class="freeBetDetailsContainer"><\/div><div class="expandButton">'+Localisation.MORE_INFORMATION+"<\/div><\/div>"});n.createPropertyGet(k,"$1",function(){return'<div class="freeBetDetails"><div class="freeBetContainer"><div class="freeBetAmountContainer"><div class="freeBetItem freeBetItemLeft titleText">'+Localisation.FREE_BET_AMOUNT+' :<\/div><div class="freeBetItem freeBetItemRight freeBetAmount"><\/div><\/div><div class="freeBetStatus"><div class="freeBetItem freeBetItemLeft titleText">'+Localisation.FREE_BET_STATUS+' :<\/div><div class="freeBetItem freeBetItemRight freeBetStatusData"><\/div><\/div><div class="turnoverRequired"><div class="freeBetItem freeBetItemLeft titleText">'+Localisation.TURNOVER_REQUIRED+' :<\/div><div class="freeBetItem freeBetItemRight subtitle turnoverRequiredData"><\/div><\/div><div class="turnoverAchieved"><div class="freeBetItem freeBetItemLeft titleText">'+Localisation.TURNOVER_ACHIEVED+' :<\/div><div class="freeBetItem freeBetItemRight subtitle turnoverAchievedData"><\/div><\/div><\/div><div class="usageMessage">'+Localisation.FREEBET_USAGE_DESC+'<\/div><div class="freeBetTermsButton"><div class="standardGradientBtn">'+Localisation.FREE_BET_TERMS+"<\/div><\/div><\/div>"});n.createPropertyGet(k,"$2",function(){return'<div class="checkBoxArea"><div class="checkBoxContainer"><div class="checkBoxInput"><div class="iconHolder"><div class="icon icon-tick"><\/div><\/div><\/div><div class="description"><span class="label">'+Localisation.USE_FREE_BET_BALANCE+' <span class="balance"><\/span><\/span><\/div><\/div><\/div>'});n.createPropertyGet(k,"$3",;n.createPropertyGet(k,"$4",function(){return'<div class="progressBarContent"><div class="freeBetProgressContent"><div class="iconHolder"><div class="icon-padlock"><\/div><\/div><div id="progressBarWrapper" class="freeBetItem progressBarWrapper"><\/div><div class="iconHolder"><div class="icon-freebetavailable"><\/div><\/div><\/div><\/div>'});n.createPropertyGet(nt,"$0",function(){return'<div class="freeBetLozenge"><div class="freeBetTitle"><span>'+Localisation.FREE_BET+':<\/span> <span class="balance"><\/span><div class="freeBetTitleIcon"><\/div><\/div><\/div>'});n.createPropertyGet(nt,"$1",;wi={beforeInitialise:function(n){r.AbstractLibraryActivator.prototype.beforeInitialise.call(this,n);i.ServiceCollectionExtensions.addSegregatedSingleton(n,li,et,ft,tt,l.IFreeBetBalanceProvider)}};bi={$get_OwnerName:function(){return this.c$1},$get_ContainerName:function(){return this.c$2},$get_ServiceName:function(){return"FreeBetWidgetService"},$get_Parameters:;di={$get_WidgetName:function(){return"ExpandableFreeBetWidget"},initialise:function(){},createMainWidgetConfiguration:function(){return new tr(this.WidgetId)},createDetailsWidgetConfiguration:function(){return new gi(this.WidgetId)}};nr={$get_WidgetName:function(){return"FreeBetDetailsWidget"}};ir={$get_WidgetName:function(){return"FreeBetProgressWidget"}};rr={$get_ShowBalance:function(){return this.c$1},$set_ShowBalance:function(n){return this.c$1=n,n},$get_IsSelected:function(){return this.c$2},$set_IsSelected:function(n){return this.c$2=n,n},$get_IsEnabled:function(){return this.c$3},$set_IsEnabled:function(n){return this.c$3=n,n},$get_SelectionId:function(){return this.c$4},$set_SelectionId:function(n){return this.c$4=n,n},$get_WidgetName:function(){return"FreeBetSelectionWidget"},onInitialise:function(){var n=this.CustomisationModel;n!=null&&(this.c$1=n.ShowBalance)},reconfigure:function(){n.keyExists(this.ActionProperties,"FREE_BET_ENABLED")&&(this.c$3=this.ActionProperties.FREE_BET_ENABLED);n.keyExists(this.ActionProperties,"FREE_BET_SELECTED")&&(this.c$2=this.ActionProperties.FREE_BET_SELECTED)}};ur={$get_WidgetName:function(){return"FreeBetTitleWidget"},$get_ShowAsHeader:$set_ShowAsHeader:function(n){return this.presenterConfigurationType=n?"2NxoLX":"2ZFzMI",n}};fr={initialiseSkins:function(){this.addSkin("freeBetTitle")},$get_Template:function(){return nt.$1}};er={initialiseSkins:$get_Template:function(){return nt.$0}};or={$get_d$1:onInitialise:function(n){this.d$0=this.d$1.ExpandableComponent;this.d$0.initialise();o.WidgetPresenter.prototype.onInitialise.call(this,n)},getComponent:function(){return this.d$0},collapse:function(){this.d$0.collapse()},expand:function(){this.d$0.expand()},setUpMainWidgetContainer:function(n){this.d$0.setUpMainWidgetContainer(n)},setUpDetailsWidgetContainer:function(n){this.d$0.setUpDetailsWidgetContainer(n)},dispose:function(){this.disposeOf(this.d$0);this.d$0=null;o.WidgetPresenter.prototype.dispose.call(this)}};sr={onInitialise:function(n){this.d$0=new kr(null,null);this.d$0.initialise();o.WidgetPresenter.prototype.onInitialise.call(this,n)},getComponent:function(){return this.d$0},hideFreeBetComponent:function(){this.d$0.hide()},showFreeBetComponent:function(){this.d$0.show()},setFreeBetData:function(n,t){this.d$0.CurrencyFormat=n;this.d$0.setData(t)},hideUserData:function(){this.d$0.hideUserData()},showUserData:function(){this.d$0.showUserData()},dispose:function(){this.disposeOf(this.d$0);this.d$0=null;o.WidgetPresenter.prototype.dispose.call(this)}};hr={onInitialise:function(n){this.d$0=new tu(n,null);this.d$0.initialise()},hideFreeBetComponent:function(){this.d$0.hideFreeBetComponent()},showFreeBetComponent:function(){this.d$0.showFreeBetComponent()},setFreeBetData:getComponent:function(){return this.d$0},hideUserData:function(){this.d$0.hideUserData()},showUserData:function(){this.d$0.showUserData()},dispose:function(){this.disposeOf(this.d$0);this.d$0=null;o.WidgetPresenter.prototype.dispose.call(this)}};cr={$get_SelectionId:function(){return this.c$6},$set_SelectionId:function(n){return this.c$6=n,n},$get_WidgetName:function(){return"BetSlipFreeBetSelectionWidget"}};lr={onInitialise:function(n){this.d$0=new cu(n,null);this.d$0.initialise()},getComponent:function(){return this.d$0},dispose:function(){this.disposeOf(this.d$0);this.d$0=null;o.WidgetPresenter.prototype.dispose.call(this)},enable:function(){this.d$0.enable()},disable:function(){this.d$0.disable()},lock:function(){this.d$0.lock()},unlock:function(){this.d$0.unlock()},setBalance:function(n){this.d$0.setBalance(n)},select:function(){this.d$0.setIsChecked(!0)},deselect:;ar={$get_e$4:function(){return this.ServiceConfiguration},$get_e$5:function(){return this.e$0.InProgress},$get_e$6:function(){return(this.e$0.Balance||0)>0},$get_e$7:onRegister:function(){r.BaseService.prototype.onRegister.call(this);var t=new f.DelegatedWidgetCreationStrategy(n.bind("e$c",this),n.bind("e$b",this));this.e$3=new f.WidgetLifetimeManager(t,t);this.e$a()},setNotificationMap:function(){r.BaseService.prototype.setNotificationMap.call(this);this.addNotification("ACTIVE_CHANNEL_CHANGED",n.bind("e$8",this));this.addNotification("FREE_BET_PROXY_UPDATED",n.bind("e$9",this))},e$8:function(){this.e$a()},e$9:function(){this.e$a()},e$a:function(){this.e$7&&(this.e$5||this.e$6)?this.e$3.start():this.e$3.deactivate()},e$b:function(){return this.e$4.ContainerName},e$c:onRemove:;vr={$get_e$2:function(){return this.ConfigurationData},$get_e$3:function(){return this.viewComponent},$get_e$4:function(){return!(this.e$1.Available||!1)},onActivate:function(){this.e$5()},onReconfigure:function(){this.e$2.reconfigure();this.e$5()},forceRender:function(){f.WidgetMediator.prototype.forceRender.call(this);this.e$d()},setNotificationMap:function(){f.WidgetMediator.prototype.setNotificationMap.call(this);this.addActiveNotification("FREE_BET_PROXY_UPDATED",n.bind("e$c",this));this.addActiveNotification("ENABLE_FREE_BET_SELECTION",n.bind("e$8",this));this.addActiveNotification("DISABLE_FREE_BET_SELECTION",n.bind("e$a",this))},e$5:e$6:function(){this.e$2.IsSelected?this.select():this.deselect()},e$7:select:function(){this.e$3.select()},deselect:function(){this.e$3.deselect()},e$8:function(){this.e$9()},e$9:e$a:function(){this.e$b()},e$b:e$c:function(){this.e$d()},e$d:function(){if(this.e$2.ShowBalance){var n=c.CurrencyFormatter.formatSubunits(this.e$0.CashCurrencyFormat,this.e$1.Balance);this.e$3.setBalance(n)}}};yr={$get_e$3:function(){return this.viewComponent},onActivate:function(){f.WidgetMediator.prototype.onActivate.call(this);this.e$8()},setNotificationMap:function(){f.WidgetMediator.prototype.setNotificationMap.call(this);this.addActiveNotification("LOGIN_SERVICE_STATE_UPDATED",n.bind("e$4",this));this.addActiveNotification("FREE_BET_PROXY_UPDATED",n.bind("e$5",this))},e$4:function(){this.e$8()},e$5:function(){this.e$8()},setInteractionMap:function(){f.WidgetMediator.prototype.setInteractionMap.call(this);this.addInteraction("2OmZXb",n.bind("e$6",this))},e$6:function(){this.e$7()},e$7:function(){var n=new u.IntentModel("GO_TO_FREE_BETS");this.sendNotification("PROCESS_INTENT",n,null)},e$8:function(){this.e$0.IsLoggedIn&&this.e$2.InProgress?this.e$9():this.e$3.hide()},e$9:function(){this.e$3.setFreeBetBalance(this.e$a());this.e$b();this.e$3.show()},e$a:e$b:function(){this.e$2.Available||!1?this.e$3.setAsAvailable():this.e$3.setAsUnavailable()}};pr={$get_Presenter:function(){return this.viewComponent},onActivate:setInteractionMap:function(){f.WidgetMediator.prototype.setInteractionMap.call(this);this.addInteraction("taZ2f",n.bind("e$4",this))},e$4:function(){var n=new u.IntentModel("GO_TO_CLIENTLINK");n.Properties.ClientLinkType=w.ClientLinkTypeEnum.dynamic;n.Properties.ClientLinkValue="SportsWelcomeBonus";this.e$3.performIntent(n);this.e$2.sendNotification("TRACK_FREE_BET_TERMS_BUTTON_TAPPED",null,null)},setNotificationMap:function(){f.WidgetMediator.prototype.setNotificationMap.call(this);this.addActiveNotification("FREE_BET_PROXY_UPDATED",n.bind("e$7",this));this.addActiveNotification("SHOW_SENSITIVE_DATA",n.bind("e$6",this));this.addActiveNotification("HIDE_SENSITIVE_DATA",n.bind("e$5",this))},e$5:function(){this.Presenter.hideUserData()},e$6:function(){this.Presenter.showUserData()},e$7:function(){this.e$8()},e$8:function(){var n=this.e$0.getData();this.Presenter.setFreeBetData(this.e$1.CashCurrencyFormat,n)}};br={$get_ClassName:function(){return"expandableFreeBetWidget"},$get_Template:function(){return k.$0},$get_e$b:onInitialise:function(){this.e$0=e.ElementUtils.getFirstElementByClassName(this.Target,"expandButton");this.e$1=e.ElementUtils.getFirstElementByClassName(this.Target,"freeBetContainer");this.e$2=e.ElementUtils.getFirstElementByClassName(this.Target,"freeBetMain");this.e$3=e.ElementUtils.getFirstElementByClassName(this.Target,"freeBetDetailsContainer");this.e$d();this.e$5=new a.TapRecogniser(this.e$2,n.bind("e$e",this));this.e$6=new a.TapRecogniser(this.e$3,n.bind("e$e",this));this.e$7=new a.TapRecogniser(this.Target,n.bind("e$c",this));this.e$7.StopPropagation=!0;this.e$a=i.AliasedContainerExtensions.getAliasedService(i.ReadonlyContainer.Instance,"WidgetContainerStore")},e$c:function(){},e$d:function(){this.e$4=new a.TapRecogniserWithCapture(this.e$0,n.bind("e$g",this));this.e$4.StopPropagation=!0},e$e:function(){},setUpMainWidgetContainer:function(n){this.e$8=this.e$f(this.e$2,n)},setUpDetailsWidgetContainer:e$f:function(n,t){var i=new o.WidgetContainerComponent(n,this);return i.setKey(t),this.e$a.registerWidgetContainer(i),i},e$g:collapse:function(){this.e$b&&(this.e$1.classList.remove("expanded"),e.ElementUtils.setText(this.e$0,Localisation.MORE_INFORMATION))},expand:function(){this.e$b||(this.e$1.classList.add("expanded"),e.ElementUtils.setText(this.e$0,Localisation.LESS_INFORMATION),e.ElementUtils.reflowElement(this.Target))},dispose:function(){this.disposeOf(this.e$8);this.disposeOf(this.e$9);this.disposeOf(this.e$4);this.disposeOf(this.e$5);this.disposeOf(this.e$6);this.disposeOf(this.e$7);this.e$8=null;this.e$9=null;this.e$4=null;this.e$5=null;this.e$6=null}};dr={$get_CurrencyFormat:function(){return this.e$4},$set_CurrencyFormat:$get_Template:function(){return k.$1},onInitialise:function(){this.e$3=e.ElementUtils.getFirstElementByClassName(this.Target,"freeBetAmount");this.e$0=e.ElementUtils.getFirstElementByClassName(this.Target,"turnoverRequiredData");this.e$1=e.ElementUtils.getFirstElementByClassName(this.Target,"turnoverAchievedData");this.e$2=e.ElementUtils.getFirstElementByClassName(this.Target,"freeBetStatusData");this.e$6=e.ElementUtils.getFirstElementByClassName(this.Target,"usageMessage");this.e$7=e.ElementUtils.getFirstElementByClassName(this.Target,"freeBetTermsButton");this.e$8=new a.TapRecogniserWithCapture(this.e$7,n.bind("e$9",this))},e$9:onSetData:function(n){if(n!=null){var t=n;e.ElementUtils.setText(this.e$3,c.CurrencyFormatter.formatSubunits(this.e$4,t.Balance||0));e.ElementUtils.setText(this.e$0,c.CurrencyFormatter.formatSubunits(this.e$4,t.RequiredTurnover||0));e.ElementUtils.setText(this.e$1,c.CurrencyFormatter.formatSubunits(this.e$4,t.CurrentTurnover||0));this.e$a(t)}},e$a:function(t){var i=e.ElementUtils.getText(this.e$2);n.isValue(t.Available)&&t.Available?((n.emptyString(i)||i===Localisation.LOCKED)&&e.ElementUtils.setText(this.e$2,Localisation.AVAILABLE),this.e$2.classList.add("titleText"),e.ElementUtils.showElement(this.e$6),e.ElementUtils.setText(this.e$6,Localisation.FREEBET_USAGE_DESC),this.e$5!=null&&(e.ElementUtils.removeElement(this.e$5),this.e$5=null)):((n.emptyString(i)||i===Localisation.AVAILABLE)&&e.ElementUtils.setText(this.e$2,Localisation.LOCKED),this.e$2.classList.remove("titleText"),e.ElementUtils.hideElement(this.e$6),this.e$6.innerHTML="",this.e$5==null&&(this.e$5=document.createElement("span"),this.e$5.setAttribute("class","icon-padlock"),this.e$2.appendChild(this.e$5)))},showUserData:function(){e.ElementUtils.setElementVisible(this.e$3);e.ElementUtils.setElementVisible(this.e$0);e.ElementUtils.setElementVisible(this.e$1);e.ElementUtils.setElementVisible(this.e$2)},hideUserData:function(){e.ElementUtils.setElementInvisible(this.e$3);e.ElementUtils.setElementInvisible(this.e$0);e.ElementUtils.setElementInvisible(this.e$1);e.ElementUtils.setElementInvisible(this.e$2)},dispose:function(){e.TemplateItem.prototype.dispose.call(this);this.e$3=null;this.e$0=null;this.e$1=null;this.e$2=null;this.e$6=null;this.e$5!=null&&(this.e$5=null)}};nu={$get_CurrencyFormat:function(){return this.e$2},$set_CurrencyFormat:function(n){if(n!=null)return this.e$2=n,n},$get_Template:function(){return k.$4},$get_ClassName:function(){return"freeBetProgressBarContainer"},onInitialise:onSetData:function(n){if(n!=null){var t=n;this.e$3(t);this.e$4(t);this.e$5(t)}},e$3:function(n){var t=e.ElementUtils.getFirstElementByClassName(this.Target,"progressBarWrapper");this.e$1=new y.ProgressBarComponent(t,null);this.e$1.CurrencyFormat=this.CurrencyFormat;this.e$1.setData(n)},e$4:function(t){var i=this;this.e$1.resetProgress();setTimeout(function(){var r=n.isValue(t.Available)&&t.Available&&!t.TurnoverAchieved?100:t.TurnoverAchieved,u=n.isValue(t.Available)&&t.Available&&!t.TurnoverAchieved?100..toString():t.TurnoverAchieved.toString();i.e$1!=null&&i.e$1.update(r,u,c.CurrencyUtils.convertToCurrencyLessString(t.CurrentTurnover||0))},600)},e$5:function(n){n.TurnoverAchieved<100||this.e$1.setTurnoverCompleted()},resetProgress:function(){this.e$1.resetProgress()},update:showUserData:function(){this.e$1.showUserData()},hideUserData:function(){this.e$1.hideUserData()},dispose:function(){this.disposeOf(this.e$1);this.e$1=null;e.TemplateItem.prototype.dispose.call(this)}};iu={$get_Template:function(){return k.$3},$get_ClassName:function(){return"freeBetProgressWidgetComponent"},onInitialise:function(){this.e$1=e.ElementUtils.getFirstElementByClassName(this.Target,"containerFreeBet");this.e$5=e.ElementUtils.getFirstElementByClassName(this.Target,"freeBetAmount");this.e$2=e.ElementUtils.getFirstElementByClassName(this.Target,"freeBetProgressBarContainer");this.e$3=e.ElementUtils.getFirstElementByClassName(this.Target,"turnoverAchievedProgress");this.e$4=e.ElementUtils.getFirstElementByClassName(this.Target,"turnoverInitialProgress")},createFreeBetComponent:function(n){this.e$6=new gr(this.e$2,null);this.e$6.CurrencyFormat=this.e$7;this.e$6.setData(n)},showFreeBetComponent:function(){this.show()},hideFreeBetComponent:setCurrencyFormat:onSetData:function(n){var t=n;this.e$8(t)&&(this.createFreeBetComponent(t),this.e$5.textContent=c.CurrencyFormatter.formatSubunits(this.e$7,t.Balance),e.ElementUtils.setText(this.e$3,c.CurrencyFormatter.formatSubunits(this.e$7,t.RequiredTurnover||0)),e.ElementUtils.setText(this.e$4,c.CurrencyFormatter.format(this.e$7,0)))},e$8:function(n){return n!=null&&n.CurrentTurnover!=null},showUserData:function(){e.ElementUtils.setElementVisible(this.e$3);e.ElementUtils.setElementVisible(this.e$4);this.e$6.showUserData()},hideUserData:function(){e.ElementUtils.setElementInvisible(this.e$3);e.ElementUtils.setElementInvisible(this.e$4);this.e$6.hideUserData()},dispose:function(){this.disposeOf(this.e$6);this.e$6=null;e.TemplateItem.prototype.dispose.call(this)}};uu={$get_Template:onInitialise:function(){e.TemplateItem.prototype.onInitialise.call(this);this.e$1=e.ElementUtils.getFirstElementByClassName(this.Target,"balance");this.e$5();this.setAsAvailable();this.e$2=new a.TapRecogniser(this.Target,n.bind("e$4",this))},setAsAvailable:function(){this.Target.classList.remove("locked");this.e$0.setData("icon-freebetavailable")},setAsUnavailable:show:function(){v.SpinSportElementUtils.isElementDisplayed(this.Target)||(e.TemplateItem.prototype.show.call(this),this.e$2.attach(),this.reportInteraction("4UA7T1",null,this))},hide:function(){v.SpinSportElementUtils.isElementDisplayed(this.Target)&&(e.TemplateItem.prototype.hide.call(this),this.e$2.detach(),this.reportInteraction("4UA7T1",null,this))},e$4:function(){this.reportInteraction("2OmZXb",null,this)},onSetData:function(t){e.TemplateItem.prototype.onSetData.call(this,t);var i=t;n.emptyString(i)?e.ElementUtils.setText(this.e$1,""):e.ElementUtils.setText(this.e$1,i)},e$5:function(){var n=e.ElementUtils.getFirstElementByClassName(this.Target,"freeBetTitleIcon");this.e$0=new y.IconItem(n,this)},dispose:;fu={onInitialise:function(n){o.AbstractSkinnableWidgetPresenter.prototype.onInitialise.call(this,n);this.e$0=new ru(n,null,this.PresenterConfiguration);this.e$0.initialise()},setFreeBetBalance:setAsAvailable:function(){this.e$0.setAsAvailable()},setAsUnavailable:function(){this.e$0.setAsUnavailable()},show:function(){this.e$0.show()},hide:getComponent:function(){return this.e$0}};eu={start:;ou={$get_f$1:$get_f$2:start:function(){if(!this.isValidData(this.f$1)){this.error();return}this.hasFreeBetDataChanged(this.f$2,this.f$1)&&this.f$0.setData(this.processData(this.f$1),this.getFreeBetInProgress(this.f$1));this.success()},isValidData:function(n){return n!=null&&n.Balance!=null},hasFreeBetDataChanged:processData:function(n){return n.Available=n.Balance>0,n.CurrentTurnover=null,n.RequiredTurnover=null,n.TurnoverAchieved=null,n},getFreeBetInProgress:;su={$get_e$f:setNotificationMap:function(){g.prototype.setNotificationMap.call(this);this.addActiveNotification("BET_SLIP_SELECTION_FREE_BET_SELECTED_CHANGED",n.bind("e$h",this))},setInteractionMap:function(){g.prototype.setInteractionMap.call(this);this.addInteraction("20mq9b",n.bind("e$g",this));this.addInteraction("ZUm3f",n.bind("e$g",this))},e$g:function(){var n=new u.IntentModel("PROCESS_FREE_BET_SELECTION");n.Properties.ACCUMULATOR_KEY=this.e$f.SelectionId;this.e$e.performIntent(n)},e$h:function(n){if(this.e$f.SelectionId===n.Type){var t=n.Body;t?this.select():this.deselect()}}};hu={setInteractionMap:function(){y.ExpandableWidgetMediator.prototype.setInteractionMap.call(this);this.addInteraction("26LzGp",n.bind("f$1",this))},f$1:function(n){this.handleStateChanged(n);this.f$0.sendNotification("TRACK_EXPANDABLE_FREEBET_WIDGET_INFORMATION_BUTTON_TAPPED",n.Body,n.Type)}};lu={$get_ClassName:$get_Template:function(){return k.$2},onInitialise:function(){y.CheckBoxWithLabelComponent.prototype.onInitialise.call(this);this.f$2();this.attachCheckboxDelegates(n.bind("f$3",this),n.bind("f$4",this))},f$2:function(){this.f$0=e.ElementUtils.getFirstElementByClassName(this.Target,"icon");this.f$1=e.ElementUtils.getFirstElementByClassName(this.Target,"balance")},lock:function(){e.ElementUtils.removeClassFromElement(this.f$0,"icon-tick");e.ElementUtils.addClassToElement(this.f$0,"icon-padlock")},unlock:f$3:function(){this.reportInteraction("20mq9b",null,this)},f$4:setBalance:function(n){e.ElementUtils.addClassToElement(this.Target,"withBalance");e.ElementUtils.setText(this.f$1,n)}};var pu={hasFreeBetDataChanged:function(n,t){return n.Balance!==t.Balance||n.RequiredTurnover!==t.RequiredTurnover||n.TurnoverAchieved!==t.TurnoverAchieved||n.CurrentTurnover!==t.CurrentTurnover||n.Available!==t.Available},processData:getFreeBetInProgress:function(t){return!n.isValue(t.Available)||!n.isValue(t.CurrentTurnover)?!1:t.Available||!!t.CurrentTurnover}},wu=n.module("SpinSport_Client_Module_FreeBet",{LibraryInitialiser:n.defineClass(st,si,[],null),LibraryInitialiserSection:n.defineClass(ht,null,[],null),TypeRegisterImporter:n.defineClass(ct,null,[],null),ActionManifestSection:n.defineClass(d,null,[],null),ManifestBuilder:n.defineClass(hi,ci,[String,String,Object],null),FreeBetTemplates:n.defineClass(k,null,[],null),TitleBarTemplates:n.defineClass(nt,null,[],null),LibraryActivator:n.defineClass(pi,wi,[],function(){return r.AbstractLibraryActivator}),FreeBetDetailsWidgetConfiguration:n.defineClass(gi,nr,[String],function(){return f.WidgetConfiguration})},{IFreeBetProvider:n.defineInterface(ft,[tt,l.IFreeBetBalanceProvider]),IFreeBetProxy:n.defineInterface(et,[ft]),IFreeBetAvailabilityProvider:n.defineInterface(tt),IFreeBetWidgetPresenter:n.defineInterface(ot),IFreeBetSelectionWidgetPresenter:n.defineInterface(ei),IFreeBetTitleWidgetPresenter:n.defineInterface(oi),FreeBetProxy:n.defineClass(li,ai,[r.INotifier],null,[et,tt]),FreeBetSelectionWidgetCustomisationModel:n.defineClass(vu,vi,[],null),ExpandableFreeBetPresenterConfiguration:n.defineClass(lt,yi,[],null,[y.IExpandablePresenterConfiguration]),FreeBetWidgetServiceConfiguration:n.defineClass(yu,bi,[String,String],function(){return r.ServiceConfiguration}),ExpandableFreeBetWidgetConfiguration:n.defineClass(ki,di,[String],function(){return f.WidgetConfiguration},[y.IExpandableWidget]),FreeBetProgressWidgetConfiguration:n.defineClass(tr,ir,[String],function(){return f.WidgetConfiguration}),FreeBetSelectionWidgetConfiguration:n.defineClass(it,rr,[String],,FreeBetTitleWidgetConfiguration:n.defineClass(at,ur,[String],function(){return f.WidgetConfiguration}),FreeBetTitlePresenterConfiguration:n.defineClass(vt,fr,[],function(){return o.AbstractSkinnablePresenterConfiguration},[y.ICustomTemplatePresenterConfiguration]),HeaderFreeBetTitlePresenterConfiguration:n.defineClass(yt,er,[],function(){return o.AbstractSkinnablePresenterConfiguration},[y.ICustomTemplatePresenterConfiguration]),ExpandableFreeBetWidgetPresenter:n.defineClass(pt,or,[],function(){return o.WidgetPresenter},[y.IExpandableWidgetPresenter]),FreeBetDetailsWidgetPresenter:n.defineClass(wt,sr,[],function(){return o.WidgetPresenter},[ot,y.ISensitiveDataContainer]),FreeBetProgressWidgetPresenter:n.defineClass(bt,hr,[],function(){return o.WidgetPresenter},[ot,y.ISensitiveDataContainer]),BetSlipFreeBetSelectionWidgetConfiguration:n.defineClass(kt,cr,[String],function(n){return n.FreeBetSelectionWidgetConfiguration}),FreeBetSelectionWidgetPresenter:n.defineClass(dt,lr,[],function(){return o.WidgetPresenter},[ei]),FreeBetWidgetService:n.defineClass(rt,ar,function(n){return[n.IFreeBetProvider,s.IActiveChannelProvider,b.IChannelUtils]},function(){return r.BaseService}),FreeBetSelectionWidgetMediator:n.defineClass(g,vr,function(){return f.WidgetMediator}),FreeBetTitleWidgetMediator:n.defineClass(gt,yr,function(n){return[p.ILoginProxy,h.ICurrencyProvider,n.IFreeBetProvider]},function(){return f.WidgetMediator}),FreeBetWidgetMediator:n.defineClass(ni,pr,function(){return f.WidgetMediator}),ExpandableFreeBetComponent:n.defineClass(wr,br,[Element,e.Component],function(){return e.TemplateItem},[y.IExpandableComponent]),FreeBetContainer:n.defineClass(kr,dr,[Element,e.Component],function(){return e.TemplateItem}),FreeBetProgressBarComponent:n.defineClass(gr,nu,[Element,e.Component],function(){return e.TemplateItem}),FreeBetProgressComponent:n.defineClass(tu,iu,[Element,e.Component],function(){return e.TemplateItem}),FreebetTitleComponent:n.defineClass(ru,uu,[Element,e.Component,f.IPresenterConfiguration],function(){return e.TemplateItem}),FreeBetTitleWidgetPresenter:n.defineClass(ti,fu,[],function(){return o.AbstractSkinnableWidgetPresenter},[oi]),ClearFreeBetsActionService:n.defineClass(ii,eu,function(n){return[n.IFreeBetProxy]},function(){return u.AbstractActionService}),SetFreeBetsWithoutTurnoverActionService:n.defineClass(ut,ou,function(n){return[n.IFreeBetProxy]},function(){return u.AbstractActionService}),BetSlipFreeBetSelectionWidgetMediator:n.defineClass(ri,su,function(n){return n.FreeBetSelectionWidgetMediator}),ExpandableFreeBetWidgetMediator:n.defineClass(ui,hu,[r.INotifier],function(){return y.ExpandableWidgetMediator}),FreeBetSelectionComponent:n.defineClass(cu,lu,[Element,e.Component],function(){return y.CheckBoxWithLabelComponent}),SetFreeBetsWithTurnoverActionService:n.defineClass(fi,pu,}),bu=wu.api;return rt.NAME="FreeBetWidgetService",au=new hi("SpinSport_Client_Module_FreeBet","0.0.0.1",bu),au.Build()},["ss","Microsoft_Extensions_DependencyInjection_Abstractions_DSharp","Ace_Foundations","Ace_Core","Ace_ActionsIntents","Ace_Widgets","Ace_Components","Ace_Widgets_Web","SpinSport_Client_Framework_Abstractions","SpinSport_Client_Currency","SpinSport_Client_Module_Core","SpinSport_Client_Balance","SpinSport_Client_Web_Abstractions","SpinSport_Client_Module_Core_Web","SpinSport_Client_Module_CommonWidgets","SpinSport_Client_Module_Login","SpinSport_Client_Module_LegacyDependencies","SpinSport_Client_Module_Channels"])})(this);
;

