![function(n,r,y){function t(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?t(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}var S,e,T=window,I=(T.adpushup=T.adpushup||{},T.adpushup),O=(I.config=y(11),y(13)),R=y(188),w=y(14),P=y(189),C=y(200),D=y(201)(),L=y(192),N=y(202),B=y(204),U=y(252)(D),F=y(253),M=y(260),G=y(16),k=y(262),j=y(263),V=y(15),x=y(14).REPLACE_GPT_SLOT_PAGE_EVENT,H=y(264).initAdRequestOptimizationRuleEngine,z=y(268),W=y(270),Y=y(271),K=y(275),q=y(276),X=y(205),$=y(281).setupLineItemsForSubsequentGAM,Q=y(246),J=y(296),Z=y(196),ee=y(298).computeHbOnInterstitialSplit;function i(){var o=_({},I.config),p=I.config,a=null,e=p.adLightningSrc;if(!(!p.isAuthorizedDomainCheckEnabled||O.isDomainAuthorized(p.siteDomain,p.authorizedDomains)))return O.log("Un-authorized domain"),p.isDomainAuthorized=!1,I.init=function(){console&&console.error&&console.error("Un-authorized domain, adpushup can not be initialized.")},void(I.triggerAd=;p.isDomainAuthorized=!0,I.$.extend(I,{err:[],utils:O}),O.sendPageViewToLogger(I.config.siteId),I.config.useLineItemsFile&&!I.config.lineItems&&I.config.lineItemsFileUrl?O.setupLineItemsFile(o):(o.recievedLineItems=!0,I.config.recievedLineItems=o.recievedLineItems),$(o),O.injectHeadCodeOnPage(p.prebidBundleUrl),e&&O.injectHeadCodeOnPage(e);var s,c,f=y(299),g=y(305),e=y(190),t=y(306),n=t.triggerAd,u=t.processApTagQue,t=y(307),d=(T.adpushup.configExtended=!1,parseInt(p.mode,10)===w.MODE.FALLBACK),t=(I.$.extend(I,{creationProcessStarted:!1,afterJSExecuted:!1,control:D,tracker:new t,eventLogger:new R,nodewatcher:e,geniee:void 0,triggerAd:n,session:N,generateAdCode:L.generateAdCode,executeAdpTagsHeadCode:L.executeAdpTagsHeadCode,executeAfterJS:P.executeAfterJS,stopRefreshForASlot:B.stopRefreshForASlot,scheduleSlotRefresh:B.scheduleSlotRefresh,handleRefresh:B.handleRefresh,services:{APTAG_ACTIVE:!0,INNOVATIVE_ADS_ACTIVE:!1,LAYOUT_ACTIVE:!0,ADPTAG_ACTIVE:!0,SPA_ACTIVE:!1,GENIEE_ACTIVE:!1,HB_ACTIVE:!0,GDPR_ACTIVE:!1,INCONTENT_ACTIVE:!1,AP_LITE_ACTIVE:!1,PNP_REFRESH_ACTIVE:!1,AUTO_ADPUSHUP_LABEL_SERVICE_ACTIVE:!0,POWERED_BY_BANNER_ACTIVE:!1}}),!1!==I.config.shouldErrorHandlerBeEnabled&&O.shouldErrorHandlerBeEnabled(window)),e=(T.adpushup.errorHandler=new F(T,t),{eventName:V.ADHOC_EVENTS.HEAVY_AD_INTERVENTION_TOP_WINDOW_LOGGING,adpConfig:p});.checkAndInsertReportingObserverScript(window.document,e);var h=y(308);on i(){E(),O.sendScriptLoadedFeedback(),N.init();var e=I.config.blocklist,e=O.isUrlBlacklisted(void 0===e?[]:e);if(I.config.isUrlBlocked=e)O.log("URL is blocked for adp ads.");else{[37780,41988].includes(44224)&&window.adpushup.utils.testLoggerService(),T.adpushup&&T.adpushup.config&&j(T.adpushup.config.ppIdConfig),I.config.lpmOutstreamAnalysis={},I.config.audienceSegmentActive&&y(327).init(),I.config.isSPA||I.services.SPA_ACTIVE||b(),I.config.isVacantAdSpaceEnabled&&(O.initSplitForVacantAdFeature(),e={variation:I.config.variationTypeForVacantAdSpace},t=V.LOGGING_EVENTS.VACANT_PAGE_VIEW_LOG,W.sendPageViewLog(t,e)),window.adpushup.config&&O.injectScriptsForPrebidUserIds(window.adpushup.config.siteId),O.emitGaEvent(w.GA_EVENTS.SCRIPT_LOADED);var t=(window.adpushup.config.gaConfigs||{}).gaEventSampling,e=100*Math.random();if(t&&e<=t&&O.emitGa3Event(w.GA_EVENTS.SCRIPT_LOADED),O.logPerformanceEvent(w.EVENT_LOGGER.EVENTS.MAIN_FN_CALL_DELAY),O.getQueryParams().stopLightHouseHack||!O.checkForLighthouse(I.config.siteId))if(Object.prototype.hasOwnProperty.call(window.adpushup,"cookieConsentAvailable")&&!window.adpushup.cookieConsentAvailable||O.sendBeacon(O.getFeedbackURL(w.USER_SYNC_URL)),I.services.HB_ACTIVE=I.services.HB_ACTIVE&&!O.getQueryParams().adpushupHeaderBiddingDisabled,O.isAdPushupForceDisabled())O.log("AdPushup has been forced disabled...");else{e=I.utils.getReplaceGptSlotSamplingEligibility();if(!(I.config.isReplaceGptSlotOnRefreshEligible=e))try{z.init()}catch(e){I.err.push({msg:"Error in apJs/index.js - bidFallback",error:e})}I.utils.sendReplaceGptSlotLogDiscrepancyLog(x,{isPageViewEligibleToReplaceGptSlot:e}),window.adpushup=window.adpushup||{},window.adpushup.que=window.adpushup.que||[],window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],I.config.pocPageViewTargeting=I.config.pocPageViewTargeting||{};t=I.config.beforeJs;if(t)try{O.runScript(O.base64Decode(t))}catch(e){I.err.push({msg:"Error in beforeJs.",js:t,error:e})}O.initDeductAdServingFeeState(),H(),I.config.inhouseOutstreamConfig||(I.config.inhouseOutstreamConfig={}),O.getQueryParams().forceBbPlayer||(I.config.inhouseOutstreamConfig.shouldRunApPlayerBasisSplitTest=!0),e=w.FORCE_QUERY_PARAM.FORCE_TEST_BID,(e=O.getQueryParams()[e.OUTSTREAM])&&(I.config.inhouseOutstreamConfig.shouldTriggerTestOutstreamBid=!!e,O.triggerOutstreamBid()),q.init();K.getBoostingFcViewabilityConfig().isEnabledOnSiteLevel&&Y.init(),I.services.PNP_REFRESH_ACTIVE&&y(329).init();var n,r,i,o=I.config&&I.config.apLiteActive;o||I.$(".adp_interactive_ad").remove(),I.config.isSPA&&I.services.SPA_ACTIVE&&(void 0)(T,I),I.config.isUrlReportingEnabled&&y(330).init();try{new(y(331)),X.init()}catch(e){I.err.push({msg:"Error in apJs/index.js Fix-refresh-edge-case",error:e})}window.manualRefreshEnabled||B.init(T),o||(c=!(!I.config.partner||"geniee"!==I.config.partner),I.config.isGeniee=c);try{n=I.config.refresh27sSplitConfig,r=(n=void 0===n?{}:n).enabled,i=void 0===(i=n.trafficSplit)?.5:i,r&&i&&(r=I.utils.isActiveSplit(i),n.isRunning=r)}catch(e){I.err.push({msg:"Error in apJs/index.js - checkAndSetRefresh27secStatus()",error:e})}try{O.setFcAndAdHeightSplitOnInContentAds()}catch(e){I.err.push({msg:"Error in apJs/index.js - setFcAndAdHeightSplitOnInContentAds()",error:e})}Z.init(),ee(),Q.checkAndSetBidWonFeedbackCpmAdjustmentBugFixStatus(),I.config.renderPostBidInSafeFrame&&J.listenToErrorsAndSendLog(),A().then(.then(O.getPriceFloorsDependency.bind(O)).then(function(){var e;{if(O.log("CMP loaded"),I.config.cmpLoaded=!0,setTimeout(0),I.config.fpReportingPVSent={clusterReporting:!1,controlReporting:!1},I.config.isReplaceGptSlotOnRefreshEligible&&(I.floorPriceEngine&&(O.log("Replace GPT slot enabled, Turning off floor price engine"),I.floorPriceEngine.config.isApplicable=!1,I.floorPriceEngine.utils.removeFpEnginePageLevelTargeting()),I.config.isControlReportingDisabled=!0,I.config.isClusterReportingDisabled=!0),O.checkAndSendFloorEnginePageView(),!o)return I.config.controlAdsTriggered=!1,C(I,I.config.platform),(e=O.getQueryParams&&O.getQueryParams()[p.forceVariation]||I.config.forceVariationName)?(v(e,!0),!1):!m()&&void v();y(325).init()}})}}}I.init=I.config.isSPA||I.services.SPA_ACTIVE?b():I.config.initScriptOnUserInteraction&&I.config.initScriptOnUserInteraction.isEnabled?M.init(I.init.bind(I)):I.init()}-1<w.AD_RESTRICTED_COUNTRIES.indexOf(I.config.country)||(e=O.getInitialDependencies.bind(O).call(),O.loadInitialDependencies(e,i))},function(e,t,n){function S(){"use strict";S=function(){return a};var a={},e=Object.prototype,c=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof l?t:l,t=Object.create(t.prototype),r=new A(r||[]);return t._invoke=(i=e,o=n,a=r,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return _()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=t.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}r=u(r,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;r=r.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}(n,a);if(n){if(n===d)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";n=u(i,o,a);if("normal"===n.type){if(s=a.done?"completed":"suspendedYield",n.arg===d)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}}),t}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var d={};function l(){}function p(){}function f(){}var t={},g=(o(t,r,function(){return this}),Object.getPrototypeOf),g=g&&g(g(y([]))),h=(g&&g!==e&&c.call(g,r)&&(t=g),f.prototype=l.prototype=Object.create(t));function E(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function m(a,s){var t;this._invoke=function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=u(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==T(n)&&c.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function v(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(v,this),this.reset(!0)}function y(t){if(t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:_}}function _(){return{value:void 0,done:!0}}return o(h,"constructor",p.prototype=f),o(f,"constructor",p),p.displayName=o(f,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e},a.awrap=function(e){return{__await:e}},E(m.prototype),o(m.prototype,n,function(){return this}),a.AsyncIterator=m,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new m(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},E(h),o(h,i,"Generator"),o(h,r,function(){return this}),o(h,"toString",function(){return"[object Generator]"}),a.keys=function(n){var e,r=[];for(e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=y,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),b(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,b(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:y(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},a}function c(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function r(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){c(r,t,n,i,o,"next",e)}function o(e){c(r,t,n,i,o,"throw",e)}i(void 0)})}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function l(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u,p,f=n(14).REPLACE_GPT_SLOT_SLOT_ADUNIT_EVENT,g=n(15),h=n(16),E=n(17).getIncontentFCSplitEnabled,m=window.adpushup,v=n(19),b=n(14),A=n(15),y=n(20),_=n(22),I=n(24),O=b.LOG_ENDPOINT,R=b.UM_LOG_ENDPOINT,w=b.TEST_BID.OUTSTREAM;e.exports={isapDebugParam:log:base64Encode:function(e){return y.btoa(e)},base64Decode:function(e){return y.atob(e)},getCountry:sendFeedback:getFeedbackURL:sendBeaconFeedbackToLoggerForAnalysis:function(e){this.sendDataToLoggerService("feedback_analysis",e)},sendPixelFeedbackToLoggerForAnalysis:getRandomNumberBetween:getNewObjectWithProperties:uniqueId:loadScript:runScript:requestServer:getNetworkAdUnitIdForAd:isHBActiveForAd:fireImagePixel:customUTMParamsHandling:sendBeacon:objToUrl:rightTrim:isInCrossDomainIframe:getTopWindowHref:domanize:isUrlMatching:getVariationObjectByName:throttle:getUrlObject:removeUrlParameter:filterInteractiveAds:getSafeFrameViewport:getViewport:getSafeFrameElOffest:getElOffset:getAdElOffset:isElementInViewport:elementInViewPercent:checkElementInViewPercent:isDocumentFocused:getQueryParams:dockify:v,isSiteHttps:getMetaKeyword:getScreenOrientation:getScreenSize:getPageFeedbackMetaData:createAndFireImagePixelForUmLog:testLoggerService:initSplitForVacantAdFeature:getAdIdFromSlot:sendPnpDestroySlotLogs:sendVacantLogsToDatadog:sendPageViewDiscrepancyLogs:sendLogsToDataDogService:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];try{if(m.config.stopDatalogging)return;var r=b.MISCELLANEOUS_EVENTS.includes(e)?b.DATADOG.MISCELLANEOUS:b.DATADOG.PRIMARY,i=r.LOG_INGESTION_URL,o=r.SERVICE,a=r.SOURCE,s=r.CLIENT_TOKEN,c="".concat(i,"?dd-api-key=").concat(s,"&ddsource=").concat(a,"&service=").concat(o),u={event:e,data:t,level:"info"};n||(u.data=l(l({},u.data),m.utils.getDataDogMetaData()));m.utils.getDeployment()!==b.MASTER_DEPLOYMENT_FLAG&&(u.data.deployment=m.utils.getDeployment());var d={method:"POST",body:JSON.stringify(u)};m.config&&m.config.addNoCorsHeader&&(d.mode="no-cors"),fetch(c,d)}catch(e){window.adpushup.err.push({msg:"Error in sending logs to datadog",error:e})}},getDataDogMetaData:shouldSendDataDogLogsBasisSamplingPercentage:sendDataToLoggerService:function(e,t){this.sendLogsToDataDogService(e,t)},sendDataToLoggerServiceV2:createAndFireImagePixelForVacantAdSpaceLog:logPerformanceEvent:sendPerformanceEventLogs:injectHeadCodeOnPage:injectCSSOnPage:createAndFireImagePixelForErrorLogs:isAdpushupLoadedWithCrossOrigin:shouldErrorHandlerBeEnabled:function(e){return this.isBrowserSupportedForErrorHandler(e)},sendErrorLogs:getBrowserNameIfKnown:isBrowserSupportedForErrorHandler:checkCmp:findCmp:isAdPushupForceDisabled:checkForLighthouse:loadInitialDependencies:injectJqueryIfDoesntExist:checkAndInjectUniversalGAHeadCode:checkAndInjectGAHeadCode:emitGaEvent:emitGa3Event:getMcmDetailsFromConfig:isGamNetworkIdValid:injectScriptsForPrebidUserIds:isDomainAuthorized:getOriginFromUrl:getAncestorOrigins:getAllDomainsTillTopInfo:isViewPortGreaterThanGivenSize:checkLocalStorageConsent:getItemFromLocalStorage:setItemInLocalStorage:checkifEUCountry:setCookie:getCdnHost:getCookie:sendGaPvLogIfNotSent:fallBackForSendBeacon:getPageGroupAndVariationData:createFeedbackObject:getFeedbackObject:isSiteEligibleForBeaconFeedback:setCustomPageLevelTargetingMap:setCustomSlotLevelTargetingMap:generateHex:isNotPricePriorityLineItem:getAPUserId:getAPSessionId:sendPageViewToLogger:sendScriptLoadedFeedback:sendPageViewCountFeedbackDataDog:sendPageViewCountFeedback:getIsReplaceGptSlotOnRefreshEnabled:digestMessage:(p=r(S().mark(),function(e,t){return p.apply(this,arguments)}),hashArrayValues:(u=r(S().mark(),,getReplaceGptSlotOnRefreshUserEligibility:sendDataToLoggerServiceWithMetaData:cssescape:function(e){return _(e)},shouldReplaceGptSlotOnRefresh:triggerOutstreamBid:sendHbAuctionFeedbackSuccessFailureCount:sendHbAuctionFeedBackSuccessCount:function(e){m.utils.sendHbAuctionFeedbackSuccessFailureCount(!0,e)},sendHbAuctionFeedbackFailureCount:sendRequest:sendLogsForLineItems:selectRandomValueFromArray:getInitialDependencies:checkAndSendFloorEnginePageView:function(){var e,t,n;m.floorPriceEngine&&(e=m.floorPriceEngine.utils,t=m.floorPriceEngine.config.isApplicable,n=m.config.isReplaceGptSlotOnRefreshEligible,e.sendFloorEnginePageView(t,{replaceGptRunning:void 0!==n&&n}))},getPriceFloorsDependency:function(){m.floorPriceEngine={},m.floorPriceEngine.utils=n(183),m.floorPriceEngine.config=m.config.floorPriceConfig;var e=m.floorPriceEngine.utils,t=e.isFloorPriceApplicable();if(e.setFloorPricePageLevelTargeting(),t)return e.initConfig(),e.getPricingRules.bind(e).call();Promise.resolve()},getLineItemsFile:setupLineItemsFile:getVastXmlInfoIfApplicable:getReplaceGptSlotSamplingEligibility:setReplaceSlotTargeting:setSlotTargeting:getPerformanceLogs:sendReplaceGptSlotLogDiscrepancyLog:getHeavyAdLogsAdditionalData:updateHeavyAdLogsAdditionalData:checkAndInsertReportingObserverScript:isInnovativeAd:setupBoostingViewability:isActiveSplit:generateCaughtErrorObject:function(e){var t={};return e.stack&&(t.stack=e.stack),e.message&&(t.message=e.message),e.name&&(t.name=e.name),t},isBrowserEligibleForFC:isAdUnitInContent:isFlyingCarpetEnabled:checkHindsightEligibility:getHindsightScriptEL:getHindsightContainer:getHindsightWrapperEl:getElCssMarginToNumber:getHindsightCssConfigOrEmptyConfig:removeElMarginDesktop:getElMargin:addCssToEl:setHindsightTargeting:getHindsightWrapperOrOriginalContainer:isString:getBidSize:fixFcTranslateZeroIssue:getPSTHour:sendHBRevenueLogs:initDeductAdServingFeeState:getFlippedObject:getDeployment:setTargettingOnAdpSlot:isFpeActive:getMaxSize:setPageLevelTargeting:getRefresh27SplitSlotEnabledStatus:isWebWorkerSupported:getRandomValueFromArray:filterFalsyObjectKeys:setFcHeightSplitOnInContentAds:setFcAndAdHeightSplitOnInContentAds:isEleNotUndefined:isUrlBlacklisted:addAdditionalTargetingToAdUnit:},function(e,t){var n={meta:{advertiserDomains:[]}};e.exports={DEFAULT_AUTHORIZED_DOMAINS:[".ampproject.","bing.","google.","translate.goog",".yahoo.",".yandex.",".googleusercontent.","googleweblight."],MISC_PAGE_LEVEL_TARGETING_KEY:"misc",REFRESH_TYPE_TARGETING_KEY:"ap_refresh_type",AD_TYPE_OUTSTREAM_FLOATER:"outstream_floater",DYNAMIC_PAGE_LEVEL_TARGETING:{PUBMATIC_EB_DISABLED:"pubmatic_eb_disable",OUTBRAIN:"outbrain",DEDUCT_AD_SERVING_FEE:"deduct_ad_fee"},IOS_LOW_POWER_MODE_ANALYSIS:{IOS_LOW_POWER_MODE_PV:"IOS_LOW_POWER_MODE_PV",IOS_LOW_POWER_MODE_OUTSTREAM_BID:"IOS_LOW_POWER_MODE_OUTSTREAM_BID",EVENT_SAMPLING_PERCENTAGE:10,POLLING_INTERVAL_IN_MS:15e3},MAX_NESTED_IFRAMES_SUPPORTED:10,REFRESH_TYPES:{BG:"Background",AT:"Active Tab",AV:"Active View",BV:"Background View"},DEFAULT_REFRESH_TYPE:"Active View",DEFAULT_REFRESH_TYPE_ABBREVIATION:"AV",DEFAULT_FIND_CMP_TIMEOUT:300,CMP_CHECK_EXCLUDED_SITES:[38903],AD_RESTRICTED_COUNTRIES:["RU"],EU_COUNTRY_LIST:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB","GF","GP","MQ","ME","YT","RE","MF","GI","AX","PM","GL","BL","SX","AW","CW","WF","PF","NC","TF","AI","BM","IO","VG","KY","FK","MS","PN","SH","GS","TC","AD","LI","MC","SM","VA","JE","GG","GI"],AD_TYPES:{STRUCTURAL:1,IN_CONTENT:2,INTERACTIVE_AD:3,DOCKED_STRUCTURAL:4,EXTERNAL_TRIGGER_AD:5},DOCKED_CSS:{position:"fixed",top:"0px","z-index":1e4},LAZY_LOAD:{SCROLL_THRESHOLD:100},MANUAL_ADS:{VARIATION:"manual"},NETWORKS:{ADPTAGS:"adpTags",ADSENSE:"adsense",ADX:"adx",MEDIANET:"medianet"},AMP_PUBLISH_URL:"//autoamp.io/publishAmpJob",URL_UTM_REPORTING:{ENCODING_FOR_URL_UTM_REPORTING_FILENAME:"SHA-1",FETCH_URL_KEY_VALUE_RETRY_LIMIT:3,FETCH_URL_KEY_RETRY_TIMEOUT:50},ADVERTISER_BLOCKING_CONSTANTS:{BIDDER_MAPPING:{rubicon:n,pubmatic:n,ix:n,nobid:n,conversant:n,onetag:n,medianet:n,pulsepoint:n,synacormedia:n,sonobi:n,connectad:n,sovrn:n},LOGGING_EVENT_KEY:"advertiser_blocking",USER_ID_KEY:"advertiser_logging_apUserId"},USER_SYNC_URL:"//e3.adpushup.com/AdPushupFeedbackWebService/user/sync",UNIVERSAL_GOOGLE_ANALYTICS:"https://www.google-analytics.com/analytics.js",GOOGLE_ANALYTICS_URL:"https://www.googletagmanager.com/gtag/js?id=",LOG_ENDPOINT:"https://aplogger.adpushup.com/log",LOG_ENPOINT_FOR_LOGGER_V2:"https://bi.adpushup.com/log",UM_LOG_ENDPOINT:"//app-log.adpushup.com/umlogv5?data=",GOOGLE_ANALYTICS_ID:"G-Z0TZ7TDHS1",DATADOG:{PRIMARY:{SERVICE:"adpushup.js",SOURCE:"nodejs",LOG_INGESTION_URL:"https://http-intake.logs.datadoghq.com/api/v2/logs",CLIENT_TOKEN:"pub6b45632781dd758b20e9d8357c39efab"},MISCELLANEOUS:{SERVICE:"adpushup.js",SOURCE:"nodejs",LOG_INGESTION_URL:"https://http-intake.logs.us5.datadoghq.com/api/v2/logs",CLIENT_TOKEN:"7854699c55cf56127736e336b120a38b"}},BEACON_TYPE:{AD_FEEDBACK:"AD_FEEDBACK",HB_FEEDBACK:"HB_FEEDBACK",SYNC_USER:"SYNC_USER"},LOGGER_SERVICE:{PAGE_UNLOAD_FEEDBACK:"PAGE_UNLOAD_FEEDBACK",WINDOW_TAB_VISIBLE_FEEDBACK:"WINDOW_TAB_VISIBLE_FEEDBACK",WINDOW_TAB_HIDDEN_FEEDBACK:"WINDOW_TAB_HIDDEN_FEEDBACK",HB_AUCTION_FEEDBACK_SUCCESS_FAILURE_COUNT:"HB_AUCTION_FEEDBACK_SUCCESS_FAILURE_COUNT",HB_BID_CURRENCY:"HB_BID_CURRENCY"},AD_STATUS:{IMPRESSION:1,XPATH_MISS:2},SERVICES:{LAYOUT:1,TAG:2,HB:3,MEDIATION:4,INTERACTIVE_AD:5,AP_LITE:6},ERROR_CODES:{UNKNOWN:0,NO_ERROR:1,PAGEGROUP_NOT_FOUND:2,FALLBACK_PLANNED:3,FALLBACK_FORCED:4,PAUSED_IN_EDITOR:5,VARIATION_NOT_SELECTED:6,ADPUSHUP_PAUSED:7},MODE:{ADPUSHUP:1,FALLBACK:2,SCRIPT_LOADED:4,PAGE_VIEW_COUNT:5},PAGE_VARIATION_TYPE:{NON_BENCHMARK:1,BENCHMARK:2},USERID_STR:"__AP_USER_UUID__",COOKIE:{SESSION:"__AP_SESSION__",UTM_SESSION:"_adp_utm_session_",EXPIRY:30},UTM_WISE_TARGETING:{UTM_SOURCE:"utm_source",UTM_CAMPAIGN:"utm_campaign",UTM_MEDIUM:"utm_medium",UTM_TERM:"utm_term",UTM_CONTENT:"utm_content"},PLATFORMS:{RESPONSIVE:"RESPONSIVE",DESKTOP:"DESKTOP",MOBILE:"MOBILE"},ADPUSHUP_MEDIANET_ID:"8CUEJU9TP",AD_REFRESH_INTERVAL:3e4,SCREEN_ORIENTATIONS_FEEDBACK_VALUE:{"landscape-primary":1,"landscape-secondary":1,"portrait-primary":2,"portrait-secondary":2},AD_UNIT_TYPE_MAPPING:{DISPLAY:1,DOCKED:2,STICKY:3,REWARDED:5,INSTREAM:6,CHAINEDDOCKED:7,INTERSTITIAL:8},MISCELLANEOUS_EVENTS:["REPLACE_GPT_SLOT_ADUNIT_EVENT","REPLACE_GPT_SLOT_BIDS_DATA_1","REPLACE_GPT_SLOT_PAGE_EVENT","REPLACE_GPT_FALSE_PAUSED_ON_HOUSE","PAGEVIEW_DISCREPENCY_MODE_4_PAGE_VIEW_FEEDBACK_SENT","PAGEVIEW_DISCREPENCY_AD_REQUEST_SENT","PAGEVIEW_DISCREPENCY_AD_RENDERED","linkPreview_fallbackOff","linkPreview_failed_maxGARetriesReached","UNKNOWN_ERROR","PAGE_VIEW","partner_panel_rca_creative_inserted","OUTSTREAM_AD_MUTED","InhousePlayerViewabilityOptimisation","PUB_ADS_EVENT_LOGS","advanceAuction","BID_WON_UNDEFINED_SIZE","SG_PAGE_VIEW","SG_ERROR","HB_BID_WON_LOGGING","DATA_DOG_PAGE_VIEW_EVENT","AP_FLOOR_ENGINE_PAGE_VIEW","HB_BID_CURRENCY","OPTIMISE_REFRESH"],EVENT_LOGGER:{EVENTS:{EMPTY:"EMPTY",MAIN_FN_CALL_DELAY:"MAIN_FN_CALL_DELAY",AUCTION_START_DELAY:"AUCTION_START_DELAY",AUCTION_END_DELAY:"AUCTION_END_DELAY",URM_START:"URM_START",URM_RESPONSE_TIME:"URM_RESPONSE_TIME",URM_REQUEST_FAILED:"URM_REQUEST_FAILED",URM_REQUEST_FAILED_TIME:"URM_REQUEST_FAILED_TIME",URM_REQUEST_STARTED:"URM_REQUEST_STARTED",URM_REQUEST_SUCCESS:"URM_REQUEST_SUCCESS",URM_CONFIG_NOT_FOUND:"URM_CONFIG_NOT_FOUND",URM_CONFIG_KEY_VALUE_SET:"URM_CONFIG_KEY_VALUE_SET",URM_CONFIG_KEY_VALUE_EMPTY:"URM_CONFIG_KEY_VALUE_EMPTY",URM_TARGETING_KEY_VALUE_SET:"URM_TARGETING_KEY_VALUE_SET",URM_TARGETING_KEY_VALUE_EMPTY:"URM_TARGETING_KEY_VALUE_EMPTY",REPLACE_GPT_SLOT_BIDS_DATA:"REPLACE_GPT_SLOT_BIDS_DATA_1",REPLACE_GPT_SLOT_SELECTION_ERROR:"REPLACE_GPT_SLOT_SELECTION_ERROR_1",REPLACE_GPT_SLOT_ELIGIBILITY_ERROR:"REPLACE_GPT_SLOT_ELIGIBILITY_ERROR_1"},TYPES:{ADP_PERF:"ADP_PERF",URM_KEY_VALUE:"URM_KEY_VALUE",URM_KEY_VALUE_KEEN:"URM_KEY_VALUE_KEEN",URM_TARGETTING:"URM_TARGETTING",URM_TARGETTING_KEEN:"URM_TARGETTING_KEEN",URM_PAGE_FEEDBACK:"URM_PAGE_FEEDBACK"}},ERROR_LOGGING:{TYPE:"ERROR_LOGS"},URM_REPORTING:{GET_URM_TARGETTING_REQUEST_TIMEOUT:0,EVENTS:{SUCCESS:"success",FAILED:"failed",PENDING:"pending"}},browsersList:{OPERA:"opera",SAFARI:"safari",GOOGLE_CHROME:"google-chrome",MICROSOFT_EDGE:"microsoft-edge",MOZILLA_FIREFOX:"mozilla-firefox",SAMSUNG_BROWSER:"samsung-browser",INTERNET_EXPLORER:"internet-explorer"},AP_AMZN_PUB_ID:"2e7e1587-d92f-46dd-8721-80b53eccb87e",LIGHTHOUSE_HACK_SITES:[41619,41584],jqueryCdnUrl:"//code.jquery.com/jquery-3.6.0.min.js",GA_EVENTS:{SCRIPT_LOADED:"script-loaded",PAGE_VIEW:"ap-page-view"},CUSTOM_UTM_PARAMS_AND_SITE_MAPPING:{42184:"jita_tg_params",42185:"jita_tg_params",42186:"jita_tg_params",42431:"jita_tg_params",42535:"jita_tg_params",42575:"jita_tg_params"},prebidUserIdsConfig:{criteo:{config:{name:"criteo"},scriptUrl:null,blacklistedSiteIds:[42717,42718,42740,42803,42804,42869,42874,42875,42876,42877,42895,41253,40792,43008,43171]},deepintentId:{config:{name:"deepintentId",storage:{type:"html5",name:"_dpes_id",expires:90}},scriptUrl:null,blacklistedSiteIds:[]},pubCommonId:{config:{name:"pubCommonId",storage:{type:"cookie",name:"_pubcid",expires:30}},scriptUrl:null,blacklistedSiteIds:[]},unifiedId:{config:{name:"unifiedId",params:{url:"//match.adsrvr.org/track/rid?ttd_pid=pubmatic&fmt=json"},storage:{type:"cookie",name:"pbjs-unifiedid",expires:30}},scriptUrl:null,blacklistedSiteIds:[]},quantcastId:{config:{name:"quantcastId"},scriptUrl:"https://cdn.adpushup.com/pbuseridscripts/quantcast.js",blacklistedSiteIds:[42211]}},ERROR_MONITORING:{ERROR_EVENT:"ADP_ERROR",PAGE_VIEW:"PAGE_VIEW",PV_SAMPLING_PERCENTAGE:10},BG_REFRESHLOG:{EVENT_NAME:"BG_REFRESH_OPT_LOGGING"},USER_LEVEL_HB_AUCTION:{USER_HB_AUCTION_DATA:"USER_HB_AUCTION_DATA",USER_HB_AUCTION_DATA_STORE:"USER_HB_AUCTION_DATA_STORE",USER_HB_AUCTION_USER_ID:"USER_HB_AUCTION_USER_ID",USER_HB_AUCTION_DATA_RESULT:"USER_HB_AUCTION_DATA_RESULT",MAIN_AUCTION_COUNT:"MAIN_AUCTION_COUNT",BIDDER_WISE_OLDEST_AUCTION_DATE:"BIDDER_WISE_OLDEST_AUCTION_DATE",DB_VERSION:1,LOGGER_EVENTS:{AUCTION_END_DATA:"user_level_hb_auction",AUCTION_END_CALCULATION:"user_level_hb_auction_end_calculation",AUCTION_END_BLOCKING_RESULT:"user_level_hb_auction_blocking_result",BID_WON_DATA:"user_level_hb_auction_bid_won_data"},WORKER_MESSAGES:{USER_ID_UPDATED:"USER_ID_UPDATED"}},PARTNER_PANEL_DISCREPANCY:{AD_LOG_EVENT:"partner_panel_rca_ad",MEDIA_TYPES:["banner"]},AUTO_RULES:{TARGETING:{INITIAL_TIMEOUT_RULES:"init_t",REFRESH_TIMEOUT_RULES:"refr_t",BIDDER_SELECTION_RULES:"bidd_s",NO_RULES:"no_rules",ALL_RULES:"all_rules",AUTO_RULES_KEY:"auto_rules"},EVENT_NAME:"AUTO_RULE_LOGS"},LOCAL_STORAGE_KEYS:{replaceGptSlotOnRefreshSession:"ap_{siteId}_replace_gpt_slot"},REPLACE_GPT_SLOT_ON_REFRESH:{defaultSamplingRate:10,TARGETING_KEY:"ap_replaceSlot",DEBUG_TARGETING_KEY:"ap_replaceSlot_count"},ALTERNATE_FEEDBACK_HOST:"feedback.adpushup.com",NETWORK_RELATIONS:{AP_PARTNER:1,DIRECT:2},GLOBAL_AD_CONTAINER_CLASSNAME:"._ap_apex_ad",GOOGLE_AD_CONTAINER_SELECTOR:"[data-google-query-id]",FLYING_CARPET_SETTINGS:{CSS_VALUES:{top:{PLACEHOLDER:"_top_",DEFAULT:"30"}},CSS:"\n\t\t.adp-interscroller-ad-label-top,\n\t\t.adp-interscroller-ad-label-bottom {\n\t\t\ttext-align: center;\n\t\t\tbackground-color: _FC_BG_COLOR_;\n\t\t\tfont-size: 11px !important;\n\t\t\tcolor: _FC_COLOR_;\n\t\t\tmargin-bottom: -5px;\n\t\t\tmargin-top: 5px;\n\t\t\tline-height: 1.5 !important;\n\t\t}\n\t\t.adp-interscroller-ad-label-bottom {\n\t\t\tmargin-bottom: 5px;\n\t\t}\n\t\t.adp-interscroller-outer-div {\n\t\t\tposition: relative;\n\t\t\tbackground: transparent;\n\t\t}\n\t\t.adp-interscroller-inner-div {\n\t\t\tmargin-left: auto;\n\t\t\tmargin-right: auto;\n\t\t\ttext-align: center;\n\t\t\tbackground: transparent;\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\tmargin-top: 5px;\n\t\t\tclip: rect(0,auto,auto,0) !important;\n\t\t\tdisplay: flex !important;\n\t\t\tflex-direction: column !important;\n\t\t\talign-items: center !important;\n\t\t}\n\t\t.adp-interscroller-container{\n\t\t\tmin-width:300px;\n\t\t}\n\t\t.adp-interscroller-container ._ap_apex_ad {\n\t\t\tposition: fixed!important;\n\t\t\ttop: _top_px;\n\t\t\twidth: inherit;\n\t\t\theight: 100% !important;\n\t\t\ttransform: translateZ(0)!important;\n\t\t\tdisplay: flex !important;\n\t\t\tflex-direction: column !important;\n\t\t\talign-items: center !important;\n\t\t}",DEFAULT_CONTAINER_HEIGHT:400},TEST_BID:{OUTSTREAM:{APP_NEXUS:13232385}},FORCE_QUERY_PARAM:{FORCE_TEST_BID:{OUTSTREAM:"forceOutstreamBid"}},IS_CLEAR_TARGETING_CALLED_BY_ADPUSHUP_JS:!0,LINE_ITEM_SERVICE:{EVENTS:{LINE_ITEMS_FILE_LOADED:"LINE_ITEMS_FILE_LOADED",LINE_ITEMS_FILE_NOT_LOADED:"LINE_ITEMS_FILE_NOT_LOADED",USING_FALLBACK_LINEITEMS:"USING_FALLBACK_LINEITEMS"},RETRY_COUNT:5,RETRY_INTERVAL:3},PAGEVIEW_DISCREPENCY_AD_REQUEST_SENT_EVENT:"PAGEVIEW_DISCREPENCY_AD_REQUEST_SENT",PAGEVIEW_DISCREPENCY_AD_RENDERED:"PAGEVIEW_DISCREPENCY_AD_RENDERED",PAGEVIEW_DISCREPENCY_MODE_1_PAGE_VIEW_FEEDBACK_EVENT:"PAGEVIEW_DISCREPENCY_MODE_1_PAGE_VIEW_FEEDBACK_SENT",PAGEVIEW_DISCREPENCY_MODE_4_PAGE_VIEW_FEEDBACK_EVENT:"PAGEVIEW_DISCREPENCY_MODE_4_PAGE_VIEW_FEEDBACK_SENT",PAGEVIEW_DISCREPENCY_ERROR_EVENT:"PAGEVIEW_DISCREPENCY_ERROR_SENT",REPLACE_GPT_SLOT_PAGE_EVENT:"REPLACE_GPT_SLOT_PAGE_EVENT",REPLACE_GPT_SLOT_SLOT_ADUNIT_EVENT:"REPLACE_GPT_SLOT_ADUNIT_EVENT",BOOSTING_VIEWABILTY:{viewportDistanceThreshold:500,maxAllowedFcUnits:3,checkAdPositionsTimeInterval:100,events:{error:"ERROR_BV",convertedToFc:"CONVERT_TO_FC",convertedToNormal:"CONVERT_TO_NORMAL"},targetingKey:"viewabilitypoc"},DEPENDECY_MODULE_NAMES:{JQUERY:"jQuery",PRICE_FLOORS:"priceFloors"},CDN_URL:"cdn.adpushup.com",HIND_SIGHT:{HIND_SIGHT_CONTAINER_DEFAULT_MARGIN_BOTTOM:10,HIND_SIGHT_CONTAINER_DEFAULT_MARGIN_RIGHT:10,SCRIPT_URL:"https://static.solutionshindsight.net/teju-webclient/networks/adpushup_related_content.min.js",RAN_TARGETING:"hindsight_ran",INFLUENCER:{NAME:"hindsight",KEY:"hindsight_influencer"}},FC_TRANSLATE_ZERO_FIX_CSS:".td-fix-index{ -webkit-transform: none !important; transform: none !important; will-change: auto !important; }",UNKNOWN_ERROR_LOGGING_PERCENTAGE:.1,MASTER_DEPLOYMENT_FLAG:"master",ADP_SLOT_BATCH_SIZE_DEFAULT_LIMIT:10,NETWORKDATA_PROPERTIES_REQUIRED_FOR_SLOT_CREATION:["dfpAdunit","dfpAdunitCode","keyValues","overrideActive","overrideSizeTo","refreshSlot","uamOutstreamEnabled","subsequentGAMUnitCode","refreshAdUnitCodes","adUnitDockingSiteConfig"],DATA_DOG_PAGE_VIEW_EVENT:"DATA_DOG_PAGE_VIEW_EVENT",SPLIT_REFRESH_CONSTANTS:{controlRefreshInterval:30,experimentRefreshInterval:27,TARGETING_KEYWORDS:{EXPERIMENT:"refresh_experiment",CONTROL:"refresh_control"}},FC_INCONTENT_POC:{enabled:!1,trafficSplit:.1,doubleHeightAdsSplit:.5},bidWonFeedbackCpmAdjustmentBugFixSplitPercentage:.5,DEFAULT_CURRENCY_RATE_CONVERSION_ENABLED:!1,DEFAULT_PREBID_CURRENCY:"USD",SANDBOX_ATTRIBUTES_TO_PREVENT_MALVERTISING:"allow-forms allow-popups allow-same-origin allow-scripts",LAYOUT_SETUP_COMPLETED_EVENT_NAME:"layoutSetupCompleted"}},function(e,t,n){n={EVENTS:{GPT:{SLOT_RENDER_ENDED:"slotRenderEnded",IMPRESSION_VIEWABLE:"impressionViewable"},PREBID:{BID_WON:"bidWon",BID_TIMEOUT:"bidTimeout",AUCTION_END:"auctionEnd",BEFORE_REQUEST_BID:"beforeRequestBids",BID_REQUESTED:"bidRequested"}},TARGETING:{PAGE_LEVEL:{da:"adx",outbrain:"true",ap_product:"adpushup"},UTM_LEVEL:{STANDARD:{UTM_SOURCE:"utm_source",UTM_CAMPAIGN:"utm_campaign",UTM_MEDIUM:"utm_medium",UTM_TERM:"utm_term",UTM_CONTENT:"utm_content"},CUSTOM:{UTM_SCM:{TARGET:{UTM_SOURCE:"utm_source",UTM_CAMPAIGN:"utm_campaign",UTM_MEDIUM:"utm_medium"}},UTM_SOURCE_CAMPAIGN:{TARGET:{UTM_SOURCE:"utm_source",UTM_CAMPAIGN:"utm_campaign"}}}},ADX_FLOOR:{priceFloorKeys:["FP_S_A","FP_S","FP_B","FP_B_A","FP_A"],cpm:.01,key:"FP_S_A"},INTERSTITIAL_SPLIT_TEST:{TARGET:{da:"interstitial_test"}}},ERROR_CODES:{NO_ERROR:1},LOGGER_SERVICE:{HB_AUCTION_DATA:"HB_AUCTION_DATA",GPT_SLOT_MISSING_WHILE_RENDERING:"GPT_SLOT_MISSING_WHILE_RENDERING"},FEEDBACK:{DEFAULT_WINNER:"adx",URL:"//e3.adpushup.com/AdPushupFeedbackWebService/feedback/aphb",AUCTION_FEEDBACK_URL:"//e3.adpushup.com/AdPushupFeedbackWebService/feedback/aphb/auctionData",URL_OLD:"//e3.adpushup.com/ApHbWebService/feedback",HB_TYPES:{client:1,s2s:2},SUPPORTED_CURRENCY:"USD"},PREBID:{TIMEOUT:3e3,BIDDER_SEQUENCE:{FIXED:"fixed",RANDOM:"random"},DENSED_PRICE_GRANULARITY:"dense",CUSTOM_PRICE_GRANULARITY:{buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5},{max:42,increment:1},{max:50,increment:2}]},VIDEO_FORMAT_TYPE:"outstream",DEFAULT_FORMATS:["display"],ALL_SUPPORTED_FORMATS:["display","video","native"],FORMATS:{DISPLAY:"display",NATIVE:"native",VIDEO:"video"},USER_ID_CONFIG:{ID5_IDSYSTEM:{CONFIG:{name:"id5Id",params:{partner:711,abTesting:{enabled:!0,controlGroupPct:.15}},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},TARGETING:{KEY:n(14).MISC_PAGE_LEVEL_TARGETING_KEY,ID5_IDSYSTEM_ENABLE_VALUE:"v1_id5_e",ID5_IDSYSTEM_DISABLE_VALUE:"v1_id5_c"},SPLIT_PERCENTAGE:.5},ID5_ANALYTIC:{CONFIG:{provider:"id5Analytics",options:{partnerId:711}}},LIVE_INTENT:{CONFIG:{name:"liveIntentId",params:{distributorId:"did-0013",requestedAttributesOverrides:{uid2:!0,index:!0,bidswitch:!0,medianet:!0,magnite:!0,openx:!0}},storage:{type:"cookie",name:"pbjs_li_nonid",expires:1}},attributeMapping:{uid2:"uidapi.com",index:"indexexchange.com",bidswitch:"bidswitch.net",medianet:"media.net",magnite:"magnite.com",openx:"openx.com",lipbid:"liveintent.com"},TARGETING:{KEY:"liveIntent"}}}},ADSERVER_TARGETING_KEYS:{BIDDER:"hb_ap_bidder",AD_ID:"hb_ap_adid",CPM:"hb_ap_pb",SIZE:"hb_ap_size",SOURCE:"hb_ap_source",FORMAT:"hb_ap_format",SITE_ID:"hb_ap_siteid",HB_RAN:"hb_ap_ran",ADPUSHUP_RAN:"adpushup_ran",REFRESH_COUNT:"refreshcount",ACTIVE_TAB_REFRESH_COUNT:"bg_refreshcount",REFRESH_RATE:"refreshrate",FLUID:"fluid",INFLATED_CPM:"bidInf",BID_PRESSURE:"bid_pressure",VACANT_VARIATION:"vacant_variation",VACANT_REFRESH_ANALYSIS:"vacant_RCA",VACANT_BIDCACHE_ANALYSIS:"vcant_RA",FLOOR_PRICING:"prmsig",FP_ENGINE_RAN:"fp_engine_ran",AP_FP_ENGINE_RAN:"ap_fp_engine_ran",FP_ENGINE_TYPE:"ap_fp_engine_type",FP_ENGINE_TYPE_TEMP:"ap_fp_engine_temp",CLUSTERING_FLOORS:"ap_clustering_floors",REFRESH_TYPE:"refreshType",BIDDER_SEQUENCE:"bidderSequence",CONTROL_REPORTING:"control_reporting",CLUSTER_REPORTING:"cluster_reporting",REFRESH_27s_SPLIT:"refresh27Split",FC_INVIEW_AD:"fcInViewAd"},AD_SIZE_MAPPING:{IAB_SIZES:{ALL:[[120,600],[160,600],[200,200],[240,400],[250,250],[300,50],[300,100],[300,250],[300,600],[320,50],[320,100],[320,480],[336,280],[468,60],[480,320],[580,400],[690,90],[675,90],[670,90],[650,90],[630,90],[600,90],[720,300],[728,90],[728,250],[728,280],[900,90],[970,90],[970,250]],BLACK_LIST:[[120,600],[160,600],[300,600]]}},GAM_NETWORK_IDS:{ADPUSHUP:103512698,GENIEE_JAPAN:9116787,GENIEE_INTERNATIONAL:424536528,ZELTO_ME:23014752479},HB_BATCHING_INTERVAL:50,AD_TYPE:{INTERSTITIAL:"interstitial",DISPLAY:"display"},INTERSTITIALHB:{SPECIAL_PARAM:{ortb2Imp:{instl:1}},SPECIAL_SIZE_CONFIG:{MOBILE:[[320,480],[480,320]],TABLET:[[768,1024],[1024,768]],DESKTOP:[]}},VIDEO_PLAYER_EXCEPTION_SIZES:[[300,250],[480,320],[320,480],[320,50]],DEFAULT_JW_PLAYER_SIZE:[256,144],APLITE:{XPATH_TIMEOUT:5e3},FORMAT_WISE_PARAMS_PREFIX:{display:"apDisplay_",native:"apNative_",video:"apVideo_"},POST_BID_DISABLED_BIDDERS:["nobid","rubicon","sovrn","teads","pubmatic","coinzilla"],LOGGING_ENDPOINT:"https://aplogger.adpushup.com/log",MARGIN_BETWEEN_VACANT_SPACE_ADS:10,VACANT_SPACE_ADS_DISABLED_FORMATS:["video","native"],PROPERTIES_FOR_VACANT_AD_SPACE_LOGGING:["mediaType","bidderCode","auctionId","size","adId","cpm","winningRevenue"],PNP_ADDITIONAL_LOGGING:{EVENT_NAME:"ADDITIONAL_PNP_LOGGING"},VACANT_SPACE_TARGETING_SEPERATOR:",",EXPERIMENT_VARIATIONS:{CONTROL:"control",EXPERIMENT:"experiment"},EXPERIMENT_VARIATION_SHORTHANDS:{CONTROL:"C",EXPERIMENT:"E"},LOGGING_EVENTS:{VACANT_AD_ERROR:"VACANT_AD_ERROR",VACANT_AD_REQUEST_RCA:"VACANT_AD_REQUEST_RCA",VACANT_REFRESH_PAUSE_ANALYSIS:"VACANT_REFRESH_PAUSE_ANALYSIS",BEFORE_VACANT_COMPUTATION:"BEFORE_VACANT_COMPUTATION",AFTER_VACANT_COMPUTATION:"AFTER_VACANT_COMPUTATION",AFTER_CALLING_REFRESH:"AFTER_CALLING_REFRESH",TIME_DIFFERENCE_BETWEEN_LOGS_FOR_A_SLOT:{BEFORE_VACANT_COMPUTATION:"lastRunTimeBeforeVacantComputation",AFTER_VACANT_COMPUTATION:"lastRunTimeAfterVacantComputation",AFTER_CALLING_REFRESH:"lastRunTimeAfterCallingRefresh"},ANALYSIS_IDENTIFIER:{VACANT_HB_COMPUTATION_TIME:"timeHBComputation",VACANT_ADX_WON_COMPUTATION_TIME:"timeADXComputation",AD_REQUESTS:"adRequests"},VACANT_AD_SPACE_PHASE:{0:"BID_PRESSURE_LOG",1:"VACANT_AD_COMPUTATION",2:"GAM_RESPONSE",3:"HB_WON_PREBID_RENDER_AD_CALLED_FOR_VACANT_AD",4:{1:"ADX_WON",2:"ADX_WON_PREBID_RENDER_AD_CALLED"}},VACANT_PAGE_VIEW_LOG:"VACANT_PAGE_VIEW",VACANT_INCREMENTAL_REVENUE:"VC_IR",VACANT_HB_REVENUE:"VC_HB",VACANT_MULTIADS_ANALYSIS:"VACANT_MULTIADS_ANALYSIS"},ADHOC_EVENTS:{AMAZON_UAM_LOGGING:"amazonUAMLlogs",HEAVY_AD_INTERVENTION_IFRAME_LOGGING:"heavyAdInterventionIframeLogs",HEAVY_AD_INTERVENTION_TOP_WINDOW_LOGGING:"heavyAdInterventionTopWindowLogs"},ALTERNATE_FEEDBACK_HOST:"feedback.adpushup.com",ALLOWED_ADS_WITHOUT_PAGE_GROUP:["interstitial"],AP_VIDEO_RENDERER:{LABEL:{VIDEO:"VIDEO",RESPONSIVE:"responsive"},UTILITY_LOGGING:{BID:"bid",VIDEO_BID_RECEIVED:"video_bid_received",REFRESH:"refresh",REFRESH_AD:"refreshAd",NOT_RENDERED_VIDEO_BID:"not_rendered_video_bid",AP_OUTSTREAM_QUEUE_FIRED:"ap_outstream_queue_fired",READY_EVENT_FIRED:"ready_event_fired",BANNER_BEFORE_VIDEO_RENDERED:"banner_before_video_rendered"}},AD_SERVING_FEE:.01,THRESHOLD_OFFSET_1X1_PARAMS:{DESKTOP:{top:400,bottom:400},MOBILE:{top:150,bottom:150},TABLET:{top:250,bottom:250}},CONTROL_REPORTING_ENABLED:!0,CLUSTER_REPORTING_ENABLED:!0,ACTIVE_MODE_VALUES:{CONTROL_MODE:"0",EXPERIMENT_MODE:"1",AGGRESSIVE_MODE:"2",PASSIVE_MODE:"1"},BROWSERS_FOR_REPORTING:{CHROME:"chrome",SAFARI:"safari",OTHER:"Other"},PLATFORMS_FOR_REPORTING:{DESKTOP:"DESKTOP",NON_DESKTOP:"Other"},REFRESH_BUCKETS_FOR_REPORTING:{BUCKET_1:"1",BUCKET_2:"2",BUCKET_3:"3",BUCKET_4:"4",BUCKET_5:"5"},TAB_STATUS_FOR_REPORTING:{ACTIVE_TAB:"active",INACTIVE_TAB:"inactive"},SUBSEQUENT_GAM_EVENTS:{PAGE_VIEW:"SG_PAGE_VIEW",ERROR:"SG_ERROR"},VACANT_ERROR_SAMPLING_RATE:.3};e.exports=n},},function(e,t,n){function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function A(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=n(25),y=n(149),d=n(22),_=n(15),l=n(181),S=l.bidderParamsMapping,p=l.multiFormatConstants,f=n(14),T=window.adpushup,g=T.config,h=g&&g.apLiteActive,l=g&&g.hbConfig,E=l&&l.SIZE_MAPPING&&l.SIZE_MAPPING.sizes||[],}(),v={isObjec},getLatestAuctionIdForAdUnitCod},getVastClientTyp},randomAlphaNumericStrin},currencyConversionActiv},getActiveDFPNetwor},getSectionI},hashCod},removeElementArrayFromCollectio},addBatchIdToAdpSlot},getCurrentAdpSlotBatc},lo},getQueryParams:function(){var e=window.location.search,i={};try{e.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,t,n,r){t=unescape(t)||"",r=unescape(r)||"";i[t]=window.decodeURIComponent(r.replace(/\+/g," "))})}catch(e){console&&console.error&&console.error(e)}return i},getOriginalOrDownwardSizeBidderParam},getVideoOrNativeParam},getBiddersForSlot:function(d,e){var t=this,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},p=d.size,f=d.computedSizes,n=p[0],r=p[1],p="".concat(n,"x").concat(r),g=[],h={display:[],video:[],native:[]},E=window.adpushup.config,m=E.hbConfig.PREBID_CONFIG.hbcf,v=l.formats||e,b=Array.isArray(l.allowedBidders)&&l.allowedBidders.length,i=(m&&Object.keys(m).length&&Object.keys(m).forEach(function(i){var o=this,e=m[i],t=!b||-1!==l.allowedBidders.indexOf(i);if(!e.isPaused&&t){var a,s,c,t=E.platform,n=E.hbOnInterstitialActive,n=void 0!==n&&n&&d.adType===_.AD_TYPE.INTERSTITIAL&&!(e.supportsInterstitial&&e.supportsInterstitial.includes(t));if(!n)if(e.sizeLess&&e.enableFormatWiseParams?(a={bidder:i,params:{}},s=e.config,c=Object.keys(s),v.forEac})):e.sizeLess&&(a={bidder:i,params:e.config},(t=E.customBidderConfig)&&t.enabled&&t.bidder==i&&t.mapping[d.slotId]&&(a.params=t.mapping[d.slotId]),S[i]&&v.forEac}),g.push(a)),!e.sizeLess&&e.reusable&&(s=this.getOriginalOrDownwardSizeBidderParams(e.config,p,f,d,i)).length)for(var r=0;r<s.length;r++){var u=s[r];u&}()}}}.bind(this)),l.bidderSequence||T.config.bidderSequencePocConfig&&T.config.bidderSequencePocConfig.bidderSequence);return i&&(g=this.sortBidders(g,i),Object.keys(h).forEac})),{nonFormatWiseBidders:g,formatWiseBidders:h}},checkForValidBidder},sortBidder},isPrebidHbEnable},isAmazonUamEnable},getComputedSizeByAspectRati},getVideoPlayerSiz},getLargestDownwardPlayerSiz},getLargestSiz},isSlotAT},isStickyContaine},getSlotRefreshDat},isBidAliv},getHighestAliveBi},setTargetingForInterstitialTestPocIfApplicabl},getHighestCpmBi},createIfram},createCrossOriginIfram},getIframeDocumen},getDownwardCompatibleSize},reverseSortSizesArra},getSizeMappingForCurrentViewpor},getDimensionsFromSizeMappin},getSizesComputedUsingSizeMappingOrAdUnitSiz},isGivenTimeExistsInTimeRange},filterComputedSize},inflateBidCpmIfApplicabl},isValidNumbe},setShouldPerformBidInflatio},getOriginalCpmFromInflate},getBidCpmFromAdIdTargetin},isSlotEligibleForUamOutstrea},getUamOutstreamEligibleSizesFromComputedSize},getTopOfElement:function(e){return e.getBoundingClientRect().top+window.pageYOffset},getBottomOfElemen},cssPxToNumberForma},cssMarginPaddingToObjec},getMarginPaddingFromComputedStyle},calculateTopOfAdContaine},calculateTopOfAdContainerFromXPathContaine},isEligibleFor1x},getFeedbackAdDataWithReplacedGptSlo},getSlotFeedbackWithReplacedGptSlo},sendFeedbackForReplacedGptSlo},getBgRefreshOptimzationRefreshTypeForLoggin},shouldUseCustomGranularit},getNetworkIdForSlo},getMCMParamForSlo},getSlotLevelTargetingFor27secSpli},deductBidderRevenueShareIfApplicabl},deductAdPushupRevenueShareIfApplicabl},deductAdServingFeeIfApplicabl},convertCurrenc},clearElContent:function(e){document.querySelector(e).innerHTML=""}};e.exports=v},function(e,t,n){var r=n(32),i=n(33),o=n(36),a=n(37),n=n(38);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=n,e.exports=s},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t,n){var r=n(60),i=n(68),o=n(71),a=n(72),n=n(73);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=n,e.exports=s},function(e,t,n){var r=n(69);e.exports=function(e){return r(this,e).get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){n=n(50).Uint8Array;e.exports=n},function(e,t,n){var r=n(88),i=n(91),o=n(94);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(48),i=n(99);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t,n){var r=n(105),i=n(107),n=n(108),n=n&&n.isTypedArray,i=n?i(n):r;e.exports=i},function(e,t,n){n=n(112)(Object.keys,Object);e.exports=n},function(e,t,n){n=n(45)(n(50),"DataView");e.exports=n},function(e,t,n){n=n(45)(n(50),"Promise");e.exports=n},function(e,t,n){n=n(45)(n(50),"Set");e.exports=n},function(e,t,n){n=n(45)(n(50),"WeakMap");e.exports=n},function(e,t,n){var r=n(156),i=n(94);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(156),i=n(91);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(170);e.exports=function(e,t){return t=t?r(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength)}},function(e,t,n){var r=n(178),i=n(107),n=n(108),n=n&&n.isMap,i=n?i(n):r;e.exports=i},function(e,t,n){var r=n(114),i=n(99);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},function(e,t,n){function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function r(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}var a=window.adpushup,s=n(13),c=n(15).ADSERVER_TARGETING_KEYS,i=n(184),u=i.getFloorEngineType,d=i.getClusteringFloorPrice,l=i.getPricingRulesJsonsFilesDependency,p=i.checkFloorRunningState,f=i.getNearest,g=i.getRefreshWiseFloorData,h=i.sendErrorLogsOnQueProcessing,E=i.getActiveTabWiseFloor,m=i.getHourlyCusteredFloorData,v=i.getManualFloorValue,i=n(187),b=i.validateActiveTabWiseFloorRules,A=i.validateClusterFloorRules,y=i.validateRefreshCountRule,i=n(185),_=i.SCHEMA_FIELDS,S=i.MEDIA_TYPES,T=i.FLOOR_ENGINE_TYPE,I=i.DEFAULT_FLOOR_ENGINE_TARGETING,O=i.AP_FLOOR_ENGINE_PAGE_VIEW_EVENT_NAME,R=i.DEFAULT_MINIMUM_FLOOR_VALUE,w=a.config.floorPriceConfig.globalFloorsMapping;e.exports={getPricingRules:function(){try{var e=l().map(function(e){return e.call()});Promise.all(e).then(function(){Promise.resolve()})}catch(e){h({msg:"Error in FPR: getting pricing rule",error:e}),Promise.resolve()}},getFloorKeyForGptSlot:function(e){if(!e.floorPrice||e.openFloor)return null;try{var t=a.floorPriceEngine.config.allFloorPrice,n=e.floorPrice.banner,r=t[f(t,n)].toFixed(2);return w[r]}catch(e){return h({msg:"Error in getting floor key for gpt slot",error:e}),null}},getPrebidFloorObject:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{currency:a.floorPriceEngine.config.adServerCurrency,schema:{fields:[_.MEDIA_TYPE]},values:e,modelGroups:[{modelWeight:1,schema:{fields:[_.MEDIA_TYPE]},values:e}],floorsSchemaVersion:2}},getFloorPrice:function(e,t,n){var r=a.floorPriceEngine.config.floorEngineType,r=void 0===r?T.REFRESH_COUNT:r;switch(s.log("Floor Engine Type",r),t.openFloor=!1,r){case T.CLUSTERING_FLOORS:return d(t);case T.ACTIVE_TAB_WISE_FLOORS:return E(t);case T.HOURLY_CLUSTERED_FLOORS:return m(t);case T.MANUAL_FLOORS:return v(t);default:T.REFRESH_COUNT;return g(e,t,n)}},getMediaTypeFloor:function(e,t,n){var r=!1,e=this.getFloorPrice(e,t,n),n=a.floorPriceEngine.config,i=n.minClusteringRulesEnabled,o=n.clusteringRulesEnabled,n=n.floorEngineType;return i&&o&&n!==T.CLUSTERING_FLOORS&&((i=d(t))&&(!e||i<e)&&(e=i,r=!0)),n!==T.CLUSTERING_FLOORS&&(t.isUsingClusterFloor=r),e||R},getFloorsValues:function(e){var t=this.getMediaTypeFloor(S.BANNER,e),t={banner:t,native:t,video:this.getMediaTypeFloor(S.VIDEO,e,t)};return e.floorPrice=t},validatePriceRulesOnAdUnit:function(e){if(!e)return!1;switch(a.floorPriceEngine.config.floorEngineType){case T.CLUSTERING_FLOORS:return A(e);case T.ACTIVE_TAB_WISE_FLOORS:return b(e);case T.REFRESH_COUNT:return y(e);default:return!0}},getPrebidUnitFloors:function(t){try{if(!this.validatePriceRulesOnAdUnit(t))return s.log("FP Engine Rule not applicable",t.slotId),null;var e=this.getFloorsValues(t);return this.getPrebidFloorObject(e)}catch(e){window.adpushup.err.push({msg:"Error in updating floors for prebid units",slotId:t&&t.slotId,error:e})}},setPrebidUnitFloors:function(e,t){try{var r=this;e.adUnits.filte}).forEach(function(e){var t=e.code,t=a.adpTags.adpSlots[t],n=r.getPrebidUnitFloors(t);n&&!t.openFloor&&(e.floors=n)})}catch(e){h({msg:"Error in setting prebid floors at unit level",error:e})}},initConfig:function(){try{var e=a.config.hbConfig.PREBID_CONFIG,t=(void 0===e?{}:e).adServerCurrency,n=void 0===t?"USD":t,r=(a.floorPriceEngine.config.adServerCurrency=n,Object.keys(w).map(function(e){return parseFloat(e)}));a.floorPriceEngine.config.allFloorPrice=r}catch(e){h({msg:"Error in initiating config for floor price",error:e})}},setFloorPricePageLevelTargeting:function(){var e,t=a.floorPriceEngine.config,n=t.loggingVersion,r=t.isApplicable,i=r?"1":"0",o=I,r=(r&&(e=(r=u()).engineType,o=r.targetingKeyValue,t.floorEngineType=e),o),t=i;n&&(r+="_".concat(n),t+="_".concat(n)),s.setCustomPageLevelTargetingMap(c.AP_FP_ENGINE_RAN,i),s.setCustomPageLevelTargetingMap(c.FP_ENGINE_RAN,t),s.setCustomPageLevelTargetingMap(c.FP_ENGINE_TYPE,o),s.setCustomPageLevelTargetingMap(c.FP_ENGINE_TYPE_TEMP,r)},removeFpEnginePageLevelTargeting:function(){a.customPageLevelTargetingMap&&a.customPageLevelTargetingMap.targeting&&[c.AP_FP_ENGINE_RAN,c.FP_ENGINE_RAN,c.FP_ENGINE_TYPE,c.FP_ENGINE_TYPE_TEMP].forEac})},sendFloorEnginePageView:function(e){var t=O,n=r({runningStatus:e},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});s.sendLogsToDataDogService(t,n)},isFloorPriceApplicable:function(){var e=p();return!!(a.floorPriceEngine.config.isApplicable=e)}}},function(F,M,e){var T=window.adpushup,I=e(13),a=e(24).getSlotRefreshData,t=e(185),O=t.FLOOR_ENGINE_TYPE,R=t.FLOOR_ENGINE_PRICING_MODELS,G=t.defaultDimensionRules,k=t.defaultClusteringDimensionRules,j=t.defaultTabWiseDimensionRules,V=t.defaultHourlyClusteredRules,x=t.defaultDimensionMultiplierRules,H=t.defaultMaunaulFloorDimensionRules,r=t.DEFAULT_MINIMUM_FLOOR_VALUE,w=t.DEFAULT_FLOOR_ENGINE_PRICING_MODEL,z=t.MEDIA_TYPES,W=t.defaultMultipliersRules,l=t.MULTIPLIER_BASE_MODEL,u=t.USE_BASE_MULTIPLIER,P=t.ADAPTIVE_FLOOR_SCALE_TYPES,d=t.USE_DIMENSION_MULTIPLIER,p=t.DEFAULT_BASE_MULTIPLIER,f=t.DEFAULT_HC_BASE_MULTIPLIERS,g=t.USE_BANNER_DRSD_MULTIPLIER,Y=t.USE_HOURLY_BANNER_MULTIPLIER,n=t.TARGETING_VALUES,K=n.INC_DEC_VALUE,q=n.ADAPTIVE_INC_DEC_VALUE,X=n.HB_WON_VALUE,C=n.ADAPTIVE_INC_DEC_TYPES,$=n.CAPPING_EXPERIMENT,h=t.DEFAULT_MINIMUM_VALUE,Q=t.DEFAULT_CAPPING_EXPERIMENT_FLOOR_VALUE,J=t.DEFAULT_AD_UNIT,n=e(186),E=n.getBrowserForReporting,m=n.getPlatformForClusterReporting,v=n.getTabStatusForClusterReporting,b=n.getRefreshBucketForClusterReporting;function s(e,t){var n=e.length,r=function(e,t){var n=0,r=e.length-1,i=0;for(;n<r;){var o=n+Math.floor((r-n)/2);if(e[o]==t)return o;e[o]<t?n=o+1:r=o-1}i=0<n&&e[n]>t?n-1:n;return i}(e,t);return r<n-1&&i(e[r],t)>i(e[r+1],t)?r+1:}function A(e){T.que=T.que||[],T.que.push(function(){Array.isArray(window.adpushup.err)&&window.adpushup.err.push(e)})}function y(e){var e=a(e,!0),t=T.floorPriceEngine.config.activeSplitConfig,t=(void 0===t?{}:t).incrementDecrementActive;return!!(0<e&&(void 0!==t&&t))}function _(e){var e=e.headerBidding,t=T.floorPriceEngine.config.activeSplitConfig,t=(void 0===t?{}:t).hbWonFloorActive;return e&&(void 0!==t&&t)}function S(){var e=T.config.floorPriceConfig,e=(void 0===e?{}:e).activeSplitConfig,e=(void 0===e?{}:e).defaultFloorValue;return void 0===e?r:e}function D(e,t){var n,r,i=function(e){var e=a(e,!0),t=T.floorPriceEngine.config.activeSplitConfig,t=(void 0===t?{}:t).adaptiveIncrementDecrementActive,t=void 0!==t&&t;if(0<e&&t)return!0;return!1}(e),o=T.floorPriceEngine.config.allFloorPrice,i=i?function(e,t,n){var r=e.floorPrice,r=(void 0===r?{}:r).banner,n=void 0===r?n:r,r=e.isEmpty,i=s(t,n),o=i;o=r?(I.log("Has No Fill, decreasing the floor",e.slotId),Math.max(o-1,0)):(I.log("Has fill, increasing the floor",e.slotId),e=function(e,t){var n=P.MINIMUM_BID,r=P.MAXIMUM_BID,i=P.AVERAGE_BID,o=T.floorPriceEngine.config.activeSplitConfig,o=(void 0===o?{}:o).scaleType;switch(void 0===o?n:o){case r:return function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=e.historicalComputedBidsData,n=(void 0===n?{}:n).maximumBid,n=void 0===n?0:n;return Math.max(n,t)}(e,t);case i:return function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=e.historicalComputedBidsData,n=void 0===n?{}:n,r=n.bidsSum,r=void 0===r?0:r,n=n.bidsCount,r=r/(void 0===n?1:n);return Math.max(r,t)}(e,t);default:return function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=e.historicalComputedBidsData,n=(void 0===n?{}:n).minimumBid,n=void 0===n?0:n;return Math.max(n,t)}(e,t)}}(e,n),s(t,e));return I.log("Next Floor Value",{isEmpty:r,originalNearestValueIndex:i,nearestValueIndex:o}),o}(e,o,t):(i=e,n=t=s(e=o,t=t),(r=i.isEmpty)?(I.log("Has No fill, decreasing the floor",i.slotId),0<n&&n--):(I.log("Has fill, increasing the floor",i.slotId),n<e.length-1&&n++),I.log("Next Floor Value",{isEmpty:r,originalNearestValueIndex:t,nearestValueIndex:n}),n),e=o[i];return e||A({msg:"failed to get the updated floor price",nearestValueIndex:i}),e}function L(e,t){e=e.lastAuctionPrebidData,e=(void 0===e?{}:e).winningOriginalCpm;return e?Math.max(e,t):t}function Z(){var e=T.floorPriceEngine.config.clusteringRulesEnabled;if(!(void 0!==e&&e))return Promise.resolve();var n=function(){try{var e=T.config,t=e.siteId,n=e.floorPriceConfig,r=((void 0===n?{}:n).clusteringDimensionRules||k).map(function(e){return T.config[e]}),i=window.btoa(r.join("_")),o=I.getCdnHost();return"https://".concat(o,"/fpe/").concat(t,"/clb/").concat(i,".json")}catch(e){return void A({msg:"Error in FPE: making cluster file url",error:e})}}();return n?new Promise(function(t){c(n).then(function(e){return T.floorPriceEngine.clusteringFloors=e,t()})}):Promise.resolve()}function o(e){var t=T.floorPriceEngine.config.activeSplitConfig;return(void 0===t?{}:t).engineType==e}function ee(){if(!o(O.ACTIVE_TAB_WISE_FLOORS))return Promise.resolve();var e=function(){try{var e=T.config,t=e.siteId,n=e.floorPriceConfig,r=((void 0===n?{}:n).tabWiseDimensionRules||j).map(function(e){return T.config[e]}),i=window.btoa(r.join("_")),o=I.getCdnHost();return"https://".concat(o,"/fpe/").concat(t,"/clb/tab_").concat(i,".json")}catch(e){return void A({msg:"Error in FPE: making Tab Wise file url",error:e})}}();return e?new Promise(function(t){c(e).then(function(e){return T.floorPriceEngine.pricingTabWiseRules=e,t()})}):Promise.resolve()}function te(){var e=function(){try{var e=T.config,t=e.siteId,n=e.floorPriceConfig,r=((void 0===n?{}:n).dimensionRules||G).map(function(e){return T.config[e]}),i=window.btoa(r.join("_")),o=I.getCdnHost();return"https://".concat(o,"/").concat(t,"/E_B_Data/").concat(i,".json")}catch(e){return void A({msg:"Error in FPE: making file url",error:e})}}();return o(O.REFRESH_COUNT)&&e?new Promise(function(t){c(e).then(function(e){return T.floorPriceEngine.pricingRules=e,t()})}):Promise.resolve()}function c(e){return new Promise(function(t){I.sendRequest(e).then(JSON.parse).then(function(e){t(e)}).catch(function(e){A({msg:"Error in FPE getting CDN File Url",error:e}),t()})})}function ne(){var e=function(){try{var e=T.config,t=e.siteId,n=e.floorPriceConfig,r=((void 0===n?{}:n).dimensionRules||H).map(function(e){return T.config[e]}),i=window.btoa(r.join("_")),o=I.getCdnHost();return"https://".concat(o,"/fpe/").concat(t,"/MAN_Data/").concat(i,".json")}catch(e){return void A({msg:"Error in FPE: making file url",error:e})}}();return o(O.MANUAL_FLOORS)&&e?new Promise(function(t){c(e).then(function(e){return T.floorPriceEngine.manualFloorsData=e,t()})}):Promise.resolve()}function N(){var e=T.config.floorPriceConfig,e=(void 0===e?{}:e).activeSplitConfig;return(void 0===e?{}:e).customDomainUrl||I.getCdnHost()}function re(){if(!o(O.HOURLY_CLUSTERED_FLOORS))return Promise.resolve();var e=function(){try{var e=T.config,t=e.siteId,n=e.floorPriceConfig,r=((void 0===n?{}:n).hourlyClusteredRules||V).map(function(e){return T.config[e]}),i=window.btoa(r.join("_")),o=N(),a=R.HOURLY_CLUSTERED_FLOORS[w];return"https://".concat(o,"/fpe/").concat(t,"/").concat(a,"/HC_").concat(i,".json")}catch(e){return void A({msg:"Error in FPE: making hourly clustered floors file url",error:e})}}();return e?new Promise(function(t){c(e).then(function(e){return T.floorPriceEngine.pricingHourlyClusteredRules=e,t()})}):Promise.resolve()}function ie(){var e=T.config.floorPriceConfig,e=(void 0===e?{}:e).activeSplitConfig;if(!(void 0===e?{}:e)[u])return Promise.resolve();var n=function(){try{var e=T.config,t=e.siteId,n=e.floorPriceConfig,r=(void 0===n?{}:n).activeSplitConfig,i=void 0===r?{}:r,o=i.multipliersRules,a=W,s=(o&&(a=o.map(function(e){return T.config[e]})),window.btoa(a.join("_"))),c=N(),u=i.engineType,d=l[u];if(d)return"https://".concat(c,"/fpe/").concat(t,"/").concat(d,"/").concat(s,".json");throw new Error}catch(e){return void A({msg:"Error in FPE: making Multiplier file url"})}}();return n?new Promise(function(t){c(n).then(function(e){return T.floorPriceEngine.floorsPricingMultipliers=e,t()})}):Promise.resolve()}function oe(){var e=T.config.floorPriceConfig,e=(void 0===e?{}:e).activeSplitConfig,e=void 0===e?{}:e;if(!e[d]&&!e[g])return Promise.resolve();var n=function(){try{var e=T.config,t=e.siteId,n=e.floorPriceConfig,r=(void 0===n?{}:n).activeSplitConfig,i=void 0===r?{}:r,o=(i.dimensionMultipliersRules||x).ma}),a=window.btoa(o.join("_")),s=N(),c=i.engineType,u=l[c];if(u)return"https://".concat(s,"/fpe/").concat(t,"/").concat(u,"/dim_").concat(a,".json");throw new Error}catch(e){return void A({msg:"Error in FPE: making dimension wise multiplier file url"})}}();return n?new Promise(function(t){c(n).then(function(e){return T.floorPriceEngine.dimensionWiseMultipliers=e,t()})}):Promise.resolve()}function B(e,t,n){for(var r=n,i=e,o=0;o<t.length;o++)if(!(i=i[t[o]]||i.DEFAULT))return r;return r=Number.isFinite(i)?i:r}function U(e){var t=T.config.floorPriceConfig,t=(void 0===t?{}:t).activeSplitConfig,t=void 0===t?{}:t,n=t.floorPricingModel,n=void 0===n?w:n,n=R.HOURLY_CLUSTERED_FLOORS[n],r=T.floorPriceEngine.dimensionWiseMultipliers,t=t.defaultMultiplierValue,t=void 0===t?f[n]:t;return B(void 0===r?{}:r,function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=E(),i=m(),o=v(),a=b(e),s=e.slotId,c=[];n&&(n=I.getPSTHour(),c.push(n));return c.push.apply(c,[r,i,o,s,a,t]),c}(e,n,!(1<arguments.length&&void 0!==arguments[1])||arguments[1]),t)}F.exports={getFloorEngineType:function(){var t,e,n=void 0===(n=T.floorPriceEngine.config.floorEngineTypeSplit)?[]:n,r=I.getQueryParams().forceFloorEngineType;if(r&&(t=r,(void 0===(e=T.floorPriceEngine.config.floorEngineTypeSplit)?[]:e).fin})))return{engineType:r,targetingKeyValue:r};for(var i=n,o=0,a=Math.random(),s=P.MINIMUM_BID,c=P.MAXIMUM_BID,u=P.AVERAGE_BID,d=C.MIN_BID,l=C.MAX_BID,p=C.BIDS_AVG,f=0;f<i.length;f++){var g=i[f],h=g.trafficSplit,E=g.engineType,m=g.adaptiveIncrementDecrementActive,m=void 0!==m&&m,v=g.incrementDecrementActive,v=void 0!==v&&v,b=g.hbWonFloorActive,b=void 0!==b&&b,A=g.floorPricingModel,A=void 0===A?w:A,y=g.scaleType,y=void 0===y?s:y,_=g.cappingExperimentActive,_=void 0!==_&&_;if(a<(o+=void 0===h?0:h)){var S=E;if(E==O.HOURLY_CLUSTERED_FLOORS&&(S+="_".concat(R.HOURLY_CLUSTERED_FLOORS[A])),v&&(S+=m?q:K),S+=b?X:"",m)switch(y){case c:S+=l;break;case u:S+=p;break;default:S+=d}return S+=_?$:"",T.floorPriceEngine.config.activeSplitConfig=g,{engineType:E,targetingKeyValue:S}}}return{engineType:O.REFRESH_COUNT,targetingKeyValue:O.REFRESH_COUNT}},getClusteringFloorPrice:function(e){var t=T.floorPriceEngine.clusteringFloors||{},n=e.slotId,t=Number(t[n]);return y(e)?D(e,t):_(e)?L(e,t):t},getPricingRulesJsonsFilesDependenc},getIncrementDecrementWiseFloorData:D,checkFloorRunningState:function(){var e=(T.floorPriceEngine.config||{}).trafficSplit,t=I.getQueryParams().forceFloorEngine;return I.isActiveSplit(e,t)},sendErrorLogsOnQueProcessing:A,getNearest:s,getRefreshWiseFloorData:function(e,t,n){var r=a(t),i=void 0===(i=T.floorPriceEngine.pricingRules)?{}:i,o=t.slotId;return!(i=i[o]&&i[o][e])&&e==z.VIDEO&&n?n:i?((e=i[r])||(e=(n=Object.values(i))[n.length-1]),o=T.utils.selectRandomValueFromArray(e),y(t)?D(t,o):_(t)?L(t,o):o):((o=S())===h&&(t.openFloor=!0),o)},getActiveTabWiseFloor:function(e){var t=I.isDocumentFocused(),n=a(e),r=T.floorPriceEngine.pricingTabWiseRules||{},i=e.slotId,t="".concat(t,"_").concat(n),n=r[i]||{},r=S();return(i=n[t]||r)===h&&(e.openFloor=!0),y(e)?D(e,i):_(e)?L(e,i):i},getHourlyCusteredFloorData:function(e){a=e,s=void 0===(s=T.floorPriceEngine.pricingHourlyClusteredRules)?{}:s,t=S(),n=I.getPSTHour(),r=E(),c=m(),i=v(),o=b(a);var t,n,r,i,o,a,s=B(s,[n,r,c,i,a.slotId,o].concat(),t),c=(y(e)&&(n=D(e,s),s=Math.max(s,n)),_(e)&&(r=L(e,s),s=Math.max(s,r)),function(e){var t=T.config.floorPriceConfig,t=(void 0===t?{}:t).activeSplitConfig,t=void 0===t?{}:t;if(t[d])return function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:R.HOURLY_CLUSTERED_FLOORS,n=T.config.floorPriceConfig,n=(void 0===n?{}:n).activeSplitConfig,n=(void 0===n?{}:n).floorPricingModel,n=(t=t[t=void 0===n?w:n],T.floorPriceEngine.dimensionWiseMultipliers),n=void 0===n?{}:n,r=e.slotId,i=b(e),o=m(),n=n[o];if(!n)return p;o=n[r];if(!o)return p;n=o[i];return n&&n[t]||p}(e,R.HOURLY_CLUSTERED_FLOORS);if(t[g])return U(e);if(t[Y])return U(e,!1);if(t[u])return function(){var e=T.config.floorPriceConfig,e=(void 0===e?{}:e).activeSplitConfig,e=void 0===e?{}:e,t=e.floorPricingModel,t=void 0===t?w:t,n=(t=R.HOURLY_CLUSTERED_FLOORS[t],T.floorPriceEngine.floorsPricingMultipliers),n=void 0===n?f:n,e=e.defaultMultiplierValue,e=void 0===e?p:e;return n[t]||e}();return e.openFloor=!0,p}(e));return(s*=c)===h?e.openFloor=!0:(i=s,o=(a=void 0===(a=(void 0===(a=T.config.floorPriceConfig)?{}:a).activeSplitConfig)?{}:a).cappingExperimentActive,a=a.minimumCappingValue,s=void 0!==o&&o?Math.max(i,void 0===a?Q:a):i),s},getBannerDRSDMultiplier:U,getManualFloorValue:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.slotId,n=(T.floorPriceEngine||{}).manualFloorsData,t=(n=void 0===n?{}:n)[t]||n[J]||r;return y(e)&&(n=D(e,t),t=Math.max(t,n)),_(e)&&(n=L(e,t),t=Math.max(t,n)),t&&t!==h||(e.openFloor=!0),t}}},function(e,t){var n=window.adpushup;e.exports={validateRefreshCountRule:function(e){var e=e.slotId,t=n.floorPriceEngine.pricingRules;return!!t&&(!!(t=t[e])&&(e=t.banner,t=t.video,!(!e&&!t)))},validateClusterFloorRules:function(e){var e=e.slotId,t=n.floorPriceEngine.clusteringFloors;return!!t&&!!t[e]},validateActiveTabWiseFloorRules:function(e){var e=e.slotId,t=n.floorPriceEngine.pricingTabWiseRules;return!!t&&!!t[e]}}},function(e,t,n){function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function a(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=n(13),s=r.isWebWorkerSupported,c=r.sendLogsToDataDogService,g=r.filterFalsyObjectKeys,r=n(207),u=n(208),d=n(14),l=r.FORCE_QUERY_PARAM_KEY,p=r.DEBUG_OPTIMISE_REFRESH,f=r.TARGETING,h=r.VERSION,E=r.VARIATION,m=r.LOGGING.EVENT,v=r.GLOBAL_CONST,b=window.adpushup,n=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n,r;return t=e,r=[{key:"initializeStateOnAdpConfig",valu}},{key:"isFeatureForced",valu}},{key:"determineActiveVariation",valu}},{key:"addTargetingPropertiesOnFeatureState",valu}},{key:"updateStateIfAnyOneSlotIsBgOrBv",valu}},{key:"debugLog",valu}},{key:"sendLogIfEligible",value:function(e){try{var t=b.config.optimiseRefresh,n=t.variation,r=t.isFeatureEnabledOnSite,i=t.isLoggingEnabled,o=t.version;if(!e.length||!r||!i)return;var a={arrayOfSlotData:e.map(this.constructLoggingData),variation:n,featureVersion:o,childEvent:m.SLOT_REFRESH};c(m.OPTIMISE_REFRESH,a)}catch(e){this.logError("sendLogIfEligible()",e,"Utils.js")}}},{key:"constructLoggingData",valu}},{key:"logError",value:function(e,t){b.err.push({msg:"Error in apJs/modules/optimiseRefresh/".concat(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"OptimiseRefreshManager.js"," ").concat(e),error:t})}},{key:"applyPageLevelTargeting",valu}},{key:"applySlotLevelTargeting",valu}}],(n=null)&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=n},function(e,t,n){var n=n(14),r=window.adpushup.config,r=(r.OPTIMISE_REFRESH=r.OPTIMISE_REFRESH||{},r.OPTIMISE_REFRESH),i=r.IS_ENABLED_GLOBALLY,o=r.SPLIT_PERCENTAGE,a=r.VERSION,s=r.IS_LOGGING_ENABLED,r=r.BLACKLISTED_SITES,n={TARGETING:{KEY:n.MISC_PAGE_LEVEL_TARGETING_KEY,PAGE_VIEW:"pv",FEATURE_IDENTIFIER:"optiRef"},VARIATION:{CONTROL:"c",EXPERIMENT_BG:"e_bg",EXPERIMENT_ALL:"e_all",FALLBACK:"f"},VERSION:"v1",FORCE_QUERY_PARAM_KEY:"forceOptimiseRefresh",DEBUG_OPTIMISE_REFRESH:"debugOptimiseRefresh",LOGGING:{EVENT:{OPTIMISE_REFRESH:"OPTIMISE_REFRESH",SLOT_REFRESH:"SLOT_REFRESH"}},REFRESH_TYPE:{BG:"BG"},GLOBAL_CONST:{IS_ENABLED_GLOBALLY:i,SPLIT_PERCENTAGE:o,VERSION:a,IS_LOGGING_ENABLED:s,BLACKLISTED_SITES:r}};e.exports=n},function(e,t,i){function r(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var d=null,p=null,l=null,a=null,f=null,g=null,h=i(14),c=i(218),s=i(246var m=null,v={convertBidCpmCurrencyIfRequire},getSlotsAuctione},getNetworkRelatio},collectAdUnitPrebidWinne},collectAdUnitBidsDat},collectAuctionDat},markSlotFeedbackSen},getAuctionFeedbackDat},getBidWonFeedbackDat},findBidByAdI},getBidsForAdUnitFromPreviousAuction}},b={sendBidWonFeedbac},sendAuctionFeedac}};function A(e){if(l.log("========= auctionEnd =========",e),"completed"===e.auctionStatus){var t=v.getSlotsAuctioned(e),n=e.auctionId,r=(T(e.bidsReceived),e);try{var i=r.bidsReceived,s=p.adpTags.adpSlots;i.forEach(function(e){var t,n,r,i,o,a=e.adUnitCode,e=e.originalCpm,a=s[a];"historicalComputedBidsData"in a?(n=(t=a.historicalComputedBidsData).minimumBid,r=t.maximumBid,i=t.bidsSum,o=t.bidsCount,t.minimumBid=Math.min(n,e),t.maximumBid=Math.max(r,e),t.bidsSum=i+e,t.bidsCount=o+1):a.historicalComputedBidsData={minimumBid:e,maximumBid:e,bidsSum:e,bidsCount:1}})}catch(e){l.log("Error in saving bids data for floor engine",e),window.adpushup.err.push({msg:"Error in saving bids data for floor engine",error:e})}p.config.hbAnalytics&&(v.collectAuctionData(e,t),v.collectAdUnitBidsData(e,t),b.sendAuctionFeedack(n,t)),r=e,(i=p.userLevelHbAuction)&&i.enabled&&(c.auctionEndData(r),m&&i.isEligible&&m.postMessage({type:"add-auction-data",data:JSON.parse(JSON.stringify({auctionData:r}))}))r },},R={ini},enableEvent},collectBidWonData:S,calculateBidCpmForFeedback:E};e.exports=R},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r)return r=Object.getOwnPropertyDescriptor(r,t),r.get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=u(n),t=(e=r?(e=u(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n(254),l=n(255),n=function(){var e=i,t=l;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t);var n,r=c(i);function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");var t=e.error&&e.error.message||"Uncaught Error";return(t=r.call(this,t)).filename=e.filename,t.lineno=e.lineno,t.colno=e.colno,t.error=e.error||!1,t.stack=t.error&&t.error.stack||"",t.name="ApUncaughtError",t.reportError=d.reporting.errorTypesEnabledForReporting.ApUncaughtError,t}return e=i,(t=[{key:"getData",value:function(){var e=a(u(i.prototype),"getData",this).call(this);return e.colno=this.colno,e.lineno=this.lineno,e.filename=this.filename,e}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();e.exports=n},function(e,t,b){function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=window,A=window.adpushup,a=b(283),y=b(15),_=window.adpushup.config,S=b(204),T=b(14),I=b(24),O=b(270),i=b(286),o=b(15),R=b(287),g=b(194),w=b(206),h=b(205),P=b(212),C=b(196),s=b(279),E={isFooterBiddingEnable},destroyGptSlo},refreshGPTSlots:function(n,r){var e=A.config,i=e.shouldSkipDisableInitialLoad,o=e.isRedefineGptOnRefreshEnabled;Object.keys(r).length&&this.isFooterBiddingEnabled().then(function(e){e&&n.pubads().setTargeting("footer_bidding",e),r.forEac});var t,e=[];i?o||(e=r.filter(function(e){return e.toBeRefreshed})):e=r,!(t=e.map(function(e){return e.gSlot})).length||(O.triggerVacantLogIfApplicable(t),n.pubads().refresh(t),w.sendLogIfEligible(e))})},renderSlot},getSlotSize},defineSlo},setSlotRenderListene},setImpressionViewableListene},overrideGptPageLevelClearTargetingIfApplicabl},overrideGptSlotClearTargetingIfApplicabl},isClearTargetingCalledByAdPushupJ},customClearTargetingMetho},loadGp},overrideGptDispla},ini}};e.exports=E},function(e,t,n){function r(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){u(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=n(24),l=n(15),p=n(14),f=n(13),g=n(284),h=n(270),o=n(186),s=o.getClusterReportingValue,E=o.getControlReportingValue,m=o.shouldClusterReportingBeSent,v=n(17).getSlotTargetingForInContentFCSplit,b=n(285),A=window.adpushup,y={getFloorWithGranularit},setCustomSlotLevelTargetin},getVacantHbTargettin},getAdserverTargetin},setControlAndClusterReportin},setSlotLevelTargetingFor27secSpli},checkFCIncontentSplitEligibilit},setSlotTargetingForFcInContentSpli},getRefreshTypeForTargetin},setRefreshTypeTargetin},setFcTargetin},setSlotLevel:function(t){var e=l.ADSERVER_TARGETING_KEYS,n=d.getSlotRefreshData(t,!0),r=d.getSlotRefreshData(t),i=(u(o={},e.ADPUSHUP_RAN,1),u(o,e.SITE_ID,A.config.siteId),u(o,e.HB_RAN,0),u(o,e.FLUID,0),o),o=this.getAdserverTargeting(t);if(window.adpushup.shouldInflateBid&&o&&Object.keys(o).length&&(i[e.INFLATED_CPM]=!0),A.config.variationTypeForVacantAdSpace&&h.setTargetting(i,t),A.config.bidderSequencePocConfig&&(s=A.config.bidderSequencePocConfig.isBidSequenceFixed,Object.assign(i,u({},e.BIDDER_SEQUENCE,"".concat(s,"_").concat(r)))),A.config.isActiveTabRefreshCountLoggingEnabled&&(s=A.utils.isDocumentFocused(),n=50<n?"more_than_50":n,i[e.ACTIVE_TAB_REFRESH_COUNT]="".concat(s,"_").concat(n)),A.config.isBgRefreshOptimizationLoggingEnabled&&t.optionalParam.refreshType===p.REFRESH_TYPES.BG&&!isNaN(r)&&0<r)try{var a=d.getBgRefreshOptimzationRefreshTypeForLogging(t.containerId);i[e.REFRESH_TYPE]="".concat(a,"_").concat(r)}catch(e){Array.isArray(A.err)&&window.adpushup.err.push({msg:"Error in targeting.js - setSlotLevel - BgRefreshOptimizationAnalysisLogging",error:e})}d.checkForValidBidders(t.bidders)&&Object.assign(i,u({},e.HB_RAN,1)),t.optionalParam.fluid&&Object.assign(i,u({},e.FLUID,1)),Object.assign(i,u({},e.REFRESH_COUNT,r)),Object.assign(i,u({},e.REFRESH_RATE,t.optionalParam.refreshInterval)),this.setControlAndClusterReporting(i,t),this.setSlotLevelTargetingFor27secSplit(i,t),this.setSlotTargetingForFcInContentSplit(i,t),this.setRefreshTypeTargeting(i,t);var s=A.floorPriceEngine.utils.getFloorKeyForGptSlot(t);s&&(i[e.FLOOR_PRICING]=s),A.floorPriceEngine.config.clusteringRulesEnabled&&void 0!==t.isUsingClusterFloor&&(n=t.isUsingClusterFloor,i[e.CLUSTERING_FLOORS]=String(n)),o&&Object.assign(i,o),this.setFcTargeting(t),this.setCustomSlotLevelTargeting(t),t.optionalParam.keyValues&&Object.keys(t.optionalParam.keyValues).length&&Object.assign(i,t.optionalParam.keyValues),Object.keys(i).forEac}.bind(this)),d.log("gam targeting : ",i)},setUTMLeve},setPageLeve}};e.exports=y},function(e,t,n){function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function i(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}var u=n(22),v=n(14),b=n(15),A=n(24),y=n(13),r=n(321),a=n(311),_=n(282),S=n(314),s=n(322),c=n(294),d=n(204),T=n(193),l=n(281),p=n(271),f=n(206),g=n(205),I=n(323).setTargetingForHbOnInterstitial,O=window.adpushup,R=O.config.hbConfig;e.exports={module:{adpSlots:{},config:R,que:[],slotInterval:null,currentBatchId:null,currentBatchAdpSlots:[],adpBatches:[],batchPrebiddingComplete:!1,prebidBatchin},processBatchForBiddin},resetSlotConfi},replaceGptSlo},queSlotForBiddin},createSlo},computeAndApplyHbConfi},logDataIfComputedSizesAreEmpt},computeSize},defineGPTSlo},computeSizesForApliteSlo},defineSlo},processQu},extendConfi},displa},getComputedSize},reInitAfterPostBi},getRefreshDat},isRefreshConfigAppplicableForCountr},getRefreshIntervalValue:function(e,t){if(e)return e;var e=v.SPLIT_REFRESH_CONSTANTS,n=e.experimentRefreshInterval,r=e.controlRefreshInterval,e=e.defaultSlotLevelEnabled,i=O.config.refresh27sSplitConfig,o=t.optionalParam.refresh27sSplitEnabled,e=void 0===o?e:o,o=(void 0===i?{}:i).isRunning,i=void 0!==o&&o;return e&&(t.refresh27sSplitTargetingEligible=!0),i&&e?n:t.optionalParam.refreshInterval==n?r:t.optionalParam.refreshInterval},processSlotRefres},getAutoRuleVariatio},setAutoRulesSplitTes}},ini}}}]);