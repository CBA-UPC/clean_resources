"use strict";(self.webpackChunkcircuit_react=self.webpackChunkcircuit_react||[]).push([[848],{98273:(Oe,ae,t)=>{t.d(ae,{l:()=>me,r:()=>B});var e=t(86706),a=t(97779),_=t(2626),$=t(49197),c=t(96996),M=t(67294),g=t(61035),le=t(92015),f=t(58884),ue=t(94184),Y=t.n(ue),K=t(78001),b=t(11412),j=t(12729),Q=t(18719);const se=({palette:G})=>(0,g.Z)({banner:{backgroundColor:`${G.primary.main} !important`,color:"#fff"}});class J extends M.Component{constructor(){super(...arguments),this.focusRef=M.createRef(),this.onClickArrowLeftButton=()=>{const{showDetailsPageToggle:A,setCurrentUniversalMenu:y,currentUniversalMenuTab:U,nestedLayerInfo:h,updateNestedLayerInfoInUniversalMenu:D,detailsMenuTour:P,setDetailsMenuTour:L,location:r,navigate:v}=this.props;if(r&&r.pathname.split("/")[2]==="home"){const H=r.pathname.split("/");H[H.length-1]||H.pop();const V=H.slice(0,H.length-1).join("/");P&&L(null),v(V,{replace:!0})}else if(U==="NESTED_LAYER"){const H=h.split("/");H.pop();const V=H.join("/");V||y&&y("EXPLORE"),D&&D(V)}else U==="DETAIL"&&(h?y&&y("NESTED_LAYER"):(A&&A(!1),y&&y("EXPLORE")))}}render(){const{width:A,classes:y,headerWhite:U,setUniversalMenuOpenState:h,calledFromHome:D}=this.props;return M.createElement("div",{className:Y()((0,f.yJ)("md",A)?"":y.banner,"details-menu-header__container",D?"details-menu-header__container--home":"",U?"details-menu-header__container--white":"")},M.createElement(Q.Bt,{ref:this.focusRef,style:{display:"flex"},className:"details-menu-header__back-button",onClick:this.onClickArrowLeftButton},M.createElement("span",{className:"details-menu-header__title"},K.Z.t("back"))),!D&&M.createElement(j.P,{onClick:className:"details-menu-header__close-button"}))}}const R=(0,f.ZP)()((0,le.Z)(se)((0,b.Z)(J))),{setCurrentUniversalMenu:z,setUniversalMenuOpenState:W,updateNestedLayerInfoInUniversalMenu:k}=_.universalMenuActions,{setDetailsMenuTour:w}=$.detailsMenuActions,l=G=>(0,a.DE)({setCurrentUniversalMenu:z,setUniversalMenuOpenState:W,updateNestedLayerInfoInUniversalMenu:k,setDetailsMenuTour:w},G),I=G=>({currentUniversalMenuTab:(0,c.currentUniversalMenuSelector)(G),nestedLayerInfo:(0,c.nestedLayerInfoSelector)(G),detailsMenuTour:G.detailsMenuTour}),B=(0,e.$j)(I,l)(R);var ve=t(2612),Ee=t(7685),ye=t(27050),he=t(66029),X=t(94246),o=t(26759);class p extends M.Component{render(){const{detailsMenuTour:A,calledFromHome:y,detailsTourProgress:U,scenes:h,siteName:D,language:P,width:L,isCalledFromSideMenuCard:r,handleMapIconClick:v,isUniversalMenuOpen:H,isCalledFromHomepageMenuMobile:V,isStandaloneMapMode:d,isMapsOn:m}=this.props;let n="",s=!1;A&&(n=A.description,A.description||(n=A.search_description),s=n.length<85);let u="";(0,f.yJ)("md",L)?u=r?"calc((540/1200)*100%)":"calc((300/1200)*100%)":u=V&&d?"calc((360/1200)*100%)":"calc((300/1200)*100%)";let O={};return r?O={height:"100%"}:V&&d&&(O={width:"92%",height:"100%",position:"absolute",objectFit:"cover",right:"1rem",left:"1rem",borderRadius:"0.5rem"}),A?M.createElement("div",{className:Y()("details-menu-content__container",y&&!r?"details-menu-content__container--indexpage":""),style:r?{paddingTop:0,overflowX:"hidden"}:{}},M.createElement("div",{className:"details-menu-content__card",style:r?{margin:0}:{}},M.createElement("div",{className:"details-menu-content__banner",style:{paddingBottom:u}},M.createElement("img",{src:(0,Ee.V_)(D,A.hero_image_url),alt:A.title,style:O}),!r&&!H&&(0,f.yJ)("md",L)&&m&&M.createElement(X.Z,{onClick:customizedStyles:{right:"1rem",bottom:"1rem",top:"auto"}})),M.createElement("div",{className:"details-menu-content__body"},M.createElement("div",{className:"details-menu-content__details-container"},!r&&M.createElement("div",{className:"details-menu-content__details-container__padding"}),M.createElement("div",{style:{flex:1}},M.createElement("div",null,M.createElement("div",null,y?M.createElement("h1",{className:"details-menu-content__title",style:r?{textAlign:"start"}:{}},A.title):M.createElement("h2",{className:"details-menu-content__title"},A.title),M.createElement("p",{className:"details-menu-content__description",style:Object.assign({direction:P.bidi?"rtl":"ltr",textAlign:(0,f.yJ)("md",L)&&s&&!r?"center":"initial"},r&&{lineHeight:"1.15rem",fontSize:"0.875rem"})},n),(0,f.yJ)("md",L)?null:M.createElement("div",{style:{direction:P.bidi?"rtl":"ltr",textAlign:(0,f.yJ)("md",L)&&s?"center":"initial",margin:V?"0.8rem 0":"inherit"}},M.createElement(o.v,{siteName:D,tour:A}))),M.createElement("div",null,(0,f.yJ)("md",L)?null:M.createElement("div",{style:{marginBottom:"0.5rem"}},M.createElement("span",{className:"details-menu-content__tour-progress-text"},K.Z.t("you-have-viewed-n-scenes-in-tour",{completed:U,total:A.sceneIds.length})))),M.createElement("div",{style:{display:"flex"}},!r&&M.createElement("div",{className:"details-menu-content__details-container__padding"}),M.createElement("div",{style:{flex:3.5},className:"details-menu-content__scene-progress-container"},M.createElement(he.f,{tour:A,roundedBottomRightBorderRadius:!0,containerClassName:"details-menu-progress-bar-container",progressClassName:"details-menu-progress-bar-progress"}),(0,f.yJ)("md",L)?M.createElement("span",{className:"details-menu-content__tour-progress-text"},K.Z.t("you-have-completed-n-scenes",{completed:U,total:A.sceneIds.length})):null,(0,f.yJ)("md",L)?M.createElement("div",{style:{display:"flex"}},!r&&M.createElement("div",{style:{flex:1}}),M.createElement("div",{style:{paddingTop:"1rem",display:"flex",flexDirection:"column"}},M.createElement(o.v,{siteName:D,tour:A})),!r&&M.createElement("div",{style:{flex:1}}),M.createElement("div",null)):null),!r&&M.createElement("div",{className:"details-menu-content__details-container__padding"}))),M.createElement("div",{className:"details-menu-content__details-container__padding"})),!r&&M.createElement("div",{className:"details-menu-content__details-container__padding"})),M.createElement(ye.t,{tour:A,scenes:h,usesGrid:!0,isCalledFromIndexPage:!0,isCalledFromSideMenuCard:r})))):null}}const F=(0,f.ZP)()((0,b.Z)(p)),te=G=>{var A;const y=(0,c.detailsMenuSelector)(G),U=[];let h;if(y){h=(0,c.toursSelector)(G).find(r=>r.id===y);const P=[],L=new Map;(0,c.scenesSelector)(G).forEach(r=>{r&&r.live&&L.set(r.id,r)}),h.sceneIds.forEach(r=>{const v=L.get(r);v&&(P.push(v.id),U.push(v))}),h=Object.assign({},h,{sceneIds:P})}return{isUniversalMenuOpen:(0,c.isUniversalMenuOpenSelector)(G),isStandaloneMapMode:(0,c.isStandaloneMapModeSelector)(G),scenes:U,siteName:(0,c.siteNameSelector)(G),detailsMenuTour:h,language:(0,c.currentLanguageSelector)(G),isMapsOn:(A=(0,c.brandSelector)(G))==null?void 0:A.maps,detailsTourProgress:h?h.sceneIds.map(D=>(0,c.scenesSelector)(G).find().filter(D=>D!==void 0).length:0}},me=(0,e.$j)(te)(F)},12655:(Oe,ae,t)=>{t.d(ae,{Z:()=>L});var e=t(86706),a=t(96996),_=t(29309),$=t(2626),c=t(49197),M=t(78023),g=t(67294),le=t(11412),f=t(46066),ue=t(69685),Y=t(58108),K=t(58884),b=t(38251),j=t(78001),Q=t(94184),se=t.n(Q),J=t(98273),R=t(63026),z=t(828),W=t(79655);class k extends g.PureComponent{constructor(){super(...arguments),this.getParent=(v,H)=>v.filter([0],this.getParentPages=(v,H)=>{const V=[];let d=H;for(;this.getParent(v,d);)d=this.getParent(v,d),V.unshift(d);return V},this.handleLinkClick=v=>{const{pages:H,updateNestedLayerInfoInUniversalMenu:V,updateNestedLayerInfoInHomepageMap:d,isCalledFromSideMenuCard:m,nestedLayerInfoInHomepageMap:n,location:{pathname:s},navigate:u}=this.props;if(m){const O=s.split("/").indexOf("map");if(v.depth===3){d("");const N=s.split("/").slice(0,O+3);u(N.join("/"))}else{const N=n.split("/");N.pop(),d(N.join("/"));const oe=s.split("/");oe.pop(),u(`${oe.join("/")}`)}}else{const O=this.getParentPages(H,v);let N=[];O.length&&(N=[...O.map(oe=>oe.slug)]),N.push(v.slug),V(N.join("/")),d(v.depth===3?"":N.join("/"))}}}render(){const{pages:v,currentPage:H,calledFromHome:V,isCalledFromSideMenuCard:d}=this.props,m=this.getParentPages(v,H),n=H.tour_count_descendants;return g.createElement("ul",{className:"tour-group-breadcrumbs"},m.map((s,u)=>g.createElement("li",{key:s.id},u>0&&g.createElement("span",{style:{margin:"auto 0.2rem"}},">"),V&&!d&&g.createElement(W.rU,{to:`/${s.frontend_path.slice(0,-1)}`},s.title),(V?d:!0)&&g.createElement("button",{type:"button",onClick:,s.title))),g.createElement("li",{style:{marginRight:"0.2rem"}},m.length>0&&g.createElement("span",{className:"tour-group-breadcrumbs__delimiter",style:d?{margin:"auto 0.2rem"}:{}},">"),g.createElement("span",null,H.title)),n>0&&g.createElement("li",null,g.createElement("span",null,"(",j.Z.t(n===1?"one-tour":"n-tours",{count:n}),")")))}}const l=(0,le.Z)(k),{updateNestedLayerInfoInUniversalMenu:I}=$.universalMenuActions,{updateNestedLayerInfoInHomepageMap:B}=z.mapActions,ve=Ee={updateNestedLayerInfoInUniversalMenu:I,updateNestedLayerInfoInHomepageMap:B},ye=(0,e.$j)(ve,Ee)(l);var he=t(44793),X=Object.defineProperty,o=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,te=(r,v,H)=>v in r?X(r,v,{enumerable:!0,configurable:!0,writable:!0,value:H}):r[v]=H,me=(r,v)=>{for(var H in v||(v={}))p.call(v,H)&&te(r,H,v[H]);if(o)for(var H of o(v))F.call(v,H)&&te(r,H,v[H]);return r};class G extends g.Component{constructor(v){super(v),this.slider=null,this.updateLayerInfo=()=>{const{lastParamValue:H,pages:V}=this.props,d={},m=V&&V.filter(n=>(d[n.id]=n,n.slug===H))[0];m&&this.setState({tourGroupInfo:m,pageObject:d})},this.state={tourGroupInfo:null,pageObject:{},canClickOnPageButtons:!0}}omponentDidUpdate(v,H){const{lastParamValue:V}=this.props;v.lastParamValue!==V&&V&&this.updateLayerInfo()}render(){const{tours:v,tourProgress:H,showDetailsPageToggle:V,setDetailsMenuTour:d,scenes:m,width:n,bidi:s,headerWhite:u,calledFromHome:O,setCurrentUniversalMenu:N,nestedLayerInfoInHomepageMap:oe,isMapListPanelExpand:de,isStandaloneMapMode:q,isCalledFromSideMenuCard:ne,homepageAnimationStatus:ie,updateHomepageAnimationStatus:pe}=this.props,{tourGroupInfo:Se,pageObject:Ie,canClickOnPageButtons:Le}=this.state,Pe=document.documentElement.clientWidth;let Ce=1.25;return Pe>=460&&Pe<960?Ce=1.25:Pe>=960&&Pe<1320?Ce=2:Pe>=1320&&(Ce=3),Se&&g.createElement("div",{className:se()("nested-layer-container",q&&!de&&"nested-layer-container__homepage-map")},g.createElement("div",{className:"nested-layer",style:O?{}:{backgroundColor:"#fff",height:"100%"}},!oe&&g.createElement(J.r,{calledFromHome:O,headerWhite:u}),g.createElement("div",{style:O?{}:{overflowY:"scroll",height:"100%"}},g.createElement("div",{className:"nested-layer-content",style:Object.assign({},!O&&{margin:(0,K.Vf)("sm",n)?0:"2rem 5% 1rem",minHeight:(0,K.Vf)("sm",n)?"100%":"93%",backgroundColor:(0,K.Vf)("sm",n)?"#fff":"#fafafa"},O&&(0,K.yJ)("md",n)&&{margin:ne?0:"4rem 5% 1rem",padding:ne?"1rem":0})},(q?de:!0)&&!ne&&g.createElement("div",{className:`nested-layer-content__banner ${ie.shouldAnimationsStart?"nested-layer-content__banner-animate-out":""}`,style:{height:(0,K.yJ)("xl",n)?"22rem":"18rem",backgroundImage:`url(${Se.imageURL})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},onAnimationEnd:Te=>{if(Te.stopPropagation(),ie.shouldAnimationsStart&&ie.banner!=="COMPLETE"){const i=Object.assign({},ie,{cards:"COMPLETE",banner:"COMPLETE",sidebar:""});pe(me({},i))}}},O&&g.createElement("div",{className:"nested-layer-content__banner__gradient"}),!(0,K.Vf)("sm",n)&&g.createElement("h2",{style:{left:s?"auto":"1.5rem",right:s?"1.5rem":"auto",position:"absolute",bottom:"1rem",textAlign:"initial",color:"#FFFFFF",fontSize:"3rem",fontWeight:"normal",margin:0}},Se.title)),g.createElement("div",{className:"nested-layer-content__body",style:ne?{padding:0}:{}},!ne&&g.createElement("div",{className:"nested-layer-content__body__title",style:{alignItems:s?"flex-end":"flex-start"}},(0,K.Vf)("sm",n)&&g.createElement(g.Fragment,null,g.createElement("h2",null,Se.title))),(q?de:!0)&&g.createElement("div",{className:`nested-layer-content__body__summary ${ie.shouldAnimationsStart?"nested-layer-content__body__summary-animate-out":""}`},(0,K.yJ)("md",n)&&g.createElement(ye,{currentPage:Se,calledFromHome:O,isCalledFromSideMenuCard:ne}),(()=>{const Te=Se.tour_count_descendants;return Te>0&&(0,K.Vf)("sm",n)?g.createElement("span",null,j.Z.t(Te===1?"one-tour":"n-tours",{count:Te})):null})())),Se.children.length>0?g.createElement("div",{className:"nested-layer-content__body__content"},(()=>{if((0,K.Vf)("sm",n))return g.createElement("div",null,g.createElement(f.Z,{ref:i=>{this.slider=i},afterChange:()=>this.setState({canClickOnPageButtons:!0}),beforeChange:()=>this.setState({canClickOnPageButtons:!1}),infinite:!1,arrows:!1,slidesToShow:q&&de||!q?1.7:2.2,slidesToScroll:1,initialSlide:0},Se.children.length>0&&Se.children.map(i=>{if(i&&i.type==="tour.TourGroupPage")return g.createElement(b.Z,{key:i.id,cardInfo:Ie[i.id],isFromNestedLayer:!0,parent:Se,isMapListPanelExpand:de});const T=v.find(Z=>Z.slug===i.slug);return!T||T.is_hidden_from_universal_menu?null:g.createElement(R.Z,{isStandaloneMapMode:q,isFromNestedLayer:!0,scenes:m,size:q&&!de||!q?"short":"long",key:i.slug,slug:i.slug,tour:T,bidi:s,tourProgress:H,currentTourSlug:"",showDetailsPageToggle:Le?V:void 0,canClickOnPageButtons:Le,setDetailsMenuTour:d,setCurrentUniversalMenu:N})})));const Te=Se.children.map((i,T)=>T*200-T*20).reverse();return g.createElement(ue.Z,{style:{marginLeft:"-.5rem",opacity:ie.cards==="COMPLETE"?0:1},rowHeight:"auto",cols:ne?1:Math.floor(Ce),gap:16},Se.children.length>0&&Se.children.map((i,T)=>{const Z=ie.shouldAnimationsStart,ee=Z?Te[T]:T*200-T*20,_e=Z?"cardFadeOutAndMove":"cardFadeInAndMove",re=Z?"forwards":"backwards";if(i&&i.type==="tour.TourGroupPage")return g.createElement(Y.Z,{key:i.id,cols:1},g.createElement(he.U,{delay:ee,duration:500,animationName:_e,animationFillMode:re,onAnimationEnd:()=>{if(T===0&&Z){const E=Object.assign({},ie,{cards:"COMPLETE",banner:"",sidebar:""});pe(me({},E))}},key:i.id},g.createElement(b.Z,{cardInfo:Ie[i.id],isFromNestedLayer:!0,parent:Se,isCalledFromSideMenuCard:ne})));const S=v.find(E=>E.slug===i.slug);return!S||S.is_hidden_from_universal_menu?null:g.createElement(Y.Z,{key:S.id,cols:1},g.createElement(he.U,{delay:ee,duration:500,animationName:_e,animationFillMode:re,onAnimationEnd:()=>{if(T===0&&Z){const E=Object.assign({},ie,{cards:"COMPLETE",banner:"",sidebar:""});pe(me({},E))}}},g.createElement(R.Z,{isFromNestedLayer:!0,scenes:m,size:"long",slug:i.slug,tour:S,bidi:s,tourProgress:H,currentTourSlug:"",showDetailsPageToggle:V,canClickOnPageButtons:Le,setDetailsMenuTour:d,setCurrentUniversalMenu:N})))}))})()):g.createElement("span",null,j.Z.t("no-tours-found"))))))}}const A=(0,K.ZP)()((0,le.Z)(G)),{setDetailsMenuTour:y}=c.detailsMenuActions,{setCurrentUniversalMenu:U}=$.universalMenuActions,{updateHomepageAnimationStatus:h}=_.homepageActions,D=r=>({homepageAnimationStatus:(0,a.homepageAnimationStatusSelector)(r),nestedLayerInfo:(0,a.nestedLayerInfoSelector)(r),isStandaloneMapMode:(0,a.isStandaloneMapModeSelector)(r),nestedLayerInfoInHomepageMap:(0,a.nestedLayerInfoInHomepageMapSelector)(r),scenes:(0,a.scenesSelector)(r),pages:(0,a.pagesSelector)(r),tours:(0,a.toursSelector)(r),bidi:(0,a.currentLanguageSelector)(r).bidi,tourProgress:v=>v.sceneIds.map(H=>(0,a.scenesSelector)(r).find(V=>V.id===H&&V.live&&V.visitedStatus===M.uj.VISITED)).filter(H=>H!==void 0).length}),P={setDetailsMenuTour:y,setCurrentUniversalMenu:U,updateHomepageAnimationStatus:h},L=(0,e.$j)(D,P)(A)},63026:(Oe,ae,t)=>{t.d(ae,{Z:()=>_e});var e=t(86706),a=t(30155),_=t(97779),$=t(96996),c=t(87477),M=t(49197),g=t(828),le=t(78023),f=t(67294),ue=t(11412),Y=t(61035),K=t(92015),b=t(58884),j=t(88572),Q=t(7685),se=t(88328),J=t(60416),R=t(48138),z=t(89369),W=t(94184),k=t.n(W),w=Object.defineProperty,l=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,ve=(re,S,E)=>S in re?w(re,S,{enumerable:!0,configurable:!0,writable:!0,value:E}):re[S]=E,Ee=(re,S)=>{for(var E in S||(S={}))I.call(S,E)&&ve(re,E,S[E]);if(l)for(var E of l(S))B.call(S,E)&&ve(re,E,S[E]);return re},ye=(re,S)=>{var E={};for(var C in re)I.call(re,C)&&S.indexOf(C)<0&&(E[C]=re[C]);if(re!=null&&l)for(var C of l(re))S.indexOf(C)<0&&B.call(re,C)&&(E[C]=re[C]);return E};class he extends f.Component{render(){const S=this.props,{children:E,className:C}=S,x=ye(S,["children","className"]);return f.createElement("p",Ee({className:k()("universal-menu__description-title",C)},x),E)}}var X=t(83558),o=Object.defineProperty,p=Object.getOwnPropertyDescriptor,F=(re,S,E,C)=>{for(var x=C>1?void 0:C?p(S,E):S,ce=re.length-1,ge;ce>=0;ce--)(ge=re[ce])&&(x=(C?ge(S,E,x):ge(x))||x);return C&&x&&o(S,E,x),x};const te=({spacing:re})=>(0,Y.Z)({image:{pointerEvents:"none",width:"100%",borderRadius:`${re(1/64)}rem`,backgroundSize:"cover",display:"flex"}});class me extends f.Component{constructor(){super(...arguments),this.state={loaded:!1},this.imgRef=f.createRef(),this.updateCardHeight=()=>{const{updateGroupCardHeight:S}=this.props;if(this.imgRef){const E=this.imgRef.current;if(E){const{height:C}=E.getBoundingClientRect();S&&S(C)}}},this.findSceneBasedOnId=(S,E)=>{let C=0,x=S.length-1,ce;for(;C<=x;){const ge=Math.floor((C+x)/2);if(E>S[ge].id&&(C=ge+1),E<S[ge].id&&(x=ge-1),E===S[ge].id){ce=S[ge];break}}return ce},this.getFirstScene=S=>{const{scenes:E}=this.props,C=E.slice().sort((ge,xe)=>ge.id-xe.id);let x=0,ce;for(;x<S.sceneIds.length;)if(ce=this.findSceneBasedOnId(C,S.sceneIds[x]),ce)if(!ce.live)x++;else break;else x++;return ce},this.handleTourCardClick=()=>{const{isFromNestedLayer:S,siteName:E,slug:C,width:x,parent:ce,showDetailsPageToggle:ge,getFirstUnviewedScene:xe,isFromFinishedTour:be,isStandaloneMapMode:Fe,setDetailsMenuTour:De,setFinishedTourOpenState:Be,setFinishedTourDismissedState:Ne,isFinishedTourShow:je,tour:Re,tourProgress:fe,openToSplash:Me,navigate:we,location:{pathname:Ze}}=this.props;if(Ze&&Ze.split("/")[2]==="home"){De(Re.id);const Ae=Ze.split("/");Ae[Ae.length-1]||Ae.pop();const We=Ae.slice(0,Ae.indexOf("home")+1).join("/");we(Fe?S?`${Ae.join("/")}/${C}#map`:`${We}/${ce==null?void 0:ce.slug}/${C}#map`:S?`${Ae.join("/")}/${C}`:`${We}/${ce==null?void 0:ce.slug}/${C}`)}else if(be){const Ae=xe(Re),We=this.getFirstScene(Re);je&&Be&&Be(!1),Math.trunc(fe(Re)/Re.sceneIds.length)===1&&Ne&&Ne(!0);const Ue=Number(fe(Re)/Re.sceneIds.length)>0&&Number(fe(Re)/Re.sceneIds.length)<1,ze=Ae?Ae.slug:We.slug,He=Me&&!Ue?`/${E}/${Re.slug}`:`/${E}/${Re.slug}/${ze}`;we(He)}else this.onTourButtonClick(Re),ge&&ge(!0);Fe&&(0,J.Z)({category:"map",action:"open-tour-detail-menu-in-homepage-mobile",label:Re.title})}}componentDidMount(){window.addEventListener("resize",this.updateCardHeight)}componentDidUpdate(S,E){const{loaded:C}=this.state;!E.loaded&&C&&this.updateCardHeight()}nTourButtonClick(S){const{setCurrentUniversalMenu:E,setDetailsMenuTour:C,canClickOnPageButtons:x}=this.props;x&&(C(S.id),E&&E("DETAIL"))}render(){const{slug:S,tour:E,width:C,currentTourSlug:x,tourProgress:ce,classes:ge,onFocus:xe,bidi:be,isStandaloneMapMode:Fe}=this.props,{loaded:De}=this.state;let Be="";return E&&(Be=(0,b.yJ)("md",C)?E.thumbnailUrls.square:E.thumbnailUrls.portrait),f.createElement("div",{className:"explore-menu__button-wrapper--short"},f.createElement("button",{type:"button",className:"explore-menu__button-container",onClick:this.handleTourCardClick,onFocus:Ne=>{xe&&xe(Ne.currentTarget)}},f.createElement("div",{className:"explore-menu__secondary-row-cards"},f.createElement("img",{ref:this.imgRef,alt:"Tour Thumbnail",className:ge.image,src:(0,Q.V_)("demo",Be),onLoad:()=>this.setState({loaded:!0})})),f.createElement("div",{style:{position:"relative",zIndex:1e7}},ce(E)/E.sceneIds.length>0&&f.createElement(X.P,{tour:E})),S===x&&f.createElement(se.u,{size:(0,b.yJ)(C,"md")?"short":"long",svgSize:(0,b.yJ)(C,"md")?"large":"small"}),S!==x&&Math.trunc(ce(E)/E.sceneIds.length)===1&&f.createElement(z.N,{size:"small"}),(E==null?void 0:E.guide_audio_enabled)&&De?f.createElement(R.Z,{type:"audio",isStandaloneMapMode:Fe}):null),f.createElement("div",{style:{height:"0.5rem"}}),f.createElement(he,{className:"subtitle",style:{direction:be?"rtl":"ltr",textAlign:"initial"}},E.title))}}F([j.ZP],me.prototype,"onTourButtonClick",1);const G=(0,K.Z)(te)((0,b.ZP)()((0,ue.Z)(me)));var A=t(59359),y=Object.defineProperty,U=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,P=(re,S,E)=>S in re?y(re,S,{enumerable:!0,configurable:!0,writable:!0,value:E}):re[S]=E,L=(re,S)=>{for(var E in S||(S={}))h.call(S,E)&&P(re,E,S[E]);if(U)for(var E of U(S))D.call(S,E)&&P(re,E,S[E]);return re},r=(re,S)=>{var E={};for(var C in re)h.call(re,C)&&S.indexOf(C)<0&&(E[C]=re[C]);if(re!=null&&U)for(var C of U(re))S.indexOf(C)<0&&D.call(re,C)&&(E[C]=re[C]);return E};class v extends f.Component{render(){const S=this.props,{children:E,className:C}=S,x=r(S,["children","className"]);return f.createElement("p",L({className:k()("universal-menu__description",C)},x),E)}}var H=t(78001),V=t(69942),d=t(26759),m=t(22192),n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,u=(re,S,E,C)=>{for(var x=C>1?void 0:C?s(S,E):S,ce=re.length-1,ge;ce>=0;ce--)(ge=re[ce])&&(x=(C?ge(S,E,x):ge(x))||x);return C&&x&&n(S,E,x),x};class O extends f.Component{constructor(){super(...arguments),this.state={isHoveringOnCard:!1,isTouchOnTourCard:!1},this.findSceneBasedOnId=(S,E)=>{let C=0,x=S.length-1,ce;for(;C<=x;){const ge=Math.floor((C+x)/2);if(E>S[ge].id&&(C=ge+1),E<S[ge].id&&(x=ge-1),E===S[ge].id){ce=S[ge];break}}return ce},this.getFirstScene=S=>{const{scenes:E}=this.props,C=E.slice().sort((ge,xe)=>ge.id-xe.id);let x=0,ce;for(;x<S.sceneIds.length;)if(ce=this.findSceneBasedOnId(C,S.sceneIds[x]),ce)if(!ce.live)x++;else break;else x++;return ce},this.handleTourCardClick=()=>{const{isFromNestedLayer:S,siteName:E,slug:C,width:x,parent:ce,showDetailsPageToggle:ge,getFirstUnviewedScene:xe,isFromFinishedTour:be,isStandaloneMapMode:Fe,setDetailsMenuTour:De,tour:Be,navigate:Ne,location:{pathname:je}}=this.props,Re=document.documentElement.clientWidth;if(Fe&&Re>800&&this.handleHoverOnCard("leave"),je&&je.split("/")[2]==="home"){De(Be.id);const fe=je.split("/");if(fe[fe.length-1]||fe.pop(),Fe)Ne(`${fe.join("/")}/${C}#map`);else if(S)Ne(`${fe.join("/")}/${C}`);else if((0,b.Vf)("sm",x)){const Me=fe.slice(0,fe.indexOf("home")+1).join("/");Ne(`${Me}/${ce==null?void 0:ce.slug}/${C}`)}else Ne(`${fe.join("/")}/${C}`)}else if(be){const fe=xe(Be),Me=this.getFirstScene(Be);Ne(`/${E}/${Be.slug}/${fe?fe.slug:Me.slug}`)}else this.onTourButtonClick(Be),ge&&ge(!0);Fe&&(0,J.Z)({category:"map",action:"open-standalone-map-tour-detail-menu",label:Be.title})},this.handleHoverOnCard=S=>{const{tour:E,updateHoveredItemId:C}=this.props;S==="enter"?C&&C(`tour-${E.id}`):C&&C("")}}onTourButtonClick(S){const{setCurrentUniversalMenu:E,setDetailsMenuTour:C,canClickOnPageButtons:x}=this.props;x&&(C(S.id),E&&E("DETAIL"))}render(){const{slug:S,tour:E,width:C,currentTourSlug:x,tourProgress:ce,siteName:ge,onFocus:xe,bidi:be,styles:Fe,isFromFinishedTour:De,scenes:Be,isStandaloneMapMode:Ne,isCalledFromHomepage:je}=this.props,{isHoveringOnCard:Re,isTouchOnTourCard:fe}=this.state,Me=Be&&Be.map(,we=E.sceneIds.filter(Ae=>Me&&Me.indexOf(Ae)>-1),Ze=document.documentElement.clientWidth;return f.createElement("div",{key:S,className:"explore-menu__button-wrapper"},f.createElement("div",{className:`explore-menu__button-container explore-menu__button-container--long ${je&&!Ne&&Ze>800?"explore-menu__button-container--long-in-homepage":""}`,onMouseEnter:()=>{Ne&&Ze>800&&!A.Em&&this.handleHoverOnCard("enter"),je&&!Ne&&this.setState({isHoveringOnCard:!0})},onMouseLeave:()=>{Ne&&Ze>800&&!A.Em&&this.handleHoverOnCard("leave"),je&&!Ne&&this.setState({isHoveringOnCard:!1})},onTouchStart:()=>{this.setState({isTouchOnTourCard:!0})},onTouchEnd:()=>{this.setState({isTouchOnTourCard:!1})}},f.createElement("button",{type:"button",className:`explore-menu__button ${je&&!Ne&&Ze>800?"explore-menu__button-in-homepage":""}`,style:Object.assign({},{backgroundColor:"black",backgroundImage:`url(${(0,Q.V_)(ge,E.thumbnailUrls.square)})`,backgroundSize:"cover",backgroundPosition:"center",minHeight:"190px",flex:10},Fe),disabled:De||!1,onClick:this.handleTourCardClick,onFocus:Ae=>{xe&&xe(Ae.currentTarget)}},S===x&&f.createElement(se.u,{size:"short",svgSize:"large"}),S!==x&&Math.trunc(ce(E)/we.length)===1&&f.createElement(z.N,{size:"large"}),f.createElement(V.T,{component:m.D},E.title)),f.createElement("div",{className:"explore-menu__description-container-desktop",style:{padding:".8rem",overflowX:"hidden",direction:be?"rtl":"ltr"}},f.createElement(he,{style:{fontSize:"1.5rem"}},E.title),f.createElement(v,null,E.search_description),f.createElement("div",{style:{flex:3}}),f.createElement("div",{className:"universal-menu__description__fader"},f.createElement(d.v,{siteName:ge,tour:E,isHoveringOnCard:Re,isCalledFromTourCardLong:!0,isCalledFromHomepage:je,isStandaloneMapMode:Ne,isTouchOnTourCard:fe}))),(E==null?void 0:E.guide_audio_enabled)&&f.createElement(R.Z,{type:"audio"})),f.createElement("div",{style:{position:"relative"}},ce(E)/we.length>0&&f.createElement(X.P,{tour:E})),f.createElement("div",{className:"explore-menu__description-container-mobile",style:{direction:be?"rtl":"ltr"}},f.createElement(he,null,E.title),f.createElement("p",{className:"explore-menu__content"},E.search_description)),f.createElement("p",{style:{color:"#515252",direction:be?"rtl":"ltr",textAlign:"initial",marginTop:".5rem",fontSize:".9rem"}},S!==x&&Math.trunc(ce(E))===0&&(0,b.yJ)("md",C)&&we.length===0&&H.Z.t("no-scenes-tour"),S!==x&&Math.trunc(ce(E))===0&&(0,b.yJ)("md",C)&&we.length===1&&H.Z.t("one-scene-tour",{count:we.length}),S!==x&&Math.trunc(ce(E))===0&&(0,b.yJ)("md",C)&&we.length>1&&H.Z.t("n-scenes-tour",{count:we.length}),(S===x||Math.trunc(ce(E))>0)&&(0,b.yJ)("md",C)&&H.Z.t("you-have-viewed-n-scenes-in-tour",{completed:ce(E),total:we.length})))}}u([j.ZP],O.prototype,"onTourButtonClick",1);const N=(0,b.ZP)()((0,ue.Z)(O));var oe=Object.defineProperty,de=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,ie=(re,S,E)=>S in re?oe(re,S,{enumerable:!0,configurable:!0,writable:!0,value:E}):re[S]=E,pe=(re,S)=>{for(var E in S||(S={}))q.call(S,E)&&ie(re,E,S[E]);if(de)for(var E of de(S))ne.call(S,E)&&ie(re,E,S[E]);return re},Se=(re,S)=>{var E={};for(var C in re)q.call(re,C)&&S.indexOf(C)<0&&(E[C]=re[C]);if(re!=null&&de)for(var C of de(re))S.indexOf(C)<0&&ne.call(re,C)&&(E[C]=re[C]);return E};class Ie extends f.Component{render(){const S=this.props,{size:E}=S,C=Se(S,["size"]);return E==="short"?f.createElement(G,pe({},C)):f.createElement(N,pe({},C))}}const Le=(0,ue.Z)(Ie),{scenesSelector:Pe}=a.wl,{setFinishedTourOpenState:Ce,setFinishedTourDismissedState:Te}=c.finishedTourActions,{setDetailsMenuTour:i}=M.detailsMenuActions,{updateHoveredItemId:T}=g.mapActions,Z=re=>(0,_.DE)({setFinishedTourOpenState:Ce,setFinishedTourDismissedState:Te,setDetailsMenuTour:i,updateHoveredItemId:T},re),ee=re=>{var S;return{isStandaloneMapMode:(0,$.isStandaloneMapModeSelector)(re),scenes:Pe(re),isFinishedTourShow:(0,$.isFinishedTourShowSelector)(re),siteName:(0,$.siteNameSelector)(re),language:(0,$.currentLanguageSelector)(re),openToSplash:(S=(0,$.brandSelector)(re))==null?void 0:S.open_to_splash,getFirstUnviewedScene:E=>{const C=[],x=new Map;return Pe(re).forEach(,E.sceneIds.forEach(ce=>{const ge=x.get(ce),{visitedStatus:xe,live:be}=ge;xe===le.uj.UNVISITED&&be&&C.push(ge)}),C[0]}}},_e=(0,e.$j)(ee,Z)(Le)},26759:(Oe,ae,t)=>{t.d(ae,{v:()=>n});var e=t(86706),a=t(30155),_=t(97779),$=t(87477),c=t(2626),M=t(73188),g=t(99535),le=t(83393),f=t(29309),ue=t(67294),Y=t(78001),K=t(88572),b=t(14275),j=t(59359),Q=t(94184),se=t.n(Q),J=t(11412),R=t(61035),z=t(92015),W=t(72877),k=Object.defineProperty,w=Object.defineProperties,l=Object.getOwnPropertyDescriptor,I=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,ve=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,ye=(s,u,O)=>u in s?k(s,u,{enumerable:!0,configurable:!0,writable:!0,value:O}):s[u]=O,he=(s,u)=>{for(var O in u||(u={}))ve.call(u,O)&&ye(s,O,u[O]);if(B)for(var O of B(u))Ee.call(u,O)&&ye(s,O,u[O]);return s},X=(s,u)=>w(s,I(u)),o=(s,u,O,N)=>{for(var oe=N>1?void 0:N?l(u,O):u,de=s.length-1,q;de>=0;de--)(q=s[de])&&(oe=(N?q(u,O,oe):q(oe))||oe);return N&&oe&&k(u,O,oe),oe},p=const F=s=>(0,R.Z)({StartAKAContinueButtonInTourCard:X(he({},(0,W.b)(s).button),{backgroundColor:"#fff",color:s.palette.primary.main,borderColor:s.palette.primary.main,border:`1px solid ${s.palette.primary.main}`,fontWeight:"bold",transition:"0.2s",[s.breakpoints.down("xs")]:{fontSize:"0.875rem",color:"#FFFFFF"},"&:hover":{backgroundColor:s.palette.primary.main,color:"#fff"}}),StartAKAContinueButtonInTourCardTablet:X(he({},(0,W.b)(s).button),{backgroundColor:"#fff",color:s.palette.primary.main,borderColor:s.palette.primary.main,border:`1px solid ${s.palette.primary.main}`,fontWeight:"bold",transition:"0.2s",[s.breakpoints.down("xs")]:{fontSize:"0.875rem",color:"#FFFFFF"},"&:hover":{backgroundColor:"#fff",boxShadow:"none"}}),StartAKAContinueButton:X(he({},(0,W.b)(s).button),{backgroundColor:s.palette.primary.main,color:"#fff",[s.breakpoints.down("xs")]:{fontSize:"0.875rem",color:"#FFFFFF"}})});class te extends ue.Component{omponentDidUpdate(u,O){const{homepageAnimationStatus:N,tour:oe}=this.props,{clickedTourId:de}=this.state,q=N.cards==="COMPLETE"&&N.banner==="COMPLETE"&&N.sidebar==="COMPLETE";u.homepageAnimationStatus!==N&&q&&oe.id===de&&this.onButtonClick()}onButtonClick(){return p(this,null,function*(){const{siteName:u,tour:O,getFirstScene:N,setUniversalMenuOpenState:oe,isFinishedTourShow:de,setFinishedTourOpenState:q,tourProgress:ne,setFinishedTourDismissedState:ie,clearSelectedLabelsListInCurrentTour:pe,updateScenesListInCurrentTour:Se,isUniversalMenuOpen:Ie,openToSplash:Le,navigate:Pe}=this.props,Ce=N(O),Te=Number(ne(O));Ie&&oe(!1),de&&q&&q(!1),Te===1&&de&&ie&&ie(!0),pe&&pe(),Se&&Se([]),!Le||Te>0&&Te<1?Ce&&Pe(`/${u}/${O.slug}/${Ce.slug}`):Pe(`/${u}/${O.slug}`)})}render(){const{tour:u,tourProgress:O,onFocus:N,classes:oe,isHoveringOnCard:de,brandColor:q,isCalledFromTourCardLong:ne,isCalledFromHomepage:ie,isStandaloneMapMode:pe,updateHomepageAnimationStatus:Se,homepageAnimationStatus:Ie,isTouchOnTourCard:Le}=this.props,Pe=Number(O(u));let Ce=oe.StartAKAContinueButtonInTourCard;return pe&&j.Em&&(Ce=oe.StartAKAContinueButtonInTourCardTablet),ue.createElement("button",{type:"button",className:se()(ne&&`tour-card-button ${ie&&window.innerWidth>800&&!pe?"tour-card-button-in-homepage":""}`,ne?Ce:oe.StartAKAContinueButton),onClick:()=>{if(ie&&ne&&!pe){const Te={shouldAnimationsStart:!0,cards:"",banner:"",sidebar:"",sidebarPageAnimationStatus:he({},Ie.sidebarPageAnimationStatus)};this.setState({clickedTourId:u.id}),Se(he({},Te))}else this.onButtonClick()},onFocus:style:de||Le?{backgroundColor:q,color:"#fff"}:{}},ue.createElement("span",{className:"tour-card-button__text",style:Le?{transform:"translateX(-6px)",color:"#fff"}:{}},Pe===0&&Y.Z.t("start"),Pe>0&&Pe<1&&Y.Z.t("resume"),Pe===1&&Y.Z.t("revisit")),ue.createElement(b.Z,{className:"tour-card-button__arrow",fontSize:"small",style:Le?{opacity:1,fill:"#fff"}:{}}))}}o([K.ZP],te.prototype,"onButtonClick",1);const me=(0,z.Z)(F)((0,J.Z)(te)),{scenesSelector:G,isFinishedTourShowSelector:A,isUniversalMenuOpenSelector:y,brandSelector:U,homepageAnimationStatusSelector:h}=a.wl,{clearSelectedLabelsListInCurrentTour:D}=M.labelActions,{updateScenesListInCurrentTour:P}=g.sceneActions,{setFinishedTourOpenState:L,setFinishedTourDismissedState:r}=$.finishedTourActions,{setUniversalMenuOpenState:v}=c.universalMenuActions,{updateHomepageAnimationStatus:H}=f.homepageActions,V=s=>(0,_.DE)({setFinishedTourOpenState:L,setFinishedTourDismissedState:r,updateScenesListInCurrentTour:P,clearSelectedLabelsListInCurrentTour:D,setUniversalMenuOpenState:v,updateHomepageAnimationStatus:H},s),d=(s,u)=>{let O=0,N=s.length-1,oe;for(;O<=N;){const de=Math.floor((O+N)/2);if(u>s[de].id&&(O=de+1),u<s[de].id&&(N=de-1),u===s[de].id){oe=s[de];break}}return oe},m=s=>{var u,O;return{tourProgress:oe=>(0,le.v)(oe.sceneIds.map(de=>G(s).find(q=>q.id===de&&q.live)).filter(de=>de!==void 0)),getFirstScene:oe=>{const de=G(s).slice().sort(;let q=0,ne;for(;q<oe.sceneIds.length;)if(ne=d(de,oe.sceneIds[q]),ne)if(!ne.live)q++;else break;else q++;return ne},isFinishedTourShow:A(s),isUniversalMenuOpen:y(s),brandColor:(u=U(s))==null?void 0:u.color,homepageAnimationStatus:h(s),openToSplash:(O=U(s))==null?void 0:O.open_to_splash}},n=(0,e.$j)(m,V)(me)},65630:(Oe,ae,t)=>{t.d(ae,{Z:()=>c});var e=t(67294),a=t(33045),_=t(78001),$=t(69942);class c extends e.Component{constructor(g){super(g),this.scrollStep=()=>{const{element:le,scrollStepInPx:f}=this.props,{intervalId:ue}=this.state,Y=le&&le.scrollTop;Y===0&&clearInterval(ue),le&&le.scroll(0,Y-f)},this.scrollToTop=()=>{const{delay:le}=this.props,f=setInterval(this.scrollStep,le);this.setState({intervalId:f})},this.state={intervalId:0}}render(){return e.createElement("button",{type:"button",className:"back-to-top",onClick:this.scrollToTop},e.createElement(a.Z,{fontSize:"large"}),e.createElement($.K,{accessibilityText:_.Z.t("back-to-top")}))}}},22522:(Oe,ae,t)=>{t.d(ae,{Z:()=>se});var e=t(86706),a=t(96996),_=t(2626),$=t(828),c=t(67294),M=t(78001),g=t(58884),le=t(11412);class f extends c.PureComponent{constructor(){super(...arguments),this.handleTourGroupCardClick=()=>{const{cardInfo:{slug:R},width:z,isFromNestedLayer:W,parent:k,currentUniversalMenu:w,setCurrentUniversalMenu:l,nestedLayerInfo:I,isStandaloneMapMode:B,updateNestedLayerInfoInHomepageMap:ve,updateNestedLayerInfoInUniversalMenu:Ee,nestedLayerInfoInHomepageMap:ye,navigate:he,location:{pathname:X}}=this.props,o=X.split("/");if(o[o.length-1]||o.pop(),X&&X.split("/")[2]==="home"){const p=o.slice(0,o.indexOf("home")+1).join("/");(0,g.Vf)("sm",z)?he(W?`${o.join("/")}/${R}`:`${p}/${k==null?void 0:k.slug}/${R}`):he(`${o.join("/")}/${R}`)}else X&&X.split("/")[2]==="map"?(he(`${o.join("/")}/${R}`),ve(ye?`${ye}/${R}`:R)):(w!=="NESTED_LAYER"&&l&&l("NESTED_LAYER"),I?Ee&&Ee(`${I}/${R}`):Ee&&Ee(R))}}render(){const{cardInfo:R,height:z,calledFromExploreMenu:W,size:k,isStandaloneMapMode:w,isMapListPanelExpand:l,isCalledFromSideMenuCard:I,bidi:B}=this.props;if(R){const{imageURL:ve,title:Ee,tour_count_descendants:ye,search_description:he}=R;return c.createElement("div",{className:"tour-group-card-container",style:w&&!l?{margin:0}:{}},c.createElement("div",{style:{overflow:"hidden",borderRadius:"0.25rem"}},c.createElement("button",{type:"button",className:"tour-group-card",onClick:this.handleTourGroupCardClick,style:Object.assign({backgroundImage:`url(${ve})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},w&&{minHeight:l||I?"190px":"6rem"},k==="long"&&{minHeight:"190px"},W&&z&&z<260&&{minHeight:k==="long"?"190px":z}),"aria-label":Ee},c.createElement("div",{className:"tour-group-card__background"}),c.createElement("div",{className:"tour-group-card__title"},Ee))),c.createElement("p",{className:"tour-group-card__description",style:{direction:B?"rtl":"ltr"}},(()=>ye>0?ye>1?M.Z.t("there-are-n-tours-in-this-group",{total:ye}):M.Z.t("there-is-one-tour-in-this-group"):M.Z.t("there-is-no-tour-in-this-group"))()),c.createElement("p",{className:"tour-group-card__mobile-title",style:{direction:B?"rtl":"ltr"}},Ee),w&&l&&c.createElement("p",{className:"explore-menu__content"},he))}return null}}const ue=(0,g.ZP)()((0,le.Z)(f)),{updateNestedLayerInfoInHomepageMap:Y}=$.mapActions,{setCurrentUniversalMenu:K,updateNestedLayerInfoInUniversalMenu:b}=_.universalMenuActions,j=J=>({pages:(0,a.pagesSelector)(J),nestedLayerInfo:(0,a.nestedLayerInfoSelector)(J),currentUniversalMenu:(0,a.currentUniversalMenuSelector)(J),bidi:(0,a.currentLanguageSelector)(J).bidi,isStandaloneMapMode:(0,a.isStandaloneMapModeSelector)(J),nestedLayerInfoInHomepageMap:(0,a.nestedLayerInfoInHomepageMapSelector)(J)}),Q={setCurrentUniversalMenu:K,updateNestedLayerInfoInUniversalMenu:b,updateNestedLayerInfoInHomepageMap:Y},se=(0,e.$j)(j,Q)(ue)},38251:44793:(Oe,ae,t)=>{t.d(ae,{U:()=>y,Z:()=>D});var e=t(67294),a=t(46066),_=t(58884),$=t(78001),c=t(61035),M=t(69685),g=t(58108),le=t(92015),f=t(71893),ue=t(65630),Y=t(60416),K=t(18931),b=Object.defineProperty,j=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,J=(P,L,r)=>L in P?b(P,L,{enumerable:!0,configurable:!0,writable:!0,value:r}):P[L]=r,R=(P,L)=>{for(var r in L||(L={}))Q.call(L,r)&&J(P,r,L[r]);if(j)for(var r of j(L))se.call(L,r)&&J(P,r,L[r]);return P};const z=({onClick:P,brandColor:L,customizedStyles:r})=>e.createElement("button",{type:"button",className:"current-tour__container__toggle-button-FAB",style:Object.assign({zIndex:1},r&&R({},r.fabStyles)),onClick:()=>{(0,Y.Z)({category:"map",action:"enter-homepage-map-on-mobile",label:"MapFAB"}),P&&P()}},e.createElement("div",{className:"current-tour__container__toggle-button-FAB__icon",style:Object.assign({backgroundColor:L||"#000"},r&&R({},r.iconStyles))},e.createElement(K.Z,null)),e.createElement("div",{className:"current-tour__container__toggle-button-FAB__title",style:Object.assign({backgroundColor:L||"#000",justifyContent:"center"},r&&R({},r.textStyles))},e.createElement("p",{style:{textTransform:"capitalize"}},$.Z.t("map")))),k=e.memo(z);var w=t(63026),l=t(69942),I=t(94958),B=t(22192),ve=t(38251),Ee=Object.defineProperty,ye=Object.defineProperties,he=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,F=(P,L,r)=>L in P?Ee(P,L,{enumerable:!0,configurable:!0,writable:!0,value:r}):P[L]=r,te=(P,L)=>{for(var r in L||(L={}))o.call(L,r)&&F(P,r,L[r]);if(X)for(var r of X(L))p.call(L,r)&&F(P,r,L[r]);return P},me=(P,L)=>ye(P,he(L)),G=(P,L)=>{var r={};for(var v in P)o.call(P,v)&&L.indexOf(v)<0&&(r[v]=P[v]);if(P!=null&&X)for(var v of X(P))L.indexOf(v)<0&&p.call(P,v)&&(r[v]=P[v]);return r};const A=f.ZP.div`
  animation-name: ${P=>P.animationName};
  animation-timing-function: ${P=>P.animationTimingFunc};
  animation-direction: ${;
  animation-fill-mode: ${P=>P.animationFillMode};
`,y=P=>{var L=P,{duration:r,delay:v,children:H,animationTimingFunc:V,animationName:d,onAnimationEnd:m,animationFillMode:n,animationDirection:s}=L,u=G(L,["duration","delay","children","animationTimingFunc","animationName","onAnimationEnd","animationFillMode","animationDirection"]);return e.createElement(A,me(te({},u),{style:me(te({},u.style||{}),{animationDuration:`${r}ms`,animationDelay:`${v}ms`}),animationName:d,animationTimingFunc:V||"linear",animationFillMode:n,animationDirection:s,onAnimationEnd:),H)},U=()=>(0,c.Z)({tours:{width:"90%",marginTop:"2rem",marginLeft:"auto",marginRight:"auto"},allContainer:{width:"90%",marginLeft:"auto",marginRight:"auto"},allContainerMobile:{marginLeft:"1rem",marginRight:"1rem"}});class h extends e.Component{constructor(L){super(L),this.openStandaloneMap=()=>{const{navigate:r,mapsSettings:v,pathname:H}=this.props,V=v==null?void 0:v.places,d=H.split("/");if(d[d.length-1]||d.pop(),V)r(`/${d[1]}/map/places`);else{const m=d.indexOf("home");d[m]="map/tours",r(d.join("/"))}},this.generateValidTourIds=()=>{const{tours:r}=this.props,v=[];r.forEach(H=>{H&&!H.is_hidden_from_universal_menu&&v.push(H.id)}),this.setState({validTourIds:v})},this.updateSelectedIndexAnimationStatus=r=>{const{homepageAnimationStatus:v,updateHomepageAnimationStatus:H}=this.props,V=te({},v.sidebarPageAnimationStatus);V[r]="viewed";const d=Object.assign({},v,{sidebarPageAnimationStatus:V});H(te({},d))},this.state={canClickOnPageButtons:!0,validTourIds:[],shouldAnimateCards:!0}}componentDidMount(){const{selectedIndex:L}=this.props;this.generateValidTourIds(),this.updateSelectedIndexAnimationStatus(L)}componentDidUpdate(L){const{tours:r,selectedIndex:v,homepageAnimationStatus:H,updateIfAnimateBanner:V}=this.props;if(L.tours!==r&&this.generateValidTourIds(),L.selectedIndex!==v){const d=!H.sidebarPageAnimationStatus[v];this.setState({shouldAnimateCards:d}),d&&this.updateSelectedIndexAnimationStatus(v),V&&V(d)}}render(){const{classes:L,selectedIndex:r,currentTourSlug:v,pages:H,tours:V,tourProgress:d,width:m,showDetailsPageToggle:n,setDetailsMenuTour:s,bidi:u,containerElement:O,isBackToTopShow:N,isScrolling:oe,brandColor:de,isMapsOn:q,homepageAnimationStatus:ne,updateHomepageAnimationStatus:ie}=this.props,pe={};H.forEach(x=>{pe[x.id]=x});const{canClickOnPageButtons:Se,validTourIds:Ie,shouldAnimateCards:Le}=this.state,Pe=document.documentElement.clientWidth;let Ce=1.25;Pe>=460&&Pe<960?Ce=1.25:Pe>=960&&Pe<1320?Ce=2:Pe>=1320&&(Ce=3);const Te=0,i=0;if((0,_.Vf)("sm",m))return e.createElement("div",{className:"explore-menu"},H.filter(x=>x.depth===3).map((x,ce)=>{const ge=ce===0?"long":"short",xe=ge==="long"?Te:i;return e.createElement("div",{key:x.id,className:"explore-menu__item-container",style:{direction:u?"rtl":"ltr"}},e.createElement(l.T,{component:B.H2,tabIndex:0},$.Z.t("explore")),e.createElement("h3",{className:"universal-menu__title",style:{direction:u?"rtl":"ltr",marginRight:"1rem"}},x.title),e.createElement(a.Z,{ref:be=>{this.slider=be},afterChange:()=>this.setState({canClickOnPageButtons:!0}),beforeChange:()=>this.setState({canClickOnPageButtons:!1}),infinite:!1,arrows:!1,slidesToShow:ce===0?1.25:2.5,slidesToScroll:ce===0?1:2,initialSlide:xe},x.children.map(be=>{if(be&&be.type==="tour.TourGroupPage")return e.createElement(ve.Z,{size:ge,cardInfo:pe[be.id],key:be.id,parent:x});const Fe=V.find(De=>De.slug===be.slug);return!Fe||Fe.is_hidden_from_universal_menu?null:e.createElement(w.Z,{size:ge,key:be.slug,slug:be.slug,tour:Fe,bidi:u,tourProgress:d,currentTourSlug:v,setDetailsMenuTour:s,showDetailsPageToggle:Se?n:void 0,canClickOnPageButtons:Se,parent:x})})))}),q&&e.createElement(k,{brandColor:de,onClick:this.openStandaloneMap,customizedStyles:{fabStyles:{position:"fixed"}}}));if(r===-1)return e.createElement("div",{className:(0,_.yJ)("sm",m)?L.allContainer:L.allContainerMobile},e.createElement(I.O,{isCalledFromIndexPage:!0,isScrolling:oe===void 0?!1:oe}),N&&e.createElement(ue.Z,{element:O,scrollStepInPx:200,delay:13.66}));let T=0,Z=0;H.filter(x=>x.depth===3)[r].children.forEach(x=>{x.type==="tour.TourGroupPage"&&Z++;const ce=V.find(ge=>ge.slug===x.slug);ce&&!ce.is_hidden_from_universal_menu&&(T+=1)});let ee;T===0&&Z===0&&(ee=e.createElement("div",{className:"circuit-loader",style:{position:"relative",top:"4rem"}},e.createElement("div",{className:"circuit-loader__one"}),e.createElement("div",{className:"circuit-loader__two"})));const _e=H.filter(x=>x.depth===3)[r].children.filter(x=>x.type==="tour.TourGroupPage"||Ie.includes(x.id)),re=_e.map((x,ce)=>ce*200-ce*20).reverse(),S=ne.shouldAnimationsStart,E=S?"cardFadeOutAndMove":"cardFadeInAndMove",C=S?"forwards":"backwards";return e.createElement("div",{className:L.tours},ne.cards!=="COMPLETE"&&e.createElement(y,{delay:ne.shouldAnimationsStart?re[re.length-1]+300:200,duration:500,animationName:S?"fadeOut":"fadeIn",animationFillMode:C},e.createElement("p",{style:{marginBottom:"1rem",direction:u?"rtl":"ltr",textAlign:"initial",color:"#000000"}},(()=>{const x=H.filter(ce=>ce.depth===3)[r].tour_count_descendants;return x>0?e.createElement("span",null,$.Z.t(x===1?"one-tour":"n-tours",{count:x})):null})())),ee,e.createElement(M.Z,{style:{marginLeft:"-.5rem",direction:u?"rtl":"ltr",opacity:ne.cards==="COMPLETE"?0:1},rowHeight:"auto",cols:Math.floor(Ce),gap:16},(()=>_e.map((x,ce)=>{const ge=(0,_.yJ)("md",m)?"long":"short";if(x&&x.type==="tour.TourGroupPage")return e.createElement(g.Z,{key:x.id,cols:1},(()=>{const be=e.createElement(ve.Z,{size:ge,cardInfo:pe[x.id]}),Fe=S?re[ce]:ce*200-ce*20;return e.createElement(y,{delay:Fe,duration:500,animationName:Le||S?E:"none",animationFillMode:C,onAnimationEnd:()=>{if(ce===0&&S){const De=Object.assign({},ne,{cards:"COMPLETE"});ie(te({},De))}}},be)})());const xe=V.find(;return!xe||xe.is_hidden_from_universal_menu?null:e.createElement(g.Z,{key:xe.id,cols:1},(()=>{const be=e.createElement(w.Z,{size:ge,slug:x.slug,tour:xe,bidi:u,tourProgress:d,currentTourSlug:v,setDetailsMenuTour:s,showDetailsPageToggle:n,canClickOnPageButtons:Se,isCalledFromHomepage:!0}),Fe=S?re[ce]:ce*200-ce*20;return e.createElement(y,{delay:Fe,duration:500,animationName:Le||S?E:"none",animationFillMode:C,onAnimationEnd:()=>{if(ce===0&&S){const De=Object.assign({},ne,{cards:"COMPLETE"});ie(te({},De))}}},be)})())}))()))}}const D=(0,le.Z)(U)((0,_.ZP)()(h))},92e3:(Oe,ae,t)=>{t.d(ae,{Z:()=>ue});var e=t(67294),a=Object.defineProperty,_=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,M=(Y,K,b)=>K in Y?a(Y,K,{enumerable:!0,configurable:!0,writable:!0,value:b}):Y[K]=b,g=(Y,K)=>{for(var b in K||(K={}))$.call(K,b)&&M(Y,b,K[b]);if(_)for(var b of _(K))c.call(K,b)&&M(Y,b,K[b]);return Y},le=(Y,K)=>{var b={};for(var j in Y)$.call(Y,j)&&K.indexOf(j)<0&&(b[j]=Y[j]);if(Y!=null&&_)for(var j of _(Y))K.indexOf(j)<0&&c.call(Y,j)&&(b[j]=Y[j]);return b};const ue=Y=>{const K=Y,{children:b}=K,j=le(K,["children"]);return e.createElement("span",g({},j),b)}},22192:(Oe,ae,t)=>{t.d(ae,{H1:()=>Y,H2:()=>W,D:()=>e.Z});var e=t(92e3),a=t(67294),_=Object.defineProperty,$=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,g=(X,o,p)=>o in X?_(X,o,{enumerable:!0,configurable:!0,writable:!0,value:p}):X[o]=p,le=(X,o)=>{for(var p in o||(o={}))c.call(o,p)&&g(X,p,o[p]);if($)for(var p of $(o))M.call(o,p)&&g(X,p,o[p]);return X},f=(X,o)=>{var p={};for(var F in X)c.call(X,F)&&o.indexOf(F)<0&&(p[F]=X[F]);if(X!=null&&$)for(var F of $(X))o.indexOf(F)<0&&M.call(X,F)&&(p[F]=X[F]);return p};const Y=X=>{const o=X,{children:p}=o,F=f(o,["children"]);return a.createElement("h1",le({},F),p)};var K=Object.defineProperty,b=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,se=(X,o,p)=>o in X?K(X,o,{enumerable:!0,configurable:!0,writable:!0,value:p}):X[o]=p,J=(X,o)=>{for(var p in o||(o={}))j.call(o,p)&&se(X,p,o[p]);if(b)for(var p of b(o))Q.call(o,p)&&se(X,p,o[p]);return X},R=(X,o)=>{var p={};for(var F in X)j.call(X,F)&&o.indexOf(F)<0&&(p[F]=X[F]);if(X!=null&&b)for(var F of b(X))o.indexOf(F)<0&&Q.call(X,F)&&(p[F]=X[F]);return p};const W=X=>{const o=X,{children:p}=o,F=R(o,["children"]);return a.createElement("h2",J({},F),p)};var k=Object.defineProperty,w=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,B=(X,o,p)=>o in X?k(X,o,{enumerable:!0,configurable:!0,writable:!0,value:p}):X[o]=p,ve=(X,o)=>{for(var p in o||(o={}))l.call(o,p)&&B(X,p,o[p]);if(w)for(var p of w(o))I.call(o,p)&&B(X,p,o[p]);return X},Ee=(X,o)=>{var p={};for(var F in X)l.call(X,F)&&o.indexOf(F)<0&&(p[F]=X[F]);if(X!=null&&w)for(var F of w(X))o.indexOf(F)<0&&I.call(X,F)&&(p[F]=X[F]);return p};const ye=X=>{const o=X,{children:p}=o,F=Ee(o,["children"]);return React.createElement("h3",ve({},F),p)},he=null},69942:(Oe,ae,t)=>{t.d(ae,{K:()=>k,T:()=>Y});var e=t(67294),a=t(78001),_=Object.defineProperty,$=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,g=(w,l,I)=>l in w?_(w,l,{enumerable:!0,configurable:!0,writable:!0,value:I}):w[l]=I,le=(w,l)=>{for(var I in l||(l={}))c.call(l,I)&&g(w,I,l[I]);if($)for(var I of $(l))M.call(l,I)&&g(w,I,l[I]);return w},f=(w,l)=>{var I={};for(var B in w)c.call(w,B)&&l.indexOf(B)<0&&(I[B]=w[B]);if(w!=null&&$)for(var B of $(w))l.indexOf(B)<0&&M.call(w,B)&&(I[B]=w[B]);return I};const Y=w=>{const l=w,{children:I,component:B}=l,ve=f(l,["children","component"]);return e.createElement(B,le({className:"visually-hidden"},ve),I)};var K=t(22192),b=Object.defineProperty,j=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,J=(w,l,I)=>l in w?b(w,l,{enumerable:!0,configurable:!0,writable:!0,value:I}):w[l]=I,R=(w,l)=>{for(var I in l||(l={}))Q.call(l,I)&&J(w,I,l[I]);if(j)for(var I of j(l))se.call(l,I)&&J(w,I,l[I]);return w},z=(w,l)=>{var I={};for(var B in w)Q.call(w,B)&&l.indexOf(B)<0&&(I[B]=w[B]);if(w!=null&&j)for(var B of j(w))l.indexOf(B)<0&&se.call(w,B)&&(I[B]=w[B]);return I};const k=w=>{const l=w,{accessibilityText:I}=l,B=z(l,["accessibilityText"]);return e.createElement(Y,R({component:K.D},B),a.Z.t(I.replace(/\s+/g,"-").toLowerCase()))}},12729:(Oe,ae,t)=>{t.d(ae,{P:()=>ue,z:()=>k});var e=t(67294),a=t(64002),_=Object.defineProperty,$=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,g=(w,l,I)=>l in w?_(w,l,{enumerable:!0,configurable:!0,writable:!0,value:I}):w[l]=I,le=(w,l)=>{for(var I in l||(l={}))c.call(l,I)&&g(w,I,l[I]);if($)for(var I of $(l))M.call(l,I)&&g(w,I,l[I]);return w};const ue=w=>e.createElement("button",le({type:"button"},w),e.createElement(a.h8,{styles:{pointerEvents:"none",display:"flex"},svg:a.sZ,accessibilityText:"Close"}));var Y=t(17812),K=t(21042),b=Object.defineProperty,j=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,J=(w,l,I)=>l in w?b(w,l,{enumerable:!0,configurable:!0,writable:!0,value:I}):w[l]=I,R=(w,l)=>{for(var I in l||(l={}))Q.call(l,I)&&J(w,I,l[I]);if(j)for(var I of j(l))se.call(l,I)&&J(w,I,l[I]);return w},z=(w,l)=>{var I={};for(var B in w)Q.call(w,B)&&l.indexOf(B)<0&&(I[B]=w[B]);if(w!=null&&j)for(var B of j(w))l.indexOf(B)<0&&se.call(w,B)&&(I[B]=w[B]);return I};const k=w=>{const l=w,{iconColor:I,children:B}=l,ve=z(l,["iconColor","children"]);return e.createElement(Y.Z,R({},ve),e.createElement(K.K,{iconColor:I}),B)}},21042:(Oe,ae,t)=>{t.d(ae,{K:()=>Q,Z:()=>J});var e=t(67294),a=t(64002),_=Object.defineProperty,$=Object.defineProperties,c=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable,f=(R,z,W)=>z in R?_(R,z,{enumerable:!0,configurable:!0,writable:!0,value:W}):R[z]=W,ue=(R,z)=>{for(var W in z||(z={}))g.call(z,W)&&f(R,W,z[W]);if(M)for(var W of M(z))le.call(z,W)&&f(R,W,z[W]);return R},Y=(R,z)=>$(R,c(z)),K=(R,z)=>{var W={};for(var k in R)g.call(R,k)&&z.indexOf(k)<0&&(W[k]=R[k]);if(R!=null&&M)for(var k of M(R))z.indexOf(k)<0&&le.call(R,k)&&(W[k]=R[k]);return W};const j=R=>{const z=R,{iconColor:W,title:k}=z,w=K(z,["iconColor","title"]);return e.createElement(a.Nq,Y(ue({},w),{title:k,iconColor:W}),e.createElement("path",{fill:W==="dark"?"#515252":"white",d:`M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2
         .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2
         2-.9 2-2-.9-2-2-2z`}))},Q=R=>{const z="More",{iconColor:W}=R;return e.createElement(a.h8,{iconColor:W,svg:j,accessibilityText:z})},J=R=>{const{motion:z}=R,W="Toggle Device Motion";return e.createElement(a.h8,{svg:z,accessibilityText:W})}},18931:(Oe,ae,t)=>{t.d(ae,{Z:()=>_});var e=t(67294);const _=()=>e.createElement("svg",{width:"16px",height:"24px",viewBox:"0 0 16 16",version:"1.1"},e.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},e.createElement("g",{id:"-Home-Page-Desktop",transform:"translate(-1386.000000, -340.000000)",fill:"#FFFFFF"},e.createElement("g",{id:"FAB",transform:"translate(1364.000000, 318.000000)"},e.createElement("g",{id:"Icon-24px",transform:"translate(19.000000, 19.000000)"},e.createElement("path",{d:"M20.5,3 L20.34,3.03 L15,5.1 L9,3 L3.36,4.9 C3.15,4.97 3,5.15 3,5.38 L3,20.5 C3,20.78 3.22,21 3.5,21 L3.66,20.97 L9,18.9 L15,21 L20.64,19.1 C20.85,19.03 21,18.85 21,18.62 L21,3.5 C21,3.22 20.78,3 20.5,3 L20.5,3 Z M15,19 L9,16.89 L9,5 L15,7.11 L15,19 L15,19 Z",id:"Shape"}))))))},94246:(Oe,ae,t)=>{t.d(ae,{Z:()=>Q});var e=t(78001),a=t(67294),_=t(59359),$=t(94184),c=t.n($),M=t(60416),g=t(69942),le=Object.defineProperty,f=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,K=(se,J,R)=>J in se?le(se,J,{enumerable:!0,configurable:!0,writable:!0,value:R}):se[J]=R,b=(se,J)=>{for(var R in J||(J={}))ue.call(J,R)&&K(se,R,J[R]);if(f)for(var R of f(J))Y.call(J,R)&&K(se,R,J[R]);return se};const j=({onClick:se,customizedStyles:J})=>{const[R,z]=a.useState(!1),W=document.documentElement.clientWidth;return a.createElement("button",{type:"button",className:"minimap-graphic",onClick:k=>{k.preventDefault(),(0,M.Z)({category:"map",action:"enter-homepage-map-on-desktop",label:"MinimapGraphic"}),se&&se()},onMouseEnter:()=>W>800&&!_.Em&&z(!0),onMouseLeave:()=>W>800&&!_.Em&&z(!1),style:J?b({},J):{}},a.createElement("svg",{width:"160px",height:"103px",viewBox:"0 0 160 103",version:"1.1"},a.createElement("defs",null,a.createElement("rect",{id:"path-1",x:"0",y:"0",width:"160",height:"103",rx:"4"})),a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.createElement("g",null,a.createElement("mask",{id:"mask-2",fill:"white"},a.createElement("use",{xlinkHref:"#path-1"})),a.createElement("use",{fill:"#EEEBE5",xlinkHref:"#path-1"}),a.createElement("polygon",{fill:"#B4E49B",mask:"url(#mask-2)",points:"17.5 79 29 61.7325075 51.5 57.5 64 105 51.5 105"}),a.createElement("polygon",{fill:"#B4E49B",mask:"url(#mask-2)",points:"63.3555115 6.54880123 77 3 81.6090513 22.8630846 69.3909487 26.1369154"}),a.createElement("path",{d:"M155.347566,54.0518207 L156.809522,73.1092587 L129.695556,79.4044069 L123.638507,57.434718 L155.347566,54.0518207 Z",stroke:"#FAFAFA",fill:"#E3E1DB",mask:"url(#mask-2)"}),a.createElement("line",{x1:"19.5",y1:"18.5",x2:"-1.5",y2:"47.5",stroke:"#FFFFFF",strokeLinecap:"square",mask:"url(#mask-2)"}),a.createElement("line",{x1:"-1.5",y1:"49.5",x2:"22.5",y2:"66.5",stroke:"#FFFFFF",strokeLinecap:"square",mask:"url(#mask-2)"}),a.createElement("line",{x1:"11.5",y1:"59.5",x2:"-2.5",y2:"78.5",stroke:"#FFFFFF",strokeLinecap:"square",mask:"url(#mask-2)"}),a.createElement("line",{x1:"32.5",y1:"48.5",x2:"36.5",y2:"47.5",stroke:"#FFFFFF",strokeLinecap:"square",mask:"url(#mask-2)",transform:"translate(34.500000, 48.000000) rotate(-0.963757) translate(-34.500000, -48.000000) "}),a.createElement("line",{x1:"51.5",y1:"-1.5",x2:"76.5",y2:"93.5",stroke:"#FFFFFF",strokeLinecap:"square",mask:"url(#mask-2)"}),a.createElement("line",{x1:"61.5",y1:"-1.5",x2:"85.5",y2:"90.5",stroke:"#FFFFFF",strokeLinecap:"square",mask:"url(#mask-2)"}),a.createElement("line",{x1:"15.5",y1:"-1.5",x2:"19.5",y2:"18.5",stroke:"#FFFFFF",strokeLinecap:"square",mask:"url(#mask-2)"}),a.createElement("line",{x1:"19.5",y1:"18.5",x2:"76.5",y2:"3.5",stroke:"#FFFFFF",strokeLinecap:"square",mask:"url(#mask-2)"}),a.createElement("line",{x1:"76.5",y1:"3.5",x2:"87.5",y2:"44.5",stroke:"#FFFFFF",strokeLinecap:"square",mask:"url(#mask-2)"}),a.createElement("line",{x1:"69.5",y1:"26.5",x2:"81.5",y2:"22.5",stroke:"#FFFFFF",strokeLinecap:"square",mask:"url(#mask-2)",transform:"translate(75.500000, 24.500000) rotate(3.434949) translate(-75.500000, -24.500000) "}),a.createElement("line",{x1:"29.5",y1:"16.5",x2:"39.5",y2:"55.5",stroke:"#FFFFFF",strokeLinecap:"square",mask:"url(#mask-2)"}),a.createElement("polyline",{stroke:"#FFFFFF",strokeLinecap:"square",mask:"url(#mask-2)",points:"65.9815724 101.759314 76.6106787 93.7653841 133.5 78.5"}),a.createElement("line",{x1:"85.5",y1:"-1.5",x2:"90.5",y2:"16.5",stroke:"#FFFFFF",strokeLinecap:"square",mask:"url(#mask-2)"}),a.createElement("line",{x1:"90.5",y1:"16.5",x2:"120.5",y2:"7.5",stroke:"#FFFFFF",strokeLinecap:"square",mask:"url(#mask-2)"}),a.createElement("line",{x1:"82.5",y1:"78.5",x2:"93.5",y2:"75.5",stroke:"#FFFFFF",strokeLinecap:"square",mask:"url(#mask-2)"}),a.createElement("line",{x1:"87.5",y1:"4.5",x2:"98.5",y2:"1.5",stroke:"#FFFFFF",strokeLinecap:"square",mask:"url(#mask-2)"}),a.createElement("path",{d:"M40.6069473,-1.5 L53.8049824,52.8141426 L162.5,25.6403882 L162.5,29.6110211 L54.8062653,56.9360879 L66.3639539,104.5 L62.3930584,104.5 L51.0666067,57.8851359 L28.6906457,63.5626493 L18.7899906,78.4131121 L55.4354617,104.5 L49.1586938,104.5 L-1.5,68.740922 L-1.5,63.9696765 L15.5409912,76.1004521 L27.3014069,59.4400325 L50.0611416,53.7495921 L36.6360443,-1.5 L40.6069473,-1.5 Z",stroke:"#E3E1DB",fill:"#FAFAFA",mask:"url(#mask-2)"})))),W>800&&!_.Em&&a.createElement("div",{className:c()("minimap-graphic__modal-container",R?"minimap-graphic__modal-container__show":"minimap-graphic__modal-container__hide")},a.createElement("p",{className:"minimap-graphic__modal-container__text"},e.Z.t("open-map")),a.createElement("div",{className:"minimap-graphic__modal-container__modal"})),!R&&a.createElement("p",{className:"minimap-graphic__text"},e.Z.t("open-map")),a.createElement(g.K,{accessibilityText:e.Z.t("open-map")}))},Q=a.memo(j)},29146:(Oe,ae,t)=>{t.d(ae,{Z:()=>ue});var e=t(67294),a=Object.defineProperty,_=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,M=(Y,K,b)=>K in Y?a(Y,K,{enumerable:!0,configurable:!0,writable:!0,value:b}):Y[K]=b,g=(Y,K)=>{for(var b in K||(K={}))$.call(K,b)&&M(Y,b,K[b]);if(_)for(var b of _(K))c.call(K,b)&&M(Y,b,K[b]);return Y},le=(Y,K)=>{var b={};for(var j in Y)$.call(Y,j)&&K.indexOf(j)<0&&(b[j]=Y[j]);if(Y!=null&&_)for(var j of _(Y))K.indexOf(j)<0&&c.call(Y,j)&&(b[j]=Y[j]);return b};const ue=Y=>{var K=Y,{component:b}=K,j=le(K,["component"]);return e.createElement(e.Fragment,null,e.createElement(e.Suspense,{fallback:e.createElement("div",{className:"circuit-loader"},e.createElement("div",{className:"circuit-loader__one"}),e.createElement("div",{className:"circuit-loader__two"}))},e.createElement(b,g({},j))))}},76482:(Oe,ae,t)=>{t.d(ae,{X:()=>ue,a:()=>K});var e=t(67294),a=t(94184),_=t.n(a),$=Object.defineProperty,c=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,le=(b,j,Q)=>j in b?$(b,j,{enumerable:!0,configurable:!0,writable:!0,value:Q}):b[j]=Q,f=(b,j)=>{for(var Q in j||(j={}))M.call(j,Q)&&le(b,Q,j[Q]);if(c)for(var Q of c(j))g.call(j,Q)&&le(b,Q,j[Q]);return b};function ue(b){return class extends e.Component{constructor(j){super(j);const{isMounted:Q}=this.props;this.state={shouldRender:Q},this.timer}componentDidUpdate(j){const{isMounted:Q,delayTime:se}=this.props;j.isMounted&&!Q?this.timer=setTimeout(()=>this.setState({shouldRender:!1}),se):!j.isMounted&&Q&&this.setState({shouldRender:!0})}ender(){const{shouldRender:j}=this.state;return j?e.createElement(b,f({},this.props)):null}}}const K=ue(({setUniversalMenuOpenState:b,isMounted:j})=>e.createElement("div",{onClick:()=>{b(!1)},className:_()("universal-menu__modal",!j&&"universal-menu__modal__fade-out")}))},18719:(Oe,ae,t)=>{t.d(ae,{Bt:()=>Se,Wh:()=>G,AT:()=>Ee,Iw:()=>d,YI:()=>se});var e=t(67294),a=t(48884),_=t(58884),$=Object.defineProperty,c=Object.defineProperties,M=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,ue=(i,T,Z)=>T in i?$(i,T,{enumerable:!0,configurable:!0,writable:!0,value:Z}):i[T]=Z,Y=(i,T)=>{for(var Z in T||(T={}))le.call(T,Z)&&ue(i,Z,T[Z]);if(g)for(var Z of g(T))f.call(T,Z)&&ue(i,Z,T[Z]);return i},K=(i,T)=>c(i,M(T)),b=(i,T)=>{var Z={};for(var ee in i)le.call(i,ee)&&T.indexOf(ee)<0&&(Z[ee]=i[ee]);if(i!=null&&g)for(var ee of g(i))T.indexOf(ee)<0&&f.call(i,ee)&&(Z[ee]=i[ee]);return Z};const j=()=>{const[i,T]=e.useState(document.activeElement),Z=ee=>{T(document.activeElement)};return e.useEffect([]),i},Q=i=>{const[T,Z]=e.useState(!1),ee=e.useRef(null),_e=j(),re=i,{children:S,width:E,bidi:C,isTourWithLabelsApplied:x,brandColor:ce}=re,ge=b(re,["children","width","bidi","isTourWithLabelsApplied","brandColor"]);return e.useEffect(()=>{x&&(_e&&_e.classList.contains("tour-menu-button")?!T&&Z(!0):T&&Z(!1))},[_e]),e.createElement("button",K(Y({},ge),{type:"button",onMouseEnter:()=>Z(!0),onMouseLeave:ref:ee}),e.createElement("div",{style:{marginRight:E==="md"?".5rem":"1rem"}},x?e.createElement(J,{isHoveringOnMenuButton:(0,_.yJ)("md",E)&&T,brandColor:ce}):e.createElement(a.Z,{style:C?{bottom:"auto",position:"initial"}:{bottom:"auto"}})),S)},se=(0,_.ZP)()(Q),J=({isHoveringOnMenuButton:i,brandColor:T})=>e.createElement("svg",{width:"25px",height:"24px",viewBox:"0 0 24 24",version:"1.1"},e.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},e.createElement("g",null,e.createElement("g",null,e.createElement("polygon",{points:"0 0 24 0 24 24 0 24"}),e.createElement("path",{d:"M3,18 L21,18 L21,16 L3,16 L3,18 L3,18 Z M3,13 L21,13 L21,11 L3,11 L3,13 L3,13 Z M3,6 L3,8 L21,8 L21,6 L3,6 L3,6 Z",fill:i?"#fff":T}))),e.createElement("circle",{stroke:"#FFFFFF",fill:i?"#fff":T,cx:"21",cy:"7",r:"3.5"})));var R=t(74751),z=Object.defineProperty,W=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,l=(i,T,Z)=>T in i?z(i,T,{enumerable:!0,configurable:!0,writable:!0,value:Z}):i[T]=Z,I=(i,T)=>{for(var Z in T||(T={}))k.call(T,Z)&&l(i,Z,T[Z]);if(W)for(var Z of W(T))w.call(T,Z)&&l(i,Z,T[Z]);return i},B=(i,T)=>{var Z={};for(var ee in i)k.call(i,ee)&&T.indexOf(ee)<0&&(Z[ee]=i[ee]);if(i!=null&&W)for(var ee of W(i))T.indexOf(ee)<0&&w.call(i,ee)&&(Z[ee]=i[ee]);return Z};const Ee=i=>{const T=i,{children:Z,bidi:ee}=T,_e=B(T,["children","bidi"]);let re=e.createElement(R.BC,null);return ee&&(re=e.createElement(R.ti,null)),e.createElement("button",I({type:"button"},_e),re,Z)};var ye=Object.defineProperty,he=Object.getOwnPropertySymbols,X=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,p=(i,T,Z)=>T in i?ye(i,T,{enumerable:!0,configurable:!0,writable:!0,value:Z}):i[T]=Z,F=(i,T)=>{for(var Z in T||(T={}))X.call(T,Z)&&p(i,Z,T[Z]);if(he)for(var Z of he(T))o.call(T,Z)&&p(i,Z,T[Z]);return i},te=(i,T)=>{var Z={};for(var ee in i)X.call(i,ee)&&T.indexOf(ee)<0&&(Z[ee]=i[ee]);if(i!=null&&he)for(var ee of he(i))T.indexOf(ee)<0&&o.call(i,ee)&&(Z[ee]=i[ee]);return Z};const G=i=>{const T=i,{children:Z,bidi:ee}=T,_e=te(T,["children","bidi"]);let re=e.createElement(R.ti,null);return ee&&(re=e.createElement(R.BC,null)),e.createElement("button",F({type:"button"},_e),re,Z)};var A=Object.defineProperty,y=Object.defineProperties,U=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,L=(i,T,Z)=>T in i?A(i,T,{enumerable:!0,configurable:!0,writable:!0,value:Z}):i[T]=Z,r=(i,T)=>{for(var Z in T||(T={}))D.call(T,Z)&&L(i,Z,T[Z]);if(h)for(var Z of h(T))P.call(T,Z)&&L(i,Z,T[Z]);return i},v=(i,T)=>y(i,U(T)),H=(i,T)=>{var Z={};for(var ee in i)D.call(i,ee)&&T.indexOf(ee)<0&&(Z[ee]=i[ee]);if(i!=null&&h)for(var ee of h(i))T.indexOf(ee)<0&&P.call(i,ee)&&(Z[ee]=i[ee]);return Z};const d=i=>{const T=i,{children:Z}=T,ee=H(T,["children"]);return e.createElement("button",v(r({},ee),{type:"button"}),e.createElement(R.Wd,null),Z)};var m=t(64002),n=Object.defineProperty,s=Object.defineProperties,u=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,de=(i,T,Z)=>T in i?n(i,T,{enumerable:!0,configurable:!0,writable:!0,value:Z}):i[T]=Z,q=(i,T)=>{for(var Z in T||(T={}))N.call(T,Z)&&de(i,Z,T[Z]);if(O)for(var Z of O(T))oe.call(T,Z)&&de(i,Z,T[Z]);return i},ne=(i,T)=>s(i,u(T)),ie=(i,T)=>{var Z={};for(var ee in i)N.call(i,ee)&&T.indexOf(ee)<0&&(Z[ee]=i[ee]);if(i!=null&&O)for(var ee of O(i))T.indexOf(ee)<0&&oe.call(i,ee)&&(Z[ee]=i[ee]);return Z};const Se=e.forwardRef((i,T)=>{const Z=i,{children:ee}=Z,_e=ie(Z,["children"]);return e.createElement("button",ne(q({},_e),{type:"button",ref:T}),e.createElement(m.h8,{svg:m.pz,accessibilityText:"Return"}),ee)});var Ie=t(78001);const Le=()=>React.createElement("svg",{fontSize:"2rem",viewBox:"0 0 24 24",width:"2em",height:"1em",focusable:"false"},React.createElement("g",null,React.createElement("path",{d:"M 19 8 L 19 11 L 1 11 L 1 13 L 19 13 L 19 16 L 23 12 L 19 8 z"}))),Pe=null,Ce=i=>{const{tourName:T}=i;return React.createElement("div",{className:"finish-tour-button-container"},React.createElement("div",{className:"finish-tour-button-container__box"},React.createElement("p",null,T)),React.createElement("div",{className:"finish-tour-button-container__text"},React.createElement("p",null,i18next.t("finish-the-tour")),React.createElement(AriaCompliantSvg,{svg:ThinArrowRightSvg,accessibilityText:"finish the tour"})))},Te=null},52689:(Oe,ae,t)=>{t.d(ae,{Z:()=>L});var e=t(86706),a=t(97779),_=t(96996),$=t(17359),c=t(67294),M=t(61035),g=t(64436),le=t(43700),f=t(26209),ue=t(38799),Y=t(20964),K=t(17812),b=t(52663),j=t(66083),Q=t(29525),se=t(52541),J=t(30553),R=t(40074),z=t(66856),W=t(282),k=t(58884),w=t(92015),l=t(78001),I=t(94184),B=t.n(I),ve=t(88572),Ee=t(92e3),ye=t(69942),he=t(60416),X=t(64002);const p=r=>{const{title:v,iconColor:H}=r;let V="";return H==="#000"?V="#000":H==="dark"?V="#515252":V="#fff",c.createElement(X.Nq,{title:v},c.createElement("g",null,c.createElement("path",{d:"M0 0h24v24H0z",fill:"none",style:{stroke:"none"}}),c.createElement("path",{style:{stroke:"none",fill:V},fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"})))};var F=Object.defineProperty,te=Object.getOwnPropertyDescriptor,me=(r,v,H,V)=>{for(var d=V>1?void 0:V?te(v,H):v,m=r.length-1,n;m>=0;m--)(n=r[m])&&(d=(V?n(v,H,d):n(d))||d);return V&&d&&F(v,H,d),d};const G=({palette:r,spacing:v})=>(0,M.Z)({radio:{"&$checked":{color:r.primary.main}},buttonBase:{"&:hover":{backgroundColor:"transparent !important"}},checked:{},radioButtonSecondary:{color:"#525252"},select:{padding:"0.5rem 0.8rem 0.5rem 0.5rem !important","&:focus":{backgroundColor:"transparent",boxShadow:"0 0 0 0.125rem rgba(80, 80, 80, 0.5)",borderRadius:"0.25rem"},"& svg":{height:"1.3rem",width:"1.3rem"}},selectLight:{padding:"0.5rem 0.8rem 0.5rem 0.5rem !important","&:focus":{backgroundColor:"transparent",boxShadow:"0 0 0 0.125rem #d8d8d8",borderRadius:"0.25rem"},"& svg":{height:"1.3rem",width:"1.3rem"}},selectItem:{padding:"0 !important",height:"3.5rem",display:"flex"},langcode:{"&:hover":{color:"#525252 !important"}}}),A=class extends c.Component{tatic getLanguage(r,v){let H;return r.forEach(,H}constructor(r){super(r);const{language:v}=r;this.state={tentativeLanguage:v,isModalOpen:!1}}setTentativeLanguage(r){const{languages:v}=this.props;this.setState({tentativeLanguage:A.getLanguage(v,r.target.value)})}changeLanguage(r){const{changeLanguage:v,languages:H}=this.props,V=A.getLanguage(H,r.target.value);(0,he.Z)({category:"language",action:"change",label:V.name}),v(V)}closeLanguageModal(){const{updateCtaMenuOpenState:r}=this.props;r&&r(!1),this.setState({isModalOpen:!1})}render(){const{isModalOpen:r,tentativeLanguage:v}=this.state,{language:H,languages:V,width:d,classes:m,color:n,size:s,rightMargin:u,languagePrefix:O,iconColor:N,customizedStyles:oe,updateCtaMenuOpenState:de,isStandaloneMapMode:q}=this.props;if(!l.Z.languages||!V||V.length<2)return null;const ne={};V.forEach(;const ie=[...new Set(V.map(pe=>pe.language))];return(0,k.yJ)("md",d)?c.createElement(g.Z,null,c.createElement(le.Z,{id:"language-label"},c.createElement(ye.T,{component:Ee.Z},l.Z.t("language"))),c.createElement(f.Z,{labelId:"language-label",autoWidth:!0,value:A.getLanguageCode(H.language),classes:{select:N==="light"?m.selectLight:m.select},className:m.selectItem,disableUnderline:!0,IconComponent:onChange:this.changeLanguage,renderValue:pe=>c.createElement("div",{className:B()(O?"":m.langcode,q&&"homepage-map-language-selector","language-button"),style:{color:n||"#747474",fontSize:s&&s==="large"?"1.25rem":"0.9rem",fontWeight:O?600:800,display:"flex",alignItems:"center"}},q?c.createElement(c.Fragment,null,c.createElement(p,{title:l.Z.t("language"),iconColor:"#000"}),c.createElement("span",null,O?`${l.Z.t("language")}: `:"",pe.toUpperCase())):c.createElement(c.Fragment,null,c.createElement(p,{title:l.Z.t("language"),iconColor:N}),O?c.createElement("span",{style:{textTransform:"capitalize",marginLeft:"0.5rem",marginRight:"0.2rem"}},`${l.Z.t("language")}: `):c.createElement("span",{style:{marginRight:"0.25rem"}}),pe.toUpperCase())),input:c.createElement(ue.Z,{style:{marginTop:0,marginRight:u||0},name:"language",id:"language-input"})},ie.map(pe=>c.createElement(Y.Z,{value:pe,key:pe},c.createElement("span",{style:{color:"#525252",textTransform:"capitalize"}},ne[pe]))))):c.createElement(c.Fragment,null,c.createElement(K.Z,{style:Object.assign({fill:N==="dark"?"#002e3f":"#FFFFFF"},oe),className:m.buttonBase,onClick:()=>{(0,k.Vf)("sm",d)&&de&&de(!0),this.setState({isModalOpen:!0})}},c.createElement("div",{style:{padding:0,opacity:1},className:"language-icon"},c.createElement(p,{title:l.Z.t("language"),iconColor:q?"#000":N}),q&&c.createElement("span",null,O?`${l.Z.t("language")}: `:"",v.language.toUpperCase()))),c.createElement(b.Z,{open:r,onClose:this.closeLanguageModal,TransitionProps:{role:"presentation"},PaperProps:{"aria-label":l.Z.t("language")}},c.createElement(j.Z,null,c.createElement("span",{style:{textTransform:"capitalize"}},l.Z.t("language"))),c.createElement(Q.Z,null,c.createElement("form",null,c.createElement(g.Z,null,c.createElement(se.Z,{"aria-label":"Gender",name:"language",value:v.language,onChange:this.setTentativeLanguage},ie.map(pe=>c.createElement(J.Z,{key:pe,value:pe,control:c.createElement(R.Z,{classes:{root:m.radio,checked:m.checked,colorSecondary:m.radioButtonSecondary}}),label:c.createElement("span",{style:{textTransform:"capitalize"}},ne[pe])})))))),c.createElement(z.Z,null,c.createElement(W.Z,{onClick:()=>{this.closeLanguageModal(),this.setState({tentativeLanguage:H})},color:"primary"},c.createElement("span",null,l.Z.t("cancel"))),c.createElement(W.Z,{onClick:()=>{const{changeLanguage:pe}=this.props;this.closeLanguageModal(),(0,he.Z)({category:"language",action:"change",label:v.name}),pe(v)},color:"primary"},c.createElement("span",null,l.Z.t("ok"))))))}};let y=A;me([ve.ZP],y.prototype,"setTentativeLanguage",1),me([ve.ZP],y.prototype,"changeLanguage",1),me([ve.ZP],y.prototype,"closeLanguageModal",1);const U=(0,k.ZP)()((0,w.Z)(G)(y)),{changeLanguage:h}=$.languageActions,D=P=r=>({language:(0,_.currentLanguageSelector)(r),languages:(0,_.languageSelector)(r).languages,isStandaloneMapMode:(0,_.isStandaloneMapModeSelector)(r)}),L=(0,e.$j)(P,D)(U)},5284:(Oe,ae,t)=>{t.d(ae,{Fe:()=>G,ZP:()=>me});var e=t(67294),a=t(60416),_=t(71267),$=t(61035),c=t(6562),M=t(92015),g=t(78001),le=t(94184),f=t.n(le),ue=t(51115),Y=t(25281),K=t(43700),b=t(20964),j=t(64436),Q=t(26209),se=t(72877),J=t(12729),R=t(69942),z=t(23033),W=t(6969),k=t(29707),w=t(22192),l=Object.defineProperty,I=Object.defineProperties,B=Object.getOwnPropertyDescriptors,ve=Object.getOwnPropertySymbols,Ee=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable,he=Math.pow,X=(y,U,h)=>U in y?l(y,U,{enumerable:!0,configurable:!0,writable:!0,value:h}):y[U]=h,o=(y,U)=>{for(var h in U||(U={}))Ee.call(U,h)&&X(y,h,U[h]);if(ve)for(var h of ve(U))ye.call(U,h)&&X(y,h,U[h]);return y},p=(y,U)=>I(y,B(U));const F=y=>(0,$.Z)({button:p(o({},(0,se.b)(y).button),{width:"100%",padding:"0.35rem 2rem"}),deleteIconPrimary:{color:"white",opacity:0},tooltip:{padding:"0.5rem 1.5rem",borderRadius:".3rem",backgroundColor:"white",color:"#515252",boxShadow:"0 1px 3px 1px rgba(76,102,116,.19)"},popper:{maxWidth:"90%"},tooltipPlacementBottom:{margin:"0.7rem 0"}});class te extends e.Component{constructor(U){super(U),this.focusRef=e.createRef(),this.selectedLabelsListRef=e.createRef(),this.scenesWithSelectedLabels={},this.scenesWithLabelsInVisibleTours=[],this.allLabels=[],this.hoveredTourTitleState={},this.isMoving=!1,this.setLabelSelectedState=(h,D)=>{const{setLabelActiveState:P,labels:L,updateSelectedLabelsList:r}=this.props;P({labelId:h,selected:D});const v=Object.values(L).find(V=>V&&V.id===h),H=p(o({},v),{selected:D});H&&r&&r(H)},this.generateFilteredScenes=()=>{const{scenes:h,findFirstTourBySceneId:D,labels:P,selectedLabels:L}=this.props,{confirmedLabelsFromInterests:r,isLabelsListShow:v}=this.state,H=window.innerWidth>800;this.allLabels.length===0&&(this.allLabels=Object.keys(P).map(),this.scenesWithLabelsInVisibleTours.length===0&&(this.scenesWithLabelsInVisibleTours=h.filter(n=>n.labels&&n.labels.length>0&&D(n.id)));let V;H?V=L.map(n=>n.id):v?V=L.map(n=>n.id):V=Object.values(P).filter(.map(n=>n.id);const d=this.scenesWithLabelsInVisibleTours.filter(n=>{if(n.labels){let s=!1;return n.labels.forEach(u=>{this.allLabels.indexOf(u)>=0&&V.indexOf(u)>=0&&(s=!0)}),s}return!1}),m=V.length>0;this.setState({filteredScenes:d.length===0&&!m?h:d,sort:L.length>1?"best-match-labels":"most-scenes"})},this.populateFilteredTours=h=>{const{tours:D,scenes:P,selectedLabels:L}=this.props,{sort:r,boost:v}=this.state,H={},V={},d=L.map(u=>u.id);h&&h.forEach(;const m=D.filter(u=>!u.is_hidden_from_universal_menu);m.forEach(u=>{const O=[];u.sceneIds.forEach(,O.length>0&&(V[u.title]=O)});const n=[];m.forEach(u=>{if(V[u.title]){const{title:O}=u,N=V[u.title];let oe=0,de;r==="most-scenes"&&(oe=V[u.title].length,de=`${u.sceneIds.length} total scenes`),r==="total-proportion"&&(oe=V[u.title].length/u.sceneIds.length,de=`${u.sceneIds.length} total scenes`);const q={};N.forEach(Le=>{Le.labels.forEach(Pe=>{d.includes(Pe)&&(q[Pe]=q[Pe]?q[Pe]+1:1)})});let ne=0;P.filter(.forEach(Le=>{Le&&Le.labels&&(ne+=Le.labels.length)});const pe=[];let Se=0;L.forEach(Le=>{q[Le.id]&&(r==="best-match-labels"?(pe.push(q[Le.id]/ne),Se+=q[Le.id]):pe.push(q[Le.id]/u.sceneIds.length))}),r==="best-match-labels"?de=`${Se} label hits in ${ne} labels`:r==="best-match-scenes"&&(de=`${N.length} scene hits in ${u.sceneIds.length} scenes`),(r==="best-match-scenes"||r==="best-match-labels")&&pe.length>0&&(oe=pe.reduce((Pe,Ce)=>Pe+Ce)),r==="best-match-labels"&&v==="combo"&&(oe*=Math.log10(N.length),oe*=he(10,Object.keys(q).length));const Ie={title:O,scenes:N,sortValue:oe,denominator:de};n.push(Ie)}});const s=(u,O)=>{let N=0;return u.sortValue<O.sortValue?N=1:u.sortValue>O.sortValue&&(N=-1),N};return L.length>0?n.sort(s):n},this.handleSortChange=h=>{this.setState({sort:h.target.value}),(0,a.Z)({category:"all-content",action:"sort",label:h.target.value})},this.handleBoostChange=this.getNumOfToursWithLabels=h=>h.length,this.handleTouchMove=()=>{const{hoveredTourTitle:h}=this.state;Object.keys(this.hoveredTourTitleState).length>0&&Object.keys(this.hoveredTourTitleState).forEach(D=>{delete this.hoveredTourTitleState[D]}),(h||!this.isMoving)&&this.setState({isIconScrolling:!0,hoveredTourTitle:""}),this.isMoving=!0},this.handleTouchEnd=()=>{const{isIconScrolling:h,hoveredTourTitle:D}=this.state;this.isMoving=!1,Object.keys(this.hoveredTourTitleState).length>0&&Object.keys(this.hoveredTourTitleState).forEach(P=>{delete this.hoveredTourTitleState[P]}),(D||h)&&this.setState({hoveredTourTitle:"",isIconScrolling:!1},()=>{this.isStateUpdatedInTouchend=!0}),D||(this.isStateUpdatedInTouchend=!1)},this.updateLabelsFromInterests=h=>{const{isAllLabelsShowOnDesktop:D}=this.state;this.setState({labelsFromInterests:h}),h.length===0&&(!D&&this.expandPanel(),this.setState({isAllLabelsShowOnDesktop:!0}))},this.updateNumOfScenesFirstRow=()=>{const{currentTab:h}=this.props,D=window.innerWidth,P=window.innerWidth>800&&h==="ALL";D>800&&D<1012&&this.setState({numOfScenesFirstRow:P?4:2}),D>=1012&&D<1220&&this.setState({numOfScenesFirstRow:P?4:3}),D>=1220&&D<1400&&this.setState({numOfScenesFirstRow:4}),D>=1280&&P&&this.setState({numOfScenesFirstRow:6}),D>=1400&&D<1680&&!P&&this.setState({numOfScenesFirstRow:5}),D>=1680&&!P&&this.setState({numOfScenesFirstRow:6})},this.removeAllSelectedLabels=()=>{const{labels:h}=this.props,{isAllLabelsShowOnDesktop:D}=this.state,P=o({},h);Object.keys(P).forEach(L=>{this.setLabelSelectedState(P[L].id,!1)}),!D&&this.expandPanel(),this.setState({labelsFromInterests:[],isAllLabelsShowOnDesktop:!0})},this.collapsePanel=()=>{const h=document.getElementsByClassName("all-menu__category-container__expanding")[0],D=document.getElementsByClassName("all-menu__category-container-of-selected-labels")[0],P=h.scrollHeight,L=h.style.transition;h.style.transition="",requestAnimationFrame(()=>{h.style.height=`${P}px`,h.style.transition=L,requestAnimationFrame(})},this.expandPanel=()=>{const{originalPanelHeight:h}=this.state,D=document.getElementsByClassName("all-menu__category-container__collapsing")[0],P=D.scrollHeight,L=D.style.transition;D.style.transition="",requestAnimationFrame(()=>{D.style.height=`${P}px`,D.style.transition=L,requestAnimationFrame(})},this.handleLabelPanelScroll=h=>{const{isConfirmButtonShadowShow:D}=this.state,P=h.target;P&&P.scrollHeight-P.scrollTop===P.clientHeight?this.setState({isConfirmButtonShadowShow:!1}):D||this.setState({isConfirmButtonShadowShow:!0})},this.state={isLabelsListShow:!1,isAllLabelsShowOnDesktop:!0,isRestOfScenesShow:{},labelsFromInterests:[],confirmedLabelsFromInterests:[],filteredScenes:[],numOfScenesFirstRow:3,bannerHeight:0,isFadeShow:!1,sort:"most-scenes",boost:"combo",isAllMenuScrollingDown:!1,isPanelMounted:!1,originalPanelHeight:0,isConfirmButtonShadowShow:!0,hoveredTourTitle:"",isIconScrolling:!1}}componentDidMount(){const{isCalledFromIndexPage:U,selectedLabels:h,updateScenesListInCurrentTour:D,scenesListInCurrentTour:P}=this.props;if(this.generateFilteredScenes(),window.innerWidth>800&&this.setState({isLabelsListShow:!0}),this.updateNumOfScenesFirstRow(),window.addEventListener("resize",this.updateNumOfScenesFirstRow),U)P.length>0&&D([]);else{const L=document.getElementsByClassName("universal-menu__container__banner")[0].clientHeight;this.setState({bannerHeight:L})}if(h.length>0){const L=h.map(r=>r.name);this.setState({labelsFromInterests:L,confirmedLabelsFromInterests:L})}document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("touchend",this.handleTouchEnd)}componentDidUpdate(U,h){const{currentTab:D,labels:P,scenes:L,setScenesWithSelectedLabels:r,isLabelsPanelButtonShow:v,isScrolling:H,language:V}=this.props,{labelsFromInterests:d,confirmedLabelsFromInterests:m,isLabelsListShow:n,filteredScenes:s}=this.state,u=window.innerWidth>800;if(D==="ALL"&&D!==U.currentTab&&this.focusRef.current.focus(),u||((h.confirmedLabelsFromInterests!==m||h.isLabelsListShow!==n)&&this.selectedLabelsListRef.current.clientHeight>36?this.setState({isFadeShow:!0}):h.isFadeShow&&this.selectedLabelsListRef.current.clientHeight<=36&&this.setState({isFadeShow:!1}),U.isLabelsPanelButtonShow!==v&&this.setState({isAllMenuScrollingDown:!v}),h.isLabelsListShow!==n&&(this.generateFilteredScenes(),h.isLabelsListShow&&!n&&this.setState({isPanelMounted:!0}))),(U.scenes.length===0&&L.length||JSON.stringify(U.scenes)!==JSON.stringify(L))&&(this.scenesWithLabelsInVisibleTours=[],this.generateFilteredScenes()),U.labels!==P||JSON.stringify(h.labelsFromInterests)!==JSON.stringify(d)||JSON.stringify(h.confirmedLabelsFromInterests)!==JSON.stringify(m)){this.generateFilteredScenes();const O=this.populateFilteredTours(s);O.forEach(N=>{N.scenes.length>0&&this.scenesWithSelectedLabels[N.title]?this.scenesWithSelectedLabels[N.title].scenes=O[N.title]:delete this.scenesWithSelectedLabels[N.title]}),r(this.scenesWithSelectedLabels)}U.isScrolling!==H&&this.setState({isIconScrolling:H})}ender(){const{classes:U,labels:h,language:D,isCalledFromIndexPage:P,stickyHeaderOn:L,currentTab:r,selectedLabels:v,tours:H,updateSelectedLabelsName:V,brandColor:d,setAllTabLabelsPanelOpenState:m}=this.props,{isLabelsListShow:n,isAllLabelsShowOnDesktop:s,isRestOfScenesShow:u,labelsFromInterests:O,confirmedLabelsFromInterests:N,filteredScenes:oe,numOfScenesFirstRow:de,bannerHeight:q,isFadeShow:ne,sort:ie,boost:pe,isAllMenuScrollingDown:Se,isPanelMounted:Ie,isConfirmButtonShadowShow:Le,hoveredTourTitle:Pe,isIconScrolling:Ce}=this.state,Te=H.filter(,i=window.innerWidth>800,T=this.populateFilteredTours(oe),Z=n&&!i||i?O:N,ee=Z.length>0;let _e;i||(P?L?_e="5rem 0rem 1rem":_e="0 0 1rem":!ee&&N.length===0?_e="8rem 0rem 1.5rem":_e=ne?"5rem 0rem 1.5rem":"4rem 0rem 1.5rem");const{userAgent:re}=window.navigator;let S;L?(S="-2.1rem",window.innerWidth>=768&&window.innerWidth<=800&&(S="-2.15rem")):re.match(/iPhone/i)?S="-2.3rem":S="-2.25rem";const E=/firefox/i.test(navigator.userAgent)&&navigator.platform.indexOf("Mac")>=0;return e.createElement("div",{className:f()(n?"all-menu-container":"",i&&r==="ALL"&&"all-menu-container__with-tab-open")},e.createElement("div",{className:f()("all-menu__labels-panel",n?"all-menu-labels-panel-open":Ie&&"all-menu-labels-panel-close",!n&&(Se?"all-menu__labels-panel__collapse":"all-menu__labels-panel__expand"),L?"all-menu-labels-panel-sticky":""),style:!n&&r==="ALL"&&!i?{top:`${q} !important`,position:P&&L?"fixed":"absolute",left:0,right:0}:{},onScroll:this.handleLabelPanelScroll},e.createElement("div",{style:{marginBottom:!i&&!n?0:"1rem",marginTop:0}},e.createElement(R.T,{component:w.H2},g.Z.t("all")),e.createElement("div",{style:Object.assign({},{direction:D.bidi?"rtl":"ltr",textAlign:"initial",color:"#000000"},!i&&!n&&{display:"flex",flexDirection:ee?"row":"column",alignItems:ee?"center":"initial"})},i?e.createElement("h3",{className:"universal-menu__title"},g.Z.t("find-the-right-tour-for-you")):e.createElement("div",{style:Object.assign({display:"flex",justifyContent:"space-between"},Se&&!n&&{marginTop:S}),className:f()("universal-menu__title",!n&&(Se?"universal-menu__title__fade-out":"universal-menu__title__fade-in"))},(n||!ee&&!n)&&e.createElement("h3",{className:"universal-menu__title",style:{margin:0}},g.Z.t("find-the-right-tour-for-you")),n&&e.createElement(J.P,{onClick:()=>{m(!1),this.setState({isLabelsListShow:!1}),ee||(this.generateFilteredScenes(),this.setState({confirmedLabelsFromInterests:[]}))},className:"all-menu__labels-panel__close-button"})),e.createElement("div",{className:"all-menu__labels-panel__selected-labels-list",ref:this.selectedLabelsListRef,style:D.bidi&&window.innerWidth<=800?{alignSelf:"flex-end",marginLeft:"-0.5rem"}:{}},!i&&N.length>0&&!n?e.createElement("div",{style:{maxHeight:"3.5rem"}},Z.map((C,x)=>e.createElement("span",{key:`${C}_${new Date().getTime()}`},x===0?C:`, ${C}`)),ne&&e.createElement("span",{style:{position:"absolute",width:"100%",bottom:"-5px",left:0,boxShadow:"0 -0.7rem 1rem 0.8rem white"}})):e.createElement("span",null,g.Z.t("use-labels-to-find-tours-that-match-your-interests"))),!n&&(ee||Se)&&e.createElement("div",{className:f()("all-menu__labels-panel__add-icon-mobile",Se&&!ee&&"all-menu__labels-panel__add-icon-mobile__animated"),onClick:style:{width:ne?"4rem":"2.5rem",height:ne?"3.5rem":"2.5rem",marginLeft:"auto",backgroundColor:d||"#000"}},e.createElement(z.ZP,null)))),(n||i)&&e.createElement("div",{className:"all-menu__clear-all-tags",style:{direction:D.bidi?"rtl":"ltr",textAlign:"initial"}},e.createElement("button",{type:"button",ref:this.focusRef,className:"all-menu__clear-all-tags-button all-menu__clear-all-tags__text",onClick:this.removeAllSelectedLabels},g.Z.t("clear-labels"))),e.createElement("div",{className:f()("all-menu__category-container",r==="ALL"&&E&&"all-menu__category-container-macFF",s&&i&&"all-menu__category-container__expanding",!s&&i&&"all-menu__category-container__collapsing"),style:Object.assign({},n&&!i?{paddingBottom:"9.5rem"}:{},n&&r==="ALL"&&!i?{paddingBottom:"3rem"}:{})},ee&&i&&e.createElement("div",{className:"all-menu__category-container-of-selected-labels"},e.createElement(G,{labelsFromStore:h,selectedLabels:v,isFirstRow:!0,isLastRow:!0,language:D,label:v,isForSelectedLabels:!0,setLabelSelectedState:this.setLabelSelectedState,labelsFromInterests:O,updateLabelsFromInterests:this.updateLabelsFromInterests})),(()=>{if(n&&!i||i){let C;return s?C=Object.keys(h).map(x=>h[x]).filter(x=>x.depth===2):ee&&i&&(C=[{children:v,depth:2,name:"Labels",selected:!1}]),C&&C.map((x,ce)=>e.createElement(G,{labelsFromStore:h,key:s?x.id:0,isFirstRow:ce===0,isLastRow:ce===C.length-1,selectedLabels:v,language:D,label:s?x:v,isForSelectedLabels:!s,setLabelSelectedState:this.setLabelSelectedState,labelsFromInterests:O,updateLabelsFromInterests:this.updateLabelsFromInterests}))}return null})(),ee&&e.createElement("button",{type:"button",className:"all-menu__labels-panel__arrow-icon",onClick:()=>{if(this.setState({isAllLabelsShowOnDesktop:ee?!s:!0}),s){const C=document.getElementsByClassName("all-menu__category-container")[0];C&&this.setState({originalPanelHeight:C.clientHeight})}s?this.collapsePanel():this.expandPanel()}},s?e.createElement(e.Fragment,null,e.createElement(Y.Z,{fontSize:"large"}),e.createElement(R.K,{accessibilityText:g.Z.t("up")})):e.createElement(e.Fragment,null,e.createElement(ue.Z,{fontSize:"large"}),e.createElement(R.K,{accessibilityText:g.Z.t("down")})))),(ee&&n||!n&&N.length===0&&!ee)&&e.createElement("div",{className:f()("all-menu__confirm-button",!n&&`all-menu__confirm-button__${Se?"collapsed":"show"}`,n&&ee&&"all-menu__confirm-button__in-panel"),style:ee&&n?{position:"fixed",bottom:"0.2rem",left:"0.5rem",right:"0.5rem",boxShadow:Le?"0 6rem 4rem 9.2rem #f4f4f4":"none"}:{marginTop:!n&&N.length===0?"0.5rem":0}},e.createElement("button",{type:"button",className:U.button,onClick:()=>{n?(m(!1),this.setState({confirmedLabelsFromInterests:[...O],isLabelsListShow:!1}),V&&V([...O]),this.generateFilteredScenes()):(this.setState({isLabelsListShow:!0}),m(!0))}},n&&ee&&g.Z.t("n-results-in-n-tours",{count:oe.length,total:this.getNumOfToursWithLabels(this.populateFilteredTours(oe))}),!n&&!ee&&e.createElement(e.Fragment,null,e.createElement(z.ZP,null),g.Z.t("customize-your-search"))))),e.createElement("div",{className:"all-menu",style:{padding:_e}},oe.length>0&&ee&&e.createElement("div",null,!i&&e.createElement("div",{className:"all-menu__scenes-summary"},e.createElement("span",null,g.Z.t("n-tours",{count:this.getNumOfToursWithLabels(this.populateFilteredTours(oe))})),g.Z.t("match-your-label-selection")),e.createElement("div",{className:"all-menu__sort"},e.createElement(c.Z,null,e.createElement(j.Z,{variant:"outlined"},e.createElement(K.Z,{id:"sort-select-label"},g.Z.t("sort-by")),e.createElement(Q.Z,{labelId:"sort-select-label",id:"sort-select",value:ie,onChange:this.handleSortChange,label:g.Z.t("sort-by")},e.createElement(b.Z,{value:"most-scenes"},"\u2191"," ",g.Z.t("most-scenes")),v.length>1&&e.createElement(b.Z,{value:"best-match-labels"},"\u2606"," ",g.Z.t("best-match")))))),i&&e.createElement("div",{className:"all-menu__scenes-summary"},e.createElement("span",null,g.Z.t("n-tours",{count:this.getNumOfToursWithLabels(this.populateFilteredTours(oe))})),g.Z.t("match-your-label-selection"))),(()=>T.map(C=>{const x=C.title,ce=C.scenes.slice(0,de),ge=C.scenes.slice(de),xe=Te&&Te.filter(Fe=>Fe.title===x)[0],be={};return C.scenes.forEach(Fe=>{v.forEach(De=>{be[De.name]===void 0&&(be[De.name]=0),Fe.labels.indexOf(De.id)>-1&&(be[De.name]+=1)})}),this.scenesWithSelectedLabels[x]===void 0&&(this.scenesWithSelectedLabels[x]={}),Object.keys(be).length>0&&(this.scenesWithSelectedLabels[x].selectedLabels=be),ce.length>0&&e.createElement("div",{key:x,style:{marginBottom:"0.5rem"}},e.createElement("div",{className:"all-menu__tour-title-container",style:{direction:D.bidi?"rtl":"ltr"}},e.createElement("div",{style:{marginBottom:"1rem",color:"#000",direction:D.bidi?"rtl":"ltr",textAlign:"initial",fontSize:"1.5rem",marginTop:"1.5rem"}},e.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},e.createElement("div",{style:{margin:0,cursor:"default",display:"flex",alignItems:"center",flexWrap:"wrap"}},e.createElement("div",{style:{fontSize:"1.3rem",fontWeight:"normal"}},e.createElement("span",{style:{marginRight:"0.8rem"},onClick:()=>{this.hoveredTourTitleState[x]=!this.hoveredTourTitleState[x],!Pe&&!this.isStateUpdatedInTouchend&&this.setState({hoveredTourTitle:x})},onMouseEnter:()=>{this.hoveredTourTitleState[x]=!0,!Pe&&this.setState({hoveredTourTitle:x})},onMouseLeave:()=>{this.hoveredTourTitleState[x]=!1,this.setState({hoveredTourTitle:""})}},x),e.createElement("span",{style:{display:"inline-flex",position:"relative"}},(O.length>0&&i||N.length>0&&!i)&&e.createElement(W.w,{hoveredTourTitle:Pe,id:x,key:x,isIconScrolling:Ce,hoveredTourTitleState:this.hoveredTourTitleState[x],numOfScenesForEachLabel:be}))))),e.createElement("span",{className:"debug sort-value"},C.sortValue),e.createElement("span",{style:{fontSize:"1rem"}},C.scenes.length===1&&g.Z.t(v.length>0?"one-matching-scene":"one-scene-tour",{count:1}),C.scenes.length>1&&g.Z.t(v.length>0?"n-matching-scenes":"n-scenes-tour",{count:C.scenes.length}),e.createElement("small",{className:"debug"}," ",C.denominator)))),e.createElement(k.Z,{tour:xe,isCalledFromAllTab:!0,scenes:ce,usesGrid:!0,isCalledFromIndexPage:P}),ge.length>0&&u[x]&&e.createElement(k.Z,{tour:xe,isCalledFromAllTab:!0,scenes:ge,usesGrid:!0,isCalledFromIndexPage:P}),ge.length>0&&e.createElement("div",{className:"all-menu__show-more-button"},e.createElement("button",{type:"button",onClick:()=>{u[x]=!u[x],this.setState({isRestOfScenesShow:u})},style:{textTransform:"none",border:"none",background:"none",textDecoration:"underline",letterSpacing:"initial"}},e.createElement("span",null,!u[x]&&"+"),u[x]?g.Z.t("show-less"):g.Z.t("n-more-scens-in-this-tour",{total:ge.length}))))}))()))}}const me=(0,M.Z)(F)(te),G=({selectedLabels:y,language:U,label:h,setLabelSelectedState:D,labelsFromInterests:P,updateLabelsFromInterests:L,isForSelectedLabels:r,isCalledFromCurrentTour:v,allLabelsInCurrentTour:H,isFirstRow:V,isLastRow:d,labelsFromStore:m})=>{const[n,s]=e.useState(0),u=H&&H.map(q=>q&&q.name);e.useEffect(()=>{if(P.length===0&&s(0),h&&!r){const q=h.children.filter(ne=>v&&u?P.indexOf(ne.name)>=0&&u.indexOf(ne.name)>=0:P.indexOf(ne.name)>=0).length;s(q)}});let O,N;if(h)if(r)O=h,N=Array.isArray(h)&&`Labels (${h.length})`;else{if(O=h.children,v&&O){const q=H&&H.map(;O=O.filter(}N=n>0?`${h.name} (${n})`:h.name}const oe=window.innerWidth>800,de=y.map(q=>q.id);return O.length>0?e.createElement("div",{className:"all-menu__category",style:{direction:U.bidi?"rtl":"ltr",textAlign:"initial",borderTopLeftRadius:V?"0.4rem":0,borderTopRightRadius:V?"0.4rem":0,borderBottomLeftRadius:d?"0.4rem":0,borderBottomRightRadius:d?"0.4rem":0,maxWidth:"86vw"}},e.createElement("h4",{className:"all-menu__category-title"},N),e.createElement("div",{className:"all-menu__category-list"},O.map(q=>{const ne=de.indexOf(q.id)>=0;return typeof q.locations!="undefined"&&q.locations.length===0||r&&!ne&&oe&&!v||m&&m[q.id]&&m[q.id].depth===3?null:e.createElement(A,{isCalledFromCurrentTour:v,key:q.id,childLabel:q,selected:ne,numOfSelectedLabelEachRow:n,updateNumOfSelectedLabels:s,setLabelSelectedState:D,labelsFromInterests:P,updateLabelsFromInterests:L})}))):null},A=({childLabel:y,selected:U,numOfSelectedLabelEachRow:h,updateNumOfSelectedLabels:D,setLabelSelectedState:P,labelsFromInterests:L,updateLabelsFromInterests:r,isCalledFromCurrentTour:v})=>{const[H,V]=e.useState(!1),[d,m]=e.useState(!1),n=e.useRef(null);e.useEffect(()=>{n.current&&n.current.scrollWidth>n.current.offsetWidth&&V(!0)});const s=N=>{const de=N.target.scrollLeft;m(de>0)},u=window.innerWidth>800;let O;return u?O=v?0:"0.5rem":O="0.2rem",e.createElement(_.Z,{style:{position:"relative",marginRight:"0.5rem",marginTop:"0.5rem",marginBottom:O,color:"white",boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)",transition:"all 0.3s cubic-bezier(.25,.8,.25,1)",maxWidth:"100%",height:v?"1.7rem":"32px"},className:"all-menu__chip",key:y.id,label:e.createElement("span",{className:"all-menu__selector-text",style:{color:U?"white":"#000000",paddingLeft:"0.2rem",paddingRight:"0.2rem",fontSize:v?"0.8rem":"0.875rem"},onScroll:s,ref:n},y.name,H&&!d&&!u&&e.createElement("span",{className:"all-menu__selector-text__fade-placeholder",style:U?{backgroundImage:"linear-gradient(45deg, rgba(255, 255, 255, 0) 0%, rgb(51, 51, 51) 80%, rgb(51, 51, 51) 100%)"}:{}})),color:U?"primary":"default",onDelete:()=>{h!==void 0&&h>=1&&D&&D(h-1),P&&P(y.id,!1);const N=L.filter(;r(N)},onClick:()=>{h!==void 0&&D&&D(h+1),(0,a.Z)({category:v?"current-tour":"all-content",action:"label",label:y.name.toLowerCase()}),P&&P(y.id,!0);const N=L;N.indexOf(y.name)<0&&N.push(y.name),r(N)},deleteIcon:U?e.createElement("div",{style:{height:"32px",width:"100%",position:"absolute",left:"8px",right:0}}):e.createElement("div",{style:{height:0,width:0}})})}},94958:(Oe,ae,t)=>{t.d(ae,{O:()=>w});var e=t(86706),a=t(97779),_=t(96996),$=t(73188),c=t(99535),M=t(2626),g=t(5284),le=Object.defineProperty,f=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,K=(l,I,B)=>I in l?le(l,I,{enumerable:!0,configurable:!0,writable:!0,value:B}):l[I]=B,b=(l,I)=>{for(var B in I||(I={}))ue.call(I,B)&&K(l,B,I[B]);if(f)for(var B of f(I))Y.call(I,B)&&K(l,B,I[B]);return l};const{setCurrentUniversalMenu:j}=M.universalMenuActions,{setLabelActiveState:Q,updateSelectedLabelsList:se,setAllTabLabelsPanelOpenState:J}=$.labelActions,{setScenesWithSelectedLabels:R,updateScenesListInCurrentTour:z}=c.sceneActions,W=l=>(0,a.DE)({setLabelActiveState:Q,setCurrentUniversalMenu:j,setScenesWithSelectedLabels:R,updateSelectedLabelsList:se,setAllTabLabelsPanelOpenState:J,updateScenesListInCurrentTour:z},l),k=l=>{var I;const B=(0,_.toursSelector)(l),ve=ye=>B.find(he=>new Set(he.sceneIds).has(ye)&&!he.is_hidden_from_universal_menu)||null,Ee=[];return(0,_.scenesSelector)(l).slice().forEach(ye=>{const he=b({},ye);he.labels||(he.labels=[]),Ee.push(he)}),{selectedLabels:(0,_.selectedLabelsSelector)(l),scenes:Ee,tours:(0,_.toursSelector)(l),siteName:(0,_.siteNameSelector)(l),labels:(0,_.labelsSelector)(l),findFirstTourBySceneId:ve,language:(0,_.currentLanguageSelector)(l),currentTab:(0,_.currentUniversalMenuSelector)(l),isLabelsPanelButtonShow:(0,_.isLabelsPanelButtonShowSelector)(l),brandColor:(I=(0,_.brandSelector)(l))==null?void 0:I.color,scenesListInCurrentTour:(0,_.scenesListInCurrentTourSelector)(l)}},w=(0,e.$j)(k,W)(g.ZP)},89369:(Oe,ae,t)=>{t.d(ae,{N:()=>R});var e=t(67294),a=t(61035),_=t(92015),$=t(74751),c=t(93338),M=t(73293),g=Object.defineProperty,le=Object.defineProperties,f=Object.getOwnPropertyDescriptors,ue=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,b=(z,W,k)=>W in z?g(z,W,{enumerable:!0,configurable:!0,writable:!0,value:k}):z[W]=k,j=(z,W)=>{for(var k in W||(W={}))Y.call(W,k)&&b(z,k,W[k]);if(ue)for(var k of ue(W))K.call(W,k)&&b(z,k,W[k]);return z},Q=(z,W)=>le(z,f(W));const se=z=>(0,a.Z)({root:Q(j(j({},(0,c.M)(z).root),(0,M.f)().root),{background:"rgba(71, 74, 68, 0.75)"})});class J extends e.Component{render(){const{classes:W,size:k}=this.props,w=k||"large";return e.createElement("div",{className:W.root},e.createElement($.uo,{fontSize:w==="small"?"1.5rem":"3rem"}))}}const R=(0,_.Z)(se)(J)},6969:(Oe,ae,t)=>{t.d(ae,{Z:()=>he,w:()=>p});var e=t(67294),a=t(60416),_=t(78001),$=t(61035),c=t(96617),M=t(92015),g=t(94184),le=t.n(g),f=t(64566),ue=t(80366),Y=t(69942),K=t(22192),b=t(76482),j=t(29707),Q=t(23033),se=t(5284),J=Object.defineProperty,R=Object.defineProperties,z=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,l=(te,me,G)=>me in te?J(te,me,{enumerable:!0,configurable:!0,writable:!0,value:G}):te[me]=G,I=(te,me)=>{for(var G in me||(me={}))k.call(me,G)&&l(te,G,me[G]);if(W)for(var G of W(me))w.call(me,G)&&l(te,G,me[G]);return te},B=(te,me)=>R(te,z(me));const ve=({setLabelsPanelOpenState:te,onCloseLabelPanel:me,isMounted:G})=>e.createElement("div",{role:"button","aria-label":_.Z.t("labels-applied"),onClick:()=>{me(),te&&te(!1)},className:le()("current-tour__container__modal",!G&&"current-tour__container__modal__fade-out")}),Ee=(0,b.X)(ve);class ye extends e.Component{constructor(me){super(me),this.myRef=e.createRef(),this.hoveredTourTitleState={},this.descriptionFirstLineRef=e.createRef(),this.descriptionSecondLineRef=e.createRef(),this.isMoving=!1,this.isStateUpdatedInTouchend=!1,this.updateFilteredScenes=()=>{const{scenes:G,currentScene:A,selectedLabelsInCurrentTour:y,updateScenesListInCurrentTour:U}=this.props,{isCurrentSceneCardFade:h}=this.state,D=y&&y.map(r=>r.id),P=[];let L=G.filter(r=>{if(r.labels){let v=!1;return r.labels.forEach(H=>{D.indexOf(H)>=0&&(v=!0,P.push(r.id))}),v}return!1});A&&D.length>0&&P.indexOf(A.id)<0?(L=[Object.assign({},A,{isPlaceholder:!0}),...L],this.setState({isCurrentSceneCardFade:!0})):h&&this.setState({isCurrentSceneCardFade:!1}),U&&U(L),this.setState({filteredScenes:D.length>0?L:G})},this.updateSeparatorSignState=()=>{const{isSeparateSignShow:G}=this.state,A=this.descriptionFirstLineRef&&this.descriptionFirstLineRef.current,y=this.descriptionSecondLineRef&&this.descriptionSecondLineRef.current;(A==null?void 0:A.getBoundingClientRect().top)!==(y==null?void 0:y.getBoundingClientRect().top)?this.setState({isSeparateSignShow:!1}):G||this.setState({isSeparateSignShow:!0})},this.setLabelSelectedState=(G,A)=>{const{labels:y,setSceneClickedFromAllTab:U,updateSelectedLabelsListInCurrentTour:h}=this.props;U&&U(!1);const D=Object.values(y).find(,P=B(I({},D),{selected:A});P&&h&&h(P)},this.clearAllSelectedLabels=()=>{const{setSceneClickedFromAllTab:G,selectedLabelsInCurrentTour:A}=this.props;A.forEach(,G&&G(!1)},this.handleLabelPanelScroll=G=>{const A=G.target,y=A.scrollTop,{isPanelReachBottom:U}=this.state,h=A.scrollHeight-A.offsetHeight===y;U!==h&&this.setState({isPanelReachBottom:h})},this.handleTouchMove=()=>{const{hoveredTourTitle:G}=this.state;Object.keys(this.hoveredTourTitleState).length>0&&Object.keys(this.hoveredTourTitleState).forEach(A=>{delete this.hoveredTourTitleState[A]}),(G||!this.isMoving)&&this.setState({isIconScrolling:!0,hoveredTourTitle:""}),this.isMoving=!0},this.handleTouchEnd=()=>{const{isIconScrolling:G,hoveredTourTitle:A}=this.state;this.isMoving=!1,Object.keys(this.hoveredTourTitleState).length>0&&Object.keys(this.hoveredTourTitleState).forEach(,(A||G)&&this.setState({hoveredTourTitle:"",isIconScrolling:!1},,A||(this.isStateUpdatedInTouchend=!1)},this.state={allLabelsInCurrentTour:[],isLabelPanelShow:!1,filteredScenes:[],isCurrentSceneCardFade:!1,scenesWithSelectedLabels:{scenes:[],selectedLabels:{}},hoveredTourTitle:"",isSeparateSignShow:!0,isIconScrolling:!1,isPanelReachBottom:!1}}componentDidMount(){const{tour:me,labels:G,scenes:A,isLabelsPanelOpen:y}=this.props,U=[],h=[];me.sceneIds.forEach(D=>{const P=A.filter(L=>L.id===D)[0];P&&P.labels&&P.labels.forEach(L=>{U.indexOf(G[L])<0&&(U.push(G[L]),h.push(L))})}),this.setState({allLabelsInCurrentTour:U,isLabelPanelShow:y}),this.updateFilteredScenes(),this.updateSeparatorSignState(),window.addEventListener("resize",this.updateSeparatorSignState),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("touchend",this.handleTouchEnd)}componentDidUpdate(me,G){const{selectedLabelsInCurrentTour:A}=this.props,{filteredScenes:y,isLabelPanelShow:U}=this.state;if(A!==me.selectedLabelsInCurrentTour&&A&&A.length>=0&&(this.updateFilteredScenes(),this.updateSeparatorSignState()),G.filteredScenes!==y&&y.length>0){const h={};A.forEach(P=>{h[P.name]===void 0&&(h[P.name]=0),y.forEach(L=>{L.labels.indexOf(P.id)>-1&&(h[P.name]+=1)})});const D={scenes:[],selectedLabels:{}};D.scenes=y,D.selectedLabels=h,this.setState({scenesWithSelectedLabels:D})}G.isLabelPanelShow&&!U&&this.myRef&&this.myRef.current&&this.myRef.current.scrollTop>0&&this.myRef.current.scrollTo({top:0})}componentWillUnmount(){const{setLabelsPanelOpenState:me,isLabelsPanelOpen:G,setSceneClickedFromAllTab:A}=this.props;G&&me(!1),A&&A(!1),window.removeEventListener("resize",this.updateSeparatorSignState),document.removeEventListener("touchmove",this.handleTouchMove),document.removeEventListener("touchend",this.handleTouchEnd)}render(){const{scenes:me,tour:G,numberOfVisitedScenes:A,bidi:y,allScenesWithSelectedLabels:U,selectedLabels:h,selectedLabelsInCurrentTour:D,isSceneClickedFromAllTab:P,labels:L,language:r,setLabelsPanelOpenState:v,brandColor:H}=this.props,{allLabelsInCurrentTour:V,isLabelPanelShow:d,filteredScenes:m,scenesWithSelectedLabels:n,isCurrentSceneCardFade:s,hoveredTourTitle:u,isSeparateSignShow:O,isIconScrolling:N,isPanelReachBottom:oe}=this.state,de=D.length>0,q=P&&h.length>0?U[G.title]:n;return e.createElement(e.Fragment,null,V.length>1&&e.createElement("button",{type:"button",className:"current-tour__container__toggle-button-mobile",style:{backgroundColor:H||"#000"},onClick:()=>{this.setState({isLabelPanelShow:!0}),v(!0),(0,a.Z)({category:"current-tour",action:"labels-panel",label:G.slug})}},e.createElement("div",{className:"current-tour__container__toggle-button-mobile__icon"},e.createElement(Q.ZP,null)),e.createElement("div",{className:"current-tour__container__toggle-button-mobile__title"},e.createElement("p",null,_.Z.t("labels")))),e.createElement("div",{className:"current-tour__container",style:{direction:y?"rtl":"ltr"}},e.createElement("div",{className:"current-tour__container__description"},e.createElement("div",{className:"current-tour__container__description__title"},e.createElement("h2",{onClick:()=>{this.hoveredTourTitleState[G.title]=!0,!u&&!this.isStateUpdatedInTouchend&&this.setState({hoveredTourTitle:G.title})},onMouseEnter:()=>{this.hoveredTourTitleState[G.title]=!0,!u&&this.setState({hoveredTourTitle:G.title})},onMouseLeave:()=>{this.hoveredTourTitleState[G.title]=!1,this.setState({hoveredTourTitle:""})}},G.title),de&&e.createElement(p,{hoveredTourTitle:u,id:G.title,isIconScrolling:N,hoveredTourTitleState:this.hoveredTourTitleState[G.title],numOfScenesForEachLabel:q&&q.selectedLabels})),e.createElement("div",{className:"current-tour__container__description__content"},e.createElement("span",{ref:this.descriptionFirstLineRef},_.Z.t("you-have-completed-n-scenes",{completed:A,total:me.length})),de&&e.createElement("div",{style:{display:"flex",marginLeft:"0.3rem"},ref:this.descriptionSecondLineRef},e.createElement("span",{style:{marginRight:"0.3rem"}},O&&" | ",_.Z.t("showing-n-matching-scenes",{total:s?m.length-1:m.length}))))),e.createElement(j.Z,{tour:G,scenes:m,isCurrentSceneCardFade:s}),V.length>1&&e.createElement("button",{type:"button",className:le()("current-tour__container__labels-panel__toggle-button",d?"current-tour__container__labels-panel__toggle-button__moved":"current-tour__container__labels-panel__toggle-button__stay"),onClick:()=>{this.setState({isLabelPanelShow:!d}),v(!d)}},d?e.createElement(ue.Z,{fontSize:"large"}):e.createElement("div",{style:{display:"flex",alignItems:"center",direction:"ltr"}},e.createElement("div",{className:"current-tour__container__labels-panel__toggle-button__icon"},e.createElement(Q.ZP,null)),e.createElement("p",null,_.Z.t("labels")))),V.length>1&&e.createElement("div",{className:le()("current-tour__container__labels-panel",d?"current-tour__container__labels-panel-open":"current-tour__container__labels-panel-close"),onScroll:this.handleLabelPanelScroll,ref:this.myRef},e.createElement("div",{style:{paddingBottom:"2.3rem"}},e.createElement("div",{className:"current-tour__container__labels-panel-header"},e.createElement("h3",null,_.Z.t("select-labels-that-match-your-interests")),window.innerWidth>800&&e.createElement("div",{className:"current-tour__container__labels-panel-header__matching-number",style:de?{visibility:"visible"}:{visibility:"hidden"}},"(",_.Z.t("n-matching-scenes",{count:s?m.length-1:m.length}),")"),e.createElement("button",{type:"button",onClick:()=>this.setState({isLabelPanelShow:!1})},e.createElement(Y.T,{component:K.D},_.Z.t("close")),e.createElement(f.Z,{fontSize:"large"}))),window.innerWidth<=800&&e.createElement("div",{className:"current-tour__container__labels-panel-header__matching-number",style:de?{visibility:"visible"}:{visibility:"hidden"}},"(",_.Z.t("n-matching-scenes",{count:s?m.length-1:m.length}),")"),e.createElement("div",{className:"current-tour__container__labels-panel__clear-button"},e.createElement("button",{type:"button",style:{border:"none",background:"none",display:"flex",alignItems:"center"},onClick:()=>{this.clearAllSelectedLabels(),(0,a.Z)({category:"current-tour",action:"labels-clear",label:G.slug})}},e.createElement("span",null,_.Z.t("clear-labels")))),e.createElement(F,{language:r,labels:L,allLabelsInCurrentTour:V,updateLabelsFromInterests:setLabelSelectedState:this.setLabelSelectedState,allSelectedLabelsInCurrentTour:D}))),!oe&&e.createElement("div",{className:le()("current-tour__container__labels-panel__fade-placeholder",d?"current-tour__container__labels-panel__fade-placeholder-open":"current-tour__container__labels-panel__fade-placeholder-close")},e.createElement("div",null)),e.createElement(Ee,{onCloseLabelPanel:delayTime:400,isMounted:d,setUniversalMenuOpenState:v})))}}const he=ye,X=()=>(0,$.Z)({tooltip:{padding:"0.5rem 1.5rem",borderRadius:".3rem",backgroundColor:"white",color:"#515252",margin:"0.5rem",fontSize:"1rem"}}),o=({numOfScenesForEachLabel:te,classes:me,id:G,hoveredTourTitle:A,hoveredTourTitleState:y,isIconScrolling:U})=>{const[h,D]=e.useState(!1),[P,L]=e.useState(0),[r,v]=e.useState(null),[H,V]=e.useState(null),[d,m]=e.useState(!1),n=e.useRef(null),s=e.useRef(null);let u;const O=N=ie=>{V(ie)},oe=ie=>{u=document.activeElement,ie.keyCode===9&&(u&&u.classList.contains("all-menu__info-icon")&&u.id===G&&(v(u),D(!0),m(!0)),u&&!u.classList.contains("all-menu__info-icon")&&D(!1))},de=ie=>{if(ie){const pe=document.getElementById(ie);pe&&pe.id===ie&&(v(pe),y&&D(!0))}else h&&(!d||U)&&D(!1)},q=()=>{const ie=Object.entries(te).filter(pe=>pe[1]>0).length;L(ie)},ne=e.useCallback(()=>{const ie=n&&n.current;ie&&!ie.classList.contains("popper")&&ie.classList.add("popper")},[h]);return e.useEffect(()=>(q(),ne(),de(A),document.addEventListener("keyup",ie=>{oe(ie)}),()=>{document.removeEventListener("keyup",}),[q,ne,A]),e.createElement("div",null,e.createElement(c.Z,{open:h,placement:"bottom",anchorEl:r,disablePortal:!1,modifiers:{flip:{enabled:!0},preventOverflow:{enabled:!0,boundariesElement:"scrollParent"},arrow:{enabled:!0,element:H}},ref:n},e.createElement("span",{className:"arrow",ref:N}),e.createElement("div",{className:me.tooltip},P===1?e.createElement("p",null,_.Z.t("one-label-matches-your-selection")):e.createElement("p",null,_.Z.t("n-labels-match-your-selection",{count:P})),e.createElement("ul",{style:{listStyleType:"none",paddingLeft:"0rem",lineHeight:"1.2rem"}},(()=>te?Object.entries(te).map(ie=>ie[1]>0&&e.createElement("li",{key:`${ie}_${new Date().getTime()}`},ie[0],` (${ie[1]} `,ie[1]===1?"scene)":"scenes)")):null)()))),e.createElement("div",{tabIndex:0,id:G,className:"all-menu__info-icon",onMouseOver:ie=>{O(ie),setTimeout(()=>{D(!0),m(!0)},30)},onMouseLeave:onClick:ie=>{h?(D(!1),m(!1)):(O(ie),D(!0),m(!0))},ref:s},e.createElement(Q.ZP,{isForInfo:!0,fillColor:"#000"})))},p=e.memo((0,M.Z)(X)(o)),F=({labels:te,allLabelsInCurrentTour:me,updateLabelsFromInterests:G,setLabelSelectedState:A,allSelectedLabelsInCurrentTour:y,language:U})=>e.createElement("div",{className:"current-tour__container__labels-panel__list"},Object.values(te).filter(.map(h=>e.createElement(se.Fe,{isCalledFromCurrentTour:!0,allLabelsInCurrentTour:me,key:h.id,selectedLabels:y,language:U,label:h,isForSelectedLabels:!1,setLabelSelectedState:A,labelsFromInterests:y.map(D=>D.name),updateLabelsFromInterests:G})))},29707:(Oe,ae,t)=>{t.d(ae,{Z:()=>d});var e=t(86706),a=t(97779),_=t(2626),$=t(96996),c=t(99535),M=t(73188),g=t(87477),le=t(828),f=t(67294),ue=t(60416),Y=t(46066),K=t(88572),b=t(58884),j=t(85984),Q=t(61035),se=t(58108),J=t(55517),R=t(69685),z=t(92015),W=t(11412),k=t(23493),w=t.n(k),l=t(94184),I=t.n(l),B=t(78023),ve=t(77120),Ee=Object.defineProperty,ye=Object.getOwnPropertyDescriptor,he=Object.getOwnPropertySymbols,X=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,p=(m,n,s)=>n in m?Ee(m,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):m[n]=s,F=(m,n)=>{for(var s in n||(n={}))X.call(n,s)&&p(m,s,n[s]);if(he)for(var s of he(n))o.call(n,s)&&p(m,s,n[s]);return m},te=const me=({palette:m,breakpoints:n})=>(0,Q.Z)({root:{overflowX:"hidden"},tile:{overflow:"initial",marginBottom:"4px"},sceneItemContainer:{width:"100%",display:"flex !important",flexDirection:"column",boxShadow:"0 1px 4px 0 rgba(76,102,116,.19)",marginBottom:"1rem",flex:1,borderColor:"#d4dfe5",backgroundColor:"#FFFFFF",borderRadius:"0.25rem",position:"relative",[n.down("sm")]:{height:"auto",flexDirection:"row",padding:"0.3125rem",width:"auto"}},sceneItemSubchildContainer:{backgroundColor:"#EBEBEB",[n.down("sm")]:{backgroundColor:"#FFFFFF"}},sceneItemContent:{backgroundColor:"transparent",fontFamily:"Muli, SemiBold",letterSpacing:"normal",lineHeight:"normal",borderStyle:"none",padding:0,flex:1,display:"flex",flexDirection:"column",alignItems:"stretch",[n.down("sm")]:{flex:6,WebkitTapHighlightColor:"transparent","&:focus":{boxShadow:"none"}}},stackButton:{backgroundColor:m.primary.main,fontFamily:"Muli, SemiBold",color:"#FFFFFF",borderRadius:"0.25rem",textTransform:"none",width:"45%",alignSelf:"flex-end",borderStyle:"none",fontSize:"0.78rem",letterSpacing:"normal",padding:"0.1225rem 0.375rem",marginRight:"0.375rem",marginBottom:"0.375rem",minHeight:"1.5rem",[n.down("sm")]:{width:"auto",backgroundColor:"transparent",margin:0,flex:1,alignSelf:"center"}},stackButtonExpanded:{backgroundColor:"transparent",color:m.primary.main,borderStyle:"solid",borderColor:m.primary.main,[n.down("sm")]:{borderStyle:"none",color:"#223139"}},subSceneLabel:{alignSelf:"flex-end",fontSize:"0.78rem",marginRight:"0.375rem",marginBottom:"0.375rem",[n.down("sm")]:{flex:1,margin:0,padding:"0.375rem",textAlign:"center",alignSelf:"center"}},sceneNumber:{fontSize:"1rem",color:"#303e46",fontFamily:"Muli, SemiBold"},sceneTextMobile:{color:"#303e46"},dropdownArrow:{fill:m.primary.main},dropdownContainer:{display:"flex",flexDirection:"row",alignItems:"center"},indent:{[n.down("sm")]:{marginLeft:"1.5rem"}}});class G extends f.Component{constructor(n){super(n),this.handleHoverOnCard=(s,u,O)=>{const{updateHoveredItemId:N}=this.props;N(s==="enter"?`scene-${u}`:""),(0,ue.Z)({category:"map",action:"hover-on-homepage-map-menu-scene-card",label:O})},this.slider=f.createRef(),this.state={canClick:!0,clickTime:0,isSceneListMoving:!1,highlightedItemId:0,isNearestSceneHighlighted:!1},this.wheelEvent=this.wheelEvent.bind(this)}componentDidMount(){const{startingSceneIndex:n,isStartingSelfGuidedTour:s,currentTour:u}=this.props,O=document.getElementsByClassName("slick-list")[0];if(O){let N=!1,oe,de=0,q=!1;O.addEventListener("wheel",w()(this.wheelEvent,500,{leading:!0,trailing:!1})),O.addEventListener("mousedown",ne=>{N=!0,oe=ne.pageX-O.offsetLeft}),O.addEventListener("mouseleave",,O.addEventListener("mousemove",ne=>{if(!N)return;ne.preventDefault(),de=ne.pageX-O.offsetLeft-oe,q=Math.abs(de)>=5})}if(s&&n!==void 0&&n>=0){const N=u==null?void 0:u.sceneIds[n];N&&this.setState({highlightedItemId:N})}}componentDidUpdate(n,s){const{startingSceneIndex:u,isStartingSelfGuidedTour:O,currentTour:N,updateStartingSceneIndex:oe,standaloneMapPanelStatus:de,nearestSceneIndex:q}=this.props;if(O&&n.nearestSceneIndex!==q&&q!==void 0&&q>=0){const ne=N==null?void 0:N.sceneIds[q];this.setState({isNearestSceneHighlighted:!0,highlightedItemId:ne}),oe&&oe(q)}if(O&&n.startingSceneIndex!==u&&u!==void 0&&u>=0){if(this.clickedSceneItemIndex===-1){const ne=N==null?void 0:N.sceneIds[u];this.setState({highlightedItemId:ne})}this.clickedSceneItemIndex=-1}this.clickedSceneItemIndex>=0&&n.standaloneMapPanelStatus==="expand"&&de==="stay"&&setTimeout(()=>{oe&&oe(this.clickedSceneItemIndex)},450)}componentWillUnmount(){const n=document.getElementsByClassName("slick-list")[0];n&&n.removeEventListener("wheel",w()(this.wheelEvent,1500,{leading:!0,trailing:!1}))}wheelEvent(n){n.preventDefault();const s=Math.sign(n.deltaY),u=Math.sign(n.deltaX);this.slider&&typeof this.slider.slickNext=="function"&&(s===1||u===1?this.slider.slickNext():(s===-1||u===-1)&&this.slider.slickPrev())}generateScenes(n){const{scenes:s,tour:u,currentSceneSlug:O,setUniversalMenuOpenState:N,usesGrid:oe,findFirstTourBySceneId:de,siteName:q,classes:ne,toggleStackOnScene:ie,bidi:pe,isSecondRow:Se,currentTour:Ie,isCurrentSceneCardFade:Le,setSceneClickedFromAllTab:Pe,isCalledFromAllTab:Ce,tourProgressionMode:Te,setTourProgressionMode:i,isStandaloneMapMode:T,isMapExpanded:Z,updateMapExpandState:ee,isCalledFromSideMenuCard:_e,location:{search:re},navigate:S,isCalledFromSelfGuide:E,isStartingSelfGuidedTour:C,nearestSceneIndex:x,updateStandaloneMapPanelStatus:ce,standaloneMapPanelStatus:ge,updateStartingSceneIndex:xe}=this.props,{highlightedItemId:be,isNearestSceneHighlighted:Fe}=this.state;if((0,b.yJ)("md",n)&&oe)return s.map(fe=>{const Me=F({},fe);Me.tourSlug=u&&u.slug;const we=u||de(Me.id);return f.createElement(se.Z,{key:Me.id,cols:1,classes:{tile:ne.tile}},f.createElement(ve.a,{isBlurred:Le&&O===fe.slug,onMouseEnter:()=>T&&this.handleHoverOnCard("enter",Me.id,Me.title),onMouseLeave:()=>T&&this.handleHoverOnCard("leave",Me.id),onClick:()=>{const{canClick:Ze}=this.state;Ze&&(Ce&&(Pe&&Pe(!0),(0,ue.Z)({category:"all-content",action:"tour-enter",label:we.slug})),_e&&(0,ue.Z)({category:"map",action:"tour-enter-from-homepage-map-menu-card",label:we.slug}),N(!1),S(re?`/${q}/${we.slug}/${Me.slug}/${re}`:`/${q}/${we.slug}/${Me.slug}`),Te==="seeking"&&i("sequential"),T&&(this.handleHoverOnCard("leave",Me.id),Z&&ee()))},className:"current-tour__container__content__scene-item",isSecondRow:Se,title:Me.title,isCurrent:O===Me.slug&&Me.tourSlug===(Ie==null?void 0:Ie.slug),imgUrl:Me.thumbnailUrl,visited:Me.visitedStatus===B.uj.VISITED,bidi:pe,sceneType:Me.type}))});const De=[];let Be,Ne;const je=new Map;s.map(fe=>(fe.subSceneIDs.map(Me=>{const we=s.find(Ze=>Ze.id===Me);return we&&je.set(Me,we),!0}),!0));const Re=({scene:fe,subSceneParams:Me,index:we})=>{const Ze=u||de(fe.id);let Ae=ne.sceneItemContainer;Me&&(Ae=I()(Ae,ne.sceneItemSubchildContainer,ne.indent));const We=(()=>(fe.subSceneIDs.map(He=>{const Ke=je.get(He);return!(!Ke||Ke.visitedStatus!==B.uj.VISITED)}),!0))(),Ue=({isNearestScene:He,isWithOutline:Ke=be===fe.id,isNumberedBubbleIcon:Je,isCurrent:ke})=>{var Ge;return f.createElement("div",{className:Ae,key:fe.id,id:"scene-item-container",style:Ke?{outline:"2.5px solid #6666FF"}:{}},E&&f.createElement("div",{className:"numbered-bubble"},Je?((Ge=Ie==null?void 0:Ie.sceneIds)==null?void 0:Ge.indexOf(fe.id))+1:f.createElement(j.Z,{fontSize:"small",className:"start-icon"})),f.createElement(ve.a,{key:fe.id,isBlurred:Le&&O===fe.slug,onMouseDown:onMouseUp:()=>{var $e;const{canClick:Xe,clickTime:Ye,isSceneListMoving:Qe}=this.state;if(Xe&&!Qe&&Date.now()-Ye<=250){if(E&&C){const Ve=($e=Ie==null?void 0:Ie.sceneIds)==null?void 0:$e.indexOf(fe.id);this.clickedSceneItemIndex=Ve,this.setState({highlightedItemId:fe.id,isNearestSceneHighlighted:Ve!==0&&He}),ge==="expand"?ce("stay"):xe&&xe(Ve);return}Ce&&Pe&&Pe(!0),_e&&(0,ue.Z)({category:"map",action:"tour-enter-from-homepage-map-menu-card",label:Ze.slug}),N(!1),T&&Z&&ee(),S(`/${q}/${Ze.slug}/${fe.slug}`),Te==="seeking"&&i("sequential")}},onKeyDown:$e=>{($e.key==="Enter"||$e.key===" ")&&(N(!1),T&&Z&&ee(),S(`/${q}/${Ze.slug}/${fe.slug}`))},className:ne.sceneItemContent,isSecondRow:Se,title:fe.title,isCurrent:ke===void 0?O===fe.slug&&fe.tourSlug===(Ie==null?void 0:Ie.slug):ke,imgUrl:fe.thumbnailUrl,visited:fe.visitedStatus===B.uj.VISITED&&We&&(E?!C:!0),bidi:pe,sceneType:fe.type,isNearestScene:He}),Me&&f.createElement("span",{className:ne.subSceneLabel},`${Me.index} of ${Me.parentStackSize}`),!fe.isExpanded&&fe.subSceneIDs.length>0&&f.createElement("button",{type:"button",className:ne.stackButton,onClick:()=>ie(fe)},(()=>(0,b.yJ)("sm",n)?f.createElement("span",null,`${fe.subSceneIDs.length+1}`):f.createElement("div",{className:ne.dropdownContainer},f.createElement("div",{style:{display:"flex",flexDirection:"column"}},f.createElement("span",{className:ne.sceneNumber},fe.subSceneIDs.length),f.createElement("span",{className:ne.sceneTextMobile},"scenes")),f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},f.createElement("path",{d:"M7 10l5 5 5-5z",className:ne.dropdownArrow}))))()),fe.isExpanded&&fe.subSceneIDs.length>0&&f.createElement("button",{type:"button",className:I()(ne.stackButton,ne.stackButtonExpanded),onClick:,(()=>(0,b.yJ)("sm",n)?f.createElement("span",null,fe.isExpanded&&`1 of ${fe.subSceneIDs.length+1}`):f.createElement("div",{className:ne.dropdownContainer},f.createElement("span",{style:{width:"100%"}},fe.isExpanded&&`1 of ${fe.subSceneIDs.length}`),f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},f.createElement("path",{d:"M7 14l5-5 5 5z",className:ne.dropdownArrow}))))()))};let ze=Ue({isNearestScene:!1,isNumberedBubbleIcon:!0});x!==void 0&&(Ne=Ie==null?void 0:Ie.sceneIds[x]),Ne!==void 0&&Ne===fe.id&&C&&(we===0&&(Be=null,ze=Ue({isNearestScene:!0,isNumberedBubbleIcon:!0})),we!==0&&(Be=f.createElement(f.Fragment,null,Ue({isNearestScene:!0,isWithOutline:be===fe.id&&Fe,isNumberedBubbleIcon:!1,isCurrent:!1}),f.createElement(J.Z,{variant:"fullWidth",style:{marginTop:"1.2rem",marginBottom:"1.2rem",height:"0.05rem",boxShadow:"0 0 1px 0 rgb(0 0 0 / 25%)"}})),ze=Ue({isNearestScene:!1,isWithOutline:be===fe.id&&!Fe,isNumberedBubbleIcon:!0,isCurrent:!1}))),De.push(ze)};return s.map((fe,Me)=>{if(je.has(fe.id))return null;const we=F({},fe);return we.tourSlug=u&&u.slug,Re({scene:we,index:Me}),fe.isExpanded&&fe.subSceneIDs.forEach((Ze,Ae)=>{Re({scene:je.get(Ze),subSceneParams:{index:Ae+2,parentStackSize:fe.subSceneIDs.length+1},index:Ae})}),null}),Be&&De.unshift(Be),De}render(){const{usesGrid:n,currentSceneSlug:s,width:u,classes:O,isCalledFromIndexPage:N,isCalledFromSideMenuCard:oe}=this.props,de=n||!1,{scenes:q,bidi:ne}=this.props;let ie=4;(0,b.yJ)("lg",u)&&(ie=5),(0,b.yJ)("xl",u)&&(ie=7);const pe=Math.max(0,ie-q.length),Se=ie+1;ie+=1;const Ie=new Array(pe);function Le(){return[...Ie.keys()].map(()=>f.createElement("div",{key:ie+1}))}function Pe(){if(s){const Ce=q.findIndex(;if(ne){let T=0,Z=q.length-1;const ee=Se;for(;Ce<=Z;)Z-=ee,T++;return q.length-1-(T-1)*ee}let Te=0,i=Se-1;for(;Ce>i;)i+=Se,Te++;return Te*Se}return 0}return f.createElement("div",{className:"current-tour__container__content",style:N&&oe?{padding:0}:{}},(()=>{if((0,b.yJ)("md",u)&&!de)return f.createElement(Y.Z,{afterChange:()=>{this.setState({canClick:!0}),this.setState({isSceneListMoving:!1})},beforeChange:touchThreshold:100,rtl:ne,infinite:!1,initialSlide:Pe(),dots:!0,arrows:!1,variableWidth:!1,swipeToSlide:!1,slidesToScroll:Se,slidesToShow:ie,ref:speed:300},this.generateScenes(u),Le());if((0,b.yJ)("md",u)&&de){const Ce=document.documentElement.clientWidth;let Te;return N?(Ce>=1680?Te=6:Ce>=1400?Te=5:Ce>=1220?Te=4:Ce>=1012&&(Te=3),oe&&(Ce>=1024?Te=2:Te=1)):Te=(0,b.yJ)("lg",u)?6:4,f.createElement(R.Z,{style:{direction:ne?"rtl":"ltr"},rowHeight:"auto",cols:Te,gap:16,classes:{root:O.root}},this.generateScenes(u))}return f.createElement("div",{className:"current-tour__container__content"},this.generateScenes(u))})())}}te([K.ZP],G.prototype,"generateScenes",1);const A=(0,b.ZP)()((0,z.Z)(me)((0,W.Z)(G))),{toggleStackOnScene:y,setSceneClickedFromAllTab:U}=c.sceneActions,{updateSelectedLabelsListInCurrentTour:h}=M.labelActions,{setUniversalMenuOpenState:D}=_.universalMenuActions,{setTourProgressionMode:P}=g.finishedTourActions,{updateHoveredItemId:L,updateMapExpandState:r,updateStandaloneMapPanelStatus:v}=le.mapActions,H=m=>(0,a.DE)({setUniversalMenuOpenState:D,toggleStackOnScene:y,setSceneClickedFromAllTab:U,updateSelectedLabelsListInCurrentTour:h,setTourProgressionMode:P,updateHoveredItemId:L,updateMapExpandState:r,updateStandaloneMapPanelStatus:v},m),V=m=>{const n=(0,$.toursSelector)(m);return{siteName:(0,$.siteNameSelector)(m),findFirstTourBySceneId:O=>n.find(N=>new Set(N.sceneIds).has(O)&&!N.is_hidden_from_universal_menu)||null,currentTour:(0,$.tourSelector)(m),currentSceneSlug:(0,$.currentSceneSelector)(m)?(0,$.currentSceneSelector)(m).slug:null,bidi:(0,$.currentLanguageSelector)(m).bidi,tourProgressionMode:(0,$.tourProgressionModeSelector)(m),isStandaloneMapMode:(0,$.isStandaloneMapModeSelector)(m),isMapExpanded:(0,$.isMapExpandedSelector)(m),standaloneMapPanelStatus:(0,$.standaloneMapPanelStatusSelector)(m)}},d=(0,e.$j)(V,H)(A)},77120:(Oe,ae,t)=>{t.d(ae,{a:()=>b});var e=t(67294),a=t(58884),_=t(61035),$=t(92015),c=t(94184),M=t.n(c),g=t(78001),le=t(88328),f=t(89369),ue=t(48138);const Y=({breakpoints:j})=>(0,_.Z)({sceneItemTextContainer:{minHeight:"4rem",paddingTop:"0.5rem",display:"flex",paddingLeft:"1rem",paddingRight:"1rem",flexDirection:"column",alignSelf:"inherit",flex:1,[j.down("sm")]:{minHeight:"0rem",paddingTop:0,display:"flex",flexDirection:"column",alignSelf:"center",flex:5}}});class K extends e.Component{constructor(Q){super(Q),this.updateIsHoveringOnIcon=se=>{const{width:J}=this.props;this.isHoverOnIcon=se,(0,a.Vf)("sm",J)&&this.setState({isHoveringOnSceneTypeIcon:se})},this.textContainerRef=e.createRef(),this.sceneItemContainerRef=e.createRef(),this.state={isHoveringOnText:!1,isTextOverflowing:!1,isHoveringOnSceneTypeIcon:!1},this.isHoverOnIcon=!1}componentDidMount(){this.textContainerRef.current&&this.textContainerRef.current.scrollHeight>this.textContainerRef.current.offsetHeight+2&&window.innerWidth>800&&this.setState({isTextOverflowing:!0})}render(){const{title:Q,imgUrl:se,isCurrent:J,visited:R,classes:z,bidi:W,width:k,isCalledFromFinishedTour:w,className:l,onClick:I,onMouseDown:B,onMouseUp:ve,onKeyDown:Ee,onMouseEnter:ye,onMouseLeave:he,isBlurred:X,sceneType:o,isNearestScene:p}=this.props,{isHoveringOnText:F,isTextOverflowing:te,isHoveringOnSceneTypeIcon:me}=this.state,G=(0,a.yJ)("lg",k)?"long":"short",A=(0,a.yJ)("lg",k)?"large":"small",y=this.sceneItemContainerRef&&this.sceneItemContainerRef.current&&this.sceneItemContainerRef.current.offsetHeight;return e.createElement(e.Fragment,null,e.createElement("button",{style:X?{opacity:.5}:{},type:"button",onMouseDown:B,onMouseUp:ve,onKeyDown:Ee,className:l,onClick:I,onMouseEnter:()=>{setTimeout(()=>{te&&!this.isHoverOnIcon&&this.setState({isHoveringOnText:!0})},300),ye&&ye()},onMouseLeave:()=>{te&&this.setState({isHoveringOnText:!1}),he&&he()},onFocus:()=>te&&this.setState({isHoveringOnText:!0}),onBlur:()=>te&&this.setState({isHoveringOnText:!1})},e.createElement("div",{className:"scene-item__container",style:{height:y},ref:this.sceneItemContainerRef},e.createElement("div",{className:"scene-item__container__box"},e.createElement("div",{className:"scene-item__container__img-box",style:{backgroundImage:`url('${se}')`}},J&&e.createElement(le.u,{size:G,svgSize:"small"}),R&&!J&&e.createElement(f.N,{size:A}),(0,a.yJ)("md",k)&&e.createElement(ue.Z,{type:o,updateIsHoveringOnIcon:this.updateIsHoveringOnIcon}))),e.createElement("div",{className:M()(z.sceneItemTextContainer,F&&te?`scene-item__container__text-expanding${w?"-FT":""}`:"scene-item__container__text-collapsing"),style:Object.assign((0,a.Vf)("sm",k)?{overflow:"hidden",paddingRight:"1.7rem"}:{},F&&te?{height:this.textContainerRef.current&&this.textContainerRef.current.scrollHeight,overflow:"hidden"}:{}),ref:this.textContainerRef},p?e.createElement("p",{className:"scene-item__container__nearest-to-you"},g.Z.t("nearest-to-you")):null,e.createElement("p",{className:"scene-item__container__title",style:{direction:W?"rtl":"ltr"}},Q),te&&e.createElement("div",{className:"scene-item__container__placeholder",style:w?{bottom:0,height:"1.6rem",opacity:F?0:1}:{opacity:F?0:1}}),e.createElement("div",{className:"scene-item__div"})),(0,a.Vf)("sm",k)&&me&&e.createElement("div",{className:"scene-item__container__rightside-fade"}))),(0,a.Vf)("sm",k)&&e.createElement(ue.Z,{type:o,updateIsHoveringOnIcon:this.updateIsHoveringOnIcon}))}}const b=(0,a.ZP)()((0,$.Z)(Y)(K))},27050:(Oe,ae,t)=>{t.d(ae,{B:()=>l,t:()=>I.Z});var e=t(86706),a=t(30155),_=t(97779),$=t(2626),c=t(96996),M=t(58884),g=t(73188),le=t(99535),f=t(78023),ue=t(6969);const{scenesSelector:Y,tourSelector:K}=a.wl,{updateSelectedLabelsList:b,updateSelectedLabelsListInCurrentTour:j,setLabelsPanelOpenState:Q}=g.labelActions,{setScenesWithSelectedLabels:se,setSceneClickedFromAllTab:J,updateScenesListInCurrentTour:R}=le.sceneActions,{setUniversalMenuOpenState:z,setCurrentUniversalMenu:W}=$.universalMenuActions,k=B=>(0,_.DE)({setUniversalMenuOpenState:z,setCurrentUniversalMenu:W,updateSelectedLabelsList:b,setScenesWithSelectedLabels:se,setSceneClickedFromAllTab:J,updateSelectedLabelsListInCurrentTour:j,updateScenesListInCurrentTour:R,setLabelsPanelOpenState:Q},B),w=B=>{var ve;const Ee=B.scenes&&B.scenes.map(,ye=K(B),he=[],X=Object.assign({},(0,c.currentSceneSelector)(B));if(X&&!X.labels){const o=Ee.indexOf(X.id);o>=0&&(X.labels=B.scenes[o].labels)}return ye&&ye.sceneIds&&ye.sceneIds.forEach(o=>{let p=Y(B).find(;if(p&&Ee.indexOf(p.id)>=0){const F=Ee.indexOf(p.id);p.labels||(p=Object.assign({},p,{labels:B.scenes[F].labels})),he.push(p)}}),{brandColor:(ve=(0,c.brandSelector)(B))==null?void 0:ve.color,isLabelsPanelOpen:(0,c.isLabelsPanelOpenSelector)(B),isSceneClickedFromAllTab:(0,c.isSceneClickedFromAllTabSelector)(B),labels:(0,c.labelsSelector)(B),selectedLabels:(0,c.selectedLabelsSelector)(B),selectedLabelsInCurrentTour:(0,c.selectedLabelsInCurrentTourSelector)(B),allScenesWithSelectedLabels:B.scenes2.allScenesWithSelectedLabels,scenes:he,currentScene:X,tour:ye,currentTourSlug:K(B).slug,language:(0,c.currentLanguageSelector)(B),bidi:(0,c.currentLanguageSelector)(B).bidi,numberOfVisitedScenes:he.map(.reduce((o,p)=>o+p,0)}},l=(0,M.ZP)()((0,e.$j)(w,k)(ue.Z));var I=t(29707)},23033:(Oe,ae,t)=>{t.d(ae,{KM:()=>M,ZP:()=>_,_t:()=>c,sz:()=>$});var e=t(67294);const _=({isForInfo:g,fillColor:le,backgroundColor:f})=>e.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",fill:g?"#fafafa":"none"},e.createElement("path",{d:"M0 0h24v24H0V0z",fill:f||"none"}),e.createElement("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42zM13 20.01L4 11V4h7v-.01l9 9-7 7.02z",fill:le||"#fff"}),e.createElement("circle",{cx:"6.5",cy:"6.5",r:"1.5",fill:le||"#fff"})),$=c=()=>e.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 20 20",strokeWidth:"0.05px"},e.createElement("g",{viewBox:"0 0 24 24",width:"24px",height:"24px"},e.createElement("g",{transform:"translate(-572.000000, -717.000000)",fill:"#525252"},e.createElement("g",{transform:"translate(550.000000, 691.000000)"},e.createElement("g",{id:"place-24px-(2)",transform:"translate(18.000000, 24.000000)"},e.createElement("path",{fill:"#525252",d:"M12,2 C16.2,2 20,5.22 20,10.2 C20,13.52 17.33,17.45 12,22 C6.67,17.45 4,13.52 4,10.2 C4,5.22 7.8,2 12,2 Z M18,10.2 C18,6.57 15.35,4 12,4 C8.65,4 6,6.57 6,10.2 C6,12.54 7.95,15.64 12,19.34 C16.05,15.64 18,12.54 18,10.2 Z M12,12 C10.9,12 10,11.1 10,10 C10,8.9 10.9,8 12,8 C13.1,8 14,8.9 14,10 C14,11.1 13.1,12 12,12 Z"})))))),M=()=>e.createElement("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},e.createElement("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),e.createElement("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"}))},88328:(Oe,ae,t)=>{t.d(ae,{u:()=>G});var e=t(67294),a=t(61035),_=t(92015),$=t(58884),c=t(74751),M=t(93338),g=t(73293),le=t(78001);const f=A=>(0,a.Z)({root:{color:A.palette.text.primary,fontWeight:500,whiteSpace:"nowrap"}});class ue extends e.Component{render(){const{classes:y}=this.props;return e.createElement("span",{className:y.root},le.Z.t("you-are-here"))}}const Y=(0,_.Z)(f)(ue);var K=Object.defineProperty,b=Object.defineProperties,j=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,se=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,R=(A,y,U)=>y in A?K(A,y,{enumerable:!0,configurable:!0,writable:!0,value:U}):A[y]=U,z=(A,y)=>{for(var U in y||(y={}))se.call(y,U)&&R(A,U,y[U]);if(Q)for(var U of Q(y))J.call(y,U)&&R(A,U,y[U]);return A},W=(A,y)=>b(A,j(y));const k=A=>{const y=`${A.spacing(.14375)}rem`;return(0,a.Z)({root:W(z(z({},(0,M.M)(A).root),(0,g.f)().root),{background:"rgba(42, 110, 172, 0.75)",pointerEvents:"none"}),markerContainer:{display:"flex",direction:"ltr"},svgContainer:{padding:`${A.spacing(.0625)}rem`,backgroundColor:"#2A6EAC",borderTopLeftRadius:y,borderBottomLeftRadius:y},markerTextContainer:{display:"flex",alignItems:"center",padding:`${A.spacing(.0625)}rem`,backgroundColor:"white",borderTopRightRadius:y,borderBottomRightRadius:y,letterSpacing:"normal"}})};class w extends e.Component{render(){const{classes:y,size:U}=this.props,h=U||"large";return e.createElement("div",{className:y.root},e.createElement("div",{className:y.markerContainer},e.createElement("div",{className:y.svgContainer},e.createElement(c.s7,{fontSize:h==="small"?"1.5rem":"3rem"})),e.createElement("div",{className:y.markerTextContainer},e.createElement(Y,null))))}}const l=(0,_.Z)(k)((0,$.ZP)()(w));var I=Object.defineProperty,B=Object.defineProperties,ve=Object.getOwnPropertyDescriptors,Ee=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,X=(A,y,U)=>y in A?I(A,y,{enumerable:!0,configurable:!0,writable:!0,value:U}):A[y]=U,o=(A,y)=>{for(var U in y||(y={}))ye.call(y,U)&&X(A,U,y[U]);if(Ee)for(var U of Ee(y))he.call(y,U)&&X(A,U,y[U]);return A},p=(A,y)=>B(A,ve(y));const F=A=>(0,a.Z)({root:p(o(o({},(0,M.M)(A).root),(0,g.f)().root),{background:"rgba(42, 110, 172, 0.75)",pointerEvents:"none",width:"100.5%"}),svgContainer:{padding:`${A.spacing(.0625)}rem`}});class te extends e.Component{render(){const{classes:y,size:U}=this.props,h=U||"large";return e.createElement("div",{className:y.root},e.createElement("div",{className:y.svgContainer},e.createElement(c.s7,{fontSize:h==="small"?"1.5rem":"3rem"})))}}const me=(0,_.Z)(F)(te);class G extends e.Component{render(){const{size:y,svgSize:U}=this.props;return y==="long"?e.createElement(l,{size:U}):e.createElement(me,{size:U})}}},66029:(Oe,ae,t)=>{t.d(ae,{f:()=>se});var e=t(86706),a=t(30155),_=t(97779),$=t(67294),c=t(94184),M=t.n(c),g=t(61035),le=t(92015);const f=()=>(0,g.Z)({container:{backgroundColor:"rgba(0, 0, 0, 0.5)",flex:1,paddingRight:0,marginTop:"-0.375rem",height:"0.375rem",width:"100%",borderBottomLeftRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},progress:{height:"0.375rem",paddingRight:0,borderBottomLeftRadius:"0.25rem"}});class ue extends $.Component{render(){const{tour:R,tourProgress:z,containerClassName:W,progressClassName:k,roundedBottomRightBorderRadius:w,isFromFilteredScenesOverlay:l,classes:I}=this.props,B=z(R)*100,ve=Number(z(R))===1;return $.createElement("div",{className:M()(I.container,W),style:Object.assign({paddingRight:0},l&&{borderRadius:"3px"})},$.createElement("div",{className:M()(I.progress,k),style:Object.assign({backgroundColor:ve||l?"#3FB18E":"red",width:`${B}%`,paddingRight:0,borderBottomRightRadius:(()=>w?"0.25rem":`${ve?"0.25rem":"0rem"}`)()},l&&{borderRadius:"3px"})}))}}const Y=(0,le.Z)(f)(ue);var K=t(83393);const{scenesSelector:b}=a.wl,j=Q=J=>({tourProgress:R=>(0,K.v)(R.sceneIds.map(z=>b(J).find().filter()}),se=(0,e.$j)(Q,j)(Y)},83558:(Oe,ae,t)=>{t.d(ae,{P:()=>R});var e=t(67294),a=t(61035),_=t(92015),$=t(93338),c=t(73293),M=t(66029),g=Object.defineProperty,le=Object.defineProperties,f=Object.getOwnPropertyDescriptors,ue=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,b=(z,W,k)=>W in z?g(z,W,{enumerable:!0,configurable:!0,writable:!0,value:k}):z[W]=k,j=(z,W)=>{for(var k in W||(W={}))Y.call(W,k)&&b(z,k,W[k]);if(ue)for(var k of ue(W))K.call(W,k)&&b(z,k,W[k]);return z},Q=(z,W)=>le(z,f(W));const se=z=>(0,a.Z)({root:Q(j(j({},(0,$.M)(z).root),(0,c.f)().root),{zIndex:100})});class J extends e.Component{render(){const{classes:W,tour:k,isFromFilteredScenesOverlay:w}=this.props;return e.createElement("div",{className:W.root},e.createElement(M.f,{tour:k,isFromFilteredScenesOverlay:w}))}}const R=(0,_.Z)(se)(J)},48138:(Oe,ae,t)=>{t.d(ae,{Z:()=>K});var e=t(67294),a=t(78001),_=t(58884),$=t(59359),c=t(34759),M=t(2404);const g=()=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e.createElement("path",{style:{transform:"scale(0.032)",transformOrigin:"21% 26%"},d:"M160 32c-35.3 0-64 28.7-64 64V320c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H160zM396 138.7l96 144c4.9 7.4 5.4 16.8 1.2 24.6S480.9 320 472 320H328 280 200c-9.2 0-17.6-5.3-21.6-13.6s-2.9-18.2 2.9-25.4l64-80c4.6-5.7 11.4-9 18.7-9s14.2 3.3 18.7 9l17.3 21.6 56-84C360.5 132 368 128 376 128s15.5 4 20 10.7zM192 128a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM48 120c0-13.3-10.7-24-24-24S0 106.7 0 120V344c0 75.1 60.9 136 136 136H456c13.3 0 24-10.7 24-24s-10.7-24-24-24H136c-48.6 0-88-39.4-88-88V120z"})),le=(0,e.memo)(g),f=()=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e.createElement("path",{style:{transform:"scale(0.035)",transformOrigin:"22% 22%"},d:"M258.8 50.7c-1.8-.7-3.8-.7-5.7 0L63.6 122.6 256 198.2l192.4-75.6L258.8 50.7zM48 377.9c0 3.3 2.1 6.3 5.2 7.5L232 453.2V240.4L48 168.1V377.9zm232 75.3l178.8-67.8c3.1-1.2 5.2-4.2 5.2-7.5V168.1L280 240.4V453.2zM236.1 5.9c12.8-4.9 26.9-4.9 39.7 0l200 75.9C497.6 90 512 110.8 512 134.1V377.9c0 23.3-14.4 44.1-36.1 52.4l-200 75.9c-12.8 4.9-26.9 4.9-39.7 0l-200-75.9C14.4 422 0 401.2 0 377.9V134.1C0 110.8 14.4 90 36.1 81.7l200-75.9z"})),ue=(0,e.memo)(f),Y=({type:b,width:j,updateIsHoveringOnIcon:Q,isStandaloneMapMode:se})=>{const[J,R]=(0,e.useState)(!1);let z;const W=Ee=>{Ee.stopPropagation(),R(!J),Q&&Q(!J)},k={"place.LocationPage":{label:"360-scene",icon:e.createElement(M.Z,null)},"place.GalleryPage":{label:"gallery-scene",icon:e.createElement(le,null)},"place.MatterportEmbedPage":{label:"Matterport",icon:e.createElement(ue,null)},audio:{label:"audio",icon:e.createElement(c.Z,null)}};(0,e.useEffect)(()=>{J&&((0,_.Vf)("sm",j)||$.Em)&&(z=setTimeout(2e3))},[J]),(0,e.useEffect)([]);let w="2rem",l="none",I,B;(0,_.Vf)("sm",j)&&(w="1.8rem",se&&(l="scale(0.8)",I=4,B="0.2rem"));const ve={width:J?"5.2rem":w,right:I,bottom:B,transform:l,transformOrigin:"right center"};return e.createElement("div",{className:`type-icon ${J?"type-icon__hover":""}`,onMouseEnter:()=>{"ontouchstart"in window||(Q&&Q(!0),R(!0))},onMouseLeave:()=>{"ontouchstart"in window||(Q&&Q(!1),R(!1))},onFocus:onClick:W,style:b==="audio"?ve:{}},e.createElement("div",{className:"type-icon__container",style:b==="audio"?{width:"5.2rem",paddingLeft:"0.343rem"}:{}},k[b].icon,e.createElement("p",null,a.Z.t(k[b].label))))},K=(0,e.memo)((0,_.ZP)()(Y))},2404:(Oe,ae,t)=>{t.d(ae,{Z:()=>$});var e=t(58884),a=t(67294);const _=({width:c,style:M})=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 122.88 65.79",style:Object.assign({},{transform:(0,e.yJ)("md",c)?"scale(0.75)":"scale(0.65)",transformOrigin:"45% 60%"},M)},a.createElement("g",null,a.createElement("path",{style:{fillRule:"evenodd",clipRule:"evenodd"},d:"M13.37,31.32c-22.23,12.2,37.65,19.61,51.14,19.49v-7.44l11.21,11.2L64.51,65.79v-6.97 C37.4,59.85-26.41,42.4,11.97,27.92c0.36,1.13,0.8,2.2,1.3,3.2L13.37,31.32L13.37,31.32z M108.36,8.31c0-2.61,0.47-4.44,1.41-5.48 c0.94-1.04,2.37-1.56,4.3-1.56c0.92,0,1.69,0.12,2.28,0.34c0.59,0.23,1.08,0.52,1.45,0.89c0.38,0.36,0.67,0.75,0.89,1.15 c0.22,0.4,0.39,0.87,0.52,1.41c0.26,1.02,0.38,2.09,0.38,3.21c0,2.49-0.42,4.32-1.27,5.47c-0.84,1.15-2.29,1.73-4.36,1.73 c-1.15,0-2.09-0.19-2.8-0.55c-0.71-0.37-1.3-0.91-1.75-1.62c-0.33-0.51-0.59-1.2-0.77-2.07C108.45,10.34,108.36,9.38,108.36,8.31 L108.36,8.31z M26.47,10.49l-9-1.6c0.75-2.86,2.18-5.06,4.31-6.59C23.9,0.77,26.91,0,30.8,0c4.47,0,7.69,0.83,9.69,2.5 c1.99,1.67,2.98,3.77,2.98,6.29c0,1.48-0.41,2.82-1.21,4.01c-0.81,1.2-2.02,2.25-3.65,3.15c1.32,0.33,2.34,0.71,3.03,1.15 c1.14,0.7,2.02,1.63,2.65,2.77c0.63,1.15,0.95,2.51,0.95,4.1c0,2-0.52,3.91-1.56,5.75c-1.05,1.83-2.55,3.24-4.51,4.23 c-1.96,0.99-4.54,1.48-7.74,1.48c-3.11,0-5.57-0.37-7.36-1.1c-1.8-0.73-3.28-1.8-4.44-3.22c-1.16-1.41-2.05-3.19-2.67-5.33 l9.53-1.27c0.38,1.92,0.95,3.26,1.74,4.01c0.78,0.74,1.78,1.12,3,1.12c1.27,0,2.33-0.47,3.18-1.4c0.85-0.93,1.27-2.18,1.27-3.74 c0-1.59-0.41-2.82-1.22-3.69c-0.81-0.87-1.92-1.31-3.32-1.31c-0.74,0-1.77,0.18-3.07,0.56l0.49-6.81c0.52,0.08,0.93,0.12,1.22,0.12 c1.23,0,2.26-0.4,3.08-1.19c0.82-0.79,1.24-1.72,1.24-2.81c0-1.05-0.31-1.88-0.93-2.49c-0.62-0.62-1.48-0.93-2.55-0.93 c-1.12,0-2.02,0.34-2.72,1.01C27.19,7.62,26.72,8.8,26.47,10.49L26.47,10.49z M75.15,8.27l-9.48,1.16 c-0.25-1.32-0.66-2.24-1.24-2.78c-0.59-0.54-1.31-0.81-2.16-0.81c-1.54,0-2.74,0.77-3.59,2.33c-0.62,1.13-1.09,3.52-1.38,7.19 c1.14-1.16,2.31-2.01,3.5-2.56c1.2-0.55,2.59-0.83,4.16-0.83c3.06,0,5.64,1.09,7.75,3.27c2.11,2.19,3.17,4.96,3.17,8.31 c0,2.26-0.53,4.32-1.6,6.2c-1.07,1.87-2.55,3.29-4.44,4.25c-1.9,0.96-4.27,1.44-7.13,1.44c-3.43,0-6.18-0.58-8.25-1.76 c-2.07-1.17-3.73-3.03-4.97-5.59c-1.24-2.56-1.86-5.95-1.86-10.18c0-6.18,1.3-10.71,3.91-13.59C54.13,1.44,57.74,0,62.36,0 c2.73,0,4.88,0.31,6.46,0.94c1.58,0.63,2.9,1.56,3.94,2.76C73.81,4.92,74.61,6.44,75.15,8.27L75.15,8.27z M57.62,23.55 c0,1.86,0.47,3.31,1.4,4.36c0.94,1.05,2.08,1.58,3.44,1.58c1.25,0,2.3-0.48,3.14-1.43c0.84-0.95,1.26-2.37,1.26-4.26 c0-1.93-0.44-3.41-1.31-4.42c-0.88-1.01-1.96-1.52-3.26-1.52c-1.32,0-2.44,0.49-3.34,1.48C58.06,20.32,57.62,21.72,57.62,23.55 L57.62,23.55z M77.91,17.57c0-6.51,1.17-11.07,3.52-13.67C83.77,1.3,87.35,0,92.14,0c2.31,0,4.2,0.29,5.68,0.85 c1.48,0.57,2.69,1.31,3.62,2.22c0.94,0.91,1.68,1.87,2.21,2.87c0.54,1.01,0.97,2.18,1.3,3.52c0.64,2.55,0.96,5.22,0.96,8 c0,6.22-1.05,10.76-3.16,13.64c-2.1,2.88-5.72,4.32-10.87,4.32c-2.88,0-5.21-0.46-6.99-1.38c-1.78-0.92-3.23-2.27-4.37-4.05 c-0.82-1.26-1.47-2.98-1.93-5.17C78.14,22.64,77.91,20.22,77.91,17.57L77.91,17.57z M87.34,17.59c0,4.36,0.38,7.34,1.16,8.94 c0.77,1.6,1.89,2.39,3.36,2.39c0.97,0,1.8-0.34,2.51-1.01c0.71-0.68,1.23-1.76,1.56-3.22c0.34-1.47,0.5-3.75,0.5-6.85 c0-4.55-0.38-7.6-1.16-9.18c-0.77-1.56-1.93-2.35-3.47-2.35c-1.58,0-2.71,0.8-3.42,2.39C87.69,10.31,87.34,13.27,87.34,17.59 L87.34,17.59z M112.14,8.32c0,1.75,0.15,2.94,0.46,3.58c0.31,0.64,0.76,0.96,1.35,0.96c0.39,0,0.72-0.13,1.01-0.41 c0.28-0.27,0.49-0.7,0.63-1.29c0.13-0.59,0.2-1.5,0.2-2.74c0-1.82-0.15-3.05-0.46-3.68c-0.31-0.63-0.77-0.94-1.39-0.94 c-0.63,0-1.09,0.32-1.37,0.96C112.28,5.4,112.14,6.59,112.14,8.32L112.14,8.32z M109.3,30.23c10.56,5.37,8.04,12.99-10.66,17.62 c-5.3,1.31-11.29,2.5-17.86,2.99v6.05c7.31-0.51,14.11-2.19,20.06-3.63c28.12-6.81,27.14-18.97,9.36-25.83 C109.95,28.42,109.65,29.35,109.3,30.23L109.3,30.23z"}))),$=(0,e.ZP)()((0,a.memo)(_))},93338:(Oe,ae,t)=>{t.d(ae,{M:()=>a});var e=t(61035);const a=_=>(0,e.Z)({root:{borderRadius:`${_.spacing(.03125)}rem`,padding:0}})},73293:(Oe,ae,t)=>{t.d(ae,{f:()=>a});var e=t(61035);const a=()=>(0,e.Z)({root:{display:"flex",position:"absolute",alignItems:"center",justifyContent:"center",top:"50%",left:"50%",width:"100%",height:"100%",transform:"translate(-50%, -50%)"}})},83393:(Oe,ae,t)=>{t.d(ae,{v:()=>a});var e=t(78023);function a(_){return _.map(c=>c&&c.visitedStatus===e.uj.VISITED?1:0).reduce(0)/_.length}},19461:(Oe,ae,t)=>{t.d(ae,{Z:()=>_});var e=t(67294);const _=()=>e.createElement("svg",{style:{height:"20px",width:"26px"}},e.createElement("path",{d:"M14.991 6L9 11.991l6 6",stroke:"#525252",strokeWidth:2.5,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"}))},17907:(Oe,ae,t)=>{t.d(ae,{Z:()=>_});var e=t(67294);const _=()=>e.createElement("svg",{style:{height:"20px",width:"22px"}},e.createElement("path",{d:"M9.009 6L15 11.991l-6 6",stroke:"#525252",strokeWidth:2.5,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"}))},28143:(Oe,ae,t)=>{t.d(ae,{Z:()=>c});var e=t(67294),a=t(78001),_=t(64002);const c=({iconColor:M})=>{const g=M==="light"?"#fff":"#515252";return e.createElement(_.Nq,{title:a.Z.t("open-tutorial")},e.createElement("g",{strokeWidth:0,fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff"},e.createElement("path",{d:"M0 0h24v24H0V0z",style:{fill:"none"}}),e.createElement("path",{style:{fill:g},d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"})))}},12011:(Oe,ae,t)=>{t.d(ae,{Z:()=>$});var e=t(67294),a=t(64002);const $=c=>{const{title:M}=c;return e.createElement(a.Nq,{title:M},e.createElement("g",null,e.createElement("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"})))}},16079:(Oe,ae,t)=>{t.d(ae,{Z:()=>$});var e=t(67294),a=t(64002);const $=c=>{const{title:M,iconColor:g}=c;let le="";return g==="light"?le="#fff":g==="dark"?le="#515252":le="#000",e.createElement(a.Nq,{title:M,iconColor:g},e.createElement("g",{strokeWidth:0,fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff"},e.createElement("path",{style:{fill:le},d:"M 18 2 A 3 3 0 0 0 15 5 A 3 3 0 0 0 15.054688 5.5605469 L 7.9394531 9.7109375 A 3 3 0 0 0 6 9 A 3 3 0 0 0 3 12 A 3 3 0 0 0 6 15 A 3 3 0 0 0 7.9355469 14.287109 L 15.054688 18.439453 A 3 3 0 0 0 15 19 A 3 3 0 0 0 18 22 A 3 3 0 0 0 21 19 A 3 3 0 0 0 18 16 A 3 3 0 0 0 16.0625 16.712891 L 8.9453125 12.560547 A 3 3 0 0 0 9 12 A 3 3 0 0 0 8.9453125 11.439453 L 16.060547 7.2890625 A 3 3 0 0 0 18 8 A 3 3 0 0 0 21 5 A 3 3 0 0 0 18 2 z"})))}},74751:(Oe,ae,t)=>{t.d(ae,{uo:()=>v,s7:()=>G,zD:()=>r,ed:()=>L,oZ:()=>P,ti:()=>U,BC:()=>y,Sy:()=>D,Wd:()=>h});var e=t(67294),a=t(64002),_=Object.defineProperty,$=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,g=(d,m,n)=>m in d?_(d,m,{enumerable:!0,configurable:!0,writable:!0,value:n}):d[m]=n,le=(d,m)=>{for(var n in m||(m={}))c.call(m,n)&&g(d,n,m[n]);if($)for(var n of $(m))M.call(m,n)&&g(d,n,m[n]);return d},f=(d,m)=>{var n={};for(var s in d)c.call(d,s)&&m.indexOf(s)<0&&(n[s]=d[s]);if(d!=null&&$)for(var s of $(d))m.indexOf(s)<0&&M.call(d,s)&&(n[s]=d[s]);return n};const Y=d=>{const m=d,{title:n}=m,s=f(m,["title"]);return e.createElement(a.Nq,le({title:n},s),e.createElement("g",{fillRule:"evenodd"},e.createElement("path",{d:"M5 4h15l-3.111 5L20 14H5z",strokeWidth:0}),e.createElement("path",{d:"M5.5 3.5v18",strokeLinecap:"square"})))};var K=t(19461),b=t(17907);const Q=d=>{const{title:m}=d;return e.createElement(a.Nq,{title:m,className:"flip"},e.createElement("g",{strokeWidth:0,fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("path",{className:"svg_path",d:"M12 7C6.48 7 2 9.24 2 12c0 2.24 2.94 4.13 7 4.77V20l4-4-4-4v2.73c-3.15-.56-5-1.9-5-2.73 0-1.06 3.04-3 8-3s8 1.94 8 3c0 .73-1.46 1.89-4 2.53v2.05c3.53-.77 6-2.53 6-4.58 0-2.76-4.48-5-10-5z"})))},J=d=>{const{title:m}=d;return e.createElement(a.Nq,{title:m},e.createElement("g",{stroke:"#525252",strokeWidth:2,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("path",{d:"M15.182 5H19v3.818M15.182 19H19v-3.818M8.818 5H5v3.818M8.818 19H5v-3.818"})))},z=d=>{const{title:m}=d;return e.createElement(a.Nq,{title:m},e.createElement("g",{stroke:"#525252",strokeWidth:2,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("path",{d:"M15.182 5v3.818H19M15.182 19v-3.818H19M8.818 5v3.818H5M8.818 19v-3.818H5"})))};var W=Object.defineProperty,k=Object.defineProperties,w=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,ve=(d,m,n)=>m in d?W(d,m,{enumerable:!0,configurable:!0,writable:!0,value:n}):d[m]=n,Ee=(d,m)=>{for(var n in m||(m={}))I.call(m,n)&&ve(d,n,m[n]);if(l)for(var n of l(m))B.call(m,n)&&ve(d,n,m[n]);return d},ye=(d,m)=>k(d,w(m)),he=(d,m)=>{var n={};for(var s in d)I.call(d,s)&&m.indexOf(s)<0&&(n[s]=d[s]);if(d!=null&&l)for(var s of l(d))m.indexOf(s)<0&&B.call(d,s)&&(n[s]=d[s]);return n};const o=d=>{const m=d,{title:n}=m,s=he(m,["title"]);return e.createElement(a.Nq,ye(Ee({},s),{title:n}),e.createElement("g",{transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},e.createElement("circle",{fill:"#3FB18E",cx:11,cy:11,r:11}),e.createElement("path",{stroke:"#FFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11.5l3.041 3.041L15.5 7"})))};var p=t(12011),F=t(16079),te=t(28143);const me=null,G=d=>{const m="Current Tour",{fontSize:n}=d;return e.createElement(a.h8,{svg:Y,accessibilityText:m,style:{fill:"white",stroke:"white",fontSize:n}})},A=()=>{const d="View Locations";return React.createElement(AriaCompliantSvg,{svg:Tour,accessibilityText:d,style:{fill:"#525252",stroke:"#525252"}})},y=()=>{const d="Previous Scene";return e.createElement(a.h8,{svg:K.Z,accessibilityText:d})},U=()=>{const d="Next Scene";return e.createElement(a.h8,{svg:b.Z,accessibilityText:d})},h=()=>{const d="Toggle Rotation";return e.createElement(a.h8,{svg:Q,accessibilityText:d})},D=()=>{const d="Social media share";return e.createElement(a.h8,{svg:F.Z,accessibilityText:d})},P=()=>{const d="Open Tutorials";return e.createElement(a.h8,{svg:te.Z,accessibilityText:d})},L=()=>{const d="Fullscreen";return e.createElement(a.h8,{svg:J,accessibilityText:d})},r=()=>{const d="Exit Fullscreen";return e.createElement(a.h8,{svg:z,accessibilityText:d})},v=d=>{const m="Visited",{fontSize:n}=d;return e.createElement(a.h8,{style:{fontSize:n},svg:o,accessibilityText:m})},H=()=>{const d="Return";return React.createElement(AriaCompliantSvg,{svg:KeyboardArrowLeft,accessibilityText:d})},V=()=>{const d="Language";return React.createElement(AriaCompliantSvg,{svg:V,accessibilityText:d})}},64002:(Oe,ae,t)=>{t.d(ae,{h8:()=>Y,sZ:()=>he,pz:Nq:()=>Ee});var e=t(67294),a=t(69942),_=Object.defineProperty,$=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,g=(o,p,F)=>p in o?_(o,p,{enumerable:!0,configurable:!0,writable:!0,value:F}):o[p]=F,le=(o,p)=>{for(var F in p||(p={}))c.call(p,F)&&g(o,F,p[F]);if($)for(var F of $(p))M.call(p,F)&&g(o,F,p[F]);return o},f=(o,p)=>{var F={};for(var te in o)c.call(o,te)&&p.indexOf(te)<0&&(F[te]=o[te]);if(o!=null&&$)for(var te of $(o))p.indexOf(te)<0&&M.call(o,te)&&(F[te]=o[te]);return F};const Y=o=>{const p=o,{iconColor:F,accessibilityText:te,styles:me,svg:G}=p,A=f(p,["iconColor","accessibilityText","styles","svg"]);return e.createElement("div",{style:Object.assign({},{padding:"0px",opacity:1},me)},e.createElement(G,le({iconColor:F},A)),e.createElement(a.K,{accessibilityText:te}))};var K=Object.defineProperty,b=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,se=(o,p,F)=>p in o?K(o,p,{enumerable:!0,configurable:!0,writable:!0,value:F}):o[p]=F,J=(o,p)=>{for(var F in p||(p={}))j.call(p,F)&&se(o,F,p[F]);if(b)for(var F of b(p))Q.call(p,F)&&se(o,F,p[F]);return o},R=(o,p)=>{var F={};for(var te in o)j.call(o,te)&&p.indexOf(te)<0&&(F[te]=o[te]);if(o!=null&&b)for(var te of b(o))p.indexOf(te)<0&&Q.call(o,te)&&(F[te]=o[te]);return F};class z extends e.Component{render(){const p=this.props,{children:F,fontSize:te}=p,me=R(p,["children","fontSize"]);return e.createElement("svg",J({fontSize:te||"1.5rem",viewBox:"0 0 24 24",width:"1em",height:"1em",focusable:"false"},me),F)}}var W=Object.defineProperty,k=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,I=(o,p,F)=>p in o?W(o,p,{enumerable:!0,configurable:!0,writable:!0,value:F}):o[p]=F,B=(o,p)=>{for(var F in p||(p={}))w.call(p,F)&&I(o,F,p[F]);if(k)for(var F of k(p))l.call(p,F)&&I(o,F,p[F]);return o},ve=class Ee extends e.Component{render(){const p=this.props,{children:F,title:te,iconColor:me}=p,G=ve(p,["children","title","iconColor"]),A={color:me};return e.createElement(z,B({style:A},G),e.createElement("title",{hidden:!0},te),F)}}const he=o=>{const{title:p}=o;return e.createElement(Ee,{title:p},e.createElement("g",{stroke:"#2A6EAC",strokeWidth:2.5,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("path",{d:"M4.4 4.4l14.849 14.849M19.6 4.4L4.751 19.249"})))};var X=t(12011)},72877:(Oe,ae,t)=>{t.d(ae,{b:()=>_});var e=t(61035);const a=t(6767),_=({palette:$})=>(0,e.Z)({button:{backgroundColor:$.primary.main,borderRadius:"0.25rem",borderColor:$.primary.main,color:$.text.secondary,padding:"0.5rem 2rem","&:focus, &:hover":{boxShadow:`0 0 0 0.2rem ${a($.primary.main).alpha(.25)}`,outline:0}},buttonBase:{borderRadius:"0.25rem",padding:"0.5rem 2rem","&:focus, &:hover":{boxShadow:`0 0 0 0.2rem ${a($.primary.main).alpha(.25)}`,outline:0}}})},11412:(Oe,ae,t)=>{t.d(ae,{Z:);var e=t(67294),a=t(89250),_=Object.defineProperty,$=Object.defineProperties,c=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable,f=ue=Y=const K=t(17563),j=Q=>se=>{let J=(0,a.TH)();const R=(0,a.UO)(),z=(0,a.s0)(),{pathname:W="/",search:k="",hash:w=""}=J,l=decodeURI(W+k+w),I={url:l,path:l,params:R},B=K.parse(k);return J=Object.assign({},J,{pathname:decodeURI(W)}),e.createElement(Q,Y(ue(ue({},se),{location:J,match:I,query:B}),{navigate:z}))}}}]);
