/**
 * @file
 * Visual styles for a resizable textarea.
 */

.form-textarea-wrapper textarea {
  display: block;
  box-sizing: border-box;
  width: 100%;
  margin: 0;
}
"b",(function(){return p})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return v}));var r,o,i,a,s,c=n("VkAN"),u=n.n(c),l=n("eFc+"),d=n.n(l).a,f={ACTIVE:"ACTIVE",DORMANT:"DORMANT",FREE_TRIAL:"FREE_TRIAL"},m=d(r||(r=u()(['\n  query getUserProfileByToken($token: String!) {\n    userProfileByToken(surfaceCode: "manage-preferences-page", token: $token) {\n      regiId\n      emailAddress\n      newsletterSubscriptions {\n        productCode\n        productName\n        productIconUrl\n        latestNewsletterUrl\n        frequency\n        activationEntitlements\n        deliveryStatus\n      }\n      marketingEmailsPref\n    }\n  }\n']))),p=d(o||(o=u()(["\n  mutation optOutByToken(\n    $surfaceCode: String!\n    $productType: OptOutProductType!\n    $productCode: String!\n    $token: String!\n    $unsubscribeForm: String!\n  ) {\n    optOutByToken(\n      optOutByTokenInput: {\n        surfaceCode: $surfaceCode\n        productType: $productType\n        productCode: $productCode\n        token: $token\n        unsubscribeForm: $unsubscribeForm\n      }\n    ) {\n      success\n      unsubscribedProductType\n      unsubscribedNewsletter {\n        productCode\n        productName\n      }\n      regiId\n      emailAddress\n      newsletterSubscriptions {\n        productCode\n        productName\n        productIconUrl\n        latestNewsletterUrl\n        frequency\n        activationEntitlements\n        deliveryStatus\n      }\n      marketingEmailsPref\n    }\n  }\n"]))),b=d(i||(i=u()(["\n  mutation unsubscribeNewsletterByToken(\n    $productCode: String!\n    $token: String!\n    $unsubscribeForm: String!\n  ) {\n    unsubscribeNewsletterByToken(\n      unsubscribeNewsletterByTokenInput: {\n        nlProductCode: $productCode\n        nlUnsubscribeToken: $token\n        nlUnsubscribeForm: $unsubscribeForm\n      }\n    ) {\n      success\n      nlProductCode\n      nlProductName\n    }\n  }\n"]))),g=d(a||(a=u()(["\n  mutation optOutMarketingEmailsByToken(\n    $token: String!\n    $unsubscribeForm: String!\n  ) {\n    optOutMarketingEmailsByToken(\n      token: $token\n      unsubscribeForm: $unsubscribeForm\n    ) {\n      success\n    }\n  }\n"]))),v=d(s||(s=u()(["\n  mutation optInMarketingEmailsByToken(\n    $token: String!\n    $subscribeForm: String!\n  ) {\n    optInMarketingEmailsByToken(\n      token: $token\n      subscribeForm: $subscribeForm\n    ) {\n      success\n    }\n  }\n"])))},"6lDt":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,o,i,a=n("gcR/"),s=n.n(a),c=(n("q1tI"),n("/Efl")),u=n("Jqp9"),l=n("MShG"),d=Object(u.styled)("div",{target:"e1x29vk70"})("font-family:",l.Q.family.franklin,";font-weight:",l.Q.weight.light,";font-size:16px;line-height:22px;color:",l.O.text.primary,";margin:",l.hb[2.5]," 0;@media only screen and (min-width:640px){font-size:18px;line-height:25px;margin:28px 0;}a{color:",l.O.text.primary,";font-weight:",l.Q.weight.light,";}"),f=Object(u.styled)("div",{target:"e1x29vk71"})("display:flex;flex-flow:column nowrap;margin:",l.hb[5]," auto 0;padding:0 ",l.hb[2]," 140px;max-width:432px;@media screen and (min-width:640px){margin:60px auto auto auto;padding:0 ",l.hb[2.5]," 140px;max-width:640px;}"),m=Object(u.styled)("h2",{target:"e1x29vk72"})("color:",l.O.text.primary,";font-family:",l.Q.family.cheltenham,";font-size:30px;font-weight:",l.Q.weight.normal,";line-height:1.2em;margin:0;padding:0;letter-spacing:0.004em;@media only screen and (min-width:640px){font-size:36px;}"),p=function(){return s()(f,{},void 0,r||(r=s()(m,{"data-testid":"headline"},void 0,"We’re sorry, but we’re having a technical issue right now.")),s()(d,{},void 0,o||(o=s()("span",{},void 0,"Please try again soon, or ")),s()("a",{href:c.b.CONTACT_US_LINK,target:"_blank",rel:"noopener noreferrer"},void 0,"contact Customer Care"),i||(i=s()("span",{},void 0," for immediate assistance."))))};p.displayName="FullPageError"},GMeh:function(e,t,n){"use strict";n.r(t);var r,o=n("gcR/"),i=n.n(o),a=n("q1tI"),s=n.n(a),c=n("Kxyt"),u=n("Jqp9"),l=n("iVi/"),d=n.n(l),f=n("fTxn"),m=n("MShG"),p=n("UYFv"),b=n("pAnW"),g=n("nAah"),v=n("RGMW"),h=n("gptu"),y=n("6lDt"),w=n("+wx4"),N=n("km0v"),O=n("J4zp"),k=n.n(O),T=n("/Efl"),S=n("Oyx6"),C=n("GyuU"),x=function(){return i()(m.A,{dataTestId:"find-newsletters",listItemHeader:S.liActionTitleNewsletter,type:m.eb.action,actionTitle:S.liActionButtonNewsletter,href:T.c.SUBSCRIBE_NEWSLETTERS_PAGE_LINK,targetTab:m.db.newTab,onClick:N.k},void 0,S.liActionDescriptionNewsletter)};x.displayName="FindNewslettersListItem";var A=function(e){var t=e.emailAddress,n=i()(m.D,{level:"2",colorVariant:m.N.text.primary},void 0,i()(C.b,{},void 0,t)),o=i()(T.a,{copy:S.sectionDescriptionNewsletterEmpty,params:{emailAddressComponent:n}});return i()(m.B,{title:S.sectionTitleNewsletter,dataTestId:"empty-state",description:o},void 0,r||(r=i()(x,{})))};A.displayName="EmptyNewslettersSection";var E,j,M,I,P,F,R,U,L,B=n("gW24"),q=Object(u.styled)("div",{target:"efh47uk0"})("width:100%;display:grid;"),_=Object(u.styled)("img",{target:"efh47uk1"})("width:40px;height:40px;display:block;"),$=function(e){var t=e.newsletter,n=e.onRemoveClick,r=e.processing,o=t.productCode,a=t.productName,c=t.productIconUrl,u=t.latestNewsletterUrl,l=t.frequency,d=t.activationEntitlements.length>0;return i()(m.A,{dataTestId:"newsletter-".concat(o),listItemHeader:a,type:"information",actionTitle:S.removeNewsletterAll,startAreaIcon:i()(_,{src:c||"/fallback-image.png","aria-hidden":"true"}),onClick:function(e){Object(N.j)(e,t),n(e)},processing:r,role:"listitem",ariaLabel:a,actionAriaLabel:S.removeNewsletterAriaAll},void 0,l&&i()("span",{role:"text"},void 0,i()(m.b,{level:"3",colorVariant:m.N.text.secondary,ariaLabel:Object(S.frequencyAriaAll)({frequency:l})},void 0,l))," ",l&&u&&"|"," ",u&&i()(m.x,{colorVariant:m.N.text.primary,to:u,onClick:function(e){return Object(N.l)(e,t)},targetTab:m.db.newTab,dataTestId:"see-latest-link"},void 0,i()(m.b,{level:"3",colorVariant:m.N.text.primary},void 0,S.seeNewsletterSampleAll)),d&&s.a.createElement(s.a.Fragment,null,E||(E=i()(m.H,{space:"1.5"})),j||(j=i()(m.u,{ariaLabel:S.liNewsletterTimesSubscribersPillAria},void 0,i()(T.a,{copy:S.liNewsletterTimesSubscribersPill})))))};$.displayName="NewsletterCard";var D=function(e){var t=e.children;return i()("div",{},void 0,M||(M=i()(m.g,{level:"tertiary",ariaHidden:!0})),I||(I=i()(m.H,{space:"2"})),i()(m.b,{dataTestId:"dormant-newsletters-description",level:"2",colorVariant:m.N.text.primary},void 0,P||(P=i()(T.a,{copy:S.sectionDescriptionDormantNewsletters}))),F||(F=i()(m.H,{space:"2"})),i()(q,{"data-testid":"dormant-newsletter-list",role:"list"},void 0,t))};D.displayName="DormantNewslettersModule";var V=function(e){var t=e.emailAddress,n=e.token,r=e.unsubscribeForm,o=e.nlSubscriptions,s=e.updateNlSubscriptions,u=Object(c.useMutation)(w.e),l=k()(u,2),d=l[0],p=l[1],b=p.loading,v=p.error,h=p.data,y=Object(a.useState)(""),N=k()(y,2),O=N[0],A=N[1],E=Object(a.useContext)(f.d),j=i()(m.D,{level:"2",colorVariant:m.N.text.primary},void 0,i()(C.b,{},void 0,t)),M=i()(T.a,{copy:S.sectionDescriptionNewsletter,params:{emailAddressComponent:j}});Object(a.useEffect)((function(){if(v)if(v.networkError)E.displayNotification(R||(R=i()("span",{},void 0,i()(T.a,{copy:S.messageErrorNewsletterRemoval}))),{dataTestId:"nl-networking-error"});else{var e=k()(v.graphQLErrors,1)[0];"token_invalid"===(void 0===e?{message:"unknown_error"}:e).message?Object(g.b)():E.displayNotification(U||(U=i()("span",{},void 0,i()(T.a,{copy:S.messageErrorNewsletterRemoval}))),{dataTestId:"nl-technical-error"})}}),[v]),Object(a.useEffect)((function(){if(h){var e=h.unsubscribeNewsletterByToken,t=e.nlProductCode,n=void 0===t?"":t,r=e.nlProductName,o=void 0===r?"":r;return s(n||O),function(e,t){e.displayNotification(i()("span",{},void 0,i()(T.a,{copy:S.messageSuccessNewsletterRemoval,params:{productName:t}})),{dataTestId:"nl-unsubscribe-confirmation"})}(E,o),function(){}}return function(){}}),[h]);var I=function(e,t){return e.filter((function(e){return t.includes(e.deliveryStatus)}))},P=o.sort((function(e,t){return t.activationEntitlements.length-e.activationEntitlements.length||e.productName.localeCompare(t.productName)})),F=I(P,[B.b]),_=I(P,[B.a,B.c]),V=F.length>0,Y=function(e){return e.map((function(e,t){var o=e.productCode,a=O===o&&b;return i()($,{newsletter:e,onRemoveClick:function(){return function(e){A(e),d({variables:{productCode:e,token:n,unsubscribeForm:r}}).catch((function(){}))}(o)},processing:a},t)}))},J=Y(_),z=Y(F);return i()(m.B,{title:S.sectionTitleNewsletter,dataTestId:"newsletter-list-section",description:M},void 0,i()(q,{"data-testid":"active-newsletter-list",role:"list"},void 0,J),V&&i()(D,{},void 0,z),L||(L=i()(x,{})))};V.displayName="FilledNewslettersSection";var Y,J=function(e){var t=e.userProfile,n=void 0===t?{}:t,r=n.regiId,o=n.emailAddress,s=n.newsletterSubscriptions,c=void 0===s?[]:s,u=Object(a.useState)(c),l=k()(u,2),d=l[0],f=l[1],m=d.length>0;return Object(a.useEffect)((function(){Object(N.c)(r,c)}),[c]),m?i()(V,{nlSubscriptions:d,updateNlSubscriptions:function(e){var t=d.filter((function(t){return t.productCode!==e}));f(t)},emailAddress:o,token:e.token,unsubscribeForm:e.unsubscribeForm}):i()(A,{emailAddress:o})};J.displayName="NewslettersModule";var z,W,G,H,Q,K,X,Z,ee,te,ne,re=function(){return s.a.createElement(s.a.Fragment,null,Y||(Y=i()(m.H,{space:"4"})),i()(m.b,{dataTestId:"athletic-unsubscribe",level:"2",colorVariant:m.N.text.primary},void 0,"To stop receiving special offers sent directly by The Athletic, you must separately"," "),i()(m.F,{colorVariant:m.N.text.interactiveInline,targetTab:"newTab",to:"http://theathletic.com/contact-support"},void 0,"contact The Athletic."))},oe=function(e){var t=e.userProfile,n=t.emailAddress,r=t.marketingEmailsPref,o=e.token,s=e.signupFormVersion,u=Object(a.useState)(r),l=k()(u,2),d=l[0],p=l[1],b=Object(a.useContext)(f.d),v=Object(c.useMutation)(w.d),h=k()(v,2),y=h[0],O=h[1],x=O.loading,A=O.error,E=O.data,j=Object(c.useMutation)(w.c),M=k()(j,2),I=M[0],P=M[1],F=P.loading,R=P.error,U=P.data,L=function(e){Object(N.g)(e),y({variables:{token:o,unsubscribeForm:s}}).catch((function(){}))},q=function(e){Object(N.e)(e),I({variables:{token:o,subscribeForm:s}}).catch((function(){}))},_=function(e,t){if(e)if(e.networkError)b.displayNotification(i()(T.a,{copy:t}),{dataTestId:"mkteml-networking-error"});else{var n=k()(e.graphQLErrors,1)[0];"token_invalid"!==(void 0===n?{message:"unknown_error"}:n).message?b.displayNotification(i()(T.a,{copy:t}),{dataTestId:"mkteml-technical-error"}):Object(g.b)()}};Object(a.useEffect)((function(){_(A,S.messageErrorMarketingOptOut),_(R,S.messageErrorMarketingOptIn)}),[A,R]),Object(a.useEffect)((function(){E&&(p(B.e),function(e){e.displayNotification(z||(z=i()("span",{},void 0,i()(T.a,{copy:S.messageSuccessMarketingOptOut}))),{dataTestId:"mkteml-optout-confirmation"})}(b))}),[E]),Object(a.useEffect)((function(){U&&(p(B.d),function(e){e.displayNotification(W||(W=i()("span",{},void 0,i()(T.a,{copy:S.messageSuccessMarketingOptIn}))),{dataTestId:"mkteml-optin-confirmation"})}(b))}),[U]),Object(a.useEffect)((function(){d===B.e&&Object(N.f)(),d===B.d&&Object(N.h)()}),[d]);var $=i()(m.D,{level:"2",colorVariant:m.N.text.primary},void 0,i()(C.b,{},void 0,n));return i()("div",{},void 0,d===B.e?i()(m.B,{title:S.sectionTitleUpdates,dataTestId:"opted-out",description:i()(T.a,{copy:S.sectionDescriptionUpdatesOptedOut,params:{emailAddressComponent:$}})},void 0,i()(m.j,{dataTestId:"btn-opt-in",variant:m.L.filled,heightVariant:m.K.standard,widthVariant:{small:m.M.flex,medium:m.M.content},onClick:q,processing:F},void 0,G||(G=i()(T.a,{copy:S.buttonSpecialOffersOptedOut}))),H||(H=i()(re,{}))):i()(m.B,{title:S.sectionTitleUpdates,dataTestId:"opted-in",description:i()(T.a,{copy:S.sectionDescriptionUpdatesOptedIn,params:{emailAddressComponent:$}})},void 0,i()(m.j,{dataTestId:"btn-opt-out",variant:m.L.outline,heightVariant:m.K.standard,widthVariant:{small:m.M.flex,medium:m.M.content},onClick:L,processing:x},void 0,Q||(Q=i()(T.a,{copy:S.buttonSpecialOffersOptedIn}))),K||(K=i()(re,{}))))};oe.displayName="MarketingEmailsPrefsModule";var ie,ae,se=function(){var e=function(){var e=Object(g.a)(),t=new URLSearchParams(e.search),n=t.get("send_id")||"";return{token:t.get("token"),sendId:n}}(),t=e.token,n=e.sendId,r=Object(c.useQuery)(w.a,{variables:{token:t}}),o=r.loading,s=r.error,u=r.data;if(Object(a.useEffect)((function(){t?Object(N.a)():Object(g.b)()}),[]),!t)return null;if(o||!u&&!s)return X||(X=i()(h.a,{}));if(s)return Z||(Z=i()(y.a,{}));var l=(u||{}).userProfileByToken,d=void 0===l?{}: