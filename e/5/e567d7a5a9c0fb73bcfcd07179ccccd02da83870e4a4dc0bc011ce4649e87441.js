IBER"),t=!1))):(j("Missing user ID or registrationTimestamp in userState object"),t=!1)),"id"in e||"registrationTimestamp"in e){if(!("id"in e))return j("Missing user ID in userState object"),!1;if(!("registrationTimestamp"in e))return j("Missing registrationTimestamp in userState object"),!1}return"paywallReason"in e&&(e.granted&&(j("userState.granted must be false when paywallReason is supplied."),t=!1),e.paywallReason in w||(j("userState.paywallReason has to be empty or set to RESERVED_USER."),t=!1)),t}static getOnReadyPromise(){return new Promise((e=>{"complete"===self.document.readyState?e():self.window.addEventListener("load",(()=>{e()}))}))}static getSubscriptionTimestamp(){var e;return(null==(e=null==me?void 0:me.userState)?void 0:e.subscriptionTimestamp)||null}}W("Subscriptions Showcase Version: ".concat("1.0.56")),self.GaaGoogleSignInButton=class{static async show({allowedOrigins:t}){const n=H(oe.getQueryString()).lang||"en",i=u.replace("$SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON$",le(R,n));re(Ne(self.document),i);const o=new Promise((e=>{self.addEventListener("message",(n=>{-1!==t.indexOf(n.origin)&&n.data.stamp===p&&n.data.command===P&&e((e=>{n.source.postMessage(e,n.origin)}))}))}));async function a(){(await o)({stamp:p,command:M})}for(const e of t){const t=new URL(e),n=t.origin===e,i="http:"===t.protocol||"https:"===t.protocol;if(!n||!i)return z("[swg-gaa.js:GaaGoogleSignInButton.show]: You specified an invalid origin: ".concat(e)),void a()}try{await ne();const t=ae(self.document,"div",{id:e,tabIndex:"0"});self.document.body.appendChild(t),t.addEventListener("click",(async()=>{(await o)({stamp:p,command:G})}));const n=await new Promise((t=>{self.gapi.signin2.render(e,{longtitle:!0,onsuccess:t,prompt:"select_account",scope:"profile email",theme:"dark"})})),i=n.getBasicProfile(),a=n.getAuthResponse(!0),r={idToken:a.id_token,name:i.getName(),givenName:i.getGivenName(),familyName:i.getFamilyName(),imageUrl:i.getImageUrl(),email:i.getEmail(),authorizationData:a};(await o)({stamp:p,command:f,gaaUser:r})}catch(r){a()}}},self.GaaGoogle3pSignInButton=class{static show({allowedOrigins:e,authorizationUrl:n,redirectMode:i=!1}){const o=H(oe.getQueryString()).lang||"en",a=O.replace("$SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON$",le(R,o));re(Ne(self.document),a);const r=ae(self.document,"div",{id:t,tabIndex:"0"});r.innerHTML=A,r.onclick=async()=>{(await s)({stamp:p,command:D}),i?self.setTimeout((()=>{self.open(n,"_parent")}),10):self.open(n)},self.document.body.appendChild(r);const s=new Promise((t=>{self.addEventListener("message",(n=>{-1!==e.indexOf(n.origin)&&n.data.stamp===p&&n.data.command===P&&t((e=>{n.source.postMessage(e,n.origin)}))}))}));async function l(){(await s)({stamp:p,command:M})}for(let t=0;t<e.length;t++){const n=e[t],i=new URL(n),o=i.origin===n,a="http:"===i.protocol||"https:"===i.protocol;if(!o||!a)return z("[swg-gaa.js:GaaGoogle3pSignInButton.show]: You specified an invalid origin: ".concat(n)),void l()}self.addEventListener("message",(t=>{-1!==e.indexOf(t.origin)&&t.data.stamp===p&&t.data.command===f&&self.parent.postMessage(t.data,t.origin)}))}static gaaNotifySignIn({gaaUser:e}){self.opener.postMessage({stamp:p,command:f,gaaUser:e})}},self.GaaSignInWithGoogleButton=class{static async show({clientId:e,allowedOrigins:t,rawJwt:i=!1}){const o=H(oe.getQueryString()).lang||"en",a=u.replace("$SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON$",le(R,o));re(Ne(self.document),a);const r=new Promise((e=>{self.addEventListener("message",(n=>{-1!==t.indexOf(n.origin)&&n.data.stamp===p&&n.data.command===P&&e((e=>{n.source.postMessage(e,n.origin)}))}))}));async function s(){(await r)({stamp:p,command:M})}async function l(){(await r)({stamp:p,command:U})}for(let n=0;n<t.length;n++){const e=t[n],i=new URL(e),o=i.origin===e,a="http:"===i.protocol||"https:"===i.protocol;if(!o||!a)return z("[swg-gaa.js:GaaSignInWithGoogleButton.show]: You specified an invalid origin: ".concat(e)),void s()}try{const o=ae(self.document,"div",{id:n,tabIndex:"0"});self.document.body.appendChild(o);const a=await new Promise((i=>{self.google.accounts.id.initialize({client_id:e,callback:i,allowed_parent_origin:t}),self.google.accounts.id.renderButton(self.document.getElementById(n),{type:"standard",theme:"outline",text:"continue_with",logo_alignment:"center",width:o.offsetWidth,height:o.offsetHeight,click_listener:l})})),s=(new ue).decode(a.credential),_=i?a:s;(await r)({stamp:p,command:f,jwtPayload:s,returnedJwt:_})}catch(_){s()}}},self.GaaMeteringRegwall=Le,self.GaaMetering=me}();
//# sourceMappingURL=swg-gaa.js.map
 })();
