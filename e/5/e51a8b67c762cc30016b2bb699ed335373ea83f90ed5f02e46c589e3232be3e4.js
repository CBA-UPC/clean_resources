!function(){function q(a){var c=[],b=[],e=function(f){for(var g={},h=0;h<u.length;h++){var d=u[h];if(d.Tag===f){g=d;break}var l=void 0,k=d.Tag;var C=(k=-1!==k.indexOf("http:")?k.replace("http:",""):k.replace("https:",""),-1!==(l=k.indexOf("?"))?k.replace(k.substring(l),""):k);if(f&&(-1!==f.indexOf(C)||-1!==d.Tag.indexOf(f))){g=d;break}}return g}(a);return e.CategoryId&&(c=e.CategoryId),e.Vendor&&(b=e.Vendor.split(":")),!e.Tag&&D&&(b=c=function(f){var g=[],h=function(d){var l=document.createElement("a");
return l.href=d,-1!==(d=l.hostname.split(".")).indexOf("www")||2<d.length?d.slice(1).join("."):l.hostname}(f);v.some(function(d){return d===h})&&(g=["C0004"]);return g}(a)),{categoryIds:c,vsCatIds:b}}function w(a){return!a||!a.length||(a&&window.OptanonActiveGroups?a.every(function(c){return-1!==window.OptanonActiveGroups.indexOf(","+c+",")}):void 0)}function m(a,c){void 0===c&&(c=null);var b=window,e=b.OneTrust&&b.OneTrust.IsVendorServiceEnabled;b=e&&b.OneTrust.IsVendorServiceEnabled();return"Categories"===
r||"All"===r&&e&&!b?w(a):("Vendors"===r||"All"===r&&e&&b)&&w(c)}function n(a){a=a.getAttribute("class")||"";return-1!==a.indexOf("optanon-category")||-1!==a.indexOf("ot-vscat")}function p(a){return a.hasAttribute("data-ot-ignore")}function x(a,c,b){void 0===b&&(b=null);var e=a.join("-"),f=b&&b.join("-"),g=c.getAttribute("class")||"",h="",d=!1;a&&a.length&&-1===g.indexOf("optanon-category-"+e)&&(h=("optanon-category-"+e).trim(),d=!0);b&&b.length&&-1===g.indexOf("ot-vscat-"+f)&&(h+=" "+("ot-vscat-"+
f).trim(),d=!0);d&&c.setAttribute("class",h+" "+g)}function y(a,c,b){void 0===b&&(b=null);var e;a=a.join("-");b=b&&b.join("-");return-1===c.indexOf("optanon-category-"+a)&&(e=("optanon-category-"+a).trim()),-1===c.indexOf("ot-vscat-"+b)&&(e+=" "+("ot-vscat-"+b).trim()),e+" "+c}function z(a){var c,b=q(a.src||"");(b.categoryIds.length||b.vsCatIds.length)&&(x(b.categoryIds,a,b.vsCatIds),m(b.categoryIds,b.vsCatIds)||(a.type="text/plain"),a.addEventListener("beforescriptexecute",c=function(e){"text/plain"===
a.getAttribute("type")&&e.preventDefault();a.removeEventListener("beforescriptexecute",c)}))}function A(a){var c=a.src||"",b=q(c);(b.categoryIds.length||b.vsCatIds.length)&&(x(b.categoryIds,a,b.vsCatIds),m(b.categoryIds,b.vsCatIds)||(a.removeAttribute("src"),a.setAttribute("data-src",c)))}var u=JSON.parse('[{"Tag":"https://www.youtube.com/iframe_api","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://cdn.pendo.io/agent/static/df3d609f-14a9-4a77-b441-73602a4aaab2/pendo.js","CategoryId":["C0007"],"Vendor":null},{"Tag":"https://www.googletagmanager.com/gtm.js","CategoryId":["C0002","C0004","C0007"],"Vendor":null},{"Tag":"https://www.google-analytics.com/analytics.js","CategoryId":["C0002","C0004","C0007"],"Vendor":null},{"Tag":"https://siteintercept.qualtrics.com/dxjsmodule/12.d9ecf957bd3914404824.chunk.js","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://static.zdassets.com/classic/assets/turbolinks-4934cb7314614db08582e0f8f532f0407f555f3b751fafeeaf6f1d2d3148d32c.js","CategoryId":["C0003"],"Vendor":null},{"Tag":"https://static.zdassets.com/customer_analytics_integration/help_center/cai.min.js","CategoryId":["C0003","C0004"],"Vendor":null},{"Tag":"https://zapier.com/apps/embed/widget.js","CategoryId":["C0003","C0004"],"Vendor":null},{"Tag":"https://docs.google.com/presentation/d/e/2PACX-1vRo9lKJ1RGHZXXX-eIPuq1CjE0EOsZC5HmcZzf6p5uzWDUSvoOkIaxKWevj2n_5-sFYC7w1eXFB_wS7/embed","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://siteintercept.qualtrics.com/dxjsmodule/10.13da654ebc4ff074d07c.chunk.js","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://cdn.segment.com/analytics.js/v1/ikkIrxM8eW1iixdnIo4SLRAcr4kl5H7a/analytics.min.js","CategoryId":["C0003","C0004","C0007"],"Vendor":null},{"Tag":"https://www.googletagmanager.com/gtag/js","CategoryId":["C0002"],"Vendor":null},{"Tag":"https://support.zendesk.com/cdn-cgi/challenge-platform/h/g/orchestrate/captcha/v1","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://siteintercept.qualtrics.com/dxjsmodule/13.884592655f8e03c201b2.chunk.js","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://docs.google.com/presentation/d/e/2PACX-1vTg_rjZQQxJJsm-u5IS3EyxGvch71uuD5gAM0gmfIBIAQjJYCIyTDaD97AbPLa75MHeIqqq41Kyiebb/embed","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://support.zendesk.com/cdn-cgi/challenge-platform/h/b/orchestrate/captcha/v1","CategoryId":["C0004"],"Vendor":null},{"Tag":"https://siteintercept.qualtrics.com/dxjsmodule/10.ff5c35506eb6156df16c.chunk.js","CategoryId":["C0004"],"Vendor":null}]'),
D=JSON.parse("true"),r=JSON.parse('"Categories"'),v=(v=[""]).filter(function(a){if("null"!==a&&a.trim().length)return a}),t=["embed","iframe","img","script"],B=((new MutationObserver(function(a){Array.prototype.forEach.call(a,function(c){Array.prototype.forEach.call(c.addedNodes,function(e){1!==e.nodeType||-1===t.indexOf(e.tagName.toLowerCase())||n(e)||p(e)||("script"===e.tagName.toLowerCase()?z:A)(e)});var b=c.target;!c.attributeName||n(b)&&p(b)||("script"===b.nodeName.toLowerCase()?z(b):-1!==t.indexOf(c.target.nodeName.toLowerCase())&&
A(b))})})).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["src"]}),document.createElement);document.createElement=function(){for(var a,c,b=[],e=0;e<arguments.length;e++)b[e]=arguments[e];return"script"===b[0].toLowerCase()||-1!==t.indexOf(b[0].toLowerCase())?(a=B.bind(document).apply(void 0,b),c=a.setAttribute.bind(a),Object.defineProperties(a,{src:{get:function(){try{return a.cloneNode().src}catch(f){return a.getAttribute("src")||""}},set:function(f){var g=
b[0],h,d,l,k="";k=q(k="string"==typeof f||f instanceof Object?f.toString():k);return d=g,l=a,!(h=k).categoryIds.length&&!h.vsCatIds.length||"script"!==d.toLowerCase()||n(l)||m(h.categoryIds,h.vsCatIds)||p(l)?(d=g,h=a,!(l=k).categoryIds.length||-1===t.indexOf(d.toLowerCase())||n(h)||m(l.categoryIds,l.vsCatIds)||p(h)?c("src",f):(a.removeAttribute("src"),c("data-src",f),(g=a.getAttribute("class"))||c("class",y(k.categoryIds,g||"",k.vsCatIds)))):(c("type","text/plain"),c("src",f)),!0}},type:{get:function(){return a.getAttribute("type")||
""},set:function(f){return h=c,d=q((g=a).src||""),h("type",!d.categoryIds.length&&!d.vsCatIds.length||n(g)||m(d.categoryIds,d.vsCatIds)||p(g)?f:"text/plain"),!0;var g,h,d}},class:{set:function(f){return h=c,!(d=q((g=a).src)).categoryIds.length&&!d.vsCatIds.length||n(g)||m(d.categoryIds,d.vsCatIds)||p(g)?h("class",f):h("class",y(d.categoryIds,f,d.vsCatIds)),!0;var g,h,d}}}),a.setAttribute=function(f,g,h){"type"!==f&&"src"!==f||h?c(f,g):a[f]=g},a):B.bind(document).apply(void 0,b)}}();tMessage(),this.commonService.getValidationRules("profile")&&this.commonService.getValidationRules("profile").message&&this.commonService.getValidationRules("profile").message.length&&this.commonService.getValidationRules("profile").message.length.maximum?(this.messageLimit=this.commonService.getValidationRules("profile").message.length.maximum,setTimeout(function(){var e=i.element.querySelector("#message");e&&e.setAttribute("maxlength",i.messageLimit)},250)):this.messageLimit=0,this.eventTag||(this.eventTag=""),this.mode==c&&(this.showPopup=!1,this.subscribers.push(this.eventAggregator.subscribe(this.eventTag+"prefillData",function(e){Object.keys(e).forEach(function(t){if("category"==t){var o=i.categoryList.find(function(t){return t.name==e.category||t.value==e.category});o&&(i.profile.category=o.value)}else i.profile[t]=e[t]}),i.showPopup=!0,document.getElementsByTagName("body")[0].classList.add("modal-open"),document.addEventListener("keydown",i.handleKeyPress),i.setDefaultMessage(),i.commonService.getValidationRules("profile")&&i.commonService.getValidationRules("profile").message&&i.commonService.getValidationRules("profile").message.length&&i.commonService.getValidationRules("profile").message.length.maximum?(i.messageLimit=i.commonService.getValidationRules("profile").message.length.maximum,setTimeout(function(){var e=i.element.querySelector("#message");e&&e.setAttribute("maxlength",i.messageLimit)},250)):i.messageLimit=0,i.addTrackingData()})),this.subscribers.push(this.eventAggregator.subscribe(this.eventTag+"referPopupClose",function(){i.closePopup()}))),"flat"==this.mode&&(this.showPopup=!0),"hidePopup"==this.mode&&(this.showPopup=!1,document.addEventListener("keydown",this.handleKeyPress)),"showPopup"==this.mode&&(o=JSON.parse(JSON.stringify(this.profile)),this.showPopup=!0,document.addEventListener("keydown",this.handleKeyPress),setTimeout(function(){i.profile=o,i.setDefaultMessage()},250)),[2]}})})},t.prototype.detached=function(){this.subscribers.forEach(function(e){e.dispose()})},t.prototype.hideCheck=function(){return __awaiter(this,void 0,void 0,function(){var e,t,o;return __generator(this,function(i){switch(i.label){case 0:return e=n.WidgetConfig.v1.checkLocation,t={widgetName:l},[4,this.referFriendService.makeDDORequest(l,e,t)];case 1:return o=i.sent(),o&&"success"==o.status&&o.data&&!1===o.data.showWidget?[2,!0]:[2,!1]}})})},t.prototype.fetchCategories=function(){var e=this,t=n.WidgetConfig.v1.ddoGetCategories;this.categoryList=[],this.referFriendService.makeDDORequest(l,t).then(function(t){t.data?t.data.forEach(function(t){t.device==window.phApp.deviceType&&e.categoryList.push({value:t.category||t.key,name:t.display_name})}):console.info("Error fetching category data"),e.categoryList.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}),e.categoryList.unshift({value:"select",name:"Select"}),e.profile&&e.profile.category&&(e.profile.category=e.categoryList.find(function(t){return t.name==e.profile.category||t.value==e.profile.category}).value)},function(e){new Error(e)})},t.prototype.uploadFile=function(){var e=this;this.profile.resumeUrl="",this.profile.resumeName=this.files[0].name,this.profile.resumeSize=this.files[0].size,this.validateResume();var t=this.validationController.validationErrors.resumeName,o=this.validationController.validationErrors.resumeSize;if(void 0!=t&&Array.isArray(t)&&t.length>0||void 0!=o&&Array.isArray(o)&&o.length>0)return void(this.profile.resumeUrl="invalid");var i=new FormData;i.append("file",this.files[0]);var n=new a.HttpClient;n.configure(function(e){e.useStandardConfiguration().withBaseUrl("api/upload")}),n.fetch(this.uploadUrl,{method:"POST",body:i,headers:new Headers}).then(function(e){return e.json()},function(e){console.log(e)}).then(function(t){t.status&&"SUCCESS"==t.status.toUpperCase()?(e.profile.resumeUrl=t.fileUrl||"",e.profile.resumeName=t.fileName||""):console.info("Resume upload failed"),e.validateResume()},function(t){e.validateResume(),console.log(t.message)})},t.prototype.submitForm=function(e){var t=this;if(this.showErrorMsg=!1,this.filterFieldsBeforeSubmit(),this.profile.resume=this.profile.resumeUrl||this.profile.linkedinUrl,this.validationController.validate(),!0===this.validationController.hasErrors())return this.generateErrorMessages(),void this.showError("E200",!0);if(!e){var o={form_step_data:{firstName:this.profile.firstName||"",lastName:this.profile.lastName||"",email:this.profile.email||"",mobile:this.profile.mobile||"",category:this.profile.category||"",designation:this.profile.designation||"",resumeUrl:this.profile.resumeUrl||"",resumeName:this.profile.resumeName||"",resumeSize:this.profile.resumeSize||"",linkedinUrl:this.profile.linkedinUrl||"",message:this.profile.message||this.defaultMessage},trait260:this.profile.jobSeqNo?"job":"general",trait5:this.profile.jobSeqNo||"",trait261:this.profile.userId||""};this.commonService.processTrackingEvent("employee_refer_form_submit",void 0,o,{})}var i={mobile:this.profile.mobile||"",resumeUrl:this.profile.resumeUrl||"",resumeName:this.profile.resumeName||"",linkedinUrl:this.profile.linkedinUrl||"",firstName:this.profile.firstName||"",lastName:this.profile.lastName||"",email:this.profile.email||"",category:this.profile.category||"",designation:this.profile.designation||"",message:this.profile.message||this.defaultMessage,userId:this.profile.userId||"",jobSeqNo:this.profile.jobId||"",jobId:this.profile.jobId||"",resendFlag:1==e,siteType:"external",referralId:this.referralId},r=n.WidgetConfig.v1.ddoReferFriend;this.referFriendService.makeDDORequest(l,r,i).then(function(e){t.saveFail=!1,t.saveSuccess=!1,t.duplicate=!1,t.referredByOther=!1,e.status&&"string"==typeof e.status&&"SUCCESS"==e.status.toUpperCase()&&e.data&&e.data.referralStatus?("SUCCESS"==e.data.referralStatus.toUpperCase()?(t.saveSuccess=!0,t.referralId=e.data.referralId,t.eventAggregator.publish("updateReferrals"),t.setReferralId(t.referralId)):"ALREADYREFERRED"==e.data.referralStatus.toUpperCase()?t.duplicate=!0:"REFERREDBYOTHER"==e.data.referralStatus.toUpperCase()?t.referredByOther=!0:(console.log("Error in referral"),t.saveFail=!0),t.scrollToTop()):(console.log("Error in referral"),t.saveFail=!0,t.scrollToTop())},function(e){console.log(e),t.saveFail=!0,t.scrollToTop()})},t.prototype.closeSaveMessage=function(){this.saveFail?this.saveFail=!1:this.closePopup(!0)},t.prototype.closePopup=function(e){var t=this;Object.keys(this.profile).forEach(function(e){t.profile[e]=""}),this.removeResumeFile(),this.saveFail=!1,this.saveSuccess=!1,this.validationController.validationErrors={},this.errorMessages={},this.showErrorMsg=!1,this.resetMessage(!0),this.duplicate||this.referredByOther?(this.duplicate=!1,this.referredByOther=!1):"showPopup"==this.mode?e?this.closeFunction&&this.closeFunction():this.closeRefer?this.closeRefer():this.closeFunction&&this.closeFunction():this.mode==c&&(this.showPopup=!1,document.getElementsByTagName("body")[0].classList.remove("modal-open"),document.removeEventListener("keydown",this.handleKeyPress))},t.prototype.scrollToTop=function(){var e=document.querySelector('[id="'+this.eventTag+'top"]');e&&(e.scrollIntoView(),e.focus())},t.prototype.generateErrorMessages=function(){var e=this;Object.keys(this.profile).forEach(function(t){var o=e.validationController.validationErrors[t];if(e.errorMessages[t]=[],void 0!=o&&Array.isArray(o)&&o.length>0)if("string"==typeof o[0])for(var i=0;i<o.length;i++)e.errorMessages[t].push(o[i]);else for(var i=0;i<o.length;i++){var n={};n=o[i];for(var r in n)if(n.hasOwnProperty(r)){var a=[];if(a=n[r],a.length>0)for(var s=0;s<a.length;s++)a[s]&&"string"==typeof a[s]&&e.errorMessages[t].push(a[s])}}})},t.prototype.validateResume=function(){this.profile.resume=this.profile.linkedinUrl||this.profile.resumeUrl||this.profile.resumeName,this.validationController.validate("linkedinUrl"),this.validationController.validate("resumeUrl"),this.validationController.validate("resumeName"),this.validationController.validate("resumeSize"),this.validationController.validate("resume")},t.prototype.removeResumeFile=function(){this.profile.resumeName="",this.profile.resumeUrl="",this.profile.resumeSize=0,this.files=null,this.fileValue=null,this.validateResume()},t.prototype.filterFieldsBeforeSubmit=function(){var e=this;-1==this.categoryList.findIndex(function(t){return t.value==e.profile.category})&&(this.profile.category="")},t.prototype.showError=function(t,o){var i=this,n="profile_"+t;this.errorMessages.errors=[n];var r=setInterval(function(){var e=document.querySelector('[class^="alert-form-message"]');if(i.showErrorMsg=!0,null!=e&&(e.scrollIntoView(),e.focus(),clearInterval(r),o)){var t=document.querySelector(".error-block"),n=function(){t.removeEventListener("blur",n,!1)};t.addEventListener("blur",n,!1)}},100);e.prototype.hideLoader.call(this)},Object.defineProperty(t.prototype,"profileStr",{get:function(){return JSON.stringify(this.profile)},enumerable:!0,configurable:!0}),t.prototype.addTrackingData=function(){if(this.profile.jobSeqNo){var e=this.element.querySelector("#btnSubmit");e&&e.setAttribute("data-ph-tevent-attr-trait5",this.profile.jobSeqNo)}},Object.defineProperty(t.prototype,"messageCharLeft",{get:function(){if(this.messageLimit){if(this.profile.message){var e=this.messageLimit-this.profile.message.length;return e>0?e:0}return this.messageLimit}return-1},enumerable:!0,configurable:!0}),t.prototype.resetMessage=function(e){this.profile.message=e?this.defaultMessage:""},__decorate([o.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([o.bindable,__metadata("design:type",String)],t.prototype,"eventTag",void 0),__decorate([o.bindable,__metadata("design:type",String)],t.prototype,"mode",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"profile",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"closeFunction",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"closeRefer",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"questionnaireMode",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"referralId",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"setReferralId",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"checkLocation",void 0),__decorate([o.computedFrom("messageLimit","profile.message"),__metadata("design:type",Object),__metadata("design:paramtypes",[])],t.prototype,"messageCharLeft",null),t=__decorate([o.customElement(l),o.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(p=void 0!==i.CommonService&&i.CommonService)&&p||Object,s.EventAggregator,r.ReferFriendService])],t);var p}(i.PhenomWidget);t.ReferFriend=p}),define("text!v1/ph-refer-friend.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("text!v1/views/ph-refer-friend-v1/default/view.html",["module"],function(e){
e.exports='<template>\n\t\t<div class="quick-refer-area" data-ph-at-id="refer-friend" aria-label="Quick refer a friend" key-aria-label="referFriendWidget" role="region" key-role="regionRole" show.bind="showPopup">\n\t\t\t<button class="close-btn" click.delegate="closePopup()" role="button" key-role="btnRole" aria-label="Click to close the popup" key-aria-label="closeBtnLabel">\n\t\t\t\t<i class="fa fa-times" aria-hidden="true"></i>\n\t\t\t</button>\n\t\t\t<div class="heading-box" id="${eventTag}top">\n\t\t\t\t<h2 class="heading">\n\t\t\t\t\t<ppc-content key="headingText1" data-ph-at-id="heading-text">Quick Refer a Friend</ppc-content>\n\t\t\t\t</h2>\n\t\t\t\t<div class="sub-heading">\n\t\t\t\t\t<ppc-content key="subHeadingText">\n\t\t\t\t\t\tGot a resume? But don’t know where it goes?  Complete the form below and our recruiters will take it from here.\n\t\t\t\t\t</ppc-content>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\x3c!-- error messages block--\x3e\n\t\t\t<div class="alert-form-message" if.bind="showErrorMsg">\n\t\t\t\t<button focus.bind="showErrorMsgX" class="close-error" aria-label="Close this error message" click.delegate="showErrorMsg = false">\n\t\t\t\t\t<i class="icon icon-cancel" aria-hidden="true"></i>\n\t\t\t\t</button>\n\t\t\t\t<div class="error-title-block" aria-hidden="true">\n\t\t\t\t\t<p class="error-title-text">\n\t\t\t\t\t\t<ppc-content key="pleaseEnterAllRequiredFieds">\n\t\t\t\t\t\t\tPlease enter all required fields:\n\t\t\t\t\t\t</ppc-content></p>\n\t\t\t\t\t<ul repeat.for="field of fields">\n\t\t\t\t\t\t<li repeat.for="error of errorMessages[field]" aria-label="${error | pht}">${error | pht}</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\x3c!-- error messages block end--\x3e\n\t\t\t\n\t\t\t\x3c!-- main body start--\x3e\n\t\t\t<div class="refer-block" show.bind="!saveSuccess && !saveFail && !duplicate && !referredByOther">\n\t\t\t\t<form submit.delegate="submitForm()">\n\t\t\t\t\t<div class="form-field">\n\t\t\t\t\t\t<label for="firstName">\n\t\t\t\t\t\t\t<ppc-content key="firstNameLabel1" data-ph-at-id="first-name-label-text">First Name</ppc-content>\n\t\t\t\t\t\t\t<span class="required-field" if.bind="commonService.getValidationRules(\'profile\').firstName.presence"><ppc-content key="requiredStar">*</ppc-content></span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input type="text" class="${validationController.validationErrors.firstName.length ? \'error-block\' : \'\'}" value.bind="profile.firstName" blur.trigger="validationController.validate(\'firstName\')" placeholder="Type here" id="firstName" data-ph-at-id="first-name-input-field" role="textbox" key-role="txtRole" aria-label="Enter your first name" key-aria-label="firstNameInputBox">\n\t\t\t\t\t\t<span aria-relevant="additions removals" class="error errorText error-active" role.bind="validationController.validationErrors.firstName.length>0 ? \'alert\':\'\'" aria-atomic="true">\n\t\t\t\t\t\t\t<span repeat.for="error of validationController.validationErrors.firstName">${error | pht}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-field">\n\t\t\t\t\t\t<label for="lastName">\n\t\t\t\t\t\t\t<ppc-content key="lastNameLabel1" data-ph-at-id="last-name-label-text">Last Name</ppc-content>\n\t\t\t\t\t\t\t<span class="required-field" if.bind="commonService.getValidationRules(\'profile\').lastName.presence"><ppc-content key="requiredStar">*</ppc-content></span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input type="text" class="${validationController.validationErrors.lastName.length ? \'error-block\' : \'\'}" value.bind="profile.lastName" blur.trigger="validationController.validate(\'lastName\')" placeholder="Type here" id="lastName" data-ph-at-id="last-name-input-field" role="textbox" key-role="txtRole" aria-label="Enter your last name" key-aria-label="lastNameInputBox">\n\t\t\t\t\t\t<span aria-relevant="additions removals" class="error errorText error-active" role.bind="validationController.validationErrors.lastName.length>0 ? \'alert\':\'\'" aria-atomic="true">\n\t\t\t\t\t\t\t<span repeat.for="error of validationController.validationErrors.lastName">${error | pht}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-field">\n\t\t\t\t\t\t<label for="email">\n\t\t\t\t\t\t\t<ppc-content key="emailLabel1" data-ph-at-id="email-label-text">Email</ppc-content>\n\t\t\t\t\t\t\t<span class="required-field" if.bind="commonService.getValidationRules(\'profile\').email.presence"><ppc-content key="requiredStar">*</ppc-content></span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input type="text" name="email" class="${validationController.validationErrors.email.length ? \'error-block\' : \'\'}" value.bind="profile.email" blur.trigger="validationController.validate(\'email\')" placeholder="Type here" id="email" data-ph-at-id="email-input-field" role="textbox" key-role="txtRole" aria-label="Enter your email" key-aria-label="emailInputBox">\n\t\t\t\t\t\t<span aria-relevant="additions removals" class="error errorText error-active" role.bind="validationController.validationErrors.email.length>0 ? \'alert\':\'\'" aria-atomic="true">\n\t\t\t\t\t\t\t<span repeat.for="error of validationController.validationErrors.email">${error | pht}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-field">\n\t\t\t\t\t\t<label for="number">\n\t\t\t\t\t\t\t<ppc-content key="phoneLabel1" data-ph-at-id="phone-label-text">Contact Number</ppc-content>\n\t\t\t\t\t\t\t<span class="required-field" if.bind="commonService.getValidationRules(\'profile\').mobile.presence"><ppc-content key="requiredStar">*</ppc-content></span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input type="text" class="${validationController.validationErrors.mobile.length ? \'error-block\' : \'\'}" value.bind="profile.mobile" blur.trigger="validationController.validate(\'mobile\')" placeholder="Type here" id="number" data-ph-at-id="phone-input-field" role="textbox" key-role="txtRole" aria-label="Enter your contact number" key-aria-label="phoneInputBox">\n\t\t\t\t\t\t<span aria-relevant="additions removals" class="error errorText error-active" role.bind="validationController.validationErrors.mobile.length>0 ? \'alert\':\'\'" aria-atomic="true">\n\t\t\t\t\t\t\t<span repeat.for="error of validationController.validationErrors.mobile">${error | pht}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-field">\n\t\t\t\t\t\t<label for="category">\n\t\t\t\t\t\t\t<ppc-content key="jobCategoryLabel1" data-ph-at-id="category-label-text">Job Category</ppc-content>\n\t\t\t\t\t\t\t<span class="required-field" if.bind="commonService.getValidationRules(\'profile\').category.presence"><ppc-content key="requiredStar">*</ppc-content></span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<select type="" class="${validationController.validationErrors.category.length ? \'error-block\' : \'\'}" value.bind="profile.category" blur.trigger="validationController.validate(\'category\')" placeholder="Type here" id="category" data-ph-at-id="category-select-field" role="combobox" key-role="comboRole" aria-label="Enter a Job Category" key-aria-label="jobCategorySelectBox">\n\t\t\t\t\t\t\t<option role="option" key-role="optionRole" repeat.for="category of categoryList" value.bind="category.value">${category.name}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<i class="fa fa-chevron-down select-chevron" aria-hidden="true"></i>\n\t\t\t\t\t\t<span aria-relevant="additions removals" class="error errorText error-active" role.bind="validationController.validationErrors.category.length>0 ? \'alert\':\'\'" aria-atomic="true">\n\t\t\t\t\t\t\t<span repeat.for="error of validationController.validationErrors.category">${error | pht}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-field">\n\t\t\t\t\t\t<label for="designation">\n\t\t\t\t\t\t\t<ppc-content key="occupationLabel1" data-ph-at-id="designation-label-text">Occupation</ppc-content>\n\t\t\t\t\t\t\t<span class="required-field" if.bind="commonService.getValidationRules(\'profile\').designation.presence"><ppc-content key="requiredStar">*</ppc-content></span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input type="text" class="${validationController.validationErrors.designation.length ? \'error-block\' : \'\'}" value.bind="profile.designation" blur.trigger="validationController.validate(\'designation\')" placeholder="Type here" id="designation" data-ph-at-id="designation-input-field" role="textbox" key-role="txtRole" aria-label="Enter your Occupation" key-aria-label="occupationInputBox">\n\t\t\t\t\t\t<span aria-relevant="additions removals" class="error errorText error-active" role.bind="validationController.validationErrors.designation.length>0 ? \'alert\':\'\'" aria-atomic="true">\n\t\t\t\t\t\t\t<span repeat.for="error of validationController.validationErrors.designation">${error | pht}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-field">\n\t\t\t\t\t\t<label for="resume">\n\t\t\t\t\t\t\t<ppc-content key="resumeOrLinkedInProfileLabel1" data-ph-at-id="resume-label-text">Resume/LinkedIn profile</ppc-content>\n\t\t\t\t\t\t\t<span class="required-field" if.bind="commonService.getValidationRules(\'profile\').resume.presence"><ppc-content key="requiredStar">*</ppc-content></span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<span aria-relevant="additions removals" class="error errorText error-active" role.bind="errorMessages.resume.length>0 ? \'alert\':\'\'" aria-atomic="true">\n\t\t\t\t\t\t\t<span repeat.for="error of validationController.validationErrors.resume">${error | pht}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<div class="resume-links">\n\t\t\t\t\t\t\t<div class="resume-name-block" show.bind="!profile.resumeUrl">\n\t\t\t\t\t\t\t\t<input type="file" files.bind="files" value.bind="fileValue" change.delegate="uploadFile()" class="upload-Resume-Button" data-ph-at-id="resume-input-field" role="textbox" key-role="txtRole" aria-label="Click to upload your resume" key-aria-label="resumeInputBox">\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<i class="fa fa-upload" aria-hidden="true"></i> \n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<ppc-content key="uploadResumeLabel" data-ph-at-id="upload-resume-label">Upload Resume</ppc-content>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="resume-pdf-block" show.bind="profile.resumeUrl">\n\t\t\t\t\t\t\t\t<div class="profile-name">\n\t\t\t\t\t\t\t\t\t<i class="fa fa-file-pdf-o" aria-hidden="true"></i> \n\t\t\t\t\t\t\t\t\t<span class="resume-name">${profile.resumeName}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="delete-resume">\n\t\t\t\t\t\t\t\t\t<button click.delegate="removeResumeFile()" class="delete-btn">\n\t\t\t\t\t\t\t\t\t\t<i class="fa fa-trash-o" aria-hidden="true"></i>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span aria-relevant="additions removals" class="error errorText error-active" role.bind="validationController.validationErrors.resumeUrl.length || validationController.validationErrors.resumeName.length ? \'alert\':\'\'" aria-atomic="true">\n\t\t\t\t\t\t\t\t<span repeat.for="error of validationController.validationErrors.resumeUrl">${error | pht}</span>\n\t\t\t\t\t\t\t\t<span repeat.for="error of validationController.validationErrors.resumeName">${error | pht}</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<label for="LinkedIn Link">\n\t\t\t\t\t\t\t<i class="fa fa-link" aria-hidden="true"></i> \n\t\t\t\t\t\t\t<ppc-content key="LinkedInProfileLabel" data-ph-at-id="linkedin-profile-label">LinkedIn Profile Link</ppc-content>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input type="text" name="Linkkedin Profile" class="${validationController.validationErrors.resume.length ? \'error-block\' : \'\'}" value.bind="profile.linkedinUrl" blur.trigger="validateResume()" placeholder="Add link here" id="resume" style="padding: 10px 15px;" data-ph-at-id="linkedin-input-field">\n\t\t\t\t\t\t<span aria-relevant="additions removals" class="error errorText error-active" role.bind="validationController.validationErrors.linkedinUrl.length>0 ? \'alert\':\'\'" aria-atomic="true">\n\t\t\t\t\t\t\t<span repeat.for="error of validationController.validationErrors.linkedinUrl">${error | pht}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="submit-block">     \n\t\t\t\t\t\t<button type="submit" data-ph-at-id="submit-button">\n\t\t\t\t\t\t\t<ppc-content key="submitButtontext11" data-ph-at-id="submit-button-text">\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>                                                                 \n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t\x3c!-- main body end--\x3e\n\t\n\t\t\t\x3c!-- Success message block start--\x3e\n\t\t\t<div class="success-message-block" show.bind="saveSuccess || saveFail">  \n\t\t\t\t<div class="success-button" show.bind="saveSuccess">     \n\t\t\t\t\t<p>\n\t\t\t\t\t\t<i class="fa fa-check"></i>\n\t\t\t\t\t\t<ppc-content key="candidateReferredSuccessfullyButtontext">\n\t\t\t\t\t\t\tCandidate referred successfully\n\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t</p>\n\t\t\t\t</div>   \n\t\t\t\t<div class="error-button" show.bind="saveFail">     \n\t\t\t\t\t<p>\n\t\t\t\t\t\t<i class="fa fa-times"></i>\n\t\t\t\t\t\t<ppc-content key="tryAgainButtonText">\n\t\t\t\t\t\t\tCould not complete action. Please try again.\n\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t</p>\n\t\t\t\t</div> \n\t\t\t\t<div class="content-block" show.bind="saveSuccess"> \n\t\t\t\t\t<div class="content-image">\n\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t<ppc-content type="image">\n\t\t\t\t\t\t\t\t<img ph-src="assets/images/internal-mobility/im-email-icon.png" key-ph-src="imEmailIconImg" alt="Email Image" key-alt="emailImageSuccess">\n\t\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t</div> \n\t\t\t\t\t<div class="content-text">\n\t\t\t\t\t\t<p if.bind="profile.jobSeqNo">\n\t\t\t\t\t\t\t<ppc-content key="weHaveSent">\n\t\t\t\t\t\t\t\tWe have sent an email to \n\t\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t\t\t${profile.firstName}. \n\t\t\t\t\t\t\t<ppc-content key="weWillKeep">\n\t\t\t\t\t\t\t\tWe will keep you informed when \n\t\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t\t\t\t${profile.firstName} \n\t\t\t\t\t\t\t<ppc-content key="appliesForThisJob">\n\t\t\t\t\t\t\t\tapplies for this job.\n\t\t\t\t\t\t\t</ppc-content> \n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p if.bind="!profile.jobSeqNo">\n\t\t\t\t\t\t\t<ppc-content key="weHaveSent">\n\t\t\t\t\t\t\t\tWe have sent an email to \n\t\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t\t\t${profile.firstName}. \n\t\t\t\t\t\t\t<ppc-content key="weWillKeep">\n\t\t\t\t\t\t\t\tWe will keep you informed when \n\t\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t\t\t\t${profile.firstName} \n\t\t\t\t\t\t\t<ppc-content key="appliesForAJob">\n\t\t\t\t\t\t\t\tapplies for a job.\n\t\t\t\t\t\t\t</ppc-content> \n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div> \n\t\t\t\t<div class="got-it-button">     \n\t\t\t\t\t<button click.delegate="closeSaveMessage()" role="button" key-role="btnRole">\n\t\t\t\t\t\t<ppc-content key="OkGotItButtontext1">Ok Got It</ppc-content>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div> \n\t\t\t\x3c!-- same job/category refer message block --\x3e\n\t\t\t<div class="same-job-refer-block" show.bind="duplicate">\n\t\t\t\t<div class="content-block"> \n\t\t\t\t\t<div class="content-image">\n\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t<ppc-content type="image">\n\t\t\t\t\t\t\t\t<img ph-src="assets/images/internal-mobility/refer-duplicate.png" key-ph-src="referDuplicateImg" alt="Refer Profile Image" key-alt="referProfileIageAltText">\n\t\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t</div> \n\t\t\t\t\t<div class="content-text-block">\n\t\t\t\t\t\t<div class="caution-image">\n\t\t\t\t\t\t\t<ppc-content type="image">\n\t\t\t\t\t\t\t\t<img ph-src="assets/images/internal-mobility/refer-caution.png" key-ph-src="referCautionImg" alt="Refer Caution Image" key-alt="referCautionAltText">\n\t\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h4 class="content-text-head">\n\t\t\t\t\t\t\t<ppc-contenet key="duplicateReferText1">\n\t\t\t\t\t\t\t\tDuplicate Refer\n\t\t\t\t\t\t\t</ppc-contenet>\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<p class="content-text-descr" if.bind="profile.jobSeqNo">\n\t\t\t\t\t\t\t<ppc-content key="duplicateMessageForSameJob">\n\t\t\t\t\t\t\t\tYou have already referred your friend for the same job. We will inform you once your friend applies for the job you have referred.\n\t\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p class="content-text-descr" if.bind="!profile.jobSeqNo">\n\t\t\t\t\t\t\t<ppc-content key="duplicateMessageForSameCategory">\n\t\t\t\t\t\t\t\tYou have already referred your friend for same category. We have sent an email to your friend. Our HR team will connect with your friend soon.\n\t\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div> \n\t\t\t\t<div class="remainder-block">\n\t\t\t\t\t<h4 class="title">\n\t\t\t\t\t\t<ppc-contenet key="remainderText">\n\t\t\t\t\t\t\tYou can still send an email reminder to your friend.\n\t\t\t\t\t\t</ppc-contenet>\n\t\t\t\t\t</h4>\n\t\t\t\t\t<button click.delegate="submitForm(true)" role="button" key-role="btnRole">\n\t\t\t\t\t\t<ppc-content key="sendRemainderMail1">\n\t\t\t\t\t\t\tSend Remainder Mail\n\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class="jobs-matching-block">\n\t\t\t\t\t<h4 class="title">\n\t\t\t\t\t\t<ppc-contenet key="otherJobsText">\n\t\t\t\t\t\t\tYou can refer your friend for other jobs matching his profile.\n\t\t\t\t\t\t</ppc-contenet>\n\t\t\t\t\t</h4>\n\t\t\t\t\t<a ph-href="referral-jobs" key-ph-href="referralJobsHref" role="link" key-role="linkRole" class="view-other-jobs">\n\t\t\t\t\t\t<ppc-content key="viewMatchingProfile1">\n\t\t\t\t\t\t\tView Other Jobs To Refer\n\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div> \n\t\t\t\x3c!-- same job/category refer other employee --\x3e\n\t\t\t<div class="same-job-refer-block" show.bind="referredByOther">\n\t\t\t\t<div class="content-block"> \n\t\t\t\t\t<div class="content-image">\n\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t<ppc-content type="image">\n\t\t\t\t\t\t\t\t<img ph-src="assets/images/internal-mobility/refer-duplicate.png" key-ph-src="referDuplicateImg" alt="Refer Profile Image" key-alt="referProfileIageAltText">\n\t\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t</div> \n\t\t\t\t\t<div class="content-text-block">\n\t\t\t\t\t\t<div class="caution-image">\n\t\t\t\t\t\t\t<ppc-content type="image">\n\t\t\t\t\t\t\t\t<img ph-src="assets/images/internal-mobility/refer-caution.png" key-ph-src="referCautionImg" alt="Refer Caution Image" key-alt="referCautionAltText">\n\t\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h4 class="content-text-head">\n\t\t\t\t\t\t\t<ppc-contenet key="duplicateReferText1">\n\t\t\t\t\t\t\t\tDuplicate Refer\n\t\t\t\t\t\t\t</ppc-contenet>\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<p class="content-text-descr" if.bind="profile.jobSeqNo">\n\t\t\t\t\t\t\t<ppc-content key="yourFriendAlreadyReferredByOtherEmployeeeForThisJob">\n\t\t\t\t\t\t\t\tyour friend has already been referred for this job by one of our employee.\n\t\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p class="content-text-descr" if.bind="!profile.jobSeqNo">\n\t\t\t\t\t\t\t<ppc-content key="yourFriendAlreadyReferredByOtherEmployeeeForThisCategory">\n\t\t\t\t\t\t\t\tyour friend has already been referred for this Category by one of our employee.\n\t\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div> \n\t\t\t\t<div class="jobs-matching-block">\n\t\t\t\t\t<h4 class="title">\n\t\t\t\t\t\t<ppc-contenet key="youCanStillText">\n\t\t\t\t\t\t\tYou can still refer your friend for some interesting job.\n\t\t\t\t\t\t</ppc-contenet>\n\t\t\t\t\t</h4>\n\t\t\t\t\t<a ph-href="referral-jobs" key-ph-href="referralJobsHref" role="link" key-role="linkRole" class="view-other-jobs-employee">\n\t\t\t\t\t\t<ppc-content key="viewOtherJobsToReferTextEmployee">\n\t\t\t\t\t\t\tView Other Jobs To Refer\n\t\t\t\t\t\t</ppc-content>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div> \n\t\t\t\x3c!-- background image block--\x3e\n\t\t\t<div class="background-image" show.bind="saveSuccess || saveFail || duplicate || referredByOther">\n\t\t\t\t<figure>\n\t\t\t\t\t<ppc-content type="image">\n\t\t\t\t\t\t<img ph-src="assets/images/internal-mobility/im-email-bg.png" key-ph-src="imEmailBgImg" alt="Email Background Image" key-alt="emailBackgroundAltText">\n\t\t\t\t\t</ppc-content>\n\t\t\t\t</figure>\n\t\t\t</div> \n\t\t</div>\n\t</template>\n\t'}),define("text!v3/views/ph-global-search-v3/default/view.html",["module"],function(e){
e.exports='<template>\r\n<form role="search" class="phs-global-search-area ph-widget-box"  keyup.delegate="arrowKeyUp($event)" novalidate>\r\n    <div class="search-text-block">\r\n        <h1 if.bind="showTitle">\r\n            <ppc-content key="literal-1482132226713-45">Do what you love </ppc-content>\r\n        </h1>\r\n        <p if.bind="showCaption">\r\n            <ppc-content key="literal-1482132226714-46">Search jobs</ppc-content>\r\n        </p>\r\n    </div>\r\n    <div class="form-group">\r\n        <div class="input-group">\r\n            <div class="job-filter ph-suggestion-focus-block">\r\n                <label class="sr-only" for="search">\r\n                      <ppc-content key="literal-1481279554825-44">Search</ppc-content>\r\n                 </label>\r\n                <input type="search" \r\n                       name="phsKeywords" \r\n                       placeholder.bind="placeholderText" \r\n                       class="form-control phs-keywords input-lg" \r\n                       value.bind="searchValue & debounce:100"\r\n                       focus.trigger="handleFocus($event)" \r\n                       autocomplete="off"\r\n                       id="search"\r\n                       aria-describedby="${placeholderText}">\r\n                        <span class="search-sym">\r\n                            <ppc-content type="icon"><i class="icon icon-search"></i></ppc-content>\r\n                        </span>\r\n                        <a class="phs-keysearch-clear" click.trigger="clearSearch($event)" show.bind="searchValue" href="javascript:void(0)">\r\n                            <ppc-content type="icon"><i class="icon icon-cancel"></i></ppc-content>\r\n                                <span class="sr-only">\r\n                                    <ppc-content key="literal-1481279554825-45">Search menu open clear text</ppc-content>\r\n                                </span>\r\n                        </a>\r\n                <div class="phs-search-suggestions" if.bind="showDropDown">\r\n                    <div class="phs-search-type-ahead phs-onclick-category" if.bind="showAllJobCategories">\r\n                        <div class="phs-search-categories">\r\n                            <h3><ppc-content key="literal-1481279554825-46">Job Categories</ppc-content></h3>\r\n                            <ul class="phs-search-category-list" repeat.for="categoryColumns of allJobCategories">\r\n                                <li repeat.for="category of categoryColumns" class="job-search-keyblock job-container-category_${$parent.$index}_${$index}" >\r\n                                    <a ph-tevent="job_category_click"  \r\n                                        id="phs-lia_${$parent.$index}_${$index}" \r\n                                        ref="linkEle"\r\n                                        data-option-title="${category.key}"\r\n                                        href="${getUrl(linkEle, \'category\', category)}">\r\n                                        <span class="phs-${category.key}">${category.key}</span>\r\n                                        <span class="phs-jobs-count phs-${category.total_count}">${category.total_count}</span>\r\n                                        \x3c!--<span>${category.key}</span>\r\n                                         <span class="phs-jobs-count">${category.total_count}</span>--\x3e\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <div class="phs-keyword-suggestions" if.bind="showAllJobCategories">\r\n                        \x3c!--Location--\x3e\r\n                        \x3c!--TODO: for city, state, country property name dependent on app changes expected locationName--\x3e\r\n                        <div class="phs-locations-suggested" if.bind="allSuggestions.show.locations && (allSuggestions.locations.city.length || allSuggestions.locations.state.length || allSuggestions.locations.country.length)">\r\n                            <h3 tabindex="0">\r\n                                <ppc-content key="literal-130">\r\n                                    Location\r\n                                </ppc-content>\r\n                            </h3>\r\n                            <ul class="phs-locations-suggested-list">\r\n                                <li repeat.for="eachCity of allSuggestions.locations.city" class="phsLocationsSuggested_${$index}">\r\n                                    <a ph-tevent="type_ahead_search" ref="linkEle"\r\n                                        id="phs-lia_1_${$index}"\r\n                                        href="${getUrl(linkEle, \'search-results\', eachCity, \'qcity=\'+eachCity.city+\'&qstate=\'+eachCity.state+\'&qcountry=\'+eachCity.country)}" \r\n                                        data-ph-tevent-attr-trait59="location" \r\n                                        data-ph-tevent-attr-trait60="${eachCity.name}"\r\n                                        data-option-title="${eachCity.name}" \r\n                                        data-category="${eachCity.name}">\r\n                                        <span innerhtml= "${(eachCity.locationName ? eachCity.locationName_html : eachCity.cityStateCountry) | sanitizeHTML}"></span>\r\n                                        <span if.bind="eachCity.isSuggested" class="suggested-location">   \r\n                                            <ppc-content key="literal-132"> . suggested location</ppc-content>\r\n                                        </span>\r\n                                        <span class="phs-jobs-count">${eachCity.count}</span>\r\n                                    </a>\r\n                                </li>\r\n                                <li repeat.for="eachState of allSuggestions.locations.state" class="phsLocationsSuggested_${$index}">\r\n                                    <a ph-tevent="type_ahead_search" ref="linkEle"\r\n                                        id="phs-lia_2_${$index}"\r\n                                        href="${getUrl(linkEle, \'search-results\', eachState, \'qstate=\'+eachState.state+\'&qcountry=\'+eachState.country)}" \r\n                                        data-ph-tevent-attr-trait59="location" \r\n                                        data-ph-tevent-attr-trait60="${eachState.name}" \r\n                                        data-option-title="${eachState.name}" \r\n                                        data-category="${eachState.name}">\r\n                                        <span innerhtml= "${(eachState.locationName ? eachState.locationName_html : eachState.stateCountry) | sanitizeHTML}"></span>\r\n                                        <span if.bind="eachState.isSuggested" class="suggested-location">   \r\n                                            <ppc-content key="literal-132"> . suggested location</ppc-content>\r\n                                        </span>\r\n                                        <span class="phs-jobs-count">${eachState.count}</span>\r\n                                    </a>\r\n                                </li>\r\n                                <li repeat.for="eachCountry of allSuggestions.locations.country " class="phsLocationsSuggested_${$index}">\r\n                                    <a ph-tevent="type_ahead_search" ref="linkEle"\r\n                                        id="phs-lia_3_${$index}" \r\n                                        href="${getUrl(linkEle, \'search-results\', eachCountry, \'qcountry=\'+eachCountry.name)}" \r\n                                        data-ph-tevent-attr-trait59="location" \r\n                                        data-ph-tevent-attr-trait60="${eachCountry.name}"\r\n                                        data-option-title="${eachCountry.name}"  \r\n                                        data-category="${eachCountry.name}"> \r\n                                        <span innerhtml= "${(eachCountry.locationName ? eachCountry.locationName_html : eachCountry.stateCountry) | sanitizeHTML}"></span>\r\n                                        <span if.bind="eachCountry.isSuggested" class="suggested-location">   \r\n                                            <ppc-content key="literal-132"> . suggested location</ppc-content>\r\n                                        </span>\r\n                                        <span class="phs-jobs-count">${eachCountry.count}</span>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                    \r\n                        </div>\r\n                        \x3c!--Jobs--\x3e\r\n                        <div class="phs-jobs-suggested" if.bind="allSuggestions.show.jobs">\r\n                            <h3><ppc-content key="literal-127">Jobs</ppc-content></h3>\r\n                            <ul class="phs-jobs-list">\r\n                                <li repeat.for="eachJob of allSuggestions.jobs">\r\n                                    <a ph-tevent="type_ahead_search" \r\n                                        id="phs-lia_0_${$index}" ref="linkEle" \r\n                                        href="${getUrl(linkEle, \'job\', eachJob)}" \r\n                                        data-ph-tevent-attr-trait59="jobId"\r\n                                        data-ph-tevent-attr-trait60="${eachJob.jobSeqNo}"\r\n                                        data-option-title="${eachJob.title}"  \r\n                                        data-title="${eachJob.title}"\r\n                                        data-jobid="${eachJob.id}">\r\n                                        <div class="phs-job-title">\r\n                                            <span class="sr-only">\r\n                                                <ppc-content key="literal-128">Job title</ppc-content>\r\n                                            </span>\r\n                                            <span innerhtml="${eachJob.title_html | sanitizeHTML}"></span>\r\n                                        </div>\r\n                                        \r\n                                        <div class="phs-job-info" if.bind="eachJob.location">\r\n                                            <span class="phs-job-location">\r\n                                                <span class="sr-only"><ppc-content key="literal-129">Location</ppc-content></span>\r\n                                                ${eachJob.location}\r\n                                            </span>\r\n                                            <span class="phs-job-category">\r\n                                                <span class="sr-only">\r\n                                                    <ppc-content key="literal-130">Category</ppc-content>\r\n                                                </span>\r\n                                                ${eachJob.category}\r\n                                            </span>\r\n                                        </div>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        \x3c!--Category--\x3e\r\n                        <div class="phs-categorys-suggested" if.bind="allSuggestions.show.categories">\r\n                        \r\n                            <h3>\r\n                                <ppc-content key="literal-132">Category</ppc-content>\r\n                            </h3>\r\n                            <ul class="phs-categorys-suggested-list">\r\n                                <li repeat.for="eachCategory of allSuggestions.categories">\r\n                                    <a ph-tevent="type_ahead_search" id="phs-lia_0_${$index}"\r\n                                       ref="linkEle" \r\n                                       href="${getUrl(linkEle, \'category\', eachCategory)}" data-ph-tevent-attr-trait59="category"\r\n                                       data-ph-tevent-attr-trait60="${eachCategory.category}"\r\n                                       data-option-title="${eachCategory.category}" \r\n                                       data-category="${eachCategory.category}"> \r\n                                       ${eachCategory.category}\r\n                                        <span class="phs-jobs-count">${eachCategory.count}</span>\r\n                                        </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                            \x3c!--Recent Searches--\x3e\r\n                        <div class="phs-recentsearches-suggested" if.bind="allSuggestions.show.searched">\r\n                            <h3>\r\n                                <ppc-content key="literal-133">Recent Searches</ppc-content>\r\n                            </h3>\r\n                            <ul class="search-recentsearchs-list">\r\n                                <li repeat.for="eachKeyword of allSuggestions.searched" show.bind="$index < 3">\r\n                                    <a ph-tevent="type_ahead_search" \r\n                                        id="phs-lia_4_${$index}" ref="linkEle" \r\n                                        data-ajax="false"\r\n                                        data-option-title="${eachKeyword}"  \r\n                                        click.delegate="updateLocalStrWithRecentSearchDetails(eachKeyword)"\r\n                                        href="${getUrl(linkEle, \'search-results\', {keyword: eachKeyword}, \'keywords=\'+eachKeyword)}"\r\n                                        data-ph-tevent-attr-trait59="recent_keyword" \r\n                                        data-ph-tevent-attr-trait60="${eachKeyword}">${eachKeyword}</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        \x3c!--Suggested Keywords--\x3e\r\n                        \x3c!--property name dependent on app changes expected locationName--\x3e\r\n                        <div class="phs-suggested-keywords-suggested" if.bind="allSuggestions.show.keywords && !allSuggestions.show.jobs" >\r\n                            <h3>\r\n                                <ppc-content key="literal-134">\r\n                                    Suggested keywords\r\n                                </ppc-content>\r\n                            </h3>\r\n                            <ul class="phs-suggested-keywords-list" click.delegate="handleSelection($event)">\r\n                                <li repeat.for="eachKeyword of allSuggestions.keywords" show.bind="$index < 3">\r\n                                    <a ph-tevent="type_ahead_search" \r\n                                        id="phs-lia_5_${$index}" \r\n                                        ref="linkEle" \r\n                                        data-ajax="false"\r\n                                        data-option-title="${eachKeyword}"  \r\n                                        click.delegate="updateLocalStrWithRecentSearchDetails(eachKeyword)"\r\n                                        href="${inlineSearch ? \'javascript:void(0)\' : getUrl(linkEle, \'search-results\', {keyword: eachKeyword}, \'keywords=\'+eachKeyword)}"\r\n                                        data-ph-tevent-attr-trait59="recent_keyword" \r\n                                        data-ph-tevent-attr-trait60="${eachKeyword}">${eachKeyword}</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="phs-search-suggestions" if.bind="showDropDown && !showAllJobCategories">\r\n                    <div class="phs-keyword-suggestions">\r\n                       <ul class="phs-locations-suggested-list">\r\n                        <li> No data found</li>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <span class="input-group-btn">\r\n                <button type="submit"\r\n                        submit.delegate="handleSubmitClick()" \r\n                        click.delegate="handleSubmitClick()" \r\n                        title="Find jobs"\r\n                        class="btn primary-button btn-lg phs-search-submit">\r\n                    <ppc-content type="icon"><i class="icon icon-search"></i></ppc-content>\r\n                    <span><ppc-content key="literal-135">Find jobs</ppc-content></span>\r\n                </button>\r\n             </span>\r\n        </div>\r\n    </div>\r\n</form>\r\n</template>'});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),__decorate=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v3/ph-global-search",["require","exports","aurelia-framework","ph-common","aurelia-event-aggregator","./ph-global-search-config","./ph-global-search-service"],function(e,t,o,i,n,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,o,i,n,r,a){var l=e.call(this,t,o,s.elementTag)||this;return l.commonService=o,l.globalSearchService=i,l.eventAggregator=n,l.localStorage=r,l.WidgetConfig=a,l.placeholderText="Enter job title",l.showTitle=!0,l.showCaption=!0,l.searchValue="",l.arrowNavigation=!0,l.reloadOnClear=!1,l.checkValidation=!1,l.inlineSearch=!0,l.preFillSearchedKey=!0,l.showDropDown=!1,l.showAllJobCategories=!0,l.showJobSuggestions=!0,l.showRecentSearches=!0,l.isDisabled=!0,l.recentlySearchedKeys=l.localStorage.getItem("globalSearch"),l.recentSearchStorage=[],l.categoryColumnCount=2,l.itemSBHasFocus=!1,l.isEnterClick=!0,l.showError=!1,l.allSuggestions=l.getAllJobSuggestions(),l}return __extends(t,e),s=t,t.prototype.getAllJobSuggestions=function(){var e=this.isFull;return{show:null,updateShow:function(){var t={jobs:e(this.jobs),locations:e(this.locations),categories:e(this.categories),keywords:e(this.keywords),searched:e(this.searched),all:!1};for(var o in t)if(t.hasOwnProperty(o)&&1==t[o]){t.all=!0;break}return t},jobs:null,locations:null,categories:null,keywords:null,searched:null,boundaries:null}},t.prototype.attached=function(){e.prototype.attached.call(this),this.isDisabled=this.checkValidation;var t=this.handleActionOutsideScope.bind(this);document.addEventListener("mouseup",t,!1),document.addEventListener("keyup",this.keyUpCallback.bind(this),!1),this.preFillSearchedKey&&(this.searchValue=e.prototype.getSearchKeyword.call(this)||"")},t.prototype.handleSelection=function(e){if(this.inlineSearch)for(var t=e.target;t!=this;){if("A"==t.nodeName){var o=t.getAttribute("data-option-title");return void(o?this.searchValue=o:console.warn("value not found"))}t=t.parentNode}},t.prototype.handleActionOutsideScope=function(e){var t=e.target;if(13===e.keyCode||void 0==e.keyCode){for(var o=!0,i=void 0;t;)if(t=t.parentElement,i=t&&t.className){if(null==t||-1==i.indexOf("phs-global-search"))o=!0;else if(i.indexOf("phs-global-search")>=0){o=!1;break}}else t||(o=!0);o&&this.handleBlur()}else 27!=e.keyCode&&9!=e.keyCode||this.handleBlur()},t.prototype.handleBlur=function(){this.showDropDown=this.showAllJobCategories=this.showJobSuggestions=!1},t.prototype.handleSuggestedKeysArrowKeysData=function(){function e(){return t=document.querySelectorAll(".phs-keyword-suggestions li a"),o=t.length-1,i>=o?i=o:i<0&&(i=0),t[i]}var t,o,i=-1;return{next:function(){return i+=1,e()},prev:function(){return i-=1,e()}}},t.prototype.handleCategoryArrowKeysData=function(){function e(e){n=0==e&&0==n?a:0,i=o==i+1?0:i+1,a=t[i]?t[i].length-1:a}var t=this.allJobCategories,o=t.length,i=0,n=-1,r=1,a=t[i].length-1;return{next:function(){return r=1,n==a?e(r):n++,{column:i,delta:n}},prev:function(){return r=0,0==n?e(r):n--,{column:i,delta:n}},reset:function(){n=r?n-1:n+1}}},t.prototype.searchValueChanged=function(e){var t=this,o=t.searchValue||"",i=o&&o.length>0;t.showDropDown&&(i?(t.showAllJobCategories||t.showJobSuggestions)&&t.fetchJobSuggestions():t.fetchJobCategories()),t.isDisabled=!i},t.prototype.handleCategoryOptions=function(e,t){var o,i;switch(e.keyCode){case 37:case 39:break;case 38:this.arrowNavigation&&(i=t.prev(),(o=document.querySelector("#phs-lia_"+i.column+"_"+i.delta))&&o.focus());break;case 40:this.arrowNavigation&&(i=t.next(),(o=document.querySelector("#phs-lia_"+i.column+"_"+i.delta))&&o.focus())}},t.prototype.handleSuggestedKeyOptions=function(e,t){var o;switch(e.keyCode){case 38:this.arrowNavigation&&(o=t.prev())&&o.focus();break;case 40:this.arrowNavigation&&(o=t.next())&&o.focus()}},t.prototype.keyUpCallback=function(e){if(9===e.keyCode){var t=document.querySelectorAll(".ph-suggestion-focus-block");if(t.length)for(var o=0,i=t;o<i.length;o++){var n=i[o],r=n&&n.contains(document.activeElement);r?this.itemSBHasFocus=!0:(this.handleBlur(),this.itemSBHasFocus=!1)}}if(27===e.keyCode)return this.handleBlur(),!0},t.prototype.arrowKeyUp=function(e){var t=null;if(13===e.keyCode&&!1===this.itemSBHasFocus){var o=e.target&&e.target.href||"";""===o&&this.handleSubmitClick(o)}else 1==this.showJobSuggestions?(t=this.allSuggestions.boundaries,this.handleSuggestedKeyOptions(e,t)):1==this.showAllJobCategories&&(t=this.allJobCategories.boundaries,this.handleCategoryOptions(e,t))},t.prototype.handleItemFocus=function(e){switch(e.type){case"focus":console.info("hello")}},t.prototype.handleFocus=function(e){var t=this,o=t.searchValue||"";switch(e.type){case"focus":o.length>0?t.fetchJobSuggestions():t.fetchJobCategories()}},t.prototype.isFull=function(e){return null!=e&&"object"==typeof e&&Object.keys(e).length>0},t.prototype.clearSearch=function(t){if(this.reloadOnClear){var o=this.commonService.getPageName()||"",i=e.prototype.getUrl.call(this,null,o,{});window.location.assign(i)}else this.searchValue="",this.isDisabled=!0,this.showDropDown=!1},t.prototype.fetchJobSuggestions=function(){var e=this;this.showDropDown=!1;var t=this.allSuggestions;this.globalSearchService.getSearchResults(s.elementTag,r.WidgetConfig[s.version][s.ddoKeyEvent],this.searchValue).then(function(o){try{o.jobTitles&&(t.jobs=o.jobTitles.data.titles,t.keywords=o.jobTitles.data.suggestions),t.locations=o.jobLocations&&o.jobLocations.locations,t.categories=o.jobCategories&&o.jobCategories.data.agg;for(var i=0,n=t.categories;i<n.length;i++){var r=n[i];r.key=r.category}e.populateRecentSearches(),e.showAllJobCategories=!1,e.showJobSuggestions=!0,t.show=t.updateShow(),e.showDropDown=t.show.all,e.allSuggestions.boundaries=e.handleSuggestedKeysArrowKeysData()}catch(e){console.info(e.message)}},function(e){new Error(e)})},t.prototype.fetchJobCategories=function(){var e=this;this.showDropDown=!1,this.globalSearchService.getSearchResults(s.elementTag,r.WidgetConfig[s.version][s.ddoKey]).then(function(t){t.data.category&&t.data.category.forEach(function(e){e.key||(e.key=e.category)}),e.allJobCategories=e.chunk(t.data.category,e.categoryColumnCount),e.allJobCategories.boundaries=e.handleCategoryArrowKeysData(),e.showDropDown=!0,e.showAllJobCategories=!0,e.showJobSuggestions=!1},function(e){new Error(e)})},t.prototype.onError=function(e){i.logger.debug("ph-global-search: error..."+e)},t.prototype.chunk=function(e,t){var o,i=[],n=t,r=Math.floor(e.length/n),a=e.length%n,s=0;for(a>0&&(r+=1);n;)o=1==n?e.length:s+r,i.push(e.slice(s,o)),s=o,n--;return i},t.prototype.handleSubmitClick=function(t){if(this.showError=!1,this.searchValue&&this.isEnterClick||!this.checkValidation){this.isEnterClick=!1,this.updateLocalStrWithRecentSearchDetails(this.searchValue,!0),this.storeKeywordsForRecommendation();var o={};o.trait6=this.searchValue;try{this.commonService.processTrackingEvent("page_search",void 0,o)}catch(e){i.logger.debug(e.message)}var n=e.prototype.getUrl.call(this,null,"search-results",{},"keywords="+this.searchValue);window.location.assign(n)}else this.showError=!0},t.prototype.updateLocalStorage=function(){var e=this.localStorage.getItem("globalSearch")||[];-1==e.indexOf(this.searchValue)&&(e.push(this.searchValue),this.localStorage.setItem("globalSearch",e)),this.recentSearchStorage=e},t.prototype.populateRecentSearches=function(){null!=this.commonService.getSpecificTrackCtx(s.globalSearchKeywords)?this.allSuggestions.searched=this.commonService.getSpecificTrackCtx(s.globalSearchKeywords):this.showRecentSearches=!1},t.prototype.getCategoryUrl=function(e){return"/us/en/c/"+e.toLowerCase()+"-jobs"},t.prototype.updateLocalStrWithRecentSearchDetails=function(e,t){if(!0===t||!1===this.inlineSearch){null!=e&&e.length>0&&(this.searchValue=e);var o=[];null!=this.commonService.getSpecificTrackCtx(s.globalSearchKeywords)&&(o=this.commonService.getSpecificTrackCtx(s.globalSearchKeywords)),this.searchValue&&this.searchValue.length&&(-1==o.indexOf(this.searchValue)?o.unshift(this.searchValue):(o.splice(o.indexOf(this.searchValue),1),o.unshift(this.searchValue)),this.commonService.setSpecificTrackCtx(s.globalSearchKeywords,o))}return!0},t.prototype.storeKeywordsForRecommendation=function(){var e=[];if(null!=this.commonService.getSpecificTrackCtx(s.searchKeywords)&&(e=this.commonService.getSpecificTrackCtx(s.searchKeywords)),this.searchValue&&this.searchValue.length){if(null!=e){for(var t in e)if(e[t].keyword==this.searchValue){e.splice(t,1);break}}else e=[];e.unshift({keyword:this.searchValue,timeStamp:(new Date).toUTCString()}),this.commonService.setSpecificTrackCtx(s.searchKeywords,e)}},t.version="v3",t.ddoKey="ddoKey",t.ddoKeyEvent="ddoKeyEvent",t.elementTag="ph-global-search-"+s.version,t.globalSearchKeywords="globalSearch_keywords",t.searchKeywords="keywords",__decorate([o.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([o.bindable(),__metadata("design:type",String)],t.prototype,"placeholderText",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"showTitle",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"showCaption",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"searchValue",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"arrowNavigation",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"reloadOnClear",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"checkValidation",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"inlineSearch",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"preFillSearchedKey",void 0),t=s=__decorate([o.customElement(s.elementTag),o.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(l=void 0!==i.CommonService&&i.CommonService)&&l||Object,a.GlobalSearchService,n.EventAggregator,"function"==typeof(c=void 0!==i.LocalStorageAPI&&i.LocalStorageAPI)&&c||Object,Object])],t);var s,l,c}(i.PhenomWidget);t.GlobalSearch=s}),define("text!v3/ph-global-search.html",["module"],function(e){e.exports='<template>\r\n\t<compose view.bind="tmplUrl" containerless>\r\n</template>'});var __decorate=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v3/ph-global-search-service",["require","exports","aurelia-framework","ph-common"],function(e,t,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.commonService=e,this.params={}}return e.prototype.getSearchResults=function(e,t,o){var i=this.params;return o&&(delete i.field,delete i.sub_field,i.keywords=o,i.category="category",i.location="location"),"globalSearchV3"==t&&(i.field="category",i.sub_field="internalCategoryId",i.location_size=2,i.category_size=2,i.job_size=3),this.commonService.getDDO(e,t,i).then(function(e){var o=e[t];if(o.jobLocations&&o.jobLocations.locations){var i=o.jobLocations.locations,n={};for(var r in i){var a=[];if(i.hasOwnProperty(r)){var s=i[r];for(var l in s){var c=s[l];c.location=c.name,c.field=r,a.push(c)}}n[r]=a}o[t]={locations:n}}return o})},e=__decorate([o.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==i.CommonService&&i.CommonService)&&t||Object])],e);var t}();t.GlobalSearchService=n}),define("v3/ph-global-search-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v3:{ddoKey:"globalSearchV3",ddoKeyEvent:"globalSearchEventV3"}}}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v1/ph-geo-location-config",["require","exports"],function(e,t){"use strict";t.WidgetConfig={v1:{ddoKey:""}}});var __decorate=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-geo-location-service",["require","exports","aurelia-framework","ph-common"],function(e,t,o,i){"use strict";var n=function(){function e(e){this.commonService=e}return e=__decorate([o.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==i.CommonService&&i.CommonService)&&t||Object])],e);var t}();t.GeoLocationService=n});var __extends=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},__decorate=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-geo-location",["require","exports","aurelia-framework","ph-common","./ph-geo-location-service","aurelia-event-aggregator"],function(e,t,o,i,n,r){"use strict";var a="ph-geo-location-v1",s={
"errors.location.unsupportedBrowser":"Browser does not support location services","errors.location.permissionDenied":"You have rejected access to your location","errors.location.positionUnavailable":"Unable to determine your location"},l=function(e){function t(t,o,i,n){e.call(this,t,o,a),this.geoLocationService=i,this.publishEvent=n}return __extends(t,e),t.prototype.getGeoLocation=function(){var e={enableHighAccuracy:!0,maximumAge:0};return new Promise(function(t,o){function i(e){t(e)}function n(e){o(e.message)}window.navigator&&window.navigator.geolocation?window.navigator.geolocation.getCurrentPosition(i,n,e):o(s["errors.location.unsupportedBrowser"])})},t.prototype.saveLocation=function(){var e=this;this.getGeoLocation().then(function(t){e.geoLocation=t,e.publishEvent.publish("GeoLocation",t)}).catch(function(t){e.publishEvent.publish("LocationError",t)})},t.prototype.askForLocation=function(){return this.geoLocation?this.geoLocation:void this.saveLocation()},t.prototype.created=function(){this.saveLocation()},__decorate([o.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),t=__decorate([o.customElement(a),o.containerless(),o.autoinject(),o.noView(),__metadata("design:paramtypes",[Element,"function"==typeof(l=void 0!==i.CommonService&&i.CommonService)&&l||Object,n.GeoLocationService,r.EventAggregator])],t);var l}(i.PhenomWidget);t.GeoLocation=l}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v1/ph-candidate-merge-profile-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v1:{ddoKeyValidateJwtToken:"validateJwtToken",ddoKeyJwtLogout:"jwtLogout",ddokeyMergeProfileData:"ciGetMergeProfileData",ddokeyCiMergeProfileCancel:"ciMergeProfileCancel",ciMergeStatusChange:"ciMergeStatusChange"}}});var __decorate=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-candidate-merge-profile-service",["require","exports","aurelia-framework","ph-common"],function(e,t,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.commonService=e}return e.prototype.makeDDORequest=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return e[t]})},e=__decorate([o.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==i.CommonService&&i.CommonService)&&t||Object])],e);var t}();t.CandidateMergeProfileService=n});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),__decorate=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-candidate-merge-profile",["require","exports","aurelia-framework","ph-common","./ph-candidate-merge-profile-config","./ph-candidate-merge-profile-service"],function(e,t,o,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="ph-candidate-merge-profile-v1",s=function(e){function t(t,o,i,n){var r=e.call(this,t,o,a)||this;return r.element=t,r.commonService=o,r.candidateMergeProfileService=i,r.candidateLoginService=n,r.isMergeProfile=!1,r.siteVariant="i",r.isLoggedIn=!1,r.showPopup=!1,r.allProfiles=[],r.isMergeDisabled=!1,r.mergeProfileStep=1,r.mergeAuthFlow="loginState",r.linkedAccountList=[],r.isPhnExist=!1,r}return __extends(t,e),t.prototype.attached=function(){e.prototype.attached.call(this),e.prototype.hideLoader.call(this),(this.commonService.getMergeProfileProgress()||this.isMergeProfile)&&(this.siteVariant=this.commonService.getSiteType(),this.getMergeProfileData())},t.prototype.togglePopup=function(){var t,o,i=this;this.showPopup=!this.showPopup,this.showPopup?setTimeout(function(){t=i.element.querySelector(".signin-link"),o=i.isPhnExist?i.element.querySelector(".merge-link"):i.element.querySelector(".ph-a11y-merge-buttons .btn-cancel"),e.prototype.openDialogPopup.call(i,"modal",t,o)},100):e.prototype.closeDialogPopup.call(this)},t.prototype.getJwtToken=function(){var t=this,o={};this.candidateLoginService.getValidateJwtToken(a,n.WidgetConfig.v1.ddoKeyValidateJwtToken,o).then(function(e){e.data.isValidToken&&(t.isLoggedIn=!0)},function(o){e.prototype.hideLoader.call(t),new Error(o)})},t.prototype.doProfileLogin=function(e,t){var o={name:e,profileValidation:t},i=this.candidateLoginService.socialLoginUrl(a,this.siteVariant,o);i&&(window.location.href=i)},t.prototype.doProfileLogout=function(){var e=this;this.candidateLoginService.doLogout(a,n.WidgetConfig.v1.ddoKeyJwtLogout).then(function(t){t&&"success"==t.status?(e.isLoggedIn=!1,document.location.reload()):i.logger.debug("Failure ",t)})},t.prototype.getMergeProfileData=function(){var t=this;this.candidateLoginService.getMergeProfile(a,n.WidgetConfig.v1.ddokeyMergeProfileData).then(function(o){if(o&&Object.keys(o).length){if(t.profileData=o,t.loginProfile=t.profileData.loginProfile,t.allProfiles=t.profileData.allProfiles,t.linkedAccountList=t.profileData.linkedAccountList,t.allProfiles.length){var i=t.allProfiles.findIndex(function(e){return"phone"==e.mergeField});t.isPhnExist=-1!=i}t.allProfiles.length&&t.togglePopup(),t.profileData.mergeAuthFlow&&t.profileData.mergeAuthFlow.length&&(t.mergeProfileStep=2,t.mergeAuthFlow=t.profileData.mergeAuthFlow)}e.prototype.hideLoader.call(t)})},t.prototype.backToMergeFlow=function(){this.mergeProfileStep=1},t.prototype.changeMergeStatus=function(e,t,o){var r=this,s={};e.merge=t,s.profile=e,this.candidateMergeProfileService.makeDDORequest(a,n.WidgetConfig.v1.ciMergeStatusChange,s).then(function(e){e&&"success"==e.status?r.getMergeProfileData():i.logger.debug("Failure responsee ")})},t.prototype.mergeProfiles=function(e){var t;if(!this.isMergeDisabled){var o={};o.trait213=this.loginProfile.socialProvider,this.commonService.processTrackingEvent("allow_merge_click",void 0,o);var i=this;this.mergeProfileStep=2,setTimeout(function(){t=i.element.querySelector(".phs-merge-auth-area .close"),t.focus()},100)}},t.prototype.mergeCancel=function(){var e=[];e.allProfiles=[],e.mergeStatus=!1,this.candidateLoginService.profileMergeCancel(a,n.WidgetConfig.v1.ddokeyCiMergeProfileCancel,e).then(function(e){e&&"success"==e.status?window.location.reload():i.logger.debug("Failure ",e)})},t.prototype.getLocalWidgetBundle=function(){return{profileCount:"{{profileCount}} previous profiles",profileCountSingler:"{{profileCount}} previous profile",duplicateProfileInfo:"{{profileCount}} duplicate profiles found",mergeCount:"Merge selected ({{profileCount}})",mergeProfiles:"Merge profiles",duplicateProfileInfoSingler:"{{profileCount}} duplicate profile found"}},__decorate([o.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"isMergeProfile",void 0),t=__decorate([o.customElement(a),o.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(s=void 0!==i.CommonService&&i.CommonService)&&s||Object,r.CandidateMergeProfileService,"function"==typeof(l=void 0!==i.CandidateLoginService&&i.CandidateLoginService)&&l||Object])],t);var s,l}(i.PhenomWidget);t.CandidateMergeProfile=s}),define("text!v1/ph-candidate-merge-profile.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("text!v1/views/ph-candidate-merge-profile-v1/default/view.html",["module"],function(e){e.exports='<template>\n    <div ph-loading-img="show-loader.bind: showLoader" show.bind="showLoader" class="show-loader">\n    </div>\n    <div class="phs-widget-block-area ph-widget-box" role="region" if.bind="!showLoader && allProfiles.length" data-ph-at-id="social-connect-view">\n        <div class="modal-backdrop fade in show"></div>\n        <div class="modal fade in show" role="dialog">\n            <div class="modal-dialog merge-modal" role="document">\n                <div class="modal-content">\n                    \x3c!--  Social Profile Merge Area Starts  --\x3e\n                    <div class="phs-social-merge-area" data-ph-at-id="social-merge-area" if.bind="mergeProfileStep == 1">\n                        <div class="loggedin-user-details" data-ph-at-id="loggedin-user-details" data-ph-at-profile-name-text="${loginProfile.firstName + \' \' + loginProfile.lastName}"\n                            data-ph-at-profile-email-text="${loginProfile.email}" data-ph-at-profile-phno-text="${loginProfile.phone}">\n                            <figure class="loggedin-user-profile-img">\n                                <img src="${loginProfile.pictureUrl}" alt="${loginProfile.firstName} ${loginProfile.lastName}" class="img-circle" show.bind="loginProfile.pictureUrl"\n                                    data-ph-at-id="profile-image"/>\n                                <ppc-content type="image" show.bind="!loginProfile.pictureUrl">\n                                    <img ph-src="assets/images/default_profile.png" alt="${loginProfile.firstName} ${loginProfile.lastName}" class="img-circle"\n                                        key-ph-src="defaultProfileImgSource" data-ph-at-id="profile-image"/>\n                                </ppc-content>\n                            </figure>\n                            <div>\n                                ${loginProfile.firstName + \' \' + loginProfile.lastName}</div>\n                            <p>\n                                <span>${loginProfile.email}</span>\n                                <span>${loginProfile.phone}</span>\n                            </p>\n                        </div>\n\n                        <div class="content-block">\n                            <div class="loggedin-user-info" data-ph-at-id="loggedin-user-info">\n\n                                \x3c!--  Previous Profile Details Starts  --\x3e\n                                <div class="previous-profile-details" data-ph-at-id="previous-profile-details" data-ph-at-profile-name-text="${loginProfile.firstName}">\n                                    <ppc-content key="greetingText" data-ph-at-id="greeting-text"> Hi,</ppc-content>\n                                    <strong>${loginProfile.firstName} .</strong>\n                                    <span>\n                                        <ppc-content key="profileResultPrefixText" data-ph-at-id="profileresultprefix-text">We have found </ppc-content>\n                                    </span>\n                                    <strong show.bind="allProfiles.length == 1">\n                                        ${widgetBundle[\'profileCountSingler\'] | pht:{\'profileCount\':allProfiles.length}}\n                                    </strong>\n                                    <strong show.bind="allProfiles.length != 1">\n                                        ${widgetBundle[\'profileCount\'] | pht:{\'profileCount\':allProfiles.length}}\n                                    </strong>\n                                    <span>\n                                        <ppc-content key="profileResultPostfixText" data-ph-at-id="profileresultpostfix-text">that is using your credentials. Let’s merge that old account to your new one in order\n                                            to improve your experience.\n                                        </ppc-content>\n                                    </span>\n                                </div>\n                                \x3c!--  Previous Profile Details Ends  --\x3e\n\n                                <div class="duplicate-profile" data-ph-at-id="duplicate-profile">\n                                    <a href="javascript:void(0);" data-ph-at-id="duplicate-profile-link">\n                                        <span show.bind="allProfiles.length == 1">\n                                            ${widgetBundle[\'duplicateProfileInfoSingler\'] | pht:{\'profileCount\':allProfiles.length}}\n                                        </span>\n                                        <span show.bind="allProfiles.length != 1">\n                                            ${widgetBundle[\'duplicateProfileInfo\'] | pht:{\'profileCount\':allProfiles.length}}\n                                        </span>\n                                    </a>\n                                </div>\n                                <ul class="duplicate-profile-list" data-ph-at-id="duplicate-profile-list">\n                                    <li repeat.for="eachMerge of allProfiles" data-ph-at-id="duplicate-profile-list-item" data-ph-at-mergeemail-text="${eachMerge.email}"\n                                        data-ph-at-mergephone-text="${eachMerge.phone}">\n                                        <figure class="duplicate-profile-img">\n                                            <img src="${eachMerge.pictureUrl}" alt="${eachMerge.firstName} ${eachMerge.lastName}" class="img-circle" show.bind="eachMerge.pictureUrl"\n                                                data-ph-at-id="profile-image">\n                                            <ppc-content type="image" show.bind="!eachMerge.pictureUrl">\n                                                <img ph-src="assets/images/default_profile.png" alt="${eachMerge.firstName} ${eachMerge.lastName}" class="img-circle" key-ph-src="defaultProfileImgSource"\n                                                    data-ph-at-id="profile-image">\n                                            </ppc-content>\n                                            <i class="icon icon-${eachMerge.socialProvider}"></i>\n                                        </figure>\n                                        <div class="duplicate-profile-details" data-ph-at-id="duplicate-profile-details">\n                                            <p> ${eachMerge.email}\n                                                <span data-ph-at-id="duplicate-email-text" show.bind="eachMerge.mergeField == \'email\'">(duplicate e-mail)</span>\n                                            </p>\n                                            <p>${eachMerge.phone}\n                                                <span data-ph-at-id="duplicate-phone-text" show.bind="eachMerge.mergeField == \'phone\'">(duplicate phone)</span>\n                                            </p>\n                                        </div>\n                                        <div class="duplicate-profile-merge" show.bind="eachMerge.mergeField == \'email\'" data-ph-at-id="duplicate-profile-email-merge">\n                                            <a href="javascript:void(0);" data-ph-at-id="merge-link">Merge\n                                                <div class="merge-tooltip">\n                                                    <span>\n                                                        <ppc-content key="tooltipText" data-ph-at-id="tooltip-text">\n                                                            You can\'t have two profiles with the\n                                                            <strong> same e-mail</strong>. In order to complete Login merge this profile\n                                                            to the new one.\n                                                        </ppc-content>\n                                                    </span>\n                                                </div>\n                                            </a>\n                                        </div>\n                                        <div class="duplicate-profile-merge" show.bind="eachMerge.mergeField == \'phone\'" data-ph-at-id="duplicate-profile-phone-merge">\n                                            <a href="javascript:void(0);" data-ph-at-id="merge-link">Merge\n                                                <i class="icon icon-down-arrow" click.delegate="eachMerge.isToggleOpen"></i>\n                                            </a>\n                                            <ul class="merge-dropdown" if.bind="eachMerge.isToggleOpen" data-ph-at-id="merge-drop-down-list">\n                                                <li data-ph-at-id="merge-drop-down-list-item">\n                                                    <a href="javascript:void(0);" click.delegate="changeMergeStatus(eachMerge, true, $index)" data-ph-at-id="merge-link">Merge</a>\n                                                </li>\n                                                <li data-ph-at-id="merge-drop-down-list-item">\n                                                    <a href="javascript:void(0);" click.delegate="changeMergeStatus(eachMerge, false, $index)" data-ph-at-id="dontmerge-link">Don\'t Merge</a>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </li>\n                                </ul>\n                                <div class="merge-btn-wrapper clearfix">\n                                    <button class="btn plain-button btn-cancel" click.delegate="mergeCancel()" role="button" key-role="button" data-ph-at-id="cancel-button">\n                                        <ppc-content key="cancelText" data-ph-at-id="cancel-text">\n                                            Cancel\n                                        </ppc-content>\n                                    </button>\n                                    <button class="btn plain-button btn-merge ${isMergeDisabled ? \'disabled\':\'\'}" click.delegate="mergeProfiles(allProfiles)"\n                                        role="button" key-role="button" data-ph-at-id="merge-allprofiles-button">\n                                        <span class="merge-selected-count">\n                                            ${widgetBundle[\'mergeCount\'] | pht:{\'mergeCount\': candidateProfileMergeList.length}}\n                                        </span>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    \x3c!--  Social Profile Merge Area Ends  --\x3e\n\n\n                    \x3c!--  Social Merge Auth Area Starts  --\x3e\n                    <div class="phs-merge-auth-area" data-ph-at-id="merge-auth-area" if.bind="mergeProfileStep == 2">\n                        <div class="login-auth-heading">\n                            <a class="close" href="javascript:void(0)" data-ph-at-id="close-the-popup-button" click.delegate="backToMergeFlow()">\n                                <i class="icon icon-cancel" aria-hidden="true"></i>\n                                <span class="sr-only">\n                                    <ppc-content key="closePopupText" data-ph-at-id="close-the-popup-text">Close the popup</ppc-content>\n                                </span>\n                            </a>\n                            \x3c!-- Merge Login Verification --\x3e\n                            <div class="login-auth-flow" if.bind="mergeAuthFlow == \'loginState\'">\n                                <h2 class="heading">\n                                    <ppc-content key="widgetHeadingText" data-ph-at-id="heading-text">\n                                        Login to complete merge\n                                    </ppc-content>\n                                </h2>\n                                <p class="phs-widget-sub-title">\n                                    <ppc-content key="widgetSubHeadingText" data-ph-at-id="sub-heading-text">\n                                        In orther to complete your profile merge, connect to the following account:\n                                    </ppc-content>\n                                </p>\n                            </div>\n                            \x3c!-- Merge unsuccess --\x3e\n                            <div class="merge-auth-flow" if.bind="mergeAuthFlow == \'unsuccessfulMerge\'">\n                                <h2 class="heading">\n                                    <ppc-content key="mergeUnsuccessfulText" data-ph-at-id="merge-unsuccessful-text">\n                                        <span class="merge-error hide">Merge unsuccessful</span>\n                                    </ppc-content>\n                                </h2>\n                                <p class="phs-widget-sub-title">\n                                    <ppc-content key="mergeUnsuccessfulWidgetSubHeadingText" data-ph-at-id="sub-heading-text">\n                                        The profile you tried to connect is not the duplicate profile we have identified. Connect to the following account:\n                                    </ppc-content>\n                                </p>\n                            </div>\n                            \x3c!-- Merge success --\x3e\n                            <div class="merge-auth-flow" if.bind="mergeAuthFlow == \'successfulMerge\'">\n                                <h2 class="heading">\n                                    <ppc-content key="mergeUnsuccessfulText" data-ph-at-id="merge-unsuccessful-text">\n                                        <span class="merge-error hide">Merge unsuccessful</span>\n                                    </ppc-content>\n                                </h2>\n                                <p class="phs-widget-sub-title">\n                                    <ppc-content key="mergeUnsuccessfulWidgetSubHeadingText" data-ph-at-id="sub-heading-text">\n                                        The profile you tried to connect is not the duplicate profile we have identified. Connect to the following account:\n                                    </ppc-content>\n                                </p>\n                            </div>\n                            \x3c!-- End --\x3e\n                        </div>\n\n                        <ul class="merge-auth-list" data-ph-at-id="merge-auth-list">\n                            <li data-ph-at-id="merge-auth-list-item" repeat.for="eachMerge of candidateProfileMergeList">\n                                <figure class="merge-auth-img">\n                                    <img src="${eachMerge.pictureUrl}" alt="${eachMerge.firstName} ${eachMerge.lastName}" class="img-circle" show.bind="eachMerge.pictureUrl"\n                                        data-ph-at-id="profile-image">\n                                    <ppc-content type="image" show.bind="!eachMerge.pictureUrl">\n                                        <img ph-src="assets/images/default_profile.png" alt="${eachMerge.firstName} ${eachMerge.lastName}" class="img-circle" key-ph-src="defaultProfileImgSource"\n                                            data-ph-at-id="profile-image">\n                                    </ppc-content>\n                                    <i class="icon icon-${eachMerge.socialProvider}"></i>\n                                </figure>\n                                <div class="merge-auth-details" data-ph-at-id="merge-auth-details">\n                                    <p> ${eachMerge.email}</p>\n                                    <p> ${eachMerge.phone}</p>\n                                </div>\n                                <div class="merge-auth-login" data-ph-at-id="merge-auth-login">\n                                    <a href="javascript:void(0);" data-ph-at-id="auth-link" click.delegate="doProfileLogin(eachMerge.socialProvider, true)">\n                                        <i class="icon icon-up-arrow"></i>\n                                    </a>\n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n                    \x3c!--  Social Merge Auth Area Ends  --\x3e\n\n                </div>\n            </div>\n        </div>\n    </div>\n</template>'}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v1/ph-profile-recommendations-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v1:{ddoKeyProfile:"profileRecomContent",ddoKeyProfileLSID:"getLinkedInProfileRecom",ddoKeySocialProfile:"getSocialProviderProfile",ddoKeyBrowsing:"browserRecomContent",ddoKeyValidateJwtToken:"validateJwtToken",ddoKeyAdd:"addToCartV2",ddoKeyDelete:"deleteFromCartV2",ddoKeyStatusList:"getJobStatusListV2"}}}),define("v1/ph-profile-recommendations-model",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.recomContentReqObj={keywords:[],categories:[],jobsViewed:[],jobsApplied:null,locations:[],types:[],userProfile:null,landingPages:null,size:5},this.recomJobsReqObj={keywords:[],categories:[],jobsViewed:[],jobsApplied:null,locations:[],types:[],userProfile:null,landingPages:null}}return e}();t.ProfileRecommendationModel=o});var __decorate=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-profile-recommendations-service",["require","exports","aurelia-framework","ph-common"],function(e,t,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.commonService=e,this.isLoggedIn=!1}return e.prototype.getprofileContent=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return e||{}})},e.prototype.getProfile=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return(e||{})[t]})},e.prototype.getValidateJwtToken=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return(e||{})[t]})},e.prototype.addToCart=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return e[t]})},e.prototype.deleteFromCart=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return e[t]})},e.prototype.getJobSatusList=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return e[t]})},e.prototype.getRecommendedTrackCtx=function(){var e=this.commonService,t=e.recommendationTrackingConfig,o=e.phenomAppManager,i=o.getCountry(),n=o.getLocale(),r="us"!=i,a={};for(var s in t)if(t.hasOwnProperty(s))if(Array.isArray(t[s]))t[s].forEach(function(t){var o=[],s=[i,n,t.storageKey].join("_");if(o[0]=e.localStorageAPI.getItem(s),r){var l=["us","en_us",t.storageKey].join("_");o[1]=e.localStorageAPI.getItem(l),o=o[0].concat(o[1])}else a[t.storageKey]=o[0]});else{var l=[],c=[i,n,t[s].storageKey].join("_");if(l[0]=e.localStorageAPI.getItem(c),r){var d=["us","en_us",t[s].storageKey].join("_");l[1]=e.localStorageAPI.getItem(d),l[0].concat(l[1])}else a[t[s].storageKey]=l[0]}return a},e.prototype.updateUser=function(e){var t=e||{},o=t.data||{};this.isLoggedIn=o.isValidToken||!1},e=__decorate([o.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==i.CommonService&&i.CommonService)&&t||Object])],e);var t}();t.ProfileRecommendationsService=n});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),__decorate=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-profile-recommendations",["require","exports","aurelia-framework","ph-common","./ph-profile-recommendations-config","./ph-profile-recommendations-service","./ph-profile-recommendations-model","aurelia-event-aggregator"],function(e,t,o,i,n,r,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l="v1",c="ddoKeyBrowsing",d="ph-profile-recommendations-"+l,p={Profile:"profile",Browsing:"browsing"},h="linkedInProfileObj",u="linkedin_recommended_job_click",f=function(e){function t(t,o,i,r,a,s,p){var f=e.call(this,t,o,d)||this;return f.commonService=o,f.contentService=i,f.urlManager=r,f.contentModel=a,f.eventAggregator=s,f.localStorage=p,f.profileOnly="0",f.jobTeaser=!1,f.jobCaption=!1,f.clickTojd=!1,f.addMultiLingualRecom=!1,f.activeSlide=3,f.jobRecommendations=[],f.recomJobCategories=[],f.jobResults=[],f.maxDisplayCount=5,f.seemoretext=!0,f.isErrorMsgReqd=!1,f.showErrorMsg=!1,f.showMore=null,f.isKeyPress=!1,f.bulkcart=!1,f.user={isLoggedIn:null,userId:"",userType:"",socialProvider:"",isSocialLogin:null,isSiteLogin:null},f.getBrowsingContent=function(t){e.prototype.unhideLoader.call(f);var o,i=f.contentModel.recomJobsReqObj;o=f.addMultiLingualRecom?f.contentService.getRecommendedTrackCtx():f.commonService.getRecommendedTrackCtx();for(var r in o)i[r]=o[r];t&&(i.userProfile=f.commonService.getSpecificTrackCtx(h)),f.maxJobs&&(i.recoSize=f.maxJobs),f.contentService.getprofileContent(d,n.WidgetConfig[l][c],i).then(function(t){if(e.prototype.hideLoader.call(f),t){var o=t.jobRecommendations.data&&t.jobRecommendations.data.recommendedJobs;if(o&&0!=o.length){if(f.bulkcart){for(var i=[],r=0,a=o;r<a.length;r++){var s=a[r];o.isJobSaved=null,o.saveJobInterState=null,o.inProgress=!1,i.push(s.jobSeqNo)}var c={jobSeqNos:i};f.contentService.getJobSatusList(d,n.WidgetConfig[l].ddoKeyStatusList,c).then(function(e){if(e&&e.data)for(var t=e.data,i=0,n=o;i<n.length;i++){var r=n[i];r.isJobSaved=t[r.jobSeqNo]||!1,r.saveJobInterState=t[r.jobSeqNo]||!1}})}}else o=[],f.handleError("");f.jobRecommendations=o,f.commonService.populateJobResults&&(f.jobResults=f.commonService.populateJobResults(f.jobRecommendations,f.clickTojd,u)),f.seemoretext=f.seemoretext&&o.length>f.maxDisplayCount,f.seemoretext?f.seemore(void 0,!0):f.maxDisplayCount=f.jobRecommendations.length}},function(t){new Error(t),e.prototype.hideLoader.call(f),f.handleError("")})},f.addJobContext=function(){f.commonService.addJobContext(d,f.jobRecommendations)},
f.getJwtToken(),f}return __extends(t,e),t.prototype.attached=function(){var t=this;e.prototype.attached.call(this),this.getShowMoreCount=this.maxDisplayCount,this.isLiV2Enabled=this.isLinkedinV2Enabled(),this.eventAggregator.subscribe("getUserProfileData",function(e){t.seemoretext=!0,t.maxDisplayCount=t.getShowMoreCount,t.getJwtToken()})},t.prototype.isLinkedinV2Enabled=function(){return!!this.isLiV2Enabled||this.commonService.getSiteSettings("isLiV2Enabled")||!1},t.prototype.handleProfileView=function(e){switch(e){case p.Profile:this.isLiV2Enabled?this.getProfileContent("ddoKeyProfileLSID"):this.getProfileContent("ddoKeyProfile");break;case p.Browsing:this.getBrowsingContent()}},t.prototype.handleSaveJob=function(e){this.bulkcart&&(e.inProgress=!0,e.saveJobInterState?this.deleteJobFromCart(e):this.addToJobCart(e))},t.prototype.addToJobCart=function(e){var t=this,o={job:{title:e.title,jobSeqNo:e.jobSeqNo,location:e.location,type:e.type,shortDescription:e.descriptionTeaser,applyUrl:e.applyUrl,category:e.category,postedDate:e.postedDate,expiryDate:e.expiryDate,reqId:e.reqId,multi_location:e.multi_location}};this.contentService.addToCart(d,n.WidgetConfig[l].ddoKeyAdd,o).then(function(o){if(e.inProgress=!1,"602"==o.status){var i={trait5:e.jobSeqNo,trait14:e.category};e.saveJobInterState=!0,t.eventAggregator.publish("jobCartCount","+1"),t.eventAggregator.publish("jobCartUpdatedCount",""),t.commonService.processTrackingEvent("job_added_to_jobcart",void 0,i)}else e.isJobSaved=!1,e.saveJobInterState=!1,console.info("failed on jobsave: "+o.status)})},t.prototype.deleteJobFromCart=function(e){var t=this,o={jobSeqNo:e.jobSeqNo};this.contentService.deleteFromCart(d,n.WidgetConfig[l].ddoKeyDelete,o).then(function(o){if(e.inProgress=!1,"605"==o.status){var i={};e.saveJobInterState=!1,i.trait5=e.jobSeqNo,i.trait14=e.category,t.eventAggregator.publish("jobCartCount","-1"),t.eventAggregator.publish("jobCartUpdatedCount",""),t.commonService.processTrackingEvent("job_unfavorited",void 0,i)}else e.isJobSaved=!0,e.saveJobInterState=!0,console.info("failed on deleteJobFromCart")})},t.prototype.getJwtToken=function(){var t=this,o={};this.contentService.getValidateJwtToken(d,n.WidgetConfig[l].ddoKeyValidateJwtToken,o).then(function(e){t.updateState(e),t.handlePage()},function(o){e.prototype.hideLoader.call(t),new Error(o)})},t.prototype.handlePage=function(){"1"==this.profileOnly?this.user.isLoggedIn||this.user.isSocialLogin?this.handleProfileView(p.Profile):e.prototype.hideContainer.call(this):(this.recommendationType=this.user.isLoggedIn?p.Profile:p.Browsing,this.handleProfileView(this.recommendationType))},t.prototype.getProfileContent=function(t){var o=this;e.prototype.unhideLoader.call(this),this.contentService.getprofileContent(d,n.WidgetConfig[l][t],{}).then(function(t){if(e.prototype.hideLoader.call(o),o.isLiV2Enabled&&t&&t.getLinkedInProfileRecom&&(t.jobRecommendations=t.getLinkedInProfileRecom),t){var i=t.jobRecommendations.data&&t.jobRecommendations.data.results;if(i&&i.length){if(o.bulkcart){for(var r=[],a=0,s=i;a<s.length;a++){var c=s[a];i.isJobSaved=null,i.saveJobInterState=null,i.inProgress=!1,r.push(c.jobSeqNo)}var p={jobSeqNos:r};o.contentService.getJobSatusList(d,n.WidgetConfig[l].ddoKeyStatusList,p).then(function(e){if(e&&e.data)for(var t=e.data,o=0,n=i;o<n.length;o++){var r=n[o];r.isJobSaved=t[r.jobSeqNo]||!1,r.saveJobInterState=t[r.jobSeqNo]||!1}})}e.prototype.showContainer.call(o)}else i=[],o.handleError("");o.jobRecommendations=i,o.commonService.populateJobResults&&(o.jobResults=o.commonService.populateJobResults(o.jobRecommendations,o.clickTojd,u)),t.jobRecommendations.data&&t.jobRecommendations.data.linkedInCategoryWidget&&t.jobRecommendations.data.linkedInCategoryWidget.length&&(o.recomJobCategories=t.jobRecommendations.data.linkedInCategoryWidget),o.seemoretext=o.seemoretext&&i.length>o.maxDisplayCount,o.seemoretext?o.seemore(void 0,!0):o.maxDisplayCount=o.jobRecommendations.length;var h={};h.jobs=o.jobResults||[],h.categories=o.recomJobCategories||[],o.eventAggregator.publish("ph:profileRecomData",h)}},function(t){new Error(t),e.prototype.onError.call(o,""),e.prototype.hideLoader.call(o)})},t.prototype.seemore=function(t,o){var i=this;if(this.showMore){o||e.prototype.trackWidgetClick.call(this,"see_more_click",{});var n=this.maxDisplayCount;setTimeout(function(){i.element.querySelector('[data-access-list-item="'+n+'"]')&&i.element.querySelector('[data-access-list-item="'+n+'"]').focus()},150),this.maxDisplayCount+=this.getShowMoreCount}else null!=this.showMore&&(o||e.prototype.trackWidgetClick.call(this,"see_less_click",{}),this.maxDisplayCount=this.getShowMoreCount,setTimeout(function(){i.element.querySelector('[data-access="showMore"]')&&i.element.querySelector('[data-access="showMore"]').focus()},150));this.maxDisplayCount>=this.jobRecommendations.length?this.showMore=!1:this.showMore=!0,this.currStartIdx=this.maxDisplayCount-this.getShowMoreCount},t.prototype.onError=function(){e.prototype.hideLoader.call(this),console.info("recommendations: errored...")},t.prototype.handleError=function(t){this.isErrorMsgReqd?this.showErrorMsg=!0:e.prototype.onError.call(this,"")},t.prototype.updateState=function(e){var t=e||{},o=t.data||{};this.user.isLoggedIn=o.isValidToken||!1,this.user.userId=o.userId||"",this.user.userType=o.userType||"",this.user.socialProvider=o.socialProvider||"",this.user.isSiteLogin=o.isSiteLogin||!1,this.user.isSocialLogin=o.isSocialLogin||!1},t.prototype.setActiveCtx=function(e){this.activeSlide=e},t.prototype.handleFocusOnToggle=function(e,t,o){return o===t&&this.isKeyPress&&(e.focus(),this.isKeyPress=!1),!0},t.prototype.seemoreOnKeyUp=function(e){return 13===e.keyCode&&(this.isKeyPress=!0,this.seemore()),!0},t.prototype.getContextData=function(){return this.jobRecommendations},t.prototype.getLoacalePath=function(e){return e=e.split("_"),e="/"+e[1]+"/"+e[0]+"/"},t.prototype.getUrlWithLocale=function(e,t,o,i){e&&e.setAttribute&&e.setAttribute("ph-click-ctx",t),e&&e.getAttribute&&e.getAttribute("ph-tevent")&&(this.subscribeToTrackingEvents(e),e.setAttribute("ph-tref",(new Date).getTime()+(65536*(1+Math.random())|0).toString(16).substring(0)),e.setAttribute("ph-tag",this.tagName),this.commonService.storePageTrackEventData(e.getAttribute("ph-tref"),o));var n=this.getLoacalePath(o.locale),r=phApp.urlMap[t];if(r)return phApp.baseDomain+n+this.urlManager.getUrl(t,o,i,r)},__decorate([o.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"recommendationType",void 0),__decorate([o.bindable,__metadata("design:type",String)],t.prototype,"profileOnly",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"jobTeaser",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"jobCaption",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"clickTojd",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"addMultiLingualRecom",void 0),__decorate([o.bindable(),__metadata("design:type",Number)],t.prototype,"maxDisplayCount",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"seemoretext",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"isErrorMsgReqd",void 0),__decorate([o.bindable(),__metadata("design:type",String)],t.prototype,"mode",void 0),__decorate([o.bindable(),__metadata("design:type",Number)],t.prototype,"maxJobs",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"isLiV2Enabled",void 0),__decorate([o.bindable(),__metadata("design:type",Object)],t.prototype,"bulkcart",void 0),t=__decorate([o.customElement(d),o.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(f=void 0!==i.CommonService&&i.CommonService)&&f||Object,r.ProfileRecommendationsService,"function"==typeof(g=void 0!==i.UrlManager&&i.UrlManager)&&g||Object,a.ProfileRecommendationModel,s.EventAggregator,"function"==typeof(m=void 0!==i.LocalStorageAPI&&i.LocalStorageAPI)&&m||Object])],t);var f,g,m}(i.PhenomWidget);t.ProfileRecommendations=f}),define("text!v1/ph-profile-recommendations.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("text!v1/views/ph-profile-recommendations-v1/default/view.html",["module"],function(e){e.exports='<template>\n<div class="show-loader" ph-loading-img="show-loader.bind: showLoader" show.bind="showLoader"></div>\n<div class="phs-recom-history-jobs-area ph-widget-box" show.bind="!showLoader" data-ph-at-id="browser-recomm">\n    <div class="widget-container">\n        <div class="phs-widget-heading">\n            <h2>\n                <ppc-content key="widgetHeadingText" data-ph-at-id="browser-recomm-head">\n                    Profile recommendations\n                </ppc-content>\n            </h2>\n        </div>\n        ${jobResults.length}\n        <div class="content-block">\n            <div class="browsing-recom-block" show.bind="jobResults.length">\n                <ul data-ph-at-id="browser-recomm-list">\n                    <li class="jobs-list-item" repeat.for="eachJob of jobResults" show.bind="maxDisplayCount > $index">\n                        <div class="information">\n                            <a ph-tevent="recommended_job_click" ref="linkEle" href.bind="getUrl(linkEle, \'job\', eachJob)"\n                            data-ph-at-id="browser-recomm-link" data-ph-at-jobtitle-text="${eachJob.title}" data-ph-at-joblocation-text="${eachJob.location}" data-ph-at-jobcategory-text="${eachJob.category}" data-ph-at-jobid-text="${eachJob.jobId}" data-ph-at-jobposted-text="${eachJob.type}">\n                                <div class="title" if.bind="eachJob.title">${eachJob.title}</div>\n                                <p class="job-info">\n                                    <span class="job-location" if.bind="!eachJob.multi_location || eachJob.multi_location.length == 1">\n                                        ${eachJob.location}\n                                    </span>\n                                    <span class="job-category" if.bind="eachJob.category">${eachJob.category}</span>\n                                    <span class="job-id" if.bind="eachJob.jobId">\n                                        <ppc-content key="jobIdText" data-ph-at-id="nearby-jobs-jobid-text">Job ID:</ppc-content> ${eachJob.jobId}\n                                    </span>\n                                    <span class="job-type" show.bind="eachJob.type">${eachJob.type}</span>\n                                    <span class="job-postdate" if.bind="eachJob.postedDate"> \n                                        <ppc-content key="jobPostedDate1" data-ph-at-id="posted-date">\n                                            Posted on: \n                                        </ppc-content>${eachJob.postedDate | dateFormat:getDateFormat(\'MMDDYYYY_SLASH\')}\n                                    </span>\n                                </p>\n                            </a>\n                            <p class="job-description" innerhtml.bind="eachJob.descriptionTeaser | sanitizeHTML"></p>\n                            <ul class="job-multi-locations" if.bind="eachJob.multi_location.length > 1">\n                                <li>\n                                    <button ph-tevent="multi_location_click" data-ph-tevent-attr-trait14="${eachJob.category}" data-ph-tevent-attr-trait5="${eachJob.jobSeqNo}" keyup.trigger="($event.keyCode === 27)?(eachJob.toggleOpen = false):\'\'" class="esc$$close" click.delegate="eachJob.toggleOpen = !eachJob.toggleOpen" tabindex="0" role="button" key-role="c-business-programs-operations-ph-search-results-v1-view-external-btnRole" id="searchLoc" aria-haspopup="true" aria-expanded="${eachJob.toggleOpen ? \'true\' : \'false\'}" aria-label="${eachJob.title} ${eachJob.jobSeqNo} Job available in ${eachJob.multi_location.length} locations"> Job available in ${eachJob.multi_location.length} locations \n                                        <i ref="listItemIcon" class="${eachJob.toggleOpen ? \'icon icon-up-arrow\' : \'icon icon-down-arrow\'}" aria-hidden="true" data-ph-id="ph-18929372493690734-view-external-ph-search-results-v163"></i> \n                                    </button> \n                                    \x3c!--dropView used to toggle toggleMultiLocationView based on item click: js dependent--\x3e\n                                    <ul ref="listItem" class="${eachJob.toggleOpen ? \'show\' : \'hide\'}" data-ph-at-id="job-each-location" data-ph-at-text="${eachLocation}">\n                                        <li class="location" repeat.for="eachLocation of eachJob.multi_location" aria-label="${eachLocation}">\n                                        ${eachLocation}\n                                        </li>\n                                    </ul>\n                                </li>\n                            </ul>\n                        </div>\n                        <div class="actions">\n                          <a href.bind="eachJob.actionUrl" class="btn plain-button apply-btn" data-ph-at-id="browser-recomm-apply-link" ph-tevent="${eachJob.eventName}" data-ph-tevent-attr-trait5="${eachJob.jobSeqNo}" data-ph-tevent-attr-trait14="${eachJob.category}" target.bind="eachJob.externalApply!=\'undefind\' && eachJob.externalApply && !clickTojd ? \'_blank\' : \'_self\'">\n                                <ppc-content key="jobApplyActionLink" data-ph-at-id="browser-recomm-apply-text">Apply Now</ppc-content>\n                            </a>  \n\n                        </div>\n                    </li>\n                </ul>\n                <div class="phs-widget-footer" show.bind="jobResults.length > maxDisplayCount">\n                    <a href="javascript:void(0)" class="btn primary-button" click.trigger="seemore($event)" show.bind="seemoretext" ph-tevent="recommended_job_see_more_click" title="See more recommendations >>" key-title="seeMoreJobsActionTitleText" data-ph-at-id="browser-recomm-seemore-link">\n                        <ppc-content key="seeMoreJobsActionText" data-ph-at-id="browser-recomm-seemore-text">More jobs</ppc-content>\n                    </a>\n                </div>\n            </div>\n        </div>\n        <div class="no-data-view" show.bind="showErrorMsg">\n            <p>\n                <ppc-content key="noRecomJobsInfoText" data-ph-at-id="browser-recomm-nodata-text">\n                    No recommendations found\n                </ppc-content>\n            </p>\n        </div>\n    </div>\n</div>   \n</template>'}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v3/ph-social-share-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v3:{ddoKey:"jobDetails",ddoKey2:"googleShortUrl",ddoKeyShareDetails:"getSocialSharingDetails",ddoShareOption:"jobsharewidgetsettings",ddoBaseUrls:"baseUrls"}}});var __decorate=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v3/ph-social-share-service",["require","exports","aurelia-framework","ph-common","./ph-social-share-config"],function(e,t,o,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,o){this.commonService=e,this.WidgetConfig=t,this.serviceRequest=o,this.hashtagsText=""}return e.prototype.getShortUrl=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return e.googleShortUrl&&e.googleShortUrl.status&&"failed"==e.googleShortUrl.status?"#":encodeURIComponent(e.googleShortUrl.shortUrl)})},e.prototype.getSocialUrls=function(e,t,o,i){var r=this;if(this.jobDetails=t,"internal"!=this.commonService.getSiteType()){var a=this.commonService.getUrl("job",t);return a=this.removeLastCharIfExists(a,"/"),a+="/?",this.getShareUrl(e,"googleShortUrl",a,o).then(function(e){return e})}var s={jobSeqNo:t.jobSeqNo,jobId:t.jobId,medium:"social-share",campaign:"social",source:o.name};i&&(s.siteType=i);var l=n.WidgetConfig.v3.ddoKeyShareDetails;return this.commonService.getDDO(e,l,s).then(function(t){if(t&&t[l]&&t[l].status&&"SUCCESS"==t[l].status.toUpperCase()&&t[l].data&&t[l].data.jdUrl){var i=t[l].data.jdUrl;return i=r.removeLastCharIfExists(i,"/"),i+="/?",t[l].data.referrerToken&&(i+="referrerToken="+t[l].data.referrerToken+"&"),r.getShareUrl(e,"googleShortUrl",i,o).then(function(e){return e})}return console.info("Error getting url"),"#"})},e.prototype.getShareUrl=function(e,t,o,i){var n=this;o+="utm_source="+i.name+"&utm_campaign=job-share&utm_medium=social-share";var r={url:o};return"whatsapp"!=i.name?this.getShortUrl(e,t,r).then(function(e){return n.updateReqParamsToUrl(i,e)}):new Promise(function(e,t){e(n.updateReqParamsToUrl(i,n.shareInfoText+" "+o))})},e.prototype.updateReqParamsToUrl=function(e,t){var o=""+e.baseUrl+t;if(e.settings.params){var i=e.settings.params;i.hasOwnProperty("media")&&(this.tagValue=this.getTagValue());for(var n in i)i.hasOwnProperty(n)&&this[i[n]]&&(o+="&"+n+"="+this[i[n]]);return o}return o},e.prototype.removeLastCharIfExists=function(e,t){return e.length&&e[e.length-1]==t&&(e=e.substring(0,e.length-1)),e},e.prototype.makeDDORequest=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return e?e[t]:{}})},e.prototype.getTagValue=function(){return document.querySelector("meta[property='og:image']").content},e=__decorate([o.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==i.CommonService&&i.CommonService)&&t||Object,Object,"function"==typeof(r=void 0!==i.ServiceRequest&&i.ServiceRequest)&&r||Object])],e);var t,r}();t.SocialShareService=r});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),__decorate=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v3/ph-social-share",["require","exports","aurelia-framework","ph-common","./ph-social-share-config","./ph-social-share-service","aurelia-event-aggregator"],function(e,t,o,i,n,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="ph-social-share-v3",l=function(e){function t(t,o,i,n){var r=e.call(this,t,o,s)||this;return r.element=t,r.commonService=o,r.socialShareService=i,r.eventAggregator=n,r.currentJobObj={},r.showMailTo=!1,r.isErrorMsgReqd=!1,r.isShareIcon=!0,r.isPopup=!1,r.showTitle=!0,r.detailObj={},r.loadingText="Loading ...",r.replaceJobSeqNo=!1,r.showCopySuccessMessage=!1,r.shareObj={},r.showErrorMsg=!1,r.sociaurl=[],r.showEmailView=!1,r.shareInfoText="Interesting Job Posting at {{category}}, {{location}}, {{title}}",r.isPopupOpened=!1,r.jobLink="",r.selectedPopup="",r.showCopySuccess=!1,r.isEmailClientEnabled=!1,r}return __extends(t,e),t.prototype.attached=function(){if(e.prototype.hideLoader.call(this),e.prototype.attached.call(this),this.fetchJobObj(),"e"==e.prototype.getQueryParam.call(this,"vt")&&(this.siteType="external"),this.isEmailClientEnabled=this.commonService.getSiteSettings("isNativeEmailClient"),this.configureShare(),this.showMailTo){var t=encodeURIComponent(window.location.href);this.strMailtoProto="mailto:?subject=Check out this job!&body=Hi,%0A%0AI noticed a Job Opportunity at "+t+"%0A%0A"}},t.prototype.created=function(){var t=this;this.eventAggregator.subscribe("updateJob",function(o){(!t.jobSeqNo||o.jobSeqNo&&t.jobSeqNo!=o.jobSeqNo)&&(e.prototype.showContainer.call(t),t.replaceJobSeqNo&&(o.jobSeqNo=o.jobId),t.currentJobObj=o,t.jobSeqNo=t.currentJobObj.jobSeqNo,t.category=t.currentJobObj.category)})},t.prototype.fetchJobObj=function(){Object.keys(this.detailObj)&&Object.keys(this.detailObj).length?this.currentJobObj=this.detailObj:this.currentJobObj=this.commonService.getCachedDDO("jobDetail"),this.currentJobObj&&this.currentJobObj.data&&(this.currentJobObj=this.currentJobObj.data.job,this.currentJobObj&&(this.jobSeqNo=this.currentJobObj.jobSeqNo,this.category=this.currentJobObj.category))},t.prototype.configureShare=function(){var t=this;try{this.shareOption=this.shareOption?JSON.parse(this.shareOption):{};var o=!0;this.shareOption&&this.shareOption.options&&this.shareOption.options.length||(o=!1,this.socialShareService.makeDDORequest(s,n.WidgetConfig.v3.ddoShareOption,{}).then(function(o){e.prototype.hideLoader.call(t),o&&o.data?(t.shareOption=o.data||{},t.shareOption.options=t.shareOption.options||[]):t.shareOption.options=[],t.checkEmailExists()},function(o){new Error(o),e.prototype.hideLoader.call(t),t.handleError("")})),o&&this.checkEmailExists()}catch(e){}},t.prototype.checkEmailExists=function(){this.isShareEmailFound=this.shareOption.options.findIndex(function(e){return"email"==e.name}),this.isShareEmailFound=-1!=this.isShareEmailFound},t.prototype.closeShareJob=function(e,t){var o=this;t||this.isPopupOpened?(this.shareTimer&&clearTimeout(this.shareTimer),this.isShareIcon=!0,this.currentJobObj&&(this.currentJobObj.toggleOpen=!0)):(this.shareTimer&&clearTimeout(this.shareTimer),this.shareTimer=setTimeout(function(){o.isShareIcon=!1,o.currentJobObj&&(o.currentJobObj.toggleOpen=!1)},300))},t.prototype.handlePopup=function(t){var o=this;this.widgetBundle.shareInfoText&&(this.shareInfoText=this.widgetBundle.shareInfoText),this.shareInfoText=this.shareInfoText.replace("{{categoryName}}","{{category}}"),this.socialShareService.shareInfoText=this.commonService.getTranslation(this.shareInfoText,this.currentJobObj,!0),this.socialShareService.shareInfoText=this.socialShareService.shareInfoText.replace(/%250A/g,"%0A"),this.socialShareService.hashtagsText=this.widgetBundle.hashtagsText,e.prototype.unhideLoader.call(this);var i={},n={};if(i.trait5=this.jobSeqNo,i.trait14=this.category,t.eventName&&this.commonService.processTrackingEvent(t.eventName,void 0,i),"email"==t.name)if(this.isEmailClientEnabled)this.handleEmailClientOrJob();else{this.showEmailView=!this.showEmailView,i.params={toggle:this.showEmailView};var r=document.querySelector('[as-element^="ph-email-job"]');if(r){if(this.commonService.smoothScroll&&"internal"==this.commonService.getSiteType()){var a=window.pageYOffset,l=this.commonService.getNearestSectionElemOffsetTop(r);a<l?this.commonService.smoothScroll(a,l,!0,30):this.commonService.smoothScroll(a,l,!1,30)}else r.scrollIntoView(!1);if(r.au&&r.au.controller&&r.au.controller.viewModel&&!r.au.controller.viewModel.isPopupReqd){var c=r.au.controller.viewModel,d=c.element.querySelector(".ph-a11y-email-job-heading");d&&d.focus()}}this.showEmailView&&e.prototype.raiseEvent.call(this,"show-email-job",{})}else"copylink"==t.name?this.handelCopyJobLink():(n=window.open("","",t.settings.popUpParams),this.isPopupOpened=!0,setTimeout(function(){o.isPopupOpened=!1},100));"email"!=t.name&&"copylink"!=t.name&&(n.document.body.innerHTML=this.loadingText,this.socialShareService.getSocialUrls(s,this.currentJobObj,t,this.siteType).then(function(t){e.prototype.hideLoader.call(o),n.location.href=t},function(t){new Error(t),e.prototype.hideLoader.call(o),o.handleError("")}))},t.prototype.handleError=function(t){this.isErrorMsgReqd?this.showErrorMsg=!0:e.prototype.onError.call(this,"")},t.prototype.getLocalWidgetBundle=function(){return{"google-plus":"google-plus",facebook:"facebook",linkedin:"linkedin",twitter:"twitter",email:"share via mail",xing:"xing",pinterest:"pinterest",vk:"vk",whatsapp:"whatsapp",weibo:"weibo"}},t.prototype.handleEmailClientOrJob=function(){var t=this.widgetBundle.emailClientBody||"Check out this job:";try{t=decodeURIComponent(t)}catch(e){i.logger.error(e)}var o=this.widgetBundle.emailClientSubject||"{{title}} at {{companyName}}",n=this.commonService.getTranslation(o,this.currentJobObj),r=this.commonService.getTranslation(t,this.currentJobObj),a=e.prototype.getUrl.call(this,"","job",this.currentJobObj);a&&a.length&&(a=a.replace("/i/","/")),window.location.href="mailto:?subject="+encodeURIComponent(n)+"&body="+encodeURIComponent(r)+a},t.prototype.handelCopyJobLink=function(){this.jobLink=this.commonService.getUrl("job",this.currentJobObj),this.selectedPopup="copyLinkPopup";var t=this.element.querySelector(".ph-a11y-popup-selector"),o=this.element.querySelector(".ph-a11y-popup-selector"),i=this.element.querySelector("ph-a11y-copyLinkClose-popup");e.prototype.openDialogPopup.call(this,t,i,o),this.element.querySelector(".input-copy-link").value=this.jobLink},t.prototype.copyLink=function(){var e=this;this.element.querySelector(".input-copy-link").select(),document.execCommand("copy"),this.showCopySuccessMessage&&(this.showCopySuccess=!0,setTimeout(function(){e.showCopySuccess=!1},5e3))},t.prototype.copyLinkCancelAction=function(){this.showCopySuccess=!1,e.prototype.closeDialogPopup.call(this)},__decorate([o.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([o.bindable(),__metadata("design:type",Object)],t.prototype,"currentJobObj",void 0),__decorate([o.bindable(),__metadata("design:type",Object)],t.prototype,"showMailTo",void 0),__decorate([o.bindable,__metadata("design:type",Boolean)],t.prototype,"hideTitle",void 0),__decorate([o.bindable,__metadata("design:type",Boolean)],t.prototype,"hideSubTitle",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"shareOption",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"isErrorMsgReqd",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"isShareIcon",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"isPopup",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"showTitle",void 0),__decorate([o.bindable(),__metadata("design:type",Object)],t.prototype,"detailObj",void 0),__decorate([o.bindable(),__metadata("design:type",String)],t.prototype,"loadingText",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"replaceJobSeqNo",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"showCopySuccessMessage",void 0),t=__decorate([o.customElement(s),o.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(l=void 0!==i.CommonService&&i.CommonService)&&l||Object,r.SocialShareService,a.EventAggregator])],t);var l}(i.PhenomWidget);t.SocialShare=l}),define("text!v3/ph-social-share.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("text!v3/views/ph-social-share-v3/default/view.html",["module"],function(e){e.exports='<template>\n<div class="phs-share-job-area ph-widget-box" role="region" key-role="regionRole" aria-label="Social share" key-aria-label="socialShare">\n    <div class="show-loader" ph-loading-img="show-loader.bind: showLoader" show.bind="showLoader"></div>\n    <div class="widget-container">\n        <div class="phs-widget-heading">\n            <h2>\n                <ppc-content key="socialShareHeading" data-ph-at-id="heading-text">Share this Opportunity</ppc-content>\n            </h2>\n        </div>\n        <div class="content-block">\n            <ul data-ph-at-id="share-options-list">\n               \n                <li repeat.for="eachIndicator of shareOption">\n                    <a class="${eachIndicator}" click.trigger="handlePopup(eachIndicator)" aria-label="Share via ${eachIndicator}" key-aria-label="share${eachIndicator}"\n                        href="javascript:void(0)" data-ph-at-id="share-${eachIndicator}-link" title="Share via ${eachIndicator}"  \n                        key-title="share${eachIndicator}Title" target="_blank" blur.trigger="closeShareJob($event, true)">\n                        <i class="icon icon-${eachIndicator}"></i> ${widgetBundle[eachIndicator] | pht}\n                        <span class="sr-only">\n                            <ppc-content key="share${eachIndicator}Text" data-ph-at-id="share-${eachIndicator}s-text">  ${widgetBundle[eachIndicator] | pht}</ppc-content>\n                        </span>\n                    </a>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>\n</template>'}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v2/ph-cookie-popup-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v2:{ddoKey:"cookiePopup",storeOneTrustCookieSession:"storeOneTrustCookieSession"}}});var __decorate=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v2/ph-cookie-popup-service",["require","exports","aurelia-framework","ph-common"],function(e,t,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.commonService=e}return e.prototype.makeDDORequest=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return e[t]})},e=__decorate([o.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==i.CommonService&&i.CommonService)&&t||Object])],e);var t}();t.CookiePopupService=n});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),__decorate=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v2/ph-cookie-popup",["require","exports","aurelia-framework","ph-common","aurelia-event-aggregator","./ph-cookie-popup-service"],function(e,t,o,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;var a="ph-cookie-popup-v2",s=window,l="top",c='[as-element^="ph-cookie-popup"] .ph-sticky-header',d="ph:gdpr:OptanonWrapperUpdated",p='[as-element*="header"] .ph-sticky-header, .header-layout .pcs-sticky-header ,.header-layout .ph-sticky-block-fixed',h={top:"cookie-popup-top",bottom:"cookie-popup-bottom"},u={C0001:"essential",1:"essential",C0002:"performance",2:"performance",C0003:"functional",3:"functional",C0004:"analytics",4:"analytics",C0005:"social",5:"social"},f={1:"essential",2:"functional",3:"analytics",4:"social",TA001:"essential",TA002:"functional",TA003:"analytics",TA004:"social"},g=function(e){function t(t,o,i,n,r,c){var p=e.call(this,t,o,a)||this;return p.element=t,p.commonService=o,p.cookiePopupService=i,p.cookieManager=n,p.eventAggregator=r,p.localStorageContext=c,p.doNotHide=!1,p.showDeclineButton=!0,p.showCookieSettingsButton=!1,p.showCookiePopup=!0,p.cookieValue="",p.position=l,p.isAccepted=!0,p.cookieType="",p.cookieWindowType="default",p.subscriptions=[],p.cookieCategoryConfig=u,p.trustArcCookieCategoryConfig=f,p.handleExternalCookie=function(e,t){t=t||{};var o=[],i=e.availOnAllowedCookies||[],n=t.groups||s.OnetrustActiveGroups,r=!0;if(n){n=n.split(",");for(var a=0;a<i.length;a++)if(i[a]&&-1===n.indexOf(i[a])){r=!1;break}p.cookieValue="d",r&&(p.cookieValue="a"),p.setCookie();var l={};if(e.trackCookieMap&&e.trackCookieMap.cookieMap){var c=p.getEnabledCookies(n);o=p.getDisabledCookies(e.trackCookieMap.cookieMap,c),l.disabledCookies=o,l.cookieMap=e.trackCookieMap.cookieMap,p.addCareerSiteCookies(e,c),p.deleteCareerSiteCookies(e,o),p.addOneTrustSessionData(e,o)}p.raiseActionEvent(d,l)}},p.handleTrustArcCookie=function(e,t){var o=t.data;if("string"==typeof o&&(o=JSON.parse(o)),"submit_preferences"==o.message||"remove_iframe"==o.message){var i=s.phApp.baseDomain||e.currentDomain;i=i.replace(/https?:\/\//g,"");var n=s.truste.cma.callApi("getGDPRConsentDecision",i),r=p.trustArcMappedGroups(n.consentDecision);p.handlingTrustArcUserConsent(e,r)}},p.handlingTrustArcUserConsent=function(e,t){for(var o=[],i=e.availOnAllowedCookies||[],n=!0,r=0;r<i.length;r++)if(i[r]&&-1===t.indexOf(i[r])){n=!1;break}p.cookieValue="d",n&&(p.cookieValue="a"),p.setCookie();var a={};if(e.trackCookieMap&&e.trackCookieMap.cookieMap){var s=p.getTrustArcEnabledCookies(t);o=p.getDisabledCookies(e.trackCookieMap.cookieMap,s),a.disabledCookies=o,a.cookieMap=e.trackCookieMap.cookieMap,p.addCareerSiteCookies(e,s),p.deleteCareerSiteCookies(e,o),p.addOneTrustSessionData(e,o)}p.raiseActionEvent(d,a)},p.trustArcMappedGroups=function(e){var t=[];return e.forEach(function(e){e&&t.push(e.toString())}),t},p}return __extends(t,e),t.prototype.created=function(){var e=this,t=this.commonService.getSiteSettings("externalCookieConfig"),o=this.commonService.getSiteSettings("externalCookieTrustArcConfig"),i=this.commonService.getSiteSettings("ignoreCookiePages")||[],n=this.commonService.getPageName();if(-1===i.indexOf(n))return t?void this.initiateExternalCookie(t):o?void this.initiateExternalCookieTrustArc(o):void this.subscriptions.push(this.eventAggregator.subscribe("close_cvd_popup",function(){e.setCookieBodyHeight()}))},t.prototype.attached=function(){var t=this;if(!this.isExternalCookieEnabled||this.doNotHide){e.prototype.attached.call(this);var o=this.commonService.getSiteSettings("gdpr")||{};this.cookieType=o&&o.hasOwnProperty("cookieTypeV1")?o.cookieTypeV1:o.cookieType,this.cookieWindowType=o&&o.cookieWindowType||"default",this.position=o&&o.position||l,this.cookieValue=this.cookieManager.get("PHPPPE_GCC"),o&&o.hasOwnProperty("showDecline")&&(this.showDeclineButton=o.showDecline),o&&o.hasOwnProperty("showCookieSettings")&&(this.showCookieSettingsButton=o.showCookieSettings),this.showCookiePopup="s"==this.cookieValue||!1,this.piiConsentEnabled=o.piiConsent,this.cookieValue?(("tentative"==this.cookieType&&"u"==this.cookieValue||"sticky"==this.cookieType&&"s"==this.cookieValue)&&(this.doNotHide&&(this.cookieValue="d","tentative"==this.cookieType?this.setGdprCookie(!0):this.setGdprCookie(!1),this.setCookie(),this.commonService.removeRecomContentFromLocalStorage()),this.handleCookieArea()),this.isAccepted="a"==this.cookieValue,this.commonService.setIsGdprConsentClosed&&this.commonService.setIsGdprConsentClosed(!0)):setTimeout(function(){t.showCookiePopup=!0,t.handleCookieArea()},10),this.subscriptions.push(this.eventAggregator.subscribe("close_cookie_popup",function(e){t.doNotHide||(t.showCookiePopup=!1,t.setCookieAction(!1)),t.isAccepted=!(!e||!e.cookieValue||"a"!=e.cookieValue)}));var i=this.cookieManager.get("PHPPPE_PC");this.piiConsentEnabled&&!i&&this.triggerPiiConsentPopup()}},t.prototype.initiateExternalCookie=function(e){var t=this;this.isExternalCookieEnabled=!0,e.scriptUrl&&!e.scriptUrl.startsWith("http")&&(e.scriptUrl=this.commonService.getCdnUrl()+"/"+e.scriptUrl),this.cookieCategoryConfig=e.cookieCategoryConfig||u,this.loadDependentStyle(e);var o=document.createElement("script");o.src=e.scriptUrl,o.setAttribute("data-document-language","true"),o.type="text/javascript",o.setAttribute("async",""),o.setAttribute("data-domain-script",e.domainKey),o.setAttribute("charset","UTF-8"),e.dataLanguage&&o.setAttribute("data-language",e.dataLanguage),e.ignoreOverrideOptanon?e.ignoreOverrideOptanon&&(s.phApp.OptanonWrapper=this.handleExternalCookie.bind(this,e)):s.OptanonWrapper=this.handleExternalCookie.bind(this,e),o.onload=function(){t.loadDependentScript(e,o)};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(o,i)},t.prototype.loadDependentScript=function(t,o){t.dependentScriptUrl&&(t.dependentScriptUrl=t.dependentScriptUrl.startsWith("http")?t.dependentScriptUrl:this.commonService.getCdnUrl()+"/"+t.dependentScriptUrl,e.prototype.loadScript.call(this,t.dependentScriptUrl,function(){},[],!0))},t.prototype.loadDependentStyle=function(e){if(e.styleUrl){e.styleUrl=e.styleUrl.startsWith("http")?e.styleUrl:this.commonService.getCdnUrl()+"/"+e.styleUrl;var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e.styleUrl),document.head.appendChild(t)}},t.prototype.initiateExternalCookieTrustArc=function(e){var t=this;if(this.isExternalCookieEnabled=!0,!document.getElementById("consent_blackbar")){var o=document.createElement("div");o.setAttribute("id","consent_blackbar"),document.body.appendChild(o)}e.scriptUrl&&!e.scriptUrl.startsWith("http")&&(e.scriptUrl=this.commonService.getCdnUrl()+"/"+e.scriptUrl),this.trustArcCookieCategoryConfig=e.cookieCategoryConfig||f,this.loadDependentStyle(e);var i=document.createElement("script");i.src=e.scriptUrl,i.setAttribute("data-document-language","true"),i.type="text/javascript",i.setAttribute("async",""),i.setAttribute("charset","UTF-8");var n=s.phApp.baseDomain||e.currentDomain;n=n.replace(/https?:\/\//g,"");var r={PrivacyManagerAPI:{action:"getConsent",timestamp:(new Date).getTime(),self:n}},a=JSON.stringify(r);window.top.postMessage(a,"*"),i.onload=function(){window.addEventListener("message",t.handleTrustArcCookie.bind(t,e)),setTimeout(function(){var o=t.cookieManager.get("notice_gdpr_prefs");if(o){o=o.slice(0,-1),o=o.split(",");for(var i=0;i<o.length;i++)o[i]=Number(o[i])+1}var n=t.trustArcMappedGroups(o||[]);t.handlingTrustArcUserConsent(e,n)},150)};var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(i,l)},t.prototype.getTrustArcEnabledCookies=function(e){for(var t=[],o=0;o<e.length;o++)""!=e[o]&&t.push(this.getTrustArcCookieName(e[o]));return t},t.prototype.addOneTrustSessionData=function(e,t){var o={},i=[];e.trackCookieMap&&e.trackCookieMap.csCookies&&t&&(t.forEach(function(t){(e.trackCookieMap.csCookies[t]||[]).forEach(function(e){i.includes(e)||i.push(e)})}),o.onetrustDisabledCookies=i,this.cookiePopupService.makeDDORequest(a,"storeOneTrustCookieSession",o))},t.prototype.deleteCareerSiteCookies=function(e,t){var o=this;e.trackCookieMap&&e.trackCookieMap.csCookies&&t&&t.forEach(function(t){(e.trackCookieMap.csCookies[t]||[]).forEach(function(e){o.cookieManager.delete(e)})})},t.prototype.addCareerSiteCookies=function(e,t){var o=this,i=new Date;i.setTime(i.getTime()+7776e6);var n={expires:i,path:"/"};e.trackCookieMap&&e.trackCookieMap.csCookies&&t&&t.forEach(function(t){var i=e.trackCookieMap.csCookies[t];i&&i.forEach(function(e){"VISITED_VARIANT"!=e&&"external"!=o.getCareerSiteCookieValue(e)&&o.cookieManager.set(e,o.getCareerSiteCookieValue(e),n)})})},t.prototype.getCareerSiteCookieValue=function(e){var t=s.phApp.locale;switch(t=t.split("_"),e){case"VISITED_COUNTRY":return t[1];case"VISITED_LANG":return t[0];case"VISITED_VARIANT":return this.getSiteVariant(window.phApp.siteType)}},t.prototype.getSiteVariant=function(e){return e&&"internal"==e?"i":e||void 0},t.prototype.getEnabledCookies=function(e){for(var t=[],o=0;o<e.length;o++)if(""!=e[o]){var i=this.getCookieName(e[o]);i&&t.push(this.getCookieName(e[o]))}return t},t.prototype.getDisabledCookies=function(e,t){var o=[];for(var i in e)t.includes(i)||o.push(i);return o},t.prototype.getCookieName=function(e){if(e)return this.cookieCategoryConfig[e]},t.prototype.getTrustArcCookieName=function(e){if(e)return this.trustArcCookieCategoryConfig[e]},t.prototype.handleCookieArea=function(){var e=this,t=this.commonService.getSiteSettings("gdpr");this.doNotHide||this.toggleBodyClass(),t&&!this.cookieValue&&this.setGdprCookie(!0),setTimeout(function(){e.setCookieBodyHeight()},0),window.addEventListener("resize",function(){e.setCookieBodyHeight()}),this.addModalPopup()},t.prototype.detached=function(){this.subscriptions.forEach(function(e){e.dispose()})},t.prototype.setCookieBodyHeight=function(e){var t=this;if(this.showCookiePopup){var o=document.querySelector(".ph-header"),i=document.querySelector("body"),n=document.querySelector(c),r=document.querySelector('[as-element^="ph-cvd"][placement="header"] .ph-sticky-header'),a=document.querySelector(p);for(this.element.contains(a)&&(a=void 0);o&&n;)if(o&&o.firstElementChild&&window.getComputedStyle(o).position,!(o=o.firstElementChild)){var s=r&&r.offsetHeight||0,l=n&&n.offsetHeight;"bottom"==this.position?(i.style.paddingBottom=l+"px",n&&(n.style.bottom=0),n&&(n.style.top="auto")):(i.style.paddingTop=s+l+"px",n&&(n.style.top=s+"px"),a&&(a.style.top=s+l+"px",a.style.marginTop="0px")),a&&!e&&setTimeout(function(){t.setCookieBodyHeight(!0)},5e3)}}else window.removeEventListener("resize",function(){t.setCookieBodyHeight()})},t.prototype.addModalPopup=function(){var t=this;this.element.querySelector(".ph-a11y-modal-area")&&setTimeout(function(){var o=t.element.querySelector(".ph-a11y-popup-start-focus");t.closePopupCallback(o,"ph-a11y-modal-area"),e.prototype.openDialogPopup.call(t,"ph-a11y-modal-area",document.body,o)},0)},t.prototype.closePopupCallback=function(t,o){var i=this;document.addEventListener("keyup",function(t){"Escape"!=t.key&&27!==t.keyCode&&27!==t.which||e.prototype.closeDialogPopup.call(i)})},t.prototype.removeCookieBodyHeight=function(){var e=document.querySelector("body"),t=document.querySelector(c),o=document.querySelector('[as-element^="ph-cvd"][placement="header"] .ph-sticky-header'),i=document.querySelector(p),n=document.querySelector(".header-layout .pcs-sticky-header");if(o||t.offsetHeight)if("bottom"==this.position)e.style.paddingBottom=t.offsetHeight+"px";else{var r=e.style.paddingTop;r=parseInt(r)-t.offsetHeight+"px",e.style.paddingTop=r,o&&(o.style.top="0px"),i&&(i.style.top=e.style.paddingTop)}else e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),i&&(i.style.top="0px",n&&(n.style.top="0px"),i.style.marginTop=null)},t.prototype.setCookie=function(e,t){var o=new Date;o.setTime(o.getTime()+7776e6);var i={expires:o,path:"/",secure:!0},n=this.commonService.getSiteSettings("gdpr");n&&n.parentDomainCookie&&(n.parentDomain?i.domain=n.parentDomain:i.domain=this.getParentDomain(".com")),this.cookieManager.set(e||"PHPPPE_GCC",t||this.cookieValue,i)},t.prototype.getParentDomain=function(e){var t=window.location.hostname.indexOf(".");return t<window.location.hostname.indexOf(".com")?window.location.hostname.substring(-1==t?0:t+1):window.location.hostname},t.prototype.setGdprCookie=function(e){var t=this,o=!!this.cookieValue;e?"tentative"==this.cookieType?this.cookieValue?this.cookieValue="a":this.doNotHide?(this.cookieValue="d",this.isAccepted=!1,this.commonService.removeRecomContentFromLocalStorage()):this.cookieValue="u":"sticky"!=this.cookieType||o?this.cookieValue="a":(this.doNotHide&&(this.isAccepted=!1),this.cookieValue="s"):this.cookieValue="d",this.setCookie(),(!e||o&&"u"!=this.cookieValue)&&setTimeout(function(){t.eventAggregator.publish("close_cookie_popup",{cookieValue:t.cookieValue})},1e3),e&&"s"!=this.cookieValue||this.commonService.removeRecomContentFromLocalStorage();var i={},n=e?"cookies_allow_click":"cookies_decline_click";this.commonService.processTrackingEvent(n,void 0,i),this.raiseGdprActionEvent()},t.prototype.acceptAndClose=function(){this.setGdprCookie(!0),this.showCookiePopup=!1,this.setCookieAction(!0),this.raiseActionEvent("ph:gdpr:consent:closed"),this.commonService.setIsGdprConsentClosed&&this.commonService.setIsGdprConsentClosed(!0)},t.prototype.declineAndClose=function(){this.setGdprCookie(!1),this.showCookiePopup=!1,this.setCookieAction(!0),this.raiseActionEvent("ph:gdpr:consent:closed"),this.commonService.setIsGdprConsentClosed&&this.commonService.setIsGdprConsentClosed(!0)},t.prototype.raiseGdprActionEvent=function(){"d"==this.cookieValue?this.raiseActionEvent("ph:gdpr:cookie:declined"):"a"==this.cookieValue&&this.raiseActionEvent("ph:gdpr:cookie:accepted")},t.prototype.raiseActionEvent=function(e,t){var o=new CustomEvent(e,{bubbles:!0,detail:t||{}});document.dispatchEvent(o)},t.prototype.setCookieAction=function(t){this.toggleBodyClass(),this.removeCookieBodyHeight(),e.prototype.hideContainer.call(this)},t.prototype.toggleBodyClass=function(){var e=this.showCookiePopup,t=document.querySelector("body");t&&(e?t.classList.contains(h[this.position])||(t.className=t.className+" "+h[this.position]):t.className=t.className.replace(h[this.position],""))},t.prototype.triggerPiiConsentPopup=function(){var t=this;this.piiCosentPopup=!0,setTimeout(function(){var o=t.element.querySelector(".ph-a11y-allow-consent");e.prototype.openDialogPopup.call(t,"ph-a11y-modal-dialog-area",document.body,o,void 0,!0)},100)},t.prototype.acceptConsent=function(){this.piiCosentPopup=!1,e.prototype.closeDialogPopup.call(this),this.setCookie("PHPPPE_PC","a")},__decorate([o.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"doNotHide",void 0),t=__decorate([o.customElement(a),o.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(g=void 0!==i.CommonService&&i.CommonService)&&g||Object,r.CookiePopupService,"function"==typeof(m=void 0!==i.CookieManager&&i.CookieManager)&&m||Object,n.EventAggregator,"function"==typeof(b=void 0!==i.LocalStorageContext&&i.LocalStorageContext)&&b||Object])],t);var g,m,b}(i.PhenomWidget);t.CookiePopup=g}),define("text!v2/ph-cookie-popup.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v2/ph-profile-recommendations-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v2:{ddoKeyProfile:"profileRecommendations",ddoKeyProfileLSID:"getLinkedInProfileRecom",ddoKeySocialProfile:"getSocialProviderProfile",ddoKeyBrowsing:"browserRecomContent",ddoKeyValidateJwtToken:"validateJwtToken",ddoKeyAdd:"addToCartV2",ddoKeyDelete:"deleteFromCartV2",ddoKeyStatusList:"getJobStatusListV2"}}}),define("v2/ph-profile-recommendations-model",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.recomContentReqObj={keywords:[],categories:[],jobsViewed:[],jobsApplied:null,locations:[],types:[],userProfile:null,landingPages:null,size:5},this.recomJobsReqObj={keywords:[],categories:[],jobsViewed:[],jobsApplied:null,locations:[],types:[],userProfile:null,landingPages:null}}return e}();t.ProfileRecommendationModel=o});var __decorate=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v2/ph-profile-recommendations-service",["require","exports","aurelia-framework","ph-common"],function(e,t,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.commonService=e,this.isLoggedIn=!1}return e.prototype.getprofileContent=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return e[t]})},e.prototype.getProfile=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return(e||{})[t]})},e.prototype.getValidateJwtToken=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return(e||{})[t]})},e.prototype.getJobSatusList=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return e[t]})},e.prototype.getRecommendedTrackCtx=function(){var e=this.commonService,t=e.recommendationTrackingConfig,o=e.phenomAppManager,i=o.getCountry(),n=o.getLocale(),r="us"!=i,a={};for(var s in t)if(t.hasOwnProperty(s))if(Array.isArray(t[s]))t[s].forEach(function(t){var o=[],s=[i,n,t.storageKey].join("_");if(o[0]=e.localStorageAPI.getItem(s),r){var l=["us","en_us",t.storageKey].join("_");o[1]=e.localStorageAPI.getItem(l),o=o[0].concat(o[1])}else a[t.storageKey]=o[0]});else{var l=[],c=[i,n,t[s].storageKey].join("_");if(l[0]=e.localStorageAPI.getItem(c),r){var d=["us","en_us",t[s].storageKey].join("_");l[1]=e.localStorageAPI.getItem(d),l[0].concat(l[1])}else a[t[s].storageKey]=l[0]}return a},e.prototype.updateUser=function(e){var t=e||{},o=t.data||{};this.isLoggedIn=o.isValidToken||!1},e=__decorate([o.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==i.CommonService&&i.CommonService)&&t||Object])],e);var t}();t.ProfileRecommendationsService=n});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),__decorate=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v2/ph-profile-recommendations",["require","exports","aurelia-framework","ph-common","./ph-profile-recommendations-config","./ph-profile-recommendations-service","./ph-profile-recommendations-model","aurelia-event-aggregator"],function(e,t,o,i,n,r,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l="v2",c="ddoKeyBrowsing",d="ph-profile-recommendations-"+l,p={Profile:"profile",Browsing:"browsing"},h="linkedInProfileObj",u="linkedin_recommended_job_click",f=function(e){function t(t,o,i,r,a,s,p){var f=e.call(this,t,o,d)||this;return f.commonService=o,f.contentService=i,f.urlManager=r,f.contentModel=a,f.eventAggregator=s,f.localStorage=p,f.profileOnly="1",f.jobTeaser=!1,f.jobCaption=!1,f.addMultiLingualRecom=!1,f.recomJobCategories=[],f.user={isLoggedIn:null,userId:"",userType:"",socialProvider:"",isSocialLogin:null,isSiteLogin:null},f.getBrowsingContent=function(t){e.prototype.unhideLoader.call(f);var o,i=f.contentModel.recomJobsReqObj;o=f.addMultiLingualRecom?f.contentService.getRecommendedTrackCtx():f.commonService.getRecommendedTrackCtx();for(var r in o)i[r]=o[r];t&&(i.userProfile=f.commonService.getSpecificTrackCtx(h)),f.maxJobs&&(i.recoSize=f.maxJobs),f.contentService.getprofileContent(d,n.WidgetConfig[l][c],i).then(function(t){if(e.prototype.hideLoader.call(f),t){var o=t.jobRecommendations.data&&t.jobRecommendations.data.recommendedJobs;o&&0!=o.length?e.prototype.fetchJobStatus.call(f):(o=[],e.prototype.handleError.call(f,"")),f.jobResults=o,f.onDataChange(u)}},function(t){new Error(t),e.prototype.hideLoader.call(f),e.prototype.handleError.call(f,"")})},f.getJwtToken(),f}return __extends(t,e),t.prototype.attached=function(){var t=this;e.prototype.attached.call(this),this.isLiV2Enabled=this.isLinkedinV2Enabled(),this.eventAggregator.subscribe("getUserProfileData",function(e){t.seemoretext=!0,t.maxDisplayCount=t.getShowMoreCount,t.getJwtToken()})},t.prototype.handleProfileView=function(e){switch(e){case p.Profile:this.isLiV2Enabled?this.getProfileContent("ddoKeyProfileLSID"):this.getProfileContent("ddoKeyProfile");break;case p.Browsing:this.getBrowsingContent()}},t.prototype.isLinkedinV2Enabled=function(){return!!this.isLiV2Enabled||this.commonService.getSiteSettings("isLiV2Enabled")||!1},t.prototype.getJwtToken=function(){var t=this,o={};this.contentService.getValidateJwtToken(d,n.WidgetConfig[l].ddoKeyValidateJwtToken,o).then(function(e){t.updateState(e),t.handlePage()},function(o){e.prototype.hideLoader.call(t),new Error(o)})},t.prototype.handlePage=function(){if("1"==this.profileOnly)if(this.user.isLoggedIn||this.user.isSocialLogin)this.handleProfileView(p.Profile);else{e.prototype.hideContainer.call(this);var t={};t.jobs=[],this.eventAggregator.publish("ph:profileRecomData",t)}else this.recommendationType=this.user.isLoggedIn?p.Profile:p.Browsing,this.handleProfileView(this.recommendationType)},t.prototype.getProfileContent=function(t){var o=this;e.prototype.unhideLoader.call(this),this.contentService.getprofileContent(d,n.WidgetConfig[l][t],{}).then(function(t){if(e.prototype.hideLoader.call(o),t=t.data){var i=t&&t.results;i&&i.length?(e.prototype.fetchJobStatus.call(o),e.prototype.showContainer.call(o)):(i=[],e.prototype.handleError.call(o,"")),o.jobResults=i,e.prototype.onDataChange.call(o),o.recomJobCategories=t.linkedInCategoryWidget;var n={};n.jobs=o.jobResults||[],n.categories=o.recomJobCategories||[],o.eventAggregator.publish("ph:profileRecomData",n)}},function(t){e.prototype.onError.call(o,""),e.prototype.hideLoader.call(o);var i={};i.jobs=[],o.eventAggregator.publish("ph:profileRecomData",i)})},t.prototype.onDataChange=function(t){e.prototype.onDataChange.call(this,t)},t.prototype.updateState=function(e){var t=e||{},o=t.data||{};this.user.isLoggedIn=o.isValidToken||!1,this.user.userId=o.userId||"",this.user.userType=o.userType||"",this.user.socialProvider=o.socialProvider||"",this.user.isSiteLogin=o.isSiteLogin||!1,this.user.isSocialLogin=o.isSocialLogin||!1},t.prototype.getLoacalePath=function(e){return e=e.split("_"),e="/"+e[1]+"/"+e[0]+"/"},t.prototype.getUrlWithLocale=function(t,o,i,n){t&&t.setAttribute&&t.setAttribute("ph-click-ctx",o),t&&t.getAttribute&&t.getAttribute("ph-tevent")&&(e.prototype.subscribeToTrackingEvents.call(this,t),t.setAttribute("ph-tref",(new Date).getTime()+(65536*(1+Math.random())|0).toString(16).substring(0)),t.setAttribute("ph-tag",e.prototype.tagName),this.commonService.storePageTrackEventData(t.getAttribute("ph-tref"),i));var r=this.getLoacalePath(i.locale),a=phApp.urlMap[o];if(a)return phApp.baseDomain+r+this.urlManager.getUrl(o,i,n,a)},__decorate([o.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"recommendationType",void 0),__decorate([o.bindable,__metadata("design:type",String)],t.prototype,"profileOnly",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"jobTeaser",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"jobCaption",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"addMultiLingualRecom",void 0),__decorate([o.bindable,__metadata("design:type",Boolean)],t.prototype,"isLiV2Enabled",void 0),t=__decorate([o.customElement(d),o.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(f=void 0!==i.CommonService&&i.CommonService)&&f||Object,r.ProfileRecommendationsService,"function"==typeof(g=void 0!==i.UrlManager&&i.UrlManager)&&g||Object,a.ProfileRecommendationModel,s.EventAggregator,"function"==typeof(m=void 0!==i.LocalStorageAPI&&i.LocalStorageAPI)&&m||Object])],t);var f,g,m}(i.PhenomJobWidget);t.ProfileRecommendations=f}),define("text!v2/ph-profile-recommendations.html",["module"],function(e){e.exports='<template>\r\n\t<compose view.bind="tmplUrl" containerless>\r\n</template>'}),define("text!v2/views/ph-profile-recommendations-v2/default/view.html",["module"],function(e){
e.exports='<template>\r\n        <div class="show-loader" ph-loading-img="show-loader.bind: showLoader" show.bind="showLoader"></div>\r\n        <div class="phs-widget-block-area ph-widget-box" show.bind="!showLoader && jobResults.length">\r\n            <div class="widget-container">\r\n                <div class="phs-widget-heading">\r\n                    <h2>\r\n                        <ppc-content key="widgetHeadingText" data-ph-at-id="heading-text">\r\n                            Profile recommendations\r\n                        </ppc-content>\r\n                    </h2>\r\n                </div>\r\n                <section class="ph-widget" instance-id="3vyn19">\r\n                        <div as-element="ph-refer-friend-v1" mode.bind="referMode" profile.bind="referJob" close-function.bind="handleReferClose">\r\n                                </div>  \r\n                    </section>\r\n                <div class="content-block">\r\n                    <section class="ph-widget" instance-id="1gd0h6">\r\n                        <div as-element="ph-email-job-v1" class="ph-email-job-v1-default-default" data-widget="ph-email-job-v1" job-seq-no.bind="eachJob.jobSeqNo"\r\n                            category.bind="eachJob.category" view="default" is-popup-reqd="true" instance-id="1gd0h6">\r\n                        </div>\r\n                    </section>\r\n                    <ul data-ph-at-id="jobs-list" data-ph-at-widget-data-count="${jobResults.length}">\r\n                        <li class="jobs-list-item" repeat.for="eachJob of jobResults" show.bind="maxDisplayCount > $index" data-ph-at-id="jobs-list-item">\r\n                            <a ph-tevent="recommended_job_click" ref="linkEle" href="${getUrl(linkEle, \'job\', eachJob)}" class="job-link-linkedin">\r\n                                <div class="information">\r\n                                    <div repeat.for="eachAttr of jobFields">\r\n                                        <h2 class="job-title" if.bind="eachJob.title && eachAttr.name.indexOf(\'title\') != -1">\r\n                                            <b if.bind="eachAttr.settings.label">\r\n                                                <i class="icon ${eachAttr.settings.icon}" if.bind="eachAttr.settings.icon && eachAttr.settings.icon.length"></i>\r\n                                                ${widgetBundle[\'title\'] | pht} :</b> ${eachJob.title}\r\n                                        </h2>\r\n                                        <span class="job-location" if.bind="eachAttr.name.indexOf(\'location\') != -1 && !eachJob.multi_location || eachJob.multi_location.length == 1 || eachJob.multi_location.length == 0">\r\n                                            <b if.bind="eachAttr.settings.label">\r\n                                                <i class="icon ${eachAttr.settings.icon}" if.bind="eachAttr.settings.icon && eachAttr.settings.icon.length"></i>\r\n                                                ${widgetBundle[\'location\'] | pht} :</b> ${eachJob.location}\r\n                                        </span>\r\n                                        <span class="${job-eachAttr.name}" if.bind="eachJob[eachAttr.name] && ([\'title\',\'postedDate\',\'expiryDate\',\'multi_location\',\'descriptionTeaser\',\'location\'].indexOf(eachAttr.name) == -1)">\r\n                                            <b if.bind="eachAttr.settings.label">\r\n                                                <i class="icon ${eachAttr.settings.icon}" if.bind="eachAttr.settings.icon && eachAttr.settings.icon.length"></i>\r\n                                                ${widgetBundle[eachAttr.name] | pht}</b> : ${eachJob[eachAttr.name]}\r\n                                        </span>\r\n                                        <span class="job-postdate" if.bind="eachJob.postedDate  && eachAttr.name.indexOf(\'postedDate\')!= -1">\r\n                                            <span>\r\n                                                <b if.bind="eachAttr.settings.label">\r\n                                                    <i class="icon ${eachAttr.settings.icon}" if.bind="eachAttr.settings.icon && eachAttr.settings.icon.length"></i>\r\n                                                    ${widgetBundle[\'postedDate\'] | pht}\r\n                                                </b>\r\n                                            </span>\r\n                                            ${eachJob.postedDate | dateFormat:getDateFormat(\'MMDDYYYY_SLASH\')}\r\n                                        </span>\r\n                                        <span class="job-expirydate" if.bind="eachAttr.name.indexOf(\'expiryDate\')!= -1 && eachJob.expiryDate">\r\n                                            <b if.bind="eachAttr.settings.label">\r\n                                                <i class="icon ${eachAttr.settings.icon}" if.bind="eachAttr.settings.icon && eachAttr.settings.icon.length"></i>\r\n                                                ${widgetBundle[\'expiryDate\'] | pht}\r\n                                            </b> : ${eachJob.expiryDate | dateFormat:getDateFormat(\'MMDDYYYY_SLASH\')}\r\n                                        </span>\r\n    \r\n                                        <ul class="job-multi-locations" if.bind="eachJob.multi_location.length > 1 && eachAttr.name.indexOf(\'location\')!= -1">\r\n                                            <li>\r\n                                                <button data-ph-at-id="job-multi-locations-button" ph-tevent="multi_location_click" data-ph-tevent-attr-trait14="${eachJob.category}"\r\n                                                    data-ph-tevent-attr-trait5="${eachJob.jobSeqNo}" keyup.trigger="($event.keyCode === 27)?(eachJob.toggleOpen = false):\'\'"\r\n                                                    class="esc$$close" click.delegate="eachJob.toggleOpen = !eachJob.toggleOpen"\r\n                                                    tabindex="0" role="button" key-role="c-business-programs-operations-ph-search-results-v1-view-external-btnRole"\r\n                                                    id="searchLoc" aria-haspopup="true" aria-expanded="${eachJob.toggleOpen ? \'true\' : \'false\'}"\r\n                                                    aria-label="${eachJob.title} ${eachJob.jobSeqNo} Job available in ${eachJob.multi_location.length} locations"\r\n                                                    data-ph-at-job-multilocation-count="${eachJob.multi_location.length}">\r\n                                                    <span>\r\n                                                        <ppc-content key="multiLocationText1" data-ph-at-id="multilocation-text1">Job available in</ppc-content>\r\n                                                    </span> ${eachJob.multi_location.length}\r\n                                                    <span>\r\n                                                        <ppc-content key="multiLocationText2" data-ph-at-id="multilocation-text2">locations</ppc-content>\r\n                                                    </span>\r\n                                                    <i ref="listItemIcon" class="${eachJob.toggleOpen ? \'icon icon-up-arrow\' : \'icon icon-down-arrow\'}" aria-hidden="true" data-ph-id="ph-18929372493690734-view-external-ph-search-results-v163"></i>\r\n                                                </button>\r\n                                                <ul ref="listItem" class="${eachJob.toggleOpen ? \'show\' : \'hide\'}" data-ph-at-id="job-multi-locations-list">\r\n                                                    <li class="location" repeat.for="eachLocation of eachJob.multi_location" aria-label="${eachLocation}" data-ph-at-id="job-multi-location-item"\r\n                                                        data-ph-at-job-location-text="${eachLocation}">\r\n                                                        ${eachLocation}\r\n                                                    </li>\r\n                                                </ul>\r\n                                            </li>\r\n                                        </ul>\r\n                                        <p class="job-description" if.bind="eachJob.descriptionTeaser && eachAttr.name.indexOf(\'descriptionTeaser\')!= -1" innerhtml.bind="eachJob.descriptionTeaser | sanitizeHTML"\r\n                                            data-ph-at-id="jobdescription-text"></p>\r\n                                    </div>\r\n                                    <ul class="job-multi-locations" if.bind="eachJob.multi_location.length > 1 && eachAttr.name.indexOf(\'location\') != -1">\r\n                                        <li>\r\n                                            <button data-ph-at-id="job-multi-locations-button" ph-tevent="multi_location_click" data-ph-tevent-attr-trait14="${eachJob.category}"\r\n                                                data-ph-tevent-attr-trait5="${eachJob.jobSeqNo}" keyup.trigger="($event.keyCode === 27)?(eachJob.toggleOpen = false):\'\'"\r\n                                                class="esc$$close" click.delegate="eachJob.toggleOpen = !eachJob.toggleOpen" tabindex="0"\r\n                                                role="button" key-role="c-business-programs-operations-ph-search-results-v1-view-external-btnRole"\r\n                                                id="searchLoc" aria-haspopup="true" aria-expanded="${eachJob.toggleOpen ? \'true\' : \'false\'}"\r\n                                                aria-label="${eachJob.title} ${eachJob.jobSeqNo} Job available in ${eachJob.multi_location.length} locations"\r\n                                                data-ph-at-job-multilocation-count="${eachJob.multi_location.length}">\r\n                                                <span>\r\n                                                    <ppc-content key="multiLocationText1" data-ph-at-id="multilocation-text1">Job available in</ppc-content>\r\n                                                </span> ${eachJob.multi_location.length}\r\n                                                <span>\r\n                                                    <ppc-content key="multiLocationText2" data-ph-at-id="multilocation-text2">locations</ppc-content>\r\n                                                </span>\r\n                                                <i ref="listItemIcon" class="${eachJob.toggleOpen ? \'icon icon-up-arrow\' : \'icon icon-down-arrow\'}" aria-hidden="true" data-ph-id="ph-18929372493690734-view-external-ph-search-results-v163"></i>\r\n                                            </button>\r\n                                            \x3c!--dropView used to toggle toggleMultiLocationView based on item click: js dependent --\x3e\r\n                                            <ul ref="listItem" class="${eachJob.toggleOpen ? \'show\' : \'hide\'}" data-ph-at-id="job-multi-locations-list">\r\n                                                <li class="location" repeat.for="eachLocation of eachJob.multi_location" aria-label="${eachLocation}" data-ph-at-id="job-multi-location-item"\r\n                                                    data-ph-at-job-location-text="${eachLocation}">\r\n                                                    ${eachLocation}\r\n                                                </li>\r\n                                            </ul>\r\n                                        </li>\r\n                                    </ul>\r\n                                </div>\r\n                            </a>\r\n                            <div class="job-actions"> \r\n                                <div repeat.for="eachAction of jobActions">\r\n                                    <div if.bind="eachAction.name == \'applyNow\'">\r\n                                        <a ph-tevent="from_data_attribute" data-ph-tevent-name="${eachJob.actionEventName}" href.bind="eachJob.actionUrl" target.bind="eachJob.externalApply!=\'undefind\' && eachJob.externalApply && !clickTojd ? \'_blank\' : \'_self\'"\r\n                                            class="btn plain-button apply-btn" data-ph-at-id="apply-link" data-ph-tevent-attr-trait5="${eachJob.jobSeqNo}"\r\n                                            data-ph-tevent-attr-trait14="${eachJob.category}">\r\n                                            <ppc-content key="jobApplyActionLink" data-ph-at-id="apply-text">Apply Now</ppc-content>\r\n                                        </a>\r\n                                    </div>\r\n                                    <div if.bind="eachAction.name == \'shareJob\'">\r\n                                            <section class="ph-widget" instance-id="6ty93l">\r\n                                                    <div as-element="ph-social-share-v3" detail-obj.bind="eachJob"\r\n                                                    share-option="google-plus,facebook,twitter,linkedin" instance-id="6ty93l">\r\n                                                    </div>\r\n                                                </section>\r\n                                                <section class="ph-widget" instance-id="1gd0h6">\r\n                                                    <div as-element="ph-email-job-v1" class="ph-email-job-v1-default-default" data-widget="ph-email-job-v1" view="default" is-popup-reqd="true" \r\n                                                    instance-id="1gd0h6">\r\n                                                    </div>\r\n                                                </section>\r\n                                        <section class="ph-widget" instance-id="6ty93l">\r\n                                            <div as-element="ph-social-share-v2" class="ph-social-share-v2-default-default" data-widget="ph-social-share-v2" view="default"\r\n                                                current-job-obj.bind="eachJob" instance-id="6ty93l">\r\n                                            </div>\r\n                                        </section>\r\n                                    </div>\r\n                                    <div if.bind="eachAction.name == \'refer\'">\r\n                                            <button class="btn plain-button refer-friend-button" click.delegate="handleReferJob(eachJob)" data-ph-at-id="refer-friend-button" aria-label="Refer ${job.title}" role="button" key-role="btnRole" aria-expanded="${showPopup ? \'true\' : \'false\'}" aria-haspopup="true">\r\n                                                    <ppc-content key="referButtonText" data-ph-at-id="refer-friend-button-text">\r\n                                                        Refer\r\n                                                    </ppc-content>\r\n                                                    <i class="icon ${eachAction.settings.icon}" if.bind="eachAction.settings.icon && eachAction.settings.icon.length" aria-hidden="true"></i>\r\n                                                </button>\r\n                                    </div>\r\n                                    <div if.bind="eachAction.name == \'addToCart\'">\r\n                                        <div class="savejob-checkbox">\r\n                                            <label for="save-${eachJob.jobSeqNo}" class="${eachJob.inProgress ? \'disabled\' : \'\'}">\r\n                                                <input type="checkbox" id="save-${eachJob.jobSeqNo}" disabled.bind="eachJob.inProgress" ph-tevent="job_added_to_jobcart"\r\n                                                    checked.bind="eachJob.isJobSaved" change.delegate="handleSaveJob(eachJob)" title="${eachJob.isJobSaved === false ? \'Save Job\': \'Saved Job\'}">\r\n                                                <span class="label-content" if.bind="eachJob.isJobSaved === false">\r\n                                                    <i class="icon icon-star-empty"></i>\r\n                                                    <ppc-content key="literal-1487954993542-22">Save</ppc-content>\r\n                                                </span>\r\n                                                <span class="label-content" if.bind="eachJob.isJobSaved === true">\r\n                                                    <i class="icon icon-star"></i>\r\n                                                    <ppc-content key="literal-1487954993542-23">Saved</ppc-content>\r\n                                                </span>\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div if.bind="eachAction.name == \'removeFromCart\'">\r\n                                        <a href="javascript:void(0)" click.delegate="deleteJobFromCart(eachJob)" class="favourite" data-ph-at-id="job-remove-link">\r\n                                            <i class="icon icon-delete">Delete</i>\r\n                                        </a>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                    <div class="phs-widget-footer" if.bind="seemoretext" data-ph-at-id="navigation">\r\n                        <a href="javascript:void(0)" class="btn primary-button" keyup.trigger="seemoreOnKeyUp($event)" show.bind="showMore === true && jobsDisplayMode == \'seeMore\'"\r\n                            click.trigger="seemore()" title="See more recommended jobs" key-title="seemore-link-title" data-ph-at-id="seemore-link">\r\n                            <ppc-content key="seeMoreText" data-ph-at-id="seemore-text">See more </ppc-content>\r\n                            <i class="icon icon-down-arrow" aria-hidden="true"></i>\r\n                        </a>\r\n                        <a href="javascript:void(0)" class="btn primary-button" keyup.trigger="seemoreOnKeyUp($event)" show.bind="showMore === false"\r\n                            click.trigger="seeLess()" title="See less recommended jobs" key-title="seeless-link-title" data-ph-at-id="seeless-link">\r\n                            <ppc-content key="seeLessText" data-ph-at-id="seeless-text">See less </ppc-content>\r\n                            <i class="icon icon-arrow-up" aria-hidden="true"></i>\r\n                        </a>\r\n                        <a href="javascript:void(0)" class="btn primary-button" keyup.trigger="seemoreOnKeyUp($event)" show.bind="showMore === true && jobsDisplayMode == \'seeNext\'"\r\n                            click.trigger="seeNext()" title="See next recommended jobs" key-title="seenext-link-title" data-ph-at-id="seenext-link">\r\n                            <ppc-content key="seeNextText" data-ph-at-id="seenext-text">See next</ppc-content>\r\n                            <i class="icon icon-arrow-up" aria-hidden="true"></i>\r\n                        </a>\r\n                        <a href="javascript:void(0)" class="btn primary-button" keyup.trigger="seemoreOnKeyUp($event)" show.bind="showMore === true && jobsDisplayMode == \'seeEvenMore\'"\r\n                            click.trigger="seeEvenMore()" title="See even more recommended jobs" key-title="seeevenmore-link-title"\r\n                            data-ph-at-id="seeevenmore-link">\r\n                            <ppc-content key="seeEvenMoreText" data-ph-at-id="seeevenmore-text">See even more</ppc-content>\r\n                            <i class="icon icon-arrow-up" aria-hidden="true"></i>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <div class="no-data-view" show.bind="showErrorMsg" data-ph-at-id="nodata-block">\r\n                    <p>\r\n                        <ppc-content key="noRecomJobsInfoText" data-ph-at-id="nodata-text">\r\n                            No recommendations found\r\n                        </ppc-content>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </template>'}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v1/email-job-model",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.email="",this.name="",this.jobSeqNo="",this.siteType="external",this.referrerToken="",this.templateSiteType=""}return e}();t.EmailJobModel=o}),define("v1/ph-email-job-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v1:{ddoKey:"emailjob",jobDetailDDOKey:"jobDetail",ddoKeyShareDetails:"getSocialSharingDetails"}}});var __decorate=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-email-job-service",["require","exports","aurelia-framework","ph-common"],function(e,t,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.commonService=e}return e.prototype.emailThisJob=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return e})},e.prototype.getSocialUrls=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return e[t]})},e=__decorate([o.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==i.CommonService&&i.CommonService)&&t||Object])],e);var t}();t.EmailJobService=n});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),__decorate=this&&this.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-email-job",["require","exports","aurelia-framework","ph-common","./ph-email-job-config","./ph-email-job-service","./email-job-model"],function(e,t,o,i,n,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="ph-email-job-v1",l=function(e){function t(t,o,i,n){var r=e.call(this,t,o,s)||this;return r.element=t,r.commonService=o,r.emailJobService=i,r.emailJobModel=n,r.isPopupReqd=!1,r.isErrorMsgReqd=!1,r.replaceJobSeqNo=!1,r.disableName=!1,r.siteTypeExternal=!1,r.showSubTitle=!1,r.isDialog=!1,r.showDialogPopup=!1,r.showErrorMsg=!1,r.errors={},r.emailDomains=[],r.bodyclass="",r.isEmailClientEnabled=!1,r.piiConsentError=!1,r}return __extends(t,e),t.prototype.attached=function(){var t=this;this.isEmailClientEnabled=this.commonService.getSiteSettings("isNativeEmailClient"),this.isEmailClientEnabled||(e.prototype.attached.call(this),e.prototype.hideLoader.call(this),this.getPiiConsentData(),e.prototype.subscribeToEvent.call(this,"show-email-job",function(e){!t.jobSeqNo&&e.jobSeqNo&&(t.jobSeqNo=e.jobSeqNo),t.openEmailDialog()}),e.prototype.subscribeToEvent.call(this,"JOB_DETAIL_OBJECT",function(e){e.visibilityType&&"Internal/External"==e.visibilityType?t.jobSeqNo=e.jobId:e.jobSeqNo&&(t.jobSeqNo=e.jobSeqNo),t.jobId=e.jobId}),e.prototype.subscribeToEvent.call(this,"updateJob",function(o){o.jobSeqNo&&(e.prototype.showContainer.call(t),t.replaceJobSeqNo?t.jobSeqNo=o.jobId:o.jobSeqNo&&(t.jobSeqNo=o.jobSeqNo),t.jobSiteType=o.siteType,t.jobLocation=o.location)}),this.fetchJobSeqNo())},t.prototype.getPiiConsentData=function(){this.piiConsentData=this.commonService.getSiteSettings("piiConsentConfig")},t.prototype.getBodyClass=function(){this.bodyclass=document.body.className},t.prototype.fetchJobSeqNo=function(){if(this.jobSeqNo&&null!=this.jobSeqNo&&this.jobSeqNo.length>0);else{var t=this.commonService.getCachedDDO(n.WidgetConfig.v1.jobDetailDDOKey,s);t&&t.data&&t.data.job&&t.data.job.jobSeqNo?(this.replaceJobSeqNo&&t?this.jobSeqNo=t.data.job.jobId:this.jobSeqNo=t.data.job.jobSeqNo,this.category=t.data.job.category):(e.prototype.hideLoader.call(this),this.handleError(""))}},t.prototype.emailThisJob=function(){var t=this;if("internal"==this.commonService.getSiteType()){var o={jobSeqNo:this.jobSeqNo,jobId:this.jobId,medium:"email-share",campaign:"jobs-share",source:"email",siteType:"external",email:this.emailJobModel.email,jobSiteType:"internal"==this.jobSiteType?"external":this.jobSiteType,jobLocation:this.jobLocation,templateSiteType:this.commonService.getSiteType()};this.emailJobService.getSocialUrls(s,n.WidgetConfig.v1.ddoKeyShareDetails,o).then(function(o){e.prototype.hideLoader.call(t),o&&o.status&&"SUCCESS"==o.status.toUpperCase()&&o.data&&o.data.jdUrl&&(t.emailJobModel.referrerToken=o.data.referrerToken),t.emailJob()},function(o){new Error(o),e.prototype.hideLoader.call(t),t.handleError("")})}else this.emailJob()},t.prototype.hasPiiErrors=function(){var e=this;this.piiConsentError=!1,this.piiConsentData&&this.piiConsentData.length&&this.piiConsentData.forEach(function(t){t.optional||t.isChecked||(e.piiConsentError=!0)})},t.prototype.emailJob=function(){var t=this;if(this.hasPiiErrors(),!this.piiConsentError){if(this.jobSeqNo||this.fetchJobSeqNo(),this.emailJobModel.jobSeqNo=this.jobSeqNo,this.emailDomains=this.commonService.getSiteSettings("emailDomains"),this.errors.name={},this.errors.email={},this.disableName&&delete this.emailJobModel.name,this.emailDomains){for(var o=!1,i=0,r=this.emailDomains;i<r.length;i++){var a=r[i];if(this.validateEmail(this.emailJobModel.email,a)){o=!0;break}}this.emailJobModel.name||this.disableName?(this.hasErrors=!1,this.errors.name.error=!1):(this.hasErrors=!0,this.errors.name.code="E101",this.errors.name.error=!0),this.emailJobModel.email?o?(this.hasErrors=!1,this.errors.email.error=!1,e.prototype.unhideLoader.call(this)):(this.hasErrors=!0,this.errors.email.error=!0,this.errors.email.code="E102"):(this.hasErrors=!0,this.errors.email.error=!0,this.errors.email.code="E101")}else{var l=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;this.emailJobModel.name||this.disableName?(this.hasErrors=!1,this.errors.name.error=!1):(this.hasErrors=!0,this.errors.name.code="E101",this.errors.name.error=!0),this.emailJobModel.email?l.test(this.emailJobModel.email)?(this.hasErrors=!1,this.errors.email.error=!1,e.prototype.unhideLoader.call(this)):(this.hasErrors=!0,this.errors.email.error=!0,this.errors.email.code="E102"):(this.hasErrors=!0,this.errors.email.error=!0,this.errors.email.code="E101")}(this.errors.name.error||this.errors.email.error)&&(this.hasErrors=!0,e.prototype.hideLoader.call(this)),this.hasErrors?setTimeout(function(){t.errors.name.error?t.element.querySelector(".ph-a11y-form-control-name").focus():!t.errors.name.error&&t.errors.email.error&&t.element.querySelector(".ph-a11y-form-control-email").focus()},50):(this.emailJobModel.templateSiteType=this.commonService.getSiteType(),this.jobSiteType&&("internal"==this.jobSiteType?this.emailJobModel.jobSiteType="external":this.emailJobModel.jobSiteType=this.jobSiteType),this.emailJobModel.jobLocation=this.jobLocation,this.emailJobService.emailThisJob(s,n.WidgetConfig.v1.ddoKey,this.emailJobModel).then(function(o){var i=t.element.querySelectorAll(".feedbackText")[0];if(o&&o.emailjob&&"success"==o.emailjob.status){var n={};n.trait15=t.emailJobModel.name?t.emailJobModel.name:"",n.trait27=t.emailJobModel.email,n.trait5=t.jobSeqNo,n.trait14=t.category,t.commonService.processTrackingEvent("email_job",void 0,n),e.prototype.hideLoader.call(t),t.showEmailSuccess=!0;var r=document.querySelector(".ph-a11y-email-submit"),a=t.element.querySelector(".success-hdlr button");r&&a&&e.prototype.openDialogPopup.call(t,"success-hdlr",r,a),t.emailJobModel.name="",t.emailJobModel.email=""}else{e.prototype.hideLoader.call(t),t.showEmailFailure=!0;var r=document.querySelector(".ph-a11y-email-submit"),a=t.element.querySelector(".failure-hdlr button");r&&a&&e.prototype.openDialogPopup.call(t,"failure-hdlr",r,a)}i&&i.setAttribute("tabindex","0"),setTimeout(function(){i&&i.focus()},50),t.isDialog&&(t.showDialogPopup=!0,t.emailJobModel.name="",t.emailJobModel.email="")},function(e){t.showEmailSuccess=!1,t.showEmailFailure=!1,t.closeEmailDialog()}))}},t.prototype.onBtnBlurHandler=function(e){e.target.setAttribute("tabindex","-1")},t.prototype.validateEmail=function(e,t){var o=e.toLowerCase().match("^(.+)@"+t.toLowerCase()+".com$");if(null==o)return!1;if(null!=o[1]){var i=/^\"?[\w-_\.]*\"?$/;return null!=o[1].match(i)}return!1},t.prototype.detached=function(){e.prototype.hideLoader.call(this)},t.prototype.openEmailDialog=function(){if(this.isPopupReqd){this.showEmailDialog=!0;var t=document.getElementsByClassName("email")[0],o=this.element.querySelectorAll(".form-control")[0];t&&e.prototype.openDialogPopup.call(this,"modal",t,o),this.showEmailSuccess=!1,this.showEmailFailure=!1,this.getBodyClass();var i=this.bodyclass+" overflow-hidden";document.body.className=i}else{var n=document.querySelector('[as-element^="ph-email-job"]');if(n){var r=window.pageYOffset;if(this.commonService.smoothScroll&&"internal"==this.commonService.getSiteType()){var a=this.commonService.getNearestSectionElemOffsetTop(n,"bottom");r<a?this.commonService.smoothScroll(r,a,!0,30):this.commonService.smoothScroll(r,a,!1,30);var s=n.querySelector("input");s&&s.focus()}else{n.scrollIntoView(!1);var l=document.querySelectorAll(".ph-sticky-header"),c=0,d=window.scrollY,p=0;if(l.length){for(var h=0;h<l.length;h++)c+=l[h].offsetHeight;d&&c>window.innerHeight/2&&(p=n.offsetHeight-(window.innerHeight-c),window.scroll(0,d-p))}}}}},t.prototype.closeEmailDialog=function(){if(this.showEmailDialog=!1,this.showEmailSuccess=!1,this.showEmailFailure=!1,e.prototype.closeDialogPopup.call(this),this.errors.name={},this.errors.email={},document.body.classList&&document.body.classList.contains("overflow-hidden")&&document.body.classList.remove("overflow-hidden"),this.shareHandler){this.shareHandler({share:{name:"email"}});var t={jobSeqNo:this.jobSeqNo};e.prototype.trackWidgetClick.call(this,"popup_close_click",t)}var o=this.element.querySelector(".ph-a11y-email-button");o&&o.focus()},t.prototype.closeFeedbackPopup=function(t){e.prototype.closeDialogPopup.call(this),t?this.closeEmailDialog():(this.errors.name={},this.errors.email={},this.errors.senderName={},this.emailJobModel.name="",this.emailJobModel.email="")},t.prototype.handleError=function(t){this.isErrorMsgReqd?this.showErrorMsg=!0:e.prototype.onError.call(this,"")},__decorate([o.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([o.bindable,__metadata("design:type",String)],t.prototype,"jobSeqNo",void 0),__decorate([o.bindable,__metadata("design:type",String)],t.prototype,"jobId",void 0),__decorate([o.bindable,__metadata("design:type",String)],t.prototype,"category",void 0),
__decorate([o.bindable,__metadata("design:type",Boolean)],t.prototype,"isPopupReqd",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"isErrorMsgReqd",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"replaceJobSeqNo",void 0),__decorate([o.bindable(),__metadata("design:type",Function)],t.prototype,"shareHandler",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"disableName",void 0),__decorate([o.bindable,__metadata("design:type",Boolean)],t.prototype,"siteTypeExternal",void 0),__decorate([o.bindable,__metadata("design:type",Boolean)],t.prototype,"showSubTitle",void 0),__decorate([o.bindable,__metadata("design:type",Boolean)],t.prototype,"isDialog",void 0),t=__decorate([o.customElement(s),o.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(l=void 0!==i.CommonService&&i.CommonService)&&l||Object,r.EmailJobService,a.EmailJobModel])],t);var l}(i.PhenomWidget);t.EmailJob=l}),define("text!v1/ph-email-job.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("components",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["v1/ph-refer-friend","v3/ph-global-search","v1/ph-geo-location","v1/ph-candidate-merge-profile","v1/ph-profile-recommendations","v3/ph-social-share","v2/ph-cookie-popup","v2/ph-profile-recommendations","v1/ph-email-job"]}),define("main",["require","exports","./environment","./components"],function(e,t,o,i){"use strict";function n(e){e.use.standardConfiguration().plugin("ph-common").globalResources(i.default),o.default.debug&&e.use.developmentLogging(),window&&(window.localAurelia=e),window.pht=window.pht||{};for(var t=document.querySelectorAll("div.ph-widget-target[data-widget]"),n=0;n<t.length;n++){var r=t[n];if(r){var a=r.getAttribute("type");if(!a||"static"!=a){var s=r.innerHTML,l=r.getAttribute("as-element"),c=r.getAttribute("view")||"default";s&&s.trim().length&&(pht[l+"-"+c]=s.trim()),r.innerHTML=""}}}e.start().then(function(){return e.enhance({},document.body)})}P.config({longStackTraces:!1,warnings:{wForgottenReturn:!1}}),t.configure=n}),document&&document.body&&document.body.setAttribute("aurelia-app","main");