define(["require","exports","OK/utils/dom","OK/animations"],(function(require,t,e,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderMarkers=void 0;var s=Math.ceil(2.5)-1,r=function(t,i,s,r){var n=this;void 0===s&&(s="js-marker"),void 0===r&&(r="js-marker-progress"),this.el=t,this.onClick=i,this.itemCls=s,this.itemProgressCls=r,this.index=0,this.onMarkerClick=function(t){var i=e.parent(t.target,n.itemCls,null,!0);if(i){var s=+i.getAttribute("data-index");s!==n.index&&n.onClick(s)}},this.cnt=t.firstChild,this.markers=e.byClass(t,s),this.markersProgress=e.byClass(t,r),this.el.addEventListener("click",this.onMarkerClick)};r.prototype.setIndex=function(t){this.markers.forEach((),this.markersProgress.forEach((),this.index=t,this.updateScroll()},r.prototype.updateScroll=function(){var t=this.index,e=this.markers[t];if(e){var i=this.markers.length;if(i<=5)this.el.classList.toggle("__full",!0);else{var r,n,o=t>s&&t<i-s,a=(this.cnt.getBoundingClientRect(),this.cnt.scrollWidth),l=e.getBoundingClientRect().width;o?(n=4*l,r=l*(t-2+.5)):t>s?r=a-(n=4.5*l):(n=4.5*l,r=0),this.updateView(r,n)}}},r.prototype.updateView=function(t,e){var s=this,r=this.cnt.scrollLeft,n=t-r,o=this.cnt.offsetWidth,a=e-o;(0,i.animate)(500,i.Bezier.easeInOut,(function(t,e){s.cnt&&(s.cnt.scrollTo(r+n*e,0),s.cnt.style.width=o+a*e+"px")}))},r.prototype.setProgress=function(t){this.markersProgress[this.index].style.transform="translateX(-"+Math.round(100-t)+"%)"},r.prototype.setPaused=r.prototype.destroy=t.SliderMarkers=r}));
//# sourceMappingURL=/res/source-maps/js/app/SliderMarkers.js.map