var CKEDITOR_BASEPATH="/etc.clientlibs/clientlibs/ckeditor/resources/ckeditor/",contextPath=CQ.shared.HTTP.getContextPath();null!==contextPath&&0<contextPath.length&&(CKEDITOR_BASEPATH=contextPath+CKEDITOR_BASEPATH);
(function(){if(!window.CKEDITOR||!window.CKEDITOR.dom){window.CKEDITOR||(window.CKEDITOR=));CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=
CKEDITOR.event.prototype=function(){ar f=d=d.prototype={getListenerIndex:;return{define:function(c,b){c=a.call(this,c);CKEDITOR.tools.extend(c,b,!0)},on:once:capture:fire:function(){var a=0,b=function(){a=1},d=0,h=function(){d=1};return function(c,g,l){var e=f(this)[c];c=a;var n=d;a=d=0;if(e){var m=e.listeners;if(m.length){m=m.slice(0);for(var k,v=0;v<m.length;v++){if(e.errorProof)try{k=m[v].call(this,l,g,b,h)}catch(q){}else k=m[v].call(this,l,g,b,h);!1===k?d=1:"undefined"!=typeof k&&(g=k);if(a||d)break}}}g=
d?!1:"undefined"==typeof g?!0:g;a=c;d=n;return g}}(),fireOnce:removeListener:function(a,b){if(a=f(this)[a])b=a.getListenerIndex(b),0<=b&&a.listeners.splice(b,1)},removeAllListeners:hasListeners:}());CKEDITOR.editor||(CKEDITOR.editor=CKEDITOR.editor.prototype.fire=
function(a,f){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fire.call(this,a,f,this)},CKEDITOR.editor.prototype.fireOnce=CKEDITOR.event.implementOn(CKEDITOR.editor.prototype));CKEDITOR.env||(CKEDITOR.env=function(){var a=navigator.userAgent.toLowerCase(),f=a.match(/edge[ \/](\d+.?\d*)/),d=-1<a.indexOf("trident/");d=!(!f&&!d);d={ie:d,edge:!!f,webkit:!d&&
-1<a.indexOf(" applewebkit/"),air:-1<a.indexOf(" adobeair/"),mac:-1<a.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<a.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(a),isCustomDomain:secure:"https:"==location.protocol};d.gecko="Gecko"==navigator.product&&!d.webkit&&!d.ie;d.webkit&&(-1<a.indexOf("chrome")?d.chrome=
!0:d.safari=!0);var c=0;d.ie&&(c=f?parseFloat(f[1]):d.quirks||!document.documentMode?parseFloat(a.match(/msie (\d+)/)[1]):document.documentMode,d.ie9Compat=9==c,d.ie8Compat=8==c,d.ie7Compat=7==c,d.ie6Compat=7>c||d.quirks);d.gecko&&(f=a.match(/rv:([\d\.]+)/))&&(f=f[1].split("."),c=1E4*f[0]+100*(f[1]||0)+1*(f[2]||0));d.air&&(c=parseFloat(a.match(/ adobeair\/(\d+)/)[1]));d.webkit&&(c=parseFloat(a.match(/ applewebkit\/(\d+)/)[1]));d.version=c;d.isCompatible=!(d.ie&&7>c)&&!(d.gecko&&4E4>c)&&!(d.webkit&&
534>c);d.hidpi=2<=window.devicePixelRatio;d.needsBrFiller=d.gecko||d.webkit||d.ie&&10<c;d.needsNbspFiller=d.ie&&11>c;d.cssClass="cke_browser_"+(d.ie?"ie":d.gecko?"gecko":d.webkit?"webkit":"unknown");d.quirks&&(d.cssClass+=" cke_browser_quirks");d.ie&&(d.cssClass+=" cke_browser_ie"+(d.quirks?"6 cke_browser_iequirks":d.version));d.air&&(d.cssClass+=" cke_browser_air");d.iOS&&(d.cssClass+=" cke_browser_ios");d.hidpi&&(d.cssClass+=" cke_hidpi");return d}());"unloaded"==CKEDITOR.status&&);"use strict";CKEDITOR.VERBOSITY_WARN=1;CKEDITOR.VERBOSITY_ERROR=2;CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR;CKEDITOR.warn=function(a,f){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:a,additionalData:f})};CKEDITOR.error=CKEDITOR.on("log",null,null,999);CKEDITOR.dom={};(function(){r d=[],c=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",b=/&/g,k=/>/g,h=/</g,m=/"/g,g=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,l={lt:"\x3c",gt:"\x3e",amp:"\x26",quot:'"',nbsp:"\u00a0",shy:"\u00ad"},e=CKEDITOR.on("reset",;CKEDITOR.tools={arrayCompare:getIndex:clone:function(a){if(a&&a instanceof Array){var e=[];for(var b=0;b<a.length;b++)e[b]=CKEDITOR.tools.clone(a[b]);return e}if(null===a||"object"!=typeof a||a instanceof String||a instanceof Number||a instanceof Boolean||a instanceof Date||a instanceof RegExp||a.nodeType||a.window===a)return a;e=new a.constructor;for(b in a)e[b]=CKEDITOR.tools.clone(a[b]);return e},
capitalize:extend:prototypedCopy:copy:isArray:isEmpty:cssVendorPrefix:cssStyleToDomStyle:),buildStyleHtml:htmlEncode:htmlDecode:htmlEncodeAttr:htmlDecodeAttr:function(a){return CKEDITOR.tools.htmlDecode(a)},transformPlainTextToHtml:function(a,e){var b=e==CKEDITOR.ENTER_BR;a=this.htmlEncode(a.replace(/\r\n/g,"\n"));a=a.replace(/\t/g,"\x26nbsp;\x26nbsp; \x26nbsp;");e=e==CKEDITOR.ENTER_P?"p":"div";if(!b){var n=/\n{2}/g;if(n.test(a)){var g="\x3c"+e+"\x3e",c="\x3c/"+e+"\x3e";a=g+a.replace(n,+c}}a=a.replace(/\n/g,"\x3cbr\x3e");b||(a=a.replace(new RegExp("\x3cbr\x3e(?\x3d\x3c/"+e+"\x3e)"),);a=a.replace(/^ | $/g,"\x26nbsp;");return a=a.replace(/(>|\s) /g,.replace(/ (?=<)/g,"\x26nbsp;")},getNextNumber:),getNextId:getUniqueId:override:function(a,e){e=e(a);e.prototype=a.prototype;return e},setTimeout:throttle:function(a,e,b){return new this.buffers.throttle(a,e,b)},trim:function(){var a=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(e){return e.replace(a,"")}}(),ltrim:function(){var a=/^[ \t\n\r]+/g;return function(e){return e.replace(a,"")}}(),rtrim:),indexOf:search:function(a,e){e=CKEDITOR.tools.indexOf(a,e);return 0<=e?a[e]:null},bind:createClass:function(a){var e=a.$,b=a.base,n=a.privates||a._,g=a.proto;a=a.statics;!e&&(e=;if(n){var c=e;e=b&&(e.prototype=this.prototypedCopy(b.prototype),e.prototype.constructor=e,e.base=b,e.baseProto=b.prototype,e.prototype.base=;g&&this.extend(e.prototype,g,!0);a&&this.extend(e,a,!0);return e},addFunction:removeFunction:function(a){d[a]=null},callFunction:cssLength:),convertToPx:),repeat:tryThese:genKey:defer:normalizeCssText:function(a,e){var b=[],g;a=CKEDITOR.tools.parseCssText(a,
!0,e);for(g in a)b.push(g+":"+a[g]);b.sort();return b.length?b.join(";")+";":""},convertRgbToHex:normalizeHex:parseCssText:writeCssText:
objectCompare:objectKeys:convertArrayToObject:fixDomain:eventsBuffer:enableHtml5Elements:checkIfAnyArrayItemMatches:checkIfAnyObjectPropertyMatches:keystrokeToString:function(a,e){a=this.keystrokeToArray(a,e);a.display=a.display.join("+");a.aria=a.aria.join("+");return a},keystrokeToArray:function(a,e){var b=e&16711680;e&=65535;var g=CKEDITOR.env.mac,c=[],n=[];b&CKEDITOR.CTRL&&(c.push(g?"\u2318":a[17]),n.push(g?a[224]:a[17]));b&CKEDITOR.ALT&&(c.push(g?"\u2325":a[18]),n.push(a[18]));b&CKEDITOR.SHIFT&&(c.push(g?"\u21e7":a[16]),n.push(a[16]));e&&(a[e]?(c.push(a[e]),n.push(a[e])):(c.push(String.fromCharCode(e)),
n.push(String.fromCharCode(e))));return{display:c,aria:n}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw\x3d\x3d",getCookie:setCookie:getCsrfToken:function(){var a=CKEDITOR.tools.getCookie("ckCsrfToken");if(!a||40!=a.length){a=[];var e="";if(window.crypto&&window.crypto.getRandomValues)a=new Uint8Array(40),window.crypto.getRandomValues(a);else for(var b=0;40>b;b++)a.push(Math.floor(256*Math.random()));for(b=0;b<a.length;b++){var g="abcdefghijklmnopqrstuvwxyz0123456789".charAt(a[b]%36);e+=.5<Math.random()?g.toUpperCase():g}a=e;CKEDITOR.tools.setCookie("ckCsrfToken",a)}return a},escapeCss:getMouseButton:normalizeMouseButton:convertHexStringToBytes:convertBytesToBase64:
style:{parse:{_colors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",
darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",
ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",
lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",
moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",
seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",windowtext:"windowtext",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},_borderStyle:"none hidden dotted dashed solid double groove ridge inset outset".split(" "),
_widthRegExp:/^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:margin:sideShorthand:border:_findColor:function(a){var e=[],b=CKEDITOR.tools.array;e=e.concat(a.match(this._rgbaRegExp)||
[]);e=e.concat(a.match(this._hslaRegExp)||[]);return e=e.concat(b.filter(a.split(/\s+/),)}}},array:{filter:find:forEach:map:reduce:every:some:,object:{DONT_ENUMS:"toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),entries:values:keys:findKey:merge:,getAbsoluteRectPosition:function(a,e){var g=CKEDITOR.tools.copy(e);b(a.getFrame());a=CKEDITOR.document.getWindow().getScrollPosition();g.top+=a.y;g.left+=a.x;"x"in g&&"y"in g&&(g.y+=a.y,g.x+=a.x);g.right=g.left+g.width;g.bottom=g.top+g.height;return g}};a.prototype={reset:_reschedule:function(){return!1},_call:function(){this._output()},_clearTimer:;f.prototype=CKEDITOR.tools.prototypedCopy(a.prototype);
f.prototype._reschedule=function(){this._scheduledTimer&&this._clearTimer()};f.prototype._call=CKEDITOR.tools.buffers={};CKEDITOR.tools.buffers.event=a;CKEDITOR.tools.buffers.throttle=f;CKEDITOR.tools.style.border=CKEDITOR.tools.createClass({$:_:{normalizeMap:{color:[[/windowtext/g,"black"]]},normalize:,proto:{toString:,statics:{fromCssRule:splitCssValues:});CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf;CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray;CKEDITOR.MOUSE_BUTTON_LEFT=0;CKEDITOR.MOUSE_BUTTON_MIDDLE=1;CKEDITOR.MOUSE_BUTTON_RIGHT=2})();CKEDITOR.dtd=);CKEDITOR.dom.event=function(a){this.$=a};CKEDITOR.dom.event.prototype={getKey:getKeystroke:
preventDefault:stopPropagation:getTarget:getPhase:function(){return this.$.eventPhase||2},getPageOffset:;CKEDITOR.CTRL=1114112;CKEDITOR.SHIFT=2228224;CKEDITOR.ALT=4456448;CKEDITOR.EVENT_PHASE_CAPTURING=1;CKEDITOR.EVENT_PHASE_AT_TARGET=2;CKEDITOR.EVENT_PHASE_BUBBLING=3;CKEDITOR.dom.domObject=CKEDITOR.dom.domObject.prototype=);(function(a){var f=
{};CKEDITOR.on("reset",;a.equals=a.setCustomData=a.getCustomData=a.removeCustomData=function(a){var c=this.$["data-cke-expando"];c=c&&f[c];var b,d;c&&(b=c[a],d=a in c,delete c[a]);return d?b:null};a.clearCustomData=a.getUniqueId=CKEDITOR.event.implementOn(a)})(CKEDITOR.dom.domObject.prototype);CKEDITOR.dom.node=CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject;CKEDITOR.NODE_ELEMENT=1;CKEDITOR.NODE_DOCUMENT=9;CKEDITOR.NODE_TEXT=3;CKEDITOR.NODE_COMMENT=8;CKEDITOR.NODE_DOCUMENT_FRAGMENT=11;CKEDITOR.POSITION_IDENTICAL=0;CKEDITOR.POSITION_DISCONNECTED=1;CKEDITOR.POSITION_FOLLOWING=2;CKEDITOR.POSITION_PRECEDING=4;CKEDITOR.POSITION_IS_CONTAINED=8;CKEDITOR.POSITION_CONTAINS=16;CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:clone:hasPrevious:function(){return!!this.$.previousSibling},hasNext:insertAfter:insertBefore:insertBeforeMe:getAddress:getDocument:getIndex:function(a){function f(a,b){return(a=b?a.getNext():a.getPrevious())&&a.type==CKEDITOR.NODE_TEXT?a.isEmpty()?f(a,b):a:null}var d=this,c=-1;if(!this.getParent()||a&&d.type==CKEDITOR.NODE_TEXT&&d.isEmpty()&&!f(d)&&
!f(d,!0))return-1;do if(!a||d.equals(this)||d.type!=CKEDITOR.NODE_TEXT||!b&&!d.isEmpty()){c++;var b=d.type==CKEDITOR.NODE_TEXT}while(d=d.getPrevious());return c},getNextSourceNode:getPreviousSourceNode:getPrevious:function(a){var f=this.$;do var d=(f=f.previousSibling)&&
10!=f.nodeType&&new CKEDITOR.dom.node(f);while(d&&a&&!a(d));return d},getNext:function(a){var f=this.$;do var d=(f=f.nextSibling)&&new CKEDITOR.dom.node(f);while(d&&a&&!a(d));return d},getParent:getParents:getCommonAncestor:getPosition:function(a){var f=this.$,d=a.$;if(f.compareDocumentPosition)return f.compareDocumentPosition(d);if(f==d)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&a.type==CKEDITOR.NODE_ELEMENT){if(f.contains){if(f.contains(d))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(d.contains(f))return CKEDITOR.POSITION_IS_CONTAINED+
CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in f)return 0>f.sourceIndex||0>d.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:f.sourceIndex<d.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}f=this.getAddress();a=a.getAddress();d=Math.min(f.length,a.length);for(var c=0;c<d;c++)if(f[c]!=a[c])return f[c]<a[c]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return f.length<a.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},
getAscendant:hasAscendant:move:remove:replace:trim:ltrim:
rtrim:isReadOnly:);CKEDITOR.dom.window=function(a){CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject;CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:
getViewPaneSize:getScrollPosition:getFrame:);CKEDITOR.dom.document=CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject;CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:appendStyleText:createElement:function(a,f){a=new CKEDITOR.dom.element(a,this);f&&(f.attributes&&a.setAttributes(f.attributes),f.styles&&a.setStyles(f.styles));return a},createText:focus:function(){this.getWindow().focus()},getActive:function(){try{var a=this.$.activeElement}catch(f){return null}return new CKEDITOR.dom.element(a)},
getById:function(a){return(a=this.$.getElementById(a))?new CKEDITOR.dom.element(a):null},getByAddress:getElementsByTag:getHead:function(){var a=this.$.getElementsByTagName("head")[0];return a?new CKEDITOR.dom.element(a):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:write:find:findOne:_getHtml5ShivFrag:);CKEDITOR.dom.nodeList=function(a){this.$=a};CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:toArray:;CKEDITOR.dom.element=CKEDITOR.dom.element.get=CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node;CKEDITOR.dom.element.createFromHtml=function(a,f){f=new CKEDITOR.dom.element("div",f);f.setHtml(a);return f.getFirst().remove()};CKEDITOR.dom.element.setMarker=CKEDITOR.dom.element.clearAllMarkers=CKEDITOR.dom.element.clearMarkers=(function(){nction d(a,b){a=CKEDITOR.tools.escapeCss(a.$.id);return"#"+a+" "+b.split(/,\s*/).join(", #"+a+" ")}ar b=document.createElement("_").classList;b="undefined"!==
typeof b&&null!==String(b.add).match(/\[Native code\]/gi);var k=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:b?removeClass:b?hasClass:append:appendHtml:appendText:appendBogus:breakParent:function(a,b){var g=new CKEDITOR.dom.range(this.getDocument());g.setStartAfter(this);g.setEndAfter(a);
a=g.extractContents(!1,b||!1);g.insertNode(this.remove());if(CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(g=new CKEDITOR.dom.element("div");b=a.getFirst();)b.$.style.backgroundColor&&(b.$.style.backgroundColor=b.$.style.backgroundColor),g.append(b);g.insertAfter(this);g.remove(!0)}else a.insertAfterNode(this)},contains:document.compareDocumentPosition?focus:),getHtml:getOuterHtml:getClientRect:setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?setText:),getAttribute:),getAttributes:getChildren:getClientSize:getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(a){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(a)]},
getDtd:getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:getText:getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:getName:getValue:function(){return this.$.value},getFirst:function(a){var b=this.$.firstChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getNext(a));return b},getLast:getStyle:
is:isEditable:isIdentical:isVisible:isEmptyInlineRemoveable:hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?hasAttribute:),hide:moveChildren:function(a,b){var c=this.$;a=a.$;if(c!=a)if(b)for(;b=c.lastChild;)a.insertBefore(c.removeChild(b),a.firstChild);else for(;b=c.firstChild;)a.appendChild(c.removeChild(b))},mergeSiblings:),show:setAttribute:),setAttributes:function(a){for(var b in a)this.setAttribute(b,a[b]);return this},setValue:removeAttribute:),removeAttributes:removeStyle:function(a){var b=this.$.style;if(b.removeProperty||"border"!=a&&"margin"!=a&&"padding"!=a)b.removeProperty?b.removeProperty(a):b.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(a)),this.$.style.cssText||this.removeAttribute("style");else{var c=["top","left","right","bottom"],e;"border"==a&&(e=["color","style","width"]);b=[];for(var d=0;d<c.length;d++)if(e)for(var f=
0;f<e.length;f++)b.push([a,c[d],e[f]].join("-"));else b.push([a,c[d]].join("-"));for(a=0;a<b.length;a++)this.removeStyle(b[a])}},setStyle:setStyles:setOpacity:unselectable:getPositionedAncestor:getDocumentPosition:function(a){var b=0,c=0,e=this.getDocument(),d=e.getBody(),f="BackCompat"==e.$.compatMode;if(document.documentElement.getBoundingClientRect&&(CKEDITOR.env.ie?
8!==CKEDITOR.env.version:1)){var k=this.$.getBoundingClientRect(),h=e.$.documentElement,m=h.clientTop||d.$.clientTop||0,p=h.clientLeft||d.$.clientLeft||0,t=!0;CKEDITOR.env.ie&&(t=e.getDocumentElement().contains(this),e=e.getBody().contains(this),t=f&&e||!f&&t);t&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(b=d.$.scrollLeft||h.scrollLeft,c=d.$.scrollTop||h.scrollTop):(c=f?d.$:h,b=c.scrollLeft,c=c.scrollTop),b=k.left+b-p,c=k.top+c-m)}else for(m=this,p=null;m&&"body"!=m.getName()&&
"html"!=m.getName();){b+=m.$.offsetLeft-m.$.scrollLeft;c+=m.$.offsetTop-m.$.scrollTop;for(m.equals(this)||(b+=m.$.clientLeft||0,c+=m.$.clientTop||0);p&&!p.equals(m);)b-=p.$.scrollLeft,c-=p.$.scrollTop,p=p.getParent();p=m;m=(k=m.$.offsetParent)?new CKEDITOR.dom.element(k):null}a&&(k=this.getWindow(),m=a.getWindow(),!k.equals(m)&&k.$.frameElement&&(a=(new CKEDITOR.dom.element(k.$.frameElement)).getDocumentPosition(a),b+=a.x,c+=a.y));document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||
f||(b+=this.$.clientLeft?1:0,c+=this.$.clientTop?1:0);return{x:b,y:c}},scrollIntoView:scrollIntoParent:function(a,b,c){&(a=this.getWindow());var f=a.getDocument();var l="BackCompat"==f.$.compatMode;a instanceof CKEDITOR.dom.window&&(a=l?f.getBody():f.getDocumentElement());CKEDITOR.env.webkit&&
(f=this.getEditor(!1))&&(f._.previousScrollTop=null);f=a.getWindow();var k=g(this,f);var h=g(a,f),m=this.$.offsetHeight;var r=this.$.offsetWidth;var B=a.$.clientHeight,A=a.$.clientWidth;f=k.x-d(this,"left")-h.x||0;var z=k.y-d(this,"top")-h.y||0;r=k.x+r+d(this,"right")-(h.x+A)||0;k=k.y+m+d(this,"bottom")-(h.y+B)||0;(0>z||0<k)&&e(0,!0===b?z:!1===b?k:0>z?z:k);c&&(0>f||0<r)&&e(0>f?f:r,0)},setState:
getFrameDocument:copyAttributes:renameNode:getChild:function(){function a(a,b){a=a.childNodes;if(0<=b&&b<a.length)return a[b]}return (),getChildCount:disableContextMenu:getDirection:data:getEditor:find:findOne:forEach:fireEventHandler:function(a,b){var c="on"+a,e=this.$;if(CKEDITOR.env.ie&&9>CKEDITOR.env.version){a=e.ownerDocument.createEventObject();for(var d in b)a[d]=b[d];e.fireEvent(c,
a)}else e[e[a]?a:c](b)},isDetached:);var h={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=CKEDITOR.dom.element.prototype.getSize=)();CKEDITOR.dom.documentFragment=CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,
insertAfterNode:getHtml:,!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1});CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,
CKEDITOR.dom.document.prototype,!0,{find:1,findOne:1});(function(){function a(a,b){var e=this.range;if(this._.end)return null;if(!this._.start){this._.start=1;if(e.collapsed)return this.end(),null;e.optimize()}var c=e.startContainer;var d=e.endContainer;var g=e.startOffset,f=e.endOffset,n=this.guard,k=this.type,l=a?"getPreviousSourceNode":"getNextSourceNode";if(!a&&!this._.guardLTR){var h=d.type==CKEDITOR.NODE_ELEMENT?d:d.getParent(),m=d.type==CKEDITOR.NODE_ELEMENT?d.getChild(f):d.getNext();this._.guardLTR=
function(a,b){return(!b||!h.equals(a))&&(!m||!a.equals(m))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(e.root))}}if(a&&!this._.guardRTL){var u=c.type==CKEDITOR.NODE_ELEMENT?c:c.getParent(),x=c.type==CKEDITOR.NODE_ELEMENT?g?c.getChild(g-1):null:c.getPrevious();this._.guardRTL=var F=a?this._.guardRTL:this._.guardLTR;var G=n?F;for(this.current?
d=this.current[l](!1,k,G):(a?d.type==CKEDITOR.NODE_ELEMENT&&(d=0<f?d.getChild(f-1):!1===G(d,!0)?null:d.getPreviousSourceNode(!0,k,G)):(d=c,d.type==CKEDITOR.NODE_ELEMENT&&((d=d.getChild(g))||(d=!1===G(c,!0)?null:c.getNextSourceNode(!0,k,G)))),d&&!1===G(d)&&(d=null));d&&!this._.end;){this.current=d;if(!this.evaluator||!1!==this.evaluator(d)){if(!b)return d}else if(b&&this.evaluator)return!1;d=d[l](!1,k,G)}this.end();return this.current=null}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:proto:{end:function(){this._.end=1},next:function(){return a.call(this)},previous:function(){return a.call(this,1)},checkForward:function(){return!1!==a.call(this,0,1)},checkBackward:lastForward:function(){return f.call(this)},lastBackward:reset:});var d={block:1,"list-item":1,table:1,"table-row-group":1,
"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},c={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=CKEDITOR.dom.walker.blockBoundary=
CKEDITOR.dom.walker.listItemBoundary=CKEDITOR.dom.walker.bookmark=function(a,b){eturn function(c){var d;var g=c&&c.type!=CKEDITOR.NODE_ELEMENT&&(d=c.getParent())&&e(d);g=a?g:g||e(c);return!!(b^g)}};CKEDITOR.dom.walker.whitespaces=CKEDITOR.dom.walker.invisible=CKEDITOR.dom.walker.nodeType=CKEDITOR.dom.walker.bogus=CKEDITOR.dom.walker.temp=var b=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,k=CKEDITOR.dom.walker.whitespaces(),h=CKEDITOR.dom.walker.bookmark(),m=CKEDITOR.dom.walker.temp(),g=
CKEDITOR.dom.walker.ignored=var l=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=var e=CKEDITOR.dom.walker.empty(),n=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=
CKEDITOR.dom.element.prototype.getBogus=)();CKEDITOR.dom.range=(function(){={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},h=CKEDITOR.dom.walker.bogus(),
m=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,g=CKEDITOR.dom.walker.editable(),l=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:collapse:cloneContents:deleteContents:extractContents:equals:createBookmark:function(a){ar e=this.startContainer,c=this.endContainer,d=this.collapsed,g,f,k;var l=this.document.createElement("span");l.data("cke-bookmark",1);l.setStyle("display","none");l.setHtml("\x26nbsp;");a&&(f="cke_bm_"+
CKEDITOR.tools.getNextNumber(),l.setAttribute("id",f+(d?"C":"S")));d||(g=l.clone(),g.setHtml("\x26nbsp;"),a&&g.setAttribute("id",f+"E"),k=this.clone(),b(c)&&(c=b(c),k.moveToPosition(c,CKEDITOR.POSITION_AFTER_END)),k.collapse(),k.insertNode(g));k=this.clone();b(e)&&(c=b(e),k.moveToPosition(c,CKEDITOR.POSITION_BEFORE_START));k.collapse(!0);k.insertNode(l);g?(this.setStartAfter(l),this.setEndBefore(g)):this.moveToPosition(l,CKEDITOR.POSITION_AFTER_END);return{startNode:a?f+(d?"C":"S"):l,endNode:a?f+
"E":g,serializable:a,collapsed:d}},createBookmark2:function(){function a(a){var b=a.container,e=a.offset;var d=b;var g=e;(d=d.type!=CKEDITOR.NODE_ELEMENT||0===g||g==d.getChildCount()?0:d.getChild(g-1).type==CKEDITOR.NODE_TEXT&&d.getChild(g).type==CKEDITOR.NODE_TEXT)&&(b=b.getChild(e-1),e=b.getLength());if(b.type==CKEDITOR.NODE_ELEMENT&&0<e){a:{for(d=b;e--;)if(g=d.getChild(e).getIndex(!0),0<=g){e=g;break a}e=-1}e+=1}if(b.type==CKEDITOR.NODE_TEXT){d=b;for(g=0;(d=d.getPrevious())&&d.type==CKEDITOR.NODE_TEXT;)g+=
d.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;d=g;b.isEmpty()?(g=b.getPrevious(c),d?(e=d,b=g?g.getNext():b.getParent().getFirst()):(b=b.getParent(),e=g?g.getIndex(!0)+1:0)):e+=d}a.container=b;a.offset=e}function b(a,b){if(b=b.getCustomData("cke-fillingChar")){var e=a.container;b.equals(e)&&(a.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=a.offset&&(a.offset=e.getIndex(),a.container=e.getParent()))}}var c=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,
!0);return (),moveToBookmark:getBoundaryNodes:getCommonAncestor:function(a,b){var e=this.startContainer,c=this.endContainer;e=e.equals(c)?a&&e.type==CKEDITOR.NODE_ELEMENT&&
this.startOffset==this.endOffset-1?e.getChild(this.startOffset):e:e.getCommonAncestor(c);return b&&!e.is?e.getParent():e},optimize:optimizeBookmark:trim:function(a,b){var e=this.startContainer,c=this.startOffset,d=this.collapsed;if((!a||d)&&e&&e.type==CKEDITOR.NODE_TEXT&&(c?c>=e.getLength()?(c=e.getIndex()+1,e=e.getParent()):(a=e.split(c),c=e.getIndex()+1,e=e.getParent(),this.startContainer.equals(this.endContainer)?this.setEnd(a,this.endOffset-this.startOffset):e.equals(this.endContainer)&&
(this.endOffset+=1)):(c=e.getIndex(),e=e.getParent()),this.setStart(e,c),d)){this.collapse(!0);return}e=this.endContainer;c=this.endOffset;b||d||!e||e.type!=CKEDITOR.NODE_TEXT||(c?(c>=e.getLength()||e.split(c),c=e.getIndex()+1):c=e.getIndex(),e=e.getParent(),this.setEnd(e,c))},enlarge:function(a,b){ar c=new RegExp(/[^\s\ufeff]/);switch(a){case CKEDITOR.ENLARGE_INLINE:var d=1;case CKEDITOR.ENLARGE_ELEMENT:a=
function(a,b){var e=new CKEDITOR.dom.range(f);e.setStart(a,b);e.setEndAt(f,CKEDITOR.POSITION_BEFORE_END);e=new CKEDITOR.dom.walker(e);var d;for(e.guard=d=e.next();){if(d.type!=CKEDITOR.NODE_TEXT)return!1;E=d!=a?d.getText():d.substring(b);if(c.test(E))return!1}return!0};if(this.collapsed)break;var g=this.getCommonAncestor(),f=this.root,k,l,h,n,m,w=!1;var y=this.startContainer;var D=this.startOffset;y.type==CKEDITOR.NODE_TEXT?
(D&&(y=!CKEDITOR.tools.trim(y.substring(0,D)).length&&y,w=!!y),y&&((n=y.getPrevious())||(h=y.getParent()))):(D&&(n=y.getChild(D-1)||y.getLast()),n||(h=y));for(h=e(h);h||n;){if(h&&!n){!m&&h.equals(g)&&(m=!0);if(d?h.isBlockBoundary():!f.contains(h))break;w&&"inline"==h.getComputedStyle("display")||(w=!1,m?k=h:this.setStartBefore(h));n=h.getPrevious()}for(;n;)if(y=!1,n.type==CKEDITOR.NODE_COMMENT)n=n.getPrevious();else{if(n.type==CKEDITOR.NODE_TEXT){var E=n.getText();c.test(E)&&(n=null);y=/[\s\ufeff]$/.test(E)}else if((n.$.offsetWidth>
(CKEDITOR.env.webkit?1:0)||b&&n.is("br"))&&!n.data("cke-bookmark"))if(w&&CKEDITOR.dtd.$removeEmpty[n.getName()]){E=n.getText();if(c.test(E))n=null;else{D=n.$.getElementsByTagName("*");for(var F=0,G;G=D[F++];)if(!CKEDITOR.dtd.$removeEmpty[G.nodeName.toLowerCase()]){n=null;break}}n&&(y=!!E.length)}else n=null;y&&(w?m?k=h:h&&this.setStartBefore(h):w=!0);if(n){y=n.getPrevious();if(!h&&!y){h=n;n=null;break}n=y}else h=null}h&&(h=e(h.getParent()))}y=this.endContainer;D=this.endOffset;h=n=null;m=w=!1;for(y.type==
CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(y.substring(D)).length?w=!0:(w=!y.getLength(),D==y.getLength()?(n=y.getNext())||(h=y.getParent()):a(y,D)&&(h=y.getParent())):(n=y.getChild(D))||(h=y);h||n;){if(h&&!n){!m&&h.equals(g)&&(m=!0);if(d?h.isBlockBoundary():!f.contains(h))break;w&&"inline"==h.getComputedStyle("display")||(w=!1,m?l=h:h&&this.setEndAfter(h));n=h.getNext()}for(;n;){y=!1;if(n.type==CKEDITOR.NODE_TEXT)E=n.getText(),a(n,0)||(n=null),y=/^[\s\ufeff]/.test(E);else if(n.type==CKEDITOR.NODE_ELEMENT){if((0<
n.$.offsetWidth||b&&n.is("br"))&&!n.data("cke-bookmark"))if(w&&CKEDITOR.dtd.$removeEmpty[n.getName()]){E=n.getText();if(c.test(E))n=null;else for(D=n.$.getElementsByTagName("*"),F=0;G=D[F++];)if(!CKEDITOR.dtd.$removeEmpty[G.nodeName.toLowerCase()]){n=null;break}n&&(y=!!E.length)}else n=null}else y=1;y&&w&&(m?l=h:this.setEndAfter(h));if(n){y=n.getNext();if(!h&&!y){h=n;n=null;break}n=y}else h=null}h&&(h=e(h.getParent()))}k&&l&&(g=k.contains(l)?l:k,this.setStartBefore(g),this.setEndAfter(g));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:h=
new CKEDITOR.dom.range(this.root);f=this.root;h.setStartAt(f,CKEDITOR.POSITION_AFTER_START);h.setEnd(this.startContainer,this.startOffset);h=new CKEDITOR.dom.walker(h);var H,N=CKEDITOR.dom.walker.blockBoundary(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),O=null,K=d=h.guard=K;h=h.lastBackward();var J=J||f;this.setStartAt(J,!J.is("br")&&(!h&&this.checkStartOfBlock()||h&&J.contains(h))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END);if(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){h=this.clone();h=new CKEDITOR.dom.walker(h);var C=CKEDITOR.dom.walker.whitespaces(),I=CKEDITOR.dom.walker.bookmark();h.evaluator=if((h=h.previous())&&h.type==CKEDITOR.NODE_ELEMENT&&h.is("br"))break}h=this.clone();h.collapse();h.setEndAt(f,
CKEDITOR.POSITION_BEFORE_END);h=new CKEDITOR.dom.walker(h);h.guard=a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?d:K;J=O=H=null;h=h.lastForward();J=J||f;this.setEndAt(J,!h&&this.checkEndOfBlock()||h&&J.contains(h)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START);H&&this.setEndAfter(H)}},shrink:function(a,b,c){var e="boolean"===typeof c?c:c&&"boolean"===typeof c.shrinkOnBlockBoundary?c.shrinkOnBlockBoundary:!0,d=c&&c.skipBogus;if(!this.collapsed){a=a||CKEDITOR.SHRINK_TEXT;var g=this.clone(),f=
this.startContainer,h=this.endContainer,k=this.startOffset,l=this.endOffset,n=c=1;f&&f.type==CKEDITOR.NODE_TEXT&&(k?k>=f.getLength()?g.setStartAfter(f):(g.setStartBefore(f),c=0):g.setStartBefore(f));h&&h.type==CKEDITOR.NODE_TEXT&&(l?l>=h.getLength()?g.setEndAfter(h):(g.setEndAfter(h),n=0):g.setEndBefore(h));g=new CKEDITOR.dom.walker(g);var m=CKEDITOR.dom.walker.bookmark(),u=CKEDITOR.dom.walker.bogus();g.evaluator=
var y;g.guard=c&&(f=g[a==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(f,b?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START);n&&(g.reset(),(g=g[a==CKEDITOR.SHRINK_ELEMENT?
"lastBackward":"previous"]())&&this.setEndAt(g,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END));return!(!c&&!n)}},insertNode:moveToPosition:moveToRange:selectNodeContents:setStart:setEnd:setStartAfter:function(a){this.setStart(a.getParent(),a.getIndex()+1)},setStartBefore:function(a){this.setStart(a.getParent(),a.getIndex())},setEndAfter:setEndBefore:setStartAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setStart(b,0);
break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setStart(b,b.getLength()):this.setStart(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(b);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(b)}a(this)},setEndAt:fixBlock:function(a,b){var e=this.createBookmark();b=this.document.createElement(b);this.collapse(a);this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);this.extractContents().appendTo(b);b.trim();this.insertNode(b);(a=b.getBogus())&&a.remove();b.appendBogus();this.moveToBookmark(e);return b},splitBlock:splitElement:function(a,b){if(!this.collapsed)return null;this.setEndAt(a,CKEDITOR.POSITION_BEFORE_END);var e=this.extractContents(!1,b||!1);b=a.clone(!1,b||!1);e.appendTo(b);b.insertAfter(a);this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END);return b},removeEmptyBlocksAtEnd:),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,
this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(a,b){b=b==CKEDITOR.START;var e=this.clone();e.collapse(b);e[b?"setStartAt":"setEndAt"](a,b?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END);e=new CKEDITOR.dom.walker(e);e.evaluator=c(b);return e[b?"checkBackward":"checkForward"]()},checkStartOfBlock:checkEndOfBlock:getPreviousNode:getNextNode:checkReadOnly:),moveToElementEditablePosition:function(a,b){if(a.type==CKEDITOR.NODE_ELEMENT&&!a.isEditable(!1))return this.moveToPosition(a,
b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var c=0;a;){if(a.type==CKEDITOR.NODE_TEXT){b&&this.endContainer&&this.checkEndOfBlock()&&m.test(a.getText())?this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START);c=1;break}if(a.type==CKEDITOR.NODE_ELEMENT)if(a.isEditable())this.moveToPosition(a,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),c=1;else if(b&&a.is("br")&&this.endContainer&&
this.checkEndOfBlock())this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START);else if("false"==a.getAttribute("contenteditable")&&a.is(CKEDITOR.dtd.$block))return this.setStartBefore(a),this.setEndAfter(a),!0;var e=c,d=void 0;a.type==CKEDITOR.NODE_ELEMENT&&a.isEditable(!1)&&(d=a[b?"getLast":"getFirst"](l));e||d||(d=a[b?"getPrevious":"getNext"](l));a=d}return!!c},moveToClosestEditablePosition:function(a,b){var c,e=0,d,g=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];a?(c=new CKEDITOR.dom.range(this.root),
c.moveToPosition(a,g[b?0:1])):c=this.clone();if(a&&!a.is(CKEDITOR.dtd.$block))e=1;else if(a=c[b?"getNextEditableNode":"getPreviousEditableNode"]())e=1,(d=a.type==CKEDITOR.NODE_ELEMENT)&&a.is(CKEDITOR.dtd.$block)&&"false"==a.getAttribute("contenteditable")?(c.setStartAt(a,CKEDITOR.POSITION_BEFORE_START),c.setEndAt(a,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&d&&a.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(c.setEnd(a,0),c.collapse()):c.moveToPosition(a,g[b?1:0]);e&&this.moveToRange(c);
return!!e},moveToElementEditStart:moveToElementEditEnd:getEnclosedNode:function(){var a=this.clone();a.optimize();if(a.startContainer.type!=CKEDITOR.NODE_ELEMENT||a.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;a=new CKEDITOR.dom.walker(a);var b=CKEDITOR.dom.walker.bookmark(!1,!0),c=CKEDITOR.dom.walker.whitespaces(!0);a.evaluator=function(a){return c(a)&&b(a)};var d=a.next();
a.reset();return d&&d.equals(a.previous())?d:null},getTouchedStartNode:getTouchedEndNode:getNextEditableNode:b(),getPreviousEditableNode:b(1),_getTableElement:function(a){a=a||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var b=this.getTouchedStartNode(),
c=this.getTouchedEndNode(),e=b.getAscendant("table",!0);c=c.getAscendant("table",!0);return e&&!this.root.contains(e)?null:this.getEnclosedNode()?this.getEnclosedNode().getAscendant(a,!0):e&&c&&(e.equals(c)||e.contains(c)||c.contains(e))?b.getAscendant(a,!0):null},scrollIntoView:getClientRects:function(){function a(a,b){var c=CKEDITOR.tools.array.map(a,function(a){return a});a=new CKEDITOR.dom.range(b.root);var e,d,g;b.startContainer instanceof CKEDITOR.dom.element&&(d=0===b.startOffset&&b.startContainer.hasAttribute("data-widget"));b.endContainer instanceof CKEDITOR.dom.element&&(g=(g=b.endOffset===(b.endContainer.getChildCount?
b.endContainer.getChildCount():b.endContainer.length))&&b.endContainer.hasAttribute("data-widget"));d&&a.setStart(b.startContainer.getParent(),b.startContainer.getIndex());g&&a.setEnd(b.endContainer.getParent(),b.endContainer.getIndex()+1);if(d||g)b=a;a=b.cloneContents().find("[data-cke-widget-id]").toArray();if(a=CKEDITOR.tools.array.map(a,)return a=CKEDITOR.tools.array.map(a,function(a){var b=
a.getParent().hasClass("cke_widget_wrapper")?a.getParent():a;e=this.root.getDocument().$.createRange();e.setStart(b.getParent().$,b.getIndex());e.setEnd(b.getParent().$,b.getIndex()+1);b=e.getClientRects();b.widgetRect=a.getClientRect();return b},b),CKEDITOR.tools.array.forEach(a,,c}urn void 0!==this.document.getSelection?function(e){var d=this.root.getDocument().$.createRange();d.setStart(this.startContainer.$,this.startOffset);
d.setEnd(this.endContainer.$,this.endOffset);var g=d.getClientRects();g=a(g,this);g.length||(g=b(g,d,this));return CKEDITOR.tools.array.map(g,this)}:(),_setStartContainer:function(a){this.startContainer=a},_setEndContainer:function(a){this.endContainer=a},_find:function(a,b){var c=this.getCommonAncestor(),e=this.getBoundaryNodes(),d=[];if(c&&c.find){var g=c.find(a);for(a=0;a<g.count();a++)if(c=g.getItem(a),b||
!c.isReadOnly()){var f=c.getPosition(e.startNode)&CKEDITOR.POSITION_FOLLOWING||e.startNode.equals(c);var h=c.getPosition(e.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||e.endNode.equals(c);f&&h&&d.push(c)}}return d}};CKEDITOR.dom.range.mergeRanges=function(a){return CKEDITOR.tools.array.reduce(a,function(a,b){var c=a[a.length-1],e=!1;b=b.clone();b.enlarge(CKEDITOR.ENLARGE_ELEMENT);if(c){var d=new CKEDITOR.dom.range(b.root);e=new CKEDITOR.dom.walker(d);var g=CKEDITOR.dom.walker.whitespaces();
d.setStart(c.endContainer,c.endOffset);d.setEnd(b.startContainer,b.startOffset);for(d=e.next();g(d)||b.endContainer.equals(d);)d=e.next();e=!d}e?c.setEnd(b.endContainer,b.endOffset):a.push(b);return a},[])}})();CKEDITOR.POSITION_AFTER_START=1;CKEDITOR.POSITION_BEFORE_END=2;CKEDITOR.POSITION_BEFORE_START=3;CKEDITOR.POSITION_AFTER_END=4;CKEDITOR.ENLARGE_ELEMENT=1;CKEDITOR.ENLARGE_BLOCK_CONTENTS=2;CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3;CKEDITOR.ENLARGE_INLINE=4;CKEDITOR.START=1;CKEDITOR.END=2;CKEDITOR.SHRINK_ELEMENT=
1;CKEDITOR.SHRINK_TEXT=2;"use strict";(function(){b=/^[\r\n\t ]+$/,k=CKEDITOR.dom.walker.bookmark(!1,!0),h=CKEDITOR.dom.walker.whitespaces(!0),
m=g={dd:1,dt:1,li:1};a.prototype={getNextParagraph:function(a){var e,f,h;a=a||"p";if(this._.nestedEditable){if(e=this._.nestedEditable.iterator.getNextParagraph(a))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,e;this.activeFilter=this.filter;if(d(this,a,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(a);this._.nestedEditable=
null}if(!this.range.root.getDtd()[a])return null;if(!this._.started){var l=this.range.clone();var v=l.startPath();var q=l.endPath(),p=!l.collapsed&&c(l,v.block),t=!l.collapsed&&c(l,q.block,1);l.shrink(CKEDITOR.SHRINK_ELEMENT,!0);p&&l.setStartAt(v.block,CKEDITOR.POSITION_BEFORE_END);t&&l.setEndAt(q.block,CKEDITOR.POSITION_AFTER_START);v=l.endContainer.hasAscendant("pre",!0)||l.startContainer.hasAscendant("pre",!0);l.enlarge(this.forceBrBreak&&!v||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:
CKEDITOR.ENLARGE_BLOCK_CONTENTS);l.collapsed||(v=new CKEDITOR.dom.walker(l.clone()),q=CKEDITOR.dom.walker.bookmark(!0,!0),v.evaluator=q,this._.nextNode=v.next(),v=new CKEDITOR.dom.walker(l.clone()),v.evaluator=q,v=v.previous(),this._.lastNode=v.getNextSourceNode(!0,null,l.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&(q=this.range.clone(),q.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),
q.checkEndOfBlock()&&(q=new CKEDITOR.dom.elementPath(q.endContainer,q.root),this._.lastNode=(q.block||q.blockLimit).getNextSourceNode(!0))),this._.lastNode&&l.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=l.document.createText(""),this._.lastNode.insertAfter(v)),l=null);this._.started=1;v=l}q=this._.nextNode;l=this._.lastNode;for(this._.nextNode=null;q;){p=0;t=q.hasAscendant("pre");var r=q.type!=CKEDITOR.NODE_ELEMENT,B=0;if(r)q.type==CKEDITOR.NODE_TEXT&&b.test(q.getText())&&
(r=0);else{var A=q.getName();if(CKEDITOR.dtd.$block[A]&&"false"==q.getAttribute("contenteditable")){e=q;d(this,a,e);break}else if(q.isBlockBoundary(this.forceBrBreak&&!t&&{br:1})){if("br"==A)r=1;else if(!v&&!q.getChildCount()&&"hr"!=A){e=q;var z=q.equals(l);break}v&&(v.setEndAt(q,CKEDITOR.POSITION_BEFORE_START),"br"!=A&&(this._.nextNode=q));p=1}else{if(q.getFirst()){v||(v=this.range.clone(),v.setStartAt(q,CKEDITOR.POSITION_BEFORE_START));q=q.getFirst();continue}r=1}}r&&!v&&(v=this.range.clone(),v.setStartAt(q,
CKEDITOR.POSITION_BEFORE_START));z=(!p||r)&&q.equals(l);if(v&&!p)for(;!q.getNext(m)&&!z;){A=q.getParent();if(A.isBlockBoundary(this.forceBrBreak&&!t&&{br:1})){p=1;r=0;z||A.equals(l);v.setEndAt(A,CKEDITOR.POSITION_BEFORE_END);break}q=A;r=1;z=q.equals(l);B=1}r&&v.setEndAt(q,CKEDITOR.POSITION_AFTER_END);q=this._getNextSourceNode(q,B,l);if((z=!q)||p&&v)break}if(!e){if(!v)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;e=new CKEDITOR.dom.elementPath(v.startContainer,v.root);
q=e.blockLimit;p={div:1,th:1,td:1};e=e.block;!e&&q&&!this.enforceRealBlocks&&p[q.getName()]&&v.checkStartOfBlock()&&v.checkEndOfBlock()&&!q.equals(v.root)?e=q:!e||this.enforceRealBlocks&&e.is(g)?(e=this.range.document.createElement(a),v.extractContents().appendTo(e),e.trim(),v.insertNode(e),f=h=!0):"li"!=e.getName()?v.checkStartOfBlock()&&v.checkEndOfBlock()||(e=e.clone(!1),v.extractContents().appendTo(e),e.trim(),h=v.splitBlock(),f=!h.wasStartOfBlock,h=!h.wasEndOfBlock,v.insertNode(e)):z||(this._.nextNode=
e.equals(l)?null:this._getNextSourceNode(v.getBoundaryNodes().endNode,1,l))}f&&(f=e.getPrevious())&&f.type==CKEDITOR.NODE_ELEMENT&&("br"==f.getName()?f.remove():f.getLast()&&"br"==f.getLast().$.nodeName.toLowerCase()&&f.getLast().remove());h&&(f=e.getLast())&&f.type==CKEDITOR.NODE_ELEMENT&&"br"==f.getName()&&(!CKEDITOR.env.needsBrFiller||f.getPrevious(k)||f.getNext(k))&&f.remove();this._.nextNode||(this._.nextNode=z||e.equals(l)||!l?null:this._getNextSourceNode(e,1,l));return e},_getNextSourceNode:;CKEDITOR.dom.range.prototype.createIterator=)();CKEDITOR.command=CKEDITOR.command.prototype={enable:disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:toggleState:;CKEDITOR.event.implementOn(CKEDITOR.command.prototype);CKEDITOR.ENTER_P=1;CKEDITOR.ENTER_BR=2;CKEDITOR.ENTER_DIV=3;CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"\x3c!DOCTYPE html\x3e",bodyId:"",bodyClass:"",fullPage:!1,
height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1E4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]};(function(){function a(a,b,c,e,d){a=[];for(r in b){var g=b[r];g="boolean"==typeof g?{}:"function"==typeof g?{match:g}:G(g);"$"!=r.charAt(0)&&(g.elements=r);c&&(g.featureName=c.toLowerCase());var f=g;f.elements=h(f.elements,/\s+/)||null;f.propertiesOnly=f.propertiesOnly||!0===f.elements;
var k=/\s*,\s*/,l=void 0;for(l in O){f[l]=h(f[l],k)||null;var n=f,m=K[l],p=h(f[K[l]],k),z=f[l],C=[],w=!0,R=void 0;p?w=!1:p={};for(R in z)"!"==R.charAt(0)&&(R=R.slice(1),C.push(R),p[R]=!0,w=!1);for(;R=C.pop();)z[R]=z["!"+R],delete z["!"+R];n[m]=(w?!1:p)||null}f.match=f.match||null;e.push(g);a.push(g)}b=d.elements;d=d.generic;var u;c=0;for(e=a.length;c<e;++c){var r=G(a[c]);g=!0===r.classes||!0===r.styles||!0===r.attributes;f=r;l=k=void 0;for(k in O)f[k]=t(f[k]);n=!0;for(l in K){k=K[l];m=f[k];p=[];z=
void 0;for(z in m)-1<z.indexOf("*")?p.push(new RegExp("^"+z.replace(/\*/g,".*")+"$")):p.push(z);m=p;m.length&&(f[k]=m,n=!1)}f.nothingRequired=n;f.noProperties=!(f.attributes||f.classes||f.styles);if(!0===r.elements||null===r.elements)d[g?"unshift":"push"](r);else for(u in f=r.elements,delete r.elements,f)if(b[u])b[u][g?"unshift":"push"](r);else b[u]=[r]}}ion h(a,b){if(!a)return!1;if(!0===a)return a;if("string"==typeof a)return a=H(a),"*"==a?!0:CKEDITOR.tools.convertArrayToObject(a.split(b));
if(CKEDITOR.tools.isArray(a))return a.length?CKEDITOR.tools.convertArrayToObject(a):!1;b={};var c=0,e;for(e in a)b[e]=a[e],c++;return c?b:!1}function m(a,b){if(a.nothingRequired)return!0;var c,e,d;if(d=a.requiredClasses){var f=b.classes;for(c=0;c<d.length;++c)if(e=d[c],"string"==typeof e){if(-1==CKEDITOR.tools.indexOf(f,e))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(f,e))return!1}return g(b.styles,a.requiredStyles)&&g(b.attributes,a.requiredAttributes)}ction n(a,
b){return(a=a.match(C[b]))?H(a[1]):null}unction x(a,b,e,d){var g=0;d.toHtml&&(b.name=b.name.replace(I,"$1"));if(d.doCallbacks&&a.elementCallbacks){a:{var h=a.elementCallbacks;for(var k=0,l=h.length,n;k<l;++k)if(n=h[k](b)){h=n;break a}h=void 0}if(h)return h}if(d.doTransform&&(h=a._.transformations[b.name])){u(b);
for(k=0;k<h.length;++k)z(a,b,h[k]);q(b)}if(d.doFilter){a:{k=b.name;l=a._;a=l.allowedRules.elements[k];h=l.allowedRules.generic;k=l.disallowedRules.elements[k];l=l.disallowedRules.generic;n=d.skipRequired;var m={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1},C;if(a||h){u(b);if(k){var w=0;for(C=k.length;w<C;++w)if(!1===c(k[w],b,m)){a=null;break a}}if(l)for(w=0,C=l.length;w<C;++w)c(l[w],
b,m);if(a)for(w=0,C=a.length;w<C;++w)f(a[w],b,m,n);if(h)for(w=0,C=h.length;w<C;++w)f(h[w],b,m,n);a=m}else a=null}if(!a||!a.valid)return e.push(b),1;C=a.validAttributes;var t=a.validStyles;h=a.validClasses;k=b.attributes;var r=b.styles;l=b.classes;n=b.classBackup;var R=b.styleBackup,L,H,y=[];m=[];var F=/^data-cke-/;w=!1;delete k.style;delete k["class"];delete b.classBackup;delete b.styleBackup;if(!a.allAttributes)for(L in k)C[L]||(F.test(L)?L==(H=L.replace(/^data-cke-saved-/,""))||C[H]||(delete k[L],
w=!0):(delete k[L],w=!0));if(!a.allStyles||a.hadInvalidStyle){for(L in r)a.allStyles||t[L]?y.push(L+":"+r[L]):w=!0;y.length&&(k.style=y.sort().join("; "))}else R&&(k.style=R);if(!a.allClasses||a.hadInvalidClass){for(L=0;L<l.length;++L)(a.allClasses||h[l[L]])&&m.push(l[L]);m.length&&(k["class"]=m.sort().join(" "));n&&m.length<n.split(/\s+/).length&&(w=!0)}else n&&(k["class"]=n);w&&(g=1);if(!d.skipFinalValidation&&!p(b))return e.push(b),1}d.toHtml&&(b.name=b.name.replace(M,"cke:$1"));return g}on A(a,b,c){var e=a.name;if(F.$empty[e]||!a.children.length)"hr"==e&&"br"==b?a.replaceWith(r()):(a.parent&&c.push({check:"it",el:a.parent}),a.remove());else if(F.$block[e]||"tr"==e)if("br"==b)a.previous&&!B(a.previous)&&(b=r(),b.insertBefore(a)),a.next&&!B(a.next)&&(b=r(),b.insertAfter(a)),
a.replaceWithChildren();else{e=a.children;a:{var d=F[b];for(var g=0,f=e.length,h;g<f;++g)if(h=e[g],h.type==CKEDITOR.NODE_ELEMENT&&!d[h.name]){d=!1;break a}d=!0}if(d)a.name=b,a.attributes={},c.push({check:"parent-down",el:a});else{d=a.parent;g=d.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==d.name;var k,l;for(f=e.length;0<f;)h=e[--f],g&&(h.type==CKEDITOR.NODE_TEXT||h.type==CKEDITOR.NODE_ELEMENT&&F.$inline[h.name])?(k||(k=new CKEDITOR.htmlParser.element(b),k.insertAfter(a),c.push({check:"parent-down",
el:k})),k.add(h,0)):(k=null,l=F[d.name]||F.span,h.insertAfter(a),d.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||h.type!=CKEDITOR.NODE_ELEMENT||l[h.name]||c.push({check:"el-up",el:h}));a.remove()}}else e in{style:1,script:1}?a.remove():(a.parent&&c.push({check:"it",el:a.parent}),a.replaceWithChildren())}unction w(a,b){b=b.getDefinition();var c=b.attributes,e=b.styles,d,g,
f,h;if(a.name!=b.element)return!1;for(d in c)if("class"==d)for(b=c[d].split(/\s+/),f=a.classes.join("|");h=b.pop();){if(-1==f.indexOf(h))return!1}else if(a.attributes[d]!=c[d])return!1;for(g in e)if(a.styles[g]!=e[g])return!1;return!0} F=CKEDITOR.dtd,
G=CKEDITOR.tools.copy,H=CKEDITOR.tools.trim,N=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2;CKEDITOR.filter=function(a,b){this.allowedContent=[];this.disallowedContent=[];this.elementCallbacks=null;this.disabled=!1;this.editor=null;this.id=CKEDITOR.tools.getNextNumber();this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}};CKEDITOR.filter.instances[this.id]=this;var c=this.editor=a instanceof CKEDITOR.editor?a:null;
c&&!b?(this.customConfig=!0,a=c.config.allowedContent,!0===a?this.disabled=!0:(a||(this.customConfig=!1),this.allow(a,"config",1),this.allow(c.config.extraAllowedContent,"extra",1),this.allow(N[c.enterMode]+" "+N[c.shiftEnterMode],"default",1),this.disallow(c.config.disallowedContent))):(this.customConfig=!1,this.allow(b||a,"default",1))};CKEDITOR.filter.instances={};CKEDITOR.filter.prototype={allow:function(b,c,d){if(!k(this,b,d))return!1;if("string"==typeof b)b=e(b);else if(b instanceof CKEDITOR.style){if(b.toAllowedContentRules)return this.allow(b.toAllowedContentRules(this.editor),
c,d);var g=b.getDefinition();b={};d=g.attributes;b[g.element]=g={styles:g.styles,requiredStyles:g.styles&&CKEDITOR.tools.object.keys(g.styles)};d&&(d=G(d),g.classes=d["class"]?d["class"].split(/\s+/):null,g.requiredClasses=g.classes,delete d["class"],g.attributes=d,g.requiredAttributes=d&&CKEDITOR.tools.object.keys(d))}else if(CKEDITOR.tools.isArray(b)){for(g=0;g<b.length;++g)var f=this.allow(b[g],c,d);return f}a(this,b,c,this.allowedContent,this._.allowedRules);return!0},applyTo:function(a,b,c,e){if(this.disabled)return!1;
var d=this,g=[],f=this.editor&&this.editor.config.protectedSource,h,k=!1,l={doFilter:!c,doTransform:!0,doCallbacks:!0,toHtml:b};a.forEach(function(a){if(a.type==CKEDITOR.NODE_ELEMENT){if("off"==a.attributes["data-cke-filter"])return!1;if(!b||"span"!=a.name||!~CKEDITOR.tools.object.keys(a.attributes).join("|").indexOf("data-cke-"))if(h=x(d,a,g,l),h&1)k=!0;else if(h&2)return!1}else if(a.type==CKEDITOR.NODE_COMMENT&&a.value.match(/^\{cke_protected\}(?!\{C\})/)){a:{var c=decodeURIComponent(a.value.replace(/^\{cke_protected\}/,
""));var e=[];var n,m,p;if(f)for(m=0;m<f.length;++m)if((p=c.match(f[m]))&&p[0].length==c.length){e=!0;break a}c=CKEDITOR.htmlParser.fragment.fromHtml(c);1==c.children.length&&(n=c.children[0]).type==CKEDITOR.NODE_ELEMENT&&x(d,n,e,l);e=!e.length}e||g.push(a)}},null,!0);g.length&&(k=!0);var n;a=[];e=N[e||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];for(var m;c=g.pop();)c.type==CKEDITOR.NODE_ELEMENT?A(c,e,a):c.remove();for(;n=a.pop();)if(c=n.el,c.parent)switch(m=F[c.parent.name]||F.span,n.check){case "it":F.$removeEmpty[c.name]&&
!c.children.length?A(c,e,a):p(c)||A(c,e,a);break;case "el-up":c.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||m[c.name]||A(c,e,a);break;case "parent-down":c.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||m[c.name]||A(c.parent,e,a)}return k},checkFeature:disable:function(){this.disabled=!0},disallow:addContentForms:function(a){if(!this.disabled&&a){var b,c=[],e;for(b=0;b<a.length&&!e;++b){var d=a[b];("string"==typeof d||d instanceof CKEDITOR.style)&&this.check(d)&&(e=d)}if(e){for(b=0;b<a.length;++b)c.push(y(a[b],e));this.addTransformations(c)}}},addElementCallback:addFeature:addTransformations:function(a){if(!this.disabled&&a){var b=this._.transformations,c;for(c=0;c<a.length;++c){var e=a[c];var d=void 0,g,f=void 0,h=void 0,k=void 0;var l=[];for(g=0;g<e.length;++g){var n=e[g];"string"==typeof n?(n=n.split(/\s*:\s*/),
f=n[0],h=null,k=n[1]):(f=n.check,h=n.left,k=n.right);d||(d=n,d=d.element?d.element:f?f.match(/^([a-z0-9]+)/i)[0]:d.left.getDefinition().element);h instanceof CKEDITOR.style&&(h=D(h));l.push({check:f==d?null:f,left:h,right:"string"==typeof k?E(k):k})}e=d;b[e]||(b[e]=[]);b[e].push(l)}}},check:function(a,b,c){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(a)){for(var d=a.length;d--;)if(this.check(a[d],b,c))return!0;return!1}if("string"==typeof a){var g=a+"\x3c"+(!1===b?"0":"1")+(c?"1":"0")+"\x3e";
if(g in this._.cachedChecks)return this._.cachedChecks[g];var f=e(a).$1;var h=f.styles;d=f.classes;f.name=f.elements;f.classes=d=d?d.split(/\s*,\s*/):[];f.styles=l(h);f.attributes=l(f.attributes);f.children=[];d.length&&(f.attributes["class"]=d.join(" "));h&&(f.attributes.style=CKEDITOR.tools.writeCssText(f.styles))}else f=a.getDefinition(),h=f.styles,d=f.attributes||{},h&&!CKEDITOR.tools.isEmpty(h)?(h=G(h),d.style=CKEDITOR.tools.writeCssText(h,!0)):h={},f={name:f.element,attributes:d,classes:d["class"]?
d["class"].split(/\s+/):[],styles:h,children:[]};h=CKEDITOR.tools.clone(f);var k=[],n;if(!1!==b&&(n=this._.transformations[f.name])){for(d=0;d<n.length;++d)z(this,f,n[d]);q(f)}x(this,h,k,{doFilter:!0,doTransform:!1!==b,skipRequired:!c,skipFinalValidation:!c});0<k.length?c=!1:((b=f.attributes["class"])&&(f.attributes["class"]=f.attributes["class"].split(" ").sort().join(" ")),c=CKEDITOR.tools.objectCompare(f.attributes,h.attributes,!0),b&&(f.attributes["class"]=b));"string"==typeof a&&(this._.cachedChecks[g]=
c);return c},getAllowedEnterMode:function(){var a=["p","div","br"],b={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(c,e){var d=a.slice();if(this.check(N[c]))return c;for(e||(d=d.reverse());c=d.pop();)if(this.check(c))return b[c];return CKEDITOR.ENTER_BR}}(),clone:destroy:;var O={styles:1,attributes:1,classes:1},K={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},J=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,
C={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},I=/^cke:(object|embed|param)$/,M=/^(object|embed|param)$/;var Q=CKEDITOR.filter.transformationsTools={sizeToStyle:function(a){this.lengthToStyle(a,"width");this.lengthToStyle(a,"height")},sizeToAttribute:lengthToStyle:
lengthToAttribute:alignmentToStyle:alignmentToAttribute:
splitBorderShorthand:listTypeToStyle:splitMarginShorthand:matchesStyle:w,transform:function(a,b){if("string"==typeof b)a.name=b;else{b=b.getDefinition();var c=b.styles,e=b.attributes,d,g,f,h;a.name=b.element;for(d in e)if("class"==d)for(b=a.classes.join("|"),f=e[d].split(/\s+/);h=f.pop();)-1==b.indexOf(h)&&a.classes.push(h);else a.attributes[d]=e[d];for(g in c)a.styles[g]=c[g]}}}})();(function(){CKEDITOR.focusManager=CKEDITOR.focusManager._={blurDelay:200};CKEDITOR.focusManager.prototype={focus:lock:unlock:blur:add:function(a,f){var d=a.getCustomData("focusmanager");if(!d||d!=this){d&&d.remove(a);d="focus";var c="blur";f&&(CKEDITOR.env.ie?(d="focusin",c="focusout"):CKEDITOR.event.useCapture=1);var b={blur:focus:;a.on(d,b.focus,this);a.on(c,b.blur,this);f&&(CKEDITOR.event.useCapture=0);a.setCustomData("focusmanager",this);a.setCustomData("focusmanager_handlers",b)}},remove:})();CKEDITOR.keystrokeHandler=(function(){var a,f=function(c){c=c.data;var b=c.getKeystroke(),d=this.keystrokes[b],f=this._.editor;(a=!1===f.fire("key",{keyCode:b,domEvent:c}))||(d&&(a=!1!==f.execCommand(d,{from:"keystrokeHandler"})),a||(a=!!this.blockedKeystrokes[b]));a&&c.preventDefault(!0);return!a},d=CKEDITOR.keystrokeHandler.prototype={attach:})();
(function(){CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:detect:function(a,f){var d=this.languages;f=f||navigator.userLanguage||navigator.language||a;f=f.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/);var c=f[1];f=f[2];d[c+"-"+f]?c=c+"-"+f:d[c]||(c=null);CKEDITOR.lang.detect=c?return c||a}}})();CKEDITOR.scriptLoader=function(){var a={},f={};return{load:function(d,
c,b,k){var h="string"==typeof d;h&&(d=[d]);b||(b=CKEDITOR);var m=d.length,g=[],l=[],e=if(0===m)e(!0);else{var n=u=x=k&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var v=0;v<m;v++)x(d[v])}},
queue:)}}();CKEDITOR.resourceManager=CKEDITOR.resourceManager.prototype={add:function(a,f){if(this.registered[a])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+
a+'" is already registered.');f=this.registered[a]=f||{};f.name=a;f.path=this.getPath(a);CKEDITOR.fire(a+CKEDITOR.tools.capitalize(this.fileName)+"Ready",f);return this.get(a)},get:getPath:getFilePath:addExternal:load:function(a,f,d){CKEDITOR.tools.isArray(a)||(a=a?[a]:[]);for(var c=this.loaded,b=this.registered,k=[],h={},m={},g=0;g<a.length;g++){var l=a[g];if(l)if(c[l]||b[l])m[l]=this.get(l);else{var e=this.getFilePath(l);k.push(e);e in h||(h[e]=[]);h[e].push(l)}}CKEDITOR.scriptLoader.load(k,function(a,b){if(b.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+h[b[0]].join(",")+
'" was not found at "'+b[0]+'".');for(b=0;b<a.length;b++)for(var e=h[a[b]],g=0;g<e.length;g++){var k=e[g];m[k]=this.get(k);c[k]=1}f.call(d,m)},this)}};CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin");CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,;CKEDITOR.plugins.setLang=CKEDITOR.ui=CKEDITOR.ui.prototype={add:get:function(a){return this.instances[a]},create:function(a){var f=
this.items[a],d=f&&this._.handlers[f.type],c=f&&f.command&&this.editor.getCommand(f.command);d=d&&d.create.apply(this,f.args);this.instances[a]=d;c&&c.uiItems.push(d);d&&!d.type&&(d.type=f.type);return d},addHandler:space:spaceId:;CKEDITOR.event.implementOn(CKEDITOR.ui);(function(){ion k(a,b,c){if(b){var e,d=a.commands;
for(e in d){var g=d[e];(c||g.contextSensitive)&&g.refresh(a,b)}}}function h(a){var b=a.config.customConfig;if(!b)return!1;b=CKEDITOR.getUrl(b);var c=q[b]||(q[b]={});c.fn?(c.fn.call(a,a.config),CKEDITOR.getUrl(a.config.customConfig)!=b&&h(a)||a.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(b,;return!0}tion n(a){ar c=a.config,e=b(c.plugins),d=b(c.extraPlugins),g=b(c.removePlugins);if(d){var f=new RegExp("(?:^|,)(?:"+d.replace(/,/g,"|")+")(?\x3d,|$)","g");e=e.replace(f,"");e+=","+d}if(g){var h=new RegExp("(?:^|,)(?:"+g.replace(/,/g,"|")+")(?\x3d,|$)","g");e=e.replace(h,"")}CKEDITOR.env.air&&(e+=",adobeair");CKEDITOR.plugins.load(e.split(","),}prototype=CKEDITOR.editor.prototype;CKEDITOR.editor=
a;var v=0,q={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{plugins:{detectConflict:,addCommand:function(a,c){c.name=a.toLowerCase();c=c instanceof CKEDITOR.command?c:new CKEDITOR.command(this,c);this.mode&&b(this,c);return this.commands[a]=c},_attachToForm:destroy:elementPath:createRange:execCommand:function(a,b){var c=this.getCommand(a);a={name:a,commandData:b||{},command:c};return c&&c.state!=CKEDITOR.TRISTATE_DISABLED&&!1!==this.fire("beforeCommandExec",a)&&(a.returnValue=c.exec(a.commandData),!c.async&&!1!==this.fire("afterCommandExec",a))?a.returnValue:!1},getCommand:getData:getSnapshot:loadSnapshot:function(a){this.fire("loadSnapshot",a)},setData:setReadOnly:insertHtml:insertText:function(a){this.fire("insertText",a)},insertElement:getSelectedHtml:function(a){var b=this.editable(),c=this.getSelection();c=c&&c.getRanges();if(!b||!c||0===c.length)return null;b=x(c,b);return a?b.getHtml():b},extractSelectedHtml:focus:checkDirty:resetDirty:updateElement:setKeystroke:getCommandKeystroke:function(a,b){a="string"===typeof a?this.getCommand(a):a;var c=[];if(a){var e=
CKEDITOR.tools.object.findKey(this.commands,a),d=this.keystrokeHandler.keystrokes;if(a.fakeKeystroke)c.push(a.fakeKeystroke);else for(var g in d)d[g]===e&&c.push(g)}return b?c:c[0]||null},addFeature:setActiveFilter:setActiveEnterMode:showNotification:isDetached:isDestroyed:);CKEDITOR.editor._getEditorElement=
)();CKEDITOR.ELEMENT_MODE_NONE=0;CKEDITOR.ELEMENT_MODE_REPLACE=1;CKEDITOR.ELEMENT_MODE_APPENDTO=2;CKEDITOR.ELEMENT_MODE_INLINE=3;CKEDITOR.htmlParser=
(();CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:proto:{openTag:openTagClose:attribute:closeTag:function(a){this._.output.push("\x3c/",a,"\x3e")},text:function(a){this._.output.push(a)},comment:write:function(a){this._.output.push(a)},reset:getHtml:});"use strict";(();"use strict";CKEDITOR.htmlParser.comment=
function(a){this.value=a;this._={isBlockLike:!1}};CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:writeHtml:function(a,f){f&&this.filter(f);a.comment(this.value)}});"use strict";(();"use strict";(();
"use strict";CKEDITOR.htmlParser.fragment=(function(){ar f=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),d={ol:1,ul:1},c=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,
script:1}),b={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(k,h,m){new CKEDITOR.htmlParser,q=h instanceof CKEDITOR.htmlParser.element?h:"string"==typeof h?new CKEDITOR.htmlParser.element(h):new CKEDITOR.htmlParser.fragment,p=[],t=[],r=q,B="textarea"==q.name,
A="pre"==q.name;v.onTagOpen=v.onTagClose=v.onText=function(a){if(r._.hasInlineStarted&&!t.length||A||B||(a=CKEDITOR.tools.ltrim(a),0!==a.length)){var e=r.name,d=e?CKEDITOR.dtd[e]||(r._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c;if(!B&&!d["#"]&&e in f)v.onTagOpen(b[e]||""),v.onText(a);else{l();g();
A||B||(a=a.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," "));a=new CKEDITOR.htmlParser.text(a);if(u(r,a))this.onTagOpen(m,{},0,1);r.add(a)}}};v.onCDATA=v.onComment=v.parse(k);for(l();r!=q;)n(r,r.parent,1);e(q);return q};CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:filter:filterChildren:writeHtml:writeChildrenHtml:forEach:getFilterContext:})();"use strict";(();(function(){){var c=[],e=b.config.protectedSource,d=b._.dataStore||(b._.dataStore=
{id:1}),g=/\x3c!--\{cke_temp(comment)?\}(\d*?)--\x3e/g;e=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(e);a=a.replace(/\x3c!--[\s\S]*?--\x3e/g,;for(var f=0;f<e.length;f++)a=a.replace(e[f],;a=a.replace(g,;a=a.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,;return a=a.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,}CKEDITOR.htmlDataProcessor=function(b){var c,
d,g=this;this.editor=b;this.dataFilter=c=new CKEDITOR.htmlParser.filter;this.htmlFilter=d=new CKEDITOR.htmlParser.filter;this.writer=new CKEDITOR.htmlParser.basicWriter;c.addRules(z);c.addRules(w,{applyToAll:!0});c.addRules(a(b,"data"),{applyToAll:!0});d.addRules(y);d.addRules(D,{applyToAll:!0});d.addRules(a(b,"html"),{applyToAll:!0});b.on("toHtml",function(a){a=a.data;var c=a.dataValue;c=I(c);c=q(c,b);c=e(c,N);c=l(c);c=e(c,H);c=c.replace(K,"$1cke:$2");c=c.replace(C,"\x3ccke:$1$2\x3e\x3c/cke:$1\x3e");
c=c.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2");c=c.replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");var d=a.context||b.editable().getName();var g;CKEDITOR.env.ie&&9>CKEDITOR.env.version&&"pre"==d&&(d="div",c="\x3cpre\x3e"+c+"\x3c/pre\x3e",g=1);d=b.document.createElement(d);d.setHtml("a"+c);c=d.getHtml().substr(1);c=c.replace(new RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),"");g&&(c=c.replace(/^<pre>|<\/pre>$/gi,""));c=c.replace(J,"$1$2");c=n(c);c=x(c);d=!1===a.fixForBody?
!1:f(a.enterMode,b.config.autoParagraph);c=CKEDITOR.htmlParser.fragment.fromHtml(c,a.context,d);d&&(g=c,!g.children.length&&CKEDITOR.dtd[g.name][d]&&(d=new CKEDITOR.htmlParser.element(d),g.add(d)));a.dataValue=c},null,null,5);b.on("toHtml",null,null,6);b.on("toHtml",function(a){a.data.dataValue.filterChildren(g.dataFilter,!0)},null,null,10);b.on("toHtml",null,null,15);b.on("toDataFormat",null,null,5);b.on("toDataFormat",null,null,10);b.on("toDataFormat",null,null,11);b.on("toDataFormat",null,null,15)};CKEDITOR.htmlDataProcessor.prototype={toHtml:toDataFormat:;var p=/(?:&nbsp;|\xa0)$/,t="{cke_protected}",r=CKEDITOR.dtd,B="caption colgroup col thead tfoot tbody".split(" "),A=CKEDITOR.tools.extend({},r.$blockLimit,
r.$block),z={elements:{input:m,textarea:m}},w={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:},y={elements:{embed:function(a){var b=a.parent;if(b&&"object"==b.name){var c=b.attributes.width;b=b.attributes.height;
c&&(a.attributes.width=c);b&&(a.attributes.height=b)}},a:},D={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:
table:param:span:html:body:style:title:input:g,textarea:g},attributes:{"class":};CKEDITOR.env.ie&&(D.attributes.style=;var E=/<(a|area|img|input|source)\b([^>]*)>/gi,F=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,G=/^(href|src|name)$/i,H=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,N=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,O=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,K=/(<\/?)((?:object|embed|param|html|body|head|title)([\s][^>]*)?>)/gi,J=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,C=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;
var I=function(){function a(a){return CKEDITOR.tools.array.reduce(a.split(""),function(a,c){var e=c.toLowerCase();c=c.toUpperCase();var d=b(e);e!==c&&(d+="|"+b(c));return a+("("+d+")")},"")}function b(a){var b=a.charCodeAt(0);var c=b.toString(16);b={htmlCode:"\x26#"+b+";?",hex:"\x26#x0*"+c+";?",entity:{"\x3c":"\x26lt;","\x3e":"\x26gt;",":":"\x26colon;"}[a]};for(var e in b)b[e]&&(a+="|"+b[e]);return a}var c=new RegExp("("+a("\x3ccke:encoded\x3e")+"(.*?)"+a("\x3c/cke:encoded\x3e")+")|("+a("\x3c")+a("/")+
"?"+a("cke:encoded\x3e")+")","gi"),e=new RegExp("(("+a("{cke_protected")+")(_[0-9]*)?"+a("}")+")","gi");return ()})();"use strict";CKEDITOR.htmlParser.element=function(a,f){this.name=a;this.attributes=f||{};this.children=[];f=a||"";var d=f.match(/^cke:(.*)/);d&&(f=d[1]);f=!!(CKEDITOR.dtd.$nonBodyContent[f]||CKEDITOR.dtd.$block[f]||CKEDITOR.dtd.$listItem[f]||CKEDITOR.dtd.$tableContent[f]||CKEDITOR.dtd.$nonEditable[f]||"br"==f);this.isEmpty=!!CKEDITOR.dtd.$empty[a];
this.isUnknown=!CKEDITOR.dtd[a];this._={isBlockLike:f,hasInlineStarted:this.isEmpty||!f}};CKEDITOR.htmlParser.cssStyle=(function(){ar f=d=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:d.add,clone:filter:function(a,b){var c=this,d;b=c.getFilterContext(b);if(!c.parent)a.onRoot(b,c);for(;;){var f=c.name;if(!(d=a.onElementName(b,f)))return this.remove(),!1;c.name=d;if(!(c=a.onElement(b,c)))return this.remove(),!1;if(c!==this)return this.replaceWith(c),!1;if(c.name==f)break;if(c.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(c),!1;if(!c.name)return this.replaceWithChildren(),!1}f=c.attributes;var g;for(l in f){for(d=f[l];;)if(g=a.onAttributeName(b,l))if(g!=l){delete f[l];
var l=g}else break;else{delete f[l];break}g&&(!1===(d=a.onAttribute(b,c,g,d))?delete f[g]:f[g]=d)}c.isEmpty||this.filterChildren(a,!1,b);return!0},filterChildren:d.filterChildren,writeHtml:function(a,b){b&&this.filter(b);b=this.name;var c=[],d=this.attributes,m;a.openTag(b,d);for(g in d)c.push([g,d[g]]);a.sortAttributes&&c.sort(f);var g=0;for(m=c.length;g<m;g++)d=c[g],a.attribute(d[0],d[1]);a.openTagClose(b,this.isEmpty);this.writeChildrenHtml(a);this.isEmpty||a.closeTag(b)},writeChildrenHtml:d.writeChildrenHtml,
replaceWithChildren:forEach:d.forEach,getFirst:getHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;this.writeChildrenHtml(a);return a.getHtml()},setHtml:getOuterHtml:split:find:findOne:addClass:removeClass:hasClass:getFilterContext:,!0)})();(();delete CKEDITOR.loadFullCore;CKEDITOR.instances={};CKEDITOR.document=new CKEDITOR.dom.document(document);
CKEDITOR.add=CKEDITOR.remove=(();(();CKEDITOR.on("instanceDestroyed",;CKEDITOR.TRISTATE_ON=1;CKEDITOR.TRISTATE_OFF=2;CKEDITOR.TRISTATE_DISABLED=0;(function(){CKEDITOR.inline=function(a,f){a=CKEDITOR.editor._getEditorElement(a);if(!a)return null;
var d=new CKEDITOR.editor(f,a,CKEDITOR.ELEMENT_MODE_INLINE),c=a.is("textarea")?a:null;c?(d.setData(c.getValue(),null,!0),a=CKEDITOR.dom.element.createFromHtml('\x3cdiv contenteditable\x3d"'+!!d.readOnly+'" class\x3d"cke_textarea_inline"\x3e'+c.getValue()+"\x3c/div\x3e",CKEDITOR.document),a.insertAfter(c),c.hide(),c.$.form&&d._attachToForm()):(f&&"undefined"!==typeof f.readOnly&&!f.readOnly&&a.setAttribute("contenteditable","true"),d.setData(a.getHtml(),null,!0));d.on("loaded",null,null,1E4);d.on("destroy",;return d};CKEDITOR.inlineAll=function(){var a,f;for(f in CKEDITOR.dtd.$editable)for(var d=CKEDITOR.document.getElementsByTag(f),
c=0,b=d.count();c<b;c++){var k=d.getItem(c);"true"==k.getAttribute("contenteditable")&&(a={element:k,config:{}},!1!==CKEDITOR.fire("inline",a)&&CKEDITOR.inline(k,a.config))}};CKEDITOR.domReady(})();CKEDITOR.replaceClass="ckeditor";(function(){function a(a,b,k,h){a=CKEDITOR.editor._getEditorElement(a);if(!a)return null;var c=new CKEDITOR.editor(b,a,h);h==CKEDITOR.ELEMENT_MODE_REPLACE&&(a.setStyle("visibility","hidden"),c._.required=a.hasAttribute("required"),
a.removeAttribute("required"));k&&c.setData(k,null,!0);c.on("loaded",;c.on("destroy",f);return c}unction d(a){var b=a.name,c=a.element,d=a.elementMode,f=a.fire("uiSpace",{space:"top",html:""}).html,g=a.fire("uiSpace",{space:"bottom",html:""}).html,l=new CKEDITOR.template('\x3c{outerEl} id\x3d"cke_{name}" class\x3d"{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir\x3d"{langDir}" lang\x3d"{langCode}" role\x3d"application"'+(a.title?' aria-labelledby\x3d"cke_{name}_arialbl"':
"")+"\x3e"+(a.title?'\x3cspan id\x3d"cke_{name}_arialbl" class\x3d"cke_voice_label"\x3e{voiceLabel}\x3c/span\x3e':"")+'\x3c{outerEl} class\x3d"cke_inner cke_reset" role\x3d"presentation"\x3e{topHtml}\x3c{outerEl} id\x3d"{contentId}" class\x3d"cke_contents cke_reset" role\x3d"presentation"\x3e\x3c/{outerEl}\x3e{bottomHtml}\x3c/{outerEl}\x3e\x3c/{outerEl}\x3e');b=CKEDITOR.dom.element.createFromHtml(l.output({id:a.id,name:b,langDir:a.lang.dir,langCode:a.langCode,voiceLabel:a.title,topHtml:f?'\x3cspan id\x3d"'+
a.ui.spaceId("top")+'" class\x3d"cke_top cke_reset_all" role\x3d"presentation" style\x3d"height:auto"\x3e'+f+"\x3c/span\x3e":"",contentId:a.ui.spaceId("contents"),bottomHtml:g?'\x3cspan id\x3d"'+a.ui.spaceId("bottom")+'" class\x3d"cke_bottom cke_reset_all" role\x3d"presentation"\x3e'+g+"\x3c/span\x3e":"",outerEl:CKEDITOR.env.ie?"span":"div"}));d==CKEDITOR.ELEMENT_MODE_REPLACE?(c.hide(),b.insertAfter(c)):c.append(b);a.container=b;a.ui.contentsElement=a.ui.space("contents");f&&a.ui.space("top").unselectable();
g&&a.ui.space("bottom").unselectable();c=a.config.width;d=a.config.height;c&&b.setStyle("width",CKEDITOR.tools.cssLength(c));d&&a.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(d));b.disableContextMenu();CKEDITOR.env.webkit&&b.on("focus",;a.fireOnce("uiReady")}CKEDITOR.replace=CKEDITOR.appendTo=CKEDITOR.replaceAll=CKEDITOR.editor.prototype.addMode=CKEDITOR.editor.prototype.setMode=function(a,b){var c=this,d=this._.modes;if(a!=c.mode&&d&&d[a]){c.fire("beforeSetMode",
a);if(c.mode){var f=c.checkDirty();d=c._.previousModeData;var g,l=0;c.fire("beforeModeUnload");c.editable(0);c._.previousMode=c.mode;c._.previousModeData=g=c.getData(1);"source"==c.mode&&d==g&&(c.fire("lockSnapshot",{forceUpdate:!0}),l=1);c.ui.space("contents").setHtml("");c.mode=""}else c._.previousModeData=c.getData(1);this._.modes[a](}};CKEDITOR.editor.prototype.resize=function(a,b,d,f){var c=this.container,g=this.ui.space("contents"),h=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;f=f?this.container.getFirst(:c;a=CKEDITOR.tools.convertToPx(CKEDITOR.tools.cssLength(a));f.setSize("width",a,!0);h&&(h.style.width="1%");b=CKEDITOR.tools.convertToPx(CKEDITOR.tools.cssLength(b));var e=(f.$.offsetHeight||
0)-(g.$.clientHeight||0);c=Math.max(b-(d?0:e),0);b=d?b+e:b;g.setStyle("height",CKEDITOR.tools.cssLength(c));h&&(h.style.width="100%");this.fire("resize",{outerHeight:b,contentsHeight:c,outerWidth:a||f.getSize("width")})};CKEDITOR.editor.prototype.getResizable=CKEDITOR.domReady(})();CKEDITOR.config.startupMode="wysiwyg";(function(){function a(a){var b=a.editor,
e=a.data.path,d=e.blockLimit,g=a.data.selection,l=g.getRanges()[0];if(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)if(g=f(g,e)){g.appendBogus();var k=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.edge&&b._.previousActive}h(b,e.block,d)&&l.collapsed&&!l.getCommonAncestor().isReadOnly()&&(e=l.clone(),e.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),d=new CKEDITOR.dom.walker(e),d.guard=!d.checkForward()||e.checkStartOfBlock()&&
e.checkEndOfBlock())&&(b=l.fixBlock(!0,b.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(b=b.getFirst(c))&&b.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(b.getText()).match(/^(?:&nbsp;|\xa0)$/)&&b.remove(),k=1,a.cancel());k&&l.select()}function f(a,b){if(a.isFake)return 0;b=(a=b.block||b.blockLimit)&&a.getLast(c);if(!(!a||!a.isBlockBoundary()||b&&b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary()||a.is("pre")||a.getBogus()))return a}.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,
$:proto:{focus:function(){var a;if(CKEDITOR.env.webkit&&!this.hasFocus&&(a=this.editor._.previousActive||this.getDocument().getActive(),this.contains(a)))a.focus();else{CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var b=
this.$.scrollTop;this.$.focus();this.$.scrollTop=b}else this.$.focus();else this.$.setActive()}catch(y){if(!CKEDITOR.env.ie)throw y;}CKEDITOR.env.safari&&!this.isInline()&&(a=CKEDITOR.document.getActive(),a.equals(this.getWindow().getFrame())||this.getWindow().focus())}},on:attachListener:function(a){!this._.listeners&&
(this._.listeners=[]);var b=Array.prototype.slice.call(arguments,1);b=a.on.apply(a,b);this._.listeners.push(b);return b},clearListeners:restoreAttrs:attachClass:changeAttr:insertText:transformPlainTextToHtml:insertHtml:insertHtmlIntoRange:insertElement:function(a,b){var e=this.editor;e.focus();e.fire("saveSnapshot");var d=e.activeEnterMode;e=e.getSelection();var g=a.getName();g=CKEDITOR.dtd.$block[g];b||(b=e.getRanges()[0]);this.insertElementIntoRange(a,
b)&&(b.moveToPosition(a,CKEDITOR.POSITION_AFTER_END),g&&((g=a.getNext()&&g.type==CKEDITOR.NODE_ELEMENT&&g.is(CKEDITOR.dtd.$block)?g.getDtd()["#"]?b.moveToElementEditStart(g):b.moveToElementEditEnd(a):g||d==CKEDITOR.ENTER_BR||(g=b.fixBlock(!0,d==CKEDITOR.ENTER_DIV?"div":"p"),b.moveToElementEditStart(g))));e.selectRanges([b]);l(this)},insertElementIntoSelection:insertElementIntoRange:function(a,b){var c=this.editor,e=c.config.enterMode,
d=a.getName(),f=CKEDITOR.dtd.$block[d];if(b.checkReadOnly())return!1;b.deleteContents(1);b.startContainer.type==CKEDITOR.NODE_ELEMENT&&(b.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?t(b):b.startContainer.is(CKEDITOR.dtd.$list)&&r(b));var h,l;if(f)for(;(h=b.getCommonAncestor(0,1))&&(l=CKEDITOR.dtd[h.getName()])&&(!l||!l[d]);)if(h.getName()in CKEDITOR.dtd.span){f=b.splitElement(h);var k=b.createBookmark();g(h);g(f);b.moveToBookmark(k)}else b.checkStartOfBlock()&&b.checkEndOfBlock()?(b.setStartBefore(h),
b.collapse(!0),h.remove()):b.splitBlock(e==CKEDITOR.ENTER_DIV?"div":"p",c.editable());b.insertNode(a);return!0},setData:getData:setReadOnly:detach:isInline:fixInitialSelection:function(){function a(){var a=c.getDocument().$,b=a.getSelection();var e=b.anchorNode&&b.anchorNode==c.$?!0:CKEDITOR.env.webkit&&
(e=c.getDocument().getActive())&&e.equals(c)&&!b.anchorNode?!0:void 0;e&&(e=new CKEDITOR.dom.range(c),e.moveToElementEditStart(c),a=a.createRange(),a.setStart(e.startContainer.$,e.startOffset),a.collapse(!0),b.removeAllRanges(),b.addRange(a))}ar c=this;if(CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks))this.hasFocus&&(this.focus(),b());else if(this.hasFocus)this.focus(),a();else this.once("focus",null,null,-999)},getHtmlFromRange:extractHtmlFromRange:function(a,b){var c=A,e={range:a,doc:a.document},d=this.getHtmlFromRange(a);if(a.collapsed)return a.optimize(),d;a.enlarge(CKEDITOR.ENLARGE_INLINE,1);c.table.detectPurge(e);e.bookmark=a.createBookmark();delete e.range;var g=this.editor.createRange();g.moveToPosition(e.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START);e.targetBookmark=g.createBookmark();c.list.detectMerge(e,this);c.table.detectRanges(e,
this);c.block.detectMerge(e,this);e.tableContentsRanges?(c.table.deleteRanges(e),a.moveToBookmark(e.bookmark),e.range=a):(a.moveToBookmark(e.bookmark),e.range=a,a.extractContents(c.detectExtractMerge(e)));a.moveToBookmark(e.targetBookmark);a.optimize();c.fixUneditableRangePosition(a);c.list.merge(e,this);c.table.purge(e,this);c.block.merge(e,this);if(b){c=a.startPath();if(e=a.checkStartOfBlock()&&a.checkEndOfBlock()&&c.block&&!a.root.equals(c.block)){a:{e=c.block.getElementsByTag("span");g=0;if(e)for(;b=
e.getItem(g++);)if(!u(b)){e=!0;break a}e=!1}e=!e}e&&(a.moveToPosition(c.block,CKEDITOR.POSITION_BEFORE_START),c.block.remove())}else c.autoParagraph(this.editor,a),x(a.startContainer)&&a.startContainer.appendBogus();a.startContainer.mergeSiblings();return d},setup:function(){var a=this.editor;this.attachListener(a,"beforeGetData",this);this.attachListener(a,
"getSnapshot",this);this.attachListener(a,"afterSetData",this);this.attachListener(a,"loadSnapshot",this);this.attachListener(a,"beforeFocus",this);this.attachListener(a,"insertHtml",this);this.attachListener(a,"insertElement",function(a){this.insertElement(a.data)},
this);this.attachListener(a,"insertText",function(a){this.insertText(a.data)},this);this.setReadOnly(a.readOnly);this.attachClass("cke_editable");a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):a.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&a.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed");this.attachClass("cke_contents_"+a.config.contentsLangDirection);a.keystrokeHandler.blockedKeystrokes[8]=+a.readOnly;a.keystrokeHandler.attach(this);
this.on("blur",function(){this.hasFocus=!1},null,null,-1);this.on("focus",function(){this.hasFocus=!0},null,null,-1);if(CKEDITOR.env.webkit)this.on("scroll",null,null,-1);if(CKEDITOR.env.edge&&14<CKEDITOR.env.version){var b=this.on("scroll",b)}a.focusManager.add(this);
this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,a.once("contentDom",this));this.isInline()&&this.changeAttr("tabindex",a.tabIndex);if(!this.is("textarea")){a.document=this.getDocument();a.window=this.getWindow();var g=a.document;this.changeAttr("spellcheck",!a.config.disableNativeSpellChecker);var f=a.config.contentsLangDirection;this.getDirection(1)!=f&&this.changeAttr("dir",f);var h=CKEDITOR.getCss();if(h){f=g.getHead();var l=f.getCustomData("stylesheet");
l?h!=l.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?l.$.styleSheet.cssText=h:l.setText(h)):(h=g.appendStyleText(h),h=new CKEDITOR.dom.element(h.ownerNode||h.owningElement),f.setCustomData("stylesheet",h),h.data("cke-temp",1))}f=g.getCustomData("stylesheet_ref")||0;g.setCustomData("stylesheet_ref",f+1);this.setCustomData("cke_includeReadonly",!a.config.disableReadonlyStyling);this.attachListener(this,"click",;var m={8:1,46:1};this.attachListener(a,"key",function(b){if(a.readOnly)return!0;var c=b.data.domEvent.getKey(),e;b=a.getSelection();if(0!==b.getRanges().length){if(c in m){var d,g=b.getRanges()[0],f=g.startPath(),h,l,p;c=8==c;CKEDITOR.env.ie&&11>CKEDITOR.env.version&&(d=b.getSelectedElement())||(d=k(b))?(a.fire("saveSnapshot"),g.moveToPosition(d,CKEDITOR.POSITION_BEFORE_START),d.remove(),g.select(),a.fire("saveSnapshot"),e=1):g.collapsed&&((h=
f.block)&&(p=h[c?"getPrevious":"getNext"](n))&&p.type==CKEDITOR.NODE_ELEMENT&&p.is("table")&&g[c?"checkStartOfBlock":"checkEndOfBlock"]()?(a.fire("saveSnapshot"),g[c?"checkEndOfBlock":"checkStartOfBlock"]()&&h.remove(),g["moveToElementEdit"+(c?"End":"Start")](p),g.select(),a.fire("saveSnapshot"),e=1):f.blockLimit&&f.blockLimit.is("td")&&(l=f.blockLimit.getAscendant("table"))&&g.checkBoundaryOfElement(l,c?CKEDITOR.START:CKEDITOR.END)&&(p=l[c?"getPrevious":"getNext"](n))?(a.fire("saveSnapshot"),g["moveToElementEdit"+
(c?"End":"Start")](p),g.checkStartOfBlock()&&g.checkEndOfBlock()?p.remove():g.select(),a.fire("saveSnapshot"),e=1):(l=f.contains(["td","th","caption"]))&&g.checkBoundaryOfElement(l,c?CKEDITOR.START:CKEDITOR.END)&&(e=1))}return!e}});a.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",;this.attachListener(this,
"dblclick",;CKEDITOR.env.ie&&this.attachListener(this,"click",d);CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",;CKEDITOR.env.edge&&this.attachListener(this,"mouseup",;CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",;CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(a){a.data.getTarget().is("input","select")&&a.data.preventDefault()}),this.attachListener(this,"mouseup",);CKEDITOR.env.webkit&&this.attachListener(a,"key",function(b){if(a.readOnly)return!0;var c=b.data.domEvent.getKey();if(c in m&&(b=a.getSelection(),0!==b.getRanges().length)){c=8==c;var d=b.getRanges()[0];b=d.startPath();if(d.collapsed)a:{var g=b.block;if(g&&d[c?"checkStartOfBlock":"checkEndOfBlock"]()&&d.moveToClosestEditablePosition(g,!c)&&d.collapsed){if(d.startContainer.type==CKEDITOR.NODE_ELEMENT){var f=d.startContainer.getChild(d.startOffset-(c?1:0));if(f&&
f.type==CKEDITOR.NODE_ELEMENT&&f.is("hr")){a.fire("saveSnapshot");f.remove();b=!0;break a}}d=d.startPath().block;if(!d||d&&d.contains(g))b=void 0;else{a.fire("saveSnapshot");var h;(h=(c?d:g).getBogus())&&h.remove();h=a.getSelection();f=h.createBookmarks();(c?g:d).moveChildren(c?d:g,!1);b.lastElement.mergeSiblings();e(g,d,!c);h.selectBookmarks(f);b=!0}}else b=!1}else c=d,h=b.block,d=c.endPath().block,h&&d&&!h.equals(d)?(a.fire("saveSnapshot"),(g=h.getBogus())&&g.remove(),c.enlarge(CKEDITOR.ENLARGE_INLINE),
c.deleteContents(),d.getParent()&&(d.moveChildren(h,!1),b.lastElement.mergeSiblings(),e(h,d,!0)),c=a.getSelection().getRanges()[0],c.collapse(1),c.optimize(),""===c.startContainer.getHtml()&&c.startContainer.appendBogus(),c.select(),b=!0):b=!1;if(b)return a.getSelection().scrollIntoView(),a.fire("saveSnapshot"),!1}},this,null,100)}},getUniqueId:,_:{cleanCustomData:function(){this.removeClass("cke_editable");
this.restoreAttrs();for(var a=this.removeCustomData("classes");a&&a.length;)this.removeClass(a.pop());if(!this.is("textarea")){a=this.getDocument();var b=a.getHead();if(b.getCustomData("stylesheet")){var c=a.getCustomData("stylesheet_ref");--c?a.setCustomData("stylesheet_ref",c):(a.removeCustomData("stylesheet_ref"),b.removeCustomData("stylesheet").remove())}}}}});CKEDITOR.editor.prototype.editable=CKEDITOR.on("instanceLoaded",;CKEDITOR.on("instanceCreated",function(a){var b=a.editor;b.on("mode",function(){var a=b.editable();if(a&&a.isInline()){var c=b.title;a.changeAttr("role","textbox");a.changeAttr("aria-multiline","true");a.changeAttr("aria-label",c);c&&a.changeAttr("title",c);var e=b.fire("ariaEditorHelpLabel",{}).label;if(e&&(c=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var d=CKEDITOR.tools.getNextId();
e=CKEDITOR.dom.element.createFromHtml('\x3cspan id\x3d"'+d+'" class\x3d"cke_voice_label"\x3e'+e+"\x3c/span\x3e");c.append(e);a.changeAttr("aria-describedby",d)}}})});CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}");var n=CKEDITOR.dom.walker.whitespaces(!0);var u=CKEDITOR.dom.walker.bookmark(!1,!0);var x=CKEDITOR.dom.walker.empty();var v=CKEDITOR.dom.walker.bogus();var q=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi;
var p=function(){unction b(c,e){var d,g,f,h=[],l=e.range.startContainer;var k=e.range.startPath();l=n[l.getName()];var m=0;c=c.getChildren();for(var C=c.count(),p=-1,u=-1,q=0,w=k.contains(n.$list);m<C;++m)k=c.getItem(m),a(k)?(g=k.getName(),w&&g in CKEDITOR.dtd.$list?h=h.concat(b(k,e)):(f=!!l[g],"br"!=g||!k.data("cke-eol")||m&&m!=C-1||(q=(d=m?h[m-1].node:c.getItem(m+1))&&(!a(d)||!d.is("br")),d=d&&a(d)&&n.$block[d.getName()]),-1!=p||f||(p=m),f||(u=
m),h.push({isElement:1,isLineBreak:q,isBlock:k.isBlockBoundary(),hasBlockSibling:d,node:k,name:g,allowed:f}),d=q=0)):h.push({isElement:0,node:k,allowed:1});-1<p&&(h[p].firstNotAllowed=1);-1<u&&(h[u].lastNotAllowed=1);return h}function e(b,c){var d=[],g=b.getChildren(),f=g.count(),h=0,l=n[c],k=!b.is(n.$inline)||b.is("br");for(k&&d.push(" ");h<f;h++)b=g.getItem(h),a(b)&&!b.is(l)?d=d.concat(e(b,c)):d.push(b);k&&d.push(" ");return d}n=CKEDITOR.dtd,p={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},u={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},q=CKEDITOR.tools.extend({},n.$inline);delete q.br;return function(p,C,w,r){var t=p.editor,I=!1;"unfiltered_html"==C&&(C="html",I=!0);if(!r.checkReadOnly()){var v=(new CKEDITOR.dom.elementPath(r.startContainer,
r.root)).blockLimit||r.root;C={type:C,dontFilter:I,editable:p,editor:t,range:r,blockLimit:v,mergeCandidates:[],zombies:[]};I=C.range;v=C.mergeCandidates;var F="html"===C.type,x,G,z;"text"==C.type&&I.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(x=CKEDITOR.dom.element.createFromHtml("\x3cspan\x3e\x26nbsp;\x3c/span\x3e",I.document),I.insertNode(x),I.setStartAfter(x));var H=new CKEDITOR.dom.elementPath(I.startContainer);C.endPath=G=new CKEDITOR.dom.elementPath(I.endContainer);if(!I.collapsed){var y=G.block||
G.blockLimit;var J=I.getCommonAncestor();y&&!y.equals(J)&&!y.contains(J)&&I.checkEndOfBlock()&&C.zombies.push(y);I.deleteContents()}for(;(z=d(I))&&a(z)&&z.isBlockBoundary()&&H.contains(z);)I.moveToPosition(z,CKEDITOR.POSITION_BEFORE_END);l(I,C.blockLimit,H,G);x&&(I.setEndBefore(x),I.collapse(),x.remove());x=I.startPath();if(y=x.contains(f,!1,1)){var E=I.splitElement(y);C.inlineStylesRoot=y;C.inlineStylesPeak=x.lastElement}x=I.createBookmark();F&&(g(y),g(E));(y=x.startNode.getPrevious(c))&&a(y)&&f(y)&&
v.push(y);(y=x.startNode.getNext(c))&&a(y)&&f(y)&&v.push(y);for(y=x.startNode;(y=y.getParent())&&f(y);)v.push(y);I.moveToBookmark(x);t.enterMode===CKEDITOR.ENTER_DIV&&""===t.getData(!0)&&((t=p.getFirst())&&t.remove(),r.setStartAt(p,CKEDITOR.POSITION_AFTER_START),r.collapse(!0));if(p=w){p=C.range;if("text"==C.type&&C.inlineStylesRoot){r=C.inlineStylesPeak;t=r.getDocument().createText("{cke-peak}");for(E=C.inlineStylesRoot.getParent();!r.equals(E);)t=t.appendTo(r.clone()),r=r.getParent();w=t.getOuterHtml().split("{cke-peak}").join(w)}r=
C.blockLimit.getName();if(/^\s+|\s+$/.test(w)&&"span"in CKEDITOR.dtd[r]){var A='\x3cspan data-cke-marker\x3d"1"\x3e\x26nbsp;\x3c/span\x3e';w=A+w+A}w=C.editor.dataProcessor.toHtml(w,{context:null,fixForBody:!1,protectedWhitespaces:!!A,dontFilter:C.dontFilter,filter:C.editor.activeFilter,enterMode:C.editor.activeEnterMode});r=p.document.createElement("body");r.setHtml(w);A&&(r.getFirst().remove(),r.getLast().remove());if((A=p.startPath().block)&&(1!=A.getChildCount()||!A.getBogus()))a:{var M;if(1==
r.getChildCount()&&a(M=r.getFirst())&&M.is(u)&&!M.hasAttribute("contenteditable")){A=M.getElementsByTag("*");p=0;for(E=A.count();p<E;p++)if(t=A.getItem(p),!t.is(q))break a;M.moveChildren(M.getParent(1));M.remove()}}C.dataWrapper=r;p=w}if(p){M=C.range;p=M.document;r=C.blockLimit;E=0;var B;A=[];var D;w=x=0;var P;t=M.startContainer;z=C.endPath.elements[0];I=z.getPosition(t);v=!!z.getCommonAncestor(t)&&I!=CKEDITOR.POSITION_IDENTICAL&&!(I&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);t=b(C.dataWrapper,
C);for(k(t,M);E<t.length;E++){I=t[E];if(F=I.isLineBreak)F=M,y=r,G=H=void 0,I.hasBlockSibling?F=1:(H=F.startContainer.getAscendant(n.$block,1))&&H.is({div:1,p:1})?(G=H.getPosition(y),G==CKEDITOR.POSITION_IDENTICAL||G==CKEDITOR.POSITION_CONTAINS?F=0:(y=F.splitElement(H),F.moveToPosition(y,CKEDITOR.POSITION_AFTER_START),F=1)):F=0;if(F)w=0<E;else{F=M.startPath();!I.isBlock&&h(C.editor,F.block,F.blockLimit)&&(D=m(C.editor))&&(D=p.createElement(D),D.appendBogus(),M.insertNode(D),CKEDITOR.env.needsBrFiller&&
(B=D.getBogus())&&B.remove(),M.moveToPosition(D,CKEDITOR.POSITION_BEFORE_END));if((F=M.startPath().block)&&!F.equals(L)){if(B=F.getBogus())B.remove(),A.push(F);var L=F}I.firstNotAllowed&&(x=1);if(x&&I.isElement){F=M.startContainer;for(y=null;F&&!n[F.getName()][I.name];){if(F.equals(r)){F=null;break}y=F;F=F.getParent()}if(F)y&&(P=M.splitElement(y),C.zombies.push(P),C.zombies.push(y));else{y=r.getName();var W=!E;F=E==t.length-1;y=e(I.node,y);H=[];G=y.length;J=0;for(var N,V=0,O=-1;J<G;J++)N=y[J]," "==
N?(V||W&&!J||(H.push(new CKEDITOR.dom.text(" ")),O=H.length),V=1):(H.push(N),V=0);F&&O==H.length&&H.pop();W=H}}if(W){for(;F=W.pop();)M.insertNode(F);W=0}else M.insertNode(I.node);I.lastNotAllowed&&E<t.length-1&&((P=v?z:P)&&M.setEndAt(P,CKEDITOR.POSITION_AFTER_START),x=0);M.collapse()}}1!=t.length?B=!1:(B=t[0],B=B.isElement&&"false"==B.node.getAttribute("contenteditable"));B&&(w=!0,F=t[0].node,M.setStartAt(F,CKEDITOR.POSITION_BEFORE_START),M.setEndAt(F,CKEDITOR.POSITION_AFTER_END));C.dontMoveCaret=
w;C.bogusNeededBlocks=A}B=C.range;P=C.bogusNeededBlocks;for(W=B.createBookmark();L=C.zombies.pop();)L.getParent()&&(D=B.clone(),D.moveToElementEditStart(L),D.removeEmptyBlocksAtEnd());if(P)for(;L=P.pop();)CKEDITOR.env.needsBrFiller?L.appendBogus():L.append(B.document.createText("\u00a0"));for(;L=C.mergeCandidates.pop();)L.mergeSiblings();B.moveToBookmark(W);if(!C.dontMoveCaret){for(L=d(B);L&&a(L)&&!L.is(n.$empty);){if(L.isBlockBoundary())B.moveToPosition(L,CKEDITOR.POSITION_BEFORE_END);else{if(f(L)&&
L.getHtml().match(/(\s|&nbsp;)$/g)){var K=null;break}K=B.clone();K.moveToPosition(L,CKEDITOR.POSITION_BEFORE_END)}L=L.getLast(c)}K&&B.moveToRange(K)}}}}();var t=function(){nction c(a){var b=a.count();
for(b;0<b--;){var c=a.getItem(b);CKEDITOR.tools.trim(c.getHtml())||(c.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&c.getChildCount()&&c.getFirst().remove())}}return function(e){var d=e.startContainer,g=d.getAscendant("table",1),f=!1;c(g.getElementsByTag("td"));c(g.getElementsByTag("th"));g=e.clone();g.setStart(d,0);(g=a(g).lastBackward())||(g=e.clone(),g.setEndAt(d,CKEDITOR.POSITION_BEFORE_END),g=a(g).lastForward(),f=!0);g||(g=d);g.is("table")?(e.setStartAt(g,CKEDITOR.POSITION_BEFORE_START),
e.collapse(!0),g.remove()):(g.is({tbody:1,thead:1,tfoot:1})&&(g=b(g,"tr",f)),g.is("tr")&&(g=b(g,g.getParent().is("thead")?"th":"td",f)),(d=g.getBogus())&&d.remove(),e.moveToPosition(g,f?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}();var r=function(){eturn function(b){var c=b.startContainer,e=!1;var d=b.clone();d.setStart(c,0);(d=a(d).lastBackward())||(d=b.clone(),d.setEndAt(c,CKEDITOR.POSITION_BEFORE_END),d=a(d).lastForward(),e=!0);d||(d=c);d.is(CKEDITOR.dtd.$list)?(b.setStartAt(d,CKEDITOR.POSITION_BEFORE_START),b.collapse(!0),d.remove()):((c=d.getBogus())&&c.remove(),b.moveToPosition(d,e?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),b.select())}}();var B={eol:{detect:function(a,b){var c=
a.range,e=c.clone(),d=c.clone(),g=new CKEDITOR.dom.elementPath(c.startContainer,b);b=new CKEDITOR.dom.elementPath(c.endContainer,b);e.collapse(1);d.collapse();g.block&&e.checkBoundaryOfElement(g.block,CKEDITOR.END)&&(c.setStartAfter(g.block),a.prependEolBr=1);b.block&&d.checkBoundaryOfElement(b.block,CKEDITOR.START)&&(c.setEndBefore(b.block),a.appendEolBr=1)},fix:function(a,b){b=b.getDocument();var c;a.appendEolBr&&(c=this.createEolBr(b),a.fragment.append(c));!a.prependEolBr||c&&!c.getPrevious()||
a.fragment.append(this.createEolBr(b),1)},createEolBr:,bogus:{exclude:function(a){var b=a.range.getBoundaryNodes(),c=b.startNode;b=b.endNode;!b||!v(b)||c&&c.equals(b)||a.range.setEndBefore(b)}},tree:{rebuild:function(a,b){var c=a.range,e=c.getCommonAncestor(),d=new CKEDITOR.dom.elementPath(e,b),g=new CKEDITOR.dom.elementPath(c.startContainer,b);c=new CKEDITOR.dom.elementPath(c.endContainer,b);e.type==CKEDITOR.NODE_TEXT&&(e=
e.getParent());if(d.blockLimit.is({tr:1,table:1})){var f=d.contains("table").getParent();var h=function(a){return!a.equals(f)}}else if(d.block&&d.block.is(CKEDITOR.dtd.$listItem)&&(g=g.contains(CKEDITOR.dtd.$list),c=c.contains(CKEDITOR.dtd.$list),!g.equals(c))){var l=d.contains(CKEDITOR.dtd.$list).getParent();h=function(a){return!a.equals(l)}}h||(h=;this.rebuildFragment(a,b,e,h)},rebuildFragment:,cell:{shrink:};var A=function(){nction c(a,
b){a=new CKEDITOR.dom.range(a);a.setStartAfter(b.startNode);a.setEndBefore(b.endNode);return a}return{list:{detectMerge:function(a,b){b=c(b,a.bookmark);var e=b.startPath(),d=b.endPath(),g=e.contains(CKEDITOR.dtd.$list),f=d.contains(CKEDITOR.dtd.$list);a.mergeList=g&&f&&g.getParent().equals(f.getParent())&&!g.equals(f);a.mergeListItems=e.block&&d.block&&e.block.is(CKEDITOR.dtd.$listItem)&&d.block.is(CKEDITOR.dtd.$listItem);if(a.mergeList||a.mergeListItems)b=b.clone(),b.setStartBefore(a.bookmark.startNode),
b.setEndAfter(a.bookmark.endNode),a.mergeListBookmark=b.createBookmark()},merge:function(a,c){if(a.mergeListBookmark){var e=a.mergeListBookmark.startNode,d=a.mergeListBookmark.endNode,g=new CKEDITOR.dom.elementPath(e,c);c=new CKEDITOR.dom.elementPath(d,c);if(a.mergeList){var f=g.contains(CKEDITOR.dtd.$list),h=c.contains(CKEDITOR.dtd.$list);f.equals(h)||(h.moveChildren(f),h.remove())}a.mergeListItems&&(g=g.contains(CKEDITOR.dtd.$listItem),c=c.contains(CKEDITOR.dtd.$listItem),g.equals(c)||b(c,e,d));
e.remove();d.remove()}}},block:{detectMerge:function(a,b){a.tableContentsRanges||a.mergeListBookmark||(b=new CKEDITOR.dom.range(b),b.setStartBefore(a.bookmark.startNode),b.setEndAfter(a.bookmark.endNode),a.mergeBlockBookmark=b.createBookmark())},merge:function(a,c){if(a.mergeBlockBookmark&&!a.purgeTableBookmark){var e=a.mergeBlockBookmark.startNode;a=a.mergeBlockBookmark.endNode;var d=new CKEDITOR.dom.elementPath(e,c);c=new CKEDITOR.dom.elementPath(a,c);d=d.block;c=c.block;d&&c&&!d.equals(c)&&b(c,
e,a);e.remove();a.remove()}}},table:function(){function a(a){var c=[],d,g=new CKEDITOR.dom.walker(a),f=a.startPath().contains(e),h=a.endPath().contains(e),l={};g.guard=function(g,k){if(g.type==CKEDITOR.NODE_ELEMENT){var n="visited_"+(k?"out":"in");if(g.getCustomData(n))return;CKEDITOR.dom.element.setMarker(l,g,n,1)}if(k&&f&&g.equals(f))d=a.clone(),d.setEndAt(f,CKEDITOR.POSITION_BEFORE_END),c.push(d);else if(!k&&h&&g.equals(h))d=a.clone(),d.setStartAt(h,CKEDITOR.POSITION_AFTER_START),c.push(d);else{if(n=
!k)n=g.type==CKEDITOR.NODE_ELEMENT&&g.is(e)&&(!f||b(g,f))&&(!h||b(g,h));if(!n&&(n=k))if(g.is(e)){n=f&&f.getAscendant("table",!0);k=h&&h.getAscendant("table",!0);var m=g.getAscendant("table",!0);n=n&&n.contains(m)||k&&k.contains(m)}else n=void 0;n&&(d=a.clone(),d.selectNodeContents(g),c.push(d))}};g.lastForward();CKEDITOR.dom.element.clearAllMarkers(l);return c}function b(a,b){var c=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED;a=a.getPosition(b);return a===CKEDITOR.POSITION_IDENTICAL?
!1:0===(a&c)}var e={td:1,th:1,caption:1};return{detectPurge:function(a){var b=a.range,c=b.clone();c.enlarge(CKEDITOR.ENLARGE_ELEMENT);c=new CKEDITOR.dom.walker(c);var d=0;c.evaluator=c.checkForward();if(1<d){c=b.startPath().contains("table");var g=b.endPath().contains("table");c&&g&&b.checkBoundaryOfElement(c,CKEDITOR.START)&&b.checkBoundaryOfElement(g,CKEDITOR.END)&&(b=a.range.clone(),b.setStartBefore(c),b.setEndAfter(g),a.purgeTableBookmark=
b.createBookmark())}},detectRanges:function(d,g){g=c(g,d.bookmark);var f=g.clone(),h,l=g.getCommonAncestor();l.is(CKEDITOR.dtd.$tableContent)&&!l.is(e)&&(l=l.getAscendant("table",!0));var k=l;l=new CKEDITOR.dom.elementPath(g.startContainer,k);k=new CKEDITOR.dom.elementPath(g.endContainer,k);l=l.contains("table");k=k.contains("table");if(l||k)l&&k&&b(l,k)?(d.tableSurroundingRange=f,f.setStartAt(l,CKEDITOR.POSITION_AFTER_END),f.setEndAt(k,CKEDITOR.POSITION_BEFORE_START),f=g.clone(),f.setEndAt(l,CKEDITOR.POSITION_AFTER_END),
h=g.clone(),h.setStartAt(k,CKEDITOR.POSITION_BEFORE_START),h=a(f).concat(a(h))):l?k||(d.tableSurroundingRange=f,f.setStartAt(l,CKEDITOR.POSITION_AFTER_END),g.setEndAt(l,CKEDITOR.POSITION_AFTER_END)):(d.tableSurroundingRange=f,f.setEndAt(k,CKEDITOR.POSITION_BEFORE_START),g.setStartAt(k,CKEDITOR.POSITION_AFTER_START)),d.tableContentsRanges=h?h:a(g)},deleteRanges:purge:function(a){if(a.purgeTableBookmark){var b=a.doc,c=a.range.clone();b=b.createElement("p");b.insertBefore(a.purgeTableBookmark.startNode);c.moveToBookmark(a.purgeTableBookmark);c.deleteContents();a.range.moveToPosition(b,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:fixUneditableRangePosition:autoParagraph:}()})();(function(){function a(a){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(a)}function f(b,c){if(0===b.length||a(b[0].getEnclosedNode()))return!1;if((c=!c&&1===b.length)&&!(c=b[0].collapsed)){var e=b[0];c=e.startContainer.getAscendant({td:1,
th:1},!0);var d=e.endContainer.getAscendant({td:1,th:1},!0);var g=CKEDITOR.tools.trim;c&&c.equals(d)&&!c.findOne("td, th, tr, tbody, table")?(e=e.cloneContents(),c=e.getFirst()?g(e.getFirst().getText())!==g(c.getText()):!0):c=!1}if(c)return!1;for(g=0;g<b.length;g++)if(c=b[g]._getTableElement(),!c)return!1;return!0}function d(a){ar c=[],e;for(e=0;e<a.length;e++){var d=a[e]._getTableElement();d.is&&d.is({td:1,
th:1})?c.push(d):c=c.concat(b(d))}return c}function c(a){a=d(a);var b="",c=[],e,g;for(g=0;g<a.length;g++)e&&!e.equals(a[g].getAscendant("tr"))?(b+=c.join("\t")+"\n",e=a[g].getAscendant("tr"),c=[]):0===g&&(e=a[g].getAscendant("tr")),c.push(a[g].getText());return b+c.join("\t")}unction k(){var b=this._.fakeSelection;if(b){var c=this.getSelection(1);var e;if(!(e=!c)&&(e=!c.isHidden())){e=b;var d=c.getRanges(),g=e.getRanges(),h=d.length&&d[0]._getTableElement()&&d[0]._getTableElement().getAscendant("table",!0),l=g.length&&g[0]._getTableElement()&&g[0]._getTableElement().getAscendant("table",
!0),k=1===d.length&&d[0]._getTableElement()&&d[0]._getTableElement().is("table"),n=1===g.length&&g[0]._getTableElement()&&g[0]._getTableElement().is("table");if(a(e.getSelectedElement()))e=!1;else{var m=1===d.length&&d[0].collapsed;g=f(d,!!CKEDITOR.env.webkit)&&f(g);(h=h&&l?h.equals(l)||l.contains(h):!1)&&(m||g)?(k&&!n&&e.selectRanges(d),e=!0):e=!1}e=!e}e&&(b.reset(),b=0)}if(b||(b=c||this.getSelection(1),b&&b.getType()!=CKEDITOR.SELECTION_NONE))this.fire("selectionCheck",b),c=this.elementPath(),c.compare(this._.selectionPreviousPath)||
(e=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(c.blockLimit),!CKEDITOR.env.webkit&&!CKEDITOR.env.gecko||e||(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=c,this.fire("selectionChange",{selection:b,path:c}))}ion n(a,b){var c=a&&a.removeCustomData("cke-fillingChar");
if(c){if(!1!==b){var e=a.getDocument().getSelection().getNative();b=e&&"None"!=e.type&&e.getRangeAt(0);var d=r.length;if(c.getLength()>d&&b&&b.intersectsNode(c.$)){var g=[{node:e.anchorNode,offset:e.anchorOffset},{node:e.focusNode,offset:e.focusOffset}];e.anchorNode==c.$&&e.anchorOffset>d&&(g[0].offset-=d);e.focusNode==c.$&&e.focusOffset>d&&(g[1].offset-=d)}}c.setText(u(c.getText(),1));g&&(c=a.getDocument().$,e=c.getSelection(),c=c.createRange(),c.setStart(g[0].node,g[0].offset),c.collapse(!0),e.removeAllRanges(),
e.addRange(c),e.extend(g[1].node,g[1].offset))}}unction x(a,b){b=b&&CKEDITOR.tools.htmlEncode(b)||"\x26nbsp;";b=CKEDITOR.dom.element.createFromHtml('\x3cdiv data-cke-hidden-sel\x3d"1" data-cke-temp\x3d"1" style\x3d"'+(CKEDITOR.env.ie&&14>CKEDITOR.env.version?"display:none":"position:fixed;top:0;left:-1000px;width:0;height:0;overflow:hidden;")+'"\x3e'+b+"\x3c/div\x3e",a.document);a.fire("lockSnapshot");a.editable().append(b);
var c=a.getSelection(1),e=a.createRange(),d=c.root.on("selectionchange",function(a){a.cancel()},null,null,0);e.setStartAt(b,CKEDITOR.POSITION_AFTER_START);e.setEndAt(b,CKEDITOR.POSITION_BEFORE_END);c.selectRanges([e]);d.removeListener();a.fire("unlockSnapshot");a._.hiddenSelectionContainer=b}ar p="function"!=typeof window.getSelection,t=1,r=CKEDITOR.tools.repeat("\u200b",7),B=new RegExp(r+"( )?","g"),A,z,w,y=CKEDITOR.dom.walker.invisible(1),D=);CKEDITOR.on("instanceCreated",function(a){ar c=a.editor;c.on("contentDom",function(){nction e(a){var b,c;(b=(b=this.document.getActive())?"input"===b.getName()||"textarea"===b.getName():!1)||(b=this.getSelection(1),(c=d(b))&&!c.equals(l)&&(b.selectElement(c),a.data.preventDefault()))}function d(a){return(a=a.getRanges()[0])?(a=a.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("contenteditable")},
!0))&&"false"===a.getAttribute("contenteditable")?a:null:null}var g=c.document,f=CKEDITOR.document,l=c.editable(),m=g.getBody(),u=g.getDocumentElement(),r=l.isInline(),q,t;CKEDITOR.env.gecko&&l.attachListener(l,"focus",null,null,-2);l.attachListener(l,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",null,null,-1);l.attachListener(l,"mousedown",function(){q=0});if(CKEDITOR.env.ie||CKEDITOR.env.gecko||r)p?l.attachListener(l,"beforedeactivate",a,null,null,-1):l.attachListener(c,"selectionCheck",a,null,null,-1),l.attachListener(l,CKEDITOR.env.webkit||CKEDITOR.env.gecko?
"focusout":"blur",null,null,-1),l.attachListener(l,"mousedown",function(){q=0});if(CKEDITOR.env.ie&&!r){var w;l.attachListener(l,"mousedown",;l.attachListener(l,"mouseup",;if("BackCompat"!=g.$.compatMode){if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat){var x,z;u.on("mousedown",}if(7<CKEDITOR.env.version&&11>CKEDITOR.env.version)u.on("mousedown",}}l.attachListener(l,"selectionchange",k,c);l.attachListener(l,"keyup",h,c);l.attachListener(l,"touchstart",h,c);l.attachListener(l,"touchend",h,c);CKEDITOR.env.ie&&l.attachListener(l,
"keydown",e,c);l.attachListener(l,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",function(){c.forceNextSelectionCheck();c.selectionChange(1)});if(r&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var B;l.attachListener(l,"mousedown",function(){B=1});l.attachListener(g.getDocumentElement(),"mouseup",}else l.attachListener(CKEDITOR.env.ie?l:g.getDocumentElement(),"mouseup",h,c);CKEDITOR.env.webkit&&l.attachListener(g,"keydown",null,null,-1);l.attachListener(l,"keydown",v(c),null,null,-1)});c.on("setData",;c.on("contentDomUnload",function(){c.unlockSelection()});if(CKEDITOR.env.ie9Compat)c.on("beforeDestroy",b,null,null,9);c.on("dataReady",;c.on("loadSnapshot",null,null,100);c.on("key",});if(CKEDITOR.env.webkit)CKEDITOR.on("instanceReady",;CKEDITOR.editor.prototype.selectionChange=CKEDITOR.editor.prototype.getSelection=CKEDITOR.editor.prototype.getSelectedRanges=CKEDITOR.editor.prototype.lockSelection=CKEDITOR.editor.prototype.unlockSelection=CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath};CKEDITOR.dom.document.prototype.getSelection=CKEDITOR.dom.range.prototype.select=CKEDITOR.SELECTION_NONE=1;CKEDITOR.SELECTION_TEXT=2;CKEDITOR.SELECTION_ELEMENT=
3;CKEDITOR.dom.selection=function(a){if(a instanceof CKEDITOR.dom.selection){var b=a;a=a.root}var c=a instanceof CKEDITOR.dom.element;this.rev=b?b.rev:t++;this.document=a instanceof CKEDITOR.dom.document?a:a.getDocument();this.root=c?a:this.document.getBody();this.isLocked=0;this._={cache:{}};if(b)return CKEDITOR.tools.extend(this._.cache,b._.cache),this.isFake=b.isFake,this.isLocked=b.isLocked,this;a=this.getNative();var e;if(a)if(a.getRangeAt)var d=(e=a.rangeCount&&a.getRangeAt(0))&&new CKEDITOR.dom.node(e.commonAncestorContainer);
else{try{e=a.createRange()}catch(K){}d=e&&CKEDITOR.dom.element.get(e.item&&e.item(0)||e.parentElement())}if(!d||d.type!=CKEDITOR.NODE_ELEMENT&&d.type!=CKEDITOR.NODE_TEXT||!this.root.equals(d)&&!this.root.contains(d))this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList;return this};var E={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,
select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:u,_createFillingCharSequenceNode:e,FILLING_CHAR_SEQUENCE:r});CKEDITOR.dom.selection.prototype={getNative:getType:p?function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_TEXT,c=this.getNative();if(!c||!c.rangeCount)b=CKEDITOR.SELECTION_NONE;else if(1==c.rangeCount){c=c.getRangeAt(0);var e=c.startContainer;e==c.endContainer&&1==e.nodeType&&1==c.endOffset-c.startOffset&&E[e.childNodes[c.startOffset].nodeName.toLowerCase()]&&
(b=CKEDITOR.SELECTION_ELEMENT)}return a.type=b},getRanges:function(){var a=p?function(){ar b=function(b,c){b=b.duplicate();b.collapse(c);c=b.parentElement();if(!c.hasChildNodes())return{container:c,offset:0};for(var e=c.children,d,g,f=b.duplicate(),h=0,l=e.length-1,k=-1,n,m;h<=l;)if(k=Math.floor((h+l)/2),d=e[k],f.moveToElementText(d),n=f.compareEndPoints("StartToStart",b),0<n)l=k-1;else if(0>n)h=k+1;else return{container:c,offset:a(d)};if(-1==
k||k==e.length-1&&0>n){f.moveToElementText(c);f.setEndPoint("StartToStart",b);f=f.text.replace(/(\r\n|\r)/g,"\n").length;e=c.childNodes;if(!f)return d=e[e.length-1],d.nodeType!=CKEDITOR.NODE_TEXT?{container:c,offset:e.length}:{container:d,offset:d.nodeValue.length};for(c=e.length;0<f&&0<c;)g=e[--c],g.nodeType==CKEDITOR.NODE_TEXT&&(m=g,f-=g.nodeValue.length);return{container:m,offset:-f}}f.collapse(0<n?!0:!1);f.setEndPoint(0<n?"StartToStart":"EndToStart",b);f=f.text.replace(/(\r\n|\r)/g,"\n").length;
if(!f)return{container:c,offset:a(d)+(0<n?0:1)};for(;0<f;)try{g=d[0<n?"previousSibling":"nextSibling"],g.nodeType==CKEDITOR.NODE_TEXT&&(f-=g.nodeValue.length,m=g),d=g}catch(X){return{container:c,offset:a(d)}}return{container:m,offset:0<n?-f:m.nodeValue.length+f}};return function(){var a=this.getNative(),c=a&&a.createRange(),e=this.getType();if(!a)return[];if(e==CKEDITOR.SELECTION_TEXT)return a=new CKEDITOR.dom.range(this.root),e=b(c,!0),a.setStart(new CKEDITOR.dom.node(e.container),e.offset),e=b(c),
a.setEnd(new CKEDITOR.dom.node(e.container),e.offset),a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&a.collapse(),[a];if(e==CKEDITOR.SELECTION_ELEMENT){e=[];for(var d=0;d<c.length;d++){var g=c.item(d),f=g.parentNode,h=0;for(a=new CKEDITOR.dom.range(this.root);h<f.childNodes.length&&f.childNodes[h]!=g;h++);a.setStart(new CKEDITOR.dom.node(f),h);a.setEnd(new CKEDITOR.dom.node(f),h+1);e.push(a)}return e}return[]}}():function(){var a=
[],b=this.getNative();if(!b)return a;for(var c=0;c<b.rangeCount;c++){var e=b.getRangeAt(c);var d=new CKEDITOR.dom.range(this.root);d.setStart(new CKEDITOR.dom.node(e.startContainer),e.startOffset);d.setEnd(new CKEDITOR.dom.node(e.endContainer),e.endOffset);a.push(d)}return a};return (),getStartElement:function(){var a=this._.cache;if(void 0!==a.startElement)return a.startElement;
switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var b=this.getRanges()[0];if(b){if(b.collapsed){var c=b.startContainer;c.type!=CKEDITOR.NODE_ELEMENT&&(c=c.getParent())}else{for(b.optimize();c=b.startContainer,b.startOffset==(c.getChildCount?c.getChildCount():c.getLength())&&!c.isBlockBoundary();)b.setStartAfter(c);c=b.startContainer;if(c.type!=CKEDITOR.NODE_ELEMENT)return c.getParent();if((c=c.getChild(b.startOffset))&&c.type==CKEDITOR.NODE_ELEMENT)for(b=
c.getFirst();b&&b.type==CKEDITOR.NODE_ELEMENT;)c=b,b=b.getFirst();else c=b.startContainer}c=c.$}}return a.startElement=c?new CKEDITOR.dom.element(c):null},getSelectedElement:getSelectedText:function(){var a=this._.cache;if(void 0!==a.selectedText)return a.selectedText;var b=this.getNative();b=p?"Control"==b.type?"":b.createRange().text:b.toString();return a.selectedText=b},lock:unlock:reset:selectElement:selectRanges:function(a){var c=this.root.editor,d=c&&c._.hiddenSelectionContainer;this.reset();if(d){d=this.root;for(var g,h=0;h<a.length;++h)g=a[h],g.endContainer.equals(d)&&(g.endOffset=
Math.min(g.endOffset,d.getChildCount()))}if(a.length)if(this.isLocked){var k=CKEDITOR.document.getActive();this.unlock();this.selectRanges(a);this.lock();k&&!k.equals(this.root)&&k.focus()}else{var m;var u,r;if(1!=a.length||(r=a[0]).collapsed||!(m=r.getEnclosedNode())||m.type!=CKEDITOR.NODE_ELEMENT||(r=r.clone(),r.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(u=r.getEnclosedNode())&&u.type==CKEDITOR.NODE_ELEMENT&&(m=u),"false"!=m.getAttribute("contenteditable")))m=void 0;if(m)this.fake(m);else if(c&&c.plugins.tableselection&&
c.plugins.tableselection.isSupportedEnvironment(c)&&f(a)&&!A&&!a[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored"))b.call(this,a);else{if(p){u=CKEDITOR.dom.walker.whitespaces(!0);m=/\ufeff|\u00a0/;r={table:1,tbody:1,tr:1};1<a.length&&(c=a[a.length-1],a[0].setEnd(c.endContainer,c.endOffset));c=a[0];a=c.collapsed;var q,t;if((d=c.getEnclosedNode())&&d.type==CKEDITOR.NODE_ELEMENT&&d.getName()in E&&(!d.is("a")||!d.getText()))try{var w=d.$.createControlRange();w.addElement(d.$);
w.select();return}catch(S){}if(c.startContainer.type==CKEDITOR.NODE_ELEMENT&&c.startContainer.getName()in r||c.endContainer.type==CKEDITOR.NODE_ELEMENT&&c.endContainer.getName()in r)c.shrink(CKEDITOR.NODE_ELEMENT,!0),a=c.collapsed;w=c.createBookmark();r=w.startNode;a||(k=w.endNode);w=c.document.$.body.createTextRange();w.moveToElementText(r.$);w.moveStart("character",1);k?(m=c.document.$.body.createTextRange(),m.moveToElementText(k.$),w.setEndPoint("EndToEnd",m),w.moveEnd("character",-1)):(q=r.getNext(u),
t=r.hasAscendant("pre"),q=!(q&&q.getText&&q.getText().match(m))&&(t||!r.hasPrevious()||r.getPrevious().is&&r.getPrevious().is("br")),t=c.document.createElement("span"),t.setHtml("\x26#65279;"),t.insertBefore(r),q&&c.document.createText("\ufeff").insertBefore(r));c.setStartBefore(r);r.remove();a?(q?(w.moveStart("character",-1),w.select(),c.document.$.selection.clear()):w.select(),c.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START),t.remove()):(c.setEndBefore(k),k.remove(),w.select())}else{k=this.getNative();
if(!k)return;this.removeAllRanges();for(w=0;w<a.length;w++)if(w<a.length-1&&(q=a[w],t=a[w+1],m=q.clone(),m.setStart(q.endContainer,q.endOffset),m.setEnd(t.startContainer,t.startOffset),!m.collapsed&&(m.shrink(CKEDITOR.NODE_ELEMENT,!0),c=m.getCommonAncestor(),m=m.getEnclosedNode(),c.isReadOnly()||m&&m.isReadOnly())))t.setStart(q.startContainer,q.startOffset),a.splice(w--,1);else{c=a[w];t=this.document.$.createRange();c.collapsed&&CKEDITOR.env.webkit&&l(c)&&(m=e(this.root),c.insertNode(m),(q=m.getNext())&&
!m.getPrevious()&&q.type==CKEDITOR.NODE_ELEMENT&&"br"==q.getName()?(n(this.root),c.moveToPosition(q,CKEDITOR.POSITION_BEFORE_START)):c.moveToPosition(m,CKEDITOR.POSITION_AFTER_END));t.setStart(c.startContainer.$,c.startOffset);try{t.setEnd(c.endContainer.$,c.endOffset)}catch(S){if(0<=S.toString().indexOf("NS_ERROR_ILLEGAL_VALUE"))c.collapse(1),t.setEnd(c.endContainer.$,c.endOffset);else throw S;}k.addRange(t)}}this.reset();this.root.fire("selectionchange")}}},fake:function(a,b){var c=this.root.editor;
void 0===b&&a.hasAttribute("aria-label")&&(b=a.getAttribute("aria-label"));this.reset();x(c,b);b=this._.cache;var e=new CKEDITOR.dom.range(this.root);e.setStartBefore(a);e.setEndAfter(a);b.ranges=new CKEDITOR.dom.rangeList(e);b.selectedElement=b.startElement=a;b.type=CKEDITOR.SELECTION_ELEMENT;b.selectedText=b.nativeSel=null;this.isFake=1;this.rev=t++;c._.fakeSelection=this;this.root.fire("selectionchange")},isHidden:isInTable:isCollapsed:createBookmarks:function(a){a=this.getRanges().createBookmarks(a);this.isFake&&(a.isFake=1);return a},createBookmarks2:selectBookmarks:getCommonAncestor:scrollIntoView:removeAllRanges:})();"use strict";CKEDITOR.STYLE_BLOCK=1;CKEDITOR.STYLE_INLINE=2;CKEDITOR.STYLE_OBJECT=3;(function(){nction d(c){var e=
c.document;if(c.collapsed)e=t(this,e),c.insertNode(e),c.moveToPosition(e,CKEDITOR.POSITION_BEFORE_END);else{var g=this.element,h=this._.definition,l,k=h.ignoreReadonly,n=k||h.includeReadonly;null==n&&(n=c.root.getCustomData("cke_includeReadonly"));var m=CKEDITOR.dtd[g];m||(l=!0,m=CKEDITOR.dtd.span);c.enlarge(CKEDITOR.ENLARGE_INLINE,1);c.trim();var p=c.createBookmark(),u=p.startNode,r=p.endNode,q=u,w;if(!k){var x=c.getCommonAncestor();k=a(u,x);x=a(r,x);k&&(q=k.getNextSourceNode(!0));x&&(r=x)}for(q.getPosition(r)==
CKEDITOR.POSITION_FOLLOWING&&(q=0);q;){k=!1;if(q.equals(r))q=null,k=!0;else{var z=q.type==CKEDITOR.NODE_ELEMENT?q.getName():null;x=z&&"false"==q.getAttribute("contentEditable");var B=z&&q.getAttribute("data-nostyle");if(z&&q.data("cke-bookmark")||q.type===CKEDITOR.NODE_COMMENT){q=q.getNextSourceNode(!0);continue}if(x&&n&&CKEDITOR.dtd.$block[z]){var A=q,y=b(A),E=void 0,P=y.length,L=0;for(A=P&&new CKEDITOR.dom.range(A.getDocument());L<P;++L){E=y[L];var W=CKEDITOR.filter.instances[E.data("cke-filter")];
if(W?W.check(this):1)A.selectNodeContents(E),d.call(this,A)}}if(y=z?!m[z]||B?0:x&&!n?0:f(q,r,h,O):1)if(E=q.getParent(),y=h,P=g,L=l,!E||!(E.getDtd()||CKEDITOR.dtd.span)[P]&&!L||y.parentRule&&!y.parentRule(E))k=!0;else{if(w||z&&CKEDITOR.dtd.$removeEmpty[z]&&(q.getPosition(r)|O)!=O||(w=c.clone(),w.setStartBefore(q)),z=q.type,z==CKEDITOR.NODE_TEXT||x||z==CKEDITOR.NODE_ELEMENT&&!q.getChildCount()){z=q;for(var ha;(k=!z.getNext(H))&&(ha=z.getParent(),m[ha.getName()])&&f(ha,u,h,K);)z=ha;w.setEndAfter(z)}}else k=
!0;q=q.getNextSourceNode(B||x)}if(k&&w&&!w.collapsed){k=t(this,e);x=k.hasAttributes();B=w.getCommonAncestor();z={};y={};E={};P={};for(var V,D,J;k&&B;){if(B.getName()==g){for(V in h.attributes)!P[V]&&(J=B.getAttribute(D))&&(k.getAttribute(V)==J?y[V]=1:P[V]=1);for(D in h.styles)!E[D]&&(J=B.getStyle(D))&&(k.getStyle(D)==J?z[D]=1:E[D]=1)}B=B.getParent()}for(V in y)k.removeAttribute(V);for(D in z)k.removeStyle(D);x&&!k.hasAttributes()&&(k=null);k?(w.extractContents().appendTo(k),w.insertNode(k),v.call(this,
k),k.mergeSiblings(),CKEDITOR.env.ie||k.$.normalize()):(k=new CKEDITOR.dom.element("span"),w.extractContents().appendTo(k),w.insertNode(k),v.call(this,k),k.remove(!0));w=null}}c.moveToBookmark(p);c.shrink(CKEDITOR.SHRINK_TEXT);c.shrink(CKEDITOR.NODE_ELEMENT,!0)}}unction b(a){var b=[];a.forEach(function(a){if("true"==a.getAttribute("contenteditable"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function h(a){var b=a.getCommonAncestor(!0,!0);if(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1)){b=this._.definition;var c=b.attributes;if(c)for(var e in c)a.removeAttribute(e,c[e]);if(b.styles)for(var d in b.styles)b.styles.hasOwnProperty(d)&&a.removeStyle(d)}}nction l(a,b){var c=
!b;c&&(b=a.getDocument().createElement("div"),a.copyAttributes(b));var d=b&&b.is("pre"),g=a.is("pre"),f=!d&&g;d&&!g?(g=b,(f=a.getBogus())&&f.remove(),f=a.getHtml(),f=n(f,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,""),f=f.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1"),f=f.replace(/([ \t\n\r]+|&nbsp;)/g," "),f=f.replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie?(b=a.getDocument().createElement("div"),b.append(g),g.$.outerHTML="\x3cpre\x3e"+f+"\x3c/pre\x3e",g.copyAttributes(b.getFirst()),g=b.getFirst().remove()):
g.setHtml(f),b=g):f?b=u(c?[a.getHtml()]:e(a),b):a.moveChildren(b);b.replace(a);if(d){c=b;var h;(h=c.getPrevious(N))&&h.type==CKEDITOR.NODE_ELEMENT&&h.is("pre")&&(d=n(h.getHtml(),/\n$/,"")+"\n\n"+n(c.getHtml(),/^\n/,""),CKEDITOR.env.ie?c.$.outerHTML="\x3cpre\x3e"+d+"\x3c/pre\x3e":c.setHtml(d),h.remove())}else c&&p(b)}nction u(a,b){var c;1<a.length&&(c=new CKEDITOR.dom.documentFragment(b.getDocument()));for(var e=0;e<a.length;e++){var d=a[e];d=d.replace(/(\r\n|\r)/g,"\n");d=n(d,/^[ \t]*\n/,"");d=n(d,/\n$/,"");d=n(d,/^[ \t]+|[ \t]+$/g,;d=d.replace(/\n/g,"\x3cbr\x3e");d=d.replace(/[ \t]{2,}/g,;if(c){var g=b.clone();g.setHtml(d);c.append(g)}else b.setHtml(d)}return c||b}function x(a,b){var c=this._.definition,e=c.attributes;c=c.styles;var d=A(this)[a.getName()],g=CKEDITOR.tools.isEmpty(e)&&CKEDITOR.tools.isEmpty(c),f;for(f in e)if("class"!=f&&!this._.definition.fullMatch||
a.getAttribute(f)==z(f,e[f]))b&&"data-"==f.slice(0,5)||(g=a.hasAttribute(f),a.removeAttribute(f));for(var h in c)this._.definition.fullMatch&&a.getStyle(h)!=z(h,c[h],!0)||(g=g||!!a.getStyle(h),a.removeStyle(h));q(a,d,D[a.getName()]);g&&(this._.definition.alwaysRemoveElement?p(a,1):!CKEDITOR.dtd.$block[a.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!a.hasAttributes()?p(a):a.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}nction p(a,b){if(!a.hasAttributes()||b)if(CKEDITOR.dtd.$block[a.getName()]){b=a.getPrevious(N);
var c=a.getNext(N);!b||b.type!=CKEDITOR.NODE_TEXT&&b.isBlockBoundary({br:1})||a.append("br",1);!c||c.type!=CKEDITOR.NODE_TEXT&&c.isBlockBoundary({br:1})||a.append("br");a.remove(!0)}else b=a.getFirst(),c=a.getLast(),a.remove(!0),b&&(b.type==CKEDITOR.NODE_ELEMENT&&b.mergeSiblings(),c&&!b.equals(c)&&c.type==CKEDITOR.NODE_ELEMENT&&c.mergeSiblings())}function t(a,b,c){var e=a.element;"*"==e&&(e="span");e=new CKEDITOR.dom.element(e,b);c&&c.copyAttributes(e);e=r(e,a);b.getCustomData("doc_processing_style")&&
e.hasAttribute("id")?e.removeAttribute("id"):b.setCustomData("doc_processing_style",1);return e}function r(a,b){b=b._.definition;var c=b.attributes;b=CKEDITOR.style.getStyleText(b);if(c)for(var e in c)a.setAttribute(e,c[e]);b&&a.setAttribute("style",b);a.getDocument().removeCustomData("doc_processing_style");return a}unction A(a){if(a._.overrides)return a._.overrides;var b=a._.overrides={},c=a._.definition.overrides;if(c){CKEDITOR.tools.isArray(c)||
(c=[c]);for(var e=0;e<c.length;e++){var d=c[e],g,f;"string"==typeof d?g=d.toLowerCase():(g=d.element?d.element.toLowerCase():a.element,f=d.attributes);d=b[g]||(b[g]={});if(f){d=d.attributes=d.attributes||[];for(var h in f)d.push([h.toLowerCase(),f[h]])}}}return b} D={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,
hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},E={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},F=/\s*(?:;\s*|$)/,G=/#\((.+?)\)/g,H=CKEDITOR.dom.walker.bookmark(0,1),N=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=CKEDITOR.style.prototype={apply:remove:applyToRange:function(a){this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?d:this.type==
CKEDITOR.STYLE_BLOCK?m:this.type==CKEDITOR.STYLE_OBJECT?k:null;return this.applyToRange(a)},removeFromRange:applyToObject:checkActive:checkApplicable:
checkElementMatch:function(a,b){var c=this._.definition;if(!a||!c.ignoreReadonly&&a.isReadOnly())return!1;var e=a.getName();if("string"==typeof this.element?e==this.element:e in this.element){if(!b&&!a.hasAttributes())return!0;if(e=c._AC)c=e;else{e={};var d=0,g=c.attributes;if(g)for(var f in g)d++,e[f]=g[f];if(f=CKEDITOR.style.getStyleText(c))e.style||d++,e.style=f;e._length=d;c=c._AC=e}if(c._length){for(var h in c)if("_length"!=h)if(e=a.getAttribute(h)||"","style"==h?w(c[h],e):c[h]==e){if(!b)return!0}else if(b)return!1;
if(b)return!0}else return!0}return!1},checkElementRemovable:buildPreview:function(a){var b=this._.definition,c=b.element;"bdo"==c&&(c="span");var e=["\x3c",c];var d=b.attributes;if(d)for(var g in d)e.push(" ",g,
'\x3d"',d[g],'"');(d=CKEDITOR.style.getStyleText(b))&&e.push(' style\x3d"',d,'"');e.push("\x3e",a||b.name,"\x3c/",c,"\x3e");return e.join("")},getDefinition:function(){return this._.definition}};CKEDITOR.style.getStyleText=function(a){var b=a._ST;if(b)return b;b=a.styles;var c=a.attributes&&a.attributes.style||"",e="";c.length&&(c=c.replace(F,";"));for(var d in b){var g=b[d],f=(d+":"+g).replace(F,";");"inherit"==g?e+=f:c+=f}c.length&&(c=CKEDITOR.tools.normalizeCssText(c,!0));return a._ST=c+e};CKEDITOR.style.customHandlers=
{};CKEDITOR.style.addCustomHandler=var O=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,K=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED})();CKEDITOR.styleCommand=CKEDITOR.styleCommand.prototype.exec=CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet");CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet);CKEDITOR.loadStylesSet=CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:applyStyle:function(a){a.apply(this)},removeStyle:function(a){a.remove(this)},getStylesSet:function(a){if(this._.stylesDefinitions)a(this._.stylesDefinitions);
else{var f=this,d=f.config.stylesCombo_stylesSet||f.config.stylesSet;if(!1===d)a(null);else if(d instanceof Array)f._.stylesDefinitions=d,a(d);else{d||(d="default");d=d.split(":");var c=d[0];CKEDITOR.stylesSet.addExternal(c,d[1]?d.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),"");CKEDITOR.stylesSet.load(c,}}}});(();(function(){ar f=!0,d=!1;CKEDITOR.dom.selection.setupEditorOptimization=
CKEDITOR.dom.selection.prototype.optimizeInElementEnds=function(){var c=this.getRanges()[0],b=this.root.editor;if(this.root.editor._.shiftPressed||this.isFake||c.isCollapsed||c.startContainer.equals(c.endContainer))var d=
!1;else if(0===c.endOffset)d=!0;else{d=c.startContainer.type===CKEDITOR.NODE_TEXT;var h=c.endContainer.type===CKEDITOR.NODE_TEXT,m=d?c.startContainer.getLength():c.startContainer.getChildCount();d=c.startOffset===m||d^h}d&&(d=c.clone(),c.shrink(CKEDITOR.SHRINK_TEXT,!1,{skipBogus:!CKEDITOR.env.webkit}),f=!1,a(b,c,d),c.select(),f=!0)}})();CKEDITOR.dom.comment=function(a,f){"string"==typeof a&&(a=(f?f.$:document).createComment(a));CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node;
CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:);"use strict";(function(){var a={},f={},d;for(d in CKEDITOR.dtd.$blockLimit)d in CKEDITOR.dtd.$list||(a[d]=1);for(d in CKEDITOR.dtd.$block)d in CKEDITOR.dtd.$blockLimit||d in CKEDITOR.dtd.$empty||(f[d]=1);CKEDITOR.dom.elementPath=function(c,b){var d=null,h=null,m=[],g=c,l;b=b||c.getDocument().getBody();g||(g=b);do if(g.type==CKEDITOR.NODE_ELEMENT&&(m.push(g),
this.lastElement||(this.lastElement=g,!g.is(CKEDITOR.dtd.$object)&&"false"!=g.getAttribute("contenteditable")))){if(g.equals(b))break;if(!h&&(l=g.getName(),"true"==g.getAttribute("contenteditable")?h=g:!d&&f[l]&&(d=g),a[l])){if(l=!d&&"div"==l){a:{l=g.getChildren();c=0;for(var e=l.count();c<e;c++){var n=l.getItem(c);if(n.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[n.getName()]){l=!0;break a}}l=!1}l=!l}l?d=g:h=g}}while(g=g.getParent());h||(h=b);this.block=d;this.blockLimit=h;this.root=b;this.elements=
m}})();CKEDITOR.dom.elementPath.prototype={compare:contains:function(a,f,d){var c=0,b;"string"==typeof a&&(b=;a instanceof CKEDITOR.dom.element?b=CKEDITOR.tools.isArray(a)?b="function"==typeof a?b=a:"object"==typeof a&&(b=;var k=this.elements,h=k.length;f&&(d?c+=1:--h);for(d&&(k=Array.prototype.slice.call(k,0),k.reverse());c<h;c++)if(b(k[c]))return k[c];return null},isContextFor:direction:;CKEDITOR.dom.text=CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node;CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(a){this.$.nodeValue=a},isEmpty:split:substring:);(();(function(){unction f(b){var c=CKEDITOR.skin["ua_"+b],d=CKEDITOR.env;if(c){c=c.split(",").sort(;for(var g=0,f;g<c.length;g++)if(f=c[g],d.ie&&(f.replace(/^ie/,"")==d.version||d.quirks&&"iequirks"==f)&&(f="ie"),d[f]){b+="_"+c[g];break}}return CKEDITOR.getUrl(a()+b+".css")}nction b(a,b,c){var e,d;if(CKEDITOR.env.webkit)for(b=b.split("}").slice(0,-1),d=0;d<b.length;d++)b[d]=b[d].split("{");for(var g=0;g<a.length;g++)if(CKEDITOR.env.webkit)for(d=0;d<b.length;d++){var f=b[d][1];for(e=0;e<c.length;e++)f=f.replace(c[e][0],c[e][1]);a[g].$.sheet.addRule(b[d][0],f)}else{f=b;for(e=0;e<c.length;e++)f=f.replace(c[e][0],c[e][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?a[g].$.styleSheet.cssText+=f:a[g].$.innerHTML+=f}}var k={};CKEDITOR.skin=
{path:a,loadPart:getPath:icons:{},addIcon:getIconStyle:;CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:);var h="cke_ui_color",
m=[],g=/\$color/g;CKEDITOR.on("instanceLoaded",})();
(();CKEDITOR.skin.name="moono";CKEDITOR.skin.ua_editor="ie,iequirks,ie7,ie8,gecko";CKEDITOR.skin.ua_dialog="ie,iequirks,ie7,ie8";CKEDITOR.skin.chameleon=function(){var a=function(){return function(a,b){a=a.match(/[^#]./g);for(var c=0;3>c;c++){var d=c;var f=parseInt(a[c],16);f=("0"+(0>b?0|f*(1+
b):0|f+(255-f)*b).toString(16)).slice(-2);a[d]=f}return"#"+a.join("")}}(),f=),d={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ {defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_bottom [{defaultGradient}border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [{defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [{defaultGradient}outline-color:{defaultBorder};border-top-color:{defaultBorder};] {id} .cke_dialog_tab [{lightGradient}border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [{mediumGradient}] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} .cke_toolgroup [{lightGradient}border-color:{defaultBorder};] {id} a.cke_button_off:hover, {id} a.cke_button_off:focus, {id} a.cke_button_off:active [{mediumGradient}] {id} .cke_button_on [{ckeButtonOn}] {id} .cke_toolbar_separator [background-color: {ckeToolbarSeparator};] {id} .cke_combo_button [border-color:{defaultBorder};{lightGradient}] {id} a.cke_combo_button:hover, {id} a.cke_combo_button:focus, {id} .cke_combo_on a.cke_combo_button [border-color:{defaultBorder};{mediumGradient}] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover, {id} a.cke_path_item:focus, {id} a.cke_path_item:active [background-color:{elementsPathBg};] {id}.cke_panel [border-color:{defaultBorder};] "),
panel:new CKEDITOR.template(".cke_panel_grouptitle [{lightGradient}border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:focus.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:focus.cke_colorauto, a:focus.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};
return function(c,b){var k=c.uiColor;k={id:"."+c.id,defaultBorder:a(k,-.1),defaultGradient:f(a(k,.9),k),lightGradient:f(a(k,1),a(k,.7)),mediumGradient:f(a(k,.8),a(k,.5)),ckeButtonOn:f(a(k,.6),a(k,.7)),ckeResizer:a(k,-.4),ckeToolbarSeparator:a(k,.5),ckeColorauto:a(k,.8),dialogBody:a(k,.7),dialogTabSelected:f("#FFFFFF","#FFFFFF"),dialogTabSelectedBorder:"#FFF",elementsPathColor:a(k,-.6),elementsPathBg:k,menubuttonIcon:a(k,.5),menubuttonIconHover:a(k,.3)};return d[b].output(k).replace(/\[/g,"{").replace(/\]/g,
"}")}}();CKEDITOR.plugins.add("dialogui",{onLoad:function(){var a=f={build:,d={build:,c={isChanged:reset:setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:getInitValue:function(){return this._.initValue}},b=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:,!0),k=/^on([A-Z]\w+)/,h=m=CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:textInput:textarea:checkbox:radio:function(b,c,e){if(!(3>arguments.length)){a.call(this,c);this._["default"]||(this._["default"]=this._.initValue=c.items[0][1]);c.validate&&(this.validate=c.validate);var d=[],g=this;c.role="radiogroup";c.includeLabel=!0;CKEDITOR.ui.dialog.labeledElement.call(this,
b,c,e,function(){for(var a=[],e=[],f=(c.id?c.id:CKEDITOR.tools.getNextId())+"_radio",l=0;l<c.items.length;l++){var k=c.items[l],n=void 0!==k[2]?k[2]:k[0],m=void 0!==k[1]?k[1]:k[0],u=CKEDITOR.tools.getNextId()+"_radio_input",z=u+"_label";u=CKEDITOR.tools.extend({},c,{id:u,title:null,type:null},!0);n=CKEDITOR.tools.extend({},u,{title:n},!0);var w={type:"radio","class":"cke_dialog_ui_radio_input",name:f,value:m,"aria-labelledby":z},y=[];g._["default"]==m&&(w.checked="checked");h(u);h(n);"undefined"!=
typeof u.inputStyle&&(u.style=u.inputStyle);u.keyboardFocusable=!0;d.push(new CKEDITOR.ui.dialog.uiElement(b,u,y,"input",null,w));y.push(" ");new CKEDITOR.ui.dialog.uiElement(b,n,y,"label",null,{id:z,"for":w.id},k[0]);a.push(y.join(""))}new CKEDITOR.ui.dialog.hbox(b,d,a,e);return e.join("")});this._.children=d}},button:select:file:fileButton:html:),
fieldset:,!0);CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement;CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:getLabel:eventProcessors:b},!0);CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:enable:disable:isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:,!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},
keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:focus:select:accessKeyUp:function(){this.select()},setValue:getValue:setDirectionMarker:getDirectionMarker:keyboardFocusable:!0},c,!0);CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput;CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:remove:clear:keyboardFocusable:!0},c,!0);CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:setValue:getValue:accessKeyUp:eventProcessors:{onChange:,keyboardFocusable:!0},
c,!0);CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:getValue:accessKeyUp:eventProcessors:{onChange:},c,!0);CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,
c,{getInputElement:submit:getAction:registerEvents:function(a){var b=/^on([A-Z]\w+)/,c,d=function(a,b,c,e){a.on("formLoaded",function(){a.getInputElement().on(c,e,a)})},g;for(g in a)if(c=g.match(b))this.eventProcessors[g]?
this.eventProcessors[g].call(this,this._.dialog,a[g]):d(this,this._.dialog,c[1].toLowerCase(),a[g]);return this},reset:getValue:setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:,keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button;CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype);CKEDITOR.dialog.addUIElement("text",f);CKEDITOR.dialog.addUIElement("password",f);CKEDITOR.dialog.addUIElement("tel",f);CKEDITOR.dialog.addUIElement("textarea",d);CKEDITOR.dialog.addUIElement("checkbox",
d);CKEDITOR.dialog.addUIElement("radio",d);CKEDITOR.dialog.addUIElement("button",d);CKEDITOR.dialog.addUIElement("select",d);CKEDITOR.dialog.addUIElement("file",d);CKEDITOR.dialog.addUIElement("fileButton",d);CKEDITOR.dialog.addUIElement("html",d);CKEDITOR.dialog.addUIElement("fieldset",{build:function(a,b,c){for(var e=b.children,d,g=[],f=[],h=0;h<e.length&&(d=e[h]);h++){var k=[];g.push(k);f.push(CKEDITOR.dialog._.uiElementBuilders[d.type].build(a,d,k))}return new CKEDITOR.ui.dialog[b.type](a,f,g,
c,b)}})}});CKEDITOR.DIALOG_RESIZE_NONE=0;CKEDITOR.DIALOG_RESIZE_WIDTH=1;CKEDITOR.DIALOG_RESIZE_HEIGHT=2;CKEDITOR.DIALOG_RESIZE_BOTH=3;CKEDITOR.DIALOG_STATE_IDLE=1;CKEDITOR.DIALOG_STATE_BUSY=2;(function(){ction c(a,b){a=a.$.getElementsByTagName("input");for(var c=0,e=a.length;c<e;c++){var d=new CKEDITOR.dom.element(a[c]);"text"==d.getAttribute("type").toLowerCase()&&(b?(d.setAttribute("value",d.getCustomData("fake_value")||""),d.removeCustomData("fake_value")):
(d.setCustomData("fake_value",d.getAttribute("value")),d.setAttribute("value","")))}} u(a){function b(b){var c="rtl"==g.lang.dir,m=n.width,p=n.height,u=m+(b.data.$.screenX-l.x)*(c?-1:1)*(a._.moved?1:2),r=p+(b.data.$.screenY-l.y)*(a._.moved?1:2),L=a._.element.getFirst();L=c&&parseInt(L.getComputedStyle("right"),10);var w=a.getPosition();w.x=w.x||
0;w.y=w.y||0;w.y+r>k.height&&(r=k.height-w.y);(c?L:w.x)+u>k.width&&(u=k.width-(c?L:w.x));r=Math.floor(r);u=Math.floor(u);if(d==CKEDITOR.DIALOG_RESIZE_WIDTH||d==CKEDITOR.DIALOG_RESIZE_BOTH)m=Math.max(e.minWidth||0,u-f);if(d==CKEDITOR.DIALOG_RESIZE_HEIGHT||d==CKEDITOR.DIALOG_RESIZE_BOTH)p=Math.max(e.minHeight||0,r-h);a.resize(m,p);a._.moved&&x(a,a._.position.x,a._.position.y);a._.moved||a.layout();b.data.preventDefault()}ar e=a.definition,d=e.resizable;if(d!=CKEDITOR.DIALOG_RESIZE_NONE){var g=a.getParentEditor(),f,h,k,l,n,m,p=CKEDITOR.tools.addFunction(;a.on("load",;g.on("destroy",function(){CKEDITOR.tools.removeFunction(p)})}}function x(a,b,c){var e=a.parts.dialog.getParent().getClientSize(),
d=a.getSize(),g=a._.viewportRatio,f=Math.max(e.width-d.width,0);e=Math.max(e.height-d.height,0);g.width=f?b/f:g.width;g.height=e?c/e:g.height;a._.viewportRatio=g}unction q(a){var b=a.config,c=CKEDITOR.skinName||a.config.skin,e=b.dialog_backgroundCoverColor||("moono-lisa"==c?"black":"white");c=b.dialog_backgroundCoverOpacity;var d=b.baseFloatZIndex;b=CKEDITOR.tools.genKey(e,c,d);var g=K[b];CKEDITOR.document.getBody().addClass("cke_dialog_open");g?g.show():(d=
['\x3cdiv tabIndex\x3d"-1" style\x3d"position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",d,"; top: 0px; left: 0px; ","; width: 100%; height: 100%;",CKEDITOR.env.ie6Compat?"":"background-color: "+e,'" class\x3d"cke_dialog_background_cover"\x3e'],CKEDITOR.env.ie6Compat&&(e="\x3chtml\x3e\x3cbody style\x3d\\'background-color:"+e+";\\'\x3e\x3c/body\x3e\x3c/html\x3e",d.push('\x3ciframe hidefocus\x3d"true" frameborder\x3d"0" id\x3d"cke_dialog_background_iframe" src\x3d"javascript:'),d.push("void((function(){"+
encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+e+"' );document.close();")+"})())"),d.push('" style\x3d"position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity\x3d0)"\x3e\x3c/iframe\x3e')),d.push("\x3c/div\x3e"),g=CKEDITOR.dom.element.createFromHtml(d.join("")),g.setOpacity(void 0!==c?c:.5),g.on("keydown",v),g.on("keypress",v),g.on("keyup",v),g.appendTo(CKEDITOR.document.getBody()),K[b]=g);a.focusManager.add(g);
D=g;CKEDITOR.env.mac&&CKEDITOR.env.webkit||g.focus()}CKEDITOR.tools.cssLength,D,E=!CKEDITOR.env.ie||CKEDITOR.env.edge,F='\x3cdiv class\x3d"cke_reset_all cke_dialog_container {editorId} {editorDialogClass} {hidpi}" dir\x3d"{langDir}" style\x3d"'+(E?"display:flex":"")+'" lang\x3d"{langCode}" role\x3d"dialog" aria-labelledby\x3d"cke_dialog_title_{id}"\x3e\x3ctable class\x3d"cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style\x3d"'+(E?"margin:auto":"position:absolute")+
'" role\x3d"presentation"\x3e\x3ctr\x3e\x3ctd role\x3d"presentation"\x3e\x3cdiv class\x3d"cke_dialog_body" role\x3d"presentation"\x3e\x3cdiv id\x3d"cke_dialog_title_{id}" class\x3d"cke_dialog_title" role\x3d"presentation"\x3e\x3c/div\x3e\x3ca id\x3d"cke_dialog_close_button_{id}" class\x3d"cke_dialog_close_button" href\x3d"javascript:void(0)" title\x3d"{closeTitle}" role\x3d"button"\x3e\x3cspan class\x3d"cke_label"\x3eX\x3c/span\x3e\x3c/a\x3e\x3cdiv id\x3d"cke_dialog_tabs_{id}" class\x3d"cke_dialog_tabs" role\x3d"tablist"\x3e\x3c/div\x3e\x3ctable class\x3d"cke_dialog_contents" role\x3d"presentation"\x3e\x3ctr\x3e\x3ctd id\x3d"cke_dialog_contents_{id}" class\x3d"cke_dialog_contents_body" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd id\x3d"cke_dialog_footer_{id}" class\x3d"cke_dialog_footer" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e';
CKEDITOR.dialog=function(c,e){w=CKEDITOR.dialog._.dialogDefinitions[e],t=CKEDITOR.tools.clone(G),q=c.config.dialog_buttonsOrder||"OS",z=c.lang.dir,v={},x,B;("OS"==q&&CKEDITOR.env.mac||"rtl"==q&&"ltr"==z||"ltr"==q&&"rtl"==z)&&t.buttons.reverse();w=CKEDITOR.tools.extend(w(c),t);w=CKEDITOR.tools.clone(w);w=new l(this,w);t=h(c);this._={editor:c,element:t.element,name:e,model:null,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},
buttons:{},accessKeyMap:{},viewportRatio:{width:.5,height:.5},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1};this.parts=t.parts;CKEDITOR.tools.setTimeout(0,this);t={top:0,visibility:"hidden"};CKEDITOR.env.ie6Compat&&(t.position="absolute");t["rtl"==z?"right":"left"]=0;this.parts.dialog.setStyles(t);CKEDITOR.event.call(this);this.definition=w=CKEDITOR.fire("dialogDefinition",
{name:e,definition:w,dialog:this},c).definition;if(!("removeDialogTabs"in c._)&&c.config.removeDialogTabs){t=c.config.removeDialogTabs.split(";");for(z=0;z<t.length;z++)if(q=t[z].split(":"),2==q.length){var A=q[0];v[A]||(v[A]=[]);v[A].push(q[1])}c._.removeDialogTabs=v}if(c._.removeDialogTabs&&(v=c._.removeDialogTabs[e]))for(z=0;z<v.length;z++)w.removeContents(v[z]);if(w.onLoad)this.on("load",w.onLoad);if(w.onShow)this.on("show",w.onShow);if(w.onHide)this.on("hide",w.onHide);if(w.onOk)this.on("ok",
;this.state=CKEDITOR.DIALOG_STATE_IDLE;if(w.onCancel)this.on("cancel",;var y=this,C=function(a){var b=y._.contents,c;for(c in b)for(var e in b[c])if(a.call(this,b[c][e]))return};this.on("ok",this,null,0);this.on("cancel",this,null,0);this.parts.close.on("click",this);this.changeFocus=m;var E=this._.element;c.focusManager.add(E,1);this.on("show",;this.on("hide",;this.on("iframeAdded",;this.on("show",this,null,4294967295);if(CKEDITOR.env.ie6Compat)this.on("load",this);n(this);u(this);(new CKEDITOR.dom.text(w.title,CKEDITOR.document)).appendTo(this.parts.title);for(z=0;z<w.contents.length;z++)(v=w.contents[z])&&this.addPage(v);this.parts.tabs.on("click",this);z=[];v=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:w.buttons},z).getChild();this.parts.footer.setHtml(z.join(""));for(z=0;z<v.length;z++)this._.buttons[v[z].id]=v[z]};CKEDITOR.dialog.prototype={destroy:resize:getSize:move:function(a,b,c){var e=this._.element.getFirst(),d="rtl"==this._.editor.lang.dir;CKEDITOR.env.ie&&e.setStyle("zoom","100%");var g=this.parts.dialog.getParent().getClientSize(),f=this.getSize(),h=this._.viewportRatio,k=Math.max(g.width-f.width,0);g=Math.max(g.height-f.height,0);this._.position&&this._.position.x==a&&this._.position.y==b?(a=Math.floor(k*h.width),b=Math.floor(g*h.height)):x(this,a,b);this._.position={x:a,y:b};d&&(a=k-a);b={top:(0<b?b:0)+"px"};b[d?"right":"left"]=(0<a?a:0)+"px";
e.setStyles(b);c&&(this._.moved=1)},getPosition:show:function(){var a=this._.element,b=this.definition,c=CKEDITOR.document.getBody(),e=this._.editor.config.baseFloatZIndex;a.getParent()&&a.getParent().equals(c)?a.setStyle("display",E?"flex":"block"):a.appendTo(c);this.resize(this._.contentSize&&this._.contentSize.width||b.width||b.minWidth,this._.contentSize&&this._.contentSize.height||b.height||b.minHeight);this.reset();null===this._.currentTabId&&
this.selectPage(this.definition.contents[0].id);null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=e);this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10);this.getElement().setStyle("z-index",CKEDITOR.dialog._.currentZIndex);null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,q(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,c=this._.parentDialog.getElement().getFirst(),c.$.style.zIndex-=
Math.floor(e/2),this._.parentDialog.getElement().setStyle("z-index",c.$.style.zIndex),CKEDITOR.dialog._.currentTop=this);a.on("keydown",t);a.on("keyup",r);this._.hasFocus=!1;for(var d in b.contents)if(b.contents[d]){a=b.contents[d];e=this._.tabs[a.id];c=a.requiredContent;var f=0;if(e){for(var h in this._.contents[a.id]){var k=this._.contents[a.id][h];"hbox"!=k.type&&"vbox"!=k.type&&k.getInputElement()&&(k.requiredContent&&!this._.editor.activeFilter.check(k.requiredContent)?k.disable():(k.enable(),
f++))}!f||c&&!this._.editor.activeFilter.check(c)?e[0].addClass("cke_dialog_tab_disabled"):e[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(100,this)},layout:foreach:reset:),setupContent:commitContent:hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{});this._.editor.fire("dialogHide",this);this.selectPage(this._.tabIdList[0]);
var a=this._.element;a.setStyle("display","none");this.parts.dialog.setStyle("visibility","hidden");for(A(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var b=this._.parentDialog.getElement().getFirst();this._.parentDialog.getElement().removeStyle("z-index");b.setStyle("z-index",parseInt(b.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else p(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=
10;else{CKEDITOR.dialog._.currentZIndex=null;a.removeListener("keydown",t);a.removeListener("keyup",r);var c=this._.editor;c.focus();setTimeout(0)}delete this._.parentDialog;this.foreach(;this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:selectPage:updateStyle:hidePage:showPage:getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(a,b){return(a=this._.contents[a])&&a[b]},getValueOf:
setValueOf:getButton:function(a){return this._.buttons[a]},click:function(a){return this._.buttons[a].click()},disableButton:function(a){return this._.buttons[a].disable()},enableButton:getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:addFocusable:function(a,
b){if("undefined"==typeof b)b=this._.focusList.length,this._.focusList.push(new m(this,a,b));else for(this._.focusList.splice(b,0,new m(this,a,b)),a=b+1;a<this._.focusList.length;a++)this._.focusList[a].focusIndex++},setState:getModel:setModel:getMode:;CKEDITOR.tools.extend(CKEDITOR.dialog,{CREATION_MODE:0,EDITING_MODE:1,add:exists:getCurrent:isTabEnabled:okButton:function(){var a=function(a,b){b=b||{};return CKEDITOR.tools.extend({id:"ok",type:"button",label:a.lang.common.ok,"class":"cke_dialog_ui_button_ok",onClick:function(a){a=a.data.dialog;!1!==a.fire("ok",{hide:!0}).hide&&a.hide()}},b,!0)};a.type="button";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,b)},{type:"button"},!0)};return a}(),cancelButton:),addUIElement:function(a,b){this._.uiElementBuilders[a]=b}});CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};CKEDITOR.event.implementOn(CKEDITOR.dialog);CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);
var G={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]};var H=N=O=l.prototype={getContents:function(a){return H(this.contents,a)},getButton:addContents:function(a,b){return N(this.contents,a,b)},addButton:removeContents:function(a){O(this.contents,a)},removeButton:;e.prototype={get:add:remove:;var K={},J={};(function(){CKEDITOR.ui.dialog={uiElement:function(a,b,c,e,d,g,f){if(!(4>arguments.length)){var h=(e.call?e(b):e)||"div",k=["\x3c",h," "],l=(d&&d.call?d(b):d)||{},n=(g&&g.call?g(b):g)||{},m=(f&&f.call?f.call(this,a,b):f)||"",p=this.domId=n.id||CKEDITOR.tools.getNextId()+"_uiElement";b.requiredContent&&!a.getParentEditor().filter.check(b.requiredContent)&&(l.display="none",this.notAllowed=!0);n.id=p;var u={};b.type&&(u["cke_dialog_ui_"+b.type]=1);b.className&&(u[b.className]=
1);b.disabled&&(u.cke_disabled=1);var r=n["class"]&&n["class"].split?n["class"].split(" "):[];for(p=0;p<r.length;p++)r[p]&&(u[r[p]]=1);r=[];for(p in u)r.push(p);n["class"]=r.join(" ");b.title&&(n.title=b.title);u=(b.style||"").split(";");b.align&&(r=b.align,l["margin-left"]="left"==r?0:"auto",l["margin-right"]="right"==r?0:"auto");for(p in l)u.push(p+":"+l[p]);b.hidden&&u.push("display:none");for(p=u.length-1;0<=p;p--)""===u[p]&&u.splice(p,1);0<u.length&&(n.style=(n.style?n.style+"; ":"")+u.join("; "));
for(p in n)k.push(p+'\x3d"'+CKEDITOR.tools.htmlEncode(n[p])+'" ');k.push("\x3e",m,"\x3c/",h,"\x3e");c.push(k.join(""));(this._||(this._={})).dialog=a;"boolean"==typeof b.isChanged&&(this.isChanged=;"function"==typeof b.isChanged&&(this.isChanged=b.isChanged);"function"==typeof b.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,);"function"==typeof b.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,
);CKEDITOR.event.implementOn(this);this.registerEvents(b);this.accessKeyUp&&this.accessKeyDown&&b.accessKey&&B(this,a,"CTRL+"+b.accessKey);var w=this;a.on("load",;CKEDITOR.tools.extend(this,b);this.keyboardFocusable&&(this.tabIndex=b.tabIndex||0,this.focusIndex=a._.focusList.push(this)-1,this.on("focus",)}},hbox:vbox:})();CKEDITOR.ui.dialog.uiElement.prototype={getElement:getInputElement:getDialog:function(){return this._.dialog},setValue:getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:focus:registerEvents:eventProcessors:{onLoad:function(a,b){a.on("load",b,this)},onShow:function(a,b){a.on("show",b,this)},onHide:,accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:enable:isEnabled:isVisible:isFocusable:;CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,
{getChild:,!0);CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox;(();CKEDITOR.dialogCommand=CKEDITOR.dialogCommand.prototype={exec:canUndo:!1,editorFocus:1};(();CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:)})();var ja=!1;CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:);(function(){CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,
cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(a){var f=this;a.addCommand("a11yHelp",{exec:function(){var d=a.langCode;d=f.availableLangs[d]?d:f.availableLangs[d.replace(/-.*/,"")]?d.replace(/-.*/,""):
"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(f.path+"dialogs/lang/"+d+".js"),},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1});a.setKeystroke(CKEDITOR.ALT+48,"a11yHelp");CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js");a.on("ariaEditorHelpLabel",}})})();CKEDITOR.plugins.add("about",{requires:"dialog",init:);CKEDITOR.plugins.add("basicstyles",{init:);CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"};CKEDITOR.config.coreStyles_italic=
{element:"em",overrides:"i"};CKEDITOR.config.coreStyles_underline={element:"u"};CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"};CKEDITOR.config.coreStyles_subscript={element:"sub"};CKEDITOR.config.coreStyles_superscript={element:"sup"};(function(){nction d(c){return{context:"p",allowedContent:{"h1 h2 h3 h4 h5 h6 table ul ol blockquote div tr p div li td":{propertiesOnly:!0,attributes:"dir"}},requiredContent:"p[dir]",refresh:function(a,b){var c=a.config.useComputedState;c=void 0===c||c;if(!c){var e=
b.lastElement;for(var d=a.editable();e&&!(e.getName()in h||e.equals(d));){var g=e.getParent();if(!g)break;e=g}}e=e||b.block||b.blockLimit;e.equals(a.editable())&&(d=a.getSelection().getRanges()[0].getEnclosedNode())&&d.type==CKEDITOR.NODE_ELEMENT&&(e=d);e&&(c=c?e.getComputedStyle("direction"):e.getStyle("direction")||e.getAttribute("dir"),a.getCommand("bidirtl").setState("rtl"==c?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),a.getCommand("bidiltr").setState("ltr"==c?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF));
c=(b.block||b.blockLimit||a.editable()).getDirection(1);c!=(a._.selDir||a.lang.dir)&&(a._.selDir=c,a.fire("contentDirChanged",c))},exec:function(e){var d=e.getSelection(),g=e.config.enterMode,h=d.getRanges();if(h&&h.length){var l={},n=d.createBookmarks();h=h.createIterator();for(var m,r=0;m=h.getNextRange(1);){var B=m.getEnclosedNode();B&&(!B||B.type==CKEDITOR.NODE_ELEMENT&&B.getName()in k)||(B=f(m,b,g));B&&a(B,c,e,l);var A=new CKEDITOR.dom.walker(m),z=n[r].startNode,w=n[r++].endNode;A.evaluator=
for(;B=A.next();)a(B,c,e,l);m=m.createIterator();for(m.enlargeBr=g!=CKEDITOR.ENTER_BR;B=m.getNextParagraph(g==CKEDITOR.ENTER_P?
"p":"div");)a(B,c,e,l)}CKEDITOR.dom.element.clearAllMarkers(l);e.forceNextSelectionCheck();d.selectBookmarks(n);e.focus()}}}}ar b={table:1,ul:1,ol:1,blockquote:1,div:1},k={},h={};CKEDITOR.tools.extend(k,b,{tr:1,p:1,div:1,li:1});CKEDITOR.tools.extend(h,k,{td:1});CKEDITOR.plugins.add("bidi",{init:);for(var m=CKEDITOR.dom.element.prototype,g=["setStyle","removeStyle","setAttribute","removeAttribute"],l=0;l<g.length;l++)m[g[l]]=CKEDITOR.tools.override(m[g[l]],
c)})();(function(){var a={exec:function(a){var d=a.getCommand("blockquote").state,c=a.getSelection(),b=c&&c.getRanges()[0];if(b){var f=c.createBookmarks();if(CKEDITOR.env.ie){var h=f[0].startNode,m=f[0].endNode,g;if(h&&"blockquote"==h.getParent().getName())for(g=h;g=g.getNext();)if(g.type==CKEDITOR.NODE_ELEMENT&&g.isBlockBoundary()){h.move(g,!0);break}if(m&&"blockquote"==m.getParent().getName())for(g=m;g=g.getPrevious();)if(g.type==CKEDITOR.NODE_ELEMENT&&g.isBlockBoundary()){m.move(g);break}}var l=
b.createIterator();l.enlargeBr=a.config.enterMode!=CKEDITOR.ENTER_BR;if(d==CKEDITOR.TRISTATE_OFF){for(h=[];d=l.getNextParagraph();)h.push(d);1>h.length&&(d=a.document.createElement(a.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),m=f.shift(),b.insertNode(d),d.append(new CKEDITOR.dom.text("\ufeff",a.document)),b.moveToBookmark(m),b.selectNodeContents(d),b.collapse(!0),m=b.createBookmark(),h.push(d),f.unshift(m));g=h[0].getParent();b=[];for(m=0;m<h.length;m++)d=h[m],g=g.getCommonAncestor(d.getParent());
for(d={table:1,tbody:1,tr:1,ol:1,ul:1};d[g.getName()];)g=g.getParent();for(m=null;0<h.length;){for(d=h.shift();!d.getParent().equals(g);)d=d.getParent();d.equals(m)||b.push(d);m=d}for(;0<b.length;)if(d=b.shift(),"blockquote"==d.getName()){for(m=new CKEDITOR.dom.documentFragment(a.document);d.getFirst();)m.append(d.getFirst().remove()),h.push(m.getLast());m.replace(d)}else h.push(d);b=a.document.createElement("blockquote");for(b.insertBefore(h[0]);0<h.length;)d=h.shift(),b.append(d)}else if(d==CKEDITOR.TRISTATE_ON){m=
[];for(g={};d=l.getNextParagraph();){for(h=b=null;d.getParent();){if("blockquote"==d.getParent().getName()){b=d.getParent();h=d;break}d=d.getParent()}b&&h&&!h.getCustomData("blockquote_moveout")&&(m.push(h),CKEDITOR.dom.element.setMarker(g,h,"blockquote_moveout",!0))}CKEDITOR.dom.element.clearAllMarkers(g);d=[];h=[];for(g={};0<m.length;)l=m.shift(),b=l.getParent(),l.getPrevious()?l.getNext()?(l.breakParent(l.getParent()),h.push(l.getNext())):l.remove().insertAfter(b):l.remove().insertBefore(b),b.getCustomData("blockquote_processed")||
(h.push(b),CKEDITOR.dom.element.setMarker(g,b,"blockquote_processed",!0)),d.push(l);CKEDITOR.dom.element.clearAllMarkers(g);for(m=h.length-1;0<=m;m--){b=h[m];a:{g=b;l=0;for(var e=g.getChildCount(),n=void 0;l<e&&(n=g.getChild(l));l++)if(n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary()){g=!1;break a}g=!0}g&&b.remove()}if(a.config.enterMode==CKEDITOR.ENTER_BR)for(b=!0;d.length;)if(l=d.shift(),"div"==l.getName()){m=new CKEDITOR.dom.documentFragment(a.document);!b||!l.getPrevious()||l.getPrevious().type==
CKEDITOR.NODE_ELEMENT&&l.getPrevious().isBlockBoundary()||m.append(a.document.createElement("br"));for(b=l.getNext()&&!(l.getNext().type==CKEDITOR.NODE_ELEMENT&&l.getNext().isBlockBoundary());l.getFirst();)l.getFirst().remove().appendTo(m);b&&m.append(a.document.createElement("br"));m.replace(l);b=!1}}c.selectBookmarks(f);a.focus()}},refresh:context:"blockquote",allowedContent:"blockquote",
requiredContent:"blockquote"};CKEDITOR.plugins.add("blockquote",{init:)})();(function(){KEDITOR.plugins.add("notification",{init:);a.prototype={show:update:hide:isVisible:_createElement:function(){var a=this,c=this.editor.lang.common.close;var b=new CKEDITOR.dom.element("div");b.addClass("cke_notification");b.addClass(this._getClass());b.setAttributes({id:this.id,role:"alert","aria-label":this.type});"progress"==this.type&&b.append(this._createProgressElement());var f=new CKEDITOR.dom.element("p");f.addClass("cke_notification_message");
f.setHtml(this.message);b.append(f);f=CKEDITOR.dom.element.createFromHtml('\x3ca class\x3d"cke_notification_close" href\x3d"javascript:void(0)" title\x3d"'+c+'" role\x3d"button" tabindex\x3d"-1"\x3e\x3cspan class\x3d"cke_label"\x3eX\x3c/span\x3e\x3c/a\x3e');b.append(f);f.on("click",;return b},_getClass:_createProgressElement:_getPercentageProgress:_hideAfterTimeout:function(){var a=this;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId);if("number"==typeof this.duration)var c=this.duration;else if("info"==this.type||"success"==this.type)c="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5E3;c&&(a._hideTimeoutId=
setTimeout(function(){a.hide()},c))}};f.prototype={add:remove:_createElement:_attachListeners:_removeListeners:_layout:function(){ar c=this.element,b=this.editor,f=b.ui.contentsElement.getClientRect(),h=b.ui.contentsElement.getDocumentPosition(),m,g,l=c.getClientRect(),e=this._notificationWidth,
n=this._notificationMargin;var u=CKEDITOR.document.getWindow();var x=u.getScrollPosition(),v=u.getViewPaneSize(),q=CKEDITOR.document.getBody(),p=q.getDocumentPosition(),t=CKEDITOR.tools.cssLength;e&&n||(u=this.element.getChild(0),e=this._notificationWidth=u.getClientRect().width,n=this._notificationMargin=parseInt(u.getComputedStyle("margin-left"),10)+parseInt(u.getComputedStyle("margin-right"),10));b.toolbar&&(m=b.ui.space(b.config.toolbarLocation),g=m.getClientRect());m&&m.isVisible()&&g.bottom>
f.top&&g.bottom<f.bottom-l.height?c.setStyles({position:"fixed",top:t(g.bottom)}):0<f.top?c.setStyles({position:"absolute",top:t(h.y)}):h.y+f.height-l.height>x.y?c.setStyles({position:"fixed",top:0}):c.setStyles({position:"absolute",top:t(h.y+f.height-l.height)});var r="fixed"==c.getStyle("position")?f.left:"static"!=q.getComputedStyle("position")?h.x-p.x:h.x;f.width<e+n?h.x+e+n>x.x+v.width?a():c.setStyle("left",t(r)):h.x+e+n>x.x+v.width?c.setStyle("left",t(r)):h.x+f.width/2+e/2+n>x.x+v.width?c.setStyle("left",
t(r-h.x+x.x+v.width-e-n)):0>f.left+f.width-e-n?a():0>f.left+f.width/2-e/2?c.setStyle("left",t(r-h.x+x.x)):c.setStyle("left",t(r+f.width/2-e/2-n/2))}};CKEDITOR.plugins.notification=a})();(function(){var a='\x3ca id\x3d"{id}" class\x3d"cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href\x3d\"javascript:void('{titleJs}')\"")+' title\x3d"{title}" tabindex\x3d"-1" hidefocus\x3d"true" role\x3d"button" aria-labelledby\x3d"{id}_label" aria-describedby\x3d"{id}_description" aria-haspopup\x3d"{hasArrow}" aria-disabled\x3d"{ariaDisabled}"';
CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(a+=' onkeypress\x3d"return false;"');CKEDITOR.env.gecko&&(a+=' onblur\x3d"this.style.cssText \x3d this.style.cssText;"');var f="";CKEDITOR.env.ie&&(f='return false;" onmouseup\x3d"CKEDITOR.tools.getMouseButton(event)\x3d\x3dCKEDITOR.MOUSE_BUTTON_LEFT\x26\x26');a=a+(' onkeydown\x3d"return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus\x3d"return CKEDITOR.tools.callFunction({focusFn},event);" onclick\x3d"'+f+'CKEDITOR.tools.callFunction({clickFn},this);return false;"\x3e\x3cspan class\x3d"cke_button_icon cke_button__{iconName}_icon" style\x3d"{style}"')+
'\x3e\x26nbsp;\x3c/span\x3e\x3cspan id\x3d"{id}_label" class\x3d"cke_button_label cke_button__{name}_label" aria-hidden\x3d"false"\x3e{label}\x3c/span\x3e\x3cspan id\x3d"{id}_description" class\x3d"cke_button_label" aria-hidden\x3d"false"\x3e{ariaShortcut}\x3c/span\x3e{arrowHtml}\x3c/a\x3e';var d=CKEDITOR.addTemplate("buttonArrow",'\x3cspan class\x3d"cke_button_arrow"\x3e'+(CKEDITOR.env.hc?"\x26#9660;":"")+"\x3c/span\x3e"),c=CKEDITOR.addTemplate("button",a);CKEDITOR.plugins.add("button",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_BUTTON,
CKEDITOR.ui.button.handler)}});CKEDITOR.UI_BUTTON="button";CKEDITOR.ui.button=CKEDITOR.ui.button.handler={create:function(a){return new CKEDITOR.ui.button(a)}};CKEDITOR.ui.button.prototype={render:function(a,f){ar k=null,g=CKEDITOR.env,l=this._.id=CKEDITOR.tools.getNextId(),e="",n=this.command,u,x,v;this._.editor=a;var q={id:l,button:this,editor:a,focus:execute:attach:function(a){this.button.attach(a)}},p=CKEDITOR.tools.addFunction(,t=CKEDITOR.tools.addFunction(,r=0;q.clickFn=u=CKEDITOR.tools.addFunction(;this.modes?(k={},a.on("beforeModeUnload",this),a.on("activeFilterChange",b,this),a.on("mode",b,this),!this.readOnly&&a.on("readOnly",b,this)):n&&(n=a.getCommand(n))&&(n.on("state",this),e+=n.state==CKEDITOR.TRISTATE_ON?
"on":n.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off");if(this.directional)a.on("contentDirChanged",this);n?(x=a.getCommandKeystroke(n))&&(v=CKEDITOR.tools.keystrokeToString(a.lang.common.keyboard,x)):e+="off";x=this.name||this.command;var B=null,
A=this.icon;var z=x;this.icon&&!/\./.test(this.icon)?(z=this.icon,A=null):(this.icon&&(B=this.icon),CKEDITOR.env.hidpi&&this.iconHiDpi&&(B=this.iconHiDpi));B?(CKEDITOR.skin.addIcon(B,B),A=null):B=z;e={id:l,name:x,iconName:z,label:this.label,cls:(this.hasArrow?"cke_button_expandable ":"")+(this.className||""),state:e,ariaDisabled:"disabled"==e?"true":"false",title:this.title+(v?" ("+v.display+")":""),ariaShortcut:v?a.lang.common.keyboardShortcut+" "+v.aria:"",titleJs:g.gecko&&!g.hc?"":(this.title||
"").replace("'",""),hasArrow:"string"===typeof this.hasArrow&&this.hasArrow||(this.hasArrow?"true":"false"),keydownFn:p,focusFn:t,clickFn:u,style:CKEDITOR.skin.getIconStyle(B,"rtl"==a.lang.dir,A,this.iconOffset),arrowHtml:this.hasArrow?d.output():""};c.output(e,f);if(this.onRender)this.onRender();return q},setState:getState:toFeature:;CKEDITOR.ui.prototype.addButton=)();(function(){function a(a){function b(){for(var b=
c(),e=CKEDITOR.tools.clone(a.config.toolbarGroups)||f(a),g=0;g<e.length;g++){var h=e[g];if("/"!=h){"string"==typeof h&&(h=e[g]={name:h});var k=h.groups;if(k)for(var l=0;l<k.length;l++){var m=k[l];(m=b[m])&&d(h,m)}(m=b[h.name])&&d(h,m)}}return e}function c(){var b={},c;for(c in a.ui.items){var e=a.ui.items[c];var d=e.toolbar||"others";d=d.split(",");e=d[0];d=parseInt(d[1]||-1,10);b[e]||(b[e]=[]);b[e].push({name:c,order:d})}for(e in b)b[e]=b[e].sort(;return b}unction g(a){var b=[],c;for(c=0;c<a.length;++c){var e=a[c];var g={};"/"==e?b.push(e):CKEDITOR.tools.isArray(e)?(d(g,CKEDITOR.tools.clone(e)),b.push(g)):e.items&&(d(g,CKEDITOR.tools.clone(e.items)),g.name=e.name,b.push(g))}return b}
var l=a.config.removeButtons;l=l&&l.split(",");var e=a.config.toolbar;"string"==typeof e&&(e=a.config["toolbar_"+e]);return a.toolbar=e?g(e):b()}ar d=d.prototype.focus=var c={modes:{wysiwyg:1,source:1},readOnly:1,exec:;
CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(b){var f,h=function(a,c){var d,e="rtl"==b.lang.dir,g=b.config.toolbarGroupCycling,k=e?37:39;e=e?39:37;g=void 0===g||g;switch(c){case 9:case CKEDITOR.SHIFT+9:for(;!d||!d.items.length;)if(d=9==c?(d?d.next:a.toolbar.next)||b.toolbox.toolbars[0]:(d?d.previous:a.toolbar.previous)||b.toolbox.toolbars[b.toolbox.toolbars.length-1],d.items.length)for(a=d.items[f?d.items.length-1:0];a&&!a.focus;)(a=f?a.previous:a.next)||(d=0);a&&a.focus();return!1;
case k:d=a;do d=d.next,!d&&g&&(d=a.toolbar.items[0]);while(d&&!d.focus);d?d.focus():h(a,9);return!1;case 40:return a.button&&a.button.hasArrow?a.execute():h(a,40==c?k:e),!1;case e:case 38:d=a;do d=d.previous,!d&&g&&(d=a.toolbar.items[a.toolbar.items.length-1]);while(d&&!d.focus);d?d.focus():(f=1,h(a,CKEDITOR.SHIFT+9),f=0);return!1;case 27:return b.focus(),!1;case 13:case 32:return a.execute(),!1}return!0};b.on("uiSpace",function(c){if(c.data.space==b.config.toolbarLocation){c.removeListener();b.toolbox=
new d;var g=CKEDITOR.tools.getNextId(),f=['\x3cspan id\x3d"',g,'" class\x3d"cke_voice_label"\x3e',b.lang.toolbar.toolbars,"\x3c/span\x3e",'\x3cspan id\x3d"'+b.ui.spaceId("toolbox")+'" class\x3d"cke_toolbox" role\x3d"group" aria-labelledby\x3d"',g,'" onmousedown\x3d"return false;"\x3e'];g=!1!==b.config.toolbarStartupExpanded;var e,k;b.config.toolbarCanCollapse&&b.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&f.push('\x3cspan class\x3d"cke_toolbox_main"'+(g?"\x3e":' style\x3d"display:none"\x3e'));for(var m=
b.toolbox.toolbars,x=a(b),v=x.length,q=0;q<v;q++){var p=0,t=x[q],r="/"!==t&&("/"===x[q+1]||q==v-1);if(t)if(e&&(f.push("\x3c/span\x3e"),k=e=0),"/"===t)f.push('\x3cspan class\x3d"cke_toolbar_break"\x3e\x3c/span\x3e');else{var B=t.items||t;for(var A=0;A<B.length;A++){var z=B[A];if(z){var w=if(z.type==CKEDITOR.UI_SEPARATOR)k=
e&&z;else{var y=!1!==z.canGroup;if(!p){var D=CKEDITOR.tools.getNextId();p={id:D,items:[]};var E=t.name&&(b.lang.toolbar.toolbarGroups[t.name]||t.name);f.push('\x3cspan id\x3d"',D,'" class\x3d"cke_toolbar'+(r?' cke_toolbar_last"':'"'),E?' aria-labelledby\x3d"'+D+'_label"':"",' role\x3d"toolbar"\x3e');E&&f.push('\x3cspan id\x3d"',D,'_label" class\x3d"cke_voice_label"\x3e',E,"\x3c/span\x3e");f.push('\x3cspan class\x3d"cke_toolbar_start"\x3e\x3c/span\x3e');var F=m.push(p)-1;0<F&&(p.previous=m[F-1],p.previous.next=
p)}y?e||(f.push('\x3cspan class\x3d"cke_toolgroup" role\x3d"presentation"\x3e'),e=1):e&&(f.push("\x3c/span\x3e"),e=0);k&&(w(k),k=0);w(z)}}}e&&(f.push("\x3c/span\x3e"),k=e=0);p&&f.push('\x3cspan class\x3d"cke_toolbar_end"\x3e\x3c/span\x3e\x3c/span\x3e')}}b.config.toolbarCanCollapse&&f.push("\x3c/span\x3e");if(b.config.toolbarCanCollapse&&b.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var G=CKEDITOR.tools.addFunction(function(){b.execCommand("toolbarCollapse")});b.on("destroy",;
b.addCommand("toolbarCollapse",{readOnly:1,exec:modes:{wysiwyg:1,source:1}});b.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse");f.push('\x3ca title\x3d"'+(g?b.lang.toolbar.toolbarCollapse:b.lang.toolbar.toolbarExpand)+'" id\x3d"'+b.ui.spaceId("toolbar_collapser")+'" tabIndex\x3d"-1" class\x3d"cke_toolbox_collapser');g||f.push(" cke_toolbox_collapser_min");
f.push('" onclick\x3d"CKEDITOR.tools.callFunction('+G+')"\x3e','\x3cspan class\x3d"cke_arrow"\x3e\x26#9650;\x3c/span\x3e',"\x3c/a\x3e")}f.push("\x3c/span\x3e");c.data.html+=f.join("")}});b.on("destroy",function(){if(this.toolbox){var a,b=0,c;for(a=this.toolbox.toolbars;b<a.length;b++){var e=a[b].items;for(c=0;c<e.length;c++){var d=e[c];d.clickFn&&CKEDITOR.tools.removeFunction(d.clickFn);d.keyDownFn&&CKEDITOR.tools.removeFunction(d.keyDownFn)}}}});b.on("uiReady",function(){var a=b.ui.space("toolbox");
a&&b.focusManager.add(a,1)});b.addCommand("toolbarFocus",c);b.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus");b.ui.add("-",CKEDITOR.UI_SEPARATOR,{});b.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:)}});CKEDITOR.ui.prototype.addToolbarGroup=)();CKEDITOR.UI_SEPARATOR="separator";CKEDITOR.config.toolbarLocation="top";(function(){unction f(b){unction e(a){return{type:a,canUndo:"cut"==a,startDisabled:!0,fakeKeystroke:"cut"==a?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){"cut"==this.type&&k();var a=this.type;if(CKEDITOR.env.ie)var c=h(a);else try{c=b.document.$.execCommand(a,!1,null)}catch(O){c=!1}c||b.showNotification(b.lang.clipboard[this.type+"Error"]);return c}}}function d(){return{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(b,c){="undefined"!==typeof c&&null!==c?c:{};var d=this,g="undefined"!==typeof c.notification?c.notification:!0,f=c.type,h=CKEDITOR.tools.keystrokeToString(b.lang.common.keyboard,b.getCommandKeystroke(this)),k="string"===typeof g?g:b.lang.clipboard.pasteNotification.replace(/%1/,
'\x3ckbd aria-label\x3d"'+h.aria+'"\x3e'+h.display+"\x3c/kbd\x3e");h="string"===typeof c?c:c.dataValue;f&&!0!==b.config.forcePasteAsPlainText&&"allow-word"!==b.config.forcePasteAsPlainText?b._.nextPasteType=f:delete b._.nextPasteType;"string"===typeof h?e({dataValue:h}):b.getClipboardData(e)}}}function g(){F=1;setTimeout(function(){F=0},100)}ction l(a,c){a=b.document;var e=b.editable(),d=if(!a.getById("cke_pastebin")){var g=
b.getSelection(),f=g.createBookmarks();CKEDITOR.env.ie&&g.root.fire("selectionchange");var h=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!e.is("body")||CKEDITOR.env.ie?"div":"body",a);h.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var k=0;a=a.getWindow();CKEDITOR.env.webkit?(e.append(h),h.addClass("cke_editable"),e.is("body")||(k="static"!=e.getComputedStyle("position")?e:CKEDITOR.dom.element.get(e.$.offsetParent),k=k.getDocumentPosition().y)):e.getAscendant(CKEDITOR.env.ie?"body":"html",
1).append(h);h.setStyles({position:"absolute",top:a.getScrollPosition().y-k+10+"px",width:"1px",height:Math.max(1,a.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0});CKEDITOR.env.safari&&h.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text"));(k=h.getParent().isReadOnly())?(h.setOpacity(0),h.setAttribute("contenteditable",!0)):h.setStyle("ltr"==b.config.contentsLangDirection?"left":"right","-10000px");b.on("selectionChange",d,null,null,0);if(CKEDITOR.env.webkit||CKEDITOR.env.gecko)var l=
e.once("blur",d,null,null,-100);k&&h.focus();k=new CKEDITOR.dom.range(h);k.selectNodeContents(h);var n=k.select();CKEDITOR.env.ie&&(l=e.once("blur",);var m=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(0)}}tion y(a){var c=b.getSelection();c=c&&c.getRanges()[0];if((b.readOnly||c&&c.checkReadOnly())&&a in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==a)return CKEDITOR.TRISTATE_OFF;a=b.getSelection();c=a.getRanges();return a.getType()==CKEDITOR.SELECTION_NONE||1==c.length&&c[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var D=CKEDITOR.plugins.clipboard,E=0,F=0;(();(();b.getClipboardData=ion g(b){var c=CKEDITOR.plugins.clipboard;b.on("contentDom",function(){h=b.editable(),k=CKEDITOR.plugins.clipboard.getDropTarget(b),
l=b.ui.space("top"),m=b.ui.space("bottom");c.preventDefaultDropOnElement(l);c.preventDefaultDropOnElement(m);h.attachListener(k,"dragstart",g);h.attachListener(b,"dragstart",c.resetDragDataTransfer,c,null,1);h.attachListener(b,"dragstart",null,null,2);h.attachListener(b,"dragstart",null,null,100);h.attachListener(k,"dragend",g);h.attachListener(b,"dragend",c.initDragDataTransfer,c,null,1);h.attachListener(b,"dragend",c.resetDragDataTransfer,c,null,100);h.attachListener(k,"dragover",;
h.attachListener(k,"drop",function(a){if(!a.data.$.defaultPrevented&&(a.data.preventDefault(),!b.readOnly)){var e=a.data.getTarget();if(!e.isReadOnly()||e.type==CKEDITOR.NODE_ELEMENT&&e.is("html")){e=c.getRangeAtDropPosition(a,b);var d=c.dragRange;e&&g(a,d,e)}}},null,null,9999);h.attachListener(b,"drop",c.initDragDataTransfer,c,null,1);h.attachListener(b,"drop",null,null,9999)})}CKEDITOR.plugins.add("clipboard",{requires:"dialog,notification,toolbar",init:function(a){function e(a){if(!a||q===a.id)return!1;var b=a.getTypes();b=1===b.length&&"Files"===b[0];a=1===a.getFilesCount();return b&&a}var h,l=b(a);a.config.forcePasteAsPlainText?h="plain-text":a.config.pasteFilter?h=a.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in a.config||(h="semantic-content");a.pasteFilter=
l.get(h);f(a);g(a);CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js"));if(CKEDITOR.env.gecko){var m=["image/png","image/jpeg","image/gif"],q;a.on("paste",function(b){var c=b.data,d=c.dataTransfer;if(!c.dataValue&&"paste"==c.method&&e(d)&&(d=d.getFile(0),-1!=CKEDITOR.tools.indexOf(m,d.type))){var g=new FileReader;g.addEventListener("load",!1);g.addEventListener("abort",function(){a.fire("paste",
b.data)},!1);g.addEventListener("error",function(){a.fire("paste",b.data)},!1);g.readAsDataURL(d);q=c.dataTransfer.id;b.stop()}},null,null,1)}a.on("paste",null,null,1);a.on("paste",
null,null,3);a.on("paste",function(b){b=b.data;var e=a._.nextPasteType||b.type,g=b.dataValue,f=a.config.clipboard_defaultContentType||"html",h=b.dataTransfer.getTransferType(a)==CKEDITOR.DATA_TRANSFER_EXTERNAL,m=!0===a.config.forcePasteAsPlainText;var n="html"==e||"html"==b.preSniffing?"html":d(g);delete a._.nextPasteType;"htmlifiedtext"==n&&(g=c(a.config,g));if("text"==e&&"html"==
n)g=k(a,g,l.get("plain-text"));else if(h&&a.pasteFilter&&!b.dontFilter||m)g=k(a,g,a.pasteFilter);b.startsWithEOL&&(g='\x3cbr data-cke-eol\x3d"1"\x3e'+g);b.endsWithEOL&&(g+='\x3cbr data-cke-eol\x3d"1"\x3e');"auto"==e&&(e="html"==n||"html"==f?"html":"text");b.type=e;b.dataValue=g;delete b.preSniffing;delete b.startsWithEOL;delete b.endsWithEOL},null,null,6);a.on("paste",null,
null,1E3);a.on("pasteDialog",}});CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:CKEDITOR.env.ie&&16>CKEDITOR.env.version||CKEDITOR.env.iOS&&605>CKEDITOR.env.version?!1:!0,isCustomDataTypesSupported:!CKEDITOR.env.ie||16<=CKEDITOR.env.version,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",addPasteButton:canClipboardApiBeTrusted:getDropTarget:fixSplitNodesAfterDrop:isDropRangeAffectedByDragRange:function(a,b){var c=b.startContainer;b=b.endOffset;return a.endContainer.equals(c)&&a.endOffset<=b||a.startContainer.getParent().equals(c)&&a.startContainer.getIndex()<b||a.endContainer.getParent().equals(c)&&a.endContainer.getIndex()<b?!0:!1},internalDrop:getRangeAtDropPosition:function(a,b){var c=a.data.$,e=c.clientX,d=c.clientY,g=b.getSelection(!0).getRanges()[0],f=b.createRange();if(a.data.testRange)return a.data.testRange;if(document.caretRangeFromPoint&&b.document.$.caretRangeFromPoint(e,d))c=b.document.$.caretRangeFromPoint(e,d),f.setStart(CKEDITOR.dom.node(c.startContainer),c.startOffset),
f.collapse(!0);else if(c.rangeParent)f.setStart(CKEDITOR.dom.node(c.rangeParent),c.rangeOffset),f.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&g&&b.editable().hasFocus)return g;if(document.body.createTextRange){b.focus();c=b.document.getBody().$.createTextRange();try{a=!1;for(var h=0;20>h&&!a;h++){if(!a)try{c.moveToPoint(e,d-h),a=!0}catch(y){}if(!a)try{c.moveToPoint(e,d+h),a=!0}catch(y){}}if(a){var k="cke-temp-"+(new Date).getTime();c.pasteHTML('\x3cspan id\x3d"'+k+'"\x3e\u200b\x3c/span\x3e');
var l=b.document.getById(k);f.moveToPosition(l,CKEDITOR.POSITION_BEFORE_START);l.remove()}else{var m=b.document.$.elementFromPoint(e,d),n=new CKEDITOR.dom.element(m);if(n.equals(b.editable())||"html"==n.getName())return g&&g.startContainer&&!g.startContainer.equals(b.editable())?g:null;var w=n.getClientRect();e<w.left?f.setStartAt(n,CKEDITOR.POSITION_AFTER_START):f.setStartAt(n,CKEDITOR.POSITION_BEFORE_END);f.collapse(!0)}}catch(y){return null}}else return null}return f},initDragDataTransfer:function(a,
b){var c=a.data.$?a.data.$.dataTransfer:null;b=new this.dataTransfer(c,b);"dragstart"===a.name&&b.storeId();c?this.dragData&&b.id==this.dragData.id?b=this.dragData:this.dragData=b:this.dragData?b=this.dragData:this.dragData=b;a.data.dataTransfer=b},resetDragDataTransfer:initPasteDataTransfer:function(a,b){if(this.isCustomCopyCutSupported){if(a&&a.data&&a.data.$){var c=a.data.$.clipboardData;b=new this.dataTransfer(c,b);"copy"!==a.name&&"cut"!==a.name||b.storeId();this.copyCutData&&
b.id==this.copyCutData.id?(b=this.copyCutData,b.$=c):this.copyCutData=b;return b}return new this.dataTransfer(null,b)}return new this.dataTransfer(CKEDITOR.env.edge&&a&&a.data.$&&a.data.$.clipboardData||null,b)},preventDefaultDropOnElement:;var l=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text";CKEDITOR.plugins.clipboard.dataTransfer=function(a,b){a&&(this.$=a);this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,
fragmentRegExp:/\s*\x3c!--StartFragment--\x3e|\x3c!--EndFragment--\x3e\s*/g,data:{},files:[],nativeHtmlCache:"",normalizeType:;this._.fallbackDataTransfer=new CKEDITOR.plugins.clipboard.fallbackDataTransfer(this);(this.id=this.getData(l))||(this.id="Text"==l?"":"cke-"+CKEDITOR.tools.getUniqueId());b&&(this.sourceEditor=b,this.setData("text/html",b.getSelectedHtml(1)),"Text"==l||this.getData("text/plain")||this.setData("text/plain",
b.getSelection().getSelectedText()))};CKEDITOR.DATA_TRANSFER_INTERNAL=1;CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2;CKEDITOR.DATA_TRANSFER_EXTERNAL=3;CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(a,b){a=this._.normalizeType(a);var c="text/html"==a&&b?this._.nativeHtmlCache:this._.data[a];if(void 0===c||null===c||""===c){if(this._.fallbackDataTransfer.isRequired())c=this._.fallbackDataTransfer.getData(a,b);else try{c=this.$.getData(a)||""}catch(x){c=""}"text/html"!=a||b||(c=this._stripHtml(c))}"Text"==
a&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==c.substring(0,7)&&(c="");"string"===typeof c&&(a=c.indexOf("\x3c/html\x3e"),c=-1!==a?c.substring(0,a+7):c);return c},setData:storeId:getTransferType:cacheData:function(){f(this.$){var b=this,c;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(c=
0;c<this.$.types.length;c++)a(this.$.types[c])}else a("Text"),a("URL");var d=this._getImageFromClipboard();if(this.$&&this.$.files||d){this._.files=[];if(this.$.files&&this.$.files.length)for(c=0;c<this.$.files.length;c++)this._.files.push(this.$.files[c]);0===this._.files.length&&d&&this._.files.push(d)}}},getFilesCount:getFile:isEmpty:getTypes:function(){return this.$&&this.$.types?[].slice.call(this.$.types):[]},_getImageFromClipboard:_stripHtml:;CKEDITOR.plugins.clipboard.fallbackDataTransfer=CKEDITOR.plugins.clipboard.fallbackDataTransfer._isCustomMimeTypeSupported=null;CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes=[];CKEDITOR.plugins.clipboard.fallbackDataTransfer.prototype={isRequired:getData:function(a,b){var c=this._getData(this._customDataFallbackType,!0);if(b)return c;c=this._extractDataComment(c);a=a===this._customDataFallbackType?c.content:c.data&&c.data[a]?c.data[a]:this._getData(a,!0);return null!==a?a:""},setData:function(a,b){var c=a===this._customDataFallbackType;c&&(b=this._applyDataComment(b,this._getFallbackTypeData()));var d=
this._dataTransfer.$;try{d.setData(a,b),c&&(this._dataTransfer._.nativeHtmlCache=b)}catch(q){if(this._isUnsupportedMimeTypeError(q)){c=CKEDITOR.plugins.clipboard.fallbackDataTransfer;-1===CKEDITOR.tools.indexOf(c._customTypes,a)&&c._customTypes.push(a);c=this._getFallbackTypeContent();var e=this._getFallbackTypeData();e[a]=b;try{b=this._applyDataComment(c,e),d.setData(this._customDataFallbackType,b),this._dataTransfer._.nativeHtmlCache=b}catch(p){b=""}}}return b},_getData:_getFallbackTypeContent:_getFallbackTypeData:_isUnsupportedMimeTypeError:_extractDataComment:_applyDataComment:})();CKEDITOR.config.clipboard_notificationDuration=1E4;CKEDITOR.plugins.add("panelbutton",{requires:"button",onLoad:function(){KEDITOR.ui.panelButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:statics:{handler:{create:function(a){return new CKEDITOR.ui.panelButton(a)}}},proto:{createPanel:function(a){var d=this._;if(!d.panel){var c=this._.panelDefinition,b=this._.panelDefinition.block,f=c.parent||CKEDITOR.document.getBody(),h=this._.panel=new CKEDITOR.ui.floatPanel(a,f,c);c=h.addBlock(d.id,b);var m=this,
g=a.getCommand(this.command);h.onShow=h.onHide=function(b){m.className&&this.element.getFirst().removeClass(m.className+"_panel");!m.modes&&g?m.setStateFromCommand(g):m.setState(m.modes&&m.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);d.on=0;if(!b&&m.onClose)m.onClose()};h.onEscape=
if(this.onBlock)this.onBlock(h,c);c.onHide=function(){d.on=0;!m.modes&&m.command?m.setStateFromCommand(g):m.setState(CKEDITOR.TRISTATE_OFF)}}},setStateFromCommand:})},beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_PANELBUTTON,CKEDITOR.ui.panelButton.handler)}});CKEDITOR.UI_PANELBUTTON="panelbutton";(function(){CKEDITOR.plugins.add("panel",{beforeInit:);CKEDITOR.UI_PANEL="panel";CKEDITOR.ui.panel=
CKEDITOR.ui.panel.handler={create:;var a=CKEDITOR.addTemplate("panel",'\x3cdiv lang\x3d"{langCode}" id\x3d"{id}" dir\x3d{dir} class\x3d"cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style\x3d"z-index:{z-index}" role\x3d"presentation"\x3e{frame}\x3c/div\x3e'),
f=CKEDITOR.addTemplate("panel-frame",'\x3ciframe id\x3d"{id}" class\x3d"cke_panel_frame" role\x3d"presentation" frameborder\x3d"0" src\x3d"{src}"\x3e\x3c/iframe\x3e'),d=CKEDITOR.addTemplate("panel-frame-inner",'\x3c!DOCTYPE html\x3e\x3chtml class\x3d"cke_panel_container {env}" dir\x3d"{dir}" lang\x3d"{langCode}"\x3e\x3chead\x3e{css}\x3c/head\x3e\x3cbody class\x3d"cke_{dir}" style\x3d"margin:0;padding:0" onload\x3d"{onload}"\x3e\x3c/body\x3e\x3c/html\x3e');CKEDITOR.ui.panel.prototype={render:function(c,
b){var k={editorId:c.id,id:this.id,langCode:c.langCode,dir:c.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":c.config.baseFloatZIndex+1};this.getHolderElement=function(){var a=this._.holder;if(!a){if(this.isFramed){a=this.document.getById(this.id+"_frame");var b=a.getParent();a=a.getFrameDocument();CKEDITOR.env.iOS&&b.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"});b=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(
this));a.write(d.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+b+");"},k)));a.getWindow().$.CKEDITOR=CKEDITOR;a.on("keydown",this);a=a.getBody();a.unselectable();CKEDITOR.env.air&&CKEDITOR.tools.callFunction(b)}else a=this.document.getById(this.id);this._.holder=a}return a};this.isFramed&&(c=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"",k.frame=f.output({id:this.id+"_frame",src:c}));c=a.output(k);b&&b.push(c);
return c},addBlock:getBlock:showBlock:destroy:;CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:_:{markItem:markFirstDisplayed:getItems:,proto:{show:hide:onKeyDown:function(a,b){var c=this.keys[a];switch(c){case "next":var d=this._.focusIndex;c=this._.getItems();for(var f;f=c.getItem(++d);)if(f.getAttribute("_cke_focus")&&
f.$.offsetWidth){this._.focusIndex=d;f.focus(!0);break}return f||b?!1:(this._.focusIndex=-1,this.onKeyDown(a,1));case "prev":d=this._.focusIndex;for(c=this._.getItems();0<d&&(f=c.getItem(--d));){if(f.getAttribute("_cke_focus")&&f.$.offsetWidth){this._.focusIndex=d;f.focus(!0);break}f=null}return f||b?!1:(this._.focusIndex=c.count(),this.onKeyDown(a,1));case "click":case "mouseup":return d=this._.focusIndex,(f=0<=d&&this._.getItems().getItem(d))&&f.fireEventHandler(c,{button:CKEDITOR.tools.normalizeMouseButton(CKEDITOR.MOUSE_BUTTON_LEFT,
!0)}),!1}return!0}}})})();CKEDITOR.plugins.add("floatpanel",{requires:"panel"});(function(){ar f={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:
proto:{addBlock:function(a,c){return this._.panel.addBlock(a,c)},addListBlock:getBlock:showBlock:function(a,c,b,f,h,m){var d=this._.panel,k=d.showBlock(a);this._.showBlockParams=[].slice.call(arguments);this.allowBlur(!1);var e=this._.editor.editable();this._.returnFocus=e.hasFocus?e:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement);this._.hideTimeout=0;var n=this.element;e=this._.iframe;e=
CKEDITOR.env.ie&&!CKEDITOR.env.edge?e:new CKEDITOR.dom.window(e.$.contentWindow);var u=n.getDocument(),x=this._.parentElement.getPositionedAncestor(),v=c.getDocumentPosition(u);u=x?x.getDocumentPosition(u):{x:0,y:0};var q="rtl"==this._.dir,p=v.x+(f||0)-u.x,t=v.y+(h||0)-u.y;!q||1!=b&&4!=b?q||2!=b&&3!=b||(p+=c.$.offsetWidth-1):p+=c.$.offsetWidth;if(3==b||4==b)t+=c.$.offsetHeight-1;this._.panel._.offsetParentId=c.getId();n.setStyles({top:t+"px",left:0,display:""});n.setOpacity(0);n.getFirst().removeStyle("width");
this._.editor.focusManager.add(e);this._.blurSet||(CKEDITOR.event.useCapture=!0,e.on("blur",this),e.on("focus",this),CKEDITOR.env.iOS&&(e.on("touchstart",function(){clearTimeout(this._.hideTimeout)},
this),e.on("touchend",this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1);d.onEscape=CKEDITOR.tools.bind(this);CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.tools.bind(function(){var a=n;a.removeStyle("width");if(k.autoSize){var b=k.element.getDocument();b=(CKEDITOR.env.webkit||CKEDITOR.env.edge?k.element:b.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetWidth||
0)-(a.$.clientWidth||0)+3);a.setStyle("width",b+10+"px");b=k.element.$.scrollHeight;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetHeight||0)-(a.$.clientHeight||0)+3);a.setStyle("height",b+"px");d._.currentBlock.element.setStyle("display","none").removeStyle("display")}else a.removeStyle("height");q&&(p-=n.$.offsetWidth);n.setStyle("left",p+"px");b=d.element.getWindow();a=n.$.getBoundingClientRect();b=b.getViewPaneSize();var c=a.width||a.right-a.left,e=a.height||a.bottom-a.top,g=q?a.right:
b.width-a.left,f=q?b.width-a.right:a.left;q?g<c&&(p=f>c?p+c:b.width>c?p-a.left:p-a.right+b.width):g<c&&(p=f>c?p-c:b.width>c?p-a.right+b.width:p-a.left);c=a.top;b.height-a.top<e&&(t=c>e?t-e:b.height>e?t-a.bottom+b.height:t-a.top);CKEDITOR.env.ie&&!CKEDITOR.env.edge&&((b=a=n.$.offsetParent&&new CKEDITOR.dom.element(n.$.offsetParent))&&"html"==b.getName()&&(b=b.getDocument().getBody()),b&&"rtl"==b.getComputedStyle("direction")&&(p=CKEDITOR.env.ie8Compat?p-2*n.getDocument().getDocumentElement().$.scrollLeft:
p-(a.$.scrollWidth-a.$.clientWidth)));a=n.getFirst();var h;(h=a.getCustomData("activePanel"))&&h.onHide&&h.onHide.call(this,1);a.setCustomData("activePanel",this);n.setStyles({top:t+"px",left:p+"px"});n.setOpacity(1);m&&m()},this);d.isLoaded?a():d.onLoad=a;CKEDITOR.tools.setTimeout(0,this)},CKEDITOR.env.air?200:0,this);this.visible=1;this.onShow&&this.onShow.call(this)},reposition:focus:blur:hide:allowBlur:showAsChild:hideChild:});CKEDITOR.on("instanceDestroyed",})();CKEDITOR.plugins.add("colorbutton",
{requires:"panelbutton,floatpanel",init:function(a){function f(c){var e=c.name,g=c.type,f=c.title,l=c.order,q=c.commandName;c=c.contentTransformations||{};var p=new CKEDITOR.style(h["colorButton_"+g+"Style"]),t=CKEDITOR.tools.getNextId()+"_colorBox",r={type:g},B=new CKEDITOR.style(h["colorButton_"+g+"Style"],{color:"inherit"}),A;a.addCommand(q,{contextSensitive:!0,exec:function(a,b){a.readOnly||(b=b.newStyle,a.removeStyle(B),a.focus(),b&&a.applyStyle(b),a.fire("saveSnapshot"))},refresh:function(a,
b){B.checkApplicable(b,a,a.activeFilter)?B.checkActive(b,a)?this.setState(CKEDITOR.TRISTATE_ON):this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)}});a.ui.add(e,CKEDITOR.UI_PANELBUTTON,{label:f,title:f,command:q,editorFocus:0,toolbar:"colors,"+l,allowedContent:p,requiredContent:p,contentTransformations:c,panel:{css:CKEDITOR.skin.getPath("editor"),attributes:{role:"listbox","aria-label":m.panelTitle}},select:function(a){var c=h.colorButton_colors.split(",");a=CKEDITOR.tools.array.find(c,
a);a=k(a);b(A,a);A._.markFirstDisplayed()},onBlock:function(b,c){A=c;c.autoSize=!0;c.element.addClass("cke_colorblock");c.element.setHtml(d({type:g,colorBoxId:t,colorData:r,commandName:q}));c.element.getDocument().getBody().setStyle("overflow","hidden");CKEDITOR.ui.fire("ready",this);b=c.keys;c="rtl"==a.lang.dir;b[c?37:39]="next";b[40]="next";b[9]="next";b[c?39:37]="prev";b[38]="prev";b[CKEDITOR.SHIFT+9]="prev";b[32]="click"},onOpen:function(){var c=a.getSelection(),d=c&&c.getStartElement(),e=a.elementPath(d);
if(!e)return null;d=e.block||e.blockLimit||a.document.getBody();do e=d&&d.getComputedStyle("back"==g?"background-color":"color")||"transparent";while("back"==g&&"transparent"==e&&d&&(d=d.getParent()));e&&"transparent"!=e||(e="#ffffff");!1!==h.colorButton_enableAutomatic&&this._.panel._.iframe.getFrameDocument().getById(t).setStyle("background-color",e);if(d=c&&c.getRanges()[0]){c=new CKEDITOR.dom.walker(d);var f=d.collapsed?d.startContainer:c.next();for(d="";f;){f.type!==CKEDITOR.NODE_ELEMENT&&(f=
f.getParent());f=k(f.getComputedStyle("back"==g?"background-color":"color"));d=d||f;if(d!==f){d="";break}f=c.next()}"transparent"==d&&(d="");"fore"==g&&(r.automaticTextColor="#"+k(e));r.selectionColor=d?"#"+d:"";b(A,d)}return e}})}function d(b){function d(b){b=b&&new CKEDITOR.style(A,{color:b});a.execCommand(k,{newStyle:b})}var e=b.type,g=b.colorBoxId,f=b.colorData,k=b.commandName;b=[];var l=h.colorButton_colors.split(","),t=h.colorButton_colorsPerRow||6,r=a.plugins.colordialog&&!1!==h.colorButton_enableMore,
B=l.length+(r?2:1),A=a.config["colorButton_"+e+"Style"];A.childRule="back"==e?var z=CKEDITOR.tools.addFunction(function(b){a.focus();a.fire("saveSnapshot");"?"==b?a.getColorFromDialog(null,f):d(b&&"#"+b)});!1!==h.colorButton_enableAutomatic&&b.push('\x3ca class\x3d"cke_colorauto" _cke_focus\x3d1 hidefocus\x3dtrue title\x3d"',m.auto,'" draggable\x3d"false" ondragstart\x3d"return false;" onclick\x3d"CKEDITOR.tools.callFunction(',
z,",null,'",e,"');return false;\" href\x3d\"javascript:void('",m.auto,'\')" role\x3d"option" aria-posinset\x3d"1" aria-setsize\x3d"',B,'"\x3e\x3ctable role\x3d"presentation" cellspacing\x3d0 cellpadding\x3d0 width\x3d"100%"\x3e\x3ctr\x3e\x3ctd colspan\x3d"'+t+'" align\x3d"center"\x3e\x3cspan class\x3d"cke_colorbox" id\x3d"',g,'"\x3e\x3c/span\x3e',m.auto,"\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/a\x3e");b.push('\x3ctable role\x3d"presentation" cellspacing\x3d0 cellpadding\x3d0 width\x3d"100%"\x3e');
for(g=0;g<l.length;g++){0===g%t&&b.push("\x3c/tr\x3e\x3ctr\x3e");var w=l[g].split("/"),y=w[0],D=w[1]||y;b.push('\x3ctd\x3e\x3ca class\x3d"cke_colorbox" _cke_focus\x3d1 hidefocus\x3dtrue title\x3d"',w[1]?y:a.lang.colorbutton.colors[D]||D,'" draggable\x3d"false" ondragstart\x3d"return false;" onclick\x3d"CKEDITOR.tools.callFunction(',z,",'",D,"','",e,"'); return false;\" href\x3d\"javascript:void('",D,'\')" data-value\x3d"'+D+'" role\x3d"option" aria-posinset\x3d"',g+2,'" aria-setsize\x3d"',B,'"\x3e\x3cspan class\x3d"cke_colorbox" style\x3d"background-color:#',
D,'"\x3e\x3c/span\x3e\x3c/a\x3e\x3c/td\x3e')}r&&b.push('\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d"'+t+'" align\x3d"center"\x3e\x3ca class\x3d"cke_colormore" _cke_focus\x3d1 hidefocus\x3dtrue title\x3d"',m.more,'" draggable\x3d"false" ondragstart\x3d"return false;" onclick\x3d"CKEDITOR.tools.callFunction(',z,",'?','",e,"');return false;\" href\x3d\"javascript:void('",m.more,"')\"",' role\x3d"option" aria-posinset\x3d"',B,'" aria-setsize\x3d"',B,'"\x3e',m.more,"\x3c/a\x3e\x3c/td\x3e");b.push("\x3c/tr\x3e\x3c/table\x3e");
return b.join("")}unction b(a,b){a=a._.getItems();for(var c=0;c<a.count();c++){var d=a.getItem(c);d.removeAttribute("aria-selected");b&&b==k(d.getAttribute("data-value"))&&d.setAttribute("aria-selected",!0)}}ar h=a.config,m=a.lang.colorbutton;if(!CKEDITOR.env.hc){f({name:"TextColor",type:"fore",
commandName:"textColor",title:m.textColorTitle,order:10,contentTransformations:[[{element:"font",check:"span{color}",left:right:]]});var g=a.config.colorButton_normalizeBackground;if(void 0===g||g)var l=[[{element:"span",left:function(a){var b=CKEDITOR.tools;if("span"!=a.name||!a.styles||!a.styles.background)return!1;a=b.style.parse.background(a.styles.background);
return a.color&&1===b.object.keys(a).length},right:]];f({name:"BGColor",type:"back",commandName:"bgColor",title:m.bgColorTitle,order:20,contentTransformations:l})}}});CKEDITOR.config.colorButton_colors="1ABC9C,2ECC71,3498DB,9B59B6,4E5F70,F1C40F,16A085,27AE60,2980B9,8E44AD,2C3E50,F39C12,E67E22,E74C3C,ECF0F1,95A5A6,DDD,FFF,D35400,C0392B,BDC3C7,7F8C8D,999,000";
CKEDITOR.config.colorButton_foreStyle={element:"span",styles:{color:"#(color)"},overrides:[{element:"font",attributes:{color:null}}]};CKEDITOR.config.colorButton_backStyle={element:"span",styles:{"background-color":"#(color)"}};CKEDITOR.plugins.colordialog={requires:"dialog",init:function(a){var f=new CKEDITOR.dialogCommand("colordialog");f.editorFocus=!1;a.addCommand("colordialog",f);CKEDITOR.dialog.add("colordialog",this.path+"dialogs/colordialog.js");a.getColorFromDialog=function(d,c,b){var f=
var h=var m=var g=function(a){a.on("ok",f);a.on("cancel",f);a.on("show",h,null,null,5)};a.execCommand("colordialog");if(a._.storedDialogs&&a._.storedDialogs.colordialog)g(a._.storedDialogs.colordialog);else CKEDITOR.on("dialogDefinition",
}}};CKEDITOR.plugins.add("colordialog",CKEDITOR.plugins.colordialog);CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:);(function(){ar f='\x3cspan class\x3d"cke_menuitem"\x3e\x3ca id\x3d"{id}" class\x3d"cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href\x3d"{href}" title\x3d"{title}" tabindex\x3d"-1" _cke_focus\x3d1 hidefocus\x3d"true" role\x3d"{role}" aria-label\x3d"{attrLabel}" aria-describedby\x3d"{id}_description" aria-haspopup\x3d"{hasPopup}" aria-disabled\x3d"{disabled}" {ariaChecked} draggable\x3d"false"',
d="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(f+=' onkeypress\x3d"return false;"');CKEDITOR.env.gecko&&(f+=' onblur\x3d"this.style.cssText \x3d this.style.cssText;" ondragstart\x3d"return false;"');CKEDITOR.env.ie&&(d='return false;" onmouseup\x3d"CKEDITOR.tools.getMouseButton(event)\x3d\x3d\x3dCKEDITOR.MOUSE_BUTTON_LEFT\x26\x26');var c=CKEDITOR.addTemplate("menuItem",f+(' onmouseover\x3d"CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout\x3d"CKEDITOR.tools.callFunction({moveOutFn},{index});" onclick\x3d"'+
d+'CKEDITOR.tools.callFunction({clickFn},{index}); return false;"\x3e')+'\x3cspan class\x3d"cke_menubutton_inner"\x3e\x3cspan class\x3d"cke_menubutton_icon"\x3e\x3cspan class\x3d"cke_button_icon cke_button__{iconName}_icon" style\x3d"{iconStyle}"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"cke_menubutton_label"\x3e{label}\x3c/span\x3e{shortcutHtml}{arrowHtml}\x3c/span\x3e\x3c/a\x3e\x3cspan id\x3d"{id}_description" class\x3d"cke_voice_label" aria-hidden\x3d"false"\x3e{ariaShortcut}\x3c/span\x3e\x3c/span\x3e'),
b=CKEDITOR.addTemplate("menuArrow",'\x3cspan class\x3d"cke_menuarrow"\x3e\x3cspan\x3e{label}\x3c/span\x3e\x3c/span\x3e'),k=CKEDITOR.addTemplate("menuShortcut",'\x3cspan class\x3d"cke_menubutton_label cke_menubutton_shortcut"\x3e{shortcut}\x3c/span\x3e');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(a,b){b=this._.definition=b||{};this.id=CKEDITOR.tools.getNextId();this.editor=a;this.items=[];this._.listeners=[];this._.level=b.level||1;a=CKEDITOR.tools.extend({},b.panel,{css:[CKEDITOR.skin.getPath("editor")],
level:this._.level-1,block:{}});b=a.block.attributes=a.attributes||{};!b.role&&(b.role="menu");this._.panelDefinition=a},_:{onShow:onClick:onEscape:onHide:showSubMenu:,proto:{add:removeAll:show:function(b,c,d,f){if(this.parent||(this._.onShow(),this.items.length)){c=c||("rtl"==this.editor.lang.dir?2:1);var e=this.items,g=this.editor,h=this._.panel,k=this._.element;
if(!h){h=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level);h.onEscape=CKEDITOR.tools.bind(this);h.onShow=h.onHide=CKEDITOR.tools.bind(this);k=h.addBlock(this.id,this._.panelDefinition.block);k.autoSize=!0;var l=k.keys;l[40]="next";l[9]="next";l[38]=
"prev";l[CKEDITOR.SHIFT+9]="prev";l["rtl"==g.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click";l[32]=CKEDITOR.env.ie?"mouseup":"click";CKEDITOR.env.ie&&(l[13]="mouseup");k=this._.element=k.element;l=k.getDocument();l.getBody().setStyle("overflow","hidden");l.getElementsByTag("html").getItem(0).setStyle("overflow","hidden");this._.itemOverFn=CKEDITOR.tools.addFunction(this);this._.itemOutFn=CKEDITOR.tools.addFunction(this);this._.itemClickFn=CKEDITOR.tools.addFunction(this)}a(e);l=g.elementPath();l=['\x3cdiv class\x3d"cke_menu'+(l&&l.direction()!=g.lang.dir?" cke_mixed_dir_content":"")+'" role\x3d"presentation"\x3e'];for(var m=e.length,p=m&&e[0].group,
t=0;t<m;t++){var r=e[t];p!=r.group&&(l.push('\x3cdiv class\x3d"cke_menuseparator" role\x3d"separator"\x3e\x3c/div\x3e'),p=r.group);r.render(this,t,l)}l.push("\x3c/div\x3e");k.setHtml(l.join(""));CKEDITOR.ui.fire("ready",this);this.parent?this.parent._.panel.showAsChild(h,this.id,b,c,d,f):h.showBlock(this.id,b,c,d,f);g.fire("menuShow",[h])}},addListener:hide:findItemByCommandName:});CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:proto:{render:function(a,d,f){var g=a.id+String(d),e="undefined"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,h="",m=this.editor,
x,v,q=e==CKEDITOR.TRISTATE_ON?"on":e==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(h=' aria-checked\x3d"'+(e==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var p=this.getItems,t="\x26#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",r=this.name;this.icon&&!/\./.test(this.icon)&&(r=this.icon);this.command&&(x=m.getCommand(this.command),(x=m.getCommandKeystroke(x))&&(v=CKEDITOR.tools.keystrokeToString(m.lang.common.keyboard,x)));x=CKEDITOR.tools.htmlEncodeAttr(this.label);
a={id:g,name:this.name,iconName:r,label:this.label,attrLabel:x,cls:this.className||"",state:q,hasPopup:p?"true":"false",disabled:e==CKEDITOR.TRISTATE_DISABLED,title:x+(v?" ("+v.display+")":""),ariaShortcut:v?m.lang.common.keyboardShortcut+" "+v.aria:"",href:"javascript:void('"+(x||"").replace("'")+"')",hoverFn:a._.itemOverFn,moveOutFn:a._.itemOutFn,clickFn:a._.itemClickFn,index:d,iconStyle:CKEDITOR.skin.getIconStyle(r,"rtl"==this.editor.lang.dir,r==this.icon?null:this.icon,this.iconOffset),shortcutHtml:v?
k.output({shortcut:v.display}):"",arrowHtml:p?b.output({label:t}):"",role:this.role?this.role:"menuitem",ariaChecked:h};c.output(a,f)}}})})();CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div";CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:proto:{addTarget:function(a,f){ar c,b;a.on("contextmenu",function(a){a=a.data;var d=CKEDITOR.env.webkit?c:CKEDITOR.env.mac?a.$.metaKey:a.$.ctrlKey;if(!f||!d)if(a.preventDefault(),!b){if(CKEDITOR.env.mac&&CKEDITOR.env.webkit){d=this.editor;var g=(new CKEDITOR.dom.elementPath(a.getTarget(),d.editable())).contains(
!0);g&&"false"==g.getAttribute("contenteditable")&&d.getSelection().fake(g)}g=a.getTarget().getDocument();var h=a.getTarget().getDocument().getDocumentElement();d=!g.equals(CKEDITOR.document);g=g.getWindow().getScrollPosition();var e=d?a.$.clientX:a.$.pageX||g.x+a.$.clientX,k=d?a.$.clientY:a.$.pageY||g.y+a.$.clientY;CKEDITOR.tools.setTimeout(CKEDITOR.env.ie?200:0,this)}},this);if(CKEDITOR.env.webkit){var k=a.on("keydown",;a.on("keyup",k);a.on("contextmenu",k)}CKEDITOR.env.gecko&&!CKEDITOR.env.mac&&(a.on("keydown",null,null,0),a.on("keyup",d),a.on("contextmenu",d))},open:})},beforeInit:function(a){var f=
a.contextMenu=new CKEDITOR.plugins.contextMenu(a);a.on("contentDom",;a.addCommand("contextMenu",{exec:function(a){var c=0,b=0,d=a.getSelection().getRanges();d=d[d.length-1].getClientRects(a.editable().isInline());if(d=d[d.length-1])c=d["rtl"===a.lang.dir?"left":"right"],b=d.bottom;a.contextMenu.open(a.document.getBody().getParent(),null,c,b)}});a.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu");a.setKeystroke(CKEDITOR.CTRL+
CKEDITOR.SHIFT+121,"contextMenu")}});(function(){unction f(){for(var a,b=0;b<arguments.length;b++)if(arguments[b]instanceof CKEDITOR.dom.element){a=arguments[b];break}if(a){b=this.att;var d=this.getValue();d?a.setAttribute(b,d):a.removeAttribute(b,d)}}var d={id:1,dir:1,classes:1,styles:1};CKEDITOR.plugins.add("dialogadvtab",{requires:"dialog",allowedContent:createAdvancedTab:function(c,b,k){b||(b=d);var h=c.lang.common,m={id:"advanced",label:h.advancedTab,title:h.advancedTab,elements:[{type:"vbox",padding:1,children:[]}]},g=[];if(b.id||b.dir)b.id&&g.push({id:"advId",att:"id",type:"text",requiredContent:k?k+"[id]":null,label:h.id,setup:a,commit:f}),b.dir&&g.push({id:"advLangDir",att:"dir",type:"select",requiredContent:k?k+
"[dir]":null,label:h.langDir,"default":"",style:"width:100%",items:[[h.notSet,""],[h.langDirLTR,"ltr"],[h.langDirRTL,"rtl"]],setup:a,commit:f}),m.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(g)});if(b.styles||b.classes)g=[],b.styles&&g.push({id:"advStyles",att:"style",type:"text",requiredContent:k?k+"{cke-xyz}":null,label:h.styles,"default":"",validate:CKEDITOR.dialog.validate.inlineStyle(h.invalidInlineStyle),onChange:getStyle:function(a,b){return(a=
this.getValue().match(new RegExp("(?:^|;)\\s*"+a+"\\s*:\\s*([^;]*)","i")))?a[1]:b},updateStyle:setup:a,commit:f}),b.classes&&g.push({type:"hbox",widths:["45%","55%"],children:[{id:"advCSSClasses",att:"class",type:"text",requiredContent:k?k+"(cke-xyz)":null,label:h.cssClasses,"default":"",setup:a,commit:f}]}),
m.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(g)});return m}})})();(function(){CKEDITOR.plugins.add("div",{requires:"dialog",init:);CKEDITOR.plugins.div={getSurroundDiv:function(a,f){f=a.elementPath(f);return a.elementPath(f.blockLimit).contains(1)}}})();(function(){function a(a,d){r g=a.ui.spaceId("path"),l,e=a._.elementsPath,n=e.idBase;d.html+='\x3cspan id\x3d"'+g+'_label" class\x3d"cke_voice_label"\x3e'+a.lang.elementspath.eleLabel+'\x3c/span\x3e\x3cspan id\x3d"'+
g+'" class\x3d"cke_path" role\x3d"group" aria-labelledby\x3d"'+g+'_label"\x3e\x3cspan class\x3d"cke_path_empty"\x3e\x26nbsp;\x3c/span\x3e\x3c/span\x3e';a.on("uiReady",;e.onClick=b;var u=CKEDITOR.tools.addFunction(b),x=CKEDITOR.tools.addFunction(function(c,d){var f=e.idBase;d=new CKEDITOR.dom.event(d);var g="rtl"==a.lang.dir;switch(d.getKeystroke()){case g?39:37:case 9:return(g=CKEDITOR.document.getById(f+(c+1)))||(g=CKEDITOR.document.getById(f+
"0")),g.focus(),!1;case g?37:39:case CKEDITOR.SHIFT+9:return(g=CKEDITOR.document.getById(f+(c-1)))||(g=CKEDITOR.document.getById(f+(e.list.length-1))),g.focus(),!1;case 27:return a.focus(),!1;case 13:case 32:return b(c),!1}return!0});a.on("selectionChange",;a.on("readOnly",k);a.on("contentDomUnload",k);a.addCommand("elementsPathFocus",f.toolbarFocus);a.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var f={toolbarFocus:{editorFocus:!1,readOnly:1,exec:},d="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(d+=' onkeypress\x3d"return false;"');CKEDITOR.env.gecko&&(d+=' onblur\x3d"this.style.cssText \x3d this.style.cssText;"');
var c=CKEDITOR.addTemplate("pathItem",'\x3ca id\x3d"{id}" href\x3d"{jsTitle}" tabindex\x3d"-1" class\x3d"cke_path_item" title\x3d"{label}"'+d+' hidefocus\x3d"true"  draggable\x3d"false"  ondragstart\x3d"return false;" onkeydown\x3d"return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick\x3d"CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role\x3d"button" aria-label\x3d"{label}"\x3e{text}\x3c/a\x3e');CKEDITOR.plugins.add("elementspath",{init:)})();(function(){DITOR.plugins.add("enterkey",{init:);var c=CKEDITOR.dom.walker.whitespaces(),b=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(a,e,k,m){f(k=k||f(a)){k=d(k);var n=k.document,q=k.checkStartOfBlock(),p=k.checkEndOfBlock(),
t=a.elementPath(k.startContainer),r=t.block,u=e==CKEDITOR.ENTER_DIV?"div":"p";if(r&&q&&p){q=r.getParent();if(q.is("li")&&1<q.getChildCount()){n=new CKEDITOR.dom.element("li");var A=a.createRange();n.insertAfter(q);r.remove();A.setStart(n,0);a.getSelection().selectRanges([A]);return}if(r.is("li")||r.getParent().is("li")){r.is("li")||(r=r.getParent(),q=r.getParent());A=q.getParent();k=!r.hasPrevious();var z=!r.hasNext();m=a.getSelection();u=m.createBookmarks();var w=r.getDirection(1);p=r.getAttribute("class");
var y=r.getAttribute("style"),D=A.getDirection(1)!=w;a=a.enterMode!=CKEDITOR.ENTER_BR||D||y||p;if(A.is("li"))k||z?(k&&z&&q.remove(),r[z?"insertAfter":"insertBefore"](A)):r.breakParent(A);else{if(a)if(t.block.is("li")?(A=n.createElement(e==CKEDITOR.ENTER_P?"p":"div"),D&&A.setAttribute("dir",w),y&&A.setAttribute("style",y),p&&A.setAttribute("class",p),r.moveChildren(A)):A=t.block,k||z)A[k?"insertBefore":"insertAfter"](q);else r.breakParent(q),A.insertAfter(q);else if(r.appendBogus(!0),k||z)for(;n=r[k?
"getFirst":"getLast"]();)n[k?"insertBefore":"insertAfter"](q);else for(r.breakParent(q);n=r.getLast();)n.insertAfter(q);r.remove()}m.selectBookmarks(u);return}if(r&&r.getParent().is("blockquote")){r.breakParent(r.getParent());r.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||r.getPrevious().remove();r.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||r.getNext().remove();k.moveToElementEditStart(r);k.select();return}}else if(r&&r.is("pre")&&!p){h(a,e,k,m);return}if(y=k.splitBlock(u)){a=
y.previousBlock;r=y.nextBlock;q=y.wasStartOfBlock;p=y.wasEndOfBlock;r?(z=r.getParent(),z.is("li")&&(r.breakParent(z),r.move(r.getNext(),1))):a&&(z=a.getParent())&&z.is("li")&&(a.breakParent(z),z=a.getNext(),k.moveToElementEditStart(z),a.move(a.getPrevious()));if(q||p)if(l(e))k.moveToElementEditStart(k.getTouchedStartNode());else{if(a){if(a.is("li")||!g.test(a.getName())&&!a.is("pre"))A=a.clone()}else r&&(A=r.clone());A?m&&!A.is("li")&&A.renameNode(u):z&&z.is("li")?A=z:(A=n.createElement(u),a&&(w=
a.getDirection())&&A.setAttribute("dir",w));if(n=y.elementPath)for(e=0,m=n.elements.length;e<m;e++){u=n.elements[e];if(u.equals(n.block)||u.equals(n.blockLimit))break;CKEDITOR.dtd.$removeEmpty[u.getName()]&&(u=u.clone(),A.moveChildren(u),A.append(u))}A.appendBogus();A.getParent()||k.insertNode(A);A.is("li")&&A.removeAttribute("value");!CKEDITOR.env.ie||!q||p&&a.getChildCount()||(k.moveToElementEditStart(p?a:A),k.select());k.moveToElementEditStart(q&&!p?r:A)}else r.is("li")&&(A=k.clone(),A.selectNodeContents(r),
A=new CKEDITOR.dom.walker(A),A.evaluator=(z=A.next())&&z.type==CKEDITOR.NODE_ELEMENT&&z.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?n.createElement("br"):n.createText("\u00a0")).insertBefore(z)),r&&k.moveToElementEditStart(r);k.select();k.scrollIntoView()}}},enterBr:;var k=CKEDITOR.plugins.enterkey;var h=k.enterBr;var m=k.enterBlock;var g=/^h[1-6]$/})();(function(){function a(a,d){var c={},b=[],f={nbsp:"\u00a0",shy:"\u00ad",gt:"\x3e",lt:"\x3c",amp:"\x26",apos:"'",quot:'"'};a=a.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,
function(a,e){a=d?"\x26"+e+";":f[e];c[a]=d?f[e]:"\x26"+e+";";b.push(a);return""});a=a.replace(/,$/,"");if(!d&&a){a=a.split(",");var h=document.createElement("div");h.innerHTML="\x26"+a.join(";\x26")+";";var m=h.innerHTML;h=null;for(h=0;h<m.length;h++){var g=m.charAt(h);c[g]="\x26"+a[h]+";";b.push(g)}}c.regex=b.join(d?"|":"");return c}CKEDITOR.plugins.add("entities",{afterInit:function(f){r b=f.config;if(f=(f=f.dataProcessor)&&f.htmlFilter){var k=[];!1!==b.basicEntities&&k.push("nbsp,gt,lt,amp");b.entities&&(k.length&&k.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),
b.entities_latin&&k.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),b.entities_greek&&k.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),
b.entities_additional&&k.push(b.entities_additional));var h=a(k.join(",")),m=h.regex?"["+h.regex+"]":"a^";delete h.regex;b.entities&&b.entities_processNumerical&&(m="[^ -~]|"+m);m=new RegExp(m,"g");var g=a("nbsp,gt,lt,amp,shy",!0),l=new RegExp(g.regex,"g");f.addRules({text:,{applyToAll:!0,excludeNestedEditable:!0})}}})})();CKEDITOR.config.basicEntities=!0;CKEDITOR.config.entities=!0;CKEDITOR.config.entities_latin=!0;CKEDITOR.config.entities_greek=!0;
CKEDITOR.config.entities_additional="#39";CKEDITOR.plugins.add("popup");CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:);(function(){nction d(a){var b=
a.match(c)[1];a=a.replace(c,"");a=atob(a);var d=[],f,g;for(f=0;f<a.length;f+=512){var l=a.slice(f,f+512);var e=Array(l.length);for(g=0;g<l.length;g++)e[g]=l.charCodeAt(g);l=new Uint8Array(e);d.push(l)}return new Blob(d,{type:b})}CKEDITOR.plugins.add("filetools",{beforeInit:);a.prototype={create:isFinished:;f.prototype={loadAndUpload:load:upload:function(a,c){c=c||{};a?(this.uploadUrl=a,this.xhr=new XMLHttpRequest,this.attachRequestListeners(),this.editor.fire("fileUploadRequest",{fileLoader:this,requestData:c})&&this.changeStatus("uploading")):(this.message=this.lang.filetools.noUrlError,this.changeStatus("error"))},attachRequestListeners:changeStatus:update:function(){this.fire("update")},isFinished:;
CKEDITOR.event.implementOn(a.prototype);CKEDITOR.event.implementOn(f.prototype);var c=/^data:(\S*?);base64,/;CKEDITOR.fileTools||(CKEDITOR.fileTools={});CKEDITOR.tools.extend(CKEDITOR.fileTools,{uploadRepository:a,fileLoader:f,getUploadUrl:isTypeSupported:isFileUploadSupported:"function"===typeof FileReader&&"function"===typeof(new FileReader).readAsDataURL&&"function"===typeof FormData&&"function"===typeof(new FormData).append&&"function"===typeof XMLHttpRequest&&"function"===typeof Blob})})();(function(){nction c(){var b=this.getDialog(),c=b.getParentEditor();c._.filebrowserSe=this;var e=c.config["filebrowser"+d(b.getName())+"WindowWidth"]||c.config.filebrowserWindowWidth||"80%";b=c.config["filebrowser"+d(b.getName())+"WindowHeight"]||c.config.filebrowserWindowHeight||"70%";var f=this.filebrowser.params||{};f.CKEditor=
c.name;f.CKEditorFuncNum=c._.filebrowserFn;f.langCode||(f.langCode=c.langCode);f=a(this.filebrowser.url,f);c.popup(f,e,b,c.config.filebrowserWindowFeatures||c.config.fileBrowserWindowFeatures)}function b(a){var b=new CKEDITOR.dom.element(a.$.form);(a=b.$.elements.ckCsrfToken)?a=new CKEDITOR.dom.element(a):(a=new CKEDITOR.dom.element("input"),a.setAttributes({name:"ckCsrfToken",type:"hidden"}),b.append(a));a.setAttribute("value",CKEDITOR.tools.getCsrfToken())}OR.plugins.add("filebrowser",{requires:"popup,filetools",init:);CKEDITOR.on("dialogDefinition",})();CKEDITOR.plugins.add("find",{requires:"dialog",init:function(a){var f=a.addCommand("find",new CKEDITOR.dialogCommand("find")),d=a.addCommand("replace",new CKEDITOR.dialogCommand("find",
{tabId:"replace"}));f.canUndo=!1;f.readOnly=1;d.canUndo=!1;a.ui.addButton&&(a.ui.addButton("Find",{label:a.lang.find.find,command:"find",toolbar:"find,10"}),a.ui.addButton("Replace",{label:a.lang.find.replace,command:"replace",toolbar:"find,20"}));CKEDITOR.dialog.add("find",this.path+"dialogs/find.js")}});CKEDITOR.config.find_highlight={element:"span",styles:{"background-color":"#004",color:"#fff"}};(function(){function a(a,b){a=c.exec(a);var d=c.exec(b);if(a){if(!a[2]&&"px"==d[2])return d[1];if("px"==
a[2]&&!d[2])return d[1]+"px"}return b}var f=CKEDITOR.htmlParser.cssStyle,d=CKEDITOR.tools.cssLength,c=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,b={elements:{$:function(b){var c=b.attributes;if((c=(c=(c=c&&c["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(c)))&&c.children[0])&&b.attributes["data-cke-resizable"]){var d=(new f(b)).rules;b=c.attributes;var g=d.width;d=d.height;g&&(b.width=a(b.width,g));d&&(b.height=a(b.height,d))}return c}}};CKEDITOR.plugins.add("fakeobjects",
{init:afterInit:);CKEDITOR.editor.prototype.createFakeElement=function(a,b,c,g){var h=this.lang.fakeobjects;h=h[c]||h.unknown;b={"class":b,"data-cke-realelement":encodeURIComponent(a.getOuterHtml()),"data-cke-real-node-type":a.type,alt:h,title:h,align:a.getAttribute("align")||""};CKEDITOR.env.hc||(b.src=CKEDITOR.tools.transparentImageData);
c&&(b["data-cke-real-element-type"]=c);g&&(b["data-cke-resizable"]=g,c=new f,g=a.getAttribute("width"),a=a.getAttribute("height"),g&&(c.rules.width=d(g)),a&&(c.rules.height=d(a)),c.populate(b));return this.document.createElement("img",{attributes:b})};CKEDITOR.editor.prototype.createFakeParserElement=function(a,b,c,g){var h=this.lang.fakeobjects;h=h[c]||h.unknown;var e=new CKEDITOR.htmlParser.basicWriter;a.writeHtml(e);e=e.getHtml();b={"class":b,"data-cke-realelement":encodeURIComponent(e),"data-cke-real-node-type":a.type,
alt:h,title:h,align:a.attributes.align||""};CKEDITOR.env.hc||(b.src=CKEDITOR.tools.transparentImageData);c&&(b["data-cke-real-element-type"]=c);g&&(b["data-cke-resizable"]=g,g=a.attributes,a=new f,c=g.width,g=g.height,void 0!==c&&(a.rules.width=d(c)),void 0!==g&&(a.rules.height=d(g)),a.populate(b));return new CKEDITOR.htmlParser.element("img",b)};CKEDITOR.editor.prototype.restoreRealElement=)();(();CKEDITOR.tools.extend(CKEDITOR.config,{flashEmbedTagOnly:!1,flashAddEmbedTag:!0,flashConvertOnEdit:!1});(();CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var a=
CKEDITOR.addTemplate("panel-list",'\x3cul role\x3d"presentation" class\x3d"cke_panel_list"\x3e{items}\x3c/ul\x3e'),f=CKEDITOR.addTemplate("panel-list-item",'\x3cli id\x3d"{id}" class\x3d"cke_panel_listItem" role\x3dpresentation\x3e\x3ca id\x3d"{id}_option" _cke_focus\x3d1 hidefocus\x3dtrue title\x3d"{title}" draggable\x3d"false" ondragstart\x3d"return false;" href\x3d"javascript:void(\'{val}\')"  onclick\x3d"{onclick}CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role\x3d"option"\x3e{text}\x3c/a\x3e\x3c/li\x3e'),
d=CKEDITOR.addTemplate("panel-list-group",'\x3ch1 id\x3d"{id}" draggable\x3d"false" ondragstart\x3d"return false;" class\x3d"cke_panel_grouptitle" role\x3d"presentation" \x3e{label}\x3c/h1\x3e'),c=/'/g;CKEDITOR.ui.panel.prototype.addListBlock=CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:_:{close:getClick:,proto:{add:function(a,d,h){var b=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0);this._.items[a]=b;var g=CKEDITOR.tools.htmlEncodeAttr(a).replace(c,"\\'");a={id:b,val:g,onclick:CKEDITOR.env.ie?'return false;" onmouseup\x3d"CKEDITOR.tools.getMouseButton(event)\x3d\x3d\x3dCKEDITOR.MOUSE_BUTTON_LEFT\x26\x26':
"",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(h||a),text:d||a};this._.pendingList.push(f.output(a))},startGroup:commit:toggle:hideGroup:hideItem:showAll:function(){var a=this._.items,c=this._.groups,d=this.element.getDocument();for(g in a)d.getById(a[g]).setStyle("display","");for(var f in c){a=d.getById(c[f]);var g=a.getNext();a.setStyle("display","");g&&"ul"==g.getName()&&g.setStyle("display",
"")}},mark:markFirstDisplayed:unmark:unmarkAll:isMarked:focus:})}});CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}});(function(){var a='\x3cspan id\x3d"{id}" class\x3d"cke_combo cke_combo__{name} {cls}" role\x3d"presentation"\x3e\x3cspan id\x3d"{id}_label" class\x3d"cke_combo_label"\x3e{label}\x3c/span\x3e\x3ca class\x3d"cke_combo_button" title\x3d"{title}" tabindex\x3d"-1"'+
(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href\x3d\"javascript:void('{titleJs}')\"")+' hidefocus\x3d"true" role\x3d"button" aria-labelledby\x3d"{id}_label" aria-haspopup\x3d"listbox"',f="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(a+=' onkeypress\x3d"return false;"');CKEDITOR.env.gecko&&(a+=' onblur\x3d"this.style.cssText \x3d this.style.cssText;"');CKEDITOR.env.ie&&(f='return false;" onmouseup\x3d"CKEDITOR.tools.getMouseButton(event)\x3d\x3dCKEDITOR.MOUSE_BUTTON_LEFT\x26\x26');a+=' onkeydown\x3d"return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus\x3d"return CKEDITOR.tools.callFunction({focusFn},event);" onclick\x3d"'+
f+'CKEDITOR.tools.callFunction({clickFn},this);return false;"\x3e\x3cspan id\x3d"{id}_text" class\x3d"cke_combo_text cke_combo_inlinelabel"\x3e{label}\x3c/span\x3e\x3cspan class\x3d"cke_combo_open"\x3e\x3cspan class\x3d"cke_combo_arrow"\x3e'+(CKEDITOR.env.hc?"\x26#9660;":CKEDITOR.env.air?"\x26nbsp;":"")+"\x3c/span\x3e\x3c/span\x3e\x3c/a\x3e\x3c/span\x3e";var d=CKEDITOR.addTemplate("combo",a);CKEDITOR.UI_RICHCOMBO="richcombo";CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:proto:{renderHtml:render:function(a,b){ar f=CKEDITOR.env,m="cke_"+this.id,g=CKEDITOR.tools.addFunction(this),l=this;var e={id:m,combo:this,focus:execute:clickFn:g};this._.listeners.push(a.on("activeFilterChange",c,this));this._.listeners.push(a.on("mode",c,this));this._.listeners.push(a.on("selectionChange",c,this));!this.readOnly&&this._.listeners.push(a.on("readOnly",c,this));var n=CKEDITOR.tools.addFunction(,u=CKEDITOR.tools.addFunction(function(){e.onfocus&&e.onfocus()});var x=0;e.keyDownFn=n;f={id:m,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:f.gecko&&!f.hc?"":(this.title||"").replace("'",""),keydownFn:n,focusFn:u,clickFn:g};d.output(f,b);if(this.onRender)this.onRender();return e},createPanel:function(a){if(!this._.panel){var b=this._.panelDefinition,c=this._.panelDefinition.block,d=b.parent||CKEDITOR.document.getBody(),
f="cke_combopanel__"+this.name,g=new CKEDITOR.ui.floatPanel(a,d,b);b=g.addListBlock(this.id,c);var l=this;g.onShow=g.onHide=g.onEscape=function(){g.hide(1)};b.onClick=this._.panel=g;this._.list=b;g.getBlock(this.id).onHide=this.init&&this.init()}},setValue:getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(a){this._.list.mark(a)},
hideItem:function(a){this._.list.hideItem(a)},hideGroup:function(a){this._.list.hideGroup(a)},showAll:add:startGroup:function(a){this._.list.startGroup(a)},commit:setState:getState:function(){return this._.state},enable:disable:destroy:select:,statics:{handler:{create:function(a){return new CKEDITOR.ui.richCombo(a)}}}});CKEDITOR.ui.prototype.addRichCombo=function(a,b){this.add(a,CKEDITOR.UI_RICHCOMBO,b)}})();(function(){function a(a,d){var b=a.config,k=d.lang,g=new CKEDITOR.style(d.styleDefinition),l=new c({entries:d.entries,styleVariable:d.styleVariable,styleDefinition:d.styleDefinition});a.addCommand(d.commandName,{exec:function(a,b){var c=b.newStyle;b=b.oldStyle;var d=a.getSelection().getRanges()[0],
e=void 0===c;if(b||c)if(b&&d.collapsed&&f({editor:a,range:d,style:b}),e)a.removeStyle(b);else{if(d=b)d=b instanceof CKEDITOR.style&&c instanceof CKEDITOR.style?CKEDITOR.style.getStyleText(b.getDefinition())===CKEDITOR.style.getStyleText(c.getDefinition()):!1,d=!d;d&&a.removeStyle(b);a.applyStyle(c)}},refresh:function(a,b){g.checkApplicable(b,a,a.activeFilter)||this.setState(CKEDITOR.TRISTATE_DISABLED)}});var e=a.getCommand(d.commandName);a.ui.addRichCombo(d.comboName,{label:k.label,title:k.panelTitle,
command:d.commandName,toolbar:"styles,"+d.order,defaultValue:"cke-default",allowedContent:g,requiredContent:g,contentTransformations:"span"===d.styleDefinition.element?[[{element:"font",check:"span",left:right:]]:null,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(b.contentsCss),multiSelect:!1,attributes:{"aria-label":k.panelTitle}},init:function(){var b="("+a.lang.common.optionDefault+")";this.startGroup(k.panelTitle);this.add(this.defaultValue,b,b);l.addToCombo(this)},onClick:function(b){var c=this.getValue();a.focus();a.fire("saveSnapshot");a.execCommand(d.commandName,
{newStyle:l.getStyle(b),oldStyle:l.getStyle(c)});a.fire("saveSnapshot")},onRender:function(){a.on("selectionChange",function(b){var c=this.getValue();(b=l.getMatchingValue(a,b.data.path))?b!=c&&this.setValue(b):this.setValue("",d.defaultLabel)},this);e.on("state",function(){this.setState(e.state)},this)},refresh:function(){this.setState(e.state)}})}function f(a){var b=a.editor,c=a.range,f=a.style;var g=b.elementPath();if(a=g.contains(function(a){return f.checkElementRemovable(a)})){var l=c.checkBoundaryOfElement(a,
CKEDITOR.START);var e=c.checkBoundaryOfElement(a,CKEDITOR.END);if(l&&e){for(l=c.createBookmark();g=a.getFirst();)g.insertBefore(a);a.remove();c.moveToBookmark(l)}else l||e?c.moveToPosition(a,l?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_END):(c.splitElement(a),c.moveToPosition(a,CKEDITOR.POSITION_AFTER_END)),d(c,g.elements.slice(),a);b.getSelection().selectRanges([c])}}ar c=CKEDITOR.tools.createClass({$:function(a){var b=a.entries.split(";");this._.data={};this._.names=[];for(var c=0;c<b.length;c++){var d=b[c],f,l;d?(d=d.split("/"),f=d[0],d=d[1],l={},l[a.styleVariable]=d||f,this._.data[f]=new CKEDITOR.style(a.styleDefinition,l),this._.data[f]._.definition.name=f,this._.names.push(f)):(b.splice(c,1),c--)}},proto:{getStyle:function(a){return this._.data[a]},addToCombo:function(a){for(var b=0;b<this._.names.length;b++){var c=
this._.names[b];a.add(c,this.getStyle(c).buildPreview(),c)}},getMatchingValue:function(a,c){c=c.elements;for(var b=0,d;b<c.length;b++)if(d=c[b],d=this._.findMatchingStyleName(a,d))return d;return null}},_:{findMatchingStyleName:function(a,c){return CKEDITOR.tools.array.find(this._.names,function(b){return this.getStyle(b).checkElementMatch(c,!0,a)},this)}}});CKEDITOR.plugins.add("font",{requires:"richcombo",init:function(b){var c=b.config;a(b,{comboName:"Font",commandName:"font",styleVariable:"family",
lang:b.lang.font,entries:c.font_names,defaultLabel:c.font_defaultLabel,styleDefinition:c.font_style,order:30});a(b,{comboName:"FontSize",commandName:"fontSize",styleVariable:"size",lang:b.lang.font.fontSize,entries:c.fontSize_sizes,defaultLabel:c.fontSize_defaultLabel,styleDefinition:c.fontSize_style,order:40})}})})();CKEDITOR.config.font_names="Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif";
CKEDITOR.config.font_defaultLabel="";CKEDITOR.config.font_style={element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]};CKEDITOR.config.fontSize_sizes="8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px";CKEDITOR.config.fontSize_defaultLabel="";CKEDITOR.config.fontSize_style={element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]};CKEDITOR.plugins.add("format",
{requires:"richcombo",init:);CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div";CKEDITOR.config.format_p={element:"p"};CKEDITOR.config.format_div={element:"div"};CKEDITOR.config.format_pre={element:"pre"};CKEDITOR.config.format_address={element:"address"};
CKEDITOR.config.format_h1={element:"h1"};CKEDITOR.config.format_h2={element:"h2"};CKEDITOR.config.format_h3={element:"h3"};CKEDITOR.config.format_h4={element:"h4"};CKEDITOR.config.format_h5={element:"h5"};CKEDITOR.config.format_h6={element:"h6"};CKEDITOR.plugins.add("forms",{requires:"dialog,fakeobjects",onLoad:init:afterInit:function(a){var f=a.dataProcessor,d=f&&f.htmlFilter;f=f&&f.dataFilter;CKEDITOR.env.ie&&d&&d.addRules({elements:{input:},{applyToAll:!0});f&&f.addRules({elements:{input:},{applyToAll:!0})}});CKEDITOR.plugins.forms={_setupRequiredAttribute:;(();CKEDITOR.plugins.add("htmlwriter",{init:);CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:proto:{openTag:openTagClose:attribute:closeTag:text:comment:lineBreak:indentation:reset:setRules:});(();(();CKEDITOR.config.image_removeLinkByEmptyURL=!0;(function(){ar f=CKEDITOR.TRISTATE_DISABLED,d=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:);CKEDITOR.plugins.indent={genericDefinition:specificDefinition:registerCommands:;CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}};CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(a,b){b=this.jobs[b];if(b.state!=f)return b.exec.call(this,a)},refreshJob:getContext:})();
(function(){r d=CKEDITOR.dtd.$listItem,c=CKEDITOR.dtd.$list,b=CKEDITOR.TRISTATE_DISABLED,k=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentblock",{requires:"indent",init:function(h){function m(){g.specificDefinition.apply(this,
arguments);this.allowedContent={"div h1 h2 h3 h4 h5 h6 ol p pre ul":{propertiesOnly:!0,styles:l?null:"margin-left,margin-right",classes:l||null}};this.contentTransformations=[["div: splitMarginShorthand"],["h1: splitMarginShorthand"],["h2: splitMarginShorthand"],["h3: splitMarginShorthand"],["h4: splitMarginShorthand"],["h5: splitMarginShorthand"],["h6: splitMarginShorthand"],["ol: splitMarginShorthand"],["p: splitMarginShorthand"],["pre: splitMarginShorthand"],["ul: splitMarginShorthand"]];this.enterBr&&
(this.allowedContent.div=!0);this.requiredContent=(this.enterBr?"div":"p")+(l?"("+l.join(",")+")":"{margin-left}");this.jobs={20:{refresh:function(a,c){a=c.block||c.blockLimit;if(!a.is(d)){var e=a.getAscendant(d);a=e&&c.contains(e)||a}a.is(d)&&(a=a.getParent());return this.enterBr||this.getContext(c)?l?(e=l,a=a.$.className.match(this.classNameRegex),c=this.isIndent,(e=a?c?a[1]!=e.slice(-1):!0:c)?k:b):this.isIndent?k:a?CKEDITOR[0>=(parseInt(a.getStyle(f(a)),10)||0)?"TRISTATE_DISABLED":"TRISTATE_OFF"]:
b:b},exec:function(b){var d=b.getSelection();d=d&&d.getRanges()[0];var e;if(e=b.elementPath().contains(c))a.call(this,e,l);else for(d=d.createIterator(),b=b.config.enterMode,d.enforceRealBlocks=!0,d.enlargeBr=b!=CKEDITOR.ENTER_BR;e=d.getNextParagraph(b==CKEDITOR.ENTER_P?"p":"div");)e.isReadOnly()||a.call(this,e,l);return!0}}}}var g=CKEDITOR.plugins.indent,l=h.config.indentClasses;g.registerCommands(h,{indentblock:new m(h,"indentblock",!0),outdentblock:new m(h,"outdentblock")});CKEDITOR.tools.extend(m.prototype,
g.specificDefinition.prototype,{context:{div:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,p:1,pre:1,table:1},classNameRegex:l?new RegExp("(?:^|\\s+)("+l.join("|")+")(?\x3d$|\\s)"):null})}})})();(function(){function a(a){function b(b){for(var f=k.startContainer,g=k.endContainer;f&&!f.getParent().equals(b);)f=f.getParent();for(;g&&!g.getParent().equals(b);)g=g.getParent();if(!f||!g)return!1;for(var l=[],m=!1;!m;)f.equals(g)&&(m=!0),l.push(f),f=f.getNext();if(1>l.length)return!1;f=b.getParents(!0);
for(g=0;g<f.length;g++)if(f[g].getName&&h[f[g].getName()]){b=f[g];break}f=c.isIndent?1:-1;g=l[0];l=l[l.length-1];m=CKEDITOR.plugins.list.listToArray(b,e);var n=m[l.getCustomData("listarray_index")].indent;for(g=g.getCustomData("listarray_index");g<=l.getCustomData("listarray_index");g++)if(m[g].indent+=f,0<f){for(var p=m[g].parent,q=g-1;0<=q;q--)if(m[q].indent===f){p=m[q].parent;break}m[g].parent=new CKEDITOR.dom.element(p.getName(),p.getDocument())}for(g=l.getCustomData("listarray_index")+1;g<m.length&&
m[g].indent>n;g++)m[g].indent+=f;f=CKEDITOR.plugins.list.arrayToList(m,e,null,a.config.enterMode,b.getDirection());if(!c.isIndent){var u;if((u=b.getParent())&&u.is("li")){l=f.listNode.getChildren();var E=[],v;for(g=l.count()-1;0<=g;g--)(v=l.getItem(g))&&v.is&&v.is("li")&&E.push(v)}}f&&f.listNode.replace(b);if(E&&E.length)for(g=0;g<E.length;g++){for(v=b=E[g];(v=v.getNext())&&v.is&&v.getName()in h;)CKEDITOR.env.needsNbspFiller&&!b.getFirst(d)&&b.append(k.document.createText("\u00a0")),b.append(v);b.insertAfter(u)}f&&
a.fire("contentDomInvalidated");return!0}var c=this,e=this.database,h=this.context,k,m=a.getSelection();for(m=(m&&m.getRanges()).createIterator();k=m.getNextRange();){for(var v=k.getCommonAncestor();v&&(v.type!=CKEDITOR.NODE_ELEMENT||!h[v.getName()]);){if(a.editable().equals(v)){v=!1;break}v=v.getParent()}v||(v=k.startPath().contains(h))&&k.setEndAt(v,CKEDITOR.POSITION_BEFORE_END);if(!v){var q=k.getEnclosedNode();q&&q.type==CKEDITOR.NODE_ELEMENT&&q.getName()in h&&(k.setStartAt(q,CKEDITOR.POSITION_AFTER_START),
k.setEndAt(q,CKEDITOR.POSITION_BEFORE_END),v=q)}v&&k.startContainer.type==CKEDITOR.NODE_ELEMENT&&k.startContainer.getName()in h&&(q=new CKEDITOR.dom.walker(k),q.evaluator=f,k.startContainer=q.next());v&&k.endContainer.type==CKEDITOR.NODE_ELEMENT&&k.endContainer.getName()in h&&(q=new CKEDITOR.dom.walker(k),q.evaluator=f,k.endContainer=q.previous());if(v)return b(v)}return 0}function f(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.is("li")}function d(a){return c(a)&&b(a)}var c=CKEDITOR.dom.walker.whitespaces(!0),
b=CKEDITOR.dom.walker.bookmark(!1,!0),k=CKEDITOR.TRISTATE_DISABLED,h=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(b){function c(b){d.specificDefinition.apply(this,arguments);this.requiredContent=["ul","ol"];b.on("key",
this);this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(a,b){a=this.getContext(b);b=CKEDITOR.plugins.indentList.firstItemInPath(this.context,b,a);return a&&this.isIndent&&!b?h:k}:exec:CKEDITOR.tools.bind(a,this)}}var d=CKEDITOR.plugins.indent;d.registerCommands(b,{indentlist:new c(b,"indentlist",!0),outdentlist:new c(b,"outdentlist")});CKEDITOR.tools.extend(c.prototype,d.specificDefinition.prototype,{context:{ol:1,ul:1}})}});
CKEDITOR.plugins.indentList={};CKEDITOR.plugins.indentList.firstItemInPath=)();(function(){function a(a,b){b=void 0===b||b;if(b)var c=a.getComputedStyle("text-align");else{for(;!a.hasAttribute||!a.hasAttribute("align")&&!a.getStyle("text-align");){c=a.getParent();if(!c)break;a=c}c=a.getStyle("text-align")||a.getAttribute("align")||""}c&&(c=c.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i,""));!c&&b&&(c=
"rtl"==a.getComputedStyle("direction")?"right":"left");return c}prototype={exec:function(c){var b=c.getSelection(),d=c.config.enterMode;if(b){var f=b.createBookmarks(),m=b.getRanges(),g=this.cssClassName,l,e=c.config.useComputedState;e=void 0===e||e;for(var n=m.length-
1;0<=n;n--){var u=m[n].createIterator();for(u.enlargeBr=d!=CKEDITOR.ENTER_BR;l=u.getNextParagraph(d==CKEDITOR.ENTER_P?"p":"div");)if(!l.isReadOnly()){var x=l.getName();var v=c.activeFilter.check(x+"{text-align}");if((x=c.activeFilter.check(x+"("+g+")"))||v){l.removeAttribute("align");l.removeStyle("text-align");var q=g&&(l.$.className=CKEDITOR.tools.ltrim(l.$.className.replace(this.cssClassRegex,""))),p=this.state==CKEDITOR.TRISTATE_OFF&&(!e||a(l,!0)!=this.value);g&&x?p?l.addClass(g):q||l.removeAttribute("class"):
p&&v&&l.setStyle("text-align",this.value)}}}c.focus();c.forceNextSelectionCheck();b.selectBookmarks(f)}},refresh:function(c,b){var d=b.block||b.blockLimit,f=d.getName(),m=d.equals(c.editable());f=this.cssClassName?c.activeFilter.check(f+"("+this.cssClassName+")"):c.activeFilter.check(f+"{text-align}");m&&!CKEDITOR.dtd.$list[b.lastElement.getName()]?this.setState(CKEDITOR.TRISTATE_OFF):!m&&f?this.setState(a(d,this.editor.config.useComputedState)==this.value?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):
this.setState(CKEDITOR.TRISTATE_DISABLED)}};CKEDITOR.plugins.add("justify",{init:)})();CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var a=CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,
$:statics:{handler:{create:function(a){return new CKEDITOR.ui.menuButton(a)}}}})},beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}});CKEDITOR.UI_MENUBUTTON="menubutton";(function(){CKEDITOR.plugins.add("language",{requires:"menubutton",init:function(a){var f=a.config.language_list||["ar:Arabic:rtl","fr:French","es:Spanish"],d=this,c=a.lang.language,b={},k;a.addCommand("language",
{allowedContent:"span[!lang,!dir]",requiredContent:"span[lang,dir]",contextSensitive:!0,exec:function(a,c){if(c=b["language_"+c])a[c.style.checkActive(a.elementPath(),a)?"removeStyle":"applyStyle"](c.style)},refresh:);for(k=0;k<f.length;k++){var h=f[k].split(":");var m=h[0];var g="language_"+m;b[g]={label:h[1],langId:m,group:"language",order:k,ltr:"rtl"!=(""+h[2]).toLowerCase(),onClick:role:"menuitemcheckbox"};b[g].style=new CKEDITOR.style({element:"span",attributes:{lang:m,dir:b[g].ltr?"ltr":"rtl"}})}b.language_remove={label:c.remove,group:"language_remove",state:CKEDITOR.TRISTATE_DISABLED,order:b.length,onClick:;a.addMenuGroup("language",1);a.addMenuGroup("language_remove");a.addMenuItems(b);a.ui.add("Language",CKEDITOR.UI_MENUBUTTON,{label:c.button,allowedContent:"span[!lang,!dir]",
requiredContent:"span[lang,dir]",toolbar:"bidi,30",command:"language",onMenu:);a.addRemoveFormatFilter&&a.addRemoveFormatFilter(},getCurrentLangElement:)})();(function(){function a(a){for(var b=a.length,c=[],d,e=0;e<b;e++)d=a.charCodeAt(e),c.push(d);return"String.fromCharCode("+c.join(",")+")"}function f(a,b){a=a.plugins.link;var c=a.compiledProtectionFunction.params;a=[a.compiledProtectionFunction.name,"("];for(var d,e,f=0;f<c.length;f++)d=c[f].toLowerCase(),e=b[d],0<f&&a.push(","),a.push("'",e?encodeURIComponent(b[d]).replace(/'/g,
"\\$\x26"):"","'");a.push(")");return a.join("")}KEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:init:afterInit:);
var c=/^javascript:/,b=/^(?:mailto)(?:(?!\?(subject|body)=).)+/i,k=/subject=([^;?:@&=$,\/]*)/i,h=/body=([^;?:@&=$,\/]*)/i,m=/^#(.*)$/,g=/^((?:http|https|ftp|news):\/\/)?(.*)$/,l=/^(_(?:self|top|parent|blank))$/,e=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,n=/^javascript:([^(]+)\(([^)]+)\)$/,u=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,x=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,v=/^tel:(.*)$/,q={id:"advId",
dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType","class":"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:getEditorAnchors:function(a){var b=a.editable(),c=b.isInline()&&!a.plugins.divarea?a.document:b;b=c.getElementsByTag("a");c=c.getElementsByTag("img");for(var d=[],e=0,f;f=b.getItem(e++);)(f.data("cke-saved-name")||f.hasAttribute("name"))&&d.push({name:f.data("cke-saved-name")||f.getAttribute("name"),id:f.getAttribute("id")});for(e=0;f=c.getItem(e++);)(f=this.tryRestoreFakeAnchor(a,f))&&d.push({name:f.getAttribute("name"),id:f.getAttribute("id")});
return d},fakeAnchor:!0,tryRestoreFakeAnchor:function(a,b){if(b&&b.data("cke-real-element-type")&&"anchor"==b.data("cke-real-element-type")&&(a=a.restoreRealElement(b),a.data("cke-saved-name")))return a},parseLinkAttributes:function(a,d){var f=d&&(d.data("cke-saved-href")||d.getAttribute("href"))||"",p=a.plugins.link.compiledProtectionFunction;a=a.config.emailProtection;var t={};f.match(c)&&("encode"==a?f=f.replace(e,:a&&f.replace(n,);if(!t.type)if(a=f.match(m))t.type="anchor",t.anchor={},t.anchor.name=t.anchor.id=a[1];else if(a=f.match(v))t.type="tel",t.tel=a[1];else if(a=f.match(b)){var z=f.match(k);f=f.match(h);var w=
t.email={};t.type="email";w.address=a[0].replace("mailto:","");z&&(w.subject=decodeURIComponent(z[1]));f&&(w.body=decodeURIComponent(f[1]))}else f&&(z=f.match(g))&&(t.type="url",t.url={},t.url.protocol=z[1],t.url.url=z[2]);if(d){if(f=d.getAttribute("target"))t.target={type:f.match(l)?f:"frame",name:f};else if(f=(f=d.data("cke-pa-onclick")||d.getAttribute("onclick"))&&f.match(u))for(t.target={type:"popup",name:f[1]};a=x.exec(f[2]);)"yes"!=a[2]&&"1"!=a[2]||a[1]in{height:1,width:1,top:1,left:1}?isFinite(a[2])&&
(t.target[a[1]]=a[2]):t.target[a[1]]=!0;null!==d.getAttribute("download")&&(t.download=!0);f={};for(var y in q)(a=d.getAttribute(y))&&(f[q[y]]=a);if(y=d.data("cke-saved-name")||f.advName)f.advName=y;CKEDITOR.tools.isEmpty(f)||(t.advanced=f)}return t},getLinkAttributes:function(b,c){var d=b.config.emailProtection||"",e={};switch(c.type){case "url":d=c.url&&void 0!==c.url.protocol?c.url.protocol:"http://";var g=c.url&&CKEDITOR.tools.trim(c.url.url)||"";e["data-cke-saved-href"]=0===g.indexOf("/")?g:
d+g;break;case "anchor":d=c.anchor&&c.anchor.id;e["data-cke-saved-href"]="#"+(c.anchor&&c.anchor.name||d||"");break;case "email":var h=c.email;g=h.address;switch(d){case "":case "encode":b=encodeURIComponent(h.subject||"");var k=encodeURIComponent(h.body||"");h=[];b&&h.push("subject\x3d"+b);k&&h.push("body\x3d"+k);h=h.length?"?"+h.join("\x26"):"";"encode"==d?(d=["javascript:void(location.href\x3d'mailto:'+",a(g)],h&&d.push("+'",h.replace(/'/g,"\\$\x26"),"'"),d.push(")")):d=["mailto:",g,h];break;default:d=
g.split("@",2),h.name=d[0],h.domain=d[1],d=["javascript:",f(b,h)]}e["data-cke-saved-href"]=d.join("");break;case "tel":e["data-cke-saved-href"]="tel:"+c.tel}if(c.target)if("popup"==c.target.type){d=["window.open(this.href, '",c.target.name||"","', '"];var l="resizable status location toolbar menubar fullscreen scrollbars dependent".split(" ");g=l.length;b=for(h=0;h<g;h++)l[h]+=c.target[l[h]]?"\x3dyes":"\x3dno";b("width");b("left");b("height");
b("top");d.push(l.join(","),"'); return false;");e["data-cke-pa-onclick"]=d.join("")}else"notSet"!=c.target.type&&c.target.name&&(e.target=c.target.name);c.download&&(e.download="");if(c.advanced){for(var m in q)(d=c.advanced[q[m]])&&(e[m]=d);e.name&&(e["data-cke-saved-name"]=e.name)}e["data-cke-saved-href"]&&(e.href=e["data-cke-saved-href"]);m={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1,download:1};c.advanced&&CKEDITOR.tools.extend(m,q);for(var n in e)delete m[n];return{set:e,
removed:CKEDITOR.tools.object.keys(m)}},showDisplayTextForElement:;CKEDITOR.unlinkCommand=function(){};CKEDITOR.unlinkCommand.prototype={exec:refresh:function(a,b){(a=b.lastElement&&b.lastElement.getAscendant("a",!0))&&"a"==a.getName()&&a.getAttribute("href")&&a.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,
requiredContent:"a[href]",editorFocus:1};CKEDITOR.removeAnchorCommand=function(){};CKEDITOR.removeAnchorCommand.prototype={exec:
requiredContent:"a[name]"};CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0,linkDefaultProtocol:"http://"})})();(function(){function a(a,b,c,d){for(var e=CKEDITOR.plugins.list.listToArray(b.root,c),f=[],g=0;g<b.contents.length;g++){var h=b.contents[g];(h=h.getAscendant("li",!0))&&!h.getCustomData("list_item_processed")&&(f.push(h),CKEDITOR.dom.element.setMarker(c,h,"list_item_processed",!0))}h=b.root.getDocument();var k;for(g=0;g<f.length;g++){var l=f[g].getCustomData("listarray_index");
var m=e[l].parent;m.is(this.type)||(k=h.createElement(this.type),m.copyAttributes(k,{start:1,type:1}),k.removeStyle("list-style-type"),e[l].parent=k)}c=CKEDITOR.plugins.list.arrayToList(e,c,null,a.config.enterMode);var n;e=c.listNode.getChildCount();for(g=0;g<e&&(n=c.listNode.getChild(g));g++)n.getName()==this.type&&d.push(n);c.listNode.replace(b.root);a.fire("contentDomInvalidated")}function f(a,b,c){var d=b.contents,e=b.root.getDocument(),f=[];if(1==d.length&&d[0].equals(b.root)){var g=e.createElement("div");
d[0].moveChildren&&d[0].moveChildren(g);d[0].append(g);d[0]=g}b=b.contents[0].getParent();for(g=0;g<d.length;g++)b=b.getCommonAncestor(d[g].getParent());a=a.config.useComputedState;var h,k;a=void 0===a||a;for(g=0;g<d.length;g++)for(var l=d[g],m;m=l.getParent();){if(m.equals(b)){f.push(l);!k&&l.getDirection()&&(k=1);l=l.getDirection(a);null!==h&&(h=h&&h!=l?null:l);break}l=m}if(!(1>f.length)){d=f[f.length-1].getNext();g=e.createElement(this.type);for(c.push(g);f.length;)c=f.shift(),a=e.createElement("li"),
l=c,l.is("pre")||v.test(l.getName())||"false"==l.getAttribute("contenteditable")?c.appendTo(a):(c.copyAttributes(a),h&&c.getDirection()&&(a.removeStyle("direction"),a.removeAttribute("dir")),c.moveChildren(a),c.remove()),a.appendTo(g);h&&k&&g.setAttribute("dir",h);d?g.insertBefore(d):g.appendTo(b)}}ion m(a,c,d){a.fire("saveSnapshot");d.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var e=d.extractContents();c.trim(!1,!0);var f=c.createBookmark(),h=new CKEDITOR.dom.elementPath(c.startContainer),l=h.block;h=h.lastElement.getAscendant("li",
1)||l;var m=new CKEDITOR.dom.elementPath(d.startContainer),n=m.contains(CKEDITOR.dtd.$listItem);m=m.contains(CKEDITOR.dtd.$list);l?(l=l.getBogus())&&l.remove():m&&(l=m.getPrevious(u))&&x(l)&&l.remove();(l=e.getLast())&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("br")&&l.remove();(l=c.startContainer.getChild(c.startOffset))?e.insertBefore(l):c.startContainer.append(e);for(n&&(e=g(n))&&(h.contains(n)?(b(e,n.getParent(),n),e.remove()):h.append(e));d.checkStartOfBlock()&&d.checkEndOfBlock();){m=d.startPath();
e=m.block;if(!e)break;e.is("li")&&(h=e.getParent(),e.equals(h.getLast(u))&&e.equals(h.getFirst(u))&&(e=h));d.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START);e.remove()}d=d.clone();e=a.editable();d.setEndAt(e,CKEDITOR.POSITION_BEFORE_END);d=new CKEDITOR.dom.walker(d);d.evaluator=function(a){return u(a)&&!x(a)};(d=d.next())&&d.type==CKEDITOR.NODE_ELEMENT&&d.getName()in CKEDITOR.dtd.$list&&k(d);c.moveToBookmark(f);c.select();a.fire("saveSnapshot")}ar l={ol:1,ul:1},e=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(),u=function(a){return!(e(a)||n(a))},x=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:arrayToList:function(a,b,c,d,e){c||(c=0);if(!a||a.length<
c+1)return null;for(var f,g=a[c].parent.getDocument(),h=new CKEDITOR.dom.documentFragment(g),k=null,m=c,q=Math.max(a[c].indent,0),p=null,r,t,v=d==CKEDITOR.ENTER_P?"p":"div";;){var A=a[m];f=A.grandparent;r=A.element.getDirection(1);if(A.indent==q){k&&a[m].parent.getName()==k.getName()||(k=a[m].parent.clone(!1,1),e&&k.setAttribute("dir",e),h.append(k));p=k.append(A.element.clone(0,1));r!=k.getDirection(1)&&p.setAttribute("dir",r);for(f=0;f<A.contents.length;f++)p.append(A.contents[f].clone(1,1));m++}else if(A.indent==
Math.max(q,0)+1)A=a[m-1].element.getDirection(1),m=CKEDITOR.plugins.list.arrayToList(a,null,m,d,A!=r?r:null),!p.getChildCount()&&CKEDITOR.env.needsNbspFiller&&7>=g.$.documentMode&&p.append(g.createText("\u00a0")),p.append(m.listNode),m=m.nextIndex;else if(-1==A.indent&&!c&&f){l[f.getName()]?(p=A.element.clone(!1,!0),r!=f.getDirection(1)&&p.setAttribute("dir",r)):p=new CKEDITOR.dom.documentFragment(g);k=f.getDirection(1)!=r;var x=A.element,B=x.getAttribute("class"),I=x.getAttribute("style"),M=p.type==
CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(d!=CKEDITOR.ENTER_BR||k||I||B),Q,R=A.contents.length,S;for(f=0;f<R;f++)if(Q=A.contents[f],n(Q)&&1<R)M?S=Q.clone(1,1):p.append(Q.clone(1,1));else if(Q.type==CKEDITOR.NODE_ELEMENT&&Q.isBlockBoundary()){k&&!Q.getDirection()&&Q.setAttribute("dir",r);t=Q;var U=x.getAttribute("style");U&&t.setAttribute("style",U.replace(/([^;])$/,"$1;")+(t.getAttribute("style")||""));B&&Q.addClass(B);t=null;S&&(p.append(S),S=null);p.append(Q.clone(1,1))}else M?(t||(t=g.createElement(v),
p.append(t),k&&t.setAttribute("dir",r)),I&&t.setAttribute("style",I),B&&t.setAttribute("class",B),S&&(t.append(S),S=null),t.append(Q.clone(1,1))):p.append(Q.clone(1,1));S&&((t||p).append(S),S=null);p.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&m!=a.length-1&&(CKEDITOR.env.needsBrFiller&&(r=p.getLast())&&r.type==CKEDITOR.NODE_ELEMENT&&r.is("br")&&r.remove(),(r=p.getLast(u))&&r.type==CKEDITOR.NODE_ELEMENT&&r.is(CKEDITOR.dtd.$block)||p.append(g.createElement("br")));r=p.$.nodeName.toLowerCase();"div"!=r&&
"p"!=r||p.appendBogus();h.append(p);k=null;m++}else return null;t=null;if(a.length<=m||Math.max(a[m].indent,0)<q)break}if(b)for(a=h.getFirst();a;){if(a.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(b,a),a.getName()in CKEDITOR.dtd.$listItem&&(c=a,g=d=void 0,d=c.getDirection()))){for(e=c.getParent();e&&!(g=e.getDirection());)e=e.getParent();d==g&&c.removeAttribute("dir")}a=a.getNextSourceNode()}return{listNode:h,nextIndex:m}}};var v=/^h[1-6]$/,q=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);
c.prototype={exec:function(b){s.refresh(b,b.elementPath());var h=b.config,m=b.getSelection(),n=m&&m.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var q=
b.editable();if(q.getFirst(u)){var p=1==n.length&&n[0];(h=p&&p.getEnclosedNode())&&h.is&&this.type==h.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else h.enterMode==CKEDITOR.ENTER_BR?q.appendBogus():n[0].fixBlock(1,h.enterMode==CKEDITOR.ENTER_P?"p":"div"),m.selectRanges(n)}h=m.createBookmarks(!0);q=[];var v={};n=n.createIterator();for(var x=0;(p=n.getNextRange())&&++x;){var G=p.getBoundaryNodes(),H=G.startNode,N=G.endNode;H.type==CKEDITOR.NODE_ELEMENT&&"td"==H.getName()&&p.setStartAt(G.startNode,
CKEDITOR.POSITION_AFTER_START);N.type==CKEDITOR.NODE_ELEMENT&&"td"==N.getName()&&p.setEndAt(G.endNode,CKEDITOR.POSITION_BEFORE_END);p=p.createIterator();for(p.forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;G=p.getNextParagraph();)if(!G.getCustomData("list_block")&&!g(G)){CKEDITOR.dom.element.setMarker(v,G,"list_block",1);var O=b.elementPath(G);H=O.elements;N=0;O=O.blockLimit;for(var K,J=H.length-1;0<=J&&(K=H[J]);J--)if(l[K.getName()]&&O.contains(K)){O.removeCustomData("list_group_object_"+x);(H=K.getCustomData("list_group_object"))?
H.contents.push(G):(H={root:K,contents:[G]},q.push(H),CKEDITOR.dom.element.setMarker(v,K,"list_group_object",H));N=1;break}N||(N=O,N.getCustomData("list_group_object_"+x)?N.getCustomData("list_group_object_"+x).contents.push(G):(H={root:N,contents:[G]},CKEDITOR.dom.element.setMarker(v,N,"list_group_object_"+x,H),q.push(H)))}}for(K=[];0<q.length;)H=q.shift(),this.state==CKEDITOR.TRISTATE_OFF?c(H)||(l[H.root.getName()]?a.call(this,b,H,v,K):f.call(this,b,H,K)):this.state==CKEDITOR.TRISTATE_ON&&l[H.root.getName()]&&
!c(H)&&d.call(this,b,H,v);for(J=0;J<K.length;J++)k(K[J]);CKEDITOR.dom.element.clearAllMarkers(v);m.selectBookmarks(h);b.focus()},refresh:function(a,b){a=b.contains(l,1);b=b.blockLimit||b.root;a&&b.contains(a)?this.setState(a.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.plugins.add("list",{requires:"indentlist",init:)})();(function(){CKEDITOR.plugins.liststyle={requires:"dialog,contextmenu",
init:function(a){if(!a.blockless){var f=new CKEDITOR.dialogCommand("numberedListStyle",{requiredContent:"ol",allowedContent:"ol{list-style-type}[start]; li{list-style-type}[value]",contentTransformations:[["ol: listTypeToStyle"]]});f=a.addCommand("numberedListStyle",f);a.addFeature(f);CKEDITOR.dialog.add("numberedListStyle",this.path+"dialogs/liststyle.js");f=new CKEDITOR.dialogCommand("bulletedListStyle",{requiredContent:"ul",allowedContent:"ul{list-style-type}",contentTransformations:[["ul: listTypeToStyle"]]});
f=a.addCommand("bulletedListStyle",f);a.addFeature(f);CKEDITOR.dialog.add("bulletedListStyle",this.path+"dialogs/liststyle.js");a.addMenuGroup("list",108);a.addMenuItems({numberedlist:{label:a.lang.liststyle.numberedTitle,group:"list",command:"numberedListStyle"},bulletedlist:{label:a.lang.liststyle.bulletedTitle,group:"list",command:"bulletedListStyle"}});a.contextMenu.addListener(}}};CKEDITOR.plugins.add("liststyle",CKEDITOR.plugins.liststyle)})();(function(){(a,b){if(!b||b.type!=CKEDITOR.NODE_ELEMENT||!b.$)return!1;a=a.line;return a.wrap.equals(b)||a.wrap.contains(b)}tion q(a,b){if(!b)return!1;b=b.getParents(1);for(var c=b.length;c--;)for(var d=a.tabuList.length;d--;)if(b[c].hasAttribute(a.tabuList[d]))return!0;return!1}unction t(a){var b=a.editable,c=a.mouse,d=a.view,g=a.triggerOffset;z(a);var h=c.y>(a.inInlineMode?d.editable.top+d.editable.height/2:Math.min(d.editable.height,d.pane.height)/
2);b=b[h?"getLast":"getFirst"](function(a){return!(Y(a)||Z(a))});if(!b)return null;e(a,b)&&(b=a.line.wrap[h?"getPrevious":"getNext"]();if(!n(b)||u(b)||!v(a,b))return null;A(a,b);return!h&&0<=b.size.top&&k(c.y,0,b.size.top+g)?(a=a.inInlineMode||0===d.scroll.y?M:R,new f([null,b,K,I,a])):h&&b.size.bottom<=d.pane.height&&k(c.y,b.size.bottom-g,d.pane.height)?(a=a.inInlineMode||k(b.size.bottom,d.pane.height-g,d.pane.height)?Q:R,new f([b,null,J,I,a])):null}function r(a){var c=
a.mouse,e=a.view,g=a.triggerOffset,h=d(a);if(!h)return null;A(a,h);g=Math.min(g,0|h.size.outerHeight/2);var l=[],m;if(k(c.y,h.size.top-1,h.size.top+g))var P=!1;else if(k(c.y,h.size.bottom-g,h.size.bottom+1))P=!0;else return null;if(u(h)||p(a,h,P)||h.getParent().is(U))return null;var q=b(a,h,!P);if(q){if(q&&q.type==CKEDITOR.NODE_TEXT)return null;if(n(q)){if(u(q)||!v(a,q)||q.getParent().is(U))return null;l=[q,h][P?"reverse":"concat"]().concat([C,I])}}else h.equals(a.editable[P?"getLast":"getFirst"](a.isRelevant))?
(z(a),P&&k(c.y,h.size.bottom-g,e.pane.height)&&k(h.size.bottom,e.pane.height-g,e.pane.height)?m=Q:k(c.y,0,h.size.top+g)&&(m=M)):m=R,l=[null,h][P?"reverse":"concat"]().concat([P?J:K,I,m,h.equals(a.editable[P?"getLast":"getFirst"](a.isRelevant))?P?Q:M:R]);return 0 in l?new f(l):null}ction w(a,b){a.view||(a.view={});var c=a.view;!b&&c&&c.date>new Date-ea||(b=a.win,c=b.getScrollPosition(),b=b.getViewPaneSize(),D(a.view,{scroll:{x:c.x,y:c.y,width:a.doc.$.documentElement.scrollWidth-b.width,height:a.doc.$.documentElement.scrollHeight-b.height},
pane:{width:b.width,height:b.height,bottom:b.height+c.y},date:+new Date},!0))}KEDITOR.plugins.add("magicline",{init:function(a){var c=a.config,h=c.magicline_triggerOffset||30,k={editor:a,enterMode:c.enterMode,triggerOffset:h,holdDistance:0|h*(c.magicline_holdDistance||
.5),boxColor:c.magicline_color||"#ff0000",rtl:"rtl"==c.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(c.magicline_tabuList||[]),triggers:c.magicline_everywhere?da:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}},P,p,L;k.isRelevant=a.on("contentDom",function(){var h=a.editable(),n=a.document,y=a.window;D(k,{editable:h,inInlineMode:h.isInline(),doc:n,win:y,hotNode:null},!0);k.boundary=k.inInlineMode?k.editable:k.doc.getDocumentElement();
h.is(N.$inline)||(k.inInlineMode&&!x(h)&&h.setStyles({position:"relative",top:null,left:null}),m.call(this,k),w(k),h.attachListener(a,"beforeUndoImage",function(){k.line.detach()}),h.attachListener(a,"beforeGetData",null,null,0),h.attachListener(k.inInlineMode?n:n.getWindow().getFrame(),"mouseout",,h.attachListener(h,"keyup",,h.attachListener(h,"keydown",,h.attachListener(k.inInlineMode?h:n,"mousemove",,h.attachListener(y,"scroll",,
h.attachListener(H?n:y,"mousedown",,h.attachListener(H?n:y,"mouseup",,a.addCommand("accessPreviousSpace",l(k)),a.addCommand("accessNextSpace",l(k,!0)),a.setKeystroke([[c.magicline_keystrokePrevious,"accessPreviousSpace"],[c.magicline_keystrokeNext,"accessNextSpace"]]),a.on("loadSnapshot",function(){var b,c,d;for(d in{p:1,br:1,div:1}){var e=a.document.getElementsByTag(d);for(c=e.count();c--;)if((b=
e.getItem(c)).data("cke-magicline-hot")){k.hotNode=b;k.lastCmdDirection="true"===b.data("cke-magicline-dir")?!0:!1;return}}}),a._.magiclineBackdoor={accessFocusSpace:g,boxTrigger:f,isLine:e,getAscendantTrigger:d,getNonEmptyNeighbour:b,getSize:B,that:k,triggerEdge:r,triggerEditable:t,triggerExpand:aa})},this)}});var D=CKEDITOR.tools.extend,E=CKEDITOR.dom.element,F=E.createFromHtml,G=CKEDITOR.env,H=CKEDITOR.env.ie&&9>CKEDITOR.env.version,N=CKEDITOR.dtd,O={},K=128,J=64,C=32,I=16,M=4,Q=2,R=1,S="\u00a0",
U=N.$listItem,X=N.$tableContent,T=D({},N.$nonEditable,N.$empty),da=N.$block,ea=100,ba="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",fa=ba+"border-color:transparent;display:block;border-style:solid;",ca="\x3cspan\x3e"+S+"\x3c/span\x3e";O[CKEDITOR.ENTER_BR]="br";O[CKEDITOR.ENTER_P]="p";O[CKEDITOR.ENTER_DIV]="div";f.prototype={set:is:;var ia=function(){function a(a,b){return(a=a.$.elementFromPoint(b.x,b.y))&&a.nodeType?new CKEDITOR.dom.element(a):null}return (),Y=CKEDITOR.dom.walker.whitespaces(),Z=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),aa=function(){function b(b){var e=
b.element;if(!n(e)||e.contains(b.editable)||e.isReadOnly())return null;var f=y(b,e);var g=f.upper;var h=f.lower;if(a(b,g,h))return f.set(C,8);if(g&&e.contains(g))for(;!g.getParent().equals(e);)g=g.getParent();else g=e.getFirst(function(a){return d(b,a)});if(h&&e.contains(h))for(;!h.getParent().equals(e);)h=h.getParent();else h=e.getLast(function(a){return d(b,a)});if(!g||!h)return null;A(b,g);A(b,h);if(!k(b.mouse.y,g.size.top,h.size.bottom))return null;
e=Number.MAX_VALUE;for(var l,m,P,q;h&&!h.equals(g)&&(m=g.getNext(b.isRelevant));)l=Math.abs(c(b,g,m)-b.mouse.y),l<e&&(e=l,P=g,q=m),g=m,A(b,g);if(!P||!q||!k(b.mouse.y,P.size.top,q.size.bottom))return null;f.upper=P;f.lower=q;return f.set(C,8)}eturn (),P=["top","left","right","bottom"]})();CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51;CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52;(function(){unction d(b,c){var d=a(b),g={};b=b.$;c||(g["class"]=b.className||"",b.className="");g.inline=b.style.cssText||"";c||(b.style.cssText="position: static; overflow: visible");f(d);return g}function c(b,c){var d=a(b);b=b.$;"class"in c&&(b.className=c["class"]);"inline"in c&&(b.style.cssText=c.inline);f(d)}KEDITOR.plugins.add("maximize",{init:function(a){f(a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var k=a.lang,g=CKEDITOR.document,l=g.getWindow(),e,n,u,x=CKEDITOR.TRISTATE_OFF;a.addCommand("maximize",
{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var h=a.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass("cke_inner")}),m=a.ui.space("contents");if("wysiwyg"==a.mode){var p=a.getSelection();e=p&&p.getRanges();n=l.getScrollPosition()}else{var t=a.editable().$;e=!CKEDITOR.env.ie&&[t.selectionStart,t.selectionEnd];n=[t.scrollLeft,t.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){l.on("resize",f);u=l.getScrollPosition();
for(p=a.container;p=p.getParent();)p.setCustomData("maximize_saved_styles",d(p)),p.setStyle("z-index",a.config.baseFloatZIndex-5);m.setCustomData("maximize_saved_styles",d(m,!0));h.setCustomData("maximize_saved_styles",d(h,!0));m={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0};g.getDocumentElement().setStyles(m);!CKEDITOR.env.gecko&&g.getDocumentElement().setStyle("position","fixed");CKEDITOR.env.gecko&&CKEDITOR.env.quirks||g.getBody().setStyles(m);CKEDITOR.env.ie?setTimeout(0):l.$.scrollTo(0,0);h.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute");h.$.offsetLeft;h.setStyles({"z-index":a.config.baseFloatZIndex-5,left:"0px",top:"0px"});h.addClass("cke_maximized");f();m=h.getDocumentPosition();h.setStyles({left:-1*m.x+"px",top:-1*m.y+"px"});CKEDITOR.env.gecko&&b(a)}else if(this.state==CKEDITOR.TRISTATE_ON){l.removeListener("resize",f);p=[m,h];for(var r=0;r<p.length;r++)c(p[r],p[r].getCustomData("maximize_saved_styles")),p[r].removeCustomData("maximize_saved_styles");
for(p=a.container;p=p.getParent();)c(p,p.getCustomData("maximize_saved_styles")),p.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout(0):l.$.scrollTo(u.x,u.y);h.removeClass("cke_maximized");CKEDITOR.env.webkit&&(h.setStyle("display","inline"),setTimeout(0));a.fire("resize",{outerHeight:a.container.$.offsetHeight,contentsHeight:m.$.offsetHeight,outerWidth:a.container.$.offsetWidth})}this.toggleState();if(p=
this.uiItems[0])m=this.state==CKEDITOR.TRISTATE_OFF?k.maximize.maximize:k.maximize.minimize,p=CKEDITOR.document.getById(p._.id),p.getChild(1).setHtml(m),p.setAttribute("title",m),p.setAttribute("href",'javascript:void("'+m+'");');"wysiwyg"==a.mode?e?(CKEDITOR.env.gecko&&b(a),a.getSelection().selectRanges(e),(t=a.getSelection().getStartElement())&&t.scrollIntoView(!0)):l.$.scrollTo(n.x,n.y):(e&&(t.selectionStart=e[0],t.selectionEnd=e[1]),t.scrollLeft=n[0],t.scrollTop=n[1]);e=n=null;x=this.state;a.fire("maximize",
this.state)},canUndo:!1});a.ui.addButton&&a.ui.addButton("Maximize",{label:k.maximize.maximize,command:"maximize",toolbar:"tools,10"});a.on("mode",null,null,100)}}})})();(function(){function a(a,d,c){this.editor=a;this.lastMatched=null;this.ignoreNext=!1;this.callback=d;this.ignoredKeys=[16,17,18,91,35,36,37,38,39,40,33,34];this._listeners=[];this.throttle=c||0;this._buffer=CKEDITOR.tools.throttle(this.throttle,
function(a){(a=this.callback(a))?a.text!=this.lastMatched&&(this.lastMatched=a.text,this.fire("matched",a)):this.lastMatched&&this.unmatch()},this)}CKEDITOR.plugins.add("textwatcher",{});a.prototype={attach:function(){function a(){var a=b.editable();this._listeners.push(a.attachListener(a,"keyup",d,this))}r b=this.editor;this._listeners.push(b.on("contentDom",a,this));this._listeners.push(b.on("blur",c,this));this._listeners.push(b.on("beforeModeUnload",
c,this));this._listeners.push(b.on("setData",c,this));this._listeners.push(b.on("afterCommandExec",c,this));b.editable()&&a.call(this);return this},check:function(a){this.ignoreNext?this.ignoreNext=!1:a&&"keyup"==a.name&&-1!=CKEDITOR.tools.array.indexOf(this.ignoredKeys,a.data.getKey())||(a=this.editor.getSelection())&&(a=a.getRanges()[0])&&this._buffer.input(a)},consumeNext:unmatch:function(){this.lastMatched=null;this.fire("unmatched");return this},destroy:function(){CKEDITOR.tools.array.forEach(this._listeners,
function(a){a.removeListener()});this._listeners=[]}};CKEDITOR.event.implementOn(a.prototype);CKEDITOR.plugins.textWatcher=a})();(function(){function a(a,c){var b=a.config.autocomplete_commitKeystrokes||CKEDITOR.config.autocomplete_commitKeystrokes;this.editor=a;this.throttle=void 0!==c.throttle?c.throttle:20;this.view=this.getView();this.model=this.getModel(c.dataCallback);this.model.itemsLimit=c.itemsLimit;this.textWatcher=this.getTextWatcher(c.textTestCallback);this.commitKeystrokes=CKEDITOR.tools.array.isArray(b)?
b.slice():[b];this._listeners=[];this.outputTemplate=void 0!==c.outputTemplate?new CKEDITOR.template(c.outputTemplate):null;c.itemTemplate&&(this.view.itemTemplate=new CKEDITOR.template(c.itemTemplate));if("ready"===this.editor.status)this.attach();else this.editor.on("instanceReady",function(){this.attach()},this);a.on("destroy",function(){this.destroy()},this)}function f(a){this.itemTemplate=new CKEDITOR.template('\x3cli data-id\x3d"{id}"\x3e{name}\x3c/li\x3e');this.editor=a}unction c(a){return CKEDITOR.tools.array.reduce(CKEDITOR.tools.object.keys(a),function(b,c){b[c]=CKEDITOR.tools.htmlEncode(a[c]);return b},{})}CKEDITOR.plugins.add("autocomplete",{requires:"textwatcher",onLoad:isSupportedEnvironment:function(){return!CKEDITOR.env.ie||8<CKEDITOR.env.version}});a.prototype={attach:function(){var a=this.editor,c=CKEDITOR.document.getWindow(),d=a.editable(),
f=d.isInline()?d:d.getDocument();CKEDITOR.env.iOS&&!d.isInline()&&(f=a.window.getFrame().getParent());this.view.append();this.view.attach();this.textWatcher.attach();this._listeners.push(this.textWatcher.on("matched",this.onTextMatched,this));this._listeners.push(this.textWatcher.on("unmatched",this.onTextUnmatched,this));this._listeners.push(this.model.on("change-data",this.modelChangeListener,this));this._listeners.push(this.model.on("change-selectedItemId",this.onSelectedItemId,this));this._listeners.push(this.view.on("change-selectedItemId",
this.onSelectedItemId,this));this._listeners.push(this.view.on("click-item",this.onItemClick,this));this._listeners.push(c.on("scroll",function(){this.viewRepositionListener()},this));this._listeners.push(f.on("scroll",function(){this.viewRepositionListener()},this));this._listeners.push(this.view.element.on("mousedown",null,null,9999));d&&this.registerPanelNavigation();a.on("contentDom",this.registerPanelNavigation,this)},registerPanelNavigation:function(){var a=
this.editor.editable();this._listeners.push(a.attachListener(a,"keydown",function(a){this.onKeyDown(a)},this,null,5))},close:commit:function(a){if(this.model.isActive&&(this.close(),null!=a||(a=this.model.selectedItemId,null!=a))){a=this.model.getItemById(a);var b=this.editor;b.fire("saveSnapshot");b.getSelection().selectRanges([this.model.range]);b.insertHtml(this.getHtmlToInsert(a),"text");b.fire("saveSnapshot")}},destroy:function(){CKEDITOR.tools.array.forEach(this._listeners,
function(a){a.removeListener()});this._listeners=[];this.view.element&&this.view.element.remove()},getHtmlToInsert:function(a){a=c(a);return this.outputTemplate?this.outputTemplate.output(a):a.name},getModel:function(a){var b=this;return new d(function(c,d){return a.call(this,CKEDITOR.tools.extend({autocomplete:b},c),d)})},getTextWatcher:function(a){return new CKEDITOR.plugins.textWatcher(this.editor,a,this.throttle)},getView:open:function(){this.model.hasData()&&
(this.model.setActive(!0),this.view.open(),this.model.selectFirst(),this.view.updatePosition(this.model.range))},viewRepositionListener:modelChangeListener:function(a){this.model.hasData()?(this.view.updateItems(a.data),this.open()):this.close()},onItemClick:function(a){this.commit(a.data)},onKeyDown:function(a){if(this.model.isActive){var b=a.data.getKey(),c=!1;27==b?(this.close(),this.textWatcher.unmatch(),c=!0):40==b?(this.model.selectNext(),
c=!0):38==b?(this.model.selectPrevious(),c=!0):-1!=CKEDITOR.tools.indexOf(this.commitKeystrokes,b)&&(this.commit(),this.textWatcher.unmatch(),c=!0);c&&(a.cancel(),a.data.preventDefault(),this.textWatcher.consumeNext())}},onSelectedItemId:onTextMatched:function(a){this.model.setActive(!1);this.model.setQuery(a.data.text,a.data.range)},onTextUnmatched:;f.prototype=
{append:function(){this.document=CKEDITOR.document;this.element=this.createElement();this.document.getBody().append(this.element)},appendItems:attach:function(){this.element.on("click",function(a){(a=a.data.getTarget().getAscendant(this.isItemElement,!0))&&this.fire("click-item",a.data("id"))},this);this.element.on("mouseover",function(a){a=a.data.getTarget();this.element.contains(a)&&(a=a.getAscendant(function(a){return a.hasAttribute("data-id")},
!0))&&(a=a.data("id"),this.fire("change-selectedItemId",a))},this)},close:function(){this.element.removeClass("cke_autocomplete_opened")},createElement:function(){var a=new CKEDITOR.dom.element("ul",this.document);a.addClass("cke_autocomplete_panel");a.setStyle("z-index",this.editor.config.baseFloatZIndex-3);return a},createItem:function(a){a=c(a);return CKEDITOR.dom.element.createFromHtml(this.itemTemplate.output(a),this.document)},getViewPosition:function(a){a=a.getClientRects();a=a[a.length-1];
var b=this.editor.editable();b=b.isInline()?CKEDITOR.document.getWindow().getScrollPosition():b.getParent().getDocumentPosition(CKEDITOR.document);var c=CKEDITOR.document.getBody();"static"===c.getComputedStyle("position")&&(c=c.getParent());c=c.getDocumentPosition();b.x-=c.x;b.y-=c.y;return{top:a.top+b.y,bottom:a.top+a.height+b.y,left:a.left+b.x}},getItemById:isItemElement:function(a){return a.type==CKEDITOR.NODE_ELEMENT&&!!a.data("id")},
open:selectItem:function(a){null!=this.selectedItemId&&this.getItemById(this.selectedItemId).removeClass("cke_autocomplete_selected");var b=this.getItemById(a);b.addClass("cke_autocomplete_selected");this.selectedItemId=a;this.scrollElementTo(b)},setPosition:function(a){var b=this.editor,c=this.element.getSize("height"),d=b.editable();b=CKEDITOR.env.iOS&&!d.isInline()?b.window.getFrame().getParent().getClientRect(!0):d.isInline()?d.getClientRect(!0):
b.window.getFrame().getClientRect(!0);d=a.top-b.top;var f=b.bottom-a.bottom;var l=a.top<b.top?b.top:Math.min(b.bottom,a.bottom);c>f&&c<d&&(l=a.top-c);b.bottom<a.bottom&&(l=Math.min(a.top-c,b.bottom-c));b.top>a.top&&(l=Math.max(a.bottom,b.top));this.element.setStyles({left:a.left+"px",top:l+"px"})},scrollElementTo:function(a){a.scrollIntoParent(this.element)},updateItems:function(a){var b,c=new CKEDITOR.dom.documentFragment(this.document);for(b=0;b<a.length;++b)c.append(this.createItem(a[b]));this.appendItems(c);
this.selectedItemId=null},updatePosition:;CKEDITOR.event.implementOn(f.prototype);d.prototype={getIndexById:function(a){if(!this.hasData())return-1;for(var b=this.data,c=0,d=b.length;c<d;c++)if(b[c].id==a)return c;return-1},getItemById:function(a){a=this.getIndexById(a);return~a&&this.data[a]||null},hasData:setItem:function(a){if(0>this.getIndexById(a))throw Error("Item with given id does not exist");
this.selectedItemId=a},select:function(a){this.fire("change-selectedItemId",a)},selectFirst:function(){this.hasData()&&this.select(this.data[0].id)},selectLast:function(){this.hasData()&&this.select(this.data[this.data.length-1].id)},selectNext:function(){if(null==this.selectedItemId)this.selectFirst();else{var a=this.getIndexById(this.selectedItemId);0>a||a+1==this.data.length?this.selectFirst():this.select(this.data[a+1].id)}},selectPrevious:function(){if(null==this.selectedItemId)this.selectLast();
else{var a=this.getIndexById(this.selectedItemId);0>=a?this.selectLast():this.select(this.data[a-1].id)}},setActive:setQuery:function(a,c){var b=this,d=CKEDITOR.tools.getNextId();this.lastRequestId=d;this.query=a;this.range=c;this.selectedItemId=this.data=null;this.dataCallback({query:a,range:c},function(a){d==b.lastRequestId&&(b.data=b.itemsLimit?a.slice(0,b.itemsLimit):a,b.fire("change-data",b.data))})}};CKEDITOR.event.implementOn(d.prototype);
CKEDITOR.plugins.autocomplete=a;a.view=f;a.model=d;CKEDITOR.config.autocomplete_commitKeystrokes=[9,13]})();(function(){function a(a,c){for(var b=a.length,d=0,f=0;f<b;f+=1){var m=a[f];if(c>=d&&d+m.getText().length>=c)return{element:m,offset:c-d};d+=m.getText().length}return null}KEDITOR.plugins.add("textmatch",{});CKEDITOR.plugins.textMatch={};CKEDITOR.plugins.textMatch.match=function(a,c){var b=CKEDITOR.plugins.textMatch.getTextAndOffset(a),
d=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,f=0;if(b)return 0==b.text.indexOf(d)&&(f=d.length,b.text=b.text.replace(d,""),b.offset-=f),(d=c(b.text,b.offset))?{range:CKEDITOR.plugins.textMatch.getRangeInText(a,d.start,d.end+f),text:b.text.slice(d.start,d.end)}:null};CKEDITOR.plugins.textMatch.getTextAndOffset=function(a){if(!a.collapsed)return null;var c="",b=0,d=CKEDITOR.plugins.textMatch.getAdjacentTextNodes(a),h=!1,m=a.startContainer.type!=CKEDITOR.NODE_ELEMENT;var g=m?f(d,:
a.startOffset-(d[0]?d[0].getIndex():0);for(var l=d.length,e=0;e<l;e+=1){var n=d[e];c+=n.getText();h||(m?e==g?(h=!0,b+=a.startOffset):b+=n.getText().length:(e==g&&(h=!0),0<e&&(b+=d[e-1].getText().length),l==g&&e+1==l&&(b+=n.getText().length)))}return{text:c,offset:b}};CKEDITOR.plugins.textMatch.getRangeInText=function(d,c,b){var f=new CKEDITOR.dom.range(d.root);d=CKEDITOR.plugins.textMatch.getAdjacentTextNodes(d);c=a(d,c);b=a(d,b);f.setStart(c.element,c.offset);f.setEnd(b.element,b.offset);return f};
CKEDITOR.plugins.textMatch.getAdjacentTextNodes=function(a){if(!a.collapsed)return[];var c=[],b,d,f;a.startContainer.type!=CKEDITOR.NODE_ELEMENT?(b=a.startContainer.getParent().getChildren(),a=a.startContainer.getIndex()):(b=a.startContainer.getChildren(),a=a.startOffset);for(f=a;d=b.getItem(--f);)if(d.type==CKEDITOR.NODE_TEXT)c.unshift(d);else break;for(f=a;d=b.getItem(f++);)if(d.type==CKEDITOR.NODE_TEXT)c.push(d);else break;return c}})();(function(){CKEDITOR.plugins.add("xml",{});CKEDITOR.xml=CKEDITOR.xml.prototype={selectSingleNode:selectNodes:function(a,f){var d=this.baseXml,c=[];if(f||(f=d)){if("selectNodes"in f)return f.selectNodes(a);if(d.evaluate&&(d=d.evaluate(a,f,null,5,null)))for(;a=d.iterateNext();)c.push(a)}return c},getInnerXml:function(a,f){a=this.selectSingleNode(a,f);f=[];if(a)for(a=a.firstChild;a;)a.xml?f.push(a.xml):window.XMLSerializer&&f.push((new XMLSerializer).serializeToString(a)),a=a.nextSibling;return f.length?f.join(""):
null}}})();(function(){CKEDITOR.plugins.add("ajax",{requires:"xml"});CKEDITOR.ajax=function(){unction f(a){return 4==a.readyState&&(200<=a.status&&300>a.status||304==a.status||0===a.status||1223==a.status)}unction c(a){if(f(a)){var b=
a.responseXML;return new CKEDITOR.xml(b&&b.firstChild?b:a.responseText)}return null}function b(b,c,d){var f=!!c,e=a();if(!e)return null;e.open("GET",b,f);f&&(e.onreadystatechange=function(){4==e.readyState&&(c(d(e)),e=null)});e.send(null);return f?"":d(e)}function k(b,c,d,f,e){var g=a();if(!g)return null;g.open("POST",b,!0);g.onreadystatechange=function(){4==g.readyState&&(f&&f(e(g)),g=null)};g.setRequestHeader("Content-type",d||"application/x-www-form-urlencoded; charset\x3dUTF-8");g.send(c)}return{load:function(a,
c){return b(a,c,d)},post:loadXml:}()})();(function(){function a(a,c){var b=c.feed;this.caseSensitive=c.caseSensitive;this.marker=c.hasOwnProperty("marker")?c.marker:"@";this.minChars=null!==c.minChars&&void 0!==c.minChars?c.minChars:2;var k;if(!(k=c.pattern)){k=this.minChars;var g="\\"+this.marker+"[_a-zA-Z0-9\u00c0-\u017e]";k=new RegExp((k?g+("{"+k+",}"):g+"*")+"$")}this.pattern=k;this.cache=void 0!==c.cache?c.cache:!0;this.throttle=
void 0!==c.throttle?c.throttle:200;this._autocomplete=new CKEDITOR.plugins.autocomplete(a,{textTestCallback:f(this.marker,this.minChars,this.pattern),dataCallback:d(b,this),itemTemplate:c.itemTemplate,outputTemplate:c.outputTemplate,throttle:this.throttle,itemsLimit:c.itemsLimit})}function f(a,c,d){function b(a,b){var c=a.slice(0,b).match(d);if(!c)return null;a=a[c.index-1];return void 0===a||a.match(/\s+/)?{start:c.index,end:b}:null}return function(a){return a.collapsed?CKEDITOR.plugins.textMatch.match(a,
b):null}}function d(a,d){return function(b,f){function g(){var b=h(a).filter(function(a){a=a.name;d.caseSensitive||(a=a.toLowerCase(),m=m.toLowerCase());return 0===a.indexOf(m)});k(b)}function h(a){var b=1;return CKEDITOR.tools.array.reduce(a,function(a,c){a.push({name:c,id:b++});return a},[])}function e(){var b=(new CKEDITOR.template(a)).output({encodedQuery:encodeURIComponent(m)});if(d.cache&&c[b])return k(c[b]);CKEDITOR.ajax.load(b,function(a){a=JSON.parse(a);d.cache&&null!==a&&(c[b]=a);k(a)})}
function k(a){a&&(a=CKEDITOR.tools.array.map(a,function(a){return CKEDITOR.tools.object.merge(a,{name:d.marker+a.name})}),f(a))}var m=b.query;d.marker&&(m=m.substring(d.marker.length));CKEDITOR.tools.array.isArray(a)?g():"string"===typeof a?e():a({query:m,marker:d.marker},k)}}CKEDITOR._.mentions={cache:{}};var c=CKEDITOR._.mentions.cache;CKEDITOR.plugins.add("mentions",{requires:"autocomplete,textmatch,ajax",instances:[],init:function(b){var c=this;b.on("instanceReady",function(){CKEDITOR.tools.array.forEach(b.config.mentions||
[],})},isSupportedEnvironment:function(a){return a.plugins.autocomplete.isSupportedEnvironment(a)}});a.prototype={destroy:function(){this._autocomplete.destroy()}};CKEDITOR.plugins.mentions=a})();CKEDITOR.plugins.add("newpage",{init:);(function(){KEDITOR.plugins.add("pagebreak",{requires:"fakeobjects",onLoad:init:afterInit:function(f){ar c=f.dataProcessor,b=c&&c.dataFilter;c=c&&c.htmlFilter;var k=/page-break-after\s*:\s*always/i,h=/display\s*:\s*none/i;c&&c.addRules({attributes:{"class":function(a,b){var c=a.replace("cke_pagebreak","");c!=a&&(a=CKEDITOR.htmlParser.fragment.fromHtml('\x3cspan style\x3d"display: none;"\x3e\x26nbsp;\x3c/span\x3e').children[0],b.children.length=0,b.add(a),a=b.attributes,delete a["aria-label"],delete a.contenteditable,delete a.title);return c}}},{applyToAll:!0,
priority:5});b&&b.addRules({elements:{div:})}});CKEDITOR.plugins.pagebreakCmd={exec:context:"div",allowedContent:{div:{styles:"!page-break-after"},span:{match:styles:"display"}},
requiredContent:"div{page-break-after}"};CKEDITOR.plugins.pagebreak={createElement:function(f){return f.document.createElement("div",{attributes:a(f.lang.pagebreak.alt)})}}})();(function(){ction c(a,c){var d=0;if(!CKEDITOR.tools.array.isArray(a)||0===a.length)return!0;var f=CKEDITOR.tools.array.filter(a,;if(0<f.length)for(a=0;a<f.length;a++)((f[a]);return 0===f.length}var b=[],k=CKEDITOR.tools.createClass({$:function(){this.handlers=
[]},proto:{register:addPasteListener:function(b){b.on("paste",function(h){var g=a(this.handlers,h);if(0!==g.length){var k=d(g);k=c(k,;if(!k)return h.cancel();f(g,h)}},this,null,3)}}});CKEDITOR.plugins.add("pastetools",{requires:"clipboard",beforeInit:);CKEDITOR.plugins.pastetools={filters:{},loadFilters:c,createFilter:function(a){var b=
CKEDITOR.tools.array.isArray(a.rules)?a.rules:[a.rules],c=a.additionalTransforms;return function(a,d){var e=new CKEDITOR.htmlParser.basicWriter,f=new CKEDITOR.htmlParser.filter;c&&(a=c(a,d));CKEDITOR.tools.array.forEach(b,;var g=CKEDITOR.htmlParser.fragment.fromHtml(a);f.applyTo(g);g.writeHtml(e);return e.getHtml()}},getClipboardData:getConfigValue:function(a,b){if(a&&a.config){var c=CKEDITOR.tools;a=a.config;var d=c.object.keys(a);b=["pasteTools_"+b,"pasteFromWord_"+b,"pasteFromWord"+c.capitalize(b,!0)];b=c.array.find(b,;return a[b]}},getContentGeneratorName:;CKEDITOR.pasteFilters={}})();(function(){CKEDITOR.plugins.add("pastefromword",{requires:"pastetools",init:function(a){ar d=0,c=CKEDITOR.plugins.getPath("pastetools"),b=this.path,k=void 0===a.config.pasteFromWord_inlineImages?!0:a.config.pasteFromWord_inlineImages;c=[CKEDITOR.getUrl(c+"filter/common.js"),CKEDITOR.getUrl(b+"filter/default.js")];a.addCommand("pastefromword",{canUndo:!1,async:!0,exec:);CKEDITOR.plugins.clipboard.addPasteButton(a,"PasteFromWord",{label:a.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"});a.pasteTools.register({filters:a.config.pasteFromWordCleanupFile?[a.config.pasteFromWordCleanupFile]:c,canHandle:function(a){a=CKEDITOR.plugins.pastetools.getClipboardData(a.data,"text/html");var b=CKEDITOR.plugins.pastetools.getContentGeneratorName(a),c=/(class="?Mso|style=["'][^"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/;
b=b?"microsoft"===b:c.test(a);return a&&(d||b)},handle:function(b,c){b=b.data;var f=CKEDITOR.plugins.pastetools.getClipboardData(b,"text/html"),h=CKEDITOR.plugins.pastetools.getClipboardData(b,"text/rtf");f={dataValue:f,dataTransfer:{"text/rtf":h}};if(!1!==a.fire("pasteFromWord",f)||d){b.dontFilter=!0;if(d||!a.config.pasteFromWordPromptCleanup||confirm(a.lang.pastefromword.confirmCleanup))f.dataValue=CKEDITOR.cleanWord(f.dataValue,a),a.fire("afterPasteFromWord",f),b.dataValue=f.dataValue,!0===a.config.forcePasteAsPlainText?
b.type="text":CKEDITOR.plugins.clipboard.isCustomCopyCutSupported||"allow-word"!==a.config.forcePasteAsPlainText||(b.type="html");d=0;c()}}});if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported&&k)a.on("afterPasteFromWord",f)}})})();(function(){var a={canUndo:!1,async:!0,exec:function(a,d){var c=a.lang,b=CKEDITOR.tools.keystrokeToString(c.common.keyboard,a.getCommandKeystroke(CKEDITOR.env.ie?a.commands.paste:this));c=(d=d&&"undefined"!==typeof d.notification?d.notification:!d||!d.from||"keystrokeHandler"===
d.from&&CKEDITOR.env.ie)&&"string"===typeof d?d:c.pastetext.pasteNotification.replace(/%1/,'\x3ckbd aria-label\x3d"'+b.aria+'"\x3e'+b.display+"\x3c/kbd\x3e");a.execCommand("paste",{type:"text",notification:d?c:!1})}};CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:)})();(function(){function a(a){var d=CKEDITOR.plugins.getPath("preview"),c=a.config,b=a.lang.preview.preview,f=function(){var a=location.origin,b=location.pathname;if(!c.baseHref&&!CKEDITOR.env.gecko)return"";if(c.baseHref)return'\x3cbase href\x3d"{HREF}"\x3e'.replace("{HREF}",
c.baseHref);b=b.split("/");b.pop();b=b.join("/");return'\x3cbase href\x3d"{HREF}"\x3e'.replace("{HREF}",a+b+"/")}();return c.fullPage?a.getData().replace(/<head>/,"$\x26"+f).replace(/[^>]*(?=<\/title>)/,"$\x26 \x26mdash; "+b):c.docType+'\x3chtml dir\x3d"'+c.contentsLangDirection+'"\x3e\x3chead\x3e'+f+"\x3ctitle\x3e"+b+"\x3c/title\x3e"+CKEDITOR.tools.buildStyleHtml(c.contentsCss)+'\x3clink rel\x3d"stylesheet" media\x3d"screen" href\x3d"'+d+'styles/screen.css"\x3e\x3c/head\x3e'+function(){var b="\x3cbody\x3e",
c=a.document&&a.document.getBody();if(!c)return b;c.getAttribute("id")&&(b=b.replace("\x3e",' id\x3d"'+c.getAttribute("id")+'"\x3e'));c.getAttribute("class")&&(b=b.replace("\x3e",' class\x3d"'+c.getAttribute("class")+'"\x3e'));return b}()+a.getData()+"\x3c/body\x3e\x3c/html\x3e"}CKEDITOR.plugins.add("preview",{init:function(a){a.addCommand("preview",{modes:{wysiwyg:1},canUndo:!1,readOnly:1,exec:CKEDITOR.plugins.preview.createPreview});a.ui.addButton&&a.ui.addButton("Preview",{label:a.lang.preview.preview,
command:"preview",toolbar:"document,40"})}});CKEDITOR.plugins.preview={createPreview:function(f){var d={dataValue:a(f)},c=window.screen;var b=Math.round(.8*c.width);var k=Math.round(.7*c.height);var h=Math.round(.1*c.width);c=CKEDITOR.env.ie?"javascript:void( (function(){document.open();"+("("+CKEDITOR.tools.fixDomain+")();").replace(/\/\/.*?\n/g,"").replace(/parent\./g,"window.opener.")+"document.write( window.opener._cke_htmlToLoad );document.close();window.opener._cke_htmlToLoad \x3d null;})() )":
null;var m=CKEDITOR.plugins.getPath("preview");m=CKEDITOR.env.gecko?CKEDITOR.getUrl(m+"preview.html"):"";if(!1===f.fire("contentPreview",d))return!1;if(c||m)window._cke_htmlToLoad=d.dataValue;f=window.open(m,null,["toolbar\x3dyes,location\x3dno,status\x3dyes,menubar\x3dyes,scrollbars\x3dyes,resizable\x3dyes","width\x3d"+b,"height\x3d"+k,"left\x3d"+h].join());c&&f&&(f.location=c);window._cke_htmlToLoad||(b=f.document,b.open(),b.write(d.dataValue),b.close());return new CKEDITOR.dom.window(f)}}})();
(function(){CKEDITOR.plugins.add("print",{requires:"preview",init:function(a){a.addCommand("print",CKEDITOR.plugins.print);a.ui.addButton&&a.ui.addButton("Print",{label:a.lang.print.toolbar,command:"print",toolbar:"document,50"})}});CKEDITOR.plugins.print={exec:function(a){function f(){CKEDITOR.env.gecko?d.print():d.document.execCommand("Print");d.close()}a=CKEDITOR.plugins.preview.createPreview(a);if(a){var d=a.$;if("complete"===d.document.readyState)return f();a.once("load",f)}},canUndo:!1,readOnly:1,
modes:{wysiwyg:1}}})();CKEDITOR.plugins.add("removeformat",{init:);CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(a){for(var f=a._.removeFormatRegex||(a._.removeFormatRegex=new RegExp("^(?:"+a.config.removeFormatTags.replace(/,/g,"|")+")$","i")),d=a._.removeAttributes||
(a._.removeAttributes=a.config.removeFormatAttributes.split(",")),c=CKEDITOR.plugins.removeformat.filter,b=a.getSelection().getRanges(),k=b.createIterator(),h=m;m=k.getNextRange();){m.enlarge(CKEDITOR.ENLARGE_INLINE);var g=m.createBookmark(),l=g.startNode,e=g.endNode,n=n(l);if(e)for(n(e),
l=l.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);l&&!l.equals(e);)if(l.isReadOnly()){if(l.getPosition(e)&CKEDITOR.POSITION_CONTAINS)break;l=l.getNext(h)}else n=l.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==l.getName()&&l.data("cke-realelement")||!c(a,l)||(f.test(l.getName())?l.remove(1):(l.removeAttributes(d),a.fire("removeFormatCleanup",l))),l=n;m.moveToBookmark(g)}a.forceNextSelectionCheck();a.getSelection().selectRanges(b)}}},filter:function(a,f){a=a._.removeFormatFilters||[];for(var d=0;d<
a.length;d++)if(!1===a[d](f))return!1;return!0}};CKEDITOR.editor.prototype.addRemoveFormatFilter=CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var";CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign";CKEDITOR.plugins.add("resize",{init:);(();CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",
onLoad:function(a){"moono-lisa"==(CKEDITOR.skinName||a.config.skin)&&CKEDITOR.document.appendStyleSheet(CKEDITOR.getUrl(this.path+"skins/"+CKEDITOR.skin.name+"/scayt.css"));CKEDITOR.document.appendStyleSheet(CKEDITOR.getUrl(this.path+"dialogs/dialog.css"));var f=!1;CKEDITOR.on("instanceLoaded",function(a){if(!f&&CKEDITOR.plugins.autocomplete){f=!0;var c=CKEDITOR.plugins.autocomplete.prototype.getModel;CKEDITOR.plugins.autocomplete.prototype.getModel=function(a){var b=this.editor;a=c.bind(this)(a);
a.on("change-isActive",;return a}}})},init:function(a){var f=this,d=CKEDITOR.plugins.scayt;this.bindEvents(a);this.parseConfig(a);this.addRule(a);CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js"));this.addMenuItems(a);var c=a.lang.scayt,b=CKEDITOR.env;a.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:c.text_title,title:a.plugins.wsc?a.lang.wsc.title:c.text_title,modes:{wysiwyg:!(b.ie&&
(8>b.version||b.quirks))},toolbar:"spellchecker,20",refresh:onRender:onMenu:);a.contextMenu&&a.addMenuItems&&(a.contextMenu.addListener(function(b,c){b=a.scayt;var d,g;b&&(g=b.getSelectionNode())&&(d=f.menuGenerator(a,g),b.showBanner("."+a.contextMenu._.definition.panel.className.split(" ").join(" .")));return d}),a.contextMenu._.onHide=CKEDITOR.tools.override(a.contextMenu._.onHide,)},addMenuItems:function(a){var f=this,d=CKEDITOR.plugins.scayt;
a.addMenuGroup("scaytButton");for(var c=a.config.scayt_contextMenuItemsOrder.split("|"),b=0;b<c.length;b++)c[b]="scayt_"+c[b];if((c=["grayt_description","grayt_suggest","grayt_control"].concat(c))&&c.length)for(b=0;b<c.length;b++)a.addMenuGroup(c[b],b-10);a.addCommand("scaytToggle",{exec:);a.addCommand("scaytAbout",{exec:function(a){a.scayt.tabToOpen="about";d.openDialog(f.dialogName,
a)}});a.addCommand("scaytOptions",{exec:function(a){a.scayt.tabToOpen="options";d.openDialog(f.dialogName,a)}});a.addCommand("scaytLangs",{exec:function(a){a.scayt.tabToOpen="langs";d.openDialog(f.dialogName,a)}});a.addCommand("scaytDict",{exec:function(a){a.scayt.tabToOpen="dictionaries";d.openDialog(f.dialogName,a)}});c={scaytToggle:{label:a.lang.scayt.btn_enable,group:"scaytButton",command:"scaytToggle"},scaytAbout:{label:a.lang.scayt.btn_about,group:"scaytButton",command:"scaytAbout"},scaytOptions:{label:a.lang.scayt.btn_options,
group:"scaytButton",command:"scaytOptions"},scaytLangs:{label:a.lang.scayt.btn_langs,group:"scaytButton",command:"scaytLangs"},scaytDict:{label:a.lang.scayt.btn_dictionaries,group:"scaytButton",command:"scaytDict"}};a.plugins.wsc&&(c.WSC={label:a.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var b=CKEDITOR.plugins.scayt,c=a.scayt;(a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.container.getText():a.document.getBody().getText()).replace(/\s/g,"")?(c&&b.state.scayt[a.name]&&c.setMarkupPaused&&
c.setMarkupPaused(!0),a.lockSelection(),a.execCommand("checkspell")):alert("Nothing to check!")}});a.addMenuItems(c)},bindEvents:function(a){var f=CKEDITOR.plugins.scayt,d=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,c=function(){f.destroy(a)},b=k=function(){var c=a.editable();c.attachListener(c,"focus",function(c){CKEDITOR.plugins.scayt&&!a.scayt&&setTimeout(b,0);c=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[a.name]&&
a.scayt;var f;if((d||c)&&a._.savedSelection){c=a._.savedSelection.getSelectedElement();c=!c&&a._.savedSelection.getRanges();for(var e=0;e<c.length;e++){var g=c[e];"string"===typeof g.startContainer.$.nodeValue&&(f=g.startContainer.getText().length,(f<g.startOffset||f<g.endOffset)&&a.unlockSelection(!1))}}},this,null,-10)},h=a.on("contentDom",h);a.on("beforeCommandExec",;a.on("beforeSetMode",function(b){"source"==b.data&&(a.scayt&&(f.destroy(a),a.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)),a.document&&a.document.getBody().removeAttribute("_jquid"))});
a.on("afterCommandExec",;a.on("readOnly",;a.on("beforeDestroy",c);a.on("setData",this,null,50);a.on("reloadMarkupScayt",;a.on("insertElement",this,null,50);a.on("insertHtml",
function(){a.scayt&&a.scayt.setFocused&&a.scayt.setFocused(!0);a.fire("reloadMarkupScayt")},this,null,50);a.on("insertText",this,null,50);a.on("scaytDialogShown",;a.on("autocompletePanelShow",function(b){(b=a.scayt)&&b.setMarkupPaused&&b.setMarkupPaused(!0)});a.on("autocompletePanelHide",},parseConfig:function(a){var f=
CKEDITOR.plugins.scayt;f.replaceOldOptionsNames(a.config);"boolean"!==typeof a.config.scayt_autoStartup&&(a.config.scayt_autoStartup=!1);f.state.scayt[a.name]=a.config.scayt_autoStartup;"boolean"!==typeof a.config.grayt_autoStartup&&(a.config.grayt_autoStartup=!1);"boolean"!==typeof a.config.scayt_inlineModeImmediateMarkup&&(a.config.scayt_inlineModeImmediateMarkup=!1);f.state.grayt[a.name]=a.config.grayt_autoStartup;a.config.scayt_contextCommands||(a.config.scayt_contextCommands="ignoreall|add");
a.config.scayt_contextMenuItemsOrder||(a.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control");a.config.scayt_sLang||(a.config.scayt_sLang="en_US");if(void 0===a.config.scayt_maxSuggestions||"number"!=typeof a.config.scayt_maxSuggestions||0>a.config.scayt_maxSuggestions)a.config.scayt_maxSuggestions=3;if(void 0===a.config.scayt_minWordLength||"number"!=typeof a.config.scayt_minWordLength||1>a.config.scayt_minWordLength)a.config.scayt_minWordLength=3;if(void 0===a.config.scayt_customDictionaryIds||
"string"!==typeof a.config.scayt_customDictionaryIds)a.config.scayt_customDictionaryIds="";if(void 0===a.config.scayt_userDictionaryName||"string"!==typeof a.config.scayt_userDictionaryName)a.config.scayt_userDictionaryName=null;if("string"===typeof a.config.scayt_uiTabs&&3===a.config.scayt_uiTabs.split(",").length){var d=[],c=[];a.config.scayt_uiTabs=a.config.scayt_uiTabs.split(",");CKEDITOR.tools.search(a.config.scayt_uiTabs,;null===CKEDITOR.tools.search(c,!1)?a.config.scayt_uiTabs=d:a.config.scayt_uiTabs=[1,1,1]}else a.config.scayt_uiTabs=[1,1,1];"string"!=typeof a.config.scayt_serviceProtocol&&(a.config.scayt_serviceProtocol=null);"string"!=typeof a.config.scayt_serviceHost&&(a.config.scayt_serviceHost=null);"string"!=typeof a.config.scayt_servicePort&&(a.config.scayt_servicePort=null);"string"!=typeof a.config.scayt_servicePath&&(a.config.scayt_servicePath=null);a.config.scayt_moreSuggestions||(a.config.scayt_moreSuggestions=
"on");"string"!==typeof a.config.scayt_customerId&&(a.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2");"string"!==typeof a.config.scayt_customPunctuation&&(a.config.scayt_customPunctuation="-");"string"!==typeof a.config.scayt_srcUrl&&(f=document.location.protocol,f=-1!=f.search(/https?:/)?f:"http:",a.config.scayt_srcUrl=f+"//svc.webspellchecker.net/spellcheck31/wscbundle/wscbundle.js");"boolean"!==typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=
!0);"boolean"!==typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0);CKEDITOR.config.scayt_handleUndoRedo=CKEDITOR.plugins.undo?CKEDITOR.config.scayt_handleUndoRedo:!1;a.config.scayt_ignoreAllCapsWords&&"boolean"!==typeof a.config.scayt_ignoreAllCapsWords&&(a.config.scayt_ignoreAllCapsWords=!1);a.config.scayt_ignoreDomainNames&&"boolean"!==typeof a.config.scayt_ignoreDomainNames&&(a.config.scayt_ignoreDomainNames=!1);a.config.scayt_ignoreWordsWithMixedCases&&"boolean"!==
typeof a.config.scayt_ignoreWordsWithMixedCases&&(a.config.scayt_ignoreWordsWithMixedCases=!1);a.config.scayt_ignoreWordsWithNumbers&&"boolean"!==typeof a.config.scayt_ignoreWordsWithNumbers&&(a.config.scayt_ignoreWordsWithNumbers=!1);if(a.config.scayt_disableOptionsStorage){f=CKEDITOR.tools.isArray(a.config.scayt_disableOptionsStorage)?a.config.scayt_disableOptionsStorage:"string"===typeof a.config.scayt_disableOptionsStorage?[a.config.scayt_disableOptionsStorage]:void 0;var b="all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),
k=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],h=CKEDITOR.tools.search,m=CKEDITOR.tools.indexOf;a.config.scayt_disableOptionsStorage=f)}},addRule:function(a){var f=CKEDITOR.plugins.scayt,
d=a.dataProcessor,c=d&&d.htmlFilter,b=a._.elementsPath&&a._.elementsPath.filters;d=d&&d.dataFilter;var k=a.addRemoveFormatFilter,h=m=b&&b.push(h);d&&d.addRules({elements:{span:function(a){var b=a.hasClass(f.options.misspelled_word_class)&&
a.attributes[f.options.data_attribute_name],c=a.hasClass(f.options.problem_grammar_class)&&a.attributes[f.options.problem_grammar_data_attribute];f&&(b||c)&&delete a.name;return a}}});c&&c.addRules({elements:{span:});k&&k.call(a,m)},scaytMenuDefinition:buildSuggestionMenuItems:menuGenerator:function(a,f){var d=a.scayt,c=this.scaytMenuDefinition(a),
b={},k=a.config.scayt_contextCommands.split("|"),h=f.getAttribute(d.getLangAttribute())||d.getLang(),m,g;var l=d.isScaytNode(f);var e=d.isGraytNode(f);l?(c=c.scayt,m=f.getAttribute(d.getScaytNodeAttributeName()),d.fire("getSuggestionsList",{lang:h,word:m}),b=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,l)):e&&(c=c.grayt,b=f.getAttribute(d.getGraytNodeAttributeName()),d.getGraytNodeRuleAttributeName?(m=f.getAttribute(d.getGraytNodeRuleAttributeName()),d.getProblemDescriptionText(b,
m,h)):d.getProblemDescriptionText(b,h),g=d.getProblemDescriptionText(b,m,h),c.grayt_problemdescription&&g&&(g=g.replace(/([.!?])\s/g,"$1\x3cbr\x3e"),c.grayt_problemdescription.label=g),d.fire("getGrammarSuggestionsList",{lang:h,phrase:b,rule:m}),b=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,l));if(l&&"off"==a.config.scayt_contextCommands)return b;for(var n in c)l&&-1==CKEDITOR.tools.indexOf(k,n.replace("scayt_",""))&&"all"!=a.config.scayt_contextCommands||e&&"grayt_problemdescription"!==
n&&-1==CKEDITOR.tools.indexOf(k,n.replace("grayt_",""))&&"all"!=a.config.scayt_contextCommands||(b[n]="undefined"!=typeof c[n].state?c[n].state:CKEDITOR.TRISTATE_OFF,"function"!==typeof c[n].verification||c[n].verification(a)||delete b[n],a.addCommand(n,{exec:c[n].exec}),a.addMenuItem(n,{label:a.lang.scayt[c[n].label]||c[n].label,command:n,group:c[n].group,order:c[n].order}));return b},createCommand:);CKEDITOR.plugins.scayt={charsToObserve:[{charName:"cke-fillingChar",charCode:function(){var a=CKEDITOR.version,f=[4,5,6],d=String.fromCharCode(8203),c=Array(8).join(d);if(!a)return d;a=a.split(".");for(var b=0;b<f.length;b++){var k=f[b];var h=Number(a[b]);if(h>k)return c;if(h<k)break}return d}()}],state:{scayt:{},grayt:{}},warningCounter:0,suggestions:[],options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",
misspelled_word_class:"scayt-misspell-word",problem_grammar_data_attribute:"data-grayt-phrase",problem_grammar_class:"gramm-problem"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},openDialog:alarmCompatibilityMessage:isNewUdSupported:reloadMarkup:replaceOldOptionsNames:createScayt:function(a){var f=this,d=CKEDITOR.plugins.scayt;this.loadScaytLibrary(a,function(a){ar c;a.window&&(c="BODY"==a.editable().$.nodeName?a.window.getFrame():a.editable());if(c){c={lang:a.config.scayt_sLang,container:c.$,customDictionary:a.config.scayt_customDictionaryIds,
userDictionaryName:a.config.scayt_userDictionaryName,localization:a.langCode,customer_id:a.config.scayt_customerId,customPunctuation:a.config.scayt_customPunctuation,debug:a.config.scayt_debug,data_attribute_name:f.options.data_attribute_name,misspelled_word_class:f.options.misspelled_word_class,problem_grammar_data_attribute:f.options.problem_grammar_data_attribute,problem_grammar_class:f.options.problem_grammar_class,"options-to-restore":a.config.scayt_disableOptionsStorage,focused:a.editable().hasFocus,
ignoreElementsRegex:a.config.scayt_elementsToIgnore,ignoreGraytElementsRegex:a.config.grayt_elementsToIgnore,minWordLength:a.config.scayt_minWordLength,graytAutoStartup:a.config.grayt_autoStartup,charsToObserve:d.charsToObserve};a.config.scayt_serviceProtocol&&(c.service_protocol=a.config.scayt_serviceProtocol);a.config.scayt_serviceHost&&(c.service_host=a.config.scayt_serviceHost);a.config.scayt_servicePort&&(c.service_port=a.config.scayt_servicePort);a.config.scayt_servicePath&&(c.service_path=
a.config.scayt_servicePath);"boolean"===typeof a.config.scayt_ignoreAllCapsWords&&(c["ignore-all-caps-words"]=a.config.scayt_ignoreAllCapsWords);"boolean"===typeof a.config.scayt_ignoreDomainNames&&(c["ignore-domain-names"]=a.config.scayt_ignoreDomainNames);"boolean"===typeof a.config.scayt_ignoreWordsWithMixedCases&&(c["ignore-words-with-mixed-cases"]=a.config.scayt_ignoreWordsWithMixedCases);"boolean"===typeof a.config.scayt_ignoreWordsWithNumbers&&(c["ignore-words-with-numbers"]=a.config.scayt_ignoreWordsWithNumbers);
try{var h=b(c)}catch(m){f.alarmCompatibilityMessage(),delete c.charsToObserve,h=b(c)}h.subscribe("suggestionListSend",;h.subscribe("selectionIsChanged",;
h.subscribe("graytStateChanged",;h.addMarkupHandler&&h.addMarkupHandler(;a.scayt=h;a.fire("scaytButtonState",a.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)}else d.state.scayt[a.name]=!1})},destroy:loadScaytLibrary:;CKEDITOR.on("dialogDefinition",;CKEDITOR.on("scaytReady",function(){if(!0===CKEDITOR.config.scayt_handleCheckDirty){var a=
CKEDITOR.editor.prototype;a.checkDirty=CKEDITOR.tools.override(a.checkDirty,function(a){return function(){var c,b=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt){if(c="ready"==this.status){var d=b.removeMarkupFromString(this.getSnapshot());b=b.removeMarkupFromString(this._.previousValue);c=c&&b!==d}}else c=a.call(this);return c}});a.resetDirty=CKEDITOR.tools.override(a.resetDirty,}if(!0===CKEDITOR.config.scayt_handleUndoRedo){a=CKEDITOR.plugins.undo.Image.prototype;var f="function"==typeof a.equalsContent?"equalsContent":"equals";a[f]=CKEDITOR.tools.override(a[f],function(a){return function(c){var b=c.editor.scayt,d=this.contents,f=c.contents;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[c.editor.name]&&c.editor.scayt&&(this.contents=
b.removeMarkupFromString(d)||"",c.contents=b.removeMarkupFromString(f)||"");b=a.apply(this,arguments);this.contents=d;c.contents=f;return b}})}});(();(function(){var a={readOnly:1,preserveState:!0,editorFocus:!1,exec:function(a){this.toggleState();this.refresh(a)},refresh:;CKEDITOR.plugins.add("showblocks",{onLoad:function(){var a="p div pre address blockquote h1 h2 h3 h4 h5 h6".split(" "),d,c,b,k,h=CKEDITOR.getUrl(this.path),m=!(CKEDITOR.env.ie&&9>CKEDITOR.env.version),g=m?":not([contenteditable\x3dfalse]):not(.cke_show_blocks_off)":"",l;for(d=c=b=k="";l=a.pop();){var e=a.length?",":"";d+=".cke_show_blocks "+l+g+e;b+=".cke_show_blocks.cke_contents_ltr "+l+g+e;k+=".cke_show_blocks.cke_contents_rtl "+
l+g+e;c+=".cke_show_blocks "+l+g+"{background-image:url("+CKEDITOR.getUrl(h+"images/block_"+l+".png")+")}"}CKEDITOR.addCss((d+"{background-repeat:no-repeat;border:1px dotted gray;padding-top:8px}").concat(c,b+"{background-position:top left;padding-left:8px}",k+"{background-position:top right;padding-right:8px}"));m||CKEDITOR.addCss(".cke_show_blocks [contenteditable\x3dfalse],.cke_show_blocks .cke_show_blocks_off{border:none;padding-top:0;background-image:none}.cke_show_blocks.cke_contents_rtl [contenteditable\x3dfalse],.cke_show_blocks.cke_contents_rtl .cke_show_blocks_off{padding-right:0}.cke_show_blocks.cke_contents_ltr [contenteditable\x3dfalse],.cke_show_blocks.cke_contents_ltr .cke_show_blocks_off{padding-left:0}")},
init:)})();(function(){var a={preserveState:!0,editorFocus:!1,readOnly:1,exec:refresh:;CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var a=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:".%1 table.%2,;.%1 table.%2 \x3e tr \x3e td, .%1 table.%2 \x3e tr \x3e th,;.%1 table.%2 \x3e tbody \x3e tr \x3e td, .%1 table.%2 \x3e tbody \x3e tr \x3e th,;.%1 table.%2 \x3e thead \x3e tr \x3e td, .%1 table.%2 \x3e thead \x3e tr \x3e th,;.%1 table.%2 \x3e tfoot \x3e tr \x3e td, .%1 table.%2 \x3e tfoot \x3e tr \x3e th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g,
"cke_show_border").replace(/%1/g,"cke_show_borders ");CKEDITOR.addCss(a)},init:afterInit:);CKEDITOR.on("dialogDefinition",})();CKEDITOR.plugins.add("smiley",{requires:"dialog",init:);CKEDITOR.config.smiley_images="regular_smile.png sad_smile.png wink_smile.png teeth_smile.png confused_smile.png tongue_smile.png embarrassed_smile.png omg_smile.png whatchutalkingabout_smile.png angry_smile.png angel_smile.png shades_smile.png devil_smile.png cry_smile.png lightbulb.png thumbs_down.png thumbs_up.png heart.png broken_heart.png kiss.png envelope.png".split(" ");
CKEDITOR.config.smiley_descriptions="smiley;sad;wink;laugh;frown;cheeky;blush;surprise;indecision;angry;angel;cool;devil;crying;enlightened;no;yes;heart;broken heart;kiss;mail".split(";");(();CKEDITOR.plugins.sourcearea=
{commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:canUndo:!1}}};CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,
lt:1,lv:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(a){var f=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js");a.addCommand("specialchar",{exec:function(){var d=a.langCode;d=f.availableLangs[d]?d:f.availableLangs[d.replace(/-.*/,"")]?d.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(f.path+"dialogs/lang/"+d+".js"),},modes:{wysiwyg:1},canUndo:!1});a.ui.addButton&&a.ui.addButton("SpecialChar",{label:a.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}});CKEDITOR.config.specialChars="! \x26quot; # $ % \x26amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; \x26lt; \x3d \x26gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ \x26euro; \x26lsquo; \x26rsquo; \x26ldquo; \x26rdquo; \x26ndash; \x26mdash; \x26iexcl; \x26cent; \x26pound; \x26curren; \x26yen; \x26brvbar; \x26sect; \x26uml; \x26copy; \x26ordf; \x26laquo; \x26not; \x26reg; \x26macr; \x26deg; \x26sup2; \x26sup3; \x26acute; \x26micro; \x26para; \x26middot; \x26cedil; \x26sup1; \x26ordm; \x26raquo; \x26frac14; \x26frac12; \x26frac34; \x26iquest; \x26Agrave; \x26Aacute; \x26Acirc; \x26Atilde; \x26Auml; \x26Aring; \x26AElig; \x26Ccedil; \x26Egrave; \x26Eacute; \x26Ecirc; \x26Euml; \x26Igrave; \x26Iacute; \x26Icirc; \x26Iuml; \x26ETH; \x26Ntilde; \x26Ograve; \x26Oacute; \x26Ocirc; \x26Otilde; \x26Ouml; \x26times; \x26Oslash; \x26Ugrave; \x26Uacute; \x26Ucirc; \x26Uuml; \x26Yacute; \x26THORN; \x26szlig; \x26agrave; \x26aacute; \x26acirc; \x26atilde; \x26auml; \x26aring; \x26aelig; \x26ccedil; \x26egrave; \x26eacute; \x26ecirc; \x26euml; \x26igrave; \x26iacute; \x26icirc; \x26iuml; \x26eth; \x26ntilde; \x26ograve; \x26oacute; \x26ocirc; \x26otilde; \x26ouml; \x26divide; \x26oslash; \x26ugrave; \x26uacute; \x26ucirc; \x26uuml; \x26yacute; \x26thorn; \x26yuml; \x26OElig; \x26oelig; \x26#372; \x26#374 \x26#373 \x26#375; \x26sbquo; \x26#8219; \x26bdquo; \x26hellip; \x26trade; \x26#9658; \x26bull; \x26rarr; \x26rArr; \x26hArr; \x26diams; \x26asymp;".split(" ");
(function(){CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(a){var f=a.config,d=a.lang.stylescombo,c={},b=[],k=[];a.on("stylesSet",;a.ui.addRichCombo("Styles",{label:d.label,title:d.panelTitle,toolbar:"styles,10",allowedContent:k,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(f.contentsCss),multiSelect:!0,attributes:{"aria-label":d.panelTitle}},init:function(){var a,c;var f=0;for(c=b.length;f<c;f++){var l=b[f];var e=l._name;var k=l._.type;k!=a&&(this.startGroup(d["panelTitle"+String(k)]),
a=k);this.add(e,l.type==CKEDITOR.STYLE_OBJECT?e:l.buildPreview(),e)}this.commit()},onClick:onRender:onOpen:function(){var b=a.getSelection();b=b.getSelectedElement()||b.getStartElement()||a.editable();b=a.elementPath(b);var f=[0,0,0,0];this.showAll();this.unmarkAll();for(var g in c){var l=c[g],e=l._.type;l.checkApplicable(b,a,a.activeFilter)?f[e]++:this.hideItem(g);l.checkActive(b,a)&&this.mark(g)}f[CKEDITOR.STYLE_BLOCK]||this.hideGroup(d["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]);f[CKEDITOR.STYLE_INLINE]||this.hideGroup(d["panelTitle"+String(CKEDITOR.STYLE_INLINE)]);
f[CKEDITOR.STYLE_OBJECT]||this.hideGroup(d["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},refresh:reset:)}})})();(function(){function a(a){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(b){if(b.editable().hasFocus){var c=b.getSelection(),d;if(d=(new CKEDITOR.dom.elementPath(c.getCommonAncestor(),c.root)).contains({td:1,
th:1},1)){c=b.createRange();var f=CKEDITOR.tools.tryThese(function(){var b=d.getParent();b=b.getAscendant("table").$.rows[b.$.rowIndex+(a?-1:1)];return b.cells[a?b.cells.length-1:0]});if(f||a)if(f)f=new CKEDITOR.dom.element(f),c.moveToElementEditStart(f),c.checkStartOfBlock()&&c.checkEndOfBlock()||c.selectNodeContents(f);else return!0;else{var l=d.getAscendant("table").$;f=d.getParent().$.cells;l=new CKEDITOR.dom.element(l.insertRow(-1),
b.document);for(var e=0,k=f.length;e<k;e++)l.append((new CKEDITOR.dom.element(f[e],b.document)).clone(!1,!1)).appendBogus();c.moveToElementEditStart(l)}c.select(!0);return!0}}return!1}}}var f={editorFocus:!1,modes:{wysiwyg:1,source:1}},d={exec:function(a){a.container.focusNext(!0,a.tabIndex)}},c={exec:;CKEDITOR.plugins.add("tab",{init:)})();CKEDITOR.dom.element.prototype.focusNext=function(a,f){f=void 0===f?this.getTabIndex():f;var d,
c,b,k;if(0>=f)for(b=this.getNextSourceNode(a,CKEDITOR.NODE_ELEMENT);b;){if(b.isVisible()&&0===b.getTabIndex()){var h=b;break}b=b.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(b=this.getDocument().getBody().getFirst();b=b.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!m)if(!d&&b.equals(this)){if(d=!0,a){if(!(b=b.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;var m=1}}else d&&!this.contains(b)&&(m=1);if(b.isVisible()&&!(0>(k=b.getTabIndex()))){if(m&&k==f){h=b;break}k>f&&(!h||!c||k<c)?
(h=b,c=k):h||0!==k||(h=b,c=k)}}h&&h.focus()};CKEDITOR.dom.element.prototype.focusPrevious=function(a,f){f=void 0===f?this.getTabIndex():f;for(var d,c,b,k=0,h,m=this.getDocument().getBody().getLast();m=m.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!d)if(!c&&m.equals(this)){if(c=!0,a){if(!(m=m.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;d=1}}else c&&!this.contains(m)&&(d=1);if(m.isVisible()&&!(0>(h=m.getTabIndex())))if(0>=f){if(d&&0===h){b=m;break}h>k&&(b=m,k=h)}else{if(d&&h==f){b=
m;break}h<f&&(!b||h>k)&&(b=m,k=h)}}b&&b.focus()};CKEDITOR.plugins.add("table",{requires:"dialog",init:function(a){f(!a.blockless){var d=a.lang.table;a.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height,border-collapse}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];td{border*,background-color,vertical-align,width,height}[colspan,rowspan];"+
(a.plugins.dialogadvtab?"table"+a.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"],["td: splitBorderShorthand"],[{element:"table",right:function(a){if(a.styles){if(a.styles.border)var b=CKEDITOR.tools.style.parse.border(a.styles.border);else if(CKEDITOR.env.ie&&8===CKEDITOR.env.version){var c=a.styles;c["border-left"]&&c["border-left"]===c["border-right"]&&c["border-right"]===c["border-top"]&&c["border-top"]===
c["border-bottom"]&&(b=CKEDITOR.tools.style.parse.border(c["border-top"]))}b&&b.style&&"solid"===b.style&&b.width&&0!==parseFloat(b.width)&&(a.attributes.border=1);"collapse"==a.styles["border-collapse"]&&(a.attributes.cellspacing=0)}}}]]}));a.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",f()));a.addCommand("tableDelete",f({exec:));a.ui.addButton&&a.ui.addButton("Table",{label:d.toolbar,command:"table",toolbar:"insert,30"});CKEDITOR.dialog.add("table",this.path+"dialogs/table.js");CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js");a.addMenuItems&&a.addMenuItems({table:{label:d.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:d.deleteTable,command:"tableDelete",group:"table",order:1}});
a.on("doubleclick",;a.contextMenu&&a.contextMenu.addListener(}}});(function(){function a(a,b){r e=[],f={};if(!a)return e;a=a.getRanges();for(var g=0;g<a.length;g++){var h=a[g];if(h.collapsed)(h=h.getCommonAncestor().getAscendant({td:1,th:1},!0))&&c(h)&&e.push(h);else{h=new CKEDITOR.dom.walker(h);var l;for(h.guard=d;l=h.next();)l.type==CKEDITOR.NODE_ELEMENT&&l.is(CKEDITOR.dtd.table)||(l=l.getAscendant({td:1,th:1},!0))&&!l.getCustomData("selected_cell")&&c(l)&&(CKEDITOR.dom.element.setMarker(f,l,"selected_cell",!0),e.push(l))}}CKEDITOR.dom.element.clearAllMarkers(f);return e}
function f(b,c){b=v(b)?b:a(b);var d=b[0],e=d.getAscendant("table");d=d.getDocument();var f=b[0].getParent(),g=f.$.rowIndex;b=b[b.length-1];var h=b.getParent().$.rowIndex+b.$.rowSpan-1;b=new CKEDITOR.dom.element(e.$.rows[h]);g=c?g:h;f=c?f:b;b=CKEDITOR.tools.buildTableMap(e);e=b[g];g=c?b[g-1]:b[g+1];b=b[0].length;d=d.createElement("tr");for(h=0;e[h]&&h<b;h++){var l;1<e[h].rowSpan&&g&&e[h]==g[h]?(l=e[h],l.rowSpan+=1):(l=(new CKEDITOR.dom.element(e[h])).clone(),l.removeAttribute("rowSpan"),l.appendBogus(),
d.append(l),l=l.$);h+=l.colSpan-1}c?d.insertBefore(f):d.insertAfter(f);return d}function d(b){if(b instanceof CKEDITOR.dom.selection){var c=b.getRanges(),e=a(b),f=e[0].getAscendant("table"),g=CKEDITOR.tools.buildTableMap(f),h=e[0].getParent().$.rowIndex;e=e[e.length-1];var l=e.getParent().$.rowIndex+e.$.rowSpan-1;e=[];b.reset();for(b=h;b<=l;b++){for(var k=g[b],m=new CKEDITOR.dom.element(f.$.rows[b]),n=0;n<k.length;n++){var q=new CKEDITOR.dom.element(k[n]),u=q.getParent().$.rowIndex;1==q.$.rowSpan?
q.remove():(--q.$.rowSpan,u==b&&(u=g[b+1],u[n-1]?q.insertAfter(new CKEDITOR.dom.element(u[n-1])):(new CKEDITOR.dom.element(f.$.rows[b+1])).append(q,1)));n+=q.$.colSpan-1}e.push(m)}g=f.$.rows;c[0].moveToPosition(f,CKEDITOR.POSITION_BEFORE_START);h=new CKEDITOR.dom.element(g[l+1]||(0<h?g[h-1]:null)||f.$.parentNode);for(b=e.length;0<=b;b--)d(e[b]);return f.$.parentNode?h:(c[0].select(),null)}b instanceof CKEDITOR.dom.element&&(f=b.getAscendant("table"),1==f.$.rows.length?f.remove():b.remove());return null}
function c(a){for(var b=a.getParent().$.cells,c=0,d=0;d<b.length;d++){var e=b[d];c+=e.colSpan;if(e==a.$)break}return c-1}unction k(c,d){c=v(c)?c:a(c);var e=c[0].getAscendant("table"),f=b(c,1);c=b(c);var g=d?f:c,h=CKEDITOR.tools.buildTableMap(e);e=[];f=[];c=[];for(var l=h.length,k=0;k<l;k++){var m=d?h[k][g-1]:h[k][g+1];e.push(h[k][g]);f.push(m)}for(k=0;k<l;k++)e[k]&&(1<e[k].colSpan&&f[k]==e[k]?(h=e[k],
h.colSpan+=1):(g=new CKEDITOR.dom.element(e[k]),h=g.clone(),h.removeAttribute("colSpan"),h.appendBogus(),h[d?"insertBefore":"insertAfter"].call(h,g),c.push(h),h=h.$),k+=h.rowSpan-1);return c}function h(b){function c(a){var b=a.getRanges();if(1!==b.length)return a;b=b[0];if(b.collapsed||0!==b.endOffset)return a;var c=b.endContainer;var d=c.getName().toLowerCase();if("td"!==d&&"th"!==d)return a;for((d=c.getPrevious())||(d=c.getParent().getPrevious().getLast());d.type!==CKEDITOR.NODE_TEXT&&"br"!==d.getName().toLowerCase();)if(d=
d.getLast(),!d)return a;b.setEndAt(d,CKEDITOR.POSITION_BEFORE_END);return b.select()}CKEDITOR.env.webkit&&!b.isFake&&(b=c(b));var d=b.getRanges(),e=a(b),f=e[0],g=e[e.length-1];e=f.getAscendant("table");var h=CKEDITOR.tools.buildTableMap(e),l,k,m=[];b.reset();var n=0;for(b=h.length;n<b;n++)for(var q=0,u=h[n].length;q<u;q++)void 0===l&&h[n][q]==f.$&&(l=q),h[n][q]==g.$&&(k=q);for(n=l;n<=k;n++)for(q=0;q<h.length;q++)g=h[q],f=new CKEDITOR.dom.element(e.$.rows[q]),g=new CKEDITOR.dom.element(g[n]),g.$&&
(1==g.$.colSpan?g.remove():--g.$.colSpan,q+=g.$.rowSpan-1,f.$.cells.length||m.push(f));l=h[0].length-1>k?new CKEDITOR.dom.element(h[0][k+1]):l&&-1!==h[0][l-1].cellIndex?new CKEDITOR.dom.element(h[0][l-1]):new CKEDITOR.dom.element(e.$.parentNode);m.length==b&&(d[0].moveToPosition(e,CKEDITOR.POSITION_AFTER_END),d[0].select(),e.remove());return l}function m(a,b){if(a=a.getStartElement().getAscendant({td:1,th:1},!0)){var c=a.clone();c.appendBogus();b?c.insertBefore(a):c.insertAfter(a)}}function g(b){if(b instanceof
CKEDITOR.dom.selection){var c=b.getRanges(),d=a(b),e=d[0]&&d[0].getAscendant("table");a:{var f=0;var h=d.length-1;for(var k={},m,n;m=d[f++];)CKEDITOR.dom.element.setMarker(k,m,"delete_cell",!0);for(f=0;m=d[f++];)if((n=m.getPrevious())&&!n.getCustomData("delete_cell")||(n=m.getNext())&&!n.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(k);h=n;break a}CKEDITOR.dom.element.clearAllMarkers(k);f=d[0].getParent();(f=f.getPrevious())?h=f.getLast():(f=d[h].getParent(),h=(f=f.getNext())?
f.getChild(0):null)}b.reset();for(b=d.length-1;0<=b;b--)g(d[b]);h?l(h,!0):e&&(c[0].moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),c[0].select(),e.remove())}else b instanceof CKEDITOR.dom.element&&(c=b.getParent(),1==c.getChildCount()?c.remove():b.remove())}nction n(b,c,d){var f=a(b),g;if((c?1!=f.length:2>f.length)||(g=b.getCommonAncestor())&&g.type==CKEDITOR.NODE_ELEMENT&&g.is("table"))return!1;b=f[0];g=b.getAscendant("table");var h=CKEDITOR.tools.buildTableMap(g),l=h.length,k=h[0].length,m=b.getParent().$.rowIndex,n=e(h,m,b);if(c){try{var p=parseInt(b.getAttribute("rowspan"),
10)||1;var q=parseInt(b.getAttribute("colspan"),10)||1;var u=h["up"==c?m-p:"down"==c?m+p:m]["left"==c?n-q:"right"==c?n+q:n]}catch(Q){return!1}if(!u||b.$==u)return!1;f["up"==c||"left"==c?"unshift":"push"](new CKEDITOR.dom.element(u))}c=b.getDocument();var t=m;p=u=0;var v=!d&&new CKEDITOR.dom.documentFragment(c),x=0;for(c=0;c<f.length;c++){q=f[c];var K=q.getParent(),J=q.getFirst(),C=q.$.colSpan,I=q.$.rowSpan;K=K.$.rowIndex;var M=e(h,K,q);x+=C*I;p=Math.max(p,M-n+C);u=Math.max(u,K-m+I);d||(C=q,(I=C.getBogus())&&
I.remove(),C.trim(),q.getChildren().count()&&(K==t||!J||J.isBlockBoundary&&J.isBlockBoundary({br:1})||(t=v.getLast(CKEDITOR.dom.walker.whitespaces(!0)),!t||t.is&&t.is("br")||v.append("br")),q.moveChildren(v)),c?q.remove():q.setHtml(""));t=K}if(d)return u*p==x;v.moveChildren(b);b.appendBogus();p>=k?b.removeAttribute("rowSpan"):b.$.rowSpan=u;u>=l?b.removeAttribute("colSpan"):b.$.colSpan=p;d=new CKEDITOR.dom.nodeList(g.$.rows);f=d.count();for(c=f-1;0<=c;c--)g=d.getItem(c),g.$.cells.length||(g.remove(),
f++);return b}function u(b,c){b=a(b);if(1<b.length)return!1;if(c)return!0;b=b[0];c=b.getParent();var d=c.getAscendant("table"),f=CKEDITOR.tools.buildTableMap(d),g=c.$.rowIndex,h=e(f,g,b),l=b.$.rowSpan;if(1<l){var k=Math.ceil(l/2);l=Math.floor(l/2);c=g+k;d=new CKEDITOR.dom.element(d.$.rows[c]);f=e(f,c);var m;c=b.clone();for(g=0;g<f.length;g++)if(m=f[g],m.parentNode==d.$&&g>h){c.insertBefore(new CKEDITOR.dom.element(m));break}else m=null;m||d.append(c)}else for(l=k=1,d=c.clone(),d.insertAfter(c),d.append(c=
b.clone()),m=e(f,g),h=0;h<m.length;h++)m[h].rowSpan++;c.appendBogus();b.$.rowSpan=k;c.$.rowSpan=l;1==k&&b.removeAttribute("rowSpan");1==l&&c.removeAttribute("rowSpan");return c}function x(b,c){b=a(b);if(1<b.length)return!1;if(c)return!0;b=b[0];c=b.getParent();var d=c.getAscendant("table");d=CKEDITOR.tools.buildTableMap(d);var f=e(d,c.$.rowIndex,b),g=b.$.colSpan;if(1<g)c=Math.ceil(g/2),g=Math.floor(g/2);else{g=c=1;for(var h=[],l=0;l<d.length;l++){var k=d[l];h.push(k[f]);1<k[f].rowSpan&&(l+=k[f].rowSpan-
1)}for(d=0;d<h.length;d++)h[d].colSpan++}d=b.clone();d.insertAfter(b);d.appendBogus();b.$.colSpan=c;d.$.colSpan=g;1==c&&b.removeAttribute("colSpan");1==g&&d.removeAttribute("colSpan");return d}var v=CKEDITOR.tools.isArray;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(b){unction e(a,
c){a=b.addCommand(a,c);b.addFeature(a)}var q=b.lang.table,v=CKEDITOR.tools.style.parse,A="td{width} td{height} td{border-color} td{background-color} td{white-space} td{vertical-align} td{text-align} td[colspan] td[rowspan] th".split(" ");e("cellProperties",new CKEDITOR.dialogCommand("cellProperties",c({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:A,contentTransformations:[[{element:"td",left:right:,{element:"td",check:"td{vertical-align}",left:function(a){return a.attributes&&a.attributes.valign},right:],[{element:"tr",check:"td{height}",left:right:],[{element:"td",check:"td{height}",left:right:]]})));CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js");e("rowDelete",c({requiredContent:"table",exec:));e("rowInsertBefore",c({requiredContent:"table",exec:function(b){b=
b.getSelection();b=a(b);f(b,!0)}}));e("rowInsertAfter",c({requiredContent:"table",exec:function(b){b=b.getSelection();b=a(b);f(b)}}));e("columnDelete",c({requiredContent:"table",exec:));e("columnInsertBefore",c({requiredContent:"table",exec:));e("columnInsertAfter",c({requiredContent:"table",exec:));e("cellDelete",c({requiredContent:"table",exec:function(a){a=
a.getSelection();g(a)}}));e("cellMerge",c({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:));e("cellMergeRight",c({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(a,b){b.cell=n(a.getSelection(),"right");l(b.cell,!0)}}));e("cellMergeDown",c({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:));e("cellVerticalSplit",
c({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(a){l(x(a.getSelection()))}}));e("cellHorizontalSplit",c({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:));e("cellInsertBefore",c({requiredContent:"table",exec:));e("cellInsertAfter",c({requiredContent:"table",exec:));b.addMenuItems&&b.addMenuItems({tablecell:{label:q.cell.menu,group:"tablecell",
order:1,getItems:function(){var c=b.getSelection(),d=a(c);c={tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:n(c,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:n(c,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:n(c,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:x(c,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,
tablecell_split_horizontal:u(c,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};b.filter.check(A)&&(c.tablecell_properties=0<d.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);return c}},tablecell_insertBefore:{label:q.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:q.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:q.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:q.cell.merge,
group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:q.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:q.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:q.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:q.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:q.cell.title,
group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:q.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:q.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:q.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:q.row.deleteRow,
group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:q.column.menu,group:"tablecolumn",order:1,getItems:,tablecolumn_insertBefore:{label:q.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:q.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:q.column.deleteColumn,
group:"tablecolumn",command:"columnDelete",order:15}});b.contextMenu&&b.contextMenu.addListener(},getCellColIndex:c,insertRow:f,insertColumn:k,getSelectedCells:a};CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)})();CKEDITOR.tools.buildTableMap=function(a,f,d,c,b){a=a.$.rows;d=d||0;c="number"===typeof c?c:a.length-
1;b="number"===typeof b?b:-1;var k=-1,h=[];for(f=f||0;f<=c;f++){k++;!h[k]&&(h[k]=[]);for(var m=-1,g=d;g<=(-1===b?a[f].cells.length-1:b);g++){var l=a[f].cells[g];if(!l)break;for(m++;h[k][m];)m++;var e=isNaN(l.colSpan)?1:l.colSpan;l=isNaN(l.rowSpan)?1:l.rowSpan;for(var n=0;n<l&&!(f+n>c);n++){h[k+n]||(h[k+n]=[]);for(var u=0;u<e;u++)h[k+n][m+u]=a[f].cells[g]}m+=e-1;if(-1!==b&&m>=b)break}}return h};(function(){unction f(a,
b){var c=a.getAscendant("table"),d=b.getAscendant("table"),e=CKEDITOR.tools.buildTableMap(c),f=g(a),h=g(b),l=[],k={};c.contains(d)&&(b=b.getAscendant({td:1,th:1}),h=g(b));f>h&&(c=f,f=h,h=c,c=a,a=b,b=c);for(c=0;c<e[f].length;c++)if(a.$===e[f][c]){var m=c;break}for(c=0;c<e[h].length;c++)if(b.$===e[h][c]){var n=c;break}m>n&&(c=m,m=n,n=c);for(c=f;c<=h;c++)for(f=m;f<=n;f++)d=new CKEDITOR.dom.element(e[c][f]),d.$&&!d.getCustomData("selected_cell")&&(l.push(d),CKEDITOR.dom.element.setMarker(k,d,"selected_cell",
!0));CKEDITOR.dom.element.clearAllMarkers(k);return l}unction c(a,b){var c=a.editable().find(".cke_table-faked-selection"),d=a.editable().findOne("[data-cke-table-faked-selection-table]"),e;a.fire("lockSnapshot");a.editable().removeClass("cke_table-faked-selection-editor");for(e=0;e<c.count();e++)c.getItem(e).removeClass("cke_table-faked-selection");d&&d.data("cke-table-faked-selection-table",!1);
a.fire("unlockSnapshot");b&&(q={active:!1},a.getSelection().isInTable()&&a.getSelection().reset())}function b(a,b){var c=[],d;for(d=0;d<b.length;d++){var e=a.createRange();e.setStartBefore(b[d]);e.setEndAfter(b[d]);c.push(e)}a.getSelection().selectRanges(c)}nction m(a){var b=(a=a.editor||a.sender.editor)&&a.getSelection(),d=b&&b.getRanges()||[],e=d&&d[0].getEnclosedNode();e=e&&e.type==CKEDITOR.NODE_ELEMENT&&e.is("img");var f;if(b&&(c(a),b.isInTable()&&b.isFake))if(e)a.getSelection().reset();
else if(!d[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored")){1===d.length&&d[0]._getTableElement()&&d[0]._getTableElement().is("table")&&(f=d[0]._getTableElement());f=t(b,f);a.fire("lockSnapshot");for(b=0;b<f.length;b++)f[b].addClass("cke_table-faked-selection");0<f.length&&(a.editable().addClass("cke_table-faked-selection-editor"),f[0].getAscendant("table").data("cke-table-faked-selection-table",""));a.fire("unlockSnapshot")}}unction l(b){b.data.getTarget().getName&&("mouseup"===b.name||!a(b.data.getTarget()))){var m=b.editor||b.listenerData.editor,n=m.getSelection(1),p=d(m),r=b.data.getTarget(),u=r&&r.getAscendant({td:1,th:1},!0);r=r&&r.getAscendant("table",!0);var w={table:1,thead:1,tbody:1,tfoot:1,tr:1,td:1,th:1};r&&r.hasAttribute("data-cke-tableselection-ignored")||(g(b,n,p,r)&&c(m,!0),!q.active&&"mousedown"===b.name&&CKEDITOR.tools.getMouseButton(b)===CKEDITOR.MOUSE_BUTTON_LEFT&&r&&(q={active:!0},CKEDITOR.document.on("mouseup",
l,null,{editor:m})),(u||r)&&h(m,u||r,b),"mouseup"===b.name&&(CKEDITOR.tools.getMouseButton(b)===CKEDITOR.MOUSE_BUTTON_LEFT&&(f(b.data.getTarget())||e(p,r))&&k(m),q={active:!1},CKEDITOR.document.removeListener("mouseup",l)))}}={active:!1},p,t,r,B,A;x.prototype={};x.prototype._reset=x.prototype.setSelectedCells=
x.prototype.getTableMap=function(){var a=r(this.cells.first);a:{var b=this.cells.last;var c=b.getAscendant("table"),d=g(b);c=CKEDITOR.tools.buildTableMap(c);var e;for(e=0;e<c[d].length;e++)if((new CKEDITOR.dom.element(c[d][e])).equals(b)){b=e;break a}b=void 0}return CKEDITOR.tools.buildTableMap(this._getTable(),
g(this.rows.first),a,g(this.rows.last),b)};x.prototype._getTable=x.prototype.insertRow=
x.prototype.insertColumn=function(a){f("undefined"===typeof a)a=1;else if(0>=a)return;var c=this.cells,d=c.all,e=g(c.first),f=g(c.last);for(c=0;c<a;c++)d=d.concat(CKEDITOR.tools.array.filter(A(d),b));this.setSelectedCells(d)};x.prototype.emptyCells=x.prototype._arraySortByDOMOrder=var z={onPaste:function(a){r e=a.editor,g=e.getSelection(),h=t(g),l=g.isInTable(!0)&&this.isBoundarySelection(g),k=this.findTableInPastedContent(e,a.data.dataValue),m,n;(function(a,b,c,d){a=a.getRanges();var e=a.length&&a[0]._getTableElement({table:1});if(!b.length||e&&e.hasAttribute("data-cke-tableselection-ignored")||d&&!c)return!1;if(b=!d)(b=a[0])?(b=b.clone(),b.enlarge(CKEDITOR.ENLARGE_ELEMENT),
b=(b=b.getEnclosedNode())&&b.is&&b.is(CKEDITOR.dtd.$tableContent)):b=void 0,b=!b;return b?!1:!0})(g,h,k,l)&&(h=h[0].getAscendant("table"),m=new x(t(g,h)),e.once("afterPaste",function(){if(n){var a=new CKEDITOR.dom.element(n[0][0]);var c=n[n.length-1];a=f(a,new CKEDITOR.dom.element(c[c.length-1]))}else a=m.cells.all;b(e,a)}),k?(a.stop(),l?(m.insertRow(1,1===l,!0),g.selectElement(m.rows.first)):(m.emptyCells(),b(e,m.cells.all)),a=m.getTableMap(),n=CKEDITOR.tools.buildTableMap(k),m.insertRow(n.length-
a.length),m.insertColumn(d(n)-d(a)),a=m.getTableMap(),this.pasteTable(m,a,n),e.fire("saveSnapshot"),setTimeout(function(){e.fire("afterPaste")},0)):(c(m.cells.first),e.once("afterPaste",))},isBoundarySelection:
findTableInPastedContent:pasteTable:function(a,b,c){var d,e=r(a.cells.first),f=a._getTable(),g={},h,l,k;for(l=0;l<c.length;l++){var m=new CKEDITOR.dom.element(f.$.rows[a.rows.first.$.rowIndex+l]);for(k=0;k<c[l].length;k++)if(h=new CKEDITOR.dom.element(c[l][k]),d=b[l]&&b[l][k]?new CKEDITOR.dom.element(b[l][k]):
null,h&&!h.getCustomData("processed")){if(d&&d.getParent())h.replace(d);else if(0===k||c[l][k-1])(d=0!==k?new CKEDITOR.dom.element(c[l][k-1]):null)&&m.equals(d.getParent())?h.insertAfter(d):0<e?m.$.cells[e]?h.insertAfter(new CKEDITOR.dom.element(m.$.cells[e])):m.append(h):m.append(h,!0);CKEDITOR.dom.element.setMarker(g,h,"processed",!0)}else h.getCustomData("processed")&&d&&d.remove()}CKEDITOR.dom.element.clearAllMarkers(g)}};CKEDITOR.plugins.tableselection={getCellsBetween:f,keyboardIntegration:function(a){ar c=a.editable();c.attachListener(c,"keydown",function(a){function c(b,c){if(!c.length)return null;b=a.createRange();c=CKEDITOR.dom.range.mergeRanges(c);CKEDITOR.tools.array.forEach(c,;var d=c[0].getBoundaryNodes(),f=d.startNode;d=d.endNode;if(f&&f.is&&f.is(e)){for(var g=f.getAscendant("table",
!0),h=f.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,g),l=!1,k=h&&!k(h);)h=h.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,g);!h&&d&&d.is&&!d.is("table")&&d.getNext()&&(h=d.getNext().findOne("td, th"),l=!0);if(h)b["moveToElementEdit"+(l?"Start":"End")](h);else b.setStartBefore(f.getAscendant("table",!0)),b.collapse(!0);c[0].deleteContents();return[b]}if(f)return b.moveToElementEditablePosition(f),[b]}var d={37:1,38:1,39:1,40:1,8:1,46:1,13:1},
e=CKEDITOR.tools.extend({table:1},CKEDITOR.dtd.$tableContent);delete e.td;delete e.th;return function(e){var f=e.data.getKey(),g=e.data.getKeystroke(),h,l=37===f||38==f;if(d[f]&&!a.readOnly&&(h=a.getSelection())&&h.isInTable()&&h.isFake){var k=h.getRanges();var m=k[0]._getTableElement();var n=k[k.length-1]._getTableElement();if(13!==f||a.plugins.enterkey)e.data.preventDefault(),e.cancel();if(36<f&&41>f)k[0].moveToElementEditablePosition(l?m:n,!l),h.selectRanges([k[0]]);else if(13!==f||13===g||g===
CKEDITOR.SHIFT+13){for(e=0;e<k.length;e++)b(k[e]);(e=c(m,k))?k=e:k[0].moveToElementEditablePosition(m);h.selectRanges(k);13===f&&a.plugins.enterkey?(a.fire("lockSnapshot"),13===g?a.execCommand("enter"):a.execCommand("shiftEnter"),a.fire("unlockSnapshot"),a.fire("saveSnapshot")):13!==f&&a.fire("saveSnapshot")}}}}(a),null,null,-1);c.attachListener(c,"keypress",null,null,-1)}};CKEDITOR.plugins.add("tableselection",{requires:"clipboard,tabletools",isSupportedEnvironment:onLoad:init:function(a){this.isSupportedEnvironment()&&(a.addContentsCss&&a.addContentsCss(this.path+"styles/tableselection.css"),a.on("contentDom",,a.on("paste",z.onPaste,z),v(a,"rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter".split(" "),,v(a,["cellMerge","cellMergeRight","cellMergeDown"],,v(a,["cellDelete"],)}})})();(();CKEDITOR.config.templates_files=[CKEDITOR.getUrl("plugins/templates/templates/default.js")];CKEDITOR.config.templates_replaceContent=!0;(function(){ar f=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],d={8:1,46:1};CKEDITOR.plugins.add("undo",{init:);CKEDITOR.plugins.undo={};var c=CKEDITOR.plugins.undo.UndoManager=c.prototype={type:function(a,b){a=c.getKeyGroup(a);var d=this.strokesRecorded[a]+1;b=b||d>=this.strokesLimit;this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange());b?(d=0,this.editor.fire("saveSnapshot")):this.editor.fire("change");this.strokesRecorded[a]=d;this.previousKeyGroup=a},keyGroupChanged:reset:resetType:refreshState:save:restoreImage:getNextImage:redoable:function(){return this.enabled&&this.hasRedo},undoable:undo:redo:update:updateSelection:lock:function(a,c){this.locked?this.locked.level++:a?this.locked={level:1}:(a=null,c?a=!0:(c=new b(this.editor,!0),this.currentImage&&this.currentImage.equalsContent(c)&&(a=c)),this.locked={update:a,level:1})},unlock:addFilterRule:;c.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1};c.keyGroups={PRINTABLE:0,FUNCTIONAL:1};c.isNavigationKey=function(a){return!!c.navigationKeyCodes[a]};c.getKeyGroup=c.getOppositeKeyGroup=c.ieFunctionalKeysBug=var b=CKEDITOR.plugins.undo.Image=k=/\b(?:href|src|name)="[^"]*?"/gi;b.prototype={equalsContent:equalsSelection:;var h=CKEDITOR.plugins.undo.NativeEditingHandler=
h.prototype={onKeydown:onInput:onKeyup:onNavigationKey:ignoreInputEventListener:function(){this.ignoreInputEvent=!0},activateInputEventListener:attachListeners:;var m=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};m.prototype={push:getLastIndex:getLast:increment:remove:resetInputs:getTotalInputs:cleanUp:})();
(function(){function a(a,b){CKEDITOR.tools.extend(this,{editor:a,editable:a.editable(),doc:a.document,win:a.window},b,!0);(this.inline=this.editable.isInline())||(this.frame=this.win.getFrame());this.target=this[this.inline?"editable":"doc"]}unction d(a,c){var d=a.editable();CKEDITOR.tools.extend(this,{editor:a,editable:d,inline:d.isInline(),doc:a.document,win:a.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},
c,!0);this.hidden={};this.visible={};this.inline||(this.frame=this.win.getFrame());this.queryViewport();c=CKEDITOR.tools.bind(this.queryViewport,this);var f=CKEDITOR.tools.bind(this.hideVisible,this),g=CKEDITOR.tools.bind(this.removeAll,this);d.attachListener(this.winTop,"resize",c);d.attachListener(this.winTop,"scroll",c);d.attachListener(this.winTop,"resize",f);d.attachListener(this.win,"scroll",f);d.attachListener(this.inline?d:this.frame,"mouseout",this);d.attachListener(a,"resize",c);d.attachListener(a,"mode",g);a.on("destroy",g);this.lineTpl=(new CKEDITOR.template('\x3cdiv data-cke-lineutils-line\x3d"1" class\x3d"cke_reset_all" style\x3d"{lineStyle}"\x3e\x3cspan style\x3d"{tipLeftStyle}"\x3e\x26nbsp;\x3c/span\x3e\x3cspan style\x3d"{tipRightStyle}"\x3e\x26nbsp;\x3c/span\x3e\x3c/div\x3e')).output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},
k,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},b,{left:"0px","border-left-color":"red","border-width":"6px 0 6px 6px"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},b,{right:"0px","border-right-color":"red","border-width":"6px 6px 6px 0"},this.tipCss,this.tipRightStyle,!0))})}KEDITOR.plugins.add("lineutils");CKEDITOR.LINEUTILS_BEFORE=1;CKEDITOR.LINEUTILS_AFTER=2;CKEDITOR.LINEUTILS_INSIDE=4;a.prototype={start:stop:function(){this.listener&&this.listener.removeListener()},getRange:),store:),traverseSearch:pixelSearch:),
greedySearch:;f.prototype={locate:function(){eturn function(b){this.locations={};for(var c in b){var d=b[c];d.elementRect=d.element.getClientRect();d.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(c,CKEDITOR.LINEUTILS_BEFORE,a(d,CKEDITOR.LINEUTILS_BEFORE));d.type&CKEDITOR.LINEUTILS_AFTER&&this.store(c,CKEDITOR.LINEUTILS_AFTER,a(d,CKEDITOR.LINEUTILS_AFTER));d.type&
CKEDITOR.LINEUTILS_INSIDE&&this.store(c,CKEDITOR.LINEUTILS_INSIDE,(d.elementRect.top+d.elementRect.bottom)/2)}return this.locations}}(),sort:),store:;var b={display:"block",width:"0px",height:"0px","border-color":"transparent","border-style":"solid",position:"absolute",top:"-6px"},k={height:"0px","border-top":"1px dashed red",position:"absolute","z-index":9999};d.prototype={removeAll:hideLine:function(a){var b=a.getUniqueId();
a.hide();this.hidden[b]=a;delete this.visible[b]},showLine:hideVisible:placeLine:function(a,b){var c;if(a=this.getStyle(a.uid,a.type)){for(c in this.visible)if(this.visible[c].getCustomData("hash")!==this.hash){var d=this.visible[c];break}if(!d)for(c in this.hidden)if(this.hidden[c].getCustomData("hash")!==this.hash){this.showLine(d=this.hidden[c]);
break}d||this.showLine(d=this.addLine());d.setCustomData("hash",this.hash);this.visible[d.getUniqueId()]=d;d.setStyles(a);b&&b(d)}},getStyle:function(a,b){var c=this.relations[a];a=this.locations[a][b];b={};b.width=c.siblingRect?Math.max(c.siblingRect.width,c.elementRect.width):c.elementRect.width;b.top=this.inline?a+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+a;if(b.top-this.winTopScroll.y<this.rect.top||b.top-this.winTopScroll.y>this.rect.bottom)return!1;this.inline?
b.left=c.elementRect.left-this.rect.relativeX:(0<c.elementRect.left?b.left=this.rect.left+c.elementRect.left:(b.width+=c.elementRect.left,b.left=this.rect.left),0<(c=b.left+b.width-(this.rect.left+this.winPane.width))&&(b.width-=c));b.left+=this.winTopScroll.x;for(var d in b)b[d]=CKEDITOR.tools.cssLength(b[d]);return b},addLine:prepare:
cleanup:function(){var a;for(a in this.visible){var b=this.visible[a];b.getCustomData("hash")!==this.hash&&this.hideLine(b)}},queryViewport:getClientRect:;var h={left:1,right:1,center:1},m={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:a,locator:f,liner:d}})();(();(function(){ction c(a,b){a.addCommand(b.name,{exec:function(a,c){ar e=a.widgets.focused;if(e&&e.name==b.name)e.edit();else if(b.insert)b.insert({editor:a,commandData:c});else if(b.template){e="function"==
typeof b.defaults?b.defaults():b.defaults;e=CKEDITOR.dom.element.createFromHtml(b.template.output(e),a.document);var f,g=a.widgets.wrapElement(e,b.name),h=new CKEDITOR.dom.documentFragment(g.getDocument());h.append(g);(f=a.widgets.initOn(e,b,c&&c.startupData))?(e=f.once("edit",function(b){if(b.data.dialog)f.once("dialog",function(b){b=b.data;var c=b.once("ok",d,null,null,20);var e=b.once("cancel",;b.once("hide",});else d()},null,null,999),f.edit(),e.removeListener()):d()}},allowedContent:b.allowedContent,requiredContent:b.requiredContent,contentForms:b.contentForms,contentTransformations:b.contentTransformations})}nction h(a){a=a.data;if("wysiwyg"==this.editor.mode){var b=this.editor.editable(),c=this.instances,d,e;if(b){for(h in c)c[h].isReady()&&!b.contains(c[h].wrapper)&&this.destroy(c[h],!0);if(a&&a.initOnlyNew)c=this.initOnAll();else{var g=
b.find(".cke_widget_wrapper");c=[];var h=0;for(d=g.count();h<d;h++){var k=g.getItem(h);if(e=!this.getByElement(k,!0)){a:{e=q;for(var l=k;l=l.getParent();)if(e(l)){e=!0;break a}e=!1}e=!e}e&&b.contains(k)&&(k.addClass("cke_widget_new"),c.push(this.initOn(k.getFirst(f.isDomWidgetElement))))}}a&&a.focusInited&&1==c.length&&c[0].focus()}}}unction g(a){return a.find(function(a){return 3===a.type},!0).shift()}unction e(a,b,c){if(!c.allowedContent&&!c.disallowedContent)return null;var d=this._.filters[a];d||(this._.filters[a]=d=
{});(a=d[b])||(a=c.allowedContent?new CKEDITOR.filter(c.allowedContent):this.editor.filter.clone(),d[b]=a,c.disallowedContent&&a.disallow(c.disallowedContent));return a}function n(a){var b=[],c=a._.upcasts,d=a._.upcastCallbacks;return{toBeWrapped:b,iterator:function(a){var e,g,h,k;if("data-cke-widget-wrapper"in a.attributes)return(a=a.getFirst(f.isParserWidgetElement))&&b.push([a]),!1;if("data-widget"in a.attributes)return b.push([a]),!1;if(k=c.length){if(a.attributes["data-cke-widget-upcasted"])return!1;
var l=0;for(e=d.length;l<e;++l)if(!1===d[l](a))return;for(l=0;l<k;++l)if(e=c[l],h={},g=e[0](a,h))return g instanceof CKEDITOR.htmlParser.element&&(a=g),a.attributes["data-cke-widget-data"]=encodeURIComponent(JSON.stringify(h)),a.attributes["data-cke-widget-upcasted"]=1,b.push([a,e[1]]),!1}}}}unction x(a,b,c){if(a.type==CKEDITOR.NODE_ELEMENT){var d=CKEDITOR.dtd[a.name];if(d&&!d[c.name]){d=a.split(b);var e=a.parent;b=d.getIndex();a.children.length||(--b,a.remove());d.children.length||d.remove();return x(e,b,c)}}a.add(c,b)}ion B(a){var b=a.editor,c=CKEDITOR.plugins.lineutils;b.on("dragstart",;b.on("drop",function(c){var d=c.data.dataTransfer,e=d.getData("cke/widget-id"),f=d.getTransferType(b);d=b.createRange();if(""!==e&&f===CKEDITOR.DATA_TRANSFER_CROSS_EDITORS)c.cancel();else if(f==CKEDITOR.DATA_TRANSFER_INTERNAL)if(""===e&&0<b.widgets.selected.length)c.data.dataTransfer.setData("text/html",
I(b));else if(e=a.instances[e])d.setStartBefore(e.wrapper),d.setEndAfter(e.wrapper),c.data.dragRange=d,delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount,delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount,c.data.dataTransfer.setData("text/html",e.getClipboardHtml()),b.widgets.destroy(e,!0)});b.on("contentDom",}tion D(a){var b=a.editor,c={};b.on("toDataFormat",function(b){var d=CKEDITOR.tools.getNextNumber(),e=[];b.data.downcastingSessionId=d;c[d]=e;b.data.dataValue.forEach(function(b){var c=b.attributes;if("data-cke-widget-white-space"in c){var d=g(b);var h=l(b);d.parent.attributes["data-cke-white-space-first"]&&(d.value=d.value.replace(/^&nbsp;/g," "));h.parent.attributes["data-cke-white-space-last"]&&(h.value=h.value.replace(/&nbsp;$/g," "))}if("data-cke-widget-id"in c){if(c=a.instances[c["data-cke-widget-id"]])d=
b.getFirst(f.isParserWidgetElement),e.push({wrapper:b,element:d,widget:c,editables:{}}),"1"!=d.attributes["data-cke-widget-keep-attr"]&&delete d.attributes["data-widget"]}else if("data-cke-widget-editable"in c)return 0<e.length&&(e[e.length-1].editables[c["data-cke-widget-editable"]]=b),!1},CKEDITOR.NODE_ELEMENT,!0)},null,null,8);b.on("toDataFormat",function(a){if(a.data.downcastingSessionId)for(var b=c[a.data.downcastingSessionId],d,e,f,g,h,k;d=b.shift();){e=d.widget;f=d.element;g=e._.downcastFn&&
e._.downcastFn.call(e,f);a.data.widgetsCopy&&e.getClipboardHtml&&(g=CKEDITOR.htmlParser.fragment.fromHtml(e.getClipboardHtml()),g=g.children[0]);for(k in d.editables)h=d.editables[k],delete h.attributes.contenteditable,h.setHtml(e.editables[k].getData());g||(g=f);d.wrapper.replaceWith(g)}},null,null,13);b.on("contentDomUnload",}unction F(a){var b=a.selected,c=[],d=b.slice(0),e=null;return{select:focus:commit:function(){var f=a.focused!==e,g,h;a.editor.fire("lockSnapshot");for(f&&(g=a.focused)&&k(a,g);g=d.pop();)b.splice(CKEDITOR.tools.indexOf(b,g),1),g.isInited()&&(h=g.editor.checkDirty(),
g.setSelected(!1),!h&&g.editor.resetDirty());for(f&&e&&(h=a.editor.checkDirty(),a.focused=e,a.fire("widgetFocused",{widget:e}),e.setFocused(!0),!h&&a.editor.resetDirty());g=c.pop();)b.push(g),g.setSelected(!0);a.editor.fire("unlockSnapshot")}}}function G(a){a&&a.addFilterRule(}n M(a,b){Q(a);R(a);S(a);U(a);da(a);ba(a);fa(a);if(CKEDITOR.env.ie&&9>CKEDITOR.env.version)a.wrapper.on("dragstart",;a.wrapper.removeClass("cke_widget_new");
a.element.addClass("cke_widget_element");a.on("key",function(b){b=b.data.keyCode;if(13==b)a.edit();else{if(b==CKEDITOR.CTRL+67||b==CKEDITOR.CTRL+88){O(a.editor,b==CKEDITOR.CTRL+88);return}if(b in Z||CKEDITOR.CTRL&b||CKEDITOR.ALT&b)return}return!1},null,null,999);a.on("doubleclick",;if(b.data)a.on("data",b.data);if(b.edit)a.on("edit",b.edit)}nction S(a){var b=a.editables,c;a.editables={};if(a.editables)for(c in b){var d=b[c];a.initEditable(c,"string"==typeof d?{selector:d}:d)}}nction T(){if(this.wrapper){this.maskPart=this.maskPart||this.mask;var a=this.parts[this.maskPart],b;if(a&&"string"!=typeof a){(b=this.wrapper.findOne(".cke_widget_partial_mask"))||(b=new CKEDITOR.dom.element("img",
this.editor.document),b.setAttributes({src:CKEDITOR.tools.transparentImageData,"class":"cke_reset cke_widget_partial_mask"}),this.wrapper.append(b));this.mask=b;var c=b.$,d=a.$,e=!(c.offsetTop==d.offsetTop&&c.offsetLeft==d.offsetLeft);if(c.offsetWidth!=d.offsetWidth||c.offsetHeight!=d.offsetHeight||e)c=a.getParent(),d=CKEDITOR.plugins.widget.isDomWidget(c),b.setStyles({top:a.$.offsetTop+(d?0:c.$.offsetTop)+"px",left:a.$.offsetLeft+(d?0:c.$.offsetLeft)+"px",width:a.$.offsetWidth+"px",height:a.$.offsetHeight+
"px"})}}}tion ia(){function a(){}unction c(a){r e=a.widget;d[e]||(d[e]={});for(var f=0,g=a.group.length;f<g;f++){var h=a.group[f];d[e][h]||(d[e][h]=[]);h=d[e][h];b(h,c(a))||h.push(a)}}var d={};CKEDITOR.style.addCustomHandler({type:"widget",setup:apply:
remove:removeStylesFromSameGroup:function(a){var b=!1;if(!(a instanceof CKEDITOR.editor))return!1;var c=a.elementPath();if(this.checkApplicable(c,a))for(var e=0,f=this.group.length;e<f;e++){var g=d[this.widget][this.group[e]];for(var h=0;h<g.length;h++)g[h]!==this&&g[h].checkActive(c,a)&&(a.widgets.focused.removeStyle(g[h]),b=!0)}return b},checkActive:checkApplicable:checkElementMatch:b,checkElementRemovable:b,checkElement:buildPreview:toAllowedContentRules:function(a){if(!a)return null;a=a.widgets.registered[this.widget];var b={};if(!a)return null;if(a.styleableElements){var c=this.getClassesArray();
if(!c)return null;b[a.styleableElements]={classes:c,propertiesOnly:!0};return b}return a.styleToAllowedContentRules?a.styleToAllowedContentRules(this):null},getClassesArray:applyToRange:a,removeFromRange:a,applyToObject:a})}CKEDITOR.plugins.add("widget",{requires:"lineutils,clipboard,widgetselection",onLoad:beforeInit:afterInit:function(a){if(void 0!==CKEDITOR.document.$.querySelectorAll){var b=a.widgets.registered,c,d;for(c in b){var e=b[c];(d=e.button)&&a.ui.addButton&&a.ui.addButton(CKEDITOR.tools.capitalize(e.name,!0),{label:d,command:e.name,toolbar:"insert,10"})}t(a);G(a.undoManager)}}});a.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:addUpcastCallback:function(a){this._.upcastCallbacks.push(a)},
checkSelection:checkWidgets:del:destroy:destroyAll:function(a,b){var c,d=this.instances;if(b&&!a){var e=b.find(".cke_widget_wrapper");d=e.count();for(a=0;a<d;++a)(c=this.getByElement(e.getItem(a),
!0))&&this.destroy(c)}else for(e in d)c=d[e],this.destroy(c,a)},finalizeCreation:getByElement:function(){ar b={div:1,span:1};return function(b,c){if(!b)return null;var d=a(b);if(!c&&!d){c=this.editor.editable();do b=b.getParent();while(b&&!b.equals(c)&&!(d=a(b)))}return this.instances[d]||null}}(),
initOn:initOnAll:onWidget:parseElementClasses:wrapElement:function(a,b){var c=null,d;if(a instanceof CKEDITOR.dom.element){b=b||a.data("widget");var e=this.registered[b];if(!e)return null;
if((c=a.getParent())&&c.type==CKEDITOR.NODE_ELEMENT&&c.data("cke-widget-wrapper"))return c;a.hasAttribute("data-cke-widget-keep-attr")||a.data("cke-widget-keep-attr",a.data("widget")?1:0);a.data("widget",b);(d=v(e,a.getName()))&&m(a);c=new CKEDITOR.dom.element(d?"span":"div",a.getDocument());c.setAttributes(u(d,b));c.data("cke-display-name",e.pathName?e.pathName:a.getName());a.getParent(!0)&&c.replace(a);a.appendTo(c)}else if(a instanceof CKEDITOR.htmlParser.element){b=b||a.attributes["data-widget"];
e=this.registered[b];if(!e)return null;if((c=a.parent)&&c.type==CKEDITOR.NODE_ELEMENT&&c.attributes["data-cke-widget-wrapper"])return c;"data-cke-widget-keep-attr"in a.attributes||(a.attributes["data-cke-widget-keep-attr"]=a.attributes["data-widget"]?1:0);b&&(a.attributes["data-widget"]=b);(d=v(e,a.name))&&m(a);c=new CKEDITOR.htmlParser.element(d?"span":"div",u(d,b));c.attributes["data-cke-display-name"]=e.pathName?e.pathName:a.name;e=a.parent;var f;e&&(f=a.getIndex(),a.remove());c.add(a);e&&x(e,
f,c)}return c},_tests_createEditableFilter:e};CKEDITOR.event.implementOn(a.prototype);f.prototype={addClass:function(a){this.element.addClass(a);this.wrapper.addClass(f.WRAPPER_CLASS_PREFIX+a)},applyStyle:function(a){H(this,a,1)},checkStyleActive:destroy:destroyEditable:edit:getClasses:getClipboardHtml:hasClass:function(a){return this.element.hasClass(a)},initEditable:_findOneNotNested:isInited:isReady:focus:refreshMask:refreshParts:removeClass:removeStyle:setData:function(a,b){var c=this.data,
d=0;if("string"==typeof a)c[a]!==b&&(c[a]=b,d=1);else for(a in b=a,b)c[a]!==b[a]&&(d=1,c[a]=b[a]);d&&this.dataReady&&(ca(this),this.fire("data",c));return this},setFocused:function(a){this.wrapper[a?"addClass":"removeClass"]("cke_widget_focused");this.fire(a?"focus":"blur");return this},setSelected:updateDragHandlerPosition:function(){var a=this.editor,b=this.element.$,c=this._.dragHandlerOffset;
b={x:b.offsetLeft,y:b.offsetTop-15};c&&b.x==c.x&&b.y==c.y||(c=a.checkDirty(),a.fire("lockSnapshot"),this.dragHandlerContainer.setStyles({top:b.y+"px",left:b.x+"px"}),this.dragHandlerContainer.removeStyle("display"),a.fire("unlockSnapshot"),!c&&a.resetDirty(),this._.dragHandlerOffset=b)}};CKEDITOR.event.implementOn(f.prototype);f.getNestedEditable=f.isDomDragHandler=function(a){return a.type==
CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-drag-handler")};f.isDomDragHandlerContainer=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass("cke_widget_drag_handler_container")};f.isDomNestedEditable=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-editable")};f.isDomWidgetElement=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-widget")};f.isDomWidgetWrapper=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-wrapper")};
f.isDomWidget=f.isParserWidgetElement=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&!!a.attributes["data-widget"]};f.isParserWidgetWrapper=f.WRAPPER_CLASS_PREFIX="cke_widget_wrapper_";d.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:getData:);var Y=/^(?:<(?:div|span)(?: data-cke-temp="1")?(?: id="cke_copybin")?(?: data-cke-temp="1")?>)?(?:<(?:div|span)(?: style="[^"]+")?>)?<span [^>]*data-cke-copybin-start="1"[^>]*>.?<\/span>([\s\S]+)<span [^>]*data-cke-copybin-end="1"[^>]*>.?<\/span>(?:<\/(?:div|span)>)?(?:<\/(?:div|span)>)?$/i,
Z={37:1,38:1,39:1,40:1,8:1,46:1};Z[CKEDITOR.SHIFT+121]=1;var aa=CKEDITOR.tools.createClass({$:_:{createCopyBin:function(a){var b=a.document,c=CKEDITOR.env.edge&&16<=CKEDITOR.env.version,d=!a.blockless&&!CKEDITOR.env.ie||c?"div":"span";c=b.createElement(d);b=b.createElement(d);b.setAttributes({id:"cke_copybin","data-cke-temp":"1"});c.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"});c.setStyle("ltr"==a.config.contentsLangDirection?
"left":"right","-5000px");this.editor=a;this.copyBin=c;this.container=b},createListeners:,proto:{handle:function(a){var b=this.copyBin,c=this.editor,d=this.container,e=CKEDITOR.env.ie&&9>CKEDITOR.env.version,f=c.document.getDocumentElement().$,g=c.createRange(),h=this,k=CKEDITOR.env.mac&&CKEDITOR.env.webkit,l=k?100:0,m=window.requestAnimationFrame&&!k?requestAnimationFrame:setTimeout,
n;b.setHtml('\x3cspan data-cke-copybin-start\x3d"1"\x3e\u200b\x3c/span\x3e'+a+'\x3cspan data-cke-copybin-end\x3d"1"\x3e\u200b\x3c/span\x3e');c.fire("lockSnapshot");d.append(b);c.editable().append(d);var p=c.on("selectionChange",N,null,null,0);var q=c.widgets.on("checkSelection",N,null,null,0);e&&(n=f.scrollTop);g.selectNodeContents(b);g.select();e&&(f.scrollTop=n);return new CKEDITOR.tools.promise(}},statics:{hasCopyBin:getCopyBin:});CKEDITOR.plugins.widget=f;f.repository=a;f.nestedEditable=d})();(function(){EDITOR.plugins.add("notificationaggregator",{requires:"notification"});a.prototype={createTask:function(a){a=a||{};var c=!this.notification;c&&(this.notification=this._createNotification());var b=this._addTask(a);b.on("updated",this._onTaskUpdate,this);b.on("done",this._onTaskDone,this);b.on("canceled",function(){this._removeTask(b)},this);this.update();c&&this.notification.show();return b},update:getPercentage:isFinished:getTaskCount:function(){return this._tasks.length},getDoneTaskCount:function(){return this._doneTasks},_updateNotification:_getNotificationMessage:_createNotification:_addTask:_removeTask:_onTaskUpdate:_onTaskDone:;CKEDITOR.event.implementOn(a.prototype);f.prototype={done:update:cancel:
isDone:isCanceled:;CKEDITOR.event.implementOn(f.prototype);CKEDITOR.plugins.notificationAggregator=a;CKEDITOR.plugins.notificationAggregator.task=f})();(function(){CKEDITOR.plugins.add("uploadwidget",{requires:"widget,clipboard,filetools,notificationaggregator",init:isSupportedEnvironment:function(){return CKEDITOR.plugins.clipboard.isFileApiSupported}});
CKEDITOR.fileTools||(CKEDITOR.fileTools={});CKEDITOR.tools.extend(CKEDITOR.fileTools,{addUploadWidget:function(a,f,d){var c=CKEDITOR.fileTools,b=a.uploadRepository,k=d.supportedTypes?10:20;if(d.fileToElement)a.on("paste",null,null,k);CKEDITOR.tools.extend(d,{downcast:init:
replaceWith:_getLoader:);a.widgets.add(f,d)},markElement:bindNotifications:)})();(function(){unction f(c){var b=new Date;b=[b.getFullYear(),b.getMonth()+1,b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds()];d+=1;return"image-"+CKEDITOR.tools.array.map(b,a).join("")+"-"+d+"."+c}var d=0;CKEDITOR.plugins.add("uploadimage",{requires:"uploadwidget",onLoad:function(){CKEDITOR.addCss(".cke_upload_uploading img{opacity: 0.3}")},isSupportedEnvironment:function(){return CKEDITOR.plugins.clipboard.isFileApiSupported},init:function(a){if(this.isSupportedEnvironment()){var b=
CKEDITOR.fileTools,c=b.getUploadUrl(a.config,"image");c&&(b.addUploadWidget(a,"uploadimage",{supportedTypes:/image\/(jpeg|png|gif|bmp)/,uploadUrl:c,fileToElement:parts:{img:"img"},onUploading:onUploaded:),a.on("paste",function(d){if(d.data.dataValue.match(/<img[\s\S]+data:/i)){d=d.data;var h=document.implementation.createHTMLDocument("");h=new CKEDITOR.dom.element(h.body);var g;h.data("cke-editable",1);h.appendHtml(d.dataValue);var k=h.find("img");for(g=0;g<k.count();g++){var e=k.getItem(g);var n=e.getAttribute("src"),u=n&&"data:"==n.substring(0,5),x=null===e.data("cke-realelement");
u&&x&&!e.data("cke-upload-id")&&!e.isReadOnly(1)&&(u=(u=n.match(/image\/([a-z]+?);/i))&&u[1]||"jpg",n=a.uploadRepository.create(n,f(u)),n.upload(c),b.markElement(e,"uploadimage",n.id),b.bindNotifications(a,n))}d.dataValue=h.getHtml()}}))}}})})();CKEDITOR.plugins.add("wsc",{requires:"dialog",parseApi:
parseConfig:onLoad:init:function(a){var f=CKEDITOR.env;this.parseConfig(a);this.parseApi(a);a.addCommand("checkspell",new CKEDITOR.dialogCommand("checkspell")).modes=
{wysiwyg:!CKEDITOR.env.opera&&!CKEDITOR.env.air&&document.domain==window.location.hostname&&!(f.ie&&(8>f.version||f.quirks))};"undefined"==typeof a.plugins.scayt&&a.ui.addButton&&a.ui.addButton("SpellChecker",{label:a.lang.wsc.toolbar,click:function(a){(a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.container.getText():a.document.getBody().getText()).replace(/\s/g,"")?a.execCommand("checkspell"):alert("Nothing to check!")},toolbar:"spellchecker,10"});CKEDITOR.dialog.add("checkspell",this.path+(CKEDITOR.env.ie&&
7>=CKEDITOR.env.version?"dialogs/wsc_ie.js":window.postMessage?"dialogs/wsc.js":"dialogs/wsc_ie.js"))}});(function(){DITOR.plugins.add("wysiwygarea",{init:function(a){a.config.fullPage&&a.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",
requiredContent:"body"});a.addMode("wysiwyg",function(b){function d(d){d&&d.removeListener();a.isDestroyed()||a.isDetached()||(a.editable(new c(a,g.$.contentWindow.document.body)),a.setData(a.getData(1),b))}var f="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();";f=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent(f)+"}())":"";var g=CKEDITOR.dom.element.createFromHtml('\x3ciframe src\x3d"'+
f+'" frameBorder\x3d"0"\x3e\x3c/iframe\x3e');g.setStyles({width:"100%",height:"100%"});g.addClass("cke_wysiwyg_frame").addClass("cke_reset");f=a.ui.space("contents");f.append(g);var k=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;if(k)g.on("load",d);var e=a.title,n=a.fire("ariaEditorHelpLabel",{}).label;e&&(CKEDITOR.env.ie&&n&&(e+=", "+n),g.setAttribute("title",e));if(n){e=CKEDITOR.tools.getNextId();var u=CKEDITOR.dom.element.createFromHtml('\x3cspan id\x3d"'+e+'" class\x3d"cke_voice_label"\x3e'+
n+"\x3c/span\x3e");f.append(u,1);g.setAttribute("aria-describedby",e)}a.on("beforeModeUnload",;g.setAttributes({tabIndex:a.tabIndex,allowTransparency:"true"});!k&&d();a.fire("ariaWidget",g)})}});CKEDITOR.editor.prototype.addContentsCss=var c=CKEDITOR.tools.createClass({$:base:CKEDITOR.editable,proto:{setData:function(a,c){var b=this.editor;if(c)this.setHtml(a),this.fixInitialSelection(),b.fire("dataReady");else{this._.isLoadingData=!0;b._.dataStore={id:1};c=b.config;var f=c.fullPage,g=c.docType,k=CKEDITOR.tools.buildStyleHtml(d()).replace(/<style>/,'\x3cstyle data-cke-temp\x3d"1"\x3e');f||(k+=CKEDITOR.tools.buildStyleHtml(b.config.contentsCss));
var e=c.baseHref?'\x3cbase href\x3d"'+c.baseHref+'" data-cke-temp\x3d"1" /\x3e':"";f&&(a=a.replace(/<!DOCTYPE[^>]*>/i,.replace(/<\?xml\s[^\?]*\?>/i,);a=b.dataProcessor.toHtml(a);f?(/<body[\s|>]/.test(a)||(a="\x3cbody\x3e"+a),/<html[\s|>]/.test(a)||(a="\x3chtml\x3e"+a+"\x3c/html\x3e"),/<head[\s|>]/.test(a)?/<title[\s|>]/.test(a)||(a=a.replace(/<head[^>]*>/,"$\x26\x3ctitle\x3e\x3c/title\x3e")):a=a.replace(/<html[^>]*>/,"$\x26\x3chead\x3e\x3ctitle\x3e\x3c/title\x3e\x3c/head\x3e"),
e&&(a=a.replace(/<head[^>]*?>/,"$\x26"+e)),a=a.replace(/<\/head\s*>/,k+"$\x26"),a=g+a):a=c.docType+'\x3chtml dir\x3d"'+c.contentsLangDirection+'" lang\x3d"'+(c.contentsLanguage||b.langCode)+'"\x3e\x3chead\x3e\x3ctitle\x3e'+this._.docTitle+"\x3c/title\x3e"+e+k+"\x3c/head\x3e\x3cbody"+(c.bodyId?' id\x3d"'+c.bodyId+'"':"")+(c.bodyClass?' class\x3d"'+c.bodyClass+'"':"")+"\x3e"+a+"\x3c/body\x3e\x3c/html\x3e";CKEDITOR.env.gecko&&(a=a.replace(/<body/,'\x3cbody contenteditable\x3d"true" '),2E4>CKEDITOR.env.version&&
(a=a.replace(/<body[^>]*>/,"$\x26\x3c!-- cke-content-start --\x3e")));c='\x3cscript id\x3d"cke_actscrpt" type\x3d"text/javascript"'+(CKEDITOR.env.ie?' defer\x3d"defer" ':"")+"\x3evar wasLoaded\x3d0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded\x3d1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"\x3c/script\x3e";CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(c+='\x3cscript id\x3d"cke_shimscrpt"\x3ewindow.parent.CKEDITOR.tools.enableHtml5Elements(document)\x3c/script\x3e');
e&&CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(c+='\x3cscript id\x3d"cke_basetagscrpt"\x3evar baseTag \x3d document.querySelector( "base" );baseTag.href \x3d baseTag.href;\x3c/script\x3e');a=a.replace(/(?=\s*<\/(:?head)>)/,c);this.clearCustomData();this.clearListeners();b.fire("contentDomUnload");var n=this.getDocument();try{n.write(a)}catch(u){setTimeout(function(){n.write(a)},0)}}},getData:function(a){if(a)return this.getHtml();a=this.editor;var b=a.config,c=b.fullPage,d=c&&a.docType,f=c&&a.xmlDeclaration,
l=this.getDocument();c=c?l.getDocumentElement().getOuterHtml():l.getBody().getHtml();CKEDITOR.env.gecko&&b.enterMode!=CKEDITOR.ENTER_BR&&(c=c.replace(/<br>(?=\s*(:?$|<\/body>))/,""));c=a.dataProcessor.toDataFormat(c);f&&(c=f+"\n"+c);d&&(c=d+"\n"+c);return c},focus:detach:function(){var a=this.editor,d=a.document;a=a.container.findOne("iframe.cke_wysiwyg_frame");c.baseProto.detach.call(this);this.clearCustomData(this._.expandoNumber);
d.getDocumentElement().clearCustomData();CKEDITOR.tools.removeFunction(this._.frameLoadedHandler);a&&(a.clearCustomData(),(d=a.removeCustomData("onResize"))&&d.removeListener(),a.isDetached()||a.remove())}}})})();CKEDITOR.config.disableObjectResizing=!1;CKEDITOR.config.disableNativeTableHandles=!0;CKEDITOR.config.disableNativeSpellChecker=!0;CKEDITOR.config.plugins="dialogui,dialog,a11yhelp,about,basicstyles,bidi,blockquote,notification,button,toolbar,clipboard,panelbutton,panel,floatpanel,colorbutton,colordialog,menu,contextmenu,dialogadvtab,div,elementspath,enterkey,entities,popup,filetools,filebrowser,find,fakeobjects,flash,floatingspace,listblock,richcombo,font,format,forms,horizontalrule,htmlwriter,iframe,image,indent,indentblock,indentlist,justify,menubutton,language,link,list,liststyle,magicline,maximize,textwatcher,autocomplete,textmatch,xml,ajax,mentions,newpage,pagebreak,pastetools,pastefromword,pastetext,preview,print,removeformat,resize,save,scayt,selectall,showblocks,showborders,smiley,sourcearea,specialchar,stylescombo,tab,table,tabletools,tableselection,templates,undo,lineutils,widgetselection,widget,notificationaggregator,uploadwidget,uploadimage,wsc,wysiwygarea";
CKEDITOR.config.skin="moono";(function(){var a=function(a,d){d=CKEDITOR.getUrl("plugins/"+d);a=a.split(",");for(var c=0;c<a.length;c++)CKEDITOR.skin.icons[a[c]]={path:d,offset:-a[++c],bgsize:a[++c]}};CKEDITOR.env.hidpi?a("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,bgcolor,384,,textcolor,408,,creatediv,432,,find-rtl,456,,find,480,,replace,504,,flash,528,,button,552,,checkbox,576,,form,600,,hiddenfield,624,,imagebutton,648,,radio,672,,select-rtl,696,,select,720,,textarea-rtl,744,,textarea,768,,textfield-rtl,792,,textfield,816,,horizontalrule,840,,iframe,864,,image,888,,indent-rtl,912,,indent,936,,outdent-rtl,960,,outdent,984,,justifyblock,1008,,justifycenter,1032,,justifyleft,1056,,justifyright,1080,,language,1104,,anchor-rtl,1128,,anchor,1152,,link,1176,,unlink,1200,,bulletedlist-rtl,1224,,bulletedlist,1248,,numberedlist-rtl,1272,,numberedlist,1296,,maximize,1320,,newpage-rtl,1344,,newpage,1368,,pagebreak-rtl,1392,,pagebreak,1416,,pastefromword-rtl,1440,,pastefromword,1464,,pastetext-rtl,1488,,pastetext,1512,,preview-rtl,1536,,preview,1560,,print,1584,,removeformat,1608,,save,1632,,scayt,1656,,selectall,1680,,showblocks-rtl,1704,,showblocks,1728,,smiley,1752,,source-rtl,1776,,source,1800,,specialchar,1824,,table,1848,,templates-rtl,1872,,templates,1896,,redo-rtl,1920,,redo,1944,,undo-rtl,1968,,undo,1992,,spellchecker,2016,",
"icons_hidpi.png"):a("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,bgcolor,384,auto,textcolor,408,auto,creatediv,432,auto,find-rtl,456,auto,find,480,auto,replace,504,auto,flash,528,auto,button,552,auto,checkbox,576,auto,form,600,auto,hiddenfield,624,auto,imagebutton,648,auto,radio,672,auto,select-rtl,696,auto,select,720,auto,textarea-rtl,744,auto,textarea,768,auto,textfield-rtl,792,auto,textfield,816,auto,horizontalrule,840,auto,iframe,864,auto,image,888,auto,indent-rtl,912,auto,indent,936,auto,outdent-rtl,960,auto,outdent,984,auto,justifyblock,1008,auto,justifycenter,1032,auto,justifyleft,1056,auto,justifyright,1080,auto,language,1104,auto,anchor-rtl,1128,auto,anchor,1152,auto,link,1176,auto,unlink,1200,auto,bulletedlist-rtl,1224,auto,bulletedlist,1248,auto,numberedlist-rtl,1272,auto,numberedlist,1296,auto,maximize,1320,auto,newpage-rtl,1344,auto,newpage,1368,auto,pagebreak-rtl,1392,auto,pagebreak,1416,auto,pastefromword-rtl,1440,auto,pastefromword,1464,auto,pastetext-rtl,1488,auto,pastetext,1512,auto,preview-rtl,1536,auto,preview,1560,auto,print,1584,auto,removeformat,1608,auto,save,1632,auto,scayt,1656,auto,selectall,1680,auto,showblocks-rtl,1704,auto,showblocks,1728,auto,smiley,1752,auto,source-rtl,1776,auto,source,1800,auto,specialchar,1824,auto,table,1848,auto,templates-rtl,1872,auto,templates,1896,auto,redo-rtl,1920,auto,redo,1944,auto,undo-rtl,1968,auto,undo,1992,auto,spellchecker,2016,auto",
"icons.png")})();CKEDITOR.lang.languages={af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1}}})();