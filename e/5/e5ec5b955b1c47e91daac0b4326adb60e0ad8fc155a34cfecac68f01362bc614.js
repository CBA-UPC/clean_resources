(window.webpackJsonp=window.webpackJsonp||[]).push([[239],{1333:function(e,t,a){"use strict";a.r(t);var o=a(93),s=a(914),r=a(674),i=a(17),l=a(660),c=a(953),d=a(954),n=a(1044),h={components:{GenericWaypoint:s.a,VoteControl:r.a,DealButton:l.a,CodeButton:c.a,GetCodeButton:d.a,CampaignCode:n.a},props:{thread:{type:Object,required:!0}},computed:Object.assign({},Object(o.c)("auth",{user:"me"}),{isVoucher(){return Object(i.y)(this.thread.threadTypeId)},isShowTitle(){return this.$breakpoint.smAndUp},buttonLabel(){return this.isVoucher?this.thread.voucherCode?"Utiliser le code":"Voir le code promo":"Voir le deal"}})},p=a(45),u=Object(p.a)(h,(function(){var e=this,t=e._self._c;return t("GenericWaypoint",{attrs:{threshold:100},scopedSlots:e._u([{key:"default",fn:function({isActive:a}){return[a?t("Transition",{attrs:{appear:"","enter-active-class":"stickyBar-enterFromTop","leave-active-class":"stickyBar-enterFromTop"}},[t("div",{staticClass:"stickyBar-top forceLayer zIndex--fixed"},[t("div",{staticClass:"page-center flex space--fromW4-h-2 height--all-full"},[t("div",{staticClass:"listLayout-main flex boxAlign-ai--all-c space--mh-a space--v-2 space--h-2 space--fromW3-h-3 space--fromW4-h-0 space--fromW3-v-2"},[t("div",[t("VoteControl",{staticClass:"flex",attrs:{thread:e.thread}})],1),t("div",{staticClass:"flex--grow-1 space--h-3 overflow--ellipsis"},[e.isShowTitle?t("span",{staticClass:"size--all-m text--b"},[e._v(e._s(e.thread.title))]):e._e()]),e.thread.claimCodeCampaign?t("CampaignCode",{staticClass:"flex flex--shrink-0",attrs:{thread:e.thread,"code-button-classes":"space--mr-2 flex--grow-1 space--h-2 space--v-2","deal-button-classes":"flex--grow-1 height--all-auto space--v-2 space--h-2"}}):[e.thread.isVoucherCodeHidden?t("div",[t("GetCodeButton",{attrs:{code:e.thread.voucherCode,"thread-id":e.thread.threadId,"external-link":e.thread.cloakedItemFollowButtonLink}})],1):[e.thread.voucherCode?t("CodeButton",{staticClass:"flex space--h-2 space--mr-2 lbox--v-4",attrs:{code:e.thread.voucherCode,"thread-id":e.thread.threadId,"allow-copy-to-clipboard":""}}):e._e(),e.thread.cloakedItemFollowButtonLink?t("DealButton",{directives:[{name:"track",rawName:"v-track:cloak.click",arg:"cloak",modifiers:{click:!0}}],staticClass:"flex flex--shrink-0",attrs:{link:e.thread.cloakedItemFollowButtonLink,"thread-type-id":e.thread.threadTypeId,"is-show-external-icon":!0}},[e._v(" "+e._s(e.buttonLabel)+" ")]):e._e()]]],2)])])]):e._e()]}}])})}),[],!1,null,null,null);t.default=u.exports}}]);],1)]),this._t("default")],2)}),[],!1,null,null,null).exports,p=Object(a.defineComponent)({__name:"how-it-works-thread",props:{imageSrc:null,title:null,label:null,isHot:{type:Boolean}},setup:e=>({__sfc:!0})}),h=Object(u.a)(p,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"browserExtension-thread text--lh-1-2 flex text--b bg--color-white space--h-3 space--v-3 bRad--a-m space--mt-3 boxShadow--light"},[t("div",{staticClass:"browserExtension-thread-image aGrid img img--noBorder img--frame imgFrame--darken flex--shrink-0"},[e.isHot?t("span",{staticClass:"text--color-white browserExtension-temperatureBadge"},[t("span",{staticClass:"browserExtension-temperatureBadge-icon"},[t("svg",{staticClass:"icon icon--flame text--color-red",attrs:{width:"100%",height:"100%"}},[t("use",{attrs:{"xlink:href":"/assets/img/ico.svg#flame"}})])])]):e._e(),t("img",{staticClass:"width--max-12 height--all-full",attrs:{src:e.imageSrc,alt:""}})]),t("div",{staticClass:"space--ml-2"},[t("div",{staticClass:"hAlign--all-l"},[e._v(e._s(e.title))]),t("div",{staticClass:"flex space--mt-2"},[t("div",{staticClass:"bg--color-greyPanel bRad--circle width--ctrl-s space--mr-3"}),t("div",{staticClass:"bg--color-brandPrimaryPale text--color-brandPrimary bRad--circle space--h-2 flex boxAlign-ai--all-c"},[e._v(" "+e._s(e.label)+" ")]),t("BaseIcon",{staticClass:"space--ml-a",attrs:{name:"external",color:"brandPrimary",width:"16",height:"16"}})],1)])])}),[],!1,null,null,null).exports,m=Object(u.a)({},(function(){var e=this._self._c;return e("div",{staticClass:"browserExtension-spinner"},this._l(12,(function(t){return e("div",{key:t,staticClass:"browserExtension-spinner-blade"})})),0)}),[],!1,null,null,null).exports,v=Object(u.a)({},(function(){var e=this._self._c;return e("div",{staticClass:"browserExtension-slide aGrid bRad--a-l overflow--hidden"},[e("img",{staticClass:"img--fit-cover bg--color-greyPanel width--all-12",attrs:{src:"/assets/img/browser-extension/browser-window_225ca.svg",alt:"",height:"500px"}}),this._t("default")],2)}),[],!1,null,null,null).exports,f={__name:"how-it-works-slide-1",setup:e=>({__sfc:!0,threads:[{image:"/assets/img/browser-extension/product-1_93094.jpg",title:'Smartphone 5,4" Apple iPhone 13 Mini - full HD+...',label:"10%"},{image:"/assets/img/browser-extension/product-2_fe0d2.jpg",title:'Smartphone 5,4" Apple iPhone 13 Mini - full HD+...',label:"-5%"},{image:"/assets/img/browser-extension/product-3_9c37d.jpg",title:"SoundPEATS T3, Bluetooth 5.2 in-ear hörlurar, ANC...",label:"GRATIS"}],CircleLabel:c.a,HowItWorksCardBase:d,HowItWorksThread:h,HowIteWorksSpinner:m,HowItWorksSlideBase:v})},g=Object(u.a)(f,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.HowItWorksSlideBase,[t(s.HowItWorksCardBase,{staticClass:"space--ml-a space--mr-a bg--color-greyPanel",staticStyle:{width:"266px"}},[t("div",{staticClass:"space--h-3"},[t("div",{staticClass:"hAlign--all-l"},[t("h3",{staticClass:"text--b size--all-m hAlign--all-l box--all-i"},[e._v(" "+e._s("3 deals hittades")+" ")]),t(s.HowIteWorksSpinner)],1),e._l(s.threads,(function(e,a){return t(s.HowItWorksThread,{key:a,attrs:{title:e.title,label:e.label,"image-src":e.image,"is-hot":0===a}})}))],2),t("div",{staticClass:"browserExtension-thread-summary bg--color-white flex text--b text--lh-1 bRad--b-a space--b-2"},[t("div",{staticClass:"width--all-12 hAlign--all-c text--color-brandPrimary border--t border--w-2 space--t-3"},[t("div",{staticClass:"aGrid box--all-i"},[t("BaseIcon",{attrs:{name:"tag"}}),t(s.CircleLabel,{staticClass:"notification-count--fixed button--square space--h-0",attrs:{size:"xs",mode:"primary"}},[e._v(" "+e._s(s.threads.length)+" ")])],1),t("div",[e._v(e._s("Deals"))])]),t("div",{staticClass:"width--all-12 hAlign--all-c text--color-grey border--t border--w-2 space--t-3"},[t("div",{staticClass:"aGrid box--all-i"},[t("BaseIcon",{attrs:{name:"scissors"}}),t(s.CircleLabel,{staticClass:"notification-count--fixed button--square space--h-0",attrs:{size:"xs",mode:"primary"}},[e._v(" 12 ")])],1),t("div",[e._v(e._s("Rabattkoder"))])])])])],1)}),[],!1,null,null,null).exports,b={__name:"how-it-works-slide-2",setup:e=>({__sfc:!0,HowItWorksCardBase:d,HowItWorksSlideBase:v})},y=Object(u.a)(b,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.HowItWorksSlideBase,[t(s.HowItWorksCardBase,{staticClass:"bg--color-white width--all-11",staticStyle:{"max-width":"460px"}},[t("div",{staticClass:"hAlign--all-c space--h-3 space--b-4"},[t("img",{staticStyle:{width:"85px"},attrs:{src:"/assets/img/browser-extension/antenna_e8bad.svg",alt:""}}),t("div",{staticClass:"text--b size--all-l"},[e._v(e._s("Pepper applicerar de bästa rabattkoderna åt dig."))]),t("div",{staticClass:"browserExtension-slide-voucherCode text--color-brandPrimary bg--color-brandPrimaryPale border--color-borderGrey box--all-i border border--dash bRad--a space--v-3 space--h-4 text--b space--mt-3 space--mb-5 aGrid"},[e._v(" AETSB-4532 ")]),t("div",{staticClass:"aGrid"},[t("div",{staticClass:"border border--w-2 browserExtension-stepperBar-bg"}),t("div",{staticClass:"border border--color-brandPrimary aGrid-item aGrid-item--l-0 aGrid-item--t-0 width--all-2 border--w-2"})])])])],1)}),[],!1,null,null,null).exports,_=s(506),w={__name:"how-it-works-slide-3",setup:e=>({__sfc:!0,HowItWorksCardBase:d,BaseButton:_.a,HowItWorksSlideBase:v})},k=Object(u.a)(w,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.HowItWorksSlideBase,[t(s.HowItWorksCardBase,{staticClass:"bg--color-white width--all-11",staticStyle:{"max-width":"460px"}},[t("div",{staticClass:"hAlign--all-c space--h-3 space--b-4"},[t("img",{attrs:{src:"/assets/img/browser-extension/dollar-hand_3d6b0.svg",alt:""}}),t("div",{staticClass:"text--b size--all-m size--fromW3-l space--fromW3-mb-2"},[e._v(" "+e._s("Du sparade 250 kr tack vare Pepper!")+" ")]),t("p",{staticClass:"size--all-xs size--fromW3-s mute--text"},[e._v(" "+e._s("Vi tillämpade automatiskt de bästa rabattkoderna åt dig.")+" ")]),t(s.BaseButton,{staticClass:"space--mt-3 size--all-s pointerEvents--none",attrs:{variant:"primary",mode:"brand"}},[e._v(" "+e._s("Återgå till kassan")+" ")])],1)])],1)}),[],!1,null,null,null).exports,C=s(16),x=Object(a.defineComponent)({__name:"how-it-works-stepper-bar",props:{step:null,stepsCount:null,interval:null},setup(e){const t=Object(a.ref)(-100);let s=null;return Object(a.onMounted)((()=>{s=setTimeout((()=>{t.value=0}),100)})),Object(a.onUnmounted)((()=>{clearTimeout(s)})),{__sfc:!0,progressBarOffset:t,timeoutId:s}}}),O=Object(u.a)(x,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"flex aGrid overflow--hidden"},[t("div",{staticClass:"border border--w-2 width--all-12 browserExtension-stepperBar-bg"}),t("div",{staticClass:"progress-bar aGrid-item border border--w-2 border--color-brandPrimary width--all-12",style:`transition: transform ${e.interval}ms linear; transform: translate3d(${s.progressBarOffset}%, 0, 0)`})])}),[],!1,null,null,null).exports,S={__name:"how-it-works-stepper",props:{interval:Number},setup(e){const t=e,s=Object(a.inject)("carousel"),n=Object(a.computed)((()=>s.page===s.pages?"Tillbaka till första steget":"Nästa steg")),r=()=>{const e=s.page%s.pages+1;s.scrollToPage(e)},{set:i}=Object(o.a)(r,t.interval);return Object(C.e)((()=>s.page),i),{__sfc:!0,props:t,carousel:s,nextLabel:n,scrollToNext:r,set:i,HowItWorksStepperBar:O}}},j=Object(u.a)(S,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",[t("div",{staticClass:"text--b text--color-brandPrimary size--all-s space--mb-3 clickable",on:{click:s.scrollToNext}},[e._v(" "+e._s(s.nextLabel)+" ")]),t(s.HowItWorksStepperBar,{key:s.carousel.page,attrs:{step:s.carousel.page,"steps-count":s.carousel.pages,interval:e.interval}})],1)}),[],!1,null,null,null).exports,A=Object(a.defineComponent)({__name:"how-it-works-info",props:{section:null},setup:e=>({__sfc:!0})}),B=Object(u.a)(A,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"text--b size--all-xxl space--mb-1"},[e._v(e._s(e.section.title))]),t("div",{staticClass:"mute--text size--all-m"},[e._v(" "+e._s(e.section.about)+" ")])])}),[],!1,null,null,null).exports,I={__name:"how-it-works",setup(e){const t=[{id:1,component:g,title:"1. Bläddra bland dina favoritbutiker",about:"Pepper visar automatiskt erbjudanden och innehåll från den butiken"},{id:2,component:y,title:"2. Luta dig tillbaka och slappna av",about:"Pepper hittar, visar och applicerar de bästa rabattkoderna för dig"},{id:3,component:k,title:"3. Se vad du har sparat",about:"Pepper visar automatiskt vilken rabatt som tillämpas"}],s=Object(a.ref)(1),n=Object(a.computed)((()=>t.find((e=>e.id===s.value)).component)),r=()=>{s.value=s.value%t.length+1,i()},{set:i}=Object(o.a)(r,5e3,{immediate:!0});return{__sfc:!0,STEP_INTERVAL:5e3,sections:t,activeSectionId:s,sectionImage:n,getActiveSection:e=>t.find((t=>t.id===e)),goToNextSection:r,goToSection:e=>{s.value=e,i()},set:i,BaseCarousel:l.a,CarouselContent:l.b,HowItWorksStepper:j,HowItWorksStepperBar:O,HowItWorksInfo:B}}},L=Object(u.a)(I,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"space--mt-7"},[t("div",{staticClass:"hAlign--all-c space--mb-5 space--fromW3-mb-4"},[t("h2",{staticClass:"text--b size--all-xxxl space--mb-1"},[e._v(" "+e._s("Hur det fungerar")+" ")]),t("p",{staticClass:"size--all-l size--fromW3-xl text--color-charcoalTint"},[e._v(" "+e._s("Pepper Shopping Assistant hittar de bästa rabattkoderna och dealsen åt dig när du handlar online.")+" ")])]),t("div",{staticClass:"flex flex--dir-col flex--fromW3-dir-row boxAlign-jc--all-sb"},[e.$breakpoint.smAndDown?t("div",{staticClass:"flex--shrink-0 width--all-12"},[t(s.BaseCarousel,{staticClass:"flex flex--dir-col width--all-12 scrollBox-space--m-m",scopedSlots:e._u([{key:"default",fn:function({page:a}){return[a?t(s.HowItWorksInfo,{attrs:{section:s.getActiveSection(a)}}):e._e(),t(s.HowItWorksStepper,{staticClass:"space--mv-3",attrs:{interval:s.STEP_INTERVAL}}),t("div",{staticClass:"boxAlign-as--all-c width--fromW2-auto width--all-12"},[t(s.CarouselContent,{staticClass:"scrollBox-container--space scrollBox-container--fullWidth-m"},e._l(s.sections,(function(e){return t("div",{key:e.id,staticClass:"scrollBox-item snap--sa width--all-12 flex--shrink-0"},[t(e.component,{tag:"Component",staticClass:"height--all-full"})],1)})),0)],1)]}}],null,!1,887816681)})],1):[t("div",{staticClass:"browserExtension-stepperInfo-box boxAlign-as--all-c space--mr-5"},e._l(s.sections,(function(a){return t("div",{key:a.id,staticClass:"overflow--hidden browserExtension-stepperInfo",class:{"mute--opacity-30":a.id!==s.activeSectionId,"space--mb-5":a.id<s.sections.length}},[t(s.HowItWorksInfo,{staticClass:"clickable",attrs:{section:a},nativeOn:{click:function(e){return s.goToSection(a.id)}}}),a.id===s.activeSectionId?t("div",[t("div",{staticClass:"text--b text--color-brandPrimary size--all-s space--v-3 clickable",on:{click:s.goToNextSection}},[e._v(" "+e._s(a.id===s.sections.length?"Tillbaka till första steget":"Nästa steg")+" ")]),t(s.HowItWorksStepperBar,{attrs:{step:a.id,"steps-count":s.sections.length,interval:s.STEP_INTERVAL}})],1):e._e()],1)})),0),t("div",{staticClass:"aGrid browserExtension-slide-container"},[t(s.sectionImage,{key:s.activeSectionId,tag:"Component"})],1)]],2)])}),[],!1,null,null,null).exports,P=s(71),E=s(997).a,T=Object(u.a)(E,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return e.$breakpoint.smAndDown?t("div",{staticClass:"space--mb-3 text--b size--all-xl text--color-yellow"},[e._v(" "+e._s("Tillägget är inte tillgängligt i mobila webbläsare.")+" ")]):t("div",[s.isBrowserSupported?e._e():t("div",{staticClass:"space--mb-3 text--b size--all-xl text--color-yellow"},[e._v(" "+e._s("Hoppsan, din webbläsare kanske inte stöds!")+" ")]),t(s.BaseButton,{attrs:{variant:"primary",mode:"brand",size:"l",href:s.extensionUrl,target:"blank"}},[e._v(" "+e._s(s.config.label)+" "),t("BaseIcon",{attrs:{name:s.config.icon,color:"white",right:""}})],1)],1)}),[],!1,null,null,null).exports,M={__name:"top-merchants",setup(e){const t=Object(P.c)(),s=Object(a.computed)((()=>t.smAndDown?{size:"small",merchantsCount:10,firstRowCount:3}:{size:"large",merchantsCount:18,firstRowCount:4}));return{__sfc:!0,breakpoint:t,config:s,AddExtensionBtn:T}}},N=Object(u.a)(M,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"space--mt-7 hAlign--all-c"},[t("h2",{staticClass:"text--b size--all-xxxl space--mb-1"},[e._v(" "+e._s("Vi täcker mer än XXX.XXX butiker")+" ")]),t("p",{staticClass:"size--all-l size--fromW3-xl text--color-charcoalTint"},[e._v(" "+e._s("Få omedelbar tillgång till tusentals erbjudanden och rabattkuponger från ett stort antal återförsäljare och kategorier - från elektronik och mode till heminredning och mycket annat.")+" ")]),t("div",{staticClass:"browserExtension-merchants-container aGrid space--mt-6 space--ml-a space--mr-a",class:`browserExtension-merchants-container--${s.config.size}`},e._l(s.config.merchantsCount,(function(e){return t("div",{key:e,class:[`browserExtension-merchants-logo-container browserExtension-merchants-container-${e} space--ml-a space--mr-a flex boxAlign-center`,e<=s.config.firstRowCount?"browserExtension-merchants-logo-container--large":"browserExtension-merchants-logo-container--small"]},[t("div",{staticClass:"browserExtension-merchants-logo-item bRad--circle flex space--h-2"},[t("div",{staticClass:"bg-img--contain width--all-12",class:`browserExtension-merchants-logo-item-${e}`})])])})),0),t(s.AddExtensionBtn,{staticClass:"space--mt-7"})],1)}),[],!1,null,null,null).exports,U=s(998).a,D=Object(u.a)(U,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"space--mt-7 hAlign--all-c"},[t("h2",{staticClass:"text--b size--all-xxxl space--mb-1"},[e._v(" "+e._s("Låt oss veta vad du tycker!")+" ")]),t("p",{staticClass:"size--all-l size--fromW3-xl text--color-charcoalTint"},[e._v(" "+e._s("I sin nuvarande form är Peppers webbläsartillägg enkel men ändå funktionell. Dina kommentarer är värdefulla för oss.")+" ")]),t("div",{staticClass:"space--mt-4 flex flex--dir-col flex--fromW3-dir-row boxAlign-ai--all-c boxAlign-jc--all-c"},[t(s.BaseButton,{staticClass:"space--fromW3-mr-4",attrs:{variant:"secondary",mode:"default",to:{name:"threads.show.discussion",params:s.discussionUrlParams}}},[e._v(" "+e._s("Lämna feedback")+" "),t("BaseIcon",{attrs:{name:"comments",right:""}})],1),e.$breakpoint.mdAndUp&&s.isBrowserSupported?t(s.BaseButton,{staticClass:"space--mt-3 space--fromW3-mt-0",attrs:{variant:"secondary",mode:"default",href:s.extensionUrl,target:"_blank"}},[e._v(" "+e._s(s.rateBtnLabel)+" "),t("BaseIcon",{attrs:{name:"external",right:""}})],1):e._e()],1)])}),[],!1,null,null,null).exports,R=Object(u.a)({},(function(){var e=this._self._c;return e("div",{staticClass:"browserExtension-about-image boxShadow--large bRad--a-l space--h-3 space--v-3 bg--color-white"},[e("img",{staticClass:"browserExtension-about-logo",attrs:{src:"/assets/img/logo/logo-simple_68988.svg",alt:""}}),e("div",{staticClass:"hAlign--all-c"},[this._t("default")],2)])}),[],!1,null,null,null).exports,q={__name:"about-extension-image-top",setup:e=>({__sfc:!0,AboutExtensionImageBase:R})},z=Object(u.a)(q,(function(){var e=this,t=e._self._c;return t(e._self._setupProxy.AboutExtensionImageBase,{staticClass:"browserExtension-about-topImage zIndex--above"},[t("img",{staticClass:"img img--responsive img--noBorder width--all-5 width--fromW3-auto",attrs:{src:"/assets/img/browser-extension/vouchers-found_0057c.svg",alt:""}}),t("h2",{staticClass:"text--b size--all-s size--fromW3-xxl space--mb-1",domProps:{innerHTML:e._s('<span class="text--color-brandPrimary">18</span> rabattkoder hittades')}}),t("p",{staticClass:"mute--text text--b size--all-xs size--fromW3-l"},[e._v(" "+e._s("Vi använder automatiskt de bästa rabattkoderna åt dig.")+" ")])])}),[],!1,null,null,null).exports,H={__name:"about-extension-image-bottom",setup:e=>({__sfc:!0,AboutExtensionImageBase:R})},$=Object(u.a)(H,(function(){var e=this,t=e._self._c;return t(e._self._setupProxy.AboutExtensionImageBase,{staticClass:"browserExtension-about-bottomImage"},[t("img",{staticClass:"img--responsive img--noBorder width--all-5 width--fromW3-auto space--fromW3-mb-2",attrs:{src:"/assets/img/browser-extension/dollar-hand_3d6b0.svg",alt:""}}),t("h2",{staticClass:"text--b size--all-s size--fromW3-xxl space--mt-1",domProps:{innerHTML:e._s('Du sparade <span class="text--color-brandPrimary">250 kr</span> tack vare Pepper!')}})])}),[],!1,null,null,null).exports,W={__name:"about-extension",setup:e=>({__sfc:!0,AboutExtensionImageTop:z,AboutExtensionImageBottom:$,AddExtensionBtn:T})},F=Object(u.a)(W,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"flex flex--dir-col flex--fromW3-dir-row boxAlign-ai--all-c"},[t("div",{staticClass:"hAlign--all-c hAlign--fromW3-l space--fromW3-mr-5"},[t("h1",{staticClass:"text--b size--all-xxxl size--fromW3-xxxxl space--mb-1"},[e._v(" "+e._s("Smarta shoppare, säg hej till ditt nya hemliga vapen.")+" ")]),t("p",{staticClass:"size--all-l size--fromW3-xl"},[e._v(" "+e._s("Pepper Shopping Assistant letar efter deals och rabattkoder åt dig")+" ")]),t(s.AddExtensionBtn,{staticClass:"space--mv-4"})],1),t("div",{staticClass:"browserExtension-about-container flex--shrink-0"},[t(s.AboutExtensionImageTop),t(s.AboutExtensionImageBottom)],1)])}),[],!1,null,null,null).exports,V={__name:"browser-extension",setup:e=>({__sfc:!0,HowItWorks:L,TopMerchants:N,LeaveFeedback:D,AboutExtension:F})},G=Object(u.a)(V,(function(){var e=this._self._c,t=this._self._setupProxy;return e("div",{staticClass:"bg--main height--all-full space--v-4 space--fromW3-t-7 space--fromW3-b-7"},[e("div",{staticClass:"browserExtension-content page-space--h-p space--ml-a space--mr-a"},[e(t.AboutExtension),e(t.HowItWorks),e(t.TopMerchants),e(t.LeaveFeedback)],1)])}),[],!1,null,null,null).exports;const K=e=>({baseLayout:Object(n.b)(e)}),X={routeData:K};var Y=Object(a.defineComponent)(Object.assign({},X,{__name:"browser-extension",setup(e){const{baseLayout:t}=Object(r.c)();return{__sfc:!0,routeData:K,baseLayout:t,BaseLayout:n.a,TwigPortal:i.a,BrowserExtension:G}}})),J=Object(u.a)(Y,(function(){var e=this._self._c,t=this._self._setupProxy;return e(t.BaseLayout,{attrs:{twig:"","route-data":t.baseLayout}},[e(t.TwigPortal,{attrs:{to:"#browserExtensionPortal"}},[e(t.BrowserExtension)],1)],1)}),[],!1,null,null,null);t.default=J.exports},150:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var a=s(5),n=s(4);const r=()=>({currentUser:Object(a.computed)((()=>n.a.getters["auth/me"])),isLoggedIn:Object(a.computed)((()=>n.a.getters["auth/loggedIn"]))})},151:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var a=s(5),n=s(16),r=s(4);const i=(e,t)=>{let s=0;const i=Object(a.ref)(!1);return function(l){if(++s>1)return;let c;return Object(a.onUnmounted)((()=>{var t;--s>0||!i.value||(o("".concat(e,"/tearDown")),null===(t=c)||void 0===t||t(),r.a.unregisterModule(e))})),Object(n.e)(l,(a=>{if(a&&0!==s){if(i.value)return o("".concat(e,"/replace"),a);r.a.registerModule(e,t(a,(e=>c=e))),i.value=!0}})),i}};function o(e,t){e in r.a._actions&&r.a.dispatch(e,t)}},152:function(e,t,s){"use strict";s.d(t,"b",(function(){return u})),s.d(t,"a",(function(){return p}));var a=s(4),n=s(6),r=s(1);const i=Object(n.c)({queries:[r.T],merge:!0});var o=s(26),l=s(28);const c=Object(l.a)(),u=async function(){var e;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])return c.promise;const t=await i({}).then((e=>e.request)).then((e=>{let{settings:t,features:s}=e;return{settings:t,features:s}})),{faye:{token:s}}=t.settings,n=t.features.faye,r="live/se".replace("/","-"),o=null===(e=a.a.getters["auth/me"])||void 0===e?void 0:e.userId,l=a.a.getters["auth/loggedIn"];return d({token:s,url:"https://faye.prod-eks.pepper.com/faye",waitToConnect:l?2e3:1e4,userId:o,env:r,isEnabled:n}),c.promise},d=async e=>{let{userId:t,env:a,token:n,url:r,isEnabled:i,waitToConnect:u}=e;const d=!Object(o.b)(navigator.userAgent);Boolean(d&&a&&i&&n&&r)&&(await Object(l.d)(u),s.e(166).then(s.t.bind(null,1215,7)).then((e=>{const s=new e.Client(r);s.env=a,t&&(s.userId=t,s.addExtension({outgoing:(e,s)=>{"/meta/subscribe"===e.channel&&(e.ext=e.ext||{},e.ext.token=n,e.ext.userId=t),s(e)}})),c.resolve({client:s})})))},p=(e,t)=>({channel:e,keepAlive:t,handle:void 0,userId:void 0,timeout:void 0,async open(e){if(this.isOpen())return;const{client:t}=await c.promise;this.handle=e,this.userId=t.userId,t.subscribe("/".concat(this.channel,"/").concat(t.env),this.handle),this.keepAlive&&(this.timeout=setTimeout(this.close.bind(this),this.keepAlive))},async close(){if(!this.isOpen())return;const{client:e}=await c.promise;this.userId=void 0,this.handle=void 0,this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0),e.unsubscribe("/".concat(this.channel,"/").concat(e.env),this.handle)},isOpen(){return void 0!==this.handle}})},153:function(e,t,s){"use strict";s.d(t,"a",(function(){return l})),s.d(t,"b",(function(){return c})),s.d(t,"c",(function(){return u}));var a=s(4),n=s(41),r=s(152),i=s(156),o=s(94);const l=()=>{a.a.dispatch("auth/tearDown"),sessionStorage.removeItem(n.a)},c=async()=>{try{await Object(n.c)(),l(),location.href="/",localStorage.removeItem(i.a),Object(o.a)()}catch(e){}},u=async()=>{const{client:e}=await Object(r.b)();e.userId&&e.subscribe("/private/user/".concat(e.env,"/").concat(e.userId,"/updates"),(e=>{switch(e.notificationType){case"unseenConversationCount":a.a.commit("auth/UPDATE_CONVERSATION_COUNTS",{unseen:e.unseenConversationCount});break;case"newActivitiesCount":a.a.commit("auth/UPDATE_NOTIFICATION_COUNTS",{new:e.newActivitiesCount})}}))}},154:function(e,t,s){"use strict";s.d(t,"a",(function(){return u})),s.d(t,"b",(function(){return d}));var a=s(5),n=s(24),r=s(151);function i(e){return{allowFunctionalityCookies:null==e?void 0:e.allowFunctionalityCookies,cookieMessage:null==e?void 0:e.cookieMessage,allowTracking:null==e?void 0:e.allowTracking,allowPersonalization:null==e?void 0:e.allowPersonalization,gaCookiesAsAnalytical:null==e?void 0:e.gaCookiesAsAnalytical}}const o={settings:e=>{let{allowFunctionalityCookies:t,allowTracking:s,allowPersonalization:a}=e;return{allowFunctionalityCookies:t,allowTracking:s,allowPersonalization:a}},isAllAccepted:e=>{let{allowFunctionalityCookies:t,allowTracking:s,allowPersonalization:a}=e;return t&&s&&a},cookieMessage:e=>{let{cookieMessage:t}=e;return t}},l={setAll(e,t){let{commit:s,getters:a}=e;const n=a.settings;return s("MERGE",Object.fromEntries(Object.keys(n).map((e=>[e,t]))))},set(e,t){let{commit:s}=e;return s("MERGE",t)},replace(e,t){let{commit:s}=e;return s("REPLACE",t)}},c={MERGE(e,t){Object.assign(e,t)},REPLACE(e,t){Object.assign(e,i(t))}};const u=Object(r.a)("cookiePolicy",(e=>({namespaced:!0,state:i(e),mutations:c,actions:l,getters:o})));function d(e){const{cookieMessage:t}=e.value,s=Object(a.computed)((()=>t&&!n.b));return u(e),{showCookiesMessage:s}}},156:function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return i}));var a=s(5),n=s(150);const r="hide_latest_news_widget",i=e=>{const{isLoggedIn:t}=Object(n.a)(),s=Object(a.computed)((()=>{var t,s;return null===(t=e.value)||void 0===t||null===(s=t.settings)||void 0===s?void 0:s.displayedForGuests})),r=Object(a.computed)((()=>{var t;return(null==e||null===(t=e.value)||void 0===t?void 0:t.items.map(((e,t)=>Object.assign({index:t+1},e))))||[]}));return{showWidget:Object(a.computed)((()=>{var e;return!(null===(e=r.value)||void 0===e||!e.length)&&(!s.value||!t.value)})),news:r}}},163:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var a=s(5);function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{immediate:n=!1}=s,r=Object(a.ref)(!1);let i=null;function o(){r.value&&l(),r.value=!0,i=setInterval(e,t)}function l(){r.value=!1,clearInterval(i)}return n&&o(),Object(a.onUnmounted)(l),{isActive:r,set:o,clear:l}}},240:function(e,t,s){"use strict";s.d(t,"c",(function(){return a})),s.d(t,"d",(function(){return n})),s.d(t,"a",(function(){return r})),s.d(t,"e",(function(){return o})),s.d(t,"b",(function(){return l}));const a=e=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()},n=(e,t,s)=>{new IntersectionObserver(((e,s)=>{e.forEach((e=>{e.isIntersecting&&(s.unobserve(e.target),t(e.target))}))}),s).observe(e)},r=(e,t,s)=>(e.addEventListener(t,s),()=>e.removeEventListener(t,s));let i=0;function o(e){i+=e?1:-1,1===i&&document.body.classList.add("overflow--hidden"),0===i&&document.body.classList.remove("overflow--hidden")}function l(e,t){const s=document.createElement(t);for(const t of e.attributes)s.setAttributeNS(null,t.name,t.value);for(;e.firstChild;)s.appendChild(e.firstChild);return e.replaceWith(s),s}},506:function(e,t,s){"use strict";s.d(t,"a",(function(){return a.a})),s.d(t,"b",(function(){return u}));var a=s(509),n=s(5),r=s(510),i={__name:"notification-button",props:{count:{type:Number,default:0},square:Boolean,selected:Boolean,countTop:Boolean},setup(e){const t=e,s=Object(n.computed)((()=>({"button--square":t.square,"button--selected":t.selected})));return{__sfc:!0,props:t,buttonClasses:s,CircleLabel:r.a,BaseButton:a.a}}},o=s(44);Object(o.a)(i,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.BaseButton,e._g({staticClass:"overflow--visible",class:s.buttonClasses,attrs:{variant:"secondary",mode:"default"}},e.$listeners),[e._t("default"),e.count&&e.countTop||e.count&&e.square?t(s.CircleLabel,{staticClass:"text--b button--square space--h-0 aGrid-item aGrid-item--r-n7 aGrid-item--t-n7",attrs:{size:"xs",mode:"primary"}},[e._v(" "+e._s(e.count)+" ")]):e.count?t(s.CircleLabel,{staticClass:"text--b button--square space--h-0 space--ml-2",attrs:{size:"m",mode:"primary"}},[e._v(" "+e._s(e.count)+" ")]):e._e()],2)}),[],!1,null,null,null).exports;const l={brand:"button--mode-brand",white:"button--mode-white"};var c={__name:"segmented-button",props:{mode:{type:String,default:"brand",validate:e=>e in l},name:{type:String,required:!1},selectedValue:{type:String,required:!1},mandatory:Boolean},emits:["update:selectedValue"],setup(e,t){let{emit:s}=t;const a=e,r=Object(n.computed)((()=>l[a.mode])),i=Object(n.computed)((()=>a.name===a.selectedValue));return{__sfc:!0,modes:l,emit:s,props:a,mode:r,selected:i,toggle:function(){s("update:selectedValue",i.value&&!a.mandatory?null:a.name)}}}},u=Object(o.a)(c,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("button",{staticClass:"button button--type-segmented",class:[s.mode,{"button--selected zIndex--atopNormal":s.selected}],attrs:{type:"button"},on:{click:s.toggle}},[e._t("default")],2)}),[],!1,null,null,null).exports},507:function(e,t,s){"use strict";s.d(t,"d",(function(){return n})),s.d(t,"a",(function(){return r.a})),s.d(t,"b",(function(){return i.a})),s.d(t,"e",(function(){return u})),s.d(t,"g",(function(){return p})),s.d(t,"h",(function(){return m})),s.d(t,"f",(function(){return v.a})),s.d(t,"i",(function(){return f.a})),s.d(t,"j",(function(){return b})),s.d(t,"c",(function(){return y}));var a=s(24),n={data:()=>({dom:{}}),computed:{applicationThreadListingMode(){return this.$store.state.application.threadListingMode||"list"},currentOrientation(){return{horizontal:"horizontal"===this.orientation,vertical:"vertical"===this.orientation}},isTouchScreen:()=>a.d}},r=s(557),i=s(558),o=s(506),l={components:{BaseButton:o.a},inject:["carousel"],inheritAttrs:!1,props:{hideOnLastPage:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},buttonModifier:{type:String,default:null}},methods:{handleClick(){this.carousel.isNext?this.carousel.next():this.carousel.scrollToPage(1)}}},c=s(44),u=Object(c.a)(l,(function(){var e=this,t=e._self._c;return!e.hideOnLastPage||e.carousel.isNext?t("BaseButton",e._b({staticClass:"size--all-m",class:e.buttonModifier,attrs:{square:"",disabled:!e.carousel.isNext&&!e.loop},on:{click:e.handleClick}},"BaseButton",e.$attrs,!1),[e._t("default",(function(){return[t("BaseIcon",{attrs:{name:"right"}})]}),{disabled:!e.carousel.isNext})],2):e._e()}),[],!1,null,null,null).exports,d={components:{BaseButton:o.a},inject:["carousel"],inheritAttrs:!1,props:{hideOnFirstPage:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},buttonModifier:{type:String,default:null}},methods:{handleClick(){this.carousel.isPrev?this.carousel.prev():this.carousel.scrollToPage(this.carousel.pages)}}},p=Object(c.a)(d,(function(){var e=this,t=e._self._c;return!e.hideOnFirstPage||e.carousel.isPrev?t("BaseButton",e._b({class:e.buttonModifier,attrs:{square:"",disabled:!e.carousel.isPrev&&!e.loop},on:{click:e.handleClick}},"BaseButton",e.$attrs,!1),[e._t("default",(function(){return[t("BaseIcon",{attrs:{name:"left"}})]}),{disabled:!e.carousel.isPrev})],2):e._e()}),[],!1,null,null,null).exports,h={components:{BaseButton:o.a},inject:["carousel"],inheritAttrs:!1,props:{page:{type:Number,required:!0},pages:{type:Number,required:!1}},computed:{carouselPagesCount(){return this.pages||this.carousel.pages},disabled(){return this.page<1||this.page>this.carouselPagesCount||this.page===this.carousel.page}}},m=Object(c.a)(h,(function(){var e=this;return(0,e._self._c)("BaseButton",e._b({staticClass:"size--all-m",attrs:{square:"",disabled:e.disabled},on:{click:function(t){return e.carousel.scrollToPage(e.page)}}},"BaseButton",e.$attrs,!1),[e._t("default",null,{disabled:e.disabled})],2)}),[],!1,null,null,null).exports,v=s(559),f=s(542),g={components:{BaseCarousel:r.a,CarouselContent:i.a,CarouselPrev:p,CarouselNext:u},props:{arrowsClass:{type:String,default:""}}},b=Object(c.a)(g,(function(){var e=this,t=e._self._c;return t("BaseCarousel",{scopedSlots:e._u([{key:"default",fn:function({page:s,pages:a}){return[t("div",{staticClass:"aGrid bg--color-white flex"},[t("CarouselPrev",{staticClass:"carousel-air-arrow space--ml-3 hide--touch-on",class:e.arrowsClass,attrs:{variant:"secondary",mode:"default",square:"","hide-on-first-page":""}},[t("BaseIcon",{attrs:{name:"left"}})],1),t("CarouselContent",{staticClass:"carousel-list--air",attrs:{"persistent-spacing":""}},[e._t("default")],2),t("CarouselNext",{staticClass:"carousel-air-arrow carousel-air-arrow--right space--mr-3 hide--touch-on",class:e.arrowsClass,attrs:{variant:"secondary",mode:"default",square:"","hide-on-last-page":""}},[t("BaseIcon",{attrs:{name:"right"}})],1)],1)]}}],null,!0)})}),[],!1,null,null,null).exports,y=Object(c.a)({},(function(){return(0,this._self._c)("div",{staticClass:"scrollBox-item"},[this._t("default")],2)}),[],!1,null,null,null).exports},509:function(e,t,s){"use strict";var a=s(32),n=s.n(a),r=s(5),i=s(540),o=s(514);const l=["tag"];var c=Object(r.defineComponent)({__name:"base-button",props:{variant:{default:"none"},mode:{default:"none"},size:{default:"none"},loading:{type:Boolean},selected:{type:Boolean},square:{type:Boolean},seal:{type:Boolean},disabled:{type:Boolean},ellipsis:{type:Boolean},wrap:{type:Boolean}},emits:["click","mousedown"],setup(e,t){let{emit:s}=t;const a=e,c=Object(r.ref)(null),u=Object(r.useAttrs)(),d=Object(i.a)(u),p=Object(r.computed)((()=>{const e=d.value;return n()(e,l)})),h=Object(r.computed)((()=>i.d[a.variant])),m=Object(r.computed)((()=>Object(i.b)(a.variant,a.mode)[a.mode])),v=Object(r.computed)((()=>i.c[a.size])),f=Object(r.computed)((()=>({"button--disabled":a.disabled,"button--sealed":a.seal||a.loading,"button--square":a.square,"button--selected":a.selected,"seal--cover aGrid":a.loading&&"none"===a.variant})));return{__sfc:!0,emit:s,props:a,buttonRef:c,attrs:u,config:d,computedConfig:p,variantClasses:h,modeClasses:m,sizeClasses:v,buttonClasses:f,handleClick:function(e){a.disabled||s("click",e)},BaseSpinner:o.a}}}),u=s(44),d=Object(u.a)(c,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.config.tag,e._b({ref:"buttonRef",tag:"Component",class:[s.variantClasses,s.modeClasses,s.sizeClasses,s.buttonClasses],attrs:{disabled:e.disabled},on:{click:s.handleClick,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:s.handleClick.apply(null,arguments)},mousedown:function(t){return e.$emit("mousedown",t)}}},"Component",s.computedConfig,!1),[e.loading?t(s.BaseSpinner,{staticClass:"spinner--centered"}):e._e(),t("span",{staticClass:"flex--inline boxAlign-ai--all-c",class:{"mute--opacity-0":e.loading,"flex--width-calc-fix":e.ellipsis,"flex--wrap":e.wrap}},[e.ellipsis?t("span",{staticClass:"overflow--ellipsis"},[e._t("default")],2):e._t("default")],2),e._t("postfix")],2)}),[],!1,null,null,null);t.a=d.exports},510:function(e,t,s){"use strict";var a={props:{size:{type:String,required:!1,default:"m"},mode:{type:String,required:!1,default:"primary"}},computed:{sizeClasses(){return this.$options.classes.sizes[this.size]},modeClasses(){return this.$options.classes.modes[this.mode]}},classes:{sizes:{xs:"circle--xs",s:"circle--s",m:"circle--m",l:"circle--l"},modes:{alert:"bg--color-red",primary:"bg--color-brandPrimary","primary-inverted":"bg--color-white text--color-brandPrimary"}}},n=s(44),r=Object(n.a)(a,(function(){var e=this;return(0,e._self._c)("span",{class:[e.sizeClasses,e.modeClasses]},[e._t("default")],2)}),[],!1,null,null,null);t.a=r.exports},513:function(e,t,s){"use strict";var a=s(585),n=s.n(a),r=s(5),i=s(150),o=s(512);var l=s(540);var c=Object(r.defineComponent)(Object.assign({},{inheritAttrs:!1},{__name:"cloak-link",props:{to:null,target:{default:""},buttonTag:{default:"button"},cloak:{type:Boolean,default:!0},variant:{default:"none"},mode:{default:"none"}},emits:["click","mousedown"],setup(e,t){let{emit:s}=t;const a=e,c=Object(r.ref)(null),u=Object(r.useAttrs)(),d=Object(o.b)(),{isLoggedIn:p}=Object(i.a)(),{isUncloaked:h,tempTarget:m,uncloak:v,simulateClick:f}=function(e){const t=Object(r.ref)(!1),s=Object(r.ref)(!1),a=Object(r.ref)(!1),n=Object(r.ref)(""),i=()=>{s.value=!0};return Object(r.onMounted)((()=>{Object(r.watch)(e,(()=>{var t,s;(null!==(t=null===(s=e.value)||void 0===s?void 0:s.$el)&&void 0!==t?t:e.value).addEventListener("contextmenu",i)}))})),Object(r.onUnmounted)((()=>{var t,s;const a=null!==(t=null===(s=e.value)||void 0===s?void 0:s.$el)&&void 0!==t?t:e.value;a&&a.removeEventListener("contextmenu",i)})),{tempTarget:n,isUncloaked:t,uncloak:e=>{(1===e.button||e.metaKey||e.ctrlKey||e.shiftKey)&&(n.value="_blank"),t.value=!0},simulateClick:(e,t,i)=>{s.value||a.value||2===t.button||Object(r.nextTick)((()=>{e.click(),a.value=!0})),n.value=i}}}(c),g=Object(r.computed)((()=>"object"==typeof a.to)),b=Object(r.computed)((()=>a.cloak&&!p.value&&!h.value)),y=Object(r.computed)((()=>b.value?a.buttonTag:"a")),_=Object(r.computed)((()=>{const e=Object.assign({},(n()(u),u));return b.value&&"button"!==a.buttonTag&&(e.role="button"),e})),w=Object(r.computed)((()=>l.d[a.variant])),k=Object(r.computed)((()=>Object(l.b)(a.variant,a.mode)[a.mode]));return{__sfc:!0,props:a,emit:s,button:c,attrs:u,router:d,isLoggedIn:p,isUncloaked:h,tempTarget:m,uncloak:v,simulateClick:f,isRouterLink:g,isCloaked:b,component:y,buttonAttrs:_,variantClasses:w,modeClasses:k,getAttributes:function(e){return b.value?_.value:Object.assign({},_.value,{href:e,target:m.value||a.target||void 0})},handleClick:function(e,t){s("click",e),g.value&&d.push(t)},handleMousedown:e=>{s("mousedown",e),v(e)}}}})),u=s(44),d=Object(u.a)(c,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return s.isRouterLink?t("RouterLink",{attrs:{to:e.to,custom:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t(s.component,e._b({key:s.isUncloaked,ref:"button",tag:"Component",class:[s.variantClasses,s.modeClasses],on:{click:s.handleClick,"~mouseup":function(t){return t.preventDefault(),s.simulateClick(s.button,t,e.target)},"~mousedown":function(e){return e.preventDefault(),s.handleMousedown(e)}}},"Component",s.getAttributes(a.href),!1),[e._t("default",null,null,s.props)],2)]}}],null,!0)}):t(s.component,e._b({key:s.isUncloaked,ref:"button",tag:"Component",class:[s.variantClasses,s.modeClasses],on:{click:s.handleClick,"~mouseup":function(t){return t.preventDefault(),s.simulateClick(s.button,t,e.target)},"~mousedown":function(e){return e.preventDefault(),s.handleMousedown(e)},"~contextmenu":function(e){return s.uncloak.apply(null,arguments)}}},"Component",s.getAttributes(e.to),!1),[e._t("default")],2)}),[],!1,null,null,null);t.a=d.exports},514:function(e,t,s){"use strict";var a=s(44),n=Object(a.a)({},(function(e,t){return e("svg",{staticClass:"spinner",class:t.data.staticClass,attrs:{viewBox:"0 0 66 66"}},[e("circle",{staticClass:"spinner-background",attrs:{cx:"33",cy:"33",r:"30"}}),e("circle",{staticClass:"spinner-bar",attrs:{cx:"33",cy:"33",r:"30"}})])}),[],!0,null,null,null);t.a=n.exports},515:function(e,t,s){"use strict";var a=s(524),n=s(521),r=s(518),i=s(516),o=s(511),l=s(519);t.a={name:"popoverMixin",components:{BasePopover:n.a,PopoverHead:r.a,PopoverBody:i.a,PopoverClose:o.a,PopoverAsync:l.a},directives:{popover:a.a}}},522:function(e,t,s){"use strict";s.d(t,"b",(function(){return r})),s.d(t,"a",(function(){return i}));var a=s(4),n=s(64);const r=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.a,r=0;return{beforeCreate(){++r>1||(a.a.registerModule(e,t.create.call(this,s.get())),t.update&&s.sub(t.update))},destroyed(){if(--r>0)return;t.update&&s.unsub(t.update),t.destroy&&t.destroy();const n="".concat(e,"/tearDown");n in a.a._actions&&a.a.dispatch(n),a.a.unregisterModule(e)}}},i=(e,t)=>r(e,{create:s=>{if(!(e in s))throw Error("Missing initial state for: ".concat(e));return t(s[e])},update:t=>{const s="".concat(e,"/replace");e in t&&s in a.a._actions&&a.a.dispatch(s,t[e])}})},524:function(e,t,s){"use strict";var a=s(32),n=s.n(a),r=s(240),i=s(532);const o=["focus","hover","click","fixed"],l=!0;function c(e,t,s){const{arg:a,modifiers:{focus:i,hover:c,click:p=!i&&!c,fixed:h},value:m}=t,v=n()(t.modifiers,o),f=!Array.isArray(m),g=t=>{if(f&&null!=m&&m.disabled)return;const n=(f?null==m?void 0:m.layouts:m)||Object.keys(v).map((e=>({preset:e,fixed:h})));if(!(l||null!=n&&n.length))throw Error("Missing layout for v-popover");return u(e,s.context,a).activate(n,{type:t.type,target:t.currentTarget})},b=[];if(p&&b.push(Object(r.a)(e,"click",g)),i&&b.push(Object(r.a)(e,"focus",g)),c&&b.push(Object(r.a)(e,"mouseenter",g)),!l&&p&&i)throw Error("Invalid v-popover event modifiers: there should be no reason to combine click & focus");d.set(e,b)}const u=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null===s){const t=e.querySelector(".popover-origin");if(!l&&!t&&!a)throw Error("Couldn't find nested popover inside v-popover trigger");return null==t?void 0:t.__vue__}let n=t.$refs[s];if(Array.isArray(n)&&(n=n[0]),!l&&!n&&!a)throw Error("Invalid v-popover name: ".concat(s,", please verify ref"));for(;n&&n.$options.name!==i.a.name;)n=n.$children[0];if(!l&&!n&&!a)throw Error("Component linked via v-popover is not a popover: ".concat(s));return n},d=new WeakMap;t.a={bind:c,update:function(e,t,s){const{arg:a,value:n,oldValue:r}=t,i=Array.isArray(n)?n:null==n?void 0:n.layouts;if(i===(Array.isArray(r)?r:null==r?void 0:r.layouts))return;d.get(e).forEach((e=>e())),c(e,t,s);const o=u(e,s.context,a);o.active&&o.currentActivation.trigger.target===e&&o.updateLayouts(i)},unbind:function(e,t,s){let{arg:a}=t;d.get(e).forEach((e=>e()));const n=u(e,s.context,a,!0);n&&n.active&&n.currentActivation.trigger.target===e&&n.close()}}},527:function(e,t,s){"use strict";s.d(t,"a",(function(){return Kt})),s.d(t,"b",(function(){return ds}));var a=s(5),n=s(4),r=s(16);var i=s(121),o=s(512),l=s(21),c=s(567),u=s(102);function d(e){Object(u.f)(null==e?void 0:e.name)||Object(c.a)()}var p=s(152),h=s(154),m=s(49),v=s(120);const f=e=>{Object(r.e)(e,(e=>{if(null==e||!e.enabled||!Object(m.a)())return;const t=Object(m.c)(),s=e.token,a="nps-pepper-com-js";if(document.getElementById(a)||!s||!t)return;let r="?account_token=".concat(s,"&uuid=").concat(t,"&v=2");const i=n.a.getters["auth/me"];if(i)localStorage.setItem("nps_a_u","yes"),r+="&user_id=".concat(i.userId,"&user_email=").concat((e=>{const t=Object(v.c)(2).charAt(0);return btoa("".concat(t).concat(btoa(e)))})(i.email),"&created_at=").concat(i.createdAt);else{if("yes"===localStorage.getItem("nps_a_u"))return;const e=localStorage.getItem("nps_f_v");if(e)r+="&first_visit=".concat(e);else{const e=Date.now().toString();localStorage.setItem("nps_f_v",e),r+="&first_visit=".concat(e)}}const o=document.getElementsByTagName("script")[0],l=document.createElement("script");l.id=a,l.defer=!0,l.src=encodeURI("https://nps.pepper.com/nps.js".concat(r)),o.parentNode.insertBefore(l,o)}))};var g=s(538),b=s(586),y=s(561),_=s(32),w=s.n(_),k=s(6),C=s(1);const x=["suggestions"],O=async e=>{const{suggestions:t}=await Object(k.a)({req:C.Tc,params:{query:e,suggestionsLimit:5,vouchersLimit:3,dealsLimit:3,usersLimit:3}});return(e=>{let{suggestions:t}=e,s=w()(e,x);const a=t.map((e=>"event"in e?e.event:e));return Object.assign({suggestions:a},s)})(t)};var S=s(602),j=s(560),A=s(533),B=s(545),I=Object(a.defineComponent)({__name:"site-search-history",props:{history:null},setup:e=>({__sfc:!0,getHistoryItemComponent:A.c,SearchHistoryTrigger:B.a})}),L=s(44),P=Object(L.a)(I,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return e.history.length?t("div",[t("div",{staticClass:"flex width--all-12"},[t("h3",{staticClass:"space--t-3 size--all-s space--b-2 space--l-3 text--color-charcoalTint text--b"},[e._v(" "+e._s("Senaste sökningar")+" ")])]),t("ul",e._l(e.history,(function(e){return t("li",{key:e.id},[t(s.SearchHistoryTrigger,{attrs:{item:e}},[t(s.getHistoryItemComponent(e),{tag:"Component",attrs:{item:e}})],1)],1)})),0)]):e._e()}),[],!1,null,null,null).exports,E=s(534),T=s(94),M=Object(a.defineComponent)({__name:"site-search",setup(e){const{SEARCH_BLOCKS:t,getComponentByType:s,getType:n,getTitleByType:r,updateSeeMoreLinks:i,seeMoreLinks:o}=Object(E.b)(),l=Object(a.ref)(null),c=Object(a.ref)(!1),u=Object(a.computed)((()=>Boolean(T.d.value.length))),d=Object(a.ref)(!1),p=Object(a.ref)(!1),h=Object(a.ref)(!1),m=Object(a.computed)((()=>h.value||p.value)),v=Object(a.computed)((()=>c.value?u.value:d.value?!d.value:void 0)),f=async e=>{if(!e||e.length<2)return c.value=!0,{[t.POPULAR_SEARCH]:l.value};const{deals:s,vouchers:a,users:n,suggestions:r,destinations:o}=await O(e);return i(o),c.value=!1,d.value=Boolean(r.length&&n.length&&!s.length&&!a.length),{[t.SUGGESTIONS]:r,[t.TOP_VOUCHERS]:a,[t.TOP_DEALS]:s,[t.USERS]:n}},g=e=>t=>({keyword:t,type:e}),b=e=>{const t=Object.entries(e).filter((e=>e[1].length));return[].concat(...t.map((e=>{let[t,s]=e;return s.map(g(t))})))};return{__sfc:!0,SEARCH_BLOCKS:t,getComponentByType:s,getType:n,getTitleByType:r,updateSeeMoreLinks:i,seeMoreLinks:o,defaultSuggestions:l,showHistory:c,historyNotEmpty:u,hasOnlySuggestionsAndUsers:d,isDropdownOpened:p,isFocused:h,isSearchActive:m,showDivider:v,fetchSuggestions:f,addKeywordType:g,mergeKeywordTypes:b,getSuggestions:async e=>{try{l.value||(l.value=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const{groups:t}=await Object(k.a)({req:C.Rc,params:{mostSearchable:!0,limit:e},options:{queryCache:60}});return t}());const t=await f(e);return b(t)}catch(e){return[]}},handleSearch:e=>{const t=new FormData(e.target).get("q");Object(T.c)({route:{name:"search",query:{q:t}},title:t,label:A.b.ALL_RESULTS})},AutoSuggestGroupResult:S.a,AutoSuggest:j.a,SearchHistory:P,SearchHistoryTrigger:B.a,searchHistory:T.d}}}),N=M,U=Object(L.a)(N,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("form",{directives:[{name:"track",rawName:"v-track:siteSearch",arg:"siteSearch"}],staticClass:"search aGrid box--all-i vAlign--all-m width--all-12 hAlign--all-l",class:{"search--active":s.isSearchActive&&e.$breakpoint.mdAndUp},attrs:{action:e.$router.resolve({name:"search"}).href,method:"get"},on:{submit:s.handleSearch}},[t(s.AutoSuggest,e._g(e._b({attrs:{placeholder:"Sök varumärken, produkter etc.",items:s.getSuggestions,"item-value":"keyword",height:"90vh","no-filter":"",clearable:"",name:"q","load-suggestions-on-focus":"","input-classes":"input--search"},on:{focus:function(e){s.isFocused=!0},blur:function(e){s.isFocused=!1},"show-results":function(e){s.isDropdownOpened=e}},scopedSlots:e._u([{key:"suggestions",fn:function({suggestions:a,highlighted:n,select:r}){return[s.showHistory&&s.historyNotEmpty?t(s.SearchHistory,{attrs:{history:s.searchHistory}}):e._e(),t(s.AutoSuggestGroupResult,{attrs:{"get-group":s.getType,"get-title":s.getTitleByType,suggestions:a,highlighted:n,highlight:()=>{},select:r,"show-divider":s.showDivider},scopedSlots:e._u([{key:"search-results-group-see-more-btn",fn:function({groupKey:a}){return[s.seeMoreLinks[a]?t(s.SearchHistoryTrigger,{attrs:{item:s.seeMoreLinks[a]}},[t("RouterLink",{attrs:{to:s.seeMoreLinks[a].route}},[e._v(" "+e._s("Se mer")+" ")])],1):e._e()]}},{key:"default",fn:function({suggestion:a,isHighlighted:n}){return[s.getComponentByType(a.original.type)?t(s.getComponentByType(a.original.type),{tag:"Component",attrs:{suggestion:a,"is-highlighted":n}}):e._e()]}}],null,!0)})]}}])},"AutoSuggest",e.$attrs,!1),e.$listeners))],1)}),[],!1,null,null,null).exports,D=Object(a.defineComponent)({__name:"site-navigation-menu-home-link",props:{homeLink:String},setup:e=>({__sfc:!0})}),R=Object(L.a)(D,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("RouterLink",{directives:[{name:"track",rawName:"v-track:homeLink.click",arg:"homeLink",modifiers:{click:!0}}],staticClass:"button button--type-tertiary button--mode-white button--shape-circle space--l-0 space--ml-2 lbox--v-4",attrs:{"active-class":"navMenu-link--selected button--selected",rel:"home",to:e.homeLink}},[t("span",{staticClass:"lbox--h-5"},[t("BaseIcon",{attrs:{name:"home"}})],1),e._v(" "+e._s("Allt")+" / "),t("span",{staticClass:"navMenu-link--lighter"},[e._v(e._s("Alla deals"))])])}),[],!1,null,null,null).exports,q={props:{isNew:{type:Boolean},icon:{type:String},url:{type:String,required:!0},label:{type:String,required:!0}}},z=Object(L.a)(q,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"flex flex--dir-column"},[t("RouterLink",{directives:[{name:"track",rawName:"v-track:mainLink.click",value:{label:e.label,url:e.url},expression:"{ label, url }",arg:"mainLink",modifiers:{click:!0}}],staticClass:"button button--type-tertiary button--mode-white button--shape-circle space--l-0 space--ml-2 space--mt-1",attrs:{"active-class":"navMenu-link--selected button--selected",to:e.url}},[t("span",{staticClass:"lbox--h-5"},[t("BaseIcon",{attrs:{name:e.icon}})],1),e._v(" "+e._s(e.label)+" "),e.isNew?t("span",{staticClass:"space--ml-2 textBadge textBadge--primary"},[e._v(e._s("Nya"))]):e._e()])],1)}),[],!1,null,null,null).exports,H=s(513),$=Object(a.defineComponent)({__name:"site-navigation-menu-item-external",props:{url:null,label:null,icon:null,isNew:{type:Boolean,default:!1},showExternalIcon:{type:Boolean,default:!0},cloak:{type:Boolean,default:!1}},setup:e=>({__sfc:!0,CloakLink:H.a})}),W=Object(L.a)($,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"flex flex--dir-column"},[t(e._self._setupProxy.CloakLink,{directives:[{name:"track",rawName:"v-track:mainLink.click",value:{label:e.label,url:e.url},expression:"{ label, url }",arg:"mainLink",modifiers:{click:!0}}],staticClass:"button button--type-tertiary button--mode-white button--shape-circle space--l-0 space--ml-2 space--mt-1",attrs:{rel:"nofollow noopener",to:e.url,cloak:e.cloak,target:"_blank"}},[t("span",{staticClass:"lbox--h-5"},[t("BaseIcon",{attrs:{name:e.icon}})],1),e._v(" "+e._s(e.label)+" "),e.isNew?t("span",{staticClass:"space--ml-2 textBadge textBadge--primary"},[e._v(e._s("Nya"))]):e._e(),e.showExternalIcon?t("BaseIcon",{staticClass:"space--ml-1",attrs:{name:"external"}}):e._e()],1)],1)}),[],!1,null,null,null).exports,F=s(51);const V=!1,G=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const{url:s,key:a}=e,n=t.find((e=>e.page===s));return null!=n&&n.sorting?"custom::home"===a?"/"===s?s+n.sorting:s:"".concat(s,"-").concat(n.sorting):s};function K(e){"/".concat(F.l);return!1}function X(e){"/".concat(F.h);return!1}function Y(e){return V}function J(e){return"custom::home"===(null==e?void 0:e.key)}var Q=Object(a.defineComponent)({__name:"site-navigation-menu-groups",props:{groups:null,userPreferences:null},setup(e){const t=e,s=Object(o.b)();return{__sfc:!0,props:t,router:s,goToGroup:function(e){const{href:a}=s.resolve({name:"threads.index.group",params:{slug:e}});return G({url:a},t.userPreferences)}}}}),Z=Object(L.a)(Q,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("ul",{staticClass:"navMenu-list size--all-m"},e._l(e.groups,(function(a){return t("li",{key:a.threadGroupId,staticClass:"iGrid-item width--all-6"},[t("RouterLink",{directives:[{name:"track",rawName:"v-track:groupLink.click",value:{id:a.threadGroupId},expression:"{ id: group.threadGroupId }",arg:"groupLink",modifiers:{click:!0}}],staticClass:"button button--type-text button--mode-white space--v-2 boxAlign-jc--all-fs width--all-12 space--r-1",attrs:{"active-class":"button--selected",to:s.goToGroup(a.threadGroupUrlName)}},[t("span",{staticClass:"overflow--ellipsis"},[e._v(e._s(a.threadGroupName))])])],1)})),0)}),[],!1,null,null,null).exports,ee=s(506),te=s(598),se=Object(a.defineComponent)({__name:"site-navigation-menu-content",props:{mainLinks:{default:()=>[]},eventLinks:{default:()=>[]},merchantLinks:{default:()=>[]},threadGroups:{default:()=>[]},isMascotcardsExplanationEnabled:{type:Boolean},enableSnow:{type:Boolean},hideVoucherCodesSection:{type:Boolean},userPreferences:null},setup(e){const t=e,n=Object(a.defineAsyncComponent)((()=>s.e(145).then(s.bind(null,1348)))),r=Object(o.a)(),i=Object(o.b)(),{isMagazineEnabled:c,magazineUrl:u}=Object(te.a)(),d=!1,p={merchants:{name:"merchant.list",label:"Alla säljare"},vouchers:{name:"vouchers",label:"Rabattkoder"},groups:{name:"groups.overview",label:"Alla kategorier"},guides:{name:"guides.listing",label:"Köparguider"},discussions:{name:"discussions",label:"Diskussioner"}},h=Object(a.computed)((()=>t.mainLinks.filter((e=>!X()&&!K()&&!Y())))),m=Object(a.computed)((()=>t.mainLinks.filter((e=>X())))),v=Object(a.computed)((()=>h.value.length>0||c||"")),f=Object(a.computed)((()=>t.merchantLinks.length>0)),g=Object(a.computed)((()=>t.eventLinks.length>0||t.isMascotcardsExplanationEnabled)),b=Object(a.computed)((()=>m.value.length>0||t.enableSnow||"")),y=Object(a.computed)((()=>r.path===_.value?"navMenu-link--selected":"")),_=Object(a.computed)((()=>i.resolve({name:"mascotcards.index"}).href)),w=Object(a.computed)((()=>t.threadGroups.filter((e=>![].includes(parseInt(e.threadGroupId)))))),k=Object(a.computed)((()=>Object.assign({},p.merchants,{icon:"store"})));return{__sfc:!0,FunLetItSnowButton:n,props:t,route:r,router:i,isMagazineEnabled:c,magazineUrl:u,isWhiteLabelEnabled:d,isHomeLinkVisible:!0,surveysUrl:"",staticMainLinks:p,visibleMainLinks:h,bottomSectionLinks:m,shouldShowMainLinksSection:v,shouldShowMerchantsSection:f,shouldShowEventsSection:g,shouldShowBottomSection:b,mascotcardsLinkClass:y,mascotcardsPath:_,visibleThreadGroups:w,merchantsMainLinkConfig:k,isEventRoute:function(e){const{href:t}=i.resolve({name:"event.index",params:{pathMatch:e}});return Object(l.b)(r,t)},SiteNavigationMenuHome:R,SiteNavigationMenuItem:z,SiteNavigationMenuItemExternal:W,MenuGroups:Z,BaseButton:ee.a,isHomeLink:J}}}),ae=Object(L.a)(se,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"space--t-2 space--b-3"},[t("nav",{directives:[{name:"track",rawName:"v-track:mainMenu",arg:"mainMenu"}]},[e._l(s.visibleMainLinks,(function(a){return t("span",{key:a.key},[s.isHomeLink(a)&&s.isHomeLinkVisible?t(s.SiteNavigationMenuHome,{attrs:{"home-link":a.url}}):a.isExternal?t(s.SiteNavigationMenuItemExternal,{attrs:{"is-new":a.isNew,url:a.url,label:a.label,icon:a.icon}}):s.isHomeLink(a)?e._e():t(s.SiteNavigationMenuItem,{attrs:{"is-new":a.isNew,url:a.url,label:a.label,icon:a.icon}})],1)})),e._e(),t("Portal",{attrs:{to:"surveysPortalTarget",disabled:s.surveysUrl&&!s.isWhiteLabelEnabled}},[s.surveysUrl?t(s.SiteNavigationMenuItemExternal,{attrs:{label:"Undersökningar",url:s.surveysUrl,"show-external-icon":!1,icon:"survey",cloak:""}}):e._e()],1),t("Portal",{attrs:{to:"eventsPortalTarget",disabled:!s.isWhiteLabelEnabled}},[s.shouldShowEventsSection?[t("strong",{staticClass:"navMenu-label",class:{"navMenu-div":s.shouldShowMainLinksSection||s.isWhiteLabelEnabled}},[t("span",{staticClass:"lbox--v-4 space--l-2"},[t("span",{staticClass:"lbox--h-5"},[t("BaseIcon",{attrs:{name:"star-empty"}})],1),e._v(" "+e._s("evenemang")+" ")])]),t("ul",{staticClass:"navMenu-list size--all-m"},[e._l(e.eventLinks,(function(a){return t("li",{key:a.eventId},[t(s.BaseButton,{directives:[{name:"track",rawName:"v-track:eventLink.click",arg:"eventLink",modifiers:{click:!0}}],staticClass:"boxAlign-jc--all-fs width--all-12",attrs:{variant:"text",mode:"white",to:{name:"event.index",params:{pathMatch:a.urlName}},selected:s.isEventRoute(a.urlName)}},[e._v(" "+e._s(a.name)+" ")])],1)})),e.isMascotcardsExplanationEnabled?t("li",[t(s.BaseButton,{directives:[{name:"track",rawName:"v-track:promoLink.click",arg:"promoLink",modifiers:{click:!0}}],staticClass:"boxAlign-jc--all-fs width--all-12",class:s.mascotcardsLinkClass,attrs:{variant:"text",mode:"white",to:s.mascotcardsPath}},[e._v(" "+e._s("The Great Flamedeer Hunt")+" ")])],1):e._e()],2)]:e._e()],2),s.visibleThreadGroups&&s.visibleThreadGroups.length>0?[t("div",{staticClass:"navMenu-label navMenu-div"},[t("RouterLink",{directives:[{name:"track",rawName:"v-track:groupLink.click",arg:"groupLink",modifiers:{click:!0}}],staticClass:"button button--type-tertiary button--mode-white button--shape-circle space--l-0 space--ml-2 lbox--v-4",attrs:{to:{name:s.staticMainLinks.groups.name}}},[t("span",{staticClass:"lbox--h-5"},[t("BaseIcon",{attrs:{name:"group"}})],1),e._v(" "+e._s(s.staticMainLinks.groups.label)+" ")])],1),t(s.MenuGroups,{attrs:{groups:s.visibleThreadGroups,"user-preferences":e.userPreferences}})]:e._e(),s.shouldShowMerchantsSection?[t("div",{staticClass:"navMenu-label navMenu-div"},[t("RouterLink",{directives:[{name:"track",rawName:"v-track:merchantLink.click",arg:"merchantLink",modifiers:{click:!0}}],staticClass:"button button--type-tertiary button--mode-white button--shape-circle space--l-0 space--ml-2 lbox--v-4",attrs:{to:{name:s.merchantsMainLinkConfig.name}}},[t("span",{staticClass:"lbox--h-5"},[t("BaseIcon",{attrs:{name:s.merchantsMainLinkConfig.icon}})],1),e._v(" "+e._s(s.merchantsMainLinkConfig.label)+" ")])],1),t("ul",{staticClass:"navMenu-list size--all-m"},e._l(e.merchantLinks,(function(s){return t("li",{key:s.merchantId,staticClass:"iGrid-item width--all-6"},[t("RouterLink",{directives:[{name:"track",rawName:"v-track:merchantLink.click",value:{id:s.merchantId},expression:"{ id: merchant.merchantId }",arg:"merchantLink",modifiers:{click:!0}}],staticClass:"button button--type-text button--mode-white space--v-2 boxAlign-jc--all-fs width--all-12 space--r-1",attrs:{to:{name:"merchants.show",params:{merchantUrlName:s.merchantUrlName}},"active-class":"button--selected"}},[e._v(" "+e._s(s.merchantName)+" ")])],1)})),0)]:e._e(),t("PortalTarget",{attrs:{name:"eventsPortalTarget"}}),s.shouldShowBottomSection?t("div",{staticClass:"navMenu-div"},[e._l(s.bottomSectionLinks,(function(e){return t("span",{key:e.label},[e.isExternal?t(s.SiteNavigationMenuItemExternal,{attrs:{"is-new":e.isNew,url:e.url,label:e.label,icon:e.icon}}):t(s.SiteNavigationMenuItem,{attrs:{"is-new":e.isNew,url:e.url,label:e.label,icon:e.icon}})],1)})),t("PortalTarget",{attrs:{name:"surveysPortalTarget"}}),e.enableSnow?t(s.FunLetItSnowButton):e._e()],2):e._e()],2)])}),[],!1,null,null,null).exports,ne=s(93),re=s(153),ie=s(103),oe={components:{BaseButton:ee.a},mixins:[ie.a],props:{text:{type:String,default:"Registrera / Logga in"}},created(){this.guarded.config={login:{}}},methods:{all:()=>null}},le=Object(L.a)(oe,(function(){var e=this,t=e._self._c;return t("BaseButton",{staticClass:"button--toW5-square",attrs:{variant:"primary",mode:"white"},on:{click:function(t){return t.preventDefault(),e.guard(e.all)}}},[t("BaseIcon",{attrs:{name:"person"}}),t("span",{staticClass:"hide--toW5 space--ml-2"},[e._v(e._s(e.text))])],1)}),[],!1,null,null,null).exports,ce=s(510),ue=s(26),de={components:{BaseButton:ee.a,CircleLabel:ce.a},inheritAttrs:!1,props:{icon:{type:String,default:""},count:{type:Number,default:0},active:{type:Boolean,default:!1},classes:{type:Object,default:()=>({})}},computed:{label(){return Object(ue.e)(this.count)},labelClasses(){return{[this.classes.label]:!!this.classes.label}}}},pe=Object(L.a)(de,(function(){var e=this,t=e._self._c;return t("BaseButton",e._g(e._b({staticClass:"navDropDown-trigger overflow--visible",attrs:{variant:"primary",mode:"white",square:"",selected:e.active}},"BaseButton",e.$attrs,!1),e.$listeners),[e.icon?t("BaseIcon",{attrs:{name:e.icon}}):e._e(),e.count?t("CircleLabel",{staticClass:"textBadge--notifications notification-count--fixed",class:e.labelClasses,attrs:{mode:"alert",size:"s"}},[e._v(" "+e._s(e.label)+" ")]):e._e(),e._t("default")],2)}),[],!1,null,null,null).exports,he={components:{BaseButton:ee.a},props:{icon:{type:String,default:""},title:{type:String,default:""},closeButton:{type:Boolean,default:!0}}},me=Object(L.a)(he,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"navDropDown-head"},[e._t("default",(function(){return[t("span",{staticClass:"lbox--v-2"},[e.icon?t("BaseIcon",{staticClass:"space--mr-2",attrs:{name:e.icon}}):e._e(),e._v(" "+e._s(e.title)+" "),e._t("counter")],2)]})),e.closeButton?e._t("close",(function(){return[t("BaseButton",{attrs:{variant:"tertiary",mode:"white",size:"s",square:""},on:{click:function(t){return e.$emit("close")}}},[t("BaseIcon",{attrs:{name:"cross"}})],1)]})):e._e()],2)}),[],!1,null,null,null).exports;var ve={components:{BaseButton:ee.a},computed:Object.assign({},Object(ne.e)("auth",{count:e=>e.conversationCounts.unread})),methods:{markAllAsRead:async()=>{n.a.commit("auth/UPDATE_CONVERSATION_COUNTS",{unread:0,unseen:0}),n.a.dispatch("recentConversations/markAllAsRead");const{markConversationsAsRead:e}=await Object(k.a)({req:C.pc,params:{all:!0}});return n.a.commit("auth/UPDATE_CONVERSATION_COUNTS",e),e}}},fe=Object(L.a)(ve,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"navDropDown-footer flex--dir-row-reverse"},[t("BaseButton",{directives:[{name:"track",rawName:"v-track:allMsgsLink.click-ga",arg:"allMsgsLink",modifiers:{"click-ga":!0}}],attrs:{variant:"tertiary",mode:"default",square:"",to:{name:"user.conversation.index"}}},[t("BaseIcon",{attrs:{name:"mail"}})],1),e.count?t("button",{directives:[{name:"track",rawName:"v-track:markAllRead.click-ga",arg:"markAllRead",modifiers:{"click-ga":!0}}],staticClass:"clickable text--b text--color-navDropDownPrimary",attrs:{type:"button"},on:{click:e.markAllAsRead}},[t("span",{staticClass:"lbox--v-4 size--all-s"},[t("BaseIcon",{staticClass:"space--mr-1",attrs:{name:"tick"}}),e._v(" "+e._s("Markera allt som läst")+" ")],1)]):e._e()],1)}),[],!1,null,null,null).exports,ge=s(529),be=s(528),ye=Object(a.defineComponent)({__name:"user-conversation",props:{value:{type:Object,required:!0},selected:{type:Boolean,default:!1},source:{type:String,default:""}},setup(e){const t=e,s=Object(a.inject)("popover"),r=Object(a.computed)((()=>n.a.getters["auth/me"])),i=Object(a.computed)((()=>t.value.messages.items[0])),o=Object(a.computed)((()=>{var e;return i.value.fromUser.userId===(null===(e=r.value)||void 0===e?void 0:e.userId)})),l=Object(a.computed)((()=>o.value?i.value.toUser:i.value.fromUser)),c=Object(a.computed)((()=>"conversation-".concat(t.value.conversationId))),u=Object(a.computed)((()=>"read"===i.value.status||o.value)),d=Object(a.computed)((()=>i.value.message)),p=Object(a.computed)((()=>({"conversationList-msg--read":t.selected||u.value,"conversationList-msg--active":t.selected}))),h=Object(a.computed)((()=>i.value.timeAgo));return{__sfc:!0,popover:s,props:t,currentUser:r,mostRecentMessage:i,fromCurrentUser:o,withUser:l,id:c,showAsRead:u,messageContent:d,itemClasses:p,timeAgo:h,UserAvatarLegacy:ge.a,UserPersona:be.a}}}),_e=Object(L.a)(ye,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("li",{staticClass:"boxSec-div space--h-2 space--v-2 conversationList-msg",class:s.itemClasses,attrs:{id:s.id}},[t("RouterLink",{directives:[{name:"track",rawName:"v-track:msg.click-ga",arg:"msg",modifiers:{"click-ga":!0}}],staticClass:"flex boxAlign-ai--all-c",attrs:{to:{name:"user.conversation.show",params:{username:s.withUser.username},query:{source:e.source}}},nativeOn:{click:function(e){return s.popover.close()}}},[t(s.UserAvatarLegacy,{staticClass:"flex--shrink-0",attrs:{size:"m",user:s.withUser,lazy:!1}}),t("div",{staticClass:"space--l-2 overflow--ellipsis size--all-s"},[t("div",{staticClass:"lbox--v-1 space--mb-n1"},[t("span",{staticClass:"user conversationList-senderLine text--b space--mr-1"},[e._v(" "+e._s(s.withUser.username)+" ")]),s.withUser.persona?t(s.UserPersona,{attrs:{user:s.withUser}}):e._e()],1),s.mostRecentMessage.subject?[t("span",{staticClass:"conversationList-subjectLine box--all-b overflow--ellipsis"},[e._v(e._s(s.mostRecentMessage.subject))])]:e._e(),t("span",{staticClass:"conversationList-msgPreview box--all-b overflow--ellipsis",domProps:{innerHTML:e._s(s.messageContent)}}),t("div",{staticClass:"mute--text"},[e._v(e._s(s.timeAgo))])],2)],1)],1)}),[],!1,null,null,null).exports,we=s(77),ke={data:()=>({asset:we.a.itemTypeA})},Ce=Object(L.a)(ke,(function(){var e=this._self._c;return e("div",{staticClass:"space--h-2 space--v-2 width--all-12",style:{height:"70px"}},[e("span",{staticClass:"skeleton"},[e("img",{staticClass:"height--all-full",attrs:{src:this.asset.src}})])])}),[],!1,null,null,null).exports,xe={computed:Object.assign({},Object(ne.e)("auth",{conversationsEnabled:(e,t)=>{var s;return!(null===(s=t.me)||void 0===s||!s.isConversationsEnabled)}}),{msg(){return this.conversationsEnabled?{title:"Inga meddelanden",body:"Det verkar som om du inte har några meddelanden än.",footer:"När du startar en chatt med en annan medlem kommer dina nya meddelanden att visas här."}:{title:"Inga meddelanden",body:"Tyvärr kan du för närvarande inte skicka privata meddelanden till andra medlemmar.",footer:"Dina PM kommer att låsas upp när du har varit lite mer aktiv på Pepper"}}})},Oe=Object(L.a)(xe,(function(){var e=this,t=e._self._c;return t("ul",{staticClass:"notifications-content overscroll--containY"},[t("li",{staticClass:"flex flex--dir-col boxAlign-ai--all-c hAlign--all-c space--h-2 space--v-2 size--all-m"},[t("BaseIcon",{staticClass:"space--mt-3 space--mb-3",style:{width:"65px",height:"52px"},attrs:{name:"mail",color:"grey"}}),t("h3",{staticClass:"size--all-xxl text--b"},[e._v(e._s(e.msg.title))]),t("p",{staticClass:"size--all-s space--v-2"},[e._v(e._s(e.msg.body))]),t("p",{staticClass:"size--all-s mute--text space--b-3"},[e._v(e._s(e.msg.footer))])],1)])}),[],!1,null,null,null).exports;const Se={N:"n",E:"e",S:"s",W:"w",X:"x",Y:"y"},je=[Se.E,Se.X,Se.W],Ae=[Se.S,Se.Y,Se.N],Be={before:[Se.N,Se.Y,Se.X,Se.W],after:[Se.S,Se.Y,Se.X,Se.E]},Ie="BEFORE",Le="AFTER",Pe="INIT",Ee="IDLE",Te="BUSY";var Me={inheritAttrs:!1,props:{as:{type:String,default:"div"},sentinelAs:{type:String,default:"span"},root:{type:String,default:""},direction:{type:String,default:Se.S},loading:{type:Boolean,default:!1},threshold:{type:Number,default:0},margin:{type:String,default:"0px"}},data:()=>({state:Pe,observers:[]}),computed:{isIdle(){return this.state===Ee},beforeRegistered(){return this.observers.indexOf(Ie)>-1},afterRegistered(){return this.observers.indexOf(Le)>-1},directionUsesBefore(){return Be.before.indexOf(this.direction)>-1},directionUsesAfter(){return Be.after.indexOf(this.direction)>-1},startBefore(){return this.isIdle&&!this.beforeRegistered&&this.directionUsesBefore},startAfter(){return this.isIdle&&!this.afterRegistered&&this.directionUsesAfter},stopBefore(){return this.beforeRegistered&&!this.directionUsesBefore},stopAfter(){return this.afterRegistered&&!this.directionUsesAfter},spacingLeft(){return[Se.X,Se.W].indexOf(this.direction)>-1?this.margin:"0px"},spacingRight(){return[Se.X,Se.E].indexOf(this.direction)>-1?this.margin:"0px"},spacingTop(){return[Se.N,Se.Y].indexOf(this.direction)>-1?this.margin:"0px"},spacingBottom(){return[Se.S,Se.Y].indexOf(this.direction)>-1?this.margin:"0px"},rootMargin(){return"".concat(this.spacingTop," ").concat(this.spacingRight," ").concat(this.spacingBottom," ").concat(this.spacingLeft)},configChanged(){return!!(this.root||this.direction||this.threshold||this.rootMargin)},sentinelContainerClasses(){return{"flex flex--dir-col":Ae.indexOf(this.direction)>-1,"flex--inline":je.indexOf(this.direction)>-1}},containerClasses(){return{"flex--dir-col":Ae.indexOf(this.direction)>-1}}},watch:{startBefore:"observeBefore",startAfter:"observeAfter",stopBefore:"unobserveBefore",stopAfter:"unobserveAfter",configChanged:"resetObserver",loading:function(e){e?this.setBusy():this.setIdle()}},created(){this.updateEntries=this.updateEntries.bind(this)},mounted(){this.mountObserver()},beforeDestroy(){this.unmountObserver()},methods:{setInit(){this.state!==Pe&&(this.state=Pe)},setIdle(){this.state!==Ee&&(this.state=Ee)},setBusy(){this.state!==Te&&(this.state=Te)},observeBefore(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&!this.beforeRegistered&&(this.observer.observe(this.$refs.before),this.observers.push(Ie))},unobserveBefore(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.beforeRegistered&&(this.observer.unobserve(this.$refs.before),this.observers.splice(this.observers.indexOf(Ie),1))},observeAfter(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&!this.afterRegistered&&(this.observer.observe(this.$refs.after),this.observers.push(Le))},unobserveAfter(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.afterRegistered&&(this.observer.unobserve(this.$refs.after),this.observers.splice(this.observers.indexOf(Le),1))},resetObserver(){this.setInit(),this.unmountObserver(),this.mountObserver()},mountObserver(){this.observer=new IntersectionObserver(this.updateEntries,{root:"window"===this.root?null:this.$el,threshold:this.threshold,rootMargin:this.rootMargin}),this.setIdle()},unmountObserver(){this.unobserveBefore(!0),this.unobserveAfter(!0),this.observer&&(this.observer.disconnect(),this.observer=null)},updateIntersecting(e){switch(e.target){case this.$refs.after:this.updateAfter();break;case this.$refs.before:this.updateBefore()}},updateAfter(){this.isIdle&&this.afterRegistered&&(this.setBusy(),this.$emit("after"))},updateBefore(){this.isIdle&&this.beforeRegistered&&(this.setBusy(),this.$emit("before"))},updateEntries(e){this.isIdle&&e.forEach((e=>{e.isIntersecting&&this.updateIntersecting(e)}))}}},Ne=Me,Ue=Object(L.a)(Ne,(function(){var e=this,t=e._self._c;return t(e.as,e._b({tag:"Component",staticClass:"flex",class:e.containerClasses},"Component",e.$attrs,!1),[e.directionUsesBefore?t(e.sentinelAs,{key:"infinite-before",tag:"Component",class:e.sentinelContainerClasses},[t("span",{ref:"before"}),e._t("before")],2):e._e(),e._t("default"),e.directionUsesAfter?t(e.sentinelAs,{key:"infinite-after",tag:"Component",class:e.sentinelContainerClasses},[e._t("after"),t("span",{ref:"after"})],2):e._e()],2)}),[],!1,null,null,null).exports,De=s(104),Re=e=>{let{api:t,loadingKey:s,entitiesKey:a}=e;return{components:{InfiniteScroll:Ue},beforeCreate(){this.api=t()},created(){this.fetchInitial()},beforeDestroy(){this.api=null},methods:{updateCursorDirection(e){this.$store.dispatch("".concat(a,"/updateCursorDirection"),{direction:e})},updateCursor(e){this.$store.dispatch("".concat(a,"/updateCursor"),e)},shouldRefetch(){return this.$store.getters["".concat(a,"/shouldRefetch")]()},reset(){this.$store.dispatch("".concat(a,"/reset"))},isStale(){return this.$store.getters["".concat(a,"/isStale")]()},fetchBefore(){this.fetch("before")},fetchAfter(){this.fetch("after")},fetchInitial(){this.isStale()&&(this.reset(),this.fetchAfter())},async fetch(e){if(this.shouldRefetch()){this.itemsLoader.reset(),this.updateCursorDirection(e);try{const{pagination:e,items:t}=await this.itemsLoader.add(this.api(this.currentParams));t.length?this.updateCursor(e):this.updateCursor({hasMore:!1})}catch(e){}}}},computed:{itemsLoader:()=>De.b.create(s),itemsLoading(){return this.itemsLoader.isLoading()},loadingDirection(){return this.$store.getters["".concat(a,"/direction")]},items(){return this.$store.getters["".concat(a,"/items")]},currentParams(){return this.$store.getters["".concat(a,"/currentParams")]},hasFetched(){return this.$store.getters["".concat(a,"/hasFetched")]},hasMoreBefore(){return this.$store.getters["".concat(a,"/hasMoreBefore")]},hasMoreAfter(){return this.$store.getters["".concat(a,"/hasMoreAfter")]},emptyResults(){return this.hasFetched&&this.items.length<1}}}},qe={components:{UserConversation:_e,UserConversationSkeleton:Ce,UserConversationListEmpty:Oe},mixins:[Re({api:()=>{let e;return async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&e.cancel(),e=Object(k.b)({req:C.Gc,params:t||{}});const{conversations:s}=await e.request,[a]=n.a.getters["recentConversations/items"],[r]=s.items;return n.a.dispatch("auth/transitionToUnreadConversations",s.items),n.a.dispatch("recentConversations/markFetched"),a&&r&&a.conversationId===r.conversationId?n.a.dispatch("recentConversations/replace",s.items):n.a.dispatch("recentConversations/push",s.items),s}},loadingKey:"conversations",entitiesKey:"recentConversations"})],computed:{source(){return this.$breakpoint.mdAndUp?"menu":"tabbedMenu"}}},ze=qe,He=Object(L.a)(ze,(function(){var e=this,t=e._self._c;return e.emptyResults?t("UserConversationListEmpty"):t("InfiniteScroll",{staticClass:"notifications-content overscroll--containY",attrs:{as:"ul","sentinel-as":"li",margin:"200%",loading:e.itemsLoading},on:{after:e.fetchAfter},scopedSlots:e._u([{key:"after",fn:function(){return[e.hasMoreAfter?t("UserConversationSkeleton"):e._e()]},proxy:!0}])},e._l(e.items,(function(s){return t("UserConversation",{key:s.conversationId,attrs:{value:s,source:e.source}})})),1)}),[],!1,null,null,null).exports,$e=s(522),We=s(530),Fe=s(61);var Ve=function(){return{namespaced:arguments.length>0&&void 0!==arguments[0]&&arguments[0],state:{pagination:{direction:"after",start:null,end:null,hasMoreAfter:!0,hasMoreBefore:!0},previousPagination:null},getters:{pagination:e=>e.pagination,paginationChanged:e=>e.previousPagination!==e.pagination,hasMoreBefore:e=>e.pagination.hasMoreBefore,hasMoreAfter:e=>e.pagination.hasMoreAfter,direction:e=>e.pagination.direction},actions:{updateCursorDirection(e){let{commit:t}=e,{direction:s="after"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t({type:"UPDATE_PREVIOUS_CURSOR"}),t({type:"UPDATE_CURSOR_DIRECTION",direction:s})},updateCursor(e){let{commit:t}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t({type:"UPDATE_PREVIOUS_CURSOR"}),t({type:"UPDATE_CURSOR",cursor:s})},resetCursor(e){let{commit:t}=e;t({type:"RESET_CURSOR"})}},mutations:{UPDATE_CURSOR_DIRECTION(e,t){let{direction:s}=t;e.pagination.direction=s},UPDATE_CURSOR(e,t){let{cursor:s={}}=t;"after"===e.pagination.direction&&void 0!==s.end&&(e.pagination.end=s.end||null),"before"===e.pagination.direction&&void 0!==s.start&&(e.pagination.start=s.start||null),"after"===e.pagination.direction&&(e.pagination.hasMoreAfter=!!s.hasMore),"before"===e.pagination.direction&&(e.pagination.hasMoreBefore=!!s.hasMore)},UPDATE_PREVIOUS_CURSOR(e){e.previousPagination=e.pagination},RESET_CURSOR(e){Object.assign(e,{pagination:{direction:"after",start:null,end:null,hasMoreAfter:!0,hasMoreBefore:!0},previousPagination:null})}}}},Ge=s(18);const Ke=new Ge.b("conversations","conversationId");const Xe=Object($e.b)("recentConversations",{create:()=>(e=>{const t=Object(We.a)(Ke,e,!1);return t.actions.markAllAsRead=e=>{let{state:t,dispatch:s}=e;s("replace",t.items.map((e=>Object.assign({},e,{messages:Object.assign({},e.messages,{items:[Object.assign({},e.messages.items[0],{status:"read"}),...e.messages.items.slice(1)]})}))))},{namespaced:!0,state:{},actions:{reset(e){let{dispatch:t}=e;t("replace",[]),t("resetApi"),t("resetCursor")}},modules:{conversations:t,api:Object(Fe.a)({userImageSlot:"default",userImageVariations:["user_small_avatar"]},5),cursor:Ve()}}})([])});var Ye=s(515),Je={components:{CircleLabel:ce.a,UserDropdownButton:pe,UserDropdownHeader:me,UserConversationFooter:fe,UserConversationList:He},mixins:[Ye.a,Xe],data:()=>({dropdownActive:!1}),computed:Object.assign({},Object(ne.e)("auth",{counts:e=>e.conversationCounts}),{counterCeptClass:()=>""}),methods:{closePopover(){var e;null===(e=this.$refs.popover)||void 0===e||e.close()}}},Qe=Object(L.a)(Je,(function(){var e=this,t=e._self._c;return e.$breakpoint.mdAndUp?t("div",{staticClass:"navDropDown"},[t("UserDropdownButton",{directives:[{name:"popover",rawName:"v-popover.s.fixed",modifiers:{s:!0,fixed:!0}},{name:"track",rawName:"v-track:msgDropdown.click-ga",arg:"msgDropdown",modifiers:{"click-ga":!0}}],attrs:{icon:"mail",count:e.counts.unseen,classes:{label:e.counterCeptClass},active:e.dropdownActive}},[t("BasePopover",{ref:"popover",attrs:{"layer-class":"popover--menu popover--border-navDropDownPrimary popover--arrow-navDropDownPrimary","content-class":"",width:"290",active:e.dropdownActive},on:{"update:active":function(t){e.dropdownActive=t}},scopedSlots:e._u([{key:"default",fn:function({close:s}){return[t("UserDropdownHeader",{attrs:{icon:"mail",title:"Meddelanden"},on:{close:s},scopedSlots:e._u([e.counts.unread?{key:"counter",fn:function(){return[t("CircleLabel",{staticClass:"text--b space--ml-2 js-notifications-counter",attrs:{size:"s",mode:"primary-inverted"}},[e._v(" "+e._s(e.counts.unread)+" ")])]},proxy:!0}:null],null,!0)}),t("UserConversationList"),t("UserConversationFooter")]}}],null,!1,1135542406)})],1)],1):e._e()}),[],!1,null,null,null).exports;var Ze={components:{BaseButton:ee.a},computed:Object.assign({},Object(ne.e)("auth",{username:(e,t)=>{var s;return null===(s=t.me)||void 0===s?void 0:s.username},count:e=>e.notificationCounts.unread})),methods:{markAllAsRead:async()=>{n.a.commit("auth/UPDATE_NOTIFICATION_COUNTS",{unread:0,new:0}),n.a.dispatch("recentNotifications/markAllAsRead");const{markNotificationsAsRead:e}=await Object(k.a)({req:C.qc,params:{all:!0}});return n.a.commit("auth/UPDATE_NOTIFICATION_COUNTS",e),e}}},et=Object(L.a)(Ze,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"navDropDown-footer flex--dir-row-reverse"},[t("BaseButton",{directives:[{name:"track",rawName:"v-track:profileSettingsLink.click-ga",arg:"profileSettingsLink",modifiers:{"click-ga":!0}}],attrs:{variant:"tertiary",mode:"default",square:"",to:{name:"user.profile.settings",params:{username:e.username},hash:"#notifications"}}},[t("BaseIcon",{attrs:{name:"gear"}})],1),e.count?t("button",{directives:[{name:"track",rawName:"v-track:markAllRead.click-ga",arg:"markAllRead",modifiers:{"click-ga":!0}}],staticClass:"clickable text--b text--color-navDropDownPrimary",attrs:{type:"button"},on:{click:e.markAllAsRead}},[t("span",{staticClass:"lbox--v-4 size--all-s"},[t("BaseIcon",{staticClass:"space--mr-1",attrs:{name:"tick"}}),e._v(" "+e._s("Markera allt som läst")+" ")],1)]):e._e()],1)}),[],!1,null,null,null).exports;const tt=Object.entries({thread:[7,9,15,36,18,23,25,35,34,38,39],user:[8,6,10,12,13,14,16,19,20,21,22,26,33,24,28,30,29,31,32,40,41],keyword:[11],badges:[17]}),st={6:{iconName:"i:comment",type:"comment_on_subscribed_deal"},7:{iconName:"i:plus",type:"thread_voted_on"},8:{iconName:"i:comment",type:"comment_on_my_deal"},9:{iconName:"i:flame",type:"thread_went_hot"},10:{iconName:"i:thumb-up",type:"comment_liked"},11:{iconName:"i:search",type:"keyword_alert"},12:{iconName:"i:person",type:"mentioned_in_comment"},13:{iconName:"i:plus",type:"info_added_to_my_deal"},14:{iconName:"i:plus",type:"info_added_to_subscribed_deal"},15:{iconName:"i:hourglass",type:"thread_reported_as_expired"},16:{iconName:"i:comment",type:"comment_quoted"},17:{iconName:"i:plus",type:"badge_earned"},18:{iconName:"i:tag",type:"new_thread_notify_follower"},21:{iconName:"i:thumb-up",type:"additional_info_liked"},23:{iconName:"i:hourglass",type:"thread_auto_expired"},24:{iconName:"i:tag",type:"thread_is_now_live"},25:{iconName:"i:hourglass",type:"thread_has_been_expired"},26:{iconName:"i:comment",type:"comment_is_now_live"},28:{iconName:"i:trade",type:"mascotcard_request_sent"},29:{iconName:"i:cross",type:"mascotcard_request_canceled"},30:{iconName:"i:tick",type:"mascotcard_request_accepted"},31:{iconName:"i:cross",type:"mascotcard_request_declined"},32:{iconName:"i:tag",type:"additional_info_approved"},33:{iconName:"i:tag",type:"thread_merged"},34:{iconName:"i:flag",type:"thread_manually_moderated"},35:{iconName:"i:hourglass",type:"thread_has_been_expired"},36:{iconName:"i:hourglass",type:"thread_reported_as_unexpired"},38:{iconName:"i:flame",type:"thread_went_superhot"},39:{iconName:"i:hourglass",type:"thread_expiry_reminder"}},at=[24,26,32,33];var nt={inject:["popover"],props:{value:{type:Object,required:!0}},computed:{activityConfig(){return st[this.value.userActivityTypeId]||{iconName:"comment",type:"unknown"}},activitySubject(){const e=+this.value.userActivityTypeId,[t]=tt.find((t=>{let[s,a]=t;return a.some((t=>t===e))}))||["comment"];return t},activityLink(){if("new"===this.value.status||"unread"===this.value.status){const e=new URL(this.value.link,document.baseURI);return e.searchParams.set("pprmrkntfctnsrd",this.value.userActivityId),e.searchParams.set("UATypeId",this.value.userActivityTypeId),e.href}return this.value.link},activityIcon(){return this.activityConfig.iconName.replace("i:","")},activityImage(){if(this.value.imageUrl)return this.value.imageUrl;switch(this.activitySubject){case"thread":case"keyword":return"/assets/img/default-deal_d0fc9.svg";case"user":return"/assets/img/profile-placeholder_09382.png";default:return at.some((e=>e===this.value.userActivityTypeId))?"/assets/img/support-images/nerd_d9815.svg":""}},itemClasses(){return{["".concat("","-").concat(this.value.userActivityId)]:!1,["".concat("")]:!1,"notification-item--read":"read"===this.value.status||"hidden"===this.value.status}},textClasses(){return{"text--color-greyShade":"read"===this.value.status,"text--color-charcoalTint":"read"!==this.value.status}},imageFrameClasses(){return{"imgFrame bg--main":"user"!==this.activitySubject&&"comment"!==this.activitySubject}},imageClasses(){return{"avatar avatar--type-m":"user"===this.activitySubject||"comment"===this.activitySubject,"imgFrame-img":"user"!==this.activitySubject&&"comment"!==this.activitySubject,badgeImage:"badges"===this.activitySubject}}}},rt={data:()=>({asset:we.a.itemTypeA})},it={components:{UserNotification:Object(L.a)(nt,(function(){var e=this,t=e._self._c;return t("li",{staticClass:"notification-item boxSec-div",class:e.itemClasses},[t("a",{directives:[{name:"track",rawName:"v-track:notification.click-ga",value:{type:e.activityConfig.type},expression:"{ type: activityConfig.type }",arg:"notification",modifiers:{"click-ga":!0}}],staticClass:"flex width--all-12 space--h-2 space--v-2",attrs:{href:e.activityLink},on:{click:function(t){return e.popover.close()}}},[t("div",{staticClass:"notification-item-image flex--shrink-0 space--r-3"},[t("span",{class:e.imageFrameClasses},[t("img",{class:e.imageClasses,attrs:{src:e.activityImage}})])]),t("div",{staticClass:"notification-item-text size--all-s"},[t("span",{domProps:{innerHTML:e._s(e.value.text)}}),t("div",{staticClass:"flex boxAlign-ai--all-c space--mt-1",class:e.textClasses},[t("BaseIcon",{attrs:{name:e.activityIcon}}),t("span",{staticClass:"space--ml-2"},[e._v(e._s(e.value.timeAgo))])],1)])])])}),[],!1,null,null,null).exports,UserNotificationListEmpty:Object(L.a)({},(function(){var e=this,t=e._self._c;return t("ul",{staticClass:"notifications-content overscroll--containY"},[t("li",{staticClass:"space--v-4"},[t("span",{staticClass:"hAlign--all-c notification-item-text mute--text space--t-2 box--all-b"},[e._m(0),t("div",{staticClass:"space--v-2 size--all-s"},[e._v(e._s("Du har inga aviseringar."))])])])])}),[function(){var e=this._self._c;return e("div",{staticClass:"width--all-2 box--all-i notification-supportImg"},[e("span",{staticClass:"supportImage supportImage--type-blank width--all-12"})])}],!1,null,null,null).exports,UserNotificationSkeleton:Object(L.a)(rt,(function(){var e=this._self._c;return e("div",{staticClass:"space--h-2 space--v-2 width--all-12",style:{height:"70px"}},[e("span",{staticClass:"skeleton"},[e("img",{staticClass:"height--all-full",attrs:{src:this.asset.src}})])])}),[],!1,null,null,null).exports},mixins:[Re({api:()=>{let e;return async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&e.cancel(),e=Object(k.b)({req:C.Hc,params:t||{}});const{notifications:s}=await e.request,[a]=n.a.getters["recentNotifications/items"],[r]=s.items;return n.a.dispatch("auth/transitionToUnreadNotifications",s),n.a.dispatch("recentNotifications/markFetched"),a&&r&&a.userActivityId===r.userActivityId?n.a.dispatch("recentNotifications/replace",s.items):n.a.dispatch("recentNotifications/push",s.items),s}},loadingKey:"notifications",entitiesKey:"recentNotifications"})],computed:{source(){return this.$breakpoint.mdAndUp?"menu":"tabbedMenu"}}},ot=it,lt=Object(L.a)(ot,(function(){var e=this,t=e._self._c;return e.emptyResults?t("UserNotificationListEmpty"):t("InfiniteScroll",{staticClass:"notifications-content overscroll--containY",attrs:{as:"ul","sentinel-as":"li",margin:"200%",loading:e.itemsLoading},on:{after:e.fetchAfter},scopedSlots:e._u([{key:"after",fn:function(){return[e.hasMoreAfter?t("UserNotificationSkeleton"):e._e()]},proxy:!0}])},e._l(e.items,(function(s){return t("UserNotification",{key:s.userActivityId,attrs:{value:s,source:e.source}})})),1)}),[],!1,null,null,null).exports;const ct=new Ge.b("notifications","userActivityId");const ut=Object($e.b)("recentNotifications",{create:()=>(e=>{const t=Object(We.a)(ct,e,!1);return t.actions.markAllAsRead=e=>{let{state:t,dispatch:s}=e;s("replace",t.items.map((e=>Object.assign({},e,{status:"read"}))))},{namespaced:!0,state:{},actions:{reset(e){let{dispatch:t}=e;t("replace",[]),t("resetApi"),t("resetCursor")}},modules:{notifications:t,api:Object(Fe.a)({limit:15},5),cursor:Ve()}}})([])});var dt={components:{CircleLabel:ce.a,UserDropdownButton:pe,UserDropdownHeader:me,UserNotificationFooter:et,UserNotificationList:lt},mixins:[Ye.a,ut],data:()=>({dropdownActive:!1}),computed:Object.assign({},Object(ne.e)("auth",{counts:e=>e.notificationCounts}),{counterCeptClass:()=>""}),methods:{closePopover(){var e;null===(e=this.$refs.popover)||void 0===e||e.close()}}},pt=Object(L.a)(dt,(function(){var e=this,t=e._self._c;return e.$breakpoint.mdAndUp?t("div",{staticClass:"navDropDown"},[t("UserDropdownButton",{directives:[{name:"popover",rawName:"v-popover.s.fixed",modifiers:{s:!0,fixed:!0}},{name:"track",rawName:"v-track:notificationsDropdown.click-ga",arg:"notificationsDropdown",modifiers:{"click-ga":!0}}],attrs:{icon:"bell",count:e.counts.new,classes:{label:e.counterCeptClass},active:e.dropdownActive}},[t("BasePopover",{ref:"popover",attrs:{"layer-class":"popover--menu popover--border-navDropDownPrimary popover--arrow-navDropDownPrimary","content-class":"",width:"290",active:e.dropdownActive},on:{"update:active":function(t){e.dropdownActive=t}},scopedSlots:e._u([{key:"default",fn:function({close:s}){return[t("UserDropdownHeader",{attrs:{icon:"bell",title:"Meddelanden"},on:{close:s},scopedSlots:e._u([e.counts.unread?{key:"counter",fn:function(){return[t("CircleLabel",{staticClass:"text--b space--ml-2 js-notifications-counter",attrs:{size:"s",mode:"primary-inverted"}},[e._v(" "+e._s(e.counts.unread)+" ")])]},proxy:!0}:null],null,!0)}),t("UserNotificationList"),t("UserNotificationFooter")]}}],null,!1,4041120584)})],1)],1):e._e()}),[],!1,null,null,null).exports,ht={__name:"user-dropdown-tab",props:{icon:{type:String,default:""},count:{type:Number,default:0}},setup(e){const t=Object(a.useAttrs)(),s=Object(a.computed)((()=>(t.name,t["selected-value"],"")));return{__sfc:!0,attrs:t,ceptClass:s,CircleLabel:ce.a,SegmentedButton:ee.b}}},mt={components:{UserDropdownTab:Object(L.a)(ht,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.SegmentedButton,e._g(e._b({staticClass:"flex--1",class:s.ceptClass,attrs:{mode:"white",mandatory:""}},"SegmentedButton",e.$attrs,!1),e.$listeners),[e.icon?t("BaseIcon",{attrs:{name:e.icon}}):e._e(),e.count?t(s.CircleLabel,{staticClass:"button--notification-counter text--color-brandPrimary text--b vAlign--all-m space--ml-1",attrs:{mode:"manual",size:"s"}},[e._v(" "+e._s(e.count)+" ")]):e._e()],1)}),[],!1,null,null,null).exports},props:{tabs:{type:Array,default:()=>[]}}},vt=Object(L.a)(mt,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex--1"},e._l(e.tabs,(function(s){return t("UserDropdownTab",e._g(e._b({key:s.id,class:s.class,attrs:{name:s.id,icon:s.icon,count:s.count}},"UserDropdownTab",e.$attrs,!1),e.$listeners))})),1)}),[],!1,null,null,null).exports,ft={inject:["popover"],props:{user:Object,required:!0},computed:Object.assign({},Object(ne.e)("features",{navigation:(e,t)=>t.get("navigation").profile||{}}),{links(){const e=[];return e.push({key:"activityOverview",to:this.profileRoute("overview"),text:"Aktivitetsöversikt",icon:"person",track:"overviewLink"}),this.navigation.badges&&e.push({key:"badges",to:this.profileRoute("overview",F.a),text:"Mina badges",icon:"star-empty",track:"badgesLink"}),e.push({key:"deals",to:this.profileRoute("show.deals",F.d),text:"Publicerade deals",icon:"tag",track:"dealsLink"}),this.navigation.discussion&&e.push({key:"discussions",to:this.profileRoute("show.discussions",F.f),text:"Upplagda diskussioner",icon:"comment",track:"discussionsLink"}),e.push({key:"savedThreads",to:this.profileRoute("show.saved",F.o),text:"Sparade trådar",icon:"bookmark",track:"savedThreadsLink"}),e.push({key:"keywordAlarms",to:this.profileRoute("keywords"),text:"Deal-varningar",icon:"bell",track:"keywordAlertsLink"}),e.push({key:"settings",to:this.profileRoute("settings"),text:"Inställningar",icon:"gear",track:"settingsLink"}),e}}),methods:{profileRoute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show.deals",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=Object.assign({username:this.user.username},t&&{term:t});return{name:"user.profile.".concat(e),params:s}}}},gt=ft,bt=Object(L.a)(gt,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex--dir-col size--all-s"},e._l(e.links,(function(s){return t("RouterLink",{directives:[{name:"track",rawName:"v-track:[link.track].click-ga",arg:s.track,modifiers:{"click-ga":!0}}],key:s.key,staticClass:"navDropDown-link lbox--v-8 lbox--f text--b",attrs:{"exact-active-class":"navDropDown-link--selected",to:s.to},nativeOn:{click:function(t){return e.popover.close()}}},[t("span",{staticClass:"lbox--h-4"},[t("BaseIcon",{attrs:{name:s.icon}})],1),e._v(" "+e._s(s.text)+" ")])})),1)}),[],!1,null,null,null).exports,yt=s(535).a,_t=Object(L.a)(yt,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"navDropDown-footer"},[t("button",{directives:[{name:"track",rawName:"v-track:logout.click-ga",arg:"logout",modifiers:{"click-ga":!0}}],staticClass:"clickable box--all-i width--all-12 text--b text--color-navDropDownPrimary hAlign--all-c size--all-s",attrs:{type:"button"},on:{click:e.logout}},[t("span",{staticClass:"lbox--v-8"},[t("BaseIcon",{attrs:{name:"logout"}}),t("span",{staticClass:"space--l-2"},[e._v(e._s(e.label))])],1)])])}),[],!1,null,null,null).exports;const wt="UserConversationList",kt="UserNotificationList",Ct="UserProfileLinks",xt={[wt]:"UserConversationFooter",[kt]:"UserNotificationFooter",[Ct]:"UserProfileFooter"};var Ot={components:{CircleLabel:ce.a,UserAvatarLegacy:ge.a,UserDropdownHeader:me,UserDropdownTabs:vt,UserProfileLinks:bt,UserProfileFooter:_t,UserConversationList:He,UserConversationFooter:fe,UserNotificationList:lt,UserNotificationFooter:et},mixins:[Ye.a,Xe,ut],data(){const e=[{id:wt,class:"",icon:"mail"},{id:kt,class:"",icon:"bell"},{id:Ct,class:"",icon:"person"}];return{dropdownActive:!1,tabs:e,selected:e[e.length-1].id}},computed:Object.assign({},Object(ne.c)("auth",{currentUser:"me"}),Object(ne.e)("features",{canAccessAdmin:(e,t)=>t.get("adminTools.enabled")}),Object(ne.e)("auth",{conversationCounts:e=>e.conversationCounts,notificationCounts:e=>e.notificationCounts,unseenTotal:(e,t)=>t.unseenTotal}),{notificationTotal(){return Object(ue.e)(this.unseenTotal)},showNotificationTotal(){return this.$breakpoint.smAndDown&&this.notificationTotal},adminUrl:()=>"/admin",selectedContent(){return this.$breakpoint.mdAndUp?"UserProfileLinks":this.selected},selectedFooter(){return this.$breakpoint.mdAndUp?xt.UserProfileLinks:xt[this.selected]},priorityTabId(){return this.notificationCounts.new?kt:this.conversationCounts.unseen?wt:Ct},tabsWithCounts(){const e={[wt]:this.conversationCounts.unread,[kt]:this.notificationCounts.unread,[Ct]:0};return this.tabs.map((t=>Object.assign({},t,{count:e[t.id]})))}}),watch:{showNotificationTotal:{handler(){this.$breakpoint.mdAndUp||this.dropdownActive||this.selectTabId(this.priorityTabId)},immediate:!0}},methods:{selectTabId(e){this.selected=e},closePopover(){var e;null===(e=this.$refs.popover)||void 0===e||e.close()}}},St=Object(L.a)(Ot,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"navDropDown"},[t("button",{directives:[{name:"popover",rawName:"v-popover.s.fixed",modifiers:{s:!0,fixed:!0}},{name:"track",rawName:"v-track:userDropdown.click-ga",value:{tab:e.selectedContent},expression:"{ tab: selectedContent }",arg:"userDropdown",modifiers:{"click-ga":!0}}],staticClass:"navDropDown-trigger aGrid"},[t("UserAvatarLegacy",{staticClass:"js-avatar navDropDown-avatar",class:{"avatar--type-nav--selected js-navDropDown-avatar-selected":e.dropdownActive},attrs:{size:"nav",user:e.currentUser,lazy:!1}}),e.showNotificationTotal?t("CircleLabel",{staticClass:"js-notifications-counter textBadge--notifications notification-count--fixed",attrs:{mode:"alert",size:"s"}},[e._v(" "+e._s(e.notificationTotal)+" ")]):e._e(),t("BasePopover",{ref:"popover",attrs:{"layer-class":"popover--menu popover--border-navDropDownPrimary popover--arrow-navDropDownPrimary","content-class":"",width:"290",active:e.dropdownActive},on:{"update:active":function(t){e.dropdownActive=t}},scopedSlots:e._u([{key:"default",fn:function({close:s}){return[t("UserDropdownHeader",{attrs:{"close-button":e.$breakpoint.xsOnly},on:{close:s},scopedSlots:e._u([{key:"default",fn:function(){return[e.$breakpoint.mdAndUp?t("span",{staticClass:"flex flex--1 boxAlign-jc--all-c"},[e.canAccessAdmin?[t("a",{staticClass:"linkPlain",attrs:{href:e.adminUrl,target:"_blank"}},[e._v(" "+e._s(e.currentUser.username)+" ")])]:[e._v(" "+e._s(e.currentUser.username)+" ")]],2):[t("UserDropdownTabs",{staticClass:"space--mr-3",attrs:{tabs:e.tabsWithCounts,"selected-value":e.selected},on:{"update:selectedValue":function(t){e.selected=t},"update:selected-value":function(t){e.selected=t}}})]]},proxy:!0}],null,!0)}),t(e.selectedContent,{tag:"Component",attrs:{user:e.currentUser}}),e.selectedFooter?t(e.selectedFooter,{tag:"Component",attrs:{user:e.currentUser}}):e._e()]}}])})],1)])}),[],!1,null,null,null).exports,jt={components:{GuardedLink:s(597).a,BaseButton:ee.a},computed:Object.assign({},Object(ne.e)("features",{navigation:e=>{var t,s;return(null===(t=e.flags)||void 0===t||null===(s=t.navigation)||void 0===s?void 0:s.submissions)||{}}}),{tag(){var e;return null!==(e=this.navigation)&&void 0!==e&&e.errorMessage?"button":"GuardedLink"}}),methods:{warnUnauthorizedAccess(e){var t,s,a;if(null===(t=this.navigation)||void 0===t||!t.errorMessage)return;e.preventDefault(),e.stopImmediatePropagation();const n={type:"error",title:null===(s=this.navigation)||void 0===s?void 0:s.errorMessage.title,message:null===(a=this.navigation)||void 0===a?void 0:a.errorMessage.body};this.$store.dispatch("pageMsgs/add",n)},guard:()=>({login:{source:"thread_add",trackAction:"goto_submission_add"}})}},At=Object(L.a)(jt,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"navDropDown nav-hideSearch"},[t(e.tag,{directives:[{name:"track",rawName:"v-track:addThreadDropdown.click.click-ga",arg:"addThreadDropdown",modifiers:{click:!0,"click-ga":!0}}],tag:"Component",staticClass:"button button--type-primary button--mode-brand button--shape-circle button--toW5-square space--ml-2",attrs:{to:{name:"threads.add"},title:"Lägg upp",guard:e.guard()},on:{click:e.warnUnauthorizedAccess}},[t("BaseIcon",{attrs:{name:"plus"}}),t("span",{staticClass:"hide--toW5 space--ml-2"},[e._v(e._s("Lägg upp"))])],1)],1)}),[],!1,null,null,null).exports,Bt=s(0),It=s.n(Bt),Lt={components:{UserConversationDropdown:Qe,UserNotificationDropdown:pt,UserProfileDropdown:St,ThreadSubmissionDropdown:At,LoginButton:le,BaseButton:ee.a},computed:Object.assign({},Object(ne.e)("auth",{loggedIn:(e,t)=>t.loggedIn}),{submitRight(){return this.$breakpoint.mdAndUp}}),async created(){this.loggedIn?Object(re.c)():Object(re.a)()},setup(){const{openSearchOnMobile:e,closeSearchOnMobile:t}=Object(E.b)();return{openSearchOnMobile:e,closeSearchOnMobile:t}},methods:{closePopovers(){var e,t,s;null===(e=this.$refs.UND)||void 0===e||e.closePopover(),null===(t=this.$refs.UPD)||void 0===t||t.closePopover(),null===(s=this.$refs.UCD)||void 0===s||s.closePopover()},search(){this.openSearchOnMobile();document.querySelector(".nav").addEventListener("autoSuggestClosed",(()=>{this.closeSearchOnMobile()}),{once:!0}),It()(".popover--mainNav").trigger("layer-destroy")}}},Pt=Object(L.a)(Lt,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"lbox--v-9 vue-rendered"},[t("BaseButton",{staticClass:"nav-hideSearch hide--fromW3",attrs:{variant:"primary",mode:"white",square:"","aria-label":"Hitta"},on:{click:e.search}},[t("BaseIcon",{attrs:{name:"search"}})],1),e.loggedIn?[t("UserConversationDropdown",{ref:"UCD",staticClass:"space--ml-2"}),t("UserNotificationDropdown",{ref:"UND",staticClass:"space--ml-2"}),t("UserProfileDropdown",{ref:"UPD",staticClass:"space--ml-2"})]:t("LoginButton",{staticClass:"space--ml-2"}),e.submitRight?t("ThreadSubmissionDropdown"):e._e()],2)}),[],!1,null,null,null).exports,Et=Object(a.defineComponent)({__name:"site-navigation-menu-voucher-codes-content",props:{merchantLinks:null},setup:e=>({__sfc:!0,staticMainLinks:{merchants:{name:"merchant.list",label:"Alla säljare"},vouchers:{name:"vouchers",label:"Rabattkoder"},groups:{name:"groups.overview",label:"Alla kategorier"},guides:{name:"guides.listing",label:"Köparguider"},discussions:{name:"discussions",label:"Diskussioner"}},BaseButton:ee.a})}),Tt=Object(L.a)(Et,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"space--t-2 space--b-3"},[e.merchantLinks&&e.merchantLinks.length>0?[t("ul",{staticClass:"navMenu-list size--all-m"},e._l(e.merchantLinks,(function(a){return t("li",{key:a.merchantId,staticClass:"iGrid-item width--all-6"},[t(s.BaseButton,{directives:[{name:"track",rawName:"v-track:merchantLink.click",value:{id:a.merchantId},expression:"{ id: merchant.merchantId }",arg:"merchantLink",modifiers:{click:!0}}],staticClass:"boxAlign-jc--all-fs width--all-12 space--r-1",attrs:{variant:"text",mode:"white",to:{name:"merchants.show",params:{merchantUrlName:a.merchantUrlName}}}},[e._v(" "+e._s(a.merchantName)+" ")])],1)})),0),t(s.BaseButton,{staticClass:"space--ml-3 space--mt-2",attrs:{variant:"secondary",mode:"white",to:{name:s.staticMainLinks.vouchers.name}}},[e._v(" "+e._s("Visa alla rabattkoder")+" ")])]:e._e()],2)}),[],!1,null,null,null).exports,Mt=s(599),Nt=s(71),Ut=s(532),Dt=s(24),Rt=Object(a.defineComponent)({__name:"site-navigation-menu",props:{routeData:null,params:{default:()=>({disableStickyHeader:!1})}},setup(e,t){let{expose:s}=t;const n=e,{closeSearchOnMobile:r}=Object(E.b)(),i={merchants:{name:"merchant.list",label:"Alla säljare"},vouchers:{name:"vouchers",label:"Rabattkoder"},groups:{name:"groups.overview",label:"Alla kategorier"},guides:{name:"guides.listing",label:"Köparguider"},discussions:{name:"discussions",label:"Diskussioner"}},o=Object(Nt.c)(),c=Object(a.ref)(!1),u=Object(a.ref)(!1),d=Object(a.ref)(null),p=Object(a.ref)(null),h=Object(a.ref)(null),m=Object(a.computed)((()=>n.routeData.siteNav.data.value)),v=Object(a.computed)((()=>n.routeData.siteNavMenus.data.value)),f=Object(a.computed)((()=>{const{userPreferences:e,main:{links:t}}=m.value;return t.map((t=>{const s=G(t,e);return Object.assign({},t,{url:s})}))})),g=Object(a.computed)((()=>f.value.slice(0,0))),b=Object(a.computed)((()=>o.lgAndUp?g.value:[])),y=Object(a.computed)((()=>b.value.some((e=>Y())))),_=Object(a.computed)((()=>f.value.slice(b.value.length))),w=Object(a.computed)((()=>{const e=0>=f.value.length;return"space--t-2 space--b-3 overflow--wrap-on height--all-full overflow--scrollY overscroll--containY ".concat(e?"space--fromW4-t-0":"")})),k=Object(a.computed)((()=>{var e;return(null===(e=v.value)||void 0===e?void 0:e.features.navigation.topMenu.mascotCardsExplanationLink)||!1})),C=Object(a.computed)((()=>{var e;return(null===(e=v.value)||void 0===e?void 0:e.features.snow)||!1})),x=Object(a.computed)((()=>{const{disableStickyHeader:e}=n.params;return"popover--mainNav ".concat(e?"":"zIndex--fixed")})),O=Object(a.computed)((()=>" ".concat(x.value))),S=Object(a.computed)((()=>" ".concat(x.value))),j=Object(a.computed)((()=>{const e=o.smAndDown?{offset:-8}:{};return[{preset:"menu",maxHeight:"100%",width:460,bottom:{offset:10},top:{target:".nav-content"},left:Object.assign({target:".navMenu"},e),maxWidth:"100%"}]})),A=Object(a.computed)((()=>[{preset:"menu",width:375,top:{target:".nav-content"},right:{target:".navMenu"},left:{target:".navMenu"}}])),B=Object(a.computed)((()=>({"":v.value}))),I=Object(a.computed)((()=>"Meny"));function L(){var e,t,s;null===(e=d.value)||void 0===e||e.close(),null===(t=p.value)||void 0===t||t.close(),null===(s=h.value)||void 0===s||s.closePopovers()}return s({closePopovers:L}),Object(a.onUpdated)((()=>{C.value&&Object(Mt.d)()})),{__sfc:!0,props:n,closeSearchOnMobile:r,isWhiteLabelEnabled:false,isHomeLinkVisible:!0,siteName:"Pepperdeals.se",outsideLinkCount:0,staticMainLinks:i,breakpoint:o,isVisible:c,isVoucherCodesPopoverVisible:u,mainMenuPopover:d,voucherCodesPopover:p,userNavMenu:h,siteNav:m,siteNavMenus:v,mainLinks:f,outOfMenuStaticLinks:g,outOfMenuLinks:b,isVoucherCodesOutsideOfMenu:y,menuLinks:_,popoverContainerClasses:w,isMascotcardsExplanationEnabled:k,isSnowEnabled:C,popoverLayerClass:x,popoverLayerClassVoucherCodes:O,popoverLayerClassMainMenu:S,popoverLayout:j,popoverVoucherCodesLayout:A,siteNavigationCeptClass:B,menuLabel:I,closePopovers:L,SiteSearch:U,SiteNavigationMenuContent:ae,UserNavigationMenu:Pt,ThreadSubmissionDropdown:At,SiteNavigationMenuVoucherCodesContent:Tt,BaseButton:ee.a,isPopover:K,isHomeLink:J,isHomeRoute:l.e,vPopover:Ut.e,BasePopover:Ut.a,PopoverBody:Ut.b,isBot:Dt.b}}}),qt=(s(604),Object(L.a)(Rt,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"nav",class:s.siteNavigationCeptClass},[t("div",{staticClass:"page-navigation page-center nav-content flex boxAlign-jc--all-sb"},[t("div",{staticClass:"navMenu lbox--v-9 space--fromW3-r-2"},[t("div",{directives:[{name:"show",rawName:"v-show",value:s.breakpoint.lgAndUp&&s.outOfMenuLinks.length,expression:"breakpoint.lgAndUp && outOfMenuLinks.length"}],staticClass:"flex"},[e._l(s.outOfMenuStaticLinks,(function(a,n){return[s.isHomeLink(a)&&s.isHomeLinkVisible?t(s.BaseButton,{directives:[{name:"track",rawName:"v-track:homeLink.click",arg:"homeLink",modifiers:{click:!0}}],key:a.key,staticClass:"space--h-2",attrs:{variant:"text",mode:"white",rel:"home",selected:s.isHomeRoute(),to:a.url}},[e._v(" "+e._s("Allt")+" ")]):s.isPopover(a)?t(s.BaseButton,{directives:[{name:"track",rawName:"v-track:toggleVoucherCodes.click",arg:"toggleVoucherCodes",modifiers:{click:!0}},{name:"popover",rawName:"v-popover:voucherCodesPopover",value:s.popoverVoucherCodesLayout,expression:"popoverVoucherCodesLayout",arg:"voucherCodesPopover"}],key:a.key,staticClass:"navMenu-trigger space--h-2",attrs:{type:"button",selected:s.isVoucherCodesPopoverVisible,variant:"tertiary",mode:"white"}},[t("span",{staticClass:"navMenu-page nav-link-text vAlign--all-m"},[e._v(" "+e._s(a.label)+" ")]),t("BaseIcon",{staticClass:"button--dropdown-icon space--ml-2",attrs:{name:"dropdown"}})],1):s.isHomeLink(a)?e._e():t("RouterLink",{directives:[{name:"track",rawName:"v-track:[link.trackName].click",arg:a.trackName,modifiers:{click:!0}}],key:a.key,staticClass:"button button--type-text button--mode-white space--h-2",class:{"space--r-3":n===s.outOfMenuLinks.length-1},attrs:{"active-class":"button--selected",to:a.url}},[e._v(" "+e._s(a.label)+" ")])]}))],2),t(s.BaseButton,{directives:[{name:"track",rawName:"v-track:toggleMainMenu.click",arg:"toggleMainMenu",modifiers:{click:!0}},{name:"popover",rawName:"v-popover:mainMenuPopover",value:s.popoverLayout,expression:"popoverLayout",arg:"mainMenuPopover"}],staticClass:"navMenu-trigger button--toW3-square space--fromW3-ml-0",class:{"button--selected":s.isVisible},attrs:{type:"button",variant:"tertiary",mode:"white",circle:""}},[e.$breakpoint.smAndDown?[t("BaseIcon",{staticClass:"navMenu-hamburger",attrs:{name:"menu"}}),t("BaseIcon",{staticClass:"navMenu-close aGrid-item",attrs:{name:"cross"}})]:e._e(),e.$breakpoint.mdAndUp?[t("span",{staticClass:"navMenu-page nav-link-text vAlign--all-m"},[e._v(" "+e._s(s.menuLabel)+" ")]),t("BaseIcon",{staticClass:"button--dropdown-icon space--ml-2",attrs:{name:"dropdown"}})]:e._e()],2),t(s.BasePopover,{ref:"mainMenuPopover",attrs:{active:s.isVisible,"layer-class":s.popoverLayerClassMainMenu,classes:{container:s.popoverContainerClasses},"pre-render":""},on:{"update:active":function(e){s.isVisible=e}},scopedSlots:e._u([{key:"default",fn:function({}){return[t(s.PopoverBody,{attrs:{space:!1}},[s.siteNavMenus?t(s.SiteNavigationMenuContent,{attrs:{"main-links":s.menuLinks,"event-links":s.siteNavMenus.events,"merchant-links":s.siteNavMenus.merchants,"thread-groups":s.siteNavMenus.groups,"is-mascotcards-explanation-enabled":s.isMascotcardsExplanationEnabled,"enable-snow":s.isSnowEnabled,"hide-voucher-codes-section":s.isVoucherCodesOutsideOfMenu,"user-preferences":s.siteNav.userPreferences}}):e._e()],1)]}}])}),s.isWhiteLabelEnabled?t(s.BasePopover,{ref:"voucherCodesPopover",attrs:{active:s.isVoucherCodesPopoverVisible,"layer-class":s.popoverLayerClassVoucherCodes,classes:{container:s.popoverContainerClasses},"pre-render":""},on:{"update:active":function(e){s.isVoucherCodesPopoverVisible=e}},scopedSlots:e._u([{key:"default",fn:function({}){return[t(s.PopoverBody,{attrs:{space:!1}},[s.siteNavMenus?t(s.SiteNavigationMenuVoucherCodesContent,{attrs:{"merchant-links":s.siteNavMenus.merchants}}):e._e()],1)]}}],null,!1,1787238530)}):e._e(),e.$breakpoint.smAndDown?t(s.ThreadSubmissionDropdown):e._e(),s.isBot&&s.siteNavMenus?t("span",{staticClass:"hide"},[s.isWhiteLabelEnabled?e._e():t("RouterLink",{attrs:{to:{name:s.staticMainLinks.merchants.name}}},[e._v(" "+e._s(s.staticMainLinks.merchants.label)+" ")])],1):e._e()],1),e._t("logo",(function(){return[t("RouterLink",{directives:[{name:"track",rawName:"v-track:homeLink.click",arg:"homeLink",modifiers:{click:!0}}],staticClass:"nav-logo nav-hideSearch flex flex--shrink-0 boxAlign-as--all-c text--h space--mr-2",attrs:{rel:"home",to:{name:"index"}}},[e._v(" "+e._s(s.siteName)+" ")])]})),t("div",{staticClass:"nav-search flex--fromW3 boxAlign-ai--all-c boxAlign-jc--all-fe space--h-2 space--fromW3-h-2 width--all-12 zIndex--popover space--l-2"},[t(s.SiteSearch,{staticClass:"nav-searchContainer width--all-12"}),e.$breakpoint.smAndDown?t(s.BaseButton,{staticClass:"nav-searchCloseBtn",attrs:{variant:"primary",mode:"white",square:"",size:"m"},on:{click:s.closeSearchOnMobile}},[t("BaseIcon",{attrs:{name:"cross"}})],1):e._e()],1),t(s.UserNavigationMenu,{ref:"userNavMenu",staticClass:"nav-search--navigation nav-hideSearch"})],2)])}),[],!1,null,null,null).exports),zt=s(575),Ht=Object(a.defineComponent)({__name:"the-header",props:{routeData:null,disableStickyHeader:{type:Boolean,default:!1}},setup(e){const t=e,s=Object(a.ref)(),n=()=>{s.value.closePopovers()},r=Object(a.computed)((()=>[h.value?"":"mute--opacity-0 pointerEvents--none",t.disableStickyHeader?"aGrid zIndex--popover":"aGrid--sticky width--all-12 forceLayer zIndex--fixed"])),{speed:i,top:o,direction:l}=Object(zt.a)(),c=Object(a.computed)((()=>o.value<=56)),u=Object(a.computed)((()=>o.value>71)),d=Object(a.computed)((()=>i.value>1e3));function p(){return!!c.value||(!("up"!==l.value||!d.value)||("down"!==l.value||!u.value)&&null)}const h=Object(a.ref)(!0);return Object(a.watch)([d,l,u,c],(()=>{const e=p();null!==e&&(h.value=e,h.value||n())})),{__sfc:!0,props:t,siteNav:s,closeInnerPopovers:n,wrapperClass:r,speed:i,top:o,direction:l,inVisibleArea:c,HIDE_OFFSET_PX:15,isAwayFromVisibleArea:u,isSpeedy:d,getNewVisibility:p,isVisible:h,SiteNavigationMenu:qt}}}),$t=(s(605),Object(L.a)(Ht,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("header",{directives:[{name:"track",rawName:"v-track:nav",arg:"nav"}],staticClass:"header aGrid-item--t-0",class:s.wrapperClass,attrs:{role:"banner"}},[t(s.SiteNavigationMenu,{ref:"siteNav",attrs:{"route-data":e.routeData,"disable-sticky-header":e.disableStickyHeader}})],1)}),[],!1,null,null,null).exports),Wt=s(554),Ft=s(600);function Vt(e){e&&function(e,t){if(window._atatusConfig||!e||!t)return;window._atatusConfig={apikey:e};const s=document.createElement("script");s.async=!0,s.src="https://dmc1acwvwny3.cloudfront.net/atatus.js",s.addEventListener("load",(()=>{var e;null===(e=window.atatus)||void 0===e||e.setUser(t.userId,t.email,t.username)}),!1),document.head.appendChild(s)}(e.apiKey,n.a.getters["auth/me"])}var Gt=Object(a.defineComponent)({__name:"base-layout",props:{routeData:null,twig:{type:Boolean},disableStickyHeader:{type:Boolean},hideFooter:{type:Boolean}},setup(e){const t=e,c=Object(a.computed)((()=>t.routeData.survey.data.value)),u=Object(a.computed)((()=>t.routeData.csatSurvey.data.value)),m=Object(a.computed)((()=>t.routeData.pushNotifications.data.value)),v=Object(a.computed)((()=>t.routeData.cookiePolicy.data.value)),{showCookiesMessage:_}=Object(h.b)(v);Object(Ft.a)(),Vt(t.routeData.atatus.data.value),Object(Wt.b)(m);const{pushSupported:w}=Object(Wt.a)();var k,C;(Object(i.b)((()=>t.routeData.hotJar.data.value)),Object(p.b)(!1),function(){d(Object(o.a)());const e=Object(l.h)((e=>{d(e)}));Object(a.onUnmounted)(e)}(),f((()=>t.routeData.npsData.data.value)),t.twig)||(null===(k=document.getElementById("app-skeleton"))||void 0===k||k.remove(),C=()=>t.routeData.latestSiteMessage.data.value,Object(r.e)(C,(e=>{e&&n.a.dispatch("pageMsgs/add",Object.assign({context:":admin"},e))})));return{__sfc:!0,CsatSurvey:()=>s.e(41).then(s.bind(null,1247)),BaseSurvey:()=>s.e(147).then(s.bind(null,1329)),CookiesMessage:()=>s.e(40).then(s.bind(null,1265)),TheFooter:()=>s.e(148).then(s.bind(null,689)),PushNotifications:()=>s.e(42).then(s.bind(null,1266)),props:t,survey:c,csat:u,pushNotifications:m,cookiePolicy:v,showCookiesMessage:_,pushSupported:w,TwigPortal:g.a,PageMessages:b.a,IntersectionBoundary:y.a,TheHeader:$t}}}),Kt=Object(L.a)(Gt,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"box--contents"},[t(s.IntersectionBoundary,{attrs:{viewport:"",name:"viewport"}}),e.twig?[t(s.TwigPortal,{attrs:{to:"#pageMsgPortal"}},[t(s.PageMessages)],1),t(s.TwigPortal,{attrs:{to:"#header-portal",disabled:""}},[t(s.TheHeader,{attrs:{"disable-sticky-header":e.disableStickyHeader,"route-data":e.routeData.header}})],1),e._t("default"),e.hideFooter?e._e():t(s.TwigPortal,{attrs:{to:"#footer-portal",lazy:""}},[t(s.TheFooter)],1)]:[t(s.PageMessages),t(s.TheHeader,{attrs:{"disable-sticky-header":e.disableStickyHeader,"route-data":e.routeData.header}}),t("div",{staticClass:"flex--expand-v"},[e._t("default")],2),t("div",{attrs:{id:"footer-container"}},[t(s.TheFooter)],1)],s.showCookiesMessage?t(s.CookiesMessage,{attrs:{settings:s.cookiePolicy}}):e._e(),s.survey?t(s.BaseSurvey,{attrs:{survey:s.survey}}):e._e(),s.csat?t(s.CsatSurvey,{attrs:{survey:s.csat}}):e._e(),s.pushNotifications&&s.pushSupported()?t(s.PushNotifications):e._e()],2)}),[],!1,null,null,null).exports,Xt=s(595),Yt=s(28);const Jt=Object(k.c)({queries:[C.H,C.p],merge:!0}),Qt=Object(k.c)({queries:[C.eb],merge:!0}),Zt=["THREAD_SUBMISSION"],es=e=>/ABANDONED/.test(e),ts={},ss=async(e,t)=>{if(Zt.every(es))return null;const{name:s,title:a}=await((e,t)=>Qt({id:e,CSATSurveyTypes:t}).then((e=>e.request)).then((e=>{let{showCSAT:t}=e;return t})))(e,t);return ts[s]&&await Object(Yt.d)(ts[s]),s?{name:s,title:a}:null},as=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;const s=(()=>{const e=localStorage.getItem("formAbandoned");if(Zt.some(es)&&e){const t=Number(localStorage.getItem("formAbandonedTimer"));localStorage.removeItem("formAbandoned"),localStorage.removeItem("formAbandonedTimer");const s=localStorage.getItem("surveyShownTime"),a=s?new Date(s).getTime():0,n=Date.now();if(n-a>864e5&&n-t<6e5)return localStorage.setItem("surveyShownTime",String(n)),{name:e,title:"Du har avbrutit att lägga upp din deal eller rabbattkod. Generellt, hur nöjd var du med inlämningsformuläret?"}}return null})()||await ss(e,t);return s?{name:s.name,title:s.title,threadId:e}:null};var ns=s(594);const rs=Object(k.c)({queries:[C.V],merge:!0}),is=()=>rs({}).then((e=>e.request)).then((e=>{var t;let{features:s,settings:a}=e;return{enabled:null==s?void 0:s.nps,token:null==a||null===(t=a.nps)||void 0===t?void 0:t.token}})),os=Object(k.c)({queries:[C.gb],merge:!0}),ls=Object(k.c)({queries:[C.hb],merge:!0}),cs=e=>{let{beforeEnter:t,afterEnter:s,path:a}=e;return{siteNav:t(((e,t)=>t?t.navigation:function(){return os(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{default:!0}).then((e=>e.request)).then((e=>e.navigation))}()),[a]),siteNavMenus:s((()=>async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{default:!0};const t=await ls(e),{navigation:s,groups:a,features:n}=await t.request;return Object.assign({},s,{groups:a,features:n})}()),[a])}};var us=s(552);const ds=function(e){let{CsatSurveyTypes:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{beforeEnter:s,afterEnter:a,path:n,param:r}=e;return{latestSiteMessage:s(((e,t)=>t?t.latestSiteMessage:Object(Xt.b)()),[n]),cookiePolicy:s(((e,t)=>t?t.features.cookiePolicy:Object(ns.a)()),[n]),atatus:s(((e,t)=>t?t.atatus:Object(k.c)({queries:[C.d],merge:!0})({}).then((e=>e.request)).then((e=>{let{features:t}=e;return t.atatus}))),[n]),survey:a((e=>async function(e){const t=Object(k.c)({queries:[C.ib],merge:!0}),s=await t({path:e}).then((e=>e.request)).then((e=>e.survey));return null!=s&&s.delay&&await Object(Yt.d)(1e3*s.delay),s}(e)),[n]),hotJar:a((()=>Jt({}).then((e=>e.request)).then((e=>{let{settings:t,features:s}=e;return{hotJar:t.hotJar,features:s}}))),[n]),csatSurvey:a(((e,s)=>{let{cookiePolicy:a}=s;return a.data.value.allowTracking?as(r("threadId").value,t):null}),[n]),npsData:a(is,[n]),header:cs(e),pushNotifications:a((()=>Object(us.a)()),[n])}}},528:function(e,t,s){"use strict";var a=s(5),n=Object(a.defineComponent)({__name:"user-persona",props:{user:null,iconOnly:{type:Boolean,default:!0},invert:{type:Boolean,default:!1},isBadge:{type:Boolean,default:!1}},setup(e){const t=e,s={suspended:"lock",banned:"ban",deleted:"circlex",pending_deletion:"circlex",verified:"verified",merchant:"merchant-rounded",editor_assistant:"editor-assistant",super_poster:"super"},n=["editor_assistant","super_poster"],r=Object(a.computed)((()=>t.user.persona&&t.user.persona.type in s)),i=["banned","suspended","pending_deletion","deleted"],o=Object(a.computed)((()=>"super_poster"===t.user.title)),l=Object(a.computed)((()=>t.user.persona.type.includes("merchant"))),c=Object(a.computed)((()=>n.includes(t.user.title)?t.user.title:t.user.persona.type)),u=Object(a.computed)((()=>s[c.value])),d=Object(a.computed)((()=>i.indexOf(t.user.persona.type)>-1)),p=Object(a.computed)((()=>t.invert||!d.value)),h=Object(a.computed)((()=>o.value?"super_poster":d.value?"warning":l.value?"merchant":"default")),m={warning:["text--color-greyShade","text--color-brandPrimary"],default:["text--color-greyShade","text--color-brandPrimary"],merchant:["text--color-greyShade","text--color-partnerLabelPrimary"]},v=Object(a.computed)((()=>{var e,t;return null!==(e=(null!==(t=m[h.value])&&void 0!==t?t:[])[p.value?1:0])&&void 0!==e?e:""})),f={super_poster:"user-persona--super size--all-s text--truncate",default:"size--all-xs"},g=Object(a.computed)((()=>"super_poster"===h.value?f[h.value]:f.default));return{__sfc:!0,props:t,iconMap:s,rolesWithBadgeOverride:n,enabled:r,warningPersonas:i,isSuperPoster:o,isMerchant:l,iconNameKey:c,iconName:u,warning:d,shouldInvert:p,mode:h,buttonClassesMap:m,buttonClasses:v,textClassesMap:f,textClasses:g}}}),r=s(44),i=Object(r.a)(n,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return s.enabled?t("span",{staticClass:"lbox",class:{"textBadge textBadge--icon bg--em":!s.isSuperPoster&&e.isBadge}},[t("span",{staticClass:"lbox--h-small flex cursor-default",class:s.buttonClasses},[t("BaseIcon",{class:{"text--color-purple":s.isSuperPoster},attrs:{name:s.iconName,small:!s.isSuperPoster}})],1),e.iconOnly?e._e():t("span",{staticClass:"space--ml-1 text--b text--color-charcoalTint",class:s.textClasses},[e._v(" "+e._s(e.user.persona.text)+" ")])]):e._e()}),[],!1,null,null,null);t.a=i.exports},529:function(e,t,s){"use strict";var a=s(536),n=s(105),r={props:{user:{type:Object,default:null},size:{type:String,default:"m"},lazy:{type:Boolean,default:!0}},computed:{username(){var e;return(null===(e=this.user)||void 0===e?void 0:e.username)||""},src(){if(Object(a.a)(this.user))return Object(a.d)(this.size);switch(this.size){case"m":case"xl":case"nav":return Object(n.b)(this.user.imageUrls,"default","user_small_avatar",Object(a.d)(this.size));default:return Object(n.b)(this.user.imageUrls,"default","user_small_listing_avatar",Object(a.d)(this.size))}},classObject(){return{"avatar--type-s":"s"===this.size,"avatar--type-m":"m"===this.size,"avatar--type-xl":"xl"===this.size,"avatar--type-nav":"nav"===this.size}}}},i=s(44),o=Object(i.a)(r,(function(){var e=this;return(0,e._self._c)("img",{staticClass:"avatar",class:e.classObject,attrs:{src:e.src,loading:e.lazy?"lazy":"eager",alt:e.$t(":username avatar",{replaces:{username:e.username}})}})}),[],!1,null,null,null);t.a=o.exports},530:function(e,t,s){"use strict";var a=s(15);t.a=(e,t,s)=>({namespaced:s,state:{items:a.a.normalize([e],t)},getters:{get:()=>t=>a.a.getEntity(e,t),items:e=>e.items},actions:{replace(e,t){let{commit:s}=e;s({type:"REPLACE",items:t})},push(e,t){let{commit:s,state:a}=e;s({type:"REPLACE",items:[...a.items,...t]})},remove(e,t){let{commit:s,state:a}=e;s({type:"REPLACE",items:a.items.filter((e=>!t.includes(e)))})},tearDown(t){let{state:s}=t;a.a.remove([e],s.items)}},mutations:{REPLACE(t,s){t.items=a.a.update([e],s.items,t.items)}}})},532:function(e,t,s){"use strict";var a=s(524);s.d(t,"e",(function(){return a.a}));var n=s(521);s.d(t,"a",(function(){return n.a}));var r=s(518);s.d(t,"d",(function(){return r.a}));var i=s(516);s.d(t,"b",(function(){return i.a}));s(523);var o=s(511);s.d(t,"c",(function(){return o.a}));s(519)},533:function(e,t,s){"use strict";s.d(t,"a",(function(){return m})),s.d(t,"b",(function(){return v})),s.d(t,"c",(function(){return g}));var a=s(5),n=s(528),r=s(94),i=s(509),o=Object(a.defineComponent)({__name:"site-search-history-item",props:{item:null},setup:e=>({__sfc:!0,removeFromSearchHistory:r.b,BaseButton:i.a})}),l=s(44),c=Object(l.a)(o,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("RouterLink",{staticClass:"flex boxAlign-ai--all-c space--v-2 space--h-3 autoSuggest-suggestion autoSuggest-suggestion--hoverHighlight",attrs:{to:e.item.route}},[t("BaseIcon",{staticClass:"space--mv-1 space--mh-1",attrs:{name:"history",left:"",size:"m",color:"greyShade"}}),e._t("default"),t(s.BaseButton,{attrs:{variant:"text",mode:"secondary",square:"",size:"s"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),s.removeFromSearchHistory(e.item)}}},[t("BaseIcon",{attrs:{name:"cross",width:"14",height:"14"}})],1)],2)}),[],!1,null,null,null).exports,u=Object(a.defineComponent)({__name:"site-search-history-item-user",props:{item:null},setup:e=>({__sfc:!0,UserPersona:n.a,SiteSearchHistoryItem:c})}),d=Object(l.a)(u,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.SiteSearchHistoryItem,{attrs:{item:e.item}},[t("span",{staticClass:"width--all-12 flex boxAlign-ai--all-bl overflow--hidden"},[t("span",{staticClass:"space--mr-1 size--all-s text--b text--color-charcoalTint"},[e._v(e._s(e.item.title))]),t(s.UserPersona,{staticClass:"space--mr-1 boxAlign-as--all-c",attrs:{user:e.item.payload.user}}),t("span",{staticClass:"size--all-xs text--color-greyShade"},[e._v(e._s(e.item.label))])],1)])}),[],!1,null,null,null).exports,p=Object(a.defineComponent)({__name:"site-search-history-item-default",props:{item:null},setup:e=>({__sfc:!0,SiteSearchHistoryItem:c})}),h=Object(l.a)(p,(function(){var e=this,t=e._self._c;return t(e._self._setupProxy.SiteSearchHistoryItem,{attrs:{item:e.item}},[t("span",{staticClass:"width--all-12 overflow--hidden overflow--ellipsis"},[t("span",{staticClass:"space--mr-1 size--all-s text--b text--color-charcoalTint"},[e._v(e._s(e.item.title))]),t("span",{staticClass:"size--all-xs text--color-greyShade"},[e._v(e._s(e.item.label))])])])}),[],!1,null,null,null).exports;let m=function(e){return e.USER="user",e.DEFAULT="default",e}({});const v={GROUP:"Kategori",DEAL:"Deal",VOUCHER:"Kupong",STORE_DEALS:"Butik / Deals",STORE_VOUCHERS:"Butik / Rabattkoder",STORE:"Butik",USER:"Medlem",EVENT:"Evenemang",ALL_RESULTS:"Alla resultat"},f={[m.USER]:d,[m.DEFAULT]:h},g=e=>(null==f?void 0:f[null==e?void 0:e.type])||f[m.DEFAULT]},534:function(e,t,s){"use strict";s.d(t,"a",(function(){return l})),s.d(t,"b",(function(){return f}));var a=s(5),n=s(1),r=s(571),i=s(533),o=function(e){return e.POPULAR_SEARCH="popular",e.SUGGESTIONS="suggestions",e.TOP_VOUCHERS="top_vouchers",e.TOP_DEALS="top_deals",e.USERS="users",e}(o||{});const l={STORE:"Butik",GROUP:"Kategori",USER:"Medlem",EVENT:"Evenemang"},c={[o.POPULAR_SEARCH]:{title:"Mest sökta kategorierna",seeMoreLink:{name:"groups.overview"},seeMoreHistoryLabel:i.b.ALL_RESULTS,component:()=>s.e(201).then(s.bind(null,710))},[o.SUGGESTIONS]:{title:"Förslag",component:()=>s.e(230).then(s.bind(null,708))},[o.TOP_VOUCHERS]:{title:"Rabattkoder",component:()=>s.e(35).then(s.bind(null,601))},[o.TOP_DEALS]:{title:"Deals",component:()=>s.e(35).then(s.bind(null,601))},[o.USERS]:{component:()=>s.e(206).then(s.bind(null,709))}},u=e=>({name:"threads.index.group",params:{slug:e.urlName}}),d=e=>{let{q:t}=e;return{name:"search",query:{q:t}}},p=(e,t)=>{if(!e)return;const{name:s,q:a,type:o}=e,l={Group:i.b.GROUP,Merchant:t?i.b.STORE_VOUCHERS:i.b.STORE_DEALS,Search:i.b.ALL_RESULTS},c={Group:s,Merchant:s,Search:a},p={Group:u,Merchant:e=>((e,t)=>{let{objectId:s,urlName:a}=e;return Object(r.a)({merchantId:s,merchantUrlName:a},t?n.Ab.Voucher:n.Ab.Deal)})(e,t),Search:d};return{route:p[o](e),label:l[o],title:c[o]}},h=e=>{var t;return null===(t=c[e])||void 0===t?void 0:t.component},m=e=>{var t;return null===(t=c[e])||void 0===t?void 0:t.title},v=e=>{var t;return null==e||null===(t=e.original)||void 0===t?void 0:t.type},f=()=>{const e=Object(a.ref)({}),t=Object(a.computed)((()=>Object.entries(c).reduce(((e,t)=>{let[s,a]=t;return a.seeMoreLink?(e[s]={title:a.title,route:a.seeMoreLink,label:a.seeMoreHistoryLabel},e):e}),{}))),s=Object(a.computed)((()=>Object.assign({},t.value,e.value)));return{SEARCH_BLOCKS:o,getComponentByType:h,getTitleByType:m,getType:v,openSearchOnMobile:()=>{document.querySelector(".nav").classList.add("nav--search")},closeSearchOnMobile:()=>{document.querySelector(".nav").classList.add("nav--search-hide"),setTimeout((()=>{document.querySelector(".nav").classList.remove("nav--search","nav--search-hide")}),500)},seeMoreLinks:s,updateSeeMoreLinks:t=>{let{dealsViewAll:s,vouchersViewAll:a}=t;e.value={[o.TOP_DEALS]:p(s),[o.TOP_VOUCHERS]:p(a,!0)}}}}},535:function(e,t,s){"use strict";(function(e){var a=s(153);t.a={props:{user:Object,required:!0},computed:{label(){return e("Logga ut",{replaces:{user:this.user.username}})}},methods:{logout:a.b}}}).call(this,s(70).translation)},536:function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return o})),s.d(t,"d",(function(){return c})),s.d(t,"e",(function(){return u})),s.d(t,"c",(function(){return d})),s.d(t,"f",(function(){return p}));var a=s(107),n=s(4),r=s(1);const i=e=>!e||!e.imageUrls||!0===e.isDeletedOrPendingDeletion,o=e=>n.a.getters["auth/me"]&&e.userId===n.a.getters["auth/me"].userId,l={s:"/assets/img/profile-listing-placeholder_fecff.png",m:"/assets/img/profile-comment-placeholder_1b5d6.png",l:"/assets/img/profile-placeholder_09382.png",fallback:"/assets/img/profile-placeholder_09382.png"},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"s";return e in l?l[e]:l.fallback},u=e=>Object(a.d)(e.images),d=e=>e.status===r.Gb.Unauthenticated,p=e=>o(e)||!(null!=e&&e.isUserProfileHidden||null!=e&&e.isDeletedOrPendingDeletion)?e.username:"Anonym användare"},538:function(e,t,s){"use strict";var a=s(5),n=s(28),r=s(240),i={__name:"twig-portal",props:{to:{type:String,required:!0},lazy:{type:Boolean}},setup(e){const t=e,s=Object(a.ref)(!t.lazy),i=document.querySelector(t.to);if(!i)throw Error("missing twig-portal target: ".concat(t.to));t.lazy&&(Object(n.b)().then((()=>s.value=!0)),Object(r.d)(i,(()=>s.value=!0),{rootMargin:"100px 0px 0px"}));const o=()=>{!i.hasAttribute("track-pass-by")&&s.value&&(i.setAttribute("track-pass-by",""),i.innerHTML="")};return Object(a.onBeforeMount)(o),Object(a.onBeforeUpdate)(o),{__sfc:!0,props:t,active:s,portalTarget:i,initPortalTarget:o}}},o=s(44),l=Object(o.a)(i,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return s.active?t("MountingPortal",{attrs:{"mount-to":s.props.to,append:"","target-slim":""}},[e._t("default")],2):e._e()}),[],!1,null,null,null);t.a=l.exports},540:function(e,t,s){"use strict";s.d(t,"c",(function(){return n})),s.d(t,"d",(function(){return r})),s.d(t,"a",(function(){return l})),s.d(t,"b",(function(){return c}));var a=s(5);const n={none:"",s:"button--size-s",m:"button--size-m",l:"button--size-l"},r={none:"",primary:"button button--shape-circle button--type-primary",secondary:"button button--shape-circle button--type-secondary",tertiary:"button button--shape-circle button--type-tertiary",text:"button button--type-text",tag:"button button--type-tag"},i={base:{brand:"button--mode-brand",success:"button--mode-success",danger:"button--mode-danger",info:"button--mode-info",warning:"button--mode-warning",white:"button--mode-white"},primary:{dark:"button--mode-dark",expired:"button--mode-expired"},secondary:{default:"button--mode-default"},tertiary:{default:"button--mode-default"},text:{primary:"button--mode-primary",secondary:"button--mode-secondary",white:"button--mode-white"},tag:{dark:"button--mode-dark",light:"button--mode-light"}};function o(e){const t=function(e){return"primary"===e||"secondary"===e||"tertiary"===e?i.base:{}}(e);return Object.assign({},t,i[e])}function l(e){return e.href?function(e){return Object(a.computed)((()=>({tag:"a",href:e.disabled?null:e.href})))}(e):e.to?function(e){return Object(a.computed)((()=>({tag:"router-link",to:e.to})))}(e):function(e){return Object(a.computed)((()=>({tag:"button",type:e.type||"button"})))}(e)}function c(e,t){return o(e)}},542:function(e,t,s){"use strict";var a=s(77),n={props:{orientation:{type:String,required:!0},visualization:{type:String,required:!1,default:"itemTypeB",validator:e=>Object.keys(a.a).includes(e)},carouselClass:{type:String,default:"space--fromW3-mh-6"},horizontalItemClass:{type:String,default:"carousel-list-item-height width--fromW3-4 width--fromW4-3 space--h-3"}},computed:{currentOrientation(){return{horizontal:"horizontal"===this.orientation,vertical:"vertical"===this.orientation}},asset(){return a.a[this.visualization]}}},r=s(44),i=Object(r.a)(n,(function(){var e=this,t=e._self._c;return t("div",[e.currentOrientation.horizontal?t("div",{staticClass:"carousel",class:e.carouselClass},e._l(4,(function(s){return t("div",{key:s,staticClass:"flex--inline boxAlign-ai--all-c carousel-list-item carousel-list-item-width",class:e.horizontalItemClass},[t("span",{staticClass:"skeleton"},[t("img",{staticStyle:{"max-width":"99%"},attrs:{src:e.asset.src,height:"100%"}})])])})),0):t("div",{staticClass:"flex flex--dir-col height--all-full"},e._l(4,(function(s){return t("div",{key:s,staticClass:"flex--inline boxAlign-ai--all-c card-space--h space--mb-4 carousel-list-item-height"},[t("span",{staticClass:"skeleton"},[t("img",{staticStyle:{"max-width":"99%"},attrs:{src:e.asset.src,height:"100%"}})])])})),0)])}),[],!1,null,null,null);t.a=i.exports},545:function(e,t,s){"use strict";var a=s(5),n=s(94),r=Object(a.defineComponent)({__name:"search-history-trigger",props:{item:null},setup(e){const t=e;return{__sfc:!0,props:t,saveToHistory:()=>{Object(n.c)(t.item)}}}}),i=s(44),o=Object(i.a)(r,(function(){var e=this;return(0,e._self._c)("div",{on:{click:e._self._setupProxy.saveToHistory}},[e._t("default")],2)}),[],!1,null,null,null);t.a=o.exports},55:function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"d",(function(){return o})),s.d(t,"b",(function(){return l})),s.d(t,"e",(function(){return u})),s.d(t,"f",(function(){return d})),s.d(t,"c",(function(){return p}));var a=s(4),n=s(24),r=s(21);const i="pepperdeals.se";async function o(e){if(window.dataLayer&&window.gtag)return;window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),function(){const{allowTracking:e,gaCookiesAsAnalytical:t,allowPersonalization:s}=a.a.getters["features/get"]("cookiePolicy");l("consent","default",{ad_storage:s?"granted":"denied",analytics_storage:t&&!e?"denied":"granted"})}();const t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?id=".concat(e),t.async=!0,document.head.appendChild(t)}function l(){if(window.gtag&&!n.b&&!Object(r.g)()){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];window.gtag.apply(null,t)}}function c(e,t){l("consent","update",{[e]:t?"granted":"denied"})}function u(e){c("ad_storage",e)}function d(e){a.a.getters["features/get"]("cookiePolicy.gaCookiesAsAnalytical")&&c("analytics_storage",e)}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l("config",e,Object.assign({cookie_domain:i||"auto",send_page_view:!1,transport_type:"beacon"},t))}},551:function(e,t,s){"use strict";var a={props:{suggestions:{type:Array,required:!0},highlighted:{type:Object,default:null},icon:{type:String,default:null},modifier:{type:String,default:"lBox--v-3"}},methods:{isHighlighted(e){return!!this.highlighted&&this.highlighted.value===e.value}}},n=s(44),r=Object(n.a)(a,(function(){var e=this,t=e._self._c;return t("ol",{},e._l(e.suggestions,(function(s,a){return t("li",{key:a,on:{mouseover:function(t){return e.$emit("highlight",s)},mousedown:function(t){return e.$emit("select",t,s)}}},[e._t("default",(function(){return[t("div",{staticClass:"autoSuggest-suggestion flex boxSec-div space--h-2 width--all-12 clickable overflow--hidden size--all-s",class:[{"autoSuggest-suggestion--selected":e.isHighlighted(s)},e.modifier],attrs:{title:s.text}},[e.icon?t("BaseIcon",{staticClass:"space--mr-1",attrs:{name:e.icon}}):e._e(),t("div",{staticClass:"text--lh-1-2 overflow--ellipsis overflow--hidden"},[e._v(" "+e._s(s.text)+" ")])],1)]}),{suggestion:s,isHighlighted:e.isHighlighted(s)})],2)})),0)}),[],!1,null,null,null);t.a=r.exports},552:function(e,t,s){"use strict";s.d(t,"d",(function(){return g})),s.d(t,"e",(function(){return b})),s.d(t,"c",(function(){return y})),s.d(t,"a",(function(){return _})),s.d(t,"f",(function(){return k})),s.d(t,"b",(function(){return C}));var a=s(4);const n="BI2Okr6GRkukBEg-4SdX1JcQ7h9yTbTixziXJYrIqJjkW76UIE8MPHYta39_um7CAMwghIZUAGXZJi88wqdCAyQ",r="/bpn/getRequestPermissionParams",i="/bpn/subscribe-vapid-endpoint";var o=s(95),l=s(150),c=s(554),u=s(8),d=s.n(u),p=s(1),h=s(6);const m=async()=>{const{eligibleForBrowserPushNotifications:e}=await Object(h.c)({queries:[p.Ib],merge:!0})({}).then((e=>e.request)).then((e=>e.visitor));return e};var v=function(e){return e.GUEST="guest",e.FORCED="bpn_forced",e.USER="user",e}(v||{});const f={[v.GUEST]:"guestBpnModalSeen",[v.USER]:"userBpnModalSeen",[v.FORCED]:"forcedBpnModalSeen"},g=()=>"serviceWorker"in navigator&&"PushManager"in window,b=()=>{const{pushType:e}=Object(c.a)();localStorage.setItem(f[e.value],"true")},y=()=>{const{pushType:e}=Object(c.a)();return localStorage.getItem(f[e.value])},_=async()=>{const{isLoggedIn:e}=Object(l.a)(),{state:t}=await navigator.permissions.query({name:"notifications"});if(e.value){return{pushType:await m()?v.USER:null,pushPermission:t}}{const{pushType:e}=await d.a.post(r).then((e=>e.data.data));return{pushType:e,pushPermission:t}}},w=async e=>{const t=await O()?x(e):[S];await Promise.all(t.map((e=>e())))},k=async()=>{try{const{pushType:e}=await _();await w(e),await a.a.dispatch("pushNotifications/updatePushType",e)}catch(e){}},C=async()=>{try{const{pushType:e,pushPermission:t}=Object(c.a)();e.value&&"granted"===t.value&&await w(e.value)}catch(e){console.error("Error subscribing to push notifications:",e)}},x=e=>({[v.FORCED]:[j,S],[v.USER]:[j,S]}[e]||[]),O=async()=>(await navigator.serviceWorker.ready).pushManager.getSubscription(),S=async()=>{const e=await navigator.serviceWorker.ready;await A();return(e=>d.a.post(i,e.toJSON()))(await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Object(o.c)(n)}))},j=async()=>{const e=await O();if(e)return e.unsubscribe()},A=async()=>new Promise(((e,t)=>{navigator.permissions.query({name:"notifications"}).then((s=>{let{state:n}=s;return"denied"===n?t(n):"granted"===n?e(n):void Notification.requestPermission().then((s=>{const n="default"===s?"prompt":s;return a.a.dispatch("pushNotifications/updatePushPermission",n),"granted"===n?e(n):t(n)}))}))}))},554:function(e,t,s){"use strict";s.d(t,"a",(function(){return u})),s.d(t,"b",(function(){return d}));var a=s(5),n=s(4),r=s(151);const i=e=>({pushPermission:null==e?void 0:e.pushPermission,pushType:null==e?void 0:e.pushType}),o={updatePushType(e,t){let{commit:s}=e;s("UPDATE_PUSH_TYPE",t)},updatePushPermission(e,t){let{commit:s}=e;s("UPDATE_PUSH_PERMISSION",t)}},l={UPDATE_PUSH_TYPE(e,t){e.pushType=t},UPDATE_PUSH_PERMISSION(e,t){e.pushPermission=t}};var c=s(552);const u=()=>{const e=Object(a.computed)((()=>{var e;return null===(e=n.a.state.pushNotifications)||void 0===e?void 0:e.pushPermission})),t=Object(a.computed)((()=>{var e;return null===(e=n.a.state.pushNotifications)||void 0===e?void 0:e.pushType})),s=Object(a.computed)((()=>null!==t.value&&!Object(c.c)()&&"prompt"===e.value));return{pushSupported:c.d,pushPermission:e,showPermissionModal:s,setPermissionModalSeen:c.e,pushType:t,manageVisitorPushSubscription:c.b,subscribeVisitorToPush:c.f}},d=Object(r.a)("pushNotifications",(e=>({namespaced:!0,state:i(e),mutations:l,actions:o})))},555:function(e,t,s){},556:function(e,t,s){},557:function(e,t,s){"use strict";var a=s(569),n=s.n(a),r={name:"BaseCarousel",provide(){return{carousel:this}},props:{mode:{type:String,default:"none"},activeSlide:{type:Number,default:null}},data:()=>({width:0,pageWidth:0,offset:0}),computed:{pages(){return Math.ceil(parseFloat(this.width/this.pageWidth).toFixed(2))||0},page(){return this.offset+this.pageWidth>=this.width?this.pages:Math.ceil(Math.round(100*this.offset/this.pageWidth)/100)+1},isNext(){return Math.ceil(this.offset+this.pageWidth)<this.width},isPrev(){return this.offset>0}},watch:{activeSlide(){this.scrollToActivePage()},page(e){this.$emit("activeSlideChanged",e)}},mounted(){this.scrollToActivePage()},methods:{init(e,t,s){this.width=e,this.pageWidth=t,this.scrollUpdate(s)},scrollUpdate(e){this.offset=e},scrollToPage(e){this.$emit("scrollTo",(n()(this.pages,1,e)-1)*this.pageWidth)},next(){this.$emit("next")},prev(){this.$emit("prev")},scrollToActivePage(){this.activeSlide&&setTimeout((()=>{this.scrollToPage(this.activeSlide)}),0)}}},i=s(44),o=Object(i.a)(r,(function(){var e=this;return(0,e._self._c)("div",[e._t("default",null,{page:e.page,pages:e.pages})],2)}),[],!1,null,null,null);t.a=o.exports},558:function(e,t,s){"use strict";var a=s(86),n=s.n(a),r=s(713),i=s.n(r),o=s(561),l=s(24);i.a.polyfill();var c={components:{IntersectionBoundary:o.a},inject:["carousel"],props:{bar:{type:Boolean,default:!1},smoothScroll:{type:Boolean,default:!0},keysControl:{type:Boolean,default:!1},persistentSpacing:{type:Boolean,default:!1}},data:()=>({isPreventScrollDebounce:!1}),computed:{classes(){return{"hide-scrollbar":!this.bar,"carousel--isPrev":this.carousel.isPrev,"carousel--isNext":this.carousel.isNext,"scrollBox-container--space":l.d||this.persistentSpacing}}},async mounted(){await this.$nextTick(),this.init();const e=n()(this.init,100),t=n()(this.scrollUpdate,150),s=()=>{this.isPreventScrollDebounce?this.scrollUpdate():t(),this.isPreventScrollDebounce=!1};this.$el.addEventListener("scroll",s),window.addEventListener("resize",e),this.$once("hook:beforeDestroy",(()=>{this.$el.removeEventListener("scroll",s),window.removeEventListener("resize",e)})),this.carousel.$on("scrollTo",this.scrollTo),this.carousel.$on("next",this.next),this.carousel.$on("prev",this.prev),this.keysControl&&window.addEventListener("keydown",this.handleKeypress)},beforeDestroy(){this.keysControl&&window.removeEventListener("keydown",this.handleKeypress)},async updated(){await this.$nextTick(),this.init()},methods:{init(){this.carousel.init(this.$el.scrollWidth,this.$el.getBoundingClientRect().width,this.$el.scrollLeft)},scrollUpdate(){this.carousel.scrollUpdate(this.$el.scrollLeft)},scrollTo(e){this.$el.scrollTo(Object.assign({left:e},this.smoothScroll?{behavior:"smooth"}:{}))},filledWidth(e,t){let s=0;for(let a of e){const e=a.getBoundingClientRect().width;if(s+e-t>2)break;s+=e}return s},next(){const e=this.carousel.offset+this.carousel.pageWidth,t=this.filledWidth([...this.$el.children],e);this.preventScrollDebounce(),this.scrollTo(t)},prev(){const e=Math.ceil(this.carousel.width-(this.carousel.offset-this.carousel.pageWidth)),t=e<this.carousel.width?this.filledWidth([...this.$el.children].reverse(),e):this.carousel.width;this.preventScrollDebounce(),this.scrollTo(this.carousel.width-t)},preventScrollDebounce(){this.smoothScroll||(this.isPreventScrollDebounce=!0)},handleKeypress(e){const{key:t}=e;"ArrowRight"===t&&this.next(),"ArrowLeft"===t&&this.prev()},isTouchScreen:()=>l.d}},u=s(44),d=Object(u.a)(c,(function(){var e=this,t=e._self._c;return t("IntersectionBoundary",[t("div",{staticClass:"scrollBox-container overflow--avoid-vClip flex flex--grow-1 overflow--scrollX-raw",class:e.classes},[e._t("default")],2)])}),[],!1,null,null,null);t.a=d.exports},559:function(e,t,s){"use strict";var a={components:{CarouselScrollToPage:s(507).h},inject:["carousel"],props:{showArrows:{type:Boolean,default:!0},pagesLength:{type:Number,required:!1}},computed:{pages(){var e;return null!==(e=this.pagesLength)&&void 0!==e?e:this.carousel.pages}}},n=s(44),r=Object(n.a)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex boxAlign-ai--all-c"},[e.showArrows?t("CarouselScrollToPage",{attrs:{variant:"tertiary",mode:"default",size:"s",page:e.carousel.page-1}},[t("BaseIcon",{attrs:{name:"left"}})],1):e._e(),t("ol",{staticClass:"overflow--wrap-off lbox--v-2 boxAlign-jc--all-c width--all-12"},e._l(e.pages,(function(s,a){return t("li",{key:a,staticClass:"clickable size--all-s box--all-i space--h-1 space--v-1",attrs:{title:e.$t("Sidonummer",{replaces:{number:a+1}})}},[t("CarouselScrollToPage",{attrs:{page:s,pages:e.pages},scopedSlots:e._u([{key:"default",fn:function({disabled:e}){return[t("span",{staticClass:"dot",class:e?"bg--color-brandPrimary":"bg--color-greyTint"})]}}],null,!0)})],1)})),0),e.showArrows?t("CarouselScrollToPage",{attrs:{variant:"tertiary",mode:"default",size:"s",page:e.carousel.page+1}},[t("BaseIcon",{attrs:{name:"right"}})],1):e._e()],1)}),[],!1,null,null,null);t.a=r.exports},560:function(e,t,s){"use strict";var a=s(3),n=s(86),r=s.n(n),i=s(584),o=s(551),l=(s(568),s(508));const c=(e,t)=>"function"==typeof t?t(e):"string"==typeof e?e:e?e[t]:null;var u={components:{AutoSuggestListResult:o.a,FormInputLabeled:l.i,FormInputIcon:l.h,FormInputButton:l.g},mixins:[i.a],provide:()=>({$showError:()=>!1}),props:{items:{type:[Array,Function],required:!1},itemValue:{type:[String,Function],default:"value"},itemText:{type:[String,Function],default:"text"},loose:{type:Boolean,default:!1},name:{type:String,default:null},disabled:{type:Boolean,default:!1},clearQuery:{type:Boolean,default:!1},noFilter:{type:Boolean,default:!1},loadSuggestionsOnFocus:{type:Boolean,default:!1},closeOnClear:{type:Boolean,default:!1},placeholder:{type:String,default:null},queryPlaceholder:{type:String,default:null},queryValue:{type:String,default:null},clearable:{type:Boolean,default:!1},manualClean:{type:Boolean,default:!1},inputIcon:{type:String,default:"search"},isIconRight:{type:Boolean,default:!1},listIcon:{type:String,default:null},height:{type:String,default:null},inputClasses:{type:String,default:""},tabindex:{type:Number},keepQueryInSearch:{type:Boolean,default:!1}},data(){return{suggestions:Array.isArray(this.items)?this.items:[],query:null,highlighted:null,loading:!1,isFocused:!1,hideResults:!0}},computed:{iconPosition(){return this.isIconRight?"right":"left"},loadSuggestionsDebounced(){return r()(this.loadSuggestions,500)},isInputMode(){return null!==this.query&&this.isFocused},equalisedSuggestions(){return this.isInputMode?this.suggestions.map(this.equalise):[]},filteredSuggestions(){return this.noFilter?this.equalisedSuggestions:this.equalisedSuggestions.filter((e=>e.text.toLowerCase().includes(this.query.toLowerCase())))},equalisedValue(){return this.selectedValue?this.equalise(this.selectedValue):this.query?this.equalise(this.query):{value:"",text:""}},inputModel:{get(){return this.isInputMode?this.query:this.equalisedValue.text},set(e){this.manualClean&&0===e.length&&this.clear(),this.query=e}},showResults(){return this.filteredSuggestions.length&&!this.hideResults},isShowSpinner(){return this.isInputMode&&this.loading||"spinner"===this.inputIcon},searchResultsPageQuery:()=>new URL(document.location).searchParams.get("q")},watch:{showResults(e){this.$emit("show-results",e)},filteredSuggestions(){this.highlighted=null},async query(e){(this.query&&!Array.isArray(this.items)||!this.closeOnClear)&&this.loadSuggestionsDebounced(e)},items(){this.suggestions=Array.isArray(this.items)?this.items:[]}},created(){this.query=this.queryValue||this.searchResultsPageQuery},methods:{equalise(e){return{value:c(e,this.itemValue),text:c(e,this.itemText),original:e}},onBlur(){this.$emit("blur")},onFocus(e){this.$refs.suggestions.addEventListener("touchstart",(()=>e.target.blur()),{passive:!0}),this.loadSuggestionsOnFocus&&this.loadSuggestions(this.query),this.$emit("focus"),this.startInput(),this.hideResults=!1,this.isFocused=!0},startInput(){this.query=this.clearQuery?"":this.equalisedValue.text},endInput(e){this.hideSuggestions(),e.target.blur()},hideSuggestions(e){this.$refs.suggestions.removeEventListener("touchstart",(()=>e.target.blur())),this.hideResults=!0,this.isFocused=!1},clear(){this.query="",this.selectedValue=null,this.closeOnClear&&this.$emit("close-search")},highlight(e){this.highlighted=e},moveHighlight(e){const t=null===this.highlighted?-1:this.filteredSuggestions.indexOf(this.highlighted);if(-1===e&&null===this.highlighted)return;const s=Math.max(0,Math.min(this.filteredSuggestions.length-1,t+e));this.highlight(this.filteredSuggestions[s]),this.scrollToFocus()},isIncluded(e){return this.filteredSuggestions.some((t=>t.value===e.value))},select(e,t){if(!this.loose&&!this.isIncluded(t))return;this.selectedValue=t?t.original:null;const s=this.$refs.suggestions.querySelector("a"),a=this.$refs.suggestions.querySelector("a.autoSuggest-suggestion--selected");if(this.keepQueryInSearch)return this.query=t.original.name,this.hideResults=!0,void this.$refs.input.blur();s||(this.query=null,this.$refs.input.blur()),a&&e instanceof KeyboardEvent&&(e.preventDefault(),a.click())},scrollToFocus(){a.a.scrollTo(this.$refs.suggestions.querySelector(".autoSuggest-suggestion--selected"),this.$refs.suggestions)},async loadSuggestions(e){this.loading=!0;try{this.suggestions=await this.items(e)||[]}catch(e){if(e instanceof Error)throw e}finally{this.loading=!1}}}},d=s(44),p=Object(d.a)(u,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideSuggestions,expression:"hideSuggestions"}],ref:"autoSuggest",staticClass:"autoSuggest dropdown"},[t("FormInputLabeled",{directives:[{name:"track",rawName:"v-track:input.focus",arg:"input",modifiers:{focus:!0}}],ref:"input",attrs:{placeholder:e.isInputMode&&e.queryPlaceholder||e.placeholder,disabled:e.disabled,name:e.name,tabindex:e.tabindex,autocomplete:"off",spellcheck:"false","input-class":`${e.inputClasses} `},on:{keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.select(t,e.highlighted||e.equalise(e.query))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.moveHighlight(1)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.moveHighlight(-1)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.endInput.apply(null,arguments)}],focus:e.onFocus,blur:e.onBlur},scopedSlots:e._u(["left"===e.iconPosition?{key:"prependIcon",fn:function(){return[t("FormInputIcon",{attrs:{name:e.inputIcon,spinner:e.isShowSpinner}})]},proxy:!0}:null,"right"===e.iconPosition?{key:"appendIcon",fn:function(){return[t("FormInputIcon",{attrs:{name:e.inputIcon,spinner:e.isShowSpinner}})]},proxy:!0}:null,{key:"appendButton",fn:function(){return[e.clearable&&e.inputModel&&!e.disabled?t("FormInputButton",{staticClass:"search-clear-button",on:{click:e.clear}}):e._e()]},proxy:!0}],null,!0),model:{value:e.inputModel,callback:function(t){e.inputModel=t},expression:"inputModel"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showResults,expression:"showResults"},{name:"track",rawName:"v-track:autoSuggest",arg:"autoSuggest"}],ref:"suggestions",staticClass:"dropdown-content autoSuggest-suggestionsBox--withShadow autoSuggest-suggestionsBox--open boxSec width--all-12 aGrid-item zIndex--popover",style:{"max-height":e.height}},[e._t("suggestions",(function(){return[t("AutoSuggestListResult",{attrs:{suggestions:e.filteredSuggestions,highlighted:e.highlighted,icon:e.listIcon,modifier:"lBox--v-0 space--v-3 space--h-3"},on:{highlight:e.highlight,select:e.select}})]}),{suggestions:e.filteredSuggestions,highlighted:e.highlighted,icon:e.listIcon,highlight:e.highlight,select:e.select})],2)],1)}),[],!1,null,null,null);t.a=p.exports},561:function(e,t,s){"use strict";var a=s(539),n=s.n(a),r=s(570),i={name:"IntersectionBoundary",provide(){return{intersectionBoundaryKey:this.boundaryName}},props:{viewport:{type:Boolean,default:!1},name:{type:[String,null],default:null},rootMargin:{type:String,default:"0px"},threshold:{type:[Number,Array],default:0}},created(){this.boundaryName=this.name||n()("boundary"),this.observer=null,this.deferredTargetRegistrations=[],r.a.add(this.boundaryName,{register:this.register,remove:this.remove})},destroyed(){r.a.remove(this.boundaryName)},mounted(){const e={root:this.viewport?null:this.$slots.default[0].elm,rootMargin:this.rootMargin,threshold:this.threshold};this.observer=new IntersectionObserver((e=>{e.forEach((e=>{e.target.__observer[e.isIntersecting?"on":"off"]()}))}),e),this.deferredTargetRegistrations.forEach((e=>e()))},methods:{register(e){const t=this.cmpntElm(e);t.__observer={on:e.on,off:e.off},this.registerTarget((()=>this.observer.observe(t)))},registerTarget(e){return this.observer?e():this.deferredTargetRegistrations.push(e)},remove(e){this.observer.unobserve(this.cmpntElm(e))},cmpntElm:e=>e.$slots.default[0].elm},render(){return this.$slots.default?this.$slots.default[0]:null}},o=s(44),l=Object(o.a)(i,undefined,undefined,!1,null,null,null);t.a=l.exports},567:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var a=s(55);function n(){Object(a.b)("event","page_view")}},568:function(e,t,s){"use strict";var a=s(5),n=s(16);a.default.directive("click-outside",{bind(e,t,s){const a=s.context,{handler:r,isActive:i}=function(e){const t="function"==typeof e;if(!t&&"object"!=typeof e)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:t?e:e.handler,isActive:!(!1===e.isActive)}}(t.value);i&&(e.clickOutsideEvent=function(t){Object(n.b)(e,t.target)&&r.call(a,t)},document.body.addEventListener("mousedown",e.clickOutsideEvent))},unbind(e){document.body.removeEventListener("mousedown",e.clickOutsideEvent)}})},570:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));const a={data:{},add(e,t){this.data[e]||(this.data[e]=Object.assign({},t,{connections:0})),this.data[e].connections++},remove(e){this.data[e].connections--,0===this.data[e].connections&&delete this.data[e]},get(e){return this.data[e]}},n=Object.assign({},a)},571:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));s(17);const a=(e,t)=>({name:"merchants.show",params:{merchantUrlName:e.merchantUrlName}})},575:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var a=s(5);const n=function(){let{eventListenerOptions:e={passive:!0},element:t=document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=Date.now(),n=0;const r=Object(a.ref)(0),i=Object(a.ref)("down"),o=Object(a.ref)(0);return((e,t,s,n)=>{Object(a.onMounted)((()=>e.addEventListener(t,s,n))),Object(a.onBeforeUnmount)((()=>e.removeEventListener(t,s,n)))})(t,"scroll",(function(){const e=Date.now(),a=e-s;o.value=(t===document?document.documentElement:t).scrollTop;const l=o.value-n;r.value=1e3*Math.abs(l/a),i.value=o.value>n?"down":"up",n=o.value,s=e}),e),{speed:r,top:o,direction:i}}},584:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));const a={model:{event:"update"},props:["value"],computed:{selectedValue:{get(){return this.value},set(e){this.$emit("update",e)}}}}},586:function(e,t,s){"use strict";var a=s(675),n=s.n(a);const r={default:()=>s.e(203).then(s.bind(null,1268)),soft:()=>s.e(208).then(s.bind(null,1269)),admin:()=>s.e(202).then(s.bind(null,1267))};var i={components:r,inheritAttrs:!1,model:{event:"update"},props:{value:{type:Array,default:()=>[]},target:{type:String,default:""}},computed:{groupedNotifications(){return n()(this.notifications,(e=>e.context||"default"))},notificatonsByContext(){return e=this.groupedNotifications,Object.keys(e).map((t=>({context:t,messages:e[t]})));var e},notifications:{get(){return this.value},set(e){this.$emit("update",e)}}},methods:{contextComponent:e=>(e=e.replace(":",""))in r?e:"default",updateNotifications(e,t){var s;this.groupedNotifications[e]=t,this.notifications=(s=this.groupedNotifications,[].concat(...Object.values(s)))}}},o=s(44),l={components:{NotificationMessages:Object(o.a)(i,(function(){var e=this,t=e._self._c;return t("div",e._l(e.notificatonsByContext,(function(s){return t(e.contextComponent(s.context),{key:s.context,tag:"Component",attrs:{messages:s.messages},on:{"update-messages":function(t){return e.updateNotifications(s.context,t)}}})})),1)}),[],!1,null,null,null).exports},computed:{notifications:{get(){return this.$store.state.pageMsgs.messages},set(e){return this.$store.dispatch("pageMsgs/set",e)}}}},c=Object(o.a)(l,(function(){var e=this;return(0,e._self._c)("NotificationMessages",{model:{value:e.notifications,callback:function(t){e.notifications=t},expression:"notifications"}})}),[],!1,null,null,null);t.a=c.exports},594:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var a=s(6),n=s(1);function r(){return Object(a.c)({queries:[n.p],merge:!0})({}).then((e=>e.request)).then((e=>e.features.cookiePolicy))}},595:function(e,t,s){"use strict";s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return o}));var a=s(6),n=s(1);const r=Object(a.c)({queries:[n.P],merge:!0}),i=()=>r({}).then((e=>e.request)).then((e=>e.latestSiteMessage));function o(e){return Object(a.a)({req:n.ac,params:{siteMessageId:e}}).then((()=>null))}},597:function(e,t,s){"use strict";var a=s(103),n={inheritAttrs:!1,props:{guard:{type:Object,default:null}},computed:{showLink(){return!this.guard||this.$store.getters["auth/loggedIn"]}},methods:{prompt(){Object(a.b)(this.guard).catch((()=>null))}}},r=s(44),i=Object(r.a)(n,(function(){var e=this,t=e._self._c;return e.showLink?t("RouterLink",e._g(e._b({},"RouterLink",e.$attrs,!1),e.$listeners),[e._t("default")],2):t("button",{attrs:{type:"button"},on:{click:e.prompt}},[e._t("default")],2)}),[],!1,null,null,null);t.a=i.exports},598:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var a=s(512);const n=()=>({isMagazineEnabled:false,magazineUrl:Object(a.b)().resolve({name:"magazine"}).href})},599:function(e,t,s){"use strict";s.d(t,"c",(function(){return r})),s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return l})),s.d(t,"e",(function(){return u})),s.d(t,"d",(function(){return p})),s.d(t,"f",(function(){return v}));var a=s(5),n=s(14);const r="enabled",i="disabled",o="enabling",l="disabling",c="letItSnow-layer--visible",u=Object(a.ref)(i),d="snow",p=()=>{if(u.value===r)return;const e=new n.a(d),{value:t}=e.get();u.value=null!=t?t:i,u.value===r&&m(o)},h=e=>{if(![i,r].includes(e))return;u.value=e;new n.a(d).set({value:u.value})},m=async e=>{const{default:t}=await s.e(170).then(s.bind(null,705));if(u.value=e,e===o)return t.setSnowImage("/assets/img/seasonal/snowflake-blur_e25bb.png"),t.letItSnow("letItSnow-layer"),t.container.classList.add(c),void h(r);t.container.classList.remove(c),setTimeout((()=>{t.stopTheSnow(),h(i)}),3e3)},v=()=>{u.value===r&&m(l),u.value===i&&m(o)}},600:function(e,t,s){"use strict";s.d(t,"a",(function(){return u})),s.d(t,"b",(function(){return d}));var a=s(49),n=s(21);const{enabled:r,library:i,endpoint:o,platformId:l}={enabled:!0,platformId:"9a4e68aa2f664528a1494fef86981382",endpoint:"https://mega.pepperdeals.se/megatron-mgt/h",library:"https://mega.pepperdeals.se/megatron.js"};let c=null;function u(){d(),Object(n.h)(d)}function d(){var e;!function(){if(!p())return;e=window,t=document,s="script",n=i,r="mt",u=o,e.megatronObj={name:r},e[r]=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];(e[r].q=e[r].q||[]).push(s)},e[r].d=u,d=t.createElement(s),h=t.getElementsByTagName(s)[0],d.async=!0,d.src=n,h.parentNode.insertBefore(d,h),c=e[r],c("set","platformID",l),c("set","businessModel","Communities"),c("set","isCookieEnabled",!1),c("set","customerHash",Object(a.c)());var e,t,s,n,r,u,d,h}(),null===(e=c)||void 0===e||e("send","pageview")}const p=()=>r&&!c&&Object(a.a)()&&Object(a.c)()},602:function(e,t,s){"use strict";var a={components:{AutoSuggestListResult:s(551).a},props:{showDivider:{type:Boolean,required:!1},getGroup:{type:Function,required:!0},getTitle:{type:Function,required:!0},suggestions:{type:Array,required:!0},highlighted:{type:Object,default:null},highlight:{type:Function,required:!0},select:{type:Function,required:!0}},computed:{groups(){return this.suggestions.reduce(((e,t)=>{const s=this.getGroup(t);return s in e?e[s].suggestions.push(t):e[s]={suggestions:[t],title:this.getTitle(s)},e}),{})}},methods:{checkIsDividerShown(e){return void 0!==this.showDivider?this.showDivider:0!==e}}},n=s(44),r=Object(n.a)(a,(function(){var e=this,t=e._self._c;return t("div",e._l(e.groups,(function(s,a,n){return t("div",{key:a,staticClass:"size--all-s",class:{"boxSec-div":e.checkIsDividerShown(n)}},[t("div",{staticClass:"flex width--all-12"},[s.title?t("h3",{staticClass:"space--t-3 space--b-2 space--l-3 text--color-charcoalTint text--b"},[e._t("search-results-group-title",(function(){return[e._v(" "+e._s(s.title)+" ")]}))],2):e._e(),t("span",{staticClass:"space--t-3 space--b-2 space--l-2 space--r-3 space--ml-a text--color-brandPrimary text--b hide--empty"},[e._t("search-results-group-see-more-btn",null,{groupKey:a})],2)]),t("AutoSuggestListResult",{attrs:{suggestions:s.suggestions,highlighted:e.highlighted},on:{highlight:e.highlight,select:e.select},scopedSlots:e._u([{key:"default",fn:function({suggestion:s,isHighlighted:n}){return[e._t("default",(function(){return[t("div",{staticClass:"autoSuggest-suggestion space--v-2 space--h-3 clickable text--b",class:{"autoSuggest-suggestion--selected":n}},[t("span",{staticClass:"lbox--v-2"},["query"===a?t("BaseIcon",{staticClass:"space--mr-1",attrs:{name:"search"}}):e._e(),e._v(" "+e._s(s.text)+" ")],1)])]}),{suggestion:s,isHighlighted:n,type:"groupKey"})]}}],null,!0)})],1)})),0)}),[],!1,null,null,null);t.a=r.exports},604:function(e,t,s){"use strict";s(555)},605:function(e,t,s){"use strict";s(556)},94:function(e,t,s){"use strict";s.d(t,"d",(function(){return o})),s.d(t,"a",(function(){return c})),s.d(t,"c",(function(){return u})),s.d(t,"b",(function(){return d}));var a=s(5),n=s(95),r=s(14);const i=new r.a("searchHistory"),o=Object(a.ref)(i.get().value||[]),l=e=>{i.set({value:e})},c=()=>{o.value=[],i.del()},u=e=>{const t=[...o.value],s=(e=>Object.assign({},e,{id:JSON.stringify(e.route).toLowerCase()}))(e),a=t.findIndex((e=>{let{id:t}=e;return t===s.id}));a>=0?l(Object(n.a)(t,a)):(t.unshift(s),l(Object(n.b)(t,5)))},d=e=>{const t="string"==typeof e?e:e.id,s=o.value,a=s.findIndex((e=>e.id===t));var r;a<0||(r=Object(n.b)(s,a),o.value=r,l(r))}},95:function(e,t,s){"use strict";s.d(t,"c",(function(){return a})),s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return r}));const a=e=>{const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),s=window.atob(t),a=new Uint8Array(s.length);for(let e=0;e<s.length;e+=1)a[e]=s.charCodeAt(e);return a},n=(e,t)=>{if(t<0||t>=e.length)return e;const s=[...e];return s.unshift(...s.splice(t,1)),s},r=(e,t)=>(t<0||t>=e.length||e.splice(t,1),e)},997:function(e,t,s){"use strict";(function(e){var a=s(5),n=s(71),r=s(1116),i=s(506);t.a={__name:"add-extension-btn",setup(t){const s=Object(n.c)(),{browserName:o,extensionUrl:l,browserLabelName:c,isBrowserSupported:u}=Object(r.a)(),d=Object(a.computed)((()=>u&&s.mdAndUp?{label:e("Lägg till i :browser",{replaces:{browser:c}}),icon:o}:{label:"Visa i Chrome Web Store",icon:"external"}));return{__sfc:!0,breakpoint:s,browserName:o,extensionUrl:l,browserLabelName:c,isBrowserSupported:u,config:d,BaseButton:i.a}}}}).call(this,s(70).translation)},998:function(e,t,s){"use strict";(function(e){var a=s(506),n=s(1116);t.a={__name:"leave-feedback",setup(t){const{browserLabelName:s,extensionUrl:r,isBrowserSupported:i}=Object(n.a)();return{__sfc:!0,browserLabelName:s,extensionUrl:r,isBrowserSupported:i,discussionUrlParams:undefined,rateBtnLabel:e("Betygsätt oss på :browser extension store",{replaces:{browser:s}}),BaseButton:a.a}}}}).call(this,s(70).translation)}}]);