"use strict";(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[2960],{52960:(e,t,a)=>{a.r(t),a.d(t,{default:()=>L});var o,r,n,c,i,s=a(3e4),l=a(41185),p=a(66062),d=(a(91938),a(76955)),m=a(66948),u=a(97175),h=a(55752),b=a.n(h),f=a(29466),g=a.n(f),y=a(81454),v=a(73614),I=a(79751),w=a(90926),T=a(16884),Z=a(75457),P=a(13497),k=a(70317);unction O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=parseInt(e,10);return!t||t<1?1:t}function E(){return(E=(0,p.Z)((function*(e){var{dispatch:t,getState:a,match:o}=e,{params:r}=o,n=r.amebaId,c=yield t((0,v.Rs)(n));if(!c||!c.error){var i=a().bloggerState,s=i.bloggerMap,l=i.blogMap[(s[n]||{}).blog];if(l&&l.blog_id){var p=O(r.page);yield Promise.all([t((0,y.OQ)(l.blog_id,p,20)),t((0,w.wn)())]),(0,k.jl)(a())&&(yield t((0,w.h$)())),yield t((0,I.fU)(n))}}}))).apply(this,arguments)}var L=(0,m.$j)((function(e,t){var{match:a}=t,{params:o}=a,r=o.amebaId,n=e.bloggerState.bloggerMap[r]||{},c=n.attribute||{},i=c.isOfficial,s=c.isTieup,p=!0,d=e.entryState,m=O(o.page),u=d.blogPageMap["".concat(n.blog,"/").concat(m)]||{};if(u){var h=u.data;if(h){var f=d.entryMap;p=h.map(().length>0}}var g=(0,k.jl)(e),y=b()(e.userState,["userAttribute","isLoaded"])||!1,v=e.userState.sessionUser.amebaId||"",{followMap:I,followActionMap:w}=e.followState,T={amebaId:r},I[r]||{});return{amebaId:r,followActionStatus:w.target||{},followButtonStatus:T,hasEntry:p,isFollowingUpperLimit:w.isUpperLimit||!1,isMember:g,isOfficial:i,isTieup:s,isUserAttributeLoaded:y,sessionAmebaId:v}}),{executeFollowRequest:I.Tf,executeUnfollowRequest:I.e0})(o=(0,u.provideHooks)({done:)((n=r=class extends d.Component{houldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.executeFollowRequest!==e.executeFollowRequest||this.props.executeUnfollowRequest!==e.executeUnfollowRequest||this.props.hasEntry!==e.hasEntry||this.props.isFollowingUpperLimit!==e.isFollowingUpperLimit||this.props.isMember!==e.isMember||this.props.isOfficial!==e.isOfficial||this.props.isTieup!==e.isTieup||this.props.isUserAttributeLoaded!==e.isUserAttributeLoaded||this.props.position!==e.position||this.props.sessionAmebaId!==e.sessionAmebaId||!g()(this.props.followActionStatus,e.followActionStatus)||!g()(this.props.followButtonStatus,e.followButtonStatus)}handleClick(e){var{followActionStatus:t,followButtonStatus:a,isMember:o,isUserAttributeLoaded:r,sessionAmebaId:n}=this.props,c=P.$A;if(r&&o&&(!o||n)&&a.amebaId!==n&&!(a.hasErrors||a.amebaId===t.amebaId&&t.hasErrors||a.loading))if(a.amebaId===t.amebaId&&t.loading)e.preventDefault();else{if(a.isFollowing)return e.preventDefault(),void this.props.executeUnfollowRequest(a.amebaId,c);e.preventDefault(),this.props.executeFollowRequest(a.amebaId,c)}}render(){if(!this.props.hasEntry)return null;var e="top"===this.props.position?!this.props.isTieup:!this.props.isOfficial;return(0,s.Z)("div",{className:"readerMainLink"},void 0,e&&(0,s.Z)("p",{className:"imagelistLink"},void 0,(0,s.Z)("a",{href:(0,T.Z)(Z.Z.ImageList,{amebaId:this.props.amebaId})},void 0,c||(c=(0,s.Z)("span",{},void 0,"\u30d6\u30ed\u30b0\u753b\u50cf\u4e00\u89a7\u3092\u898b\u308b")))),(0,s.Z)("p",{className:"readerLink"},void 0,(0,s.Z)("a",{href:"".concat(window.process.env.HTTP_PATH_BLOG_AMEBA,"/reader.do?bnm=").concat(this.props.amebaId),onClick:this.handleClick},void 0,i||(i=(0,s.Z)("span",{},void 0,"\u3053\u306e\u30d6\u30ed\u30b0\u3092\u30d5\u30a9\u30ed\u30fc\u3059\u308b")))))}},r.displayName="PcNavigationBarOld",o=n))||o)||o},16884:(e,t,a)=>{a.d(t,{Z:);var o=a(75457),r=e=>{var{amebaId:t,entryId:a,vnm:o}=e;return t&&a?"/".concat(t,"/video-").concat(a,".html").concat(o?"?vnm=".concat(o):""):""};function n(e,t){var{amebaId:a,entryId:n,themeId:c,entryYm:i,imageId:s,vnm:l,day:p,page:d=1}=t,m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.process.env.HTTP_PATH_AMEBLO;if(!a||!e)return"";var u="".concat(m,"/").concat(a),h="";switch(e){case o.Z.BlogTop:return h=d>1?"page-".concat(d,".html"):"","".concat(u,"/").concat(h);case o.Z.EntryList:return h=d>1?"-".concat(d):"","".concat(u,"/entrylist").concat(h,".html");case o.Z.AmemberEntryList:return h=d>1?"-".concat(d):"","".concat(u,"/amemberentrylist").concat(h,".html");case o.Z.ArchiveTop:return"".concat(u,"/archivetop.html");case o.Z.Archive:if(i)return h=d>1?"".concat(d):"","".concat(u,"/archive").concat(h,"-").concat(i,".html");console.error("PageType.Archive: entryYm is undefined.");break;case o.Z.Day:if(p)return h=d>1?"".concat(d):"","".concat(u,"/day").concat(h,"-").concat(p,".html");console.error("PageType.Day: day is undefined.");break;case o.Z.ThemeTop:return"".concat(u,"/themetop.html");case o.Z.Theme:if(c)return h=d>1?"".concat(d):"","".concat(u,"/theme").concat(h,"-").concat(c,".html");console.error("PageType.Theme: themeId is undefined.");break;case o.Z.PopularRecentList:return h=d>1?"-".concat(d):"","".concat(u,"/popularrecentlist").concat(h,".html");case o.Z.Entry:if(n)return h=d>1?"".concat(d):"","".concat(u,"/entry").concat(h,"-").concat(n,".html");console.error("PageType.Entry: entryId is undefined.");break;case o.Z.ImageList:return h=d>1?"-".concat(d):"",i?"".concat(u,"/imagelist-").concat(i).concat(h,".html"):"".concat(u,"/imagelist.html");case o.Z.Image:if(n&&s)return"".concat(u,"/image-").concat(n,"-").concat(s,".html");console.error("PageType.Image: entryId or imageId is undefined.");break;case o.Z.VideoList:return h=d>1?"-".concat(d):"","".concat(u,"/videolist").concat(h,".html");case o.Z.Video:if(n)return"".concat(m).concat(r({amebaId:a,entryId:n,vnm:l}));console.error("PageType.Video: entryId is undefined.");break;case o.Z.IineEntry:if(n)return"".concat(u,"/iine_entry-").concat(n,".html");console.error("PageType.IineEntry: entryId is undefined.");break;case o.Z.Comment:if(h=d>1?"page-".concat(d,".html"):"",n)return"".concat(u,"/comment-").concat(n,"/").concat(h);console.error("PageType.Comment: entryId is undefined.");break;case o.Z.Reblog:if(h=d>1?"page-".concat(d,".html"):"",n)return"".concat(u,"/reblog-").concat(n,"/").concat(h);console.error("PageType.Reblog: entryId is undefined.");break;case o.Z.MessageBoard:return"".concat(u,"/message-board.html");case o.Z.Reader:return h=d>1?"-".concat(d):"","".concat(u,"/reader").concat(h,".html");case o.Z.Favorite:return h=d>1?"-".concat(d):"","".concat(u,"/favorite").concat(h,".html");case o.Z.Bookmark:return h=d>1?"-".concat(d):"","".concat(u,"/bookmark").concat(h,".html");case o.Z.AmemberEntry:if(n)return"".concat(window.process.env.HTTP_PATH_AMEBLO,"/").concat(a,"/amemberentry-").concat(n,".html");console.error("PageType.AmemberEntry: entryId is undefined.");break;case o.Z.ImageEmbed:if(n&&s)return"".concat(window.process.env.HTTP_PATH_EMBED,"/p/embed/").concat(a,"/image-").concat(n,"-").concat(s,".html");console.error("PageType.ImageEmbed: entryId or imageId is undefined.");break;case o.Z.SkinPreview:return"";default:console.error("PageType is not match.")}return""}}}]);